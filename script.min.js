const _0x361958=_0x3ec8;(function(_0x1b29a9,_0x3c0dd1){const _0x26c2f3=_0x3ec8,_0x58671a=_0x1b29a9();while(!![]){try{const _0x57eb13=parseInt(_0x26c2f3(0x435))/0x1*(parseInt(_0x26c2f3(0x1d4))/0x2)+parseInt(_0x26c2f3(0xc02))/0x3*(-parseInt(_0x26c2f3(0x7de))/0x4)+parseInt(_0x26c2f3(0x1a8))/0x5*(-parseInt(_0x26c2f3(0x29b))/0x6)+parseInt(_0x26c2f3(0x544))/0x7+parseInt(_0x26c2f3(0xb0e))/0x8+-parseInt(_0x26c2f3(0x3a5))/0x9+parseInt(_0x26c2f3(0x6e6))/0xa*(-parseInt(_0x26c2f3(0x665))/0xb);if(_0x57eb13===_0x3c0dd1)break;else _0x58671a['push'](_0x58671a['shift']());}catch(_0x57c175){_0x58671a['push'](_0x58671a['shift']());}}}(_0x5099,0xd4142));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x361958(0x73f),'บักแตงโม','เทพทรู','เหมียวขี้เซา',_0x361958(0x884),_0x361958(0x935),_0x361958(0x96f),_0x361958(0x63f),_0x361958(0x437),'จิงโจ้สโลว์ไลฟ์',_0x361958(0x952),_0x361958(0x2e5),_0x361958(0x3c2),_0x361958(0x882),_0x361958(0xc3f),_0x361958(0x60e),_0x361958(0x3be),_0x361958(0x48f),_0x361958(0xbc1),'มังกรกินจุ',_0x361958(0x1cd),_0x361958(0xad3),_0x361958(0xa59),_0x361958(0xb59),'กุ้งเต้นแร้งกา',_0x361958(0x519),_0x361958(0xb27),_0x361958(0xb7f),_0x361958(0x772),'หนอนหนังสือ',_0x361958(0x73d),_0x361958(0x5e2),'คนดีศรีสยาม',_0x361958(0xc99),_0x361958(0xbe1),_0x361958(0xb4d),_0x361958(0x61b),_0x361958(0xcd3),_0x361958(0xa9a),'ดาวสภา','กาแฟขม',_0x361958(0x904),'ส้มตำปูปลาร้า','พิซซ่าหน้าทุเรียน',_0x361958(0xa91),_0x361958(0x6eb),'หมูกระทะจะเยียวยาทุกสิ่ง',_0x361958(0x68d),'ชีสเค้ก',_0x361958(0xd4),_0x361958(0x6d5),_0x361958(0x93a),_0x361958(0x596),_0x361958(0x9fa),_0x361958(0x5e9),_0x361958(0x65f),_0x361958(0xce3),_0x361958(0xa7a),_0x361958(0xa8f),'กองดอง',_0x361958(0x87e),_0x361958(0x169),_0x361958(0x88a),_0x361958(0x348),'ดวงดาว','ท้องฟ้า',_0x361958(0x79c),_0x361958(0x34d),_0x361958(0x361),_0x361958(0x6e0),_0x361958(0xa64),_0x361958(0x28b),_0x361958(0x592),_0x361958(0xbcf),'นักดนตรี','นักเขียน',_0x361958(0x2c5),'นักประดิษฐ์',_0x361958(0xd05),_0x361958(0x681),'พลังคลื่นเต่า',_0x361958(0x188),_0x361958(0x22f),'ตัวแทนแห่งดวงจันทร์','ดาบพิฆาตอสูร',_0x361958(0x667),_0x361958(0x963),_0x361958(0x762),_0x361958(0x857),'ฮัลค์',_0x361958(0xf3),_0x361958(0x7ce),'แอบชอบ',_0x361958(0x898),_0x361958(0xc1d),_0x361958(0x631),_0x361958(0xc6d),_0x361958(0x1f5),_0x361958(0xcb4),_0x361958(0x232)];let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x361958(0x32d),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x361958(0x32d),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId='all',fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x247cbc=_0x361958;if(_0x247cbc(0x4ee)in navigator)try{wakeLock=await navigator[_0x247cbc(0x4ee)][_0x247cbc(0x639)](_0x247cbc(0x62d)),console[_0x247cbc(0xb07)](_0x247cbc(0x216)),wakeLock['addEventListener']('release',()=>{const _0x2ce4a3=_0x247cbc;console[_0x2ce4a3(0xb07)](_0x2ce4a3(0x6a0));});}catch(_0x486285){console[_0x247cbc(0x51e)](_0x247cbc(0xc89)+_0x486285['name']+',\x20'+_0x486285[_0x247cbc(0x931)]);}else console[_0x247cbc(0x4e8)](_0x247cbc(0xb8c));},releaseWakeLock=async()=>{const _0x44b421=_0x361958;wakeLock!==null&&(await wakeLock[_0x44b421(0x7ca)](),wakeLock=null,console['log']('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x43c19a=_0x361958;if(!document[_0x43c19a(0x266)][_0x43c19a(0x67e)][_0x43c19a(0x322)](_0x43c19a(0x461))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x1d42b0=_0x43c19a;document[_0x1d42b0(0x266)][_0x1d42b0(0x67e)]['add']('dimmed'),console[_0x1d42b0(0xb07)](_0x1d42b0(0x259));},inactivityTime);}}function wakeUpScreen(_0x440b92){const _0x12be5c=_0x361958;_0x440b92&&(_0x440b92[_0x12be5c(0x5c0)](),_0x440b92[_0x12be5c(0x27f)]());document['body'][_0x12be5c(0x67e)][_0x12be5c(0x3e9)](_0x12be5c(0x461));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x394dfe=_0x12be5c;document[_0x394dfe(0x266)]['classList'][_0x394dfe(0x7be)](_0x394dfe(0x461));},inactivityTime);}function stopDimTimer(){const _0x49244=_0x361958;if(dimTimer)clearTimeout(dimTimer);document[_0x49244(0x266)][_0x49244(0x67e)]['remove'](_0x49244(0x461)),window['removeEventListener'](_0x49244(0x8c8),resetDimTimer),window[_0x49244(0xb35)](_0x49244(0x541),resetDimTimer),window[_0x49244(0xb35)]('touchstart',resetDimTimer),window[_0x49244(0xb35)](_0x49244(0xbe5),resetDimTimer),console[_0x49244(0xb07)](_0x49244(0x207));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x2436cc,_0x3d5f46=![]){const _0x56ec94=_0x361958,_0x9bf8cc=allQuizzes[_0x56ec94(0x9f6)](_0x36c921=>_0x36c921['id']===_0x2436cc)||allQuizzesGlobal[_0x56ec94(0x9f6)](_0x3c1986=>_0x3c1986['id']===_0x2436cc);if(!_0x9bf8cc){showMessage(_0x56ec94(0x82c));return;}currentQuizData=getShuffledQuiz(_0x9bf8cc);const _0x366280=Math['floor'](0x3e8+Math[_0x56ec94(0x427)]()*0x2328)[_0x56ec94(0x292)]();try{const _0x20d77f=await addDoc(collection(db,_0x56ec94(0x418)+appId+_0x56ec94(0x1a2)),{'quizId':_0x9bf8cc['id'],'projectId':_0x9bf8cc[_0x56ec94(0x4b4)],'status':_0x56ec94(0x41c),'pin':_0x366280,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3d5f46});currentTeamQuizId=_0x20d77f['id'],showView(_0x56ec94(0xb84)),renderAdminTeamQuizDashboard(_0x366280,_0x9bf8cc[_0x56ec94(0x411)]),listenForTeamQuizUpdates();}catch(_0x37cbed){console[_0x56ec94(0x51e)](_0x56ec94(0x6ee),_0x37cbed),showMessage(_0x56ec94(0x7ec));}}function renderAdminTeamQuizDashboard(_0x8f9a9e,_0x4cd062,_0xf7e5=_0x361958(0x352)){const _0x3e4ca0=_0x361958,_0x2d77b1=_0xf7e5===_0x3e4ca0(0xa85)?'Group\x20Mode':_0x3e4ca0(0x504);liveGameView['innerHTML']=_0x3e4ca0(0x3d2)+_0x2d77b1+':\x20'+_0x4cd062+_0x3e4ca0(0x708)+_0x8f9a9e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x3e4ca0(0x403)](_0x3e4ca0(0x65a))[_0x3e4ca0(0x224)](_0x3e4ca0(0x920),async()=>{const _0x3ed921=_0x3e4ca0;showConfirmation(_0x3ed921(0x71c),async()=>{const _0x34451a=_0x3ed921;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x34451a(0x418)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView(_0x34451a(0x172));});});}function listenForTeamQuizUpdates(){const _0x384732=_0x361958;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x54111b=doc(db,_0x384732(0x418)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x54111b,_0x44a104=>{const _0x2d8aa1=_0x384732;if(!_0x44a104[_0x2d8aa1(0x6f9)]()){sessionStorage[_0x2d8aa1(0x3ef)](_0x2d8aa1(0x831));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x2d8aa1(0x172)):showView(_0x2d8aa1(0x412));return;}const _0x25c27c=_0x44a104[_0x2d8aa1(0xaff)]();if(currentMode===_0x2d8aa1(0x5b5)){if(_0x25c27c[_0x2d8aa1(0xcc5)]===_0x2d8aa1(0xa85)&&_0x25c27c[_0x2d8aa1(0x6b5)]!=='podium'&&_0x25c27c[_0x2d8aa1(0x6b5)]!==_0x2d8aa1(0x4ad)){const _0x55b053=Object[_0x2d8aa1(0x9bd)](_0x25c27c[_0x2d8aa1(0xcd2)]||{});if(_0x55b053[_0x2d8aa1(0x6b7)]>0x0){const _0xb8065=_0x55b053[_0x2d8aa1(0x10b)](_0x20dbfc=>_0x20dbfc[_0x2d8aa1(0x458)]===!![]);_0xb8065&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x25c27c);}else{if(_0x25c27c['status']==='podium'||_0x25c27c[_0x2d8aa1(0x6b5)]===_0x2d8aa1(0x4ad)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x25c27c[_0x2d8aa1(0xcc5)]===_0x2d8aa1(0xa85)){const _0x3b9037=_0x25c27c[_0x2d8aa1(0xcd2)][userId];(!_0x3b9037||!_0x3b9037[_0x2d8aa1(0x458)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x2eabfd){const _0x31eae7=_0x361958;console[_0x31eae7(0xb07)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x573078=doc(db,_0x31eae7(0x418)+appId+_0x31eae7(0x1a2),_0x2eabfd);try{const _0x3de285=await getDoc(_0x573078);if(_0x3de285['exists']()){const _0x16b344=_0x3de285[_0x31eae7(0xaff)]();_0x16b344[_0x31eae7(0xbcd)]&&await saveGameResultsAsSubmissions(_0x16b344);}await updateDoc(_0x573078,{'status':'podium'});}catch(_0x214ad9){console[_0x31eae7(0x51e)](_0x31eae7(0x937),_0x214ad9);}}function updateAdminTeamDashboard(_0x12fa05){const _0x272985=_0x361958,_0x43e2cc=document['getElementById'](_0x272985(0x90a));if(!_0x43e2cc)return;const _0x589178=_0x12fa05['mode']||_0x272985(0x352),_0x3bea18=currentQuizData[_0x272985(0x707)][_0x272985(0x6b7)];if(_0x589178===_0x272985(0xa85)){const _0x55bb0f=Object[_0x272985(0x9bd)](_0x12fa05[_0x272985(0xcd2)]||{});if(_0x55bb0f[_0x272985(0x6b7)]===0x0){_0x43e2cc[_0x272985(0x86f)]=_0x272985(0x8cd);return;}const _0xad2bd3=[..._0x55bb0f][_0x272985(0x2b7)]((_0x5108f8,_0x2a97df)=>_0x2a97df[_0x272985(0xa6e)]-_0x5108f8[_0x272985(0xa6e)]),_0xed2eb6=_0xad2bd3[_0x272985(0x961)]((_0x50c4fd,_0x32da93)=>{const _0x85b64a=_0x272985,_0x440ee7=_0x50c4fd[_0x85b64a(0x379)]?.[_0x85b64a(0x6b7)]||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x32da93+0x1)+_0x85b64a(0xa4c)+_0x50c4fd['members'][_0x85b64a(0xbcc)](',\x20')+_0x85b64a(0x88f)+_0x440ee7+'/'+_0x3bea18+_0x85b64a(0x655)+_0x50c4fd[_0x85b64a(0xa6e)]+_0x85b64a(0x21a);})['join'](''),_0x19add5=currentQuizData[_0x272985(0x707)][_0x272985(0x961)]((_0x10f65f,_0x58c30d)=>{const _0x357c1c=_0x272985;let _0x25ee8e=0x0,_0x4478ce=0x0;_0x55bb0f['forEach'](_0x141276=>{const _0x1b6158=_0x3ec8,_0x52201e=_0x141276[_0x1b6158(0x379)]?.[_0x1b6158(0x9f6)](_0x21ac2e=>_0x21ac2e[_0x1b6158(0x59c)]===_0x58c30d);if(_0x52201e){_0x4478ce++;if(_0x52201e['isCorrect'])_0x25ee8e++;}});const _0x193fef=_0x4478ce>0x0&&_0x4478ce===_0x55bb0f['length'],_0x117c7b=_0x193fef?_0x357c1c(0x23d):'bg-black/10',_0xa48f72=_0x193fef?_0x357c1c(0x27a):'';return _0x357c1c(0x778)+_0x117c7b+_0x357c1c(0x768)+(_0x58c30d+0x1)+':</span><span>'+_0xa48f72+'</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20'+_0x25ee8e+'/'+_0x55bb0f[_0x357c1c(0x6b7)]+'\x20กลุ่ม</p></div>';})[_0x272985(0xbcc)]('');_0x43e2cc[_0x272985(0x86f)]=_0x272985(0xcdb)+_0xed2eb6+_0x272985(0xcc9)+_0x19add5+'</div></div></div>';return;}const _0x16c5cb=_0x12fa05['responses']||{},_0x4bc150=Object['keys'](_0x16c5cb);if(_0x4bc150[_0x272985(0x6b7)]===0x0){_0x43e2cc[_0x272985(0x86f)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0x123a46=_0x4bc150[_0x272985(0x961)](_0x50e3f5=>({'name':_0x50e3f5,'score':_0x16c5cb[_0x50e3f5][_0x272985(0xa6e)]||0x0}))[_0x272985(0x2b7)]((_0x31b768,_0x3cc1f5)=>_0x3cc1f5[_0x272985(0xa6e)]-_0x31b768[_0x272985(0xa6e)]),_0x435cc7=_0x123a46['map'](_0x5e3d17=>{const _0x40a120=_0x272985,_0x176148=_0x16c5cb[_0x5e3d17[_0x40a120(0x2ea)]]?.[_0x40a120(0x379)]?.[_0x40a120(0x6b7)]||0x0,_0x8bdf19=Math[_0x40a120(0x983)](_0x3bea18/_0x4bc150[_0x40a120(0x6b7)]);return _0x40a120(0x8ff)+_0x5e3d17[_0x40a120(0x2ea)]+_0x40a120(0x490)+_0x176148+'/'+_0x8bdf19+_0x40a120(0x298)+_0x5e3d17[_0x40a120(0xa6e)]+_0x40a120(0x5c6);})[_0x272985(0xbcc)](''),_0x54a93a=_0x4bc150['reduce']((_0x29eb71,_0x42b580)=>_0x29eb71+(_0x16c5cb[_0x42b580][_0x272985(0x379)]?.[_0x272985(0x6b7)]||0x0),0x0),_0x1e75c3=currentQuizData[_0x272985(0x707)][_0x272985(0x961)]((_0x4f15b8,_0x45c029)=>{const _0x1b176d=_0x272985;let _0x368fb9=null,_0x57ea92=null;for(const _0x41056a of _0x4bc150){const _0x377521=_0x16c5cb[_0x41056a]['answers']?.[_0x1b176d(0x9f6)](_0x1ec34a=>_0x1ec34a[_0x1b176d(0x59c)]===_0x45c029);if(_0x377521){_0x368fb9=_0x377521,_0x57ea92=_0x41056a;break;}}const _0x23325b=!!_0x368fb9,_0x57a908=_0x23325b&&_0x368fb9[_0x1b176d(0x4dd)],_0x5807a9=(Math[_0x1b176d(0x15f)](_0x45c029/_0x4bc150[_0x1b176d(0x6b7)])+0x1)*_0x4bc150[_0x1b176d(0x6b7)],_0x4a3001=_0x54a93a>=_0x5807a9,_0x13c745=_0x4a3001?_0x1b176d(0x222):'bg-black/10',_0x5364c7=_0x4a3001?_0x1b176d(0x27a):'';let _0x2c8244=_0x1b176d(0x239);return _0x23325b&&(_0x2c8244=_0x57ea92+_0x1b176d(0x84a)+(_0x57a908?_0x1b176d(0x980):_0x1b176d(0x5f7))),_0x1b176d(0x778)+_0x13c745+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x45c029+0x1)+_0x1b176d(0x5e5)+_0x5364c7+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x2c8244+'</p></div>';})[_0x272985(0xbcc)]('');_0x43e2cc['innerHTML']='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x435cc7+_0x272985(0xbc3)+_0x1e75c3+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x3cac3b=_0x361958,_0x484009=prompt(_0x3cac3b(0x44e));if(!_0x484009||_0x484009['trim']()[_0x3cac3b(0x6b7)]!==0x4){showMessage(_0x3cac3b(0xc7a));return;}try{const _0x272a4d=collection(db,_0x3cac3b(0x418)+appId+_0x3cac3b(0x1a2)),_0x5e65dc=query(_0x272a4d,where(_0x3cac3b(0xc59),'==',_0x484009[_0x3cac3b(0x783)]()),where(_0x3cac3b(0x6b5),'==',_0x3cac3b(0x41c))),_0x566651=await getDocs(_0x5e65dc);if(_0x566651[_0x3cac3b(0x459)]){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x48f974=_0x566651[_0x3cac3b(0x5b2)][0x0];currentTeamQuizId=_0x48f974['id'];const _0x34213=_0x48f974[_0x3cac3b(0xaff)](),_0x2e6f22=doc(db,_0x3cac3b(0x418)+appId+_0x3cac3b(0x664),_0x34213[_0x3cac3b(0x4b4)]),_0xa5d826=doc(db,'artifacts/'+appId+_0x3cac3b(0x34c),_0x34213['quizId']),[_0x3e3d9c,_0x522408]=await Promise[_0x3cac3b(0x32d)]([getDoc(_0x2e6f22),getDoc(_0xa5d826)]);if(!_0x3e3d9c[_0x3cac3b(0x6f9)]()||!_0x522408[_0x3cac3b(0x6f9)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x522408['id'],..._0x522408[_0x3cac3b(0xaff)]()});const _0x1d01b7=_0x3e3d9c['data']();showTeamPlayerSelection(_0x1d01b7[_0x3cac3b(0x282)],currentQuizData[_0x3cac3b(0x411)]);}catch(_0x2aec15){console[_0x3cac3b(0x51e)](_0x3cac3b(0xc5a),_0x2aec15),showMessage(_0x3cac3b(0x201)+_0x2aec15['message']);}}async function handleJoinGroupActivity(){const _0x1e8bcb=_0x361958,_0x10e7c8=prompt(_0x1e8bcb(0x769));if(!_0x10e7c8||_0x10e7c8[_0x1e8bcb(0x783)]()[_0x1e8bcb(0x6b7)]!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0x194afe=_0x10e7c8[_0x1e8bcb(0x783)]();showMessage(_0x1e8bcb(0x3fa));try{const _0x4f7980=collection(db,_0x1e8bcb(0x418)+appId+_0x1e8bcb(0x1a2)),_0x40ffb4=query(_0x4f7980,where(_0x1e8bcb(0xc59),'==',_0x194afe),where(_0x1e8bcb(0x6b5),'==',_0x1e8bcb(0x41c))),_0x4fa43a=await getDocs(_0x40ffb4);if(!_0x4fa43a[_0x1e8bcb(0x459)]){console[_0x1e8bcb(0xb07)](_0x1e8bcb(0x4f9)),await proceedWithTeamQuizJoin(_0x4fa43a['docs'][0x0]);return;}const _0x16145b=collection(db,_0x1e8bcb(0x418)+appId+_0x1e8bcb(0x996)),_0x1e80cb=query(_0x16145b,where(_0x1e8bcb(0xc59),'==',_0x194afe),where('status','in',[_0x1e8bcb(0x41c),_0x1e8bcb(0x852),'summary',_0x1e8bcb(0x536)])),_0x4104b1=await getDocs(_0x1e80cb);if(!_0x4104b1[_0x1e8bcb(0x459)]){console[_0x1e8bcb(0xb07)](_0x1e8bcb(0x2f7)),await proceedWithSyncQuizJoin(_0x4104b1[_0x1e8bcb(0x5b2)][0x0]);return;}showMessage(_0x1e8bcb(0xcfa));}catch(_0x482e51){console['error'](_0x1e8bcb(0xa2a),_0x482e51),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x482e51[_0x1e8bcb(0x931)]);}}async function proceedWithTeamQuizJoin(_0x5e7d48){const _0x2bd195=_0x361958;currentTeamQuizId=_0x5e7d48['id'];const _0x215238=_0x5e7d48['data'](),_0x5a9dcf=doc(db,'artifacts/'+appId+_0x2bd195(0x664),_0x215238[_0x2bd195(0x4b4)]),_0x14b982=doc(db,_0x2bd195(0x418)+appId+'/public/data/quizzes',_0x215238['quizId']),[_0x48f5b7,_0x26cdf5]=await Promise[_0x2bd195(0x32d)]([getDoc(_0x5a9dcf),getDoc(_0x14b982)]);if(!_0x48f5b7[_0x2bd195(0x6f9)]()||!_0x26cdf5[_0x2bd195(0x6f9)]())throw new Error(_0x2bd195(0xb94));currentQuizData=getShuffledQuiz({'id':_0x26cdf5['id'],..._0x26cdf5[_0x2bd195(0xaff)]()}),showTeamPlayerSelection(_0x48f5b7[_0x2bd195(0xaff)]()['students'],currentQuizData['topic'],_0x215238[_0x2bd195(0xcc5)]||'team'),messageModal[_0x2bd195(0x67e)][_0x2bd195(0x7be)](_0x2bd195(0x17c));}async function proceedWithSyncQuizJoin(_0x6dbf7c){const _0x472ce1=_0x361958;currentLiveGameId=_0x6dbf7c['id'];const _0x326558=_0x6dbf7c[_0x472ce1(0xaff)](),_0x192737=doc(db,_0x472ce1(0x418)+appId+_0x472ce1(0x34c),_0x326558['quizId']),_0x5bbe99=await getDoc(_0x192737);if(!_0x5bbe99[_0x472ce1(0x6f9)]())throw new Error(_0x472ce1(0x82c));const _0x2bfeb3=_0x5bbe99[_0x472ce1(0xaff)](),_0x29e75f=doc(db,_0x472ce1(0x418)+appId+_0x472ce1(0x664),_0x2bfeb3[_0x472ce1(0x4b4)]),_0x43b882=await getDoc(_0x29e75f);if(!_0x43b882[_0x472ce1(0x6f9)]())throw new Error(_0x472ce1(0x3b8));currentQuizData=_0x326558['shuffledQuiz'],showView('student-team-join'),showTeamPlayerSelection(_0x43b882[_0x472ce1(0xaff)]()['students'],_0x2bfeb3[_0x472ce1(0x411)],_0x472ce1(0x18e));const _0x1d839e=document[_0x472ce1(0x403)]('confirm-team-players-btn'),_0x17f787=_0x1d839e['cloneNode'](!![]);_0x1d839e[_0x472ce1(0xbfa)][_0x472ce1(0xb7e)](_0x17f787,_0x1d839e),_0x17f787[_0x472ce1(0x823)]=confirmAndJoinSyncGame,messageModal[_0x472ce1(0x67e)][_0x472ce1(0x7be)](_0x472ce1(0x17c));}function getCleanApplicationHTML(){const _0x416203=_0x361958,_0x3c737e=document[_0x416203(0x403)]('applicationContent');if(!_0x3c737e)return'';const _0x599e71=_0x3c737e[_0x416203(0x72a)](!![]);return _0x599e71[_0x416203(0x2c6)](_0x416203(0x4d2))[_0x416203(0x384)](_0x2965df=>{const _0xd38aea=_0x416203;_0x2965df[_0xd38aea(0x67e)][_0xd38aea(0x3e9)](_0xd38aea(0xab7),_0xd38aea(0x61d)),_0x2965df[_0xd38aea(0x79a)]=![];}),_0x599e71[_0x416203(0x86f)];}function showTeamPlayerSelection(_0xb7886d,_0x371119,_0xbd9fd8=_0x361958(0x352)){const _0x3aa6b1=_0x361958;studentInitialView[_0x3aa6b1(0x67e)][_0x3aa6b1(0x7be)](_0x3aa6b1(0x17c)),studentJoinGameView[_0x3aa6b1(0x67e)][_0x3aa6b1(0x7be)]('hidden'),document['getElementById'](_0x3aa6b1(0x522))['classList'][_0x3aa6b1(0x3e9)](_0x3aa6b1(0x17c));let _0x19f441=_0x3aa6b1(0x504);if(_0xbd9fd8===_0x3aa6b1(0xa85))_0x19f441=_0x3aa6b1(0x68f);else _0xbd9fd8===_0x3aa6b1(0x18e)&&(_0x19f441=_0x3aa6b1(0xad9));document[_0x3aa6b1(0x403)](_0x3aa6b1(0x7c2))[_0x3aa6b1(0x317)]=_0x19f441+':\x20'+_0x371119;const _0x44cc09=document[_0x3aa6b1(0x403)](_0x3aa6b1(0x911));if(!_0xb7886d||_0xb7886d['length']===0x0){_0x44cc09['innerHTML']='<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>',document[_0x3aa6b1(0x403)]('confirm-team-players-btn')[_0x3aa6b1(0x79a)]=!![];return;}_0x44cc09[_0x3aa6b1(0x86f)]=_0xb7886d[_0x3aa6b1(0x961)](_0x20803c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x20803c+_0x3aa6b1(0x111)+_0x20803c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x3aa6b1(0xbcc)](''),document[_0x3aa6b1(0x403)]('confirm-team-players-btn')[_0x3aa6b1(0x79a)]=![];}async function confirmAndStartTeamQuiz(){const _0x30b88d=_0x361958,_0x56cd30=Array[_0x30b88d(0x70c)](document[_0x30b88d(0x2c6)]('input[name=\x22team_player\x22]:checked'))[_0x30b88d(0x961)](_0x505b53=>_0x505b53[_0x30b88d(0x491)]);if(_0x56cd30[_0x30b88d(0x6b7)]===0x0){showMessage(_0x30b88d(0x8dc));return;}localTeamPlayers=_0x56cd30,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0xe30422=doc(db,_0x30b88d(0x418)+appId+_0x30b88d(0x1a2),currentTeamQuizId);try{const _0x25bab4=await getDoc(_0xe30422);if(!_0x25bab4['exists']())throw new Error(_0x30b88d(0x177));const _0xff9c9a=_0x25bab4[_0x30b88d(0xaff)]();if(_0xff9c9a[_0x30b88d(0xcc5)]===_0x30b88d(0xa85)){const _0x3a6f87={[_0x30b88d(0x8e5)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0xe30422,_0x3a6f87);}else{const _0x19079a=_0xff9c9a[_0x30b88d(0x9ca)]||{};localTeamPlayers[_0x30b88d(0x384)](_0xba7afe=>{!_0x19079a[_0xba7afe]&&(_0x19079a[_0xba7afe]={'score':0x0,'answers':[]});}),await updateDoc(_0xe30422,{'responses':_0x19079a});}document[_0x30b88d(0x403)](_0x30b88d(0x522))[_0x30b88d(0x67e)]['add']('hidden'),renderTeamQuizQuestion();const _0x360a91={'gameId':currentTeamQuizId,'mode':_0xff9c9a[_0x30b88d(0xcc5)]||_0x30b88d(0x352),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x30b88d(0x5f9)](_0x30b88d(0x831),JSON[_0x30b88d(0xa24)](_0x360a91)),listenForTeamQuizUpdates();}catch(_0x58fcd4){console[_0x30b88d(0x51e)]('Error\x20confirming\x20players:',_0x58fcd4),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function renderTeamQuizQuestion(){const _0x38a120=_0x361958;if(localQuestionIndex>=currentQuizData[_0x38a120(0x707)]['length']){displayTeamQuizFinalResults();return;}const _0x53937d=currentQuizData[_0x38a120(0x707)][localQuestionIndex],_0xf73de1=localTeamPlayers[localPlayerIndex],_0x10fb30=_0x53937d[_0x38a120(0x30c)]||currentQuizData[_0x38a120(0x94d)];let _0x3f199a=_0x53937d[_0x38a120(0xb42)]||_0x53937d[_0x38a120(0xf5)],_0x12b1d2='';switch(_0x10fb30){case _0x38a120(0x736):case _0x38a120(0xbb8):_0x12b1d2=_0x53937d[_0x38a120(0x6a5)]['map']((_0x565b8a,_0x4d1621)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x4d1621+_0x38a120(0x876)+_0x4d1621+_0x38a120(0x50d)+_0x4d1621+'\x22>'+_0x565b8a+_0x38a120(0x2c4))[_0x38a120(0xbcc)]('');break;case _0x38a120(0x891):_0x12b1d2=_0x38a120(0xb7c);break;case _0x38a120(0x385):case _0x38a120(0x163):_0x12b1d2=_0x38a120(0xa52);break;case'matching_item':_0x12b1d2=_0x38a120(0x1cf)+_0x53937d[_0x38a120(0xaa2)][_0x38a120(0x961)](_0x357fbb=>_0x38a120(0x7f5)+_0x357fbb+'\x22>'+_0x357fbb+_0x38a120(0x53d))[_0x38a120(0xbcc)]('')+_0x38a120(0xcf2);break;default:_0x12b1d2=_0x38a120(0x24d);break;}studentQuizArea[_0x38a120(0x86f)]=_0x38a120(0x209)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x38a120(0x707)][_0x38a120(0x6b7)]+_0x38a120(0x786)+_0xf73de1+_0x38a120(0x81e)+(localQuestionIndex+0x1)+'.\x20'+_0x3f199a+_0x38a120(0x896)+(_0x53937d[_0x38a120(0x1ef)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x53937d[_0x38a120(0x1ef)]+_0x38a120(0x517):'')+_0x38a120(0x749)+_0x12b1d2+_0x38a120(0xd02),studentQuizArea[_0x38a120(0x67e)][_0x38a120(0x3e9)](_0x38a120(0x17c));if(window[_0x38a120(0xaeb)])MathJax[_0x38a120(0x738)]([studentQuizArea]);document[_0x38a120(0x403)](_0x38a120(0x8f7))[_0x38a120(0x224)](_0x38a120(0x920),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x471fe9=_0x361958,_0x1b1e74=currentQuizData[_0x471fe9(0x707)][localQuestionIndex],_0x3621f0=_0x1b1e74[_0x471fe9(0x30c)]||currentQuizData[_0x471fe9(0x94d)];let _0x4fad68=null,_0x3a169b=![];if(_0x3621f0===_0x471fe9(0x385)||_0x3621f0==='fill_in_no_choices'){const _0x350dc6=document[_0x471fe9(0x314)](_0x471fe9(0x4ed));if(!_0x350dc6||!_0x350dc6[_0x471fe9(0x491)]['trim']()){showMessage(_0x471fe9(0x11d));return;}_0x4fad68=_0x350dc6[_0x471fe9(0x491)][_0x471fe9(0x783)](),_0x3a169b=await gradeShortAnswer(_0x4fad68,_0x1b1e74);}else{const _0x394fd8=document[_0x471fe9(0x314)](_0x471fe9(0x158));if(!_0x394fd8||_0x394fd8[_0x471fe9(0x491)]===''){showMessage(_0x471fe9(0x5be));return;}_0x4fad68=_0x394fd8[_0x471fe9(0x491)];switch(_0x3621f0){case _0x471fe9(0x891):_0x3a169b=_0x4fad68==='true'===_0x1b1e74['correctAnswer'];break;case _0x471fe9(0x886):_0x3a169b=_0x4fad68===_0x1b1e74[_0x471fe9(0x8c7)];break;default:_0x3a169b=parseInt(_0x4fad68)===_0x1b1e74['correctAnswerIndex'];break;}}const _0x3db608={'questionIndex':localQuestionIndex,'isCorrect':_0x3a169b},_0x56093f=userId,_0x443fbb={[_0x471fe9(0x8e5)+_0x56093f+'.answers']:arrayUnion(_0x3db608)};_0x3a169b&&(_0x443fbb[_0x471fe9(0x8e5)+_0x56093f+_0x471fe9(0x8f5)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x443fbb),localQuestionIndex++,localQuestionIndex>=currentQuizData['questions']['length']?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x85c1f4){console[_0x471fe9(0x51e)](_0x471fe9(0x416),_0x85c1f4),showMessage(_0x471fe9(0x5c9));}}async function handleTeamAnswerSubmit(){const _0x2fe220=_0x361958,_0x57d79e=await getDoc(doc(db,'artifacts/'+appId+_0x2fe220(0x1a2),currentTeamQuizId));if(!_0x57d79e['exists']())return;const _0x272c26=_0x57d79e[_0x2fe220(0xaff)]();if(_0x272c26['mode']===_0x2fe220(0xa85)){handleGroupAnswerSubmit();return;}const _0x5a164e=localTeamPlayers[localPlayerIndex],_0x53c95c=currentQuizData[_0x2fe220(0x707)][localQuestionIndex],_0x2b2f11=_0x53c95c[_0x2fe220(0x30c)]||currentQuizData['quizType'];let _0x2485fd=null,_0x254fa1=![];if(_0x2b2f11===_0x2fe220(0x385)||_0x2b2f11===_0x2fe220(0x163)){const _0x15c05e=document[_0x2fe220(0x314)]('textarea[name=\x22team_answer\x22]');if(!_0x15c05e||!_0x15c05e[_0x2fe220(0x491)]['trim']()){showMessage(_0x2fe220(0x7a0));return;}_0x2485fd=_0x15c05e[_0x2fe220(0x491)]['trim'](),_0x254fa1=await gradeShortAnswer(_0x2485fd,_0x53c95c);}else{const _0x53304e=document[_0x2fe220(0x314)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x53304e||_0x53304e['value']===''){showMessage(_0x2fe220(0x999));return;}_0x2485fd=_0x53304e[_0x2fe220(0x491)];switch(_0x2b2f11){case'true_false':_0x254fa1=_0x2485fd===_0x2fe220(0x4db)===_0x53c95c[_0x2fe220(0xc73)];break;case _0x2fe220(0x886):_0x254fa1=_0x2485fd===_0x53c95c[_0x2fe220(0x8c7)];break;default:_0x254fa1=parseInt(_0x2485fd)===_0x53c95c[_0x2fe220(0x47b)];break;}}const _0x532f72={'questionIndex':localQuestionIndex,'isCorrect':_0x254fa1,'answerValue':_0x2485fd},_0x1756b3={[_0x2fe220(0xc39)+_0x5a164e+_0x2fe220(0xab2)]:arrayUnion(_0x532f72)};_0x254fa1&&(_0x1756b3[_0x2fe220(0xc39)+_0x5a164e+_0x2fe220(0x8f5)]=increment(0x1));try{await updateDoc(doc(db,_0x2fe220(0x418)+appId+_0x2fe220(0x1a2),currentTeamQuizId),_0x1756b3),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x2fe220(0x6b7)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x5501e1){console['error'](_0x2fe220(0x145),_0x5501e1),showMessage(_0x2fe220(0x5c9));}}async function displayTeamQuizFinalResults(){const _0x44396a=_0x361958;studentQuizArea['classList'][_0x44396a(0x7be)](_0x44396a(0x17c)),studentResultArea['classList'][_0x44396a(0x3e9)](_0x44396a(0x17c));const _0x402fde=doc(db,_0x44396a(0x418)+appId+_0x44396a(0x1a2),currentTeamQuizId),_0x59d2e5=await getDoc(_0x402fde);if(!_0x59d2e5[_0x44396a(0x6f9)]()){studentResultArea[_0x44396a(0x86f)]=_0x44396a(0x9ae);return;}const _0xf2ed1f=_0x59d2e5[_0x44396a(0xaff)]();let _0x466333=[];const _0x34877e=_0xf2ed1f['mode']||_0x44396a(0x352);if(_0x34877e===_0x44396a(0xa85)){const _0x3518a5=_0xf2ed1f[_0x44396a(0xcd2)][userId];_0x3518a5?_0x466333=[{'name':_0x44396a(0xdb)+localTeamPlayers['join'](',\x20'),'score':_0x3518a5[_0x44396a(0xa6e)]||0x0}]:_0x466333=[{'name':_0x44396a(0x9f1),'score':_0x44396a(0xc29)}];}else _0x466333=localTeamPlayers[_0x44396a(0x961)](_0x349491=>({'name':_0x349491,'score':_0xf2ed1f[_0x44396a(0x9ca)][_0x349491]?.[_0x44396a(0xa6e)]||0x0}))['sort']((_0x3eb23c,_0x1300a8)=>_0x1300a8[_0x44396a(0xa6e)]-_0x3eb23c[_0x44396a(0xa6e)]);studentResultArea[_0x44396a(0x86f)]=_0x44396a(0x277)+_0x466333[_0x44396a(0x961)](_0x1150b5=>_0x44396a(0x969)+_0x1150b5['name']+_0x44396a(0xe1)+_0x1150b5[_0x44396a(0xa6e)]+_0x44396a(0x98c))[_0x44396a(0xbcc)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x44396a(0x3ef)]('activeGameSession'),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x3a2009=_0x44396a;deleteDoc(doc(db,_0x3a2009(0x418)+appId+_0x3a2009(0x1a2),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x361958(0x5a3),'pinnedProjects':[],'projectView':_0x361958(0xcbe)};const allMathTopics=[{'category':_0x361958(0xb18),'name':_0x361958(0xb14)},{'category':_0x361958(0xb18),'name':'ระบบเลขและค่าประจำหลัก'},{'category':'จำนวนและการดำเนินการ','name':_0x361958(0xbe7)},{'category':_0x361958(0xb18),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':'จำนวนและการดำเนินการ','name':'การบวก'},{'category':_0x361958(0xb18),'name':_0x361958(0x2b3)},{'category':_0x361958(0xb18),'name':'การคูณ'},{'category':_0x361958(0xb18),'name':_0x361958(0x641)},{'category':_0x361958(0xb18),'name':_0x361958(0xbb0)},{'category':_0x361958(0xb18),'name':_0x361958(0x60a)},{'category':_0x361958(0xb18),'name':'ศูนย์'},{'category':'จำนวนและการดำเนินการ','name':_0x361958(0x494)},{'category':'จำนวนและการดำเนินการ','name':_0x361958(0x174)},{'category':'จำนวนและการดำเนินการ','name':_0x361958(0x939)},{'category':_0x361958(0xb18),'name':_0x361958(0xb52)},{'category':_0x361958(0xb18),'name':'ค.ร.น.\x20(LCM)'},{'category':_0x361958(0xb18),'name':_0x361958(0x485)},{'category':_0x361958(0xb18),'name':'อัตราและอัตราหน่วย'},{'category':'จำนวนและการดำเนินการ','name':_0x361958(0x5d3)},{'category':_0x361958(0xb18),'name':_0x361958(0x90f)},{'category':_0x361958(0xb18),'name':_0x361958(0x9a1)},{'category':'จำนวนและการดำเนินการ','name':'การคูณเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x361958(0x4cf)},{'category':'จำนวนและการดำเนินการ','name':_0x361958(0x8de)},{'category':'จำนวนและการดำเนินการ','name':_0x361958(0x662)},{'category':_0x361958(0xb18),'name':_0x361958(0xbc0)},{'category':_0x361958(0xb18),'name':_0x361958(0x6d3)},{'category':_0x361958(0xb18),'name':_0x361958(0x7b1)},{'category':_0x361958(0xb18),'name':_0x361958(0x2ec)},{'category':_0x361958(0xb18),'name':_0x361958(0x48d)},{'category':_0x361958(0xb18),'name':_0x361958(0xc81)},{'category':_0x361958(0xb18),'name':_0x361958(0xab3)},{'category':_0x361958(0xb18),'name':_0x361958(0xc21)},{'category':_0x361958(0xb18),'name':_0x361958(0x7f4)},{'category':'จำนวนและการดำเนินการ','name':_0x361958(0x3f7)},{'category':_0x361958(0xb18),'name':_0x361958(0x13c)},{'category':_0x361958(0xb18),'name':_0x361958(0x3bb)},{'category':'การวัด','name':_0x361958(0x47d)},{'category':_0x361958(0xc01),'name':_0x361958(0x5cf)},{'category':_0x361958(0xc01),'name':_0x361958(0x997)},{'category':'การวัด','name':_0x361958(0x409)},{'category':_0x361958(0xc01),'name':_0x361958(0x55b)},{'category':_0x361958(0xc01),'name':_0x361958(0x2a8)},{'category':_0x361958(0xc01),'name':_0x361958(0x33a)},{'category':_0x361958(0xc01),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x361958(0xc01),'name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':'การวัด','name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x361958(0xc01),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':'การวัด','name':_0x361958(0xa34)},{'category':_0x361958(0xc01),'name':'สเกลและแผนที่'},{'category':_0x361958(0xc01),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':'เรขาคณิต','name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x361958(0x4ef),'name':_0x361958(0xbf3)},{'category':'เรขาคณิต','name':_0x361958(0x970)},{'category':_0x361958(0x4ef),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x361958(0x4ef),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x361958(0x4ef),'name':_0x361958(0x9de)},{'category':_0x361958(0x4ef),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':'เรขาคณิต','name':_0x361958(0x777)},{'category':_0x361958(0x4ef),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x361958(0x4ef),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x361958(0x4ef),'name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x361958(0x4ef),'name':_0x361958(0x4bf)},{'category':'เรขาคณิต','name':_0x361958(0x70b)},{'category':_0x361958(0x4ef),'name':_0x361958(0xbe6)},{'category':'เรขาคณิต','name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x361958(0x971),'name':_0x361958(0x7e3)},{'category':_0x361958(0x971),'name':_0x361958(0x46b)},{'category':_0x361958(0x971),'name':_0x361958(0x109)},{'category':'พีชคณิตและฟังก์ชัน','name':'การแยกตัวประกอบ'},{'category':_0x361958(0x971),'name':_0x361958(0x894)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x361958(0xb5f)},{'category':_0x361958(0x971),'name':_0x361958(0xcb5)},{'category':_0x361958(0x971),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x361958(0x2d8)},{'category':_0x361958(0x971),'name':_0x361958(0x45b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x361958(0xc25)},{'category':_0x361958(0x971),'name':_0x361958(0x183)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x361958(0x606)},{'category':_0x361958(0x971),'name':_0x361958(0x8a1)},{'category':_0x361958(0x971),'name':_0x361958(0x919)},{'category':_0x361958(0x971),'name':_0x361958(0xc46)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x361958(0xa74)},{'category':_0x361958(0x971),'name':'โดเมนและเรนจ์'},{'category':_0x361958(0x971),'name':_0x361958(0x3a6)},{'category':_0x361958(0x971),'name':'ฟังก์ชันผกผัน'},{'category':_0x361958(0x971),'name':_0x361958(0xcd5)},{'category':_0x361958(0x971),'name':_0x361958(0x56a)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x361958(0x971),'name':_0x361958(0x976)},{'category':_0x361958(0x971),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x361958(0x971),'name':_0x361958(0x54c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x361958(0x4cd)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x361958(0x84b)},{'category':_0x361958(0x971),'name':_0x361958(0x242)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x361958(0x3dd)},{'category':_0x361958(0x971),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x361958(0xba1)},{'category':_0x361958(0x971),'name':_0x361958(0x415)},{'category':_0x361958(0x971),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0x361958(0x971),'name':_0x361958(0x464)},{'category':'เรขาคณิตวิเคราะห์','name':_0x361958(0x423)},{'category':'เรขาคณิตวิเคราะห์','name':_0x361958(0xc56)},{'category':_0x361958(0x75c),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x361958(0x75c),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x361958(0x75c),'name':_0x361958(0xfb)},{'category':_0x361958(0x75c),'name':_0x361958(0x612)},{'category':'เรขาคณิตวิเคราะห์','name':_0x361958(0x6d8)},{'category':_0x361958(0x75c),'name':'วงรี'},{'category':_0x361958(0x75c),'name':'ไฮเพอร์โบลา'},{'category':_0x361958(0x5f3),'name':_0x361958(0x872)},{'category':_0x361958(0x5f3),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':'ตรีโกณมิติ','name':_0x361958(0x2d4)},{'category':_0x361958(0x5f3),'name':_0x361958(0xb8f)},{'category':_0x361958(0x5f3),'name':_0x361958(0x6cc)},{'category':_0x361958(0x5f3),'name':'กฎของโคไซน์'},{'category':_0x361958(0x5f3),'name':_0x361958(0x860)},{'category':_0x361958(0x5f3),'name':_0x361958(0xc8a)},{'category':_0x361958(0x5f3),'name':_0x361958(0x674)},{'category':_0x361958(0x5f3),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x361958(0x5f3),'name':_0x361958(0x4f0)},{'category':_0x361958(0x615),'name':_0x361958(0x92a)},{'category':'สถิติและความน่าจะเป็น','name':_0x361958(0x3a0)},{'category':_0x361958(0x615),'name':_0x361958(0x78c)},{'category':_0x361958(0x615),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x361958(0x615),'name':_0x361958(0x31b)},{'category':'สถิติและความน่าจะเป็น','name':_0x361958(0x187)},{'category':'สถิติและความน่าจะเป็น','name':'ค่าเฉลี่ย'},{'category':_0x361958(0x615),'name':_0x361958(0xa61)},{'category':_0x361958(0x615),'name':'ฐานนิยม'},{'category':'สถิติและความน่าจะเป็น','name':_0x361958(0xc28)},{'category':_0x361958(0x615),'name':_0x361958(0xfd)},{'category':_0x361958(0x615),'name':_0x361958(0xcb0)},{'category':_0x361958(0x615),'name':_0x361958(0x41a)},{'category':_0x361958(0x615),'name':_0x361958(0xaa8)},{'category':_0x361958(0x615),'name':_0x361958(0x46e)},{'category':_0x361958(0x615),'name':_0x361958(0xcbf)},{'category':'สถิติและความน่าจะเป็น','name':_0x361958(0x450)},{'category':_0x361958(0x615),'name':_0x361958(0x477)},{'category':_0x361958(0x615),'name':_0x361958(0xa99)},{'category':_0x361958(0x615),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x361958(0x615),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x361958(0x615),'name':_0x361958(0x3b5)},{'category':'สถิติและความน่าจะเป็น','name':_0x361958(0x13b)},{'category':_0x361958(0x615),'name':_0x361958(0x341)},{'category':_0x361958(0x4dc),'name':'ลิมิต'},{'category':'แคลคูลัสเบื้องต้น','name':'ความต่อเนื่อง'},{'category':_0x361958(0x4dc),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':'แคลคูลัสเบื้องต้น','name':_0x361958(0x569)},{'category':_0x361958(0x4dc),'name':_0x361958(0x410)},{'category':_0x361958(0x4dc),'name':_0x361958(0x7df)},{'category':_0x361958(0x4dc),'name':'ความชันเส้นสัมผัส'},{'category':_0x361958(0x4dc),'name':_0x361958(0x267)},{'category':'แคลคูลัสเบื้องต้น','name':_0x361958(0xb77)},{'category':'แคลคูลัสเบื้องต้น','name':_0x361958(0x1a6)},{'category':_0x361958(0x4dc),'name':_0x361958(0xb0d)},{'category':_0x361958(0x4dc),'name':_0x361958(0x14e)},{'category':_0x361958(0x4dc),'name':_0x361958(0x5ef)},{'category':_0x361958(0xc12),'name':_0x361958(0x559)},{'category':_0x361958(0xc12),'name':_0x361958(0x171)},{'category':_0x361958(0xc12),'name':_0x361958(0x818)},{'category':_0x361958(0xc12),'name':_0x361958(0x9f7)},{'category':_0x361958(0xc12),'name':_0x361958(0x3d8)},{'category':_0x361958(0xc12),'name':_0x361958(0xb9c)},{'category':_0x361958(0xc12),'name':_0x361958(0x401)},{'category':'คณิตการเงิน/บูรณาการ','name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x361958(0x197),'name':_0x361958(0x7b3)},{'category':_0x361958(0x197),'name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x361958(0x197),'name':_0x361958(0xfc)},{'category':_0x361958(0x197),'name':_0x361958(0x337)},{'category':_0x361958(0xc5d),'name':_0x361958(0x673)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x361958(0x9f2)},{'category':_0x361958(0xc5d),'name':_0x361958(0x7e1)}];function renderTopicCheckboxes(){const _0x228880=_0x361958,_0x2b61f9=document[_0x228880(0x403)]('math-topics-checkbox-container');if(!_0x2b61f9)return;const _0x199049=allMathTopics,_0x8b87ed=customMathTopics[_0x228880(0x961)](_0x42a7d7=>({'id':_0x42a7d7['id'],'category':'หัวข้อที่สร้างเอง','name':_0x42a7d7[_0x228880(0x2ea)]})),_0x14f65f=[..._0x199049,..._0x8b87ed],_0xf2ceb2=_0x14f65f[_0x228880(0xac1)]((_0x466e91,_0x284769)=>{const _0x50b9c8=_0x228880;return!_0x466e91[_0x284769[_0x50b9c8(0xa96)]]&&(_0x466e91[_0x284769[_0x50b9c8(0xa96)]]=[]),_0x466e91[_0x284769[_0x50b9c8(0xa96)]][_0x50b9c8(0x798)](_0x284769),_0x466e91;},{});let _0x1150e1='';const _0x4a3fb7=[_0x228880(0x99f),...Object['keys'](_0xf2ceb2)[_0x228880(0x9df)](_0x19753b=>_0x19753b!==_0x228880(0x99f))];for(const _0x2a239f of _0x4a3fb7){if(_0xf2ceb2[_0x2a239f]){const _0x25cb59=_0x2a239f===_0x228880(0x99f),_0x4ab258=_0x25cb59?_0x228880(0x24f):_0x228880(0x3cd),_0x34aa52=_0x25cb59?'text-blue-700':'text-indigo-700';_0x1150e1+=_0x228880(0xa14),_0x1150e1+=_0x228880(0x61a)+_0x34aa52+_0x228880(0x746)+_0x4ab258+'\x20mr-2\x22></i>'+_0x2a239f+_0x228880(0x86d),_0xf2ceb2[_0x2a239f][_0x228880(0x384)](_0xcb69c9=>{const _0x4eaec7=_0x228880,_0x1c21fe=!!_0xcb69c9['id'],_0x1fbb95=_0x1c21fe?_0x4eaec7(0x141)+_0xcb69c9['id']+_0x4eaec7(0x38c)+_0xcb69c9['id']+_0x4eaec7(0x105)+_0xcb69c9['id']+_0x4eaec7(0x81a)+_0xcb69c9['id']+_0x4eaec7(0x7a8):'';_0x1150e1+=_0x4eaec7(0x679)+(_0xcb69c9['id']||'')+_0x4eaec7(0x791)+_0xcb69c9[_0x4eaec7(0x2ea)]+_0x4eaec7(0xb79)+_0xcb69c9['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1c21fe?_0x4eaec7(0x95b)+_0xcb69c9[_0x4eaec7(0x2ea)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1fbb95+_0x4eaec7(0xc05);}),_0x1150e1+='</div>';}}_0x2b61f9[_0x228880(0x86f)]=_0x1150e1||_0x228880(0x85e),_0x2b61f9['removeEventListener'](_0x228880(0x7cd),updateSelectedTopicsCount),_0x2b61f9['addEventListener']('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x33c774,_0x3e75ba){const _0x5204cb=_0x361958;if(!_0x33c774||!_0x3e75ba[_0x5204cb(0x783)]()){showMessage(_0x5204cb(0x430));return;}try{const _0x3eee33=doc(db,_0x5204cb(0x418)+appId+_0x5204cb(0x715),_0x33c774);await updateDoc(_0x3eee33,{'name':_0x3e75ba[_0x5204cb(0x783)]()}),showMessage(_0x5204cb(0x185));}catch(_0x3c4008){console[_0x5204cb(0x51e)](_0x5204cb(0xba0),_0x3c4008),showMessage(_0x5204cb(0x5fe));}}function toggleTopicEditMode(_0x3c9231,_0x4f0bbd){const _0x152251=_0x361958;if(!_0x3c9231)return;const _0x1e43e5=_0x3c9231[_0x152251(0x314)](_0x152251(0x11b)),_0x467c4d=_0x3c9231[_0x152251(0x314)](_0x152251(0xcc7)),_0x38225a=_0x3c9231['querySelector'](_0x152251(0xc1a)),_0x17a6fd=_0x3c9231[_0x152251(0x314)]('.topic-actions-edit');_0x1e43e5[_0x152251(0x67e)]['toggle'](_0x152251(0x17c),_0x4f0bbd),_0x467c4d[_0x152251(0x67e)][_0x152251(0xcca)](_0x152251(0x17c),!_0x4f0bbd),_0x38225a[_0x152251(0x67e)][_0x152251(0xcca)]('hidden',_0x4f0bbd),_0x17a6fd[_0x152251(0x67e)][_0x152251(0xcca)]('hidden',!_0x4f0bbd),_0x4f0bbd&&(_0x467c4d[_0x152251(0x447)](),_0x467c4d[_0x152251(0x6e3)]());}async function handleStartLiveRace(_0x53a5b6){const _0x870d1f=_0x361958;let _0x2e275a=allQuizzes[_0x870d1f(0x9f6)](_0x28f7f5=>_0x28f7f5['id']===_0x53a5b6);if(!_0x2e275a){const _0x120d4c=doc(db,_0x870d1f(0x418)+appId+'/public/data/quizzes',_0x53a5b6),_0x33efa9=await getDoc(_0x120d4c);if(!_0x33efa9[_0x870d1f(0x6f9)]()){showMessage(_0x870d1f(0x82c));return;}_0x2e275a={'id':_0x33efa9['id'],..._0x33efa9[_0x870d1f(0xaff)]()};}const _0x3bf9fa=getShuffledQuiz(_0x2e275a);currentQuizData=_0x3bf9fa;const _0x5d023c=_0x2e275a['projectId']||currentProjectId||null,_0x154f6d=Math[_0x870d1f(0x15f)](0x3e8+Math['random']()*0x2328)['toString']();currentLiveGamePin=_0x154f6d;try{const _0x39f567=await addDoc(collection(db,'artifacts/'+appId+'/public/data/liveGames'),{'quizId':_0x53a5b6,'projectId':_0x5d023c,'status':_0x870d1f(0x41c),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x154f6d,'createdAt':serverTimestamp(),'shuffledQuiz':_0x3bf9fa});currentLiveGameId=_0x39f567['id'],showAdminLobbyView(_0x154f6d,_0x2e275a[_0x870d1f(0x411)]),listenForLiveGameUpdates();}catch(_0x952370){console[_0x870d1f(0x51e)](_0x870d1f(0xbae),_0x952370),showMessage(_0x870d1f(0x406));}}function updateSelectedTopicsCount(){const _0x298c90=_0x361958,_0x4fdaed=document[_0x298c90(0x403)](_0x298c90(0x469)),_0x34dbce=_0x4fdaed['querySelectorAll']('input[type=\x22checkbox\x22]:checked')['length'],_0x4e0157=document['getElementById'](_0x298c90(0x8bc));_0x34dbce>0x0?_0x4e0157['textContent']='(เลือกแล้ว\x20'+_0x34dbce+'\x20หัวข้อ)':_0x4e0157[_0x298c90(0x317)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x361958(0x412),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x361958(0x11a),quizLeaderboardSortOrder=_0x361958(0x3fc),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x361958(0x610),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x361958(0x706),scratchpadPenColor='#000000',scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function _0x5099(){const _0x119d22=['bg-green-500\x20hover:bg-green-600\x20text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isStarred','ไม่สามารถเพิ่มนักเรียนได้','.start-presentation-list-btn','STOP','modal-passing-score-input','createObjectURL','mouseleave','originalQuestionText','เพิ่มปุ่มลัดจากไฟล์ใหม่','/public/data/blueprintProjects','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20in\x20generating\x20from\x20files:','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x22></i>','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','เลือกและบันทึก','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','Blueprint\x20O-NET\x20ป.6','.topic-actions-view','0\x200','\x20quizzes\x20into\x20global\x20cache.','เพื่อนสนิท','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','scale','บันทึกโปรเจค\x20\x22','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','view-my-progress-btn','close-additional-parallel-shortcuts-btn','ผู้เล่น\x20','สมการราก\x20(radical)','<button\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','พิสัย','N/A','sync-timer-countdown','lesson-view-modal','อัปเดตพฤติกรรมสำหรับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','start-sync-game-btn','test','some','leaderboard-quiz-tab-btn','text-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','manage-tab','highlighter-size-slider','.question-editor-item[data-q-index=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','scratchpad-controls','responses.','(คู่ขนาน)\x20','bottom','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','text-emerald-900','link-input-area','อัศวินรัตติกาล','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','\x20/\x20','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','ondragend','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','<span\x20title=\x22','ระบบอสมการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','.sort-indicator','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','split','modal-timer-mode-select','behavior-log','additional-file-shortcuts-list','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','handleGeneratePracticeTest','source_document.pdf','.ai-fix-formula-btn','setAttributeNS','position','ความชันและเส้นตรง','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','text-red-300\x20hover:text-red-100','pin','Error\x20joining\x20team\x20quiz:','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-purple-600','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','add-parallel-shortcut-tab-btn','.pen-size-btn','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','comparison','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','Firebase\x20initialization\x20failed:','-tab','practiceProblems','กรุณาใส่ชื่อใหม่','bank-tab','border-gray-200','fa-pen','\x22\x20สำเร็จ','แฟนทิพย์','</span><span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','bg-black/20','bg-red-200\x20text-red-800','.ai-content\x20blockquote','correctAnswer','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ai-quiz-generator-v3','รหัสไม่ถูกต้อง','admin-password-input','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','student-initial-view','fileShortcutOrder','topicName','cancel-rename-quiz-btn','ร้อยละพื้นฐาน','สรุปผลการวิเคราะห์:\x5cn','Error\x20toggling\x20star\x20status:','back-to-student-initial-btn','#open-additional-file-shortcuts-btn','bulk-results-display-select','input[type=\x22text\x22]','cancel-quiz-edits-btn','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','การแปลงรูปอัตลักษณ์','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submit','.project-card-container','thead','min','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','\x22...','ก่อนเรียน','```','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','destroy','ai-quiz-app-aefee.firebaseapp.com','cancel-game-start-btn','ดาวTikTok','sin','beforeend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','undefined','\x20ชุดสำเร็จ!','scores-tab-content','border-green-300\x20bg-green-50','game-pin-input','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','applicationData','\x20|\x20','link-tab','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','back-to-dashboard-from-results-btn','countdown-display','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>',':</p><p\x20class=\x22text-xs\x22>','.project-card-content','closePath','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','.delete-custom-topic-btn','%PDF','ความแปรปรวน','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','Error\x20clearing\x20linked\x20quiz:','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','สถานะไม่ชัดเจน','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confidence-mode-container','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','.use-hidden-shortcut-btn','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x22\x20name=\x22confidence','grid','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','อัปเดตแบบทดสอบเก่า\x20','match','close','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','ondrop','mode','qIndex','.topic-name-input','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','toggle','ยืนยันและอัปเดตทั้งหมด','createElement','Authentication\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','ตัวเลือก\x20ข','trail-tool-btn','shadowBlur','groups','อินฟลูเอนเซอร์','scrollIntoView','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','selectedTopicNames','confirm-quiz-status-btn','normal','ไม่ใช่','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','Error\x20saving\x20settings:','.shortcut-btn','<button\x20data-id=\x22','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','quiz-status-modal','generate-worksheet-btn','shortcut-tabs-nav','เน็ตช้า','รีเซ็ตลำดับโปรเจคแล้ว','sum','อยู่ในหัวข้อหลักใด:','ข้อที่\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','mouse','retake-quiz-loop-btn','function','manual-bp-content','.delete-quiz-btn','กรุณาเลือกชื่อของคุณ','project-id-display','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','</select>','perfect_score_status','Failed\x20to\x20get\x20standardized\x20topic:','.confidence-choice-btn','parallel-default-1','เกี่ยวกับหัวข้อ\x20\x22','\x20link(s)\x20for\x20quiz\x20ID:\x20','save-blueprint-as-project-btn','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','bp-modal-quiz-type-select','รอเปิด','draggable-text','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','ยอดเยี่ยม','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','close-comparison-modal-footer-btn','นักกีฬา','generate-from-link-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20shortcut\x20config:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','false','เกิดข้อผิดพลาดในการอ่านไฟล์','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','passcode-input-container','totalQuestions','(คัดลอก)\x20','then','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','ลาเต้ไม่หวาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','Error\x20deleting\x20project:','Error\x20deleting\x20shortcut:','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','กลุ่ม:\x20','\x5cfrac{$1}{$2}','color','end-game-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','ยืนยันการจับคู่','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','https://drive.google.com/uc?export=download&id=','ไม่สามารถโหลดข้อมูลอันดับได้','source_document.txt','createdAt','close-lesson-view-btn','attemptNumber','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','target','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','num-questions','ดีมาก','qType','STRING','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','pointer-events-none','รักแรกพบ','text-gray-200','questionText','.delete-shortcut-btn','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แผนการสอน','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','text-red-800','ระยะจากจุดถึงเส้นตรง','ค่าเสื่อมราคา','ส่วนเบี่ยงเบนเฉลี่ย','cursor','timestamp','ondragstart','close-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','none','checkAnswer','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','rename-quiz-modal','live-player-management','topic-bank-list','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','toDate','every','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineCap','Error\x20regenerating\x20question\x20in\x20editor:','เกิดข้อผิดพลาดในการสร้างใบงาน','100px','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','force-math-checkbox','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','จับคู่เพื่อเปรียบเทียบผล','text-red-600','custom-math-topic-input','Error\x20saving\x20parallel\x20shortcut:','file-topic-input','bestScore','.topic-name-display','numQuestions','กรุณาพิมพ์คำตอบของกลุ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','matching','กรุณาเลือกโปรเจคที่ต้องการบันทึก','.status','.file-shortcut-tab-btn','text-green-600','.delete-file-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<p><strong>คำตอบที่แนะนำ:</strong>\x20','previousElementSibling','starred','confidenceMode','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','<div\x20style=\x22','ใช่\x20/\x20ถูก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.quiz-bank-item','#parallel-shortcut-tabs-nav\x20.tab-name-input','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','isConfidenceScoringEnabled','quiz-start-time','bulk-loop-until-pass-checkbox','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','dragover','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','text-white','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','hasOwnProperty','การแจกแจงทวินาม\x20(พื้นฐาน)','รูปสแควร์รูท\x20(surd)','Invalid\x20response\x20structure\x20from\x20AI.','cdot','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confirm-not-confident','separate-by-content-from-file-checkbox','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','Error\x20submitting\x20team\x20answer:','leaderboard-tab-content','lesson-plan-content','presentation-ai-result','.delete-file-shortcut-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','%</span>','Error\x20generating\x20parallel\x20post-test:','ทฤษฎีบทพื้นฐานของแคลคูลัส','comeback_king','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprintUrl','สำหรับหัวข้อ\x20\x27','isPinned','latestScore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','\x5csqrt{$1}','.generate-lesson-btn','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','resize','floor','.highlighter-color-btn','กำลังกลับเข้าสู่เกม\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','fill_in_no_choices','duration-300','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','now','กรุณาใส่ชื่อโปรเจค','block','ตะวันฉาย','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','ลบโปรเจค\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20▼▼▼\x20[นี่คือจุดที่แก้ไข\x20Bug]\x20▼▼▼\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20▲▲▲\x20[สิ้นสุดการแก้ไข]\x20▲▲▲\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','หมดเวลาสำหรับข้อนี้!','Error\x20starting\x20game:','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','ดอทโปรดักต์\x20(dot)','project-detail','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','เส้นจำนวน','สอบซ่อม','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','ไม่พบข้อมูลเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','hidden','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','Failed\x20to\x20kick\x20player\x20','file-shortcuts-loading-msg','lesson-sections-container','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','drill-feedback','สมการยกกำลัง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ไขหัวข้อสำเร็จ','parallel-shortcut-modal-title','แผนภาพกล่อง\x20(box\x20plot)','ปล่อยพลัง','.start-live-race-btn','#DBEAFE','game-start-quiz-id','parallel-shortcuts-loading-msg','post-test','sync','password-error-msg','</span></div>','deselect-all-topics-btn','\x22\x20class=\x22color-palette-btn\x20','pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไฟล์ทั้งหมด','student-quiz-leaderboard-tab','คณิตการเงิน/บูรณาการ','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','Error\x20saving\x20questions\x20to\x20practice\x20bank:','currentQuestionIndex','#ffffff','export-tutor-pdf-btn','.star-quiz-btn','results-quiz-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20comparing\x20results:','\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','/public/data/teamQuizzes','applicationContent','Auto-linking\x20new\x20quiz\x20','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','ปริพันธ์ไม่จำกัด','.lastAnswerCorrect','726080XODgwF','standard','getContext','content','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','pathname','closest','quiz-bank-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','เกิดข้อผิดพลาดในการอัปเดตสถานะ','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','date_asc','\x20ข้อ...','generate-from-topic-btn','Error\x20generating\x20hybrid\x20quiz:','px,\x20','element','choices_only','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','export-image-btn','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','name_asc','file-topics-list','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','check-answer-btn','sync-player-list','timer-duration-label','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','export-lesson-to-pdf-btn','project-name-input','Failed\x20to\x20generate\x20practice\x20test:','หมีขั้วโลกใต้','ตัวเลือก\x20ง','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x20คะแนน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','37316GVZGBx','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','players.','gameVariant','th-TH',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','lesson-plan-title','ON_FIRE','file.pdf','Invalid\x20response\x20structure\x20from\x20API.','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-results-table-body','\x22>(','answering','[*]','Attempting\x20to\x20save\x20game\x20results...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','Failed\x20to\x20resume\x20game\x20session:','project-detail-view','per-q-countdown','imageCode','goto-next-question-btn','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','คนคุย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','.remove-file-shortcut-from-tab-btn','</p></div>','.group\x5c/dropdown-parallel','currentTarget','shortcut-blueprint-url-input','การยืนยันตัวตนล้มเหลว','q-image-container-','touchmove','btn','เกิดข้อผิดพลาด:\x20','clearRect','inactive','actions-container-','ไม่พบโปรเจคที่ต้องการลบ','delete','หยุดระบบจับเวลาหรี่หน้าจอ','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','show_results_only','scratchpad-options','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x5cneq','API\x20call\x20failed\x20with\x20status:\x20','isPasscodeEnabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','curriculum','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','blueprint-input-area','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','cancel-delete-btn','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','loader-text','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20loading\x20user\x20preferences:','parallel-shortcut-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','memory','\x20สำเร็จ','bg-green-200\x20text-green-900','ไม่ระบุ','addEventListener','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20(p=','.correct-response-input','analytics-tab-btn','.quiz-bank-parallel-btn','shortcut-id-input','subTopics','ดูผลสรุปสุดท้าย','Error\x20saving\x20quiz\x20edits:','startedAt','แปลงร่าง','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','#add-question-editor-btn','มูเตลู','-\x20ข้อ\x20','confidence-scoring-checkbox','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','<div\x20class=\x22answer-space\x22></div>','project-list','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','รอ...','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','bg-green-200\x20text-green-900\x20font-bold','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','แท็บใหม่','<button\x20data-tab-id=\x22','findIndex','ฟังก์ชันยกกำลัง','</div>\x0a</div>\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','Error\x20adding\x20students:','scrollY','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อมี\x20','Error\x20saving\x20file\x20shortcut\x20config:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','quiz-results-view','fas\x20fa-user-edit','teacherTips','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','สู้ๆ\x20ลองอีกครั้งนะ','scheduled_pending','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','txt','onerror','on_fire','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','Error\x20saving\x20blueprint\x20project:','confidence-choice-btn','.toggle-actions-btn','highlighter-tools-group','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','decode','div[data-question-index=\x22','size','sync-matching-select','earned-badges-container','parallel-test-upload-input','student-name-select','body','อัตราการเปลี่ยนแปลงทันที','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','ที่พิมพ์ได้\x20จำนวน\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','\x22\x20value=\x22false\x22\x20','lastAnswerCorrect','line-through\x20text-red-700','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','ไม่สามารถโหลดคลังข้อสอบได้','editor-quiz-topic','student-result-area','not_confident','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.group','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','export-leaderboard-image-btn','ตรวจทานเฉลยเสร็จสิ้น!','anonymous','...','preventDefault','font-bold\x20text-green-700','\x22\x20name=\x22question','students','start-live-race-generated-btn','Error\x20saving\x20to\x20question\x20bank:','label[for=\x22num-questions\x22]','bg-blue-500\x20hover:bg-blue-600\x20text-white','Failed\x20to\x20get\x20hint:','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','practice-topic-btn','confident','ช่างภาพ','#results-table','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','onkeydown','ใช่','toString','keys','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','border-red-300\x20bg-red-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','24gfxTtV','podium','\x22,\x20','round','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','toFixed','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','visible','dim-overlay','bg-[#4ADE80]\x20text-green-900\x20font-bold','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','bg-gray-200\x20text-gray-700','เส้นรอบรูป','svg','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','pop','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','complexityValue','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','Error\x20updating\x20quiz\x20settings:','การลบ','kick-player-btn','</p><div>','sqrt','sort','border-indigo-500\x20text-indigo-600','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','modal-timer-duration-container','insertBefore','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','text-gray-500','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','num-choices-container','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','setAttribute','</label></div>','นักวิทยาศาสตร์','querySelectorAll','blueprint-topics-list','confirm-team-players-btn','visibilityState','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','numChoices','confirm-link-quiz-btn','times','bp-quiz-settings-btn','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','classWeaknesses','student-quiz-topic','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','มุมพิเศษ\x2045°-45°-90°','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','image/png','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','สมการค่าสัมบูรณ์','(ก่อนเรียน)\x20','fix\x20the\x20option','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','onchange','.scratchpad-content-wrapper','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-parallel-shortcut-btn','close-topic-bank-btn','.ideal-answer-input','contentEditable','separate-by-content-checkbox','https://corsproxy.io/?','มือปราบสายรุ้ง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','word-break:\x20break-all;','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','s;\x22\x20title=\x22','name','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','การหารทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','</form>','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','survivor','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-shortcut-edit-btn','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','\x22\x20value=\x22true\x22\x20','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','พบ\x20Sync\x20Game!','deltaY','live-options-container','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','bar','dfrac','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','.admin-try-quiz-list-btn','reset-project-order-btn','name_desc','parallel-shortcut_','.shortcut-list-item:not(.opacity-50)','\x20</div>\x0a\x20\x20\x20\x20','พิมพ์ตอบ','classic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submissions','บทเรียน','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','blueprint-upload-input','questionType','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','\x20จาก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','mainTopics','hover:bg-indigo-100','querySelector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','default-','textContent','highlighter-size-value','comparison-overall-content','hasPerfectScoreBonus','ฮิสโตแกรม','toISOString','text-gray-400\x20hover:text-indigo-600','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','touches','lesson-loader','show-leaderboard-btn','contains','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','msRequestFullscreen','timer-mode-select','onblur','padStart','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x5cn','playerNicknames','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','sync-manage-players-btn','all','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','Error\x20saving\x20quiz:','close-additional-file-shortcuts-btn','binom','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','pdf','ไม่พบแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','admin-testing','ร้อยละประยุกต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','input[type=\x22radio\x22][value=\x22','พื้นที่สี่เหลี่ยม','point','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fas\x20fa-star\x20text-yellow-500','print','(ก่อนเรียน)','#26890c','ความคาดหมาย\x20(Expected\x20value)','textarea','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','สาระที่\x201','.use-hidden-file-shortcut-btn','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','ก้อนเมฆ','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','/public/data/quizzes','ภูเขา','verify-answers-btn','additional-parallel-shortcuts-list','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','กำลังสแกนหาแบบทดสอบเก่า...','team','#FCE7F3','Error\x20deleting\x20quiz:','lesson-loader-text','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการปักหมุด','พอใช้','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','leaderboard-table-body','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data:application/vnd.ms-word;charset=utf-8,','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','shortcuts-loading-msg','ป่าไม้','file-topics-list-container','isArray','export-leaderboard-pdf-btn','opacity','cancel-parallel-shortcut-edit-btn','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','เซียนสมองไว','generate-from-file-btn','back-to-project-btn','export-lesson-pdf-btn','show-final-results-btn','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','scores','abs','open-blueprint-projects-btn','(หลังเรียน)\x20','กำลังสร้างบทเรียน:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.use-hidden-parallel-shortcut-btn','bg-gray-500','confirm-delete-btn','\x20(สำหรับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','answers','/lessons','difficultyValue','list','fullscreenchange','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','topics.','Error\x20saving\x20reference\x20URL:','</div><div\x20class=\x22space-y-2\x22>','fullscreenElement','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','forEach','short_answer','bp-reference-file-url','.edit-quiz-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','แบบทดสอบซ่อมเสริม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20deleting\x20custom\x20topic:','bank-input-area','leaderboard','อัปเดตสถานะสำเร็จ','strokeStyle','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','create-project-modal','ไม่พบข้อมูลหัวข้อที่จะบันทึก','กำลังอ่านและเตรียมไฟล์...','แผนการสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','document','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','bg-teal-500\x20hover:bg-teal-600\x20text-white','student-quiz-leaderboard-content','toLocaleString','quiz-bank-count','การจัดกลุ่มข้อมูล','mjx-container','Error\x20listening\x20for\x20starred\x20quizzes:','.auto-resize-textarea','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','7072983lHapft','องค์ประกอบของฟังก์ชัน','_opt1\x22>ไม่ใช่</label></div>','set','fill','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-reading-area','shuffleSetting','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','เปลี่ยนชื่อแบบทดสอบสำเร็จ','ผู้ไม่ยอมแพ้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','rows','การจัดหมู่\x20(Combination)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','badges','ไม่พบข้อมูลโปรเจค','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','modal-timer-duration-input','สัญกรณ์วิทยาศาสตร์','text-emerald-800','pinnedProjects','นินจาชาเขียว','parentElement','\x22\x20สำเร็จ!','bp-modal-include-images-checkbox','เงาปริศนา','appendChild','myAnonymousNickname','additional-shortcuts-list','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</td></tr>','eraser-tool-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','reveal_at_end','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','fas\x20fa-bookmark','Error\x20generating\x20easy\x20version\x20quiz:','dispatchEvent','projectName','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','shadowColor','<div\x20class=\x22loader\x20mx-auto\x22></div>','topic-input-area','กรุณากรอกข้อมูลให้ครบทุกช่อง','ราชาคัมแบ็ก','อินเวอร์สของเมทริกซ์','quiz-form','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','#F3E8FF','ฟังก์ชันลอการิทึม','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','analyze-strengths-btn','add-file-shortcut-btn','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','keyConcepts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','อัปเดตการตั้งค่าของแบบทดสอบ\x20','eraser-tools-group','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','remove','.tab-name-display','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชื่อโปรเจคห้ามว่าง','text-blue-700\x20bg-blue-100','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','removeItem','.topic-category','SAFETY','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20unpairing\x20quizzes:','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','รากที่สองและที่สาม','bp-modal-difficulty-level-select','settings','กำลังค้นหากิจกรรม...','fileShortcutTabs','desc','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','กำลังดึงข้อมูลจากลิงก์...','confirm-game-start-modal','\x20กลับเข้าสู่เกม!','แก้ระบบสมการด้วยเมทริกซ์','additional-file-shortcuts-modal','getElementById','Error\x20generating\x20teaching\x20content:','project-search-input','เกิดข้อผิดพลาดในการสร้างห้องเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','ปริมาตร/ความจุและการแปลง','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','quiz-results','</p><p><strong>เฉลย:</strong>\x20','lineWidth','questionId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','อนุพันธ์:\x20ผลคูณ/ผลหาร','topic','student','shortcut_','players','ผลรวมอนุกรม\x20(Σ)','Error\x20submitting\x20group\x20answer:','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','artifacts/','PERSEVERANCE','ส่วนเบี่ยงเบนมาตรฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lobby','</span></p>','Error\x20fetching\x20project\x20quizzes:','.live-answer-btn,\x20#sync-submit-btn','shuffle-setting-select','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','modal-shuffle-select','ระยะทางและจุดกึ่งกลาง','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','tab_','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','random','bg-yellow-50','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','shortcut-name-input','shortcutOrder','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','.ai-content\x20h3','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','confidence-mode-select','ชื่อหัวข้อห้ามว่าง','.color-palette-popup','subTopic','memoryContent','worksheet-topic-input','42IzAGAx','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','เพนกวินไฟ','เพิ่มรายการที่เลือก','text-green-600\x20font-bold','text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','.project-card-container.opacity-50','bulk-confidence-scoring-checkbox','reference-pdf-upload','<div\x20class=\x22flex-1\x22></div>','\x5ccdot','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','\x22>ไม่ใช่</p>','cos','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','includeImages','focus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','confidence-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','outerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','กฎบวกและกฎคูณ','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบหัวข้อ','blueprint-projects-modal','overallGroups','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','พบข้อสอบ\x20','.answeredCurrentQuestion','isFinished','empty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการเหตุผล\x20(rational)','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>',')\x22>','file-default-','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','.space-y-1.pl-4','dimmed','GlobalWorkerOptions','</body></html>','จำนวนเชิงซ้อน\x20(เสริม)','presentation-modal','confidence','Error\x20during\x20deep\x20delete:','live-game-view','math-topics-checkbox-container','คัดลอกแบบทดสอบสำเร็จ','การกระจายและการจัดหมู่','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','export-pdf-btn','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','replace','button[type=\x22submit\x22]','ท็อปฟอร์ม','.edit-custom-topic-btn','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','default-1','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','แผนภาพเวนน์','/studentProfiles','points','per-question-text','correctAnswerIndex','shortcut-modal-title','หน่วยความยาวและการแปลง','#open-additional-parallel-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','wasConfident','mean','minHeight','คะแนนเฉลี่ย','อัตราส่วนและสัดส่วน','</button>','ai-quiz-app-aefee.firebasestorage.app','canvas','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','สร้างคำถามแบบเติมคำในช่องว่าง','startsWith','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','td,\x20th','ซามูไรสายเดี่ยว','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','value','Error\x20listening\x20for\x20student\x20profiles:','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ค่าสัมบูรณ์','.ai-fix-question-btn','next-sync-question-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','คำถามดิบ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','[data-topic-id]','\x20(\x22','lower_group_count','แบบทดสอบที่ติดดาว','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','shortcutTabs','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','sync-timer-enable-checkbox','bg-green-500','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','.cancel-edit-topic-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','circ','comparison-individual-tab','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','finished','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','q-text-','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','index','text-red-500\x20hover:text-red-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectId','Error\x20joining\x20live\x20game:','topic-quiz-bank-modal','select[name=\x22question_single\x22]','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','BOOLEAN','.view-bp-lesson-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','selected-answer-index-hidden','answeredCurrentQuestion','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','.bp-present-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','file-shortcut_','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tGain','teacherSuggestions','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toDataURL','strength-weakness-analysis-container','slice','showRankings','firstScore','ฟังก์ชันค่าสัมบูรณ์','</span></td>','การหารเศษส่วน','setFont','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.application-options\x20button','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','enable-passcode-checkbox','Test\x20Blueprint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','<li>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','<span\x20class=\x22font-bold\x20','true','แคลคูลัสเบื้องต้น','isCorrect','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','เกิดข้อผิดพลาดในการแก้ไข','join-group-activity-btn','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','cancel-bp-settings-btn','กำลังสร้างรูปภาพ...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','substring','warn','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','load-quiz-btn','specialist','text-gray-100','textarea[name=\x22team_answer\x22]','wakeLock','เรขาคณิต','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','generated-quiz-actions','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','both','.generate-content-btn','adaptive-quiz-checkbox','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','fromCharCode','blueprint-topics-list-container','พบ\x20Team\x20Quiz!','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','<tr\x20class=\x22','```json','rgba(16,\x20185,\x20129,\x200.7)','กรุณาใส่ชื่อนักเรียน','.edit-question-btn','difficulty-level-select','file-input-area','md:col-span-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','Team\x20Quiz','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด',',\x20r=','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','blueprint-shortcut-container','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','บันทึกการตั้งค่าสำเร็จ','Unexpected\x20API\x20response\x20structure:','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','key','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','ย้ายแบบทดสอบไปโปรเจคอื่น','fa-bolt\x20text-blue-500','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','bp-project-title','text/csv;charset=utf-8;','\x0a---\x0a','</div>','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','หมาป่าเดียวดาย','ไม่พบแบบทดสอบในระบบเลย','MathJax\x20typeset\x20error\x20(analytics):','pen-tools-group','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','error','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20ในหัวข้อ\x20\x27','temp-loader-results','student-team-selection-view','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','save-project-name-btn','/public/data/projects/','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','div','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','Error\x20deleting\x20student:','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','execCommand','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','pen-tool-btn','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','bank-quiz-search-input','submittedAt','live-player-list','results','\x5cle','Error\x20loading\x20quiz\x20for\x20student:','prev-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','input[type=\x22radio\x22]:checked','Error\x20updating\x20project\x20name:','</option>','jspdf','classStrengths','ระยะเวลา\x20(วินาที):','mousedown','ไม่ใช่\x20/\x20ผิด','.move-file-shortcut-dropdown','5915889pNTyZG','Error\x20committing\x20score\x20updates:','tool','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-question-btn','endTime','msExitFullscreen','user-id-display','ฟังก์ชันราก\x20(root)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','text/html','bg-green-200\x20text-green-800','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file.txt','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','auto','members','isAnonymousRevealed','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','.group\x5c/dropdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','ตอบถูกทุกข้อในแบบทดสอบนี้','อุณหภูมิและการแปลง','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','gameData','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','reviewQuestionIndex','-options','confirm-rename-quiz-btn','PROMPT_PLACEHOLDER','progress-project-select','Error\x20loading\x20blueprint\x20projects:','---\x20[คำถามใหม่]\x20---','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','อนุพันธ์:\x20กฎลูกโซ่','ฟังก์ชันเชิงเส้นและกราฟ','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','open','Error\x20saving\x20manual\x20blueprint\x20project:','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','sync-timer-duration-input',')</span></div>','back-to-results-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','student-progress','stroke','???','.rename-quiz-btn','question-analytics-container','ต้นฉบับ\x201','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','results-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','modal-results-display-select','exitFullscreen','ย้ายแบบทดสอบสำเร็จ','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','grid-view-btn','rgba(79,\x2070,\x20229,\x200.8)','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','คุณแน่ใจว่าต้องการลบแท็บนี้?','bp-modal-question-complexity-select','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','#FFFFFF','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','student-list','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-shuffle-select','เกมเมอร์','shortcutId','\x20รายการ\x20สำเร็จ!','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','ออฟฟิศซินโดรม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-submit-short-answer-btn','score-distribution-chart','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','lowerGroupResponders','questionIndex','Error\x20calling\x20Gemini\x20API:','input[type=\x22checkbox\x22]','Error\x20moving\x20quiz:','save-quiz-edits-btn','.file-topic-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','date_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-adaptive-quiz-checkbox','scratchpad-canvas','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.file-shortcut-btn','perseverance','studentName','ยังไม่มีนักเรียนส่งงาน','docs','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','live-short-answer-input','admin','lessonPlan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</a>','\x20คนที่ส่ง\x20ตอบถูก\x20(','NEGATIVE_INFINITY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','กรุณาเลือกคำตอบของกลุ่ม','(^|[^\x5c\x5c])\x5cb','stopPropagation','\x20<!--\x20[เพิ่ม]\x20แสดง\x20PIN\x20ที่นี่\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','newCorrectIndex','results_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','pairedQuizId','\x20คะแนน</span></div>','$1\x5c%','<button\x20id=\x22','เกิดข้อผิดพลาดในการส่งคำตอบ','bg-green-50','.delete-svg-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','project-dashboard-view','_opt0\x22\x20name=\x22question','หน่วยมวล/น้ำหนักและการแปลง','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','เศษส่วน\x20(ย่อ/ขยาย)','topic-bank-subtopic-name','blueprint-project-manager-view','player-list-lobby','#F59E0B','G-V90KRM0L63','STARTING_LIVES\x20is\x20not\x20defined!\x20Defaulting\x20to\x203.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','cancel-move-quiz-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','back-to-student-home-btn','<svg','สร้างแล้ว','pointerType','เกิดข้อผิดพลาดในการนำผู้เล่นออก','สายลับจับบ้านเล็ก','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>',':</span><span>','.shortcut-list-item','url','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','ติดซีรีส์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','เกิดข้อผิดพลาดในการลบผลสอบ','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรีโกณมิติ','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','upperGroupResponders','open-sync-scratchpad-btn','ผิด','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','setItem','not_generated','transform','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','passing-score-input','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','dragend','ย้าย','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','.live-answer-btn,\x20#live-submit-short-answer-btn','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','quiz-editor-modal','สมการลอการิทึม','save-bp-settings-btn','behaviorLog','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','จำนวนเต็มลบ','Error\x20joining\x20sync\x20game:','Error\x20starting\x20sync\x20game:','Error\x20duplicating\x20quiz:','จอมเวทย์ขนมหวาน','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','rgba(255,\x20255,\x200,\x200.5)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วงกลม:\x20สมการและสมบัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','สถิติและความน่าจะเป็น','bg-amber-100\x20text-amber-800','Error\x20listening\x20for\x20custom\x20math\x20topics:','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','กำลังสร้างแบบทดสอบจากหัวข้อ...','<p\x20class=\x22font-bold\x20text-sm\x20','เศรษฐีดูไบ','items','incorrect','type','ไฟล์ลัด\x202','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','interesting-stats-container','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','quiz-generation-area','upper_group_count','commit','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','option','screen_exit','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','bg-green-100\x20text-green-800','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','screen','input[name=\x22syncVariant\x22][value=\x22classic\x22]','bg-red-500','pointerup','คู่จิ้น','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','_blank','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','<tr>','newOptions','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','แก้ไขสูตรคณิตศาสตร์\x20','request','เริ่มกิจกรรม:\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','manage-players-btn','cancel-quiz-edits-btn-footer','[data-topic-id=\x22','สิงโตยิ้ม','ยกเลิกการเชื่อมโยงสำเร็จ','การหาร','confidence-scoring-toggle','input[name=\x22team_player\x22]:checked','</span><span\x20class=\x22font-bold\x22>','Error\x20processing\x20shortcut\x20click:','confidence-scoring-description','/public/data/blueprintProjects/','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x20mb-2\x22>','_opt','delete-svg-btn','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','COMEBACK_KING','กำลังสร้างแบบทดสอบ\x20\x22','frac','default','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointermove','.quiz-bank-delete-btn','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','lineJoin','summary_chart','blueprintShortcuts','\x27,\x20\x27','end-team-quiz-btn','handleGenerateQuizFromBlueprintTopic','isNormalTopic','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','#E5E7EB','แบตหมด','<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','ทศนิยม\x20(ค่าประจำหลัก)','back-to-dashboard-from-bp-btn','/public/data/projects','814jDSeYJ','close-comparison-modal-btn','คาถาแยกเงาพันร่าง','\x22><i\x20class=\x22fas\x20','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','.quiz-bank-settings-btn','ตั้งเวลา\x20(เปิด)','PERFECT_SCORE','results-tab-content','ต้นฉบับ\x202','isAdaptive','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','ส่งคำตอบ','ค่าความจริง/ตารางค่าความจริง','สมการตรีโกณมิติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','null','ยังไม่ส่ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','Error\x20updating\x20old\x20quizzes:','Error\x20during\x20class\x20analysis:','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','answerValue','classList',';\x22\x20data-id=\x22','คณิตศาสตร์','ครูใหญ่','next-question-timed-btn','bulk-quiz-settings-btn','blueprint.pdf','eraser','จัดการ','short','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คัดลอกรหัสแล้ว!','entries','label','input','ครัวซองต์','.generate-post-test-btn','Group\x20Mode','/preferences/main','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','.question-editor-item','.bp-unlink-quiz-btn','leaderboard-quiz','clear-all-links-btn','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','summaryContent','cancel-admin-login-btn','(ฉบับง่าย)\x20','answerText','Error\x20saving\x20visibility\x20settings:','แบบทดสอบ:\x20','top','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','globalSettings','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','.project-card-container:not(.opacity-50)','options','.verification-result','<i\x20class=\x22fas\x20fa-magic\x22></i>','projectSort','\x0a\x20\x20\x20\x20','cancel-quiz-status-btn','ไฟล์ลัด\x201','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','start-presentation-btn','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','Error\x20preparing\x20content\x20quiz:','projectSortOrder','rgba(59,\x20130,\x20246,\x200.7)','additional-parallel-shortcuts-modal','presentation-explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','status','.regenerate-question-editor-btn','length','NUMBER','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','move-quiz-project-select','fileShortcutsConfig','splice','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manual-create-blueprint-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionDisplayedAt','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20คน\x20ตอบถูก</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','สร้างแบบทดสอบ','parseInline','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','.delete-hidden-shortcut-btn','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','get','กฎของไซน์','Error\x20adding\x20custom\x20topic:','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer-counter','helvetica','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','การลบทศนิยม','กำลังอ่านไฟล์อ้างอิง...','สายตาสั้น','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','พาราโบลา','save-game-results-checkbox','ข้อ\x20','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','pre-test','กำลังวิเคราะห์หัวข้อ...','.bp-generate-lesson-btn','แม่น้ำ','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.lastAnswerIndex','select','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','41410cKPtDp','touch','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้าวมันไก่พิเศษ','readAsArrayBuffer','projectView','Error\x20starting\x20team\x20quiz:','export-leaderboard-word-btn','confirm-create-project-btn','leaderboard-quiz-tab-content','ตรวจคะแนนใหม่\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.duplicate-quiz-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','shortcut-reference-url-input','getBBox','exists','analytics-summary-cards','</tbody></table></div>','[data-topic-container-id]','str','\x20รายการ...','Error\x20processing\x20file\x20for\x20AI:','touchend','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x20|\x20ID:\x20','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','quizId','pen','questions','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','<option\x20value=\x22\x22>กำลังโหลด...</option>','manual-bp-project-name','สมมาตร\x20(แกน/จุด)','from','md:col-span-3','getPage','active','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','visibilitychange','select-all-topics-btn','workerSrc','\x20ชุด)</span>','/public/data/customMathTopics','แบบปรนัย\x204\x20ตัวเลือก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','wheel','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','file-default-2','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','insertAdjacentHTML','quiz-leaderboard-table','\x0a\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','<div>','analytics-tab-content','attempts','topic-input','text-blue-800','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','save-shortcut-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','blur','cloneNode','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','grabbing','line-height:\x201.3;\x20min-width:\x200;','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','หลังเรียน','</div></div>','parseFromString','แก้ไขชื่อหัวข้อย่อย:','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','multiple_choice','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','typesetPromise','results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','totalPoints','ยอดนักสืบ','list-view-btn','นักล่าฝัน','autoTable','fadeStartTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','comparison-modal','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','Enter','student-quiz-leaderboard-table-body','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','bulk-confidence-mode-container','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','<i\x20class=\x22fas\x20fa-pen\x22></i>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','currentMode','link-url-input','backgroundColor','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','game-start-mode','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','#view-rankings-btn','เรขาคณิตวิเคราะห์','devicePixelRatio','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','suggestedAnswer','.mb-6.p-4','#student-project-leaderboard-content\x20thead','ไอรอนแมน','.move-file-shortcut-item','คำอธิบาย...','Error\x20editing\x20topic:','destination-out','original-mode-checkbox','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','student-view','parallel-shortcut-editor-modal','admin-dashboard','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x22\x20จำนวน\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ม้าดีดกะโหลก','max','shortcuts','file-shortcut-editor-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','รูปหลายเหลี่ยมและมุมภายใน','<div\x20class=\x22p-2\x20rounded-md\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','lastIndexOf','style','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','perQuestionStats','Error\x20deleting\x20all\x20students:','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-slide-container','trim','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','.delete-parallel-shortcut-tab-btn','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','finishReason','.verification-result-editor','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','ตารางความถี่','สร้างคำถามแบบใช่/ไม่ใช่','</td>','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','คะแนน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','FileReader\x20error:','reference.txt','save','export-compact-pdf-btn','push','tooltipTarget','disabled','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ทะเล','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะเวลา\x20(นาที):','.eraser-size-btn','กรุณาพิมพ์คำตอบ','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','per_question','bg-yellow-200','check-presentation-answer-btn','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','write','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบแบบทดสอบ','Error\x20generating\x20lesson\x20plan:','stepByStepExamples','\x5csum','ข้อต่อไป','comparison-overall-tab','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การคูณทศนิยม','answer','ดอกเบี้ยทบต้น','\x20ครั้ง)</span></td>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','game-start-modal-title','lastAnswerIndex','\x22>จาก:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-quiz-id=\x22','เพิ่ม\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','isRemedial','add','scores-tab-btn','บันทึกการตั้งค่าแล้ว','#D1FAE5','team-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','trail','สร้างโปรเจคสำเร็จ!','getAttributeNS','\x20ชุด)','include-images-checkbox','quick_thinker','release','show_pass_fail_only','start-game-btn','change','คนโสด','parent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','student-progress-view','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','bg-[#EF4444]\x20text-white\x20font-bold','project-passcode-input','-options\x22>','copy-quiz-id-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','/submissions','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','250272mtzQmq','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','getDocument','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','ตัวแปรและนิพจน์','first_try_ace','className','blueprint-options-container','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','preScore','pointContent','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','):\x20','#results-table\x20thead\x20tr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','modal-timer-duration-label','catch','กรุณาเลือกโปรเจคปลายทาง','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','<option\x20value=\x22','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','2-digit','file-shortcut-name-input','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','.presentation-option','student-quiz-area','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','move','parts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','includes','parallel-shortcut-tabs-nav','neq','.project-card-container[data-id]','.bp-view-analysis-btn','totalDisplayScore','project-quizzes-list','text-content-input','POST','editable-quiz-topic','transition-all','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คะแนนยังไม่ถึงครึ่ง','application/pdf','<textarea\x20name=\x22question','submit-group-answer-btn','afterend','cancel-global-activity-btn','reference_onet.pdf','/public/data/learnedFixes','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','การประยุกต์เวกเตอร์พื้นฐาน','bg-[#DCFCE7]\x20text-green-900','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','results-table','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x22\x20value=\x22','.delete-bp-project-btn','scratchpad-clear-btn','fill_in_the_blank','onclick','dataIndex','.draggable-text','.lastAnswerValue','.export-pdf-list-btn','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','จากเนื้อหาต่อไปนี้:\x20\x22','timed','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','ไม่พบข้อมูลแบบทดสอบ','บทเรียนเรื่อง:\x20','sync-variant-selector','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','activeGameSession','Error\x20updating\x20sort\x20preference:','rgba(239,\x2068,\x2068,\x200.9)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show-in-student-dashboard-checkbox','numeric','input[name=\x22question_single\x22]:checked','ไม่ผ่าน','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','parallel-default-2','Error\x20generating\x20parallel\x20test\x20from\x20bank:','#FEE2E2','flex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','manage','ยอดเยี่ยม!','ผู้เชี่ยวชาญ','(ไม่มีชื่อ)','quiz-editor-questions-container','ไม่สามารถบันทึกการตั้งค่าได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','blob','\x20ตอบ','ฟังก์ชันแบบชิ้นส่วน','opacity-50','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','half_mark_status','move-quiz-modal','.kick-player-btn-sync','postScore','question','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','เกิดข้อผิดพลาดในการเปลี่ยนสี','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','กัปตัน','add-student-btn','modal-message','project-sort-select','quiz','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','modal-loop-until-pass-checkbox','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','loader','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','blockReason','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','touchstart','.delete-submission-btn','shortcut-editor-modal','latestSubmittedAt','drop','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per-question-options','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','upperGroupNames','</p>','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','innerHTML','schedule','อยู่ในสาระการเรียนรู้ใด:','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','left','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22team_answer\x22\x20value=\x22','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.subTopic','กรุณาเลือกไฟล์ก่อน','[data-field=\x22subTopic\x22]','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','จันทร์เจ้า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','reveal-names-btn','total','สายลมแห่งโชคชะตา','Failed\x20to\x20generate\x20lesson:','นกฮูกกลางวัน','checkbox','matching_item','\x20\x20\x20-\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','projectOrder','สายหมอก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','บันทึกการแก้ไข','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','targetId','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','true_false','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','Error\x20processing\x20parallel\x20shortcut\x20click:','สมการเชิงเส้นตัวแปรเดียว','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20quiz\x20settings:','อกหัก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','admin-try-quiz-btn','\x20คะแนน</span>','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','string','justification','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','อสมการเชิงเส้น','<div\x20class=\x22','เกิดข้อผิดพลาดในการเข้าร่วมเกม','export-leaderboard-excel-btn','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','\x5cge','.group\x5c/dropdown-file','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','parallelTestShortcutsConfig','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','</tr>','fa-shield-alt\x20text-gray-600','\x22\x20data-name=\x22','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.answered','bg-red-50','confidence-input-','<div\x20id=\x22q-image-container-','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','Error\x20updating\x20project\x20color:','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','has','default-2','selected-topics-count','\x22\x20title=\x22','export-word-btn','gain','เลือกโปรเจคเพื่อบันทึก','text-yellow-300','gradeLevel','.parallel-shortcut-tab-btn','dataset','.linkedQuizIds','ผู้เล่นใหม่\x20','correctResponse','mousemove','competition','start-quiz-btn','#10B981','บันทึกผลการเล่นเกมของ\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','asc','isDefault','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','Error\x20fetching\x20projects\x20for\x20move:','dragstart','passingScore','.compare-results-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','.delete-hidden-file-shortcut-btn','reset-view-btn','#e21b3c','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','Error\x20generating\x20from\x20parallel\x20test\x20file:','tabId','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','จำนวนคละ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','highlighter-tool-btn','.delete-parallel-shortcut-btn','underline','unshift','groups.','กรุณาเลือกโปรเจคก่อน','description','confirm-move-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','confirm-bulk-quiz-settings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','teachingContent','substr','Loaded\x20','สร้างแบบทดสอบปรนัย','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','result','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','.pointsLastQuestion','.score','shuffledQuiz','submit-team-answer-btn','admin-password-modal','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','mode-switcher-btn','center','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','.move-shortcut-dropdown','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','<p\x20class=\x22text-2xl\x22>','ชาไข่มุก','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','bg-green-100\x20font-bold','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','team-player-status-grid','text','clientX','\x22\x20data-pre-test-id=\x22','getScreenCTM','การบวกเศษส่วน','.csv','team-student-list','application/json','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','json','learningGaps','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อสมการค่าสัมบูรณ์','.start-game-btn','.delete-student-btn','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','getTime','จำนวนข้อ:','click','text-green-700\x20bg-green-100','\x22\x20data-target-tab-id=\x22','explanation','innerText','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','playerName','answered','ชนิดของข้อมูลและการเก็บข้อมูล','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','</span><span\x20class=\x22block\x20text-sm\x20text-gray-400\x22\x20style=\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','requestFullscreen','cancel-export-pdf-btn','message','blueprint-settings-modal','ไม่มี','#FEF3C7','เต่าสายฟ้า','AI\x20Formula\x20Fix\x20Error:','Failed\x20to\x20end\x20group\x20mode\x20game:','เกิดข้อผิดพลาดในการลบ','ตัวประกอบและตัวประกอบเฉพาะ','ปวดหลัง','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','quadraticCurveTo','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','<p>','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','แบบทดสอบนี้หมดเวลาแล้ว','แก้ไขปุ่มลัด','after','save-visibility-settings-btn','parallel-shortcut-url-input','results-table-container','add-from-global-bank-btn','timer-duration-container','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/public/data/practiceBank','idealAnswer','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','quizType','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','.edit-hidden-shortcut-btn','.move-shortcut-item','bp-modal-num-choices','ผู้พิชิตดาว','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.edit-hidden-parallel-shortcut-btn','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','\x20ข้อ\x20','offset','restore','timerDuration','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','confirm-game-start-btn','text-gray-300\x20hover:text-white','number','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','download','map','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','ธอร์ค้อนบิน','scratchpad-modal','file-default-1','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','dashboardConfig','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','confirm-passcode-btn','sync-short-answer-input','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','px)\x20scale(','โลมาบิน','สามเหลี่ยม\x20(ชนิด/สมบัติ)','พีชคณิตและฟังก์ชัน','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','update','ฟังก์ชันพหุนาม','แบบทดสอบจากคลังส่วนตัว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','.quiz-bank-try-btn','whole_quiz','globalCompositeOperation','localeCompare','moveTo','เกิดข้อผิดพลาดในการบันทึกโปรเจค','</strong></div>','ถูก','<option>กำลังโหลดโปรเจค...</option>','webkitExitFullscreen','ceil','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','toLowerCase','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','จำนวนนักเรียน','.quiz-bank-checkbox:checked','.file-shortcut-btn[data-id=\x22','checked','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20from\x20link:','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','perfect_score','file-shortcut-container','กำลังเตรียมไฟล์...','/public/data/syncGames','หน่วยเวลาและการคำนวณเวลา','<br>','กรุณาเลือกคำตอบ','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','quiz-id-input','toLocaleDateString','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','หัวข้อที่สร้างเอง','resultsDisplay','การลบเศษส่วน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','manual-bp-grade-level','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>',')\x22><span\x20style=\x22','generate-from-blueprint-btn','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','math-topic-search-input','.delete-hidden-parallel-shortcut-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','.ai-content\x20li','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22><p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','instructions','.topic-selection-btn','bg-green-200','\x22\x20data-topic=\x22','additional-shortcuts-modal','confirmation-modal','auto-fix-latex-btn','values','\x22\x20name=\x22drill_answer\x22\x20value=\x22','.shortcut-tab-btn','topicId','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','keyup','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20saving\x20file\x20shortcut:','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','mouseup','Error\x20pairing\x20quizzes:','หมดเวลา!\x20กำลังส่งคำตอบ...','responses','scrollHeight','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','height','กำลังเตรียมไฟล์อ้างอิง...','stdDev','live-race','onload','parallel-shortcut-name-input','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','presentation-scratchpad-btn','next-drill-btn','indexOf','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','</li>','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','Error\x20in\x20handleApiCall:','ความคล้ายของรูป','filter','<button\x20data-value=\x22','\x20ตัวเลือก.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','startTime','\x20to\x20blueprint\x20topic\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Blueprint\x202','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','quiz-leaderboard-table-container','hint-btn','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','กำลังโหลดคลังข้อสอบทั้งหมด...','กลุ่มของคุณ','รูปแบบการให้เหตุผล','ควรปรับปรุง','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','find','เมทริกซ์:\x20บวก/คูณ','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','open-scratchpad-btn','นอนไม่พอ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','gamePin','.ai-content\x20td','text-indigo-600','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','#student-quiz-leaderboard-content\x20thead','.isScored','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','readAsDataURL','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','removeChild','Error\x20opening\x20quiz\x20editor:','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','นำแบบทดสอบออกจากคลังนี้แล้ว','<div\x20class=\x22my-2\x22>','pointerdown','/users/','save-quiz-btn','global-activity-modal','icon','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','<div\x20class=\x22mb-3\x20topic-category\x22>','beginPath','เกิดข้อผิดพลาดในการลบโปรเจค','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','/public/data/quizzes/','ไม่สามารถโหลดรายการโปรเจคได้','viewBox','shortcutIds','เกิดข้อผิดพลาดในการสร้าง:\x20','generated-quiz-container','rgba(239,\x2068,\x2068,\x200.7)','.move-parallel-shortcut-dropdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','กรุณาตั้งชื่อแท็บใหม่:','Successfully\x20removed\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','stringify','bp-modal-num-questions','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','bp-modal-shuffle-setting-select','bg-yellow-100','Error\x20joining\x20activity:','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.edit-shortcut-btn','badgesCount','linkedQuizIds','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20แบบทดสอบลงในคลังสำเร็จ!','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','มุมและการวัดมุม','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','กรุณาวาง\x20URL\x20ของบทความก่อน','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','title','geq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','candidates','mixed','<li\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','standardTopic','Error\x20toggling\x20pin\x20status:','newOptionsPayload','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','show_results_and_answers','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','undo-btn','comparison-individual-content','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','Error\x20updating\x20pin\x20status:','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','lesson-view-content','คำถามถัดไป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parse','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','กำลังสร้างคำถามข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','.delete-project-btn','ปลาทูคะนอง','ไม่มีคำอธิบาย','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','คำเตือน\x20(','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','contents','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','มัธยฐาน','parallel-test-input-area','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','นักเดินทาง','สลับไปโหมดผู้ควบคุม','blueprint-tab','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','.pen-color-btn','<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','student-progress-content','\x22\x20name=\x22question_single\x22\x20value=\x22','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','analytics','score','authed_project_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','rename-quiz-input','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','nextElementSibling','close-additional-shortcuts-btn','...\x22)?','#math-topics-checkbox-container\x20input:checked','โหลดนาน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','tan','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ondblclick','modal-confidence-scoring-checkbox','ทำคะแนนได้เกินครึ่ง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','end-sync-game-btn','cancel-bulk-quiz-settings-btn','group','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','close-lesson-plan-modal-footer-btn','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','show-results-btn','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','404\x20Not\x20Found','ผ่าน','ไอติมทอด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','00:00','.unpair-quiz-btn','category','loop-until-pass-checkbox','สลับไปโหมดนักเรียน','ความน่าจะเป็นแบบมีเงื่อนไข','เน็ตไอดอล','<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','confirm-join-game-btn','smooth','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','verify-answers-editor-btn','ลบหัวข้อสำเร็จ','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','allResponses','num-choices','<p><strong>คำตอบของคุณ:</strong>\x20','comparison-chart','Copy\x20command\x20failed','เปิด\x20(จับเวลา)','การแจกแจงปกติและ\x20z-score','parallel-shortcut-container','.bp-create-content-quiz-btn','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','prod','file-shortcut-url-input','\x5cdiv','fa-fire\x20text-orange-500','.answers','ปรับเพิ่ม/ลดเป็นร้อยละ','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบตารางสำหรับ\x20Export','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','correct','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20shortcut:','generate-from-parallel-test-btn','loopUntilPass','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button></div>','reduce','width','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pre-test-checkbox','.bp-live-btn','274192258111','lesson-view-title','postTScore','.edit-hidden-file-shortcut-btn','.regenerate-question-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timerMode','touchcancel','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','Error\x20saving\x20game\x20results:','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','No\x20player\x20data\x20to\x20save.','แมวเก้าชีวิต','เกิดข้อผิดพลาดในการลบนักเรียน','pointercancel','isLooping','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Sync\x20Mode','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','table','\x22\x20class=\x22pin-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-blueprint-projects-btn','เกมสิ้นสุดลงแล้ว','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.submittedAt','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','cancel-file-shortcut-edit-btn','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','API\x20Error\x20Body:','ไม่พบเอกสารการส่งงานของ\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','MathJax','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x20in\x20all\x20blueprint\x20projects.','\x20(ID:\x20','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','ownerSVGElement','button','/questionBank','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#retake-for-improvement-btn','เกิดข้อผิดพลาดในการจับคู่','href','text-indigo-800','fixedData','.bp-create-onet-quiz-btn','ref','ปิดใช้งาน','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','thead\x20.sortable-header','data','จับคู่แบบทดสอบสำเร็จ!','เกิดข้อผิดพลาดในการอัปเดต:\x20','circle','temp-loader-text-results','reveal-answer-btn','ตัวเลือก\x20ค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','log','promptFeedback','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-manual-bp-btn','/public/data/liveGames','ปริพันธ์จำกัด','9306944OrQfSv','cancel-test-btn','confirmation-message','sara','ไม่มีผู้ตอบตัวเลือกนี้','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','การนับ','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','\x22><span\x20style=\x22','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','จำนวนและการดำเนินการ','Failed\x20to\x20create/update\x20submission\x20record:','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','quizMode','fixed','.flex.justify-between.items-center','\x22>(???)</span></div>','เกิดข้อผิดพลาดในการยืนยันผู้เล่น:\x20','quiz-type-select','modal-close-btn','mandatory','Error\x20linking\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กำลังจับคู่...','กระต่ายตื่นตูม','fa-dumbbell\x20text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','overflowY','responseSchema','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','.png','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','getBoundingClientRect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','removeEventListener','input[name=\x22status-option\x22]:checked','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-input','กำลังสร้างแบบทดสอบ:\x20','topic_','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','timer-bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','เกิดข้อผิดพลาดในการบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เนื้อหาสำหรับสอน:\x20','ARRAY','stem','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','ตัวเลือก\x20ก','bank-quiz-list','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','files','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','pow','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','leq','CEOพันล้าน','onloadend','AI\x20request\x20was\x20blocked.\x20Reason:\x20','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','submission-status-chart','ห.ร.ม.\x20(GCD)','เลือกและเริ่มสร้าง','export-pdf-modal','</span>','sync-player-management','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','confirm-admin-login-btn','ไก่ฟ้าพญาลอ','getElementsByTagName','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','ไม่พบข้อมูลผู้ใช้','submission','ระบบสมการเชิงเส้นสองตัวแปร','preTestId','\x20\x20\x20-\x20คำตอบ:\x20','user','confirm-confident','shuffle','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','ปุ่มลัดทั้งหมด','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','\x20pointer-events-none\x22>','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','message-modal','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','summary','generate-from-text-btn','project-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-quiz-id-display','บันทึกแบบทดสอบสำเร็จแล้ว!','border-indigo-400\x20ring-2\x20ring-indigo-200','scheduled','No\x20unanswered\x20players\x20found\x20on\x20this\x20device.\x20Waiting\x20for\x20re-render.','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','generationConfig','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','topics','#6366F1','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','global-quiz-count','replaceChild','เสือซ่อนเล็บ','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-500\x20text-white\x20font-bold','live-game','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','Error\x20showing\x20quiz\x20detail\x20view:','source-over','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','ยังไม่เต็มนะ','export-worksheet-pdf-btn','solution','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','slide-counter','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','เรเดียนและการแปลงหน่วย','สุดยอด!\x20ตอบถูกทุกข้อ','แบบทดสอบฝึกฝนเรื่อง:\x20','สรุปผลสุดท้าย','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x20คู่\x20','scratchpad-close-btn','referenceUrl','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','สอบปกติ','ดีเทอร์มิแนนต์','</tbody></table>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','Error\x20updating\x20custom\x20topic:','ลำดับเรขาคณิต\x20(GP)','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x20ตัวเลือก)','.quiz-result-card','เพิ่มหัวข้อ\x20\x22','Error\x20analyzing\x20file\x20for\x20topics:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lesson-plan-modal','<p\x20class=\x22text-xl\x22>','ส่งแล้ว','medium','.ideal-answer-input,\x20.correct-response-input','manual_release','Error\x20starting\x20live\x20race:','back-to-dashboard-btn','จำนวนเต็มบวก','Error\x20confirming\x20players\x20for\x20sync\x20game:','Error\x20listening\x20for\x20projects:','commonMistakes','blueprint-project-list','OBJECT','bp-topic-list-container','promise','fill_in_with_choices','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','generated','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','save-settings-btn','.live-answer-btn','การบวกทศนิยม','โจรสลัดอวกาศ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','กรุณาป้อนรหัสแบบทดสอบ','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.tab-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x5ctimes','redo-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','join','shouldSaveResults','หัวข้อหลักใหม่','ศิลปิน','ไม่สามารถสร้างโปรเจคได้','baseVal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','close-student-rankings-btn','bg-red-100\x20text-red-800',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-100','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','scrollX','.color-palette-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20verifying\x20answers:','ยูทูปเบอร์ฝึกหัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','global-quiz-search-input','keydown','การสร้างรูปด้วยวงเวียน–สันตรง','การปัดเศษและประมาณค่า','Error\x20displaying\x20question\x20bank:','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','clientY','.ai-content\x20p','hint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','deg','\x22.\x20','bg-blue-100\x20text-blue-800','ความสัมพันธ์ของมุม','bg-green-400\x20text-white\x20font-bold','\x5cpm','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','sync-submit-btn','คะแนนเต็ม','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','parentNode','bulk-quiz-settings-modal','behavior-log-tab-btn','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','modal-confidence-mode-container','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','การวัด','12QZZana','transparent'];_0x5099=function(){return _0x119d22;};return _0x5099();}function getDistance(_0xe56f15,_0x1a3b5c){const _0x422296=_0x361958;return Math[_0x422296(0x2b6)](Math['pow'](_0xe56f15['x']-_0x1a3b5c['x'],0x2)+Math[_0x422296(0xb4a)](_0xe56f15['y']-_0x1a3b5c['y'],0x2));}function getMidpoint(_0x458e9a,_0x5d370d){return{'x':(_0x458e9a['x']+_0x5d370d['x'])/0x2,'y':(_0x458e9a['y']+_0x5d370d['y'])/0x2};}function getTransformedPoint(_0x5aab5b,_0x1cf30c){return{'x':(_0x5aab5b-scratchpadOffset['x'])/scratchpadScale,'y':(_0x1cf30c-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x1e864d=_0x361958;if(!scratchpadCtx)return;const _0x5759ea=scratchpadCtx['canvas'],_0x313d6c=window['devicePixelRatio']||0x1,_0x224ec1=document[_0x1e864d(0x403)]('scratchpad-header');_0x224ec1&&(_0x224ec1[_0x1e864d(0x77b)]['transformOrigin']=_0x1e864d(0xc1b),_0x224ec1[_0x1e864d(0x77b)][_0x1e864d(0x5fb)]='translate('+scratchpadOffset['x']+_0x1e864d(0x1bc)+scratchpadOffset['y']+_0x1e864d(0x96e)+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx['setTransform'](_0x313d6c,0x0,0x0,_0x313d6c,0x0,0x0),scratchpadCtx[_0x1e864d(0x202)](0x0,0x0,_0x5759ea['width'],_0x5759ea['height']),scratchpadCtx['restore'](),scratchpadCtx[_0x1e864d(0x796)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes['forEach'](_0x11e015=>{drawStroke(_0x11e015);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function renderGroupModeQuestion(){const _0x32d6f4=_0x361958;if(localQuestionIndex>=currentQuizData[_0x32d6f4(0x707)][_0x32d6f4(0x6b7)]){displayTeamQuizFinalResults();return;}const _0xfae94f=currentQuizData['questions'][localQuestionIndex],_0x1b55b9=_0xfae94f[_0x32d6f4(0x30c)]||currentQuizData[_0x32d6f4(0x94d)];let _0x304a97=_0xfae94f['stem']||_0xfae94f[_0x32d6f4(0xf5)],_0x3ab90e='';switch(_0x1b55b9){case _0x32d6f4(0x736):case _0x32d6f4(0xbb8):_0x3ab90e=_0xfae94f[_0x32d6f4(0x6a5)]['map']((_0x4dd1b4,_0x2f3f50)=>_0x32d6f4(0x32b)+_0x2f3f50+_0x32d6f4(0x876)+_0x2f3f50+_0x32d6f4(0x50d)+_0x2f3f50+'\x22>'+_0x4dd1b4+_0x32d6f4(0x2c4))['join']('');break;case _0x32d6f4(0x891):_0x3ab90e=_0x32d6f4(0xb7c);break;case'short_answer':case'fill_in_no_choices':_0x3ab90e=_0x32d6f4(0x4d7);break;case _0x32d6f4(0x886):_0x3ab90e='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0xfae94f[_0x32d6f4(0xaa2)]['map'](_0xe19625=>_0x32d6f4(0x7f5)+_0xe19625+'\x22>'+_0xe19625+'</option>')[_0x32d6f4(0xbcc)]('')+'</select>';break;default:_0x3ab90e='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x32d6f4(0x86f)]=_0x32d6f4(0x209)+(localQuestionIndex+0x1)+_0x32d6f4(0xc41)+currentQuizData[_0x32d6f4(0x707)][_0x32d6f4(0x6b7)]+_0x32d6f4(0xcd6)+localTeamPlayers[_0x32d6f4(0xbcc)](',\x20')+_0x32d6f4(0x81e)+(localQuestionIndex+0x1)+'.\x20'+_0x304a97+_0x32d6f4(0x896)+(_0xfae94f[_0x32d6f4(0x1ef)]?_0x32d6f4(0xc4f)+_0xfae94f['imageCode']+'</div>':'')+_0x32d6f4(0x749)+_0x3ab90e+_0x32d6f4(0xc5e),studentQuizArea[_0x32d6f4(0x67e)]['remove'](_0x32d6f4(0x17c));if(window[_0x32d6f4(0xaeb)])MathJax[_0x32d6f4(0x738)]([studentQuizArea]);document[_0x32d6f4(0x403)](_0x32d6f4(0x812))[_0x32d6f4(0x224)](_0x32d6f4(0x920),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x2aa59f,_0x1fda2f=null,_0x27c5af,_0xdc2178=null,_0x29f463=![],_0x5efdd5=null){const _0x4d2d1f=_0x361958,_0x513fc9=document[_0x4d2d1f(0x403)]('quiz-generation-area');_0x513fc9&&_0x513fc9['scrollIntoView']({'behavior':_0x4d2d1f(0xa9d),'block':_0x4d2d1f(0x8fb)}),generateQuiz(_0x2aa59f,_0x1fda2f,null,_0x5efdd5,!![],_0x27c5af,_0xdc2178,_0x29f463);}function handleGenerateAndShowLesson(_0x198b09,_0x1f2c9e){const _0x548147=_0x361958,_0x164e54=document['getElementById'](_0x548147(0xc2b)),_0x26c96f=document[_0x548147(0x403)]('lesson-view-title'),_0x390ad3=document[_0x548147(0x403)](_0x548147(0x320)),_0x307c4c=document['getElementById'](_0x548147(0x180));['pointContent','memoryContent','applicationContent',_0x548147(0x697)][_0x548147(0x384)](_0x4a72c4=>{const _0xd1d986=_0x548147,_0x4ddcab=document[_0xd1d986(0x403)](_0x4a72c4)[_0xd1d986(0x3bf)];_0x4ddcab&&(_0x4ddcab[_0xd1d986(0x77b)]['display']='block');}),_0x26c96f[_0x548147(0x317)]=_0x548147(0x372)+_0x198b09,_0x307c4c[_0x548147(0x67e)][_0x548147(0x7be)]('hidden'),_0x390ad3[_0x548147(0x67e)]['remove'](_0x548147(0x17c)),_0x164e54[_0x548147(0x67e)][_0x548147(0x3e9)]('hidden'),generateLesson(_0x198b09,_0x1f2c9e)[_0x548147(0x7f1)](_0x4c5802=>{const _0x6d51c9=_0x548147;console[_0x6d51c9(0x51e)](_0x6d51c9(0x883),_0x4c5802),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x164e54[_0x6d51c9(0x67e)][_0x6d51c9(0x7be)](_0x6d51c9(0x17c));});}function handlePointerDown(_0x12b772){const _0x1282bf=_0x361958;_0x12b772['preventDefault']();const _0x5d865c=scratchpadCtx['canvas'],_0xf73876=_0x5d865c[_0x1282bf(0xb33)](),_0x11e57d=_0x12b772[_0x1282bf(0x5e0)]||(_0x12b772[_0x1282bf(0x31f)]?_0x1282bf(0x6e7):_0x1282bf(0xce9));if(_0x11e57d===_0x1282bf(0x706)||_0x11e57d===_0x1282bf(0xce9)){if(_0x12b772[_0x1282bf(0x5e0)]===_0x1282bf(0xce9)&&_0x12b772['button']!==0x0){_0x12b772[_0x1282bf(0xaf2)]===0x1&&(isMousePanning=!![],panStart={'x':_0x12b772[_0x1282bf(0x90c)],'y':_0x12b772[_0x1282bf(0xbeb)]},_0x5d865c[_0x1282bf(0x77b)][_0x1282bf(0xfe)]=_0x1282bf(0x72d));return;}activeTool===_0x1282bf(0x7c4)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x406da4=getTransformedPoint(_0x12b772[_0x1282bf(0x90c)]-_0xf73876[_0x1282bf(0x874)],_0x12b772[_0x1282bf(0xbeb)]-_0xf73876['top']);let _0x51f01f={'tool':activeTool,'points':[_0x406da4]};if(activeTool===_0x1282bf(0x706))_0x51f01f['color']=scratchpadPenColor,_0x51f01f[_0x1282bf(0x261)]=scratchpadPenSize;else{if(activeTool===_0x1282bf(0x685))_0x51f01f[_0x1282bf(0xdd)]=scratchpadPenColor,_0x51f01f[_0x1282bf(0x261)]=scratchpadEraserSize;else{if(activeTool===_0x1282bf(0xaac))_0x51f01f[_0x1282bf(0xdd)]=scratchpadHighlighterColor,_0x51f01f[_0x1282bf(0x261)]=scratchpadHighlighterSize;else activeTool===_0x1282bf(0x7c4)&&(_0x51f01f[_0x1282bf(0xdd)]=scratchpadPenColor,_0x51f01f[_0x1282bf(0x261)]=scratchpadPenSize);}}currentStroke=_0x51f01f;}else _0x12b772[_0x1282bf(0x31f)]&&(_0x12b772[_0x1282bf(0x31f)][_0x1282bf(0x6b7)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x12b772['touches'][0x0][_0x1282bf(0x90c)],'y':_0x12b772['touches'][0x0]['clientY']},{'x':_0x12b772[_0x1282bf(0x31f)][0x1]['clientX'],'y':_0x12b772[_0x1282bf(0x31f)][0x1][_0x1282bf(0xbeb)]}),initialPinchDistance=getDistance({'x':_0x12b772[_0x1282bf(0x31f)][0x0]['clientX'],'y':_0x12b772[_0x1282bf(0x31f)][0x0][_0x1282bf(0xbeb)]},{'x':_0x12b772[_0x1282bf(0x31f)][0x1]['clientX'],'y':_0x12b772['touches'][0x1][_0x1282bf(0xbeb)]})));}function animateTrail(){const _0x5f5b13=_0x361958,_0x5b7a0e=Date['now']();let _0x5a0c22=![];for(let _0x412364=strokes[_0x5f5b13(0x6b7)]-0x1;_0x412364>=0x0;_0x412364--){const _0x5e90b5=strokes[_0x412364];if(_0x5e90b5[_0x5f5b13(0x546)]===_0x5f5b13(0x7c4)&&_0x5e90b5[_0x5f5b13(0x741)]){const _0x316f2d=_0x5b7a0e-_0x5e90b5[_0x5f5b13(0x741)];_0x316f2d>=TRAIL_DURATION?strokes[_0x5f5b13(0x6bc)](_0x412364,0x1):(_0x5e90b5[_0x5f5b13(0x365)]=0x1-_0x316f2d/TRAIL_DURATION,_0x5a0c22=!![]);}}redrawScratchpad(),_0x5a0c22?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x146d60){const _0x34826=_0x361958;if(!_0x146d60||_0x146d60[_0x34826(0x479)][_0x34826(0x6b7)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x34826(0x656)]=_0x34826(0x29e),scratchpadCtx[_0x34826(0x10d)]='round';if(_0x146d60[_0x34826(0x546)]===_0x34826(0x7c4)){const _0x36ca59=_0x146d60[_0x34826(0x261)]/scratchpadScale;scratchpadCtx['globalAlpha']=_0x146d60[_0x34826(0x365)]??0x1,scratchpadCtx[_0x34826(0x3d3)]=_0x34826(0x833),scratchpadCtx[_0x34826(0xcd1)]=_0x36ca59*0x3,scratchpadCtx[_0x34826(0x391)]=_0x34826(0xa1e),scratchpadCtx[_0x34826(0x40d)]=_0x36ca59*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x34826(0x97d)](_0x146d60[_0x34826(0x479)][0x0]['x'],_0x146d60[_0x34826(0x479)][0x0]['y']);for(let _0x1f81c9=0x1;_0x1f81c9<_0x146d60['points']['length']-0x1;_0x1f81c9++){const _0x1911ea=getMidpoint(_0x146d60[_0x34826(0x479)][_0x1f81c9],_0x146d60[_0x34826(0x479)][_0x1f81c9+0x1]);scratchpadCtx[_0x34826(0x93c)](_0x146d60['points'][_0x1f81c9]['x'],_0x146d60['points'][_0x1f81c9]['y'],_0x1911ea['x'],_0x1911ea['y']);}scratchpadCtx[_0x34826(0x574)](),scratchpadCtx[_0x34826(0x3d3)]=_0x34826(0xc03),scratchpadCtx[_0x34826(0xcd1)]=0x0,scratchpadCtx[_0x34826(0x391)]=_0x34826(0x58b),scratchpadCtx['lineWidth']=_0x36ca59,scratchpadCtx[_0x34826(0x574)](),scratchpadCtx[_0x34826(0xcac)]();}else{if(_0x146d60['tool']===_0x34826(0xaac)){scratchpadCtx['globalCompositeOperation']='multiply',scratchpadCtx[_0x34826(0x391)]=_0x146d60['color'],scratchpadCtx['lineWidth']=_0x146d60[_0x34826(0x261)],scratchpadCtx['beginPath'](),scratchpadCtx['moveTo'](_0x146d60[_0x34826(0x479)][0x0]['x'],_0x146d60[_0x34826(0x479)][0x0]['y']);for(let _0x4588d0=0x1;_0x4588d0<_0x146d60[_0x34826(0x479)][_0x34826(0x6b7)]-0x1;_0x4588d0++){const _0x4e2c43=getMidpoint(_0x146d60[_0x34826(0x479)][_0x4588d0],_0x146d60[_0x34826(0x479)][_0x4588d0+0x1]);scratchpadCtx[_0x34826(0x93c)](_0x146d60[_0x34826(0x479)][_0x4588d0]['x'],_0x146d60[_0x34826(0x479)][_0x4588d0]['y'],_0x4e2c43['x'],_0x4e2c43['y']);}scratchpadCtx[_0x34826(0x574)](),scratchpadCtx[_0x34826(0xcac)]();}else{scratchpadCtx[_0x34826(0x97b)]=_0x146d60[_0x34826(0x546)]===_0x34826(0x685)?_0x34826(0x766):_0x34826(0xb87),scratchpadCtx[_0x34826(0x391)]=_0x146d60[_0x34826(0xdd)],scratchpadCtx[_0x34826(0x40d)]=_0x146d60['size'],scratchpadCtx[_0x34826(0xa15)](),scratchpadCtx['moveTo'](_0x146d60['points'][0x0]['x'],_0x146d60[_0x34826(0x479)][0x0]['y']);for(let _0x3ae2ea=0x1;_0x3ae2ea<_0x146d60[_0x34826(0x479)][_0x34826(0x6b7)]-0x1;_0x3ae2ea++){const _0x3bfc29=getMidpoint(_0x146d60[_0x34826(0x479)][_0x3ae2ea],_0x146d60[_0x34826(0x479)][_0x3ae2ea+0x1]);scratchpadCtx[_0x34826(0x93c)](_0x146d60[_0x34826(0x479)][_0x3ae2ea]['x'],_0x146d60[_0x34826(0x479)][_0x3ae2ea]['y'],_0x3bfc29['x'],_0x3bfc29['y']);}scratchpadCtx[_0x34826(0x574)](),scratchpadCtx[_0x34826(0xcac)]();}}scratchpadCtx[_0x34826(0x958)]();}function handlePointerMove(_0x261af7){const _0x3c9c7a=_0x361958;_0x261af7[_0x3c9c7a(0x27f)]();const _0x29f4bc=scratchpadCtx[_0x3c9c7a(0x488)],_0x901e2e=_0x29f4bc[_0x3c9c7a(0xb33)]();if(_0x261af7[_0x3c9c7a(0x31f)]){if(_0x261af7['touches']['length']===0x1&&isDrawingOnScratchpad){const _0x2e0fc6=getTransformedPoint(_0x261af7[_0x3c9c7a(0x31f)][0x0][_0x3c9c7a(0x90c)]-_0x901e2e[_0x3c9c7a(0x874)],_0x261af7[_0x3c9c7a(0x31f)][0x0][_0x3c9c7a(0xbeb)]-_0x901e2e[_0x3c9c7a(0x69d)]);currentStroke[_0x3c9c7a(0x479)][_0x3c9c7a(0x798)](_0x2e0fc6),redrawScratchpad();}else{if(_0x261af7[_0x3c9c7a(0x31f)]['length']===0x2&&isPanning){const _0x12209d=getDistance({'x':_0x261af7['touches'][0x0][_0x3c9c7a(0x90c)],'y':_0x261af7[_0x3c9c7a(0x31f)][0x0][_0x3c9c7a(0xbeb)]},{'x':_0x261af7[_0x3c9c7a(0x31f)][0x1][_0x3c9c7a(0x90c)],'y':_0x261af7[_0x3c9c7a(0x31f)][0x1][_0x3c9c7a(0xbeb)]}),_0x1e6780=getMidpoint({'x':_0x261af7[_0x3c9c7a(0x31f)][0x0][_0x3c9c7a(0x90c)],'y':_0x261af7[_0x3c9c7a(0x31f)][0x0][_0x3c9c7a(0xbeb)]},{'x':_0x261af7[_0x3c9c7a(0x31f)][0x1][_0x3c9c7a(0x90c)],'y':_0x261af7[_0x3c9c7a(0x31f)][0x1]['clientY']}),_0x861d0=_0x12209d/ initialPinchDistance,_0x44069a=Math[_0x3c9c7a(0xc8f)](Math[_0x3c9c7a(0x773)](scratchpadScale*_0x861d0,MIN_SCALE),MAX_SCALE),_0x1ad737=_0x1e6780['x']-panStart['x'],_0x1df0bb=_0x1e6780['y']-panStart['y'];scratchpadOffset['x']=_0x1e6780['x']-(_0x1e6780['x']-scratchpadOffset['x'])*(_0x44069a/scratchpadScale),scratchpadOffset['y']=_0x1e6780['y']-(_0x1e6780['y']-scratchpadOffset['y'])*(_0x44069a/scratchpadScale),scratchpadOffset['x']+=_0x1ad737,scratchpadOffset['y']+=_0x1df0bb,scratchpadScale=_0x44069a,initialPinchDistance=_0x12209d,panStart=_0x1e6780,redrawScratchpad();}}}else{if(isMousePanning){const _0x2e6798=_0x261af7[_0x3c9c7a(0x90c)]-panStart['x'],_0x4fed71=_0x261af7[_0x3c9c7a(0xbeb)]-panStart['y'];scratchpadOffset['x']+=_0x2e6798,scratchpadOffset['y']+=_0x4fed71,panStart={'x':_0x261af7[_0x3c9c7a(0x90c)],'y':_0x261af7[_0x3c9c7a(0xbeb)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x5a72c3=getTransformedPoint(_0x261af7[_0x3c9c7a(0x90c)]-_0x901e2e[_0x3c9c7a(0x874)],_0x261af7[_0x3c9c7a(0xbeb)]-_0x901e2e['top']);currentStroke['points'][_0x3c9c7a(0x798)](_0x5a72c3),redrawScratchpad();}}}}function handlePointerUp(_0x2cfba2){const _0x2370ae=_0x361958;_0x2cfba2[_0x2370ae(0x27f)]();const _0x933522=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x933522[_0x2370ae(0x77b)][_0x2370ae(0xfe)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x2370ae(0x479)][_0x2370ae(0x6b7)]>0x1&&(strokes[_0x2370ae(0x798)](currentStroke),currentStroke[_0x2370ae(0x546)]===_0x2370ae(0x7c4)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x3a94e2=_0x2370ae,_0x29324f=strokes['filter'](_0xd8351e=>_0xd8351e[_0x3a94e2(0x546)]===_0x3a94e2(0x7c4)&&!_0xd8351e[_0x3a94e2(0x741)]);if(_0x29324f[_0x3a94e2(0x6b7)]>0x0){const _0x4b3eb5=Date[_0x3a94e2(0x166)]();_0x29324f['forEach'](_0x45d0c7=>_0x45d0c7[_0x3a94e2(0x741)]=_0x4b3eb5),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x34c700){const _0x4a4be6=_0x361958;_0x34c700[_0x4a4be6(0x27f)]();const _0x3cf38d=_0x34c700[_0x4a4be6(0x2f8)]*-0.005,_0x1e8a6c=Math[_0x4a4be6(0xc8f)](Math[_0x4a4be6(0x773)](scratchpadScale+_0x3cf38d,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x34c700[_0x4a4be6(0x90c)]-(_0x34c700[_0x4a4be6(0x90c)]-scratchpadOffset['x'])*(_0x1e8a6c/scratchpadScale),scratchpadOffset['y']=_0x34c700['clientY']-(_0x34c700[_0x4a4be6(0xbeb)]-scratchpadOffset['y'])*(_0x1e8a6c/scratchpadScale),scratchpadScale=_0x1e8a6c,redrawScratchpad();}function undo(){const _0x11dd9f=_0x361958;strokes[_0x11dd9f(0x6b7)]>0x0&&(redoStrokes[_0x11dd9f(0x798)](strokes[_0x11dd9f(0x2ad)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x3f3173=_0x361958;redoStrokes[_0x3f3173(0x6b7)]>0x0&&(strokes[_0x3f3173(0x798)](redoStrokes[_0x3f3173(0x2ad)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x3620f6=_0x361958;document[_0x3620f6(0x403)](_0x3620f6(0xa48))['disabled']=strokes['length']===0x0,document['getElementById'](_0x3620f6(0xbca))[_0x3620f6(0x79a)]=redoStrokes['length']===0x0;}function openScratchpad(_0x16bba0,_0x51285c){const _0x4d5265=_0x361958,_0x1db977=document[_0x4d5265(0x403)](_0x4d5265(0x964)),_0x1952a1=document[_0x4d5265(0x403)]('scratchpad-question'),_0x1f16c5=document[_0x4d5265(0x403)](_0x4d5265(0x20c)),_0x30408a=document['getElementById'](_0x4d5265(0xc38));_0x1952a1[_0x4d5265(0x86f)]=_0x16bba0[_0x4d5265(0xb42)]||_0x16bba0['questionText'],_0x1f16c5[_0x4d5265(0x86f)]=_0x51285c['map']((_0x40acf0,_0x2e410f)=>_0x4d5265(0x721)+String['fromCharCode'](0x41+_0x2e410f)+'.\x20'+_0x40acf0+_0x4d5265(0x517))['join'](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x1db977[_0x4d5265(0x67e)][_0x4d5265(0x3e9)](_0x4d5265(0x17c)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0x4d5265(0x738)]([_0x1952a1,_0x1f16c5]);}function openBlueprintQuizSettings(){const _0xeb9566=_0x361958,_0x80bf80=document['getElementById'](_0xeb9566(0x932)),_0x272cb7=blueprintPageSettings||(currentProjectData?currentProjectData[_0xeb9566(0x3f9)]:{})||{};document['getElementById'](_0xeb9566(0xcfc))['value']=_0x272cb7['quizType']||document['getElementById'](_0xeb9566(0xb21))[_0xeb9566(0x491)],document['getElementById'](_0xeb9566(0x3f8))['innerHTML']=document[_0xeb9566(0x403)](_0xeb9566(0x500))[_0xeb9566(0x86f)],document['getElementById'](_0xeb9566(0x3f8))[_0xeb9566(0x491)]=_0x272cb7['difficultyValue']||document['getElementById'](_0xeb9566(0x500))[_0xeb9566(0x491)],document[_0xeb9566(0x403)](_0xeb9566(0x589))[_0xeb9566(0x86f)]=document[_0xeb9566(0x403)]('question-complexity-select')[_0xeb9566(0x86f)],document[_0xeb9566(0x403)](_0xeb9566(0x589))[_0xeb9566(0x491)]=_0x272cb7[_0xeb9566(0x2b0)]||document[_0xeb9566(0x403)]('question-complexity-select')[_0xeb9566(0x491)],document[_0xeb9566(0x403)](_0xeb9566(0xa25))[_0xeb9566(0x491)]=_0x272cb7[_0xeb9566(0x11c)]||document[_0xeb9566(0x403)](_0xeb9566(0xec))[_0xeb9566(0x491)],document['getElementById']('bp-modal-passing-score-input')[_0xeb9566(0x491)]=_0x272cb7[_0xeb9566(0x8d3)]||document[_0xeb9566(0x403)](_0xeb9566(0x5fd))[_0xeb9566(0x491)],document['getElementById'](_0xeb9566(0x951))[_0xeb9566(0x491)]=_0x272cb7['numChoices']||document[_0xeb9566(0x403)](_0xeb9566(0xaa3))[_0xeb9566(0x491)],document[_0xeb9566(0x403)]('bp-modal-shuffle-setting-select')[_0xeb9566(0x491)]=_0x272cb7[_0xeb9566(0xb64)]||document['getElementById'](_0xeb9566(0x420))[_0xeb9566(0x491)],document[_0xeb9566(0x403)](_0xeb9566(0x3c1))['checked']=_0x272cb7[_0xeb9566(0x446)]||document['getElementById'](_0xeb9566(0x7c8))[_0xeb9566(0x98b)],_0x80bf80[_0xeb9566(0x67e)][_0xeb9566(0x3e9)]('hidden');}function handleSaveBlueprintPageSettings(){const _0x395c89=_0x361958;blueprintPageSettings={'quizType':document[_0x395c89(0x403)](_0x395c89(0xcfc))[_0x395c89(0x491)],'difficultyValue':document[_0x395c89(0x403)]('bp-modal-difficulty-level-select')['value'],'complexityValue':document[_0x395c89(0x403)](_0x395c89(0x589))[_0x395c89(0x491)],'numQuestions':document[_0x395c89(0x403)]('bp-modal-num-questions')['value'],'passingScore':document[_0x395c89(0x403)]('bp-modal-passing-score-input')[_0x395c89(0x491)],'numChoices':document[_0x395c89(0x403)](_0x395c89(0x951))[_0x395c89(0x491)],'shuffle':document[_0x395c89(0x403)](_0x395c89(0xa28))[_0x395c89(0x491)],'includeImages':document[_0x395c89(0x403)]('bp-modal-include-images-checkbox')['checked']},showMessage(_0x395c89(0x213)),document[_0x395c89(0x403)](_0x395c89(0x932))[_0x395c89(0x67e)][_0x395c89(0x7be)](_0x395c89(0x17c));}function listenForParallelTestShortcuts(){const _0x352da2=_0x361958,_0x1a232f=doc(db,'globalSettings',_0x352da2(0x8aa));onSnapshot(_0x1a232f,_0x4410e1=>{const _0x5db9d1=_0x352da2;let _0x50112d=[],_0x35cfa2=[],_0x1f6747={};if(_0x4410e1['exists']()){const _0x145a40=_0x4410e1[_0x5db9d1(0xaff)]();_0x50112d=_0x145a40['shortcuts']||[],_0x35cfa2=_0x145a40['parallelShortcutTabs']||[],_0x1f6747=_0x145a40['parallelShortcutOrder']||{};}!_0x35cfa2[_0x5db9d1(0x9f6)](_0x419d72=>_0x419d72['id']===_0x5db9d1(0x32d))&&_0x35cfa2[_0x5db9d1(0x8e4)]({'id':'all','name':'ต้นฉบับทั้งหมด','isDefault':!![]}),!_0x50112d['find'](_0x264952=>_0x264952['id']===_0x5db9d1(0xcf6))&&_0x50112d['unshift']({'id':'parallel-default-1','name':_0x5db9d1(0x578),'url':'','isDefault':!![]}),!_0x50112d['find'](_0x226c58=>_0x226c58['id']===_0x5db9d1(0x83b))&&_0x50112d[_0x5db9d1(0x8e4)]({'id':_0x5db9d1(0x83b),'name':_0x5db9d1(0x66f),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x50112d,parallelShortcutTabs=_0x35cfa2,parallelShortcutOrder=_0x1f6747,renderParallelTestShortcuts(),!document[_0x5db9d1(0x403)]('additional-parallel-shortcuts-modal')[_0x5db9d1(0x67e)][_0x5db9d1(0x322)](_0x5db9d1(0x17c))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x1d86ea=_0x361958,_0x5f387f=doc(db,'globalSettings','parallelTestShortcutsConfig');try{await setDoc(_0x5f387f,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x11c57a){console[_0x1d86ea(0x51e)]('Error\x20saving\x20parallel\x20shortcut\x20config:',_0x11c57a);}}function renderAdditionalParallelShortcutsModal(){const _0x4cdc3c=_0x361958,_0x50dd0f=document[_0x4cdc3c(0x403)](_0x4cdc3c(0x802)),_0x556102=document[_0x4cdc3c(0x403)](_0x4cdc3c(0x34f));if(!_0x50dd0f||!_0x556102)return;_0x50dd0f[_0x4cdc3c(0x86f)]=parallelShortcutTabs['map'](_0x417523=>{const _0x159a22=_0x4cdc3c,_0x2b3248=_0x417523['id']===activeParallelShortcutTabId;return _0x159a22(0xb47)+_0x417523['id']+_0x159a22(0xace)+(_0x2b3248?_0x159a22(0x2b8):_0x159a22(0x9a6))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x417523[_0x159a22(0x2ea)]+_0x159a22(0x1f6)+_0x417523[_0x159a22(0x2ea)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x417523['isDefault']?_0x159a22(0x240)+_0x417523['id']+'\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x4cdc3c(0xbcc)]('');const _0x57ae91=parallelShortcutTabs['find'](_0x57c0d6=>_0x57c0d6['id']===activeParallelShortcutTabId);let _0x1dfcc7=_0x57ae91?.['isDefault']?[...parallelTestShortcuts]:parallelTestShortcuts[_0x4cdc3c(0x9df)](_0x23a4d8=>(_0x57ae91?.[_0x4cdc3c(0xa1b)]||[])[_0x4cdc3c(0x801)](_0x23a4d8['id']));const _0x28abb3=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x1dfcc7['sort']((_0x3c899a,_0x48888a)=>{const _0x55268d=_0x4cdc3c,_0x477eb5=_0x28abb3[_0x55268d(0x9d9)](_0x3c899a['id']),_0x557d7e=_0x28abb3[_0x55268d(0x9d9)](_0x48888a['id']);return(_0x477eb5===-0x1?Infinity:_0x477eb5)-(_0x557d7e===-0x1?Infinity:_0x557d7e);}),_0x556102[_0x4cdc3c(0x86f)]=_0x1dfcc7[_0x4cdc3c(0x961)](_0x1a8233=>{const _0xa320c1=_0x4cdc3c,_0x31bb41=_0x1a8233[_0xa320c1(0x5e7)]?'🔁':'🔗',_0x1e0685=parallelShortcutTabs[_0xa320c1(0x9df)](_0x469545=>!_0x469545['isDefault']),_0x7d88b3=_0x57ae91[_0xa320c1(0x8cf)]&&_0x1e0685[_0xa320c1(0x6b7)]>0x0?_0xa320c1(0x579)+_0x1e0685[_0xa320c1(0x961)](_0x163b97=>'<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x1a8233['id']+_0xa320c1(0x922)+_0x163b97['id']+'\x22>'+_0x163b97[_0xa320c1(0x2ea)]+_0xa320c1(0x5ba))['join']('')+_0xa320c1(0xbef):'';return _0xa320c1(0x627)+_0x1a8233['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x31bb41+'\x20'+_0x1a8233['name']+_0xa320c1(0x3da)+_0x1a8233['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1a8233['id']+_0xa320c1(0x328)+(!_0x1a8233['isDefault']?_0xa320c1(0xcde)+_0x1a8233['id']+_0xa320c1(0x703):'')+_0xa320c1(0x5f0)+(!_0x57ae91[_0xa320c1(0x8cf)]?_0xa320c1(0xc26)+_0x1a8233['id']+_0xa320c1(0xa09):'')+_0xa320c1(0x5f0)+_0x7d88b3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x4cdc3c(0xbcc)]('')||_0x4cdc3c(0x408),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x1ee6d2=_0x361958;document[_0x1ee6d2(0x2c6)](_0x1ee6d2(0x8c3))[_0x1ee6d2(0x384)](_0x87e207=>{const _0x16e6fa=_0x1ee6d2;_0x87e207['onclick']=_0x5df982=>{const _0x504eb1=_0x3ec8;activeParallelShortcutTabId=_0x5df982[_0x504eb1(0x1fb)][_0x504eb1(0x8c4)][_0x504eb1(0x8db)],renderAdditionalParallelShortcutsModal();},_0x87e207[_0x16e6fa(0xa7e)]=_0x1fb62f=>{const _0x474e3d=_0x16e6fa,_0x9e250a=_0x1fb62f['currentTarget']['querySelector']('.tab-name-input');_0x1fb62f[_0x474e3d(0x1fb)][_0x474e3d(0x314)](_0x474e3d(0x3ea))[_0x474e3d(0x67e)]['add'](_0x474e3d(0x17c)),_0x9e250a[_0x474e3d(0x67e)]['remove']('hidden'),_0x9e250a[_0x474e3d(0x447)](),_0x9e250a['select']();};}),document['querySelectorAll'](_0x1ee6d2(0x12f))[_0x1ee6d2(0x384)](_0x5297d7=>{const _0x4046a5=_0x1ee6d2,_0x337bf4=()=>{const _0x1e7ede=_0x3ec8,_0x54e2aa=_0x5297d7[_0x1e7ede(0x1af)](_0x1e7ede(0x8c3))['dataset']['tabId'],_0x51b605=parallelShortcutTabs[_0x1e7ede(0x9f6)](_0x4ee007=>_0x4ee007['id']===_0x54e2aa);_0x51b605&&(_0x51b605[_0x1e7ede(0x2ea)]=_0x5297d7['value'][_0x1e7ede(0x783)]()||_0x51b605['name'],saveParallelShortcutConfig());};_0x5297d7[_0x4046a5(0x326)]=_0x337bf4,_0x5297d7[_0x4046a5(0x290)]=_0x5ee02e=>{const _0x1319be=_0x4046a5;if(_0x5ee02e[_0x1319be(0x50e)]==='Enter')_0x5297d7[_0x1319be(0x729)]();};}),document[_0x1ee6d2(0x2c6)](_0x1ee6d2(0x787))['forEach'](_0x4fe246=>_0x4fe246[_0x1ee6d2(0x823)]=_0x157fb6=>{const _0x49af38=_0x1ee6d2,_0x32eedf=_0x157fb6['currentTarget'][_0x49af38(0x8c4)][_0x49af38(0x8db)];showConfirmation(_0x49af38(0x588),()=>{const _0x470d5d=_0x49af38;parallelShortcutTabs=parallelShortcutTabs[_0x470d5d(0x9df)](_0x4f5b27=>_0x4f5b27['id']!==_0x32eedf),delete parallelShortcutOrder[_0x32eedf];if(activeParallelShortcutTabId===_0x32eedf)activeParallelShortcutTabId=_0x470d5d(0x32d);saveParallelShortcutConfig();});}),document[_0x1ee6d2(0x2c6)]('.move-parallel-shortcut-item')[_0x1ee6d2(0x384)](_0x24cd71=>_0x24cd71[_0x1ee6d2(0x823)]=_0x346383=>{const _0x411e0d=_0x1ee6d2;_0x346383[_0x411e0d(0x27f)]();const {shortcutId:_0x3ecb06,targetTabId:_0x5b7076}=_0x346383[_0x411e0d(0x1fb)][_0x411e0d(0x8c4)],_0x542225=parallelShortcutTabs[_0x411e0d(0x9f6)](_0x25115f=>_0x25115f['id']===_0x5b7076);_0x542225&&!_0x542225['shortcutIds'][_0x411e0d(0x801)](_0x3ecb06)&&(_0x542225[_0x411e0d(0xa1b)][_0x411e0d(0x798)](_0x3ecb06),saveParallelShortcutConfig());}),document[_0x1ee6d2(0x2c6)]('.remove-parallel-shortcut-from-tab-btn')['forEach'](_0x14fa31=>_0x14fa31['onclick']=_0x3adf1e=>{const _0x298495=_0x1ee6d2,_0x528247=_0x3adf1e[_0x298495(0x1fb)][_0x298495(0x8c4)][_0x298495(0x593)],_0x5699d7=parallelShortcutTabs[_0x298495(0x9f6)](_0x5e5d6d=>_0x5e5d6d['id']===activeParallelShortcutTabId);_0x5699d7&&!_0x5699d7[_0x298495(0x8cf)]&&(_0x5699d7['shortcutIds']=_0x5699d7[_0x298495(0xa1b)][_0x298495(0x9df)](_0x4f818e=>_0x4f818e!==_0x528247),saveParallelShortcutConfig());}),document['querySelectorAll']('.move-parallel-shortcut-menu-btn')[_0x1ee6d2(0x384)](_0x9a1b0a=>_0x9a1b0a[_0x1ee6d2(0x823)]=_0x5370e4=>{const _0x1a7ef7=_0x1ee6d2;_0x5370e4[_0x1a7ef7(0x5c0)]();const _0x36eb0f=_0x5370e4['currentTarget'][_0x1a7ef7(0xa76)];document[_0x1a7ef7(0x2c6)](_0x1a7ef7(0xa1f))[_0x1a7ef7(0x384)](_0x36a12f=>_0x36a12f[_0x1a7ef7(0x67e)][_0x1a7ef7(0x7be)]('hidden')),_0x36eb0f[_0x1a7ef7(0x67e)]['remove'](_0x1a7ef7(0x17c));});const _0x4f189b=document[_0x1ee6d2(0x403)](_0x1ee6d2(0x34f));let _0x3e4380=null;_0x4f189b[_0x1ee6d2(0x100)]=_0x56f9f4=>{const _0x4f6b12=_0x1ee6d2;_0x3e4380=_0x56f9f4[_0x4f6b12(0xe9)][_0x4f6b12(0x1af)](_0x4f6b12(0x5e6));if(_0x3e4380)setTimeout(()=>_0x3e4380[_0x4f6b12(0x67e)][_0x4f6b12(0x7be)]('opacity-50'),0x0);},_0x4f189b['ondragend']=()=>{const _0x94dfa5=_0x1ee6d2;_0x3e4380&&(_0x3e4380[_0x94dfa5(0x67e)][_0x94dfa5(0x3e9)](_0x94dfa5(0x84c)),_0x3e4380=null);},_0x4f189b['ondragover']=_0x25a549=>{const _0x3f247e=_0x1ee6d2;_0x25a549[_0x3f247e(0x27f)]();},_0x4f189b[_0x1ee6d2(0xcc4)]=_0x4290c5=>{const _0x4cc145=_0x1ee6d2;_0x4290c5[_0x4cc145(0x27f)]();if(_0x3e4380){const _0x57b6f1=[..._0x4f189b['querySelectorAll'](_0x4cc145(0x303))][_0x4cc145(0xac1)]((_0x451ba3,_0x5761a2)=>{const _0x43d9cc=_0x4cc145,_0x414b80=_0x5761a2[_0x43d9cc(0xb33)](),_0x33b77d=_0x4290c5[_0x43d9cc(0xbeb)]-_0x414b80[_0x43d9cc(0x69d)]-_0x414b80[_0x43d9cc(0x9d0)]/0x2;return _0x33b77d<0x0&&_0x33b77d>_0x451ba3[_0x43d9cc(0x957)]?{'offset':_0x33b77d,'element':_0x5761a2}:_0x451ba3;},{'offset':Number[_0x4cc145(0x5bc)]})[_0x4cc145(0x1bd)];_0x57b6f1==null?_0x4f189b['appendChild'](_0x3e4380):_0x4f189b['insertBefore'](_0x3e4380,_0x57b6f1);const _0x46dd16=[..._0x4f189b[_0x4cc145(0x2c6)](_0x4cc145(0x5e6))]['map'](_0x13cd77=>_0x13cd77['dataset'][_0x4cc145(0x593)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x46dd16,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x5c11f5=_0x361958,_0x3c90c0=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x5c11f5(0x23f));_0x3c90c0&&_0x3c90c0[_0x5c11f5(0x783)]()&&(parallelShortcutTabs[_0x5c11f5(0x798)]({'id':'tab_'+Date[_0x5c11f5(0x166)](),'name':_0x3c90c0['trim'](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x302305=_0x361958,_0x1eec5c=document[_0x302305(0x403)]('parallel-shortcut-container'),_0x4040af=document[_0x302305(0x403)](_0x302305(0x34f)),_0x16c2c7=document[_0x302305(0x403)](_0x302305(0x18c));if(_0x16c2c7)_0x16c2c7[_0x302305(0x67e)]['add'](_0x302305(0x17c));if(!_0x1eec5c||!_0x4040af)return;const _0xc25a15=parallelTestShortcuts['slice'](0x0,0x4),_0x1902e2=parallelTestShortcuts[_0x302305(0x4ca)](0x4);_0x1eec5c[_0x302305(0x86f)]=_0xc25a15[_0x302305(0x961)](_0x463f4d=>{const _0xea9556=_0x302305,_0x322662=_0x463f4d[_0xea9556(0x5e7)]&&_0x463f4d[_0xea9556(0x5e7)][_0xea9556(0x783)]()!=='',_0x3c9e80=_0x322662?_0xea9556(0x39c):_0xea9556(0x651),_0x359729=_0x322662?'🔁':'🔗',_0x2d240a=!_0x463f4d[_0xea9556(0x8cf)]?_0xea9556(0xcde)+_0x463f4d['id']+_0xea9556(0x2aa):'';return _0xea9556(0x6be)+_0x463f4d['id']+'\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x3c9e80+_0xea9556(0x3f5)+_0x359729+'\x20'+_0x463f4d[_0xea9556(0x2ea)]+_0xea9556(0xbcb)+_0x463f4d['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d240a+_0xea9556(0x311);})[_0x302305(0xbcc)](''),_0x1902e2[_0x302305(0x6b7)]>0x0&&(_0x1eec5c[_0x302305(0x86f)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x1902e2['length']>0x0?_0x4040af[_0x302305(0x86f)]=_0x1902e2['map'](_0x6ed73e=>_0x302305(0x1b6)+(_0x6ed73e['url']?'🔁':'🔗')+'\x20'+_0x6ed73e[_0x302305(0x2ea)]+_0x302305(0x3b2)+_0x6ed73e['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x6ed73e['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x6ed73e[_0x302305(0x8cf)]?_0x302305(0xcde)+_0x6ed73e['id']+_0x302305(0x703):'')+_0x302305(0x15d))[_0x302305(0xbcc)](''):_0x4040af[_0x302305(0x86f)]=_0x302305(0x475);}function openParallelTestShortcutEditor(_0x3a930d=null){const _0x1fc1d3=_0x361958,_0xa36c6d=document['getElementById']('parallel-shortcut-editor-modal'),_0x24a6a3=document[_0x1fc1d3(0x403)](_0x1fc1d3(0x186)),_0x57fdbe=document[_0x1fc1d3(0x403)](_0x1fc1d3(0x21c)),_0x2409a2=document[_0x1fc1d3(0x403)]('parallel-shortcut-name-input'),_0x3a6f63=document[_0x1fc1d3(0x403)](_0x1fc1d3(0x944));if(_0x3a930d){const _0x28c9fb=parallelTestShortcuts['find'](_0x47e420=>_0x47e420['id']===_0x3a930d);if(!_0x28c9fb)return;_0x24a6a3['textContent']=_0x1fc1d3(0x198),_0x57fdbe[_0x1fc1d3(0x491)]=_0x28c9fb['id'],_0x2409a2[_0x1fc1d3(0x491)]=_0x28c9fb[_0x1fc1d3(0x2ea)],_0x3a6f63[_0x1fc1d3(0x491)]=_0x28c9fb[_0x1fc1d3(0x5e7)]||'';}else _0x24a6a3[_0x1fc1d3(0x317)]=_0x1fc1d3(0x80c),_0x57fdbe[_0x1fc1d3(0x491)]='',_0x2409a2[_0x1fc1d3(0x491)]='',_0x3a6f63[_0x1fc1d3(0x491)]='';_0xa36c6d[_0x1fc1d3(0x67e)][_0x1fc1d3(0x3e9)](_0x1fc1d3(0x17c));}async function saveParallelTestShortcutChanges(){const _0x48c3de=_0x361958,_0xb7d7db=document['getElementById'](_0x48c3de(0x21c))['value'],_0x115975=document[_0x48c3de(0x403)](_0x48c3de(0x9d5))[_0x48c3de(0x491)][_0x48c3de(0x783)](),_0x3f9d89=document[_0x48c3de(0x403)](_0x48c3de(0x944))[_0x48c3de(0x491)][_0x48c3de(0x783)]();if(!_0x115975){showMessage(_0x48c3de(0xeb));return;}const _0x13d98d={'id':_0xb7d7db||_0x48c3de(0x302)+Date[_0x48c3de(0x166)](),'name':_0x115975,'url':_0x3f9d89,'isDefault':_0xb7d7db[_0x48c3de(0x48b)]('parallel-default-')};let _0x2cd67c;_0xb7d7db?_0x2cd67c=parallelTestShortcuts[_0x48c3de(0x961)](_0x35ec27=>_0x35ec27['id']===_0xb7d7db?_0x13d98d:_0x35ec27):_0x2cd67c=[...parallelTestShortcuts,_0x13d98d];try{const _0x42328a=doc(db,_0x48c3de(0x6a2),_0x48c3de(0x8aa));await setDoc(_0x42328a,{'shortcuts':_0x2cd67c},{'merge':!![]}),document[_0x48c3de(0x403)]('parallel-shortcut-editor-modal')[_0x48c3de(0x67e)]['add'](_0x48c3de(0x17c));}catch(_0x1c8bd5){console['error'](_0x48c3de(0x118),_0x1c8bd5),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleParallelTestShortcutClick(_0x5872a4){const _0x1aca7d=_0x361958,_0x4561ca=parallelTestShortcuts[_0x1aca7d(0x9f6)](_0x1f69ea=>_0x1f69ea['id']===_0x5872a4);if(!_0x4561ca)return;if(!_0x4561ca['url']||_0x4561ca['url']['trim']()===''){openParallelTestShortcutEditor(_0x5872a4);return;}const _0x4d8357=document[_0x1aca7d(0x403)]('loader'),_0x2cba2c=document[_0x1aca7d(0x403)]('loader-text');document[_0x1aca7d(0x403)]('quiz-generation-area')['classList'][_0x1aca7d(0x3e9)](_0x1aca7d(0x17c)),document[_0x1aca7d(0x403)](_0x1aca7d(0xa1d))[_0x1aca7d(0x86f)]='',_0x4d8357[_0x1aca7d(0x67e)]['remove'](_0x1aca7d(0x17c)),_0x2cba2c[_0x1aca7d(0x317)]=_0x1aca7d(0x6db);try{let _0x3492f0;_0x4561ca[_0x1aca7d(0x5e7)][_0x1aca7d(0x985)]()[_0x1aca7d(0x801)]('.txt')?_0x3492f0=_0x1aca7d(0xe4):_0x3492f0=_0x1aca7d(0xc52);const _0x5b46ef=await fetchFileFromUrl(_0x4561ca['url'],_0x3492f0);await handleGenerateParallelTest(_0x5b46ef);}catch(_0x4504aa){console[_0x1aca7d(0x51e)](_0x1aca7d(0x893),_0x4504aa),showMessage(_0x1aca7d(0x201)+_0x4504aa[_0x1aca7d(0x931)]),_0x4d8357[_0x1aca7d(0x67e)][_0x1aca7d(0x7be)]('hidden');}}function initializeScratchpadCanvas(){const _0x509036=_0x361958,_0x5f590e=document[_0x509036(0x403)](_0x509036(0x5a6)),_0x156727=document[_0x509036(0x314)](_0x509036(0x2dd));if(!_0x5f590e||!_0x156727)return;scratchpadCtx=_0x5f590e[_0x509036(0x1aa)]('2d',{'willReadFrequently':!![]});const _0x4b3a19=window[_0x509036(0x75d)]||0x1,_0x9a1eb8=_0x156727['getBoundingClientRect']();_0x5f590e['width']=_0x9a1eb8[_0x509036(0xac2)]*_0x4b3a19,_0x5f590e[_0x509036(0x9d0)]=_0x9a1eb8['height']*_0x4b3a19,_0x5f590e[_0x509036(0x77b)][_0x509036(0xac2)]=_0x9a1eb8['width']+'px',_0x5f590e['style'][_0x509036(0x9d0)]=_0x9a1eb8[_0x509036(0x9d0)]+'px',scratchpadCtx[_0x509036(0xc1f)](_0x4b3a19,_0x4b3a19),scratchpadCtx[_0x509036(0x656)]='round',scratchpadCtx['lineCap']=_0x509036(0x29e),_0x5f590e[_0x509036(0xb35)](_0x509036(0xa0c),handlePointerDown),_0x5f590e[_0x509036(0xb35)]('pointermove',handlePointerMove),_0x5f590e[_0x509036(0xb35)]('pointerup',handlePointerUp),_0x5f590e[_0x509036(0xb35)](_0x509036(0xad5),handlePointerUp),_0x5f590e[_0x509036(0xb35)](_0x509036(0x718),handleWheel),_0x5f590e[_0x509036(0xb35)](_0x509036(0x863),handlePointerDown),_0x5f590e[_0x509036(0xb35)](_0x509036(0x1ff),handlePointerMove),_0x5f590e[_0x509036(0xb35)](_0x509036(0x700),handlePointerUp),_0x5f590e[_0x509036(0x224)](_0x509036(0xa0c),handlePointerDown),_0x5f590e[_0x509036(0x224)](_0x509036(0x653),handlePointerMove),_0x5f590e[_0x509036(0x224)](_0x509036(0x630),handlePointerUp),_0x5f590e[_0x509036(0x224)](_0x509036(0xad5),handlePointerUp),_0x5f590e[_0x509036(0x224)]('wheel',handleWheel,{'passive':![]}),_0x5f590e[_0x509036(0x224)]('touchstart',handlePointerDown,{'passive':![]}),_0x5f590e[_0x509036(0x224)](_0x509036(0x1ff),handlePointerMove,{'passive':![]}),_0x5f590e[_0x509036(0x224)](_0x509036(0x700),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x2f0c30=_0x361958,_0x5e7a72=document[_0x2f0c30(0x403)]('scratchpad-modal'),_0x242ca7=document[_0x2f0c30(0x403)](_0x2f0c30(0xc38));_0x242ca7['innerHTML']=_0x2f0c30(0x915)+scratchpadHighlighterSize+_0x2f0c30(0xbb9);const _0x1e8605=document[_0x2f0c30(0x403)](_0x2f0c30(0x531)),_0x20214d=document['getElementById'](_0x2f0c30(0x3c8)),_0x427ff4=document[_0x2f0c30(0x403)](_0x2f0c30(0xcd0)),_0x58204e=document[_0x2f0c30(0x403)](_0x2f0c30(0x8e1)),_0x3aafe9=document[_0x2f0c30(0x403)](_0x2f0c30(0x51c)),_0x83608=document[_0x2f0c30(0x403)](_0x2f0c30(0x25d)),_0x4e6767=document[_0x2f0c30(0x403)](_0x2f0c30(0x3e7)),_0x3602c8=[_0x1e8605,_0x20214d,_0x427ff4,_0x58204e];document[_0x2f0c30(0x403)](_0x2f0c30(0xb98))['addEventListener'](_0x2f0c30(0x920),()=>_0x5e7a72['classList']['add'](_0x2f0c30(0x17c))),document[_0x2f0c30(0x403)](_0x2f0c30(0x8d7))[_0x2f0c30(0x224)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x2f0c30(0x403)](_0x2f0c30(0x821))[_0x2f0c30(0x224)](_0x2f0c30(0x920),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x2f0c30(0xa48))[_0x2f0c30(0x224)](_0x2f0c30(0x920),undo),document[_0x2f0c30(0x403)](_0x2f0c30(0xbca))['addEventListener'](_0x2f0c30(0x920),redo);const _0x220d01=_0x14e4f2=>{const _0x5defb5=_0x2f0c30;_0x3602c8['forEach'](_0x12c1ac=>_0x12c1ac[_0x5defb5(0x67e)][_0x5defb5(0x3e9)](_0x5defb5(0x70f))),_0x14e4f2[_0x5defb5(0x67e)][_0x5defb5(0x7be)]('active'),_0x3aafe9[_0x5defb5(0x67e)][_0x5defb5(0x7be)](_0x5defb5(0x17c)),_0x83608[_0x5defb5(0x67e)][_0x5defb5(0x7be)](_0x5defb5(0x17c)),_0x4e6767['classList'][_0x5defb5(0x7be)](_0x5defb5(0x17c));if(activeTool===_0x5defb5(0x706)||activeTool==='trail')_0x3aafe9[_0x5defb5(0x67e)][_0x5defb5(0x3e9)](_0x5defb5(0x17c));else{if(activeTool==='highlighter')_0x83608['classList'][_0x5defb5(0x3e9)](_0x5defb5(0x17c));else activeTool===_0x5defb5(0x685)&&_0x4e6767[_0x5defb5(0x67e)][_0x5defb5(0x3e9)]('hidden');}};_0x1e8605[_0x2f0c30(0x224)](_0x2f0c30(0x920),()=>{const _0x5aedf9=_0x2f0c30;activeTool=_0x5aedf9(0x706),_0x220d01(_0x1e8605);}),_0x20214d[_0x2f0c30(0x224)](_0x2f0c30(0x920),()=>{const _0x497d2b=_0x2f0c30;activeTool=_0x497d2b(0x685),_0x220d01(_0x20214d);}),_0x427ff4['addEventListener'](_0x2f0c30(0x920),()=>{activeTool='trail',_0x220d01(_0x427ff4);}),_0x58204e[_0x2f0c30(0x224)](_0x2f0c30(0x920),()=>{const _0x22d04d=_0x2f0c30;activeTool=_0x22d04d(0xaac),_0x220d01(_0x58204e);}),_0x3aafe9[_0x2f0c30(0x2c6)](_0x2f0c30(0xc60))[_0x2f0c30(0x384)](_0x4b219d=>{const _0x550a0f=_0x2f0c30;_0x4b219d[_0x550a0f(0x224)](_0x550a0f(0x920),_0x21a6a2=>{const _0x448b4f=_0x550a0f;scratchpadPenSize=parseInt(_0x21a6a2[_0x448b4f(0xe9)][_0x448b4f(0x8c4)][_0x448b4f(0x261)],0xa),_0x3aafe9[_0x448b4f(0x2c6)](_0x448b4f(0xc60))[_0x448b4f(0x384)](_0x17d2d0=>_0x17d2d0[_0x448b4f(0x67e)][_0x448b4f(0x3e9)](_0x448b4f(0x70f))),_0x21a6a2[_0x448b4f(0xe9)]['classList'][_0x448b4f(0x7be)]('active');});}),_0x4e6767[_0x2f0c30(0x2c6)](_0x2f0c30(0x79f))[_0x2f0c30(0x384)](_0x3d22a0=>{const _0x2882f0=_0x2f0c30;_0x3d22a0[_0x2882f0(0x224)](_0x2882f0(0x920),_0x404e76=>{const _0x27b15f=_0x2882f0,_0x3767ff=_0x404e76['currentTarget'];scratchpadEraserSize=parseInt(_0x3767ff[_0x27b15f(0x8c4)]['size'],0xa),_0x4e6767['querySelectorAll'](_0x27b15f(0x79f))[_0x27b15f(0x384)](_0x5e5bc6=>_0x5e5bc6[_0x27b15f(0x67e)][_0x27b15f(0x3e9)](_0x27b15f(0x70f))),_0x3767ff[_0x27b15f(0x67e)][_0x27b15f(0x7be)](_0x27b15f(0x70f));});}),_0x3aafe9[_0x2f0c30(0x2c6)](_0x2f0c30(0xa68))[_0x2f0c30(0x384)](_0x4f374d=>{const _0x39528b=_0x2f0c30;_0x4f374d[_0x39528b(0x224)](_0x39528b(0x920),_0x3f3daa=>{const _0x1b68f5=_0x39528b;scratchpadPenColor=_0x3f3daa['target']['dataset'][_0x1b68f5(0xdd)],_0x3aafe9[_0x1b68f5(0x2c6)]('.pen-color-btn')[_0x1b68f5(0x384)](_0x989fa1=>_0x989fa1[_0x1b68f5(0x67e)]['remove']('active')),_0x3f3daa[_0x1b68f5(0xe9)][_0x1b68f5(0x67e)]['add']('active');});}),_0x83608[_0x2f0c30(0x2c6)](_0x2f0c30(0x160))[_0x2f0c30(0x384)](_0x228a77=>{const _0x11d4f5=_0x2f0c30;_0x228a77['addEventListener'](_0x11d4f5(0x920),_0x38b57c=>{const _0x518a0a=_0x11d4f5;scratchpadHighlighterColor=_0x38b57c[_0x518a0a(0xe9)]['dataset'][_0x518a0a(0xdd)],_0x83608[_0x518a0a(0x2c6)](_0x518a0a(0x160))[_0x518a0a(0x384)](_0x235052=>_0x235052[_0x518a0a(0x67e)]['remove']('active')),_0x38b57c[_0x518a0a(0xe9)][_0x518a0a(0x67e)]['add']('active');});});const _0x20cd74=document['getElementById'](_0x2f0c30(0xc35)),_0x5cf36b=document[_0x2f0c30(0x403)](_0x2f0c30(0x318));_0x20cd74[_0x2f0c30(0x224)](_0x2f0c30(0x68c),_0x4ca830=>{const _0x8d92a4=_0x2f0c30,_0x47aeb1=parseInt(_0x4ca830[_0x8d92a4(0xe9)][_0x8d92a4(0x491)],0xa);scratchpadHighlighterSize=_0x47aeb1,_0x5cf36b[_0x8d92a4(0x317)]=_0x47aeb1;}),window[_0x2f0c30(0x224)](_0x2f0c30(0x15e),()=>{const _0x2d51be=_0x2f0c30;!_0x5e7a72[_0x2d51be(0x67e)][_0x2d51be(0x322)]('hidden')&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x361958(0xbf8),'description':_0x361958(0x55a),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0x361958(0x7c9),'name':_0x361958(0x368),'description':_0x361958(0x506),'icon':_0x361958(0x511)},'ON_FIRE':{'id':_0x361958(0x258),'name':_0x361958(0x471),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x361958(0xab1)},'FIRST_TRY_ACE':{'id':_0x361958(0x7e4),'name':'ผ่านฉลุย','description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x361958(0x14f),'name':_0x361958(0x3d7),'description':_0x361958(0x854),'icon':_0x361958(0x8ae)},'SPECIALIST':{'id':'specialist','name':_0x361958(0x844),'description':_0x361958(0x734),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x361958(0x5af),'name':_0x361958(0x3b1),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x361958(0xb28)}},firebaseConfig={'apiKey':_0x361958(0x3e8),'authDomain':_0x361958(0xc97),'projectId':'ai-quiz-app-aefee','storageBucket':_0x361958(0x487),'messagingSenderId':_0x361958(0xac6),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x361958(0x5d8)},appId=typeof __app_id!==_0x361958(0xc9d)?__app_id:_0x361958(0xc79),adminView=document[_0x361958(0x403)]('admin-view'),studentView=document['getElementById'](_0x361958(0x76b)),projectDashboardView=document[_0x361958(0x403)](_0x361958(0x5cd)),projectDetailView=document['getElementById'](_0x361958(0x1ed)),quizResultsView=document[_0x361958(0x403)](_0x361958(0x24e)),projectList=document[_0x361958(0x403)](_0x361958(0x237)),noProjectsMsg=document[_0x361958(0x403)]('no-projects-msg'),projectTitle=document['getElementById']('project-title'),projectIdDisplay=document[_0x361958(0x403)](_0x361958(0xcef)),studentList=document[_0x361958(0x403)](_0x361958(0x58e)),messageModal=document[_0x361958(0x403)](_0x361958(0xb6b)),modalMessage=document[_0x361958(0x403)](_0x361958(0x859)),createProjectModal=document[_0x361958(0x403)](_0x361958(0x394)),adminPasswordModal=document['getElementById'](_0x361958(0x8f8)),confirmationModal=document[_0x361958(0x403)](_0x361958(0x9bb)),userIdDisplay=document['getElementById'](_0x361958(0x54b)),topicTab=document[_0x361958(0x403)]('topic-tab'),textTab=document[_0x361958(0x403)](_0x361958(0xc32)),topicInputArea=document[_0x361958(0x403)](_0x361958(0x3d5)),textInputArea=document[_0x361958(0x403)]('text-input-area'),manageTab=document[_0x361958(0x403)](_0x361958(0xc34)),resultsTab=document[_0x361958(0x403)](_0x361958(0x57c)),leaderboardTab=document['getElementById']('leaderboard-tab'),manageTabContent=document[_0x361958(0x403)]('manage-tab-content'),resultsTabContent=document[_0x361958(0x403)](_0x361958(0x66e)),leaderboardTabContent=document['getElementById'](_0x361958(0x146)),projectQuizzesList=document['getElementById'](_0x361958(0x807)),fileTab=document['getElementById']('file-tab'),fileInputArea=document['getElementById'](_0x361958(0x501)),fileUploadInput=document[_0x361958(0x403)]('file-upload-input'),worksheetTab=document[_0x361958(0x403)]('worksheet-tab'),worksheetInputArea=document['getElementById']('worksheet-input-area'),generateWorksheetBtn=document[_0x361958(0x403)](_0x361958(0xce1)),studentInitialView=document['getElementById'](_0x361958(0xc7d)),studentNameSelectionView=document[_0x361958(0x403)]('student-name-selection-view'),studentQuizArea=document[_0x361958(0x403)](_0x361958(0x7fc)),studentResultArea=document[_0x361958(0x403)](_0x361958(0x274)),studentReadingArea=document['getElementById'](_0x361958(0x3ab)),loadQuizBtn=document[_0x361958(0x403)](_0x361958(0x4ea)),startQuizBtn=document[_0x361958(0x403)](_0x361958(0x8ca)),studentJoinGameView=document[_0x361958(0x403)]('student-join-game-view'),presentationModal=document[_0x361958(0x403)](_0x361958(0x465)),renameQuizModal=document[_0x361958(0x403)](_0x361958(0x106)),moveQuizModal=document['getElementById'](_0x361958(0x84f)),quizSettingsModal=document[_0x361958(0x403)]('quiz-settings-modal'),quizStatusModal=document['getElementById'](_0x361958(0xce0)),liveGameView=document[_0x361958(0x403)](_0x361958(0x468));function handleFixLessonLatex(){const _0x5a9da9=_0x361958,_0x48af8f=document[_0x5a9da9(0x403)](_0x5a9da9(0xa4d));if(!_0x48af8f){showMessage(_0x5a9da9(0x78f));return;}const _0x599db8=_0x48af8f['querySelectorAll']([_0x5a9da9(0xbec),_0x5a9da9(0x9af),_0x5a9da9(0xc72),_0x5a9da9(0x9fd),_0x5a9da9(0x42d)][_0x5a9da9(0xbcc)](','));let _0xfb3d00=0x0;const _0x3a92f6=_0x2c3f1c=>_0x2c3f1c[_0x5a9da9(0x317)]||'',_0x245f87=(_0x4d0b91,_0x459c41)=>{const _0x4cac43=_0x5a9da9;if(_0x4d0b91[_0x4cac43(0x314)]&&_0x4d0b91['querySelector'](_0x4cac43(0x3a1)))return;_0x4d0b91['textContent']=_0x459c41;},_0x17261a=_0x247ba2=>_0x247ba2[_0x5a9da9(0x46f)](/\u00A0/g,'\x20')[_0x5a9da9(0x46f)](/\u200B/g,'')[_0x5a9da9(0x46f)](/\r\n?/g,'\x0a'),_0x9fdc7=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x495899=_0x57cbc4=>{const _0xa7f78e=_0x5a9da9;let _0x31ac9b=_0x57cbc4['trim']();const _0x26f81b=[_0xa7f78e(0x64f),_0xa7f78e(0x2fd),'tfrac','sqrt','text',_0xa7f78e(0x2cd),_0xa7f78e(0x13e),_0xa7f78e(0x528),_0xa7f78e(0xb4c),_0xa7f78e(0xa3a),'le','ge',_0xa7f78e(0x803),'pm','approx',_0xa7f78e(0xc9a),_0xa7f78e(0x444),_0xa7f78e(0xa7c),'log','ln',_0xa7f78e(0xce5),_0xa7f78e(0xaae),_0xa7f78e(0x331),_0xa7f78e(0x874),'right','overline',_0xa7f78e(0x8e3),_0xa7f78e(0x4aa),_0xa7f78e(0xbf0)];_0x26f81b[_0xa7f78e(0x384)](_0x24ec3c=>{const _0x46e22d=_0xa7f78e;_0x31ac9b=_0x31ac9b['replace'](new RegExp(_0x46e22d(0x5bf)+_0x24ec3c+'\x5cb','g'),(_0x1c3008,_0x36c4dc)=>_0x36c4dc+'\x5c'+_0x24ec3c);});const _0x13e0f2=[[/×/g,_0xa7f78e(0xbc9)],[/·/g,_0xa7f78e(0x440)],[/÷/g,_0xa7f78e(0xab0)],[/≤/g,_0xa7f78e(0x537)],[/≥/g,_0xa7f78e(0x8a7)],[/≠/g,_0xa7f78e(0x20e)],[/±/g,_0xa7f78e(0xbf5)],[/∑/g,_0xa7f78e(0x7ac)],[/−/g,'-']];return _0x13e0f2[_0xa7f78e(0x384)](([_0x566d5b,_0x4d26ea])=>{_0x31ac9b=_0x31ac9b['replace'](_0x566d5b,_0x4d26ea);}),_0x31ac9b=_0x31ac9b[_0xa7f78e(0x46f)](/√\s*([A-Za-z0-9]+)/g,_0xa7f78e(0x15a)),_0x31ac9b=_0x31ac9b[_0xa7f78e(0x46f)](/(\d+)\s*%/g,_0xa7f78e(0x5c7)),_0x31ac9b;},_0x34fe8c=_0x3b6b14=>{const _0x66a330=_0x5a9da9;if(/\$|\\\(|\\\[/[_0x66a330(0xc2f)](_0x3b6b14))return _0x3b6b14;if(!_0x9fdc7[_0x66a330(0xc2f)](_0x3b6b14))return _0x3b6b14;const _0x10e067=_0x3b6b14[_0x66a330(0xcc1)](/^\s*/)[0x0],_0x5af4b3=_0x3b6b14[_0x66a330(0xcc1)](/\s*$/)[0x0],_0x27d129=_0x3b6b14[_0x66a330(0x783)]();return _0x10e067+'$'+_0x495899(_0x27d129)+'$'+_0x5af4b3;};_0x599db8[_0x5a9da9(0x384)](_0x529c02=>{const _0x5ed8ec=_0x5a9da9,_0x2d5c8c=_0x3a92f6(_0x529c02);let _0x3b6322=_0x17261a(_0x2d5c8c);_0x3b6322=_0x3b6322[_0x5ed8ec(0x46f)](/\$([^$]*?)\$/g,(_0x572a06,_0x27e72d)=>'$'+_0x495899(_0x27e72d)+'$');const _0x38a7df=_0x3b6322[_0x5ed8ec(0xc4b)](/(\s+)/),_0x323946=_0x38a7df[_0x5ed8ec(0x961)](_0x37a6bc=>{const _0x51cb9e=_0x5ed8ec;if(/\s+/[_0x51cb9e(0xc2f)](_0x37a6bc))return _0x37a6bc;return _0x34fe8c(_0x37a6bc);});_0x3b6322=_0x323946[_0x5ed8ec(0xbcc)](''),_0x3b6322!==_0x2d5c8c&&(_0x245f87(_0x529c02,_0x3b6322),_0xfb3d00++);});if(_0xfb3d00>0x0){showMessage(_0x5a9da9(0x638)+_0xfb3d00+'\x20จุดเรียบร้อยแล้ว');try{window[_0x5a9da9(0xaeb)]&&MathJax[_0x5a9da9(0x738)]&&MathJax[_0x5a9da9(0x738)]([_0x48af8f]);}catch(_0x238c74){console['error']('MathJax\x20re-render\x20failed:',_0x238c74);}}else showMessage('ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม');}function handleAutoFixLatex(){const _0x3cbeac=_0x361958,_0x3531a4=document[_0x3cbeac(0x403)](_0x3cbeac(0x846))||document,_0x1090f5=_0x3531a4[_0x3cbeac(0x2c6)]('textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li');let _0x374986=0x0;const _0x2e8f18=_0x426c34=>_0x3cbeac(0x491)in _0x426c34?String(_0x426c34[_0x3cbeac(0x491)]):_0x426c34['innerText']!==undefined?_0x426c34['innerText']:_0x426c34['textContent']||'',_0x1c02d2=(_0x5491d3,_0x2ff45e)=>{const _0x396f19=_0x3cbeac;if(_0x396f19(0x491)in _0x5491d3){_0x5491d3[_0x396f19(0x491)]=_0x2ff45e;return;}if(_0x5491d3['querySelector']&&_0x5491d3[_0x396f19(0x314)]('mjx-container'))return;if(_0x5491d3[_0x396f19(0x924)]!==undefined)_0x5491d3[_0x396f19(0x924)]=_0x2ff45e;else _0x5491d3[_0x396f19(0x317)]=_0x2ff45e;},_0x546ab7=_0x2cbba3=>_0x2cbba3[_0x3cbeac(0x46f)](/\u00A0/g,'\x20')[_0x3cbeac(0x46f)](/\u200B/g,'')[_0x3cbeac(0x46f)](/\r\n?/g,'\x0a'),_0x51d511=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x5e3440=_0x7b238c=>{const _0x17fbd9=_0x3cbeac;let _0x439f5b=_0x7b238c[_0x17fbd9(0x783)]();_0x439f5b=_0x439f5b[_0x17fbd9(0x46f)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x17fbd9(0xdc)),_0x439f5b=_0x439f5b[_0x17fbd9(0x46f)](/\bfrac(\d)(\d)/g,_0x17fbd9(0xdc));const _0x50aca7=['frac','sqrt',_0x17fbd9(0x2cd),_0x17fbd9(0x13e),_0x17fbd9(0x528),_0x17fbd9(0xb4c),_0x17fbd9(0xa3a),_0x17fbd9(0x803),'pm','sin','cos',_0x17fbd9(0xa7c),_0x17fbd9(0xb07),'ln'];_0x50aca7[_0x17fbd9(0x384)](_0x188fd7=>{_0x439f5b=_0x439f5b['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x188fd7+'\x5cb','g'),(_0xdf1b07,_0x1732db)=>_0x1732db+'\x5c'+_0x188fd7);});const _0x2fd8ba=[[/×/g,_0x17fbd9(0xbc9)],[/·/g,_0x17fbd9(0x440)],[/÷/g,_0x17fbd9(0xab0)],[/≤/g,_0x17fbd9(0x537)],[/≥/g,_0x17fbd9(0x8a7)],[/≠/g,_0x17fbd9(0x20e)],[/±/g,_0x17fbd9(0xbf5)]];return _0x2fd8ba['forEach'](([_0x13f7d6,_0x33e271])=>{const _0x5de2a4=_0x17fbd9;_0x439f5b=_0x439f5b[_0x5de2a4(0x46f)](_0x13f7d6,_0x33e271);}),_0x439f5b;},_0x3fdaf7=_0x3c9d7a=>{const _0x46c8e0=_0x3cbeac;if(/\$|\\\(|\\\[/[_0x46c8e0(0xc2f)](_0x3c9d7a))return _0x3c9d7a;if(!_0x51d511['test'](_0x3c9d7a))return _0x3c9d7a;const _0x3cec11=_0x3c9d7a[_0x46c8e0(0xcc1)](/^\s*/)[0x0],_0x56c3e1=_0x3c9d7a[_0x46c8e0(0xcc1)](/\s*$/)[0x0],_0xb7613b=_0x3c9d7a[_0x46c8e0(0x783)]();return _0x3cec11+'$'+_0x5e3440(_0xb7613b)+'$'+_0x56c3e1;};_0x1090f5['forEach'](_0x4c4a88=>{const _0x2ede0a=_0x3cbeac,_0xc4364=_0x2e8f18(_0x4c4a88);let _0x3fdedf=_0x546ab7(_0xc4364);_0x3fdedf=_0x3fdedf[_0x2ede0a(0x46f)](/\$([^$]*?)\$/g,(_0x11fe72,_0x1df786)=>'$'+_0x5e3440(_0x1df786)+'$');const _0x2996f8=_0x3fdedf['split'](/(\s+)/),_0x449342=_0x2996f8[_0x2ede0a(0x961)](_0xf5c518=>/\s+/['test'](_0xf5c518)?_0xf5c518:_0x3fdaf7(_0xf5c518));_0x3fdedf=_0x449342[_0x2ede0a(0xbcc)](''),_0x3fdedf!==_0xc4364&&(_0x1c02d2(_0x4c4a88,_0x3fdedf),_0x374986++);});if(_0x374986>0x0){showMessage(_0x3cbeac(0x135)+_0x374986+'\x20จุด');try{if(window[_0x3cbeac(0xaeb)]&&MathJax[_0x3cbeac(0x738)])MathJax[_0x3cbeac(0x738)]();}catch(_0x434b32){}}else showMessage(_0x3cbeac(0x12a));}async function listenForCustomMathTopics(){const _0x5dc00d=collection(db,'artifacts/'+appId+'/public/data/customMathTopics');onSnapshot(_0x5dc00d,_0x12bb6d=>{const _0x4f2af1=_0x3ec8;customMathTopics=_0x12bb6d[_0x4f2af1(0x5b2)][_0x4f2af1(0x961)](_0x34c193=>({'id':_0x34c193['id'],..._0x34c193[_0x4f2af1(0xaff)]()})),renderTopicCheckboxes();},_0xa5b0f9=>{const _0x1ee751=_0x3ec8;console['error'](_0x1ee751(0x617),_0xa5b0f9);});}function handleSelectAllTopics(){const _0x33af36=_0x361958,_0x58646e=document[_0x33af36(0x403)]('math-topics-checkbox-container'),_0xe3272a=_0x58646e['querySelectorAll']('input[type=\x22checkbox\x22]');_0xe3272a[_0x33af36(0x384)](_0x298701=>{const _0x5e9f6f=_0x33af36;_0x298701[_0x5e9f6f(0x98b)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0xf941a6=_0x361958,_0x93e6dd=document[_0xf941a6(0x403)](_0xf941a6(0x469)),_0x1d1fc7=_0x93e6dd[_0xf941a6(0x2c6)](_0xf941a6(0x59e));_0x1d1fc7[_0xf941a6(0x384)](_0x1dfd57=>{const _0x34e9c4=_0xf941a6;_0x1dfd57[_0x34e9c4(0x98b)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x1394d0){const _0x3c8c73=_0x361958;if(!_0x1394d0)return;try{const _0x11d5cd=doc(db,_0x3c8c73(0x418)+appId+_0x3c8c73(0x715),_0x1394d0);await deleteDoc(_0x11d5cd),showMessage(_0x3c8c73(0xaa0));}catch(_0x450962){console[_0x3c8c73(0x51e)](_0x3c8c73(0x38d),_0x450962),showMessage(_0x3c8c73(0x452));}}async function handleAddCustomMathTopic(){const _0x152007=_0x361958,_0x48e392=document[_0x152007(0x403)](_0x152007(0x117)),_0x1c460d=_0x48e392[_0x152007(0x491)][_0x152007(0x783)]();if(!_0x1c460d){showMessage(_0x152007(0x13f));return;}if(!userId){showMessage(_0x152007(0x94e));return;}try{const _0x1631d8=collection(db,_0x152007(0x418)+appId+_0x152007(0x715));await addDoc(_0x1631d8,{'name':_0x1c460d,'createdAt':serverTimestamp()}),_0x48e392[_0x152007(0x491)]='',showMessage(_0x152007(0xba5)+_0x1c460d+_0x152007(0xc6c));}catch(_0x55eca3){console[_0x152007(0x51e)](_0x152007(0x6cd),_0x55eca3),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x28a544=_0x3ec8,_0x1ac76b=document['getElementById']('loader'),_0x43ca66=document[_0x28a544(0x403)]('loader-text'),_0x5af2cd=_0x43ca66[_0x28a544(0x317)];_0x1ac76b['classList'][_0x28a544(0x3e9)]('hidden'),_0x43ca66[_0x28a544(0x317)]=_0x28a544(0x351);try{const _0x16d0ad=collection(db,_0x28a544(0x418)+appId+'/public/data/quizzes'),_0x164e52=await getDocs(_0x16d0ad);if(_0x164e52[_0x28a544(0x459)]){showMessage(_0x28a544(0x51a));return;}const _0x28e6bd=writeBatch(db);let _0x16feb1=0x0;_0x164e52[_0x28a544(0x384)](_0xb21a88=>{const _0x3f9b98=_0x28a544,_0x442d27=_0xb21a88[_0x3f9b98(0xaff)](),_0x59804d=_0xb21a88['id'];if(_0x442d27[_0x3f9b98(0x707)]&&_0x442d27[_0x3f9b98(0x707)][_0x3f9b98(0x6b7)]>0x0&&!_0x442d27[_0x3f9b98(0x707)][0x0]['hasOwnProperty']('id')){console['log']('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x59804d+'\x20('+_0x442d27[_0x3f9b98(0x411)]+')'),_0x16feb1++;const _0xd40f11=_0x442d27[_0x3f9b98(0x707)]['map']((_0x43e623,_0x71140a)=>{return{..._0x43e623,'id':_0x43e623['id']||'q_'+Date['now']()+'_'+_0x59804d+'_'+_0x71140a};}),_0x4ec983=doc(db,_0x3f9b98(0x418)+appId+_0x3f9b98(0x34c),_0x59804d);_0x28e6bd[_0x3f9b98(0x975)](_0x4ec983,{'questions':_0xd40f11});}}),_0x16feb1>0x0?(_0x43ca66[_0x28a544(0x317)]='กำลังอัปเดตแบบทดสอบ\x20'+_0x16feb1+_0x28a544(0x6fe),await _0x28e6bd[_0x28a544(0x626)](),showMessage(_0x28a544(0xcc0)+_0x16feb1+'\x20รายการสำเร็จ!')):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x3ae8da){console[_0x28a544(0x51e)](_0x28a544(0x67a),_0x3ae8da),showMessage(_0x28a544(0xb01)+_0x3ae8da[_0x28a544(0x931)]);}finally{_0x1ac76b[_0x28a544(0x67e)]['add'](_0x28a544(0x17c)),_0x43ca66[_0x28a544(0x317)]=_0x5af2cd;}});}async function handleBulkUpdateQuizSettings(){const _0x270148=_0x361958,_0x54c79d={'shuffle':document['getElementById'](_0x270148(0x591))[_0x270148(0x491)],'resultsDisplay':document[_0x270148(0x403)](_0x270148(0xc86))['value'],'loopUntilPass':document[_0x270148(0x403)](_0x270148(0x133))['checked'],'isConfidenceScoringEnabled':document[_0x270148(0x403)]('bulk-confidence-scoring-checkbox')['checked'],'confidenceMode':document[_0x270148(0x403)]('bulk-confidence-mode-select')[_0x270148(0x491)]};try{showMessage(_0x270148(0x81c));const _0x1cf83f=await getDocs(collection(db,_0x270148(0x418)+appId+_0x270148(0x34c))),_0x374d9c=_0x1cf83f[_0x270148(0x5b2)][_0x270148(0x961)](_0x3dbdd1=>({'id':_0x3dbdd1['id'],'data':_0x3dbdd1[_0x270148(0xaff)]()})),_0x21bd21=_0x374d9c[_0x270148(0x6b7)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x21bd21+_0x270148(0x704),async()=>{const _0x497bd5=_0x270148,_0x5bcf01=document[_0x497bd5(0x403)](_0x497bd5(0x8ea));_0x5bcf01[_0x497bd5(0x79a)]=!![],_0x5bcf01['innerHTML']=_0x497bd5(0x6f5);try{const _0x3029f1=writeBatch(db);_0x374d9c[_0x497bd5(0x384)](_0x265779=>{const _0x2a6928=_0x497bd5,_0x2ff067=doc(db,'artifacts/'+appId+_0x2a6928(0x34c),_0x265779['id']),_0x2a0f64={..._0x265779[_0x2a6928(0xaff)][_0x2a6928(0x3f9)]||{},..._0x54c79d};_0x3029f1[_0x2a6928(0x975)](_0x2ff067,{'settings':_0x2a0f64});}),await _0x3029f1['commit'](),document[_0x497bd5(0x403)]('bulk-quiz-settings-modal')[_0x497bd5(0x67e)][_0x497bd5(0x7be)]('hidden'),showMessage(_0x497bd5(0x3e6)+_0x21bd21+_0x497bd5(0xc9e));}catch(_0x57eb8b){console[_0x497bd5(0x51e)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x57eb8b),showMessage(_0x497bd5(0x499));}finally{_0x5bcf01['disabled']=![],_0x5bcf01[_0x497bd5(0x86f)]=_0x497bd5(0xccb);}});}catch(_0x4d081d){console[_0x270148(0x51e)]('Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:',_0x4d081d),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0x1b33e5=_0x361958,_0x395cda=document[_0x1b33e5(0x403)](_0x1b33e5(0xb70)),_0x33bd0a=document[_0x1b33e5(0x403)]('save-project-name-btn'),_0x3f2b90=_0x395cda[_0x1b33e5(0x317)][_0x1b33e5(0x783)]();if(!_0x3f2b90||!currentProjectId){showMessage(_0x1b33e5(0x3ec)),_0x395cda[_0x1b33e5(0x317)]=currentProjectData['projectName'];return;}_0x33bd0a['disabled']=!![],_0x33bd0a[_0x1b33e5(0x86f)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x3597d9=doc(db,_0x1b33e5(0x418)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x3597d9,{'projectName':_0x3f2b90}),currentProjectData&&(currentProjectData[_0x1b33e5(0x3d0)]=_0x3f2b90),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x5714ae){console[_0x1b33e5(0x51e)](_0x1b33e5(0x53c),_0x5714ae),showMessage(_0x1b33e5(0xb3e)),_0x395cda['textContent']=currentProjectData[_0x1b33e5(0x3d0)];}finally{_0x33bd0a[_0x1b33e5(0x67e)][_0x1b33e5(0x7be)]('hidden'),_0x33bd0a[_0x1b33e5(0x79a)]=![],_0x33bd0a[_0x1b33e5(0x86f)]=_0x1b33e5(0xbd4);}}function handleGeneratePracticeTest(_0x13a7ec,_0x594bf9){const _0xfc1a21=_0x361958,_0x47e90b=document['getElementById'](_0xfc1a21(0xc2b)),_0x3efe01=document[_0xfc1a21(0x403)](_0xfc1a21(0xac7)),_0x3e5d40=document['getElementById']('lesson-loader'),_0x3cdfdb=document[_0xfc1a21(0x403)](_0xfc1a21(0x180));_0x3efe01[_0xfc1a21(0x317)]=_0xfc1a21(0xb39)+_0x13a7ec,_0x3cdfdb[_0xfc1a21(0x67e)][_0xfc1a21(0x7be)](_0xfc1a21(0x17c)),_0x3e5d40['classList'][_0xfc1a21(0x3e9)](_0xfc1a21(0x17c)),_0x47e90b['classList'][_0xfc1a21(0x3e9)](_0xfc1a21(0x17c)),generatePracticeTest(_0x13a7ec,_0x594bf9)[_0xfc1a21(0x7f1)](_0x3db0f5=>{const _0x2e8ac7=_0xfc1a21;console[_0x2e8ac7(0x51e)](_0x2e8ac7(0x1cc),_0x3db0f5),showMessage(_0x2e8ac7(0x909)),_0x47e90b[_0x2e8ac7(0x67e)]['add'](_0x2e8ac7(0x17c));});}async function generatePracticeTest(_0x35ecf8,_0x149ebc){const _0x1eaad8=_0x361958;[_0x1eaad8(0x7ea),_0x1eaad8(0x433),_0x1eaad8(0x1a3),_0x1eaad8(0x697)][_0x1eaad8(0x384)](_0x46c82c=>{const _0x4c3d8b=_0x1eaad8,_0x292df8=document[_0x4c3d8b(0x403)](_0x46c82c)[_0x4c3d8b(0x3bf)];_0x292df8&&(_0x292df8['style'][_0x4c3d8b(0xf0)]=_0x4c3d8b(0x103));});try{const _0x41e2db=_0x1eaad8(0x1b2),_0x18f9b0=_0x1eaad8(0x817)+_0x149ebc+_0x1eaad8(0x520)+_0x35ecf8+_0x1eaad8(0xbbc),_0x8be276=await callGemini(_0x18f9b0,!![]),_0x19b50b=document[_0x1eaad8(0x403)](_0x1eaad8(0xac7)),_0xe7d9c=document[_0x1eaad8(0x403)](_0x1eaad8(0x320)),_0x564b10=document['getElementById'](_0x1eaad8(0x180)),_0x53b508=document['getElementById']('applicationContent')[_0x1eaad8(0x3bf)];_0x19b50b[_0x1eaad8(0x924)]=_0x1eaad8(0xb91)+_0x35ecf8[_0x1eaad8(0x46f)](/•\s/g,'')+_0x1eaad8(0x377)+_0x149ebc+')',currentApplicationData=JSON[_0x1eaad8(0xa51)](_0x8be276);const _0x34a303=document[_0x1eaad8(0x403)](_0x1eaad8(0x1a3));_0x34a303[_0x1eaad8(0x86f)]=currentApplicationData[_0x1eaad8(0x961)]((_0x4f2b25,_0x160110)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x160110+0x1)+'.\x20'+marked[_0x1eaad8(0x6c7)](_0x4f2b25['question'])+_0x1eaad8(0xb65)+_0x160110+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f2b25[_0x1eaad8(0x6a5)][_0x1eaad8(0x961)]((_0x45b1d3,_0x14cca3)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x160110+',\x20'+_0x14cca3+_0x1eaad8(0x45d)+String[_0x1eaad8(0x4f7)](0x61+_0x14cca3)+'.\x20'+marked[_0x1eaad8(0x6c7)](_0x45b1d3)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1eaad8(0xbcc)]('')+_0x1eaad8(0x15d))['join'](''),window['MathJax']&&MathJax[_0x1eaad8(0x738)]([_0x34a303]),_0x53b508&&(_0x53b508[_0x1eaad8(0x77b)]['display']=_0x1eaad8(0x168)),_0xe7d9c[_0x1eaad8(0x67e)][_0x1eaad8(0x7be)](_0x1eaad8(0x17c)),_0x564b10[_0x1eaad8(0x67e)][_0x1eaad8(0x3e9)]('hidden');}catch(_0x3303a7){console[_0x1eaad8(0x51e)](_0x3303a7);throw _0x3303a7;}}async function callGemini(_0x165d25,_0x52dec6=![]){const _0x130d6e=_0x361958,_0x267506='AIzaSyBpbTmQsKO5LzlNphSZW99NYg8H75ryg44',_0x2a3005='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x267506,_0x3166eb={'contents':[{'parts':[{'text':_0x165d25}]}]};_0x52dec6&&(_0x3166eb[_0x130d6e(0xb78)]={'responseMimeType':_0x130d6e(0x912)},_0x165d25['includes'](_0x130d6e(0x4d5))?_0x3166eb['generationConfig'][_0x130d6e(0xb2b)]={'type':_0x130d6e(0xbb5),'properties':{'gradeLevel':{'type':_0x130d6e(0xef)},'curriculum':{'type':_0x130d6e(0xb41),'items':{'type':_0x130d6e(0xbb5),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x130d6e(0xb41),'items':{'type':'OBJECT','properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x130d6e(0xb41),'items':{'type':_0x130d6e(0xef)}}},'required':[_0x130d6e(0xc7f),'subTopics']}}},'required':[_0x130d6e(0xb11),'mainTopics']}}},'required':[_0x130d6e(0x8c2),_0x130d6e(0x212)]}:_0x3166eb['generationConfig'][_0x130d6e(0xb2b)]={'type':_0x130d6e(0xb41),'items':{'type':_0x130d6e(0xbb5),'properties':{'question':{'type':_0x130d6e(0xef)},'options':{'type':'ARRAY','items':{'type':_0x130d6e(0xef)}},'answer':{'type':'NUMBER'}},'required':[_0x130d6e(0x852),'options',_0x130d6e(0x7b2)]}});try{const _0x48f3b7=await fetch(_0x2a3005,{'method':'POST','headers':{'Content-Type':_0x130d6e(0x912)},'body':JSON[_0x130d6e(0xa24)](_0x3166eb)});if(!_0x48f3b7['ok']){const _0x10ec0b=await _0x48f3b7[_0x130d6e(0x90b)]();console[_0x130d6e(0x51e)](_0x130d6e(0xae7),_0x10ec0b);throw new Error(_0x130d6e(0x20f)+_0x48f3b7[_0x130d6e(0x6b5)]);}const _0x30870e=await _0x48f3b7[_0x130d6e(0x916)]();if(_0x30870e[_0x130d6e(0xa3c)]&&_0x30870e['candidates'][0x0][_0x130d6e(0x1ab)]&&_0x30870e['candidates'][0x0][_0x130d6e(0x1ab)][_0x130d6e(0x7ff)][0x0])return _0x30870e[_0x130d6e(0xa3c)][0x0][_0x130d6e(0x1ab)]['parts'][0x0]['text'];else{console[_0x130d6e(0x51e)](_0x130d6e(0x50c),_0x30870e);if(_0x30870e[_0x130d6e(0xa3c)]&&_0x30870e[_0x130d6e(0xa3c)][0x0][_0x130d6e(0x789)]===_0x130d6e(0x3f1))return JSON[_0x130d6e(0xa24)]({'error':_0x130d6e(0xc6f)});throw new Error(_0x130d6e(0x1de));}}catch(_0x56ba5d){console[_0x130d6e(0x51e)](_0x130d6e(0x59d),_0x56ba5d);throw _0x56ba5d;}}async function generateLesson(_0x313578=null,_0x293e9d=null){const _0x448126=_0x361958,_0x95e3af=_0x313578,_0x27dd14=_0x293e9d||_0x448126(0x223),_0x100557=document[_0x448126(0x403)](_0x448126(0x320)),_0x18809c=document[_0x448126(0x403)](_0x448126(0x355));_0x18809c['textContent']=_0x448126(0x367)+_0x95e3af+'\x22...';try{let _0x3f9306=[];const _0x115169=document['getElementById']('bp-reference-file-url')?.[_0x448126(0x491)]['trim']();if(_0x115169)try{_0x18809c[_0x448126(0x317)]=_0x448126(0xc3c);const _0x6d92ff=await fetchFileFromUrl(_0x115169,'reference_onet.pdf'),_0x5a817c=await new Promise((_0x2779c2,_0x2a556c)=>{const _0x14821e=_0x448126,_0x49fe3a=new FileReader();_0x49fe3a[_0x14821e(0xa04)](_0x6d92ff),_0x49fe3a[_0x14821e(0x9d4)]=()=>_0x2779c2(_0x49fe3a[_0x14821e(0x8f1)][_0x14821e(0xc4b)](',')[0x1]),_0x49fe3a[_0x14821e(0x257)]=_0x2a556c;});_0x3f9306['push']({'inlineData':{'mimeType':_0x6d92ff[_0x448126(0x61e)],'data':_0x5a817c}});}catch(_0x3fd2fe){console[_0x448126(0x51e)](_0x448126(0xa72),_0x3fd2fe),showMessage(_0x448126(0x294));}const _0x892b38=_0x448126(0x24c)+_0x95e3af+_0x448126(0x1ad)+_0x95e3af+_0x448126(0xc15);_0x18809c['textContent']='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x95e3af+'\x22...';const _0x251dc1=_0x448126(0xa02)+_0x27dd14+'\x27\x20ในหัวข้อ\x20\x27'+_0x95e3af+_0x448126(0x6e9)+_0x892b38+_0x448126(0x74d),_0x1834b3=_0x448126(0x153)+_0x95e3af+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x27dd14+_0x448126(0xa73)+_0x892b38+_0x448126(0x2b9),_0x4d6ac9=_0x448126(0x817)+_0x27dd14+_0x448126(0x520)+_0x95e3af+_0x448126(0x9c2)+_0x892b38+'.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x71833c=_0x448126(0xcb3)+_0x95e3af+'\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x27dd14+_0x448126(0xca2)+_0x892b38+'.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',_0x33cf51={'type':_0x448126(0xb41),'items':{'type':_0x448126(0xbb5),'properties':{'question':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x448126(0xef)}},'answer':{'type':_0x448126(0x6b8)}},'required':[_0x448126(0x852),'options',_0x448126(0x7b2)]}},[_0x5e0fcf,_0x356a0c,_0x49bc51,_0x6877b4]=await Promise[_0x448126(0x32d)]([handleApiCall([{'text':_0x251dc1},..._0x3f9306],'...',null,null,![]),handleApiCall([{'text':_0x1834b3},..._0x3f9306],_0x448126(0x27e),null,null,![]),handleApiCall([{'text':_0x4d6ac9},..._0x3f9306],_0x448126(0x27e),_0x33cf51,null,![]),handleApiCall([{'text':_0x71833c},..._0x3f9306],_0x448126(0x27e),null,null,![])]),_0x3044bc=JSON[_0x448126(0xa24)](_0x49bc51||[]),_0xa443ad=document[_0x448126(0x403)](_0x448126(0xac7)),_0x207236=document['getElementById']('lesson-sections-container');_0xa443ad[_0x448126(0x924)]=_0x448126(0x82d)+_0x95e3af[_0x448126(0x46f)](/•\\s/g,'')+_0x448126(0x377)+_0x27dd14+')',[_0x448126(0x7ea),'memoryContent',_0x448126(0x697)][_0x448126(0x384)](_0x44a823=>{const _0x5f2005=_0x448126;document[_0x5f2005(0x403)](_0x44a823)[_0x5f2005(0x86f)]='';}),document[_0x448126(0x403)](_0x448126(0x7ea))[_0x448126(0x86f)]=_0x5e0fcf?marked[_0x448126(0xa51)](_0x5e0fcf):_0x448126(0x271),document['getElementById'](_0x448126(0x433))[_0x448126(0x86f)]=_0x356a0c?marked[_0x448126(0xa51)](_0x356a0c):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x448126(0x403)](_0x448126(0x697))[_0x448126(0x86f)]=_0x6877b4?marked['parse'](_0x6877b4):_0x448126(0x271),currentApplicationData=JSON[_0x448126(0xa51)](_0x3044bc);const _0x55754f=document[_0x448126(0x403)](_0x448126(0x1a3));_0x55754f[_0x448126(0x86f)]=(currentApplicationData||[])['map']((_0x468d1b,_0x5b2e4e)=>_0x448126(0xa70)+(_0x5b2e4e+0x1)+'.\x20'+marked[_0x448126(0x6c7)](_0x468d1b[_0x448126(0x852)]||'')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x5b2e4e+_0x448126(0x79d)+(_0x468d1b[_0x448126(0x6a5)]||[])[_0x448126(0x961)]((_0x5893ae,_0x232249)=>_0x448126(0xd00)+_0x5b2e4e+',\x20'+_0x232249+')\x22>'+String['fromCharCode'](0x61+_0x232249)+'.\x20'+marked[_0x448126(0x6c7)](_0x5893ae||'')+_0x448126(0xad8))[_0x448126(0xbcc)]('')+_0x448126(0x15d))[_0x448126(0xbcc)]('')||'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>',window[_0x448126(0xaeb)]&&MathJax[_0x448126(0x738)]([_0x207236]),_0x100557['classList'][_0x448126(0x7be)](_0x448126(0x17c)),_0x207236[_0x448126(0x67e)][_0x448126(0x3e9)](_0x448126(0x17c));}catch(_0x5197ab){console[_0x448126(0x51e)](_0x5197ab);throw _0x5197ab;}}function checkAnswer(_0xebea52,_0x249b01){const _0x4a0fdf=_0x361958,_0x57b3e4=currentApplicationData[_0xebea52],_0x2cb1ab=document[_0x4a0fdf(0x403)]('q'+_0xebea52+_0x4a0fdf(0x562)),_0x36efec=_0x2cb1ab[_0x4a0fdf(0xb5a)](_0x4a0fdf(0xaf2));for(let _0x390449 of _0x36efec){_0x390449['disabled']=!![];}_0x249b01===_0x57b3e4[_0x4a0fdf(0x7b2)]?_0x36efec[_0x249b01][_0x4a0fdf(0x67e)][_0x4a0fdf(0x7be)](_0x4a0fdf(0xab7)):(_0x36efec[_0x249b01][_0x4a0fdf(0x67e)]['add'](_0x4a0fdf(0x61d)),_0x36efec[_0x57b3e4[_0x4a0fdf(0x7b2)]][_0x4a0fdf(0x67e)][_0x4a0fdf(0x7be)]('correct'));}window['handleGenerateAndShowLesson']=handleGenerateAndShowLesson,window[_0x361958(0x104)]=checkAnswer,window[_0x361958(0xc51)]=handleGeneratePracticeTest,window[_0x361958(0x65b)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x9c2534=_0x361958;try{const _0x4cfb1e=initializeApp(firebaseConfig);db=getFirestore(_0x4cfb1e),auth=getAuth(_0x4cfb1e),setupAuthListener(),setupEventListeners(),showView(_0x9c2534(0x412)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x4bf17a){console[_0x9c2534(0x51e)](_0x9c2534(0xc65),_0x4bf17a),showMessage(_0x9c2534(0xbbb));}}async function handleVerifyAnswersInEditor(){const _0x49fad0=_0x361958,_0x458081=document[_0x49fad0(0x403)]('quiz-editor-modal');if(!_0x458081)return;const _0x8c15a0=document[_0x49fad0(0x403)](_0x49fad0(0xa9f));_0x8c15a0[_0x49fad0(0x79a)]=!![],_0x8c15a0['innerHTML']=_0x49fad0(0xb1b);try{const _0x3a3cd5=_0x458081[_0x49fad0(0x2c6)](_0x49fad0(0x692)),_0x2bc9c4=Array[_0x49fad0(0x70c)](_0x3a3cd5)['map']((_0x40fedf,_0x229451)=>{const _0x1f1985=_0x49fad0,_0xd419a3=_0x40fedf[_0x1f1985(0x8c4)][_0x1f1985(0xee)],_0x29720e=_0x40fedf[_0x1f1985(0x314)](_0x1f1985(0x342))['value'];let _0x24f6b=null,_0x106971='';switch(_0xd419a3){case _0x1f1985(0x736):const _0x486584=_0x40fedf[_0x1f1985(0x2c6)](_0x1f1985(0xc87));_0x24f6b=Array['from'](_0x486584)[_0x1f1985(0x961)](_0x11fa17=>_0x11fa17['value']);const _0x4013bf=_0x40fedf[_0x1f1985(0x314)]('input[type=\x22radio\x22]:checked');_0x4013bf&&(_0x106971=_0x24f6b[parseInt(_0x4013bf[_0x1f1985(0x491)])]);break;case _0x1f1985(0x385):_0x24f6b=[],_0x106971=_0x40fedf[_0x1f1985(0x314)](_0x1f1985(0x2e1))[_0x1f1985(0x491)];break;case _0x1f1985(0x891):_0x24f6b=[_0x1f1985(0x4db),_0x1f1985(0xcb)];const _0x5be5e2=_0x40fedf[_0x1f1985(0x314)](_0x1f1985(0x53b));_0x106971=_0x5be5e2?_0x5be5e2[_0x1f1985(0x491)]:'';break;case _0x1f1985(0x886):_0x24f6b=[],_0x106971=_0x40fedf[_0x1f1985(0x314)](_0x1f1985(0x227))['value'];break;}return{'question':_0x29720e,'options':_0x24f6b,'proposedAnswer':_0x106971};}),_0x18108f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x49fad0(0xa24)](_0x2bc9c4)+_0x49fad0(0xac3),_0x414cca={'type':_0x49fad0(0xb41),'items':{'type':_0x49fad0(0xbb5),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x49fad0(0x4b9)},'justification':{'type':'STRING'},'correctOptionExists':{'type':_0x49fad0(0x4b9)},'suggestedAnswer':{'type':_0x49fad0(0xef)},'newOptionsPayload':{'type':_0x49fad0(0xbb5),'properties':{'newOptions':{'type':_0x49fad0(0xb41),'items':{'type':'STRING'}},'newCorrectIndex':{'type':_0x49fad0(0x6b8)}}}},'required':[_0x49fad0(0x59c),_0x49fad0(0x4dd),_0x49fad0(0x89e)]}},_0x512d8f=await callAnalysisApi(_0x18108f,{'type':'OBJECT','properties':{'result':_0x414cca},'required':['result']});displayVerificationResultsInEditor(_0x512d8f[_0x49fad0(0x8f1)]);}catch(_0x234133){console['error']('Error\x20verifying\x20answers\x20in\x20editor:',_0x234133),showMessage(_0x49fad0(0x4a3));}finally{_0x8c15a0[_0x49fad0(0x79a)]=![],_0x8c15a0['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x44d366){const _0x4fff4a=_0x361958;_0x44d366['forEach'](_0x4b3bd2=>{const _0x11b21e=_0x3ec8,_0x2a7ddd=document[_0x11b21e(0x314)]('.question-editor-item[data-q-index=\x22'+_0x4b3bd2[_0x11b21e(0x59c)]+'\x22]');if(!_0x2a7ddd)return;const _0x3d0d93=_0x2a7ddd['querySelector'](_0x11b21e(0x78a));if(_0x3d0d93)_0x3d0d93[_0x11b21e(0x3e9)]();let _0x2cf1f6='';if(_0x4b3bd2[_0x11b21e(0xa42)]&&_0x4b3bd2[_0x11b21e(0xa42)][_0x11b21e(0x636)]){const _0x2917e2=_0x4b3bd2[_0x11b21e(0xa42)][_0x11b21e(0x636)],_0x175f8d=_0x4b3bd2[_0x11b21e(0xa42)][_0x11b21e(0x5c2)],_0x1a9400=_0x2a7ddd['dataset']['qType'];if(_0x1a9400===_0x11b21e(0x736)){const _0x57487c=_0x2a7ddd[_0x11b21e(0x2c6)](_0x11b21e(0xc87));_0x57487c[_0x11b21e(0x384)]((_0x121c5a,_0x57bab3)=>{const _0x5be072=_0x11b21e;_0x2917e2[_0x57bab3]?_0x121c5a['value']=_0x2917e2[_0x57bab3]:_0x121c5a['value']=_0x5be072(0x58a);});const _0x1ef995=_0x2a7ddd[_0x11b21e(0x314)](_0x11b21e(0x339)+_0x175f8d+'\x22]');_0x1ef995&&(_0x1ef995[_0x11b21e(0x98b)]=!![]),_0x2cf1f6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x2a7ddd[_0x11b21e(0x67e)][_0x11b21e(0x7be)]('bg-yellow-200',_0x11b21e(0x80b),_0x11b21e(0x164)),setTimeout(()=>{const _0x13d897=_0x11b21e;_0x2a7ddd[_0x13d897(0x67e)][_0x13d897(0x3e9)](_0x13d897(0x7a3));},0x9c4);}}else{if(!_0x4b3bd2[_0x11b21e(0x4dd)]&&_0x4b3bd2[_0x11b21e(0x75f)]){const _0x5f3a59=_0x4b3bd2['suggestedAnswer']?_0x11b21e(0xc91):'';_0x2cf1f6=_0x11b21e(0xd5)+_0x5f3a59+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x4b3bd2[_0x11b21e(0x89e)]+_0x11b21e(0x781)+(_0x4b3bd2[_0x11b21e(0x75f)]?_0x11b21e(0x126)+_0x4b3bd2[_0x11b21e(0x75f)]+_0x11b21e(0x86d):'')+_0x11b21e(0x7d0);const _0x52f99e=_0x2a7ddd['dataset']['qType'],_0x395462=_0x3c00a7=>{const _0x46db6a=_0x11b21e;if(!_0x3c00a7)return;_0x3c00a7[_0x46db6a(0x67e)]['add'](_0x46db6a(0x9b8),_0x46db6a(0x80b),_0x46db6a(0x164)),setTimeout(()=>{const _0x27e2d6=_0x46db6a;_0x3c00a7[_0x27e2d6(0x67e)][_0x27e2d6(0x3e9)](_0x27e2d6(0x9b8));},0x9c4);};if(_0x52f99e===_0x11b21e(0x736)){const _0x51d953=Array[_0x11b21e(0x70c)](_0x2a7ddd[_0x11b21e(0x2c6)](_0x11b21e(0xc87))),_0x24a144=_0x51d953[_0x11b21e(0x241)](_0x489a9f=>_0x489a9f['value']['trim']()[_0x11b21e(0x985)]()===_0x4b3bd2[_0x11b21e(0x75f)][_0x11b21e(0x783)]()[_0x11b21e(0x985)]());if(_0x24a144!==-0x1){const _0x57c210=_0x2a7ddd[_0x11b21e(0x314)]('input[type=\x22radio\x22][value=\x22'+_0x24a144+'\x22]');_0x57c210&&(_0x57c210[_0x11b21e(0x98b)]=!![],_0x395462(_0x57c210[_0x11b21e(0x1af)](_0x11b21e(0x528))));}}else{if(_0x52f99e===_0x11b21e(0x385)||_0x52f99e===_0x11b21e(0x886)){const _0x4351b9=_0x2a7ddd[_0x11b21e(0x314)](_0x11b21e(0xbac));_0x4351b9&&(_0x4351b9['value']=_0x4b3bd2['suggestedAnswer'],_0x395462(_0x4351b9));}else{if(_0x52f99e===_0x11b21e(0x891)){const _0x3d8846=_0x4b3bd2['suggestedAnswer'][_0x11b21e(0x783)]()['toLowerCase'](),_0x4206e=_0x2a7ddd[_0x11b21e(0x314)]('input[type=\x22radio\x22][value=\x22'+_0x3d8846+'\x22]');_0x4206e&&(_0x4206e['checked']=!![],_0x395462(_0x4206e[_0x11b21e(0x1af)]('div')));}}}}else _0x4b3bd2[_0x11b21e(0x4dd)]&&(_0x2cf1f6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');}_0x2a7ddd[_0x11b21e(0x71d)]('beforeend',_0x2cf1f6);}),showMessage(_0x4fff4a(0x27c));}async function handleVerifyAnswers(){const _0x5df69c=_0x361958;if(!currentQuizData||!currentQuizData[_0x5df69c(0x707)]){showMessage(_0x5df69c(0x6dc));return;}const _0x25f80c=document[_0x5df69c(0x403)](_0x5df69c(0x34e));_0x25f80c[_0x5df69c(0x79a)]=!![],_0x25f80c[_0x5df69c(0x86f)]=_0x5df69c(0xb1b);try{const _0x52bb0c=currentQuizData['questions'][_0x5df69c(0x961)]((_0x127ba6,_0x1e052d)=>{const _0x56c09e=_0x5df69c;let _0x576902='';const _0x2f6d68=_0x127ba6[_0x56c09e(0x30c)]||currentQuizData[_0x56c09e(0x94d)];switch(_0x2f6d68){case _0x56c09e(0x736):_0x576902=_0x127ba6[_0x56c09e(0x6a5)][_0x127ba6['correctAnswerIndex']];break;case _0x56c09e(0x385):_0x576902=_0x127ba6[_0x56c09e(0x94b)];break;case _0x56c09e(0x891):_0x576902=_0x127ba6[_0x56c09e(0xc73)][_0x56c09e(0x292)]();break;case _0x56c09e(0x886):_0x576902=_0x127ba6[_0x56c09e(0x8c7)];break;}return{'question':_0x127ba6['stem']||_0x127ba6[_0x56c09e(0xf5)],'options':_0x127ba6[_0x56c09e(0x6a5)]||null,'proposedAnswer':_0x576902};}),_0x5031c4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x5df69c(0xa24)](_0x52bb0c)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x27fdc0={'type':_0x5df69c(0xb41),'items':{'type':_0x5df69c(0xbb5),'properties':{'questionIndex':{'type':_0x5df69c(0x6b8)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x5df69c(0xef)},'suggestedAnswer':{'type':_0x5df69c(0xef)}},'required':[_0x5df69c(0x59c),_0x5df69c(0x4dd),_0x5df69c(0x89e)]}},_0x3a7276=await callAnalysisApi(_0x5031c4,{'type':_0x5df69c(0xbb5),'properties':{'result':_0x27fdc0},'required':[_0x5df69c(0x8f1)]});displayVerificationResults(_0x3a7276[_0x5df69c(0x8f1)]);}catch(_0x307980){console[_0x5df69c(0x51e)](_0x5df69c(0xbe0),_0x307980),showMessage(_0x5df69c(0x4a3));}finally{_0x25f80c[_0x5df69c(0x79a)]=![],_0x25f80c['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x174efe){const _0x40f214=_0x361958;_0x174efe[_0x40f214(0x384)](_0x4af07c=>{const _0x557c4f=_0x40f214,_0x444689=document['querySelector'](_0x557c4f(0x260)+_0x4af07c['questionIndex']+'\x22]');if(_0x444689){const _0x132f33=_0x444689[_0x557c4f(0x314)](_0x557c4f(0x6a6));if(_0x132f33)_0x132f33[_0x557c4f(0x3e9)]();let _0x7067c8='';_0x4af07c['isCorrect']?_0x7067c8=_0x557c4f(0xb71):_0x7067c8=_0x557c4f(0x613)+_0x4af07c[_0x557c4f(0x89e)]+_0x557c4f(0x268)+(_0x4af07c['suggestedAnswer']?_0x557c4f(0x126)+_0x4af07c[_0x557c4f(0x75f)]+_0x557c4f(0x86d):'')+_0x557c4f(0x5a2),_0x444689[_0x557c4f(0x71d)](_0x557c4f(0xc9b),_0x7067c8);}}),showMessage(_0x40f214(0x27c));}function compareNumericalAnswers(_0x110f0b,_0x2ffaec){const _0x25c072=_0x361958,_0x15e55f=String(_0x110f0b)[_0x25c072(0x46f)](',','.')[_0x25c072(0x46f)](/[^\d.-]/g,'')['trim'](),_0x3810e0=String(_0x2ffaec)[_0x25c072(0x46f)](',','.')[_0x25c072(0x46f)](/[^\d.-]/g,'')['trim']();if(_0x15e55f===''||_0x3810e0==='')return![];const _0x194e4c=parseFloat(_0x15e55f),_0x44c4e5=parseFloat(_0x3810e0);if(isNaN(_0x194e4c)||isNaN(_0x44c4e5))return![];return Math[_0x25c072(0x36f)](_0x194e4c-_0x44c4e5)<0.001;}function isPotentiallyNumeric(_0x325cd0){const _0x13d83d=_0x361958;if(typeof _0x325cd0!==_0x13d83d(0x89d)&&typeof _0x325cd0!==_0x13d83d(0x95e))return![];const _0x38ad1b=String(_0x325cd0)[_0x13d83d(0x46f)](',','.')['trim']();return _0x38ad1b!==''&&!isNaN(parseFloat(_0x38ad1b))&&isFinite(_0x38ad1b);}async function gradeShortAnswer(_0x12fc81,_0x40a792){const _0x47eb72=_0x361958,_0x25bd19=_0x40a792['idealAnswer'],_0x92c5b9=String(_0x12fc81)[_0x47eb72(0x46f)](/\$/g,'')[_0x47eb72(0x783)](),_0x23c3ad=String(_0x25bd19)[_0x47eb72(0x46f)](/\$/g,'')['trim']();if(_0x92c5b9[_0x47eb72(0x985)]()===_0x23c3ad[_0x47eb72(0x985)]())return!![];if(isPotentiallyNumeric(_0x92c5b9)&&isPotentiallyNumeric(_0x23c3ad)){if(compareNumericalAnswers(_0x92c5b9,_0x23c3ad))return!![];}return console[_0x47eb72(0xb07)](_0x47eb72(0x39b)),await gradeShortAnswerWithAI(_0x12fc81,_0x25bd19);}async function revealAnswerForAdmin(_0x13f936,_0x7ab68a){const _0x327ea2=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x327ea2,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x3fe211){const _0x299a72=_0x361958,_0x299e11=Object[_0x299a72(0x9bd)](_0x3fe211[_0x299a72(0x414)]||{})[_0x299a72(0x9df)](_0x5353ee=>_0x5353ee[_0x299a72(0x6b5)]===_0x299a72(0x70f));_0x299e11[_0x299a72(0x2b7)]((_0x376928,_0x200427)=>_0x200427['score']-_0x376928[_0x299a72(0xa6e)]);const _0xca5044=_0x299e11[_0x299a72(0x4ca)](0x0,0x5),_0x202e7d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xca5044[_0x299a72(0x961)]((_0x167d58,_0x4c29b3)=>_0x299a72(0x6c5)+(_0x4c29b3+0x1)+'.\x20'+(_0x167d58[_0x299a72(0x2ea)]||Object[_0x299a72(0x293)](_0x3fe211['players'])['find'](_0x210b6b=>_0x3fe211[_0x299a72(0x414)][_0x210b6b]===_0x167d58))+_0x299a72(0xaba)+_0x167d58[_0x299a72(0xa6e)]+_0x299a72(0x6bf))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3fe211[_0x299a72(0x19a)]+0x1===currentQuizData['questions'][_0x299a72(0x6b7)]?_0x299a72(0xb92):_0x299a72(0x7ad))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x202e7d,document[_0x299a72(0x403)](_0x299a72(0x1f0))[_0x299a72(0x224)](_0x299a72(0x920),async()=>{const _0x2bcf54=_0x299a72,_0x52972f=doc(db,_0x2bcf54(0x418)+appId+'/public/data/liveGames',currentLiveGameId),_0x481dec=_0x3fe211[_0x2bcf54(0x19a)]+0x1;if(_0x481dec<currentQuizData[_0x2bcf54(0x707)][_0x2bcf54(0x6b7)]){const _0x58ed19={'currentQuestionIndex':_0x481dec,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x2bcf54(0x1e5)};Object['keys'](_0x3fe211['players'])[_0x2bcf54(0x384)](_0x15da3a=>{const _0x3e65b6=_0x2bcf54;_0x58ed19['players.'+_0x15da3a+_0x3e65b6(0x457)]=![];}),await updateDoc(_0x52972f,_0x58ed19);}else await updateDoc(_0x52972f,{'status':_0x2bcf54(0x29c)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x3493f8=>{const _0x1b42c7=_0x3ec8;if(_0x3493f8){userId=_0x3493f8['uid'],userIdDisplay[_0x1b42c7(0x317)]=userId;const _0x3ac8a7=await loadUserPreferences();_0x3ac8a7['projectSortOrder']&&(document['getElementById'](_0x1b42c7(0x85a))[_0x1b42c7(0x491)]=_0x3ac8a7[_0x1b42c7(0x6b0)]);globalDashboardSettings[_0x1b42c7(0x6ed)]=_0x3ac8a7[_0x1b42c7(0x6ed)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x49987c,_0x36e2f0){const _0x3566d0=_0x361958;if(!userId)return;try{const _0x5cbb25=doc(db,_0x3566d0(0x418)+appId+_0x3566d0(0xa0d)+userId+_0x3566d0(0x690)),_0x3689f7={};_0x3689f7[_0x49987c]=_0x36e2f0,await setDoc(_0x5cbb25,_0x3689f7,{'merge':!![]});}catch(_0x20159d){console[_0x3566d0(0x51e)]('Error\x20saving\x20user\x20preference:',_0x20159d);}}async function loadUserPreferences(){const _0x4cd19b=_0x361958;if(!userId)return{};try{const _0x5d92ef=doc(db,'artifacts/'+appId+_0x4cd19b(0xa0d)+userId+_0x4cd19b(0x690)),_0x25d7d5=await getDoc(_0x5d92ef);if(_0x25d7d5[_0x4cd19b(0x6f9)]())return _0x25d7d5[_0x4cd19b(0xaff)]();return{};}catch(_0x2f9f85){return console[_0x4cd19b(0x51e)](_0x4cd19b(0x21b),_0x2f9f85),{};}}function parseIndentedBlueprint(_0x46c520){const _0x437cad=_0x361958,_0x1ebbdb=_0x46c520['split']('\x0a')[_0x437cad(0x9df)](_0x4bb0e7=>_0x4bb0e7['trim']()!==''),_0x3b1fb4=[];let _0x18e1aa=null,_0x11654f=null;return _0x1ebbdb[_0x437cad(0x384)](_0x3e4e92=>{const _0x30e35e=_0x437cad,_0x3808f5=_0x3e4e92[_0x30e35e(0xcc1)](/^\s*/)[0x0][_0x30e35e(0x6b7)],_0x167578=_0x3e4e92[_0x30e35e(0x783)]();if(_0x3808f5===0x0)_0x18e1aa={'sara':_0x167578,'mainTopics':[]},_0x3b1fb4['push'](_0x18e1aa),_0x11654f=null;else{if(_0x3808f5>0x0&&_0x3808f5<0x8&&_0x18e1aa)_0x11654f={'topicName':_0x167578,'subTopics':[]},_0x18e1aa[_0x30e35e(0x312)][_0x30e35e(0x798)](_0x11654f);else _0x3808f5>=0x8&&_0x11654f&&_0x11654f[_0x30e35e(0x22b)][_0x30e35e(0x798)](_0x167578);}}),{'curriculum':_0x3b1fb4};}async function handleManualBlueprintSave(){const _0x31a4a8=_0x361958,_0x3d5b7f=document[_0x31a4a8(0x403)](_0x31a4a8(0x70a))[_0x31a4a8(0x491)][_0x31a4a8(0x783)](),_0x98aa16=document[_0x31a4a8(0x403)]('manual-bp-grade-level')[_0x31a4a8(0x491)][_0x31a4a8(0x783)](),_0x10cf9f=document[_0x31a4a8(0x403)]('manual-bp-content')['value'];if(!_0x3d5b7f||!_0x98aa16||!_0x10cf9f){showMessage(_0x31a4a8(0x3d6));return;}const _0x52b537=parseIndentedBlueprint(_0x10cf9f);if(!_0x52b537[_0x31a4a8(0x212)]||_0x52b537[_0x31a4a8(0x212)][_0x31a4a8(0x6b7)]===0x0){showMessage(_0x31a4a8(0x508));return;}const _0x3ae5e4={};let _0x4903a7=0x0;_0x52b537['curriculum']['forEach'](_0x5aec36=>{const _0x32ca15=_0x31a4a8;_0x5aec36[_0x32ca15(0x312)][_0x32ca15(0x384)](_0x15303b=>{const _0x30cb46=_0x32ca15;_0x15303b[_0x30cb46(0x22b)][_0x30cb46(0x384)](_0x11f82f=>{const _0x535459=_0x30cb46,_0x402e0f=_0x535459(0xb3a)+Date['now']()+Math[_0x535459(0x427)]()[_0x535459(0x292)](0x24)['substr'](0x2,0x9);_0x3ae5e4[_0x402e0f]={'sara':_0x5aec36['sara'],'mainTopic':_0x15303b['topicName'],'subTopic':_0x11f82f,'status':_0x535459(0x5fa),'lessonContent':null,'order':_0x4903a7++};});});});try{const _0x41e51b=collection(db,_0x31a4a8(0x418)+appId+_0x31a4a8(0xc0f));await addDoc(_0x41e51b,{'projectName':_0x3d5b7f,'gradeLevel':_0x98aa16,'topics':_0x3ae5e4,'createdAt':serverTimestamp()}),showMessage(_0x31a4a8(0xc20)+_0x3d5b7f+_0x31a4a8(0x3c0)),document[_0x31a4a8(0x403)]('manual-blueprint-modal')['classList'][_0x31a4a8(0x7be)](_0x31a4a8(0x17c));}catch(_0x5b3c4d){console[_0x31a4a8(0x51e)](_0x31a4a8(0x56d),_0x5b3c4d),showMessage(_0x31a4a8(0x97e));}}function handleClearAllLinksForTopic(_0x1db124){const _0x3d4d97=_0x361958;showConfirmation(_0x3d4d97(0xb5c),async()=>{const _0x187c5a=_0x3d4d97;try{const _0x511e91=doc(db,_0x187c5a(0x418)+appId+_0x187c5a(0xc0f),currentBlueprintProjectId);await updateDoc(_0x511e91,{[_0x187c5a(0x37f)+_0x1db124+_0x187c5a(0x8c5)]:[]}),showMessage(_0x187c5a(0x568)),openTopicQuizBank(_0x1db124),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x7d973e){console[_0x187c5a(0x51e)]('Error\x20clearing\x20all\x20links:',_0x7d973e),showMessage(_0x187c5a(0x2af));}});}function showPodiumView(_0x42d492,_0x54ad3a='live-race'){const _0x29a215=_0x361958,_0x3aab03=Object[_0x29a215(0x68a)](_0x42d492)[_0x29a215(0x961)](([_0x238727,_0x1a0113])=>({'name':_0x238727,'score':_0x1a0113[_0x29a215(0xa6e)]||0x0,'badges':_0x1a0113[_0x29a215(0x3b7)]||[],'hasPerfectScoreBonus':_0x1a0113[_0x29a215(0x31a)]||![]}));_0x3aab03[_0x29a215(0x2b7)]((_0x397ffe,_0x454ea8)=>{const _0x13e2c4=_0x29a215,_0x3e083a=_0x454ea8[_0x13e2c4(0xa6e)]-_0x397ffe[_0x13e2c4(0xa6e)];if(_0x3e083a!==0x0)return _0x3e083a;return(_0x454ea8[_0x13e2c4(0x3b7)][_0x13e2c4(0x6b7)]||0x0)-(_0x397ffe[_0x13e2c4(0x3b7)][_0x13e2c4(0x6b7)]||0x0);});const _0x48f4d7=_0x246432=>{const _0x206f17=_0x29a215;if(!_0x246432||_0x246432[_0x206f17(0x6b7)]===0x0)return'';const _0x56d55a={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x206f17(0x743)+_0x246432['map'](_0x1a416d=>_0x56d55a[_0x1a416d]||'')['join']('')+'</div>';},_0x59ed24=_0x3aab03[_0x29a215(0x4ca)](0x3),_0x4636d4=_0x59ed24[_0x29a215(0x6b7)]>0x0?_0x29a215(0x547)+_0x59ed24[_0x29a215(0x961)]((_0x38f944,_0x5555d9)=>{const _0x16440b=_0x29a215,_0xb62f28=_0x38f944[_0x16440b(0x31a)]?_0x16440b(0x75e):'';return _0x16440b(0x9fb)+(_0x5555d9+0x4)+_0x16440b(0x8b0)+_0x38f944[_0x16440b(0x2ea)]+_0x16440b(0x20d)+_0x38f944[_0x16440b(0xa6e)]+_0x16440b(0x1d2)+_0xb62f28+_0x16440b(0xd2);})[_0x29a215(0xbcc)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x5c7563=_0x29a215(0xe8)+(_0x3aab03[0x1]?_0x29a215(0x7e8)+_0x3aab03[0x1][_0x29a215(0x2ea)]+_0x29a215(0x86d)+_0x48f4d7(_0x3aab03[0x1][_0x29a215(0x3b7)])+_0x29a215(0xba9)+_0x3aab03[0x1]['score']+_0x29a215(0x1d2)+(_0x3aab03[0x1]['hasPerfectScoreBonus']?_0x29a215(0xbfd):'')+'</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':_0x29a215(0x43f))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3aab03[0x0]?_0x29a215(0xc77)+_0x3aab03[0x0][_0x29a215(0x2ea)]+'</p>'+_0x48f4d7(_0x3aab03[0x0][_0x29a215(0x3b7)])+_0x29a215(0x903)+_0x3aab03[0x0][_0x29a215(0xa6e)]+'\x20คะแนน\x20'+(_0x3aab03[0x0][_0x29a215(0x31a)]?_0x29a215(0xbfd):'')+_0x29a215(0xcb1):_0x29a215(0x43f))+_0x29a215(0xac3)+(_0x3aab03[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x3aab03[0x2][_0x29a215(0x2ea)]+_0x29a215(0x86d)+_0x48f4d7(_0x3aab03[0x2][_0x29a215(0x3b7)])+'<p\x20class=\x22text-xl\x22>'+_0x3aab03[0x2][_0x29a215(0xa6e)]+'\x20คะแนน\x20'+(_0x3aab03[0x2][_0x29a215(0x31a)]?_0x29a215(0xbfd):'')+_0x29a215(0x6d2):'<div\x20class=\x22flex-1\x22></div>')+_0x29a215(0x1d3)+_0x4636d4+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x29a215(0x5b5)?_0x29a215(0x176):_0x29a215(0xb9f))+_0x29a215(0x2ed);liveGameView[_0x29a215(0x86f)]=_0x5c7563,currentMode===_0x29a215(0x5b5)&&document['getElementById']('close-game-final-btn')[_0x29a215(0x224)](_0x29a215(0x920),async()=>{const _0x1f6baf=_0x29a215;let _0x3f05ad;_0x54ad3a===_0x1f6baf(0x18e)?_0x3f05ad=doc(db,'artifacts/'+appId+_0x1f6baf(0x996),currentLiveGameId):_0x3f05ad=doc(db,_0x1f6baf(0x418)+appId+_0x1f6baf(0xb0c),currentLiveGameId),await deleteDoc(_0x3f05ad);});}function renderSyncSummaryView(_0x2535ec,_0x6050f4,_0x6aaf22){const _0x2e0918=_0x361958,_0x3dde79=_0x2535ec[_0x2e0918(0x1d8)]||_0x2e0918(0x306),_0x147719=_0x3dde79==='anonymous'&&_0x2535ec[_0x2e0918(0x555)]===![],_0x2ae21e=Object[_0x2e0918(0x9bd)](_0x2535ec[_0x2e0918(0x414)]||{}),_0x5054db=_0x2535ec[_0x2e0918(0x8f6)][_0x2e0918(0x707)],_0x12a805=_0x6050f4['questionType']||_0x2535ec[_0x2e0918(0x8f6)][_0x2e0918(0x94d)];let _0x494032=[];_0x12a805===_0x2e0918(0x891)?_0x494032=[_0x2e0918(0x12c),_0x2e0918(0x542)]:_0x494032=_0x6050f4['options']||[];const _0x471f23=new Array(_0x494032[_0x2e0918(0x6b7)])['fill'](0x0),_0x2b4b06={};_0x494032['forEach']((_0x3fdcbd,_0x575155)=>{_0x2b4b06[_0x575155]=[];}),Object[_0x2e0918(0x68a)](_0x2535ec[_0x2e0918(0x414)]||{})[_0x2e0918(0x384)](([_0x3d7486,_0xf274da])=>{const _0x27e761=_0x2e0918;if(_0xf274da[_0x27e761(0x6b5)]!==_0x27e761(0x203)&&_0xf274da['lastAnswerIndex']!==undefined&&_0xf274da[_0x27e761(0x7b7)]!==null){const _0x21da5a=_0xf274da['lastAnswerIndex'];if(_0x2b4b06[_0x21da5a]!==undefined){const _0x3804a7=_0x147719?_0x2535ec['playerNicknames'][_0x3d7486]||_0x27e761(0x575):_0x3d7486;_0x2b4b06[_0x21da5a][_0x27e761(0x798)](_0x3804a7),_0x471f23[_0x21da5a]++;}}});let _0x3df2aa='';const _0x24ac2d=_0x2535ec[_0x2e0918(0x19a)]>=_0x5054db[_0x2e0918(0x6b7)]-0x1;_0x6aaf22?_0x3dde79==='reveal_at_end'?_0x24ac2d?_0x3df2aa=_0x2e0918(0x57d):_0x3df2aa=_0x2e0918(0xcce):_0x3df2aa=_0x2e0918(0x16c):_0x3dde79==='reveal_at_end'?_0x3df2aa=_0x2e0918(0x4c3):_0x3df2aa=_0x2e0918(0xd9);const _0x5754cb=_0x6aaf22?_0x2e0918(0x9e9)+_0x2535ec['pin']+_0x2e0918(0x97f):'',_0x21829b=_0x2e0918(0xb29)+_0x5754cb+_0x2e0918(0x5c1)+_0x6050f4['questionText']+_0x2e0918(0x33c)+_0x471f23[_0x2e0918(0x961)]((_0x3384bb,_0x549f0a)=>{const _0x4d9c63=_0x2e0918,_0x3c5a45=_0x2b4b06[_0x549f0a][_0x4d9c63(0x6b7)]>0x0?_0x2b4b06[_0x549f0a][_0x4d9c63(0xbcc)](',\x20'):_0x4d9c63(0xb12),_0x1e3d25=_0x4d9c63(0xb7b);return _0x4d9c63(0x1e1)+_0x3384bb+_0x4d9c63(0xa43)+_0x1e3d25+_0x4d9c63(0x1ea)+_0x549f0a+_0x4d9c63(0x21e)+_0x494032[_0x549f0a]+_0x4d9c63(0x523)+_0x549f0a+_0x4d9c63(0xbdf)+_0x3c5a45+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x2e0918(0xbcc)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3df2aa+_0x2e0918(0x80e);liveGameView[_0x2e0918(0x86f)]=_0x21829b;if(window[_0x2e0918(0xaeb)])MathJax['typesetPromise']();if(_0x6aaf22){const _0x74b70f=doc(db,'artifacts/'+appId+_0x2e0918(0x996),currentLiveGameId);document[_0x2e0918(0x403)](_0x2e0918(0xa8d))?.[_0x2e0918(0x224)]('click',async()=>{await updateDoc(_0x74b70f,{'status':'results'});}),document[_0x2e0918(0x403)](_0x2e0918(0x5f6))?.[_0x2e0918(0x224)](_0x2e0918(0x920),()=>{openScratchpad(_0x6050f4,_0x494032);}),document[_0x2e0918(0x403)]('next-sync-question-btn')?.[_0x2e0918(0x224)](_0x2e0918(0x920),async()=>{const _0x53de0e=_0x2e0918,_0x2efcaa=_0x2535ec[_0x53de0e(0x19a)]+0x1,_0x66bc9a={};Object[_0x53de0e(0x293)](_0x2535ec[_0x53de0e(0x414)])[_0x53de0e(0x384)](_0x4efe2c=>{const _0x9c99f8=_0x53de0e;_0x66bc9a[_0x9c99f8(0x1d7)+_0x4efe2c+_0x9c99f8(0x8b1)]=![],_0x66bc9a['players.'+_0x4efe2c+_0x9c99f8(0x6e2)]=null;}),await updateDoc(_0x74b70f,{..._0x66bc9a,'status':'question','currentQuestionIndex':_0x2efcaa,'questionDisplayedAt':serverTimestamp()});}),document[_0x2e0918(0x403)](_0x2e0918(0x36c))?.[_0x2e0918(0x224)](_0x2e0918(0x920),async()=>{const _0x5d72be=_0x2e0918;await updateDoc(_0x74b70f,{'status':_0x5d72be(0x536),'reviewQuestionIndex':0x0});});}}function renderAnonymousStudentResultsView(_0x2abc7a){const _0x2dc61f=_0x361958,_0x46854c=_0x2abc7a[_0x2dc61f(0x19a)]>=_0x2abc7a['shuffledQuiz'][_0x2dc61f(0x707)][_0x2dc61f(0x6b7)]-0x1;let _0x2d233d='';if(_0x2abc7a[_0x2dc61f(0x555)]===!![]){const _0x25e9ed=_0x2abc7a['players'][localTeamPlayers[0x0]],_0x244038=_0x25e9ed['name'],_0x16e87e=_0x25e9ed['score'];_0x2d233d=_0x2dc61f(0x87d)+_0x244038+_0x2dc61f(0xc75)+_0x16e87e+_0x2dc61f(0xa31);}else _0x2d233d=_0x2dc61f(0xbe2)+(_0x46854c?_0x2dc61f(0x7eb):'รอผู้ควบคุมไปข้อต่อไป...')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0x4d58c1=_0x2dc61f(0xbc2)+_0x2d233d+_0x2dc61f(0x87f);liveGameView[_0x2dc61f(0x86f)]=_0x4d58c1;}async function handleShowStudentRankings(){const _0xda1006=_0x361958,_0xa32793=document['querySelector'](_0xda1006(0xa00));_0xa32793&&(_0xa32793['innerHTML']=_0xda1006(0x800));const _0x143eb5=document[_0xda1006(0x314)](_0xda1006(0x761));_0x143eb5&&(_0x143eb5[_0xda1006(0x86f)]=_0xda1006(0x7d9));const _0x1b981e=document['getElementById']('student-rankings-modal');_0x1b981e['classList']['remove'](_0xda1006(0x17c)),document[_0xda1006(0x403)](_0xda1006(0xbd5))['onclick']=()=>_0x1b981e['classList'][_0xda1006(0x7be)]('hidden');const _0x5bb800=document['getElementById'](_0xda1006(0x196)),_0x3013d1=document[_0xda1006(0x403)]('student-project-leaderboard-tab'),_0x9afd9=document[_0xda1006(0x403)](_0xda1006(0x39d)),_0x5decc1=document['getElementById']('student-project-leaderboard-content');_0x5bb800[_0xda1006(0x823)]=()=>{const _0x3a027c=_0xda1006;_0x5bb800[_0x3a027c(0x67e)][_0x3a027c(0x7be)](_0x3a027c(0x70f)),_0x3013d1['classList'][_0x3a027c(0x3e9)]('active'),_0x9afd9[_0x3a027c(0x67e)][_0x3a027c(0x3e9)](_0x3a027c(0x17c)),_0x5decc1[_0x3a027c(0x67e)][_0x3a027c(0x7be)](_0x3a027c(0x17c));},_0x3013d1[_0xda1006(0x823)]=()=>{const _0xa2c760=_0xda1006;_0x3013d1[_0xa2c760(0x67e)][_0xa2c760(0x7be)](_0xa2c760(0x70f)),_0x5bb800[_0xa2c760(0x67e)][_0xa2c760(0x3e9)]('active'),_0x5decc1[_0xa2c760(0x67e)]['remove']('hidden'),_0x9afd9[_0xa2c760(0x67e)]['add']('hidden');};try{const _0x44ca3e=collection(db,_0xda1006(0x418)+appId+_0xda1006(0xa18)+currentQuizData['id']+_0xda1006(0x7dc)),_0x5cc7ad=await getDocs(_0x44ca3e),_0x3958d5=_0x5cc7ad[_0xda1006(0x5b2)][_0xda1006(0x961)](_0x460e77=>_0x460e77[_0xda1006(0xaff)]());renderQuizLeaderboard(_0x3958d5,currentQuizData,_0xda1006(0x74b));const _0x4eef19=collection(db,_0xda1006(0x418)+appId+_0xda1006(0x525)+currentQuizData['projectId']+_0xda1006(0x478)),_0x5553c1=await getDocs(_0x4eef19),_0x26631c=_0x5553c1[_0xda1006(0x5b2)][_0xda1006(0x961)](_0x3691c2=>_0x3691c2[_0xda1006(0xaff)]());renderLeaderboard(_0x26631c,'student-project-leaderboard-table-body');}catch(_0x201ffa){console['error']('Error\x20fetching\x20student\x20rankings:',_0x201ffa),showMessage(_0xda1006(0xe3));}}async function handleSaveToBank(_0x22cd92){const _0x2f63da=_0x361958,_0x3db49e=_0x22cd92[_0x2f63da(0x1fb)],_0x369a16=_0x3db49e[_0x2f63da(0x8c4)][_0x2f63da(0x4b1)],_0x39f8f0=currentQuizData['questions'][_0x369a16];if(!userId){showMessage(_0x2f63da(0xb5d));return;}try{const _0x44e8bb={..._0x39f8f0,'originalTopic':currentQuizData[_0x2f63da(0x411)],'savedAt':serverTimestamp()},_0x2b8e78=collection(db,_0x2f63da(0x418)+appId+_0x2f63da(0xa0d)+userId+_0x2f63da(0xaf3));await addDoc(_0x2b8e78,_0x44e8bb),showMessage(_0x2f63da(0x9c6)),_0x3db49e['classList'][_0x2f63da(0x3e9)](_0x2f63da(0xc5c)),_0x3db49e[_0x2f63da(0x67e)][_0x2f63da(0x7be)](_0x2f63da(0x123)),_0x3db49e[_0x2f63da(0x79a)]=!![];}catch(_0x256c67){console['error'](_0x2f63da(0x284),_0x256c67),showMessage(_0x2f63da(0xb3e));}}async function selectProjectAndGenerateBlueprintQuiz(_0x4333e2,_0x4a9a74=null,_0x58f6ff=null,_0x29fe21=![]){const _0x22acd0=_0x361958;cameFromBlueprint=!![];const _0x770ce0=document[_0x22acd0(0x403)](_0x22acd0(0x386))?.['value'][_0x22acd0(0x783)]();let _0x37d91b=null;if(_0x770ce0){showMessage(_0x22acd0(0xc3c));try{const _0x1d728f=await fetchFileFromUrl(_0x770ce0,_0x22acd0(0x815)),_0x2f5d35=await new Promise((_0x5aecc2,_0x4898ee)=>{const _0x19f888=_0x22acd0,_0xfd1f75=new FileReader();_0xfd1f75[_0x19f888(0xa04)](_0x1d728f),_0xfd1f75['onload']=()=>_0x5aecc2(_0xfd1f75['result'][_0x19f888(0xc4b)](',')[0x1]),_0xfd1f75['onerror']=_0x4898ee;});_0x37d91b=[{'inlineData':{'mimeType':_0x1d728f[_0x22acd0(0x61e)],'data':_0x2f5d35}}],messageModal[_0x22acd0(0x67e)][_0x22acd0(0x7be)](_0x22acd0(0x17c));}catch(_0x3f5425){console['error']('Could\x20not\x20fetch\x20reference\x20file:',_0x3f5425),showMessage(_0x22acd0(0x974));}}const _0x2d107d=document['getElementById']('move-quiz-modal'),_0x4a6c93=document[_0x22acd0(0x403)](_0x22acd0(0x6ba)),_0x270fd7=_0x2d107d[_0x22acd0(0x314)]('h3'),_0x516023=document[_0x22acd0(0x403)](_0x22acd0(0x8e8)),_0x2cd5ef=document[_0x22acd0(0x403)](_0x22acd0(0x5db));_0x270fd7[_0x22acd0(0x317)]=_0x22acd0(0x2d2),_0x516023[_0x22acd0(0x317)]=_0x22acd0(0xb53),_0x516023[_0x22acd0(0x79a)]=!![];allProjects['length']===0x0?_0x4a6c93[_0x22acd0(0x86f)]=_0x22acd0(0xb9a):(_0x4a6c93['innerHTML']=_0x22acd0(0x42c)+allProjects['map'](_0x1c3aef=>_0x22acd0(0x7f5)+_0x1c3aef['id']+'\x22>'+_0x1c3aef[_0x22acd0(0x3d0)]+_0x22acd0(0x53d))[_0x22acd0(0xbcc)](''),_0x516023['disabled']=![]);_0x2d107d[_0x22acd0(0x67e)]['remove'](_0x22acd0(0x17c));const _0x3e934e=async()=>{const _0xb46851=_0x22acd0,_0x1eedbf=_0x4a6c93[_0xb46851(0x491)];if(!_0x1eedbf){showMessage(_0xb46851(0x8e6));return;}_0x2d107d['classList'][_0xb46851(0x7be)](_0xb46851(0x17c)),document[_0xb46851(0x403)](_0xb46851(0x5d5))['classList'][_0xb46851(0x7be)]('hidden'),await loadProjectDetails(_0x1eedbf),showView(_0xb46851(0x172)),handleGenerateQuizFromBlueprintTopic(_0x4333e2,_0x4a9a74,_0x1eedbf,_0x58f6ff,_0x29fe21,_0x37d91b),_0x23d0b7();},_0x23d0b7=()=>{const _0x25de17=_0x22acd0;_0x270fd7[_0x25de17(0x317)]=_0x25de17(0x510),_0x516023[_0x25de17(0x317)]=_0x25de17(0x600),_0x516023[_0x25de17(0xb35)](_0x25de17(0x920),_0x3e934e),_0x2cd5ef[_0x25de17(0xb35)](_0x25de17(0x920),_0x23d0b7),_0x516023[_0x25de17(0x224)](_0x25de17(0x920),confirmMoveQuiz);};_0x516023[_0x22acd0(0xb35)](_0x22acd0(0x920),confirmMoveQuiz),_0x516023['addEventListener'](_0x22acd0(0x920),_0x3e934e),_0x2cd5ef[_0x22acd0(0x224)](_0x22acd0(0x920),_0x23d0b7);}function listenForStarredQuizzes(){const _0xa68a50=_0x361958;if(!userId)return;const _0x5234e7=collection(db,_0xa68a50(0x418)+appId+_0xa68a50(0x34c)),_0x44ed9f=query(_0x5234e7,where(_0xa68a50(0xc06),'==',!![]));onSnapshot(_0x44ed9f,_0x73288a=>{const _0x31f274=_0xa68a50;starredQuizzes=_0x73288a[_0x31f274(0x5b2)][_0x31f274(0x961)](_0x4f7096=>({'id':_0x4f7096['id'],..._0x4f7096['data']()})),currentProjectId===_0x31f274(0x128)?renderQuizzes():renderProjects();},_0x5e1d20=>{const _0x263575=_0xa68a50;console['error'](_0x263575(0x3a2),_0x5e1d20);});}function listenForFileShortcuts(){const _0x5d8bd5=_0x361958,_0x47a16b=doc(db,_0x5d8bd5(0x6a2),_0x5d8bd5(0x6bb));onSnapshot(_0x47a16b,_0x4dacf0=>{const _0x194b69=_0x5d8bd5;let _0x5bade9=[],_0x567df5=[],_0x3823ce={};if(_0x4dacf0['exists']()){const _0x24b6a1=_0x4dacf0[_0x194b69(0xaff)]();_0x5bade9=_0x24b6a1[_0x194b69(0x774)]||[],_0x567df5=_0x24b6a1[_0x194b69(0x3fb)]||[],_0x3823ce=_0x24b6a1[_0x194b69(0xc7e)]||{};}!_0x567df5['find'](_0x20530e=>_0x20530e['id']==='all')&&_0x567df5['unshift']({'id':_0x194b69(0x32d),'name':_0x194b69(0x195),'isDefault':!![]}),!_0x5bade9[_0x194b69(0x9f6)](_0x4ee1af=>_0x4ee1af['id']===_0x194b69(0x965))&&_0x5bade9[_0x194b69(0x8e4)]({'id':_0x194b69(0x965),'name':_0x194b69(0x6ab),'url':'','isDefault':!![]}),!_0x5bade9[_0x194b69(0x9f6)](_0x1f6f2c=>_0x1f6f2c['id']===_0x194b69(0x71a))&&_0x5bade9[_0x194b69(0x8e4)]({'id':_0x194b69(0x71a),'name':_0x194b69(0x61f),'url':'','isDefault':!![]}),fileShortcuts=_0x5bade9,fileShortcutTabs=_0x567df5,fileShortcutOrder=_0x3823ce,renderFileShortcuts(),!document[_0x194b69(0x403)](_0x194b69(0x402))[_0x194b69(0x67e)][_0x194b69(0x322)](_0x194b69(0x17c))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x20c798=_0x361958,_0x18be88=doc(db,_0x20c798(0x6a2),_0x20c798(0x6bb));try{await setDoc(_0x18be88,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x2c240e){console['error'](_0x20c798(0x24a),_0x2c240e);}}function renderAdditionalFileShortcutsModal(){const _0x376cab=_0x361958,_0x318075=document[_0x376cab(0x403)]('file-shortcut-tabs-nav'),_0x654855=document[_0x376cab(0x403)](_0x376cab(0xc4e));if(!_0x318075||!_0x654855)return;_0x318075[_0x376cab(0x86f)]=fileShortcutTabs[_0x376cab(0x961)](_0x7832d5=>{const _0x3968dd=_0x376cab,_0x9946f2=_0x7832d5['id']===activeFileShortcutTabId;return _0x3968dd(0xb47)+_0x7832d5['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x9946f2?_0x3968dd(0x2b8):_0x3968dd(0x9a6))+_0x3968dd(0x7d1)+_0x7832d5['name']+_0x3968dd(0x1f6)+_0x7832d5[_0x3968dd(0x2ea)]+_0x3968dd(0x6ea)+(!_0x7832d5[_0x3968dd(0x8cf)]?_0x3968dd(0x240)+_0x7832d5['id']+_0x3968dd(0x67c):'')+_0x3968dd(0x398);})[_0x376cab(0xbcc)]('');const _0xcbfb2=fileShortcutTabs['find'](_0x53caa0=>_0x53caa0['id']===activeFileShortcutTabId);let _0x1fa8d4=_0xcbfb2?.[_0x376cab(0x8cf)]?[...fileShortcuts]:fileShortcuts['filter'](_0x32a40a=>(_0xcbfb2?.[_0x376cab(0xa1b)]||[])['includes'](_0x32a40a['id']));const _0x299351=fileShortcutOrder[activeFileShortcutTabId]||[];_0x1fa8d4[_0x376cab(0x2b7)]((_0x1576b2,_0xe0ea0f)=>{const _0x28aa39=_0x376cab,_0x317dfb=_0x299351[_0x28aa39(0x9d9)](_0x1576b2['id']),_0x17143e=_0x299351['indexOf'](_0xe0ea0f['id']);return(_0x317dfb===-0x1?Infinity:_0x317dfb)-(_0x17143e===-0x1?Infinity:_0x17143e);}),_0x654855[_0x376cab(0x86f)]=_0x1fa8d4[_0x376cab(0x961)](_0x2e371a=>{const _0x274540=_0x376cab,_0x291ae0=_0x2e371a[_0x274540(0x5e7)]?'📄':'🔗',_0x453ec9=fileShortcutTabs[_0x274540(0x9df)](_0x310738=>!_0x310738[_0x274540(0x8cf)]),_0x13eb45=_0xcbfb2[_0x274540(0x8cf)]&&_0x453ec9[_0x274540(0x6b7)]>0x0?_0x274540(0xc90)+_0x453ec9[_0x274540(0x961)](_0x24cd4f=>_0x274540(0x902)+_0x2e371a['id']+_0x274540(0x922)+_0x24cd4f['id']+'\x22>'+_0x24cd4f[_0x274540(0x2ea)]+_0x274540(0x5ba))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x2e371a['id']+_0x274540(0x992)+_0x291ae0+'\x20'+_0x2e371a['name']+_0x274540(0x3da)+_0x2e371a['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2e371a['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2e371a[_0x274540(0x8cf)]?'<button\x20data-id=\x22'+_0x2e371a['id']+_0x274540(0x78b):'')+_0x274540(0x5f0)+(!_0xcbfb2[_0x274540(0x8cf)]?_0x274540(0xc26)+_0x2e371a['id']+_0x274540(0xa5b):'')+_0x274540(0x5f0)+_0x13eb45+_0x274540(0x17b);})[_0x376cab(0xbcc)]('')||_0x376cab(0x408),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x393a66=_0x361958;document[_0x393a66(0x2c6)](_0x393a66(0x122))[_0x393a66(0x384)](_0x540c41=>{const _0x3841bb=_0x393a66;_0x540c41['onclick']=_0x24d721=>{const _0x3b2820=_0x3ec8;activeFileShortcutTabId=_0x24d721['currentTarget'][_0x3b2820(0x8c4)][_0x3b2820(0x8db)],renderAdditionalFileShortcutsModal();},_0x540c41[_0x3841bb(0xa7e)]=_0x412236=>{const _0x4954c0=_0x3841bb,_0xf4adde=_0x412236['currentTarget'][_0x4954c0(0x314)](_0x4954c0(0xbc7));_0x412236[_0x4954c0(0x1fb)]['querySelector']('.tab-name-display')[_0x4954c0(0x67e)][_0x4954c0(0x7be)]('hidden'),_0xf4adde[_0x4954c0(0x67e)]['remove']('hidden'),_0xf4adde[_0x4954c0(0x447)](),_0xf4adde[_0x4954c0(0x6e3)]();};}),document['querySelectorAll']('#file-shortcut-tabs-nav\x20.tab-name-input')[_0x393a66(0x384)](_0x3e7f89=>{const _0x3694b4=_0x393a66,_0x2a3921=()=>{const _0x24fad1=_0x3ec8,_0x4abd81=_0x3e7f89[_0x24fad1(0x1af)]('.file-shortcut-tab-btn')[_0x24fad1(0x8c4)]['tabId'],_0x4e5fe0=fileShortcutTabs[_0x24fad1(0x9f6)](_0x350b31=>_0x350b31['id']===_0x4abd81);_0x4e5fe0&&(_0x4e5fe0[_0x24fad1(0x2ea)]=_0x3e7f89[_0x24fad1(0x491)][_0x24fad1(0x783)]()||_0x4e5fe0[_0x24fad1(0x2ea)],saveFileShortcutConfig());};_0x3e7f89[_0x3694b4(0x326)]=_0x2a3921,_0x3e7f89[_0x3694b4(0x290)]=_0x51327f=>{const _0x40f51e=_0x3694b4;if(_0x51327f[_0x40f51e(0x50e)]===_0x40f51e(0x74a))_0x3e7f89[_0x40f51e(0x729)]();};}),document[_0x393a66(0x2c6)](_0x393a66(0x124))[_0x393a66(0x384)](_0x32e81a=>_0x32e81a[_0x393a66(0x823)]=_0x1b9928=>{const _0x37c0d5=_0x393a66,_0x34dd50=_0x1b9928[_0x37c0d5(0x1fb)][_0x37c0d5(0x8c4)][_0x37c0d5(0x8db)];showConfirmation(_0x37c0d5(0x588),()=>{const _0x550cf0=_0x37c0d5;fileShortcutTabs=fileShortcutTabs[_0x550cf0(0x9df)](_0x271c9a=>_0x271c9a['id']!==_0x34dd50),delete fileShortcutOrder[_0x34dd50];if(activeFileShortcutTabId===_0x34dd50)activeFileShortcutTabId=_0x550cf0(0x32d);saveFileShortcutConfig();});}),document[_0x393a66(0x2c6)](_0x393a66(0x763))[_0x393a66(0x384)](_0xc6856a=>_0xc6856a[_0x393a66(0x823)]=_0x5329d1=>{const _0x2c8b45=_0x393a66;_0x5329d1[_0x2c8b45(0x27f)]();const {shortcutId:_0x474e99,targetTabId:_0x3c1702}=_0x5329d1[_0x2c8b45(0x1fb)][_0x2c8b45(0x8c4)],_0x520a5c=fileShortcutTabs[_0x2c8b45(0x9f6)](_0x49d0ca=>_0x49d0ca['id']===_0x3c1702);_0x520a5c&&!_0x520a5c[_0x2c8b45(0xa1b)][_0x2c8b45(0x801)](_0x474e99)&&(_0x520a5c['shortcutIds'][_0x2c8b45(0x798)](_0x474e99),saveFileShortcutConfig());}),document[_0x393a66(0x2c6)](_0x393a66(0x1f8))[_0x393a66(0x384)](_0x230b47=>_0x230b47[_0x393a66(0x823)]=_0x45e139=>{const _0x39d997=_0x393a66,_0x16965f=_0x45e139[_0x39d997(0x1fb)][_0x39d997(0x8c4)][_0x39d997(0x593)],_0x11dfd9=fileShortcutTabs['find'](_0x261ce4=>_0x261ce4['id']===activeFileShortcutTabId);_0x11dfd9&&!_0x11dfd9[_0x39d997(0x8cf)]&&(_0x11dfd9[_0x39d997(0xa1b)]=_0x11dfd9['shortcutIds']['filter'](_0x4d2d7a=>_0x4d2d7a!==_0x16965f),saveFileShortcutConfig());}),document[_0x393a66(0x2c6)]('.move-file-shortcut-menu-btn')[_0x393a66(0x384)](_0x17bc70=>_0x17bc70[_0x393a66(0x823)]=_0x4871d1=>{const _0x1fb736=_0x393a66;_0x4871d1[_0x1fb736(0x5c0)]();const _0x970f7d=_0x4871d1[_0x1fb736(0x1fb)]['nextElementSibling'];document[_0x1fb736(0x2c6)](_0x1fb736(0x543))[_0x1fb736(0x384)](_0x2f9817=>_0x2f9817['classList'][_0x1fb736(0x7be)](_0x1fb736(0x17c))),_0x970f7d[_0x1fb736(0x67e)]['remove'](_0x1fb736(0x17c));});const _0x25c997=document[_0x393a66(0x403)]('additional-file-shortcuts-list');let _0x1b9d00=null;_0x25c997['ondragstart']=_0x166d8c=>{const _0x5f4dbc=_0x393a66;_0x1b9d00=_0x166d8c['target'][_0x5f4dbc(0x1af)](_0x5f4dbc(0x5e6));if(_0x1b9d00)setTimeout(()=>_0x1b9d00[_0x5f4dbc(0x67e)][_0x5f4dbc(0x7be)](_0x5f4dbc(0x84c)),0x0);},_0x25c997[_0x393a66(0xc43)]=()=>{const _0x4bd275=_0x393a66;_0x1b9d00&&(_0x1b9d00[_0x4bd275(0x67e)][_0x4bd275(0x3e9)](_0x4bd275(0x84c)),_0x1b9d00=null);},_0x25c997['ondragover']=_0x40c994=>{const _0x586517=_0x393a66;_0x40c994[_0x586517(0x27f)]();},_0x25c997[_0x393a66(0xcc4)]=_0x1fd3df=>{const _0x38cb25=_0x393a66;_0x1fd3df[_0x38cb25(0x27f)]();if(_0x1b9d00){const _0x1e619c=[..._0x25c997[_0x38cb25(0x2c6)](_0x38cb25(0x303))][_0x38cb25(0xac1)]((_0x260781,_0x36b6ec)=>{const _0x4cf85c=_0x38cb25,_0x40117e=_0x36b6ec[_0x4cf85c(0xb33)](),_0x305deb=_0x1fd3df['clientY']-_0x40117e[_0x4cf85c(0x69d)]-_0x40117e['height']/0x2;return _0x305deb<0x0&&_0x305deb>_0x260781[_0x4cf85c(0x957)]?{'offset':_0x305deb,'element':_0x36b6ec}:_0x260781;},{'offset':Number[_0x38cb25(0x5bc)]})['element'];_0x1e619c==null?_0x25c997['appendChild'](_0x1b9d00):_0x25c997[_0x38cb25(0x2bb)](_0x1b9d00,_0x1e619c);const _0x14fffd=[..._0x25c997[_0x38cb25(0x2c6)](_0x38cb25(0x5e6))][_0x38cb25(0x961)](_0x2001c4=>_0x2001c4[_0x38cb25(0x8c4)]['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x14fffd,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x699c74=_0x361958,_0x2134cd=prompt(_0x699c74(0xa21),'แท็บใหม่');_0x2134cd&&_0x2134cd[_0x699c74(0x783)]()&&(fileShortcutTabs[_0x699c74(0x798)]({'id':_0x699c74(0x425)+Date[_0x699c74(0x166)](),'name':_0x2134cd[_0x699c74(0x783)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x1bea2a=_0x361958,_0x2bdc0c=document[_0x1bea2a(0x403)](_0x1bea2a(0x994)),_0x123c0f=document[_0x1bea2a(0x403)](_0x1bea2a(0xc4e)),_0x469af1=document[_0x1bea2a(0x403)](_0x1bea2a(0x17f));if(_0x469af1)_0x469af1[_0x1bea2a(0x67e)][_0x1bea2a(0x7be)](_0x1bea2a(0x17c));if(!_0x2bdc0c||!_0x123c0f)return;const _0x1545d1=fileShortcuts[_0x1bea2a(0x4ca)](0x0,0x4),_0x4bba9f=fileShortcuts['slice'](0x4);_0x2bdc0c['innerHTML']=_0x1545d1['map'](_0x11429f=>{const _0x4fe8d5=_0x1bea2a,_0x5096e9=_0x11429f[_0x4fe8d5(0x5e7)]&&_0x11429f[_0x4fe8d5(0x5e7)]['trim']()!=='',_0x55c53a=selectedFile&&selectedFile[_0x4fe8d5(0x593)]===_0x11429f['id'];let _0x4b007a=_0x4fe8d5(0x651),_0x3787f4='🔗';if(_0x55c53a)_0x4b007a='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0x3787f4=_0x4fe8d5(0x2be);else _0x5096e9&&(_0x4b007a=_0x4fe8d5(0x286),_0x3787f4='📄');const _0x2f7e43=!_0x11429f[_0x4fe8d5(0x8cf)]?_0x4fe8d5(0xcde)+_0x11429f['id']+_0x4fe8d5(0xc42):'';return _0x4fe8d5(0x6be)+_0x11429f['id']+_0x4fe8d5(0x9a3)+_0x4b007a+_0x4fe8d5(0x776)+_0x3787f4+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>'+_0x11429f[_0x4fe8d5(0x2ea)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x11429f['id']+_0x4fe8d5(0xb37)+_0x2f7e43+_0x4fe8d5(0x311);})['join'](''),_0x4bba9f[_0x1bea2a(0x6b7)]>0x0&&(_0x2bdc0c['innerHTML']+=_0x1bea2a(0x73b)),_0x4bba9f['length']>0x0?_0x123c0f[_0x1bea2a(0x86f)]=_0x4bba9f[_0x1bea2a(0x961)](_0x41537d=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+(_0x41537d[_0x1bea2a(0x5e7)]?'📄':'🔗')+'\x20'+_0x41537d['name']+_0x1bea2a(0x3b2)+_0x41537d['id']+_0x1bea2a(0xa05)+_0x41537d['id']+_0x1bea2a(0xc5b)+(!_0x41537d[_0x1bea2a(0x8cf)]?_0x1bea2a(0xcde)+_0x41537d['id']+_0x1bea2a(0x78b):'')+_0x1bea2a(0x15d))[_0x1bea2a(0xbcc)](''):_0x123c0f[_0x1bea2a(0x86f)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openFileShortcutEditor(_0x118d9f=null){const _0x2c91f1=_0x361958,_0xda5776=document['getElementById']('file-shortcut-editor-modal'),_0xe25d17=document[_0x2c91f1(0x403)]('file-shortcut-modal-title'),_0x277276=document[_0x2c91f1(0x403)]('file-shortcut-id-input'),_0x555ce3=document[_0x2c91f1(0x403)](_0x2c91f1(0x7f9)),_0x11c420=document[_0x2c91f1(0x403)]('file-shortcut-url-input');if(_0x118d9f){const _0x28a89c=fileShortcuts['find'](_0x31563c=>_0x31563c['id']===_0x118d9f);if(!_0x28a89c)return;_0xe25d17[_0x2c91f1(0x317)]='แก้ไขปุ่มลัดจากไฟล์',_0x277276['value']=_0x28a89c['id'],_0x555ce3[_0x2c91f1(0x491)]=_0x28a89c[_0x2c91f1(0x2ea)],_0x11c420['value']=_0x28a89c[_0x2c91f1(0x5e7)]||'';}else _0xe25d17[_0x2c91f1(0x317)]=_0x2c91f1(0xc0e),_0x277276[_0x2c91f1(0x491)]='',_0x555ce3['value']='',_0x11c420[_0x2c91f1(0x491)]='';_0xda5776[_0x2c91f1(0x67e)]['remove'](_0x2c91f1(0x17c));}async function saveFileShortcutChanges(){const _0x4abf7d=_0x361958,_0x55b00b=document['getElementById']('file-shortcut-id-input')[_0x4abf7d(0x491)],_0x68ca2c=document[_0x4abf7d(0x403)](_0x4abf7d(0x7f9))[_0x4abf7d(0x491)][_0x4abf7d(0x783)](),_0x14d0f4=document[_0x4abf7d(0x403)](_0x4abf7d(0xaaf))['value'][_0x4abf7d(0x783)]();if(!_0x68ca2c){showMessage(_0x4abf7d(0xeb));return;}const _0x22ef67={'id':_0x55b00b||_0x4abf7d(0x4c2)+Date[_0x4abf7d(0x166)](),'name':_0x68ca2c,'url':_0x14d0f4,'isDefault':_0x55b00b[_0x4abf7d(0x48b)](_0x4abf7d(0x45e))};let _0x104bc1;_0x55b00b?_0x104bc1=fileShortcuts[_0x4abf7d(0x961)](_0x283639=>_0x283639['id']===_0x55b00b?_0x22ef67:_0x283639):_0x104bc1=[...fileShortcuts,_0x22ef67];try{const _0x2d2e85=doc(db,'globalSettings',_0x4abf7d(0x6bb));await setDoc(_0x2d2e85,{'shortcuts':_0x104bc1},{'merge':!![]}),document['getElementById'](_0x4abf7d(0x775))[_0x4abf7d(0x67e)][_0x4abf7d(0x7be)](_0x4abf7d(0x17c));}catch(_0x593355){console[_0x4abf7d(0x51e)](_0x4abf7d(0x9c5),_0x593355),showMessage(_0x4abf7d(0xb3e));}}async function handleFileShortcutClick(_0x2e19b2){const _0x29426b=_0x361958,_0x4cc31f=fileShortcuts[_0x29426b(0x9f6)](_0x41489e=>_0x41489e['id']===_0x2e19b2);if(!_0x4cc31f)return;if(!_0x4cc31f[_0x29426b(0x5e7)]||_0x4cc31f['url'][_0x29426b(0x783)]()===''){openFileShortcutEditor(_0x2e19b2);return;}const _0x34eac8=document[_0x29426b(0x314)](_0x29426b(0x98a)+_0x2e19b2+'\x22]');if(_0x34eac8){const _0x4f9ad8=_0x34eac8[_0x29426b(0x86f)];_0x34eac8[_0x29426b(0x86f)]=_0x29426b(0x7d4),_0x34eac8[_0x29426b(0x79a)]=!![];}document[_0x29426b(0x2c6)](_0x29426b(0x5ae))[_0x29426b(0x384)](_0x4ee467=>{const _0x2cd50c=_0x29426b;if(_0x4ee467[_0x2cd50c(0x8c4)]['id']!==_0x2e19b2)_0x4ee467['classList'][_0x2cd50c(0x7be)](_0x2cd50c(0x84c),_0x2cd50c(0xf2));});try{const _0x39c9da=new URL(_0x4cc31f[_0x29426b(0x5e7)])[_0x29426b(0x1ae)],_0x5dac24=_0x39c9da[_0x29426b(0x4e7)](_0x39c9da[_0x29426b(0x77a)]('/')+0x1)||(_0x4cc31f[_0x29426b(0x5e7)][_0x29426b(0x801)]('.txt')?_0x29426b(0x551):_0x29426b(0x1dd)),_0x56977d=await fetchFileFromUrl(_0x4cc31f['url'],_0x5dac24);_0x56977d[_0x29426b(0x593)]=_0x2e19b2,selectedFile=_0x56977d,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document['getElementById']('file-input-area')[_0x29426b(0xcd4)]({'behavior':_0x29426b(0xa9d),'block':_0x29426b(0x8fb)});}catch(_0x1d19a7){console['error']('Error\x20processing\x20file\x20shortcut\x20click:',_0x1d19a7),showMessage(_0x29426b(0xa88)+_0x1d19a7[_0x29426b(0x931)]),renderFileShortcuts();}finally{document[_0x29426b(0x2c6)]('.file-shortcut-btn')[_0x29426b(0x384)](_0x25a770=>{const _0x364192=_0x29426b;_0x25a770[_0x364192(0x67e)][_0x364192(0x3e9)](_0x364192(0x84c),_0x364192(0xf2)),_0x25a770[_0x364192(0x79a)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x9edbd1=_0x361958;if(allQuizzesGlobal[_0x9edbd1(0x6b7)]>0x0)return;console['log']('Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...'),showMessage(_0x9edbd1(0x9f0));try{const _0x375651=await getDocs(collection(db,_0x9edbd1(0x418)+appId+_0x9edbd1(0x34c)));allQuizzesGlobal=_0x375651[_0x9edbd1(0x5b2)][_0x9edbd1(0x961)](_0x3e02ce=>({'id':_0x3e02ce['id'],..._0x3e02ce['data']()})),console[_0x9edbd1(0xb07)](_0x9edbd1(0x8ee)+allQuizzesGlobal[_0x9edbd1(0x6b7)]+_0x9edbd1(0xc1c)),messageModal[_0x9edbd1(0x67e)][_0x9edbd1(0x7be)](_0x9edbd1(0x17c));}catch(_0x1b01e9){console[_0x9edbd1(0x51e)](_0x9edbd1(0x512),_0x1b01e9),messageModal[_0x9edbd1(0x67e)][_0x9edbd1(0x7be)]('hidden');throw new Error(_0x9edbd1(0x272));}}function exportQuizAsWorksheetPDF(){const _0x4b18ae=_0x361958;if(!currentQuizData||!currentQuizData[_0x4b18ae(0x707)]){showMessage(_0x4b18ae(0xcfb));return;}const _0x2eaa84=currentQuizData,_0x5a3425=window[_0x4b18ae(0x56c)]('','_blank'),_0x868805=_0x47a6ee=>String[_0x4b18ae(0x4f7)](0x41+_0x47a6ee),_0x5255ac=_0x4b18ae(0xf1)+_0x2eaa84[_0x4b18ae(0x411)]+_0x4b18ae(0x56b)+_0x2eaa84[_0x4b18ae(0x411)]+_0x4b18ae(0xc8b)+_0x2eaa84[_0x4b18ae(0x707)][_0x4b18ae(0x961)]((_0x8a85b6,_0x33cfbe)=>{const _0x3305c9=_0x4b18ae;let _0x4300b5='';const _0x4f337e=_0x8a85b6[_0x3305c9(0x30c)]||_0x2eaa84[_0x3305c9(0x94d)];switch(_0x4f337e){case'multiple_choice':case'fill_in_with_choices':_0x4300b5=_0x3305c9(0x3f6)+_0x8a85b6[_0x3305c9(0x6a5)]['map']((_0x516b48,_0x4fec7a)=>_0x3305c9(0xb3f)+_0x868805(_0x4fec7a)+'.\x20'+_0x516b48+_0x3305c9(0xbc6))['join'](_0x3305c9(0x998))+_0x3305c9(0x517);break;case'true_false':_0x4300b5='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x4300b5=_0x3305c9(0x236);break;}return _0x3305c9(0xc76)+(_0x33cfbe+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x8a85b6[_0x3305c9(0xb42)]||_0x8a85b6[_0x3305c9(0xf5)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x8a85b6[_0x3305c9(0x1ef)]?_0x3305c9(0xa0b)+_0x8a85b6[_0x3305c9(0x1ef)]+'</div>':'')+_0x3305c9(0xa92)+_0x4300b5+_0x3305c9(0x5f2);})[_0x4b18ae(0xbcc)]('')+_0x4b18ae(0x12d);_0x5a3425[_0x4b18ae(0x399)][_0x4b18ae(0x7a7)](_0x5255ac),_0x5a3425[_0x4b18ae(0x399)]['close'](),_0x5a3425[_0x4b18ae(0x9d4)]=function(){setTimeout(()=>{_0x5a3425['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x275d6b=_0x361958;if(!currentQuizData||!currentQuizData[_0x275d6b(0x707)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x278ad0=currentQuizData,_0x2a03ce=window[_0x275d6b(0x56c)]('','_blank'),_0x4fbca5=_0x25020f=>String[_0x275d6b(0x4f7)](0x41+_0x25020f),_0xa4c744='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x278ad0['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x278ad0['questions'][_0x275d6b(0x961)]((_0x393ac6,_0x35ca50)=>{const _0x1ffbd2=_0x275d6b;let _0x17a7ba='';const _0xb0a046=_0x393ac6['questionType']||_0x278ad0[_0x1ffbd2(0x94d)];switch(_0xb0a046){case _0x1ffbd2(0x736):case'fill_in_with_choices':_0x17a7ba=_0x1ffbd2(0x7b5)+_0x393ac6[_0x1ffbd2(0x6a5)]['map']((_0xc88217,_0x43f1e2)=>_0x1ffbd2(0xc2d)+_0x4fbca5(_0x43f1e2)+'.\x20'+_0xc88217+_0x1ffbd2(0xb55))[_0x1ffbd2(0xbcc)](_0x1ffbd2(0x998))+_0x1ffbd2(0x7d0);break;case _0x1ffbd2(0x891):_0x17a7ba=_0x1ffbd2(0x58d);break;default:_0x17a7ba='';break;}return _0x1ffbd2(0x503)+_0x278ad0['topic']+_0x1ffbd2(0xa45)+(_0x35ca50+0x1)+_0x1ffbd2(0x208)+(_0x393ac6[_0x1ffbd2(0xb42)]||_0x393ac6['questionText'])+_0x1ffbd2(0xa81)+(_0x393ac6[_0x1ffbd2(0x1ef)]?'<div\x20class=\x22my-6\x22>'+_0x393ac6[_0x1ffbd2(0x1ef)]+_0x1ffbd2(0x517):'')+_0x1ffbd2(0xa92)+_0x17a7ba+_0x1ffbd2(0x875);})[_0x275d6b(0xbcc)]('')+_0x275d6b(0xbc8);_0x2a03ce[_0x275d6b(0x399)][_0x275d6b(0x7a7)](_0xa4c744),_0x2a03ce[_0x275d6b(0x399)][_0x275d6b(0xcc2)](),_0x2a03ce[_0x275d6b(0x9d4)]=function(){setTimeout(()=>{const _0x196997=_0x3ec8;_0x2a03ce[_0x196997(0x33e)]();},0x5dc);};}async function handleToggleStarQuiz(_0x18bf64){const _0xcb01e1=_0x361958,_0x677093=doc(db,_0xcb01e1(0x418)+appId+_0xcb01e1(0x34c),_0x18bf64);try{const _0x52ee96=await getDoc(_0x677093);if(_0x52ee96[_0xcb01e1(0x6f9)]()){const _0x4a1eec=_0x52ee96['data']()[_0xcb01e1(0xc06)]||![];await updateDoc(_0x677093,{'isStarred':!_0x4a1eec});}}catch(_0x15dea4){console[_0xcb01e1(0x51e)](_0xcb01e1(0xc83),_0x15dea4),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x46f83c=_0x361958,_0x2888f4=document[_0x46f83c(0x403)]('bank-input-area');_0x2888f4['innerHTML']=_0x46f83c(0x3d4);try{const _0x5e79fb=collection(db,_0x46f83c(0x418)+appId+'/users/'+userId+_0x46f83c(0xaf3)),_0xc17e2e=query(_0x5e79fb),_0xbf4806=await getDocs(_0xc17e2e);if(_0xbf4806['empty']){_0x2888f4[_0x46f83c(0x86f)]=_0x46f83c(0x905);return;}let _0x5e399c=_0xbf4806[_0x46f83c(0x5b2)][_0x46f83c(0x961)](_0x88c3ac=>{const _0x565774=_0x46f83c,_0x356346=_0x88c3ac[_0x565774(0xaff)](),_0x16a375=_0x88c3ac['id'];return _0x565774(0x442)+JSON[_0x565774(0xa24)](_0x356346)+_0x565774(0xc16)+(_0x356346['questionText']||_0x356346['stem'])+_0x565774(0x81b)+_0x356346['originalTopic']+_0x565774(0x4b3);})[_0x46f83c(0xbcc)]('');_0x2888f4['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x5e399c+_0x46f83c(0x48c),document[_0x46f83c(0x403)]('create-from-bank-btn')['addEventListener'](_0x46f83c(0x920),createQuizFromBank);}catch(_0x373ae){console[_0x46f83c(0x51e)](_0x46f83c(0xbe8),_0x373ae),_0x2888f4[_0x46f83c(0x86f)]=_0x46f83c(0x26a);}}async function handleExportLessonToPDF(){const _0x4777c9=_0x361958,_0x3fd0aa=document[_0x4777c9(0x403)]('lesson-sections-container'),_0x433a06=document['getElementById'](_0x4777c9(0xac7))[_0x4777c9(0x317)]||_0x4777c9(0x309);if(!_0x3fd0aa){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0x43144e=window['open']('',_0x4777c9(0x633)),_0x572cd2=_0x4777c9(0xaad)+_0x433a06+_0x4777c9(0xb9e)+_0x433a06+_0x4777c9(0x652)+_0x3fd0aa[_0x4777c9(0x86f)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x43144e[_0x4777c9(0x399)][_0x4777c9(0x7a7)](_0x572cd2),_0x43144e['document']['close'](),_0x43144e[_0x4777c9(0x9d4)]=function(){setTimeout(()=>{const _0x3985fd=_0x3ec8;_0x43144e[_0x3985fd(0x33e)]();},0x7d0);};}function showAdminLiveQuestionView(_0x306f56,_0x4d62ec,_0x1e61b2){const _0x8ea198=_0x361958,_0x3f0868=_0x306f56[_0x8ea198(0x30c)]||currentQuizData['quizType'];let _0x4610c9='';if(_0x3f0868===_0x8ea198(0x736)||_0x3f0868===_0x8ea198(0x891)){const _0x112636=_0x3f0868===_0x8ea198(0x891)?['ใช่',_0x8ea198(0xcda)]:_0x306f56['options'],_0x839d23=_0x3f0868===_0x8ea198(0x891)?_0x306f56[_0x8ea198(0xc73)]?0x0:0x1:_0x306f56[_0x8ea198(0x47b)];_0x4610c9=_0x112636[_0x8ea198(0x961)]((_0x44555f,_0x671190)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x671190===_0x839d23)+_0x8ea198(0x771)+_0x44555f+_0x8ea198(0x311))['join']('');}else{if(_0x3f0868===_0x8ea198(0x886)){const _0x5ede0a=_0x306f56[_0x8ea198(0xaa2)]||[];_0x4610c9=_0x5ede0a[_0x8ea198(0x961)](_0x125c84=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x125c84===_0x306f56[_0x8ea198(0x8c7)])+_0x8ea198(0x771)+_0x125c84+_0x8ea198(0x311))[_0x8ea198(0xbcc)]('');}}const _0x40a65e=_0x306f56[_0x8ea198(0xb42)]||_0x306f56['questionText'],_0x488e4c=_0x8ea198(0x1d1)+(_0x4d62ec+0x1)+_0x8ea198(0xc41)+_0x1e61b2+_0x8ea198(0x14a)+currentLiveGamePin+_0x8ea198(0x29a)+_0x40a65e+_0x8ea198(0x1b5)+_0x4610c9+_0x8ea198(0xc1e);liveGameView['innerHTML']=_0x488e4c,window[_0x8ea198(0xaeb)]&&MathJax[_0x8ea198(0x738)]&&MathJax[_0x8ea198(0x738)]([liveGameView]),document[_0x8ea198(0x403)](_0x8ea198(0xb04))['addEventListener']('click',()=>revealAnswerForAdmin(_0x4d62ec,_0x1e61b2)),document[_0x8ea198(0x403)](_0x8ea198(0xde))[_0x8ea198(0x224)]('click',async()=>{const _0x4fac75=_0x8ea198;showConfirmation(_0x4fac75(0x9cd),async()=>{const _0x49ebca=_0x4fac75,_0x545e0b=doc(db,_0x49ebca(0x418)+appId+_0x49ebca(0xb0c),currentLiveGameId);await updateDoc(_0x545e0b,{'status':_0x49ebca(0x29c)});});}),document['getElementById'](_0x8ea198(0x63c))[_0x8ea198(0x224)]('click',()=>{const _0x5e2c36=_0x8ea198;document['getElementById'](_0x5e2c36(0x107))[_0x5e2c36(0x67e)][_0x5e2c36(0xcca)](_0x5e2c36(0x17c));});}function promptForProjectBeforeGenerating(_0xc5404){const _0x30c212=_0x361958,_0x5435fe=document[_0x30c212(0x403)](_0x30c212(0x84f)),_0x3ac3f9=document[_0x30c212(0x403)](_0x30c212(0x6ba)),_0x1cb0ba=_0x5435fe[_0x30c212(0x314)]('h3'),_0x138c21=document[_0x30c212(0x403)](_0x30c212(0x8e8)),_0x16b087=document[_0x30c212(0x403)](_0x30c212(0x5db));_0x1cb0ba[_0x30c212(0x317)]=_0x30c212(0x2d2),_0x138c21[_0x30c212(0x317)]=_0x30c212(0xb53),_0x138c21[_0x30c212(0x79a)]=!![];allProjects[_0x30c212(0x6b7)]===0x0?_0x3ac3f9[_0x30c212(0x86f)]=_0x30c212(0xb9a):(_0x3ac3f9[_0x30c212(0x86f)]=_0x30c212(0x42c)+allProjects[_0x30c212(0x961)](_0x46a3fb=>_0x30c212(0x7f5)+_0x46a3fb['id']+'\x22>'+_0x46a3fb[_0x30c212(0x3d0)]+_0x30c212(0x53d))[_0x30c212(0xbcc)](''),_0x138c21['disabled']=![]);_0x5435fe['classList'][_0x30c212(0x3e9)]('hidden');const _0x5ac23f=async()=>{const _0x16a357=_0x30c212,_0x145e02=_0x3ac3f9[_0x16a357(0x491)];if(!_0x145e02){showMessage(_0x16a357(0x8e6));return;}_0x5435fe[_0x16a357(0x67e)]['add'](_0x16a357(0x17c)),await loadProjectDetails(_0x145e02),showView(_0x16a357(0x172)),handleGenerateQuizFromBlueprintTopic(_0xc5404),_0x498a04();},_0x498a04=()=>{const _0x342db5=_0x30c212;_0x1cb0ba[_0x342db5(0x317)]=_0x342db5(0x510),_0x138c21[_0x342db5(0x317)]=_0x342db5(0x600),_0x138c21[_0x342db5(0xb35)](_0x342db5(0x920),_0x5ac23f),_0x16b087[_0x342db5(0xb35)]('click',_0x498a04),_0x138c21[_0x342db5(0x224)](_0x342db5(0x920),confirmMoveQuiz);};_0x138c21[_0x30c212(0xb35)](_0x30c212(0x920),confirmMoveQuiz),_0x138c21[_0x30c212(0x224)](_0x30c212(0x920),_0x5ac23f),_0x16b087[_0x30c212(0x224)](_0x30c212(0x920),_0x498a04);}function showStudentLiveQuestionView(_0x5e5a11,_0x5d2891,_0x2c0895){const _0xe5a8d2=_0x361958,_0x59b608=_0x5e5a11[_0xe5a8d2(0x30c)]||currentQuizData[_0xe5a8d2(0x94d)];let _0x4a3feb='';if(_0x59b608===_0xe5a8d2(0x736)||_0x59b608===_0xe5a8d2(0x891)){const _0xb8ca9f=_0x59b608==='true_false'?[_0xe5a8d2(0x291),_0xe5a8d2(0xcda)]:_0x5e5a11[_0xe5a8d2(0x6a5)];_0x4a3feb=_0xb8ca9f['map']((_0x28ed56,_0xdb5fd9)=>_0xe5a8d2(0x8e0)+_0xdb5fd9+_0xe5a8d2(0xacb)+_0x28ed56+_0xe5a8d2(0x3aa))[_0xe5a8d2(0xbcc)]('');}else{if(_0x59b608==='matching_item'){const _0x3b2516=_0x5e5a11['allResponses']||[];_0x4a3feb=_0x3b2516[_0xe5a8d2(0x961)]((_0x5a9b2f,_0x35d4d3)=>_0xe5a8d2(0x8e0)+_0x35d4d3+_0xe5a8d2(0xacb)+_0x5a9b2f+_0xe5a8d2(0x3aa))['join']('');}else _0x59b608===_0xe5a8d2(0x385)&&(_0x4a3feb=_0xe5a8d2(0xa3f));}const _0x3186a8=_0x5e5a11[_0xe5a8d2(0xb42)]||_0x5e5a11['questionText'],_0x10c3ee=_0xe5a8d2(0xb49)+(_0x5d2891+0x1)+_0xe5a8d2(0xc41)+_0x2c0895+_0xe5a8d2(0x8d0)+_0x3186a8+_0xe5a8d2(0x99d)+_0x4a3feb+_0xe5a8d2(0xc9c);liveGameView[_0xe5a8d2(0x86f)]=_0x10c3ee;window[_0xe5a8d2(0xaeb)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([liveGameView]);const _0xc0c359=document['getElementById'](_0xe5a8d2(0x598));_0xc0c359&&_0xc0c359[_0xe5a8d2(0x224)](_0xe5a8d2(0x920),()=>{const _0x5e8cc5=_0xe5a8d2,_0x18f12f=document[_0x5e8cc5(0x403)](_0x5e8cc5(0x5b4))[_0x5e8cc5(0x491)];handleLiveAnswer(_0x18f12f,_0x5e5a11);}),document['getElementById'](_0xe5a8d2(0x2f9))['addEventListener'](_0xe5a8d2(0x920),_0x990dee=>{const _0x24aec0=_0xe5a8d2,_0x40b989=_0x990dee['target']['closest'](_0x24aec0(0xbbf));if(_0x40b989){const _0x447b39=parseInt(_0x40b989[_0x24aec0(0x8c4)][_0x24aec0(0x4b1)]);handleLiveAnswer(_0x447b39,_0x5e5a11);}});}function listenForBlueprintShortcuts(){const _0x43b8e8=_0x361958,_0x3171c5=doc(db,_0x43b8e8(0x6a2),_0x43b8e8(0x968));onSnapshot(_0x3171c5,_0x1a9a7a=>{const _0x19afb8=_0x43b8e8;let _0x5f36b8=[],_0x1bb21b=[],_0x1bfb4d={};if(_0x1a9a7a[_0x19afb8(0x6f9)]()){const _0x10cfe1=_0x1a9a7a['data']();_0x5f36b8=_0x10cfe1[_0x19afb8(0x658)]||[],_0x1bb21b=_0x10cfe1[_0x19afb8(0x4a2)]||[],_0x1bfb4d=_0x10cfe1[_0x19afb8(0x42b)]||{};}!_0x1bb21b[_0x19afb8(0x9f6)](_0x25abe2=>_0x25abe2['id']===_0x19afb8(0x32d))&&_0x1bb21b[_0x19afb8(0x8e4)]({'id':'all','name':_0x19afb8(0xb66),'isDefault':!![]}),!_0x5f36b8[_0x19afb8(0x9f6)](_0x21fb7c=>_0x21fb7c['id']===_0x19afb8(0x474))&&_0x5f36b8[_0x19afb8(0x8e4)]({'id':_0x19afb8(0x474),'name':'Blueprint\x201','blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x5f36b8[_0x19afb8(0x9f6)](_0x54881d=>_0x54881d['id']===_0x19afb8(0x8bb))&&_0x5f36b8[_0x19afb8(0x8e4)]({'id':_0x19afb8(0x8bb),'name':_0x19afb8(0x9e8),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x5f36b8,shortcutTabs=_0x1bb21b,shortcutOrder=_0x1bfb4d,renderBlueprintShortcuts(),!document[_0x19afb8(0x403)](_0x19afb8(0x9ba))['classList'][_0x19afb8(0x322)]('hidden')&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x422506=_0x361958,_0xb5d2e=document[_0x422506(0x403)](_0x422506(0xce2)),_0x39d41d=document[_0x422506(0x403)](_0x422506(0x3c5));if(!_0xb5d2e||!_0x39d41d)return;_0xb5d2e['innerHTML']=shortcutTabs[_0x422506(0x961)](_0x4fe6de=>{const _0x4a49cf=_0x422506,_0x5315fe=_0x4fe6de['id']===activeShortcutTabId,_0x302bb2=_0x4a49cf(0x2b8),_0x589860='border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300';return _0x4a49cf(0x49b)+_0x4fe6de['id']+_0x4a49cf(0xb13)+(_0x5315fe?_0x302bb2:_0x589860)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x4fe6de[_0x4a49cf(0x2ea)]+_0x4a49cf(0x728)+_0x4fe6de[_0x4a49cf(0x2ea)]+_0x4a49cf(0xa93)+(!_0x4fe6de[_0x4a49cf(0x8cf)]?_0x4a49cf(0xab6)+_0x4fe6de['id']+_0x4a49cf(0x151):'')+_0x4a49cf(0x311);})['join']('');const _0x335229=shortcutTabs[_0x422506(0x9f6)](_0x4dd6fa=>_0x4dd6fa['id']===activeShortcutTabId);let _0x33db33=[];if(_0x335229){if(_0x335229[_0x422506(0x8cf)])_0x33db33=[...blueprintShortcuts];else{const _0x15de53=_0x335229['shortcutIds']||[];_0x33db33=blueprintShortcuts['filter'](_0x2f230c=>_0x15de53[_0x422506(0x801)](_0x2f230c['id']));}}const _0x1693c3=shortcutOrder[activeShortcutTabId]||[];_0x33db33[_0x422506(0x2b7)]((_0x32efad,_0x170c8d)=>{const _0x209dff=_0x422506,_0x24d29a=_0x1693c3[_0x209dff(0x9d9)](_0x32efad['id']),_0x43297d=_0x1693c3['indexOf'](_0x170c8d['id']);if(_0x24d29a===-0x1)return 0x1;if(_0x43297d===-0x1)return-0x1;return _0x24d29a-_0x43297d;}),_0x39d41d[_0x422506(0x86f)]=_0x33db33['length']>0x0?_0x33db33['map'](_0x41256c=>{const _0x4c08c4=_0x422506;let _0x21bcc8='🧩';if(_0x41256c[_0x4c08c4(0x152)]&&_0x41256c['referenceUrl'])_0x21bcc8='📗';else{if(_0x41256c[_0x4c08c4(0x152)])_0x21bcc8='📘';}const _0x1cc629=shortcutTabs[_0x4c08c4(0x9df)](_0x194b65=>!_0x194b65[_0x4c08c4(0x8cf)]),_0xbb0eb=_0x335229[_0x4c08c4(0x8cf)]&&_0x1cc629[_0x4c08c4(0x6b7)]>0x0?'\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1cc629[_0x4c08c4(0x961)](_0x31c0fe=>_0x4c08c4(0x80d)+_0x41256c['id']+_0x4c08c4(0x922)+_0x31c0fe['id']+'\x22>'+_0x31c0fe[_0x4c08c4(0x2ea)]+_0x4c08c4(0x473))['join']('')+_0x4c08c4(0xb34):'';return _0x4c08c4(0x54d)+_0x41256c['id']+_0x4c08c4(0xbf9)+_0x21bcc8+'\x20'+_0x41256c[_0x4c08c4(0x2ea)]+_0x4c08c4(0x373)+_0x41256c['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x41256c['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x41256c[_0x4c08c4(0x8cf)]?_0x4c08c4(0xcde)+_0x41256c['id']+_0x4c08c4(0x55c):'')+_0x4c08c4(0x10c)+(!_0x335229['isDefault']?'<button\x20data-shortcut-id=\x22'+_0x41256c['id']+_0x4c08c4(0x6bd):'')+_0x4c08c4(0x10c)+_0xbb0eb+_0x4c08c4(0x5b8);})[_0x422506(0xbcc)](''):_0x422506(0x408),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x523baa=_0x361958;document[_0x523baa(0x2c6)](_0x523baa(0x9bf))[_0x523baa(0x384)](_0x3e01c2=>{const _0x4b5ca7=_0x523baa;_0x3e01c2['addEventListener']('click',_0x16ff48=>{const _0x4b0260=_0x3ec8;activeShortcutTabId=_0x16ff48[_0x4b0260(0x1fb)][_0x4b0260(0x8c4)][_0x4b0260(0x8db)],renderAdditionalShortcutsModal();}),_0x3e01c2[_0x4b5ca7(0x224)]('dblclick',_0x41ee64=>{const _0x2a7d6f=_0x4b5ca7,_0x5d3bd4=_0x41ee64[_0x2a7d6f(0x1fb)];_0x5d3bd4[_0x2a7d6f(0x314)](_0x2a7d6f(0x3ea))[_0x2a7d6f(0x67e)][_0x2a7d6f(0x7be)](_0x2a7d6f(0x17c));const _0x1ddd20=_0x5d3bd4[_0x2a7d6f(0x314)](_0x2a7d6f(0xbc7));_0x1ddd20[_0x2a7d6f(0x67e)][_0x2a7d6f(0x3e9)]('hidden'),_0x1ddd20['focus'](),_0x1ddd20[_0x2a7d6f(0x6e3)]();});}),document[_0x523baa(0x2c6)](_0x523baa(0xbc7))[_0x523baa(0x384)](_0x17bbe9=>{const _0x5e0fbb=_0x523baa,_0x156c7f=()=>{const _0x5cabff=_0x3ec8,_0xb303cd=_0x17bbe9[_0x5cabff(0x1af)]('.shortcut-tab-btn')['dataset'][_0x5cabff(0x8db)];handleRenameShortcutTab(_0xb303cd,_0x17bbe9[_0x5cabff(0x491)]);};_0x17bbe9[_0x5e0fbb(0x224)](_0x5e0fbb(0x729),_0x156c7f),_0x17bbe9[_0x5e0fbb(0x224)](_0x5e0fbb(0xbe5),_0x23f3d1=>{const _0x31e289=_0x5e0fbb;if(_0x23f3d1['key']===_0x31e289(0x74a))_0x17bbe9['blur']();});}),document['querySelectorAll']('.delete-shortcut-tab-btn')[_0x523baa(0x384)](_0x5c421a=>{const _0x2250de=_0x523baa;_0x5c421a[_0x2250de(0x224)](_0x2250de(0x920),_0x54b23d=>handleDeleteShortcutTab(_0x54b23d[_0x2250de(0x1fb)][_0x2250de(0x8c4)][_0x2250de(0x8db)]));}),document[_0x523baa(0x2c6)](_0x523baa(0x950))[_0x523baa(0x384)](_0x419c29=>{const _0x3cb857=_0x523baa;_0x419c29[_0x3cb857(0x224)](_0x3cb857(0x920),_0x54c607=>{const _0x2ae133=_0x3cb857;_0x54c607[_0x2ae133(0x27f)]();const {shortcutId:_0x5f01b1,targetTabId:_0x8fd25f}=_0x54c607[_0x2ae133(0x1fb)][_0x2ae133(0x8c4)];handleMoveShortcutToTab(_0x5f01b1,_0x8fd25f);});}),document[_0x523baa(0x2c6)]('.remove-shortcut-from-tab-btn')['forEach'](_0x1232dd=>{const _0x124135=_0x523baa;_0x1232dd['addEventListener'](_0x124135(0x920),_0x372ab3=>{const _0x23316b=_0x124135;handleRemoveShortcutFromTab(_0x372ab3[_0x23316b(0x1fb)][_0x23316b(0x8c4)][_0x23316b(0x593)],activeShortcutTabId);});});const _0x3a10ae=document[_0x523baa(0x403)](_0x523baa(0x3c5));_0x3a10ae[_0x523baa(0x2c6)]('.use-hidden-shortcut-btn')[_0x523baa(0x384)](_0x178b42=>{const _0x48be51=_0x523baa;_0x178b42[_0x48be51(0x224)]('click',()=>{const _0x398980=_0x48be51;document[_0x398980(0x403)](_0x398980(0x9ba))[_0x398980(0x67e)]['add'](_0x398980(0x17c)),handleShortcutClick(_0x178b42['dataset']['id']);});});let _0x29f4e2=null;_0x3a10ae[_0x523baa(0x224)](_0x523baa(0x8d2),_0x431683=>{const _0xd9ef0d=_0x523baa;_0x29f4e2=_0x431683[_0xd9ef0d(0xe9)][_0xd9ef0d(0x1af)](_0xd9ef0d(0x5e6)),_0x29f4e2&&setTimeout(()=>_0x29f4e2[_0xd9ef0d(0x67e)][_0xd9ef0d(0x7be)](_0xd9ef0d(0x84c)),0x0);}),_0x3a10ae[_0x523baa(0x224)](_0x523baa(0x5ff),()=>{const _0x1bd897=_0x523baa;_0x29f4e2&&(_0x29f4e2[_0x1bd897(0x67e)]['remove'](_0x1bd897(0x84c)),_0x29f4e2=null);}),_0x3a10ae[_0x523baa(0x224)]('dragover',_0x595f4e=>{const _0x39ac29=_0x523baa;_0x595f4e[_0x39ac29(0x27f)]();const _0x101297=[..._0x3a10ae[_0x39ac29(0x2c6)](_0x39ac29(0x303))][_0x39ac29(0xac1)]((_0x1fbf4e,_0x47b25e)=>{const _0x50c208=_0x39ac29,_0x646959=_0x47b25e['getBoundingClientRect'](),_0x2f9043=_0x595f4e[_0x50c208(0xbeb)]-_0x646959[_0x50c208(0x69d)]-_0x646959[_0x50c208(0x9d0)]/0x2;return _0x2f9043<0x0&&_0x2f9043>_0x1fbf4e[_0x50c208(0x957)]?{'offset':_0x2f9043,'element':_0x47b25e}:_0x1fbf4e;},{'offset':Number['NEGATIVE_INFINITY']})[_0x39ac29(0x1bd)];_0x101297==null?_0x3a10ae['appendChild'](_0x29f4e2):_0x3a10ae[_0x39ac29(0x2bb)](_0x29f4e2,_0x101297);}),_0x3a10ae[_0x523baa(0x224)](_0x523baa(0x867),_0x1bd0da=>{const _0x1afb82=_0x523baa;_0x1bd0da['preventDefault']();if(_0x29f4e2){const _0x33cfbf=[..._0x3a10ae[_0x1afb82(0x2c6)](_0x1afb82(0x5e6))][_0x1afb82(0x961)](_0x5af2e6=>_0x5af2e6[_0x1afb82(0x8c4)][_0x1afb82(0x593)]);handleShortcutOrderChange(activeShortcutTabId,_0x33cfbf);}}),document[_0x523baa(0x2c6)]('.move-shortcut-menu-btn')[_0x523baa(0x384)](_0x342945=>{const _0x138d93=_0x523baa;_0x342945[_0x138d93(0x224)](_0x138d93(0x920),_0x310ba2=>{const _0x537137=_0x138d93;_0x310ba2[_0x537137(0x5c0)]();const _0x5abe1c=_0x310ba2[_0x537137(0x1fb)][_0x537137(0xa76)],_0x52364f=_0x5abe1c[_0x537137(0x67e)]['contains'](_0x537137(0x17c));document['querySelectorAll'](_0x537137(0x900))[_0x537137(0x384)](_0x29fb4b=>_0x29fb4b[_0x537137(0x67e)]['add']('hidden')),_0x52364f&&_0x5abe1c[_0x537137(0x67e)]['remove'](_0x537137(0x17c));});});}document[_0x361958(0x224)](_0x361958(0x920),_0x35a2f1=>{const _0x355551=_0x361958;!_0x35a2f1[_0x355551(0xe9)][_0x355551(0x1af)](_0x355551(0x557))&&document[_0x355551(0x2c6)](_0x355551(0x900))[_0x355551(0x384)](_0x4cecf5=>_0x4cecf5['classList']['add'](_0x355551(0x17c)));});async function saveShortcutConfig(){const _0xa508a4=_0x361958,_0x24334a=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x24334a,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x585fba){console[_0xa508a4(0x51e)](_0xa508a4(0xc8),_0x585fba);}}async function handleAddShortcutTab(){const _0x1d86bd=_0x361958,_0xac5036=prompt(_0x1d86bd(0xa21),'แท็บใหม่');if(!_0xac5036||_0xac5036[_0x1d86bd(0x783)]()==='')return;shortcutTabs[_0x1d86bd(0x798)]({'id':_0x1d86bd(0x425)+Date[_0x1d86bd(0x166)](),'name':_0xac5036[_0x1d86bd(0x783)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x3f5a55,_0x37c5d4){const _0x2bb255=_0x361958,_0x357d8d=shortcutTabs['find'](_0x4833c0=>_0x4833c0['id']===_0x3f5a55);_0x357d8d&&_0x37c5d4[_0x2bb255(0x783)]()!==''&&(_0x357d8d[_0x2bb255(0x2ea)]=_0x37c5d4[_0x2bb255(0x783)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0xe5318c){const _0x53f9b3=_0x361958,_0x589950=shortcutTabs[_0x53f9b3(0x9f6)](_0x2ee00a=>_0x2ee00a['id']===_0xe5318c);_0x589950&&!_0x589950[_0x53f9b3(0x8cf)]&&showConfirmation(_0x53f9b3(0x74f)+_0x589950[_0x53f9b3(0x2ea)]+_0x53f9b3(0xa54),async()=>{const _0x426c21=_0x53f9b3;shortcutTabs=shortcutTabs[_0x426c21(0x9df)](_0x35218e=>_0x35218e['id']!==_0xe5318c),delete shortcutOrder[_0xe5318c];if(activeShortcutTabId===_0xe5318c)activeShortcutTabId=_0x426c21(0x32d);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x5ebaa0,_0x37476d){const _0x89ba2d=_0x361958,_0x68ba78=shortcutTabs[_0x89ba2d(0x9f6)](_0x2510e8=>_0x2510e8['id']===_0x37476d);_0x68ba78&&!_0x68ba78[_0x89ba2d(0xa1b)][_0x89ba2d(0x801)](_0x5ebaa0)&&(_0x68ba78[_0x89ba2d(0xa1b)]['push'](_0x5ebaa0),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x357815,_0x16f9c3){const _0x25a2f3=_0x361958,_0xa5a34b=shortcutTabs[_0x25a2f3(0x9f6)](_0x3d261b=>_0x3d261b['id']===_0x16f9c3);_0xa5a34b&&!_0xa5a34b[_0x25a2f3(0x8cf)]&&(_0xa5a34b[_0x25a2f3(0xa1b)]=_0xa5a34b[_0x25a2f3(0xa1b)][_0x25a2f3(0x9df)](_0xe14f88=>_0xe14f88!==_0x357815),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x56e210,_0x23b593){shortcutOrder[_0x56e210]=_0x23b593,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x7f6c=_0x361958,_0x3e39a8=document[_0x7f6c(0x403)](_0x7f6c(0x509)),_0x289e6b=document['getElementById'](_0x7f6c(0x3c5)),_0x14622a=document['getElementById'](_0x7f6c(0x360));_0x14622a&&_0x14622a[_0x7f6c(0x67e)][_0x7f6c(0x7be)](_0x7f6c(0x17c));if(!_0x3e39a8||!_0x289e6b)return;const _0x180b14=blueprintShortcuts[_0x7f6c(0x4ca)](0x0,0x4),_0x4ad6a6=blueprintShortcuts[_0x7f6c(0x4ca)](0x4);_0x3e39a8[_0x7f6c(0x86f)]=_0x180b14['map'](_0xffea5d=>{const _0x277568=_0x7f6c;let _0x513472=_0x277568(0x651),_0x5127de='🧩';if(_0xffea5d['blueprintUrl']&&_0xffea5d['referenceUrl'])_0x513472=_0x277568(0xc04),_0x5127de='📗';else _0xffea5d[_0x277568(0x152)]&&(_0x513472=_0x277568(0x286),_0x5127de='📘');const _0x3d86b0=!_0xffea5d['isDefault']?'<button\x20data-id=\x22'+_0xffea5d['id']+_0x277568(0x45c):'';return _0x277568(0x6be)+_0xffea5d['id']+'\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x513472+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x5127de+'\x20'+_0xffea5d['name']+_0x277568(0xbcb)+_0xffea5d['id']+_0x277568(0x878)+_0x3d86b0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x7f6c(0xbcc)](''),_0x4ad6a6[_0x7f6c(0x6b7)]>0x0&&(_0x3e39a8[_0x7f6c(0x86f)]+=_0x7f6c(0xc95)),_0x4ad6a6[_0x7f6c(0x6b7)]>0x0?_0x289e6b[_0x7f6c(0x86f)]=_0x4ad6a6[_0x7f6c(0x961)](_0xfad766=>{const _0x2f786d=_0x7f6c;let _0x3bb1b7='🧩';if(_0xfad766['blueprintUrl']&&_0xfad766['referenceUrl'])_0x3bb1b7='📗';else _0xfad766[_0x2f786d(0x152)]&&(_0x3bb1b7='📘');return _0x2f786d(0x343)+_0x3bb1b7+'\x20'+_0xfad766[_0x2f786d(0x2ea)]+_0x2f786d(0x373)+_0xfad766['id']+_0x2f786d(0x4a1)+_0xfad766['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0xfad766[_0x2f786d(0x8cf)]?_0x2f786d(0xcde)+_0xfad766['id']+_0x2f786d(0x55c):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''):_0x289e6b['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x513723){const _0xf79e15=_0x361958,_0x302dac=_0x513723['split']('.')['pop']()[_0xf79e15(0x985)]();switch(_0x302dac){case _0xf79e15(0x333):return _0xf79e15(0x810);case _0xf79e15(0x256):return'text/plain';default:return _0xf79e15(0x810);}}function openShortcutEditor(_0x2399f8=null){const _0x2efdd3=_0x361958,_0x268f1b=document[_0x2efdd3(0x403)](_0x2efdd3(0x865)),_0x50b9ee=document['getElementById'](_0x2efdd3(0x47c)),_0x15d473=document[_0x2efdd3(0x403)](_0x2efdd3(0x22a)),_0x2320d0=document[_0x2efdd3(0x403)](_0x2efdd3(0x42a)),_0x4c5c28=document[_0x2efdd3(0x403)](_0x2efdd3(0x1fc)),_0x195e91=document[_0x2efdd3(0x403)](_0x2efdd3(0x6f7));if(_0x2399f8){const _0xe9ae9=blueprintShortcuts[_0x2efdd3(0x9f6)](_0xe63e5e=>_0xe63e5e['id']===_0x2399f8);if(!_0xe9ae9)return;_0x50b9ee['textContent']=_0x2efdd3(0x941),_0x15d473['value']=_0xe9ae9['id'],_0x2320d0[_0x2efdd3(0x491)]=_0xe9ae9['name'],_0x4c5c28[_0x2efdd3(0x491)]=_0xe9ae9[_0x2efdd3(0x152)]||'',_0x195e91[_0x2efdd3(0x491)]=_0xe9ae9['referenceUrl']||'';}else _0x50b9ee[_0x2efdd3(0x317)]='เพิ่มปุ่มลัดใหม่',_0x15d473['value']='',_0x2320d0[_0x2efdd3(0x491)]='',_0x4c5c28[_0x2efdd3(0x491)]='',_0x195e91[_0x2efdd3(0x491)]='';_0x268f1b[_0x2efdd3(0x67e)][_0x2efdd3(0x3e9)](_0x2efdd3(0x17c));}async function saveShortcutChanges(){const _0xe25e3=_0x361958,_0x1683d2=document[_0xe25e3(0x403)](_0xe25e3(0x22a))[_0xe25e3(0x491)],_0x6694c0=document[_0xe25e3(0x403)](_0xe25e3(0x42a))['value'][_0xe25e3(0x783)](),_0x21de7a=document[_0xe25e3(0x403)](_0xe25e3(0x1fc))[_0xe25e3(0x491)][_0xe25e3(0x783)]();if(!_0x6694c0||!_0x21de7a){showMessage(_0xe25e3(0xb5b));return;}const _0x248e26={'id':_0x1683d2||_0xe25e3(0x413)+Date[_0xe25e3(0x166)](),'name':_0x6694c0,'blueprintUrl':_0x21de7a,'referenceUrl':document['getElementById'](_0xe25e3(0x6f7))['value'][_0xe25e3(0x783)](),'isDefault':_0x1683d2[_0xe25e3(0x48b)](_0xe25e3(0x316))};let _0x3bdd04;_0x1683d2?_0x3bdd04=blueprintShortcuts[_0xe25e3(0x961)](_0x3c3212=>_0x3c3212['id']===_0x1683d2?_0x248e26:_0x3c3212):_0x3bdd04=[...blueprintShortcuts,_0x248e26];try{const _0x44b5e9=doc(db,'globalSettings',_0xe25e3(0x968));await setDoc(_0x44b5e9,{'blueprintShortcuts':_0x3bdd04},{'merge':!![]}),document[_0xe25e3(0x403)](_0xe25e3(0x865))[_0xe25e3(0x67e)][_0xe25e3(0x7be)](_0xe25e3(0x17c));}catch(_0x2b305f){console[_0xe25e3(0x51e)](_0xe25e3(0xabc),_0x2b305f),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleShortcutClick(_0x13d13d){const _0x222341=_0x361958,_0x13c7ea=blueprintShortcuts['find'](_0x1f1b95=>_0x1f1b95['id']===_0x13d13d);if(!_0x13c7ea||!_0x13c7ea[_0x222341(0x152)])return;document[_0x222341(0x403)]('blueprint-options-container')[_0x222341(0x67e)]['add'](_0x222341(0x17c)),document[_0x222341(0x403)]('generate-from-blueprint-btn')[_0x222341(0x79a)]=!![];const _0x17836d=document[_0x222341(0x403)](_0x222341(0x85f)),_0x3f31e4=document[_0x222341(0x403)]('loader-text');document[_0x222341(0x403)](_0x222341(0x624))[_0x222341(0x67e)][_0x222341(0x3e9)]('hidden'),document['getElementById']('generated-quiz-container')['innerHTML']='',_0x17836d[_0x222341(0x67e)][_0x222341(0x3e9)](_0x222341(0x17c));try{_0x3f31e4['textContent']=_0x222341(0x1f3);const _0x1208ed=await fetchFileFromUrl(_0x13c7ea[_0x222341(0x152)],_0x222341(0x684));let _0x28b5da=null;if(_0x13c7ea['referenceUrl']){_0x3f31e4[_0x222341(0x317)]='กำลังดึงไฟล์อ้างอิงจากลิงก์...';const _0x3ce0ef=_0x13c7ea[_0x222341(0xb99)]['toLowerCase']()['endsWith']('.txt')?_0x222341(0x795):'reference.pdf';_0x28b5da=await fetchFileFromUrl(_0x13c7ea[_0x222341(0xb99)],_0x3ce0ef);}await handleGenerateFromBlueprintWithFiles(_0x1208ed,_0x28b5da);}catch(_0x1f88a9){console['error'](_0x222341(0x645),_0x1f88a9),showMessage(_0x222341(0x201)+_0x1f88a9[_0x222341(0x931)]),_0x17836d['classList'][_0x222341(0x7be)]('hidden');}}function getDirectDownloadUrl(_0x3805c){const _0x1677d6=_0x361958,_0x41299a=_0x3805c[_0x1677d6(0xcc1)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x41299a&&_0x41299a[0x1])return _0x1677d6(0xe2)+_0x41299a[0x1];return _0x3805c;}async function fetchFileFromUrl(_0x2ca8fc,_0x3fddb1){const _0x4c8313=_0x361958,_0x4889be=getDirectDownloadUrl(_0x2ca8fc),_0x9925b4=_0x4c8313(0x2e4)+encodeURIComponent(_0x4889be),_0x12815a=await fetch(_0x9925b4);if(!_0x12815a['ok'])throw new Error(_0x4c8313(0x595)+_0x12815a[_0x4c8313(0x6b5)]+')');const _0x4aa155=await _0x12815a[_0x4c8313(0x849)](),_0x3187ed=await new Promise((_0x90308e,_0x588864)=>{const _0x2f0b8e=_0x4c8313,_0x3e71e2=new FileReader();_0x3e71e2[_0x2f0b8e(0xb4e)]=()=>_0x90308e(new Uint8Array(_0x3e71e2[_0x2f0b8e(0x8f1)])),_0x3e71e2[_0x2f0b8e(0x257)]=_0x588864,_0x3e71e2[_0x2f0b8e(0x6ec)](_0x4aa155[_0x2f0b8e(0x4ca)](0x0,0x4));});let _0x4e7983='';const _0x43088b=new TextDecoder()[_0x4c8313(0x25f)](_0x3187ed);return _0x43088b===_0x4c8313(0xcaf)?(_0x4e7983=_0x4c8313(0x810),console['log'](_0x4c8313(0x759))):(_0x4e7983='text/plain',console[_0x4c8313(0xb07)]('File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.')),new File([_0x4aa155],_0x3fddb1,{'type':_0x4e7983});}async function handleGenerateFromBlueprintWithFiles(_0x4e349d,_0x40f033=null){const _0x1c24ea=_0x361958;if(!_0x4e349d){showMessage('ไม่พบไฟล์\x20Test\x20Blueprint');return;}const _0x3d79d7=document[_0x1c24ea(0x403)](_0x1c24ea(0x85f)),_0x531076=document[_0x1c24ea(0x403)]('loader-text');_0x3d79d7['classList'][_0x1c24ea(0x3e9)]('hidden'),document[_0x1c24ea(0x403)](_0x1c24ea(0x624))['classList'][_0x1c24ea(0x3e9)](_0x1c24ea(0x17c)),document[_0x1c24ea(0x403)](_0x1c24ea(0xa1d))[_0x1c24ea(0x86f)]='';try{_0x531076[_0x1c24ea(0x317)]='กำลังอ่านไฟล์\x20Test\x20Blueprint...';const _0x5f105b=await new Promise((_0x2a1545,_0x2c0f9b)=>{const _0x41d993=_0x1c24ea,_0x4744c3=new FileReader();_0x4744c3[_0x41d993(0xa04)](_0x4e349d),_0x4744c3[_0x41d993(0x9d4)]=()=>_0x2a1545(_0x4744c3[_0x41d993(0x8f1)][_0x41d993(0xc4b)](',')[0x1]),_0x4744c3['onerror']=_0x2c0f9b;}),_0x22526e=[];if(_0x40f033){_0x531076[_0x1c24ea(0x317)]=_0x1c24ea(0x6d4);const _0x1211cb=await _0x40f033[_0x1c24ea(0x90b)]();_0x22526e[_0x1c24ea(0x798)]({'text':_0x1c24ea(0x8b7)+_0x1211cb});}const _0x907153=[{'text':'...'},{'inlineData':{'mimeType':_0x4e349d['type'],'data':_0x5f105b}},..._0x22526e];await handleGenerateFromBlueprint(_0x907153);}catch(_0x552f22){console[_0x1c24ea(0x51e)](_0x1c24ea(0xc11),_0x552f22),showMessage('เกิดข้อผิดพลาด:\x20'+_0x552f22[_0x1c24ea(0x931)]),_0x3d79d7['classList']['add'](_0x1c24ea(0x17c));}}async function handleLiveAnswer(_0x582543,_0x1977f4){const _0x1babb3=_0x361958;document['querySelectorAll'](_0x1babb3(0x603))[_0x1babb3(0x384)](_0x41d668=>_0x41d668[_0x1babb3(0x79a)]=!![]);const _0x5f3cd2=_0x1977f4[_0x1babb3(0x30c)]||currentQuizData[_0x1babb3(0x94d)];let _0x4eab9e=![],_0x35e8d9=_0x582543;if(_0x5f3cd2===_0x1babb3(0x385)){const _0x26e135=(_0x582543||'')[_0x1babb3(0x292)]();_0x4eab9e=await gradeShortAnswer(_0x26e135,_0x1977f4);}else{if(_0x5f3cd2==='multiple_choice')_0x4eab9e=_0x582543===_0x1977f4[_0x1babb3(0x47b)];else{if(_0x5f3cd2===_0x1babb3(0x891)){const _0x538e06=_0x1977f4[_0x1babb3(0xc73)];_0x4eab9e=_0x582543===0x0&&_0x538e06||_0x582543===0x1&&!_0x538e06;}else{if(_0x5f3cd2===_0x1babb3(0x886)){const _0x4ec9c0=_0x1977f4['allResponses'][_0x582543];_0x4eab9e=_0x4ec9c0===_0x1977f4['correctResponse'],_0x35e8d9=_0x4ec9c0;}}}}const _0x51c4f2=doc(db,_0x1babb3(0x418)+appId+_0x1babb3(0xb0c),currentLiveGameId),_0x1722cd={};_0x1722cd[_0x1babb3(0x1d7)+currentStudentName+_0x1babb3(0x457)]=!![],_0x1722cd[_0x1babb3(0x1d7)+currentStudentName+_0x1babb3(0x1a7)]=_0x4eab9e,_0x1722cd[_0x1babb3(0x1d7)+currentStudentName+_0x1babb3(0x6e2)]=_0x5f3cd2===_0x1babb3(0x385)||_0x5f3cd2===_0x1babb3(0x886)?null:_0x582543,_0x1722cd['players.'+currentStudentName+_0x1babb3(0x826)]=_0x35e8d9,_0x1722cd[_0x1babb3(0x1d7)+currentStudentName+_0x1babb3(0xae1)]=serverTimestamp(),_0x1722cd[_0x1babb3(0x1d7)+currentStudentName+_0x1babb3(0xa01)]=![],await updateDoc(_0x51c4f2,_0x1722cd),liveGameView['innerHTML']=_0x1babb3(0xa6c);}function showAdminSummaryView(_0x503afe,_0x169744){const _0x391b8a=_0x361958,_0x248642=Object[_0x391b8a(0x9bd)](_0x503afe['players']||{}),_0x5b85cd=_0x169744['questionType']||currentQuizData[_0x391b8a(0x94d)],_0x4cf200=_0x5b85cd===_0x391b8a(0x891)?[_0x391b8a(0x291),_0x391b8a(0xcda)]:_0x169744['options']||_0x169744[_0x391b8a(0xaa2)]||[],_0x53272e={},_0x3b46eb=new Array(_0x4cf200[_0x391b8a(0x6b7)])[_0x391b8a(0x3a9)](0x0);_0x4cf200[_0x391b8a(0x384)]((_0x221244,_0x1e9056)=>{_0x53272e[_0x1e9056]=[];}),Object[_0x391b8a(0x68a)](_0x503afe[_0x391b8a(0x414)]||{})[_0x391b8a(0x384)](([_0x2934a4,_0x1a9e65])=>{const _0x521f36=_0x391b8a;if(_0x1a9e65[_0x521f36(0x6b5)]===_0x521f36(0x70f)&&_0x1a9e65[_0x521f36(0x7b7)]!==undefined){const _0x4e8a57=_0x1a9e65['lastAnswerIndex'];_0x53272e[_0x4e8a57]&&(_0x53272e[_0x4e8a57][_0x521f36(0x798)](_0x2934a4),_0x3b46eb[_0x4e8a57]++);}});const _0x1512a7=Math[_0x391b8a(0x773)](..._0x3b46eb,0x1),_0x5d5a08=_0x391b8a(0x848)+(_0x169744['stem']||_0x169744['questionText'])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b46eb['map']((_0x2ffd83,_0xd05e2e)=>{const _0xc2c3d3=_0x391b8a,_0x314a3d=_0x53272e[_0xd05e2e][_0xc2c3d3(0x6b7)]>0x0?_0x53272e[_0xd05e2e][_0xc2c3d3(0xbcc)](',\x20'):_0xc2c3d3(0xb12);let _0x1242db=![];if(_0x5b85cd===_0xc2c3d3(0x736))_0x1242db=_0xd05e2e===_0x169744[_0xc2c3d3(0x47b)];else{if(_0x5b85cd===_0xc2c3d3(0x891)){const _0x5e7c88=_0x169744[_0xc2c3d3(0xc73)];_0x1242db=_0x5e7c88&&_0xd05e2e===0x0||!_0x5e7c88&&_0xd05e2e===0x1;}else _0x5b85cd===_0xc2c3d3(0x886)&&(_0x1242db=_0x4cf200[_0xd05e2e]===_0x169744['correctResponse']);}const _0x3cd203=_0x1242db?_0xc2c3d3(0x340):_0xc2c3d3(0x8d8);return _0xc2c3d3(0x4d9)+_0x2ffd83+_0xc2c3d3(0x8a9)+_0x3cd203+_0xc2c3d3(0x1ea)+_0xd05e2e+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x4cf200[_0xd05e2e]+_0xc2c3d3(0x523)+_0xd05e2e+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x314a3d+_0xc2c3d3(0x112);})[_0x391b8a(0xbcc)]('')+_0x391b8a(0xa4f);liveGameView['innerHTML']=_0x5d5a08;if(window[_0x391b8a(0xaeb)])MathJax['typesetPromise']();document[_0x391b8a(0x403)](_0x391b8a(0x321))[_0x391b8a(0x224)](_0x391b8a(0x920),async()=>{const _0x4554b4=_0x391b8a,_0x270600=doc(db,'artifacts/'+appId+_0x4554b4(0xb0c),currentLiveGameId);await updateDoc(_0x270600,{'questionStatus':_0x4554b4(0x38f)});}),document[_0x391b8a(0x403)](_0x391b8a(0x9f9))[_0x391b8a(0x224)](_0x391b8a(0x920),()=>{openScratchpad(_0x169744,_0x4cf200);});}function showPlayerSummaryView(_0x56ff18,_0x1c41b4){const _0x1dd0b7=_0x361958,_0x1ad879=Object['values'](_0x56ff18[_0x1dd0b7(0x414)]||{}),_0x3ef0dd=_0x56ff18[_0x1dd0b7(0x414)][_0x1c41b4],_0x3ead3b=_0x1ad879[_0x1dd0b7(0x9df)](_0x264332=>_0x264332[_0x1dd0b7(0x6b5)]===_0x1dd0b7(0x70f))['sort']((_0x24dcac,_0x15d5de)=>_0x15d5de[_0x1dd0b7(0xa6e)]-_0x24dcac['score']),_0x246323=_0x3ead3b['findIndex'](_0x34227a=>_0x34227a===_0x3ef0dd)+0x1,_0x4891aa=_0x3ef0dd[_0x1dd0b7(0x26f)]?'ถูกต้อง!':'ผิด',_0x30a150=_0x3ef0dd[_0x1dd0b7(0x26f)]?_0x1dd0b7(0x4a5):_0x1dd0b7(0x62f),_0x24ad1f=_0x3ef0dd[_0x1dd0b7(0x193)]||0x0,_0x239eb6='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x32c925='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x239eb6+_0x1dd0b7(0xce8)+_0x30a150+_0x1dd0b7(0xca9)+_0x4891aa+_0x1dd0b7(0x497)+_0x24ad1f+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x246323>0x0?_0x246323:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x1dd0b7(0x86f)]=_0x32c925;}function createQuizFromBank(){const _0x52f62b=_0x361958,_0x550fb3=document['querySelectorAll']('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x550fb3['length']===0x0){showMessage(_0x52f62b(0x91d));return;}const _0x4376c6=[];_0x550fb3[_0x52f62b(0x384)](_0x1b0561=>{const _0x105bcf=_0x52f62b;_0x4376c6[_0x105bcf(0x798)](JSON['parse'](_0x1b0561[_0x105bcf(0x491)]));});const _0x374c1b={'topic':_0x52f62b(0x977),'questions':_0x4376c6};displayGeneratedQuiz(_0x374c1b);}function showAdminLobbyView(_0x4f02a2,_0x1d6400){const _0x460f5f=_0x361958;showView(_0x460f5f(0xb84));const _0x1e5b29='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x1d6400+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x4f02a2+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x460f5f(0x86f)]=_0x1e5b29,document['getElementById']('start-game-btn')[_0x460f5f(0x224)]('click',async()=>{const _0x1a15f1=_0x460f5f;if(!currentQuizData||!currentQuizData[_0x1a15f1(0x707)]||currentQuizData[_0x1a15f1(0x707)]['length']===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x292684=doc(db,_0x1a15f1(0x418)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x292684,{'status':_0x1a15f1(0x852),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x573b8f=currentQuizData[_0x1a15f1(0x707)][0x0],_0x5cba24=currentQuizData['questions'][_0x1a15f1(0x6b7)];showAdminLiveQuestionView(_0x573b8f,0x0,_0x5cba24);}catch(_0xc59536){console[_0x1a15f1(0x51e)](_0x1a15f1(0x16f),_0xc59536),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0x1ac560=_0x361958;if(allQuizzesGlobal[_0x1ac560(0x6b7)]===0x0){const _0x98f94a=await getDocs(collection(db,'artifacts/'+appId+_0x1ac560(0x34c)));allQuizzesGlobal=_0x98f94a[_0x1ac560(0x5b2)]['map'](_0x1e786b=>({'id':_0x1e786b['id'],..._0x1e786b['data']()}));}renderQuizBankList(''),document[_0x1ac560(0x403)](_0x1ac560(0x1b0))[_0x1ac560(0x67e)][_0x1ac560(0x3e9)](_0x1ac560(0x17c));}function renderQuizBankList(_0x30dca9='',_0x44c4ab=![]){const _0x9a1655=_0x361958,_0x51cb27=document[_0x9a1655(0x403)](_0x9a1655(0xb46)),_0x3318f4=_0x30dca9[_0x9a1655(0x985)]()[_0x9a1655(0x783)](),_0xe914e=allQuizzesGlobal[_0x9a1655(0x961)](_0x4fa870=>({..._0x4fa870,'projectName':allProjects[_0x9a1655(0x9f6)](_0x56ae16=>_0x56ae16['id']===_0x4fa870['projectId'])?.[_0x9a1655(0x3d0)]||'N/A'}))[_0x9a1655(0x9df)](_0x426088=>(_0x426088[_0x9a1655(0x411)]||'')[_0x9a1655(0x985)]()['includes'](_0x3318f4)||(_0x426088[_0x9a1655(0x3d0)]||'')[_0x9a1655(0x985)]()[_0x9a1655(0x801)](_0x3318f4)||_0x426088['id'][_0x9a1655(0x292)]()['includes'](_0x3318f4));document['getElementById'](_0x9a1655(0x39f))[_0x9a1655(0x317)]='('+_0xe914e['length']+_0x9a1655(0x7c7),_0x51cb27[_0x9a1655(0x86f)]=_0xe914e[_0x9a1655(0x6b7)]?_0xe914e[_0x9a1655(0x961)](_0x3195b1=>{const _0x53e5cb=_0x9a1655,_0x102793=!_0x44c4ab?_0x53e5cb(0x4d6)+_0x3195b1['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3195b1['id']+_0x53e5cb(0x3c6)+_0x3195b1['id']+_0x53e5cb(0x9b5)+_0x3195b1['id']+_0x53e5cb(0x2bd)+_0x3195b1['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3195b1['id']+_0x53e5cb(0x9b9)+_0x3195b1['topic']+_0x53e5cb(0x5ab):'';return _0x53e5cb(0xa5d)+_0x3195b1['id']+_0x53e5cb(0x530)+(_0x3195b1[_0x53e5cb(0x411)]||_0x53e5cb(0x845))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x3195b1[_0x53e5cb(0x707)]?.['length']||0x0)+_0x53e5cb(0x873)+_0x3195b1[_0x53e5cb(0x3d0)]+_0x53e5cb(0x3c9)+_0x3195b1['id']+_0x53e5cb(0x335)+_0x102793+_0x53e5cb(0x71f);})[_0x9a1655(0xbcc)](''):_0x9a1655(0xa2c),!_0x44c4ab&&(_0x51cb27['querySelectorAll'](_0x9a1655(0x12e))[_0x9a1655(0x384)](_0x5a4517=>{const _0x21d884=_0x9a1655;_0x5a4517['addEventListener'](_0x21d884(0x920),()=>{const _0x2385dd=_0x21d884,_0x29c140=_0x5a4517['dataset']['id'];document['getElementById']('quiz-bank-modal')[_0x2385dd(0x67e)][_0x2385dd(0x7be)](_0x2385dd(0x17c)),showQuizDetailView(_0x29c140);});}),_0x51cb27[_0x9a1655(0x2c6)](_0x9a1655(0x979))[_0x9a1655(0x384)](_0x1ee399=>{const _0x519085=_0x9a1655;_0x1ee399[_0x519085(0x224)](_0x519085(0x920),_0x411f6b=>{const _0x135750=_0x519085;_0x411f6b['stopPropagation']();const _0x1adcc2=_0x1ee399['dataset']['id'],_0x10a6d0=allQuizzesGlobal[_0x135750(0x9f6)](_0x4e47e5=>_0x4e47e5['id']===_0x1adcc2);_0x10a6d0?(currentQuizData=_0x10a6d0,document[_0x135750(0x403)](_0x135750(0x1b0))[_0x135750(0x67e)][_0x135750(0x7be)](_0x135750(0x17c)),startAdminTest()):showMessage(_0x135750(0x82c));});}),_0x51cb27[_0x9a1655(0x2c6)](_0x9a1655(0x229))[_0x9a1655(0x384)](_0x3fce7c=>{_0x3fce7c['addEventListener']('click',_0x2d566a=>{const _0x249582=_0x3ec8;_0x2d566a[_0x249582(0x5c0)]();const _0x35f792=_0x3fce7c[_0x249582(0x8c4)]['id'],_0x5bc364=allQuizzesGlobal[_0x249582(0x9f6)](_0x238246=>_0x238246['id']===_0x35f792);_0x5bc364?(document[_0x249582(0x403)]('quiz-bank-modal')[_0x249582(0x67e)][_0x249582(0x7be)](_0x249582(0x17c)),handleGenerateParallelFromBank(_0x5bc364)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x51cb27[_0x9a1655(0x2c6)]('.quiz-bank-present-btn')[_0x9a1655(0x384)](_0x3bece4=>{_0x3bece4['addEventListener']('click',_0x2d0b71=>{const _0x218a5b=_0x3ec8;_0x2d0b71[_0x218a5b(0x5c0)]();const _0x276afc=_0x3bece4[_0x218a5b(0x8c4)]['id'],_0x2d72d9=allQuizzesGlobal[_0x218a5b(0x9f6)](_0x41c8e1=>_0x41c8e1['id']===_0x276afc);_0x2d72d9?(document[_0x218a5b(0x403)](_0x218a5b(0x1b0))[_0x218a5b(0x67e)][_0x218a5b(0x7be)](_0x218a5b(0x17c)),startPresentation(_0x2d72d9)):showMessage(_0x218a5b(0x82c));});}),_0x51cb27[_0x9a1655(0x2c6)]('.quiz-bank-move-btn')[_0x9a1655(0x384)](_0xf5aa64=>{const _0x35a459=_0x9a1655;_0xf5aa64['addEventListener'](_0x35a459(0x920),_0xaf42eb=>{const _0x1a92ec=_0x35a459;_0xaf42eb[_0x1a92ec(0x5c0)]();const _0x5f36e0=_0xf5aa64['dataset']['id'];document[_0x1a92ec(0x403)](_0x1a92ec(0x1b0))[_0x1a92ec(0x67e)][_0x1a92ec(0x7be)](_0x1a92ec(0x17c)),handleMoveQuiz(_0x5f36e0);});}),_0x51cb27['querySelectorAll'](_0x9a1655(0x66b))[_0x9a1655(0x384)](_0x263e31=>{const _0x111614=_0x9a1655;_0x263e31[_0x111614(0x224)]('click',_0x432f00=>{const _0x423142=_0x111614;_0x432f00[_0x423142(0x5c0)]();const _0xb6d142=_0x263e31['dataset']['id'];document[_0x423142(0x403)](_0x423142(0x1b0))['classList']['add']('hidden'),handleQuizSettings(_0xb6d142);});}),_0x51cb27[_0x9a1655(0x2c6)](_0x9a1655(0x654))[_0x9a1655(0x384)](_0x4281a2=>{const _0x1eeec4=_0x9a1655;_0x4281a2[_0x1eeec4(0x224)](_0x1eeec4(0x920),_0x3af655=>{const _0x62c23a=_0x1eeec4;_0x3af655[_0x62c23a(0x5c0)]();const _0x126aa7=_0x4281a2[_0x62c23a(0x8c4)]['id'],_0x430191=_0x4281a2[_0x62c23a(0x8c4)][_0x62c23a(0x411)];showConfirmation(_0x62c23a(0x5ec)+_0x430191+_0x62c23a(0x5fc),()=>handleDeleteQuiz(_0x126aa7));});}));}async function handleCompareResults(_0x47c9ef,_0x31739f){const _0x42b846=_0x361958,_0x236950=document['getElementById'](_0x42b846(0x744)),_0x5a2369=document[_0x42b846(0x403)]('comparison-overall-content'),_0x1e2fe4=document[_0x42b846(0x403)]('comparison-individual-content');document[_0x42b846(0x403)]('comparison-overall-tab')[_0x42b846(0x67e)][_0x42b846(0x7be)](_0x42b846(0x70f)),document[_0x42b846(0x403)](_0x42b846(0x4ab))['classList'][_0x42b846(0x3e9)](_0x42b846(0x70f)),_0x5a2369['classList'][_0x42b846(0x3e9)]('hidden'),_0x1e2fe4[_0x42b846(0x67e)][_0x42b846(0x7be)]('hidden'),_0x5a2369[_0x42b846(0x86f)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x1e2fe4['innerHTML']='',_0x236950[_0x42b846(0x67e)][_0x42b846(0x3e9)](_0x42b846(0x17c));try{const _0x5a7e74=doc(db,_0x42b846(0x418)+appId+_0x42b846(0x34c),_0x47c9ef),_0x3a5d69=await getDoc(_0x5a7e74);if(!_0x3a5d69[_0x42b846(0x6f9)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x44382f=_0x3a5d69[_0x42b846(0xaff)](),_0xcebea8=_0x44382f[_0x42b846(0x707)][_0x42b846(0x6b7)],_0x10a7e3=collection(db,_0x42b846(0x418)+appId+_0x42b846(0xa18)+_0x31739f+_0x42b846(0x7dc)),_0x1937b1=collection(db,_0x42b846(0x418)+appId+_0x42b846(0xa18)+_0x47c9ef+_0x42b846(0x7dc)),[_0x4b6759,_0x4ffc95]=await Promise[_0x42b846(0x32d)]([getDocs(_0x10a7e3),getDocs(_0x1937b1)]),_0x2bb0a8=_0x4b6759[_0x42b846(0x5b2)][_0x42b846(0x961)](_0x5e5b74=>_0x5e5b74[_0x42b846(0xaff)]()),_0x152bb6=_0x4ffc95['docs']['map'](_0x3caf07=>_0x3caf07[_0x42b846(0xaff)]()),_0x46862d=_0x2bb0a8[_0x42b846(0x961)](_0x2b7468=>_0x2b7468[_0x42b846(0x155)]),_0xc855e8=_0x152bb6[_0x42b846(0x961)](_0x3043e5=>_0x3043e5[_0x42b846(0x155)]),_0x5b4217=calculateMeanAndStdDev(_0x46862d),_0x46aeca=calculateMeanAndStdDev(_0xc855e8),_0x7e68ce=_0x5b4217[_0x42b846(0x482)],_0x48675d=_0x46aeca[_0x42b846(0x482)],_0x2d2878=_0x48675d-_0x7e68ce;let _0xd0268b=_0x42b846(0x5ac)+_0x7e68ce['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x48675d[_0x42b846(0x2a0)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x2d2878>=0x0?'bg-emerald-100':_0x42b846(0xbd9))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x2d2878>=0x0?_0x42b846(0x3bc):_0x42b846(0xfa))+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x2d2878>=0x0?_0x42b846(0xc3d):'text-red-900')+'\x22>'+(_0x2d2878>=0x0?'+':'')+_0x2d2878[_0x42b846(0x2a0)](0x2)+_0x42b846(0x7bc);_0x5a2369[_0x42b846(0x86f)]=_0xd0268b;const _0x295f7c=document[_0x42b846(0x403)](_0x42b846(0xaa5))[_0x42b846(0x1aa)]('2d');if(chartInstances[_0x42b846(0xc62)])chartInstances[_0x42b846(0xc62)][_0x42b846(0xc96)]();chartInstances[_0x42b846(0xc62)]=new Chart(_0x295f7c,{'type':_0x42b846(0x2fc),'data':{'labels':[_0x42b846(0x484)],'datasets':[{'label':_0x42b846(0xc93),'data':[_0x7e68ce],'backgroundColor':_0x42b846(0x6b1)},{'label':_0x42b846(0x730),'data':[_0x48675d],'backgroundColor':_0x42b846(0x4fd)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0xcebea8}}}});const _0x4cf71b=currentProjectData[_0x42b846(0x282)]||[],_0x297539=_0x4cf71b[_0x42b846(0x961)](_0x10c121=>{const _0x27844a=_0x42b846,_0x1fc653=_0x2bb0a8[_0x27844a(0x9f6)](_0x3cda35=>_0x3cda35['studentName']===_0x10c121),_0x101b37=_0x152bb6[_0x27844a(0x9f6)](_0x3c3dd8=>_0x3c3dd8[_0x27844a(0x5b0)]===_0x10c121),_0xedc4b4=_0x1fc653?_0x1fc653[_0x27844a(0x155)]:null,_0x3035b4=_0x101b37?_0x101b37[_0x27844a(0x155)]:null,_0x4e4afd=_0xedc4b4!==null&&_0x3035b4!==null?_0x3035b4-_0xedc4b4:null,_0x318f6c=_0xedc4b4!==null?calculateZScore(_0xedc4b4,_0x5b4217[_0x27844a(0x482)],_0x5b4217[_0x27844a(0x9d2)]):null,_0x1ad003=_0x3035b4!==null?calculateZScore(_0x3035b4,_0x46aeca['mean'],_0x46aeca[_0x27844a(0x9d2)]):null,_0x23804a=_0x318f6c!==null?calculateTScore(_0x318f6c):null,_0x2385e6=_0x1ad003!==null?calculateTScore(_0x1ad003):null,_0x300523=_0x23804a!==null&&_0x2385e6!==null?_0x2385e6-_0x23804a:null;return{'name':_0x10c121,'preScore':_0xedc4b4,'postScore':_0x3035b4,'gain':_0x4e4afd,'preTScore':_0x23804a,'postTScore':_0x2385e6,'tGain':_0x300523};});renderIndividualComparisonTable(_0x297539,_0x1e2fe4);}catch(_0x1eaae3){console[_0x42b846(0x51e)](_0x42b846(0x1a0),_0x1eaae3),_0x5a2369[_0x42b846(0x86f)]=_0x42b846(0x3b3);}}async function saveBlueprintProject(){const _0x248564=_0x361958;if(!extractedBlueprintData||!extractedBlueprintData[_0x248564(0x212)]){showMessage(_0x248564(0x395));return;}const _0x4d1c2a=prompt(_0x248564(0x892),_0x248564(0xc19));if(!_0x4d1c2a||_0x4d1c2a[_0x248564(0x783)]()==='')return;const _0x22f1ab={};extractedBlueprintData[_0x248564(0x212)]['forEach'](_0x8721d3=>{const _0x471939=_0x248564;_0x8721d3[_0x471939(0x312)][_0x471939(0x384)](_0x4e301b=>{const _0x2f34c1=_0x471939;_0x4e301b[_0x2f34c1(0x22b)]['forEach'](_0x2ecb90=>{const _0x1f417b=_0x2f34c1,_0x2dfd9c=_0x1f417b(0xb3a)+Date[_0x1f417b(0x166)]()+Math[_0x1f417b(0x427)]()[_0x1f417b(0x292)](0x24)['substr'](0x2,0x9);_0x22f1ab[_0x2dfd9c]={'sara':_0x8721d3[_0x1f417b(0xb11)],'mainTopic':_0x4e301b[_0x1f417b(0xc7f)],'subTopic':_0x2ecb90,'status':'not_generated','lessonContent':null};});});});try{const _0x1fe4ac=collection(db,_0x248564(0x418)+appId+_0x248564(0xc0f));await addDoc(_0x1fe4ac,{'projectName':_0x4d1c2a[_0x248564(0x783)](),'gradeLevel':extractedBlueprintData[_0x248564(0x8c2)],'topics':_0x22f1ab,'createdAt':serverTimestamp()}),showMessage(_0x248564(0xc20)+_0x4d1c2a[_0x248564(0x783)]()+_0x248564(0x3c0)),document[_0x248564(0x403)](_0x248564(0xcf9))[_0x248564(0x67e)][_0x248564(0x7be)](_0x248564(0x17c));}catch(_0xc447a2){console[_0x248564(0x51e)](_0x248564(0x25a),_0xc447a2),showMessage(_0x248564(0x97e));}}async function showBlueprintProjects(){const _0x1b9851=_0x361958,_0x1473ea=document['getElementById']('blueprint-projects-modal'),_0x4a7643=document['getElementById']('blueprint-project-list');_0x4a7643[_0x1b9851(0x86f)]=_0x1b9851(0xbde),_0x1473ea[_0x1b9851(0x67e)][_0x1b9851(0x3e9)]('hidden');try{const _0x3d2edb=collection(db,_0x1b9851(0x418)+appId+_0x1b9851(0xc0f)),_0x1742f4=await getDocs(_0x3d2edb);if(_0x1742f4['empty']){_0x4a7643['innerHTML']=_0x1b9851(0xc63);return;}const _0x504c05=_0x1742f4[_0x1b9851(0x5b2)][_0x1b9851(0x961)](_0x1434c0=>({'id':_0x1434c0['id'],..._0x1434c0[_0x1b9851(0xaff)]()}));_0x504c05[_0x1b9851(0x2b7)]((_0x3966d1,_0x40cfa3)=>_0x3966d1['projectName'][_0x1b9851(0x97c)](_0x40cfa3['projectName'],'th')),_0x4a7643[_0x1b9851(0x86f)]=_0x504c05[_0x1b9851(0x961)](_0x4c9e9e=>_0x1b9851(0xa8b)+_0x4c9e9e[_0x1b9851(0x3d0)]+_0x1b9851(0xa47)+_0x4c9e9e[_0x1b9851(0x8c2)]+_0x1b9851(0xca4)+Object[_0x1b9851(0x293)](_0x4c9e9e[_0x1b9851(0xb7a)])['length']+_0x1b9851(0x527)+_0x4c9e9e['id']+_0x1b9851(0x36d)+_0x4c9e9e['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1b9851(0xbcc)]('');}catch(_0x38aab2){console['error'](_0x1b9851(0x566),_0x38aab2),_0x4a7643[_0x1b9851(0x86f)]=_0x1b9851(0x4fa);}}async function displayBlueprintProjectManager(_0x2d89a8){const _0x3cc3bc=_0x361958;currentBlueprintProjectId=_0x2d89a8,document[_0x3cc3bc(0x403)](_0x3cc3bc(0x453))['classList'][_0x3cc3bc(0x7be)](_0x3cc3bc(0x17c)),showView('admin-dashboard'),projectDashboardView[_0x3cc3bc(0x67e)][_0x3cc3bc(0x7be)](_0x3cc3bc(0x17c));const _0x1e881f=document[_0x3cc3bc(0x403)](_0x3cc3bc(0x5d5));_0x1e881f['classList'][_0x3cc3bc(0x3e9)](_0x3cc3bc(0x17c)),document[_0x3cc3bc(0x403)](_0x3cc3bc(0xbb6))[_0x3cc3bc(0x86f)]=_0x3cc3bc(0x3d4);try{const _0x2ccec8=doc(db,_0x3cc3bc(0x418)+appId+_0x3cc3bc(0xc0f),_0x2d89a8),_0x2ca936=await getDoc(_0x2ccec8);if(!_0x2ca936[_0x3cc3bc(0x6f9)]())throw new Error('ไม่พบโปรเจค');const _0x4d732e={'id':_0x2ca936['id'],..._0x2ca936[_0x3cc3bc(0xaff)]()};document[_0x3cc3bc(0x403)](_0x3cc3bc(0x514))['textContent']=_0x4d732e[_0x3cc3bc(0x3d0)],document[_0x3cc3bc(0x403)](_0x3cc3bc(0x386))['value']=_0x4d732e['referenceFileUrl']||'',renderBlueprintTopicManager(_0x4d732e);}catch(_0x4661b9){console[_0x3cc3bc(0x51e)]('Error\x20displaying\x20blueprint\x20project:',_0x4661b9),showMessage(_0x4661b9[_0x3cc3bc(0x931)]),showView('admin-dashboard');}}function renderBlueprintTopicManager(_0x3105e5){const _0x128d37=_0x361958,_0xe5ca84=document[_0x128d37(0x403)]('bp-topic-list-container'),_0x22f468=_0x3105e5['topics']||{};if(Object[_0x128d37(0x293)](_0x22f468)[_0x128d37(0x6b7)]===0x0){_0xe5ca84['innerHTML']=_0x128d37(0x967);return;}const _0x17b2b5=Object['entries'](_0x22f468)[_0x128d37(0x961)](([_0x3dcb36,_0x5a9467])=>({'id':_0x3dcb36,..._0x5a9467}))['sort']((_0x21af18,_0x57993e)=>(_0x21af18['order']??Infinity)-(_0x57993e['order']??Infinity)),_0x1abf34={};_0x17b2b5[_0x128d37(0x384)](_0x3a9b6a=>{const _0x229df0=_0x128d37,{sara:_0x3c14f9,mainTopic:_0x33c05a}=_0x3a9b6a;!_0x1abf34[_0x3c14f9]&&(_0x1abf34[_0x3c14f9]={}),!_0x1abf34[_0x3c14f9][_0x33c05a]&&(_0x1abf34[_0x3c14f9][_0x33c05a]=[]),_0x1abf34[_0x3c14f9][_0x33c05a][_0x229df0(0x798)](_0x3a9b6a);});let _0x2d0394='';for(const _0x3258f3 in _0x1abf34){_0x2d0394+='<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x3258f3+'</h4>';for(const _0x1b984a in _0x1abf34[_0x3258f3]){_0x2d0394+=_0x128d37(0x7a1)+_0x1b984a+_0x128d37(0xda),_0x1abf34[_0x3258f3][_0x1b984a][_0x128d37(0x384)](_0x35e95f=>{const _0x41b007=_0x128d37,_0x469a81=_0x35e95f['id'],_0x247078=_0x35e95f[_0x41b007(0xa30)]||[],_0x51de71=_0x247078[_0x41b007(0x6b7)]>0x0,_0x198059=_0x35e95f[_0x41b007(0x6b5)]==='generated';let _0x62b49d='';_0x51de71?_0x62b49d=_0x41b007(0x735)+_0x247078['length']+_0x41b007(0x714):_0x62b49d='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+(_0x198059?_0x41b007(0x54f):_0x41b007(0x2a7))+'\x22>'+(_0x198059?_0x41b007(0x5df):'ยังไม่สร้าง')+_0x41b007(0xb55);const _0x33884e=!_0x198059?'disabled\x20bg-gray-400\x20cursor-not-allowed':'',_0x29e6eb=!_0x198059?'กรุณาสร้างบทเรียนก่อน':'';let _0x54f3da=_0x198059?_0x41b007(0x8f3):_0x41b007(0x91c);_0x2d0394+=_0x41b007(0xbee)+_0x469a81+_0x41b007(0xb95)+_0x35e95f[_0x41b007(0x432)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x62b49d+_0x41b007(0x72c)+_0x33884e+_0x41b007(0x7d2)+_0x29e6eb+_0x41b007(0x8a5)+_0x54f3da+_0x41b007(0x41b);}),_0x2d0394+='</div></div>';}_0x2d0394+=_0x128d37(0x517);}_0xe5ca84[_0x128d37(0x86f)]=_0x2d0394;}async function handleDeepDeleteBlueprintProject(_0x52828f){const _0x292f97=_0x361958,_0x3e824b=doc(db,_0x292f97(0x418)+appId+'/public/data/blueprintProjects',_0x52828f),_0x3fadd6=await getDoc(_0x3e824b);if(!_0x3fadd6['exists']()){showMessage(_0x292f97(0x205));return;}const _0x438b13=_0x3fadd6[_0x292f97(0xaff)]()[_0x292f97(0x3d0)];showConfirmation(_0x292f97(0x1c0)+_0x438b13+'\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!',async()=>{const _0x4842a0=_0x292f97;showMessage(_0x4842a0(0xcc8));try{const _0x1c704f=writeBatch(db),_0x54ff63=_0x3fadd6[_0x4842a0(0xaff)](),_0x52dd6a=_0x54ff63['topics']||{};for(const _0x50a067 in _0x52dd6a){const _0x2befbd=doc(db,_0x4842a0(0x418)+appId+_0x4842a0(0x647)+_0x52828f+_0x4842a0(0x37a),_0x50a067);_0x1c704f[_0x4842a0(0x206)](_0x2befbd);}const _0x59bb1b=new Set();for(const _0xd693bf in _0x52dd6a){_0x52dd6a[_0xd693bf][_0x4842a0(0xa30)]&&_0x52dd6a[_0xd693bf][_0x4842a0(0xa30)]['forEach'](_0x355d1f=>_0x59bb1b['add'](_0x355d1f));}for(const _0x1549b8 of _0x59bb1b){await handleDeleteQuiz(_0x1549b8,![]);}_0x1c704f['delete'](_0x3e824b),await _0x1c704f['commit'](),showMessage(_0x4842a0(0x16b)+_0x438b13+_0x4842a0(0xbe9)),showBlueprintProjects();}catch(_0x5d9c74){console[_0x4842a0(0x51e)](_0x4842a0(0x467),_0x5d9c74),showMessage(_0x4842a0(0xc64));}});}async function openTopicQuizBank(_0x370d88){const _0xd4faa9=_0x361958,_0x29849d=document[_0xd4faa9(0x403)](_0xd4faa9(0x4b6)),_0x50f2c8=document['getElementById'](_0xd4faa9(0x108)),_0x2aa3fb=document[_0xd4faa9(0x403)](_0xd4faa9(0x695));try{await ensureGlobalQuizzesLoaded();const _0x2f51f2=doc(db,_0xd4faa9(0x418)+appId+_0xd4faa9(0xc0f),currentBlueprintProjectId),_0xce5930=await getDoc(_0x2f51f2);if(!_0xce5930[_0xd4faa9(0x6f9)]())return;const _0x300e5f=_0xce5930[_0xd4faa9(0xaff)](),_0x4b4954=_0x300e5f['topics'][_0x370d88];document[_0xd4faa9(0x403)](_0xd4faa9(0x5d4))['textContent']=_0x4b4954[_0xd4faa9(0x432)];const _0x45ef6c=_0x4b4954[_0xd4faa9(0xa30)]||[];_0x2aa3fb[_0xd4faa9(0x67e)][_0xd4faa9(0xcca)](_0xd4faa9(0x17c),_0x45ef6c['length']===0x0),_0x2aa3fb[_0xd4faa9(0x823)]=()=>handleClearAllLinksForTopic(_0x370d88);if(_0x45ef6c[_0xd4faa9(0x6b7)]===0x0)_0x50f2c8[_0xd4faa9(0x86f)]=_0xd4faa9(0x8d9);else{const _0x20e3b0=allQuizzesGlobal[_0xd4faa9(0x9df)](_0xa6815d=>_0x45ef6c[_0xd4faa9(0x801)](_0xa6815d['id']));_0x50f2c8[_0xd4faa9(0x86f)]=_0x20e3b0[_0xd4faa9(0x961)](_0x553dad=>_0xd4faa9(0x88b)+_0x553dad['id']+'\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>'+_0x553dad[_0xd4faa9(0x411)]+_0xd4faa9(0x8e9)+_0x553dad['id']+_0xd4faa9(0xca4)+_0x553dad[_0xd4faa9(0x707)][_0xd4faa9(0x6b7)]+_0xd4faa9(0x890)+_0x553dad['id']+_0xd4faa9(0x5d1)+_0x553dad['id']+_0xd4faa9(0xc7c)+_0x553dad['id']+_0xd4faa9(0x793)+_0x553dad['id']+_0xd4faa9(0x130)+_0x553dad['id']+_0xd4faa9(0x9b2)+_0x553dad['id']+_0xd4faa9(0x350)+_0x370d88+'\x22\x20data-quiz-id=\x22'+_0x553dad['id']+'\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xd4faa9(0xbcc)]('');}document['getElementById'](_0xd4faa9(0x946))[_0xd4faa9(0x823)]=()=>{openQuizSelectorForBlueprint(_0x370d88);},document[_0xd4faa9(0x403)](_0xd4faa9(0x2e0))[_0xd4faa9(0x823)]=()=>_0x29849d[_0xd4faa9(0x67e)][_0xd4faa9(0x7be)](_0xd4faa9(0x17c)),_0x29849d[_0xd4faa9(0x67e)][_0xd4faa9(0x3e9)](_0xd4faa9(0x17c));}catch(_0x5d1af5){showMessage(_0x5d1af5['message']);}}async function openQuizSelectorForBlueprint(_0x2b36b5){const _0x134306=_0x361958,_0x2ab607=document[_0x134306(0x403)](_0x134306(0x1b0)),_0x5c468c=document[_0x134306(0x403)](_0x134306(0x4b6));_0x5c468c[_0x134306(0x67e)]['add']('hidden'),document[_0x134306(0x403)](_0x134306(0x2cc))?.[_0x134306(0x3e9)]();const _0xe5c35b=document[_0x134306(0xccc)](_0x134306(0xaf2));_0xe5c35b['id']=_0x134306(0x2cc),_0xe5c35b['className']=_0x134306(0x1e0),_0xe5c35b['textContent']=_0x134306(0x438),_0xe5c35b['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0x2ab607[_0x134306(0x67e)][_0x134306(0x3e9)](_0x134306(0x17c)),renderQuizBankListForMultiSelect(''),document['getElementById'](_0x134306(0x683))[_0x134306(0x77b)][_0x134306(0xf0)]=_0x134306(0x103),_0x2ab607[_0x134306(0x314)](_0x134306(0xb1e))['appendChild'](_0xe5c35b);const _0x5ac58f=(_0x52b349=![])=>{const _0x51d4ca=_0x134306;_0x2ab607[_0x51d4ca(0x67e)][_0x51d4ca(0x7be)]('hidden'),document[_0x51d4ca(0x403)](_0x51d4ca(0x683))[_0x51d4ca(0x77b)][_0x51d4ca(0xf0)]=_0x51d4ca(0x83e),_0xe5c35b['remove'](),_0x52b349&&openTopicQuizBank(_0x2b36b5);};_0xe5c35b[_0x134306(0x823)]=async()=>{const _0x240edc=_0x134306,_0x21897a=Array['from'](document[_0x240edc(0x2c6)](_0x240edc(0x989)))[_0x240edc(0x961)](_0x1dd484=>_0x1dd484[_0x240edc(0x491)]);if(_0x21897a[_0x240edc(0x6b7)]===0x0)return;try{const _0x5274a6=doc(db,_0x240edc(0x418)+appId+_0x240edc(0xc0f),currentBlueprintProjectId),_0x342b78=(await getDoc(_0x5274a6))['data'](),_0x509415=_0x342b78[_0x240edc(0xb7a)][_0x2b36b5]['linkedQuizIds']||[],_0x1eefd7=[...new Set([..._0x509415,..._0x21897a])];await updateDoc(_0x5274a6,{[_0x240edc(0x37f)+_0x2b36b5+'.linkedQuizIds']:_0x1eefd7}),showMessage(_0x240edc(0x7bb)+_0x21897a['length']+_0x240edc(0xa32)),_0x5ac58f(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3cd348){console['error'](_0x240edc(0xb24),_0x3cd348);}},document[_0x134306(0x403)]('cancel-quiz-bank-btn')[_0x134306(0x823)]=()=>_0x5ac58f(!![]);}catch(_0x6e31dd){showMessage(_0x6e31dd['message']),_0x5c468c[_0x134306(0x67e)]['remove'](_0x134306(0x17c));}}function handleClearLinkedQuiz(_0x3a5c29){const _0x5aae21=_0x361958;showConfirmation(_0x5aae21(0x92b),async()=>{const _0x349c7b=_0x5aae21;try{const _0x47500c=doc(db,'artifacts/'+appId+_0x349c7b(0xc0f),currentBlueprintProjectId);await updateDoc(_0x47500c,{[_0x349c7b(0x37f)+_0x3a5c29+'.linkedQuizId']:deleteField()}),showMessage(_0x349c7b(0x640)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x284e29){console[_0x349c7b(0x51e)](_0x349c7b(0xcb2),_0x284e29),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x3351b8=_0x361958,_0x3d25e1=prompt(_0x3351b8(0xca6));if(!_0x3d25e1||_0x3d25e1[_0x3351b8(0x783)]()==='')return;const _0x30d13f=prompt(_0x3351b8(0x871),_0x3351b8(0x345)),_0xf6ae05=prompt(_0x3351b8(0xce6),_0x3351b8(0xbce)),_0x3a8f62='topic_'+Date[_0x3351b8(0x166)]()+Math['random']()[_0x3351b8(0x292)](0x24)[_0x3351b8(0x8ed)](0x2,0x9),_0xf8f5db={'sara':_0x30d13f,'mainTopic':_0xf6ae05,'subTopic':_0x3d25e1[_0x3351b8(0x783)](),'status':_0x3351b8(0x5fa),'lessonContent':null};try{const _0x268a28=doc(db,'artifacts/'+appId+_0x3351b8(0xc0f),currentBlueprintProjectId);await updateDoc(_0x268a28,{[_0x3351b8(0x37f)+_0x3a8f62]:_0xf8f5db}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x36be23){console[_0x3351b8(0x51e)]('Error\x20adding\x20topic:',_0x36be23),showMessage(_0x3351b8(0x6ae));}}async function editTopicInProject(_0x2dab9a){const _0x208f62=_0x361958,_0xda2f88=document[_0x208f62(0x314)](_0x208f62(0x63e)+_0x2dab9a+'\x22]'),_0x30c7a5=_0xda2f88[_0x208f62(0x314)]('[data-field=\x22subTopic\x22]'),_0x50a58f=_0x30c7a5[_0x208f62(0x317)],_0x2984ad=prompt(_0x208f62(0x733),_0x50a58f);if(!_0x2984ad||_0x2984ad['trim']()===''||_0x2984ad[_0x208f62(0x783)]()===_0x50a58f)return;try{const _0x501b4d=doc(db,_0x208f62(0x418)+appId+_0x208f62(0xc0f),currentBlueprintProjectId);await updateDoc(_0x501b4d,{[_0x208f62(0x37f)+_0x2dab9a+_0x208f62(0x879)]:_0x2984ad[_0x208f62(0x783)]()}),_0x30c7a5['textContent']=_0x2984ad['trim'](),showMessage(_0x208f62(0x185));}catch(_0x198fe6){console[_0x208f62(0x51e)](_0x208f62(0x765),_0x198fe6),showMessage(_0x208f62(0x4e1));}}async function deleteTopicFromProject(_0x30dda6){const _0x3c358a=_0x361958;if(!confirm(_0x3c358a(0xa33)))return;try{const _0x422935=doc(db,_0x3c358a(0x418)+appId+_0x3c358a(0xc0f),currentBlueprintProjectId);await updateDoc(_0x422935,{[_0x3c358a(0x37f)+_0x30dda6]:deleteField()}),document[_0x3c358a(0x314)]('[data-topic-id=\x22'+_0x30dda6+'\x22]')[_0x3c358a(0x3e9)](),showMessage(_0x3c358a(0xaa0));}catch(_0x5e3edf){console['error']('Error\x20deleting\x20topic:',_0x5e3edf),showMessage(_0x3c358a(0x938));}}async function generateAndSaveLessonForBlueprint(_0x4f5c69,_0x5c73cb,_0x2ab147){handleGenerateAndShowLesson(_0x5c73cb,_0x2ab147);const _0xacefb1=setInterval(async()=>{const _0x40b430=_0x3ec8,_0x27aa54=document['getElementById'](_0x40b430(0xc2b)),_0x4f2a7d=_0x27aa54[_0x40b430(0x67e)][_0x40b430(0x322)](_0x40b430(0x17c));if(_0x4f2a7d){clearInterval(_0xacefb1);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0x636ee6={'point':document[_0x40b430(0x403)](_0x40b430(0x7ea))[_0x40b430(0x86f)],'memory':document['getElementById'](_0x40b430(0x433))['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x40b430(0x403)](_0x40b430(0x697))[_0x40b430(0x86f)]};try{const _0xa768c7=doc(db,_0x40b430(0x418)+appId+_0x40b430(0xc0f),currentBlueprintProjectId),_0x12c9bb=doc(db,'artifacts/'+appId+_0x40b430(0x647)+currentBlueprintProjectId+_0x40b430(0x37a),_0x4f5c69),_0x509110=writeBatch(db);_0x509110[_0x40b430(0x3a8)](_0x12c9bb,{'content':_0x636ee6}),_0x509110[_0x40b430(0x975)](_0xa768c7,{[_0x40b430(0x37f)+_0x4f5c69+'.status']:'generated'}),await _0x509110[_0x40b430(0x626)](),console[_0x40b430(0xb07)](_0x40b430(0x1d6)+_0x4f5c69+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x310645){console[_0x40b430(0x51e)]('Error\x20saving\x20lesson\x20to\x20project:',_0x310645);}}}},0x3e8);}function displayHalfMarkResult(_0x1c8030,_0x44b1b1){const _0x2a8d3c=_0x361958,_0x1501f1=_0x1c8030>=_0x44b1b1/0x2,_0x2e423c=_0x1501f1?'bg-green-100':_0x2a8d3c(0xbd9),_0x13e1d4=_0x1501f1?_0x2a8d3c(0x6ca):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x6a58cd=_0x1501f1?_0x2a8d3c(0x43a):_0x2a8d3c(0xfa),_0x30f088=_0x1501f1?_0x2a8d3c(0xa80):_0x2a8d3c(0x80f),_0x5b5b64=_0x1501f1?_0x2a8d3c(0x843):_0x2a8d3c(0x252);let _0x44bd41='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x2e423c+_0x2a8d3c(0xaab)+_0x13e1d4+_0x2a8d3c(0xa55)+_0x6a58cd+_0x2a8d3c(0x649)+_0x30f088+_0x2a8d3c(0xb1a)+_0x5b5b64+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x2a8d3c(0x86f)]=_0x44bd41,studentResultArea[_0x2a8d3c(0x67e)][_0x2a8d3c(0x3e9)](_0x2a8d3c(0x17c)),studentQuizArea['classList'][_0x2a8d3c(0x7be)](_0x2a8d3c(0x17c)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x1501f1});}function displayPerfectScoreResult(_0x5d0553,_0x8481d6){const _0x2f1e7f=_0x361958,_0x4f117e=_0x5d0553===_0x8481d6,_0xde940=_0x4f117e?_0x2f1e7f(0xa29):'bg-blue-100',_0x4a3c5d=_0x4f117e?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x2a2cdc=_0x4f117e?'text-yellow-800':_0x2f1e7f(0x725),_0x48f20c=_0x4f117e?'คะแนนเต็ม!':_0x2f1e7f(0xb89),_0x3da769=_0x4f117e?_0x2f1e7f(0xb90):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0xb5d250='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0xde940+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a3c5d+_0x2f1e7f(0xa55)+_0x2a2cdc+_0x2f1e7f(0x649)+_0x48f20c+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x3da769+_0x2f1e7f(0x392);studentResultArea[_0x2f1e7f(0x86f)]=_0xb5d250,studentResultArea[_0x2f1e7f(0x67e)][_0x2f1e7f(0x3e9)]('hidden'),studentQuizArea[_0x2f1e7f(0x67e)][_0x2f1e7f(0x7be)](_0x2f1e7f(0x17c)),setupResultScreenBackButton({'showRankings':![],'score':_0x5d0553,'totalQuestions':_0x8481d6});}function renderIndividualComparisonTable(_0x71a9f0,_0x1394a9){const _0x898c8b=_0x361958;_0x71a9f0[_0x898c8b(0x2b7)]((_0x37322d,_0x3cbeda)=>(_0x3cbeda[_0x898c8b(0x4c5)]??-Infinity)-(_0x37322d['tGain']??-Infinity));let _0x4c4b49=_0x898c8b(0xa57);_0x71a9f0[_0x898c8b(0x6b7)]===0x0?_0x4c4b49+=_0x898c8b(0xcba):_0x71a9f0['forEach']((_0x591d11,_0x5dcc91)=>{const _0x4149b7=_0x898c8b;let _0x1588af='-',_0x2f85fc='';if(_0x591d11[_0x4149b7(0x8bf)]!==null){const _0xe35749=_0x591d11[_0x4149b7(0x8bf)]>0x0?_0x4149b7(0x123):_0x591d11[_0x4149b7(0x8bf)]<0x0?_0x4149b7(0x116):_0x4149b7(0x2bf),_0x5926ae=_0x591d11[_0x4149b7(0x8bf)]>0x0?'+':'';_0x1588af='<span\x20class=\x22font-bold\x20'+_0xe35749+'\x22>'+_0x5926ae+_0x591d11[_0x4149b7(0x8bf)]+_0x4149b7(0xb55);if(_0x591d11[_0x4149b7(0x8bf)]>0x0)_0x2f85fc=_0x4149b7(0x9aa);else _0x591d11[_0x4149b7(0x8bf)]<0x0?_0x2f85fc=_0x4149b7(0xaa1):_0x2f85fc=_0x4149b7(0x5d0);}let _0x5d9258='-';if(_0x591d11['tGain']!==null){const _0x1ff96f=_0x591d11[_0x4149b7(0x4c5)]>0x0?_0x4149b7(0x123):_0x591d11[_0x4149b7(0x4c5)]<0x0?_0x4149b7(0x116):_0x4149b7(0x2bf),_0x337143=_0x591d11[_0x4149b7(0x4c5)]>0x0?'+':'';_0x5d9258=_0x4149b7(0x4da)+_0x1ff96f+'\x22>'+_0x337143+_0x591d11[_0x4149b7(0x4c5)][_0x4149b7(0x2a0)](0x2)+'</span>';}_0x4c4b49+=_0x4149b7(0x43b)+(_0x5dcc91+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x591d11[_0x4149b7(0x2ea)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x591d11[_0x4149b7(0x7e9)]??'-')+_0x4149b7(0x96d)+(_0x591d11[_0x4149b7(0x851)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x1588af+_0x4149b7(0x57a)+_0x2f85fc+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x591d11['preTScore']?.['toFixed'](0x2)??'-')+_0x4149b7(0x4f6)+(_0x591d11[_0x4149b7(0xac8)]?.[_0x4149b7(0x2a0)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x5d9258+_0x4149b7(0x9e7);}),_0x4c4b49+=_0x898c8b(0x6fb),_0x1394a9['innerHTML']=_0x4c4b49;}function handleRenameQuiz(_0x489fce,_0x52a5b4){const _0x394d7f=_0x361958;actionTargetId=_0x489fce,document['getElementById'](_0x394d7f(0xa71))[_0x394d7f(0x491)]=_0x52a5b4,renameQuizModal[_0x394d7f(0x67e)][_0x394d7f(0x3e9)]('hidden');}function setupComparisonModalTabs(){const _0x42a4bb=_0x361958,_0x1e24a2=document[_0x42a4bb(0x403)](_0x42a4bb(0x7ae)),_0x559e01=document['getElementById'](_0x42a4bb(0x4ab)),_0x5606ef=document['getElementById'](_0x42a4bb(0x319)),_0x2ebe95=document['getElementById'](_0x42a4bb(0xa49));_0x1e24a2[_0x42a4bb(0x224)]('click',()=>{const _0x479201=_0x42a4bb;_0x1e24a2[_0x479201(0x67e)][_0x479201(0x7be)](_0x479201(0x70f)),_0x559e01[_0x479201(0x67e)]['remove'](_0x479201(0x70f)),_0x5606ef[_0x479201(0x67e)][_0x479201(0x3e9)]('hidden'),_0x2ebe95[_0x479201(0x67e)][_0x479201(0x7be)](_0x479201(0x17c));}),_0x559e01[_0x42a4bb(0x224)](_0x42a4bb(0x920),()=>{const _0x3ea869=_0x42a4bb;_0x559e01[_0x3ea869(0x67e)]['add']('active'),_0x1e24a2[_0x3ea869(0x67e)][_0x3ea869(0x3e9)](_0x3ea869(0x70f)),_0x2ebe95[_0x3ea869(0x67e)]['remove']('hidden'),_0x5606ef['classList'][_0x3ea869(0x7be)]('hidden');});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x101fd8=_0x361958;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x361025=doc(db,_0x101fd8(0x418)+appId+_0x101fd8(0xb0c),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x361025,_0x2e3cc8=>{const _0x2f0f8f=_0x101fd8;if(!_0x2e3cc8[_0x2f0f8f(0x6f9)]()){showMessage(_0x2f0f8f(0xadf));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x2f0f8f(0x172)):showView(_0x2f0f8f(0x412));return;}const _0xbe14b=_0x2e3cc8['data']();_0xbe14b[_0x2f0f8f(0x8f6)]&&(currentQuizData=_0xbe14b[_0x2f0f8f(0x8f6)]);!currentQuizData&&_0xbe14b[_0x2f0f8f(0x705)]&&((async()=>{const _0x40f865=_0x2f0f8f;try{const _0x2baa8a=doc(db,_0x40f865(0x418)+appId+'/public/data/quizzes',_0xbe14b['quizId']),_0x366f70=await getDoc(_0x2baa8a);_0x366f70[_0x40f865(0x6f9)]()&&(currentQuizData={'id':_0x366f70['id'],..._0x366f70[_0x40f865(0xaff)]()});}catch(_0x3a9421){console[_0x40f865(0x51e)](_0x40f865(0x3de),_0x3a9421);}})());switch(_0xbe14b[_0x2f0f8f(0x6b5)]){case _0x2f0f8f(0x41c):if(currentMode===_0x2f0f8f(0x5b5)){const _0x5a0042=_0xbe14b[_0x2f0f8f(0x414)]?Object[_0x2f0f8f(0x68a)](_0xbe14b[_0x2f0f8f(0x414)]):[],_0x376e55=_0x5a0042['filter'](([_0x4119ca,_0x2a21ce])=>_0x2a21ce['status']==='active'),_0x508c98=document['getElementById']('player-count');if(_0x508c98)_0x508c98[_0x2f0f8f(0x317)]=_0x376e55[_0x2f0f8f(0x6b7)];const _0x117ca2=document[_0x2f0f8f(0x403)](_0x2f0f8f(0x5d6));_0x117ca2&&(_0x117ca2[_0x2f0f8f(0x86f)]=_0x376e55[_0x2f0f8f(0x961)](([_0x254dcc,_0x199730])=>_0x2f0f8f(0x7ef)+_0x254dcc+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x254dcc+_0x2f0f8f(0x23a))[_0x2f0f8f(0xbcc)](''));const _0xc4ccf7=document['getElementById'](_0x2f0f8f(0x7cc));_0xc4ccf7&&(_0xc4ccf7[_0x2f0f8f(0x79a)]=_0x376e55[_0x2f0f8f(0x6b7)]===0x0);}else showView(_0x2f0f8f(0xb84)),liveGameView[_0x2f0f8f(0x86f)]=_0x2f0f8f(0x34a)+currentStudentName+_0x2f0f8f(0x89f);break;case _0x2f0f8f(0x852):const _0x33bd2c=_0xbe14b[_0x2f0f8f(0x19a)];if(currentQuizData&&currentQuizData[_0x2f0f8f(0x707)][_0x33bd2c]){const _0x594928=currentQuizData[_0x2f0f8f(0x707)][_0x33bd2c],_0x13ac13=_0xbe14b['questionStatus']||'answering';switch(_0x13ac13){case _0x2f0f8f(0x657):currentMode===_0x2f0f8f(0x5b5)?showAdminSummaryView(_0xbe14b,_0x594928):showPlayerSummaryView(_0xbe14b,currentStudentName);break;case'leaderboard':currentMode==='admin'&&showTop5LeaderboardView(_0xbe14b);break;case _0x2f0f8f(0x1e5):default:if(currentMode===_0x2f0f8f(0x5b5)){const _0x4e58c0=writeBatch(db);let _0x4f72dd=![];Object[_0x2f0f8f(0x68a)](_0xbe14b['players'])['forEach'](([_0x64bd44,_0x2bec2f])=>{const _0x5e6381=_0x2f0f8f;if(_0x2bec2f[_0x5e6381(0x6b5)]===_0x5e6381(0x70f)&&_0x2bec2f[_0x5e6381(0x534)]&&!_0x2bec2f['isScored']){_0x4f72dd=!![];const _0x5d7da7=_0x2bec2f['submittedAt'][_0x5e6381(0x10a)]()-_0xbe14b['questionDisplayedAt'][_0x5e6381(0x10a)]();let _0x1dd1f9=0x0;if(_0x2bec2f[_0x5e6381(0x26f)]){const _0x4b141b=0x3e8,_0x3b83d0=0x1f4,_0x5d5d92=0x4e20;let _0x356f70=_0x5d7da7/_0x5d5d92;if(_0x356f70>0x1)_0x356f70=0x1;const _0x3cb816=Math['round'](_0x356f70*_0x3b83d0);_0x1dd1f9=_0x4b141b-_0x3cb816;}const _0x1657a9=doc(db,_0x5e6381(0x418)+appId+_0x5e6381(0xb0c),currentLiveGameId);_0x4e58c0[_0x5e6381(0x975)](_0x1657a9,{[_0x5e6381(0x1d7)+_0x64bd44+_0x5e6381(0x8f5)]:increment(_0x1dd1f9),[_0x5e6381(0x1d7)+_0x64bd44+_0x5e6381(0x8f4)]:_0x1dd1f9,[_0x5e6381(0x1d7)+_0x64bd44+_0x5e6381(0xa01)]:!![]});}});_0x4f72dd&&_0x4e58c0[_0x2f0f8f(0x626)]()['catch'](_0x4f45e3=>console[_0x2f0f8f(0x51e)](_0x2f0f8f(0x545),_0x4f45e3));lastRenderedAdminQuestionIndex!==_0x33bd2c&&(showAdminLiveQuestionView(_0x594928,_0x33bd2c,currentQuizData['questions'][_0x2f0f8f(0x6b7)]),lastRenderedAdminQuestionIndex=_0x33bd2c);const _0x32b9bb=_0xbe14b[_0x2f0f8f(0x414)]||{},_0x24b891=Object[_0x2f0f8f(0x9bd)](_0x32b9bb)[_0x2f0f8f(0x9df)](_0x3c0935=>_0x3c0935[_0x2f0f8f(0x6b5)]===_0x2f0f8f(0x70f)),_0x155e6a=_0x24b891[_0x2f0f8f(0x6b7)],_0xa9be50=_0x24b891[_0x2f0f8f(0x9df)](_0x10015f=>_0x10015f[_0x2f0f8f(0x4bd)]===!![])[_0x2f0f8f(0x6b7)],_0x1f70b3=document[_0x2f0f8f(0x403)]('answer-counter');if(_0x1f70b3)_0x1f70b3[_0x2f0f8f(0x317)]=_0xa9be50+'/'+_0x155e6a;const _0x427da4=document[_0x2f0f8f(0x403)](_0x2f0f8f(0x535));if(_0x427da4){let _0x4e478c=Object[_0x2f0f8f(0x68a)](_0x32b9bb)[_0x2f0f8f(0x9df)](([_0x41ce20,_0x595719])=>_0x595719[_0x2f0f8f(0x6b5)]===_0x2f0f8f(0x70f))['map'](([_0x315d0a,_0x1d2d00])=>{const _0x549eca=_0x2f0f8f,_0x49c396=_0x1d2d00[_0x549eca(0x4bd)]===!![],_0x4810c9=_0x49c396?_0x549eca(0x4a5):'bg-gray-500',_0x56249d=_0x49c396?_0x549eca(0x2be):_0x549eca(0x9dc);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x4810c9+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56249d+_0x549eca(0x125)+_0x315d0a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x315d0a+_0x549eca(0x52d);})['join']('');_0x427da4[_0x2f0f8f(0x86f)]=_0x4e478c||_0x2f0f8f(0xea);}_0x155e6a>0x0&&_0xa9be50===_0x155e6a&&revealAnswerForAdmin(_0x33bd2c,currentQuizData[_0x2f0f8f(0x707)][_0x2f0f8f(0x6b7)]);}else{const _0x2b0473=_0xbe14b['players'][currentStudentName];_0x2b0473&&!_0x2b0473[_0x2f0f8f(0x4bd)]&&showStudentLiveQuestionView(_0x594928,_0x33bd2c,currentQuizData['questions'][_0x2f0f8f(0x6b7)]);}break;}}break;case _0x2f0f8f(0x29c):showPodiumView(_0xbe14b[_0x2f0f8f(0x414)],_0x2f0f8f(0x9d3));break;}});}async function openGlobalActivityModal(){const _0x32af59=_0x361958;if(allQuizzesGlobal[_0x32af59(0x6b7)]===0x0){const _0x5d655a=await getDocs(collection(db,'artifacts/'+appId+_0x32af59(0x34c)));allQuizzesGlobal=_0x5d655a['docs'][_0x32af59(0x961)](_0x4d9f03=>({'id':_0x4d9f03['id'],..._0x4d9f03[_0x32af59(0xaff)]()}));}renderGlobalActivityList(''),document[_0x32af59(0x403)]('global-activity-modal')[_0x32af59(0x67e)]['remove'](_0x32af59(0x17c));}function renderGlobalActivityList(_0x51bd4d=''){const _0x65f131=_0x361958,_0x2fd8c8=document[_0x65f131(0x403)]('global-activity-quiz-list'),_0x44ad1e=_0x51bd4d[_0x65f131(0x985)]()['trim'](),_0x340b0a=allQuizzesGlobal[_0x65f131(0x961)](_0x32c688=>({..._0x32c688,'projectName':allProjects['find'](_0x1f3a63=>_0x1f3a63['id']===_0x32c688[_0x65f131(0x4b4)])?.[_0x65f131(0x3d0)]||'N/A'}))[_0x65f131(0x9df)](_0x978e60=>(_0x978e60[_0x65f131(0x411)]||'')[_0x65f131(0x985)]()[_0x65f131(0x801)](_0x44ad1e)||(_0x978e60['projectName']||'')['toLowerCase']()[_0x65f131(0x801)](_0x44ad1e));document[_0x65f131(0x403)](_0x65f131(0xb7d))[_0x65f131(0x317)]='('+_0x340b0a[_0x65f131(0x6b7)]+'\x20ชุด)',_0x2fd8c8[_0x65f131(0x86f)]=_0x340b0a[_0x65f131(0x6b7)]?_0x340b0a[_0x65f131(0x961)](_0x48d693=>_0x65f131(0xa20)+(_0x48d693[_0x65f131(0x411)]||_0x65f131(0x845))+_0x65f131(0x140)+(_0x48d693[_0x65f131(0x707)]?.[_0x65f131(0x6b7)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x48d693[_0x65f131(0x3d0)]+_0x65f131(0xa7d)+_0x48d693['id']+'\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x48d693['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x48d693['id']+_0x65f131(0x1b7)+_0x48d693['id']+_0x65f131(0xcd))[_0x65f131(0xbcc)](''):_0x65f131(0xa2c);}async function handleKickPlayer(_0x382da6){const _0x36aa94=_0x361958;if(!currentLiveGameId||!_0x382da6)return;const _0x1ec0dc=doc(db,_0x36aa94(0x418)+appId+_0x36aa94(0xb0c),currentLiveGameId),_0x498c31={};_0x498c31[_0x36aa94(0x1d7)+_0x382da6+_0x36aa94(0x121)]=_0x36aa94(0x203);try{await updateDoc(_0x1ec0dc,_0x498c31);}catch(_0x1ced66){console[_0x36aa94(0x51e)](_0x36aa94(0x17e)+_0x382da6+':',_0x1ced66),showMessage(_0x36aa94(0x5e1));}}async function authenticateUser(){const _0x4080de=_0x361958;try{typeof __initial_auth_token!==_0x4080de(0xc9d)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x73c0d0){console['error'](_0x4080de(0xccd),_0x73c0d0),showMessage(_0x4080de(0x1fd));}}function showView(_0x664070){const _0x3e251c=_0x361958;adminView[_0x3e251c(0x67e)][_0x3e251c(0x7be)](_0x3e251c(0x17c)),studentView[_0x3e251c(0x67e)][_0x3e251c(0x7be)](_0x3e251c(0x17c)),projectDashboardView['classList'][_0x3e251c(0x7be)](_0x3e251c(0x17c)),projectDetailView['classList'][_0x3e251c(0x7be)](_0x3e251c(0x17c)),quizResultsView['classList'][_0x3e251c(0x7be)]('hidden'),liveGameView[_0x3e251c(0x67e)]['add']('hidden'),document[_0x3e251c(0x403)]('blueprint-project-manager-view')[_0x3e251c(0x67e)][_0x3e251c(0x7be)](_0x3e251c(0x17c)),studentInitialView[_0x3e251c(0x67e)]['add'](_0x3e251c(0x17c)),studentJoinGameView[_0x3e251c(0x67e)]['add']('hidden'),studentNameSelectionView[_0x3e251c(0x67e)][_0x3e251c(0x7be)](_0x3e251c(0x17c)),studentQuizArea[_0x3e251c(0x67e)]['add'](_0x3e251c(0x17c)),studentResultArea['classList'][_0x3e251c(0x7be)](_0x3e251c(0x17c)),studentReadingArea[_0x3e251c(0x67e)][_0x3e251c(0x7be)]('hidden');const _0x45a975=document[_0x3e251c(0x403)]('student-team-selection-view'),_0x64cf93=document[_0x3e251c(0x403)](_0x3e251c(0x7d3));if(_0x45a975)_0x45a975[_0x3e251c(0x67e)]['add'](_0x3e251c(0x17c));if(_0x64cf93)_0x64cf93[_0x3e251c(0x67e)][_0x3e251c(0x7be)](_0x3e251c(0x17c));switch(_0x664070){case _0x3e251c(0x76d):adminView[_0x3e251c(0x67e)]['remove']('hidden'),projectDashboardView[_0x3e251c(0x67e)][_0x3e251c(0x3e9)](_0x3e251c(0x17c));break;case _0x3e251c(0x172):adminView[_0x3e251c(0x67e)][_0x3e251c(0x3e9)](_0x3e251c(0x17c)),projectDetailView[_0x3e251c(0x67e)][_0x3e251c(0x3e9)]('hidden');break;case _0x3e251c(0x40b):adminView[_0x3e251c(0x67e)]['remove'](_0x3e251c(0x17c)),quizResultsView['classList'][_0x3e251c(0x3e9)]('hidden');break;case _0x3e251c(0x412):studentView[_0x3e251c(0x67e)][_0x3e251c(0x3e9)](_0x3e251c(0x17c)),studentInitialView[_0x3e251c(0x67e)][_0x3e251c(0x3e9)](_0x3e251c(0x17c));break;case _0x3e251c(0xb84):liveGameView['classList']['remove']('hidden');break;case'student-team-join':studentView['classList'][_0x3e251c(0x3e9)]('hidden');if(_0x45a975)_0x45a975[_0x3e251c(0x67e)][_0x3e251c(0x3e9)](_0x3e251c(0x17c));break;case _0x3e251c(0x573):studentView['classList'][_0x3e251c(0x3e9)](_0x3e251c(0x17c));if(_0x64cf93)_0x64cf93[_0x3e251c(0x67e)][_0x3e251c(0x3e9)](_0x3e251c(0x17c));break;default:studentView[_0x3e251c(0x67e)]['remove'](_0x3e251c(0x17c)),studentInitialView[_0x3e251c(0x67e)]['remove']('hidden');break;}}function showJoinGameView(){const _0x4e62d4=_0x361958;studentInitialView[_0x4e62d4(0x67e)][_0x4e62d4(0x7be)](_0x4e62d4(0x17c)),studentJoinGameView[_0x4e62d4(0x67e)][_0x4e62d4(0x3e9)](_0x4e62d4(0x17c));}async function handleSaveVisibilitySettings(){const _0x591777=_0x361958;if(!currentProjectId)return;const _0x11eb39=doc(db,_0x591777(0x418)+appId+_0x591777(0x664),currentProjectId);try{await updateDoc(_0x11eb39,{'settings.showInStudentDashboard':document[_0x591777(0x403)]('show-in-student-dashboard-checkbox')[_0x591777(0x98b)],'settings.isPasscodeEnabled':document[_0x591777(0x403)]('enable-passcode-checkbox')[_0x591777(0x98b)],'settings.passcode':document[_0x591777(0x403)](_0x591777(0x7d6))[_0x591777(0x491)][_0x591777(0x783)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x42190f){console[_0x591777(0x51e)](_0x591777(0x69b),_0x42190f),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x14fcef=_0x361958;document[_0x14fcef(0x403)](_0x14fcef(0x4a4))[_0x14fcef(0x224)]('change',_0x197f88=>{const _0x3a37f0=_0x14fcef;document['getElementById']('sync-timer-duration-container')[_0x3a37f0(0x67e)]['toggle'](_0x3a37f0(0x17c),!_0x197f88[_0x3a37f0(0xe9)][_0x3a37f0(0x98b)]);});const _0x27ee5a=document[_0x14fcef(0x403)]('cancel-confidence-btn'),_0xca4715=document[_0x14fcef(0x403)](_0x14fcef(0x449));_0x27ee5a&&_0xca4715&&_0x27ee5a['addEventListener'](_0x14fcef(0x920),()=>{const _0x567557=_0x14fcef;_0xca4715[_0x567557(0x67e)][_0x567557(0x7be)]('hidden'),_0xca4715[_0x567557(0x8c4)]['currentMode']='';});const _0x1b7d0a=document['getElementById'](_0x14fcef(0x2a3));_0x1b7d0a&&(_0x1b7d0a[_0x14fcef(0x224)](_0x14fcef(0x541),wakeUpScreen),_0x1b7d0a[_0x14fcef(0x224)](_0x14fcef(0x863),wakeUpScreen));document[_0x14fcef(0x403)]('save-bp-reference-btn')[_0x14fcef(0x224)](_0x14fcef(0x920),async()=>{const _0x49b512=_0x14fcef;if(!currentBlueprintProjectId)return;const _0x2e2f3f=document[_0x49b512(0x403)](_0x49b512(0x386))[_0x49b512(0x491)][_0x49b512(0x783)](),_0x430a51=doc(db,_0x49b512(0x418)+appId+_0x49b512(0xc0f),currentBlueprintProjectId);try{await updateDoc(_0x430a51,{'referenceFileUrl':_0x2e2f3f}),showMessage(_0x49b512(0x1b4));}catch(_0x591d5b){console['error'](_0x49b512(0x380),_0x591d5b),showMessage(_0x49b512(0xb3e));}}),document['getElementById'](_0x14fcef(0xc5f))[_0x14fcef(0x224)]('click',handleAddParallelShortcutTab),document['getElementById'](_0x14fcef(0xa62))['addEventListener'](_0x14fcef(0x920),_0x27f203=>{const _0x8b85aa=_0x14fcef;_0x27f203[_0x8b85aa(0xe9)][_0x8b85aa(0x1af)](_0x8b85aa(0x47e))&&(activeParallelShortcutTabId=_0x8b85aa(0x32d),renderAdditionalParallelShortcutsModal(),document['getElementById'](_0x8b85aa(0x6b2))[_0x8b85aa(0x67e)][_0x8b85aa(0x3e9)](_0x8b85aa(0x17c)));}),document[_0x14fcef(0x403)](_0x14fcef(0xc23))['addEventListener'](_0x14fcef(0x920),()=>{const _0x5712a2=_0x14fcef;document[_0x5712a2(0x403)](_0x5712a2(0x6b2))[_0x5712a2(0x67e)][_0x5712a2(0x7be)]('hidden');}),document['addEventListener'](_0x14fcef(0x920),_0x456ce4=>{const _0x483edd=_0x14fcef;!_0x456ce4[_0x483edd(0xe9)]['closest'](_0x483edd(0x1fa))&&document[_0x483edd(0x2c6)]('.move-parallel-shortcut-dropdown')[_0x483edd(0x384)](_0x49ce74=>_0x49ce74['classList'][_0x483edd(0x7be)](_0x483edd(0x17c)));}),document[_0x14fcef(0x403)]('add-file-shortcut-tab-btn')['addEventListener'](_0x14fcef(0x920),handleAddFileShortcutTab),document[_0x14fcef(0x403)]('file-input-area')['addEventListener'](_0x14fcef(0x920),_0x4d53d5=>{const _0x5e8b82=_0x14fcef;_0x4d53d5[_0x5e8b82(0xe9)][_0x5e8b82(0x1af)](_0x5e8b82(0xc85))&&(activeFileShortcutTabId='all',renderAdditionalFileShortcutsModal(),document[_0x5e8b82(0x403)](_0x5e8b82(0x402))[_0x5e8b82(0x67e)][_0x5e8b82(0x3e9)](_0x5e8b82(0x17c)));}),document['getElementById'](_0x14fcef(0x330))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x57327f=_0x14fcef;document[_0x57327f(0x403)](_0x57327f(0x402))[_0x57327f(0x67e)][_0x57327f(0x7be)]('hidden');}),document[_0x14fcef(0x224)](_0x14fcef(0x920),_0x5717cc=>{const _0xbcb710=_0x14fcef;!_0x5717cc['target']['closest'](_0xbcb710(0x8a8))&&document[_0xbcb710(0x2c6)](_0xbcb710(0x543))[_0xbcb710(0x384)](_0x196892=>_0x196892[_0xbcb710(0x67e)][_0xbcb710(0x7be)](_0xbcb710(0x17c)));}),document[_0x14fcef(0x403)]('add-shortcut-tab-btn')['addEventListener'](_0x14fcef(0x920),handleAddShortcutTab),document[_0x14fcef(0x403)](_0x14fcef(0xaa9))[_0x14fcef(0x224)](_0x14fcef(0x920),_0x41d4ef=>{const _0x4f45c8=_0x14fcef,_0x59e4f8=_0x41d4ef[_0x4f45c8(0xe9)][_0x4f45c8(0x1af)]('.parallel-shortcut-btn'),_0x1f6ab6=_0x41d4ef[_0x4f45c8(0xe9)][_0x4f45c8(0x1af)]('.edit-parallel-shortcut-btn'),_0x4a2298=_0x41d4ef[_0x4f45c8(0xe9)][_0x4f45c8(0x1af)](_0x4f45c8(0x8e2));if(_0x1f6ab6)openParallelTestShortcutEditor(_0x1f6ab6[_0x4f45c8(0x8c4)]['id']);else{if(_0x4a2298){const _0x23a2a1=_0x4a2298[_0x4f45c8(0x8c4)]['id'];showConfirmation(_0x4f45c8(0x4be),async()=>{const _0x101ea0=_0x4f45c8,_0x18b334=parallelTestShortcuts[_0x101ea0(0x9df)](_0x3b2f4c=>_0x3b2f4c['id']!==_0x23a2a1),_0x385124=doc(db,_0x101ea0(0x6a2),_0x101ea0(0x8aa));await setDoc(_0x385124,{'shortcuts':_0x18b334},{'merge':!![]});});}else _0x59e4f8&&handleParallelTestShortcutClick(_0x59e4f8['dataset']['id']);}}),document[_0x14fcef(0x403)]('add-parallel-shortcut-btn')[_0x14fcef(0x224)]('click',()=>openParallelTestShortcutEditor(null)),document['getElementById'](_0x14fcef(0x366))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x1ca946=_0x14fcef;document[_0x1ca946(0x403)](_0x1ca946(0x76c))[_0x1ca946(0x67e)][_0x1ca946(0x7be)]('hidden');}),document['getElementById'](_0x14fcef(0x2df))['addEventListener'](_0x14fcef(0x920),saveParallelTestShortcutChanges),document[_0x14fcef(0x403)](_0x14fcef(0xa62))[_0x14fcef(0x224)]('click',_0x237df1=>{const _0xefd385=_0x14fcef;_0x237df1[_0xefd385(0xe9)]['closest'](_0xefd385(0x47e))&&document[_0xefd385(0x403)](_0xefd385(0x6b2))['classList'][_0xefd385(0x3e9)](_0xefd385(0x17c));}),document[_0x14fcef(0x403)](_0x14fcef(0xc23))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x3058a7=_0x14fcef;document[_0x3058a7(0x403)](_0x3058a7(0x6b2))[_0x3058a7(0x67e)][_0x3058a7(0x7be)](_0x3058a7(0x17c));}),document[_0x14fcef(0x403)](_0x14fcef(0x34f))[_0x14fcef(0x224)](_0x14fcef(0x920),_0x5bcb48=>{const _0x194863=_0x14fcef,_0xb7e4f1=document[_0x194863(0x403)](_0x194863(0x6b2)),_0x23c1ca=_0x5bcb48[_0x194863(0xe9)]['closest'](_0x194863(0x374)),_0x111987=_0x5bcb48[_0x194863(0xe9)]['closest'](_0x194863(0x954)),_0x569887=_0x5bcb48[_0x194863(0xe9)][_0x194863(0x1af)](_0x194863(0x9ac));if(_0x23c1ca)_0xb7e4f1[_0x194863(0x67e)]['add']('hidden'),handleParallelTestShortcutClick(_0x23c1ca[_0x194863(0x8c4)]['id']);else{if(_0x111987)_0xb7e4f1[_0x194863(0x67e)]['add'](_0x194863(0x17c)),openParallelTestShortcutEditor(_0x111987[_0x194863(0x8c4)]['id']);else{if(_0x569887){const _0x474ca4=_0x569887['dataset']['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x4e351b=_0x194863,_0x22628c=parallelTestShortcuts[_0x4e351b(0x9df)](_0x5d977c=>_0x5d977c['id']!==_0x474ca4),_0x37e086=doc(db,'globalSettings',_0x4e351b(0x8aa));await setDoc(_0x37e086,{'shortcuts':_0x22628c},{'merge':!![]});});}}}}),document[_0x14fcef(0x403)]('file-shortcut-container')[_0x14fcef(0x224)](_0x14fcef(0x920),_0x4bf6bd=>{const _0x392895=_0x14fcef,_0x1f91dd=_0x4bf6bd[_0x392895(0xe9)][_0x392895(0x1af)](_0x392895(0x5ae)),_0x3f7ff0=_0x4bf6bd[_0x392895(0xe9)][_0x392895(0x1af)]('.edit-file-shortcut-btn'),_0xc8aa95=_0x4bf6bd[_0x392895(0xe9)]['closest'](_0x392895(0x149));if(_0x3f7ff0)openFileShortcutEditor(_0x3f7ff0[_0x392895(0x8c4)]['id']);else{if(_0xc8aa95){const _0x593baf=_0xc8aa95[_0x392895(0x8c4)]['id'];showConfirmation(_0x392895(0x4be),async()=>{const _0x339b3c=_0x392895,_0x564205=fileShortcuts['filter'](_0xfc2619=>_0xfc2619['id']!==_0x593baf),_0x5c643c=doc(db,'globalSettings',_0x339b3c(0x6bb));await setDoc(_0x5c643c,{'shortcuts':_0x564205},{'merge':!![]});});}else _0x1f91dd&&handleFileShortcutClick(_0x1f91dd[_0x392895(0x8c4)]['id']);}}),document[_0x14fcef(0x403)](_0x14fcef(0x3e0))[_0x14fcef(0x224)]('click',()=>openFileShortcutEditor(null)),document[_0x14fcef(0x403)](_0x14fcef(0xae3))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x4773a3=_0x14fcef;document[_0x4773a3(0x403)](_0x4773a3(0x775))[_0x4773a3(0x67e)][_0x4773a3(0x7be)]('hidden');}),document[_0x14fcef(0x403)]('save-file-shortcut-btn')[_0x14fcef(0x224)](_0x14fcef(0x920),saveFileShortcutChanges),document[_0x14fcef(0x403)]('file-input-area')[_0x14fcef(0x224)](_0x14fcef(0x920),_0x36546f=>{const _0x3b8cfa=_0x14fcef;_0x36546f[_0x3b8cfa(0xe9)][_0x3b8cfa(0x1af)](_0x3b8cfa(0xc85))&&document[_0x3b8cfa(0x403)]('additional-file-shortcuts-modal')[_0x3b8cfa(0x67e)][_0x3b8cfa(0x3e9)](_0x3b8cfa(0x17c));}),document[_0x14fcef(0x403)](_0x14fcef(0x330))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x30bbca=_0x14fcef;document[_0x30bbca(0x403)](_0x30bbca(0x402))[_0x30bbca(0x67e)]['add'](_0x30bbca(0x17c));}),document[_0x14fcef(0x403)]('additional-file-shortcuts-list')[_0x14fcef(0x224)]('click',_0x1d1352=>{const _0x24c82d=_0x14fcef,_0x53cf33=document[_0x24c82d(0x403)](_0x24c82d(0x402)),_0xca25e6=_0x1d1352[_0x24c82d(0xe9)]['closest'](_0x24c82d(0x346)),_0x2cc62b=_0x1d1352[_0x24c82d(0xe9)][_0x24c82d(0x1af)](_0x24c82d(0xac9)),_0x5569b9=_0x1d1352[_0x24c82d(0xe9)]['closest'](_0x24c82d(0x8d6));if(_0xca25e6)_0x53cf33[_0x24c82d(0x67e)]['add'](_0x24c82d(0x17c)),handleFileShortcutClick(_0xca25e6[_0x24c82d(0x8c4)]['id']);else{if(_0x2cc62b)_0x53cf33['classList'][_0x24c82d(0x7be)](_0x24c82d(0x17c)),openFileShortcutEditor(_0x2cc62b[_0x24c82d(0x8c4)]['id']);else{if(_0x5569b9){const _0x3ca210=_0x5569b9[_0x24c82d(0x8c4)]['id'];showConfirmation(_0x24c82d(0x4be),async()=>{const _0x5aa134=_0x24c82d,_0x17e157=fileShortcuts[_0x5aa134(0x9df)](_0x28a4a4=>_0x28a4a4['id']!==_0x3ca210),_0x37603a=doc(db,'globalSettings',_0x5aa134(0x6bb));await setDoc(_0x37603a,{'shortcuts':_0x17e157},{'merge':!![]});});}}}}),document[_0x14fcef(0x403)](_0x14fcef(0x214))[_0x14fcef(0x224)](_0x14fcef(0x920),_0x5d8cb4=>{const _0x5a2adc=_0x14fcef;_0x5d8cb4[_0x5a2adc(0xe9)][_0x5a2adc(0x1af)]('#open-additional-shortcuts-btn')&&(activeShortcutTabId='all',renderAdditionalShortcutsModal(),document[_0x5a2adc(0x403)](_0x5a2adc(0x9ba))['classList'][_0x5a2adc(0x3e9)]('hidden'));}),document[_0x14fcef(0x403)](_0x14fcef(0xa77))['addEventListener'](_0x14fcef(0x920),()=>{const _0x527f21=_0x14fcef;document[_0x527f21(0x403)](_0x527f21(0x9ba))[_0x527f21(0x67e)][_0x527f21(0x7be)](_0x527f21(0x17c));}),document['getElementById'](_0x14fcef(0x3c5))[_0x14fcef(0x224)](_0x14fcef(0x920),_0x32a18c=>{const _0xbf5cac=_0x14fcef,_0x40a420=_0x32a18c[_0xbf5cac(0xe9)][_0xbf5cac(0x1af)](_0xbf5cac(0xcbb)),_0x543d07=_0x32a18c[_0xbf5cac(0xe9)][_0xbf5cac(0x1af)](_0xbf5cac(0x94f)),_0x2bb77c=_0x32a18c['target'][_0xbf5cac(0x1af)](_0xbf5cac(0x6c9)),_0x11c168=document['getElementById'](_0xbf5cac(0x9ba));if(_0x40a420)_0x11c168[_0xbf5cac(0x67e)][_0xbf5cac(0x7be)](_0xbf5cac(0x17c)),handleShortcutClick(_0x40a420[_0xbf5cac(0x8c4)]['id']);else{if(_0x543d07)_0x11c168[_0xbf5cac(0x67e)]['add'](_0xbf5cac(0x17c)),openShortcutEditor(_0x543d07[_0xbf5cac(0x8c4)]['id']);else{if(_0x2bb77c){const _0xc09ca8=_0x2bb77c[_0xbf5cac(0x8c4)]['id'],_0x218abd=blueprintShortcuts[_0xbf5cac(0x9f6)](_0x1553c8=>_0x1553c8['id']===_0xc09ca8)?.['name'];showConfirmation(_0xbf5cac(0xb15)+_0x218abd+'\x22?',async()=>{const _0x824a44=_0xbf5cac,_0x19148e=blueprintShortcuts[_0x824a44(0x9df)](_0x1afde0=>_0x1afde0['id']!==_0xc09ca8);try{const _0xcbebfe=doc(db,_0x824a44(0x6a2),_0x824a44(0x968));await setDoc(_0xcbebfe,{'blueprintShortcuts':_0x19148e},{'merge':!![]});}catch(_0x4147d5){console[_0x824a44(0x51e)](_0x824a44(0xd7),_0x4147d5);}});}}}}),document['getElementById']('blueprint-shortcut-container')[_0x14fcef(0x224)](_0x14fcef(0x920),_0x3add34=>{const _0x4bd680=_0x14fcef,_0x1d96cf=_0x3add34[_0x4bd680(0xe9)][_0x4bd680(0x1af)](_0x4bd680(0xcdd)),_0x38b60f=_0x3add34['target'][_0x4bd680(0x1af)](_0x4bd680(0xa2e)),_0x4c8296=_0x3add34[_0x4bd680(0xe9)][_0x4bd680(0x1af)](_0x4bd680(0xf6));if(_0x38b60f)openShortcutEditor(_0x38b60f[_0x4bd680(0x8c4)]['id']);else{if(_0x4c8296){const _0x118d9=_0x4c8296[_0x4bd680(0x8c4)]['id'],_0x55ab9e=blueprintShortcuts[_0x4bd680(0x9f6)](_0x48020c=>_0x48020c['id']===_0x118d9)?.[_0x4bd680(0x2ea)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x55ab9e+'\x22?',async()=>{const _0x47b040=_0x4bd680,_0xa82b0a=blueprintShortcuts[_0x47b040(0x9df)](_0x5f5c93=>_0x5f5c93['id']!==_0x118d9);try{const _0x2f53a5=doc(db,_0x47b040(0x6a2),'dashboardConfig');await setDoc(_0x2f53a5,{'blueprintShortcuts':_0xa82b0a},{'merge':!![]});}catch(_0x7ba6d){console['error'](_0x47b040(0xd7),_0x7ba6d);}});}else _0x1d96cf&&handleShortcutClick(_0x1d96cf[_0x4bd680(0x8c4)]['id']);}}),document['getElementById']('add-shortcut-btn')[_0x14fcef(0x224)](_0x14fcef(0x920),()=>openShortcutEditor(null)),document[_0x14fcef(0x403)](_0x14fcef(0x2f2))['addEventListener'](_0x14fcef(0x920),()=>{const _0x3b2a8b=_0x14fcef;document[_0x3b2a8b(0x403)](_0x3b2a8b(0x865))[_0x3b2a8b(0x67e)]['add']('hidden');}),document[_0x14fcef(0x403)](_0x14fcef(0x727))['addEventListener'](_0x14fcef(0x920),saveShortcutChanges),document[_0x14fcef(0x403)](_0x14fcef(0x9a9))[_0x14fcef(0x224)](_0x14fcef(0x920),async()=>{const _0x957875=_0x14fcef,_0x3954dc=document['getElementById']('blueprint-upload-input'),_0x584765=document[_0x957875(0x403)]('reference-pdf-upload');_0x3954dc[_0x957875(0xb48)][_0x957875(0x6b7)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x3954dc[_0x957875(0xb48)][0x0],_0x584765['files'][0x0]||null):showMessage(_0x957875(0x64c));}),document[_0x14fcef(0x403)](_0x14fcef(0x4b6))['addEventListener'](_0x14fcef(0x920),async _0x33bcc5=>{const _0x3ade10=_0x14fcef,_0x338221=document['getElementById'](_0x3ade10(0x4b6)),_0x3f2f49=_0x33bcc5[_0x3ade10(0xe9)][_0x3ade10(0x1af)](_0x3ade10(0x805)),_0x57a1ca=_0x33bcc5[_0x3ade10(0xe9)][_0x3ade10(0x1af)](_0x3ade10(0x693)),_0xfc1926=_0x33bcc5['target'][_0x3ade10(0x1af)](_0x3ade10(0x4c0)),_0x21f741=_0x33bcc5[_0x3ade10(0xe9)][_0x3ade10(0x1af)]('.bp-try-btn'),_0x29a6b1=_0x33bcc5[_0x3ade10(0xe9)][_0x3ade10(0x1af)](_0x3ade10(0xac5)),_0x391f8b=_0x33bcc5[_0x3ade10(0xe9)][_0x3ade10(0x1af)]('.bp-game-btn');if(_0x3f2f49){cameFromBlueprint=!![];const _0x104d8a=_0x3f2f49['dataset']['quizId'];showQuizDetailView(_0x104d8a),_0x338221[_0x3ade10(0x67e)][_0x3ade10(0x7be)]('hidden');}else{if(_0x57a1ca){const _0x4ce45b=_0x57a1ca[_0x3ade10(0x8c4)][_0x3ade10(0x9c0)],_0x289124=_0x57a1ca[_0x3ade10(0x8c4)]['quizId'],_0x1aaadd=allQuizzesGlobal['find'](_0xd71ddb=>_0xd71ddb['id']===_0x289124),_0x3df390=_0x1aaadd?_0x1aaadd['topic']:'รายการนี้';showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22'+_0x3df390+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x5c8a4d=_0x3ade10;try{const _0x1ba210=doc(db,_0x5c8a4d(0x418)+appId+_0x5c8a4d(0xc0f),currentBlueprintProjectId);await updateDoc(_0x1ba210,{['topics.'+_0x4ce45b+_0x5c8a4d(0x8c5)]:arrayRemove(_0x289124)}),showMessage(_0x5c8a4d(0xa0a)),openTopicQuizBank(_0x4ce45b),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x368c26){console[_0x5c8a4d(0x51e)]('Error\x20unlinking\x20quiz:',_0x368c26),showMessage(_0x5c8a4d(0x34b));}});}else{if(_0xfc1926){cameFromBlueprint=!![];const _0x17d2b2=_0xfc1926[_0x3ade10(0x8c4)][_0x3ade10(0x705)],_0x166da6=allQuizzesGlobal[_0x3ade10(0x9f6)](_0x12b592=>_0x12b592['id']===_0x17d2b2);_0x166da6&&(startPresentation(_0x166da6),_0x338221[_0x3ade10(0x67e)][_0x3ade10(0x7be)](_0x3ade10(0x17c)));}else{if(_0x21f741){cameFromBlueprint=!![];const _0x419cc5=_0x21f741['dataset']['quizId'],_0x3fd2e5=allQuizzesGlobal[_0x3ade10(0x9f6)](_0x49cb7d=>_0x49cb7d['id']===_0x419cc5);_0x3fd2e5&&(currentQuizData=_0x3fd2e5,startAdminTest(),_0x338221[_0x3ade10(0x67e)][_0x3ade10(0x7be)](_0x3ade10(0x17c)));}else{if(_0x29a6b1)cameFromBlueprint=!![],handleStartLiveRace(_0x29a6b1[_0x3ade10(0x8c4)][_0x3ade10(0x705)]),_0x338221[_0x3ade10(0x67e)][_0x3ade10(0x7be)](_0x3ade10(0x17c));else{if(_0x391f8b){cameFromBlueprint=!![];const _0x9c003c=_0x391f8b[_0x3ade10(0x8c4)][_0x3ade10(0x705)],_0x3fe20a=_0x391f8b['dataset']['mode'],_0x42b4e5=allQuizzesGlobal['find'](_0x25578b=>_0x25578b['id']===_0x9c003c);_0x42b4e5&&(showGameStartConfirmationModal(_0x9c003c,_0x3fe20a,_0x42b4e5['topic']),_0x338221[_0x3ade10(0x67e)][_0x3ade10(0x7be)](_0x3ade10(0x17c)));}}}}}}}),document[_0x14fcef(0x403)](_0x14fcef(0x6c0))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x5aa335=_0x14fcef;document['getElementById']('manual-blueprint-modal')['classList']['remove']('hidden'),document['getElementById'](_0x5aa335(0x70a))[_0x5aa335(0x491)]='',document['getElementById'](_0x5aa335(0x9a4))[_0x5aa335(0x491)]='',document[_0x5aa335(0x403)](_0x5aa335(0xcec))[_0x5aa335(0x491)]='';}),document['getElementById'](_0x14fcef(0xb0b))['addEventListener'](_0x14fcef(0x920),()=>{const _0x3de306=_0x14fcef;document[_0x3de306(0x403)]('manual-blueprint-modal')[_0x3de306(0x67e)][_0x3de306(0x7be)]('hidden');}),document[_0x14fcef(0x403)]('confirm-manual-bp-btn')[_0x14fcef(0x224)](_0x14fcef(0x920),handleManualBlueprintSave),document[_0x14fcef(0x403)](_0x14fcef(0x4e4))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>document[_0x14fcef(0x403)]('blueprint-settings-modal')['classList'][_0x14fcef(0x7be)]('hidden')),document['getElementById'](_0x14fcef(0x607))[_0x14fcef(0x224)](_0x14fcef(0x920),handleSaveBlueprintPageSettings),document[_0x14fcef(0x403)](_0x14fcef(0x2ce))[_0x14fcef(0x224)](_0x14fcef(0x920),openBlueprintQuizSettings),document[_0x14fcef(0x403)](_0x14fcef(0xcf9))[_0x14fcef(0x224)]('click',saveBlueprintProject),document[_0x14fcef(0x403)](_0x14fcef(0x370))[_0x14fcef(0x224)](_0x14fcef(0x920),showBlueprintProjects),document[_0x14fcef(0x403)](_0x14fcef(0xade))[_0x14fcef(0x224)]('click',()=>{const _0x5975ec=_0x14fcef;document[_0x5975ec(0x403)](_0x5975ec(0x453))['classList'][_0x5975ec(0x7be)](_0x5975ec(0x17c));}),document['getElementById'](_0x14fcef(0xbb4))[_0x14fcef(0x224)](_0x14fcef(0x920),_0x1661c8=>{const _0x13af70=_0x14fcef,_0x749620=_0x1661c8['target'][_0x13af70(0x1af)]('.open-bp-project-btn'),_0x397a4a=_0x1661c8[_0x13af70(0xe9)][_0x13af70(0x1af)](_0x13af70(0x820));if(_0x749620)displayBlueprintProjectManager(_0x749620[_0x13af70(0x8c4)]['id']);else _0x397a4a&&handleDeepDeleteBlueprintProject(_0x397a4a[_0x13af70(0x8c4)]['id']);}),document[_0x14fcef(0x403)](_0x14fcef(0x663))['addEventListener'](_0x14fcef(0x920),()=>{const _0x126c64=_0x14fcef;currentBlueprintProjectId=null,currentProjectId=null,document[_0x126c64(0x403)](_0x126c64(0x5d5))[_0x126c64(0x67e)]['add']('hidden'),showView(_0x126c64(0x76d));}),document[_0x14fcef(0x403)]('bp-add-topic-btn')[_0x14fcef(0x224)](_0x14fcef(0x920),addTopicToProject),document[_0x14fcef(0x403)]('bp-topic-list-container')['addEventListener'](_0x14fcef(0x920),async _0x867d04=>{const _0x561dae=_0x14fcef,_0x108808=_0x867d04[_0x561dae(0xe9)][_0x561dae(0x1af)](_0x561dae(0x49d));if(!_0x108808)return;const _0x7048ba=_0x108808[_0x561dae(0x8c4)]['topicId'],_0x4f3f91=_0x867d04[_0x561dae(0xe9)][_0x561dae(0x1af)](_0x561dae(0xafa)),_0xddcad4=_0x867d04[_0x561dae(0xe9)]['closest'](_0x561dae(0xaaa)),_0x1426ad=_0x867d04[_0x561dae(0xe9)][_0x561dae(0x1af)]('.bp-create-topic-quiz-btn'),_0x1190a8=_0x867d04[_0x561dae(0xe9)][_0x561dae(0x1af)]('.bp-open-topic-bank-btn'),_0x321ded=_0x867d04[_0x561dae(0xe9)][_0x561dae(0x1af)](_0x561dae(0x4ba)),_0x99ac98=_0x867d04[_0x561dae(0xe9)][_0x561dae(0x1af)](_0x561dae(0x6df)),_0x3562b8=_0x867d04[_0x561dae(0xe9)]['closest']('.bp-edit-topic-btn'),_0xaaeee6=_0x867d04[_0x561dae(0xe9)][_0x561dae(0x1af)]('.bp-delete-topic-btn'),_0x41543a=_0x1be256=>{const _0x4aaf6a=_0x561dae,_0x2efcfb=_0x1be256['querySelector'](_0x4aaf6a(0x87b))[_0x4aaf6a(0x317)]['trim'](),_0x125596=_0x1be256['closest'](_0x4aaf6a(0x460))[_0x4aaf6a(0x127)],_0x409d63=_0x125596?_0x125596[_0x4aaf6a(0x317)][_0x4aaf6a(0x783)]():'';return _0x409d63+':\x20'+_0x2efcfb;};if(_0x1190a8)openTopicQuizBank(_0x7048ba);else{if(_0x4f3f91){const _0xc5db1=_0x41543a(_0x108808);selectProjectAndGenerateBlueprintQuiz(_0xc5db1,null,_0x7048ba,!![]);}else{if(_0xddcad4){const _0x4d370f=_0x41543a(_0x108808);try{const _0x3d74c9=doc(db,_0x561dae(0x418)+appId+_0x561dae(0x647)+currentBlueprintProjectId+_0x561dae(0x37a),_0x7048ba),_0x45e0da=await getDoc(_0x3d74c9);if(_0x45e0da[_0x561dae(0x6f9)]()){const _0x349c2a=_0x45e0da[_0x561dae(0xaff)]()[_0x561dae(0x1ab)],_0x2283e6=document[_0x561dae(0xccc)](_0x561dae(0x528)),_0x3df6fd=_0x254d5c=>{const _0x5ae709=_0x561dae;if(!_0x254d5c)return'';return _0x2283e6[_0x5ae709(0x86f)]=_0x254d5c,_0x2283e6[_0x5ae709(0x317)]||_0x2283e6['innerText']||'';},_0x30a80a=(_0x3df6fd(_0x349c2a[_0x561dae(0x33b)])+'\x20'+_0x3df6fd(_0x349c2a[_0x561dae(0x220)])+'\x20'+_0x3df6fd(_0x349c2a[_0x561dae(0xb6e)]))[_0x561dae(0x783)]();selectProjectAndGenerateBlueprintQuiz(_0x4d370f,_0x30a80a,_0x7048ba,![]);}else showMessage(_0x561dae(0xad0));}catch(_0x2af257){console[_0x561dae(0x51e)](_0x561dae(0x6af),_0x2af257),showMessage(_0x561dae(0x2eb));}}else{if(_0x1426ad){const _0x3a7b93=_0x41543a(_0x108808);selectProjectAndGenerateBlueprintQuiz(_0x3a7b93,null,_0x7048ba,![]);}else{if(_0x321ded){const _0x57fc58=doc(db,_0x561dae(0x418)+appId+_0x561dae(0xc0f),currentBlueprintProjectId),_0x1298db=await getDoc(_0x57fc58);if(_0x1298db[_0x561dae(0x6f9)]()){const _0x3cb2a9=_0x1298db[_0x561dae(0xaff)](),_0xa4e0fa=_0x3cb2a9[_0x561dae(0xb7a)][_0x7048ba];if(_0xa4e0fa&&_0xa4e0fa[_0x561dae(0x6b5)]===_0x561dae(0xbba))try{const _0x33f307=doc(db,'artifacts/'+appId+_0x561dae(0x647)+currentBlueprintProjectId+'/lessons',_0x7048ba),_0xe0aec1=await getDoc(_0x33f307);if(_0xe0aec1[_0x561dae(0x6f9)]()){const _0x3837d5=_0xe0aec1[_0x561dae(0xaff)]()[_0x561dae(0x1ab)];document['getElementById'](_0x561dae(0xac7))[_0x561dae(0x317)]=_0x561dae(0x82d)+_0x41543a(_0x108808),document[_0x561dae(0x403)](_0x561dae(0x7ea))[_0x561dae(0x86f)]=_0x3837d5[_0x561dae(0x33b)],document[_0x561dae(0x403)]('memoryContent')[_0x561dae(0x86f)]=_0x3837d5['memory'],document[_0x561dae(0x403)](_0x561dae(0x697))['innerHTML']=_0x3837d5[_0x561dae(0xb6e)];const _0x2c7f67=document[_0x561dae(0x403)](_0x561dae(0x1a3));_0x3837d5[_0x561dae(0xca3)]?(currentApplicationData=_0x3837d5[_0x561dae(0xca3)],_0x2c7f67[_0x561dae(0x86f)]=currentApplicationData[_0x561dae(0x961)]((_0x5afec7,_0x332ae1)=>_0x561dae(0x30a)+(_0x332ae1+0x1)+'.\x20'+marked[_0x561dae(0x6c7)](_0x5afec7[_0x561dae(0x852)])+'</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x332ae1+_0x561dae(0x7d7)+_0x5afec7[_0x561dae(0x6a5)][_0x561dae(0x961)]((_0x15341f,_0x3cad28)=>_0x561dae(0xa12)+_0x332ae1+',\x20'+_0x3cad28+_0x561dae(0x45d)+String['fromCharCode'](0x61+_0x3cad28)+'.\x20'+marked[_0x561dae(0x6c7)](_0x15341f)+_0x561dae(0x486))[_0x561dae(0xbcc)]('')+'</div></div>')[_0x561dae(0xbcc)]('')):(currentApplicationData=[],_0x2c7f67[_0x561dae(0x86f)]=_0x3837d5['applicationHTML']||_0x3837d5['application']),document['getElementById']('lesson-loader')[_0x561dae(0x67e)][_0x561dae(0x7be)]('hidden'),document[_0x561dae(0x403)](_0x561dae(0x180))[_0x561dae(0x67e)][_0x561dae(0x3e9)]('hidden'),document[_0x561dae(0x403)](_0x561dae(0xc2b))[_0x561dae(0x67e)][_0x561dae(0x3e9)]('hidden'),window[_0x561dae(0xaeb)]&&MathJax['typesetPromise']([document[_0x561dae(0x403)](_0x561dae(0xa4d))]);}else showMessage(_0x561dae(0x31e));}catch(_0x2c9c7e){console[_0x561dae(0x51e)]('Error\x20fetching\x20lesson\x20content:',_0x2c9c7e),showMessage(_0x561dae(0x16a));}else showMessage(_0x561dae(0x295));}}else{if(_0x99ac98){const _0x16668f=_0x41543a(_0x108808),_0x4e3d6e=doc(db,_0x561dae(0x418)+appId+_0x561dae(0xc0f),currentBlueprintProjectId),_0x1539f6=await getDoc(_0x4e3d6e);if(_0x1539f6[_0x561dae(0x6f9)]()){const _0x4cbc30=_0x1539f6['data']();generateAndSaveLessonForBlueprint(_0x7048ba,_0x16668f,_0x4cbc30['gradeLevel']);}}else{if(_0x3562b8)editTopicInProject(_0x7048ba);else _0xaaeee6&&deleteTopicFromProject(_0x7048ba);}}}}}}}),document[_0x14fcef(0x403)]('fix-lesson-latex-btn')[_0x14fcef(0x224)]('click',handleFixLessonLatex),document[_0x14fcef(0x403)](_0x14fcef(0x1ca))[_0x14fcef(0x224)](_0x14fcef(0x920),handleExportLessonToPDF),document[_0x14fcef(0x403)](_0x14fcef(0xe6))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x4f9a0d=_0x14fcef;document[_0x4f9a0d(0x403)](_0x4f9a0d(0xc2b))[_0x4f9a0d(0x67e)][_0x4f9a0d(0x7be)](_0x4f9a0d(0x17c));});const _0x4bebf9=document[_0x14fcef(0x403)](_0x14fcef(0x43d)),_0x48b107=document[_0x14fcef(0x403)](_0x14fcef(0x750));_0x4bebf9['addEventListener'](_0x14fcef(0x7cd),()=>{const _0x1b94fd=_0x14fcef;_0x48b107[_0x1b94fd(0x67e)][_0x1b94fd(0xcca)](_0x1b94fd(0x17c),!_0x4bebf9[_0x1b94fd(0x98b)]);});const _0x5a6ba0=document['getElementById'](_0x14fcef(0x234)),_0x56f852=document['getElementById'](_0x14fcef(0xcb8));_0x5a6ba0[_0x14fcef(0x224)](_0x14fcef(0x7cd),()=>{const _0x505d70=_0x14fcef;_0x56f852[_0x505d70(0x67e)][_0x505d70(0xcca)](_0x505d70(0x17c),!_0x5a6ba0[_0x505d70(0x98b)]);});const _0x1474de=document[_0x14fcef(0x403)](_0x14fcef(0xa7f)),_0x56dc2f=document[_0x14fcef(0x403)]('modal-confidence-mode-container');_0x1474de[_0x14fcef(0x224)]('change',()=>{const _0x1b80ff=_0x14fcef;_0x56dc2f[_0x1b80ff(0x67e)][_0x1b80ff(0xcca)](_0x1b80ff(0x17c),!_0x1474de[_0x1b80ff(0x98b)]);});const _0x1dba10=document[_0x14fcef(0x403)]('confidence-modal'),_0xb0dbcc=async _0x53fe39=>{const _0x3406ec=_0x14fcef,_0x28ea54=document[_0x3406ec(0x403)](_0x3406ec(0x449)),_0x23df03=_0x28ea54['dataset']['currentMode'],_0x29cc7a=document[_0x3406ec(0x403)]('selected-answer-index-hidden');_0x28ea54[_0x3406ec(0x67e)][_0x3406ec(0x7be)](_0x3406ec(0x17c));if(_0x23df03===_0x3406ec(0x82a)){const _0x2020ed=_0x29cc7a[_0x3406ec(0x491)],_0x1a3250={'answer':_0x2020ed,'wasConfident':_0x53fe39};proceedToNextQuestion(_0x1a3250);}else{if(_0x23df03===_0x3406ec(0x18e)){const _0x1196bf=_0x29cc7a['dataset'][_0x3406ec(0x67d)],_0x288b6b=JSON['parse'](_0x29cc7a[_0x3406ec(0x8c4)][_0x3406ec(0x852)]),_0x34cc9b=JSON[_0x3406ec(0xa51)](_0x29cc7a[_0x3406ec(0x8c4)][_0x3406ec(0x55f)]),_0x1763cb=_0x29cc7a[_0x3406ec(0x8c4)][_0x3406ec(0x928)];handleSyncAnswerSubmit(_0x1196bf,_0x288b6b,_0x34cc9b,_0x1763cb,_0x53fe39);}}_0x28ea54['dataset']['currentMode']='';};document[_0x14fcef(0x403)](_0x14fcef(0xb63))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>_0xb0dbcc(!![])),document['getElementById'](_0x14fcef(0x142))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>_0xb0dbcc(![])),liveGameView['addEventListener'](_0x14fcef(0x920),_0x2e11dc=>{const _0x469527=_0x14fcef,_0x49afdb=_0x2e11dc['target']['closest'](_0x469527(0x850));if(_0x49afdb){const _0x2011ff=_0x49afdb[_0x469527(0x8c4)][_0x469527(0x928)];_0x2011ff&&handleKickPlayerSync(_0x2011ff);}});const _0x49d89a=document['getElementById'](_0x14fcef(0x95c)),_0x5d1bf4=document[_0x14fcef(0x403)](_0x14fcef(0xc98));_0x5d1bf4[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x36b5ef=_0x14fcef;document['getElementById'](_0x36b5ef(0x3ff))['classList'][_0x36b5ef(0x7be)](_0x36b5ef(0x17c));}),_0x49d89a[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x34d854=_0x14fcef,_0x2f12b5=document[_0x34d854(0x403)](_0x34d854(0x18b))[_0x34d854(0x491)],_0x59dfab=document[_0x34d854(0x403)]('game-start-mode')[_0x34d854(0x491)],_0x558a51=document[_0x34d854(0x403)](_0x34d854(0x6d9))[_0x34d854(0x98b)];document[_0x34d854(0x403)](_0x34d854(0x3ff))[_0x34d854(0x67e)][_0x34d854(0x7be)](_0x34d854(0x17c));switch(_0x59dfab){case'live-race':handleStartLiveRace(_0x2f12b5,_0x558a51);break;case _0x34d854(0x352):handleStartTeamQuiz(_0x2f12b5,_0x558a51);break;case _0x34d854(0xa85):handleStartGroupMode(_0x2f12b5,_0x558a51);break;case _0x34d854(0x18e):const _0x2d2840=document[_0x34d854(0x314)]('input[name=\x22syncVariant\x22]:checked')['value']||_0x34d854(0x306);handleStartSyncMode(_0x2f12b5,_0x558a51,_0x2d2840);break;}}),document[_0x14fcef(0x403)](_0x14fcef(0x4e2))[_0x14fcef(0x224)](_0x14fcef(0x920),handleJoinGroupActivity),liveGameView[_0x14fcef(0x224)]('click',_0x4956c8=>{const _0x2c71e5=_0x14fcef,_0x2b2fac=_0x4956c8[_0x2c71e5(0xe9)]['closest']('.summary-bar-item');document[_0x2c71e5(0x2c6)]('.live-summary-tooltip.visible')[_0x2c71e5(0x384)](_0x5642bc=>{const _0x1faf9b=_0x2c71e5;(!_0x2b2fac||_0x5642bc['id']!==_0x2b2fac[_0x1faf9b(0x8c4)]['tooltipTarget'])&&_0x5642bc[_0x1faf9b(0x67e)][_0x1faf9b(0x3e9)]('visible');});if(!_0x2b2fac)return;const _0x1d1eed=_0x2b2fac[_0x2c71e5(0x8c4)][_0x2c71e5(0x799)],_0x55db0a=document[_0x2c71e5(0x403)](_0x1d1eed);_0x55db0a&&_0x55db0a[_0x2c71e5(0x67e)][_0x2c71e5(0xcca)](_0x2c71e5(0x2a2));}),liveGameView[_0x14fcef(0x224)](_0x14fcef(0x920),_0x407c05=>{const _0x51c5b0=_0x14fcef;if(_0x407c05[_0x51c5b0(0xe9)]['classList'][_0x51c5b0(0x322)](_0x51c5b0(0x2b4))){const _0xf29be=_0x407c05[_0x51c5b0(0xe9)]['dataset']['playerName'];_0xf29be&&handleKickPlayer(_0xf29be);}}),document[_0x14fcef(0x403)]('project-title')['addEventListener'](_0x14fcef(0x447),()=>document['getElementById'](_0x14fcef(0x524))['classList'][_0x14fcef(0x3e9)](_0x14fcef(0x17c))),document[_0x14fcef(0x403)](_0x14fcef(0x524))['addEventListener']('click',handleSaveProjectName),document[_0x14fcef(0x403)](_0x14fcef(0xb70))[_0x14fcef(0x224)](_0x14fcef(0xbe5),_0x56355c=>{const _0x3c279d=_0x14fcef;_0x56355c['key']===_0x3c279d(0x74a)&&(_0x56355c[_0x3c279d(0x27f)](),_0x56355c[_0x3c279d(0xe9)][_0x3c279d(0x729)](),handleSaveProjectName());}),document[_0x14fcef(0x403)](_0x14fcef(0x683))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x3365f=_0x14fcef;document[_0x3365f(0x403)](_0x3365f(0xbfb))[_0x3365f(0x67e)]['remove'](_0x3365f(0x17c));}),document[_0x14fcef(0x403)](_0x14fcef(0xa84))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x3cdbab=_0x14fcef;document['getElementById'](_0x3cdbab(0xbfb))[_0x3cdbab(0x67e)][_0x3cdbab(0x7be)]('hidden');}),document[_0x14fcef(0x403)](_0x14fcef(0x8ea))[_0x14fcef(0x224)](_0x14fcef(0x920),handleBulkUpdateQuizSettings),document['getElementById'](_0x14fcef(0x8fa))[_0x14fcef(0x224)](_0x14fcef(0x920),handleModeSwitch),document['getElementById']('update-old-quizzes-btn')['addEventListener'](_0x14fcef(0x920),handleUpdateOldQuizzes),document['getElementById'](_0x14fcef(0x300))[_0x14fcef(0x224)]('click',handleResetProjectOrder),document['getElementById'](_0x14fcef(0x943))['addEventListener'](_0x14fcef(0x920),handleSaveVisibilitySettings),document['getElementById']('add-custom-math-topic-btn')[_0x14fcef(0x224)]('click',handleAddCustomMathTopic),document[_0x14fcef(0x403)](_0x14fcef(0x712))['addEventListener']('click',handleSelectAllTopics),document['getElementById'](_0x14fcef(0x191))[_0x14fcef(0x224)](_0x14fcef(0x920),handleDeselectAllTopics),document['getElementById'](_0x14fcef(0xbaf))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x39a938=_0x14fcef;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x39a938(0x76d));}}),document['getElementById'](_0x14fcef(0x36a))[_0x14fcef(0x224)]('click',()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}}),document['getElementById'](_0x14fcef(0xca7))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{showView('admin-dashboard');}),document[_0x14fcef(0x403)](_0x14fcef(0xb22))['addEventListener'](_0x14fcef(0x920),()=>{const _0x8ae194=_0x14fcef;messageModal[_0x8ae194(0x67e)][_0x8ae194(0x7be)](_0x8ae194(0x17c)),typeof modalConfirmAction===_0x8ae194(0xceb)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x14fcef(0x403)]('create-project-btn')[_0x14fcef(0x224)](_0x14fcef(0x920),()=>createProjectModal[_0x14fcef(0x67e)]['remove'](_0x14fcef(0x17c))),document[_0x14fcef(0x403)]('cancel-create-project-btn')[_0x14fcef(0x224)](_0x14fcef(0x920),()=>createProjectModal['classList']['add'](_0x14fcef(0x17c))),document['getElementById'](_0x14fcef(0x698))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>adminPasswordModal[_0x14fcef(0x67e)]['add']('hidden')),document[_0x14fcef(0x403)](_0x14fcef(0xb58))['addEventListener'](_0x14fcef(0x920),handleAdminLogin),document[_0x14fcef(0x403)](_0x14fcef(0xc7b))[_0x14fcef(0x224)](_0x14fcef(0x9c3),_0x6913ff=>{const _0x870b6e=_0x14fcef;if(_0x6913ff[_0x870b6e(0x50e)]===_0x870b6e(0x74a))handleAdminLogin();}),document['getElementById'](_0x14fcef(0x217))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x4605b6=_0x14fcef;confirmationModal[_0x4605b6(0x67e)][_0x4605b6(0x7be)]('hidden'),confirmAction=null;}),document['getElementById'](_0x14fcef(0x376))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0xd169cf=_0x14fcef;confirmAction&&confirmAction(),confirmationModal[_0xd169cf(0x67e)][_0xd169cf(0x7be)](_0xd169cf(0x17c)),confirmAction=null;}),document[_0x14fcef(0x403)](_0x14fcef(0xc80))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>renameQuizModal[_0x14fcef(0x67e)]['add']('hidden')),document[_0x14fcef(0x403)](_0x14fcef(0x563))[_0x14fcef(0x224)](_0x14fcef(0x920),confirmRenameQuiz),document[_0x14fcef(0x403)]('cancel-move-quiz-btn')[_0x14fcef(0x224)](_0x14fcef(0x920),()=>moveQuizModal[_0x14fcef(0x67e)][_0x14fcef(0x7be)](_0x14fcef(0x17c))),document['getElementById'](_0x14fcef(0x8e8))[_0x14fcef(0x224)](_0x14fcef(0x920),confirmMoveQuiz),document[_0x14fcef(0x403)]('cancel-quiz-settings-btn')[_0x14fcef(0x224)]('click',()=>quizSettingsModal[_0x14fcef(0x67e)][_0x14fcef(0x7be)](_0x14fcef(0x17c))),document[_0x14fcef(0x403)]('confirm-quiz-settings-btn')[_0x14fcef(0x224)](_0x14fcef(0x920),confirmQuizSettings),document['getElementById'](_0x14fcef(0x6aa))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>quizStatusModal[_0x14fcef(0x67e)][_0x14fcef(0x7be)](_0x14fcef(0x17c))),document[_0x14fcef(0x403)](_0x14fcef(0xcd8))[_0x14fcef(0x224)](_0x14fcef(0x920),confirmQuizStatus);const _0x4dc145=document[_0x14fcef(0x403)](_0x14fcef(0xb54));document[_0x14fcef(0x403)](_0x14fcef(0x930))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x25baca=_0x14fcef;_0x4dc145[_0x25baca(0x67e)][_0x25baca(0x7be)]('hidden');}),document['getElementById'](_0x14fcef(0x797))[_0x14fcef(0x224)](_0x14fcef(0x920),async()=>{const _0x276f1f=_0x14fcef,_0x28e14c=allQuizzes[_0x276f1f(0x9f6)](_0x2f1bca=>_0x2f1bca['id']===actionTargetId);_0x28e14c?(currentQuizData=_0x28e14c,exportQuizAsWorksheetPDF()):showMessage(_0x276f1f(0x82c)),_0x4dc145[_0x276f1f(0x67e)][_0x276f1f(0x7be)](_0x276f1f(0x17c));}),document[_0x14fcef(0x403)](_0x14fcef(0x19c))['addEventListener']('click',async()=>{const _0xe2f89f=_0x14fcef,_0x21f523=allQuizzes['find'](_0x485d1b=>_0x485d1b['id']===actionTargetId);_0x21f523?(currentQuizData=_0x21f523,exportQuizAsTutorPDF()):showMessage(_0xe2f89f(0x82c)),_0x4dc145[_0xe2f89f(0x67e)][_0xe2f89f(0x7be)]('hidden');});const _0x10bc28=document[_0x14fcef(0x403)]('open-global-live-btn');_0x10bc28['innerHTML']=_0x14fcef(0x737),_0x10bc28[_0x14fcef(0x224)](_0x14fcef(0x920),openGlobalActivityModal),document['getElementById'](_0x14fcef(0x814))['addEventListener']('click',()=>{const _0x36bb03=_0x14fcef;document[_0x36bb03(0x403)](_0x36bb03(0xa0f))[_0x36bb03(0x67e)][_0x36bb03(0x7be)](_0x36bb03(0x17c));}),document['getElementById'](_0x14fcef(0xbe4))[_0x14fcef(0x224)](_0x14fcef(0x68c),_0x35e987=>{const _0x1333b6=_0x14fcef;renderGlobalActivityList(_0x35e987[_0x1333b6(0xe9)][_0x1333b6(0x491)]);}),document[_0x14fcef(0x403)]('global-activity-quiz-list')[_0x14fcef(0x224)](_0x14fcef(0x920),_0x22428c=>{const _0x58b189=_0x14fcef,_0x49ce72=_0x22428c[_0x58b189(0xe9)][_0x58b189(0x1af)]('.game-start-btn');if(!_0x49ce72)return;const _0x4b4fec=_0x49ce72[_0x58b189(0x8c4)]['id'],_0x15f91e=_0x49ce72[_0x58b189(0x8c4)][_0x58b189(0xcc5)],_0x39be23=allQuizzesGlobal[_0x58b189(0x9f6)](_0x2f8c4b=>_0x2f8c4b['id']===_0x4b4fec);_0x39be23&&(document['getElementById'](_0x58b189(0xa0f))[_0x58b189(0x67e)][_0x58b189(0x7be)](_0x58b189(0x17c)),_0x15f91e===_0x58b189(0x9d3)?handleStartLiveRace(_0x4b4fec):showGameStartConfirmationModal(_0x4b4fec,_0x15f91e,_0x39be23[_0x58b189(0x411)]));}),document[_0x14fcef(0x403)](_0x14fcef(0x405))[_0x14fcef(0x224)]('input',renderProjects),document[_0x14fcef(0x403)]('project-sort-select')[_0x14fcef(0x224)](_0x14fcef(0x7cd),async()=>{const _0x1bbc32=_0x14fcef,_0x56bcd0=document[_0x1bbc32(0x403)](_0x1bbc32(0x85a))[_0x1bbc32(0x491)],_0x5e2c04=doc(db,_0x1bbc32(0x6a2),_0x1bbc32(0x968));try{await setDoc(_0x5e2c04,{'projectSort':_0x56bcd0},{'merge':!![]});}catch(_0x175726){console[_0x1bbc32(0x51e)](_0x1bbc32(0x832),_0x175726),showMessage(_0x1bbc32(0x3a4));}}),document[_0x14fcef(0x403)]('quiz-search-input')['addEventListener'](_0x14fcef(0x68c),renderQuizzes),document[_0x14fcef(0x403)](_0x14fcef(0x584))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x17aa90=_0x14fcef;globalDashboardSettings['projectView']=_0x17aa90(0xcbe),saveUserPreference(_0x17aa90(0x6ed),'grid'),renderProjects();}),document[_0x14fcef(0x403)](_0x14fcef(0x73e))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x4636b2=_0x14fcef;globalDashboardSettings[_0x4636b2(0x6ed)]='list',saveUserPreference(_0x4636b2(0x6ed),_0x4636b2(0x37c)),renderProjects();}),manageTab['addEventListener'](_0x14fcef(0x920),()=>switchProjectTab('manage')),resultsTab[_0x14fcef(0x224)](_0x14fcef(0x920),()=>switchProjectTab(_0x14fcef(0x536))),leaderboardTab[_0x14fcef(0x224)](_0x14fcef(0x920),()=>switchProjectTab(_0x14fcef(0x38f))),document[_0x14fcef(0x403)](_0x14fcef(0x228))['addEventListener']('click',()=>switchQuizDetailTab(_0x14fcef(0xa6d))),document[_0x14fcef(0x403)]('scores-tab-btn')['addEventListener'](_0x14fcef(0x920),()=>switchQuizDetailTab(_0x14fcef(0x36e))),document[_0x14fcef(0x403)](_0x14fcef(0xc31))['addEventListener'](_0x14fcef(0x920),()=>switchQuizDetailTab(_0x14fcef(0x694))),document[_0x14fcef(0x403)]('behavior-log-tab-btn')['addEventListener'](_0x14fcef(0x920),()=>switchQuizDetailTab(_0x14fcef(0xc4d))),document[_0x14fcef(0x403)](_0x14fcef(0x3df))[_0x14fcef(0x224)](_0x14fcef(0x920),handleAnalyzeClass),generateWorksheetBtn[_0x14fcef(0x224)](_0x14fcef(0x920),generateWorksheet);const _0x310120=document[_0x14fcef(0x403)](_0x14fcef(0xca5)),_0x20702b=document[_0x14fcef(0x403)](_0x14fcef(0xc3e)),_0x419edc=document[_0x14fcef(0x403)](_0x14fcef(0xa66)),_0x25b412=document['getElementById'](_0x14fcef(0x214)),_0x4b8c17=document['getElementById']('parallel-test-tab'),_0x2eb5b7=document[_0x14fcef(0x403)](_0x14fcef(0xa62));topicTab['addEventListener']('click',()=>{const _0xee5592=_0x14fcef;topicTab[_0xee5592(0x67e)]['add'](_0xee5592(0x70f)),textTab[_0xee5592(0x67e)][_0xee5592(0x3e9)](_0xee5592(0x70f)),fileTab['classList']['remove']('active'),worksheetTab[_0xee5592(0x67e)][_0xee5592(0x3e9)](_0xee5592(0x70f));if(_0x310120)_0x310120[_0xee5592(0x67e)][_0xee5592(0x3e9)](_0xee5592(0x70f));if(_0x419edc)_0x419edc[_0xee5592(0x67e)][_0xee5592(0x3e9)](_0xee5592(0x70f));if(_0x4b8c17)_0x4b8c17[_0xee5592(0x67e)][_0xee5592(0x3e9)](_0xee5592(0x70f));topicInputArea['classList'][_0xee5592(0x3e9)](_0xee5592(0x17c)),textInputArea[_0xee5592(0x67e)]['add'](_0xee5592(0x17c)),fileInputArea['classList'][_0xee5592(0x7be)](_0xee5592(0x17c)),worksheetInputArea[_0xee5592(0x67e)][_0xee5592(0x7be)]('hidden');if(_0x20702b)_0x20702b[_0xee5592(0x67e)]['add']('hidden');if(_0x25b412)_0x25b412[_0xee5592(0x67e)][_0xee5592(0x7be)](_0xee5592(0x17c));if(_0x2eb5b7)_0x2eb5b7[_0xee5592(0x67e)][_0xee5592(0x7be)](_0xee5592(0x17c));}),textTab['addEventListener']('click',()=>{const _0x5787b4=_0x14fcef;textTab[_0x5787b4(0x67e)][_0x5787b4(0x7be)](_0x5787b4(0x70f)),topicTab['classList'][_0x5787b4(0x3e9)](_0x5787b4(0x70f)),fileTab[_0x5787b4(0x67e)]['remove']('active'),worksheetTab['classList'][_0x5787b4(0x3e9)](_0x5787b4(0x70f));if(_0x310120)_0x310120[_0x5787b4(0x67e)][_0x5787b4(0x3e9)](_0x5787b4(0x70f));if(_0x419edc)_0x419edc[_0x5787b4(0x67e)][_0x5787b4(0x3e9)](_0x5787b4(0x70f));if(_0x4b8c17)_0x4b8c17[_0x5787b4(0x67e)][_0x5787b4(0x3e9)](_0x5787b4(0x70f));textInputArea[_0x5787b4(0x67e)][_0x5787b4(0x3e9)]('hidden'),topicInputArea[_0x5787b4(0x67e)][_0x5787b4(0x7be)](_0x5787b4(0x17c)),fileInputArea[_0x5787b4(0x67e)][_0x5787b4(0x7be)](_0x5787b4(0x17c)),worksheetInputArea[_0x5787b4(0x67e)]['add'](_0x5787b4(0x17c));if(_0x20702b)_0x20702b[_0x5787b4(0x67e)][_0x5787b4(0x7be)]('hidden');if(_0x25b412)_0x25b412[_0x5787b4(0x67e)][_0x5787b4(0x7be)](_0x5787b4(0x17c));if(_0x2eb5b7)_0x2eb5b7['classList'][_0x5787b4(0x7be)](_0x5787b4(0x17c));}),fileTab['addEventListener'](_0x14fcef(0x920),()=>{const _0x2928ee=_0x14fcef;fileTab[_0x2928ee(0x67e)][_0x2928ee(0x7be)](_0x2928ee(0x70f)),topicTab[_0x2928ee(0x67e)][_0x2928ee(0x3e9)](_0x2928ee(0x70f)),textTab[_0x2928ee(0x67e)][_0x2928ee(0x3e9)]('active'),worksheetTab[_0x2928ee(0x67e)][_0x2928ee(0x3e9)](_0x2928ee(0x70f));if(_0x310120)_0x310120[_0x2928ee(0x67e)][_0x2928ee(0x3e9)]('active');if(_0x419edc)_0x419edc[_0x2928ee(0x67e)][_0x2928ee(0x3e9)](_0x2928ee(0x70f));if(_0x4b8c17)_0x4b8c17['classList']['remove'](_0x2928ee(0x70f));fileInputArea[_0x2928ee(0x67e)][_0x2928ee(0x3e9)](_0x2928ee(0x17c)),topicInputArea[_0x2928ee(0x67e)][_0x2928ee(0x7be)](_0x2928ee(0x17c)),textInputArea[_0x2928ee(0x67e)][_0x2928ee(0x7be)]('hidden'),worksheetInputArea[_0x2928ee(0x67e)][_0x2928ee(0x7be)]('hidden');if(_0x20702b)_0x20702b[_0x2928ee(0x67e)]['add'](_0x2928ee(0x17c));if(_0x25b412)_0x25b412[_0x2928ee(0x67e)][_0x2928ee(0x7be)](_0x2928ee(0x17c));if(_0x2eb5b7)_0x2eb5b7[_0x2928ee(0x67e)]['add']('hidden');}),worksheetTab[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x29c607=_0x14fcef;worksheetTab[_0x29c607(0x67e)][_0x29c607(0x7be)](_0x29c607(0x70f)),topicTab['classList'][_0x29c607(0x3e9)]('active'),textTab[_0x29c607(0x67e)][_0x29c607(0x3e9)](_0x29c607(0x70f)),fileTab[_0x29c607(0x67e)][_0x29c607(0x3e9)]('active');if(_0x310120)_0x310120['classList'][_0x29c607(0x3e9)](_0x29c607(0x70f));if(_0x419edc)_0x419edc[_0x29c607(0x67e)][_0x29c607(0x3e9)]('active');if(_0x4b8c17)_0x4b8c17[_0x29c607(0x67e)][_0x29c607(0x3e9)](_0x29c607(0x70f));worksheetInputArea['classList'][_0x29c607(0x3e9)](_0x29c607(0x17c)),topicInputArea[_0x29c607(0x67e)][_0x29c607(0x7be)](_0x29c607(0x17c)),textInputArea[_0x29c607(0x67e)][_0x29c607(0x7be)]('hidden'),fileInputArea[_0x29c607(0x67e)][_0x29c607(0x7be)](_0x29c607(0x17c));if(_0x20702b)_0x20702b['classList'][_0x29c607(0x7be)](_0x29c607(0x17c));if(_0x25b412)_0x25b412[_0x29c607(0x67e)][_0x29c607(0x7be)]('hidden');if(_0x2eb5b7)_0x2eb5b7[_0x29c607(0x67e)]['add'](_0x29c607(0x17c));});const _0x5ce3cb=document[_0x14fcef(0x403)](_0x14fcef(0xc69)),_0x4b3521=document[_0x14fcef(0x403)](_0x14fcef(0x38e));_0x5ce3cb&&_0x5ce3cb['addEventListener'](_0x14fcef(0x920),()=>{const _0x3b45b9=_0x14fcef;topicTab[_0x3b45b9(0x67e)][_0x3b45b9(0x3e9)](_0x3b45b9(0x70f)),textTab[_0x3b45b9(0x67e)][_0x3b45b9(0x3e9)](_0x3b45b9(0x70f)),fileTab[_0x3b45b9(0x67e)][_0x3b45b9(0x3e9)](_0x3b45b9(0x70f)),worksheetTab['classList']['remove'](_0x3b45b9(0x70f));if(_0x310120)_0x310120[_0x3b45b9(0x67e)][_0x3b45b9(0x3e9)](_0x3b45b9(0x70f));if(_0x419edc)_0x419edc['classList'][_0x3b45b9(0x3e9)](_0x3b45b9(0x70f));if(_0x4b8c17)_0x4b8c17[_0x3b45b9(0x67e)][_0x3b45b9(0x3e9)]('active');_0x5ce3cb[_0x3b45b9(0x67e)][_0x3b45b9(0x7be)](_0x3b45b9(0x70f)),topicInputArea[_0x3b45b9(0x67e)][_0x3b45b9(0x7be)](_0x3b45b9(0x17c)),textInputArea['classList'][_0x3b45b9(0x7be)](_0x3b45b9(0x17c)),fileInputArea['classList'][_0x3b45b9(0x7be)](_0x3b45b9(0x17c)),worksheetInputArea[_0x3b45b9(0x67e)]['add']('hidden');if(_0x20702b)_0x20702b[_0x3b45b9(0x67e)][_0x3b45b9(0x7be)](_0x3b45b9(0x17c));if(_0x25b412)_0x25b412[_0x3b45b9(0x67e)][_0x3b45b9(0x7be)](_0x3b45b9(0x17c));if(_0x2eb5b7)_0x2eb5b7[_0x3b45b9(0x67e)]['add'](_0x3b45b9(0x17c));_0x4b3521[_0x3b45b9(0x67e)][_0x3b45b9(0x3e9)]('hidden'),displayQuestionBank();});_0x310120&&(_0x310120['addEventListener'](_0x14fcef(0x920),()=>{const _0x5653d5=_0x14fcef;_0x310120['classList']['add'](_0x5653d5(0x70f)),topicTab[_0x5653d5(0x67e)][_0x5653d5(0x3e9)](_0x5653d5(0x70f)),textTab['classList'][_0x5653d5(0x3e9)]('active'),fileTab[_0x5653d5(0x67e)]['remove'](_0x5653d5(0x70f)),worksheetTab[_0x5653d5(0x67e)]['remove'](_0x5653d5(0x70f));if(_0x419edc)_0x419edc[_0x5653d5(0x67e)][_0x5653d5(0x3e9)]('active');if(_0x4b8c17)_0x4b8c17[_0x5653d5(0x67e)][_0x5653d5(0x3e9)](_0x5653d5(0x70f));_0x20702b['classList']['remove']('hidden'),topicInputArea[_0x5653d5(0x67e)][_0x5653d5(0x7be)](_0x5653d5(0x17c)),textInputArea[_0x5653d5(0x67e)]['add'](_0x5653d5(0x17c)),fileInputArea[_0x5653d5(0x67e)][_0x5653d5(0x7be)](_0x5653d5(0x17c)),worksheetInputArea[_0x5653d5(0x67e)][_0x5653d5(0x7be)](_0x5653d5(0x17c));if(_0x25b412)_0x25b412[_0x5653d5(0x67e)][_0x5653d5(0x7be)](_0x5653d5(0x17c));if(_0x2eb5b7)_0x2eb5b7['classList'][_0x5653d5(0x7be)](_0x5653d5(0x17c));}),document[_0x14fcef(0x403)]('generate-from-link-btn')[_0x14fcef(0x224)](_0x14fcef(0x920),handleGenerateFromLink));_0x419edc&&_0x419edc[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0xe49a3d=_0x14fcef;_0x419edc['classList'][_0xe49a3d(0x7be)](_0xe49a3d(0x70f)),topicTab['classList'][_0xe49a3d(0x3e9)](_0xe49a3d(0x70f)),textTab['classList'][_0xe49a3d(0x3e9)](_0xe49a3d(0x70f)),fileTab[_0xe49a3d(0x67e)]['remove']('active'),worksheetTab[_0xe49a3d(0x67e)][_0xe49a3d(0x3e9)](_0xe49a3d(0x70f));if(_0x310120)_0x310120['classList'][_0xe49a3d(0x3e9)](_0xe49a3d(0x70f));if(_0x5ce3cb)_0x5ce3cb['classList'][_0xe49a3d(0x3e9)]('active');if(_0x4b8c17)_0x4b8c17[_0xe49a3d(0x67e)][_0xe49a3d(0x3e9)](_0xe49a3d(0x70f));_0x25b412[_0xe49a3d(0x67e)][_0xe49a3d(0x3e9)]('hidden'),topicInputArea[_0xe49a3d(0x67e)]['add'](_0xe49a3d(0x17c)),textInputArea[_0xe49a3d(0x67e)]['add'](_0xe49a3d(0x17c)),fileInputArea[_0xe49a3d(0x67e)]['add'](_0xe49a3d(0x17c)),worksheetInputArea[_0xe49a3d(0x67e)][_0xe49a3d(0x7be)]('hidden');if(_0x20702b)_0x20702b['classList']['add'](_0xe49a3d(0x17c));if(_0x4b3521)_0x4b3521[_0xe49a3d(0x67e)][_0xe49a3d(0x7be)](_0xe49a3d(0x17c));if(_0x2eb5b7)_0x2eb5b7[_0xe49a3d(0x67e)]['add']('hidden');});_0x4b8c17&&_0x4b8c17[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x222668=_0x14fcef;_0x4b8c17['classList'][_0x222668(0x7be)](_0x222668(0x70f)),topicTab[_0x222668(0x67e)]['remove'](_0x222668(0x70f)),textTab[_0x222668(0x67e)][_0x222668(0x3e9)](_0x222668(0x70f)),fileTab[_0x222668(0x67e)][_0x222668(0x3e9)](_0x222668(0x70f)),worksheetTab[_0x222668(0x67e)][_0x222668(0x3e9)](_0x222668(0x70f));if(_0x310120)_0x310120[_0x222668(0x67e)][_0x222668(0x3e9)](_0x222668(0x70f));if(_0x419edc)_0x419edc[_0x222668(0x67e)]['remove'](_0x222668(0x70f));if(_0x5ce3cb)_0x5ce3cb[_0x222668(0x67e)][_0x222668(0x3e9)](_0x222668(0x70f));_0x2eb5b7['classList'][_0x222668(0x3e9)](_0x222668(0x17c)),topicInputArea[_0x222668(0x67e)][_0x222668(0x7be)](_0x222668(0x17c)),textInputArea[_0x222668(0x67e)][_0x222668(0x7be)](_0x222668(0x17c)),fileInputArea[_0x222668(0x67e)][_0x222668(0x7be)]('hidden'),worksheetInputArea[_0x222668(0x67e)][_0x222668(0x7be)]('hidden');if(_0x20702b)_0x20702b[_0x222668(0x67e)]['add']('hidden');if(_0x25b412)_0x25b412[_0x222668(0x67e)][_0x222668(0x7be)](_0x222668(0x17c));if(_0x4b3521)_0x4b3521['classList'][_0x222668(0x7be)](_0x222668(0x17c));});const _0x34fb9e=document['getElementById'](_0x14fcef(0x30b)),_0xcef39a=document['getElementById'](_0x14fcef(0x9a9));if(_0x34fb9e){const _0x734eda=document[_0x14fcef(0x403)](_0x14fcef(0x30b)),_0x1430f6=document[_0x14fcef(0x403)]('generate-from-blueprint-btn'),_0x583928=document['getElementById'](_0x14fcef(0x7e6)),_0x1d9899=document['getElementById'](_0x14fcef(0x2e3)),_0xdc8f1f=document[_0x14fcef(0x403)](_0x14fcef(0x4f8)),_0x1f3b42=document[_0x14fcef(0x403)](_0x14fcef(0x2c7));_0x734eda&&_0x734eda['addEventListener']('change',async _0x2f9ef6=>{const _0x379ab7=_0x14fcef;_0x583928[_0x379ab7(0x67e)][_0x379ab7(0x7be)](_0x379ab7(0x17c)),_0xdc8f1f[_0x379ab7(0x67e)][_0x379ab7(0x7be)](_0x379ab7(0x17c)),_0x1d9899['checked']=![],_0x1430f6[_0x379ab7(0x79a)]=!![];const _0x19075f=_0x2f9ef6[_0x379ab7(0xe9)][_0x379ab7(0xb48)][0x0];if(_0x19075f){_0x1430f6[_0x379ab7(0x79a)]=![];try{const _0x44690b=await extractTextFromPdf(_0x19075f);await analyzeBlueprintForTopics(_0x44690b);}catch(_0x6bd5c8){showMessage(_0x379ab7(0x8fc)),_0x583928[_0x379ab7(0x67e)][_0x379ab7(0x7be)](_0x379ab7(0x17c));}}}),_0x1d9899&&_0x1d9899[_0x14fcef(0x224)](_0x14fcef(0x7cd),_0x3d264d=>{const _0x442515=_0x14fcef,_0x3774c0=_0x3d264d[_0x442515(0xe9)][_0x442515(0x98b)];_0xdc8f1f[_0x442515(0x67e)][_0x442515(0xcca)](_0x442515(0x17c),!_0x3774c0),_0x1430f6['disabled']=_0x3774c0;}),_0x1f3b42&&(_0x1f3b42&&_0x1f3b42[_0x14fcef(0x224)]('click',_0x1b3a03=>{const _0x10a9aa=_0x14fcef,_0x1f711e=_0x1b3a03['target'][_0x10a9aa(0x1af)](_0x10a9aa(0x9b7)),_0x319603=_0x1b3a03[_0x10a9aa(0xe9)][_0x10a9aa(0x1af)]('.generate-content-btn');if(_0x1f711e){const _0x5c7b7f=unescape(_0x1f711e[_0x10a9aa(0x8c4)]['topic']);generateQuizForSingleTopic(_0x5c7b7f);}else{if(_0x319603){const _0x438519=unescape(_0x319603[_0x10a9aa(0x8c4)]['topic']);handleGenerateTeachingContent(_0x438519);}}}));}_0xcef39a&&_0xcef39a[_0x14fcef(0x224)](_0x14fcef(0x920),handleGenerateFromBlueprint);const _0x2076f5=document[_0x14fcef(0x403)](_0x14fcef(0x264)),_0x22b6c8=document[_0x14fcef(0x403)](_0x14fcef(0xabd));_0x2076f5&&_0x2076f5[_0x14fcef(0x224)](_0x14fcef(0x7cd),_0x33d359=>{const _0x3628a9=_0x14fcef;_0x22b6c8[_0x3628a9(0x79a)]=_0x33d359[_0x3628a9(0xe9)][_0x3628a9(0xb48)]['length']===0x0;});_0x22b6c8&&_0x22b6c8[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x14fcef(0x224)]('click',handleLoadQuiz),startQuizBtn[_0x14fcef(0x224)](_0x14fcef(0x920),async()=>{const _0x4137d5=_0x14fcef,_0x181852=document[_0x4137d5(0x403)](_0x4137d5(0x265));currentStudentName=_0x181852[_0x4137d5(0x491)];if(!currentStudentName){showMessage(_0x4137d5(0xcee));return;}try{const _0x1888d3=currentQuizData['id'],_0x57af8c=doc(db,'artifacts/'+appId+_0x4137d5(0xa18)+_0x1888d3+_0x4137d5(0x7dc),currentStudentName),_0x2a0e6e=await getDoc(_0x57af8c);!_0x2a0e6e[_0x4137d5(0x6f9)]()?await setDoc(_0x57af8c,{'studentName':currentStudentName,'startedAt':new Date()[_0x4137d5(0x31c)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x57af8c,{'startedAt':new Date()[_0x4137d5(0x31c)]()});}catch(_0x6c69a3){console['error'](_0x4137d5(0xb19),_0x6c69a3),showMessage(_0x4137d5(0x991));return;}studentNameSelectionView['classList']['add'](_0x4137d5(0x17c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x14fcef(0x403)]('join-live-game-btn')[_0x14fcef(0x224)](_0x14fcef(0x920),showJoinGameView),document['getElementById'](_0x14fcef(0xa9c))[_0x14fcef(0x224)](_0x14fcef(0x920),handleJoinLiveGame),document[_0x14fcef(0x403)](_0x14fcef(0xc84))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>showView(_0x14fcef(0x412)));const _0x13cad6=()=>{const _0xffa0e8=_0x14fcef,_0x20dfcc=document[_0xffa0e8(0x403)](_0xffa0e8(0x19e))[_0xffa0e8(0x317)][_0xffa0e8(0x46f)](/[^a-z0-9]/gi,'_')[_0xffa0e8(0x985)]();return _0xffa0e8(0x5c3)+(_0x20dfcc||_0xffa0e8(0x85b));},_0x3a904a=document['getElementById'](_0x14fcef(0x9ab));_0x3a904a&&_0x3a904a[_0x14fcef(0x224)](_0x14fcef(0x68c),_0x52ab7d=>{const _0x2fbd0f=_0x14fcef,_0x4da3fa=_0x52ab7d[_0x2fbd0f(0xe9)][_0x2fbd0f(0x491)][_0x2fbd0f(0x985)]()[_0x2fbd0f(0x783)](),_0x4b83b7=document[_0x2fbd0f(0x403)](_0x2fbd0f(0x469)),_0x392344=_0x4b83b7[_0x2fbd0f(0x2c6)](_0x2fbd0f(0x3f0));_0x392344[_0x2fbd0f(0x384)](_0x33f0a6=>{const _0x1e85ea=_0x2fbd0f;let _0x64e14c=![];const _0x4f0ff8=_0x33f0a6[_0x1e85ea(0x2c6)]('.topic-row');_0x4f0ff8[_0x1e85ea(0x384)](_0x2a701c=>{const _0x4ca7c8=_0x1e85ea,_0x11e72a=_0x2a701c[_0x4ca7c8(0x314)](_0x4ca7c8(0x11b))['textContent'][_0x4ca7c8(0x985)]();_0x11e72a[_0x4ca7c8(0x801)](_0x4da3fa)?(_0x2a701c['style'][_0x4ca7c8(0xf0)]=_0x4ca7c8(0x83e),_0x64e14c=!![]):_0x2a701c[_0x4ca7c8(0x77b)][_0x4ca7c8(0xf0)]=_0x4ca7c8(0x103);}),_0x64e14c?_0x33f0a6[_0x1e85ea(0x77b)]['display']=_0x1e85ea(0x168):_0x33f0a6[_0x1e85ea(0x77b)][_0x1e85ea(0xf0)]=_0x1e85ea(0x103);});});document[_0x14fcef(0x403)](_0x14fcef(0x1c1))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>exportTableAsImage(_0x14fcef(0x945),_0x13cad6())),document[_0x14fcef(0x403)](_0x14fcef(0x46d))[_0x14fcef(0x224)]('click',()=>exportTableAsPDF(_0x14fcef(0x81d),_0x13cad6())),document[_0x14fcef(0x403)](_0x14fcef(0x8be))[_0x14fcef(0x224)]('click',()=>exportTableAsWord(_0x14fcef(0x945),_0x13cad6())),document['getElementById']('export-excel-btn')[_0x14fcef(0x224)](_0x14fcef(0x920),()=>exportTableAsExcel('results-table',_0x13cad6()));const _0x1a351e=()=>{const _0x255af2=_0x14fcef,_0x4b648b=document[_0x255af2(0x403)](_0x255af2(0x19e))[_0x255af2(0x317)][_0x255af2(0x46f)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'leaderboard_'+(_0x4b648b||_0x255af2(0x85b));};document[_0x14fcef(0x403)](_0x14fcef(0x27b))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>exportTableAsImage(_0x14fcef(0x9ec),_0x1a351e())),document[_0x14fcef(0x403)](_0x14fcef(0x364))[_0x14fcef(0x224)]('click',()=>exportTableAsPDF(_0x14fcef(0x71e),_0x1a351e())),document['getElementById'](_0x14fcef(0x6ef))[_0x14fcef(0x224)]('click',()=>exportTableAsWord(_0x14fcef(0x9ec),_0x1a351e())),document[_0x14fcef(0x403)](_0x14fcef(0x8a4))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>exportTableAsExcel(_0x14fcef(0x71e),_0x1a351e())),projectQuizzesList[_0x14fcef(0x224)](_0x14fcef(0x920),async _0x1eaf65=>{const _0x28a978=_0x14fcef,_0x2027a2=_0x1eaf65['target'][_0x28a978(0x1af)](_0x28a978(0xba4)),_0x22964a=_0x1eaf65[_0x28a978(0xe9)][_0x28a978(0x1af)](_0x28a978(0x68e)),_0x485bcb=_0x1eaf65['target'][_0x28a978(0x1af)](_0x28a978(0x8d4)),_0x57258d=_0x1eaf65['target'][_0x28a978(0x1af)](_0x28a978(0x15b)),_0x227291=_0x1eaf65[_0x28a978(0xe9)][_0x28a978(0x1af)](_0x28a978(0x19d)),_0x1415ed=_0x1eaf65[_0x28a978(0xe9)][_0x28a978(0x1af)]('.copy-quiz-id-list-btn'),_0x37d368=_0x1eaf65['target'][_0x28a978(0x1af)](_0x28a978(0x387)),_0x5bbd48=_0x1eaf65['target'][_0x28a978(0x1af)]('.quiz-settings-btn'),_0x263753=_0x1eaf65['target'][_0x28a978(0x1af)](_0x28a978(0x6f4)),_0x135453=_0x1eaf65[_0x28a978(0xe9)][_0x28a978(0x1af)](_0x28a978(0x576)),_0x2808f9=_0x1eaf65[_0x28a978(0xe9)][_0x28a978(0x1af)]('.parallel-quiz-btn'),_0x414776=_0x1eaf65['target'][_0x28a978(0x1af)]('.move-quiz-btn'),_0x11b0ad=_0x1eaf65['target'][_0x28a978(0x1af)]('.pair-quiz-btn'),_0x1b4d10=_0x1eaf65[_0x28a978(0xe9)][_0x28a978(0x1af)](_0x28a978(0xa95)),_0xce6fd5=_0x1eaf65[_0x28a978(0xe9)][_0x28a978(0x1af)](_0x28a978(0xc08)),_0x592b43=_0x1eaf65[_0x28a978(0xe9)][_0x28a978(0x1af)](_0x28a978(0x2ff)),_0x5c3752=_0x1eaf65['target'][_0x28a978(0x1af)](_0x28a978(0x827)),_0xd492e4=_0x1eaf65[_0x28a978(0xe9)]['closest'](_0x28a978(0xced)),_0x322948=_0x1eaf65[_0x28a978(0xe9)]['closest']('.quiz-status-btn'),_0xc6694d=_0x1eaf65['target']['closest'](_0x28a978(0x25c)),_0x2e5440=_0x1eaf65[_0x28a978(0xe9)]['closest']('.generate-easy-version-btn'),_0x45cc49=_0x1eaf65['target']['closest'](_0x28a978(0x91a)),_0x5f528c=_0x1eaf65['target'][_0x28a978(0x1af)](_0x28a978(0x189));if(_0x45cc49){const _0x54a7b3=_0x45cc49[_0x28a978(0x8c4)][_0x28a978(0x705)],_0x2465af=_0x45cc49[_0x28a978(0x8c4)][_0x28a978(0xcc5)],_0x1e00ca=allQuizzes['find'](_0x4f6fbf=>_0x4f6fbf['id']===_0x54a7b3);_0x1e00ca&&showGameStartConfirmationModal(_0x54a7b3,_0x2465af,_0x1e00ca[_0x28a978(0x411)]);}else{if(_0x5f528c){const _0x64dd5f=_0x5f528c[_0x28a978(0x8c4)][_0x28a978(0x705)];handleStartLiveRace(_0x64dd5f);}else{if(_0xc6694d){const _0x1657ba=_0xc6694d[_0x28a978(0x8c4)][_0x28a978(0x705)],_0x586866=document[_0x28a978(0x403)](_0x28a978(0x204)+_0x1657ba);_0x586866&&_0x586866['classList'][_0x28a978(0xcca)](_0x28a978(0x17c));}else{if(_0x22964a){const _0x508f6c=_0x22964a[_0x28a978(0x8c4)][_0x28a978(0x705)],_0x11351d=allQuizzes[_0x28a978(0x9f6)](_0x6c30cd=>_0x6c30cd['id']===_0x508f6c);_0x11351d&&handleGenerateParallelPostTest(_0x11351d);}else{if(_0x485bcb)handleCompareResults(_0x485bcb['dataset'][_0x28a978(0x705)],_0x485bcb['dataset'][_0x28a978(0xb60)]);else{if(_0x57258d){const _0x4f612f=_0x57258d[_0x28a978(0x8c4)]['quizId'],_0x2a8975=allQuizzes[_0x28a978(0x9f6)](_0x2f4afa=>_0x2f4afa['id']===_0x4f612f);_0x2a8975&&_0x2a8975[_0x28a978(0x5b6)]?(displayLessonPlan(_0x2a8975[_0x28a978(0x5b6)],_0x2a8975),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x4f612f)),document[_0x28a978(0x403)](_0x28a978(0x9bb))[_0x28a978(0x314)]('h3')['textContent']=_0x28a978(0xf8),document[_0x28a978(0x403)](_0x28a978(0x376))[_0x28a978(0x317)]='สร้างใหม่'):handleGenerateLessonPlan(_0x4f612f);}else{if(_0x227291)handleToggleStarQuiz(_0x227291[_0x28a978(0x8c4)][_0x28a978(0x705)]);else{if(_0x1415ed)copyTextToClipboard(_0x1415ed['dataset']['quizId'],_0x28a978(0x689));else{if(_0x37d368)handleOpenQuizEditor(_0x37d368[_0x28a978(0x8c4)][_0x28a978(0x705)]);else{if(_0x5bbd48)handleQuizSettings(_0x5bbd48['dataset'][_0x28a978(0x705)]);else{if(_0x263753)handleDuplicateQuiz(_0x263753['dataset'][_0x28a978(0x705)]);else{if(_0x135453)handleRenameQuiz(_0x135453['dataset'][_0x28a978(0x705)],_0x135453[_0x28a978(0x8c4)][_0x28a978(0x411)]);else{if(_0x2808f9){const _0x4345b9=_0x2808f9[_0x28a978(0x8c4)][_0x28a978(0x705)],_0xc28d1=allQuizzes[_0x28a978(0x9f6)](_0x3bf61d=>_0x3bf61d['id']===_0x4345b9);_0xc28d1&&handleGenerateParallelFromBank(_0xc28d1);}else{if(_0x414776)handleMoveQuiz(_0x414776[_0x28a978(0x8c4)][_0x28a978(0x705)]);else{if(_0x11b0ad)handleManualQuizPairing(_0x11b0ad['dataset']['quizId']);else{if(_0x1b4d10)handleUnpairQuiz(_0x1b4d10[_0x28a978(0x8c4)][_0x28a978(0x705)]);else{if(_0xce6fd5){const _0x56c7d0=_0xce6fd5[_0x28a978(0x8c4)][_0x28a978(0x705)],_0x39f56b=allQuizzes['find'](_0x176e77=>_0x176e77['id']===_0x56c7d0);if(_0x39f56b)startPresentation(_0x39f56b);}else{if(_0x592b43){const _0x55f5e2=_0x592b43[_0x28a978(0x8c4)]['quizId'],_0x1f4cc9=allQuizzes[_0x28a978(0x9f6)](_0x21328b=>_0x21328b['id']===_0x55f5e2);_0x1f4cc9&&(currentQuizData=_0x1f4cc9,startAdminTest());}else{if(_0x5c3752)actionTargetId=_0x5c3752[_0x28a978(0x8c4)][_0x28a978(0x705)],document[_0x28a978(0x403)]('export-pdf-modal')['classList'][_0x28a978(0x3e9)](_0x28a978(0x17c));else{if(_0xd492e4)showConfirmation(_0x28a978(0x5ec)+_0xd492e4[_0x28a978(0x8c4)][_0x28a978(0x411)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0xd492e4[_0x28a978(0x8c4)]['quizId']));else{if(_0x322948)handleQuizStatus(_0x322948[_0x28a978(0x8c4)][_0x28a978(0x705)]);else{if(_0x2e5440)handleGenerateEasyVersionQuiz(_0x2e5440[_0x28a978(0x8c4)]['quizId']);else _0x2027a2&&showQuizDetailView(_0x2027a2[_0x28a978(0x8c4)][_0x28a978(0x705)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x14fcef(0x403)]('cancel-team-selection-btn')[_0x14fcef(0x224)](_0x14fcef(0x920),()=>showView('student')),document[_0x14fcef(0x403)](_0x14fcef(0x2c8))[_0x14fcef(0x224)]('click',confirmAndStartTeamQuiz),document[_0x14fcef(0x403)](_0x14fcef(0x71e))['querySelector'](_0x14fcef(0xc8e))['addEventListener'](_0x14fcef(0x920),_0x56fd7b=>{const _0x48d99b=_0x14fcef,_0x4dffb7=_0x56fd7b[_0x48d99b(0xe9)]['closest']('.sortable-header');if(!_0x4dffb7||!_0x4dffb7[_0x48d99b(0x8c4)][_0x48d99b(0x2b7)])return;const _0x524e5c=_0x4dffb7[_0x48d99b(0x8c4)][_0x48d99b(0x2b7)];if(quizLeaderboardSortBy===_0x524e5c)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x48d99b(0x8ce)?_0x48d99b(0x3fc):_0x48d99b(0x8ce);else{quizLeaderboardSortBy=_0x524e5c;const _0x36e7aa=[_0x48d99b(0x5b0)];quizLeaderboardSortOrder=_0x36e7aa[_0x48d99b(0x801)](_0x524e5c)?_0x48d99b(0x8ce):_0x48d99b(0x3fc);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x14fcef(0x403)](_0x14fcef(0x101))[_0x14fcef(0x224)](_0x14fcef(0x920),closePresentation),document[_0x14fcef(0x403)](_0x14fcef(0x539))[_0x14fcef(0x224)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x14fcef(0x403)](_0x14fcef(0x548))['addEventListener'](_0x14fcef(0x920),()=>{const _0x4d32dc=_0x14fcef;currentQuizData[_0x4d32dc(0x707)]&&currentPresentationSlide<currentQuizData[_0x4d32dc(0x707)][_0x4d32dc(0x6b7)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x14fcef(0x224)]('fullscreenchange',()=>{const _0x1e43f5=_0x14fcef;!document[_0x1e43f5(0x382)]&&(presentationModal[_0x1e43f5(0x77b)][_0x1e43f5(0xf0)]='none');}),document[_0x14fcef(0x403)]('delete-all-students-btn')[_0x14fcef(0x224)]('click',handleDeleteAllStudents),studentList[_0x14fcef(0x224)]('click',_0x1f767b=>{const _0x47e6dc=_0x14fcef,_0x20698c=_0x1f767b['target'][_0x47e6dc(0x1af)](_0x47e6dc(0x91b));if(_0x20698c){const _0x39cd6f=_0x20698c[_0x47e6dc(0x8c4)][_0x47e6dc(0x5b0)];handleDeleteStudent(_0x39cd6f);}}),document[_0x14fcef(0x403)](_0x14fcef(0x369))[_0x14fcef(0x224)](_0x14fcef(0x920),handleGenerateFromFileClick),fileUploadInput[_0x14fcef(0x224)](_0x14fcef(0x7cd),_0x3a02e1=>{const _0xe1c01c=_0x14fcef,_0x156e89=_0x3a02e1[_0xe1c01c(0xe9)][_0xe1c01c(0xb48)][0x0],_0x5cac54=document[_0xe1c01c(0x403)](_0xe1c01c(0x369)),_0x585f51=document[_0xe1c01c(0x403)](_0xe1c01c(0x362)),_0xf59174=document['getElementById'](_0xe1c01c(0x143));_0x156e89?(selectedFile=_0x156e89,_0xf59174[_0xe1c01c(0x98b)]?(_0x5cac54[_0xe1c01c(0x79a)]=!![],analyzeFileForTopics(_0x156e89)):(_0x5cac54[_0xe1c01c(0x79a)]=![],_0x585f51[_0xe1c01c(0x67e)][_0xe1c01c(0x7be)](_0xe1c01c(0x17c)))):(selectedFile=null,_0x5cac54[_0xe1c01c(0x79a)]=!![],_0x585f51[_0xe1c01c(0x67e)][_0xe1c01c(0x7be)]('hidden'));}),document[_0x14fcef(0x403)](_0x14fcef(0x143))[_0x14fcef(0x224)](_0x14fcef(0x7cd),_0x26464a=>{const _0x34e17a=_0x14fcef,_0xa951cf=_0x26464a[_0x34e17a(0xe9)][_0x34e17a(0x98b)],_0x4bbfdc=document[_0x34e17a(0x403)](_0x34e17a(0x369)),_0x3a871e=document[_0x34e17a(0x403)](_0x34e17a(0x362));_0xa951cf?(_0x4bbfdc[_0x34e17a(0x79a)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x3a871e[_0x34e17a(0x67e)][_0x34e17a(0x3e9)](_0x34e17a(0x17c)),document[_0x34e17a(0x403)](_0x34e17a(0x1c4))[_0x34e17a(0x86f)]=_0x34e17a(0x840))):(_0x3a871e['classList'][_0x34e17a(0x7be)](_0x34e17a(0x17c)),_0x4bbfdc['disabled']=!selectedFile);}),document[_0x14fcef(0x403)](_0x14fcef(0x362))[_0x14fcef(0x224)]('click',_0x1a1a9b=>{const _0x487864=_0x14fcef,_0x2b6939=_0x1a1a9b[_0x487864(0xe9)][_0x487864(0x1af)](_0x487864(0x5a1)),_0x2c08cb=_0x1a1a9b['target']['closest'](_0x487864(0x4f4));if(_0x2b6939){const _0x154a02=unescape(_0x2b6939[_0x487864(0x8c4)][_0x487864(0x411)]);generateHybridQuizForTopic(_0x154a02);}else{if(_0x2c08cb){const _0x120cb3=unescape(_0x2c08cb[_0x487864(0x8c4)][_0x487864(0x411)]),_0x268e7e=document['getElementById'](_0x487864(0x500))[_0x487864(0x491)];handleGenerateAndShowLesson(_0x120cb3,_0x268e7e);}}}),document[_0x14fcef(0x403)]('timer-mode-select')[_0x14fcef(0x224)](_0x14fcef(0x7cd),_0x35c3ab=>{const _0x4db7d8=_0x14fcef,_0x64422c=document[_0x4db7d8(0x403)](_0x4db7d8(0x947)),_0x4ac302=document['getElementById'](_0x4db7d8(0x1c8)),_0x59cd4a=document[_0x4db7d8(0x403)](_0x4db7d8(0xb38));_0x35c3ab[_0x4db7d8(0xe9)][_0x4db7d8(0x491)]==='none'?_0x64422c[_0x4db7d8(0x67e)][_0x4db7d8(0x7be)](_0x4db7d8(0x17c)):(_0x64422c[_0x4db7d8(0x67e)][_0x4db7d8(0x3e9)]('hidden'),_0x35c3ab[_0x4db7d8(0xe9)][_0x4db7d8(0x491)]===_0x4db7d8(0x97a)?(_0x4ac302[_0x4db7d8(0x317)]='ระยะเวลา\x20(นาที):',_0x59cd4a[_0x4db7d8(0x491)]='10'):(_0x4ac302[_0x4db7d8(0x317)]=_0x4db7d8(0x540),_0x59cd4a[_0x4db7d8(0x491)]='30'));}),document[_0x14fcef(0x403)]('quiz-type-select')[_0x14fcef(0x224)](_0x14fcef(0x7cd),_0xba3066=>{const _0x3258f6=_0x14fcef,_0x302de8=document['getElementById'](_0x3258f6(0x2c1)),_0x50fa25=_0xba3066[_0x3258f6(0xe9)][_0x3258f6(0x491)],_0x596559=document[_0x3258f6(0x314)](_0x3258f6(0x285)),_0x3ec9fa=document[_0x3258f6(0x403)](_0x3258f6(0x5fd)),_0x2f9b85=document[_0x3258f6(0x403)](_0x3258f6(0xec));_0x50fa25===_0x3258f6(0x11f)?_0x596559[_0x3258f6(0x317)]='จำนวนคู่:':_0x596559[_0x3258f6(0x317)]=_0x3258f6(0x91f),_0x50fa25===_0x3258f6(0x736)||_0x50fa25===_0x3258f6(0xbb8)||_0x50fa25===_0x3258f6(0xa3d)?_0x302de8[_0x3258f6(0x67e)][_0x3258f6(0x3e9)](_0x3258f6(0x17c)):_0x302de8[_0x3258f6(0x67e)]['add'](_0x3258f6(0x17c)),_0x3ec9fa[_0x3258f6(0x773)]=_0x2f9b85['value'];}),document[_0x14fcef(0x403)](_0x14fcef(0xec))[_0x14fcef(0x224)](_0x14fcef(0x68c),_0xf63c91=>{const _0x5fdd9d=_0x14fcef;document['getElementById'](_0x5fdd9d(0x5fd))[_0x5fdd9d(0x773)]=_0xf63c91[_0x5fdd9d(0xe9)]['value'];}),document[_0x14fcef(0x403)](_0x14fcef(0xc4c))[_0x14fcef(0x224)](_0x14fcef(0x7cd),_0x43d057=>{const _0x37b36d=_0x14fcef,_0x2d714e=document[_0x37b36d(0x403)](_0x37b36d(0x2ba)),_0x11f734=document['getElementById'](_0x37b36d(0x7f0)),_0x41db83=document['getElementById']('modal-timer-duration-input');_0x43d057[_0x37b36d(0xe9)][_0x37b36d(0x491)]===_0x37b36d(0x103)?_0x2d714e[_0x37b36d(0x67e)]['add'](_0x37b36d(0x17c)):(_0x2d714e[_0x37b36d(0x67e)][_0x37b36d(0x3e9)]('hidden'),_0x43d057[_0x37b36d(0xe9)][_0x37b36d(0x491)]===_0x37b36d(0x97a)?_0x11f734['textContent']=_0x37b36d(0x79e):_0x11f734[_0x37b36d(0x317)]=_0x37b36d(0x540));}),document['getElementById'](_0x14fcef(0xc88))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x2a4f99=_0x14fcef;document[_0x2a4f99(0x403)]('quiz-editor-modal')[_0x2a4f99(0x67e)][_0x2a4f99(0x7be)](_0x2a4f99(0x17c));}),document[_0x14fcef(0x403)](_0x14fcef(0x63d))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x4b5963=_0x14fcef;document[_0x4b5963(0x403)](_0x4b5963(0x605))[_0x4b5963(0x67e)]['add'](_0x4b5963(0x17c));}),document[_0x14fcef(0x403)](_0x14fcef(0xa9f))[_0x14fcef(0x224)](_0x14fcef(0x920),handleVerifyAnswersInEditor),document['getElementById'](_0x14fcef(0x5a0))['addEventListener'](_0x14fcef(0x920),()=>{const _0x38babc=_0x14fcef;document['getElementById']('quiz-editor-modal')[_0x38babc(0x67e)][_0x38babc(0x7be)](_0x38babc(0x17c)),showConfirmation(_0x38babc(0x480),handleSaveChanges);}),document[_0x14fcef(0x403)](_0x14fcef(0x9bc))[_0x14fcef(0x224)]('click',handleAutoFixLatex);const _0x4fd94f=document[_0x14fcef(0x403)](_0x14fcef(0x846));_0x4fd94f&&_0x4fd94f[_0x14fcef(0x224)]('click',_0x35f7c3=>{const _0x509601=_0x14fcef,_0x454bc5=_0x35f7c3[_0x509601(0xe9)][_0x509601(0x1af)](_0x509601(0x6b6));if(_0x454bc5){const _0x15e7b6=_0x454bc5['closest'](_0x509601(0x692)),_0x56e7ba=parseInt(_0x15e7b6[_0x509601(0x8c4)][_0x509601(0xcc6)],0xa);handleRegenerateQuestionInEditor(_0x56e7ba);return;}const _0x4da40c=_0x35f7c3[_0x509601(0xe9)]['closest']('.delete-question-editor-btn');if(_0x4da40c){const _0x344308=_0x4da40c['closest']('.question-editor-item'),_0x4f9dfb=parseInt(_0x344308['dataset'][_0x509601(0xcc6)],0xa);handleDeleteQuestionInEditor(_0x4f9dfb);return;}const _0x2acf88=_0x35f7c3[_0x509601(0xe9)][_0x509601(0x1af)](_0x509601(0x231));if(_0x2acf88){handleAddQuestionInEditor();return;}});document[_0x14fcef(0x403)]('open-quiz-bank-btn')[_0x14fcef(0x224)](_0x14fcef(0x920),openQuizBankModal),document[_0x14fcef(0x403)]('cancel-quiz-bank-btn')[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x3a93fb=_0x14fcef;document['getElementById']('quiz-bank-modal')[_0x3a93fb(0x67e)][_0x3a93fb(0x7be)](_0x3a93fb(0x17c));}),document[_0x14fcef(0x403)](_0x14fcef(0x533))[_0x14fcef(0x224)]('input',_0x45842d=>renderQuizBankList(_0x45842d[_0x14fcef(0xe9)][_0x14fcef(0x491)]));const _0x5cd735=document[_0x14fcef(0x403)]('math-topics-checkbox-container');if(_0x5cd735){let _0x411782=null;_0x5cd735[_0x14fcef(0x224)](_0x14fcef(0x920),_0x21129c=>{const _0x47779f=_0x14fcef,_0x5df3a0=_0x21129c[_0x47779f(0xe9)],_0x5093bd=_0x5df3a0[_0x47779f(0x1af)](_0x47779f(0x472)),_0x117e27=_0x5df3a0[_0x47779f(0x1af)](_0x47779f(0xcae)),_0x5c5897=_0x5df3a0[_0x47779f(0x1af)]('.save-custom-topic-btn'),_0x35e663=_0x5df3a0['closest'](_0x47779f(0x4a7));if(_0x117e27){_0x21129c[_0x47779f(0x27f)]();const _0x27fd74=_0x117e27[_0x47779f(0x8c4)]['id'],_0x1e62d0=_0x117e27[_0x47779f(0x1af)](_0x47779f(0x278))[_0x47779f(0x314)](_0x47779f(0x11b))[_0x47779f(0x317)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x1e62d0+'\x22?',()=>handleDeleteCustomTopic(_0x27fd74));}else{if(_0x5093bd){_0x21129c[_0x47779f(0x27f)]();_0x411782&&toggleTopicEditMode(_0x411782,![]);const _0x3adc92=_0x5093bd[_0x47779f(0x1af)](_0x47779f(0x6fc));_0x411782=_0x3adc92,toggleTopicEditMode(_0x3adc92,!![]);}else{if(_0x5c5897){_0x21129c[_0x47779f(0x27f)]();const _0x4d5b95=_0x5c5897[_0x47779f(0x8c4)]['id'],_0xa26fe0=_0x5c5897[_0x47779f(0x1af)]('[data-topic-container-id]'),_0x1edd14=_0xa26fe0[_0x47779f(0x314)](_0x47779f(0xcc7))[_0x47779f(0x491)];handleUpdateCustomTopic(_0x4d5b95,_0x1edd14),_0x411782=null;}else{if(_0x35e663){_0x21129c[_0x47779f(0x27f)]();const _0x335110=_0x35e663['closest'](_0x47779f(0x6fc));toggleTopicEditMode(_0x335110,![]),_0x411782=null;}}}}}),document[_0x14fcef(0x403)]('close-lesson-plan-modal-btn')['addEventListener']('click',()=>{const _0x32e3c1=_0x14fcef;document[_0x32e3c1(0x403)]('lesson-plan-modal')[_0x32e3c1(0x67e)][_0x32e3c1(0x7be)](_0x32e3c1(0x17c));}),document[_0x14fcef(0x403)](_0x14fcef(0xa89))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x11a633=_0x14fcef;document[_0x11a633(0x403)](_0x11a633(0xba8))[_0x11a633(0x67e)][_0x11a633(0x7be)](_0x11a633(0x17c));}),document['getElementById'](_0x14fcef(0x36b))[_0x14fcef(0x224)](_0x14fcef(0x920),handleExportLessonPDF);}document[_0x14fcef(0x403)](_0x14fcef(0x666))[_0x14fcef(0x224)]('click',()=>{const _0x40a84c=_0x14fcef;document['getElementById'](_0x40a84c(0x744))[_0x40a84c(0x67e)][_0x40a84c(0x7be)](_0x40a84c(0x17c));}),document['getElementById'](_0x14fcef(0xd04))[_0x14fcef(0x224)](_0x14fcef(0x920),()=>{const _0x1c30fc=_0x14fcef;document['getElementById']('comparison-modal')[_0x1c30fc(0x67e)]['add']('hidden');}),setupComparisonModalTabs(),document[_0x14fcef(0x266)][_0x14fcef(0x224)]('click',function(_0x40f883){const _0x3e4ce9=_0x14fcef;if(_0x40f883[_0x3e4ce9(0xe9)][_0x3e4ce9(0x67e)]['contains'](_0x3e4ce9(0x289))){const _0x597274=unescape(_0x40f883[_0x3e4ce9(0xe9)][_0x3e4ce9(0x8c4)][_0x3e4ce9(0x411)]);startSkillPractice(_0x597274);}}),document[_0x14fcef(0x403)](_0x14fcef(0xc9f))[_0x14fcef(0x224)]('click',_0x1d0c73=>{const _0x1e418b=_0x14fcef,_0x395acf=_0x1d0c73[_0x1e418b(0xe9)][_0x1e418b(0x1af)](_0x1e418b(0x864));if(_0x395acf){const _0x33fec2=_0x395acf['dataset']['studentName'];handleDeleteSubmission(_0x33fec2);}});}async function handleStartGroupMode(_0x539bd4,_0x571b21=![]){const _0x13e07c=_0x361958,_0x131c4b=allQuizzes['find'](_0x4b7916=>_0x4b7916['id']===_0x539bd4)||allQuizzesGlobal[_0x13e07c(0x9f6)](_0x55f5ce=>_0x55f5ce['id']===_0x539bd4);if(!_0x131c4b){showMessage(_0x13e07c(0x82c));return;}currentQuizData=getShuffledQuiz(_0x131c4b);const _0x2604c4=Math[_0x13e07c(0x15f)](0x3e8+Math[_0x13e07c(0x427)]()*0x2328)['toString']();try{const _0x3344b0=await addDoc(collection(db,_0x13e07c(0x418)+appId+_0x13e07c(0x1a2)),{'quizId':_0x131c4b['id'],'projectId':_0x131c4b[_0x13e07c(0x4b4)],'status':_0x13e07c(0x41c),'pin':_0x2604c4,'mode':_0x13e07c(0xa85),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x571b21});currentTeamQuizId=_0x3344b0['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x2604c4,_0x131c4b[_0x13e07c(0x411)],_0x13e07c(0xa85)),listenForTeamQuizUpdates();}catch(_0x144dbc){console[_0x13e07c(0x51e)]('Error\x20starting\x20group\x20quiz:',_0x144dbc),showMessage(_0x13e07c(0x30f));}}async function showStudentProgressView(){const _0x336d0b=_0x361958;studentInitialView[_0x336d0b(0x67e)][_0x336d0b(0x7be)](_0x336d0b(0x17c)),document[_0x336d0b(0x403)](_0x336d0b(0x7d3))['classList']['remove']('hidden');const _0xfe1201=document['getElementById'](_0x336d0b(0x565)),_0x355d15=document[_0x336d0b(0x403)]('progress-student-select'),_0x3ad59e=document[_0x336d0b(0x403)](_0x336d0b(0xa6a));_0x3ad59e[_0x336d0b(0x86f)]=_0x336d0b(0x4de),_0x355d15[_0x336d0b(0x86f)]=_0x336d0b(0x4d3),_0x355d15[_0x336d0b(0x79a)]=!![],_0xfe1201[_0x336d0b(0x86f)]=_0x336d0b(0x709);if(allProjects[_0x336d0b(0x6b7)]===0x0){const _0x14e10b=collection(db,_0x336d0b(0x418)+appId+_0x336d0b(0x664)),_0x25f104=await getDocs(_0x14e10b);allProjects=_0x25f104[_0x336d0b(0x5b2)]['map'](_0x1c9664=>({'id':_0x1c9664['id'],..._0x1c9664['data']()}));}const _0x5952f6=allProjects['filter'](_0x3d36da=>_0x3d36da[_0x336d0b(0x3f9)]?.['showInStudentDashboard']!==![]);_0x5952f6['sort']((_0x40b25a,_0x127eb7)=>_0x40b25a['projectName']['localeCompare'](_0x127eb7['projectName'],'th')),_0xfe1201[_0x336d0b(0x86f)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x5952f6[_0x336d0b(0x961)](_0x481d3d=>_0x336d0b(0x7f5)+_0x481d3d['id']+'\x22>'+_0x481d3d['projectName']+_0x336d0b(0x53d))[_0x336d0b(0xbcc)](''),_0xfe1201[_0x336d0b(0x2dc)]=()=>{const _0x2674a3=_0x336d0b,_0x4da4a8=_0x355d15[_0x2674a3(0x491)],_0xccad03=_0xfe1201[_0x2674a3(0x491)];_0x355d15[_0x2674a3(0x79a)]=!![],_0x355d15[_0x2674a3(0x86f)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x3ad59e[_0x2674a3(0x86f)]=_0x2674a3(0xc44);if(!_0xccad03)return;const _0x232cb5=allProjects[_0x2674a3(0x9f6)](_0x17bfe0=>_0x17bfe0['id']===_0xccad03);if(!_0x232cb5||!_0x232cb5[_0x2674a3(0x282)])return;const _0x4c0a5a=()=>{const _0x3c4a7e=_0x2674a3;_0x355d15[_0x3c4a7e(0x86f)]=_0x3c4a7e(0x4d3)+_0x232cb5[_0x3c4a7e(0x282)][_0x3c4a7e(0x961)](_0x862c4e=>_0x3c4a7e(0x7f5)+_0x862c4e+'\x22>'+_0x862c4e+'</option>')[_0x3c4a7e(0xbcc)](''),_0x355d15[_0x3c4a7e(0x79a)]=![];const _0x4fed00=Array['from'](_0x355d15[_0x3c4a7e(0x6a5)])[_0x3c4a7e(0x961)](_0x326734=>_0x326734[_0x3c4a7e(0x491)]);if(_0x4da4a8&&_0x4fed00[_0x3c4a7e(0x801)](_0x4da4a8))_0x355d15['value']=_0x4da4a8,_0x355d15[_0x3c4a7e(0x3cf)](new Event(_0x3c4a7e(0x7cd)));else _0x232cb5[_0x3c4a7e(0x282)]['length']===0x1&&(_0x355d15['value']=_0x232cb5['students'][0x0],_0x355d15[_0x3c4a7e(0x3cf)](new Event(_0x3c4a7e(0x7cd))));};if(_0x232cb5['settings']?.[_0x2674a3(0x210)]){if(sessionStorage['getItem'](_0x2674a3(0xa6f)+_0xccad03)===_0x2674a3(0x4db)){_0x4c0a5a();return;}const _0x54a31a=document[_0x2674a3(0x403)]('project-passcode-modal'),_0x1dee39=document[_0x2674a3(0x403)](_0x2674a3(0x96a)),_0x546d70=document[_0x2674a3(0x403)]('cancel-passcode-btn'),_0x285f6d=document[_0x2674a3(0x403)]('student-passcode-input'),_0x3b5120=document['getElementById']('passcode-error-msg');document['getElementById']('passcode-prompt-message')[_0x2674a3(0x317)]='สำหรับโปรเจค:\x20'+_0x232cb5[_0x2674a3(0x3d0)],_0x285f6d['value']='',_0x3b5120[_0x2674a3(0x67e)][_0x2674a3(0x7be)]('hidden'),_0x54a31a['classList'][_0x2674a3(0x3e9)](_0x2674a3(0x17c));const _0x24a83f=()=>{const _0x40a4f1=_0x2674a3,_0x3845e3=_0x285f6d[_0x40a4f1(0x491)]['trim']();_0x3845e3===_0x232cb5[_0x40a4f1(0x3f9)]['passcode']?(sessionStorage[_0x40a4f1(0x5f9)](_0x40a4f1(0xa6f)+_0xccad03,_0x40a4f1(0x4db)),_0x54a31a['classList'][_0x40a4f1(0x7be)](_0x40a4f1(0x17c)),_0x4c0a5a(),_0x1dee39[_0x40a4f1(0xb35)](_0x40a4f1(0x920),_0x24a83f)):_0x3b5120[_0x40a4f1(0x67e)][_0x40a4f1(0x3e9)](_0x40a4f1(0x17c));};_0x1dee39[_0x2674a3(0x823)]=_0x24a83f,_0x546d70[_0x2674a3(0x823)]=()=>{const _0x2e9b02=_0x2674a3;_0x54a31a[_0x2e9b02(0x67e)]['add'](_0x2e9b02(0x17c)),_0xfe1201[_0x2e9b02(0x491)]='',_0x1dee39[_0x2e9b02(0xb35)]('click',_0x24a83f);};}else _0x4c0a5a();},_0x355d15['onchange']=()=>{const _0xc87c58=_0x336d0b,_0x2601d0=_0xfe1201[_0xc87c58(0x491)],_0x5a4eeb=_0x355d15[_0xc87c58(0x491)];_0x2601d0&&_0x5a4eeb&&renderStudentProgressDashboard(_0x2601d0,_0x5a4eeb);};}async function confirmAndJoinSyncGame(){const _0xdf0563=_0x361958,_0x2e07c2=Array[_0xdf0563(0x70c)](document[_0xdf0563(0x2c6)](_0xdf0563(0x643)))[_0xdf0563(0x961)](_0x13b1b0=>_0x13b1b0[_0xdf0563(0x491)]);if(_0x2e07c2[_0xdf0563(0x6b7)]===0x0){showMessage(_0xdf0563(0x8dc));return;}localTeamPlayers=_0x2e07c2,localPlayerTurnIndex=0x0;const _0x539a43=doc(db,_0xdf0563(0x418)+appId+_0xdf0563(0x996),currentLiveGameId);try{const _0x3568bd=await getDoc(_0x539a43);if(!_0x3568bd['exists']())throw new Error('ไม่พบเกมที่กำลังเข้าร่วม');const _0x384a76=_0x3568bd[_0xdf0563(0xaff)](),_0x25c0cc=_0x384a76[_0xdf0563(0x1d8)]||_0xdf0563(0x306),_0x10a010={};_0x2e07c2[_0xdf0563(0x384)](_0x2376dd=>{const _0x18ecf7=_0xdf0563,_0x1949dd=_0x384a76[_0x18ecf7(0x414)][_0x2376dd];if(_0x1949dd){console[_0x18ecf7(0xb07)](_0x18ecf7(0xc24)+_0x2376dd+_0x18ecf7(0x400)),_0x10a010[_0x18ecf7(0x1d7)+_0x2376dd+_0x18ecf7(0x121)]=_0x18ecf7(0x70f);const _0xd2f0c6=_0x1949dd[_0x18ecf7(0x379)]?.[_0x1949dd[_0x18ecf7(0x379)][_0x18ecf7(0x6b7)]-0x1],_0x58faa8=!!(_0xd2f0c6&&_0xd2f0c6[_0x18ecf7(0x59c)]===_0x384a76[_0x18ecf7(0x19a)]);_0x10a010[_0x18ecf7(0x1d7)+_0x2376dd+_0x18ecf7(0x8b1)]=_0x58faa8;}else{console[_0x18ecf7(0xb07)](_0x18ecf7(0x8c6)+_0x2376dd+'\x20เข้าร่วมกลางเกม');const _0x344dbd={'name':_0x2376dd,'score':0x0,'answered':![],'status':'active','answers':[]};_0x25c0cc===_0x18ecf7(0x2f0)&&(typeof STARTING_LIVES!==_0x18ecf7(0xc9d)?_0x344dbd['lives']=STARTING_LIVES:(console[_0x18ecf7(0x51e)](_0x18ecf7(0x5d9)),_0x344dbd['lives']=0x3)),_0x10a010[_0x18ecf7(0x1d7)+_0x2376dd]=_0x344dbd;}}),await updateDoc(_0x539a43,_0x10a010),showView(_0xdf0563(0xb84)),document[_0xdf0563(0x403)](_0xdf0563(0x522))[_0xdf0563(0x67e)]['add'](_0xdf0563(0x17c)),currentStudentName=_0x2e07c2[0x0],listenForSyncGameUpdates();const _0xdc5d06={'gameId':currentLiveGameId,'mode':_0xdf0563(0x18e),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0xdf0563(0x5f9)]('activeGameSession',JSON[_0xdf0563(0xa24)](_0xdc5d06)),currentMode!==_0xdf0563(0x336)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0xdf0563(0x224)](_0xdf0563(0x37d),handleFullscreenChange),document['addEventListener'](_0xdf0563(0x711),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0xdf0563(0x8c8),resetDimTimer),window['addEventListener'](_0xdf0563(0x541),resetDimTimer),window['addEventListener']('touchstart',resetDimTimer),window['addEventListener']('keydown',resetDimTimer),resetDimTimer());}catch(_0x14659b){console['error'](_0xdf0563(0xbb1),_0x14659b),showMessage(_0xdf0563(0xb20)+_0x14659b[_0xdf0563(0x931)]);}}async function resumeActiveGameSession(){const _0x110146=_0x361958,_0x170b59=sessionStorage['getItem'](_0x110146(0x831));if(!_0x170b59)return;const _0x2df326=JSON[_0x110146(0xa51)](_0x170b59),{gameId:_0x1f10e0,mode:_0x174b76,players:_0x541828,turnIndex:_0x1972c6}=_0x2df326;try{let _0x2a3cba,_0x1dd187;_0x174b76==='sync'?_0x2a3cba=doc(db,_0x110146(0x418)+appId+_0x110146(0x996),_0x1f10e0):_0x2a3cba=doc(db,_0x110146(0x418)+appId+_0x110146(0x1a2),_0x1f10e0);_0x1dd187=await getDoc(_0x2a3cba);if(!_0x1dd187[_0x110146(0x6f9)]()||_0x1dd187[_0x110146(0xaff)]()[_0x110146(0x6b5)]==='finished'||_0x1dd187[_0x110146(0xaff)]()[_0x110146(0x6b5)]===_0x110146(0x29c)){sessionStorage[_0x110146(0x3ef)](_0x110146(0x831));return;}console[_0x110146(0xb07)](_0x110146(0x161)+_0x174b76+_0x110146(0xaef)+_0x1f10e0+')'),localTeamPlayers=_0x541828,localPlayerTurnIndex=_0x1972c6;if(_0x174b76==='sync')currentLiveGameId=_0x1f10e0,currentStudentName=_0x541828[0x0],showView('live-game'),listenForSyncGameUpdates();else{currentTeamQuizId=_0x1f10e0;const _0x48379b=_0x1dd187[_0x110146(0xaff)](),_0x33caaf=doc(db,_0x110146(0x418)+appId+_0x110146(0x34c),_0x48379b['quizId']),_0x2ae796=await getDoc(_0x33caaf);_0x2ae796[_0x110146(0x6f9)]()&&(currentQuizData=getShuffledQuiz({'id':_0x2ae796['id'],..._0x2ae796[_0x110146(0xaff)]()}),showView(_0x110146(0x412)),studentInitialView['classList'][_0x110146(0x7be)]('hidden'),renderTeamQuizQuestion());}}catch(_0x4c8561){console['error'](_0x110146(0x1ec),_0x4c8561),sessionStorage[_0x110146(0x3ef)](_0x110146(0x831));}}function activateFileInputAreaWithLoadedFile(){const _0x22606e=_0x361958,_0x42c299=document[_0x22606e(0x403)]('generate-from-file-btn'),_0x6293b=document['getElementById'](_0x22606e(0x362)),_0x44b9bf=document['getElementById'](_0x22606e(0x143));selectedFile?_0x44b9bf[_0x22606e(0x98b)]?(_0x42c299[_0x22606e(0x79a)]=!![],analyzeFileForTopics(selectedFile)):(_0x42c299[_0x22606e(0x79a)]=![],_0x6293b[_0x22606e(0x67e)][_0x22606e(0x7be)](_0x22606e(0x17c))):(_0x42c299[_0x22606e(0x79a)]=!![],_0x6293b[_0x22606e(0x67e)][_0x22606e(0x7be)](_0x22606e(0x17c)));}async function handleKickPlayerSync(_0x3b713c){const _0x18a2e2=_0x361958;if(!currentLiveGameId||!_0x3b713c)return;const _0x5ad01f=doc(db,_0x18a2e2(0x418)+appId+'/public/data/syncGames',currentLiveGameId),_0x7db4cd={};_0x7db4cd[_0x18a2e2(0x1d7)+_0x3b713c+_0x18a2e2(0x121)]=_0x18a2e2(0x203);try{await updateDoc(_0x5ad01f,_0x7db4cd);}catch(_0x3e52c6){console[_0x18a2e2(0x51e)]('Failed\x20to\x20kick\x20player\x20'+_0x3b713c+'\x20from\x20sync\x20game:',_0x3e52c6),showMessage(_0x18a2e2(0x5e1));}}async function renderStudentProgressDashboard(_0x1fe37b,_0x3c35cf){const _0x302773=_0x361958,_0x4909f6=document[_0x302773(0x403)](_0x302773(0xa6a));_0x4909f6[_0x302773(0x86f)]=_0x302773(0x3d4);try{const _0x1aee08=collection(db,_0x302773(0x418)+appId+_0x302773(0x34c)),_0x1e5678=query(_0x1aee08,where('projectId','==',_0x1fe37b)),_0x7a9117=await getDocs(_0x1e5678),_0x53eb70=_0x7a9117['docs'][_0x302773(0x961)](_0x312632=>({'id':_0x312632['id'],..._0x312632[_0x302773(0xaff)]()})),_0x2814ac=_0x53eb70[_0x302773(0x961)](_0x36a304=>getDoc(doc(db,'artifacts/'+appId+_0x302773(0xa18)+_0x36a304['id']+'/submissions',_0x3c35cf))),_0x341887=await Promise['all'](_0x2814ac),_0x453351=_0x341887['filter'](_0x5ebefa=>_0x5ebefa[_0x302773(0x6f9)]())[_0x302773(0x961)](_0x2c5db7=>({'quizId':_0x2c5db7[_0x302773(0xafb)][_0x302773(0x7cf)]['parent']['id'],..._0x2c5db7[_0x302773(0xaff)]()}));if(_0x453351[_0x302773(0x6b7)]===0x0){_0x4909f6['innerHTML']=_0x302773(0x973);return;}let _0x5f0380='<div\x20class=\x22space-y-4\x22>';_0x453351['forEach'](_0x3e9364=>{const _0x4391c4=_0x302773,_0x4bfac9=_0x53eb70[_0x4391c4(0x9f6)](_0x479d03=>_0x479d03['id']===_0x3e9364[_0x4391c4(0x705)]),_0x12212e=_0x4bfac9['settings']?.[_0x4391c4(0x9a0)]||'show_results_and_answers',_0x48e815=_0x4bfac9[_0x4391c4(0x3f9)]?.[_0x4391c4(0x8d3)]??0x0,_0xb2eda8=_0x3e9364[_0x4391c4(0x11a)]>=_0x48e815;let _0x3f058a='',_0x4a3094='bg-gray-50';switch(_0x12212e){case _0x4391c4(0xa46):case _0x4391c4(0x20b):_0x4a3094=_0xb2eda8?_0x4391c4(0x5ca):_0x4391c4(0x8b2),_0x3f058a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0xb2eda8?'text-green-700':'text-red-700')+'\x22>'+_0x3e9364[_0x4391c4(0x11a)]+_0x4391c4(0xc41)+_0x3e9364[_0x4391c4(0xcf)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0xb2eda8?'bg-green-200\x20text-green-800':_0x4391c4(0xc71))+'\x22>'+(_0xb2eda8?_0x4391c4(0xa90):'ไม่ผ่าน')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4391c4(0x7cb):_0x4a3094=_0xb2eda8?'bg-green-50':'bg-red-50',_0x3f058a=_0x4391c4(0x3e5)+(_0xb2eda8?_0x4391c4(0x54f):_0x4391c4(0xc71))+'\x22>'+(_0xb2eda8?_0x4391c4(0xa90):'ไม่ผ่าน')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4391c4(0xbad):_0x4a3094=_0x4391c4(0x428),_0x3f058a=_0x4391c4(0x908);break;}_0x5f0380+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x4a3094+_0x4391c4(0x173)+_0x4bfac9[_0x4391c4(0x411)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x3e9364['attempts'][_0x4391c4(0x6b7)]+_0x4391c4(0x955)+new Date(_0x3e9364['latestSubmittedAt'])[_0x4391c4(0x99c)](_0x4391c4(0x1d9))+_0x4391c4(0x4d1)+_0x3f058a+_0x4391c4(0x39a);}),_0x5f0380+=_0x302773(0x517),_0x4909f6[_0x302773(0x86f)]=_0x5f0380;}catch(_0x1d7b1d){console['error']('Error\x20rendering\x20student\x20progress:',_0x1d7b1d),_0x4909f6[_0x302773(0x86f)]=_0x302773(0xa03);}}function renderQuizBankListForMultiSelect(_0x4949a7=''){const _0x334a39=_0x361958,_0x52da87=document[_0x334a39(0x403)](_0x334a39(0xb46)),_0x487a6e=_0x4949a7[_0x334a39(0x985)]()[_0x334a39(0x783)](),_0xd271f8=allQuizzesGlobal[_0x334a39(0x961)](_0x182544=>({..._0x182544,'projectName':allProjects[_0x334a39(0x9f6)](_0x178ac8=>_0x178ac8['id']===_0x182544[_0x334a39(0x4b4)])?.['projectName']||_0x334a39(0xc29)}))[_0x334a39(0x9df)](_0x18a403=>(_0x18a403[_0x334a39(0x411)]||'')[_0x334a39(0x985)]()[_0x334a39(0x801)](_0x487a6e)||(_0x18a403[_0x334a39(0x3d0)]||'')[_0x334a39(0x985)]()[_0x334a39(0x801)](_0x487a6e)||_0x18a403['id']['toString']()[_0x334a39(0x801)](_0x487a6e));_0x52da87[_0x334a39(0x86f)]=_0xd271f8[_0x334a39(0x6b7)]?_0xd271f8[_0x334a39(0x961)](_0x11327a=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x11327a['id']+_0x334a39(0x7fd)+(_0x11327a['topic']||_0x334a39(0x845))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x11327a[_0x334a39(0x3d0)]+_0x334a39(0x702)+_0x11327a['id']+_0x334a39(0x675))[_0x334a39(0xbcc)](''):_0x334a39(0xa2c),_0x52da87[_0x334a39(0x2dc)]=()=>{const _0x1454e3=_0x334a39,_0x2a52fa=document[_0x1454e3(0x314)](_0x1454e3(0x989));document['getElementById'](_0x1454e3(0x2cc))[_0x1454e3(0x79a)]=!_0x2a52fa;};}function setupStudentProgressListeners(){const _0x4eb2d0=_0x361958;document['getElementById'](_0x4eb2d0(0xc22))[_0x4eb2d0(0x224)](_0x4eb2d0(0x920),showStudentProgressView),document[_0x4eb2d0(0x403)](_0x4eb2d0(0x5dd))[_0x4eb2d0(0x224)](_0x4eb2d0(0x920),()=>{const _0x123bd9=_0x4eb2d0;document[_0x123bd9(0x403)](_0x123bd9(0x7d3))[_0x123bd9(0x67e)][_0x123bd9(0x7be)](_0x123bd9(0x17c)),document[_0x123bd9(0x403)]('student-initial-view')[_0x123bd9(0x67e)][_0x123bd9(0x3e9)](_0x123bd9(0x17c));});}async function startSkillPractice(_0x186711){const _0x6e4d20=_0x361958;studentResultArea['classList'][_0x6e4d20(0x7be)]('hidden'),studentQuizArea[_0x6e4d20(0x86f)]=_0x6e4d20(0xc13),studentQuizArea['classList']['remove'](_0x6e4d20(0x17c));try{const _0x2da1d1=await getStandardizedTopic(_0x186711);console['log'](_0x6e4d20(0x49a)+_0x186711+_0x6e4d20(0x157)+_0x2da1d1+'\x22'),studentQuizArea['querySelector']('p')[_0x6e4d20(0x317)]=_0x6e4d20(0x2e8)+_0x2da1d1+_0x6e4d20(0xc92);const _0x48ccdd=collection(db,_0x6e4d20(0x418)+appId+_0x6e4d20(0x94a)),_0x910510=query(_0x48ccdd,where(_0x6e4d20(0x411),'==',_0x2da1d1)),_0x43c8ad=await getDocs(_0x910510);if(_0x43c8ad[_0x6e4d20(0x5b2)][_0x6e4d20(0x6b7)]>=0x3){console[_0x6e4d20(0xb07)](_0x6e4d20(0x456)+_0x43c8ad[_0x6e4d20(0x5b2)][_0x6e4d20(0x6b7)]+_0x6e4d20(0x144)+_0x2da1d1+_0x6e4d20(0x5f4));let _0x5976d3=_0x43c8ad[_0x6e4d20(0x5b2)]['map'](_0x484c5f=>_0x484c5f[_0x6e4d20(0xaff)]());shuffleArray(_0x5976d3);const _0x5c9015={'topic':_0x2da1d1,'questions':_0x5976d3[_0x6e4d20(0x4ca)](0x0,0x3)};displaySkillPracticeDrill(_0x5c9015);}else{console[_0x6e4d20(0xb07)](_0x6e4d20(0x5a8)+_0x2da1d1+_0x6e4d20(0xcf0));const _0x29269b=await generatePracticeQuestions(_0x2da1d1);await saveDrillToPracticeBank(_0x29269b,_0x2da1d1),displaySkillPracticeDrill(_0x29269b);}}catch(_0x23d0b8){console[_0x6e4d20(0x51e)](_0x6e4d20(0x8b6),_0x23d0b8),showMessage(_0x6e4d20(0x86b)),studentQuizArea[_0x6e4d20(0x67e)][_0x6e4d20(0x7be)](_0x6e4d20(0x17c)),studentResultArea[_0x6e4d20(0x67e)][_0x6e4d20(0x3e9)](_0x6e4d20(0x17c));}}async function saveDrillToPracticeBank(_0x5e5e5b,_0x16a7c0){const _0xfe935e=_0x361958,_0x3491e3=collection(db,_0xfe935e(0x418)+appId+_0xfe935e(0x94a)),_0xc9060=writeBatch(db);_0x5e5e5b[_0xfe935e(0x707)]['forEach'](_0x960e24=>{const _0x1b33f2=_0xfe935e,_0x200868=doc(_0x3491e3);_0xc9060[_0x1b33f2(0x3a8)](_0x200868,{'topic':_0x16a7c0,'questionText':_0x960e24[_0x1b33f2(0xf5)],'options':_0x960e24[_0x1b33f2(0x6a5)],'correctAnswerIndex':_0x960e24[_0x1b33f2(0x47b)],'explanation':_0x960e24[_0x1b33f2(0x923)],'createdAt':serverTimestamp()});});try{await _0xc9060[_0xfe935e(0x626)](),console['log']('บันทึกคำถามใหม่\x20'+_0x5e5e5b[_0xfe935e(0x707)]['length']+_0xfe935e(0x95f));}catch(_0xf035b6){console[_0xfe935e(0x51e)](_0xfe935e(0x199),_0xf035b6);}}async function getStandardizedTopic(_0x2eca94){const _0x412e24=_0x361958,_0x11c5fa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x2eca94+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x2d3e33={'type':_0x412e24(0xbb5),'properties':{'standardTopic':{'type':_0x412e24(0xef)}},'required':['standardTopic']};try{const _0x4b4b79=await callAnalysisApi(_0x11c5fa,_0x2d3e33);return _0x4b4b79[_0x412e24(0xa40)];}catch(_0xdcac92){return console[_0x412e24(0x51e)](_0x412e24(0xcf4),_0xdcac92),_0x2eca94;}}async function handleGenerateEasyVersionQuiz(_0x5a9d8f){const _0x2aa016=_0x361958,_0x22bdfb=document[_0x2aa016(0x403)](_0x2aa016(0x66e)),_0x5f5549=document['getElementById'](_0x2aa016(0x807));_0x5f5549[_0x2aa016(0x67e)][_0x2aa016(0x7be)]('hidden');const _0x571f8d=_0x2aa016(0xa8c);_0x22bdfb[_0x2aa016(0x71d)](_0x2aa016(0xc9b),_0x571f8d);try{const _0x5d7749=allQuizzes[_0x2aa016(0x9f6)](_0x13802=>_0x13802['id']===_0x5a9d8f);if(!_0x5d7749)throw new Error(_0x2aa016(0x56e));const _0x1cb600='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0x2aa016(0xa24)](_0x5d7749[_0x2aa016(0x707)])+_0x2aa016(0x9e2),_0x4704e7={'type':'OBJECT','properties':{'questionText':{'type':_0x2aa016(0xef)},'questionType':{'type':_0x2aa016(0xef)},'options':{'type':_0x2aa016(0xb41),'items':{'type':_0x2aa016(0xef)}},'correctAnswerIndex':{'type':_0x2aa016(0x6b8)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2aa016(0xef)},'imageCode':{'type':_0x2aa016(0xef)}},'required':[_0x2aa016(0xf5),_0x2aa016(0x30c),_0x2aa016(0x923)]},_0x527483={'type':'OBJECT','properties':{'questions':{'type':_0x2aa016(0xb41),'items':_0x4704e7}},'required':[_0x2aa016(0x707)]},_0xae35c=await callAnalysisApi(_0x1cb600,_0x527483);_0xae35c&&_0xae35c[_0x2aa016(0x707)]&&_0xae35c[_0x2aa016(0x707)][_0x2aa016(0x384)](_0x5dbcde=>{const _0x179f91=_0x2aa016;if(_0x5dbcde[_0x179f91(0x13a)](_0x179f91(0x1ef))){const _0x495393=String(_0x5dbcde[_0x179f91(0x1ef)])['trim']();(_0x495393===''||_0x495393['toLowerCase']()===_0x179f91(0x677)||!_0x495393[_0x179f91(0x48b)](_0x179f91(0x5de)))&&delete _0x5dbcde['imageCode'];}});if(!_0xae35c||!_0xae35c[_0x2aa016(0x707)]||_0xae35c[_0x2aa016(0x707)]['length']===0x0)throw new Error(_0x2aa016(0x1a5));const _0x53d18a=_0xae35c[_0x2aa016(0x707)]['map']((_0x186f68,_0x2d0790)=>({..._0x186f68,'id':'q_'+Date[_0x2aa016(0x166)]()+'_'+_0x2d0790})),_0x31b9fc={'projectId':_0x5d7749[_0x2aa016(0x4b4)],'quizType':_0x5d7749['quizType'],'settings':_0x5d7749[_0x2aa016(0x3f9)],'createdBy':_0x5d7749['createdBy'],'status':_0x2aa016(0x70f),'topic':_0x2aa016(0x699)+_0x5d7749['topic'],'questions':_0x53d18a,'createdAt':new Date()[_0x2aa016(0x31c)](),'quizMode':'standard','pairedQuizId':null};let _0x29ee22;while(!![]){_0x29ee22=Math[_0x2aa016(0x15f)](0x3e8+Math[_0x2aa016(0x427)]()*0x2328)['toString']();const _0x75bca4=await getDoc(doc(db,_0x2aa016(0x418)+appId+_0x2aa016(0x34c),_0x29ee22));if(!_0x75bca4[_0x2aa016(0x6f9)]())break;}await setDoc(doc(db,_0x2aa016(0x418)+appId+_0x2aa016(0x34c),_0x29ee22),_0x31b9fc),showMessage(_0x2aa016(0x9ce));}catch(_0x3b158f){console[_0x2aa016(0x51e)](_0x2aa016(0x3ce),_0x3b158f),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3b158f[_0x2aa016(0x931)]);}finally{const _0x389975=document['getElementById'](_0x2aa016(0x521));_0x389975&&_0x389975[_0x2aa016(0x3e9)](),_0x5f5549[_0x2aa016(0x67e)][_0x2aa016(0x3e9)](_0x2aa016(0x17c));}}async function generatePracticeQuestions(_0x47ec5e){const _0x1f0f5a=_0x361958,_0x582083=_0x1f0f5a(0xb3d)+_0x47ec5e+_0x1f0f5a(0x9f8)+simpleMathPrompt+_0x1f0f5a(0x4ae),_0x202ec3={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x1f0f5a(0xef)}},'correctAnswerIndex':{'type':_0x1f0f5a(0x6b8)},'explanation':{'type':'STRING'}},'required':[_0x1f0f5a(0xf5),'options',_0x1f0f5a(0x47b),_0x1f0f5a(0x923)]},_0x350dc1={'type':_0x1f0f5a(0xbb5),'properties':{'topic':{'type':_0x1f0f5a(0xef)},'questions':{'type':'ARRAY','items':_0x202ec3}},'required':[_0x1f0f5a(0x411),_0x1f0f5a(0x707)]};return await callAnalysisApi(_0x582083,_0x350dc1);}function displayLessonPlan(_0x2ab03b,_0x31085e){const _0x5178d3=_0x361958,_0x55c782='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x31085e['topic']+_0x5178d3(0x9f5)+_0x2ab03b[_0x5178d3(0x917)][_0x5178d3(0x961)](_0x35acf7=>_0x5178d3(0x4d8)+_0x35acf7+'</li>')[_0x5178d3(0xbcc)]('')+_0x5178d3(0x69e)+_0x2ab03b[_0x5178d3(0x8ec)]+_0x5178d3(0x251)+_0x2ab03b[_0x5178d3(0xc67)]['map'](_0x3cc4ba=>_0x5178d3(0x98e)+_0x3cc4ba[_0x5178d3(0x852)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x3cc4ba['solution']+_0x5178d3(0x1f9))[_0x5178d3(0xbcc)]('')+_0x5178d3(0x4df);document[_0x5178d3(0x403)](_0x5178d3(0x1db))['textContent']=_0x5178d3(0x397)+_0x31085e['topic'],document['getElementById'](_0x5178d3(0x147))[_0x5178d3(0x86f)]=_0x55c782,document['getElementById']('lesson-plan-modal')[_0x5178d3(0x67e)][_0x5178d3(0x3e9)]('hidden');if(window[_0x5178d3(0xaeb)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x2e95da){const _0x53b58f=_0x361958;let _0x408041=0x0;const _0x1121c9=_0x2e95da[_0x53b58f(0x707)],_0x523066=()=>{const _0x1d17d1=_0x53b58f,_0x53b496=_0x1121c9[_0x408041],_0x18061c=_0x1d17d1(0x35f)+(_0x408041+0x1)+_0x1d17d1(0xc41)+_0x1121c9[_0x1d17d1(0x6b7)]+_0x1d17d1(0x95a)+_0x53b496[_0x1d17d1(0xf5)]+_0x1d17d1(0x7a6)+_0x53b496[_0x1d17d1(0x6a5)][_0x1d17d1(0x961)]((_0x4645f3,_0x4c2918)=>_0x1d17d1(0x21d)+_0x4c2918+_0x1d17d1(0x9be)+_0x4c2918+_0x1d17d1(0xb4b)+_0x4c2918+'\x22>'+_0x4645f3+_0x1d17d1(0x622))[_0x1d17d1(0xbcc)]('')+_0x1d17d1(0xcb7);studentQuizArea[_0x1d17d1(0x86f)]=_0x18061c;if(window[_0x1d17d1(0xaeb)])MathJax[_0x1d17d1(0x738)]([studentQuizArea]);document[_0x1d17d1(0x403)](_0x1d17d1(0x9ed))[_0x1d17d1(0x224)](_0x1d17d1(0x920),async()=>{const _0x3b8b46=_0x1d17d1,_0x3f47cc=await getHintForQuestion(_0x53b496[_0x3b8b46(0xf5)]);showMessage(_0x3f47cc);}),document[_0x1d17d1(0x403)](_0x1d17d1(0x1c6))[_0x1d17d1(0x224)](_0x1d17d1(0x920),()=>{const _0x3073fa=_0x1d17d1,_0x3795bc=document[_0x3073fa(0x314)]('input[name=\x22drill_answer\x22]:checked');if(!_0x3795bc){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x415237=document[_0x3073fa(0x403)](_0x3073fa(0x182)),_0x3a0a7e=parseInt(_0x3795bc['value'])===_0x53b496[_0x3073fa(0x47b)];_0x3a0a7e?(_0x415237[_0x3073fa(0x7e5)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x415237['innerHTML']='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x53b496['explanation']):(_0x415237[_0x3073fa(0x7e5)]=_0x3073fa(0x3af),_0x415237[_0x3073fa(0x86f)]=_0x3073fa(0xa75)+_0x53b496[_0x3073fa(0x923)]);_0x415237[_0x3073fa(0x67e)][_0x3073fa(0x3e9)]('hidden');if(window[_0x3073fa(0xaeb)])MathJax[_0x3073fa(0x738)]([_0x415237]);document[_0x3073fa(0x403)](_0x3073fa(0x1c6))[_0x3073fa(0x67e)][_0x3073fa(0x7be)](_0x3073fa(0x17c)),document[_0x3073fa(0x403)](_0x3073fa(0x9ed))['classList'][_0x3073fa(0x7be)]('hidden'),document['getElementById']('next-drill-btn')[_0x3073fa(0x67e)][_0x3073fa(0x3e9)](_0x3073fa(0x17c));}),document[_0x1d17d1(0x403)](_0x1d17d1(0x9d8))[_0x1d17d1(0x224)](_0x1d17d1(0x920),()=>{const _0x4b615a=_0x1d17d1;_0x408041++,_0x408041<_0x1121c9['length']?_0x523066():(studentQuizArea[_0x4b615a(0x86f)]=_0x4b615a(0x918),document[_0x4b615a(0x403)](_0x4b615a(0x571))[_0x4b615a(0x224)](_0x4b615a(0x920),()=>{const _0x1aa34b=_0x4b615a;studentQuizArea[_0x1aa34b(0x67e)]['add'](_0x1aa34b(0x17c)),studentResultArea[_0x1aa34b(0x67e)][_0x1aa34b(0x3e9)](_0x1aa34b(0x17c));}));});};_0x523066();}async function getHintForQuestion(_0x1f086d){const _0x50bf83=_0x361958,_0x161d05=_0x50bf83(0x895)+_0x1f086d+_0x50bf83(0x513),_0x5beff3={'type':_0x50bf83(0xbb5),'properties':{'hint':{'type':'STRING'}},'required':[_0x50bf83(0xbed)]};try{const _0x128763=await callAnalysisApi(_0x161d05,_0x5beff3);return _0x128763[_0x50bf83(0xbed)];}catch(_0x207a92){return console['error'](_0x50bf83(0x287),_0x207a92),_0x50bf83(0xc61);}}async function extractTextFromPdf(_0xb56543){const _0x1b8fbd=_0x361958;pdfjsLib[_0x1b8fbd(0x462)][_0x1b8fbd(0x713)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x3ddcf3=await _0xb56543['arrayBuffer'](),_0x17b5a3=await pdfjsLib[_0x1b8fbd(0x7e0)](_0x3ddcf3)[_0x1b8fbd(0xbb7)],_0x107b93=_0x17b5a3['numPages'];let _0x5c5f78='';for(let _0x4d64aa=0x1;_0x4d64aa<=_0x107b93;_0x4d64aa++){const _0x42fcef=await _0x17b5a3[_0x1b8fbd(0x70e)](_0x4d64aa),_0x48ab96=await _0x42fcef['getTextContent'](),_0x542ac9=_0x48ab96[_0x1b8fbd(0x61c)]['map'](_0x25ebbf=>_0x25ebbf[_0x1b8fbd(0x6fd)])[_0x1b8fbd(0xbcc)]('\x20');_0x5c5f78+=_0x542ac9+'\x0a\x0a';}return _0x5c5f78;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x151476){const _0x645f53=_0x361958,_0x3fba72=document['getElementById'](_0x645f53(0x7e6)),_0x3f54e2=document['getElementById'](_0x645f53(0x2c7)),_0x194f60=document[_0x645f53(0x403)](_0x645f53(0xcf9));_0x3fba72[_0x645f53(0x67e)]['remove']('hidden'),_0x3f54e2[_0x645f53(0x86f)]=_0x645f53(0x3ae),_0x194f60['classList'][_0x645f53(0x7be)](_0x645f53(0x17c));try{const _0x208ce5=_0x645f53(0x28e)+_0x151476+_0x645f53(0x139),_0x5d69f6={'type':_0x645f53(0xbb5),'properties':{'gradeLevel':{'type':_0x645f53(0xef)},'curriculum':{'type':_0x645f53(0xb41),'items':{'type':_0x645f53(0xbb5),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x645f53(0xb41),'items':{'type':_0x645f53(0xbb5),'properties':{'topicName':{'type':_0x645f53(0xef)},'subTopics':{'type':'ARRAY','items':{'type':_0x645f53(0xef)}}},'required':[_0x645f53(0xc7f),_0x645f53(0x22b)]}}},'required':[_0x645f53(0xb11),_0x645f53(0x312)]}}},'required':[_0x645f53(0x8c2),_0x645f53(0x212)]},_0x46158f=await callAnalysisApi(_0x208ce5,_0x5d69f6);if(_0x46158f&&_0x46158f[_0x645f53(0x212)])extractedBlueprintData=_0x46158f,renderBlueprintTopics(_0x46158f),_0x194f60[_0x645f53(0x67e)][_0x645f53(0x3e9)](_0x645f53(0x17c));else throw new Error(_0x645f53(0x2f5));}catch(_0x7a61a2){console[_0x645f53(0x51e)]('Error\x20analyzing\x20blueprint\x20topics:',_0x7a61a2),_0x3f54e2['innerHTML']=_0x645f53(0x63b);}}function renderBlueprintTopics(_0x59a596){const _0x44d73e=_0x361958,_0x49b36b=document[_0x44d73e(0x403)](_0x44d73e(0x2c7)),_0x41a3e8=_0x59a596[_0x44d73e(0x8c2)],_0x1fc354=_0x44d73e(0x417)+_0x41a3e8+'</h3>';let _0x53b836='';_0x59a596['curriculum'][_0x44d73e(0x384)](_0x32147e=>{const _0x33a5f4=_0x44d73e;_0x53b836+=_0x33a5f4(0xb06)+_0x32147e[_0x33a5f4(0xb11)]+'</h4>',_0x32147e[_0x33a5f4(0x312)][_0x33a5f4(0x384)](_0x23d114=>{const _0x5e8e8b=_0x33a5f4;_0x53b836+=_0x5e8e8b(0xa44)+_0x23d114[_0x5e8e8b(0xc7f)]+_0x5e8e8b(0x841),_0x23d114['subTopics'][_0x5e8e8b(0x384)](_0x265c4c=>{const _0x1f01e5=_0x5e8e8b;_0x53b836+=_0x1f01e5(0x9cf)+_0x265c4c[_0x1f01e5(0x46f)](/'/g,'\x5c\x27')+_0x1f01e5(0x659)+_0x41a3e8[_0x1f01e5(0x46f)](/'/g,'\x5c\x27')+_0x1f01e5(0xa53)+_0x265c4c+_0x1f01e5(0x178)+_0x265c4c[_0x1f01e5(0x46f)](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a';}),_0x53b836+=_0x5e8e8b(0x731);}),_0x53b836+=_0x33a5f4(0x517);}),_0x49b36b[_0x44d73e(0x86f)]=_0x1fc354+_0x53b836;}async function handleGenerateTeachingContent(_0x559798){const _0x5d934a=_0x361958,_0x1af233=document['getElementById'](_0x5d934a(0xba8)),_0x3f4d3c=document[_0x5d934a(0x403)](_0x5d934a(0x147));document[_0x5d934a(0x403)](_0x5d934a(0x1db))[_0x5d934a(0x317)]='กำลังสร้างเนื้อหา:\x20'+_0x559798,_0x3f4d3c[_0x5d934a(0x86f)]=_0x5d934a(0x558),_0x1af233[_0x5d934a(0x67e)][_0x5d934a(0x3e9)](_0x5d934a(0x17c));try{const _0x2be97c=_0x5d934a(0x5da)+_0x559798+_0x5d934a(0xafd),_0x1bf887={'type':_0x5d934a(0xbb5),'properties':{'keyConcepts':{'type':_0x5d934a(0xb41),'items':{'type':'STRING'}},'commonMistakes':{'type':'ARRAY','items':{'type':_0x5d934a(0xef)}},'stepByStepExamples':{'type':'ARRAY','items':{'type':_0x5d934a(0xbb5),'properties':{'question':{'type':_0x5d934a(0xef)},'solution':{'type':_0x5d934a(0xef)}},'required':['question','solution']}},'teacherTips':{'type':_0x5d934a(0xb41),'items':{'type':_0x5d934a(0xef)}}},'required':[_0x5d934a(0x3e4),_0x5d934a(0xbb3),_0x5d934a(0x7ab),_0x5d934a(0x250)]},_0xcf3d1e=await callAnalysisApi(_0x2be97c,_0x1bf887);displayTeachingContent(_0xcf3d1e,_0x559798);}catch(_0x2961ef){console['error'](_0x5d934a(0x404),_0x2961ef),_0x3f4d3c['innerHTML']=_0x5d934a(0x4e9)+_0x2961ef['message']+'</p>';}}function displayTeachingContent(_0x3fa33d,_0x1fd3eb){const _0x4efd0b=_0x361958,_0x3d5fec=document[_0x4efd0b(0x403)](_0x4efd0b(0x147));document[_0x4efd0b(0x403)](_0x4efd0b(0x1db))[_0x4efd0b(0x317)]=_0x4efd0b(0xb40)+_0x1fd3eb;const _0x3775bd=_0x4efd0b(0x620)+_0x3fa33d[_0x4efd0b(0x3e4)][_0x4efd0b(0x961)](_0x408ede=>_0x4efd0b(0x4d8)+_0x408ede+_0x4efd0b(0x9db))[_0x4efd0b(0xbcc)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x3fa33d[_0x4efd0b(0xbb3)][_0x4efd0b(0x961)](_0x324f94=>_0x4efd0b(0x4d8)+_0x324f94+'</li>')[_0x4efd0b(0xbcc)]('')+_0x4efd0b(0x926)+_0x3fa33d[_0x4efd0b(0x7ab)][_0x4efd0b(0x961)](_0xab192b=>_0x4efd0b(0x8fd)+_0xab192b['question']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0xab192b['solution']+_0x4efd0b(0x4c7))[_0x4efd0b(0xbcc)]('')+_0x4efd0b(0x8d5)+_0x3fa33d[_0x4efd0b(0x250)][_0x4efd0b(0x961)](_0x3388d3=>_0x4efd0b(0x4d8)+_0x3388d3+_0x4efd0b(0x9db))[_0x4efd0b(0xbcc)]('')+_0x4efd0b(0x9c4);_0x3d5fec[_0x4efd0b(0x86f)]=_0x3775bd;if(window[_0x4efd0b(0xaeb)])MathJax[_0x4efd0b(0x738)]([_0x3d5fec]);}async function generateQuizForSingleTopic(_0xdb2e36){const _0x2b8cb7=_0x361958;console['log'](_0x2b8cb7(0x86e)+_0xdb2e36+'\x22');const _0x55da92=document['getElementById'](_0x2b8cb7(0x43e)),_0x43decc=_0x55da92[_0x2b8cb7(0xb48)][_0x2b8cb7(0x6b7)]>0x0?_0x55da92[_0x2b8cb7(0xb48)][0x0]:null;let _0x1181c8=null;if(_0x43decc)try{const _0x24bfe7=new FileReader();_0x24bfe7[_0x2b8cb7(0xa04)](_0x43decc);const _0x161ffc=await new Promise((_0x2802f2,_0x5c9d14)=>{const _0x40b00f=_0x2b8cb7;_0x24bfe7[_0x40b00f(0x9d4)]=()=>_0x2802f2(_0x24bfe7['result'][_0x40b00f(0xc4b)](',')[0x1]),_0x24bfe7[_0x40b00f(0x257)]=_0x5c9ad5=>_0x5c9d14(_0x5c9ad5);});_0x1181c8=[{'inlineData':{'mimeType':_0x43decc[_0x2b8cb7(0x61e)],'data':_0x161ffc}}];}catch(_0x29091b){console[_0x2b8cb7(0x51e)](_0x2b8cb7(0x2f6),_0x29091b),showMessage(_0x2b8cb7(0x20a));return;}generateQuiz(_0xdb2e36,null,null,_0x1181c8,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x3c6aa5=null){const _0x5516b3=_0x361958,_0x3927b1=document[_0x5516b3(0x403)](_0x5516b3(0x85f)),_0x105d02=document[_0x5516b3(0x403)](_0x5516b3(0x219));let _0x43d6c3,_0x313ca6=[];if(_0x3c6aa5)_0x43d6c3=_0x3c6aa5,_0x313ca6=_0x43d6c3[_0x5516b3(0x4ca)](0x2);else{const _0x38c915=document[_0x5516b3(0x403)]('blueprint-upload-input'),_0x4d4565=document[_0x5516b3(0x403)](_0x5516b3(0x43e)),_0xbfe1e7=_0x38c915[_0x5516b3(0xb48)][0x0];if(!_0xbfe1e7){showMessage(_0x5516b3(0x17a));return;}_0x105d02['textContent']=_0x5516b3(0x995);const _0x375085=await new Promise((_0x11b3a1,_0x673768)=>{const _0x5f5b88=_0x5516b3,_0x1732f0=new FileReader();_0x1732f0['readAsDataURL'](_0xbfe1e7),_0x1732f0['onload']=()=>_0x11b3a1(_0x1732f0['result']['split'](',')[0x1]),_0x1732f0[_0x5f5b88(0x257)]=_0x673768;});_0x43d6c3=[{'text':_0x5516b3(0x564)},{'inlineData':{'mimeType':_0xbfe1e7['type'],'data':_0x375085}}];if(_0x4d4565['files'][_0x5516b3(0x6b7)]>0x0){const _0x5d7236=_0x4d4565[_0x5516b3(0xb48)][0x0];_0x105d02[_0x5516b3(0x317)]=_0x5516b3(0x9d1);const _0x5b43f9=await new Promise((_0x191750,_0x208e45)=>{const _0x528b3c=_0x5516b3,_0x2b9048=new FileReader();_0x2b9048[_0x528b3c(0xa04)](_0x5d7236),_0x2b9048[_0x528b3c(0x9d4)]=()=>_0x191750(_0x2b9048[_0x528b3c(0x8f1)]['split'](',')[0x1]),_0x2b9048[_0x528b3c(0x257)]=_0x208e45;}),_0x5e9737={'inlineData':{'mimeType':_0x5d7236[_0x5516b3(0x61e)],'data':_0x5b43f9}};_0x43d6c3[_0x5516b3(0x798)](_0x5e9737),_0x313ca6[_0x5516b3(0x798)](_0x5e9737);}}const _0x35d4a1=_0x5516b3(0xb67),_0x133544=_0x5516b3(0xaf0);let _0x47005f='';_0x313ca6&&_0x313ca6['length']>0x0?_0x47005f=_0x35d4a1:_0x47005f=_0x133544;const _0x5df1c3=_0x5516b3(0x55e)+_0x47005f+'\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x4f743b={'type':_0x5516b3(0xbb5),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x5516b3(0x736),'short_answer',_0x5516b3(0x891),_0x5516b3(0x886)]},'options':{'type':_0x5516b3(0xb41),'items':{'type':_0x5516b3(0xef)}},'correctAnswerIndex':{'type':_0x5516b3(0x6b8)},'idealAnswer':{'type':_0x5516b3(0xef)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x5516b3(0xef)},'imageCode':{'type':_0x5516b3(0xef)}},'required':['questionType',_0x5516b3(0x923)]},_0x26aab0={'type':_0x5516b3(0xbb5),'properties':{'topic':{'type':_0x5516b3(0xef)},'questions':{'type':_0x5516b3(0xb41),'items':_0x4f743b}},'required':[_0x5516b3(0x411),'questions']};_0x43d6c3[0x0][_0x5516b3(0x90b)]=_0x5df1c3,await handleApiCall(_0x43d6c3,_0x5516b3(0x455),_0x26aab0);}function proceedToNextQuestion(_0xa3a70){const _0x3147d2=_0x361958;studentAnswersPerQuestion['push'](_0xa3a70),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x3147d2(0x707)][_0x3147d2(0x6b7)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x12c104,_0x20bc79,_0x2f3356){const _0x42a01a=_0x361958,_0x5bf7fc=Object[_0x42a01a(0x9bd)](_0x12c104[_0x42a01a(0x414)]||{}),_0x5c5dbd=_0x5bf7fc[_0x42a01a(0x6b7)],_0x1b8b0d=_0x2f3356,_0xcaf3b7=_0x12c104[_0x42a01a(0x8f6)]['questions'],_0x5035d4=_0xcaf3b7[_0x1b8b0d],_0x8f6856=_0x5b8ab9=>String[_0x42a01a(0x4f7)](0x41+_0x5b8ab9),_0x33e096=_0x12c104['gameVariant']||'classic',_0xc0c43b=_0x33e096===_0x42a01a(0x27d),_0x1fdf48=_0x12c104[_0x42a01a(0x555)]===!![],_0x1c48c1=_0x33e096===_0x42a01a(0x8c9),_0x5ebedb=_0x5bf7fc['map'](_0x5b6cf3=>{const _0x23e7dc=_0x42a01a,_0xc6282a=_0x5b6cf3[_0x23e7dc(0xa6e)]||0x0;let _0x2e3b1c=0x0;return _0x12c104[_0x23e7dc(0x131)]&&_0x5b6cf3['answers']&&_0x5b6cf3[_0x23e7dc(0x379)][_0x23e7dc(0x384)](_0x2887f3=>{const _0x39c686=_0x23e7dc;if(_0x2887f3[_0x39c686(0x4dd)]&&(_0x2887f3[_0x39c686(0x481)]===!![]||_0x2887f3['wasConfident']===_0x39c686(0x28a)))_0x2e3b1c+=0x1;else!_0x2887f3[_0x39c686(0x4dd)]&&(_0x2887f3[_0x39c686(0x481)]===!![]||_0x2887f3[_0x39c686(0x481)]===_0x39c686(0x28a))&&(_0x2e3b1c-=0x1);}),{..._0x5b6cf3,'realScore':_0xc6282a,'confidenceBonus':_0x2e3b1c,'totalDisplayScore':_0xc6282a+_0x2e3b1c};}),_0x2d2d61=[..._0x5ebedb][_0x42a01a(0x2b7)]((_0x4ca25c,_0x982cee)=>_0x982cee[_0x42a01a(0x806)]-_0x4ca25c[_0x42a01a(0x806)]),_0x1944f0=_0x2d2d61[_0x42a01a(0x6b7)]>0x0?_0x2d2d61[0x0][_0x42a01a(0x806)]:0x0;let _0x52bd57=null;if(!_0x20bc79){const _0x5780c5=_0x5ebedb['filter'](_0x2c226d=>localTeamPlayers[_0x42a01a(0x801)](_0x2c226d[_0x42a01a(0x2ea)]));_0x5780c5[_0x42a01a(0x6b7)]>0x0?_0x52bd57=_0x5780c5[_0x42a01a(0x2b7)]((_0x22d391,_0x340f33)=>_0x340f33['totalDisplayScore']-_0x22d391[_0x42a01a(0x806)])[0x0]:_0x52bd57=_0x5ebedb[_0x42a01a(0x9f6)](_0x5b6a02=>_0x5b6a02[_0x42a01a(0x2ea)]===localTeamPlayers[0x0])||_0x5ebedb[0x0];}let _0x5b252b=null;!_0x20bc79&&_0x52bd57&&(_0x5b252b=sessionStorage['getItem'](_0x42a01a(0x3c4)),!_0x5b252b&&_0x52bd57[_0x42a01a(0x806)]===_0x1944f0&&(_0x5b252b=_0x12c104[_0x42a01a(0x32a)][_0x52bd57[_0x42a01a(0x2ea)]],sessionStorage[_0x42a01a(0x5f9)](_0x42a01a(0x3c4),_0x5b252b)));let _0x5eca1c='';if(_0x5035d4&&(!_0xc0c43b||_0x1fdf48)&&!_0x1c48c1){let _0x5c6bc6='',_0x3d032c='';const _0x5d7881=_0x5035d4[_0x42a01a(0x30c)]||_0x12c104['shuffledQuiz'][_0x42a01a(0x94d)];if(_0x5d7881===_0x42a01a(0x736)&&_0x5035d4['options']&&_0x5035d4[_0x42a01a(0x47b)]!==undefined){const _0xbcd884=_0x5035d4[_0x42a01a(0x47b)];_0x5c6bc6=_0x5035d4[_0x42a01a(0x6a5)][_0xbcd884],_0x3d032c=_0x8f6856(_0xbcd884)+'.';}else{if(_0x5d7881===_0x42a01a(0x891)){const _0x183610=_0x5035d4[_0x42a01a(0xc73)]===!![]||String(_0x5035d4[_0x42a01a(0xc73)])[_0x42a01a(0x985)]()===_0x42a01a(0x4db);_0x183610?(_0x5c6bc6=_0x42a01a(0x12c),_0x3d032c='ก.'):(_0x5c6bc6=_0x42a01a(0x542),_0x3d032c='ข.');}else{if(_0x5d7881===_0x42a01a(0x886))_0x5c6bc6=_0x5035d4[_0x42a01a(0x8c7)]||'-',_0x3d032c='';else _0x5d7881===_0x42a01a(0x385)&&(_0x5c6bc6=_0x5035d4['idealAnswer']||'-',_0x3d032c='');}}_0x5c6bc6&&(_0x5eca1c=_0x42a01a(0xb2d)+(_0x1b8b0d+0x1)+_0x42a01a(0x5aa)+_0x3d032c+'\x20'+_0x5c6bc6+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x3af890=_0x2d2d61['map'](_0x5f282c=>{const _0x2cbcd2=_0x42a01a;let _0x4ee3c8=_0x5f282c[_0x2cbcd2(0x806)];if(_0x33e096===_0x2cbcd2(0x3cb)){const _0x2f3f29=(_0x5f282c[_0x2cbcd2(0x379)]||[])[_0x2cbcd2(0x9df)](_0xec844b=>_0xec844b['questionIndex']<=_0x1b8b0d),_0x22f403=_0x2f3f29[_0x2cbcd2(0x9df)](_0x45c436=>_0x45c436[_0x2cbcd2(0x4dd)])[_0x2cbcd2(0x6b7)];let _0x2b9819=0x0;_0x12c104[_0x2cbcd2(0x131)]&&_0x2f3f29[_0x2cbcd2(0x384)](_0x5605dd=>{const _0x2b359c=_0x2cbcd2;if(_0x5605dd[_0x2b359c(0x4dd)]&&(_0x5605dd['wasConfident']===!![]||_0x5605dd[_0x2b359c(0x481)]===_0x2b359c(0x28a)))_0x2b9819+=0x1;else{if(!_0x5605dd[_0x2b359c(0x4dd)]&&(_0x5605dd[_0x2b359c(0x481)]===!![]||_0x5605dd[_0x2b359c(0x481)]===_0x2b359c(0x28a)))_0x2b9819-=0x1;}}),_0x4ee3c8=_0x22f403+_0x2b9819;}let _0x36fd86=_0x2cbcd2(0xc70);if(!_0x1c48c1){const _0x3f2065=(_0x5f282c['answers']||[])[_0x2cbcd2(0x9f6)](_0x564f92=>_0x564f92['questionIndex']===_0x1b8b0d);if(_0x3f2065){const _0x3a9ad1=_0x3f2065[_0x2cbcd2(0x4dd)],_0x1312d4=_0x3f2065[_0x2cbcd2(0x481)]===!![]||_0x3f2065['wasConfident']===_0x2cbcd2(0x28a);if(_0x1312d4&&_0x3a9ad1)_0x36fd86=_0x2cbcd2(0x2a4);else{if(_0x1312d4&&!_0x3a9ad1)_0x36fd86=_0x2cbcd2(0x7d5);else{if(!_0x1312d4&&_0x3a9ad1)_0x36fd86=_0x2cbcd2(0x819);}}}}let _0x43fb08='';const _0x7f0d31=_0x5f282c[_0x2cbcd2(0x2ea)],_0x399e70=_0x12c104['playerNicknames'][_0x5f282c[_0x2cbcd2(0x2ea)]]||_0x2cbcd2(0x575),_0x63b2f3=_0x2cbcd2(0x72e),_0x170dac=_0x2cbcd2(0x2e7);if(_0x20bc79){if(_0xc0c43b&&!_0x1fdf48)_0x43fb08='<div\x20style=\x22'+_0x63b2f3+_0x2cbcd2(0x8bd)+_0x399e70+'\x22><span\x20style=\x22'+_0x170dac+'\x22>'+_0x399e70+'</span></div>';else _0xc0c43b&&_0x1fdf48?_0x43fb08=_0x2cbcd2(0x12b)+_0x63b2f3+_0x2cbcd2(0x8bd)+_0x7f0d31+'\x20('+_0x399e70+_0x2cbcd2(0x9a8)+_0x170dac+'\x22>'+_0x7f0d31+_0x2cbcd2(0xc6e)+_0x170dac+_0x2cbcd2(0x1e4)+_0x399e70+_0x2cbcd2(0x570):_0x43fb08=_0x2cbcd2(0x12b)+_0x63b2f3+'\x22\x20title=\x22'+_0x7f0d31+_0x2cbcd2(0xb16)+_0x170dac+'\x22>'+_0x7f0d31+_0x2cbcd2(0x190);}else _0xc0c43b?_0x7f0d31===_0x52bd57[_0x2cbcd2(0x2ea)]?_0x5b252b?_0x43fb08='<div\x20style=\x22'+_0x63b2f3+_0x2cbcd2(0x8bd)+_0x7f0d31+'\x20('+_0x5b252b+')\x22><span\x20style=\x22'+_0x170dac+'\x22>'+_0x7f0d31+_0x2cbcd2(0xc6e)+_0x170dac+_0x2cbcd2(0x1e4)+_0x5b252b+_0x2cbcd2(0x570):_0x43fb08=_0x2cbcd2(0x12b)+_0x63b2f3+'\x22\x20title=\x22'+_0x7f0d31+_0x2cbcd2(0xb16)+_0x170dac+'\x22>'+_0x7f0d31+_0x2cbcd2(0x92d)+_0x170dac+_0x2cbcd2(0xb1f):_0x52bd57['totalDisplayScore']>_0x5f282c['totalDisplayScore']?_0x43fb08=_0x2cbcd2(0x12b)+_0x63b2f3+'\x22\x20title=\x22'+_0x7f0d31+'\x20('+_0x399e70+')\x22><span\x20style=\x22'+_0x170dac+'\x22>'+_0x7f0d31+_0x2cbcd2(0xc6e)+_0x170dac+_0x2cbcd2(0x1e4)+_0x399e70+_0x2cbcd2(0x570):_0x43fb08=_0x2cbcd2(0x12b)+_0x63b2f3+'\x22\x20title=\x22'+_0x399e70+_0x2cbcd2(0xb16)+_0x170dac+'\x22>'+_0x399e70+'</span></div>':_0x43fb08=_0x2cbcd2(0x12b)+_0x63b2f3+_0x2cbcd2(0x8bd)+_0x7f0d31+_0x2cbcd2(0xb16)+_0x170dac+'\x22>'+_0x7f0d31+_0x2cbcd2(0x190);const _0x1db94e=_0x1c48c1?'':_0x2cbcd2(0xa60)+_0x4ee3c8+_0x2cbcd2(0x89b);return _0x2cbcd2(0xa9b)+_0x36fd86+'\x20gap-2\x22>'+_0x43fb08+_0x1db94e+'</div>';})[_0x42a01a(0xbcc)](''),_0x411404=_0xcaf3b7[_0x42a01a(0x961)]((_0x46ac8d,_0xb2c96b)=>{const _0x468fcd=_0x42a01a;if(_0x33e096===_0x468fcd(0x3cb)&&_0xb2c96b>_0x1b8b0d||_0x1c48c1)return'';const _0x2d2fde=_0x5bf7fc[_0x468fcd(0x9df)](_0x2b8595=>_0x2b8595[_0x468fcd(0x379)]&&_0x2b8595[_0x468fcd(0x379)]['find'](_0x2821c9=>_0x2821c9['questionIndex']===_0xb2c96b&&_0x2821c9[_0x468fcd(0x4dd)]))['length'],_0x23eff3=_0xb2c96b===_0x1b8b0d,_0x187228=_0x23eff3?_0x468fcd(0x784):'p-2\x20bg-black/10\x20rounded-md';return _0x468fcd(0x8a2)+_0x187228+_0x468fcd(0x9b4)+(_0xb2c96b+0x1)+_0x468fcd(0xcaa)+_0x2d2fde+_0x468fcd(0xc41)+_0x5c5dbd+_0x468fcd(0x6c4);})[_0x42a01a(0xbcc)]('');let _0x5f41ed='',_0x3ef37d='';if(_0x20bc79){const _0x211cb8=_0x33e096==='classic'&&_0x12c104['currentQuestionIndex']>=_0xcaf3b7['length']-0x1,_0x54ec79=_0x33e096===_0x42a01a(0x3cb)&&_0x12c104[_0x42a01a(0x561)]>=_0xcaf3b7[_0x42a01a(0x6b7)]-0x1,_0x5ac07a=_0x33e096==='anonymous'&&_0x12c104['currentQuestionIndex']>=_0xcaf3b7[_0x42a01a(0x6b7)]-0x1,_0x5da1a6=_0x33e096===_0x42a01a(0x8c9)&&_0x12c104[_0x42a01a(0x19a)]>=_0xcaf3b7['length']-0x1;_0x211cb8||_0x54ec79||_0x5ac07a||_0x5da1a6?_0xc0c43b&&!_0x1fdf48?_0x5f41ed=_0x42a01a(0xac0):_0x5f41ed=_0x42a01a(0x50a):_0x5f41ed='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',_0x3ef37d=_0x42a01a(0x7da);}const _0x43c4b6=_0x1c48c1?'':_0x42a01a(0xa69)+_0x411404+'</div></div>',_0x50bd0d=_0x1c48c1?_0x42a01a(0x70d):_0x42a01a(0x502),_0x558b0c=_0x42a01a(0x52f)+_0x12c104[_0x42a01a(0x8f6)][_0x42a01a(0x411)]+_0x42a01a(0x5e4)+_0x12c104['pin']+_0x42a01a(0x4b0)+_0x3ef37d+_0x42a01a(0x1d3)+_0x5eca1c+_0x42a01a(0x92c)+_0x50bd0d+_0x42a01a(0x669)+(_0x3af890||_0x42a01a(0x7f7))+_0x42a01a(0x5ad)+_0x43c4b6+_0x42a01a(0x1d3)+(_0x20bc79?_0x42a01a(0x8b9)+_0x5f41ed+_0x42a01a(0x517):'')+_0x42a01a(0x87f);liveGameView[_0x42a01a(0x86f)]=_0x558b0c;if(window['MathJax']){const _0x466cc4=document[_0x42a01a(0x403)]('main-correct-answer-display');_0x466cc4&&MathJax[_0x42a01a(0x738)]([_0x466cc4]);}if(_0x20bc79){document[_0x42a01a(0x403)](_0x42a01a(0x496))['onclick']=async()=>{const _0x17490b=_0x42a01a,_0x3eb70b=doc(db,_0x17490b(0x418)+appId+_0x17490b(0x996),currentLiveGameId),_0x1748e1=_0x33e096===_0x17490b(0x306)&&_0x12c104['currentQuestionIndex']>=_0xcaf3b7['length']-0x1,_0xd61f2=_0x33e096==='reveal_at_end'&&_0x12c104[_0x17490b(0x561)]>=_0xcaf3b7[_0x17490b(0x6b7)]-0x1,_0x1ece43=_0x33e096===_0x17490b(0x27d)&&_0x12c104['currentQuestionIndex']>=_0xcaf3b7[_0x17490b(0x6b7)]-0x1,_0x2d9f9d=_0x33e096===_0x17490b(0x8c9)&&_0x12c104[_0x17490b(0x19a)]>=_0xcaf3b7['length']-0x1;if(_0x33e096===_0x17490b(0x3cb))!_0xd61f2?await updateDoc(_0x3eb70b,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x3eb70b,{'status':'podium'});else{if(!_0x1748e1&&!_0x1ece43&&!_0x2d9f9d){const _0x4bce92=_0x12c104[_0x17490b(0x19a)]+0x1,_0x378e25={};Object[_0x17490b(0x293)](_0x12c104[_0x17490b(0x414)])[_0x17490b(0x384)](_0x33567a=>{const _0x5ee9f2=_0x17490b;_0x378e25[_0x5ee9f2(0x1d7)+_0x33567a+_0x5ee9f2(0x8b1)]=![],_0x378e25[_0x5ee9f2(0x1d7)+_0x33567a+_0x5ee9f2(0x6e2)]=null;}),await updateDoc(_0x3eb70b,{..._0x378e25,'status':_0x17490b(0x852),'currentQuestionIndex':_0x4bce92,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x3eb70b,{'status':_0x17490b(0x29c)});}},document['getElementById'](_0x42a01a(0x880))?.[_0x42a01a(0x224)]('click',async()=>{const _0x2e477a=_0x42a01a;await updateDoc(doc(db,_0x2e477a(0x418)+appId+_0x2e477a(0x996),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x30786c=document[_0x42a01a(0x403)](_0x42a01a(0xa83));_0x30786c&&(_0x30786c['onclick']=()=>{const _0x3f7383=_0x42a01a;showConfirmation(_0x3f7383(0x9cd),async()=>{const _0x655b5e=_0x3f7383;await updateDoc(doc(db,_0x655b5e(0x418)+appId+'/public/data/syncGames',currentLiveGameId),{'status':_0x655b5e(0x29c)});});});}}async function handleGenerateParallelFromBank(_0x17dba4){const _0x53b561=_0x361958,_0x492cbb=document[_0x53b561(0x403)](_0x53b561(0x66e)),_0x5421e2=document[_0x53b561(0x403)](_0x53b561(0x807));_0x5421e2['classList']['add'](_0x53b561(0x17c));const _0xecbe43=_0x53b561(0xc50)+_0x17dba4['topic']+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x492cbb['insertAdjacentHTML'](_0x53b561(0xc9b),_0xecbe43);const _0x29e41a=document[_0x53b561(0x403)](_0x53b561(0xb03));try{const _0x4b4b63=_0x17dba4[_0x53b561(0x707)]['map']((_0x1f74fd,_0x124a71)=>{const _0x58a947=_0x53b561;let _0x26be2c=_0x124a71+0x1+'.\x20'+(_0x1f74fd[_0x58a947(0xf5)]||_0x1f74fd[_0x58a947(0xb42)])+'\x0a';if(_0x1f74fd[_0x58a947(0x6a5)])_0x26be2c+=_0x1f74fd[_0x58a947(0x6a5)][_0x58a947(0x961)]((_0x36c593,_0x25e2d6)=>_0x58a947(0x887)+(_0x25e2d6===_0x1f74fd[_0x58a947(0x47b)]?_0x58a947(0x1e6):'')+'\x20'+_0x36c593)[_0x58a947(0xbcc)]('\x0a');else _0x1f74fd[_0x58a947(0x94b)]&&(_0x26be2c+=_0x58a947(0xb61)+_0x1f74fd[_0x58a947(0x94b)]);return _0x26be2c;})[_0x53b561(0xbcc)]('\x0a\x0a');_0x29e41a[_0x53b561(0x317)]=_0x53b561(0x3d1);const _0x534332='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x17dba4['topic']+_0x53b561(0x51f)+_0x4b4b63+_0x53b561(0xabb)+simpleMathPrompt+_0x53b561(0x99e),_0x501adb={'type':_0x53b561(0xbb5),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x53b561(0xef),'enum':['multiple_choice',_0x53b561(0x385),_0x53b561(0x891),'matching_item']},'options':{'type':'ARRAY','items':{'type':_0x53b561(0xef)}},'correctAnswerIndex':{'type':_0x53b561(0x6b8)},'idealAnswer':{'type':_0x53b561(0xef)},'correctAnswer':{'type':_0x53b561(0x4b9)},'stem':{'type':_0x53b561(0xef)},'correctResponse':{'type':_0x53b561(0xef)},'allResponses':{'type':_0x53b561(0xb41),'items':{'type':'STRING'}},'explanation':{'type':_0x53b561(0xef)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x53b561(0x923)]},_0x49b414={'type':_0x53b561(0xbb5),'properties':{'topic':{'type':_0x53b561(0xef)},'questions':{'type':_0x53b561(0xb41),'items':_0x501adb}},'required':['topic',_0x53b561(0x707)]},_0x4f1cbc=await callAnalysisApi(_0x534332,_0x49b414),_0xe4f829=_0x4f1cbc['questions'][_0x53b561(0x961)]((_0xa03a01,_0x5aec1d)=>({..._0xa03a01,'id':'q_'+Date[_0x53b561(0x166)]()+'_'+_0x5aec1d})),_0x310926=_0x53b561(0xc3a)+_0x17dba4[_0x53b561(0x411)],_0x190745={'topic':_0x310926,'questions':_0xe4f829,'quizType':_0x17dba4['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x17dba4['settings'],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x585bd7;while(!![]){_0x585bd7=Math[_0x53b561(0x15f)](0x3e8+Math[_0x53b561(0x427)]()*0x2328)[_0x53b561(0x292)]();const _0x2b5fe4=await getDoc(doc(db,_0x53b561(0x418)+appId+'/public/data/quizzes',_0x585bd7));if(!_0x2b5fe4[_0x53b561(0x6f9)]())break;}await setDoc(doc(db,_0x53b561(0x418)+appId+'/public/data/quizzes',_0x585bd7),_0x190745),showMessage(_0x53b561(0x44b));}catch(_0x54b295){console[_0x53b561(0x51e)](_0x53b561(0x83c),_0x54b295),showMessage(_0x53b561(0x201)+_0x54b295[_0x53b561(0x931)]);}finally{const _0x194b6f=document[_0x53b561(0x403)](_0x53b561(0x521));_0x194b6f&&_0x194b6f[_0x53b561(0x3e9)](),_0x5421e2['classList'][_0x53b561(0x3e9)](_0x53b561(0x17c));}}async function handleGenerateParallelPostTest(_0x3dbb44){const _0x396e78=_0x361958,_0x249b2e=document[_0x396e78(0x403)]('results-tab-content'),_0x58a870=document[_0x396e78(0x403)]('project-quizzes-list');_0x58a870[_0x396e78(0x67e)][_0x396e78(0x7be)](_0x396e78(0x17c));const _0x19aa11='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x249b2e['insertAdjacentHTML'](_0x396e78(0xc9b),_0x19aa11);try{const _0x1eaef8=_0x3dbb44[_0x396e78(0x707)][_0x396e78(0x961)]((_0x43757b,_0x3d0fcd)=>{const _0x32361b=_0x396e78;let _0x20cd83=_0x3d0fcd+0x1+'.\x20'+(_0x43757b[_0x32361b(0xf5)]||_0x43757b[_0x32361b(0xb42)]);if(_0x43757b[_0x32361b(0x6a5)])_0x20cd83+=_0x32361b(0x429)+_0x43757b[_0x32361b(0x6a5)][_0x32361b(0xbcc)](',\x20');return _0x20cd83;})[_0x396e78(0xbcc)]('\x0a\x0a'),_0x4cc352=_0x396e78(0x5d2)+_0x3dbb44[_0x396e78(0x411)]+_0x396e78(0x98f)+_0x1eaef8+_0x396e78(0x611)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3fc6c1={'type':_0x396e78(0xbb5),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x396e78(0xb41),'items':{'type':_0x396e78(0xbb5),'properties':{'questionText':{'type':_0x396e78(0xef)},'questionType':{'type':'STRING'},'options':{'type':_0x396e78(0xb41),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x396e78(0xef)}},'required':[_0x396e78(0xf5),'explanation']}}},'required':[_0x396e78(0x411),'questions']},_0x482abd=await callAnalysisApi(_0x4cc352,_0x3fc6c1),_0x2015c0=_0x3dbb44[_0x396e78(0x411)]['replace'](_0x396e78(0x33f),'')[_0x396e78(0x783)](),_0xd48f21=_0x396e78(0x371)+_0x2015c0,_0x5a12d0={..._0x482abd,'topic':_0xd48f21,'quizType':_0x3dbb44['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x396e78(0x31c)](),'status':_0x396e78(0x70f),'settings':_0x3dbb44[_0x396e78(0x3f9)],'quizMode':_0x396e78(0x18d),'pairedQuizId':_0x3dbb44['id']};let _0x21f57c;while(!![]){_0x21f57c=Math['floor'](0x3e8+Math[_0x396e78(0x427)]()*0x2328)[_0x396e78(0x292)]();const _0x5770c1=await getDoc(doc(db,_0x396e78(0x418)+appId+_0x396e78(0x34c),_0x21f57c));if(!_0x5770c1[_0x396e78(0x6f9)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x396e78(0x34c),_0x21f57c),_0x5a12d0);const _0x3a01f0=doc(db,_0x396e78(0x418)+appId+_0x396e78(0x34c),_0x3dbb44['id']);await updateDoc(_0x3a01f0,{'pairedQuizId':_0x21f57c}),showMessage(_0x396e78(0xae9));}catch(_0x5155ce){console[_0x396e78(0x51e)](_0x396e78(0x14d),_0x5155ce),showMessage('เกิดข้อผิดพลาด:\x20'+_0x5155ce[_0x396e78(0x931)]);}finally{const _0x1b86a6=document[_0x396e78(0x403)](_0x396e78(0x521));if(_0x1b86a6)_0x1b86a6[_0x396e78(0x3e9)]();_0x58a870['classList'][_0x396e78(0x3e9)]('hidden');}}async function handleGenerateParallelTest(_0x40dc54=null){const _0xe7e7be=_0x361958;let _0x48cc04=_0x40dc54;if(!_0x48cc04){const _0xbe4db7=document[_0xe7e7be(0x403)](_0xe7e7be(0x264));_0xbe4db7[_0xe7e7be(0xb48)][_0xe7e7be(0x6b7)]>0x0&&(_0x48cc04=_0xbe4db7[_0xe7e7be(0xb48)][0x0]);}if(!_0x48cc04){showMessage(_0xe7e7be(0x587));return;}const _0x31fe34=document[_0xe7e7be(0x403)]('loader'),_0x181873=document['getElementById'](_0xe7e7be(0x219)),_0x455dbb=document['getElementById']('generated-quiz-container'),_0x257059=document[_0xe7e7be(0x403)]('generate-from-parallel-test-btn');_0x257059[_0xe7e7be(0x79a)]=!![],document[_0xe7e7be(0x403)]('quiz-generation-area')[_0xe7e7be(0x67e)][_0xe7e7be(0x3e9)](_0xe7e7be(0x17c)),_0x455dbb[_0xe7e7be(0x86f)]='',_0x31fe34['classList']['remove'](_0xe7e7be(0x17c)),_0x181873[_0xe7e7be(0x317)]=_0xe7e7be(0x38b);const _0x158136=new FileReader();_0x158136['readAsDataURL'](_0x48cc04),_0x158136[_0xe7e7be(0x9d4)]=async()=>{const _0x3070a7=_0xe7e7be;try{const _0x36bf1c=_0x158136[_0x3070a7(0x8f1)][_0x3070a7(0xc4b)](',')[0x1],_0x1f9d61=_0x48cc04['type'];_0x181873[_0x3070a7(0x317)]=_0x3070a7(0x618);const _0x1eed99=document['getElementById'](_0x3070a7(0x7c8))[_0x3070a7(0x98b)],_0x51db6d=_0x1eed99?_0x3070a7(0xcbc):'',_0x404b69=_0x3070a7(0x32e),_0x383a4f={'type':_0x3070a7(0xbb5),'properties':{'questionText':{'type':_0x3070a7(0xef)},'questionType':{'type':'STRING','enum':[_0x3070a7(0x736),_0x3070a7(0x385)]},'options':{'type':'ARRAY','items':{'type':_0x3070a7(0xef)}},'correctAnswerIndex':{'type':_0x3070a7(0x6b8)},'idealAnswer':{'type':_0x3070a7(0xef)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x3070a7(0xf5),'questionType',_0x3070a7(0x923)]},_0x13a189={'type':_0x3070a7(0xbb5),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3070a7(0xb41),'items':_0x383a4f}},'required':[_0x3070a7(0x411),_0x3070a7(0x707)]},_0x49924b=[{'text':_0x404b69},{'inlineData':{'mimeType':_0x1f9d61,'data':_0x36bf1c}}];await handleApiCall(_0x49924b,'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...',_0x13a189);}catch(_0x4ad08d){console[_0x3070a7(0x51e)](_0x3070a7(0x8da),_0x4ad08d),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4ad08d['message']),_0x455dbb[_0x3070a7(0x86f)]=_0x3070a7(0x8ac);}finally{_0x31fe34[_0x3070a7(0x67e)][_0x3070a7(0x7be)](_0x3070a7(0x17c)),_0x257059['disabled']=![];}},_0x158136['onerror']=_0xf2874f=>{const _0x39a936=_0xe7e7be;console[_0x39a936(0x51e)](_0x39a936(0x794),_0xf2874f),showMessage(_0x39a936(0xcc)),_0x31fe34[_0x39a936(0x67e)][_0x39a936(0x7be)](_0x39a936(0x17c)),_0x257059['disabled']=![];};}async function handleRegenerateQuestionInEditor(_0xda644d){const _0x53e658=_0x361958;if(currentEditingQuizData===null)return;const _0xdd63e4=document['querySelector'](_0x53e658(0xc36)+_0xda644d+'\x22]');_0xdd63e4&&(_0xdd63e4[_0x53e658(0x86f)]=_0x53e658(0x966));const _0x226416=currentEditingQuizData[_0x53e658(0x707)][_0xda644d],_0x37ada9=currentEditingQuizData[_0x53e658(0x411)],_0x15cb36=_0x226416[_0x53e658(0x30c)],_0x2131b9={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x53e658(0xb41),'items':{'type':_0x53e658(0xef)}},'correctAnswerIndex':{'type':_0x53e658(0x6b8)},'explanation':{'type':_0x53e658(0xef)}},'required':[_0x53e658(0xf5),_0x53e658(0x6a5),_0x53e658(0x47b),'explanation']},_0x442ab4={'type':_0x53e658(0xbb5),'properties':{'questionText':{'type':_0x53e658(0xef)},'idealAnswer':{'type':_0x53e658(0xef)},'explanation':{'type':_0x53e658(0xef)}},'required':[_0x53e658(0xf5),_0x53e658(0x94b),_0x53e658(0x923)]};let _0x273de0,_0x5b45ee='';_0x15cb36===_0x53e658(0x736)?(_0x273de0=_0x2131b9,_0x5b45ee=_0x53e658(0x716)):(_0x273de0=_0x442ab4,_0x5b45ee='แบบเติมคำตอบ');const _0x4ee3db=_0x53e658(0x170)+_0x37ada9+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x5b45ee+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x226416[_0x53e658(0xf5)]||_0x226416[_0x53e658(0xb42)])+_0x53e658(0xbf1)+simpleMathPrompt;try{const _0xc42ce2=await callAnalysisApi(_0x4ee3db,_0x273de0);currentEditingQuizData[_0x53e658(0x707)][_0xda644d]={..._0x226416,..._0xc42ce2},renderQuizEditor(currentEditingQuizData);}catch(_0x2a11f2){console[_0x53e658(0x51e)](_0x53e658(0x10e),_0x2a11f2),showMessage(_0x53e658(0x93f)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x13e98b=_0x361958,_0x56dc86=document['getElementById'](_0x13e98b(0x8fa));currentMode===_0x13e98b(0x412)?(adminPasswordModal['classList'][_0x13e98b(0x3e9)](_0x13e98b(0x17c)),document['getElementById'](_0x13e98b(0xc7b))['focus']()):(currentMode=_0x13e98b(0x412),_0x56dc86[_0x13e98b(0x86f)]=_0x13e98b(0x69f),_0x56dc86[_0x13e98b(0xa39)]=_0x13e98b(0xa65),showView(_0x13e98b(0x412)));}function handleAdminLogin(){const _0x558aeb=_0x361958,_0x9a7028=document[_0x558aeb(0x403)](_0x558aeb(0xc7b)),_0x1c6c95=document[_0x558aeb(0x403)](_0x558aeb(0x18f));if(_0x9a7028[_0x558aeb(0x491)]==='27411472'){adminPasswordModal[_0x558aeb(0x67e)]['add'](_0x558aeb(0x17c)),_0x9a7028['value']='',_0x1c6c95[_0x558aeb(0x67e)][_0x558aeb(0x7be)]('hidden'),currentMode=_0x558aeb(0x5b5);const _0x5d46cd=document['getElementById'](_0x558aeb(0x8fa));_0x5d46cd[_0x558aeb(0x86f)]=_0x558aeb(0x93d),_0x5d46cd['title']=_0x558aeb(0xa98),showView(_0x558aeb(0x76d));}else _0x1c6c95['classList'][_0x558aeb(0x3e9)](_0x558aeb(0x17c)),_0x9a7028[_0x558aeb(0x491)]='';}function switchProjectTab(_0x442922){const _0x4e0fa6=_0x361958;[_0x4e0fa6(0x842),_0x4e0fa6(0x536),_0x4e0fa6(0x38f)][_0x4e0fa6(0x384)](_0x4149d9=>{const _0x5ee451=_0x4e0fa6;document['getElementById'](_0x4149d9+'-tab')[_0x5ee451(0x67e)][_0x5ee451(0x3e9)](_0x5ee451(0x70f)),document[_0x5ee451(0x403)](_0x4149d9+'-tab-content')[_0x5ee451(0x67e)][_0x5ee451(0x7be)]('hidden');}),document[_0x4e0fa6(0x403)](_0x442922+_0x4e0fa6(0xc66))[_0x4e0fa6(0x67e)]['add'](_0x4e0fa6(0x70f)),document['getElementById'](_0x442922+'-tab-content')[_0x4e0fa6(0x67e)][_0x4e0fa6(0x3e9)](_0x4e0fa6(0x17c));}function switchQuizDetailTab(_0x470305){const _0x412201=_0x361958,_0xb6a228={'analytics':{'btn':_0x412201(0x228),'content':_0x412201(0x722)},'scores':{'btn':_0x412201(0x7bf),'content':_0x412201(0xc9f)},'leaderboard-quiz':{'btn':_0x412201(0xc31),'content':_0x412201(0x6f1)},'behavior-log':{'btn':_0x412201(0xbfc),'content':'behavior-log-tab-content'}};for(const _0x4d4a28 in _0xb6a228){document[_0x412201(0x403)](_0xb6a228[_0x4d4a28][_0x412201(0x200)])['classList'][_0x412201(0x3e9)](_0x412201(0x70f)),document['getElementById'](_0xb6a228[_0x4d4a28][_0x412201(0x1ab)])[_0x412201(0x67e)][_0x412201(0x7be)](_0x412201(0x17c));}document['getElementById'](_0xb6a228[_0x470305][_0x412201(0x200)])['classList'][_0x412201(0x7be)](_0x412201(0x70f)),document[_0x412201(0x403)](_0xb6a228[_0x470305][_0x412201(0x1ab)])[_0x412201(0x67e)][_0x412201(0x3e9)](_0x412201(0x17c));}function showMessage(_0x281689,_0x4678db=null){modalMessage['textContent']=_0x281689,modalConfirmAction=_0x4678db,messageModal['classList']['remove']('hidden');}function showConfirmation(_0x45cb74,_0xb0ecb3){const _0x1a55da=_0x361958;document[_0x1a55da(0x403)](_0x1a55da(0xb10))['textContent']=_0x45cb74,document[_0x1a55da(0x403)]('confirmation-modal')[_0x1a55da(0x314)]('h3')[_0x1a55da(0x317)]='ยืนยันการกระทำ',confirmAction=_0xb0ecb3,confirmationModal[_0x1a55da(0x67e)][_0x1a55da(0x3e9)](_0x1a55da(0x17c));}function listenForProjects(){const _0x2bfa5c=_0x361958,_0x3cf54b=doc(db,_0x2bfa5c(0x6a2),_0x2bfa5c(0x968));onSnapshot(_0x3cf54b,_0x4d3bd4=>{const _0x575506=_0x2bfa5c;if(_0x4d3bd4[_0x575506(0x6f9)]()){const _0xf7e481=_0x4d3bd4[_0x575506(0xaff)]();globalDashboardSettings['projectSort']=_0xf7e481[_0x575506(0x6a8)]||_0x575506(0x5a3),globalDashboardSettings[_0x575506(0x3bd)]=_0xf7e481[_0x575506(0x3bd)]||[],globalDashboardSettings[_0x575506(0x889)]=_0xf7e481['projectOrder']||[];}allProjects['length']>0x0&&renderProjects();});const _0x19c016=collection(db,'artifacts/'+appId+_0x2bfa5c(0x664));unsubscribeProjectsListener=onSnapshot(_0x19c016,_0x449e4d=>{const _0x18d42b=_0x2bfa5c;allProjects=_0x449e4d['docs'][_0x18d42b(0x961)](_0x2d76d8=>({'id':_0x2d76d8['id'],..._0x2d76d8[_0x18d42b(0xaff)]()})),renderProjects();},_0x4e8238=>{const _0x289539=_0x2bfa5c;console[_0x289539(0x51e)](_0x289539(0xbb2),_0x4e8238),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x25fc36,_0x2c8769){const _0x159f0c=_0x361958;document['querySelectorAll'](_0x159f0c(0x431))[_0x159f0c(0x384)](_0x329402=>_0x329402[_0x159f0c(0x3e9)]());const _0x1da259=[_0x159f0c(0x58b),_0x159f0c(0x83d),_0x159f0c(0x934),_0x159f0c(0x7c1),_0x159f0c(0x18a),'#E0E7FF',_0x159f0c(0x3dc),_0x159f0c(0x353),_0x159f0c(0x65e)],_0x311199=document['createElement'](_0x159f0c(0x528));_0x311199[_0x159f0c(0x7e5)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x1da259[_0x159f0c(0x384)](_0xf6f520=>{const _0x86126a=_0x159f0c,_0x58695d=document['createElement'](_0x86126a(0x528));_0x58695d['className']=_0x86126a(0x114),_0x58695d[_0x86126a(0x77b)][_0x86126a(0x756)]=_0xf6f520,_0x58695d[_0x86126a(0x224)](_0x86126a(0x920),()=>{const _0x486487=_0x86126a;handleProjectColorChange(_0x2c8769,_0xf6f520),_0x311199[_0x486487(0x3e9)]();}),_0x311199[_0x86126a(0x3c3)](_0x58695d);}),document[_0x159f0c(0x266)][_0x159f0c(0x3c3)](_0x311199);const _0x4a92c1=_0x25fc36[_0x159f0c(0xb33)]();_0x311199[_0x159f0c(0x77b)][_0x159f0c(0x69d)]=_0x4a92c1[_0x159f0c(0xc3b)]+window[_0x159f0c(0x246)]+'px',_0x311199[_0x159f0c(0x77b)][_0x159f0c(0x874)]=_0x4a92c1['left']+window[_0x159f0c(0xbdb)]-_0x311199['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x20d028,_0x4b3341){const _0x51d115=_0x361958,_0x51bb39=doc(db,'artifacts/'+appId+_0x51d115(0x664),_0x20d028);try{await updateDoc(_0x51bb39,{'color':_0x4b3341});}catch(_0x17dd66){console[_0x51d115(0x51e)](_0x51d115(0x8b8),_0x17dd66),showMessage(_0x51d115(0x855));}}async function renderProjects(){const _0xb9e69b=_0x361958,_0x5a5dd2=globalDashboardSettings[_0xb9e69b(0x6a8)]||'date_desc',_0x48f900=new Set(globalDashboardSettings[_0xb9e69b(0x3bd)]||[]),_0x38a085=globalDashboardSettings['projectView']||_0xb9e69b(0xcbe),_0x14f9ce=document[_0xb9e69b(0x403)](_0xb9e69b(0x584)),_0x51e5ed=document['getElementById'](_0xb9e69b(0x73e));_0x14f9ce[_0xb9e69b(0x67e)][_0xb9e69b(0xcca)](_0xb9e69b(0x70f),_0x38a085==='grid'),_0x51e5ed['classList'][_0xb9e69b(0xcca)](_0xb9e69b(0x70f),_0x38a085===_0xb9e69b(0x37c)),document[_0xb9e69b(0x403)](_0xb9e69b(0x85a))[_0xb9e69b(0x491)]=_0x5a5dd2;const _0x5561f1=document[_0xb9e69b(0x403)]('project-search-input')['value'][_0xb9e69b(0x985)]();let _0x319ec6=allProjects[_0xb9e69b(0x9df)](_0x38b76d=>_0x38b76d[_0xb9e69b(0x3d0)][_0xb9e69b(0x985)]()['includes'](_0x5561f1));const _0x2b49be=_0x319ec6[_0xb9e69b(0x9df)](_0x3bc342=>_0x48f900['has'](_0x3bc342['id'])),_0x7e37dd=_0x319ec6[_0xb9e69b(0x9df)](_0x5487b8=>!_0x48f900[_0xb9e69b(0x8ba)](_0x5487b8['id'])),_0x58b4c1=(_0x535de9,_0x461d7b)=>{const _0x2d68b3=_0xb9e69b;switch(_0x5a5dd2){case _0x2d68b3(0x1c3):return _0x535de9[_0x2d68b3(0x3d0)][_0x2d68b3(0x97c)](_0x461d7b[_0x2d68b3(0x3d0)],'th');case _0x2d68b3(0x301):return _0x461d7b[_0x2d68b3(0x3d0)][_0x2d68b3(0x97c)](_0x535de9[_0x2d68b3(0x3d0)],'th');case _0x2d68b3(0x1b8):return new Date(_0x535de9[_0x2d68b3(0xe5)])-new Date(_0x461d7b['createdAt']);default:return new Date(_0x461d7b['createdAt'])-new Date(_0x535de9[_0x2d68b3(0xe5)]);}};_0x2b49be['sort'](_0x58b4c1),_0x7e37dd['sort'](_0x58b4c1);const _0x144486=[..._0x2b49be,..._0x7e37dd],_0x1b1d20=globalDashboardSettings[_0xb9e69b(0x889)]||[];_0x1b1d20[_0xb9e69b(0x6b7)]>0x0&&_0x38a085===_0xb9e69b(0xcbe)&&_0x144486[_0xb9e69b(0x2b7)]((_0x2a3637,_0x5deb48)=>{const _0x503a4f=_0xb9e69b,_0x8c8a28=_0x1b1d20[_0x503a4f(0x9d9)](_0x2a3637['id']),_0x390518=_0x1b1d20['indexOf'](_0x5deb48['id']);if(_0x8c8a28===-0x1)return 0x1;if(_0x390518===-0x1)return-0x1;return _0x8c8a28-_0x390518;});const _0x16b016={};await Promise['all'](_0x144486[_0xb9e69b(0x961)](async _0x2bf7a3=>{const _0x4e2e91=_0xb9e69b,_0x4043dd=query(collection(db,_0x4e2e91(0x418)+appId+_0x4e2e91(0x34c)),where('projectId','==',_0x2bf7a3['id'])),_0x22a7b7=await getDocs(_0x4043dd);_0x16b016[_0x2bf7a3['id']]=_0x22a7b7[_0x4e2e91(0x261)];}));const _0x9a713e=document[_0xb9e69b(0x403)](_0xb9e69b(0x237));let _0xf121f6='';if(_0x38a085===_0xb9e69b(0xcbe)){_0x9a713e[_0xb9e69b(0x7e5)]=_0xb9e69b(0xa35);if(starredQuizzes[_0xb9e69b(0x6b7)]>0x0&&_0x5561f1===''){const _0x403e69=starredQuizzes[_0xb9e69b(0x961)](_0x2189e6=>{const _0x27f435=_0xb9e69b,_0x17e7eb=allProjects[_0x27f435(0x9f6)](_0x1d8473=>_0x1d8473['id']===_0x2189e6[_0x27f435(0x4b4)]);return{..._0x2189e6,'projectName':_0x17e7eb?_0x17e7eb[_0x27f435(0x3d0)]:'N/A'};});_0xf121f6+=_0xb9e69b(0x134)+_0x403e69['map'](_0x212ac1=>_0xb9e69b(0x83a)+_0x212ac1['topic']+'\x22>'+_0x212ac1[_0xb9e69b(0x411)]+_0xb9e69b(0xa63)+_0x212ac1[_0xb9e69b(0x3d0)]+_0xb9e69b(0x7b8)+_0x212ac1[_0xb9e69b(0x3d0)]+_0xb9e69b(0x276))[_0xb9e69b(0xbcc)]('')+_0xb9e69b(0x4e0)+starredQuizzes[_0xb9e69b(0x6b7)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x144486[_0xb9e69b(0x384)](_0x3ff7db=>{const _0x13a069=_0xb9e69b,_0x47bd53=_0x16b016[_0x3ff7db['id']]??0x0,_0x53b884=_0x48f900[_0x13a069(0x8ba)](_0x3ff7db['id']),_0x28edc7=_0x3ff7db[_0x13a069(0xdd)]||_0x13a069(0x58b),_0x10745c=parseInt(_0x28edc7[_0x13a069(0x4e7)](0x1,0x3),0x10)*0.299+parseInt(_0x28edc7['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x28edc7[_0x13a069(0x4e7)](0x5,0x7),0x10)*0.114<0xba,_0x1e3157=_0x10745c?'text-white':_0x13a069(0xaf8),_0x53dcb1=_0x10745c?_0x13a069(0xf4):_0x13a069(0x2bf);_0xf121f6+=_0x13a069(0x7e2)+(_0x53b884?_0x13a069(0xb74):_0x13a069(0xc6a))+_0x13a069(0x445)+_0x28edc7+_0x13a069(0x67f)+_0x3ff7db['id']+_0x13a069(0xa2d)+_0x3ff7db['id']+_0x13a069(0x192)+(_0x10745c?_0x13a069(0x95d):_0x13a069(0x31d))+_0x13a069(0x30d)+_0x3ff7db['id']+_0x13a069(0xadc)+(_0x10745c?_0x13a069(0x95d):_0x13a069(0x31d))+_0x13a069(0x72f)+(_0x53b884?_0x10745c?_0x13a069(0x8c1):_0x13a069(0x9fe):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x3ff7db['id']+_0x13a069(0x1c9)+_0x1e3157+_0x13a069(0xb68)+_0x3ff7db[_0x13a069(0x3d0)]+_0x13a069(0x4e3)+_0x53dcb1+_0x13a069(0xc18)+new Date(_0x3ff7db[_0x13a069(0xe5)])[_0x13a069(0x99c)](_0x13a069(0x1d9))+_0x13a069(0x5a7)+(_0x10745c?_0x13a069(0x4ec):'text-gray-700')+_0x13a069(0xcdf)+_0x47bd53+_0x13a069(0x560)+_0x3ff7db['id']+_0x13a069(0x8af)+_0x3ff7db[_0x13a069(0x3d0)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x10745c?_0x13a069(0xc58):_0x13a069(0x4b2))+_0x13a069(0x225);});}else _0x9a713e['className']='flex\x20flex-col\x20gap-2',starredQuizzes['length']>0x0&&_0x5561f1===''&&(_0xf121f6+=_0xb9e69b(0x45f)+starredQuizzes[_0xb9e69b(0x6b7)]+_0xb9e69b(0x76e)),_0xf121f6+=_0xb9e69b(0xb6d),_0x144486[_0xb9e69b(0x384)](_0x763fc=>{const _0x13795b=_0xb9e69b,_0x1696f9=_0x16b016[_0x763fc['id']]??0x0,_0x386e58=_0x48f900[_0x13795b(0x8ba)](_0x763fc['id']);_0xf121f6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x763fc[_0x13795b(0xdd)]||'#E5E7EB')+_0x13795b(0x671)+_0x763fc['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x763fc[_0x13795b(0x3d0)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x1696f9+_0x13795b(0xa8a)+new Date(_0x763fc[_0x13795b(0xe5)])['toLocaleString'](_0x13795b(0x1d9))+_0x13795b(0xc37)+_0x763fc['id']+_0x13795b(0x87c)+(_0x386e58?'text-indigo-600':'')+_0x13795b(0x49c)+_0x763fc['id']+_0x13795b(0x8af)+_0x763fc[_0x13795b(0x3d0)]+_0x13795b(0x747);});projectList[_0xb9e69b(0x86f)]=_0xf121f6,noProjectsMsg[_0xb9e69b(0x67e)][_0xb9e69b(0xcca)](_0xb9e69b(0x17c),_0xf121f6[_0xb9e69b(0x6b7)]>0x0);}document[_0x361958(0x403)](_0x361958(0x6f0))['addEventListener'](_0x361958(0x920),async()=>{const _0xd83d16=_0x361958,_0x21554e=document[_0xd83d16(0x403)](_0xd83d16(0x1cb)),_0x2c0855=_0x21554e[_0xd83d16(0x491)]['trim']();if(!_0x2c0855){showMessage(_0xd83d16(0x167));return;}try{const _0x4f4f3b=doc(collection(db,'artifacts/'+appId+_0xd83d16(0x664)));await setDoc(_0x4f4f3b,{'projectName':_0x2c0855,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0xd83d16(0x103),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0xd83d16(0x31c)]()}),_0x21554e[_0xd83d16(0x491)]='',createProjectModal[_0xd83d16(0x67e)][_0xd83d16(0x7be)](_0xd83d16(0x17c)),showMessage(_0xd83d16(0x7c5));}catch(_0x22f7b2){console[_0xd83d16(0x51e)]('Error\x20creating\x20project:',_0x22f7b2),showMessage(_0xd83d16(0xbd0));}}),projectList[_0x361958(0x224)]('click',async _0x4566af=>{const _0x1f5bf=_0x361958,_0x486296=_0x4566af[_0x1f5bf(0xe9)][_0x1f5bf(0x1af)](_0x1f5bf(0xcab)),_0x2728f3=_0x4566af['target'][_0x1f5bf(0x1af)](_0x1f5bf(0xa58)),_0x17a02f=_0x4566af[_0x1f5bf(0xe9)]['closest']('.pin-project-btn'),_0x216a8c=_0x4566af[_0x1f5bf(0xe9)][_0x1f5bf(0x1af)](_0x1f5bf(0xbdc));if(_0x17a02f){const _0x451b80=_0x17a02f['dataset']['id'],_0x58cbb6=doc(db,_0x1f5bf(0x6a2),'dashboardConfig'),_0x4a1e4c=globalDashboardSettings[_0x1f5bf(0x3bd)];let _0x38adc7;_0x4a1e4c[_0x1f5bf(0x801)](_0x451b80)?_0x38adc7=_0x4a1e4c[_0x1f5bf(0x9df)](_0x4af26d=>_0x4af26d!==_0x451b80):_0x38adc7=[..._0x4a1e4c,_0x451b80];try{await setDoc(_0x58cbb6,{'pinnedProjects':_0x38adc7},{'merge':!![]});}catch(_0x3b7d93){console[_0x1f5bf(0x51e)](_0x1f5bf(0xa4b),_0x3b7d93),showMessage(_0x1f5bf(0x358));}}else{if(_0x216a8c){const _0xa23e24=_0x216a8c['dataset']['id'];showColorPalette(_0x216a8c,_0xa23e24);}else{if(_0x486296){const _0x805785=_0x486296[_0x1f5bf(0x8c4)]['id'];_0x805785==='starred-project'?showStarredProjectView():(currentProjectId=_0x805785,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x2728f3){const _0x376aea=_0x2728f3[_0x1f5bf(0x8c4)]['id'],_0x491369=_0x2728f3['dataset'][_0x1f5bf(0x2ea)];showConfirmation(_0x1f5bf(0x82f)+_0x491369+_0x1f5bf(0xad7),()=>handleDeleteProject(_0x376aea));}}}}}),projectList[_0x361958(0x224)](_0x361958(0x8d2),_0x40e2e8=>{const _0x3ad74d=_0x361958,_0x5d1c50=_0x40e2e8[_0x3ad74d(0xe9)][_0x3ad74d(0x1af)](_0x3ad74d(0xc8d));_0x5d1c50&&_0x5d1c50['classList'][_0x3ad74d(0x7be)](_0x3ad74d(0x84c));}),projectList[_0x361958(0x224)]('dragend',_0x3de663=>{const _0x59a270=_0x361958,_0x3144f1=_0x3de663['target']['closest'](_0x59a270(0xc8d));_0x3144f1&&_0x3144f1[_0x59a270(0x67e)][_0x59a270(0x3e9)](_0x59a270(0x84c));}),projectList[_0x361958(0x224)](_0x361958(0x136),_0x3bec9c=>{const _0x2b2f04=_0x361958;_0x3bec9c[_0x2b2f04(0x27f)]();const _0x3276f9=document['querySelector'](_0x2b2f04(0x43c));if(!_0x3276f9)return;const _0x2ccfb8=getDragAfterElement(projectList,_0x3bec9c[_0x2b2f04(0xbeb)]);_0x2ccfb8==null?projectList[_0x2b2f04(0x3c3)](_0x3276f9):projectList[_0x2b2f04(0x2bb)](_0x3276f9,_0x2ccfb8);}),projectList[_0x361958(0x224)](_0x361958(0x867),_0x4258ca=>{const _0x23bdde=_0x361958;_0x4258ca[_0x23bdde(0x27f)]();const _0x5879bb=[...projectList['querySelectorAll'](_0x23bdde(0x804))][_0x23bdde(0x961)](_0x4fc24f=>_0x4fc24f['dataset']['id']);saveProjectOrder(_0x5879bb);});function renderBehaviorLog(_0x44c766){const _0x2f888f=_0x361958,_0x16da87=document[_0x2f888f(0x403)]('behavior-log-container');if(!_0x16da87)return;const _0x44b92e=_0x44c766[_0x2f888f(0x9df)](_0x10c81e=>_0x10c81e['behaviorLog']&&_0x10c81e['behaviorLog'][_0x2f888f(0x6b7)]>0x0);if(_0x44b92e['length']===0x0){_0x16da87['innerHTML']=_0x2f888f(0x2fe);return;}let _0x29455c='';_0x44b92e[_0x2f888f(0x384)](_0x49a824=>{const _0x210605=_0x2f888f;_0x29455c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x49a824[_0x210605(0x5b0)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x49a824[_0x210605(0x608)]['sort']((_0x412ea6,_0x19d1c2)=>new Date(_0x19d1c2[_0x210605(0xff)])-new Date(_0x412ea6[_0x210605(0xff)]))['forEach'](_0x191d41=>{const _0x46c5ef=_0x210605,_0x21731e=new Date(_0x191d41['timestamp'])[_0x46c5ef(0x39e)]('th-TH',{'dateStyle':_0x46c5ef(0x687),'timeStyle':_0x46c5ef(0xbab)});_0x29455c+=_0x46c5ef(0x742)+_0x191d41[_0x46c5ef(0xe7)]+_0x46c5ef(0x1da)+_0x21731e+_0x46c5ef(0x676);}),_0x29455c+=_0x210605(0x15d);}),_0x16da87['innerHTML']=_0x29455c;}function getDragAfterElement(_0x14603b,_0x636b95){const _0x498793=_0x361958,_0x347400=[..._0x14603b[_0x498793(0x2c6)](_0x498793(0x6a4))];return _0x347400[_0x498793(0xac1)]((_0x4e3f85,_0x2664a6)=>{const _0x37e4b9=_0x498793,_0x3267ca=_0x2664a6[_0x37e4b9(0xb33)](),_0x1bd019=_0x636b95-_0x3267ca[_0x37e4b9(0x69d)]-_0x3267ca[_0x37e4b9(0x9d0)]/0x2;return _0x1bd019<0x0&&_0x1bd019>_0x4e3f85[_0x37e4b9(0x957)]?{'offset':_0x1bd019,'element':_0x2664a6}:_0x4e3f85;},{'offset':Number[_0x498793(0x5bc)]})[_0x498793(0x1bd)];}async function saveProjectOrder(_0x14bc93){const _0x4d3dba=_0x361958,_0x16a658=doc(db,_0x4d3dba(0x6a2),_0x4d3dba(0x968));try{await setDoc(_0x16a658,{'projectOrder':_0x14bc93},{'merge':!![]});}catch(_0xf285c9){console[_0x4d3dba(0x51e)]('Error\x20saving\x20project\x20order:',_0xf285c9),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x2a1679,_0x2a1645={}){const _0x3d04c2=_0x361958;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x3d04c2(0x4e8)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x2a323c=doc(db,'artifacts/'+appId+_0x3d04c2(0xa18)+currentQuizData['id']+'/submissions',currentStudentName),_0x530304={'event':_0x2a1679,'timestamp':new Date()[_0x3d04c2(0x31c)](),..._0x2a1645};try{await updateDoc(_0x2a323c,{'behaviorLog':arrayUnion(_0x530304)}),console[_0x3d04c2(0xb07)](_0x3d04c2(0xc2c)+currentStudentName+_0x3d04c2(0x221));}catch(_0xdaef06){_0xdaef06['code']==='not-found'?console['warn'](_0x3d04c2(0xae8)+currentStudentName+_0x3d04c2(0x2a5)):console[_0x3d04c2(0x51e)](_0x3d04c2(0x1f1),_0xdaef06);}}function calculateMeanAndStdDev(_0x735c84){const _0x45866d=_0x361958;if(_0x735c84[_0x45866d(0x6b7)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x12c096=_0x735c84[_0x45866d(0xac1)]((_0x1fa968,_0x9d10fb)=>_0x1fa968+_0x9d10fb,0x0)/_0x735c84[_0x45866d(0x6b7)];if(_0x735c84[_0x45866d(0x6b7)]===0x1)return{'mean':_0x12c096,'stdDev':0x0};const _0x572f0d=Math[_0x45866d(0x2b6)](_0x735c84['map'](_0x3a13e2=>Math[_0x45866d(0xb4a)](_0x3a13e2-_0x12c096,0x2))[_0x45866d(0xac1)]((_0xc63963,_0x21f51b)=>_0xc63963+_0x21f51b,0x0)/(_0x735c84[_0x45866d(0x6b7)]-0x1));return{'mean':_0x12c096,'stdDev':_0x572f0d};}function calculateZScore(_0x4d9305,_0x301a2c,_0x3af497){if(_0x3af497===0x0)return 0x0;return(_0x4d9305-_0x301a2c)/_0x3af497;}function calculateTScore(_0x439ae3){return 0xa*_0x439ae3+0x32;}function showStarredProjectView(){const _0x274de7=_0x361958;currentProjectId='starred',currentProjectData=null,projectTitle[_0x274de7(0x317)]=_0x274de7(0x4a0),projectIdDisplay[_0x274de7(0x317)]='pinned-items',showView(_0x274de7(0x172)),manageTab[_0x274de7(0x67e)][_0x274de7(0x7be)](_0x274de7(0x17c)),leaderboardTab[_0x274de7(0x67e)][_0x274de7(0x7be)](_0x274de7(0x17c)),switchProjectTab(_0x274de7(0x536)),renderQuizzes();}async function loadProjectDetails(_0x40ea0){const _0x29e949=_0x361958,_0x2b0ab0=doc(db,_0x29e949(0x418)+appId+_0x29e949(0x664),_0x40ea0),_0x2246f0=await getDoc(_0x2b0ab0);if(_0x2246f0[_0x29e949(0x6f9)]()){manageTab[_0x29e949(0x67e)][_0x29e949(0x3e9)]('hidden'),leaderboardTab['classList']['remove'](_0x29e949(0x17c)),currentProjectData=_0x2246f0[_0x29e949(0xaff)](),projectTitle[_0x29e949(0x317)]=currentProjectData[_0x29e949(0x3d0)],projectIdDisplay[_0x29e949(0x317)]=_0x40ea0;const _0x21fa9f=currentProjectData[_0x29e949(0x3f9)]||{};document[_0x29e949(0x403)](_0x29e949(0x420))[_0x29e949(0x491)]=_0x21fa9f[_0x29e949(0x3ac)]||_0x29e949(0x103);const _0x31ad3a=document['getElementById'](_0x29e949(0x835));_0x31ad3a['checked']=_0x21fa9f['showInStudentDashboard']!==![];const _0x1a9981=document[_0x29e949(0x403)](_0x29e949(0x4d4)),_0x35c490=document[_0x29e949(0x403)](_0x29e949(0xce)),_0x9324e4=document['getElementById'](_0x29e949(0x7d6)),_0x3c4873=_0x21fa9f[_0x29e949(0x210)]||![];_0x1a9981[_0x29e949(0x98b)]=_0x3c4873,_0x9324e4['value']=_0x21fa9f['passcode']||'',_0x35c490[_0x29e949(0x67e)]['toggle'](_0x29e949(0x17c),!_0x3c4873),_0x1a9981['onchange']=()=>{const _0x5be8d9=_0x29e949;_0x35c490[_0x5be8d9(0x67e)][_0x5be8d9(0xcca)](_0x5be8d9(0x17c),!_0x1a9981[_0x5be8d9(0x98b)]);},document[_0x29e949(0x403)]('confidence-scoring-checkbox')[_0x29e949(0x98b)]=_0x21fa9f[_0x29e949(0x131)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x40ea0),listenForProjectQuizzes(_0x40ea0),listenForStudentProfiles(_0x40ea0);}else showMessage('ไม่พบโปรเจค'),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x174f47=_0x361958,_0x5808c4=doc(db,_0x174f47(0x6a2),_0x174f47(0x968));try{await setDoc(_0x5808c4,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x174f47(0xce4));}catch(_0x5d8cfb){console[_0x174f47(0x51e)]('Error\x20resetting\x20project\x20order:',_0x5d8cfb),showMessage(_0x174f47(0xa5e));}}async function handleTogglePinProject(_0x46b336){const _0x2ca31f=_0x361958;if(!_0x46b336)return;const _0xc52452=doc(db,_0x2ca31f(0x418)+appId+_0x2ca31f(0x664),_0x46b336);try{const _0x388767=await getDoc(_0xc52452);if(_0x388767[_0x2ca31f(0x6f9)]()){const _0x80cb37=_0x388767[_0x2ca31f(0xaff)]()[_0x2ca31f(0x154)]||![];await updateDoc(_0xc52452,{'isPinned':!_0x80cb37});}}catch(_0x240753){console[_0x2ca31f(0x51e)](_0x2ca31f(0xa41),_0x240753),showMessage(_0x2ca31f(0x358));}}async function handleDeleteProject(_0x1ce7c0){const _0x2413db=_0x361958;try{const _0x1ea164=writeBatch(db),_0x4e6117=collection(db,_0x2413db(0x418)+appId+_0x2413db(0x34c)),_0x77109c=query(_0x4e6117,where(_0x2413db(0x4b4),'==',_0x1ce7c0)),_0x10ebac=await getDocs(_0x77109c);for(const _0x2c4ce2 of _0x10ebac[_0x2413db(0x5b2)]){const _0x344ef7=collection(db,_0x2413db(0x418)+appId+'/public/data/quizzes/'+_0x2c4ce2['id']+_0x2413db(0x7dc)),_0x3e16c1=await getDocs(_0x344ef7);_0x3e16c1[_0x2413db(0x384)](_0x293b7d=>{const _0x1c3d3e=_0x2413db;_0x1ea164[_0x1c3d3e(0x206)](_0x293b7d[_0x1c3d3e(0xafb)]);}),_0x1ea164['delete'](_0x2c4ce2[_0x2413db(0xafb)]);}const _0x37a34f=collection(db,'artifacts/'+appId+_0x2413db(0x525)+_0x1ce7c0+_0x2413db(0x478)),_0x26f493=await getDocs(_0x37a34f);_0x26f493['forEach'](_0x14d030=>{const _0x373e17=_0x2413db;_0x1ea164[_0x373e17(0x206)](_0x14d030['ref']);});const _0x1e90e3=doc(db,_0x2413db(0x418)+appId+_0x2413db(0x664),_0x1ce7c0);_0x1ea164['delete'](_0x1e90e3),await _0x1ea164[_0x2413db(0x626)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x2413db(0x76d));}catch(_0x161562){console[_0x2413db(0x51e)](_0x2413db(0xd6),_0x161562),showMessage(_0x2413db(0xa16));}}document[_0x361958(0x403)](_0x361958(0xbbe))['addEventListener']('click',async()=>{const _0x9a25d5=_0x361958;if(!currentProjectId)return;const _0x6c4ef6={'defaultNumQuestions':parseInt(document[_0x9a25d5(0x403)]('num-questions')[_0x9a25d5(0x491)]),'defaultNumChoices':parseInt(document[_0x9a25d5(0x403)](_0x9a25d5(0xaa3))['value']),'defaultPassingScore':parseInt(document[_0x9a25d5(0x403)](_0x9a25d5(0x5fd))[_0x9a25d5(0x491)]),'resultsDisplay':document['getElementById'](_0x9a25d5(0x739))[_0x9a25d5(0x491)],'shuffleSetting':document[_0x9a25d5(0x403)](_0x9a25d5(0x420))[_0x9a25d5(0x491)],'timerMode':document[_0x9a25d5(0x403)](_0x9a25d5(0x325))['value'],'timerDuration':parseInt(document[_0x9a25d5(0x403)](_0x9a25d5(0xb38))[_0x9a25d5(0x491)]),'isConfidenceScoringEnabled':document[_0x9a25d5(0x403)](_0x9a25d5(0x234))['checked'],'confidenceMode':document['getElementById'](_0x9a25d5(0x42f))[_0x9a25d5(0x491)]};try{const _0x3abd8b=doc(db,_0x9a25d5(0x418)+appId+_0x9a25d5(0x664),currentProjectId);await updateDoc(_0x3abd8b,{'settings':_0x6c4ef6}),showMessage(_0x9a25d5(0x7c0));}catch(_0x3ce6e1){console[_0x9a25d5(0x51e)](_0x9a25d5(0xcdc),_0x3ce6e1),showMessage(_0x9a25d5(0x847));}});function listenForStudents(_0x30528b){const _0x543c6e=_0x361958,_0x3f60f9=doc(db,_0x543c6e(0x418)+appId+_0x543c6e(0x664),_0x30528b);unsubscribeStudentsListener=onSnapshot(_0x3f60f9,_0x5da444=>{const _0xd42e2e=_0x543c6e;if(_0x5da444['exists']()){const _0x191ac0=_0x5da444[_0xd42e2e(0xaff)]();currentProjectData=_0x191ac0,renderStudentList(_0x191ac0[_0xd42e2e(0x282)]||[]);}});}function renderStudentList(_0x4d2437){const _0x5956f8=_0x361958,_0x4cfa9a=document[_0x5956f8(0x403)]('delete-all-students-btn');_0x4d2437[_0x5956f8(0x6b7)]===0x0?(studentList[_0x5956f8(0x86f)]=_0x5956f8(0x4a6),_0x4cfa9a['classList']['add']('hidden')):(studentList[_0x5956f8(0x86f)]=_0x4d2437['map'](_0x39eab5=>_0x5956f8(0x5bd)+_0x39eab5+_0x5956f8(0x986)+_0x39eab5+_0x5956f8(0x349))['join'](''),_0x4cfa9a['classList'][_0x5956f8(0x3e9)](_0x5956f8(0x17c)));}document[_0x361958(0x403)](_0x361958(0x858))[_0x361958(0x224)](_0x361958(0x920),async()=>{const _0x41c388=_0x361958;if(!currentProjectId)return;const _0x227848=document['getElementById']('student-name-input'),_0x8223f1=_0x227848[_0x41c388(0x491)][_0x41c388(0x783)]();if(!_0x8223f1){showMessage(_0x41c388(0x4fe));return;}const _0x497555=_0x8223f1[_0x41c388(0xc4b)]('\x0a')[_0x41c388(0x961)](_0x2fed79=>_0x2fed79[_0x41c388(0x783)]())['filter'](_0x464a56=>_0x464a56);if(_0x497555[_0x41c388(0x6b7)]===0x0)return;try{const _0x206ebe=doc(db,_0x41c388(0x418)+appId+_0x41c388(0x664),currentProjectId),_0x372840=await getDoc(_0x206ebe);if(_0x372840[_0x41c388(0x6f9)]()){const _0x1415d2=_0x372840[_0x41c388(0xaff)]()[_0x41c388(0x282)]||[],_0x4b5e49=[...new Set([..._0x1415d2,..._0x497555])];await updateDoc(_0x206ebe,{'students':_0x4b5e49}),_0x227848[_0x41c388(0x491)]='';}}catch(_0xb51df7){console[_0x41c388(0x51e)](_0x41c388(0x245),_0xb51df7),showMessage(_0x41c388(0xc07));}});async function handleManualQuizPairing(_0x54e918){const _0x1bf538=_0x361958,_0x262eae=document['getElementById'](_0x1bf538(0x84f)),_0x312cb9=document['getElementById'](_0x1bf538(0x6ba)),_0x1f08b1=_0x262eae[_0x1bf538(0x314)]('h3'),_0x3a5502=document['getElementById'](_0x1bf538(0x8e8)),_0x132150=document[_0x1bf538(0x403)](_0x1bf538(0x5db));_0x1f08b1[_0x1bf538(0x317)]=_0x1bf538(0x115),_0x312cb9[_0x1bf538(0x86f)]=_0x1bf538(0x159),_0x3a5502['textContent']=_0x1bf538(0xe0),_0x262eae[_0x1bf538(0x67e)][_0x1bf538(0x3e9)](_0x1bf538(0x17c));const _0x4908ee=allQuizzes['filter'](_0x53ebed=>_0x53ebed['id']!==_0x54e918);_0x4908ee['length']===0x0?(_0x312cb9[_0x1bf538(0x86f)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x3a5502[_0x1bf538(0x79a)]=!![]):(_0x312cb9[_0x1bf538(0x86f)]=_0x1bf538(0x9b1)+_0x4908ee[_0x1bf538(0x961)](_0x4e9369=>'<option\x20value=\x22'+_0x4e9369['id']+'\x22>'+_0x4e9369[_0x1bf538(0x411)]+_0x1bf538(0x53d))[_0x1bf538(0xbcc)](''),_0x3a5502[_0x1bf538(0x79a)]=![]);const _0x2b7479=async()=>{const _0x18d79d=_0x1bf538,_0x585f1a=_0x312cb9[_0x18d79d(0x491)];if(!_0x585f1a){showMessage(_0x18d79d(0x505));return;}_0x3a5502[_0x18d79d(0x79a)]=!![],_0x3a5502[_0x18d79d(0x317)]=_0x18d79d(0xb26);try{const _0x2fc745=doc(db,_0x18d79d(0x418)+appId+_0x18d79d(0x34c),_0x54e918),_0x480a0c=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x585f1a),_0x42a831=writeBatch(db);_0x42a831[_0x18d79d(0x975)](_0x2fc745,{'pairedQuizId':_0x585f1a}),_0x42a831[_0x18d79d(0x975)](_0x480a0c,{'pairedQuizId':_0x54e918}),await _0x42a831[_0x18d79d(0x626)](),showMessage(_0x18d79d(0xb00)),_0x262eae[_0x18d79d(0x67e)][_0x18d79d(0x7be)](_0x18d79d(0x17c));}catch(_0x5000eb){console[_0x18d79d(0x51e)](_0x18d79d(0x9c8),_0x5000eb),showMessage(_0x18d79d(0xaf6));}finally{_0x1f08b1[_0x18d79d(0x317)]=_0x18d79d(0x510),_0x3a5502['textContent']=_0x18d79d(0x600),_0x3a5502[_0x18d79d(0x79a)]=![],_0x3a5502[_0x18d79d(0xb35)](_0x18d79d(0x920),_0x2b7479),_0x132150['removeEventListener']('click',_0x555edc);}},_0x555edc=()=>{const _0x46f69f=_0x1bf538;_0x262eae['classList'][_0x46f69f(0x7be)](_0x46f69f(0x17c)),_0x1f08b1[_0x46f69f(0x317)]=_0x46f69f(0x510),_0x3a5502[_0x46f69f(0x317)]=_0x46f69f(0x600),_0x3a5502[_0x46f69f(0xb35)](_0x46f69f(0x920),_0x2b7479),_0x132150[_0x46f69f(0xb35)](_0x46f69f(0x920),_0x555edc);};_0x3a5502[_0x1bf538(0x224)](_0x1bf538(0x920),_0x2b7479),_0x132150[_0x1bf538(0x224)](_0x1bf538(0x920),_0x555edc);}function handleDeleteStudent(_0x416ca2){const _0x49ca21=_0x361958;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x416ca2+_0x49ca21(0x52b),async()=>{const _0x3aa2ec=_0x49ca21;if(!currentProjectId||!currentProjectData)return;const _0x51b671=currentProjectData[_0x3aa2ec(0x282)][_0x3aa2ec(0x9df)](_0x2dcb99=>_0x2dcb99!==_0x416ca2);try{const _0x5971e1=doc(db,_0x3aa2ec(0x418)+appId+'/public/data/projects',currentProjectId),_0x598621=doc(db,_0x3aa2ec(0x418)+appId+'/public/data/projects/'+currentProjectId+_0x3aa2ec(0x478),_0x416ca2),_0x340301=writeBatch(db);_0x340301['update'](_0x5971e1,{'students':_0x51b671}),_0x340301[_0x3aa2ec(0x206)](_0x598621),await _0x340301[_0x3aa2ec(0x626)]();}catch(_0x3d38d5){console[_0x3aa2ec(0x51e)](_0x3aa2ec(0x52a),_0x3d38d5),showMessage(_0x3aa2ec(0xad4));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x3c4b8f=_0x3ec8;if(!currentProjectId)return;try{const _0x995492=doc(db,_0x3c4b8f(0x418)+appId+_0x3c4b8f(0x664),currentProjectId),_0x4ec9e2=collection(db,'artifacts/'+appId+'/public/data/projects/'+currentProjectId+_0x3c4b8f(0x478)),_0x3377d0=await getDocs(_0x4ec9e2),_0x3d12d0=writeBatch(db);_0x3d12d0['update'](_0x995492,{'students':[]}),_0x3377d0[_0x3c4b8f(0x384)](_0x1533a0=>_0x3d12d0[_0x3c4b8f(0x206)](_0x1533a0['ref'])),await _0x3d12d0['commit']();}catch(_0xf6b9ec){console[_0x3c4b8f(0x51e)](_0x3c4b8f(0x77f),_0xf6b9ec),showMessage(_0x3c4b8f(0x2fa));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x3f9ee4){const _0x39ccb5=_0x361958,_0x4f74aa=document[_0x39ccb5(0x403)](_0x39ccb5(0x362)),_0xb344c2=document[_0x39ccb5(0x403)]('file-topics-list');_0x4f74aa[_0x39ccb5(0x67e)][_0x39ccb5(0x3e9)](_0x39ccb5(0x17c)),_0xb344c2[_0x39ccb5(0x86f)]=_0x39ccb5(0x7e7);try{const _0x25f4b8=new FileReader();_0x25f4b8[_0x39ccb5(0xa04)](_0x3f9ee4),await new Promise((_0x235abd,_0x1f262c)=>{const _0x5dce1a=_0x39ccb5;_0x25f4b8[_0x5dce1a(0x9d4)]=()=>{const _0x4a77cb=_0x5dce1a;fileDataBase64=_0x25f4b8[_0x4a77cb(0x8f1)]['split'](',')[0x1],fileMimeType=_0x3f9ee4['type'],_0x235abd();},_0x25f4b8[_0x5dce1a(0x257)]=_0x50658b=>_0x1f262c(_0x50658b);});if(!fileDataBase64)throw new Error(_0x39ccb5(0xbff));const _0xc98ee9=_0x39ccb5(0xc7),_0x26f085={'type':'OBJECT','properties':{'topics':{'type':'ARRAY','items':{'type':_0x39ccb5(0xef)}}},'required':[_0x39ccb5(0xb7a)]},_0x91c266=[{'text':_0xc98ee9},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x3b2bc4=await handleApiCall(_0x91c266,_0x39ccb5(0x6de),_0x26f085,null,![]);if(_0x3b2bc4&&_0x3b2bc4[_0x39ccb5(0xb7a)])extractedFileTopics=_0x3b2bc4[_0x39ccb5(0xb7a)],renderFileTopics();else throw new Error(_0x39ccb5(0x137));}catch(_0x23e747){console[_0x39ccb5(0x51e)](_0x39ccb5(0xba6),_0x23e747),_0xb344c2[_0x39ccb5(0x86f)]=_0x39ccb5(0x23c)+_0x23e747[_0x39ccb5(0x931)]+_0x39ccb5(0x86d);}}function renderFileTopics(){const _0x3376f7=_0x361958,_0x21e6fd=document[_0x3376f7(0x403)]('file-topics-list');if(extractedFileTopics[_0x3376f7(0x6b7)]===0x0){_0x21e6fd[_0x3376f7(0x86f)]=_0x3376f7(0xcad);return;}_0x21e6fd[_0x3376f7(0x86f)]=extractedFileTopics[_0x3376f7(0x961)](_0x36c4ad=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x36c4ad+_0x3376f7(0x156)+escape(_0x36c4ad)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x36c4ad)+_0x3376f7(0xab8))['join']('');}async function generateHybridQuizForTopic(_0x3c61e0){const _0x1886c1=_0x361958,_0x249ace=parseInt(document[_0x1886c1(0x403)](_0x1886c1(0xec))[_0x1886c1(0x491)],0xa),_0x4b6716=document[_0x1886c1(0x403)](_0x1886c1(0xb21))['value'],_0x4d29d0=document[_0x1886c1(0x403)]('num-choices')['value'],_0xac06fe=document['getElementById']('include-images-checkbox')[_0x1886c1(0x98b)],_0x32c362=_0xac06fe?_0x1886c1(0x8b5):'ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ';let _0x1361c6='',_0x207e83;const _0x23d6da={'type':'OBJECT','properties':{'questionText':{'type':_0x1886c1(0xef)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1886c1(0x6b8)},'explanation':{'type':_0x1886c1(0xef)},'imageCode':{'type':_0x1886c1(0xef)}},'required':['questionText',_0x1886c1(0x6a5),_0x1886c1(0x47b),_0x1886c1(0x923)]},_0x40d915={'type':_0x1886c1(0xbb5),'properties':{'questionText':{'type':_0x1886c1(0xef)},'correctAnswer':{'type':_0x1886c1(0x4b9)},'explanation':{'type':_0x1886c1(0xef)},'imageCode':{'type':_0x1886c1(0xef)}},'required':[_0x1886c1(0xf5),'correctAnswer',_0x1886c1(0x923)]},_0x2dbc96={'type':'OBJECT','properties':{'questionText':{'type':_0x1886c1(0xef)},'idealAnswer':{'type':_0x1886c1(0xef)},'explanation':{'type':_0x1886c1(0xef)},'imageCode':{'type':_0x1886c1(0xef)}},'required':[_0x1886c1(0xf5),'idealAnswer',_0x1886c1(0x923)]},_0x13f0de={'type':_0x1886c1(0xbb5),'properties':{'questionType':{'type':_0x1886c1(0xef),'enum':[_0x1886c1(0x886)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x1886c1(0xef)},'allResponses':{'type':_0x1886c1(0xb41),'items':{'type':'STRING'}},'explanation':{'type':_0x1886c1(0xef)},'imageCode':{'type':'STRING'}},'required':[_0x1886c1(0x30c),'stem',_0x1886c1(0x8c7),_0x1886c1(0xaa2),_0x1886c1(0x923)]};switch(_0x4b6716){case _0x1886c1(0x736):_0x1361c6=_0x1886c1(0x86a)+_0x4d29d0+_0x1886c1(0xba3),_0x207e83=_0x23d6da;break;case _0x1886c1(0x891):_0x1361c6=_0x1886c1(0x2ac),_0x207e83=_0x40d915;break;case _0x1886c1(0x163):_0x1361c6=_0x1886c1(0x5f8),_0x207e83=_0x2dbc96;break;case _0x1886c1(0x11f):_0x1361c6=_0x1886c1(0x757),_0x207e83=_0x13f0de;break;case'fill_in_with_choices':_0x1361c6=_0x1886c1(0x556)+_0x4d29d0+_0x1886c1(0xba3),_0x207e83=_0x23d6da;break;default:_0x1361c6=_0x1886c1(0x86a)+_0x4d29d0+_0x1886c1(0xba3),_0x207e83=_0x23d6da;break;}const _0x112791='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x1d2eb1=document['getElementById'](_0x1886c1(0x85f)),_0x34eba5=document[_0x1886c1(0x403)](_0x1886c1(0x219)),_0x35974c=document[_0x1886c1(0x403)](_0x1886c1(0xa1d));document['getElementById'](_0x1886c1(0x624))[_0x1886c1(0x67e)][_0x1886c1(0x3e9)](_0x1886c1(0x17c)),_0x35974c[_0x1886c1(0x86f)]='',_0x1d2eb1[_0x1886c1(0x67e)]['remove'](_0x1886c1(0x17c)),_0x34eba5[_0x1886c1(0x317)]=_0x1886c1(0x84d)+_0x3c61e0+_0x1886c1(0x770)+_0x249ace+_0x1886c1(0x1b9);try{const _0x103cbc=_0x1886c1(0xab9),_0x238dfd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22'+_0x3c61e0+_0x1886c1(0x856)+_0x249ace+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0x3c61e0+_0x1886c1(0x28d)+_0x249ace+_0x1886c1(0x383)+_0x32c362+_0x1886c1(0x44d)+_0x1361c6+_0x1886c1(0x6b9)+_0x112791+_0x1886c1(0xb81)+_0x103cbc+_0x1886c1(0x55d)+simpleMathPrompt+_0x1886c1(0x99e),_0x6ef80c={'type':_0x1886c1(0xbb5),'properties':{'topic':{'type':_0x1886c1(0xef)},'questions':{'type':'ARRAY','items':_0x207e83}},'required':[_0x1886c1(0x411),_0x1886c1(0x707)]},_0x155e3e=[{'text':_0x238dfd},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x155e3e,_0x1886c1(0x64e)+_0x3c61e0+_0x1886c1(0xc92),_0x6ef80c);}catch(_0x36f83c){console[_0x1886c1(0x51e)](_0x1886c1(0x1bb),_0x36f83c),showMessage(_0x1886c1(0x201)+_0x36f83c[_0x1886c1(0x931)]),_0x35974c['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>';}finally{_0x1d2eb1['classList'][_0x1886c1(0x7be)]('hidden');}}async function handleGenerateFromFileClick(){const _0x571cf4=_0x361958;if(!selectedFile){showMessage(_0x571cf4(0x87a));return;}const _0x3b65a3=document[_0x571cf4(0x403)](_0x571cf4(0x85f)),_0x2f29ab=document[_0x571cf4(0x403)](_0x571cf4(0x219)),_0x1e23d3=document[_0x571cf4(0x403)](_0x571cf4(0xa1d)),_0x3a38e8=document[_0x571cf4(0x403)]('generate-from-file-btn');_0x3a38e8['disabled']=!![],document[_0x571cf4(0x403)](_0x571cf4(0x624))['classList'][_0x571cf4(0x3e9)](_0x571cf4(0x17c)),_0x1e23d3['innerHTML']='',_0x3b65a3['classList'][_0x571cf4(0x3e9)](_0x571cf4(0x17c)),_0x2f29ab[_0x571cf4(0x317)]=_0x571cf4(0x396);try{const _0x3ec990=await new Promise((_0x30b5d7,_0x513b86)=>{const _0x549871=_0x571cf4,_0x42e0ab=new FileReader();_0x42e0ab['readAsDataURL'](selectedFile),_0x42e0ab['onload']=()=>_0x30b5d7(_0x42e0ab[_0x549871(0x8f1)]['split'](',')[0x1]),_0x42e0ab[_0x549871(0x257)]=_0x30c328=>_0x513b86(_0x30c328);});await generateQuizFromFile(selectedFile[_0x571cf4(0x61e)],_0x3ec990);}catch(_0x538934){console[_0x571cf4(0x51e)](_0x571cf4(0x6ff),_0x538934),showMessage(_0x571cf4(0xa4a)+_0x538934[_0x571cf4(0x931)]),_0x3b65a3[_0x571cf4(0x67e)]['add'](_0x571cf4(0x17c)),_0x3a38e8[_0x571cf4(0x79a)]=![];}}function autoFormatMath(_0x43ab88){const _0x3cd281=_0x361958;if(typeof _0x43ab88!==_0x3cd281(0x89d)||!_0x43ab88)return _0x43ab88;const _0x59dfe4=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x54cc0f=_0x43ab88['replace'](_0x59dfe4,_0x5b4e30=>{const _0x339d3d=_0x3cd281;return'$'+_0x5b4e30[_0x339d3d(0x783)]()+'$';});return _0x54cc0f;}function sanitizeQuizData(_0x426104){const _0x3f77d5=_0x361958;if(!_0x426104||!_0x426104[_0x3f77d5(0x707)])return _0x426104;const _0x361ffd={'imes':_0x3f77d5(0xbc9),'div':_0x3f77d5(0xab0)},_0x3d71b0=_0x5aaa9a=>{const _0x4727cc=_0x3f77d5;if(typeof _0x5aaa9a!=='string')return _0x5aaa9a;let _0xf1bedf=_0x5aaa9a;for(const [_0x2ddacb,_0x3a6bd3]of Object[_0x4727cc(0x68a)](_0x361ffd)){const _0xaa4aa0=new RegExp('\x5cb'+_0x2ddacb+'\x5cb','g');_0xf1bedf=_0xf1bedf[_0x4727cc(0x46f)](_0xaa4aa0,_0x3a6bd3);}return _0xf1bedf=_0xf1bedf[_0x4727cc(0x46f)](/\\\//g,_0x4727cc(0xab0)),_0xf1bedf=_0xf1bedf[_0x4727cc(0x46f)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x4727cc(0xab0))[_0x4727cc(0x46f)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x4727cc(0xbc9))['replace'](/÷/g,_0x4727cc(0xab0))[_0x4727cc(0x46f)](/×/g,'\x5ctimes'),_0xf1bedf=_0xf1bedf['replace'](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0xf1bedf=autoFormatMath(_0xf1bedf),_0xf1bedf;};return _0x426104[_0x3f77d5(0x411)]&&(_0x426104['topic']=_0x3d71b0(_0x426104[_0x3f77d5(0x411)])),_0x426104['questions'][_0x3f77d5(0x384)](_0x5a2bf2=>{const _0x4d39c7=_0x3f77d5;_0x5a2bf2[_0x4d39c7(0xf5)]=_0x3d71b0(_0x5a2bf2[_0x4d39c7(0xf5)]),_0x5a2bf2[_0x4d39c7(0x6a5)]&&(_0x5a2bf2['options']=_0x5a2bf2['options'][_0x4d39c7(0x961)](_0x3d71b0)),_0x5a2bf2[_0x4d39c7(0x923)]&&(_0x5a2bf2[_0x4d39c7(0x923)]=_0x3d71b0(_0x5a2bf2[_0x4d39c7(0x923)])),_0x5a2bf2[_0x4d39c7(0xb42)]&&(_0x5a2bf2['stem']=_0x3d71b0(_0x5a2bf2[_0x4d39c7(0xb42)])),_0x5a2bf2[_0x4d39c7(0x8c7)]&&(_0x5a2bf2['correctResponse']=_0x3d71b0(_0x5a2bf2['correctResponse'])),_0x5a2bf2[_0x4d39c7(0xaa2)]&&(_0x5a2bf2[_0x4d39c7(0xaa2)]=_0x5a2bf2[_0x4d39c7(0xaa2)][_0x4d39c7(0x961)](_0x3d71b0));}),_0x426104;}const simpleMathPrompt=_0x361958(0x726);async function handleGenerateFromLink(){const _0x460e88=_0x361958,_0xe034e0=document[_0x460e88(0x403)](_0x460e88(0x755)),_0x13b0d3=document[_0x460e88(0x403)]('link-topic-input'),_0x3becbd=_0xe034e0[_0x460e88(0x491)]['trim'](),_0x568fd0=_0x13b0d3['value']['trim']();if(!_0x3becbd){showMessage(_0x460e88(0xa36));return;}const _0xf0bf00=document[_0x460e88(0x403)](_0x460e88(0x85f)),_0x6319ca=document[_0x460e88(0x403)](_0x460e88(0x219)),_0x3603c7=document[_0x460e88(0x403)](_0x460e88(0xa1d)),_0x4b65c7=document['getElementById'](_0x460e88(0xd06));document['getElementById'](_0x460e88(0x624))[_0x460e88(0x67e)]['remove'](_0x460e88(0x17c)),_0x3603c7[_0x460e88(0x86f)]='',_0xf0bf00[_0x460e88(0x67e)]['remove'](_0x460e88(0x17c)),_0x6319ca[_0x460e88(0x317)]=_0x460e88(0x3fe),_0x4b65c7[_0x460e88(0x79a)]=!![];try{const _0x126326=_0x460e88(0x2e4)+encodeURIComponent(_0x3becbd),_0xcd29=await fetch(_0x126326);if(!_0xcd29['ok'])throw new Error(_0x460e88(0xae5)+_0xcd29[_0x460e88(0x6b5)]+')');const _0x4ec17f=await _0xcd29[_0x460e88(0x90b)](),_0x130fa4=extractTextFromHtml(_0x4ec17f);if(!_0x130fa4||_0x130fa4[_0x460e88(0x6b7)]<0x64)throw new Error(_0x460e88(0xa17));await generateQuiz(_0x568fd0,_0x130fa4);}catch(_0x6b3b02){console[_0x460e88(0x51e)](_0x460e88(0x98d),_0x6b3b02),showMessage(_0x460e88(0x201)+_0x6b3b02['message']),_0x3603c7[_0x460e88(0x86f)]=_0x460e88(0x51d);}finally{_0xf0bf00[_0x460e88(0x67e)]['add']('hidden'),_0x4b65c7[_0x460e88(0x79a)]=![];}}function _0x3ec8(_0xcbe55f,_0x3d5de4){const _0x5099cf=_0x5099();return _0x3ec8=function(_0x3ec8cc,_0x123108){_0x3ec8cc=_0x3ec8cc-0xc7;let _0x16eec7=_0x5099cf[_0x3ec8cc];return _0x16eec7;},_0x3ec8(_0xcbe55f,_0x3d5de4);}function extractTextFromHtml(_0x2c5e90){const _0x48d4a9=_0x361958,_0x1ce5fc=new DOMParser()[_0x48d4a9(0x732)](_0x2c5e90,_0x48d4a9(0x54e));return _0x1ce5fc[_0x48d4a9(0x2c6)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')['forEach'](_0x37a225=>_0x37a225[_0x48d4a9(0x3e9)]()),_0x1ce5fc[_0x48d4a9(0x266)][_0x48d4a9(0x317)]||'';}document[_0x361958(0x403)](_0x361958(0x1ba))[_0x361958(0x224)](_0x361958(0x920),()=>{const _0x4c7339=_0x361958,_0x198deb=document['getElementById'](_0x4c7339(0x724))[_0x4c7339(0x491)][_0x4c7339(0x783)]();generateQuiz(_0x198deb,null);}),document['getElementById']('generate-from-text-btn')[_0x361958(0x224)]('click',()=>{const _0x474556=_0x361958,_0x5f2ae=document['getElementById'](_0x474556(0x808))[_0x474556(0x491)]['trim']();if(!_0x5f2ae){showMessage(_0x474556(0x532));return;}const _0x21bfee=document[_0x474556(0x403)](_0x474556(0x724))[_0x474556(0x491)][_0x474556(0x783)]();generateQuiz(_0x21bfee,_0x5f2ae);});async function generateQuiz(_0x53b539,_0x48e537,_0x4cd95e=null,_0x12b7d6=null,_0x45c1a7=![],_0x201b3a=null,_0x248949=null,_0x1d39f8=![]){const _0x20f53d=_0x361958;let _0x5bbc59={};if(_0x45c1a7&&blueprintPageSettings)_0x5bbc59=blueprintPageSettings;else{const _0x300da6=document[_0x20f53d(0x2c6)](_0x20f53d(0xa79));_0x5bbc59={'quizType':document['getElementById'](_0x20f53d(0xb21))[_0x20f53d(0x491)],'numQuestions':document['getElementById'](_0x20f53d(0xec))[_0x20f53d(0x491)],'numChoices':document['getElementById'](_0x20f53d(0xaa3))[_0x20f53d(0x491)],'includeImages':document['getElementById']('include-images-checkbox')['checked'],'isNormalTopic':document['getElementById'](_0x20f53d(0x113))[_0x20f53d(0x98b)],'difficultyValue':document[_0x20f53d(0x403)]('difficulty-level-select')['value'],'complexityValue':document[_0x20f53d(0x403)]('question-complexity-select')['value'],'selectedTopicNames':Array[_0x20f53d(0x70c)](_0x300da6)[_0x20f53d(0x961)](_0x19b09a=>_0x19b09a[_0x20f53d(0x491)])};}const _0x56665a=_0x5bbc59[_0x20f53d(0x65c)]?'':_0x20f53d(0x680),_0x4832a2=_0x5bbc59[_0x20f53d(0x37b)]!==_0x20f53d(0x553)?_0x20f53d(0x89c)+_0x5bbc59[_0x20f53d(0x37b)]+'\x22':'',_0x1aeff4=_0x5bbc59[_0x20f53d(0x2b0)]!=='mixed'?_0x20f53d(0x3ad)+_0x5bbc59[_0x20f53d(0x2b0)]+_0x20f53d(0x9a5):'';let _0x14da0c='';_0x5bbc59[_0x20f53d(0xcd7)]&&_0x5bbc59[_0x20f53d(0xcd7)][_0x20f53d(0x6b7)]>0x0&&(_0x14da0c='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x5bbc59[_0x20f53d(0xcd7)][_0x20f53d(0xbcc)](',\x20')+'.');let _0x5ee023='';_0x12b7d6&&(_0x5ee023=_0x20f53d(0x1b1));let _0x34883a='',_0x578550='',_0x145a24,_0x28189b='เกี่ยวกับหัวข้อ\x20\x22'+_0x53b539+'\x22';if(!_0x53b539&&_0x48e537)_0x28189b=_0x20f53d(0x436);else!_0x53b539&&!_0x48e537&&(_0x28189b=_0x20f53d(0x828));const _0x5c1875={'type':_0x20f53d(0xbb5),'properties':{'questionText':{'type':_0x20f53d(0xef)},'options':{'type':_0x20f53d(0xb41),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x20f53d(0x6b8)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x20f53d(0xef)}},'required':[_0x20f53d(0xf5),_0x20f53d(0x6a5),_0x20f53d(0x47b),_0x20f53d(0x923)]},_0xab41ca={'type':_0x20f53d(0xbb5),'properties':{'questionText':{'type':_0x20f53d(0xef)},'idealAnswer':{'type':_0x20f53d(0xef)},'explanation':{'type':_0x20f53d(0xef)},'imageCode':{'type':_0x20f53d(0xef)}},'required':['questionText',_0x20f53d(0x94b),_0x20f53d(0x923)]},_0x56866d={'type':'OBJECT','properties':{'questionText':{'type':_0x20f53d(0xef)},'questionType':{'type':_0x20f53d(0xef),'enum':[_0x20f53d(0x736),_0x20f53d(0x385)]},'options':{'type':_0x20f53d(0xb41),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x20f53d(0x6b8)},'idealAnswer':{'type':_0x20f53d(0xef)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x20f53d(0xef)}},'required':['questionText','questionType','explanation']},_0x1cb892={'type':'OBJECT','properties':{'questionText':{'type':_0x20f53d(0xef)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x20f53d(0xef)}},'required':[_0x20f53d(0xf5),_0x20f53d(0xc73),'explanation']},_0x37730e={'type':_0x20f53d(0xbb5),'properties':{'questionType':{'type':_0x20f53d(0xef),'enum':[_0x20f53d(0x886)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x20f53d(0xef)},'allResponses':{'type':_0x20f53d(0xb41),'items':{'type':_0x20f53d(0xef)}},'explanation':{'type':_0x20f53d(0xef)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x20f53d(0xb42),'correctResponse',_0x20f53d(0xaa2),_0x20f53d(0x923)]};let _0x28e992;if(_0x4cd95e!==null){const _0x2a0a76=currentQuizData[_0x20f53d(0x707)][_0x4cd95e][_0x20f53d(0x30c)],_0xe1f724=_0x5bbc59[_0x20f53d(0x446)]?_0x20f53d(0xa2b):'';_0x34883a='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x28189b+'\x20'+_0x14da0c+'\x20'+_0x4832a2+_0x20f53d(0xa06)+_0xe1f724+'\x20'+simpleMathPrompt;if(_0x2a0a76==='multiple_choice')_0x145a24=_0x5c1875;else{if(_0x2a0a76===_0x20f53d(0x886))_0x145a24={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x20f53d(0x886)]},'stem':{'type':_0x20f53d(0xef)},'correctResponse':{'type':_0x20f53d(0xef)},'explanation':{'type':_0x20f53d(0xef)},'imageCode':{'type':_0x20f53d(0xef)}},'required':[_0x20f53d(0x30c),_0x20f53d(0xb42),_0x20f53d(0x8c7),_0x20f53d(0x923)]};else _0x145a24=_0xab41ca;}_0x28e992=_0x145a24;}else{const _0x480f2a=_0x5bbc59[_0x20f53d(0x446)]?_0x20f53d(0x441):'';switch(_0x5bbc59[_0x20f53d(0x94d)]){case _0x20f53d(0x736):_0x34883a='สร้างแบบทดสอบปรนัย'+_0x56665a+'\x20'+_0x5bbc59[_0x20f53d(0x11c)]+_0x20f53d(0x956)+_0x28189b+'\x20'+_0x14da0c+'\x20'+_0x4832a2+'\x20'+_0x1aeff4+'\x20'+_0x5ee023+_0x20f53d(0x249)+_0x5bbc59[_0x20f53d(0x2cb)]+_0x20f53d(0x3cc)+_0x480f2a+'\x20'+simpleMathPrompt,_0x145a24=_0x5c1875;break;case _0x20f53d(0xbb8):_0x34883a='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x56665a+'\x20'+_0x5bbc59['numQuestions']+_0x20f53d(0x956)+_0x28189b+'\x20'+_0x14da0c+'\x20'+_0x4832a2+'\x20'+_0x1aeff4+'\x20'+_0x5ee023+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x5bbc59[_0x20f53d(0x2cb)]+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x480f2a+'\x20'+simpleMathPrompt,_0x145a24=_0x5c1875;break;case'fill_in_no_choices':_0x34883a=_0x20f53d(0x48a)+_0x56665a+'\x20'+_0x5bbc59[_0x20f53d(0x11c)]+_0x20f53d(0x956)+_0x28189b+'\x20'+_0x14da0c+'\x20'+_0x4832a2+'\x20'+_0x1aeff4+'\x20'+_0x5ee023+_0x20f53d(0x3ee)+_0x480f2a+'\x20'+simpleMathPrompt,_0x145a24=_0xab41ca;break;case _0x20f53d(0xa3d):_0x34883a=_0x20f53d(0x6c6)+_0x56665a+'\x20'+_0x5bbc59[_0x20f53d(0x11c)]+_0x20f53d(0x956)+_0x28189b+'\x20'+_0x14da0c+'\x20'+_0x4832a2+'\x20'+_0x1aeff4+'\x20'+_0x5ee023+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x5bbc59[_0x20f53d(0x2cb)]+_0x20f53d(0x9e1)+_0x480f2a+'\x20'+simpleMathPrompt+'.',_0x145a24=_0x56866d;break;case'true_false':_0x34883a=_0x20f53d(0x78d)+_0x56665a+'\x20'+_0x5bbc59[_0x20f53d(0x11c)]+_0x20f53d(0x956)+_0x28189b+'\x20'+_0x14da0c+'\x20'+_0x4832a2+'\x20'+_0x1aeff4+'\x20'+_0x5ee023+_0x20f53d(0xa87)+_0x480f2a+'\x20'+simpleMathPrompt,_0x145a24=_0x1cb892;break;case _0x20f53d(0x11f):_0x34883a='สร้างชุดคำถามจับคู่'+_0x56665a+'\x20'+_0x5bbc59[_0x20f53d(0x11c)]+'\x20คู่\x20'+_0x28189b+'\x20'+_0x14da0c+'\x20'+_0x4832a2+'\x20'+_0x1aeff4+'\x20'+_0x5ee023+_0x20f53d(0xaea)+_0x480f2a+'\x20'+simpleMathPrompt,_0x145a24=_0x37730e;break;}_0x28e992={'type':_0x20f53d(0xbb5),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x145a24}},'required':[_0x20f53d(0x411),_0x20f53d(0x707)]};}const _0x468c8e=_0x20f53d(0xb67);_0x48e537?(_0x1d39f8?_0x34883a=_0x20f53d(0x829)+_0x48e537+'\x22,\x20'+_0x34883a+_0x468c8e:_0x34883a=_0x20f53d(0x829)+_0x48e537+_0x20f53d(0x29d)+_0x34883a,_0x578550=_0x20f53d(0xb3b)):(_0x1d39f8&&(_0x34883a+=_0x468c8e),_0x578550=_0x20f53d(0x619));let _0x2c3b2d;return _0x12b7d6?(_0x2c3b2d=[{'text':_0x34883a},..._0x12b7d6],_0x578550=_0x20f53d(0x2ae)):_0x2c3b2d=_0x34883a,handleApiCall(_0x2c3b2d,_0x578550,_0x28e992,_0x4cd95e,!![],_0x201b3a,_0x248949);}async function generateQuizFromFile(_0x27dd48,_0x3a5c89){const _0x379f51=_0x361958,_0x4c66c7=document[_0x379f51(0x403)](_0x379f51(0x119))[_0x379f51(0x491)]['trim'](),_0x8d1f7f=document[_0x379f51(0x403)](_0x379f51(0xb21))[_0x379f51(0x491)],_0x59c212=document[_0x379f51(0x403)](_0x379f51(0xec))[_0x379f51(0x491)],_0x4603e1=document['getElementById'](_0x379f51(0xaa3))[_0x379f51(0x491)],_0x3b01b6=document[_0x379f51(0x403)](_0x379f51(0x7c8))[_0x379f51(0x98b)],_0x443790=document[_0x379f51(0x403)](_0x379f51(0x113))[_0x379f51(0x98b)],_0x4da933=_0x443790?'':_0x379f51(0x680),_0x18b20a=document[_0x379f51(0x403)](_0x379f51(0x767))[_0x379f51(0x98b)];let _0x5222b9='',_0x993df;const _0xa68461=_0x3b01b6?_0x379f51(0x441):'';if(_0x18b20a)_0x5222b9='\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a'+_0xa68461+'\x0a'+simpleMathPrompt+'\x0a',_0x993df={'type':'OBJECT','properties':{'questionText':{'type':_0x379f51(0xef)},'questionType':{'type':'STRING','enum':[_0x379f51(0x736),_0x379f51(0x385),_0x379f51(0x891),'matching_item']},'options':{'type':_0x379f51(0xb41),'items':{'type':_0x379f51(0xef)}},'correctAnswerIndex':{'type':_0x379f51(0x6b8)},'idealAnswer':{'type':_0x379f51(0xef)},'correctAnswer':{'type':_0x379f51(0x4b9)},'stem':{'type':_0x379f51(0xef)},'correctResponse':{'type':_0x379f51(0xef)},'allResponses':{'type':_0x379f51(0xb41),'items':{'type':_0x379f51(0xef)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x379f51(0xef)}},'required':[_0x379f51(0x30c),'explanation']};else{let _0xb1589e=_0x379f51(0xcf7)+_0x4c66c7+'\x22';!_0x4c66c7&&(_0xb1589e=_0x379f51(0x58c));switch(_0x8d1f7f){case _0x379f51(0x736):_0x5222b9=_0x379f51(0x8ef)+_0x4da933+'\x20'+_0x59c212+_0x379f51(0x956)+_0xb1589e+_0x379f51(0x249)+_0x4603e1+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0xa68461+'\x20'+simpleMathPrompt,_0x993df={'type':_0x379f51(0xbb5),'properties':{'questionText':{'type':_0x379f51(0xef)},'options':{'type':'ARRAY','items':{'type':_0x379f51(0xef)}},'correctAnswerIndex':{'type':_0x379f51(0x6b8)},'explanation':{'type':_0x379f51(0xef)},'imageCode':{'type':'STRING'}},'required':[_0x379f51(0xf5),_0x379f51(0x6a5),'correctAnswerIndex','explanation']};break;case _0x379f51(0xbb8):_0x5222b9=_0x379f51(0x48a)+_0x4da933+'\x20'+_0x59c212+'\x20ข้อ\x20'+_0xb1589e+_0x379f51(0x25e)+_0x4603e1+_0x379f51(0x7fa)+_0xa68461+'\x20'+simpleMathPrompt,_0x993df={'type':_0x379f51(0xbb5),'properties':{'questionText':{'type':_0x379f51(0xef)},'options':{'type':'ARRAY','items':{'type':_0x379f51(0xef)}},'correctAnswerIndex':{'type':_0x379f51(0x6b8)},'explanation':{'type':_0x379f51(0xef)},'imageCode':{'type':_0x379f51(0xef)}},'required':[_0x379f51(0xf5),_0x379f51(0x6a5),_0x379f51(0x47b),_0x379f51(0x923)]};break;case _0x379f51(0x163):_0x5222b9=_0x379f51(0x48a)+_0x4da933+'\x20'+_0x59c212+_0x379f51(0x956)+_0xb1589e+_0x379f51(0x60f)+_0xa68461+'\x20'+simpleMathPrompt,_0x993df={'type':_0x379f51(0xbb5),'properties':{'questionText':{'type':_0x379f51(0xef)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x379f51(0xef)},'imageCode':{'type':_0x379f51(0xef)}},'required':[_0x379f51(0xf5),_0x379f51(0x94b),_0x379f51(0x923)]};break;case'mixed':_0x5222b9='สร้างแบบทดสอบ'+_0x4da933+'\x20'+_0x59c212+_0x379f51(0x956)+_0xb1589e+_0x379f51(0xbd7)+_0x4603e1+_0x379f51(0x7a5)+_0xa68461+'\x20'+simpleMathPrompt+_0x379f51(0x948),_0x993df={'type':'OBJECT','properties':{'questionText':{'type':_0x379f51(0xef)},'questionType':{'type':_0x379f51(0xef),'enum':[_0x379f51(0x736),_0x379f51(0x385)]},'options':{'type':_0x379f51(0xb41),'items':{'type':_0x379f51(0xef)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x379f51(0xef)},'explanation':{'type':_0x379f51(0xef)},'imageCode':{'type':_0x379f51(0xef)}},'required':[_0x379f51(0xf5),_0x379f51(0x30c),_0x379f51(0x923)]};break;case'true_false':_0x5222b9=_0x379f51(0x78d)+_0x4da933+'\x20'+_0x59c212+_0x379f51(0x956)+_0xb1589e+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0xa68461+'\x20'+simpleMathPrompt,_0x993df={'type':_0x379f51(0xbb5),'properties':{'questionText':{'type':_0x379f51(0xef)},'correctAnswer':{'type':_0x379f51(0x4b9)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x379f51(0xef)}},'required':[_0x379f51(0xf5),_0x379f51(0xc73),'explanation']};break;case _0x379f51(0x11f):_0x5222b9='สร้างชุดคำถามจับคู่'+_0x4da933+'\x20'+_0x59c212+_0x379f51(0xb97)+_0xb1589e+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x59c212+_0x379f51(0x8fe)+_0xa68461+'\x20'+simpleMathPrompt,_0x993df={'type':_0x379f51(0xbb5),'properties':{'questionType':{'type':_0x379f51(0xef),'enum':['matching_item']},'stem':{'type':_0x379f51(0xef)},'correctResponse':{'type':_0x379f51(0xef)},'allResponses':{'type':_0x379f51(0xb41),'items':{'type':_0x379f51(0xef)}},'explanation':{'type':_0x379f51(0xef)},'imageCode':{'type':_0x379f51(0xef)}},'required':[_0x379f51(0x30c),_0x379f51(0xb42),_0x379f51(0x8c7),_0x379f51(0xaa2),_0x379f51(0x923)]};break;}}const _0x18abd5={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x379f51(0xb41),'items':_0x993df}},'required':[_0x379f51(0x411),_0x379f51(0x707)]},_0x22f1c4='จากไฟล์ที่แนบมานี้,\x20'+_0x5222b9,_0x169f05={'contents':[{'parts':[{'text':_0x22f1c4},{'inlineData':{'mimeType':_0x27dd48,'data':_0x3a5c89}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x18abd5}};return handleApiCall(_0x169f05[_0x379f51(0xa5f)][0x0][_0x379f51(0x7ff)],_0x379f51(0x583),_0x18abd5);}async function handleApiCall(_0x4622be,_0x19db07,_0x54a265,_0x13e993=null,_0xa8a570=!![],_0x2495ab=null,_0x55883e=null){const _0x2b3ae2=_0x361958,_0x4d8791=document[_0x2b3ae2(0x403)](_0x2b3ae2(0x624)),_0x37f6b3=document[_0x2b3ae2(0x403)]('loader'),_0x151d75=document[_0x2b3ae2(0x403)](_0x2b3ae2(0x219)),_0x36fdd7=document[_0x2b3ae2(0x403)]('generated-quiz-container');_0x4d8791[_0x2b3ae2(0x67e)][_0x2b3ae2(0x3e9)](_0x2b3ae2(0x17c));_0x13e993===null&&_0xa8a570&&(_0x36fdd7[_0x2b3ae2(0x86f)]='');_0x37f6b3[_0x2b3ae2(0x67e)][_0x2b3ae2(0x3e9)](_0x2b3ae2(0x17c)),_0x151d75[_0x2b3ae2(0x317)]=_0x19db07,document[_0x2b3ae2(0x403)]('generate-from-topic-btn')[_0x2b3ae2(0x79a)]=!![],document[_0x2b3ae2(0x403)]('generate-from-text-btn')[_0x2b3ae2(0x79a)]=!![],document[_0x2b3ae2(0x403)](_0x2b3ae2(0xd06))[_0x2b3ae2(0x79a)]=!![];const _0x2eaa08=document['getElementById'](_0x2b3ae2(0x369));if(_0x2eaa08)_0x2eaa08[_0x2b3ae2(0x79a)]=!![];const _0x2b7109=document[_0x2b3ae2(0x403)](_0x2b3ae2(0x9a9));if(_0x2b7109)_0x2b7109['disabled']=!![];const _0x457723=document['getElementById'](_0x2b3ae2(0xabd));if(_0x457723)_0x457723[_0x2b3ae2(0x79a)]=!![];try{const _0x5211f2=Array[_0x2b3ae2(0x363)](_0x4622be)?_0x4622be:[{'text':_0x4622be}],_0xf83ef={'contents':[{'role':_0x2b3ae2(0xb62),'parts':_0x5211f2}]};_0x54a265&&(_0xf83ef[_0x2b3ae2(0xb78)]={'responseMimeType':'application/json','responseSchema':_0x54a265});const _0x1a4957=_0x2b3ae2(0x7f6),_0x5c0790=_0x2b3ae2(0x2bc)+_0x1a4957,_0x43b4e1=await fetch(_0x5c0790,{'method':_0x2b3ae2(0x809),'headers':{'Content-Type':_0x2b3ae2(0x912)},'body':JSON[_0x2b3ae2(0xa24)](_0xf83ef)});if(!_0x43b4e1['ok']){const _0x2c6117=await _0x43b4e1[_0x2b3ae2(0x90b)]();console[_0x2b3ae2(0x51e)]('API\x20Error\x20Response:',_0x2c6117);throw new Error(_0x2b3ae2(0x20f)+_0x43b4e1[_0x2b3ae2(0x6b5)]);}const _0x109e1=await _0x43b4e1['json']();if(!_0x109e1[_0x2b3ae2(0xa3c)]||_0x109e1[_0x2b3ae2(0xa3c)][_0x2b3ae2(0x6b7)]===0x0){let _0xfc1dd4='AI\x20did\x20not\x20return\x20any\x20content.';return _0x109e1[_0x2b3ae2(0xb08)]?.['blockReason']&&(_0xfc1dd4=_0x2b3ae2(0x17d)+_0x109e1[_0x2b3ae2(0xb08)][_0x2b3ae2(0x861)]+'.'),console[_0x2b3ae2(0x51e)](_0xfc1dd4,JSON[_0x2b3ae2(0xa24)](_0x109e1)),null;}const _0x206053=_0x109e1['candidates'][0x0][_0x2b3ae2(0x1ab)][_0x2b3ae2(0x7ff)][0x0][_0x2b3ae2(0x90b)];if(_0x54a265){let _0x165c42=_0x206053;if(_0x165c42[_0x2b3ae2(0x48b)](_0x2b3ae2(0x4fc)))_0x165c42=_0x165c42[_0x2b3ae2(0x4e7)](0x7,_0x165c42['length']-0x3)['trim']();else _0x165c42[_0x2b3ae2(0x48b)](_0x2b3ae2(0xc94))&&(_0x165c42=_0x165c42['substring'](0x3,_0x165c42[_0x2b3ae2(0x6b7)]-0x3)[_0x2b3ae2(0x783)]());let _0x59f219=JSON['parse'](_0x165c42);if(_0xa8a570){if(_0x13e993!==null){}else currentQuizData=_0x59f219,displayGeneratedQuiz(currentQuizData,_0x2495ab,_0x55883e);}return _0x59f219;}else return _0x206053;}catch(_0xc4d4e6){console[_0x2b3ae2(0x51e)](_0x2b3ae2(0x9dd),_0xc4d4e6),showMessage(_0x2b3ae2(0xa1c)+_0xc4d4e6[_0x2b3ae2(0x931)]);_0xa8a570&&(_0x36fdd7['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>');throw _0xc4d4e6;}finally{_0x37f6b3[_0x2b3ae2(0x67e)][_0x2b3ae2(0x7be)]('hidden'),document['getElementById']('generate-from-topic-btn')[_0x2b3ae2(0x79a)]=![],document[_0x2b3ae2(0x403)](_0x2b3ae2(0xb6f))[_0x2b3ae2(0x79a)]=![],document[_0x2b3ae2(0x403)](_0x2b3ae2(0xd06))['disabled']=![];if(_0x2eaa08)_0x2eaa08[_0x2b3ae2(0x79a)]=![];if(_0x2b7109)_0x2b7109[_0x2b3ae2(0x79a)]=![];if(_0x457723)_0x457723[_0x2b3ae2(0x79a)]=![];}}function exitFullscreen(){const _0x2c9c27=_0x361958;if(document[_0x2c9c27(0x580)])document['exitFullscreen']()[_0x2c9c27(0x7f1)](_0x4fc978=>console[_0x2c9c27(0x51e)](_0x4fc978));else{if(document[_0x2c9c27(0x982)])document['webkitExitFullscreen']();else document[_0x2c9c27(0x54a)]&&document[_0x2c9c27(0x54a)]();}}function enterFullscreen(){const _0x56b93c=_0x361958,_0x212eb3=document['documentElement'];if(_0x212eb3[_0x56b93c(0x92f)])_0x212eb3['requestFullscreen']()[_0x56b93c(0x7f1)](_0x3c59d3=>{const _0x2302a8=_0x56b93c;console[_0x2302a8(0x51e)](_0x2302a8(0x518)+_0x3c59d3[_0x2302a8(0x931)]+'\x20('+_0x3c59d3[_0x2302a8(0x2ea)]+')');});else{if(_0x212eb3['webkitRequestFullscreen'])_0x212eb3['webkitRequestFullscreen']();else _0x212eb3[_0x56b93c(0x324)]&&_0x212eb3[_0x56b93c(0x324)]();}}function handleCheatingEvent(){const _0x1c8fd4=_0x361958;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x1c8fd4(0x629),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x1c8fd4(0x403)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener']('visibilitychange',handleVisibilityChange),document[_0x1c8fd4(0xb35)](_0x1c8fd4(0x37d),handleFullscreenChange)):showMessage(_0x1c8fd4(0xa5c)+cheatAttempts+'/'+maxCheatAttempts+_0x1c8fd4(0x40a),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x21baea=_0x361958;if(currentMode===_0x21baea(0x336)||!isQuizActive)return;if(document[_0x21baea(0x2c9)]==='hidden')handleCheatingEvent();else document[_0x21baea(0x2c9)]===_0x21baea(0x2a2)&&(console[_0x21baea(0xb07)](_0x21baea(0x529)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x45a243=_0x361958;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x45a243(0x382)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x494b8c,_0x45a6e5=null,_0x1ac409=null){const _0x26be7d=_0x361958,_0x3df303=document[_0x26be7d(0x403)](_0x26be7d(0xa1d));let _0x3715b2='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x494b8c[_0x26be7d(0x411)]+'</h3>';_0x494b8c[_0x26be7d(0x707)]['forEach']((_0x39ee55,_0x2a1039)=>{const _0x36a849=_0x26be7d;!_0x39ee55['id']&&(_0x39ee55['id']='q_'+Date['now']()+'_'+_0x2a1039);const _0x1da9b4=_0x39ee55['questionType']||_0x494b8c[_0x36a849(0x94d)];_0x3715b2+=_0x36a849(0x1eb)+_0x2a1039+_0x36a849(0x6ac)+_0x2a1039+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2a1039+_0x36a849(0xf7);switch(_0x1da9b4){case _0x36a849(0x886):_0x3715b2+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x2a1039+'\x22>'+(_0x2a1039+0x1)+'.\x20'+_0x39ee55[_0x36a849(0xb42)]+_0x36a849(0x86d);_0x39ee55[_0x36a849(0x1ef)]&&(_0x3715b2+='<div\x20id=\x22q-image-container-'+_0x2a1039+_0x36a849(0x601)+_0x39ee55[_0x36a849(0x1ef)]+'</div>');_0x3715b2+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x2a1039+'\x22>'+_0x39ee55[_0x36a849(0x8c7)]+_0x36a849(0x190),_0x3715b2+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x2a1039+'\x22>'+_0x39ee55['explanation']+'</span></div>';break;case _0x36a849(0x385):_0x3715b2+=_0x36a849(0xae2)+_0x2a1039+'\x22>'+(_0x2a1039+0x1)+'.\x20'+_0x39ee55[_0x36a849(0xf5)]+_0x36a849(0x86d);_0x39ee55[_0x36a849(0x1ef)]&&(_0x3715b2+=_0x36a849(0x8b4)+_0x2a1039+_0x36a849(0x601)+_0x39ee55[_0x36a849(0x1ef)]+_0x36a849(0x517));_0x3715b2+=_0x36a849(0x23e)+_0x2a1039+'\x22>'+_0x39ee55['idealAnswer']+_0x36a849(0x190),_0x3715b2+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x2a1039+'\x22>'+_0x39ee55['explanation']+_0x36a849(0x190);break;case _0x36a849(0x891):_0x3715b2+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x2a1039+'\x22>'+(_0x2a1039+0x1)+'.\x20'+_0x39ee55[_0x36a849(0xf5)]+_0x36a849(0x86d);_0x39ee55[_0x36a849(0x1ef)]&&(_0x3715b2+=_0x36a849(0x8b4)+_0x2a1039+_0x36a849(0x601)+_0x39ee55[_0x36a849(0x1ef)]+'</div>');_0x3715b2+=_0x36a849(0x862)+(_0x39ee55[_0x36a849(0xc73)]===!![]?_0x36a849(0x439):'')+_0x36a849(0x1e9)+(_0x39ee55[_0x36a849(0xc73)]===![]?_0x36a849(0x439):'')+_0x36a849(0x7f3),_0x3715b2+=_0x36a849(0x2d3)+_0x2a1039+'\x22>'+_0x39ee55['explanation']+_0x36a849(0x190);break;case _0x36a849(0x822):case _0x36a849(0x736):default:_0x3715b2+=_0x36a849(0xae2)+_0x2a1039+'\x22>'+(_0x2a1039+0x1)+'.\x20'+_0x39ee55['questionText']+_0x36a849(0x86d);_0x39ee55[_0x36a849(0x1ef)]&&(_0x3715b2+=_0x36a849(0x8b4)+_0x2a1039+_0x36a849(0x601)+_0x39ee55[_0x36a849(0x1ef)]+_0x36a849(0x517));_0x3715b2+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x2a1039+_0x36a849(0x6c1)+(_0x39ee55[_0x36a849(0x6a5)]||[])[_0x36a849(0x961)]((_0x2fad03,_0x53ded0)=>_0x36a849(0xa3e)+(_0x53ded0===_0x39ee55[_0x36a849(0x47b)]?_0x36a849(0x439):'')+'\x22>'+_0x2fad03+'</li>')[_0x36a849(0xbcc)]('')+_0x36a849(0x14b),_0x3715b2+=_0x36a849(0x2d3)+_0x2a1039+'\x22>'+_0x39ee55[_0x36a849(0x923)]+_0x36a849(0x190);break;}_0x3715b2+=_0x36a849(0x517);}),_0x3715b2+=_0x26be7d(0x254),_0x3df303['innerHTML']=_0x3715b2,document[_0x26be7d(0x2c6)](_0x26be7d(0x4ff))[_0x26be7d(0x384)](_0x3ad000=>_0x3ad000[_0x26be7d(0x224)]('click',handleEditQuestion)),document[_0x26be7d(0x2c6)](_0x26be7d(0xaca))[_0x26be7d(0x384)](_0x4acd6d=>_0x4acd6d[_0x26be7d(0x224)](_0x26be7d(0x920),handleRegenerateQuestion)),document[_0x26be7d(0x403)](_0x26be7d(0xb8a))[_0x26be7d(0x224)](_0x26be7d(0x920),exportQuizAsWorksheetPDF),document['getElementById'](_0x26be7d(0x34e))['addEventListener'](_0x26be7d(0x920),handleVerifyAnswers);const _0xfb8c32=document['getElementById'](_0x26be7d(0xa0e));if(_0xfb8c32){const _0x4ac666=_0x45a6e5||currentProjectId;_0xfb8c32[_0x26be7d(0x224)](_0x26be7d(0x920),()=>saveQuiz(_0x4ac666,_0x1ac409));}if(window[_0x26be7d(0xaeb)])window[_0x26be7d(0xaeb)][_0x26be7d(0x738)]([_0x3df303]);}function handleRegenerateQuestion(_0x1d2c82){const _0x2ec025=_0x361958,_0x1acda4=_0x1d2c82['currentTarget'][_0x2ec025(0x8c4)][_0x2ec025(0x4b1)],_0x1b2133=currentQuizData[_0x2ec025(0x411)];showMessage(_0x2ec025(0xa56)+(parseInt(_0x1acda4)+0x1)+'\x20ใหม่...'),generateQuiz(_0x1b2133,null,parseInt(_0x1acda4));}function getPointerPosition(_0x2c63dc,_0x16200c){const _0x18ad7d=_0x361958,_0x57a15c=_0x2c63dc[_0x18ad7d(0x90e)]();let _0x48a81a,_0x5b55f3;return _0x16200c[_0x18ad7d(0x31f)]&&_0x16200c[_0x18ad7d(0x31f)][_0x18ad7d(0x6b7)]>0x0?(_0x48a81a=_0x16200c[_0x18ad7d(0x31f)][0x0][_0x18ad7d(0x90c)],_0x5b55f3=_0x16200c[_0x18ad7d(0x31f)][0x0][_0x18ad7d(0xbeb)]):(_0x48a81a=_0x16200c[_0x18ad7d(0x90c)],_0x5b55f3=_0x16200c[_0x18ad7d(0xbeb)]),{'x':(_0x48a81a-_0x57a15c['e'])/_0x57a15c['a'],'y':(_0x5b55f3-_0x57a15c['f'])/_0x57a15c['d']};}function startDrag(_0x5f337d){const _0x59c5ef=_0x361958;_0x5f337d[_0x59c5ef(0x61e)]==='touchstart'&&_0x5f337d[_0x59c5ef(0x27f)]();const _0x31439a=_0x5f337d[_0x59c5ef(0xe9)][_0x59c5ef(0x1af)]('.draggable-text');if(_0x31439a){draggedSvgElement=_0x31439a;const _0x1bb913=draggedSvgElement[_0x59c5ef(0xaf1)],_0x271528=getPointerPosition(_0x1bb913,_0x5f337d);svgOffset['x']=_0x271528['x']-parseFloat(draggedSvgElement[_0x59c5ef(0x7c6)](null,'x')),svgOffset['y']=_0x271528['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x142a55,_0x25f4ab){const _0x2d1a87=_0x361958,_0x1713c8={};if(_0x25f4ab[_0x2d1a87(0x6b7)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0xa6a0cb=[..._0x25f4ab][_0x2d1a87(0x2b7)]((_0x46bd5b,_0x42c4ba)=>{const _0x35894a=_0x2d1a87,_0x505ec0=_0x42c4ba[_0x35894a(0x155)]-_0x46bd5b['latestScore'];if(_0x505ec0!==0x0)return _0x505ec0;const _0x1784af=_0x46bd5b['attempts']?.[_0x35894a(0x6b7)]||0x1,_0x36dfcd=_0x42c4ba[_0x35894a(0x723)]?.[_0x35894a(0x6b7)]||0x1,_0x31fa78=_0x1784af-_0x36dfcd;if(_0x31fa78!==0x0)return _0x31fa78;const _0x327a10=new Date(_0x46bd5b['latestSubmittedAt']),_0x5c3009=new Date(_0x42c4ba['latestSubmittedAt']),_0x2ff231=_0x327a10-_0x5c3009;if(_0x2ff231!==0x0)return _0x2ff231;return _0x46bd5b['studentName']['localeCompare'](_0x42c4ba[_0x35894a(0x5b0)],'th');}),_0x112cad=_0xa6a0cb[_0x2d1a87(0x6b7)],_0x559f68=Math['max'](0x1,Math[_0x2d1a87(0x15f)](_0x112cad*0.33));if(_0x559f68===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x323aa9=_0xa6a0cb[_0x2d1a87(0x4ca)](0x0,_0x559f68),_0x1ffed9=_0xa6a0cb[_0x2d1a87(0x4ca)](-_0x559f68),_0x443b6c=_0x323aa9[_0x2d1a87(0x961)](_0x275c9d=>_0x275c9d['studentName']),_0x1b6564=_0x1ffed9[_0x2d1a87(0x961)](_0x46dd93=>_0x46dd93[_0x2d1a87(0x5b0)]);return _0x142a55[_0x2d1a87(0x707)][_0x2d1a87(0x384)]((_0x2b61be,_0xac463b)=>{const _0xdb0041=_0x2d1a87,_0x2ab8e5=_0x2b61be[_0xdb0041(0xb42)]||_0x2b61be['questionText'];let _0x27349c=0x0,_0x11052d=0x0,_0x4265c2=0x0;const _0x47e67f=[],_0x5c0157=[];_0x323aa9['forEach'](_0x15db2a=>{const _0x3097e9=_0xdb0041,_0x1637f2=_0x15db2a[_0x3097e9(0x723)][_0x15db2a['attempts']['length']-0x1],_0x48b864=_0x1637f2[_0x3097e9(0x379)][_0x3097e9(0x9f6)](_0x50dc69=>_0x50dc69['originalQuestionText']===_0x2ab8e5);_0x47e67f[_0x3097e9(0x798)]({'name':_0x15db2a[_0x3097e9(0x5b0)],'isCorrect':_0x48b864?_0x48b864[_0x3097e9(0x4dd)]:![]}),_0x48b864&&_0x48b864[_0x3097e9(0x4dd)]&&_0x11052d++;}),_0x1ffed9['forEach'](_0x5b3b03=>{const _0x28d99d=_0xdb0041,_0x5cdec8=_0x5b3b03[_0x28d99d(0x723)][_0x5b3b03['attempts'][_0x28d99d(0x6b7)]-0x1],_0xbec464=_0x5cdec8[_0x28d99d(0x379)][_0x28d99d(0x9f6)](_0x118dbb=>_0x118dbb[_0x28d99d(0xc0d)]===_0x2ab8e5);_0x5c0157['push']({'name':_0x5b3b03['studentName'],'isCorrect':_0xbec464?_0xbec464['isCorrect']:![]}),_0xbec464&&_0xbec464[_0x28d99d(0x4dd)]&&_0x4265c2++;}),_0x25f4ab[_0xdb0041(0x384)](_0x4ce19b=>{const _0x5a13a1=_0xdb0041,_0x44f643=_0x4ce19b[_0x5a13a1(0x723)][_0x4ce19b['attempts'][_0x5a13a1(0x6b7)]-0x1],_0x5ca606=_0x44f643[_0x5a13a1(0x379)][_0x5a13a1(0x9f6)](_0x52fb22=>_0x52fb22[_0x5a13a1(0xc0d)]===_0x2ab8e5);_0x5ca606&&_0x5ca606['isCorrect']&&_0x27349c++;});const _0x12ad66=_0x112cad>0x0?_0x27349c/_0x112cad:0x0,_0x47123a=_0x559f68>0x0?_0x11052d/_0x559f68-_0x4265c2/_0x559f68:0x0;_0x1713c8[_0xac463b]={'p':_0x12ad66,'r':_0x47123a,'upperGroupResponders':_0x47e67f,'lowerGroupResponders':_0x5c0157};}),{'perQuestionStats':_0x1713c8,'overallGroups':{'upperGroupNames':_0x443b6c,'lowerGroupNames':_0x1b6564}};}function drag(_0x2763a1){const _0x259f39=_0x361958;if(draggedSvgElement){_0x2763a1['preventDefault']();const _0x5c8c03=draggedSvgElement[_0x259f39(0xaf1)],_0x1c077d=getPointerPosition(_0x5c8c03,_0x2763a1),_0x80d86=_0x5c8c03[_0x259f39(0xa1a)][_0x259f39(0xbd1)];let _0x54569b=_0x1c077d['x']-svgOffset['x'],_0x499a71=_0x1c077d['y']-svgOffset['y'];const _0x2e7306=draggedSvgElement[_0x259f39(0x6f8)]();_0x54569b=Math[_0x259f39(0x773)](_0x80d86['x'],Math[_0x259f39(0xc8f)](_0x54569b,_0x80d86['x']+_0x80d86[_0x259f39(0xac2)]-_0x2e7306['width'])),_0x499a71=Math['max'](_0x80d86['y'],Math[_0x259f39(0xc8f)](_0x499a71,_0x80d86['y']+_0x80d86[_0x259f39(0x9d0)]-_0x2e7306[_0x259f39(0x9d0)])),draggedSvgElement[_0x259f39(0xc54)](null,'x',_0x54569b),draggedSvgElement[_0x259f39(0xc54)](null,'y',_0x499a71);}}function endDrag(_0x16d6e0){draggedSvgElement=null;}function handleSvgEditClick(_0x3190e4){const _0x110788=_0x361958;if(_0x3190e4['target'][_0x110788(0x67e)][_0x110788(0x322)](_0x110788(0x64b))){const _0x31f486=_0x3190e4[_0x110788(0xe9)]['dataset'][_0x110788(0x88e)],_0x1c6c74=_0x3190e4['currentTarget'],_0x598dc6=_0x1c6c74['querySelector']('#'+_0x31f486);_0x598dc6&&_0x598dc6['remove'](),_0x3190e4[_0x110788(0xe9)][_0x110788(0x3e9)]();}}function handleEditQuestion(_0x3afeee){const _0x4fe811=_0x361958,_0x21a3c4=_0x3afeee['currentTarget'],_0x2ab22f=_0x21a3c4['dataset']['index'],_0x376550=currentQuizData[_0x4fe811(0x707)][_0x2ab22f],_0x5d83f8=document[_0x4fe811(0x403)](_0x4fe811(0x4af)+_0x2ab22f),_0x312f98=document[_0x4fe811(0x403)]('q-explanation-'+_0x2ab22f),_0x4f3c2b=document[_0x4fe811(0x403)](_0x4fe811(0x1fe)+_0x2ab22f);if(_0x21a3c4[_0x4fe811(0x86f)]['includes'](_0x4fe811(0xc6b))){_0x21a3c4[_0x4fe811(0x86f)]=_0x4fe811(0xc14),_0x21a3c4[_0x4fe811(0xa39)]=_0x4fe811(0x88c);if(_0x5d83f8)_0x5d83f8[_0x4fe811(0x2e2)]=!![];if(_0x312f98)_0x312f98[_0x4fe811(0x2e2)]=!![];if(_0x4f3c2b){const _0x3f91a9=_0x4f3c2b[_0x4fe811(0x314)](_0x4fe811(0x2a9));if(_0x3f91a9){const _0x9aa63b=_0x3f91a9['querySelectorAll']('text');_0x9aa63b[_0x4fe811(0x384)]((_0x337f69,_0x5c56fd)=>{const _0x285d11=_0x4fe811,_0x4a52e0='editable-text-'+_0x2ab22f+'-'+_0x5c56fd;_0x337f69['id']=_0x4a52e0,_0x337f69['classList']['add'](_0x285d11(0xcfe)),_0x337f69[_0x285d11(0x77b)]['cursor']=_0x285d11(0x7fe);const _0x90860a=document['createElementNS']('http://www.w3.org/2000/svg',_0x285d11(0xb02)),_0x329b56=_0x337f69[_0x285d11(0x6f8)]();_0x90860a['setAttribute']('cx',String(_0x329b56['x']+_0x329b56['width']+0x5)),_0x90860a['setAttribute']('cy',String(_0x329b56['y']+_0x329b56['height']/0x2-0x5)),_0x90860a[_0x285d11(0x2c3)]('r','5'),_0x90860a[_0x285d11(0x2c3)]('fill','red'),_0x90860a[_0x285d11(0x2c3)]('class',_0x285d11(0x64b)),_0x90860a[_0x285d11(0x8c4)][_0x285d11(0x88e)]=_0x4a52e0,_0x337f69[_0x285d11(0x942)](_0x90860a);}),_0x3f91a9[_0x4fe811(0x224)]('mousedown',startDrag),_0x3f91a9[_0x4fe811(0x224)](_0x4fe811(0x8c8),drag),_0x3f91a9[_0x4fe811(0x224)](_0x4fe811(0x9c7),endDrag),_0x3f91a9['addEventListener'](_0x4fe811(0xc0c),endDrag),_0x3f91a9[_0x4fe811(0x224)](_0x4fe811(0x863),startDrag,{'passive':![]}),_0x3f91a9[_0x4fe811(0x224)](_0x4fe811(0x1ff),drag,{'passive':![]}),_0x3f91a9[_0x4fe811(0x224)](_0x4fe811(0x700),endDrag),_0x3f91a9[_0x4fe811(0x224)](_0x4fe811(0xacd),endDrag),_0x3f91a9[_0x4fe811(0x224)](_0x4fe811(0x920),handleSvgEditClick);}}if(_0x5d83f8)_0x5d83f8[_0x4fe811(0x447)]();}else{_0x21a3c4['innerHTML']=_0x4fe811(0x752),_0x21a3c4[_0x4fe811(0xa39)]='แก้ไขข้อนี้';if(_0x5d83f8){_0x5d83f8[_0x4fe811(0x2e2)]=![];const _0x2d4530=_0x376550[_0x4fe811(0x30c)]||currentQuizData[_0x4fe811(0x94d)];_0x2d4530==='matching_item'?_0x376550['stem']=_0x5d83f8[_0x4fe811(0x924)][_0x4fe811(0x4e7)](_0x5d83f8[_0x4fe811(0x924)][_0x4fe811(0x9d9)]('.')+0x2)[_0x4fe811(0x783)]():_0x376550[_0x4fe811(0xf5)]=_0x5d83f8[_0x4fe811(0x924)]['substring'](_0x5d83f8['innerText'][_0x4fe811(0x9d9)]('.')+0x2)[_0x4fe811(0x783)]();}_0x312f98&&(_0x312f98[_0x4fe811(0x2e2)]=![],_0x376550[_0x4fe811(0x923)]=_0x312f98[_0x4fe811(0x924)]);if(_0x4f3c2b){const _0xa60c75=_0x4f3c2b[_0x4fe811(0x314)](_0x4fe811(0x2a9));if(_0xa60c75){const _0x3e0a0f=_0xa60c75[_0x4fe811(0x72a)](!![]);_0x3e0a0f['querySelectorAll'](_0x4fe811(0x5cb))[_0x4fe811(0x384)](_0x22a54a=>_0x22a54a['remove']()),_0x3e0a0f[_0x4fe811(0x2c6)]('.draggable-text')[_0x4fe811(0x384)](_0x4ac208=>{const _0x52e4ea=_0x4fe811;_0x4ac208['classList'][_0x52e4ea(0x3e9)](_0x52e4ea(0xcfe)),_0x4ac208[_0x52e4ea(0x77b)][_0x52e4ea(0xfe)]=_0x52e4ea(0x650),_0x4ac208['removeAttribute']('id');}),_0x376550[_0x4fe811(0x1ef)]=_0x3e0a0f[_0x4fe811(0x44c)],_0xa60c75[_0x4fe811(0xb35)](_0x4fe811(0x541),startDrag),_0xa60c75[_0x4fe811(0xb35)](_0x4fe811(0x8c8),drag),_0xa60c75[_0x4fe811(0xb35)]('mouseup',endDrag),_0xa60c75['removeEventListener'](_0x4fe811(0xc0c),endDrag),_0xa60c75[_0x4fe811(0xb35)]('touchstart',startDrag),_0xa60c75[_0x4fe811(0xb35)]('touchmove',drag),_0xa60c75[_0x4fe811(0xb35)](_0x4fe811(0x700),endDrag),_0xa60c75[_0x4fe811(0xb35)](_0x4fe811(0xacd),endDrag),_0xa60c75['removeEventListener'](_0x4fe811(0x920),handleSvgEditClick),_0xa60c75[_0x4fe811(0x2c6)](_0x4fe811(0x5cb))[_0x4fe811(0x384)](_0x4845ca=>_0x4845ca['remove']()),_0xa60c75[_0x4fe811(0x2c6)](_0x4fe811(0x825))['forEach'](_0x281b00=>{const _0x161bc8=_0x4fe811;_0x281b00[_0x161bc8(0x67e)][_0x161bc8(0x3e9)](_0x161bc8(0xcfe)),_0x281b00['style'][_0x161bc8(0xfe)]=_0x161bc8(0x650);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x2ce446){const _0x1b2165=_0x361958,_0x2b7f68=document[_0x1b2165(0x403)](_0x1b2165(0x605)),_0x2b2897=document[_0x1b2165(0x403)](_0x1b2165(0x846));_0x2b2897['innerHTML']=_0x1b2165(0x3d4),_0x2b7f68[_0x1b2165(0x67e)][_0x1b2165(0x3e9)](_0x1b2165(0x17c));try{const _0x864ea3=doc(db,'artifacts/'+appId+_0x1b2165(0x34c),_0x2ce446),_0x3f5ba8=await getDoc(_0x864ea3);if(!_0x3f5ba8[_0x1b2165(0x6f9)]())throw new Error(_0x1b2165(0x334));currentEditingQuizData={'id':_0x2ce446,..._0x3f5ba8['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x1f7432){console[_0x1b2165(0x51e)](_0x1b2165(0xa08),_0x1f7432),showMessage(_0x1b2165(0x9ea)),_0x2b7f68[_0x1b2165(0x67e)]['add'](_0x1b2165(0x17c));}}function renderQuizEditor(_0x518e11){const _0x2adf31=_0x361958;document['getElementById'](_0x2adf31(0x273))[_0x2adf31(0x491)]=_0x518e11['topic'];const _0x1888cb=document[_0x2adf31(0x403)](_0x2adf31(0x846));let _0x4a84ec=_0x518e11[_0x2adf31(0x707)][_0x2adf31(0x961)]((_0x3570f7,_0x389d7b)=>{const _0x40d13e=_0x2adf31;let _0x467d8c='';const _0x19648e=_0x3570f7['questionType']||_0x518e11[_0x40d13e(0x94d)];switch(_0x19648e){case _0x40d13e(0x736):const _0x399e1e=(_0x3570f7[_0x40d13e(0x6a5)]||[])[_0x40d13e(0x961)]((_0x39874d,_0x3895f6)=>_0x40d13e(0x83f)+_0x389d7b+_0x40d13e(0x81f)+_0x3895f6+'\x22\x20'+(_0x3895f6===_0x3570f7['correctAnswerIndex']?_0x40d13e(0x98b):'')+_0x40d13e(0x972)+_0x39874d+_0x40d13e(0x2f1))[_0x40d13e(0xbcc)]('');_0x467d8c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x399e1e+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x40d13e(0x385):_0x467d8c=_0x40d13e(0x244)+(_0x3570f7[_0x40d13e(0x94b)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'true_false':_0x467d8c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x389d7b+_0x40d13e(0x2f4)+(_0x3570f7[_0x40d13e(0xc73)]===!![]?_0x40d13e(0x98b):'')+_0x40d13e(0xcb9)+_0x389d7b+_0x40d13e(0x26e)+(_0x3570f7[_0x40d13e(0xc73)]===![]?_0x40d13e(0x98b):'')+_0x40d13e(0xa37);break;case _0x40d13e(0x886):_0x467d8c=_0x40d13e(0x9b0)+(_0x3570f7[_0x40d13e(0x8c7)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}let _0x4a76bc=_0x3570f7[_0x40d13e(0xf5)]||_0x3570f7[_0x40d13e(0xb42)]||'';return _0x4a76bc=_0x4a76bc['replace'](/<br\s*\/?>/gi,'\x0a'),_0x40d13e(0x5e3)+_0x389d7b+'\x22\x20data-q-type=\x22'+_0x19648e+_0x40d13e(0x76a)+(_0x389d7b+0x1)+'\x20('+_0x19648e+_0x40d13e(0x279)+_0x4a76bc+_0x40d13e(0x9a7)+_0x467d8c+_0x40d13e(0x243);})[_0x2adf31(0xbcc)]('');_0x1888cb[_0x2adf31(0x86f)]=_0x4a84ec;const _0x3f8597=_0x2adf31(0xadd);_0x1888cb[_0x2adf31(0x71d)](_0x2adf31(0xc9b),_0x3f8597),_0x1888cb[_0x2adf31(0x2c6)](_0x2adf31(0x3a3))[_0x2adf31(0x384)](_0x38ed48=>{const _0x515bca=_0x2adf31;_0x38ed48['style'][_0x515bca(0xb2a)]=_0x515bca(0x17c),_0x38ed48[_0x515bca(0x77b)][_0x515bca(0x483)]=_0x515bca(0x110),_0x38ed48[_0x515bca(0x3b4)]=0x4;const _0x578593=()=>{const _0x5dba27=_0x515bca;_0x38ed48['style']['height']=_0x5dba27(0x553),_0x38ed48[_0x5dba27(0x77b)]['height']=_0x38ed48[_0x5dba27(0x9cb)]+'px';};_0x38ed48[_0x515bca(0x224)](_0x515bca(0x68c),_0x578593),_0x578593();}),_0x1888cb[_0x2adf31(0x2c6)](_0x2adf31(0x495))[_0x2adf31(0x384)](_0x4fc9d2=>{const _0x43fffa=_0x2adf31;_0x4fc9d2['addEventListener'](_0x43fffa(0x920),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x2256c6){const _0x350aff=_0x361958;if(!currentEditingQuizData||!currentEditingQuizData[_0x350aff(0x707)][_0x2256c6])return;const _0x19e4cd=currentEditingQuizData[_0x350aff(0x707)][_0x2256c6]['questionText']||currentEditingQuizData[_0x350aff(0x707)][_0x2256c6]['stem'];showConfirmation(_0x350aff(0x15c)+(_0x2256c6+0x1)+_0x350aff(0x49e)+_0x19e4cd[_0x350aff(0x4e7)](0x0,0x14)+_0x350aff(0xa78),()=>{const _0x39af34=_0x350aff;currentEditingQuizData[_0x39af34(0x707)][_0x39af34(0x6bc)](_0x2256c6,0x1),renderQuizEditor(currentEditingQuizData),showMessage('ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)');});}function handleAddQuestionInEditor(){const _0x2073ed=_0x361958;if(!currentEditingQuizData)return;const _0xd8d06a={'id':'q_'+Date[_0x2073ed(0x166)]()+'_new','questionType':_0x2073ed(0x736),'questionText':_0x2073ed(0x567),'options':[_0x2073ed(0xb45),_0x2073ed(0xccf),_0x2073ed(0xb05),_0x2073ed(0x1ce)],'correctAnswerIndex':0x0,'explanation':_0x2073ed(0x764)};currentEditingQuizData['questions'][_0x2073ed(0x798)](_0xd8d06a),renderQuizEditor(currentEditingQuizData);const _0x35f0a1=document[_0x2073ed(0x314)]('.question-editor-item:last-of-type');_0x35f0a1&&(_0x35f0a1['scrollIntoView']({'behavior':_0x2073ed(0xa9d),'block':_0x2073ed(0x8fb)}),_0x35f0a1['querySelector'](_0x2073ed(0x342))[_0x2073ed(0x447)]());}async function handleAiFixQuestion(_0x1a483a){const _0x461d74=_0x361958,_0x20dfab=_0x1a483a[_0x461d74(0x1fb)],_0x50521e=_0x20dfab[_0x461d74(0x1af)](_0x461d74(0x692));if(!_0x50521e)return;const _0x5e815b=parseInt(_0x50521e[_0x461d74(0x8c4)][_0x461d74(0xcc6)],0xa);if(isNaN(_0x5e815b)||!currentEditingQuizData[_0x461d74(0x707)][_0x5e815b]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x4a826c=currentEditingQuizData[_0x461d74(0x707)][_0x5e815b];_0x20dfab[_0x461d74(0x86f)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x20dfab[_0x461d74(0x79a)]=!![];const _0x3028d7=_0x461d74(0x8dd)+JSON['stringify'](_0x4a826c)+_0x461d74(0x102);let _0x270aca;const _0x469724=_0x4a826c['questionType']||currentEditingQuizData['quizType'];switch(_0x469724){case _0x461d74(0x385):_0x270aca={'type':_0x461d74(0xbb5),'properties':{'questionText':{'type':_0x461d74(0xef)},'idealAnswer':{'type':_0x461d74(0xef)},'explanation':{'type':_0x461d74(0xef)},'imageCode':{'type':_0x461d74(0xef)}},'required':['questionText','idealAnswer',_0x461d74(0x923)]};break;case'multiple_choice':default:_0x270aca={'type':_0x461d74(0xbb5),'properties':{'questionText':{'type':_0x461d74(0xef)},'options':{'type':_0x461d74(0xb41),'items':{'type':_0x461d74(0xef)}},'correctAnswerIndex':{'type':_0x461d74(0x6b8)},'explanation':{'type':_0x461d74(0xef)},'imageCode':{'type':'STRING'}},'required':[_0x461d74(0xf5),_0x461d74(0x6a5),_0x461d74(0x47b),_0x461d74(0x923)]};break;}try{let _0x5d2bbb=await callAnalysisApi(_0x3028d7,_0x270aca);_0x5d2bbb[_0x461d74(0x6a5)]&&Array[_0x461d74(0x363)](_0x5d2bbb[_0x461d74(0x6a5)])&&(_0x5d2bbb[_0x461d74(0x6a5)]=_0x5d2bbb[_0x461d74(0x6a5)][_0x461d74(0x961)](_0x46dd38=>typeof _0x46dd38===_0x461d74(0x89d)?_0x46dd38[_0x461d74(0x46f)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x46dd38)),_0x4a826c['imageCode']&&_0x4a826c[_0x461d74(0x1ef)][_0x461d74(0x801)](_0x461d74(0x2da))&&(_0x5d2bbb[_0x461d74(0x1ef)]=''),currentEditingQuizData['questions'][_0x5e815b]={..._0x4a826c,..._0x5d2bbb},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x1ca1bb){console[_0x461d74(0x51e)]('AI\x20Fix\x20Error:',_0x1ca1bb),showMessage(_0x461d74(0xb69)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x13f771=_0x361958,_0x253dcb=document['getElementById'](_0x13f771(0x5a0));_0x253dcb[_0x13f771(0x79a)]=!![],_0x253dcb['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x47908e=document['getElementById']('editor-quiz-topic')[_0x13f771(0x491)],_0x4a3d3b=document[_0x13f771(0x2c6)](_0x13f771(0x692));let _0x245155=[];const _0x258401=Array[_0x13f771(0x70c)](_0x4a3d3b)[_0x13f771(0x961)]((_0x8f2c2d,_0x19639f)=>{const _0x3f4de9=_0x13f771,_0x1bd356=_0x8f2c2d['dataset'][_0x3f4de9(0xee)],_0x4c4ea5=_0x8f2c2d[_0x3f4de9(0x314)]('textarea')[_0x3f4de9(0x491)][_0x3f4de9(0x46f)](/\n/g,'<br>');let _0x1045bb={'questionType':_0x1bd356};const _0x16a2c6=currentEditingQuizData[_0x3f4de9(0x707)][_0x19639f];switch(_0x1bd356){case'multiple_choice':_0x1045bb[_0x3f4de9(0xf5)]=_0x4c4ea5;const _0x5883a9=_0x8f2c2d[_0x3f4de9(0x2c6)]('input[type=\x22text\x22]');_0x1045bb[_0x3f4de9(0x6a5)]=Array[_0x3f4de9(0x70c)](_0x5883a9)[_0x3f4de9(0x961)](_0x30150d=>_0x30150d[_0x3f4de9(0x491)]);const _0x395bb8=_0x8f2c2d['querySelector'](_0x3f4de9(0x53b));_0x1045bb['correctAnswerIndex']=_0x395bb8?parseInt(_0x395bb8[_0x3f4de9(0x491)]):0x0;break;case _0x3f4de9(0x385):_0x1045bb[_0x3f4de9(0xf5)]=_0x4c4ea5,_0x1045bb[_0x3f4de9(0x94b)]=_0x8f2c2d['querySelector'](_0x3f4de9(0x2e1))['value'];break;case _0x3f4de9(0x891):_0x1045bb[_0x3f4de9(0xf5)]=_0x4c4ea5;const _0x2c8a62=_0x8f2c2d[_0x3f4de9(0x314)](_0x3f4de9(0x53b));_0x1045bb[_0x3f4de9(0xc73)]=_0x2c8a62?_0x2c8a62[_0x3f4de9(0x491)]===_0x3f4de9(0x4db):!![];break;case _0x3f4de9(0x886):_0x1045bb[_0x3f4de9(0xb42)]=_0x4c4ea5;const _0xb24ece=_0x8f2c2d[_0x3f4de9(0x314)](_0x3f4de9(0x227));_0x1045bb[_0x3f4de9(0x8c7)]=_0xb24ece?_0xb24ece[_0x3f4de9(0x491)]:'',_0x245155['push'](_0x1045bb['correctResponse']);break;default:_0x1045bb[_0x3f4de9(0xf5)]=_0x4c4ea5;break;}return{..._0x16a2c6,..._0x1045bb};});_0x245155[_0x13f771(0x6b7)]>0x0&&_0x258401[_0x13f771(0x384)](_0xa2d30=>{const _0x40fc65=_0x13f771;_0xa2d30[_0x40fc65(0x30c)]===_0x40fc65(0x886)&&(_0xa2d30[_0x40fc65(0xaa2)]=_0x245155);});const _0x5f4781=currentEditingQuizData['id'],_0x167a06=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5f4781);await updateDoc(_0x167a06,{'topic':_0x47908e,'questions':_0x258401}),document['getElementById'](_0x13f771(0x605))[_0x13f771(0x67e)][_0x13f771(0x7be)]('hidden'),showMessage(_0x13f771(0xb2e),()=>initiateReGradeProcess(_0x5f4781));}catch(_0x16dcd2){console[_0x13f771(0x51e)](_0x13f771(0x22d),_0x16dcd2),showMessage(_0x13f771(0xb3e));}finally{_0x253dcb[_0x13f771(0x79a)]=![],_0x253dcb['innerHTML']=_0x13f771(0xabf);}}async function initiateReGradeProcess(_0x4363d1){const _0x571672=_0x361958;showMessage(_0x571672(0x2fb));try{const _0x316720=doc(db,_0x571672(0x418)+appId+_0x571672(0x34c),_0x4363d1),_0x252312=await getDoc(_0x316720);if(!_0x252312[_0x571672(0x6f9)]())throw new Error(_0x571672(0x82c));const _0x1dce90={'id':_0x4363d1,..._0x252312[_0x571672(0xaff)]()},_0x563b47=collection(db,_0x571672(0x418)+appId+_0x571672(0x34c),_0x4363d1,_0x571672(0x308)),_0x240137=await getDocs(_0x563b47);if(_0x240137[_0x571672(0x459)]){showMessage(_0x571672(0x962));return;}const _0x31d987=_0x240137['docs'][_0x571672(0x961)](_0x34f3f9=>reGradeSingleSubmission(_0x34f3f9,_0x1dce90));await Promise[_0x571672(0x32d)](_0x31d987);if(_0x1dce90[_0x571672(0x4b4)]){const _0x303e50=doc(db,'artifacts/'+appId+'/public/data/projects',_0x1dce90[_0x571672(0x4b4)]),_0x53c5ca=await getDoc(_0x303e50);if(_0x53c5ca[_0x571672(0x6f9)]()&&_0x53c5ca['data']()[_0x571672(0x282)]){const _0x2bfd9=_0x53c5ca['data']()['students']['map'](_0x4ea575=>updateStudentProfile(_0x1dce90['projectId'],_0x4ea575));await Promise[_0x571672(0x32d)](_0x2bfd9);}}showMessage(_0x571672(0x6f2)+_0x240137['size']+_0x571672(0x35c));}catch(_0x59e452){console[_0x571672(0x51e)]('Re-grade\x20process\x20failed:',_0x59e452),showMessage(_0x571672(0x604)+_0x59e452[_0x571672(0x931)]);}}async function reGradeSingleSubmission(_0x36cc8f,_0x393991){const _0x310886=_0x361958,_0x4d91a8=_0x36cc8f['data'](),_0x5061f4=_0x4d91a8['studentName'],_0x3aa1e6=_0x4d91a8[_0x310886(0x723)]||[],_0x548245=[];for(const _0xc323cc of _0x3aa1e6){let _0x3a2746=0x0,_0x45f922=[],_0x4f9a98=0x0;const _0x21bb6c=[];for(const _0x506942 of _0xc323cc[_0x310886(0x379)]){let _0x294beb;_0x506942[_0x310886(0x40e)]&&(_0x294beb=_0x393991['questions']['find'](_0x29fe93=>_0x29fe93['id']===_0x506942[_0x310886(0x40e)]));!_0x294beb&&_0x506942['originalQuestionText']&&(_0x294beb=_0x393991['questions'][_0x310886(0x9f6)](_0x556542=>(_0x556542[_0x310886(0xb42)]||_0x556542[_0x310886(0xf5)])===_0x506942[_0x310886(0xc0d)]));let _0x539673=![];if(_0x294beb){const _0x513d59=_0x294beb[_0x310886(0x30c)]||_0x393991[_0x310886(0x94d)];switch(_0x513d59){case _0x310886(0x736):if(_0x294beb[_0x310886(0x6a5)]&&_0x294beb[_0x310886(0x47b)]<_0x294beb[_0x310886(0x6a5)][_0x310886(0x6b7)]){const _0x48ffc6=_0x294beb[_0x310886(0x6a5)][_0x294beb[_0x310886(0x47b)]];_0x539673=_0x506942[_0x310886(0x69a)]===_0x48ffc6;}break;case _0x310886(0x891):const _0x382e25=_0x506942['answer']===!![]||_0x506942['answer']===_0x310886(0x4db);_0x539673=_0x382e25===_0x294beb[_0x310886(0xc73)];break;case _0x310886(0x886):_0x539673=_0x506942[_0x310886(0x7b2)]===_0x294beb['correctResponse'];break;case _0x310886(0x385):_0x539673=await gradeShortAnswer(_0x506942[_0x310886(0x7b2)],_0x294beb);break;default:_0x539673=_0x506942[_0x310886(0x4dd)];break;}}if(_0x539673){_0x3a2746++,_0x4f9a98++;if(_0x4f9a98===0x3)_0x45f922[_0x310886(0x798)](BADGES[_0x310886(0x1dc)]['id']);}else _0x4f9a98=0x0;_0x21bb6c[_0x310886(0x798)]({..._0x506942,'isCorrect':_0x539673});}let _0x3307ab=_0x3a2746*0xa;_0x3a2746===_0x393991['questions']['length']&&(_0x3307ab+=0x32,_0x45f922[_0x310886(0x798)](BADGES[_0x310886(0x66d)]['id'])),_0x548245['push']({..._0xc323cc,'score':_0x3a2746,'points':_0x3307ab,'badges':Array['from'](new Set(_0x45f922)),'answers':_0x21bb6c});}const _0x44eeb2=_0x548245[_0x310886(0x6b7)]>0x0?_0x548245[0x0]['score']:0x0,_0x1638c9=Math['max'](..._0x548245[_0x310886(0x961)](_0x54f6b1=>_0x54f6b1[_0x310886(0xa6e)])),_0x1cd003=_0x548245['length']>0x0?_0x548245[_0x548245['length']-0x1][_0x310886(0xa6e)]:0x0,_0xdfaf56=_0x548245[_0x310886(0x6b7)]>0x0?_0x548245[_0x548245['length']-0x1][_0x310886(0x479)]:0x0,_0x4c5148=doc(db,'artifacts/'+appId+_0x310886(0xa18)+_0x393991['id']+'/submissions',_0x5061f4);await updateDoc(_0x4c5148,{'attempts':_0x548245,'firstScore':_0x44eeb2,'bestScore':_0x1638c9,'latestScore':_0x1cd003,'points':_0xdfaf56});}function cleanupQuizOptions(_0x13667b){const _0x4145fc=_0x361958,_0xd5e328=(_0x1dded8,_0x1e5b40)=>_0x1e5b40===0x0?_0x1dded8:_0xd5e328(_0x1e5b40,_0x1dded8%_0x1e5b40),_0x44d66e=_0x304773=>{const _0x475e1e=_0x3ec8;if(typeof _0x304773!=='string')return null;_0x304773=_0x304773[_0x475e1e(0x783)]();const _0x19232f=_0x304773[_0x475e1e(0xc4b)](/[ /]/)['filter'](_0x4ae70f=>_0x4ae70f!=='');if(_0x19232f[_0x475e1e(0x6b7)]===0x3)return parseInt(_0x19232f[0x0])+parseInt(_0x19232f[0x1])/parseInt(_0x19232f[0x2]);else{if(_0x19232f[_0x475e1e(0x6b7)]===0x2)return parseInt(_0x19232f[0x0])/parseInt(_0x19232f[0x1]);else{if(_0x19232f[_0x475e1e(0x6b7)]===0x1&&!isNaN(_0x19232f[0x0]))return parseFloat(_0x19232f[0x0]);}}return null;},_0x25302d=_0x2486d2=>{const _0x55c7fd=_0x3ec8;if(typeof _0x2486d2!==_0x55c7fd(0x89d))return _0x2486d2;const _0x782554=_0x2486d2['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x782554){const _0x474dd1=parseInt(_0x782554[0x1]);let _0x1d76de=parseInt(_0x782554[0x2]),_0x120ef9=parseInt(_0x782554[0x3]);const _0x1c178f=_0xd5e328(_0x1d76de,_0x120ef9);_0x1d76de/=_0x1c178f,_0x120ef9/=_0x1c178f;if(_0x120ef9===0x1)return(_0x474dd1+_0x1d76de)[_0x55c7fd(0x292)]();return _0x474dd1+'\x20'+_0x1d76de+'/'+_0x120ef9;}return _0x2486d2;};return _0x13667b&&_0x13667b[_0x4145fc(0x707)]&&_0x13667b[_0x4145fc(0x707)][_0x4145fc(0x384)](_0x15fa01=>{const _0x36771f=_0x4145fc;if(_0x15fa01[_0x36771f(0x30c)]===_0x36771f(0x736)&&_0x15fa01[_0x36771f(0x6a5)]){const _0x1e0db7=new Map(),_0x48bcca=_0x15fa01[_0x36771f(0x6a5)][_0x15fa01[_0x36771f(0x47b)]];_0x15fa01[_0x36771f(0x6a5)]['forEach'](_0x4fc6ca=>{const _0x76cb82=_0x36771f,_0x5062dd=_0x25302d(_0x4fc6ca),_0x3278aa=_0x44d66e(_0x5062dd);_0x3278aa!==null&&!_0x1e0db7[_0x76cb82(0x8ba)](_0x3278aa)&&_0x1e0db7[_0x76cb82(0x3a8)](_0x3278aa,_0x5062dd);}),_0x15fa01[_0x36771f(0x6a5)]=Array[_0x36771f(0x70c)](_0x1e0db7[_0x36771f(0x9bd)]());const _0x30c34c=_0x15fa01[_0x36771f(0x6a5)]['findIndex'](_0x2ad6af=>_0x2ad6af===_0x25302d(_0x48bcca));_0x15fa01['correctAnswerIndex']=_0x30c34c!==-0x1?_0x30c34c:0x0;}}),_0x13667b;}function showGameStartConfirmationModal(_0x4f4111,_0x3ded6a,_0x49d230){const _0x5b1a8f=_0x361958,_0x319c2=document['getElementById'](_0x5b1a8f(0x3ff));document['getElementById'](_0x5b1a8f(0x7b6))['textContent']=_0x5b1a8f(0x63a)+_0x49d230,document[_0x5b1a8f(0x403)]('game-start-quiz-id')[_0x5b1a8f(0x491)]=_0x4f4111,document['getElementById'](_0x5b1a8f(0x758))[_0x5b1a8f(0x491)]=_0x3ded6a,document[_0x5b1a8f(0x403)](_0x5b1a8f(0x6d9))[_0x5b1a8f(0x98b)]=!![];const _0x4cd040=document[_0x5b1a8f(0x403)](_0x5b1a8f(0x82e)),_0x2b9862=document[_0x5b1a8f(0x403)](_0x5b1a8f(0x4a4)),_0x1ad420=document[_0x5b1a8f(0x403)]('sync-timer-duration-container');_0x3ded6a==='sync'?(_0x4cd040[_0x5b1a8f(0x67e)][_0x5b1a8f(0x3e9)](_0x5b1a8f(0x17c)),document['querySelector'](_0x5b1a8f(0x62e))[_0x5b1a8f(0x98b)]=!![],_0x2b9862['checked']=!![],_0x1ad420[_0x5b1a8f(0x67e)]['remove'](_0x5b1a8f(0x17c)),document[_0x5b1a8f(0x403)](_0x5b1a8f(0x56f))[_0x5b1a8f(0x491)]='240'):(_0x4cd040[_0x5b1a8f(0x67e)][_0x5b1a8f(0x7be)](_0x5b1a8f(0x17c)),_0x2b9862[_0x5b1a8f(0x98b)]=![],_0x1ad420[_0x5b1a8f(0x67e)][_0x5b1a8f(0x7be)]('hidden')),_0x319c2[_0x5b1a8f(0x67e)][_0x5b1a8f(0x3e9)](_0x5b1a8f(0x17c));}async function saveGameResultsAsSubmissions(_0x46830b){const _0x4ba219=_0x361958;console[_0x4ba219(0xb07)](_0x4ba219(0x1e7),_0x46830b);const _0x224ae9=_0x46830b[_0x4ba219(0x705)];let _0x3d44f2=[];if(_0x46830b['players'])_0x3d44f2=Object['entries'](_0x46830b[_0x4ba219(0x414)])[_0x4ba219(0x961)](([_0x29a6f6,_0x4c23f6])=>({'name':_0x29a6f6,..._0x4c23f6}));else{if(_0x46830b[_0x4ba219(0xcd2)])Object[_0x4ba219(0x9bd)](_0x46830b[_0x4ba219(0xcd2)])[_0x4ba219(0x384)](_0x4eb108=>{const _0xa2afd2=_0x4ba219;_0x4eb108[_0xa2afd2(0x554)][_0xa2afd2(0x384)](_0x2534e4=>{const _0xdc0c2f=_0xa2afd2;_0x3d44f2[_0xdc0c2f(0x798)]({'name':_0x2534e4,'score':_0x4eb108['score'],'answers':_0x4eb108[_0xdc0c2f(0x379)]});});});else _0x46830b[_0x4ba219(0x9ca)]&&Object[_0x4ba219(0x68a)](_0x46830b['responses'])['forEach'](([_0x45d36f,_0x458b64])=>{const _0x362f86=_0x4ba219;_0x3d44f2[_0x362f86(0x798)]({'name':_0x45d36f,..._0x458b64});});}if(_0x3d44f2[_0x4ba219(0x6b7)]===0x0){console[_0x4ba219(0xb07)](_0x4ba219(0xad2));return;}const _0x4686b5=_0x46830b['shuffledQuiz']?.[_0x4ba219(0x707)][_0x4ba219(0x6b7)]||currentQuizData[_0x4ba219(0x707)]['length'],_0x54288e=writeBatch(db);for(const _0x3ed86d of _0x3d44f2){const _0x508901=doc(db,'artifacts/'+appId+_0x4ba219(0xa18)+_0x224ae9+_0x4ba219(0x7dc),_0x3ed86d[_0x4ba219(0x2ea)]),_0x443f0d=(_0x3ed86d[_0x4ba219(0x379)]||[])[_0x4ba219(0x9df)](_0xc68b4e=>_0xc68b4e[_0x4ba219(0x4dd)])['length'];let _0x3d76ee=_0x443f0d;_0x46830b[_0x4ba219(0x131)]&&_0x3ed86d[_0x4ba219(0x379)]&&_0x3ed86d[_0x4ba219(0x379)]['forEach'](_0x30258f=>{const _0x174dcb=_0x4ba219;if(_0x30258f[_0x174dcb(0x4dd)]&&(_0x30258f[_0x174dcb(0x481)]===!![]||_0x30258f['wasConfident']===_0x174dcb(0x28a)))_0x3d76ee+=0x1;else!_0x30258f[_0x174dcb(0x4dd)]&&(_0x30258f[_0x174dcb(0x481)]===!![]||_0x30258f[_0x174dcb(0x481)]===_0x174dcb(0x28a))&&(_0x3d76ee-=0x1);});_0x4686b5>0x0&&_0x443f0d===_0x4686b5&&(_0x3d76ee+=0x1);const _0x1f3459={'score':_0x443f0d,'points':_0x3d76ee,'badges':_0x3ed86d[_0x4ba219(0x3b7)]||[],'submittedAt':new Date()[_0x4ba219(0x31c)](),'answers':(_0x3ed86d['answers']||[])['map'](_0x4e71fd=>({'questionId':_0x4e71fd[_0x4ba219(0x40e)],'answer':_0x4e71fd[_0x4ba219(0x7b2)],'answerText':_0x4e71fd[_0x4ba219(0x69a)],'isCorrect':_0x4e71fd[_0x4ba219(0x4dd)],'originalQuestionText':_0x4e71fd[_0x4ba219(0xc0d)],'wasConfident':_0x4e71fd[_0x4ba219(0x481)]}))},_0x3bf3e7=await getDoc(_0x508901),_0x8cf0b5=_0x3bf3e7[_0x4ba219(0x6f9)]()?_0x3bf3e7[_0x4ba219(0xaff)]():{},_0x1994cf=_0x8cf0b5['bestScore']||0x0,_0x359b91=_0x8cf0b5[_0x4ba219(0x723)]||[],_0x194579={'studentName':_0x3ed86d[_0x4ba219(0x2ea)],'totalQuestions':_0x4686b5,'attempts':arrayUnion(_0x1f3459),'latestScore':_0x443f0d,'points':_0x3d76ee,'latestSubmittedAt':_0x1f3459[_0x4ba219(0x534)],'bestScore':Math[_0x4ba219(0x773)](_0x1994cf,_0x443f0d),'firstScore':_0x359b91[_0x4ba219(0x6b7)]===0x0?_0x443f0d:_0x8cf0b5[_0x4ba219(0x4cc)]||0x0};_0x54288e[_0x4ba219(0x3a8)](_0x508901,_0x194579,{'merge':!![]});}try{await _0x54288e['commit'](),showMessage(_0x4ba219(0x8cc)+_0x3d44f2[_0x4ba219(0x6b7)]+_0x4ba219(0x594));const _0x1cde10=_0x46830b[_0x4ba219(0x8f6)]?.[_0x4ba219(0x4b4)]||currentQuizData?.['projectId']||currentProjectId;if(_0x1cde10){const _0x38f608=[...new Set(_0x3d44f2[_0x4ba219(0x961)](_0x5c822d=>_0x5c822d[_0x4ba219(0x2ea)]))];for(const _0x215e05 of _0x38f608){await updateStudentProfile(_0x1cde10,_0x215e05);}}}catch(_0x2b0847){console['error'](_0x4ba219(0xacf),_0x2b0847),showMessage(_0x4ba219(0x421));}}async function saveQuiz(_0x4aed94=null,_0x99b44f=null){const _0x97cf52=_0x361958,_0x547c4a=_0x4aed94||currentProjectId;if(!_0x547c4a){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x97cf52(0x344));return;}const _0x90324e=document['getElementById'](_0x97cf52(0xa0e));_0x90324e['disabled']=!![],_0x90324e[_0x97cf52(0x86f)]=_0x97cf52(0x72b);const _0x6f274f=document[_0x97cf52(0x403)](_0x97cf52(0xac4))[_0x97cf52(0x98b)];let _0x21fc43=document['getElementById'](_0x97cf52(0x80a))[_0x97cf52(0x924)][_0x97cf52(0x783)]();_0x6f274f&&!_0x21fc43[_0x97cf52(0x48b)]('(ก่อนเรียน)')&&(_0x21fc43=_0x97cf52(0x2d9)+_0x21fc43);try{const _0xda4c9={'resultsDisplay':document[_0x97cf52(0x403)](_0x97cf52(0x739))['value'],'shuffle':document[_0x97cf52(0x403)]('shuffle-setting-select')[_0x97cf52(0x491)],'timerMode':document['getElementById'](_0x97cf52(0x325))[_0x97cf52(0x491)],'timerDuration':parseInt(document['getElementById'](_0x97cf52(0xb38))[_0x97cf52(0x491)])||0xa,'passingScore':parseInt(document[_0x97cf52(0x403)](_0x97cf52(0x5fd))[_0x97cf52(0x491)])||0x0,'isAdaptive':document[_0x97cf52(0x403)](_0x97cf52(0x4f5))[_0x97cf52(0x98b)],'loopUntilPass':document[_0x97cf52(0x403)](_0x97cf52(0xa97))['checked']},_0x5844f9=(currentQuizData['questions']||[])[_0x97cf52(0x961)]((_0x15be60,_0x2898da)=>{const _0x48b742=_0x97cf52,_0x14b1cb=document['getElementById']('quiz-type-select')[_0x48b742(0x491)],_0x39cd20={'id':'q_'+Date[_0x48b742(0x166)]()+'_'+_0x2898da,'questionText':_0x15be60[_0x48b742(0xf5)]||'','explanation':_0x15be60['explanation']||_0x48b742(0xa5a),'questionType':_0x15be60['questionType']||_0x14b1cb,'imageCode':_0x15be60[_0x48b742(0x1ef)]||null};return(_0x39cd20[_0x48b742(0x30c)]==='multiple_choice'||_0x39cd20[_0x48b742(0x30c)]===_0x48b742(0xbb8)||_0x39cd20[_0x48b742(0x30c)]===_0x48b742(0xa3d)&&_0x15be60[_0x48b742(0x6a5)])&&(_0x39cd20[_0x48b742(0x6a5)]=_0x15be60[_0x48b742(0x6a5)]||[],_0x39cd20[_0x48b742(0x47b)]=_0x15be60['correctAnswerIndex']!==undefined?_0x15be60[_0x48b742(0x47b)]:0x0),(_0x39cd20[_0x48b742(0x30c)]==='short_answer'||_0x39cd20[_0x48b742(0x30c)]==='fill_in_no_choices'||_0x39cd20['questionType']===_0x48b742(0xa3d)&&_0x15be60['idealAnswer'])&&(_0x39cd20['idealAnswer']=_0x15be60[_0x48b742(0x94b)]||''),_0x39cd20[_0x48b742(0x30c)]===_0x48b742(0x891)&&(_0x39cd20['correctAnswer']=_0x15be60[_0x48b742(0xc73)]===!![]),_0x39cd20[_0x48b742(0x30c)]===_0x48b742(0x886)&&(_0x39cd20[_0x48b742(0xb42)]=_0x15be60[_0x48b742(0xb42)]||'',_0x39cd20[_0x48b742(0x8c7)]=_0x15be60[_0x48b742(0x8c7)]||'',_0x39cd20[_0x48b742(0xaa2)]=_0x15be60[_0x48b742(0xaa2)]||[]),_0x39cd20;}),_0x4c4a08={'topic':_0x21fc43,'quizType':currentQuizData[_0x97cf52(0x94d)]||_0x97cf52(0x736),'questions':_0x5844f9,'projectId':_0x547c4a,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x97cf52(0x70f),'settings':_0xda4c9,'quizMode':_0x6f274f?_0x97cf52(0x6dd):_0x97cf52(0x1a9),'pairedQuizId':null,'lessonPlan':null};let _0x1b6673;while(!![]){_0x1b6673=Math[_0x97cf52(0x15f)](0x3e8+Math[_0x97cf52(0x427)]()*0x2328)[_0x97cf52(0x292)]();const _0x5e4089=await getDoc(doc(db,'artifacts/'+appId+_0x97cf52(0x34c),_0x1b6673));if(!_0x5e4089[_0x97cf52(0x6f9)]())break;}await setDoc(doc(db,_0x97cf52(0x418)+appId+'/public/data/quizzes',_0x1b6673),_0x4c4a08);if(_0x99b44f&&currentBlueprintProjectId){console[_0x97cf52(0xb07)](_0x97cf52(0x1a4)+_0x1b6673+_0x97cf52(0x9e4)+_0x99b44f);try{const _0x253eda=doc(db,_0x97cf52(0x418)+appId+_0x97cf52(0xc0f),currentBlueprintProjectId);await updateDoc(_0x253eda,{['topics.'+_0x99b44f+_0x97cf52(0x8c5)]:arrayUnion(_0x1b6673)});}catch(_0x543d0a){console[_0x97cf52(0x51e)](_0x97cf52(0x74c),_0x543d0a);}}currentQuizData['settings']=_0xda4c9,currentQuizData['id']=_0x1b6673;const _0x26fe40=document[_0x97cf52(0x403)](_0x97cf52(0x4f1));_0x26fe40[_0x97cf52(0x86f)]=_0x97cf52(0x914)+_0x1b6673+_0x97cf52(0x393),document['getElementById'](_0x97cf52(0x7d8))[_0x97cf52(0x224)](_0x97cf52(0x920),()=>copyTextToClipboard(_0x1b6673,_0x97cf52(0x689))),document['getElementById'](_0x97cf52(0x283))[_0x97cf52(0x224)](_0x97cf52(0x920),()=>handleStartLiveRace(_0x1b6673)),document['getElementById'](_0x97cf52(0x6ad))[_0x97cf52(0x224)](_0x97cf52(0x920),()=>startPresentation(currentQuizData)),document[_0x97cf52(0x403)](_0x97cf52(0x89a))[_0x97cf52(0x224)](_0x97cf52(0x920),startAdminTest),showMessage(_0x97cf52(0xb73));}catch(_0x28a15f){console[_0x97cf52(0x51e)](_0x97cf52(0x32f),_0x28a15f),showMessage(_0x97cf52(0x21f));}finally{_0x90324e[_0x97cf52(0x79a)]=![],_0x90324e['innerHTML']=_0x97cf52(0x7db);}}function promptForProjectAndSave(){const _0x5d54d0=_0x361958,_0x58a727=document[_0x5d54d0(0x403)](_0x5d54d0(0x84f)),_0x1e040b=document[_0x5d54d0(0x403)](_0x5d54d0(0x6ba)),_0x22c0d8=_0x58a727[_0x5d54d0(0x314)]('h3'),_0x10e796=document[_0x5d54d0(0x403)]('confirm-move-quiz-btn');_0x22c0d8['textContent']=_0x5d54d0(0x8c0),_0x10e796[_0x5d54d0(0x317)]=_0x5d54d0(0xc17);allProjects[_0x5d54d0(0x6b7)]===0x0?(_0x1e040b[_0x5d54d0(0x86f)]=_0x5d54d0(0x5f1),_0x10e796[_0x5d54d0(0x79a)]=!![]):(_0x1e040b[_0x5d54d0(0x86f)]=allProjects[_0x5d54d0(0x961)](_0x2b8a05=>_0x5d54d0(0x7f5)+_0x2b8a05['id']+'\x22>'+_0x2b8a05[_0x5d54d0(0x3d0)]+_0x5d54d0(0x53d))[_0x5d54d0(0xbcc)](''),_0x10e796[_0x5d54d0(0x79a)]=![]);_0x58a727['classList'][_0x5d54d0(0x3e9)](_0x5d54d0(0x17c));const _0x2371a8=()=>{const _0x54866c=_0x5d54d0,_0xf618ed=_0x1e040b['value'];_0xf618ed?(currentProjectId=_0xf618ed,_0x58a727[_0x54866c(0x67e)][_0x54866c(0x7be)](_0x54866c(0x17c)),saveQuiz(),_0x22c0d8['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x10e796['textContent']=_0x54866c(0x600),_0x10e796[_0x54866c(0xb35)](_0x54866c(0x920),_0x2371a8),_0x10e796[_0x54866c(0x224)](_0x54866c(0x920),confirmMoveQuiz)):showMessage(_0x54866c(0x120));};_0x10e796[_0x5d54d0(0xb35)](_0x5d54d0(0x920),confirmMoveQuiz),_0x10e796[_0x5d54d0(0x224)]('click',_0x2371a8);}function copyTextToClipboard(_0x38830c,_0x181127){const _0x9857e8=_0x361958,_0x2458a5=document[_0x9857e8(0xccc)]('textarea');_0x2458a5[_0x9857e8(0x491)]=_0x38830c,_0x2458a5[_0x9857e8(0x77b)][_0x9857e8(0xc55)]=_0x9857e8(0xb1d),_0x2458a5[_0x9857e8(0x77b)]['opacity']='0',document[_0x9857e8(0x266)]['appendChild'](_0x2458a5),_0x2458a5['focus'](),_0x2458a5[_0x9857e8(0x6e3)]();try{const _0x3c3801=document[_0x9857e8(0x52e)]('copy');showMessage(_0x3c3801?_0x181127:'คัดลอกไม่สำเร็จ');}catch(_0x453690){showMessage('คัดลอกไม่สำเร็จ'),console[_0x9857e8(0x51e)](_0x9857e8(0xaa6),_0x453690);}document['body']['removeChild'](_0x2458a5);}function listenForProjectQuizzes(_0x513018){const _0x31c251=_0x361958,_0x331002=collection(db,_0x31c251(0x418)+appId+_0x31c251(0x34c)),_0x2ba887=query(_0x331002,where(_0x31c251(0x4b4),'==',_0x513018));unsubscribeQuizzesListener=onSnapshot(_0x2ba887,async _0x3a9af5=>{const _0x5c3eee=_0x31c251;allQuizzes=_0x3a9af5[_0x5c3eee(0x5b2)][_0x5c3eee(0x961)](_0x3fa6a3=>({'id':_0x3fa6a3['id'],..._0x3fa6a3[_0x5c3eee(0xaff)]()})),renderQuizzes();},_0x63b04b=>{const _0x327033=_0x31c251;console['error'](_0x327033(0x41e),_0x63b04b),document['getElementById'](_0x327033(0x807))[_0x327033(0x86f)]=_0x327033(0x634);});}async function renderQuizzes(){const _0x294f32=_0x361958,_0x510490=document[_0x294f32(0x403)](_0x294f32(0x807)),_0x25f7d4=document[_0x294f32(0x403)]('quiz-search-input')[_0x294f32(0x491)][_0x294f32(0x985)]();let _0x406f1f;currentProjectId==='starred'?_0x406f1f=starredQuizzes:_0x406f1f=allQuizzes;let _0x4b004a=_0x406f1f['filter'](_0x12243c=>_0x12243c[_0x294f32(0x411)][_0x294f32(0x985)]()[_0x294f32(0x801)](_0x25f7d4));_0x4b004a['sort']((_0x4418a3,_0x20c3f9)=>new Date(_0x20c3f9[_0x294f32(0xe5)])-new Date(_0x4418a3[_0x294f32(0xe5)]));if(_0x4b004a['length']===0x0){_0x510490[_0x294f32(0x86f)]=_0x294f32(0x8a0);return;}const _0x410b81={},_0x2d759d=_0x4b004a[_0x294f32(0x961)](async _0x3c4c28=>{const _0x3a5524=_0x294f32,_0x262400=collection(db,_0x3a5524(0x418)+appId+_0x3a5524(0xa18)+_0x3c4c28['id']+'/submissions'),_0x25f2d9=await getDocs(_0x262400);_0x410b81[_0x3c4c28['id']]=_0x25f2d9[_0x3a5524(0x261)];});await Promise[_0x294f32(0x32d)](_0x2d759d);let _0x2e6790='';_0x4b004a[_0x294f32(0x384)](_0x115dbf=>{const _0x58c2fe=_0x294f32,_0x25aa73=_0x410b81[_0x115dbf['id']]||0x0,_0x556763=_0x115dbf[_0x58c2fe(0x6b5)]||'active',_0x225222=_0x115dbf[_0x58c2fe(0x3f9)]?.[_0x58c2fe(0xacc)]||'none';let _0x48ac74='',_0x242bc9='';const _0xadd337=new Date();let _0x122786=_0x556763;if(_0x556763===_0x58c2fe(0xb75)){const _0x2c02a2=_0x115dbf[_0x58c2fe(0x9e3)]?new Date(_0x115dbf['startTime']):null,_0x188c1b=_0x115dbf[_0x58c2fe(0x549)]?new Date(_0x115dbf[_0x58c2fe(0x549)]):null;if(_0x188c1b&&_0xadd337>_0x188c1b)_0x122786='inactive';else _0x2c02a2&&_0xadd337<_0x2c02a2?_0x122786=_0x58c2fe(0x253):_0x122786=_0x58c2fe(0x70f);}switch(_0x122786){case _0x58c2fe(0x203):_0x48ac74=_0x58c2fe(0xafc),_0x242bc9='text-red-700\x20bg-red-100';break;case _0x58c2fe(0x253):_0x48ac74=_0x58c2fe(0xcfd),_0x242bc9=_0x58c2fe(0x3ed);break;case'active':_0x48ac74=_0x225222!==_0x58c2fe(0x103)?_0x58c2fe(0xaa7):'เปิดใช้งาน',_0x242bc9=_0x58c2fe(0x921);break;default:_0x48ac74=_0x58c2fe(0x66c),_0x242bc9=_0x58c2fe(0x921);break;}let _0x1ad909='';const _0xf0d643={'day':_0x58c2fe(0x7f8),'month':_0x58c2fe(0x7f8),'year':_0x58c2fe(0x836),'hour':_0x58c2fe(0x7f8),'minute':_0x58c2fe(0x7f8),'hour12':![]};if(_0x556763===_0x58c2fe(0xb75)){if(_0x115dbf[_0x58c2fe(0x9e3)])_0x1ad909+=_0x58c2fe(0x58f)+new Date(_0x115dbf[_0x58c2fe(0x9e3)])['toLocaleString'](_0x58c2fe(0x1d9),_0xf0d643)+_0x58c2fe(0x86d);if(_0x115dbf['endTime'])_0x1ad909+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x115dbf[_0x58c2fe(0x549)])[_0x58c2fe(0x39e)](_0x58c2fe(0x1d9),_0xf0d643)+'</p>';}let _0x495ece='';if(_0x115dbf['pairedQuizId']){const _0x4c5f2e=allQuizzes[_0x58c2fe(0x9f6)](_0x1932ff=>_0x1932ff['id']===_0x115dbf['pairedQuizId']);if(_0x4c5f2e){let _0x53eb6c,_0x1376d8;new Date(_0x115dbf[_0x58c2fe(0xe5)])<new Date(_0x4c5f2e['createdAt'])?(_0x53eb6c=_0x115dbf['id'],_0x1376d8=_0x4c5f2e['id']):(_0x53eb6c=_0x4c5f2e['id'],_0x1376d8=_0x115dbf['id']),_0x495ece+=_0x58c2fe(0x297)+_0x1376d8+_0x58c2fe(0x90d)+_0x53eb6c+_0x58c2fe(0x6ce);}}else _0x115dbf[_0x58c2fe(0xb1c)]===_0x58c2fe(0x6dd)&&(_0x495ece+=_0x58c2fe(0xb25)+_0x115dbf['id']+_0x58c2fe(0xa38));if(_0x115dbf[_0x58c2fe(0xb1c)]===_0x58c2fe(0x6dd)&&_0x25aa73>0x0)_0x495ece+=_0x58c2fe(0xb25)+_0x115dbf['id']+_0x58c2fe(0x2de);else!_0x115dbf[_0x58c2fe(0x5c5)]&&_0x115dbf[_0x58c2fe(0xb1c)]!==_0x58c2fe(0x6dd)&&_0x25aa73>0x0&&(_0x495ece+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x115dbf['id']+_0x58c2fe(0x451));let _0x4046cd='';_0x115dbf['pairedQuizId']?_0x4046cd=_0x58c2fe(0x7ba)+_0x115dbf['id']+_0x58c2fe(0x748):_0x4046cd=_0x58c2fe(0x7ba)+_0x115dbf['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x2e6790+=_0x58c2fe(0x661)+_0x115dbf['id']+_0x58c2fe(0x76f)+_0x115dbf[_0x58c2fe(0x411)]+_0x58c2fe(0x9f4)+_0x115dbf['questions'][_0x58c2fe(0x6b7)]+_0x58c2fe(0x2d5)+new Date(_0x115dbf[_0x58c2fe(0xe5)])[_0x58c2fe(0x39e)](_0x58c2fe(0x1d9))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x25aa73+_0x58c2fe(0x4c4)+_0x1ad909+_0x58c2fe(0xc47)+_0x242bc9+'\x22>'+_0x48ac74+_0x58c2fe(0x907)+_0x115dbf['id']+_0x58c2fe(0x493)+_0x115dbf['id']+_0x58c2fe(0xbda)+(_0x115dbf[_0x58c2fe(0xc06)]?_0x58c2fe(0x33d):'far\x20fa-star')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x495ece+_0x58c2fe(0x779)+_0x115dbf['id']+_0x58c2fe(0x2ca)+_0x115dbf['id']+_0x58c2fe(0x2cf)+_0x115dbf['id']+_0x58c2fe(0x3e2)+_0x115dbf['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x115dbf['id']+_0x58c2fe(0xae4)+_0x115dbf['id']+_0x58c2fe(0x953)+_0x115dbf['id']+_0x58c2fe(0x9b9)+_0x115dbf['topic']+_0x58c2fe(0xaec)+_0x115dbf['id']+_0x58c2fe(0xd8)+_0x115dbf['id']+_0x58c2fe(0xae0)+_0x4046cd+_0x58c2fe(0x162)+_0x115dbf['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x115dbf['id']+_0x58c2fe(0x6c3)+_0x115dbf['id']+_0x58c2fe(0x9b3)+_0x115dbf['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x115dbf['id']+_0x58c2fe(0x1e2)+_0x115dbf['id']+_0x58c2fe(0x5b9)+_0x115dbf['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x115dbf['id']+'\x22\x20data-topic=\x22'+_0x115dbf[_0x58c2fe(0x411)]+_0x58c2fe(0x426)+_0x115dbf['id']+_0x58c2fe(0xb31);}),_0x510490['innerHTML']=_0x2e6790,document[_0x294f32(0x2c6)](_0x294f32(0xba4))[_0x294f32(0x384)](_0x1d9e08=>{const _0x273e92=_0x294f32;_0x1d9e08['addEventListener'](_0x273e92(0x920),()=>{const _0x977cc1=_0x273e92,_0x59df64=_0x1d9e08[_0x977cc1(0x8c4)][_0x977cc1(0x705)];showQuizDetailView(_0x59df64);});});}async function handleUnpairQuiz(_0x1c82c6){const _0x23c700=_0x361958,_0x3b5977=allQuizzes[_0x23c700(0x9f6)](_0x54ff13=>_0x54ff13['id']===_0x1c82c6);if(!_0x3b5977||!_0x3b5977[_0x23c700(0x5c5)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x23c700(0x701),async()=>{const _0x107427=_0x23c700;try{const _0x49bab5=doc(db,_0x107427(0x418)+appId+_0x107427(0x34c),_0x1c82c6),_0x44cb91=doc(db,_0x107427(0x418)+appId+'/public/data/quizzes',_0x3b5977[_0x107427(0x5c5)]),_0x88223c=writeBatch(db);_0x88223c[_0x107427(0x975)](_0x49bab5,{'pairedQuizId':null}),_0x88223c[_0x107427(0x975)](_0x44cb91,{'pairedQuizId':null}),await _0x88223c[_0x107427(0x626)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x5af3ac){console[_0x107427(0x51e)](_0x107427(0x3f3),_0x5af3ac),showMessage(_0x107427(0x230));}});}function formatAndPrintLessonPlan(_0x51fd5c,_0x21ea7e){const _0x21ce49=_0x361958,_0x4126e6=window['open']('','_blank'),_0x24379d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x21ea7e[_0x21ce49(0x411)]+_0x21ce49(0x2ab)+_0x21ea7e['topic']+_0x21ce49(0x830)+_0x51fd5c['learningGaps'][_0x21ce49(0x961)](_0x3dc18e=>_0x21ce49(0x4d8)+_0x3dc18e+_0x21ce49(0x9db))['join']('')+_0x21ce49(0x990)+_0x51fd5c[_0x21ce49(0x8ec)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51fd5c[_0x21ce49(0xc67)][_0x21ce49(0x961)](_0x9a9568=>_0x21ce49(0x77d)+_0x9a9568[_0x21ce49(0x852)]+_0x21ce49(0x42e)+_0x9a9568[_0x21ce49(0xb8b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x21ce49(0x899);_0x4126e6['document'][_0x21ce49(0x7a7)](_0x24379d),_0x4126e6['document'][_0x21ce49(0xcc2)](),_0x4126e6[_0x21ce49(0x9d4)]=function(){setTimeout(()=>{const _0x4d5192=_0x3ec8;_0x4126e6[_0x4d5192(0x33e)]();},0x3e8);};}async function handleAiFixFormula(_0x1b3786){const _0xf6d177=_0x361958,_0x3b30be=document['querySelector'](_0xf6d177(0xc36)+_0x1b3786+'\x22]');if(!_0x3b30be)return;const _0x39a5b4=_0x3b30be['dataset'][_0xf6d177(0xee)],_0x5e16a4=_0x3b30be[_0xf6d177(0x314)](_0xf6d177(0xc53));let _0x442e89={'question':_0x3b30be[_0xf6d177(0x314)]('textarea')[_0xf6d177(0x491)]};switch(_0x39a5b4){case'multiple_choice':_0x442e89[_0xf6d177(0x6a5)]=Array[_0xf6d177(0x70c)](_0x3b30be[_0xf6d177(0x2c6)](_0xf6d177(0xc87)))[_0xf6d177(0x961)](_0x57c0e6=>_0x57c0e6[_0xf6d177(0x491)]);break;case _0xf6d177(0x385):_0x442e89['idealAnswer']=_0x3b30be[_0xf6d177(0x314)](_0xf6d177(0x2e1))[_0xf6d177(0x491)];break;case'matching_item':_0x442e89[_0xf6d177(0x8c7)]=_0x3b30be[_0xf6d177(0x314)](_0xf6d177(0x227))[_0xf6d177(0x491)];break;}_0x5e16a4['innerHTML']=_0xf6d177(0x150),_0x5e16a4[_0xf6d177(0x79a)]=!![];try{const _0x263dd4=_0xf6d177(0x338)+JSON['stringify'](_0x442e89)+_0xf6d177(0x77c),_0x26f081={'type':_0xf6d177(0xbb5),'properties':{'fixedData':{'type':_0xf6d177(0xbb5),'properties':{'question':{'type':'STRING'},'options':{'type':_0xf6d177(0xb41),'items':{'type':_0xf6d177(0xef)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0xf6d177(0xef)}},'required':[_0xf6d177(0x852)]}},'required':[_0xf6d177(0xaf9)]},_0x448175=await callAnalysisApi(_0x263dd4,_0x26f081);if(_0x448175&&_0x448175[_0xf6d177(0xaf9)]){const _0x3fc2b4=_0x448175[_0xf6d177(0xaf9)];_0x3b30be[_0xf6d177(0x314)](_0xf6d177(0x342))[_0xf6d177(0x491)]=_0x3fc2b4[_0xf6d177(0x852)]||_0x442e89[_0xf6d177(0x852)];switch(_0x39a5b4){case _0xf6d177(0x736):_0x3fc2b4[_0xf6d177(0x6a5)]&&_0x3fc2b4[_0xf6d177(0x6a5)][_0xf6d177(0x6b7)]>0x0&&_0x3b30be[_0xf6d177(0x2c6)](_0xf6d177(0xc87))[_0xf6d177(0x384)]((_0x1b2572,_0x3160c0)=>{const _0x4f96b0=_0xf6d177;_0x1b2572['value']=_0x3fc2b4['options'][_0x3160c0]||_0x442e89[_0x4f96b0(0x6a5)][_0x3160c0];});break;case'short_answer':_0x3b30be['querySelector'](_0xf6d177(0x2e1))[_0xf6d177(0x491)]=_0x3fc2b4['idealAnswer']||_0x442e89[_0xf6d177(0x94b)];break;case'matching_item':_0x3b30be[_0xf6d177(0x314)](_0xf6d177(0x227))[_0xf6d177(0x491)]=_0x3fc2b4['correctResponse']||_0x442e89[_0xf6d177(0x8c7)];break;}if(_0x442e89['question']!==_0x3fc2b4[_0xf6d177(0x852)])try{const _0x106c50=collection(db,_0xf6d177(0x418)+appId+_0xf6d177(0x816));await addDoc(_0x106c50,{'broken':_0x442e89['question'],'fixed':_0x3fc2b4['question'],'createdAt':serverTimestamp()});}catch(_0x5233fc){console[_0xf6d177(0x51e)](_0xf6d177(0xbc5),_0x5233fc);}showMessage(_0xf6d177(0x3e1));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x380b46){console[_0xf6d177(0x51e)](_0xf6d177(0x936),_0x380b46),showMessage(_0xf6d177(0x1ac));}finally{_0x5e16a4[_0xf6d177(0x86f)]=_0xf6d177(0x6a7),_0x5e16a4[_0xf6d177(0x79a)]=![];}}async function handleGenerateLessonPlan(_0x25e323){const _0x2ca9e6=_0x361958;showMessage(_0x2ca9e6(0x2b1));try{const _0x5d0f66=doc(db,_0x2ca9e6(0x418)+appId+_0x2ca9e6(0x34c),_0x25e323),_0xd12e34=await getDoc(_0x5d0f66);if(!_0xd12e34[_0x2ca9e6(0x6f9)]())throw new Error(_0x2ca9e6(0x82c));const _0x33d02e={'id':_0x25e323,..._0xd12e34[_0x2ca9e6(0xaff)]()},_0x1d1553=collection(db,'artifacts/'+appId+_0x2ca9e6(0x34c),_0x25e323,_0x2ca9e6(0x308)),_0x2a8495=await getDocs(_0x1d1553),_0x3a950d=_0x2a8495['docs']['map'](_0x28bfdc=>_0x28bfdc[_0x2ca9e6(0xaff)]());if(_0x3a950d[_0x2ca9e6(0x6b7)]===0x0)throw new Error(_0x2ca9e6(0x5b1));const _0x18a59a=calculateItemAnalysis(_0x33d02e,_0x3a950d)[_0x2ca9e6(0x77e)],_0x5b0954=calculateDistractorAnalysis(_0x33d02e,_0x3a950d),_0x4d28a4=_0x5b9a10=>{const _0x31c373=_0x2ca9e6;if(!_0x5b9a10)return'';return _0x5b9a10[_0x31c373(0x46f)](/\\/g,'\x5c\x5c')[_0x31c373(0x46f)](/"/g,'\x5c\x22')[_0x31c373(0x46f)](/\n/g,'\x5cn');};let _0x1549f0=_0x2ca9e6(0xc82);_0x33d02e[_0x2ca9e6(0x707)][_0x2ca9e6(0x384)]((_0x43d0b3,_0x3fc783)=>{const _0x4b4fc0=_0x2ca9e6,_0x19237e=_0x18a59a[_0x3fc783]?.['p'][_0x4b4fc0(0x2a0)](0x2)||_0x4b4fc0(0xc29),_0x452549=_0x18a59a[_0x3fc783]?.['r']['toFixed'](0x2)||'N/A',_0xafa0f=_0x4d28a4(_0x43d0b3[_0x4b4fc0(0xf5)]||_0x43d0b3[_0x4b4fc0(0xb42)]);_0x1549f0+=_0x4b4fc0(0x233)+(_0x3fc783+0x1)+_0x4b4fc0(0x226)+_0x19237e+_0x4b4fc0(0x507)+_0x452549+_0x4b4fc0(0x7ed)+_0xafa0f+'\x5cn';if(_0x43d0b3['questionType']===_0x4b4fc0(0x736)&&_0x5b0954[_0x3fc783]){const _0x2fd86a=_0x5b0954[_0x3fc783],_0x49dacc=Object[_0x4b4fc0(0x293)](_0x2fd86a)['filter'](_0x32536e=>parseInt(_0x32536e)!==_0x43d0b3[_0x4b4fc0(0x47b)])[_0x4b4fc0(0x2b7)]((_0x2c4bd8,_0x4d2794)=>_0x2fd86a[_0x4d2794]['total']-_0x2fd86a[_0x2c4bd8][_0x4b4fc0(0x881)])[0x0];if(_0x49dacc&&_0x2fd86a[_0x49dacc][_0x4b4fc0(0x881)]>0x0){const _0x48e90f=_0x4d28a4(_0x2fd86a[_0x49dacc][_0x4b4fc0(0x90b)]);_0x1549f0+=_0x4b4fc0(0x1c5)+_0x48e90f+_0x4b4fc0(0x329);}}});const _0x40d9b7=_0x2ca9e6(0xc9)+_0x33d02e[_0x2ca9e6(0x411)]+_0x2ca9e6(0x3eb)+_0x1549f0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x293ac6={'type':'OBJECT','properties':{'learningGaps':{'type':_0x2ca9e6(0xb41),'items':{'type':_0x2ca9e6(0xef)}},'teachingContent':{'type':_0x2ca9e6(0xef)},'practiceProblems':{'type':_0x2ca9e6(0xb41),'items':{'type':_0x2ca9e6(0xbb5),'properties':{'question':{'type':'STRING'},'solution':{'type':'STRING'}}}}},'required':[_0x2ca9e6(0x917),'teachingContent','practiceProblems']},_0x500c19=await callAnalysisApi(_0x40d9b7,_0x293ac6);await updateDoc(_0x5d0f66,{'lessonPlan':_0x500c19});const _0x21fc84='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x33d02e[_0x2ca9e6(0x411)]+_0x2ca9e6(0xad1)+_0x500c19[_0x2ca9e6(0x917)][_0x2ca9e6(0x961)](_0x5643e2=>_0x2ca9e6(0x4d8)+_0x5643e2+_0x2ca9e6(0x9db))[_0x2ca9e6(0xbcc)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x500c19[_0x2ca9e6(0x8ec)]+_0x2ca9e6(0xa27)+_0x500c19[_0x2ca9e6(0xc67)][_0x2ca9e6(0x961)](_0x451c32=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x451c32[_0x2ca9e6(0x852)]+_0x2ca9e6(0x40c)+_0x451c32[_0x2ca9e6(0xb8b)]+_0x2ca9e6(0x1f9))[_0x2ca9e6(0xbcc)]('')+_0x2ca9e6(0x984);document['getElementById'](_0x2ca9e6(0x1db))[_0x2ca9e6(0x317)]='แผนการสอน:\x20'+_0x33d02e[_0x2ca9e6(0x411)],document[_0x2ca9e6(0x403)](_0x2ca9e6(0x147))[_0x2ca9e6(0x86f)]=_0x21fc84,document['getElementById']('lesson-plan-modal')[_0x2ca9e6(0x67e)][_0x2ca9e6(0x3e9)](_0x2ca9e6(0x17c));if(window[_0x2ca9e6(0xaeb)])MathJax[_0x2ca9e6(0x738)]();messageModal[_0x2ca9e6(0x67e)][_0x2ca9e6(0x7be)](_0x2ca9e6(0x17c));}catch(_0x4001bd){console['error'](_0x2ca9e6(0x7aa),_0x4001bd),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4001bd[_0x2ca9e6(0x931)]);}}async function handleDuplicateQuiz(_0x2a1224){const _0x4a4349=_0x361958;try{const _0x345fe5=doc(db,_0x4a4349(0x418)+appId+'/public/data/quizzes',_0x2a1224),_0x1cf02e=await getDoc(_0x345fe5);if(_0x1cf02e['exists']()){const _0x30ebae=_0x1cf02e[_0x4a4349(0xaff)]();let _0x1b3e9c='',_0x4a82c3=_0x4a4349(0x1a9),_0x1fec83=null;if(_0x30ebae['quizMode']===_0x4a4349(0x6dd)){let _0x13b0e3=_0x30ebae[_0x4a4349(0x411)]['replace'](_0x4a4349(0x33f),'')['trim']();_0x1b3e9c=_0x4a4349(0x371)+_0x13b0e3,_0x4a82c3=_0x4a4349(0x18d),_0x1fec83=_0x2a1224;}else _0x1b3e9c=_0x4a4349(0xd0)+_0x30ebae[_0x4a4349(0x411)];const _0x28f555={..._0x30ebae,'topic':_0x1b3e9c,'createdAt':new Date()['toISOString'](),'quizMode':_0x4a82c3,'pairedQuizId':_0x1fec83};let _0x1f2090;while(!![]){_0x1f2090=Math['floor'](0x3e8+Math[_0x4a4349(0x427)]()*0x2328)['toString']();const _0x22899e=await getDoc(doc(db,_0x4a4349(0x418)+appId+_0x4a4349(0x34c),_0x1f2090));if(!_0x22899e[_0x4a4349(0x6f9)]())break;}const _0x5ecb8b=doc(db,'artifacts/'+appId+_0x4a4349(0x34c),_0x1f2090);await setDoc(_0x5ecb8b,_0x28f555),_0x28f555[_0x4a4349(0xb1c)]===_0x4a4349(0x18d)&&await updateDoc(_0x345fe5,{'pairedQuizId':_0x1f2090}),showMessage(_0x4a4349(0x46a));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x32c9db){console[_0x4a4349(0x51e)](_0x4a4349(0x60d),_0x32c9db),showMessage(_0x4a4349(0x424));}}async function handleDeleteQuiz(_0x188410,_0x1fe163=!![]){const _0x5c4e29=_0x361958;try{const _0xc955d6=writeBatch(db),_0x2eb188=collection(db,_0x5c4e29(0x418)+appId+'/public/data/quizzes/'+_0x188410+_0x5c4e29(0x7dc)),_0x21b886=await getDocs(_0x2eb188);_0x21b886[_0x5c4e29(0x384)](_0xeac494=>{const _0x2642d8=_0x5c4e29;_0xc955d6[_0x2642d8(0x206)](doc(_0x2eb188,_0xeac494['id']));});const _0x1ce4fa=doc(db,_0x5c4e29(0x418)+appId+_0x5c4e29(0x34c),_0x188410);_0xc955d6[_0x5c4e29(0x206)](_0x1ce4fa),await _0xc955d6[_0x5c4e29(0x626)]();try{console[_0x5c4e29(0xb07)](_0x5c4e29(0x99a)+_0x188410+_0x5c4e29(0xaee));const _0x428894=collection(db,_0x5c4e29(0x418)+appId+_0x5c4e29(0xc0f)),_0x4526c3=await getDocs(_0x428894),_0x20e16a=[];_0x4526c3[_0x5c4e29(0x384)](_0x399343=>{const _0x4f6c4c=_0x5c4e29,_0x515399=_0x399343[_0x4f6c4c(0xaff)](),_0xabcf8=_0x515399['topics']||{};let _0x173598=![];for(const _0x115d9d in _0xabcf8){const _0x288d4c=_0xabcf8[_0x115d9d];if(_0x288d4c[_0x4f6c4c(0xa30)]&&_0x288d4c[_0x4f6c4c(0xa30)][_0x4f6c4c(0x801)](_0x188410)){_0x173598=!![];const _0x11ba73=doc(db,_0x4f6c4c(0x418)+appId+_0x4f6c4c(0xc0f),_0x399343['id']),_0x58ec09=updateDoc(_0x11ba73,{[_0x4f6c4c(0x37f)+_0x115d9d+_0x4f6c4c(0x8c5)]:arrayRemove(_0x188410)});_0x20e16a[_0x4f6c4c(0x798)](_0x58ec09);}}}),_0x20e16a[_0x5c4e29(0x6b7)]>0x0&&(await Promise['all'](_0x20e16a),console['log'](_0x5c4e29(0xa22)+_0x20e16a[_0x5c4e29(0x6b7)]+_0x5c4e29(0xcf8)+_0x188410+'.'));}catch(_0x41ee9b){console['error']('Error\x20during\x20blueprint\x20link\x20cleanup:',_0x41ee9b);}_0x1fe163&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x496bce){console['error'](_0x5c4e29(0x354),_0x496bce),_0x1fe163&&showMessage(_0x5c4e29(0x7a9));}}async function showQuizDetailView(_0x36cd9f){const _0x3e76fc=_0x361958;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x3e76fc(0xa6d));try{const _0x1ffb3e=doc(db,_0x3e76fc(0x418)+appId+'/public/data/quizzes',_0x36cd9f),_0x59cff9=await getDoc(_0x1ffb3e);if(!_0x59cff9[_0x3e76fc(0x6f9)]()){showMessage(_0x3e76fc(0x82c));return;}const _0x3532bf={'id':_0x59cff9['id'],..._0x59cff9[_0x3e76fc(0xaff)]()};currentQuizData=_0x3532bf;const _0x4c6fae=doc(db,_0x3e76fc(0x418)+appId+_0x3e76fc(0x664),_0x3532bf[_0x3e76fc(0x4b4)]),_0x7ab005=await getDoc(_0x4c6fae);_0x7ab005[_0x3e76fc(0x6f9)]()?(currentProjectData=_0x7ab005[_0x3e76fc(0xaff)](),currentProjectId=_0x3532bf[_0x3e76fc(0x4b4)]):(currentProjectData={'students':[]},currentProjectId=_0x3532bf[_0x3e76fc(0x4b4)]);document['getElementById']('results-quiz-title')[_0x3e76fc(0x317)]=_0x3532bf[_0x3e76fc(0x411)],document['getElementById'](_0x3e76fc(0xb72))[_0x3e76fc(0x317)]=_0x36cd9f;const _0x5a86e4=collection(db,_0x3e76fc(0x418)+appId+_0x3e76fc(0x34c),_0x36cd9f,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x5a86e4,_0x3dc686=>{const _0x278a15=_0x3e76fc,_0x51e18e=_0x3dc686[_0x278a15(0x5b2)]['map'](_0x4399f8=>({'id':_0x4399f8['id'],..._0x4399f8[_0x278a15(0xaff)]()}));currentSubmissions=_0x51e18e;const _0x3c45d8=_0x51e18e[_0x278a15(0x9df)](_0x520d0d=>_0x520d0d[_0x278a15(0x723)]&&_0x520d0d[_0x278a15(0x723)][_0x278a15(0x6b7)]>0x0);renderBehaviorLog(_0x51e18e),renderAnswerGrid(currentProjectData[_0x278a15(0x282)],_0x3c45d8,_0x3532bf),renderAnalytics(_0x3532bf,_0x3c45d8),renderQuizResultsTable(currentProjectData[_0x278a15(0x282)],_0x51e18e,_0x3532bf),renderQuizLeaderboard(_0x3c45d8,_0x3532bf,'quiz-leaderboard-table-body');}),showView('quiz-results');}catch(_0x500168){console[_0x3e76fc(0x51e)](_0x3e76fc(0xb86),_0x500168),showMessage(_0x3e76fc(0xb57));}}function renderAnswerGrid(_0x4615b4,_0x322458,_0x86cfac){const _0x530b13=_0x361958,_0x596697=document['getElementById']('answer-grid-container');if(!_0x596697)return;if(!_0x4615b4||_0x4615b4['length']===0x0){_0x596697[_0x530b13(0x86f)]=_0x530b13(0x247);return;}const _0x56ca19=_0x86cfac[_0x530b13(0x707)],_0x246cc0=_0x322458[_0x530b13(0xac1)]((_0x28b8a1,_0x278bae)=>{return _0x28b8a1[_0x278bae['studentName']]=_0x278bae,_0x28b8a1;},{}),_0x339df2=_0x49fd7b=>String[_0x530b13(0x4f7)](0x41+_0x49fd7b),_0x28e079=_0x378699=>{const _0x3289a6=_0x530b13,_0x4c151c=_0x378699[_0x3289a6(0x30c)]||_0x86cfac['quizType'];switch(_0x4c151c){case _0x3289a6(0x736):return _0x378699['options']&&_0x378699[_0x3289a6(0x6a5)]['length']>_0x378699['correctAnswerIndex']?_0x339df2(_0x378699[_0x3289a6(0x47b)]):'-';case _0x3289a6(0x891):const _0x42bce4=_0x378699[_0x3289a6(0xc73)]===!![]||String(_0x378699[_0x3289a6(0xc73)])['toLowerCase']()===_0x3289a6(0x4db);return _0x42bce4?'ใช่':_0x3289a6(0xcda);case _0x3289a6(0x886):return _0x378699[_0x3289a6(0x8c7)]||'-';case _0x3289a6(0x385):return _0x3289a6(0x305);default:return'-';}},_0x52deaa=(_0x4be9a3,_0x457256)=>{const _0x4b73ae=_0x530b13;if(_0x457256[_0x4b73ae(0x7b2)]===null||_0x457256[_0x4b73ae(0x7b2)]===undefined)return'-';const _0x5a7c14=_0x4be9a3[_0x4b73ae(0x30c)]||_0x86cfac[_0x4b73ae(0x94d)];switch(_0x5a7c14){case _0x4b73ae(0x736):const _0x3c37bc=_0x4be9a3['options']['findIndex'](_0x1b0a8c=>_0x1b0a8c===_0x457256[_0x4b73ae(0x69a)]);return _0x3c37bc!==-0x1?_0x339df2(_0x3c37bc):_0x457256[_0x4b73ae(0x69a)]||'-';case _0x4b73ae(0x891):if(_0x457256[_0x4b73ae(0x7b2)]=='0'||_0x457256['answer']===!![]||_0x457256['answer']===_0x4b73ae(0x4db))return _0x4b73ae(0x291);return _0x4b73ae(0xcda);default:return _0x457256['answer'];}};let _0x5211d7=_0x530b13(0x307)+_0x56ca19[_0x530b13(0x961)]((_0x364bcf,_0x298639)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x298639+0x1)+'</th>')['join']('')+_0x530b13(0x45a)+_0x56ca19[_0x530b13(0x961)](_0xbec6bf=>_0x530b13(0xa8e)+_0x28e079(_0xbec6bf)+_0x530b13(0x78e))[_0x530b13(0xbcc)]('')+_0x530b13(0x498);_0x4615b4['forEach'](_0x530e2b=>{const _0x193204=_0x530b13;_0x5211d7+=_0x193204(0x635),_0x5211d7+=_0x193204(0x582)+_0x530e2b+_0x193204(0x78e);const _0x24caed=_0x246cc0[_0x530e2b];if(_0x24caed){const _0x113da6=_0x24caed[_0x193204(0x723)][_0x24caed[_0x193204(0x723)]['length']-0x1];_0x56ca19[_0x193204(0x384)]((_0x146ac7,_0x137cc0)=>{const _0x78c5ee=_0x193204,_0x25e157=_0x113da6[_0x78c5ee(0x379)][_0x78c5ee(0x9f6)](_0x1a53a1=>_0x1a53a1[_0x78c5ee(0x40e)]===_0x146ac7['id']);if(_0x25e157){let _0x2b8e6f='';const _0x1215e3=_0x25e157['isCorrect']===!![],_0x404380=_0x25e157[_0x78c5ee(0x481)]===!![]||_0x25e157['wasConfident']==='confident';_0x404380?_0x2b8e6f=_0x1215e3?_0x78c5ee(0xbf4):_0x78c5ee(0xb83):_0x2b8e6f=_0x1215e3?'bg-green-100':_0x78c5ee(0xbd9),_0x5211d7+=_0x78c5ee(0x753)+_0x2b8e6f+'\x22>'+_0x52deaa(_0x146ac7,_0x25e157)+_0x78c5ee(0x78e);}else _0x5211d7+=_0x78c5ee(0xb6a);});}else _0x5211d7+=_0x56ca19[_0x193204(0x961)](()=>_0x193204(0xae6))[_0x193204(0xbcc)]('');_0x5211d7+=_0x193204(0x8ad);}),_0x5211d7+=_0x530b13(0xb9d),_0x596697[_0x530b13(0x86f)]=_0x5211d7;}function renderQuizResultsTable(_0x31b189,_0x223530,_0x28fc24){const _0x2a54f7=_0x361958,_0x5b2497=_0x223530[_0x2a54f7(0xac1)]((_0x1e074c,_0x43c213)=>{const _0xc32f05=_0x2a54f7;return _0x1e074c[_0x43c213[_0xc32f05(0x5b0)]]=_0x43c213,_0x1e074c;},{}),_0x3c61c3=document[_0x2a54f7(0x314)](_0x2a54f7(0x7ee));_0x3c61c3&&!_0x3c61c3[_0x2a54f7(0x86f)][_0x2a54f7(0x801)](_0x2a54f7(0x686))&&(_0x3c61c3[_0x2a54f7(0x86f)]+=_0x2a54f7(0x62c));const _0x3dc2fd=document[_0x2a54f7(0x403)](_0x2a54f7(0x1e3));if(!_0x31b189||_0x31b189[_0x2a54f7(0x6b7)]===0x0){_0x3dc2fd[_0x2a54f7(0x86f)]=_0x2a54f7(0x9eb);return;}const _0x380286=_0x28fc24['isRemedial']===!![],_0x38cfd7=_0x28fc24[_0x2a54f7(0x3f9)]?.[_0x2a54f7(0x8d3)]??-0x1;let _0x1e3957='';_0x31b189[_0x2a54f7(0x384)](_0x21f67e=>{const _0x15840f=_0x2a54f7,_0x3df4d2=_0x5b2497[_0x21f67e];let _0x287866=_0x15840f(0x82b)+(_0x380286?_0x15840f(0x616):_0x15840f(0xbf2))+'\x22>'+(_0x380286?_0x15840f(0x175):_0x15840f(0xb9b))+_0x15840f(0x4ce);if(_0x3df4d2){if(_0x3df4d2['attempts']&&_0x3df4d2['attempts']['length']>0x0){let _0x43755b=_0x380286?_0x3df4d2[_0x15840f(0x11a)]===_0x3df4d2['totalQuestions']:_0x38cfd7!==-0x1&&_0x3df4d2[_0x15840f(0x11a)]>=_0x38cfd7;const _0x2bfd3f=_0x43755b?_0x15840f(0x62b):'bg-red-100\x20text-red-800',_0x1a75f0=_0x43755b?_0x15840f(0xa90):_0x15840f(0x838),_0x571223=_0x15840f(0xa26)+_0x2bfd3f+'\x22>'+_0x1a75f0+'</span></td>',_0x658dd6=_0x15840f(0x57e)+(_0x3df4d2[_0x15840f(0x723)]?.['length']||0x1)+_0x15840f(0x7b4);_0x1e3957+=_0x15840f(0x5a9)+_0x21f67e+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x3df4d2[_0x15840f(0x11a)]+_0x15840f(0xc41)+_0x3df4d2[_0x15840f(0xcf)]+_0x15840f(0x2a1)+_0x571223+_0x15840f(0x315)+_0x287866+_0x15840f(0x6b4)+_0x3df4d2[_0x15840f(0x4cc)]+'\x20/\x20'+_0x3df4d2[_0x15840f(0xcf)]+_0x15840f(0x888)+_0x3df4d2[_0x15840f(0x155)]+_0x15840f(0xc41)+_0x3df4d2[_0x15840f(0xcf)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x3df4d2[_0x15840f(0x479)]||0x0)+_0x15840f(0x2a1)+_0x658dd6+_0x15840f(0x5b7)+new Date(_0x3df4d2[_0x15840f(0x866)])[_0x15840f(0x39e)](_0x15840f(0x1d9))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x21f67e+_0x15840f(0xc10);}else{const _0x543c74=_0x15840f(0xcc3);_0x1e3957+=_0x15840f(0x5c4)+_0x21f67e+_0x15840f(0x7b0)+_0x287866+_0x15840f(0x179)+_0x543c74+_0x15840f(0x5b7)+new Date(_0x3df4d2[_0x15840f(0x22e)])['toLocaleString'](_0x15840f(0x1d9))+_0x15840f(0x987)+_0x21f67e+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x4d0eca=_0x15840f(0x1d0);_0x1e3957+=_0x15840f(0xca)+_0x21f67e+_0x15840f(0x2e6)+_0x287866+_0x15840f(0x407)+_0x4d0eca+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x3dc2fd[_0x2a54f7(0x86f)]=_0x1e3957;}async function confirmRenameQuiz(){const _0x35d622=_0x361958,_0x4e499f=document['getElementById']('rename-quiz-input')[_0x35d622(0x491)]['trim']();if(!_0x4e499f){showMessage(_0x35d622(0xc68));return;}if(!actionTargetId)return;const _0x4d5dc5=doc(db,_0x35d622(0x418)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x4d5dc5,{'topic':_0x4e499f}),showMessage(_0x35d622(0x3b0)),renameQuizModal[_0x35d622(0x67e)]['add'](_0x35d622(0x17c)),actionTargetId=null;}catch(_0x415afc){console[_0x35d622(0x51e)]('Error\x20renaming\x20quiz:',_0x415afc),showMessage(_0x35d622(0xbea));}}async function handleMoveQuiz(_0x5c87d2){const _0x5e77c8=_0x361958;actionTargetId=_0x5c87d2;const _0x535a90=document[_0x5e77c8(0x403)](_0x5e77c8(0x6ba));_0x535a90[_0x5e77c8(0x86f)]=_0x5e77c8(0x981),moveQuizModal[_0x5e77c8(0x67e)][_0x5e77c8(0x3e9)](_0x5e77c8(0x17c));try{const _0x1c5304=collection(db,_0x5e77c8(0x418)+appId+'/public/data/projects'),_0x3b5a9c=await getDocs(_0x1c5304),_0x1e66a3=_0x3b5a9c[_0x5e77c8(0x5b2)][_0x5e77c8(0x961)](_0x21dca8=>({'id':_0x21dca8['id'],..._0x21dca8[_0x5e77c8(0xaff)]()})),_0xedcf8d=_0x1e66a3[_0x5e77c8(0x9df)](_0x370b25=>_0x370b25['id']!==currentProjectId);if(_0xedcf8d[_0x5e77c8(0x6b7)]===0x0){_0x535a90['innerHTML']=_0x5e77c8(0x839),document[_0x5e77c8(0x403)]('confirm-move-quiz-btn')[_0x5e77c8(0x79a)]=!![];return;}_0x535a90[_0x5e77c8(0x86f)]=_0xedcf8d['map'](_0x341a1d=>_0x5e77c8(0x7f5)+_0x341a1d['id']+'\x22>'+_0x341a1d[_0x5e77c8(0x3d0)]+'</option>')['join'](''),document[_0x5e77c8(0x403)]('confirm-move-quiz-btn')[_0x5e77c8(0x79a)]=![];}catch(_0x3ee234){console['error'](_0x5e77c8(0x8d1),_0x3ee234),showMessage(_0x5e77c8(0xa19)),moveQuizModal[_0x5e77c8(0x67e)][_0x5e77c8(0x7be)](_0x5e77c8(0x17c));}}async function confirmMoveQuiz(){const _0x5efd88=_0x361958,_0x2a8276=document['getElementById']('move-quiz-project-select')['value'];if(!_0x2a8276){showMessage(_0x5efd88(0x7f2));return;}if(!actionTargetId)return;const _0xde5f0f=doc(db,_0x5efd88(0x418)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0xde5f0f,{'projectId':_0x2a8276}),showMessage(_0x5efd88(0x581)),moveQuizModal['classList'][_0x5efd88(0x7be)](_0x5efd88(0x17c)),actionTargetId=null;}catch(_0x3bc784){console['error'](_0x5efd88(0x59f),_0x3bc784),showMessage(_0x5efd88(0x5e8));}}async function handleQuizSettings(_0x1fa626){const _0x377280=_0x361958;actionTargetId=_0x1fa626;const _0x269332=doc(db,_0x377280(0x418)+appId+_0x377280(0x34c),_0x1fa626);try{const _0x494e6e=await getDoc(_0x269332);if(_0x494e6e[_0x377280(0x6f9)]()){const _0x52683a=_0x494e6e[_0x377280(0xaff)](),_0x4a77c1=_0x52683a[_0x377280(0x3f9)]||{},_0x3fe1bb=_0x52683a[_0x377280(0x707)][_0x377280(0x6b7)];document[_0x377280(0x403)](_0x377280(0x422))['value']=_0x4a77c1[_0x377280(0xb64)]||'none',document[_0x377280(0x403)]('modal-results-display-select')['value']=_0x4a77c1['resultsDisplay']||_0x377280(0xa46),document[_0x377280(0x403)](_0x377280(0xc4c))[_0x377280(0x491)]=_0x4a77c1[_0x377280(0xacc)]||'none',document[_0x377280(0x403)]('modal-timer-duration-input')[_0x377280(0x491)]=_0x4a77c1[_0x377280(0x959)]||0xa,document[_0x377280(0x403)](_0x377280(0xc0a))[_0x377280(0x491)]=_0x4a77c1[_0x377280(0x8d3)]||Math[_0x377280(0x15f)](_0x3fe1bb/0x2),document[_0x377280(0x403)](_0x377280(0xc0a))[_0x377280(0x773)]=_0x3fe1bb,document[_0x377280(0x403)]('modal-adaptive-quiz-checkbox')[_0x377280(0x98b)]=_0x4a77c1[_0x377280(0x670)]||![],document[_0x377280(0x403)](_0x377280(0x85d))[_0x377280(0x98b)]=_0x4a77c1[_0x377280(0xabe)]||![];const _0x4182da=_0x4a77c1[_0x377280(0x131)]||![];document[_0x377280(0x403)]('modal-confidence-scoring-checkbox')[_0x377280(0x98b)]=_0x4182da,document[_0x377280(0x403)]('modal-confidence-mode-select')[_0x377280(0x491)]=_0x4a77c1['confidenceMode']||_0x377280(0x885);const _0x239818=document[_0x377280(0x403)](_0x377280(0xbfe));_0x239818[_0x377280(0x67e)][_0x377280(0xcca)](_0x377280(0x17c),!_0x4182da),document[_0x377280(0x403)]('modal-timer-mode-select')[_0x377280(0x3cf)](new Event(_0x377280(0x7cd))),quizSettingsModal[_0x377280(0x67e)][_0x377280(0x3e9)]('hidden');}else showMessage(_0x377280(0x82c));}catch(_0x4fabcb){console[_0x377280(0x51e)](_0x377280(0x897),_0x4fabcb),showMessage(_0x377280(0x3fd));}}async function confirmQuizSettings(){const _0xcd3b=_0x361958;if(!actionTargetId)return;const _0xd7fba0=doc(db,_0xcd3b(0x418)+appId+_0xcd3b(0x34c),actionTargetId),_0x1c135b={'shuffle':document[_0xcd3b(0x403)](_0xcd3b(0x422))[_0xcd3b(0x491)],'resultsDisplay':document[_0xcd3b(0x403)](_0xcd3b(0x57f))[_0xcd3b(0x491)],'timerMode':document['getElementById']('modal-timer-mode-select')['value'],'timerDuration':parseInt(document['getElementById'](_0xcd3b(0x3ba))[_0xcd3b(0x491)])||0xa,'passingScore':parseInt(document[_0xcd3b(0x403)]('modal-passing-score-input')['value'])||0x0,'isAdaptive':document[_0xcd3b(0x403)](_0xcd3b(0x5a5))[_0xcd3b(0x98b)],'loopUntilPass':document[_0xcd3b(0x403)](_0xcd3b(0x85d))[_0xcd3b(0x98b)],'isConfidenceScoringEnabled':document['getElementById'](_0xcd3b(0xa7f))['checked'],'confidenceMode':document[_0xcd3b(0x403)]('modal-confidence-mode-select')[_0xcd3b(0x491)]};try{await updateDoc(_0xd7fba0,{'settings':_0x1c135b}),showMessage(_0xcd3b(0x50b)),quizSettingsModal['classList'][_0xcd3b(0x7be)](_0xcd3b(0x17c)),actionTargetId=null;}catch(_0x17a57a){console[_0xcd3b(0x51e)](_0xcd3b(0x2b2),_0x17a57a),showMessage(_0xcd3b(0xb3e));}}async function confirmQuizStatus(){const _0x253350=_0x361958;if(!actionTargetId)return;const _0x58a6e9=doc(db,'artifacts/'+appId+_0x253350(0x34c),actionTargetId),_0x42a174=document[_0x253350(0x314)](_0x253350(0xb36));if(!_0x42a174){showMessage('กรุณาเลือกสถานะ');return;}const _0x56e86b=_0x42a174[_0x253350(0x491)];let _0x136223={};if(_0x56e86b===_0x253350(0x70f)||_0x56e86b===_0x253350(0x203))_0x136223={'status':_0x56e86b,'startTime':null,'endTime':null};else{if(_0x56e86b===_0x253350(0x870)){const _0x151718=document['getElementById'](_0x253350(0x132))[_0x253350(0x491)],_0x60db0b=document[_0x253350(0x403)]('quiz-end-time')[_0x253350(0x491)];if(!_0x151718&&!_0x60db0b){showMessage(_0x253350(0x4f2));return;}_0x136223={'status':_0x253350(0xb75),'startTime':_0x151718?new Date(_0x151718)[_0x253350(0x31c)]():null,'endTime':_0x60db0b?new Date(_0x60db0b)[_0x253350(0x31c)]():null};}}try{await updateDoc(_0x58a6e9,_0x136223),showMessage(_0x253350(0x390)),quizStatusModal[_0x253350(0x67e)][_0x253350(0x7be)]('hidden'),actionTargetId=null;}catch(_0x10e325){console[_0x253350(0x51e)]('Error\x20updating\x20quiz\x20status:',_0x10e325),showMessage(_0x253350(0x1b3));}}function listenForStudentProfiles(_0x17f958){const _0x1043ef=_0x361958,_0xbb91ea=collection(db,_0x1043ef(0x418)+appId+_0x1043ef(0x525)+_0x17f958+_0x1043ef(0x478));unsubscribeStudentProfilesListener=onSnapshot(_0xbb91ea,_0x64f0b2=>{const _0x747bd5=_0x1043ef,_0x2766cc=_0x64f0b2[_0x747bd5(0x5b2)][_0x747bd5(0x961)](_0x4eb9c3=>_0x4eb9c3[_0x747bd5(0xaff)]());renderLeaderboard(_0x2766cc,'leaderboard-table-body');},_0x2b9fff=>{const _0x2529ab=_0x1043ef;console[_0x2529ab(0x51e)](_0x2529ab(0x492),_0x2b9fff),document['getElementById'](_0x2529ab(0x35b))[_0x2529ab(0x86f)]=_0x2529ab(0x66a);});}function renderLeaderboard(_0x5b72cd,_0x37eba1){const _0x176ac4=_0x361958,_0x5b7ff3=document[_0x176ac4(0x403)](_0x37eba1);if(!_0x5b72cd||_0x5b72cd[_0x176ac4(0x6b7)]===0x0){_0x5b7ff3['innerHTML']=_0x176ac4(0x37e);return;}_0x5b72cd[_0x176ac4(0x2b7)]((_0x145a11,_0x43576f)=>{const _0x5e27c1=_0x176ac4,_0xdc55c=(_0x43576f['totalPoints']||0x0)-(_0x145a11[_0x5e27c1(0x73c)]||0x0);if(_0xdc55c!==0x0)return _0xdc55c;const _0x10bd55=(_0x43576f[_0x5e27c1(0xa2f)]?.[_0x5e27c1(0x4eb)]||0x0)-(_0x145a11['badgesCount']?.[_0x5e27c1(0x4eb)]||0x0);if(_0x10bd55!==0x0)return _0x10bd55;const _0x49d5ad=(_0x43576f[_0x5e27c1(0xa2f)]?.['first_try_ace']||0x0)-(_0x145a11[_0x5e27c1(0xa2f)]?.['first_try_ace']||0x0);if(_0x49d5ad!==0x0)return _0x49d5ad;const _0x576ee6=(_0x43576f[_0x5e27c1(0xa2f)]?.[_0x5e27c1(0x993)]||0x0)-(_0x145a11[_0x5e27c1(0xa2f)]?.[_0x5e27c1(0x993)]||0x0);if(_0x576ee6!==0x0)return _0x576ee6;const _0x3f1f6f=(_0x43576f[_0x5e27c1(0xa2f)]?.[_0x5e27c1(0x7c9)]||0x0)-(_0x145a11[_0x5e27c1(0xa2f)]?.['quick_thinker']||0x0);if(_0x3f1f6f!==0x0)return _0x3f1f6f;return _0x145a11['studentName'][_0x5e27c1(0x97c)](_0x43576f['studentName'],'th');});let _0x2a729b='';_0x5b72cd[_0x176ac4(0x384)]((_0x4e34d5,_0xc2ca5d)=>{const _0x47d568=_0x176ac4,_0x39e28a=_0xc2ca5d+0x1,_0x414f08=_0x4e34d5[_0x47d568(0xa2f)]||{};let _0xaa46a3='';const _0x1319c1=[_0x47d568(0x4eb),_0x47d568(0x993),'first_try_ace',_0x47d568(0x7c9)];_0x1319c1[_0x47d568(0x384)](_0x306056=>{const _0x117e42=_0x47d568;if(_0x414f08[_0x306056]>0x0){const _0x569fd8=Object[_0x117e42(0x9bd)](BADGES)['find'](_0x1cf102=>_0x1cf102['id']===_0x306056);_0x569fd8&&(_0x306056===_0x117e42(0x4eb)?_0xaa46a3+=_0x117e42(0x3b6)+_0x569fd8['name']+_0x117e42(0xa67)+_0x569fd8[_0x117e42(0xa10)]+_0x117e42(0x550):_0xaa46a3+=_0x117e42(0x3b6)+_0x569fd8[_0x117e42(0x2ea)]+'\x20('+_0x414f08[_0x306056]+_0x117e42(0x3b9)+_0x569fd8[_0x117e42(0xa10)]+_0x117e42(0xb8e)+_0x414f08[_0x306056]+_0x117e42(0x3f2));}}),_0x2a729b+=_0x47d568(0x978)+_0x39e28a+_0x47d568(0xa7b)+_0x4e34d5[_0x47d568(0x5b0)]+_0x47d568(0x526)+(_0x4e34d5[_0x47d568(0x73c)]||0x0)+_0x47d568(0xa7b)+(_0xaa46a3||'-')+_0x47d568(0x9a2);}),_0x5b7ff3[_0x176ac4(0x86f)]=_0x2a729b;}function displayLoopScreen(_0x286488,_0xa6445d,_0x2ab078){const _0x388257=_0x361958;let _0x376dae='';_0x2ab078!==_0x388257(0x7cb)&&(_0x376dae='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x286488+_0x388257(0xc41)+_0xa6445d+'</strong></p>');const _0x2b8b8c=_0x388257(0x597)+_0x376dae+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x388257(0x86f)]=_0x2b8b8c,studentResultArea[_0x388257(0x67e)][_0x388257(0x3e9)](_0x388257(0x17c)),studentQuizArea[_0x388257(0x67e)]['add'](_0x388257(0x17c)),document['getElementById'](_0x388257(0xcea))[_0x388257(0x224)](_0x388257(0x920),()=>{const _0x1b1df8=_0x388257;studentResultArea[_0x1b1df8(0x67e)][_0x1b1df8(0x7be)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x21471b,_0x30987d,_0x5690e0){const _0x1c7012=_0x361958,_0x44daaa=document['getElementById'](_0x5690e0),_0x16674c=_0x5690e0===_0x1c7012(0x74b),_0x29467f=_0x30987d[_0x1c7012(0x707)][_0x1c7012(0x6b7)],_0x26ee37=document[_0x1c7012(0x403)](_0x5690e0)[_0x1c7012(0x1af)](_0x1c7012(0xadb));if(_0x26ee37&&!_0x16674c){const _0x27b401=_0x26ee37[_0x1c7012(0x314)](_0x1c7012(0xc8e));_0x27b401[_0x1c7012(0x86f)]=_0x1c7012(0x7b9);}if(!_0x21471b||_0x21471b[_0x1c7012(0x6b7)]===0x0){_0x44daaa[_0x1c7012(0x86f)]='<tr><td\x20colspan=\x22'+(_0x16674c?0x6:0x8)+_0x1c7012(0x745);return;}const _0x506b51=[..._0x21471b];_0x506b51[_0x1c7012(0x2b7)]((_0xf9f39f,_0x1a6eb8)=>{const _0x30d752=_0x1c7012;let _0x2ed563,_0x404b09;switch(quizLeaderboardSortBy){case'studentName':_0x2ed563=_0xf9f39f['studentName']||'',_0x404b09=_0x1a6eb8[_0x30d752(0x5b0)]||'';return quizLeaderboardSortOrder==='asc'?_0x2ed563[_0x30d752(0x97c)](_0x404b09,'th'):_0x404b09[_0x30d752(0x97c)](_0x2ed563,'th');case _0x30d752(0x479):_0x2ed563=_0xf9f39f[_0x30d752(0x479)]||0x0,_0x404b09=_0x1a6eb8['points']||0x0;break;case _0x30d752(0x723):_0x2ed563=_0xf9f39f[_0x30d752(0x723)]?.['length']||0x1,_0x404b09=_0x1a6eb8[_0x30d752(0x723)]?.[_0x30d752(0x6b7)]||0x1;break;case _0x30d752(0x866):_0x2ed563=new Date(_0xf9f39f['latestSubmittedAt']),_0x404b09=new Date(_0x1a6eb8[_0x30d752(0x866)]);break;case _0x30d752(0x11a):default:_0x2ed563=_0xf9f39f[_0x30d752(0x11a)],_0x404b09=_0x1a6eb8[_0x30d752(0x11a)];break;}if(_0x2ed563<_0x404b09)return quizLeaderboardSortOrder===_0x30d752(0x8ce)?-0x1:0x1;if(_0x2ed563>_0x404b09)return quizLeaderboardSortOrder===_0x30d752(0x8ce)?0x1:-0x1;return 0x0;});const _0x27c877=_0x30987d[_0x1c7012(0x7bd)]===!![],_0x4458cc=_0x30987d[_0x1c7012(0x3f9)]?.[_0x1c7012(0x8d3)]??-0x1;let _0x7a19c4='';_0x506b51[_0x1c7012(0x384)]((_0x569331,_0x4ce054)=>{const _0x3abb97=_0x1c7012,_0x5b3d61=_0x4ce054+0x1;let _0x33c92a='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x27c877||_0x4458cc!==-0x1){let _0x1d379b=_0x27c877?_0x569331[_0x3abb97(0x11a)]===_0x29467f:_0x569331['bestScore']>=_0x4458cc;const _0x164aca=_0x1d379b?'bg-green-100\x20text-green-800':_0x3abb97(0xbd6),_0x18fd01=_0x1d379b?'ผ่าน':_0x3abb97(0x838);_0x33c92a='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x164aca+'\x22>'+_0x18fd01+_0x3abb97(0x4ce);}const _0x2ce921=_0x569331[_0x3abb97(0x723)][_0x569331[_0x3abb97(0x723)][_0x3abb97(0x6b7)]-0x1],_0x3a3531=(_0x2ce921[_0x3abb97(0x3b7)]||[])[_0x3abb97(0x961)](_0x51c3d7=>{const _0x401adc=_0x3abb97,_0x2aaae3=Object[_0x401adc(0x9bd)](BADGES)[_0x401adc(0x9f6)](_0x4dba6f=>_0x4dba6f['id']===_0x51c3d7);return _0x2aaae3?_0x401adc(0xc45)+_0x2aaae3[_0x401adc(0x2ea)]+_0x401adc(0x668)+_0x2aaae3[_0x401adc(0xa10)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x3abb97(0xbcc)]('');_0x7a19c4+=_0x3abb97(0xa23)+_0x5b3d61+_0x3abb97(0x9ff)+_0x569331[_0x3abb97(0x5b0)]+_0x3abb97(0xa86)+_0x569331[_0x3abb97(0x11a)]+_0x3abb97(0xc41)+_0x29467f+_0x3abb97(0x8df)+_0x33c92a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x569331[_0x3abb97(0x479)]||0x0)+_0x3abb97(0x8df)+(_0x16674c?'':_0x3abb97(0x9ad)+(_0x569331[_0x3abb97(0x723)]?.[_0x3abb97(0x6b7)]||0x1)+_0x3abb97(0x78e))+_0x3abb97(0xac3)+(_0x16674c?'':_0x3abb97(0x30e)+new Date(_0x569331[_0x3abb97(0x866)])[_0x3abb97(0x39e)](_0x3abb97(0x1d9))+_0x3abb97(0x78e))+_0x3abb97(0xc78)+(_0x3a3531||'-')+_0x3abb97(0x4e6);}),_0x44daaa[_0x1c7012(0x86f)]=_0x7a19c4,_0x26ee37&&!_0x16674c&&_0x26ee37[_0x1c7012(0x2c6)](_0x1c7012(0xafe))[_0x1c7012(0x384)](_0x45fed0=>{const _0x180795=_0x1c7012,_0x23fc09=_0x45fed0[_0x180795(0x314)](_0x180795(0xc48));if(_0x23fc09)_0x23fc09[_0x180795(0x3e9)]();_0x45fed0[_0x180795(0x8c4)][_0x180795(0x2b7)]===quizLeaderboardSortBy&&(_0x45fed0[_0x180795(0x86f)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x180795(0x8ce)?'▲':'▼')+_0x180795(0xb55));});}async function handleDeleteSubmission(_0x51a94f){const _0x22af4e=_0x361958;if(!currentQuizData||!currentQuizData['id']||!_0x51a94f){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x22af4e(0x785)+_0x51a94f+_0x22af4e(0xa9e),async()=>{const _0x2720bd=_0x22af4e,_0x27f4fa=currentQuizData['id'],_0x53ae1c=doc(db,_0x2720bd(0x418)+appId+'/public/data/quizzes/'+_0x27f4fa+'/submissions',_0x51a94f);try{await deleteDoc(_0x53ae1c),showMessage('ลบผลสอบของ\x20'+_0x51a94f+_0x2720bd(0x221));}catch(_0x4ddf8d){console[_0x2720bd(0x51e)]('Error\x20deleting\x20submission:',_0x4ddf8d),showMessage(_0x2720bd(0x5ed));}});}async function handleLoadQuiz(){const _0x15b2e7=_0x361958,_0xb32732=document[_0x15b2e7(0x403)](_0x15b2e7(0x99b)),_0x4a4796=_0xb32732[_0x15b2e7(0x491)][_0x15b2e7(0x783)]();if(!_0x4a4796){showMessage(_0x15b2e7(0xbc4));return;}loadQuizBtn['disabled']=!![],loadQuizBtn[_0x15b2e7(0x86f)]=_0x15b2e7(0x8a6);try{const _0x1cc1ee=doc(db,'artifacts/'+appId+_0x15b2e7(0x34c),_0x4a4796),_0x46c225=await getDoc(_0x1cc1ee);if(!_0x46c225[_0x15b2e7(0x6f9)]()){showMessage(_0x15b2e7(0x6e8));return;}currentQuizData={'id':_0x46c225['id'],..._0x46c225[_0x15b2e7(0xaff)]()};const _0x5a3be7=currentQuizData[_0x15b2e7(0x6b5)]||_0x15b2e7(0x70f),_0x657927=new Date();if(_0x5a3be7===_0x15b2e7(0x203)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x5a3be7===_0x15b2e7(0xb75)){const _0x47ebcb=currentQuizData[_0x15b2e7(0x9e3)]?new Date(currentQuizData['startTime']):null,_0x3051e1=currentQuizData[_0x15b2e7(0x549)]?new Date(currentQuizData[_0x15b2e7(0x549)]):null;if(_0x47ebcb&&_0x657927<_0x47ebcb){showMessage(_0x15b2e7(0x165)+_0x47ebcb[_0x15b2e7(0x39e)](_0x15b2e7(0x1d9),{'hour12':![]}));return;}if(_0x3051e1&&_0x657927>_0x3051e1){showMessage(_0x15b2e7(0x940));return;}}const _0xe29a21=currentQuizData[_0x15b2e7(0x4b4)];currentProjectId=_0xe29a21;const _0x254ce6=doc(db,_0x15b2e7(0x418)+appId+_0x15b2e7(0x664),_0xe29a21),_0xc6812=await getDoc(_0x254ce6);if(!_0xc6812[_0x15b2e7(0x6f9)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x168ce2=_0xc6812['data']();currentStudentProjectData=_0x168ce2,displayStudentNameSelector(_0x168ce2[_0x15b2e7(0x282)],currentQuizData[_0x15b2e7(0x411)]);}catch(_0x22c963){console[_0x15b2e7(0x51e)](_0x15b2e7(0x538),_0x22c963),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x15b2e7(0x86f)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x29caf2=_0x361958,_0x475480=document['getElementById'](_0x29caf2(0xca1)),_0x39b10f=document[_0x29caf2(0x403)]('nickname-input'),_0x937df3=document[_0x29caf2(0x403)](_0x29caf2(0xa9c)),_0x74e961=_0x475480[_0x29caf2(0x491)][_0x29caf2(0x783)](),_0x258ece=_0x39b10f[_0x29caf2(0x491)][_0x29caf2(0x783)]();if(!_0x74e961||!_0x258ece){showMessage(_0x29caf2(0x552));return;}_0x937df3[_0x29caf2(0x79a)]=!![],_0x937df3['innerHTML']=_0x29caf2(0x489);try{const _0x206160=collection(db,_0x29caf2(0x418)+appId+_0x29caf2(0xb0c)),_0xe584c3=query(_0x206160,where(_0x29caf2(0x9fc),'==',_0x74e961),where(_0x29caf2(0x6b5),'in',[_0x29caf2(0x41c),_0x29caf2(0x852)])),_0x50a2de=await getDocs(_0xe584c3);if(_0x50a2de['empty']){showMessage(_0x29caf2(0xb85));return;}const _0x1104e8=_0x50a2de[_0x29caf2(0x5b2)][0x0],_0xd53e86=_0x1104e8['data']();currentLiveGameId=_0x1104e8['id'];const _0x2cc784=_0xd53e86[_0x29caf2(0x705)],_0x64a328=doc(db,_0x29caf2(0x418)+appId+'/public/data/quizzes',_0x2cc784),_0x53b1cd=await getDoc(_0x64a328);if(!_0x53b1cd[_0x29caf2(0x6f9)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x53b1cd['id'],..._0x53b1cd[_0x29caf2(0xaff)]()};if(_0xd53e86[_0x29caf2(0x414)]&&_0xd53e86[_0x29caf2(0x414)][_0x258ece]){const _0x23047=_0xd53e86[_0x29caf2(0x414)][_0x258ece];if(_0x23047[_0x29caf2(0x6b5)]===_0x29caf2(0x203)){_0x937df3['innerHTML']=_0x29caf2(0x7dd);const _0x293754={};_0x293754[_0x29caf2(0x1d7)+_0x258ece+'.status']=_0x29caf2(0x70f),await updateDoc(doc(db,'artifacts/'+appId+_0x29caf2(0xb0c),currentLiveGameId),_0x293754),showView(_0x29caf2(0xb84)),currentStudentName=_0x258ece,listenForLiveGameUpdates();return;}else{showMessage(_0x29caf2(0x6a3));return;}}if(_0xd53e86[_0x29caf2(0x6b5)]!==_0x29caf2(0x41c)){showMessage(_0x29caf2(0xb80));return;}_0x937df3['innerHTML']=_0x29caf2(0x5cc);const _0xab9d51={};_0xab9d51[_0x29caf2(0x1d7)+_0x258ece]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x29caf2(0x70f)},await updateDoc(doc(db,'artifacts/'+appId+_0x29caf2(0xb0c),currentLiveGameId),_0xab9d51),currentStudentName=_0x258ece,listenForLiveGameUpdates();}catch(_0x18fb2b){console['error'](_0x29caf2(0x4b5),_0x18fb2b),showMessage(_0x29caf2(0x8a3));}finally{_0x937df3[_0x29caf2(0x79a)]=![],_0x937df3[_0x29caf2(0x86f)]=_0x29caf2(0x71b);}}function displayStudentNameSelector(_0x446e1f,_0x3c98a2){const _0x2b85b9=_0x361958,_0x27f22d=document[_0x2b85b9(0x403)](_0x2b85b9(0x265));document[_0x2b85b9(0x403)](_0x2b85b9(0x2d1))[_0x2b85b9(0x317)]=_0x2b85b9(0x69c)+_0x3c98a2,!_0x446e1f||_0x446e1f['length']===0x0?(_0x27f22d[_0x2b85b9(0x86f)]=_0x2b85b9(0xb44),startQuizBtn[_0x2b85b9(0x79a)]=!![]):(_0x27f22d[_0x2b85b9(0x86f)]=_0x2b85b9(0x9d6),_0x446e1f[_0x2b85b9(0x384)](_0x12720f=>{const _0x2d7072=_0x2b85b9,_0x3e5ef9=document[_0x2d7072(0xccc)](_0x2d7072(0x628));_0x3e5ef9[_0x2d7072(0x491)]=_0x12720f,_0x3e5ef9['textContent']=_0x12720f,_0x27f22d[_0x2d7072(0x3c3)](_0x3e5ef9);}),startQuizBtn[_0x2b85b9(0x79a)]=![]),studentInitialView[_0x2b85b9(0x67e)][_0x2b85b9(0x7be)](_0x2b85b9(0x17c)),studentNameSelectionView[_0x2b85b9(0x67e)][_0x2b85b9(0x3e9)](_0x2b85b9(0x17c));}function shuffleArray(_0x364f2f){const _0x139a3a=_0x361958;for(let _0x4e04e3=_0x364f2f[_0x139a3a(0x6b7)]-0x1;_0x4e04e3>0x0;_0x4e04e3--){const _0x3e363e=Math[_0x139a3a(0x15f)](Math[_0x139a3a(0x427)]()*(_0x4e04e3+0x1));[_0x364f2f[_0x4e04e3],_0x364f2f[_0x3e363e]]=[_0x364f2f[_0x3e363e],_0x364f2f[_0x4e04e3]];}}function getShuffledQuiz(_0x41267b){const _0x1d954e=_0x361958;let _0x46539e=JSON[_0x1d954e(0xa51)](JSON[_0x1d954e(0xa24)](_0x41267b));const _0x36fa81=_0x46539e[_0x1d954e(0x3f9)]?.['shuffle']||_0x1d954e(0x103);if(_0x36fa81===_0x1d954e(0x103))return _0x46539e;return(_0x36fa81==='questions_only'||_0x36fa81===_0x1d954e(0x4f3))&&shuffleArray(_0x46539e['questions']),(_0x36fa81===_0x1d954e(0x1be)||_0x36fa81==='both')&&_0x46539e[_0x1d954e(0x707)][_0x1d954e(0x384)](_0x1c3278=>{const _0xa5a1b0=_0x1d954e,_0x1a7028=_0x1c3278[_0xa5a1b0(0x30c)]||_0x46539e[_0xa5a1b0(0x94d)];if(_0x1c3278[_0xa5a1b0(0x6a5)]){let _0x4b84f9=_0x1c3278[_0xa5a1b0(0x6a5)][_0xa5a1b0(0x961)]((_0x14576c,_0x55902d)=>({'text':_0x14576c,'isCorrect':_0x55902d===_0x1c3278[_0xa5a1b0(0x47b)]}));shuffleArray(_0x4b84f9),_0x1c3278[_0xa5a1b0(0x6a5)]=_0x4b84f9[_0xa5a1b0(0x961)](_0x219f10=>_0x219f10[_0xa5a1b0(0x90b)]),_0x1c3278[_0xa5a1b0(0x47b)]=_0x4b84f9[_0xa5a1b0(0x241)](_0x4b74df=>_0x4b74df[_0xa5a1b0(0x4dd)]);}_0x1a7028==='matching_item'&&_0x1c3278[_0xa5a1b0(0xaa2)]&&shuffleArray(_0x1c3278[_0xa5a1b0(0xaa2)]);}),_0x46539e;}function displayQuizForStudent(_0x3916df){const _0x41160f=_0x361958;studentQuizArea[_0x41160f(0x67e)]['remove'](_0x41160f(0x17c)),currentDisplayedQuiz=getShuffledQuiz(_0x3916df);currentMode!==_0x41160f(0x336)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x41160f(0x224)](_0x41160f(0x37d),handleFullscreenChange),document['addEventListener']('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x41160f(0x224)](_0x41160f(0x8c8),resetDimTimer),window['addEventListener'](_0x41160f(0x541),resetDimTimer),window[_0x41160f(0x224)]('touchstart',resetDimTimer),window[_0x41160f(0x224)](_0x41160f(0xbe5),resetDimTimer),resetDimTimer());const _0x5b1400=currentDisplayedQuiz[_0x41160f(0x3f9)]?.[_0x41160f(0xacc)]||_0x41160f(0x103);if(_0x5b1400==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x41160f(0x3f9)][_0x41160f(0x959)]);else _0x5b1400===_0x41160f(0x7a2)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x24304a=_0x361958,_0x501ec6=currentDisplayedQuiz['settings']?.[_0x24304a(0x131)]===!![],_0x348860=currentDisplayedQuiz[_0x24304a(0x3f9)]?.['confidenceMode']||_0x24304a(0x885);let _0x1ac492=_0x24304a(0x53a)+currentDisplayedQuiz[_0x24304a(0x411)]+_0x24304a(0x6e1)+(currentMode===_0x24304a(0x336)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x24304a(0xcf1);currentDisplayedQuiz[_0x24304a(0x707)]['forEach']((_0x4acfbc,_0x109cb1)=>{const _0x4668bd=_0x24304a,_0x5a4a3c=_0x4acfbc[_0x4668bd(0x30c)]||currentDisplayedQuiz['quizType'];_0x1ac492+=_0x4668bd(0x6e5);if(_0x5a4a3c==='matching_item'){}else _0x1ac492+=_0x4668bd(0x93e)+(_0x109cb1+0x1)+'.\x20'+(_0x4acfbc[_0x4668bd(0x9b6)]||_0x4acfbc['questionText'])+_0x4668bd(0x86d),_0x4acfbc[_0x4668bd(0x1ef)]&&(_0x1ac492+=_0x4668bd(0xc4f)+_0x4acfbc[_0x4668bd(0x1ef)]+_0x4668bd(0x517));_0x1ac492+=_0x4668bd(0x381);switch(_0x5a4a3c){case _0x4668bd(0x385):_0x1ac492+=_0x4668bd(0x811)+_0x109cb1+_0x4668bd(0xaed);break;case _0x4668bd(0x891):_0x1ac492+=_0x4668bd(0x648)+_0x109cb1+_0x4668bd(0x5ce)+_0x109cb1+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x109cb1+'_opt0\x22>ใช่</label></div>',_0x1ac492+=_0x4668bd(0x648)+_0x109cb1+'_opt1\x22\x20name=\x22question'+_0x109cb1+_0x4668bd(0x5eb)+_0x109cb1+_0x4668bd(0x3a7);break;case _0x4668bd(0x886):_0x1ac492+=_0x4668bd(0x73a)+_0x4acfbc[_0x4668bd(0xb42)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x109cb1+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4acfbc[_0x4668bd(0xaa2)]['map'](_0x557d04=>_0x4668bd(0x7f5)+_0x557d04+'\x22>'+_0x557d04+_0x4668bd(0x53d))[_0x4668bd(0xbcc)]('')+_0x4668bd(0xb2c);break;default:_0x1ac492+=_0x4acfbc['options'][_0x4668bd(0x961)]((_0x30b83f,_0x592434)=>_0x4668bd(0x16d)+_0x109cb1+'_opt'+_0x592434+_0x4668bd(0x281)+_0x109cb1+'\x22\x20value=\x22'+_0x592434+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x109cb1+_0x4668bd(0x64a)+_0x592434+'\x22>'+_0x30b83f+_0x4668bd(0x9ee))[_0x4668bd(0xbcc)]('');break;}_0x1ac492+='</div>',_0x501ec6&&(_0x1ac492+=_0x4668bd(0x696),_0x348860==='mandatory'?_0x1ac492+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x109cb1+_0x4668bd(0xcbd)+_0x109cb1+_0x4668bd(0x719)+_0x109cb1+_0x4668bd(0x8f9)+_0x109cb1+_0x4668bd(0xab4):_0x1ac492+=_0x4668bd(0x6d1)+_0x109cb1+_0x4668bd(0xcbd)+_0x109cb1+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0x109cb1+_0x4668bd(0x323),_0x1ac492+=_0x4668bd(0x517)),_0x1ac492+=_0x4668bd(0x517);}),_0x1ac492+=_0x24304a(0x1d5),_0x1ac492+=_0x24304a(0x2ee),studentQuizArea[_0x24304a(0x86f)]=_0x1ac492;if(currentMode===_0x24304a(0x336)){const _0x25a7a1=document[_0x24304a(0x403)](_0x24304a(0xb0f));if(_0x25a7a1)_0x25a7a1[_0x24304a(0x224)](_0x24304a(0x920),cancelAdminTest);}const _0x25d820=document[_0x24304a(0x403)](_0x24304a(0x3d9));_0x25d820&&(_0x25d820[_0x24304a(0x224)](_0x24304a(0xc8c),handleSubmitQuiz),_0x25d820[_0x24304a(0x224)](_0x24304a(0x920),_0x42313f=>{const _0x3071bc=_0x24304a;if(_0x42313f[_0x3071bc(0xe9)][_0x3071bc(0x67e)][_0x3071bc(0x322)](_0x3071bc(0x25b))){const _0x49d95d=_0x42313f['target'],_0x15eada=_0x49d95d[_0x3071bc(0x8c4)]['questionIndex'],_0x402334=_0x49d95d['dataset'][_0x3071bc(0x491)];document[_0x3071bc(0x403)](_0x3071bc(0x8b3)+_0x15eada)[_0x3071bc(0x491)]=_0x402334;const _0x4a0dbf=_0x49d95d[_0x3071bc(0x3bf)];_0x4a0dbf[_0x3071bc(0x2c6)](_0x3071bc(0xcf5))[_0x3071bc(0x384)](_0x31a719=>_0x31a719['classList']['remove'](_0x3071bc(0x70f))),_0x49d95d['classList'][_0x3071bc(0x7be)](_0x3071bc(0x70f));}}));if(window['MathJax'])window['MathJax'][_0x24304a(0x738)]([studentQuizArea]);}async function handleSubmitQuiz(_0x460f2e){const _0x323e59=_0x361958;if(_0x460f2e)_0x460f2e[_0x323e59(0x27f)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x4f2d6c=document[_0x323e59(0x403)]('quiz-form');if(!_0x4f2d6c)return;const _0x4ecd26=currentDisplayedQuiz['settings']?.[_0x323e59(0x131)]===!![],_0x49bae5=currentDisplayedQuiz[_0x323e59(0x3f9)]?.[_0x323e59(0x129)]||'checkbox';if(_0x4ecd26&&_0x49bae5===_0x323e59(0xb23)){let _0x4f272c=!![];for(let _0x4cd825=0x0;_0x4cd825<currentDisplayedQuiz[_0x323e59(0x707)][_0x323e59(0x6b7)];_0x4cd825++){const _0x489fb3=_0x4f2d6c[_0x323e59(0x314)]('#confidence-input-'+_0x4cd825);if(!_0x489fb3||_0x489fb3[_0x323e59(0x491)]===''){_0x4f272c=![];break;}}if(!_0x4f272c){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x547f8d=_0x4f2d6c[_0x323e59(0x314)](_0x323e59(0x470)),_0x1fed5c=currentDisplayedQuiz['questions'][_0x323e59(0xc30)](_0x5e1362=>_0x5e1362['questionType']===_0x323e59(0x385));_0x547f8d&&(_0x547f8d['disabled']=!![],_0x547f8d[_0x323e59(0x86f)]=_0x1fed5c?_0x323e59(0xa82):'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x5ebf65=new FormData(_0x4f2d6c),_0x2c53be=currentDisplayedQuiz['questions'][_0x323e59(0x961)]((_0x4ec2da,_0x2b5325)=>{const _0x199479=_0x323e59,_0xfae7fd=_0x5ebf65[_0x199479(0x6cb)](_0x199479(0x852)+_0x2b5325);let _0x4370b6;_0x49bae5===_0x199479(0xb23)?_0x4370b6=_0x5ebf65[_0x199479(0x6cb)](_0x199479(0x466)+_0x2b5325):_0x4370b6=_0x5ebf65[_0x199479(0x6cb)](_0x199479(0x466)+_0x2b5325)==='on';let _0x1c2d2e=null;if(_0xfae7fd!==null&&_0xfae7fd!==undefined){const _0x538939=_0x4ec2da[_0x199479(0x30c)]||currentDisplayedQuiz[_0x199479(0x94d)];_0x538939==='multiple_choice'||_0x538939==='fill_in_the_blank'?_0x1c2d2e=parseInt(_0xfae7fd):_0x1c2d2e=_0xfae7fd;}return{'answer':_0x1c2d2e,'wasConfident':_0x4370b6};}),_0x4acccf=currentQuizData['id'],_0x50daa1=doc(db,_0x323e59(0x418)+appId+'/public/data/quizzes/'+_0x4acccf+'/submissions',currentStudentName),_0x2e87c6=await getDoc(_0x50daa1),_0x4b1ae0=_0x2e87c6[_0x323e59(0x6f9)]()?_0x2e87c6['data']():{},_0x3984ee=_0x4b1ae0[_0x323e59(0x723)]||[];await processAndSubmitAnswers(_0x2c53be,_0x3984ee);}async function gradeShortAnswerWithAI(_0x3cab11,_0x47a54b){const _0x2a0cc5=_0x361958;if(!_0x3cab11||!_0x47a54b)return![];try{const _0x22ed9f='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x3cab11+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x47a54b+_0x2a0cc5(0x2c0),_0x1fc18e={'contents':[{'role':_0x2a0cc5(0xb62),'parts':[{'text':_0x22ed9f}]}]},_0x45e8d8=_0x2a0cc5(0x7f6),_0x215442=_0x2a0cc5(0x2bc)+_0x45e8d8,_0x42dfb5=await fetch(_0x215442,{'method':_0x2a0cc5(0x809),'headers':{'Content-Type':_0x2a0cc5(0x912)},'body':JSON['stringify'](_0x1fc18e)});if(!_0x42dfb5['ok'])throw new Error('API\x20call\x20failed');const _0x1f2d8b=await _0x42dfb5[_0x2a0cc5(0x916)](),_0x302396=_0x1f2d8b[_0x2a0cc5(0xa3c)][0x0][_0x2a0cc5(0x1ab)][_0x2a0cc5(0x7ff)][0x0]['text'][_0x2a0cc5(0x783)]()[_0x2a0cc5(0x985)]();return _0x302396===_0x2a0cc5(0x4db);}catch(_0x1a5ecd){return console[_0x2a0cc5(0x51e)]('AI\x20grading\x20failed:',_0x1a5ecd),![];}}async function processAndSubmitAnswers(_0x3b13ee,_0x3395a6){const _0x52c792=_0x361958;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x52c792(0xb35)](_0x52c792(0x37d),handleFullscreenChange),document[_0x52c792(0xb35)](_0x52c792(0x711),handleVisibilityChange);let _0x279206=0x0;const _0x26e187=[],_0x4ea8eb=currentDisplayedQuiz[_0x52c792(0x707)][_0x52c792(0x6b7)];let _0x36c1b8=0x0,_0x141ca9=[];const _0x1b2305=currentDisplayedQuiz[_0x52c792(0x707)];for(let _0x31444a=0x0;_0x31444a<_0x1b2305[_0x52c792(0x6b7)];_0x31444a++){const _0xf0d4db=_0x1b2305[_0x31444a],_0x438e7e=_0x3b13ee[_0x31444a],_0x3edf99=_0x438e7e?_0x438e7e[_0x52c792(0x7b2)]:null,_0x31f7d9=_0x438e7e?_0x438e7e['wasConfident']:null;let _0x57cb4c=![],_0x525974=0x0;if(_0x3edf99!==null&&_0x3edf99!==''){const _0x1dd056=_0xf0d4db[_0x52c792(0x30c)]||currentDisplayedQuiz[_0x52c792(0x94d)];switch(_0x1dd056){case'matching_item':_0x57cb4c=_0x3edf99===_0xf0d4db[_0x52c792(0x8c7)];break;case _0x52c792(0x891):const _0x4d8a45=_0x3edf99===!![]||_0x3edf99===_0x52c792(0x4db);_0x57cb4c=_0x4d8a45===_0xf0d4db[_0x52c792(0xc73)];break;case _0x52c792(0x385):_0x57cb4c=await gradeShortAnswer(_0x3edf99,_0xf0d4db);break;case _0x52c792(0x736):default:_0x57cb4c=Number(_0x3edf99)===_0xf0d4db[_0x52c792(0x47b)];break;}}if(currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']){const _0x1dec81=_0x438e7e?_0x438e7e[_0x52c792(0x481)]:null;if(_0x57cb4c&&(_0x1dec81===!![]||_0x1dec81===_0x52c792(0x28a)))_0x525974=0x2;else{if(_0x57cb4c)_0x525974=0x1;else{if(!_0x57cb4c&&(_0x1dec81===![]||_0x1dec81===_0x52c792(0x275)||_0x1dec81===null))_0x525974=0x0;else!_0x57cb4c&&(_0x1dec81===!![]||_0x1dec81===_0x52c792(0x28a))&&(_0x525974=-0x1);}}}else _0x525974=_0x57cb4c?0x1:0x0;_0x279206+=_0x525974;if(_0x57cb4c){_0x36c1b8++;if(_0x36c1b8===0x3)_0x141ca9[_0x52c792(0x798)](BADGES[_0x52c792(0x1dc)]['id']);}else _0x36c1b8=0x0;let _0x41dfa0=null;_0xf0d4db['options']&&_0x3edf99!==null&&(_0x41dfa0=_0xf0d4db['options'][_0x3edf99]),_0x26e187[_0x52c792(0x798)]({'questionId':_0xf0d4db['id'],'answer':_0x3edf99,'answerText':_0x41dfa0,'isCorrect':_0x57cb4c,'wasConfident':_0x31f7d9,'pointsAwarded':_0x525974,'originalQuestionText':_0xf0d4db[_0x52c792(0xb42)]||_0xf0d4db['questionText']});}const _0x450ac0=_0x26e187['filter'](_0x1541bb=>_0x1541bb[_0x52c792(0x4dd)])[_0x52c792(0x6b7)],_0x1fd83e=currentDisplayedQuiz['settings']?.['passingScore']??Math[_0x52c792(0x15f)](_0x4ea8eb/0x2);_0x450ac0===_0x4ea8eb&&_0x4ea8eb>0x0&&!currentDisplayedQuiz[_0x52c792(0x7bd)]&&_0x141ca9[_0x52c792(0x798)](BADGES[_0x52c792(0x66d)]['id']);const _0x40c4a8=currentDisplayedQuiz[_0x52c792(0x3f9)]?.[_0x52c792(0xacc)];if(_0x40c4a8==='whole_quiz'&&quizStartTime){const _0xef9ae2=(new Date()-quizStartTime)/0x3e8,_0x47c083=currentDisplayedQuiz[_0x52c792(0x3f9)]['timerDuration']*0x3c;_0x450ac0>=_0x1fd83e&&_0xef9ae2<_0x47c083/0x2&&_0x141ca9[_0x52c792(0x798)](BADGES['QUICK_THINKER']['id']);}_0x3395a6[_0x52c792(0x6b7)]===0x0&&_0x450ac0===_0x4ea8eb&&_0x4ea8eb>0x0&&_0x141ca9[_0x52c792(0x798)](BADGES['FIRST_TRY_ACE']['id']);if(_0x3395a6[_0x52c792(0x6b7)]>0x0){const _0x20a570=_0x3395a6[0x0][_0x52c792(0xa6e)];if(_0x20a570<_0x1fd83e&&_0x450ac0>=_0x1fd83e){const _0x3995cf=_0x3395a6[_0x52c792(0xc30)](_0x4daacb=>(_0x4daacb[_0x52c792(0x3b7)]||[])[_0x52c792(0x801)](BADGES[_0x52c792(0x64d)]['id']));!_0x3995cf&&_0x141ca9[_0x52c792(0x798)](BADGES['COMEBACK_KING']['id']);}}_0x3395a6[_0x52c792(0x6b7)]===0x4&&_0x141ca9['push'](BADGES[_0x52c792(0x419)]['id']);const _0x3c8c29=currentDisplayedQuiz[_0x52c792(0x3f9)][_0x52c792(0x9a0)];if(currentMode==='admin-testing'){handleResultDisplay(_0x3c8c29,_0x450ac0,_0x279206,_0x141ca9,_0x26e187,_0x4ea8eb);return;}const _0x5e2d0c=currentQuizData['id'],_0x2f242b=doc(db,'artifacts/'+appId+_0x52c792(0xa18)+_0x5e2d0c+'/submissions',currentStudentName);try{const _0x361947=[..._0x3395a6],_0x2b1742={'score':_0x450ac0,'points':_0x279206,'badges':Array[_0x52c792(0x70c)](new Set(_0x141ca9)),'submittedAt':new Date()[_0x52c792(0x31c)](),'answers':_0x26e187};_0x361947[_0x52c792(0x798)](_0x2b1742);const _0x639665=_0x3395a6[_0x52c792(0x6b7)]===0x0?_0x450ac0:_0x3395a6[0x0]['score']||0x0,_0x5bdad9=Math[_0x52c792(0x773)](..._0x361947[_0x52c792(0x961)](_0x339fd9=>_0x339fd9[_0x52c792(0xa6e)]));await setDoc(_0x2f242b,{'studentName':currentStudentName,'totalQuestions':_0x4ea8eb,'attempts':_0x361947,'firstScore':_0x639665,'bestScore':_0x5bdad9,'latestScore':_0x450ac0,'points':_0x279206,'latestSubmittedAt':_0x2b1742['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x52c792(0x4b4)],currentStudentName),handleResultDisplay(_0x3c8c29,_0x450ac0,_0x279206,_0x141ca9,_0x26e187,_0x4ea8eb);}catch(_0x2abd29){console[_0x52c792(0x51e)]('Error\x20saving\x20submission:',_0x2abd29),showMessage(_0x52c792(0xb17));}}async function updateStudentProfile(_0x381d63,_0x3779ec){const _0x1186e8=_0x361958,_0x5ae160=doc(db,_0x1186e8(0x418)+appId+_0x1186e8(0x525)+_0x381d63+_0x1186e8(0x478),_0x3779ec);try{const _0x31f170=query(collection(db,'artifacts/'+appId+_0x1186e8(0x34c)),where(_0x1186e8(0x4b4),'==',_0x381d63)),_0xb189d0=await getDocs(_0x31f170),_0x401083=new Map(_0xb189d0[_0x1186e8(0x5b2)]['map'](_0x24dc74=>[_0x24dc74['id'],_0x24dc74['data']()])),_0x485981=Array['from'](_0x401083[_0x1186e8(0x293)]());await runTransaction(db,async _0x46057b=>{const _0x378719=_0x1186e8;let _0x3c7048=0x0;const _0x16e81c={};let _0x1724d4=!![],_0x1f2645=0x0,_0x403f32=0x0;for(const _0x473987 of _0x485981){const _0x4ebc60=_0x401083[_0x378719(0x6cb)](_0x473987),_0x400478=doc(db,'artifacts/'+appId+_0x378719(0xa18)+_0x473987+'/submissions',_0x3779ec),_0x326a72=await _0x46057b[_0x378719(0x6cb)](_0x400478);if(_0x326a72[_0x378719(0x6f9)]()){const _0x33057b=_0x326a72[_0x378719(0xaff)](),_0x453382=_0x33057b[_0x378719(0x723)]||[];if(_0x453382[_0x378719(0x6b7)]>0x0){const _0x354152=_0x453382[_0x378719(0xac1)]((_0x39c239,_0x23f7e3)=>{const _0x4cd520=_0x378719;if(_0x23f7e3['score']>_0x39c239[_0x4cd520(0xa6e)])return _0x23f7e3;if(_0x23f7e3[_0x4cd520(0xa6e)]===_0x39c239[_0x4cd520(0xa6e)])return(_0x23f7e3['points']||0x0)>(_0x39c239['points']||0x0)?_0x23f7e3:_0x39c239;return _0x39c239;},{'score':-0x1,'points':-0x1});_0x354152[_0x378719(0xa6e)]>-0x1&&(_0x3c7048+=_0x354152['points']||0x0,(_0x354152[_0x378719(0x3b7)]||[])[_0x378719(0x384)](_0x19d547=>{_0x16e81c[_0x19d547]=(_0x16e81c[_0x19d547]||0x0)+0x1;}));}}if(_0x4ebc60[_0x378719(0x411)]!==_0x378719(0x389)){_0x403f32++;if(_0x326a72[_0x378719(0x6f9)]()){_0x1f2645++;const _0x4269ce=_0x326a72['data']();_0x4269ce[_0x378719(0x11a)]!==_0x4269ce[_0x378719(0xcf)]&&(_0x1724d4=![]);}else _0x1724d4=![];}}_0x403f32>0x0&&_0x1f2645===_0x403f32&&_0x1724d4?_0x16e81c[_0x378719(0x4eb)]=0x1:_0x16e81c[_0x378719(0x4eb)]=0x0,_0x46057b[_0x378719(0x3a8)](_0x5ae160,{'studentName':_0x3779ec,'totalPoints':_0x3c7048,'unlockedBadges':Object[_0x378719(0x293)](_0x16e81c)['filter'](_0x3ca54d=>_0x16e81c[_0x3ca54d]>0x0),'badgesCount':_0x16e81c},{'merge':!![]});});}catch(_0x18ffa6){console[_0x1186e8(0x51e)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x18ffa6),showMessage(_0x1186e8(0x4b8));}}function startAdminTest(){const _0x550f56=_0x361958;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x54c870=JSON[_0x550f56(0xa51)](JSON[_0x550f56(0xa24)](currentQuizData));currentMode=_0x550f56(0x336),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView['classList']['add']('hidden'),studentView[_0x550f56(0x67e)]['remove'](_0x550f56(0x17c)),studentInitialView['classList'][_0x550f56(0x7be)](_0x550f56(0x17c)),studentNameSelectionView[_0x550f56(0x67e)][_0x550f56(0x7be)]('hidden'),studentResultArea['classList']['add'](_0x550f56(0x17c)),studentQuizArea[_0x550f56(0x67e)]['remove'](_0x550f56(0x17c)),quizStartTime=new Date(),displayQuizForStudent(_0x54c870);}function handleResultDisplay(_0x356c0a,_0x208be2,_0x251d07,_0x4f9e07,_0x2e14fb,_0xffeab9){const _0x10c30c=_0x361958;if(_0x356c0a===_0x10c30c(0xbad)){displaySubmissionConfirmation();return;}const _0x1ea71b=currentDisplayedQuiz[_0x10c30c(0x3f9)]?.[_0x10c30c(0x8d3)]??Math['floor'](_0xffeab9/0x2),_0x4a67d1=currentDisplayedQuiz[_0x10c30c(0x3f9)]?.[_0x10c30c(0x670)]??![],_0x444dc9=currentDisplayedQuiz[_0x10c30c(0x3f9)]?.[_0x10c30c(0xabe)]===!![],_0x4e71cd=_0x208be2<_0x1ea71b,_0x3ad0de=_0x356c0a===_0x10c30c(0x84e)||_0x356c0a===_0x10c30c(0xcf3);if(_0x444dc9&&_0x4e71cd&&!_0x3ad0de){_0x356c0a==='show_results_and_answers'?displayResultsWithAnswers(_0x208be2,_0x251d07,_0x4f9e07,_0x2e14fb,_0xffeab9,!![]):displayLoopScreen(_0x208be2,_0xffeab9,_0x356c0a);return;}if(_0x4a67d1&&_0x4e71cd){startAdaptiveFlow(_0x2e14fb,_0x208be2,_0xffeab9);return;}switch(_0x356c0a){case _0x10c30c(0xa46):displayResultsWithAnswers(_0x208be2,_0x251d07,_0x4f9e07,_0x2e14fb,_0xffeab9);break;case _0x10c30c(0x20b):displayResultsScoreOnly(_0x208be2,_0x251d07,_0x4f9e07,_0xffeab9);break;case _0x10c30c(0x7cb):displayPassFailOnly(_0x208be2,_0xffeab9);break;case'half_mark_status':displayHalfMarkResult(_0x208be2,_0xffeab9);break;case _0x10c30c(0xcf3):displayPerfectScoreResult(_0x208be2,_0xffeab9);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x46db60){const _0x1626c4=_0x361958;studentReadingArea[_0x1626c4(0x86f)]=_0x1626c4(0x11e);const _0x37c813=_0x1626c4(0xc27)+_0x46db60+_0x1626c4(0xa13)+simpleMathPrompt+_0x1626c4(0x6a9),_0x4603bd={'type':_0x1626c4(0xbb5),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x1626c4(0xb41),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1626c4(0x6b8)},'explanation':{'type':_0x1626c4(0xef)}},'required':[_0x1626c4(0xf5),_0x1626c4(0x6a5),_0x1626c4(0x47b),_0x1626c4(0x923)]},_0x316605={'type':_0x1626c4(0xbb5),'properties':{'topic':{'type':_0x1626c4(0xef)},'questions':{'type':_0x1626c4(0xb41),'items':_0x4603bd}},'required':[_0x1626c4(0x411),_0x1626c4(0x707)]};try{const _0x230571=await callAnalysisApi(_0x37c813,_0x316605);_0x230571[_0x1626c4(0x7bd)]=!![],studentReadingArea[_0x1626c4(0x67e)][_0x1626c4(0x7be)](_0x1626c4(0x17c));const _0x5f0c41={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x230571[_0x1626c4(0x3f9)]=_0x5f0c41,displayQuizForStudent(_0x230571);}catch(_0x2e6109){console[_0x1626c4(0x51e)]('Remedial\x20quiz\x20generation\x20failed:',_0x2e6109),showMessage(_0x1626c4(0x2ef)),showView('student');}}function displayPassFailOnly(_0x3ba247,_0x5bcbd5){const _0x394f84=_0x361958,_0x303ca2=currentDisplayedQuiz[_0x394f84(0x3f9)]?.[_0x394f84(0x8d3)]??-0x1,_0x18e123=currentDisplayedQuiz[_0x394f84(0x7bd)]===!![];let _0x1fc41f='',_0x4fd187=![];if(_0x18e123||_0x303ca2!==-0x1){_0x4fd187=_0x18e123?_0x3ba247===_0x5bcbd5:_0x3ba247>=_0x303ca2;const _0x1edc9d=_0x4fd187?_0x394f84(0x62b):_0x394f84(0xbd6),_0x15a4cf=_0x4fd187?_0x394f84(0xa90):'ไม่ผ่าน';_0x1fc41f=_0x394f84(0x29f)+_0x1edc9d+'\x22>'+_0x15a4cf+_0x394f84(0x190);}else _0x1fc41f=_0x394f84(0x4a9);let _0x3c8433=_0x394f84(0x6f6)+currentStudentName+_0x394f84(0x868)+_0x1fc41f+_0x394f84(0x87f);studentResultArea[_0x394f84(0x86f)]=_0x3c8433,studentResultArea['classList'][_0x394f84(0x3e9)](_0x394f84(0x17c)),studentQuizArea[_0x394f84(0x67e)][_0x394f84(0x7be)]('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x4fd187});}function cancelAdminTest(){const _0x4183d7=_0x361958;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x4183d7(0xb35)](_0x4183d7(0x37d),handleFullscreenChange),document[_0x4183d7(0xb35)](_0x4183d7(0x711),handleVisibilityChange),currentMode=_0x4183d7(0x5b5),studentView[_0x4183d7(0x67e)][_0x4183d7(0x7be)]('hidden'),adminView[_0x4183d7(0x67e)]['remove']('hidden'),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x4183d7(0x172));}function setupResultScreenBackButton(_0x40dc42){const _0x1d4b0e=_0x361958,_0x53cf48={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x40dc42};if(_0x53cf48[_0x1d4b0e(0xad6)]){const _0x466fdf=_0x1d4b0e(0xbd2);studentResultArea['insertAdjacentHTML']('beforeend',_0x466fdf),document[_0x1d4b0e(0x403)](_0x1d4b0e(0xcea))[_0x1d4b0e(0x224)](_0x1d4b0e(0x920),()=>{const _0xb56530=_0x1d4b0e;studentResultArea[_0xb56530(0x67e)][_0xb56530(0x7be)](_0xb56530(0x17c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x1b3f3a='back-from-results-btn',_0x14fb1=currentMode==='admin-testing',_0x376407=_0x14fb1?_0x1d4b0e(0xb93):_0x1d4b0e(0x9e5);let _0x2f0408='';_0x53cf48[_0x1d4b0e(0x4cb)]&&(_0x2f0408+=_0x1d4b0e(0x1f7));let _0x1a51ad=_0x53cf48['showImproveButton'];_0x1a51ad===undefined&&(_0x1a51ad=_0x53cf48[_0x1d4b0e(0xa6e)]<_0x53cf48['totalQuestions']);_0x1a51ad&&(_0x2f0408+=_0x1d4b0e(0x901));_0x2f0408+=_0x1d4b0e(0x5c8)+_0x1b3f3a+_0x1d4b0e(0x4ac)+_0x376407+'</button>';const _0x4b6c73=_0x1d4b0e(0x2a6)+_0x2f0408+_0x1d4b0e(0x517);studentResultArea['insertAdjacentHTML'](_0x1d4b0e(0xc9b),_0x4b6c73),studentResultArea[_0x1d4b0e(0x314)](_0x1d4b0e(0x75b))?.[_0x1d4b0e(0x224)](_0x1d4b0e(0x920),handleShowStudentRankings);const _0x5e8857=studentResultArea[_0x1d4b0e(0x314)](_0x1d4b0e(0xaf5));_0x5e8857&&_0x5e8857[_0x1d4b0e(0x224)]('click',()=>{const _0x269b4c=_0x1d4b0e;studentResultArea[_0x269b4c(0x67e)][_0x269b4c(0x7be)](_0x269b4c(0x17c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x1d4b0e(0x403)](_0x1b3f3a)['addEventListener']('click',()=>{const _0x4c4e9d=_0x1d4b0e;_0x14fb1?(currentMode='admin',studentView['classList'][_0x4c4e9d(0x7be)](_0x4c4e9d(0x17c)),adminView[_0x4c4e9d(0x67e)]['remove']('hidden'),showView(_0x4c4e9d(0x172))):(showView(_0x4c4e9d(0x412)),document[_0x4c4e9d(0x403)](_0x4c4e9d(0x99b))[_0x4c4e9d(0x491)]='');});}function displayResultsWithAnswers(_0x43f508,_0xada03b,_0x10b735,_0xebc803,_0x23c69c,_0xfe8a3c=![]){const _0x4dc811=_0x361958,_0x311131=_0x23c69c>0x0?_0x43f508/_0x23c69c*0x64:0x0,_0x516901=currentDisplayedQuiz['settings']?.[_0x4dc811(0x8d3)]??-0x1,_0x3bb545=currentDisplayedQuiz['isRemedial']===!![];let _0x114d61='';if(_0x3bb545||_0x516901!==-0x1){let _0x411f2f=_0x3bb545?_0x43f508===_0x23c69c:_0x43f508>=_0x516901;const _0x402af3=_0x411f2f?'bg-green-100\x20text-green-800':_0x4dc811(0xbd6),_0x1853bb=_0x411f2f?'ผ่าน':_0x4dc811(0x838);_0x114d61=_0x4dc811(0x710)+_0x402af3+'\x22>'+_0x1853bb+_0x4dc811(0x86d);}let _0x22bd53=_0x4dc811(0x1f4)+currentStudentName+_0x4dc811(0x4a8)+_0x43f508+_0x4dc811(0xb50)+_0x23c69c+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x114d61+_0x4dc811(0x47f)+_0xada03b+_0x4dc811(0xcff)+_0x311131[_0x4dc811(0x2a0)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x4dc811(0x707)][_0x4dc811(0x384)]((_0x278c93,_0x1fe3df)=>{const _0x27db50=_0x4dc811,_0x28d232=_0xebc803[_0x1fe3df],_0x3a83a7=_0x28d232[_0x27db50(0x7b2)],_0x3c88cb=_0x28d232[_0x27db50(0x4dd)],_0x1bd86c=_0x278c93[_0x27db50(0x30c)]||currentDisplayedQuiz[_0x27db50(0x94d)];_0x22bd53+=_0x27db50(0x5b3)+(_0x3c88cb?_0x27db50(0xca0):_0x27db50(0x299))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x1fe3df+0x1)+'.\x20'+(_0x278c93[_0x27db50(0xb42)]||_0x278c93['questionText'])+_0x27db50(0x5ee);switch(_0x1bd86c){case _0x27db50(0x886):const _0x51aaf6=_0x3a83a7||'ไม่ได้ตอบ',_0x5097f5=_0x278c93[_0x27db50(0x8c7)];_0x22bd53+=_0x27db50(0x288)+(!_0x3c88cb?_0x27db50(0x270):'')+'\x22>'+_0x51aaf6+_0x27db50(0x41d);!_0x3c88cb&&(_0x22bd53+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x5097f5+_0x27db50(0x86d));break;case _0x27db50(0x385):_0x22bd53+=_0x27db50(0xaa4)+(_0x3a83a7||'ไม่ได้ตอบ')+'</p>',_0x22bd53+=_0x27db50(0xc57)+_0x278c93[_0x27db50(0x94b)]+_0x27db50(0x86d);break;case _0x27db50(0x891):_0x22bd53+=_0x27db50(0x660)+(_0x278c93[_0x27db50(0xc73)]===!![]?_0x27db50(0x280):'')+'\x20'+(_0x3a83a7===_0x27db50(0x4db)&&!_0x3c88cb?_0x27db50(0x270):'')+'\x22>ใช่</p>',_0x22bd53+=_0x27db50(0x660)+(_0x278c93[_0x27db50(0xc73)]===![]?_0x27db50(0x280):'')+'\x20'+(_0x3a83a7===_0x27db50(0xcb)&&!_0x3c88cb?_0x27db50(0x270):'')+_0x27db50(0x443);break;default:_0x22bd53+=_0x278c93[_0x27db50(0x6a5)][_0x27db50(0x961)]((_0x54d569,_0x3d4ebd)=>{const _0x2d9cb8=_0x27db50;let _0x328ca5='',_0x80d21b='';if(_0x3d4ebd===_0x278c93[_0x2d9cb8(0x47b)])_0x328ca5=_0x2d9cb8(0x280),_0x80d21b='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x3d4ebd===_0x3a83a7&&(_0x328ca5='font-bold\x20text-red-700\x20line-through',_0x80d21b=_0x2d9cb8(0xa11));return _0x2d9cb8(0x8a2)+_0x328ca5+'\x22>'+_0x80d21b+_0x54d569+'</div>';})[_0x27db50(0xbcc)]('');break;}_0x22bd53+=_0x27db50(0x35a)+(_0x278c93['explanation']||_0x27db50(0xa5a))+_0x27db50(0x517);if(!_0x3c88cb){const _0x2945e2=_0x278c93['stem']||_0x278c93['questionText'];_0x22bd53+=_0x27db50(0x6c8)+escape(_0x2945e2)+_0x27db50(0x1c2);}_0x22bd53+=_0x27db50(0x517);}),studentResultArea[_0x4dc811(0x86f)]=_0x22bd53,renderEarnedBadges(_0x10b735,_0x4dc811(0x263)),studentResultArea['classList'][_0x4dc811(0x3e9)](_0x4dc811(0x17c)),studentQuizArea['classList'][_0x4dc811(0x7be)](_0x4dc811(0x17c)),setupResultScreenBackButton({'isLooping':_0xfe8a3c,'score':_0x43f508,'totalQuestions':_0x23c69c,'showRankings':!![]});if(window[_0x4dc811(0xaeb)])window[_0x4dc811(0xaeb)][_0x4dc811(0x738)]([studentResultArea]);}function displayResultsScoreOnly(_0x351022,_0x18e902,_0x37ac81,_0x1ad379){const _0x49b197=_0x361958,_0x1f0ad9=_0x1ad379>0x0?_0x351022/_0x1ad379*0x64:0x0,_0x48fbe4=currentDisplayedQuiz[_0x49b197(0x3f9)]?.[_0x49b197(0x8d3)]??-0x1,_0x57eb89=currentDisplayedQuiz[_0x49b197(0x7bd)]===!![];let _0x20a8c3='';if(_0x57eb89||_0x48fbe4!==-0x1){let _0xb9dff3=_0x57eb89?_0x351022===_0x1ad379:_0x351022>=_0x48fbe4;const _0x4df1f8=_0xb9dff3?'bg-green-100\x20text-green-800':_0x49b197(0xbd6),_0x50a23d=_0xb9dff3?'ผ่าน':_0x49b197(0x838);_0x20a8c3='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x4df1f8+'\x22>'+_0x50a23d+_0x49b197(0x86d);}let _0x55c85b=_0x49b197(0x6f6)+currentStudentName+_0x49b197(0x925)+_0x351022+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x1ad379+_0x49b197(0x269)+_0x20a8c3+_0x49b197(0x47f)+_0x18e902+_0x49b197(0x59a)+_0x1f0ad9[_0x49b197(0x2a0)](0x0)+_0x49b197(0x74e);studentResultArea[_0x49b197(0x86f)]=_0x55c85b,renderEarnedBadges(_0x37ac81,_0x49b197(0x263)),studentResultArea[_0x49b197(0x67e)]['remove'](_0x49b197(0x17c)),studentQuizArea[_0x49b197(0x67e)]['add'](_0x49b197(0x17c)),setupResultScreenBackButton({'score':_0x351022,'totalQuestions':_0x1ad379,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x4ebe07=_0x361958;let _0x2bf18f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x4ebe07(0x688);studentResultArea['innerHTML']=_0x2bf18f,studentResultArea[_0x4ebe07(0x67e)]['remove'](_0x4ebe07(0x17c)),studentQuizArea[_0x4ebe07(0x67e)][_0x4ebe07(0x7be)](_0x4ebe07(0x17c)),document[_0x4ebe07(0x403)]('back-to-home-manual-release')[_0x4ebe07(0x224)](_0x4ebe07(0x920),()=>{const _0x586f07=_0x4ebe07;showView(_0x586f07(0x412)),document[_0x586f07(0x403)](_0x586f07(0x99b))[_0x586f07(0x491)]='';});}function renderEarnedBadges(_0x9dd7c2,_0x47852b){const _0x64b886=_0x361958,_0x5dad41=document['getElementById'](_0x47852b);if(!_0x5dad41||!_0x9dd7c2||_0x9dd7c2[_0x64b886(0x6b7)]===0x0)return;let _0x338f74='';_0x9dd7c2['forEach']((_0x513f94,_0x4471cf)=>{const _0x37a1ec=_0x64b886,_0x48b064=Object[_0x37a1ec(0x9bd)](BADGES)['find'](_0x511681=>_0x511681['id']===_0x513f94);_0x48b064&&(_0x338f74+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x4471cf*0.2+_0x37a1ec(0x2e9)+_0x48b064[_0x37a1ec(0x8e7)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x48b064['icon']+_0x37a1ec(0xb32)+_0x48b064[_0x37a1ec(0x2ea)]+_0x37a1ec(0x184));}),_0x5dad41[_0x64b886(0x86f)]=_0x338f74;}function startPresentation(_0x4c8952){const _0x128e35=_0x361958;currentQuizData=getShuffledQuiz(_0x4c8952),currentPresentationSlide=0x0,presentationModal[_0x128e35(0x77b)][_0x128e35(0xf0)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x5584d2=_0x361958;document['fullscreenElement']&&document[_0x5584d2(0x580)](),presentationModal['style'][_0x5584d2(0xf0)]=_0x5584d2(0x103);}function renderPresentationSlide(_0x439f62){const _0x568bf0=_0x361958,_0x58e688=document[_0x568bf0(0x403)](_0x568bf0(0x782));if(!currentQuizData||!currentQuizData[_0x568bf0(0x707)]||!currentQuizData[_0x568bf0(0x707)][_0x439f62]){_0x58e688[_0x568bf0(0x86f)]=_0x568bf0(0xbe3);return;}const _0x4171c8=currentQuizData[_0x568bf0(0x707)][_0x439f62],_0x5e558a=_0x4171c8[_0x568bf0(0x30c)]||currentQuizData[_0x568bf0(0x94d)];_0x58e688['innerHTML']='';let _0xb90f5a=_0x568bf0(0x7c3)+(_0x4171c8[_0x568bf0(0x1ef)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4171c8[_0x568bf0(0x1ef)]+_0x568bf0(0x517):'')+_0x568bf0(0x57b)+(_0x439f62+0x1)+'.\x20'+(_0x4171c8[_0x568bf0(0xb42)]||_0x4171c8[_0x568bf0(0xf5)])+_0x568bf0(0xc4a);switch(_0x5e558a){case _0x568bf0(0x886):_0xb90f5a+=_0x4171c8['allResponses'][_0x568bf0(0x961)](_0xb14ae3=>_0x568bf0(0x248)+_0xb14ae3+_0x568bf0(0x23b))[_0x568bf0(0xbcc)]('');break;case'true_false':_0xb90f5a+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0xb90f5a+=_0x568bf0(0x2c2);break;case _0x568bf0(0x163):case _0x568bf0(0x385):_0xb90f5a+=_0x568bf0(0x9e6);break;case'fill_in_the_blank':case _0x568bf0(0x736):default:_0xb90f5a+=_0x4171c8['options'][_0x568bf0(0x961)]((_0x3f7f8d,_0xdb1e88)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0xdb1e88+_0x568bf0(0x6f3)+_0x3f7f8d+_0x568bf0(0x23b))[_0x568bf0(0xbcc)]('');break;}_0xb90f5a+=_0x568bf0(0x717)+(_0x4171c8[_0x568bf0(0x923)]||_0x568bf0(0xa5a))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x58e688[_0x568bf0(0x86f)]=_0xb90f5a;if(window[_0x568bf0(0xaeb)])window[_0x568bf0(0xaeb)][_0x568bf0(0x738)]([_0x58e688]);let _0x39ef66=[];switch(_0x5e558a){case _0x568bf0(0x886):_0x39ef66=_0x4171c8['allResponses']||[];break;case _0x568bf0(0x891):_0x39ef66=[_0x568bf0(0x291),_0x568bf0(0xcda)];break;default:_0x39ef66=_0x4171c8[_0x568bf0(0x6a5)]||[];break;}const _0x3a6f52=document['getElementById'](_0x568bf0(0x9d7));_0x3a6f52&&(_0x3a6f52[_0x568bf0(0x823)]=()=>{openScratchpad(_0x4171c8,_0x39ef66);});document[_0x568bf0(0x2c6)](_0x568bf0(0x7fb))[_0x568bf0(0x384)](_0x5ec4fb=>{const _0x36a6d0=_0x568bf0;_0x5ec4fb[_0x36a6d0(0x224)](_0x36a6d0(0x920),_0x4c84e8=>revealAnswerForPresentation(_0x439f62,_0x4c84e8['currentTarget']));});const _0x33fd18=document[_0x568bf0(0x403)](_0x568bf0(0x7a4));_0x33fd18&&_0x33fd18[_0x568bf0(0x224)](_0x568bf0(0x920),()=>checkShortAnswerForPresentation(_0x439f62)),document[_0x568bf0(0x403)](_0x568bf0(0xb8d))[_0x568bf0(0x317)]=_0x568bf0(0xce7)+(_0x439f62+0x1)+_0x568bf0(0xc41)+currentQuizData[_0x568bf0(0x707)]['length'],document['getElementById'](_0x568bf0(0x539))[_0x568bf0(0x79a)]=_0x439f62===0x0,document['getElementById'](_0x568bf0(0x548))[_0x568bf0(0x79a)]=_0x439f62===currentQuizData[_0x568bf0(0x707)][_0x568bf0(0x6b7)]-0x1;}async function checkShortAnswerForPresentation(_0x1d9a44){const _0x2bd44e=_0x361958,_0x2c272a=currentQuizData[_0x2bd44e(0x707)][_0x1d9a44],_0xfc7889=document[_0x2bd44e(0x403)]('presentation-short-answer-input'),_0x3b247b=document[_0x2bd44e(0x403)](_0x2bd44e(0x7a4)),_0x32a0f4=document['getElementById'](_0x2bd44e(0x148)),_0x4cd5b5=document['getElementById'](_0x2bd44e(0x6b3));if(!_0xfc7889||!_0x3b247b||!_0x32a0f4||!_0x4cd5b5)return;const _0x29021e=_0xfc7889[_0x2bd44e(0x491)]['trim']();if(_0x29021e==='')return;_0x3b247b[_0x2bd44e(0x79a)]=!![],_0x3b247b['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0xfc7889[_0x2bd44e(0x79a)]=!![];const _0x375d7b=await gradeShortAnswer(_0x29021e,_0x2c272a);_0x375d7b?_0x32a0f4[_0x2bd44e(0x86f)]=_0x2bd44e(0x691):_0x32a0f4[_0x2bd44e(0x86f)]=_0x2bd44e(0xbbd)+_0x2c272a['idealAnswer']+')',_0x32a0f4['classList'][_0x2bd44e(0x3e9)]('hidden'),_0x4cd5b5[_0x2bd44e(0x67e)][_0x2bd44e(0x3e9)](_0x2bd44e(0x17c)),_0x3b247b['classList']['add'](_0x2bd44e(0x17c));}function revealAnswerForPresentation(_0x116084,_0x2872ff){const _0x18b495=_0x361958,_0x58c618=currentQuizData[_0x18b495(0x707)][_0x116084],_0x1e7d38=_0x58c618['questionType']||currentQuizData[_0x18b495(0x94d)];document[_0x18b495(0x2c6)](_0x18b495(0x7fb))[_0x18b495(0x384)](_0x593be6=>{const _0x9ed2f5=_0x18b495;_0x593be6[_0x9ed2f5(0x79a)]=!![],_0x593be6['classList'][_0x9ed2f5(0x3e9)](_0x9ed2f5(0x313));let _0x5eabf8=![];if(_0x1e7d38==='multiple_choice'||_0x1e7d38===_0x9ed2f5(0x822)){const _0x2da551=parseInt(_0x593be6[_0x9ed2f5(0x8c4)]['index']);_0x5eabf8=_0x2da551===_0x58c618[_0x9ed2f5(0x47b)];}else{if(_0x1e7d38===_0x9ed2f5(0x891)){const _0x3429b4=_0x593be6[_0x9ed2f5(0x8c4)][_0x9ed2f5(0x7b2)]==='true';_0x5eabf8=_0x3429b4===_0x58c618[_0x9ed2f5(0xc73)];}else _0x1e7d38===_0x9ed2f5(0x886)&&(_0x5eabf8=_0x593be6['textContent']['trim']()===_0x58c618[_0x9ed2f5(0x8c7)]);}_0x5eabf8?_0x593be6['classList']['add']('bg-green-500','text-white','border-green-700'):_0x593be6[_0x9ed2f5(0x67e)][_0x9ed2f5(0x7be)]('opacity-50');}),_0x2872ff[_0x18b495(0x67e)][_0x18b495(0x3e9)](_0x18b495(0x84c));let _0x268ab9=![];if(_0x1e7d38===_0x18b495(0x736))_0x268ab9=parseInt(_0x2872ff[_0x18b495(0x8c4)][_0x18b495(0x4b1)])===_0x58c618[_0x18b495(0x47b)];else{if(_0x1e7d38===_0x18b495(0x891))_0x268ab9=_0x2872ff[_0x18b495(0x8c4)][_0x18b495(0x7b2)]==='true'===_0x58c618[_0x18b495(0xc73)];else _0x1e7d38==='matching_item'&&(_0x268ab9=_0x2872ff[_0x18b495(0x317)][_0x18b495(0x783)]()===_0x58c618[_0x18b495(0x8c7)]);}!_0x268ab9&&_0x2872ff[_0x18b495(0x67e)][_0x18b495(0x7be)](_0x18b495(0x62f),_0x18b495(0x138),'border-red-700'),document[_0x18b495(0x403)]('presentation-explanation')[_0x18b495(0x67e)][_0x18b495(0x3e9)](_0x18b495(0x17c));}function startWholeQuizTimer(_0x13810e){const _0x4a3363=_0x361958,_0x14fa67=document[_0x4a3363(0x403)]('timer-container');if(!_0x14fa67)return;const _0x571dfd=Date[_0x4a3363(0x166)]()+_0x13810e*0x3c*0x3e8;_0x14fa67['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x1d798d=document[_0x4a3363(0x403)](_0x4a3363(0xca8));quizTimerInterval=setInterval(()=>{const _0x448d56=_0x4a3363,_0x513377=_0x571dfd-Date[_0x448d56(0x166)]();if(_0x513377<=0x0)clearInterval(quizTimerInterval),_0x1d798d[_0x448d56(0x317)]=_0x448d56(0xa94),showMessage(_0x448d56(0x9c9)),handleSubmitQuiz(null);else{const _0x2fd67d=Math['floor'](_0x513377/0x3e8/0x3c%0x3c)[_0x448d56(0x292)]()[_0x448d56(0x327)](0x2,'0'),_0xf7a2c=Math[_0x448d56(0x15f)](_0x513377/0x3e8%0x3c)['toString']()[_0x448d56(0x327)](0x2,'0');_0x1d798d[_0x448d56(0x317)]=_0x2fd67d+':'+_0xf7a2c;}},0x3e8);}function renderPerQuestionView(){const _0x162404=_0x361958;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x529ebe=currentDisplayedQuiz[_0x162404(0x707)][currentQuestionIndex],_0x4f59d2=_0x529ebe[_0x162404(0x30c)]||currentDisplayedQuiz[_0x162404(0x94d)],_0x4909ab=currentDisplayedQuiz['settings']?.[_0x162404(0x131)]===!![];let _0x41bc62='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x162404(0x310)+currentDisplayedQuiz['questions'][_0x162404(0x6b7)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x162404(0x336)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x162404(0x86f)]=_0x41bc62;let _0x46fb82=_0x529ebe[_0x162404(0xb42)]||_0x529ebe['questionText'];_0x529ebe[_0x162404(0x1ef)]&&(_0x46fb82+=_0x162404(0xc4f)+_0x529ebe[_0x162404(0x1ef)]+_0x162404(0x517));let _0x513a3c='';switch(_0x4f59d2){case _0x162404(0x385):case'fill_in_no_choices':_0x513a3c=_0x162404(0x52c);break;case _0x162404(0x891):_0x513a3c=_0x162404(0x572);break;case _0x162404(0x886):_0x513a3c=_0x162404(0x88d)+(_0x529ebe[_0x162404(0xaa2)]||[])[_0x162404(0x961)](_0x30391f=>_0x162404(0x7f5)+_0x30391f+'\x22>'+_0x30391f+_0x162404(0x53d))[_0x162404(0xbcc)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x529ebe[_0x162404(0x6a5)]&&(_0x513a3c=_0x529ebe['options']['map']((_0x133eb7,_0xdfd0ad)=>_0x162404(0x5dc)+_0xdfd0ad+_0x162404(0xa6b)+_0xdfd0ad+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0xdfd0ad+'\x22>'+_0x133eb7+_0x162404(0x2c4))['join'](''));break;}document[_0x162404(0x403)](_0x162404(0x47a))[_0x162404(0x86f)]=_0x46fb82,document['getElementById'](_0x162404(0x869))[_0x162404(0x86f)]=_0x513a3c;const _0x329aa1=currentDisplayedQuiz[_0x162404(0x3f9)]?.[_0x162404(0x131)]===!![],_0x338654=currentDisplayedQuiz['settings']?.[_0x162404(0x129)]||'checkbox';if(_0x329aa1&&_0x338654===_0x162404(0x885)){const _0x21fa3b=_0x162404(0x40f);studentQuizArea['querySelector'](_0x162404(0x760))[_0x162404(0x71d)]('beforeend',_0x21fa3b);}studentQuizArea['insertAdjacentHTML'](_0x162404(0xc9b),_0x162404(0x5a4)+(currentQuestionIndex===currentDisplayedQuiz[_0x162404(0x707)][_0x162404(0x6b7)]-0x1?_0x162404(0x672):_0x162404(0xa4e))+_0x162404(0x44f));currentMode===_0x162404(0x336)&&document['getElementById']('cancel-test-btn')?.['addEventListener'](_0x162404(0x920),cancelAdminTest);document[_0x162404(0x403)](_0x162404(0x682))[_0x162404(0x224)](_0x162404(0x920),()=>handleNextQuestionInTimedMode(![]));if(window[_0x162404(0xaeb)])window['MathJax'][_0x162404(0x738)]([studentQuizArea]);currentDisplayedQuiz['settings']?.[_0x162404(0xacc)]==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x92187d=_0x361958,_0x58f1cf=currentDisplayedQuiz['settings'][_0x92187d(0x959)],_0x4d073c=document[_0x92187d(0x403)]('per-question-timer-container');if(!_0x4d073c)return;let _0xb3b2d8=_0x58f1cf;_0x4d073c[_0x92187d(0x86f)]=_0x92187d(0x4bb)+_0xb3b2d8+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x28fcbd=document[_0x92187d(0x403)](_0x92187d(0xb3c)),_0xb9c626=document['getElementById'](_0x92187d(0x1ee));perQuestionTimerInterval=setInterval(()=>{const _0x1a03d4=_0x92187d;_0xb3b2d8--;const _0x3ec910=_0xb3b2d8/_0x58f1cf*0x64;_0x28fcbd[_0x1a03d4(0x77b)]['width']=_0x3ec910+'%',_0xb9c626[_0x1a03d4(0x317)]=_0xb3b2d8,_0xb3b2d8<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x1a03d4(0x16e)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x11c599=![]){const _0x3de8a0=_0x361958;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x3a7ed3=null,_0x430ddc=![];if(!_0x11c599){const _0x308d7b=currentDisplayedQuiz[_0x3de8a0(0x707)][currentQuestionIndex],_0x5930d9=_0x308d7b[_0x3de8a0(0x30c)]||currentDisplayedQuiz[_0x3de8a0(0x94d)];if(_0x5930d9===_0x3de8a0(0x385)||_0x5930d9===_0x3de8a0(0x163))_0x3a7ed3=document[_0x3de8a0(0x314)]('textarea[name=\x22question_single\x22]')?.['value'][_0x3de8a0(0x783)]()??'';else{if(_0x5930d9===_0x3de8a0(0x886))_0x3a7ed3=document[_0x3de8a0(0x314)](_0x3de8a0(0x4b7))?.[_0x3de8a0(0x491)]??'';else{const _0x4fb2c8=document[_0x3de8a0(0x314)](_0x3de8a0(0x837));_0x4fb2c8&&(_0x3a7ed3=_0x4fb2c8[_0x3de8a0(0x491)]);}}if(_0x3a7ed3===null||_0x3a7ed3===''){showMessage(_0x3de8a0(0x218)),startPerQuestionTimer();return;}const _0x10bf13=currentDisplayedQuiz[_0x3de8a0(0x3f9)]?.[_0x3de8a0(0x131)]===!![],_0x13d7b7=currentDisplayedQuiz['settings']?.[_0x3de8a0(0x129)]||_0x3de8a0(0x885);if(_0x10bf13&&_0x13d7b7===_0x3de8a0(0xb23)){document[_0x3de8a0(0x403)]('confidence-modal')[_0x3de8a0(0x8c4)][_0x3de8a0(0x754)]='timed',document[_0x3de8a0(0x403)](_0x3de8a0(0x4bc))[_0x3de8a0(0x491)]=_0x3a7ed3,document[_0x3de8a0(0x403)](_0x3de8a0(0x449))['classList'][_0x3de8a0(0x3e9)]('hidden');return;}const _0x3515ef=document[_0x3de8a0(0x403)]('confidence_single');_0x3515ef&&(_0x430ddc=_0x3515ef[_0x3de8a0(0x98b)]);}const _0x493024={'answer':_0x3a7ed3,'wasConfident':_0x430ddc};proceedToNextQuestion(_0x493024);}async function finalizePerQuestionQuiz(){const _0x5d1a6d=_0x361958,_0x2b9360=currentDisplayedQuiz['questions'][_0x5d1a6d(0xc30)](_0x484964=>_0x484964[_0x5d1a6d(0x30c)]==='short_answer');_0x2b9360?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x5d1a6d(0x9da));const _0x169494=currentQuizData['id'],_0x465dd0=doc(db,_0x5d1a6d(0x418)+appId+_0x5d1a6d(0xa18)+_0x169494+_0x5d1a6d(0x7dc),currentStudentName),_0x2fc074=await getDoc(_0x465dd0),_0x57e27f=_0x2fc074[_0x5d1a6d(0x6f9)]()?_0x2fc074[_0x5d1a6d(0xaff)]():{},_0x2f2ed2=_0x57e27f[_0x5d1a6d(0x723)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x2f2ed2);}function getResultsFilename(){const _0x379179=_0x361958,_0x2de24f=document[_0x379179(0x403)](_0x379179(0x19e))[_0x379179(0x317)][_0x379179(0x46f)](/[^a-z0-9]/gi,'_')[_0x379179(0x985)]();return'results_'+(_0x2de24f||_0x379179(0x85b));}function exportResultsAsImage(){const _0x53f88b=_0x361958,_0x3ebcb5=document['getElementById'](_0x53f88b(0x945));showMessage(_0x53f88b(0x4e5)),html2canvas(_0x3ebcb5)[_0x53f88b(0xd1)](_0x506723=>{const _0x59f636=_0x53f88b,_0x1df702=document[_0x59f636(0xccc)]('a');_0x1df702['download']=getResultsFilename()+'.png',_0x1df702[_0x59f636(0xaf7)]=_0x506723[_0x59f636(0x4c8)](_0x59f636(0x2d6)),_0x1df702['click'](),messageModal[_0x59f636(0x67e)][_0x59f636(0x7be)](_0x59f636(0x17c));});}function exportResultsAsPDF(){const _0x5d0040=_0x361958,{jsPDF:_0x1d425b}=window[_0x5d0040(0x53e)],_0x393f98=new _0x1d425b();_0x393f98[_0x5d0040(0x4d0)](_0x5d0040(0x6d0),_0x5d0040(0xcd9)),_0x393f98[_0x5d0040(0x740)]({'html':_0x5d0040(0x28c)}),_0x393f98[_0x5d0040(0x796)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x457e86=_0x361958,_0x25b079='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x457e86(0x623)+_0x457e86(0x65d)+_0x457e86(0x877),_0x5841a7=_0x457e86(0x463),_0x3ede06=_0x25b079+document['getElementById']('results-table-container')[_0x457e86(0x86f)]+_0x5841a7,_0x17cedf=_0x457e86(0x35e)+encodeURIComponent(_0x3ede06),_0x17c0a8=document['createElement']('a');document[_0x457e86(0x266)][_0x457e86(0x3c3)](_0x17c0a8),_0x17c0a8['href']=_0x17cedf,_0x17c0a8[_0x457e86(0x960)]=getResultsFilename()+'.doc',_0x17c0a8['click'](),document[_0x457e86(0x266)][_0x457e86(0xa07)](_0x17c0a8);}function exportResultsAsExcel(){const _0x378324=_0x361958,_0x4755a6=document[_0x378324(0x403)]('results-table');let _0x39c69e=[];for(let _0x1b1c3c=0x0;_0x1b1c3c<_0x4755a6[_0x378324(0x3b4)]['length'];_0x1b1c3c++){let _0x12e16e=[],_0x36b5ff=_0x4755a6[_0x378324(0x3b4)][_0x1b1c3c][_0x378324(0x2c6)]('td,\x20th');for(let _0xe934e1=0x0;_0xe934e1<_0x36b5ff[_0x378324(0x6b7)];_0xe934e1++){_0x12e16e[_0x378324(0x798)]('\x22'+_0x36b5ff[_0xe934e1][_0x378324(0x924)][_0x378324(0x46f)](/"/g,'\x22\x22')+'\x22');}_0x39c69e['push'](_0x12e16e['join'](','));}const _0x1019c6=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x39c69e[_0x378324(0xbcc)]('\x0a')],{'type':_0x378324(0x515)}),_0x5da459=document[_0x378324(0xccc)]('a');_0x5da459[_0x378324(0xaf7)]=URL[_0x378324(0xc0b)](_0x1019c6),_0x5da459[_0x378324(0x960)]=getResultsFilename()+_0x378324(0x910),_0x5da459['click']();}function exportTableAsImage(_0x7900d0,_0x5d5412){const _0x553e40=_0x361958,_0x35ba8e=document[_0x553e40(0x403)](_0x7900d0);if(!_0x35ba8e){showMessage(_0x553e40(0xab5));return;}showMessage(_0x553e40(0x4e5)),html2canvas(_0x35ba8e)[_0x553e40(0xd1)](_0x43b246=>{const _0x53ad6a=_0x553e40,_0x5efa24=document['createElement']('a');_0x5efa24['download']=_0x5d5412+_0x53ad6a(0xb2f),_0x5efa24[_0x53ad6a(0xaf7)]=_0x43b246['toDataURL'](_0x53ad6a(0x2d6)),_0x5efa24[_0x53ad6a(0x920)](),messageModal['classList'][_0x53ad6a(0x7be)](_0x53ad6a(0x17c));});}function exportTableAsPDF(_0x5a3c89,_0x3481b6){const _0xa9361c=_0x361958,{jsPDF:_0xd000d2}=window[_0xa9361c(0x53e)],_0x4866f0=new _0xd000d2();_0x4866f0[_0xa9361c(0x4d0)](_0xa9361c(0x6d0),_0xa9361c(0xcd9)),_0x4866f0[_0xa9361c(0x740)]({'html':'#'+_0x5a3c89}),_0x4866f0['save'](_0x3481b6+'.pdf');}function exportTableAsWord(_0x28e0c0,_0x431e55){const _0x39f94a=_0x361958,_0x5d7615=document[_0x39f94a(0x403)](_0x28e0c0);if(!_0x5d7615){showMessage(_0x39f94a(0xab5));return;}const _0xffd120=_0x39f94a(0x181)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x39f94a(0x65d)+_0x39f94a(0x877),_0x5a5498=_0x39f94a(0x463),_0x46ea4b=_0xffd120+_0x5d7615[_0x39f94a(0x86f)]+_0x5a5498,_0x2e3f57=_0x39f94a(0x35e)+encodeURIComponent(_0x46ea4b),_0x1a3d87=document[_0x39f94a(0xccc)]('a');document[_0x39f94a(0x266)]['appendChild'](_0x1a3d87),_0x1a3d87[_0x39f94a(0xaf7)]=_0x2e3f57,_0x1a3d87[_0x39f94a(0x960)]=_0x431e55+'.doc',_0x1a3d87[_0x39f94a(0x920)](),document[_0x39f94a(0x266)]['removeChild'](_0x1a3d87);}function exportTableAsExcel(_0x3f3350,_0x4b1c8b){const _0x4f144e=_0x361958,_0x4cb9bd=document[_0x4f144e(0x403)](_0x3f3350);if(!_0x4cb9bd){showMessage(_0x4f144e(0xab5));return;}let _0x70295d=[];for(let _0x42307f=0x0;_0x42307f<_0x4cb9bd[_0x4f144e(0x3b4)]['length'];_0x42307f++){let _0x2cc882=[],_0x4176f3=_0x4cb9bd[_0x4f144e(0x3b4)][_0x42307f][_0x4f144e(0x2c6)](_0x4f144e(0x48e));for(let _0x536328=0x0;_0x536328<_0x4176f3[_0x4f144e(0x6b7)];_0x536328++){_0x2cc882['push']('\x22'+_0x4176f3[_0x536328][_0x4f144e(0x924)][_0x4f144e(0x46f)](/"/g,'\x22\x22')+'\x22');}_0x70295d[_0x4f144e(0x798)](_0x2cc882['join'](','));}const _0x51835b=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x70295d[_0x4f144e(0xbcc)]('\x0a')],{'type':_0x4f144e(0x515)}),_0x22b8f4=document[_0x4f144e(0xccc)]('a');_0x22b8f4[_0x4f144e(0xaf7)]=URL['createObjectURL'](_0x51835b),_0x22b8f4[_0x4f144e(0x960)]=_0x4b1c8b+_0x4f144e(0x910),_0x22b8f4[_0x4f144e(0x920)]();}function renderAnalytics(_0x21fd50,_0x194e99){const _0x1a392b=_0x361958,_0x398c81=_0x194e99[_0x1a392b(0x9df)](_0xb80d4=>_0xb80d4['latestScore']!==undefined),_0xd10c9=currentProjectData[_0x1a392b(0x282)][_0x1a392b(0x6b7)],_0x1c8ccc=_0x398c81['length'],_0x28a702=_0xd10c9-_0x1c8ccc,_0x194bda=_0xd10c9>0x0?_0x1c8ccc/_0xd10c9*0x64:0x0,_0xbd5f50=_0x398c81[_0x1a392b(0x961)](_0xf6ecb6=>_0xf6ecb6[_0x1a392b(0x155)]),_0x25c42f=_0xbd5f50[_0x1a392b(0x6b7)]>0x0?_0xbd5f50[_0x1a392b(0xac1)]((_0x31230d,_0x4078dd)=>_0x31230d+_0x4078dd,0x0)/_0xbd5f50[_0x1a392b(0x6b7)]:0x0,_0x423366=_0x21fd50[_0x1a392b(0x707)]['length'],_0x5c2b19=_0x423366>0x0?_0x25c42f/_0x423366*0x64:0x0,_0x4a65fe=calculateItemAnalysis(_0x21fd50,_0x398c81),_0x50b395=calculateReliabilityKR20(_0x21fd50,_0x398c81,_0x4a65fe[_0x1a392b(0x77e)]);let _0x324d66='';if(_0x50b395!==null){let _0x3d242d='';if(_0x50b395>=0.9)_0x3d242d=_0x1a392b(0xd01);else{if(_0x50b395>=0.8)_0x3d242d=_0x1a392b(0xed);else{if(_0x50b395>=0.7)_0x3d242d='ดี';else{if(_0x50b395>=0.6)_0x3d242d=_0x1a392b(0x359);else _0x3d242d=_0x1a392b(0x9f3);}}}_0x324d66=_0x1a392b(0x26d)+_0x50b395[_0x1a392b(0x2a0)](0x2)+_0x1a392b(0x8eb)+_0x3d242d+_0x1a392b(0x85c);}const _0x57404e=document[_0x1a392b(0x403)](_0x1a392b(0x6fa));_0x57404e[_0x1a392b(0x86f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x194bda[_0x1a392b(0x2a0)](0x0)+_0x1a392b(0x1f2)+_0x1c8ccc+'/'+_0xd10c9+_0x1a392b(0xd03)+_0x25c42f[_0x1a392b(0x2a0)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x5c2b19[_0x1a392b(0x2a0)](0x0)+_0x1a392b(0x332)+(_0xbd5f50['length']>0x0?Math[_0x1a392b(0x773)](..._0xbd5f50):_0x1a392b(0xc29))+_0x1a392b(0x602)+(_0xbd5f50[_0x1a392b(0x6b7)]>0x0?Math[_0x1a392b(0xc8f)](..._0xbd5f50):'N/A')+_0x1a392b(0x335)+_0x324d66+_0x1a392b(0x6a9);const _0x4cbe32=document[_0x1a392b(0x403)]('interesting-stats-wrapper');_0x4cbe32&&_0x4cbe32[_0x1a392b(0x3e9)]();const _0x211c24=_0x1a392b(0x44a);_0x57404e['insertAdjacentHTML'](_0x1a392b(0x813),_0x211c24);const _0x510864=currentProjectData[_0x1a392b(0x282)]||[];renderSubmissionChart(_0x1c8ccc,_0x28a702,_0x398c81,_0x510864),renderScoreDistributionChart(_0x398c81,_0x423366),renderQuestionAnalytics(_0x21fd50,_0x398c81,_0x510864),renderInterestingStats(_0x21fd50,_0x398c81);}async function handleExportLessonPDF(){const _0x3ccacc=_0x361958,_0x16d21e=document[_0x3ccacc(0x403)](_0x3ccacc(0x147)),_0x54d9fd=document[_0x3ccacc(0x403)](_0x3ccacc(0x1db))[_0x3ccacc(0x317)],_0x44c868=window[_0x3ccacc(0x56c)]('',_0x3ccacc(0x633)),_0x480141=_0x3ccacc(0xaad)+_0x54d9fd+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x16d21e[_0x3ccacc(0x86f)]+_0x3ccacc(0xbdd);_0x44c868[_0x3ccacc(0x399)][_0x3ccacc(0x7a7)](_0x480141),_0x44c868['document'][_0x3ccacc(0xcc2)](),_0x44c868[_0x3ccacc(0x9d4)]=function(){setTimeout(()=>{_0x44c868['print']();},0x5dc);};}function renderInterestingStats(_0x21382e,_0x1b133e){const _0x1a18bb=_0x361958,_0x1809ba=document[_0x1a18bb(0x403)](_0x1a18bb(0x621));if(!_0x1809ba)return;if(_0x1b133e['length']===0x0){_0x1809ba[_0x1a18bb(0x86f)]=_0x1a18bb(0x7af);return;}const _0x5de762=_0x21382e[_0x1a18bb(0x707)][_0x1a18bb(0x961)]((_0xbc0507,_0x503db0)=>({'index':_0x503db0+0x1,'text':_0xbc0507[_0x1a18bb(0xf5)]||_0xbc0507[_0x1a18bb(0xb42)],'correct':0x0}));_0x1b133e['forEach'](_0x2e8847=>{const _0x2f6e41=_0x1a18bb,_0x46d4b5=_0x2e8847[_0x2f6e41(0x723)][_0x2e8847['attempts']['length']-0x1];_0x46d4b5&&_0x46d4b5[_0x2f6e41(0x379)]&&_0x46d4b5[_0x2f6e41(0x379)][_0x2f6e41(0x384)](_0x380e2b=>{const _0x4081f7=_0x2f6e41,_0x3431c9=_0x5de762[_0x4081f7(0x9f6)](_0x7add3a=>_0x7add3a[_0x4081f7(0x90b)]===_0x380e2b[_0x4081f7(0xc0d)]);_0x380e2b[_0x4081f7(0x4dd)]&&_0x3431c9&&_0x3431c9[_0x4081f7(0xab7)]++;});});const _0x3a70ed=_0x1b133e[_0x1a18bb(0x6b7)],_0x40a068=Math[_0x1a18bb(0x773)](..._0x5de762[_0x1a18bb(0x961)](_0x1724d5=>_0x1724d5[_0x1a18bb(0xab7)])),_0x34080b=Math[_0x1a18bb(0xc8f)](..._0x5de762[_0x1a18bb(0x961)](_0x5b6529=>_0x5b6529[_0x1a18bb(0xab7)])),_0x541e99=_0x5de762[_0x1a18bb(0x9df)](_0x45ce37=>_0x45ce37[_0x1a18bb(0xab7)]===_0x40a068)[_0x1a18bb(0x961)](_0x5bbed1=>'ข้อ\x20'+_0x5bbed1[_0x1a18bb(0x4b1)]),_0x3d1270=_0x5de762[_0x1a18bb(0x9df)](_0x1fe98f=>_0x1fe98f[_0x1a18bb(0xab7)]===_0x34080b)[_0x1a18bb(0x961)](_0x199ad9=>_0x1a18bb(0x6da)+_0x199ad9[_0x1a18bb(0x4b1)]),_0x396461=_0x1b133e['sort']((_0x4c14bc,_0x5d0618)=>_0x5d0618[_0x1a18bb(0x155)]-_0x4c14bc[_0x1a18bb(0x155)])[_0x1a18bb(0x9df)]((_0x3493af,_0x28f817,_0xa046dd)=>_0x3493af[_0x1a18bb(0x155)]===_0xa046dd[0x0][_0x1a18bb(0x155)]),_0x1bf801=_0x1b133e[_0x1a18bb(0x2b7)]((_0xad6433,_0x1e1b5b)=>_0xad6433[_0x1a18bb(0x155)]-_0x1e1b5b[_0x1a18bb(0x155)])[_0x1a18bb(0x9df)]((_0xd7c8d9,_0x3a07ff,_0x44a5ba)=>_0xd7c8d9[_0x1a18bb(0x155)]===_0x44a5ba[0x0][_0x1a18bb(0x155)]),_0x34f8d3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x541e99[_0x1a18bb(0xbcc)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x40a068+_0x1a18bb(0xc41)+_0x3a70ed+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x3d1270['join'](',\x20')+_0x1a18bb(0x2db)+(_0x3a70ed-_0x34080b)+'\x20/\x20'+_0x3a70ed+_0x1a18bb(0x2d7)+_0x396461['map'](_0x17abfe=>_0x17abfe[_0x1a18bb(0x5b0)])[_0x1a18bb(0xbcc)](',\x20')+_0x1a18bb(0x255)+_0x396461[0x0][_0x1a18bb(0x155)]+_0x1a18bb(0x637)+_0x1bf801[_0x1a18bb(0x961)](_0x25c2c5=>_0x25c2c5['studentName'])[_0x1a18bb(0xbcc)](',\x20')+_0x1a18bb(0x255)+_0x1bf801[0x0][_0x1a18bb(0x155)]+_0x1a18bb(0x6e4);_0x1809ba[_0x1a18bb(0x86f)]=_0x34f8d3;}function renderSubmissionChart(_0x233d7a,_0xfe851a,_0x21f652,_0xd19593){const _0x620949=_0x361958,_0x17228=document[_0x620949(0x403)](_0x620949(0xb51))[_0x620949(0x1aa)]('2d'),_0x124105=_0x21f652['map'](_0x2e465f=>_0x2e465f['studentName']),_0x5c6ef2=_0xd19593[_0x620949(0x9df)](_0x4b1dc6=>!_0x124105[_0x620949(0x801)](_0x4b1dc6));chartInstances[_0x620949(0xb5e)]&&chartInstances[_0x620949(0xb5e)]['destroy'](),chartInstances[_0x620949(0xb5e)]=new Chart(_0x17228,{'type':'doughnut','data':{'labels':[_0x620949(0xbaa),_0x620949(0x678)],'datasets':[{'data':[_0x233d7a,_0xfe851a],'backgroundColor':[_0x620949(0x8cb),_0x620949(0x5d7)],'borderColor':['#ffffff',_0x620949(0x19b)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x620949(0xc3b)},'tooltip':{'callbacks':{'label':function(_0x48807d){const _0x529f6c=_0x620949;let _0x18ebc9=_0x48807d[_0x529f6c(0x68b)]||'';return _0x18ebc9&&(_0x18ebc9+=':\x20'),_0x18ebc9+=_0x48807d['raw'],_0x18ebc9;},'afterLabel':function(_0x934f76){const _0x26d8e5=_0x620949;let _0x441973;return _0x934f76[_0x26d8e5(0x824)]===0x0?_0x441973=_0x124105:_0x441973=_0x5c6ef2,_0x441973[_0x26d8e5(0x6b7)]>0x0?_0x441973[_0x26d8e5(0xbcc)]('\x0a'):_0x26d8e5(0x933);}}}}}});}function renderScoreDistributionChart(_0x5316f4,_0xcea4d4){const _0x4c9c2d=_0x361958,_0x267902=document['getElementById'](_0x4c9c2d(0x599))[_0x4c9c2d(0x1aa)]('2d'),_0x5bfeb4={};for(let _0x400c1a=0x0;_0x400c1a<=_0xcea4d4;_0x400c1a++){_0x5bfeb4[_0x400c1a]=0x0;}_0x5316f4[_0x4c9c2d(0x384)](_0x2ab8d2=>{const _0x403f34=_0x4c9c2d;_0x5bfeb4[_0x2ab8d2[_0x403f34(0x155)]]!==undefined&&_0x5bfeb4[_0x2ab8d2[_0x403f34(0x155)]]++;}),chartInstances[_0x4c9c2d(0xa6e)]&&chartInstances[_0x4c9c2d(0xa6e)][_0x4c9c2d(0xc96)](),chartInstances[_0x4c9c2d(0xa6e)]=new Chart(_0x267902,{'type':_0x4c9c2d(0x2fc),'data':{'labels':Object['keys'](_0x5bfeb4),'datasets':[{'label':_0x4c9c2d(0x988),'data':Object[_0x4c9c2d(0x9bd)](_0x5bfeb4),'backgroundColor':_0x4c9c2d(0x585),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x4c9c2d(0x790)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x386b1f){const _0x1652d0=_0x4c9c2d,_0x2c8d24=_0x386b1f[_0x1652d0(0x68b)],_0x25538c=_0x5316f4[_0x1652d0(0x9df)](_0x110ecf=>_0x110ecf[_0x1652d0(0x155)]==_0x2c8d24)[_0x1652d0(0x961)](_0x518002=>_0x518002['studentName']);return _0x25538c[_0x1652d0(0x6b7)]>0x0?_0x25538c[_0x1652d0(0xbcc)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x4ed642,_0x59f8f1,_0xd04f76){const _0x121a2e=_0x361958,_0xcbbbf1=document[_0x121a2e(0x403)](_0x121a2e(0x577));if(_0xd04f76[_0x121a2e(0x6b7)]===0x0){_0xcbbbf1['innerHTML']=_0x121a2e(0x2f3);return;}const _0x4cf7de=calculateItemAnalysis(_0x4ed642,_0x59f8f1),_0x3fc80c=calculateDistractorAnalysis(_0x4ed642,_0x59f8f1);let _0x3e9bbc='';_0x4cf7de[_0x121a2e(0x454)]&&(_0x3e9bbc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x4cf7de[_0x121a2e(0x454)][_0x121a2e(0x86c)][_0x121a2e(0x6b7)]+_0x121a2e(0x913)+_0x4cf7de[_0x121a2e(0x454)][_0x121a2e(0x86c)][_0x121a2e(0x961)](_0x56e3d1=>_0x121a2e(0x4d8)+_0x56e3d1+_0x121a2e(0x9db))[_0x121a2e(0xbcc)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x4cf7de['overallGroups']['lowerGroupNames']['length']+_0x121a2e(0x913)+_0x4cf7de[_0x121a2e(0x454)]['lowerGroupNames'][_0x121a2e(0x961)](_0x1e30ce=>'<li>'+_0x1e30ce+_0x121a2e(0x9db))[_0x121a2e(0xbcc)]('')+_0x121a2e(0xb82));let _0xf2b6d9='';const _0x2cf5f8=_0x59f8f1[_0x121a2e(0x961)](_0x5b6d09=>_0x5b6d09['studentName']),_0x299f43=_0x49f8c4=>{const _0x207b86=_0x121a2e;if(_0x49f8c4>=0.8)return _0x207b86(0xb43);if(_0x49f8c4>=0.6)return _0x207b86(0x632);if(_0x49f8c4>=0.4)return _0x207b86(0x3db);if(_0x49f8c4>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x207b86(0x9cc);},_0x203490=_0x201cde=>{const _0x221a70=_0x121a2e;if(_0x201cde<0x0)return _0x221a70(0x3ca);if(_0x201cde>=0.4)return _0x221a70(0x6a1);if(_0x201cde>=0.3)return _0x221a70(0x50f);if(_0x201cde>=0.2)return _0x221a70(0x28f);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x41c4fe=_0x2702f3=>{const _0x423636=_0x121a2e,_0x226f86=_0x2702f3[_0x423636(0x2a0)](0x0);if(parseFloat(_0x226f86)===0x64)return _0x423636(0xba2)+_0x226f86+_0x423636(0x14c);if(_0x2702f3>=0x32)return _0x423636(0xb96)+_0x226f86+'%</span>';return _0x423636(0x8f0)+_0x226f86+'%</span>';};_0x4ed642['questions']['forEach']((_0x182003,_0x4272f6)=>{const _0x4abb55=_0x121a2e,_0x3b6585=_0x4cf7de[_0x4abb55(0x77e)][_0x4272f6],_0x1a4943=_0x3fc80c[_0x4272f6],_0x2248a8=_0x182003['stem']||_0x182003[_0x4abb55(0xf5)]||_0x182003[_0x4abb55(0x9b6)];let _0x2934ea=0x0;const _0x5208ac=[],_0x37c628=[];_0x59f8f1[_0x4abb55(0x384)](_0xf22beb=>{const _0x29fc5d=_0x4abb55,_0x4834e9=_0xf22beb[_0x29fc5d(0x723)][_0xf22beb['attempts'][_0x29fc5d(0x6b7)]-0x1];if(_0x4834e9&&_0x4834e9[_0x29fc5d(0x379)]){const _0x10a78d=_0x4834e9[_0x29fc5d(0x379)]['find'](_0x30e995=>_0x30e995[_0x29fc5d(0xc0d)]===_0x2248a8)??_0x4834e9[_0x29fc5d(0x379)][_0x4272f6]??null;_0x10a78d&&(_0x10a78d[_0x29fc5d(0x4dd)]?(_0x2934ea++,_0x5208ac[_0x29fc5d(0x798)](_0xf22beb[_0x29fc5d(0x5b0)])):_0x37c628[_0x29fc5d(0x798)](_0xf22beb[_0x29fc5d(0x5b0)]));}});const _0x4abefc=_0x59f8f1['length']>0x0?_0x2934ea/_0x59f8f1['length']*0x64:0x0,_0x7364d1=_0xd04f76[_0x4abb55(0x9df)](_0x24bba6=>!_0x2cf5f8['includes'](_0x24bba6)),_0x57fdb3=_0x3b6585?_0x4abb55(0x448)+_0x3b6585['p']['toFixed'](0x2)+'</p><div>'+_0x299f43(_0x3b6585['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x3b6585['r']['toFixed'](0x2)+_0x4abb55(0x2b5)+_0x203490(_0x3b6585['r'])+_0x4abb55(0xa50)+_0x41c4fe(_0x4abefc)+_0x4abb55(0x378):'';let _0xbf024c='';_0x1a4943&&(_0xbf024c=_0x4abb55(0x720)+Object['keys'](_0x1a4943)[_0x4abb55(0x961)](_0x2e6a07=>{const _0x25a6d3=_0x4abb55,_0x223b21=_0x1a4943[_0x2e6a07],_0x2e2345=parseInt(_0x2e6a07)===_0x182003[_0x25a6d3(0x47b)],_0xbe0e56=!_0x2e2345&&_0x223b21[_0x25a6d3(0x49f)]>_0x223b21[_0x25a6d3(0x625)];return _0x25a6d3(0x4fb)+(_0x2e2345?_0x25a6d3(0x906):'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x2e2345?'✔\x20':'')+_0x223b21[_0x25a6d3(0x90b)]+_0x25a6d3(0x75a)+_0x223b21[_0x25a6d3(0x625)]+_0x25a6d3(0x75a)+_0x223b21[_0x25a6d3(0x49f)]+'\x20'+(_0xbe0e56?'👍':'')+_0x25a6d3(0x75a)+_0x223b21[_0x25a6d3(0x881)]+_0x25a6d3(0x3c7);})[_0x4abb55(0xbcc)]('')+_0x4abb55(0x4c1));let _0x24c43d='';_0x3b6585&&_0x3b6585[_0x4abb55(0x5f5)]&&(_0x24c43d=_0x4abb55(0xa3b)+_0x3b6585[_0x4abb55(0x5f5)]['length']+_0x4abb55(0x780)+_0x3b6585['upperGroupResponders'][_0x4abb55(0x961)](_0xa1c450=>_0x4abb55(0x4d8)+(_0xa1c450['isCorrect']?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x4abb55(0x609))+'\x20'+_0xa1c450['name']+_0x4abb55(0x9db))['join']('')+_0x4abb55(0xd3)+_0x3b6585[_0x4abb55(0x59b)][_0x4abb55(0x6b7)]+_0x4abb55(0x780)+_0x3b6585[_0x4abb55(0x59b)][_0x4abb55(0x961)](_0x2e7601=>_0x4abb55(0x4d8)+(_0x2e7601['isCorrect']?_0x4abb55(0xcb6):_0x4abb55(0x609))+'\x20'+_0x2e7601[_0x4abb55(0x2ea)]+'</li>')[_0x4abb55(0xbcc)]('')+_0x4abb55(0x476)),_0xf2b6d9+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x4272f6+0x1)+':\x20'+_0x2248a8+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x57fdb3+_0x4abb55(0xb6c)+_0x2248a8+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x2934ea+_0x4abb55(0x310)+_0x59f8f1[_0x4abb55(0x6b7)]+_0x4abb55(0x5bb)+_0x4abefc[_0x4abb55(0x2a0)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x5208ac[_0x4abb55(0x6b7)]+_0x4abb55(0x927)+(_0x5208ac['length']>0x0?_0x5208ac[_0x4abb55(0xbcc)](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x37c628['length']+_0x4abb55(0x927)+(_0x37c628[_0x4abb55(0x6b7)]>0x0?_0x37c628['join'](',\x20'):_0x4abb55(0x933))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x7364d1['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x7364d1['length']>0x0?_0x7364d1[_0x4abb55(0xbcc)](',\x20'):_0x4abb55(0x933))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xbf024c+_0x4abb55(0x10c)+_0x24c43d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xcbbbf1[_0x121a2e(0x86f)]=_0x3e9bbc+_0xf2b6d9;try{window['MathJax']&&MathJax[_0x121a2e(0x738)]&&MathJax['typesetPromise']([_0xcbbbf1]);}catch(_0x52b038){console[_0x121a2e(0x51e)](_0x121a2e(0x51b),_0x52b038);}}function calculateDistractorAnalysis(_0x53ffcd,_0x3c1173){const _0x4f0ede=_0x361958,_0x555da0={};if(_0x3c1173['length']<0x2)return _0x555da0;const _0x488708=[..._0x3c1173][_0x4f0ede(0x2b7)]((_0x48de05,_0x4c8d2b)=>{const _0x5c0a3c=_0x4f0ede,_0x56fe14=_0x4c8d2b[_0x5c0a3c(0x155)]-_0x48de05[_0x5c0a3c(0x155)];if(_0x56fe14!==0x0)return _0x56fe14;const _0x15811b=_0x48de05[_0x5c0a3c(0x723)]?.[_0x5c0a3c(0x6b7)]||0x1,_0x41561e=_0x4c8d2b[_0x5c0a3c(0x723)]?.[_0x5c0a3c(0x6b7)]||0x1,_0x45db79=_0x15811b-_0x41561e;if(_0x45db79!==0x0)return _0x45db79;const _0x44fe79=new Date(_0x48de05[_0x5c0a3c(0x866)]),_0x2bcacc=new Date(_0x4c8d2b[_0x5c0a3c(0x866)]),_0x1146f7=_0x44fe79-_0x2bcacc;if(_0x1146f7!==0x0)return _0x1146f7;return _0x48de05[_0x5c0a3c(0x5b0)][_0x5c0a3c(0x97c)](_0x4c8d2b['studentName'],'th');}),_0x241b51=_0x488708[_0x4f0ede(0x6b7)],_0x4f5424=Math[_0x4f0ede(0x773)](0x1,Math[_0x4f0ede(0x15f)](_0x241b51*0.33)),_0x298bf9=_0x488708[_0x4f0ede(0x4ca)](0x0,_0x4f5424),_0x1d4e20=_0x488708[_0x4f0ede(0x4ca)](-_0x4f5424);return _0x53ffcd[_0x4f0ede(0x707)][_0x4f0ede(0x384)]((_0x252755,_0x5a850a)=>{const _0x391efa=_0x4f0ede;if(_0x252755[_0x391efa(0x30c)]!==_0x391efa(0x736)||!_0x252755[_0x391efa(0x6a5)])return;const _0x1eb7d7=_0x252755[_0x391efa(0xf5)],_0x47c984={};_0x252755[_0x391efa(0x6a5)][_0x391efa(0x384)]((_0x1906a6,_0x10aa70)=>{_0x47c984[_0x10aa70]={'text':_0x1906a6,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x488708[_0x391efa(0x384)](_0x3b3b57=>{const _0x322b49=_0x391efa,_0x4d9a2e=_0x3b3b57[_0x322b49(0x723)][_0x3b3b57[_0x322b49(0x723)][_0x322b49(0x6b7)]-0x1],_0x337d35=_0x4d9a2e['answers'][_0x322b49(0x9f6)](_0x44fc9a=>_0x44fc9a[_0x322b49(0xc0d)]===_0x1eb7d7);if(_0x337d35&&_0x337d35['answer']!==null){const _0x1faf6d=_0x252755[_0x322b49(0x6a5)][_0x322b49(0x241)](_0x1e9a79=>_0x1e9a79===_0x337d35[_0x322b49(0x69a)]);_0x1faf6d!==-0x1&&_0x47c984[_0x1faf6d]&&(_0x47c984[_0x1faf6d][_0x322b49(0x881)]++,_0x298bf9['includes'](_0x3b3b57)&&_0x47c984[_0x1faf6d][_0x322b49(0x625)]++,_0x1d4e20[_0x322b49(0x801)](_0x3b3b57)&&_0x47c984[_0x1faf6d][_0x322b49(0x49f)]++);}}),_0x555da0[_0x5a850a]=_0x47c984;}),_0x555da0;}function calculateReliabilityKR20(_0x222182,_0x509b0a,_0x598c4c){const _0x5238c9=_0x361958,_0x2dbbe7=_0x222182[_0x5238c9(0x707)][_0x5238c9(0x6b7)];if(_0x2dbbe7<0x2||_0x509b0a['length']<0x2)return null;const _0x26cf17=_0x509b0a[_0x5238c9(0x961)](_0x44cf91=>_0x44cf91['latestScore']),_0x3719c4=_0x26cf17[_0x5238c9(0xac1)]((_0x3fdec1,_0x3c5793)=>_0x3fdec1+_0x3c5793,0x0)/_0x26cf17['length'],_0x38908c=_0x26cf17[_0x5238c9(0x961)](_0x4a2cc6=>Math[_0x5238c9(0xb4a)](_0x4a2cc6-_0x3719c4,0x2))[_0x5238c9(0xac1)]((_0x4af009,_0x10aa01)=>_0x4af009+_0x10aa01,0x0)/_0x26cf17[_0x5238c9(0x6b7)];if(_0x38908c===0x0)return null;let _0x577188=0x0;for(let _0x2f6d7d=0x0;_0x2f6d7d<_0x2dbbe7;_0x2f6d7d++){const _0x4393de=_0x598c4c[_0x2f6d7d]?.['p'];if(_0x4393de===undefined)continue;const _0x53ef72=0x1-_0x4393de;_0x577188+=_0x4393de*_0x53ef72;}if(_0x577188===0x0)return null;const _0x3437b7=_0x2dbbe7/(_0x2dbbe7-0x1)*(0x1-_0x577188/_0x38908c);if(_0x3437b7>0x1)return null;return _0x3437b7;}async function handleAnalyzeClass(){const _0x4af302=_0x361958;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x4af302(0x3f4));return;}const _0x2b35ee=collection(db,_0x4af302(0x418)+appId+_0x4af302(0xa18)+currentQuizData['id']+_0x4af302(0x7dc)),_0x1227d8=await getDocs(_0x2b35ee),_0x38eae7=_0x1227d8[_0x4af302(0x5b2)]['map'](_0x4d3314=>_0x4d3314[_0x4af302(0xaff)]());if(_0x38eae7[_0x4af302(0x6b7)]<0x2){showMessage(_0x4af302(0x788));return;}const _0x232d09=document[_0x4af302(0x403)](_0x4af302(0x4c9));_0x232d09[_0x4af302(0x86f)]=_0x4af302(0xba7),document[_0x4af302(0x403)](_0x4af302(0x3df))[_0x4af302(0x79a)]=!![];const _0x3116ef=_0x38eae7[_0x4af302(0x961)]((_0x3e575e,_0x12d99f)=>{const _0x2cac67=_0x4af302,_0x517f29=_0x3e575e['attempts'][_0x3e575e[_0x2cac67(0x723)][_0x2cac67(0x6b7)]-0x1];if(!_0x517f29)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x12d99f+0x1)+'\x20('+_0x3e575e[_0x2cac67(0x5b0)]+_0x2cac67(0x6d7)+_0x517f29[_0x2cac67(0xa6e)]+'/'+_0x3e575e[_0x2cac67(0xcf)]+_0x2cac67(0xb88)+JSON[_0x2cac67(0xa24)](_0x517f29[_0x2cac67(0x379)])+_0x2cac67(0x99e);})[_0x4af302(0xbcc)](_0x4af302(0x516)),_0x392403='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x4af302(0x411)]+_0x4af302(0x6d6)+JSON[_0x4af302(0xa24)](currentQuizData['questions'])+_0x4af302(0x586)+_0x3116ef+_0x4af302(0x9c1),_0x5196c7={'type':_0x4af302(0xbb5),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':'STRING'}},'classWeaknesses':{'type':_0x4af302(0xb41),'items':{'type':_0x4af302(0xef)}},'teacherSuggestions':{'type':_0x4af302(0xb41),'items':{'type':_0x4af302(0xef)}}},'required':['classStrengths',_0x4af302(0x2d0),_0x4af302(0x4c6)]};try{const _0x4d00aa=await callAnalysisApi(_0x392403,_0x5196c7);displayClassAnalysis(_0x4d00aa);}catch(_0x5c9ff6){console[_0x4af302(0x51e)](_0x4af302(0x67b),_0x5c9ff6),_0x232d09['innerHTML']='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x5c9ff6[_0x4af302(0x931)]+_0x4af302(0x1f9);}finally{document[_0x4af302(0x403)](_0x4af302(0x3df))['disabled']=![];}}function displayClassAnalysis(_0x57b81f){const _0x3d5f61=_0x361958,_0x4d5ec6=document[_0x3d5f61(0x403)](_0x3d5f61(0x4c9));if(!_0x57b81f){_0x4d5ec6[_0x3d5f61(0x86f)]=_0x3d5f61(0x46c);return;}_0x4d5ec6[_0x3d5f61(0x86f)]=_0x3d5f61(0x194)+_0x57b81f[_0x3d5f61(0x53f)][_0x3d5f61(0x961)](_0x22e0d1=>'<li>'+_0x22e0d1+_0x3d5f61(0x9db))[_0x3d5f61(0xbcc)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57b81f['classWeaknesses']['map'](_0x52f3e7=>_0x3d5f61(0x4d8)+_0x52f3e7+_0x3d5f61(0x9db))['join']('')+_0x3d5f61(0xc49)+_0x57b81f[_0x3d5f61(0x4c6)][_0x3d5f61(0x961)](_0x3a4e96=>_0x3d5f61(0x4d8)+_0x3a4e96+'</li>')['join']('')+_0x3d5f61(0x24b);}function formatAndPrintWorksheet(_0x4cea65,_0x3da969){const _0x257812=_0x361958,_0x50ac53=_0x257812(0x38a)+_0x4cea65[_0x257812(0x411)]+_0x257812(0x92e)+_0x4cea65[_0x257812(0x411)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4cea65[_0x257812(0x707)][_0x257812(0x961)]((_0x5073c0,_0x582914)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x582914+0x1)+'.\x20'+_0x5073c0[_0x257812(0xf5)]+_0x257812(0xaf4)+(_0x5073c0['imageCode']?_0x257812(0xc40)+_0x5073c0[_0x257812(0x1ef)]+'</div>':'')+_0x257812(0x5ea))[_0x257812(0xbcc)]('')+_0x257812(0x12d);_0x3da969['document'][_0x257812(0x7a7)](_0x50ac53),_0x3da969['document'][_0x257812(0xcc2)](),_0x3da969[_0x257812(0x9d4)]=function(){setTimeout(()=>{const _0x5e536c=_0x3ec8;_0x3da969[_0x5e536c(0x33e)]();},0x3e8);};}async function generateWorksheet(){const _0x26f455=_0x361958,_0x456d79=document[_0x26f455(0x403)](_0x26f455(0x434))[_0x26f455(0x491)]['trim']();if(!_0x456d79){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x2e1d4c=document[_0x26f455(0x403)](_0x26f455(0x113))['checked'],_0x2a9711=_0x2e1d4c?'':_0x26f455(0x680),_0x4ea7c4=window['open']('','_blank');_0x4ea7c4['document'][_0x26f455(0x7a7)]('<h1></h1>');const _0x2070d9=parseInt(document[_0x26f455(0x403)](_0x26f455(0xec))[_0x26f455(0x491)]),_0x50a170=document[_0x26f455(0x403)](_0x26f455(0x7c8))[_0x26f455(0x98b)],_0xcf54e=_0x50a170?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x2a0684='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x2a9711+_0x26f455(0x26b)+_0x2070d9+_0x26f455(0x96c)+_0x456d79+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcf54e+_0x26f455(0xbf6)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x2112bf={'type':_0x26f455(0xbb5),'properties':{'topic':{'type':_0x26f455(0xef)},'questions':{'type':'ARRAY','items':{'type':_0x26f455(0xbb5),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x26f455(0xef)}},'required':[_0x26f455(0xf5)]}}},'required':[_0x26f455(0x411),_0x26f455(0x707)]};document[_0x26f455(0x403)](_0x26f455(0x219))['textContent']='',document[_0x26f455(0x403)](_0x26f455(0x85f))[_0x26f455(0x67e)][_0x26f455(0x3e9)](_0x26f455(0x17c)),document[_0x26f455(0x403)]('quiz-generation-area')[_0x26f455(0x67e)][_0x26f455(0x3e9)](_0x26f455(0x17c)),generateWorksheetBtn[_0x26f455(0x79a)]=!![];try{const _0x3879de=await callAnalysisApi(_0x2a0684,_0x2112bf);formatAndPrintWorksheet(_0x3879de,_0x4ea7c4);}catch(_0x46181d){console[_0x26f455(0x51e)]('Error\x20generating\x20worksheet:',_0x46181d);if(_0x4ea7c4)_0x4ea7c4[_0x26f455(0xcc2)]();showMessage(_0x26f455(0x10f));}finally{document[_0x26f455(0x403)](_0x26f455(0x85f))[_0x26f455(0x67e)][_0x26f455(0x7be)](_0x26f455(0x17c)),document['getElementById'](_0x26f455(0x624))['classList'][_0x26f455(0x7be)]('hidden'),generateWorksheetBtn[_0x26f455(0x79a)]=![];}}async function callAnalysisApi(_0x1c390b,_0x4f97b4){const _0x3433e2=_0x361958,_0x39d799={'contents':[{'role':'user','parts':[{'text':_0x1c390b}]}],'generationConfig':{'responseMimeType':_0x3433e2(0x912),'responseSchema':_0x4f97b4}},_0x3e2c7a=_0x3433e2(0x7f6),_0x17a2fe=_0x3433e2(0x2bc)+_0x3e2c7a,_0x21ab0f=await fetch(_0x17a2fe,{'method':_0x3433e2(0x809),'headers':{'Content-Type':_0x3433e2(0x912)},'body':JSON[_0x3433e2(0xa24)](_0x39d799)});if(!_0x21ab0f['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x21ab0f['status']);const _0x255c88=await _0x21ab0f[_0x3433e2(0x916)]();if(_0x255c88[_0x3433e2(0xa3c)]?.[0x0]?.[_0x3433e2(0x1ab)]?.[_0x3433e2(0x7ff)]?.[0x0])return JSON[_0x3433e2(0xa51)](_0x255c88[_0x3433e2(0xa3c)][0x0][_0x3433e2(0x1ab)][_0x3433e2(0x7ff)][0x0][_0x3433e2(0x90b)]);else{let _0x4ef2dc=_0x3433e2(0x13d);if(_0x255c88[_0x3433e2(0xb08)]?.['blockReason'])_0x4ef2dc=_0x3433e2(0xb4f)+_0x255c88['promptFeedback'][_0x3433e2(0x861)]+'.';else _0x255c88[_0x3433e2(0xa3c)]?.[0x0]?.[_0x3433e2(0x789)]&&_0x255c88['candidates'][0x0][_0x3433e2(0x789)]!==_0x3433e2(0xc09)&&(_0x4ef2dc='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x255c88['candidates'][0x0][_0x3433e2(0x789)]+'.');console['error'](_0x4ef2dc,JSON[_0x3433e2(0xa24)](_0x255c88));throw new Error(_0x4ef2dc);}}async function handleStartSyncMode(_0x6a2214,_0x2d607f=![],_0x78c142=_0x361958(0x306)){const _0x18413f=_0x361958,_0x2d17ef=allQuizzes[_0x18413f(0x9f6)](_0x55ac1c=>_0x55ac1c['id']===_0x6a2214)||allQuizzesGlobal[_0x18413f(0x9f6)](_0x23b6a8=>_0x23b6a8['id']===_0x6a2214);if(!_0x2d17ef){showMessage(_0x18413f(0x82c));return;}currentQuizData=getShuffledQuiz(_0x2d17ef);const _0x223668=Math[_0x18413f(0x15f)](0x3e8+Math[_0x18413f(0x427)]()*0x2328)['toString'](),_0x2432cf=doc(db,_0x18413f(0x418)+appId+_0x18413f(0x664),_0x2d17ef[_0x18413f(0x4b4)]),_0x3393d6=await getDoc(_0x2432cf);if(!_0x3393d6[_0x18413f(0x6f9)]()){showMessage(_0x18413f(0x751));return;}const _0x426f23=_0x3393d6[_0x18413f(0xaff)]()[_0x18413f(0x282)]||[],_0x127c06={};if(_0x78c142===_0x18413f(0x27d)){const _0x45863d=[...ANONYMOUS_NAMES][_0x18413f(0x2b7)](()=>0.5-Math[_0x18413f(0x427)]());_0x426f23[_0x18413f(0x384)]((_0x167cf0,_0x279d0e)=>{const _0x539232=_0x18413f;_0x127c06[_0x167cf0]=_0x45863d[_0x279d0e]||_0x539232(0xc24)+(_0x279d0e+0x1);});}const _0x3e9c44=document[_0x18413f(0x403)](_0x18413f(0x4a4))[_0x18413f(0x98b)],_0x27332c=parseInt(document['getElementById']('sync-timer-duration-input')[_0x18413f(0x491)],0xa);let _0x2fc8f6={'timerMode':_0x18413f(0x103),'timerDuration':0x0};_0x3e9c44&&(_0x2fc8f6[_0x18413f(0xacc)]=_0x18413f(0x7a2),_0x2fc8f6['timerDuration']=_0x27332c||0xf0);try{const _0x595fbd=await addDoc(collection(db,_0x18413f(0x418)+appId+'/public/data/syncGames'),{'quizId':_0x2d17ef['id'],'pin':_0x223668,'status':_0x18413f(0x41c),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2d607f,'players':{},'gameVariant':_0x78c142,'reviewQuestionIndex':0x0,'playerNicknames':_0x127c06,'isAnonymousRevealed':![],..._0x2fc8f6});currentLiveGameId=_0x595fbd['id'],showView(_0x18413f(0xb84)),renderSyncLobbyView(_0x223668,_0x2d17ef['topic']),listenForSyncGameUpdates();}catch(_0x14ccd7){console[_0x18413f(0x51e)](_0x18413f(0x60c),_0x14ccd7),showMessage(_0x18413f(0x62a));}}function calculateFinalPodiumScores(_0x33ddb5){const _0x1d5ab9=_0x361958;if(!_0x33ddb5||!_0x33ddb5[_0x1d5ab9(0x8f6)]||!_0x33ddb5[_0x1d5ab9(0x414)])return _0x33ddb5[_0x1d5ab9(0x414)]||{};const _0x419dac=_0x33ddb5[_0x1d5ab9(0x8f6)][_0x1d5ab9(0x707)][_0x1d5ab9(0x6b7)],_0x46cde7=JSON[_0x1d5ab9(0xa51)](JSON[_0x1d5ab9(0xa24)](_0x33ddb5[_0x1d5ab9(0x414)]));return Object['values'](_0x46cde7)['forEach'](_0x1980ea=>{const _0x52ecd1=_0x1d5ab9,_0x527ddc=_0x1980ea['score'];let _0x3d6ba1=_0x527ddc,_0x1ee3e0=0x0;_0x33ddb5[_0x52ecd1(0x131)]&&_0x1980ea[_0x52ecd1(0x379)]&&_0x1980ea[_0x52ecd1(0x379)]['forEach'](_0x146b5c=>{const _0x300c98=_0x52ecd1;if(_0x146b5c[_0x300c98(0x4dd)]&&(_0x146b5c[_0x300c98(0x481)]===!![]||_0x146b5c[_0x300c98(0x481)]===_0x300c98(0x28a)))_0x1ee3e0+=0x1;else!_0x146b5c[_0x300c98(0x4dd)]&&(_0x146b5c['wasConfident']===!![]||_0x146b5c['wasConfident']==='confident')&&(_0x1ee3e0-=0x1);}),_0x3d6ba1+=_0x1ee3e0,_0x419dac>0x0&&_0x527ddc===_0x419dac&&(_0x3d6ba1+=0x1,_0x1980ea[_0x52ecd1(0x31a)]=!![]),_0x1980ea[_0x52ecd1(0xa6e)]=_0x3d6ba1;}),_0x46cde7;}function listenForSyncGameUpdates(){const _0x1590bc=_0x361958;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x397698=doc(db,_0x1590bc(0x418)+appId+_0x1590bc(0x996),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x397698,_0x1ab07c=>{const _0x2c89be=_0x1590bc;if(!_0x1ab07c['exists']()){sessionStorage[_0x2c89be(0x3ef)](_0x2c89be(0x831));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x2c89be(0x5b5)?showView(_0x2c89be(0x172)):showView(_0x2c89be(0x412));return;}const _0x1b1dbe=_0x1ab07c[_0x2c89be(0xaff)]();currentMode===_0x2c89be(0x5b5)?updateAdminSyncView(_0x1b1dbe):updateStudentSyncView(_0x1b1dbe);});}function renderSyncLobbyView(_0x2e3e64,_0x26dbe7){const _0x163344=_0x361958;liveGameView[_0x163344(0x86f)]=_0x163344(0x1e8)+_0x26dbe7+_0x163344(0x708)+_0x2e3e64+_0x163344(0x79b);const _0x50138b=document['getElementById'](_0x163344(0x642)),_0x5d2e1d=document['getElementById'](_0x163344(0x646));_0x50138b[_0x163344(0x224)](_0x163344(0x7cd),()=>{const _0x5c622e=_0x163344;_0x5d2e1d['style'][_0x5c622e(0xf0)]=_0x50138b[_0x5c622e(0x98b)]?'block':_0x5c622e(0x103);}),document[_0x163344(0x403)](_0x163344(0xc2e))['addEventListener'](_0x163344(0x920),async()=>{const _0x2c3169=_0x163344,_0x27f7e6=doc(db,_0x2c3169(0x418)+appId+_0x2c3169(0x996),currentLiveGameId),_0x4a9221=document[_0x2c3169(0x403)](_0x2c3169(0x642))[_0x2c3169(0x98b)];await updateDoc(_0x27f7e6,{'status':_0x2c3169(0x852),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x4a9221});});}function updateAdminSyncView(_0x3112a9){const _0x40c15f=_0x361958;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x3112a9[_0x40c15f(0x6b5)]){case _0x40c15f(0x41c):renderSyncLobbyView(_0x3112a9[_0x40c15f(0xc59)],_0x3112a9['shuffledQuiz'][_0x40c15f(0x411)]);const _0x4464ad=Object[_0x40c15f(0x68a)](_0x3112a9['players']||{})['filter'](([_0x432402,_0x488b12])=>_0x488b12['status']!==_0x40c15f(0x203));document[_0x40c15f(0x403)]('player-count')[_0x40c15f(0x317)]=_0x4464ad[_0x40c15f(0x6b7)],document['getElementById'](_0x40c15f(0x5d6))[_0x40c15f(0x86f)]=_0x4464ad[_0x40c15f(0x961)](([_0x3aab66,_0x25b137])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3aab66+_0x40c15f(0x388)+_0x3aab66+_0x40c15f(0xbd3))[_0x40c15f(0xbcc)]('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document[_0x40c15f(0x403)](_0x40c15f(0xc2e))[_0x40c15f(0x79a)]=_0x4464ad['length']===0x0;break;case'question':const _0x8c63d0=Object[_0x40c15f(0x9bd)](_0x3112a9[_0x40c15f(0x414)]||{})[_0x40c15f(0x9df)](_0x225969=>_0x225969[_0x40c15f(0x6b5)]!=='inactive'),_0x431189=_0x8c63d0[_0x40c15f(0x9df)](_0x53b779=>_0x53b779[_0x40c15f(0x929)])['length'],_0x18e943=_0x431189===_0x8c63d0['length']&&_0x8c63d0[_0x40c15f(0x6b7)]>0x0;let _0x15ab6d=![];if(_0x3112a9['timerMode']===_0x40c15f(0x7a2)){if(!_0x3112a9[_0x40c15f(0x6c2)]){console['log'](_0x40c15f(0x356));return;}const _0x5b3448=_0x3112a9[_0x40c15f(0x6c2)][_0x40c15f(0x10a)]()[_0x40c15f(0x91e)](),_0x3bfe1a=_0x3112a9[_0x40c15f(0x959)]*0x3e8,_0x3d2c8e=_0x5b3448+_0x3bfe1a,_0xa08480=_0x3d2c8e-Date[_0x40c15f(0x166)]();_0xa08480<=0x0&&(_0x15ab6d=!![]);}if((_0x18e943||_0x15ab6d)&&_0x3112a9[_0x40c15f(0x6b5)]==='question'){if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);const _0x311738=doc(db,_0x40c15f(0x418)+appId+_0x40c15f(0x996),currentLiveGameId),_0x3fbdb9=_0x3112a9['gameVariant']||'classic';_0x3fbdb9===_0x40c15f(0x27d)||_0x3fbdb9==='competition'?updateDoc(_0x311738,{'status':'results'}):updateDoc(_0x311738,{'status':_0x40c15f(0xb6e)});return;}if(document[_0x40c15f(0x403)](_0x40c15f(0xb56))===null)renderAdminSyncQuestionView(_0x3112a9);else{const _0x2a8527=document['getElementById'](_0x40c15f(0x6cf));_0x2a8527&&(_0x2a8527[_0x40c15f(0x317)]=_0x431189+'/'+_0x8c63d0['length']);const _0x34cf9b=document[_0x40c15f(0x403)](_0x40c15f(0x1c7));_0x34cf9b&&(_0x34cf9b[_0x40c15f(0x86f)]=_0x8c63d0[_0x40c15f(0x961)](_0x4d7b7a=>{const _0x1c8e51=_0x40c15f,_0x2f9c88=_0x4d7b7a[_0x1c8e51(0x929)]?'bg-green-500':_0x1c8e51(0x375),_0x3c4043=_0x4d7b7a[_0x1c8e51(0x929)]?_0x1c8e51(0x2be):_0x1c8e51(0x9dc);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x2f9c88+_0x1c8e51(0x853)+_0x3c4043+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4d7b7a[_0x1c8e51(0x2ea)]+_0x1c8e51(0x215)+_0x4d7b7a[_0x1c8e51(0x2ea)]+_0x1c8e51(0x357);})[_0x40c15f(0xbcc)](''));}if(_0x3112a9[_0x40c15f(0xacc)]===_0x40c15f(0x7a2)&&!_0x15ab6d){const _0x45221e=_0x3112a9[_0x40c15f(0x6c2)][_0x40c15f(0x10a)]()['getTime'](),_0x2c05a0=_0x3112a9['timerDuration']*0x3e8,_0x48286b=_0x45221e+_0x2c05a0;syncQuestionTimerInterval=setInterval(()=>{const _0x5d47e8=_0x40c15f,_0xda560=_0x48286b-Date[_0x5d47e8(0x166)](),_0x41d98d=document[_0x5d47e8(0x403)]('sync-timer-bar'),_0x2dd946=document[_0x5d47e8(0x403)](_0x5d47e8(0xc2a));if(_0xda560<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x41d98d)_0x41d98d[_0x5d47e8(0x77b)]['width']='0%';if(_0x2dd946)_0x2dd946[_0x5d47e8(0x317)]='0';const _0x57b8cb=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x25ab9b=_0x3112a9[_0x5d47e8(0x1d8)]||_0x5d47e8(0x306);_0x25ab9b===_0x5d47e8(0x27d)||_0x25ab9b===_0x5d47e8(0x8c9)?updateDoc(_0x57b8cb,{'status':_0x5d47e8(0x536)}):updateDoc(_0x57b8cb,{'status':_0x5d47e8(0xb6e)});}else{if(_0x41d98d&&_0x2dd946){const _0x2eace9=_0xda560/_0x2c05a0*0x64;_0x41d98d[_0x5d47e8(0x77b)]['width']=_0x2eace9+'%',_0x2dd946['textContent']=Math[_0x5d47e8(0x983)](_0xda560/0x3e8);}}},0x1f4);}break;case _0x40c15f(0xb6e):const _0x5493de=_0x3112a9['currentQuestionIndex'],_0x2d8864=_0x3112a9['shuffledQuiz'][_0x40c15f(0x707)][_0x5493de];renderSyncSummaryView(_0x3112a9,_0x2d8864,!![]);break;case'results':const _0x11c8ff=_0x3112a9[_0x40c15f(0x1d8)]||_0x40c15f(0x306);_0x11c8ff==='reveal_at_end'?renderAdminSyncDashboard(_0x3112a9,!![],_0x3112a9[_0x40c15f(0x561)]):renderAdminSyncDashboard(_0x3112a9,!![],_0x3112a9['currentQuestionIndex']);break;case _0x40c15f(0x29c):_0x3112a9['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x3112a9);sessionStorage[_0x40c15f(0x3ef)](_0x40c15f(0x831));const _0x1a3cc5=calculateFinalPodiumScores(_0x3112a9);showPodiumView(_0x1a3cc5,_0x40c15f(0x18e));break;}}function renderAdminSyncQuestionView(_0x5c0b7d){const _0x4aa62d=_0x361958,_0x404552=_0x5c0b7d[_0x4aa62d(0x19a)],_0x1a2b3c=_0x5c0b7d[_0x4aa62d(0x8f6)][_0x4aa62d(0x707)][_0x404552],_0x2e897c=_0x5c0b7d[_0x4aa62d(0x8f6)][_0x4aa62d(0x707)][_0x4aa62d(0x6b7)],_0x1bd1ed=Object['values'](_0x5c0b7d[_0x4aa62d(0x414)]||{})[_0x4aa62d(0x9df)](_0x4877a4=>_0x4877a4[_0x4aa62d(0x6b5)]!==_0x4aa62d(0x203)),_0xf4aa74=_0x1bd1ed[_0x4aa62d(0x9df)](_0x2025e6=>_0x2025e6[_0x4aa62d(0x929)])['length'],_0x375247=_0xf4aa74===_0x1bd1ed[_0x4aa62d(0x6b7)]&&_0x1bd1ed[_0x4aa62d(0x6b7)]>0x0,_0x49b652=(_0x1a2b3c[_0x4aa62d(0x6a5)]||[])[_0x4aa62d(0x961)](_0xee83af=>_0x4aa62d(0x8f2)+_0xee83af+_0x4aa62d(0x517))['join']('');let _0x443f04='';_0x5c0b7d[_0x4aa62d(0xacc)]===_0x4aa62d(0x7a2)&&(_0x443f04=_0x4aa62d(0xc33)+_0x5c0b7d['timerDuration']+'</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');liveGameView[_0x4aa62d(0x86f)]=_0x4aa62d(0x792)+(_0x404552+0x1)+_0x4aa62d(0xc41)+_0x2e897c+_0x4aa62d(0x14a)+_0x5c0b7d[_0x4aa62d(0xc59)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0xf4aa74+'/'+_0x1bd1ed[_0x4aa62d(0x6b7)]+_0x4aa62d(0x35d)+_0x443f04+_0x4aa62d(0x1a1)+_0x1a2b3c[_0x4aa62d(0xf5)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x49b652+_0x4aa62d(0xc00)+(!_0x375247?_0x4aa62d(0x79a):'')+_0x4aa62d(0x949);if(window['MathJax'])MathJax['typesetPromise']();document[_0x4aa62d(0x403)](_0x4aa62d(0xa8d))[_0x4aa62d(0x224)](_0x4aa62d(0x920),async()=>{const _0x5d5fcf=_0x4aa62d,_0x1d17f8=doc(db,'artifacts/'+appId+_0x5d5fcf(0x996),currentLiveGameId);await updateDoc(_0x1d17f8,{'status':_0x5d5fcf(0xb6e)});}),document[_0x4aa62d(0x403)](_0x4aa62d(0x5f6))[_0x4aa62d(0x823)]=()=>{const _0x2711a6=_0x4aa62d;openScratchpad(_0x1a2b3c,_0x1a2b3c[_0x2711a6(0x6a5)]||[]);},document[_0x4aa62d(0x403)](_0x4aa62d(0x32c))[_0x4aa62d(0x224)](_0x4aa62d(0x920),()=>{const _0x4ba8fc=_0x4aa62d;document[_0x4ba8fc(0x403)]('sync-player-management')['classList'][_0x4ba8fc(0xcca)](_0x4ba8fc(0x17c));});const _0x10816d=document[_0x4aa62d(0x403)]('end-sync-game-btn');_0x10816d&&(_0x10816d['onclick']=()=>{const _0x4952c5=_0x4aa62d;showConfirmation(_0x4952c5(0x9cd),async()=>{const _0xbde475=_0x4952c5,_0x3a73f8=doc(db,'artifacts/'+appId+_0xbde475(0x996),currentLiveGameId);await updateDoc(_0x3a73f8,{'status':_0xbde475(0x29c)});});});}function renderSyncLeaderboardView(_0x2416a9,_0x8665ab){const _0x46c5ed=_0x361958,_0x51b6a1=Object[_0x46c5ed(0x9bd)](_0x2416a9[_0x46c5ed(0x414)]||{});_0x51b6a1[_0x46c5ed(0x2b7)]((_0x56103f,_0xae0363)=>_0xae0363[_0x46c5ed(0xa6e)]-_0x56103f[_0x46c5ed(0xa6e)]);const _0xd6241a=_0x51b6a1[_0x46c5ed(0x4ca)](0x0,0x5);let _0x4ea940='';if(_0x8665ab){const _0x4a0184=_0x2416a9[_0x46c5ed(0x19a)]>=_0x2416a9[_0x46c5ed(0x8f6)][_0x46c5ed(0x707)]['length']-0x1;_0x4ea940=_0x46c5ed(0x347)+(_0x4a0184?_0x46c5ed(0x22c):_0x46c5ed(0x7ad))+_0x46c5ed(0x238);}else _0x4ea940=_0x46c5ed(0xc74);liveGameView[_0x46c5ed(0x86f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0xd6241a[_0x46c5ed(0x961)]((_0xe99641,_0x4da1c1)=>_0x46c5ed(0xb30)+(_0x4da1c1+0x1)+'.\x20'+_0xe99641['name']+_0x46c5ed(0x644)+_0xe99641['score']+_0x46c5ed(0x190))[_0x46c5ed(0xbcc)]('')+_0x46c5ed(0x26c)+_0x4ea940+_0x46c5ed(0x87f),_0x8665ab&&document['getElementById']('next-sync-question-btn')[_0x46c5ed(0x224)](_0x46c5ed(0x920),async()=>{const _0x1bde2a=_0x46c5ed,_0x4792ec=doc(db,_0x1bde2a(0x418)+appId+_0x1bde2a(0x996),currentLiveGameId),_0x130e6b=_0x2416a9['currentQuestionIndex']+0x1;if(_0x130e6b<_0x2416a9['shuffledQuiz']['questions'][_0x1bde2a(0x6b7)]){const _0x185daa={};Object['keys'](_0x2416a9[_0x1bde2a(0x414)])[_0x1bde2a(0x384)](_0x2ba289=>{const _0x28a7c8=_0x1bde2a;_0x185daa['players.'+_0x2ba289+_0x28a7c8(0x8b1)]=![];}),await updateDoc(_0x4792ec,{..._0x185daa,'status':_0x1bde2a(0x852),'currentQuestionIndex':_0x130e6b,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x4792ec,{'status':'podium'});});}async function handleJoinSyncGame(){const _0x2c9b94=_0x361958,_0x424991=prompt(_0x2c9b94(0x614));if(!_0x424991||_0x424991[_0x2c9b94(0x783)]()[_0x2c9b94(0x6b7)]!==0x2){showMessage(_0x2c9b94(0xc7a));return;}try{const _0x48ac83=collection(db,_0x2c9b94(0x418)+appId+_0x2c9b94(0x996)),_0x2f5077=query(_0x48ac83,where('pin','==',_0x424991[_0x2c9b94(0x783)]()),where(_0x2c9b94(0x6b5),'==',_0x2c9b94(0x41c))),_0x2a87e3=await getDocs(_0x2f5077);if(_0x2a87e3[_0x2c9b94(0x459)]){showMessage(_0x2c9b94(0x235));return;}const _0x67dec8=_0x2a87e3[_0x2c9b94(0x5b2)][0x0];currentLiveGameId=_0x67dec8['id'];const _0x2d14d8=_0x67dec8[_0x2c9b94(0xaff)](),_0x2176f4=doc(db,_0x2c9b94(0x418)+appId+_0x2c9b94(0x34c),_0x2d14d8[_0x2c9b94(0x705)]),_0x1589ee=await getDoc(_0x2176f4);if(!_0x1589ee['exists']())throw new Error(_0x2c9b94(0xada));const _0xd5caab=_0x1589ee[_0x2c9b94(0xaff)](),_0x3d1b38=doc(db,'artifacts/'+appId+_0x2c9b94(0x664),_0xd5caab[_0x2c9b94(0x4b4)]),_0x243805=await getDoc(_0x3d1b38);if(!_0x243805[_0x2c9b94(0x6f9)]())throw new Error(_0x2c9b94(0x3b8));currentQuizData=_0x2d14d8[_0x2c9b94(0x8f6)];const _0x58fcb7=_0x243805[_0x2c9b94(0xaff)]();showView('student-team-join'),showTeamPlayerSelection(_0x58fcb7[_0x2c9b94(0x282)],_0xd5caab[_0x2c9b94(0x411)]);const _0x2bdea6=document['getElementById'](_0x2c9b94(0x2c8));_0x2bdea6[_0x2c9b94(0x823)]=confirmAndJoinSyncGame;}catch(_0x326d2d){console[_0x2c9b94(0x51e)](_0x2c9b94(0x60b),_0x326d2d),showMessage(_0x2c9b94(0x201)+_0x326d2d[_0x2c9b94(0x931)]);}}function updateStudentSyncView(_0x42c346){const _0x3b6ab7=_0x361958,_0xed322d=_0x42c346['players'][localTeamPlayers[0x0]];if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x42c346[_0x3b6ab7(0x6b5)]){case _0x3b6ab7(0x41c):showView(_0x3b6ab7(0xb84)),liveGameView[_0x3b6ab7(0x86f)]=_0x3b6ab7(0x94c);break;case _0x3b6ab7(0x852):localPlayerTurnIndex=0x0;const _0x51bd6a=localTeamPlayers[_0x3b6ab7(0x10b)](_0x5cb751=>_0x42c346[_0x3b6ab7(0x414)][_0x5cb751]?.[_0x3b6ab7(0x929)]===!![]);if(_0x51bd6a)liveGameView[_0x3b6ab7(0x86f)]=_0x3b6ab7(0xf9);else{renderStudentSyncQuestionView(_0x42c346);if(_0x42c346[_0x3b6ab7(0xacc)]===_0x3b6ab7(0x7a2)){if(!_0x42c346[_0x3b6ab7(0x6c2)]){console[_0x3b6ab7(0xb07)]('Waiting\x20for\x20server\x20timestamp\x20for\x20timer...');return;}const _0x448d44=_0x42c346['questionDisplayedAt'][_0x3b6ab7(0x10a)]()[_0x3b6ab7(0x91e)](),_0x43caf8=_0x42c346[_0x3b6ab7(0x959)]*0x3e8,_0x136b86=_0x448d44+_0x43caf8;syncQuestionTimerInterval=setInterval(()=>{const _0x5c2397=_0x3b6ab7,_0x126e3f=_0x136b86-Date[_0x5c2397(0x166)](),_0x3ca45f=document['getElementById']('sync-timer-bar'),_0x1603cf=document[_0x5c2397(0x403)](_0x5c2397(0xc2a));if(_0x126e3f<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x3ca45f)_0x3ca45f[_0x5c2397(0x77b)][_0x5c2397(0xac2)]='0%';if(_0x1603cf)_0x1603cf[_0x5c2397(0x317)]='0';liveGameView[_0x5c2397(0x86f)]=_0x5c2397(0x19f);}else{if(_0x3ca45f&&_0x1603cf){const _0x4970a0=_0x126e3f/_0x43caf8*0x64;_0x3ca45f[_0x5c2397(0x77b)][_0x5c2397(0xac2)]=_0x4970a0+'%',_0x1603cf[_0x5c2397(0x317)]=Math['ceil'](_0x126e3f/0x3e8);}}},0x1f4);}}break;case'summary':liveGameView[_0x3b6ab7(0x86f)]=_0x3b6ab7(0xb09);break;case _0x3b6ab7(0x536):localPlayerTurnIndex=0x0;const _0x2f427d=_0x42c346[_0x3b6ab7(0x1d8)]||'classic';if(_0x2f427d==='reveal_at_end')renderAdminSyncDashboard(_0x42c346,![],_0x42c346[_0x3b6ab7(0x561)]);else _0x2f427d==='anonymous'||_0x2f427d===_0x3b6ab7(0x8c9)?renderAdminSyncDashboard(_0x42c346,![],_0x42c346[_0x3b6ab7(0x19a)]):renderStudentSyncResultsView(_0x42c346);break;case'podium':releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x3b6ab7(0x37d),handleFullscreenChange),document[_0x3b6ab7(0xb35)](_0x3b6ab7(0x711),handleVisibilityChange),sessionStorage['removeItem'](_0x3b6ab7(0x3c4)),sessionStorage['removeItem']('activeGameSession');const _0x3f34a6=calculateFinalPodiumScores(_0x42c346);showPodiumView(_0x3f34a6,_0x3b6ab7(0x18e));break;}}function renderStudentSyncResultsView(_0x321164){const _0x3e6096=_0x361958,_0x384481=localTeamPlayers['map'](_0x38a064=>_0x321164[_0x3e6096(0x414)][_0x38a064])[_0x3e6096(0x9df)](Boolean);_0x384481['sort']((_0x506efa,_0x257652)=>(_0x257652[_0x3e6096(0xa6e)]||0x0)-(_0x506efa[_0x3e6096(0xa6e)]||0x0));const _0x2262cb=_0x321164[_0x3e6096(0x1d8)]||_0x3e6096(0x306),_0x3f5b2a=_0x321164[_0x3e6096(0x8f6)]['questions'];let _0x2fccc1='';if(_0x2262cb===_0x3e6096(0x3cb)){const _0xdb765a=_0x321164[_0x3e6096(0x561)]>=_0x3f5b2a[_0x3e6096(0x6b7)]-0x1;_0xdb765a?_0x2fccc1=_0x3e6096(0x1df):_0x2fccc1='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>';}else{const _0x4883c7=_0x321164[_0x3e6096(0x19a)]>=_0x3f5b2a[_0x3e6096(0x6b7)]-0x1;_0x4883c7?_0x2fccc1=_0x3e6096(0x1df):_0x2fccc1=_0x3e6096(0x4c3);}const _0x6cccfe=_0x3e6096(0xbd8)+_0x384481[_0x3e6096(0x961)]((_0x46c5f7,_0x1e3664)=>_0x3e6096(0x9ef)+(_0x1e3664+0x1)+_0x3e6096(0x93b)+_0x46c5f7[_0x3e6096(0x2ea)]+_0x3e6096(0x20d)+_0x46c5f7[_0x3e6096(0xa6e)]+_0x3e6096(0x98c))[_0x3e6096(0xbcc)]('')+_0x3e6096(0x1d3)+_0x2fccc1+_0x3e6096(0x304);liveGameView[_0x3e6096(0x86f)]=_0x6cccfe;}function renderStudentSyncQuestionView(_0x1b7064){const _0x2400b1=_0x361958,_0x73d167=localTeamPlayers[_0x2400b1(0x9f6)](_0x134f3c=>_0x1b7064['players'][_0x134f3c]&&_0x1b7064[_0x2400b1(0x414)][_0x134f3c][_0x2400b1(0x929)]===![]);if(!_0x73d167){console[_0x2400b1(0xb07)](_0x2400b1(0xb76));return;}const _0x2d1988=_0x1b7064[_0x2400b1(0x19a)],_0x200c0c=_0x1b7064[_0x2400b1(0x8f6)][_0x2400b1(0x707)]['length'],_0xd90883=_0x1b7064[_0x2400b1(0x8f6)]['questions'][_0x2d1988],_0x56da19=_0xd90883[_0x2400b1(0x30c)]||_0x1b7064[_0x2400b1(0x8f6)]['quizType'];let _0x53b17d='',_0x446e64=![];switch(_0x56da19){case _0x2400b1(0x891):_0x53b17d=_0x2400b1(0x211);break;case _0x2400b1(0x385):case'fill_in_no_choices':_0x446e64=!![],_0x53b17d=_0x2400b1(0x590);break;case'matching_item':_0x446e64=!![],_0x53b17d=_0x2400b1(0x834)+(_0xd90883[_0x2400b1(0xaa2)]||[])[_0x2400b1(0x961)](_0x34d653=>_0x2400b1(0x7f5)+_0x34d653+'\x22>'+_0x34d653+_0x2400b1(0x53d))[_0x2400b1(0xbcc)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x2400b1(0x736):default:_0x53b17d=(_0xd90883[_0x2400b1(0x6a5)]||[])[_0x2400b1(0x961)]((_0x7d891c,_0x317fd1)=>_0x2400b1(0x9e0)+_0x317fd1+_0x2400b1(0x3e3)+_0x7d891c+_0x2400b1(0x486))['join']('');break;}let _0x6036ab='';_0x1b7064[_0x2400b1(0xacc)]===_0x2400b1(0x7a2)&&(_0x6036ab=_0x2400b1(0xc33)+_0x1b7064[_0x2400b1(0x959)]+_0x2400b1(0xb0a));liveGameView[_0x2400b1(0x86f)]=_0x2400b1(0x8ab)+(_0x2d1988+0x1)+_0x2400b1(0xc41)+_0x200c0c+_0x2400b1(0xdf)+_0x73d167+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x6036ab+_0x2400b1(0x1a1)+(_0xd90883[_0x2400b1(0xf5)]||_0xd90883[_0x2400b1(0xb42)])+_0x2400b1(0x296)+_0x53b17d+_0x2400b1(0x1bf);if(window['MathJax'])MathJax[_0x2400b1(0x738)]();function _0x227506(_0x5f0b61,_0x4d7405,_0x698b8e,_0x306aee){const _0x298752=_0x2400b1,_0x3ae25d=_0x698b8e[_0x298752(0x131)]===!![];if(_0x3ae25d){document[_0x298752(0x403)](_0x298752(0x449))[_0x298752(0x8c4)][_0x298752(0x754)]=_0x298752(0x18e);const _0x248c1c=document[_0x298752(0x403)](_0x298752(0x4bc));_0x248c1c['dataset'][_0x298752(0x67d)]=_0x5f0b61,_0x248c1c[_0x298752(0x8c4)][_0x298752(0x852)]=JSON[_0x298752(0xa24)](_0x4d7405),_0x248c1c[_0x298752(0x8c4)][_0x298752(0x55f)]=JSON['stringify'](_0x698b8e),_0x248c1c[_0x298752(0x8c4)][_0x298752(0x928)]=_0x306aee,document['getElementById'](_0x298752(0x449))[_0x298752(0x67e)][_0x298752(0x3e9)](_0x298752(0x17c));}else handleSyncAnswerSubmit(_0x5f0b61,_0x4d7405,_0x698b8e,_0x306aee,![]);}_0x446e64?document['getElementById'](_0x2400b1(0xbf7))[_0x2400b1(0x224)](_0x2400b1(0x920),()=>{const _0x95b719=_0x2400b1,_0x2f1478=document[_0x95b719(0x403)](_0x95b719(0x96b))||document[_0x95b719(0x403)](_0x95b719(0x262));if(_0x2f1478[_0x95b719(0x491)]['trim']()===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0x227506(_0x2f1478[_0x95b719(0x491)],_0xd90883,_0x1b7064,_0x73d167);}):document[_0x2400b1(0x2c6)](_0x2400b1(0xbbf))[_0x2400b1(0x384)](_0x746408=>{const _0x497062=_0x2400b1;_0x746408['addEventListener'](_0x497062(0x920),()=>{const _0x2de3ee=_0x497062;_0x227506(_0x746408[_0x2de3ee(0x8c4)]['value'],_0xd90883,_0x1b7064,_0x73d167);});});}async function handleSyncAnswerSubmit(_0x1f5058,_0x313318,_0x21e1a9,_0x6b6e78,_0x4e3a77){const _0x216101=_0x361958;document['querySelectorAll'](_0x216101(0x41f))[_0x216101(0x384)](_0x1be56c=>_0x1be56c[_0x216101(0x79a)]=!![]);const _0x3219ef=_0x313318[_0x216101(0x30c)]||_0x21e1a9[_0x216101(0x8f6)][_0x216101(0x94d)];let _0x366d50=![],_0x15fa9e=_0x1f5058;switch(_0x3219ef){case'true_false':const _0x1cd212=parseInt(_0x1f5058),_0x5134bb=_0x313318[_0x216101(0xc73)]===!![]||String(_0x313318[_0x216101(0xc73)])[_0x216101(0x985)]()===_0x216101(0x4db);_0x366d50=_0x1cd212===0x0&&_0x5134bb||_0x1cd212===0x1&&!_0x5134bb,_0x15fa9e=_0x1cd212===0x0?'ใช่\x20/\x20ถูก':'ไม่ใช่\x20/\x20ผิด';break;case _0x216101(0x385):case _0x216101(0x163):_0x366d50=await gradeShortAnswer(_0x1f5058,_0x313318);break;case'matching_item':_0x366d50=_0x1f5058===_0x313318['correctResponse'];break;case _0x216101(0x736):default:const _0x3b6083=parseInt(_0x1f5058);_0x366d50=_0x3b6083===_0x313318[_0x216101(0x47b)];_0x313318[_0x216101(0x6a5)]&&_0x313318[_0x216101(0x6a5)][_0x3b6083]&&(_0x15fa9e=_0x313318[_0x216101(0x6a5)][_0x3b6083]);break;}const _0x167b90=doc(db,_0x216101(0x418)+appId+'/public/data/syncGames',currentLiveGameId),_0x32e5f3={},_0x335be7=_0x21e1a9[_0x216101(0x414)][_0x6b6e78]?.['answers']||[],_0x3d09c3={'questionIndex':_0x21e1a9[_0x216101(0x19a)],'questionId':_0x313318['id'],'answer':_0x1f5058,'answerText':_0x15fa9e,'isCorrect':_0x366d50,'originalQuestionText':_0x313318[_0x216101(0xf5)]||_0x313318[_0x216101(0xb42)],'wasConfident':_0x4e3a77},_0x28d7bd=_0x335be7[_0x216101(0x9df)](_0x364008=>_0x364008[_0x216101(0x59c)]!==_0x21e1a9['currentQuestionIndex']),_0x10238b=[..._0x28d7bd,_0x3d09c3],_0x19ed5c=_0x10238b[_0x216101(0x9df)](_0x3d6064=>_0x3d6064['isCorrect'])[_0x216101(0x6b7)];_0x32e5f3['players.'+_0x6b6e78+_0x216101(0xab2)]=_0x10238b,_0x32e5f3[_0x216101(0x1d7)+_0x6b6e78+_0x216101(0x8f5)]=_0x19ed5c,_0x32e5f3[_0x216101(0x1d7)+_0x6b6e78+_0x216101(0x8b1)]=!![];let _0xb7178b=null;(_0x3219ef===_0x216101(0x736)||_0x3219ef===_0x216101(0x891)||_0x3219ef===_0x216101(0xbb8))&&(_0xb7178b=parseInt(_0x1f5058)),_0x32e5f3[_0x216101(0x1d7)+_0x6b6e78+_0x216101(0x6e2)]=_0xb7178b,await updateDoc(_0x167b90,_0x32e5f3);}initialize();
