const _0x18fcf7=_0x20ce;(function(_0x490624,_0xc99c48){const _0x278154=_0x20ce,_0x368d19=_0x490624();while(!![]){try{const _0x53f32e=parseInt(_0x278154(0x386))/0x1+parseInt(_0x278154(0x9ac))/0x2+parseInt(_0x278154(0x5c5))/0x3*(parseInt(_0x278154(0xa35))/0x4)+-parseInt(_0x278154(0xae0))/0x5+-parseInt(_0x278154(0x39a))/0x6*(parseInt(_0x278154(0x63f))/0x7)+-parseInt(_0x278154(0x5cc))/0x8+parseInt(_0x278154(0x294))/0x9;if(_0x53f32e===_0xc99c48)break;else _0x368d19['push'](_0x368d19['shift']());}catch(_0x3b9506){_0x368d19['push'](_0x368d19['shift']());}}}(_0x55dd,0x2aace));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x18fcf7(0x9b3),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x18fcf7(0x9b3),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x18fcf7(0x9b3),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x35ff2b=_0x18fcf7;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x35ff2b(0xae2)][_0x35ff2b(0x474)]('screen'),console[_0x35ff2b(0xced)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock['addEventListener'](_0x35ff2b(0xa59),()=>{console['log']('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x3fa07d){console[_0x35ff2b(0x537)](_0x35ff2b(0x2a0)+_0x3fa07d['name']+',\x20'+_0x3fa07d['message']);}else console[_0x35ff2b(0x5f5)](_0x35ff2b(0x458));},releaseWakeLock=async()=>{const _0x394360=_0x18fcf7;wakeLock!==null&&(await wakeLock[_0x394360(0xa59)](),wakeLock=null,console['log'](_0x394360(0x9ec)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x4862d9=_0x18fcf7;if(!document[_0x4862d9(0x9c6)][_0x4862d9(0x5a1)][_0x4862d9(0xbf1)](_0x4862d9(0x2bf))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x5b85b3=_0x4862d9;document[_0x5b85b3(0x9c6)][_0x5b85b3(0x5a1)][_0x5b85b3(0x1f5)](_0x5b85b3(0x2bf)),console['log'](_0x5b85b3(0x84d));},inactivityTime);}}function wakeUpScreen(_0x42dde3){const _0x265ef1=_0x18fcf7;_0x42dde3&&(_0x42dde3['stopPropagation'](),_0x42dde3[_0x265ef1(0xc63)]());document[_0x265ef1(0x9c6)][_0x265ef1(0x5a1)][_0x265ef1(0xbee)](_0x265ef1(0x2bf));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x73cf64=_0x265ef1;document[_0x73cf64(0x9c6)][_0x73cf64(0x5a1)][_0x73cf64(0x1f5)](_0x73cf64(0x2bf));},inactivityTime);}function stopDimTimer(){const _0x4e4551=_0x18fcf7;if(dimTimer)clearTimeout(dimTimer);document[_0x4e4551(0x9c6)][_0x4e4551(0x5a1)]['remove'](_0x4e4551(0x2bf)),window[_0x4e4551(0xb86)]('mousemove',resetDimTimer),window['removeEventListener'](_0x4e4551(0x5c8),resetDimTimer),window[_0x4e4551(0xb86)](_0x4e4551(0x86e),resetDimTimer),window['removeEventListener']('keydown',resetDimTimer),console[_0x4e4551(0xced)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x4f1aa0,_0x11e439=![]){const _0x566d38=_0x18fcf7,_0x31fce7=allQuizzes['find'](_0x5ed503=>_0x5ed503['id']===_0x4f1aa0)||allQuizzesGlobal['find'](_0x4806ad=>_0x4806ad['id']===_0x4f1aa0);if(!_0x31fce7){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x31fce7);const _0x3cecdf=Math[_0x566d38(0x910)](0x3e8+Math[_0x566d38(0xc45)]()*0x2328)[_0x566d38(0xa76)]();try{const _0x381a28=await addDoc(collection(db,_0x566d38(0x944)+appId+_0x566d38(0xcf6)),{'quizId':_0x31fce7['id'],'projectId':_0x31fce7[_0x566d38(0x15d)],'status':_0x566d38(0x900),'pin':_0x3cecdf,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x11e439});currentTeamQuizId=_0x381a28['id'],showView(_0x566d38(0xa33)),renderAdminTeamQuizDashboard(_0x3cecdf,_0x31fce7['topic']),listenForTeamQuizUpdates();}catch(_0x390145){console['error'](_0x566d38(0x8c8),_0x390145),showMessage(_0x566d38(0x65c));}}function renderAdminTeamQuizDashboard(_0xe4d62c,_0x51fc8d,_0x5d4750='team'){const _0x5a0f1e=_0x18fcf7,_0x5b124a=_0x5d4750===_0x5a0f1e(0x5ad)?_0x5a0f1e(0x324):_0x5a0f1e(0x3e4);liveGameView[_0x5a0f1e(0x1a0)]=_0x5a0f1e(0x5f0)+_0x5b124a+':\x20'+_0x51fc8d+_0x5a0f1e(0xa8b)+_0xe4d62c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x5a0f1e(0x360)]('end-team-quiz-btn')[_0x5a0f1e(0x616)](_0x5a0f1e(0xc47),async()=>{const _0x1c8251=_0x5a0f1e;showConfirmation(_0x1c8251(0x838),async()=>{const _0x418b77=_0x1c8251;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView(_0x418b77(0x6b8));});});}function listenForTeamQuizUpdates(){const _0x32ec36=_0x18fcf7;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0xea9258=doc(db,_0x32ec36(0x944)+appId+_0x32ec36(0xcf6),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0xea9258,_0xf3d9b6=>{const _0x5e2478=_0x32ec36;if(!_0xf3d9b6[_0x5e2478(0x815)]()){sessionStorage[_0x5e2478(0x134)](_0x5e2478(0x509));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x5e2478(0x46f));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView('project-detail'):showView(_0x5e2478(0x35e));return;}const _0x122821=_0xf3d9b6[_0x5e2478(0x9e7)]();if(currentMode===_0x5e2478(0x252)){if(_0x122821[_0x5e2478(0x998)]==='group'&&_0x122821[_0x5e2478(0x23b)]!=='podium'&&_0x122821[_0x5e2478(0x23b)]!==_0x5e2478(0x763)){const _0x1a1cc9=Object[_0x5e2478(0x85e)](_0x122821[_0x5e2478(0x56c)]||{});if(_0x1a1cc9[_0x5e2478(0x633)]>0x0){const _0x3fb97d=_0x1a1cc9[_0x5e2478(0x987)](_0x1bb3d4=>_0x1bb3d4[_0x5e2478(0xa4b)]===!![]);_0x3fb97d&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x122821);}else{if(_0x122821['status']===_0x5e2478(0x394)||_0x122821[_0x5e2478(0x23b)]===_0x5e2478(0x763)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x122821[_0x5e2478(0x998)]==='group'){const _0x5e776f=_0x122821['groups'][userId];(!_0x5e776f||!_0x5e776f[_0x5e2478(0xa4b)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x33aff3){const _0xe42ddb=_0x18fcf7;console[_0xe42ddb(0xced)](_0xe42ddb(0x6a4));const _0x27c55a=doc(db,_0xe42ddb(0x944)+appId+_0xe42ddb(0xcf6),_0x33aff3);try{const _0x290507=await getDoc(_0x27c55a);if(_0x290507['exists']()){const _0x5c233f=_0x290507[_0xe42ddb(0x9e7)]();_0x5c233f['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x5c233f);}await updateDoc(_0x27c55a,{'status':'podium'});}catch(_0x586e52){console[_0xe42ddb(0x537)](_0xe42ddb(0x980),_0x586e52);}}function updateAdminTeamDashboard(_0x39e34d){const _0x136af3=_0x18fcf7,_0x56fdaf=document[_0x136af3(0x360)](_0x136af3(0x561));if(!_0x56fdaf)return;const _0x159469=_0x39e34d[_0x136af3(0x998)]||_0x136af3(0xcac),_0x835e78=currentQuizData['questions']['length'];if(_0x159469===_0x136af3(0x5ad)){const _0x44eb7d=Object[_0x136af3(0x85e)](_0x39e34d['groups']||{});if(_0x44eb7d['length']===0x0){_0x56fdaf['innerHTML']='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0x3406c4=[..._0x44eb7d][_0x136af3(0x5a4)]((_0x563aec,_0x480c3b)=>_0x480c3b[_0x136af3(0x8c2)]-_0x563aec[_0x136af3(0x8c2)]),_0x2ce5b6=_0x3406c4[_0x136af3(0x985)]((_0x1e5796,_0x256793)=>{const _0x51e694=_0x136af3,_0xc7d61b=_0x1e5796[_0x51e694(0x2e1)]?.['length']||0x0;return _0x51e694(0x411)+(_0x256793+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x1e5796[_0x51e694(0xbd1)][_0x51e694(0x155)](',\x20')+_0x51e694(0x768)+_0xc7d61b+'/'+_0x835e78+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x1e5796[_0x51e694(0x8c2)]+_0x51e694(0xbe6);})[_0x136af3(0x155)](''),_0x1d7d3a=currentQuizData[_0x136af3(0x3b7)]['map']((_0x33b922,_0x140fa6)=>{const _0x22ac96=_0x136af3;let _0x411079=0x0,_0x20d21f=0x0;_0x44eb7d[_0x22ac96(0xc92)](_0x2a9ff0=>{const _0x861b00=_0x22ac96,_0x570d60=_0x2a9ff0[_0x861b00(0x2e1)]?.[_0x861b00(0x64b)](_0x2a373e=>_0x2a373e[_0x861b00(0x3f6)]===_0x140fa6);if(_0x570d60){_0x20d21f++;if(_0x570d60[_0x861b00(0xb33)])_0x411079++;}});const _0x61e5d4=_0x20d21f>0x0&&_0x20d21f===_0x44eb7d[_0x22ac96(0x633)],_0xadef1a=_0x61e5d4?'bg-green-200\x20text-green-900\x20font-bold':_0x22ac96(0xb3a),_0x53f912=_0x61e5d4?_0x22ac96(0x2fc):'';return _0x22ac96(0x249)+_0xadef1a+_0x22ac96(0x904)+(_0x140fa6+0x1)+_0x22ac96(0xa18)+_0x53f912+_0x22ac96(0x1c3)+_0x411079+'/'+_0x44eb7d[_0x22ac96(0x633)]+'\x20กลุ่ม</p></div>';})[_0x136af3(0x155)]('');_0x56fdaf['innerHTML']=_0x136af3(0x2ce)+_0x2ce5b6+_0x136af3(0x614)+_0x1d7d3a+_0x136af3(0x16b);return;}const _0x250e2b=_0x39e34d[_0x136af3(0x248)]||{},_0x477dd6=Object['keys'](_0x250e2b);if(_0x477dd6[_0x136af3(0x633)]===0x0){_0x56fdaf['innerHTML']=_0x136af3(0xaf1);return;}const _0x315b92=_0x477dd6[_0x136af3(0x985)](_0x43deb2=>({'name':_0x43deb2,'score':_0x250e2b[_0x43deb2]['score']||0x0}))[_0x136af3(0x5a4)]((_0x2fb238,_0x11753a)=>_0x11753a['score']-_0x2fb238[_0x136af3(0x8c2)]),_0x57bb06=_0x315b92[_0x136af3(0x985)](_0x524759=>{const _0x5bff11=_0x136af3,_0x3cc745=_0x250e2b[_0x524759[_0x5bff11(0x3d8)]]?.[_0x5bff11(0x2e1)]?.['length']||0x0,_0x5167a0=Math[_0x5bff11(0x20b)](_0x835e78/_0x477dd6['length']);return _0x5bff11(0xc79)+_0x524759[_0x5bff11(0x3d8)]+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x3cc745+'/'+_0x5167a0+_0x5bff11(0x271)+_0x524759['score']+_0x5bff11(0x80c);})[_0x136af3(0x155)](''),_0xf8aa02=_0x477dd6['reduce']((_0x5e9e97,_0x2d54d8)=>_0x5e9e97+(_0x250e2b[_0x2d54d8]['answers']?.[_0x136af3(0x633)]||0x0),0x0),_0x2bcd31=currentQuizData[_0x136af3(0x3b7)][_0x136af3(0x985)]((_0x44b9b6,_0x11da4f)=>{const _0x479633=_0x136af3;let _0x36e91a=null,_0x5c5901=null;for(const _0x27ed2b of _0x477dd6){const _0x218842=_0x250e2b[_0x27ed2b][_0x479633(0x2e1)]?.[_0x479633(0x64b)](_0x2d3140=>_0x2d3140[_0x479633(0x3f6)]===_0x11da4f);if(_0x218842){_0x36e91a=_0x218842,_0x5c5901=_0x27ed2b;break;}}const _0xea944f=!!_0x36e91a,_0x3984ef=_0xea944f&&_0x36e91a[_0x479633(0xb33)],_0x24057c=(Math[_0x479633(0x910)](_0x11da4f/_0x477dd6['length'])+0x1)*_0x477dd6[_0x479633(0x633)],_0x19fc21=_0xf8aa02>=_0x24057c,_0x4b84d7=_0x19fc21?_0x479633(0x61a):_0x479633(0xb3a),_0x21c1c4=_0x19fc21?_0x479633(0x2fc):'';let _0x43dc18=_0x479633(0x9d7);return _0xea944f&&(_0x43dc18=_0x5c5901+_0x479633(0xa97)+(_0x3984ef?_0x479633(0xb38):_0x479633(0x420))),_0x479633(0x249)+_0x4b84d7+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x11da4f+0x1)+_0x479633(0xa18)+_0x21c1c4+_0x479633(0x812)+_0x43dc18+_0x479633(0xc57);})[_0x136af3(0x155)]('');_0x56fdaf[_0x136af3(0x1a0)]=_0x136af3(0x72a)+_0x57bb06+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x2bcd31+_0x136af3(0x16b);}async function handleJoinTeamQuiz(){const _0x235143=_0x18fcf7,_0x206c93=prompt(_0x235143(0xa90));if(!_0x206c93||_0x206c93[_0x235143(0x665)]()[_0x235143(0x633)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x30cf03=collection(db,_0x235143(0x944)+appId+_0x235143(0xcf6)),_0x19de08=query(_0x30cf03,where('pin','==',_0x206c93[_0x235143(0x665)]()),where(_0x235143(0x23b),'==',_0x235143(0x900))),_0x11694e=await getDocs(_0x19de08);if(_0x11694e[_0x235143(0x62a)]){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x2109d1=_0x11694e['docs'][0x0];currentTeamQuizId=_0x2109d1['id'];const _0x277b34=_0x2109d1[_0x235143(0x9e7)](),_0x74f80a=doc(db,_0x235143(0x944)+appId+_0x235143(0x382),_0x277b34['projectId']),_0x48a4e7=doc(db,_0x235143(0x944)+appId+'/public/data/quizzes',_0x277b34['quizId']),[_0x610575,_0x15ea01]=await Promise[_0x235143(0x9b3)]([getDoc(_0x74f80a),getDoc(_0x48a4e7)]);if(!_0x610575[_0x235143(0x815)]()||!_0x15ea01[_0x235143(0x815)]())throw new Error(_0x235143(0xb39));currentQuizData=getShuffledQuiz({'id':_0x15ea01['id'],..._0x15ea01['data']()});const _0x38e65a=_0x610575[_0x235143(0x9e7)]();showTeamPlayerSelection(_0x38e65a[_0x235143(0x257)],currentQuizData[_0x235143(0x94f)]);}catch(_0x365216){console[_0x235143(0x537)](_0x235143(0x461),_0x365216),showMessage(_0x235143(0x920)+_0x365216[_0x235143(0x42e)]);}}async function handleJoinGroupActivity(){const _0x31b4cc=_0x18fcf7,_0xf4913a=prompt(_0x31b4cc(0xb60));if(!_0xf4913a||_0xf4913a[_0x31b4cc(0x665)]()[_0x31b4cc(0x633)]!==0x4){showMessage(_0x31b4cc(0x160));return;}const _0x3841af=_0xf4913a[_0x31b4cc(0x665)]();showMessage(_0x31b4cc(0x72c));try{const _0x453753=collection(db,_0x31b4cc(0x944)+appId+_0x31b4cc(0xcf6)),_0x32853a=query(_0x453753,where(_0x31b4cc(0xb11),'==',_0x3841af),where(_0x31b4cc(0x23b),'==',_0x31b4cc(0x900))),_0x3ebe85=await getDocs(_0x32853a);if(!_0x3ebe85[_0x31b4cc(0x62a)]){console[_0x31b4cc(0xced)](_0x31b4cc(0x1c4)),await proceedWithTeamQuizJoin(_0x3ebe85[_0x31b4cc(0x8d0)][0x0]);return;}const _0x38ea6f=collection(db,_0x31b4cc(0x944)+appId+_0x31b4cc(0x69d)),_0xd62f7f=query(_0x38ea6f,where(_0x31b4cc(0xb11),'==',_0x3841af),where('status','==',_0x31b4cc(0x900))),_0x58e5de=await getDocs(_0xd62f7f);if(!_0x58e5de['empty']){console['log'](_0x31b4cc(0x353)),await proceedWithSyncQuizJoin(_0x58e5de[_0x31b4cc(0x8d0)][0x0]);return;}showMessage(_0x31b4cc(0x833));}catch(_0x2edc16){console[_0x31b4cc(0x537)](_0x31b4cc(0x3dd),_0x2edc16),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x2edc16[_0x31b4cc(0x42e)]);}}async function proceedWithTeamQuizJoin(_0x5f342a){const _0xeb0cbc=_0x18fcf7;currentTeamQuizId=_0x5f342a['id'];const _0x3640f9=_0x5f342a['data'](),_0x1d6c89=doc(db,_0xeb0cbc(0x944)+appId+_0xeb0cbc(0x382),_0x3640f9[_0xeb0cbc(0x15d)]),_0x5ed36c=doc(db,_0xeb0cbc(0x944)+appId+_0xeb0cbc(0x46a),_0x3640f9[_0xeb0cbc(0x30a)]),[_0x4caa6c,_0x590f79]=await Promise['all']([getDoc(_0x1d6c89),getDoc(_0x5ed36c)]);if(!_0x4caa6c[_0xeb0cbc(0x815)]()||!_0x590f79[_0xeb0cbc(0x815)]())throw new Error(_0xeb0cbc(0xb39));currentQuizData=getShuffledQuiz({'id':_0x590f79['id'],..._0x590f79[_0xeb0cbc(0x9e7)]()}),showTeamPlayerSelection(_0x4caa6c['data']()[_0xeb0cbc(0x257)],currentQuizData['topic'],_0x3640f9[_0xeb0cbc(0x998)]||_0xeb0cbc(0xcac)),messageModal[_0xeb0cbc(0x5a1)][_0xeb0cbc(0x1f5)]('hidden');}async function proceedWithSyncQuizJoin(_0x2b3255){const _0x5c4d59=_0x18fcf7;currentLiveGameId=_0x2b3255['id'];const _0x27d521=_0x2b3255['data'](),_0x5ca7c0=doc(db,_0x5c4d59(0x944)+appId+_0x5c4d59(0x46a),_0x27d521[_0x5c4d59(0x30a)]),_0x6420ae=await getDoc(_0x5ca7c0);if(!_0x6420ae[_0x5c4d59(0x815)]())throw new Error(_0x5c4d59(0x9c8));const _0x38bf5b=_0x6420ae[_0x5c4d59(0x9e7)](),_0xae90d5=doc(db,_0x5c4d59(0x944)+appId+_0x5c4d59(0x382),_0x38bf5b[_0x5c4d59(0x15d)]),_0x16b6fc=await getDoc(_0xae90d5);if(!_0x16b6fc[_0x5c4d59(0x815)]())throw new Error(_0x5c4d59(0x12d));currentQuizData=_0x27d521[_0x5c4d59(0xa5a)],showView(_0x5c4d59(0xceb)),showTeamPlayerSelection(_0x16b6fc[_0x5c4d59(0x9e7)]()['students'],_0x38bf5b[_0x5c4d59(0x94f)],_0x5c4d59(0xa52)),document[_0x5c4d59(0x360)](_0x5c4d59(0x1a8))['onclick']=confirmAndJoinSyncGame,messageModal[_0x5c4d59(0x5a1)]['add']('hidden');}function getCleanApplicationHTML(){const _0x3c9c33=_0x18fcf7,_0x239a91=document[_0x3c9c33(0x360)](_0x3c9c33(0x7a8));if(!_0x239a91)return'';const _0x2f72f8=_0x239a91[_0x3c9c33(0x937)](!![]);return _0x2f72f8[_0x3c9c33(0x801)](_0x3c9c33(0x84b))[_0x3c9c33(0xc92)](_0x5bb289=>{const _0x28e53d=_0x3c9c33;_0x5bb289['classList']['remove'](_0x28e53d(0xa1c),'incorrect'),_0x5bb289[_0x28e53d(0xa78)]=![];}),_0x2f72f8[_0x3c9c33(0x1a0)];}function showTeamPlayerSelection(_0x3dbeb8,_0x591c48,_0x45e432=_0x18fcf7(0xcac)){const _0x2e2fd9=_0x18fcf7;studentInitialView['classList'][_0x2e2fd9(0x1f5)]('hidden'),studentJoinGameView[_0x2e2fd9(0x5a1)]['add']('hidden'),document['getElementById'](_0x2e2fd9(0x4cf))[_0x2e2fd9(0x5a1)][_0x2e2fd9(0xbee)](_0x2e2fd9(0x29e));let _0x5ba7c7=_0x2e2fd9(0x3e4);if(_0x45e432===_0x2e2fd9(0x5ad))_0x5ba7c7='Group\x20Mode';else _0x45e432==='sync'&&(_0x5ba7c7='Sync\x20Mode');document[_0x2e2fd9(0x360)](_0x2e2fd9(0x92a))['textContent']=_0x5ba7c7+':\x20'+_0x591c48;const _0x446863=document[_0x2e2fd9(0x360)](_0x2e2fd9(0x5b8));if(!_0x3dbeb8||_0x3dbeb8[_0x2e2fd9(0x633)]===0x0){_0x446863['innerHTML']=_0x2e2fd9(0x96f),document['getElementById'](_0x2e2fd9(0x1a8))[_0x2e2fd9(0xa78)]=!![];return;}_0x446863[_0x2e2fd9(0x1a0)]=_0x3dbeb8[_0x2e2fd9(0x985)](_0x363259=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x363259+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x363259+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x2e2fd9(0x155)](''),document[_0x2e2fd9(0x360)](_0x2e2fd9(0x1a8))['disabled']=![];}async function confirmAndStartTeamQuiz(){const _0x1aa06d=_0x18fcf7,_0x282b4c=Array[_0x1aa06d(0x7bc)](document['querySelectorAll']('input[name=\x22team_player\x22]:checked'))[_0x1aa06d(0x985)](_0x45746b=>_0x45746b[_0x1aa06d(0x1db)]);if(_0x282b4c[_0x1aa06d(0x633)]===0x0){showMessage(_0x1aa06d(0x905));return;}localTeamPlayers=_0x282b4c,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x4ca146=doc(db,_0x1aa06d(0x944)+appId+_0x1aa06d(0xcf6),currentTeamQuizId);try{const _0x26d38e=await getDoc(_0x4ca146);if(!_0x26d38e[_0x1aa06d(0x815)]())throw new Error(_0x1aa06d(0x139));const _0x957166=_0x26d38e[_0x1aa06d(0x9e7)]();if(_0x957166['mode']===_0x1aa06d(0x5ad)){const _0x18a0fa={[_0x1aa06d(0x8bf)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x4ca146,_0x18a0fa);}else{const _0x2a65a1=_0x957166[_0x1aa06d(0x248)]||{};localTeamPlayers['forEach'](_0x1b7ade=>{!_0x2a65a1[_0x1b7ade]&&(_0x2a65a1[_0x1b7ade]={'score':0x0,'answers':[]});}),await updateDoc(_0x4ca146,{'responses':_0x2a65a1});}document[_0x1aa06d(0x360)]('student-team-selection-view')[_0x1aa06d(0x5a1)]['add'](_0x1aa06d(0x29e)),renderTeamQuizQuestion();const _0x2e22e5={'gameId':currentTeamQuizId,'mode':_0x957166['mode']||_0x1aa06d(0xcac),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1aa06d(0xc5d)](_0x1aa06d(0x509),JSON[_0x1aa06d(0x639)](_0x2e22e5)),listenForTeamQuizUpdates();}catch(_0x27088f){console[_0x1aa06d(0x537)](_0x1aa06d(0xafb),_0x27088f),showMessage(_0x1aa06d(0xb01));}}async function renderTeamQuizQuestion(){const _0x53ba2a=_0x18fcf7;if(localQuestionIndex>=currentQuizData['questions'][_0x53ba2a(0x633)]){displayTeamQuizFinalResults();return;}const _0x187716=currentQuizData[_0x53ba2a(0x3b7)][localQuestionIndex],_0x38d83c=localTeamPlayers[localPlayerIndex],_0x3243ba=_0x187716[_0x53ba2a(0x434)]||currentQuizData[_0x53ba2a(0x677)];let _0x2ae237=_0x187716[_0x53ba2a(0x7e5)]||_0x187716['questionText'],_0x336f30='';switch(_0x3243ba){case _0x53ba2a(0xc24):case'fill_in_with_choices':_0x336f30=_0x187716[_0x53ba2a(0x211)][_0x53ba2a(0x985)]((_0x771fc0,_0x1085ae)=>_0x53ba2a(0x996)+_0x1085ae+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x1085ae+_0x53ba2a(0x8dd)+_0x1085ae+'\x22>'+_0x771fc0+_0x53ba2a(0x6dc))[_0x53ba2a(0x155)]('');break;case _0x53ba2a(0x8e2):_0x336f30=_0x53ba2a(0xbcb);break;case'short_answer':case _0x53ba2a(0x4d3):_0x336f30=_0x53ba2a(0x9aa);break;case _0x53ba2a(0x463):_0x336f30='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x187716['allResponses']['map'](_0x585d0c=>'<option\x20value=\x22'+_0x585d0c+'\x22>'+_0x585d0c+_0x53ba2a(0x76e))['join']('')+_0x53ba2a(0x2b3);break;default:_0x336f30=_0x53ba2a(0xb51);break;}studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x53ba2a(0x3b7)]['length']+_0x53ba2a(0x1a2)+_0x38d83c+_0x53ba2a(0x6b1)+(localQuestionIndex+0x1)+'.\x20'+_0x2ae237+_0x53ba2a(0x70e)+(_0x187716[_0x53ba2a(0x931)]?_0x53ba2a(0x847)+_0x187716[_0x53ba2a(0x931)]+_0x53ba2a(0x2c6):'')+_0x53ba2a(0x755)+_0x336f30+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea['classList'][_0x53ba2a(0xbee)](_0x53ba2a(0x29e));if(window[_0x53ba2a(0xb63)])MathJax['typesetPromise']([studentQuizArea]);document['getElementById'](_0x53ba2a(0x921))[_0x53ba2a(0x616)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x47e7c5=_0x18fcf7,_0x237080=currentQuizData['questions'][localQuestionIndex],_0x1675a9=_0x237080[_0x47e7c5(0x434)]||currentQuizData[_0x47e7c5(0x677)];let _0x44c3a6=null,_0x1ffbc9=![];if(_0x1675a9===_0x47e7c5(0x693)||_0x1675a9==='fill_in_no_choices'){const _0xe1c41b=document[_0x47e7c5(0xc8a)](_0x47e7c5(0x7bf));if(!_0xe1c41b||!_0xe1c41b[_0x47e7c5(0x1db)][_0x47e7c5(0x665)]()){showMessage(_0x47e7c5(0x64c));return;}_0x44c3a6=_0xe1c41b[_0x47e7c5(0x1db)][_0x47e7c5(0x665)](),_0x1ffbc9=await gradeShortAnswer(_0x44c3a6,_0x237080);}else{const _0x44ae5b=document[_0x47e7c5(0xc8a)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x44ae5b||_0x44ae5b[_0x47e7c5(0x1db)]===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x44c3a6=_0x44ae5b['value'];switch(_0x1675a9){case'true_false':_0x1ffbc9=_0x44c3a6==='true'===_0x237080[_0x47e7c5(0x30e)];break;case _0x47e7c5(0x463):_0x1ffbc9=_0x44c3a6===_0x237080[_0x47e7c5(0xa81)];break;default:_0x1ffbc9=parseInt(_0x44c3a6)===_0x237080[_0x47e7c5(0x274)];break;}}const _0x58f291={'questionIndex':localQuestionIndex,'isCorrect':_0x1ffbc9},_0x441ee9=userId,_0x897e6c={['groups.'+_0x441ee9+_0x47e7c5(0x51c)]:arrayUnion(_0x58f291)};_0x1ffbc9&&(_0x897e6c['groups.'+_0x441ee9+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x47e7c5(0x944)+appId+_0x47e7c5(0xcf6),currentTeamQuizId),_0x897e6c),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x47e7c5(0x3b7)][_0x47e7c5(0x633)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x39085a){console[_0x47e7c5(0x537)](_0x47e7c5(0x88c),_0x39085a),showMessage(_0x47e7c5(0xa99));}}async function handleTeamAnswerSubmit(){const _0x10fa2b=_0x18fcf7,_0x4cf7b7=await getDoc(doc(db,_0x10fa2b(0x944)+appId+_0x10fa2b(0xcf6),currentTeamQuizId));if(!_0x4cf7b7[_0x10fa2b(0x815)]())return;const _0x404f34=_0x4cf7b7[_0x10fa2b(0x9e7)]();if(_0x404f34[_0x10fa2b(0x998)]==='group'){handleGroupAnswerSubmit();return;}const _0x55d014=localTeamPlayers[localPlayerIndex],_0x3bce89=currentQuizData[_0x10fa2b(0x3b7)][localQuestionIndex],_0x95bb1f=_0x3bce89[_0x10fa2b(0x434)]||currentQuizData['quizType'];let _0x6eb43=null,_0x4ec965=![];if(_0x95bb1f===_0x10fa2b(0x693)||_0x95bb1f==='fill_in_no_choices'){const _0x3e1775=document[_0x10fa2b(0xc8a)]('textarea[name=\x22team_answer\x22]');if(!_0x3e1775||!_0x3e1775[_0x10fa2b(0x1db)]['trim']()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0x6eb43=_0x3e1775[_0x10fa2b(0x1db)][_0x10fa2b(0x665)](),_0x4ec965=await gradeShortAnswer(_0x6eb43,_0x3bce89);}else{const _0x3d8800=document[_0x10fa2b(0xc8a)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x3d8800||_0x3d8800[_0x10fa2b(0x1db)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x6eb43=_0x3d8800[_0x10fa2b(0x1db)];switch(_0x95bb1f){case _0x10fa2b(0x8e2):_0x4ec965=_0x6eb43===_0x10fa2b(0x426)===_0x3bce89[_0x10fa2b(0x30e)];break;case _0x10fa2b(0x463):_0x4ec965=_0x6eb43===_0x3bce89[_0x10fa2b(0xa81)];break;default:_0x4ec965=parseInt(_0x6eb43)===_0x3bce89['correctAnswerIndex'];break;}}const _0x2ffd06={'questionIndex':localQuestionIndex,'isCorrect':_0x4ec965,'answerValue':_0x6eb43},_0x145bd9={[_0x10fa2b(0x9a1)+_0x55d014+_0x10fa2b(0x51c)]:arrayUnion(_0x2ffd06)};_0x4ec965&&(_0x145bd9[_0x10fa2b(0x9a1)+_0x55d014+'.score']=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x10fa2b(0xcf6),currentTeamQuizId),_0x145bd9),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x10fa2b(0x633)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x1bdac5){console['error']('Error\x20submitting\x20team\x20answer:',_0x1bdac5),showMessage(_0x10fa2b(0xa99));}}async function displayTeamQuizFinalResults(){const _0x251cba=_0x18fcf7;studentQuizArea['classList'][_0x251cba(0x1f5)](_0x251cba(0x29e)),studentResultArea[_0x251cba(0x5a1)][_0x251cba(0xbee)](_0x251cba(0x29e));const _0x47520a=doc(db,'artifacts/'+appId+_0x251cba(0xcf6),currentTeamQuizId),_0x3613ab=await getDoc(_0x47520a);if(!_0x3613ab[_0x251cba(0x815)]()){studentResultArea[_0x251cba(0x1a0)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x1c27f3=_0x3613ab['data']();let _0x5d4a7a=[];const _0x44b137=_0x1c27f3[_0x251cba(0x998)]||_0x251cba(0xcac);if(_0x44b137==='group'){const _0x932197=_0x1c27f3[_0x251cba(0x56c)][userId];_0x932197?_0x5d4a7a=[{'name':_0x251cba(0x79c)+localTeamPlayers[_0x251cba(0x155)](',\x20'),'score':_0x932197[_0x251cba(0x8c2)]||0x0}]:_0x5d4a7a=[{'name':_0x251cba(0x603),'score':_0x251cba(0xc1c)}];}else _0x5d4a7a=localTeamPlayers[_0x251cba(0x985)](_0x297aaf=>({'name':_0x297aaf,'score':_0x1c27f3[_0x251cba(0x248)][_0x297aaf]?.[_0x251cba(0x8c2)]||0x0}))[_0x251cba(0x5a4)]((_0x3e6a7a,_0x12d1d4)=>_0x12d1d4[_0x251cba(0x8c2)]-_0x3e6a7a[_0x251cba(0x8c2)]);studentResultArea[_0x251cba(0x1a0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d4a7a[_0x251cba(0x985)](_0x33f7c3=>_0x251cba(0xc04)+_0x33f7c3['name']+_0x251cba(0x711)+_0x33f7c3[_0x251cba(0x8c2)]+_0x251cba(0xbf9))[_0x251cba(0x155)]('')+_0x251cba(0x958),sessionStorage[_0x251cba(0x134)](_0x251cba(0x509)),currentMode===_0x251cba(0x252)&&currentTeamQuizId&&setTimeout(()=>{const _0x5b2842=_0x251cba;deleteDoc(doc(db,_0x5b2842(0x944)+appId+_0x5b2842(0xcf6),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x18fcf7(0x8c7),'pinnedProjects':[],'projectView':_0x18fcf7(0x319)};const allMathTopics=[{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0x305)},{'category':_0x18fcf7(0x98f),'name':'ระบบเลขและค่าประจำหลัก'},{'category':_0x18fcf7(0x98f),'name':'การปัดเศษและประมาณค่า'},{'category':'จำนวนและการดำเนินการ','name':_0x18fcf7(0x8f4)},{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0x922)},{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0x73d)},{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0x409)},{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0x945)},{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0x969)},{'category':'จำนวนและการดำเนินการ','name':_0x18fcf7(0x6a5)},{'category':'จำนวนและการดำเนินการ','name':_0x18fcf7(0x29d)},{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0x217)},{'category':'จำนวนและการดำเนินการ','name':_0x18fcf7(0x3e8)},{'category':_0x18fcf7(0x98f),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0x348)},{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0xa02)},{'category':'จำนวนและการดำเนินการ','name':_0x18fcf7(0x7f6)},{'category':'จำนวนและการดำเนินการ','name':_0x18fcf7(0x362)},{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0x4d6)},{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0xcce)},{'category':'จำนวนและการดำเนินการ','name':_0x18fcf7(0x5e3)},{'category':_0x18fcf7(0x98f),'name':'การคูณเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x18fcf7(0x767)},{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0x239)},{'category':'จำนวนและการดำเนินการ','name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x18fcf7(0x98f),'name':'การบวกทศนิยม'},{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0x169)},{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0xa3b)},{'category':'จำนวนและการดำเนินการ','name':'การหารทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':_0x18fcf7(0xb7f)},{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0xc9d)},{'category':_0x18fcf7(0x98f),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0xb6f)},{'category':'จำนวนและการดำเนินการ','name':_0x18fcf7(0xb0a)},{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0x799)},{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0x6e8)},{'category':_0x18fcf7(0x98f),'name':_0x18fcf7(0x5f4)},{'category':_0x18fcf7(0x519),'name':_0x18fcf7(0xc7a)},{'category':_0x18fcf7(0x519),'name':_0x18fcf7(0x453)},{'category':_0x18fcf7(0x519),'name':_0x18fcf7(0x836)},{'category':_0x18fcf7(0x519),'name':_0x18fcf7(0x858)},{'category':_0x18fcf7(0x519),'name':'อุณหภูมิและการแปลง'},{'category':_0x18fcf7(0x519),'name':_0x18fcf7(0x701)},{'category':'การวัด','name':'พื้นที่สี่เหลี่ยม'},{'category':_0x18fcf7(0x519),'name':_0x18fcf7(0xb4c)},{'category':_0x18fcf7(0x519),'name':_0x18fcf7(0xac4)},{'category':_0x18fcf7(0x519),'name':_0x18fcf7(0xb80)},{'category':'การวัด','name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x18fcf7(0x519),'name':_0x18fcf7(0xa19)},{'category':_0x18fcf7(0x519),'name':_0x18fcf7(0xce4)},{'category':_0x18fcf7(0x519),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x18fcf7(0x441),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x18fcf7(0x441),'name':_0x18fcf7(0x33d)},{'category':_0x18fcf7(0x441),'name':_0x18fcf7(0xc60)},{'category':_0x18fcf7(0x441),'name':_0x18fcf7(0xb4c)},{'category':_0x18fcf7(0x441),'name':_0x18fcf7(0xab1)},{'category':'เรขาคณิต','name':_0x18fcf7(0x47c)},{'category':_0x18fcf7(0x441),'name':_0x18fcf7(0x1bf)},{'category':_0x18fcf7(0x441),'name':_0x18fcf7(0x72e)},{'category':'เรขาคณิต','name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x18fcf7(0x441),'name':_0x18fcf7(0x378)},{'category':_0x18fcf7(0x441),'name':_0x18fcf7(0xaf4)},{'category':'เรขาคณิต','name':_0x18fcf7(0xa69)},{'category':_0x18fcf7(0x441),'name':_0x18fcf7(0x988)},{'category':'เรขาคณิต','name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x18fcf7(0x441),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x18fcf7(0xb8c)},{'category':'พีชคณิตและฟังก์ชัน','name':'การกระจายและการจัดหมู่'},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0x188)},{'category':_0x18fcf7(0x6ca),'name':'การแยกตัวประกอบ'},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0x534)},{'category':'พีชคณิตและฟังก์ชัน','name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0x737)},{'category':_0x18fcf7(0x6ca),'name':'สมการค่าสัมบูรณ์'},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0xc32)},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0x442)},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0x381)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x18fcf7(0xc3a)},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0x487)},{'category':_0x18fcf7(0x6ca),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x18fcf7(0x6ca),'name':'ระบบอสมการ'},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0x69a)},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0x5b3)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x18fcf7(0xbf2)},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0x4af)},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0xc39)},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0x67c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x18fcf7(0x29a)},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0xcf2)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x18fcf7(0x2c2)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันราก\x20(root)'},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0x41e)},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0x8b2)},{'category':_0x18fcf7(0x6ca),'name':'ฟังก์ชันยกกำลัง'},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0xb7c)},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0xa15)},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0x76d)},{'category':_0x18fcf7(0x6ca),'name':_0x18fcf7(0x77a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x18fcf7(0x48d)},{'category':_0x18fcf7(0x6ca),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x18fcf7(0xba1),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0x18fcf7(0xba1),'name':'ความชันและเส้นตรง'},{'category':_0x18fcf7(0xba1),'name':_0x18fcf7(0x9fd)},{'category':_0x18fcf7(0xba1),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':'เรขาคณิตวิเคราะห์','name':_0x18fcf7(0x516)},{'category':_0x18fcf7(0xba1),'name':_0x18fcf7(0x3ac)},{'category':'เรขาคณิตวิเคราะห์','name':_0x18fcf7(0x5c7)},{'category':_0x18fcf7(0xba1),'name':'วงรี'},{'category':_0x18fcf7(0xba1),'name':_0x18fcf7(0x983)},{'category':_0x18fcf7(0x2b4),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':'ตรีโกณมิติ','name':_0x18fcf7(0x7ec)},{'category':'ตรีโกณมิติ','name':_0x18fcf7(0xcd7)},{'category':'ตรีโกณมิติ','name':_0x18fcf7(0x1e5)},{'category':_0x18fcf7(0x2b4),'name':_0x18fcf7(0x1c0)},{'category':_0x18fcf7(0x2b4),'name':_0x18fcf7(0xc6d)},{'category':'ตรีโกณมิติ','name':_0x18fcf7(0x6df)},{'category':_0x18fcf7(0x2b4),'name':_0x18fcf7(0x4ee)},{'category':'ตรีโกณมิติ','name':_0x18fcf7(0x349)},{'category':'ตรีโกณมิติ','name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x18fcf7(0x2b4),'name':_0x18fcf7(0xaac)},{'category':'สถิติและความน่าจะเป็น','name':_0x18fcf7(0x3c9)},{'category':_0x18fcf7(0x176),'name':_0x18fcf7(0x97d)},{'category':'สถิติและความน่าจะเป็น','name':_0x18fcf7(0x6d5)},{'category':_0x18fcf7(0x176),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x18fcf7(0x176),'name':'ฮิสโตแกรม'},{'category':_0x18fcf7(0x176),'name':_0x18fcf7(0xaaf)},{'category':'สถิติและความน่าจะเป็น','name':_0x18fcf7(0xa64)},{'category':'สถิติและความน่าจะเป็น','name':'มัธยฐาน'},{'category':_0x18fcf7(0x176),'name':_0x18fcf7(0x7fb)},{'category':_0x18fcf7(0x176),'name':_0x18fcf7(0x5fe)},{'category':_0x18fcf7(0x176),'name':_0x18fcf7(0xbd0)},{'category':_0x18fcf7(0x176),'name':_0x18fcf7(0x4f2)},{'category':_0x18fcf7(0x176),'name':_0x18fcf7(0x855)},{'category':_0x18fcf7(0x176),'name':_0x18fcf7(0xcdb)},{'category':_0x18fcf7(0x176),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x18fcf7(0x176),'name':_0x18fcf7(0x82a)},{'category':_0x18fcf7(0x176),'name':'กฎบวกและกฎคูณ'},{'category':_0x18fcf7(0x176),'name':_0x18fcf7(0x90c)},{'category':_0x18fcf7(0x176),'name':_0x18fcf7(0x429)},{'category':_0x18fcf7(0x176),'name':_0x18fcf7(0x34e)},{'category':_0x18fcf7(0x176),'name':_0x18fcf7(0x212)},{'category':_0x18fcf7(0x176),'name':_0x18fcf7(0x32a)},{'category':_0x18fcf7(0x176),'name':_0x18fcf7(0x1be)},{'category':_0x18fcf7(0x176),'name':_0x18fcf7(0xa49)},{'category':_0x18fcf7(0x2d5),'name':'ลิมิต'},{'category':_0x18fcf7(0x2d5),'name':_0x18fcf7(0x552)},{'category':'แคลคูลัสเบื้องต้น','name':_0x18fcf7(0x56b)},{'category':_0x18fcf7(0x2d5),'name':_0x18fcf7(0x5e7)},{'category':_0x18fcf7(0x2d5),'name':_0x18fcf7(0x747)},{'category':_0x18fcf7(0x2d5),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x18fcf7(0x2d5),'name':_0x18fcf7(0xbdc)},{'category':_0x18fcf7(0x2d5),'name':_0x18fcf7(0x6b5)},{'category':_0x18fcf7(0x2d5),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':'แคลคูลัสเบื้องต้น','name':_0x18fcf7(0x607)},{'category':_0x18fcf7(0x2d5),'name':_0x18fcf7(0xbb1)},{'category':_0x18fcf7(0x2d5),'name':_0x18fcf7(0x421)},{'category':_0x18fcf7(0x2d5),'name':_0x18fcf7(0x7fa)},{'category':_0x18fcf7(0x215),'name':_0x18fcf7(0x241)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x18fcf7(0x851)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x18fcf7(0xa16)},{'category':_0x18fcf7(0x215),'name':_0x18fcf7(0x60a)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'อินเวอร์สของเมทริกซ์'},{'category':_0x18fcf7(0x215),'name':_0x18fcf7(0x1e3)},{'category':_0x18fcf7(0x215),'name':_0x18fcf7(0xc07)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x18fcf7(0x4bf)},{'category':'คณิตการเงิน/บูรณาการ','name':'ดอกเบี้ยทบต้น'},{'category':_0x18fcf7(0x3f1),'name':_0x18fcf7(0x263)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x18fcf7(0x5cf)},{'category':_0x18fcf7(0x3f1),'name':'ร้อยละประยุกต์'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x18fcf7(0x436)},{'category':_0x18fcf7(0x32d),'name':_0x18fcf7(0x9ef)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x18fcf7(0x87e)}];function renderTopicCheckboxes(){const _0x547904=_0x18fcf7,_0x568eaf=document[_0x547904(0x360)](_0x547904(0x1e6));if(!_0x568eaf)return;const _0x443604=allMathTopics,_0x19b335=customMathTopics['map'](_0x231808=>({'id':_0x231808['id'],'category':_0x547904(0x9cb),'name':_0x231808[_0x547904(0x3d8)]})),_0x3a922f=[..._0x443604,..._0x19b335],_0x51d395=_0x3a922f['reduce']((_0x3a2d8e,_0x414744)=>{const _0x397bab=_0x547904;return!_0x3a2d8e[_0x414744[_0x397bab(0x4f7)]]&&(_0x3a2d8e[_0x414744[_0x397bab(0x4f7)]]=[]),_0x3a2d8e[_0x414744[_0x397bab(0x4f7)]][_0x397bab(0x62c)](_0x414744),_0x3a2d8e;},{});let _0x147868='';const _0x3a1fd6=[_0x547904(0x9cb),...Object[_0x547904(0xa9d)](_0x51d395)[_0x547904(0x2bb)](_0x5f46df=>_0x5f46df!==_0x547904(0x9cb))];for(const _0x34d752 of _0x3a1fd6){if(_0x51d395[_0x34d752]){const _0x57a081=_0x34d752==='หัวข้อที่สร้างเอง',_0xc6e326=_0x57a081?_0x547904(0x7bd):_0x547904(0xb2f),_0x2fb6aa=_0x57a081?'text-blue-700':_0x547904(0x573);_0x147868+=_0x547904(0x9b1),_0x147868+=_0x547904(0xb57)+_0x2fb6aa+_0x547904(0x580)+_0xc6e326+'\x20mr-2\x22></i>'+_0x34d752+'</p>',_0x51d395[_0x34d752][_0x547904(0xc92)](_0x29dd21=>{const _0x2f9dea=_0x547904,_0x500f49=!!_0x29dd21['id'],_0x35f5db=_0x500f49?_0x2f9dea(0xb1f)+_0x29dd21['id']+_0x2f9dea(0x99c)+_0x29dd21['id']+_0x2f9dea(0xb7e)+_0x29dd21['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x29dd21['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x147868+=_0x2f9dea(0xca0)+(_0x29dd21['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x29dd21['name']+_0x2f9dea(0x2dd)+_0x29dd21[_0x2f9dea(0x3d8)]+_0x2f9dea(0x90f)+(_0x500f49?_0x2f9dea(0x626)+_0x29dd21[_0x2f9dea(0x3d8)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x35f5db+_0x2f9dea(0x317);}),_0x147868+=_0x547904(0x2c6);}}_0x568eaf[_0x547904(0x1a0)]=_0x147868||_0x547904(0x2a6),_0x568eaf['removeEventListener']('change',updateSelectedTopicsCount),_0x568eaf['addEventListener']('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x25cd47,_0x44c970){const _0x58b342=_0x18fcf7;if(!_0x25cd47||!_0x44c970[_0x58b342(0x665)]()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x181733=doc(db,_0x58b342(0x944)+appId+_0x58b342(0x18a),_0x25cd47);await updateDoc(_0x181733,{'name':_0x44c970['trim']()}),showMessage(_0x58b342(0x3a0));}catch(_0x206536){console[_0x58b342(0x537)](_0x58b342(0x220),_0x206536),showMessage(_0x58b342(0x793));}}function toggleTopicEditMode(_0x3dd084,_0x8f12d2){const _0x4eb16b=_0x18fcf7;if(!_0x3dd084)return;const _0x23765c=_0x3dd084['querySelector'](_0x4eb16b(0xc2d)),_0x169987=_0x3dd084[_0x4eb16b(0xc8a)](_0x4eb16b(0x7f8)),_0x999b7c=_0x3dd084[_0x4eb16b(0xc8a)](_0x4eb16b(0xa32)),_0x506861=_0x3dd084[_0x4eb16b(0xc8a)](_0x4eb16b(0x8c3));_0x23765c['classList'][_0x4eb16b(0xb4a)](_0x4eb16b(0x29e),_0x8f12d2),_0x169987[_0x4eb16b(0x5a1)][_0x4eb16b(0xb4a)]('hidden',!_0x8f12d2),_0x999b7c[_0x4eb16b(0x5a1)][_0x4eb16b(0xb4a)](_0x4eb16b(0x29e),_0x8f12d2),_0x506861[_0x4eb16b(0x5a1)]['toggle'](_0x4eb16b(0x29e),!_0x8f12d2),_0x8f12d2&&(_0x169987[_0x4eb16b(0xac0)](),_0x169987['select']());}async function handleStartLiveRace(_0x1d696e){const _0x18b045=_0x18fcf7;let _0x41ffb0=allQuizzes[_0x18b045(0x64b)](_0x27a660=>_0x27a660['id']===_0x1d696e);if(!_0x41ffb0){const _0x54381c=doc(db,'artifacts/'+appId+_0x18b045(0x46a),_0x1d696e),_0x3f1c42=await getDoc(_0x54381c);if(!_0x3f1c42['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x41ffb0={'id':_0x3f1c42['id'],..._0x3f1c42[_0x18b045(0x9e7)]()};}const _0x5b8583=getShuffledQuiz(_0x41ffb0);currentQuizData=_0x5b8583;const _0x555a37=_0x41ffb0[_0x18b045(0x15d)]||currentProjectId||null,_0x25e1a4=Math['floor'](0x3e8+Math[_0x18b045(0xc45)]()*0x2328)[_0x18b045(0xa76)]();currentLiveGamePin=_0x25e1a4;try{const _0x3d1237=await addDoc(collection(db,_0x18b045(0x944)+appId+'/public/data/liveGames'),{'quizId':_0x1d696e,'projectId':_0x555a37,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x25e1a4,'createdAt':serverTimestamp(),'shuffledQuiz':_0x5b8583});currentLiveGameId=_0x3d1237['id'],showAdminLobbyView(_0x25e1a4,_0x41ffb0['topic']),listenForLiveGameUpdates();}catch(_0x29ac1b){console[_0x18b045(0x537)](_0x18b045(0x52c),_0x29ac1b),showMessage(_0x18b045(0x7cf));}}function updateSelectedTopicsCount(){const _0x2485e7=_0x18fcf7,_0x7d7cf3=document[_0x2485e7(0x360)](_0x2485e7(0x1e6)),_0x1a7618=_0x7d7cf3['querySelectorAll'](_0x2485e7(0x734))[_0x2485e7(0x633)],_0x3a71b7=document['getElementById']('selected-topics-count');_0x1a7618>0x0?_0x3a71b7[_0x2485e7(0x946)]=_0x2485e7(0x5d1)+_0x1a7618+_0x2485e7(0xa95):_0x3a71b7[_0x2485e7(0x946)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x18fcf7(0x35e),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x18fcf7(0x4b5),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor='rgba(255,\x20255,\x200,\x200.5)',scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x18fcf7(0x611),scratchpadPenColor=_0x18fcf7(0x21a),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x28a950,_0x5db4b7){const _0x2b1bc0=_0x18fcf7;return Math[_0x2b1bc0(0x6d6)](Math[_0x2b1bc0(0x1c9)](_0x28a950['x']-_0x5db4b7['x'],0x2)+Math[_0x2b1bc0(0x1c9)](_0x28a950['y']-_0x5db4b7['y'],0x2));}function getMidpoint(_0x44530d,_0x454cd3){return{'x':(_0x44530d['x']+_0x454cd3['x'])/0x2,'y':(_0x44530d['y']+_0x454cd3['y'])/0x2};}function getTransformedPoint(_0xbbf0dd,_0x4b1273){return{'x':(_0xbbf0dd-scratchpadOffset['x'])/scratchpadScale,'y':(_0x4b1273-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x551386=_0x18fcf7;if(!scratchpadCtx)return;const _0x470640=scratchpadCtx[_0x551386(0x298)],_0x383a61=window[_0x551386(0x1cf)]||0x1,_0x78d383=document[_0x551386(0x360)](_0x551386(0x54f));_0x78d383&&(_0x78d383['style'][_0x551386(0x150)]=_0x551386(0xcc3),_0x78d383[_0x551386(0xbce)]['transform']=_0x551386(0xab0)+scratchpadOffset['x']+_0x551386(0xc3c)+scratchpadOffset['y']+_0x551386(0xa41)+scratchpadScale+')'),scratchpadCtx[_0x551386(0x82d)](),scratchpadCtx[_0x551386(0xbab)](_0x383a61,0x0,0x0,_0x383a61,0x0,0x0),scratchpadCtx[_0x551386(0x9f7)](0x0,0x0,_0x470640['width'],_0x470640[_0x551386(0xb8b)]),scratchpadCtx[_0x551386(0x4a4)](),scratchpadCtx[_0x551386(0x82d)](),scratchpadCtx[_0x551386(0x83e)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x551386(0x6e1)](scratchpadScale,scratchpadScale),strokes[_0x551386(0xc92)](_0x2de81d=>{drawStroke(_0x2de81d);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x551386(0x4a4)]();}function renderGroupModeQuestion(){const _0x2481db=_0x18fcf7;if(localQuestionIndex>=currentQuizData[_0x2481db(0x3b7)]['length']){displayTeamQuizFinalResults();return;}const _0x756c7b=currentQuizData[_0x2481db(0x3b7)][localQuestionIndex],_0x11a044=_0x756c7b[_0x2481db(0x434)]||currentQuizData[_0x2481db(0x677)];let _0xe439bb=_0x756c7b[_0x2481db(0x7e5)]||_0x756c7b['questionText'],_0x2a1593='';switch(_0x11a044){case'multiple_choice':case _0x2481db(0xa84):_0x2a1593=_0x756c7b[_0x2481db(0x211)][_0x2481db(0x985)]((_0x4bded8,_0x4040e5)=>_0x2481db(0x996)+_0x4040e5+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x4040e5+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x4040e5+'\x22>'+_0x4bded8+_0x2481db(0x6dc))['join']('');break;case _0x2481db(0x8e2):_0x2a1593=_0x2481db(0xbcb);break;case'short_answer':case _0x2481db(0x4d3):_0x2a1593=_0x2481db(0xaec);break;case _0x2481db(0x463):_0x2a1593='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x756c7b[_0x2481db(0x749)]['map'](_0x3e0b1b=>_0x2481db(0x327)+_0x3e0b1b+'\x22>'+_0x3e0b1b+_0x2481db(0x76e))[_0x2481db(0x155)]('')+_0x2481db(0x2b3);break;default:_0x2a1593=_0x2481db(0xb51);break;}studentQuizArea[_0x2481db(0x1a0)]=_0x2481db(0xb75)+(localQuestionIndex+0x1)+_0x2481db(0x6e2)+currentQuizData[_0x2481db(0x3b7)][_0x2481db(0x633)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers[_0x2481db(0x155)](',\x20')+_0x2481db(0x6b1)+(localQuestionIndex+0x1)+'.\x20'+_0xe439bb+_0x2481db(0x70e)+(_0x756c7b[_0x2481db(0x931)]?_0x2481db(0x847)+_0x756c7b[_0x2481db(0x931)]+_0x2481db(0x2c6):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x2a1593+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x2481db(0x5a1)][_0x2481db(0xbee)]('hidden');if(window[_0x2481db(0xb63)])MathJax[_0x2481db(0x5b0)]([studentQuizArea]);document[_0x2481db(0x360)](_0x2481db(0x8c4))[_0x2481db(0x616)](_0x2481db(0xc47),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x35e77b,_0x35dc7f=null,_0x258ccd,_0x2553b2=null,_0x347085=![],_0x8a49e1=null){const _0x3190d4=_0x18fcf7,_0x1d48cb=document['getElementById']('quiz-generation-area');_0x1d48cb&&_0x1d48cb[_0x3190d4(0xbc1)]({'behavior':_0x3190d4(0x8df),'block':_0x3190d4(0x1c2)}),generateQuiz(_0x35e77b,_0x35dc7f,null,_0x8a49e1,!![],_0x258ccd,_0x2553b2,_0x347085);}function handleGenerateAndShowLesson(_0x276666,_0x373205){const _0x58d337=_0x18fcf7,_0x53eb21=document[_0x58d337(0x360)](_0x58d337(0x32c)),_0x55ad82=document['getElementById'](_0x58d337(0x61b)),_0x3c722c=document[_0x58d337(0x360)](_0x58d337(0xca2)),_0x311dad=document['getElementById'](_0x58d337(0x320));['pointContent',_0x58d337(0x49c),_0x58d337(0x7a8),_0x58d337(0xbc4)][_0x58d337(0xc92)](_0x529862=>{const _0x4b3278=_0x58d337,_0x3649cc=document[_0x4b3278(0x360)](_0x529862)[_0x4b3278(0xa62)];_0x3649cc&&(_0x3649cc[_0x4b3278(0xbce)][_0x4b3278(0x640)]=_0x4b3278(0x28d));}),_0x55ad82[_0x58d337(0x946)]=_0x58d337(0x154)+_0x276666,_0x311dad[_0x58d337(0x5a1)][_0x58d337(0x1f5)](_0x58d337(0x29e)),_0x3c722c[_0x58d337(0x5a1)]['remove']('hidden'),_0x53eb21['classList']['remove'](_0x58d337(0x29e)),generateLesson(_0x276666,_0x373205)[_0x58d337(0x8cc)](_0x4dd031=>{const _0x174a7f=_0x58d337;console[_0x174a7f(0x537)](_0x174a7f(0x4db),_0x4dd031),showMessage(_0x174a7f(0x22f)),_0x53eb21[_0x174a7f(0x5a1)][_0x174a7f(0x1f5)](_0x174a7f(0x29e));});}function handlePointerDown(_0x2ce895){const _0xfbe8c2=_0x18fcf7;_0x2ce895[_0xfbe8c2(0xc63)]();const _0x4df8d2=scratchpadCtx['canvas'],_0x7ff312=_0x4df8d2[_0xfbe8c2(0x6f3)](),_0x1fb823=_0x2ce895[_0xfbe8c2(0xb8e)]||(_0x2ce895['touches']?_0xfbe8c2(0x9eb):_0xfbe8c2(0x6cd));if(_0x1fb823===_0xfbe8c2(0x611)||_0x1fb823===_0xfbe8c2(0x6cd)){if(_0x2ce895[_0xfbe8c2(0xb8e)]===_0xfbe8c2(0x6cd)&&_0x2ce895[_0xfbe8c2(0x557)]!==0x0){_0x2ce895['button']===0x1&&(isMousePanning=!![],panStart={'x':_0x2ce895[_0xfbe8c2(0x57a)],'y':_0x2ce895[_0xfbe8c2(0x31d)]},_0x4df8d2[_0xfbe8c2(0xbce)][_0xfbe8c2(0x654)]=_0xfbe8c2(0x25a));return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x42ad4c=getTransformedPoint(_0x2ce895[_0xfbe8c2(0x57a)]-_0x7ff312[_0xfbe8c2(0x857)],_0x2ce895[_0xfbe8c2(0x31d)]-_0x7ff312[_0xfbe8c2(0x7a1)]);let _0x53dd9b={'tool':activeTool,'points':[_0x42ad4c]};if(activeTool===_0xfbe8c2(0x611))_0x53dd9b[_0xfbe8c2(0xcdf)]=scratchpadPenColor,_0x53dd9b['size']=scratchpadPenSize;else{if(activeTool==='eraser')_0x53dd9b[_0xfbe8c2(0xcdf)]=scratchpadPenColor,_0x53dd9b[_0xfbe8c2(0x8ae)]=scratchpadEraserSize;else{if(activeTool===_0xfbe8c2(0x4e9))_0x53dd9b[_0xfbe8c2(0xcdf)]=scratchpadHighlighterColor,_0x53dd9b[_0xfbe8c2(0x8ae)]=scratchpadHighlighterSize;else activeTool===_0xfbe8c2(0x144)&&(_0x53dd9b[_0xfbe8c2(0xcdf)]=scratchpadPenColor,_0x53dd9b['size']=scratchpadPenSize);}}currentStroke=_0x53dd9b;}else _0x2ce895[_0xfbe8c2(0x89e)]&&(_0x2ce895[_0xfbe8c2(0x89e)][_0xfbe8c2(0x633)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x2ce895['touches'][0x0]['clientX'],'y':_0x2ce895[_0xfbe8c2(0x89e)][0x0][_0xfbe8c2(0x31d)]},{'x':_0x2ce895[_0xfbe8c2(0x89e)][0x1]['clientX'],'y':_0x2ce895[_0xfbe8c2(0x89e)][0x1][_0xfbe8c2(0x31d)]}),initialPinchDistance=getDistance({'x':_0x2ce895['touches'][0x0]['clientX'],'y':_0x2ce895[_0xfbe8c2(0x89e)][0x0][_0xfbe8c2(0x31d)]},{'x':_0x2ce895['touches'][0x1][_0xfbe8c2(0x57a)],'y':_0x2ce895['touches'][0x1][_0xfbe8c2(0x31d)]})));}function animateTrail(){const _0x21ce6c=_0x18fcf7,_0x2ee7b5=Date['now']();let _0x1c3e3f=![];for(let _0x126037=strokes[_0x21ce6c(0x633)]-0x1;_0x126037>=0x0;_0x126037--){const _0x392ee5=strokes[_0x126037];if(_0x392ee5[_0x21ce6c(0xa7e)]===_0x21ce6c(0x144)&&_0x392ee5['fadeStartTime']){const _0x5ad28e=_0x2ee7b5-_0x392ee5[_0x21ce6c(0xa9e)];_0x5ad28e>=TRAIL_DURATION?strokes['splice'](_0x126037,0x1):(_0x392ee5[_0x21ce6c(0x82f)]=0x1-_0x5ad28e/TRAIL_DURATION,_0x1c3e3f=!![]);}}redrawScratchpad(),_0x1c3e3f?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0xccbcb5){const _0x680ae5=_0x18fcf7;if(!_0xccbcb5||_0xccbcb5[_0x680ae5(0x546)][_0x680ae5(0x633)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx['lineJoin']=_0x680ae5(0xa8d),scratchpadCtx[_0x680ae5(0x2de)]=_0x680ae5(0xa8d);if(_0xccbcb5['tool']===_0x680ae5(0x144)){const _0x19c7e=_0xccbcb5[_0x680ae5(0x8ae)]/scratchpadScale;scratchpadCtx[_0x680ae5(0xa05)]=_0xccbcb5[_0x680ae5(0x82f)]??0x1,scratchpadCtx['shadowColor']='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x680ae5(0x8be)]=_0x19c7e*0x3,scratchpadCtx[_0x680ae5(0x6fd)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x680ae5(0xb32)]=_0x19c7e*2.5,scratchpadCtx[_0x680ae5(0x4c5)](),scratchpadCtx[_0x680ae5(0x1dd)](_0xccbcb5['points'][0x0]['x'],_0xccbcb5[_0x680ae5(0x546)][0x0]['y']);for(let _0x1c47cd=0x1;_0x1c47cd<_0xccbcb5[_0x680ae5(0x546)]['length']-0x1;_0x1c47cd++){const _0x127532=getMidpoint(_0xccbcb5[_0x680ae5(0x546)][_0x1c47cd],_0xccbcb5['points'][_0x1c47cd+0x1]);scratchpadCtx[_0x680ae5(0xb92)](_0xccbcb5['points'][_0x1c47cd]['x'],_0xccbcb5['points'][_0x1c47cd]['y'],_0x127532['x'],_0x127532['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x680ae5(0x314)]=_0x680ae5(0x1b6),scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x680ae5(0x6fd)]=_0x680ae5(0x225),scratchpadCtx[_0x680ae5(0xb32)]=_0x19c7e,scratchpadCtx[_0x680ae5(0x439)](),scratchpadCtx['closePath']();}else{if(_0xccbcb5[_0x680ae5(0xa7e)]===_0x680ae5(0x4e9)){scratchpadCtx[_0x680ae5(0x5d6)]=_0x680ae5(0xc4a),scratchpadCtx[_0x680ae5(0x6fd)]=_0xccbcb5[_0x680ae5(0xcdf)],scratchpadCtx[_0x680ae5(0xb32)]=_0xccbcb5[_0x680ae5(0x8ae)],scratchpadCtx[_0x680ae5(0x4c5)](),scratchpadCtx[_0x680ae5(0x1dd)](_0xccbcb5[_0x680ae5(0x546)][0x0]['x'],_0xccbcb5[_0x680ae5(0x546)][0x0]['y']);for(let _0x5d2ca0=0x1;_0x5d2ca0<_0xccbcb5[_0x680ae5(0x546)][_0x680ae5(0x633)]-0x1;_0x5d2ca0++){const _0x11b40a=getMidpoint(_0xccbcb5[_0x680ae5(0x546)][_0x5d2ca0],_0xccbcb5['points'][_0x5d2ca0+0x1]);scratchpadCtx[_0x680ae5(0xb92)](_0xccbcb5[_0x680ae5(0x546)][_0x5d2ca0]['x'],_0xccbcb5[_0x680ae5(0x546)][_0x5d2ca0]['y'],_0x11b40a['x'],_0x11b40a['y']);}scratchpadCtx[_0x680ae5(0x439)](),scratchpadCtx[_0x680ae5(0xa4d)]();}else{scratchpadCtx[_0x680ae5(0x5d6)]=_0xccbcb5[_0x680ae5(0xa7e)]==='eraser'?'destination-out':_0x680ae5(0x376),scratchpadCtx[_0x680ae5(0x6fd)]=_0xccbcb5[_0x680ae5(0xcdf)],scratchpadCtx[_0x680ae5(0xb32)]=_0xccbcb5[_0x680ae5(0x8ae)],scratchpadCtx[_0x680ae5(0x4c5)](),scratchpadCtx[_0x680ae5(0x1dd)](_0xccbcb5['points'][0x0]['x'],_0xccbcb5[_0x680ae5(0x546)][0x0]['y']);for(let _0x245977=0x1;_0x245977<_0xccbcb5[_0x680ae5(0x546)][_0x680ae5(0x633)]-0x1;_0x245977++){const _0x394162=getMidpoint(_0xccbcb5[_0x680ae5(0x546)][_0x245977],_0xccbcb5[_0x680ae5(0x546)][_0x245977+0x1]);scratchpadCtx[_0x680ae5(0xb92)](_0xccbcb5[_0x680ae5(0x546)][_0x245977]['x'],_0xccbcb5['points'][_0x245977]['y'],_0x394162['x'],_0x394162['y']);}scratchpadCtx[_0x680ae5(0x439)](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x680ae5(0x4a4)]();}function handlePointerMove(_0xa687f4){const _0x333f73=_0x18fcf7;_0xa687f4[_0x333f73(0xc63)]();const _0x12200e=scratchpadCtx[_0x333f73(0x298)],_0x997ca0=_0x12200e[_0x333f73(0x6f3)]();if(_0xa687f4['touches']){if(_0xa687f4['touches']['length']===0x1&&isDrawingOnScratchpad){const _0x49d367=getTransformedPoint(_0xa687f4['touches'][0x0][_0x333f73(0x57a)]-_0x997ca0['left'],_0xa687f4[_0x333f73(0x89e)][0x0][_0x333f73(0x31d)]-_0x997ca0[_0x333f73(0x7a1)]);currentStroke['points'][_0x333f73(0x62c)](_0x49d367),redrawScratchpad();}else{if(_0xa687f4['touches'][_0x333f73(0x633)]===0x2&&isPanning){const _0x445d59=getDistance({'x':_0xa687f4[_0x333f73(0x89e)][0x0][_0x333f73(0x57a)],'y':_0xa687f4[_0x333f73(0x89e)][0x0][_0x333f73(0x31d)]},{'x':_0xa687f4[_0x333f73(0x89e)][0x1]['clientX'],'y':_0xa687f4[_0x333f73(0x89e)][0x1][_0x333f73(0x31d)]}),_0x3dd91f=getMidpoint({'x':_0xa687f4[_0x333f73(0x89e)][0x0]['clientX'],'y':_0xa687f4[_0x333f73(0x89e)][0x0][_0x333f73(0x31d)]},{'x':_0xa687f4['touches'][0x1][_0x333f73(0x57a)],'y':_0xa687f4[_0x333f73(0x89e)][0x1][_0x333f73(0x31d)]}),_0x1dee04=_0x445d59/ initialPinchDistance,_0x1f5ea2=Math[_0x333f73(0x5b6)](Math[_0x333f73(0x897)](scratchpadScale*_0x1dee04,MIN_SCALE),MAX_SCALE),_0x22afe0=_0x3dd91f['x']-panStart['x'],_0xb25d5d=_0x3dd91f['y']-panStart['y'];scratchpadOffset['x']=_0x3dd91f['x']-(_0x3dd91f['x']-scratchpadOffset['x'])*(_0x1f5ea2/scratchpadScale),scratchpadOffset['y']=_0x3dd91f['y']-(_0x3dd91f['y']-scratchpadOffset['y'])*(_0x1f5ea2/scratchpadScale),scratchpadOffset['x']+=_0x22afe0,scratchpadOffset['y']+=_0xb25d5d,scratchpadScale=_0x1f5ea2,initialPinchDistance=_0x445d59,panStart=_0x3dd91f,redrawScratchpad();}}}else{if(isMousePanning){const _0x222af6=_0xa687f4[_0x333f73(0x57a)]-panStart['x'],_0x334d3d=_0xa687f4[_0x333f73(0x31d)]-panStart['y'];scratchpadOffset['x']+=_0x222af6,scratchpadOffset['y']+=_0x334d3d,panStart={'x':_0xa687f4[_0x333f73(0x57a)],'y':_0xa687f4[_0x333f73(0x31d)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x3ce7fb=getTransformedPoint(_0xa687f4[_0x333f73(0x57a)]-_0x997ca0[_0x333f73(0x857)],_0xa687f4[_0x333f73(0x31d)]-_0x997ca0[_0x333f73(0x7a1)]);currentStroke[_0x333f73(0x546)][_0x333f73(0x62c)](_0x3ce7fb),redrawScratchpad();}}}}function handlePointerUp(_0x3ee90d){const _0x2c1791=_0x18fcf7;_0x3ee90d[_0x2c1791(0xc63)]();const _0x6f16b0=scratchpadCtx[_0x2c1791(0x298)];isMousePanning&&(isMousePanning=![],_0x6f16b0[_0x2c1791(0xbce)][_0x2c1791(0x654)]=_0x2c1791(0x2f0)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x2c1791(0x546)][_0x2c1791(0x633)]>0x1&&(strokes[_0x2c1791(0x62c)](currentStroke),currentStroke['tool']===_0x2c1791(0x144)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x232152=_0x2c1791,_0x2d64b9=strokes[_0x232152(0x2bb)](_0x5a4f5c=>_0x5a4f5c[_0x232152(0xa7e)]==='trail'&&!_0x5a4f5c[_0x232152(0xa9e)]);if(_0x2d64b9[_0x232152(0x633)]>0x0){const _0x29379f=Date[_0x232152(0x36b)]();_0x2d64b9[_0x232152(0xc92)](_0x59e428=>_0x59e428['fadeStartTime']=_0x29379f),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x1d655f){const _0x253fab=_0x18fcf7;_0x1d655f['preventDefault']();const _0x217a82=_0x1d655f[_0x253fab(0xbbd)]*-0.005,_0x3357d6=Math[_0x253fab(0x5b6)](Math[_0x253fab(0x897)](scratchpadScale+_0x217a82,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x1d655f[_0x253fab(0x57a)]-(_0x1d655f[_0x253fab(0x57a)]-scratchpadOffset['x'])*(_0x3357d6/scratchpadScale),scratchpadOffset['y']=_0x1d655f[_0x253fab(0x31d)]-(_0x1d655f[_0x253fab(0x31d)]-scratchpadOffset['y'])*(_0x3357d6/scratchpadScale),scratchpadScale=_0x3357d6,redrawScratchpad();}function undo(){const _0x26ead4=_0x18fcf7;strokes[_0x26ead4(0x633)]>0x0&&(redoStrokes[_0x26ead4(0x62c)](strokes[_0x26ead4(0x8c5)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x5d7376=_0x18fcf7;redoStrokes[_0x5d7376(0x633)]>0x0&&(strokes[_0x5d7376(0x62c)](redoStrokes[_0x5d7376(0x8c5)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x349cbc=_0x18fcf7;document[_0x349cbc(0x360)](_0x349cbc(0x3d6))[_0x349cbc(0xa78)]=strokes[_0x349cbc(0x633)]===0x0,document[_0x349cbc(0x360)](_0x349cbc(0x7ab))[_0x349cbc(0xa78)]=redoStrokes[_0x349cbc(0x633)]===0x0;}function openScratchpad(_0x3529ec,_0x5bc70b){const _0x36ff47=_0x18fcf7,_0xe55999=document[_0x36ff47(0x360)](_0x36ff47(0x3c3)),_0x27613b=document[_0x36ff47(0x360)](_0x36ff47(0x428)),_0x57441a=document[_0x36ff47(0x360)](_0x36ff47(0xca6)),_0x2432de=document[_0x36ff47(0x360)]('scratchpad-controls');_0x27613b['innerHTML']=_0x3529ec[_0x36ff47(0x7e5)]||_0x3529ec[_0x36ff47(0xcec)],_0x57441a[_0x36ff47(0x1a0)]=_0x5bc70b[_0x36ff47(0x985)]((_0x3f3001,_0x16141c)=>_0x36ff47(0x646)+String[_0x36ff47(0xb2b)](0x41+_0x16141c)+'.\x20'+_0x3f3001+_0x36ff47(0x2c6))[_0x36ff47(0x155)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0xe55999[_0x36ff47(0x5a1)][_0x36ff47(0xbee)](_0x36ff47(0x29e)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax['typesetPromise']([_0x27613b,_0x57441a]);}function openBlueprintQuizSettings(){const _0x26bd34=_0x18fcf7,_0x4dd4bb=document[_0x26bd34(0x360)](_0x26bd34(0x72b)),_0xeb8db1=blueprintPageSettings||(currentProjectData?currentProjectData['settings']:{})||{};document[_0x26bd34(0x360)](_0x26bd34(0xaa8))[_0x26bd34(0x1db)]=_0xeb8db1[_0x26bd34(0x677)]||document[_0x26bd34(0x360)]('quiz-type-select')['value'],document[_0x26bd34(0x360)](_0x26bd34(0x8de))[_0x26bd34(0x1a0)]=document[_0x26bd34(0x360)](_0x26bd34(0x98c))[_0x26bd34(0x1a0)],document[_0x26bd34(0x360)](_0x26bd34(0x8de))[_0x26bd34(0x1db)]=_0xeb8db1[_0x26bd34(0xbf5)]||document['getElementById'](_0x26bd34(0x98c))[_0x26bd34(0x1db)],document[_0x26bd34(0x360)]('bp-modal-question-complexity-select')[_0x26bd34(0x1a0)]=document[_0x26bd34(0x360)](_0x26bd34(0xaaa))['innerHTML'],document['getElementById'](_0x26bd34(0x5e1))[_0x26bd34(0x1db)]=_0xeb8db1[_0x26bd34(0x9ce)]||document[_0x26bd34(0x360)](_0x26bd34(0xaaa))[_0x26bd34(0x1db)],document['getElementById'](_0x26bd34(0x87c))[_0x26bd34(0x1db)]=_0xeb8db1['numQuestions']||document[_0x26bd34(0x360)](_0x26bd34(0x725))[_0x26bd34(0x1db)],document['getElementById'](_0x26bd34(0x356))[_0x26bd34(0x1db)]=_0xeb8db1[_0x26bd34(0x9bd)]||document[_0x26bd34(0x360)](_0x26bd34(0x582))[_0x26bd34(0x1db)],document[_0x26bd34(0x360)](_0x26bd34(0x175))[_0x26bd34(0x1db)]=_0xeb8db1['numChoices']||document[_0x26bd34(0x360)](_0x26bd34(0xa50))[_0x26bd34(0x1db)],document[_0x26bd34(0x360)]('bp-modal-shuffle-setting-select')[_0x26bd34(0x1db)]=_0xeb8db1[_0x26bd34(0x70d)]||document[_0x26bd34(0x360)]('shuffle-setting-select')[_0x26bd34(0x1db)],document['getElementById']('bp-modal-include-images-checkbox')[_0x26bd34(0x5fc)]=_0xeb8db1[_0x26bd34(0x401)]||document['getElementById'](_0x26bd34(0x627))['checked'],_0x4dd4bb[_0x26bd34(0x5a1)][_0x26bd34(0xbee)](_0x26bd34(0x29e));}function handleSaveBlueprintPageSettings(){const _0x244d1d=_0x18fcf7;blueprintPageSettings={'quizType':document[_0x244d1d(0x360)]('bp-modal-quiz-type-select')[_0x244d1d(0x1db)],'difficultyValue':document[_0x244d1d(0x360)](_0x244d1d(0x8de))['value'],'complexityValue':document[_0x244d1d(0x360)](_0x244d1d(0x5e1))[_0x244d1d(0x1db)],'numQuestions':document[_0x244d1d(0x360)](_0x244d1d(0x87c))['value'],'passingScore':document[_0x244d1d(0x360)](_0x244d1d(0x356))[_0x244d1d(0x1db)],'numChoices':document[_0x244d1d(0x360)]('bp-modal-num-choices')[_0x244d1d(0x1db)],'shuffle':document['getElementById'](_0x244d1d(0x6ee))[_0x244d1d(0x1db)],'includeImages':document[_0x244d1d(0x360)]('bp-modal-include-images-checkbox')[_0x244d1d(0x5fc)]},showMessage(_0x244d1d(0xafc)),document['getElementById'](_0x244d1d(0x72b))['classList'][_0x244d1d(0x1f5)](_0x244d1d(0x29e));}function listenForParallelTestShortcuts(){const _0x4068a9=_0x18fcf7,_0x41e715=doc(db,'globalSettings',_0x4068a9(0x4dc));onSnapshot(_0x41e715,_0x375b75=>{const _0x38046c=_0x4068a9;let _0x4adfdd=[],_0x376149=[],_0x520a37={};if(_0x375b75[_0x38046c(0x815)]()){const _0x4b1f48=_0x375b75[_0x38046c(0x9e7)]();_0x4adfdd=_0x4b1f48[_0x38046c(0xaa4)]||[],_0x376149=_0x4b1f48[_0x38046c(0xa94)]||[],_0x520a37=_0x4b1f48[_0x38046c(0xbbb)]||{};}!_0x376149[_0x38046c(0x64b)](_0x388959=>_0x388959['id']==='all')&&_0x376149[_0x38046c(0x416)]({'id':_0x38046c(0x9b3),'name':_0x38046c(0xc91),'isDefault':!![]}),!_0x4adfdd[_0x38046c(0x64b)](_0x3e39a0=>_0x3e39a0['id']===_0x38046c(0x880))&&_0x4adfdd[_0x38046c(0x416)]({'id':'parallel-default-1','name':_0x38046c(0xc7b),'url':'','isDefault':!![]}),!_0x4adfdd[_0x38046c(0x64b)](_0x126250=>_0x126250['id']===_0x38046c(0x8c9))&&_0x4adfdd[_0x38046c(0x416)]({'id':_0x38046c(0x8c9),'name':_0x38046c(0x4d7),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x4adfdd,parallelShortcutTabs=_0x376149,parallelShortcutOrder=_0x520a37,renderParallelTestShortcuts(),!document[_0x38046c(0x360)]('additional-parallel-shortcuts-modal')[_0x38046c(0x5a1)][_0x38046c(0xbf1)](_0x38046c(0x29e))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x355318=_0x18fcf7,_0x28dafd=doc(db,'globalSettings',_0x355318(0x4dc));try{await setDoc(_0x28dafd,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x448409){console[_0x355318(0x537)](_0x355318(0x520),_0x448409);}}function renderAdditionalParallelShortcutsModal(){const _0x5123cc=_0x18fcf7,_0x36b9b9=document[_0x5123cc(0x360)](_0x5123cc(0x96e)),_0x1329f8=document[_0x5123cc(0x360)](_0x5123cc(0x96b));if(!_0x36b9b9||!_0x1329f8)return;_0x36b9b9[_0x5123cc(0x1a0)]=parallelShortcutTabs[_0x5123cc(0x985)](_0x465e4e=>{const _0x2c25e5=_0x5123cc,_0x173db3=_0x465e4e['id']===activeParallelShortcutTabId;return _0x2c25e5(0xa46)+_0x465e4e['id']+_0x2c25e5(0x8a4)+(_0x173db3?_0x2c25e5(0x261):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x2c25e5(0x52d)+_0x465e4e[_0x2c25e5(0x3d8)]+_0x2c25e5(0x22d)+_0x465e4e[_0x2c25e5(0x3d8)]+_0x2c25e5(0x3db)+(!_0x465e4e[_0x2c25e5(0xb2a)]?'<button\x20data-tab-id=\x22'+_0x465e4e['id']+_0x2c25e5(0x1b0):'')+_0x2c25e5(0x45d);})[_0x5123cc(0x155)]('');const _0x130737=parallelShortcutTabs['find'](_0x26386d=>_0x26386d['id']===activeParallelShortcutTabId);let _0x1b7c1b=_0x130737?.[_0x5123cc(0xb2a)]?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x3e7154=>(_0x130737?.[_0x5123cc(0xa2f)]||[])[_0x5123cc(0xba6)](_0x3e7154['id']));const _0x8b240e=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x1b7c1b[_0x5123cc(0x5a4)]((_0x2a12cd,_0x178538)=>{const _0x5d2e21=_0x5123cc,_0x110cc3=_0x8b240e[_0x5d2e21(0x9a4)](_0x2a12cd['id']),_0x591a70=_0x8b240e[_0x5d2e21(0x9a4)](_0x178538['id']);return(_0x110cc3===-0x1?Infinity:_0x110cc3)-(_0x591a70===-0x1?Infinity:_0x591a70);}),_0x1329f8['innerHTML']=_0x1b7c1b[_0x5123cc(0x985)](_0xa1bc87=>{const _0x46ed77=_0x5123cc,_0x422e79=_0xa1bc87['url']?'🔁':'🔗',_0x4c71f5=parallelShortcutTabs[_0x46ed77(0x2bb)](_0x2c3bb=>!_0x2c3bb[_0x46ed77(0xb2a)]),_0x4262c7=_0x130737[_0x46ed77(0xb2a)]&&_0x4c71f5[_0x46ed77(0x633)]>0x0?_0x46ed77(0xbed)+_0x4c71f5['map'](_0x52765e=>'<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0xa1bc87['id']+'\x22\x20data-target-tab-id=\x22'+_0x52765e['id']+'\x22>'+_0x52765e[_0x46ed77(0x3d8)]+_0x46ed77(0x932))[_0x46ed77(0x155)]('')+_0x46ed77(0x133):'';return _0x46ed77(0x9e8)+_0xa1bc87['id']+_0x46ed77(0xcc5)+_0x422e79+'\x20'+_0xa1bc87['name']+_0x46ed77(0x814)+_0xa1bc87['id']+_0x46ed77(0x3e7)+_0xa1bc87['id']+_0x46ed77(0x9be)+(!_0xa1bc87['isDefault']?_0x46ed77(0x18e)+_0xa1bc87['id']+_0x46ed77(0x3f9):'')+_0x46ed77(0x87f)+(!_0x130737[_0x46ed77(0xb2a)]?_0x46ed77(0x8cd)+_0xa1bc87['id']+_0x46ed77(0x451):'')+_0x46ed77(0x87f)+_0x4262c7+_0x46ed77(0xa11);})['join']('')||_0x5123cc(0x345),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x353175=_0x18fcf7;document[_0x353175(0x801)]('.parallel-shortcut-tab-btn')['forEach'](_0x1ecaae=>{const _0x3049ab=_0x353175;_0x1ecaae[_0x3049ab(0x8b1)]=_0x38a2a9=>{const _0x56bacc=_0x3049ab;activeParallelShortcutTabId=_0x38a2a9['currentTarget'][_0x56bacc(0x9d2)]['tabId'],renderAdditionalParallelShortcutsModal();},_0x1ecaae[_0x3049ab(0x776)]=_0x52100c=>{const _0x3a250d=_0x3049ab,_0x3c6617=_0x52100c['currentTarget'][_0x3a250d(0xc8a)](_0x3a250d(0x67f));_0x52100c[_0x3a250d(0x1cc)][_0x3a250d(0xc8a)](_0x3a250d(0x525))[_0x3a250d(0x5a1)]['add'](_0x3a250d(0x29e)),_0x3c6617['classList']['remove'](_0x3a250d(0x29e)),_0x3c6617['focus'](),_0x3c6617[_0x3a250d(0x9a9)]();};}),document[_0x353175(0x801)](_0x353175(0x4f4))[_0x353175(0xc92)](_0x83d587=>{const _0x340a10=_0x353175,_0x3d66c9=()=>{const _0x15a54a=_0x20ce,_0x219153=_0x83d587['closest']('.parallel-shortcut-tab-btn')[_0x15a54a(0x9d2)][_0x15a54a(0x6ab)],_0x1a2246=parallelShortcutTabs[_0x15a54a(0x64b)](_0x20c7ec=>_0x20c7ec['id']===_0x219153);_0x1a2246&&(_0x1a2246[_0x15a54a(0x3d8)]=_0x83d587[_0x15a54a(0x1db)][_0x15a54a(0x665)]()||_0x1a2246[_0x15a54a(0x3d8)],saveParallelShortcutConfig());};_0x83d587[_0x340a10(0x807)]=_0x3d66c9,_0x83d587[_0x340a10(0x46b)]=_0x48ec9e=>{const _0x36b2a1=_0x340a10;if(_0x48ec9e[_0x36b2a1(0x56d)]===_0x36b2a1(0x5f3))_0x83d587[_0x36b2a1(0x979)]();};}),document[_0x353175(0x801)](_0x353175(0xa8e))['forEach'](_0x46eaed=>_0x46eaed[_0x353175(0x8b1)]=_0x3900ca=>{const _0x313e3d=_0x353175,_0x4c1b65=_0x3900ca['currentTarget'][_0x313e3d(0x9d2)]['tabId'];showConfirmation(_0x313e3d(0x3b4),()=>{const _0x2f09fb=_0x313e3d;parallelShortcutTabs=parallelShortcutTabs[_0x2f09fb(0x2bb)](_0x4f4c2e=>_0x4f4c2e['id']!==_0x4c1b65),delete parallelShortcutOrder[_0x4c1b65];if(activeParallelShortcutTabId===_0x4c1b65)activeParallelShortcutTabId=_0x2f09fb(0x9b3);saveParallelShortcutConfig();});}),document[_0x353175(0x801)](_0x353175(0x423))[_0x353175(0xc92)](_0x1a7e26=>_0x1a7e26['onclick']=_0x47ad9e=>{const _0x4f7361=_0x353175;_0x47ad9e[_0x4f7361(0xc63)]();const {shortcutId:_0x14b5bb,targetTabId:_0x587d47}=_0x47ad9e[_0x4f7361(0x1cc)][_0x4f7361(0x9d2)],_0x5c7b3a=parallelShortcutTabs[_0x4f7361(0x64b)](_0x1f2f87=>_0x1f2f87['id']===_0x587d47);_0x5c7b3a&&!_0x5c7b3a[_0x4f7361(0xa2f)][_0x4f7361(0xba6)](_0x14b5bb)&&(_0x5c7b3a[_0x4f7361(0xa2f)][_0x4f7361(0x62c)](_0x14b5bb),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x353175(0xc5f))[_0x353175(0xc92)](_0x2e042d=>_0x2e042d[_0x353175(0x8b1)]=_0x5ecf34=>{const _0x470575=_0x353175,_0x3beac2=_0x5ecf34[_0x470575(0x1cc)][_0x470575(0x9d2)]['shortcutId'],_0x374a69=parallelShortcutTabs[_0x470575(0x64b)](_0xc0fbd5=>_0xc0fbd5['id']===activeParallelShortcutTabId);_0x374a69&&!_0x374a69[_0x470575(0xb2a)]&&(_0x374a69[_0x470575(0xa2f)]=_0x374a69['shortcutIds'][_0x470575(0x2bb)](_0x484d6e=>_0x484d6e!==_0x3beac2),saveParallelShortcutConfig());}),document[_0x353175(0x801)](_0x353175(0xac8))[_0x353175(0xc92)](_0x1e4e7d=>_0x1e4e7d[_0x353175(0x8b1)]=_0x3c66b3=>{const _0x3f9ae5=_0x353175;_0x3c66b3['stopPropagation']();const _0x403b82=_0x3c66b3['currentTarget'][_0x3f9ae5(0x43b)];document['querySelectorAll'](_0x3f9ae5(0x861))['forEach'](_0x259406=>_0x259406['classList'][_0x3f9ae5(0x1f5)](_0x3f9ae5(0x29e))),_0x403b82['classList'][_0x3f9ae5(0xbee)](_0x3f9ae5(0x29e));});const _0x2a4dee=document[_0x353175(0x360)](_0x353175(0x96b));let _0x1461f8=null;_0x2a4dee[_0x353175(0x79e)]=_0x1d2466=>{const _0xa94a97=_0x353175;_0x1461f8=_0x1d2466[_0xa94a97(0x357)][_0xa94a97(0x3ed)](_0xa94a97(0x302));if(_0x1461f8)setTimeout(()=>_0x1461f8[_0xa94a97(0x5a1)][_0xa94a97(0x1f5)](_0xa94a97(0x717)),0x0);},_0x2a4dee[_0x353175(0x60c)]=()=>{const _0x5741df=_0x353175;_0x1461f8&&(_0x1461f8[_0x5741df(0x5a1)][_0x5741df(0xbee)](_0x5741df(0x717)),_0x1461f8=null);},_0x2a4dee[_0x353175(0xa42)]=_0x45e237=>{const _0x88fd23=_0x353175;_0x45e237[_0x88fd23(0xc63)]();},_0x2a4dee['ondrop']=_0x289c33=>{const _0x1d5758=_0x353175;_0x289c33[_0x1d5758(0xc63)]();if(_0x1461f8){const _0x4ee5c4=[..._0x2a4dee[_0x1d5758(0x801)](_0x1d5758(0xbfe))][_0x1d5758(0x3a8)]((_0x5c052b,_0x516d18)=>{const _0x4248c0=_0x1d5758,_0x42bfa5=_0x516d18[_0x4248c0(0x6f3)](),_0x158563=_0x289c33['clientY']-_0x42bfa5[_0x4248c0(0x7a1)]-_0x42bfa5['height']/0x2;return _0x158563<0x0&&_0x158563>_0x5c052b[_0x4248c0(0x3a1)]?{'offset':_0x158563,'element':_0x516d18}:_0x5c052b;},{'offset':Number[_0x1d5758(0x2d1)]})[_0x1d5758(0x601)];_0x4ee5c4==null?_0x2a4dee[_0x1d5758(0x661)](_0x1461f8):_0x2a4dee[_0x1d5758(0xadd)](_0x1461f8,_0x4ee5c4);const _0x27b2e6=[..._0x2a4dee[_0x1d5758(0x801)]('.shortcut-list-item')][_0x1d5758(0x985)](_0x1a25cf=>_0x1a25cf[_0x1d5758(0x9d2)]['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x27b2e6,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x29c254=_0x18fcf7,_0x1c43e7=prompt(_0x29c254(0xbf6),_0x29c254(0xa80));_0x1c43e7&&_0x1c43e7['trim']()&&(parallelShortcutTabs[_0x29c254(0x62c)]({'id':_0x29c254(0x404)+Date['now'](),'name':_0x1c43e7[_0x29c254(0x665)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x3df220=_0x18fcf7,_0x4fa8c6=document[_0x3df220(0x360)]('parallel-shortcut-container'),_0x2fb428=document[_0x3df220(0x360)](_0x3df220(0x96b)),_0x4a8b55=document['getElementById'](_0x3df220(0x7e7));if(_0x4a8b55)_0x4a8b55[_0x3df220(0x5a1)][_0x3df220(0x1f5)](_0x3df220(0x29e));if(!_0x4fa8c6||!_0x2fb428)return;const _0x11effd=parallelTestShortcuts[_0x3df220(0x9b7)](0x0,0x4),_0x100fc9=parallelTestShortcuts[_0x3df220(0x9b7)](0x4);_0x4fa8c6[_0x3df220(0x1a0)]=_0x11effd[_0x3df220(0x985)](_0xb6b41e=>{const _0x2b663b=_0x3df220,_0x341310=_0xb6b41e[_0x2b663b(0x2a1)]&&_0xb6b41e[_0x2b663b(0x2a1)][_0x2b663b(0x665)]()!=='',_0xb27a89=_0x341310?'bg-teal-500\x20hover:bg-teal-600\x20text-white':_0x2b663b(0x28f),_0xf005d2=_0x341310?'🔁':'🔗',_0xc48d8e=!_0xb6b41e[_0x2b663b(0xb2a)]?_0x2b663b(0x18e)+_0xb6b41e['id']+_0x2b663b(0x9fc):'';return _0x2b663b(0xbd5)+_0xb6b41e['id']+_0x2b663b(0x1b3)+_0xb27a89+_0x2b663b(0x17a)+_0xf005d2+'\x20'+_0xb6b41e[_0x2b663b(0x3d8)]+_0x2b663b(0x754)+_0xb6b41e['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc48d8e+_0x2b663b(0x486);})[_0x3df220(0x155)](''),_0x100fc9[_0x3df220(0x633)]>0x0&&(_0x4fa8c6['innerHTML']+=_0x3df220(0x202)),_0x100fc9[_0x3df220(0x633)]>0x0?_0x2fb428['innerHTML']=_0x100fc9[_0x3df220(0x985)](_0x1e5b5e=>_0x3df220(0x30c)+(_0x1e5b5e[_0x3df220(0x2a1)]?'🔁':'🔗')+'\x20'+_0x1e5b5e[_0x3df220(0x3d8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1e5b5e['id']+_0x3df220(0x412)+_0x1e5b5e['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x1e5b5e[_0x3df220(0xb2a)]?_0x3df220(0x18e)+_0x1e5b5e['id']+_0x3df220(0x3f9):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3df220(0x155)](''):_0x2fb428[_0x3df220(0x1a0)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openParallelTestShortcutEditor(_0x55ec43=null){const _0x219aed=_0x18fcf7,_0x319309=document[_0x219aed(0x360)](_0x219aed(0x9fa)),_0x1cbe11=document[_0x219aed(0x360)](_0x219aed(0x9a6)),_0x1ee4d1=document[_0x219aed(0x360)](_0x219aed(0xc2f)),_0x1f0a12=document[_0x219aed(0x360)](_0x219aed(0xbcf)),_0x58cd93=document[_0x219aed(0x360)]('parallel-shortcut-url-input');if(_0x55ec43){const _0x13d79d=parallelTestShortcuts[_0x219aed(0x64b)](_0x236be3=>_0x236be3['id']===_0x55ec43);if(!_0x13d79d)return;_0x1cbe11[_0x219aed(0x946)]='แก้ไขปุ่มลัดข้อสอบต้นฉบับ',_0x1ee4d1['value']=_0x13d79d['id'],_0x1f0a12['value']=_0x13d79d['name'],_0x58cd93['value']=_0x13d79d[_0x219aed(0x2a1)]||'';}else _0x1cbe11['textContent']='เพิ่มปุ่มลัดข้อสอบต้นฉบับ',_0x1ee4d1[_0x219aed(0x1db)]='',_0x1f0a12[_0x219aed(0x1db)]='',_0x58cd93[_0x219aed(0x1db)]='';_0x319309[_0x219aed(0x5a1)][_0x219aed(0xbee)](_0x219aed(0x29e));}async function saveParallelTestShortcutChanges(){const _0x2b46ba=_0x18fcf7,_0x3ae8bb=document[_0x2b46ba(0x360)](_0x2b46ba(0xc2f))[_0x2b46ba(0x1db)],_0xe7e80f=document['getElementById']('parallel-shortcut-name-input')['value']['trim'](),_0x140ef1=document[_0x2b46ba(0x360)]('parallel-shortcut-url-input')['value']['trim']();if(!_0xe7e80f){showMessage(_0x2b46ba(0x850));return;}const _0x200b88={'id':_0x3ae8bb||_0x2b46ba(0x9f9)+Date['now'](),'name':_0xe7e80f,'url':_0x140ef1,'isDefault':_0x3ae8bb[_0x2b46ba(0x478)](_0x2b46ba(0x54b))};let _0x584a8b;_0x3ae8bb?_0x584a8b=parallelTestShortcuts[_0x2b46ba(0x985)](_0x1879b8=>_0x1879b8['id']===_0x3ae8bb?_0x200b88:_0x1879b8):_0x584a8b=[...parallelTestShortcuts,_0x200b88];try{const _0x2cf52b=doc(db,_0x2b46ba(0xa24),_0x2b46ba(0x4dc));await setDoc(_0x2cf52b,{'shortcuts':_0x584a8b},{'merge':!![]}),document[_0x2b46ba(0x360)](_0x2b46ba(0x9fa))[_0x2b46ba(0x5a1)]['add'](_0x2b46ba(0x29e));}catch(_0x1d47d3){console[_0x2b46ba(0x537)](_0x2b46ba(0x91b),_0x1d47d3),showMessage(_0x2b46ba(0xc70));}}async function handleParallelTestShortcutClick(_0x4d033f){const _0x2b6d07=_0x18fcf7,_0x2c18ab=parallelTestShortcuts['find'](_0x90b687=>_0x90b687['id']===_0x4d033f);if(!_0x2c18ab)return;if(!_0x2c18ab[_0x2b6d07(0x2a1)]||_0x2c18ab[_0x2b6d07(0x2a1)]['trim']()===''){openParallelTestShortcutEditor(_0x4d033f);return;}const _0x2e31a1=document[_0x2b6d07(0x360)]('loader'),_0x49e205=document[_0x2b6d07(0x360)](_0x2b6d07(0xa5c));document[_0x2b6d07(0x360)](_0x2b6d07(0x982))[_0x2b6d07(0x5a1)][_0x2b6d07(0xbee)](_0x2b6d07(0x29e)),document[_0x2b6d07(0x360)](_0x2b6d07(0xa2d))[_0x2b6d07(0x1a0)]='',_0x2e31a1['classList'][_0x2b6d07(0xbee)](_0x2b6d07(0x29e)),_0x49e205[_0x2b6d07(0x946)]=_0x2b6d07(0x781);try{let _0x238707;_0x2c18ab[_0x2b6d07(0x2a1)][_0x2b6d07(0xc54)]()[_0x2b6d07(0xba6)](_0x2b6d07(0x5d3))?_0x238707=_0x2b6d07(0x830):_0x238707=_0x2b6d07(0x374);const _0x3fb1d8=await fetchFileFromUrl(_0x2c18ab['url'],_0x238707);await handleGenerateParallelTest(_0x3fb1d8);}catch(_0x12d516){console['error'](_0x2b6d07(0x9f3),_0x12d516),showMessage(_0x2b6d07(0x920)+_0x12d516['message']),_0x2e31a1[_0x2b6d07(0x5a1)][_0x2b6d07(0x1f5)]('hidden');}}function initializeScratchpadCanvas(){const _0x16ce25=_0x18fcf7,_0x4ede0a=document[_0x16ce25(0x360)]('scratchpad-canvas'),_0x446ff9=document[_0x16ce25(0xc8a)](_0x16ce25(0xa54));if(!_0x4ede0a||!_0x446ff9)return;scratchpadCtx=_0x4ede0a[_0x16ce25(0x3c0)]('2d',{'willReadFrequently':!![]});const _0x380c20=window[_0x16ce25(0x1cf)]||0x1,_0x2003b2=_0x446ff9[_0x16ce25(0x6f3)]();_0x4ede0a[_0x16ce25(0x560)]=_0x2003b2['width']*_0x380c20,_0x4ede0a[_0x16ce25(0xb8b)]=_0x2003b2[_0x16ce25(0xb8b)]*_0x380c20,_0x4ede0a[_0x16ce25(0xbce)]['width']=_0x2003b2[_0x16ce25(0x560)]+'px',_0x4ede0a[_0x16ce25(0xbce)][_0x16ce25(0xb8b)]=_0x2003b2['height']+'px',scratchpadCtx[_0x16ce25(0x6e1)](_0x380c20,_0x380c20),scratchpadCtx[_0x16ce25(0x5d5)]=_0x16ce25(0xa8d),scratchpadCtx[_0x16ce25(0x2de)]=_0x16ce25(0xa8d),_0x4ede0a[_0x16ce25(0xb86)](_0x16ce25(0x9da),handlePointerDown),_0x4ede0a['removeEventListener'](_0x16ce25(0x6f9),handlePointerMove),_0x4ede0a['removeEventListener'](_0x16ce25(0x606),handlePointerUp),_0x4ede0a[_0x16ce25(0xb86)]('pointercancel',handlePointerUp),_0x4ede0a[_0x16ce25(0xb86)]('wheel',handleWheel),_0x4ede0a[_0x16ce25(0xb86)](_0x16ce25(0x86e),handlePointerDown),_0x4ede0a[_0x16ce25(0xb86)](_0x16ce25(0x553),handlePointerMove),_0x4ede0a['removeEventListener'](_0x16ce25(0xcbf),handlePointerUp),_0x4ede0a['addEventListener'](_0x16ce25(0x9da),handlePointerDown),_0x4ede0a[_0x16ce25(0x616)](_0x16ce25(0x6f9),handlePointerMove),_0x4ede0a[_0x16ce25(0x616)](_0x16ce25(0x606),handlePointerUp),_0x4ede0a[_0x16ce25(0x616)](_0x16ce25(0x23e),handlePointerUp),_0x4ede0a[_0x16ce25(0x616)](_0x16ce25(0xc06),handleWheel,{'passive':![]}),_0x4ede0a[_0x16ce25(0x616)](_0x16ce25(0x86e),handlePointerDown,{'passive':![]}),_0x4ede0a[_0x16ce25(0x616)](_0x16ce25(0x553),handlePointerMove,{'passive':![]}),_0x4ede0a[_0x16ce25(0x616)]('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x255eb5=_0x18fcf7,_0x190b83=document['getElementById'](_0x255eb5(0x3c3)),_0x195571=document[_0x255eb5(0x360)]('scratchpad-controls');_0x195571['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+_0x255eb5(0x6c3);const _0x5e1b15=document[_0x255eb5(0x360)]('pen-tool-btn'),_0x4c5cd3=document[_0x255eb5(0x360)](_0x255eb5(0x805)),_0x2a5165=document['getElementById']('trail-tool-btn'),_0xfc3db=document['getElementById'](_0x255eb5(0x722)),_0x3505e0=document[_0x255eb5(0x360)](_0x255eb5(0x7f5)),_0x22ed70=document[_0x255eb5(0x360)](_0x255eb5(0x167)),_0x2a5e0e=document[_0x255eb5(0x360)](_0x255eb5(0x77d)),_0x4a29c5=[_0x5e1b15,_0x4c5cd3,_0x2a5165,_0xfc3db];document[_0x255eb5(0x360)](_0x255eb5(0x49d))[_0x255eb5(0x616)](_0x255eb5(0xc47),()=>_0x190b83[_0x255eb5(0x5a1)][_0x255eb5(0x1f5)](_0x255eb5(0x29e))),document[_0x255eb5(0x360)]('reset-view-btn')[_0x255eb5(0x616)](_0x255eb5(0xc47),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x255eb5(0xcfa))[_0x255eb5(0x616)](_0x255eb5(0xc47),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById']('undo-btn')[_0x255eb5(0x616)](_0x255eb5(0xc47),undo),document[_0x255eb5(0x360)](_0x255eb5(0x7ab))[_0x255eb5(0x616)](_0x255eb5(0xc47),redo);const _0x143831=_0xbf34d=>{const _0x3eede2=_0x255eb5;_0x4a29c5[_0x3eede2(0xc92)](_0x4aabba=>_0x4aabba[_0x3eede2(0x5a1)]['remove'](_0x3eede2(0x455))),_0xbf34d[_0x3eede2(0x5a1)][_0x3eede2(0x1f5)](_0x3eede2(0x455)),_0x3505e0[_0x3eede2(0x5a1)][_0x3eede2(0x1f5)]('hidden'),_0x22ed70[_0x3eede2(0x5a1)][_0x3eede2(0x1f5)](_0x3eede2(0x29e)),_0x2a5e0e[_0x3eede2(0x5a1)]['add']('hidden');if(activeTool===_0x3eede2(0x611)||activeTool==='trail')_0x3505e0[_0x3eede2(0x5a1)]['remove'](_0x3eede2(0x29e));else{if(activeTool==='highlighter')_0x22ed70[_0x3eede2(0x5a1)][_0x3eede2(0xbee)](_0x3eede2(0x29e));else activeTool===_0x3eede2(0x408)&&_0x2a5e0e[_0x3eede2(0x5a1)][_0x3eede2(0xbee)](_0x3eede2(0x29e));}};_0x5e1b15['addEventListener'](_0x255eb5(0xc47),()=>{const _0x4f9e88=_0x255eb5;activeTool=_0x4f9e88(0x611),_0x143831(_0x5e1b15);}),_0x4c5cd3['addEventListener'](_0x255eb5(0xc47),()=>{const _0x226d9b=_0x255eb5;activeTool=_0x226d9b(0x408),_0x143831(_0x4c5cd3);}),_0x2a5165['addEventListener'](_0x255eb5(0xc47),()=>{const _0x4d5398=_0x255eb5;activeTool=_0x4d5398(0x144),_0x143831(_0x2a5165);}),_0xfc3db[_0x255eb5(0x616)](_0x255eb5(0xc47),()=>{activeTool='highlighter',_0x143831(_0xfc3db);}),_0x3505e0[_0x255eb5(0x801)](_0x255eb5(0x8ca))[_0x255eb5(0xc92)](_0x17eef4=>{const _0x30f17f=_0x255eb5;_0x17eef4[_0x30f17f(0x616)](_0x30f17f(0xc47),_0x534f12=>{const _0x35089d=_0x30f17f;scratchpadPenSize=parseInt(_0x534f12['target']['dataset'][_0x35089d(0x8ae)],0xa),_0x3505e0['querySelectorAll'](_0x35089d(0x8ca))[_0x35089d(0xc92)](_0x40336e=>_0x40336e[_0x35089d(0x5a1)]['remove'](_0x35089d(0x455))),_0x534f12[_0x35089d(0x357)][_0x35089d(0x5a1)]['add'](_0x35089d(0x455));});}),_0x2a5e0e[_0x255eb5(0x801)](_0x255eb5(0x9b6))['forEach'](_0x14125e=>{const _0x86852=_0x255eb5;_0x14125e['addEventListener'](_0x86852(0xc47),_0x5ac5dd=>{const _0x4ef5aa=_0x86852,_0x2db239=_0x5ac5dd[_0x4ef5aa(0x1cc)];scratchpadEraserSize=parseInt(_0x2db239[_0x4ef5aa(0x9d2)][_0x4ef5aa(0x8ae)],0xa),_0x2a5e0e['querySelectorAll'](_0x4ef5aa(0x9b6))[_0x4ef5aa(0xc92)](_0x376d35=>_0x376d35[_0x4ef5aa(0x5a1)][_0x4ef5aa(0xbee)](_0x4ef5aa(0x455))),_0x2db239[_0x4ef5aa(0x5a1)][_0x4ef5aa(0x1f5)](_0x4ef5aa(0x455));});}),_0x3505e0[_0x255eb5(0x801)](_0x255eb5(0x4c9))[_0x255eb5(0xc92)](_0x1a1967=>{const _0x55ad92=_0x255eb5;_0x1a1967[_0x55ad92(0x616)]('click',_0x51d20d=>{const _0x65b75d=_0x55ad92;scratchpadPenColor=_0x51d20d[_0x65b75d(0x357)][_0x65b75d(0x9d2)][_0x65b75d(0xcdf)],_0x3505e0[_0x65b75d(0x801)](_0x65b75d(0x4c9))[_0x65b75d(0xc92)](_0x3eb490=>_0x3eb490[_0x65b75d(0x5a1)][_0x65b75d(0xbee)](_0x65b75d(0x455))),_0x51d20d[_0x65b75d(0x357)][_0x65b75d(0x5a1)][_0x65b75d(0x1f5)](_0x65b75d(0x455));});}),_0x22ed70[_0x255eb5(0x801)]('.highlighter-color-btn')[_0x255eb5(0xc92)](_0x248e25=>{const _0x171b13=_0x255eb5;_0x248e25[_0x171b13(0x616)](_0x171b13(0xc47),_0x5a8da9=>{const _0x603ae1=_0x171b13;scratchpadHighlighterColor=_0x5a8da9['target'][_0x603ae1(0x9d2)][_0x603ae1(0xcdf)],_0x22ed70['querySelectorAll'](_0x603ae1(0xaed))[_0x603ae1(0xc92)](_0x5e104b=>_0x5e104b['classList'][_0x603ae1(0xbee)](_0x603ae1(0x455))),_0x5a8da9[_0x603ae1(0x357)]['classList']['add']('active');});});const _0x4da086=document[_0x255eb5(0x360)](_0x255eb5(0x517)),_0x358ce5=document['getElementById'](_0x255eb5(0x3ec));_0x4da086[_0x255eb5(0x616)]('input',_0x4cbe5b=>{const _0x2a5512=_0x255eb5,_0x3aaab3=parseInt(_0x4cbe5b[_0x2a5512(0x357)]['value'],0xa);scratchpadHighlighterSize=_0x3aaab3,_0x358ce5['textContent']=_0x3aaab3;}),window['addEventListener'](_0x255eb5(0x159),()=>{const _0x5420fe=_0x255eb5;!_0x190b83[_0x5420fe(0x5a1)][_0x5420fe(0xbf1)](_0x5420fe(0x29e))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x18fcf7(0xa65),'description':_0x18fcf7(0x837),'icon':_0x18fcf7(0x81b)},'QUICK_THINKER':{'id':_0x18fcf7(0x72d),'name':'เซียนสมองไว','description':_0x18fcf7(0xb78),'icon':_0x18fcf7(0x275)},'ON_FIRE':{'id':_0x18fcf7(0xae8),'name':_0x18fcf7(0x42a),'description':_0x18fcf7(0xa06),'icon':_0x18fcf7(0xaf5)},'FIRST_TRY_ACE':{'id':_0x18fcf7(0x9c2),'name':'ผ่านฉลุย','description':_0x18fcf7(0x3ff),'icon':_0x18fcf7(0xacf)},'COMEBACK_KING':{'id':'comeback_king','name':_0x18fcf7(0x926),'description':_0x18fcf7(0x9ee),'icon':_0x18fcf7(0xbec)},'SPECIALIST':{'id':_0x18fcf7(0x843),'name':_0x18fcf7(0x8fa),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x18fcf7(0x52e),'name':_0x18fcf7(0xaa1),'description':_0x18fcf7(0x339),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x18fcf7(0x31c),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':'ai-quiz-app-aefee','storageBucket':_0x18fcf7(0x321),'messagingSenderId':_0x18fcf7(0xb0b),'appId':_0x18fcf7(0x5a6),'measurementId':_0x18fcf7(0xa47)},appId=typeof __app_id!==_0x18fcf7(0x34d)?__app_id:_0x18fcf7(0xb98),adminView=document[_0x18fcf7(0x360)](_0x18fcf7(0x131)),studentView=document[_0x18fcf7(0x360)](_0x18fcf7(0xaad)),projectDashboardView=document['getElementById'](_0x18fcf7(0xb22)),projectDetailView=document['getElementById'](_0x18fcf7(0x7d3)),quizResultsView=document[_0x18fcf7(0x360)](_0x18fcf7(0x810)),projectList=document[_0x18fcf7(0x360)](_0x18fcf7(0xb61)),noProjectsMsg=document['getElementById'](_0x18fcf7(0xb8a)),projectTitle=document['getElementById']('project-title'),projectIdDisplay=document[_0x18fcf7(0x360)](_0x18fcf7(0x24c)),studentList=document['getElementById'](_0x18fcf7(0x445)),messageModal=document[_0x18fcf7(0x360)](_0x18fcf7(0xab4)),modalMessage=document[_0x18fcf7(0x360)]('modal-message'),createProjectModal=document[_0x18fcf7(0x360)](_0x18fcf7(0x8b7)),adminPasswordModal=document[_0x18fcf7(0x360)](_0x18fcf7(0x974)),confirmationModal=document[_0x18fcf7(0x360)](_0x18fcf7(0x9c5)),userIdDisplay=document[_0x18fcf7(0x360)]('user-id-display'),topicTab=document[_0x18fcf7(0x360)](_0x18fcf7(0x37b)),textTab=document[_0x18fcf7(0x360)]('text-tab'),topicInputArea=document[_0x18fcf7(0x360)](_0x18fcf7(0x198)),textInputArea=document[_0x18fcf7(0x360)]('text-input-area'),manageTab=document[_0x18fcf7(0x360)](_0x18fcf7(0x4b6)),resultsTab=document[_0x18fcf7(0x360)](_0x18fcf7(0xb19)),leaderboardTab=document[_0x18fcf7(0x360)](_0x18fcf7(0x29c)),manageTabContent=document[_0x18fcf7(0x360)](_0x18fcf7(0x20f)),resultsTabContent=document[_0x18fcf7(0x360)]('results-tab-content'),leaderboardTabContent=document[_0x18fcf7(0x360)](_0x18fcf7(0xce7)),projectQuizzesList=document[_0x18fcf7(0x360)]('project-quizzes-list'),fileTab=document[_0x18fcf7(0x360)](_0x18fcf7(0x5a0)),fileInputArea=document[_0x18fcf7(0x360)]('file-input-area'),fileUploadInput=document[_0x18fcf7(0x360)](_0x18fcf7(0x267)),worksheetTab=document['getElementById'](_0x18fcf7(0xa44)),worksheetInputArea=document['getElementById']('worksheet-input-area'),generateWorksheetBtn=document['getElementById'](_0x18fcf7(0x4c8)),studentInitialView=document[_0x18fcf7(0x360)](_0x18fcf7(0x68a)),studentNameSelectionView=document['getElementById'](_0x18fcf7(0xc00)),studentQuizArea=document[_0x18fcf7(0x360)](_0x18fcf7(0xc8e)),studentResultArea=document[_0x18fcf7(0x360)]('student-result-area'),studentReadingArea=document[_0x18fcf7(0x360)]('student-reading-area'),loadQuizBtn=document[_0x18fcf7(0x360)](_0x18fcf7(0x989)),startQuizBtn=document[_0x18fcf7(0x360)](_0x18fcf7(0x3cb)),studentJoinGameView=document[_0x18fcf7(0x360)](_0x18fcf7(0x650)),presentationModal=document[_0x18fcf7(0x360)]('presentation-modal'),renameQuizModal=document[_0x18fcf7(0x360)](_0x18fcf7(0x825)),moveQuizModal=document[_0x18fcf7(0x360)](_0x18fcf7(0x54c)),quizSettingsModal=document[_0x18fcf7(0x360)](_0x18fcf7(0xb96)),quizStatusModal=document[_0x18fcf7(0x360)](_0x18fcf7(0x6c2)),liveGameView=document[_0x18fcf7(0x360)](_0x18fcf7(0xc0c));function handleFixLessonLatex(){const _0x14bca6=_0x18fcf7,_0x3cd628=document['getElementById']('lesson-view-content');if(!_0x3cd628){showMessage(_0x14bca6(0x6f8));return;}const _0x5b5ba0=_0x3cd628[_0x14bca6(0x801)](['.ai-content\x20p',_0x14bca6(0x13c),_0x14bca6(0x2aa),_0x14bca6(0x977),_0x14bca6(0x591)]['join'](','));let _0x507f84=0x0;const _0x4af91e=_0x1f7bad=>_0x1f7bad[_0x14bca6(0x946)]||'',_0x216c86=(_0x82e4a,_0x38a10e)=>{const _0x2f7d52=_0x14bca6;if(_0x82e4a[_0x2f7d52(0xc8a)]&&_0x82e4a['querySelector'](_0x2f7d52(0x2a8)))return;_0x82e4a['textContent']=_0x38a10e;},_0x7c0670=_0x4fd0cd=>_0x4fd0cd[_0x14bca6(0x955)](/\u00A0/g,'\x20')[_0x14bca6(0x955)](/\u200B/g,'')[_0x14bca6(0x955)](/\r\n?/g,'\x0a'),_0x4f929f=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x3a5210=_0x3a2dbe=>{const _0x310d97=_0x14bca6;let _0x5bea81=_0x3a2dbe['trim']();const _0x2aeb37=[_0x310d97(0xc6a),_0x310d97(0x36e),_0x310d97(0x707),_0x310d97(0x6d6),'text','times',_0x310d97(0x65b),_0x310d97(0x538),'leq',_0x310d97(0x9b4),'le','ge',_0x310d97(0x373),'pm','approx',_0x310d97(0xa53),_0x310d97(0x7eb),_0x310d97(0x948),_0x310d97(0xced),'ln',_0x310d97(0x2a7),'prod',_0x310d97(0xa13),_0x310d97(0x857),_0x310d97(0x7e0),_0x310d97(0x605),_0x310d97(0x9ae),_0x310d97(0x742),'deg'];_0x2aeb37[_0x310d97(0xc92)](_0x2d8f91=>{const _0x3e36ce=_0x310d97;_0x5bea81=_0x5bea81[_0x3e36ce(0x955)](new RegExp(_0x3e36ce(0x8fe)+_0x2d8f91+'\x5cb','g'),(_0x2e2124,_0x559f24)=>_0x559f24+'\x5c'+_0x2d8f91);});const _0x159971=[[/×/g,_0x310d97(0x1ab)],[/·/g,_0x310d97(0x572)],[/÷/g,_0x310d97(0x5c2)],[/≤/g,'\x5cle'],[/≥/g,_0x310d97(0x17c)],[/≠/g,'\x5cneq'],[/±/g,_0x310d97(0x5bd)],[/∑/g,_0x310d97(0x2e0)],[/−/g,'-']];return _0x159971['forEach'](([_0x42db9a,_0x16e12a])=>{const _0x9ffccf=_0x310d97;_0x5bea81=_0x5bea81[_0x9ffccf(0x955)](_0x42db9a,_0x16e12a);}),_0x5bea81=_0x5bea81[_0x310d97(0x955)](/√\s*([A-Za-z0-9]+)/g,_0x310d97(0x9d6)),_0x5bea81=_0x5bea81[_0x310d97(0x955)](/(\d+)\s*%/g,_0x310d97(0x471)),_0x5bea81;},_0x4cfe18=_0x1acfab=>{const _0x416f4a=_0x14bca6;if(/\$|\\\(|\\\[/[_0x416f4a(0x30d)](_0x1acfab))return _0x1acfab;if(!_0x4f929f[_0x416f4a(0x30d)](_0x1acfab))return _0x1acfab;const _0xaac6d0=_0x1acfab[_0x416f4a(0x1d7)](/^\s*/)[0x0],_0x28106c=_0x1acfab[_0x416f4a(0x1d7)](/\s*$/)[0x0],_0x5b543a=_0x1acfab[_0x416f4a(0x665)]();return _0xaac6d0+'$'+_0x3a5210(_0x5b543a)+'$'+_0x28106c;};_0x5b5ba0['forEach'](_0x2f0cb8=>{const _0x290cc2=_0x14bca6,_0x23388e=_0x4af91e(_0x2f0cb8);let _0x302392=_0x7c0670(_0x23388e);_0x302392=_0x302392[_0x290cc2(0x955)](/\$([^$]*?)\$/g,(_0x1e5109,_0x4ca8d0)=>'$'+_0x3a5210(_0x4ca8d0)+'$');const _0x316652=_0x302392['split'](/(\s+)/),_0x50a8e6=_0x316652[_0x290cc2(0x985)](_0x74fd8b=>{const _0xbce36f=_0x290cc2;if(/\s+/[_0xbce36f(0x30d)](_0x74fd8b))return _0x74fd8b;return _0x4cfe18(_0x74fd8b);});_0x302392=_0x50a8e6[_0x290cc2(0x155)](''),_0x302392!==_0x23388e&&(_0x216c86(_0x2f0cb8,_0x302392),_0x507f84++);});if(_0x507f84>0x0){showMessage(_0x14bca6(0xa3a)+_0x507f84+_0x14bca6(0x8f7));try{window[_0x14bca6(0xb63)]&&MathJax[_0x14bca6(0x5b0)]&&MathJax[_0x14bca6(0x5b0)]([_0x3cd628]);}catch(_0x3b7b44){console[_0x14bca6(0x537)](_0x14bca6(0x15f),_0x3b7b44);}}else showMessage(_0x14bca6(0x481));}function handleAutoFixLatex(){const _0x89515e=_0x18fcf7,_0x2218ea=document['getElementById']('quiz-editor-questions-container')||document,_0x2bb918=_0x2218ea[_0x89515e(0x801)](_0x89515e(0xb74));let _0x50952f=0x0;const _0x103d6d=_0x2f1875=>_0x89515e(0x1db)in _0x2f1875?String(_0x2f1875[_0x89515e(0x1db)]):_0x2f1875[_0x89515e(0x3d4)]!==undefined?_0x2f1875[_0x89515e(0x3d4)]:_0x2f1875[_0x89515e(0x946)]||'',_0x22a3a9=(_0x256857,_0xc59ebe)=>{const _0x332623=_0x89515e;if(_0x332623(0x1db)in _0x256857){_0x256857[_0x332623(0x1db)]=_0xc59ebe;return;}if(_0x256857[_0x332623(0xc8a)]&&_0x256857['querySelector'](_0x332623(0x2a8)))return;if(_0x256857['innerText']!==undefined)_0x256857[_0x332623(0x3d4)]=_0xc59ebe;else _0x256857[_0x332623(0x946)]=_0xc59ebe;},_0x46d0ae=_0x284a1a=>_0x284a1a[_0x89515e(0x955)](/\u00A0/g,'\x20')[_0x89515e(0x955)](/\u200B/g,'')[_0x89515e(0x955)](/\r\n?/g,'\x0a'),_0x361f0f=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x72b4f9=_0x449991=>{const _0x24dbb5=_0x89515e;let _0x5560c0=_0x449991['trim']();_0x5560c0=_0x5560c0['replace'](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x24dbb5(0x94b)),_0x5560c0=_0x5560c0[_0x24dbb5(0x955)](/\bfrac(\d)(\d)/g,_0x24dbb5(0x94b));const _0x5e725d=[_0x24dbb5(0xc6a),'sqrt','times','cdot',_0x24dbb5(0x538),_0x24dbb5(0x816),_0x24dbb5(0x9b4),_0x24dbb5(0x373),'pm',_0x24dbb5(0xa53),_0x24dbb5(0x7eb),_0x24dbb5(0x948),'log','ln'];_0x5e725d['forEach'](_0x208e89=>{const _0x241bea=_0x24dbb5;_0x5560c0=_0x5560c0[_0x241bea(0x955)](new RegExp(_0x241bea(0x8fe)+_0x208e89+'\x5cb','g'),(_0x4f33bf,_0x2b214c)=>_0x2b214c+'\x5c'+_0x208e89);});const _0x3ab28a=[[/×/g,_0x24dbb5(0x1ab)],[/·/g,_0x24dbb5(0x572)],[/÷/g,_0x24dbb5(0x5c2)],[/≤/g,_0x24dbb5(0xbf0)],[/≥/g,_0x24dbb5(0x17c)],[/≠/g,'\x5cneq'],[/±/g,_0x24dbb5(0x5bd)]];return _0x3ab28a[_0x24dbb5(0xc92)](([_0x4d1ba4,_0x2d2235])=>{const _0x4ddc69=_0x24dbb5;_0x5560c0=_0x5560c0[_0x4ddc69(0x955)](_0x4d1ba4,_0x2d2235);}),_0x5560c0;},_0x12a4d5=_0x18fb78=>{const _0x4f9159=_0x89515e;if(/\$|\\\(|\\\[/[_0x4f9159(0x30d)](_0x18fb78))return _0x18fb78;if(!_0x361f0f[_0x4f9159(0x30d)](_0x18fb78))return _0x18fb78;const _0x503534=_0x18fb78['match'](/^\s*/)[0x0],_0x2230f8=_0x18fb78['match'](/\s*$/)[0x0],_0x46cbab=_0x18fb78[_0x4f9159(0x665)]();return _0x503534+'$'+_0x72b4f9(_0x46cbab)+'$'+_0x2230f8;};_0x2bb918[_0x89515e(0xc92)](_0x3d972a=>{const _0x3f3d1c=_0x89515e,_0x5929a3=_0x103d6d(_0x3d972a);let _0x25d944=_0x46d0ae(_0x5929a3);_0x25d944=_0x25d944['replace'](/\$([^$]*?)\$/g,(_0x445c51,_0x4f7f25)=>'$'+_0x72b4f9(_0x4f7f25)+'$');const _0x255da5=_0x25d944[_0x3f3d1c(0x779)](/(\s+)/),_0x476291=_0x255da5[_0x3f3d1c(0x985)](_0x42a5d6=>/\s+/[_0x3f3d1c(0x30d)](_0x42a5d6)?_0x42a5d6:_0x12a4d5(_0x42a5d6));_0x25d944=_0x476291[_0x3f3d1c(0x155)](''),_0x25d944!==_0x5929a3&&(_0x22a3a9(_0x3d972a,_0x25d944),_0x50952f++);});if(_0x50952f>0x0){showMessage(_0x89515e(0x54e)+_0x50952f+_0x89515e(0x42d));try{if(window[_0x89515e(0xb63)]&&MathJax['typesetPromise'])MathJax[_0x89515e(0x5b0)]();}catch(_0x591f55){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x442209=_0x18fcf7,_0x818f18=collection(db,_0x442209(0x944)+appId+'/public/data/customMathTopics');onSnapshot(_0x818f18,_0x326bf5=>{const _0x1d91e2=_0x442209;customMathTopics=_0x326bf5[_0x1d91e2(0x8d0)][_0x1d91e2(0x985)](_0xe5658e=>({'id':_0xe5658e['id'],..._0xe5658e[_0x1d91e2(0x9e7)]()})),renderTopicCheckboxes();},_0x26f40e=>{const _0x2081c4=_0x442209;console['error'](_0x2081c4(0x51b),_0x26f40e);});}function handleSelectAllTopics(){const _0x15c0fc=_0x18fcf7,_0x4447c2=document['getElementById']('math-topics-checkbox-container'),_0x4248da=_0x4447c2[_0x15c0fc(0x801)](_0x15c0fc(0xa0d));_0x4248da[_0x15c0fc(0xc92)](_0x5cd593=>{const _0x57e9f9=_0x15c0fc;_0x5cd593[_0x57e9f9(0x5fc)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x449830=_0x18fcf7,_0x5ea466=document[_0x449830(0x360)]('math-topics-checkbox-container'),_0x24d171=_0x5ea466[_0x449830(0x801)](_0x449830(0xa0d));_0x24d171[_0x449830(0xc92)](_0x5177bb=>{const _0xfa1691=_0x449830;_0x5177bb[_0xfa1691(0x5fc)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x46f55e){const _0x3ecc08=_0x18fcf7;if(!_0x46f55e)return;try{const _0x3019d4=doc(db,'artifacts/'+appId+'/public/data/customMathTopics',_0x46f55e);await deleteDoc(_0x3019d4),showMessage(_0x3ecc08(0x49a));}catch(_0x5dc6d0){console['error'](_0x3ecc08(0xadf),_0x5dc6d0),showMessage(_0x3ecc08(0x43d));}}async function handleAddCustomMathTopic(){const _0x5b42df=_0x18fcf7,_0x285c36=document[_0x5b42df(0x360)](_0x5b42df(0x617)),_0x4f4f94=_0x285c36[_0x5b42df(0x1db)]['trim']();if(!_0x4f4f94){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x5b42df(0xa29));return;}try{const _0x2c86d9=collection(db,'artifacts/'+appId+_0x5b42df(0x18a));await addDoc(_0x2c86d9,{'name':_0x4f4f94,'createdAt':serverTimestamp()}),_0x285c36[_0x5b42df(0x1db)]='',showMessage(_0x5b42df(0xbbf)+_0x4f4f94+_0x5b42df(0x350));}catch(_0x4f329b){console[_0x5b42df(0x537)](_0x5b42df(0x953),_0x4f329b),showMessage(_0x5b42df(0x902));}}async function handleUpdateOldQuizzes(){const _0x38bc9a=_0x18fcf7;showConfirmation(_0x38bc9a(0x899),async()=>{const _0x4ff73b=_0x38bc9a,_0xb7c9e7=document[_0x4ff73b(0x360)](_0x4ff73b(0x491)),_0x26a763=document[_0x4ff73b(0x360)](_0x4ff73b(0xa5c)),_0x540656=_0x26a763['textContent'];_0xb7c9e7['classList'][_0x4ff73b(0xbee)]('hidden'),_0x26a763[_0x4ff73b(0x946)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x5f08da=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x51741b=await getDocs(_0x5f08da);if(_0x51741b[_0x4ff73b(0x62a)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x21bb05=writeBatch(db);let _0x3d1017=0x0;_0x51741b[_0x4ff73b(0xc92)](_0x59c6e2=>{const _0xbe78c8=_0x4ff73b,_0x5d4995=_0x59c6e2[_0xbe78c8(0x9e7)](),_0x419887=_0x59c6e2['id'];if(_0x5d4995[_0xbe78c8(0x3b7)]&&_0x5d4995[_0xbe78c8(0x3b7)][_0xbe78c8(0x633)]>0x0&&!_0x5d4995[_0xbe78c8(0x3b7)][0x0][_0xbe78c8(0x942)]('id')){console[_0xbe78c8(0xced)](_0xbe78c8(0xbeb)+_0x419887+'\x20('+_0x5d4995[_0xbe78c8(0x94f)]+')'),_0x3d1017++;const _0x5f141a=_0x5d4995[_0xbe78c8(0x3b7)]['map']((_0x31ebe2,_0x1c4385)=>{const _0x2dafbd=_0xbe78c8;return{..._0x31ebe2,'id':_0x31ebe2['id']||'q_'+Date[_0x2dafbd(0x36b)]()+'_'+_0x419887+'_'+_0x1c4385};}),_0xb6d7a2=doc(db,_0xbe78c8(0x944)+appId+_0xbe78c8(0x46a),_0x419887);_0x21bb05[_0xbe78c8(0xc50)](_0xb6d7a2,{'questions':_0x5f141a});}}),_0x3d1017>0x0?(_0x26a763[_0x4ff73b(0x946)]=_0x4ff73b(0x2df)+_0x3d1017+_0x4ff73b(0xaa9),await _0x21bb05[_0x4ff73b(0xb69)](),showMessage(_0x4ff73b(0x3e6)+_0x3d1017+_0x4ff73b(0x1c5))):showMessage(_0x4ff73b(0x98e));}catch(_0x2ceee0){console[_0x4ff73b(0x537)](_0x4ff73b(0x954),_0x2ceee0),showMessage(_0x4ff73b(0x5cb)+_0x2ceee0[_0x4ff73b(0x42e)]);}finally{_0xb7c9e7[_0x4ff73b(0x5a1)][_0x4ff73b(0x1f5)](_0x4ff73b(0x29e)),_0x26a763[_0x4ff73b(0x946)]=_0x540656;}});}async function handleBulkUpdateQuizSettings(){const _0x107875=_0x18fcf7,_0x7b2ee4={'shuffle':document[_0x107875(0x360)](_0x107875(0x863))[_0x107875(0x1db)],'resultsDisplay':document['getElementById'](_0x107875(0x818))[_0x107875(0x1db)],'loopUntilPass':document[_0x107875(0x360)](_0x107875(0xb83))['checked'],'isConfidenceScoringEnabled':document[_0x107875(0x360)]('bulk-confidence-scoring-checkbox')[_0x107875(0x5fc)],'confidenceMode':document[_0x107875(0x360)](_0x107875(0xcef))[_0x107875(0x1db)]};try{showMessage(_0x107875(0x205));const _0x3e59d2=await getDocs(collection(db,_0x107875(0x944)+appId+_0x107875(0x46a))),_0x470d07=_0x3e59d2[_0x107875(0x8d0)][_0x107875(0x985)](_0x133c91=>({'id':_0x133c91['id'],'data':_0x133c91[_0x107875(0x9e7)]()})),_0x4cfdf4=_0x470d07[_0x107875(0x633)];showConfirmation(_0x107875(0x223)+_0x4cfdf4+_0x107875(0xb27),async()=>{const _0x47d419=_0x107875,_0x32cc0a=document[_0x47d419(0x360)]('confirm-bulk-quiz-settings-btn');_0x32cc0a['disabled']=!![],_0x32cc0a[_0x47d419(0x1a0)]=_0x47d419(0x95e);try{const _0x1f3cc2=writeBatch(db);_0x470d07[_0x47d419(0xc92)](_0x2e0239=>{const _0x183817=_0x47d419,_0x5ad7c3=doc(db,_0x183817(0x944)+appId+_0x183817(0x46a),_0x2e0239['id']),_0x48012b={..._0x2e0239[_0x183817(0x9e7)]['settings']||{},..._0x7b2ee4};_0x1f3cc2[_0x183817(0xc50)](_0x5ad7c3,{'settings':_0x48012b});}),await _0x1f3cc2[_0x47d419(0xb69)](),document[_0x47d419(0x360)]('bulk-quiz-settings-modal')[_0x47d419(0x5a1)][_0x47d419(0x1f5)]('hidden'),showMessage(_0x47d419(0x365)+_0x4cfdf4+'\x20ชุดสำเร็จ!');}catch(_0x2f452c){console['error'](_0x47d419(0xb1a),_0x2f452c),showMessage(_0x47d419(0xa79));}finally{_0x32cc0a[_0x47d419(0xa78)]=![],_0x32cc0a[_0x47d419(0x1a0)]=_0x47d419(0x510);}});}catch(_0x5e3fbb){console[_0x107875(0x537)](_0x107875(0x564),_0x5e3fbb),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0x2b0b7f=_0x18fcf7,_0x20b8cb=document[_0x2b0b7f(0x360)]('project-title'),_0x569a0f=document[_0x2b0b7f(0x360)](_0x2b0b7f(0xbc9)),_0x1a71c6=_0x20b8cb[_0x2b0b7f(0x946)][_0x2b0b7f(0x665)]();if(!_0x1a71c6||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x20b8cb['textContent']=currentProjectData[_0x2b0b7f(0x8f5)];return;}_0x569a0f[_0x2b0b7f(0xa78)]=!![],_0x569a0f[_0x2b0b7f(0x1a0)]=_0x2b0b7f(0x89d);try{const _0x1b0097=doc(db,_0x2b0b7f(0x944)+appId+_0x2b0b7f(0x382),currentProjectId);await updateDoc(_0x1b0097,{'projectName':_0x1a71c6}),currentProjectData&&(currentProjectData[_0x2b0b7f(0x8f5)]=_0x1a71c6),showMessage(_0x2b0b7f(0x514));}catch(_0x1a751e){console[_0x2b0b7f(0x537)]('Error\x20updating\x20project\x20name:',_0x1a751e),showMessage(_0x2b0b7f(0xc70)),_0x20b8cb[_0x2b0b7f(0x946)]=currentProjectData['projectName'];}finally{_0x569a0f['classList'][_0x2b0b7f(0x1f5)](_0x2b0b7f(0x29e)),_0x569a0f[_0x2b0b7f(0xa78)]=![],_0x569a0f['innerHTML']='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x518047,_0x5a895d){const _0x5ca99f=_0x18fcf7,_0x28b949=document[_0x5ca99f(0x360)](_0x5ca99f(0x32c)),_0x3e1a38=document[_0x5ca99f(0x360)](_0x5ca99f(0x61b)),_0x412460=document[_0x5ca99f(0x360)]('lesson-loader'),_0x32905=document[_0x5ca99f(0x360)](_0x5ca99f(0x320));_0x3e1a38[_0x5ca99f(0x946)]=_0x5ca99f(0x4f8)+_0x518047,_0x32905['classList'][_0x5ca99f(0x1f5)](_0x5ca99f(0x29e)),_0x412460[_0x5ca99f(0x5a1)][_0x5ca99f(0xbee)](_0x5ca99f(0x29e)),_0x28b949[_0x5ca99f(0x5a1)][_0x5ca99f(0xbee)](_0x5ca99f(0x29e)),generatePracticeTest(_0x518047,_0x5a895d)[_0x5ca99f(0x8cc)](_0x48e989=>{const _0x5e028f=_0x5ca99f;console[_0x5e028f(0x537)](_0x5e028f(0x8a7),_0x48e989),showMessage('ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้'),_0x28b949[_0x5e028f(0x5a1)][_0x5e028f(0x1f5)](_0x5e028f(0x29e));});}async function generatePracticeTest(_0x2f2de3,_0x5209e6){const _0x511db9=_0x18fcf7;['pointContent',_0x511db9(0x49c),_0x511db9(0x7a8),_0x511db9(0xbc4)]['forEach'](_0x3135c9=>{const _0x2ca8d1=_0x511db9,_0x1409c4=document[_0x2ca8d1(0x360)](_0x3135c9)['parentElement'];_0x1409c4&&(_0x1409c4[_0x2ca8d1(0xbce)][_0x2ca8d1(0x640)]='none');});try{const _0x41d495=_0x511db9(0xa85),_0x3ebd29=_0x511db9(0x5d9)+_0x5209e6+_0x511db9(0x21d)+_0x2f2de3+_0x511db9(0x4e2),_0x341467=await callGemini(_0x3ebd29,!![]),_0x3de9f8=document[_0x511db9(0x360)]('lesson-view-title'),_0x31760b=document[_0x511db9(0x360)](_0x511db9(0xca2)),_0x3b1990=document[_0x511db9(0x360)](_0x511db9(0x320)),_0xb8e125=document[_0x511db9(0x360)](_0x511db9(0x7a8))[_0x511db9(0xa62)];_0x3de9f8[_0x511db9(0x3d4)]='แบบทดสอบฝึกฝนเรื่อง:\x20'+_0x2f2de3[_0x511db9(0x955)](/•\s/g,'')+_0x511db9(0x146)+_0x5209e6+')',currentApplicationData=JSON['parse'](_0x341467);const _0x3fc483=document[_0x511db9(0x360)](_0x511db9(0x7a8));_0x3fc483['innerHTML']=currentApplicationData['map']((_0x1315a2,_0x51ec3f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x51ec3f+0x1)+'.\x20'+marked[_0x511db9(0x6b2)](_0x1315a2[_0x511db9(0x13f)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x51ec3f+_0x511db9(0x549)+_0x1315a2[_0x511db9(0x211)][_0x511db9(0x985)]((_0x534770,_0xaaf658)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x51ec3f+',\x20'+_0xaaf658+_0x511db9(0x8ed)+String[_0x511db9(0xb2b)](0x61+_0xaaf658)+'.\x20'+marked[_0x511db9(0x6b2)](_0x534770)+_0x511db9(0xac9))[_0x511db9(0x155)]('')+_0x511db9(0x59f))[_0x511db9(0x155)](''),window['MathJax']&&MathJax[_0x511db9(0x5b0)]([_0x3fc483]),_0xb8e125&&(_0xb8e125[_0x511db9(0xbce)][_0x511db9(0x640)]='block'),_0x31760b[_0x511db9(0x5a1)]['add'](_0x511db9(0x29e)),_0x3b1990[_0x511db9(0x5a1)][_0x511db9(0xbee)](_0x511db9(0x29e));}catch(_0x5672a9){console[_0x511db9(0x537)](_0x5672a9);throw _0x5672a9;}}async function callGemini(_0x505e40,_0x40fb0d=![]){const _0x395133=_0x18fcf7,_0x56891e=_0x395133(0x443),_0x443290=_0x395133(0x459)+_0x56891e,_0x9084b5={'contents':[{'parts':[{'text':_0x505e40}]}]};_0x40fb0d&&(_0x9084b5[_0x395133(0x69f)]={'responseMimeType':_0x395133(0x476)},_0x505e40[_0x395133(0xba6)](_0x395133(0x8e4))?_0x9084b5[_0x395133(0x69f)]['responseSchema']={'type':_0x395133(0x6f6),'properties':{'gradeLevel':{'type':_0x395133(0x279)},'curriculum':{'type':_0x395133(0x512),'items':{'type':'OBJECT','properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x395133(0x512),'items':{'type':_0x395133(0x6f6),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x395133(0x512),'items':{'type':'STRING'}}},'required':['topicName',_0x395133(0xbcc)]}}},'required':['sara','mainTopics']}}},'required':[_0x395133(0xa3d),'curriculum']}:_0x9084b5[_0x395133(0x69f)][_0x395133(0x866)]={'type':_0x395133(0x512),'items':{'type':'OBJECT','properties':{'question':{'type':_0x395133(0x279)},'options':{'type':_0x395133(0x512),'items':{'type':_0x395133(0x279)}},'answer':{'type':_0x395133(0x6b4)}},'required':['question',_0x395133(0x211),'answer']}});try{const _0x55277f=await fetch(_0x443290,{'method':_0x395133(0x6d7),'headers':{'Content-Type':_0x395133(0x476)},'body':JSON[_0x395133(0x639)](_0x9084b5)});if(!_0x55277f['ok']){const _0x17eee8=await _0x55277f['text']();console[_0x395133(0x537)](_0x395133(0xb76),_0x17eee8);throw new Error(_0x395133(0x604)+_0x55277f[_0x395133(0x23b)]);}const _0x2fe442=await _0x55277f[_0x395133(0xa87)]();if(_0x2fe442['candidates']&&_0x2fe442[_0x395133(0x259)][0x0][_0x395133(0x5f9)]&&_0x2fe442[_0x395133(0x259)][0x0][_0x395133(0x5f9)][_0x395133(0x5b1)][0x0])return _0x2fe442[_0x395133(0x259)][0x0][_0x395133(0x5f9)][_0x395133(0x5b1)][0x0][_0x395133(0xc85)];else{console['error'](_0x395133(0x973),_0x2fe442);if(_0x2fe442[_0x395133(0x259)]&&_0x2fe442[_0x395133(0x259)][0x0][_0x395133(0x80f)]===_0x395133(0xc78))return JSON[_0x395133(0x639)]({'error':_0x395133(0x71e)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x5e0cb2){console[_0x395133(0x537)](_0x395133(0x45a),_0x5e0cb2);throw _0x5e0cb2;}}async function generateLesson(_0x29e33f=null,_0x2aec50=null){const _0x304d1c=_0x18fcf7,_0x4ca0b7=_0x29e33f,_0x5eb5ad=_0x2aec50||'ไม่ระบุ',_0x32497c=document[_0x304d1c(0x360)](_0x304d1c(0xca2)),_0x4af175=document[_0x304d1c(0x360)](_0x304d1c(0x694));_0x4af175[_0x304d1c(0x946)]=_0x304d1c(0x84f)+_0x4ca0b7+'\x22...';try{let _0x543610=[];const _0x42346a=document[_0x304d1c(0x360)](_0x304d1c(0x1a1))?.[_0x304d1c(0x1db)][_0x304d1c(0x665)]();if(_0x42346a)try{_0x4af175[_0x304d1c(0x946)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x34c4fc=await fetchFileFromUrl(_0x42346a,_0x304d1c(0x38b)),_0x2febdf=await new Promise((_0x5f5a46,_0x532dbd)=>{const _0x42f80b=_0x304d1c,_0x4e6ebc=new FileReader();_0x4e6ebc[_0x42f80b(0x568)](_0x34c4fc),_0x4e6ebc['onload']=()=>_0x5f5a46(_0x4e6ebc[_0x42f80b(0xc7f)][_0x42f80b(0x779)](',')[0x1]),_0x4e6ebc[_0x42f80b(0x784)]=_0x532dbd;});_0x543610['push']({'inlineData':{'mimeType':_0x34c4fc['type'],'data':_0x2febdf}});}catch(_0x1c9c02){console[_0x304d1c(0x537)]('Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.',_0x1c9c02),showMessage(_0x304d1c(0x743));}const _0x36d676=_0x304d1c(0x671)+_0x4ca0b7+_0x304d1c(0x61c)+_0x4ca0b7+'\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x4af175[_0x304d1c(0x946)]=_0x304d1c(0x84f)+_0x4ca0b7+'\x22...';const _0x136e09=_0x304d1c(0x33c)+_0x5eb5ad+'\x27\x20ในหัวข้อ\x20\x27'+_0x4ca0b7+_0x304d1c(0x8da)+_0x36d676+'.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art',_0x51d9b3=_0x304d1c(0x8f0)+_0x4ca0b7+_0x304d1c(0x81f)+_0x5eb5ad+_0x304d1c(0xa89)+_0x36d676+_0x304d1c(0x75b),_0x4ad344=_0x304d1c(0x5d9)+_0x5eb5ad+_0x304d1c(0x21d)+_0x4ca0b7+_0x304d1c(0x237)+_0x36d676+_0x304d1c(0xad4),_0x5a0b1d='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x4ca0b7+'\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x5eb5ad+'\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20'+_0x36d676+_0x304d1c(0x609),_0x470d0c={'type':'ARRAY','items':{'type':_0x304d1c(0x6f6),'properties':{'question':{'type':_0x304d1c(0x279)},'options':{'type':_0x304d1c(0x512),'items':{'type':_0x304d1c(0x279)}},'answer':{'type':_0x304d1c(0x6b4)}},'required':['question','options',_0x304d1c(0x895)]}},[_0xab1b9c,_0x1a24a6,_0x3d426c,_0x1d06f5]=await Promise[_0x304d1c(0x9b3)]([handleApiCall([{'text':_0x136e09},..._0x543610],'...',null,null,![]),handleApiCall([{'text':_0x51d9b3},..._0x543610],_0x304d1c(0xb6e),null,null,![]),handleApiCall([{'text':_0x4ad344},..._0x543610],'...',_0x470d0c,null,![]),handleApiCall([{'text':_0x5a0b1d},..._0x543610],_0x304d1c(0xb6e),null,null,![])]),_0x2b6f4a=JSON[_0x304d1c(0x639)](_0x3d426c||[]),_0x582dcb=document[_0x304d1c(0x360)](_0x304d1c(0x61b)),_0x59ebcb=document[_0x304d1c(0x360)]('lesson-sections-container');_0x582dcb[_0x304d1c(0x3d4)]='บทเรียนเรื่อง:\x20'+_0x4ca0b7[_0x304d1c(0x955)](/•\\s/g,'')+'\x20(สำหรับ\x20'+_0x5eb5ad+')',[_0x304d1c(0xbb4),_0x304d1c(0x49c),_0x304d1c(0xbc4)][_0x304d1c(0xc92)](_0xcd6ce5=>{const _0x3608c2=_0x304d1c;document['getElementById'](_0xcd6ce5)[_0x3608c2(0x1a0)]='';}),document[_0x304d1c(0x360)](_0x304d1c(0xbb4))[_0x304d1c(0x1a0)]=_0xab1b9c?marked[_0x304d1c(0x74a)](_0xab1b9c):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document['getElementById'](_0x304d1c(0x49c))['innerHTML']=_0x1a24a6?marked[_0x304d1c(0x74a)](_0x1a24a6):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x304d1c(0x360)](_0x304d1c(0xbc4))[_0x304d1c(0x1a0)]=_0x1d06f5?marked[_0x304d1c(0x74a)](_0x1d06f5):_0x304d1c(0x36f),currentApplicationData=JSON['parse'](_0x2b6f4a);const _0x194199=document[_0x304d1c(0x360)](_0x304d1c(0x7a8));_0x194199[_0x304d1c(0x1a0)]=(currentApplicationData||[])[_0x304d1c(0x985)]((_0x30636f,_0x4a594c)=>_0x304d1c(0xa72)+(_0x4a594c+0x1)+'.\x20'+marked[_0x304d1c(0x6b2)](_0x30636f[_0x304d1c(0x13f)]||'')+_0x304d1c(0x24b)+_0x4a594c+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x30636f['options']||[])['map']((_0x76e3e4,_0x44ba1f)=>_0x304d1c(0x2b8)+_0x4a594c+',\x20'+_0x44ba1f+')\x22>'+String[_0x304d1c(0xb2b)](0x61+_0x44ba1f)+'.\x20'+marked[_0x304d1c(0x6b2)](_0x76e3e4||'')+_0x304d1c(0xac9))['join']('')+_0x304d1c(0x59f))[_0x304d1c(0x155)]('')||_0x304d1c(0x23a),window[_0x304d1c(0xb63)]&&MathJax[_0x304d1c(0x5b0)]([_0x59ebcb]),_0x32497c[_0x304d1c(0x5a1)][_0x304d1c(0x1f5)](_0x304d1c(0x29e)),_0x59ebcb[_0x304d1c(0x5a1)][_0x304d1c(0xbee)](_0x304d1c(0x29e));}catch(_0x6087db){console[_0x304d1c(0x537)](_0x6087db);throw _0x6087db;}}function checkAnswer(_0x261965,_0x14cc51){const _0x13d864=_0x18fcf7,_0x1872eb=currentApplicationData[_0x261965],_0x436e89=document[_0x13d864(0x360)]('q'+_0x261965+'-options'),_0x4a8001=_0x436e89[_0x13d864(0xac7)](_0x13d864(0x557));for(let _0x3d0107 of _0x4a8001){_0x3d0107[_0x13d864(0xa78)]=!![];}_0x14cc51===_0x1872eb[_0x13d864(0x895)]?_0x4a8001[_0x14cc51][_0x13d864(0x5a1)]['add'](_0x13d864(0xa1c)):(_0x4a8001[_0x14cc51]['classList'][_0x13d864(0x1f5)](_0x13d864(0x878)),_0x4a8001[_0x1872eb[_0x13d864(0x895)]][_0x13d864(0x5a1)][_0x13d864(0x1f5)](_0x13d864(0xa1c)));}window[_0x18fcf7(0x5f1)]=handleGenerateAndShowLesson,window[_0x18fcf7(0x1f3)]=checkAnswer,window[_0x18fcf7(0x46e)]=handleGeneratePracticeTest,window[_0x18fcf7(0x9db)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x200502=_0x18fcf7;try{const _0x4666dc=initializeApp(firebaseConfig);db=getFirestore(_0x4666dc),auth=getAuth(_0x4666dc),setupAuthListener(),setupEventListeners(),showView(_0x200502(0x35e)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x60706e){console['error'](_0x200502(0x9cd),_0x60706e),showMessage(_0x200502(0x930));}}async function handleVerifyAnswersInEditor(){const _0x4a556a=_0x18fcf7,_0x1be54d=document[_0x4a556a(0x360)](_0x4a556a(0xcf8));if(!_0x1be54d)return;const _0x437e2e=document[_0x4a556a(0x360)]('verify-answers-editor-btn');_0x437e2e[_0x4a556a(0xa78)]=!![],_0x437e2e[_0x4a556a(0x1a0)]=_0x4a556a(0x28b);try{const _0x2363fa=_0x1be54d['querySelectorAll'](_0x4a556a(0x845)),_0x59b9eb=Array[_0x4a556a(0x7bc)](_0x2363fa)[_0x4a556a(0x985)]((_0x254464,_0x5f4616)=>{const _0x37a60a=_0x4a556a,_0x2ff746=_0x254464[_0x37a60a(0x9d2)][_0x37a60a(0x84e)],_0x1e49c7=_0x254464[_0x37a60a(0xc8a)](_0x37a60a(0x149))[_0x37a60a(0x1db)];let _0x3076a1=null,_0xd6165b='';switch(_0x2ff746){case _0x37a60a(0xc24):const _0x339d65=_0x254464['querySelectorAll'](_0x37a60a(0x190));_0x3076a1=Array[_0x37a60a(0x7bc)](_0x339d65)[_0x37a60a(0x985)](_0x57a3f6=>_0x57a3f6[_0x37a60a(0x1db)]);const _0x16315e=_0x254464['querySelector'](_0x37a60a(0x679));_0x16315e&&(_0xd6165b=_0x3076a1[parseInt(_0x16315e[_0x37a60a(0x1db)])]);break;case _0x37a60a(0x693):_0x3076a1=[],_0xd6165b=_0x254464['querySelector'](_0x37a60a(0x331))[_0x37a60a(0x1db)];break;case _0x37a60a(0x8e2):_0x3076a1=['true','false'];const _0x4c6589=_0x254464[_0x37a60a(0xc8a)](_0x37a60a(0x679));_0xd6165b=_0x4c6589?_0x4c6589['value']:'';break;case _0x37a60a(0x463):_0x3076a1=[],_0xd6165b=_0x254464[_0x37a60a(0xc8a)]('.correct-response-input')[_0x37a60a(0x1db)];break;}return{'question':_0x1e49c7,'options':_0x3076a1,'proposedAnswer':_0xd6165b};}),_0x528a3d=_0x4a556a(0x2f2)+JSON['stringify'](_0x59b9eb)+_0x4a556a(0xcdc),_0x2eccf5={'type':'ARRAY','items':{'type':_0x4a556a(0x6f6),'properties':{'questionIndex':{'type':_0x4a556a(0x6b4)},'isCorrect':{'type':_0x4a556a(0xcf0)},'justification':{'type':_0x4a556a(0x279)},'correctOptionExists':{'type':'BOOLEAN'},'suggestedAnswer':{'type':_0x4a556a(0x279)},'newOptionsPayload':{'type':_0x4a556a(0x6f6),'properties':{'newOptions':{'type':_0x4a556a(0x512),'items':{'type':'STRING'}},'newCorrectIndex':{'type':'NUMBER'}}}},'required':[_0x4a556a(0x3f6),'isCorrect',_0x4a556a(0xab2)]}},_0x52e66b=await callAnalysisApi(_0x528a3d,{'type':_0x4a556a(0x6f6),'properties':{'result':_0x2eccf5},'required':[_0x4a556a(0xc7f)]});displayVerificationResultsInEditor(_0x52e66b[_0x4a556a(0xc7f)]);}catch(_0x4459ea){console[_0x4a556a(0x537)](_0x4a556a(0x47d),_0x4459ea),showMessage(_0x4a556a(0x990));}finally{_0x437e2e['disabled']=![],_0x437e2e['innerHTML']=_0x4a556a(0x74c);}}function displayVerificationResultsInEditor(_0x513bc7){const _0x2770c3=_0x18fcf7;_0x513bc7[_0x2770c3(0xc92)](_0x38d7bf=>{const _0x54fa0b=_0x2770c3,_0x4304f6=document['querySelector'](_0x54fa0b(0x6ed)+_0x38d7bf[_0x54fa0b(0x3f6)]+'\x22]');if(!_0x4304f6)return;const _0x1fa430=_0x4304f6[_0x54fa0b(0xc8a)](_0x54fa0b(0x43c));if(_0x1fa430)_0x1fa430[_0x54fa0b(0xbee)]();let _0x2d54ad='';if(_0x38d7bf['newOptionsPayload']&&_0x38d7bf[_0x54fa0b(0x405)][_0x54fa0b(0x632)]){const _0x17e031=_0x38d7bf[_0x54fa0b(0x405)][_0x54fa0b(0x632)],_0xbaaaa9=_0x38d7bf['newOptionsPayload'][_0x54fa0b(0x179)],_0x3c97fc=_0x4304f6[_0x54fa0b(0x9d2)][_0x54fa0b(0x84e)];if(_0x3c97fc===_0x54fa0b(0xc24)){const _0x5d8afe=_0x4304f6[_0x54fa0b(0x801)]('input[type=\x22text\x22]');_0x5d8afe[_0x54fa0b(0xc92)]((_0x591e89,_0x575b48)=>{const _0x4836d0=_0x54fa0b;_0x17e031[_0x575b48]?_0x591e89[_0x4836d0(0x1db)]=_0x17e031[_0x575b48]:_0x591e89[_0x4836d0(0x1db)]=_0x4836d0(0x352);});const _0x3727fb=_0x4304f6[_0x54fa0b(0xc8a)](_0x54fa0b(0x962)+_0xbaaaa9+'\x22]');_0x3727fb&&(_0x3727fb[_0x54fa0b(0x5fc)]=!![]),_0x2d54ad=_0x54fa0b(0xb9e),_0x4304f6[_0x54fa0b(0x5a1)]['add'](_0x54fa0b(0x97e),_0x54fa0b(0x6e6),_0x54fa0b(0xb7d)),setTimeout(()=>{const _0x21a6de=_0x54fa0b;_0x4304f6[_0x21a6de(0x5a1)][_0x21a6de(0xbee)]('bg-yellow-200');},0x9c4);}}else{if(!_0x38d7bf[_0x54fa0b(0xb33)]&&_0x38d7bf[_0x54fa0b(0x379)]){const _0x587b82=_0x38d7bf['suggestedAnswer']?_0x54fa0b(0x5cd):'';_0x2d54ad=_0x54fa0b(0xc2e)+_0x587b82+_0x54fa0b(0x8a1)+_0x38d7bf[_0x54fa0b(0xab2)]+_0x54fa0b(0x3e2)+(_0x38d7bf[_0x54fa0b(0x379)]?_0x54fa0b(0xc9a)+_0x38d7bf['suggestedAnswer']+_0x54fa0b(0x2ea):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';const _0x5805bc=_0x4304f6[_0x54fa0b(0x9d2)][_0x54fa0b(0x84e)],_0x1dd2de=_0x1fe747=>{const _0x2a46c1=_0x54fa0b;if(!_0x1fe747)return;_0x1fe747['classList'][_0x2a46c1(0x1f5)]('bg-green-200',_0x2a46c1(0x6e6),_0x2a46c1(0xb7d)),setTimeout(()=>{const _0x4ac8f0=_0x2a46c1;_0x1fe747[_0x4ac8f0(0x5a1)][_0x4ac8f0(0xbee)]('bg-green-200');},0x9c4);};if(_0x5805bc===_0x54fa0b(0xc24)){const _0x2830ff=Array[_0x54fa0b(0x7bc)](_0x4304f6[_0x54fa0b(0x801)](_0x54fa0b(0x190))),_0x2afb86=_0x2830ff[_0x54fa0b(0x1b7)](_0x2470ab=>_0x2470ab[_0x54fa0b(0x1db)][_0x54fa0b(0x665)]()[_0x54fa0b(0xc54)]()===_0x38d7bf[_0x54fa0b(0x379)][_0x54fa0b(0x665)]()[_0x54fa0b(0xc54)]());if(_0x2afb86!==-0x1){const _0x12658e=_0x4304f6[_0x54fa0b(0xc8a)](_0x54fa0b(0x962)+_0x2afb86+'\x22]');_0x12658e&&(_0x12658e['checked']=!![],_0x1dd2de(_0x12658e[_0x54fa0b(0x3ed)](_0x54fa0b(0x538))));}}else{if(_0x5805bc===_0x54fa0b(0x693)||_0x5805bc==='matching_item'){const _0x48a37b=_0x4304f6['querySelector'](_0x54fa0b(0x7b8));_0x48a37b&&(_0x48a37b[_0x54fa0b(0x1db)]=_0x38d7bf[_0x54fa0b(0x379)],_0x1dd2de(_0x48a37b));}else{if(_0x5805bc==='true_false'){const _0x372315=_0x38d7bf[_0x54fa0b(0x379)][_0x54fa0b(0x665)]()['toLowerCase'](),_0x6973cc=_0x4304f6[_0x54fa0b(0xc8a)](_0x54fa0b(0x962)+_0x372315+'\x22]');_0x6973cc&&(_0x6973cc['checked']=!![],_0x1dd2de(_0x6973cc[_0x54fa0b(0x3ed)](_0x54fa0b(0x538))));}}}}else _0x38d7bf[_0x54fa0b(0xb33)]&&(_0x2d54ad=_0x54fa0b(0x9f4));}_0x4304f6[_0x54fa0b(0x44f)]('beforeend',_0x2d54ad);}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0x3e9989=_0x18fcf7;if(!currentQuizData||!currentQuizData[_0x3e9989(0x3b7)]){showMessage(_0x3e9989(0x318));return;}const _0x32ecd6=document[_0x3e9989(0x360)](_0x3e9989(0x3d3));_0x32ecd6[_0x3e9989(0xa78)]=!![],_0x32ecd6[_0x3e9989(0x1a0)]=_0x3e9989(0x28b);try{const _0x2c6a9b=currentQuizData['questions']['map']((_0x5253cd,_0x5b543b)=>{const _0x36eebd=_0x3e9989;let _0x570685='';const _0x4e0968=_0x5253cd['questionType']||currentQuizData[_0x36eebd(0x677)];switch(_0x4e0968){case _0x36eebd(0xc24):_0x570685=_0x5253cd[_0x36eebd(0x211)][_0x5253cd[_0x36eebd(0x274)]];break;case _0x36eebd(0x693):_0x570685=_0x5253cd[_0x36eebd(0x698)];break;case _0x36eebd(0x8e2):_0x570685=_0x5253cd[_0x36eebd(0x30e)][_0x36eebd(0xa76)]();break;case _0x36eebd(0x463):_0x570685=_0x5253cd[_0x36eebd(0xa81)];break;}return{'question':_0x5253cd[_0x36eebd(0x7e5)]||_0x5253cd[_0x36eebd(0xcec)],'options':_0x5253cd['options']||null,'proposedAnswer':_0x570685};}),_0x41dc8e=_0x3e9989(0x308)+JSON['stringify'](_0x2c6a9b)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x56426b={'type':_0x3e9989(0x512),'items':{'type':_0x3e9989(0x6f6),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x3e9989(0xcf0)},'justification':{'type':_0x3e9989(0x279)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x3e9989(0x3f6),_0x3e9989(0xb33),_0x3e9989(0xab2)]}},_0x2ef231=await callAnalysisApi(_0x41dc8e,{'type':_0x3e9989(0x6f6),'properties':{'result':_0x56426b},'required':[_0x3e9989(0xc7f)]});displayVerificationResults(_0x2ef231[_0x3e9989(0xc7f)]);}catch(_0x3d9b04){console['error'](_0x3e9989(0x347),_0x3d9b04),showMessage(_0x3e9989(0x990));}finally{_0x32ecd6[_0x3e9989(0xa78)]=![],_0x32ecd6['innerHTML']=_0x3e9989(0xd03);}}function displayVerificationResults(_0x22736b){const _0x15420b=_0x18fcf7;_0x22736b[_0x15420b(0xc92)](_0x37bb31=>{const _0x30ff3f=_0x15420b,_0x31863e=document[_0x30ff3f(0xc8a)](_0x30ff3f(0x489)+_0x37bb31[_0x30ff3f(0x3f6)]+'\x22]');if(_0x31863e){const _0x42bf48=_0x31863e[_0x30ff3f(0xc8a)]('.verification-result');if(_0x42bf48)_0x42bf48['remove']();let _0x3641c3='';_0x37bb31['isCorrect']?_0x3641c3=_0x30ff3f(0x2cb):_0x3641c3=_0x30ff3f(0x9d0)+_0x37bb31[_0x30ff3f(0xab2)]+_0x30ff3f(0x1fc)+(_0x37bb31[_0x30ff3f(0x379)]?_0x30ff3f(0xc9a)+_0x37bb31[_0x30ff3f(0x379)]+'</p>':'')+_0x30ff3f(0x55e),_0x31863e[_0x30ff3f(0x44f)](_0x30ff3f(0x919),_0x3641c3);}}),showMessage(_0x15420b(0xaf6));}function compareNumericalAnswers(_0x2ff369,_0x16b596){const _0x2b215b=_0x18fcf7,_0x4b6b58=String(_0x2ff369)[_0x2b215b(0x955)](',','.')['replace'](/[^\d.-]/g,'')['trim'](),_0x3c3f4d=String(_0x16b596)[_0x2b215b(0x955)](',','.')['replace'](/[^\d.-]/g,'')['trim']();if(_0x4b6b58===''||_0x3c3f4d==='')return![];const _0x2c3cff=parseFloat(_0x4b6b58),_0x236941=parseFloat(_0x3c3f4d);if(isNaN(_0x2c3cff)||isNaN(_0x236941))return![];return Math['abs'](_0x2c3cff-_0x236941)<0.001;}function isPotentiallyNumeric(_0x5f3fd1){const _0x25eefd=_0x18fcf7;if(typeof _0x5f3fd1!==_0x25eefd(0xb5c)&&typeof _0x5f3fd1!==_0x25eefd(0x935))return![];const _0xa6861d=String(_0x5f3fd1)[_0x25eefd(0x955)](',','.')[_0x25eefd(0x665)]();return _0xa6861d!==''&&!isNaN(parseFloat(_0xa6861d))&&isFinite(_0xa6861d);}async function gradeShortAnswer(_0x586882,_0x5a2f01){const _0x2e14f5=_0x18fcf7,_0x222b67=_0x5a2f01[_0x2e14f5(0x698)],_0x1da666=String(_0x586882)[_0x2e14f5(0x955)](/\$/g,'')[_0x2e14f5(0x665)](),_0x2a1e00=String(_0x222b67)[_0x2e14f5(0x955)](/\$/g,'')['trim']();if(_0x1da666['toLowerCase']()===_0x2a1e00[_0x2e14f5(0xc54)]())return!![];if(isPotentiallyNumeric(_0x1da666)&&isPotentiallyNumeric(_0x2a1e00)){if(compareNumericalAnswers(_0x1da666,_0x2a1e00))return!![];}return console[_0x2e14f5(0xced)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x586882,_0x222b67);}async function revealAnswerForAdmin(_0x398349,_0x1eff35){const _0x1b0c09=_0x18fcf7,_0x2e71df=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x2e71df,{'questionStatus':_0x1b0c09(0xcd5)});}function showTop5LeaderboardView(_0x556fed){const _0x21306f=_0x18fcf7,_0x4af252=Object[_0x21306f(0x85e)](_0x556fed['players']||{})[_0x21306f(0x2bb)](_0x39edba=>_0x39edba[_0x21306f(0x23b)]==='active');_0x4af252[_0x21306f(0x5a4)]((_0x570be6,_0x36a17f)=>_0x36a17f[_0x21306f(0x8c2)]-_0x570be6[_0x21306f(0x8c2)]);const _0x50f658=_0x4af252['slice'](0x0,0x5),_0x3b6550='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x50f658[_0x21306f(0x985)]((_0xa06bc2,_0xbcba21)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0xbcba21+0x1)+'.\x20'+(_0xa06bc2[_0x21306f(0x3d8)]||Object[_0x21306f(0xa9d)](_0x556fed[_0x21306f(0x326)])[_0x21306f(0x64b)](_0x282ccb=>_0x556fed[_0x21306f(0x326)][_0x282ccb]===_0xa06bc2))+_0x21306f(0x824)+_0xa06bc2['score']+_0x21306f(0x1eb))[_0x21306f(0x155)]('')+_0x21306f(0x6c7)+(_0x556fed[_0x21306f(0xa20)]+0x1===currentQuizData[_0x21306f(0x3b7)][_0x21306f(0x633)]?_0x21306f(0x3cc):_0x21306f(0x744))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x21306f(0x1a0)]=_0x3b6550,document['getElementById'](_0x21306f(0xa3e))[_0x21306f(0x616)](_0x21306f(0xc47),async()=>{const _0x4dcfd3=_0x21306f,_0x21f223=doc(db,_0x4dcfd3(0x944)+appId+'/public/data/liveGames',currentLiveGameId),_0x5562db=_0x556fed[_0x4dcfd3(0xa20)]+0x1;if(_0x5562db<currentQuizData[_0x4dcfd3(0x3b7)][_0x4dcfd3(0x633)]){const _0x256b81={'currentQuestionIndex':_0x5562db,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x4dcfd3(0xbef)};Object[_0x4dcfd3(0xa9d)](_0x556fed[_0x4dcfd3(0x326)])[_0x4dcfd3(0xc92)](_0x7b4ff5=>{const _0xeade96=_0x4dcfd3;_0x256b81[_0xeade96(0xc41)+_0x7b4ff5+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x21f223,_0x256b81);}else await updateDoc(_0x21f223,{'status':_0x4dcfd3(0x394)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0xf798f8=>{const _0x12f1a1=_0x20ce;if(_0xf798f8){userId=_0xf798f8[_0x12f1a1(0x951)],userIdDisplay[_0x12f1a1(0x946)]=userId;const _0x499f3a=await loadUserPreferences();_0x499f3a[_0x12f1a1(0x3c4)]&&(document[_0x12f1a1(0x360)](_0x12f1a1(0x1f2))[_0x12f1a1(0x1db)]=_0x499f3a[_0x12f1a1(0x3c4)]);globalDashboardSettings['projectView']=_0x499f3a[_0x12f1a1(0xc9c)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x56047e,_0x38ed10){const _0x310ffe=_0x18fcf7;if(!userId)return;try{const _0x3090a5=doc(db,_0x310ffe(0x944)+appId+_0x310ffe(0x8a5)+userId+_0x310ffe(0x666)),_0x5c1172={};_0x5c1172[_0x56047e]=_0x38ed10,await setDoc(_0x3090a5,_0x5c1172,{'merge':!![]});}catch(_0x5ae095){console[_0x310ffe(0x537)](_0x310ffe(0x203),_0x5ae095);}}async function loadUserPreferences(){const _0x3c4768=_0x18fcf7;if(!userId)return{};try{const _0x27364d=doc(db,_0x3c4768(0x944)+appId+'/users/'+userId+'/preferences/main'),_0x536426=await getDoc(_0x27364d);if(_0x536426[_0x3c4768(0x815)]())return _0x536426[_0x3c4768(0x9e7)]();return{};}catch(_0x536acc){return console[_0x3c4768(0x537)](_0x3c4768(0x746),_0x536acc),{};}}function parseIndentedBlueprint(_0x2891cb){const _0x20aa39=_0x18fcf7,_0x2d2824=_0x2891cb[_0x20aa39(0x779)]('\x0a')[_0x20aa39(0x2bb)](_0x10c6c4=>_0x10c6c4[_0x20aa39(0x665)]()!==''),_0xb931c7=[];let _0x37757f=null,_0x14ae1a=null;return _0x2d2824['forEach'](_0x3bfe9b=>{const _0x56e427=_0x20aa39,_0x388f9c=_0x3bfe9b[_0x56e427(0x1d7)](/^\s*/)[0x0][_0x56e427(0x633)],_0x451974=_0x3bfe9b['trim']();if(_0x388f9c===0x0)_0x37757f={'sara':_0x451974,'mainTopics':[]},_0xb931c7[_0x56e427(0x62c)](_0x37757f),_0x14ae1a=null;else{if(_0x388f9c>0x0&&_0x388f9c<0x8&&_0x37757f)_0x14ae1a={'topicName':_0x451974,'subTopics':[]},_0x37757f['mainTopics'][_0x56e427(0x62c)](_0x14ae1a);else _0x388f9c>=0x8&&_0x14ae1a&&_0x14ae1a[_0x56e427(0xbcc)][_0x56e427(0x62c)](_0x451974);}}),{'curriculum':_0xb931c7};}async function handleManualBlueprintSave(){const _0x13bbee=_0x18fcf7,_0x6e9c60=document[_0x13bbee(0x360)](_0x13bbee(0x231))[_0x13bbee(0x1db)][_0x13bbee(0x665)](),_0x19ae64=document[_0x13bbee(0x360)]('manual-bp-grade-level')[_0x13bbee(0x1db)]['trim'](),_0x366e4a=document['getElementById'](_0x13bbee(0x1c8))[_0x13bbee(0x1db)];if(!_0x6e9c60||!_0x19ae64||!_0x366e4a){showMessage('กรุณากรอกข้อมูลให้ครบทุกช่อง');return;}const _0x2c674e=parseIndentedBlueprint(_0x366e4a);if(!_0x2c674e[_0x13bbee(0xaf3)]||_0x2c674e['curriculum']['length']===0x0){showMessage(_0x13bbee(0xa7a));return;}const _0x3b1c38={};let _0x4eef0a=0x0;_0x2c674e[_0x13bbee(0xaf3)]['forEach'](_0x528ac2=>{const _0x2b8ff2=_0x13bbee;_0x528ac2['mainTopics'][_0x2b8ff2(0xc92)](_0x18707d=>{const _0x41782f=_0x2b8ff2;_0x18707d[_0x41782f(0xbcc)][_0x41782f(0xc92)](_0x43e9ce=>{const _0x175489=_0x41782f,_0x28bb64=_0x175489(0xc3f)+Date['now']()+Math['random']()['toString'](0x24)[_0x175489(0x173)](0x2,0x9);_0x3b1c38[_0x28bb64]={'sara':_0x528ac2[_0x175489(0xccf)],'mainTopic':_0x18707d[_0x175489(0xc3b)],'subTopic':_0x43e9ce,'status':_0x175489(0x728),'lessonContent':null,'order':_0x4eef0a++};});});});try{const _0xed76c6=collection(db,'artifacts/'+appId+_0x13bbee(0x4e6));await addDoc(_0xed76c6,{'projectName':_0x6e9c60,'gradeLevel':_0x19ae64,'topics':_0x3b1c38,'createdAt':serverTimestamp()}),showMessage(_0x13bbee(0x4a1)+_0x6e9c60+_0x13bbee(0x93f)),document['getElementById'](_0x13bbee(0xcf3))[_0x13bbee(0x5a1)]['add'](_0x13bbee(0x29e));}catch(_0x2e588e){console['error'](_0x13bbee(0xa0e),_0x2e588e),showMessage(_0x13bbee(0x62d));}}function handleClearAllLinksForTopic(_0x692f61){const _0x20336a=_0x18fcf7;showConfirmation(_0x20336a(0x3ae),async()=>{const _0x465c7d=_0x20336a;try{const _0x42ee17=doc(db,_0x465c7d(0x944)+appId+_0x465c7d(0x4e6),currentBlueprintProjectId);await updateDoc(_0x42ee17,{[_0x465c7d(0x65a)+_0x692f61+'.linkedQuizIds']:[]}),showMessage('ล้างการเชื่อมโยงทั้งหมดสำเร็จ'),openTopicQuizBank(_0x692f61),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xbdd6fc){console[_0x465c7d(0x537)](_0x465c7d(0x4c3),_0xbdd6fc),showMessage(_0x465c7d(0x829));}});}function showPodiumView(_0x40e7e9,_0x10f25f=_0x18fcf7(0x641)){const _0xc657f0=_0x18fcf7,_0x553634=Object['entries'](_0x40e7e9)[_0xc657f0(0x985)](([_0x40955e,_0x488a5f])=>({'name':_0x40955e,'score':_0x488a5f[_0xc657f0(0x8c2)]||0x0,'badges':_0x488a5f[_0xc657f0(0x310)]||[],'hasPerfectScoreBonus':_0x488a5f[_0xc657f0(0x229)]||![]}));_0x553634['sort']((_0x40026f,_0x49e5fe)=>{const _0x19c35d=_0xc657f0,_0xc8528=_0x49e5fe[_0x19c35d(0x8c2)]-_0x40026f[_0x19c35d(0x8c2)];if(_0xc8528!==0x0)return _0xc8528;return(_0x49e5fe[_0x19c35d(0x310)][_0x19c35d(0x633)]||0x0)-(_0x40026f[_0x19c35d(0x310)][_0x19c35d(0x633)]||0x0);});const _0x5d7fa4=_0x1c13ea=>{const _0x574042=_0xc657f0;if(!_0x1c13ea||_0x1c13ea[_0x574042(0x633)]===0x0)return'';const _0x384fe2={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x574042(0xb6b)+_0x1c13ea[_0x574042(0x985)](_0x2ce8ec=>_0x384fe2[_0x2ce8ec]||'')[_0x574042(0x155)]('')+_0x574042(0x2c6);},_0x1d7a92=_0x553634[_0xc657f0(0x9b7)](0x3),_0x372f88=_0x1d7a92['length']>0x0?_0xc657f0(0x9f6)+_0x1d7a92['map']((_0x111e4d,_0x159970)=>{const _0x32568b=_0xc657f0,_0x488c57=_0x111e4d[_0x32568b(0x229)]?_0x32568b(0x13a):'';return _0x32568b(0x731)+(_0x159970+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x111e4d[_0x32568b(0x3d8)]+_0x32568b(0xbe0)+_0x111e4d['score']+_0x32568b(0x7b6)+_0x488c57+_0x32568b(0x172);})['join']('')+_0xc657f0(0x644):'',_0x233386=_0xc657f0(0x284)+(_0x553634[0x1]?_0xc657f0(0x652)+_0x553634[0x1][_0xc657f0(0x3d8)]+_0xc657f0(0x2ea)+_0x5d7fa4(_0x553634[0x1][_0xc657f0(0x310)])+_0xc657f0(0xcb1)+_0x553634[0x1][_0xc657f0(0x8c2)]+_0xc657f0(0x7b6)+(_0x553634[0x1]['hasPerfectScoreBonus']?_0xc657f0(0xb7b):'')+_0xc657f0(0x710):_0xc657f0(0xbb8))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x553634[0x0]?_0xc657f0(0x1a4)+_0x553634[0x0][_0xc657f0(0x3d8)]+'</p>'+_0x5d7fa4(_0x553634[0x0][_0xc657f0(0x310)])+_0xc657f0(0x243)+_0x553634[0x0][_0xc657f0(0x8c2)]+'\x20คะแนน\x20'+(_0x553634[0x0][_0xc657f0(0x229)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0xc657f0(0x161):_0xc657f0(0xbb8))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x553634[0x2]?_0xc657f0(0x334)+_0x553634[0x2][_0xc657f0(0x3d8)]+_0xc657f0(0x2ea)+_0x5d7fa4(_0x553634[0x2][_0xc657f0(0x310)])+_0xc657f0(0xcb1)+_0x553634[0x2][_0xc657f0(0x8c2)]+_0xc657f0(0x7b6)+(_0x553634[0x2][_0xc657f0(0x229)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0xc657f0(0x612):'<div\x20class=\x22flex-1\x22></div>')+_0xc657f0(0x213)+_0x372f88+_0xc657f0(0x766)+(currentMode===_0xc657f0(0x252)?_0xc657f0(0x15e):_0xc657f0(0xbf4))+_0xc657f0(0x523);liveGameView[_0xc657f0(0x1a0)]=_0x233386,currentMode===_0xc657f0(0x252)&&document['getElementById'](_0xc657f0(0x472))[_0xc657f0(0x616)]('click',async()=>{const _0x4a71f1=_0xc657f0;let _0x3cad45;_0x10f25f===_0x4a71f1(0xa52)?_0x3cad45=doc(db,'artifacts/'+appId+_0x4a71f1(0x69d),currentLiveGameId):_0x3cad45=doc(db,_0x4a71f1(0x944)+appId+_0x4a71f1(0x68b),currentLiveGameId),await deleteDoc(_0x3cad45);});}function renderSyncSummaryView(_0x393cf7,_0x542d26,_0x1dcbd1){const _0x557550=_0x18fcf7,_0xda2a1=Object['values'](_0x393cf7[_0x557550(0x326)]||{}),_0x10868e=_0x393cf7[_0x557550(0xa5a)][_0x557550(0x3b7)],_0x3e81e5=_0x542d26[_0x557550(0x434)]||_0x393cf7[_0x557550(0xa5a)][_0x557550(0x677)];let _0x248138=[];_0x3e81e5==='true_false'?_0x248138=[_0x557550(0x168),_0x557550(0x67b)]:_0x248138=_0x542d26[_0x557550(0x211)]||[];const _0x5259c3=new Array(_0x248138['length'])[_0x557550(0x756)](0x0),_0x24be67={};_0x248138[_0x557550(0xc92)]((_0x269550,_0x706456)=>{_0x24be67[_0x706456]=[];}),Object['entries'](_0x393cf7[_0x557550(0x326)]||{})[_0x557550(0xc92)](([_0x512da1,_0x4ee0b7])=>{const _0x3be962=_0x557550;if(_0x4ee0b7[_0x3be962(0x23b)]!==_0x3be962(0x565)&&_0x4ee0b7[_0x3be962(0x6ce)]!==undefined&&_0x4ee0b7['lastAnswerIndex']!==null){const _0x39b24=_0x4ee0b7[_0x3be962(0x6ce)];_0x24be67[_0x39b24]!==undefined&&(_0x24be67[_0x39b24][_0x3be962(0x62c)](_0x512da1),_0x5259c3[_0x39b24]++);}});let _0x4d4c91='';const _0x2e3efe=_0x393cf7['gameVariant']||_0x557550(0x7d9),_0x28f7e7=_0x393cf7[_0x557550(0xa20)]>=_0x10868e[_0x557550(0x633)]-0x1;_0x1dcbd1?_0x2e3efe===_0x557550(0x577)?_0x28f7e7?_0x4d4c91=_0x557550(0xc75):_0x4d4c91='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x4d4c91='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x2e3efe===_0x557550(0x577)?_0x4d4c91='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>':_0x4d4c91='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>';const _0x4f2c4f=_0x557550(0xafe)+_0x542d26['questionText']+_0x557550(0x6fb)+_0x5259c3[_0x557550(0x985)]((_0x11f1ec,_0xcf693e)=>{const _0x176795=_0x557550,_0x3653a0=_0x24be67[_0xcf693e][_0x176795(0x633)]>0x0?_0x24be67[_0xcf693e][_0x176795(0x155)](',\x20'):_0x176795(0x6ad),_0x23440c=_0x176795(0x94d);return _0x176795(0x669)+_0x11f1ec+_0x176795(0xaca)+_0x23440c+_0x176795(0x529)+_0xcf693e+_0x176795(0x879)+_0x248138[_0xcf693e]+_0x176795(0x8e0)+_0xcf693e+_0x176795(0x51e)+_0x3653a0+_0x176795(0x8b9);})[_0x557550(0x155)]('')+_0x557550(0x736)+_0x4d4c91+_0x557550(0x702);liveGameView['innerHTML']=_0x4f2c4f;if(window[_0x557550(0xb63)])MathJax['typesetPromise']();if(_0x1dcbd1){const _0x1d420d=doc(db,_0x557550(0x944)+appId+_0x557550(0x69d),currentLiveGameId);document[_0x557550(0x360)](_0x557550(0x881))?.['addEventListener'](_0x557550(0xc47),async()=>{const _0x4a6e10=_0x557550;await updateDoc(_0x1d420d,{'status':_0x4a6e10(0x322)});}),document['getElementById']('open-sync-scratchpad-btn')?.['addEventListener']('click',()=>{openScratchpad(_0x542d26,_0x248138);}),document[_0x557550(0x360)]('next-sync-question-btn')?.[_0x557550(0x616)]('click',async()=>{const _0x4bd2ad=_0x557550,_0xb3ab6e=_0x393cf7[_0x4bd2ad(0xa20)]+0x1,_0x5c5621={};Object[_0x4bd2ad(0xa9d)](_0x393cf7['players'])[_0x4bd2ad(0xc92)](_0x1da449=>{const _0xc37800=_0x4bd2ad;_0x5c5621[_0xc37800(0xc41)+_0x1da449+_0xc37800(0xa43)]=![],_0x5c5621['players.'+_0x1da449+_0xc37800(0xcd9)]=null;}),await updateDoc(_0x1d420d,{..._0x5c5621,'status':_0x4bd2ad(0x13f),'currentQuestionIndex':_0xb3ab6e,'questionDisplayedAt':serverTimestamp()});}),document[_0x557550(0x360)](_0x557550(0x194))?.[_0x557550(0x616)]('click',async()=>{const _0x362cc1=_0x557550;await updateDoc(_0x1d420d,{'status':_0x362cc1(0x322),'reviewQuestionIndex':0x0});});}}async function handleShowStudentRankings(){const _0x137d58=_0x18fcf7,_0x1c77eb=document[_0x137d58(0xc8a)](_0x137d58(0x964));_0x1c77eb&&(_0x1c77eb[_0x137d58(0x1a0)]=_0x137d58(0x5f2));const _0xb87a12=document[_0x137d58(0xc8a)](_0x137d58(0x99e));_0xb87a12&&(_0xb87a12[_0x137d58(0x1a0)]=_0x137d58(0x2c3));const _0x4a9030=document[_0x137d58(0x360)](_0x137d58(0x622));_0x4a9030[_0x137d58(0x5a1)]['remove']('hidden'),document[_0x137d58(0x360)](_0x137d58(0xb58))[_0x137d58(0x8b1)]=()=>_0x4a9030[_0x137d58(0x5a1)][_0x137d58(0x1f5)](_0x137d58(0x29e));const _0x5b6136=document[_0x137d58(0x360)](_0x137d58(0x7b0)),_0x3faf9f=document[_0x137d58(0x360)](_0x137d58(0x782)),_0x57fd91=document['getElementById']('student-quiz-leaderboard-content'),_0x184abf=document['getElementById'](_0x137d58(0x490));_0x5b6136[_0x137d58(0x8b1)]=()=>{const _0x292d69=_0x137d58;_0x5b6136[_0x292d69(0x5a1)][_0x292d69(0x1f5)]('active'),_0x3faf9f[_0x292d69(0x5a1)]['remove'](_0x292d69(0x455)),_0x57fd91[_0x292d69(0x5a1)][_0x292d69(0xbee)](_0x292d69(0x29e)),_0x184abf[_0x292d69(0x5a1)][_0x292d69(0x1f5)](_0x292d69(0x29e));},_0x3faf9f[_0x137d58(0x8b1)]=()=>{const _0x430a1a=_0x137d58;_0x3faf9f['classList'][_0x430a1a(0x1f5)](_0x430a1a(0x455)),_0x5b6136[_0x430a1a(0x5a1)][_0x430a1a(0xbee)](_0x430a1a(0x455)),_0x184abf[_0x430a1a(0x5a1)][_0x430a1a(0xbee)](_0x430a1a(0x29e)),_0x57fd91[_0x430a1a(0x5a1)][_0x430a1a(0x1f5)](_0x430a1a(0x29e));};try{const _0x2b4b9c=collection(db,_0x137d58(0x944)+appId+_0x137d58(0x340)+currentQuizData['id']+'/submissions'),_0x1d60e6=await getDocs(_0x2b4b9c),_0x158d4c=_0x1d60e6[_0x137d58(0x8d0)][_0x137d58(0x985)](_0x4cdb5d=>_0x4cdb5d['data']());renderQuizLeaderboard(_0x158d4c,currentQuizData,_0x137d58(0x58c));const _0xd61321=collection(db,_0x137d58(0x944)+appId+_0x137d58(0x58b)+currentQuizData[_0x137d58(0x15d)]+'/studentProfiles'),_0x3fec63=await getDocs(_0xd61321),_0x485941=_0x3fec63[_0x137d58(0x8d0)]['map'](_0x3fd967=>_0x3fd967[_0x137d58(0x9e7)]());renderLeaderboard(_0x485941,_0x137d58(0x526));}catch(_0x1b5ad4){console[_0x137d58(0x537)]('Error\x20fetching\x20student\x20rankings:',_0x1b5ad4),showMessage(_0x137d58(0x1b8));}}async function handleSaveToBank(_0x1550f9){const _0x5920ae=_0x18fcf7,_0x13cf28=_0x1550f9[_0x5920ae(0x1cc)],_0x2aa301=_0x13cf28[_0x5920ae(0x9d2)][_0x5920ae(0xb44)],_0x5d0995=currentQuizData[_0x5920ae(0x3b7)][_0x2aa301];if(!userId){showMessage(_0x5920ae(0x913));return;}try{const _0x32a1e3={..._0x5d0995,'originalTopic':currentQuizData[_0x5920ae(0x94f)],'savedAt':serverTimestamp()},_0x55a5d8=collection(db,_0x5920ae(0x944)+appId+_0x5920ae(0x8a5)+userId+_0x5920ae(0x28c));await addDoc(_0x55a5d8,_0x32a1e3),showMessage(_0x5920ae(0x6ac)),_0x13cf28[_0x5920ae(0x5a1)]['remove'](_0x5920ae(0xb77)),_0x13cf28[_0x5920ae(0x5a1)]['add']('text-green-600'),_0x13cf28[_0x5920ae(0xa78)]=!![];}catch(_0xae1fae){console[_0x5920ae(0x537)]('Error\x20saving\x20to\x20question\x20bank:',_0xae1fae),showMessage(_0x5920ae(0xc70));}}async function selectProjectAndGenerateBlueprintQuiz(_0x565aca,_0x3a6029=null,_0x359d5c=null,_0x57efd7=![]){const _0x43f4d1=_0x18fcf7;cameFromBlueprint=!![];const _0x530d6d=document[_0x43f4d1(0x360)]('bp-reference-file-url')?.[_0x43f4d1(0x1db)][_0x43f4d1(0x665)]();let _0x54b076=null;if(_0x530d6d){showMessage(_0x43f4d1(0x369));try{const _0x50e9e9=await fetchFileFromUrl(_0x530d6d,_0x43f4d1(0x38b)),_0x39b371=await new Promise((_0x1edcbb,_0x1ee831)=>{const _0x53e62d=_0x43f4d1,_0x1d729c=new FileReader();_0x1d729c['readAsDataURL'](_0x50e9e9),_0x1d729c[_0x53e62d(0x1e8)]=()=>_0x1edcbb(_0x1d729c['result'][_0x53e62d(0x779)](',')[0x1]),_0x1d729c['onerror']=_0x1ee831;});_0x54b076=[{'inlineData':{'mimeType':_0x50e9e9[_0x43f4d1(0x635)],'data':_0x39b371}}],messageModal[_0x43f4d1(0x5a1)][_0x43f4d1(0x1f5)](_0x43f4d1(0x29e));}catch(_0x297d4a){console['error'](_0x43f4d1(0x1e9),_0x297d4a),showMessage('ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ');}}const _0x20081a=document[_0x43f4d1(0x360)](_0x43f4d1(0x54c)),_0x4e4dbe=document[_0x43f4d1(0x360)](_0x43f4d1(0x3c2)),_0x4367bc=_0x20081a[_0x43f4d1(0xc8a)]('h3'),_0x322926=document[_0x43f4d1(0x360)](_0x43f4d1(0x24a)),_0x5db2d4=document[_0x43f4d1(0x360)](_0x43f4d1(0xc90));_0x4367bc[_0x43f4d1(0x946)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x322926[_0x43f4d1(0x946)]=_0x43f4d1(0x5bf),_0x322926[_0x43f4d1(0xa78)]=!![];allProjects[_0x43f4d1(0x633)]===0x0?_0x4e4dbe[_0x43f4d1(0x1a0)]=_0x43f4d1(0x7fc):(_0x4e4dbe['innerHTML']=_0x43f4d1(0xbe5)+allProjects[_0x43f4d1(0x985)](_0x2faccb=>'<option\x20value=\x22'+_0x2faccb['id']+'\x22>'+_0x2faccb[_0x43f4d1(0x8f5)]+'</option>')[_0x43f4d1(0x155)](''),_0x322926[_0x43f4d1(0xa78)]=![]);_0x20081a[_0x43f4d1(0x5a1)][_0x43f4d1(0xbee)](_0x43f4d1(0x29e));const _0x4164da=async()=>{const _0x2407f7=_0x43f4d1,_0x42f705=_0x4e4dbe['value'];if(!_0x42f705){showMessage(_0x2407f7(0x260));return;}_0x20081a[_0x2407f7(0x5a1)][_0x2407f7(0x1f5)]('hidden'),document[_0x2407f7(0x360)](_0x2407f7(0xae9))[_0x2407f7(0x5a1)][_0x2407f7(0x1f5)](_0x2407f7(0x29e)),await loadProjectDetails(_0x42f705),showView(_0x2407f7(0x6b8)),handleGenerateQuizFromBlueprintTopic(_0x565aca,_0x3a6029,_0x42f705,_0x359d5c,_0x57efd7,_0x54b076),_0x3fd287();},_0x3fd287=()=>{const _0xef118d=_0x43f4d1;_0x4367bc[_0xef118d(0x946)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x322926[_0xef118d(0x946)]=_0xef118d(0x77e),_0x322926[_0xef118d(0xb86)](_0xef118d(0xc47),_0x4164da),_0x5db2d4[_0xef118d(0xb86)](_0xef118d(0xc47),_0x3fd287),_0x322926[_0xef118d(0x616)](_0xef118d(0xc47),confirmMoveQuiz);};_0x322926['removeEventListener'](_0x43f4d1(0xc47),confirmMoveQuiz),_0x322926[_0x43f4d1(0x616)](_0x43f4d1(0xc47),_0x4164da),_0x5db2d4[_0x43f4d1(0x616)](_0x43f4d1(0xc47),_0x3fd287);}function listenForStarredQuizzes(){const _0x433b03=_0x18fcf7;if(!userId)return;const _0x53ecad=collection(db,_0x433b03(0x944)+appId+_0x433b03(0x46a)),_0x8d2f77=query(_0x53ecad,where(_0x433b03(0x88f),'==',!![]));onSnapshot(_0x8d2f77,_0x123238=>{const _0x38201b=_0x433b03;starredQuizzes=_0x123238[_0x38201b(0x8d0)]['map'](_0x1fcd4e=>({'id':_0x1fcd4e['id'],..._0x1fcd4e[_0x38201b(0x9e7)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x277195=>{const _0x11a119=_0x433b03;console[_0x11a119(0x537)](_0x11a119(0xa0a),_0x277195);});}function listenForFileShortcuts(){const _0x5592a6=_0x18fcf7,_0x135990=doc(db,_0x5592a6(0xa24),_0x5592a6(0x15b));onSnapshot(_0x135990,_0x551e9f=>{const _0x1dac93=_0x5592a6;let _0x2fa7d9=[],_0x4b84fb=[],_0x308d67={};if(_0x551e9f[_0x1dac93(0x815)]()){const _0x2136c8=_0x551e9f['data']();_0x2fa7d9=_0x2136c8[_0x1dac93(0xaa4)]||[],_0x4b84fb=_0x2136c8[_0x1dac93(0x1d5)]||[],_0x308d67=_0x2136c8[_0x1dac93(0xcea)]||{};}!_0x4b84fb[_0x1dac93(0x64b)](_0x2e5330=>_0x2e5330['id']==='all')&&_0x4b84fb[_0x1dac93(0x416)]({'id':_0x1dac93(0x9b3),'name':_0x1dac93(0x48c),'isDefault':!![]}),!_0x2fa7d9[_0x1dac93(0x64b)](_0x1b47cb=>_0x1b47cb['id']===_0x1dac93(0x550))&&_0x2fa7d9['unshift']({'id':'file-default-1','name':'ไฟล์ลัด\x201','url':'','isDefault':!![]}),!_0x2fa7d9[_0x1dac93(0x64b)](_0x1efa83=>_0x1efa83['id']===_0x1dac93(0x368))&&_0x2fa7d9[_0x1dac93(0x416)]({'id':_0x1dac93(0x368),'name':_0x1dac93(0x62b),'url':'','isDefault':!![]}),fileShortcuts=_0x2fa7d9,fileShortcutTabs=_0x4b84fb,fileShortcutOrder=_0x308d67,renderFileShortcuts(),!document[_0x1dac93(0x360)](_0x1dac93(0xba9))[_0x1dac93(0x5a1)][_0x1dac93(0xbf1)](_0x1dac93(0x29e))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x396f5a=_0x18fcf7,_0x146a5b=doc(db,_0x396f5a(0xa24),'fileShortcutsConfig');try{await setDoc(_0x146a5b,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x2ec136){console[_0x396f5a(0x537)]('Error\x20saving\x20file\x20shortcut\x20config:',_0x2ec136);}}function renderAdditionalFileShortcutsModal(){const _0x26ac8a=_0x18fcf7,_0x47bbdc=document[_0x26ac8a(0x360)](_0x26ac8a(0x8d5)),_0xa96c80=document[_0x26ac8a(0x360)](_0x26ac8a(0x22a));if(!_0x47bbdc||!_0xa96c80)return;_0x47bbdc[_0x26ac8a(0x1a0)]=fileShortcutTabs[_0x26ac8a(0x985)](_0x331bb8=>{const _0x8963da=_0x26ac8a,_0x142f3e=_0x331bb8['id']===activeFileShortcutTabId;return _0x8963da(0xa46)+_0x331bb8['id']+_0x8963da(0xa03)+(_0x142f3e?_0x8963da(0x261):_0x8963da(0x939))+_0x8963da(0x52d)+_0x331bb8[_0x8963da(0x3d8)]+_0x8963da(0x22d)+_0x331bb8[_0x8963da(0x3d8)]+_0x8963da(0x3db)+(!_0x331bb8[_0x8963da(0xb2a)]?'<button\x20data-tab-id=\x22'+_0x331bb8['id']+_0x8963da(0x9f1):'')+_0x8963da(0x45d);})[_0x26ac8a(0x155)]('');const _0x5a80ce=fileShortcutTabs[_0x26ac8a(0x64b)](_0x501c23=>_0x501c23['id']===activeFileShortcutTabId);let _0x34504a=_0x5a80ce?.[_0x26ac8a(0xb2a)]?[...fileShortcuts]:fileShortcuts[_0x26ac8a(0x2bb)](_0x1fd976=>(_0x5a80ce?.['shortcutIds']||[])[_0x26ac8a(0xba6)](_0x1fd976['id']));const _0x1ef2bc=fileShortcutOrder[activeFileShortcutTabId]||[];_0x34504a[_0x26ac8a(0x5a4)]((_0x20dbeb,_0x3ecf60)=>{const _0x4f770e=_0x26ac8a,_0x150c2d=_0x1ef2bc[_0x4f770e(0x9a4)](_0x20dbeb['id']),_0x377754=_0x1ef2bc[_0x4f770e(0x9a4)](_0x3ecf60['id']);return(_0x150c2d===-0x1?Infinity:_0x150c2d)-(_0x377754===-0x1?Infinity:_0x377754);}),_0xa96c80[_0x26ac8a(0x1a0)]=_0x34504a[_0x26ac8a(0x985)](_0x253af2=>{const _0xdf0e3b=_0x26ac8a,_0x4767db=_0x253af2[_0xdf0e3b(0x2a1)]?'📄':'🔗',_0x42f558=fileShortcutTabs[_0xdf0e3b(0x2bb)](_0x3623e7=>!_0x3623e7['isDefault']),_0x551461=_0x5a80ce[_0xdf0e3b(0xb2a)]&&_0x42f558[_0xdf0e3b(0x633)]>0x0?_0xdf0e3b(0x65e)+_0x42f558['map'](_0xaa677f=>_0xdf0e3b(0xb40)+_0x253af2['id']+_0xdf0e3b(0x89b)+_0xaa677f['id']+'\x22>'+_0xaa677f['name']+'</a>')[_0xdf0e3b(0x155)]('')+_0xdf0e3b(0x133):'';return _0xdf0e3b(0x9e8)+_0x253af2['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x4767db+'\x20'+_0x253af2['name']+_0xdf0e3b(0x814)+_0x253af2['id']+_0xdf0e3b(0x4c0)+_0x253af2['id']+_0xdf0e3b(0x3af)+(!_0x253af2['isDefault']?_0xdf0e3b(0x18e)+_0x253af2['id']+_0xdf0e3b(0x9e1):'')+_0xdf0e3b(0x87f)+(!_0x5a80ce[_0xdf0e3b(0xb2a)]?_0xdf0e3b(0x8cd)+_0x253af2['id']+_0xdf0e3b(0x78b):'')+_0xdf0e3b(0x87f)+_0x551461+_0xdf0e3b(0xa11);})['join']('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x2a4030=_0x18fcf7;document[_0x2a4030(0x801)](_0x2a4030(0xcbe))[_0x2a4030(0xc92)](_0x5ee1ee=>{const _0x208ce7=_0x2a4030;_0x5ee1ee[_0x208ce7(0x8b1)]=_0xf83ce1=>{activeFileShortcutTabId=_0xf83ce1['currentTarget']['dataset']['tabId'],renderAdditionalFileShortcutsModal();},_0x5ee1ee[_0x208ce7(0x776)]=_0x1faff7=>{const _0x26d8e9=_0x208ce7,_0x45abef=_0x1faff7[_0x26d8e9(0x1cc)][_0x26d8e9(0xc8a)](_0x26d8e9(0x67f));_0x1faff7[_0x26d8e9(0x1cc)][_0x26d8e9(0xc8a)](_0x26d8e9(0x525))[_0x26d8e9(0x5a1)]['add'](_0x26d8e9(0x29e)),_0x45abef[_0x26d8e9(0x5a1)][_0x26d8e9(0xbee)](_0x26d8e9(0x29e)),_0x45abef[_0x26d8e9(0xac0)](),_0x45abef[_0x26d8e9(0x9a9)]();};}),document['querySelectorAll'](_0x2a4030(0x804))[_0x2a4030(0xc92)](_0x462866=>{const _0x2cbb66=_0x2a4030,_0x5ac66=()=>{const _0x4e5d0c=_0x20ce,_0x50952c=_0x462866[_0x4e5d0c(0x3ed)](_0x4e5d0c(0xcbe))[_0x4e5d0c(0x9d2)][_0x4e5d0c(0x6ab)],_0x2529bf=fileShortcutTabs[_0x4e5d0c(0x64b)](_0x198194=>_0x198194['id']===_0x50952c);_0x2529bf&&(_0x2529bf[_0x4e5d0c(0x3d8)]=_0x462866[_0x4e5d0c(0x1db)][_0x4e5d0c(0x665)]()||_0x2529bf['name'],saveFileShortcutConfig());};_0x462866[_0x2cbb66(0x807)]=_0x5ac66,_0x462866[_0x2cbb66(0x46b)]=_0xc41ca9=>{const _0x214c05=_0x2cbb66;if(_0xc41ca9[_0x214c05(0x56d)]===_0x214c05(0x5f3))_0x462866[_0x214c05(0x979)]();};}),document[_0x2a4030(0x801)](_0x2a4030(0xb25))['forEach'](_0x1e8fe3=>_0x1e8fe3['onclick']=_0x4a9b4f=>{const _0x5a11a7=_0x2a4030,_0x5b66d0=_0x4a9b4f[_0x5a11a7(0x1cc)]['dataset'][_0x5a11a7(0x6ab)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x332e7d=_0x5a11a7;fileShortcutTabs=fileShortcutTabs[_0x332e7d(0x2bb)](_0xce339b=>_0xce339b['id']!==_0x5b66d0),delete fileShortcutOrder[_0x5b66d0];if(activeFileShortcutTabId===_0x5b66d0)activeFileShortcutTabId='all';saveFileShortcutConfig();});}),document[_0x2a4030(0x801)](_0x2a4030(0x66c))['forEach'](_0x2b53ac=>_0x2b53ac['onclick']=_0x35ef9e=>{const _0x5f5a32=_0x2a4030;_0x35ef9e[_0x5f5a32(0xc63)]();const {shortcutId:_0x80007d,targetTabId:_0x236878}=_0x35ef9e[_0x5f5a32(0x1cc)]['dataset'],_0x15e163=fileShortcutTabs[_0x5f5a32(0x64b)](_0x3bcaa5=>_0x3bcaa5['id']===_0x236878);_0x15e163&&!_0x15e163[_0x5f5a32(0xa2f)][_0x5f5a32(0xba6)](_0x80007d)&&(_0x15e163[_0x5f5a32(0xa2f)][_0x5f5a32(0x62c)](_0x80007d),saveFileShortcutConfig());}),document[_0x2a4030(0x801)](_0x2a4030(0x753))['forEach'](_0x5d881d=>_0x5d881d[_0x2a4030(0x8b1)]=_0x4481d6=>{const _0x23f11d=_0x2a4030,_0x19f6f2=_0x4481d6[_0x23f11d(0x1cc)][_0x23f11d(0x9d2)][_0x23f11d(0x13b)],_0x420640=fileShortcutTabs[_0x23f11d(0x64b)](_0x1f3678=>_0x1f3678['id']===activeFileShortcutTabId);_0x420640&&!_0x420640['isDefault']&&(_0x420640[_0x23f11d(0xa2f)]=_0x420640['shortcutIds']['filter'](_0x5db8d7=>_0x5db8d7!==_0x19f6f2),saveFileShortcutConfig());}),document[_0x2a4030(0x801)](_0x2a4030(0x132))[_0x2a4030(0xc92)](_0x14f76b=>_0x14f76b[_0x2a4030(0x8b1)]=_0x18daa6=>{const _0x1648e8=_0x2a4030;_0x18daa6[_0x1648e8(0x840)]();const _0xf2fa36=_0x18daa6[_0x1648e8(0x1cc)][_0x1648e8(0x43b)];document[_0x1648e8(0x801)](_0x1648e8(0xbfd))[_0x1648e8(0xc92)](_0x34d794=>_0x34d794[_0x1648e8(0x5a1)][_0x1648e8(0x1f5)]('hidden')),_0xf2fa36[_0x1648e8(0x5a1)]['remove'](_0x1648e8(0x29e));});const _0xf5e2ae=document[_0x2a4030(0x360)](_0x2a4030(0x22a));let _0x3a17e6=null;_0xf5e2ae[_0x2a4030(0x79e)]=_0x10af58=>{const _0x41d953=_0x2a4030;_0x3a17e6=_0x10af58['target']['closest'](_0x41d953(0x302));if(_0x3a17e6)setTimeout(()=>_0x3a17e6[_0x41d953(0x5a1)]['add']('opacity-50'),0x0);},_0xf5e2ae[_0x2a4030(0x60c)]=()=>{const _0x10fd5=_0x2a4030;_0x3a17e6&&(_0x3a17e6[_0x10fd5(0x5a1)][_0x10fd5(0xbee)](_0x10fd5(0x717)),_0x3a17e6=null);},_0xf5e2ae[_0x2a4030(0xa42)]=_0x2192ba=>{const _0x5e4508=_0x2a4030;_0x2192ba[_0x5e4508(0xc63)]();},_0xf5e2ae[_0x2a4030(0x42b)]=_0x536f90=>{const _0x21626b=_0x2a4030;_0x536f90[_0x21626b(0xc63)]();if(_0x3a17e6){const _0x5bfebc=[..._0xf5e2ae[_0x21626b(0x801)](_0x21626b(0xbfe))]['reduce']((_0x4fd2d8,_0x731ecf)=>{const _0x1789aa=_0x21626b,_0x2576af=_0x731ecf[_0x1789aa(0x6f3)](),_0x295191=_0x536f90[_0x1789aa(0x31d)]-_0x2576af[_0x1789aa(0x7a1)]-_0x2576af['height']/0x2;return _0x295191<0x0&&_0x295191>_0x4fd2d8[_0x1789aa(0x3a1)]?{'offset':_0x295191,'element':_0x731ecf}:_0x4fd2d8;},{'offset':Number[_0x21626b(0x2d1)]})[_0x21626b(0x601)];_0x5bfebc==null?_0xf5e2ae[_0x21626b(0x661)](_0x3a17e6):_0xf5e2ae[_0x21626b(0xadd)](_0x3a17e6,_0x5bfebc);const _0xd8b7ab=[..._0xf5e2ae[_0x21626b(0x801)](_0x21626b(0x302))][_0x21626b(0x985)](_0x3d0fb5=>_0x3d0fb5[_0x21626b(0x9d2)]['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0xd8b7ab,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x2d9528=_0x18fcf7,_0x52e121=prompt(_0x2d9528(0xbf6),'แท็บใหม่');_0x52e121&&_0x52e121['trim']()&&(fileShortcutTabs['push']({'id':_0x2d9528(0x404)+Date['now'](),'name':_0x52e121[_0x2d9528(0x665)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x44642a=_0x18fcf7,_0x556cbe=document[_0x44642a(0x360)](_0x44642a(0xa57)),_0x45e852=document[_0x44642a(0x360)](_0x44642a(0x22a)),_0xfa3afd=document[_0x44642a(0x360)](_0x44642a(0x460));if(_0xfa3afd)_0xfa3afd[_0x44642a(0x5a1)][_0x44642a(0x1f5)](_0x44642a(0x29e));if(!_0x556cbe||!_0x45e852)return;const _0x3faa69=fileShortcuts[_0x44642a(0x9b7)](0x0,0x4),_0x3af5a9=fileShortcuts[_0x44642a(0x9b7)](0x4);_0x556cbe[_0x44642a(0x1a0)]=_0x3faa69[_0x44642a(0x985)](_0x49eb4a=>{const _0x526d5a=_0x44642a,_0x3029f6=_0x49eb4a[_0x526d5a(0x2a1)]&&_0x49eb4a[_0x526d5a(0x2a1)][_0x526d5a(0x665)]()!=='',_0x22c3e1=selectedFile&&selectedFile[_0x526d5a(0x13b)]===_0x49eb4a['id'];let _0x1e85b6='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x4cc093='🔗';if(_0x22c3e1)_0x1e85b6='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0x4cc093='<i\x20class=\x22fas\x20fa-check-circle\x22></i>';else _0x3029f6&&(_0x1e85b6=_0x526d5a(0x206),_0x4cc093='📄');const _0xc355ca=!_0x49eb4a[_0x526d5a(0xb2a)]?_0x526d5a(0x18e)+_0x49eb4a['id']+_0x526d5a(0x885):'';return _0x526d5a(0xbd5)+_0x49eb4a['id']+_0x526d5a(0xcdd)+_0x1e85b6+_0x526d5a(0x924)+_0x4cc093+_0x526d5a(0x4c2)+_0x49eb4a[_0x526d5a(0x3d8)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x49eb4a['id']+_0x526d5a(0x3bd)+_0xc355ca+_0x526d5a(0x486);})[_0x44642a(0x155)](''),_0x3af5a9[_0x44642a(0x633)]>0x0&&(_0x556cbe[_0x44642a(0x1a0)]+=_0x44642a(0xb5d)),_0x3af5a9[_0x44642a(0x633)]>0x0?_0x45e852[_0x44642a(0x1a0)]=_0x3af5a9['map'](_0x4dce87=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+(_0x4dce87[_0x44642a(0x2a1)]?'📄':'🔗')+'\x20'+_0x4dce87['name']+_0x44642a(0xb06)+_0x4dce87['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4dce87['id']+_0x44642a(0xb31)+(!_0x4dce87['isDefault']?_0x44642a(0x18e)+_0x4dce87['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x44642a(0x155)](''):_0x45e852[_0x44642a(0x1a0)]=_0x44642a(0x38e);}function openFileShortcutEditor(_0x10ba86=null){const _0x334057=_0x18fcf7,_0x4d38c7=document['getElementById'](_0x334057(0x9ea)),_0x31ebd2=document[_0x334057(0x360)](_0x334057(0xc82)),_0x2232b1=document[_0x334057(0x360)](_0x334057(0xc16)),_0x15ea6f=document[_0x334057(0x360)](_0x334057(0x53c)),_0x189cfc=document[_0x334057(0x360)]('file-shortcut-url-input');if(_0x10ba86){const _0x5aaeec=fileShortcuts[_0x334057(0x64b)](_0x3953df=>_0x3953df['id']===_0x10ba86);if(!_0x5aaeec)return;_0x31ebd2[_0x334057(0x946)]=_0x334057(0x593),_0x2232b1[_0x334057(0x1db)]=_0x5aaeec['id'],_0x15ea6f['value']=_0x5aaeec[_0x334057(0x3d8)],_0x189cfc[_0x334057(0x1db)]=_0x5aaeec[_0x334057(0x2a1)]||'';}else _0x31ebd2[_0x334057(0x946)]='เพิ่มปุ่มลัดจากไฟล์ใหม่',_0x2232b1[_0x334057(0x1db)]='',_0x15ea6f[_0x334057(0x1db)]='',_0x189cfc['value']='';_0x4d38c7[_0x334057(0x5a1)][_0x334057(0xbee)](_0x334057(0x29e));}async function saveFileShortcutChanges(){const _0x3ec6fc=_0x18fcf7,_0x2fd197=document['getElementById']('file-shortcut-id-input')[_0x3ec6fc(0x1db)],_0x3d9ff2=document[_0x3ec6fc(0x360)](_0x3ec6fc(0x53c))['value'][_0x3ec6fc(0x665)](),_0x5e8f14=document['getElementById']('file-shortcut-url-input')[_0x3ec6fc(0x1db)][_0x3ec6fc(0x665)]();if(!_0x3d9ff2){showMessage(_0x3ec6fc(0x850));return;}const _0xcc473b={'id':_0x2fd197||_0x3ec6fc(0x74f)+Date[_0x3ec6fc(0x36b)](),'name':_0x3d9ff2,'url':_0x5e8f14,'isDefault':_0x2fd197['startsWith'](_0x3ec6fc(0x4ac))};let _0x3b1ff9;_0x2fd197?_0x3b1ff9=fileShortcuts[_0x3ec6fc(0x985)](_0x37d122=>_0x37d122['id']===_0x2fd197?_0xcc473b:_0x37d122):_0x3b1ff9=[...fileShortcuts,_0xcc473b];try{const _0xd13b5b=doc(db,_0x3ec6fc(0xa24),_0x3ec6fc(0x15b));await setDoc(_0xd13b5b,{'shortcuts':_0x3b1ff9},{'merge':!![]}),document['getElementById'](_0x3ec6fc(0x9ea))['classList'][_0x3ec6fc(0x1f5)](_0x3ec6fc(0x29e));}catch(_0x45b075){console['error'](_0x3ec6fc(0xafa),_0x45b075),showMessage(_0x3ec6fc(0xc70));}}async function handleFileShortcutClick(_0x25a186){const _0x20ebb4=_0x18fcf7,_0x3dab3d=fileShortcuts[_0x20ebb4(0x64b)](_0x2164ba=>_0x2164ba['id']===_0x25a186);if(!_0x3dab3d)return;if(!_0x3dab3d[_0x20ebb4(0x2a1)]||_0x3dab3d[_0x20ebb4(0x2a1)]['trim']()===''){openFileShortcutEditor(_0x25a186);return;}const _0x45d98e=document[_0x20ebb4(0xc8a)](_0x20ebb4(0x2ac)+_0x25a186+'\x22]');if(_0x45d98e){const _0x17e5e0=_0x45d98e[_0x20ebb4(0x1a0)];_0x45d98e['innerHTML']=_0x20ebb4(0x145),_0x45d98e[_0x20ebb4(0xa78)]=!![];}document[_0x20ebb4(0x801)](_0x20ebb4(0x619))[_0x20ebb4(0xc92)](_0x17e8db=>{const _0xe1edbc=_0x20ebb4;if(_0x17e8db[_0xe1edbc(0x9d2)]['id']!==_0x25a186)_0x17e8db[_0xe1edbc(0x5a1)][_0xe1edbc(0x1f5)](_0xe1edbc(0x717),'pointer-events-none');});try{const _0x50fb70=new URL(_0x3dab3d['url'])[_0x20ebb4(0x968)],_0x2e7a70=_0x50fb70[_0x20ebb4(0x3e0)](_0x50fb70[_0x20ebb4(0x4ec)]('/')+0x1)||(_0x3dab3d[_0x20ebb4(0x2a1)]['includes'](_0x20ebb4(0x5d3))?_0x20ebb4(0x1da):_0x20ebb4(0x33f)),_0x273dee=await fetchFileFromUrl(_0x3dab3d['url'],_0x2e7a70);_0x273dee[_0x20ebb4(0x13b)]=_0x25a186,selectedFile=_0x273dee,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x20ebb4(0x360)]('file-input-area')[_0x20ebb4(0xbc1)]({'behavior':'smooth','block':_0x20ebb4(0x1c2)});}catch(_0x1e95d8){console[_0x20ebb4(0x537)](_0x20ebb4(0x19f),_0x1e95d8),showMessage(_0x20ebb4(0x51f)+_0x1e95d8['message']),renderFileShortcuts();}finally{document['querySelectorAll']('.file-shortcut-btn')[_0x20ebb4(0xc92)](_0x1c8187=>{const _0x3d7945=_0x20ebb4;_0x1c8187[_0x3d7945(0x5a1)][_0x3d7945(0xbee)](_0x3d7945(0x717),_0x3d7945(0x63a)),_0x1c8187['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x10c64d=_0x18fcf7;if(allQuizzesGlobal[_0x10c64d(0x633)]>0x0)return;console[_0x10c64d(0xced)](_0x10c64d(0x49b)),showMessage(_0x10c64d(0x7c2));try{const _0x468dc3=await getDocs(collection(db,'artifacts/'+appId+_0x10c64d(0x46a)));allQuizzesGlobal=_0x468dc3[_0x10c64d(0x8d0)][_0x10c64d(0x985)](_0x3da97c=>({'id':_0x3da97c['id'],..._0x3da97c[_0x10c64d(0x9e7)]()})),console[_0x10c64d(0xced)](_0x10c64d(0xbc8)+allQuizzesGlobal[_0x10c64d(0x633)]+_0x10c64d(0x5ae)),messageModal[_0x10c64d(0x5a1)]['add'](_0x10c64d(0x29e));}catch(_0x493c78){console[_0x10c64d(0x537)](_0x10c64d(0x1f1),_0x493c78),messageModal[_0x10c64d(0x5a1)]['add'](_0x10c64d(0x29e));throw new Error(_0x10c64d(0xab8));}}function exportQuizAsWorksheetPDF(){const _0x15182d=_0x18fcf7;if(!currentQuizData||!currentQuizData[_0x15182d(0x3b7)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x5b2f1a=currentQuizData,_0x5b838d=window[_0x15182d(0x153)]('',_0x15182d(0x22e)),_0x2168c2=_0xd428e=>String[_0x15182d(0xb2b)](0x41+_0xd428e),_0x102db4=_0x15182d(0x9a2)+_0x5b2f1a[_0x15182d(0x94f)]+_0x15182d(0x6e7)+_0x5b2f1a['topic']+_0x15182d(0xa51)+_0x5b2f1a[_0x15182d(0x3b7)][_0x15182d(0x985)]((_0x3a9a93,_0x10e3c3)=>{const _0x437b1b=_0x15182d;let _0x5d823b='';const _0x2beda4=_0x3a9a93[_0x437b1b(0x434)]||_0x5b2f1a[_0x437b1b(0x677)];switch(_0x2beda4){case _0x437b1b(0xc24):case _0x437b1b(0xa84):_0x5d823b=_0x437b1b(0xb16)+_0x3a9a93[_0x437b1b(0x211)]['map']((_0x1c0a83,_0x29515a)=>_0x437b1b(0xafd)+_0x2168c2(_0x29515a)+'.\x20'+_0x1c0a83+_0x437b1b(0x8cf))[_0x437b1b(0x155)](_0x437b1b(0x9e9))+_0x437b1b(0x2c6);break;case _0x437b1b(0x8e2):_0x5d823b=_0x437b1b(0x943);break;default:_0x5d823b=_0x437b1b(0x358);break;}return _0x437b1b(0x55a)+(_0x10e3c3+0x1)+_0x437b1b(0x5e2)+(_0x3a9a93['stem']||_0x3a9a93[_0x437b1b(0xcec)])+_0x437b1b(0x1b9)+(_0x3a9a93[_0x437b1b(0x931)]?_0x437b1b(0xc55)+_0x3a9a93[_0x437b1b(0x931)]+_0x437b1b(0x2c6):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d823b+_0x437b1b(0x82e);})[_0x15182d(0x155)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5b838d[_0x15182d(0x4f9)]['write'](_0x102db4),_0x5b838d[_0x15182d(0x4f9)][_0x15182d(0x914)](),_0x5b838d[_0x15182d(0x1e8)]=function(){setTimeout(()=>{const _0x165ba1=_0x20ce;_0x5b838d[_0x165ba1(0x5ac)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x2b1e0d=_0x18fcf7;if(!currentQuizData||!currentQuizData[_0x2b1e0d(0x3b7)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x4628e2=currentQuizData,_0x1dbd24=window[_0x2b1e0d(0x153)]('','_blank'),_0x39d239=_0x432e87=>String['fromCharCode'](0x41+_0x432e87),_0x13ab95=_0x2b1e0d(0x18d)+_0x4628e2['topic']+_0x2b1e0d(0xc42)+_0x4628e2[_0x2b1e0d(0x3b7)]['map']((_0x44d09a,_0x4e55b5)=>{const _0x521ea1=_0x2b1e0d;let _0x501864='';const _0x15af9e=_0x44d09a[_0x521ea1(0x434)]||_0x4628e2[_0x521ea1(0x677)];switch(_0x15af9e){case _0x521ea1(0xc24):case _0x521ea1(0xa84):_0x501864='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x44d09a[_0x521ea1(0x211)][_0x521ea1(0x985)]((_0x584e25,_0x1dc96c)=>_0x521ea1(0x3ee)+_0x39d239(_0x1dc96c)+'.\x20'+_0x584e25+_0x521ea1(0x3c6))['join'](_0x521ea1(0x9e9))+_0x521ea1(0x643);break;case _0x521ea1(0x8e2):_0x501864='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x501864='';break;}return _0x521ea1(0xab6)+_0x4628e2[_0x521ea1(0x94f)]+_0x521ea1(0xa7f)+(_0x4e55b5+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x44d09a['stem']||_0x44d09a[_0x521ea1(0xcec)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x44d09a[_0x521ea1(0x931)]?_0x521ea1(0x2c1)+_0x44d09a[_0x521ea1(0x931)]+_0x521ea1(0x2c6):'')+_0x521ea1(0xace)+_0x501864+_0x521ea1(0x2e7);})[_0x2b1e0d(0x155)]('')+_0x2b1e0d(0xa07);_0x1dbd24['document']['write'](_0x13ab95),_0x1dbd24['document'][_0x2b1e0d(0x914)](),_0x1dbd24[_0x2b1e0d(0x1e8)]=function(){setTimeout(()=>{const _0x2333b6=_0x20ce;_0x1dbd24[_0x2333b6(0x5ac)]();},0x5dc);};}async function handleToggleStarQuiz(_0xd98d26){const _0x1bfe58=_0x18fcf7,_0xdfc371=doc(db,'artifacts/'+appId+_0x1bfe58(0x46a),_0xd98d26);try{const _0x3f8958=await getDoc(_0xdfc371);if(_0x3f8958[_0x1bfe58(0x815)]()){const _0x20b46b=_0x3f8958[_0x1bfe58(0x9e7)]()[_0x1bfe58(0x88f)]||![];await updateDoc(_0xdfc371,{'isStarred':!_0x20b46b});}}catch(_0x3bb71a){console['error'](_0x1bfe58(0x68f),_0x3bb71a),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x466add=_0x18fcf7,_0x3590c3=document['getElementById'](_0x466add(0x6e4));_0x3590c3[_0x466add(0x1a0)]=_0x466add(0x55c);try{const _0x4fced3=collection(db,'artifacts/'+appId+_0x466add(0x8a5)+userId+_0x466add(0x28c)),_0x43887a=query(_0x4fced3),_0x4dcd01=await getDocs(_0x43887a);if(_0x4dcd01[_0x466add(0x62a)]){_0x3590c3[_0x466add(0x1a0)]=_0x466add(0x338);return;}let _0x2e5c93=_0x4dcd01[_0x466add(0x8d0)][_0x466add(0x985)](_0x3eee67=>{const _0x49aee9=_0x466add,_0x14ea76=_0x3eee67['data'](),_0x52816f=_0x3eee67['id'];return _0x49aee9(0x9fe)+JSON[_0x49aee9(0x639)](_0x14ea76)+_0x49aee9(0x563)+(_0x14ea76[_0x49aee9(0xcec)]||_0x14ea76[_0x49aee9(0x7e5)])+_0x49aee9(0x832)+_0x14ea76[_0x49aee9(0x6f0)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x466add(0x155)]('');_0x3590c3[_0x466add(0x1a0)]=_0x466add(0x97f)+_0x2e5c93+_0x466add(0x26e),document['getElementById'](_0x466add(0x798))['addEventListener'](_0x466add(0xc47),createQuizFromBank);}catch(_0x5349d8){console[_0x466add(0x537)](_0x466add(0xb26),_0x5349d8),_0x3590c3[_0x466add(0x1a0)]=_0x466add(0xac2);}}async function handleExportLessonToPDF(){const _0x120ca4=_0x18fcf7,_0x2a4362=document[_0x120ca4(0x360)](_0x120ca4(0x320)),_0x1ac9c8=document[_0x120ca4(0x360)](_0x120ca4(0x61b))[_0x120ca4(0x946)]||_0x120ca4(0x567);if(!_0x2a4362){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0x5c7378=window[_0x120ca4(0x153)]('',_0x120ca4(0x22e)),_0x2a98ce=_0x120ca4(0x7d4)+_0x1ac9c8+_0x120ca4(0x45c)+_0x1ac9c8+_0x120ca4(0xa7d)+_0x2a4362[_0x120ca4(0x1a0)]+_0x120ca4(0xa12);_0x5c7378[_0x120ca4(0x4f9)][_0x120ca4(0x3b6)](_0x2a98ce),_0x5c7378[_0x120ca4(0x4f9)][_0x120ca4(0x914)](),_0x5c7378[_0x120ca4(0x1e8)]=function(){setTimeout(()=>{_0x5c7378['print']();},0x7d0);};}function showAdminLiveQuestionView(_0x791e8f,_0x15b239,_0x4e767e){const _0x162c7e=_0x18fcf7,_0xa89ae9=_0x791e8f[_0x162c7e(0x434)]||currentQuizData['quizType'];let _0x32b1d6='';if(_0xa89ae9===_0x162c7e(0xc24)||_0xa89ae9===_0x162c7e(0x8e2)){const _0x56b755=_0xa89ae9===_0x162c7e(0x8e2)?[_0x162c7e(0xa7c),_0x162c7e(0x7e9)]:_0x791e8f[_0x162c7e(0x211)],_0x22b91b=_0xa89ae9===_0x162c7e(0x8e2)?_0x791e8f[_0x162c7e(0x30e)]?0x0:0x1:_0x791e8f[_0x162c7e(0x274)];_0x32b1d6=_0x56b755[_0x162c7e(0x985)]((_0x1fdc6f,_0x63685b)=>_0x162c7e(0x9d5)+(_0x63685b===_0x22b91b)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1fdc6f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x162c7e(0x155)]('');}else{if(_0xa89ae9==='matching_item'){const _0x360e70=_0x791e8f['allResponses']||[];_0x32b1d6=_0x360e70['map'](_0x239c3d=>_0x162c7e(0x9d5)+(_0x239c3d===_0x791e8f[_0x162c7e(0xa81)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x239c3d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x162c7e(0x155)]('');}}const _0x202209=_0x791e8f[_0x162c7e(0x7e5)]||_0x791e8f[_0x162c7e(0xcec)],_0x2e7022=_0x162c7e(0x608)+(_0x15b239+0x1)+'\x20/\x20'+_0x4e767e+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+_0x162c7e(0xb45)+_0x202209+_0x162c7e(0x952)+_0x32b1d6+_0x162c7e(0x620);liveGameView['innerHTML']=_0x2e7022,window['MathJax']&&MathJax['typesetPromise']&&MathJax[_0x162c7e(0x5b0)]([liveGameView]),document[_0x162c7e(0x360)](_0x162c7e(0x1f7))['addEventListener'](_0x162c7e(0xc47),()=>revealAnswerForAdmin(_0x15b239,_0x4e767e)),document[_0x162c7e(0x360)]('end-game-btn')[_0x162c7e(0x616)]('click',async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x5c43de=_0x20ce,_0x4dc1e9=doc(db,_0x5c43de(0x944)+appId+_0x5c43de(0x68b),currentLiveGameId);await updateDoc(_0x4dc1e9,{'status':_0x5c43de(0x394)});});}),document[_0x162c7e(0x360)](_0x162c7e(0xb97))['addEventListener'](_0x162c7e(0xc47),()=>{const _0xa06c7a=_0x162c7e;document[_0xa06c7a(0x360)]('live-player-management')[_0xa06c7a(0x5a1)]['toggle'](_0xa06c7a(0x29e));});}function promptForProjectBeforeGenerating(_0x59aeef){const _0x63c7d4=_0x18fcf7,_0x258ef1=document['getElementById'](_0x63c7d4(0x54c)),_0x26f8fc=document[_0x63c7d4(0x360)](_0x63c7d4(0x3c2)),_0x4ac63f=_0x258ef1[_0x63c7d4(0xc8a)]('h3'),_0x1dc8a0=document['getElementById']('confirm-move-quiz-btn'),_0x4a8dd6=document[_0x63c7d4(0x360)](_0x63c7d4(0xc90));_0x4ac63f[_0x63c7d4(0x946)]=_0x63c7d4(0xaea),_0x1dc8a0[_0x63c7d4(0x946)]=_0x63c7d4(0x5bf),_0x1dc8a0['disabled']=!![];allProjects[_0x63c7d4(0x633)]===0x0?_0x26f8fc[_0x63c7d4(0x1a0)]=_0x63c7d4(0x7fc):(_0x26f8fc[_0x63c7d4(0x1a0)]=_0x63c7d4(0xbe5)+allProjects[_0x63c7d4(0x985)](_0xced0af=>'<option\x20value=\x22'+_0xced0af['id']+'\x22>'+_0xced0af['projectName']+_0x63c7d4(0x76e))[_0x63c7d4(0x155)](''),_0x1dc8a0[_0x63c7d4(0xa78)]=![]);_0x258ef1[_0x63c7d4(0x5a1)][_0x63c7d4(0xbee)](_0x63c7d4(0x29e));const _0x546136=async()=>{const _0x59ec1a=_0x63c7d4,_0x52f047=_0x26f8fc[_0x59ec1a(0x1db)];if(!_0x52f047){showMessage(_0x59ec1a(0x260));return;}_0x258ef1[_0x59ec1a(0x5a1)]['add'](_0x59ec1a(0x29e)),await loadProjectDetails(_0x52f047),showView(_0x59ec1a(0x6b8)),handleGenerateQuizFromBlueprintTopic(_0x59aeef),_0x2e0ec3();},_0x2e0ec3=()=>{const _0x167873=_0x63c7d4;_0x4ac63f[_0x167873(0x946)]=_0x167873(0x823),_0x1dc8a0['textContent']=_0x167873(0x77e),_0x1dc8a0[_0x167873(0xb86)](_0x167873(0xc47),_0x546136),_0x4a8dd6[_0x167873(0xb86)](_0x167873(0xc47),_0x2e0ec3),_0x1dc8a0[_0x167873(0x616)](_0x167873(0xc47),confirmMoveQuiz);};_0x1dc8a0[_0x63c7d4(0xb86)](_0x63c7d4(0xc47),confirmMoveQuiz),_0x1dc8a0[_0x63c7d4(0x616)]('click',_0x546136),_0x4a8dd6[_0x63c7d4(0x616)](_0x63c7d4(0xc47),_0x2e0ec3);}function showStudentLiveQuestionView(_0x5b275e,_0x2bff07,_0x1082b9){const _0x48e0b7=_0x18fcf7,_0x32bc6e=_0x5b275e[_0x48e0b7(0x434)]||currentQuizData[_0x48e0b7(0x677)];let _0x223c04='';if(_0x32bc6e===_0x48e0b7(0xc24)||_0x32bc6e===_0x48e0b7(0x8e2)){const _0x3aa065=_0x32bc6e===_0x48e0b7(0x8e2)?[_0x48e0b7(0xa7c),_0x48e0b7(0x7e9)]:_0x5b275e[_0x48e0b7(0x211)];_0x223c04=_0x3aa065['map']((_0x12949b,_0x30849f)=>_0x48e0b7(0x300)+_0x30849f+_0x48e0b7(0x19c)+_0x12949b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x48e0b7(0x155)]('');}else{if(_0x32bc6e==='matching_item'){const _0xd6fa1a=_0x5b275e['allResponses']||[];_0x223c04=_0xd6fa1a[_0x48e0b7(0x985)]((_0x9d4566,_0x214ff9)=>_0x48e0b7(0x300)+_0x214ff9+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x9d4566+_0x48e0b7(0x466))[_0x48e0b7(0x155)]('');}else _0x32bc6e===_0x48e0b7(0x693)&&(_0x223c04=_0x48e0b7(0x27c));}const _0x1173ed=_0x5b275e[_0x48e0b7(0x7e5)]||_0x5b275e[_0x48e0b7(0xcec)],_0xddd412=_0x48e0b7(0xc5c)+(_0x2bff07+0x1)+_0x48e0b7(0x6e2)+_0x1082b9+_0x48e0b7(0xa5e)+_0x1173ed+_0x48e0b7(0x524)+_0x223c04+_0x48e0b7(0x388);liveGameView[_0x48e0b7(0x1a0)]=_0xddd412;window[_0x48e0b7(0xb63)]&&MathJax[_0x48e0b7(0x5b0)]&&MathJax[_0x48e0b7(0x5b0)]([liveGameView]);const _0x3ccd3d=document[_0x48e0b7(0x360)](_0x48e0b7(0xc28));_0x3ccd3d&&_0x3ccd3d[_0x48e0b7(0x616)](_0x48e0b7(0xc47),()=>{const _0x40b3c1=_0x48e0b7,_0x35e581=document[_0x40b3c1(0x360)](_0x40b3c1(0x6aa))['value'];handleLiveAnswer(_0x35e581,_0x5b275e);}),document[_0x48e0b7(0x360)]('live-options-container')['addEventListener'](_0x48e0b7(0xc47),_0xa8593=>{const _0x3af772=_0x48e0b7,_0x26575b=_0xa8593[_0x3af772(0x357)][_0x3af772(0x3ed)](_0x3af772(0x59b));if(_0x26575b){const _0x37f9b9=parseInt(_0x26575b[_0x3af772(0x9d2)]['index']);handleLiveAnswer(_0x37f9b9,_0x5b275e);}});}function listenForBlueprintShortcuts(){const _0xfe49b3=_0x18fcf7,_0x53ad41=doc(db,_0xfe49b3(0xa24),_0xfe49b3(0x4b9));onSnapshot(_0x53ad41,_0x3be2f0=>{const _0x4df07f=_0xfe49b3;let _0x37831b=[],_0xf54ef0=[],_0x10517b={};if(_0x3be2f0['exists']()){const _0x245473=_0x3be2f0[_0x4df07f(0x9e7)]();_0x37831b=_0x245473[_0x4df07f(0x402)]||[],_0xf54ef0=_0x245473[_0x4df07f(0x414)]||[],_0x10517b=_0x245473[_0x4df07f(0x77b)]||{};}!_0xf54ef0['find'](_0x534ddc=>_0x534ddc['id']===_0x4df07f(0x9b3))&&_0xf54ef0[_0x4df07f(0x416)]({'id':_0x4df07f(0x9b3),'name':'ปุ่มลัดทั้งหมด','isDefault':!![]}),!_0x37831b[_0x4df07f(0x64b)](_0x3fce75=>_0x3fce75['id']===_0x4df07f(0xaae))&&_0x37831b['unshift']({'id':_0x4df07f(0xaae),'name':_0x4df07f(0x1f6),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x37831b['find'](_0x39c206=>_0x39c206['id']===_0x4df07f(0x9c4))&&_0x37831b[_0x4df07f(0x416)]({'id':'default-2','name':_0x4df07f(0x821),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x37831b,shortcutTabs=_0xf54ef0,shortcutOrder=_0x10517b,renderBlueprintShortcuts(),!document[_0x4df07f(0x360)](_0x4df07f(0x37f))['classList'][_0x4df07f(0xbf1)](_0x4df07f(0x29e))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x4c1025=_0x18fcf7,_0x2124e9=document[_0x4c1025(0x360)](_0x4c1025(0x720)),_0x3da3eb=document['getElementById']('additional-shortcuts-list');if(!_0x2124e9||!_0x3da3eb)return;_0x2124e9[_0x4c1025(0x1a0)]=shortcutTabs[_0x4c1025(0x985)](_0xd4d852=>{const _0x8303a9=_0x4c1025,_0x3e349f=_0xd4d852['id']===activeShortcutTabId,_0x37eb98=_0x8303a9(0x261),_0x1e7070=_0x8303a9(0x939);return _0x8303a9(0x67d)+_0xd4d852['id']+_0x8303a9(0x192)+(_0x3e349f?_0x37eb98:_0x1e7070)+_0x8303a9(0x366)+_0xd4d852[_0x8303a9(0x3d8)]+_0x8303a9(0x492)+_0xd4d852[_0x8303a9(0x3d8)]+_0x8303a9(0x1fa)+(!_0xd4d852['isDefault']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0xd4d852['id']+_0x8303a9(0x93a):'')+_0x8303a9(0x486);})['join']('');const _0x275aab=shortcutTabs['find'](_0x5bb630=>_0x5bb630['id']===activeShortcutTabId);let _0x57646b=[];if(_0x275aab){if(_0x275aab[_0x4c1025(0xb2a)])_0x57646b=[...blueprintShortcuts];else{const _0x33b876=_0x275aab[_0x4c1025(0xa2f)]||[];_0x57646b=blueprintShortcuts[_0x4c1025(0x2bb)](_0x4d9e1a=>_0x33b876[_0x4c1025(0xba6)](_0x4d9e1a['id']));}}const _0x261d2b=shortcutOrder[activeShortcutTabId]||[];_0x57646b['sort']((_0x3439d1,_0x407a56)=>{const _0x56e5f9=_0x4c1025,_0xc3e51c=_0x261d2b[_0x56e5f9(0x9a4)](_0x3439d1['id']),_0x370b9f=_0x261d2b[_0x56e5f9(0x9a4)](_0x407a56['id']);if(_0xc3e51c===-0x1)return 0x1;if(_0x370b9f===-0x1)return-0x1;return _0xc3e51c-_0x370b9f;}),_0x3da3eb['innerHTML']=_0x57646b['length']>0x0?_0x57646b[_0x4c1025(0x985)](_0x2a6fba=>{const _0x574fd4=_0x4c1025;let _0x47d1fa='🧩';if(_0x2a6fba['blueprintUrl']&&_0x2a6fba['referenceUrl'])_0x47d1fa='📗';else{if(_0x2a6fba['blueprintUrl'])_0x47d1fa='📘';}const _0x4ade05=shortcutTabs[_0x574fd4(0x2bb)](_0x3171c6=>!_0x3171c6[_0x574fd4(0xb2a)]),_0xeeabab=_0x275aab[_0x574fd4(0xb2a)]&&_0x4ade05['length']>0x0?'\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ade05[_0x574fd4(0x985)](_0xf61ecc=>_0x574fd4(0x6a2)+_0x2a6fba['id']+'\x22\x20data-target-tab-id=\x22'+_0xf61ecc['id']+'\x22>'+_0xf61ecc[_0x574fd4(0x3d8)]+_0x574fd4(0x296))['join']('')+_0x574fd4(0x2be):'';return _0x574fd4(0xcf4)+_0x2a6fba['id']+_0x574fd4(0x718)+_0x47d1fa+'\x20'+_0x2a6fba[_0x574fd4(0x3d8)]+_0x574fd4(0xad5)+_0x2a6fba['id']+_0x574fd4(0x14f)+_0x2a6fba['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2a6fba['isDefault']?_0x574fd4(0x18e)+_0x2a6fba['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x275aab['isDefault']?'<button\x20data-shortcut-id=\x22'+_0x2a6fba['id']+_0x574fd4(0x44b):'')+_0x574fd4(0x96c)+_0xeeabab+_0x574fd4(0x1a9);})[_0x4c1025(0x155)](''):_0x4c1025(0x345),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x29d4c7=_0x18fcf7;document[_0x29d4c7(0x801)](_0x29d4c7(0xc66))[_0x29d4c7(0xc92)](_0x7a1cd6=>{const _0x2297d7=_0x29d4c7;_0x7a1cd6[_0x2297d7(0x616)]('click',_0x12527c=>{const _0x349a91=_0x2297d7;activeShortcutTabId=_0x12527c[_0x349a91(0x1cc)][_0x349a91(0x9d2)][_0x349a91(0x6ab)],renderAdditionalShortcutsModal();}),_0x7a1cd6[_0x2297d7(0x616)](_0x2297d7(0x4b8),_0x3eab34=>{const _0x4f6e31=_0x2297d7,_0x15d264=_0x3eab34[_0x4f6e31(0x1cc)];_0x15d264[_0x4f6e31(0xc8a)](_0x4f6e31(0x525))[_0x4f6e31(0x5a1)][_0x4f6e31(0x1f5)](_0x4f6e31(0x29e));const _0xe30dbc=_0x15d264['querySelector'](_0x4f6e31(0x67f));_0xe30dbc[_0x4f6e31(0x5a1)][_0x4f6e31(0xbee)]('hidden'),_0xe30dbc[_0x4f6e31(0xac0)](),_0xe30dbc[_0x4f6e31(0x9a9)]();});}),document['querySelectorAll']('.tab-name-input')[_0x29d4c7(0xc92)](_0x5b9186=>{const _0x3b0e7e=_0x29d4c7,_0x49ff54=()=>{const _0x18c588=_0x20ce,_0xa5c0c1=_0x5b9186[_0x18c588(0x3ed)](_0x18c588(0xc66))[_0x18c588(0x9d2)][_0x18c588(0x6ab)];handleRenameShortcutTab(_0xa5c0c1,_0x5b9186[_0x18c588(0x1db)]);};_0x5b9186[_0x3b0e7e(0x616)]('blur',_0x49ff54),_0x5b9186['addEventListener']('keydown',_0x245b04=>{const _0x188399=_0x3b0e7e;if(_0x245b04[_0x188399(0x56d)]===_0x188399(0x5f3))_0x5b9186[_0x188399(0x979)]();});}),document['querySelectorAll'](_0x29d4c7(0x164))[_0x29d4c7(0xc92)](_0x19be80=>{const _0x5ad6ee=_0x29d4c7;_0x19be80['addEventListener'](_0x5ad6ee(0xc47),_0x1c468a=>handleDeleteShortcutTab(_0x1c468a[_0x5ad6ee(0x1cc)]['dataset']['tabId']));}),document[_0x29d4c7(0x801)]('.move-shortcut-item')[_0x29d4c7(0xc92)](_0x3a2b2f=>{const _0x4125d2=_0x29d4c7;_0x3a2b2f[_0x4125d2(0x616)]('click',_0x40bcbc=>{const _0x521bed=_0x4125d2;_0x40bcbc[_0x521bed(0xc63)]();const {shortcutId:_0x93170d,targetTabId:_0x38d076}=_0x40bcbc['currentTarget']['dataset'];handleMoveShortcutToTab(_0x93170d,_0x38d076);});}),document[_0x29d4c7(0x801)](_0x29d4c7(0x762))[_0x29d4c7(0xc92)](_0xd69c91=>{const _0x7266ce=_0x29d4c7;_0xd69c91[_0x7266ce(0x616)](_0x7266ce(0xc47),_0x577485=>{const _0x3984e1=_0x7266ce;handleRemoveShortcutFromTab(_0x577485[_0x3984e1(0x1cc)][_0x3984e1(0x9d2)][_0x3984e1(0x13b)],activeShortcutTabId);});});const _0x43d7fd=document[_0x29d4c7(0x360)]('additional-shortcuts-list');_0x43d7fd[_0x29d4c7(0x801)](_0x29d4c7(0x6e0))[_0x29d4c7(0xc92)](_0x306ce0=>{const _0x280eeb=_0x29d4c7;_0x306ce0[_0x280eeb(0x616)](_0x280eeb(0xc47),()=>{const _0x33a696=_0x280eeb;document[_0x33a696(0x360)](_0x33a696(0x37f))[_0x33a696(0x5a1)][_0x33a696(0x1f5)]('hidden'),handleShortcutClick(_0x306ce0[_0x33a696(0x9d2)]['id']);});});let _0x28b63b=null;_0x43d7fd[_0x29d4c7(0x616)](_0x29d4c7(0xb07),_0x13ec79=>{const _0x44d250=_0x29d4c7;_0x28b63b=_0x13ec79[_0x44d250(0x357)][_0x44d250(0x3ed)](_0x44d250(0x302)),_0x28b63b&&setTimeout(()=>_0x28b63b['classList'][_0x44d250(0x1f5)](_0x44d250(0x717)),0x0);}),_0x43d7fd['addEventListener']('dragend',()=>{const _0x462f23=_0x29d4c7;_0x28b63b&&(_0x28b63b[_0x462f23(0x5a1)][_0x462f23(0xbee)](_0x462f23(0x717)),_0x28b63b=null);}),_0x43d7fd['addEventListener']('dragover',_0x353080=>{const _0x15f49e=_0x29d4c7;_0x353080[_0x15f49e(0xc63)]();const _0x14b1c3=[..._0x43d7fd[_0x15f49e(0x801)]('.shortcut-list-item:not(.opacity-50)')][_0x15f49e(0x3a8)]((_0x2b0661,_0x5ab649)=>{const _0x1b51c7=_0x15f49e,_0x137d25=_0x5ab649[_0x1b51c7(0x6f3)](),_0x2fb37b=_0x353080[_0x1b51c7(0x31d)]-_0x137d25[_0x1b51c7(0x7a1)]-_0x137d25[_0x1b51c7(0xb8b)]/0x2;return _0x2fb37b<0x0&&_0x2fb37b>_0x2b0661[_0x1b51c7(0x3a1)]?{'offset':_0x2fb37b,'element':_0x5ab649}:_0x2b0661;},{'offset':Number[_0x15f49e(0x2d1)]})[_0x15f49e(0x601)];_0x14b1c3==null?_0x43d7fd[_0x15f49e(0x661)](_0x28b63b):_0x43d7fd['insertBefore'](_0x28b63b,_0x14b1c3);}),_0x43d7fd[_0x29d4c7(0x616)](_0x29d4c7(0x55f),_0x5a90cd=>{const _0x438991=_0x29d4c7;_0x5a90cd[_0x438991(0xc63)]();if(_0x28b63b){const _0x2d6d4c=[..._0x43d7fd[_0x438991(0x801)](_0x438991(0x302))]['map'](_0x2b2d4f=>_0x2b2d4f[_0x438991(0x9d2)][_0x438991(0x13b)]);handleShortcutOrderChange(activeShortcutTabId,_0x2d6d4c);}}),document[_0x29d4c7(0x801)](_0x29d4c7(0xa0c))[_0x29d4c7(0xc92)](_0x1b5553=>{const _0x45d4aa=_0x29d4c7;_0x1b5553[_0x45d4aa(0x616)](_0x45d4aa(0xc47),_0x50318e=>{const _0xc3eef6=_0x45d4aa;_0x50318e['stopPropagation']();const _0x4e3c0c=_0x50318e[_0xc3eef6(0x1cc)][_0xc3eef6(0x43b)],_0xcc67d1=_0x4e3c0c[_0xc3eef6(0x5a1)]['contains'](_0xc3eef6(0x29e));document[_0xc3eef6(0x801)](_0xc3eef6(0x1ca))[_0xc3eef6(0xc92)](_0xcf5adc=>_0xcf5adc[_0xc3eef6(0x5a1)][_0xc3eef6(0x1f5)](_0xc3eef6(0x29e))),_0xcc67d1&&_0x4e3c0c[_0xc3eef6(0x5a1)]['remove'](_0xc3eef6(0x29e));});});}document[_0x18fcf7(0x616)]('click',_0x5cd893=>{const _0x46b78c=_0x18fcf7;!_0x5cd893[_0x46b78c(0x357)][_0x46b78c(0x3ed)](_0x46b78c(0x704))&&document[_0x46b78c(0x801)](_0x46b78c(0x1ca))[_0x46b78c(0xc92)](_0x518b2b=>_0x518b2b['classList']['add'](_0x46b78c(0x29e)));});async function saveShortcutConfig(){const _0xf9a2d1=_0x18fcf7,_0x35d9ed=doc(db,_0xf9a2d1(0xa24),'dashboardConfig');try{await setDoc(_0x35d9ed,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x41c66c){console[_0xf9a2d1(0x537)](_0xf9a2d1(0x540),_0x41c66c);}}async function handleAddShortcutTab(){const _0x359df6=_0x18fcf7,_0x1b6513=prompt(_0x359df6(0xbf6),_0x359df6(0xa80));if(!_0x1b6513||_0x1b6513[_0x359df6(0x665)]()==='')return;shortcutTabs[_0x359df6(0x62c)]({'id':_0x359df6(0x404)+Date[_0x359df6(0x36b)](),'name':_0x1b6513['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x31351b,_0x233fca){const _0x4b3520=_0x18fcf7,_0x43772b=shortcutTabs['find'](_0x200a9e=>_0x200a9e['id']===_0x31351b);_0x43772b&&_0x233fca['trim']()!==''&&(_0x43772b['name']=_0x233fca[_0x4b3520(0x665)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x4d09b7){const _0x142d54=_0x18fcf7,_0x5192d0=shortcutTabs[_0x142d54(0x64b)](_0xe65bf5=>_0xe65bf5['id']===_0x4d09b7);_0x5192d0&&!_0x5192d0[_0x142d54(0xb2a)]&&showConfirmation('คุณแน่ใจว่าต้องการลบแท็บ\x20\x22'+_0x5192d0[_0x142d54(0x3d8)]+_0x142d54(0xc81),async()=>{const _0x4bc9e7=_0x142d54;shortcutTabs=shortcutTabs[_0x4bc9e7(0x2bb)](_0x1a1120=>_0x1a1120['id']!==_0x4d09b7),delete shortcutOrder[_0x4d09b7];if(activeShortcutTabId===_0x4d09b7)activeShortcutTabId=_0x4bc9e7(0x9b3);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0xf36f85,_0x34735a){const _0x4f8495=_0x18fcf7,_0x38d675=shortcutTabs[_0x4f8495(0x64b)](_0x2df5b5=>_0x2df5b5['id']===_0x34735a);_0x38d675&&!_0x38d675[_0x4f8495(0xa2f)][_0x4f8495(0xba6)](_0xf36f85)&&(_0x38d675[_0x4f8495(0xa2f)][_0x4f8495(0x62c)](_0xf36f85),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x522790,_0x545c08){const _0x2758ed=_0x18fcf7,_0x2d8423=shortcutTabs[_0x2758ed(0x64b)](_0x510756=>_0x510756['id']===_0x545c08);_0x2d8423&&!_0x2d8423[_0x2758ed(0xb2a)]&&(_0x2d8423['shortcutIds']=_0x2d8423[_0x2758ed(0xa2f)][_0x2758ed(0x2bb)](_0x19750a=>_0x19750a!==_0x522790),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x57ce4c,_0x226aee){shortcutOrder[_0x57ce4c]=_0x226aee,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x10fdf5=_0x18fcf7,_0x33672e=document[_0x10fdf5(0x360)]('blueprint-shortcut-container'),_0x3334ad=document[_0x10fdf5(0x360)](_0x10fdf5(0xc17)),_0xb2ffff=document[_0x10fdf5(0x360)](_0x10fdf5(0x628));_0xb2ffff&&_0xb2ffff[_0x10fdf5(0x5a1)]['add'](_0x10fdf5(0x29e));if(!_0x33672e||!_0x3334ad)return;const _0x3a50fa=blueprintShortcuts[_0x10fdf5(0x9b7)](0x0,0x4),_0x5b2e89=blueprintShortcuts['slice'](0x4);_0x33672e[_0x10fdf5(0x1a0)]=_0x3a50fa['map'](_0x24af1f=>{const _0x2db6ff=_0x10fdf5;let _0x1d9e37=_0x2db6ff(0x28f),_0x582a30='🧩';if(_0x24af1f[_0x2db6ff(0x415)]&&_0x24af1f[_0x2db6ff(0x959)])_0x1d9e37=_0x2db6ff(0x6d2),_0x582a30='📗';else _0x24af1f[_0x2db6ff(0x415)]&&(_0x1d9e37=_0x2db6ff(0x206),_0x582a30='📘');const _0x390454=!_0x24af1f['isDefault']?_0x2db6ff(0x18e)+_0x24af1f['id']+_0x2db6ff(0x8bd):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x24af1f['id']+_0x2db6ff(0xabe)+_0x1d9e37+_0x2db6ff(0x17a)+_0x582a30+'\x20'+_0x24af1f[_0x2db6ff(0x3d8)]+_0x2db6ff(0x754)+_0x24af1f['id']+_0x2db6ff(0x9ba)+_0x390454+_0x2db6ff(0x486);})[_0x10fdf5(0x155)](''),_0x5b2e89[_0x10fdf5(0x633)]>0x0&&(_0x33672e[_0x10fdf5(0x1a0)]+=_0x10fdf5(0x556)),_0x5b2e89[_0x10fdf5(0x633)]>0x0?_0x3334ad[_0x10fdf5(0x1a0)]=_0x5b2e89['map'](_0x2915da=>{const _0x1f85ae=_0x10fdf5;let _0x445201='🧩';if(_0x2915da[_0x1f85ae(0x415)]&&_0x2915da[_0x1f85ae(0x959)])_0x445201='📗';else _0x2915da['blueprintUrl']&&(_0x445201='📘');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x445201+'\x20'+_0x2915da[_0x1f85ae(0x3d8)]+_0x1f85ae(0xad5)+_0x2915da['id']+_0x1f85ae(0x14f)+_0x2915da['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2915da[_0x1f85ae(0xb2a)]?'<button\x20data-id=\x22'+_0x2915da['id']+_0x1f85ae(0xc64):'')+_0x1f85ae(0x4cb);})[_0x10fdf5(0x155)](''):_0x3334ad[_0x10fdf5(0x1a0)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x269801){const _0x3b13a3=_0x18fcf7,_0x4641db=_0x269801['split']('.')[_0x3b13a3(0x8c5)]()[_0x3b13a3(0xc54)]();switch(_0x4641db){case _0x3b13a3(0x5db):return _0x3b13a3(0x723);case'txt':return _0x3b13a3(0x691);default:return _0x3b13a3(0x723);}}function openShortcutEditor(_0x2a3c91=null){const _0x18c9a7=_0x18fcf7,_0x489c0f=document[_0x18c9a7(0x360)](_0x18c9a7(0x597)),_0x3cf479=document['getElementById'](_0x18c9a7(0x482)),_0x4cebc9=document[_0x18c9a7(0x360)](_0x18c9a7(0xac5)),_0x29e43b=document['getElementById']('shortcut-name-input'),_0x228f4c=document[_0x18c9a7(0x360)](_0x18c9a7(0xb47)),_0x190bf9=document['getElementById'](_0x18c9a7(0xc94));if(_0x2a3c91){const _0x31966f=blueprintShortcuts['find'](_0x567d47=>_0x567d47['id']===_0x2a3c91);if(!_0x31966f)return;_0x3cf479['textContent']=_0x18c9a7(0x915),_0x4cebc9['value']=_0x31966f['id'],_0x29e43b[_0x18c9a7(0x1db)]=_0x31966f[_0x18c9a7(0x3d8)],_0x228f4c[_0x18c9a7(0x1db)]=_0x31966f[_0x18c9a7(0x415)]||'',_0x190bf9[_0x18c9a7(0x1db)]=_0x31966f[_0x18c9a7(0x959)]||'';}else _0x3cf479['textContent']=_0x18c9a7(0xa4e),_0x4cebc9[_0x18c9a7(0x1db)]='',_0x29e43b[_0x18c9a7(0x1db)]='',_0x228f4c[_0x18c9a7(0x1db)]='',_0x190bf9[_0x18c9a7(0x1db)]='';_0x489c0f[_0x18c9a7(0x5a1)][_0x18c9a7(0xbee)](_0x18c9a7(0x29e));}async function saveShortcutChanges(){const _0x16c776=_0x18fcf7,_0x3ea550=document[_0x16c776(0x360)](_0x16c776(0xac5))['value'],_0x2d5065=document['getElementById']('shortcut-name-input')['value'][_0x16c776(0x665)](),_0x7acc71=document[_0x16c776(0x360)]('shortcut-blueprint-url-input')[_0x16c776(0x1db)]['trim']();if(!_0x2d5065||!_0x7acc71){showMessage(_0x16c776(0x1fe));return;}const _0x360220={'id':_0x3ea550||_0x16c776(0xb84)+Date['now'](),'name':_0x2d5065,'blueprintUrl':_0x7acc71,'referenceUrl':document['getElementById'](_0x16c776(0xc94))[_0x16c776(0x1db)][_0x16c776(0x665)](),'isDefault':_0x3ea550[_0x16c776(0x478)]('default-')};let _0x43e656;_0x3ea550?_0x43e656=blueprintShortcuts[_0x16c776(0x985)](_0x155605=>_0x155605['id']===_0x3ea550?_0x360220:_0x155605):_0x43e656=[...blueprintShortcuts,_0x360220];try{const _0x5b2b58=doc(db,_0x16c776(0xa24),_0x16c776(0x4b9));await setDoc(_0x5b2b58,{'blueprintShortcuts':_0x43e656},{'merge':!![]}),document['getElementById'](_0x16c776(0x597))[_0x16c776(0x5a1)][_0x16c776(0x1f5)](_0x16c776(0x29e));}catch(_0x530cda){console[_0x16c776(0x537)](_0x16c776(0xba8),_0x530cda),showMessage(_0x16c776(0xc70));}}async function handleShortcutClick(_0x48f48c){const _0x214344=_0x18fcf7,_0x3186a6=blueprintShortcuts[_0x214344(0x64b)](_0x4b5998=>_0x4b5998['id']===_0x48f48c);if(!_0x3186a6||!_0x3186a6['blueprintUrl'])return;document['getElementById'](_0x214344(0x3eb))[_0x214344(0x5a1)][_0x214344(0x1f5)]('hidden'),document[_0x214344(0x360)](_0x214344(0x757))[_0x214344(0xa78)]=!![];const _0x16f0e9=document[_0x214344(0x360)](_0x214344(0x491)),_0x43ebf4=document[_0x214344(0x360)]('loader-text');document[_0x214344(0x360)](_0x214344(0x982))[_0x214344(0x5a1)][_0x214344(0xbee)]('hidden'),document['getElementById'](_0x214344(0xa2d))[_0x214344(0x1a0)]='',_0x16f0e9[_0x214344(0x5a1)][_0x214344(0xbee)]('hidden');try{_0x43ebf4['textContent']=_0x214344(0xad2);const _0x1dd8f3=await fetchFileFromUrl(_0x3186a6[_0x214344(0x415)],'blueprint.pdf');let _0x2f02c2=null;if(_0x3186a6[_0x214344(0x959)]){_0x43ebf4[_0x214344(0x946)]='กำลังดึงไฟล์อ้างอิงจากลิงก์...';const _0x29e5c0=_0x3186a6[_0x214344(0x959)]['toLowerCase']()[_0x214344(0x588)](_0x214344(0x5d3))?_0x214344(0x199):_0x214344(0xb54);_0x2f02c2=await fetchFileFromUrl(_0x3186a6[_0x214344(0x959)],_0x29e5c0);}await handleGenerateFromBlueprintWithFiles(_0x1dd8f3,_0x2f02c2);}catch(_0x3a2e86){console[_0x214344(0x537)](_0x214344(0x4d2),_0x3a2e86),showMessage(_0x214344(0x920)+_0x3a2e86[_0x214344(0x42e)]),_0x16f0e9[_0x214344(0x5a1)]['add'](_0x214344(0x29e));}}function getDirectDownloadUrl(_0x234a7b){const _0x30caa1=_0x18fcf7,_0x3bc59b=_0x234a7b[_0x30caa1(0x1d7)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x3bc59b&&_0x3bc59b[0x1])return'https://drive.google.com/uc?export=download&id='+_0x3bc59b[0x1];return _0x234a7b;}async function fetchFileFromUrl(_0x1e0dbe,_0xe6bfdb){const _0x2aa954=_0x18fcf7,_0x51af75=getDirectDownloadUrl(_0x1e0dbe),_0x2e446f=_0x2aa954(0xc6c)+encodeURIComponent(_0x51af75),_0x2171ad=await fetch(_0x2e446f);if(!_0x2171ad['ok'])throw new Error(_0x2aa954(0x1ae)+_0x2171ad['status']+')');const _0x1f66f5=await _0x2171ad[_0x2aa954(0x90e)](),_0x4af133=await new Promise((_0x15ba59,_0x32179d)=>{const _0x4a838c=_0x2aa954,_0x4ecc28=new FileReader();_0x4ecc28[_0x4a838c(0x8f3)]=()=>_0x15ba59(new Uint8Array(_0x4ecc28[_0x4a838c(0xc7f)])),_0x4ecc28['onerror']=_0x32179d,_0x4ecc28[_0x4a838c(0x406)](_0x1f66f5[_0x4a838c(0x9b7)](0x0,0x4));});let _0x93a68f='';const _0x308252=new TextDecoder()[_0x2aa954(0x7b4)](_0x4af133);return _0x308252==='%PDF'?(_0x93a68f=_0x2aa954(0x723),console[_0x2aa954(0xced)](_0x2aa954(0xc08))):(_0x93a68f='text/plain',console[_0x2aa954(0xced)](_0x2aa954(0x610))),new File([_0x1f66f5],_0xe6bfdb,{'type':_0x93a68f});}async function handleGenerateFromBlueprintWithFiles(_0x16e37b,_0x201449=null){const _0x55d0e1=_0x18fcf7;if(!_0x16e37b){showMessage(_0x55d0e1(0x7e4));return;}const _0x5379da=document[_0x55d0e1(0x360)](_0x55d0e1(0x491)),_0x2cc6dc=document['getElementById'](_0x55d0e1(0xa5c));_0x5379da[_0x55d0e1(0x5a1)][_0x55d0e1(0xbee)](_0x55d0e1(0x29e)),document['getElementById'](_0x55d0e1(0x982))[_0x55d0e1(0x5a1)][_0x55d0e1(0xbee)](_0x55d0e1(0x29e)),document[_0x55d0e1(0x360)]('generated-quiz-container')[_0x55d0e1(0x1a0)]='';try{_0x2cc6dc[_0x55d0e1(0x946)]=_0x55d0e1(0x2f7);const _0x55fc31=await new Promise((_0x58a7c4,_0x281ffe)=>{const _0x1a9b31=_0x55d0e1,_0x15a031=new FileReader();_0x15a031[_0x1a9b31(0x568)](_0x16e37b),_0x15a031[_0x1a9b31(0x1e8)]=()=>_0x58a7c4(_0x15a031[_0x1a9b31(0xc7f)][_0x1a9b31(0x779)](',')[0x1]),_0x15a031[_0x1a9b31(0x784)]=_0x281ffe;}),_0x5aa60e=[];if(_0x201449){_0x2cc6dc[_0x55d0e1(0x946)]=_0x55d0e1(0x13e);const _0x57f8e3=await _0x201449['text']();_0x5aa60e[_0x55d0e1(0x62c)]({'text':_0x55d0e1(0x1d3)+_0x57f8e3});}const _0x401fa3=[{'text':'...'},{'inlineData':{'mimeType':_0x16e37b['type'],'data':_0x55fc31}},..._0x5aa60e];await handleGenerateFromBlueprint(_0x401fa3);}catch(_0x268b7b){console['error'](_0x55d0e1(0x8c6),_0x268b7b),showMessage(_0x55d0e1(0x920)+_0x268b7b[_0x55d0e1(0x42e)]),_0x5379da[_0x55d0e1(0x5a1)]['add'](_0x55d0e1(0x29e));}}async function handleLiveAnswer(_0x2096f2,_0x2428cb){const _0x5538e0=_0x18fcf7;document[_0x5538e0(0x801)](_0x5538e0(0x7c5))[_0x5538e0(0xc92)](_0x3393f7=>_0x3393f7[_0x5538e0(0xa78)]=!![]);const _0x2373d9=_0x2428cb[_0x5538e0(0x434)]||currentQuizData[_0x5538e0(0x677)];let _0xaa46a=![],_0x4b7fb1=_0x2096f2;if(_0x2373d9===_0x5538e0(0x693)){const _0x4c4839=(_0x2096f2||'')[_0x5538e0(0xa76)]();_0xaa46a=await gradeShortAnswer(_0x4c4839,_0x2428cb);}else{if(_0x2373d9===_0x5538e0(0xc24))_0xaa46a=_0x2096f2===_0x2428cb[_0x5538e0(0x274)];else{if(_0x2373d9==='true_false'){const _0x25705f=_0x2428cb[_0x5538e0(0x30e)];_0xaa46a=_0x2096f2===0x0&&_0x25705f||_0x2096f2===0x1&&!_0x25705f;}else{if(_0x2373d9===_0x5538e0(0x463)){const _0x57d033=_0x2428cb[_0x5538e0(0x749)][_0x2096f2];_0xaa46a=_0x57d033===_0x2428cb[_0x5538e0(0xa81)],_0x4b7fb1=_0x57d033;}}}}const _0x526f9b=doc(db,_0x5538e0(0x944)+appId+_0x5538e0(0x68b),currentLiveGameId),_0x183fd1={};_0x183fd1[_0x5538e0(0xc41)+currentStudentName+_0x5538e0(0x398)]=!![],_0x183fd1[_0x5538e0(0xc41)+currentStudentName+_0x5538e0(0x26c)]=_0xaa46a,_0x183fd1[_0x5538e0(0xc41)+currentStudentName+_0x5538e0(0xcd9)]=_0x2373d9===_0x5538e0(0x693)||_0x2373d9===_0x5538e0(0x463)?null:_0x2096f2,_0x183fd1['players.'+currentStudentName+_0x5538e0(0xcc1)]=_0x4b7fb1,_0x183fd1[_0x5538e0(0xc41)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x183fd1['players.'+currentStudentName+_0x5538e0(0x344)]=![],await updateDoc(_0x526f9b,_0x183fd1),liveGameView[_0x5538e0(0x1a0)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x31c7e4,_0x175b60){const _0x3977aa=_0x18fcf7,_0x65cffd=Object[_0x3977aa(0x85e)](_0x31c7e4[_0x3977aa(0x326)]||{}),_0x49826f=_0x175b60[_0x3977aa(0x434)]||currentQuizData[_0x3977aa(0x677)],_0x2900bb=_0x49826f===_0x3977aa(0x8e2)?[_0x3977aa(0xa7c),'ไม่ใช่']:_0x175b60[_0x3977aa(0x211)]||_0x175b60['allResponses']||[],_0x4c3da6={},_0x554d82=new Array(_0x2900bb['length'])['fill'](0x0);_0x2900bb[_0x3977aa(0xc92)]((_0x28e2ac,_0x381349)=>{_0x4c3da6[_0x381349]=[];}),Object[_0x3977aa(0xccb)](_0x31c7e4[_0x3977aa(0x326)]||{})[_0x3977aa(0xc92)](([_0x42382c,_0x439afc])=>{const _0x179f63=_0x3977aa;if(_0x439afc[_0x179f63(0x23b)]===_0x179f63(0x455)&&_0x439afc[_0x179f63(0x6ce)]!==undefined){const _0x37f65d=_0x439afc[_0x179f63(0x6ce)];_0x4c3da6[_0x37f65d]&&(_0x4c3da6[_0x37f65d][_0x179f63(0x62c)](_0x42382c),_0x554d82[_0x37f65d]++);}});const _0x1d070e=Math[_0x3977aa(0x897)](..._0x554d82,0x1),_0xaca61c=_0x3977aa(0x623)+(_0x175b60[_0x3977aa(0x7e5)]||_0x175b60['questionText'])+_0x3977aa(0xb04)+_0x554d82[_0x3977aa(0x985)]((_0x2e5cf7,_0x2c4ba6)=>{const _0x5c7581=_0x3977aa,_0x589a2=_0x4c3da6[_0x2c4ba6][_0x5c7581(0x633)]>0x0?_0x4c3da6[_0x2c4ba6]['join'](',\x20'):_0x5c7581(0x6ad);let _0x8f4d8e=![];if(_0x49826f===_0x5c7581(0xc24))_0x8f4d8e=_0x2c4ba6===_0x175b60[_0x5c7581(0x274)];else{if(_0x49826f===_0x5c7581(0x8e2)){const _0x4ad90b=_0x175b60[_0x5c7581(0x30e)];_0x8f4d8e=_0x4ad90b&&_0x2c4ba6===0x0||!_0x4ad90b&&_0x2c4ba6===0x1;}else _0x49826f===_0x5c7581(0x463)&&(_0x8f4d8e=_0x2900bb[_0x2c4ba6]===_0x175b60[_0x5c7581(0xa81)]);}const _0x33e1ba=_0x8f4d8e?_0x5c7581(0x448):'#e21b3c';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x2e5cf7+_0x5c7581(0x77c)+_0x33e1ba+_0x5c7581(0x529)+_0x2c4ba6+_0x5c7581(0x74e)+_0x2900bb[_0x2c4ba6]+_0x5c7581(0x8e0)+_0x2c4ba6+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x589a2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3977aa(0x1a0)]=_0xaca61c;if(window[_0x3977aa(0xb63)])MathJax[_0x3977aa(0x5b0)]();document[_0x3977aa(0x360)](_0x3977aa(0x4e0))[_0x3977aa(0x616)](_0x3977aa(0xc47),async()=>{const _0x492b08=_0x3977aa,_0x3252c0=doc(db,_0x492b08(0x944)+appId+_0x492b08(0x68b),currentLiveGameId);await updateDoc(_0x3252c0,{'questionStatus':_0x492b08(0x52b)});}),document['getElementById']('open-scratchpad-btn')['addEventListener']('click',()=>{openScratchpad(_0x175b60,_0x2900bb);});}function showPlayerSummaryView(_0x687423,_0x361d67){const _0xb9ce56=_0x18fcf7,_0x35f6f3=Object[_0xb9ce56(0x85e)](_0x687423[_0xb9ce56(0x326)]||{}),_0x17c85f=_0x687423[_0xb9ce56(0x326)][_0x361d67],_0x51dcb7=_0x35f6f3[_0xb9ce56(0x2bb)](_0xfe10c9=>_0xfe10c9[_0xb9ce56(0x23b)]===_0xb9ce56(0x455))[_0xb9ce56(0x5a4)]((_0x490a4a,_0x5cf946)=>_0x5cf946[_0xb9ce56(0x8c2)]-_0x490a4a[_0xb9ce56(0x8c2)]),_0x2303d0=_0x51dcb7[_0xb9ce56(0x1b7)](_0x27eb24=>_0x27eb24===_0x17c85f)+0x1,_0x410f43=_0x17c85f[_0xb9ce56(0xad3)]?_0xb9ce56(0x89f):_0xb9ce56(0x420),_0x3b83fb=_0x17c85f['lastAnswerCorrect']?_0xb9ce56(0x66d):_0xb9ce56(0xa2b),_0x5e44ff=_0x17c85f[_0xb9ce56(0x9e2)]||0x0,_0xef19fd='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x39a816='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0xef19fd+_0xb9ce56(0x79a)+_0x3b83fb+_0xb9ce56(0x789)+_0x410f43+_0xb9ce56(0x6c4)+_0x5e44ff+_0xb9ce56(0x950)+(_0x2303d0>0x0?_0x2303d0:'-')+_0xb9ce56(0xbaa);liveGameView[_0xb9ce56(0x1a0)]=_0x39a816;}function createQuizFromBank(){const _0x9d58d=_0x18fcf7,_0x4baa00=document[_0x9d58d(0x801)](_0x9d58d(0xa40));if(_0x4baa00['length']===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x12da89=[];_0x4baa00['forEach'](_0x1fe3de=>{const _0x113227=_0x9d58d;_0x12da89['push'](JSON[_0x113227(0x74a)](_0x1fe3de['value']));});const _0x4c64d9={'topic':_0x9d58d(0x43e),'questions':_0x12da89};displayGeneratedQuiz(_0x4c64d9);}function showAdminLobbyView(_0x5c2fe4,_0x33ea53){const _0x349845=_0x18fcf7;showView(_0x349845(0xa33));const _0x117c8e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x33ea53+_0x349845(0xa8b)+_0x5c2fe4+_0x349845(0x499);liveGameView[_0x349845(0x1a0)]=_0x117c8e,document['getElementById'](_0x349845(0x6ef))[_0x349845(0x616)](_0x349845(0xc47),async()=>{const _0x36b64e=_0x349845;if(!currentQuizData||!currentQuizData[_0x36b64e(0x3b7)]||currentQuizData[_0x36b64e(0x3b7)][_0x36b64e(0x633)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x36b86e=doc(db,'artifacts/'+appId+_0x36b64e(0x68b),currentLiveGameId);await updateDoc(_0x36b86e,{'status':_0x36b64e(0x13f),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x5d17f7=currentQuizData['questions'][0x0],_0x30f732=currentQuizData[_0x36b64e(0x3b7)][_0x36b64e(0x633)];showAdminLiveQuestionView(_0x5d17f7,0x0,_0x30f732);}catch(_0x4dc0c4){console[_0x36b64e(0x537)]('Error\x20starting\x20game:',_0x4dc0c4),showMessage(_0x36b64e(0xc7c));}});}async function openQuizBankModal(){const _0x140b70=_0x18fcf7;if(allQuizzesGlobal[_0x140b70(0x633)]===0x0){const _0x18613e=await getDocs(collection(db,_0x140b70(0x944)+appId+_0x140b70(0x46a)));allQuizzesGlobal=_0x18613e['docs']['map'](_0x212414=>({'id':_0x212414['id'],..._0x212414[_0x140b70(0x9e7)]()}));}renderQuizBankList(''),document['getElementById'](_0x140b70(0xb1c))['classList'][_0x140b70(0xbee)](_0x140b70(0x29e));}function renderQuizBankList(_0x601d10='',_0x1b8830=![]){const _0x4032fc=_0x18fcf7,_0x442452=document[_0x4032fc(0x360)](_0x4032fc(0xc10)),_0x129392=_0x601d10['toLowerCase']()[_0x4032fc(0x665)](),_0x1cb2be=allQuizzesGlobal['map'](_0x38c574=>({..._0x38c574,'projectName':allProjects[_0x4032fc(0x64b)](_0x4a10ff=>_0x4a10ff['id']===_0x38c574[_0x4032fc(0x15d)])?.[_0x4032fc(0x8f5)]||_0x4032fc(0xc1c)}))['filter'](_0x3490ba=>(_0x3490ba[_0x4032fc(0x94f)]||'')[_0x4032fc(0xc54)]()['includes'](_0x129392)||(_0x3490ba[_0x4032fc(0x8f5)]||'')[_0x4032fc(0xc54)]()['includes'](_0x129392)||_0x3490ba['id']['toString']()[_0x4032fc(0xba6)](_0x129392));document[_0x4032fc(0x360)](_0x4032fc(0x7f9))[_0x4032fc(0x946)]='('+_0x1cb2be['length']+_0x4032fc(0xa0f),_0x442452[_0x4032fc(0x1a0)]=_0x1cb2be[_0x4032fc(0x633)]?_0x1cb2be['map'](_0x234533=>{const _0x15e8ea=_0x4032fc,_0xa2e85e=!_0x1b8830?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x234533['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x234533['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x234533['id']+_0x15e8ea(0x496)+_0x234533['id']+_0x15e8ea(0x8d1)+_0x234533['id']+_0x15e8ea(0x363)+_0x234533['id']+_0x15e8ea(0x71f)+_0x234533[_0x15e8ea(0x94f)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20':'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x234533['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x234533[_0x15e8ea(0x94f)]||_0x15e8ea(0x9dc))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x234533['questions']?.['length']||0x0)+_0x15e8ea(0x808)+_0x234533[_0x15e8ea(0x8f5)]+_0x15e8ea(0x726)+_0x234533['id']+_0x15e8ea(0xb4b)+_0xa2e85e+_0x15e8ea(0x50a);})[_0x4032fc(0x155)](''):_0x4032fc(0x397),!_0x1b8830&&(_0x442452[_0x4032fc(0x801)](_0x4032fc(0x8f8))[_0x4032fc(0xc92)](_0x19afd7=>{const _0x4491e6=_0x4032fc;_0x19afd7[_0x4491e6(0x616)](_0x4491e6(0xc47),()=>{const _0x2c0e7f=_0x4491e6,_0xea2247=_0x19afd7['dataset']['id'];document[_0x2c0e7f(0x360)](_0x2c0e7f(0xb1c))['classList'][_0x2c0e7f(0x1f5)](_0x2c0e7f(0x29e)),showQuizDetailView(_0xea2247);});}),_0x442452[_0x4032fc(0x801)](_0x4032fc(0x12f))[_0x4032fc(0xc92)](_0x1f5809=>{const _0x5bd9be=_0x4032fc;_0x1f5809[_0x5bd9be(0x616)](_0x5bd9be(0xc47),_0x506bf9=>{const _0x18fe3a=_0x5bd9be;_0x506bf9[_0x18fe3a(0x840)]();const _0x3e715e=_0x1f5809[_0x18fe3a(0x9d2)]['id'],_0x52d2ba=allQuizzesGlobal[_0x18fe3a(0x64b)](_0x1e8a23=>_0x1e8a23['id']===_0x3e715e);_0x52d2ba?(currentQuizData=_0x52d2ba,document[_0x18fe3a(0x360)](_0x18fe3a(0xb1c))['classList'][_0x18fe3a(0x1f5)](_0x18fe3a(0x29e)),startAdminTest()):showMessage(_0x18fe3a(0x9c8));});}),_0x442452['querySelectorAll']('.quiz-bank-parallel-btn')[_0x4032fc(0xc92)](_0x4229a4=>{const _0x2a3f5d=_0x4032fc;_0x4229a4[_0x2a3f5d(0x616)](_0x2a3f5d(0xc47),_0x407880=>{const _0x24cbb0=_0x2a3f5d;_0x407880[_0x24cbb0(0x840)]();const _0x6c421e=_0x4229a4[_0x24cbb0(0x9d2)]['id'],_0x435093=allQuizzesGlobal['find'](_0x9c0754=>_0x9c0754['id']===_0x6c421e);_0x435093?(document[_0x24cbb0(0x360)](_0x24cbb0(0xb1c))[_0x24cbb0(0x5a1)][_0x24cbb0(0x1f5)]('hidden'),handleGenerateParallelFromBank(_0x435093)):showMessage(_0x24cbb0(0x9c8));});}),_0x442452[_0x4032fc(0x801)](_0x4032fc(0x84c))[_0x4032fc(0xc92)](_0x1c431b=>{const _0x423144=_0x4032fc;_0x1c431b[_0x423144(0x616)](_0x423144(0xc47),_0x2f566b=>{const _0x4cd71e=_0x423144;_0x2f566b[_0x4cd71e(0x840)]();const _0x34295f=_0x1c431b[_0x4cd71e(0x9d2)]['id'],_0x259bba=allQuizzesGlobal['find'](_0x596e80=>_0x596e80['id']===_0x34295f);_0x259bba?(document[_0x4cd71e(0x360)](_0x4cd71e(0xb1c))[_0x4cd71e(0x5a1)][_0x4cd71e(0x1f5)]('hidden'),startPresentation(_0x259bba)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x442452[_0x4032fc(0x801)]('.quiz-bank-move-btn')[_0x4032fc(0xc92)](_0x261ac9=>{const _0x152850=_0x4032fc;_0x261ac9[_0x152850(0x616)]('click',_0x4fee92=>{const _0x713b34=_0x152850;_0x4fee92[_0x713b34(0x840)]();const _0x2be739=_0x261ac9[_0x713b34(0x9d2)]['id'];document[_0x713b34(0x360)]('quiz-bank-modal')[_0x713b34(0x5a1)][_0x713b34(0x1f5)](_0x713b34(0x29e)),handleMoveQuiz(_0x2be739);});}),_0x442452[_0x4032fc(0x801)]('.quiz-bank-settings-btn')[_0x4032fc(0xc92)](_0x44ed8f=>{const _0x2dcc35=_0x4032fc;_0x44ed8f[_0x2dcc35(0x616)]('click',_0x4fb764=>{const _0x3a818b=_0x2dcc35;_0x4fb764[_0x3a818b(0x840)]();const _0x694d94=_0x44ed8f['dataset']['id'];document[_0x3a818b(0x360)](_0x3a818b(0xb1c))[_0x3a818b(0x5a1)][_0x3a818b(0x1f5)](_0x3a818b(0x29e)),handleQuizSettings(_0x694d94);});}),_0x442452[_0x4032fc(0x801)]('.quiz-bank-delete-btn')[_0x4032fc(0xc92)](_0x4bfada=>{const _0x1ea5a4=_0x4032fc;_0x4bfada[_0x1ea5a4(0x616)](_0x1ea5a4(0xc47),_0xe81ef0=>{const _0x582da0=_0x1ea5a4;_0xe81ef0[_0x582da0(0x840)]();const _0x341c32=_0x4bfada[_0x582da0(0x9d2)]['id'],_0x2ebcd0=_0x4bfada[_0x582da0(0x9d2)][_0x582da0(0x94f)];showConfirmation(_0x582da0(0x2f9)+_0x2ebcd0+_0x582da0(0xab5),()=>handleDeleteQuiz(_0x341c32));});}));}async function handleCompareResults(_0x658b76,_0xe202f3){const _0x331470=_0x18fcf7,_0x3f7a79=document['getElementById']('comparison-modal'),_0x1e19bf=document[_0x331470(0x360)]('comparison-overall-content'),_0x3e484c=document[_0x331470(0x360)](_0x331470(0x3c5));document[_0x331470(0x360)](_0x331470(0x1df))[_0x331470(0x5a1)][_0x331470(0x1f5)](_0x331470(0x455)),document['getElementById']('comparison-individual-tab')[_0x331470(0x5a1)][_0x331470(0xbee)](_0x331470(0x455)),_0x1e19bf[_0x331470(0x5a1)][_0x331470(0xbee)](_0x331470(0x29e)),_0x3e484c['classList'][_0x331470(0x1f5)](_0x331470(0x29e)),_0x1e19bf[_0x331470(0x1a0)]=_0x331470(0x55c),_0x3e484c[_0x331470(0x1a0)]='',_0x3f7a79['classList'][_0x331470(0xbee)](_0x331470(0x29e));try{const _0x51d1d0=doc(db,_0x331470(0x944)+appId+_0x331470(0x46a),_0x658b76),_0x9d2451=await getDoc(_0x51d1d0);if(!_0x9d2451[_0x331470(0x815)]())throw new Error(_0x331470(0x152));const _0x239fc4=_0x9d2451['data'](),_0x347a31=_0x239fc4[_0x331470(0x3b7)][_0x331470(0x633)],_0x4070d8=collection(db,_0x331470(0x944)+appId+_0x331470(0x340)+_0xe202f3+_0x331470(0xcad)),_0x3547b2=collection(db,_0x331470(0x944)+appId+_0x331470(0x340)+_0x658b76+'/submissions'),[_0x1cad6b,_0x17182e]=await Promise[_0x331470(0x9b3)]([getDocs(_0x4070d8),getDocs(_0x3547b2)]),_0x48b96c=_0x1cad6b[_0x331470(0x8d0)][_0x331470(0x985)](_0x3af685=>_0x3af685['data']()),_0x5c7de4=_0x17182e[_0x331470(0x8d0)]['map'](_0xd1b56d=>_0xd1b56d[_0x331470(0x9e7)]()),_0x28406d=_0x48b96c[_0x331470(0x985)](_0x58566c=>_0x58566c[_0x331470(0xb72)]),_0x21d271=_0x5c7de4[_0x331470(0x985)](_0x84e58c=>_0x84e58c[_0x331470(0xb72)]),_0x2020d9=calculateMeanAndStdDev(_0x28406d),_0x3f011d=calculateMeanAndStdDev(_0x21d271),_0x4268de=_0x2020d9['mean'],_0x208eb9=_0x3f011d[_0x331470(0x55b)],_0x45c95e=_0x208eb9-_0x4268de;let _0x23c1a0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x4268de[_0x331470(0x8ac)](0x2)+_0x331470(0x545)+_0x208eb9[_0x331470(0x8ac)](0x2)+_0x331470(0x839)+(_0x45c95e>=0x0?_0x331470(0x2b0):_0x331470(0x46c))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x45c95e>=0x0?_0x331470(0x2ff):'text-red-800')+_0x331470(0x785)+(_0x45c95e>=0x0?_0x331470(0x59c):_0x331470(0x791))+'\x22>'+(_0x45c95e>=0x0?'+':'')+_0x45c95e[_0x331470(0x8ac)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x1e19bf['innerHTML']=_0x23c1a0;const _0x22c6c4=document[_0x331470(0x360)](_0x331470(0x477))[_0x331470(0x3c0)]('2d');if(chartInstances[_0x331470(0x84a)])chartInstances[_0x331470(0x84a)][_0x331470(0x328)]();chartInstances[_0x331470(0x84a)]=new Chart(_0x22c6c4,{'type':_0x331470(0xb3d),'data':{'labels':[_0x331470(0x7ba)],'datasets':[{'label':_0x331470(0x8a2),'data':[_0x4268de],'backgroundColor':_0x331470(0x26a)},{'label':_0x331470(0x45b),'data':[_0x208eb9],'backgroundColor':_0x331470(0xa2a)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x347a31}}}});const _0x10541e=currentProjectData[_0x331470(0x257)]||[],_0xb1c6ea=_0x10541e['map'](_0x31396c=>{const _0x3bb88b=_0x331470,_0x24399f=_0x48b96c['find'](_0x81a8e7=>_0x81a8e7['studentName']===_0x31396c),_0x217699=_0x5c7de4[_0x3bb88b(0x64b)](_0x435705=>_0x435705[_0x3bb88b(0x372)]===_0x31396c),_0xf1c8c6=_0x24399f?_0x24399f[_0x3bb88b(0xb72)]:null,_0x498f75=_0x217699?_0x217699['latestScore']:null,_0x4eab56=_0xf1c8c6!==null&&_0x498f75!==null?_0x498f75-_0xf1c8c6:null,_0x52c4a2=_0xf1c8c6!==null?calculateZScore(_0xf1c8c6,_0x2020d9[_0x3bb88b(0x55b)],_0x2020d9[_0x3bb88b(0xcf7)]):null,_0x344c49=_0x498f75!==null?calculateZScore(_0x498f75,_0x3f011d['mean'],_0x3f011d[_0x3bb88b(0xcf7)]):null,_0x54e703=_0x52c4a2!==null?calculateTScore(_0x52c4a2):null,_0x4c6647=_0x344c49!==null?calculateTScore(_0x344c49):null,_0x1ffa01=_0x54e703!==null&&_0x4c6647!==null?_0x4c6647-_0x54e703:null;return{'name':_0x31396c,'preScore':_0xf1c8c6,'postScore':_0x498f75,'gain':_0x4eab56,'preTScore':_0x54e703,'postTScore':_0x4c6647,'tGain':_0x1ffa01};});renderIndividualComparisonTable(_0xb1c6ea,_0x3e484c);}catch(_0x5dd14b){console['error'](_0x331470(0xa61),_0x5dd14b),_0x1e19bf[_0x331470(0x1a0)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}async function saveBlueprintProject(){const _0x6d2efe=_0x18fcf7;if(!extractedBlueprintData||!extractedBlueprintData[_0x6d2efe(0xaf3)]){showMessage(_0x6d2efe(0x35f));return;}const _0x26bc3e=prompt(_0x6d2efe(0x664),_0x6d2efe(0xbdd));if(!_0x26bc3e||_0x26bc3e[_0x6d2efe(0x665)]()==='')return;const _0x5b7501={};extractedBlueprintData[_0x6d2efe(0xaf3)][_0x6d2efe(0xc92)](_0xa60343=>{const _0x583f7b=_0x6d2efe;_0xa60343[_0x583f7b(0x1ad)]['forEach'](_0x1ebd52=>{_0x1ebd52['subTopics']['forEach'](_0x3afc7d=>{const _0x6054b6=_0x20ce,_0x55eefd=_0x6054b6(0xc3f)+Date[_0x6054b6(0x36b)]()+Math[_0x6054b6(0xc45)]()[_0x6054b6(0xa76)](0x24)[_0x6054b6(0x173)](0x2,0x9);_0x5b7501[_0x55eefd]={'sara':_0xa60343[_0x6054b6(0xccf)],'mainTopic':_0x1ebd52[_0x6054b6(0xc3b)],'subTopic':_0x3afc7d,'status':'not_generated','lessonContent':null};});});});try{const _0x39bea5=collection(db,'artifacts/'+appId+_0x6d2efe(0x4e6));await addDoc(_0x39bea5,{'projectName':_0x26bc3e[_0x6d2efe(0x665)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x5b7501,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x26bc3e[_0x6d2efe(0x665)]()+_0x6d2efe(0x93f)),document[_0x6d2efe(0x360)](_0x6d2efe(0x947))[_0x6d2efe(0x5a1)]['add']('hidden');}catch(_0x108559){console[_0x6d2efe(0x537)](_0x6d2efe(0x3d5),_0x108559),showMessage(_0x6d2efe(0x62d));}}async function showBlueprintProjects(){const _0x53cafa=_0x18fcf7,_0xab4bb5=document[_0x53cafa(0x360)](_0x53cafa(0x506)),_0x1143a5=document['getElementById'](_0x53cafa(0x33b));_0x1143a5[_0x53cafa(0x1a0)]=_0x53cafa(0xad7),_0xab4bb5[_0x53cafa(0x5a1)][_0x53cafa(0xbee)]('hidden');try{const _0x43bdb8=collection(db,_0x53cafa(0x944)+appId+'/public/data/blueprintProjects'),_0xff0940=await getDocs(_0x43bdb8);if(_0xff0940[_0x53cafa(0x62a)]){_0x1143a5[_0x53cafa(0x1a0)]=_0x53cafa(0x7c3);return;}const _0x2572fa=_0xff0940[_0x53cafa(0x8d0)][_0x53cafa(0x985)](_0x36aab1=>({'id':_0x36aab1['id'],..._0x36aab1[_0x53cafa(0x9e7)]()}));_0x2572fa[_0x53cafa(0x5a4)]((_0x3349c0,_0x28f822)=>_0x3349c0[_0x53cafa(0x8f5)][_0x53cafa(0x69b)](_0x28f822[_0x53cafa(0x8f5)],'th')),_0x1143a5['innerHTML']=_0x2572fa[_0x53cafa(0x985)](_0x3abda9=>_0x53cafa(0x507)+_0x3abda9[_0x53cafa(0x8f5)]+_0x53cafa(0x76a)+_0x3abda9[_0x53cafa(0xa3d)]+'\x20|\x20'+Object[_0x53cafa(0xa9d)](_0x3abda9[_0x53cafa(0xb7a)])[_0x53cafa(0x633)]+_0x53cafa(0x375)+_0x3abda9['id']+_0x53cafa(0x1c6)+_0x3abda9['id']+_0x53cafa(0x6c5))[_0x53cafa(0x155)]('');}catch(_0x421611){console[_0x53cafa(0x537)]('Error\x20loading\x20blueprint\x20projects:',_0x421611),_0x1143a5[_0x53cafa(0x1a0)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>';}}async function displayBlueprintProjectManager(_0xd627da){const _0x536be1=_0x18fcf7;currentBlueprintProjectId=_0xd627da,document[_0x536be1(0x360)]('blueprint-projects-modal')[_0x536be1(0x5a1)]['add']('hidden'),showView(_0x536be1(0xc49)),projectDashboardView[_0x536be1(0x5a1)]['add'](_0x536be1(0x29e));const _0x53f49b=document[_0x536be1(0x360)](_0x536be1(0xae9));_0x53f49b[_0x536be1(0x5a1)][_0x536be1(0xbee)](_0x536be1(0x29e)),document[_0x536be1(0x360)]('bp-topic-list-container')[_0x536be1(0x1a0)]=_0x536be1(0x55c);try{const _0x34a748=doc(db,_0x536be1(0x944)+appId+_0x536be1(0x4e6),_0xd627da),_0x438b0a=await getDoc(_0x34a748);if(!_0x438b0a[_0x536be1(0x815)]())throw new Error(_0x536be1(0x235));const _0x4868e5={'id':_0x438b0a['id'],..._0x438b0a['data']()};document[_0x536be1(0x360)](_0x536be1(0xb55))[_0x536be1(0x946)]=_0x4868e5['projectName'],document[_0x536be1(0x360)](_0x536be1(0x1a1))[_0x536be1(0x1db)]=_0x4868e5[_0x536be1(0x3b5)]||'',renderBlueprintTopicManager(_0x4868e5);}catch(_0x4f3c5a){console[_0x536be1(0x537)](_0x536be1(0x7b9),_0x4f3c5a),showMessage(_0x4f3c5a[_0x536be1(0x42e)]),showView('admin-dashboard');}}function renderBlueprintTopicManager(_0x20bb86){const _0x29ac11=_0x18fcf7,_0x105e33=document[_0x29ac11(0x360)](_0x29ac11(0x43f)),_0x154743=_0x20bb86['topics']||{};if(Object[_0x29ac11(0xa9d)](_0x154743)[_0x29ac11(0x633)]===0x0){_0x105e33[_0x29ac11(0x1a0)]=_0x29ac11(0x3bf);return;}const _0x1f291e=Object[_0x29ac11(0xccb)](_0x154743)['map'](([_0x4bd01a,_0x1d24d2])=>({'id':_0x4bd01a,..._0x1d24d2}))[_0x29ac11(0x5a4)]((_0x2e152e,_0x5eb78b)=>(_0x2e152e['order']??Infinity)-(_0x5eb78b[_0x29ac11(0x395)]??Infinity)),_0x37ed51={};_0x1f291e[_0x29ac11(0xc92)](_0x3906df=>{const _0x4cc7c2=_0x29ac11,{sara:_0x54ad7c,mainTopic:_0x2bbfa4}=_0x3906df;!_0x37ed51[_0x54ad7c]&&(_0x37ed51[_0x54ad7c]={}),!_0x37ed51[_0x54ad7c][_0x2bbfa4]&&(_0x37ed51[_0x54ad7c][_0x2bbfa4]=[]),_0x37ed51[_0x54ad7c][_0x2bbfa4][_0x4cc7c2(0x62c)](_0x3906df);});let _0x35380d='';for(const _0x27423e in _0x37ed51){_0x35380d+=_0x29ac11(0x569)+_0x27423e+_0x29ac11(0x802);for(const _0x22580a in _0x37ed51[_0x27423e]){_0x35380d+=_0x29ac11(0x4aa)+_0x22580a+'</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x37ed51[_0x27423e][_0x22580a][_0x29ac11(0xc92)](_0x168931=>{const _0x5f43a7=_0x29ac11,_0x16cfc4=_0x168931['id'],_0x2eb3c3=_0x168931[_0x5f43a7(0x72f)]||[],_0x252e3a=_0x2eb3c3[_0x5f43a7(0x633)]>0x0,_0x3b94a0=_0x168931[_0x5f43a7(0x23b)]===_0x5f43a7(0x690);let _0x13a89e='';_0x252e3a?_0x13a89e=_0x5f43a7(0x566)+_0x2eb3c3[_0x5f43a7(0x633)]+'\x20ชุด)</span>':_0x13a89e=_0x5f43a7(0x668)+(_0x3b94a0?_0x5f43a7(0x21b):'bg-gray-200\x20text-gray-700')+'\x22>'+(_0x3b94a0?'สร้างแล้ว':_0x5f43a7(0xc67))+_0x5f43a7(0x3c6);const _0x1d1045=!_0x3b94a0?_0x5f43a7(0x290):'',_0xec48dc=!_0x3b94a0?'กรุณาสร้างบทเรียนก่อน':'';let _0x3aa9a2=_0x3b94a0?_0x5f43a7(0xce9):_0x5f43a7(0x981);_0x35380d+=_0x5f43a7(0x600)+_0x16cfc4+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0x168931[_0x5f43a7(0x94a)]+_0x5f43a7(0xc62)+_0x13a89e+_0x5f43a7(0xa28)+_0x1d1045+_0x5f43a7(0x370)+_0xec48dc+_0x5f43a7(0xa38)+_0x3aa9a2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x35380d+=_0x29ac11(0x4d5);}_0x35380d+=_0x29ac11(0x2c6);}_0x105e33[_0x29ac11(0x1a0)]=_0x35380d;}async function handleDeepDeleteBlueprintProject(_0x2d0352){const _0x72db6f=_0x18fcf7,_0x38f113=doc(db,_0x72db6f(0x944)+appId+_0x72db6f(0x4e6),_0x2d0352),_0x4b3b28=await getDoc(_0x38f113);if(!_0x4b3b28[_0x72db6f(0x815)]()){showMessage('ไม่พบโปรเจคที่ต้องการลบ');return;}const _0x487da9=_0x4b3b28[_0x72db6f(0x9e7)]()['projectName'];showConfirmation('คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x487da9+_0x72db6f(0x6d4),async()=>{const _0x1197e7=_0x72db6f;showMessage(_0x1197e7(0x1e4));try{const _0x1c119e=writeBatch(db),_0x2b5f54=_0x4b3b28['data'](),_0x9ed582=_0x2b5f54[_0x1197e7(0xb7a)]||{};for(const _0x2000fd in _0x9ed582){const _0x256dc7=doc(db,_0x1197e7(0x944)+appId+_0x1197e7(0xcda)+_0x2d0352+_0x1197e7(0x46d),_0x2000fd);_0x1c119e[_0x1197e7(0x9e5)](_0x256dc7);}const _0x4b9ab6=new Set();for(const _0x2753d0 in _0x9ed582){_0x9ed582[_0x2753d0][_0x1197e7(0x72f)]&&_0x9ed582[_0x2753d0][_0x1197e7(0x72f)]['forEach'](_0x3aa782=>_0x4b9ab6[_0x1197e7(0x1f5)](_0x3aa782));}for(const _0x4df1cc of _0x4b9ab6){await handleDeleteQuiz(_0x4df1cc,![]);}_0x1c119e['delete'](_0x38f113),await _0x1c119e[_0x1197e7(0xb69)](),showMessage(_0x1197e7(0xba3)+_0x487da9+_0x1197e7(0x2af)),showBlueprintProjects();}catch(_0x95cd74){console['error'](_0x1197e7(0xa21),_0x95cd74),showMessage(_0x1197e7(0x578));}});}async function openTopicQuizBank(_0x3b5b31){const _0x493be1=_0x18fcf7,_0x356897=document['getElementById']('topic-quiz-bank-modal'),_0x57f01e=document[_0x493be1(0x360)](_0x493be1(0x8f6)),_0x1edd5c=document[_0x493be1(0x360)]('clear-all-links-btn');try{await ensureGlobalQuizzesLoaded();const _0x47b66c=doc(db,_0x493be1(0x944)+appId+_0x493be1(0x4e6),currentBlueprintProjectId),_0xa0dae=await getDoc(_0x47b66c);if(!_0xa0dae[_0x493be1(0x815)]())return;const _0x290fba=_0xa0dae[_0x493be1(0x9e7)](),_0x3a5b6f=_0x290fba[_0x493be1(0xb7a)][_0x3b5b31];document[_0x493be1(0x360)]('topic-bank-subtopic-name')[_0x493be1(0x946)]=_0x3a5b6f[_0x493be1(0x94a)];const _0x39bc25=_0x3a5b6f['linkedQuizIds']||[];_0x1edd5c['classList'][_0x493be1(0xb4a)](_0x493be1(0x29e),_0x39bc25[_0x493be1(0x633)]===0x0),_0x1edd5c[_0x493be1(0x8b1)]=()=>handleClearAllLinksForTopic(_0x3b5b31);if(_0x39bc25['length']===0x0)_0x57f01e[_0x493be1(0x1a0)]=_0x493be1(0x25c);else{const _0x8216c1=allQuizzesGlobal[_0x493be1(0x2bb)](_0x3267c1=>_0x39bc25[_0x493be1(0xba6)](_0x3267c1['id']));_0x57f01e[_0x493be1(0x1a0)]=_0x8216c1['map'](_0xec0767=>_0x493be1(0x89c)+_0xec0767['id']+_0x493be1(0x36a)+_0xec0767[_0x493be1(0x94f)]+_0x493be1(0xc8c)+_0xec0767['id']+_0x493be1(0xc14)+_0xec0767[_0x493be1(0x3b7)][_0x493be1(0x633)]+_0x493be1(0x4fc)+_0xec0767['id']+_0x493be1(0xa58)+_0xec0767['id']+_0x493be1(0x4a9)+_0xec0767['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xec0767['id']+_0x493be1(0x377)+_0xec0767['id']+_0x493be1(0x8b0)+_0xec0767['id']+_0x493be1(0x34f)+_0x3b5b31+_0x493be1(0x636)+_0xec0767['id']+'\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x493be1(0x155)]('');}document[_0x493be1(0x360)]('add-from-global-bank-btn')[_0x493be1(0x8b1)]=()=>{openQuizSelectorForBlueprint(_0x3b5b31);},document['getElementById'](_0x493be1(0x89a))[_0x493be1(0x8b1)]=()=>_0x356897[_0x493be1(0x5a1)]['add'](_0x493be1(0x29e)),_0x356897[_0x493be1(0x5a1)][_0x493be1(0xbee)](_0x493be1(0x29e));}catch(_0x14e2fd){showMessage(_0x14e2fd[_0x493be1(0x42e)]);}}async function openQuizSelectorForBlueprint(_0x32da95){const _0x344e21=_0x18fcf7,_0x960258=document[_0x344e21(0x360)](_0x344e21(0xb1c)),_0x5b261a=document[_0x344e21(0x360)](_0x344e21(0x877));_0x5b261a[_0x344e21(0x5a1)][_0x344e21(0x1f5)](_0x344e21(0x29e)),document[_0x344e21(0x360)](_0x344e21(0x511))?.[_0x344e21(0xbee)]();const _0x29eec0=document[_0x344e21(0xa1f)]('button');_0x29eec0['id']=_0x344e21(0x511),_0x29eec0['className']=_0x344e21(0x1bd),_0x29eec0[_0x344e21(0x946)]='เพิ่มรายการที่เลือก',_0x29eec0[_0x344e21(0xa78)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x960258[_0x344e21(0x5a1)][_0x344e21(0xbee)](_0x344e21(0x29e)),renderQuizBankListForMultiSelect(''),document[_0x344e21(0x360)]('bulk-quiz-settings-btn')[_0x344e21(0xbce)][_0x344e21(0x640)]=_0x344e21(0x2da),_0x960258['querySelector'](_0x344e21(0x187))[_0x344e21(0x661)](_0x29eec0);const _0x3258ab=(_0x3223c3=![])=>{const _0x669cec=_0x344e21;_0x960258[_0x669cec(0x5a1)]['add'](_0x669cec(0x29e)),document[_0x669cec(0x360)](_0x669cec(0x61e))['style'][_0x669cec(0x640)]='flex',_0x29eec0[_0x669cec(0xbee)](),_0x3223c3&&openTopicQuizBank(_0x32da95);};_0x29eec0[_0x344e21(0x8b1)]=async()=>{const _0x3e4993=_0x344e21,_0x51ed52=Array[_0x3e4993(0x7bc)](document[_0x3e4993(0x801)](_0x3e4993(0x4bc)))['map'](_0x5b99c7=>_0x5b99c7['value']);if(_0x51ed52[_0x3e4993(0x633)]===0x0)return;try{const _0x1263cc=doc(db,'artifacts/'+appId+_0x3e4993(0x4e6),currentBlueprintProjectId),_0x4553bd=(await getDoc(_0x1263cc))['data'](),_0x558147=_0x4553bd['topics'][_0x32da95][_0x3e4993(0x72f)]||[],_0x32c344=[...new Set([..._0x558147,..._0x51ed52])];await updateDoc(_0x1263cc,{['topics.'+_0x32da95+_0x3e4993(0xbfa)]:_0x32c344}),showMessage('เพิ่ม\x20'+_0x51ed52['length']+_0x3e4993(0x2e2)),_0x3258ab(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3d5a93){console[_0x3e4993(0x537)](_0x3e4993(0x29b),_0x3d5a93);}},document[_0x344e21(0x360)](_0x344e21(0xc12))[_0x344e21(0x8b1)]=()=>_0x3258ab(!![]);}catch(_0x2d20a5){showMessage(_0x2d20a5[_0x344e21(0x42e)]),_0x5b261a[_0x344e21(0x5a1)]['remove'](_0x344e21(0x29e));}}function handleClearLinkedQuiz(_0x49888f){const _0x495e80=_0x18fcf7;showConfirmation(_0x495e80(0xa1e),async()=>{const _0x3f5abc=_0x495e80;try{const _0x798763=doc(db,_0x3f5abc(0x944)+appId+_0x3f5abc(0x4e6),currentBlueprintProjectId);await updateDoc(_0x798763,{[_0x3f5abc(0x65a)+_0x49888f+'.linkedQuizId']:deleteField()}),showMessage(_0x3f5abc(0x570)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x58be7e){console[_0x3f5abc(0x537)](_0x3f5abc(0xcc9),_0x58be7e),showMessage(_0x3f5abc(0x295));}});}async function addTopicToProject(){const _0x142e1f=_0x18fcf7,_0x2a732f=prompt(_0x142e1f(0x4d9));if(!_0x2a732f||_0x2a732f[_0x142e1f(0x665)]()==='')return;const _0x954190=prompt(_0x142e1f(0xcb7),_0x142e1f(0x651)),_0x95ca1=prompt(_0x142e1f(0xd05),_0x142e1f(0xa63)),_0x125f90='topic_'+Date[_0x142e1f(0x36b)]()+Math[_0x142e1f(0xc45)]()[_0x142e1f(0xa76)](0x24)[_0x142e1f(0x173)](0x2,0x9),_0x1c7559={'sara':_0x954190,'mainTopic':_0x95ca1,'subTopic':_0x2a732f[_0x142e1f(0x665)](),'status':_0x142e1f(0x728),'lessonContent':null};try{const _0x366c1e=doc(db,_0x142e1f(0x944)+appId+_0x142e1f(0x4e6),currentBlueprintProjectId);await updateDoc(_0x366c1e,{[_0x142e1f(0x65a)+_0x125f90]:_0x1c7559}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x8b4d2a){console[_0x142e1f(0x537)](_0x142e1f(0x6b3),_0x8b4d2a),showMessage(_0x142e1f(0x966));}}async function editTopicInProject(_0x314b12){const _0xb9e8fe=_0x18fcf7,_0x52893b=document[_0xb9e8fe(0xc8a)](_0xb9e8fe(0xb43)+_0x314b12+'\x22]'),_0x2de71c=_0x52893b[_0xb9e8fe(0xc8a)](_0xb9e8fe(0x16c)),_0x45257b=_0x2de71c[_0xb9e8fe(0x946)],_0x515a25=prompt(_0xb9e8fe(0x6bf),_0x45257b);if(!_0x515a25||_0x515a25['trim']()===''||_0x515a25[_0xb9e8fe(0x665)]()===_0x45257b)return;try{const _0x47eb9f=doc(db,'artifacts/'+appId+_0xb9e8fe(0x4e6),currentBlueprintProjectId);await updateDoc(_0x47eb9f,{['topics.'+_0x314b12+_0xb9e8fe(0x890)]:_0x515a25['trim']()}),_0x2de71c['textContent']=_0x515a25[_0xb9e8fe(0x665)](),showMessage(_0xb9e8fe(0x3a0));}catch(_0xb5157a){console[_0xb9e8fe(0x537)]('Error\x20editing\x20topic:',_0xb5157a),showMessage(_0xb9e8fe(0x14d));}}async function deleteTopicFromProject(_0x2546d7){const _0x58ba4a=_0x18fcf7;if(!confirm(_0x58ba4a(0x80a)))return;try{const _0x5dd7df=doc(db,_0x58ba4a(0x944)+appId+_0x58ba4a(0x4e6),currentBlueprintProjectId);await updateDoc(_0x5dd7df,{[_0x58ba4a(0x65a)+_0x2546d7]:deleteField()}),document[_0x58ba4a(0xc8a)]('[data-topic-id=\x22'+_0x2546d7+'\x22]')[_0x58ba4a(0xbee)](),showMessage(_0x58ba4a(0x49a));}catch(_0x4fd7dc){console['error'](_0x58ba4a(0x5f8),_0x4fd7dc),showMessage('เกิดข้อผิดพลาดในการลบ');}}async function generateAndSaveLessonForBlueprint(_0x229f82,_0x309dde,_0x460be5){handleGenerateAndShowLesson(_0x309dde,_0x460be5);const _0x406c37=setInterval(async()=>{const _0x295685=_0x20ce,_0x230669=document['getElementById'](_0x295685(0x32c)),_0x55bce5=_0x230669[_0x295685(0x5a1)][_0x295685(0xbf1)]('hidden');if(_0x55bce5){clearInterval(_0x406c37);if(currentApplicationData&&currentApplicationData[_0x295685(0x633)]>0x0){const _0x1ae0ab={'point':document['getElementById'](_0x295685(0xbb4))[_0x295685(0x1a0)],'memory':document[_0x295685(0x360)](_0x295685(0x49c))[_0x295685(0x1a0)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x295685(0x360)](_0x295685(0xbc4))[_0x295685(0x1a0)]};try{const _0x413856=doc(db,_0x295685(0x944)+appId+_0x295685(0x4e6),currentBlueprintProjectId),_0x2b537b=doc(db,_0x295685(0x944)+appId+_0x295685(0xcda)+currentBlueprintProjectId+_0x295685(0x46d),_0x229f82),_0x30694b=writeBatch(db);_0x30694b[_0x295685(0xb68)](_0x2b537b,{'content':_0x1ae0ab}),_0x30694b['update'](_0x413856,{[_0x295685(0x65a)+_0x229f82+_0x295685(0x796)]:_0x295685(0x690)}),await _0x30694b[_0x295685(0xb69)](),console[_0x295685(0xced)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x229f82+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x530584){console[_0x295685(0x537)](_0x295685(0x6f5),_0x530584);}}}},0x3e8);}function displayHalfMarkResult(_0x48c7f8,_0x30652f){const _0x20982f=_0x18fcf7,_0x3b3724=_0x48c7f8>=_0x30652f/0x2,_0x3745cc=_0x3b3724?_0x20982f(0x886):'bg-red-100',_0x24cff7=_0x3b3724?_0x20982f(0xba7):_0x20982f(0xc30),_0x27839a=_0x3b3724?_0x20982f(0x1c7):_0x20982f(0xa4a),_0x17b213=_0x3b3724?_0x20982f(0x4d8):_0x20982f(0x934),_0x5052f6=_0x3b3724?_0x20982f(0xb70):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x3ca8c9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x3745cc+_0x20982f(0xa60)+_0x24cff7+_0x20982f(0x761)+_0x27839a+_0x20982f(0x204)+_0x17b213+_0x20982f(0x870)+_0x5052f6+_0x20982f(0x15a);studentResultArea[_0x20982f(0x1a0)]=_0x3ca8c9,studentResultArea[_0x20982f(0x5a1)]['remove'](_0x20982f(0x29e)),studentQuizArea['classList'][_0x20982f(0x1f5)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x3b3724});}function displayPerfectScoreResult(_0x4a1517,_0x64fc29){const _0x41a54f=_0x18fcf7,_0x49d9a6=_0x4a1517===_0x64fc29,_0x3927fd=_0x49d9a6?_0x41a54f(0x594):'bg-blue-100',_0x793587=_0x49d9a6?_0x41a54f(0xd06):_0x41a54f(0x5c1),_0x1120ee=_0x49d9a6?'text-yellow-800':_0x41a54f(0x37c),_0x57b27c=_0x49d9a6?_0x41a54f(0x660):_0x41a54f(0x258),_0x1ff6a8=_0x49d9a6?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x41a54f(0x860);let _0x47f81e=_0x41a54f(0x148)+_0x3927fd+_0x41a54f(0xa60)+_0x793587+_0x41a54f(0x761)+_0x1120ee+'\x20mb-2\x22>'+_0x57b27c+_0x41a54f(0x870)+_0x1ff6a8+_0x41a54f(0x15a);studentResultArea[_0x41a54f(0x1a0)]=_0x47f81e,studentResultArea[_0x41a54f(0x5a1)][_0x41a54f(0xbee)](_0x41a54f(0x29e)),studentQuizArea[_0x41a54f(0x5a1)][_0x41a54f(0x1f5)](_0x41a54f(0x29e)),setupResultScreenBackButton({'showRankings':![],'score':_0x4a1517,'totalQuestions':_0x64fc29});}function renderIndividualComparisonTable(_0x49e5ae,_0x1673b1){const _0x372e73=_0x18fcf7;_0x49e5ae['sort']((_0x5db127,_0x4d59ca)=>(_0x4d59ca['tGain']??-Infinity)-(_0x5db127['tGain']??-Infinity));let _0x409aef=_0x372e73(0x5b7);_0x49e5ae['length']===0x0?_0x409aef+=_0x372e73(0x18b):_0x49e5ae[_0x372e73(0xc92)]((_0x4d049a,_0x155b05)=>{const _0x1476fb=_0x372e73;let _0xe7ab5a='-',_0x54f0a2='';if(_0x4d049a[_0x1476fb(0x5ba)]!==null){const _0x3d4059=_0x4d049a[_0x1476fb(0x5ba)]>0x0?'text-green-600':_0x4d049a[_0x1476fb(0x5ba)]<0x0?_0x1476fb(0x3bc):_0x1476fb(0x7a6),_0x361018=_0x4d049a[_0x1476fb(0x5ba)]>0x0?'+':'';_0xe7ab5a='<span\x20class=\x22font-bold\x20'+_0x3d4059+'\x22>'+_0x361018+_0x4d049a[_0x1476fb(0x5ba)]+_0x1476fb(0x3c6);if(_0x4d049a[_0x1476fb(0x5ba)]>0x0)_0x54f0a2='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x4d049a[_0x1476fb(0x5ba)]<0x0?_0x54f0a2=_0x1476fb(0x590):_0x54f0a2=_0x1476fb(0x393);}let _0x1cb09f='-';if(_0x4d049a['tGain']!==null){const _0x43799d=_0x4d049a['tGain']>0x0?_0x1476fb(0x17b):_0x4d049a[_0x1476fb(0x25e)]<0x0?'text-red-600':_0x1476fb(0x7a6),_0x407169=_0x4d049a['tGain']>0x0?'+':'';_0x1cb09f=_0x1476fb(0x57f)+_0x43799d+'\x22>'+_0x407169+_0x4d049a['tGain'][_0x1476fb(0x8ac)](0x2)+_0x1476fb(0x3c6);}_0x409aef+=_0x1476fb(0x888)+(_0x155b05+0x1)+_0x1476fb(0x3e1)+_0x4d049a[_0x1476fb(0x3d8)]+_0x1476fb(0x5a2)+(_0x4d049a[_0x1476fb(0x9ed)]??'-')+_0x1476fb(0xaf9)+(_0x4d049a[_0x1476fb(0x715)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0xe7ab5a+_0x1476fb(0x5d2)+_0x54f0a2+_0x1476fb(0x8d4)+(_0x4d049a[_0x1476fb(0x1bc)]?.[_0x1476fb(0x8ac)](0x2)??'-')+_0x1476fb(0xc8b)+(_0x4d049a[_0x1476fb(0xbb5)]?.[_0x1476fb(0x8ac)](0x2)??'-')+_0x1476fb(0x5a2)+_0x1cb09f+_0x1476fb(0x8d3);}),_0x409aef+=_0x372e73(0x90b),_0x1673b1[_0x372e73(0x1a0)]=_0x409aef;}function handleRenameQuiz(_0x256097,_0x201612){const _0x4a2597=_0x18fcf7;actionTargetId=_0x256097,document[_0x4a2597(0x360)](_0x4a2597(0x5c9))[_0x4a2597(0x1db)]=_0x201612,renameQuizModal[_0x4a2597(0x5a1)][_0x4a2597(0xbee)](_0x4a2597(0x29e));}function setupComparisonModalTabs(){const _0x47a3af=_0x18fcf7,_0x28580a=document[_0x47a3af(0x360)](_0x47a3af(0x1df)),_0xf60cf9=document[_0x47a3af(0x360)]('comparison-individual-tab'),_0x5d698d=document['getElementById'](_0x47a3af(0xcbb)),_0x2418cb=document[_0x47a3af(0x360)]('comparison-individual-content');_0x28580a[_0x47a3af(0x616)]('click',()=>{const _0x951de5=_0x47a3af;_0x28580a['classList']['add'](_0x951de5(0x455)),_0xf60cf9[_0x951de5(0x5a1)]['remove'](_0x951de5(0x455)),_0x5d698d[_0x951de5(0x5a1)][_0x951de5(0xbee)]('hidden'),_0x2418cb[_0x951de5(0x5a1)][_0x951de5(0x1f5)](_0x951de5(0x29e));}),_0xf60cf9[_0x47a3af(0x616)](_0x47a3af(0xc47),()=>{const _0x3d469f=_0x47a3af;_0xf60cf9[_0x3d469f(0x5a1)][_0x3d469f(0x1f5)](_0x3d469f(0x455)),_0x28580a[_0x3d469f(0x5a1)][_0x3d469f(0xbee)](_0x3d469f(0x455)),_0x2418cb[_0x3d469f(0x5a1)][_0x3d469f(0xbee)](_0x3d469f(0x29e)),_0x5d698d[_0x3d469f(0x5a1)][_0x3d469f(0x1f5)](_0x3d469f(0x29e));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x2df1bb=_0x18fcf7;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x58790d=doc(db,_0x2df1bb(0x944)+appId+_0x2df1bb(0x68b),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x58790d,_0x33d6cf=>{const _0x2a69ca=_0x2df1bb;if(!_0x33d6cf[_0x2a69ca(0x815)]()){showMessage('เกมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x2a69ca(0x6b8)):showView('student');return;}const _0x144cda=_0x33d6cf[_0x2a69ca(0x9e7)]();_0x144cda[_0x2a69ca(0xa5a)]&&(currentQuizData=_0x144cda[_0x2a69ca(0xa5a)]);!currentQuizData&&_0x144cda[_0x2a69ca(0x30a)]&&((async()=>{const _0x21d9ab=_0x2a69ca;try{const _0x23212d=doc(db,_0x21d9ab(0x944)+appId+_0x21d9ab(0x46a),_0x144cda[_0x21d9ab(0x30a)]),_0x2fd8e3=await getDoc(_0x23212d);_0x2fd8e3['exists']()&&(currentQuizData={'id':_0x2fd8e3['id'],..._0x2fd8e3[_0x21d9ab(0x9e7)]()});}catch(_0x1682dd){console[_0x21d9ab(0x537)](_0x21d9ab(0xab3),_0x1682dd);}})());switch(_0x144cda[_0x2a69ca(0x23b)]){case'lobby':if(currentMode==='admin'){const _0x3810bf=_0x144cda[_0x2a69ca(0x326)]?Object[_0x2a69ca(0xccb)](_0x144cda[_0x2a69ca(0x326)]):[],_0x5bb176=_0x3810bf[_0x2a69ca(0x2bb)](([_0x373db8,_0x216c9b])=>_0x216c9b[_0x2a69ca(0x23b)]==='active'),_0x5531a4=document[_0x2a69ca(0x360)]('player-count');if(_0x5531a4)_0x5531a4[_0x2a69ca(0x946)]=_0x5bb176[_0x2a69ca(0x633)];const _0x24c2d3=document[_0x2a69ca(0x360)]('player-list-lobby');_0x24c2d3&&(_0x24c2d3[_0x2a69ca(0x1a0)]=_0x5bb176[_0x2a69ca(0x985)](([_0x387083,_0x26e8c9])=>_0x2a69ca(0x7ac)+_0x387083+_0x2a69ca(0x343)+_0x387083+_0x2a69ca(0xc53))[_0x2a69ca(0x155)](''));const _0x571c35=document[_0x2a69ca(0x360)](_0x2a69ca(0x6ef));_0x571c35&&(_0x571c35[_0x2a69ca(0xa78)]=_0x5bb176[_0x2a69ca(0x633)]===0x0);}else showView('live-game'),liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0x2a69ca(0xc37);break;case _0x2a69ca(0x13f):const _0x4e6fb5=_0x144cda[_0x2a69ca(0xa20)];if(currentQuizData&&currentQuizData[_0x2a69ca(0x3b7)][_0x4e6fb5]){const _0x485131=currentQuizData['questions'][_0x4e6fb5],_0x52d78c=_0x144cda['questionStatus']||'answering';switch(_0x52d78c){case _0x2a69ca(0xcd5):currentMode===_0x2a69ca(0x252)?showAdminSummaryView(_0x144cda,_0x485131):showPlayerSummaryView(_0x144cda,currentStudentName);break;case _0x2a69ca(0x52b):currentMode===_0x2a69ca(0x252)&&showTop5LeaderboardView(_0x144cda);break;case _0x2a69ca(0xbef):default:if(currentMode===_0x2a69ca(0x252)){const _0x117d58=writeBatch(db);let _0x4e61e4=![];Object[_0x2a69ca(0xccb)](_0x144cda[_0x2a69ca(0x326)])[_0x2a69ca(0xc92)](([_0xf7e36,_0x5d4c46])=>{const _0x221c68=_0x2a69ca;if(_0x5d4c46[_0x221c68(0x23b)]===_0x221c68(0x455)&&_0x5d4c46['submittedAt']&&!_0x5d4c46[_0x221c68(0x7f7)]){_0x4e61e4=!![];const _0x216bf7=_0x5d4c46[_0x221c68(0xcab)]['toDate']()-_0x144cda['questionDisplayedAt'][_0x221c68(0x495)]();let _0x444976=0x0;if(_0x5d4c46[_0x221c68(0xad3)]){const _0x149435=0x3e8,_0x9d385c=0x1f4,_0x3774b9=0x4e20;let _0x2b0d3c=_0x216bf7/_0x3774b9;if(_0x2b0d3c>0x1)_0x2b0d3c=0x1;const _0x5d7bca=Math[_0x221c68(0xa8d)](_0x2b0d3c*_0x9d385c);_0x444976=_0x149435-_0x5d7bca;}const _0x576684=doc(db,_0x221c68(0x944)+appId+_0x221c68(0x68b),currentLiveGameId);_0x117d58[_0x221c68(0xc50)](_0x576684,{[_0x221c68(0xc41)+_0xf7e36+'.score']:increment(_0x444976),['players.'+_0xf7e36+_0x221c68(0x3b9)]:_0x444976,['players.'+_0xf7e36+_0x221c68(0x344)]:!![]});}});_0x4e61e4&&_0x117d58[_0x2a69ca(0xb69)]()[_0x2a69ca(0x8cc)](_0x24d8b1=>console['error']('Error\x20committing\x20score\x20updates:',_0x24d8b1));lastRenderedAdminQuestionIndex!==_0x4e6fb5&&(showAdminLiveQuestionView(_0x485131,_0x4e6fb5,currentQuizData[_0x2a69ca(0x3b7)][_0x2a69ca(0x633)]),lastRenderedAdminQuestionIndex=_0x4e6fb5);const _0x4a9de3=_0x144cda[_0x2a69ca(0x326)]||{},_0x184e9b=Object['values'](_0x4a9de3)[_0x2a69ca(0x2bb)](_0x1eb396=>_0x1eb396[_0x2a69ca(0x23b)]==='active'),_0x41a12=_0x184e9b[_0x2a69ca(0x633)],_0x40bcd2=_0x184e9b[_0x2a69ca(0x2bb)](_0x4f4023=>_0x4f4023[_0x2a69ca(0x444)]===!![])[_0x2a69ca(0x633)],_0x4da192=document['getElementById'](_0x2a69ca(0xbfc));if(_0x4da192)_0x4da192[_0x2a69ca(0x946)]=_0x40bcd2+'/'+_0x41a12;const _0x54f756=document[_0x2a69ca(0x360)](_0x2a69ca(0x703));if(_0x54f756){let _0x237885=Object[_0x2a69ca(0xccb)](_0x4a9de3)[_0x2a69ca(0x2bb)](([_0x59c9e1,_0x24aa95])=>_0x24aa95['status']===_0x2a69ca(0x455))['map'](([_0x1d0ded,_0x530b62])=>{const _0x38151f=_0x2a69ca,_0x4cbcd5=_0x530b62[_0x38151f(0x444)]===!![],_0x263c14=_0x4cbcd5?'bg-green-500':'bg-gray-500',_0x567a35=_0x4cbcd5?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x38151f(0x2eb);return _0x38151f(0x6dd)+_0x263c14+_0x38151f(0x87b)+_0x567a35+_0x38151f(0x4ae)+_0x1d0ded+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x1d0ded+_0x38151f(0xcd2);})[_0x2a69ca(0x155)]('');_0x54f756['innerHTML']=_0x237885||_0x2a69ca(0xad9);}_0x41a12>0x0&&_0x40bcd2===_0x41a12&&revealAnswerForAdmin(_0x4e6fb5,currentQuizData['questions'][_0x2a69ca(0x633)]);}else{const _0x472f39=_0x144cda[_0x2a69ca(0x326)][currentStudentName];_0x472f39&&!_0x472f39[_0x2a69ca(0x444)]&&showStudentLiveQuestionView(_0x485131,_0x4e6fb5,currentQuizData['questions'][_0x2a69ca(0x633)]);}break;}}break;case _0x2a69ca(0x394):showPodiumView(_0x144cda[_0x2a69ca(0x326)],'live-race');break;}});}async function openGlobalActivityModal(){const _0x32d529=_0x18fcf7;if(allQuizzesGlobal['length']===0x0){const _0x1811e5=await getDocs(collection(db,'artifacts/'+appId+_0x32d529(0x46a)));allQuizzesGlobal=_0x1811e5[_0x32d529(0x8d0)]['map'](_0x5d5313=>({'id':_0x5d5313['id'],..._0x5d5313[_0x32d529(0x9e7)]()}));}renderGlobalActivityList(''),document['getElementById'](_0x32d529(0x234))['classList'][_0x32d529(0xbee)](_0x32d529(0x29e));}function renderGlobalActivityList(_0x3bcddc=''){const _0xdcfa23=_0x18fcf7,_0x1d10b6=document[_0xdcfa23(0x360)]('global-activity-quiz-list'),_0x38121d=_0x3bcddc[_0xdcfa23(0xc54)]()['trim'](),_0x3056ca=allQuizzesGlobal['map'](_0x1be1b5=>({..._0x1be1b5,'projectName':allProjects[_0xdcfa23(0x64b)](_0x3ca080=>_0x3ca080['id']===_0x1be1b5['projectId'])?.[_0xdcfa23(0x8f5)]||'N/A'}))[_0xdcfa23(0x2bb)](_0x465813=>(_0x465813[_0xdcfa23(0x94f)]||'')[_0xdcfa23(0xc54)]()[_0xdcfa23(0xba6)](_0x38121d)||(_0x465813[_0xdcfa23(0x8f5)]||'')[_0xdcfa23(0xc54)]()[_0xdcfa23(0xba6)](_0x38121d));document[_0xdcfa23(0x360)](_0xdcfa23(0x50b))['textContent']='('+_0x3056ca[_0xdcfa23(0x633)]+_0xdcfa23(0xa0f),_0x1d10b6[_0xdcfa23(0x1a0)]=_0x3056ca[_0xdcfa23(0x633)]?_0x3056ca[_0xdcfa23(0x985)](_0x1597c8=>_0xdcfa23(0xa36)+(_0x1597c8['topic']||'(ไม่มีชื่อ)')+_0xdcfa23(0x90d)+(_0x1597c8[_0xdcfa23(0x3b7)]?.[_0xdcfa23(0x633)]||0x0)+_0xdcfa23(0x1ec)+_0x1597c8[_0xdcfa23(0x8f5)]+_0xdcfa23(0x76b)+_0x1597c8['id']+'\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1597c8['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1597c8['id']+_0xdcfa23(0x75a)+_0x1597c8['id']+_0xdcfa23(0x6d3))[_0xdcfa23(0x155)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0x3650fe){const _0x1a03b7=_0x18fcf7;if(!currentLiveGameId||!_0x3650fe)return;const _0x412ab7=doc(db,'artifacts/'+appId+_0x1a03b7(0x68b),currentLiveGameId),_0x1b9213={};_0x1b9213['players.'+_0x3650fe+_0x1a03b7(0x796)]=_0x1a03b7(0x565);try{await updateDoc(_0x412ab7,_0x1b9213);}catch(_0x114c48){console[_0x1a03b7(0x537)](_0x1a03b7(0x81a)+_0x3650fe+':',_0x114c48),showMessage(_0x1a03b7(0xa70));}}async function authenticateUser(){const _0x219e38=_0x18fcf7;try{typeof __initial_auth_token!==_0x219e38(0x34d)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x560b13){console[_0x219e38(0x537)](_0x219e38(0x64d),_0x560b13),showMessage(_0x219e38(0x834));}}function showView(_0x4b948e){const _0x380e9c=_0x18fcf7;adminView[_0x380e9c(0x5a1)][_0x380e9c(0x1f5)](_0x380e9c(0x29e)),studentView['classList']['add']('hidden'),projectDashboardView[_0x380e9c(0x5a1)][_0x380e9c(0x1f5)]('hidden'),projectDetailView[_0x380e9c(0x5a1)]['add'](_0x380e9c(0x29e)),quizResultsView[_0x380e9c(0x5a1)][_0x380e9c(0x1f5)](_0x380e9c(0x29e)),liveGameView[_0x380e9c(0x5a1)][_0x380e9c(0x1f5)](_0x380e9c(0x29e)),document[_0x380e9c(0x360)](_0x380e9c(0xae9))[_0x380e9c(0x5a1)][_0x380e9c(0x1f5)](_0x380e9c(0x29e)),studentInitialView[_0x380e9c(0x5a1)]['add'](_0x380e9c(0x29e)),studentJoinGameView[_0x380e9c(0x5a1)][_0x380e9c(0x1f5)]('hidden'),studentNameSelectionView['classList'][_0x380e9c(0x1f5)]('hidden'),studentQuizArea[_0x380e9c(0x5a1)][_0x380e9c(0x1f5)](_0x380e9c(0x29e)),studentResultArea['classList'][_0x380e9c(0x1f5)](_0x380e9c(0x29e)),studentReadingArea[_0x380e9c(0x5a1)][_0x380e9c(0x1f5)]('hidden');const _0x385940=document['getElementById']('student-team-selection-view'),_0x46c988=document['getElementById']('student-progress-view');if(_0x385940)_0x385940[_0x380e9c(0x5a1)][_0x380e9c(0x1f5)](_0x380e9c(0x29e));if(_0x46c988)_0x46c988[_0x380e9c(0x5a1)][_0x380e9c(0x1f5)](_0x380e9c(0x29e));switch(_0x4b948e){case _0x380e9c(0xc49):adminView[_0x380e9c(0x5a1)][_0x380e9c(0xbee)](_0x380e9c(0x29e)),projectDashboardView[_0x380e9c(0x5a1)][_0x380e9c(0xbee)](_0x380e9c(0x29e));break;case _0x380e9c(0x6b8):adminView[_0x380e9c(0x5a1)][_0x380e9c(0xbee)](_0x380e9c(0x29e)),projectDetailView[_0x380e9c(0x5a1)][_0x380e9c(0xbee)]('hidden');break;case _0x380e9c(0x1a7):adminView[_0x380e9c(0x5a1)][_0x380e9c(0xbee)](_0x380e9c(0x29e)),quizResultsView['classList'][_0x380e9c(0xbee)](_0x380e9c(0x29e));break;case'student':studentView[_0x380e9c(0x5a1)][_0x380e9c(0xbee)](_0x380e9c(0x29e)),studentInitialView[_0x380e9c(0x5a1)]['remove'](_0x380e9c(0x29e));break;case _0x380e9c(0xa33):liveGameView[_0x380e9c(0x5a1)][_0x380e9c(0xbee)](_0x380e9c(0x29e));break;case'student-team-join':studentView[_0x380e9c(0x5a1)][_0x380e9c(0xbee)](_0x380e9c(0x29e));if(_0x385940)_0x385940[_0x380e9c(0x5a1)][_0x380e9c(0xbee)](_0x380e9c(0x29e));break;case _0x380e9c(0x483):studentView[_0x380e9c(0x5a1)][_0x380e9c(0xbee)](_0x380e9c(0x29e));if(_0x46c988)_0x46c988[_0x380e9c(0x5a1)][_0x380e9c(0xbee)](_0x380e9c(0x29e));break;default:studentView[_0x380e9c(0x5a1)]['remove'](_0x380e9c(0x29e)),studentInitialView[_0x380e9c(0x5a1)][_0x380e9c(0xbee)](_0x380e9c(0x29e));break;}}function showJoinGameView(){const _0x5071ae=_0x18fcf7;studentInitialView['classList'][_0x5071ae(0x1f5)](_0x5071ae(0x29e)),studentJoinGameView[_0x5071ae(0x5a1)][_0x5071ae(0xbee)](_0x5071ae(0x29e));}async function handleSaveVisibilitySettings(){const _0x23e00f=_0x18fcf7;if(!currentProjectId)return;const _0x5775e4=doc(db,_0x23e00f(0x944)+appId+_0x23e00f(0x382),currentProjectId);try{await updateDoc(_0x5775e4,{'settings.showInStudentDashboard':document['getElementById'](_0x23e00f(0x304))[_0x23e00f(0x5fc)],'settings.isPasscodeEnabled':document[_0x23e00f(0x360)](_0x23e00f(0x2ae))[_0x23e00f(0x5fc)],'settings.passcode':document[_0x23e00f(0x360)]('project-passcode-input')['value']['trim']()}),showMessage(_0x23e00f(0x6fc));}catch(_0x1bcc4b){console['error'](_0x23e00f(0x918),_0x1bcc4b),showMessage(_0x23e00f(0xc70));}}function setupEventListeners(){const _0x205123=_0x18fcf7,_0x6b5a81=document[_0x205123(0x360)](_0x205123(0xbaf));_0x6b5a81&&(_0x6b5a81[_0x205123(0x616)](_0x205123(0x5c8),wakeUpScreen),_0x6b5a81[_0x205123(0x616)]('touchstart',wakeUpScreen));document['getElementById'](_0x205123(0x214))['addEventListener'](_0x205123(0xc47),async()=>{const _0x20702e=_0x205123;if(!currentBlueprintProjectId)return;const _0x2ceeb8=document[_0x20702e(0x360)](_0x20702e(0x1a1))[_0x20702e(0x1db)][_0x20702e(0x665)](),_0x1054c0=doc(db,'artifacts/'+appId+_0x20702e(0x4e6),currentBlueprintProjectId);try{await updateDoc(_0x1054c0,{'referenceFileUrl':_0x2ceeb8}),showMessage(_0x20702e(0x6fe));}catch(_0x155e5b){console[_0x20702e(0x537)](_0x20702e(0x867),_0x155e5b),showMessage(_0x20702e(0xc70));}}),document['getElementById'](_0x205123(0x41d))[_0x205123(0x616)]('click',handleAddParallelShortcutTab),document[_0x205123(0x360)](_0x205123(0xc76))[_0x205123(0x616)]('click',_0x3e5494=>{const _0x3cb938=_0x205123;_0x3e5494[_0x3cb938(0x357)][_0x3cb938(0x3ed)](_0x3cb938(0x2b5))&&(activeParallelShortcutTabId=_0x3cb938(0x9b3),renderAdditionalParallelShortcutsModal(),document['getElementById'](_0x3cb938(0x1a6))[_0x3cb938(0x5a1)][_0x3cb938(0xbee)]('hidden'));}),document[_0x205123(0x360)]('close-additional-parallel-shortcuts-btn')['addEventListener']('click',()=>{const _0x23ac50=_0x205123;document['getElementById'](_0x23ac50(0x1a6))[_0x23ac50(0x5a1)]['add'](_0x23ac50(0x29e));}),document['addEventListener'](_0x205123(0xc47),_0x1956d1=>{const _0x5d29be=_0x205123;!_0x1956d1[_0x5d29be(0x357)][_0x5d29be(0x3ed)](_0x5d29be(0x431))&&document[_0x5d29be(0x801)](_0x5d29be(0x861))[_0x5d29be(0xc92)](_0x4d0290=>_0x4d0290[_0x5d29be(0x5a1)][_0x5d29be(0x1f5)]('hidden'));}),document['getElementById'](_0x205123(0x96a))[_0x205123(0x616)](_0x205123(0xc47),handleAddFileShortcutTab),document[_0x205123(0x360)](_0x205123(0x8e6))[_0x205123(0x616)](_0x205123(0xc47),_0x52939f=>{const _0x4b79c1=_0x205123;_0x52939f[_0x4b79c1(0x357)][_0x4b79c1(0x3ed)]('#open-additional-file-shortcuts-btn')&&(activeFileShortcutTabId=_0x4b79c1(0x9b3),renderAdditionalFileShortcutsModal(),document[_0x4b79c1(0x360)](_0x4b79c1(0xba9))[_0x4b79c1(0x5a1)][_0x4b79c1(0xbee)](_0x4b79c1(0x29e)));}),document['getElementById'](_0x205123(0x301))[_0x205123(0x616)]('click',()=>{const _0x51943d=_0x205123;document[_0x51943d(0x360)]('additional-file-shortcuts-modal')[_0x51943d(0x5a1)]['add'](_0x51943d(0x29e));}),document[_0x205123(0x616)](_0x205123(0xc47),_0x53e234=>{const _0x411738=_0x205123;!_0x53e234[_0x411738(0x357)]['closest'](_0x411738(0x465))&&document[_0x411738(0x801)](_0x411738(0xbfd))[_0x411738(0xc92)](_0x2ce78a=>_0x2ce78a[_0x411738(0x5a1)][_0x411738(0x1f5)](_0x411738(0x29e)));}),document[_0x205123(0x360)](_0x205123(0xc88))[_0x205123(0x616)](_0x205123(0xc47),handleAddShortcutTab),document['getElementById'](_0x205123(0xc8f))[_0x205123(0x616)](_0x205123(0xc47),_0x27dd77=>{const _0x10b232=_0x205123,_0x426bc1=_0x27dd77[_0x10b232(0x357)][_0x10b232(0x3ed)]('.parallel-shortcut-btn'),_0x20306c=_0x27dd77[_0x10b232(0x357)][_0x10b232(0x3ed)](_0x10b232(0x488)),_0x5bd945=_0x27dd77['target'][_0x10b232(0x3ed)](_0x10b232(0x2c4));if(_0x20306c)openParallelTestShortcutEditor(_0x20306c['dataset']['id']);else{if(_0x5bd945){const _0x1eed35=_0x5bd945['dataset']['id'];showConfirmation(_0x10b232(0xb88),async()=>{const _0x559bd0=_0x10b232,_0x546450=parallelTestShortcuts[_0x559bd0(0x2bb)](_0x1c5cc8=>_0x1c5cc8['id']!==_0x1eed35),_0x4ff368=doc(db,_0x559bd0(0xa24),_0x559bd0(0x4dc));await setDoc(_0x4ff368,{'shortcuts':_0x546450},{'merge':!![]});});}else _0x426bc1&&handleParallelTestShortcutClick(_0x426bc1[_0x10b232(0x9d2)]['id']);}}),document[_0x205123(0x360)](_0x205123(0x6da))[_0x205123(0x616)](_0x205123(0xc47),()=>openParallelTestShortcutEditor(null)),document['getElementById'](_0x205123(0x4b4))[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x6c5a85=_0x205123;document['getElementById'](_0x6c5a85(0x9fa))[_0x6c5a85(0x5a1)][_0x6c5a85(0x1f5)]('hidden');}),document[_0x205123(0x360)](_0x205123(0xb59))[_0x205123(0x616)](_0x205123(0xc47),saveParallelTestShortcutChanges),document['getElementById'](_0x205123(0xc76))[_0x205123(0x616)](_0x205123(0xc47),_0x180a18=>{const _0x39505c=_0x205123;_0x180a18[_0x39505c(0x357)]['closest'](_0x39505c(0x2b5))&&document[_0x39505c(0x360)](_0x39505c(0x1a6))['classList'][_0x39505c(0xbee)](_0x39505c(0x29e));}),document['getElementById'](_0x205123(0x247))[_0x205123(0x616)]('click',()=>{const _0x16c9ed=_0x205123;document[_0x16c9ed(0x360)](_0x16c9ed(0x1a6))[_0x16c9ed(0x5a1)][_0x16c9ed(0x1f5)](_0x16c9ed(0x29e));}),document[_0x205123(0x360)]('additional-parallel-shortcuts-list')[_0x205123(0x616)](_0x205123(0xc47),_0x45e530=>{const _0x1c956e=_0x205123,_0x192464=document['getElementById'](_0x1c956e(0x1a6)),_0x50e6a2=_0x45e530[_0x1c956e(0x357)][_0x1c956e(0x3ed)](_0x1c956e(0xa3f)),_0x4676b4=_0x45e530[_0x1c956e(0x357)]['closest'](_0x1c956e(0x7f4)),_0x28b9e2=_0x45e530[_0x1c956e(0x357)]['closest'](_0x1c956e(0xb87));if(_0x50e6a2)_0x192464[_0x1c956e(0x5a1)][_0x1c956e(0x1f5)](_0x1c956e(0x29e)),handleParallelTestShortcutClick(_0x50e6a2[_0x1c956e(0x9d2)]['id']);else{if(_0x4676b4)_0x192464['classList'][_0x1c956e(0x1f5)](_0x1c956e(0x29e)),openParallelTestShortcutEditor(_0x4676b4[_0x1c956e(0x9d2)]['id']);else{if(_0x28b9e2){const _0x39c6d0=_0x28b9e2['dataset']['id'];showConfirmation(_0x1c956e(0xb88),async()=>{const _0xf7b26a=_0x1c956e,_0x2c56a2=parallelTestShortcuts[_0xf7b26a(0x2bb)](_0x3e64e7=>_0x3e64e7['id']!==_0x39c6d0),_0x16eb19=doc(db,_0xf7b26a(0xa24),_0xf7b26a(0x4dc));await setDoc(_0x16eb19,{'shortcuts':_0x2c56a2},{'merge':!![]});});}}}}),document[_0x205123(0x360)]('file-shortcut-container')['addEventListener'](_0x205123(0xc47),_0x4e14b7=>{const _0x50abf5=_0x205123,_0x37daae=_0x4e14b7[_0x50abf5(0x357)]['closest'](_0x50abf5(0x619)),_0x5d27d7=_0x4e14b7[_0x50abf5(0x357)][_0x50abf5(0x3ed)]('.edit-file-shortcut-btn'),_0x3b24d1=_0x4e14b7['target'][_0x50abf5(0x3ed)](_0x50abf5(0xc99));if(_0x5d27d7)openFileShortcutEditor(_0x5d27d7[_0x50abf5(0x9d2)]['id']);else{if(_0x3b24d1){const _0x26cc7e=_0x3b24d1['dataset']['id'];showConfirmation(_0x50abf5(0xb88),async()=>{const _0x331862=_0x50abf5,_0x3b3f23=fileShortcuts[_0x331862(0x2bb)](_0x4a5181=>_0x4a5181['id']!==_0x26cc7e),_0x21b394=doc(db,'globalSettings','fileShortcutsConfig');await setDoc(_0x21b394,{'shortcuts':_0x3b3f23},{'merge':!![]});});}else _0x37daae&&handleFileShortcutClick(_0x37daae[_0x50abf5(0x9d2)]['id']);}}),document[_0x205123(0x360)](_0x205123(0x3e9))['addEventListener'](_0x205123(0xc47),()=>openFileShortcutEditor(null)),document[_0x205123(0x360)]('cancel-file-shortcut-edit-btn')['addEventListener'](_0x205123(0xc47),()=>{const _0x56e59b=_0x205123;document[_0x56e59b(0x360)]('file-shortcut-editor-modal')[_0x56e59b(0x5a1)][_0x56e59b(0x1f5)](_0x56e59b(0x29e));}),document[_0x205123(0x360)]('save-file-shortcut-btn')[_0x205123(0x616)](_0x205123(0xc47),saveFileShortcutChanges),document[_0x205123(0x360)](_0x205123(0x8e6))[_0x205123(0x616)](_0x205123(0xc47),_0x43e384=>{const _0x12c891=_0x205123;_0x43e384[_0x12c891(0x357)][_0x12c891(0x3ed)]('#open-additional-file-shortcuts-btn')&&document[_0x12c891(0x360)](_0x12c891(0xba9))['classList'][_0x12c891(0xbee)](_0x12c891(0x29e));}),document['getElementById']('close-additional-file-shortcuts-btn')[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x340ad2=_0x205123;document[_0x340ad2(0x360)](_0x340ad2(0xba9))[_0x340ad2(0x5a1)][_0x340ad2(0x1f5)](_0x340ad2(0x29e));}),document[_0x205123(0x360)](_0x205123(0x22a))[_0x205123(0x616)](_0x205123(0xc47),_0xe9fa21=>{const _0x4ce709=_0x205123,_0x5be39a=document[_0x4ce709(0x360)](_0x4ce709(0xba9)),_0x2d7ff6=_0xe9fa21[_0x4ce709(0x357)][_0x4ce709(0x3ed)]('.use-hidden-file-shortcut-btn'),_0x30f811=_0xe9fa21[_0x4ce709(0x357)][_0x4ce709(0x3ed)]('.edit-hidden-file-shortcut-btn'),_0x14fa86=_0xe9fa21[_0x4ce709(0x357)]['closest'](_0x4ce709(0xa00));if(_0x2d7ff6)_0x5be39a['classList']['add'](_0x4ce709(0x29e)),handleFileShortcutClick(_0x2d7ff6[_0x4ce709(0x9d2)]['id']);else{if(_0x30f811)_0x5be39a[_0x4ce709(0x5a1)][_0x4ce709(0x1f5)](_0x4ce709(0x29e)),openFileShortcutEditor(_0x30f811[_0x4ce709(0x9d2)]['id']);else{if(_0x14fa86){const _0x130374=_0x14fa86[_0x4ce709(0x9d2)]['id'];showConfirmation(_0x4ce709(0xb88),async()=>{const _0x296313=_0x4ce709,_0x512e20=fileShortcuts['filter'](_0x260319=>_0x260319['id']!==_0x130374),_0xede76e=doc(db,_0x296313(0xa24),_0x296313(0x15b));await setDoc(_0xede76e,{'shortcuts':_0x512e20},{'merge':!![]});});}}}}),document[_0x205123(0x360)](_0x205123(0xc71))[_0x205123(0x616)](_0x205123(0xc47),_0x74a8ad=>{const _0x11c57b=_0x205123;_0x74a8ad[_0x11c57b(0x357)][_0x11c57b(0x3ed)]('#open-additional-shortcuts-btn')&&(activeShortcutTabId=_0x11c57b(0x9b3),renderAdditionalShortcutsModal(),document[_0x11c57b(0x360)](_0x11c57b(0x37f))[_0x11c57b(0x5a1)][_0x11c57b(0xbee)](_0x11c57b(0x29e)));}),document[_0x205123(0x360)](_0x205123(0x74d))[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x930bbc=_0x205123;document[_0x930bbc(0x360)](_0x930bbc(0x37f))[_0x930bbc(0x5a1)]['add'](_0x930bbc(0x29e));}),document[_0x205123(0x360)](_0x205123(0xc17))[_0x205123(0x616)](_0x205123(0xc47),_0x205b2c=>{const _0x188d30=_0x205123,_0x40e417=_0x205b2c['target']['closest']('.use-hidden-shortcut-btn'),_0x3eab78=_0x205b2c[_0x188d30(0x357)][_0x188d30(0x3ed)](_0x188d30(0x515)),_0x40517c=_0x205b2c[_0x188d30(0x357)]['closest'](_0x188d30(0x533)),_0x30921a=document[_0x188d30(0x360)](_0x188d30(0x37f));if(_0x40e417)_0x30921a[_0x188d30(0x5a1)]['add'](_0x188d30(0x29e)),handleShortcutClick(_0x40e417['dataset']['id']);else{if(_0x3eab78)_0x30921a[_0x188d30(0x5a1)][_0x188d30(0x1f5)]('hidden'),openShortcutEditor(_0x3eab78[_0x188d30(0x9d2)]['id']);else{if(_0x40517c){const _0x580a9f=_0x40517c[_0x188d30(0x9d2)]['id'],_0xc5e77=blueprintShortcuts[_0x188d30(0x64b)](_0x1acf2d=>_0x1acf2d['id']===_0x580a9f)?.[_0x188d30(0x3d8)];showConfirmation(_0x188d30(0x3a9)+_0xc5e77+'\x22?',async()=>{const _0x2331fd=_0x188d30,_0x53d6cd=blueprintShortcuts['filter'](_0x119339=>_0x119339['id']!==_0x580a9f);try{const _0x33f4a4=doc(db,'globalSettings','dashboardConfig');await setDoc(_0x33f4a4,{'blueprintShortcuts':_0x53d6cd},{'merge':!![]});}catch(_0x26c228){console['error'](_0x2331fd(0x87d),_0x26c228);}});}}}}),document[_0x205123(0x360)](_0x205123(0xc4d))[_0x205123(0x616)]('click',_0x1ac06a=>{const _0x220e8a=_0x205123,_0x2b7aa3=_0x1ac06a['target']['closest']('.shortcut-btn'),_0x4bb494=_0x1ac06a[_0x220e8a(0x357)][_0x220e8a(0x3ed)](_0x220e8a(0x5dc)),_0x1a07bd=_0x1ac06a['target'][_0x220e8a(0x3ed)](_0x220e8a(0x708));if(_0x4bb494)openShortcutEditor(_0x4bb494[_0x220e8a(0x9d2)]['id']);else{if(_0x1a07bd){const _0x570c40=_0x1a07bd[_0x220e8a(0x9d2)]['id'],_0x50adea=blueprintShortcuts[_0x220e8a(0x64b)](_0x56599=>_0x56599['id']===_0x570c40)?.[_0x220e8a(0x3d8)];showConfirmation(_0x220e8a(0x3a9)+_0x50adea+'\x22?',async()=>{const _0x284cce=_0x220e8a,_0x1ac7e7=blueprintShortcuts[_0x284cce(0x2bb)](_0x372121=>_0x372121['id']!==_0x570c40);try{const _0x248bba=doc(db,_0x284cce(0xa24),_0x284cce(0x4b9));await setDoc(_0x248bba,{'blueprintShortcuts':_0x1ac7e7},{'merge':!![]});}catch(_0x14ea12){console[_0x284cce(0x537)](_0x284cce(0x87d),_0x14ea12);}});}else _0x2b7aa3&&handleShortcutClick(_0x2b7aa3['dataset']['id']);}}),document['getElementById']('add-shortcut-btn')[_0x205123(0x616)]('click',()=>openShortcutEditor(null)),document[_0x205123(0x360)](_0x205123(0x596))[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x5d4c52=_0x205123;document[_0x5d4c52(0x360)](_0x5d4c52(0x597))[_0x5d4c52(0x5a1)][_0x5d4c52(0x1f5)]('hidden');}),document[_0x205123(0x360)]('save-shortcut-btn')['addEventListener'](_0x205123(0xc47),saveShortcutChanges),document[_0x205123(0x360)](_0x205123(0x757))[_0x205123(0x616)](_0x205123(0xc47),async()=>{const _0x177d45=_0x205123,_0x94421=document['getElementById'](_0x177d45(0x277)),_0x476001=document['getElementById'](_0x177d45(0xade));_0x94421['files'][_0x177d45(0x633)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x94421['files'][0x0],_0x476001[_0x177d45(0x66b)][0x0]||null):showMessage(_0x177d45(0x727));}),document[_0x205123(0x360)](_0x205123(0x877))[_0x205123(0x616)]('click',async _0x359aac=>{const _0x40d1df=_0x205123,_0x1d8b38=document[_0x40d1df(0x360)](_0x40d1df(0x877)),_0x6627b3=_0x359aac[_0x40d1df(0x357)][_0x40d1df(0x3ed)](_0x40d1df(0x7ae)),_0x563ab4=_0x359aac[_0x40d1df(0x357)][_0x40d1df(0x3ed)](_0x40d1df(0xd02)),_0x34ac73=_0x359aac[_0x40d1df(0x357)][_0x40d1df(0x3ed)](_0x40d1df(0x7c7)),_0x362224=_0x359aac[_0x40d1df(0x357)]['closest'](_0x40d1df(0x786)),_0x1f55bb=_0x359aac[_0x40d1df(0x357)]['closest'](_0x40d1df(0x57c)),_0x824b47=_0x359aac[_0x40d1df(0x357)][_0x40d1df(0x3ed)](_0x40d1df(0x91f));if(_0x6627b3){cameFromBlueprint=!![];const _0x178ed3=_0x6627b3[_0x40d1df(0x9d2)][_0x40d1df(0x30a)];showQuizDetailView(_0x178ed3),_0x1d8b38[_0x40d1df(0x5a1)]['add'](_0x40d1df(0x29e));}else{if(_0x563ab4){const _0x3c7019=_0x563ab4[_0x40d1df(0x9d2)][_0x40d1df(0x4a8)],_0x462fd6=_0x563ab4[_0x40d1df(0x9d2)][_0x40d1df(0x30a)],_0x43afa5=allQuizzesGlobal[_0x40d1df(0x64b)](_0x25cb95=>_0x25cb95['id']===_0x462fd6),_0x578205=_0x43afa5?_0x43afa5[_0x40d1df(0x94f)]:_0x40d1df(0x542);showConfirmation(_0x40d1df(0x841)+_0x578205+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x4fdca6=_0x40d1df;try{const _0x314ad5=doc(db,_0x4fdca6(0x944)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x314ad5,{[_0x4fdca6(0x65a)+_0x3c7019+_0x4fdca6(0xbfa)]:arrayRemove(_0x462fd6)}),showMessage(_0x4fdca6(0x543)),openTopicQuizBank(_0x3c7019),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5cab7c){console[_0x4fdca6(0x537)](_0x4fdca6(0x83c),_0x5cab7c),showMessage('เกิดข้อผิดพลาดในการนำแบบทดสอบออก');}});}else{if(_0x34ac73){cameFromBlueprint=!![];const _0x54a546=_0x34ac73[_0x40d1df(0x9d2)][_0x40d1df(0x30a)],_0x1eb114=allQuizzesGlobal[_0x40d1df(0x64b)](_0x3ebc95=>_0x3ebc95['id']===_0x54a546);_0x1eb114&&(startPresentation(_0x1eb114),_0x1d8b38['classList'][_0x40d1df(0x1f5)](_0x40d1df(0x29e)));}else{if(_0x362224){cameFromBlueprint=!![];const _0x41426a=_0x362224[_0x40d1df(0x9d2)][_0x40d1df(0x30a)],_0x78875d=allQuizzesGlobal[_0x40d1df(0x64b)](_0x3da624=>_0x3da624['id']===_0x41426a);_0x78875d&&(currentQuizData=_0x78875d,startAdminTest(),_0x1d8b38[_0x40d1df(0x5a1)][_0x40d1df(0x1f5)](_0x40d1df(0x29e)));}else{if(_0x1f55bb)cameFromBlueprint=!![],handleStartLiveRace(_0x1f55bb[_0x40d1df(0x9d2)][_0x40d1df(0x30a)]),_0x1d8b38[_0x40d1df(0x5a1)][_0x40d1df(0x1f5)](_0x40d1df(0x29e));else{if(_0x824b47){cameFromBlueprint=!![];const _0x28750b=_0x824b47[_0x40d1df(0x9d2)]['quizId'],_0x390aad=_0x824b47['dataset'][_0x40d1df(0x998)],_0x3879a0=allQuizzesGlobal[_0x40d1df(0x64b)](_0x336184=>_0x336184['id']===_0x28750b);_0x3879a0&&(showGameStartConfirmationModal(_0x28750b,_0x390aad,_0x3879a0['topic']),_0x1d8b38[_0x40d1df(0x5a1)][_0x40d1df(0x1f5)](_0x40d1df(0x29e)));}}}}}}}),document[_0x205123(0x360)]('manual-create-blueprint-btn')[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x84fc7=_0x205123;document['getElementById'](_0x84fc7(0xcf3))[_0x84fc7(0x5a1)][_0x84fc7(0xbee)](_0x84fc7(0x29e)),document[_0x84fc7(0x360)](_0x84fc7(0x231))[_0x84fc7(0x1db)]='',document['getElementById'](_0x84fc7(0x384))[_0x84fc7(0x1db)]='',document[_0x84fc7(0x360)]('manual-bp-content')['value']='';}),document[_0x205123(0x360)](_0x205123(0x558))['addEventListener'](_0x205123(0xc47),()=>{const _0x24042=_0x205123;document['getElementById'](_0x24042(0xcf3))[_0x24042(0x5a1)][_0x24042(0x1f5)]('hidden');}),document[_0x205123(0x360)](_0x205123(0x7e2))['addEventListener'](_0x205123(0xc47),handleManualBlueprintSave),document[_0x205123(0x360)]('cancel-bp-settings-btn')[_0x205123(0x616)](_0x205123(0xc47),()=>document['getElementById']('blueprint-settings-modal')[_0x205123(0x5a1)]['add'](_0x205123(0x29e))),document['getElementById'](_0x205123(0x2fb))[_0x205123(0x616)](_0x205123(0xc47),handleSaveBlueprintPageSettings),document[_0x205123(0x360)](_0x205123(0xc31))['addEventListener'](_0x205123(0xc47),openBlueprintQuizSettings),document['getElementById'](_0x205123(0x947))['addEventListener']('click',saveBlueprintProject),document[_0x205123(0x360)]('open-blueprint-projects-btn')[_0x205123(0x616)]('click',showBlueprintProjects),document[_0x205123(0x360)]('cancel-blueprint-projects-btn')[_0x205123(0x616)]('click',()=>{const _0x5752c2=_0x205123;document[_0x5752c2(0x360)](_0x5752c2(0x506))[_0x5752c2(0x5a1)][_0x5752c2(0x1f5)](_0x5752c2(0x29e));}),document['getElementById'](_0x205123(0x33b))['addEventListener'](_0x205123(0xc47),_0x4d75bb=>{const _0xfa5981=_0x205123,_0x3b5a2d=_0x4d75bb[_0xfa5981(0x357)]['closest'](_0xfa5981(0x7b5)),_0x3a94cb=_0x4d75bb[_0xfa5981(0x357)][_0xfa5981(0x3ed)](_0xfa5981(0x242));if(_0x3b5a2d)displayBlueprintProjectManager(_0x3b5a2d[_0xfa5981(0x9d2)]['id']);else _0x3a94cb&&handleDeepDeleteBlueprintProject(_0x3a94cb[_0xfa5981(0x9d2)]['id']);}),document[_0x205123(0x360)](_0x205123(0xb13))[_0x205123(0x616)]('click',()=>{const _0x176763=_0x205123;currentBlueprintProjectId=null,currentProjectId=null,document[_0x176763(0x360)](_0x176763(0xae9))[_0x176763(0x5a1)][_0x176763(0x1f5)](_0x176763(0x29e)),showView('admin-dashboard');}),document[_0x205123(0x360)]('bp-add-topic-btn')[_0x205123(0x616)](_0x205123(0xc47),addTopicToProject),document[_0x205123(0x360)](_0x205123(0x43f))[_0x205123(0x616)]('click',async _0x18b2dc=>{const _0x487dff=_0x205123,_0x5c35ef=_0x18b2dc[_0x487dff(0x357)][_0x487dff(0x3ed)](_0x487dff(0xaf8));if(!_0x5c35ef)return;const _0x2dafad=_0x5c35ef[_0x487dff(0x9d2)][_0x487dff(0x4a8)],_0x315495=_0x18b2dc[_0x487dff(0x357)][_0x487dff(0x3ed)](_0x487dff(0x7d8)),_0x15a12d=_0x18b2dc[_0x487dff(0x357)]['closest'](_0x487dff(0x684)),_0x2bba8f=_0x18b2dc[_0x487dff(0x357)][_0x487dff(0x3ed)](_0x487dff(0x760)),_0x1d79b0=_0x18b2dc[_0x487dff(0x357)][_0x487dff(0x3ed)](_0x487dff(0x5b5)),_0x3566e1=_0x18b2dc[_0x487dff(0x357)][_0x487dff(0x3ed)](_0x487dff(0x9af)),_0x118bf6=_0x18b2dc['target'][_0x487dff(0x3ed)](_0x487dff(0x5ce)),_0x10a455=_0x18b2dc['target']['closest'](_0x487dff(0x770)),_0x2faecf=_0x18b2dc[_0x487dff(0x357)][_0x487dff(0x3ed)](_0x487dff(0xb91)),_0x5972b0=_0x50fb7c=>{const _0x23324b=_0x487dff,_0x32fb17=_0x50fb7c[_0x23324b(0xc8a)]('[data-field=\x22subTopic\x22]')[_0x23324b(0x946)][_0x23324b(0x665)](),_0x51619e=_0x50fb7c[_0x23324b(0x3ed)](_0x23324b(0x85c))[_0x23324b(0x778)],_0x57145f=_0x51619e?_0x51619e[_0x23324b(0x946)]['trim']():'';return _0x57145f+':\x20'+_0x32fb17;};if(_0x1d79b0)openTopicQuizBank(_0x2dafad);else{if(_0x315495){const _0x5d05bc=_0x5972b0(_0x5c35ef);selectProjectAndGenerateBlueprintQuiz(_0x5d05bc,null,_0x2dafad,!![]);}else{if(_0x15a12d){const _0x293789=_0x5972b0(_0x5c35ef);try{const _0x35ff91=doc(db,_0x487dff(0x944)+appId+_0x487dff(0xcda)+currentBlueprintProjectId+'/lessons',_0x2dafad),_0x3d00fb=await getDoc(_0x35ff91);if(_0x3d00fb[_0x487dff(0x815)]()){const _0x4c3250=_0x3d00fb['data']()[_0x487dff(0x5f9)],_0x5def5f=document[_0x487dff(0xa1f)]('div'),_0xfa8b79=_0x5e3069=>{const _0x8ff424=_0x487dff;if(!_0x5e3069)return'';return _0x5def5f['innerHTML']=_0x5e3069,_0x5def5f[_0x8ff424(0x946)]||_0x5def5f[_0x8ff424(0x3d4)]||'';},_0x13c70f=(_0xfa8b79(_0x4c3250[_0x487dff(0x4fb)])+'\x20'+_0xfa8b79(_0x4c3250[_0x487dff(0xbb9)])+'\x20'+_0xfa8b79(_0x4c3250['summary']))[_0x487dff(0x665)]();selectProjectAndGenerateBlueprintQuiz(_0x293789,_0x13c70f,_0x2dafad,![]);}else showMessage(_0x487dff(0x6fa));}catch(_0xd57235){console[_0x487dff(0x537)](_0x487dff(0x4e5),_0xd57235),showMessage(_0x487dff(0x828));}}else{if(_0x2bba8f){const _0x2d746f=_0x5972b0(_0x5c35ef);selectProjectAndGenerateBlueprintQuiz(_0x2d746f,null,_0x2dafad,![]);}else{if(_0x3566e1){const _0x448dd2=doc(db,_0x487dff(0x944)+appId+_0x487dff(0x4e6),currentBlueprintProjectId),_0xb3679d=await getDoc(_0x448dd2);if(_0xb3679d[_0x487dff(0x815)]()){const _0x46980e=_0xb3679d['data'](),_0x3d70d9=_0x46980e[_0x487dff(0xb7a)][_0x2dafad];if(_0x3d70d9&&_0x3d70d9['status']===_0x487dff(0x690))try{const _0x229311=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x487dff(0x46d),_0x2dafad),_0x4a428f=await getDoc(_0x229311);if(_0x4a428f[_0x487dff(0x815)]()){const _0x54906e=_0x4a428f[_0x487dff(0x9e7)]()['content'];document['getElementById']('lesson-view-title')[_0x487dff(0x946)]='บทเรียนเรื่อง:\x20'+_0x5972b0(_0x5c35ef),document[_0x487dff(0x360)](_0x487dff(0xbb4))[_0x487dff(0x1a0)]=_0x54906e[_0x487dff(0x4fb)],document['getElementById'](_0x487dff(0x49c))[_0x487dff(0x1a0)]=_0x54906e[_0x487dff(0xbb9)],document[_0x487dff(0x360)](_0x487dff(0xbc4))[_0x487dff(0x1a0)]=_0x54906e['summary'];const _0x17f194=document[_0x487dff(0x360)](_0x487dff(0x7a8));_0x54906e[_0x487dff(0x9ab)]?(currentApplicationData=_0x54906e[_0x487dff(0x9ab)],_0x17f194[_0x487dff(0x1a0)]=currentApplicationData[_0x487dff(0x985)]((_0x37483d,_0x2dd931)=>_0x487dff(0xad6)+(_0x2dd931+0x1)+'.\x20'+marked[_0x487dff(0x6b2)](_0x37483d['question'])+_0x487dff(0x2e3)+_0x2dd931+_0x487dff(0x6a8)+_0x37483d['options'][_0x487dff(0x985)]((_0x3d64c1,_0x452cf8)=>'<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x2dd931+',\x20'+_0x452cf8+_0x487dff(0x8ed)+String[_0x487dff(0xb2b)](0x61+_0x452cf8)+'.\x20'+marked[_0x487dff(0x6b2)](_0x3d64c1)+_0x487dff(0x24f))['join']('')+_0x487dff(0x4d5))[_0x487dff(0x155)]('')):(currentApplicationData=[],_0x17f194[_0x487dff(0x1a0)]=_0x54906e['applicationHTML']||_0x54906e['application']),document[_0x487dff(0x360)](_0x487dff(0xca2))['classList'][_0x487dff(0x1f5)](_0x487dff(0x29e)),document[_0x487dff(0x360)](_0x487dff(0x320))[_0x487dff(0x5a1)][_0x487dff(0xbee)](_0x487dff(0x29e)),document['getElementById'](_0x487dff(0x32c))[_0x487dff(0x5a1)][_0x487dff(0xbee)](_0x487dff(0x29e)),window[_0x487dff(0xb63)]&&MathJax[_0x487dff(0x5b0)]([document[_0x487dff(0x360)](_0x487dff(0x6e5))]);}else showMessage(_0x487dff(0xaf0));}catch(_0x25e796){console[_0x487dff(0x537)](_0x487dff(0x207),_0x25e796),showMessage(_0x487dff(0x262));}else showMessage(_0x487dff(0x1ce));}}else{if(_0x118bf6){const _0xca9753=_0x5972b0(_0x5c35ef),_0x44b4a9=doc(db,_0x487dff(0x944)+appId+_0x487dff(0x4e6),currentBlueprintProjectId),_0x24a3a4=await getDoc(_0x44b4a9);if(_0x24a3a4[_0x487dff(0x815)]()){const _0x1580f3=_0x24a3a4[_0x487dff(0x9e7)]();generateAndSaveLessonForBlueprint(_0x2dafad,_0xca9753,_0x1580f3['gradeLevel']);}}else{if(_0x10a455)editTopicInProject(_0x2dafad);else _0x2faecf&&deleteTopicFromProject(_0x2dafad);}}}}}}}),document[_0x205123(0x360)](_0x205123(0x9c1))[_0x205123(0x616)](_0x205123(0xc47),handleFixLessonLatex),document['getElementById'](_0x205123(0x58e))['addEventListener'](_0x205123(0xc47),handleExportLessonToPDF),document['getElementById'](_0x205123(0x9ca))[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x41275f=_0x205123;document[_0x41275f(0x360)](_0x41275f(0x32c))['classList']['add'](_0x41275f(0x29e));});const _0x2cfa86=document['getElementById'](_0x205123(0x186)),_0x4183b8=document[_0x205123(0x360)]('bulk-confidence-mode-container');_0x2cfa86[_0x205123(0x616)](_0x205123(0x251),()=>{const _0x294ce4=_0x205123;_0x4183b8[_0x294ce4(0x5a1)][_0x294ce4(0xb4a)](_0x294ce4(0x29e),!_0x2cfa86['checked']);});const _0xd630d0=document[_0x205123(0x360)](_0x205123(0x342)),_0x3b93b2=document[_0x205123(0x360)](_0x205123(0xcf1));_0xd630d0[_0x205123(0x616)]('change',()=>{const _0x4ee085=_0x205123;_0x3b93b2[_0x4ee085(0x5a1)][_0x4ee085(0xb4a)]('hidden',!_0xd630d0['checked']);});const _0x518c0f=document[_0x205123(0x360)](_0x205123(0x5be)),_0x3bdead=document['getElementById'](_0x205123(0x129));_0x518c0f[_0x205123(0x616)]('change',()=>{const _0x149823=_0x205123;_0x3bdead[_0x149823(0x5a1)]['toggle']('hidden',!_0x518c0f[_0x149823(0x5fc)]);});const _0x32e3d2=document[_0x205123(0x360)](_0x205123(0x469)),_0x4d507a=async _0x2792da=>{const _0x12253b=_0x205123,_0x2f6bd3=document['getElementById'](_0x12253b(0x469)),_0x31f262=_0x2f6bd3[_0x12253b(0x9d2)]['currentMode'],_0x3b19bd=document[_0x12253b(0x360)](_0x12253b(0x5de));_0x2f6bd3['classList'][_0x12253b(0x1f5)](_0x12253b(0x29e));if(_0x31f262===_0x12253b(0x8ea)){const _0x509ff5=_0x3b19bd[_0x12253b(0x1db)],_0x2c22b9={'answer':_0x509ff5,'wasConfident':_0x2792da};proceedToNextQuestion(_0x2c22b9);}else{if(_0x31f262==='sync'){const _0x47a91e=_0x3b19bd['dataset']['answerValue'],_0x338415=JSON[_0x12253b(0x74a)](_0x3b19bd[_0x12253b(0x9d2)][_0x12253b(0x13f)]),_0x3373b3=JSON[_0x12253b(0x74a)](_0x3b19bd['dataset']['gameData']),_0x3fcb2f=_0x3b19bd['dataset'][_0x12253b(0x709)];handleSyncAnswerSubmit(_0x47a91e,_0x338415,_0x3373b3,_0x3fcb2f,_0x2792da);}}_0x2f6bd3[_0x12253b(0x9d2)]['currentMode']='';};document['getElementById']('confirm-confident')[_0x205123(0x616)](_0x205123(0xc47),()=>_0x4d507a(!![])),document['getElementById'](_0x205123(0x649))[_0x205123(0x616)](_0x205123(0xc47),()=>_0x4d507a(![])),liveGameView[_0x205123(0x616)](_0x205123(0xc47),_0x182ea9=>{const _0x47eabb=_0x205123,_0x13908e=_0x182ea9[_0x47eabb(0x357)][_0x47eabb(0x3ed)]('.kick-player-btn-sync');if(_0x13908e){const _0x156f24=_0x13908e[_0x47eabb(0x9d2)]['playerName'];_0x156f24&&handleKickPlayerSync(_0x156f24);}});const _0xd027f2=document[_0x205123(0x360)](_0x205123(0xa75)),_0xfd7c76=document[_0x205123(0x360)]('cancel-game-start-btn');_0xfd7c76['addEventListener'](_0x205123(0xc47),()=>{const _0x2663e4=_0x205123;document[_0x2663e4(0x360)]('confirm-game-start-modal')[_0x2663e4(0x5a1)][_0x2663e4(0x1f5)](_0x2663e4(0x29e));}),_0xd027f2[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x588715=_0x205123,_0x30e50f=document[_0x588715(0x360)](_0x588715(0x5e6))[_0x588715(0x1db)],_0x5ef7fd=document[_0x588715(0x360)]('game-start-mode')[_0x588715(0x1db)],_0x4e7680=document['getElementById'](_0x588715(0x142))[_0x588715(0x5fc)];document[_0x588715(0x360)](_0x588715(0x337))[_0x588715(0x5a1)][_0x588715(0x1f5)](_0x588715(0x29e));switch(_0x5ef7fd){case _0x588715(0x641):handleStartLiveRace(_0x30e50f,_0x4e7680);break;case _0x588715(0xcac):handleStartTeamQuiz(_0x30e50f,_0x4e7680);break;case _0x588715(0x5ad):handleStartGroupMode(_0x30e50f,_0x4e7680);break;case _0x588715(0xa52):const _0xd87900=document[_0x588715(0xc8a)]('input[name=\x22syncVariant\x22]:checked')[_0x588715(0x1db)]||_0x588715(0x7d9);handleStartSyncMode(_0x30e50f,_0x4e7680,_0xd87900);break;}}),document[_0x205123(0x360)](_0x205123(0x8ff))[_0x205123(0x616)]('click',handleJoinGroupActivity),liveGameView['addEventListener'](_0x205123(0xc47),_0x40b342=>{const _0x563205=_0x205123,_0x2c44fb=_0x40b342['target'][_0x563205(0x3ed)](_0x563205(0x748));document[_0x563205(0x801)](_0x563205(0xb5f))['forEach'](_0x5e436f=>{const _0x3485b9=_0x563205;(!_0x2c44fb||_0x5e436f['id']!==_0x2c44fb[_0x3485b9(0x9d2)]['tooltipTarget'])&&_0x5e436f[_0x3485b9(0x5a1)][_0x3485b9(0xbee)](_0x3485b9(0x8e1));});if(!_0x2c44fb)return;const _0x416330=_0x2c44fb['dataset'][_0x563205(0x6b0)],_0x107c76=document['getElementById'](_0x416330);_0x107c76&&_0x107c76[_0x563205(0x5a1)][_0x563205(0xb4a)]('visible');}),liveGameView['addEventListener'](_0x205123(0xc47),_0x2960f4=>{const _0x126249=_0x205123;if(_0x2960f4[_0x126249(0x357)][_0x126249(0x5a1)][_0x126249(0xbf1)]('kick-player-btn')){const _0x23ab4d=_0x2960f4[_0x126249(0x357)][_0x126249(0x9d2)][_0x126249(0x709)];_0x23ab4d&&handleKickPlayer(_0x23ab4d);}}),document[_0x205123(0x360)](_0x205123(0x78d))[_0x205123(0x616)](_0x205123(0xac0),()=>document[_0x205123(0x360)](_0x205123(0xbc9))[_0x205123(0x5a1)]['remove'](_0x205123(0x29e))),document[_0x205123(0x360)](_0x205123(0xbc9))[_0x205123(0x616)](_0x205123(0xc47),handleSaveProjectName),document[_0x205123(0x360)](_0x205123(0x78d))[_0x205123(0x616)](_0x205123(0x184),_0x3ee3d4=>{const _0x28aaf9=_0x205123;_0x3ee3d4[_0x28aaf9(0x56d)]===_0x28aaf9(0x5f3)&&(_0x3ee3d4[_0x28aaf9(0xc63)](),_0x3ee3d4[_0x28aaf9(0x357)][_0x28aaf9(0x979)](),handleSaveProjectName());}),document[_0x205123(0x360)](_0x205123(0x61e))['addEventListener'](_0x205123(0xc47),()=>{const _0xe5eb43=_0x205123;document[_0xe5eb43(0x360)](_0xe5eb43(0x1de))[_0xe5eb43(0x5a1)]['remove'](_0xe5eb43(0x29e));}),document['getElementById']('cancel-bulk-quiz-settings-btn')[_0x205123(0x616)]('click',()=>{const _0x4f48f6=_0x205123;document[_0x4f48f6(0x360)](_0x4f48f6(0x1de))[_0x4f48f6(0x5a1)]['add'](_0x4f48f6(0x29e));}),document[_0x205123(0x360)](_0x205123(0x894))[_0x205123(0x616)](_0x205123(0xc47),handleBulkUpdateQuizSettings),document[_0x205123(0x360)](_0x205123(0x891))[_0x205123(0x616)]('click',handleModeSwitch),document['getElementById']('update-old-quizzes-btn')[_0x205123(0x616)](_0x205123(0xc47),handleUpdateOldQuizzes),document['getElementById'](_0x205123(0x8a6))[_0x205123(0x616)](_0x205123(0xc47),handleResetProjectOrder),document['getElementById'](_0x205123(0x69c))[_0x205123(0x616)]('click',handleSaveVisibilitySettings),document['getElementById'](_0x205123(0x390))['addEventListener'](_0x205123(0xc47),handleAddCustomMathTopic),document[_0x205123(0x360)](_0x205123(0x31b))[_0x205123(0x616)](_0x205123(0xc47),handleSelectAllTopics),document[_0x205123(0x360)](_0x205123(0xc96))[_0x205123(0x616)]('click',handleDeselectAllTopics),document['getElementById']('back-to-dashboard-btn')[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x5c7e35=_0x205123;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x5c7e35(0xc49));}}),document['getElementById']('back-to-project-btn')[_0x205123(0x616)]('click',()=>{const _0x3b14e8=_0x205123;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x3b14e8(0x6b8));}}),document['getElementById']('back-to-dashboard-from-results-btn')[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x25690b=_0x205123;showView(_0x25690b(0xc49));}),document['getElementById'](_0x205123(0x3e3))['addEventListener'](_0x205123(0xc47),()=>{const _0x5bbb5f=_0x205123;messageModal[_0x5bbb5f(0x5a1)]['add'](_0x5bbb5f(0x29e)),typeof modalConfirmAction===_0x5bbb5f(0x70b)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x205123(0x360)](_0x205123(0x963))[_0x205123(0x616)](_0x205123(0xc47),()=>createProjectModal[_0x205123(0x5a1)][_0x205123(0xbee)](_0x205123(0x29e))),document[_0x205123(0x360)](_0x205123(0x1e7))[_0x205123(0x616)](_0x205123(0xc47),()=>createProjectModal[_0x205123(0x5a1)][_0x205123(0x1f5)](_0x205123(0x29e))),document[_0x205123(0x360)](_0x205123(0x485))[_0x205123(0x616)](_0x205123(0xc47),()=>adminPasswordModal[_0x205123(0x5a1)][_0x205123(0x1f5)]('hidden')),document['getElementById']('confirm-admin-login-btn')[_0x205123(0x616)](_0x205123(0xc47),handleAdminLogin),document[_0x205123(0x360)](_0x205123(0x14e))[_0x205123(0x616)](_0x205123(0x6bc),_0x24cc12=>{const _0x363b2f=_0x205123;if(_0x24cc12[_0x363b2f(0x56d)]===_0x363b2f(0x5f3))handleAdminLogin();}),document['getElementById'](_0x205123(0xba5))[_0x205123(0x616)]('click',()=>{const _0x36dc53=_0x205123;confirmationModal[_0x36dc53(0x5a1)][_0x36dc53(0x1f5)](_0x36dc53(0x29e)),confirmAction=null;}),document[_0x205123(0x360)](_0x205123(0x6b7))[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x66db15=_0x205123;confirmAction&&confirmAction(),confirmationModal[_0x66db15(0x5a1)][_0x66db15(0x1f5)]('hidden'),confirmAction=null;}),document[_0x205123(0x360)](_0x205123(0xca9))['addEventListener'](_0x205123(0xc47),()=>renameQuizModal[_0x205123(0x5a1)][_0x205123(0x1f5)](_0x205123(0x29e))),document[_0x205123(0x360)](_0x205123(0x1b5))[_0x205123(0x616)](_0x205123(0xc47),confirmRenameQuiz),document[_0x205123(0x360)](_0x205123(0xc90))['addEventListener'](_0x205123(0xc47),()=>moveQuizModal[_0x205123(0x5a1)][_0x205123(0x1f5)]('hidden')),document[_0x205123(0x360)](_0x205123(0x24a))[_0x205123(0x616)](_0x205123(0xc47),confirmMoveQuiz),document[_0x205123(0x360)](_0x205123(0x3e5))[_0x205123(0x616)](_0x205123(0xc47),()=>quizSettingsModal[_0x205123(0x5a1)]['add'](_0x205123(0x29e))),document[_0x205123(0x360)](_0x205123(0xc3d))[_0x205123(0x616)](_0x205123(0xc47),confirmQuizSettings),document[_0x205123(0x360)]('cancel-quiz-status-btn')[_0x205123(0x616)]('click',()=>quizStatusModal['classList'][_0x205123(0x1f5)](_0x205123(0x29e))),document[_0x205123(0x360)](_0x205123(0x67a))[_0x205123(0x616)](_0x205123(0xc47),confirmQuizStatus);const _0x24781c=document[_0x205123(0x360)](_0x205123(0xa39));document[_0x205123(0x360)](_0x205123(0xad1))[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x332216=_0x205123;_0x24781c[_0x332216(0x5a1)][_0x332216(0x1f5)](_0x332216(0x29e));}),document[_0x205123(0x360)](_0x205123(0xcfb))[_0x205123(0x616)](_0x205123(0xc47),async()=>{const _0x449a80=_0x205123,_0xf9db74=allQuizzes[_0x449a80(0x64b)](_0x1a56f0=>_0x1a56f0['id']===actionTargetId);_0xf9db74?(currentQuizData=_0xf9db74,exportQuizAsWorksheetPDF()):showMessage(_0x449a80(0x9c8)),_0x24781c[_0x449a80(0x5a1)]['add']('hidden');}),document['getElementById']('export-tutor-pdf-btn')[_0x205123(0x616)]('click',async()=>{const _0x58d159=_0x205123,_0x514f22=allQuizzes['find'](_0x428eb4=>_0x428eb4['id']===actionTargetId);_0x514f22?(currentQuizData=_0x514f22,exportQuizAsTutorPDF()):showMessage(_0x58d159(0x9c8)),_0x24781c[_0x58d159(0x5a1)][_0x58d159(0x1f5)]('hidden');});const _0x416a5d=document[_0x205123(0x360)](_0x205123(0xc22));_0x416a5d['innerHTML']=_0x205123(0x811),_0x416a5d['addEventListener'](_0x205123(0xc47),openGlobalActivityModal),document[_0x205123(0x360)](_0x205123(0x1e2))[_0x205123(0x616)]('click',()=>{const _0x3567f5=_0x205123;document[_0x3567f5(0x360)](_0x3567f5(0x234))[_0x3567f5(0x5a1)][_0x3567f5(0x1f5)](_0x3567f5(0x29e));}),document[_0x205123(0x360)](_0x205123(0x427))[_0x205123(0x616)](_0x205123(0x9e3),_0x1d5d64=>{const _0x30a2db=_0x205123;renderGlobalActivityList(_0x1d5d64[_0x30a2db(0x357)][_0x30a2db(0x1db)]);}),document[_0x205123(0x360)](_0x205123(0x1ed))[_0x205123(0x616)](_0x205123(0xc47),_0x4c35bb=>{const _0x17bba4=_0x205123,_0x5040f5=_0x4c35bb[_0x17bba4(0x357)]['closest'](_0x17bba4(0x80e));if(!_0x5040f5)return;const _0x399b33=_0x5040f5[_0x17bba4(0x9d2)]['id'],_0xd5fb47=_0x5040f5[_0x17bba4(0x9d2)]['mode'],_0x36f5f7=allQuizzesGlobal['find'](_0x2833c4=>_0x2833c4['id']===_0x399b33);_0x36f5f7&&(document[_0x17bba4(0x360)](_0x17bba4(0x234))[_0x17bba4(0x5a1)]['add'](_0x17bba4(0x29e)),_0xd5fb47===_0x17bba4(0x641)?handleStartLiveRace(_0x399b33):showGameStartConfirmationModal(_0x399b33,_0xd5fb47,_0x36f5f7['topic']));}),document['getElementById'](_0x205123(0x208))['addEventListener'](_0x205123(0x9e3),renderProjects),document[_0x205123(0x360)](_0x205123(0x1f2))[_0x205123(0x616)](_0x205123(0x251),async()=>{const _0x24fbf3=_0x205123,_0x515531=document[_0x24fbf3(0x360)](_0x24fbf3(0x1f2))['value'],_0x3ac550=doc(db,_0x24fbf3(0xa24),_0x24fbf3(0x4b9));try{await setDoc(_0x3ac550,{'projectSort':_0x515531},{'merge':!![]});}catch(_0x20a207){console[_0x24fbf3(0x537)](_0x24fbf3(0x2d7),_0x20a207),showMessage(_0x24fbf3(0x5f6));}}),document['getElementById'](_0x205123(0x893))[_0x205123(0x616)](_0x205123(0x9e3),renderQuizzes),document[_0x205123(0x360)](_0x205123(0x60d))[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x37f4da=_0x205123;globalDashboardSettings[_0x37f4da(0xc9c)]=_0x37f4da(0x319),saveUserPreference('projectView','grid'),renderProjects();}),document['getElementById'](_0x205123(0x98b))['addEventListener']('click',()=>{const _0x5c05eb=_0x205123;globalDashboardSettings['projectView']=_0x5c05eb(0x48a),saveUserPreference('projectView',_0x5c05eb(0x48a)),renderProjects();}),manageTab['addEventListener'](_0x205123(0xc47),()=>switchProjectTab(_0x205123(0x27f))),resultsTab[_0x205123(0x616)](_0x205123(0xc47),()=>switchProjectTab(_0x205123(0x322))),leaderboardTab[_0x205123(0x616)](_0x205123(0xc47),()=>switchProjectTab('leaderboard')),document[_0x205123(0x360)](_0x205123(0xcb6))['addEventListener'](_0x205123(0xc47),()=>switchQuizDetailTab('analytics')),document['getElementById'](_0x205123(0x2f3))['addEventListener'](_0x205123(0xc47),()=>switchQuizDetailTab(_0x205123(0xcc6))),document[_0x205123(0x360)](_0x205123(0x232))[_0x205123(0x616)](_0x205123(0xc47),()=>switchQuizDetailTab(_0x205123(0x227))),document[_0x205123(0x360)](_0x205123(0x66e))[_0x205123(0x616)](_0x205123(0xc47),()=>switchQuizDetailTab(_0x205123(0x40c))),document[_0x205123(0x360)](_0x205123(0x4e8))[_0x205123(0x616)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x205123(0x616)](_0x205123(0xc47),generateWorksheet);const _0x5cac2c=document['getElementById'](_0x205123(0x8cb)),_0x276219=document['getElementById'](_0x205123(0x166)),_0x48dee1=document[_0x205123(0x360)](_0x205123(0x4bb)),_0x5d48ed=document[_0x205123(0x360)](_0x205123(0xc71)),_0x4ede07=document[_0x205123(0x360)]('parallel-test-tab'),_0x3f2851=document[_0x205123(0x360)]('parallel-test-input-area');topicTab[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x7dda66=_0x205123;topicTab[_0x7dda66(0x5a1)][_0x7dda66(0x1f5)](_0x7dda66(0x455)),textTab[_0x7dda66(0x5a1)][_0x7dda66(0xbee)](_0x7dda66(0x455)),fileTab[_0x7dda66(0x5a1)][_0x7dda66(0xbee)](_0x7dda66(0x455)),worksheetTab[_0x7dda66(0x5a1)][_0x7dda66(0xbee)](_0x7dda66(0x455));if(_0x5cac2c)_0x5cac2c[_0x7dda66(0x5a1)]['remove'](_0x7dda66(0x455));if(_0x48dee1)_0x48dee1[_0x7dda66(0x5a1)][_0x7dda66(0xbee)]('active');if(_0x4ede07)_0x4ede07['classList'][_0x7dda66(0xbee)](_0x7dda66(0x455));topicInputArea['classList']['remove'](_0x7dda66(0x29e)),textInputArea[_0x7dda66(0x5a1)]['add'](_0x7dda66(0x29e)),fileInputArea[_0x7dda66(0x5a1)][_0x7dda66(0x1f5)](_0x7dda66(0x29e)),worksheetInputArea[_0x7dda66(0x5a1)][_0x7dda66(0x1f5)](_0x7dda66(0x29e));if(_0x276219)_0x276219[_0x7dda66(0x5a1)][_0x7dda66(0x1f5)](_0x7dda66(0x29e));if(_0x5d48ed)_0x5d48ed['classList']['add']('hidden');if(_0x3f2851)_0x3f2851[_0x7dda66(0x5a1)][_0x7dda66(0x1f5)](_0x7dda66(0x29e));}),textTab[_0x205123(0x616)]('click',()=>{const _0x417214=_0x205123;textTab[_0x417214(0x5a1)]['add'](_0x417214(0x455)),topicTab[_0x417214(0x5a1)]['remove']('active'),fileTab['classList'][_0x417214(0xbee)](_0x417214(0x455)),worksheetTab[_0x417214(0x5a1)][_0x417214(0xbee)](_0x417214(0x455));if(_0x5cac2c)_0x5cac2c[_0x417214(0x5a1)][_0x417214(0xbee)](_0x417214(0x455));if(_0x48dee1)_0x48dee1[_0x417214(0x5a1)][_0x417214(0xbee)](_0x417214(0x455));if(_0x4ede07)_0x4ede07['classList'][_0x417214(0xbee)]('active');textInputArea['classList']['remove'](_0x417214(0x29e)),topicInputArea[_0x417214(0x5a1)][_0x417214(0x1f5)](_0x417214(0x29e)),fileInputArea['classList']['add'](_0x417214(0x29e)),worksheetInputArea[_0x417214(0x5a1)][_0x417214(0x1f5)]('hidden');if(_0x276219)_0x276219[_0x417214(0x5a1)][_0x417214(0x1f5)](_0x417214(0x29e));if(_0x5d48ed)_0x5d48ed[_0x417214(0x5a1)][_0x417214(0x1f5)]('hidden');if(_0x3f2851)_0x3f2851[_0x417214(0x5a1)][_0x417214(0x1f5)]('hidden');}),fileTab[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x33522c=_0x205123;fileTab['classList'][_0x33522c(0x1f5)](_0x33522c(0x455)),topicTab['classList'][_0x33522c(0xbee)]('active'),textTab[_0x33522c(0x5a1)][_0x33522c(0xbee)](_0x33522c(0x455)),worksheetTab[_0x33522c(0x5a1)][_0x33522c(0xbee)](_0x33522c(0x455));if(_0x5cac2c)_0x5cac2c[_0x33522c(0x5a1)]['remove'](_0x33522c(0x455));if(_0x48dee1)_0x48dee1[_0x33522c(0x5a1)]['remove']('active');if(_0x4ede07)_0x4ede07[_0x33522c(0x5a1)][_0x33522c(0xbee)](_0x33522c(0x455));fileInputArea[_0x33522c(0x5a1)][_0x33522c(0xbee)](_0x33522c(0x29e)),topicInputArea['classList'][_0x33522c(0x1f5)](_0x33522c(0x29e)),textInputArea[_0x33522c(0x5a1)]['add']('hidden'),worksheetInputArea['classList'][_0x33522c(0x1f5)](_0x33522c(0x29e));if(_0x276219)_0x276219[_0x33522c(0x5a1)]['add']('hidden');if(_0x5d48ed)_0x5d48ed['classList']['add'](_0x33522c(0x29e));if(_0x3f2851)_0x3f2851[_0x33522c(0x5a1)]['add'](_0x33522c(0x29e));}),worksheetTab[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x9ea821=_0x205123;worksheetTab[_0x9ea821(0x5a1)][_0x9ea821(0x1f5)]('active'),topicTab['classList']['remove'](_0x9ea821(0x455)),textTab['classList'][_0x9ea821(0xbee)](_0x9ea821(0x455)),fileTab[_0x9ea821(0x5a1)][_0x9ea821(0xbee)](_0x9ea821(0x455));if(_0x5cac2c)_0x5cac2c[_0x9ea821(0x5a1)][_0x9ea821(0xbee)]('active');if(_0x48dee1)_0x48dee1[_0x9ea821(0x5a1)][_0x9ea821(0xbee)](_0x9ea821(0x455));if(_0x4ede07)_0x4ede07[_0x9ea821(0x5a1)][_0x9ea821(0xbee)](_0x9ea821(0x455));worksheetInputArea[_0x9ea821(0x5a1)]['remove'](_0x9ea821(0x29e)),topicInputArea[_0x9ea821(0x5a1)][_0x9ea821(0x1f5)](_0x9ea821(0x29e)),textInputArea[_0x9ea821(0x5a1)][_0x9ea821(0x1f5)]('hidden'),fileInputArea[_0x9ea821(0x5a1)][_0x9ea821(0x1f5)](_0x9ea821(0x29e));if(_0x276219)_0x276219['classList'][_0x9ea821(0x1f5)](_0x9ea821(0x29e));if(_0x5d48ed)_0x5d48ed[_0x9ea821(0x5a1)][_0x9ea821(0x1f5)]('hidden');if(_0x3f2851)_0x3f2851[_0x9ea821(0x5a1)][_0x9ea821(0x1f5)]('hidden');});const _0x5936c7=document[_0x205123(0x360)](_0x205123(0xcd0)),_0x3f5fda=document[_0x205123(0x360)](_0x205123(0x6e4));_0x5936c7&&_0x5936c7[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0xb9047a=_0x205123;topicTab[_0xb9047a(0x5a1)][_0xb9047a(0xbee)](_0xb9047a(0x455)),textTab['classList']['remove'](_0xb9047a(0x455)),fileTab[_0xb9047a(0x5a1)]['remove']('active'),worksheetTab['classList'][_0xb9047a(0xbee)](_0xb9047a(0x455));if(_0x5cac2c)_0x5cac2c['classList'][_0xb9047a(0xbee)](_0xb9047a(0x455));if(_0x48dee1)_0x48dee1['classList'][_0xb9047a(0xbee)](_0xb9047a(0x455));if(_0x4ede07)_0x4ede07[_0xb9047a(0x5a1)]['remove'](_0xb9047a(0x455));_0x5936c7[_0xb9047a(0x5a1)]['add'](_0xb9047a(0x455)),topicInputArea['classList'][_0xb9047a(0x1f5)]('hidden'),textInputArea[_0xb9047a(0x5a1)][_0xb9047a(0x1f5)](_0xb9047a(0x29e)),fileInputArea[_0xb9047a(0x5a1)][_0xb9047a(0x1f5)](_0xb9047a(0x29e)),worksheetInputArea[_0xb9047a(0x5a1)][_0xb9047a(0x1f5)](_0xb9047a(0x29e));if(_0x276219)_0x276219[_0xb9047a(0x5a1)][_0xb9047a(0x1f5)]('hidden');if(_0x5d48ed)_0x5d48ed[_0xb9047a(0x5a1)]['add'](_0xb9047a(0x29e));if(_0x3f2851)_0x3f2851[_0xb9047a(0x5a1)]['add'](_0xb9047a(0x29e));_0x3f5fda['classList']['remove'](_0xb9047a(0x29e)),displayQuestionBank();});_0x5cac2c&&(_0x5cac2c[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x2b20db=_0x205123;_0x5cac2c[_0x2b20db(0x5a1)][_0x2b20db(0x1f5)](_0x2b20db(0x455)),topicTab[_0x2b20db(0x5a1)]['remove'](_0x2b20db(0x455)),textTab[_0x2b20db(0x5a1)]['remove'](_0x2b20db(0x455)),fileTab[_0x2b20db(0x5a1)]['remove'](_0x2b20db(0x455)),worksheetTab[_0x2b20db(0x5a1)]['remove'](_0x2b20db(0x455));if(_0x48dee1)_0x48dee1['classList'][_0x2b20db(0xbee)](_0x2b20db(0x455));if(_0x4ede07)_0x4ede07[_0x2b20db(0x5a1)][_0x2b20db(0xbee)](_0x2b20db(0x455));_0x276219[_0x2b20db(0x5a1)][_0x2b20db(0xbee)](_0x2b20db(0x29e)),topicInputArea[_0x2b20db(0x5a1)][_0x2b20db(0x1f5)](_0x2b20db(0x29e)),textInputArea[_0x2b20db(0x5a1)][_0x2b20db(0x1f5)](_0x2b20db(0x29e)),fileInputArea[_0x2b20db(0x5a1)][_0x2b20db(0x1f5)](_0x2b20db(0x29e)),worksheetInputArea[_0x2b20db(0x5a1)]['add'](_0x2b20db(0x29e));if(_0x5d48ed)_0x5d48ed[_0x2b20db(0x5a1)]['add'](_0x2b20db(0x29e));if(_0x3f2851)_0x3f2851[_0x2b20db(0x5a1)][_0x2b20db(0x1f5)]('hidden');}),document['getElementById'](_0x205123(0xbe1))[_0x205123(0x616)](_0x205123(0xc47),handleGenerateFromLink));_0x48dee1&&_0x48dee1[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0xd6b9e0=_0x205123;_0x48dee1[_0xd6b9e0(0x5a1)]['add'](_0xd6b9e0(0x455)),topicTab['classList'][_0xd6b9e0(0xbee)](_0xd6b9e0(0x455)),textTab['classList'][_0xd6b9e0(0xbee)](_0xd6b9e0(0x455)),fileTab['classList'][_0xd6b9e0(0xbee)](_0xd6b9e0(0x455)),worksheetTab[_0xd6b9e0(0x5a1)]['remove']('active');if(_0x5cac2c)_0x5cac2c[_0xd6b9e0(0x5a1)][_0xd6b9e0(0xbee)](_0xd6b9e0(0x455));if(_0x5936c7)_0x5936c7['classList'][_0xd6b9e0(0xbee)](_0xd6b9e0(0x455));if(_0x4ede07)_0x4ede07[_0xd6b9e0(0x5a1)][_0xd6b9e0(0xbee)]('active');_0x5d48ed['classList'][_0xd6b9e0(0xbee)](_0xd6b9e0(0x29e)),topicInputArea['classList'][_0xd6b9e0(0x1f5)](_0xd6b9e0(0x29e)),textInputArea[_0xd6b9e0(0x5a1)]['add'](_0xd6b9e0(0x29e)),fileInputArea['classList']['add']('hidden'),worksheetInputArea[_0xd6b9e0(0x5a1)][_0xd6b9e0(0x1f5)](_0xd6b9e0(0x29e));if(_0x276219)_0x276219[_0xd6b9e0(0x5a1)][_0xd6b9e0(0x1f5)](_0xd6b9e0(0x29e));if(_0x3f5fda)_0x3f5fda[_0xd6b9e0(0x5a1)][_0xd6b9e0(0x1f5)](_0xd6b9e0(0x29e));if(_0x3f2851)_0x3f2851[_0xd6b9e0(0x5a1)][_0xd6b9e0(0x1f5)]('hidden');});_0x4ede07&&_0x4ede07[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x5e4dae=_0x205123;_0x4ede07[_0x5e4dae(0x5a1)][_0x5e4dae(0x1f5)](_0x5e4dae(0x455)),topicTab['classList'][_0x5e4dae(0xbee)](_0x5e4dae(0x455)),textTab['classList'][_0x5e4dae(0xbee)](_0x5e4dae(0x455)),fileTab[_0x5e4dae(0x5a1)]['remove'](_0x5e4dae(0x455)),worksheetTab[_0x5e4dae(0x5a1)][_0x5e4dae(0xbee)](_0x5e4dae(0x455));if(_0x5cac2c)_0x5cac2c[_0x5e4dae(0x5a1)][_0x5e4dae(0xbee)](_0x5e4dae(0x455));if(_0x48dee1)_0x48dee1[_0x5e4dae(0x5a1)][_0x5e4dae(0xbee)](_0x5e4dae(0x455));if(_0x5936c7)_0x5936c7[_0x5e4dae(0x5a1)]['remove'](_0x5e4dae(0x455));_0x3f2851[_0x5e4dae(0x5a1)][_0x5e4dae(0xbee)](_0x5e4dae(0x29e)),topicInputArea[_0x5e4dae(0x5a1)][_0x5e4dae(0x1f5)](_0x5e4dae(0x29e)),textInputArea[_0x5e4dae(0x5a1)]['add'](_0x5e4dae(0x29e)),fileInputArea[_0x5e4dae(0x5a1)][_0x5e4dae(0x1f5)]('hidden'),worksheetInputArea[_0x5e4dae(0x5a1)][_0x5e4dae(0x1f5)](_0x5e4dae(0x29e));if(_0x276219)_0x276219['classList']['add']('hidden');if(_0x5d48ed)_0x5d48ed[_0x5e4dae(0x5a1)]['add'](_0x5e4dae(0x29e));if(_0x3f5fda)_0x3f5fda[_0x5e4dae(0x5a1)]['add'](_0x5e4dae(0x29e));});const _0x575aca=document[_0x205123(0x360)](_0x205123(0x277)),_0x39ecf4=document[_0x205123(0x360)](_0x205123(0x757));if(_0x575aca){const _0x2da03a=document[_0x205123(0x360)](_0x205123(0x277)),_0x2353a6=document[_0x205123(0x360)](_0x205123(0x757)),_0x59c0c5=document[_0x205123(0x360)]('blueprint-options-container'),_0xbe6a7c=document[_0x205123(0x360)]('separate-by-content-checkbox'),_0x2cc171=document['getElementById'](_0x205123(0x306)),_0x2077b6=document[_0x205123(0x360)]('blueprint-topics-list');_0x2da03a&&_0x2da03a[_0x205123(0x616)](_0x205123(0x251),async _0x1d8f83=>{const _0x1009dc=_0x205123;_0x59c0c5[_0x1009dc(0x5a1)]['add'](_0x1009dc(0x29e)),_0x2cc171['classList'][_0x1009dc(0x1f5)](_0x1009dc(0x29e)),_0xbe6a7c[_0x1009dc(0x5fc)]=![],_0x2353a6['disabled']=!![];const _0x3645c8=_0x1d8f83[_0x1009dc(0x357)][_0x1009dc(0x66b)][0x0];if(_0x3645c8){_0x2353a6[_0x1009dc(0xa78)]=![];try{const _0x2dd672=await extractTextFromPdf(_0x3645c8);await analyzeBlueprintForTopics(_0x2dd672);}catch(_0x3ee27f){showMessage(_0x1009dc(0x522)),_0x59c0c5[_0x1009dc(0x5a1)][_0x1009dc(0x1f5)]('hidden');}}}),_0xbe6a7c&&_0xbe6a7c[_0x205123(0x616)]('change',_0x5660b6=>{const _0x3e5248=_0x205123,_0x86ff3a=_0x5660b6['target'][_0x3e5248(0x5fc)];_0x2cc171[_0x3e5248(0x5a1)]['toggle'](_0x3e5248(0x29e),!_0x86ff3a),_0x2353a6['disabled']=_0x86ff3a;}),_0x2077b6&&(_0x2077b6&&_0x2077b6[_0x205123(0x616)](_0x205123(0xc47),_0x27aa73=>{const _0x334a50=_0x205123,_0x1ecce0=_0x27aa73[_0x334a50(0x357)][_0x334a50(0x3ed)](_0x334a50(0xc11)),_0x395024=_0x27aa73[_0x334a50(0x357)]['closest'](_0x334a50(0x6f4));if(_0x1ecce0){const _0x56b51e=unescape(_0x1ecce0[_0x334a50(0x9d2)][_0x334a50(0x94f)]);generateQuizForSingleTopic(_0x56b51e);}else{if(_0x395024){const _0x3425c3=unescape(_0x395024['dataset'][_0x334a50(0x94f)]);handleGenerateTeachingContent(_0x3425c3);}}}));}_0x39ecf4&&_0x39ecf4[_0x205123(0x616)](_0x205123(0xc47),handleGenerateFromBlueprint);const _0x895310=document[_0x205123(0x360)]('parallel-test-upload-input'),_0x103b2a=document[_0x205123(0x360)](_0x205123(0xac6));_0x895310&&_0x895310[_0x205123(0x616)](_0x205123(0x251),_0x395de5=>{const _0x13f07e=_0x205123;_0x103b2a[_0x13f07e(0xa78)]=_0x395de5[_0x13f07e(0x357)]['files'][_0x13f07e(0x633)]===0x0;});_0x103b2a&&_0x103b2a[_0x205123(0x616)](_0x205123(0xc47),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x205123(0x616)]('click',handleLoadQuiz),startQuizBtn['addEventListener'](_0x205123(0xc47),async()=>{const _0x1bbbed=_0x205123,_0x1d20d6=document['getElementById']('student-name-select');currentStudentName=_0x1d20d6[_0x1bbbed(0x1db)];if(!currentStudentName){showMessage(_0x1bbbed(0xc80));return;}try{const _0x4bdaf7=currentQuizData['id'],_0x49e4e2=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x4bdaf7+_0x1bbbed(0xcad),currentStudentName),_0xc65f5e=await getDoc(_0x49e4e2);!_0xc65f5e[_0x1bbbed(0x815)]()?await setDoc(_0x49e4e2,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x49e4e2,{'startedAt':new Date()[_0x1bbbed(0x3a7)]()});}catch(_0x59bfd9){console[_0x1bbbed(0x537)]('Failed\x20to\x20create/update\x20submission\x20record:',_0x59bfd9),showMessage(_0x1bbbed(0xb9b));return;}studentNameSelectionView['classList'][_0x1bbbed(0x1f5)](_0x1bbbed(0x29e)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x205123(0x360)](_0x205123(0x38a))[_0x205123(0x616)](_0x205123(0xc47),showJoinGameView),document[_0x205123(0x360)](_0x205123(0x71d))[_0x205123(0x616)](_0x205123(0xc47),handleJoinLiveGame),document['getElementById']('back-to-student-initial-btn')['addEventListener'](_0x205123(0xc47),()=>showView(_0x205123(0x35e)));const _0x37f032=()=>{const _0x505e01=_0x205123,_0x33ad17=document[_0x505e01(0x360)](_0x505e01(0x2cf))[_0x505e01(0x946)][_0x505e01(0x955)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'results_'+(_0x33ad17||_0x505e01(0x93c));},_0x5994bf=document[_0x205123(0x360)](_0x205123(0x873));_0x5994bf&&_0x5994bf[_0x205123(0x616)]('input',_0x89ecb3=>{const _0x3c1927=_0x205123,_0xd33701=_0x89ecb3[_0x3c1927(0x357)][_0x3c1927(0x1db)]['toLowerCase']()['trim'](),_0x52317a=document[_0x3c1927(0x360)](_0x3c1927(0x1e6)),_0x2b3179=_0x52317a[_0x3c1927(0x801)](_0x3c1927(0xc1a));_0x2b3179[_0x3c1927(0xc92)](_0x5e2275=>{const _0x249ba0=_0x3c1927;let _0x4d9521=![];const _0x5ad83e=_0x5e2275[_0x249ba0(0x801)]('.topic-row');_0x5ad83e[_0x249ba0(0xc92)](_0x57df5e=>{const _0x3449f8=_0x249ba0,_0x5327ab=_0x57df5e[_0x3449f8(0xc8a)](_0x3449f8(0xc2d))[_0x3449f8(0x946)]['toLowerCase']();_0x5327ab[_0x3449f8(0xba6)](_0xd33701)?(_0x57df5e['style'][_0x3449f8(0x640)]=_0x3449f8(0x3f3),_0x4d9521=!![]):_0x57df5e[_0x3449f8(0xbce)][_0x3449f8(0x640)]='none';}),_0x4d9521?_0x5e2275[_0x249ba0(0xbce)][_0x249ba0(0x640)]=_0x249ba0(0x28d):_0x5e2275[_0x249ba0(0xbce)][_0x249ba0(0x640)]=_0x249ba0(0x2da);});});document[_0x205123(0x360)]('export-image-btn')[_0x205123(0x616)](_0x205123(0xc47),()=>exportTableAsImage(_0x205123(0xa96),_0x37f032())),document[_0x205123(0x360)]('export-pdf-btn')[_0x205123(0x616)](_0x205123(0xc47),()=>exportTableAsPDF(_0x205123(0x286),_0x37f032())),document[_0x205123(0x360)](_0x205123(0x3ad))['addEventListener'](_0x205123(0xc47),()=>exportTableAsWord(_0x205123(0xa96),_0x37f032())),document[_0x205123(0x360)]('export-excel-btn')[_0x205123(0x616)](_0x205123(0xc47),()=>exportTableAsExcel(_0x205123(0x286),_0x37f032()));const _0x31d141=()=>{const _0xd102e2=_0x205123,_0x55d032=document['getElementById']('results-quiz-title')['textContent'][_0xd102e2(0x955)](/[^a-z0-9]/gi,'_')[_0xd102e2(0xc54)]();return _0xd102e2(0x4be)+(_0x55d032||_0xd102e2(0x93c));};document[_0x205123(0x360)]('export-leaderboard-image-btn')[_0x205123(0x616)](_0x205123(0xc47),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x31d141())),document[_0x205123(0x360)](_0x205123(0xc5a))['addEventListener'](_0x205123(0xc47),()=>exportTableAsPDF(_0x205123(0xa6a),_0x31d141())),document['getElementById'](_0x205123(0x6cf))[_0x205123(0x616)](_0x205123(0xc47),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x31d141())),document['getElementById'](_0x205123(0x571))[_0x205123(0x616)]('click',()=>exportTableAsExcel(_0x205123(0xa6a),_0x31d141())),projectQuizzesList[_0x205123(0x616)]('click',async _0x16170f=>{const _0x5e28f0=_0x205123,_0x54fb65=_0x16170f['target'][_0x5e28f0(0x3ed)](_0x5e28f0(0x35d)),_0x3d0269=_0x16170f[_0x5e28f0(0x357)][_0x5e28f0(0x3ed)]('.generate-post-test-btn'),_0x309165=_0x16170f[_0x5e28f0(0x357)][_0x5e28f0(0x3ed)]('.compare-results-btn'),_0x1ee105=_0x16170f[_0x5e28f0(0x357)]['closest'](_0x5e28f0(0x230)),_0x3743fd=_0x16170f[_0x5e28f0(0x357)]['closest'](_0x5e28f0(0x559)),_0x4fc915=_0x16170f['target'][_0x5e28f0(0x3ed)]('.copy-quiz-id-list-btn'),_0x1a5b91=_0x16170f[_0x5e28f0(0x357)][_0x5e28f0(0x3ed)](_0x5e28f0(0xa98)),_0x2fabff=_0x16170f[_0x5e28f0(0x357)][_0x5e28f0(0x3ed)]('.quiz-settings-btn'),_0x4868d6=_0x16170f[_0x5e28f0(0x357)][_0x5e28f0(0x3ed)](_0x5e28f0(0x95c)),_0x4f307b=_0x16170f['target'][_0x5e28f0(0x3ed)](_0x5e28f0(0x418)),_0x136fa9=_0x16170f[_0x5e28f0(0x357)][_0x5e28f0(0x3ed)]('.parallel-quiz-btn'),_0x3bad4e=_0x16170f['target'][_0x5e28f0(0x3ed)]('.move-quiz-btn'),_0x22b764=_0x16170f[_0x5e28f0(0x357)][_0x5e28f0(0x3ed)](_0x5e28f0(0x8e8)),_0x5eef58=_0x16170f[_0x5e28f0(0x357)][_0x5e28f0(0x3ed)](_0x5e28f0(0xbb2)),_0x23ffe6=_0x16170f[_0x5e28f0(0x357)][_0x5e28f0(0x3ed)](_0x5e28f0(0x856)),_0x47c15a=_0x16170f[_0x5e28f0(0x357)]['closest']('.admin-try-quiz-list-btn'),_0x1788ee=_0x16170f[_0x5e28f0(0x357)][_0x5e28f0(0x3ed)]('.export-pdf-list-btn'),_0xb8eaa7=_0x16170f[_0x5e28f0(0x357)][_0x5e28f0(0x3ed)](_0x5e28f0(0x1aa)),_0x2879cc=_0x16170f[_0x5e28f0(0x357)][_0x5e28f0(0x3ed)](_0x5e28f0(0x6ea)),_0x415e28=_0x16170f[_0x5e28f0(0x357)][_0x5e28f0(0x3ed)](_0x5e28f0(0x2e5)),_0x18ecb7=_0x16170f[_0x5e28f0(0x357)][_0x5e28f0(0x3ed)]('.generate-easy-version-btn'),_0x53951e=_0x16170f['target'][_0x5e28f0(0x3ed)](_0x5e28f0(0x7de)),_0x483982=_0x16170f[_0x5e28f0(0x357)][_0x5e28f0(0x3ed)](_0x5e28f0(0x689));if(_0x53951e){const _0x161695=_0x53951e[_0x5e28f0(0x9d2)][_0x5e28f0(0x30a)],_0x2b21de=_0x53951e['dataset'][_0x5e28f0(0x998)],_0x5f09cc=allQuizzes[_0x5e28f0(0x64b)](_0x3bcf3a=>_0x3bcf3a['id']===_0x161695);_0x5f09cc&&showGameStartConfirmationModal(_0x161695,_0x2b21de,_0x5f09cc[_0x5e28f0(0x94f)]);}else{if(_0x483982){const _0x97eca1=_0x483982['dataset']['quizId'];handleStartLiveRace(_0x97eca1);}else{if(_0x415e28){const _0x5980c4=_0x415e28[_0x5e28f0(0x9d2)]['quizId'],_0xb3cf6b=document['getElementById'](_0x5e28f0(0x3d7)+_0x5980c4);_0xb3cf6b&&_0xb3cf6b[_0x5e28f0(0x5a1)][_0x5e28f0(0xb4a)]('hidden');}else{if(_0x3d0269){const _0x2951ec=_0x3d0269[_0x5e28f0(0x9d2)][_0x5e28f0(0x30a)],_0x433437=allQuizzes[_0x5e28f0(0x64b)](_0x580e08=>_0x580e08['id']===_0x2951ec);_0x433437&&handleGenerateParallelPostTest(_0x433437);}else{if(_0x309165)handleCompareResults(_0x309165[_0x5e28f0(0x9d2)][_0x5e28f0(0x30a)],_0x309165[_0x5e28f0(0x9d2)][_0x5e28f0(0xa9c)]);else{if(_0x1ee105){const _0x1055e2=_0x1ee105[_0x5e28f0(0x9d2)][_0x5e28f0(0x30a)],_0x3001ef=allQuizzes[_0x5e28f0(0x64b)](_0x33a5c6=>_0x33a5c6['id']===_0x1055e2);_0x3001ef&&_0x3001ef[_0x5e28f0(0xa48)]?(displayLessonPlan(_0x3001ef[_0x5e28f0(0xa48)],_0x3001ef),showConfirmation(_0x5e28f0(0x81e),()=>handleGenerateLessonPlan(_0x1055e2)),document[_0x5e28f0(0x360)](_0x5e28f0(0x9c5))[_0x5e28f0(0xc8a)]('h3')[_0x5e28f0(0x946)]=_0x5e28f0(0xca1),document[_0x5e28f0(0x360)]('confirm-delete-btn')[_0x5e28f0(0x946)]=_0x5e28f0(0x23f)):handleGenerateLessonPlan(_0x1055e2);}else{if(_0x3743fd)handleToggleStarQuiz(_0x3743fd[_0x5e28f0(0x9d2)][_0x5e28f0(0x30a)]);else{if(_0x4fc915)copyTextToClipboard(_0x4fc915[_0x5e28f0(0x9d2)][_0x5e28f0(0x30a)],_0x5e28f0(0x4fd));else{if(_0x1a5b91)handleOpenQuizEditor(_0x1a5b91[_0x5e28f0(0x9d2)][_0x5e28f0(0x30a)]);else{if(_0x2fabff)handleQuizSettings(_0x2fabff['dataset']['quizId']);else{if(_0x4868d6)handleDuplicateQuiz(_0x4868d6[_0x5e28f0(0x9d2)][_0x5e28f0(0x30a)]);else{if(_0x4f307b)handleRenameQuiz(_0x4f307b[_0x5e28f0(0x9d2)][_0x5e28f0(0x30a)],_0x4f307b[_0x5e28f0(0x9d2)][_0x5e28f0(0x94f)]);else{if(_0x136fa9){const _0x4ae681=_0x136fa9[_0x5e28f0(0x9d2)]['quizId'],_0x144e29=allQuizzes['find'](_0x498406=>_0x498406['id']===_0x4ae681);_0x144e29&&handleGenerateParallelFromBank(_0x144e29);}else{if(_0x3bad4e)handleMoveQuiz(_0x3bad4e[_0x5e28f0(0x9d2)]['quizId']);else{if(_0x22b764)handleManualQuizPairing(_0x22b764[_0x5e28f0(0x9d2)][_0x5e28f0(0x30a)]);else{if(_0x5eef58)handleUnpairQuiz(_0x5eef58['dataset']['quizId']);else{if(_0x23ffe6){const _0x17a286=_0x23ffe6[_0x5e28f0(0x9d2)][_0x5e28f0(0x30a)],_0x5ebd14=allQuizzes['find'](_0x1ed3d9=>_0x1ed3d9['id']===_0x17a286);if(_0x5ebd14)startPresentation(_0x5ebd14);}else{if(_0x47c15a){const _0x509a4d=_0x47c15a['dataset'][_0x5e28f0(0x30a)],_0x2bde19=allQuizzes[_0x5e28f0(0x64b)](_0x15c18e=>_0x15c18e['id']===_0x509a4d);_0x2bde19&&(currentQuizData=_0x2bde19,startAdminTest());}else{if(_0x1788ee)actionTargetId=_0x1788ee['dataset'][_0x5e28f0(0x30a)],document[_0x5e28f0(0x360)](_0x5e28f0(0xa39))[_0x5e28f0(0x5a1)][_0x5e28f0(0xbee)]('hidden');else{if(_0xb8eaa7)showConfirmation(_0x5e28f0(0x2f9)+_0xb8eaa7['dataset'][_0x5e28f0(0x94f)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0xb8eaa7[_0x5e28f0(0x9d2)][_0x5e28f0(0x30a)]));else{if(_0x2879cc)handleQuizStatus(_0x2879cc[_0x5e28f0(0x9d2)]['quizId']);else{if(_0x18ecb7)handleGenerateEasyVersionQuiz(_0x18ecb7['dataset']['quizId']);else _0x54fb65&&showQuizDetailView(_0x54fb65['dataset'][_0x5e28f0(0x30a)]);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById']('cancel-team-selection-btn')['addEventListener']('click',()=>showView(_0x205123(0x35e))),document[_0x205123(0x360)](_0x205123(0x1a8))[_0x205123(0x616)](_0x205123(0xc47),confirmAndStartTeamQuiz),document[_0x205123(0x360)](_0x205123(0xa6a))[_0x205123(0xc8a)](_0x205123(0x86d))['addEventListener'](_0x205123(0xc47),_0x789116=>{const _0x548b2e=_0x205123,_0x1f6dba=_0x789116[_0x548b2e(0x357)][_0x548b2e(0x3ed)](_0x548b2e(0xc61));if(!_0x1f6dba||!_0x1f6dba[_0x548b2e(0x9d2)][_0x548b2e(0x5a4)])return;const _0x5f4fc2=_0x1f6dba[_0x548b2e(0x9d2)][_0x548b2e(0x5a4)];if(quizLeaderboardSortBy===_0x5f4fc2)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x548b2e(0x197)?'desc':'asc';else{quizLeaderboardSortBy=_0x5f4fc2;const _0x49f2c5=['studentName'];quizLeaderboardSortOrder=_0x49f2c5['includes'](_0x5f4fc2)?_0x548b2e(0x197):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x205123(0x360)](_0x205123(0x71a))[_0x205123(0x616)](_0x205123(0xc47),closePresentation),document[_0x205123(0x360)](_0x205123(0x32f))[_0x205123(0x616)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x205123(0x360)]('next-question-btn')['addEventListener'](_0x205123(0xc47),()=>{const _0x2b665f=_0x205123;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x2b665f(0x3b7)][_0x2b665f(0x633)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener'](_0x205123(0x678),()=>{const _0xd2a099=_0x205123;!document['fullscreenElement']&&(presentationModal[_0xd2a099(0xbce)]['display']=_0xd2a099(0x2da));}),document['getElementById'](_0x205123(0x51d))[_0x205123(0x616)]('click',handleDeleteAllStudents),studentList[_0x205123(0x616)](_0x205123(0xc47),_0x1c8ac1=>{const _0x238ea2=_0x205123,_0x3cc3bb=_0x1c8ac1[_0x238ea2(0x357)][_0x238ea2(0x3ed)](_0x238ea2(0x82c));if(_0x3cc3bb){const _0x4f6768=_0x3cc3bb[_0x238ea2(0x9d2)][_0x238ea2(0x372)];handleDeleteStudent(_0x4f6768);}}),document[_0x205123(0x360)](_0x205123(0x4de))[_0x205123(0x616)]('click',handleGenerateFromFileClick),fileUploadInput[_0x205123(0x616)](_0x205123(0x251),_0x1ce11d=>{const _0xf57163=_0x205123,_0x51e9f7=_0x1ce11d['target'][_0xf57163(0x66b)][0x0],_0x569d85=document[_0xf57163(0x360)](_0xf57163(0x4de)),_0x19d707=document[_0xf57163(0x360)](_0xf57163(0x4f1)),_0x232d6f=document['getElementById']('separate-by-content-from-file-checkbox');_0x51e9f7?(selectedFile=_0x51e9f7,_0x232d6f[_0xf57163(0x5fc)]?(_0x569d85['disabled']=!![],analyzeFileForTopics(_0x51e9f7)):(_0x569d85[_0xf57163(0xa78)]=![],_0x19d707[_0xf57163(0x5a1)][_0xf57163(0x1f5)](_0xf57163(0x29e)))):(selectedFile=null,_0x569d85[_0xf57163(0xa78)]=!![],_0x19d707[_0xf57163(0x5a1)][_0xf57163(0x1f5)](_0xf57163(0x29e)));}),document[_0x205123(0x360)](_0x205123(0x70f))['addEventListener'](_0x205123(0x251),_0x512f0a=>{const _0x36b232=_0x205123,_0x5df365=_0x512f0a[_0x36b232(0x357)]['checked'],_0x40fddc=document[_0x36b232(0x360)](_0x36b232(0x4de)),_0x31daec=document[_0x36b232(0x360)](_0x36b232(0x4f1));_0x5df365?(_0x40fddc[_0x36b232(0xa78)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x31daec[_0x36b232(0x5a1)][_0x36b232(0xbee)]('hidden'),document['getElementById'](_0x36b232(0x157))[_0x36b232(0x1a0)]=_0x36b232(0x457))):(_0x31daec[_0x36b232(0x5a1)][_0x36b232(0x1f5)](_0x36b232(0x29e)),_0x40fddc['disabled']=!selectedFile);}),document[_0x205123(0x360)](_0x205123(0x4f1))[_0x205123(0x616)](_0x205123(0xc47),_0xd75bf6=>{const _0x587069=_0x205123,_0x3b804c=_0xd75bf6[_0x587069(0x357)][_0x587069(0x3ed)](_0x587069(0xc72)),_0x27cf92=_0xd75bf6[_0x587069(0x357)][_0x587069(0x3ed)](_0x587069(0x6f4));if(_0x3b804c){const _0x5d3795=unescape(_0x3b804c[_0x587069(0x9d2)][_0x587069(0x94f)]);generateHybridQuizForTopic(_0x5d3795);}else{if(_0x27cf92){const _0x857d2c=unescape(_0x27cf92[_0x587069(0x9d2)][_0x587069(0x94f)]),_0x2c87af=document[_0x587069(0x360)](_0x587069(0x98c))[_0x587069(0x1db)];handleGenerateAndShowLesson(_0x857d2c,_0x2c87af);}}}),document[_0x205123(0x360)](_0x205123(0x25b))['addEventListener'](_0x205123(0x251),_0x1bc870=>{const _0x56f11c=_0x205123,_0x25ed2b=document[_0x56f11c(0x360)](_0x56f11c(0x502)),_0x1b61d2=document[_0x56f11c(0x360)](_0x56f11c(0xc3e)),_0x1fa1fe=document[_0x56f11c(0x360)]('timer-duration-input');_0x1bc870[_0x56f11c(0x357)][_0x56f11c(0x1db)]===_0x56f11c(0x2da)?_0x25ed2b[_0x56f11c(0x5a1)][_0x56f11c(0x1f5)](_0x56f11c(0x29e)):(_0x25ed2b['classList']['remove']('hidden'),_0x1bc870[_0x56f11c(0x357)][_0x56f11c(0x1db)]===_0x56f11c(0xcfe)?(_0x1b61d2['textContent']=_0x56f11c(0xaf2),_0x1fa1fe[_0x56f11c(0x1db)]='10'):(_0x1b61d2['textContent']=_0x56f11c(0xaba),_0x1fa1fe['value']='30'));}),document[_0x205123(0x360)]('quiz-type-select')['addEventListener']('change',_0x4b38e0=>{const _0xb6c87e=_0x205123,_0x555384=document[_0xb6c87e(0x360)]('num-choices-container'),_0x2ba4cf=_0x4b38e0['target'][_0xb6c87e(0x1db)],_0x3ea034=document['querySelector'](_0xb6c87e(0x9a7)),_0x4d54c3=document['getElementById'](_0xb6c87e(0x582)),_0x3e07b4=document['getElementById']('num-questions');_0x2ba4cf===_0xb6c87e(0x4e7)?_0x3ea034[_0xb6c87e(0x946)]=_0xb6c87e(0x4e3):_0x3ea034[_0xb6c87e(0x946)]=_0xb6c87e(0x273),_0x2ba4cf==='multiple_choice'||_0x2ba4cf===_0xb6c87e(0xa84)||_0x2ba4cf===_0xb6c87e(0x1a3)?_0x555384['classList'][_0xb6c87e(0xbee)]('hidden'):_0x555384[_0xb6c87e(0x5a1)][_0xb6c87e(0x1f5)]('hidden'),_0x4d54c3[_0xb6c87e(0x897)]=_0x3e07b4[_0xb6c87e(0x1db)];}),document[_0x205123(0x360)]('num-questions')['addEventListener'](_0x205123(0x9e3),_0x3d3afb=>{const _0x27a616=_0x205123;document['getElementById']('passing-score-input')[_0x27a616(0x897)]=_0x3d3afb['target'][_0x27a616(0x1db)];}),document[_0x205123(0x360)]('modal-timer-mode-select')[_0x205123(0x616)]('change',_0x599240=>{const _0x553b21=_0x205123,_0x30a685=document[_0x553b21(0x360)]('modal-timer-duration-container'),_0x86d219=document[_0x553b21(0x360)](_0x553b21(0x17f)),_0x37fe59=document[_0x553b21(0x360)](_0x553b21(0x7d0));_0x599240[_0x553b21(0x357)]['value']===_0x553b21(0x2da)?_0x30a685['classList'][_0x553b21(0x1f5)](_0x553b21(0x29e)):(_0x30a685[_0x553b21(0x5a1)]['remove'](_0x553b21(0x29e)),_0x599240[_0x553b21(0x357)]['value']===_0x553b21(0xcfe)?_0x86d219[_0x553b21(0x946)]=_0x553b21(0xaf2):_0x86d219['textContent']=_0x553b21(0xaba));}),document['getElementById'](_0x205123(0x7cb))[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x2c925b=_0x205123;document[_0x2c925b(0x360)](_0x2c925b(0xcf8))['classList'][_0x2c925b(0x1f5)](_0x2c925b(0x29e));}),document[_0x205123(0x360)](_0x205123(0x4c6))[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0xa4f386=_0x205123;document[_0xa4f386(0x360)](_0xa4f386(0xcf8))['classList'][_0xa4f386(0x1f5)]('hidden');}),document[_0x205123(0x360)]('verify-answers-editor-btn')[_0x205123(0x616)](_0x205123(0xc47),handleVerifyAnswersInEditor),document['getElementById'](_0x205123(0x6e9))[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x196314=_0x205123;document[_0x196314(0x360)]('quiz-editor-modal')[_0x196314(0x5a1)][_0x196314(0x1f5)]('hidden'),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x205123(0x360)](_0x205123(0x64a))[_0x205123(0x616)]('click',handleAutoFixLatex);const _0x5b2335=document['getElementById'](_0x205123(0xccc));_0x5b2335&&_0x5b2335['addEventListener'](_0x205123(0xc47),_0x2a661b=>{const _0x45094d=_0x205123,_0x55bc96=_0x2a661b[_0x45094d(0x357)][_0x45094d(0x3ed)](_0x45094d(0x3b8));if(_0x55bc96){const _0x48229f=_0x55bc96['closest'](_0x45094d(0x845)),_0x586e02=parseInt(_0x48229f[_0x45094d(0x9d2)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x586e02);return;}const _0x14433b=_0x2a661b[_0x45094d(0x357)][_0x45094d(0x3ed)](_0x45094d(0x4cc));if(_0x14433b){const _0x43c77d=_0x14433b[_0x45094d(0x3ed)](_0x45094d(0x845)),_0x52c15d=parseInt(_0x43c77d['dataset'][_0x45094d(0xb00)],0xa);handleDeleteQuestionInEditor(_0x52c15d);return;}const _0x18af69=_0x2a661b[_0x45094d(0x357)][_0x45094d(0x3ed)](_0x45094d(0x949));if(_0x18af69){handleAddQuestionInEditor();return;}});document[_0x205123(0x360)]('open-quiz-bank-btn')['addEventListener'](_0x205123(0xc47),openQuizBankModal),document[_0x205123(0x360)](_0x205123(0xc12))[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x43e74b=_0x205123;document[_0x43e74b(0x360)](_0x43e74b(0xb1c))['classList'][_0x43e74b(0x1f5)]('hidden');}),document['getElementById']('bank-quiz-search-input')['addEventListener'](_0x205123(0x9e3),_0x380a7c=>renderQuizBankList(_0x380a7c[_0x205123(0x357)]['value']));const _0x2a9589=document[_0x205123(0x360)](_0x205123(0x1e6));if(_0x2a9589){let _0x571501=null;_0x2a9589[_0x205123(0x616)](_0x205123(0xc47),_0x461248=>{const _0x129c70=_0x205123,_0x50c29c=_0x461248['target'],_0x318156=_0x50c29c[_0x129c70(0x3ed)]('.edit-custom-topic-btn'),_0x4cca19=_0x50c29c[_0x129c70(0x3ed)](_0x129c70(0x1ff)),_0x5c9a5b=_0x50c29c[_0x129c70(0x3ed)](_0x129c70(0x896)),_0x466e62=_0x50c29c[_0x129c70(0x3ed)](_0x129c70(0x741));if(_0x4cca19){_0x461248[_0x129c70(0xc63)]();const _0x20815b=_0x4cca19['dataset']['id'],_0x48c26d=_0x4cca19[_0x129c70(0x3ed)](_0x129c70(0x4ed))[_0x129c70(0xc8a)]('.topic-name-display')[_0x129c70(0x946)];showConfirmation(_0x129c70(0x7ef)+_0x48c26d+'\x22?',()=>handleDeleteCustomTopic(_0x20815b));}else{if(_0x318156){_0x461248[_0x129c70(0xc63)]();_0x571501&&toggleTopicEditMode(_0x571501,![]);const _0x2eac64=_0x318156['closest'](_0x129c70(0x4b3));_0x571501=_0x2eac64,toggleTopicEditMode(_0x2eac64,!![]);}else{if(_0x5c9a5b){_0x461248[_0x129c70(0xc63)]();const _0x53fde4=_0x5c9a5b[_0x129c70(0x9d2)]['id'],_0xad173e=_0x5c9a5b[_0x129c70(0x3ed)](_0x129c70(0x4b3)),_0x5d11b7=_0xad173e['querySelector'](_0x129c70(0x7f8))[_0x129c70(0x1db)];handleUpdateCustomTopic(_0x53fde4,_0x5d11b7),_0x571501=null;}else{if(_0x466e62){_0x461248[_0x129c70(0xc63)]();const _0x3468b0=_0x466e62[_0x129c70(0x3ed)](_0x129c70(0x4b3));toggleTopicEditMode(_0x3468b0,![]),_0x571501=null;}}}}}),document[_0x205123(0x360)]('close-lesson-plan-modal-btn')[_0x205123(0x616)]('click',()=>{const _0x1a9b8c=_0x205123;document[_0x1a9b8c(0x360)]('lesson-plan-modal')[_0x1a9b8c(0x5a1)][_0x1a9b8c(0x1f5)](_0x1a9b8c(0x29e));}),document[_0x205123(0x360)](_0x205123(0xca7))[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0xe4dbeb=_0x205123;document[_0xe4dbeb(0x360)](_0xe4dbeb(0xbe7))[_0xe4dbeb(0x5a1)][_0xe4dbeb(0x1f5)](_0xe4dbeb(0x29e));}),document[_0x205123(0x360)](_0x205123(0x3ef))[_0x205123(0x616)]('click',handleExportLessonPDF);}document[_0x205123(0x360)](_0x205123(0x437))[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x50d725=_0x205123;document[_0x50d725(0x360)](_0x50d725(0x8e5))[_0x50d725(0x5a1)][_0x50d725(0x1f5)](_0x50d725(0x29e));}),document[_0x205123(0x360)]('close-comparison-modal-footer-btn')[_0x205123(0x616)](_0x205123(0xc47),()=>{const _0x41927d=_0x205123;document[_0x41927d(0x360)](_0x41927d(0x8e5))['classList'][_0x41927d(0x1f5)](_0x41927d(0x29e));}),setupComparisonModalTabs(),document[_0x205123(0x9c6)][_0x205123(0x616)](_0x205123(0xc47),function(_0x6cfdcc){const _0x44e166=_0x205123;if(_0x6cfdcc['target']['classList'][_0x44e166(0xbf1)](_0x44e166(0x1ba))){const _0x24f10f=unescape(_0x6cfdcc[_0x44e166(0x357)]['dataset'][_0x44e166(0x94f)]);startSkillPractice(_0x24f10f);}}),document[_0x205123(0x360)](_0x205123(0x4f5))['addEventListener']('click',_0x225c66=>{const _0x5afd8e=_0x205123,_0x5786d0=_0x225c66['target'][_0x5afd8e(0x3ed)](_0x5afd8e(0x716));if(_0x5786d0){const _0x353309=_0x5786d0[_0x5afd8e(0x9d2)]['studentName'];handleDeleteSubmission(_0x353309);}});}async function handleStartGroupMode(_0x22b7e6,_0x3103c4=![]){const _0x94b46f=_0x18fcf7,_0xf0185a=allQuizzes[_0x94b46f(0x64b)](_0x6442dc=>_0x6442dc['id']===_0x22b7e6)||allQuizzesGlobal[_0x94b46f(0x64b)](_0x486319=>_0x486319['id']===_0x22b7e6);if(!_0xf0185a){showMessage(_0x94b46f(0x9c8));return;}currentQuizData=getShuffledQuiz(_0xf0185a);const _0x27904c=Math['floor'](0x3e8+Math[_0x94b46f(0xc45)]()*0x2328)[_0x94b46f(0xa76)]();try{const _0x7b15b3=await addDoc(collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),{'quizId':_0xf0185a['id'],'projectId':_0xf0185a[_0x94b46f(0x15d)],'status':_0x94b46f(0x900),'pin':_0x27904c,'mode':_0x94b46f(0x5ad),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3103c4});currentTeamQuizId=_0x7b15b3['id'],showView(_0x94b46f(0xa33)),renderAdminTeamQuizDashboard(_0x27904c,_0xf0185a[_0x94b46f(0x94f)],_0x94b46f(0x5ad)),listenForTeamQuizUpdates();}catch(_0x488ca2){console['error']('Error\x20starting\x20group\x20quiz:',_0x488ca2),showMessage(_0x94b46f(0xc34));}}async function showStudentProgressView(){const _0x51511d=_0x18fcf7;studentInitialView[_0x51511d(0x5a1)][_0x51511d(0x1f5)](_0x51511d(0x29e)),document[_0x51511d(0x360)](_0x51511d(0x662))[_0x51511d(0x5a1)][_0x51511d(0xbee)](_0x51511d(0x29e));const _0x568acd=document['getElementById'](_0x51511d(0xcbc)),_0xeb5e0f=document[_0x51511d(0x360)](_0x51511d(0x625)),_0x5090d6=document[_0x51511d(0x360)](_0x51511d(0x995));_0x5090d6[_0x51511d(0x1a0)]=_0x51511d(0x8ab),_0xeb5e0f[_0x51511d(0x1a0)]=_0x51511d(0x44a),_0xeb5e0f['disabled']=!![],_0x568acd[_0x51511d(0x1a0)]=_0x51511d(0x90a);if(allProjects[_0x51511d(0x633)]===0x0){const _0x3f0861=collection(db,_0x51511d(0x944)+appId+_0x51511d(0x382)),_0x49a107=await getDocs(_0x3f0861);allProjects=_0x49a107['docs'][_0x51511d(0x985)](_0x148de7=>({'id':_0x148de7['id'],..._0x148de7['data']()}));}const _0x393a15=allProjects[_0x51511d(0x2bb)](_0x46d957=>_0x46d957[_0x51511d(0x3c1)]?.[_0x51511d(0xc6f)]!==![]);_0x393a15[_0x51511d(0x5a4)]((_0x199b6d,_0x241b5f)=>_0x199b6d[_0x51511d(0x8f5)][_0x51511d(0x69b)](_0x241b5f[_0x51511d(0x8f5)],'th')),_0x568acd['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x393a15[_0x51511d(0x985)](_0x2adac6=>'<option\x20value=\x22'+_0x2adac6['id']+'\x22>'+_0x2adac6[_0x51511d(0x8f5)]+_0x51511d(0x76e))[_0x51511d(0x155)](''),_0x568acd[_0x51511d(0x576)]=()=>{const _0x58087e=_0x51511d,_0x36ad56=_0xeb5e0f[_0x58087e(0x1db)],_0x5a2956=_0x568acd['value'];_0xeb5e0f['disabled']=!![],_0xeb5e0f['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x5090d6[_0x58087e(0x1a0)]=_0x58087e(0x686);if(!_0x5a2956)return;const _0xb58058=allProjects[_0x58087e(0x64b)](_0x2e3376=>_0x2e3376['id']===_0x5a2956);if(!_0xb58058||!_0xb58058[_0x58087e(0x257)])return;const _0x449425=()=>{const _0x238e4e=_0x58087e;_0xeb5e0f['innerHTML']=_0x238e4e(0x44a)+_0xb58058[_0x238e4e(0x257)][_0x238e4e(0x985)](_0x2663be=>_0x238e4e(0x327)+_0x2663be+'\x22>'+_0x2663be+_0x238e4e(0x76e))['join'](''),_0xeb5e0f[_0x238e4e(0xa78)]=![];const _0x46e207=Array[_0x238e4e(0x7bc)](_0xeb5e0f['options'])[_0x238e4e(0x985)](_0x3247e4=>_0x3247e4[_0x238e4e(0x1db)]);if(_0x36ad56&&_0x46e207['includes'](_0x36ad56))_0xeb5e0f['value']=_0x36ad56,_0xeb5e0f[_0x238e4e(0x71b)](new Event(_0x238e4e(0x251)));else _0xb58058[_0x238e4e(0x257)][_0x238e4e(0x633)]===0x1&&(_0xeb5e0f[_0x238e4e(0x1db)]=_0xb58058[_0x238e4e(0x257)][0x0],_0xeb5e0f[_0x238e4e(0x71b)](new Event('change')));};if(_0xb58058[_0x58087e(0x3c1)]?.[_0x58087e(0x7f3)]){if(sessionStorage[_0x58087e(0x800)](_0x58087e(0x40d)+_0x5a2956)==='true'){_0x449425();return;}const _0x58ec21=document[_0x58087e(0x360)](_0x58087e(0xb0f)),_0x4ea158=document[_0x58087e(0x360)]('confirm-passcode-btn'),_0xcf1de5=document[_0x58087e(0x360)](_0x58087e(0x78f)),_0x1c2edd=document[_0x58087e(0x360)](_0x58087e(0xbda)),_0x136bb7=document['getElementById']('passcode-error-msg');document[_0x58087e(0x360)](_0x58087e(0x9e0))[_0x58087e(0x946)]=_0x58087e(0xabd)+_0xb58058[_0x58087e(0x8f5)],_0x1c2edd['value']='',_0x136bb7[_0x58087e(0x5a1)][_0x58087e(0x1f5)](_0x58087e(0x29e)),_0x58ec21[_0x58087e(0x5a1)][_0x58087e(0xbee)](_0x58087e(0x29e));const _0x34165c=()=>{const _0x5caf58=_0x58087e,_0x1d5ed0=_0x1c2edd['value'][_0x5caf58(0x665)]();_0x1d5ed0===_0xb58058[_0x5caf58(0x3c1)][_0x5caf58(0x4d0)]?(sessionStorage[_0x5caf58(0xc5d)](_0x5caf58(0x40d)+_0x5a2956,_0x5caf58(0x426)),_0x58ec21['classList'][_0x5caf58(0x1f5)](_0x5caf58(0x29e)),_0x449425(),_0x4ea158[_0x5caf58(0xb86)](_0x5caf58(0xc47),_0x34165c)):_0x136bb7[_0x5caf58(0x5a1)][_0x5caf58(0xbee)](_0x5caf58(0x29e));};_0x4ea158[_0x58087e(0x8b1)]=_0x34165c,_0xcf1de5[_0x58087e(0x8b1)]=()=>{const _0x361251=_0x58087e;_0x58ec21[_0x361251(0x5a1)][_0x361251(0x1f5)]('hidden'),_0x568acd[_0x361251(0x1db)]='',_0x4ea158['removeEventListener'](_0x361251(0xc47),_0x34165c);};}else _0x449425();},_0xeb5e0f[_0x51511d(0x576)]=()=>{const _0x34f6f1=_0x51511d,_0x241e7f=_0x568acd[_0x34f6f1(0x1db)],_0x314fae=_0xeb5e0f[_0x34f6f1(0x1db)];_0x241e7f&&_0x314fae&&renderStudentProgressDashboard(_0x241e7f,_0x314fae);};}async function confirmAndJoinSyncGame(){const _0x530f43=_0x18fcf7,_0x383389=Array[_0x530f43(0x7bc)](document['querySelectorAll'](_0x530f43(0x403)))[_0x530f43(0x985)](_0x3da421=>_0x3da421[_0x530f43(0x1db)]);if(_0x383389[_0x530f43(0x633)]===0x0){showMessage(_0x530f43(0x905));return;}localTeamPlayers=_0x383389,localPlayerTurnIndex=0x0;const _0xef53b9=doc(db,_0x530f43(0x944)+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x700fa={};_0x383389[_0x530f43(0xc92)](_0x2262e7=>{const _0x42970e=_0x530f43;_0x700fa['players.'+_0x2262e7]={'name':_0x2262e7,'score':0x0,'answered':![],'status':_0x42970e(0x455)};}),await updateDoc(_0xef53b9,_0x700fa),document[_0x530f43(0x360)](_0x530f43(0x4cf))['classList'][_0x530f43(0x1f5)](_0x530f43(0x29e)),currentStudentName=_0x383389[0x0],listenForSyncGameUpdates();const _0x1ad468={'gameId':currentLiveGameId,'mode':_0x530f43(0xa52),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x530f43(0xc5d)](_0x530f43(0x509),JSON[_0x530f43(0x639)](_0x1ad468)),currentMode!==_0x530f43(0x8af)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x530f43(0x616)]('fullscreenchange',handleFullscreenChange),document['addEventListener'](_0x530f43(0x95f),handleVisibilityChange),enterFullscreen(),window[_0x530f43(0x616)](_0x530f43(0x14a),resetDimTimer),window[_0x530f43(0x616)](_0x530f43(0x5c8),resetDimTimer),window[_0x530f43(0x616)](_0x530f43(0x86e),resetDimTimer),window[_0x530f43(0x616)]('keydown',resetDimTimer),resetDimTimer());}catch(_0x376f20){console['error'](_0x530f43(0xc87),_0x376f20),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x23a1cb=_0x18fcf7,_0x4a5ad8=sessionStorage[_0x23a1cb(0x800)]('activeGameSession');if(!_0x4a5ad8)return;const _0x5170d1=JSON[_0x23a1cb(0x74a)](_0x4a5ad8),{gameId:_0x461ff6,mode:_0x45380e,players:_0x596a0f,turnIndex:_0x366252}=_0x5170d1;try{let _0x527f7c,_0x1f223a;_0x45380e==='sync'?_0x527f7c=doc(db,_0x23a1cb(0x944)+appId+'/public/data/syncGames',_0x461ff6):_0x527f7c=doc(db,_0x23a1cb(0x944)+appId+_0x23a1cb(0xcf6),_0x461ff6);_0x1f223a=await getDoc(_0x527f7c);if(!_0x1f223a[_0x23a1cb(0x815)]()||_0x1f223a[_0x23a1cb(0x9e7)]()[_0x23a1cb(0x23b)]===_0x23a1cb(0x763)||_0x1f223a[_0x23a1cb(0x9e7)]()['status']===_0x23a1cb(0x394)){sessionStorage[_0x23a1cb(0x134)]('activeGameSession');return;}console['log']('กำลังกลับเข้าสู่เกม\x20'+_0x45380e+_0x23a1cb(0x2e6)+_0x461ff6+')'),localTeamPlayers=_0x596a0f,localPlayerTurnIndex=_0x366252;if(_0x45380e==='sync')currentLiveGameId=_0x461ff6,currentStudentName=_0x596a0f[0x0],showView(_0x23a1cb(0xa33)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x461ff6;const _0x2eff3a=_0x1f223a[_0x23a1cb(0x9e7)](),_0x5d9ad4=doc(db,'artifacts/'+appId+_0x23a1cb(0x46a),_0x2eff3a[_0x23a1cb(0x30a)]),_0x17b91f=await getDoc(_0x5d9ad4);_0x17b91f[_0x23a1cb(0x815)]()&&(currentQuizData=getShuffledQuiz({'id':_0x17b91f['id'],..._0x17b91f[_0x23a1cb(0x9e7)]()}),showView('student'),studentInitialView[_0x23a1cb(0x5a1)][_0x23a1cb(0x1f5)]('hidden'),renderTeamQuizQuestion());}}catch(_0x58aad1){console['error'](_0x23a1cb(0x48b),_0x58aad1),sessionStorage[_0x23a1cb(0x134)]('activeGameSession');}}function activateFileInputAreaWithLoadedFile(){const _0x38099d=_0x18fcf7,_0x53523c=document[_0x38099d(0x360)](_0x38099d(0x4de)),_0x346adb=document[_0x38099d(0x360)]('file-topics-list-container'),_0x401d78=document[_0x38099d(0x360)](_0x38099d(0x70f));selectedFile?_0x401d78[_0x38099d(0x5fc)]?(_0x53523c[_0x38099d(0xa78)]=!![],analyzeFileForTopics(selectedFile)):(_0x53523c['disabled']=![],_0x346adb[_0x38099d(0x5a1)]['add'](_0x38099d(0x29e))):(_0x53523c['disabled']=!![],_0x346adb[_0x38099d(0x5a1)]['add']('hidden'));}async function handleKickPlayerSync(_0x485230){const _0x10d682=_0x18fcf7;if(!currentLiveGameId||!_0x485230)return;const _0x52bdb9=doc(db,_0x10d682(0x944)+appId+'/public/data/syncGames',currentLiveGameId),_0x16faf4={};_0x16faf4[_0x10d682(0xc41)+_0x485230+_0x10d682(0x796)]=_0x10d682(0x565);try{await updateDoc(_0x52bdb9,_0x16faf4);}catch(_0x3fb031){console[_0x10d682(0x537)](_0x10d682(0x81a)+_0x485230+_0x10d682(0x5b4),_0x3fb031),showMessage(_0x10d682(0xa70));}}async function renderStudentProgressDashboard(_0x202b40,_0x11726){const _0xc38b7d=_0x18fcf7,_0x312d13=document[_0xc38b7d(0x360)](_0xc38b7d(0x995));_0x312d13[_0xc38b7d(0x1a0)]=_0xc38b7d(0x55c);try{const _0x1d97e7=collection(db,_0xc38b7d(0x944)+appId+_0xc38b7d(0x46a)),_0x1b1ad0=query(_0x1d97e7,where('projectId','==',_0x202b40)),_0x5f5325=await getDocs(_0x1b1ad0),_0x5b08b3=_0x5f5325[_0xc38b7d(0x8d0)]['map'](_0xf64dcd=>({'id':_0xf64dcd['id'],..._0xf64dcd['data']()})),_0x5c242e=_0x5b08b3[_0xc38b7d(0x985)](_0x4ca806=>getDoc(doc(db,_0xc38b7d(0x944)+appId+'/public/data/quizzes/'+_0x4ca806['id']+_0xc38b7d(0xcad),_0x11726))),_0x59d8b7=await Promise[_0xc38b7d(0x9b3)](_0x5c242e),_0x34cca8=_0x59d8b7[_0xc38b7d(0x2bb)](_0x205ce8=>_0x205ce8[_0xc38b7d(0x815)]())[_0xc38b7d(0x985)](_0x1df4b5=>({'quizId':_0x1df4b5[_0xc38b7d(0xaa2)][_0xc38b7d(0x3d9)]['parent']['id'],..._0x1df4b5['data']()}));if(_0x34cca8[_0xc38b7d(0x633)]===0x0){_0x312d13[_0xc38b7d(0x1a0)]=_0xc38b7d(0xccd);return;}let _0x1971fd=_0xc38b7d(0x8aa);_0x34cca8[_0xc38b7d(0xc92)](_0x91bc84=>{const _0x3457de=_0xc38b7d,_0x27a3f8=_0x5b08b3['find'](_0x22e041=>_0x22e041['id']===_0x91bc84[_0x3457de(0x30a)]),_0x55a391=_0x27a3f8[_0x3457de(0x3c1)]?.[_0x3457de(0xb30)]||_0x3457de(0x56e),_0x3023cd=_0x27a3f8[_0x3457de(0x3c1)]?.[_0x3457de(0x9bd)]??0x0,_0x18eb21=_0x91bc84['bestScore']>=_0x3023cd;let _0x1f55e4='',_0x5d4a51='bg-gray-50';switch(_0x55a391){case _0x3457de(0x56e):case _0x3457de(0x222):_0x5d4a51=_0x18eb21?_0x3457de(0xa9a):'bg-red-50',_0x1f55e4=_0x3457de(0x598)+(_0x18eb21?_0x3457de(0x70a):'text-red-700')+'\x22>'+_0x91bc84[_0x3457de(0xa4c)]+_0x3457de(0x6e2)+_0x91bc84[_0x3457de(0xcbd)]+_0x3457de(0x53b)+(_0x18eb21?_0x3457de(0x21b):_0x3457de(0x587))+'\x22>'+(_0x18eb21?_0x3457de(0x2f5):_0x3457de(0x19d))+_0x3457de(0x70e);break;case _0x3457de(0x385):_0x5d4a51=_0x18eb21?_0x3457de(0xa9a):'bg-red-50',_0x1f55e4=_0x3457de(0x6de)+(_0x18eb21?_0x3457de(0x21b):_0x3457de(0x587))+'\x22>'+(_0x18eb21?'ผ่าน':'ไม่ผ่าน')+_0x3457de(0x70e);break;case _0x3457de(0x797):_0x5d4a51='bg-yellow-50',_0x1f55e4=_0x3457de(0x7ed);break;}_0x1971fd+=_0x3457de(0x47e)+_0x5d4a51+_0x3457de(0x7ce)+_0x27a3f8[_0x3457de(0x94f)]+_0x3457de(0xb82)+_0x91bc84[_0x3457de(0xc5e)][_0x3457de(0x633)]+_0x3457de(0x504)+new Date(_0x91bc84['latestSubmittedAt'])[_0x3457de(0xa55)](_0x3457de(0x579))+_0x3457de(0x9c9)+_0x1f55e4+_0x3457de(0x697);}),_0x1971fd+='</div>',_0x312d13[_0xc38b7d(0x1a0)]=_0x1971fd;}catch(_0x182535){console[_0xc38b7d(0x537)](_0xc38b7d(0xc43),_0x182535),_0x312d13['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x559f30=''){const _0x4266e0=_0x18fcf7,_0x52f958=document['getElementById'](_0x4266e0(0xc10)),_0x21ca7a=_0x559f30['toLowerCase']()[_0x4266e0(0x665)](),_0x2cd354=allQuizzesGlobal[_0x4266e0(0x985)](_0x1672f2=>({..._0x1672f2,'projectName':allProjects['find'](_0x251908=>_0x251908['id']===_0x1672f2[_0x4266e0(0x15d)])?.[_0x4266e0(0x8f5)]||_0x4266e0(0xc1c)}))['filter'](_0x34f1bf=>(_0x34f1bf[_0x4266e0(0x94f)]||'')[_0x4266e0(0xc54)]()['includes'](_0x21ca7a)||(_0x34f1bf[_0x4266e0(0x8f5)]||'')[_0x4266e0(0xc54)]()[_0x4266e0(0xba6)](_0x21ca7a)||_0x34f1bf['id'][_0x4266e0(0xa76)]()[_0x4266e0(0xba6)](_0x21ca7a));_0x52f958[_0x4266e0(0x1a0)]=_0x2cd354['length']?_0x2cd354[_0x4266e0(0x985)](_0x1a23b0=>_0x4266e0(0x4e1)+_0x1a23b0['id']+_0x4266e0(0xbc7)+(_0x1a23b0[_0x4266e0(0x94f)]||_0x4266e0(0x9dc))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x1a23b0[_0x4266e0(0x8f5)]+_0x4266e0(0x7a2)+_0x1a23b0['id']+_0x4266e0(0x5c0))[_0x4266e0(0x155)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x52f958['onchange']=()=>{const _0x4fb739=_0x4266e0,_0x532e46=document[_0x4fb739(0xc8a)](_0x4fb739(0x4bc));document[_0x4fb739(0x360)](_0x4fb739(0x511))['disabled']=!_0x532e46;};}function setupStudentProgressListeners(){const _0x54b29e=_0x18fcf7;document[_0x54b29e(0x360)]('view-my-progress-btn')[_0x54b29e(0x616)](_0x54b29e(0xc47),showStudentProgressView),document[_0x54b29e(0x360)](_0x54b29e(0x585))[_0x54b29e(0x616)](_0x54b29e(0xc47),()=>{const _0x3bef96=_0x54b29e;document['getElementById'](_0x3bef96(0x662))[_0x3bef96(0x5a1)][_0x3bef96(0x1f5)](_0x3bef96(0x29e)),document[_0x3bef96(0x360)](_0x3bef96(0x68a))[_0x3bef96(0x5a1)][_0x3bef96(0xbee)](_0x3bef96(0x29e));});}async function startSkillPractice(_0xa98f){const _0xd7f9d9=_0x18fcf7;studentResultArea['classList']['add']('hidden'),studentQuizArea[_0xd7f9d9(0x1a0)]=_0xd7f9d9(0x6ba),studentQuizArea['classList'][_0xd7f9d9(0xbee)](_0xd7f9d9(0x29e));try{const _0x577db8=await getStandardizedTopic(_0xa98f);console[_0xd7f9d9(0xced)](_0xd7f9d9(0x562)+_0xa98f+_0xd7f9d9(0x4c4)+_0x577db8+'\x22'),studentQuizArea[_0xd7f9d9(0xc8a)]('p')[_0xd7f9d9(0x946)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x577db8+'\x22...';const _0x27b1bd=collection(db,_0xd7f9d9(0x944)+appId+_0xd7f9d9(0x226)),_0x3a208b=query(_0x27b1bd,where(_0xd7f9d9(0x94f),'==',_0x577db8)),_0x13cd5b=await getDocs(_0x3a208b);if(_0x13cd5b[_0xd7f9d9(0x8d0)]['length']>=0x3){console[_0xd7f9d9(0xced)](_0xd7f9d9(0xc01)+_0x13cd5b[_0xd7f9d9(0x8d0)][_0xd7f9d9(0x633)]+_0xd7f9d9(0x3f2)+_0x577db8+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0xda60a4=_0x13cd5b[_0xd7f9d9(0x8d0)]['map'](_0x3c8ce4=>_0x3c8ce4[_0xd7f9d9(0x9e7)]());shuffleArray(_0xda60a4);const _0x757408={'topic':_0x577db8,'questions':_0xda60a4[_0xd7f9d9(0x9b7)](0x0,0x3)};displaySkillPracticeDrill(_0x757408);}else{console[_0xd7f9d9(0xced)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x577db8+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0xfdf774=await generatePracticeQuestions(_0x577db8);await saveDrillToPracticeBank(_0xfdf774,_0x577db8),displaySkillPracticeDrill(_0xfdf774);}}catch(_0x121a27){console[_0xd7f9d9(0x537)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x121a27),showMessage(_0xd7f9d9(0x714)),studentQuizArea[_0xd7f9d9(0x5a1)][_0xd7f9d9(0x1f5)](_0xd7f9d9(0x29e)),studentResultArea[_0xd7f9d9(0x5a1)][_0xd7f9d9(0xbee)]('hidden');}}async function saveDrillToPracticeBank(_0x86c6d2,_0x2c155d){const _0x263d76=_0x18fcf7,_0x22c584=collection(db,_0x263d76(0x944)+appId+_0x263d76(0x226)),_0x3fd0b8=writeBatch(db);_0x86c6d2[_0x263d76(0x3b7)][_0x263d76(0xc92)](_0x255123=>{const _0x47b527=_0x263d76,_0xcd69b1=doc(_0x22c584);_0x3fd0b8['set'](_0xcd69b1,{'topic':_0x2c155d,'questionText':_0x255123[_0x47b527(0xcec)],'options':_0x255123[_0x47b527(0x211)],'correctAnswerIndex':_0x255123['correctAnswerIndex'],'explanation':_0x255123[_0x47b527(0x4dd)],'createdAt':serverTimestamp()});});try{await _0x3fd0b8[_0x263d76(0xb69)](),console[_0x263d76(0xced)](_0x263d76(0xc1d)+_0x86c6d2[_0x263d76(0x3b7)][_0x263d76(0x633)]+_0x263d76(0x676));}catch(_0x13333f){console[_0x263d76(0x537)](_0x263d76(0x976),_0x13333f);}}async function getStandardizedTopic(_0x294e5b){const _0x211df4=_0x18fcf7,_0x4c3ee0=_0x211df4(0x479)+_0x294e5b+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x657e73={'type':'OBJECT','properties':{'standardTopic':{'type':_0x211df4(0x279)}},'required':[_0x211df4(0x65d)]};try{const _0x1b7768=await callAnalysisApi(_0x4c3ee0,_0x657e73);return _0x1b7768['standardTopic'];}catch(_0x44a097){return console[_0x211df4(0x537)](_0x211df4(0xa6f),_0x44a097),_0x294e5b;}}async function handleGenerateEasyVersionQuiz(_0x2c5288){const _0xc8026=_0x18fcf7,_0x43a301=document['getElementById'](_0xc8026(0x692)),_0x1e1d39=document[_0xc8026(0x360)](_0xc8026(0x8c0));_0x1e1d39[_0xc8026(0x5a1)][_0xc8026(0x1f5)](_0xc8026(0x29e));const _0x3af17f=_0xc8026(0xc0b);_0x43a301['insertAdjacentHTML'](_0xc8026(0x919),_0x3af17f);try{const _0x3e4f26=allQuizzes['find'](_0x3685c8=>_0x3685c8['id']===_0x2c5288);if(!_0x3e4f26)throw new Error(_0xc8026(0x138));const _0x536e67=_0xc8026(0x309)+JSON['stringify'](_0x3e4f26[_0xc8026(0x3b7)])+_0xc8026(0xa31),_0x2fef41={'type':_0xc8026(0x6f6),'properties':{'questionText':{'type':_0xc8026(0x279)},'questionType':{'type':_0xc8026(0x279)},'options':{'type':_0xc8026(0x512),'items':{'type':_0xc8026(0x279)}},'correctAnswerIndex':{'type':_0xc8026(0x6b4)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xc8026(0x279)},'imageCode':{'type':_0xc8026(0x279)}},'required':[_0xc8026(0xcec),_0xc8026(0x434),'explanation']},_0x249b1f={'type':_0xc8026(0x6f6),'properties':{'questions':{'type':'ARRAY','items':_0x2fef41}},'required':['questions']},_0x192b49=await callAnalysisApi(_0x536e67,_0x249b1f);_0x192b49&&_0x192b49[_0xc8026(0x3b7)]&&_0x192b49['questions'][_0xc8026(0xc92)](_0x118ea8=>{const _0x24deba=_0xc8026;if(_0x118ea8[_0x24deba(0x942)](_0x24deba(0x931))){const _0x138229=String(_0x118ea8[_0x24deba(0x931)])[_0x24deba(0x665)]();(_0x138229===''||_0x138229[_0x24deba(0xc54)]()===_0x24deba(0x16d)||!_0x138229['startsWith'](_0x24deba(0x450)))&&delete _0x118ea8[_0x24deba(0x931)];}});if(!_0x192b49||!_0x192b49[_0xc8026(0x3b7)]||_0x192b49[_0xc8026(0x3b7)][_0xc8026(0x633)]===0x0)throw new Error(_0xc8026(0x7a3));const _0x257b70=_0x192b49[_0xc8026(0x3b7)]['map']((_0x10cfb2,_0x44f250)=>({..._0x10cfb2,'id':'q_'+Date[_0xc8026(0x36b)]()+'_'+_0x44f250})),_0x13d8c0={'projectId':_0x3e4f26[_0xc8026(0x15d)],'quizType':_0x3e4f26[_0xc8026(0x677)],'settings':_0x3e4f26['settings'],'createdBy':_0x3e4f26[_0xc8026(0x1c1)],'status':_0xc8026(0x455),'topic':_0xc8026(0x706)+_0x3e4f26[_0xc8026(0x94f)],'questions':_0x257b70,'createdAt':new Date()[_0xc8026(0x3a7)](),'quizMode':_0xc8026(0xb89),'pairedQuizId':null};let _0x32dd6e;while(!![]){_0x32dd6e=Math[_0xc8026(0x910)](0x3e8+Math[_0xc8026(0xc45)]()*0x2328)[_0xc8026(0xa76)]();const _0x1bb371=await getDoc(doc(db,_0xc8026(0x944)+appId+_0xc8026(0x46a),_0x32dd6e));if(!_0x1bb371[_0xc8026(0x815)]())break;}await setDoc(doc(db,_0xc8026(0x944)+appId+_0xc8026(0x46a),_0x32dd6e),_0x13d8c0),showMessage(_0xc8026(0x528));}catch(_0x413e06){console[_0xc8026(0x537)]('Error\x20generating\x20easy\x20version\x20quiz:',_0x413e06),showMessage(_0xc8026(0x920)+_0x413e06[_0xc8026(0x42e)]);}finally{const _0x4d13a5=document[_0xc8026(0x360)](_0xc8026(0x76c));_0x4d13a5&&_0x4d13a5[_0xc8026(0xbee)](),_0x1e1d39['classList'][_0xc8026(0xbee)](_0xc8026(0x29e));}}async function generatePracticeQuestions(_0x25ea32){const _0x468a97=_0x18fcf7,_0x1dc454='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x25ea32+_0x468a97(0x39b)+simpleMathPrompt+_0x468a97(0x997),_0x3042fa={'type':_0x468a97(0x6f6),'properties':{'questionText':{'type':_0x468a97(0x279)},'options':{'type':_0x468a97(0x512),'items':{'type':_0x468a97(0x279)}},'correctAnswerIndex':{'type':_0x468a97(0x6b4)},'explanation':{'type':_0x468a97(0x279)}},'required':[_0x468a97(0xcec),_0x468a97(0x211),_0x468a97(0x274),'explanation']},_0x12d395={'type':_0x468a97(0x6f6),'properties':{'topic':{'type':_0x468a97(0x279)},'questions':{'type':_0x468a97(0x512),'items':_0x3042fa}},'required':['topic','questions']};return await callAnalysisApi(_0x1dc454,_0x12d395);}function displayLessonPlan(_0x1c6701,_0x42abe4){const _0x2d939a=_0x18fcf7,_0x172608=_0x2d939a(0xbe3)+_0x42abe4[_0x2d939a(0x94f)]+_0x2d939a(0xb71)+_0x1c6701[_0x2d939a(0x63c)][_0x2d939a(0x985)](_0x14ed9c=>_0x2d939a(0x859)+_0x14ed9c+_0x2d939a(0xc38))[_0x2d939a(0x155)]('')+_0x2d939a(0xc9f)+_0x1c6701[_0x2d939a(0x4a7)]+_0x2d939a(0xbe9)+_0x1c6701[_0x2d939a(0xb99)]['map'](_0x33eac4=>_0x2d939a(0x256)+_0x33eac4[_0x2d939a(0x13f)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x33eac4['solution']+_0x2d939a(0xc57))[_0x2d939a(0x155)]('')+_0x2d939a(0x6d1);document['getElementById'](_0x2d939a(0x5ca))['textContent']=_0x2d939a(0x62e)+_0x42abe4['topic'],document[_0x2d939a(0x360)](_0x2d939a(0x92c))['innerHTML']=_0x172608,document[_0x2d939a(0x360)](_0x2d939a(0xbe7))[_0x2d939a(0x5a1)][_0x2d939a(0xbee)](_0x2d939a(0x29e));if(window[_0x2d939a(0xb63)])MathJax[_0x2d939a(0x5b0)]();}function displaySkillPracticeDrill(_0x189d5c){const _0x2aaee0=_0x18fcf7;let _0x178e36=0x0;const _0x3a4edd=_0x189d5c[_0x2aaee0(0x3b7)],_0x10b588=()=>{const _0x3f108c=_0x2aaee0,_0x570ee9=_0x3a4edd[_0x178e36],_0x3b7c34=_0x3f108c(0x670)+(_0x178e36+0x1)+'\x20/\x20'+_0x3a4edd['length']+_0x3f108c(0x574)+_0x570ee9[_0x3f108c(0xcec)]+_0x3f108c(0x505)+_0x570ee9[_0x3f108c(0x211)][_0x3f108c(0x985)]((_0x525b90,_0x38ed63)=>_0x3f108c(0xce2)+_0x38ed63+_0x3f108c(0x27b)+_0x38ed63+_0x3f108c(0xa17)+_0x38ed63+'\x22>'+_0x525b90+_0x3f108c(0x965))[_0x3f108c(0x155)]('')+_0x3f108c(0x589);studentQuizArea[_0x3f108c(0x1a0)]=_0x3b7c34;if(window[_0x3f108c(0xb63)])MathJax[_0x3f108c(0x5b0)]([studentQuizArea]);document[_0x3f108c(0x360)](_0x3f108c(0xc2a))[_0x3f108c(0x616)](_0x3f108c(0xc47),async()=>{const _0x25e492=await getHintForQuestion(_0x570ee9['questionText']);showMessage(_0x25e492);}),document['getElementById'](_0x3f108c(0xc02))[_0x3f108c(0x616)]('click',()=>{const _0x258e12=_0x3f108c,_0x27ca2b=document[_0x258e12(0xc8a)](_0x258e12(0x57e));if(!_0x27ca2b){showMessage(_0x258e12(0x60f));return;}const _0x12420f=document['getElementById'](_0x258e12(0xb4e)),_0x4f8412=parseInt(_0x27ca2b[_0x258e12(0x1db)])===_0x570ee9['correctAnswerIndex'];_0x4f8412?(_0x12420f[_0x258e12(0x6c6)]=_0x258e12(0x6cc),_0x12420f['innerHTML']=_0x258e12(0x30b)+_0x570ee9['explanation']):(_0x12420f[_0x258e12(0x6c6)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x12420f[_0x258e12(0x1a0)]=_0x258e12(0x31e)+_0x570ee9[_0x258e12(0x4dd)]);_0x12420f[_0x258e12(0x5a1)]['remove'](_0x258e12(0x29e));if(window['MathJax'])MathJax[_0x258e12(0x5b0)]([_0x12420f]);document[_0x258e12(0x360)]('check-answer-btn')['classList'][_0x258e12(0x1f5)]('hidden'),document['getElementById'](_0x258e12(0xc2a))[_0x258e12(0x5a1)][_0x258e12(0x1f5)]('hidden'),document[_0x258e12(0x360)](_0x258e12(0xc5b))['classList'][_0x258e12(0xbee)](_0x258e12(0x29e));}),document[_0x3f108c(0x360)](_0x3f108c(0xc5b))[_0x3f108c(0x616)](_0x3f108c(0xc47),()=>{const _0x58ff5e=_0x3f108c;_0x178e36++,_0x178e36<_0x3a4edd[_0x58ff5e(0x633)]?_0x10b588():(studentQuizArea['innerHTML']=_0x58ff5e(0xc4b),document[_0x58ff5e(0x360)](_0x58ff5e(0xbca))[_0x58ff5e(0x616)](_0x58ff5e(0xc47),()=>{const _0x31338f=_0x58ff5e;studentQuizArea[_0x31338f(0x5a1)][_0x31338f(0x1f5)]('hidden'),studentResultArea[_0x31338f(0x5a1)]['remove'](_0x31338f(0x29e));}));});};_0x10b588();}async function getHintForQuestion(_0x3575e9){const _0x4b218e=_0x18fcf7,_0x5d9d8e=_0x4b218e(0x244)+_0x3575e9+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x4df07b={'type':'OBJECT','properties':{'hint':{'type':'STRING'}},'required':[_0x4b218e(0x3a5)]};try{const _0x4975cd=await callAnalysisApi(_0x5d9d8e,_0x4df07b);return _0x4975cd[_0x4b218e(0x3a5)];}catch(_0x435fcf){return console[_0x4b218e(0x537)]('Failed\x20to\x20get\x20hint:',_0x435fcf),_0x4b218e(0x2a9);}}async function extractTextFromPdf(_0x11aae5){const _0x4f2743=_0x18fcf7;pdfjsLib[_0x4f2743(0xc6e)][_0x4f2743(0x9d9)]=_0x4f2743(0x695);const _0x4187bd=await _0x11aae5[_0x4f2743(0x20c)](),_0x3808ef=await pdfjsLib[_0x4f2743(0x2f1)](_0x4187bd)[_0x4f2743(0xbd6)],_0xdc076c=_0x3808ef['numPages'];let _0x47c859='';for(let _0x51d184=0x1;_0x51d184<=_0xdc076c;_0x51d184++){const _0x259d9b=await _0x3808ef[_0x4f2743(0x9c3)](_0x51d184),_0x1ef8c2=await _0x259d9b[_0x4f2743(0x6a7)](),_0x5a9a2f=_0x1ef8c2[_0x4f2743(0xc35)]['map'](_0x5a0976=>_0x5a0976[_0x4f2743(0x822)])['join']('\x20');_0x47c859+=_0x5a9a2f+'\x0a\x0a';}return _0x47c859;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x49eb31){const _0x3fe6c6=_0x18fcf7,_0x26caf0=document['getElementById'](_0x3fe6c6(0x3eb)),_0x380331=document[_0x3fe6c6(0x360)](_0x3fe6c6(0x6c0)),_0x1fe08e=document[_0x3fe6c6(0x360)](_0x3fe6c6(0x947));_0x26caf0[_0x3fe6c6(0x5a1)][_0x3fe6c6(0xbee)]('hidden'),_0x380331[_0x3fe6c6(0x1a0)]=_0x3fe6c6(0xa56),_0x1fe08e[_0x3fe6c6(0x5a1)][_0x3fe6c6(0x1f5)](_0x3fe6c6(0x29e));try{const _0x5a8117='วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22'+_0x49eb31+_0x3fe6c6(0x81d),_0x3588ed={'type':_0x3fe6c6(0x6f6),'properties':{'gradeLevel':{'type':_0x3fe6c6(0x279)},'curriculum':{'type':_0x3fe6c6(0x512),'items':{'type':_0x3fe6c6(0x6f6),'properties':{'sara':{'type':_0x3fe6c6(0x279)},'mainTopics':{'type':_0x3fe6c6(0x512),'items':{'type':_0x3fe6c6(0x6f6),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x3fe6c6(0x512),'items':{'type':_0x3fe6c6(0x279)}}},'required':[_0x3fe6c6(0xc3b),_0x3fe6c6(0xbcc)]}}},'required':['sara',_0x3fe6c6(0x1ad)]}}},'required':['gradeLevel',_0x3fe6c6(0xaf3)]},_0x5280a4=await callAnalysisApi(_0x5a8117,_0x3588ed);if(_0x5280a4&&_0x5280a4[_0x3fe6c6(0xaf3)])extractedBlueprintData=_0x5280a4,renderBlueprintTopics(_0x5280a4),_0x1fe08e[_0x3fe6c6(0x5a1)][_0x3fe6c6(0xbee)](_0x3fe6c6(0x29e));else throw new Error(_0x3fe6c6(0x86f));}catch(_0x4d5b3f){console[_0x3fe6c6(0x537)](_0x3fe6c6(0x4a5),_0x4d5b3f),_0x380331[_0x3fe6c6(0x1a0)]=_0x3fe6c6(0x970);}}function renderBlueprintTopics(_0x28ddc8){const _0x28c0c0=_0x18fcf7,_0x2db4bf=document[_0x28c0c0(0x360)]('blueprint-topics-list'),_0x1815ce=_0x28ddc8['gradeLevel'],_0x468444=_0x28c0c0(0x3cd)+_0x1815ce+_0x28c0c0(0xb29);let _0x471309='';_0x28ddc8[_0x28c0c0(0xaf3)]['forEach'](_0x7f70f6=>{const _0x214924=_0x28c0c0;_0x471309+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x7f70f6['sara']+_0x214924(0x802),_0x7f70f6['mainTopics']['forEach'](_0x7a066b=>{const _0x34a11c=_0x214924;_0x471309+=_0x34a11c(0x584)+_0x7a066b[_0x34a11c(0xc3b)]+_0x34a11c(0x163),_0x7a066b['subTopics'][_0x34a11c(0xc92)](_0x303a86=>{const _0x33aa86=_0x34a11c;_0x471309+=_0x33aa86(0x4ad)+_0x303a86[_0x33aa86(0x955)](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x1815ce[_0x33aa86(0x955)](/'/g,'\x5c\x27')+_0x33aa86(0x7fd)+_0x303a86+_0x33aa86(0xbad)+_0x303a86[_0x33aa86(0x955)](/'/g,'\x5c\x27')+_0x33aa86(0x21f);}),_0x471309+=_0x34a11c(0x4d5);}),_0x471309+='</div>';}),_0x2db4bf[_0x28c0c0(0x1a0)]=_0x468444+_0x471309;}async function handleGenerateTeachingContent(_0x2df8b3){const _0xca4f7a=_0x18fcf7,_0x24c21f=document['getElementById'](_0xca4f7a(0xbe7)),_0xd07b79=document[_0xca4f7a(0x360)](_0xca4f7a(0x92c));document[_0xca4f7a(0x360)](_0xca4f7a(0x5ca))['textContent']=_0xca4f7a(0x848)+_0x2df8b3,_0xd07b79[_0xca4f7a(0x1a0)]=_0xca4f7a(0xb2d),_0x24c21f[_0xca4f7a(0x5a1)][_0xca4f7a(0xbee)](_0xca4f7a(0x29e));try{const _0x190517=_0xca4f7a(0xb9f)+_0x2df8b3+_0xca4f7a(0x788),_0x7781c3={'type':'OBJECT','properties':{'keyConcepts':{'type':_0xca4f7a(0x512),'items':{'type':_0xca4f7a(0x279)}},'commonMistakes':{'type':_0xca4f7a(0x512),'items':{'type':_0xca4f7a(0x279)}},'stepByStepExamples':{'type':_0xca4f7a(0x512),'items':{'type':_0xca4f7a(0x6f6),'properties':{'question':{'type':_0xca4f7a(0x279)},'solution':{'type':_0xca4f7a(0x279)}},'required':[_0xca4f7a(0x13f),_0xca4f7a(0x773)]}},'teacherTips':{'type':'ARRAY','items':{'type':_0xca4f7a(0x279)}}},'required':[_0xca4f7a(0x95a),'commonMistakes',_0xca4f7a(0xd00),'teacherTips']},_0x30c178=await callAnalysisApi(_0x190517,_0x7781c3);displayTeachingContent(_0x30c178,_0x2df8b3);}catch(_0x14ed87){console[_0xca4f7a(0x537)](_0xca4f7a(0xc03),_0x14ed87),_0xd07b79['innerHTML']=_0xca4f7a(0x658)+_0x14ed87[_0xca4f7a(0x42e)]+'</p>';}}function displayTeachingContent(_0x424164,_0xf9efa6){const _0x4455f0=_0x18fcf7,_0x30505e=document[_0x4455f0(0x360)](_0x4455f0(0x92c));document[_0x4455f0(0x360)]('lesson-plan-title')[_0x4455f0(0x946)]=_0x4455f0(0x75e)+_0xf9efa6;const _0x4044a3=_0x4455f0(0x97a)+_0x424164[_0x4455f0(0x95a)][_0x4455f0(0x985)](_0x2853ab=>_0x4455f0(0x859)+_0x2853ab+_0x4455f0(0xc38))[_0x4455f0(0x155)]('')+_0x4455f0(0x8a0)+_0x424164[_0x4455f0(0x3aa)][_0x4455f0(0x985)](_0x244992=>'<li>'+_0x244992+_0x4455f0(0xc38))[_0x4455f0(0x155)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x424164[_0x4455f0(0xd00)]['map'](_0x11dd67=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x11dd67[_0x4455f0(0x13f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x11dd67[_0x4455f0(0x773)]+_0x4455f0(0x7b1))['join']('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x424164[_0x4455f0(0x3fc)][_0x4455f0(0x985)](_0x290586=>'<li>'+_0x290586+_0x4455f0(0xc38))['join']('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x30505e[_0x4455f0(0x1a0)]=_0x4044a3;if(window['MathJax'])MathJax[_0x4455f0(0x5b0)]([_0x30505e]);}async function generateQuizForSingleTopic(_0x13cb63){const _0x259c00=_0x18fcf7;console['log'](_0x259c00(0x4f0)+_0x13cb63+'\x22');const _0x3c26cd=document[_0x259c00(0x360)](_0x259c00(0xade)),_0x3ef7e9=_0x3c26cd[_0x259c00(0x66b)][_0x259c00(0x633)]>0x0?_0x3c26cd[_0x259c00(0x66b)][0x0]:null;let _0x494b9a=null;if(_0x3ef7e9)try{const _0x50759=new FileReader();_0x50759[_0x259c00(0x568)](_0x3ef7e9);const _0x5a4139=await new Promise((_0x2e3126,_0x3961c0)=>{const _0x34548e=_0x259c00;_0x50759['onload']=()=>_0x2e3126(_0x50759['result'][_0x34548e(0x779)](',')[0x1]),_0x50759[_0x34548e(0x784)]=_0x2d1dee=>_0x3961c0(_0x2d1dee);});_0x494b9a=[{'inlineData':{'mimeType':_0x3ef7e9['type'],'data':_0x5a4139}}];}catch(_0x42f76a){console[_0x259c00(0x537)](_0x259c00(0x289),_0x42f76a),showMessage(_0x259c00(0xce1));return;}generateQuiz(_0x13cb63,null,null,_0x494b9a,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x34d911=null){const _0x15e490=_0x18fcf7,_0x5a83f9=document[_0x15e490(0x360)](_0x15e490(0x491)),_0x4c3788=document[_0x15e490(0x360)]('loader-text');let _0x4040d8,_0x35273f=[];if(_0x34d911)_0x4040d8=_0x34d911,_0x35273f=_0x4040d8[_0x15e490(0x9b7)](0x2);else{const _0x24b163=document[_0x15e490(0x360)](_0x15e490(0x277)),_0x4aa9ce=document['getElementById']('reference-pdf-upload'),_0x2303f4=_0x24b163[_0x15e490(0x66b)][0x0];if(!_0x2303f4){showMessage(_0x15e490(0x2c9));return;}_0x4c3788[_0x15e490(0x946)]=_0x15e490(0x67e);const _0x20e6a1=await new Promise((_0x189d40,_0x2f2bde)=>{const _0x14a504=_0x15e490,_0x5847ee=new FileReader();_0x5847ee[_0x14a504(0x568)](_0x2303f4),_0x5847ee[_0x14a504(0x1e8)]=()=>_0x189d40(_0x5847ee[_0x14a504(0xc7f)]['split'](',')[0x1]),_0x5847ee[_0x14a504(0x784)]=_0x2f2bde;});_0x4040d8=[{'text':'PROMPT_PLACEHOLDER'},{'inlineData':{'mimeType':_0x2303f4[_0x15e490(0x635)],'data':_0x20e6a1}}];if(_0x4aa9ce[_0x15e490(0x66b)]['length']>0x0){const _0x440318=_0x4aa9ce[_0x15e490(0x66b)][0x0];_0x4c3788['textContent']=_0x15e490(0x8fb);const _0x5d92e7=await new Promise((_0x3cd336,_0x377a16)=>{const _0x37ceeb=_0x15e490,_0x59b24b=new FileReader();_0x59b24b[_0x37ceeb(0x568)](_0x440318),_0x59b24b[_0x37ceeb(0x1e8)]=()=>_0x3cd336(_0x59b24b[_0x37ceeb(0xc7f)][_0x37ceeb(0x779)](',')[0x1]),_0x59b24b[_0x37ceeb(0x784)]=_0x377a16;}),_0xb6ec8={'inlineData':{'mimeType':_0x440318[_0x15e490(0x635)],'data':_0x5d92e7}};_0x4040d8[_0x15e490(0x62c)](_0xb6ec8),_0x35273f[_0x15e490(0x62c)](_0xb6ec8);}}const _0x42af67=_0x15e490(0xb90),_0x57aeee='\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20';let _0x461299='';_0x35273f&&_0x35273f[_0x15e490(0x633)]>0x0?_0x461299=_0x42af67:_0x461299=_0x57aeee;const _0x33bd74='\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a'+_0x461299+_0x15e490(0x19b),_0x50b55f={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x15e490(0x279),'enum':[_0x15e490(0xc24),_0x15e490(0x693),'true_false',_0x15e490(0x463)]},'options':{'type':'ARRAY','items':{'type':_0x15e490(0x279)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x15e490(0x279)},'correctAnswer':{'type':_0x15e490(0xcf0)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x15e490(0x279)}},'required':['questionType',_0x15e490(0x4dd)]},_0x215941={'type':_0x15e490(0x6f6),'properties':{'topic':{'type':_0x15e490(0x279)},'questions':{'type':'ARRAY','items':_0x50b55f}},'required':[_0x15e490(0x94f),_0x15e490(0x3b7)]};_0x4040d8[0x0]['text']=_0x33bd74,await handleApiCall(_0x4040d8,_0x15e490(0x9e6),_0x215941);}function proceedToNextQuestion(_0x74e27c){const _0x241f60=_0x18fcf7;studentAnswersPerQuestion['push'](_0x74e27c),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x241f60(0x3b7)][_0x241f60(0x633)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x4ea7c7,_0x2f17de,_0x46d7cc){const _0x1ddf55=_0x18fcf7,_0x2cbc4c=Object[_0x1ddf55(0x85e)](_0x4ea7c7[_0x1ddf55(0x326)]||{}),_0x2c5bc1=_0x2cbc4c[_0x1ddf55(0x633)],_0x34170d=[..._0x2cbc4c]['sort']((_0x1ab183,_0x1fcac4)=>_0x1fcac4[_0x1ddf55(0x8c2)]-_0x1ab183[_0x1ddf55(0x8c2)]),_0x47be49=_0x46d7cc;let _0x17a269='';const _0x735570=_0x4ea7c7['shuffledQuiz'][_0x1ddf55(0x3b7)],_0xdd0d65=_0x735570[_0x47be49],_0x42a3a2=_0x4b7358=>String[_0x1ddf55(0xb2b)](0x41+_0x4b7358);let _0x3a1a52='',_0xca46b4='';if(_0xdd0d65){const _0x20ea40=_0xdd0d65[_0x1ddf55(0x434)]||_0x4ea7c7[_0x1ddf55(0xa5a)][_0x1ddf55(0x677)];if(_0x20ea40===_0x1ddf55(0xc24)&&_0xdd0d65[_0x1ddf55(0x211)]&&_0xdd0d65[_0x1ddf55(0x274)]!==undefined){const _0x471245=_0xdd0d65[_0x1ddf55(0x274)];_0x3a1a52=_0xdd0d65[_0x1ddf55(0x211)][_0x471245],_0xca46b4=_0x42a3a2(_0x471245)+'.';}else{if(_0x20ea40===_0x1ddf55(0x8e2)){const _0x56308c=_0xdd0d65['correctAnswer']===!![]||String(_0xdd0d65[_0x1ddf55(0x30e)])[_0x1ddf55(0xc54)]()===_0x1ddf55(0x426);_0x56308c?(_0x3a1a52=_0x1ddf55(0x168),_0xca46b4='ก.'):(_0x3a1a52=_0x1ddf55(0x67b),_0xca46b4='ข.');}else{if(_0x20ea40===_0x1ddf55(0x463))_0x3a1a52=_0xdd0d65[_0x1ddf55(0xa81)]||'-',_0xca46b4='';else _0x20ea40===_0x1ddf55(0x693)&&(_0x3a1a52=_0xdd0d65[_0x1ddf55(0x698)]||'-',_0xca46b4='');}}}_0x3a1a52&&(_0x17a269=_0x1ddf55(0x730)+(_0x47be49+0x1)+'\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0xca46b4+'\x20'+_0x3a1a52+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');const _0x268c22=_0x34170d[_0x1ddf55(0x985)](_0x1b1556=>{const _0x4fe6fa=_0x1ddf55;let _0x3605a5=![];if(_0x1b1556[_0x4fe6fa(0x2e1)]&&_0x47be49!==-0x1){const _0x1c30a4=_0x1b1556[_0x4fe6fa(0x2e1)][_0x4fe6fa(0x64b)](_0x5283c1=>_0x5283c1['questionIndex']===_0x47be49);_0x1c30a4&&_0x1c30a4[_0x4fe6fa(0xb33)]&&(_0x3605a5=!![]);}const _0x51168c=_0x3605a5?_0x4fe6fa(0x4a0):_0x4fe6fa(0xa88);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20'+_0x51168c+_0x4fe6fa(0x907)+_0x1b1556['name']+_0x4fe6fa(0x34b)+_0x1b1556['score']+_0x4fe6fa(0x80c);})['join'](''),_0x4fc329=_0x735570['map']((_0x1bd2b6,_0x4f4347)=>{const _0x1159cd=_0x1ddf55,_0x51b62e=_0x2cbc4c[_0x1159cd(0x2bb)](_0x29c401=>_0x29c401['answers']&&_0x29c401[_0x1159cd(0x2e1)][_0x1159cd(0x64b)](_0xa510d8=>_0xa510d8['questionIndex']===_0x4f4347&&_0xa510d8[_0x1159cd(0xb33)]))[_0x1159cd(0x633)],_0xd6fe87=_0x4f4347===_0x47be49,_0x1f30e1=_0xd6fe87?_0x1159cd(0x75c):_0x1159cd(0xba0);return _0x1159cd(0xbba)+_0x1f30e1+_0x1159cd(0x8db)+(_0x4f4347+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x51b62e+_0x1159cd(0x6e2)+_0x2c5bc1+_0x1159cd(0x548);})[_0x1ddf55(0x155)]('');let _0x2e0b0b='',_0x10ac80='';if(_0x2f17de){const _0xe93219=_0x4ea7c7['gameVariant']||_0x1ddf55(0x7d9),_0x299489=_0x4ea7c7[_0x1ddf55(0xa20)]>=_0x735570['length']-0x1,_0x52c39a=_0x4ea7c7[_0x1ddf55(0x74b)]>=_0x735570[_0x1ddf55(0x633)]-0x1;let _0x47a460=_0x1ddf55(0x744);(_0xe93219===_0x1ddf55(0x7d9)&&_0x299489||_0xe93219===_0x1ddf55(0x577)&&_0x52c39a)&&(_0x47a460=_0x1ddf55(0xb50)),_0x2e0b0b='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>'+_0x47a460+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',_0x10ac80=_0x1ddf55(0x33e);}const _0x3369dc=_0x1ddf55(0x283)+_0x4ea7c7[_0x1ddf55(0xa5a)][_0x1ddf55(0x94f)]+_0x1ddf55(0x3da)+_0x10ac80+_0x1ddf55(0x213)+_0x17a269+_0x1ddf55(0x399)+(_0x268c22||_0x1ddf55(0x57d))+_0x1ddf55(0xba2)+_0x4fc329+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2f17de?_0x1ddf55(0x5af)+_0x2e0b0b+_0x1ddf55(0x2c6):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x1ddf55(0x1a0)]=_0x3369dc;if(window[_0x1ddf55(0xb63)]){const _0x5e83d0=document['getElementById'](_0x1ddf55(0xc83));_0x5e83d0&&MathJax[_0x1ddf55(0x5b0)]([_0x5e83d0]);}if(_0x2f17de){document['getElementById'](_0x1ddf55(0x852))['onclick']=async()=>{const _0x196855=_0x1ddf55,_0x26943f=doc(db,_0x196855(0x944)+appId+_0x196855(0x69d),currentLiveGameId),_0xcd97c5=_0x4ea7c7[_0x196855(0x359)]||_0x196855(0x7d9),_0x4bcf40=_0x4ea7c7[_0x196855(0xa20)]>=_0x735570['length']-0x1,_0x2d5e10=_0x4ea7c7[_0x196855(0x74b)]>=_0x735570[_0x196855(0x633)]-0x1;if(_0xcd97c5===_0x196855(0x7d9)){if(!_0x4bcf40){const _0x1fd409=_0x4ea7c7['currentQuestionIndex']+0x1,_0x5a100e={};Object['keys'](_0x4ea7c7['players'])[_0x196855(0xc92)](_0x2f15a6=>{const _0x32ff3b=_0x196855;_0x5a100e[_0x32ff3b(0xc41)+_0x2f15a6+_0x32ff3b(0xa43)]=![],_0x5a100e['players.'+_0x2f15a6+_0x32ff3b(0xcd9)]=null;}),await updateDoc(_0x26943f,{..._0x5a100e,'status':'question','currentQuestionIndex':_0x1fd409,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x26943f,{'status':_0x196855(0x394)});}else!_0x2d5e10?await updateDoc(_0x26943f,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x26943f,{'status':'podium'});};const _0x4f3774=document[_0x1ddf55(0x360)](_0x1ddf55(0x729));_0x4f3774&&(_0x4f3774[_0x1ddf55(0x8b1)]=()=>{const _0x19f4cd=_0x1ddf55;showConfirmation(_0x19f4cd(0x1a5),async()=>{const _0x219171=_0x19f4cd,_0xa7629b=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0xa7629b,{'status':_0x219171(0x394)});});});}}async function handleGenerateParallelFromBank(_0x43ee2b){const _0x56a385=_0x18fcf7,_0x23d42b=document[_0x56a385(0x360)]('results-tab-content'),_0x329812=document[_0x56a385(0x360)](_0x56a385(0x8c0));_0x329812['classList'][_0x56a385(0x1f5)](_0x56a385(0x29e));const _0x320aaa=_0x56a385(0x291)+_0x43ee2b[_0x56a385(0x94f)]+_0x56a385(0xb46);_0x23d42b['insertAdjacentHTML']('beforeend',_0x320aaa);const _0x54f5b8=document[_0x56a385(0x360)](_0x56a385(0x462));try{const _0x387859=_0x43ee2b['questions'][_0x56a385(0x985)]((_0x2b35e9,_0x5c9944)=>{const _0x250d79=_0x56a385;let _0x5eeecf=_0x5c9944+0x1+'.\x20'+(_0x2b35e9[_0x250d79(0xcec)]||_0x2b35e9[_0x250d79(0x7e5)])+'\x0a';if(_0x2b35e9[_0x250d79(0x211)])_0x5eeecf+=_0x2b35e9['options'][_0x250d79(0x985)]((_0x1ce57d,_0x4c4043)=>_0x250d79(0xbcd)+(_0x4c4043===_0x2b35e9[_0x250d79(0x274)]?_0x250d79(0x272):'')+'\x20'+_0x1ce57d)['join']('\x0a');else _0x2b35e9[_0x250d79(0x698)]&&(_0x5eeecf+=_0x250d79(0x503)+_0x2b35e9[_0x250d79(0x698)]);return _0x5eeecf;})['join']('\x0a\x0a');_0x54f5b8[_0x56a385(0x946)]=_0x56a385(0x299);const _0x448a30=_0x56a385(0x97b)+_0x43ee2b[_0x56a385(0x94f)]+_0x56a385(0x8ce)+_0x387859+_0x56a385(0x7c6)+simpleMathPrompt+_0x56a385(0x346),_0x210c78={'type':_0x56a385(0x6f6),'properties':{'questionText':{'type':_0x56a385(0x279)},'questionType':{'type':'STRING','enum':[_0x56a385(0xc24),_0x56a385(0x693),_0x56a385(0x8e2),'matching_item']},'options':{'type':_0x56a385(0x512),'items':{'type':_0x56a385(0x279)}},'correctAnswerIndex':{'type':_0x56a385(0x6b4)},'idealAnswer':{'type':_0x56a385(0x279)},'correctAnswer':{'type':_0x56a385(0xcf0)},'stem':{'type':_0x56a385(0x279)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x56a385(0x279)}},'explanation':{'type':_0x56a385(0x279)},'imageCode':{'type':_0x56a385(0x279)}},'required':[_0x56a385(0x434),_0x56a385(0x4dd)]},_0x3035d7={'type':_0x56a385(0x6f6),'properties':{'topic':{'type':_0x56a385(0x279)},'questions':{'type':_0x56a385(0x512),'items':_0x210c78}},'required':['topic',_0x56a385(0x3b7)]},_0x4ca055=await callAnalysisApi(_0x448a30,_0x3035d7),_0x5da08a=_0x4ca055[_0x56a385(0x3b7)][_0x56a385(0x985)]((_0x306976,_0x52d7ba)=>({..._0x306976,'id':'q_'+Date['now']()+'_'+_0x52d7ba})),_0x4233b4='(คู่ขนาน)\x20'+_0x43ee2b[_0x56a385(0x94f)],_0xed4bda={'topic':_0x4233b4,'questions':_0x5da08a,'quizType':_0x43ee2b[_0x56a385(0x677)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x56a385(0x3a7)](),'status':_0x56a385(0x455),'settings':_0x43ee2b[_0x56a385(0x3c1)],'quizMode':_0x56a385(0xb89),'pairedQuizId':null,'lessonPlan':null};let _0x92b287;while(!![]){_0x92b287=Math[_0x56a385(0x910)](0x3e8+Math['random']()*0x2328)[_0x56a385(0xa76)]();const _0x1e60c8=await getDoc(doc(db,'artifacts/'+appId+_0x56a385(0x46a),_0x92b287));if(!_0x1e60c8[_0x56a385(0x815)]())break;}await setDoc(doc(db,_0x56a385(0x944)+appId+_0x56a385(0x46a),_0x92b287),_0xed4bda),showMessage(_0x56a385(0x6a0));}catch(_0x4edff5){console[_0x56a385(0x537)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x4edff5),showMessage(_0x56a385(0x920)+_0x4edff5[_0x56a385(0x42e)]);}finally{const _0x3e8c94=document['getElementById'](_0x56a385(0x76c));_0x3e8c94&&_0x3e8c94[_0x56a385(0xbee)](),_0x329812[_0x56a385(0x5a1)][_0x56a385(0xbee)]('hidden');}}async function handleGenerateParallelPostTest(_0xf11051){const _0x2c66d5=_0x18fcf7,_0x466d71=document['getElementById'](_0x2c66d5(0x692)),_0x311237=document[_0x2c66d5(0x360)](_0x2c66d5(0x8c0));_0x311237['classList'][_0x2c66d5(0x1f5)](_0x2c66d5(0x29e));const _0x555596='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x466d71[_0x2c66d5(0x44f)](_0x2c66d5(0x919),_0x555596);try{const _0x41a784=_0xf11051[_0x2c66d5(0x3b7)][_0x2c66d5(0x985)]((_0x43ce7e,_0x29b1e4)=>{const _0x329760=_0x2c66d5;let _0x52eef2=_0x29b1e4+0x1+'.\x20'+(_0x43ce7e[_0x329760(0xcec)]||_0x43ce7e[_0x329760(0x7e5)]);if(_0x43ce7e[_0x329760(0x211)])_0x52eef2+=_0x329760(0x189)+_0x43ce7e[_0x329760(0x211)][_0x329760(0x155)](',\x20');return _0x52eef2;})[_0x2c66d5(0x155)]('\x0a\x0a'),_0xf4e070='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0xf11051[_0x2c66d5(0x94f)]+_0x2c66d5(0x51a)+_0x41a784+_0x2c66d5(0x86a)+simpleMathPrompt+_0x2c66d5(0x346),_0x47839a={'type':_0x2c66d5(0x6f6),'properties':{'topic':{'type':_0x2c66d5(0x279)},'questions':{'type':_0x2c66d5(0x512),'items':{'type':_0x2c66d5(0x6f6),'properties':{'questionText':{'type':_0x2c66d5(0x279)},'questionType':{'type':'STRING'},'options':{'type':_0x2c66d5(0x512),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2c66d5(0x6b4)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2c66d5(0x279)}},'required':['questionText',_0x2c66d5(0x4dd)]}}},'required':[_0x2c66d5(0x94f),_0x2c66d5(0x3b7)]},_0x3eff4a=await callAnalysisApi(_0xf4e070,_0x47839a),_0xe10b5f=_0xf11051['topic'][_0x2c66d5(0x955)](_0x2c66d5(0x984),'')[_0x2c66d5(0x665)](),_0x3d2c88=_0x2c66d5(0xbf8)+_0xe10b5f,_0x313165={..._0x3eff4a,'topic':_0x3d2c88,'quizType':_0xf11051['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2c66d5(0x3a7)](),'status':_0x2c66d5(0x455),'settings':_0xf11051[_0x2c66d5(0x3c1)],'quizMode':_0x2c66d5(0xaa0),'pairedQuizId':_0xf11051['id']};let _0x2ea4da;while(!![]){_0x2ea4da=Math[_0x2c66d5(0x910)](0x3e8+Math[_0x2c66d5(0xc45)]()*0x2328)['toString']();const _0x32e34c=await getDoc(doc(db,_0x2c66d5(0x944)+appId+_0x2c66d5(0x46a),_0x2ea4da));if(!_0x32e34c[_0x2c66d5(0x815)]())break;}await setDoc(doc(db,_0x2c66d5(0x944)+appId+_0x2c66d5(0x46a),_0x2ea4da),_0x313165);const _0x16937e=doc(db,_0x2c66d5(0x944)+appId+_0x2c66d5(0x46a),_0xf11051['id']);await updateDoc(_0x16937e,{'pairedQuizId':_0x2ea4da}),showMessage(_0x2c66d5(0x311));}catch(_0xe56623){console[_0x2c66d5(0x537)](_0x2c66d5(0xab7),_0xe56623),showMessage('เกิดข้อผิดพลาด:\x20'+_0xe56623[_0x2c66d5(0x42e)]);}finally{const _0xd856e7=document[_0x2c66d5(0x360)]('temp-loader-results');if(_0xd856e7)_0xd856e7[_0x2c66d5(0xbee)]();_0x311237[_0x2c66d5(0x5a1)][_0x2c66d5(0xbee)]('hidden');}}async function handleGenerateParallelTest(_0x1c70a1=null){const _0x3c05f5=_0x18fcf7;let _0x2e5c1b=_0x1c70a1;if(!_0x2e5c1b){const _0x4c4f47=document['getElementById'](_0x3c05f5(0x329));_0x4c4f47['files'][_0x3c05f5(0x633)]>0x0&&(_0x2e5c1b=_0x4c4f47[_0x3c05f5(0x66b)][0x0]);}if(!_0x2e5c1b){showMessage(_0x3c05f5(0x6c1));return;}const _0x1a8f2c=document[_0x3c05f5(0x360)](_0x3c05f5(0x491)),_0x471c55=document[_0x3c05f5(0x360)](_0x3c05f5(0xa5c)),_0x52b9f6=document[_0x3c05f5(0x360)]('generated-quiz-container'),_0x1b2bbb=document[_0x3c05f5(0x360)](_0x3c05f5(0xac6));_0x1b2bbb['disabled']=!![],document[_0x3c05f5(0x360)](_0x3c05f5(0x982))['classList'][_0x3c05f5(0xbee)](_0x3c05f5(0x29e)),_0x52b9f6[_0x3c05f5(0x1a0)]='',_0x1a8f2c[_0x3c05f5(0x5a1)]['remove'](_0x3c05f5(0x29e)),_0x471c55[_0x3c05f5(0x946)]=_0x3c05f5(0x518);const _0x536b81=new FileReader();_0x536b81[_0x3c05f5(0x568)](_0x2e5c1b),_0x536b81[_0x3c05f5(0x1e8)]=async()=>{const _0x480357=_0x3c05f5;try{const _0x5c3c48=_0x536b81[_0x480357(0xc7f)]['split'](',')[0x1],_0x480272=_0x2e5c1b['type'];_0x471c55[_0x480357(0x946)]=_0x480357(0xc20);const _0x2322f8=document[_0x480357(0x360)](_0x480357(0x627))[_0x480357(0x5fc)],_0xf7e422=_0x2322f8?_0x480357(0xb94):'',_0x3f829f=_0x480357(0x602),_0x14e468={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x480357(0xc24),_0x480357(0x693)]},'options':{'type':_0x480357(0x512),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x480357(0x6b4)},'idealAnswer':{'type':_0x480357(0x279)},'explanation':{'type':_0x480357(0x279)},'imageCode':{'type':'STRING'}},'required':[_0x480357(0xcec),_0x480357(0x434),'explanation']},_0x5dfddc={'type':_0x480357(0x6f6),'properties':{'topic':{'type':_0x480357(0x279)},'questions':{'type':'ARRAY','items':_0x14e468}},'required':[_0x480357(0x94f),_0x480357(0x3b7)]},_0x453001=[{'text':_0x3f829f},{'inlineData':{'mimeType':_0x480272,'data':_0x5c3c48}}];await handleApiCall(_0x453001,_0x480357(0x7c8),_0x5dfddc);}catch(_0x114f0a){console[_0x480357(0x537)](_0x480357(0x675),_0x114f0a),showMessage('เกิดข้อผิดพลาด:\x20'+_0x114f0a[_0x480357(0x42e)]),_0x52b9f6[_0x480357(0x1a0)]=_0x480357(0xa7b);}finally{_0x1a8f2c[_0x480357(0x5a1)][_0x480357(0x1f5)](_0x480357(0x29e)),_0x1b2bbb[_0x480357(0xa78)]=![];}},_0x536b81[_0x3c05f5(0x784)]=_0x274316=>{const _0x4c0934=_0x3c05f5;console['error'](_0x4c0934(0x1af),_0x274316),showMessage(_0x4c0934(0xcb3)),_0x1a8f2c['classList'][_0x4c0934(0x1f5)]('hidden'),_0x1b2bbb[_0x4c0934(0xa78)]=![];};}async function handleRegenerateQuestionInEditor(_0x250113){const _0x45f05f=_0x18fcf7;if(currentEditingQuizData===null)return;const _0x4d8d76=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x250113+'\x22]');_0x4d8d76&&(_0x4d8d76['innerHTML']='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x46123e=currentEditingQuizData[_0x45f05f(0x3b7)][_0x250113],_0x58d72f=currentEditingQuizData[_0x45f05f(0x94f)],_0x5a2696=_0x46123e['questionType'],_0x4c3689={'type':_0x45f05f(0x6f6),'properties':{'questionText':{'type':_0x45f05f(0x279)},'options':{'type':'ARRAY','items':{'type':_0x45f05f(0x279)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x45f05f(0x279)}},'required':[_0x45f05f(0xcec),_0x45f05f(0x211),'correctAnswerIndex',_0x45f05f(0x4dd)]},_0x3a8a85={'type':_0x45f05f(0x6f6),'properties':{'questionText':{'type':_0x45f05f(0x279)},'idealAnswer':{'type':_0x45f05f(0x279)},'explanation':{'type':_0x45f05f(0x279)}},'required':[_0x45f05f(0xcec),_0x45f05f(0x698),_0x45f05f(0x4dd)]};let _0x4ce7fc,_0xd60740='';_0x5a2696===_0x45f05f(0xc24)?(_0x4ce7fc=_0x4c3689,_0xd60740=_0x45f05f(0xcb4)):(_0x4ce7fc=_0x3a8a85,_0xd60740='แบบเติมคำตอบ');const _0x486847=_0x45f05f(0x6d8)+_0x58d72f+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0xd60740+_0x45f05f(0xce0)+(_0x46123e[_0x45f05f(0xcec)]||_0x46123e['stem'])+'\x22.\x20'+simpleMathPrompt;try{const _0x566ec7=await callAnalysisApi(_0x486847,_0x4ce7fc);currentEditingQuizData['questions'][_0x250113]={..._0x46123e,..._0x566ec7},renderQuizEditor(currentEditingQuizData);}catch(_0x585cb7){console['error'](_0x45f05f(0xc9b),_0x585cb7),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x21df19=_0x18fcf7,_0x217d27=document['getElementById'](_0x21df19(0x891));currentMode===_0x21df19(0x35e)?(currentMode=_0x21df19(0x252),_0x217d27['innerHTML']=_0x21df19(0x5d4),_0x217d27['title']=_0x21df19(0x9b8),showView('admin-dashboard')):(currentMode=_0x21df19(0x35e),_0x217d27[_0x21df19(0x1a0)]=_0x21df19(0xcb9),_0x217d27[_0x21df19(0x912)]='สลับไปโหมดผู้ควบคุม',showView(_0x21df19(0x35e)));}function handleAdminLogin(){const _0x3a9014=_0x18fcf7,_0x59cdb3=document[_0x3a9014(0x360)](_0x3a9014(0x14e)),_0x504b1c=document[_0x3a9014(0x360)](_0x3a9014(0xc58));if(_0x59cdb3[_0x3a9014(0x1db)]===_0x3a9014(0x7c4)){adminPasswordModal['classList'][_0x3a9014(0x1f5)]('hidden'),_0x59cdb3[_0x3a9014(0x1db)]='',_0x504b1c[_0x3a9014(0x5a1)][_0x3a9014(0x1f5)]('hidden'),currentMode='admin';const _0x4e6372=document[_0x3a9014(0x360)](_0x3a9014(0x891));_0x4e6372['innerHTML']=_0x3a9014(0x5d4),_0x4e6372[_0x3a9014(0x912)]=_0x3a9014(0x9b8),showView('admin-dashboard');}else _0x504b1c[_0x3a9014(0x5a1)]['remove'](_0x3a9014(0x29e)),_0x59cdb3['value']='';}function switchProjectTab(_0xc4c542){const _0x474aa5=_0x18fcf7;[_0x474aa5(0x27f),'results',_0x474aa5(0x52b)][_0x474aa5(0xc92)](_0x3496d6=>{const _0xef3e59=_0x474aa5;document[_0xef3e59(0x360)](_0x3496d6+_0xef3e59(0x280))['classList'][_0xef3e59(0xbee)]('active'),document[_0xef3e59(0x360)](_0x3496d6+_0xef3e59(0x413))[_0xef3e59(0x5a1)][_0xef3e59(0x1f5)](_0xef3e59(0x29e));}),document[_0x474aa5(0x360)](_0xc4c542+_0x474aa5(0x280))[_0x474aa5(0x5a1)][_0x474aa5(0x1f5)]('active'),document[_0x474aa5(0x360)](_0xc4c542+_0x474aa5(0x413))['classList']['remove'](_0x474aa5(0x29e));}function switchQuizDetailTab(_0xa5210d){const _0x48ac80=_0x18fcf7,_0x3940aa={'analytics':{'btn':'analytics-tab-btn','content':_0x48ac80(0xc4c)},'scores':{'btn':_0x48ac80(0x2f3),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x48ac80(0x4fa)},'behavior-log':{'btn':_0x48ac80(0x66e),'content':_0x48ac80(0x8f9)}};for(const _0x1256a1 in _0x3940aa){document[_0x48ac80(0x360)](_0x3940aa[_0x1256a1][_0x48ac80(0x470)])[_0x48ac80(0x5a1)][_0x48ac80(0xbee)](_0x48ac80(0x455)),document['getElementById'](_0x3940aa[_0x1256a1]['content'])[_0x48ac80(0x5a1)][_0x48ac80(0x1f5)]('hidden');}document['getElementById'](_0x3940aa[_0xa5210d][_0x48ac80(0x470)])[_0x48ac80(0x5a1)][_0x48ac80(0x1f5)]('active'),document['getElementById'](_0x3940aa[_0xa5210d][_0x48ac80(0x5f9)])['classList'][_0x48ac80(0xbee)](_0x48ac80(0x29e));}function showMessage(_0x101004,_0x4c634a=null){const _0x228b6a=_0x18fcf7;modalMessage['textContent']=_0x101004,modalConfirmAction=_0x4c634a,messageModal[_0x228b6a(0x5a1)][_0x228b6a(0xbee)]('hidden');}function showConfirmation(_0x11d07b,_0x12f05b){const _0x249c94=_0x18fcf7;document['getElementById'](_0x249c94(0xae6))[_0x249c94(0x946)]=_0x11d07b,document['getElementById']('confirmation-modal')[_0x249c94(0xc8a)]('h3')['textContent']=_0x249c94(0xbf3),confirmAction=_0x12f05b,confirmationModal[_0x249c94(0x5a1)][_0x249c94(0xbee)]('hidden');}function _0x55dd(){const _0x466039=['</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','scrollX','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','<i\x20class=\x22fas\x20fa-save\x22></i>','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','[data-topic-id=\x22','index','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','shortcut-blueprint-url-input','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','data:application/vnd.ms-word;charset=utf-8,','toggle','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','รอเปิด','drill-feedback','<p>','ดูผลสรุปสุดท้าย','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','reference.pdf','bp-project-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','<p\x20class=\x22font-bold\x20text-sm\x20','close-student-rankings-btn','save-parallel-shortcut-btn','isAdaptive','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','string','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','.live-summary-tooltip.visible','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','project-list','\x22\x20data-name=\x22','MathJax','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','analytics-summary-cards','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','set','commit','กรุณาเลือกสถานะ','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','\x20(\x22','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','...','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','ยอดเยี่ยม!','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','latestScore','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','API\x20Error\x20Body:','text-purple-600','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','topics','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','ฟังก์ชันลอการิทึม','duration-300','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','พื้นที่ผิวรูปทรงสามมิติ','\x22\x20name=\x22confidence','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','bulk-loop-until-pass-checkbox','shortcut_','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','removeEventListener','.delete-hidden-parallel-shortcut-btn','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','standard','no-projects-msg','height','ตัวแปรและนิพจน์','<li\x20class=\x22','pointerType','isPinned','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','.bp-delete-topic-btn','quadraticCurveTo','<h1></h1>','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','<div\x20class=\x22','quiz-settings-modal','manage-players-btn','ai-quiz-generator-v3','practiceProblems','เกิดข้อผิดพลาดในการเข้าร่วมเกม','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','p-2\x20bg-black/10\x20rounded-md','เรขาคณิตวิเคราะห์','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','ลบโปรเจค\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','cancel-delete-btn','includes','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','Error\x20saving\x20shortcut:','additional-file-shortcuts-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setTransform','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','AI\x20แก้ไขคำถามสำเร็จ!','dim-overlay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','ปริพันธ์จำกัด','.unpair-quiz-btn','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','pointContent','postTScore','\x22\x20name=\x22question','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','<div\x20class=\x22flex-1\x22></div>','memory','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','parallelShortcutOrder','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','deltaY','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มหัวข้อ\x20\x22','Error\x20generating\x20worksheet:','scrollIntoView','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ดีมาก','summaryContent','classStrengths','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','Loaded\x20','save-project-name-btn','back-to-results-btn','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','subTopics','\x20\x20\x20-\x20','style','parallel-shortcut-name-input','ส่วนเบี่ยงเบนเฉลี่ย','members','visibilityState','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','ยังไม่มีนักเรียนส่งงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','promise','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','loop-until-pass-checkbox','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','student-passcode-input','ไม่สามารถโหลดรายการโปรเจคได้','ความชันเส้นสัมผัส','Blueprint\x20O-NET\x20ป.6','startTime','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','generate-from-link-btn','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-plan-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','fa-shield-alt\x20text-gray-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','remove','answering','\x5cle','contains','องค์ประกอบของฟังก์ชัน','ยืนยันการกระทำ','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','difficultyValue','กรุณาตั้งชื่อแท็บใหม่:','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','(หลังเรียน)\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.linkedQuizIds','padStart','answer-counter','.move-file-shortcut-dropdown','.shortcut-list-item:not(.opacity-50)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','student-name-selection-view','พบข้อสอบ\x20','check-answer-btn','Error\x20generating\x20teaching\x20content:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','text-green-600\x20font-bold','wheel','แก้ระบบสมการด้วยเมทริกซ์','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','contents','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','live-game-view','player-list-lobby','```','\x20</div>\x0a\x20\x20\x20\x20','bank-quiz-list','.topic-selection-btn','cancel-quiz-bank-btn','\x22>ไม่ใช่</p>','\x20|\x20','createObjectURL','file-shortcut-id-input','additional-shortcuts-list','Leaderboard\x20update\x20transaction\x20failed:\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','.topic-category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','N/A','บันทึกคำถามใหม่\x20','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','overflowY','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','open-global-live-btn','.png','multiple_choice','\x22><i\x20class=\x22fas\x20','Error\x20pairing\x20quizzes:','projectSort','live-submit-short-answer-btn','เกิดข้อผิดพลาดในการเปลี่ยนสี','hint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','.topic-name-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','parallel-shortcut-id-input','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','bp-quiz-settings-btn','สมการเหตุผล\x20(rational)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','items','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</li>','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','สมการลอการิทึม','topicName','px,\x20','confirm-quiz-settings-btn','timer-duration-label','topic_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','players.','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20rendering\x20student\x20progress:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','random','\x22\x20value=\x22false\x22\x20','click','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','admin-dashboard','multiply','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics-tab-content','blueprint-shortcut-container','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','border-green-700','update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','MathJax\x20typeset\x20error\x20(analytics):','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLowerCase','<div\x20class=\x22my-2\x22>','teacherSuggestions','</p></div>','password-error-msg','-\x20ข้อ\x20','export-leaderboard-pdf-btn','next-drill-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','setItem','attempts','.remove-parallel-shortcut-from-tab-btn','สามเหลี่ยม\x20(ชนิด/สมบัติ)','.sortable-header','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preventDefault','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','text-gray-300\x20hover:text-white','.shortcut-tab-btn','ยังไม่สร้าง','ยืนยันการจับคู่','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','frac','\x20รายการ\x20สำเร็จ!','https://corsproxy.io/?','กฎของโคไซน์','GlobalWorkerOptions','showInStudentDashboard','เกิดข้อผิดพลาดในการบันทึก','blueprint-input-area','.file-topic-selection-btn','input[name=\x22syncVariant\x22][value=\x22classic\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-input-area','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','SAFETY','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','หน่วยความยาวและการแปลง','ต้นฉบับ\x201','ไม่สามารถเริ่มเกมได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','result','กรุณาเลือกชื่อของคุณ','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','file-shortcut-modal-title','main-correct-answer-display','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','Error\x20confirming\x20players\x20for\x20sync\x20game:','add-shortcut-tab-btn','file-topic-input','querySelector','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','student-quiz-area','parallel-shortcut-container','cancel-move-quiz-btn','ต้นฉบับทั้งหมด','forEach','ย้ายแบบทดสอบสำเร็จ','shortcut-reference-url-input','has','deselect-all-topics-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','q-text-','.delete-file-shortcut-btn','<p><strong>คำตอบที่แนะนำ:</strong>\x20','Error\x20regenerating\x20question\x20in\x20editor:','projectView','ร้อยละพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','แผนการสอน','lesson-loader','AI\x20Fix\x20Error:','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','timestamp','scratchpad-options','close-lesson-plan-modal-footer-btn','check-presentation-answer-btn','cancel-rename-quiz-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','submittedAt','team','/submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','กรุณาป้อนหัวข้อสำหรับใบงาน','Error\x20generating\x20lesson\x20plan:','<p\x20class=\x22text-xl\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','แบบปรนัย\x204\x20ตัวเลือก','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics-tab-btn','อยู่ในสาระการเรียนรู้ใด:','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-overall-content','progress-project-select','totalQuestions','.file-shortcut-tab-btn','touchend','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.lastAnswerValue','toLocaleString','0\x200','shuffle-setting-select','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','scores','จากเนื้อหาต่อไปนี้:\x20\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20clearing\x20linked\x20quiz:','.delete-svg-btn','entries','quiz-editor-questions-container','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','การบวกเศษส่วน','sara','bank-tab','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการลบแบบทดสอบ','summary_chart','ไม่มีคำอธิบาย','มุมพิเศษ\x2045°-45°-90°','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','.lastAnswerIndex','/public/data/blueprintProjects/','การแจกแจงปกติและ\x20z-score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','</span></p>','color','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','ไม่พบแบบทดสอบสำหรับรหัสนี้','สเกลและแผนที่','#F59E0B','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','leaderboard-tab-content','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','fileShortcutOrder','student-team-join','questionText','log','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','bulk-confidence-mode-select','BOOLEAN','confidence-mode-container','ฟังก์ชันพหุนาม','manual-blueprint-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','projectOrder','/public/data/teamQuizzes','stdDev','quiz-editor-modal','Error\x20deleting\x20project:','scratchpad-clear-btn','export-compact-pdf-btn','ข้อที่\x20','game-start-mode','whole_quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','stepByStepExamples','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','.bp-unlink-quiz-btn','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','Error\x20joining\x20live\x20game:','อยู่ในหัวข้อหลักใด:','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','modal-confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','ที่พิมพ์ได้\x20จำนวน\x20','</body></html>','ไม่พบข้อมูลโปรเจค','svg','.quiz-bank-try-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-view','.move-file-shortcut-menu-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','removeItem','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','ไม่พบข้อมูลเกม','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','shortcutId','.ai-content\x20li','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','กำลังอ่านไฟล์อ้างอิง...','question','execCommand','กำลังดึงข้อมูลจากลิงก์...','save-game-results-checkbox','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','trail','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','\x20(สำหรับ\x20','\x20ข้อ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','textarea','mousemove','#math-topics-checkbox-container\x20input:checked','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','เกิดข้อผิดพลาดในการแก้ไข','admin-password-input','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','transformOrigin','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','ไม่พบข้อมูลข้อสอบหลังเรียน','open','กำลังสร้างบทเรียน:\x20','join','Error\x20unpairing\x20quizzes:','file-topics-list','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','resize','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fileShortcutsConfig','rgba(79,\x2070,\x20229,\x200.8)','projectId','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','MathJax\x20re-render\x20failed:','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','.delete-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','link-input-area','highlighter-tools-group','ใช่\x20/\x20ถูก','การลบทศนิยม','ควรปรับปรุง','</div></div></div>','[data-field=\x22subTopic\x22]','null','half_mark_status','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','.question-editor-item:last-of-type','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substr','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','bp-modal-num-choices','สถิติและความน่าจะเป็น','quiz-start-time','confidence','newCorrectIndex','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','text-green-600','\x5cge','Error\x20moving\x20quiz:','modal-adaptive-quiz-checkbox','modal-timer-duration-label','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','td,\x20th','```json','keydown','\x20pointer-events-none\x22>','bulk-confidence-scoring-checkbox','.flex.justify-between.items-center','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','/public/data/customMathTopics','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','quiz-type-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','<button\x20data-id=\x22','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','input[type=\x22text\x22]','\x22.\x20Ideal\x20Answer:\x20\x22','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','สร้างแบบทดสอบปรนัย','show-final-results-btn','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','_opt1\x22>ไม่ใช่</label></div>','asc','topic-input-area','reference.txt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ผ่าน','circle','Error\x20processing\x20file\x20shortcut\x20click:','innerHTML','bp-reference-file-url','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','mixed','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','additional-parallel-shortcuts-modal','quiz-results','confirm-team-players-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.delete-quiz-btn','\x5ctimes','ไม่สามารถสร้างโปรเจคได้','mainTopics','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','FileReader\x20error:','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','ตัวเลือก\x20ก','results-display-select','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','label','confirm-rename-quiz-btn','transparent','findIndex','ไม่สามารถโหลดข้อมูลอันดับได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','practice-topic-btn','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','preTScore','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','การแจกแจงทวินาม\x20(พื้นฐาน)','รูปสี่เหลี่ยมและสมบัติ','กฎของไซน์','createdBy','center','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','พบ\x20Team\x20Quiz!','\x20รายการสำเร็จ!','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-green-800','manual-bp-content','pow','.move-shortcut-dropdown','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','currentTarget','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','devicePixelRatio','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','fileShortcutTabs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','match','กรุณาวาง\x20URL\x20ของบทความก่อน','\x22\x20name=\x22question_single\x22\x20value=\x22','file.txt','value','endTime','moveTo','bulk-quiz-settings-modal','comparison-overall-tab','sync-variant-selector','auto','cancel-global-activity-btn','ดีเทอร์มิแนนต์','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','เรเดียนและการแปลงหน่วย','math-topics-checkbox-container','cancel-create-project-btn','onload','Could\x20not\x20fetch\x20reference\x20file:','http://www.w3.org/2000/svg','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','global-activity-quiz-list','choices_only','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','project-sort-select','checkAnswer','แบบทดสอบ:\x20','add','Blueprint\x201','reveal-answer-btn','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','autoTable','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','.delete-custom-topic-btn','behaviorLog','บันทึกการตั้งค่าแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20user\x20preference:','\x20mb-2\x22>','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','bg-blue-500\x20hover:bg-blue-600\x20text-white','Error\x20fetching\x20lesson\x20content:','project-search-input','presentation-scratchpad-btn','href','ceil','arrayBuffer','บันทึกการแก้ไข','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','manage-tab-content','draggable-text','options','การเรียงสับเปลี่ยน\x20(Permutation)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-bp-reference-btn','เวกเตอร์และเมทริกซ์\x20(เสริม)','starred','ค่าสัมบูรณ์','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#000000','bg-green-200\x20text-green-800','gamePin','\x27\x20ในหัวข้อ\x20\x27','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','Error\x20updating\x20custom\x20topic:','รีเซ็ตลำดับโปรเจคแล้ว','show_results_only','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','scheduled_pending','#FFFFFF','/public/data/practiceBank','leaderboard-quiz','next-question-timed-btn','hasPerfectScoreBonus','additional-file-shortcuts-list','#confidence-input-','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','_blank','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','.generate-lesson-btn','manual-bp-project-name','leaderboard-quiz-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','global-activity-modal','ไม่พบโปรเจค','</p><div>','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','จำนวนคละ','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','status','scrollY','Error\x20saving\x20quiz:','pointercancel','สร้างใหม่','interesting-stats-container','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','.delete-bp-project-btn','<p\x20class=\x22text-2xl\x22>','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','\x20ตัวเลือก.\x20','modal-passing-score-input','close-additional-parallel-shortcuts-btn','responses','<div\x20class=\x22p-2\x20rounded-md\x20','confirm-move-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','project-id-display','loopUntilPass','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','</button>','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','change','admin','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','download','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','students','ยังไม่เต็มนะ','candidates','grabbing','timer-mode-select','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','tGain','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','กรุณาเลือกโปรเจคก่อน','border-indigo-500\x20text-indigo-600','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','เงินงวด\x20(อนุกรมเงินงวด)','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','</span></div>','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','file-upload-input','ข้อ\x20','จัดการ','rgba(59,\x20130,\x20246,\x200.7)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','.lastAnswerCorrect','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบผลสอบ','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','[*]','จำนวนข้อ:','correctAnswerIndex','fa-bolt\x20text-blue-500','classWeaknesses','blueprint-upload-input','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','STRING','เกิดข้อผิดพลาดในการสร้าง:\x20','\x22\x20name=\x22drill_answer\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','webkitRequestFullscreen','พิมพ์ตอบ','manage','-tab','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20link(s)\x20for\x20quiz\x20ID:\x20','results-table','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','/questionBank','block','ไม่พบเอกสารการส่งงานของ\x20','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','disabled\x20bg-gray-400\x20cursor-not-allowed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','เกิดข้อผิดพลาดในการจับคู่','.csv','1396260UQXMGd','เกิดข้อผิดพลาด','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Copy\x20command\x20failed','canvas','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','ฟังก์ชันกำลังสองและกราฟ','Error\x20linking\x20quizzes:','leaderboard-tab','ศูนย์','hidden','select[name=\x22question_single\x22]','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','url','.presentation-option','_opt0\x22>ใช่</label></div>','summary','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','sum','mjx-container','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','.ai-content\x20blockquote','original-mode-checkbox','.file-shortcut-btn[data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','enable-passcode-checkbox','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','bg-emerald-100','contentEditable','createdAt','</select>','ตรีโกณมิติ','#open-additional-parallel-shortcuts-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x22\x20data-q-type=\x22','#F3E8FF','filter','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','dimmed','สร้างคำถามแบบใช่/ไม่ใช่','<div\x20class=\x22my-6\x22>','ฟังก์ชันสัมพัทธ์\x20(rational)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','.delete-parallel-shortcut-btn','border-gray-200','</div>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','Error\x20generating\x20from\x20link:','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','#FEF3C7','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','force-math-checkbox','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','results-quiz-title','outerHTML','NEGATIVE_INFINITY','.ai-fix-formula-btn','sync-short-answer-input','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','แคลคูลัสเบื้องต้น','#retake-for-improvement-btn','Error\x20updating\x20sort\x20preference:','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','none','\x20in\x20all\x20blueprint\x20projects.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','lineCap','กำลังอัปเดตแบบทดสอบ\x20','\x5csum','answers','\x20แบบทดสอบลงในคลังสำเร็จ!','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','.toggle-actions-btn','\x20(ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20quiz\x20edits:','อัปเดตสถานะสำเร็จ','</p>','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','baseVal','rgba(79,\x2070,\x20229,\x201)','default','getDocument','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','scores-tab-btn','behavior-log-container','ผ่าน','instructions','กำลังอ่านไฟล์\x20Test\x20Blueprint...','กรุณาใส่ชื่อนักเรียน','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','บันทึกการตั้งค่าสำเร็จ','save-bp-settings-btn','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','Error\x20generating\x20hybrid\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','text-emerald-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','close-additional-file-shortcuts-btn','.shortcut-list-item','modal-timer-mode-select','show-in-student-dashboard-checkbox','การนับ','blueprint-topics-list-container','\x22\x5cn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','quizId','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','test','correctAnswer','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','badges','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','AI\x20Formula\x20Fix\x20Error:','shadowColor','then','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','grid','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','select-all-topics-btn','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','clientY','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','lesson-sections-container','ai-quiz-app-aefee.firebasestorage.app','results','answerText','Group\x20Mode','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','players','<option\x20value=\x22','destroy','parallel-test-upload-input','การจัดหมู่\x20(Combination)','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','lesson-view-modal','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','user','prev-question-btn','สอบปกติ','.ideal-answer-input','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','_opt1\x22\x20name=\x22question','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','quizMode','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','confirm-game-start-modal','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-project-list','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','ความสัมพันธ์ของมุม','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','file.pdf','/public/data/quizzes/','คะแนน','confidence-scoring-checkbox','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','.isScored','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20verifying\x20answers:','ห.ร.ม.\x20(GCD)','สมการตรีโกณมิติ','text-red-700\x20bg-red-100','</span><span\x20class=\x22font-bold\x22>','<button\x20data-value=\x22','undefined','ความเป็นอิสระของเหตุการณ์','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','\x22\x20สำเร็จ','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','พบ\x20Sync\x20Game!','originalQuestionText','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','bp-modal-passing-score-input','target','<div\x20class=\x22answer-space\x22></div>','gameVariant',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-result-card','student','ไม่พบข้อมูลหัวข้อที่จะบันทึก','getElementById','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','อัตราและอัตราหน่วย','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','input[name=\x22status-option\x22]:checked','อัปเดตการตั้งค่าของแบบทดสอบ\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','จำนวนนักเรียน','file-default-2','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','now','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','dfrac','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','studentName','neq','source_document.pdf','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','source-over','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','suggestedAnswer','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','topic-tab','text-blue-800','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','\x20จาก\x20','additional-shortcuts-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','สมการยกกำลัง','/public/data/projects','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','manual-bp-grade-level','show_pass_fail_only','134298jRyxFJ','<span\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดโปรเจค','join-live-game-btn','reference_onet.pdf','leaderboard-table-body','PERSEVERANCE','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','add-custom-math-topic-btn','pre-test','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','podium','order','text/html','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','.answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','33702JlDLFa','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','latestSubmittedAt','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','upper_group_count','แก้ไขหัวข้อสำเร็จ','offset','ON_FIRE','#FCE7F3','blockReason','hint','.ai-fix-question-btn','toISOString','reduce','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','commonMistakes','</th>','วงกลม:\x20สมการและสมบัติ','export-word-btn','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Auto-linking\x20new\x20quiz\x20','Error\x20starting\x20sync\x20game:','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจว่าต้องการลบแท็บนี้?','referenceFileUrl','write','questions','.regenerate-question-editor-btn','.pointsLastQuestion','currentMode','คำอธิบาย...','text-red-600','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','getContext','settings','move-quiz-project-select','scratchpad-modal','projectSortOrder','comparison-individual-content','</span>','presentation-slide-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','ชนิดของข้อมูลและการเก็บข้อมูล','retake-quiz-loop-btn','start-quiz-btn','สรุปผลสุดท้าย','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','แบบทดสอบนี้ปิดใช้งานอยู่','submission-status-chart','results_','add-student-btn','numQuestions','verify-answers-btn','innerText','Error\x20saving\x20blueprint\x20project:','undo-btn','actions-container-','name','parent','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20showing\x20quiz\x20detail\x20view:','Error\x20joining\x20activity:','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','bg-red-100\x20text-red-800','substring','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-close-btn','Team\x20Quiz','cancel-quiz-settings-btn','อัปเดตแบบทดสอบเก่า\x20','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เส้นจำนวน','add-file-shortcut-btn','isConfidenceScoringEnabled','blueprint-options-container','highlighter-size-value','closest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','export-lesson-pdf-btn','fixedData','คณิตการเงิน/บูรณาการ','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','flex','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','คำถามถัดไป','questionIndex','Error\x20updating\x20project\x20color:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x22\x20จำนวน\x20','อัปเดตพฤติกรรมสำหรับ\x20','teacherTips','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','\x20สำเร็จ','ทำคะแนนเต็มในการทำครั้งแรก','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','includeImages','blueprintShortcuts','input[name=\x22team_player\x22]:checked','tab_','newOptionsPayload','readAsArrayBuffer','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','eraser','การคูณ','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','ตัวเลือก\x20ข','behavior-log','authed_project_','timer-bar','submission','Error\x20updating\x20quiz\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','-tab-content','shortcutTabs','blueprintUrl','unshift','ลบผลสอบของ\x20','.rename-quiz-btn','<button\x20data-quiz-id=\x22','sync-matching-select','bg-green-100\x20text-green-800','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','add-parallel-shortcut-tab-btn','ฟังก์ชันค่าสัมบูรณ์','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','ผิด','ทฤษฎีบทพื้นฐานของแคลคูลัส','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','.move-parallel-shortcut-item','text-indigo-800','save-quiz-btn','true','global-quiz-search-input','scratchpad-question','ความน่าจะเป็นแบบมีเงื่อนไข','ท็อปฟอร์ม','ondrop','confidence-mode-select','\x20จุด','message','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','modal-results-display-select','.group\x5c/dropdown-parallel','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','game-pin-input','questionType','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','ค่าความจริง/ตารางค่าความจริง','close-comparison-modal-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','stroke','link-topic-input','nextElementSibling','.verification-result-editor','เกิดข้อผิดพลาดในการลบหัวข้อ','แบบทดสอบจากคลังส่วนตัว','bp-topic-list-container','ไม่พบข้อมูลการจับคู่','เรขาคณิต','สมการราก\x20(radical)','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','answeredCurrentQuestion','student-list','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','per-q-countdown','#26890c','isArray','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','pinned-items','lower_group_count','insertAdjacentHTML','<svg','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','lowerGroupResponders','หน่วยมวล/น้ำหนักและการแปลง','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','active','เกิดข้อผิดพลาดในการปักหมุด','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','Error\x20calling\x20Gemini\x20API:','หลังเรียน','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','/public/data/learnedFixes','.project-card-content','file-shortcuts-loading-msg','Error\x20joining\x20team\x20quiz:','temp-loader-text-results','matching_item','cancel-test-btn','.group\x5c/dropdown-file','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',';\x22\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confidence-modal','/public/data/quizzes','onkeydown','bg-red-100','/lessons','handleGeneratePracticeTest','กิจกรรมสิ้นสุดลงแล้ว','btn','$1\x5c%','close-game-final-btn','webkitExitFullscreen','request','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','application/json','comparison-chart','startsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','far\x20fa-star','ความคล้ายของรูป','Error\x20verifying\x20answers\x20in\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','false','/studentProfiles','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','shortcut-modal-title','student-progress','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','cancel-admin-login-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','อสมการเชิงเส้น','.edit-parallel-shortcut-btn','div[data-question-index=\x22','list','Failed\x20to\x20resume\x20game\x20session:','ไฟล์ทั้งหมด','ทฤษฎีทวินาม\x20(เบื้องต้น)','<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','student-project-leaderboard-content','loader','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','toDate','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','text-yellow-300','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ลบหัวข้อสำเร็จ','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','memoryContent','scratchpad-close-btn','\x20ใหม่...','copy-quiz-id-btn','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','บันทึกโปรเจค\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','restore','Error\x20analyzing\x20blueprint\x20topics:','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teachingContent','topicId','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','file-default-','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ฟังก์ชันผกผัน','#DBEAFE','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','[data-topic-container-id]','cancel-parallel-shortcut-edit-btn','desc','manage-tab','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','dblclick','dashboardConfig','hover:bg-indigo-100','blueprint-tab','.quiz-bank-checkbox:checked','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','leaderboard_','ดอกเบี้ยอย่างง่าย','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','answered','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','Error\x20clearing\x20all\x20links:','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','beginPath','cancel-quiz-edits-btn-footer','setFont','generate-worksheet-btn','.pen-color-btn','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-question-editor-btn','generate-from-topic-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','student-team-selection-view','passcode','เปิดใช้งาน','Error\x20processing\x20shortcut\x20click:','fill_in_no_choices','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','</div></div>','เศษส่วน\x20(ย่อ/ขยาย)','ต้นฉบับ\x202','ทำคะแนนได้เกินครึ่ง','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','กำลังสร้างแบบทดสอบจากหัวข้อ...','Failed\x20to\x20generate\x20lesson:','parallelTestShortcutsConfig','explanation','generate-from-file-btn','border-indigo-400\x20ring-2\x20ring-indigo-200','show-leaderboard-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','จำนวนคู่:','Error\x20fetching\x20project\x20quizzes:','Error\x20preparing\x20content\x20quiz:','/public/data/blueprintProjects','matching','analyze-strengths-btn','highlighter','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20data-pre-test-id=\x22','lastIndexOf','.group','การแปลงรูปอัตลักษณ์','PERFECT_SCORE','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','file-topics-list-container','ความแปรปรวน','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','#parallel-shortcut-tabs-nav\x20.tab-name-input','scores-tab-content','timerMode','category','กำลังสร้างแบบทดสอบ:\x20','document','leaderboard-quiz-tab-content','point','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คัดลอกรหัสแล้ว!','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','Error\x20deleting\x20all\x20students:','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','timer-duration-container','\x20\x20\x20-\x20คำตอบ:\x20','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-projects-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','activeGameSession','\x0a\x20\x20\x20\x20\x20\x20</div>','global-quiz-count','เปลี่ยนชื่อแบบทดสอบสำเร็จ','AI\x20ไม่สามารถประมวลผลข้อมูลได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','ยืนยันและอัปเดตทั้งหมด','confirm-link-quiz-btn','ARRAY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','เปลี่ยนชื่อโปรเจคสำเร็จ','.edit-hidden-shortcut-btn','ระยะจากจุดถึงเส้นตรง','highlighter-size-slider','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','การวัด','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20custom\x20math\x20topics:','.answers','delete-all-students-btn','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','Error\x20saving\x20parallel\x20shortcut\x20config:','removeAttribute','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.tab-name-display','student-project-leaderboard-table-body','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','leaderboard','Error\x20starting\x20live\x20race:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','perseverance','upperGroupNames','confidenceMode','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','.delete-hidden-shortcut-btn','สมการเชิงเส้นตัวแปรเดียว','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','error','div','</span></td>','q-explanation-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','file-shortcut-name-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','worksheet-topic-input','editor-quiz-topic','Error\x20saving\x20shortcut\x20config:','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','รายการนี้','นำแบบทดสอบออกจากคลังนี้แล้ว','Error\x20adding\x20students:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','points','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','copy','parallel-default-','move-quiz-modal','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','scratchpad-header','file-default-1','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','ความต่อเนื่อง','touchmove','#view-rankings-btn','student-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','button','cancel-manual-bp-btn','.star-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','mean','<div\x20class=\x22loader\x20mx-auto\x22></div>','requestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','drop','width','team-player-status-grid','คำถามดิบ:\x20\x22','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','inactive','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','บทเรียน','readAsDataURL','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','fullscreenElement','อนุพันธ์:\x20กฎพื้นฐาน','groups','key','show_results_and_answers','modal-confidence-mode-select','ยกเลิกการเชื่อมโยงสำเร็จ','export-leaderboard-excel-btn','\x5ccdot','text-indigo-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onchange','reveal_at_end','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','th-TH','clientX','get','.bp-live-btn','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','input[name=\x22drill_answer\x22]:checked','<span\x20class=\x22font-bold\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','project-passcode-input','passing-score-input','</p><p><strong>เฉลย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','back-to-student-home-btn','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','bg-red-200\x20text-red-800','endsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','/public/data/projects/','student-quiz-leaderboard-table-body','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','export-lesson-to-pdf-btn','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','.ai-content\x20h3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','แก้ไขปุ่มลัดจากไฟล์','bg-yellow-100','toDataURL','cancel-shortcut-edit-btn','shortcut-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','.doc','image/png','.live-answer-btn','text-emerald-900','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','file-tab','classList','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','sort','totalPoints','1:274192258111:web:4120c9118229b5644dd48a','.\x20แต่ละข้อมี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','after','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','print','group','\x20quizzes\x20into\x20global\x20cache.','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','typesetPromise','parts','คัดลอกแบบทดสอบสำเร็จ','โดเมนและเรนจ์','\x20from\x20sync\x20game:','.bp-open-topic-bank-btn','min','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','team-student-list','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','gain','2-digit','generated-quiz-actions','\x5cpm','modal-confidence-scoring-checkbox','เลือกและเริ่มสร้าง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','\x5cdiv','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','text-red-500\x20hover:text-red-700','12yVrHlf','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','พาราโบลา','mousedown','rename-quiz-input','lesson-plan-title','เกิดข้อผิดพลาดในการอัปเดต:\x20','1644440lSRprm','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','.bp-generate-lesson-btn','ค่าเสื่อมราคา','dragover','(เลือกแล้ว\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','.txt','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','lineJoin','globalCompositeOperation','numeric','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','pdf','.edit-shortcut-btn','topic-input','selected-answer-index-hidden','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','<tr><td\x20colspan=\x22','bp-modal-question-complexity-select','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','การลบเศษส่วน','</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','game-start-quiz-id','อนุพันธ์:\x20กฎลูกโซ่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','bg-blue-100\x20text-blue-800','shuffleSetting','parseFromString','fill_in_the_blank','jspdf','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','handleGenerateAndShowLesson','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','Enter','สัญกรณ์วิทยาศาสตร์','warn','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','\x0a---\x0a','Error\x20deleting\x20topic:','content','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','showRankings','checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','พิสัย','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','element','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','กลุ่มของคุณ','API\x20call\x20failed\x20with\x20status:\x20','overline','pointerup','ปริพันธ์ไม่จำกัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','เมทริกซ์:\x20บวก/คูณ','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','ondragend','grid-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกคำตอบก่อนครับ','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','pen','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','player-count','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','.delete-project-btn','addEventListener','custom-math-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.file-shortcut-btn','bg-green-200\x20text-green-900','lesson-view-title','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','student-rankings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','some','progress-student-select','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','include-images-checkbox','shortcuts-loading-msg','Error\x20saving\x20project\x20order:','empty','ไฟล์ลัด\x202','push','เกิดข้อผิดพลาดในการบันทึกโปรเจค','แผนการสอน:\x20','.draggable-text','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เลือกโปรเจคเพื่อบันทึก','newOptions','length','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','type','\x22\x20data-quiz-id=\x22','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','\x20\x0a\x20\x20\x20\x20','stringify','pointer-events-none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','learningGaps','timerDuration','#E0E7FF','63uHeXql','display','live-race','sync-manage-players-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20to\x20blueprint\x20topic\x20','<div>','border-green-300\x20bg-green-50','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-not-confident','auto-fix-latex-btn','find','กรุณาพิมพ์คำตอบของกลุ่ม','Authentication\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-join-game-view','สาระที่\x201','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cursor','selectedTopicNames','description','schedule','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','topics.','cdot','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','standardTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อใหม่','คะแนนเต็ม!','appendChild','student-progress-view','text-gray-400\x20hover:text-indigo-600','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','trim','/preferences/main','setAttribute','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','files','.move-file-shortcut-item','bg-green-500','behavior-log-tab-btn','submit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','Error\x20generating\x20from\x20parallel\x20test\x20file:','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','quizType','fullscreenchange','input[type=\x22radio\x22]:checked','confirm-quiz-status-btn','ไม่ใช่\x20/\x20ผิด','ฟังก์ชันเชิงเส้นและกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','กำลังเตรียมไฟล์...','.tab-name-input','quiz-form','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','offsetWidth','total','.bp-create-content-quiz-btn','font-bold\x20text-green-700','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','quiz-end-time','upperGroupResponders','.start-live-race-btn','student-initial-view','/public/data/liveGames','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','thead\x20.sortable-header','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','Error\x20toggling\x20star\x20status:','generated','text/plain','results-tab-content','short_answer','lesson-loader-text','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','text-content-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','idealAnswer','FIRST_TRY_ACE','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','localeCompare','save-visibility-settings-btn','/public/data/syncGames','.correct-response-input','generationConfig','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','All\x20groups\x20have\x20finished.\x20Ending\x20game.','จำนวนเต็มลบ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','getTextContent','-options\x22>','Invalid\x20response\x20structure\x20from\x20AI.','live-short-answer-input','tabId','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','ไม่มีผู้ตอบตัวเลือกนี้','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','_opt0\x22\x20name=\x22question','tooltipTarget','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','parseInline','Error\x20adding\x20topic:','NUMBER','อัตราการเปลี่ยนแปลงทันที','บันทึกแบบทดสอบสำเร็จแล้ว!','confirm-delete-btn','project-detail','กรุณาป้อนรหัสแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','keyup','<tr\x20class=\x22','not-found','แก้ไขชื่อหัวข้อย่อย:','blueprint-topics-list','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','quiz-status-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','className','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปิดใช้งาน','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','พีชคณิตและฟังก์ชัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','mouse','lastAnswerIndex','export-leaderboard-word-btn','question-analytics-container','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','bg-green-500\x20hover:bg-green-600\x20text-white','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','ตารางความถี่','sqrt','POST','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','Re-grade\x20process\x20failed:','add-parallel-shortcut-btn','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','.use-hidden-shortcut-btn','scale','\x20/\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','bank-input-area','lesson-view-content','transition-all','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','รูปสแควร์รูท\x20(surd)','save-quiz-edits-btn','.quiz-status-btn','generate-from-text-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','.question-editor-item[data-q-index=\x22','bp-modal-shuffle-setting-select','start-game-btn','originalTopic','AI\x20grading\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','getBoundingClientRect','.generate-content-btn','Error\x20saving\x20lesson\x20to\x20project:','OBJECT','option','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','pointermove','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าการแสดงผลสำเร็จ','strokeStyle','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','isNormalTopic','เส้นรอบรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','live-player-list','.group\x5c/dropdown','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','(ฉบับง่าย)\x20','tfrac','.delete-shortcut-btn','playerName','text-green-700','function','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','shuffle','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','separate-by-content-from-file-checkbox','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','ตัวเลือก\x20ง','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','postScore','.delete-submission-btn','opacity-50','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','Error\x20deleting\x20student:','close-presentation-btn','dispatchEvent','minHeight','confirm-join-game-btn','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','\x22\x20data-topic=\x22','shortcut-tabs-nav','strength-weakness-analysis-container','highlighter-tool-btn','application/pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','num-questions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','not_generated','end-sync-game-btn','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','blueprint-settings-modal','กำลังค้นหากิจกรรม...','quick_thinker','รูปหลายเหลี่ยมและมุมภายใน','linkedQuizIds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','per-question-text','\x0a\x20\x20\x20\x20','input[type=\x22checkbox\x22]:checked','interesting-stats-wrapper','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','position','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','การลบ','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','\x22>จาก:\x20','.cancel-edit-topic-btn','circ','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','ข้อต่อไป','numChoices','Error\x20loading\x20user\x20preferences:','อนุพันธ์:\x20ผลคูณ/ผลหาร','.summary-bar-item','allResponses','parse','reviewQuestionIndex','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','close-additional-shortcuts-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','file-shortcut_','#results-table','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','viewBox','.remove-file-shortcut-from-tab-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','fill','generate-from-blueprint-btn','save-settings-btn','.project-card-container:not(.opacity-50)','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','สร้างคำถามแบบเติมคำในช่องว่าง','เนื้อหาสำหรับสอน:\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','.bp-create-topic-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','.remove-shortcut-from-tab-btn','finished','quiz-id-input','Error\x20fetching\x20projects\x20for\x20move:','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การหารเศษส่วน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','temp-loader-results','ลำดับเรขาคณิต\x20(GP)','</option>','แบบทดสอบนี้หมดเวลาแล้ว','.bp-edit-topic-btn','button[type=\x22submit\x22]','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','solution','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','</td></tr>','ondblclick','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','previousElementSibling','split','ผลรวมอนุกรม\x20(Σ)','shortcutOrder','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','eraser-tools-group','ย้าย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','student-project-leaderboard-tab','text-indigo-600','onerror','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','.bp-try-btn','Error\x20saving\x20game\x20results:','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','table','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','firstScore','project-title','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','cancel-passcode-btn','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-900','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','border-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','.status','manual_release','create-from-bank-btn','รากที่สองและที่สาม','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','กลุ่ม:\x20','#results-table\x20thead\x20tr','ondragstart','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','.project-card-container','top','\x20|\x20ID:\x20','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','</div><div\x20class=\x22space-y-2\x22>','confirm-create-project-btn','text-gray-500','bottom','applicationContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','perQuestionStats','redo-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','.bp-view-analysis-btn','project-name-input','student-quiz-leaderboard-tab','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#ffffff','confidence-scoring-description','decode','.open-bp-project-btn','\x20คะแนน\x20','Error\x20updating\x20quiz\x20settings:','.ideal-answer-input,\x20.correct-response-input','Error\x20displaying\x20blueprint\x20project:','คะแนนเฉลี่ย','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','from','fas\x20fa-user-edit','analytics','textarea[name=\x22team_answer\x22]','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','Error\x20opening\x20quiz\x20editor:','กำลังโหลดคลังข้อสอบทั้งหมด...','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','27411472','.live-answer-btn,\x20#live-submit-short-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-present-btn','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-edits-btn','lowerGroupNames','back-from-results-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','เกิดข้อผิดพลาดในการสร้างห้องเกม','modal-timer-duration-input','สร้างชุดคำถามจับคู่',',\x20r=','project-detail-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','modal-shuffle-select','date_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','.bp-create-onet-quiz-btn','classic','perfect_score_status','code','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','สอบซ่อม','.start-game-btn','q-image-container-','right','กำลังสร้างแบบทดสอบ\x20\x22','confirm-manual-bp-btn','confidence-input-','ไม่พบไฟล์\x20Test\x20Blueprint','stem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','parallel-shortcuts-loading-msg','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ใช่','กำลังอ่านและเตรียมไฟล์...','cos','มุมพิเศษ\x2030°-60°-90°','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20submission:','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','<option>กำลังโหลดโปรเจค...</option>','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','isPasscodeEnabled','.edit-hidden-parallel-shortcut-btn','pen-tools-group','อัตราส่วนและสัดส่วน','isScored','.topic-name-input','quiz-bank-count','พื้นที่ใต้กราฟ/ระหว่างกราฟ','ฐานนิยม','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','คณิตศาสตร์','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','getItem','querySelectorAll','</h4>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','#file-shortcut-tabs-nav\x20.tab-name-input','eraser-tool-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','onblur','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','isLooping','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','rows','\x20คะแนน</span></div>','Error\x20processing\x20file\x20for\x20AI:','.game-start-btn','finishReason','quiz-results-view','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','exists','leq','modal-loop-until-pass-checkbox','bulk-results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','Failed\x20to\x20kick\x20player\x20','fa-crown\x20text-yellow-500','bg-amber-100\x20text-amber-800','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','Blueprint\x202','str','ย้ายแบบทดสอบไปโปรเจคอื่น','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','rename-quiz-modal','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','sync-player-list','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','.delete-student-btn','save','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','opacity','source_document.txt','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','การยืนยันตัวตนล้มเหลว','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','หน่วยเวลาและการคำนวณเวลา','ตอบถูกทุกข้อในแบบทดสอบนี้','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','Error\x20unlinking\x20quiz:','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','translate','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','stopPropagation','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','specialist','overallGroups','.question-editor-item','text-gray-200','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','กำลังสร้างเนื้อหา:\x20','ไม่พบตารางสำหรับ\x20Export','comparison','.application-options\x20button','.quiz-bank-present-btn','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','qType','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','ดอทโปรดักต์\x20(dot)','next-sync-question-btn','\x22\x20class=\x22pin-project-btn\x20','No\x20player\x20data\x20to\x20save.','ส่วนเบี่ยงเบนมาตรฐาน','.start-presentation-list-btn','left','ปริมาตร/ความจุและการแปลง','<li>','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พอใช้','.space-y-1.pl-4','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','values','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','.move-parallel-shortcut-dropdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','bulk-shuffle-select','s;\x22\x20title=\x22','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','responseSchema','Error\x20saving\x20reference\x20URL:','raw','ส่งคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','thead','touchstart','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','exitFullscreen','math-topic-search-input','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','topic-quiz-bank-modal','incorrect','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','.project-card-container.opacity-50','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-num-questions','Error\x20deleting\x20shortcut:','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-default-1','show-results-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x22\x20value=\x22true\x22\x20','กำลังสร้างคำถามข้อ\x20','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','bg-green-100','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','---\x20[คำถามใหม่]\x20---','Error\x20saving\x20submission:','\x22\x20value=\x22','Error\x20submitting\x20group\x20answer:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','isStarred','.subTopic','mode-switcher-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','quiz-search-input','confirm-bulk-quiz-settings-btn','answer','.save-custom-topic-btn','max','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','close-topic-bank-btn','\x22\x20data-target-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','touches','ถูกต้อง!','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','ก่อนเรียน','icon','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','/users/','reset-project-order-btn','Failed\x20to\x20generate\x20practice\x20test:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','<div\x20class=\x22space-y-4\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','toFixed','Error\x20renaming\x20quiz:','size','admin-testing','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','onclick','ฟังก์ชันแบบชิ้นส่วน','จับคู่แบบทดสอบสำเร็จ!','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22color-palette-btn\x20','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','create-project-modal','API\x20Error\x20Response:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','#D1FAE5','wasConfident','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','shadowBlur','groups.','project-quizzes-list','เกี่ยวกับหัวข้อ\x20\x22','score','.topic-actions-edit','submit-group-answer-btn','pop','Error\x20in\x20generating\x20from\x20files:','date_desc','Error\x20starting\x20team\x20quiz:','parallel-default-2','.pen-size-btn','link-tab','catch','<button\x20data-shortcut-id=\x22','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','docs','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','บันทึกผลการเล่นเกมของ\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','file-shortcut-tabs-nav','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','#E5E7EB','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','bp-modal-difficulty-level-select','smooth','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','visible','true_false','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','Test\x20Blueprint','comparison-modal','file-input-area','COMEBACK_KING','.pair-quiz-btn','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','timed','submissions','ไม่ได้ตอบ',')\x22>','Error\x20during\x20blueprint\x20link\x20cleanup:','presentation-explanation','สำหรับหัวข้อ\x20\x27','promptFeedback','</strong></p>','onloadend','ลำดับการดำเนินการ\x20(PEMDAS)','projectName','topic-bank-list','\x20จุดเรียบร้อยแล้ว','.quiz-bank-item','behavior-log-tab-content','ผู้เชี่ยวชาญ','กำลังเตรียมไฟล์อ้างอิง...','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','กรุณาเลือกโปรเจคที่ต้องการบันทึก','(^|[^\x5c\x5c])\x5cb','join-group-activity-btn','lobby','กำลังวิเคราะห์หัวข้อ...','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','.edit-question-btn','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','\x22><span>','\x22><p\x20class=\x22font-semibold\x22>','เกิดข้อผิดพลาดในการลบโปรเจค','<option\x20value=\x22\x22>กำลังโหลด...</option>','</tbody></table></div>','แผนภาพเวนน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','blob','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','floor','touchcancel','title','ไม่พบข้อมูลผู้ใช้','close','แก้ไขปุ่มลัด','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','flex\x20flex-col\x20gap-2','Error\x20saving\x20visibility\x20settings:','beforeend','msRequestFullscreen','Error\x20saving\x20parallel\x20shortcut:','เลือกและบันทึก','student-name-select','isRemedial','.bp-game-btn','เกิดข้อผิดพลาด:\x20','submit-team-answer-btn','การบวก','</tr>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ราชาคัมแบ็ก','text-blue-700\x20bg-blue-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','team-quiz-topic','name_asc','lesson-plan-content','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','\x22>ใช่</p>','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','imageCode','</a>','%</span>','คะแนนยังไม่ถึงครึ่ง','number','doughnut','cloneNode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checkbox','quiz','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','fas\x20fa-star\x20text-yellow-500','\x22\x20สำเร็จ!','timer-duration-input','text-white','hasOwnProperty','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','artifacts/','การหาร','textContent','save-blueprint-as-project-btn','tan','#add-question-editor-btn','subTopic','\x5cfrac{$1}{$2}','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','#6366F1','medium','topic','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','uid','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20adding\x20custom\x20topic:','Error\x20updating\x20old\x20quizzes:','replace','\x22...','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','referenceUrl','keyConcepts','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','.duplicate-quiz-btn','removeChild','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','visibilitychange','Error\x20fetching\x20quiz\x20settings:','pinnedProjects','input[type=\x22radio\x22][value=\x22','create-project-btn','#student-quiz-leaderboard-content\x20thead','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pathname','จำนวนเต็มบวก','add-file-shortcut-tab-btn','additional-parallel-shortcuts-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบ','parallel-shortcut-tabs-nav','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','):\x20','text-gray-700','Unexpected\x20API\x20response\x20structure:','admin-password-modal','answer-grid-container','Error\x20saving\x20questions\x20to\x20practice\x20bank:','.ai-content\x20td','\x20ตัวเลือก)','blur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','เกิดข้อผิดพลาดในการสร้างใบงาน','การจัดกลุ่มข้อมูล','bg-yellow-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','Failed\x20to\x20end\x20group\x20mode\x20game:','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','quiz-generation-area','ไฮเพอร์โบลา','(ก่อนเรียน)','map','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','every','สมมาตร\x20(แกน/จุด)','load-quiz-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','list-view-btn','difficulty-level-select','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','จำนวนและการดำเนินการ','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','แบบทดสอบซ่อมเสริม','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','ไม่สามารถบันทึกการตั้งค่าได้','student-progress-content','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','mode','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','backgroundColor','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','จับคู่เพื่อเปรียบเทียบผล','#student-project-leaderboard-content\x20thead','setAttributeNS','.auto-resize-textarea','responses.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','indexOf','createElementNS','parallel-shortcut-modal-title','label[for=\x22num-questions\x22]','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','select','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','applicationData','640050YkTCGT','questionId','underline','.view-bp-lesson-btn','ไม่มี','<div\x20class=\x22mb-3\x20topic-category\x22>','Error\x20duplicating\x20quiz:','all','geq','presentation-short-answer-input','.eraser-size-btn','slice','สลับไปโหมดนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passingScore','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fix-lesson-latex-btn','first_try_ace','getPage','default-2','confirmation-modal','body','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','ไม่พบข้อมูลแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-lesson-view-btn','หัวข้อที่สร้างเอง','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','Firebase\x20initialization\x20failed:','complexityValue','line-through\x20text-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','Error\x20loading\x20quiz\x20for\x20student:','dataset','bg-red-500\x20text-white\x20font-bold','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x5csqrt{$1}','รอ...','admin-try-quiz-btn','workerSrc','pointerdown','handleGenerateQuizFromBlueprintTopic','(ไม่มีชื่อ)','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','pairedQuizId','passcode-prompt-message','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','pointsLastQuestion','input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delete','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','data','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','<br>','file-shortcut-editor-modal','touch','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','preScore','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','รูปแบบการให้เหตุผล','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','Error\x20processing\x20parallel\x20shortcut\x20click:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','mouseleave','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clearRect','timer-container','parallel-shortcut_','parallel-shortcut-editor-modal','scheduled','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','เส้นตรง:\x20รูปแบบสมการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','.delete-hidden-file-shortcut-btn','mandatory','ค.ร.น.\x20(LCM)','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','perfect_score','globalAlpha','ตอบถูก\x203\x20ข้อติดต่อกัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.sort-indicator','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','Error\x20listening\x20for\x20starred\x20quizzes:','.color-palette-popup','.move-shortcut-menu-btn','input[type=\x22checkbox\x22]','Error\x20saving\x20manual\x20blueprint\x20project:','\x20ชุด)','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','binom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','ลำดับเลขคณิต\x20(AP)','การประยุกต์เวกเตอร์พื้นฐาน','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_',':</span><span>','มุมและการวัดมุม','.color-palette-btn','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','correct','earned-badges-container','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','createElement','currentQuestionIndex','Error\x20during\x20deep\x20delete:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','globalSettings','.pdf','sync-submit-btn','adaptive-quiz-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','rgba(16,\x20185,\x20129,\x200.7)','bg-red-500','move','generated-quiz-container','nickname-input','shortcutIds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.topic-actions-view','live-game','</div>\x0a</div>\x0a','77696VkjBBZ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','both','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-pdf-modal','แก้ไขสูตรคณิตศาสตร์\x20','การคูณทศนิยม','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','gradeLevel','goto-next-question-btn','.use-hidden-parallel-shortcut-btn','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','px)\x20scale(','ondragover','.answered','worksheet-tab','.score','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','G-V90KRM0L63','lessonPlan','ความคาดหมาย\x20(Expected\x20value)','text-red-800','isFinished','bestScore','closePath','เพิ่มปุ่มลัดใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-choices','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync','sin','.scratchpad-content-wrapper','toLocaleDateString','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','file-shortcut-container','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','release','shuffledQuiz','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','loader-text','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','badgesCount','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20comparing\x20results:','parentElement','หัวข้อหลักใหม่','ค่าเฉลี่ย','คะแนนเต็ม','Error\x20toggling\x20pin\x20status:','msExitFullscreen','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','quiz-leaderboard-table','text/csv;charset=utf-8;','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20get\x20standardized\x20topic:','เกิดข้อผิดพลาดในการนำผู้เล่นออก','Successfully\x20removed\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Error\x20updating\x20pin\x20status:','link-url-input','confirm-game-start-btn','toString','per-question-options','disabled','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','ใช่','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tool','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','แท็บใหม่','correctResponse','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_with_choices','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','json','bg-black/20','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','delete-svg-btn','round','.delete-parallel-shortcut-tab-btn','export-worksheet-pdf-btn','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','bg-green-400\x20text-white\x20font-bold','presentation-ai-result','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','parallelShortcutTabs','\x20หัวข้อ)','results-table-container','\x20ตอบ','.edit-quiz-btn','เกิดข้อผิดพลาดในการส่งคำตอบ','bg-green-50','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','preTestId','keys','fadeStartTime','ตรวจพบการออกจากหน้าจอครบ\x20','post-test','ผู้ไม่ยอมแพ้','ref','Error\x20creating\x20project:','shortcuts','คำเตือน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','short','bp-modal-quiz-type-select','\x20รายการ...','question-complexity-select','เปิด\x20(จับเวลา)','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','student-view','default-1','แผนภาพกล่อง\x20(box\x20plot)','translate(','ความเท่ากันทุกประการของสามเหลี่ยม','justification','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','message-modal','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','Error\x20generating\x20parallel\x20post-test:','ไม่สามารถโหลดคลังข้อสอบได้','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ระยะเวลา\x20(วินาที):','Error\x20deleting\x20quiz:','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','สำหรับโปรเจค:\x20','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','ลบแบบทดสอบสำเร็จแล้ว','focus','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','พื้นที่วงกลม/ส่วนของวงกลม','shortcut-id-input','generate-from-parallel-test-btn','getElementsByTagName','.move-parallel-shortcut-menu-btn','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','ยังไม่ส่ง','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-rocket\x20text-purple-500','editable-text-','cancel-export-pdf-btn','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','lastAnswerCorrect','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','questions_only','<div\x20id=\x22q-image-container-','insertBefore','reference-pdf-upload','Error\x20deleting\x20custom\x20topic:','1281265CfsMWy','getBBox','wakeLock','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirmation-message','text-green-700\x20bg-green-100','on_fire','blueprint-project-manager-view','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','confidence-scoring-toggle','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','.highlighter-color-btn','Error\x20saving\x20settings:','\x20คู่\x20','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','ระยะเวลา\x20(นาที):','curriculum','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','fa-fire\x20text-orange-500','ตรวจทานเฉลยเสร็จสิ้น!','.pin-project-btn','[data-topic-id]','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','Error\x20saving\x20file\x20shortcut:','Error\x20confirming\x20players:','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','ยอดเยี่ยม','qIndex','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','score-distribution-chart','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confident','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','dragstart','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ตั้งเวลา\x20(เปิด)','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','274192258111','targetId','Error\x20listening\x20for\x20projects:','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','project-passcode-modal','back-to-home-manual-release','pin','เกิดข้อผิดพลาดในการบันทึกลำดับ','back-to-dashboard-from-bp-btn','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','แบบทดสอบที่ติดดาว','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','results-tab','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','_opt','quiz-bank-modal','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x22,\x20','project-dashboard-view','Error\x20resetting\x20project\x20order:','กำลังจับคู่...','.delete-file-shortcut-tab-btn','Error\x20displaying\x20question\x20bank:','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>','isDefault','fromCharCode','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กำลังสร้างรูปภาพ...','fas\x20fa-bookmark','resultsDisplay','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineWidth','isCorrect','sync-player-management','helvetica','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','ถูก','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','bg-black/10','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bar'];_0x55dd=function(){return _0x466039;};return _0x55dd();}function listenForProjects(){const _0x10b3b3=_0x18fcf7,_0x1a3ba6=doc(db,_0x10b3b3(0xa24),'dashboardConfig');onSnapshot(_0x1a3ba6,_0x1616a9=>{const _0x3a0bec=_0x10b3b3;if(_0x1616a9['exists']()){const _0x115466=_0x1616a9[_0x3a0bec(0x9e7)]();globalDashboardSettings[_0x3a0bec(0xc27)]=_0x115466[_0x3a0bec(0xc27)]||_0x3a0bec(0x8c7),globalDashboardSettings[_0x3a0bec(0x961)]=_0x115466[_0x3a0bec(0x961)]||[],globalDashboardSettings[_0x3a0bec(0xcf5)]=_0x115466[_0x3a0bec(0xcf5)]||[];}allProjects[_0x3a0bec(0x633)]>0x0&&renderProjects();});const _0x23fdc7=collection(db,'artifacts/'+appId+_0x10b3b3(0x382));unsubscribeProjectsListener=onSnapshot(_0x23fdc7,_0x588022=>{const _0xf1876c=_0x10b3b3;allProjects=_0x588022[_0xf1876c(0x8d0)][_0xf1876c(0x985)](_0x480c0d=>({'id':_0x480c0d['id'],..._0x480c0d[_0xf1876c(0x9e7)]()})),renderProjects();},_0x16ed9a=>{const _0x332c46=_0x10b3b3;console[_0x332c46(0x537)](_0x332c46(0xb0d),_0x16ed9a),showMessage(_0x332c46(0x389));});}function showColorPalette(_0x2c0068,_0x21aa82){const _0xc2b6c=_0x18fcf7;document[_0xc2b6c(0x801)](_0xc2b6c(0xa0b))['forEach'](_0x30e9b7=>_0x30e9b7[_0xc2b6c(0xbee)]());const _0x5a84de=[_0xc2b6c(0x225),'#FEE2E2',_0xc2b6c(0x2ca),_0xc2b6c(0x8ba),_0xc2b6c(0x4b0),_0xc2b6c(0x63e),_0xc2b6c(0x2ba),_0xc2b6c(0x3a3),_0xc2b6c(0x8d7)],_0x466317=document[_0xc2b6c(0xa1f)](_0xc2b6c(0x538));_0x466317['className']=_0xc2b6c(0x58f),_0x5a84de[_0xc2b6c(0xc92)](_0x5a4d16=>{const _0x230dff=_0xc2b6c,_0x1c9dbf=document[_0x230dff(0xa1f)]('div');_0x1c9dbf[_0x230dff(0x6c6)]=_0x230dff(0x792),_0x1c9dbf['style'][_0x230dff(0x99b)]=_0x5a4d16,_0x1c9dbf[_0x230dff(0x616)](_0x230dff(0xc47),()=>{const _0x8bed09=_0x230dff;handleProjectColorChange(_0x21aa82,_0x5a4d16),_0x466317[_0x8bed09(0xbee)]();}),_0x466317[_0x230dff(0x661)](_0x1c9dbf);}),document[_0xc2b6c(0x9c6)][_0xc2b6c(0x661)](_0x466317);const _0x332926=_0x2c0068[_0xc2b6c(0x6f3)]();_0x466317[_0xc2b6c(0xbce)][_0xc2b6c(0x7a1)]=_0x332926[_0xc2b6c(0x7a7)]+window[_0xc2b6c(0x23c)]+'px',_0x466317[_0xc2b6c(0xbce)]['left']=_0x332926[_0xc2b6c(0x857)]+window[_0xc2b6c(0xb3f)]-_0x466317[_0xc2b6c(0x682)]/0x2+'px';}async function handleProjectColorChange(_0x2242f4,_0x2a0ed4){const _0x52cb63=_0x18fcf7,_0x2a5b97=doc(db,_0x52cb63(0x944)+appId+_0x52cb63(0x382),_0x2242f4);try{await updateDoc(_0x2a5b97,{'color':_0x2a0ed4});}catch(_0x1b4eca){console[_0x52cb63(0x537)](_0x52cb63(0x3f7),_0x1b4eca),showMessage(_0x52cb63(0xc29));}}async function renderProjects(){const _0x311cc4=_0x18fcf7,_0x34959c=globalDashboardSettings[_0x311cc4(0xc27)]||'date_desc',_0x382483=new Set(globalDashboardSettings[_0x311cc4(0x961)]||[]),_0x4536af=globalDashboardSettings[_0x311cc4(0xc9c)]||_0x311cc4(0x319),_0x5570b6=document[_0x311cc4(0x360)](_0x311cc4(0x60d)),_0x4fd8ba=document[_0x311cc4(0x360)]('list-view-btn');_0x5570b6['classList']['toggle'](_0x311cc4(0x455),_0x4536af===_0x311cc4(0x319)),_0x4fd8ba[_0x311cc4(0x5a1)][_0x311cc4(0xb4a)](_0x311cc4(0x455),_0x4536af===_0x311cc4(0x48a)),document[_0x311cc4(0x360)](_0x311cc4(0x1f2))[_0x311cc4(0x1db)]=_0x34959c;const _0x16b713=document[_0x311cc4(0x360)](_0x311cc4(0x208))[_0x311cc4(0x1db)]['toLowerCase']();let _0x2f4b45=allProjects[_0x311cc4(0x2bb)](_0x28881f=>_0x28881f[_0x311cc4(0x8f5)][_0x311cc4(0xc54)]()[_0x311cc4(0xba6)](_0x16b713));const _0x39ddff=_0x2f4b45['filter'](_0x1cd532=>_0x382483['has'](_0x1cd532['id'])),_0x53f051=_0x2f4b45[_0x311cc4(0x2bb)](_0x38057b=>!_0x382483[_0x311cc4(0xc95)](_0x38057b['id'])),_0x78a831=(_0x4302fd,_0x482ccf)=>{const _0x4b2025=_0x311cc4;switch(_0x34959c){case _0x4b2025(0x92b):return _0x4302fd[_0x4b2025(0x8f5)][_0x4b2025(0x69b)](_0x482ccf['projectName'],'th');case'name_desc':return _0x482ccf[_0x4b2025(0x8f5)][_0x4b2025(0x69b)](_0x4302fd[_0x4b2025(0x8f5)],'th');case _0x4b2025(0x7d6):return new Date(_0x4302fd[_0x4b2025(0x2b2)])-new Date(_0x482ccf[_0x4b2025(0x2b2)]);default:return new Date(_0x482ccf[_0x4b2025(0x2b2)])-new Date(_0x4302fd[_0x4b2025(0x2b2)]);}};_0x39ddff[_0x311cc4(0x5a4)](_0x78a831),_0x53f051[_0x311cc4(0x5a4)](_0x78a831);const _0x3d30c5=[..._0x39ddff,..._0x53f051],_0x26a545=globalDashboardSettings[_0x311cc4(0xcf5)]||[];_0x26a545['length']>0x0&&_0x4536af==='grid'&&_0x3d30c5[_0x311cc4(0x5a4)]((_0x33f224,_0x4270b5)=>{const _0x1629b4=_0x311cc4,_0x1c81c7=_0x26a545[_0x1629b4(0x9a4)](_0x33f224['id']),_0x470371=_0x26a545[_0x1629b4(0x9a4)](_0x4270b5['id']);if(_0x1c81c7===-0x1)return 0x1;if(_0x470371===-0x1)return-0x1;return _0x1c81c7-_0x470371;});const _0x28da25={};await Promise[_0x311cc4(0x9b3)](_0x3d30c5[_0x311cc4(0x985)](async _0x570bef=>{const _0x6108a=_0x311cc4,_0x4a90e5=query(collection(db,_0x6108a(0x944)+appId+_0x6108a(0x46a)),where(_0x6108a(0x15d),'==',_0x570bef['id'])),_0x1082da=await getDocs(_0x4a90e5);_0x28da25[_0x570bef['id']]=_0x1082da['size'];}));const _0xb5a5af=document[_0x311cc4(0x360)](_0x311cc4(0xb61));let _0x30f436='';if(_0x4536af===_0x311cc4(0x319)){_0xb5a5af[_0x311cc4(0x6c6)]=_0x311cc4(0x6ff);if(starredQuizzes[_0x311cc4(0x633)]>0x0&&_0x16b713===''){const _0x4cc5eb=starredQuizzes['map'](_0x58e862=>{const _0x1b8b38=_0x311cc4,_0x594457=allProjects['find'](_0x3965d5=>_0x3965d5['id']===_0x58e862[_0x1b8b38(0x15d)]);return{..._0x58e862,'projectName':_0x594457?_0x594457['projectName']:_0x1b8b38(0xc1c)};});_0x30f436+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4cc5eb[_0x311cc4(0x985)](_0x5079fe=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x5079fe['topic']+'\x22>'+_0x5079fe[_0x311cc4(0x94f)]+_0x311cc4(0x551)+_0x5079fe[_0x311cc4(0x8f5)]+_0x311cc4(0x740)+_0x5079fe[_0x311cc4(0x8f5)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x311cc4(0x162)+starredQuizzes['length']+_0x311cc4(0xb08);}_0x3d30c5['forEach'](_0x4b0b9c=>{const _0x3eed27=_0x311cc4,_0x2fa068=_0x28da25[_0x4b0b9c['id']]??0x0,_0x40df98=_0x382483[_0x3eed27(0xc95)](_0x4b0b9c['id']),_0x37fd15=_0x4b0b9c['color']||_0x3eed27(0x225),_0x3c4016=parseInt(_0x37fd15[_0x3eed27(0x3e0)](0x1,0x3),0x10)*0.299+parseInt(_0x37fd15['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x37fd15[_0x3eed27(0x3e0)](0x5,0x7),0x10)*0.114<0xba,_0x20adac=_0x3c4016?_0x3eed27(0x941):_0x3eed27(0x424),_0x48aa11=_0x3c4016?_0x3eed27(0x846):'text-gray-500';_0x30f436+=_0x3eed27(0x3f8)+(_0x40df98?_0x3eed27(0x4df):_0x3eed27(0x2c5))+_0x3eed27(0x41c)+_0x37fd15+_0x3eed27(0x467)+_0x4b0b9c['id']+_0x3eed27(0x672)+_0x4b0b9c['id']+_0x3eed27(0x8b5)+(_0x3c4016?'text-gray-300\x20hover:text-white':_0x3eed27(0x663))+_0x3eed27(0xab9)+_0x4b0b9c['id']+_0x3eed27(0x853)+(_0x3c4016?_0x3eed27(0xc65):_0x3eed27(0x663))+_0x3eed27(0xabc)+(_0x40df98?_0x3c4016?_0x3eed27(0x498):_0x3eed27(0x783):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x4b0b9c['id']+_0x3eed27(0xbff)+_0x20adac+_0x3eed27(0x185)+_0x4b0b9c['projectName']+_0x3eed27(0xb5e)+_0x48aa11+_0x3eed27(0xada)+new Date(_0x4b0b9c[_0x3eed27(0x2b2)])[_0x3eed27(0xa55)](_0x3eed27(0x579))+_0x3eed27(0x83f)+(_0x3c4016?'text-gray-100':_0x3eed27(0x972))+_0x3eed27(0x392)+_0x2fa068+_0x3eed27(0xb66)+_0x4b0b9c['id']+_0x3eed27(0xb62)+_0x4b0b9c[_0x3eed27(0x8f5)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x3c4016?'text-red-300\x20hover:text-red-100':_0x3eed27(0x5c4))+_0x3eed27(0xcd1);});}else _0xb5a5af[_0x311cc4(0x6c6)]=_0x311cc4(0x917),starredQuizzes[_0x311cc4(0x633)]>0x0&&_0x16b713===''&&(_0x30f436+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes['length']+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x30f436+=_0x311cc4(0x1bb),_0x3d30c5['forEach'](_0x5bc009=>{const _0x2e29cd=_0x311cc4,_0x2b27fd=_0x28da25[_0x5bc009['id']]??0x0,_0x33d875=_0x382483[_0x2e29cd(0xc95)](_0x5bc009['id']);_0x30f436+=_0x2e29cd(0xa14)+(_0x5bc009[_0x2e29cd(0xcdf)]||'#E5E7EB')+_0x2e29cd(0x5c3)+_0x5bc009['id']+_0x2e29cd(0x238)+_0x5bc009[_0x2e29cd(0x8f5)]+_0x2e29cd(0x26b)+_0x2b27fd+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x5bc009[_0x2e29cd(0x2b2)])[_0x2e29cd(0xcc2)](_0x2e29cd(0x579))+_0x2e29cd(0x9c0)+_0x5bc009['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x33d875?_0x2e29cd(0x783):'')+_0x2e29cd(0x59d)+_0x5bc009['id']+_0x2e29cd(0xb62)+_0x5bc009[_0x2e29cd(0x8f5)]+_0x2e29cd(0x2d8);});projectList[_0x311cc4(0x1a0)]=_0x30f436,noProjectsMsg['classList']['toggle'](_0x311cc4(0x29e),_0x30f436[_0x311cc4(0x633)]>0x0);}document[_0x18fcf7(0x360)](_0x18fcf7(0x7a5))['addEventListener'](_0x18fcf7(0xc47),async()=>{const _0x3af59f=_0x18fcf7,_0xbc5039=document['getElementById'](_0x3af59f(0x7af)),_0x177358=_0xbc5039[_0x3af59f(0x1db)][_0x3af59f(0x665)]();if(!_0x177358){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x17ec1c=doc(collection(db,_0x3af59f(0x944)+appId+'/public/data/projects'));await setDoc(_0x17ec1c,{'projectName':_0x177358,'students':[],'settings':{'resultsDisplay':_0x3af59f(0x56e),'shuffleSetting':_0x3af59f(0x2da),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x3af59f(0x2da),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x3af59f(0x3a7)]()}),_0xbc5039[_0x3af59f(0x1db)]='',createProjectModal[_0x3af59f(0x5a1)][_0x3af59f(0x1f5)]('hidden'),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x5c519e){console[_0x3af59f(0x537)](_0x3af59f(0xaa3),_0x5c519e),showMessage(_0x3af59f(0x1ac));}}),projectList[_0x18fcf7(0x616)](_0x18fcf7(0xc47),async _0x3e5007=>{const _0x45751a=_0x18fcf7,_0x5b1f23=_0x3e5007['target']['closest'](_0x45751a(0x45f)),_0x820a4f=_0x3e5007[_0x45751a(0x357)]['closest'](_0x45751a(0x615)),_0x328918=_0x3e5007[_0x45751a(0x357)][_0x45751a(0x3ed)](_0x45751a(0xaf7)),_0x425f68=_0x3e5007[_0x45751a(0x357)][_0x45751a(0x3ed)](_0x45751a(0xa1a));if(_0x328918){const _0x3817e3=_0x328918[_0x45751a(0x9d2)]['id'],_0xeb9061=doc(db,_0x45751a(0xa24),_0x45751a(0x4b9)),_0xe9d2ea=globalDashboardSettings[_0x45751a(0x961)];let _0x50b889;_0xe9d2ea[_0x45751a(0xba6)](_0x3817e3)?_0x50b889=_0xe9d2ea[_0x45751a(0x2bb)](_0xec4c9e=>_0xec4c9e!==_0x3817e3):_0x50b889=[..._0xe9d2ea,_0x3817e3];try{await setDoc(_0xeb9061,{'pinnedProjects':_0x50b889},{'merge':!![]});}catch(_0x31e9c2){console[_0x45751a(0x537)](_0x45751a(0xa73),_0x31e9c2),showMessage(_0x45751a(0x456));}}else{if(_0x425f68){const _0x1faf60=_0x425f68['dataset']['id'];showColorPalette(_0x425f68,_0x1faf60);}else{if(_0x5b1f23){const _0x13ce70=_0x5b1f23[_0x45751a(0x9d2)]['id'];_0x13ce70==='starred-project'?showStarredProjectView():(currentProjectId=_0x13ce70,await loadProjectDetails(currentProjectId),showView(_0x45751a(0x6b8)));}else{if(_0x820a4f){const _0x4849b0=_0x820a4f[_0x45751a(0x9d2)]['id'],_0x3da7c3=_0x820a4f[_0x45751a(0x9d2)][_0x45751a(0x3d8)];showConfirmation(_0x45751a(0x9ff)+_0x3da7c3+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x4849b0));}}}}}),projectList[_0x18fcf7(0x616)](_0x18fcf7(0xb07),_0x4abd58=>{const _0x4cf9fd=_0x18fcf7,_0x342c04=_0x4abd58[_0x4cf9fd(0x357)]['closest'](_0x4cf9fd(0x7a0));_0x342c04&&_0x342c04[_0x4cf9fd(0x5a1)][_0x4cf9fd(0x1f5)]('opacity-50');}),projectList[_0x18fcf7(0x616)]('dragend',_0x3a63b8=>{const _0x5a9106=_0x18fcf7,_0x10c21f=_0x3a63b8[_0x5a9106(0x357)]['closest'](_0x5a9106(0x7a0));_0x10c21f&&_0x10c21f[_0x5a9106(0x5a1)][_0x5a9106(0xbee)](_0x5a9106(0x717));}),projectList['addEventListener'](_0x18fcf7(0x5d0),_0x3ea2a1=>{const _0x7ea856=_0x18fcf7;_0x3ea2a1[_0x7ea856(0xc63)]();const _0x2c6722=document[_0x7ea856(0xc8a)](_0x7ea856(0x87a));if(!_0x2c6722)return;const _0x522c74=getDragAfterElement(projectList,_0x3ea2a1[_0x7ea856(0x31d)]);_0x522c74==null?projectList[_0x7ea856(0x661)](_0x2c6722):projectList[_0x7ea856(0xadd)](_0x2c6722,_0x522c74);}),projectList[_0x18fcf7(0x616)](_0x18fcf7(0x55f),_0x54d940=>{const _0x3293db=_0x18fcf7;_0x54d940[_0x3293db(0xc63)]();const _0x1dbc86=[...projectList[_0x3293db(0x801)]('.project-card-container[data-id]')][_0x3293db(0x985)](_0x21c3bb=>_0x21c3bb['dataset']['id']);saveProjectOrder(_0x1dbc86);});function renderBehaviorLog(_0x1d0a1b){const _0x2ab5c2=_0x18fcf7,_0x5e2a71=document[_0x2ab5c2(0x360)](_0x2ab5c2(0x2f4));if(!_0x5e2a71)return;const _0x300ae4=_0x1d0a1b[_0x2ab5c2(0x2bb)](_0x324f36=>_0x324f36[_0x2ab5c2(0x200)]&&_0x324f36[_0x2ab5c2(0x200)][_0x2ab5c2(0x633)]>0x0);if(_0x300ae4[_0x2ab5c2(0x633)]===0x0){_0x5e2a71['innerHTML']=_0x2ab5c2(0x266);return;}let _0x30bfea='';_0x300ae4[_0x2ab5c2(0xc92)](_0x1f8058=>{const _0x15af6d=_0x2ab5c2;_0x30bfea+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x1f8058['studentName']+_0x15af6d(0x287),_0x1f8058[_0x15af6d(0x200)][_0x15af6d(0x5a4)]((_0x525f2b,_0x2f0b50)=>new Date(_0x2f0b50[_0x15af6d(0xca5)])-new Date(_0x525f2b[_0x15af6d(0xca5)]))[_0x15af6d(0xc92)](_0x1183da=>{const _0x4ab199=_0x15af6d,_0x156a2d=new Date(_0x1183da[_0x4ab199(0xca5)])[_0x4ab199(0xcc2)]('th-TH',{'dateStyle':_0x4ab199(0xaa7),'timeStyle':_0x4ab199(0x94e)});_0x30bfea+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x1183da['attemptNumber']+_0x4ab199(0x4b2)+_0x156a2d+_0x4ab199(0xbc6);}),_0x30bfea+=_0x15af6d(0x59f);}),_0x5e2a71[_0x2ab5c2(0x1a0)]=_0x30bfea;}function getDragAfterElement(_0x2ce80a,_0x340948){const _0x40d0fb=_0x18fcf7,_0x238fa2=[..._0x2ce80a[_0x40d0fb(0x801)](_0x40d0fb(0x759))];return _0x238fa2[_0x40d0fb(0x3a8)]((_0x180ab4,_0x9bd30e)=>{const _0x3cf965=_0x40d0fb,_0x5f55e9=_0x9bd30e['getBoundingClientRect'](),_0x60ef6=_0x340948-_0x5f55e9['top']-_0x5f55e9[_0x3cf965(0xb8b)]/0x2;return _0x60ef6<0x0&&_0x60ef6>_0x180ab4[_0x3cf965(0x3a1)]?{'offset':_0x60ef6,'element':_0x9bd30e}:_0x180ab4;},{'offset':Number[_0x40d0fb(0x2d1)]})[_0x40d0fb(0x601)];}async function saveProjectOrder(_0x21d973){const _0x3175c4=_0x18fcf7,_0x44a75c=doc(db,_0x3175c4(0xa24),_0x3175c4(0x4b9));try{await setDoc(_0x44a75c,{'projectOrder':_0x21d973},{'merge':!![]});}catch(_0x3255d2){console['error'](_0x3175c4(0x629),_0x3255d2),showMessage(_0x3175c4(0xb12));}}async function logBehaviorEvent(_0x5d4711,_0x558ac3={}){const _0x4c6b9d=_0x18fcf7;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x4c6b9d(0x5f5)](_0x4c6b9d(0xc84));return;}const _0xa4ea6e=doc(db,_0x4c6b9d(0x944)+appId+_0x4c6b9d(0x340)+currentQuizData['id']+_0x4c6b9d(0xcad),currentStudentName),_0x38aa18={'event':_0x5d4711,'timestamp':new Date()[_0x4c6b9d(0x3a7)](),..._0x558ac3};try{await updateDoc(_0xa4ea6e,{'behaviorLog':arrayUnion(_0x38aa18)}),console[_0x4c6b9d(0xced)](_0x4c6b9d(0x3fb)+currentStudentName+_0x4c6b9d(0x3fe));}catch(_0xbb9729){_0xbb9729[_0x4c6b9d(0x7db)]===_0x4c6b9d(0x6be)?console[_0x4c6b9d(0x5f5)](_0x4c6b9d(0x28e)+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console['error'](_0x4c6b9d(0x9f2),_0xbb9729);}}function calculateMeanAndStdDev(_0x2805f6){const _0x589bb6=_0x18fcf7;if(_0x2805f6[_0x589bb6(0x633)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x34a9d4=_0x2805f6['reduce']((_0x297d07,_0x3a0886)=>_0x297d07+_0x3a0886,0x0)/_0x2805f6[_0x589bb6(0x633)];if(_0x2805f6[_0x589bb6(0x633)]===0x1)return{'mean':_0x34a9d4,'stdDev':0x0};const _0x43d9d5=Math['sqrt'](_0x2805f6['map'](_0x10a08d=>Math[_0x589bb6(0x1c9)](_0x10a08d-_0x34a9d4,0x2))[_0x589bb6(0x3a8)]((_0x1fde05,_0x43e672)=>_0x1fde05+_0x43e672,0x0)/(_0x2805f6[_0x589bb6(0x633)]-0x1));return{'mean':_0x34a9d4,'stdDev':_0x43d9d5};}function calculateZScore(_0x21e3af,_0x2248f7,_0x29c54b){if(_0x29c54b===0x0)return 0x0;return(_0x21e3af-_0x2248f7)/_0x29c54b;}function calculateTScore(_0x3a4941){return 0xa*_0x3a4941+0x32;}function showStarredProjectView(){const _0x4bb5b4=_0x18fcf7;currentProjectId=_0x4bb5b4(0x216),currentProjectData=null,projectTitle[_0x4bb5b4(0x946)]=_0x4bb5b4(0xb17),projectIdDisplay[_0x4bb5b4(0x946)]=_0x4bb5b4(0x44d),showView(_0x4bb5b4(0x6b8)),manageTab[_0x4bb5b4(0x5a1)][_0x4bb5b4(0x1f5)](_0x4bb5b4(0x29e)),leaderboardTab[_0x4bb5b4(0x5a1)][_0x4bb5b4(0x1f5)](_0x4bb5b4(0x29e)),switchProjectTab(_0x4bb5b4(0x322)),renderQuizzes();}async function loadProjectDetails(_0x3c1076){const _0xe26341=_0x18fcf7,_0x395aca=doc(db,_0xe26341(0x944)+appId+_0xe26341(0x382),_0x3c1076),_0x24253a=await getDoc(_0x395aca);if(_0x24253a[_0xe26341(0x815)]()){manageTab['classList']['remove'](_0xe26341(0x29e)),leaderboardTab[_0xe26341(0x5a1)][_0xe26341(0xbee)]('hidden'),currentProjectData=_0x24253a['data'](),projectTitle[_0xe26341(0x946)]=currentProjectData[_0xe26341(0x8f5)],projectIdDisplay[_0xe26341(0x946)]=_0x3c1076;const _0x3db996=currentProjectData['settings']||{};document['getElementById'](_0xe26341(0xcc4))[_0xe26341(0x1db)]=_0x3db996[_0xe26341(0x5ea)]||_0xe26341(0x2da);const _0x530a0e=document[_0xe26341(0x360)](_0xe26341(0x304));_0x530a0e['checked']=_0x3db996[_0xe26341(0xc6f)]!==![];const _0x957064=document[_0xe26341(0x360)]('enable-passcode-checkbox'),_0x24548d=document['getElementById']('passcode-input-container'),_0x351b53=document[_0xe26341(0x360)](_0xe26341(0x581)),_0x2d4c56=_0x3db996[_0xe26341(0x7f3)]||![];_0x957064[_0xe26341(0x5fc)]=_0x2d4c56,_0x351b53[_0xe26341(0x1db)]=_0x3db996[_0xe26341(0x4d0)]||'',_0x24548d[_0xe26341(0x5a1)]['toggle']('hidden',!_0x2d4c56),_0x957064[_0xe26341(0x576)]=()=>{const _0x597458=_0xe26341;_0x24548d[_0x597458(0x5a1)][_0x597458(0xb4a)](_0x597458(0x29e),!_0x957064[_0x597458(0x5fc)]);},document[_0xe26341(0x360)]('confidence-scoring-checkbox')[_0xe26341(0x5fc)]=_0x3db996[_0xe26341(0x3ea)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x3c1076),listenForProjectQuizzes(_0x3c1076),listenForStudentProfiles(_0x3c1076);}else showMessage(_0xe26341(0x235)),showView(_0xe26341(0xc49));}async function handleResetProjectOrder(){const _0xaa8e36=_0x18fcf7,_0x4f594d=doc(db,_0xaa8e36(0xa24),_0xaa8e36(0x4b9));try{await setDoc(_0x4f594d,{'projectOrder':[]},{'merge':!![]}),showMessage(_0xaa8e36(0x221));}catch(_0x171fd9){console[_0xaa8e36(0x537)](_0xaa8e36(0xb23),_0x171fd9),showMessage(_0xaa8e36(0x999));}}async function handleTogglePinProject(_0xa1a87b){const _0x4d30af=_0x18fcf7;if(!_0xa1a87b)return;const _0x190a17=doc(db,'artifacts/'+appId+'/public/data/projects',_0xa1a87b);try{const _0x37f958=await getDoc(_0x190a17);if(_0x37f958[_0x4d30af(0x815)]()){const _0xb72887=_0x37f958['data']()[_0x4d30af(0xb8f)]||![];await updateDoc(_0x190a17,{'isPinned':!_0xb72887});}}catch(_0x57020e){console[_0x4d30af(0x537)](_0x4d30af(0xa66),_0x57020e),showMessage(_0x4d30af(0x456));}}async function handleDeleteProject(_0x1162bc){const _0x35e323=_0x18fcf7;try{const _0x107027=writeBatch(db),_0x26d3b4=collection(db,_0x35e323(0x944)+appId+_0x35e323(0x46a)),_0x1aef2b=query(_0x26d3b4,where(_0x35e323(0x15d),'==',_0x1162bc)),_0xc55753=await getDocs(_0x1aef2b);for(const _0x315180 of _0xc55753[_0x35e323(0x8d0)]){const _0x1f549a=collection(db,_0x35e323(0x944)+appId+_0x35e323(0x340)+_0x315180['id']+_0x35e323(0xcad)),_0xd4447c=await getDocs(_0x1f549a);_0xd4447c[_0x35e323(0xc92)](_0x398742=>{_0x107027['delete'](_0x398742['ref']);}),_0x107027['delete'](_0x315180[_0x35e323(0xaa2)]);}const _0x3317f8=collection(db,_0x35e323(0x944)+appId+_0x35e323(0x58b)+_0x1162bc+'/studentProfiles'),_0x604313=await getDocs(_0x3317f8);_0x604313[_0x35e323(0xc92)](_0x4331bf=>{const _0x4827ae=_0x35e323;_0x107027[_0x4827ae(0x9e5)](_0x4331bf[_0x4827ae(0xaa2)]);});const _0x35ef88=doc(db,'artifacts/'+appId+_0x35e323(0x382),_0x1162bc);_0x107027[_0x35e323(0x9e5)](_0x35ef88),await _0x107027['commit'](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x35e323(0xc49));}catch(_0x2587bc){console[_0x35e323(0x537)](_0x35e323(0xcf9),_0x2587bc),showMessage(_0x35e323(0x909));}}document[_0x18fcf7(0x360)](_0x18fcf7(0x758))[_0x18fcf7(0x616)](_0x18fcf7(0xc47),async()=>{const _0x5cee5e=_0x18fcf7;if(!currentProjectId)return;const _0x18fc74={'defaultNumQuestions':parseInt(document['getElementById'](_0x5cee5e(0x725))[_0x5cee5e(0x1db)]),'defaultNumChoices':parseInt(document[_0x5cee5e(0x360)](_0x5cee5e(0xa50))[_0x5cee5e(0x1db)]),'defaultPassingScore':parseInt(document[_0x5cee5e(0x360)](_0x5cee5e(0x582))[_0x5cee5e(0x1db)]),'resultsDisplay':document['getElementById'](_0x5cee5e(0x1b2))[_0x5cee5e(0x1db)],'shuffleSetting':document[_0x5cee5e(0x360)]('shuffle-setting-select')[_0x5cee5e(0x1db)],'timerMode':document[_0x5cee5e(0x360)](_0x5cee5e(0x25b))[_0x5cee5e(0x1db)],'timerDuration':parseInt(document['getElementById'](_0x5cee5e(0x940))[_0x5cee5e(0x1db)]),'isConfidenceScoringEnabled':document[_0x5cee5e(0x360)]('confidence-scoring-checkbox')[_0x5cee5e(0x5fc)],'confidenceMode':document[_0x5cee5e(0x360)](_0x5cee5e(0x42c))[_0x5cee5e(0x1db)]};try{const _0x4a667a=doc(db,_0x5cee5e(0x944)+appId+_0x5cee5e(0x382),currentProjectId);await updateDoc(_0x4a667a,{'settings':_0x18fc74}),showMessage(_0x5cee5e(0x201));}catch(_0x28a0a1){console[_0x5cee5e(0x537)](_0x5cee5e(0xaee),_0x28a0a1),showMessage(_0x5cee5e(0x994));}});function listenForStudents(_0x44689d){const _0x1e57a8=_0x18fcf7,_0x28351b=doc(db,_0x1e57a8(0x944)+appId+'/public/data/projects',_0x44689d);unsubscribeStudentsListener=onSnapshot(_0x28351b,_0x4fb9d2=>{const _0x3c173d=_0x1e57a8;if(_0x4fb9d2[_0x3c173d(0x815)]()){const _0x1e2efb=_0x4fb9d2[_0x3c173d(0x9e7)]();currentProjectData=_0x1e2efb,renderStudentList(_0x1e2efb['students']||[]);}});}function renderStudentList(_0x37034e){const _0x24532a=_0x18fcf7,_0x791e54=document[_0x24532a(0x360)](_0x24532a(0x51d));_0x37034e[_0x24532a(0x633)]===0x0?(studentList[_0x24532a(0x1a0)]=_0x24532a(0x94c),_0x791e54[_0x24532a(0x5a1)][_0x24532a(0x1f5)]('hidden')):(studentList['innerHTML']=_0x37034e[_0x24532a(0x985)](_0x186979=>_0x24532a(0x9bf)+_0x186979+_0x24532a(0x4ff)+_0x186979+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x24532a(0x155)](''),_0x791e54[_0x24532a(0x5a1)]['remove'](_0x24532a(0x29e)));}document['getElementById'](_0x18fcf7(0x3d1))[_0x18fcf7(0x616)](_0x18fcf7(0xc47),async()=>{const _0x2cfb4a=_0x18fcf7;if(!currentProjectId)return;const _0x1b364b=document[_0x2cfb4a(0x360)]('student-name-input'),_0x5ed3f7=_0x1b364b[_0x2cfb4a(0x1db)]['trim']();if(!_0x5ed3f7){showMessage(_0x2cfb4a(0x2f8));return;}const _0x3f2120=_0x5ed3f7[_0x2cfb4a(0x779)]('\x0a')[_0x2cfb4a(0x985)](_0x5b611a=>_0x5b611a[_0x2cfb4a(0x665)]())[_0x2cfb4a(0x2bb)](_0x1b04d7=>_0x1b04d7);if(_0x3f2120[_0x2cfb4a(0x633)]===0x0)return;try{const _0x5827d6=doc(db,_0x2cfb4a(0x944)+appId+_0x2cfb4a(0x382),currentProjectId),_0x106a4d=await getDoc(_0x5827d6);if(_0x106a4d[_0x2cfb4a(0x815)]()){const _0x10a31b=_0x106a4d[_0x2cfb4a(0x9e7)]()['students']||[],_0x4ad076=[...new Set([..._0x10a31b,..._0x3f2120])];await updateDoc(_0x5827d6,{'students':_0x4ad076}),_0x1b364b[_0x2cfb4a(0x1db)]='';}}catch(_0x2f0a9c){console[_0x2cfb4a(0x537)](_0x2cfb4a(0x544),_0x2f0a9c),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x2fd335){const _0x1d4ada=_0x18fcf7,_0x571e50=document[_0x1d4ada(0x360)]('move-quiz-modal'),_0x320bc8=document[_0x1d4ada(0x360)]('move-quiz-project-select'),_0x31f4ae=_0x571e50['querySelector']('h3'),_0x2e84b7=document['getElementById'](_0x1d4ada(0x24a)),_0x329e19=document[_0x1d4ada(0x360)](_0x1d4ada(0xc90));_0x31f4ae[_0x1d4ada(0x946)]=_0x1d4ada(0x99d),_0x320bc8[_0x1d4ada(0x1a0)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x2e84b7[_0x1d4ada(0x946)]=_0x1d4ada(0xc68),_0x571e50[_0x1d4ada(0x5a1)]['remove'](_0x1d4ada(0x29e));const _0x3ca34d=allQuizzes['filter'](_0x15e6f8=>_0x15e6f8['id']!==_0x2fd335);_0x3ca34d[_0x1d4ada(0x633)]===0x0?(_0x320bc8[_0x1d4ada(0x1a0)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x2e84b7['disabled']=!![]):(_0x320bc8['innerHTML']=_0x1d4ada(0xbd3)+_0x3ca34d[_0x1d4ada(0x985)](_0x24a52c=>'<option\x20value=\x22'+_0x24a52c['id']+'\x22>'+_0x24a52c[_0x1d4ada(0x94f)]+_0x1d4ada(0x76e))[_0x1d4ada(0x155)](''),_0x2e84b7[_0x1d4ada(0xa78)]=![]);const _0x517e73=async()=>{const _0x45bb95=_0x1d4ada,_0x3276fc=_0x320bc8['value'];if(!_0x3276fc){showMessage(_0x45bb95(0xbf7));return;}_0x2e84b7['disabled']=!![],_0x2e84b7[_0x45bb95(0x946)]=_0x45bb95(0xb24);try{const _0x270859=doc(db,'artifacts/'+appId+_0x45bb95(0x46a),_0x2fd335),_0x43f884=doc(db,_0x45bb95(0x944)+appId+_0x45bb95(0x46a),_0x3276fc),_0x33e56b=writeBatch(db);_0x33e56b[_0x45bb95(0xc50)](_0x270859,{'pairedQuizId':_0x3276fc}),_0x33e56b[_0x45bb95(0xc50)](_0x43f884,{'pairedQuizId':_0x2fd335}),await _0x33e56b[_0x45bb95(0xb69)](),showMessage(_0x45bb95(0x8b3)),_0x571e50[_0x45bb95(0x5a1)][_0x45bb95(0x1f5)](_0x45bb95(0x29e));}catch(_0x3b35fd){console[_0x45bb95(0x537)](_0x45bb95(0xc26),_0x3b35fd),showMessage(_0x45bb95(0x292));}finally{_0x31f4ae[_0x45bb95(0x946)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x2e84b7[_0x45bb95(0x946)]=_0x45bb95(0x77e),_0x2e84b7[_0x45bb95(0xa78)]=![],_0x2e84b7[_0x45bb95(0xb86)](_0x45bb95(0xc47),_0x517e73),_0x329e19[_0x45bb95(0xb86)](_0x45bb95(0xc47),_0x45aa1d);}},_0x45aa1d=()=>{const _0x3113f8=_0x1d4ada;_0x571e50[_0x3113f8(0x5a1)][_0x3113f8(0x1f5)]('hidden'),_0x31f4ae['textContent']=_0x3113f8(0x823),_0x2e84b7[_0x3113f8(0x946)]=_0x3113f8(0x77e),_0x2e84b7['removeEventListener'](_0x3113f8(0xc47),_0x517e73),_0x329e19['removeEventListener'](_0x3113f8(0xc47),_0x45aa1d);};_0x2e84b7['addEventListener'](_0x1d4ada(0xc47),_0x517e73),_0x329e19[_0x1d4ada(0x616)]('click',_0x45aa1d);}function handleDeleteStudent(_0x32cd16){const _0x2ea602=_0x18fcf7;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x32cd16+_0x2ea602(0x39e),async()=>{const _0x276d5f=_0x2ea602;if(!currentProjectId||!currentProjectData)return;const _0x201733=currentProjectData[_0x276d5f(0x257)][_0x276d5f(0x2bb)](_0x45e519=>_0x45e519!==_0x32cd16);try{const _0x258235=doc(db,_0x276d5f(0x944)+appId+_0x276d5f(0x382),currentProjectId),_0x7f13ed=doc(db,'artifacts/'+appId+_0x276d5f(0x58b)+currentProjectId+_0x276d5f(0x480),_0x32cd16),_0x4d23f1=writeBatch(db);_0x4d23f1[_0x276d5f(0xc50)](_0x258235,{'students':_0x201733}),_0x4d23f1[_0x276d5f(0x9e5)](_0x7f13ed),await _0x4d23f1[_0x276d5f(0xb69)]();}catch(_0x2fd833){console[_0x276d5f(0x537)](_0x276d5f(0x719),_0x2fd833),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x5acf36=_0x20ce;if(!currentProjectId)return;try{const _0x12b2c3=doc(db,'artifacts/'+appId+_0x5acf36(0x382),currentProjectId),_0x2a07f9=collection(db,_0x5acf36(0x944)+appId+_0x5acf36(0x58b)+currentProjectId+'/studentProfiles'),_0x3871a0=await getDocs(_0x2a07f9),_0x5f0f70=writeBatch(db);_0x5f0f70['update'](_0x12b2c3,{'students':[]}),_0x3871a0[_0x5acf36(0xc92)](_0x2aa277=>_0x5f0f70[_0x5acf36(0x9e5)](_0x2aa277[_0x5acf36(0xaa2)])),await _0x5f0f70[_0x5acf36(0xb69)]();}catch(_0x2e3301){console['error'](_0x5acf36(0x500),_0x2e3301),showMessage(_0x5acf36(0x9c7));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x4f2f11){const _0x118dd4=_0x18fcf7,_0x2e6480=document[_0x118dd4(0x360)]('file-topics-list-container'),_0x702bff=document[_0x118dd4(0x360)](_0x118dd4(0x157));_0x2e6480[_0x118dd4(0x5a1)]['remove'](_0x118dd4(0x29e)),_0x702bff[_0x118dd4(0x1a0)]=_0x118dd4(0x5a3);try{const _0x2ab5d0=new FileReader();_0x2ab5d0[_0x118dd4(0x568)](_0x4f2f11),await new Promise((_0x14e225,_0x1403f3)=>{const _0x7c5597=_0x118dd4;_0x2ab5d0[_0x7c5597(0x1e8)]=()=>{const _0x4f01cc=_0x7c5597;fileDataBase64=_0x2ab5d0[_0x4f01cc(0xc7f)][_0x4f01cc(0x779)](',')[0x1],fileMimeType=_0x4f2f11[_0x4f01cc(0x635)],_0x14e225();},_0x2ab5d0[_0x7c5597(0x784)]=_0x5bd003=>_0x1403f3(_0x5bd003);});if(!fileDataBase64)throw new Error('ไม่สามารถอ่านข้อมูลจากไฟล์ได้');const _0x27a73c=_0x118dd4(0x66a),_0x1f5b98={'type':_0x118dd4(0x6f6),'properties':{'topics':{'type':_0x118dd4(0x512),'items':{'type':'STRING'}}},'required':[_0x118dd4(0xb7a)]},_0x288fc1=[{'text':_0x27a73c},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x133ffe=await handleApiCall(_0x288fc1,_0x118dd4(0x901),_0x1f5b98,null,![]);if(_0x133ffe&&_0x133ffe['topics'])extractedFileTopics=_0x133ffe[_0x118dd4(0xb7a)],renderFileTopics();else throw new Error(_0x118dd4(0x993));}catch(_0xf03fe5){console[_0x118dd4(0x537)]('Error\x20analyzing\x20file\x20for\x20topics:',_0xf03fe5),_0x702bff['innerHTML']=_0x118dd4(0xbe2)+_0xf03fe5[_0x118dd4(0x42e)]+_0x118dd4(0x2ea);}}function renderFileTopics(){const _0xa475a7=_0x18fcf7,_0x293639=document[_0xa475a7(0x360)](_0xa475a7(0x157));if(extractedFileTopics[_0xa475a7(0x633)]===0x0){_0x293639[_0xa475a7(0x1a0)]=_0xa475a7(0x5c6);return;}_0x293639['innerHTML']=extractedFileTopics['map'](_0x3eb115=>_0xa475a7(0x31f)+_0x3eb115+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x3eb115)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x3eb115)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')['join']('');}async function generateHybridQuizForTopic(_0x2b8893){const _0x14914d=_0x18fcf7,_0x356252=parseInt(document[_0x14914d(0x360)](_0x14914d(0x725))[_0x14914d(0x1db)],0xa),_0xe954df=document[_0x14914d(0x360)](_0x14914d(0x18c))[_0x14914d(0x1db)],_0x10e5a5=document['getElementById'](_0x14914d(0xa50))[_0x14914d(0x1db)],_0xfed046=document['getElementById'](_0x14914d(0x627))[_0x14914d(0x5fc)],_0x3a1c01=_0xfed046?_0x14914d(0xb0e):_0x14914d(0x1d4);let _0xdeb24='',_0x336042;const _0x314ca1={'type':_0x14914d(0x6f6),'properties':{'questionText':{'type':_0x14914d(0x279)},'options':{'type':_0x14914d(0x512),'items':{'type':_0x14914d(0x279)}},'correctAnswerIndex':{'type':_0x14914d(0x6b4)},'explanation':{'type':_0x14914d(0x279)},'imageCode':{'type':_0x14914d(0x279)}},'required':[_0x14914d(0xcec),_0x14914d(0x211),_0x14914d(0x274),'explanation']},_0x38bb82={'type':_0x14914d(0x6f6),'properties':{'questionText':{'type':_0x14914d(0x279)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x14914d(0xcec),_0x14914d(0x30e),_0x14914d(0x4dd)]},_0x276526={'type':_0x14914d(0x6f6),'properties':{'questionText':{'type':_0x14914d(0x279)},'idealAnswer':{'type':_0x14914d(0x279)},'explanation':{'type':_0x14914d(0x279)},'imageCode':{'type':_0x14914d(0x279)}},'required':[_0x14914d(0xcec),_0x14914d(0x698),_0x14914d(0x4dd)]},_0x5edc4b={'type':_0x14914d(0x6f6),'properties':{'questionType':{'type':_0x14914d(0x279),'enum':[_0x14914d(0x463)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x14914d(0x279)},'allResponses':{'type':_0x14914d(0x512),'items':{'type':_0x14914d(0x279)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x14914d(0x279)}},'required':['questionType','stem',_0x14914d(0xa81),_0x14914d(0x749),_0x14914d(0x4dd)]};switch(_0xe954df){case'multiple_choice':_0xdeb24=_0x14914d(0x20e)+_0x10e5a5+_0x14914d(0x978),_0x336042=_0x314ca1;break;case _0x14914d(0x8e2):_0xdeb24=_0x14914d(0x9cc),_0x336042=_0x38bb82;break;case _0x14914d(0x4d3):_0xdeb24='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)',_0x336042=_0x276526;break;case _0x14914d(0x4e7):_0xdeb24=_0x14914d(0xbd7),_0x336042=_0x5edc4b;break;case _0x14914d(0xa84):_0xdeb24=_0x14914d(0x8d9)+_0x10e5a5+_0x14914d(0x978),_0x336042=_0x314ca1;break;default:_0xdeb24=_0x14914d(0x20e)+_0x10e5a5+'\x20ตัวเลือก)',_0x336042=_0x314ca1;break;}const _0xced9ae=_0x14914d(0x634),_0xf3c601=document[_0x14914d(0x360)](_0x14914d(0x491)),_0x8b8322=document[_0x14914d(0x360)](_0x14914d(0xa5c)),_0x38d75e=document[_0x14914d(0x360)](_0x14914d(0xa2d));document[_0x14914d(0x360)](_0x14914d(0x982))[_0x14914d(0x5a1)]['remove']('hidden'),_0x38d75e['innerHTML']='',_0xf3c601[_0x14914d(0x5a1)][_0x14914d(0xbee)]('hidden'),_0x8b8322[_0x14914d(0x946)]=_0x14914d(0x26d)+_0x2b8893+_0x14914d(0x3fa)+_0x356252+_0x14914d(0x147);try{const _0xfe462b=_0x14914d(0x2cd),_0x17dc18=_0x14914d(0x803)+_0x2b8893+'\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20'+_0x356252+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0x2b8893+_0x14914d(0x5b9)+_0x356252+_0x14914d(0x826)+_0x3a1c01+_0x14914d(0xa22)+_0xdeb24+_0x14914d(0x674)+_0xced9ae+_0x14914d(0xb28)+_0xfe462b+_0x14914d(0x9b9)+simpleMathPrompt+_0x14914d(0x346),_0x2623bf={'type':_0x14914d(0x6f6),'properties':{'topic':{'type':_0x14914d(0x279)},'questions':{'type':'ARRAY','items':_0x336042}},'required':[_0x14914d(0x94f),_0x14914d(0x3b7)]},_0x3aac16=[{'text':_0x17dc18},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x3aac16,_0x14914d(0x7e1)+_0x2b8893+_0x14914d(0x956),_0x2623bf);}catch(_0x1af793){console[_0x14914d(0x537)](_0x14914d(0x2fd),_0x1af793),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1af793['message']),_0x38d75e[_0x14914d(0x1a0)]=_0x14914d(0x8dc);}finally{_0xf3c601['classList'][_0x14914d(0x1f5)](_0x14914d(0x29e));}}async function handleGenerateFromFileClick(){const _0x8f5c24=_0x18fcf7;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x1f1f6c=document[_0x8f5c24(0x360)]('loader'),_0x1d5a2d=document[_0x8f5c24(0x360)](_0x8f5c24(0xa5c)),_0x566563=document[_0x8f5c24(0x360)](_0x8f5c24(0xa2d)),_0x504503=document[_0x8f5c24(0x360)](_0x8f5c24(0x4de));_0x504503[_0x8f5c24(0xa78)]=!![],document['getElementById'](_0x8f5c24(0x982))['classList'][_0x8f5c24(0xbee)]('hidden'),_0x566563[_0x8f5c24(0x1a0)]='',_0x1f1f6c[_0x8f5c24(0x5a1)][_0x8f5c24(0xbee)](_0x8f5c24(0x29e)),_0x1d5a2d[_0x8f5c24(0x946)]=_0x8f5c24(0x7ea);try{const _0x2c3812=await new Promise((_0x47755f,_0x30e4d8)=>{const _0x59adb4=_0x8f5c24,_0x2e4307=new FileReader();_0x2e4307[_0x59adb4(0x568)](selectedFile),_0x2e4307[_0x59adb4(0x1e8)]=()=>_0x47755f(_0x2e4307['result'][_0x59adb4(0x779)](',')[0x1]),_0x2e4307[_0x59adb4(0x784)]=_0x26f3ef=>_0x30e4d8(_0x26f3ef);});await generateQuizFromFile(selectedFile[_0x8f5c24(0x635)],_0x2c3812);}catch(_0x2b0fe4){console[_0x8f5c24(0x537)](_0x8f5c24(0x80d),_0x2b0fe4),showMessage(_0x8f5c24(0x929)+_0x2b0fe4['message']),_0x1f1f6c['classList'][_0x8f5c24(0x1f5)]('hidden'),_0x504503[_0x8f5c24(0xa78)]=![];}}function autoFormatMath(_0x258188){const _0xad195e=_0x18fcf7;if(typeof _0x258188!==_0xad195e(0xb5c)||!_0x258188)return _0x258188;const _0x285450=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0xf80da2=_0x258188[_0xad195e(0x955)](_0x285450,_0x5ac723=>{const _0x385f63=_0xad195e;return'$'+_0x5ac723[_0x385f63(0x665)]()+'$';});return _0xf80da2;}function sanitizeQuizData(_0x510d1e){const _0x113303=_0x18fcf7;if(!_0x510d1e||!_0x510d1e[_0x113303(0x3b7)])return _0x510d1e;const _0x667c26={'imes':_0x113303(0x1ab),'div':_0x113303(0x5c2)},_0x9008af=_0x1b9026=>{const _0xd7c061=_0x113303;if(typeof _0x1b9026!=='string')return _0x1b9026;let _0x5dfac0=_0x1b9026;for(const [_0x279f0f,_0x9d2edb]of Object[_0xd7c061(0xccb)](_0x667c26)){const _0xbd0340=new RegExp('\x5cb'+_0x279f0f+'\x5cb','g');_0x5dfac0=_0x5dfac0[_0xd7c061(0x955)](_0xbd0340,_0x9d2edb);}return _0x5dfac0=_0x5dfac0[_0xd7c061(0x955)](/\\\//g,_0xd7c061(0x5c2)),_0x5dfac0=_0x5dfac0[_0xd7c061(0x955)](/<(i|em)>\s*div\s*<\/\1>/gi,_0xd7c061(0x5c2))[_0xd7c061(0x955)](/<(i|em)>\s*times\s*<\/\1>/gi,_0xd7c061(0x1ab))[_0xd7c061(0x955)](/÷/g,'\x5cdiv')[_0xd7c061(0x955)](/×/g,_0xd7c061(0x1ab)),_0x5dfac0=_0x5dfac0[_0xd7c061(0x955)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x5dfac0=autoFormatMath(_0x5dfac0),_0x5dfac0;};return _0x510d1e[_0x113303(0x94f)]&&(_0x510d1e['topic']=_0x9008af(_0x510d1e['topic'])),_0x510d1e[_0x113303(0x3b7)]['forEach'](_0x5ba8c2=>{const _0x300bd4=_0x113303;_0x5ba8c2['questionText']=_0x9008af(_0x5ba8c2[_0x300bd4(0xcec)]),_0x5ba8c2['options']&&(_0x5ba8c2[_0x300bd4(0x211)]=_0x5ba8c2[_0x300bd4(0x211)]['map'](_0x9008af)),_0x5ba8c2[_0x300bd4(0x4dd)]&&(_0x5ba8c2[_0x300bd4(0x4dd)]=_0x9008af(_0x5ba8c2[_0x300bd4(0x4dd)])),_0x5ba8c2[_0x300bd4(0x7e5)]&&(_0x5ba8c2[_0x300bd4(0x7e5)]=_0x9008af(_0x5ba8c2[_0x300bd4(0x7e5)])),_0x5ba8c2[_0x300bd4(0xa81)]&&(_0x5ba8c2[_0x300bd4(0xa81)]=_0x9008af(_0x5ba8c2[_0x300bd4(0xa81)])),_0x5ba8c2[_0x300bd4(0x749)]&&(_0x5ba8c2[_0x300bd4(0x749)]=_0x5ba8c2[_0x300bd4(0x749)]['map'](_0x9008af));}),_0x510d1e;}const simpleMathPrompt=_0x18fcf7(0x874);async function handleGenerateFromLink(){const _0xf6e8d5=_0x18fcf7,_0x2a2d9f=document[_0xf6e8d5(0x360)](_0xf6e8d5(0xa74)),_0x5f167b=document[_0xf6e8d5(0x360)](_0xf6e8d5(0x43a)),_0x432926=_0x2a2d9f['value'][_0xf6e8d5(0x665)](),_0x3c528b=_0x5f167b[_0xf6e8d5(0x1db)][_0xf6e8d5(0x665)]();if(!_0x432926){showMessage(_0xf6e8d5(0x1d8));return;}const _0x3c0cff=document[_0xf6e8d5(0x360)](_0xf6e8d5(0x491)),_0x545dbe=document['getElementById'](_0xf6e8d5(0xa5c)),_0x1c4069=document[_0xf6e8d5(0x360)](_0xf6e8d5(0xa2d)),_0x43112f=document[_0xf6e8d5(0x360)](_0xf6e8d5(0xbe1));document[_0xf6e8d5(0x360)]('quiz-generation-area')[_0xf6e8d5(0x5a1)][_0xf6e8d5(0xbee)](_0xf6e8d5(0x29e)),_0x1c4069['innerHTML']='',_0x3c0cff['classList'][_0xf6e8d5(0xbee)]('hidden'),_0x545dbe[_0xf6e8d5(0x946)]=_0xf6e8d5(0x141),_0x43112f[_0xf6e8d5(0xa78)]=!![];try{const _0xc8c9b3=_0xf6e8d5(0xc6c)+encodeURIComponent(_0x432926),_0x2f4223=await fetch(_0xc8c9b3);if(!_0x2f4223['ok'])throw new Error(_0xf6e8d5(0xac1)+_0x2f4223[_0xf6e8d5(0x23b)]+')');const _0x3743af=await _0x2f4223['text'](),_0x69f465=extractTextFromHtml(_0x3743af);if(!_0x69f465||_0x69f465[_0xf6e8d5(0x633)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x3c528b,_0x69f465);}catch(_0x597bac){console[_0xf6e8d5(0x537)](_0xf6e8d5(0x2c8),_0x597bac),showMessage(_0xf6e8d5(0x920)+_0x597bac['message']),_0x1c4069[_0xf6e8d5(0x1a0)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x3c0cff[_0xf6e8d5(0x5a1)][_0xf6e8d5(0x1f5)](_0xf6e8d5(0x29e)),_0x43112f[_0xf6e8d5(0xa78)]=![];}}function extractTextFromHtml(_0x3d31f5){const _0x4729d4=_0x18fcf7,_0x1bbae0=new DOMParser()[_0x4729d4(0x5eb)](_0x3d31f5,_0x4729d4(0x396));return _0x1bbae0[_0x4729d4(0x801)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x4729d4(0xc92)](_0x3df27f=>_0x3df27f[_0x4729d4(0xbee)]()),_0x1bbae0[_0x4729d4(0x9c6)][_0x4729d4(0x946)]||'';}document[_0x18fcf7(0x360)](_0x18fcf7(0x4cd))[_0x18fcf7(0x616)](_0x18fcf7(0xc47),()=>{const _0x4e0b88=_0x18fcf7,_0x3f8833=document[_0x4e0b88(0x360)](_0x4e0b88(0x5dd))[_0x4e0b88(0x1db)][_0x4e0b88(0x665)]();generateQuiz(_0x3f8833,null);}),document[_0x18fcf7(0x360)](_0x18fcf7(0x6eb))[_0x18fcf7(0x616)]('click',()=>{const _0x36d035=_0x18fcf7,_0x38a2aa=document['getElementById'](_0x36d035(0x696))[_0x36d035(0x1db)][_0x36d035(0x665)]();if(!_0x38a2aa){showMessage(_0x36d035(0x8e3));return;}const _0x5be32e=document[_0x36d035(0x360)](_0x36d035(0x5dd))['value'][_0x36d035(0x665)]();generateQuiz(_0x5be32e,_0x38a2aa);});async function generateQuiz(_0x6d5913,_0x26129f,_0x16dd27=null,_0x1328b0=null,_0xe9468b=![],_0xd3eb65=null,_0x50e146=null,_0x13bcf0=![]){const _0x4ae516=_0x18fcf7;let _0x219804={};if(_0xe9468b&&blueprintPageSettings)_0x219804=blueprintPageSettings;else{const _0x4522d0=document['querySelectorAll'](_0x4ae516(0x14b));_0x219804={'quizType':document['getElementById'](_0x4ae516(0x18c))[_0x4ae516(0x1db)],'numQuestions':document[_0x4ae516(0x360)](_0x4ae516(0x725))[_0x4ae516(0x1db)],'numChoices':document[_0x4ae516(0x360)](_0x4ae516(0xa50))[_0x4ae516(0x1db)],'includeImages':document[_0x4ae516(0x360)]('include-images-checkbox')['checked'],'isNormalTopic':document[_0x4ae516(0x360)](_0x4ae516(0x2cc))['checked'],'difficultyValue':document['getElementById']('difficulty-level-select')[_0x4ae516(0x1db)],'complexityValue':document[_0x4ae516(0x360)]('question-complexity-select')[_0x4ae516(0x1db)],'selectedTopicNames':Array[_0x4ae516(0x7bc)](_0x4522d0)['map'](_0x1efca4=>_0x1efca4[_0x4ae516(0x1db)])};}const _0x155e7c=_0x219804[_0x4ae516(0x700)]?'':_0x4ae516(0x7fe),_0x2af834=_0x219804[_0x4ae516(0xbf5)]!==_0x4ae516(0x1e1)?_0x4ae516(0x8b6)+_0x219804[_0x4ae516(0xbf5)]+'\x22':'',_0x224ec=_0x219804[_0x4ae516(0x9ce)]!==_0x4ae516(0x1a3)?'โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x219804[_0x4ae516(0x9ce)]+_0x4ae516(0x4d4):'';let _0x2e22c8='';_0x219804['selectedTopicNames']&&_0x219804['selectedTopicNames'][_0x4ae516(0x633)]>0x0&&(_0x2e22c8=_0x4ae516(0xa09)+_0x219804[_0x4ae516(0x655)][_0x4ae516(0x155)](',\x20')+'.');let _0x3c3cf3='';_0x1328b0&&(_0x3c3cf3=_0x4ae516(0x653));let _0x22c7ed='',_0x289abf='',_0x2b80da,_0x104865=_0x4ae516(0x8c1)+_0x6d5913+'\x22';if(!_0x6d5913&&_0x26129f)_0x104865=_0x4ae516(0x7c0);else!_0x6d5913&&!_0x26129f&&(_0x104865=_0x4ae516(0x253));const _0x5c7afe={'type':_0x4ae516(0x6f6),'properties':{'questionText':{'type':_0x4ae516(0x279)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4ae516(0x6b4)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x4ae516(0xcec),_0x4ae516(0x211),_0x4ae516(0x274),_0x4ae516(0x4dd)]},_0x3a8bd3={'type':'OBJECT','properties':{'questionText':{'type':_0x4ae516(0x279)},'idealAnswer':{'type':_0x4ae516(0x279)},'explanation':{'type':_0x4ae516(0x279)},'imageCode':{'type':_0x4ae516(0x279)}},'required':[_0x4ae516(0xcec),_0x4ae516(0x698),_0x4ae516(0x4dd)]},_0x4b613c={'type':_0x4ae516(0x6f6),'properties':{'questionText':{'type':_0x4ae516(0x279)},'questionType':{'type':_0x4ae516(0x279),'enum':[_0x4ae516(0xc24),_0x4ae516(0x693)]},'options':{'type':'ARRAY','items':{'type':_0x4ae516(0x279)}},'correctAnswerIndex':{'type':_0x4ae516(0x6b4)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x4ae516(0x279)},'imageCode':{'type':_0x4ae516(0x279)}},'required':[_0x4ae516(0xcec),_0x4ae516(0x434),_0x4ae516(0x4dd)]},_0x45a67e={'type':_0x4ae516(0x6f6),'properties':{'questionText':{'type':_0x4ae516(0x279)},'correctAnswer':{'type':_0x4ae516(0xcf0)},'explanation':{'type':_0x4ae516(0x279)},'imageCode':{'type':_0x4ae516(0x279)}},'required':['questionText',_0x4ae516(0x30e),_0x4ae516(0x4dd)]},_0x295550={'type':'OBJECT','properties':{'questionType':{'type':_0x4ae516(0x279),'enum':[_0x4ae516(0x463)]},'stem':{'type':_0x4ae516(0x279)},'correctResponse':{'type':_0x4ae516(0x279)},'allResponses':{'type':_0x4ae516(0x512),'items':{'type':_0x4ae516(0x279)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4ae516(0x279)}},'required':['questionType',_0x4ae516(0x7e5),'correctResponse',_0x4ae516(0x749),_0x4ae516(0x4dd)]};let _0x4efe94;if(_0x16dd27!==null){const _0x505133=currentQuizData[_0x4ae516(0x3b7)][_0x16dd27][_0x4ae516(0x434)],_0x306715=_0x219804[_0x4ae516(0x401)]?_0x4ae516(0x8a9):'';_0x22c7ed='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x104865+'\x20'+_0x2e22c8+'\x20'+_0x2af834+_0x4ae516(0x151)+_0x306715+'\x20'+simpleMathPrompt;if(_0x505133===_0x4ae516(0xc24))_0x2b80da=_0x5c7afe;else{if(_0x505133===_0x4ae516(0x463))_0x2b80da={'type':_0x4ae516(0x6f6),'properties':{'questionType':{'type':_0x4ae516(0x279),'enum':[_0x4ae516(0x463)]},'stem':{'type':_0x4ae516(0x279)},'correctResponse':{'type':_0x4ae516(0x279)},'explanation':{'type':_0x4ae516(0x279)},'imageCode':{'type':_0x4ae516(0x279)}},'required':[_0x4ae516(0x434),_0x4ae516(0x7e5),_0x4ae516(0xa81),'explanation']};else _0x2b80da=_0x3a8bd3;}_0x4efe94=_0x2b80da;}else{const _0x1bc9f2=_0x219804['includeImages']?_0x4ae516(0x25f):'';switch(_0x219804[_0x4ae516(0x677)]){case _0x4ae516(0xc24):_0x22c7ed=_0x4ae516(0x193)+_0x155e7c+'\x20'+_0x219804[_0x4ae516(0x3d2)]+_0x4ae516(0x2b7)+_0x104865+'\x20'+_0x2e22c8+'\x20'+_0x2af834+'\x20'+_0x224ec+'\x20'+_0x3c3cf3+_0x4ae516(0x5a7)+_0x219804['numChoices']+_0x4ae516(0x2d4)+_0x1bc9f2+'\x20'+simpleMathPrompt,_0x2b80da=_0x5c7afe;break;case _0x4ae516(0xa84):_0x22c7ed=_0x4ae516(0x75d)+_0x155e7c+'\x20'+_0x219804[_0x4ae516(0x3d2)]+_0x4ae516(0x2b7)+_0x104865+'\x20'+_0x2e22c8+'\x20'+_0x2af834+'\x20'+_0x224ec+'\x20'+_0x3c3cf3+_0x4ae516(0x312)+_0x219804[_0x4ae516(0x745)]+_0x4ae516(0x681)+_0x1bc9f2+'\x20'+simpleMathPrompt,_0x2b80da=_0x5c7afe;break;case _0x4ae516(0x4d3):_0x22c7ed='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x155e7c+'\x20'+_0x219804['numQuestions']+_0x4ae516(0x2b7)+_0x104865+'\x20'+_0x2e22c8+'\x20'+_0x2af834+'\x20'+_0x224ec+'\x20'+_0x3c3cf3+_0x4ae516(0x3f4)+_0x1bc9f2+'\x20'+simpleMathPrompt,_0x2b80da=_0x3a8bd3;break;case _0x4ae516(0x1a3):_0x22c7ed='สร้างแบบทดสอบ'+_0x155e7c+'\x20'+_0x219804[_0x4ae516(0x3d2)]+_0x4ae516(0x2b7)+_0x104865+'\x20'+_0x2e22c8+'\x20'+_0x2af834+'\x20'+_0x224ec+'\x20'+_0x3c3cf3+_0x4ae516(0xc19)+_0x219804[_0x4ae516(0x745)]+_0x4ae516(0x245)+_0x1bc9f2+'\x20'+simpleMathPrompt+'.',_0x2b80da=_0x4b613c;break;case _0x4ae516(0x8e2):_0x22c7ed='สร้างคำถามแบบใช่/ไม่ใช่'+_0x155e7c+'\x20'+_0x219804[_0x4ae516(0x3d2)]+_0x4ae516(0x2b7)+_0x104865+'\x20'+_0x2e22c8+'\x20'+_0x2af834+'\x20'+_0x224ec+'\x20'+_0x3c3cf3+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x1bc9f2+'\x20'+simpleMathPrompt,_0x2b80da=_0x45a67e;break;case _0x4ae516(0x4e7):_0x22c7ed=_0x4ae516(0x7d1)+_0x155e7c+'\x20'+_0x219804[_0x4ae516(0x3d2)]+'\x20คู่\x20'+_0x104865+'\x20'+_0x2e22c8+'\x20'+_0x2af834+'\x20'+_0x224ec+'\x20'+_0x3c3cf3+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x1bc9f2+'\x20'+simpleMathPrompt,_0x2b80da=_0x295550;break;}_0x4efe94={'type':_0x4ae516(0x6f6),'properties':{'topic':{'type':_0x4ae516(0x279)},'questions':{'type':_0x4ae516(0x512),'items':_0x2b80da}},'required':[_0x4ae516(0x94f),_0x4ae516(0x3b7)]};}const _0x43e6b5='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a';_0x26129f?(_0x13bcf0?_0x22c7ed='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x26129f+_0x4ae516(0xb21)+_0x22c7ed+_0x43e6b5:_0x22c7ed=_0x4ae516(0xcc7)+_0x26129f+_0x4ae516(0xb21)+_0x22c7ed,_0x289abf=_0x4ae516(0x5ef)):(_0x13bcf0&&(_0x22c7ed+=_0x43e6b5),_0x289abf=_0x4ae516(0x4da));let _0x19cbcd;return _0x1328b0?(_0x19cbcd=[{'text':_0x22c7ed},..._0x1328b0],_0x289abf=_0x4ae516(0x68c)):_0x19cbcd=_0x22c7ed,handleApiCall(_0x19cbcd,_0x289abf,_0x4efe94,_0x16dd27,!![],_0xd3eb65,_0x50e146);}async function generateQuizFromFile(_0x73f142,_0x4120b1){const _0x27e0e3=_0x18fcf7,_0x109c54=document[_0x27e0e3(0x360)](_0x27e0e3(0xc89))[_0x27e0e3(0x1db)][_0x27e0e3(0x665)](),_0x4fda07=document['getElementById'](_0x27e0e3(0x18c))[_0x27e0e3(0x1db)],_0xcdc534=document[_0x27e0e3(0x360)](_0x27e0e3(0x725))['value'],_0x100525=document[_0x27e0e3(0x360)](_0x27e0e3(0xa50))[_0x27e0e3(0x1db)],_0x19316b=document[_0x27e0e3(0x360)]('include-images-checkbox')['checked'],_0x554a71=document[_0x27e0e3(0x360)](_0x27e0e3(0x2cc))[_0x27e0e3(0x5fc)],_0x52db8c=_0x554a71?'':_0x27e0e3(0x7fe),_0x57e059=document[_0x27e0e3(0x360)](_0x27e0e3(0x2ab))['checked'];let _0x3dc73a='',_0x5b4697;const _0x7b24c3=_0x19316b?_0x27e0e3(0x25f):'';if(_0x57e059)_0x3dc73a=_0x27e0e3(0x432)+_0x7b24c3+'\x0a'+simpleMathPrompt+'\x0a',_0x5b4697={'type':_0x27e0e3(0x6f6),'properties':{'questionText':{'type':_0x27e0e3(0x279)},'questionType':{'type':_0x27e0e3(0x279),'enum':[_0x27e0e3(0xc24),_0x27e0e3(0x693),'true_false','matching_item']},'options':{'type':_0x27e0e3(0x512),'items':{'type':_0x27e0e3(0x279)}},'correctAnswerIndex':{'type':_0x27e0e3(0x6b4)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x27e0e3(0xcf0)},'stem':{'type':_0x27e0e3(0x279)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x27e0e3(0x279)}},'explanation':{'type':_0x27e0e3(0x279)},'imageCode':{'type':_0x27e0e3(0x279)}},'required':[_0x27e0e3(0x434),_0x27e0e3(0x4dd)]};else{let _0x222591=_0x27e0e3(0x8c1)+_0x109c54+'\x22';!_0x109c54&&(_0x222591='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');switch(_0x4fda07){case _0x27e0e3(0xc24):_0x3dc73a=_0x27e0e3(0x193)+_0x52db8c+'\x20'+_0xcdc534+_0x27e0e3(0x2b7)+_0x222591+_0x27e0e3(0x5a7)+_0x100525+_0x27e0e3(0x2d4)+_0x7b24c3+'\x20'+simpleMathPrompt,_0x5b4697={'type':_0x27e0e3(0x6f6),'properties':{'questionText':{'type':_0x27e0e3(0x279)},'options':{'type':_0x27e0e3(0x512),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x27e0e3(0x6b4)},'explanation':{'type':_0x27e0e3(0x279)},'imageCode':{'type':_0x27e0e3(0x279)}},'required':[_0x27e0e3(0xcec),_0x27e0e3(0x211),_0x27e0e3(0x274),_0x27e0e3(0x4dd)]};break;case _0x27e0e3(0xa84):_0x3dc73a='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x52db8c+'\x20'+_0xcdc534+'\x20ข้อ\x20'+_0x222591+_0x27e0e3(0x312)+_0x100525+_0x27e0e3(0x681)+_0x7b24c3+'\x20'+simpleMathPrompt,_0x5b4697={'type':_0x27e0e3(0x6f6),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x27e0e3(0x512),'items':{'type':_0x27e0e3(0x279)}},'correctAnswerIndex':{'type':_0x27e0e3(0x6b4)},'explanation':{'type':_0x27e0e3(0x279)},'imageCode':{'type':'STRING'}},'required':[_0x27e0e3(0xcec),_0x27e0e3(0x211),_0x27e0e3(0x274),_0x27e0e3(0x4dd)]};break;case _0x27e0e3(0x4d3):_0x3dc73a=_0x27e0e3(0x75d)+_0x52db8c+'\x20'+_0xcdc534+'\x20ข้อ\x20'+_0x222591+_0x27e0e3(0x21e)+_0x7b24c3+'\x20'+simpleMathPrompt,_0x5b4697={'type':_0x27e0e3(0x6f6),'properties':{'questionText':{'type':_0x27e0e3(0x279)},'idealAnswer':{'type':_0x27e0e3(0x279)},'explanation':{'type':_0x27e0e3(0x279)},'imageCode':{'type':_0x27e0e3(0x279)}},'required':[_0x27e0e3(0xcec),_0x27e0e3(0x698),_0x27e0e3(0x4dd)]};break;case'mixed':_0x3dc73a=_0x27e0e3(0x96d)+_0x52db8c+'\x20'+_0xcdc534+_0x27e0e3(0x2b7)+_0x222591+_0x27e0e3(0x35a)+_0x100525+_0x27e0e3(0x6ae)+_0x7b24c3+'\x20'+simpleMathPrompt+_0x27e0e3(0x532),_0x5b4697={'type':_0x27e0e3(0x6f6),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x27e0e3(0xc24),_0x27e0e3(0x693)]},'options':{'type':_0x27e0e3(0x512),'items':{'type':_0x27e0e3(0x279)}},'correctAnswerIndex':{'type':_0x27e0e3(0x6b4)},'idealAnswer':{'type':_0x27e0e3(0x279)},'explanation':{'type':_0x27e0e3(0x279)},'imageCode':{'type':_0x27e0e3(0x279)}},'required':[_0x27e0e3(0xcec),_0x27e0e3(0x434),'explanation']};break;case'true_false':_0x3dc73a=_0x27e0e3(0x2c0)+_0x52db8c+'\x20'+_0xcdc534+'\x20ข้อ\x20'+_0x222591+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x7b24c3+'\x20'+simpleMathPrompt,_0x5b4697={'type':'OBJECT','properties':{'questionText':{'type':_0x27e0e3(0x279)},'correctAnswer':{'type':_0x27e0e3(0xcf0)},'explanation':{'type':_0x27e0e3(0x279)},'imageCode':{'type':'STRING'}},'required':[_0x27e0e3(0xcec),_0x27e0e3(0x30e),_0x27e0e3(0x4dd)]};break;case _0x27e0e3(0x4e7):_0x3dc73a=_0x27e0e3(0x7d1)+_0x52db8c+'\x20'+_0xcdc534+_0x27e0e3(0xaef)+_0x222591+_0x27e0e3(0xa6c)+_0xcdc534+_0x27e0e3(0x351)+_0x7b24c3+'\x20'+simpleMathPrompt,_0x5b4697={'type':_0x27e0e3(0x6f6),'properties':{'questionType':{'type':_0x27e0e3(0x279),'enum':['matching_item']},'stem':{'type':_0x27e0e3(0x279)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x27e0e3(0x512),'items':{'type':_0x27e0e3(0x279)}},'explanation':{'type':_0x27e0e3(0x279)},'imageCode':{'type':_0x27e0e3(0x279)}},'required':[_0x27e0e3(0x434),_0x27e0e3(0x7e5),'correctResponse','allResponses',_0x27e0e3(0x4dd)]};break;}}const _0xc51d7a={'type':_0x27e0e3(0x6f6),'properties':{'topic':{'type':_0x27e0e3(0x279)},'questions':{'type':_0x27e0e3(0x512),'items':_0x5b4697}},'required':[_0x27e0e3(0x94f),'questions']},_0x14ad9c='จากไฟล์ที่แนบมานี้,\x20'+_0x3dc73a,_0xc95da4={'contents':[{'parts':[{'text':_0x14ad9c},{'inlineData':{'mimeType':_0x73f142,'data':_0x4120b1}}]}],'generationConfig':{'responseMimeType':_0x27e0e3(0x476),'responseSchema':_0xc51d7a}};return handleApiCall(_0xc95da4[_0x27e0e3(0xc09)][0x0][_0x27e0e3(0x5b1)],_0x27e0e3(0x68e),_0xc51d7a);}async function handleApiCall(_0x55c617,_0x56d376,_0x1b3f2e,_0x1ef8bb=null,_0x4046f5=!![],_0x3bcd3c=null,_0x6ef26d=null){const _0x28c111=_0x18fcf7,_0x34c963=document[_0x28c111(0x360)](_0x28c111(0x982)),_0x4940fc=document[_0x28c111(0x360)]('loader'),_0x4a3599=document[_0x28c111(0x360)]('loader-text'),_0x2aa561=document[_0x28c111(0x360)]('generated-quiz-container');_0x34c963[_0x28c111(0x5a1)][_0x28c111(0xbee)](_0x28c111(0x29e));_0x1ef8bb===null&&_0x4046f5&&(_0x2aa561[_0x28c111(0x1a0)]='');_0x4940fc[_0x28c111(0x5a1)][_0x28c111(0xbee)]('hidden'),_0x4a3599[_0x28c111(0x946)]=_0x56d376,document[_0x28c111(0x360)](_0x28c111(0x4cd))['disabled']=!![],document[_0x28c111(0x360)](_0x28c111(0x6eb))[_0x28c111(0xa78)]=!![],document[_0x28c111(0x360)](_0x28c111(0xbe1))[_0x28c111(0xa78)]=!![];const _0x34990d=document[_0x28c111(0x360)](_0x28c111(0x4de));if(_0x34990d)_0x34990d[_0x28c111(0xa78)]=!![];const _0x2de171=document[_0x28c111(0x360)](_0x28c111(0x757));if(_0x2de171)_0x2de171['disabled']=!![];const _0x1627e5=document[_0x28c111(0x360)](_0x28c111(0xac6));if(_0x1627e5)_0x1627e5[_0x28c111(0xa78)]=!![];try{const _0xd7f3ae=Array['isArray'](_0x55c617)?_0x55c617:[{'text':_0x55c617}],_0x101c58={'contents':[{'role':_0x28c111(0x32e),'parts':_0xd7f3ae}]};_0x1b3f2e&&(_0x101c58[_0x28c111(0x69f)]={'responseMimeType':_0x28c111(0x476),'responseSchema':_0x1b3f2e});const _0x17af95=_0x28c111(0x443),_0x221393=_0x28c111(0x459)+_0x17af95,_0x276459=await fetch(_0x221393,{'method':_0x28c111(0x6d7),'headers':{'Content-Type':_0x28c111(0x476)},'body':JSON[_0x28c111(0x639)](_0x101c58)});if(!_0x276459['ok']){const _0x149418=await _0x276459[_0x28c111(0xc85)]();console['error'](_0x28c111(0x8b8),_0x149418);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x276459[_0x28c111(0x23b)]);}const _0x3b4c02=await _0x276459[_0x28c111(0xa87)]();if(!_0x3b4c02[_0x28c111(0x259)]||_0x3b4c02[_0x28c111(0x259)][_0x28c111(0x633)]===0x0){let _0x2c247c='AI\x20did\x20not\x20return\x20any\x20content.';return _0x3b4c02[_0x28c111(0x8f1)]?.[_0x28c111(0x3a4)]&&(_0x2c247c=_0x28c111(0x73a)+_0x3b4c02[_0x28c111(0x8f1)]['blockReason']+'.'),console[_0x28c111(0x537)](_0x2c247c,JSON[_0x28c111(0x639)](_0x3b4c02)),null;}const _0x342c95=_0x3b4c02['candidates'][0x0][_0x28c111(0x5f9)][_0x28c111(0x5b1)][0x0][_0x28c111(0xc85)];if(_0x1b3f2e){let _0x247bc8=_0x342c95;if(_0x247bc8[_0x28c111(0x478)](_0x28c111(0x183)))_0x247bc8=_0x247bc8['substring'](0x7,_0x247bc8['length']-0x3)['trim']();else _0x247bc8[_0x28c111(0x478)](_0x28c111(0xc0e))&&(_0x247bc8=_0x247bc8[_0x28c111(0x3e0)](0x3,_0x247bc8[_0x28c111(0x633)]-0x3)[_0x28c111(0x665)]());let _0x235577=JSON[_0x28c111(0x74a)](_0x247bc8);if(_0x4046f5){if(_0x1ef8bb!==null){}else currentQuizData=_0x235577,displayGeneratedQuiz(currentQuizData,_0x3bcd3c,_0x6ef26d);}return _0x235577;}else return _0x342c95;}catch(_0x3c3dab){console[_0x28c111(0x537)]('Error\x20in\x20handleApiCall:',_0x3c3dab),showMessage(_0x28c111(0x27a)+_0x3c3dab[_0x28c111(0x42e)]);_0x4046f5&&(_0x2aa561[_0x28c111(0x1a0)]=_0x28c111(0x58a));throw _0x3c3dab;}finally{_0x4940fc[_0x28c111(0x5a1)]['add'](_0x28c111(0x29e)),document['getElementById']('generate-from-topic-btn')[_0x28c111(0xa78)]=![],document['getElementById']('generate-from-text-btn')[_0x28c111(0xa78)]=![],document[_0x28c111(0x360)](_0x28c111(0xbe1))['disabled']=![];if(_0x34990d)_0x34990d[_0x28c111(0xa78)]=![];if(_0x2de171)_0x2de171['disabled']=![];if(_0x1627e5)_0x1627e5[_0x28c111(0xa78)]=![];}}function exitFullscreen(){const _0x236c63=_0x18fcf7;if(document[_0x236c63(0x872)])document[_0x236c63(0x872)]()[_0x236c63(0x8cc)](_0x41f216=>console['error'](_0x41f216));else{if(document[_0x236c63(0x473)])document[_0x236c63(0x473)]();else document[_0x236c63(0xa67)]&&document[_0x236c63(0xa67)]();}}function enterFullscreen(){const _0x30d3b6=_0x18fcf7,_0x42c803=document['documentElement'];if(_0x42c803[_0x30d3b6(0x55d)])_0x42c803['requestFullscreen']()[_0x30d3b6(0x8cc)](_0x1c9d3f=>{const _0x87e7e2=_0x30d3b6;console[_0x87e7e2(0x537)](_0x87e7e2(0x6bb)+_0x1c9d3f[_0x87e7e2(0x42e)]+'\x20('+_0x1c9d3f[_0x87e7e2(0x3d8)]+')');});else{if(_0x42c803[_0x30d3b6(0x27d)])_0x42c803[_0x30d3b6(0x27d)]();else _0x42c803['msRequestFullscreen']&&_0x42c803[_0x30d3b6(0x91a)]();}}function handleCheatingEvent(){const _0x4288e5=_0x18fcf7;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x4288e5(0xa9f)+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x4288e5(0x360)](_0x4288e5(0x680))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x4288e5(0xb86)]('visibilitychange',handleVisibilityChange),document['removeEventListener'](_0x4288e5(0x678),handleFullscreenChange)):showMessage(_0x4288e5(0xaa5)+cheatAttempts+'/'+maxCheatAttempts+_0x4288e5(0x54d),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x42383c=_0x18fcf7;if(currentMode===_0x42383c(0x8af)||!isQuizActive)return;if(document['visibilityState']===_0x42383c(0x29e))handleCheatingEvent();else document[_0x42383c(0xbd2)]==='visible'&&(console['log'](_0x42383c(0x1cd)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x34d6ee=_0x18fcf7;if(currentMode===_0x34d6ee(0x8af)||!isQuizActive)return;!document[_0x34d6ee(0x56a)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x1ef538,_0xb0d586=null,_0x4c5dc7=null){const _0x11c069=_0x18fcf7,_0x29f7ad=document['getElementById'](_0x11c069(0xa2d));let _0x3aea62=_0x11c069(0x407)+_0x1ef538[_0x11c069(0x94f)]+'</h3>';_0x1ef538['questions'][_0x11c069(0xc92)]((_0x4db5f6,_0x463a32)=>{const _0x437710=_0x11c069;!_0x4db5f6['id']&&(_0x4db5f6['id']='q_'+Date['now']()+'_'+_0x463a32);const _0x1109ea=_0x4db5f6[_0x437710(0x434)]||_0x1ef538[_0x437710(0x677)];_0x3aea62+=_0x437710(0xad8)+_0x463a32+_0x437710(0x6a6)+_0x463a32+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x463a32+_0x437710(0xbc2);switch(_0x1109ea){case'matching_item':_0x3aea62+=_0x437710(0x4f3)+_0x463a32+'\x22>'+(_0x463a32+0x1)+'.\x20'+_0x4db5f6['stem']+_0x437710(0x2ea);_0x4db5f6[_0x437710(0x931)]&&(_0x3aea62+=_0x437710(0xadc)+_0x463a32+_0x437710(0xb15)+_0x4db5f6['imageCode']+_0x437710(0x2c6));_0x3aea62+=_0x437710(0xa68)+_0x463a32+'\x22>'+_0x4db5f6[_0x437710(0xa81)]+_0x437710(0x265),_0x3aea62+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x463a32+'\x22>'+_0x4db5f6[_0x437710(0x4dd)]+'</span></div>';break;case _0x437710(0x693):_0x3aea62+=_0x437710(0x4f3)+_0x463a32+'\x22>'+(_0x463a32+0x1)+'.\x20'+_0x4db5f6[_0x437710(0xcec)]+'</p>';_0x4db5f6['imageCode']&&(_0x3aea62+=_0x437710(0xadc)+_0x463a32+_0x437710(0xb15)+_0x4db5f6[_0x437710(0x931)]+_0x437710(0x2c6));_0x3aea62+=_0x437710(0x806)+_0x463a32+'\x22>'+_0x4db5f6['idealAnswer']+_0x437710(0x265),_0x3aea62+=_0x437710(0x892)+_0x463a32+'\x22>'+_0x4db5f6[_0x437710(0x4dd)]+'</span></div>';break;case _0x437710(0x8e2):_0x3aea62+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x463a32+'\x22>'+(_0x463a32+0x1)+'.\x20'+_0x4db5f6[_0x437710(0xcec)]+_0x437710(0x2ea);_0x4db5f6[_0x437710(0x931)]&&(_0x3aea62+=_0x437710(0xadc)+_0x463a32+_0x437710(0xb15)+_0x4db5f6[_0x437710(0x931)]+_0x437710(0x2c6));_0x3aea62+=_0x437710(0xc7e)+(_0x4db5f6['correctAnswer']===!![]?_0x437710(0xc05):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x4db5f6['correctAnswer']===![]?_0x437710(0xc05):'')+_0x437710(0x18f),_0x3aea62+=_0x437710(0x892)+_0x463a32+'\x22>'+_0x4db5f6[_0x437710(0x4dd)]+_0x437710(0x265);break;case'fill_in_the_blank':case'multiple_choice':default:_0x3aea62+=_0x437710(0x4f3)+_0x463a32+'\x22>'+(_0x463a32+0x1)+'.\x20'+_0x4db5f6[_0x437710(0xcec)]+_0x437710(0x2ea);_0x4db5f6[_0x437710(0x931)]&&(_0x3aea62+='<div\x20id=\x22q-image-container-'+_0x463a32+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4db5f6[_0x437710(0x931)]+_0x437710(0x2c6));_0x3aea62+=_0x437710(0x2d9)+_0x463a32+_0x437710(0x5aa)+(_0x4db5f6[_0x437710(0x211)]||[])[_0x437710(0x985)]((_0x28c0c9,_0x5769bd)=>_0x437710(0xb8d)+(_0x5769bd===_0x4db5f6[_0x437710(0x274)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x28c0c9+'</li>')['join']('')+_0x437710(0x12a),_0x3aea62+=_0x437710(0x892)+_0x463a32+'\x22>'+_0x4db5f6[_0x437710(0x4dd)]+'</span></div>';break;}_0x3aea62+='</div>';}),_0x3aea62+=_0x11c069(0x4ab),_0x29f7ad[_0x11c069(0x1a0)]=_0x3aea62,document[_0x11c069(0x801)](_0x11c069(0x903))[_0x11c069(0xc92)](_0x50a12b=>_0x50a12b[_0x11c069(0x616)](_0x11c069(0xc47),handleEditQuestion)),document[_0x11c069(0x801)]('.regenerate-question-btn')[_0x11c069(0xc92)](_0x122b25=>_0x122b25[_0x11c069(0x616)](_0x11c069(0xc47),handleRegenerateQuestion)),document[_0x11c069(0x360)](_0x11c069(0xa8f))[_0x11c069(0x616)](_0x11c069(0xc47),exportQuizAsWorksheetPDF),document[_0x11c069(0x360)](_0x11c069(0x3d3))[_0x11c069(0x616)](_0x11c069(0xc47),handleVerifyAnswers);const _0x543120=document[_0x11c069(0x360)](_0x11c069(0x425));if(_0x543120){const _0x401cec=_0xb0d586||currentProjectId;_0x543120['addEventListener']('click',()=>saveQuiz(_0x401cec,_0x4c5dc7));}if(window[_0x11c069(0xb63)])window[_0x11c069(0xb63)][_0x11c069(0x5b0)]([_0x29f7ad]);}function handleRegenerateQuestion(_0x38172b){const _0x5ba8d9=_0x18fcf7,_0x4f46e8=_0x38172b[_0x5ba8d9(0x1cc)]['dataset'][_0x5ba8d9(0xb44)],_0x5018e1=currentQuizData[_0x5ba8d9(0x94f)];showMessage(_0x5ba8d9(0x884)+(parseInt(_0x4f46e8)+0x1)+_0x5ba8d9(0x49e)),generateQuiz(_0x5018e1,null,parseInt(_0x4f46e8));}function getPointerPosition(_0x3811dd,_0x1fda6b){const _0x551acd=_0x18fcf7,_0x59b4b7=_0x3811dd['getScreenCTM']();let _0x29b88a,_0x1bf7d0;return _0x1fda6b[_0x551acd(0x89e)]&&_0x1fda6b[_0x551acd(0x89e)][_0x551acd(0x633)]>0x0?(_0x29b88a=_0x1fda6b[_0x551acd(0x89e)][0x0][_0x551acd(0x57a)],_0x1bf7d0=_0x1fda6b[_0x551acd(0x89e)][0x0][_0x551acd(0x31d)]):(_0x29b88a=_0x1fda6b['clientX'],_0x1bf7d0=_0x1fda6b[_0x551acd(0x31d)]),{'x':(_0x29b88a-_0x59b4b7['e'])/_0x59b4b7['a'],'y':(_0x1bf7d0-_0x59b4b7['f'])/_0x59b4b7['d']};}function startDrag(_0x5edb0d){const _0x3f3cda=_0x18fcf7;_0x5edb0d[_0x3f3cda(0x635)]===_0x3f3cda(0x86e)&&_0x5edb0d[_0x3f3cda(0xc63)]();const _0x2e47ea=_0x5edb0d[_0x3f3cda(0x357)][_0x3f3cda(0x3ed)](_0x3f3cda(0x62f));if(_0x2e47ea){draggedSvgElement=_0x2e47ea;const _0x3779cf=draggedSvgElement['ownerSVGElement'],_0x54ee8c=getPointerPosition(_0x3779cf,_0x5edb0d);svgOffset['x']=_0x54ee8c['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x54ee8c['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x95fa21,_0x62b480){const _0x2563fb=_0x18fcf7,_0x47a04b={};if(_0x62b480[_0x2563fb(0x633)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x4d77cf=[..._0x62b480][_0x2563fb(0x5a4)]((_0x45abff,_0x598eed)=>{const _0xef8673=_0x2563fb,_0x4346ef=_0x598eed['latestScore']-_0x45abff[_0xef8673(0xb72)];if(_0x4346ef!==0x0)return _0x4346ef;const _0x9f8514=_0x45abff[_0xef8673(0xc5e)]?.[_0xef8673(0x633)]||0x1,_0x2a870d=_0x598eed[_0xef8673(0xc5e)]?.[_0xef8673(0x633)]||0x1,_0x4aa80f=_0x9f8514-_0x2a870d;if(_0x4aa80f!==0x0)return _0x4aa80f;const _0x449aca=new Date(_0x45abff[_0xef8673(0x39d)]),_0x3ed7fe=new Date(_0x598eed[_0xef8673(0x39d)]),_0x4ac596=_0x449aca-_0x3ed7fe;if(_0x4ac596!==0x0)return _0x4ac596;return _0x45abff[_0xef8673(0x372)][_0xef8673(0x69b)](_0x598eed[_0xef8673(0x372)],'th');}),_0x2e44e9=_0x4d77cf[_0x2563fb(0x633)],_0x23de1e=Math[_0x2563fb(0x897)](0x1,Math['floor'](_0x2e44e9*0.33));if(_0x23de1e===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x5c0b38=_0x4d77cf[_0x2563fb(0x9b7)](0x0,_0x23de1e),_0x5caa9e=_0x4d77cf[_0x2563fb(0x9b7)](-_0x23de1e),_0x59a16f=_0x5c0b38[_0x2563fb(0x985)](_0x1fdbbc=>_0x1fdbbc['studentName']),_0x3f3447=_0x5caa9e['map'](_0x405174=>_0x405174[_0x2563fb(0x372)]);return _0x95fa21[_0x2563fb(0x3b7)][_0x2563fb(0xc92)]((_0x56e1a9,_0x28d431)=>{const _0x31a608=_0x2563fb,_0x4be9be=_0x56e1a9['stem']||_0x56e1a9[_0x31a608(0xcec)];let _0x4796b7=0x0,_0x4cd607=0x0,_0x4310e9=0x0;const _0x23313f=[],_0x207bd4=[];_0x5c0b38['forEach'](_0x704810=>{const _0x39cdb2=_0x31a608,_0xfaeac0=_0x704810['attempts'][_0x704810[_0x39cdb2(0xc5e)]['length']-0x1],_0x44e371=_0xfaeac0[_0x39cdb2(0x2e1)]['find'](_0x3b19c3=>_0x3b19c3[_0x39cdb2(0x354)]===_0x4be9be);_0x23313f['push']({'name':_0x704810[_0x39cdb2(0x372)],'isCorrect':_0x44e371?_0x44e371[_0x39cdb2(0xb33)]:![]}),_0x44e371&&_0x44e371[_0x39cdb2(0xb33)]&&_0x4cd607++;}),_0x5caa9e[_0x31a608(0xc92)](_0x2ac497=>{const _0x28bad2=_0x31a608,_0x513441=_0x2ac497[_0x28bad2(0xc5e)][_0x2ac497[_0x28bad2(0xc5e)][_0x28bad2(0x633)]-0x1],_0x38741a=_0x513441[_0x28bad2(0x2e1)][_0x28bad2(0x64b)](_0x4436eb=>_0x4436eb['originalQuestionText']===_0x4be9be);_0x207bd4[_0x28bad2(0x62c)]({'name':_0x2ac497['studentName'],'isCorrect':_0x38741a?_0x38741a[_0x28bad2(0xb33)]:![]}),_0x38741a&&_0x38741a[_0x28bad2(0xb33)]&&_0x4310e9++;}),_0x62b480[_0x31a608(0xc92)](_0x458fee=>{const _0x129053=_0x31a608,_0x3c357a=_0x458fee[_0x129053(0xc5e)][_0x458fee[_0x129053(0xc5e)][_0x129053(0x633)]-0x1],_0x441442=_0x3c357a[_0x129053(0x2e1)]['find'](_0x66df6d=>_0x66df6d[_0x129053(0x354)]===_0x4be9be);_0x441442&&_0x441442[_0x129053(0xb33)]&&_0x4796b7++;});const _0x38c044=_0x2e44e9>0x0?_0x4796b7/_0x2e44e9:0x0,_0x3a74e4=_0x23de1e>0x0?_0x4cd607/_0x23de1e-_0x4310e9/_0x23de1e:0x0;_0x47a04b[_0x28d431]={'p':_0x38c044,'r':_0x3a74e4,'upperGroupResponders':_0x23313f,'lowerGroupResponders':_0x207bd4};}),{'perQuestionStats':_0x47a04b,'overallGroups':{'upperGroupNames':_0x59a16f,'lowerGroupNames':_0x3f3447}};}function drag(_0x18db69){const _0x3d4ff2=_0x18fcf7;if(draggedSvgElement){_0x18db69[_0x3d4ff2(0xc63)]();const _0x7645e2=draggedSvgElement['ownerSVGElement'],_0x30f16b=getPointerPosition(_0x7645e2,_0x18db69),_0x45507c=_0x7645e2[_0x3d4ff2(0x752)][_0x3d4ff2(0x2ee)];let _0x5c3115=_0x30f16b['x']-svgOffset['x'],_0x1cd542=_0x30f16b['y']-svgOffset['y'];const _0x3357ac=draggedSvgElement[_0x3d4ff2(0xae1)]();_0x5c3115=Math[_0x3d4ff2(0x897)](_0x45507c['x'],Math[_0x3d4ff2(0x5b6)](_0x5c3115,_0x45507c['x']+_0x45507c[_0x3d4ff2(0x560)]-_0x3357ac[_0x3d4ff2(0x560)])),_0x1cd542=Math[_0x3d4ff2(0x897)](_0x45507c['y'],Math[_0x3d4ff2(0x5b6)](_0x1cd542,_0x45507c['y']+_0x45507c[_0x3d4ff2(0xb8b)]-_0x3357ac['height'])),draggedSvgElement['setAttributeNS'](null,'x',_0x5c3115),draggedSvgElement[_0x3d4ff2(0x99f)](null,'y',_0x1cd542);}}function endDrag(_0x3159f7){draggedSvgElement=null;}function handleSvgEditClick(_0x3d9655){const _0x393730=_0x18fcf7;if(_0x3d9655['target'][_0x393730(0x5a1)][_0x393730(0xbf1)](_0x393730(0xa8c))){const _0x1c782c=_0x3d9655['target'][_0x393730(0x9d2)][_0x393730(0xb0c)],_0x3f40a2=_0x3d9655[_0x393730(0x1cc)],_0x50d278=_0x3f40a2[_0x393730(0xc8a)]('#'+_0x1c782c);_0x50d278&&_0x50d278[_0x393730(0xbee)](),_0x3d9655['target'][_0x393730(0xbee)]();}}function handleEditQuestion(_0x26fa66){const _0x5089ac=_0x18fcf7,_0x281b90=_0x26fa66[_0x5089ac(0x1cc)],_0x4bdd41=_0x281b90[_0x5089ac(0x9d2)][_0x5089ac(0xb44)],_0xed7b43=currentQuizData[_0x5089ac(0x3b7)][_0x4bdd41],_0x583616=document[_0x5089ac(0x360)](_0x5089ac(0xc98)+_0x4bdd41),_0x5eaa45=document['getElementById'](_0x5089ac(0x53a)+_0x4bdd41),_0x493a4f=document['getElementById'](_0x5089ac(0x7df)+_0x4bdd41);if(_0x281b90['innerHTML'][_0x5089ac(0xba6)]('fa-pen')){_0x281b90['innerHTML']=_0x5089ac(0xb41),_0x281b90['title']=_0x5089ac(0x20d);if(_0x583616)_0x583616[_0x5089ac(0x2b1)]=!![];if(_0x5eaa45)_0x5eaa45[_0x5089ac(0x2b1)]=!![];if(_0x493a4f){const _0x308e5f=_0x493a4f[_0x5089ac(0xc8a)](_0x5089ac(0x12e));if(_0x308e5f){const _0x1d9e73=_0x308e5f[_0x5089ac(0x801)](_0x5089ac(0xc85));_0x1d9e73[_0x5089ac(0xc92)]((_0x31f7bb,_0x22f086)=>{const _0x237375=_0x5089ac,_0x2dd46b=_0x237375(0xad0)+_0x4bdd41+'-'+_0x22f086;_0x31f7bb['id']=_0x2dd46b,_0x31f7bb[_0x237375(0x5a1)][_0x237375(0x1f5)](_0x237375(0x210)),_0x31f7bb[_0x237375(0xbce)][_0x237375(0x654)]=_0x237375(0xa2c);const _0xd5ca0a=document[_0x237375(0x9a5)](_0x237375(0x1ea),_0x237375(0x19e)),_0x45292a=_0x31f7bb[_0x237375(0xae1)]();_0xd5ca0a[_0x237375(0x667)]('cx',String(_0x45292a['x']+_0x45292a[_0x237375(0x560)]+0x5)),_0xd5ca0a[_0x237375(0x667)]('cy',String(_0x45292a['y']+_0x45292a['height']/0x2-0x5)),_0xd5ca0a[_0x237375(0x667)]('r','5'),_0xd5ca0a[_0x237375(0x667)]('fill','red'),_0xd5ca0a['setAttribute']('class',_0x237375(0xa8c)),_0xd5ca0a['dataset']['targetId']=_0x2dd46b,_0x31f7bb[_0x237375(0x5a9)](_0xd5ca0a);}),_0x308e5f[_0x5089ac(0x616)](_0x5089ac(0x5c8),startDrag),_0x308e5f[_0x5089ac(0x616)]('mousemove',drag),_0x308e5f[_0x5089ac(0x616)]('mouseup',endDrag),_0x308e5f[_0x5089ac(0x616)](_0x5089ac(0x9f5),endDrag),_0x308e5f['addEventListener'](_0x5089ac(0x86e),startDrag,{'passive':![]}),_0x308e5f[_0x5089ac(0x616)](_0x5089ac(0x553),drag,{'passive':![]}),_0x308e5f[_0x5089ac(0x616)](_0x5089ac(0xcbf),endDrag),_0x308e5f['addEventListener'](_0x5089ac(0x911),endDrag),_0x308e5f[_0x5089ac(0x616)](_0x5089ac(0xc47),handleSvgEditClick);}}if(_0x583616)_0x583616['focus']();}else{_0x281b90[_0x5089ac(0x1a0)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x281b90[_0x5089ac(0x912)]='แก้ไขข้อนี้';if(_0x583616){_0x583616['contentEditable']=![];const _0x1a695a=_0xed7b43[_0x5089ac(0x434)]||currentQuizData[_0x5089ac(0x677)];_0x1a695a===_0x5089ac(0x463)?_0xed7b43[_0x5089ac(0x7e5)]=_0x583616['innerText']['substring'](_0x583616[_0x5089ac(0x3d4)][_0x5089ac(0x9a4)]('.')+0x2)[_0x5089ac(0x665)]():_0xed7b43[_0x5089ac(0xcec)]=_0x583616[_0x5089ac(0x3d4)][_0x5089ac(0x3e0)](_0x583616[_0x5089ac(0x3d4)][_0x5089ac(0x9a4)]('.')+0x2)['trim']();}_0x5eaa45&&(_0x5eaa45[_0x5089ac(0x2b1)]=![],_0xed7b43[_0x5089ac(0x4dd)]=_0x5eaa45[_0x5089ac(0x3d4)]);if(_0x493a4f){const _0xe83805=_0x493a4f['querySelector'](_0x5089ac(0x12e));if(_0xe83805){const _0x2fbcab=_0xe83805[_0x5089ac(0x937)](!![]);_0x2fbcab[_0x5089ac(0x801)](_0x5089ac(0xcca))[_0x5089ac(0xc92)](_0x10da44=>_0x10da44['remove']()),_0x2fbcab['querySelectorAll'](_0x5089ac(0x62f))['forEach'](_0x32558c=>{const _0x25898b=_0x5089ac;_0x32558c[_0x25898b(0x5a1)][_0x25898b(0xbee)](_0x25898b(0x210)),_0x32558c['style'][_0x25898b(0x654)]=_0x25898b(0x2f0),_0x32558c[_0x25898b(0x521)]('id');}),_0xed7b43[_0x5089ac(0x931)]=_0x2fbcab[_0x5089ac(0x2d0)],_0xe83805[_0x5089ac(0xb86)](_0x5089ac(0x5c8),startDrag),_0xe83805[_0x5089ac(0xb86)]('mousemove',drag),_0xe83805[_0x5089ac(0xb86)]('mouseup',endDrag),_0xe83805['removeEventListener'](_0x5089ac(0x9f5),endDrag),_0xe83805[_0x5089ac(0xb86)](_0x5089ac(0x86e),startDrag),_0xe83805[_0x5089ac(0xb86)](_0x5089ac(0x553),drag),_0xe83805[_0x5089ac(0xb86)](_0x5089ac(0xcbf),endDrag),_0xe83805['removeEventListener']('touchcancel',endDrag),_0xe83805[_0x5089ac(0xb86)](_0x5089ac(0xc47),handleSvgEditClick),_0xe83805[_0x5089ac(0x801)]('.delete-svg-btn')['forEach'](_0x1b06b8=>_0x1b06b8['remove']()),_0xe83805[_0x5089ac(0x801)](_0x5089ac(0x62f))['forEach'](_0x3c1909=>{const _0x2b8626=_0x5089ac;_0x3c1909['classList'][_0x2b8626(0xbee)](_0x2b8626(0x210)),_0x3c1909[_0x2b8626(0xbce)][_0x2b8626(0x654)]=_0x2b8626(0x2f0);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x46d9c6){const _0x3198fd=_0x18fcf7,_0x3b647a=document[_0x3198fd(0x360)]('quiz-editor-modal'),_0xaa6137=document['getElementById'](_0x3198fd(0xccc));_0xaa6137[_0x3198fd(0x1a0)]=_0x3198fd(0x55c),_0x3b647a['classList']['remove'](_0x3198fd(0x29e));try{const _0x39d671=doc(db,_0x3198fd(0x944)+appId+'/public/data/quizzes',_0x46d9c6),_0x5c5747=await getDoc(_0x39d671);if(!_0x5c5747['exists']())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x46d9c6,..._0x5c5747[_0x3198fd(0x9e7)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x4f7d45){console[_0x3198fd(0x537)](_0x3198fd(0x7c1),_0x4f7d45),showMessage(_0x3198fd(0x8d6)),_0x3b647a[_0x3198fd(0x5a1)][_0x3198fd(0x1f5)](_0x3198fd(0x29e));}}function renderQuizEditor(_0x26e5ab){const _0x3ec181=_0x18fcf7;document[_0x3ec181(0x360)](_0x3ec181(0x53f))[_0x3ec181(0x1db)]=_0x26e5ab['topic'];const _0x1bc31c=document[_0x3ec181(0x360)](_0x3ec181(0xccc));let _0x835b2a=_0x26e5ab['questions'][_0x3ec181(0x985)]((_0x19016e,_0x3e8f33)=>{const _0x19a412=_0x3ec181;let _0x57e6bf='';const _0x3726fa=_0x19016e[_0x19a412(0x434)]||_0x26e5ab[_0x19a412(0x677)];switch(_0x3726fa){case'multiple_choice':const _0x39a7c5=(_0x19016e[_0x19a412(0x211)]||[])[_0x19a412(0x985)]((_0x280755,_0x53e95b)=>_0x19a412(0x1d2)+_0x3e8f33+'\x22\x20value=\x22'+_0x53e95b+'\x22\x20'+(_0x53e95b===_0x19016e[_0x19a412(0x274)]?'checked':'')+_0x19a412(0x876)+_0x280755+_0x19a412(0xb9c))[_0x19a412(0x155)]('');_0x57e6bf=_0x19a412(0xb37)+_0x39a7c5+_0x19a412(0x28a);break;case _0x19a412(0x693):_0x57e6bf=_0x19a412(0x2fe)+(_0x19016e[_0x19a412(0x698)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x19a412(0x8e2):_0x57e6bf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x3e8f33+_0x19a412(0x883)+(_0x19016e[_0x19a412(0x30e)]===!![]?_0x19a412(0x5fc):'')+_0x19a412(0x9f0)+_0x3e8f33+_0x19a412(0xc46)+(_0x19016e[_0x19a412(0x30e)]===![]?_0x19a412(0x5fc):'')+_0x19a412(0x4a6);break;case _0x19a412(0x463):_0x57e6bf=_0x19a412(0x6cb)+(_0x19016e['correctResponse']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}let _0x2264f2=_0x19016e[_0x19a412(0xcec)]||_0x19016e[_0x19a412(0x7e5)]||'';return _0x2264f2=_0x2264f2[_0x19a412(0x955)](/<br\s*\/?>/gi,'\x0a'),_0x19a412(0x1f8)+_0x3e8f33+_0x19a412(0x2b9)+_0x3726fa+_0x19a412(0x9a8)+(_0x3e8f33+0x1)+'\x20('+_0x3726fa+_0x19a412(0xa6d)+_0x2264f2+_0x19a412(0x255)+_0x57e6bf+_0x19a412(0xa34);})['join']('');_0x1bc31c[_0x3ec181(0x1a0)]=_0x835b2a;const _0x51b6a5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x1bc31c['insertAdjacentHTML'](_0x3ec181(0x919),_0x51b6a5),_0x1bc31c['querySelectorAll'](_0x3ec181(0x9a0))[_0x3ec181(0xc92)](_0xa6825=>{const _0x35e776=_0x3ec181;_0xa6825[_0x35e776(0xbce)][_0x35e776(0xc1f)]=_0x35e776(0x29e),_0xa6825[_0x35e776(0xbce)][_0x35e776(0x71c)]='100px',_0xa6825['rows']=0x4;const _0x55046d=()=>{const _0xd1c385=_0x35e776;_0xa6825[_0xd1c385(0xbce)][_0xd1c385(0xb8b)]=_0xd1c385(0x1e1),_0xa6825[_0xd1c385(0xbce)][_0xd1c385(0xb8b)]=_0xa6825['scrollHeight']+'px';};_0xa6825['addEventListener'](_0x35e776(0x9e3),_0x55046d),_0x55046d();}),_0x1bc31c['querySelectorAll'](_0x3ec181(0x3a6))['forEach'](_0x25aa2e=>{const _0x24df4f=_0x3ec181;_0x25aa2e[_0x24df4f(0x616)]('click',handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x17d230){const _0x401396=_0x18fcf7;if(!currentEditingQuizData||!currentEditingQuizData['questions'][_0x17d230])return;const _0x3e0d18=currentEditingQuizData[_0x401396(0x3b7)][_0x17d230][_0x401396(0xcec)]||currentEditingQuizData['questions'][_0x17d230][_0x401396(0x7e5)];showConfirmation(_0x401396(0xc1e)+(_0x17d230+0x1)+_0x401396(0xb6c)+_0x3e0d18[_0x401396(0x3e0)](0x0,0x14)+'...\x22)?',()=>{const _0x5b5cbc=_0x401396;currentEditingQuizData[_0x5b5cbc(0x3b7)]['splice'](_0x17d230,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x5b5cbc(0x47a));});}function _0x20ce(_0x13d5f4,_0x3de197){const _0x55ddff=_0x55dd();return _0x20ce=function(_0x20cea6,_0xc685c3){_0x20cea6=_0x20cea6-0x129;let _0x24725b=_0x55ddff[_0x20cea6];return _0x24725b;},_0x20ce(_0x13d5f4,_0x3de197);}function handleAddQuestionInEditor(){const _0x336f81=_0x18fcf7;if(!currentEditingQuizData)return;const _0x268822={'id':'q_'+Date['now']()+'_new','questionType':'multiple_choice','questionText':_0x336f81(0x889),'options':[_0x336f81(0x1b1),_0x336f81(0x40b),'ตัวเลือก\x20ค',_0x336f81(0x713)],'correctAnswerIndex':0x0,'explanation':_0x336f81(0x3bb)};currentEditingQuizData[_0x336f81(0x3b7)][_0x336f81(0x62c)](_0x268822),renderQuizEditor(currentEditingQuizData);const _0x3b5b00=document['querySelector'](_0x336f81(0x170));_0x3b5b00&&(_0x3b5b00['scrollIntoView']({'behavior':_0x336f81(0x8df),'block':_0x336f81(0x1c2)}),_0x3b5b00['querySelector'](_0x336f81(0x149))[_0x336f81(0xac0)]());}async function handleAiFixQuestion(_0x2acec9){const _0x20bfd3=_0x18fcf7,_0x4b0854=_0x2acec9[_0x20bfd3(0x1cc)],_0x3005e3=_0x4b0854[_0x20bfd3(0x3ed)]('.question-editor-item');if(!_0x3005e3)return;const _0x8e073e=parseInt(_0x3005e3[_0x20bfd3(0x9d2)][_0x20bfd3(0xb00)],0xa);if(isNaN(_0x8e073e)||!currentEditingQuizData[_0x20bfd3(0x3b7)][_0x8e073e]){showMessage(_0x20bfd3(0xa82));return;}const _0x29b0be=currentEditingQuizData[_0x20bfd3(0x3b7)][_0x8e073e];_0x4b0854[_0x20bfd3(0x1a0)]=_0x20bfd3(0x89d),_0x4b0854['disabled']=!![];const _0x395454=_0x20bfd3(0xc7d)+JSON[_0x20bfd3(0x639)](_0x29b0be)+_0x20bfd3(0x6f2);let _0x561bd3;const _0x1ad6c3=_0x29b0be['questionType']||currentEditingQuizData[_0x20bfd3(0x677)];switch(_0x1ad6c3){case _0x20bfd3(0x693):_0x561bd3={'type':_0x20bfd3(0x6f6),'properties':{'questionText':{'type':_0x20bfd3(0x279)},'idealAnswer':{'type':_0x20bfd3(0x279)},'explanation':{'type':_0x20bfd3(0x279)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x20bfd3(0x698),_0x20bfd3(0x4dd)]};break;case _0x20bfd3(0xc24):default:_0x561bd3={'type':_0x20bfd3(0x6f6),'properties':{'questionText':{'type':_0x20bfd3(0x279)},'options':{'type':_0x20bfd3(0x512),'items':{'type':_0x20bfd3(0x279)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x20bfd3(0x279)},'imageCode':{'type':_0x20bfd3(0x279)}},'required':[_0x20bfd3(0xcec),_0x20bfd3(0x211),_0x20bfd3(0x274),'explanation']};break;}try{let _0x93f1ce=await callAnalysisApi(_0x395454,_0x561bd3);_0x93f1ce[_0x20bfd3(0x211)]&&Array[_0x20bfd3(0x449)](_0x93f1ce[_0x20bfd3(0x211)])&&(_0x93f1ce['options']=_0x93f1ce[_0x20bfd3(0x211)]['map'](_0x123023=>typeof _0x123023===_0x20bfd3(0xb5c)?_0x123023[_0x20bfd3(0x955)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x123023)),_0x29b0be['imageCode']&&_0x29b0be[_0x20bfd3(0x931)][_0x20bfd3(0xba6)]('fix\x20the\x20option')&&(_0x93f1ce['imageCode']=''),currentEditingQuizData[_0x20bfd3(0x3b7)][_0x8e073e]={..._0x29b0be,..._0x93f1ce},renderQuizEditor(currentEditingQuizData),showMessage(_0x20bfd3(0xbae));}catch(_0x2d2126){console[_0x20bfd3(0x537)](_0x20bfd3(0xca3),_0x2d2126),showMessage(_0x20bfd3(0x264)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x37f857=_0x18fcf7,_0x24fa0c=document[_0x37f857(0x360)]('save-quiz-edits-btn');_0x24fa0c[_0x37f857(0xa78)]=!![],_0x24fa0c['innerHTML']=_0x37f857(0x882);try{const _0x351263=document[_0x37f857(0x360)](_0x37f857(0x53f))['value'],_0x4f3ee3=document[_0x37f857(0x801)]('.question-editor-item');let _0x45d8c1=[];const _0x1b3d0a=Array['from'](_0x4f3ee3)['map']((_0x557a2,_0xeac425)=>{const _0x16983a=_0x37f857,_0x5225e2=_0x557a2[_0x16983a(0x9d2)][_0x16983a(0x84e)],_0x48e3cd=_0x557a2[_0x16983a(0xc8a)](_0x16983a(0x149))[_0x16983a(0x1db)][_0x16983a(0x955)](/\n/g,_0x16983a(0x9e9));let _0x81187e={'questionType':_0x5225e2};const _0x3b5283=currentEditingQuizData[_0x16983a(0x3b7)][_0xeac425];switch(_0x5225e2){case _0x16983a(0xc24):_0x81187e[_0x16983a(0xcec)]=_0x48e3cd;const _0x12ee6d=_0x557a2[_0x16983a(0x801)](_0x16983a(0x190));_0x81187e[_0x16983a(0x211)]=Array[_0x16983a(0x7bc)](_0x12ee6d)[_0x16983a(0x985)](_0x48f3f7=>_0x48f3f7[_0x16983a(0x1db)]);const _0x57aa52=_0x557a2[_0x16983a(0xc8a)](_0x16983a(0x679));_0x81187e[_0x16983a(0x274)]=_0x57aa52?parseInt(_0x57aa52[_0x16983a(0x1db)]):0x0;break;case'short_answer':_0x81187e[_0x16983a(0xcec)]=_0x48e3cd,_0x81187e['idealAnswer']=_0x557a2[_0x16983a(0xc8a)](_0x16983a(0x331))[_0x16983a(0x1db)];break;case _0x16983a(0x8e2):_0x81187e['questionText']=_0x48e3cd;const _0x5a8843=_0x557a2[_0x16983a(0xc8a)]('input[type=\x22radio\x22]:checked');_0x81187e[_0x16983a(0x30e)]=_0x5a8843?_0x5a8843[_0x16983a(0x1db)]===_0x16983a(0x426):!![];break;case _0x16983a(0x463):_0x81187e[_0x16983a(0x7e5)]=_0x48e3cd;const _0x2ab5c1=_0x557a2[_0x16983a(0xc8a)](_0x16983a(0x69e));_0x81187e[_0x16983a(0xa81)]=_0x2ab5c1?_0x2ab5c1[_0x16983a(0x1db)]:'',_0x45d8c1[_0x16983a(0x62c)](_0x81187e[_0x16983a(0xa81)]);break;default:_0x81187e[_0x16983a(0xcec)]=_0x48e3cd;break;}return{..._0x3b5283,..._0x81187e};});_0x45d8c1[_0x37f857(0x633)]>0x0&&_0x1b3d0a[_0x37f857(0xc92)](_0x381b5c=>{const _0x9e9555=_0x37f857;_0x381b5c[_0x9e9555(0x434)]===_0x9e9555(0x463)&&(_0x381b5c[_0x9e9555(0x749)]=_0x45d8c1);});const _0x4b2ddb=currentEditingQuizData['id'],_0x4ae277=doc(db,_0x37f857(0x944)+appId+_0x37f857(0x46a),_0x4b2ddb);await updateDoc(_0x4ae277,{'topic':_0x351263,'questions':_0x1b3d0a}),document['getElementById'](_0x37f857(0xcf8))[_0x37f857(0x5a1)][_0x37f857(0x1f5)](_0x37f857(0x29e)),showMessage(_0x37f857(0x5df),()=>initiateReGradeProcess(_0x4b2ddb));}catch(_0x4db45c){console[_0x37f857(0x537)](_0x37f857(0x2e8),_0x4db45c),showMessage(_0x37f857(0xc70));}finally{_0x24fa0c['disabled']=![],_0x24fa0c[_0x37f857(0x1a0)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0xa3611f){const _0x1d1e37=_0x18fcf7;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x5a427e=doc(db,_0x1d1e37(0x944)+appId+_0x1d1e37(0x46a),_0xa3611f),_0x1e58b7=await getDoc(_0x5a427e);if(!_0x1e58b7[_0x1d1e37(0x815)]())throw new Error(_0x1d1e37(0x9c8));const _0x138bee={'id':_0xa3611f,..._0x1e58b7['data']()},_0x43ed0e=collection(db,'artifacts/'+appId+_0x1d1e37(0x46a),_0xa3611f,'submissions'),_0x450892=await getDocs(_0x43ed0e);if(_0x450892[_0x1d1e37(0x62a)]){showMessage(_0x1d1e37(0x1f0));return;}const _0x193360=_0x450892[_0x1d1e37(0x8d0)][_0x1d1e37(0x985)](_0x288d15=>reGradeSingleSubmission(_0x288d15,_0x138bee));await Promise[_0x1d1e37(0x9b3)](_0x193360);if(_0x138bee[_0x1d1e37(0x15d)]){const _0x388e47=doc(db,_0x1d1e37(0x944)+appId+'/public/data/projects',_0x138bee[_0x1d1e37(0x15d)]),_0x20055a=await getDoc(_0x388e47);if(_0x20055a[_0x1d1e37(0x815)]()&&_0x20055a[_0x1d1e37(0x9e7)]()[_0x1d1e37(0x257)]){const _0x3d93f1=_0x20055a[_0x1d1e37(0x9e7)]()[_0x1d1e37(0x257)]['map'](_0x4b1fba=>updateStudentProfile(_0x138bee[_0x1d1e37(0x15d)],_0x4b1fba));await Promise[_0x1d1e37(0x9b3)](_0x3d93f1);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x450892[_0x1d1e37(0x8ae)]+_0x1d1e37(0xcd8));}catch(_0x45a92c){console['error'](_0x1d1e37(0x6d9),_0x45a92c),showMessage(_0x1d1e37(0x195)+_0x45a92c[_0x1d1e37(0x42e)]);}}async function reGradeSingleSubmission(_0x113de2,_0x21d302){const _0x59038a=_0x18fcf7,_0x70e8b7=_0x113de2['data'](),_0x11d493=_0x70e8b7[_0x59038a(0x372)],_0x42ff84=_0x70e8b7[_0x59038a(0xc5e)]||[],_0x31d281=[];for(const _0x26ca94 of _0x42ff84){let _0x4164e3=0x0,_0x26d690=[],_0xd056f3=0x0;const _0x174cb4=[];for(const _0x282c93 of _0x26ca94[_0x59038a(0x2e1)]){let _0x138fbe;_0x282c93[_0x59038a(0x9ad)]&&(_0x138fbe=_0x21d302[_0x59038a(0x3b7)][_0x59038a(0x64b)](_0x37e7ef=>_0x37e7ef['id']===_0x282c93[_0x59038a(0x9ad)]));!_0x138fbe&&_0x282c93['originalQuestionText']&&(_0x138fbe=_0x21d302[_0x59038a(0x3b7)][_0x59038a(0x64b)](_0x17fbc3=>(_0x17fbc3['stem']||_0x17fbc3[_0x59038a(0xcec)])===_0x282c93[_0x59038a(0x354)]));let _0x389262=![];if(_0x138fbe){const _0x56841f=_0x138fbe[_0x59038a(0x434)]||_0x21d302[_0x59038a(0x677)];switch(_0x56841f){case'multiple_choice':if(_0x138fbe[_0x59038a(0x211)]&&_0x138fbe['correctAnswerIndex']<_0x138fbe[_0x59038a(0x211)][_0x59038a(0x633)]){const _0x407506=_0x138fbe['options'][_0x138fbe[_0x59038a(0x274)]];_0x389262=_0x282c93[_0x59038a(0x323)]===_0x407506;}break;case _0x59038a(0x8e2):const _0x175acc=_0x282c93[_0x59038a(0x895)]===!![]||_0x282c93[_0x59038a(0x895)]===_0x59038a(0x426);_0x389262=_0x175acc===_0x138fbe[_0x59038a(0x30e)];break;case _0x59038a(0x463):_0x389262=_0x282c93[_0x59038a(0x895)]===_0x138fbe[_0x59038a(0xa81)];break;case _0x59038a(0x693):_0x389262=await gradeShortAnswer(_0x282c93[_0x59038a(0x895)],_0x138fbe);break;default:_0x389262=_0x282c93[_0x59038a(0xb33)];break;}}if(_0x389262){_0x4164e3++,_0xd056f3++;if(_0xd056f3===0x3)_0x26d690['push'](BADGES[_0x59038a(0x3a2)]['id']);}else _0xd056f3=0x0;_0x174cb4['push']({..._0x282c93,'isCorrect':_0x389262});}let _0x238c13=_0x4164e3*0xa;_0x4164e3===_0x21d302[_0x59038a(0x3b7)][_0x59038a(0x633)]&&(_0x238c13+=0x32,_0x26d690[_0x59038a(0x62c)](BADGES[_0x59038a(0x4ef)]['id'])),_0x31d281[_0x59038a(0x62c)]({..._0x26ca94,'score':_0x4164e3,'points':_0x238c13,'badges':Array[_0x59038a(0x7bc)](new Set(_0x26d690)),'answers':_0x174cb4});}const _0x3d9fea=_0x31d281[_0x59038a(0x633)]>0x0?_0x31d281[0x0][_0x59038a(0x8c2)]:0x0,_0x1a30f7=Math[_0x59038a(0x897)](..._0x31d281[_0x59038a(0x985)](_0x3f4b2b=>_0x3f4b2b[_0x59038a(0x8c2)])),_0x2d59d2=_0x31d281[_0x59038a(0x633)]>0x0?_0x31d281[_0x31d281['length']-0x1][_0x59038a(0x8c2)]:0x0,_0xdcd251=_0x31d281[_0x59038a(0x633)]>0x0?_0x31d281[_0x31d281['length']-0x1][_0x59038a(0x546)]:0x0,_0x27a374=doc(db,'artifacts/'+appId+_0x59038a(0x340)+_0x21d302['id']+_0x59038a(0xcad),_0x11d493);await updateDoc(_0x27a374,{'attempts':_0x31d281,'firstScore':_0x3d9fea,'bestScore':_0x1a30f7,'latestScore':_0x2d59d2,'points':_0xdcd251});}function cleanupQuizOptions(_0xe721b7){const _0x22aeb6=_0x18fcf7,_0x64f291=(_0x42bcb3,_0x3039a3)=>_0x3039a3===0x0?_0x42bcb3:_0x64f291(_0x3039a3,_0x42bcb3%_0x3039a3),_0x5d2eed=_0x3d925f=>{const _0x1cab09=_0x20ce;if(typeof _0x3d925f!==_0x1cab09(0xb5c))return null;_0x3d925f=_0x3d925f['trim']();const _0x4b5841=_0x3d925f['split'](/[ /]/)['filter'](_0x40bc94=>_0x40bc94!=='');if(_0x4b5841['length']===0x3)return parseInt(_0x4b5841[0x0])+parseInt(_0x4b5841[0x1])/parseInt(_0x4b5841[0x2]);else{if(_0x4b5841[_0x1cab09(0x633)]===0x2)return parseInt(_0x4b5841[0x0])/parseInt(_0x4b5841[0x1]);else{if(_0x4b5841[_0x1cab09(0x633)]===0x1&&!isNaN(_0x4b5841[0x0]))return parseFloat(_0x4b5841[0x0]);}}return null;},_0x1bf24a=_0x1030ae=>{const _0x4ac8bd=_0x20ce;if(typeof _0x1030ae!==_0x4ac8bd(0xb5c))return _0x1030ae;const _0x1a083e=_0x1030ae[_0x4ac8bd(0x1d7)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x1a083e){const _0x22926d=parseInt(_0x1a083e[0x1]);let _0x33628d=parseInt(_0x1a083e[0x2]),_0x420d4e=parseInt(_0x1a083e[0x3]);const _0x1eb647=_0x64f291(_0x33628d,_0x420d4e);_0x33628d/=_0x1eb647,_0x420d4e/=_0x1eb647;if(_0x420d4e===0x1)return(_0x22926d+_0x33628d)[_0x4ac8bd(0xa76)]();return _0x22926d+'\x20'+_0x33628d+'/'+_0x420d4e;}return _0x1030ae;};return _0xe721b7&&_0xe721b7[_0x22aeb6(0x3b7)]&&_0xe721b7['questions'][_0x22aeb6(0xc92)](_0x59f8ef=>{const _0xc29966=_0x22aeb6;if(_0x59f8ef[_0xc29966(0x434)]==='multiple_choice'&&_0x59f8ef[_0xc29966(0x211)]){const _0x19bb0c=new Map(),_0x14781d=_0x59f8ef[_0xc29966(0x211)][_0x59f8ef['correctAnswerIndex']];_0x59f8ef[_0xc29966(0x211)][_0xc29966(0xc92)](_0x5b1614=>{const _0x33a46d=_0xc29966,_0x83b689=_0x1bf24a(_0x5b1614),_0x2019be=_0x5d2eed(_0x83b689);_0x2019be!==null&&!_0x19bb0c[_0x33a46d(0xc95)](_0x2019be)&&_0x19bb0c[_0x33a46d(0xb68)](_0x2019be,_0x83b689);}),_0x59f8ef[_0xc29966(0x211)]=Array[_0xc29966(0x7bc)](_0x19bb0c['values']());const _0x1088e3=_0x59f8ef[_0xc29966(0x211)][_0xc29966(0x1b7)](_0x391784=>_0x391784===_0x1bf24a(_0x14781d));_0x59f8ef[_0xc29966(0x274)]=_0x1088e3!==-0x1?_0x1088e3:0x0;}}),_0xe721b7;}function showGameStartConfirmationModal(_0x489fd9,_0xb55a88,_0x25336d){const _0x139d14=_0x18fcf7,_0xaeb999=document[_0x139d14(0x360)](_0x139d14(0x337));document['getElementById']('game-start-modal-title')[_0x139d14(0x946)]='เริ่มกิจกรรม:\x20'+_0x25336d,document[_0x139d14(0x360)](_0x139d14(0x5e6))[_0x139d14(0x1db)]=_0x489fd9,document[_0x139d14(0x360)](_0x139d14(0xcfd))['value']=_0xb55a88,document[_0x139d14(0x360)]('save-game-results-checkbox')[_0x139d14(0x5fc)]=!![];const _0x569737=document[_0x139d14(0x360)](_0x139d14(0x1e0));_0xb55a88==='sync'?(_0x569737[_0x139d14(0x5a1)][_0x139d14(0xbee)](_0x139d14(0x29e)),document[_0x139d14(0xc8a)](_0x139d14(0xc73))[_0x139d14(0x5fc)]=!![]):_0x569737[_0x139d14(0x5a1)][_0x139d14(0x1f5)](_0x139d14(0x29e)),_0xaeb999[_0x139d14(0x5a1)][_0x139d14(0xbee)](_0x139d14(0x29e));}async function saveGameResultsAsSubmissions(_0xf8d611){const _0x1e57e1=_0x18fcf7;console[_0x1e57e1(0xced)]('Attempting\x20to\x20save\x20game\x20results...',_0xf8d611);const _0x29e29c=_0xf8d611[_0x1e57e1(0x30a)];let _0x35a739=[];if(_0xf8d611[_0x1e57e1(0x326)])_0x35a739=Object['entries'](_0xf8d611[_0x1e57e1(0x326)])['map'](([_0x49a333,_0x167ce9])=>({'name':_0x49a333,..._0x167ce9}));else{if(_0xf8d611[_0x1e57e1(0x56c)])Object[_0x1e57e1(0x85e)](_0xf8d611[_0x1e57e1(0x56c)])['forEach'](_0x1a8dd5=>{const _0x44f80d=_0x1e57e1;_0x1a8dd5[_0x44f80d(0xbd1)][_0x44f80d(0xc92)](_0x3a8f0d=>{_0x35a739['push']({'name':_0x3a8f0d,'score':_0x1a8dd5['score'],'answers':_0x1a8dd5['answers']});});});else _0xf8d611[_0x1e57e1(0x248)]&&Object[_0x1e57e1(0xccb)](_0xf8d611[_0x1e57e1(0x248)])[_0x1e57e1(0xc92)](([_0x581e8b,_0x4c7eb6])=>{_0x35a739['push']({'name':_0x581e8b,..._0x4c7eb6});});}if(_0x35a739[_0x1e57e1(0x633)]===0x0){console['log'](_0x1e57e1(0x854));return;}const _0x5bfe9d=_0xf8d611['shuffledQuiz']?.[_0x1e57e1(0x3b7)]['length']||currentQuizData[_0x1e57e1(0x3b7)][_0x1e57e1(0x633)],_0xc65ca2=writeBatch(db);for(const _0x54a890 of _0x35a739){const _0x2bdf28=doc(db,'artifacts/'+appId+_0x1e57e1(0x340)+_0x29e29c+_0x1e57e1(0xcad),_0x54a890[_0x1e57e1(0x3d8)]),_0x4e6212=(_0x54a890['answers']||[])['filter'](_0xf9db7=>_0xf9db7['isCorrect'])[_0x1e57e1(0x633)];let _0x180542=_0x4e6212;_0xf8d611[_0x1e57e1(0x3ea)]&&_0x54a890[_0x1e57e1(0x2e1)]&&_0x54a890['answers'][_0x1e57e1(0xc92)](_0x44cc58=>{const _0x4ae82b=_0x1e57e1;if(_0x44cc58[_0x4ae82b(0xb33)]&&(_0x44cc58[_0x4ae82b(0x8bb)]===!![]||_0x44cc58[_0x4ae82b(0x8bb)]===_0x4ae82b(0xb05)))_0x180542+=0x1;else!_0x44cc58[_0x4ae82b(0xb33)]&&(_0x44cc58[_0x4ae82b(0x8bb)]===!![]||_0x44cc58['wasConfident']==='confident')&&(_0x180542-=0x1);});_0x5bfe9d>0x0&&_0x4e6212===_0x5bfe9d&&(_0x180542+=0x1);const _0xa37357={'score':_0x4e6212,'points':_0x180542,'badges':_0x54a890[_0x1e57e1(0x310)]||[],'submittedAt':new Date()[_0x1e57e1(0x3a7)](),'answers':(_0x54a890[_0x1e57e1(0x2e1)]||[])[_0x1e57e1(0x985)](_0x3d8bc0=>({'questionId':_0x3d8bc0[_0x1e57e1(0x9ad)],'answer':_0x3d8bc0[_0x1e57e1(0x895)],'answerText':_0x3d8bc0['answerText'],'isCorrect':_0x3d8bc0['isCorrect'],'originalQuestionText':_0x3d8bc0[_0x1e57e1(0x354)],'wasConfident':_0x3d8bc0[_0x1e57e1(0x8bb)]}))},_0x12f6ce=await getDoc(_0x2bdf28),_0x56a1eb=_0x12f6ce[_0x1e57e1(0x815)]()?_0x12f6ce['data']():{},_0x3952e4=_0x56a1eb[_0x1e57e1(0xa4c)]||0x0,_0x23ff38=_0x56a1eb[_0x1e57e1(0xc5e)]||[],_0x1ecea5={'studentName':_0x54a890[_0x1e57e1(0x3d8)],'totalQuestions':_0x5bfe9d,'attempts':arrayUnion(_0xa37357),'latestScore':_0x4e6212,'points':_0x180542,'latestSubmittedAt':_0xa37357['submittedAt'],'bestScore':Math[_0x1e57e1(0x897)](_0x3952e4,_0x4e6212),'firstScore':_0x23ff38[_0x1e57e1(0x633)]===0x0?_0x4e6212:_0x56a1eb[_0x1e57e1(0x78c)]||0x0};_0xc65ca2['set'](_0x2bdf28,_0x1ecea5,{'merge':!![]});}try{await _0xc65ca2[_0x1e57e1(0xb69)](),showMessage(_0x1e57e1(0x8d2)+_0x35a739[_0x1e57e1(0x633)]+_0x1e57e1(0xc6b));const _0x4a9026=_0xf8d611['shuffledQuiz']?.[_0x1e57e1(0x15d)]||currentQuizData?.[_0x1e57e1(0x15d)]||currentProjectId;if(_0x4a9026){const _0x24377c=[...new Set(_0x35a739[_0x1e57e1(0x985)](_0x2db6e3=>_0x2db6e3[_0x1e57e1(0x3d8)]))];for(const _0x142066 of _0x24377c){await updateStudentProfile(_0x4a9026,_0x142066);}}}catch(_0x5c6596){console[_0x1e57e1(0x537)](_0x1e57e1(0x787),_0x5c6596),showMessage(_0x1e57e1(0x174));}}async function saveQuiz(_0x2dc356=null,_0x487de9=null){const _0x3733f5=_0x18fcf7,_0x4d85c9=_0x2dc356||currentProjectId;if(!_0x4d85c9){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x3733f5(0x3b7)]||!userId){showMessage(_0x3733f5(0x586));return;}const _0x543d78=document[_0x3733f5(0x360)]('save-quiz-btn');_0x543d78[_0x3733f5(0xa78)]=!![],_0x543d78[_0x3733f5(0x1a0)]=_0x3733f5(0x882);const _0x5d4f0e=document['getElementById']('pre-test-checkbox')['checked'];let _0x22748a=document[_0x3733f5(0x360)]('editable-quiz-topic')[_0x3733f5(0x3d4)][_0x3733f5(0x665)]();_0x5d4f0e&&!_0x22748a[_0x3733f5(0x478)](_0x3733f5(0x984))&&(_0x22748a='(ก่อนเรียน)\x20'+_0x22748a);try{const _0x2c7ade={'resultsDisplay':document[_0x3733f5(0x360)](_0x3733f5(0x1b2))[_0x3733f5(0x1db)],'shuffle':document[_0x3733f5(0x360)]('shuffle-setting-select')[_0x3733f5(0x1db)],'timerMode':document['getElementById'](_0x3733f5(0x25b))[_0x3733f5(0x1db)],'timerDuration':parseInt(document[_0x3733f5(0x360)](_0x3733f5(0x940))[_0x3733f5(0x1db)])||0xa,'passingScore':parseInt(document[_0x3733f5(0x360)](_0x3733f5(0x582))['value'])||0x0,'isAdaptive':document['getElementById'](_0x3733f5(0xa27))['checked'],'loopUntilPass':document[_0x3733f5(0x360)](_0x3733f5(0xbd8))[_0x3733f5(0x5fc)]},_0x3e824d=(currentQuizData['questions']||[])[_0x3733f5(0x985)]((_0x39e1b6,_0x7f208b)=>{const _0x4798b4=_0x3733f5,_0x5232cc=document[_0x4798b4(0x360)](_0x4798b4(0x18c))[_0x4798b4(0x1db)],_0x3af03c={'id':'q_'+Date[_0x4798b4(0x36b)]()+'_'+_0x7f208b,'questionText':_0x39e1b6[_0x4798b4(0xcec)]||'','explanation':_0x39e1b6[_0x4798b4(0x4dd)]||_0x4798b4(0xcd6),'questionType':_0x39e1b6[_0x4798b4(0x434)]||_0x5232cc,'imageCode':_0x39e1b6['imageCode']||null};return(_0x3af03c[_0x4798b4(0x434)]===_0x4798b4(0xc24)||_0x3af03c[_0x4798b4(0x434)]===_0x4798b4(0xa84)||_0x3af03c[_0x4798b4(0x434)]==='mixed'&&_0x39e1b6[_0x4798b4(0x211)])&&(_0x3af03c['options']=_0x39e1b6[_0x4798b4(0x211)]||[],_0x3af03c[_0x4798b4(0x274)]=_0x39e1b6[_0x4798b4(0x274)]!==undefined?_0x39e1b6[_0x4798b4(0x274)]:0x0),(_0x3af03c[_0x4798b4(0x434)]==='short_answer'||_0x3af03c['questionType']==='fill_in_no_choices'||_0x3af03c[_0x4798b4(0x434)]==='mixed'&&_0x39e1b6[_0x4798b4(0x698)])&&(_0x3af03c[_0x4798b4(0x698)]=_0x39e1b6[_0x4798b4(0x698)]||''),_0x3af03c['questionType']===_0x4798b4(0x8e2)&&(_0x3af03c['correctAnswer']=_0x39e1b6['correctAnswer']===!![]),_0x3af03c[_0x4798b4(0x434)]===_0x4798b4(0x463)&&(_0x3af03c['stem']=_0x39e1b6[_0x4798b4(0x7e5)]||'',_0x3af03c[_0x4798b4(0xa81)]=_0x39e1b6[_0x4798b4(0xa81)]||'',_0x3af03c['allResponses']=_0x39e1b6[_0x4798b4(0x749)]||[]),_0x3af03c;}),_0x211c82={'topic':_0x22748a,'quizType':currentQuizData[_0x3733f5(0x677)]||_0x3733f5(0xc24),'questions':_0x3e824d,'projectId':_0x4d85c9,'createdBy':userId,'createdAt':new Date()[_0x3733f5(0x3a7)](),'status':_0x3733f5(0x455),'settings':_0x2c7ade,'quizMode':_0x5d4f0e?_0x3733f5(0x391):_0x3733f5(0xb89),'pairedQuizId':null,'lessonPlan':null};let _0x443897;while(!![]){_0x443897=Math['floor'](0x3e8+Math[_0x3733f5(0xc45)]()*0x2328)[_0x3733f5(0xa76)]();const _0x298f45=await getDoc(doc(db,'artifacts/'+appId+_0x3733f5(0x46a),_0x443897));if(!_0x298f45['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x443897),_0x211c82);if(_0x487de9&&currentBlueprintProjectId){console[_0x3733f5(0xced)](_0x3733f5(0x3b0)+_0x443897+_0x3733f5(0x645)+_0x487de9);try{const _0x7a10ab=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x7a10ab,{[_0x3733f5(0x65a)+_0x487de9+_0x3733f5(0xbfa)]:arrayUnion(_0x443897)});}catch(_0x4b7a68){console['error']('Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:',_0x4b7a68);}}currentQuizData[_0x3733f5(0x3c1)]=_0x2c7ade,currentQuizData['id']=_0x443897;const _0x4d0693=document[_0x3733f5(0x360)](_0x3733f5(0x5bc));_0x4d0693[_0x3733f5(0x1a0)]=_0x3733f5(0xa23)+_0x443897+_0x3733f5(0x30f),document[_0x3733f5(0x360)](_0x3733f5(0x49f))['addEventListener'](_0x3733f5(0xc47),()=>copyTextToClipboard(_0x443897,'คัดลอกรหัสแล้ว!')),document[_0x3733f5(0x360)]('start-live-race-generated-btn')['addEventListener'](_0x3733f5(0xc47),()=>handleStartLiveRace(_0x443897)),document[_0x3733f5(0x360)]('start-presentation-btn')['addEventListener'](_0x3733f5(0xc47),()=>startPresentation(currentQuizData)),document[_0x3733f5(0x360)](_0x3733f5(0x9d8))[_0x3733f5(0x616)](_0x3733f5(0xc47),startAdminTest),showMessage(_0x3733f5(0x6b6));}catch(_0x3c02a7){console['error'](_0x3733f5(0x23d),_0x3c02a7),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x543d78[_0x3733f5(0xa78)]=![],_0x543d78[_0x3733f5(0x1a0)]=_0x3733f5(0xa10);}}function promptForProjectAndSave(){const _0x1edd2a=_0x18fcf7,_0x207d4f=document[_0x1edd2a(0x360)](_0x1edd2a(0x54c)),_0x4cd811=document['getElementById'](_0x1edd2a(0x3c2)),_0x49fe0d=_0x207d4f[_0x1edd2a(0xc8a)]('h3'),_0x5c1fa1=document[_0x1edd2a(0x360)]('confirm-move-quiz-btn');_0x49fe0d[_0x1edd2a(0x946)]=_0x1edd2a(0x631),_0x5c1fa1[_0x1edd2a(0x946)]=_0x1edd2a(0x91c);allProjects[_0x1edd2a(0x633)]===0x0?(_0x4cd811[_0x1edd2a(0x1a0)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x5c1fa1['disabled']=!![]):(_0x4cd811[_0x1edd2a(0x1a0)]=allProjects[_0x1edd2a(0x985)](_0x2fa997=>'<option\x20value=\x22'+_0x2fa997['id']+'\x22>'+_0x2fa997[_0x1edd2a(0x8f5)]+_0x1edd2a(0x76e))[_0x1edd2a(0x155)](''),_0x5c1fa1[_0x1edd2a(0xa78)]=![]);_0x207d4f[_0x1edd2a(0x5a1)][_0x1edd2a(0xbee)](_0x1edd2a(0x29e));const _0x49df6d=()=>{const _0x2a31ca=_0x1edd2a,_0x1a0c02=_0x4cd811[_0x2a31ca(0x1db)];_0x1a0c02?(currentProjectId=_0x1a0c02,_0x207d4f[_0x2a31ca(0x5a1)]['add'](_0x2a31ca(0x29e)),saveQuiz(),_0x49fe0d[_0x2a31ca(0x946)]=_0x2a31ca(0x823),_0x5c1fa1[_0x2a31ca(0x946)]=_0x2a31ca(0x77e),_0x5c1fa1[_0x2a31ca(0xb86)](_0x2a31ca(0xc47),_0x49df6d),_0x5c1fa1[_0x2a31ca(0x616)](_0x2a31ca(0xc47),confirmMoveQuiz)):showMessage(_0x2a31ca(0x8fd));};_0x5c1fa1[_0x1edd2a(0xb86)]('click',confirmMoveQuiz),_0x5c1fa1['addEventListener'](_0x1edd2a(0xc47),_0x49df6d);}function copyTextToClipboard(_0x4d2ec0,_0x7d4d69){const _0x1d7746=_0x18fcf7,_0x5e64d3=document['createElement'](_0x1d7746(0x149));_0x5e64d3[_0x1d7746(0x1db)]=_0x4d2ec0,_0x5e64d3[_0x1d7746(0xbce)][_0x1d7746(0x739)]='fixed',_0x5e64d3[_0x1d7746(0xbce)][_0x1d7746(0x82f)]='0',document[_0x1d7746(0x9c6)][_0x1d7746(0x661)](_0x5e64d3),_0x5e64d3['focus'](),_0x5e64d3[_0x1d7746(0x9a9)]();try{const _0x68c1be=document[_0x1d7746(0x140)](_0x1d7746(0x54a));showMessage(_0x68c1be?_0x7d4d69:'คัดลอกไม่สำเร็จ');}catch(_0x1174a0){showMessage('คัดลอกไม่สำเร็จ'),console[_0x1d7746(0x537)](_0x1d7746(0x297),_0x1174a0);}document[_0x1d7746(0x9c6)][_0x1d7746(0x95d)](_0x5e64d3);}function listenForProjectQuizzes(_0x2f4d7){const _0x3ceee6=_0x18fcf7,_0x10d6ea=collection(db,_0x3ceee6(0x944)+appId+'/public/data/quizzes'),_0x39ff1e=query(_0x10d6ea,where(_0x3ceee6(0x15d),'==',_0x2f4d7));unsubscribeQuizzesListener=onSnapshot(_0x39ff1e,async _0x29c6db=>{const _0x19078b=_0x3ceee6;allQuizzes=_0x29c6db[_0x19078b(0x8d0)][_0x19078b(0x985)](_0x4ca2cd=>({'id':_0x4ca2cd['id'],..._0x4ca2cd[_0x19078b(0x9e7)]()})),renderQuizzes();},_0x4d50c3=>{const _0xebc633=_0x3ceee6;console[_0xebc633(0x537)](_0xebc633(0x4e4),_0x4d50c3),document[_0xebc633(0x360)]('project-quizzes-list')['innerHTML']='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x12d143=_0x18fcf7,_0x45ea98=document[_0x12d143(0x360)]('project-quizzes-list'),_0x4ac361=document['getElementById'](_0x12d143(0x893))[_0x12d143(0x1db)][_0x12d143(0xc54)]();let _0x10a0eb;currentProjectId===_0x12d143(0x216)?_0x10a0eb=starredQuizzes:_0x10a0eb=allQuizzes;let _0x1a1b29=_0x10a0eb[_0x12d143(0x2bb)](_0x58d2fe=>_0x58d2fe['topic'][_0x12d143(0xc54)]()[_0x12d143(0xba6)](_0x4ac361));_0x1a1b29[_0x12d143(0x5a4)]((_0x343341,_0x201763)=>new Date(_0x201763[_0x12d143(0x2b2)])-new Date(_0x343341['createdAt']));if(_0x1a1b29[_0x12d143(0x633)]===0x0){_0x45ea98[_0x12d143(0x1a0)]=_0x12d143(0x501);return;}const _0x218830={},_0x178fc1=_0x1a1b29['map'](async _0x46d1f5=>{const _0x230798=_0x12d143,_0x4523ad=collection(db,_0x230798(0x944)+appId+_0x230798(0x340)+_0x46d1f5['id']+'/submissions'),_0x17e538=await getDocs(_0x4523ad);_0x218830[_0x46d1f5['id']]=_0x17e538[_0x230798(0x8ae)];});await Promise[_0x12d143(0x9b3)](_0x178fc1);let _0x50a768='';_0x1a1b29[_0x12d143(0xc92)](_0x5484e0=>{const _0x58b44c=_0x12d143,_0x21d618=_0x218830[_0x5484e0['id']]||0x0,_0x3991b3=_0x5484e0[_0x58b44c(0x23b)]||_0x58b44c(0x455),_0x2cc70d=_0x5484e0[_0x58b44c(0x3c1)]?.[_0x58b44c(0x4f6)]||'none';let _0x2fb2e2='',_0x1267f9='';const _0x414d9c=new Date();let _0x482ea6=_0x3991b3;if(_0x3991b3===_0x58b44c(0x9fb)){const _0xe3355e=_0x5484e0[_0x58b44c(0xbde)]?new Date(_0x5484e0['startTime']):null,_0x134283=_0x5484e0[_0x58b44c(0x1dc)]?new Date(_0x5484e0[_0x58b44c(0x1dc)]):null;if(_0x134283&&_0x414d9c>_0x134283)_0x482ea6=_0x58b44c(0x565);else _0xe3355e&&_0x414d9c<_0xe3355e?_0x482ea6=_0x58b44c(0x224):_0x482ea6=_0x58b44c(0x455);}switch(_0x482ea6){case _0x58b44c(0x565):_0x2fb2e2=_0x58b44c(0x6c8),_0x1267f9=_0x58b44c(0x34a);break;case _0x58b44c(0x224):_0x2fb2e2=_0x58b44c(0xb4d),_0x1267f9=_0x58b44c(0x927);break;case'active':_0x2fb2e2=_0x2cc70d!==_0x58b44c(0x2da)?_0x58b44c(0xaab):_0x58b44c(0x4d1),_0x1267f9=_0x58b44c(0xae7);break;default:_0x2fb2e2=_0x58b44c(0xb09),_0x1267f9=_0x58b44c(0xae7);break;}let _0x350d10='';const _0x1ea179={'day':'2-digit','month':_0x58b44c(0x5bb),'year':_0x58b44c(0x5d7),'hour':_0x58b44c(0x5bb),'minute':_0x58b44c(0x5bb),'hour12':![]};if(_0x3991b3===_0x58b44c(0x9fb)){if(_0x5484e0[_0x58b44c(0xbde)])_0x350d10+=_0x58b44c(0x5d8)+new Date(_0x5484e0['startTime'])[_0x58b44c(0xcc2)](_0x58b44c(0x579),_0x1ea179)+'</p>';if(_0x5484e0[_0x58b44c(0x1dc)])_0x350d10+=_0x58b44c(0x41f)+new Date(_0x5484e0[_0x58b44c(0x1dc)])['toLocaleString'](_0x58b44c(0x579),_0x1ea179)+_0x58b44c(0x2ea);}let _0x256814='';if(_0x5484e0['pairedQuizId']){const _0x21684e=allQuizzes[_0x58b44c(0x64b)](_0xe917c9=>_0xe917c9['id']===_0x5484e0[_0x58b44c(0x9df)]);if(_0x21684e){let _0x2119ca,_0x7a70ca;new Date(_0x5484e0['createdAt'])<new Date(_0x21684e['createdAt'])?(_0x2119ca=_0x5484e0['id'],_0x7a70ca=_0x21684e['id']):(_0x2119ca=_0x21684e['id'],_0x7a70ca=_0x5484e0['id']),_0x256814+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x7a70ca+_0x58b44c(0x4eb)+_0x2119ca+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x5484e0[_0x58b44c(0x335)]===_0x58b44c(0x391)&&(_0x256814+=_0x58b44c(0xcff)+_0x5484e0['id']+_0x58b44c(0xcc0));if(_0x5484e0['quizMode']===_0x58b44c(0x391)&&_0x21d618>0x0)_0x256814+=_0x58b44c(0xcff)+_0x5484e0['id']+_0x58b44c(0x777);else!_0x5484e0[_0x58b44c(0x9df)]&&_0x5484e0[_0x58b44c(0x335)]!==_0x58b44c(0x391)&&_0x21d618>0x0&&(_0x256814+=_0x58b44c(0xcff)+_0x5484e0['id']+_0x58b44c(0x9bc));let _0x31faf4='';_0x5484e0[_0x58b44c(0x9df)]?_0x31faf4='<button\x20data-quiz-id=\x22'+_0x5484e0['id']+_0x58b44c(0xb14):_0x31faf4=_0x58b44c(0x419)+_0x5484e0['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x50a768+=_0x58b44c(0x536)+_0x5484e0['id']+_0x58b44c(0x380)+_0x5484e0[_0x58b44c(0x94f)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x5484e0[_0x58b44c(0x3b7)]['length']+_0x58b44c(0x99a)+new Date(_0x5484e0['createdAt'])[_0x58b44c(0xcc2)](_0x58b44c(0x579))+_0x58b44c(0x13d)+_0x21d618+_0x58b44c(0x85a)+_0x350d10+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x1267f9+'\x22>'+_0x2fb2e2+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5484e0['id']+_0x58b44c(0x6db)+_0x5484e0['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x5484e0[_0x58b44c(0x88f)]?_0x58b44c(0x93e):_0x58b44c(0x47b))+_0x58b44c(0xc69)+_0x256814+_0x58b44c(0x7e6)+_0x5484e0['id']+_0x58b44c(0x835)+_0x5484e0['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5484e0['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5484e0['id']+_0x58b44c(0xca4)+_0x5484e0['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5484e0['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5484e0['id']+'\x22\x20data-topic=\x22'+_0x5484e0[_0x58b44c(0x94f)]+_0x58b44c(0x887)+_0x5484e0['id']+_0x58b44c(0x8b4)+_0x5484e0['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31faf4+_0x58b44c(0x468)+_0x5484e0['id']+_0x58b44c(0x630)+_0x5484e0['id']+_0x58b44c(0xb1e)+_0x5484e0['id']+_0x58b44c(0xcd3)+_0x5484e0['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5484e0['id']+_0x58b44c(0xb79)+_0x5484e0['id']+_0x58b44c(0x446)+_0x5484e0['id']+_0x58b44c(0x38f)+_0x5484e0['id']+_0x58b44c(0x71f)+_0x5484e0['topic']+_0x58b44c(0x16f)+_0x5484e0['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x45ea98[_0x12d143(0x1a0)]=_0x50a768,document[_0x12d143(0x801)](_0x12d143(0x35d))[_0x12d143(0xc92)](_0xc46eeb=>{const _0x1ed102=_0x12d143;_0xc46eeb[_0x1ed102(0x616)](_0x1ed102(0xc47),()=>{const _0x520e1c=_0x1ed102,_0x2db001=_0xc46eeb[_0x520e1c(0x9d2)]['quizId'];showQuizDetailView(_0x2db001);});});}async function handleUnpairQuiz(_0x143325){const _0xcf4bd1=_0x18fcf7,_0x5705b0=allQuizzes[_0xcf4bd1(0x64b)](_0x2be906=>_0x2be906['id']===_0x143325);if(!_0x5705b0||!_0x5705b0[_0xcf4bd1(0x9df)]){showMessage(_0xcf4bd1(0x440));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x408dca=_0xcf4bd1;try{const _0x54647e=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x143325),_0x3af1a2=doc(db,_0x408dca(0x944)+appId+_0x408dca(0x46a),_0x5705b0[_0x408dca(0x9df)]),_0x3540eb=writeBatch(db);_0x3540eb[_0x408dca(0xc50)](_0x54647e,{'pairedQuizId':null}),_0x3540eb[_0x408dca(0xc50)](_0x3af1a2,{'pairedQuizId':null}),await _0x3540eb[_0x408dca(0xb69)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x32527d){console[_0x408dca(0x537)](_0x408dca(0x156),_0x32527d),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x4067e8,_0x5bcff9){const _0x1f2865=_0x18fcf7,_0xd4917a=window['open']('','_blank'),_0x364f6f=_0x1f2865(0xc51)+_0x5bcff9[_0x1f2865(0x94f)]+_0x1f2865(0x37d)+_0x5bcff9['topic']+_0x1f2865(0xcba)+_0x4067e8[_0x1f2865(0x63c)][_0x1f2865(0x985)](_0x47c200=>_0x1f2865(0x859)+_0x47c200+'</li>')[_0x1f2865(0x155)]('')+_0x1f2865(0x1fd)+_0x4067e8['teachingContent']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4067e8[_0x1f2865(0xb99)]['map'](_0x12c2cf=>_0x1f2865(0x5ab)+_0x12c2cf[_0x1f2865(0x13f)]+_0x1f2865(0x928)+_0x12c2cf['solution']+_0x1f2865(0x1ef))[_0x1f2865(0x155)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0xd4917a['document']['write'](_0x364f6f),_0xd4917a[_0x1f2865(0x4f9)][_0x1f2865(0x914)](),_0xd4917a[_0x1f2865(0x1e8)]=function(){setTimeout(()=>{const _0x34d6e9=_0x20ce;_0xd4917a[_0x34d6e9(0x5ac)]();},0x3e8);};}async function handleAiFixFormula(_0x2287a8){const _0x32b3da=_0x18fcf7,_0x229915=document[_0x32b3da(0xc8a)](_0x32b3da(0x6ed)+_0x2287a8+'\x22]');if(!_0x229915)return;const _0x4f8d27=_0x229915[_0x32b3da(0x9d2)]['qType'],_0x49f2e1=_0x229915[_0x32b3da(0xc8a)](_0x32b3da(0x2d2));let _0x5115d1={'question':_0x229915[_0x32b3da(0xc8a)](_0x32b3da(0x149))['value']};switch(_0x4f8d27){case'multiple_choice':_0x5115d1[_0x32b3da(0x211)]=Array[_0x32b3da(0x7bc)](_0x229915[_0x32b3da(0x801)](_0x32b3da(0x190)))[_0x32b3da(0x985)](_0x564bf5=>_0x564bf5['value']);break;case _0x32b3da(0x693):_0x5115d1[_0x32b3da(0x698)]=_0x229915[_0x32b3da(0xc8a)](_0x32b3da(0x331))[_0x32b3da(0x1db)];break;case'matching_item':_0x5115d1[_0x32b3da(0xa81)]=_0x229915[_0x32b3da(0xc8a)](_0x32b3da(0x69e))[_0x32b3da(0x1db)];break;}_0x49f2e1[_0x32b3da(0x1a0)]=_0x32b3da(0x89d),_0x49f2e1['disabled']=!![];try{const _0x2f1097='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON[_0x32b3da(0x639)](_0x5115d1)+_0x32b3da(0x751),_0x22693c={'type':_0x32b3da(0x6f6),'properties':{'fixedData':{'type':_0x32b3da(0x6f6),'properties':{'question':{'type':_0x32b3da(0x279)},'options':{'type':_0x32b3da(0x512),'items':{'type':_0x32b3da(0x279)}},'idealAnswer':{'type':_0x32b3da(0x279)},'correctResponse':{'type':_0x32b3da(0x279)}},'required':['question']}},'required':[_0x32b3da(0x3f0)]},_0x157be2=await callAnalysisApi(_0x2f1097,_0x22693c);if(_0x157be2&&_0x157be2['fixedData']){const _0x34d015=_0x157be2[_0x32b3da(0x3f0)];_0x229915[_0x32b3da(0xc8a)](_0x32b3da(0x149))['value']=_0x34d015['question']||_0x5115d1[_0x32b3da(0x13f)];switch(_0x4f8d27){case _0x32b3da(0xc24):_0x34d015[_0x32b3da(0x211)]&&_0x34d015[_0x32b3da(0x211)][_0x32b3da(0x633)]>0x0&&_0x229915[_0x32b3da(0x801)](_0x32b3da(0x190))['forEach']((_0x11269a,_0x540124)=>{const _0x24f07f=_0x32b3da;_0x11269a[_0x24f07f(0x1db)]=_0x34d015[_0x24f07f(0x211)][_0x540124]||_0x5115d1['options'][_0x540124];});break;case _0x32b3da(0x693):_0x229915[_0x32b3da(0xc8a)](_0x32b3da(0x331))[_0x32b3da(0x1db)]=_0x34d015[_0x32b3da(0x698)]||_0x5115d1[_0x32b3da(0x698)];break;case'matching_item':_0x229915[_0x32b3da(0xc8a)](_0x32b3da(0x69e))[_0x32b3da(0x1db)]=_0x34d015[_0x32b3da(0xa81)]||_0x5115d1[_0x32b3da(0xa81)];break;}if(_0x5115d1['question']!==_0x34d015[_0x32b3da(0x13f)])try{const _0x18d722=collection(db,_0x32b3da(0x944)+appId+_0x32b3da(0x45e));await addDoc(_0x18d722,{'broken':_0x5115d1['question'],'fixed':_0x34d015[_0x32b3da(0x13f)],'createdAt':serverTimestamp()});}catch(_0x5b5a23){console[_0x32b3da(0x537)](_0x32b3da(0xb64),_0x5b5a23);}showMessage(_0x32b3da(0x3fd));}else throw new Error(_0x32b3da(0x50d));}catch(_0x23a8d5){console[_0x32b3da(0x537)](_0x32b3da(0x313),_0x23a8d5),showMessage(_0x32b3da(0x36c));}finally{_0x49f2e1[_0x32b3da(0x1a0)]='<i\x20class=\x22fas\x20fa-magic\x22></i>',_0x49f2e1['disabled']=![];}}async function handleGenerateLessonPlan(_0x59d243){const _0x3ca78d=_0x18fcf7;showMessage(_0x3ca78d(0x916));try{const _0x4c0c58=doc(db,_0x3ca78d(0x944)+appId+_0x3ca78d(0x46a),_0x59d243),_0x294de9=await getDoc(_0x4c0c58);if(!_0x294de9[_0x3ca78d(0x815)]())throw new Error(_0x3ca78d(0x9c8));const _0x4232dc={'id':_0x59d243,..._0x294de9[_0x3ca78d(0x9e7)]()},_0x40aa23=collection(db,_0x3ca78d(0x944)+appId+_0x3ca78d(0x46a),_0x59d243,'submissions'),_0x5bc111=await getDocs(_0x40aa23),_0x309cd4=_0x5bc111[_0x3ca78d(0x8d0)][_0x3ca78d(0x985)](_0x4ed795=>_0x4ed795[_0x3ca78d(0x9e7)]());if(_0x309cd4[_0x3ca78d(0x633)]===0x0)throw new Error(_0x3ca78d(0xbd4));const _0x6bd2ab=calculateItemAnalysis(_0x4232dc,_0x309cd4)[_0x3ca78d(0x7aa)],_0x2f3b7c=calculateDistractorAnalysis(_0x4232dc,_0x309cd4),_0x42090=_0x3b476c=>{const _0x299f10=_0x3ca78d;if(!_0x3b476c)return'';return _0x3b476c[_0x299f10(0x955)](/\\/g,'\x5c\x5c')[_0x299f10(0x955)](/"/g,'\x5c\x22')[_0x299f10(0x955)](/\n/g,'\x5cn');};let _0x3aff00='สรุปผลการวิเคราะห์:\x5cn';_0x4232dc[_0x3ca78d(0x3b7)]['forEach']((_0x4e9b8a,_0x22ea9f)=>{const _0x1f1510=_0x3ca78d,_0x29a150=_0x6bd2ab[_0x22ea9f]?.['p'][_0x1f1510(0x8ac)](0x2)||_0x1f1510(0xc1c),_0xd38dd8=_0x6bd2ab[_0x22ea9f]?.['r'][_0x1f1510(0x8ac)](0x2)||_0x1f1510(0xc1c),_0x53701a=_0x42090(_0x4e9b8a[_0x1f1510(0xcec)]||_0x4e9b8a[_0x1f1510(0x7e5)]);_0x3aff00+=_0x1f1510(0xc59)+(_0x22ea9f+0x1)+'\x20(p='+_0x29a150+_0x1f1510(0x7d2)+_0xd38dd8+_0x1f1510(0x971)+_0x53701a+'\x5cn';if(_0x4e9b8a[_0x1f1510(0x434)]===_0x1f1510(0xc24)&&_0x2f3b7c[_0x22ea9f]){const _0xbdc0b4=_0x2f3b7c[_0x22ea9f],_0x42ccf4=Object[_0x1f1510(0xa9d)](_0xbdc0b4)[_0x1f1510(0x2bb)](_0x557c8d=>parseInt(_0x557c8d)!==_0x4e9b8a['correctAnswerIndex'])[_0x1f1510(0x5a4)]((_0xda22,_0x186340)=>_0xbdc0b4[_0x186340][_0x1f1510(0x683)]-_0xbdc0b4[_0xda22][_0x1f1510(0x683)])[0x0];if(_0x42ccf4&&_0xbdc0b4[_0x42ccf4]['total']>0x0){const _0x5bb134=_0x42090(_0xbdc0b4[_0x42ccf4][_0x1f1510(0xc85)]);_0x3aff00+=_0x1f1510(0xae3)+_0x5bb134+_0x1f1510(0x307);}}});const _0x325319=_0x3ca78d(0xce6)+_0x4232dc[_0x3ca78d(0x94f)]+_0x3ca78d(0xa86)+_0x3aff00+_0x3ca78d(0x5fd),_0x152266={'type':'OBJECT','properties':{'learningGaps':{'type':_0x3ca78d(0x512),'items':{'type':'STRING'}},'teachingContent':{'type':_0x3ca78d(0x279)},'practiceProblems':{'type':_0x3ca78d(0x512),'items':{'type':_0x3ca78d(0x6f6),'properties':{'question':{'type':_0x3ca78d(0x279)},'solution':{'type':_0x3ca78d(0x279)}}}}},'required':['learningGaps','teachingContent','practiceProblems']},_0x2ffbb5=await callAnalysisApi(_0x325319,_0x152266);await updateDoc(_0x4c0c58,{'lessonPlan':_0x2ffbb5});const _0x3bde75=_0x3ca78d(0x171)+_0x4232dc[_0x3ca78d(0x94f)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x2ffbb5['learningGaps'][_0x3ca78d(0x985)](_0x1613d8=>_0x3ca78d(0x859)+_0x1613d8+'</li>')[_0x3ca78d(0x155)]('')+_0x3ca78d(0x2c7)+_0x2ffbb5[_0x3ca78d(0x4a7)]+_0x3ca78d(0x44c)+_0x2ffbb5[_0x3ca78d(0xb99)][_0x3ca78d(0x985)](_0x3748b5=>_0x3ca78d(0x256)+_0x3748b5['question']+_0x3ca78d(0x583)+_0x3748b5[_0x3ca78d(0x773)]+_0x3ca78d(0xc57))[_0x3ca78d(0x155)]('')+_0x3ca78d(0xcaa);document[_0x3ca78d(0x360)](_0x3ca78d(0x5ca))[_0x3ca78d(0x946)]='แผนการสอน:\x20'+_0x4232dc[_0x3ca78d(0x94f)],document[_0x3ca78d(0x360)]('lesson-plan-content')[_0x3ca78d(0x1a0)]=_0x3bde75,document['getElementById'](_0x3ca78d(0xbe7))[_0x3ca78d(0x5a1)]['remove'](_0x3ca78d(0x29e));if(window[_0x3ca78d(0xb63)])MathJax[_0x3ca78d(0x5b0)]();messageModal[_0x3ca78d(0x5a1)]['add'](_0x3ca78d(0x29e));}catch(_0x5e26d2){console['error'](_0x3ca78d(0xcb0),_0x5e26d2),showMessage(_0x3ca78d(0x920)+_0x5e26d2[_0x3ca78d(0x42e)]);}}async function handleDuplicateQuiz(_0x2078da){const _0x56fe99=_0x18fcf7;try{const _0x4ea586=doc(db,_0x56fe99(0x944)+appId+_0x56fe99(0x46a),_0x2078da),_0x25cf4=await getDoc(_0x4ea586);if(_0x25cf4['exists']()){const _0x22f4a3=_0x25cf4[_0x56fe99(0x9e7)]();let _0x52730c='',_0x5f84f9=_0x56fe99(0xb89),_0xd310e7=null;if(_0x22f4a3[_0x56fe99(0x335)]===_0x56fe99(0x391)){let _0x32924c=_0x22f4a3[_0x56fe99(0x94f)][_0x56fe99(0x955)](_0x56fe99(0x984),'')[_0x56fe99(0x665)]();_0x52730c=_0x56fe99(0xbf8)+_0x32924c,_0x5f84f9='post-test',_0xd310e7=_0x2078da;}else _0x52730c='(คัดลอก)\x20'+_0x22f4a3[_0x56fe99(0x94f)];const _0xd168f1={..._0x22f4a3,'topic':_0x52730c,'createdAt':new Date()[_0x56fe99(0x3a7)](),'quizMode':_0x5f84f9,'pairedQuizId':_0xd310e7};let _0x9fc57c;while(!![]){_0x9fc57c=Math[_0x56fe99(0x910)](0x3e8+Math[_0x56fe99(0xc45)]()*0x2328)[_0x56fe99(0xa76)]();const _0x495469=await getDoc(doc(db,_0x56fe99(0x944)+appId+_0x56fe99(0x46a),_0x9fc57c));if(!_0x495469['exists']())break;}const _0x17a772=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x9fc57c);await setDoc(_0x17a772,_0xd168f1),_0xd168f1[_0x56fe99(0x335)]===_0x56fe99(0xaa0)&&await updateDoc(_0x4ea586,{'pairedQuizId':_0x9fc57c}),showMessage(_0x56fe99(0x5b2));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x46dede){console[_0x56fe99(0x537)](_0x56fe99(0x9b2),_0x46dede),showMessage(_0x56fe99(0x86b));}}async function handleDeleteQuiz(_0x5ef1b8,_0x1eb087=!![]){const _0x45e049=_0x18fcf7;try{const _0x2dc5b1=writeBatch(db),_0x39630b=collection(db,_0x45e049(0x944)+appId+_0x45e049(0x340)+_0x5ef1b8+'/submissions'),_0xec2940=await getDocs(_0x39630b);_0xec2940[_0x45e049(0xc92)](_0x4f219a=>{const _0x2883ae=_0x45e049;_0x2dc5b1[_0x2883ae(0x9e5)](doc(_0x39630b,_0x4f219a['id']));});const _0x6bcf90=doc(db,_0x45e049(0x944)+appId+_0x45e049(0x46a),_0x5ef1b8);_0x2dc5b1[_0x45e049(0x9e5)](_0x6bcf90),await _0x2dc5b1[_0x45e049(0xb69)]();try{console[_0x45e049(0xced)](_0x45e049(0xbb3)+_0x5ef1b8+_0x45e049(0x2db));const _0x49a35b=collection(db,'artifacts/'+appId+'/public/data/blueprintProjects'),_0x49ed01=await getDocs(_0x49a35b),_0x4544b0=[];_0x49ed01[_0x45e049(0xc92)](_0x1b3a11=>{const _0x4b75b3=_0x45e049,_0x4ea97e=_0x1b3a11['data'](),_0x41112f=_0x4ea97e[_0x4b75b3(0xb7a)]||{};let _0x21f2ee=![];for(const _0x44a29b in _0x41112f){const _0x398f10=_0x41112f[_0x44a29b];if(_0x398f10['linkedQuizIds']&&_0x398f10[_0x4b75b3(0x72f)][_0x4b75b3(0xba6)](_0x5ef1b8)){_0x21f2ee=!![];const _0x45a900=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',_0x1b3a11['id']),_0x3981d9=updateDoc(_0x45a900,{[_0x4b75b3(0x65a)+_0x44a29b+'.linkedQuizIds']:arrayRemove(_0x5ef1b8)});_0x4544b0[_0x4b75b3(0x62c)](_0x3981d9);}}}),_0x4544b0[_0x45e049(0x633)]>0x0&&(await Promise[_0x45e049(0x9b3)](_0x4544b0),console[_0x45e049(0xced)](_0x45e049(0xa71)+_0x4544b0['length']+_0x45e049(0x285)+_0x5ef1b8+'.'));}catch(_0x4d19df){console['error'](_0x45e049(0x8ee),_0x4d19df);}_0x1eb087&&showMessage(_0x45e049(0xabf));}catch(_0x38688a){console[_0x45e049(0x537)](_0x45e049(0xabb),_0x38688a),_0x1eb087&&showMessage(_0x45e049(0xcd4));}}async function showQuizDetailView(_0x19cdcc){const _0xe25f21=_0x18fcf7;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0xe25f21(0x7be));try{const _0x5831ee=doc(db,'artifacts/'+appId+_0xe25f21(0x46a),_0x19cdcc),_0x438d90=await getDoc(_0x5831ee);if(!_0x438d90[_0xe25f21(0x815)]()){showMessage(_0xe25f21(0x9c8));return;}const _0x406ae3={'id':_0x438d90['id'],..._0x438d90[_0xe25f21(0x9e7)]()};currentQuizData=_0x406ae3;const _0xd5a59e=doc(db,_0xe25f21(0x944)+appId+_0xe25f21(0x382),_0x406ae3['projectId']),_0x17196c=await getDoc(_0xd5a59e);_0x17196c[_0xe25f21(0x815)]()?(currentProjectData=_0x17196c['data'](),currentProjectId=_0x406ae3[_0xe25f21(0x15d)]):(currentProjectData={'students':[]},currentProjectId=_0x406ae3['projectId']);document[_0xe25f21(0x360)]('results-quiz-title')['textContent']=_0x406ae3[_0xe25f21(0x94f)],document[_0xe25f21(0x360)]('results-quiz-id-display')[_0xe25f21(0x946)]=_0x19cdcc;const _0x1f44de=collection(db,_0xe25f21(0x944)+appId+_0xe25f21(0x46a),_0x19cdcc,_0xe25f21(0x8eb));unsubscribeSubmissionsListener=onSnapshot(_0x1f44de,_0x1695c1=>{const _0x4a7b1a=_0xe25f21,_0x5635e6=_0x1695c1[_0x4a7b1a(0x8d0)][_0x4a7b1a(0x985)](_0xb76ca6=>({'id':_0xb76ca6['id'],..._0xb76ca6[_0x4a7b1a(0x9e7)]()}));currentSubmissions=_0x5635e6;const _0x50ed64=_0x5635e6[_0x4a7b1a(0x2bb)](_0x593abd=>_0x593abd[_0x4a7b1a(0xc5e)]&&_0x593abd[_0x4a7b1a(0xc5e)][_0x4a7b1a(0x633)]>0x0);renderBehaviorLog(_0x5635e6),renderAnswerGrid(currentProjectData[_0x4a7b1a(0x257)],_0x50ed64,_0x406ae3),renderAnalytics(_0x406ae3,_0x50ed64),renderQuizResultsTable(currentProjectData[_0x4a7b1a(0x257)],_0x5635e6,_0x406ae3),renderQuizLeaderboard(_0x50ed64,_0x406ae3,'quiz-leaderboard-table-body');}),showView(_0xe25f21(0x1a7));}catch(_0x4cf3c9){console[_0xe25f21(0x537)](_0xe25f21(0x3dc),_0x4cf3c9),showMessage(_0xe25f21(0x454));}}function renderAnswerGrid(_0x52539a,_0x165774,_0x3ec324){const _0x31e46b=_0x18fcf7,_0x248116=document[_0x31e46b(0x360)](_0x31e46b(0x975));if(!_0x248116)return;if(!_0x52539a||_0x52539a[_0x31e46b(0x633)]===0x0){_0x248116[_0x31e46b(0x1a0)]=_0x31e46b(0x898);return;}const _0x4f8234=_0x3ec324['questions'],_0x147852=_0x165774['reduce']((_0xe4063c,_0x2a3aee)=>{const _0x5ca6df=_0x31e46b;return _0xe4063c[_0x2a3aee[_0x5ca6df(0x372)]]=_0x2a3aee,_0xe4063c;},{}),_0x33325d=_0x56d441=>String['fromCharCode'](0x41+_0x56d441),_0x15c30c=_0x161e21=>{const _0x21b6a4=_0x31e46b,_0x513e31=_0x161e21[_0x21b6a4(0x434)]||_0x3ec324['quizType'];switch(_0x513e31){case'multiple_choice':return _0x161e21[_0x21b6a4(0x211)]&&_0x161e21[_0x21b6a4(0x211)][_0x21b6a4(0x633)]>_0x161e21[_0x21b6a4(0x274)]?_0x33325d(_0x161e21[_0x21b6a4(0x274)]):'-';case'true_false':const _0x2e5424=_0x161e21[_0x21b6a4(0x30e)]===!![]||String(_0x161e21['correctAnswer'])[_0x21b6a4(0xc54)]()===_0x21b6a4(0x426);return _0x2e5424?'ใช่':_0x21b6a4(0x7e9);case _0x21b6a4(0x463):return _0x161e21['correctResponse']||'-';case _0x21b6a4(0x693):return _0x21b6a4(0x27e);default:return'-';}},_0x187f31=(_0x33706c,_0x17ce34)=>{const _0x5cbb5c=_0x31e46b;if(_0x17ce34['answer']===null||_0x17ce34[_0x5cbb5c(0x895)]===undefined)return'-';const _0x232b67=_0x33706c['questionType']||_0x3ec324[_0x5cbb5c(0x677)];switch(_0x232b67){case _0x5cbb5c(0xc24):const _0xa2af1a=_0x33706c[_0x5cbb5c(0x211)][_0x5cbb5c(0x1b7)](_0x36bb5d=>_0x36bb5d===_0x17ce34[_0x5cbb5c(0x323)]);return _0xa2af1a!==-0x1?_0x33325d(_0xa2af1a):_0x17ce34[_0x5cbb5c(0x323)]||'-';case'true_false':if(_0x17ce34['answer']=='0'||_0x17ce34['answer']===!![]||_0x17ce34[_0x5cbb5c(0x895)]===_0x5cbb5c(0x426))return'ใช่';return'ไม่ใช่';default:return _0x17ce34[_0x5cbb5c(0x895)];}};let _0x439d3f=_0x31e46b(0xc9e)+_0x4f8234[_0x31e46b(0x985)]((_0x56e50d,_0x23b07d)=>_0x31e46b(0xb53)+(_0x23b07d+0x1)+_0x31e46b(0x3ab))[_0x31e46b(0x155)]('')+_0x31e46b(0x967)+_0x4f8234['map'](_0x5e2eb7=>_0x31e46b(0x355)+_0x15c30c(_0x5e2eb7)+_0x31e46b(0x5e4))[_0x31e46b(0x155)]('')+_0x31e46b(0xaa6);_0x52539a['forEach'](_0x58f18e=>{const _0x526516=_0x31e46b;_0x439d3f+='<tr>',_0x439d3f+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x58f18e+_0x526516(0x5e4);const _0x485afb=_0x147852[_0x58f18e];if(_0x485afb){const _0x158df0=_0x485afb[_0x526516(0xc5e)][_0x485afb['attempts'][_0x526516(0x633)]-0x1];_0x4f8234['forEach']((_0x3b009c,_0x56647d)=>{const _0x187ce2=_0x526516,_0x24e11f=_0x158df0[_0x187ce2(0x2e1)][_0x187ce2(0x64b)](_0x26a707=>_0x26a707[_0x187ce2(0x9ad)]===_0x3b009c['id']);if(_0x24e11f){let _0x195919='';const _0x29cfd3=_0x24e11f['isCorrect']===!![],_0x58ba4d=_0x24e11f[_0x187ce2(0x8bb)]===!![]||_0x24e11f[_0x187ce2(0x8bb)]===_0x187ce2(0xb05);_0x58ba4d?_0x195919=_0x29cfd3?_0x187ce2(0xa91):_0x187ce2(0x9d3):_0x195919=_0x29cfd3?'bg-green-100':_0x187ce2(0x46c),_0x439d3f+=_0x187ce2(0x92e)+_0x195919+'\x22>'+_0x187f31(_0x3b009c,_0x24e11f)+_0x187ce2(0x5e4);}else _0x439d3f+=_0x187ce2(0x2bc);});}else _0x439d3f+=_0x4f8234['map'](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x526516(0x155)]('');_0x439d3f+=_0x526516(0x923);}),_0x439d3f+='</tbody></table>',_0x248116['innerHTML']=_0x439d3f;}function renderQuizResultsTable(_0x26b157,_0x5a70c8,_0x23c3f9){const _0x5de752=_0x18fcf7,_0x1b22b6=_0x5a70c8['reduce']((_0x2fb885,_0x149d1b)=>{const _0x572bed=_0x20ce;return _0x2fb885[_0x149d1b[_0x572bed(0x372)]]=_0x149d1b,_0x2fb885;},{}),_0x28c600=document[_0x5de752(0xc8a)](_0x5de752(0x79d));_0x28c600&&!_0x28c600[_0x5de752(0x1a0)]['includes'](_0x5de752(0x269))&&(_0x28c600['innerHTML']+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x3a0360=document[_0x5de752(0x360)]('quiz-results-table-body');if(!_0x26b157||_0x26b157['length']===0x0){_0x3a0360[_0x5de752(0x1a0)]='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x2892ef=_0x23c3f9[_0x5de752(0x91e)]===!![],_0x4fdb89=_0x23c3f9[_0x5de752(0x3c1)]?.[_0x5de752(0x9bd)]??-0x1;let _0xb894b4='';_0x26b157[_0x5de752(0xc92)](_0x19bf1f=>{const _0x59fa75=_0x5de752,_0x340c29=_0x1b22b6[_0x19bf1f];let _0x4a5e2b='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x2892ef?_0x59fa75(0x81c):_0x59fa75(0x5e9))+'\x22>'+(_0x2892ef?_0x59fa75(0x7dd):_0x59fa75(0x330))+'</span></td>';if(_0x340c29){if(_0x340c29[_0x59fa75(0xc5e)]&&_0x340c29[_0x59fa75(0xc5e)][_0x59fa75(0x633)]>0x0){let _0x502a62=_0x2892ef?_0x340c29[_0x59fa75(0xa4c)]===_0x340c29[_0x59fa75(0xcbd)]:_0x4fdb89!==-0x1&&_0x340c29['bestScore']>=_0x4fdb89;const _0x358595=_0x502a62?'bg-green-100\x20text-green-800':_0x59fa75(0x3df),_0x5c8fbb=_0x502a62?'ผ่าน':'ไม่ผ่าน',_0x8e5a3c=_0x59fa75(0x5ee)+_0x358595+'\x22>'+_0x5c8fbb+'</span></td>',_0x32cb77='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x340c29[_0x59fa75(0xc5e)]?.[_0x59fa75(0x633)]||0x1)+'\x20ครั้ง)</span></td>';_0xb894b4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x19bf1f+_0x59fa75(0x136)+_0x340c29[_0x59fa75(0xa4c)]+_0x59fa75(0x6e2)+_0x340c29[_0x59fa75(0xcbd)]+_0x59fa75(0x9e4)+_0x8e5a3c+_0x59fa75(0x813)+_0x4a5e2b+_0x59fa75(0x2dc)+_0x340c29[_0x59fa75(0x78c)]+_0x59fa75(0x6e2)+_0x340c29['totalQuestions']+_0x59fa75(0xb03)+_0x340c29[_0x59fa75(0xb72)]+_0x59fa75(0x6e2)+_0x340c29[_0x59fa75(0xcbd)]+_0x59fa75(0xba4)+(_0x340c29['points']||0x0)+_0x59fa75(0x9e4)+_0x32cb77+_0x59fa75(0x659)+new Date(_0x340c29[_0x59fa75(0x39d)])[_0x59fa75(0xcc2)](_0x59fa75(0x579))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x19bf1f+_0x59fa75(0x33a);}else{const _0x6595d0=_0x59fa75(0x780);_0xb894b4+=_0x59fa75(0x7a9)+_0x19bf1f+_0x59fa75(0x316)+_0x4a5e2b+_0x59fa75(0x60e)+_0x6595d0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x340c29['startedAt'])[_0x59fa75(0xcc2)](_0x59fa75(0x579))+_0x59fa75(0x547)+_0x19bf1f+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x548ea5='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0xb894b4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x19bf1f+_0x59fa75(0x7e8)+_0x4a5e2b+_0x59fa75(0x2bd)+_0x548ea5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x3a0360[_0x5de752(0x1a0)]=_0xb894b4;}async function confirmRenameQuiz(){const _0x42484f=_0x18fcf7,_0x2aa8c5=document['getElementById']('rename-quiz-input')[_0x42484f(0x1db)][_0x42484f(0x665)]();if(!_0x2aa8c5){showMessage(_0x42484f(0x65f));return;}if(!actionTargetId)return;const _0x5bea3f=doc(db,'artifacts/'+appId+_0x42484f(0x46a),actionTargetId);try{await updateDoc(_0x5bea3f,{'topic':_0x2aa8c5}),showMessage(_0x42484f(0x50c)),renameQuizModal['classList'][_0x42484f(0x1f5)](_0x42484f(0x29e)),actionTargetId=null;}catch(_0x46a551){console[_0x42484f(0x537)](_0x42484f(0x8ad),_0x46a551),showMessage(_0x42484f(0x7bb));}}async function handleMoveQuiz(_0x365d9b){const _0x9f0815=_0x18fcf7;actionTargetId=_0x365d9b;const _0x45324d=document[_0x9f0815(0x360)]('move-quiz-project-select');_0x45324d[_0x9f0815(0x1a0)]=_0x9f0815(0x7f0),moveQuizModal[_0x9f0815(0x5a1)]['remove'](_0x9f0815(0x29e));try{const _0x1edb28=collection(db,_0x9f0815(0x944)+appId+_0x9f0815(0x382)),_0x595fd7=await getDocs(_0x1edb28),_0x29073c=_0x595fd7[_0x9f0815(0x8d0)][_0x9f0815(0x985)](_0x5b358e=>({'id':_0x5b358e['id'],..._0x5b358e['data']()})),_0x2fcd7a=_0x29073c[_0x9f0815(0x2bb)](_0x1e5642=>_0x1e5642['id']!==currentProjectId);if(_0x2fcd7a[_0x9f0815(0x633)]===0x0){_0x45324d[_0x9f0815(0x1a0)]=_0x9f0815(0xb3b),document[_0x9f0815(0x360)]('confirm-move-quiz-btn')['disabled']=!![];return;}_0x45324d[_0x9f0815(0x1a0)]=_0x2fcd7a[_0x9f0815(0x985)](_0x25d09d=>'<option\x20value=\x22'+_0x25d09d['id']+'\x22>'+_0x25d09d[_0x9f0815(0x8f5)]+'</option>')[_0x9f0815(0x155)](''),document[_0x9f0815(0x360)]('confirm-move-quiz-btn')['disabled']=![];}catch(_0x426e17){console['error'](_0x9f0815(0x765),_0x426e17),showMessage(_0x9f0815(0xbdb)),moveQuizModal[_0x9f0815(0x5a1)][_0x9f0815(0x1f5)](_0x9f0815(0x29e));}}async function confirmMoveQuiz(){const _0x131317=_0x18fcf7,_0x203fbf=document['getElementById'](_0x131317(0x3c2))[_0x131317(0x1db)];if(!_0x203fbf){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x3ebbb6=doc(db,_0x131317(0x944)+appId+_0x131317(0x46a),actionTargetId);try{await updateDoc(_0x3ebbb6,{'projectId':_0x203fbf}),showMessage(_0x131317(0xc93)),moveQuizModal[_0x131317(0x5a1)]['add'](_0x131317(0x29e)),actionTargetId=null;}catch(_0x2eb05e){console[_0x131317(0x537)](_0x131317(0x17d),_0x2eb05e),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x3b6443){const _0x9d5dfe=_0x18fcf7;actionTargetId=_0x3b6443;const _0x40b294=doc(db,_0x9d5dfe(0x944)+appId+_0x9d5dfe(0x46a),_0x3b6443);try{const _0x2cba74=await getDoc(_0x40b294);if(_0x2cba74[_0x9d5dfe(0x815)]()){const _0x219a43=_0x2cba74[_0x9d5dfe(0x9e7)](),_0x1be65e=_0x219a43['settings']||{},_0x1d658f=_0x219a43[_0x9d5dfe(0x3b7)][_0x9d5dfe(0x633)];document[_0x9d5dfe(0x360)](_0x9d5dfe(0x7d5))[_0x9d5dfe(0x1db)]=_0x1be65e['shuffle']||'none',document[_0x9d5dfe(0x360)](_0x9d5dfe(0x430))['value']=_0x1be65e[_0x9d5dfe(0xb30)]||'show_results_and_answers',document[_0x9d5dfe(0x360)](_0x9d5dfe(0x303))[_0x9d5dfe(0x1db)]=_0x1be65e[_0x9d5dfe(0x4f6)]||_0x9d5dfe(0x2da),document[_0x9d5dfe(0x360)](_0x9d5dfe(0x7d0))[_0x9d5dfe(0x1db)]=_0x1be65e['timerDuration']||0xa,document['getElementById'](_0x9d5dfe(0x246))[_0x9d5dfe(0x1db)]=_0x1be65e['passingScore']||Math['floor'](_0x1d658f/0x2),document['getElementById'](_0x9d5dfe(0x246))[_0x9d5dfe(0x897)]=_0x1d658f,document[_0x9d5dfe(0x360)](_0x9d5dfe(0x17e))[_0x9d5dfe(0x5fc)]=_0x1be65e[_0x9d5dfe(0xb5a)]||![],document[_0x9d5dfe(0x360)](_0x9d5dfe(0x817))[_0x9d5dfe(0x5fc)]=_0x1be65e[_0x9d5dfe(0x24d)]||![];const _0x52c645=_0x1be65e['isConfidenceScoringEnabled']||![];document[_0x9d5dfe(0x360)]('modal-confidence-scoring-checkbox')[_0x9d5dfe(0x5fc)]=_0x52c645,document[_0x9d5dfe(0x360)](_0x9d5dfe(0x56f))[_0x9d5dfe(0x1db)]=_0x1be65e[_0x9d5dfe(0x530)]||_0x9d5dfe(0x93b);const _0x10ebe4=document['getElementById'](_0x9d5dfe(0x129));_0x10ebe4[_0x9d5dfe(0x5a1)][_0x9d5dfe(0xb4a)]('hidden',!_0x52c645),document['getElementById'](_0x9d5dfe(0x303))[_0x9d5dfe(0x71b)](new Event(_0x9d5dfe(0x251))),quizSettingsModal[_0x9d5dfe(0x5a1)][_0x9d5dfe(0xbee)](_0x9d5dfe(0x29e));}else showMessage(_0x9d5dfe(0x9c8));}catch(_0x397536){console[_0x9d5dfe(0x537)](_0x9d5dfe(0x960),_0x397536),showMessage(_0x9d5dfe(0x4b7));}}async function confirmQuizSettings(){const _0x120555=_0x18fcf7;if(!actionTargetId)return;const _0x3e867f=doc(db,'artifacts/'+appId+_0x120555(0x46a),actionTargetId),_0x364c69={'shuffle':document[_0x120555(0x360)](_0x120555(0x7d5))[_0x120555(0x1db)],'resultsDisplay':document['getElementById'](_0x120555(0x430))[_0x120555(0x1db)],'timerMode':document[_0x120555(0x360)](_0x120555(0x303))[_0x120555(0x1db)],'timerDuration':parseInt(document[_0x120555(0x360)]('modal-timer-duration-input')[_0x120555(0x1db)])||0xa,'passingScore':parseInt(document[_0x120555(0x360)]('modal-passing-score-input')['value'])||0x0,'isAdaptive':document[_0x120555(0x360)](_0x120555(0x17e))[_0x120555(0x5fc)],'loopUntilPass':document[_0x120555(0x360)](_0x120555(0x817))[_0x120555(0x5fc)],'isConfidenceScoringEnabled':document[_0x120555(0x360)](_0x120555(0x5be))[_0x120555(0x5fc)],'confidenceMode':document['getElementById'](_0x120555(0x56f))['value']};try{await updateDoc(_0x3e867f,{'settings':_0x364c69}),showMessage(_0x120555(0x2fa)),quizSettingsModal['classList'][_0x120555(0x1f5)](_0x120555(0x29e)),actionTargetId=null;}catch(_0x5a3c7f){console['error'](_0x120555(0x7b7),_0x5a3c7f),showMessage(_0x120555(0xc70));}}async function confirmQuizStatus(){const _0x40f74b=_0x18fcf7;if(!actionTargetId)return;const _0x3520e4=doc(db,'artifacts/'+appId+_0x40f74b(0x46a),actionTargetId),_0xcae363=document[_0x40f74b(0xc8a)](_0x40f74b(0x364));if(!_0xcae363){showMessage(_0x40f74b(0xb6a));return;}const _0xf6ac90=_0xcae363['value'];let _0x22af29={};if(_0xf6ac90==='active'||_0xf6ac90==='inactive')_0x22af29={'status':_0xf6ac90,'startTime':null,'endTime':null};else{if(_0xf6ac90===_0x40f74b(0x657)){const _0x284fb1=document[_0x40f74b(0x360)](_0x40f74b(0x177))[_0x40f74b(0x1db)],_0x3b835c=document['getElementById'](_0x40f74b(0x687))['value'];if(!_0x284fb1&&!_0x3b835c){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x22af29={'status':'scheduled','startTime':_0x284fb1?new Date(_0x284fb1)[_0x40f74b(0x3a7)]():null,'endTime':_0x3b835c?new Date(_0x3b835c)[_0x40f74b(0x3a7)]():null};}}try{await updateDoc(_0x3520e4,_0x22af29),showMessage(_0x40f74b(0x2e9)),quizStatusModal[_0x40f74b(0x5a1)][_0x40f74b(0x1f5)](_0x40f74b(0x29e)),actionTargetId=null;}catch(_0x2f1876){console['error'](_0x40f74b(0x410),_0x2f1876),showMessage(_0x40f74b(0xb1d));}}function listenForStudentProfiles(_0x6f9650){const _0x339daf=_0x18fcf7,_0x4265bd=collection(db,_0x339daf(0x944)+appId+_0x339daf(0x58b)+_0x6f9650+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x4265bd,_0x129216=>{const _0x392893=_0x339daf,_0x269676=_0x129216['docs'][_0x392893(0x985)](_0x3bc3ae=>_0x3bc3ae[_0x392893(0x9e7)]());renderLeaderboard(_0x269676,_0x392893(0x38c));},_0x5ecf47=>{const _0x133e70=_0x339daf;console[_0x133e70(0x537)]('Error\x20listening\x20for\x20student\x20profiles:',_0x5ecf47),document[_0x133e70(0x360)]('leaderboard-table-body')[_0x133e70(0x1a0)]=_0x133e70(0xc8d);});}function renderLeaderboard(_0x50d498,_0x286d61){const _0x5912b3=_0x18fcf7,_0x5902fd=document[_0x5912b3(0x360)](_0x286d61);if(!_0x50d498||_0x50d498[_0x5912b3(0x633)]===0x0){_0x5902fd[_0x5912b3(0x1a0)]=_0x5912b3(0x83b);return;}_0x50d498[_0x5912b3(0x5a4)]((_0x3fe289,_0x393ed8)=>{const _0x457269=_0x5912b3,_0x2a4b64=(_0x393ed8[_0x457269(0x5a5)]||0x0)-(_0x3fe289['totalPoints']||0x0);if(_0x2a4b64!==0x0)return _0x2a4b64;const _0x4a02d6=(_0x393ed8[_0x457269(0xa5f)]?.[_0x457269(0x843)]||0x0)-(_0x3fe289[_0x457269(0xa5f)]?.[_0x457269(0x843)]||0x0);if(_0x4a02d6!==0x0)return _0x4a02d6;const _0x138c67=(_0x393ed8['badgesCount']?.[_0x457269(0x9c2)]||0x0)-(_0x3fe289[_0x457269(0xa5f)]?.[_0x457269(0x9c2)]||0x0);if(_0x138c67!==0x0)return _0x138c67;const _0x1cb1f6=(_0x393ed8['badgesCount']?.[_0x457269(0xa04)]||0x0)-(_0x3fe289[_0x457269(0xa5f)]?.['perfect_score']||0x0);if(_0x1cb1f6!==0x0)return _0x1cb1f6;const _0x14e370=(_0x393ed8['badgesCount']?.[_0x457269(0x72d)]||0x0)-(_0x3fe289[_0x457269(0xa5f)]?.[_0x457269(0x72d)]||0x0);if(_0x14e370!==0x0)return _0x14e370;return _0x3fe289[_0x457269(0x372)]['localeCompare'](_0x393ed8[_0x457269(0x372)],'th');});let _0x33acee='';_0x50d498['forEach']((_0x285fc8,_0x42eaef)=>{const _0x2c6651=_0x5912b3,_0x2ac64e=_0x42eaef+0x1,_0x44e16c=_0x285fc8[_0x2c6651(0xa5f)]||{};let _0x4e8301='';const _0x505ee0=[_0x2c6651(0x843),'perfect_score',_0x2c6651(0x9c2),_0x2c6651(0x72d)];_0x505ee0[_0x2c6651(0xc92)](_0x2f4117=>{const _0x2f22da=_0x2c6651;if(_0x44e16c[_0x2f4117]>0x0){const _0x3e946=Object[_0x2f22da(0x85e)](BADGES)[_0x2f22da(0x64b)](_0x40b0e0=>_0x40b0e0['id']===_0x2f4117);_0x3e946&&(_0x2f4117===_0x2f22da(0x843)?_0x4e8301+=_0x2f22da(0x819)+_0x3e946['name']+_0x2f22da(0xc33)+_0x3e946['icon']+_0x2f22da(0x6a3):_0x4e8301+=_0x2f22da(0x819)+_0x3e946[_0x2f22da(0x3d8)]+'\x20('+_0x44e16c[_0x2f4117]+_0x2f22da(0x7f1)+_0x3e946['icon']+_0x2f22da(0xbb7)+_0x44e16c[_0x2f4117]+_0x2f22da(0x648));}}),_0x33acee+=_0x2c6651(0x724)+_0x2ac64e+_0x2c6651(0x83a)+_0x285fc8[_0x2c6651(0x372)]+_0x2c6651(0xacb)+(_0x285fc8[_0x2c6651(0x5a5)]||0x0)+_0x2c6651(0x83a)+(_0x4e8301||'-')+_0x2c6651(0x281);}),_0x5902fd['innerHTML']=_0x33acee;}function displayLoopScreen(_0x2ddb83,_0x162360,_0x22054c){const _0x27a167=_0x18fcf7;let _0x874c4a='';_0x22054c!==_0x27a167(0x385)&&(_0x874c4a='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x2ddb83+_0x27a167(0x6e2)+_0x162360+_0x27a167(0x8f2));const _0x1829ab='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x874c4a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x27a167(0x1a0)]=_0x1829ab,studentResultArea[_0x27a167(0x5a1)][_0x27a167(0xbee)](_0x27a167(0x29e)),studentQuizArea[_0x27a167(0x5a1)][_0x27a167(0x1f5)](_0x27a167(0x29e)),document[_0x27a167(0x360)](_0x27a167(0x3ca))['addEventListener'](_0x27a167(0xc47),()=>{const _0x1edd63=_0x27a167;studentResultArea[_0x1edd63(0x5a1)][_0x1edd63(0x1f5)](_0x1edd63(0x29e)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x2f9d22,_0xfe9712,_0x235635){const _0x15ce8e=_0x18fcf7,_0x544337=document[_0x15ce8e(0x360)](_0x235635),_0x355422=_0x235635==='student-quiz-leaderboard-table-body',_0x50510a=_0xfe9712[_0x15ce8e(0x3b7)]['length'],_0x100e34=document['getElementById'](_0x235635)[_0x15ce8e(0x3ed)](_0x15ce8e(0x78a));if(_0x100e34&&!_0x355422){const _0x2ae149=_0x100e34[_0x15ce8e(0xc8a)](_0x15ce8e(0x86d));_0x2ae149['innerHTML']=_0x15ce8e(0x73b);}if(!_0x2f9d22||_0x2f9d22['length']===0x0){_0x544337['innerHTML']=_0x15ce8e(0x5e0)+(_0x355422?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x5dc645=[..._0x2f9d22];_0x5dc645[_0x15ce8e(0x5a4)]((_0x5242fa,_0x526001)=>{const _0x42a3f3=_0x15ce8e;let _0x1829b5,_0x2a6cf7;switch(quizLeaderboardSortBy){case _0x42a3f3(0x372):_0x1829b5=_0x5242fa[_0x42a3f3(0x372)]||'',_0x2a6cf7=_0x526001[_0x42a3f3(0x372)]||'';return quizLeaderboardSortOrder===_0x42a3f3(0x197)?_0x1829b5[_0x42a3f3(0x69b)](_0x2a6cf7,'th'):_0x2a6cf7[_0x42a3f3(0x69b)](_0x1829b5,'th');case _0x42a3f3(0x546):_0x1829b5=_0x5242fa[_0x42a3f3(0x546)]||0x0,_0x2a6cf7=_0x526001[_0x42a3f3(0x546)]||0x0;break;case _0x42a3f3(0xc5e):_0x1829b5=_0x5242fa[_0x42a3f3(0xc5e)]?.[_0x42a3f3(0x633)]||0x1,_0x2a6cf7=_0x526001[_0x42a3f3(0xc5e)]?.[_0x42a3f3(0x633)]||0x1;break;case _0x42a3f3(0x39d):_0x1829b5=new Date(_0x5242fa[_0x42a3f3(0x39d)]),_0x2a6cf7=new Date(_0x526001['latestSubmittedAt']);break;case _0x42a3f3(0xa4c):default:_0x1829b5=_0x5242fa['bestScore'],_0x2a6cf7=_0x526001[_0x42a3f3(0xa4c)];break;}if(_0x1829b5<_0x2a6cf7)return quizLeaderboardSortOrder===_0x42a3f3(0x197)?-0x1:0x1;if(_0x1829b5>_0x2a6cf7)return quizLeaderboardSortOrder===_0x42a3f3(0x197)?0x1:-0x1;return 0x0;});const _0x1d1acc=_0xfe9712[_0x15ce8e(0x91e)]===!![],_0x5ad05c=_0xfe9712[_0x15ce8e(0x3c1)]?.['passingScore']??-0x1;let _0x236514='';_0x5dc645[_0x15ce8e(0xc92)]((_0x471d68,_0x34ecf5)=>{const _0x4082f9=_0x15ce8e,_0x1419fe=_0x34ecf5+0x1;let _0x5386ac=_0x4082f9(0x1d0);if(_0x1d1acc||_0x5ad05c!==-0x1){let _0x58d624=_0x1d1acc?_0x471d68[_0x4082f9(0xa4c)]===_0x50510a:_0x471d68[_0x4082f9(0xa4c)]>=_0x5ad05c;const _0x39dc83=_0x58d624?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x57eea3=_0x58d624?_0x4082f9(0x2f5):_0x4082f9(0x19d);_0x5386ac=_0x4082f9(0x98a)+_0x39dc83+'\x22>'+_0x57eea3+_0x4082f9(0x539);}const _0x1b4f37=_0x471d68[_0x4082f9(0xc5e)][_0x471d68['attempts']['length']-0x1],_0x351615=(_0x1b4f37['badges']||[])['map'](_0x50cd17=>{const _0x280987=_0x4082f9,_0xbd755e=Object[_0x280987(0x85e)](BADGES)['find'](_0x3053b4=>_0x3053b4['id']===_0x50cd17);return _0xbd755e?_0x280987(0x387)+_0xbd755e[_0x280987(0x3d8)]+_0x280987(0xc25)+_0xbd755e[_0x280987(0x8a3)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})['join']('');_0x236514+=_0x4082f9(0xc74)+_0x1419fe+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x471d68[_0x4082f9(0x372)]+_0x4082f9(0x82b)+_0x471d68[_0x4082f9(0xa4c)]+_0x4082f9(0x6e2)+_0x50510a+_0x4082f9(0x6a1)+_0x5386ac+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x471d68[_0x4082f9(0x546)]||0x0)+_0x4082f9(0x6a1)+(_0x355422?'':_0x4082f9(0x494)+(_0x471d68[_0x4082f9(0xc5e)]?.['length']||0x1)+_0x4082f9(0x5e4))+_0x4082f9(0xcdc)+(_0x355422?'':_0x4082f9(0x422)+new Date(_0x471d68[_0x4082f9(0x39d)])[_0x4082f9(0xcc2)](_0x4082f9(0x579))+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x351615||'-')+_0x4082f9(0xc77);}),_0x544337[_0x15ce8e(0x1a0)]=_0x236514,_0x100e34&&!_0x355422&&_0x100e34['querySelectorAll'](_0x15ce8e(0x68d))['forEach'](_0x43536a=>{const _0x15edd6=_0x15ce8e,_0x218c33=_0x43536a['querySelector'](_0x15edd6(0xa08));if(_0x218c33)_0x218c33[_0x15edd6(0xbee)]();_0x43536a['dataset'][_0x15edd6(0x5a4)]===quizLeaderboardSortBy&&(_0x43536a['innerHTML']+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x15edd6(0x197)?'▲':'▼')+_0x15edd6(0x3c6));});}async function handleDeleteSubmission(_0x5b71cd){const _0x4a1f38=_0x18fcf7;if(!currentQuizData||!currentQuizData['id']||!_0x5b71cd){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x4a1f38(0x7ff)+_0x5b71cd+_0x4a1f38(0x621),async()=>{const _0x2454cd=_0x4a1f38,_0x42649b=currentQuizData['id'],_0x4d22e7=doc(db,_0x2454cd(0x944)+appId+_0x2454cd(0x340)+_0x42649b+_0x2454cd(0xcad),_0x5b71cd);try{await deleteDoc(_0x4d22e7),showMessage(_0x2454cd(0x417)+_0x5b71cd+'\x20สำเร็จ');}catch(_0x45782a){console[_0x2454cd(0x537)](_0x2454cd(0x7ee),_0x45782a),showMessage(_0x2454cd(0x26f));}});}async function handleLoadQuiz(){const _0x1e5ec9=_0x18fcf7,_0xb4abf4=document[_0x1e5ec9(0x360)]('quiz-id-input'),_0x1a4103=_0xb4abf4[_0x1e5ec9(0x1db)]['trim']();if(!_0x1a4103){showMessage(_0x1e5ec9(0x6b9));return;}loadQuizBtn[_0x1e5ec9(0xa78)]=!![],loadQuizBtn['innerHTML']=_0x1e5ec9(0xc4e);try{const _0x1f496f=doc(db,_0x1e5ec9(0x944)+appId+_0x1e5ec9(0x46a),_0x1a4103),_0x4ac58e=await getDoc(_0x1f496f);if(!_0x4ac58e[_0x1e5ec9(0x815)]()){showMessage(_0x1e5ec9(0xce3));return;}currentQuizData={'id':_0x4ac58e['id'],..._0x4ac58e['data']()};const _0xf0f6de=currentQuizData['status']||_0x1e5ec9(0x455),_0x1011f9=new Date();if(_0xf0f6de===_0x1e5ec9(0x565)){showMessage(_0x1e5ec9(0x3ce));return;}if(_0xf0f6de===_0x1e5ec9(0x9fb)){const _0x251ee6=currentQuizData[_0x1e5ec9(0xbde)]?new Date(currentQuizData['startTime']):null,_0x1f4402=currentQuizData[_0x1e5ec9(0x1dc)]?new Date(currentQuizData[_0x1e5ec9(0x1dc)]):null;if(_0x251ee6&&_0x1011f9<_0x251ee6){showMessage(_0x1e5ec9(0xa8a)+_0x251ee6[_0x1e5ec9(0xcc2)](_0x1e5ec9(0x579),{'hour12':![]}));return;}if(_0x1f4402&&_0x1011f9>_0x1f4402){showMessage(_0x1e5ec9(0x76f));return;}}const _0x833ca1=currentQuizData['projectId'];currentProjectId=_0x833ca1;const _0x5d9da7=doc(db,_0x1e5ec9(0x944)+appId+_0x1e5ec9(0x382),_0x833ca1),_0x6e185e=await getDoc(_0x5d9da7);if(!_0x6e185e[_0x1e5ec9(0x815)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x455f10=_0x6e185e[_0x1e5ec9(0x9e7)]();currentStudentProjectData=_0x455f10,displayStudentNameSelector(_0x455f10['students'],currentQuizData[_0x1e5ec9(0x94f)]);}catch(_0x32bea6){console[_0x1e5ec9(0x537)](_0x1e5ec9(0x9d1),_0x32bea6),showMessage(_0x1e5ec9(0x60b));}finally{loadQuizBtn[_0x1e5ec9(0xa78)]=![],loadQuizBtn[_0x1e5ec9(0x1a0)]=_0x1e5ec9(0x842);}}async function handleJoinLiveGame(){const _0x2a0ef3=_0x18fcf7,_0x311ba8=document[_0x2a0ef3(0x360)](_0x2a0ef3(0x433)),_0x1aab5a=document['getElementById'](_0x2a0ef3(0xa2e)),_0x5708f2=document[_0x2a0ef3(0x360)]('confirm-join-game-btn'),_0x544ae3=_0x311ba8['value'][_0x2a0ef3(0x665)](),_0x433eca=_0x1aab5a[_0x2a0ef3(0x1db)][_0x2a0ef3(0x665)]();if(!_0x544ae3||!_0x433eca){showMessage(_0x2a0ef3(0x3b2));return;}_0x5708f2[_0x2a0ef3(0xa78)]=!![],_0x5708f2[_0x2a0ef3(0x1a0)]=_0x2a0ef3(0x8a8);try{const _0x2b861a=collection(db,_0x2a0ef3(0x944)+appId+_0x2a0ef3(0x68b)),_0x16ff48=query(_0x2b861a,where(_0x2a0ef3(0x21c),'==',_0x544ae3),where(_0x2a0ef3(0x23b),'in',[_0x2a0ef3(0x900),'question'])),_0x143bf7=await getDocs(_0x16ff48);if(_0x143bf7[_0x2a0ef3(0x62a)]){showMessage(_0x2a0ef3(0xa5d));return;}const _0x415402=_0x143bf7['docs'][0x0],_0x4c4ec4=_0x415402[_0x2a0ef3(0x9e7)]();currentLiveGameId=_0x415402['id'];const _0x16bc17=_0x4c4ec4[_0x2a0ef3(0x30a)],_0x4f76d5=doc(db,_0x2a0ef3(0x944)+appId+'/public/data/quizzes',_0x16bc17),_0x512b09=await getDoc(_0x4f76d5);if(!_0x512b09[_0x2a0ef3(0x815)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x512b09['id'],..._0x512b09[_0x2a0ef3(0x9e7)]()};if(_0x4c4ec4[_0x2a0ef3(0x326)]&&_0x4c4ec4[_0x2a0ef3(0x326)][_0x433eca]){const _0x12141e=_0x4c4ec4['players'][_0x433eca];if(_0x12141e[_0x2a0ef3(0x23b)]===_0x2a0ef3(0x565)){_0x5708f2[_0x2a0ef3(0x1a0)]=_0x2a0ef3(0xa3c);const _0x575c0b={};_0x575c0b[_0x2a0ef3(0xc41)+_0x433eca+_0x2a0ef3(0x796)]=_0x2a0ef3(0x455),await updateDoc(doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x575c0b),showView(_0x2a0ef3(0xa33)),currentStudentName=_0x433eca,listenForLiveGameUpdates();return;}else{showMessage(_0x2a0ef3(0x541));return;}}if(_0x4c4ec4['status']!=='lobby'){showMessage(_0x2a0ef3(0xa1b));return;}_0x5708f2[_0x2a0ef3(0x1a0)]=_0x2a0ef3(0x79b);const _0x192725={};_0x192725[_0x2a0ef3(0xc41)+_0x433eca]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,_0x2a0ef3(0x944)+appId+_0x2a0ef3(0x68b),currentLiveGameId),_0x192725),currentStudentName=_0x433eca,listenForLiveGameUpdates();}catch(_0x23e318){console[_0x2a0ef3(0x537)](_0x2a0ef3(0xd04),_0x23e318),showMessage(_0x2a0ef3(0xb9a));}finally{_0x5708f2['disabled']=![],_0x5708f2[_0x2a0ef3(0x1a0)]=_0x2a0ef3(0x7dc);}}function displayStudentNameSelector(_0x486185,_0x4ee5f9){const _0x3e02c9=_0x18fcf7,_0x4a5e40=document[_0x3e02c9(0x360)](_0x3e02c9(0x91d));document[_0x3e02c9(0x360)](_0x3e02c9(0x555))['textContent']=_0x3e02c9(0x1f4)+_0x4ee5f9,!_0x486185||_0x486185[_0x3e02c9(0x633)]===0x0?(_0x4a5e40[_0x3e02c9(0x1a0)]=_0x3e02c9(0x79f),startQuizBtn[_0x3e02c9(0xa78)]=!![]):(_0x4a5e40[_0x3e02c9(0x1a0)]=_0x3e02c9(0xb52),_0x486185[_0x3e02c9(0xc92)](_0x39a1fe=>{const _0x57df15=_0x3e02c9,_0x1f3543=document[_0x57df15(0xa1f)](_0x57df15(0x6f7));_0x1f3543[_0x57df15(0x1db)]=_0x39a1fe,_0x1f3543[_0x57df15(0x946)]=_0x39a1fe,_0x4a5e40[_0x57df15(0x661)](_0x1f3543);}),startQuizBtn[_0x3e02c9(0xa78)]=![]),studentInitialView['classList'][_0x3e02c9(0x1f5)]('hidden'),studentNameSelectionView[_0x3e02c9(0x5a1)]['remove'](_0x3e02c9(0x29e));}function shuffleArray(_0x23a38b){const _0xf6ac88=_0x18fcf7;for(let _0x225721=_0x23a38b[_0xf6ac88(0x633)]-0x1;_0x225721>0x0;_0x225721--){const _0x58758e=Math['floor'](Math[_0xf6ac88(0xc45)]()*(_0x225721+0x1));[_0x23a38b[_0x225721],_0x23a38b[_0x58758e]]=[_0x23a38b[_0x58758e],_0x23a38b[_0x225721]];}}function getShuffledQuiz(_0x224987){const _0x522e76=_0x18fcf7;let _0x37efda=JSON[_0x522e76(0x74a)](JSON[_0x522e76(0x639)](_0x224987));const _0x47cddc=_0x37efda[_0x522e76(0x3c1)]?.['shuffle']||_0x522e76(0x2da);if(_0x47cddc===_0x522e76(0x2da))return _0x37efda;return(_0x47cddc===_0x522e76(0xadb)||_0x47cddc===_0x522e76(0xa37))&&shuffleArray(_0x37efda[_0x522e76(0x3b7)]),(_0x47cddc===_0x522e76(0x1ee)||_0x47cddc===_0x522e76(0xa37))&&_0x37efda['questions'][_0x522e76(0xc92)](_0x334a10=>{const _0x46d85c=_0x522e76,_0x318756=_0x334a10[_0x46d85c(0x434)]||_0x37efda[_0x46d85c(0x677)];if(_0x334a10[_0x46d85c(0x211)]){let _0x20a2a6=_0x334a10[_0x46d85c(0x211)][_0x46d85c(0x985)]((_0x5df8c8,_0x15edc4)=>({'text':_0x5df8c8,'isCorrect':_0x15edc4===_0x334a10[_0x46d85c(0x274)]}));shuffleArray(_0x20a2a6),_0x334a10[_0x46d85c(0x211)]=_0x20a2a6[_0x46d85c(0x985)](_0x30b3ff=>_0x30b3ff[_0x46d85c(0xc85)]),_0x334a10['correctAnswerIndex']=_0x20a2a6[_0x46d85c(0x1b7)](_0x52fb3e=>_0x52fb3e[_0x46d85c(0xb33)]);}_0x318756==='matching_item'&&_0x334a10[_0x46d85c(0x749)]&&shuffleArray(_0x334a10[_0x46d85c(0x749)]);}),_0x37efda;}function displayQuizForStudent(_0x53b30f){const _0x4fd71b=_0x18fcf7;studentQuizArea[_0x4fd71b(0x5a1)][_0x4fd71b(0xbee)](_0x4fd71b(0x29e)),currentDisplayedQuiz=getShuffledQuiz(_0x53b30f);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x4fd71b(0x678),handleFullscreenChange),document[_0x4fd71b(0x616)](_0x4fd71b(0x95f),handleVisibilityChange),enterFullscreen(),window[_0x4fd71b(0x616)](_0x4fd71b(0x14a),resetDimTimer),window[_0x4fd71b(0x616)](_0x4fd71b(0x5c8),resetDimTimer),window[_0x4fd71b(0x616)](_0x4fd71b(0x86e),resetDimTimer),window['addEventListener']('keydown',resetDimTimer),resetDimTimer());const _0x40dbb7=currentDisplayedQuiz[_0x4fd71b(0x3c1)]?.[_0x4fd71b(0x4f6)]||_0x4fd71b(0x2da);if(_0x40dbb7===_0x4fd71b(0xcfe))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x4fd71b(0x3c1)]['timerDuration']);else _0x40dbb7==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x4a98da=_0x18fcf7,_0x5c5969=currentDisplayedQuiz['settings']?.[_0x4a98da(0x3ea)]===!![],_0x5a67bc=currentDisplayedQuiz[_0x4a98da(0x3c1)]?.[_0x4a98da(0x530)]||_0x4a98da(0x93b);let _0x10a097=_0x4a98da(0x282)+currentDisplayedQuiz['topic']+_0x4a98da(0xcb2)+(currentMode===_0x4a98da(0x8af)?_0x4a98da(0xd01):'')+_0x4a98da(0x181);currentDisplayedQuiz['questions'][_0x4a98da(0xc92)]((_0x56fd8e,_0x12e21a)=>{const _0x500ee3=_0x4a98da,_0x5ebc93=_0x56fd8e[_0x500ee3(0x434)]||currentDisplayedQuiz[_0x500ee3(0x677)];_0x10a097+=_0x500ee3(0x2ad);if(_0x5ebc93===_0x500ee3(0x463)){}else _0x10a097+=_0x500ee3(0xb4f)+(_0x12e21a+0x1)+'.\x20'+(_0x56fd8e[_0x500ee3(0x2f6)]||_0x56fd8e[_0x500ee3(0xcec)])+_0x500ee3(0x2ea),_0x56fd8e[_0x500ee3(0x931)]&&(_0x10a097+=_0x500ee3(0x847)+_0x56fd8e[_0x500ee3(0x931)]+_0x500ee3(0x2c6));_0x10a097+=_0x500ee3(0x7a4);switch(_0x5ebc93){case _0x500ee3(0x693):_0x10a097+='<textarea\x20name=\x22question'+_0x12e21a+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case'true_false':_0x10a097+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x12e21a+_0x500ee3(0x6af)+_0x12e21a+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x12e21a+_0x500ee3(0x2a3),_0x10a097+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x12e21a+_0x500ee3(0x333)+_0x12e21a+_0x500ee3(0xb20)+_0x12e21a+_0x500ee3(0x196);break;case'matching_item':_0x10a097+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+_0x56fd8e[_0x500ee3(0x7e5)]+_0x500ee3(0x61d)+_0x12e21a+_0x500ee3(0x2ec)+_0x56fd8e[_0x500ee3(0x749)][_0x500ee3(0x985)](_0x27b4b0=>_0x500ee3(0x327)+_0x27b4b0+'\x22>'+_0x27b4b0+_0x500ee3(0x76e))[_0x500ee3(0x155)]('')+_0x500ee3(0x61f);break;default:_0x10a097+=_0x56fd8e[_0x500ee3(0x211)]['map']((_0xeb5d6e,_0x57d932)=>_0x500ee3(0x165)+_0x12e21a+_0x500ee3(0xb1b)+_0x57d932+_0x500ee3(0xbb6)+_0x12e21a+_0x500ee3(0x88b)+_0x57d932+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x12e21a+_0x500ee3(0xb1b)+_0x57d932+'\x22>'+_0xeb5d6e+_0x500ee3(0xcb5))['join']('');break;}_0x10a097+=_0x500ee3(0x2c6),_0x5c5969&&(_0x10a097+=_0x500ee3(0xb42),_0x5a67bc===_0x500ee3(0xa01)?_0x10a097+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x12e21a+_0x500ee3(0xb81)+_0x12e21a+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x12e21a+'\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22'+_0x12e21a+_0x500ee3(0x3b3):_0x10a097+=_0x500ee3(0x484)+_0x12e21a+_0x500ee3(0xb81)+_0x12e21a+_0x500ee3(0xa9b)+_0x12e21a+_0x500ee3(0x143),_0x10a097+=_0x500ee3(0x2c6)),_0x10a097+=_0x500ee3(0x2c6);}),_0x10a097+=_0x4a98da(0xb73),_0x10a097+='</form>',studentQuizArea[_0x4a98da(0x1a0)]=_0x10a097;if(currentMode===_0x4a98da(0x8af)){const _0x4561c2=document[_0x4a98da(0x360)]('cancel-test-btn');if(_0x4561c2)_0x4561c2['addEventListener'](_0x4a98da(0xc47),cancelAdminTest);}const _0x10d025=document['getElementById'](_0x4a98da(0x680));_0x10d025&&(_0x10d025[_0x4a98da(0x616)](_0x4a98da(0x66f),handleSubmitQuiz),_0x10d025['addEventListener']('click',_0x45c9c1=>{const _0x58995d=_0x4a98da;if(_0x45c9c1[_0x58995d(0x357)][_0x58995d(0x5a1)][_0x58995d(0xbf1)]('confidence-choice-btn')){const _0x3605a1=_0x45c9c1['target'],_0x24e37c=_0x3605a1[_0x58995d(0x9d2)][_0x58995d(0x3f6)],_0x2fcaeb=_0x3605a1[_0x58995d(0x9d2)]['value'];document[_0x58995d(0x360)](_0x58995d(0x7e3)+_0x24e37c)[_0x58995d(0x1db)]=_0x2fcaeb;const _0x38ea1a=_0x3605a1['parentElement'];_0x38ea1a[_0x58995d(0x801)]('.confidence-choice-btn')['forEach'](_0x1aee4c=>_0x1aee4c['classList'][_0x58995d(0xbee)]('active')),_0x3605a1[_0x58995d(0x5a1)][_0x58995d(0x1f5)](_0x58995d(0x455));}}));if(window['MathJax'])window['MathJax']['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x339615){const _0x55eacb=_0x18fcf7;if(_0x339615)_0x339615[_0x55eacb(0xc63)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x36bb31=document[_0x55eacb(0x360)](_0x55eacb(0x680));if(!_0x36bb31)return;const _0x368a45=currentDisplayedQuiz[_0x55eacb(0x3c1)]?.['isConfidenceScoringEnabled']===!![],_0xd1af37=currentDisplayedQuiz[_0x55eacb(0x3c1)]?.['confidenceMode']||_0x55eacb(0x93b);if(_0x368a45&&_0xd1af37===_0x55eacb(0xa01)){let _0xc39565=!![];for(let _0x18dcb5=0x0;_0x18dcb5<currentDisplayedQuiz[_0x55eacb(0x3b7)][_0x55eacb(0x633)];_0x18dcb5++){const _0x311426=_0x36bb31[_0x55eacb(0xc8a)](_0x55eacb(0x22b)+_0x18dcb5);if(!_0x311426||_0x311426['value']===''){_0xc39565=![];break;}}if(!_0xc39565){showMessage(_0x55eacb(0x40a));return;}}const _0x57307c=_0x36bb31[_0x55eacb(0xc8a)](_0x55eacb(0x771)),_0x5d0a17=currentDisplayedQuiz[_0x55eacb(0x3b7)][_0x55eacb(0x624)](_0x484e24=>_0x484e24[_0x55eacb(0x434)]===_0x55eacb(0x693));_0x57307c&&(_0x57307c[_0x55eacb(0xa78)]=!![],_0x57307c[_0x55eacb(0x1a0)]=_0x5d0a17?_0x55eacb(0xb85):_0x55eacb(0x4ce));const _0x1fa098=new FormData(_0x36bb31),_0x1d94b6=currentDisplayedQuiz[_0x55eacb(0x3b7)][_0x55eacb(0x985)]((_0x44c361,_0x2ccabd)=>{const _0x2e10de=_0x55eacb,_0xc93858=_0x1fa098[_0x2e10de(0x57b)]('question'+_0x2ccabd);let _0x57e431;_0xd1af37==='mandatory'?_0x57e431=_0x1fa098[_0x2e10de(0x57b)]('confidence'+_0x2ccabd):_0x57e431=_0x1fa098[_0x2e10de(0x57b)](_0x2e10de(0x178)+_0x2ccabd)==='on';let _0x35b924=null;if(_0xc93858!==null&&_0xc93858!==undefined){const _0x1da0db=_0x44c361['questionType']||currentDisplayedQuiz['quizType'];_0x1da0db==='multiple_choice'||_0x1da0db==='fill_in_the_blank'?_0x35b924=parseInt(_0xc93858):_0x35b924=_0xc93858;}return{'answer':_0x35b924,'wasConfident':_0x57e431};}),_0x24f6c6=currentQuizData['id'],_0x5f57cc=doc(db,_0x55eacb(0x944)+appId+'/public/data/quizzes/'+_0x24f6c6+_0x55eacb(0xcad),currentStudentName),_0xc224d=await getDoc(_0x5f57cc),_0x3b4b7a=_0xc224d[_0x55eacb(0x815)]()?_0xc224d[_0x55eacb(0x9e7)]():{},_0x956eab=_0x3b4b7a[_0x55eacb(0xc5e)]||[];await processAndSubmitAnswers(_0x1d94b6,_0x956eab);}async function gradeShortAnswerWithAI(_0x4e1118,_0x355912){const _0xd82fb1=_0x18fcf7;if(!_0x4e1118||!_0x355912)return![];try{const _0x29ce60=_0xd82fb1(0xcb8)+_0x4e1118+_0xd82fb1(0x191)+_0x355912+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x483310={'contents':[{'role':_0xd82fb1(0x32e),'parts':[{'text':_0x29ce60}]}]},_0x2e2d3e=_0xd82fb1(0x443),_0x2ad91c=_0xd82fb1(0x459)+_0x2e2d3e,_0x44fbed=await fetch(_0x2ad91c,{'method':'POST','headers':{'Content-Type':_0xd82fb1(0x476)},'body':JSON[_0xd82fb1(0x639)](_0x483310)});if(!_0x44fbed['ok'])throw new Error('API\x20call\x20failed');const _0x980d44=await _0x44fbed[_0xd82fb1(0xa87)](),_0x16dd4d=_0x980d44[_0xd82fb1(0x259)][0x0][_0xd82fb1(0x5f9)]['parts'][0x0][_0xd82fb1(0xc85)]['trim']()[_0xd82fb1(0xc54)]();return _0x16dd4d===_0xd82fb1(0x426);}catch(_0x1278c2){return console['error'](_0xd82fb1(0x6f1),_0x1278c2),![];}}async function processAndSubmitAnswers(_0x34fb03,_0x1a1bc2){const _0x38384d=_0x18fcf7;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x38384d(0xb86)](_0x38384d(0x678),handleFullscreenChange),document[_0x38384d(0xb86)](_0x38384d(0x95f),handleVisibilityChange);let _0x3007eb=0x0;const _0x42f443=[],_0x57f881=currentDisplayedQuiz[_0x38384d(0x3b7)][_0x38384d(0x633)];let _0x420de7=0x0,_0x2a9e78=[];const _0x24cd5e=currentDisplayedQuiz[_0x38384d(0x3b7)];for(let _0x29f5ce=0x0;_0x29f5ce<_0x24cd5e[_0x38384d(0x633)];_0x29f5ce++){const _0x14bca1=_0x24cd5e[_0x29f5ce],_0x54c3db=_0x34fb03[_0x29f5ce],_0x39449a=_0x54c3db?_0x54c3db[_0x38384d(0x895)]:null,_0x2e5277=_0x54c3db?_0x54c3db[_0x38384d(0x8bb)]:null;let _0x3fdbc6=![],_0x16cc43=0x0;if(_0x39449a!==null&&_0x39449a!==''){const _0xb0f0a2=_0x14bca1[_0x38384d(0x434)]||currentDisplayedQuiz[_0x38384d(0x677)];switch(_0xb0f0a2){case'matching_item':_0x3fdbc6=_0x39449a===_0x14bca1[_0x38384d(0xa81)];break;case _0x38384d(0x8e2):const _0xb15221=_0x39449a===!![]||_0x39449a===_0x38384d(0x426);_0x3fdbc6=_0xb15221===_0x14bca1[_0x38384d(0x30e)];break;case _0x38384d(0x693):_0x3fdbc6=await gradeShortAnswer(_0x39449a,_0x14bca1);break;case _0x38384d(0xc24):default:_0x3fdbc6=Number(_0x39449a)===_0x14bca1[_0x38384d(0x274)];break;}}if(currentDisplayedQuiz[_0x38384d(0x3c1)]?.[_0x38384d(0x3ea)]){const _0x1baf99=_0x54c3db?_0x54c3db['wasConfident']:null;if(_0x3fdbc6&&(_0x1baf99===!![]||_0x1baf99===_0x38384d(0xb05)))_0x16cc43=0x2;else{if(_0x3fdbc6)_0x16cc43=0x1;else{if(!_0x3fdbc6&&(_0x1baf99===![]||_0x1baf99==='not_confident'||_0x1baf99===null))_0x16cc43=0x0;else!_0x3fdbc6&&(_0x1baf99===!![]||_0x1baf99===_0x38384d(0xb05))&&(_0x16cc43=-0x1);}}}else _0x16cc43=_0x3fdbc6?0x1:0x0;_0x3007eb+=_0x16cc43;if(_0x3fdbc6){_0x420de7++;if(_0x420de7===0x3)_0x2a9e78[_0x38384d(0x62c)](BADGES[_0x38384d(0x3a2)]['id']);}else _0x420de7=0x0;let _0x385044=null;_0x14bca1[_0x38384d(0x211)]&&_0x39449a!==null&&(_0x385044=_0x14bca1[_0x38384d(0x211)][_0x39449a]),_0x42f443[_0x38384d(0x62c)]({'questionId':_0x14bca1['id'],'answer':_0x39449a,'answerText':_0x385044,'isCorrect':_0x3fdbc6,'wasConfident':_0x2e5277,'pointsAwarded':_0x16cc43,'originalQuestionText':_0x14bca1[_0x38384d(0x7e5)]||_0x14bca1[_0x38384d(0xcec)]});}const _0x220593=_0x42f443[_0x38384d(0x2bb)](_0x39d721=>_0x39d721['isCorrect'])['length'],_0x113a3c=currentDisplayedQuiz[_0x38384d(0x3c1)]?.['passingScore']??Math[_0x38384d(0x910)](_0x57f881/0x2);_0x220593===_0x57f881&&_0x57f881>0x0&&!currentDisplayedQuiz[_0x38384d(0x91e)]&&_0x2a9e78[_0x38384d(0x62c)](BADGES['PERFECT_SCORE']['id']);const _0x565c6c=currentDisplayedQuiz[_0x38384d(0x3c1)]?.[_0x38384d(0x4f6)];if(_0x565c6c===_0x38384d(0xcfe)&&quizStartTime){const _0x5a501f=(new Date()-quizStartTime)/0x3e8,_0x34babc=currentDisplayedQuiz[_0x38384d(0x3c1)][_0x38384d(0x63d)]*0x3c;_0x220593>=_0x113a3c&&_0x5a501f<_0x34babc/0x2&&_0x2a9e78['push'](BADGES['QUICK_THINKER']['id']);}_0x1a1bc2[_0x38384d(0x633)]===0x0&&_0x220593===_0x57f881&&_0x57f881>0x0&&_0x2a9e78['push'](BADGES[_0x38384d(0x699)]['id']);if(_0x1a1bc2[_0x38384d(0x633)]>0x0){const _0x173e8=_0x1a1bc2[0x0][_0x38384d(0x8c2)];if(_0x173e8<_0x113a3c&&_0x220593>=_0x113a3c){const _0x4f66dd=_0x1a1bc2[_0x38384d(0x624)](_0x5013c4=>(_0x5013c4[_0x38384d(0x310)]||[])[_0x38384d(0xba6)](BADGES[_0x38384d(0x8e7)]['id']));!_0x4f66dd&&_0x2a9e78[_0x38384d(0x62c)](BADGES[_0x38384d(0x8e7)]['id']);}}_0x1a1bc2[_0x38384d(0x633)]===0x4&&_0x2a9e78['push'](BADGES[_0x38384d(0x38d)]['id']);const _0x4170c8=currentDisplayedQuiz[_0x38384d(0x3c1)][_0x38384d(0xb30)];if(currentMode===_0x38384d(0x8af)){handleResultDisplay(_0x4170c8,_0x220593,_0x3007eb,_0x2a9e78,_0x42f443,_0x57f881);return;}const _0x48188c=currentQuizData['id'],_0x278737=doc(db,_0x38384d(0x944)+appId+_0x38384d(0x340)+_0x48188c+_0x38384d(0xcad),currentStudentName);try{const _0x1db9ce=[..._0x1a1bc2],_0xd597e2={'score':_0x220593,'points':_0x3007eb,'badges':Array[_0x38384d(0x7bc)](new Set(_0x2a9e78)),'submittedAt':new Date()['toISOString'](),'answers':_0x42f443};_0x1db9ce[_0x38384d(0x62c)](_0xd597e2);const _0x25fa45=_0x1a1bc2[_0x38384d(0x633)]===0x0?_0x220593:_0x1a1bc2[0x0]['score']||0x0,_0x205956=Math['max'](..._0x1db9ce[_0x38384d(0x985)](_0x1ee481=>_0x1ee481[_0x38384d(0x8c2)]));await setDoc(_0x278737,{'studentName':currentStudentName,'totalQuestions':_0x57f881,'attempts':_0x1db9ce,'firstScore':_0x25fa45,'bestScore':_0x205956,'latestScore':_0x220593,'points':_0x3007eb,'latestSubmittedAt':_0xd597e2[_0x38384d(0xcab)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x38384d(0x15d)],currentStudentName),handleResultDisplay(_0x4170c8,_0x220593,_0x3007eb,_0x2a9e78,_0x42f443,_0x57f881);}catch(_0x5bac65){console[_0x38384d(0x537)](_0x38384d(0x88a),_0x5bac65),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x382eb4,_0x58915b){const _0x4ba743=_0x18fcf7,_0x4e9bc8=doc(db,_0x4ba743(0x944)+appId+_0x4ba743(0x58b)+_0x382eb4+_0x4ba743(0x480),_0x58915b);try{const _0x53a64f=query(collection(db,_0x4ba743(0x944)+appId+_0x4ba743(0x46a)),where(_0x4ba743(0x15d),'==',_0x382eb4)),_0x5e5497=await getDocs(_0x53a64f),_0x53782b=new Map(_0x5e5497['docs'][_0x4ba743(0x985)](_0x3bf404=>[_0x3bf404['id'],_0x3bf404[_0x4ba743(0x9e7)]()])),_0x5ee0c6=Array[_0x4ba743(0x7bc)](_0x53782b[_0x4ba743(0xa9d)]());await runTransaction(db,async _0x38b90f=>{const _0x5db23a=_0x4ba743;let _0x493ff7=0x0;const _0xa42982={};let _0x2114f3=!![],_0x21fc7f=0x0,_0x1f9f7d=0x0;for(const _0x3ac8c1 of _0x5ee0c6){const _0x280cfa=_0x53782b[_0x5db23a(0x57b)](_0x3ac8c1),_0x3982ed=doc(db,_0x5db23a(0x944)+appId+_0x5db23a(0x340)+_0x3ac8c1+'/submissions',_0x58915b),_0x5e26a4=await _0x38b90f[_0x5db23a(0x57b)](_0x3982ed);if(_0x5e26a4[_0x5db23a(0x815)]()){const _0x1541a0=_0x5e26a4['data'](),_0x382fc8=_0x1541a0[_0x5db23a(0xc5e)]||[];if(_0x382fc8[_0x5db23a(0x633)]>0x0){const _0x253fa6=_0x382fc8[_0x5db23a(0x3a8)]((_0x139913,_0x186e8e)=>{const _0x22acc9=_0x5db23a;if(_0x186e8e[_0x22acc9(0x8c2)]>_0x139913[_0x22acc9(0x8c2)])return _0x186e8e;if(_0x186e8e[_0x22acc9(0x8c2)]===_0x139913[_0x22acc9(0x8c2)])return(_0x186e8e[_0x22acc9(0x546)]||0x0)>(_0x139913[_0x22acc9(0x546)]||0x0)?_0x186e8e:_0x139913;return _0x139913;},{'score':-0x1,'points':-0x1});_0x253fa6['score']>-0x1&&(_0x493ff7+=_0x253fa6[_0x5db23a(0x546)]||0x0,(_0x253fa6[_0x5db23a(0x310)]||[])['forEach'](_0x599bd6=>{_0xa42982[_0x599bd6]=(_0xa42982[_0x599bd6]||0x0)+0x1;}));}}if(_0x280cfa[_0x5db23a(0x94f)]!==_0x5db23a(0x992)){_0x1f9f7d++;if(_0x5e26a4[_0x5db23a(0x815)]()){_0x21fc7f++;const _0x1a4244=_0x5e26a4['data']();_0x1a4244['bestScore']!==_0x1a4244['totalQuestions']&&(_0x2114f3=![]);}else _0x2114f3=![];}}_0x1f9f7d>0x0&&_0x21fc7f===_0x1f9f7d&&_0x2114f3?_0xa42982['specialist']=0x1:_0xa42982['specialist']=0x0,_0x38b90f[_0x5db23a(0xb68)](_0x4e9bc8,{'studentName':_0x58915b,'totalPoints':_0x493ff7,'unlockedBadges':Object[_0x5db23a(0xa9d)](_0xa42982)[_0x5db23a(0x2bb)](_0x13c51b=>_0xa42982[_0x13c51b]>0x0),'badgesCount':_0xa42982},{'merge':!![]});});}catch(_0x203c10){console[_0x4ba743(0x537)](_0x4ba743(0xc18),_0x203c10),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0xa8dd6d=_0x18fcf7;if(!currentQuizData){showMessage(_0xa8dd6d(0x957));return;}let _0x1c5e82=JSON[_0xa8dd6d(0x74a)](JSON[_0xa8dd6d(0x639)](currentQuizData));currentMode=_0xa8dd6d(0x8af),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0xa8dd6d(0x5a1)][_0xa8dd6d(0x1f5)]('hidden'),studentView[_0xa8dd6d(0x5a1)][_0xa8dd6d(0xbee)](_0xa8dd6d(0x29e)),studentInitialView[_0xa8dd6d(0x5a1)][_0xa8dd6d(0x1f5)](_0xa8dd6d(0x29e)),studentNameSelectionView['classList'][_0xa8dd6d(0x1f5)]('hidden'),studentResultArea[_0xa8dd6d(0x5a1)][_0xa8dd6d(0x1f5)](_0xa8dd6d(0x29e)),studentQuizArea['classList']['remove'](_0xa8dd6d(0x29e)),quizStartTime=new Date(),displayQuizForStudent(_0x1c5e82);}function handleResultDisplay(_0x43a35,_0x2808ea,_0x289e8f,_0x19ebad,_0x1cd89a,_0x3c8041){const _0x4541aa=_0x18fcf7;if(_0x43a35===_0x4541aa(0x797)){displaySubmissionConfirmation();return;}const _0x23862d=currentDisplayedQuiz[_0x4541aa(0x3c1)]?.['passingScore']??Math[_0x4541aa(0x910)](_0x3c8041/0x2),_0x16c52b=currentDisplayedQuiz[_0x4541aa(0x3c1)]?.[_0x4541aa(0xb5a)]??![],_0xf600e2=currentDisplayedQuiz['settings']?.['loopUntilPass']===!![],_0x446993=_0x2808ea<_0x23862d,_0xdcc1c7=_0x43a35==='half_mark_status'||_0x43a35===_0x4541aa(0x7da);if(_0xf600e2&&_0x446993&&!_0xdcc1c7){_0x43a35===_0x4541aa(0x56e)?displayResultsWithAnswers(_0x2808ea,_0x289e8f,_0x19ebad,_0x1cd89a,_0x3c8041,!![]):displayLoopScreen(_0x2808ea,_0x3c8041,_0x43a35);return;}if(_0x16c52b&&_0x446993){startAdaptiveFlow(_0x1cd89a,_0x2808ea,_0x3c8041);return;}switch(_0x43a35){case _0x4541aa(0x56e):displayResultsWithAnswers(_0x2808ea,_0x289e8f,_0x19ebad,_0x1cd89a,_0x3c8041);break;case _0x4541aa(0x222):displayResultsScoreOnly(_0x2808ea,_0x289e8f,_0x19ebad,_0x3c8041);break;case _0x4541aa(0x385):displayPassFailOnly(_0x2808ea,_0x3c8041);break;case _0x4541aa(0x16e):displayHalfMarkResult(_0x2808ea,_0x3c8041);break;case _0x4541aa(0x7da):displayPerfectScoreResult(_0x2808ea,_0x3c8041);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x1dd4cc){const _0x347261=_0x18fcf7;studentReadingArea[_0x347261(0x1a0)]=_0x347261(0x88e);const _0x4ce658=_0x347261(0xc1b)+_0x1dd4cc+_0x347261(0x7ad)+simpleMathPrompt+_0x347261(0x733),_0x48ac0c={'type':_0x347261(0x6f6),'properties':{'questionText':{'type':_0x347261(0x279)},'options':{'type':_0x347261(0x512),'items':{'type':_0x347261(0x279)}},'correctAnswerIndex':{'type':_0x347261(0x6b4)},'explanation':{'type':'STRING'}},'required':[_0x347261(0xcec),_0x347261(0x211),'correctAnswerIndex',_0x347261(0x4dd)]},_0x13970a={'type':_0x347261(0x6f6),'properties':{'topic':{'type':_0x347261(0x279)},'questions':{'type':_0x347261(0x512),'items':_0x48ac0c}},'required':[_0x347261(0x94f),_0x347261(0x3b7)]};try{const _0x25cd16=await callAnalysisApi(_0x4ce658,_0x13970a);_0x25cd16[_0x347261(0x91e)]=!![],studentReadingArea[_0x347261(0x5a1)]['add']('hidden');const _0x52ac7f={...currentDisplayedQuiz[_0x347261(0x3c1)],'isAdaptive':![],'resultsDisplay':_0x347261(0x56e)};_0x25cd16[_0x347261(0x3c1)]=_0x52ac7f,displayQuizForStudent(_0x25cd16);}catch(_0x2c5e13){console[_0x347261(0x537)]('Remedial\x20quiz\x20generation\x20failed:',_0x2c5e13),showMessage(_0x347261(0x1f9)),showView(_0x347261(0x35e));}}function displayPassFailOnly(_0x3b3f1,_0x4335f9){const _0x325b81=_0x18fcf7,_0x5ce4ff=currentDisplayedQuiz[_0x325b81(0x3c1)]?.[_0x325b81(0x9bd)]??-0x1,_0x4fc402=currentDisplayedQuiz['isRemedial']===!![];let _0xd55b37='',_0x90ac16=![];if(_0x4fc402||_0x5ce4ff!==-0x1){_0x90ac16=_0x4fc402?_0x3b3f1===_0x4335f9:_0x3b3f1>=_0x5ce4ff;const _0x5f0743=_0x90ac16?'bg-green-100\x20text-green-800':_0x325b81(0x3df),_0x52961d=_0x90ac16?_0x325b81(0x2f5):'ไม่ผ่าน';_0xd55b37=_0x325b81(0xb2c)+_0x5f0743+'\x22>'+_0x52961d+_0x325b81(0x265);}else _0xd55b37=_0x325b81(0xa93);let _0x4d3477='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x325b81(0xb3c)+_0xd55b37+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x4d3477,studentResultArea[_0x325b81(0x5a1)][_0x325b81(0xbee)](_0x325b81(0x29e)),studentQuizArea[_0x325b81(0x5a1)][_0x325b81(0x1f5)](_0x325b81(0x29e)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x90ac16});}function cancelAdminTest(){const _0x2f8709=_0x18fcf7;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x2f8709(0xb86)](_0x2f8709(0x678),handleFullscreenChange),document[_0x2f8709(0xb86)](_0x2f8709(0x95f),handleVisibilityChange),currentMode=_0x2f8709(0x252),studentView[_0x2f8709(0x5a1)]['add'](_0x2f8709(0x29e)),adminView[_0x2f8709(0x5a1)][_0x2f8709(0xbee)](_0x2f8709(0x29e)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x2f8709(0x6b8));}function setupResultScreenBackButton(_0x54fc51){const _0x41e004=_0x18fcf7,_0x13a5f7={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x54fc51};if(_0x13a5f7[_0x41e004(0x809)]){const _0x8a8aa9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x41e004(0x44f)](_0x41e004(0x919),_0x8a8aa9),document['getElementById'](_0x41e004(0x3ca))['addEventListener'](_0x41e004(0xc47),()=>{const _0xf22c1d=_0x41e004;studentResultArea[_0xf22c1d(0x5a1)][_0xf22c1d(0x1f5)](_0xf22c1d(0x29e)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x5edef6=_0x41e004(0x7cd),_0x2f3589=currentMode===_0x41e004(0x8af),_0x598923=_0x2f3589?_0x41e004(0x98d):_0x41e004(0x73e);let _0x39b97f='';_0x13a5f7[_0x41e004(0x5fb)]&&(_0x39b97f+=_0x41e004(0x92d));let _0x1b6fc5=_0x13a5f7['showImproveButton'];_0x1b6fc5===undefined&&(_0x1b6fc5=_0x13a5f7['score']<_0x13a5f7[_0x41e004(0xcbd)]);_0x1b6fc5&&(_0x39b97f+=_0x41e004(0x361));_0x39b97f+='<button\x20id=\x22'+_0x5edef6+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x598923+_0x41e004(0x24f);const _0x4b3e84='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x39b97f+_0x41e004(0x2c6);studentResultArea['insertAdjacentHTML'](_0x41e004(0x919),_0x4b3e84),studentResultArea['querySelector'](_0x41e004(0x554))?.[_0x41e004(0x616)](_0x41e004(0xc47),handleShowStudentRankings);const _0x414786=studentResultArea[_0x41e004(0xc8a)](_0x41e004(0x2d6));_0x414786&&_0x414786[_0x41e004(0x616)](_0x41e004(0xc47),()=>{const _0x7ccbeb=_0x41e004;studentResultArea[_0x7ccbeb(0x5a1)][_0x7ccbeb(0x1f5)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x41e004(0x360)](_0x5edef6)[_0x41e004(0x616)](_0x41e004(0xc47),()=>{const _0x215fa7=_0x41e004;_0x2f3589?(currentMode=_0x215fa7(0x252),studentView[_0x215fa7(0x5a1)][_0x215fa7(0x1f5)](_0x215fa7(0x29e)),adminView['classList'][_0x215fa7(0xbee)]('hidden'),showView(_0x215fa7(0x6b8))):(showView(_0x215fa7(0x35e)),document[_0x215fa7(0x360)](_0x215fa7(0x764))['value']='');});}function displayResultsWithAnswers(_0x21403e,_0x54d416,_0x4f079e,_0x25612f,_0x3c36f8,_0x2407b0=![]){const _0x4de06a=_0x18fcf7,_0x12423a=_0x3c36f8>0x0?_0x21403e/_0x3c36f8*0x64:0x0,_0xec4bc5=currentDisplayedQuiz[_0x4de06a(0x3c1)]?.['passingScore']??-0x1,_0xe64094=currentDisplayedQuiz[_0x4de06a(0x91e)]===!![];let _0x345f01='';if(_0xe64094||_0xec4bc5!==-0x1){let _0x133b82=_0xe64094?_0x21403e===_0x3c36f8:_0x21403e>=_0xec4bc5;const _0x3090db=_0x133b82?_0x4de06a(0x41b):_0x4de06a(0x3df),_0x34698b=_0x133b82?_0x4de06a(0x2f5):_0x4de06a(0x19d);_0x345f01='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x3090db+'\x22>'+_0x34698b+_0x4de06a(0x2ea);}let _0x3e8d70='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x21403e+_0x4de06a(0x39c)+_0x3c36f8+_0x4de06a(0x400)+_0x345f01+_0x4de06a(0xbe8)+_0x54d416+_0x4de06a(0xb9d)+_0x12423a[_0x4de06a(0x8ac)](0x0)+_0x4de06a(0x383);currentDisplayedQuiz[_0x4de06a(0x3b7)][_0x4de06a(0xc92)]((_0x264da8,_0x134938)=>{const _0x1abc67=_0x4de06a,_0x14aa32=_0x25612f[_0x134938],_0x7bf0c4=_0x14aa32[_0x1abc67(0x895)],_0x2cbf17=_0x14aa32[_0x1abc67(0xb33)],_0x395e4c=_0x264da8['questionType']||currentDisplayedQuiz['quizType'];_0x3e8d70+=_0x1abc67(0x70c)+(_0x2cbf17?_0x1abc67(0x647):'border-red-300\x20bg-red-50')+_0x1abc67(0x908)+(_0x134938+0x1)+'.\x20'+(_0x264da8[_0x1abc67(0x7e5)]||_0x264da8[_0x1abc67(0xcec)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x395e4c){case _0x1abc67(0x463):const _0x594f4c=_0x7bf0c4||_0x1abc67(0x8ec),_0x2ca8f3=_0x264da8[_0x1abc67(0xa81)];_0x3e8d70+=_0x1abc67(0xac3)+(!_0x2cbf17?_0x1abc67(0x9cf):'')+'\x22>'+_0x594f4c+_0x1abc67(0xcde);!_0x2cbf17&&(_0x3e8d70+=_0x1abc67(0x5fa)+_0x2ca8f3+_0x1abc67(0x2ea));break;case _0x1abc67(0x693):_0x3e8d70+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x7bf0c4||_0x1abc67(0x8ec))+_0x1abc67(0x2ea),_0x3e8d70+=_0x1abc67(0x637)+_0x264da8[_0x1abc67(0x698)]+_0x1abc67(0x2ea);break;case _0x1abc67(0x8e2):_0x3e8d70+='<p\x20class=\x22'+(_0x264da8[_0x1abc67(0x30e)]===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x7bf0c4===_0x1abc67(0x426)&&!_0x2cbf17?'line-through\x20text-red-700':'')+_0x1abc67(0x92f),_0x3e8d70+=_0x1abc67(0x48e)+(_0x264da8[_0x1abc67(0x30e)]===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x7bf0c4===_0x1abc67(0x47f)&&!_0x2cbf17?_0x1abc67(0x9cf):'')+_0x1abc67(0xc13);break;default:_0x3e8d70+=_0x264da8['options']['map']((_0x45b4fb,_0x544794)=>{const _0x1a7e00=_0x1abc67;let _0x2f0b17='',_0x58750a='';if(_0x544794===_0x264da8['correctAnswerIndex'])_0x2f0b17=_0x1a7e00(0x685),_0x58750a=_0x1a7e00(0x86c);else _0x544794===_0x7bf0c4&&(_0x2f0b17='font-bold\x20text-red-700\x20line-through',_0x58750a=_0x1a7e00(0xbbc));return _0x1a7e00(0xb95)+_0x2f0b17+'\x22>'+_0x58750a+_0x45b4fb+_0x1a7e00(0x2c6);})[_0x1abc67(0x155)]('');break;}_0x3e8d70+=_0x1abc67(0x158)+(_0x264da8[_0x1abc67(0x4dd)]||_0x1abc67(0xcd6))+'</div>';if(!_0x2cbf17){const _0x185db2=_0x264da8['stem']||_0x264da8[_0x1abc67(0xcec)];_0x3e8d70+=_0x1abc67(0x270)+escape(_0x185db2)+_0x1abc67(0x906);}_0x3e8d70+=_0x1abc67(0x2c6);}),studentResultArea['innerHTML']=_0x3e8d70,renderEarnedBadges(_0x4f079e,_0x4de06a(0xa1d)),studentResultArea[_0x4de06a(0x5a1)]['remove']('hidden'),studentQuizArea['classList'][_0x4de06a(0x1f5)]('hidden'),setupResultScreenBackButton({'isLooping':_0x2407b0,'score':_0x21403e,'totalQuestions':_0x3c36f8,'showRankings':!![]});if(window[_0x4de06a(0xb63)])window[_0x4de06a(0xb63)][_0x4de06a(0x5b0)]([studentResultArea]);}function displayResultsScoreOnly(_0x3e9a53,_0x18d474,_0x3f4c01,_0x323ec1){const _0x2e09d6=_0x18fcf7,_0x1617ea=_0x323ec1>0x0?_0x3e9a53/_0x323ec1*0x64:0x0,_0x458461=currentDisplayedQuiz[_0x2e09d6(0x3c1)]?.[_0x2e09d6(0x9bd)]??-0x1,_0x1fdd18=currentDisplayedQuiz[_0x2e09d6(0x91e)]===!![];let _0x3d5d42='';if(_0x1fdd18||_0x458461!==-0x1){let _0x3de8c7=_0x1fdd18?_0x3e9a53===_0x323ec1:_0x3e9a53>=_0x458461;const _0x301684=_0x3de8c7?'bg-green-100\x20text-green-800':_0x2e09d6(0x3df),_0x3fe53f=_0x3de8c7?_0x2e09d6(0x2f5):'ไม่ผ่าน';_0x3d5d42='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x301684+'\x22>'+_0x3fe53f+_0x2e09d6(0x2ea);}let _0x2289e7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x2e09d6(0x438)+_0x3e9a53+_0x2e09d6(0x991)+_0x323ec1+_0x2e09d6(0x400)+_0x3d5d42+_0x2e09d6(0xbe8)+_0x18d474+_0x2e09d6(0x772)+_0x1617ea[_0x2e09d6(0x8ac)](0x0)+_0x2e09d6(0x9dd);studentResultArea[_0x2e09d6(0x1a0)]=_0x2289e7,renderEarnedBadges(_0x3f4c01,_0x2e09d6(0xa1d)),studentResultArea[_0x2e09d6(0x5a1)][_0x2e09d6(0xbee)]('hidden'),studentQuizArea[_0x2e09d6(0x5a1)][_0x2e09d6(0x1f5)](_0x2e09d6(0x29e)),setupResultScreenBackButton({'score':_0x3e9a53,'totalQuestions':_0x323ec1,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x1cf3c3=_0x18fcf7;let _0x359f16=_0x1cf3c3(0x5e8)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x1cf3c3(0x1a0)]=_0x359f16,studentResultArea[_0x1cf3c3(0x5a1)][_0x1cf3c3(0xbee)](_0x1cf3c3(0x29e)),studentQuizArea[_0x1cf3c3(0x5a1)][_0x1cf3c3(0x1f5)](_0x1cf3c3(0x29e)),document[_0x1cf3c3(0x360)](_0x1cf3c3(0xb10))[_0x1cf3c3(0x616)]('click',()=>{const _0x3949ad=_0x1cf3c3;showView(_0x3949ad(0x35e)),document[_0x3949ad(0x360)]('quiz-id-input')['value']='';});}function renderEarnedBadges(_0x2f6e3e,_0x3d500e){const _0x5af46d=_0x18fcf7,_0x2e37f7=document[_0x5af46d(0x360)](_0x3d500e);if(!_0x2e37f7||!_0x2f6e3e||_0x2f6e3e[_0x5af46d(0x633)]===0x0)return;let _0x167587='';_0x2f6e3e[_0x5af46d(0xc92)]((_0x186a46,_0x5734d0)=>{const _0x8aae84=_0x5af46d,_0x42022d=Object[_0x8aae84(0x85e)](BADGES)[_0x8aae84(0x64b)](_0x1dc805=>_0x1dc805['id']===_0x186a46);_0x42022d&&(_0x167587+=_0x8aae84(0xc2b)+_0x5734d0*0.2+_0x8aae84(0x864)+_0x42022d[_0x8aae84(0x656)]+_0x8aae84(0xce8)+_0x42022d[_0x8aae84(0x8a3)]+_0x8aae84(0xb48)+_0x42022d[_0x8aae84(0x3d8)]+_0x8aae84(0x2ed));}),_0x2e37f7['innerHTML']=_0x167587;}function startPresentation(_0x4787af){const _0x2da19a=_0x18fcf7;currentQuizData=getShuffledQuiz(_0x4787af),currentPresentationSlide=0x0,presentationModal[_0x2da19a(0xbce)]['display']=_0x2da19a(0x3f3),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x439c0a=_0x18fcf7;document[_0x439c0a(0x56a)]&&document['exitFullscreen'](),presentationModal[_0x439c0a(0xbce)][_0x439c0a(0x640)]='none';}function renderPresentationSlide(_0x279f9b){const _0x49f974=_0x18fcf7,_0x2e671a=document[_0x49f974(0x360)](_0x49f974(0x3c7));if(!currentQuizData||!currentQuizData[_0x49f974(0x3b7)]||!currentQuizData['questions'][_0x279f9b]){_0x2e671a[_0x49f974(0x1a0)]=_0x49f974(0xbe4);return;}const _0x311c87=currentQuizData[_0x49f974(0x3b7)][_0x279f9b],_0x394276=_0x311c87[_0x49f974(0x434)]||currentQuizData[_0x49f974(0x677)];_0x2e671a[_0x49f974(0x1a0)]='';let _0x431559='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x311c87[_0x49f974(0x931)]?_0x49f974(0x847)+_0x311c87['imageCode']+_0x49f974(0x2c6):'')+_0x49f974(0xc97)+(_0x279f9b+0x1)+'.\x20'+(_0x311c87[_0x49f974(0x7e5)]||_0x311c87['questionText'])+_0x49f974(0x8d8);switch(_0x394276){case _0x49f974(0x463):_0x431559+=_0x311c87['allResponses'][_0x49f974(0x985)](_0x462c89=>_0x49f974(0x219)+_0x462c89+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;case _0x49f974(0x8e2):_0x431559+=_0x49f974(0x25d),_0x431559+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x49f974(0x4d3):case _0x49f974(0x693):_0x431559+=_0x49f974(0x4a2);break;case'fill_in_the_blank':case _0x49f974(0xc24):default:_0x431559+=_0x311c87[_0x49f974(0x211)][_0x49f974(0x985)]((_0xb39276,_0x202d1c)=>_0x49f974(0x513)+_0x202d1c+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb39276+_0x49f974(0x7ca))[_0x49f974(0x155)]('');break;}_0x431559+=_0x49f974(0x63b)+(_0x311c87[_0x49f974(0x4dd)]||_0x49f974(0xcd6))+_0x49f974(0x697),_0x2e671a[_0x49f974(0x1a0)]=_0x431559;if(window[_0x49f974(0xb63)])window[_0x49f974(0xb63)][_0x49f974(0x5b0)]([_0x2e671a]);let _0xd1f30=[];switch(_0x394276){case _0x49f974(0x463):_0xd1f30=_0x311c87[_0x49f974(0x749)]||[];break;case _0x49f974(0x8e2):_0xd1f30=[_0x49f974(0xa7c),'ไม่ใช่'];break;default:_0xd1f30=_0x311c87[_0x49f974(0x211)]||[];break;}const _0x6b62c1=document[_0x49f974(0x360)](_0x49f974(0x209));_0x6b62c1&&(_0x6b62c1[_0x49f974(0x8b1)]=()=>{openScratchpad(_0x311c87,_0xd1f30);});document['querySelectorAll'](_0x49f974(0x2a2))[_0x49f974(0xc92)](_0x205a22=>{const _0xc15c66=_0x49f974;_0x205a22[_0xc15c66(0x616)](_0xc15c66(0xc47),_0xd44355=>revealAnswerForPresentation(_0x279f9b,_0xd44355[_0xc15c66(0x1cc)]));});const _0x2e71eb=document[_0x49f974(0x360)]('check-presentation-answer-btn');_0x2e71eb&&_0x2e71eb[_0x49f974(0x616)](_0x49f974(0xc47),()=>checkShortAnswerForPresentation(_0x279f9b)),document['getElementById']('slide-counter')['textContent']=_0x49f974(0xcfc)+(_0x279f9b+0x1)+_0x49f974(0x6e2)+currentQuizData[_0x49f974(0x3b7)][_0x49f974(0x633)],document['getElementById'](_0x49f974(0x32f))['disabled']=_0x279f9b===0x0,document['getElementById']('next-question-btn')[_0x49f974(0xa78)]=_0x279f9b===currentQuizData['questions'][_0x49f974(0x633)]-0x1;}async function checkShortAnswerForPresentation(_0xaec104){const _0xd1b867=_0x18fcf7,_0x3811f1=currentQuizData['questions'][_0xaec104],_0x2dc66c=document[_0xd1b867(0x360)](_0xd1b867(0x9b5)),_0x3d4ab4=document[_0xd1b867(0x360)](_0xd1b867(0xca8)),_0x7aa188=document['getElementById'](_0xd1b867(0xa92)),_0x129dcc=document[_0xd1b867(0x360)](_0xd1b867(0x8ef));if(!_0x2dc66c||!_0x3d4ab4||!_0x7aa188||!_0x129dcc)return;const _0x3f3b1b=_0x2dc66c['value']['trim']();if(_0x3f3b1b==='')return;_0x3d4ab4[_0xd1b867(0xa78)]=!![],_0x3d4ab4['innerHTML']=_0xd1b867(0x8fc),_0x2dc66c[_0xd1b867(0xa78)]=!![];const _0x3944a9=await gradeShortAnswer(_0x3f3b1b,_0x3811f1);_0x3944a9?_0x7aa188[_0xd1b867(0x1a0)]=_0xd1b867(0x497):_0x7aa188[_0xd1b867(0x1a0)]=_0xd1b867(0x36d)+_0x3811f1[_0xd1b867(0x698)]+')',_0x7aa188[_0xd1b867(0x5a1)]['remove']('hidden'),_0x129dcc[_0xd1b867(0x5a1)][_0xd1b867(0xbee)]('hidden'),_0x3d4ab4[_0xd1b867(0x5a1)][_0xd1b867(0x1f5)](_0xd1b867(0x29e));}function revealAnswerForPresentation(_0x59a21d,_0x2e7b73){const _0x32c47c=_0x18fcf7,_0x3f8a7e=currentQuizData[_0x32c47c(0x3b7)][_0x59a21d],_0x3a57d4=_0x3f8a7e[_0x32c47c(0x434)]||currentQuizData[_0x32c47c(0x677)];document['querySelectorAll'](_0x32c47c(0x2a2))['forEach'](_0x409c0e=>{const _0x3cc00e=_0x32c47c;_0x409c0e[_0x3cc00e(0xa78)]=!![],_0x409c0e['classList'][_0x3cc00e(0xbee)](_0x3cc00e(0x4ba));let _0x492efb=![];if(_0x3a57d4===_0x3cc00e(0xc24)||_0x3a57d4===_0x3cc00e(0x5ec)){const _0x4a1d49=parseInt(_0x409c0e['dataset'][_0x3cc00e(0xb44)]);_0x492efb=_0x4a1d49===_0x3f8a7e['correctAnswerIndex'];}else{if(_0x3a57d4==='true_false'){const _0x3e7c92=_0x409c0e['dataset']['answer']===_0x3cc00e(0x426);_0x492efb=_0x3e7c92===_0x3f8a7e['correctAnswer'];}else _0x3a57d4===_0x3cc00e(0x463)&&(_0x492efb=_0x409c0e[_0x3cc00e(0x946)][_0x3cc00e(0x665)]()===_0x3f8a7e[_0x3cc00e(0xa81)]);}_0x492efb?_0x409c0e[_0x3cc00e(0x5a1)][_0x3cc00e(0x1f5)]('bg-green-500',_0x3cc00e(0x941),_0x3cc00e(0xc4f)):_0x409c0e[_0x3cc00e(0x5a1)][_0x3cc00e(0x1f5)]('opacity-50');}),_0x2e7b73[_0x32c47c(0x5a1)][_0x32c47c(0xbee)](_0x32c47c(0x717));let _0x4975c2=![];if(_0x3a57d4===_0x32c47c(0xc24))_0x4975c2=parseInt(_0x2e7b73['dataset']['index'])===_0x3f8a7e[_0x32c47c(0x274)];else{if(_0x3a57d4===_0x32c47c(0x8e2))_0x4975c2=_0x2e7b73[_0x32c47c(0x9d2)]['answer']===_0x32c47c(0x426)===_0x3f8a7e[_0x32c47c(0x30e)];else _0x3a57d4===_0x32c47c(0x463)&&(_0x4975c2=_0x2e7b73[_0x32c47c(0x946)][_0x32c47c(0x665)]()===_0x3f8a7e[_0x32c47c(0xa81)]);}!_0x4975c2&&_0x2e7b73[_0x32c47c(0x5a1)][_0x32c47c(0x1f5)](_0x32c47c(0xa2b),_0x32c47c(0x941),_0x32c47c(0x794)),document[_0x32c47c(0x360)]('presentation-explanation')['classList']['remove'](_0x32c47c(0x29e));}function startWholeQuizTimer(_0x1f3f4f){const _0x2719ec=_0x18fcf7,_0x1c753b=document[_0x2719ec(0x360)](_0x2719ec(0x9f8));if(!_0x1c753b)return;const _0x2c2b28=Date['now']()+_0x1f3f4f*0x3c*0x3e8;_0x1c753b[_0x2719ec(0x1a0)]=_0x2719ec(0x575);const _0x477674=document[_0x2719ec(0x360)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x423961=_0x2719ec,_0xeefde=_0x2c2b28-Date[_0x423961(0x36b)]();if(_0xeefde<=0x0)clearInterval(quizTimerInterval),_0x477674[_0x423961(0x946)]='00:00',showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x2264b8=Math[_0x423961(0x910)](_0xeefde/0x3e8/0x3c%0x3c)[_0x423961(0xa76)]()[_0x423961(0xbfb)](0x2,'0'),_0x4301ef=Math[_0x423961(0x910)](_0xeefde/0x3e8%0x3c)[_0x423961(0xa76)]()['padStart'](0x2,'0');_0x477674[_0x423961(0x946)]=_0x2264b8+':'+_0x4301ef;}},0x3e8);}function renderPerQuestionView(){const _0x45adfa=_0x18fcf7;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0xb33e5d=currentDisplayedQuiz[_0x45adfa(0x3b7)][currentQuestionIndex],_0x4e6b08=_0xb33e5d['questionType']||currentDisplayedQuiz['quizType'],_0x43d196=currentDisplayedQuiz['settings']?.[_0x45adfa(0x3ea)]===!![];let _0x45be2e=_0x45adfa(0x774)+(currentQuestionIndex+0x1)+_0x45adfa(0x37e)+currentDisplayedQuiz[_0x45adfa(0x3b7)][_0x45adfa(0x633)]+_0x45adfa(0x53d)+(currentMode==='admin-testing'?_0x45adfa(0xd01):'')+_0x45adfa(0x592)+currentDisplayedQuiz['topic']+_0x45adfa(0x278);studentQuizArea[_0x45adfa(0x1a0)]=_0x45be2e;let _0x5d048c=_0xb33e5d[_0x45adfa(0x7e5)]||_0xb33e5d[_0x45adfa(0xcec)];_0xb33e5d[_0x45adfa(0x931)]&&(_0x5d048c+=_0x45adfa(0x847)+_0xb33e5d[_0x45adfa(0x931)]+_0x45adfa(0x2c6));let _0x100019='';switch(_0x4e6b08){case _0x45adfa(0x693):case _0x45adfa(0x4d3):_0x100019='<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x45adfa(0x8e2):_0x100019='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case _0x45adfa(0x463):_0x100019=_0x45adfa(0xa83)+(_0xb33e5d[_0x45adfa(0x749)]||[])[_0x45adfa(0x985)](_0x2a5af1=>_0x45adfa(0x327)+_0x2a5af1+'\x22>'+_0x2a5af1+'</option>')[_0x45adfa(0x155)]('')+_0x45adfa(0xbb0);break;default:_0xb33e5d[_0x45adfa(0x211)]&&(_0x100019=_0xb33e5d[_0x45adfa(0x211)][_0x45adfa(0x985)]((_0x5dcf48,_0x56f7cd)=>_0x45adfa(0x6e3)+_0x56f7cd+_0x45adfa(0x1d9)+_0x56f7cd+_0x45adfa(0x9a3)+_0x56f7cd+'\x22>'+_0x5dcf48+_0x45adfa(0x6dc))['join'](''));break;}document['getElementById'](_0x45adfa(0x732))[_0x45adfa(0x1a0)]=_0x5d048c,document[_0x45adfa(0x360)](_0x45adfa(0xa77))[_0x45adfa(0x1a0)]=_0x100019;const _0x2707b=currentDisplayedQuiz[_0x45adfa(0x3c1)]?.[_0x45adfa(0x3ea)]===!![],_0x1cb9ce=currentDisplayedQuiz[_0x45adfa(0x3c1)]?.[_0x45adfa(0x530)]||_0x45adfa(0x93b);if(_0x2707b&&_0x1cb9ce==='checkbox'){const _0x3c4546=_0x45adfa(0xc40);studentQuizArea[_0x45adfa(0xc8a)]('.mb-6.p-4')[_0x45adfa(0x44f)](_0x45adfa(0x919),_0x3c4546);}studentQuizArea['insertAdjacentHTML'](_0x45adfa(0x919),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x45adfa(0x3b7)][_0x45adfa(0x633)]-0x1?_0x45adfa(0x869):_0x45adfa(0x3f5))+_0x45adfa(0x233));currentMode===_0x45adfa(0x8af)&&document[_0x45adfa(0x360)](_0x45adfa(0x464))?.[_0x45adfa(0x616)](_0x45adfa(0xc47),cancelAdminTest);document[_0x45adfa(0x360)](_0x45adfa(0x228))[_0x45adfa(0x616)]('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x45adfa(0xb63)])window[_0x45adfa(0xb63)][_0x45adfa(0x5b0)]([studentQuizArea]);currentDisplayedQuiz[_0x45adfa(0x3c1)]?.[_0x45adfa(0x4f6)]==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x1f7304=_0x18fcf7,_0x2c8e2e=currentDisplayedQuiz[_0x1f7304(0x3c1)][_0x1f7304(0x63d)],_0x1d2e16=document[_0x1f7304(0x360)]('per-question-timer-container');if(!_0x1d2e16)return;let _0x5ac979=_0x2c8e2e;_0x1d2e16[_0x1f7304(0x1a0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x5ac979+_0x1f7304(0xbbe);const _0x236812=document[_0x1f7304(0x360)](_0x1f7304(0x40e)),_0x24a381=document[_0x1f7304(0x360)](_0x1f7304(0x447));perQuestionTimerInterval=setInterval(()=>{const _0x5808fe=_0x1f7304;_0x5ac979--;const _0x3a8cc9=_0x5ac979/_0x2c8e2e*0x64;_0x236812[_0x5808fe(0xbce)][_0x5808fe(0x560)]=_0x3a8cc9+'%',_0x24a381['textContent']=_0x5ac979,_0x5ac979<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x579689=![]){const _0x307065=_0x18fcf7;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x4044c2=null,_0x274ab0=![];if(!_0x579689){const _0x1d80ac=currentDisplayedQuiz[_0x307065(0x3b7)][currentQuestionIndex],_0x481c89=_0x1d80ac['questionType']||currentDisplayedQuiz[_0x307065(0x677)];if(_0x481c89===_0x307065(0x693)||_0x481c89==='fill_in_no_choices')_0x4044c2=document['querySelector']('textarea[name=\x22question_single\x22]')?.[_0x307065(0x1db)]['trim']()??'';else{if(_0x481c89===_0x307065(0x463))_0x4044c2=document[_0x307065(0xc8a)](_0x307065(0x29f))?.[_0x307065(0x1db)]??'';else{const _0x2739c6=document[_0x307065(0xc8a)]('input[name=\x22question_single\x22]:checked');_0x2739c6&&(_0x4044c2=_0x2739c6[_0x307065(0x1db)]);}}if(_0x4044c2===null||_0x4044c2===''){showMessage(_0x307065(0x705)),startPerQuestionTimer();return;}const _0x108c95=currentDisplayedQuiz[_0x307065(0x3c1)]?.[_0x307065(0x3ea)]===!![],_0x38fa5e=currentDisplayedQuiz['settings']?.[_0x307065(0x530)]||'checkbox';if(_0x108c95&&_0x38fa5e===_0x307065(0xa01)){document[_0x307065(0x360)](_0x307065(0x469))[_0x307065(0x9d2)][_0x307065(0x3ba)]=_0x307065(0x8ea),document[_0x307065(0x360)]('selected-answer-index-hidden')['value']=_0x4044c2,document[_0x307065(0x360)]('confidence-modal')[_0x307065(0x5a1)]['remove']('hidden');return;}const _0x2457a8=document['getElementById']('confidence_single');_0x2457a8&&(_0x274ab0=_0x2457a8[_0x307065(0x5fc)]);}const _0x44e74e={'answer':_0x4044c2,'wasConfident':_0x274ab0};proceedToNextQuestion(_0x44e74e);}async function finalizePerQuestionQuiz(){const _0x2d7583=_0x18fcf7,_0xdf526c=currentDisplayedQuiz[_0x2d7583(0x3b7)][_0x2d7583(0x624)](_0x3ed8de=>_0x3ed8de[_0x2d7583(0x434)]===_0x2d7583(0x693));_0xdf526c?showMessage(_0x2d7583(0x475)):showMessage(_0x2d7583(0x135));const _0xf7dbd5=currentQuizData['id'],_0x304f65=doc(db,_0x2d7583(0x944)+appId+'/public/data/quizzes/'+_0xf7dbd5+_0x2d7583(0xcad),currentStudentName),_0xee4207=await getDoc(_0x304f65),_0x41b298=_0xee4207['exists']()?_0xee4207[_0x2d7583(0x9e7)]():{},_0x385538=_0x41b298['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x385538);}function getResultsFilename(){const _0x133c21=_0x18fcf7,_0x13717d=document[_0x133c21(0x360)](_0x133c21(0x2cf))[_0x133c21(0x946)]['replace'](/[^a-z0-9]/gi,'_')[_0x133c21(0xc54)]();return _0x133c21(0x3d0)+(_0x13717d||'quiz');}function exportResultsAsImage(){const _0x18355a=_0x18fcf7,_0x45538d=document[_0x18355a(0x360)](_0x18355a(0xa96));showMessage(_0x18355a(0xb2e)),html2canvas(_0x45538d)[_0x18355a(0x315)](_0x358118=>{const _0x2db2e1=_0x18355a,_0x455b7f=document[_0x2db2e1(0xa1f)]('a');_0x455b7f[_0x2db2e1(0x254)]=getResultsFilename()+_0x2db2e1(0xc23),_0x455b7f['href']=_0x358118[_0x2db2e1(0x595)](_0x2db2e1(0x59a)),_0x455b7f['click'](),messageModal[_0x2db2e1(0x5a1)][_0x2db2e1(0x1f5)](_0x2db2e1(0x29e));});}function exportResultsAsPDF(){const _0x27a57e=_0x18fcf7,{jsPDF:_0x4ae4a3}=window[_0x27a57e(0x5ed)],_0x1aafd3=new _0x4ae4a3();_0x1aafd3['setFont'](_0x27a57e(0xb35),'normal'),_0x1aafd3[_0x27a57e(0x1fb)]({'html':_0x27a57e(0x750)}),_0x1aafd3[_0x27a57e(0x82d)](getResultsFilename()+_0x27a57e(0xa25));}function exportResultsAsWord(){const _0x5b4e6d=_0x18fcf7,_0x2e6138=_0x5b4e6d(0x37a)+_0x5b4e6d(0x93d)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x5b4e6d(0x218),_0x39f68c=_0x5b4e6d(0x12c),_0x3b80ec=_0x2e6138+document[_0x5b4e6d(0x360)](_0x5b4e6d(0xa96))[_0x5b4e6d(0x1a0)]+_0x39f68c,_0x198c20=_0x5b4e6d(0xb49)+encodeURIComponent(_0x3b80ec),_0x55e173=document['createElement']('a');document[_0x5b4e6d(0x9c6)][_0x5b4e6d(0x661)](_0x55e173),_0x55e173['href']=_0x198c20,_0x55e173[_0x5b4e6d(0x254)]=getResultsFilename()+_0x5b4e6d(0x599),_0x55e173[_0x5b4e6d(0xc47)](),document['body']['removeChild'](_0x55e173);}function exportResultsAsExcel(){const _0x36d1fc=_0x18fcf7,_0x4bcdbb=document[_0x36d1fc(0x360)](_0x36d1fc(0x286));let _0x5be0a8=[];for(let _0x152fb6=0x0;_0x152fb6<_0x4bcdbb[_0x36d1fc(0x80b)][_0x36d1fc(0x633)];_0x152fb6++){let _0x620622=[],_0x1bd989=_0x4bcdbb['rows'][_0x152fb6]['querySelectorAll'](_0x36d1fc(0x182));for(let _0x3c4eef=0x0;_0x3c4eef<_0x1bd989[_0x36d1fc(0x633)];_0x3c4eef++){_0x620622[_0x36d1fc(0x62c)]('\x22'+_0x1bd989[_0x3c4eef]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x5be0a8['push'](_0x620622[_0x36d1fc(0x155)](','));}const _0x4d7370=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5be0a8[_0x36d1fc(0x155)]('\x0a')],{'type':_0x36d1fc(0xa6b)}),_0x90ecff=document[_0x36d1fc(0xa1f)]('a');_0x90ecff[_0x36d1fc(0x20a)]=URL[_0x36d1fc(0xc15)](_0x4d7370),_0x90ecff[_0x36d1fc(0x254)]=getResultsFilename()+'.csv',_0x90ecff[_0x36d1fc(0xc47)]();}function exportTableAsImage(_0x289b5d,_0x3c89f4){const _0x48c679=_0x18fcf7,_0x42769c=document[_0x48c679(0x360)](_0x289b5d);if(!_0x42769c){showMessage(_0x48c679(0x849));return;}showMessage(_0x48c679(0xb2e)),html2canvas(_0x42769c)[_0x48c679(0x315)](_0x33ef4e=>{const _0x10d412=_0x48c679,_0x3ed69b=document['createElement']('a');_0x3ed69b['download']=_0x3c89f4+_0x10d412(0xc23),_0x3ed69b[_0x10d412(0x20a)]=_0x33ef4e[_0x10d412(0x595)](_0x10d412(0x59a)),_0x3ed69b['click'](),messageModal[_0x10d412(0x5a1)][_0x10d412(0x1f5)](_0x10d412(0x29e));});}function exportTableAsPDF(_0x186b1b,_0x393263){const _0x14e585=_0x18fcf7,{jsPDF:_0x40a40d}=window['jspdf'],_0x4747d4=new _0x40a40d();_0x4747d4[_0x14e585(0x4c7)](_0x14e585(0xb35),'normal'),_0x4747d4[_0x14e585(0x1fb)]({'html':'#'+_0x186b1b}),_0x4747d4[_0x14e585(0x82d)](_0x393263+_0x14e585(0xa25));}function exportTableAsWord(_0x26abc9,_0x3b5f06){const _0x3daab7=_0x18fcf7,_0x23b0c6=document[_0x3daab7(0x360)](_0x26abc9);if(!_0x23b0c6){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x28bfab=_0x3daab7(0x37a)+_0x3daab7(0x93d)+_0x3daab7(0x2a5)+_0x3daab7(0x218),_0x1c741f=_0x3daab7(0x12c),_0x4d0b8b=_0x28bfab+_0x23b0c6[_0x3daab7(0x1a0)]+_0x1c741f,_0x133047=_0x3daab7(0xb49)+encodeURIComponent(_0x4d0b8b),_0x118e11=document['createElement']('a');document[_0x3daab7(0x9c6)][_0x3daab7(0x661)](_0x118e11),_0x118e11[_0x3daab7(0x20a)]=_0x133047,_0x118e11[_0x3daab7(0x254)]=_0x3b5f06+'.doc',_0x118e11[_0x3daab7(0xc47)](),document['body'][_0x3daab7(0x95d)](_0x118e11);}function exportTableAsExcel(_0x4108ae,_0x452163){const _0x180175=_0x18fcf7,_0x5b9765=document[_0x180175(0x360)](_0x4108ae);if(!_0x5b9765){showMessage(_0x180175(0x849));return;}let _0x1277bc=[];for(let _0x36d7bf=0x0;_0x36d7bf<_0x5b9765[_0x180175(0x80b)][_0x180175(0x633)];_0x36d7bf++){let _0x290f0a=[],_0x1940a9=_0x5b9765[_0x180175(0x80b)][_0x36d7bf][_0x180175(0x801)](_0x180175(0x182));for(let _0x5e601b=0x0;_0x5e601b<_0x1940a9[_0x180175(0x633)];_0x5e601b++){_0x290f0a['push']('\x22'+_0x1940a9[_0x5e601b][_0x180175(0x3d4)][_0x180175(0x955)](/"/g,'\x22\x22')+'\x22');}_0x1277bc[_0x180175(0x62c)](_0x290f0a[_0x180175(0x155)](','));}const _0x1f9e61=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1277bc['join']('\x0a')],{'type':_0x180175(0xa6b)}),_0x3c920c=document[_0x180175(0xa1f)]('a');_0x3c920c[_0x180175(0x20a)]=URL[_0x180175(0xc15)](_0x1f9e61),_0x3c920c['download']=_0x452163+_0x180175(0x293),_0x3c920c[_0x180175(0xc47)]();}function renderAnalytics(_0x3d934c,_0x47654c){const _0x5a2d21=_0x18fcf7,_0x109765=_0x47654c[_0x5a2d21(0x2bb)](_0x23de9f=>_0x23de9f['latestScore']!==undefined),_0x420ef2=currentProjectData[_0x5a2d21(0x257)][_0x5a2d21(0x633)],_0xce1a9a=_0x109765[_0x5a2d21(0x633)],_0x1740e5=_0x420ef2-_0xce1a9a,_0x23f395=_0x420ef2>0x0?_0xce1a9a/_0x420ef2*0x64:0x0,_0x13630a=_0x109765[_0x5a2d21(0x985)](_0xd717aa=>_0xd717aa[_0x5a2d21(0xb72)]),_0x140f02=_0x13630a[_0x5a2d21(0x633)]>0x0?_0x13630a[_0x5a2d21(0x3a8)]((_0x48fbdf,_0x17d3b9)=>_0x48fbdf+_0x17d3b9,0x0)/_0x13630a[_0x5a2d21(0x633)]:0x0,_0x259aba=_0x3d934c['questions'][_0x5a2d21(0x633)],_0x264ca8=_0x259aba>0x0?_0x140f02/_0x259aba*0x64:0x0,_0x1d814d=calculateItemAnalysis(_0x3d934c,_0x109765),_0x4c6849=calculateReliabilityKR20(_0x3d934c,_0x109765,_0x1d814d['perQuestionStats']);let _0x5ed5b4='';if(_0x4c6849!==null){let _0xdeac39='';if(_0x4c6849>=0.9)_0xdeac39=_0x5a2d21(0xaff);else{if(_0x4c6849>=0.8)_0xdeac39=_0x5a2d21(0xbc3);else{if(_0x4c6849>=0.7)_0xdeac39='ดี';else{if(_0x4c6849>=0.6)_0xdeac39=_0x5a2d21(0x85b);else _0xdeac39=_0x5a2d21(0x16a);}}}_0x5ed5b4=_0x5a2d21(0x371)+_0x4c6849[_0x5a2d21(0x8ac)](0x2)+_0x5a2d21(0x50e)+_0xdeac39+_0x5a2d21(0x7c9);}const _0x35fe98=document[_0x5a2d21(0x360)](_0x5a2d21(0xb65));_0x35fe98[_0x5a2d21(0x1a0)]=_0x5a2d21(0xa30)+_0x23f395[_0x5a2d21(0x8ac)](0x0)+_0x5a2d21(0xacd)+_0xce1a9a+'/'+_0x420ef2+_0x5a2d21(0x42f)+_0x140f02[_0x5a2d21(0x8ac)](0x2)+_0x5a2d21(0x2b6)+_0x264ca8[_0x5a2d21(0x8ac)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x13630a[_0x5a2d21(0x633)]>0x0?Math[_0x5a2d21(0x897)](..._0x13630a):_0x5a2d21(0xc1c))+_0x5a2d21(0x871)+(_0x13630a[_0x5a2d21(0x633)]>0x0?Math[_0x5a2d21(0x5b6)](..._0x13630a):_0x5a2d21(0xc1c))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ed5b4+_0x5a2d21(0x733);const _0x4a620c=document[_0x5a2d21(0x360)](_0x5a2d21(0x735));_0x4a620c&&_0x4a620c[_0x5a2d21(0xbee)]();const _0x3dc903='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x35fe98['insertAdjacentHTML']('afterend',_0x3dc903);const _0x660a07=currentProjectData['students']||[];renderSubmissionChart(_0xce1a9a,_0x1740e5,_0x109765,_0x660a07),renderScoreDistributionChart(_0x109765,_0x259aba),renderQuestionAnalytics(_0x3d934c,_0x109765,_0x660a07),renderInterestingStats(_0x3d934c,_0x109765);}async function handleExportLessonPDF(){const _0x229f84=_0x18fcf7,_0xaf3a72=document[_0x229f84(0x360)]('lesson-plan-content'),_0x1a8b8f=document[_0x229f84(0x360)]('lesson-plan-title')[_0x229f84(0x946)],_0x5248ca=window['open']('','_blank'),_0x32ccdf=_0x229f84(0x7d4)+_0x1a8b8f+_0x229f84(0x88d)+_0xaf3a72[_0x229f84(0x1a0)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5248ca[_0x229f84(0x4f9)]['write'](_0x32ccdf),_0x5248ca[_0x229f84(0x4f9)][_0x229f84(0x914)](),_0x5248ca[_0x229f84(0x1e8)]=function(){setTimeout(()=>{const _0x4b026d=_0x20ce;_0x5248ca[_0x4b026d(0x5ac)]();},0x5dc);};}function renderInterestingStats(_0x43f7cc,_0x4d75af){const _0x5d7318=_0x18fcf7,_0x513d05=document[_0x5d7318(0x360)](_0x5d7318(0x240));if(!_0x513d05)return;if(_0x4d75af[_0x5d7318(0x633)]===0x0){_0x513d05[_0x5d7318(0x1a0)]=_0x5d7318(0xb5b);return;}const _0x265ea1=_0x43f7cc[_0x5d7318(0x3b7)][_0x5d7318(0x985)]((_0x204af7,_0x213730)=>({'index':_0x213730+0x1,'text':_0x204af7[_0x5d7318(0xcec)]||_0x204af7[_0x5d7318(0x7e5)],'correct':0x0}));_0x4d75af[_0x5d7318(0xc92)](_0x12d7a6=>{const _0xb03629=_0x5d7318,_0x465d56=_0x12d7a6[_0xb03629(0xc5e)][_0x12d7a6[_0xb03629(0xc5e)][_0xb03629(0x633)]-0x1];_0x465d56&&_0x465d56[_0xb03629(0x2e1)]&&_0x465d56[_0xb03629(0x2e1)][_0xb03629(0xc92)](_0x4bc693=>{const _0x41a497=_0xb03629,_0x470ff8=_0x265ea1['find'](_0xc2e7d0=>_0xc2e7d0[_0x41a497(0xc85)]===_0x4bc693['originalQuestionText']);_0x4bc693[_0x41a497(0xb33)]&&_0x470ff8&&_0x470ff8['correct']++;});});const _0x4db241=_0x4d75af[_0x5d7318(0x633)],_0x48c4f8=Math[_0x5d7318(0x897)](..._0x265ea1[_0x5d7318(0x985)](_0xd019a8=>_0xd019a8['correct'])),_0x4d2a5e=Math[_0x5d7318(0x5b6)](..._0x265ea1['map'](_0x4afed9=>_0x4afed9['correct'])),_0x3427ef=_0x265ea1['filter'](_0x19c2b8=>_0x19c2b8['correct']===_0x48c4f8)[_0x5d7318(0x985)](_0x2f119c=>_0x5d7318(0x268)+_0x2f119c[_0x5d7318(0xb44)]),_0x1e8bbf=_0x265ea1[_0x5d7318(0x2bb)](_0x3d057b=>_0x3d057b[_0x5d7318(0xa1c)]===_0x4d2a5e)[_0x5d7318(0x985)](_0x27f2d0=>'ข้อ\x20'+_0x27f2d0[_0x5d7318(0xb44)]),_0x11faca=_0x4d75af[_0x5d7318(0x5a4)]((_0x2755ae,_0x5654cd)=>_0x5654cd[_0x5d7318(0xb72)]-_0x2755ae['latestScore'])[_0x5d7318(0x2bb)]((_0x48160e,_0x2ebfb7,_0x22e5a2)=>_0x48160e[_0x5d7318(0xb72)]===_0x22e5a2[0x0][_0x5d7318(0xb72)]),_0x5362d8=_0x4d75af[_0x5d7318(0x5a4)]((_0x53823a,_0x4d1577)=>_0x53823a[_0x5d7318(0xb72)]-_0x4d1577[_0x5d7318(0xb72)])['filter']((_0x427682,_0x2ab0e4,_0xab297a)=>_0x427682[_0x5d7318(0xb72)]===_0xab297a[0x0][_0x5d7318(0xb72)]),_0x43accf=_0x5d7318(0x7d7)+_0x3427ef[_0x5d7318(0x155)](',\x20')+_0x5d7318(0x77f)+_0x48c4f8+_0x5d7318(0x6e2)+_0x4db241+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x1e8bbf[_0x5d7318(0x155)](',\x20')+_0x5d7318(0x77f)+(_0x4db241-_0x4d2a5e)+_0x5d7318(0x6e2)+_0x4db241+_0x5d7318(0x527)+_0x11faca[_0x5d7318(0x985)](_0x27385=>_0x27385[_0x5d7318(0x372)])[_0x5d7318(0x155)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x11faca[0x0][_0x5d7318(0xb72)]+_0x5d7318(0x137)+_0x5362d8[_0x5d7318(0x985)](_0x29e503=>_0x29e503[_0x5d7318(0x372)])['join'](',\x20')+_0x5d7318(0xc36)+_0x5362d8[0x0][_0x5d7318(0xb72)]+_0x5d7318(0x8e9);_0x513d05[_0x5d7318(0x1a0)]=_0x43accf;}function renderSubmissionChart(_0x334e61,_0xc40d9c,_0x393655,_0xd68ee1){const _0x1a70ba=_0x18fcf7,_0x1e3410=document['getElementById'](_0x1a70ba(0x3cf))['getContext']('2d'),_0x18b6ad=_0x393655[_0x1a70ba(0x985)](_0xed74e2=>_0xed74e2['studentName']),_0x1fced5=_0xd68ee1[_0x1a70ba(0x2bb)](_0x519c27=>!_0x18b6ad['includes'](_0x519c27));chartInstances[_0x1a70ba(0x40f)]&&chartInstances[_0x1a70ba(0x40f)][_0x1a70ba(0x328)](),chartInstances[_0x1a70ba(0x40f)]=new Chart(_0x1e3410,{'type':_0x1a70ba(0x936),'data':{'labels':['ส่งแล้ว',_0x1a70ba(0xacc)],'datasets':[{'data':[_0x334e61,_0xc40d9c],'backgroundColor':['#10B981',_0x1a70ba(0xce5)],'borderColor':[_0x1a70ba(0x7b2),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x2fab19){const _0x5489c1=_0x1a70ba;let _0x3e57ba=_0x2fab19['label']||'';return _0x3e57ba&&(_0x3e57ba+=':\x20'),_0x3e57ba+=_0x2fab19[_0x5489c1(0x868)],_0x3e57ba;},'afterLabel':function(_0x49ebad){const _0x197dd6=_0x1a70ba;let _0x370cbf;return _0x49ebad['dataIndex']===0x0?_0x370cbf=_0x18b6ad:_0x370cbf=_0x1fced5,_0x370cbf[_0x197dd6(0x633)]>0x0?_0x370cbf[_0x197dd6(0x155)]('\x0a'):_0x197dd6(0x9b0);}}}}}});}function renderScoreDistributionChart(_0x5e56c9,_0x9c3a76){const _0x2d78c7=_0x18fcf7,_0x4528ee=document[_0x2d78c7(0x360)](_0x2d78c7(0xb02))['getContext']('2d'),_0x4fec05={};for(let _0x4c6001=0x0;_0x4c6001<=_0x9c3a76;_0x4c6001++){_0x4fec05[_0x4c6001]=0x0;}_0x5e56c9[_0x2d78c7(0xc92)](_0x2abd55=>{const _0x3972b9=_0x2d78c7;_0x4fec05[_0x2abd55[_0x3972b9(0xb72)]]!==undefined&&_0x4fec05[_0x2abd55['latestScore']]++;}),chartInstances[_0x2d78c7(0x8c2)]&&chartInstances[_0x2d78c7(0x8c2)][_0x2d78c7(0x328)](),chartInstances['score']=new Chart(_0x4528ee,{'type':_0x2d78c7(0xb3d),'data':{'labels':Object[_0x2d78c7(0xa9d)](_0x4fec05),'datasets':[{'label':_0x2d78c7(0x367),'data':Object[_0x2d78c7(0x85e)](_0x4fec05),'backgroundColor':_0x2d78c7(0x15c),'borderColor':_0x2d78c7(0x2ef),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x2d78c7(0x341)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x51d72f){const _0x41e71f=_0x2d78c7,_0x59d6bd=_0x51d72f[_0x41e71f(0x1b4)],_0x502ca0=_0x5e56c9['filter'](_0x485776=>_0x485776[_0x41e71f(0xb72)]==_0x59d6bd)['map'](_0xc85eea=>_0xc85eea['studentName']);return _0x502ca0[_0x41e71f(0x633)]>0x0?_0x502ca0[_0x41e71f(0x155)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x27d515,_0x3fe2ab,_0x45ce18){const _0x7900aa=_0x18fcf7,_0x2944d8=document[_0x7900aa(0x360)](_0x7900aa(0x6d0));if(_0x45ce18[_0x7900aa(0x633)]===0x0){_0x2944d8['innerHTML']='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x466851=calculateItemAnalysis(_0x27d515,_0x3fe2ab),_0x4c4f2c=calculateDistractorAnalysis(_0x27d515,_0x3fe2ab);let _0x2e107b='';_0x466851[_0x7900aa(0x844)]&&(_0x2e107b=_0x7900aa(0x938)+_0x466851[_0x7900aa(0x844)][_0x7900aa(0x52f)][_0x7900aa(0x633)]+_0x7900aa(0xae5)+_0x466851[_0x7900aa(0x844)][_0x7900aa(0x52f)][_0x7900aa(0x985)](_0x5c4af6=>_0x7900aa(0x859)+_0x5c4af6+_0x7900aa(0xc38))[_0x7900aa(0x155)]('')+_0x7900aa(0x795)+_0x466851[_0x7900aa(0x844)][_0x7900aa(0x7cc)][_0x7900aa(0x633)]+_0x7900aa(0xae5)+_0x466851[_0x7900aa(0x844)][_0x7900aa(0x7cc)][_0x7900aa(0x985)](_0x2aca76=>_0x7900aa(0x859)+_0x2aca76+_0x7900aa(0xc38))[_0x7900aa(0x155)]('')+_0x7900aa(0x288));let _0x2cbeb2='';const _0x13f5a3=_0x3fe2ab[_0x7900aa(0x985)](_0x42c5b0=>_0x42c5b0[_0x7900aa(0x372)]),_0x29bfb8=_0x130ff3=>{const _0x352980=_0x7900aa;if(_0x130ff3>=0.8)return _0x352980(0x875);if(_0x130ff3>=0.6)return _0x352980(0x24e);if(_0x130ff3>=0.4)return _0x352980(0xb18);if(_0x130ff3>=0.2)return _0x352980(0x332);return _0x352980(0x336);},_0x5246cf=_0x3c43ec=>{const _0x5890a1=_0x7900aa;if(_0x3c43ec<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x3c43ec>=0.4)return _0x5890a1(0x3de);if(_0x3c43ec>=0.3)return _0x5890a1(0x9de);if(_0x3c43ec>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x5890a1(0x52a);},_0x9b459d=_0x22cf3c=>{const _0x4a5f3d=_0x7900aa,_0x33cc8c=_0x22cf3c['toFixed'](0x0);if(parseFloat(_0x33cc8c)===0x64)return _0x4a5f3d(0x673)+_0x33cc8c+_0x4a5f3d(0x933);if(_0x22cf3c>=0x32)return _0x4a5f3d(0xa5b)+_0x33cc8c+_0x4a5f3d(0x933);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x33cc8c+_0x4a5f3d(0x933);};_0x27d515[_0x7900aa(0x3b7)]['forEach']((_0x1b44b1,_0x1dacba)=>{const _0x44a621=_0x7900aa,_0x354ed6=_0x466851['perQuestionStats'][_0x1dacba],_0x323f58=_0x4c4f2c[_0x1dacba],_0x3aeb7b=_0x1b44b1[_0x44a621(0x7e5)]||_0x1b44b1[_0x44a621(0xcec)]||_0x1b44b1[_0x44a621(0x2f6)];let _0x3eb4c7=0x0;const _0x38f4e3=[],_0x15bc64=[];_0x3fe2ab[_0x44a621(0xc92)](_0x598ff3=>{const _0x211d4b=_0x44a621,_0x3903bb=_0x598ff3[_0x211d4b(0xc5e)][_0x598ff3[_0x211d4b(0xc5e)]['length']-0x1];if(_0x3903bb&&_0x3903bb[_0x211d4b(0x2e1)]){const _0x3ebabf=_0x3903bb['answers'][_0x211d4b(0x64b)](_0x45ec45=>_0x45ec45[_0x211d4b(0x354)]===_0x3aeb7b)??_0x3903bb[_0x211d4b(0x2e1)][_0x1dacba]??null;_0x3ebabf&&(_0x3ebabf['isCorrect']?(_0x3eb4c7++,_0x38f4e3[_0x211d4b(0x62c)](_0x598ff3['studentName'])):_0x15bc64['push'](_0x598ff3[_0x211d4b(0x372)]));}});const _0x3a9298=_0x3fe2ab[_0x44a621(0x633)]>0x0?_0x3eb4c7/_0x3fe2ab['length']*0x64:0x0,_0xe85da2=_0x45ce18['filter'](_0xb94ce6=>!_0x13f5a3[_0x44a621(0xba6)](_0xb94ce6)),_0x2b7e30=_0x354ed6?_0x44a621(0x2e4)+_0x354ed6['p']['toFixed'](0x2)+_0x44a621(0x236)+_0x29bfb8(_0x354ed6['p'])+_0x44a621(0x58d)+_0x354ed6['r'][_0x44a621(0x8ac)](0x2)+_0x44a621(0x236)+_0x5246cf(_0x354ed6['r'])+_0x44a621(0xae4)+_0x9b459d(_0x3a9298)+_0x44a621(0x35b):'';let _0xa5279f='';_0x323f58&&(_0xa5279f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object['keys'](_0x323f58)[_0x44a621(0x985)](_0x3ef89c=>{const _0x13d6c9=_0x44a621,_0x42c427=_0x323f58[_0x3ef89c],_0x4da8b5=parseInt(_0x3ef89c)===_0x1b44b1[_0x13d6c9(0x274)],_0x1988f7=!_0x4da8b5&&_0x42c427[_0x13d6c9(0x44e)]>_0x42c427['upper_group_count'];return _0x13d6c9(0x6bd)+(_0x4da8b5?'bg-green-100\x20font-bold':'')+_0x13d6c9(0x1cb)+(_0x4da8b5?'✔\x20':'')+_0x42c427['text']+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x42c427[_0x13d6c9(0x39f)]+_0x13d6c9(0xb3e)+_0x42c427[_0x13d6c9(0x44e)]+'\x20'+(_0x1988f7?'👍':'')+_0x13d6c9(0xb3e)+_0x42c427[_0x13d6c9(0x683)]+_0x13d6c9(0x775);})['join']('')+_0x44a621(0xbea));let _0x23b293='';_0x354ed6&&_0x354ed6['upperGroupResponders']&&(_0x23b293=_0x44a621(0x7f2)+_0x354ed6['upperGroupResponders'][_0x44a621(0x633)]+_0x44a621(0x4ca)+_0x354ed6[_0x44a621(0x688)][_0x44a621(0x985)](_0x4f391e=>'<li>'+(_0x4f391e[_0x44a621(0xb33)]?_0x44a621(0xbac):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x4f391e[_0x44a621(0x3d8)]+_0x44a621(0xc38))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x354ed6[_0x44a621(0x452)][_0x44a621(0x633)]+_0x44a621(0x4ca)+_0x354ed6[_0x44a621(0x452)]['map'](_0x3db240=>_0x44a621(0x859)+(_0x3db240[_0x44a621(0xb33)]?_0x44a621(0xbac):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x3db240['name']+'</li>')[_0x44a621(0x155)]('')+_0x44a621(0xb6d)),_0x2cbeb2+=_0x44a621(0x5a8)+(_0x1dacba+0x1)+':\x20'+_0x3aeb7b+_0x44a621(0x831)+_0x2b7e30+_0x44a621(0xbdf)+_0x3aeb7b+_0x44a621(0x493)+_0x3eb4c7+'\x20จาก\x20'+_0x3fe2ab[_0x44a621(0x633)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x3a9298[_0x44a621(0x8ac)](0x0)+_0x44a621(0x73f)+_0x38f4e3[_0x44a621(0x633)]+_0x44a621(0x75f)+(_0x38f4e3[_0x44a621(0x633)]>0x0?_0x38f4e3[_0x44a621(0x155)](',\x20'):_0x44a621(0x9b0))+_0x44a621(0x4bd)+_0x15bc64[_0x44a621(0x633)]+_0x44a621(0x75f)+(_0x15bc64[_0x44a621(0x633)]>0x0?_0x15bc64[_0x44a621(0x155)](',\x20'):_0x44a621(0x9b0))+_0x44a621(0x712)+_0xe85da2[_0x44a621(0x633)]+_0x44a621(0x75f)+(_0xe85da2[_0x44a621(0x633)]>0x0?_0xe85da2[_0x44a621(0x155)](',\x20'):_0x44a621(0x9b0))+_0x44a621(0xcc8)+_0xa5279f+_0x44a621(0x96c)+_0x23b293+_0x44a621(0xc44);}),_0x2944d8[_0x7900aa(0x1a0)]=_0x2e107b+_0x2cbeb2;try{window['MathJax']&&MathJax[_0x7900aa(0x5b0)]&&MathJax['typesetPromise']([_0x2944d8]);}catch(_0x4b3d32){console[_0x7900aa(0x537)](_0x7900aa(0xc52),_0x4b3d32);}}function calculateDistractorAnalysis(_0x2181d7,_0x492ec6){const _0x139979=_0x18fcf7,_0x5c79b4={};if(_0x492ec6[_0x139979(0x633)]<0x2)return _0x5c79b4;const _0x4ed2c2=[..._0x492ec6][_0x139979(0x5a4)]((_0x5142ae,_0xce3458)=>{const _0xc4f2e2=_0x139979,_0x4cdf8a=_0xce3458['latestScore']-_0x5142ae[_0xc4f2e2(0xb72)];if(_0x4cdf8a!==0x0)return _0x4cdf8a;const _0x318eea=_0x5142ae[_0xc4f2e2(0xc5e)]?.[_0xc4f2e2(0x633)]||0x1,_0x2d8008=_0xce3458['attempts']?.[_0xc4f2e2(0x633)]||0x1,_0x3dae74=_0x318eea-_0x2d8008;if(_0x3dae74!==0x0)return _0x3dae74;const _0x70821c=new Date(_0x5142ae[_0xc4f2e2(0x39d)]),_0x521eb7=new Date(_0xce3458[_0xc4f2e2(0x39d)]),_0x2fdc01=_0x70821c-_0x521eb7;if(_0x2fdc01!==0x0)return _0x2fdc01;return _0x5142ae[_0xc4f2e2(0x372)][_0xc4f2e2(0x69b)](_0xce3458[_0xc4f2e2(0x372)],'th');}),_0x3cd9bc=_0x4ed2c2[_0x139979(0x633)],_0x586236=Math[_0x139979(0x897)](0x1,Math[_0x139979(0x910)](_0x3cd9bc*0.33)),_0x3706df=_0x4ed2c2[_0x139979(0x9b7)](0x0,_0x586236),_0x9558d2=_0x4ed2c2[_0x139979(0x9b7)](-_0x586236);return _0x2181d7[_0x139979(0x3b7)]['forEach']((_0x1cd0c8,_0x494419)=>{const _0xb4782=_0x139979;if(_0x1cd0c8['questionType']!==_0xb4782(0xc24)||!_0x1cd0c8[_0xb4782(0x211)])return;const _0x15ea02=_0x1cd0c8[_0xb4782(0xcec)],_0xc175a8={};_0x1cd0c8[_0xb4782(0x211)][_0xb4782(0xc92)]((_0x1d9cbc,_0xe1bed7)=>{_0xc175a8[_0xe1bed7]={'text':_0x1d9cbc,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x4ed2c2[_0xb4782(0xc92)](_0x2ebe31=>{const _0x109514=_0xb4782,_0x5061ac=_0x2ebe31[_0x109514(0xc5e)][_0x2ebe31[_0x109514(0xc5e)]['length']-0x1],_0x24df1b=_0x5061ac['answers'][_0x109514(0x64b)](_0x19789a=>_0x19789a[_0x109514(0x354)]===_0x15ea02);if(_0x24df1b&&_0x24df1b[_0x109514(0x895)]!==null){const _0x4d429d=_0x1cd0c8['options']['findIndex'](_0x52f702=>_0x52f702===_0x24df1b['answerText']);_0x4d429d!==-0x1&&_0xc175a8[_0x4d429d]&&(_0xc175a8[_0x4d429d][_0x109514(0x683)]++,_0x3706df[_0x109514(0xba6)](_0x2ebe31)&&_0xc175a8[_0x4d429d][_0x109514(0x39f)]++,_0x9558d2['includes'](_0x2ebe31)&&_0xc175a8[_0x4d429d][_0x109514(0x44e)]++);}}),_0x5c79b4[_0x494419]=_0xc175a8;}),_0x5c79b4;}function calculateReliabilityKR20(_0xb0ae95,_0x1467e3,_0x2f7d10){const _0x5352ce=_0x18fcf7,_0x2247dc=_0xb0ae95[_0x5352ce(0x3b7)][_0x5352ce(0x633)];if(_0x2247dc<0x2||_0x1467e3[_0x5352ce(0x633)]<0x2)return null;const _0x43eb0f=_0x1467e3['map'](_0x1898b4=>_0x1898b4[_0x5352ce(0xb72)]),_0x196bbe=_0x43eb0f[_0x5352ce(0x3a8)]((_0x5e4551,_0x2e484e)=>_0x5e4551+_0x2e484e,0x0)/_0x43eb0f['length'],_0x436080=_0x43eb0f[_0x5352ce(0x985)](_0xe03959=>Math['pow'](_0xe03959-_0x196bbe,0x2))[_0x5352ce(0x3a8)]((_0x225b1d,_0x2cf3d5)=>_0x225b1d+_0x2cf3d5,0x0)/_0x43eb0f[_0x5352ce(0x633)];if(_0x436080===0x0)return null;let _0x4bed4d=0x0;for(let _0x18878d=0x0;_0x18878d<_0x2247dc;_0x18878d++){const _0x514557=_0x2f7d10[_0x18878d]?.['p'];if(_0x514557===undefined)continue;const _0x37b9c8=0x1-_0x514557;_0x4bed4d+=_0x514557*_0x37b9c8;}if(_0x4bed4d===0x0)return null;const _0x4aac1b=_0x2247dc/(_0x2247dc-0x1)*(0x1-_0x4bed4d/_0x436080);if(_0x4aac1b>0x1)return null;return _0x4aac1b;}async function handleAnalyzeClass(){const _0x241abb=_0x18fcf7;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x3184d5=collection(db,'artifacts/'+appId+_0x241abb(0x340)+currentQuizData['id']+'/submissions'),_0x2654cd=await getDocs(_0x3184d5),_0x551e40=_0x2654cd[_0x241abb(0x8d0)][_0x241abb(0x985)](_0x2ccea1=>_0x2ccea1[_0x241abb(0x9e7)]());if(_0x551e40[_0x241abb(0x633)]<0x2){showMessage(_0x241abb(0x508));return;}const _0x5d8155=document[_0x241abb(0x360)]('strength-weakness-analysis-container');_0x5d8155['innerHTML']=_0x241abb(0x3be),document['getElementById'](_0x241abb(0x4e8))[_0x241abb(0xa78)]=!![];const _0x562855=_0x551e40['map']((_0x93ceff,_0x603791)=>{const _0x4ac9ec=_0x241abb,_0x14d2a8=_0x93ceff[_0x4ac9ec(0xc5e)][_0x93ceff[_0x4ac9ec(0xc5e)][_0x4ac9ec(0x633)]-0x1];if(!_0x14d2a8)return'';return _0x4ac9ec(0x3c8)+(_0x603791+0x1)+'\x20('+_0x93ceff[_0x4ac9ec(0x372)]+_0x4ac9ec(0x5ff)+_0x14d2a8['score']+'/'+_0x93ceff[_0x4ac9ec(0xcbd)]+_0x4ac9ec(0x6ec)+JSON[_0x4ac9ec(0x639)](_0x14d2a8[_0x4ac9ec(0x2e1)])+_0x4ac9ec(0x346);})[_0x241abb(0x155)](_0x241abb(0x5f7)),_0x442175=_0x241abb(0xcae)+currentQuizData['topic']+_0x241abb(0x31a)+JSON['stringify'](currentQuizData[_0x241abb(0x3b7)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x562855+_0x241abb(0x4fe),_0x1b9c57={'type':_0x241abb(0x6f6),'properties':{'classStrengths':{'type':_0x241abb(0x512),'items':{'type':_0x241abb(0x279)}},'classWeaknesses':{'type':_0x241abb(0x512),'items':{'type':_0x241abb(0x279)}},'teacherSuggestions':{'type':_0x241abb(0x512),'items':{'type':_0x241abb(0x279)}}},'required':[_0x241abb(0xbc5),_0x241abb(0x276),'teacherSuggestions']};try{const _0x1d8f22=await callAnalysisApi(_0x442175,_0x1b9c57);displayClassAnalysis(_0x1d8f22);}catch(_0x1873ae){console['error']('Error\x20during\x20class\x20analysis:',_0x1873ae),_0x5d8155[_0x241abb(0x1a0)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x1873ae[_0x241abb(0x42e)]+_0x241abb(0xc57);}finally{document[_0x241abb(0x360)]('analyze-strengths-btn')[_0x241abb(0xa78)]=![];}}function displayClassAnalysis(_0x318fd1){const _0x5a4399=_0x18fcf7,_0x3e2cc5=document[_0x5a4399(0x360)](_0x5a4399(0x721));if(!_0x318fd1){_0x3e2cc5[_0x5a4399(0x1a0)]=_0x5a4399(0xcee);return;}_0x3e2cc5[_0x5a4399(0x1a0)]=_0x5a4399(0x618)+_0x318fd1[_0x5a4399(0xbc5)][_0x5a4399(0x985)](_0x3e3fdc=>_0x5a4399(0x859)+_0x3e3fdc+_0x5a4399(0xc38))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x318fd1[_0x5a4399(0x276)][_0x5a4399(0x985)](_0x5b79dc=>_0x5a4399(0x859)+_0x5b79dc+'</li>')[_0x5a4399(0x155)]('')+_0x5a4399(0x35c)+_0x318fd1[_0x5a4399(0xc56)]['map'](_0x1a1dfc=>'<li>'+_0x1a1dfc+_0x5a4399(0xc38))[_0x5a4399(0x155)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x4a629d,_0x3ee86b){const _0x198277=_0x18fcf7,_0x378c8e=_0x198277(0x64e)+_0x4a629d[_0x198277(0x94f)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x4a629d[_0x198277(0x94f)]+_0x198277(0x64f)+_0x4a629d[_0x198277(0x3b7)][_0x198277(0x985)]((_0x57786e,_0x4da85e)=>_0x198277(0x820)+(_0x4da85e+0x1)+'.\x20'+_0x57786e[_0x198277(0xcec)]+_0x198277(0x85f)+(_0x57786e[_0x198277(0x931)]?_0x198277(0xc2c)+_0x57786e[_0x198277(0x931)]+_0x198277(0x2c6):'')+_0x198277(0xa4f))[_0x198277(0x155)]('')+_0x198277(0xa12);_0x3ee86b[_0x198277(0x4f9)][_0x198277(0x3b6)](_0x378c8e),_0x3ee86b[_0x198277(0x4f9)][_0x198277(0x914)](),_0x3ee86b[_0x198277(0x1e8)]=function(){setTimeout(()=>{_0x3ee86b['print']();},0x3e8);};}async function generateWorksheet(){const _0x35886e=_0x18fcf7,_0x4013e6=document['getElementById'](_0x35886e(0x53e))[_0x35886e(0x1db)][_0x35886e(0x665)]();if(!_0x4013e6){showMessage(_0x35886e(0xcaf));return;}const _0x41f564=document[_0x35886e(0x360)](_0x35886e(0x2cc))[_0x35886e(0x5fc)],_0x410039=_0x41f564?'':_0x35886e(0x7fe),_0x50b43e=window['open']('',_0x35886e(0x22e));_0x50b43e[_0x35886e(0x4f9)][_0x35886e(0x3b6)](_0x35886e(0xb93));const _0x22e6d6=parseInt(document[_0x35886e(0x360)]('num-questions')[_0x35886e(0x1db)]),_0x272820=document[_0x35886e(0x360)](_0x35886e(0x627))['checked'],_0x1ec9fd=_0x272820?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x3724fb=_0x35886e(0x862)+_0x410039+_0x35886e(0x12b)+_0x22e6d6+_0x35886e(0x32b)+_0x4013e6+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ec9fd+_0x35886e(0x325)+simpleMathPrompt+_0x35886e(0x638),_0x541983={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x35886e(0x512),'items':{'type':_0x35886e(0x6f6),'properties':{'questionText':{'type':_0x35886e(0x279)},'imageCode':{'type':_0x35886e(0x279)}},'required':[_0x35886e(0xcec)]}}},'required':[_0x35886e(0x94f),'questions']};document[_0x35886e(0x360)]('loader-text')[_0x35886e(0x946)]='',document[_0x35886e(0x360)]('loader')['classList'][_0x35886e(0xbee)](_0x35886e(0x29e)),document['getElementById'](_0x35886e(0x982))[_0x35886e(0x5a1)]['remove'](_0x35886e(0x29e)),generateWorksheetBtn['disabled']=!![];try{const _0x52ecd6=await callAnalysisApi(_0x3724fb,_0x541983);formatAndPrintWorksheet(_0x52ecd6,_0x50b43e);}catch(_0x4bca38){console[_0x35886e(0x537)](_0x35886e(0xbc0),_0x4bca38);if(_0x50b43e)_0x50b43e[_0x35886e(0x914)]();showMessage(_0x35886e(0x97c));}finally{document[_0x35886e(0x360)](_0x35886e(0x491))[_0x35886e(0x5a1)][_0x35886e(0x1f5)](_0x35886e(0x29e)),document[_0x35886e(0x360)](_0x35886e(0x982))['classList'][_0x35886e(0x1f5)](_0x35886e(0x29e)),generateWorksheetBtn[_0x35886e(0xa78)]=![];}}async function callAnalysisApi(_0x4d41ae,_0x974d37){const _0x6339a8=_0x18fcf7,_0x2b7179={'contents':[{'role':_0x6339a8(0x32e),'parts':[{'text':_0x4d41ae}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x974d37}},_0x140962='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x5d4f74=_0x6339a8(0x459)+_0x140962,_0x361687=await fetch(_0x5d4f74,{'method':_0x6339a8(0x6d7),'headers':{'Content-Type':_0x6339a8(0x476)},'body':JSON['stringify'](_0x2b7179)});if(!_0x361687['ok'])throw new Error(_0x6339a8(0x604)+_0x361687[_0x6339a8(0x23b)]);const _0x192d34=await _0x361687[_0x6339a8(0xa87)]();if(_0x192d34[_0x6339a8(0x259)]?.[0x0]?.[_0x6339a8(0x5f9)]?.[_0x6339a8(0x5b1)]?.[0x0])return JSON[_0x6339a8(0x74a)](_0x192d34['candidates'][0x0]['content']['parts'][0x0][_0x6339a8(0xc85)]);else{let _0x35e5db=_0x6339a8(0x6a9);if(_0x192d34[_0x6339a8(0x8f1)]?.[_0x6339a8(0x3a4)])_0x35e5db='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x192d34['promptFeedback'][_0x6339a8(0x3a4)]+'.';else _0x192d34[_0x6339a8(0x259)]?.[0x0]?.['finishReason']&&_0x192d34['candidates'][0x0]['finishReason']!=='STOP'&&(_0x35e5db=_0x6339a8(0x6c9)+_0x192d34[_0x6339a8(0x259)][0x0][_0x6339a8(0x80f)]+'.');console['error'](_0x35e5db,JSON[_0x6339a8(0x639)](_0x192d34));throw new Error(_0x35e5db);}}async function handleStartSyncMode(_0x44b995,_0x20e378=![],_0x268890=_0x18fcf7(0x7d9)){const _0x39f703=_0x18fcf7,_0x1315aa=allQuizzes[_0x39f703(0x64b)](_0x1c7440=>_0x1c7440['id']===_0x44b995)||allQuizzesGlobal[_0x39f703(0x64b)](_0xad8a59=>_0xad8a59['id']===_0x44b995);if(!_0x1315aa){showMessage(_0x39f703(0x9c8));return;}currentQuizData=getShuffledQuiz(_0x1315aa);const _0x39b40c=Math[_0x39f703(0x910)](0x3e8+Math[_0x39f703(0xc45)]()*0x2328)[_0x39f703(0xa76)]();try{const _0x339b29=await addDoc(collection(db,'artifacts/'+appId+_0x39f703(0x69d)),{'quizId':_0x1315aa['id'],'pin':_0x39b40c,'status':_0x39f703(0x900),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x20e378,'players':{},'gameVariant':_0x268890,'reviewQuestionIndex':0x0});currentLiveGameId=_0x339b29['id'],showView('live-game'),renderSyncLobbyView(_0x39b40c,_0x1315aa[_0x39f703(0x94f)]),listenForSyncGameUpdates();}catch(_0x20f0a2){console[_0x39f703(0x537)](_0x39f703(0x3b1),_0x20f0a2),showMessage(_0x39f703(0x531));}}function calculateFinalPodiumScores(_0x6d3517){const _0x1961d2=_0x18fcf7;if(!_0x6d3517||!_0x6d3517[_0x1961d2(0xa5a)]||!_0x6d3517[_0x1961d2(0x326)])return _0x6d3517[_0x1961d2(0x326)]||{};const _0x57e615=_0x6d3517[_0x1961d2(0xa5a)]['questions']['length'],_0x1aab65=JSON[_0x1961d2(0x74a)](JSON[_0x1961d2(0x639)](_0x6d3517['players']));return Object[_0x1961d2(0x85e)](_0x1aab65)[_0x1961d2(0xc92)](_0x4e9770=>{const _0x489372=_0x1961d2,_0x2e73ac=_0x4e9770['score'];let _0x27a588=_0x2e73ac,_0x20203c=0x0;_0x6d3517['isConfidenceScoringEnabled']&&_0x4e9770[_0x489372(0x2e1)]&&_0x4e9770[_0x489372(0x2e1)][_0x489372(0xc92)](_0x2097dd=>{const _0x135bb3=_0x489372;if(_0x2097dd[_0x135bb3(0xb33)]&&(_0x2097dd['wasConfident']===!![]||_0x2097dd[_0x135bb3(0x8bb)]===_0x135bb3(0xb05)))_0x20203c+=0x1;else!_0x2097dd[_0x135bb3(0xb33)]&&(_0x2097dd[_0x135bb3(0x8bb)]===!![]||_0x2097dd[_0x135bb3(0x8bb)]===_0x135bb3(0xb05))&&(_0x20203c-=0x1);}),_0x27a588+=_0x20203c,_0x57e615>0x0&&_0x2e73ac===_0x57e615&&(_0x27a588+=0x1,_0x4e9770[_0x489372(0x229)]=!![]),_0x4e9770[_0x489372(0x8c2)]=_0x27a588;}),_0x1aab65;}function listenForSyncGameUpdates(){const _0x4fd078=_0x18fcf7;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x55f9e0=doc(db,_0x4fd078(0x944)+appId+_0x4fd078(0x69d),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x55f9e0,_0x291b27=>{const _0x2d93d8=_0x4fd078;if(!_0x291b27[_0x2d93d8(0x815)]()){sessionStorage[_0x2d93d8(0x134)]('activeGameSession');if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x2d93d8(0x252)?showView(_0x2d93d8(0x6b8)):showView(_0x2d93d8(0x35e));return;}const _0x3aa1a7=_0x291b27[_0x2d93d8(0x9e7)]();currentMode===_0x2d93d8(0x252)?updateAdminSyncView(_0x3aa1a7):updateStudentSyncView(_0x3aa1a7);});}function renderSyncLobbyView(_0x45cc3b,_0x205e33){const _0x369d0b=_0x18fcf7;liveGameView['innerHTML']=_0x369d0b(0x50f)+_0x205e33+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x45cc3b+_0x369d0b(0x85d);const _0x5d3b8a=document[_0x369d0b(0x360)](_0x369d0b(0xaeb)),_0x3e3c1a=document[_0x369d0b(0x360)](_0x369d0b(0x7b3));_0x5d3b8a[_0x369d0b(0x616)](_0x369d0b(0x251),()=>{const _0x20af87=_0x369d0b;_0x3e3c1a[_0x20af87(0xbce)]['display']=_0x5d3b8a[_0x20af87(0x5fc)]?_0x20af87(0x28d):_0x20af87(0x2da);}),document['getElementById']('start-sync-game-btn')[_0x369d0b(0x616)]('click',async()=>{const _0x39ca50=_0x369d0b,_0x3801f5=doc(db,'artifacts/'+appId+_0x39ca50(0x69d),currentLiveGameId),_0x5129ba=document['getElementById'](_0x39ca50(0xaeb))['checked'];await updateDoc(_0x3801f5,{'status':_0x39ca50(0x13f),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x5129ba});});}function updateAdminSyncView(_0x21972e){const _0x12b26b=_0x18fcf7;switch(_0x21972e[_0x12b26b(0x23b)]){case _0x12b26b(0x900):renderSyncLobbyView(_0x21972e[_0x12b26b(0xb11)],_0x21972e[_0x12b26b(0xa5a)][_0x12b26b(0x94f)]);const _0x3d61d2=Object[_0x12b26b(0xccb)](_0x21972e[_0x12b26b(0x326)]||{})[_0x12b26b(0x2bb)](([_0x15d9a3,_0x17406c])=>_0x17406c[_0x12b26b(0x23b)]!==_0x12b26b(0x565));document['getElementById'](_0x12b26b(0x613))[_0x12b26b(0x946)]=_0x3d61d2[_0x12b26b(0x633)],document[_0x12b26b(0x360)](_0x12b26b(0xc0d))[_0x12b26b(0x1a0)]=_0x3d61d2[_0x12b26b(0x985)](([_0x2e16bd,_0x534864])=>_0x12b26b(0x19a)+_0x2e16bd+_0x12b26b(0x769)+_0x2e16bd+_0x12b26b(0x790))['join']('')||_0x12b26b(0x95b),document[_0x12b26b(0x360)]('start-sync-game-btn')[_0x12b26b(0xa78)]=_0x3d61d2['length']===0x0;break;case _0x12b26b(0x13f):const _0x37d9f9=Object[_0x12b26b(0x85e)](_0x21972e['players']||{})[_0x12b26b(0x2bb)](_0x35f536=>_0x35f536[_0x12b26b(0x23b)]!==_0x12b26b(0x565)),_0x438da1=_0x37d9f9[_0x12b26b(0x2bb)](_0x404f64=>_0x404f64['answered'])[_0x12b26b(0x633)],_0x14a928=_0x438da1===_0x37d9f9[_0x12b26b(0x633)]&&_0x37d9f9[_0x12b26b(0x633)]>0x0;if(_0x14a928&&_0x21972e['status']===_0x12b26b(0x13f)){const _0x4ce2e0=doc(db,_0x12b26b(0x944)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x4ce2e0,{'status':_0x12b26b(0x2a4)});}else{if(document['getElementById'](_0x12b26b(0xb34))===null)renderAdminSyncQuestionView(_0x21972e);else{const _0x44dee3=document[_0x12b26b(0x360)]('answer-counter');_0x44dee3&&(_0x44dee3[_0x12b26b(0x946)]=_0x438da1+'/'+_0x37d9f9['length']);const _0x18d7d0=document[_0x12b26b(0x360)](_0x12b26b(0x827));_0x18d7d0&&(_0x18d7d0[_0x12b26b(0x1a0)]=_0x37d9f9[_0x12b26b(0x985)](_0x59610d=>{const _0x165991=_0x12b26b,_0x4426b7=_0x59610d[_0x165991(0x4c1)]?_0x165991(0x66d):'bg-gray-500',_0x186d4f=_0x59610d[_0x165991(0x4c1)]?_0x165991(0x22c):_0x165991(0x2eb);return _0x165991(0xc86)+_0x4426b7+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x186d4f+_0x165991(0x5da)+_0x59610d[_0x165991(0x3d8)]+_0x165991(0xbd9)+_0x59610d[_0x165991(0x3d8)]+_0x165991(0x865);})[_0x12b26b(0x155)](''));}}break;case'summary':const _0x1aff15=_0x21972e['currentQuestionIndex'],_0x498d86=_0x21972e[_0x12b26b(0xa5a)][_0x12b26b(0x3b7)][_0x1aff15];renderSyncSummaryView(_0x21972e,_0x498d86,!![]);break;case'results':const _0x7ae0b8=_0x21972e[_0x12b26b(0x359)]||_0x12b26b(0x7d9);_0x7ae0b8===_0x12b26b(0x577)?renderAdminSyncDashboard(_0x21972e,!![],_0x21972e[_0x12b26b(0x74b)]):renderAdminSyncDashboard(_0x21972e,!![],_0x21972e['currentQuestionIndex']);break;case _0x12b26b(0x394):_0x21972e['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x21972e);sessionStorage[_0x12b26b(0x134)]('activeGameSession');const _0x3b3111=calculateFinalPodiumScores(_0x21972e);showPodiumView(_0x3b3111,_0x12b26b(0xa52));break;}}function renderAdminSyncQuestionView(_0x54fb7c){const _0x544148=_0x18fcf7,_0x4e790e=_0x54fb7c['currentQuestionIndex'],_0x4ad6f5=_0x54fb7c[_0x544148(0xa5a)][_0x544148(0x3b7)][_0x4e790e],_0x54b734=_0x54fb7c[_0x544148(0xa5a)][_0x544148(0x3b7)][_0x544148(0x633)],_0x4fe921=Object[_0x544148(0x85e)](_0x54fb7c[_0x544148(0x326)]||{})[_0x544148(0x2bb)](_0x4e0a0b=>_0x4e0a0b[_0x544148(0x23b)]!==_0x544148(0x565)),_0xb85f39=_0x4fe921[_0x544148(0x2bb)](_0xf53360=>_0xf53360[_0x544148(0x4c1)])[_0x544148(0x633)],_0x285df2=_0xb85f39===_0x4fe921[_0x544148(0x633)]&&_0x4fe921[_0x544148(0x633)]>0x0,_0x347363=(_0x4ad6f5['options']||[])[_0x544148(0x985)](_0x29f7ec=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x29f7ec+_0x544148(0x2c6))['join']('');liveGameView[_0x544148(0x1a0)]=_0x544148(0xb56)+(_0x4e790e+0x1)+_0x544148(0x6e2)+_0x54b734+_0x544148(0x4a3)+_0xb85f39+'/'+_0x4fe921[_0x544148(0x633)]+_0x544148(0x250)+_0x4ad6f5[_0x544148(0xcec)]+_0x544148(0x14c)+_0x347363+_0x544148(0x4b1)+(!_0x285df2?_0x544148(0xa78):'')+_0x544148(0xb36);if(window[_0x544148(0xb63)])MathJax[_0x544148(0x5b0)]();document['getElementById'](_0x544148(0x881))[_0x544148(0x616)]('click',async()=>{const _0x4c15e1=_0x544148,_0x303e1b=doc(db,_0x4c15e1(0x944)+appId+_0x4c15e1(0x69d),currentLiveGameId);await updateDoc(_0x303e1b,{'status':_0x4c15e1(0x322)});}),document[_0x544148(0x360)]('open-sync-scratchpad-btn')[_0x544148(0x8b1)]=()=>{const _0x13e808=_0x544148;openScratchpad(_0x4ad6f5,_0x4ad6f5[_0x13e808(0x211)]||[]);},document[_0x544148(0x360)](_0x544148(0x642))[_0x544148(0x616)](_0x544148(0xc47),()=>{const _0x4f65d8=_0x544148;document[_0x4f65d8(0x360)](_0x4f65d8(0xb34))[_0x4f65d8(0x5a1)]['toggle'](_0x4f65d8(0x29e));});}function renderSyncLeaderboardView(_0x466e79,_0x2e660a){const _0x4189dd=_0x18fcf7,_0x2b929a=Object[_0x4189dd(0x85e)](_0x466e79[_0x4189dd(0x326)]||{});_0x2b929a[_0x4189dd(0x5a4)]((_0x24bf75,_0x5921ac)=>_0x5921ac[_0x4189dd(0x8c2)]-_0x24bf75[_0x4189dd(0x8c2)]);const _0x328b74=_0x2b929a[_0x4189dd(0x9b7)](0x0,0x5);let _0x2de370='';if(_0x2e660a){const _0x2a9c60=_0x466e79['currentQuestionIndex']>=_0x466e79[_0x4189dd(0xa5a)]['questions'][_0x4189dd(0x633)]-0x1;_0x2de370=_0x4189dd(0x9bb)+(_0x2a9c60?_0x4189dd(0xb50):_0x4189dd(0x744))+_0x4189dd(0xc48);}else _0x2de370='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView['innerHTML']=_0x4189dd(0x1d1)+_0x328b74[_0x4189dd(0x985)]((_0x40ca47,_0x22d582)=>_0x4189dd(0x738)+(_0x22d582+0x1)+'.\x20'+_0x40ca47[_0x4189dd(0x3d8)]+'</span><span\x20class=\x22font-bold\x22>'+_0x40ca47['score']+_0x4189dd(0x265))[_0x4189dd(0x155)]('')+_0x4189dd(0xa6e)+_0x2de370+_0x4189dd(0xc0a),_0x2e660a&&document[_0x4189dd(0x360)](_0x4189dd(0x852))['addEventListener'](_0x4189dd(0xc47),async()=>{const _0x1951a7=_0x4189dd,_0x31378d=doc(db,'artifacts/'+appId+_0x1951a7(0x69d),currentLiveGameId),_0x18eaee=_0x466e79[_0x1951a7(0xa20)]+0x1;if(_0x18eaee<_0x466e79[_0x1951a7(0xa5a)]['questions']['length']){const _0x4a9b41={};Object[_0x1951a7(0xa9d)](_0x466e79[_0x1951a7(0x326)])[_0x1951a7(0xc92)](_0x486404=>{const _0x93d1e3=_0x1951a7;_0x4a9b41[_0x93d1e3(0xc41)+_0x486404+_0x93d1e3(0xa43)]=![];}),await updateDoc(_0x31378d,{..._0x4a9b41,'status':_0x1951a7(0x13f),'currentQuestionIndex':_0x18eaee,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x31378d,{'status':_0x1951a7(0x394)});});}async function handleJoinSyncGame(){const _0x38cc7a=_0x18fcf7,_0x35f59c=prompt(_0x38cc7a(0x535));if(!_0x35f59c||_0x35f59c[_0x38cc7a(0x665)]()[_0x38cc7a(0x633)]!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x12c3e6=collection(db,'artifacts/'+appId+'/public/data/syncGames'),_0x54cd0e=query(_0x12c3e6,where(_0x38cc7a(0xb11),'==',_0x35f59c[_0x38cc7a(0x665)]()),where(_0x38cc7a(0x23b),'==',_0x38cc7a(0x900))),_0x534558=await getDocs(_0x54cd0e);if(_0x534558[_0x38cc7a(0x62a)]){showMessage(_0x38cc7a(0xc21));return;}const _0xd45a59=_0x534558[_0x38cc7a(0x8d0)][0x0];currentLiveGameId=_0xd45a59['id'];const _0x39ae23=_0xd45a59[_0x38cc7a(0x9e7)](),_0x504f03=doc(db,_0x38cc7a(0x944)+appId+_0x38cc7a(0x46a),_0x39ae23['quizId']),_0x3f5771=await getDoc(_0x504f03);if(!_0x3f5771[_0x38cc7a(0x815)]())throw new Error(_0x38cc7a(0x986));const _0x4b4cd8=_0x3f5771[_0x38cc7a(0x9e7)](),_0x2eef89=doc(db,_0x38cc7a(0x944)+appId+_0x38cc7a(0x382),_0x4b4cd8[_0x38cc7a(0x15d)]),_0x494b69=await getDoc(_0x2eef89);if(!_0x494b69[_0x38cc7a(0x815)]())throw new Error(_0x38cc7a(0x12d));currentQuizData=_0x39ae23['shuffledQuiz'];const _0x323371=_0x494b69['data']();showView(_0x38cc7a(0xceb)),showTeamPlayerSelection(_0x323371[_0x38cc7a(0x257)],_0x4b4cd8[_0x38cc7a(0x94f)]);const _0x3ca792=document['getElementById']('confirm-team-players-btn');_0x3ca792[_0x38cc7a(0x8b1)]=confirmAndJoinSyncGame;}catch(_0x5bab48){console[_0x38cc7a(0x537)]('Error\x20joining\x20sync\x20game:',_0x5bab48),showMessage(_0x38cc7a(0x920)+_0x5bab48['message']);}}function updateStudentSyncView(_0x5d0e57){const _0x24a565=_0x18fcf7,_0x31119c=_0x5d0e57[_0x24a565(0x326)][localTeamPlayers[0x0]];switch(_0x5d0e57[_0x24a565(0x23b)]){case _0x24a565(0x900):showView(_0x24a565(0xa33)),liveGameView[_0x24a565(0x1a0)]=_0x24a565(0x9d4);break;case'question':const _0x5aa77d=localTeamPlayers[_0x24a565(0x987)](_0xeccad7=>_0x5d0e57['players'][_0xeccad7]?.[_0x24a565(0x4c1)]===!![]);_0x5aa77d?liveGameView[_0x24a565(0x1a0)]=_0x24a565(0x73c):renderStudentSyncQuestionView(_0x5d0e57);break;case _0x24a565(0x2a4):liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x24a565(0x322):localPlayerTurnIndex=0x0;const _0x178988=_0x5d0e57[_0x24a565(0x359)]||_0x24a565(0x7d9);_0x178988===_0x24a565(0x577)?renderAdminSyncDashboard(_0x5d0e57,![],_0x5d0e57[_0x24a565(0x74b)]):renderStudentSyncResultsView(_0x5d0e57);break;case _0x24a565(0x394):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x24a565(0xb86)]('fullscreenchange',handleFullscreenChange),document[_0x24a565(0xb86)](_0x24a565(0x95f),handleVisibilityChange),sessionStorage[_0x24a565(0x134)](_0x24a565(0x509));const _0x406163=calculateFinalPodiumScores(_0x5d0e57);showPodiumView(_0x406163,_0x24a565(0xa52));break;}}function renderStudentSyncResultsView(_0x54a2d8){const _0x45527b=_0x18fcf7,_0x380108=localTeamPlayers[_0x45527b(0x985)](_0x17ad0e=>_0x54a2d8['players'][_0x17ad0e])[_0x45527b(0x2bb)](Boolean);_0x380108['sort']((_0x216d86,_0x41caa5)=>(_0x41caa5[_0x45527b(0x8c2)]||0x0)-(_0x216d86['score']||0x0));const _0x354c71=_0x54a2d8[_0x45527b(0x359)]||'classic',_0x1de896=_0x54a2d8['shuffledQuiz']['questions'];let _0x335136='';if(_0x354c71===_0x45527b(0x577)){const _0x150022=_0x54a2d8['reviewQuestionIndex']>=_0x1de896[_0x45527b(0x633)]-0x1;_0x150022?_0x335136=_0x45527b(0x8bc):_0x335136='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>';}else{const _0x39599f=_0x54a2d8[_0x45527b(0xa20)]>=_0x1de896[_0x45527b(0x633)]-0x1;_0x39599f?_0x335136=_0x45527b(0x8bc):_0x335136='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';}const _0x5dad3c=_0x45527b(0x1d6)+_0x380108['map']((_0x2d5a55,_0x1e5e86)=>_0x45527b(0x48f)+(_0x1e5e86+0x1)+_0x45527b(0x4ea)+_0x2d5a55[_0x45527b(0x3d8)]+_0x45527b(0xbe0)+_0x2d5a55[_0x45527b(0x8c2)]+_0x45527b(0xbf9))[_0x45527b(0x155)]('')+_0x45527b(0x213)+_0x335136+_0x45527b(0xc0f);liveGameView[_0x45527b(0x1a0)]=_0x5dad3c;}function renderStudentSyncQuestionView(_0x2a7330){const _0x41ae8d=_0x18fcf7;while(localPlayerTurnIndex<localTeamPlayers[_0x41ae8d(0x633)]&&_0x2a7330[_0x41ae8d(0x326)][localTeamPlayers[localPlayerTurnIndex]]?.['answered']===!![]){localPlayerTurnIndex++;}const _0x40c5dc=localTeamPlayers[localPlayerTurnIndex];if(!_0x40c5dc)return;const _0xcbda60=_0x2a7330['currentQuestionIndex'],_0x45c39d=_0x2a7330['shuffledQuiz'][_0x41ae8d(0x3b7)][_0x41ae8d(0x633)],_0x164ecd=_0x2a7330[_0x41ae8d(0xa5a)]['questions'][_0xcbda60],_0x49b2fc=_0x164ecd[_0x41ae8d(0x434)]||_0x2a7330[_0x41ae8d(0xa5a)][_0x41ae8d(0x677)];let _0xc30241='',_0x133330=![];switch(_0x49b2fc){case _0x41ae8d(0x8e2):_0xc30241=_0x41ae8d(0x925);break;case _0x41ae8d(0x693):case _0x41ae8d(0x4d3):_0x133330=!![],_0xc30241=_0x41ae8d(0xb67);break;case _0x41ae8d(0x463):_0x133330=!![],_0xc30241=_0x41ae8d(0x130)+(_0x164ecd[_0x41ae8d(0x749)]||[])[_0x41ae8d(0x985)](_0xd12209=>_0x41ae8d(0x327)+_0xd12209+'\x22>'+_0xd12209+_0x41ae8d(0x76e))[_0x41ae8d(0x155)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'multiple_choice':default:_0xc30241=(_0x164ecd[_0x41ae8d(0x211)]||[])['map']((_0x112604,_0x496e88)=>_0x41ae8d(0x34c)+_0x496e88+_0x41ae8d(0x180)+_0x112604+_0x41ae8d(0x24f))[_0x41ae8d(0x155)]('');break;}liveGameView[_0x41ae8d(0x1a0)]=_0x41ae8d(0x5e5)+(_0xcbda60+0x1)+_0x41ae8d(0x6e2)+_0x45c39d+_0x41ae8d(0x78e)+_0x40c5dc+_0x41ae8d(0x59e)+(_0x164ecd[_0x41ae8d(0xcec)]||_0x164ecd[_0x41ae8d(0x7e5)])+_0x41ae8d(0x435)+_0xc30241+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(window[_0x41ae8d(0xb63)])MathJax[_0x41ae8d(0x5b0)]();function _0x2ca800(_0x5a4dfb,_0x27c76f,_0x12db6a,_0x1a9365){const _0xada958=_0x41ae8d,_0x1937ce=_0x12db6a['isConfidenceScoringEnabled']===!![];if(_0x1937ce){document['getElementById']('confidence-modal')[_0xada958(0x9d2)][_0xada958(0x3ba)]=_0xada958(0xa52);const _0x46480d=document['getElementById']('selected-answer-index-hidden');_0x46480d['dataset']['answerValue']=_0x5a4dfb,_0x46480d['dataset'][_0xada958(0x13f)]=JSON[_0xada958(0x639)](_0x27c76f),_0x46480d['dataset']['gameData']=JSON[_0xada958(0x639)](_0x12db6a),_0x46480d[_0xada958(0x9d2)]['playerName']=_0x1a9365,document[_0xada958(0x360)](_0xada958(0x469))[_0xada958(0x5a1)][_0xada958(0xbee)](_0xada958(0x29e));}else handleSyncAnswerSubmit(_0x5a4dfb,_0x27c76f,_0x12db6a,_0x1a9365,![]);}_0x133330?document[_0x41ae8d(0x360)](_0x41ae8d(0xa26))[_0x41ae8d(0x616)]('click',()=>{const _0x271560=_0x41ae8d,_0x3aebae=document['getElementById'](_0x271560(0x2d3))||document[_0x271560(0x360)](_0x271560(0x41a));if(_0x3aebae[_0x271560(0x1db)][_0x271560(0x665)]()===''){showMessage(_0x271560(0x83d));return;}_0x2ca800(_0x3aebae[_0x271560(0x1db)],_0x164ecd,_0x2a7330,_0x40c5dc);}):document[_0x41ae8d(0x801)](_0x41ae8d(0x59b))[_0x41ae8d(0xc92)](_0x2b1365=>{const _0x5aab6a=_0x41ae8d;_0x2b1365['addEventListener'](_0x5aab6a(0xc47),()=>{const _0x46b3a5=_0x5aab6a;_0x2ca800(_0x2b1365[_0x46b3a5(0x9d2)][_0x46b3a5(0x1db)],_0x164ecd,_0x2a7330,_0x40c5dc);});});}async function handleSyncAnswerSubmit(_0x771fc,_0x2d3a28,_0x5ca8dd,_0x512ca9,_0x300323){const _0x3a89d3=_0x18fcf7;document['querySelectorAll']('.live-answer-btn,\x20#sync-submit-btn')['forEach'](_0x45f561=>_0x45f561['disabled']=!![]);const _0x1b0247=_0x2d3a28['questionType']||_0x5ca8dd['shuffledQuiz']['quizType'];let _0x5731f2=![],_0x1bccda=_0x771fc;switch(_0x1b0247){case'true_false':const _0x3da7b3=parseInt(_0x771fc),_0x402f72=_0x2d3a28[_0x3a89d3(0x30e)]===!![]||String(_0x2d3a28[_0x3a89d3(0x30e)])[_0x3a89d3(0xc54)]()===_0x3a89d3(0x426);_0x5731f2=_0x3da7b3===0x0&&_0x402f72||_0x3da7b3===0x1&&!_0x402f72,_0x1bccda=_0x3da7b3===0x0?'ใช่\x20/\x20ถูก':_0x3a89d3(0x67b);break;case _0x3a89d3(0x693):case _0x3a89d3(0x4d3):_0x5731f2=await gradeShortAnswer(_0x771fc,_0x2d3a28);break;case _0x3a89d3(0x463):_0x5731f2=_0x771fc===_0x2d3a28[_0x3a89d3(0xa81)];break;case _0x3a89d3(0xc24):default:const _0x16b08b=parseInt(_0x771fc);_0x5731f2=_0x16b08b===_0x2d3a28[_0x3a89d3(0x274)];_0x2d3a28[_0x3a89d3(0x211)]&&_0x2d3a28[_0x3a89d3(0x211)][_0x16b08b]&&(_0x1bccda=_0x2d3a28['options'][_0x16b08b]);break;}const _0xbb0eaa=_0x5731f2?0x1:0x0,_0x57e8c1=doc(db,'artifacts/'+appId+_0x3a89d3(0x69d),currentLiveGameId),_0xb36fd7={};_0xb36fd7[_0x3a89d3(0xc41)+_0x512ca9+_0x3a89d3(0xa45)]=increment(_0xbb0eaa),_0xb36fd7[_0x3a89d3(0xc41)+_0x512ca9+_0x3a89d3(0xa43)]=!![];let _0x1418a1=null;(_0x1b0247===_0x3a89d3(0xc24)||_0x1b0247===_0x3a89d3(0x8e2)||_0x1b0247==='fill_in_with_choices')&&(_0x1418a1=parseInt(_0x771fc));_0xb36fd7['players.'+_0x512ca9+_0x3a89d3(0xcd9)]=_0x1418a1;const _0x460f1e={'questionIndex':_0x5ca8dd[_0x3a89d3(0xa20)],'questionId':_0x2d3a28['id'],'answer':_0x771fc,'answerText':_0x1bccda,'isCorrect':_0x5731f2,'originalQuestionText':_0x2d3a28[_0x3a89d3(0xcec)]||_0x2d3a28['stem'],'wasConfident':_0x300323};_0xb36fd7[_0x3a89d3(0xc41)+_0x512ca9+_0x3a89d3(0x51c)]=arrayUnion(_0x460f1e),await updateDoc(_0x57e8c1,_0xb36fd7);}initialize();
