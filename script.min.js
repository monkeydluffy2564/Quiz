const _0x27804f=_0x2015;(function(_0x3e1a71,_0x394edc){const _0x37237d=_0x2015,_0x5911d2=_0x3e1a71();while(!![]){try{const _0x549bcf=parseInt(_0x37237d(0x2d9))/0x1+parseInt(_0x37237d(0x16c))/0x2*(parseInt(_0x37237d(0x601))/0x3)+parseInt(_0x37237d(0x7e9))/0x4*(-parseInt(_0x37237d(0x683))/0x5)+-parseInt(_0x37237d(0x488))/0x6*(-parseInt(_0x37237d(0x7f9))/0x7)+-parseInt(_0x37237d(0x10e))/0x8+parseInt(_0x37237d(0x365))/0x9+parseInt(_0x37237d(0x684))/0xa;if(_0x549bcf===_0x394edc)break;else _0x5911d2['push'](_0x5911d2['shift']());}catch(_0x412b02){_0x5911d2['push'](_0x5911d2['shift']());}}}(_0x4d74,0x43e7c));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0xd4c633=_0x2015;if('wakeLock'in navigator)try{wakeLock=await navigator[_0xd4c633(0x98a)][_0xd4c633(0x22a)]('screen'),console[_0xd4c633(0x909)](_0xd4c633(0x1a5)),wakeLock[_0xd4c633(0x2ea)](_0xd4c633(0x742),()=>{const _0x49fc7a=_0xd4c633;console[_0x49fc7a(0x909)](_0x49fc7a(0x870));});}catch(_0x341579){console[_0xd4c633(0x84a)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x341579[_0xd4c633(0x96f)]+',\x20'+_0x341579[_0xd4c633(0x3f9)]);}else console[_0xd4c633(0x696)](_0xd4c633(0x5b0));},releaseWakeLock=async()=>{const _0x49eed6=_0x2015;wakeLock!==null&&(await wakeLock[_0x49eed6(0x742)](),wakeLock=null,console[_0x49eed6(0x909)](_0x49eed6(0x20f)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x3a2f5a=_0x2015;if(dimTimer)clearTimeout(dimTimer);document[_0x3a2f5a(0x843)][_0x3a2f5a(0x24d)]['remove'](_0x3a2f5a(0x8f8)),dimTimer=setTimeout(()=>{const _0x49d489=_0x3a2f5a;document[_0x49d489(0x843)][_0x49d489(0x24d)]['add']('dimmed'),console[_0x49d489(0x909)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}function stopDimTimer(){const _0x5da115=_0x2015;if(dimTimer)clearTimeout(dimTimer);document[_0x5da115(0x843)][_0x5da115(0x24d)][_0x5da115(0x3dd)](_0x5da115(0x8f8)),window[_0x5da115(0x6ac)](_0x5da115(0x767),resetDimTimer),window[_0x5da115(0x6ac)](_0x5da115(0x4db),resetDimTimer),window['removeEventListener'](_0x5da115(0x810),resetDimTimer),window[_0x5da115(0x6ac)](_0x5da115(0x653),resetDimTimer),console[_0x5da115(0x909)](_0x5da115(0x1f3));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0;async function handleStartTeamQuiz(_0xe3a90c,_0x417a5c=![]){const _0x5ad019=_0x2015,_0x47cebc=allQuizzes[_0x5ad019(0x894)](_0x2d61f3=>_0x2d61f3['id']===_0xe3a90c)||allQuizzesGlobal[_0x5ad019(0x894)](_0x128001=>_0x128001['id']===_0xe3a90c);if(!_0x47cebc){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x47cebc);const _0x177bc0=Math[_0x5ad019(0x5f1)](0x3e8+Math['random']()*0x2328)[_0x5ad019(0x791)]();try{const _0x54f9bb=await addDoc(collection(db,_0x5ad019(0x71a)+appId+_0x5ad019(0xb8)),{'quizId':_0x47cebc['id'],'projectId':_0x47cebc['projectId'],'status':_0x5ad019(0x5ff),'pin':_0x177bc0,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x417a5c});currentTeamQuizId=_0x54f9bb['id'],showView(_0x5ad019(0x4f1)),renderAdminTeamQuizDashboard(_0x177bc0,_0x47cebc[_0x5ad019(0x2a9)]),listenForTeamQuizUpdates();}catch(_0x1f1a85){console[_0x5ad019(0x84a)](_0x5ad019(0x5f5),_0x1f1a85),showMessage(_0x5ad019(0x79c));}}function renderAdminTeamQuizDashboard(_0x544168,_0x367595,_0x397367=_0x27804f(0x36a)){const _0x4796e4=_0x27804f,_0x1dabaf=_0x397367==='group'?_0x4796e4(0x906):'Team\x20Quiz';liveGameView[_0x4796e4(0x3e2)]=_0x4796e4(0x7ef)+_0x1dabaf+':\x20'+_0x367595+_0x4796e4(0x2b9)+_0x544168+_0x4796e4(0x665),document[_0x4796e4(0x5a3)](_0x4796e4(0x45d))[_0x4796e4(0x2ea)]('click',async()=>{const _0x22edc9=_0x4796e4;showConfirmation(_0x22edc9(0x603),async()=>{const _0x532a56=_0x22edc9;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x532a56(0x71a)+appId+_0x532a56(0xb8),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x537aeb=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x537aeb,_0x470541=>{const _0x3cff58=_0x2015;if(!_0x470541[_0x3cff58(0x75f)]()){sessionStorage['removeItem'](_0x3cff58(0x1d7));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode==='admin')showMessage(_0x3cff58(0x55c));showView(currentMode===_0x3cff58(0x43a)?'project-detail':'student');return;}const _0x5c582e=_0x470541['data']();if(currentMode===_0x3cff58(0x43a)){if(_0x5c582e[_0x3cff58(0x7c9)]==='group'&&_0x5c582e[_0x3cff58(0x95a)]!==_0x3cff58(0x2ab)&&_0x5c582e[_0x3cff58(0x95a)]!==_0x3cff58(0x68f)){const _0x3ba4b6=Object['values'](_0x5c582e['groups']||{});if(_0x3ba4b6['length']>0x0){const _0x3ee468=_0x3ba4b6[_0x3cff58(0x12e)](_0x2bac65=>_0x2bac65[_0x3cff58(0xb0)]===!![]);_0x3ee468&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x5c582e);}else{if(_0x5c582e['status']===_0x3cff58(0x2ab)||_0x5c582e[_0x3cff58(0x95a)]===_0x3cff58(0x68f)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x5c582e[_0x3cff58(0x7c9)]==='group'){const _0x13df59=_0x5c582e[_0x3cff58(0x505)][userId];(!_0x13df59||!_0x13df59[_0x3cff58(0xb0)])&&renderTeamQuizQuestion();}}}});}function _0x4d74(){const _0xcb964b=['ไม่สามารถโหลดรายการโปรเจคได้','fadeStartTime','verify-answers-btn','text-red-500\x20hover:text-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','tan','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','ค่าเฉลี่ย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่มีผู้ตอบตัวเลือกนี้','</th>','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','#E5E7EB','mjx-container','เรขาคณิตวิเคราะห์','global-live-game-count','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','removeChild','results-display-select','bottom','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','retake-quiz-loop-btn','body','เซียนสมองไว','Invalid\x20response\x20structure\x20from\x20AI.','firstScore','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-leaderboard-tab','ai-quiz-generator-v3','error','<p\x20class=\x22font-bold\x20text-sm\x20','temp-loader-results','Error\x20deleting\x20submission:','ลำดับการดำเนินการ\x20(PEMDAS)','textContent','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','isScored','print','setAttribute','<svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getAttributeNS','\x20จาก\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','save-game-results-checkbox','desc','ทฤษฎีบทพื้นฐานของแคลคูลัส','text-gray-300\x20hover:text-white','badgesCount','quiz','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','input[name=\x22drill_answer\x22]:checked','fa-fire\x20text-orange-500','pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','text-gray-200','neq','user-id-display','<button\x20id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','ความคาดหมาย\x20(Expected\x20value)','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','options','Error\x20rendering\x20student\x20progress:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','27411472','create-project-modal','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','การแปลงรูปอัตลักษณ์','questionText','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','.quiz-result-card','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','parent','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','bg-green-200\x20text-green-800','ผ่าน','ใช่','download','lineWidth','bg-green-200','save-visibility-settings-btn','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','#results-table\x20thead\x20tr','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','admin-dashboard','includes','no-projects-msg','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','text-green-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','.pen-color-btn','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionType','cancel-passcode-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','find','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','shuffledQuiz','.quiz-bank-settings-btn','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','short','behavior-log-container','generated-quiz-actions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','parts','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','.edit-question-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','idealAnswer','.answers','resultsDisplay','สรุปผลสุดท้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-drill-btn','text-gray-100','สลับไปโหมดนักเรียน','behavior-log-tab-content','00:00','questionId','ไม่พบแบบทดสอบสำหรับรหัสนี้','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','fill_in_the_blank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','label','$1\x20\x5cfrac','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','confirm-join-game-btn','beginPath','removeAttribute','show_results_only','json','_opt1\x22>ไม่ใช่</label></div>','mean','bg-green-100\x20text-green-800','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','sync-player-list','cursor','</div>','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','bg-gray-500','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','verify-answers-editor-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffle-setting-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','isConfidenceScoringEnabled','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','createObjectURL','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','comparison-overall-tab','ท็อปฟอร์ม','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-tab','backgroundColor','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','API\x20call\x20failed\x20with\x20status:\x20','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','export-leaderboard-excel-btn','จับคู่แบบทดสอบสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ลบหัวข้อสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การกระจายและการจัดหมู่','global-live-game-modal','correctResponse','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','text-input-area','math-topics-checkbox-container','Error\x20updating\x20old\x20quizzes:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','FileReader\x20error:','การแจกแจงทวินาม\x20(พื้นฐาน)','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','projectSort','timerDuration','\x20คนที่ส่ง\x20ตอบถูก\x20(','values','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','.topic-name-display','dimmed','#e21b3c','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','\x20\x20\x20-\x20คำตอบ:\x20','AI\x20ไม่สามารถประมวลผลข้อมูลได้','application/json','select-all-topics-btn','ผ่านฉลุย','translate(','ข้อ\x20','save','ระบบเลขและค่าประจำหลัก','generated-quiz-container','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Group\x20Mode','quizType','highlighter-size-value','log','abs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','ยืนยันการกระทำ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','msExitFullscreen','file-upload-input','ไม่พบตารางสำหรับ\x20Export','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','บันทึกคำถามใหม่\x20','generate-from-parallel-test-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','move-quiz-project-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','deselect-all-topics-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BOOLEAN','isCorrect','create-from-bank-btn','<i\x20class=\x22fas\x20fa-magic\x22></i>','.pdf','/public/data/quizzes','text-red-700\x20bg-red-100','rgba(255,\x20255,\x200,\x200.5)','pointermove','ระบบอสมการ','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','fas\x20fa-star\x20text-yellow-500','bg-green-100\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','webkitRequestFullscreen','startsWith','2-digit','มัธยฐาน','Authentication\x20failed:','สมการเชิงเส้นตัวแปรเดียว','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','ปริมาตร/ความจุและการแปลง','_opt1\x22\x20name=\x22question','members','learningGaps','แผนการสอน','.answeredCurrentQuestion','<div\x20class=\x22','student-project-leaderboard-tab','teacherSuggestions','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dashboardConfig','worksheet-input-area','student-passcode-input','Error\x20pairing\x20quizzes:','helvetica','start-sync-game-btn','date_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','พาราโบลา','pointerup','submission-status-chart','setTransform','option','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','worksheet-tab','modal-timer-duration-input','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','</select>','ความชันเส้นสัมผัส','modal-timer-duration-container','size','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','export-excel-btn',';\x22\x20data-id=\x22','ชื่อหัวข้อห้ามว่าง','candidates','stem','perfect_score_status','view-my-progress-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','status','student-progress','loader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','\x22...','per_question','Failed\x20to\x20create/update\x20submission\x20record:','ยังไม่ส่ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.duplicate-quiz-btn','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','getPage','text-emerald-900','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','ดีเทอร์มิแนนต์','bg-red-50','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','สมการตรีโกณมิติ','<br>','cancel-quiz-settings-btn','finishReason','name','ไม่พบข้อมูลข้อสอบหลังเรียน','end-sync-game-btn','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','submittedAt','Error\x20resetting\x20project\x20order:','classWeaknesses','(^|[^\x5c\x5c])\x5cb','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','cancel-game-start-btn','q-text-','\x20ครั้ง)</span></td>','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','ไม่พบข้อมูลโปรเจค','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correct','originalQuestionText','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','STOP','padStart','copy','wakeLock','lineJoin','เส้นตรง:\x20รูปแบบสมการ','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','attempts','อัปเดตแบบทดสอบเก่า\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','passcode-prompt-message','project-list','answer-grid-container','arrayBuffer','shadowColor','p-2\x20bg-black/10\x20rounded-md','.live-answer-btn','<p><strong>คำตอบที่แนะนำ:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</span></div>','ย้ายแบบทดสอบไปโปรเจคอื่น','loopUntilPass','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างใบงาน','project-detail-view','student-initial-view','ARRAY','parseFromString','\x20คะแนน\x20','แบบทดสอบซ่อมเสริม','eraser-tool-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#F59E0B','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','pointercancel','ดีมาก','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checked','/public/data/quizzes/','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','รีเซ็ตลำดับโปรเจคแล้ว','Error\x20committing\x20score\x20updates:','Error\x20verifying\x20answers:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loop-until-pass-checkbox','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','blueprint-upload-input','.highlighter-color-btn','สมการยกกำลัง','tooltipTarget','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','readAsDataURL','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','bar','hint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','input[name=\x22team_player\x22]:checked','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','ระยะเวลา\x20(นาที):','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','save-quiz-edits-btn','Error\x20saving\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-quiz-search-input','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','#FFFFFF','lastAnswerIndex','grid-view-btn','documentElement','คะแนน','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','player-count','</td></tr>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-6\x22>','Error\x20creating\x20project:','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','pointerType','\x5csqrt{$1}','items','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20updating\x20quiz\x20status:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','onerror','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','#E0E7FF','bulk-shuffle-select','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','presentation-explanation','วงกลม:\x20สมการและสมบัติ','clientX','results-quiz-title','Error\x20updating\x20sort\x20preference:','confirm-team-players-btn','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','comeback_king','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','bg-red-200\x20text-red-800','text-red-300\x20hover:text-red-100','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','globalSettings','show-results-btn','https://corsproxy.io/?','bg-red-100','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','show-in-student-dashboard-checkbox','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','export-word-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','text-indigo-800','.regenerate-question-btn','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','copy-quiz-id-btn','startTime','screen_exit','setFont','force-math-checkbox','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','isFinished','topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<button\x20data-value=\x22','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','max','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','redo-btn','/public/data/teamQuizzes','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preventDefault','topic-tab','quiz-start-time','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','players','/public/data/practiceBank','cancel-move-quiz-btn','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-50','.ideal-answer-input','answers','กราฟฟังก์ชันตรีโกณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','back-to-results-btn','274192258111','สมการเหตุผล\x20(rational)','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','text-content-input','ระยะเวลา\x20(วินาที):','bg-green-200\x20text-green-900\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','\x20รายการ\x20สำเร็จ!','project-sort-select','คำถามถัดไป','/public/data/customMathTopics','back-to-dashboard-btn','fa-rocket\x20text-purple-500','toLocaleDateString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','imageCode','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','grid','fixedData','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','prev-question-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','student-team-selection-view','mandatory','</p><p><strong>เฉลย:</strong>\x20','$1_{$2}','ชนิดของข้อมูลและการเก็บข้อมูล','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','Error\x20unpairing\x20quizzes:','\x5cge','\x22\x20class=\x22delete-project-btn\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กำลังสร้างรูปภาพ...','postScore','กรุณาเลือกสถานะ','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','blueprint-tab','Attempting\x20to\x20save\x20game\x20results...','practiceProblems','.lastAnswerIndex','s;\x22\x20title=\x22','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','คำถามดิบ:\x20\x22','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','slice','ไม่พบข้อมูลเกม','highlighter-size-slider','projectName','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','normal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','close-game-final-btn','กำลังอ่านและเตรียมไฟล์...','quick_thinker','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','.delete-submission-btn','\x22\x20data-name=\x22','admin-password-input','/public/data/syncGames','#FEE2E2','promise','modal-loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','อัปเดตการตั้งค่าของแบบทดสอบ\x20','2960624jPvWnN','</span></td>','check-answer-btn','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','indexOf','lastAnswerCorrect','export-pdf-btn','export-worksheet-pdf-btn','generate-from-text-btn','commit','ผู้ควบคุม\x20(ทดสอบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','endTime','wasConfident','Error\x20joining\x20team\x20quiz:','bg-red-100\x20text-red-800','ยืนยันการจับคู่','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','toISOString','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','number','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','รหัสไม่ถูกต้อง','แก้ไขหัวข้อสำเร็จ','.admin-try-quiz-list-btn','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','tool','next-sync-question-btn','every','globalAlpha','deg','repeat','scratchpad-options','numPages','\x22\x20name=\x22question','ความชันและเส้นตรง','player-list-lobby','students','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','confidence-scoring-description','open-global-live-btn','quiz-results-table-body','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','none','.ai-fix-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','กรุณาใส่ชื่อนักเรียน','.question-editor-item[data-q-index=\x22','set','touchend','textarea[name=\x22team_answer\x22]','save-settings-btn','แบบทดสอบนี้หมดเวลาแล้ว','sync-matching-select','<option>กำลังโหลดโปรเจค...</option>','\x22\x20class=\x22pin-project-btn\x20','files','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','การประยุกต์เวกเตอร์พื้นฐาน','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','correctAnswerIndex','matching','.delete-svg-btn','<div\x20class=\x22my-2\x22>','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','POST','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</strong></p>','text-gray-700','mouseleave','autoTable','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันแบบชิ้นส่วน','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','อสมการเชิงเส้น','bg-emerald-100','add','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','\x20\x20\x20-\x20','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','startedAt','reset-project-order-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt0\x22\x20name=\x22question','globalCompositeOperation','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','158420nqiPVR','viewBox','docs','lesson-plan-modal','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','back-to-project-btn','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','join-live-game-btn','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','quiz-leaderboard-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','confirm-game-start-modal','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','string','sync-manage-players-btn','from','สร้างแบบทดสอบปรนัย','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','เมทริกซ์:\x20บวก/คูณ','/studentProfiles','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กฎบวกและกฎคูณ','bulk-quiz-settings-modal','live-options-container','Error\x20starting\x20group\x20quiz:','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','upper_group_count','ownerSVGElement','click','pinnedProjects','\x20ชุด)','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','disabled','justification','.scratchpad-content-wrapper','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','save-project-name-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','คะแนนยังไม่ถึงครึ่ง','ราชาคัมแบ็ก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปสแควร์รูท\x20(surd)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','การปัดเศษและประมาณค่า','answer-counter','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','.live-summary-tooltip.visible','.correct-response-input','keys','slide-counter','shuffle','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','overallGroups','questions_only','confirm-confident','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','อัตราส่วนและสัดส่วน','question-complexity-select','\x20หัวข้อ)','bulk-confidence-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pointerdown','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','text/csv;charset=utf-8;','passingScore','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปหลายเหลี่ยมและมุมภายใน','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','ไม่ใช่\x20/\x20ผิด','findIndex','targetId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','ผลรวมอนุกรม\x20(Σ)','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','multiple_choice','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','</span></p>','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','join','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','$1\x5ctext(','cdot','ตรวจทานเฉลยเสร็จสิ้น!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','pairedQuizId','<div\x20id=\x22q-image-container-','บันทึกการแก้ไข','game-start-quiz-id','insertAdjacentHTML','activeGameSession','confirm-move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','questionDisplayedAt','Error\x20starting\x20live\x20race:','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','some','\x22\x20class=\x22color-palette-btn\x20','correctAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','currentTarget','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','sort','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','touches','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','editor-quiz-topic','answerValue','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','fullscreenchange','Failed\x20to\x20get\x20standardized\x20topic:','Error\x20processing\x20file\x20for\x20AI:','.delete-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','upperGroupNames','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','หยุดระบบจับเวลาหรี่หน้าจอ','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','student-project-leaderboard-content','hover:bg-indigo-100','(ฉบับง่าย)\x20','พื้นที่สามเหลี่ยม','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','instructions','STRING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','student-result-area','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','lesson-plan-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x5cs*\x5c(','goto-next-question-btn','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','blueprint-input-area','เกิดข้อผิดพลาดในการอัปเดต:\x20','AI\x20Fix\x20Error:','.delete-student-btn','scratchpad-controls','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนคู่:','ส่งแล้ว','.live-answer-btn,\x20#sync-submit-btn','postTScore','behavior-log','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','กำลังสแกนหาแบบทดสอบเก่า...','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','<li>','.topic-actions-view','font-bold\x20text-red-700\x20line-through','timer-duration-label','\x22><p\x20class=\x22font-semibold\x22>','</option>','leaderboard-tab','cancel-admin-login-btn','การหารทศนิยม','tGain','.submittedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','scratchpad-close-btn','Enter','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','ก่อนเรียน','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','(คู่ขนาน)\x20','<h1></h1>','groups.','Error\x20starting\x20game:','deltaY','request','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','เกิดข้อผิดพลาดในการลบผลสอบ','text-yellow-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</tr>','quadraticCurveTo','totalQuestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.ai-fix-formula-btn','</p></div>','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','summary','quiz-leaderboard-table-body','เลือกโปรเจคเพื่อบันทึก','split','strength-weakness-analysis-container','ค.ร.น.\x20(LCM)','generate-from-blueprint-btn','behavior-log-tab-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความต่อเนื่อง','พื้นที่ใต้กราฟ/ระหว่างกราฟ','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','Error\x20fetching\x20quiz\x20settings:','Error\x20generating\x20lesson\x20plan:','qType','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','num-questions','สามเหลี่ยม\x20(ชนิด/สมบัติ)','project-name-input','ไม่ผ่าน','selected-answer-index-hidden','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','classList','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','confirm-global-live-btn','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','cos','[role=\x22textbox\x22]','className','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','msRequestFullscreen','ฟังก์ชันราก\x20(root)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','Error\x20displaying\x20question\x20bank:','<span\x20title=\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>กำลังโหลด...</option>','projectId','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','timerMode','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20during\x20class\x20analysis:','$1\x5c%','text-green-700\x20bg-green-100','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','rgba(239,\x2068,\x2068,\x200.9)','Error\x20loading\x20quiz\x20for\x20student:','svg','แบบทดสอบนี้ปิดใช้งานอยู่','href','.project-card-container[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-mode-select','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x20คะแนน</span></div>','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','typesetPromise','per-q-countdown','$1^{$2}','พื้นที่วงกลม/ส่วนของวงกลม','kick-player-btn','เส้นตรง:\x20ขนาน/ตั้งฉาก','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20get\x20hint:','การบวกเศษส่วน','replace','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','promptFeedback','cancel-quiz-edits-btn','Error\x20toggling\x20pin\x20status:','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','open-quiz-bank-btn','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','scores-tab-content','สเกลและแผนที่','confirm-game-start-btn','.question-editor-item','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','พอใช้','highlighter-tool-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','createElement','btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','#results-table','text-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','parse','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','student-list','delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouseup','.pointsLastQuestion','{$1}','prod','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','reduce','catch','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-green-300\x20bg-green-50','\x22><span>','topic','ดอกเบี้ยอย่างง่าย','podium','appendChild','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','การบวก','cancel-global-live-btn','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','baseVal','input[type=\x22checkbox\x22]','บันทึกผลการเล่นเกมของ\x20','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','toLowerCase','multiply','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','parallel-test-tab','Error\x20updating\x20pin\x20status:','text-yellow-800','reference-pdf-upload','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','ai-quiz-app-aefee','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-count','student','Failed\x20to\x20kick\x20player\x20','quiz-form','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','image/png','เกี่ยวกับหัวข้อ\x20\x22','start-quiz-btn','length','parentElement','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','export-compact-pdf-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอัปเดตแบบทดสอบ\x20','ลำดับเรขาคณิต\x20(GP)','AI\x20request\x20was\x20blocked.\x20Reason:\x20','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','Error\x20generating\x20from\x20link:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','5453UgoRbB','toDate','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','submit-team-answer-btn','student-quiz-area','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','temp-loader-text-results','drop','[data-topic-container-id]','การคูณเศษส่วน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','draggable-text','link-url-input','onclick','.save-custom-topic-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','\x22>ใช่</p>','addEventListener','ON_FIRE','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','manage','อัตราและอัตราหน่วย','fa-pen','(ก่อนเรียน)','\x22><i\x20class=\x22fas\x20','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','#000000','Error\x20generating\x20from\x20parallel\x20test\x20file:','scores-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','bank-tab','Error\x20duplicating\x20quiz:','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','allResponses','ความเท่ากันทุกประการของสามเหลี่ยม','function','text-blue-700','sync-short-answer-input','isLooping','#26890c','Error\x20saving\x20quiz\x20edits:','Error\x20generating\x20quiz:','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','blur','</label></div>','bg-red-500','lowerGroupResponders','file-input-area','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','quiz-type-select','focus','.move-quiz-btn','.topic-row','outerHTML','พื้นที่ผิวรูปทรงสามมิติ','analytics','touch','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','red','min','quiz-bank-modal','getBBox','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','live-player-list','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','การลบเศษส่วน','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','ไม่พบโปรเจค','gameData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Remedial\x20quiz\x20generation\x20failed:','pen','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','<i\x20class=\x22fas\x20fa-pen\x22></i>','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','อัตราการเปลี่ยนแปลงทันที','.quiz-status-btn','เกิดข้อผิดพลาดในการนำผู้เล่นออก','ยอดเยี่ยม','true','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','back-to-student-initial-btn','Error\x20listening\x20for\x20student\x20profiles:','editable-quiz-topic','button','text-indigo-600','passing-score-input','กำลังค้นหากิจกรรม...','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','student-name-input','\x22\x20สำเร็จ','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20pointer-events-none\x22>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','ไม่สามารถบันทึกการตั้งค่าได้','countdown-display','สู้ๆ\x20ลองอีกครั้งนะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</tbody></table>','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','confident','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','grabbing','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','contents','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','moveTo','originalTopic','ไม่ได้ตอบ','getItem','results-tab','หมดเวลา!\x20กำลังส่งคำตอบ...','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','empty','numeric','select','date_desc','webkitExitFullscreen','sync-player-management','quizMode','$$$1$','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','closest','$1^{\x5ccirc}','เปิด\x20(จับเวลา)','</p><div>','leaderboard-quiz-tab-content','cancel-test-btn','preTestId','perfect_score','รากที่สองและที่สาม','ตรีโกณมิติ','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','1410453lVGimF','quiz-settings-modal','ลำดับเลขคณิต\x20(AP)','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','ลบแบบทดสอบสำเร็จแล้ว','team','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','latestScore','จากไฟล์ที่แนบมานี้,\x20','/submissions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','move-quiz-modal','/users/','undefined','back-to-home-manual-release','scheduled_pending','total','Error\x20confirming\x20players:','highlighter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','tfrac','</td>','admin-try-quiz-btn','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','</p>','element','การลบ','global-quiz-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','visibilityState','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','student-reading-area','/public/data/projects/','พบข้อสอบ\x20','name_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','.export-pdf-list-btn','student-quiz-topic','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','bg-green-200\x20text-green-900','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','/questionBank','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับโปรเจค:\x20','Error\x20adding\x20students:','กราฟแท่ง\x20กราฟเส้น','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','substring','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','fas\x20fa-bookmark','ย้าย','แบบปรนัย\x204\x20ตัวเลือก','clientY','style','duration-300','การวัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','.quiz-bank-delete-btn','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','sync','default','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','earned-badges-container','เกิดข้อผิดพลาดในการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','checkbox','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','\x22\x20name=\x22team_answer\x22\x20value=\x22','innerText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','.start-game-btn','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','responses.','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','dfrac','<tr>','<div\x20class=\x22flex-1\x22></div>','ความแปรปรวน','raw','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','filter','<li\x20class=\x22','\x5cfrac{','game-pin-input','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','ตัวแปรและนิพจน์','ศูนย์','เรเดียนและการแปลงหน่วย','quiz-results-view','.score','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','มุมพิเศษ\x2045°-45°-90°','submissions','#DBEAFE','interesting-stats-wrapper','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','stdDev','times','confirmation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','export-leaderboard-image-btn','both','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','approx','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','ดูผลสรุปสุดท้าย','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','remove','results-table','\x22.\x20Ideal\x20Answer:\x20\x22','สร้างใหม่','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','td,\x20th','.topic-category','timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','text-white','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','getContext','display','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','dataIndex','ยกเลิกการจับคู่สำเร็จ','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','game-start-mode','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ที่พิมพ์ได้\x20จำนวน\x20','lowerGroupNames','รอเปิด','toLocaleString','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','start-presentation-btn','editable-text-','message','เปิดใช้งาน','สร้างแบบทดสอบ','uid','matching_item','select[name=\x22question_single\x22]','AI\x20Formula\x20Fix\x20Error:','student-name-select','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','circ','MathJax','ring-2','fa-crown\x20text-yellow-500','\x22\x5cn','<p><strong>คำตอบของคุณ:</strong>\x20','สลับไปโหมดผู้ควบคุม','ฟังก์ชันผกผัน','.delete-custom-topic-btn','close-presentation-btn','contentEditable','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','กำลังดึงข้อมูลจากลิงก์...','createElementNS','กิจกรรมสิ้นสุดลงแล้ว','วงกลม:\x20คอร์ดและเส้นสัมผัส','Error\x20joining\x20live\x20game:','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','points','div[data-question-index=\x22','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','perQuestionStats','move','.edit-quiz-btn','isAdaptive','<span\x20class=\x22font-bold\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','analytics-tab-btn','เกิดข้อผิดพลาดในการปักหมุด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-ai-result','\x5cpm','\x22>จาก:\x20','hasPerfectScoreBonus','คะแนนเต็ม!','rgba(79,\x2070,\x20229,\x200.8)','เศษส่วน\x20(ย่อ/ขยาย)','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','\x20รายการสำเร็จ!','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','th-TH','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','update','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','รูปแบบการให้เหตุผล','No\x20player\x20data\x20to\x20save.','-tab','เส้นจำนวน','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','#ffffff','-\x20ข้อ\x20','ไม่มีคำอธิบาย','opacity','admin','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','Error\x20saving\x20submission:','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','กรุณาใส่ชื่อใหม่','คะแนนเต็ม','OBJECT','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','start-game-btn','โดเมนและเรนจ์','add-student-btn','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','อนุพันธ์:\x20ผลคูณ/ผลหาร','visibilitychange','student-join-game-view','project-passcode-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','#confidence-input-','\x5cle','dragend','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','leaderboard','NUMBER','.edit-custom-topic-btn','<div\x20class=\x22mb-3\x20topic-category\x22>','scheduled','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','admin-testing','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','behaviorLog','projectSortOrder','ไม่พบเอกสารการส่งงานของ\x20','hint','คณิตการเงิน/บูรณาการ','end-team-quiz-btn','ไม่พบแบบทดสอบในระบบเลย','text','.ql-editor','touchmove','export-leaderboard-word-btn','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','ฟังก์ชันพหุนาม','Error\x20generating\x20worksheet:','\x0a---\x0a','description','user','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','bestScore','input','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','table','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','transformOrigin','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','questions','source-over','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setAttributeNS','</div>\x0a</div>\x0a','</button>','.color-palette-btn','live-race','false','.isScored','text-gray-500','ไม่พบข้อมูลแบบทดสอบ','Re-grade\x20process\x20failed:','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','กรุณาวาง\x20URL\x20ของบทความก่อน','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','title','text-indigo-700','COMEBACK_KING','confidence_single','10974FTKOZc','button[data-id]','ผู้เชี่ยวชาญ','open','message-modal','.pen-size-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','ระยะทางและจุดกึ่งกลาง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','qIndex','\x5csum','projectView','responses','<p\x20class=\x22text-xl\x22>','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','drill-feedback','quiz-editor-questions-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics-summary-cards','eraser','score','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20to\x20question\x20bank:','สุดยอด!\x20ตอบถูกทุกข้อ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','playerName','\x20</div>\x0a\x20\x20\x20\x20','test','confirmation-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','visible','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20','student-quiz-leaderboard-content','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','transparent','progress-project-select','now','อนุพันธ์:\x20กฎลูกโซ่','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','สัญกรณ์วิทยาศาสตร์','dataset','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','highlighter-tools-group','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','position','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','Error\x20verifying\x20answers\x20in\x20editor:','\x20/\x20','results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','ฟังก์ชันยกกำลัง','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','lower_group_count','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ไม่พบข้อมูลผู้ใช้','active','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[contenteditable=\x22true\x22]','จำนวนข้อ:','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','project-title','text-tab','สมการราก\x20(radical)','pre-test','bg-gray-50','has','loader-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','mousedown','leaderboard_','asc','หน่วยความยาวและการแปลง','write','difficulty-level-select','close-comparison-modal-btn','fill_in_no_choices','bg-amber-100\x20text-amber-800','lesson-plan-title','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','Error\x20loading\x20user\x20preferences:','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','touchcancel','exitFullscreen','\x22\x20ให้เป็นคำถามประเภท\x20\x22','perseverance','name_desc','answerText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-game','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','\x20from\x20sync\x20game:','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','modal-timer-mode-select','currentMode','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</body></html>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ถูกต้อง!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lineCap','modal-adaptive-quiz-checkbox','results-tab-content','(หลังเรียน)\x20','enable-passcode-checkbox','ฟังก์ชันลอการิทึม','all','groups','Error\x20saving\x20project\x20order:','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','removeItem','ถูก','จำนวนและการดำเนินการ','\x22\x20name=\x22confidence','value','live-submit-short-answer-btn','bulk-quiz-settings-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20mb-2\x22>','short_answer','อุณหภูมิและการแปลง','reveal-answer-btn','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','<div\x20class=\x22loader\x20mx-auto\x22></div>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','หัวข้อที่สร้างเอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','stopPropagation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','\x20mx-1\x20text-lg\x22></i></span>','binom','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','.copy-quiz-id-list-btn','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','push','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-id-input','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manage-tab-content','\x20ข้อ\x20','ตรวจคะแนนใหม่\x20','คัดลอกรหัสแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','</span>','student-progress-view','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','<div><input\x20type=\x22radio\x22\x20id=\x22q','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','ไม่พบแบบทดสอบ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','authed_project_','link-tab','#10B981','quizId','group','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','presentation-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','สมมาตร\x20(แกน/จุด)','สอบปกติ','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','.topic-name-input','passcode','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','team-player-status-grid','ข้อต่อไป','ฟังก์ชันเชิงเส้นและกราฟ','live-player-management','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','fa-bolt\x20text-blue-500','dispatchEvent','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','ร้อยละพื้นฐาน','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','Error\x20moving\x20quiz:','icon','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','.sort-indicator','canvas','explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว','.quiz-bank-parallel-btn','getTextContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.verification-result-editor','คัดลอกไม่สำเร็จ','restore','input[type=\x22radio\x22]:checked','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','(คัดลอก)\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','bg-blue-100','.sortable-header','Invalid\x20response\x20structure\x20from\x20AI:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','modal-confidence-scoring-checkbox','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','data:application/vnd.ms-word;charset=utf-8,','\x5cfrac{$1}{$2}','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','export-image-btn','schedule','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-confidence-mode-container','.rename-quiz-btn','.confidence-choice-btn','ไม่มี','หน่วยเวลาและการคำนวณเวลา','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','insertBefore','whole_quiz','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','fa-dumbbell\x20text-gray-700','workerSrc','half_mark_status','manual_release','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','type','fromCharCode','color','left','generate-from-file-btn','onchange','end-game-btn','confirm-bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','MathJax\x20typeset\x20error\x20(analytics):','sin','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','next-question-timed-btn','ผิด','admin-view','text-green-800','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','match','timestamp','resize','.generate-easy-version-btn','Error\x20renaming\x20quiz:','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','getElementById','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','\x20ชุดสำเร็จ!','generate-from-link-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','quiz-generation-area','.cancel-edit-topic-btn','พบ\x20Team\x20Quiz!','คณิตศาสตร์','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','Error\x20comparing\x20results:','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','ปริพันธ์จำกัด','rgba(239,\x2068,\x2068,\x200.7)','requestFullscreen','Error\x20deleting\x20quiz:','input[name=\x22status-option\x22]:checked','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','cancel-create-project-btn','modal-shuffle-select','input[type=\x22text\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','attemptNumber','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','```json','per-question-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','เกิดข้อผิดพลาดในการส่งคำตอบ','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','cancel-quiz-edits-btn-footer','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','fill_in_with_choices','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','.project-card-container','live-short-answer-input','border-indigo-400\x20ring-2\x20ring-indigo-200','gamePin','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','\x20(p=','.presentation-option','การคูณ','Error\x20saving\x20questions\x20to\x20practice\x20bank:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','sync-submit-btn','random','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','AI\x20แก้ไขคำถามสำเร็จ!','quiz-status-modal','.lastAnswerCorrect','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionIndex','%</span>','Error\x20regenerating\x20question\x20in\x20editor:','isStarred','clearRect','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','delete-all-students-btn','หลังเรียน','Failed\x20to\x20parse\x20JSON\x20from\x20AI','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','then','bulk-loop-until-pass-checkbox','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','bulk-confidence-scoring-checkbox','bg-green-400\x20text-white\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','Error\x20updating\x20custom\x20topic:','bg-blue-100\x20text-blue-800','mode-switcher-btn','project-quizzes-list','ปรับเพิ่ม/ลดเป็นร้อยละ','floor','back-to-dashboard-from-results-btn','class','rows','Error\x20starting\x20team\x20quiz:','live-game-view','ทำคะแนนได้เกินครึ่ง','</div><div\x20class=\x22space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','document','text-red-800','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','pen-tools-group','lobby','modal-results-display-select','21PSnNci','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','\x22\x20data-q-type=\x22','delete','starred-project','text-emerald-800','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-purple-50','save-quiz-btn','parallel-test-upload-input','Error\x20fetching\x20project\x20quizzes:','ค่าเสื่อมราคา','pinned-items','Error\x20confirming\x20players\x20for\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','quiz-editor-modal','\x20กลุ่ม</p></div>','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','องค์ประกอบของฟังก์ชัน','ai-quiz-app-aefee.firebaseapp.com','submit','link-input-area','วงรี','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาพิมพ์คำตอบ','input[type=\x22checkbox\x22]:checked','):\x20','leaderboard-table-body','totalPoints','สร้างชุดคำถามจับคู่','เรขาคณิต','ห.ร.ม.\x20(GCD)','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','การบวกทศนิยม','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','student-team-join','ฟังก์ชันสัมพัทธ์\x20(rational)','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','querySelector','createdBy','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','bank-input-area','\x5cfrac','การจัดหมู่\x20(Combination)','pow','เกิดข้อผิดพลาดในการอ่านไฟล์','คัดลอกแบบทดสอบสำเร็จ','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','first_try_ace','manage-players-btn','timed','\x5c\x5c\x5c\x5c(?=(','(ไม่มีชื่อ)','reset-view-btn','timer-duration-container',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','studentName','getBoundingClientRect','.draggable-text','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','per-question-timer-container','questionStatus','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-black/10','สร้างคำถามแบบใช่/ไม่ใช่','adaptive-quiz-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','ลิมิต','$1^{\x5ccirc}\x5ctext{C}','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','setItem','keydown','file-tab','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','ยังไม่เต็มนะ','#FCE7F3','results_','isPasscodeEnabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22',':</span><span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','stringify','กรุณาเลือกชื่อของคุณ','num-choices-container','<div\x20class=\x22space-y-4\x22>','quiz-results','$1\x5ctext{','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','teachingContent','ค่าความจริง/ตารางค่าความจริง','close-lesson-plan-modal-footer-btn','isRemedial','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','mixed','localeCompare','.group','ไม่ใช่','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','#student-quiz-leaderboard-content\x20thead','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','.quiz-bank-present-btn','specialist','เกิดข้อผิดพลาดในการเปลี่ยนสี','close-lesson-plan-modal-btn','change','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','px)\x20scale(','บันทึกการตั้งค่าแล้ว','add-custom-math-topic-btn','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','badges','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','target','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','height','5TNZMAJ','392020qfgAPn','ceil','<div\x20class=\x22answer-space\x22></div>','showImproveButton','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','answering','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','scratchpad-modal','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','score-distribution-chart','confidence-scoring-toggle','finished','<textarea\x20name=\x22question','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','show_results_and_answers','splice','textarea','warn','font-bold\x20text-green-700','div','preScore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','entries','submission','ยังไม่มีนักเรียนส่งงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-green-500','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','border-gray-200','settings','results-table-container','str','ฟังก์ชันกำลังสองและกราฟ','modal-passing-score-input','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','removeEventListener','fullscreenElement','toFixed','thead','wheel','อัปเดตสถานะสำเร็จ','transition-all','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','student-quiz-leaderboard-table-body','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','devicePixelRatio','.project-card-content','\x22.\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','ยอดเยี่ยม!','jspdf','\x5ctimes','width','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ตอบถูกทุกข้อในแบบทดสอบนี้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','destroy','\x22\x20name=\x22drill_answer\x22\x20value=\x22','close','index','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนหัวข้อสำหรับใบงาน','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','quiz-search-input','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','\x5cneq','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','true_false','line-through\x20text-red-700','undo-btn','Error\x20saving\x20visibility\x20settings:','players.','text/html','map','upperGroupResponders','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ใช่\x20/\x20ถูก','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','bg-red-500\x20text-white\x20font-bold','actions-container-','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','result','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','<tr\x20class=\x22','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','contains','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','comparison-modal','.regenerate-question-editor-btn','isArray','top','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','showRankings','stroke','blockReason','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','confirm-admin-login-btn','question','^{\x5ccirc}\x5ctext{C}$','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','project-detail','ควรปรับปรุง','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','comparison-overall-content','shadowBlur','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','rgba(59,\x20130,\x20246,\x200.7)','scrollY','analyze-strengths-btn','กลุ่มของคุณ','ตรวจพบการออกจากหน้าจอครบ\x20','.choice-text','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','bulk-results-display-select','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','category','dragover','answer','\x20ตัวเลือก.\x20','project-id-display','กำลังสร้างคำถามข้อ\x20','N/A','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','content','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_blank','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทฤษฎีบทพีทาโกรัสและการประยุกต์','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','จับคู่เพื่อเปรียบเทียบผล','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','artifacts/','#view-rankings-btn','export-pdf-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','pin','บันทึกการตั้งค่าการแสดงผลสำเร็จ','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','next-question-btn','ทำคะแนนเต็มในการทำครั้งแรก','data','student-rankings-modal','student-project-leaderboard-table-body','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','http://www.w3.org/2000/svg','toggle','answeredCurrentQuestion','timer-mode-select','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','แผนการสอน:\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','parallel-test-input-area','<div\x20class=\x22p-2\x20rounded-md\x20','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','ความสัมพันธ์ของมุม','เกิดข้อผิดพลาดในการลบแบบทดสอบ','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','auto-fix-latex-btn','flex\x20flex-col\x20gap-2','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','release','student-view','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sum','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','แคลคูลัสเบื้องต้น','แบบทดสอบที่ติดดาว','offsetWidth','ความคล้ายของรูป','<p\x20class=\x22','leaderboard-quiz-tab-btn','strokeStyle','back-from-results-btn','สมการลอการิทึม','latestSubmittedAt','quiz-leaderboard-table','.compare-results-btn','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','กรุณาพิมพ์คำตอบของกลุ่ม','\x5cdiv','suggestedAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','API\x20call\x20failed','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','passcode-error-msg','confirm-create-project-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','#D1FAE5','exists','confidence-scoring-checkbox','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตพฤติกรรมสำหรับ\x20','.\x20แต่ละข้อมี\x20','opacity-50','Original\x20quiz\x20not\x20found','mousemove','confirm-not-confident','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','rgba(79,\x2070,\x20229,\x201)','.color-palette-popup','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','</li>','summary_chart','<option\x20value=\x22','hasOwnProperty','ค่าสัมบูรณ์','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.answered','link-topic-input','จำนวนคละ','.csv','.png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','#F3E8FF','inactive','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','shuffleSetting','มุมพิเศษ\x2030°-60°-90°','ไม่สามารถเพิ่มนักเรียนได้','Error\x20updating\x20project\x20name:','include-images-checkbox','.star-quiz-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','sqrt','list','update-old-quizzes-btn','button[type=\x22submit\x22]','show-leaderboard-btn','/public/data/projects','confidence-choice-btn','bulk-confidence-mode-container','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.status','beforeend','closePath','toString','mouse','พีชคณิตและฟังก์ชัน','<button\x20data-quiz-id=\x22','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/liveGames','trail','กลุ่ม:\x20','text-red-600','AI\x20grading\x20failed:','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','trim','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','get','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','pre-test-checkbox','open-sync-scratchpad-btn','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','lessonPlan','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','file-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','answered','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','แก้ไขข้อนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pop','forEach','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','แบบเติมคำตอบ','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','back-to-student-home-btn','/preferences/main','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ring-purple-400','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x22\x20data-topic=\x22','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</form>','การลบทศนิยม','solution','num-choices','text-gray-400\x20hover:text-indigo-600','การหาร','preTScore','สถิติและความน่าจะเป็น','</div></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','querySelectorAll','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','mode','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการบันทึกลำดับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ระบบสมการด้วยเมทริกซ์','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','กรุณาป้อนรหัสแบบทดสอบ','standardTopic','confidence-input-','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','เกิดข้อผิดพลาดในการติดดาว','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Sync\x20Mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','underline','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','destination-out','confidenceMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','0\x200','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คะแนนเฉลี่ย',',\x20r=','confidence-modal','gain','1257204UfGeUJ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20','key','ไม่สามารถเริ่มเกมได้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','projectOrder','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','text-green-600\x20font-bold','round','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-canvas','G-V90KRM0L63','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','791QcqIqu','createdAt','fill','dragstart','เกิดข้อผิดพลาดในการบันทึก','(ก่อนเรียน)\x20','ตารางความถี่','สร้างคำถามแบบเติมคำในช่องว่าง','.project-card-container.opacity-50','.live-answer-btn,\x20#live-submit-short-answer-btn','ref','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','Error\x20listening\x20for\x20projects:','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','classStrengths','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','standard','การจัดกลุ่มข้อมูล','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','scale','จัดการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchstart','export-lesson-pdf-btn','starred','.answer-text','currentQuestionIndex','ฮิสโตแกรม','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','ตัวประกอบและตัวประกอบเฉพาะ','จุด\x20เส้น\x20ระนาบ','generate-from-topic-btn','text-red-900','Error\x20deleting\x20student:','comparison-individual-content','การคูณทศนิยม','กำลังกลับเข้าสู่เกม\x20','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','far\x20fa-star','แผนภาพกล่อง\x20(box\x20plot)','show_pass_fail_only','scratchpad-question','ยืนยันและอัปเดตทั้งหมด','hidden','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','presentation-short-answer-input','confirm-delete-btn','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','กรุณาเลือกไฟล์ก่อน'];_0x4d74=function(){return _0xcb964b;};return _0x4d74();}async function endGroupModeGame(_0x3b6215){const _0x31c614=_0x27804f;console[_0x31c614(0x909)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x1b860b=doc(db,_0x31c614(0x71a)+appId+_0x31c614(0xb8),_0x3b6215);try{const _0x4d82df=await getDoc(_0x1b860b);if(_0x4d82df[_0x31c614(0x75f)]()){const _0x43c01c=_0x4d82df['data']();_0x43c01c['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x43c01c);}await updateDoc(_0x1b860b,{'status':_0x31c614(0x2ab)});}catch(_0xf99729){console['error']('Failed\x20to\x20end\x20group\x20mode\x20game:',_0xf99729);}}function updateAdminTeamDashboard(_0x249a67){const _0x119a8c=_0x27804f,_0x123fcb=document[_0x119a8c(0x5a3)](_0x119a8c(0x549));if(!_0x123fcb)return;const _0xf4c017=_0x249a67[_0x119a8c(0x7c9)]||_0x119a8c(0x36a),_0x378b7f=currentQuizData[_0x119a8c(0x474)][_0x119a8c(0x2c9)];if(_0xf4c017==='group'){const _0x3817a5=Object['values'](_0x249a67[_0x119a8c(0x505)]||{});if(_0x3817a5[_0x119a8c(0x2c9)]===0x0){_0x123fcb['innerHTML']=_0x119a8c(0x8c8);return;}const _0x552d67=[..._0x3817a5][_0x119a8c(0x1e4)]((_0x3521da,_0x5e62c3)=>_0x5e62c3[_0x119a8c(0x49c)]-_0x3521da[_0x119a8c(0x49c)]),_0x4a0876=_0x552d67[_0x119a8c(0x6d7)]((_0x413ed4,_0x56816e)=>{const _0x8fe4c5=_0x119a8c,_0x20ea00=_0x413ed4[_0x8fe4c5(0xc4)]?.[_0x8fe4c5(0x2c9)]||0x0;return _0x8fe4c5(0x8df)+(_0x56816e+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x413ed4[_0x8fe4c5(0x930)]['join'](',\x20')+_0x8fe4c5(0x11f)+_0x20ea00+'/'+_0x378b7f+_0x8fe4c5(0x759)+_0x413ed4['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x119a8c(0x1cb)](''),_0x5a85ae=currentQuizData[_0x119a8c(0x474)][_0x119a8c(0x6d7)]((_0x4acd80,_0x253377)=>{const _0x4c19d2=_0x119a8c;let _0x1a2927=0x0,_0xfc3c7=0x0;_0x3817a5['forEach'](_0x4c1d07=>{const _0x258cde=_0x2015,_0x33b02e=_0x4c1d07[_0x258cde(0xc4)]?.['find'](_0x17fccd=>_0x17fccd[_0x258cde(0x5db)]===_0x253377);if(_0x33b02e){_0xfc3c7++;if(_0x33b02e[_0x258cde(0x91a)])_0x1a2927++;}});const _0x4487c4=_0xfc3c7>0x0&&_0xfc3c7===_0x3817a5[_0x4c19d2(0x2c9)],_0x16dd29=_0x4487c4?_0x4c19d2(0xce):'bg-black/10',_0xa50465=_0x4487c4?_0x4c19d2(0x580):'';return _0x4c19d2(0x73a)+_0x16dd29+_0x4c19d2(0x172)+(_0x253377+0x1)+_0x4c19d2(0x65d)+_0xa50465+_0x4c19d2(0x4bf)+_0x1a2927+'/'+_0x3817a5[_0x4c19d2(0x2c9)]+_0x4c19d2(0x613);})['join']('');_0x123fcb['innerHTML']=_0x119a8c(0x123)+_0x4a0876+_0x119a8c(0x18e)+_0x5a85ae+_0x119a8c(0x7c5);return;}const _0x174a53=_0x249a67[_0x119a8c(0x494)]||{},_0x42f45f=Object[_0x119a8c(0x1a2)](_0x174a53);if(_0x42f45f[_0x119a8c(0x2c9)]===0x0){_0x123fcb[_0x119a8c(0x3e2)]=_0x119a8c(0x368);return;}const _0x99b3d6=_0x42f45f[_0x119a8c(0x6d7)](_0x479ec=>({'name':_0x479ec,'score':_0x174a53[_0x479ec][_0x119a8c(0x49c)]||0x0}))[_0x119a8c(0x1e4)]((_0x2c26ba,_0x3f6ba0)=>_0x3f6ba0[_0x119a8c(0x49c)]-_0x2c26ba[_0x119a8c(0x49c)]),_0x1cc8f9=_0x99b3d6[_0x119a8c(0x6d7)](_0x600c1a=>{const _0xdcff1a=_0x119a8c,_0x1551fb=_0x174a53[_0x600c1a[_0xdcff1a(0x96f)]]?.[_0xdcff1a(0xc4)]?.[_0xdcff1a(0x2c9)]||0x0,_0x14e33c=Math[_0xdcff1a(0x685)](_0x378b7f/_0x42f45f[_0xdcff1a(0x2c9)]);return _0xdcff1a(0xbd)+_0x600c1a['name']+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x1551fb+'/'+_0x14e33c+_0xdcff1a(0x8c6)+_0x600c1a[_0xdcff1a(0x49c)]+'\x20คะแนน</span></div>';})[_0x119a8c(0x1cb)](''),_0x2bd819=_0x42f45f[_0x119a8c(0x2a4)]((_0xc8f2ce,_0x7c7c21)=>_0xc8f2ce+(_0x174a53[_0x7c7c21][_0x119a8c(0xc4)]?.[_0x119a8c(0x2c9)]||0x0),0x0),_0x36c3b9=currentQuizData[_0x119a8c(0x474)]['map']((_0x508d85,_0x4283e2)=>{const _0x1a371d=_0x119a8c;let _0x3c4383=null,_0x46c0e3=null;for(const _0x57ab16 of _0x42f45f){const _0x222be0=_0x174a53[_0x57ab16][_0x1a371d(0xc4)]?.[_0x1a371d(0x894)](_0x5405ba=>_0x5405ba[_0x1a371d(0x5db)]===_0x4283e2);if(_0x222be0){_0x3c4383=_0x222be0,_0x46c0e3=_0x57ab16;break;}}const _0x4ea9b8=!!_0x3c4383,_0xc16b3b=_0x4ea9b8&&_0x3c4383['isCorrect'],_0x31289c=(Math['floor'](_0x4283e2/_0x42f45f[_0x1a371d(0x2c9)])+0x1)*_0x42f45f[_0x1a371d(0x2c9)],_0x386e5c=_0x2bd819>=_0x31289c,_0x3a45df=_0x386e5c?_0x1a371d(0x38d):_0x1a371d(0x64a),_0x3641d5=_0x386e5c?_0x1a371d(0x580):'';let _0xee6c2c='รอ...';return _0x4ea9b8&&(_0xee6c2c=_0x46c0e3+'\x20ตอบ'+(_0xc16b3b?_0x1a371d(0x509):_0x1a371d(0x598))),_0x1a371d(0x73a)+_0x3a45df+_0x1a371d(0x172)+(_0x4283e2+0x1)+_0x1a371d(0x65d)+_0x3641d5+_0x1a371d(0x154)+_0xee6c2c+_0x1a371d(0x234);})[_0x119a8c(0x1cb)]('');_0x123fcb[_0x119a8c(0x3e2)]=_0x119a8c(0x100)+_0x1cc8f9+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x36c3b9+_0x119a8c(0x7c5);}async function handleJoinTeamQuiz(){const _0x40392c=_0x27804f,_0x4d459d=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x4d459d||_0x4d459d[_0x40392c(0x79e)]()[_0x40392c(0x2c9)]!==0x4){showMessage(_0x40392c(0x128));return;}try{const _0x5cc26a=collection(db,_0x40392c(0x71a)+appId+_0x40392c(0xb8)),_0x224804=query(_0x5cc26a,where(_0x40392c(0x71f),'==',_0x4d459d[_0x40392c(0x79e)]()),where(_0x40392c(0x95a),'==',_0x40392c(0x5ff))),_0x481d7b=await getDocs(_0x224804);if(_0x481d7b[_0x40392c(0x351)]){showMessage(_0x40392c(0x728));return;}const _0x198e74=_0x481d7b[_0x40392c(0x16e)][0x0];currentTeamQuizId=_0x198e74['id'];const _0x8a7e26=_0x198e74[_0x40392c(0x724)](),_0x40aa00=doc(db,_0x40392c(0x71a)+appId+_0x40392c(0x78a),_0x8a7e26['projectId']),_0x41821d=doc(db,_0x40392c(0x71a)+appId+_0x40392c(0x91e),_0x8a7e26[_0x40392c(0x53c)]),[_0x44620c,_0x40a63d]=await Promise[_0x40392c(0x504)]([getDoc(_0x40aa00),getDoc(_0x41821d)]);if(!_0x44620c['exists']()||!_0x40a63d[_0x40392c(0x75f)]())throw new Error(_0x40392c(0x30a));currentQuizData=getShuffledQuiz({'id':_0x40a63d['id'],..._0x40a63d['data']()});const _0x4787ef=_0x44620c[_0x40392c(0x724)]();showTeamPlayerSelection(_0x4787ef[_0x40392c(0x137)],currentQuizData[_0x40392c(0x2a9)]);}catch(_0x33ee0b){console[_0x40392c(0x84a)](_0x40392c(0x11c),_0x33ee0b),showMessage(_0x40392c(0x7eb)+_0x33ee0b[_0x40392c(0x3f9)]);}}async function handleJoinGroupActivity(){const _0x305a8f=_0x27804f,_0x1f577b=prompt(_0x305a8f(0x806));if(!_0x1f577b||_0x1f577b[_0x305a8f(0x79e)]()[_0x305a8f(0x2c9)]!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0x354727=_0x1f577b[_0x305a8f(0x79e)]();showMessage(_0x305a8f(0x333));try{const _0x1f954f=collection(db,'artifacts/'+appId+_0x305a8f(0xb8)),_0x2ff82f=query(_0x1f954f,where(_0x305a8f(0x71f),'==',_0x354727),where('status','==',_0x305a8f(0x5ff))),_0x282297=await getDocs(_0x2ff82f);if(!_0x282297[_0x305a8f(0x351)]){console[_0x305a8f(0x909)](_0x305a8f(0x5ab)),await proceedWithTeamQuizJoin(_0x282297[_0x305a8f(0x16e)][0x0]);return;}const _0x55a244=collection(db,_0x305a8f(0x71a)+appId+_0x305a8f(0x108)),_0x3269f1=query(_0x55a244,where('pin','==',_0x354727),where('status','==',_0x305a8f(0x5ff))),_0x44d265=await getDocs(_0x3269f1);if(!_0x44d265[_0x305a8f(0x351)]){console[_0x305a8f(0x909)]('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x44d265[_0x305a8f(0x16e)][0x0]);return;}showMessage(_0x305a8f(0x9d6));}catch(_0x4e6df3){console[_0x305a8f(0x84a)]('Error\x20joining\x20activity:',_0x4e6df3),showMessage(_0x305a8f(0x3d6)+_0x4e6df3[_0x305a8f(0x3f9)]);}}async function proceedWithTeamQuizJoin(_0x5d3407){const _0x347041=_0x27804f;currentTeamQuizId=_0x5d3407['id'];const _0x52953e=_0x5d3407[_0x347041(0x724)](),_0x150370=doc(db,_0x347041(0x71a)+appId+_0x347041(0x78a),_0x52953e[_0x347041(0x25d)]),_0x383523=doc(db,'artifacts/'+appId+_0x347041(0x91e),_0x52953e['quizId']),[_0x45afa8,_0x2a5ef8]=await Promise[_0x347041(0x504)]([getDoc(_0x150370),getDoc(_0x383523)]);if(!_0x45afa8[_0x347041(0x75f)]()||!_0x2a5ef8['exists']())throw new Error(_0x347041(0x30a));currentQuizData=getShuffledQuiz({'id':_0x2a5ef8['id'],..._0x2a5ef8[_0x347041(0x724)]()}),showTeamPlayerSelection(_0x45afa8[_0x347041(0x724)]()[_0x347041(0x137)],currentQuizData[_0x347041(0x2a9)],_0x52953e[_0x347041(0x7c9)]||_0x347041(0x36a)),messageModal['classList'][_0x347041(0x162)](_0x347041(0x825));}async function proceedWithSyncQuizJoin(_0x4e2b03){const _0x544d18=_0x27804f;currentLiveGameId=_0x4e2b03['id'];const _0x19081a=_0x4e2b03[_0x544d18(0x724)](),_0x1a304e=doc(db,'artifacts/'+appId+_0x544d18(0x91e),_0x19081a['quizId']),_0x3c9d1c=await getDoc(_0x1a304e);if(!_0x3c9d1c[_0x544d18(0x75f)]())throw new Error(_0x544d18(0x47f));const _0x1896f4=_0x3c9d1c[_0x544d18(0x724)](),_0x3a8516=doc(db,_0x544d18(0x71a)+appId+_0x544d18(0x78a),_0x1896f4['projectId']),_0x2512b1=await getDoc(_0x3a8516);if(!_0x2512b1[_0x544d18(0x75f)]())throw new Error(_0x544d18(0x982));currentQuizData=_0x19081a[_0x544d18(0x896)],showView(_0x544d18(0x629)),showTeamPlayerSelection(_0x2512b1[_0x544d18(0x724)]()['students'],_0x1896f4[_0x544d18(0x2a9)],_0x544d18(0x3a2)),document[_0x544d18(0x5a3)]('confirm-team-players-btn')[_0x544d18(0x2e6)]=confirmAndJoinSyncGame,messageModal[_0x544d18(0x24d)][_0x544d18(0x162)](_0x544d18(0x825));}function showTeamPlayerSelection(_0x208307,_0x54ba83,_0x5a24a9=_0x27804f(0x36a)){const _0x287799=_0x27804f;studentInitialView[_0x287799(0x24d)][_0x287799(0x162)](_0x287799(0x825)),studentJoinGameView[_0x287799(0x24d)][_0x287799(0x162)]('hidden'),document[_0x287799(0x5a3)](_0x287799(0xe3))[_0x287799(0x24d)][_0x287799(0x3dd)]('hidden');let _0x4872da='Team\x20Quiz';if(_0x5a24a9===_0x287799(0x53d))_0x4872da='Group\x20Mode';else _0x5a24a9===_0x287799(0x3a2)&&(_0x4872da=_0x287799(0x7d7));document[_0x287799(0x5a3)]('team-quiz-topic')[_0x287799(0x84f)]=_0x4872da+':\x20'+_0x54ba83;const _0x438bd2=document['getElementById']('team-student-list');if(!_0x208307||_0x208307[_0x287799(0x2c9)]===0x0){_0x438bd2['innerHTML']=_0x287799(0x9d0),document[_0x287799(0x5a3)](_0x287799(0x9ee))[_0x287799(0x190)]=!![];return;}_0x438bd2[_0x287799(0x3e2)]=_0x208307[_0x287799(0x6d7)](_0x223a54=>_0x287799(0x55a)+_0x223a54+_0x287799(0x3b7)+_0x223a54+_0x287799(0x670))[_0x287799(0x1cb)](''),document[_0x287799(0x5a3)]('confirm-team-players-btn')[_0x287799(0x190)]=![];}async function confirmAndStartTeamQuiz(){const _0x5e1c39=_0x27804f,_0x28323b=Array['from'](document[_0x5e1c39(0x7c7)](_0x5e1c39(0x9c8)))[_0x5e1c39(0x6d7)](_0x116a46=>_0x116a46[_0x5e1c39(0x50c)]);if(_0x28323b[_0x5e1c39(0x2c9)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x28323b,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x3eef99=doc(db,_0x5e1c39(0x71a)+appId+_0x5e1c39(0xb8),currentTeamQuizId);try{const _0x3f1b1b=await getDoc(_0x3eef99);if(!_0x3f1b1b['exists']())throw new Error(_0x5e1c39(0xfa));const _0x3edc15=_0x3f1b1b['data']();if(_0x3edc15[_0x5e1c39(0x7c9)]===_0x5e1c39(0x53d)){const _0x2a5a48={[_0x5e1c39(0x227)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x3eef99,_0x2a5a48);}else{const _0x19ddda=_0x3edc15[_0x5e1c39(0x494)]||{};localTeamPlayers[_0x5e1c39(0x7b1)](_0xfb0e1e=>{!_0x19ddda[_0xfb0e1e]&&(_0x19ddda[_0xfb0e1e]={'score':0x0,'answers':[]});}),await updateDoc(_0x3eef99,{'responses':_0x19ddda});}document[_0x5e1c39(0x5a3)](_0x5e1c39(0xe3))[_0x5e1c39(0x24d)][_0x5e1c39(0x162)]('hidden'),renderTeamQuizQuestion();const _0x1e5c4c={'gameId':currentTeamQuizId,'mode':_0x3edc15['mode']||_0x5e1c39(0x36a),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x5e1c39(0x652)](_0x5e1c39(0x1d7),JSON['stringify'](_0x1e5c4c)),listenForTeamQuizUpdates();}catch(_0x2b187d){console[_0x5e1c39(0x84a)](_0x5e1c39(0x376),_0x2b187d),showMessage(_0x5e1c39(0x6a2));}}async function renderTeamQuizQuestion(){const _0xeec7c3=_0x27804f;if(localQuestionIndex>=currentQuizData[_0xeec7c3(0x474)][_0xeec7c3(0x2c9)]){displayTeamQuizFinalResults();return;}const _0x44dd9d=currentQuizData['questions'][localQuestionIndex],_0x4f8742=localTeamPlayers[localPlayerIndex],_0x338131=_0x44dd9d[_0xeec7c3(0x891)]||currentQuizData[_0xeec7c3(0x907)];let _0xca2735=_0x44dd9d[_0xeec7c3(0x956)]||_0x44dd9d[_0xeec7c3(0x872)],_0x522c5b='';switch(_0x338131){case _0xeec7c3(0x1c6):case'fill_in_with_choices':_0x522c5b=_0x44dd9d['options'][_0xeec7c3(0x6d7)]((_0x26ced8,_0x3e7d70)=>_0xeec7c3(0x666)+_0x3e7d70+_0xeec7c3(0x3b1)+_0x3e7d70+_0xeec7c3(0x850)+_0x3e7d70+'\x22>'+_0x26ced8+'</label></div>')[_0xeec7c3(0x1cb)]('');break;case _0xeec7c3(0x6d1):_0x522c5b='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case'short_answer':case _0xeec7c3(0x4e2):_0x522c5b='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case _0xeec7c3(0x3fd):_0x522c5b=_0xeec7c3(0x235)+_0x44dd9d[_0xeec7c3(0x2fa)][_0xeec7c3(0x6d7)](_0x23f6b0=>_0xeec7c3(0x76f)+_0x23f6b0+'\x22>'+_0x23f6b0+_0xeec7c3(0x217))[_0xeec7c3(0x1cb)]('')+_0xeec7c3(0x94c);break;default:_0x522c5b=_0xeec7c3(0x7d2);break;}studentQuizArea[_0xeec7c3(0x3e2)]=_0xeec7c3(0x5d3)+(localQuestionIndex+0x1)+_0xeec7c3(0x4c2)+currentQuizData[_0xeec7c3(0x474)]['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x4f8742+_0xeec7c3(0x994)+(localQuestionIndex+0x1)+'.\x20'+_0xca2735+_0xeec7c3(0x63f)+(_0x44dd9d[_0xeec7c3(0xd9)]?_0xeec7c3(0x6ec)+_0x44dd9d[_0xeec7c3(0xd9)]+'</div>':'')+_0xeec7c3(0x51c)+_0x522c5b+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0xeec7c3(0x24d)][_0xeec7c3(0x3dd)]('hidden');if(window[_0xeec7c3(0x403)])MathJax[_0xeec7c3(0x276)]([studentQuizArea]);document[_0xeec7c3(0x5a3)](_0xeec7c3(0x2dc))[_0xeec7c3(0x2ea)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x209c14=_0x27804f,_0x51aa59=currentQuizData[_0x209c14(0x474)][localQuestionIndex],_0x24a78e=_0x51aa59[_0x209c14(0x891)]||currentQuizData[_0x209c14(0x907)];let _0x4dbb9c=null,_0x158b63=![];if(_0x24a78e==='short_answer'||_0x24a78e===_0x209c14(0x4e2)){const _0x17f27e=document['querySelector'](_0x209c14(0x145));if(!_0x17f27e||!_0x17f27e[_0x209c14(0x50c)][_0x209c14(0x79e)]()){showMessage(_0x209c14(0x754));return;}_0x4dbb9c=_0x17f27e[_0x209c14(0x50c)]['trim'](),_0x158b63=await gradeShortAnswer(_0x4dbb9c,_0x51aa59);}else{const _0x4a51be=document[_0x209c14(0x62c)](_0x209c14(0x67d));if(!_0x4a51be||_0x4a51be['value']===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x4dbb9c=_0x4a51be['value'];switch(_0x24a78e){case _0x209c14(0x6d1):_0x158b63=_0x4dbb9c===_0x209c14(0x32b)===_0x51aa59[_0x209c14(0x1e0)];break;case _0x209c14(0x3fd):_0x158b63=_0x4dbb9c===_0x51aa59[_0x209c14(0x8e5)];break;default:_0x158b63=parseInt(_0x4dbb9c)===_0x51aa59[_0x209c14(0x150)];break;}}const _0x27d150={'questionIndex':localQuestionIndex,'isCorrect':_0x158b63},_0x57f06c=userId,_0x7ed3bf={[_0x209c14(0x227)+_0x57f06c+_0x209c14(0x8a3)]:arrayUnion(_0x27d150)};_0x158b63&&(_0x7ed3bf[_0x209c14(0x227)+_0x57f06c+_0x209c14(0x3c8)]=increment(0x1));try{await updateDoc(doc(db,_0x209c14(0x71a)+appId+_0x209c14(0xb8),currentTeamQuizId),_0x7ed3bf),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x209c14(0x474)][_0x209c14(0x2c9)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x37b7ac){console['error']('Error\x20submitting\x20group\x20answer:',_0x37b7ac),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x8bad3=_0x27804f,_0x34f734=await getDoc(doc(db,_0x8bad3(0x71a)+appId+_0x8bad3(0xb8),currentTeamQuizId));if(!_0x34f734['exists']())return;const _0x4de711=_0x34f734['data']();if(_0x4de711[_0x8bad3(0x7c9)]==='group'){handleGroupAnswerSubmit();return;}const _0x1115d9=localTeamPlayers[localPlayerIndex],_0x15e165=currentQuizData[_0x8bad3(0x474)][localQuestionIndex],_0x4fc0df=_0x15e165['questionType']||currentQuizData[_0x8bad3(0x907)];let _0x28ed52=null,_0x1066ff=![];if(_0x4fc0df===_0x8bad3(0x511)||_0x4fc0df===_0x8bad3(0x4e2)){const _0x12d5cc=document[_0x8bad3(0x62c)](_0x8bad3(0x145));if(!_0x12d5cc||!_0x12d5cc[_0x8bad3(0x50c)]['trim']()){showMessage(_0x8bad3(0x61c));return;}_0x28ed52=_0x12d5cc[_0x8bad3(0x50c)][_0x8bad3(0x79e)](),_0x1066ff=await gradeShortAnswer(_0x28ed52,_0x15e165);}else{const _0x3cc309=document['querySelector'](_0x8bad3(0x67d));if(!_0x3cc309||_0x3cc309[_0x8bad3(0x50c)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x28ed52=_0x3cc309[_0x8bad3(0x50c)];switch(_0x4fc0df){case'true_false':_0x1066ff=_0x28ed52===_0x8bad3(0x32b)===_0x15e165[_0x8bad3(0x1e0)];break;case _0x8bad3(0x3fd):_0x1066ff=_0x28ed52===_0x15e165[_0x8bad3(0x8e5)];break;default:_0x1066ff=parseInt(_0x28ed52)===_0x15e165[_0x8bad3(0x150)];break;}}const _0x468521={'questionIndex':localQuestionIndex,'isCorrect':_0x1066ff,'answerValue':_0x28ed52},_0x4b4c6d={[_0x8bad3(0x3b6)+_0x1115d9+'.answers']:arrayUnion(_0x468521)};_0x1066ff&&(_0x4b4c6d[_0x8bad3(0x3b6)+_0x1115d9+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x8bad3(0x71a)+appId+_0x8bad3(0xb8),currentTeamQuizId),_0x4b4c6d),localPlayerIndex++,localPlayerIndex>=localTeamPlayers['length']&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x7a0dd9){console['error']('Error\x20submitting\x20team\x20answer:',_0x7a0dd9),showMessage(_0x8bad3(0x5c1));}}async function displayTeamQuizFinalResults(){const _0x231f1e=_0x27804f;studentQuizArea['classList']['add'](_0x231f1e(0x825)),studentResultArea['classList'][_0x231f1e(0x3dd)](_0x231f1e(0x825));const _0x2f1445=doc(db,_0x231f1e(0x71a)+appId+_0x231f1e(0xb8),currentTeamQuizId),_0x5e940c=await getDoc(_0x2f1445);if(!_0x5e940c['exists']()){studentResultArea[_0x231f1e(0x3e2)]=_0x231f1e(0x713);return;}const _0x4e89f8=_0x5e940c[_0x231f1e(0x724)]();let _0x450560=[];const _0x55727a=_0x4e89f8['mode']||_0x231f1e(0x36a);if(_0x55727a===_0x231f1e(0x53d)){const _0xda7451=_0x4e89f8[_0x231f1e(0x505)][userId];_0xda7451?_0x450560=[{'name':_0x231f1e(0x799)+localTeamPlayers['join'](',\x20'),'score':_0xda7451[_0x231f1e(0x49c)]||0x0}]:_0x450560=[{'name':_0x231f1e(0x700),'score':_0x231f1e(0x70e)}];}else _0x450560=localTeamPlayers[_0x231f1e(0x6d7)](_0x2def23=>({'name':_0x2def23,'score':_0x4e89f8[_0x231f1e(0x494)][_0x2def23]?.[_0x231f1e(0x49c)]||0x0}))[_0x231f1e(0x1e4)]((_0x252424,_0x2870c5)=>_0x2870c5['score']-_0x252424[_0x231f1e(0x49c)]);studentResultArea[_0x231f1e(0x3e2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x450560[_0x231f1e(0x6d7)](_0x5d8602=>_0x231f1e(0x52c)+_0x5d8602['name']+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5d8602[_0x231f1e(0x49c)]+_0x231f1e(0xc1))[_0x231f1e(0x1cb)]('')+_0x231f1e(0x973),sessionStorage[_0x231f1e(0x508)](_0x231f1e(0x1d7)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x157ed4=_0x231f1e;deleteDoc(doc(db,_0x157ed4(0x71a)+appId+_0x157ed4(0xb8),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x27804f(0x354),'pinnedProjects':[],'projectView':_0x27804f(0xdb)};const allMathTopics=[{'category':_0x27804f(0x50a),'name':'การนับ'},{'category':_0x27804f(0x50a),'name':_0x27804f(0x903)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x19c)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x84e)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x2ae)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x37f)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x5d0)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x7c2)},{'category':_0x27804f(0x50a),'name':'จำนวนเต็มบวก'},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มลบ'},{'category':_0x27804f(0x50a),'name':_0x27804f(0x3c5)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x771)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x434)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x817)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x623)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x23b)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x1b2)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x2ee)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x429)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x27e)},{'category':'จำนวนและการดำเนินการ','name':_0x27804f(0x31c)},{'category':'จำนวนและการดำเนินการ','name':_0x27804f(0x2e2)},{'category':'จำนวนและการดำเนินการ','name':'การหารเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x27804f(0x775)},{'category':_0x27804f(0x50a),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x27804f(0x50a),'name':_0x27804f(0x627)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x7be)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x81d)},{'category':'จำนวนและการดำเนินการ','name':_0x27804f(0x21a)},{'category':'จำนวนและการดำเนินการ','name':_0x27804f(0x6b9)},{'category':'จำนวนและการดำเนินการ','name':_0x27804f(0x552)},{'category':'จำนวนและการดำเนินการ','name':_0x27804f(0x5f0)},{'category':_0x27804f(0x50a),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x27804f(0x50a),'name':_0x27804f(0x4c7)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x362)},{'category':_0x27804f(0x50a),'name':_0x27804f(0x19a)},{'category':'จำนวนและการดำเนินการ','name':_0x27804f(0x4b6)},{'category':'การวัด','name':_0x27804f(0x4de)},{'category':_0x27804f(0x39e),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x27804f(0x39e),'name':_0x27804f(0x57f)},{'category':_0x27804f(0x39e),'name':_0x27804f(0x92e)},{'category':_0x27804f(0x39e),'name':_0x27804f(0x512)},{'category':_0x27804f(0x39e),'name':'เส้นรอบรูป'},{'category':_0x27804f(0x39e),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x27804f(0x39e),'name':_0x27804f(0x1f8)},{'category':_0x27804f(0x39e),'name':_0x27804f(0x279)},{'category':_0x27804f(0x39e),'name':_0x27804f(0x311)},{'category':_0x27804f(0x39e),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x27804f(0x39e),'name':'มุมและการวัดมุม'},{'category':_0x27804f(0x39e),'name':_0x27804f(0x288)},{'category':_0x27804f(0x39e),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x27804f(0x622),'name':_0x27804f(0x818)},{'category':_0x27804f(0x622),'name':_0x27804f(0x73c)},{'category':'เรขาคณิต','name':_0x27804f(0x247)},{'category':'เรขาคณิต','name':_0x27804f(0x1f8)},{'category':'เรขาคณิต','name':_0x27804f(0x2fb)},{'category':_0x27804f(0x622),'name':_0x27804f(0x74a)},{'category':'เรขาคณิต','name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x27804f(0x622),'name':_0x27804f(0x1bc)},{'category':_0x27804f(0x622),'name':_0x27804f(0x411)},{'category':'เรขาคณิต','name':_0x27804f(0x31b)},{'category':_0x27804f(0x622),'name':_0x27804f(0x31e)},{'category':_0x27804f(0x622),'name':_0x27804f(0x79d)},{'category':'เรขาคณิต','name':_0x27804f(0x542)},{'category':_0x27804f(0x622),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x27804f(0x622),'name':_0x27804f(0x716)},{'category':_0x27804f(0x793),'name':_0x27804f(0x3c4)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x27804f(0x8e3)},{'category':'พีชคณิตและฟังก์ชัน','name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x27804f(0x793),'name':'การแยกตัวประกอบ'},{'category':_0x27804f(0x793),'name':_0x27804f(0x92c)},{'category':'พีชคณิตและฟังก์ชัน','name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x27804f(0x793),'name':_0x27804f(0x3f0)},{'category':_0x27804f(0x793),'name':_0x27804f(0x6fc)},{'category':_0x27804f(0x793),'name':'สมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x27804f(0xca)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x27804f(0x4d4)},{'category':_0x27804f(0x793),'name':_0x27804f(0x9be)},{'category':_0x27804f(0x793),'name':_0x27804f(0x74f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x27804f(0x160)},{'category':_0x27804f(0x793),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x27804f(0x793),'name':_0x27804f(0x922)},{'category':_0x27804f(0x793),'name':_0x27804f(0x692)},{'category':_0x27804f(0x793),'name':_0x27804f(0x444)},{'category':_0x27804f(0x793),'name':_0x27804f(0x616)},{'category':_0x27804f(0x793),'name':_0x27804f(0x409)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x27804f(0x608)},{'category':_0x27804f(0x793),'name':_0x27804f(0x54b)},{'category':_0x27804f(0x793),'name':_0x27804f(0x6a7)},{'category':_0x27804f(0x793),'name':_0x27804f(0x464)},{'category':_0x27804f(0x793),'name':_0x27804f(0x62a)},{'category':_0x27804f(0x793),'name':_0x27804f(0x256)},{'category':_0x27804f(0x793),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x27804f(0x793),'name':_0x27804f(0x15c)},{'category':_0x27804f(0x793),'name':_0x27804f(0x4c6)},{'category':_0x27804f(0x793),'name':_0x27804f(0x503)},{'category':_0x27804f(0x793),'name':_0x27804f(0x367)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x27804f(0x2d2)},{'category':_0x27804f(0x793),'name':_0x27804f(0x1c2)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x27804f(0x761)},{'category':_0x27804f(0x793),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':'เรขาคณิตวิเคราะห์','name':_0x27804f(0x48f)},{'category':_0x27804f(0x83a),'name':_0x27804f(0x135)},{'category':_0x27804f(0x83a),'name':_0x27804f(0x98c)},{'category':_0x27804f(0x83a),'name':_0x27804f(0x27b)},{'category':_0x27804f(0x83a),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x27804f(0x83a),'name':_0x27804f(0x9ea)},{'category':_0x27804f(0x83a),'name':_0x27804f(0x941)},{'category':_0x27804f(0x83a),'name':_0x27804f(0x61a)},{'category':_0x27804f(0x83a),'name':'ไฮเพอร์โบลา'},{'category':_0x27804f(0x363),'name':_0x27804f(0x7f1)},{'category':_0x27804f(0x363),'name':_0x27804f(0x77f)},{'category':_0x27804f(0x363),'name':_0x27804f(0x3ca)},{'category':_0x27804f(0x363),'name':_0x27804f(0x3c6)},{'category':'ตรีโกณมิติ','name':'กฎของไซน์'},{'category':_0x27804f(0x363),'name':'กฎของโคไซน์'},{'category':_0x27804f(0x363),'name':_0x27804f(0x73b)},{'category':_0x27804f(0x363),'name':_0x27804f(0x871)},{'category':_0x27804f(0x363),'name':_0x27804f(0x96b)},{'category':_0x27804f(0x363),'name':_0x27804f(0xc5)},{'category':_0x27804f(0x363),'name':_0x27804f(0x7b2)},{'category':_0x27804f(0x7c4),'name':_0x27804f(0xe7)},{'category':_0x27804f(0x7c4),'name':_0x27804f(0x80a)},{'category':_0x27804f(0x7c4),'name':_0x27804f(0x7ff)},{'category':'สถิติและความน่าจะเป็น','name':_0x27804f(0x393)},{'category':'สถิติและความน่าจะเป็น','name':_0x27804f(0x815)},{'category':_0x27804f(0x7c4),'name':_0x27804f(0x821)},{'category':'สถิติและความน่าจะเป็น','name':_0x27804f(0x833)},{'category':'สถิติและความน่าจะเป็น','name':_0x27804f(0x92a)},{'category':_0x27804f(0x7c4),'name':'ฐานนิยม'},{'category':_0x27804f(0x7c4),'name':'พิสัย'},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x27804f(0x7c4),'name':_0x27804f(0x3bc)},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x27804f(0x7c4),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x27804f(0x7c4),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x27804f(0x7c4),'name':_0x27804f(0x5c6)},{'category':_0x27804f(0x7c4),'name':_0x27804f(0x182)},{'category':_0x27804f(0x7c4),'name':'แผนภาพเวนน์'},{'category':'สถิติและความน่าจะเป็น','name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0x27804f(0x7c4),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x27804f(0x7c4),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x27804f(0x7c4),'name':_0x27804f(0x632)},{'category':_0x27804f(0x7c4),'name':_0x27804f(0x8f0)},{'category':_0x27804f(0x7c4),'name':_0x27804f(0x869)},{'category':_0x27804f(0x747),'name':_0x27804f(0x64f)},{'category':'แคลคูลัสเบื้องต้น','name':_0x27804f(0x23f)},{'category':_0x27804f(0x747),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':'แคลคูลัสเบื้องต้น','name':_0x27804f(0x4b3)},{'category':_0x27804f(0x747),'name':_0x27804f(0x447)},{'category':_0x27804f(0x747),'name':_0x27804f(0x7bb)},{'category':_0x27804f(0x747),'name':_0x27804f(0x94d)},{'category':_0x27804f(0x747),'name':_0x27804f(0x327)},{'category':_0x27804f(0x747),'name':_0x27804f(0x991)},{'category':_0x27804f(0x747),'name':'ปริพันธ์ไม่จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':_0x27804f(0x5b1)},{'category':'แคลคูลัสเบื้องต้น','name':_0x27804f(0x85b)},{'category':_0x27804f(0x747),'name':_0x27804f(0x240)},{'category':_0x27804f(0x267),'name':_0x27804f(0x2f2)},{'category':_0x27804f(0x267),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x27804f(0x267),'name':_0x27804f(0x14d)},{'category':_0x27804f(0x267),'name':_0x27804f(0x17f)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'อินเวอร์สของเมทริกซ์'},{'category':_0x27804f(0x267),'name':_0x27804f(0x968)},{'category':_0x27804f(0x267),'name':_0x27804f(0x7cd)},{'category':_0x27804f(0x45c),'name':_0x27804f(0x2aa)},{'category':_0x27804f(0x45c),'name':'ดอกเบี้ยทบต้น'},{'category':_0x27804f(0x45c),'name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x27804f(0x45c),'name':_0x27804f(0x60e)},{'category':_0x27804f(0x45c),'name':'ร้อยละประยุกต์'},{'category':_0x27804f(0x3a1),'name':_0x27804f(0x668)},{'category':_0x27804f(0x3a1),'name':_0x27804f(0x431)},{'category':_0x27804f(0x3a1),'name':_0x27804f(0x706)}];function renderTopicCheckboxes(){const _0x48f24d=_0x27804f,_0x5e75bf=document[_0x48f24d(0x5a3)](_0x48f24d(0x8ea));if(!_0x5e75bf)return;const _0x5c8754=allMathTopics,_0x2efeb2=customMathTopics[_0x48f24d(0x6d7)](_0x10b9b5=>({'id':_0x10b9b5['id'],'category':_0x48f24d(0x519),'name':_0x10b9b5[_0x48f24d(0x96f)]})),_0x4cc7c9=[..._0x5c8754,..._0x2efeb2],_0x31b8be=_0x4cc7c9[_0x48f24d(0x2a4)]((_0x54ee76,_0x2d5892)=>{const _0x1f079b=_0x48f24d;return!_0x54ee76[_0x2d5892[_0x1f079b(0x708)]]&&(_0x54ee76[_0x2d5892[_0x1f079b(0x708)]]=[]),_0x54ee76[_0x2d5892[_0x1f079b(0x708)]][_0x1f079b(0x523)](_0x2d5892),_0x54ee76;},{});let _0x11ec42='';const _0x4a5198=[_0x48f24d(0x519),...Object[_0x48f24d(0x1a2)](_0x31b8be)[_0x48f24d(0x3bf)](_0xaeabc7=>_0xaeabc7!==_0x48f24d(0x519))];for(const _0x47687b of _0x4a5198){if(_0x31b8be[_0x47687b]){const _0x3833b3=_0x47687b===_0x48f24d(0x519),_0x3ecbbe=_0x3833b3?'fas\x20fa-user-edit':_0x48f24d(0x398),_0x437b62=_0x3833b3?_0x48f24d(0x2fd):_0x48f24d(0x485);_0x11ec42+=_0x48f24d(0x453),_0x11ec42+=_0x48f24d(0x84b)+_0x437b62+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x3ecbbe+'\x20mr-2\x22></i>'+_0x47687b+_0x48f24d(0x37d),_0x31b8be[_0x47687b][_0x48f24d(0x7b1)](_0x4e37da=>{const _0x286fe1=_0x48f24d,_0x1c8422=!!_0x4e37da['id'],_0xf0aad4=_0x1c8422?_0x286fe1(0x7c6)+_0x4e37da['id']+_0x286fe1(0x65c)+_0x4e37da['id']+_0x286fe1(0x78d)+_0x4e37da['id']+_0x286fe1(0x651)+_0x4e37da['id']+_0x286fe1(0x6ca):'';_0x11ec42+=_0x286fe1(0x4c4)+(_0x4e37da['id']||'')+_0x286fe1(0x2d5)+_0x4e37da[_0x286fe1(0x96f)]+_0x286fe1(0x553)+_0x4e37da['name']+_0x286fe1(0x3a5)+(_0x1c8422?_0x286fe1(0x2b6)+_0x4e37da['name']+'\x22>':'')+_0x286fe1(0x976)+_0xf0aad4+_0x286fe1(0x69f);}),_0x11ec42+=_0x48f24d(0x8c4);}}_0x5e75bf[_0x48f24d(0x3e2)]=_0x11ec42||_0x48f24d(0x62e),_0x5e75bf[_0x48f24d(0x6ac)](_0x48f24d(0x677),updateSelectedTopicsCount),_0x5e75bf[_0x48f24d(0x2ea)](_0x48f24d(0x677),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x2c5576,_0x403bca){const _0x5a0321=_0x27804f;if(!_0x2c5576||!_0x403bca['trim']()){showMessage(_0x5a0321(0x954));return;}try{const _0x53380d=doc(db,_0x5a0321(0x71a)+appId+'/public/data/customMathTopics',_0x2c5576);await updateDoc(_0x53380d,{'name':_0x403bca[_0x5a0321(0x79e)]()}),showMessage(_0x5a0321(0x129));}catch(_0x3d8333){console[_0x5a0321(0x84a)](_0x5a0321(0x5ec),_0x3d8333),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x2315bb,_0x278c7a){const _0x2742ce=_0x27804f;if(!_0x2315bb)return;const _0x4bb201=_0x2315bb[_0x2742ce(0x62c)]('.topic-name-display'),_0x55ddfe=_0x2315bb['querySelector'](_0x2742ce(0x546)),_0x4137ba=_0x2315bb[_0x2742ce(0x62c)](_0x2742ce(0x213)),_0x5c3a0e=_0x2315bb[_0x2742ce(0x62c)]('.topic-actions-edit');_0x4bb201[_0x2742ce(0x24d)][_0x2742ce(0x72e)](_0x2742ce(0x825),_0x278c7a),_0x55ddfe[_0x2742ce(0x24d)][_0x2742ce(0x72e)](_0x2742ce(0x825),!_0x278c7a),_0x4137ba['classList'][_0x2742ce(0x72e)](_0x2742ce(0x825),_0x278c7a),_0x5c3a0e[_0x2742ce(0x24d)]['toggle']('hidden',!_0x278c7a),_0x278c7a&&(_0x55ddfe[_0x2742ce(0x30d)](),_0x55ddfe[_0x2742ce(0x353)]());}async function handleStartLiveRace(_0x47cc0b){const _0x2225c7=_0x27804f;let _0x1b0698=allQuizzes['find'](_0x212b7e=>_0x212b7e['id']===_0x47cc0b);if(!_0x1b0698){const _0x528dc6=doc(db,_0x2225c7(0x71a)+appId+'/public/data/quizzes',_0x47cc0b),_0x2447de=await getDoc(_0x528dc6);if(!_0x2447de[_0x2225c7(0x75f)]()){showMessage(_0x2225c7(0x47f));return;}_0x1b0698={'id':_0x2447de['id'],..._0x2447de['data']()};}const _0x236446=getShuffledQuiz(_0x1b0698);currentQuizData=_0x236446;const _0xfd52cb=_0x1b0698['projectId']||currentProjectId||null,_0x4bd069=Math[_0x2225c7(0x5f1)](0x3e8+Math[_0x2225c7(0x5d5)]()*0x2328)['toString']();currentLiveGamePin=_0x4bd069;try{const _0x49764e=await addDoc(collection(db,_0x2225c7(0x71a)+appId+_0x2225c7(0x797)),{'quizId':_0x47cc0b,'projectId':_0xfd52cb,'status':_0x2225c7(0x5ff),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x4bd069,'createdAt':serverTimestamp(),'shuffledQuiz':_0x236446});currentLiveGameId=_0x49764e['id'],showAdminLobbyView(_0x4bd069,_0x1b0698[_0x2225c7(0x2a9)]),listenForLiveGameUpdates();}catch(_0x1ae4f6){console['error'](_0x2225c7(0x1dc),_0x1ae4f6),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0x2eabce=_0x27804f,_0x4c18a1=document[_0x2eabce(0x5a3)](_0x2eabce(0x8ea)),_0x5dd550=_0x4c18a1[_0x2eabce(0x7c7)](_0x2eabce(0x61d))[_0x2eabce(0x2c9)],_0x5af12b=document[_0x2eabce(0x5a3)]('selected-topics-count');_0x5dd550>0x0?_0x5af12b[_0x2eabce(0x84f)]='(เลือกแล้ว\x20'+_0x5dd550+_0x2eabce(0x1b4):_0x5af12b[_0x2eabce(0x84f)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x27804f(0x2c2),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x27804f(0x920),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x27804f(0x323),scratchpadPenColor=_0x27804f(0x2f3),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x274a3d,_0x231541){const _0x52b799=_0x27804f;return Math[_0x52b799(0x785)](Math[_0x52b799(0x633)](_0x274a3d['x']-_0x231541['x'],0x2)+Math[_0x52b799(0x633)](_0x274a3d['y']-_0x231541['y'],0x2));}function getMidpoint(_0x1b09ef,_0x5c4525){return{'x':(_0x1b09ef['x']+_0x5c4525['x'])/0x2,'y':(_0x1b09ef['y']+_0x5c4525['y'])/0x2};}function getTransformedPoint(_0x353fe8,_0x2fc53d){return{'x':(_0x353fe8-scratchpadOffset['x'])/scratchpadScale,'y':(_0x2fc53d-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x1f10c2=_0x27804f;if(!scratchpadCtx)return;const _0x3b7487=scratchpadCtx[_0x1f10c2(0x558)],_0x5afc7c=window['devicePixelRatio']||0x1,_0x1b3c39=document['getElementById']('scratchpad-header');_0x1b3c39&&(_0x1b3c39[_0x1f10c2(0x39c)][_0x1f10c2(0x472)]=_0x1f10c2(0x7e3),_0x1b3c39[_0x1f10c2(0x39c)]['transform']=_0x1f10c2(0x900)+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+_0x1f10c2(0x679)+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx[_0x1f10c2(0x944)](_0x5afc7c,0x0,0x0,_0x5afc7c,0x0,0x0),scratchpadCtx[_0x1f10c2(0x5df)](0x0,0x0,_0x3b7487[_0x1f10c2(0x6c1)],_0x3b7487['height']),scratchpadCtx['restore'](),scratchpadCtx[_0x1f10c2(0x902)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes['forEach'](_0x16fa4a=>{drawStroke(_0x16fa4a);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x1f10c2(0x563)]();}function renderGroupModeQuestion(){const _0xd86c4b=_0x27804f;if(localQuestionIndex>=currentQuizData[_0xd86c4b(0x474)]['length']){displayTeamQuizFinalResults();return;}const _0xab3c1d=currentQuizData[_0xd86c4b(0x474)][localQuestionIndex],_0x8f59ab=_0xab3c1d[_0xd86c4b(0x891)]||currentQuizData['quizType'];let _0x1a852d=_0xab3c1d[_0xd86c4b(0x956)]||_0xab3c1d['questionText'],_0x1d546d='';switch(_0x8f59ab){case'multiple_choice':case _0xd86c4b(0x5c7):_0x1d546d=_0xab3c1d[_0xd86c4b(0x86b)][_0xd86c4b(0x6d7)]((_0x57f64b,_0x1dd754)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x1dd754+_0xd86c4b(0x3b1)+_0x1dd754+_0xd86c4b(0x850)+_0x1dd754+'\x22>'+_0x57f64b+_0xd86c4b(0x305))[_0xd86c4b(0x1cb)]('');break;case _0xd86c4b(0x6d1):_0x1d546d='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0xd86c4b(0x511):case _0xd86c4b(0x4e2):_0x1d546d=_0xd86c4b(0x5a2);break;case _0xd86c4b(0x3fd):_0x1d546d=_0xd86c4b(0x235)+_0xab3c1d[_0xd86c4b(0x2fa)]['map'](_0x5d5be9=>_0xd86c4b(0x76f)+_0x5d5be9+'\x22>'+_0x5d5be9+_0xd86c4b(0x217))['join']('')+'</select>';break;default:_0x1d546d=_0xd86c4b(0x7d2);break;}studentQuizArea[_0xd86c4b(0x3e2)]=_0xd86c4b(0x5d3)+(localQuestionIndex+0x1)+_0xd86c4b(0x4c2)+currentQuizData[_0xd86c4b(0x474)][_0xd86c4b(0x2c9)]+_0xd86c4b(0x895)+localTeamPlayers[_0xd86c4b(0x1cb)](',\x20')+_0xd86c4b(0x994)+(localQuestionIndex+0x1)+'.\x20'+_0x1a852d+_0xd86c4b(0x63f)+(_0xab3c1d[_0xd86c4b(0xd9)]?_0xd86c4b(0x6ec)+_0xab3c1d['imageCode']+_0xd86c4b(0x8c4):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x1d546d+_0xd86c4b(0x2e3),studentQuizArea[_0xd86c4b(0x24d)][_0xd86c4b(0x3dd)]('hidden');if(window[_0xd86c4b(0x403)])MathJax['typesetPromise']([studentQuizArea]);document[_0xd86c4b(0x5a3)]('submit-group-answer-btn')[_0xd86c4b(0x2ea)]('click',handleGroupAnswerSubmit);}function handlePointerDown(_0x7531ba){const _0xfd27e4=_0x27804f;_0x7531ba['preventDefault']();const _0x17f81a=scratchpadCtx[_0xfd27e4(0x558)],_0x128f48=_0x17f81a[_0xfd27e4(0x641)](),_0x2a48ae=_0x7531ba[_0xfd27e4(0x9dd)]||(_0x7531ba[_0xfd27e4(0x1e6)]?_0xfd27e4(0x313):_0xfd27e4(0x792));if(_0x2a48ae===_0xfd27e4(0x323)||_0x2a48ae===_0xfd27e4(0x792)){if(_0x7531ba['pointerType']===_0xfd27e4(0x792)&&_0x7531ba[_0xfd27e4(0x330)]!==0x0){_0x7531ba[_0xfd27e4(0x330)]===0x1&&(isMousePanning=!![],panStart={'x':_0x7531ba['clientX'],'y':_0x7531ba[_0xfd27e4(0x39b)]},_0x17f81a[_0xfd27e4(0x39c)][_0xfd27e4(0x8c3)]=_0xfd27e4(0x345));return;}activeTool===_0xfd27e4(0x798)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x46f43f=getTransformedPoint(_0x7531ba[_0xfd27e4(0x9eb)]-_0x128f48[_0xfd27e4(0x58d)],_0x7531ba['clientY']-_0x128f48['top']);let _0x4d5905={'tool':activeTool,'points':[_0x46f43f]};if(activeTool===_0xfd27e4(0x377))_0x4d5905[_0xfd27e4(0x58c)]=scratchpadHighlighterColor,_0x4d5905[_0xfd27e4(0x94f)]=scratchpadHighlighterSize;else activeTool===_0xfd27e4(0x798)?(_0x4d5905['color']=scratchpadPenColor,_0x4d5905[_0xfd27e4(0x94f)]=scratchpadPenSize):(_0x4d5905['color']=scratchpadPenColor,_0x4d5905[_0xfd27e4(0x94f)]=scratchpadPenSize);currentStroke=_0x4d5905;}else _0x7531ba[_0xfd27e4(0x1e6)]&&(_0x7531ba[_0xfd27e4(0x1e6)][_0xfd27e4(0x2c9)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x7531ba[_0xfd27e4(0x1e6)][0x0][_0xfd27e4(0x9eb)],'y':_0x7531ba[_0xfd27e4(0x1e6)][0x0][_0xfd27e4(0x39b)]},{'x':_0x7531ba[_0xfd27e4(0x1e6)][0x1][_0xfd27e4(0x9eb)],'y':_0x7531ba[_0xfd27e4(0x1e6)][0x1][_0xfd27e4(0x39b)]}),initialPinchDistance=getDistance({'x':_0x7531ba[_0xfd27e4(0x1e6)][0x0]['clientX'],'y':_0x7531ba[_0xfd27e4(0x1e6)][0x0][_0xfd27e4(0x39b)]},{'x':_0x7531ba[_0xfd27e4(0x1e6)][0x1][_0xfd27e4(0x9eb)],'y':_0x7531ba['touches'][0x1]['clientY']})));}function animateTrail(){const _0x580741=_0x27804f,_0x41e249=Date[_0x580741(0x4b2)]();let _0x1c7918=![];for(let _0x39024e=strokes[_0x580741(0x2c9)]-0x1;_0x39024e>=0x0;_0x39024e--){const _0x436419=strokes[_0x39024e];if(_0x436419['tool']==='trail'&&_0x436419[_0x580741(0x82c)]){const _0x85f44f=_0x41e249-_0x436419[_0x580741(0x82c)];_0x85f44f>=TRAIL_DURATION?strokes[_0x580741(0x694)](_0x39024e,0x1):(_0x436419[_0x580741(0x439)]=0x1-_0x85f44f/TRAIL_DURATION,_0x1c7918=!![]);}}redrawScratchpad(),_0x1c7918?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x5984b4){const _0x46249e=_0x27804f;if(!_0x5984b4||_0x5984b4['points'][_0x46249e(0x2c9)]<0x1)return;scratchpadCtx[_0x46249e(0x902)](),scratchpadCtx[_0x46249e(0x98b)]=_0x46249e(0x7f3),scratchpadCtx[_0x46249e(0x4fe)]=_0x46249e(0x7f3);if(_0x5984b4['tool']===_0x46249e(0x798)){const _0x4a4417=_0x5984b4['size']/scratchpadScale;scratchpadCtx[_0x46249e(0x12f)]=_0x5984b4[_0x46249e(0x439)]??0x1,scratchpadCtx[_0x46249e(0x999)]=_0x46249e(0x26a),scratchpadCtx[_0x46249e(0x6fa)]=_0x4a4417*0x3,scratchpadCtx[_0x46249e(0x74d)]=_0x46249e(0x5b2),scratchpadCtx['lineWidth']=_0x4a4417*2.5,scratchpadCtx['beginPath'](),scratchpadCtx['moveTo'](_0x5984b4[_0x46249e(0x415)][0x0]['x'],_0x5984b4[_0x46249e(0x415)][0x0]['y']);for(let _0x44aa20=0x1;_0x44aa20<_0x5984b4[_0x46249e(0x415)][_0x46249e(0x2c9)]-0x1;_0x44aa20++){const _0x476ed4=getMidpoint(_0x5984b4['points'][_0x44aa20],_0x5984b4['points'][_0x44aa20+0x1]);scratchpadCtx['quadraticCurveTo'](_0x5984b4[_0x46249e(0x415)][_0x44aa20]['x'],_0x5984b4[_0x46249e(0x415)][_0x44aa20]['y'],_0x476ed4['x'],_0x476ed4['y']);}scratchpadCtx[_0x46249e(0x6ee)](),scratchpadCtx[_0x46249e(0x999)]=_0x46249e(0x4b0),scratchpadCtx[_0x46249e(0x6fa)]=0x0,scratchpadCtx[_0x46249e(0x74d)]='#FFFFFF',scratchpadCtx[_0x46249e(0x87d)]=_0x4a4417,scratchpadCtx[_0x46249e(0x6ee)](),scratchpadCtx[_0x46249e(0x790)]();}else{if(_0x5984b4[_0x46249e(0x12c)]===_0x46249e(0x377)){scratchpadCtx[_0x46249e(0x16a)]=_0x46249e(0x2b8),scratchpadCtx[_0x46249e(0x74d)]=_0x5984b4[_0x46249e(0x58c)],scratchpadCtx[_0x46249e(0x87d)]=_0x5984b4[_0x46249e(0x94f)],scratchpadCtx[_0x46249e(0x8b5)](),scratchpadCtx[_0x46249e(0x34a)](_0x5984b4[_0x46249e(0x415)][0x0]['x'],_0x5984b4[_0x46249e(0x415)][0x0]['y']);for(let _0x20e3c0=0x1;_0x20e3c0<_0x5984b4['points'][_0x46249e(0x2c9)]-0x1;_0x20e3c0++){const _0x47c8aa=getMidpoint(_0x5984b4['points'][_0x20e3c0],_0x5984b4[_0x46249e(0x415)][_0x20e3c0+0x1]);scratchpadCtx['quadraticCurveTo'](_0x5984b4['points'][_0x20e3c0]['x'],_0x5984b4[_0x46249e(0x415)][_0x20e3c0]['y'],_0x47c8aa['x'],_0x47c8aa['y']);}scratchpadCtx[_0x46249e(0x6ee)](),scratchpadCtx[_0x46249e(0x790)]();}else{scratchpadCtx['globalCompositeOperation']=_0x5984b4[_0x46249e(0x12c)]===_0x46249e(0x49b)?_0x46249e(0x7dc):_0x46249e(0x475),scratchpadCtx['strokeStyle']=_0x5984b4[_0x46249e(0x58c)],scratchpadCtx[_0x46249e(0x87d)]=_0x5984b4[_0x46249e(0x94f)],scratchpadCtx[_0x46249e(0x8b5)](),scratchpadCtx[_0x46249e(0x34a)](_0x5984b4['points'][0x0]['x'],_0x5984b4[_0x46249e(0x415)][0x0]['y']);for(let _0x1eccff=0x1;_0x1eccff<_0x5984b4['points'][_0x46249e(0x2c9)]-0x1;_0x1eccff++){const _0x157a90=getMidpoint(_0x5984b4[_0x46249e(0x415)][_0x1eccff],_0x5984b4[_0x46249e(0x415)][_0x1eccff+0x1]);scratchpadCtx[_0x46249e(0x230)](_0x5984b4[_0x46249e(0x415)][_0x1eccff]['x'],_0x5984b4[_0x46249e(0x415)][_0x1eccff]['y'],_0x157a90['x'],_0x157a90['y']);}scratchpadCtx[_0x46249e(0x6ee)](),scratchpadCtx[_0x46249e(0x790)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0x365a77){const _0x323d75=_0x27804f;_0x365a77[_0x323d75(0xba)]();const _0x27f8af=scratchpadCtx['canvas'],_0x3be8b2=_0x27f8af[_0x323d75(0x641)]();if(_0x365a77[_0x323d75(0x1e6)]){if(_0x365a77[_0x323d75(0x1e6)][_0x323d75(0x2c9)]===0x1&&isDrawingOnScratchpad){const _0x5a0295=getTransformedPoint(_0x365a77[_0x323d75(0x1e6)][0x0]['clientX']-_0x3be8b2['left'],_0x365a77[_0x323d75(0x1e6)][0x0][_0x323d75(0x39b)]-_0x3be8b2[_0x323d75(0x6eb)]);currentStroke['points'][_0x323d75(0x523)](_0x5a0295),redrawScratchpad();}else{if(_0x365a77[_0x323d75(0x1e6)]['length']===0x2&&isPanning){const _0x1db8ef=getDistance({'x':_0x365a77[_0x323d75(0x1e6)][0x0][_0x323d75(0x9eb)],'y':_0x365a77['touches'][0x0]['clientY']},{'x':_0x365a77['touches'][0x1][_0x323d75(0x9eb)],'y':_0x365a77['touches'][0x1][_0x323d75(0x39b)]}),_0x1feffb=getMidpoint({'x':_0x365a77[_0x323d75(0x1e6)][0x0][_0x323d75(0x9eb)],'y':_0x365a77[_0x323d75(0x1e6)][0x0]['clientY']},{'x':_0x365a77[_0x323d75(0x1e6)][0x1][_0x323d75(0x9eb)],'y':_0x365a77[_0x323d75(0x1e6)][0x1]['clientY']}),_0x20df7b=_0x1db8ef/ initialPinchDistance,_0x2dac8a=Math[_0x323d75(0x316)](Math[_0x323d75(0xb5)](scratchpadScale*_0x20df7b,MIN_SCALE),MAX_SCALE),_0x4ebe31=_0x1feffb['x']-panStart['x'],_0x1ac898=_0x1feffb['y']-panStart['y'];scratchpadOffset['x']=_0x1feffb['x']-(_0x1feffb['x']-scratchpadOffset['x'])*(_0x2dac8a/scratchpadScale),scratchpadOffset['y']=_0x1feffb['y']-(_0x1feffb['y']-scratchpadOffset['y'])*(_0x2dac8a/scratchpadScale),scratchpadOffset['x']+=_0x4ebe31,scratchpadOffset['y']+=_0x1ac898,scratchpadScale=_0x2dac8a,initialPinchDistance=_0x1db8ef,panStart=_0x1feffb,redrawScratchpad();}}}else{if(isMousePanning){const _0xd17c08=_0x365a77[_0x323d75(0x9eb)]-panStart['x'],_0xc94d=_0x365a77[_0x323d75(0x39b)]-panStart['y'];scratchpadOffset['x']+=_0xd17c08,scratchpadOffset['y']+=_0xc94d,panStart={'x':_0x365a77[_0x323d75(0x9eb)],'y':_0x365a77['clientY']},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x219b1b=getTransformedPoint(_0x365a77['clientX']-_0x3be8b2[_0x323d75(0x58d)],_0x365a77[_0x323d75(0x39b)]-_0x3be8b2[_0x323d75(0x6eb)]);currentStroke['points'][_0x323d75(0x523)](_0x219b1b),redrawScratchpad();}}}}function handlePointerUp(_0xce9f3c){const _0x716c32=_0x27804f;_0xce9f3c[_0x716c32(0xba)]();const _0x190d1a=scratchpadCtx[_0x716c32(0x558)];isMousePanning&&(isMousePanning=![],_0x190d1a['style'][_0x716c32(0x8c3)]=_0x716c32(0x3a3)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x716c32(0x415)][_0x716c32(0x2c9)]>0x1&&(strokes[_0x716c32(0x523)](currentStroke),currentStroke['tool']==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x210398=_0x716c32,_0x323fb4=strokes['filter'](_0x2f5ad5=>_0x2f5ad5[_0x210398(0x12c)]===_0x210398(0x798)&&!_0x2f5ad5[_0x210398(0x82c)]);if(_0x323fb4[_0x210398(0x2c9)]>0x0){const _0x4ca61a=Date[_0x210398(0x4b2)]();_0x323fb4[_0x210398(0x7b1)](_0x416efc=>_0x416efc['fadeStartTime']=_0x4ca61a),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x4c2d3c){const _0x5760f8=_0x27804f;_0x4c2d3c[_0x5760f8(0xba)]();const _0x620835=_0x4c2d3c[_0x5760f8(0x229)]*-0.005,_0x3772e1=Math['min'](Math['max'](scratchpadScale+_0x620835,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x4c2d3c[_0x5760f8(0x9eb)]-(_0x4c2d3c[_0x5760f8(0x9eb)]-scratchpadOffset['x'])*(_0x3772e1/scratchpadScale),scratchpadOffset['y']=_0x4c2d3c[_0x5760f8(0x39b)]-(_0x4c2d3c[_0x5760f8(0x39b)]-scratchpadOffset['y'])*(_0x3772e1/scratchpadScale),scratchpadScale=_0x3772e1,redrawScratchpad();}function undo(){const _0xacbc70=_0x27804f;strokes[_0xacbc70(0x2c9)]>0x0&&(redoStrokes[_0xacbc70(0x523)](strokes[_0xacbc70(0x7b0)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x321e7d=_0x27804f;redoStrokes[_0x321e7d(0x2c9)]>0x0&&(strokes[_0x321e7d(0x523)](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0xb9635d=_0x27804f;document[_0xb9635d(0x5a3)](_0xb9635d(0x6d3))[_0xb9635d(0x190)]=strokes['length']===0x0,document[_0xb9635d(0x5a3)](_0xb9635d(0xb7))[_0xb9635d(0x190)]=redoStrokes[_0xb9635d(0x2c9)]===0x0;}function openScratchpad(_0x3f15f3,_0x48509a){const _0x3fc56b=_0x27804f,_0x5979c3=document[_0x3fc56b(0x5a3)](_0x3fc56b(0x68b)),_0x35f4f4=document[_0x3fc56b(0x5a3)](_0x3fc56b(0x823)),_0x4faa89=document[_0x3fc56b(0x5a3)](_0x3fc56b(0x132)),_0x2c28db=document[_0x3fc56b(0x5a3)]('scratchpad-controls');_0x35f4f4[_0x3fc56b(0x84f)]=_0x3f15f3[_0x3fc56b(0x956)]||_0x3f15f3[_0x3fc56b(0x872)],_0x4faa89[_0x3fc56b(0x3e2)]=_0x48509a[_0x3fc56b(0x6d7)]((_0x52fb0b,_0x127789)=>'<div>'+String['fromCharCode'](0x41+_0x127789)+'.\x20'+_0x52fb0b+_0x3fc56b(0x8c4))[_0x3fc56b(0x1cb)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x5979c3[_0x3fc56b(0x24d)][_0x3fc56b(0x3dd)](_0x3fc56b(0x825)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x3fc56b(0x403)])MathJax[_0x3fc56b(0x276)]([_0x35f4f4,_0x4faa89]);}function initializeScratchpadCanvas(){const _0x5e0420=_0x27804f,_0x368bf4=document[_0x5e0420(0x5a3)](_0x5e0420(0x7f5)),_0x56114b=document[_0x5e0420(0x62c)](_0x5e0420(0x192));if(!_0x368bf4||!_0x56114b)return;scratchpadCtx=_0x368bf4[_0x5e0420(0x3e9)]('2d',{'willReadFrequently':!![]});const _0x3d4b71=window[_0x5e0420(0x6ba)]||0x1,_0x30b50c=_0x56114b[_0x5e0420(0x641)]();_0x368bf4[_0x5e0420(0x6c1)]=_0x30b50c[_0x5e0420(0x6c1)]*_0x3d4b71,_0x368bf4['height']=_0x30b50c[_0x5e0420(0x682)]*_0x3d4b71,_0x368bf4[_0x5e0420(0x39c)][_0x5e0420(0x6c1)]=_0x30b50c[_0x5e0420(0x6c1)]+'px',_0x368bf4[_0x5e0420(0x39c)][_0x5e0420(0x682)]=_0x30b50c[_0x5e0420(0x682)]+'px',scratchpadCtx[_0x5e0420(0x80c)](_0x3d4b71,_0x3d4b71),scratchpadCtx[_0x5e0420(0x98b)]=_0x5e0420(0x7f3),scratchpadCtx[_0x5e0420(0x4fe)]=_0x5e0420(0x7f3),_0x368bf4[_0x5e0420(0x6ac)](_0x5e0420(0x1b7),handlePointerDown),_0x368bf4[_0x5e0420(0x6ac)](_0x5e0420(0x921),handlePointerMove),_0x368bf4[_0x5e0420(0x6ac)](_0x5e0420(0x942),handlePointerUp),_0x368bf4[_0x5e0420(0x6ac)](_0x5e0420(0x9ae),handlePointerUp),_0x368bf4[_0x5e0420(0x6ac)](_0x5e0420(0x6b0),handleWheel),_0x368bf4['removeEventListener']('touchstart',handlePointerDown),_0x368bf4[_0x5e0420(0x6ac)](_0x5e0420(0x461),handlePointerMove),_0x368bf4[_0x5e0420(0x6ac)](_0x5e0420(0x144),handlePointerUp),_0x368bf4[_0x5e0420(0x2ea)]('pointerdown',handlePointerDown),_0x368bf4[_0x5e0420(0x2ea)](_0x5e0420(0x921),handlePointerMove),_0x368bf4[_0x5e0420(0x2ea)](_0x5e0420(0x942),handlePointerUp),_0x368bf4['addEventListener'](_0x5e0420(0x9ae),handlePointerUp),_0x368bf4[_0x5e0420(0x2ea)](_0x5e0420(0x6b0),handleWheel,{'passive':![]}),_0x368bf4[_0x5e0420(0x2ea)]('touchstart',handlePointerDown,{'passive':![]}),_0x368bf4[_0x5e0420(0x2ea)](_0x5e0420(0x461),handlePointerMove,{'passive':![]}),_0x368bf4[_0x5e0420(0x2ea)]('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x412035=_0x27804f,_0x3dcb57=document[_0x412035(0x5a3)]('scratchpad-modal'),_0x246219=document['getElementById'](_0x412035(0x208));_0x246219[_0x412035(0x3e2)]=_0x412035(0x707)+scratchpadHighlighterSize+_0x412035(0x156);const _0x14fc98=document['getElementById']('pen-tool-btn'),_0x1d02dc=document[_0x412035(0x5a3)](_0x412035(0x9aa)),_0xcb1833=document[_0x412035(0x5a3)]('trail-tool-btn'),_0x2e4123=document[_0x412035(0x5a3)](_0x412035(0x28f)),_0x554ae5=document[_0x412035(0x5a3)](_0x412035(0x5fe)),_0x1fe983=document[_0x412035(0x5a3)](_0x412035(0x4bb)),_0x218682=[_0x14fc98,_0x1d02dc,_0xcb1833,_0x2e4123];document[_0x412035(0x5a3)](_0x412035(0x21f))[_0x412035(0x2ea)](_0x412035(0x189),()=>_0x3dcb57[_0x412035(0x24d)]['add'](_0x412035(0x825))),document[_0x412035(0x5a3)](_0x412035(0x63c))[_0x412035(0x2ea)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x412035(0x5a3)]('scratchpad-clear-btn')[_0x412035(0x2ea)](_0x412035(0x189),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x412035(0x5a3)](_0x412035(0x6d3))[_0x412035(0x2ea)](_0x412035(0x189),undo),document['getElementById'](_0x412035(0xb7))['addEventListener'](_0x412035(0x189),redo);const _0x3f88a3=_0x4eeaec=>{const _0xaa384=_0x412035;_0x218682[_0xaa384(0x7b1)](_0x5dd44b=>_0x5dd44b[_0xaa384(0x24d)][_0xaa384(0x3dd)](_0xaa384(0x4cd))),_0x4eeaec[_0xaa384(0x24d)][_0xaa384(0x162)](_0xaa384(0x4cd));const _0x4c7d20=_0x4eeaec===_0x2e4123;_0x554ae5['classList'][_0xaa384(0x72e)](_0xaa384(0x825),_0x4c7d20),_0x1fe983[_0xaa384(0x24d)][_0xaa384(0x72e)](_0xaa384(0x825),!_0x4c7d20);};_0x14fc98[_0x412035(0x2ea)](_0x412035(0x189),()=>{const _0xbfbdf6=_0x412035;activeTool=_0xbfbdf6(0x323),_0x3f88a3(_0x14fc98);}),_0x1d02dc[_0x412035(0x2ea)](_0x412035(0x189),()=>{activeTool='eraser',_0x3f88a3(_0x1d02dc);}),_0xcb1833['addEventListener'](_0x412035(0x189),()=>{const _0x4ff5ef=_0x412035;activeTool=_0x4ff5ef(0x798),_0x3f88a3(_0xcb1833);}),_0x2e4123[_0x412035(0x2ea)](_0x412035(0x189),()=>{const _0xe8d346=_0x412035;activeTool=_0xe8d346(0x377),_0x3f88a3(_0x2e4123);}),_0x554ae5[_0x412035(0x7c7)]('.pen-size-btn')['forEach'](_0x470b33=>{const _0x24bcd0=_0x412035;_0x470b33['addEventListener'](_0x24bcd0(0x189),_0x55f726=>{const _0x1b477f=_0x24bcd0;scratchpadPenSize=parseInt(_0x55f726[_0x1b477f(0x680)][_0x1b477f(0x4b7)][_0x1b477f(0x94f)],0xa),_0x554ae5[_0x1b477f(0x7c7)](_0x1b477f(0x48d))['forEach'](_0x2097e7=>_0x2097e7[_0x1b477f(0x24d)][_0x1b477f(0x3dd)](_0x1b477f(0x4cd))),_0x55f726[_0x1b477f(0x680)][_0x1b477f(0x24d)]['add']('active');});}),_0x554ae5[_0x412035(0x7c7)]('.pen-color-btn')['forEach'](_0x29d200=>{const _0x222f87=_0x412035;_0x29d200[_0x222f87(0x2ea)]('click',_0x56132f=>{const _0x4a6fe1=_0x222f87;scratchpadPenColor=_0x56132f[_0x4a6fe1(0x680)][_0x4a6fe1(0x4b7)][_0x4a6fe1(0x58c)],_0x554ae5[_0x4a6fe1(0x7c7)](_0x4a6fe1(0x88a))[_0x4a6fe1(0x7b1)](_0xd390f8=>_0xd390f8[_0x4a6fe1(0x24d)][_0x4a6fe1(0x3dd)](_0x4a6fe1(0x4cd))),_0x56132f[_0x4a6fe1(0x680)][_0x4a6fe1(0x24d)][_0x4a6fe1(0x162)](_0x4a6fe1(0x4cd));});}),_0x1fe983[_0x412035(0x7c7)](_0x412035(0x9bd))[_0x412035(0x7b1)](_0x241c8b=>{const _0xc82693=_0x412035;_0x241c8b[_0xc82693(0x2ea)](_0xc82693(0x189),_0x3edd5e=>{const _0x5b3e7c=_0xc82693;scratchpadHighlighterColor=_0x3edd5e[_0x5b3e7c(0x680)]['dataset'][_0x5b3e7c(0x58c)],_0x1fe983[_0x5b3e7c(0x7c7)](_0x5b3e7c(0x9bd))[_0x5b3e7c(0x7b1)](_0x1598a7=>_0x1598a7[_0x5b3e7c(0x24d)][_0x5b3e7c(0x3dd)](_0x5b3e7c(0x4cd))),_0x3edd5e[_0x5b3e7c(0x680)]['classList'][_0x5b3e7c(0x162)](_0x5b3e7c(0x4cd));});});const _0x4f5488=document['getElementById'](_0x412035(0xfb)),_0x4a247b=document[_0x412035(0x5a3)](_0x412035(0x908));_0x4f5488['addEventListener'](_0x412035(0x46b),_0x2b868f=>{const _0x5d5fe7=_0x412035,_0x56578c=parseInt(_0x2b868f[_0x5d5fe7(0x680)]['value'],0xa);scratchpadHighlighterSize=_0x56578c,_0x4a247b[_0x5d5fe7(0x84f)]=_0x56578c;}),window[_0x412035(0x2ea)](_0x412035(0x59e),()=>{const _0x37d0ea=_0x412035;!_0x3dcb57[_0x37d0ea(0x24d)][_0x37d0ea(0x6e6)](_0x37d0ea(0x825))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x27804f(0x43f),'description':_0x27804f(0x6c3),'icon':_0x27804f(0x405)},'QUICK_THINKER':{'id':_0x27804f(0x103),'name':_0x27804f(0x844),'description':_0x27804f(0x56c),'icon':_0x27804f(0x54f)},'ON_FIRE':{'id':'on_fire','name':_0x27804f(0x8d4),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x27804f(0x861)},'FIRST_TRY_ACE':{'id':_0x27804f(0x637),'name':_0x27804f(0x8ff),'description':_0x27804f(0x723),'icon':_0x27804f(0xd6)},'COMEBACK_KING':{'id':_0x27804f(0x9f0),'name':_0x27804f(0x198),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x27804f(0x674),'name':_0x27804f(0x48a),'description':_0x27804f(0x1ae),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x27804f(0x4eb),'name':'ผู้ไม่ยอมแพ้','description':_0x27804f(0x98f),'icon':_0x27804f(0x585)}},firebaseConfig={'apiKey':_0x27804f(0x1f2),'authDomain':_0x27804f(0x617),'projectId':_0x27804f(0x2bf),'storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':_0x27804f(0xc9),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x27804f(0x7f6)},appId=typeof __app_id!==_0x27804f(0x372)?__app_id:_0x27804f(0x849),adminView=document[_0x27804f(0x5a3)](_0x27804f(0x599)),studentView=document[_0x27804f(0x5a3)](_0x27804f(0x743)),projectDashboardView=document[_0x27804f(0x5a3)]('project-dashboard-view'),projectDetailView=document['getElementById'](_0x27804f(0x9a4)),quizResultsView=document[_0x27804f(0x5a3)](_0x27804f(0x3c7)),projectList=document[_0x27804f(0x5a3)](_0x27804f(0x996)),noProjectsMsg=document[_0x27804f(0x5a3)](_0x27804f(0x886)),projectTitle=document[_0x27804f(0x5a3)](_0x27804f(0x4d2)),projectIdDisplay=document[_0x27804f(0x5a3)](_0x27804f(0x70c)),studentList=document[_0x27804f(0x5a3)](_0x27804f(0x29a)),messageModal=document['getElementById'](_0x27804f(0x48c)),modalMessage=document['getElementById']('modal-message'),createProjectModal=document[_0x27804f(0x5a3)](_0x27804f(0x86f)),adminPasswordModal=document[_0x27804f(0x5a3)]('admin-password-modal'),confirmationModal=document[_0x27804f(0x5a3)](_0x27804f(0x3d1)),userIdDisplay=document[_0x27804f(0x5a3)](_0x27804f(0x866)),topicTab=document[_0x27804f(0x5a3)](_0x27804f(0xbb)),textTab=document[_0x27804f(0x5a3)](_0x27804f(0x4d3)),topicInputArea=document[_0x27804f(0x5a3)]('topic-input-area'),textInputArea=document[_0x27804f(0x5a3)](_0x27804f(0x8e9)),manageTab=document[_0x27804f(0x5a3)]('manage-tab'),resultsTab=document[_0x27804f(0x5a3)](_0x27804f(0x34e)),leaderboardTab=document[_0x27804f(0x5a3)](_0x27804f(0x218)),manageTabContent=document[_0x27804f(0x5a3)](_0x27804f(0x528)),resultsTabContent=document['getElementById']('results-tab-content'),leaderboardTabContent=document[_0x27804f(0x5a3)]('leaderboard-tab-content'),projectQuizzesList=document['getElementById'](_0x27804f(0x5ef)),fileTab=document['getElementById'](_0x27804f(0x654)),fileInputArea=document[_0x27804f(0x5a3)](_0x27804f(0x308)),fileUploadInput=document[_0x27804f(0x5a3)](_0x27804f(0x90f)),worksheetTab=document['getElementById'](_0x27804f(0x947)),worksheetInputArea=document[_0x27804f(0x5a3)](_0x27804f(0x939)),generateWorksheetBtn=document[_0x27804f(0x5a3)]('generate-worksheet-btn'),studentInitialView=document[_0x27804f(0x5a3)](_0x27804f(0x9a5)),studentNameSelectionView=document[_0x27804f(0x5a3)]('student-name-selection-view'),studentQuizArea=document[_0x27804f(0x5a3)](_0x27804f(0x2dd)),studentResultArea=document[_0x27804f(0x5a3)](_0x27804f(0x1fd)),studentReadingArea=document[_0x27804f(0x5a3)](_0x27804f(0x384)),loadQuizBtn=document[_0x27804f(0x5a3)]('load-quiz-btn'),startQuizBtn=document[_0x27804f(0x5a3)](_0x27804f(0x2c8)),studentJoinGameView=document['getElementById'](_0x27804f(0x449)),presentationModal=document[_0x27804f(0x5a3)](_0x27804f(0x540)),renameQuizModal=document[_0x27804f(0x5a3)]('rename-quiz-modal'),moveQuizModal=document[_0x27804f(0x5a3)](_0x27804f(0x370)),quizSettingsModal=document[_0x27804f(0x5a3)](_0x27804f(0x366)),quizStatusModal=document[_0x27804f(0x5a3)](_0x27804f(0x5d8)),liveGameView=document['getElementById'](_0x27804f(0x5f6));function handleAutoFixLatex(){const _0x28bc37=_0x27804f,_0x504b96=document[_0x28bc37(0x5a3)]('quiz-editor-questions-container')||document,_0x3b9814=_0x504b96[_0x28bc37(0x7c7)]([_0x28bc37(0x695),_0x28bc37(0x5b9),_0x28bc37(0x4cf),_0x28bc37(0x252),_0x28bc37(0x460),_0x28bc37(0x8b1),_0x28bc37(0x702),'.option-text',_0x28bc37(0x813)]['join'](','));let _0x2ffae0=0x0;const _0x19d22d=_0x56060c=>_0x28bc37(0x50c)in _0x56060c?String(_0x56060c[_0x28bc37(0x50c)]):_0x56060c['innerText']!==undefined?_0x56060c['innerText']:_0x56060c[_0x28bc37(0x84f)]||'',_0x532f63=(_0x1df299,_0x268f2a)=>{const _0x181b61=_0x28bc37;if('value'in _0x1df299){_0x1df299[_0x181b61(0x50c)]=_0x268f2a;return;}if(_0x1df299['querySelector']&&_0x1df299[_0x181b61(0x62c)](_0x181b61(0x839)))return;if(_0x1df299[_0x181b61(0x3b2)]!==undefined)_0x1df299['innerText']=_0x268f2a;else _0x1df299[_0x181b61(0x84f)]=_0x268f2a;},_0x1de31d=_0x3add08=>_0x3add08[_0x28bc37(0x27f)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x55ebb9=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0xecef08=_0x2f0f4c=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x2f0f4c),_0xda6a84=_0x57d349=>{const _0x3896c2=_0x28bc37,_0x157b9f=(_0x57d349['match'](/\{/g)||[])['length'],_0x5deab9=(_0x57d349[_0x3896c2(0x59c)](/\}/g)||[])['length'];if(_0x157b9f>_0x5deab9)_0x57d349=_0x57d349+'}'[_0x3896c2(0x131)](_0x157b9f-_0x5deab9);return _0x57d349;},_0x3eb884=_0x38d74a=>{const _0x7bbe1f=_0x28bc37;let _0x5f54aa=_0x38d74a[_0x7bbe1f(0x79e)]();const _0x427707=['frac',_0x7bbe1f(0x3b9),_0x7bbe1f(0x379),_0x7bbe1f(0x785),_0x7bbe1f(0x45f),_0x7bbe1f(0x3d0),_0x7bbe1f(0x1cf),_0x7bbe1f(0x698),'leq','geq','le','ge',_0x7bbe1f(0x865),'pm',_0x7bbe1f(0x3d7),_0x7bbe1f(0x594),_0x7bbe1f(0x251),_0x7bbe1f(0x831),_0x7bbe1f(0x909),'ln',_0x7bbe1f(0x745),_0x7bbe1f(0x2a0),_0x7bbe1f(0x51e),_0x7bbe1f(0x58d),'right','overline',_0x7bbe1f(0x7da),_0x7bbe1f(0x402),_0x7bbe1f(0x130)];_0x5f54aa=_0x5f54aa['replace'](new RegExp(_0x7bbe1f(0x63a)+_0x427707[_0x7bbe1f(0x1cb)]('|')+')\x5cb)','g'),'\x5c'),_0x427707['forEach'](_0x46bb67=>{const _0x520d5d=_0x7bbe1f;_0x5f54aa=_0x5f54aa['replace'](new RegExp(_0x520d5d(0x97b)+_0x46bb67+'\x5cb','g'),(_0x33b161,_0x9c5db3)=>_0x9c5db3+'\x5c'+_0x46bb67);});const _0x2d4d6c=[[/×/g,_0x7bbe1f(0x6c0)],[/·/g,'\x5ccdot'],[/÷/g,_0x7bbe1f(0x755)],[/≤/g,_0x7bbe1f(0x44d)],[/≥/g,_0x7bbe1f(0xea)],[/≠/g,_0x7bbe1f(0x6cf)],[/±/g,_0x7bbe1f(0x424)],[/∑/g,_0x7bbe1f(0x492)],[/−/g,'-']];_0x2d4d6c[_0x7bbe1f(0x7b1)](([_0x571fef,_0x330f0])=>{const _0x28f4ce=_0x7bbe1f;_0x5f54aa=_0x5f54aa[_0x28f4ce(0x27f)](_0x571fef,_0x330f0);}),_0x5f54aa=_0x5f54aa[_0x7bbe1f(0x27f)](/√\s*\(([^)]*)\)/g,_0x7bbe1f(0x9de)),_0x5f54aa=_0x5f54aa['replace'](/√\s*([A-Za-z0-9]+)/g,_0x7bbe1f(0x9de)),_0x5f54aa=_0x5f54aa[_0x7bbe1f(0x27f)](/(^|[^\\])\bimes\b/g,'$1\x5ctimes')[_0x7bbe1f(0x27f)](/(^|[^\\])\b(?:rac|\/frac)\b/g,'$1\x5cfrac')[_0x7bbe1f(0x27f)](/(^|[^\\])ext\{/g,_0x7bbe1f(0x664))[_0x7bbe1f(0x27f)](/(^|[^\\])ext\(/g,_0x7bbe1f(0x1ce))[_0x7bbe1f(0x27f)](/\\text\(([^)]*)\)/g,'\x5ctext{$1}')[_0x7bbe1f(0x27f)](/\s\\frac/g,_0x7bbe1f(0x631)),_0x5f54aa=_0x5f54aa[_0x7bbe1f(0x27f)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x500e68,_0x1c457e,_0x23f403,_0x454c91)=>_0x1c457e+_0x7bbe1f(0x3c1)+_0x23f403+'}{'+_0x454c91+'}'),_0x5f54aa=_0x5f54aa[_0x7bbe1f(0x27f)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x7bbe1f(0x570))[_0x7bbe1f(0x27f)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x7bbe1f(0x570))[_0x7bbe1f(0x27f)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x7bbe1f(0x570)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x7bbe1f(0x650)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x7bbe1f(0x650)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x7bbe1f(0x650)],[/(\d+)\s*°\s*C/g,_0x7bbe1f(0x650)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x7bbe1f(0x35b)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x7bbe1f(0x650)]][_0x7bbe1f(0x7b1)](([_0x48bdf8,_0x36323f])=>{const _0x23fb58=_0x7bbe1f;_0x5f54aa=_0x5f54aa[_0x23fb58(0x27f)](_0x48bdf8,_0x36323f);}),_0x5f54aa=_0x5f54aa[_0x7bbe1f(0x27f)](/(\d+)\s*%/g,_0x7bbe1f(0x264)),_0x5f54aa=_0x5f54aa[_0x7bbe1f(0x27f)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x7bbe1f(0x278))[_0x7bbe1f(0x27f)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x7bbe1f(0xe6))[_0x7bbe1f(0x27f)](/\{\{([^\{\}]+)\}\}/g,_0x7bbe1f(0x29f)),['sin',_0x7bbe1f(0x251),_0x7bbe1f(0x831),_0x7bbe1f(0x909),'ln'][_0x7bbe1f(0x7b1)](_0x49d920=>{const _0x28a020=_0x7bbe1f;_0x5f54aa=_0x5f54aa[_0x28a020(0x27f)](new RegExp(_0x28a020(0x97b)+_0x49d920+_0x28a020(0x201),'g'),(_0x4461e6,_0x4c65bb)=>_0x4c65bb+'\x5c'+_0x49d920+'(');});const _0x160434=(_0x5f54aa[_0x7bbe1f(0x59c)](/\\left\b/g)||[])[_0x7bbe1f(0x2c9)],_0x1489a1=(_0x5f54aa['match'](/\\right\b/g)||[])[_0x7bbe1f(0x2c9)];if(_0x160434!==_0x1489a1)_0x5f54aa=_0x5f54aa['replace'](/\\left\b/g,'')['replace'](/\\right\b/g,'');return _0x5f54aa=_0xda6a84(_0x5f54aa),_0x5f54aa;},_0x381394=_0x11ab61=>{const _0x3a4ffc=_0x28bc37;if(/\$|\\\(|\\\[/[_0x3a4ffc(0x4a3)](_0x11ab61))return _0x11ab61;if(!_0x55ebb9['test'](_0x11ab61))return _0x11ab61;const _0x30c0f4=_0x11ab61[_0x3a4ffc(0x59c)](/^\s*/)[0x0],_0x5686ac=_0x11ab61[_0x3a4ffc(0x59c)](/\s*$/)[0x0],_0x564ddc=_0x11ab61[_0x3a4ffc(0x79e)]();return _0x30c0f4+'$'+_0x3eb884(_0x564ddc)+'$'+_0x5686ac;},_0x52e74f=_0x21ff29=>_0x21ff29[_0x28bc37(0x239)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x3b9814[_0x28bc37(0x7b1)](_0x323f8b=>{const _0x2911c4=_0x28bc37;if(_0x323f8b['querySelector']&&_0x323f8b[_0x2911c4(0x62c)](_0x2911c4(0x839)))return;const _0x5a2145=_0x19d22d(_0x323f8b);let _0x5656b1=_0x1de31d(_0x5a2145);_0x5656b1=_0x5656b1[_0x2911c4(0x27f)](/\$\$([\s\S]*?)\$\$/g,(_0x4f1343,_0x241cfa)=>'$$'+_0x3eb884(_0x241cfa)+'$$')[_0x2911c4(0x27f)](/\$([^$]*?)\$/g,(_0x49be8e,_0x5f4f0b)=>'$'+_0x3eb884(_0x5f4f0b)+'$')[_0x2911c4(0x27f)](/\\\(([\s\S]*?)\\\)/g,(_0x5ce80f,_0x452307)=>'\x5c('+_0x3eb884(_0x452307)+'\x5c)')[_0x2911c4(0x27f)](/\\\[([\s\S]*?)\\\]/g,(_0x1d3f0e,_0x5c88fb)=>'\x5c['+_0x3eb884(_0x5c88fb)+'\x5c]');let _0xe39409=_0x5656b1,_0xc193fb=0x0;const _0x2430e3=_0x4fd4b=>_0x4fd4b[_0x2911c4(0x27f)](/S([^S]{0,2000}?)S/g,(_0x4a1325,_0x47f246)=>_0x55ebb9['test'](_0x47f246)?'$'+_0x3eb884(_0x47f246)+'$':_0x4a1325);while(_0xc193fb++<0x14){const _0x57eddd=_0x2430e3(_0xe39409);if(_0x57eddd===_0xe39409)break;_0xe39409=_0x57eddd;}_0x5656b1=_0xe39409,_0x5656b1=_0x5656b1[_0x2911c4(0x239)]('\x0a')[_0x2911c4(0x6d7)](_0x538161=>{const _0x3816a6=_0x2911c4;if(!(/[,\u3001，;；]/['test'](_0x538161)||/\s(?:และ|หรือ)\s/['test'](_0x538161))||!_0x55ebb9['test'](_0x538161))return _0x538161;return _0x52e74f(_0x538161)[_0x3816a6(0x6d7)](_0x57f5a5=>{const _0xfbbbc4=_0x3816a6;if(/^\s(?:และ|หรือ)\s$/['test'](_0x57f5a5)||/^[,\u3001，;；]$/[_0xfbbbc4(0x4a3)](_0x57f5a5))return _0x57f5a5;return _0x381394(_0x57f5a5);})['join']('');})[_0x2911c4(0x1cb)]('\x0a'),_0x5656b1=_0x5656b1[_0x2911c4(0x239)]('\x0a')[_0x2911c4(0x6d7)](_0x322038=>{const _0x4bb032=_0x2911c4,_0x92f33a=_0x322038[_0x4bb032(0x79e)]();if(!_0x92f33a)return _0x322038;const _0x36e85d=/\$|\\\(|\\\[/[_0x4bb032(0x4a3)](_0x92f33a),_0x217e79=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x4bb032(0x4a3)](_0x92f33a);if(_0x36e85d||!_0x217e79||_0xecef08(_0x92f33a))return _0x322038;return _0x322038['replace'](_0x92f33a,'$'+_0x3eb884(_0x92f33a)+'$');})['join']('\x0a'),_0x5656b1=_0x5656b1[_0x2911c4(0x27f)](/(\d+)\s*°\s*C\b/g,(_0x1bbd5c,_0x4fc4f9,_0x2c2b25,_0x509bfa)=>{const _0x2886ab=_0x2911c4,_0x27a076=_0x509bfa[_0x2c2b25-0x1];if(_0x27a076==='$'||_0x27a076==='S'||_0x27a076==='\x5c')return _0x1bbd5c;return'$'+_0x4fc4f9+_0x2886ab(0x6f3);})['replace'](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x10c0ea,_0x2703b5,_0x3b3c13,_0x41c85f)=>{const _0x3faf2d=_0x2911c4,_0xef7b86=_0x41c85f[_0x3b3c13-0x1];if(_0xef7b86==='$'||_0xef7b86==='S'||_0xef7b86==='\x5c')return _0x10c0ea;return'$'+_0x2703b5+_0x3faf2d(0x6f3);})[_0x2911c4(0x27f)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x5ec5d5,_0x958fe5,_0x1d7a5c,_0x2a4fe7)=>{const _0x4d0ceb=_0x2911c4,_0x566c3c=_0x2a4fe7[_0x1d7a5c-0x1];if(_0x566c3c==='$'||_0x566c3c==='S'||_0x566c3c==='\x5c')return _0x5ec5d5;return'$'+_0x958fe5+_0x4d0ceb(0x6f3);}),_0x5656b1=_0x5656b1[_0x2911c4(0x27f)](/\$\s*\$/g,'$$'),_0x5656b1!==_0x5a2145&&(_0x532f63(_0x323f8b,_0x5656b1),_0x2ffae0++);});if(_0x2ffae0>0x0){showMessage(_0x28bc37(0x746)+_0x2ffae0+'\x20ช่อง');try{if(window[_0x28bc37(0x403)]&&MathJax[_0x28bc37(0x276)])MathJax['typesetPromise']();window['katex']&&typeof renderMathInElement==='function'&&renderMathInElement(_0x504b96,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x200a2f){}}else showMessage(_0x28bc37(0x7ce));}async function listenForCustomMathTopics(){const _0x40b12d=_0x27804f,_0x312788=collection(db,_0x40b12d(0x71a)+appId+_0x40b12d(0xd4));onSnapshot(_0x312788,_0x42075a=>{const _0x2112ef=_0x40b12d;customMathTopics=_0x42075a[_0x2112ef(0x16e)][_0x2112ef(0x6d7)](_0x4d6b95=>({'id':_0x4d6b95['id'],..._0x4d6b95[_0x2112ef(0x724)]()})),renderTopicCheckboxes();},_0x45f55c=>{const _0x496fe7=_0x40b12d;console[_0x496fe7(0x84a)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x45f55c);});}function handleSelectAllTopics(){const _0x4f8ab6=_0x27804f,_0x306258=document[_0x4f8ab6(0x5a3)](_0x4f8ab6(0x8ea)),_0x3e3e5c=_0x306258[_0x4f8ab6(0x7c7)](_0x4f8ab6(0x2b2));_0x3e3e5c[_0x4f8ab6(0x7b1)](_0x517667=>{const _0x4aac4d=_0x4f8ab6;_0x517667[_0x4aac4d(0x9b1)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x155466=_0x27804f,_0x1a1be1=document['getElementById'](_0x155466(0x8ea)),_0x477e38=_0x1a1be1[_0x155466(0x7c7)](_0x155466(0x2b2));_0x477e38['forEach'](_0x89546b=>{const _0xce673=_0x155466;_0x89546b[_0xce673(0x9b1)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x193a79){const _0x147b8c=_0x27804f;if(!_0x193a79)return;try{const _0x44bb44=doc(db,_0x147b8c(0x71a)+appId+'/public/data/customMathTopics',_0x193a79);await deleteDoc(_0x44bb44),showMessage(_0x147b8c(0x8e1));}catch(_0x11b27c){console[_0x147b8c(0x84a)]('Error\x20deleting\x20custom\x20topic:',_0x11b27c),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x4b0f4a=_0x27804f,_0x2fddb1=document[_0x4b0f4a(0x5a3)]('custom-math-topic-input'),_0x12ba04=_0x2fddb1[_0x4b0f4a(0x50c)]['trim']();if(!_0x12ba04){showMessage(_0x4b0f4a(0x575));return;}if(!userId){showMessage(_0x4b0f4a(0x3da));return;}try{const _0x3bb831=collection(db,_0x4b0f4a(0x71a)+appId+_0x4b0f4a(0xd4));await addDoc(_0x3bb831,{'name':_0x12ba04,'createdAt':serverTimestamp()}),_0x2fddb1['value']='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x12ba04+_0x4b0f4a(0x336));}catch(_0x4c0c17){console[_0x4b0f4a(0x84a)]('Error\x20adding\x20custom\x20topic:',_0x4c0c17),showMessage(_0x4b0f4a(0x1f9));}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x4176f7=_0x2015,_0x467d19=document[_0x4176f7(0x5a3)]('loader'),_0x385091=document['getElementById'](_0x4176f7(0x4d8)),_0x354871=_0x385091[_0x4176f7(0x84f)];_0x467d19['classList'][_0x4176f7(0x3dd)](_0x4176f7(0x825)),_0x385091[_0x4176f7(0x84f)]=_0x4176f7(0x210);try{const _0x2d8bdb=collection(db,_0x4176f7(0x71a)+appId+_0x4176f7(0x91e)),_0x31affa=await getDocs(_0x2d8bdb);if(_0x31affa['empty']){showMessage(_0x4176f7(0x45e));return;}const _0x174555=writeBatch(db);let _0x25e5d4=0x0;_0x31affa['forEach'](_0x349808=>{const _0x18ae9b=_0x4176f7,_0x33d63d=_0x349808[_0x18ae9b(0x724)](),_0x3df4a7=_0x349808['id'];if(_0x33d63d[_0x18ae9b(0x474)]&&_0x33d63d[_0x18ae9b(0x474)][_0x18ae9b(0x2c9)]>0x0&&!_0x33d63d['questions'][0x0][_0x18ae9b(0x770)]('id')){console[_0x18ae9b(0x909)](_0x18ae9b(0x9e7)+_0x3df4a7+'\x20('+_0x33d63d[_0x18ae9b(0x2a9)]+')'),_0x25e5d4++;const _0x1208ca=_0x33d63d[_0x18ae9b(0x474)][_0x18ae9b(0x6d7)]((_0x4d93fa,_0x4d5473)=>{return{..._0x4d93fa,'id':_0x4d93fa['id']||'q_'+Date['now']()+'_'+_0x3df4a7+'_'+_0x4d5473};}),_0x267451=doc(db,_0x18ae9b(0x71a)+appId+_0x18ae9b(0x91e),_0x3df4a7);_0x174555[_0x18ae9b(0x42f)](_0x267451,{'questions':_0x1208ca});}}),_0x25e5d4>0x0?(_0x385091[_0x4176f7(0x84f)]=_0x4176f7(0x2d1)+_0x25e5d4+'\x20รายการ...',await _0x174555[_0x4176f7(0x117)](),showMessage(_0x4176f7(0x993)+_0x25e5d4+_0x4176f7(0x42b))):showMessage(_0x4176f7(0x280));}catch(_0x49d779){console['error'](_0x4176f7(0x8eb),_0x49d779),showMessage(_0x4176f7(0x205)+_0x49d779['message']);}finally{_0x467d19[_0x4176f7(0x24d)][_0x4176f7(0x162)](_0x4176f7(0x825)),_0x385091[_0x4176f7(0x84f)]=_0x354871;}});}async function handleBulkUpdateQuizSettings(){const _0x58c2e2=_0x27804f,_0x43515c={'shuffle':document['getElementById'](_0x58c2e2(0x9e6))['value'],'resultsDisplay':document[_0x58c2e2(0x5a3)](_0x58c2e2(0x704))['value'],'loopUntilPass':document['getElementById'](_0x58c2e2(0x5e6))['checked'],'isConfidenceScoringEnabled':document['getElementById'](_0x58c2e2(0x5e8))[_0x58c2e2(0x9b1)],'confidenceMode':document[_0x58c2e2(0x5a3)](_0x58c2e2(0x1b5))['value']};try{showMessage(_0x58c2e2(0x832));const _0x479d62=await getDocs(collection(db,'artifacts/'+appId+_0x58c2e2(0x91e))),_0x968aa5=_0x479d62[_0x58c2e2(0x16e)][_0x58c2e2(0x6d7)](_0x5ad7c5=>({'id':_0x5ad7c5['id'],'data':_0x5ad7c5['data']()})),_0x9ee6f5=_0x968aa5[_0x58c2e2(0x2c9)];showConfirmation(_0x58c2e2(0x565)+_0x9ee6f5+_0x58c2e2(0x347),async()=>{const _0x2ab40d=_0x58c2e2,_0x1866e3=document[_0x2ab40d(0x5a3)](_0x2ab40d(0x591));_0x1866e3[_0x2ab40d(0x190)]=!![],_0x1866e3[_0x2ab40d(0x3e2)]=_0x2ab40d(0x94b);try{const _0x51b68b=writeBatch(db);_0x968aa5[_0x2ab40d(0x7b1)](_0x4c1d00=>{const _0x31b72b=_0x2ab40d,_0xe45837=doc(db,'artifacts/'+appId+_0x31b72b(0x91e),_0x4c1d00['id']),_0x2ea63c={..._0x4c1d00[_0x31b72b(0x724)][_0x31b72b(0x6a4)]||{},..._0x43515c};_0x51b68b[_0x31b72b(0x42f)](_0xe45837,{'settings':_0x2ea63c});}),await _0x51b68b[_0x2ab40d(0x117)](),document['getElementById'](_0x2ab40d(0x183))[_0x2ab40d(0x24d)][_0x2ab40d(0x162)](_0x2ab40d(0x825)),showMessage(_0x2ab40d(0x10d)+_0x9ee6f5+_0x2ab40d(0x5a6));}catch(_0x4f1644){console[_0x2ab40d(0x84a)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x4f1644),showMessage(_0x2ab40d(0x3a6));}finally{_0x1866e3[_0x2ab40d(0x190)]=![],_0x1866e3[_0x2ab40d(0x3e2)]=_0x2ab40d(0x824);}});}catch(_0x1ded97){console[_0x58c2e2(0x84a)](_0x58c2e2(0x9fd),_0x1ded97),showMessage(_0x58c2e2(0x4f8));}}async function handleSaveProjectName(){const _0xd3238=_0x27804f,_0x1a4762=document[_0xd3238(0x5a3)](_0xd3238(0x4d2)),_0x545262=document[_0xd3238(0x5a3)]('save-project-name-btn'),_0x28ed95=_0x1a4762[_0xd3238(0x84f)][_0xd3238(0x79e)]();if(!_0x28ed95||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x1a4762[_0xd3238(0x84f)]=currentProjectData['projectName'];return;}_0x545262[_0xd3238(0x190)]=!![],_0x545262[_0xd3238(0x3e2)]=_0xd3238(0x54e);try{const _0x550606=doc(db,_0xd3238(0x71a)+appId+_0xd3238(0x78a),currentProjectId);await updateDoc(_0x550606,{'projectName':_0x28ed95}),currentProjectData&&(currentProjectData['projectName']=_0x28ed95),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x422372){console[_0xd3238(0x84a)](_0xd3238(0x781),_0x422372),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x1a4762[_0xd3238(0x84f)]=currentProjectData[_0xd3238(0xfc)];}finally{_0x545262['classList']['add']('hidden'),_0x545262['disabled']=![],_0x545262[_0xd3238(0x3e2)]=_0xd3238(0x5bc);}}async function initialize(){const _0x3e40f8=_0x27804f;try{const _0x4b592f=initializeApp(firebaseConfig);db=getFirestore(_0x4b592f),auth=getAuth(_0x4b592f),setupAuthListener(),setupEventListeners(),showView(_0x3e40f8(0x2c2)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x57b16a){console[_0x3e40f8(0x84a)]('Firebase\x20initialization\x20failed:',_0x57b16a),showMessage(_0x3e40f8(0x6d0));}}async function handleVerifyAnswersInEditor(){const _0x12a741=_0x27804f,_0x2661ec=document[_0x12a741(0x5a3)](_0x12a741(0x612));if(!_0x2661ec)return;const _0x4c2e42=document[_0x12a741(0x5a3)](_0x12a741(0x8c9));_0x4c2e42[_0x12a741(0x190)]=!![],_0x4c2e42[_0x12a741(0x3e2)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0xf1dfcd=_0x2661ec['querySelectorAll']('.question-editor-item'),_0x57fce9=Array[_0x12a741(0x17b)](_0xf1dfcd)[_0x12a741(0x6d7)]((_0x12b4ac,_0x2fa664)=>{const _0x2ff909=_0x12a741,_0x39493f=_0x12b4ac[_0x2ff909(0x4b7)][_0x2ff909(0x244)],_0x1d77a4=_0x12b4ac['querySelector']('textarea')[_0x2ff909(0x50c)];let _0xf1b08e=null,_0x33b6ac='';switch(_0x39493f){case _0x2ff909(0x1c6):const _0x3bf139=_0x12b4ac[_0x2ff909(0x7c7)](_0x2ff909(0x5b9));_0xf1b08e=Array[_0x2ff909(0x17b)](_0x3bf139)['map'](_0xef6d9f=>_0xef6d9f[_0x2ff909(0x50c)]);const _0x1b001a=_0x12b4ac[_0x2ff909(0x62c)](_0x2ff909(0x564));_0x1b001a&&(_0x33b6ac=_0xf1b08e[parseInt(_0x1b001a['value'])]);break;case _0x2ff909(0x511):_0x33b6ac=_0x12b4ac[_0x2ff909(0x62c)]('.ideal-answer-input')[_0x2ff909(0x50c)];break;case _0x2ff909(0x6d1):const _0x3f748a=_0x12b4ac[_0x2ff909(0x62c)](_0x2ff909(0x564));_0x33b6ac=_0x3f748a?_0x3f748a[_0x2ff909(0x50c)]:'';break;case _0x2ff909(0x3fd):_0x33b6ac=_0x12b4ac['querySelector'](_0x2ff909(0x1a1))[_0x2ff909(0x50c)];break;}return{'question':_0x1d77a4,'options':_0xf1b08e,'proposedAnswer':_0x33b6ac};}),_0x14843b=_0x12a741(0x119)+JSON[_0x12a741(0x65f)](_0x57fce9)+_0x12a741(0x199),_0x2f670e={'type':_0x12a741(0x9a6),'items':{'type':_0x12a741(0x440),'properties':{'questionIndex':{'type':_0x12a741(0x451)},'isCorrect':{'type':_0x12a741(0x919)},'justification':{'type':_0x12a741(0x1fb)},'suggestedAnswer':{'type':_0x12a741(0x1fb)}},'required':[_0x12a741(0x5db),_0x12a741(0x91a),_0x12a741(0x191)]}},_0x1e3649=await callAnalysisApi(_0x14843b,{'type':_0x12a741(0x440),'properties':{'result':_0x2f670e},'required':[_0x12a741(0x6df)]});displayVerificationResultsInEditor(_0x1e3649[_0x12a741(0x6df)]);}catch(_0x3c0f94){console['error'](_0x12a741(0x4c1),_0x3c0f94),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x4c2e42[_0x12a741(0x190)]=![],_0x4c2e42['innerHTML']=_0x12a741(0x3b8);}}function displayVerificationResultsInEditor(_0x1bb992){_0x1bb992['forEach'](_0x3cbe63=>{const _0x477afe=_0x2015,_0x620c4b=document[_0x477afe(0x62c)]('.question-editor-item[data-q-index=\x22'+_0x3cbe63[_0x477afe(0x5db)]+'\x22]');if(!_0x620c4b)return;const _0x243c3b=_0x620c4b[_0x477afe(0x62c)](_0x477afe(0x561));if(_0x243c3b)_0x243c3b[_0x477afe(0x3dd)]();let _0x1a2edb='';if(_0x3cbe63[_0x477afe(0x91a)])_0x1a2edb=_0x477afe(0x388);else{const _0x356a2a=_0x3cbe63[_0x477afe(0x756)]?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x1a2edb=_0x477afe(0xff)+_0x356a2a+_0x477afe(0x5d2)+_0x3cbe63[_0x477afe(0x191)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3cbe63[_0x477afe(0x756)]?_0x477afe(0x99c)+_0x3cbe63[_0x477afe(0x756)]+_0x477afe(0x37d):'')+_0x477afe(0x1f0);}_0x620c4b[_0x477afe(0x1d6)](_0x477afe(0x78f),_0x1a2edb);if(!_0x3cbe63[_0x477afe(0x91a)]&&_0x3cbe63[_0x477afe(0x756)]){const _0x2d0493=_0x620c4b[_0x477afe(0x4b7)][_0x477afe(0x244)],_0x94f3f=_0x455b00=>{const _0x2f9993=_0x477afe;if(!_0x455b00)return;_0x455b00[_0x2f9993(0x24d)][_0x2f9993(0x162)](_0x2f9993(0x87e),_0x2f9993(0x6b2),_0x2f9993(0x39d)),setTimeout(()=>{const _0x4f7bda=_0x2f9993;_0x455b00[_0x4f7bda(0x24d)][_0x4f7bda(0x3dd)](_0x4f7bda(0x87e));},0x9c4);};if(_0x2d0493==='multiple_choice'){const _0x77cc0f=Array[_0x477afe(0x17b)](_0x620c4b[_0x477afe(0x7c7)]('input[type=\x22text\x22]')),_0x515f6a=_0x77cc0f['findIndex'](_0xb102fa=>_0xb102fa[_0x477afe(0x50c)][_0x477afe(0x79e)]()[_0x477afe(0x2b7)]()===_0x3cbe63[_0x477afe(0x756)][_0x477afe(0x79e)]()[_0x477afe(0x2b7)]());if(_0x515f6a!==-0x1){const _0x5a309b=_0x620c4b[_0x477afe(0x62c)]('input[type=\x22radio\x22][value=\x22'+_0x515f6a+'\x22]');_0x5a309b&&(_0x5a309b['checked']=!![],_0x94f3f(_0x5a309b['closest'](_0x477afe(0x698))));}}else{if(_0x2d0493==='short_answer'||_0x2d0493==='matching_item'){const _0x376ecd=_0x620c4b['querySelector']('.ideal-answer-input,\x20.correct-response-input');_0x376ecd&&(_0x376ecd['value']=_0x3cbe63[_0x477afe(0x756)],_0x94f3f(_0x376ecd));}else{if(_0x2d0493===_0x477afe(0x6d1)){const _0x1fb741=_0x3cbe63['suggestedAnswer']['trim']()[_0x477afe(0x2b7)](),_0x2417b2=_0x620c4b['querySelector']('input[type=\x22radio\x22][value=\x22'+_0x1fb741+'\x22]');_0x2417b2&&(_0x2417b2[_0x477afe(0x9b1)]=!![],_0x94f3f(_0x2417b2[_0x477afe(0x35a)](_0x477afe(0x698))));}}}}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0x41d204=_0x27804f;if(!currentQuizData||!currentQuizData[_0x41d204(0x474)]){showMessage(_0x41d204(0xd0));return;}const _0x52c1ab=document['getElementById'](_0x41d204(0x82d));_0x52c1ab[_0x41d204(0x190)]=!![],_0x52c1ab[_0x41d204(0x3e2)]=_0x41d204(0x435);try{const _0x137a8c=currentQuizData['questions'][_0x41d204(0x6d7)]((_0x4aa742,_0xcbb32)=>{const _0x4bfc72=_0x41d204;let _0x23ff95='';const _0x53d469=_0x4aa742[_0x4bfc72(0x891)]||currentQuizData[_0x4bfc72(0x907)];switch(_0x53d469){case _0x4bfc72(0x1c6):_0x23ff95=_0x4aa742[_0x4bfc72(0x86b)][_0x4aa742[_0x4bfc72(0x150)]];break;case _0x4bfc72(0x511):_0x23ff95=_0x4aa742[_0x4bfc72(0x8a2)];break;case'true_false':_0x23ff95=_0x4aa742['correctAnswer'][_0x4bfc72(0x791)]();break;case'matching_item':_0x23ff95=_0x4aa742[_0x4bfc72(0x8e5)];break;}return{'question':_0x4aa742['stem']||_0x4aa742[_0x4bfc72(0x872)],'options':_0x4aa742[_0x4bfc72(0x86b)]||null,'proposedAnswer':_0x23ff95};}),_0x5507f0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x41d204(0x65f)](_0x137a8c)+_0x41d204(0x2d8),_0x1e6a91={'type':_0x41d204(0x9a6),'items':{'type':_0x41d204(0x440),'properties':{'questionIndex':{'type':_0x41d204(0x451)},'isCorrect':{'type':_0x41d204(0x919)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x41d204(0x1fb)}},'required':[_0x41d204(0x5db),_0x41d204(0x91a),_0x41d204(0x191)]}},_0x14c639=await callAnalysisApi(_0x5507f0,{'type':_0x41d204(0x440),'properties':{'result':_0x1e6a91},'required':[_0x41d204(0x6df)]});displayVerificationResults(_0x14c639[_0x41d204(0x6df)]);}catch(_0x33263b){console[_0x41d204(0x84a)](_0x41d204(0x9b8),_0x33263b),showMessage(_0x41d204(0x272));}finally{_0x52c1ab[_0x41d204(0x190)]=![],_0x52c1ab['innerHTML']=_0x41d204(0x576);}}function displayVerificationResults(_0x464a02){const _0x14eae4=_0x27804f;_0x464a02[_0x14eae4(0x7b1)](_0x1bfd00=>{const _0x106751=_0x14eae4,_0x2143c3=document[_0x106751(0x62c)](_0x106751(0x416)+_0x1bfd00[_0x106751(0x5db)]+'\x22]');if(_0x2143c3){const _0x1753f3=_0x2143c3[_0x106751(0x62c)]('.verification-result');if(_0x1753f3)_0x1753f3[_0x106751(0x3dd)]();let _0x585736='';_0x1bfd00[_0x106751(0x91a)]?_0x585736=_0x106751(0x254):_0x585736=_0x106751(0x8e8)+_0x1bfd00[_0x106751(0x191)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1bfd00[_0x106751(0x756)]?_0x106751(0x99c)+_0x1bfd00[_0x106751(0x756)]+_0x106751(0x37d):'')+_0x106751(0x3f1),_0x2143c3[_0x106751(0x1d6)]('beforeend',_0x585736);}}),showMessage(_0x14eae4(0x1d0));}function compareNumericalAnswers(_0x5d52a6,_0x32fadd){const _0x12791f=_0x27804f,_0x4f5b10=String(_0x5d52a6)[_0x12791f(0x27f)](',','.')[_0x12791f(0x27f)](/[^\d.-]/g,'')[_0x12791f(0x79e)](),_0x2962bd=String(_0x32fadd)[_0x12791f(0x27f)](',','.')['replace'](/[^\d.-]/g,'')[_0x12791f(0x79e)]();if(_0x4f5b10===''||_0x2962bd==='')return![];const _0x4a8f1=parseFloat(_0x4f5b10),_0x4d3501=parseFloat(_0x2962bd);if(isNaN(_0x4a8f1)||isNaN(_0x4d3501))return![];return Math[_0x12791f(0x90a)](_0x4a8f1-_0x4d3501)<0.001;}function isPotentiallyNumeric(_0x2d5935){const _0x571ce7=_0x27804f;if(typeof _0x2d5935!==_0x571ce7(0x179)&&typeof _0x2d5935!==_0x571ce7(0x126))return![];const _0xc1f39=String(_0x2d5935)['replace'](',','.')[_0x571ce7(0x79e)]();return _0xc1f39!==''&&!isNaN(parseFloat(_0xc1f39))&&isFinite(_0xc1f39);}async function gradeShortAnswer(_0x2c36cd,_0x1d3188){const _0x599196=_0x27804f,_0x49ed8c=_0x1d3188[_0x599196(0x8a2)],_0x3d2b6d=String(_0x2c36cd)[_0x599196(0x27f)](/\$/g,'')[_0x599196(0x79e)](),_0x48c39a=String(_0x49ed8c)[_0x599196(0x27f)](/\$/g,'')['trim']();if(_0x3d2b6d[_0x599196(0x2b7)]()===_0x48c39a['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x3d2b6d)&&isPotentiallyNumeric(_0x48c39a)){if(compareNumericalAnswers(_0x3d2b6d,_0x48c39a))return!![];}return console[_0x599196(0x909)](_0x599196(0x6b3)),await gradeShortAnswerWithAI(_0x2c36cd,_0x49ed8c);}function _0x2015(_0x5a2a69,_0x3ffa9e){const _0x4d745d=_0x4d74();return _0x2015=function(_0x2015e0,_0x2a23f1){_0x2015e0=_0x2015e0-0xae;let _0x123626=_0x4d745d[_0x2015e0];return _0x123626;},_0x2015(_0x5a2a69,_0x3ffa9e);}async function revealAnswerForAdmin(_0x1c368e,_0x5d4066){const _0xda6915=_0x27804f,_0x1ae018=doc(db,'artifacts/'+appId+_0xda6915(0x797),currentLiveGameId);await updateDoc(_0x1ae018,{'questionStatus':_0xda6915(0x76e)});}function showTop5LeaderboardView(_0x393c48){const _0x4126fe=_0x27804f,_0x405a2e=Object[_0x4126fe(0x8f5)](_0x393c48['players']||{})[_0x4126fe(0x3bf)](_0x48bebd=>_0x48bebd['status']===_0x4126fe(0x4cd));_0x405a2e[_0x4126fe(0x1e4)]((_0x3ad858,_0x3f8bfd)=>_0x3f8bfd[_0x4126fe(0x49c)]-_0x3ad858[_0x4126fe(0x49c)]);const _0x2febb4=_0x405a2e[_0x4126fe(0xf9)](0x0,0x5),_0x5bc9ba=_0x4126fe(0x321)+_0x2febb4[_0x4126fe(0x6d7)]((_0x1cb381,_0x2ef796)=>_0x4126fe(0x5fa)+(_0x2ef796+0x1)+'.\x20'+(_0x1cb381[_0x4126fe(0x96f)]||Object[_0x4126fe(0x1a2)](_0x393c48['players'])[_0x4126fe(0x894)](_0x1d96ac=>_0x393c48[_0x4126fe(0xbe)][_0x1d96ac]===_0x1cb381))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0x1cb381['score']+_0x4126fe(0x3ae))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x393c48['currentQuestionIndex']+0x1===currentQuizData[_0x4126fe(0x474)][_0x4126fe(0x2c9)]?_0x4126fe(0x8a5):_0x4126fe(0x54a))+_0x4126fe(0x711);liveGameView[_0x4126fe(0x3e2)]=_0x5bc9ba,document['getElementById'](_0x4126fe(0x202))[_0x4126fe(0x2ea)](_0x4126fe(0x189),async()=>{const _0x49d936=_0x4126fe,_0xa4aed1=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x321d01=_0x393c48[_0x49d936(0x814)]+0x1;if(_0x321d01<currentQuizData[_0x49d936(0x474)]['length']){const _0x491df8={'currentQuestionIndex':_0x321d01,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x49d936(0x689)};Object[_0x49d936(0x1a2)](_0x393c48['players'])[_0x49d936(0x7b1)](_0x50d8c8=>{const _0x1c88b9=_0x49d936;_0x491df8[_0x1c88b9(0x6d5)+_0x50d8c8+_0x1c88b9(0x933)]=![];}),await updateDoc(_0xa4aed1,_0x491df8);}else await updateDoc(_0xa4aed1,{'status':_0x49d936(0x2ab)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x5e89be=>{const _0xd4ef74=_0x2015;if(_0x5e89be){userId=_0x5e89be[_0xd4ef74(0x3fc)],userIdDisplay[_0xd4ef74(0x84f)]=userId;const _0x432ab7=await loadUserPreferences();_0x432ab7[_0xd4ef74(0x459)]&&(document[_0xd4ef74(0x5a3)](_0xd4ef74(0xd2))[_0xd4ef74(0x50c)]=_0x432ab7[_0xd4ef74(0x459)]);globalDashboardSettings[_0xd4ef74(0x493)]=_0x432ab7[_0xd4ef74(0x493)]||_0xd4ef74(0xdb);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x117b38,_0x672599){const _0x49546f=_0x27804f;if(!userId)return;try{const _0x258948=doc(db,_0x49546f(0x71a)+appId+_0x49546f(0x371)+userId+_0x49546f(0x7b6)),_0x379449={};_0x379449[_0x117b38]=_0x672599,await setDoc(_0x258948,_0x379449,{'merge':!![]});}catch(_0x522b91){console[_0x49546f(0x84a)]('Error\x20saving\x20user\x20preference:',_0x522b91);}}async function loadUserPreferences(){const _0x16ff86=_0x27804f;if(!userId)return{};try{const _0x2b2bdb=doc(db,_0x16ff86(0x71a)+appId+'/users/'+userId+_0x16ff86(0x7b6)),_0x1bce95=await getDoc(_0x2b2bdb);if(_0x1bce95[_0x16ff86(0x75f)]())return _0x1bce95[_0x16ff86(0x724)]();return{};}catch(_0x2a3679){return console['error'](_0x16ff86(0x4e6),_0x2a3679),{};}}function showPodiumView(_0x5d4f71,_0x38e82d=_0x27804f(0x47b)){const _0x391095=_0x27804f,_0x213a4d=Object['entries'](_0x5d4f71)[_0x391095(0x6d7)](([_0xc4e9c3,_0x4047d4])=>({'name':_0xc4e9c3,'score':_0x4047d4[_0x391095(0x49c)]||0x0,'badges':_0x4047d4[_0x391095(0x67e)]||[],'hasPerfectScoreBonus':_0x4047d4[_0x391095(0x426)]||![]}));_0x213a4d[_0x391095(0x1e4)]((_0x599cec,_0xb1e6da)=>{const _0x49f6ff=_0x391095,_0x45258c=_0xb1e6da['score']-_0x599cec[_0x49f6ff(0x49c)];if(_0x45258c!==0x0)return _0x45258c;return(_0xb1e6da[_0x49f6ff(0x67e)][_0x49f6ff(0x2c9)]||0x0)-(_0x599cec[_0x49f6ff(0x67e)][_0x49f6ff(0x2c9)]||0x0);});const _0x494a8f=_0x4f383e=>{const _0x249342=_0x391095;if(!_0x4f383e||_0x4f383e['length']===0x0)return'';const _0x53562d={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x249342(0x883)+_0x4f383e[_0x249342(0x6d7)](_0x5d781f=>_0x53562d[_0x5d781f]||'')[_0x249342(0x1cb)]('')+'</div>';},_0x268a9f=_0x213a4d[_0x391095(0xf9)](0x3),_0x28937b=_0x268a9f['length']>0x0?_0x391095(0x855)+_0x268a9f['map']((_0x4ff7b0,_0x4e58a1)=>{const _0x5ecc8b=_0x391095,_0x187613=_0x4ff7b0[_0x5ecc8b(0x426)]?_0x5ecc8b(0x1a6):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x4e58a1+0x4)+_0x5ecc8b(0x4b5)+_0x4ff7b0['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x4ff7b0['score']+'\x20คะแนน\x20'+_0x187613+_0x5ecc8b(0x937);})[_0x391095(0x1cb)]('')+_0x391095(0x8cc):'',_0x1aadf7=_0x391095(0x962)+(_0x213a4d[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x213a4d[0x1]['name']+_0x391095(0x37d)+_0x494a8f(_0x213a4d[0x1][_0x391095(0x67e)])+'<p\x20class=\x22text-xl\x22>'+_0x213a4d[0x1][_0x391095(0x49c)]+_0x391095(0x9a8)+(_0x213a4d[0x1][_0x391095(0x426)]?_0x391095(0x2a2):'')+_0x391095(0x8b3):_0x391095(0x3bb))+_0x391095(0x29c)+(_0x213a4d[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x213a4d[0x0]['name']+'</p>'+_0x494a8f(_0x213a4d[0x0][_0x391095(0x67e)])+'<p\x20class=\x22text-2xl\x22>'+_0x213a4d[0x0][_0x391095(0x49c)]+'\x20คะแนน\x20'+(_0x213a4d[0x0][_0x391095(0x426)]?_0x391095(0x2a2):'')+'</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':_0x391095(0x3bb))+_0x391095(0x29c)+(_0x213a4d[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x213a4d[0x2][_0x391095(0x96f)]+_0x391095(0x37d)+_0x494a8f(_0x213a4d[0x2][_0x391095(0x67e)])+_0x391095(0x495)+_0x213a4d[0x2]['score']+_0x391095(0x9a8)+(_0x213a4d[0x2][_0x391095(0x426)]?_0x391095(0x2a2):'')+_0x391095(0x2c5):'<div\x20class=\x22flex-1\x22></div>')+_0x391095(0x8ed)+_0x28937b+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin'?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':_0x391095(0x97c))+_0x391095(0x88f);liveGameView[_0x391095(0x3e2)]=_0x1aadf7,currentMode===_0x391095(0x43a)&&document[_0x391095(0x5a3)](_0x391095(0x101))[_0x391095(0x2ea)]('click',async()=>{const _0x2d8206=_0x391095;let _0x514e06;_0x38e82d===_0x2d8206(0x3a2)?_0x514e06=doc(db,_0x2d8206(0x71a)+appId+_0x2d8206(0x108),currentLiveGameId):_0x514e06=doc(db,_0x2d8206(0x71a)+appId+_0x2d8206(0x797),currentLiveGameId),await deleteDoc(_0x514e06);});}function renderSyncSummaryView(_0x537770,_0x4526cc,_0x3ccadc){const _0x1ac67b=_0x27804f,_0x2a92ba=Object[_0x1ac67b(0x8f5)](_0x537770[_0x1ac67b(0xbe)]||{}),_0x44d0de=_0x4526cc['questionType']||_0x537770[_0x1ac67b(0x896)][_0x1ac67b(0x907)];let _0x3dd3b=[];_0x44d0de==='true_false'?_0x3dd3b=[_0x1ac67b(0x6da),_0x1ac67b(0x1be)]:_0x3dd3b=_0x4526cc['options']||[];const _0x549608=new Array(_0x3dd3b[_0x1ac67b(0x2c9)])[_0x1ac67b(0x7fb)](0x0),_0x23a3cd={};_0x3dd3b[_0x1ac67b(0x7b1)]((_0x4e786a,_0x255200)=>{_0x23a3cd[_0x255200]=[];}),Object['entries'](_0x537770['players']||{})[_0x1ac67b(0x7b1)](([_0xfff3b,_0x5082ad])=>{const _0x240b2c=_0x1ac67b;if(_0x5082ad[_0x240b2c(0x95a)]!==_0x240b2c(0x77c)&&_0x5082ad[_0x240b2c(0x9d2)]!==undefined&&_0x5082ad['lastAnswerIndex']!==null){const _0x4ad1ae=_0x5082ad[_0x240b2c(0x9d2)];_0x23a3cd[_0x4ad1ae]!==undefined&&(_0x23a3cd[_0x4ad1ae]['push'](_0xfff3b),_0x549608[_0x4ad1ae]++);}});let _0x497f07='';_0x3ccadc?_0x497f07=_0x1ac67b(0x4ab):_0x497f07=_0x1ac67b(0x9f5);const _0x13081b=_0x1ac67b(0x1af)+_0x4526cc['questionText']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x549608[_0x1ac67b(0x6d7)]((_0x2bc8e0,_0x108aec)=>{const _0x42605f=_0x1ac67b,_0xae2705=_0x23a3cd[_0x108aec][_0x42605f(0x2c9)]>0x0?_0x23a3cd[_0x108aec][_0x42605f(0x1cb)](',\x20'):_0x42605f(0x835),_0x347a1e='#6366F1';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x2bc8e0+_0x42605f(0xe2)+_0x347a1e+_0x42605f(0x876)+_0x108aec+_0x42605f(0x9ff)+_0x3dd3b[_0x108aec]+_0x42605f(0xe1)+_0x108aec+_0x42605f(0x983)+_0xae2705+_0x42605f(0x7f8);})[_0x1ac67b(0x1cb)]('')+_0x1ac67b(0x7cc)+_0x497f07+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x13081b;if(window[_0x1ac67b(0x403)])MathJax['typesetPromise']();_0x3ccadc&&(document['getElementById'](_0x1ac67b(0x9f7))[_0x1ac67b(0x2ea)](_0x1ac67b(0x189),async()=>{const _0x4cf58b=_0x1ac67b,_0x45b5ee=doc(db,_0x4cf58b(0x71a)+appId+_0x4cf58b(0x108),currentLiveGameId);await updateDoc(_0x45b5ee,{'status':_0x4cf58b(0x4c3)});}),document['getElementById']('open-sync-scratchpad-btn')[_0x1ac67b(0x2e6)]=()=>{openScratchpad(_0x4526cc,_0x3dd3b);});}async function handleShowStudentRankings(){const _0x338504=_0x27804f,_0x2b988b=document[_0x338504(0x62c)](_0x338504(0x671));_0x2b988b&&(_0x2b988b[_0x338504(0x3e2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x93b918=document[_0x338504(0x62c)]('#student-project-leaderboard-content\x20thead');_0x93b918&&(_0x93b918[_0x338504(0x3e2)]=_0x338504(0x1e1));const _0x26b737=document[_0x338504(0x5a3)](_0x338504(0x725));_0x26b737[_0x338504(0x24d)][_0x338504(0x3dd)]('hidden'),document['getElementById']('close-student-rankings-btn')[_0x338504(0x2e6)]=()=>_0x26b737['classList'][_0x338504(0x162)](_0x338504(0x825));const _0x3dc195=document[_0x338504(0x5a3)](_0x338504(0x848)),_0x228dd9=document[_0x338504(0x5a3)](_0x338504(0x935)),_0xe18a4f=document[_0x338504(0x5a3)](_0x338504(0x4ad)),_0x2ac580=document[_0x338504(0x5a3)](_0x338504(0x1f5));_0x3dc195[_0x338504(0x2e6)]=()=>{const _0x431bdb=_0x338504;_0x3dc195[_0x431bdb(0x24d)]['add']('active'),_0x228dd9['classList'][_0x431bdb(0x3dd)]('active'),_0xe18a4f[_0x431bdb(0x24d)]['remove']('hidden'),_0x2ac580['classList']['add'](_0x431bdb(0x825));},_0x228dd9[_0x338504(0x2e6)]=()=>{const _0x47ebe1=_0x338504;_0x228dd9[_0x47ebe1(0x24d)][_0x47ebe1(0x162)](_0x47ebe1(0x4cd)),_0x3dc195[_0x47ebe1(0x24d)][_0x47ebe1(0x3dd)](_0x47ebe1(0x4cd)),_0x2ac580[_0x47ebe1(0x24d)][_0x47ebe1(0x3dd)](_0x47ebe1(0x825)),_0xe18a4f[_0x47ebe1(0x24d)][_0x47ebe1(0x162)]('hidden');};try{const _0x594783=collection(db,_0x338504(0x71a)+appId+_0x338504(0x9b2)+currentQuizData['id']+'/submissions'),_0x343877=await getDocs(_0x594783),_0x9e707a=_0x343877[_0x338504(0x16e)]['map'](_0x5d559e=>_0x5d559e['data']());renderQuizLeaderboard(_0x9e707a,currentQuizData,_0x338504(0x6b7));const _0x553086=collection(db,_0x338504(0x71a)+appId+'/public/data/projects/'+currentQuizData['projectId']+_0x338504(0x180)),_0x202db0=await getDocs(_0x553086),_0x3a6501=_0x202db0['docs'][_0x338504(0x6d7)](_0x147cc1=>_0x147cc1[_0x338504(0x724)]());renderLeaderboard(_0x3a6501,_0x338504(0x726));}catch(_0x5a381f){console['error']('Error\x20fetching\x20student\x20rankings:',_0x5a381f),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x580e0e){const _0x7d6d8d=_0x27804f,_0x3c831a=_0x580e0e[_0x7d6d8d(0x1e2)],_0x3a514d=_0x3c831a[_0x7d6d8d(0x4b7)][_0x7d6d8d(0x6c9)],_0x2c22f8=currentQuizData[_0x7d6d8d(0x474)][_0x3a514d];if(!userId){showMessage(_0x7d6d8d(0x4cc));return;}try{const _0xe1851e={..._0x2c22f8,'originalTopic':currentQuizData[_0x7d6d8d(0x2a9)],'savedAt':serverTimestamp()},_0x1c61cb=collection(db,_0x7d6d8d(0x71a)+appId+_0x7d6d8d(0x371)+userId+_0x7d6d8d(0x38f));await addDoc(_0x1c61cb,_0xe1851e),showMessage(_0x7d6d8d(0x81f)),_0x3c831a['classList'][_0x7d6d8d(0x3dd)]('text-purple-600'),_0x3c831a[_0x7d6d8d(0x24d)][_0x7d6d8d(0x162)](_0x7d6d8d(0x888)),_0x3c831a[_0x7d6d8d(0x190)]=!![];}catch(_0x547ce7){console[_0x7d6d8d(0x84a)](_0x7d6d8d(0x49e),_0x547ce7),showMessage(_0x7d6d8d(0x7fd));}}function listenForStarredQuizzes(){const _0x1f2912=_0x27804f;if(!userId)return;const _0x3a7151=collection(db,_0x1f2912(0x71a)+appId+'/public/data/quizzes'),_0x4cb404=query(_0x3a7151,where('isStarred','==',!![]));onSnapshot(_0x4cb404,_0x5df478=>{const _0x2843d1=_0x1f2912;starredQuizzes=_0x5df478[_0x2843d1(0x16e)]['map'](_0x176620=>({'id':_0x176620['id'],..._0x176620[_0x2843d1(0x724)]()})),currentProjectId===_0x2843d1(0x812)?renderQuizzes():renderProjects();},_0x1f6c36=>{console['error']('Error\x20listening\x20for\x20starred\x20quizzes:',_0x1f6c36);});}function exportQuizAsWorksheetPDF(){const _0x1e66e7=_0x27804f;if(!currentQuizData||!currentQuizData[_0x1e66e7(0x474)]){showMessage(_0x1e66e7(0x38e));return;}const _0x3ed1d7=currentQuizData,_0x23846b=window['open']('',_0x1e66e7(0x712)),_0x2d7ced=_0xcbde86=>String[_0x1e66e7(0x58b)](0x41+_0xcbde86),_0xe3ecac=_0x1e66e7(0x18d)+_0x3ed1d7[_0x1e66e7(0x2a9)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x3ed1d7[_0x1e66e7(0x2a9)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ed1d7[_0x1e66e7(0x474)][_0x1e66e7(0x6d7)]((_0x47edcb,_0x196000)=>{const _0x25d857=_0x1e66e7;let _0xb609fd='';const _0x3af84b=_0x47edcb[_0x25d857(0x891)]||_0x3ed1d7['quizType'];switch(_0x3af84b){case _0x25d857(0x1c6):case'fill_in_with_choices':_0xb609fd=_0x25d857(0x6e3)+_0x47edcb[_0x25d857(0x86b)][_0x25d857(0x6d7)]((_0x55c00f,_0x5db2dd)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2d7ced(_0x5db2dd)+'.\x20'+_0x55c00f+_0x25d857(0x2a6))[_0x25d857(0x1cb)](_0x25d857(0x96c))+_0x25d857(0x8c4);break;case'true_false':_0xb609fd='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0xb609fd=_0x25d857(0x686);break;}return _0x25d857(0x13f)+(_0x196000+0x1)+_0x25d857(0x19e)+(_0x47edcb[_0x25d857(0x956)]||_0x47edcb['questionText'])+_0x25d857(0x890)+(_0x47edcb[_0x25d857(0xd9)]?_0x25d857(0x153)+_0x47edcb[_0x25d857(0xd9)]+_0x25d857(0x8c4):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb609fd+_0x25d857(0x560);})[_0x1e66e7(0x1cb)]('')+_0x1e66e7(0x53f);_0x23846b[_0x1e66e7(0x5fb)][_0x1e66e7(0x4df)](_0xe3ecac),_0x23846b[_0x1e66e7(0x5fb)][_0x1e66e7(0x6c8)](),_0x23846b[_0x1e66e7(0x7a1)]=function(){setTimeout(()=>{const _0x51d17c=_0x2015;_0x23846b[_0x51d17c(0x852)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x1e8274=_0x27804f;if(!currentQuizData||!currentQuizData[_0x1e8274(0x474)]){showMessage(_0x1e8274(0x38e));return;}const _0x36b978=currentQuizData,_0x4b8a27=window[_0x1e8274(0x48b)]('',_0x1e8274(0x712)),_0x277869=_0x299f07=>String[_0x1e8274(0x58b)](0x41+_0x299f07),_0x3bb1d6=_0x1e8274(0x293)+_0x36b978[_0x1e8274(0x2a9)]+_0x1e8274(0x25b)+_0x36b978[_0x1e8274(0x474)][_0x1e8274(0x6d7)]((_0x71cdfc,_0x26e9a6)=>{const _0x4a146a=_0x1e8274;let _0x56b637='';const _0x1a1ebc=_0x71cdfc[_0x4a146a(0x891)]||_0x36b978[_0x4a146a(0x907)];switch(_0x1a1ebc){case _0x4a146a(0x1c6):case _0x4a146a(0x5c7):_0x56b637='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x71cdfc[_0x4a146a(0x86b)][_0x4a146a(0x6d7)]((_0x3786b5,_0x1ea94a)=>_0x4a146a(0x378)+_0x277869(_0x1ea94a)+'.\x20'+_0x3786b5+_0x4a146a(0x52d))[_0x4a146a(0x1cb)](_0x4a146a(0x96c))+_0x4a146a(0x1f0);break;case'true_false':_0x56b637=_0x4a146a(0x337);break;default:_0x56b637='';break;}return _0x4a146a(0x1fc)+_0x36b978[_0x4a146a(0x2a9)]+_0x4a146a(0x24b)+(_0x26e9a6+0x1)+_0x4a146a(0x62b)+(_0x71cdfc[_0x4a146a(0x956)]||_0x71cdfc[_0x4a146a(0x872)])+_0x4a146a(0x890)+(_0x71cdfc[_0x4a146a(0xd9)]?_0x4a146a(0x9da)+_0x71cdfc['imageCode']+_0x4a146a(0x8c4):'')+_0x4a146a(0x8be)+_0x56b637+_0x4a146a(0x2a1);})['join']('')+_0x1e8274(0x7ea);_0x4b8a27[_0x1e8274(0x5fb)][_0x1e8274(0x4df)](_0x3bb1d6),_0x4b8a27[_0x1e8274(0x5fb)][_0x1e8274(0x6c8)](),_0x4b8a27[_0x1e8274(0x7a1)]=function(){setTimeout(()=>{const _0x2fde6c=_0x2015;_0x4b8a27[_0x2fde6c(0x852)]();},0x5dc);};}async function handleToggleStarQuiz(_0x1bf779){const _0x51b705=_0x27804f,_0x3ba4d3=doc(db,_0x51b705(0x71a)+appId+_0x51b705(0x91e),_0x1bf779);try{const _0x291c6d=await getDoc(_0x3ba4d3);if(_0x291c6d[_0x51b705(0x75f)]()){const _0x2af9de=_0x291c6d[_0x51b705(0x724)]()['isStarred']||![];await updateDoc(_0x3ba4d3,{'isStarred':!_0x2af9de});}}catch(_0x250475){console[_0x51b705(0x84a)]('Error\x20toggling\x20star\x20status:',_0x250475),showMessage(_0x51b705(0x7d5));}}async function displayQuestionBank(){const _0x1a0539=_0x27804f,_0x8e5f36=document[_0x1a0539(0x5a3)](_0x1a0539(0x630));_0x8e5f36[_0x1a0539(0x3e2)]=_0x1a0539(0x517);try{const _0x1982cb=collection(db,_0x1a0539(0x71a)+appId+_0x1a0539(0x371)+userId+_0x1a0539(0x38f)),_0x200298=query(_0x1982cb),_0xdd16f0=await getDocs(_0x200298);if(_0xdd16f0[_0x1a0539(0x351)]){_0x8e5f36['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x5c18d4=_0xdd16f0[_0x1a0539(0x16e)][_0x1a0539(0x6d7)](_0x368f04=>{const _0x1a775e=_0x1a0539,_0x481796=_0x368f04[_0x1a775e(0x724)](),_0x549fc2=_0x368f04['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x1a775e(0x65f)](_0x481796)+_0x1a775e(0x4cb)+(_0x481796['questionText']||_0x481796[_0x1a775e(0x956)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x481796[_0x1a775e(0x34b)]+_0x1a775e(0x4fb);})['join']('');_0x8e5f36['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x5c18d4+_0x1a0539(0x9e2),document[_0x1a0539(0x5a3)](_0x1a0539(0x91b))[_0x1a0539(0x2ea)](_0x1a0539(0x189),createQuizFromBank);}catch(_0x3485c4){console['error'](_0x1a0539(0x259),_0x3485c4),_0x8e5f36[_0x1a0539(0x3e2)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}function showAdminLiveQuestionView(_0x153ba6,_0x5435bf,_0x19264a){const _0xf8c529=_0x27804f,_0x11957c=_0x153ba6['questionType']||currentQuizData['quizType'];let _0x58939b='';if(_0x11957c===_0xf8c529(0x1c6)||_0x11957c===_0xf8c529(0x6d1)){const _0x5627c5=_0x11957c==='true_false'?['ใช่',_0xf8c529(0x66f)]:_0x153ba6[_0xf8c529(0x86b)],_0xdc5bc3=_0x11957c==='true_false'?_0x153ba6['correctAnswer']?0x0:0x1:_0x153ba6['correctAnswerIndex'];_0x58939b=_0x5627c5['map']((_0x3db933,_0x16c019)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x16c019===_0xdc5bc3)+_0xf8c529(0x90d)+_0x3db933+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else{if(_0x11957c===_0xf8c529(0x3fd)){const _0x305ed6=_0x153ba6[_0xf8c529(0x2fa)]||[];_0x58939b=_0x305ed6[_0xf8c529(0x6d7)](_0x2f51ca=>_0xf8c529(0x688)+(_0x2f51ca===_0x153ba6[_0xf8c529(0x8e5)])+_0xf8c529(0x90d)+_0x2f51ca+_0xf8c529(0x4d9))[_0xf8c529(0x1cb)]('');}}const _0x109a49=_0x153ba6[_0xf8c529(0x956)]||_0x153ba6[_0xf8c529(0x872)],_0x59342a=_0xf8c529(0x19b)+(_0x5435bf+0x1)+_0xf8c529(0x4c2)+_0x19264a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+_0xf8c529(0x32c)+_0x109a49+_0xf8c529(0x4ce)+_0x58939b+_0xf8c529(0x9a2);liveGameView[_0xf8c529(0x3e2)]=_0x59342a,window['MathJax']&&MathJax[_0xf8c529(0x276)]&&MathJax[_0xf8c529(0x276)]([liveGameView]),document[_0xf8c529(0x5a3)](_0xf8c529(0x513))[_0xf8c529(0x2ea)](_0xf8c529(0x189),()=>revealAnswerForAdmin(_0x5435bf,_0x19264a)),document['getElementById'](_0xf8c529(0x590))['addEventListener'](_0xf8c529(0x189),async()=>{const _0x249322=_0xf8c529;showConfirmation(_0x249322(0x165),async()=>{const _0x376060=_0x249322,_0x51082e=doc(db,_0x376060(0x71a)+appId+_0x376060(0x797),currentLiveGameId);await updateDoc(_0x51082e,{'status':'podium'});});}),document['getElementById'](_0xf8c529(0x638))[_0xf8c529(0x2ea)]('click',()=>{const _0x6e3bf0=_0xf8c529;document[_0x6e3bf0(0x5a3)](_0x6e3bf0(0x54c))[_0x6e3bf0(0x24d)]['toggle'](_0x6e3bf0(0x825));});}function showStudentLiveQuestionView(_0x32a7ef,_0x980263,_0x48d1fe){const _0xdbac2c=_0x27804f,_0x24b54a=_0x32a7ef[_0xdbac2c(0x891)]||currentQuizData[_0xdbac2c(0x907)];let _0x47b498='';if(_0x24b54a===_0xdbac2c(0x1c6)||_0x24b54a===_0xdbac2c(0x6d1)){const _0x146874=_0x24b54a===_0xdbac2c(0x6d1)?[_0xdbac2c(0x87b),_0xdbac2c(0x66f)]:_0x32a7ef['options'];_0x47b498=_0x146874[_0xdbac2c(0x6d7)]((_0x53ffc3,_0x56c9ad)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x56c9ad+_0xdbac2c(0x796)+_0x53ffc3+_0xdbac2c(0x340))[_0xdbac2c(0x1cb)]('');}else{if(_0x24b54a===_0xdbac2c(0x3fd)){const _0x51c2c3=_0x32a7ef['allResponses']||[];_0x47b498=_0x51c2c3[_0xdbac2c(0x6d7)]((_0xfea848,_0x494c8d)=>_0xdbac2c(0x71e)+_0x494c8d+_0xdbac2c(0x796)+_0xfea848+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xdbac2c(0x1cb)]('');}else _0x24b54a===_0xdbac2c(0x511)&&(_0x47b498=_0xdbac2c(0x9ce));}const _0x9cee52=_0x32a7ef[_0xdbac2c(0x956)]||_0x32a7ef['questionText'],_0x3fdb2f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x980263+0x1)+_0xdbac2c(0x4c2)+_0x48d1fe+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x9cee52+_0xdbac2c(0x905)+_0x47b498+_0xdbac2c(0x94a);liveGameView[_0xdbac2c(0x3e2)]=_0x3fdb2f;window[_0xdbac2c(0x403)]&&MathJax[_0xdbac2c(0x276)]&&MathJax[_0xdbac2c(0x276)]([liveGameView]);const _0xfc6a12=document[_0xdbac2c(0x5a3)](_0xdbac2c(0x50d));_0xfc6a12&&_0xfc6a12[_0xdbac2c(0x2ea)](_0xdbac2c(0x189),()=>{const _0x2513ea=_0xdbac2c,_0x1584e3=document[_0x2513ea(0x5a3)](_0x2513ea(0x5ca))[_0x2513ea(0x50c)];handleLiveAnswer(_0x1584e3,_0x32a7ef);}),document[_0xdbac2c(0x5a3)](_0xdbac2c(0x184))[_0xdbac2c(0x2ea)]('click',_0x372a93=>{const _0x59c526=_0xdbac2c,_0x184f02=_0x372a93[_0x59c526(0x680)][_0x59c526(0x35a)](_0x59c526(0x99b));if(_0x184f02){const _0x341266=parseInt(_0x184f02[_0x59c526(0x4b7)]['index']);handleLiveAnswer(_0x341266,_0x32a7ef);}});}async function handleLiveAnswer(_0x327be4,_0x1368ca){const _0x428117=_0x27804f;document['querySelectorAll'](_0x428117(0x802))['forEach'](_0x8dd35=>_0x8dd35[_0x428117(0x190)]=!![]);const _0x260ed1=_0x1368ca[_0x428117(0x891)]||currentQuizData[_0x428117(0x907)];let _0xce78cd=![],_0xb0baf2=_0x327be4;if(_0x260ed1===_0x428117(0x511)){const _0x3a74dc=(_0x327be4||'')[_0x428117(0x791)]();_0xce78cd=await gradeShortAnswer(_0x3a74dc,_0x1368ca);}else{if(_0x260ed1==='multiple_choice')_0xce78cd=_0x327be4===_0x1368ca[_0x428117(0x150)];else{if(_0x260ed1===_0x428117(0x6d1)){const _0x2469b0=_0x1368ca[_0x428117(0x1e0)];_0xce78cd=_0x327be4===0x0&&_0x2469b0||_0x327be4===0x1&&!_0x2469b0;}else{if(_0x260ed1==='matching_item'){const _0x47d018=_0x1368ca[_0x428117(0x2fa)][_0x327be4];_0xce78cd=_0x47d018===_0x1368ca[_0x428117(0x8e5)],_0xb0baf2=_0x47d018;}}}}const _0x5e2b95=doc(db,'artifacts/'+appId+_0x428117(0x797),currentLiveGameId),_0x31a2ba={};_0x31a2ba[_0x428117(0x6d5)+currentStudentName+_0x428117(0x933)]=!![],_0x31a2ba[_0x428117(0x6d5)+currentStudentName+_0x428117(0x5d9)]=_0xce78cd,_0x31a2ba[_0x428117(0x6d5)+currentStudentName+'.lastAnswerIndex']=_0x260ed1==='short_answer'||_0x260ed1==='matching_item'?null:_0x327be4,_0x31a2ba[_0x428117(0x6d5)+currentStudentName+'.lastAnswerValue']=_0xb0baf2,_0x31a2ba['players.'+currentStudentName+_0x428117(0x21c)]=serverTimestamp(),_0x31a2ba['players.'+currentStudentName+'.isScored']=![],await updateDoc(_0x5e2b95,_0x31a2ba),liveGameView[_0x428117(0x3e2)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x1ee886,_0x5d4e1d){const _0xb0a0d=_0x27804f,_0x5879ab=Object[_0xb0a0d(0x8f5)](_0x1ee886['players']||{}),_0x50868f=_0x5d4e1d[_0xb0a0d(0x891)]||currentQuizData[_0xb0a0d(0x907)],_0x57e958=_0x50868f===_0xb0a0d(0x6d1)?[_0xb0a0d(0x87b),_0xb0a0d(0x66f)]:_0x5d4e1d[_0xb0a0d(0x86b)]||_0x5d4e1d['allResponses']||[],_0x386a2a={},_0x1f1ede=new Array(_0x57e958[_0xb0a0d(0x2c9)])['fill'](0x0);_0x57e958[_0xb0a0d(0x7b1)]((_0x355a8f,_0x1f8461)=>{_0x386a2a[_0x1f8461]=[];}),Object['entries'](_0x1ee886['players']||{})[_0xb0a0d(0x7b1)](([_0x4fa3bd,_0x39ab05])=>{const _0x339040=_0xb0a0d;if(_0x39ab05['status']===_0x339040(0x4cd)&&_0x39ab05[_0x339040(0x9d2)]!==undefined){const _0x9fc3ee=_0x39ab05[_0x339040(0x9d2)];_0x386a2a[_0x9fc3ee]&&(_0x386a2a[_0x9fc3ee][_0x339040(0x523)](_0x4fa3bd),_0x1f1ede[_0x9fc3ee]++);}});const _0x5f5660=Math[_0xb0a0d(0xb5)](..._0x1f1ede,0x1),_0x10c8b9=_0xb0a0d(0x122)+(_0x5d4e1d[_0xb0a0d(0x956)]||_0x5d4e1d[_0xb0a0d(0x872)])+_0xb0a0d(0x209)+_0x1f1ede[_0xb0a0d(0x6d7)]((_0x300fee,_0x1cbd36)=>{const _0x50dcf0=_0xb0a0d,_0x16e723=_0x386a2a[_0x1cbd36]['length']>0x0?_0x386a2a[_0x1cbd36][_0x50dcf0(0x1cb)](',\x20'):_0x50dcf0(0x835);let _0x4ed29a=![];if(_0x50868f===_0x50dcf0(0x1c6))_0x4ed29a=_0x1cbd36===_0x5d4e1d[_0x50dcf0(0x150)];else{if(_0x50868f==='true_false'){const _0x854f7e=_0x5d4e1d[_0x50dcf0(0x1e0)];_0x4ed29a=_0x854f7e&&_0x1cbd36===0x0||!_0x854f7e&&_0x1cbd36===0x1;}else _0x50868f===_0x50dcf0(0x3fd)&&(_0x4ed29a=_0x57e958[_0x1cbd36]===_0x5d4e1d['correctResponse']);}const _0x27f231=_0x4ed29a?_0x50dcf0(0x300):_0x50dcf0(0x8f9);return _0x50dcf0(0x611)+_0x300fee+_0x50dcf0(0x430)+_0x27f231+_0x50dcf0(0x876)+_0x1cbd36+_0x50dcf0(0x4ef)+_0x57e958[_0x1cbd36]+_0x50dcf0(0xe1)+_0x1cbd36+_0x50dcf0(0x983)+_0x16e723+_0x50dcf0(0x7f8);})[_0xb0a0d(0x1cb)]('')+_0xb0a0d(0xb2);liveGameView[_0xb0a0d(0x3e2)]=_0x10c8b9;if(window[_0xb0a0d(0x403)])MathJax[_0xb0a0d(0x276)]();document[_0xb0a0d(0x5a3)](_0xb0a0d(0x789))[_0xb0a0d(0x2ea)](_0xb0a0d(0x189),async()=>{const _0x576aaf=_0xb0a0d,_0x4f6537=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x4f6537,{'questionStatus':_0x576aaf(0x450)});}),document[_0xb0a0d(0x5a3)]('open-scratchpad-btn')[_0xb0a0d(0x2ea)](_0xb0a0d(0x189),()=>{openScratchpad(_0x5d4e1d,_0x57e958);});}function showPlayerSummaryView(_0x58d4f2,_0x586589){const _0xe78431=_0x27804f,_0xa636d1=Object[_0xe78431(0x8f5)](_0x58d4f2[_0xe78431(0xbe)]||{}),_0x47a836=_0x58d4f2['players'][_0x586589],_0x2c0d99=_0xa636d1[_0xe78431(0x3bf)](_0x139e0f=>_0x139e0f[_0xe78431(0x95a)]===_0xe78431(0x4cd))[_0xe78431(0x1e4)]((_0x76e842,_0x2cac6c)=>_0x2cac6c[_0xe78431(0x49c)]-_0x76e842[_0xe78431(0x49c)]),_0x393cac=_0x2c0d99[_0xe78431(0x1bf)](_0x4b127c=>_0x4b127c===_0x47a836)+0x1,_0x3c9df0=_0x47a836[_0xe78431(0x113)]?_0xe78431(0x4fc):'ผิด',_0x3108f9=_0x47a836[_0xe78431(0x113)]?'bg-green-500':_0xe78431(0x306),_0x99d89d=_0x47a836[_0xe78431(0x862)]||0x0,_0x19540f='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x44891f=_0xe78431(0x3b3)+_0x19540f+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x3108f9+_0xe78431(0x873)+_0x3c9df0+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x99d89d+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x393cac>0x0?_0x393cac:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0xe78431(0x3e2)]=_0x44891f;}function createQuizFromBank(){const _0x516ff1=_0x27804f,_0x5d0643=document[_0x516ff1(0x7c7)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x5d0643[_0x516ff1(0x2c9)]===0x0){showMessage(_0x516ff1(0xa03));return;}const _0x15cde=[];_0x5d0643[_0x516ff1(0x7b1)](_0x43f177=>{const _0x11a36c=_0x516ff1;_0x15cde[_0x11a36c(0x523)](JSON[_0x11a36c(0x298)](_0x43f177['value']));});const _0x7154f2={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x15cde};displayGeneratedQuiz(_0x7154f2);}function showAdminLobbyView(_0x1f8a8c,_0xbb4b9e){const _0x3dd702=_0x27804f;showView(_0x3dd702(0x4f1));const _0x4b66a6=_0x3dd702(0x9ad)+_0xbb4b9e+_0x3dd702(0x2b9)+_0x1f8a8c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3dd702(0x3e2)]=_0x4b66a6,document[_0x3dd702(0x5a3)](_0x3dd702(0x443))[_0x3dd702(0x2ea)](_0x3dd702(0x189),async()=>{const _0x2ffca5=_0x3dd702;if(!currentQuizData||!currentQuizData[_0x2ffca5(0x474)]||currentQuizData[_0x2ffca5(0x474)][_0x2ffca5(0x2c9)]===0x0){showMessage(_0x2ffca5(0x2de));return;}try{const _0x17a233=doc(db,'artifacts/'+appId+_0x2ffca5(0x797),currentLiveGameId);await updateDoc(_0x17a233,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0xab35c5=currentQuizData[_0x2ffca5(0x474)][0x0],_0x1fe58b=currentQuizData[_0x2ffca5(0x474)]['length'];showAdminLiveQuestionView(_0xab35c5,0x0,_0x1fe58b);}catch(_0x300389){console[_0x2ffca5(0x84a)](_0x2ffca5(0x228),_0x300389),showMessage(_0x2ffca5(0x7ed));}});}async function openGlobalLiveModal(){const _0x1716a9=_0x27804f;if(allQuizzesGlobal[_0x1716a9(0x2c9)]===0x0){const _0x2dda55=await getDocs(collection(db,_0x1716a9(0x71a)+appId+_0x1716a9(0x91e)));allQuizzesGlobal=_0x2dda55[_0x1716a9(0x16e)][_0x1716a9(0x6d7)](_0x3877b4=>({'id':_0x3877b4['id'],..._0x3877b4[_0x1716a9(0x724)]()}));}renderGlobalQuizList(''),document[_0x1716a9(0x5a3)]('global-live-game-modal')[_0x1716a9(0x24d)][_0x1716a9(0x3dd)](_0x1716a9(0x825));}async function openQuizBankModal(){const _0x3c8b09=_0x27804f;if(allQuizzesGlobal['length']===0x0){const _0x453c57=await getDocs(collection(db,_0x3c8b09(0x71a)+appId+_0x3c8b09(0x91e)));allQuizzesGlobal=_0x453c57[_0x3c8b09(0x16e)][_0x3c8b09(0x6d7)](_0x22fe77=>({'id':_0x22fe77['id'],..._0x22fe77[_0x3c8b09(0x724)]()}));}renderQuizBankList(''),document[_0x3c8b09(0x5a3)](_0x3c8b09(0x317))[_0x3c8b09(0x24d)]['remove']('hidden');}function renderQuizBankList(_0x199bf5=''){const _0x20d309=_0x27804f,_0x11db37=document[_0x20d309(0x5a3)]('bank-quiz-list'),_0x26492b=_0x199bf5[_0x20d309(0x2b7)]()['trim'](),_0x5ac276=allQuizzesGlobal[_0x20d309(0x6d7)](_0x4b1297=>({..._0x4b1297,'projectName':allProjects['find'](_0x4b6906=>_0x4b6906['id']===_0x4b1297[_0x20d309(0x25d)])?.[_0x20d309(0xfc)]||_0x20d309(0x70e)}))[_0x20d309(0x3bf)](_0x3cb49e=>(_0x3cb49e[_0x20d309(0x2a9)]||'')[_0x20d309(0x2b7)]()[_0x20d309(0x885)](_0x26492b)||(_0x3cb49e[_0x20d309(0xfc)]||'')[_0x20d309(0x2b7)]()[_0x20d309(0x885)](_0x26492b)||_0x3cb49e['id'][_0x20d309(0x791)]()[_0x20d309(0x885)](_0x26492b));document['getElementById'](_0x20d309(0x2c1))[_0x20d309(0x84f)]='('+_0x5ac276[_0x20d309(0x2c9)]+_0x20d309(0x18b),_0x11db37[_0x20d309(0x3e2)]=_0x5ac276[_0x20d309(0x2c9)]?_0x5ac276[_0x20d309(0x6d7)](_0x5218ba=>_0x20d309(0x1fe)+_0x5218ba['id']+_0x20d309(0x7e2)+(_0x5218ba[_0x20d309(0x2a9)]||_0x20d309(0x63b))+_0x20d309(0x21d)+(_0x5218ba[_0x20d309(0x474)]?.[_0x20d309(0x2c9)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x5218ba[_0x20d309(0xfc)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x5218ba['id']+_0x20d309(0x76c)+_0x5218ba['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5218ba['id']+_0x20d309(0x28c)+_0x5218ba['id']+_0x20d309(0x717)+_0x5218ba['id']+_0x20d309(0x98d)+_0x5218ba['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5218ba['id']+_0x20d309(0x7ba)+_0x5218ba[_0x20d309(0x2a9)]+_0x20d309(0x3b5))['join'](''):_0x20d309(0x17d),_0x11db37[_0x20d309(0x7c7)]('.quiz-bank-item')[_0x20d309(0x7b1)](_0x3117ea=>{const _0x162fd1=_0x20d309;_0x3117ea[_0x162fd1(0x2ea)]('click',()=>{const _0x3f7f2b=_0x162fd1,_0x3b5ebf=_0x3117ea[_0x3f7f2b(0x4b7)]['id'];document[_0x3f7f2b(0x5a3)](_0x3f7f2b(0x317))['classList'][_0x3f7f2b(0x162)](_0x3f7f2b(0x825)),showQuizDetailView(_0x3b5ebf);});}),_0x11db37['querySelectorAll']('.quiz-bank-try-btn')[_0x20d309(0x7b1)](_0x44953e=>{const _0x1e3f72=_0x20d309;_0x44953e[_0x1e3f72(0x2ea)](_0x1e3f72(0x189),_0x452848=>{const _0x2393b0=_0x1e3f72;_0x452848[_0x2393b0(0x51b)]();const _0x2bf071=_0x44953e[_0x2393b0(0x4b7)]['id'],_0x3d4fdd=allQuizzesGlobal[_0x2393b0(0x894)](_0xae2866=>_0xae2866['id']===_0x2bf071);_0x3d4fdd?(currentQuizData=_0x3d4fdd,document[_0x2393b0(0x5a3)](_0x2393b0(0x317))[_0x2393b0(0x24d)][_0x2393b0(0x162)](_0x2393b0(0x825)),startAdminTest()):showMessage(_0x2393b0(0x47f));});}),_0x11db37[_0x20d309(0x7c7)](_0x20d309(0x55d))[_0x20d309(0x7b1)](_0x44f720=>{const _0x42072c=_0x20d309;_0x44f720[_0x42072c(0x2ea)](_0x42072c(0x189),_0x130ee4=>{const _0x55f959=_0x42072c;_0x130ee4[_0x55f959(0x51b)]();const _0x4f9bb4=_0x44f720[_0x55f959(0x4b7)]['id'],_0x235ad0=allQuizzesGlobal[_0x55f959(0x894)](_0x30b7ea=>_0x30b7ea['id']===_0x4f9bb4);_0x235ad0?(document[_0x55f959(0x5a3)](_0x55f959(0x317))['classList'][_0x55f959(0x162)](_0x55f959(0x825)),handleGenerateParallelFromBank(_0x235ad0)):showMessage(_0x55f959(0x47f));});}),_0x11db37[_0x20d309(0x7c7)](_0x20d309(0x673))[_0x20d309(0x7b1)](_0x2b8a17=>{const _0x15705b=_0x20d309;_0x2b8a17[_0x15705b(0x2ea)](_0x15705b(0x189),_0x3ab050=>{const _0x19ab55=_0x15705b;_0x3ab050[_0x19ab55(0x51b)]();const _0x558b6a=_0x2b8a17['dataset']['id'],_0x58370e=allQuizzesGlobal[_0x19ab55(0x894)](_0x343d50=>_0x343d50['id']===_0x558b6a);_0x58370e?(document['getElementById'](_0x19ab55(0x317))[_0x19ab55(0x24d)][_0x19ab55(0x162)](_0x19ab55(0x825)),startPresentation(_0x58370e)):showMessage(_0x19ab55(0x47f));});}),_0x11db37[_0x20d309(0x7c7)]('.quiz-bank-move-btn')['forEach'](_0x1c3660=>{const _0x126008=_0x20d309;_0x1c3660[_0x126008(0x2ea)](_0x126008(0x189),_0x925a44=>{const _0xa9ffc9=_0x126008;_0x925a44[_0xa9ffc9(0x51b)]();const _0x34b649=_0x1c3660[_0xa9ffc9(0x4b7)]['id'];document[_0xa9ffc9(0x5a3)](_0xa9ffc9(0x317))[_0xa9ffc9(0x24d)][_0xa9ffc9(0x162)](_0xa9ffc9(0x825)),handleMoveQuiz(_0x34b649);});}),_0x11db37['querySelectorAll'](_0x20d309(0x897))[_0x20d309(0x7b1)](_0x374902=>{const _0x4f9198=_0x20d309;_0x374902[_0x4f9198(0x2ea)](_0x4f9198(0x189),_0x3efd57=>{const _0xa65b3a=_0x4f9198;_0x3efd57[_0xa65b3a(0x51b)]();const _0x4f3ad0=_0x374902[_0xa65b3a(0x4b7)]['id'];document['getElementById'](_0xa65b3a(0x317))[_0xa65b3a(0x24d)][_0xa65b3a(0x162)](_0xa65b3a(0x825)),handleQuizSettings(_0x4f3ad0);});}),_0x11db37[_0x20d309(0x7c7)](_0x20d309(0x3a0))[_0x20d309(0x7b1)](_0x6c8a8e=>{const _0x4e6ec7=_0x20d309;_0x6c8a8e[_0x4e6ec7(0x2ea)](_0x4e6ec7(0x189),_0x628f14=>{const _0x46b898=_0x4e6ec7;_0x628f14[_0x46b898(0x51b)]();const _0x2c963b=_0x6c8a8e[_0x46b898(0x4b7)]['id'],_0x10e889=_0x6c8a8e[_0x46b898(0x4b7)][_0x46b898(0x2a9)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x10e889+_0x46b898(0x544),()=>handleDeleteQuiz(_0x2c963b));});});}async function handleCompareResults(_0x33b259,_0x1cd3bc){const _0x25a85e=_0x27804f,_0x4c79c7=document[_0x25a85e(0x5a3)](_0x25a85e(0x6e8)),_0x1971e7=document[_0x25a85e(0x5a3)](_0x25a85e(0x6f9)),_0x36fdf4=document['getElementById']('comparison-individual-content');document['getElementById'](_0x25a85e(0x8d3))[_0x25a85e(0x24d)][_0x25a85e(0x162)]('active'),document[_0x25a85e(0x5a3)](_0x25a85e(0x8d6))[_0x25a85e(0x24d)]['remove']('active'),_0x1971e7[_0x25a85e(0x24d)]['remove'](_0x25a85e(0x825)),_0x36fdf4[_0x25a85e(0x24d)][_0x25a85e(0x162)](_0x25a85e(0x825)),_0x1971e7[_0x25a85e(0x3e2)]=_0x25a85e(0x517),_0x36fdf4[_0x25a85e(0x3e2)]='',_0x4c79c7[_0x25a85e(0x24d)][_0x25a85e(0x3dd)](_0x25a85e(0x825));try{const _0x22e451=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x33b259),_0x36c2d3=await getDoc(_0x22e451);if(!_0x36c2d3[_0x25a85e(0x75f)]())throw new Error(_0x25a85e(0x970));const _0x344c1e=_0x36c2d3[_0x25a85e(0x724)](),_0x5c553d=_0x344c1e['questions'][_0x25a85e(0x2c9)],_0x264e45=collection(db,_0x25a85e(0x71a)+appId+'/public/data/quizzes/'+_0x1cd3bc+_0x25a85e(0x36e)),_0x5e293a=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x33b259+_0x25a85e(0x36e)),[_0x45a879,_0x18b7c7]=await Promise[_0x25a85e(0x504)]([getDocs(_0x264e45),getDocs(_0x5e293a)]),_0x5e8253=_0x45a879[_0x25a85e(0x16e)]['map'](_0x36aba4=>_0x36aba4['data']()),_0x90250a=_0x18b7c7['docs'][_0x25a85e(0x6d7)](_0x118b8c=>_0x118b8c['data']()),_0x4c3f78=_0x5e8253[_0x25a85e(0x6d7)](_0xa5e602=>_0xa5e602[_0x25a85e(0x36c)]),_0x26cde9=_0x90250a[_0x25a85e(0x6d7)](_0x1e6d46=>_0x1e6d46[_0x25a85e(0x36c)]),_0x60413b=calculateMeanAndStdDev(_0x4c3f78),_0x1ee281=calculateMeanAndStdDev(_0x26cde9),_0x9748c=_0x60413b[_0x25a85e(0x8ba)],_0x23687f=_0x1ee281[_0x25a85e(0x8ba)],_0x4efb73=_0x23687f-_0x9748c;let _0xcb340c=_0x25a85e(0x6f4)+_0x9748c[_0x25a85e(0x6ae)](0x2)+_0x25a85e(0x25e)+_0x23687f[_0x25a85e(0x6ae)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x4efb73>=0x0?_0x25a85e(0x161):'bg-red-100')+_0x25a85e(0x602)+(_0x4efb73>=0x0?_0x25a85e(0x607):'text-red-800')+_0x25a85e(0x7b4)+(_0x4efb73>=0x0?_0x25a85e(0x966):_0x25a85e(0x81a))+'\x22>'+(_0x4efb73>=0x0?'+':'')+_0x4efb73[_0x25a85e(0x6ae)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x1971e7[_0x25a85e(0x3e2)]=_0xcb340c;const _0x887711=document['getElementById']('comparison-chart')['getContext']('2d');if(chartInstances['comparison'])chartInstances['comparison'][_0x25a85e(0x6c6)]();chartInstances['comparison']=new Chart(_0x887711,{'type':_0x25a85e(0x9c5),'data':{'labels':[_0x25a85e(0x7e5)],'datasets':[{'label':_0x25a85e(0x222),'data':[_0x9748c],'backgroundColor':_0x25a85e(0x6fd)},{'label':_0x25a85e(0x5e2),'data':[_0x23687f],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x5c553d}}}});const _0x4b7d2a=currentProjectData[_0x25a85e(0x137)]||[],_0x499862=_0x4b7d2a[_0x25a85e(0x6d7)](_0x8c2ead=>{const _0x2e31d0=_0x25a85e,_0x3a7f4c=_0x5e8253[_0x2e31d0(0x894)](_0x1776a8=>_0x1776a8[_0x2e31d0(0x640)]===_0x8c2ead),_0x2626a6=_0x90250a[_0x2e31d0(0x894)](_0x29a875=>_0x29a875[_0x2e31d0(0x640)]===_0x8c2ead),_0x23e950=_0x3a7f4c?_0x3a7f4c['latestScore']:null,_0x10b640=_0x2626a6?_0x2626a6[_0x2e31d0(0x36c)]:null,_0x39303a=_0x23e950!==null&&_0x10b640!==null?_0x10b640-_0x23e950:null,_0x5715f3=_0x23e950!==null?calculateZScore(_0x23e950,_0x60413b[_0x2e31d0(0x8ba)],_0x60413b['stdDev']):null,_0xde588d=_0x10b640!==null?calculateZScore(_0x10b640,_0x1ee281[_0x2e31d0(0x8ba)],_0x1ee281[_0x2e31d0(0x3cf)]):null,_0x35a1b1=_0x5715f3!==null?calculateTScore(_0x5715f3):null,_0x1d3d16=_0xde588d!==null?calculateTScore(_0xde588d):null,_0x3c21f8=_0x35a1b1!==null&&_0x1d3d16!==null?_0x1d3d16-_0x35a1b1:null;return{'name':_0x8c2ead,'preScore':_0x23e950,'postScore':_0x10b640,'gain':_0x39303a,'preTScore':_0x35a1b1,'postTScore':_0x1d3d16,'tGain':_0x3c21f8};});renderIndividualComparisonTable(_0x499862,_0x36fdf4);}catch(_0x368f2b){console[_0x25a85e(0x84a)](_0x25a85e(0x5af),_0x368f2b),_0x1971e7[_0x25a85e(0x3e2)]=_0x25a85e(0x30b);}}function displayHalfMarkResult(_0x349dcd,_0x143d85){const _0x50c652=_0x27804f,_0x47d5f6=_0x349dcd>=_0x143d85/0x2,_0x39420c=_0x47d5f6?'bg-green-100':'bg-red-100',_0x5beb01=_0x47d5f6?_0x50c652(0x8d2):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x12ab0f=_0x47d5f6?_0x50c652(0x59a):_0x50c652(0x5fc),_0x323ed7=_0x47d5f6?_0x50c652(0x5f7):_0x50c652(0x197),_0x342489=_0x47d5f6?_0x50c652(0x6be):_0x50c652(0x33f);let _0x2ca3c5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x39420c+_0x50c652(0x1c7)+_0x5beb01+_0x50c652(0x9c7)+_0x12ab0f+'\x20mb-2\x22>'+_0x323ed7+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x342489+_0x50c652(0x524);studentResultArea[_0x50c652(0x3e2)]=_0x2ca3c5,studentResultArea[_0x50c652(0x24d)][_0x50c652(0x3dd)](_0x50c652(0x825)),studentQuizArea[_0x50c652(0x24d)]['add'](_0x50c652(0x825)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x47d5f6});}function displayPerfectScoreResult(_0x2a72c5,_0x32fc8c){const _0x26b407=_0x27804f,_0x3b489c=_0x2a72c5===_0x32fc8c,_0x272458=_0x3b489c?'bg-yellow-100':_0x26b407(0x568),_0x22344a=_0x3b489c?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x26b407(0x5c8),_0x3dfb60=_0x3b489c?_0x26b407(0x2bc):'text-blue-800',_0x126eb0=_0x3b489c?_0x26b407(0x427):_0x26b407(0x656),_0x30810e=_0x3b489c?_0x26b407(0x49f):_0x26b407(0x37c);let _0x4bee09=_0x26b407(0x56b)+_0x272458+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x22344a+_0x26b407(0x9c7)+_0x3dfb60+_0x26b407(0x510)+_0x126eb0+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x30810e+_0x26b407(0x524);studentResultArea[_0x26b407(0x3e2)]=_0x4bee09,studentResultArea[_0x26b407(0x24d)][_0x26b407(0x3dd)](_0x26b407(0x825)),studentQuizArea[_0x26b407(0x24d)][_0x26b407(0x162)](_0x26b407(0x825)),setupResultScreenBackButton({'showRankings':![],'score':_0x2a72c5,'totalQuestions':_0x32fc8c});}function renderIndividualComparisonTable(_0x2a290e,_0x252dac){const _0x28c705=_0x27804f;_0x2a290e['sort']((_0x851f53,_0x470ab6)=>(_0x470ab6[_0x28c705(0x21b)]??-Infinity)-(_0x851f53[_0x28c705(0x21b)]??-Infinity));let _0x2aea8f=_0x28c705(0x72b);_0x2a290e[_0x28c705(0x2c9)]===0x0?_0x2aea8f+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x2a290e['forEach']((_0x1bb7d9,_0x370732)=>{const _0x3642be=_0x28c705;let _0x3a8070='-',_0x2e3a37='';if(_0x1bb7d9['gain']!==null){const _0x534b20=_0x1bb7d9[_0x3642be(0x7e8)]>0x0?'text-green-600':_0x1bb7d9[_0x3642be(0x7e8)]<0x0?'text-red-600':_0x3642be(0x47e),_0x5f09c1=_0x1bb7d9['gain']>0x0?'+':'';_0x3a8070=_0x3642be(0x41d)+_0x534b20+'\x22>'+_0x5f09c1+_0x1bb7d9[_0x3642be(0x7e8)]+_0x3642be(0x52d);if(_0x1bb7d9[_0x3642be(0x7e8)]>0x0)_0x2e3a37='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x1bb7d9[_0x3642be(0x7e8)]<0x0?_0x2e3a37=_0x3642be(0x193):_0x2e3a37=_0x3642be(0x104);}let _0x324551='-';if(_0x1bb7d9[_0x3642be(0x21b)]!==null){const _0x8359c3=_0x1bb7d9[_0x3642be(0x21b)]>0x0?'text-green-600':_0x1bb7d9[_0x3642be(0x21b)]<0x0?_0x3642be(0x79a):_0x3642be(0x47e),_0x18c468=_0x1bb7d9['tGain']>0x0?'+':'';_0x324551=_0x3642be(0x41d)+_0x8359c3+'\x22>'+_0x18c468+_0x1bb7d9[_0x3642be(0x21b)][_0x3642be(0x6ae)](0x2)+'</span>';}_0x2aea8f+=_0x3642be(0x5c4)+(_0x370732+0x1)+_0x3642be(0x88c)+_0x1bb7d9[_0x3642be(0x96f)]+_0x3642be(0x418)+(_0x1bb7d9[_0x3642be(0x699)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x1bb7d9[_0x3642be(0xee)]??'-')+_0x3642be(0x418)+_0x3a8070+_0x3642be(0x893)+_0x2e3a37+_0x3642be(0x441)+(_0x1bb7d9[_0x3642be(0x7c3)]?.[_0x3642be(0x6ae)](0x2)??'-')+_0x3642be(0x394)+(_0x1bb7d9[_0x3642be(0x20d)]?.[_0x3642be(0x6ae)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x324551+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2aea8f+='</tbody></table></div>',_0x252dac[_0x28c705(0x3e2)]=_0x2aea8f;}function handleRenameQuiz(_0x4f96bb,_0x5d4409){const _0x10563b=_0x27804f;actionTargetId=_0x4f96bb,document['getElementById']('rename-quiz-input')['value']=_0x5d4409,renameQuizModal[_0x10563b(0x24d)][_0x10563b(0x3dd)](_0x10563b(0x825));}function setupComparisonModalTabs(){const _0x4ca6a9=_0x27804f,_0x47d18d=document[_0x4ca6a9(0x5a3)](_0x4ca6a9(0x8d3)),_0x5a7f5d=document[_0x4ca6a9(0x5a3)]('comparison-individual-tab'),_0x2199c8=document[_0x4ca6a9(0x5a3)]('comparison-overall-content'),_0x5e5e88=document['getElementById'](_0x4ca6a9(0x81c));_0x47d18d[_0x4ca6a9(0x2ea)](_0x4ca6a9(0x189),()=>{const _0x5d50a6=_0x4ca6a9;_0x47d18d['classList']['add'](_0x5d50a6(0x4cd)),_0x5a7f5d['classList']['remove']('active'),_0x2199c8[_0x5d50a6(0x24d)]['remove'](_0x5d50a6(0x825)),_0x5e5e88[_0x5d50a6(0x24d)][_0x5d50a6(0x162)]('hidden');}),_0x5a7f5d[_0x4ca6a9(0x2ea)]('click',()=>{const _0x2b9193=_0x4ca6a9;_0x5a7f5d[_0x2b9193(0x24d)][_0x2b9193(0x162)](_0x2b9193(0x4cd)),_0x47d18d['classList'][_0x2b9193(0x3dd)](_0x2b9193(0x4cd)),_0x5e5e88[_0x2b9193(0x24d)][_0x2b9193(0x3dd)](_0x2b9193(0x825)),_0x2199c8[_0x2b9193(0x24d)][_0x2b9193(0x162)](_0x2b9193(0x825));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x24efa5=''){const _0x1e1481=_0x27804f,_0x532d79=document[_0x1e1481(0x5a3)](_0x1e1481(0x380)),_0x5ee487=_0x24efa5[_0x1e1481(0x2b7)]()[_0x1e1481(0x79e)](),_0x5e0812=allQuizzesGlobal[_0x1e1481(0x6d7)](_0x319d07=>({..._0x319d07,'projectName':allProjects[_0x1e1481(0x894)](_0x1f7af2=>_0x1f7af2['id']===_0x319d07[_0x1e1481(0x25d)])?.[_0x1e1481(0xfc)]||_0x319d07['projectId']}))['filter'](_0x4ab085=>(_0x4ab085[_0x1e1481(0x2a9)]||'')['toLowerCase']()[_0x1e1481(0x885)](_0x5ee487)||(_0x4ab085[_0x1e1481(0xfc)]||'')[_0x1e1481(0x2b7)]()[_0x1e1481(0x885)](_0x5ee487));document[_0x1e1481(0x5a3)](_0x1e1481(0x83b))['textContent']='('+_0x5e0812[_0x1e1481(0x2c9)]+_0x1e1481(0x18b),_0x532d79[_0x1e1481(0x3e2)]=_0x5e0812[_0x1e1481(0x2c9)]?_0x5e0812['map'](_0x4ec59e=>_0x1e1481(0x5a8)+_0x4ec59e['id']+_0x1e1481(0x2cc)+(_0x4ec59e[_0x1e1481(0x2a9)]||_0x1e1481(0x63b))+_0x1e1481(0x4ca)+(_0x4ec59e['questions']?.[_0x1e1481(0x2c9)]||0x0)+_0x1e1481(0x769)+_0x4ec59e['projectName']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20')[_0x1e1481(0x1cb)](''):_0x1e1481(0x1dd),selectedGlobalQuizId=null,document[_0x1e1481(0x5a3)](_0x1e1481(0x24f))[_0x1e1481(0x190)]=!![],_0x532d79[_0x1e1481(0x7c7)](_0x1e1481(0x489))[_0x1e1481(0x7b1)](_0x55c6c3=>{const _0x4ceff8=_0x1e1481;_0x55c6c3[_0x4ceff8(0x2ea)](_0x4ceff8(0x189),()=>{const _0x2bb402=_0x4ceff8;selectedGlobalQuizId=_0x55c6c3[_0x2bb402(0x4b7)]['id'],_0x532d79[_0x2bb402(0x7c7)]('button')[_0x2bb402(0x7b1)](_0x5d6dc5=>_0x5d6dc5['classList'][_0x2bb402(0x3dd)](_0x2bb402(0x60a),_0x2bb402(0x404),_0x2bb402(0x7b8))),_0x55c6c3[_0x2bb402(0x24d)]['add'](_0x2bb402(0x60a),_0x2bb402(0x404),_0x2bb402(0x7b8)),document[_0x2bb402(0x5a3)](_0x2bb402(0x24f))[_0x2bb402(0x190)]=![];});});}function listenForLiveGameUpdates(){const _0x55b048=_0x27804f;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3898e7=doc(db,_0x55b048(0x71a)+appId+_0x55b048(0x797),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3898e7,_0x5ebe94=>{const _0x473ef1=_0x55b048;if(!_0x5ebe94['exists']()){showMessage('เกมสิ้นสุดลงแล้ว'),showView(currentMode);return;}const _0x13f7e7=_0x5ebe94[_0x473ef1(0x724)]();_0x13f7e7[_0x473ef1(0x896)]&&(currentQuizData=_0x13f7e7[_0x473ef1(0x896)]);!currentQuizData&&_0x13f7e7[_0x473ef1(0x53c)]&&((async()=>{const _0x18bb7a=_0x473ef1;try{const _0x525b61=doc(db,_0x18bb7a(0x71a)+appId+'/public/data/quizzes',_0x13f7e7[_0x18bb7a(0x53c)]),_0x45ce21=await getDoc(_0x525b61);_0x45ce21['exists']()&&(currentQuizData={'id':_0x45ce21['id'],..._0x45ce21[_0x18bb7a(0x724)]()});}catch(_0x11411c){console[_0x18bb7a(0x84a)](_0x18bb7a(0x1c8),_0x11411c);}})());switch(_0x13f7e7[_0x473ef1(0x95a)]){case _0x473ef1(0x5ff):if(currentMode===_0x473ef1(0x43a)){const _0x287a53=_0x13f7e7['players']?Object['entries'](_0x13f7e7['players']):[],_0x5ed97f=_0x287a53[_0x473ef1(0x3bf)](([_0x979e56,_0x2e13cf])=>_0x2e13cf['status']===_0x473ef1(0x4cd)),_0x185d38=document['getElementById'](_0x473ef1(0x9d7));if(_0x185d38)_0x185d38[_0x473ef1(0x84f)]=_0x5ed97f[_0x473ef1(0x2c9)];const _0x907d16=document['getElementById'](_0x473ef1(0x136));_0x907d16&&(_0x907d16[_0x473ef1(0x3e2)]=_0x5ed97f['map'](([_0x34dbcc,_0x4c93bd])=>_0x473ef1(0x757)+_0x34dbcc+_0x473ef1(0x541)+_0x34dbcc+_0x473ef1(0x31d))['join'](''));const _0x33d4ce=document['getElementById'](_0x473ef1(0x443));_0x33d4ce&&(_0x33d4ce['disabled']=_0x5ed97f[_0x473ef1(0x2c9)]===0x0);}else showView(_0x473ef1(0x4f1)),liveGameView[_0x473ef1(0x3e2)]=_0x473ef1(0x67c)+currentStudentName+_0x473ef1(0x8c1);break;case'question':const _0x1c52f9=_0x13f7e7[_0x473ef1(0x814)];if(currentQuizData&&currentQuizData[_0x473ef1(0x474)][_0x1c52f9]){const _0x556872=currentQuizData[_0x473ef1(0x474)][_0x1c52f9],_0x168253=_0x13f7e7[_0x473ef1(0x645)]||_0x473ef1(0x689);switch(_0x168253){case _0x473ef1(0x76e):currentMode===_0x473ef1(0x43a)?showAdminSummaryView(_0x13f7e7,_0x556872):showPlayerSummaryView(_0x13f7e7,currentStudentName);break;case'leaderboard':currentMode===_0x473ef1(0x43a)&&showTop5LeaderboardView(_0x13f7e7);break;case _0x473ef1(0x689):default:if(currentMode===_0x473ef1(0x43a)){const _0x5a2e10=writeBatch(db);let _0x2f01a3=![];Object[_0x473ef1(0x69c)](_0x13f7e7[_0x473ef1(0xbe)])['forEach'](([_0x1d139b,_0xfc1845])=>{const _0x3fe948=_0x473ef1;if(_0xfc1845['status']===_0x3fe948(0x4cd)&&_0xfc1845['submittedAt']&&!_0xfc1845[_0x3fe948(0x851)]){_0x2f01a3=!![];const _0x1f0eca=_0xfc1845[_0x3fe948(0x978)][_0x3fe948(0x2da)]()-_0x13f7e7[_0x3fe948(0x1db)]['toDate']();let _0x359fa=0x0;if(_0xfc1845[_0x3fe948(0x113)]){const _0x41b4d3=0x3e8,_0x104bc4=0x1f4,_0x1a6b7c=0x4e20;let _0x4d608e=_0x1f0eca/_0x1a6b7c;if(_0x4d608e>0x1)_0x4d608e=0x1;const _0x3a5100=Math[_0x3fe948(0x7f3)](_0x4d608e*_0x104bc4);_0x359fa=_0x41b4d3-_0x3a5100;}const _0x1b96d6=doc(db,_0x3fe948(0x71a)+appId+_0x3fe948(0x797),currentLiveGameId);_0x5a2e10[_0x3fe948(0x42f)](_0x1b96d6,{[_0x3fe948(0x6d5)+_0x1d139b+'.score']:increment(_0x359fa),[_0x3fe948(0x6d5)+_0x1d139b+_0x3fe948(0x29e)]:_0x359fa,[_0x3fe948(0x6d5)+_0x1d139b+_0x3fe948(0x47d)]:!![]});}});_0x2f01a3&&_0x5a2e10[_0x473ef1(0x117)]()[_0x473ef1(0x2a5)](_0x1384be=>console['error'](_0x473ef1(0x9b7),_0x1384be));lastRenderedAdminQuestionIndex!==_0x1c52f9&&(showAdminLiveQuestionView(_0x556872,_0x1c52f9,currentQuizData['questions'][_0x473ef1(0x2c9)]),lastRenderedAdminQuestionIndex=_0x1c52f9);const _0x21c3d6=_0x13f7e7[_0x473ef1(0xbe)]||{},_0xc5c5cf=Object[_0x473ef1(0x8f5)](_0x21c3d6)[_0x473ef1(0x3bf)](_0x3ab96d=>_0x3ab96d['status']==='active'),_0x23b95f=_0xc5c5cf[_0x473ef1(0x2c9)],_0x33e7a9=_0xc5c5cf[_0x473ef1(0x3bf)](_0x500fb7=>_0x500fb7[_0x473ef1(0x72f)]===!![])['length'],_0x98f54a=document[_0x473ef1(0x5a3)](_0x473ef1(0x19d));if(_0x98f54a)_0x98f54a[_0x473ef1(0x84f)]=_0x33e7a9+'/'+_0x23b95f;const _0x4b85f6=document[_0x473ef1(0x5a3)](_0x473ef1(0x31a));if(_0x4b85f6){let _0x32686a=Object[_0x473ef1(0x69c)](_0x21c3d6)[_0x473ef1(0x3bf)](([_0x38b676,_0x588ead])=>_0x588ead['status']===_0x473ef1(0x4cd))[_0x473ef1(0x6d7)](([_0x3d13d3,_0x12b40a])=>{const _0x52c99c=_0x473ef1,_0x382b86=_0x12b40a[_0x52c99c(0x72f)]===!![],_0x475359=_0x382b86?_0x52c99c(0x6a1):_0x52c99c(0x8c7),_0x333da3=_0x382b86?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x52c99c(0x731);return _0x52c99c(0x1a8)+_0x475359+_0x52c99c(0x715)+_0x333da3+_0x52c99c(0x3e6)+_0x3d13d3+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x3d13d3+_0x52c99c(0x80f);})[_0x473ef1(0x1cb)]('');_0x4b85f6['innerHTML']=_0x32686a||_0x473ef1(0x14f);}_0x23b95f>0x0&&_0x33e7a9===_0x23b95f&&revealAnswerForAdmin(_0x1c52f9,currentQuizData[_0x473ef1(0x474)][_0x473ef1(0x2c9)]);}else{const _0x295eec=_0x13f7e7[_0x473ef1(0xbe)][currentStudentName];_0x295eec&&!_0x295eec['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x556872,_0x1c52f9,currentQuizData[_0x473ef1(0x474)][_0x473ef1(0x2c9)]);}break;}}break;case'podium':showPodiumView(_0x13f7e7[_0x473ef1(0xbe)],_0x473ef1(0x47b));break;}});}async function handleKickPlayer(_0x5f32c4){const _0x11afec=_0x27804f;if(!currentLiveGameId||!_0x5f32c4)return;const _0x41fa87=doc(db,'artifacts/'+appId+_0x11afec(0x797),currentLiveGameId),_0x344c80={};_0x344c80[_0x11afec(0x6d5)+_0x5f32c4+'.status']=_0x11afec(0x77c);try{await updateDoc(_0x41fa87,_0x344c80);}catch(_0x7f895b){console['error'](_0x11afec(0x2c3)+_0x5f32c4+':',_0x7f895b),showMessage(_0x11afec(0x329));}}async function authenticateUser(){const _0x5edf5c=_0x27804f;try{typeof __initial_auth_token!==_0x5edf5c(0x372)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x289043){console[_0x5edf5c(0x84a)](_0x5edf5c(0x92b),_0x289043),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x5be2b2){const _0x5f8586=_0x27804f;adminView[_0x5f8586(0x24d)][_0x5f8586(0x162)]('hidden'),studentView[_0x5f8586(0x24d)][_0x5f8586(0x162)](_0x5f8586(0x825)),projectDashboardView[_0x5f8586(0x24d)]['add'](_0x5f8586(0x825)),projectDetailView['classList'][_0x5f8586(0x162)](_0x5f8586(0x825)),quizResultsView[_0x5f8586(0x24d)]['add']('hidden'),liveGameView[_0x5f8586(0x24d)]['add'](_0x5f8586(0x825)),studentInitialView[_0x5f8586(0x24d)][_0x5f8586(0x162)](_0x5f8586(0x825)),studentJoinGameView[_0x5f8586(0x24d)][_0x5f8586(0x162)]('hidden'),studentNameSelectionView['classList'][_0x5f8586(0x162)](_0x5f8586(0x825)),studentQuizArea[_0x5f8586(0x24d)]['add'](_0x5f8586(0x825)),studentResultArea[_0x5f8586(0x24d)][_0x5f8586(0x162)](_0x5f8586(0x825)),studentReadingArea[_0x5f8586(0x24d)][_0x5f8586(0x162)]('hidden');const _0x45c073=document[_0x5f8586(0x5a3)]('student-team-selection-view'),_0x52c735=document['getElementById']('student-progress-view');if(_0x45c073)_0x45c073[_0x5f8586(0x24d)][_0x5f8586(0x162)](_0x5f8586(0x825));if(_0x52c735)_0x52c735[_0x5f8586(0x24d)][_0x5f8586(0x162)](_0x5f8586(0x825));switch(_0x5be2b2){case _0x5f8586(0x884):adminView[_0x5f8586(0x24d)][_0x5f8586(0x3dd)](_0x5f8586(0x825)),projectDashboardView[_0x5f8586(0x24d)][_0x5f8586(0x3dd)](_0x5f8586(0x825));break;case'project-detail':adminView[_0x5f8586(0x24d)][_0x5f8586(0x3dd)](_0x5f8586(0x825)),projectDetailView[_0x5f8586(0x24d)][_0x5f8586(0x3dd)](_0x5f8586(0x825));break;case'quiz-results':adminView[_0x5f8586(0x24d)][_0x5f8586(0x3dd)]('hidden'),quizResultsView[_0x5f8586(0x24d)][_0x5f8586(0x3dd)](_0x5f8586(0x825));break;case _0x5f8586(0x2c2):studentView[_0x5f8586(0x24d)]['remove'](_0x5f8586(0x825)),studentInitialView[_0x5f8586(0x24d)][_0x5f8586(0x3dd)]('hidden');break;case _0x5f8586(0x4f1):liveGameView['classList'][_0x5f8586(0x3dd)](_0x5f8586(0x825));break;case _0x5f8586(0x629):studentView['classList']['remove'](_0x5f8586(0x825));if(_0x45c073)_0x45c073[_0x5f8586(0x24d)][_0x5f8586(0x3dd)](_0x5f8586(0x825));break;case _0x5f8586(0x95b):studentView[_0x5f8586(0x24d)][_0x5f8586(0x3dd)]('hidden');if(_0x52c735)_0x52c735[_0x5f8586(0x24d)][_0x5f8586(0x3dd)](_0x5f8586(0x825));break;default:studentView[_0x5f8586(0x24d)][_0x5f8586(0x3dd)](_0x5f8586(0x825)),studentInitialView[_0x5f8586(0x24d)][_0x5f8586(0x3dd)](_0x5f8586(0x825));break;}}function showJoinGameView(){const _0x35235b=_0x27804f;studentInitialView[_0x35235b(0x24d)]['add'](_0x35235b(0x825)),studentJoinGameView['classList'][_0x35235b(0x3dd)](_0x35235b(0x825));}async function handleSaveVisibilitySettings(){const _0x4794f5=_0x27804f;if(!currentProjectId)return;const _0x35dc78=doc(db,_0x4794f5(0x71a)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x35dc78,{'settings.showInStudentDashboard':document['getElementById'](_0x4794f5(0x9fc))['checked'],'settings.isPasscodeEnabled':document[_0x4794f5(0x5a3)]('enable-passcode-checkbox')['checked'],'settings.passcode':document[_0x4794f5(0x5a3)](_0x4794f5(0x44a))['value']['trim']()}),showMessage(_0x4794f5(0x720));}catch(_0x2c5595){console[_0x4794f5(0x84a)](_0x4794f5(0x6d4),_0x2c5595),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x41a936=_0x27804f,_0xac2b7c=document['getElementById'](_0x41a936(0x5e8)),_0x364370=document['getElementById'](_0x41a936(0x78c));_0xac2b7c['addEventListener'](_0x41a936(0x677),()=>{const _0x91138e=_0x41a936;_0x364370['classList'][_0x91138e(0x72e)]('hidden',!_0xac2b7c[_0x91138e(0x9b1)]);});const _0xf6d5e4=document[_0x41a936(0x5a3)](_0x41a936(0x760)),_0x7cc1=document[_0x41a936(0x5a3)]('confidence-mode-container');_0xf6d5e4[_0x41a936(0x2ea)](_0x41a936(0x677),()=>{const _0x5d39c0=_0x41a936;_0x7cc1[_0x5d39c0(0x24d)][_0x5d39c0(0x72e)](_0x5d39c0(0x825),!_0xf6d5e4[_0x5d39c0(0x9b1)]);});const _0x5cce74=document[_0x41a936(0x5a3)](_0x41a936(0x56d)),_0x28c006=document[_0x41a936(0x5a3)](_0x41a936(0x57b));_0x5cce74[_0x41a936(0x2ea)](_0x41a936(0x677),()=>{const _0x47b920=_0x41a936;_0x28c006[_0x47b920(0x24d)]['toggle'](_0x47b920(0x825),!_0x5cce74[_0x47b920(0x9b1)]);});const _0x176683=document['getElementById']('confidence-modal'),_0x178942=async _0x1c58ca=>{const _0x5a570c=_0x41a936,_0x3a2007=document[_0x5a570c(0x5a3)](_0x5a570c(0x7e7)),_0x550f7a=_0x3a2007[_0x5a570c(0x4b7)][_0x5a570c(0x4f7)],_0x11edce=document[_0x5a570c(0x5a3)]('selected-answer-index-hidden');_0x3a2007[_0x5a570c(0x24d)][_0x5a570c(0x162)]('hidden');if(_0x550f7a===_0x5a570c(0x639)){const _0x5abceb=_0x11edce[_0x5a570c(0x50c)],_0x21ee4d={'answer':_0x5abceb,'wasConfident':_0x1c58ca};proceedToNextQuestion(_0x21ee4d);}else{if(_0x550f7a===_0x5a570c(0x3a2)){const _0x4a282a=_0x11edce[_0x5a570c(0x4b7)][_0x5a570c(0x1ea)],_0x2d0f10=JSON[_0x5a570c(0x298)](_0x11edce[_0x5a570c(0x4b7)][_0x5a570c(0x6f2)]),_0x3ae21f=JSON[_0x5a570c(0x298)](_0x11edce[_0x5a570c(0x4b7)]['gameData']),_0x50ea7f=_0x11edce['dataset']['playerName'];handleSyncAnswerSubmit(_0x4a282a,_0x2d0f10,_0x3ae21f,_0x50ea7f,_0x1c58ca);}}_0x3a2007[_0x5a570c(0x4b7)]['currentMode']='';};document['getElementById'](_0x41a936(0x1ab))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>_0x178942(!![])),document[_0x41a936(0x5a3)](_0x41a936(0x768))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>_0x178942(![])),liveGameView[_0x41a936(0x2ea)](_0x41a936(0x189),_0x5c0d52=>{const _0x4a4364=_0x41a936,_0x1da7f8=_0x5c0d52[_0x4a4364(0x680)]['closest']('.kick-player-btn-sync');if(_0x1da7f8){const _0xa5608d=_0x1da7f8[_0x4a4364(0x4b7)][_0x4a4364(0x4a1)];_0xa5608d&&handleKickPlayerSync(_0xa5608d);}});const _0x20f3e4=document['getElementById'](_0x41a936(0x289)),_0x15144a=document[_0x41a936(0x5a3)](_0x41a936(0x97d));_0x15144a[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0x2dbdfb=_0x41a936;document[_0x2dbdfb(0x5a3)](_0x2dbdfb(0x177))[_0x2dbdfb(0x24d)][_0x2dbdfb(0x162)](_0x2dbdfb(0x825));}),_0x20f3e4[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0x37a486=_0x41a936,_0x53e542=document[_0x37a486(0x5a3)](_0x37a486(0x1d5))['value'],_0x3414d9=document[_0x37a486(0x5a3)]('game-start-mode')[_0x37a486(0x50c)],_0x57f1e7=document[_0x37a486(0x5a3)](_0x37a486(0x859))[_0x37a486(0x9b1)];document[_0x37a486(0x5a3)](_0x37a486(0x177))['classList']['add'](_0x37a486(0x825));switch(_0x3414d9){case _0x37a486(0x47b):handleStartLiveRace(_0x53e542,_0x57f1e7);break;case _0x37a486(0x36a):handleStartTeamQuiz(_0x53e542,_0x57f1e7);break;case _0x37a486(0x53d):handleStartGroupMode(_0x53e542,_0x57f1e7);break;case'sync':handleStartSyncMode(_0x53e542,_0x57f1e7);break;}}),document[_0x41a936(0x5a3)]('join-group-activity-btn')[_0x41a936(0x2ea)](_0x41a936(0x189),handleJoinGroupActivity),liveGameView[_0x41a936(0x2ea)](_0x41a936(0x189),_0x14dd0f=>{const _0x1df9ba=_0x41a936,_0x59fec4=_0x14dd0f['target'][_0x1df9ba(0x35a)]('.summary-bar-item');document[_0x1df9ba(0x7c7)](_0x1df9ba(0x1a0))[_0x1df9ba(0x7b1)](_0x208936=>{const _0x2354f5=_0x1df9ba;(!_0x59fec4||_0x208936['id']!==_0x59fec4[_0x2354f5(0x4b7)][_0x2354f5(0x9bf)])&&_0x208936[_0x2354f5(0x24d)][_0x2354f5(0x3dd)](_0x2354f5(0x4a8));});if(!_0x59fec4)return;const _0x29a3a4=_0x59fec4[_0x1df9ba(0x4b7)][_0x1df9ba(0x9bf)],_0x756700=document[_0x1df9ba(0x5a3)](_0x29a3a4);_0x756700&&_0x756700[_0x1df9ba(0x24d)][_0x1df9ba(0x72e)](_0x1df9ba(0x4a8));}),liveGameView['addEventListener'](_0x41a936(0x189),_0x334d9e=>{const _0x3ba0b8=_0x41a936;if(_0x334d9e[_0x3ba0b8(0x680)][_0x3ba0b8(0x24d)]['contains'](_0x3ba0b8(0x27a))){const _0x5e1013=_0x334d9e[_0x3ba0b8(0x680)]['dataset'][_0x3ba0b8(0x4a1)];_0x5e1013&&handleKickPlayer(_0x5e1013);}}),document[_0x41a936(0x5a3)](_0x41a936(0x4d2))[_0x41a936(0x2ea)](_0x41a936(0x30d),()=>document[_0x41a936(0x5a3)]('save-project-name-btn')[_0x41a936(0x24d)][_0x41a936(0x3dd)]('hidden')),document[_0x41a936(0x5a3)](_0x41a936(0x194))[_0x41a936(0x2ea)]('click',handleSaveProjectName),document[_0x41a936(0x5a3)]('project-title')['addEventListener'](_0x41a936(0x653),_0x1c5268=>{const _0x453016=_0x41a936;_0x1c5268[_0x453016(0x7ec)]==='Enter'&&(_0x1c5268[_0x453016(0xba)](),_0x1c5268[_0x453016(0x680)][_0x453016(0x304)](),handleSaveProjectName());}),document[_0x41a936(0x5a3)](_0x41a936(0x50e))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0x2ae7f0=_0x41a936;document[_0x2ae7f0(0x5a3)](_0x2ae7f0(0x183))[_0x2ae7f0(0x24d)][_0x2ae7f0(0x3dd)](_0x2ae7f0(0x825));}),document['getElementById']('cancel-bulk-quiz-settings-btn')['addEventListener']('click',()=>{const _0x32d734=_0x41a936;document['getElementById'](_0x32d734(0x183))['classList']['add'](_0x32d734(0x825));}),document[_0x41a936(0x5a3)](_0x41a936(0x591))['addEventListener'](_0x41a936(0x189),handleBulkUpdateQuizSettings),document[_0x41a936(0x5a3)](_0x41a936(0x5ee))[_0x41a936(0x2ea)]('click',handleModeSwitch),document[_0x41a936(0x5a3)](_0x41a936(0x787))[_0x41a936(0x2ea)](_0x41a936(0x189),handleUpdateOldQuizzes),document[_0x41a936(0x5a3)](_0x41a936(0x167))[_0x41a936(0x2ea)](_0x41a936(0x189),handleResetProjectOrder),document[_0x41a936(0x5a3)](_0x41a936(0x87f))[_0x41a936(0x2ea)](_0x41a936(0x189),handleSaveVisibilitySettings),document[_0x41a936(0x5a3)](_0x41a936(0x67b))[_0x41a936(0x2ea)](_0x41a936(0x189),handleAddCustomMathTopic),document['getElementById'](_0x41a936(0x8fe))[_0x41a936(0x2ea)]('click',handleSelectAllTopics),document['getElementById'](_0x41a936(0x917))[_0x41a936(0x2ea)](_0x41a936(0x189),handleDeselectAllTopics),document[_0x41a936(0x5a3)](_0x41a936(0xd5))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document[_0x41a936(0x5a3)](_0x41a936(0x171))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}),document['getElementById'](_0x41a936(0x5f2))['addEventListener'](_0x41a936(0x189),()=>{const _0xe01157=_0x41a936;showView(_0xe01157(0x884));}),document[_0x41a936(0x5a3)]('modal-close-btn')['addEventListener'](_0x41a936(0x189),()=>{const _0x682b0d=_0x41a936;messageModal[_0x682b0d(0x24d)]['add']('hidden'),typeof modalConfirmAction===_0x682b0d(0x2fc)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x41a936(0x5a3)]('create-project-btn')[_0x41a936(0x2ea)](_0x41a936(0x189),()=>createProjectModal[_0x41a936(0x24d)][_0x41a936(0x3dd)](_0x41a936(0x825))),document['getElementById'](_0x41a936(0x5b7))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>createProjectModal[_0x41a936(0x24d)]['add'](_0x41a936(0x825))),document[_0x41a936(0x5a3)](_0x41a936(0x219))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>adminPasswordModal[_0x41a936(0x24d)][_0x41a936(0x162)](_0x41a936(0x825))),document[_0x41a936(0x5a3)](_0x41a936(0x6f1))[_0x41a936(0x2ea)]('click',handleAdminLogin),document[_0x41a936(0x5a3)](_0x41a936(0x107))[_0x41a936(0x2ea)]('keyup',_0x3f3094=>{const _0x2db273=_0x41a936;if(_0x3f3094[_0x2db273(0x7ec)]===_0x2db273(0x220))handleAdminLogin();}),document[_0x41a936(0x5a3)]('cancel-delete-btn')[_0x41a936(0x2ea)]('click',()=>{const _0x1ee9e0=_0x41a936;confirmationModal[_0x1ee9e0(0x24d)]['add']('hidden'),confirmAction=null;}),document['getElementById'](_0x41a936(0x828))['addEventListener']('click',()=>{const _0x3ccff2=_0x41a936;confirmAction&&confirmAction(),confirmationModal[_0x3ccff2(0x24d)][_0x3ccff2(0x162)]('hidden'),confirmAction=null;}),document[_0x41a936(0x5a3)]('cancel-rename-quiz-btn')['addEventListener'](_0x41a936(0x189),()=>renameQuizModal[_0x41a936(0x24d)]['add'](_0x41a936(0x825))),document['getElementById']('confirm-rename-quiz-btn')['addEventListener'](_0x41a936(0x189),confirmRenameQuiz),document[_0x41a936(0x5a3)](_0x41a936(0xc0))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>moveQuizModal[_0x41a936(0x24d)][_0x41a936(0x162)](_0x41a936(0x825))),document[_0x41a936(0x5a3)](_0x41a936(0x1d8))[_0x41a936(0x2ea)](_0x41a936(0x189),confirmMoveQuiz),document[_0x41a936(0x5a3)](_0x41a936(0x96d))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>quizSettingsModal[_0x41a936(0x24d)][_0x41a936(0x162)](_0x41a936(0x825))),document['getElementById']('confirm-quiz-settings-btn')['addEventListener'](_0x41a936(0x189),confirmQuizSettings),document[_0x41a936(0x5a3)]('cancel-quiz-status-btn')['addEventListener'](_0x41a936(0x189),()=>quizStatusModal['classList'][_0x41a936(0x162)](_0x41a936(0x825))),document[_0x41a936(0x5a3)]('confirm-quiz-status-btn')[_0x41a936(0x2ea)]('click',confirmQuizStatus);const _0x3ac180=document[_0x41a936(0x5a3)]('export-pdf-modal');document['getElementById']('cancel-export-pdf-btn')[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0xbf9562=_0x41a936;_0x3ac180['classList'][_0xbf9562(0x162)](_0xbf9562(0x825));}),document[_0x41a936(0x5a3)](_0x41a936(0x2cd))[_0x41a936(0x2ea)](_0x41a936(0x189),async()=>{const _0x274178=_0x41a936,_0x20a558=allQuizzes[_0x274178(0x894)](_0x1e20bb=>_0x1e20bb['id']===actionTargetId);_0x20a558?(currentQuizData=_0x20a558,exportQuizAsWorksheetPDF()):showMessage(_0x274178(0x47f)),_0x3ac180[_0x274178(0x24d)][_0x274178(0x162)](_0x274178(0x825));}),document[_0x41a936(0x5a3)]('export-tutor-pdf-btn')[_0x41a936(0x2ea)](_0x41a936(0x189),async()=>{const _0x9d4804=_0x41a936,_0x3c4f34=allQuizzes['find'](_0x1c329a=>_0x1c329a['id']===actionTargetId);_0x3c4f34?(currentQuizData=_0x3c4f34,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x3ac180[_0x9d4804(0x24d)][_0x9d4804(0x162)](_0x9d4804(0x825));}),document['getElementById'](_0x41a936(0x13a))[_0x41a936(0x2ea)](_0x41a936(0x189),openGlobalLiveModal),document[_0x41a936(0x5a3)](_0x41a936(0x2af))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0xa5f1f0=_0x41a936;document[_0xa5f1f0(0x5a3)]('global-live-game-modal')[_0xa5f1f0(0x24d)][_0xa5f1f0(0x162)](_0xa5f1f0(0x825)),selectedGlobalQuizId=null;}),document[_0x41a936(0x5a3)]('global-quiz-search-input')[_0x41a936(0x2ea)](_0x41a936(0x46b),_0x285013=>renderGlobalQuizList(_0x285013[_0x41a936(0x680)][_0x41a936(0x50c)])),document['getElementById'](_0x41a936(0x24f))[_0x41a936(0x2ea)]('click',()=>{const _0x316e39=_0x41a936,_0xae9eda=selectedGlobalQuizId;if(!_0xae9eda)return;document[_0x316e39(0x5a3)](_0x316e39(0x8e4))[_0x316e39(0x24d)][_0x316e39(0x162)](_0x316e39(0x825)),handleStartLiveRace(_0xae9eda);}),document[_0x41a936(0x5a3)]('project-search-input')[_0x41a936(0x2ea)](_0x41a936(0x46b),renderProjects),document['getElementById'](_0x41a936(0xd2))[_0x41a936(0x2ea)](_0x41a936(0x677),async()=>{const _0x547a27=_0x41a936,_0x5d4d3e=document['getElementById'](_0x547a27(0xd2))[_0x547a27(0x50c)],_0x22e9d4=doc(db,_0x547a27(0x9f6),_0x547a27(0x938));try{await setDoc(_0x22e9d4,{'projectSort':_0x5d4d3e},{'merge':!![]});}catch(_0x1e5cba){console[_0x547a27(0x84a)](_0x547a27(0x9ed),_0x1e5cba),showMessage(_0x547a27(0x72a));}}),document[_0x41a936(0x5a3)](_0x41a936(0x6cd))[_0x41a936(0x2ea)](_0x41a936(0x46b),renderQuizzes),document[_0x41a936(0x5a3)](_0x41a936(0x9d3))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0x4d77d9=_0x41a936;globalDashboardSettings[_0x4d77d9(0x493)]='grid',saveUserPreference(_0x4d77d9(0x493),_0x4d77d9(0xdb)),renderProjects();}),document[_0x41a936(0x5a3)]('list-view-btn')[_0x41a936(0x2ea)]('click',()=>{const _0x18ab90=_0x41a936;globalDashboardSettings[_0x18ab90(0x493)]=_0x18ab90(0x786),saveUserPreference(_0x18ab90(0x493),_0x18ab90(0x786)),renderProjects();}),manageTab[_0x41a936(0x2ea)](_0x41a936(0x189),()=>switchProjectTab(_0x41a936(0x2ed))),resultsTab['addEventListener'](_0x41a936(0x189),()=>switchProjectTab(_0x41a936(0x4c3))),leaderboardTab[_0x41a936(0x2ea)](_0x41a936(0x189),()=>switchProjectTab(_0x41a936(0x450))),document[_0x41a936(0x5a3)](_0x41a936(0x420))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>switchQuizDetailTab(_0x41a936(0x312))),document[_0x41a936(0x5a3)](_0x41a936(0x2f5))['addEventListener'](_0x41a936(0x189),()=>switchQuizDetailTab('scores')),document[_0x41a936(0x5a3)](_0x41a936(0x74c))['addEventListener']('click',()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x41a936(0x5a3)](_0x41a936(0x23d))[_0x41a936(0x2ea)]('click',()=>switchQuizDetailTab(_0x41a936(0x20e))),document[_0x41a936(0x5a3)](_0x41a936(0x6ff))[_0x41a936(0x2ea)](_0x41a936(0x189),handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x41a936(0x189),generateWorksheet);const _0x23323c=document['getElementById'](_0x41a936(0x53a)),_0x296e88=document['getElementById'](_0x41a936(0x619)),_0xa6b569=document[_0x41a936(0x5a3)](_0x41a936(0xf1)),_0x3315ff=document[_0x41a936(0x5a3)](_0x41a936(0x204)),_0x4b04b0=document[_0x41a936(0x5a3)](_0x41a936(0x2ba)),_0x42804f=document[_0x41a936(0x5a3)](_0x41a936(0x739));topicTab[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0x318031=_0x41a936;topicTab[_0x318031(0x24d)][_0x318031(0x162)](_0x318031(0x4cd)),textTab[_0x318031(0x24d)][_0x318031(0x3dd)](_0x318031(0x4cd)),fileTab[_0x318031(0x24d)][_0x318031(0x3dd)](_0x318031(0x4cd)),worksheetTab[_0x318031(0x24d)][_0x318031(0x3dd)](_0x318031(0x4cd));if(_0x23323c)_0x23323c['classList']['remove'](_0x318031(0x4cd));if(_0xa6b569)_0xa6b569[_0x318031(0x24d)][_0x318031(0x3dd)](_0x318031(0x4cd));if(_0x4b04b0)_0x4b04b0[_0x318031(0x24d)][_0x318031(0x3dd)](_0x318031(0x4cd));topicInputArea[_0x318031(0x24d)]['remove'](_0x318031(0x825)),textInputArea[_0x318031(0x24d)]['add'](_0x318031(0x825)),fileInputArea[_0x318031(0x24d)][_0x318031(0x162)]('hidden'),worksheetInputArea['classList'][_0x318031(0x162)](_0x318031(0x825));if(_0x296e88)_0x296e88[_0x318031(0x24d)][_0x318031(0x162)]('hidden');if(_0x3315ff)_0x3315ff['classList']['add'](_0x318031(0x825));if(_0x42804f)_0x42804f[_0x318031(0x24d)][_0x318031(0x162)](_0x318031(0x825));}),textTab[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0x5df7b8=_0x41a936;textTab[_0x5df7b8(0x24d)][_0x5df7b8(0x162)](_0x5df7b8(0x4cd)),topicTab[_0x5df7b8(0x24d)][_0x5df7b8(0x3dd)](_0x5df7b8(0x4cd)),fileTab[_0x5df7b8(0x24d)][_0x5df7b8(0x3dd)](_0x5df7b8(0x4cd)),worksheetTab['classList'][_0x5df7b8(0x3dd)](_0x5df7b8(0x4cd));if(_0x23323c)_0x23323c[_0x5df7b8(0x24d)][_0x5df7b8(0x3dd)]('active');if(_0xa6b569)_0xa6b569[_0x5df7b8(0x24d)][_0x5df7b8(0x3dd)](_0x5df7b8(0x4cd));if(_0x4b04b0)_0x4b04b0[_0x5df7b8(0x24d)][_0x5df7b8(0x3dd)](_0x5df7b8(0x4cd));textInputArea[_0x5df7b8(0x24d)][_0x5df7b8(0x3dd)](_0x5df7b8(0x825)),topicInputArea['classList']['add']('hidden'),fileInputArea['classList'][_0x5df7b8(0x162)](_0x5df7b8(0x825)),worksheetInputArea['classList']['add']('hidden');if(_0x296e88)_0x296e88[_0x5df7b8(0x24d)][_0x5df7b8(0x162)](_0x5df7b8(0x825));if(_0x3315ff)_0x3315ff[_0x5df7b8(0x24d)][_0x5df7b8(0x162)]('hidden');if(_0x42804f)_0x42804f[_0x5df7b8(0x24d)][_0x5df7b8(0x162)](_0x5df7b8(0x825));}),fileTab[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0x383053=_0x41a936;fileTab[_0x383053(0x24d)][_0x383053(0x162)](_0x383053(0x4cd)),topicTab[_0x383053(0x24d)]['remove'](_0x383053(0x4cd)),textTab[_0x383053(0x24d)][_0x383053(0x3dd)]('active'),worksheetTab[_0x383053(0x24d)][_0x383053(0x3dd)]('active');if(_0x23323c)_0x23323c[_0x383053(0x24d)]['remove']('active');if(_0xa6b569)_0xa6b569[_0x383053(0x24d)][_0x383053(0x3dd)]('active');if(_0x4b04b0)_0x4b04b0[_0x383053(0x24d)][_0x383053(0x3dd)](_0x383053(0x4cd));fileInputArea[_0x383053(0x24d)][_0x383053(0x3dd)](_0x383053(0x825)),topicInputArea[_0x383053(0x24d)]['add'](_0x383053(0x825)),textInputArea[_0x383053(0x24d)][_0x383053(0x162)](_0x383053(0x825)),worksheetInputArea[_0x383053(0x24d)]['add'](_0x383053(0x825));if(_0x296e88)_0x296e88['classList'][_0x383053(0x162)](_0x383053(0x825));if(_0x3315ff)_0x3315ff[_0x383053(0x24d)][_0x383053(0x162)](_0x383053(0x825));if(_0x42804f)_0x42804f[_0x383053(0x24d)]['add'](_0x383053(0x825));}),worksheetTab['addEventListener'](_0x41a936(0x189),()=>{const _0x8f742e=_0x41a936;worksheetTab[_0x8f742e(0x24d)][_0x8f742e(0x162)](_0x8f742e(0x4cd)),topicTab[_0x8f742e(0x24d)]['remove']('active'),textTab[_0x8f742e(0x24d)][_0x8f742e(0x3dd)](_0x8f742e(0x4cd)),fileTab[_0x8f742e(0x24d)]['remove'](_0x8f742e(0x4cd));if(_0x23323c)_0x23323c[_0x8f742e(0x24d)][_0x8f742e(0x3dd)](_0x8f742e(0x4cd));if(_0xa6b569)_0xa6b569[_0x8f742e(0x24d)][_0x8f742e(0x3dd)](_0x8f742e(0x4cd));if(_0x4b04b0)_0x4b04b0[_0x8f742e(0x24d)][_0x8f742e(0x3dd)](_0x8f742e(0x4cd));worksheetInputArea[_0x8f742e(0x24d)][_0x8f742e(0x3dd)](_0x8f742e(0x825)),topicInputArea[_0x8f742e(0x24d)][_0x8f742e(0x162)](_0x8f742e(0x825)),textInputArea[_0x8f742e(0x24d)][_0x8f742e(0x162)](_0x8f742e(0x825)),fileInputArea[_0x8f742e(0x24d)][_0x8f742e(0x162)]('hidden');if(_0x296e88)_0x296e88[_0x8f742e(0x24d)][_0x8f742e(0x162)](_0x8f742e(0x825));if(_0x3315ff)_0x3315ff[_0x8f742e(0x24d)][_0x8f742e(0x162)]('hidden');if(_0x42804f)_0x42804f['classList'][_0x8f742e(0x162)](_0x8f742e(0x825));});const _0x3b512b=document[_0x41a936(0x5a3)](_0x41a936(0x2f7)),_0x101a26=document[_0x41a936(0x5a3)](_0x41a936(0x630));_0x3b512b&&_0x3b512b[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0x274a6e=_0x41a936;topicTab[_0x274a6e(0x24d)]['remove'](_0x274a6e(0x4cd)),textTab[_0x274a6e(0x24d)]['remove']('active'),fileTab[_0x274a6e(0x24d)][_0x274a6e(0x3dd)](_0x274a6e(0x4cd)),worksheetTab['classList'][_0x274a6e(0x3dd)](_0x274a6e(0x4cd));if(_0x23323c)_0x23323c[_0x274a6e(0x24d)]['remove']('active');if(_0xa6b569)_0xa6b569[_0x274a6e(0x24d)]['remove'](_0x274a6e(0x4cd));if(_0x4b04b0)_0x4b04b0['classList'][_0x274a6e(0x3dd)]('active');_0x3b512b[_0x274a6e(0x24d)][_0x274a6e(0x162)](_0x274a6e(0x4cd)),topicInputArea['classList']['add'](_0x274a6e(0x825)),textInputArea[_0x274a6e(0x24d)][_0x274a6e(0x162)](_0x274a6e(0x825)),fileInputArea[_0x274a6e(0x24d)][_0x274a6e(0x162)](_0x274a6e(0x825)),worksheetInputArea[_0x274a6e(0x24d)]['add'](_0x274a6e(0x825));if(_0x296e88)_0x296e88[_0x274a6e(0x24d)]['add'](_0x274a6e(0x825));if(_0x3315ff)_0x3315ff[_0x274a6e(0x24d)][_0x274a6e(0x162)]('hidden');if(_0x42804f)_0x42804f[_0x274a6e(0x24d)][_0x274a6e(0x162)](_0x274a6e(0x825));_0x101a26[_0x274a6e(0x24d)][_0x274a6e(0x3dd)](_0x274a6e(0x825)),displayQuestionBank();});_0x23323c&&(_0x23323c[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0x46da67=_0x41a936;_0x23323c['classList'][_0x46da67(0x162)](_0x46da67(0x4cd)),topicTab['classList'][_0x46da67(0x3dd)](_0x46da67(0x4cd)),textTab[_0x46da67(0x24d)][_0x46da67(0x3dd)](_0x46da67(0x4cd)),fileTab['classList'][_0x46da67(0x3dd)](_0x46da67(0x4cd)),worksheetTab[_0x46da67(0x24d)][_0x46da67(0x3dd)](_0x46da67(0x4cd));if(_0xa6b569)_0xa6b569[_0x46da67(0x24d)][_0x46da67(0x3dd)](_0x46da67(0x4cd));if(_0x4b04b0)_0x4b04b0[_0x46da67(0x24d)][_0x46da67(0x3dd)]('active');_0x296e88[_0x46da67(0x24d)][_0x46da67(0x3dd)](_0x46da67(0x825)),topicInputArea[_0x46da67(0x24d)][_0x46da67(0x162)](_0x46da67(0x825)),textInputArea[_0x46da67(0x24d)][_0x46da67(0x162)](_0x46da67(0x825)),fileInputArea[_0x46da67(0x24d)][_0x46da67(0x162)](_0x46da67(0x825)),worksheetInputArea['classList'][_0x46da67(0x162)](_0x46da67(0x825));if(_0x3315ff)_0x3315ff[_0x46da67(0x24d)][_0x46da67(0x162)]('hidden');if(_0x42804f)_0x42804f[_0x46da67(0x24d)]['add'](_0x46da67(0x825));}),document[_0x41a936(0x5a3)]('generate-from-link-btn')[_0x41a936(0x2ea)](_0x41a936(0x189),handleGenerateFromLink));_0xa6b569&&_0xa6b569[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0x28ce28=_0x41a936;_0xa6b569[_0x28ce28(0x24d)]['add'](_0x28ce28(0x4cd)),topicTab[_0x28ce28(0x24d)][_0x28ce28(0x3dd)](_0x28ce28(0x4cd)),textTab[_0x28ce28(0x24d)][_0x28ce28(0x3dd)](_0x28ce28(0x4cd)),fileTab[_0x28ce28(0x24d)][_0x28ce28(0x3dd)](_0x28ce28(0x4cd)),worksheetTab['classList'][_0x28ce28(0x3dd)](_0x28ce28(0x4cd));if(_0x23323c)_0x23323c['classList'][_0x28ce28(0x3dd)](_0x28ce28(0x4cd));if(_0x3b512b)_0x3b512b[_0x28ce28(0x24d)][_0x28ce28(0x3dd)](_0x28ce28(0x4cd));if(_0x4b04b0)_0x4b04b0[_0x28ce28(0x24d)][_0x28ce28(0x3dd)]('active');_0x3315ff[_0x28ce28(0x24d)][_0x28ce28(0x3dd)](_0x28ce28(0x825)),topicInputArea[_0x28ce28(0x24d)][_0x28ce28(0x162)]('hidden'),textInputArea[_0x28ce28(0x24d)][_0x28ce28(0x162)](_0x28ce28(0x825)),fileInputArea['classList'][_0x28ce28(0x162)]('hidden'),worksheetInputArea[_0x28ce28(0x24d)][_0x28ce28(0x162)]('hidden');if(_0x296e88)_0x296e88[_0x28ce28(0x24d)]['add'](_0x28ce28(0x825));if(_0x101a26)_0x101a26[_0x28ce28(0x24d)][_0x28ce28(0x162)](_0x28ce28(0x825));if(_0x42804f)_0x42804f[_0x28ce28(0x24d)][_0x28ce28(0x162)]('hidden');});_0x4b04b0&&_0x4b04b0[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0xe9a1d2=_0x41a936;_0x4b04b0['classList'][_0xe9a1d2(0x162)](_0xe9a1d2(0x4cd)),topicTab[_0xe9a1d2(0x24d)]['remove'](_0xe9a1d2(0x4cd)),textTab[_0xe9a1d2(0x24d)][_0xe9a1d2(0x3dd)](_0xe9a1d2(0x4cd)),fileTab[_0xe9a1d2(0x24d)][_0xe9a1d2(0x3dd)](_0xe9a1d2(0x4cd)),worksheetTab[_0xe9a1d2(0x24d)][_0xe9a1d2(0x3dd)](_0xe9a1d2(0x4cd));if(_0x23323c)_0x23323c[_0xe9a1d2(0x24d)][_0xe9a1d2(0x3dd)](_0xe9a1d2(0x4cd));if(_0xa6b569)_0xa6b569['classList'][_0xe9a1d2(0x3dd)](_0xe9a1d2(0x4cd));if(_0x3b512b)_0x3b512b['classList'][_0xe9a1d2(0x3dd)](_0xe9a1d2(0x4cd));_0x42804f[_0xe9a1d2(0x24d)][_0xe9a1d2(0x3dd)](_0xe9a1d2(0x825)),topicInputArea[_0xe9a1d2(0x24d)][_0xe9a1d2(0x162)](_0xe9a1d2(0x825)),textInputArea[_0xe9a1d2(0x24d)][_0xe9a1d2(0x162)](_0xe9a1d2(0x825)),fileInputArea['classList']['add'](_0xe9a1d2(0x825)),worksheetInputArea[_0xe9a1d2(0x24d)][_0xe9a1d2(0x162)](_0xe9a1d2(0x825));if(_0x296e88)_0x296e88['classList'][_0xe9a1d2(0x162)](_0xe9a1d2(0x825));if(_0x3315ff)_0x3315ff['classList'][_0xe9a1d2(0x162)](_0xe9a1d2(0x825));if(_0x101a26)_0x101a26[_0xe9a1d2(0x24d)]['add'](_0xe9a1d2(0x825));});const _0x3796e7=document[_0x41a936(0x5a3)]('blueprint-upload-input'),_0x41946c=document[_0x41a936(0x5a3)](_0x41a936(0x23c));_0x3796e7&&_0x3796e7[_0x41a936(0x2ea)](_0x41a936(0x677),_0x1a3cd8=>{const _0x2f882d=_0x41a936;_0x1a3cd8[_0x2f882d(0x680)][_0x2f882d(0x14b)][_0x2f882d(0x2c9)]>0x0?_0x41946c[_0x2f882d(0x190)]=![]:_0x41946c[_0x2f882d(0x190)]=!![];});_0x41946c&&_0x41946c[_0x41a936(0x2ea)](_0x41a936(0x189),handleGenerateFromBlueprint);const _0x483ecd=document[_0x41a936(0x5a3)]('parallel-test-upload-input'),_0x31cc09=document['getElementById'](_0x41a936(0x913));_0x483ecd&&_0x483ecd[_0x41a936(0x2ea)]('change',_0x28ade0=>{const _0x3e9e11=_0x41a936;_0x31cc09['disabled']=_0x28ade0['target'][_0x3e9e11(0x14b)]['length']===0x0;});_0x31cc09&&_0x31cc09[_0x41a936(0x2ea)](_0x41a936(0x189),handleGenerateParallelTest);loadQuizBtn[_0x41a936(0x2ea)](_0x41a936(0x189),handleLoadQuiz),startQuizBtn[_0x41a936(0x2ea)](_0x41a936(0x189),async()=>{const _0x1a0ce0=_0x41a936,_0x20753c=document[_0x1a0ce0(0x5a3)]('student-name-select');currentStudentName=_0x20753c['value'];if(!currentStudentName){showMessage(_0x1a0ce0(0x660));return;}try{const _0x5b990c=currentQuizData['id'],_0x5bb5e7=doc(db,_0x1a0ce0(0x71a)+appId+_0x1a0ce0(0x9b2)+_0x5b990c+_0x1a0ce0(0x36e),currentStudentName),_0x95498b=await getDoc(_0x5bb5e7);!_0x95498b[_0x1a0ce0(0x75f)]()?await setDoc(_0x5bb5e7,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x5bb5e7,{'startedAt':new Date()['toISOString']()});}catch(_0x44fb63){console[_0x1a0ce0(0x84a)](_0x1a0ce0(0x960),_0x44fb63),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView['classList']['add'](_0x1a0ce0(0x825)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x41a936(0x5a3)](_0x41a936(0x173))[_0x41a936(0x2ea)](_0x41a936(0x189),showJoinGameView),document[_0x41a936(0x5a3)]('confirm-join-game-btn')[_0x41a936(0x2ea)](_0x41a936(0x189),handleJoinLiveGame),document['getElementById'](_0x41a936(0x32d))[_0x41a936(0x2ea)]('click',()=>showView(_0x41a936(0x2c2)));const _0x45c664=()=>{const _0x4a72c3=_0x41a936,_0x529ea6=document['getElementById'](_0x4a72c3(0x9ec))['textContent'][_0x4a72c3(0x27f)](/[^a-z0-9]/gi,'_')[_0x4a72c3(0x2b7)]();return _0x4a72c3(0x658)+(_0x529ea6||_0x4a72c3(0x85e));},_0x555689=document[_0x41a936(0x5a3)]('math-topic-search-input');_0x555689&&_0x555689[_0x41a936(0x2ea)](_0x41a936(0x46b),_0x2de7a3=>{const _0x148fec=_0x41a936,_0x33385c=_0x2de7a3['target'][_0x148fec(0x50c)][_0x148fec(0x2b7)]()[_0x148fec(0x79e)](),_0x5df1cf=document[_0x148fec(0x5a3)](_0x148fec(0x8ea)),_0x4ef1ad=_0x5df1cf[_0x148fec(0x7c7)](_0x148fec(0x3e4));_0x4ef1ad[_0x148fec(0x7b1)](_0x3f37fe=>{const _0x347773=_0x148fec;let _0x4dee1e=![];const _0x5b190b=_0x3f37fe[_0x347773(0x7c7)](_0x347773(0x30f));_0x5b190b[_0x347773(0x7b1)](_0x49d4d4=>{const _0x2ca3aa=_0x347773,_0x3878f1=_0x49d4d4['querySelector'](_0x2ca3aa(0x8f7))[_0x2ca3aa(0x84f)]['toLowerCase']();_0x3878f1[_0x2ca3aa(0x885)](_0x33385c)?(_0x49d4d4[_0x2ca3aa(0x39c)]['display']='flex',_0x4dee1e=!![]):_0x49d4d4[_0x2ca3aa(0x39c)]['display']=_0x2ca3aa(0x13d);}),_0x4dee1e?_0x3f37fe['style']['display']='block':_0x3f37fe['style'][_0x347773(0x3ea)]=_0x347773(0x13d);});});document['getElementById'](_0x41a936(0x577))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>exportTableAsImage(_0x41a936(0x6a5),_0x45c664())),document[_0x41a936(0x5a3)](_0x41a936(0x114))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>exportTableAsPDF('results-table',_0x45c664())),document[_0x41a936(0x5a3)](_0x41a936(0x9fe))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>exportTableAsWord(_0x41a936(0x6a5),_0x45c664())),document['getElementById'](_0x41a936(0x952))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>exportTableAsExcel(_0x41a936(0x3de),_0x45c664()));const _0x39bf4d=()=>{const _0x35d270=_0x41a936,_0x271172=document[_0x35d270(0x5a3)](_0x35d270(0x9ec))[_0x35d270(0x84f)]['replace'](/[^a-z0-9]/gi,'_')[_0x35d270(0x2b7)]();return _0x35d270(0x4dc)+(_0x271172||_0x35d270(0x85e));};document['getElementById'](_0x41a936(0x3d4))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>exportTableAsImage(_0x41a936(0x175),_0x39bf4d())),document['getElementById']('export-leaderboard-pdf-btn')[_0x41a936(0x2ea)](_0x41a936(0x189),()=>exportTableAsPDF(_0x41a936(0x751),_0x39bf4d())),document[_0x41a936(0x5a3)](_0x41a936(0x462))['addEventListener'](_0x41a936(0x189),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x39bf4d())),document['getElementById'](_0x41a936(0x8db))['addEventListener'](_0x41a936(0x189),()=>exportTableAsExcel('quiz-leaderboard-table',_0x39bf4d())),projectQuizzesList['addEventListener'](_0x41a936(0x189),async _0x13c3f4=>{const _0x4e26c7=_0x41a936,_0x16191e=_0x13c3f4[_0x4e26c7(0x680)][_0x4e26c7(0x35a)]('.quiz-result-card'),_0x14b2dc=_0x13c3f4[_0x4e26c7(0x680)][_0x4e26c7(0x35a)]('.generate-post-test-btn'),_0x4b7b16=_0x13c3f4[_0x4e26c7(0x680)]['closest'](_0x4e26c7(0x752)),_0x564b26=_0x13c3f4['target'][_0x4e26c7(0x35a)]('.generate-lesson-btn'),_0x56696f=_0x13c3f4[_0x4e26c7(0x680)]['closest'](_0x4e26c7(0x783)),_0x131be7=_0x13c3f4[_0x4e26c7(0x680)][_0x4e26c7(0x35a)](_0x4e26c7(0x520)),_0x37b51e=_0x13c3f4['target'][_0x4e26c7(0x35a)](_0x4e26c7(0x41b)),_0x3db544=_0x13c3f4[_0x4e26c7(0x680)][_0x4e26c7(0x35a)]('.quiz-settings-btn'),_0x34b506=_0x13c3f4[_0x4e26c7(0x680)][_0x4e26c7(0x35a)](_0x4e26c7(0x963)),_0x283b0=_0x13c3f4[_0x4e26c7(0x680)]['closest'](_0x4e26c7(0x57c)),_0x313e47=_0x13c3f4[_0x4e26c7(0x680)][_0x4e26c7(0x35a)]('.parallel-quiz-btn'),_0x239424=_0x13c3f4[_0x4e26c7(0x680)][_0x4e26c7(0x35a)](_0x4e26c7(0x30e)),_0x25f66=_0x13c3f4[_0x4e26c7(0x680)][_0x4e26c7(0x35a)]('.pair-quiz-btn'),_0x14ebc4=_0x13c3f4['target']['closest']('.unpair-quiz-btn'),_0x1e022f=_0x13c3f4[_0x4e26c7(0x680)][_0x4e26c7(0x35a)]('.start-presentation-list-btn'),_0x24aecb=_0x13c3f4[_0x4e26c7(0x680)][_0x4e26c7(0x35a)](_0x4e26c7(0x12a)),_0x3bcca2=_0x13c3f4[_0x4e26c7(0x680)][_0x4e26c7(0x35a)](_0x4e26c7(0x38a)),_0x4ee1b9=_0x13c3f4[_0x4e26c7(0x680)]['closest'](_0x4e26c7(0x1ef)),_0x26af3d=_0x13c3f4['target'][_0x4e26c7(0x35a)](_0x4e26c7(0x328)),_0x31000a=_0x13c3f4[_0x4e26c7(0x680)][_0x4e26c7(0x35a)]('.toggle-actions-btn'),_0x1193a1=_0x13c3f4['target']['closest'](_0x4e26c7(0x59f)),_0x5da8bb=_0x13c3f4[_0x4e26c7(0x680)]['closest'](_0x4e26c7(0x3b4)),_0xbd2d98=_0x13c3f4[_0x4e26c7(0x680)][_0x4e26c7(0x35a)]('.start-live-race-btn');if(_0x5da8bb){const _0xb8c65e=_0x5da8bb[_0x4e26c7(0x4b7)][_0x4e26c7(0x53c)],_0x58c393=_0x5da8bb['dataset']['mode'],_0x5e91b5=allQuizzes['find'](_0x5a6012=>_0x5a6012['id']===_0xb8c65e);_0x5e91b5&&showGameStartConfirmationModal(_0xb8c65e,_0x58c393,_0x5e91b5[_0x4e26c7(0x2a9)]);}else{if(_0xbd2d98){const _0x4e1abb=_0xbd2d98[_0x4e26c7(0x4b7)]['quizId'];handleStartLiveRace(_0x4e1abb);}else{if(_0x31000a){const _0x158f0a=_0x31000a['dataset'][_0x4e26c7(0x53c)],_0x206ac1=document['getElementById'](_0x4e26c7(0x6dd)+_0x158f0a);_0x206ac1&&_0x206ac1[_0x4e26c7(0x24d)]['toggle'](_0x4e26c7(0x825));}else{if(_0x14b2dc){const _0x29cb2d=_0x14b2dc[_0x4e26c7(0x4b7)]['quizId'],_0x20183b=allQuizzes[_0x4e26c7(0x894)](_0x1ed3ac=>_0x1ed3ac['id']===_0x29cb2d);_0x20183b&&handleGenerateParallelPostTest(_0x20183b);}else{if(_0x4b7b16)handleCompareResults(_0x4b7b16[_0x4e26c7(0x4b7)][_0x4e26c7(0x53c)],_0x4b7b16[_0x4e26c7(0x4b7)][_0x4e26c7(0x360)]);else{if(_0x564b26){const _0x3dd8eb=_0x564b26[_0x4e26c7(0x4b7)][_0x4e26c7(0x53c)],_0x5d21b8=allQuizzes['find'](_0x392343=>_0x392343['id']===_0x3dd8eb);_0x5d21b8&&_0x5d21b8['lessonPlan']?(displayLessonPlan(_0x5d21b8[_0x4e26c7(0x7a6)],_0x5d21b8),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x3dd8eb)),document[_0x4e26c7(0x5a3)](_0x4e26c7(0x3d1))[_0x4e26c7(0x62c)]('h3')['textContent']=_0x4e26c7(0x932),document['getElementById']('confirm-delete-btn')['textContent']=_0x4e26c7(0x3e0)):handleGenerateLessonPlan(_0x3dd8eb);}else{if(_0x56696f)handleToggleStarQuiz(_0x56696f[_0x4e26c7(0x4b7)]['quizId']);else{if(_0x131be7)copyTextToClipboard(_0x131be7[_0x4e26c7(0x4b7)][_0x4e26c7(0x53c)],'คัดลอกรหัสแล้ว!');else{if(_0x37b51e)handleOpenQuizEditor(_0x37b51e[_0x4e26c7(0x4b7)]['quizId']);else{if(_0x3db544)handleQuizSettings(_0x3db544[_0x4e26c7(0x4b7)]['quizId']);else{if(_0x34b506)handleDuplicateQuiz(_0x34b506[_0x4e26c7(0x4b7)][_0x4e26c7(0x53c)]);else{if(_0x283b0)handleRenameQuiz(_0x283b0[_0x4e26c7(0x4b7)][_0x4e26c7(0x53c)],_0x283b0[_0x4e26c7(0x4b7)][_0x4e26c7(0x2a9)]);else{if(_0x313e47){const _0x38aca4=_0x313e47[_0x4e26c7(0x4b7)][_0x4e26c7(0x53c)],_0x3e3ae9=allQuizzes['find'](_0x33973f=>_0x33973f['id']===_0x38aca4);_0x3e3ae9&&handleGenerateParallelFromBank(_0x3e3ae9);}else{if(_0x239424)handleMoveQuiz(_0x239424[_0x4e26c7(0x4b7)][_0x4e26c7(0x53c)]);else{if(_0x25f66)handleManualQuizPairing(_0x25f66[_0x4e26c7(0x4b7)][_0x4e26c7(0x53c)]);else{if(_0x14ebc4)handleUnpairQuiz(_0x14ebc4['dataset'][_0x4e26c7(0x53c)]);else{if(_0x1e022f){const _0x3a9982=_0x1e022f[_0x4e26c7(0x4b7)][_0x4e26c7(0x53c)],_0x5e39ab=allQuizzes['find'](_0x256393=>_0x256393['id']===_0x3a9982);if(_0x5e39ab)startPresentation(_0x5e39ab);}else{if(_0x24aecb){const _0x25c1bf=_0x24aecb[_0x4e26c7(0x4b7)][_0x4e26c7(0x53c)],_0xdb1db3=allQuizzes[_0x4e26c7(0x894)](_0x38d476=>_0x38d476['id']===_0x25c1bf);_0xdb1db3&&(currentQuizData=_0xdb1db3,startAdminTest());}else{if(_0x3bcca2)actionTargetId=_0x3bcca2[_0x4e26c7(0x4b7)][_0x4e26c7(0x53c)],document['getElementById'](_0x4e26c7(0x71c))[_0x4e26c7(0x24d)][_0x4e26c7(0x3dd)](_0x4e26c7(0x825));else{if(_0x4ee1b9)showConfirmation(_0x4e26c7(0xc7)+_0x4ee1b9[_0x4e26c7(0x4b7)][_0x4e26c7(0x2a9)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x4ee1b9[_0x4e26c7(0x4b7)][_0x4e26c7(0x53c)]));else{if(_0x26af3d)handleQuizStatus(_0x26af3d[_0x4e26c7(0x4b7)][_0x4e26c7(0x53c)]);else{if(_0x1193a1)handleGenerateEasyVersionQuiz(_0x1193a1[_0x4e26c7(0x4b7)]['quizId']);else _0x16191e&&showQuizDetailView(_0x16191e[_0x4e26c7(0x4b7)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById']('cancel-team-selection-btn')[_0x41a936(0x2ea)]('click',()=>showView(_0x41a936(0x2c2))),document['getElementById'](_0x41a936(0x9ee))['addEventListener'](_0x41a936(0x189),confirmAndStartTeamQuiz),document['getElementById'](_0x41a936(0x751))[_0x41a936(0x62c)](_0x41a936(0x6af))[_0x41a936(0x2ea)](_0x41a936(0x189),_0x2f357b=>{const _0x20f92c=_0x41a936,_0x9b4830=_0x2f357b[_0x20f92c(0x680)]['closest'](_0x20f92c(0x569));if(!_0x9b4830||!_0x9b4830[_0x20f92c(0x4b7)][_0x20f92c(0x1e4)])return;const _0x3d0dff=_0x9b4830[_0x20f92c(0x4b7)]['sort'];if(quizLeaderboardSortBy===_0x3d0dff)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x20f92c(0x4dd)?'desc':_0x20f92c(0x4dd);else{quizLeaderboardSortBy=_0x3d0dff;const _0x352b9a=[_0x20f92c(0x640)];quizLeaderboardSortOrder=_0x352b9a[_0x20f92c(0x885)](_0x3d0dff)?_0x20f92c(0x4dd):_0x20f92c(0x85a);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x20f92c(0x237));}),document[_0x41a936(0x5a3)](_0x41a936(0x40b))[_0x41a936(0x2ea)](_0x41a936(0x189),closePresentation),document[_0x41a936(0x5a3)](_0x41a936(0xde))[_0x41a936(0x2ea)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x41a936(0x5a3)](_0x41a936(0x722))['addEventListener'](_0x41a936(0x189),()=>{const _0x74fd95=_0x41a936;currentQuizData[_0x74fd95(0x474)]&&currentPresentationSlide<currentQuizData[_0x74fd95(0x474)][_0x74fd95(0x2c9)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x41a936(0x2ea)]('fullscreenchange',()=>{const _0x21f162=_0x41a936;!document[_0x21f162(0x6ad)]&&(presentationModal[_0x21f162(0x39c)][_0x21f162(0x3ea)]=_0x21f162(0x13d));}),document[_0x41a936(0x5a3)](_0x41a936(0x5e1))[_0x41a936(0x2ea)](_0x41a936(0x189),handleDeleteAllStudents),studentList[_0x41a936(0x2ea)](_0x41a936(0x189),_0x3fbe4b=>{const _0x2aa7fe=_0x41a936,_0x14f497=_0x3fbe4b[_0x2aa7fe(0x680)][_0x2aa7fe(0x35a)](_0x2aa7fe(0x207));if(_0x14f497){const _0x4f62a1=_0x14f497['dataset']['studentName'];handleDeleteStudent(_0x4f62a1);}}),document[_0x41a936(0x5a3)](_0x41a936(0x58e))[_0x41a936(0x2ea)](_0x41a936(0x189),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x41a936(0x677),_0x21680b=>{const _0x519e83=_0x41a936,_0xea565b=_0x21680b[_0x519e83(0x680)]['files'][0x0],_0x34ffcf=document['getElementById']('generate-from-file-btn');_0xea565b?(selectedFile=_0xea565b,_0x34ffcf[_0x519e83(0x190)]=![]):(selectedFile=null,_0x34ffcf[_0x519e83(0x190)]=!![]);}),document[_0x41a936(0x5a3)](_0x41a936(0x730))['addEventListener'](_0x41a936(0x677),_0x571880=>{const _0x55e68e=_0x41a936,_0x116027=document[_0x55e68e(0x5a3)](_0x55e68e(0x63d)),_0x3a3f31=document[_0x55e68e(0x5a3)](_0x55e68e(0x215)),_0x3c6254=document[_0x55e68e(0x5a3)](_0x55e68e(0x3e5));_0x571880[_0x55e68e(0x680)]['value']===_0x55e68e(0x13d)?_0x116027[_0x55e68e(0x24d)]['add'](_0x55e68e(0x825)):(_0x116027[_0x55e68e(0x24d)][_0x55e68e(0x3dd)]('hidden'),_0x571880[_0x55e68e(0x680)][_0x55e68e(0x50c)]==='whole_quiz'?(_0x3a3f31[_0x55e68e(0x84f)]='ระยะเวลา\x20(นาที):',_0x3c6254[_0x55e68e(0x50c)]='10'):(_0x3a3f31[_0x55e68e(0x84f)]=_0x55e68e(0xcd),_0x3c6254[_0x55e68e(0x50c)]='30'));}),document[_0x41a936(0x5a3)]('quiz-type-select')[_0x41a936(0x2ea)](_0x41a936(0x677),_0x3881db=>{const _0x339f6b=_0x41a936,_0x2e8b40=document[_0x339f6b(0x5a3)](_0x339f6b(0x661)),_0x1ded85=_0x3881db[_0x339f6b(0x680)][_0x339f6b(0x50c)],_0x3c612e=document[_0x339f6b(0x62c)]('label[for=\x22num-questions\x22]'),_0x1ca4ba=document[_0x339f6b(0x5a3)](_0x339f6b(0x332)),_0x4a49e4=document['getElementById'](_0x339f6b(0x246));_0x1ded85===_0x339f6b(0x151)?_0x3c612e[_0x339f6b(0x84f)]=_0x339f6b(0x20a):_0x3c612e[_0x339f6b(0x84f)]=_0x339f6b(0x4d0),_0x1ded85===_0x339f6b(0x1c6)||_0x1ded85===_0x339f6b(0x5c7)||_0x1ded85===_0x339f6b(0x66c)?_0x2e8b40[_0x339f6b(0x24d)][_0x339f6b(0x3dd)](_0x339f6b(0x825)):_0x2e8b40[_0x339f6b(0x24d)]['add'](_0x339f6b(0x825)),_0x1ca4ba[_0x339f6b(0xb5)]=_0x4a49e4[_0x339f6b(0x50c)];}),document['getElementById'](_0x41a936(0x246))[_0x41a936(0x2ea)]('input',_0xb2173a=>{const _0x536bc8=_0x41a936;document[_0x536bc8(0x5a3)](_0x536bc8(0x332))[_0x536bc8(0xb5)]=_0xb2173a[_0x536bc8(0x680)][_0x536bc8(0x50c)];}),document[_0x41a936(0x5a3)](_0x41a936(0x4f6))['addEventListener'](_0x41a936(0x677),_0x3ac05f=>{const _0x1ea759=_0x41a936,_0x51c699=document[_0x1ea759(0x5a3)](_0x1ea759(0x94e)),_0x5e88ee=document[_0x1ea759(0x5a3)]('modal-timer-duration-label'),_0x4eaa5d=document[_0x1ea759(0x5a3)](_0x1ea759(0x948));_0x3ac05f[_0x1ea759(0x680)]['value']===_0x1ea759(0x13d)?_0x51c699['classList']['add'](_0x1ea759(0x825)):(_0x51c699['classList']['remove'](_0x1ea759(0x825)),_0x3ac05f[_0x1ea759(0x680)][_0x1ea759(0x50c)]===_0x1ea759(0x583)?_0x5e88ee['textContent']=_0x1ea759(0x9ca):_0x5e88ee[_0x1ea759(0x84f)]=_0x1ea759(0xcd));}),document['getElementById'](_0x41a936(0x282))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0x4b6010=_0x41a936;document['getElementById'](_0x4b6010(0x612))[_0x4b6010(0x24d)][_0x4b6010(0x162)](_0x4b6010(0x825));}),document[_0x41a936(0x5a3)](_0x41a936(0x5c5))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0xdef03f=_0x41a936;document['getElementById'](_0xdef03f(0x612))[_0xdef03f(0x24d)][_0xdef03f(0x162)]('hidden');}),document[_0x41a936(0x5a3)](_0x41a936(0x8c9))[_0x41a936(0x2ea)]('click',handleVerifyAnswersInEditor),document[_0x41a936(0x5a3)](_0x41a936(0x9cc))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0x4db79b=_0x41a936;document['getElementById'](_0x4db79b(0x612))['classList'][_0x4db79b(0x162)](_0x4db79b(0x825)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x41a936(0x5a3)](_0x41a936(0x73f))[_0x41a936(0x2ea)](_0x41a936(0x189),handleAutoFixLatex);const _0x491bb5=document[_0x41a936(0x5a3)](_0x41a936(0x498));_0x491bb5&&_0x491bb5['addEventListener']('click',_0xbd6588=>{const _0x21b05a=_0x41a936,_0x242991=_0xbd6588['target'][_0x21b05a(0x35a)](_0x21b05a(0x6e9)),_0x7ac1ba=_0xbd6588[_0x21b05a(0x680)][_0x21b05a(0x35a)](_0x21b05a(0x233));if(_0x242991){const _0x53e6f9=_0x242991[_0x21b05a(0x35a)](_0x21b05a(0x28a)),_0x13628f=parseInt(_0x53e6f9[_0x21b05a(0x4b7)][_0x21b05a(0x491)],0xa);handleRegenerateQuestionInEditor(_0x13628f);}else{if(_0x7ac1ba){const _0x1d1011=_0x7ac1ba[_0x21b05a(0x35a)]('.question-editor-item'),_0x36b084=parseInt(_0x1d1011['dataset'][_0x21b05a(0x491)],0xa);handleAiFixFormula(_0x36b084);}}});document[_0x41a936(0x5a3)](_0x41a936(0x285))[_0x41a936(0x2ea)]('click',openQuizBankModal),document[_0x41a936(0x5a3)]('cancel-quiz-bank-btn')[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0x31c43d=_0x41a936;document['getElementById'](_0x31c43d(0x317))[_0x31c43d(0x24d)]['add'](_0x31c43d(0x825));}),document['getElementById'](_0x41a936(0x9cf))[_0x41a936(0x2ea)]('input',_0x133020=>renderQuizBankList(_0x133020['target'][_0x41a936(0x50c)]));const _0x10a8ce=document['getElementById'](_0x41a936(0x8ea));if(_0x10a8ce){let _0x219cf7=null;_0x10a8ce['addEventListener'](_0x41a936(0x189),_0x28dbab=>{const _0x2b5a61=_0x41a936,_0x5b7217=_0x28dbab[_0x2b5a61(0x680)],_0x1ac561=_0x5b7217[_0x2b5a61(0x35a)](_0x2b5a61(0x452)),_0x564528=_0x5b7217['closest'](_0x2b5a61(0x40a)),_0x1cb3b1=_0x5b7217[_0x2b5a61(0x35a)](_0x2b5a61(0x2e7)),_0x5c63b0=_0x5b7217[_0x2b5a61(0x35a)](_0x2b5a61(0x5aa));if(_0x564528){_0x28dbab['preventDefault']();const _0x1efd97=_0x564528['dataset']['id'],_0x40eeaf=_0x564528[_0x2b5a61(0x35a)](_0x2b5a61(0x66e))[_0x2b5a61(0x62c)]('.topic-name-display')['textContent'];showConfirmation(_0x2b5a61(0x86a)+_0x40eeaf+'\x22?',()=>handleDeleteCustomTopic(_0x1efd97));}else{if(_0x1ac561){_0x28dbab[_0x2b5a61(0xba)]();_0x219cf7&&toggleTopicEditMode(_0x219cf7,![]);const _0x445be6=_0x1ac561[_0x2b5a61(0x35a)](_0x2b5a61(0x2e1));_0x219cf7=_0x445be6,toggleTopicEditMode(_0x445be6,!![]);}else{if(_0x1cb3b1){_0x28dbab[_0x2b5a61(0xba)]();const _0x2460a4=_0x1cb3b1[_0x2b5a61(0x4b7)]['id'],_0x4cf9cb=_0x1cb3b1[_0x2b5a61(0x35a)](_0x2b5a61(0x2e1)),_0x196ac3=_0x4cf9cb[_0x2b5a61(0x62c)]('.topic-name-input')[_0x2b5a61(0x50c)];handleUpdateCustomTopic(_0x2460a4,_0x196ac3),_0x219cf7=null;}else{if(_0x5c63b0){_0x28dbab['preventDefault']();const _0x4bd76e=_0x5c63b0[_0x2b5a61(0x35a)]('[data-topic-container-id]');toggleTopicEditMode(_0x4bd76e,![]),_0x219cf7=null;}}}}}),document[_0x41a936(0x5a3)](_0x41a936(0x676))['addEventListener']('click',()=>{const _0x5be2f8=_0x41a936;document['getElementById']('lesson-plan-modal')[_0x5be2f8(0x24d)][_0x5be2f8(0x162)](_0x5be2f8(0x825));}),document[_0x41a936(0x5a3)](_0x41a936(0x669))[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0x4052a8=_0x41a936;document[_0x4052a8(0x5a3)](_0x4052a8(0x16f))['classList'][_0x4052a8(0x162)](_0x4052a8(0x825));}),document[_0x41a936(0x5a3)](_0x41a936(0x811))[_0x41a936(0x2ea)](_0x41a936(0x189),handleExportLessonPDF);}document['getElementById'](_0x41a936(0x4e1))['addEventListener']('click',()=>{const _0x87b12b=_0x41a936;document[_0x87b12b(0x5a3)](_0x87b12b(0x6e8))[_0x87b12b(0x24d)]['add']('hidden');}),document[_0x41a936(0x5a3)]('close-comparison-modal-footer-btn')[_0x41a936(0x2ea)](_0x41a936(0x189),()=>{const _0x3241be=_0x41a936;document[_0x3241be(0x5a3)](_0x3241be(0x6e8))[_0x3241be(0x24d)][_0x3241be(0x162)](_0x3241be(0x825));}),setupComparisonModalTabs(),document['body'][_0x41a936(0x2ea)](_0x41a936(0x189),function(_0x21030f){const _0x3b5c93=_0x41a936;if(_0x21030f[_0x3b5c93(0x680)][_0x3b5c93(0x24d)]['contains']('practice-topic-btn')){const _0x17b175=unescape(_0x21030f['target']['dataset']['topic']);startSkillPractice(_0x17b175);}}),document[_0x41a936(0x5a3)](_0x41a936(0x287))[_0x41a936(0x2ea)](_0x41a936(0x189),_0x565eea=>{const _0x1ac460=_0x41a936,_0x37a7e8=_0x565eea[_0x1ac460(0x680)][_0x1ac460(0x35a)](_0x1ac460(0x105));if(_0x37a7e8){const _0x2602a4=_0x37a7e8[_0x1ac460(0x4b7)]['studentName'];handleDeleteSubmission(_0x2602a4);}});}async function handleStartGroupMode(_0x2637c2,_0xdb9ed7=![]){const _0x10b3c6=_0x27804f,_0x1fdc56=allQuizzes[_0x10b3c6(0x894)](_0x4e7de9=>_0x4e7de9['id']===_0x2637c2)||allQuizzesGlobal['find'](_0x1af08e=>_0x1af08e['id']===_0x2637c2);if(!_0x1fdc56){showMessage(_0x10b3c6(0x47f));return;}currentQuizData=getShuffledQuiz(_0x1fdc56);const _0x3f8c1a=Math[_0x10b3c6(0x5f1)](0x3e8+Math['random']()*0x2328)[_0x10b3c6(0x791)]();try{const _0x91822f=await addDoc(collection(db,_0x10b3c6(0x71a)+appId+_0x10b3c6(0xb8)),{'quizId':_0x1fdc56['id'],'projectId':_0x1fdc56[_0x10b3c6(0x25d)],'status':_0x10b3c6(0x5ff),'pin':_0x3f8c1a,'mode':_0x10b3c6(0x53d),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0xdb9ed7});currentTeamQuizId=_0x91822f['id'],showView(_0x10b3c6(0x4f1)),renderAdminTeamQuizDashboard(_0x3f8c1a,_0x1fdc56['topic'],'group'),listenForTeamQuizUpdates();}catch(_0x28301f){console[_0x10b3c6(0x84a)](_0x10b3c6(0x185),_0x28301f),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x3a5a7a=_0x27804f;studentInitialView[_0x3a5a7a(0x24d)][_0x3a5a7a(0x162)](_0x3a5a7a(0x825)),document[_0x3a5a7a(0x5a3)](_0x3a5a7a(0x52e))[_0x3a5a7a(0x24d)][_0x3a5a7a(0x3dd)](_0x3a5a7a(0x825));const _0x506924=document[_0x3a5a7a(0x5a3)](_0x3a5a7a(0x4b1)),_0x319b76=document[_0x3a5a7a(0x5a3)]('progress-student-select'),_0xb75d25=document['getElementById']('student-progress-content');_0xb75d25[_0x3a5a7a(0x3e2)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x319b76[_0x3a5a7a(0x3e2)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x319b76[_0x3a5a7a(0x190)]=!![],_0x506924[_0x3a5a7a(0x3e2)]=_0x3a5a7a(0x25c);if(allProjects[_0x3a5a7a(0x2c9)]===0x0){const _0x4be036=collection(db,_0x3a5a7a(0x71a)+appId+_0x3a5a7a(0x78a)),_0x4b1c8b=await getDocs(_0x4be036);allProjects=_0x4b1c8b[_0x3a5a7a(0x16e)][_0x3a5a7a(0x6d7)](_0x19f119=>({'id':_0x19f119['id'],..._0x19f119[_0x3a5a7a(0x724)]()}));}const _0x29f25c=allProjects['filter'](_0x2230a6=>_0x2230a6[_0x3a5a7a(0x6a4)]?.['showInStudentDashboard']!==![]);_0x29f25c['sort']((_0x324b52,_0x5ec063)=>_0x324b52[_0x3a5a7a(0xfc)][_0x3a5a7a(0x66d)](_0x5ec063[_0x3a5a7a(0xfc)],'th')),_0x506924['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x29f25c[_0x3a5a7a(0x6d7)](_0x17d9ab=>_0x3a5a7a(0x76f)+_0x17d9ab['id']+'\x22>'+_0x17d9ab[_0x3a5a7a(0xfc)]+_0x3a5a7a(0x217))[_0x3a5a7a(0x1cb)](''),_0x506924[_0x3a5a7a(0x58f)]=()=>{const _0x307303=_0x3a5a7a,_0x36ba9a=_0x319b76[_0x307303(0x50c)],_0x362683=_0x506924[_0x307303(0x50c)];_0x319b76[_0x307303(0x190)]=!![],_0x319b76[_0x307303(0x3e2)]=_0x307303(0x4b4),_0xb75d25[_0x307303(0x3e2)]=_0x307303(0x1cd);if(!_0x362683)return;const _0x21e153=allProjects[_0x307303(0x894)](_0x17fc77=>_0x17fc77['id']===_0x362683);if(!_0x21e153||!_0x21e153[_0x307303(0x137)])return;const _0x5e2d9c=()=>{const _0x2893c4=_0x307303;_0x319b76[_0x2893c4(0x3e2)]=_0x2893c4(0x4b4)+_0x21e153[_0x2893c4(0x137)]['map'](_0x302116=>'<option\x20value=\x22'+_0x302116+'\x22>'+_0x302116+_0x2893c4(0x217))[_0x2893c4(0x1cb)](''),_0x319b76[_0x2893c4(0x190)]=![];const _0x3cecd3=Array[_0x2893c4(0x17b)](_0x319b76['options'])[_0x2893c4(0x6d7)](_0x41f2b6=>_0x41f2b6[_0x2893c4(0x50c)]);if(_0x36ba9a&&_0x3cecd3['includes'](_0x36ba9a))_0x319b76[_0x2893c4(0x50c)]=_0x36ba9a,_0x319b76[_0x2893c4(0x550)](new Event(_0x2893c4(0x677)));else _0x21e153[_0x2893c4(0x137)]['length']===0x1&&(_0x319b76[_0x2893c4(0x50c)]=_0x21e153[_0x2893c4(0x137)][0x0],_0x319b76[_0x2893c4(0x550)](new Event(_0x2893c4(0x677))));};if(_0x21e153['settings']?.[_0x307303(0x659)]){if(sessionStorage[_0x307303(0x34d)](_0x307303(0x539)+_0x362683)===_0x307303(0x32b)){_0x5e2d9c();return;}const _0x3e7cb5=document['getElementById']('project-passcode-modal'),_0x2bec40=document[_0x307303(0x5a3)]('confirm-passcode-btn'),_0x152746=document['getElementById'](_0x307303(0x892)),_0x1e3ab9=document['getElementById'](_0x307303(0x93a)),_0x2f15e2=document[_0x307303(0x5a3)](_0x307303(0x75a));document['getElementById'](_0x307303(0x995))['textContent']=_0x307303(0x391)+_0x21e153[_0x307303(0xfc)],_0x1e3ab9['value']='',_0x2f15e2[_0x307303(0x24d)][_0x307303(0x162)](_0x307303(0x825)),_0x3e7cb5[_0x307303(0x24d)][_0x307303(0x3dd)](_0x307303(0x825));const _0xcb03e0=()=>{const _0x261fe2=_0x307303,_0x2b3d81=_0x1e3ab9[_0x261fe2(0x50c)][_0x261fe2(0x79e)]();_0x2b3d81===_0x21e153['settings'][_0x261fe2(0x547)]?(sessionStorage[_0x261fe2(0x652)](_0x261fe2(0x539)+_0x362683,_0x261fe2(0x32b)),_0x3e7cb5[_0x261fe2(0x24d)][_0x261fe2(0x162)](_0x261fe2(0x825)),_0x5e2d9c(),_0x2bec40[_0x261fe2(0x6ac)]('click',_0xcb03e0)):_0x2f15e2[_0x261fe2(0x24d)][_0x261fe2(0x3dd)](_0x261fe2(0x825));};_0x2bec40['onclick']=_0xcb03e0,_0x152746[_0x307303(0x2e6)]=()=>{const _0x594722=_0x307303;_0x3e7cb5['classList']['add']('hidden'),_0x506924[_0x594722(0x50c)]='',_0x2bec40[_0x594722(0x6ac)](_0x594722(0x189),_0xcb03e0);};}else _0x5e2d9c();},_0x319b76[_0x3a5a7a(0x58f)]=()=>{const _0x34afaf=_0x3a5a7a,_0x1f66db=_0x506924[_0x34afaf(0x50c)],_0x361234=_0x319b76['value'];_0x1f66db&&_0x361234&&renderStudentProgressDashboard(_0x1f66db,_0x361234);};}async function confirmAndJoinSyncGame(){const _0x36d839=_0x27804f,_0x448cba=Array[_0x36d839(0x17b)](document['querySelectorAll'](_0x36d839(0x9c8)))[_0x36d839(0x6d7)](_0x509490=>_0x509490[_0x36d839(0x50c)]);if(_0x448cba[_0x36d839(0x2c9)]===0x0){showMessage(_0x36d839(0x572));return;}localTeamPlayers=_0x448cba,localPlayerTurnIndex=0x0;const _0x2164d5=doc(db,_0x36d839(0x71a)+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x3695f5=await getDoc(_0x2164d5);if(!_0x3695f5[_0x36d839(0x75f)]())throw new Error(_0x36d839(0xfa));const _0x24367f=_0x3695f5['data']()[_0x36d839(0xbe)]||{};_0x448cba[_0x36d839(0x7b1)](_0x3e08c5=>{const _0x58ce5b=_0x36d839;!_0x24367f[_0x3e08c5]&&(_0x24367f[_0x3e08c5]={'name':_0x3e08c5,'score':0x0,'answered':![],'status':_0x58ce5b(0x4cd)});}),await updateDoc(_0x2164d5,{'players':_0x24367f}),document['getElementById'](_0x36d839(0xe3))['classList'][_0x36d839(0x162)](_0x36d839(0x825)),currentStudentName=_0x448cba[0x0],listenForSyncGameUpdates();const _0x37de35={'gameId':currentLiveGameId,'mode':_0x36d839(0x3a2),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x36d839(0x652)]('activeGameSession',JSON[_0x36d839(0x65f)](_0x37de35));}catch(_0x144082){console[_0x36d839(0x84a)](_0x36d839(0x610),_0x144082),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0xe83b46=_0x27804f,_0x35a500=sessionStorage['getItem'](_0xe83b46(0x1d7));if(!_0x35a500)return;const _0x3ef979=JSON['parse'](_0x35a500),{gameId:_0x432c8f,mode:_0x463489,players:_0x563db5,turnIndex:_0x1f2232}=_0x3ef979;try{let _0xe3821a,_0x48343f;_0x463489===_0xe83b46(0x3a2)?_0xe3821a=doc(db,_0xe83b46(0x71a)+appId+'/public/data/syncGames',_0x432c8f):_0xe3821a=doc(db,'artifacts/'+appId+_0xe83b46(0xb8),_0x432c8f);_0x48343f=await getDoc(_0xe3821a);if(!_0x48343f[_0xe83b46(0x75f)]()||_0x48343f[_0xe83b46(0x724)]()[_0xe83b46(0x95a)]===_0xe83b46(0x68f)||_0x48343f[_0xe83b46(0x724)]()[_0xe83b46(0x95a)]==='podium'){sessionStorage['removeItem'](_0xe83b46(0x1d7));return;}console[_0xe83b46(0x909)](_0xe83b46(0x81e)+_0x463489+'\x20(ID:\x20'+_0x432c8f+')'),localTeamPlayers=_0x563db5,localPlayerTurnIndex=_0x1f2232;if(_0x463489===_0xe83b46(0x3a2))currentLiveGameId=_0x432c8f,currentStudentName=_0x563db5[0x0],showView('live-game'),listenForSyncGameUpdates();else{currentTeamQuizId=_0x432c8f;const _0x20f397=_0x48343f['data'](),_0x4f300e=doc(db,_0xe83b46(0x71a)+appId+'/public/data/quizzes',_0x20f397[_0xe83b46(0x53c)]),_0x33bd76=await getDoc(_0x4f300e);_0x33bd76[_0xe83b46(0x75f)]()&&(currentQuizData=getShuffledQuiz({'id':_0x33bd76['id'],..._0x33bd76[_0xe83b46(0x724)]()}),showView('student'),studentInitialView[_0xe83b46(0x24d)][_0xe83b46(0x162)](_0xe83b46(0x825)),renderTeamQuizQuestion());}}catch(_0x1ac1dc){console[_0xe83b46(0x84a)]('Failed\x20to\x20resume\x20game\x20session:',_0x1ac1dc),sessionStorage[_0xe83b46(0x508)](_0xe83b46(0x1d7));}}async function handleKickPlayerSync(_0x31c768){const _0x4ab36e=_0x27804f;if(!currentLiveGameId||!_0x31c768)return;const _0x43cdbd=doc(db,_0x4ab36e(0x71a)+appId+_0x4ab36e(0x108),currentLiveGameId),_0x246ad7={};_0x246ad7[_0x4ab36e(0x6d5)+_0x31c768+_0x4ab36e(0x78e)]=_0x4ab36e(0x77c);try{await updateDoc(_0x43cdbd,_0x246ad7);}catch(_0x332aa8){console[_0x4ab36e(0x84a)](_0x4ab36e(0x2c3)+_0x31c768+_0x4ab36e(0x4f3),_0x332aa8),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function renderStudentProgressDashboard(_0x253f96,_0x261601){const _0x35987b=_0x27804f,_0x1484d8=document['getElementById']('student-progress-content');_0x1484d8['innerHTML']=_0x35987b(0x517);try{const _0x33d3af=collection(db,_0x35987b(0x71a)+appId+_0x35987b(0x91e)),_0x1214f5=query(_0x33d3af,where(_0x35987b(0x25d),'==',_0x253f96)),_0x976b96=await getDocs(_0x1214f5),_0x2e9bfd=_0x976b96['docs']['map'](_0x3cb3f1=>({'id':_0x3cb3f1['id'],..._0x3cb3f1['data']()})),_0x51010f=_0x2e9bfd['map'](_0x1d06c0=>getDoc(doc(db,_0x35987b(0x71a)+appId+_0x35987b(0x9b2)+_0x1d06c0['id']+_0x35987b(0x36e),_0x261601))),_0x10c6c5=await Promise[_0x35987b(0x504)](_0x51010f),_0x7cf942=_0x10c6c5[_0x35987b(0x3bf)](_0x5415cc=>_0x5415cc[_0x35987b(0x75f)]())[_0x35987b(0x6d7)](_0x457077=>({'quizId':_0x457077['ref'][_0x35987b(0x877)]['parent']['id'],..._0x457077[_0x35987b(0x724)]()}));if(_0x7cf942[_0x35987b(0x2c9)]===0x0){_0x1484d8[_0x35987b(0x3e2)]=_0x35987b(0x324);return;}let _0x398c59=_0x35987b(0x662);_0x7cf942[_0x35987b(0x7b1)](_0x3a41f5=>{const _0x237b0a=_0x35987b,_0x3f2d86=_0x2e9bfd[_0x237b0a(0x894)](_0x102aff=>_0x102aff['id']===_0x3a41f5[_0x237b0a(0x53c)]),_0x1af8cf=_0x3f2d86['settings']?.[_0x237b0a(0x8a4)]||'show_results_and_answers',_0x487e38=_0x3f2d86[_0x237b0a(0x6a4)]?.[_0x237b0a(0x1ba)]??0x0,_0x201525=_0x3a41f5['bestScore']>=_0x487e38;let _0x379a22='',_0x58d91f=_0x237b0a(0x4d6);switch(_0x1af8cf){case _0x237b0a(0x693):case'show_results_only':_0x58d91f=_0x201525?_0x237b0a(0xc2):_0x237b0a(0x969),_0x379a22=_0x237b0a(0x3be)+(_0x201525?_0x237b0a(0x296):'text-red-700')+'\x22>'+_0x3a41f5[_0x237b0a(0x46a)]+'\x20/\x20'+_0x3a41f5[_0x237b0a(0x231)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x201525?'bg-green-200\x20text-green-800':_0x237b0a(0x9f3))+'\x22>'+(_0x201525?_0x237b0a(0x87a):_0x237b0a(0x249))+_0x237b0a(0x63f);break;case _0x237b0a(0x822):_0x58d91f=_0x201525?_0x237b0a(0xc2):_0x237b0a(0x969),_0x379a22=_0x237b0a(0x1b0)+(_0x201525?_0x237b0a(0x879):'bg-red-200\x20text-red-800')+'\x22>'+(_0x201525?_0x237b0a(0x87a):_0x237b0a(0x249))+_0x237b0a(0x63f);break;case _0x237b0a(0x588):_0x58d91f='bg-yellow-50',_0x379a22='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x398c59+=_0x237b0a(0x1d1)+_0x58d91f+_0x237b0a(0x8a0)+_0x3f2d86[_0x237b0a(0x2a9)]+_0x237b0a(0x868)+_0x3a41f5[_0x237b0a(0x992)][_0x237b0a(0x2c9)]+_0x237b0a(0x5e7)+new Date(_0x3a41f5[_0x237b0a(0x750)])[_0x237b0a(0xd7)](_0x237b0a(0x42d))+_0x237b0a(0x9b9)+_0x379a22+_0x237b0a(0x4f9);}),_0x398c59+=_0x35987b(0x8c4),_0x1484d8[_0x35987b(0x3e2)]=_0x398c59;}catch(_0xa0ef45){console[_0x35987b(0x84a)](_0x35987b(0x86c),_0xa0ef45),_0x1484d8[_0x35987b(0x3e2)]=_0x35987b(0x840);}}function setupStudentProgressListeners(){const _0x4abcbe=_0x27804f;document[_0x4abcbe(0x5a3)](_0x4abcbe(0x958))[_0x4abcbe(0x2ea)]('click',showStudentProgressView),document['getElementById'](_0x4abcbe(0x7b5))['addEventListener']('click',()=>{const _0x4eb2fd=_0x4abcbe;document[_0x4eb2fd(0x5a3)](_0x4eb2fd(0x52e))[_0x4eb2fd(0x24d)][_0x4eb2fd(0x162)]('hidden'),document[_0x4eb2fd(0x5a3)](_0x4eb2fd(0x9a5))[_0x4eb2fd(0x24d)][_0x4eb2fd(0x3dd)]('hidden');});}async function startSkillPractice(_0x142698){const _0x4b52b7=_0x27804f;studentResultArea[_0x4b52b7(0x24d)][_0x4b52b7(0x162)]('hidden'),studentQuizArea[_0x4b52b7(0x3e2)]=_0x4b52b7(0x262),studentQuizArea[_0x4b52b7(0x24d)][_0x4b52b7(0x3dd)](_0x4b52b7(0x825));try{const _0x3a7640=await getStandardizedTopic(_0x142698);console[_0x4b52b7(0x909)](_0x4b52b7(0xf7)+_0x142698+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x3a7640+'\x22'),studentQuizArea[_0x4b52b7(0x62c)]('p')[_0x4b52b7(0x84f)]=_0x4b52b7(0x753)+_0x3a7640+_0x4b52b7(0x95e);const _0x17a88e=collection(db,_0x4b52b7(0x71a)+appId+_0x4b52b7(0xbf)),_0x5638b4=query(_0x17a88e,where(_0x4b52b7(0x2a9),'==',_0x3a7640)),_0x3b629e=await getDocs(_0x5638b4);if(_0x3b629e['docs'][_0x4b52b7(0x2c9)]>=0x3){console[_0x4b52b7(0x909)](_0x4b52b7(0x386)+_0x3b629e[_0x4b52b7(0x16e)]['length']+_0x4b52b7(0x516)+_0x3a7640+_0x4b52b7(0x3d3));let _0x438fbb=_0x3b629e[_0x4b52b7(0x16e)][_0x4b52b7(0x6d7)](_0x194ca2=>_0x194ca2['data']());shuffleArray(_0x438fbb);const _0x35909e={'topic':_0x3a7640,'questions':_0x438fbb[_0x4b52b7(0xf9)](0x0,0x3)};displaySkillPracticeDrill(_0x35909e);}else{console[_0x4b52b7(0x909)](_0x4b52b7(0x6b4)+_0x3a7640+_0x4b52b7(0x8cf));const _0x342853=await generatePracticeQuestions(_0x3a7640);await saveDrillToPracticeBank(_0x342853,_0x3a7640),displaySkillPracticeDrill(_0x342853);}}catch(_0x42bc46){console[_0x4b52b7(0x84a)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x42bc46),showMessage(_0x4b52b7(0x8bc)),studentQuizArea[_0x4b52b7(0x24d)][_0x4b52b7(0x162)](_0x4b52b7(0x825)),studentResultArea[_0x4b52b7(0x24d)][_0x4b52b7(0x3dd)](_0x4b52b7(0x825));}}async function saveDrillToPracticeBank(_0x4d41d0,_0x20fdb8){const _0x512f55=_0x27804f,_0x21cdef=collection(db,_0x512f55(0x71a)+appId+_0x512f55(0xbf)),_0x9f522d=writeBatch(db);_0x4d41d0[_0x512f55(0x474)][_0x512f55(0x7b1)](_0x35b0df=>{const _0x2e07be=_0x512f55,_0x2f2dbf=doc(_0x21cdef);_0x9f522d[_0x2e07be(0x143)](_0x2f2dbf,{'topic':_0x20fdb8,'questionText':_0x35b0df[_0x2e07be(0x872)],'options':_0x35b0df[_0x2e07be(0x86b)],'correctAnswerIndex':_0x35b0df[_0x2e07be(0x150)],'explanation':_0x35b0df[_0x2e07be(0x559)],'createdAt':serverTimestamp()});});try{await _0x9f522d[_0x512f55(0x117)](),console[_0x512f55(0x909)](_0x512f55(0x912)+_0x4d41d0[_0x512f55(0x474)][_0x512f55(0x2c9)]+_0x512f55(0x6aa));}catch(_0x2fdf86){console[_0x512f55(0x84a)](_0x512f55(0x5d1),_0x2fdf86);}}async function getStandardizedTopic(_0x3aaa59){const _0x50a8da=_0x27804f,_0x550143='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x3aaa59+_0x50a8da(0x4af),_0x59a074={'type':_0x50a8da(0x440),'properties':{'standardTopic':{'type':_0x50a8da(0x1fb)}},'required':[_0x50a8da(0x7d0)]};try{const _0x552179=await callAnalysisApi(_0x550143,_0x59a074);return _0x552179[_0x50a8da(0x7d0)];}catch(_0x2e2411){return console[_0x50a8da(0x84a)](_0x50a8da(0x1ed),_0x2e2411),_0x3aaa59;}}async function handleGenerateEasyVersionQuiz(_0x34d265){const _0x405fda=_0x27804f,_0x3755f2=document[_0x405fda(0x5a3)](_0x405fda(0x500)),_0x1eb72d=document[_0x405fda(0x5a3)]('project-quizzes-list');_0x1eb72d[_0x405fda(0x24d)][_0x405fda(0x162)](_0x405fda(0x825));const _0x3f34d2=_0x405fda(0x4a5);_0x3755f2[_0x405fda(0x1d6)](_0x405fda(0x78f),_0x3f34d2);try{const _0x44dc1d=allQuizzes[_0x405fda(0x894)](_0x33912f=>_0x33912f['id']===_0x34d265);if(!_0x44dc1d)throw new Error(_0x405fda(0x73e));const _0x4058b4=_0x405fda(0x7d4)+JSON['stringify'](_0x44dc1d['questions'])+_0x405fda(0x2c0),_0x37def5={'type':'OBJECT','properties':{'questionText':{'type':_0x405fda(0x1fb)},'questionType':{'type':_0x405fda(0x1fb)},'options':{'type':_0x405fda(0x9a6),'items':{'type':_0x405fda(0x1fb)}},'correctAnswerIndex':{'type':_0x405fda(0x451)},'idealAnswer':{'type':_0x405fda(0x1fb)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x405fda(0x1fb)}},'required':[_0x405fda(0x872),_0x405fda(0x891),_0x405fda(0x559)]},_0x455d96={'type':_0x405fda(0x440),'properties':{'questions':{'type':_0x405fda(0x9a6),'items':_0x37def5}},'required':[_0x405fda(0x474)]},_0x1c000c=await callAnalysisApi(_0x4058b4,_0x455d96);_0x1c000c&&_0x1c000c[_0x405fda(0x474)]&&_0x1c000c[_0x405fda(0x474)][_0x405fda(0x7b1)](_0x4dc3ca=>{const _0x21d699=_0x405fda;if(_0x4dc3ca[_0x21d699(0x770)](_0x21d699(0xd9))){const _0x38fd21=String(_0x4dc3ca[_0x21d699(0xd9)])[_0x21d699(0x79e)]();(_0x38fd21===''||_0x38fd21[_0x21d699(0x2b7)]()==='null'||!_0x38fd21[_0x21d699(0x928)](_0x21d699(0x854)))&&delete _0x4dc3ca[_0x21d699(0xd9)];}});if(!_0x1c000c||!_0x1c000c[_0x405fda(0x474)]||_0x1c000c[_0x405fda(0x474)]['length']===0x0)throw new Error(_0x405fda(0x974));const _0x59e670=_0x1c000c['questions']['map']((_0x183634,_0x4e5188)=>({..._0x183634,'id':'q_'+Date['now']()+'_'+_0x4e5188})),_0x511c43={'projectId':_0x44dc1d[_0x405fda(0x25d)],'quizType':_0x44dc1d[_0x405fda(0x907)],'settings':_0x44dc1d['settings'],'createdBy':_0x44dc1d[_0x405fda(0x62d)],'status':_0x405fda(0x4cd),'topic':_0x405fda(0x1f7)+_0x44dc1d[_0x405fda(0x2a9)],'questions':_0x59e670,'createdAt':new Date()[_0x405fda(0x120)](),'quizMode':'standard','pairedQuizId':null};let _0x2e44fd;while(!![]){_0x2e44fd=Math['floor'](0x3e8+Math[_0x405fda(0x5d5)]()*0x2328)['toString']();const _0x3ac9ca=await getDoc(doc(db,_0x405fda(0x71a)+appId+_0x405fda(0x91e),_0x2e44fd));if(!_0x3ac9ca[_0x405fda(0x75f)]())break;}await setDoc(doc(db,_0x405fda(0x71a)+appId+_0x405fda(0x91e),_0x2e44fd),_0x511c43),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x54b12c){console[_0x405fda(0x84a)]('Error\x20generating\x20easy\x20version\x20quiz:',_0x54b12c),showMessage(_0x405fda(0x7eb)+_0x54b12c[_0x405fda(0x3f9)]);}finally{const _0x3c2dd1=document[_0x405fda(0x5a3)]('temp-loader-results');_0x3c2dd1&&_0x3c2dd1[_0x405fda(0x3dd)](),_0x1eb72d[_0x405fda(0x24d)][_0x405fda(0x3dd)](_0x405fda(0x825));}}async function generatePracticeQuestions(_0x526c46){const _0x435d55=_0x27804f,_0x294f62='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x526c46+_0x435d55(0x414)+simpleMathPrompt+_0x435d55(0xcb),_0xc8a797={'type':_0x435d55(0x440),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x435d55(0x9a6),'items':{'type':_0x435d55(0x1fb)}},'correctAnswerIndex':{'type':_0x435d55(0x451)},'explanation':{'type':'STRING'}},'required':[_0x435d55(0x872),_0x435d55(0x86b),_0x435d55(0x150),'explanation']},_0x29bc17={'type':_0x435d55(0x440),'properties':{'topic':{'type':_0x435d55(0x1fb)},'questions':{'type':_0x435d55(0x9a6),'items':_0xc8a797}},'required':['topic',_0x435d55(0x474)]};return await callAnalysisApi(_0x294f62,_0x29bc17);}function displayLessonPlan(_0x51fe11,_0x491de2){const _0x5aa748=_0x27804f,_0x127416=_0x5aa748(0x200)+_0x491de2['topic']+_0x5aa748(0x334)+_0x51fe11[_0x5aa748(0x931)][_0x5aa748(0x6d7)](_0x57b1f9=>_0x5aa748(0x212)+_0x57b1f9+'</li>')[_0x5aa748(0x1cb)]('')+_0x5aa748(0x858)+_0x51fe11[_0x5aa748(0x667)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x51fe11[_0x5aa748(0xf3)][_0x5aa748(0x6d7)](_0x4c31ae=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x4c31ae['question']+_0x5aa748(0xe5)+_0x4c31ae['solution']+_0x5aa748(0x234))[_0x5aa748(0x1cb)]('')+_0x5aa748(0x643);document[_0x5aa748(0x5a3)]('lesson-plan-title')[_0x5aa748(0x84f)]=_0x5aa748(0x734)+_0x491de2['topic'],document[_0x5aa748(0x5a3)](_0x5aa748(0x1ff))[_0x5aa748(0x3e2)]=_0x127416,document[_0x5aa748(0x5a3)](_0x5aa748(0x16f))[_0x5aa748(0x24d)][_0x5aa748(0x3dd)](_0x5aa748(0x825));if(window[_0x5aa748(0x403)])MathJax[_0x5aa748(0x276)]();}function displaySkillPracticeDrill(_0x5bba00){const _0x201d09=_0x27804f;let _0x4a6857=0x0;const _0x4745ee=_0x5bba00[_0x201d09(0x474)],_0x1efeec=()=>{const _0x390dc6=_0x201d09,_0x463488=_0x4745ee[_0x4a6857],_0x1e8f43=_0x390dc6(0x6e7)+(_0x4a6857+0x1)+'\x20/\x20'+_0x4745ee['length']+_0x390dc6(0x4c0)+_0x463488[_0x390dc6(0x872)]+_0x390dc6(0x527)+_0x463488[_0x390dc6(0x86b)][_0x390dc6(0x6d7)]((_0x1e4417,_0x5477d5)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x5477d5+_0x390dc6(0x6c7)+_0x5477d5+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x5477d5+'\x22>'+_0x1e4417+_0x390dc6(0x54d))[_0x390dc6(0x1cb)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x390dc6(0x3e2)]=_0x1e8f43;if(window[_0x390dc6(0x403)])MathJax['typesetPromise']([studentQuizArea]);document[_0x390dc6(0x5a3)](_0x390dc6(0x9c6))[_0x390dc6(0x2ea)](_0x390dc6(0x189),async()=>{const _0x4121a8=_0x390dc6,_0x5319b8=await getHintForQuestion(_0x463488[_0x4121a8(0x872)]);showMessage(_0x5319b8);}),document['getElementById'](_0x390dc6(0x110))[_0x390dc6(0x2ea)](_0x390dc6(0x189),()=>{const _0x8127ff=_0x390dc6,_0x1bb8c1=document[_0x8127ff(0x62c)](_0x8127ff(0x860));if(!_0x1bb8c1){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x43ddb1=document[_0x8127ff(0x5a3)](_0x8127ff(0x497)),_0x57ac3a=parseInt(_0x1bb8c1['value'])===_0x463488[_0x8127ff(0x150)];_0x57ac3a?(_0x43ddb1['className']=_0x8127ff(0x326),_0x43ddb1['innerHTML']=_0x8127ff(0x521)+_0x463488[_0x8127ff(0x559)]):(_0x43ddb1[_0x8127ff(0x253)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x43ddb1['innerHTML']='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x463488[_0x8127ff(0x559)]);_0x43ddb1[_0x8127ff(0x24d)]['remove']('hidden');if(window[_0x8127ff(0x403)])MathJax[_0x8127ff(0x276)]([_0x43ddb1]);document[_0x8127ff(0x5a3)](_0x8127ff(0x110))[_0x8127ff(0x24d)]['add'](_0x8127ff(0x825)),document[_0x8127ff(0x5a3)](_0x8127ff(0x9c6))['classList'][_0x8127ff(0x162)]('hidden'),document[_0x8127ff(0x5a3)](_0x8127ff(0x8a7))[_0x8127ff(0x24d)][_0x8127ff(0x3dd)](_0x8127ff(0x825));}),document['getElementById'](_0x390dc6(0x8a7))[_0x390dc6(0x2ea)](_0x390dc6(0x189),()=>{const _0x2c4f21=_0x390dc6;_0x4a6857++,_0x4a6857<_0x4745ee[_0x2c4f21(0x2c9)]?_0x1efeec():(studentQuizArea[_0x2c4f21(0x3e2)]=_0x2c4f21(0x7d8),document[_0x2c4f21(0x5a3)](_0x2c4f21(0xc8))[_0x2c4f21(0x2ea)](_0x2c4f21(0x189),()=>{const _0x510a8c=_0x2c4f21;studentQuizArea[_0x510a8c(0x24d)][_0x510a8c(0x162)](_0x510a8c(0x825)),studentResultArea[_0x510a8c(0x24d)]['remove']('hidden');}));});};_0x1efeec();}async function getHintForQuestion(_0x45b5ff){const _0x19b195=_0x27804f,_0x5cb56a=_0x19b195(0x138)+_0x45b5ff+_0x19b195(0x36b),_0x1f4d2b={'type':_0x19b195(0x440),'properties':{'hint':{'type':'STRING'}},'required':[_0x19b195(0x45b)]};try{const _0x100859=await callAnalysisApi(_0x5cb56a,_0x1f4d2b);return _0x100859['hint'];}catch(_0x3c756b){return console[_0x19b195(0x84a)](_0x19b195(0x27d),_0x3c756b),_0x19b195(0x14c);}}async function extractTextFromPdf(_0x2aa1ac){const _0x4fa56e=_0x27804f;pdfjsLib['GlobalWorkerOptions'][_0x4fa56e(0x586)]=_0x4fa56e(0x77a);const _0x39ffd5=await _0x2aa1ac[_0x4fa56e(0x998)](),_0xe99ab5=await pdfjsLib['getDocument'](_0x39ffd5)[_0x4fa56e(0x10a)],_0x2a1ba1=_0xe99ab5[_0x4fa56e(0x133)];let _0x56cee5='';for(let _0x19f6fc=0x1;_0x19f6fc<=_0x2a1ba1;_0x19f6fc++){const _0x188e36=await _0xe99ab5[_0x4fa56e(0x965)](_0x19f6fc),_0x4e0b53=await _0x188e36[_0x4fa56e(0x55e)](),_0x76c670=_0x4e0b53[_0x4fa56e(0x9df)][_0x4fa56e(0x6d7)](_0x582082=>_0x582082[_0x4fa56e(0x6a6)])[_0x4fa56e(0x1cb)]('\x20');_0x56cee5+=_0x76c670+'\x0a\x0a';}return _0x56cee5;}async function handleGenerateFromBlueprint(){const _0x362f94=_0x27804f,_0x25f50b=document[_0x362f94(0x5a3)](_0x362f94(0x9bc)),_0x1a275f=document[_0x362f94(0x5a3)](_0x362f94(0x2bd)),_0x5992cd=_0x25f50b[_0x362f94(0x14b)][0x0],_0x512fd8=_0x1a275f['files'][_0x362f94(0x2c9)]>0x0?_0x1a275f[_0x362f94(0x14b)][0x0]:null;if(!_0x5992cd){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x32d548=document[_0x362f94(0x5a3)](_0x362f94(0x95c)),_0x599682=document[_0x362f94(0x5a3)](_0x362f94(0x4d8)),_0x281e98=document['getElementById'](_0x362f94(0x904)),_0x5b12b1=document[_0x362f94(0x5a3)](_0x362f94(0x23c));_0x5b12b1['disabled']=!![],document[_0x362f94(0x5a3)](_0x362f94(0x5a9))[_0x362f94(0x24d)][_0x362f94(0x3dd)](_0x362f94(0x825)),_0x281e98[_0x362f94(0x3e2)]='',_0x32d548[_0x362f94(0x24d)][_0x362f94(0x3dd)](_0x362f94(0x825));try{_0x599682['textContent']=_0x362f94(0x89e);const _0x57405d=await extractTextFromPdf(_0x5992cd);if(!_0x57405d[_0x362f94(0x79e)]())throw new Error(_0x362f94(0x3c3));let _0xf65758='';_0x512fd8&&(_0x599682[_0x362f94(0x84f)]=_0x362f94(0x41f),_0xf65758=await extractTextFromPdf(_0x512fd8));_0x599682[_0x362f94(0x84f)]=_0x362f94(0x949);const _0x57ba04=document[_0x362f94(0x5a3)]('include-images-checkbox')[_0x362f94(0x9b1)],_0x2e4360=_0x57ba04?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x50f70d=_0xf65758?_0x362f94(0x5f9)+_0xf65758+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0xf52623=_0x362f94(0x592)+(_0xf65758?_0x362f94(0x8da):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57405d+_0x362f94(0x476)+_0x50f70d+_0x362f94(0x7f4)+_0x2e4360+_0x362f94(0x8a6)+simpleMathPrompt+_0x362f94(0x269),_0x1a8ad2={'type':_0x362f94(0x440),'properties':{'questionText':{'type':_0x362f94(0x1fb)},'questionType':{'type':'STRING','enum':[_0x362f94(0x1c6),_0x362f94(0x511)]},'options':{'type':'ARRAY','items':{'type':_0x362f94(0x1fb)}},'correctAnswerIndex':{'type':_0x362f94(0x451)},'idealAnswer':{'type':_0x362f94(0x1fb)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x362f94(0x1fb)}},'required':[_0x362f94(0x872),'questionType','explanation']},_0x504524={'type':_0x362f94(0x440),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x362f94(0x9a6),'items':_0x1a8ad2}},'required':[_0x362f94(0x2a9),'questions']};await handleApiCall(_0xf52623,'กำลังสร้างแบบทดสอบจาก\x20Blueprint...',_0x504524);}catch(_0x5d0ccf){console[_0x362f94(0x84a)]('Error\x20generating\x20from\x20blueprint:',_0x5d0ccf),showMessage(_0x362f94(0x7eb)+_0x5d0ccf['message']),_0x281e98['innerHTML']=_0x362f94(0x646);}finally{_0x32d548[_0x362f94(0x24d)]['add'](_0x362f94(0x825)),_0x5b12b1[_0x362f94(0x190)]=![];}}function proceedToNextQuestion(_0x1a76ce){const _0x236a79=_0x27804f;studentAnswersPerQuestion[_0x236a79(0x523)](_0x1a76ce),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x236a79(0x474)][_0x236a79(0x2c9)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x365b05,_0x3a79d6){const _0x338f9e=_0x27804f,_0x58b41f=Object['values'](_0x365b05[_0x338f9e(0xbe)]||{}),_0x156b7f=_0x58b41f[_0x338f9e(0x2c9)],_0x4419d5=[..._0x58b41f]['sort']((_0x59f7d7,_0x559f65)=>_0x559f65[_0x338f9e(0x49c)]-_0x59f7d7['score']),_0x24f1ca=_0x365b05[_0x338f9e(0x814)];let _0x44906a='';const _0x500a72=_0x365b05[_0x338f9e(0x896)]['questions'],_0x539908=_0x500a72[_0x24f1ca],_0x29deb9=_0x4767d5=>String[_0x338f9e(0x58b)](0x41+_0x4767d5);let _0x5d0a2c='',_0x2c74ba='';if(_0x539908){const _0xce61c3=_0x539908['questionType']||_0x365b05[_0x338f9e(0x896)][_0x338f9e(0x907)];if(_0xce61c3===_0x338f9e(0x1c6)&&_0x539908[_0x338f9e(0x86b)]&&_0x539908[_0x338f9e(0x150)]!==undefined){const _0x93cb5c=_0x539908[_0x338f9e(0x150)];_0x5d0a2c=_0x539908[_0x338f9e(0x86b)][_0x93cb5c],_0x2c74ba=_0x29deb9(_0x93cb5c)+'.';}else{if(_0xce61c3===_0x338f9e(0x6d1)){const _0x483a8c=_0x539908[_0x338f9e(0x1e0)]===!![]||String(_0x539908['correctAnswer'])['toLowerCase']()===_0x338f9e(0x32b);_0x483a8c?(_0x5d0a2c=_0x338f9e(0x6da),_0x2c74ba='ก.'):(_0x5d0a2c=_0x338f9e(0x1be),_0x2c74ba='ข.');}else{if(_0xce61c3===_0x338f9e(0x3fd))_0x5d0a2c=_0x539908[_0x338f9e(0x8e5)]||'-',_0x2c74ba='';else _0xce61c3==='short_answer'&&(_0x5d0a2c=_0x539908[_0x338f9e(0x8a2)]||'-',_0x2c74ba='');}}}_0x5d0a2c&&(_0x44906a=_0x338f9e(0x1d9)+(_0x24f1ca+0x1)+_0x338f9e(0x4f2)+_0x2c74ba+'\x20'+_0x5d0a2c+_0x338f9e(0x64d));const _0x118ab9=_0x4419d5[_0x338f9e(0x6d7)](_0x1d2b84=>{const _0x54bb84=_0x338f9e;let _0x2a3408=![];if(_0x1d2b84[_0x54bb84(0xc4)]&&_0x24f1ca!==-0x1){const _0x2e9b3c=_0x1d2b84[_0x54bb84(0xc4)][_0x54bb84(0x894)](_0x46f146=>_0x46f146[_0x54bb84(0x5db)]===_0x24f1ca);_0x2e9b3c&&_0x2e9b3c[_0x54bb84(0x91a)]&&(_0x2a3408=!![]);}const _0x594f2f=_0x2a3408?_0x54bb84(0x6e1):'bg-black/20';return _0x54bb84(0x6e0)+_0x594f2f+_0x54bb84(0x2a8)+_0x1d2b84['name']+'</span><span\x20class=\x22font-bold\x22>'+_0x1d2b84[_0x54bb84(0x49c)]+_0x54bb84(0x273);})['join'](''),_0x15334e=_0x500a72[_0x338f9e(0x6d7)]((_0x17813c,_0x919e6c)=>{const _0x7a372=_0x338f9e,_0x3b81eb=_0x58b41f['filter'](_0x49357f=>_0x49357f[_0x7a372(0xc4)]&&_0x49357f[_0x7a372(0xc4)][_0x7a372(0x894)](_0x4b35cb=>_0x4b35cb['questionIndex']===_0x919e6c&&_0x4b35cb[_0x7a372(0x91a)]))[_0x7a372(0x2c9)],_0x198644=_0x919e6c===_0x24f1ca,_0x5cb3f7=_0x198644?_0x7a372(0x75d):_0x7a372(0x99a);return _0x7a372(0x545)+_0x5cb3f7+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x919e6c+0x1)+_0x7a372(0x1b1)+_0x3b81eb+_0x7a372(0x4c2)+_0x156b7f+_0x7a372(0x2cf);})[_0x338f9e(0x1cb)]('');let _0x4b91d4='',_0x96dce0='';if(_0x3a79d6){const _0x22f071=_0x365b05[_0x338f9e(0x814)]>=_0x500a72[_0x338f9e(0x2c9)]-0x1;_0x4b91d4=_0x338f9e(0x579)+(_0x22f071?'ดูผลสรุปสุดท้าย':'ข้อต่อไป')+_0x338f9e(0x85f),_0x96dce0=_0x338f9e(0x950);}const _0x3024ee=_0x338f9e(0x5ea)+_0x365b05[_0x338f9e(0x896)]['topic']+_0x338f9e(0x9d9)+_0x96dce0+_0x338f9e(0x99d)+_0x44906a+_0x338f9e(0x1ac)+(_0x118ab9||_0x338f9e(0x43d))+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x15334e+_0x338f9e(0x181)+(_0x3a79d6?_0x338f9e(0x5c0)+_0x4b91d4+_0x338f9e(0x8c4):'')+_0x338f9e(0x3ac);liveGameView[_0x338f9e(0x3e2)]=_0x3024ee;if(window[_0x338f9e(0x403)]){const _0x51cb89=document[_0x338f9e(0x5a3)]('main-correct-answer-display');_0x51cb89&&MathJax[_0x338f9e(0x276)]([_0x51cb89]);}if(_0x3a79d6){document['getElementById'](_0x338f9e(0x12d))[_0x338f9e(0x2e6)]=async()=>{const _0x14f1ff=_0x338f9e,_0x420345=doc(db,_0x14f1ff(0x71a)+appId+'/public/data/syncGames',currentLiveGameId),_0x428f55=_0x365b05[_0x14f1ff(0x814)]+0x1;if(_0x428f55<_0x500a72[_0x14f1ff(0x2c9)]){const _0x214153={};Object[_0x14f1ff(0x1a2)](_0x365b05[_0x14f1ff(0xbe)])[_0x14f1ff(0x7b1)](_0x1e7079=>{const _0x295d69=_0x14f1ff;_0x214153['players.'+_0x1e7079+_0x295d69(0x773)]=![],_0x214153[_0x295d69(0x6d5)+_0x1e7079+_0x295d69(0xf4)]=null;}),await updateDoc(_0x420345,{..._0x214153,'status':_0x14f1ff(0x6f2),'currentQuestionIndex':_0x428f55,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x420345,{'status':_0x14f1ff(0x2ab)});};const _0x2daed1=document[_0x338f9e(0x5a3)](_0x338f9e(0x971));_0x2daed1&&(_0x2daed1[_0x338f9e(0x2e6)]=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x1f4d32=_0x2015,_0x3b7ed3=doc(db,'artifacts/'+appId+_0x1f4d32(0x108),currentLiveGameId);await updateDoc(_0x3b7ed3,{'status':_0x1f4d32(0x2ab)});});});}}async function handleGenerateParallelFromBank(_0x1ceaa6){const _0x571cc6=_0x27804f,_0x3932de=document[_0x571cc6(0x5a3)](_0x571cc6(0x500)),_0x3d950d=document['getElementById'](_0x571cc6(0x5ef));_0x3d950d[_0x571cc6(0x24d)]['add']('hidden');const _0x3ba3a7=_0x571cc6(0x51a)+_0x1ceaa6[_0x571cc6(0x2a9)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x3932de[_0x571cc6(0x1d6)](_0x571cc6(0x78f),_0x3ba3a7);const _0x534de9=document[_0x571cc6(0x5a3)](_0x571cc6(0x2df));try{const _0x3fca92=_0x1ceaa6['questions'][_0x571cc6(0x6d7)]((_0x4298b2,_0x237898)=>{const _0x477495=_0x571cc6;let _0x8dc845=_0x237898+0x1+'.\x20'+(_0x4298b2['questionText']||_0x4298b2[_0x477495(0x956)])+'\x0a';if(_0x4298b2[_0x477495(0x86b)])_0x8dc845+=_0x4298b2[_0x477495(0x86b)][_0x477495(0x6d7)]((_0x319be9,_0xeda57d)=>_0x477495(0x164)+(_0xeda57d===_0x4298b2[_0x477495(0x150)]?'[*]':'')+'\x20'+_0x319be9)['join']('\x0a');else _0x4298b2[_0x477495(0x8a2)]&&(_0x8dc845+=_0x477495(0x8fb)+_0x4298b2[_0x477495(0x8a2)]);return _0x8dc845;})['join']('\x0a\x0a');_0x534de9[_0x571cc6(0x84f)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x1310e4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x1ceaa6[_0x571cc6(0x2a9)]+_0x571cc6(0x7d6)+_0x3fca92+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x17be4e={'type':_0x571cc6(0x440),'properties':{'questionText':{'type':_0x571cc6(0x1fb)},'questionType':{'type':'STRING','enum':[_0x571cc6(0x1c6),_0x571cc6(0x511),_0x571cc6(0x6d1),'matching_item']},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x571cc6(0x451)},'idealAnswer':{'type':_0x571cc6(0x1fb)},'correctAnswer':{'type':_0x571cc6(0x919)},'stem':{'type':_0x571cc6(0x1fb)},'correctResponse':{'type':_0x571cc6(0x1fb)},'allResponses':{'type':_0x571cc6(0x9a6),'items':{'type':_0x571cc6(0x1fb)}},'explanation':{'type':_0x571cc6(0x1fb)},'imageCode':{'type':_0x571cc6(0x1fb)}},'required':['questionType','explanation']},_0x541982={'type':_0x571cc6(0x440),'properties':{'topic':{'type':_0x571cc6(0x1fb)},'questions':{'type':_0x571cc6(0x9a6),'items':_0x17be4e}},'required':[_0x571cc6(0x2a9),_0x571cc6(0x474)]},_0x262c4a=await callAnalysisApi(_0x1310e4,_0x541982),_0x732bfb=_0x262c4a[_0x571cc6(0x474)][_0x571cc6(0x6d7)]((_0x319eaa,_0x218caa)=>({..._0x319eaa,'id':'q_'+Date[_0x571cc6(0x4b2)]()+'_'+_0x218caa})),_0x32992d=_0x571cc6(0x225)+_0x1ceaa6[_0x571cc6(0x2a9)],_0x323556={'topic':_0x32992d,'questions':_0x732bfb,'quizType':_0x1ceaa6[_0x571cc6(0x907)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x571cc6(0x4cd),'settings':_0x1ceaa6[_0x571cc6(0x6a4)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x6767a8;while(!![]){_0x6767a8=Math[_0x571cc6(0x5f1)](0x3e8+Math[_0x571cc6(0x5d5)]()*0x2328)['toString']();const _0x3e4641=await getDoc(doc(db,'artifacts/'+appId+_0x571cc6(0x91e),_0x6767a8));if(!_0x3e4641[_0x571cc6(0x75f)]())break;}await setDoc(doc(db,_0x571cc6(0x71a)+appId+'/public/data/quizzes',_0x6767a8),_0x323556),showMessage(_0x571cc6(0xe8));}catch(_0x2a0cdc){console[_0x571cc6(0x84a)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x2a0cdc),showMessage(_0x571cc6(0x7eb)+_0x2a0cdc[_0x571cc6(0x3f9)]);}finally{const _0x244559=document[_0x571cc6(0x5a3)]('temp-loader-results');_0x244559&&_0x244559[_0x571cc6(0x3dd)](),_0x3d950d[_0x571cc6(0x24d)][_0x571cc6(0x3dd)](_0x571cc6(0x825));}}async function handleGenerateParallelPostTest(_0x407caa){const _0x2ccbd8=_0x27804f,_0x5c0bf6=document[_0x2ccbd8(0x5a3)](_0x2ccbd8(0x500)),_0x542dfb=document[_0x2ccbd8(0x5a3)]('project-quizzes-list');_0x542dfb['classList'][_0x2ccbd8(0x162)](_0x2ccbd8(0x825));const _0x2c78d7=_0x2ccbd8(0x926);_0x5c0bf6[_0x2ccbd8(0x1d6)](_0x2ccbd8(0x78f),_0x2c78d7);try{const _0x5d7599=_0x407caa[_0x2ccbd8(0x474)][_0x2ccbd8(0x6d7)]((_0xc2af1,_0x574dc2)=>{const _0x46eece=_0x2ccbd8;let _0x5d87bf=_0x574dc2+0x1+'.\x20'+(_0xc2af1[_0x46eece(0x872)]||_0xc2af1[_0x46eece(0x956)]);if(_0xc2af1['options'])_0x5d87bf+=_0x46eece(0x530)+_0xc2af1[_0x46eece(0x86b)][_0x46eece(0x1cb)](',\x20');return _0x5d87bf;})[_0x2ccbd8(0x1cb)]('\x0a\x0a'),_0x3d7287=_0x2ccbd8(0x90b)+_0x407caa[_0x2ccbd8(0x2a9)]+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d7599+_0x2ccbd8(0x5ba)+simpleMathPrompt+_0x2ccbd8(0x269),_0x2a9487={'type':_0x2ccbd8(0x440),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2ccbd8(0x9a6),'items':{'type':_0x2ccbd8(0x440),'properties':{'questionText':{'type':_0x2ccbd8(0x1fb)},'questionType':{'type':'STRING'},'options':{'type':_0x2ccbd8(0x9a6),'items':{'type':_0x2ccbd8(0x1fb)}},'correctAnswerIndex':{'type':_0x2ccbd8(0x451)},'idealAnswer':{'type':_0x2ccbd8(0x1fb)},'explanation':{'type':_0x2ccbd8(0x1fb)}},'required':[_0x2ccbd8(0x872),_0x2ccbd8(0x559)]}}},'required':[_0x2ccbd8(0x2a9),_0x2ccbd8(0x474)]},_0x789d18=await callAnalysisApi(_0x3d7287,_0x2a9487),_0x3febee=_0x407caa[_0x2ccbd8(0x2a9)][_0x2ccbd8(0x27f)]('(ก่อนเรียน)','')[_0x2ccbd8(0x79e)](),_0x4fa5ca=_0x2ccbd8(0x501)+_0x3febee,_0x18995a={..._0x789d18,'topic':_0x4fa5ca,'quizType':_0x407caa[_0x2ccbd8(0x907)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x2ccbd8(0x4cd),'settings':_0x407caa[_0x2ccbd8(0x6a4)],'quizMode':'post-test','pairedQuizId':_0x407caa['id']};let _0x101e6d;while(!![]){_0x101e6d=Math[_0x2ccbd8(0x5f1)](0x3e8+Math[_0x2ccbd8(0x5d5)]()*0x2328)[_0x2ccbd8(0x791)]();const _0x3d03d4=await getDoc(doc(db,'artifacts/'+appId+_0x2ccbd8(0x91e),_0x101e6d));if(!_0x3d03d4[_0x2ccbd8(0x75f)]())break;}await setDoc(doc(db,_0x2ccbd8(0x71a)+appId+_0x2ccbd8(0x91e),_0x101e6d),_0x18995a);const _0xd96476=doc(db,'artifacts/'+appId+_0x2ccbd8(0x91e),_0x407caa['id']);await updateDoc(_0xd96476,{'pairedQuizId':_0x101e6d}),showMessage(_0x2ccbd8(0x241));}catch(_0x30970a){console[_0x2ccbd8(0x84a)]('Error\x20generating\x20parallel\x20post-test:',_0x30970a),showMessage('เกิดข้อผิดพลาด:\x20'+_0x30970a[_0x2ccbd8(0x3f9)]);}finally{const _0x1aa376=document[_0x2ccbd8(0x5a3)](_0x2ccbd8(0x84c));if(_0x1aa376)_0x1aa376['remove']();_0x542dfb[_0x2ccbd8(0x24d)][_0x2ccbd8(0x3dd)](_0x2ccbd8(0x825));}}async function handleGenerateParallelTest(){const _0x5b1a69=_0x27804f,_0x1435cb=document[_0x5b1a69(0x5a3)](_0x5b1a69(0x60c)),_0x1d819f=_0x1435cb[_0x5b1a69(0x14b)][0x0];if(!_0x1d819f){showMessage(_0x5b1a69(0x455));return;}const _0x3d8b1c=document[_0x5b1a69(0x5a3)](_0x5b1a69(0x95c)),_0x4ad487=document['getElementById']('loader-text'),_0x3b0eec=document['getElementById'](_0x5b1a69(0x904)),_0xd31a14=document[_0x5b1a69(0x5a3)](_0x5b1a69(0x913));_0xd31a14[_0x5b1a69(0x190)]=!![],document[_0x5b1a69(0x5a3)](_0x5b1a69(0x5a9))[_0x5b1a69(0x24d)][_0x5b1a69(0x3dd)](_0x5b1a69(0x825)),_0x3b0eec[_0x5b1a69(0x3e2)]='',_0x3d8b1c[_0x5b1a69(0x24d)][_0x5b1a69(0x3dd)](_0x5b1a69(0x825)),_0x4ad487[_0x5b1a69(0x84f)]='กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...';try{const _0x2f26c6=await extractTextFromPdf(_0x1d819f);if(!_0x2f26c6['trim']())throw new Error(_0x5b1a69(0x163));_0x4ad487[_0x5b1a69(0x84f)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x38beb2=document[_0x5b1a69(0x5a3)](_0x5b1a69(0x782))[_0x5b1a69(0x9b1)],_0x2b601f=_0x38beb2?_0x5b1a69(0x826):'',_0x47a136='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f26c6+_0x5b1a69(0x22e)+_0x2b601f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x229348={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x5b1a69(0x1fb),'enum':[_0x5b1a69(0x1c6),_0x5b1a69(0x511)]},'options':{'type':'ARRAY','items':{'type':_0x5b1a69(0x1fb)}},'correctAnswerIndex':{'type':_0x5b1a69(0x451)},'idealAnswer':{'type':_0x5b1a69(0x1fb)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x5b1a69(0x872),'questionType',_0x5b1a69(0x559)]},_0x8acecf={'type':_0x5b1a69(0x440),'properties':{'topic':{'type':_0x5b1a69(0x1fb)},'questions':{'type':_0x5b1a69(0x9a6),'items':_0x229348}},'required':[_0x5b1a69(0x2a9),_0x5b1a69(0x474)]};await handleApiCall(_0x47a136,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x8acecf);}catch(_0x186df6){console['error'](_0x5b1a69(0x2f4),_0x186df6),showMessage(_0x5b1a69(0x7eb)+_0x186df6[_0x5b1a69(0x3f9)]),_0x3b0eec[_0x5b1a69(0x3e2)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x3d8b1c[_0x5b1a69(0x24d)][_0x5b1a69(0x162)](_0x5b1a69(0x825)),_0xd31a14[_0x5b1a69(0x190)]=![];}}async function handleRegenerateQuestionInEditor(_0x4e3bc9){const _0x3f4a44=_0x27804f;if(currentEditingQuizData===null)return;const _0x2ac9c9=document['querySelector'](_0x3f4a44(0x142)+_0x4e3bc9+'\x22]');_0x2ac9c9&&(_0x2ac9c9[_0x3f4a44(0x3e2)]=_0x3f4a44(0x4f5));const _0x3787cf=currentEditingQuizData[_0x3f4a44(0x474)][_0x4e3bc9],_0x403ffc=currentEditingQuizData[_0x3f4a44(0x2a9)],_0x498a18=_0x3787cf[_0x3f4a44(0x891)],_0x45b6fd={'type':_0x3f4a44(0x440),'properties':{'questionText':{'type':_0x3f4a44(0x1fb)},'options':{'type':'ARRAY','items':{'type':_0x3f4a44(0x1fb)}},'correctAnswerIndex':{'type':_0x3f4a44(0x451)},'explanation':{'type':_0x3f4a44(0x1fb)}},'required':['questionText',_0x3f4a44(0x86b),_0x3f4a44(0x150),_0x3f4a44(0x559)]},_0x4823da={'type':_0x3f4a44(0x440),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x3f4a44(0x1fb)},'explanation':{'type':_0x3f4a44(0x1fb)}},'required':['questionText',_0x3f4a44(0x8a2),_0x3f4a44(0x559)]};let _0x448881,_0x4a1e4a='';_0x498a18==='multiple_choice'?(_0x448881=_0x45b6fd,_0x4a1e4a=_0x3f4a44(0x39a)):(_0x448881=_0x4823da,_0x4a1e4a=_0x3f4a44(0x7b3));const _0x8127ab=_0x3f4a44(0x471)+_0x403ffc+_0x3f4a44(0x4ea)+_0x4a1e4a+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x3787cf[_0x3f4a44(0x872)]||_0x3787cf[_0x3f4a44(0x956)])+_0x3f4a44(0x6bc)+simpleMathPrompt;try{const _0x1f2345=await callAnalysisApi(_0x8127ab,_0x448881);currentEditingQuizData['questions'][_0x4e3bc9]={..._0x3787cf,..._0x1f2345},renderQuizEditor(currentEditingQuizData);}catch(_0xbf5965){console['error'](_0x3f4a44(0x5dd),_0xbf5965),showMessage(_0x3f4a44(0x481)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x27357b=_0x27804f,_0x5e68d4=document[_0x27357b(0x5a3)]('mode-switcher-btn');currentMode===_0x27357b(0x2c2)?(adminPasswordModal[_0x27357b(0x24d)][_0x27357b(0x3dd)](_0x27357b(0x825)),document[_0x27357b(0x5a3)]('admin-password-input')['focus']()):(currentMode=_0x27357b(0x2c2),_0x5e68d4[_0x27357b(0x3e2)]=_0x27357b(0x65b),_0x5e68d4[_0x27357b(0x484)]=_0x27357b(0x408),showView(_0x27357b(0x2c2)));}function handleAdminLogin(){const _0x1ca10b=_0x27804f,_0x11ba2c=document['getElementById'](_0x1ca10b(0x107)),_0xd656c0=document[_0x1ca10b(0x5a3)]('password-error-msg');if(_0x11ba2c['value']===_0x1ca10b(0x86e)){adminPasswordModal['classList'][_0x1ca10b(0x162)]('hidden'),_0x11ba2c[_0x1ca10b(0x50c)]='',_0xd656c0[_0x1ca10b(0x24d)][_0x1ca10b(0x162)](_0x1ca10b(0x825)),currentMode=_0x1ca10b(0x43a);const _0x51e02a=document[_0x1ca10b(0x5a3)](_0x1ca10b(0x5ee));_0x51e02a[_0x1ca10b(0x3e2)]=_0x1ca10b(0x3a7),_0x51e02a[_0x1ca10b(0x484)]=_0x1ca10b(0x8a9),showView('admin-dashboard');}else _0xd656c0['classList']['remove'](_0x1ca10b(0x825)),_0x11ba2c[_0x1ca10b(0x50c)]='';}function switchProjectTab(_0x585d93){const _0x513bf7=_0x27804f;[_0x513bf7(0x2ed),'results',_0x513bf7(0x450)][_0x513bf7(0x7b1)](_0x1dd7c7=>{const _0x46788f=_0x513bf7;document[_0x46788f(0x5a3)](_0x1dd7c7+_0x46788f(0x433))['classList'][_0x46788f(0x3dd)](_0x46788f(0x4cd)),document['getElementById'](_0x1dd7c7+'-tab-content')[_0x46788f(0x24d)][_0x46788f(0x162)](_0x46788f(0x825));}),document[_0x513bf7(0x5a3)](_0x585d93+_0x513bf7(0x433))['classList']['add'](_0x513bf7(0x4cd)),document[_0x513bf7(0x5a3)](_0x585d93+_0x513bf7(0x573))[_0x513bf7(0x24d)][_0x513bf7(0x3dd)]('hidden');}function switchQuizDetailTab(_0x8aafa7){const _0x1ac383=_0x27804f,_0x58eb4f={'analytics':{'btn':_0x1ac383(0x420),'content':'analytics-tab-content'},'scores':{'btn':'scores-tab-btn','content':_0x1ac383(0x287)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x1ac383(0x35e)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0x1ac383(0x8aa)}};for(const _0x309d8b in _0x58eb4f){document[_0x1ac383(0x5a3)](_0x58eb4f[_0x309d8b]['btn'])[_0x1ac383(0x24d)][_0x1ac383(0x3dd)](_0x1ac383(0x4cd)),document[_0x1ac383(0x5a3)](_0x58eb4f[_0x309d8b][_0x1ac383(0x710)])['classList']['add']('hidden');}document[_0x1ac383(0x5a3)](_0x58eb4f[_0x8aafa7][_0x1ac383(0x292)])[_0x1ac383(0x24d)][_0x1ac383(0x162)](_0x1ac383(0x4cd)),document['getElementById'](_0x58eb4f[_0x8aafa7][_0x1ac383(0x710)])[_0x1ac383(0x24d)][_0x1ac383(0x3dd)](_0x1ac383(0x825));}function showMessage(_0xffc845,_0x3a5a46=null){const _0x442aa1=_0x27804f;modalMessage[_0x442aa1(0x84f)]=_0xffc845,modalConfirmAction=_0x3a5a46,messageModal[_0x442aa1(0x24d)][_0x442aa1(0x3dd)](_0x442aa1(0x825));}function showConfirmation(_0x2829d8,_0x5e4942){const _0x390e84=_0x27804f;document[_0x390e84(0x5a3)](_0x390e84(0x4a4))[_0x390e84(0x84f)]=_0x2829d8,document[_0x390e84(0x5a3)](_0x390e84(0x3d1))[_0x390e84(0x62c)]('h3')['textContent']=_0x390e84(0x90c),confirmAction=_0x5e4942,confirmationModal[_0x390e84(0x24d)]['remove'](_0x390e84(0x825));}function listenForProjects(){const _0x21ce00=_0x27804f,_0x2f9c57=doc(db,'globalSettings',_0x21ce00(0x938));onSnapshot(_0x2f9c57,_0x4b806c=>{const _0x375cf3=_0x21ce00;if(_0x4b806c[_0x375cf3(0x75f)]()){const _0x3d55c2=_0x4b806c[_0x375cf3(0x724)]();globalDashboardSettings[_0x375cf3(0x8f2)]=_0x3d55c2[_0x375cf3(0x8f2)]||_0x375cf3(0x354),globalDashboardSettings[_0x375cf3(0x18a)]=_0x3d55c2[_0x375cf3(0x18a)]||[],globalDashboardSettings[_0x375cf3(0x7f0)]=_0x3d55c2[_0x375cf3(0x7f0)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x154757=collection(db,_0x21ce00(0x71a)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x154757,_0x28380e=>{const _0x28e96a=_0x21ce00;allProjects=_0x28380e[_0x28e96a(0x16e)]['map'](_0x57f9a9=>({'id':_0x57f9a9['id'],..._0x57f9a9['data']()})),renderProjects();},_0x4e0334=>{const _0x1906fa=_0x21ce00;console[_0x1906fa(0x84a)](_0x1906fa(0x805),_0x4e0334),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x100b8d,_0x1efad9){const _0x4900a4=_0x27804f;document[_0x4900a4(0x7c7)](_0x4900a4(0x76b))[_0x4900a4(0x7b1)](_0x3b1ecd=>_0x3b1ecd[_0x4900a4(0x3dd)]());const _0x2760da=[_0x4900a4(0x9d1),_0x4900a4(0x109),'#FEF3C7',_0x4900a4(0x75e),_0x4900a4(0x3cc),_0x4900a4(0x9e5),_0x4900a4(0x77b),_0x4900a4(0x657),_0x4900a4(0x838)],_0x51cfb7=document[_0x4900a4(0x291)](_0x4900a4(0x698));_0x51cfb7[_0x4900a4(0x253)]=_0x4900a4(0x42a),_0x2760da[_0x4900a4(0x7b1)](_0x4f681b=>{const _0xb7bc63=_0x4900a4,_0xb91a3b=document['createElement'](_0xb7bc63(0x698));_0xb91a3b['className']=_0xb7bc63(0x808),_0xb91a3b['style'][_0xb7bc63(0x8d7)]=_0x4f681b,_0xb91a3b[_0xb7bc63(0x2ea)]('click',()=>{handleProjectColorChange(_0x1efad9,_0x4f681b),_0x51cfb7['remove']();}),_0x51cfb7[_0xb7bc63(0x2ac)](_0xb91a3b);}),document[_0x4900a4(0x843)]['appendChild'](_0x51cfb7);const _0xd1b7b=_0x100b8d[_0x4900a4(0x641)]();_0x51cfb7['style'][_0x4900a4(0x6eb)]=_0xd1b7b[_0x4900a4(0x83f)]+window[_0x4900a4(0x6fe)]+'px',_0x51cfb7['style']['left']=_0xd1b7b[_0x4900a4(0x58d)]+window['scrollX']-_0x51cfb7[_0x4900a4(0x749)]/0x2+'px';}async function handleProjectColorChange(_0x135c83,_0x1d8590){const _0x1f1388=_0x27804f,_0x388f5e=doc(db,'artifacts/'+appId+_0x1f1388(0x78a),_0x135c83);try{await updateDoc(_0x388f5e,{'color':_0x1d8590});}catch(_0x144570){console[_0x1f1388(0x84a)]('Error\x20updating\x20project\x20color:',_0x144570),showMessage(_0x1f1388(0x675));}}async function renderProjects(){const _0x2d8b80=_0x27804f,_0x2a0ab1=globalDashboardSettings[_0x2d8b80(0x8f2)]||_0x2d8b80(0x354),_0x54b97e=new Set(globalDashboardSettings[_0x2d8b80(0x18a)]||[]),_0x1ba00e=globalDashboardSettings[_0x2d8b80(0x493)]||'grid',_0x19c94e=document[_0x2d8b80(0x5a3)](_0x2d8b80(0x9d3)),_0xbd9f2=document[_0x2d8b80(0x5a3)]('list-view-btn');_0x19c94e[_0x2d8b80(0x24d)][_0x2d8b80(0x72e)](_0x2d8b80(0x4cd),_0x1ba00e===_0x2d8b80(0xdb)),_0xbd9f2[_0x2d8b80(0x24d)][_0x2d8b80(0x72e)](_0x2d8b80(0x4cd),_0x1ba00e==='list'),document[_0x2d8b80(0x5a3)](_0x2d8b80(0xd2))[_0x2d8b80(0x50c)]=_0x2a0ab1;const _0x502502=document['getElementById']('project-search-input')[_0x2d8b80(0x50c)]['toLowerCase']();let _0x3f8ec3=allProjects['filter'](_0x1b1ddb=>_0x1b1ddb[_0x2d8b80(0xfc)]['toLowerCase']()['includes'](_0x502502));const _0x30bb94=_0x3f8ec3[_0x2d8b80(0x3bf)](_0x3ed6f6=>_0x54b97e[_0x2d8b80(0x4d7)](_0x3ed6f6['id'])),_0x36099d=_0x3f8ec3['filter'](_0x4866f5=>!_0x54b97e[_0x2d8b80(0x4d7)](_0x4866f5['id'])),_0x52a244=(_0x208c71,_0x39b283)=>{const _0x3772b4=_0x2d8b80;switch(_0x2a0ab1){case _0x3772b4(0x387):return _0x208c71[_0x3772b4(0xfc)][_0x3772b4(0x66d)](_0x39b283[_0x3772b4(0xfc)],'th');case _0x3772b4(0x4ec):return _0x39b283[_0x3772b4(0xfc)]['localeCompare'](_0x208c71[_0x3772b4(0xfc)],'th');case _0x3772b4(0x93e):return new Date(_0x208c71[_0x3772b4(0x7fa)])-new Date(_0x39b283[_0x3772b4(0x7fa)]);default:return new Date(_0x39b283['createdAt'])-new Date(_0x208c71[_0x3772b4(0x7fa)]);}};_0x30bb94[_0x2d8b80(0x1e4)](_0x52a244),_0x36099d[_0x2d8b80(0x1e4)](_0x52a244);const _0x3ca8a3=[..._0x30bb94,..._0x36099d],_0x16e08e=globalDashboardSettings[_0x2d8b80(0x7f0)]||[];_0x16e08e[_0x2d8b80(0x2c9)]>0x0&&_0x1ba00e===_0x2d8b80(0xdb)&&_0x3ca8a3[_0x2d8b80(0x1e4)]((_0x315f66,_0x3437b1)=>{const _0xd11aac=_0x2d8b80,_0x237c96=_0x16e08e[_0xd11aac(0x112)](_0x315f66['id']),_0x728144=_0x16e08e[_0xd11aac(0x112)](_0x3437b1['id']);if(_0x237c96===-0x1)return 0x1;if(_0x728144===-0x1)return-0x1;return _0x237c96-_0x728144;});const _0x42d1ba={};await Promise[_0x2d8b80(0x504)](_0x3ca8a3[_0x2d8b80(0x6d7)](async _0x11e1c9=>{const _0xf9a79f=_0x2d8b80,_0x211309=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where(_0xf9a79f(0x25d),'==',_0x11e1c9['id'])),_0x19f95e=await getDocs(_0x211309);_0x42d1ba[_0x11e1c9['id']]=_0x19f95e[_0xf9a79f(0x94f)];}));const _0x549370=document[_0x2d8b80(0x5a3)](_0x2d8b80(0x996));let _0x57d009='';if(_0x1ba00e===_0x2d8b80(0xdb)){_0x549370[_0x2d8b80(0x253)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x2d8b80(0x2c9)]>0x0&&_0x502502===''){const _0x3e7204=starredQuizzes['map'](_0x10e08b=>{const _0x339a82=_0x2d8b80,_0x5f3569=allProjects['find'](_0x2ad26a=>_0x2ad26a['id']===_0x10e08b[_0x339a82(0x25d)]);return{..._0x10e08b,'projectName':_0x5f3569?_0x5f3569[_0x339a82(0xfc)]:_0x339a82(0x70e)};});_0x57d009+=_0x2d8b80(0x417)+_0x3e7204[_0x2d8b80(0x6d7)](_0x19f0b1=>_0x2d8b80(0x15f)+_0x19f0b1[_0x2d8b80(0x2a9)]+'\x22>'+_0x19f0b1[_0x2d8b80(0x2a9)]+_0x2d8b80(0x8bf)+_0x19f0b1[_0x2d8b80(0xfc)]+_0x2d8b80(0x425)+_0x19f0b1['projectName']+_0x2d8b80(0x4f0))['join']('')+_0x2d8b80(0x7aa)+starredQuizzes[_0x2d8b80(0x2c9)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x3ca8a3['forEach'](_0x557a0d=>{const _0x68c3a1=_0x2d8b80,_0x3040fc=_0x42d1ba[_0x557a0d['id']]??0x0,_0x107fec=_0x54b97e['has'](_0x557a0d['id']),_0x37b6e8=_0x557a0d['color']||_0x68c3a1(0x9d1),_0x121cab=parseInt(_0x37b6e8[_0x68c3a1(0x395)](0x1,0x3),0x10)*0.299+parseInt(_0x37b6e8[_0x68c3a1(0x395)](0x3,0x5),0x10)*0.587+parseInt(_0x37b6e8[_0x68c3a1(0x395)](0x5,0x7),0x10)*0.114<0xba,_0x4ad430=_0x121cab?_0x68c3a1(0x3e7):_0x68c3a1(0xa01),_0x584c0c=_0x121cab?_0x68c3a1(0x864):_0x68c3a1(0x47e);_0x57d009+=_0x68c3a1(0x258)+(_0x107fec?_0x68c3a1(0x5cb):_0x68c3a1(0x6a3))+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x37b6e8+_0x68c3a1(0x953)+_0x557a0d['id']+_0x68c3a1(0x170)+_0x557a0d['id']+_0x68c3a1(0x1df)+(_0x121cab?_0x68c3a1(0x85c):_0x68c3a1(0x7c1))+_0x68c3a1(0x266)+_0x557a0d['id']+_0x68c3a1(0x14a)+(_0x121cab?_0x68c3a1(0x85c):_0x68c3a1(0x7c1))+_0x68c3a1(0x24c)+(_0x107fec?_0x121cab?_0x68c3a1(0x22d):_0x68c3a1(0x331):'')+_0x68c3a1(0x2e8)+_0x557a0d['id']+_0x68c3a1(0x2b5)+_0x4ad430+_0x68c3a1(0x33b)+_0x557a0d[_0x68c3a1(0xfc)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x584c0c+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x557a0d['createdAt'])[_0x68c3a1(0xd7)]('th-TH')+_0x68c3a1(0x4bc)+(_0x121cab?_0x68c3a1(0x8a8):_0x68c3a1(0x158))+_0x68c3a1(0x4d1)+_0x3040fc+_0x68c3a1(0x614)+_0x557a0d['id']+_0x68c3a1(0x106)+_0x557a0d['projectName']+_0x68c3a1(0xeb)+(_0x121cab?_0x68c3a1(0x9f4):_0x68c3a1(0x82e))+_0x68c3a1(0x4c8);});}else _0x549370[_0x2d8b80(0x253)]=_0x2d8b80(0x740),starredQuizzes[_0x2d8b80(0x2c9)]>0x0&&_0x502502===''&&(_0x57d009+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes['length']+_0x2d8b80(0x8e0)),_0x57d009+=_0x2d8b80(0x346),_0x3ca8a3[_0x2d8b80(0x7b1)](_0x303597=>{const _0xa9d3aa=_0x2d8b80,_0xdc754a=_0x42d1ba[_0x303597['id']]??0x0,_0x33244b=_0x54b97e[_0xa9d3aa(0x4d7)](_0x303597['id']);_0x57d009+=_0xa9d3aa(0x515)+(_0x303597[_0xa9d3aa(0x58c)]||_0xa9d3aa(0x838))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x303597['id']+_0xa9d3aa(0x535)+_0x303597[_0xa9d3aa(0xfc)]+_0xa9d3aa(0x257)+_0xdc754a+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x303597[_0xa9d3aa(0x7fa)])['toLocaleString']('th-TH')+_0xa9d3aa(0x72c)+_0x303597['id']+_0xa9d3aa(0x174)+(_0x33244b?_0xa9d3aa(0x331):'')+_0xa9d3aa(0x7ca)+_0x303597['id']+_0xa9d3aa(0x106)+_0x303597[_0xa9d3aa(0xfc)]+_0xa9d3aa(0x5a4);});projectList[_0x2d8b80(0x3e2)]=_0x57d009,noProjectsMsg['classList'][_0x2d8b80(0x72e)]('hidden',_0x57d009[_0x2d8b80(0x2c9)]>0x0);}document['getElementById'](_0x27804f(0x75b))['addEventListener']('click',async()=>{const _0x1b96d4=_0x27804f,_0xe0e99e=document[_0x1b96d4(0x5a3)](_0x1b96d4(0x248)),_0x2f1c6a=_0xe0e99e[_0x1b96d4(0x50c)][_0x1b96d4(0x79e)]();if(!_0x2f1c6a){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x178065=doc(collection(db,_0x1b96d4(0x71a)+appId+_0x1b96d4(0x78a)));await setDoc(_0x178065,{'projectName':_0x2f1c6a,'students':[],'settings':{'resultsDisplay':_0x1b96d4(0x693),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x1b96d4(0x13d),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x1b96d4(0x120)]()}),_0xe0e99e[_0x1b96d4(0x50c)]='',createProjectModal[_0x1b96d4(0x24d)][_0x1b96d4(0x162)](_0x1b96d4(0x825)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x35e997){console[_0x1b96d4(0x84a)](_0x1b96d4(0x9db),_0x35e997),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x27804f(0x2ea)](_0x27804f(0x189),async _0x850e6=>{const _0x458c86=_0x27804f,_0x5db323=_0x850e6[_0x458c86(0x680)][_0x458c86(0x35a)](_0x458c86(0x6bb)),_0x3a9dbb=_0x850e6[_0x458c86(0x680)][_0x458c86(0x35a)]('.delete-project-btn'),_0x1b6a2a=_0x850e6[_0x458c86(0x680)][_0x458c86(0x35a)]('.pin-project-btn'),_0x2a64d6=_0x850e6[_0x458c86(0x680)][_0x458c86(0x35a)](_0x458c86(0x47a));if(_0x1b6a2a){const _0x367498=_0x1b6a2a[_0x458c86(0x4b7)]['id'],_0x453818=doc(db,_0x458c86(0x9f6),_0x458c86(0x938)),_0x30dfbd=globalDashboardSettings[_0x458c86(0x18a)];let _0x4bbc6b;_0x30dfbd[_0x458c86(0x885)](_0x367498)?_0x4bbc6b=_0x30dfbd[_0x458c86(0x3bf)](_0x51135c=>_0x51135c!==_0x367498):_0x4bbc6b=[..._0x30dfbd,_0x367498];try{await setDoc(_0x453818,{'pinnedProjects':_0x4bbc6b},{'merge':!![]});}catch(_0x2021b4){console['error'](_0x458c86(0x2bb),_0x2021b4),showMessage(_0x458c86(0x421));}}else{if(_0x2a64d6){const _0x345742=_0x2a64d6[_0x458c86(0x4b7)]['id'];showColorPalette(_0x2a64d6,_0x345742);}else{if(_0x5db323){const _0x51fd34=_0x5db323[_0x458c86(0x4b7)]['id'];_0x51fd34===_0x458c86(0x606)?showStarredProjectView():(currentProjectId=_0x51fd34,await loadProjectDetails(currentProjectId),showView(_0x458c86(0x6f6)));}else{if(_0x3a9dbb){const _0x11838d=_0x3a9dbb[_0x458c86(0x4b7)]['id'],_0x1a725d=_0x3a9dbb[_0x458c86(0x4b7)][_0x458c86(0x96f)];showConfirmation(_0x458c86(0x2b0)+_0x1a725d+_0x458c86(0x881),()=>handleDeleteProject(_0x11838d));}}}}}),projectList[_0x27804f(0x2ea)](_0x27804f(0x7fc),_0x26b25e=>{const _0x1e6ec1=_0x27804f,_0x451867=_0x26b25e[_0x1e6ec1(0x680)][_0x1e6ec1(0x35a)](_0x1e6ec1(0x5c9));_0x451867&&_0x451867[_0x1e6ec1(0x24d)][_0x1e6ec1(0x162)](_0x1e6ec1(0x765));}),projectList[_0x27804f(0x2ea)](_0x27804f(0x44e),_0xbb039b=>{const _0x1d2ba8=_0x27804f,_0x3191c8=_0xbb039b[_0x1d2ba8(0x680)][_0x1d2ba8(0x35a)](_0x1d2ba8(0x5c9));_0x3191c8&&_0x3191c8['classList'][_0x1d2ba8(0x3dd)](_0x1d2ba8(0x765));}),projectList[_0x27804f(0x2ea)](_0x27804f(0x709),_0x2e28c2=>{const _0x4b7ea5=_0x27804f;_0x2e28c2['preventDefault']();const _0xde9bff=document[_0x4b7ea5(0x62c)](_0x4b7ea5(0x801));if(!_0xde9bff)return;const _0x16718f=getDragAfterElement(projectList,_0x2e28c2['clientY']);_0x16718f==null?projectList[_0x4b7ea5(0x2ac)](_0xde9bff):projectList[_0x4b7ea5(0x582)](_0xde9bff,_0x16718f);}),projectList[_0x27804f(0x2ea)](_0x27804f(0x2e0),_0x2111fc=>{const _0x7eb5b3=_0x27804f;_0x2111fc[_0x7eb5b3(0xba)]();const _0x15159f=[...projectList[_0x7eb5b3(0x7c7)](_0x7eb5b3(0x26f))][_0x7eb5b3(0x6d7)](_0xd5d182=>_0xd5d182[_0x7eb5b3(0x4b7)]['id']);saveProjectOrder(_0x15159f);});function renderBehaviorLog(_0x12135c){const _0x44ae63=_0x27804f,_0x27b2fe=document[_0x44ae63(0x5a3)](_0x44ae63(0x89a));if(!_0x27b2fe)return;const _0x369769=_0x12135c['filter'](_0x3a69b4=>_0x3a69b4[_0x44ae63(0x458)]&&_0x3a69b4['behaviorLog'][_0x44ae63(0x2c9)]>0x0);if(_0x369769['length']===0x0){_0x27b2fe[_0x44ae63(0x3e2)]=_0x44ae63(0x946);return;}let _0x4c03f7='';_0x369769[_0x44ae63(0x7b1)](_0x18d179=>{const _0x15b074=_0x44ae63;_0x4c03f7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x18d179[_0x15b074(0x640)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x18d179[_0x15b074(0x458)][_0x15b074(0x1e4)]((_0x5e0d48,_0x4b45e9)=>new Date(_0x4b45e9[_0x15b074(0x59d)])-new Date(_0x5e0d48[_0x15b074(0x59d)]))[_0x15b074(0x7b1)](_0x50e870=>{const _0xdc8e45=_0x15b074,_0x118242=new Date(_0x50e870['timestamp'])[_0xdc8e45(0x3f5)](_0xdc8e45(0x42d),{'dateStyle':_0xdc8e45(0x899),'timeStyle':'medium'});_0x4c03f7+=_0xdc8e45(0x65a)+_0x50e870[_0xdc8e45(0x5bb)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x118242+_0xdc8e45(0x27c);}),_0x4c03f7+=_0x15b074(0x4fd);}),_0x27b2fe['innerHTML']=_0x4c03f7;}function getDragAfterElement(_0x3774ce,_0x2a40ce){const _0x5597e0=_0x27804f,_0x1caec0=[..._0x3774ce[_0x5597e0(0x7c7)]('.project-card-container:not(.opacity-50)')];return _0x1caec0['reduce']((_0xfa712e,_0x413c7e)=>{const _0x29fc09=_0x5597e0,_0x4afa3a=_0x413c7e[_0x29fc09(0x641)](),_0xddc1e3=_0x2a40ce-_0x4afa3a['top']-_0x4afa3a[_0x29fc09(0x682)]/0x2;return _0xddc1e3<0x0&&_0xddc1e3>_0xfa712e['offset']?{'offset':_0xddc1e3,'element':_0x413c7e}:_0xfa712e;},{'offset':Number['NEGATIVE_INFINITY']})[_0x5597e0(0x37e)];}async function saveProjectOrder(_0x505522){const _0x4e97aa=_0x27804f,_0x190ab3=doc(db,_0x4e97aa(0x9f6),'dashboardConfig');try{await setDoc(_0x190ab3,{'projectOrder':_0x505522},{'merge':!![]});}catch(_0x28387d){console['error'](_0x4e97aa(0x506),_0x28387d),showMessage(_0x4e97aa(0x7cb));}}async function logBehaviorEvent(_0x1a9fa1,_0x4a302d={}){const _0x316caa=_0x27804f;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x316caa(0x696)](_0x316caa(0x88b));return;}const _0x39e1e3=doc(db,'artifacts/'+appId+_0x316caa(0x9b2)+currentQuizData['id']+_0x316caa(0x36e),currentStudentName),_0x237cc7={'event':_0x1a9fa1,'timestamp':new Date()[_0x316caa(0x120)](),..._0x4a302d};try{await updateDoc(_0x39e1e3,{'behaviorLog':arrayUnion(_0x237cc7)}),console[_0x316caa(0x909)](_0x316caa(0x763)+currentStudentName+'\x20สำเร็จ');}catch(_0x3d0a25){_0x3d0a25['code']==='not-found'?console[_0x316caa(0x696)](_0x316caa(0x45a)+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0x316caa(0x84a)](_0x316caa(0x186),_0x3d0a25);}}function calculateMeanAndStdDev(_0x5dd4a3){const _0x5a3f56=_0x27804f;if(_0x5dd4a3[_0x5a3f56(0x2c9)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x29eec0=_0x5dd4a3[_0x5a3f56(0x2a4)]((_0x3bcf9d,_0x3b3535)=>_0x3bcf9d+_0x3b3535,0x0)/_0x5dd4a3[_0x5a3f56(0x2c9)];if(_0x5dd4a3[_0x5a3f56(0x2c9)]===0x1)return{'mean':_0x29eec0,'stdDev':0x0};const _0x1ce6b8=Math[_0x5a3f56(0x785)](_0x5dd4a3[_0x5a3f56(0x6d7)](_0xf88d28=>Math['pow'](_0xf88d28-_0x29eec0,0x2))[_0x5a3f56(0x2a4)]((_0x137129,_0x3ac126)=>_0x137129+_0x3ac126,0x0)/(_0x5dd4a3['length']-0x1));return{'mean':_0x29eec0,'stdDev':_0x1ce6b8};}function calculateZScore(_0x36b4a9,_0x3c79ec,_0x5eb7a0){if(_0x5eb7a0===0x0)return 0x0;return(_0x36b4a9-_0x3c79ec)/_0x5eb7a0;}function calculateTScore(_0x59336c){return 0xa*_0x59336c+0x32;}function showStarredProjectView(){const _0x30d240=_0x27804f;currentProjectId='starred',currentProjectData=null,projectTitle[_0x30d240(0x84f)]=_0x30d240(0x748),projectIdDisplay[_0x30d240(0x84f)]=_0x30d240(0x60f),showView('project-detail'),manageTab[_0x30d240(0x24d)]['add'](_0x30d240(0x825)),leaderboardTab[_0x30d240(0x24d)][_0x30d240(0x162)](_0x30d240(0x825)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x383a35){const _0x296096=_0x27804f,_0x16c856=doc(db,_0x296096(0x71a)+appId+'/public/data/projects',_0x383a35),_0x42b774=await getDoc(_0x16c856);if(_0x42b774[_0x296096(0x75f)]()){manageTab['classList'][_0x296096(0x3dd)]('hidden'),leaderboardTab[_0x296096(0x24d)][_0x296096(0x3dd)](_0x296096(0x825)),currentProjectData=_0x42b774[_0x296096(0x724)](),projectTitle[_0x296096(0x84f)]=currentProjectData[_0x296096(0xfc)],projectIdDisplay['textContent']=_0x383a35;const _0x30c14d=currentProjectData['settings']||{};document[_0x296096(0x5a3)](_0x296096(0x8cb))[_0x296096(0x50c)]=_0x30c14d[_0x296096(0x77e)]||_0x296096(0x13d);const _0x559654=document[_0x296096(0x5a3)](_0x296096(0x9fc));_0x559654[_0x296096(0x9b1)]=_0x30c14d['showInStudentDashboard']!==![];const _0x50e2c7=document[_0x296096(0x5a3)](_0x296096(0x502)),_0x574a7a=document[_0x296096(0x5a3)]('passcode-input-container'),_0x361b10=document['getElementById']('project-passcode-input'),_0x161645=_0x30c14d[_0x296096(0x659)]||![];_0x50e2c7['checked']=_0x161645,_0x361b10[_0x296096(0x50c)]=_0x30c14d[_0x296096(0x547)]||'',_0x574a7a[_0x296096(0x24d)][_0x296096(0x72e)]('hidden',!_0x161645),_0x50e2c7[_0x296096(0x58f)]=()=>{const _0x38a84d=_0x296096;_0x574a7a[_0x38a84d(0x24d)]['toggle']('hidden',!_0x50e2c7[_0x38a84d(0x9b1)]);},document[_0x296096(0x5a3)](_0x296096(0x760))['checked']=_0x30c14d[_0x296096(0x8cd)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x383a35),listenForProjectQuizzes(_0x383a35),listenForStudentProfiles(_0x383a35);}else showMessage(_0x296096(0x31f)),showView(_0x296096(0x884));}async function handleResetProjectOrder(){const _0x1f1466=_0x27804f,_0x3ce98d=doc(db,_0x1f1466(0x9f6),_0x1f1466(0x938));try{await setDoc(_0x3ce98d,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x1f1466(0x9b6));}catch(_0x23c578){console[_0x1f1466(0x84a)](_0x1f1466(0x979),_0x23c578),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x4cb11c){const _0x3d298f=_0x27804f;if(!_0x4cb11c)return;const _0x253e1c=doc(db,_0x3d298f(0x71a)+appId+_0x3d298f(0x78a),_0x4cb11c);try{const _0x57df6e=await getDoc(_0x253e1c);if(_0x57df6e[_0x3d298f(0x75f)]()){const _0x2da0c3=_0x57df6e['data']()['isPinned']||![];await updateDoc(_0x253e1c,{'isPinned':!_0x2da0c3});}}catch(_0x1d88b5){console[_0x3d298f(0x84a)](_0x3d298f(0x283),_0x1d88b5),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x323d7a){const _0x58c6be=_0x27804f;try{const _0x1e4a86=writeBatch(db),_0x178708=collection(db,_0x58c6be(0x71a)+appId+_0x58c6be(0x91e)),_0x39c58d=query(_0x178708,where(_0x58c6be(0x25d),'==',_0x323d7a)),_0x2cf578=await getDocs(_0x39c58d);for(const _0x268938 of _0x2cf578[_0x58c6be(0x16e)]){const _0x39f6a7=collection(db,_0x58c6be(0x71a)+appId+_0x58c6be(0x9b2)+_0x268938['id']+_0x58c6be(0x36e)),_0x265ebb=await getDocs(_0x39f6a7);_0x265ebb[_0x58c6be(0x7b1)](_0x513d23=>{const _0x5c5c66=_0x58c6be;_0x1e4a86[_0x5c5c66(0x605)](_0x513d23[_0x5c5c66(0x803)]);}),_0x1e4a86[_0x58c6be(0x605)](_0x268938['ref']);}const _0xc44ad6=collection(db,_0x58c6be(0x71a)+appId+_0x58c6be(0x385)+_0x323d7a+_0x58c6be(0x180)),_0x553eca=await getDocs(_0xc44ad6);_0x553eca[_0x58c6be(0x7b1)](_0x1f290f=>{const _0x474001=_0x58c6be;_0x1e4a86['delete'](_0x1f290f[_0x474001(0x803)]);});const _0x51e611=doc(db,_0x58c6be(0x71a)+appId+_0x58c6be(0x78a),_0x323d7a);_0x1e4a86[_0x58c6be(0x605)](_0x51e611),await _0x1e4a86[_0x58c6be(0x117)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView('admin-dashboard');}catch(_0x2932ab){console[_0x58c6be(0x84a)]('Error\x20deleting\x20project:',_0x2932ab),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x27804f(0x5a3)](_0x27804f(0x146))[_0x27804f(0x2ea)](_0x27804f(0x189),async()=>{const _0x519dfa=_0x27804f;if(!currentProjectId)return;const _0x285116={'defaultNumQuestions':parseInt(document[_0x519dfa(0x5a3)](_0x519dfa(0x246))['value']),'defaultNumChoices':parseInt(document[_0x519dfa(0x5a3)]('num-choices')[_0x519dfa(0x50c)]),'defaultPassingScore':parseInt(document['getElementById']('passing-score-input')[_0x519dfa(0x50c)]),'resultsDisplay':document[_0x519dfa(0x5a3)](_0x519dfa(0x83e))[_0x519dfa(0x50c)],'shuffleSetting':document[_0x519dfa(0x5a3)]('shuffle-setting-select')[_0x519dfa(0x50c)],'timerMode':document[_0x519dfa(0x5a3)](_0x519dfa(0x730))['value'],'timerDuration':parseInt(document[_0x519dfa(0x5a3)](_0x519dfa(0x3e5))[_0x519dfa(0x50c)]),'isConfidenceScoringEnabled':document['getElementById'](_0x519dfa(0x760))[_0x519dfa(0x9b1)],'confidenceMode':document[_0x519dfa(0x5a3)](_0x519dfa(0x271))['value']};try{const _0x1b58b8=doc(db,_0x519dfa(0x71a)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x1b58b8,{'settings':_0x285116}),showMessage(_0x519dfa(0x67a));}catch(_0x16358f){console[_0x519dfa(0x84a)](_0x519dfa(0x9cd),_0x16358f),showMessage(_0x519dfa(0x33d));}});function listenForStudents(_0x228a4b){const _0x3bf2d5=_0x27804f,_0x38633=doc(db,_0x3bf2d5(0x71a)+appId+_0x3bf2d5(0x78a),_0x228a4b);unsubscribeStudentsListener=onSnapshot(_0x38633,_0x350ffc=>{const _0x1923de=_0x3bf2d5;if(_0x350ffc[_0x1923de(0x75f)]()){const _0x56cdcf=_0x350ffc[_0x1923de(0x724)]();currentProjectData=_0x56cdcf,renderStudentList(_0x56cdcf['students']||[]);}});}function renderStudentList(_0x483d22){const _0x52c673=_0x27804f,_0x101402=document[_0x52c673(0x5a3)](_0x52c673(0x5e1));_0x483d22['length']===0x0?(studentList[_0x52c673(0x3e2)]=_0x52c673(0x5a1),_0x101402[_0x52c673(0x24d)]['add'](_0x52c673(0x825))):(studentList[_0x52c673(0x3e2)]=_0x483d22[_0x52c673(0x6d7)](_0x4ae060=>_0x52c673(0xd8)+_0x4ae060+_0x52c673(0x784)+_0x4ae060+_0x52c673(0x7d3))[_0x52c673(0x1cb)](''),_0x101402['classList'][_0x52c673(0x3dd)](_0x52c673(0x825)));}document[_0x27804f(0x5a3)](_0x27804f(0x445))[_0x27804f(0x2ea)](_0x27804f(0x189),async()=>{const _0x32d0fe=_0x27804f;if(!currentProjectId)return;const _0x352e6d=document[_0x32d0fe(0x5a3)](_0x32d0fe(0x335)),_0x5a35bd=_0x352e6d[_0x32d0fe(0x50c)]['trim']();if(!_0x5a35bd){showMessage(_0x32d0fe(0x141));return;}const _0x442a4b=_0x5a35bd[_0x32d0fe(0x239)]('\x0a')[_0x32d0fe(0x6d7)](_0x493bd0=>_0x493bd0[_0x32d0fe(0x79e)]())[_0x32d0fe(0x3bf)](_0x4e1a2b=>_0x4e1a2b);if(_0x442a4b[_0x32d0fe(0x2c9)]===0x0)return;try{const _0x107375=doc(db,_0x32d0fe(0x71a)+appId+_0x32d0fe(0x78a),currentProjectId),_0x5a1d92=await getDoc(_0x107375);if(_0x5a1d92['exists']()){const _0x257dc3=_0x5a1d92['data']()['students']||[],_0x62e111=[...new Set([..._0x257dc3,..._0x442a4b])];await updateDoc(_0x107375,{'students':_0x62e111}),_0x352e6d[_0x32d0fe(0x50c)]='';}}catch(_0x46c09c){console[_0x32d0fe(0x84a)](_0x32d0fe(0x392),_0x46c09c),showMessage(_0x32d0fe(0x780));}});async function handleManualQuizPairing(_0x383003){const _0x397c3b=_0x27804f,_0x59968e=document['getElementById']('move-quiz-modal'),_0x41f356=document[_0x397c3b(0x5a3)]('move-quiz-project-select'),_0x353c8b=_0x59968e[_0x397c3b(0x62c)]('h3'),_0x943b98=document[_0x397c3b(0x5a3)](_0x397c3b(0x1d8)),_0x11af39=document[_0x397c3b(0x5a3)]('cancel-move-quiz-btn');_0x353c8b[_0x397c3b(0x84f)]=_0x397c3b(0x718),_0x41f356['innerHTML']=_0x397c3b(0x9bb),_0x943b98[_0x397c3b(0x84f)]=_0x397c3b(0x11e),_0x59968e['classList'][_0x397c3b(0x3dd)](_0x397c3b(0x825));const _0xb0302b=allQuizzes[_0x397c3b(0x3bf)](_0x34e3f9=>_0x34e3f9['id']!==_0x383003);_0xb0302b['length']===0x0?(_0x41f356[_0x397c3b(0x3e2)]=_0x397c3b(0x533),_0x943b98[_0x397c3b(0x190)]=!![]):(_0x41f356['innerHTML']=_0x397c3b(0x9c0)+_0xb0302b[_0x397c3b(0x6d7)](_0x596d18=>_0x397c3b(0x76f)+_0x596d18['id']+'\x22>'+_0x596d18['topic']+'</option>')[_0x397c3b(0x1cb)](''),_0x943b98[_0x397c3b(0x190)]=![]);const _0x119cb2=async()=>{const _0x23d62f=_0x397c3b,_0x4a5171=_0x41f356[_0x23d62f(0x50c)];if(!_0x4a5171){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x943b98[_0x23d62f(0x190)]=!![],_0x943b98['textContent']='กำลังจับคู่...';try{const _0x4bc146=doc(db,_0x23d62f(0x71a)+appId+_0x23d62f(0x91e),_0x383003),_0x2d93b3=doc(db,_0x23d62f(0x71a)+appId+'/public/data/quizzes',_0x4a5171),_0x75e9a8=writeBatch(db);_0x75e9a8[_0x23d62f(0x42f)](_0x4bc146,{'pairedQuizId':_0x4a5171}),_0x75e9a8[_0x23d62f(0x42f)](_0x2d93b3,{'pairedQuizId':_0x383003}),await _0x75e9a8['commit'](),showMessage(_0x23d62f(0x8dc)),_0x59968e['classList'][_0x23d62f(0x162)](_0x23d62f(0x825));}catch(_0x2539bc){console[_0x23d62f(0x84a)](_0x23d62f(0x93b),_0x2539bc),showMessage(_0x23d62f(0x3ab));}finally{_0x353c8b[_0x23d62f(0x84f)]=_0x23d62f(0x9a0),_0x943b98[_0x23d62f(0x84f)]=_0x23d62f(0x399),_0x943b98['disabled']=![],_0x943b98[_0x23d62f(0x6ac)]('click',_0x119cb2),_0x11af39[_0x23d62f(0x6ac)](_0x23d62f(0x189),_0x21a70b);}},_0x21a70b=()=>{const _0x338a37=_0x397c3b;_0x59968e[_0x338a37(0x24d)][_0x338a37(0x162)](_0x338a37(0x825)),_0x353c8b[_0x338a37(0x84f)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x943b98[_0x338a37(0x84f)]=_0x338a37(0x399),_0x943b98[_0x338a37(0x6ac)](_0x338a37(0x189),_0x119cb2),_0x11af39[_0x338a37(0x6ac)](_0x338a37(0x189),_0x21a70b);};_0x943b98[_0x397c3b(0x2ea)]('click',_0x119cb2),_0x11af39[_0x397c3b(0x2ea)]('click',_0x21a70b);}function handleDeleteStudent(_0x6d840a){const _0x81beb7=_0x27804f;showConfirmation(_0x81beb7(0x9ef)+_0x6d840a+_0x81beb7(0x16b),async()=>{const _0x49a0cc=_0x81beb7;if(!currentProjectId||!currentProjectData)return;const _0x1a5357=currentProjectData['students'][_0x49a0cc(0x3bf)](_0x5a41df=>_0x5a41df!==_0x6d840a);try{const _0x230f87=doc(db,'artifacts/'+appId+_0x49a0cc(0x78a),currentProjectId),_0x348978=doc(db,'artifacts/'+appId+_0x49a0cc(0x385)+currentProjectId+'/studentProfiles',_0x6d840a),_0x326e20=writeBatch(db);_0x326e20[_0x49a0cc(0x42f)](_0x230f87,{'students':_0x1a5357}),_0x326e20['delete'](_0x348978),await _0x326e20[_0x49a0cc(0x117)]();}catch(_0x5bd37a){console[_0x49a0cc(0x84a)](_0x49a0cc(0x81b),_0x5bd37a),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0x18a801=_0x27804f;showConfirmation(_0x18a801(0x990),async()=>{const _0xbf7c50=_0x18a801;if(!currentProjectId)return;try{const _0x39fc0e=doc(db,_0xbf7c50(0x71a)+appId+'/public/data/projects',currentProjectId),_0x1a11c5=collection(db,'artifacts/'+appId+_0xbf7c50(0x385)+currentProjectId+_0xbf7c50(0x180)),_0x2ed273=await getDocs(_0x1a11c5),_0x423474=writeBatch(db);_0x423474['update'](_0x39fc0e,{'students':[]}),_0x2ed273[_0xbf7c50(0x7b1)](_0x23f874=>_0x423474[_0xbf7c50(0x605)](_0x23f874[_0xbf7c50(0x803)])),await _0x423474[_0xbf7c50(0x117)]();}catch(_0x2db378){console['error']('Error\x20deleting\x20all\x20students:',_0x2db378),showMessage(_0xbf7c50(0x837));}});}async function handleGenerateFromFileClick(){const _0x3cf7e1=_0x27804f;if(!selectedFile){showMessage(_0x3cf7e1(0x82a));return;}const _0x50c931=document[_0x3cf7e1(0x5a3)](_0x3cf7e1(0x95c)),_0x375c96=document[_0x3cf7e1(0x5a3)](_0x3cf7e1(0x4d8)),_0x4b8c45=document[_0x3cf7e1(0x5a3)](_0x3cf7e1(0x904)),_0x160bf8=document[_0x3cf7e1(0x5a3)]('generate-from-file-btn');_0x160bf8[_0x3cf7e1(0x190)]=!![],document[_0x3cf7e1(0x5a3)]('quiz-generation-area')[_0x3cf7e1(0x24d)]['remove'](_0x3cf7e1(0x825)),_0x4b8c45[_0x3cf7e1(0x3e2)]='',_0x50c931[_0x3cf7e1(0x24d)][_0x3cf7e1(0x3dd)](_0x3cf7e1(0x825)),_0x375c96[_0x3cf7e1(0x84f)]=_0x3cf7e1(0x102);const _0x3e9c62=new FileReader();_0x3e9c62[_0x3cf7e1(0x9c3)](selectedFile),_0x3e9c62[_0x3cf7e1(0x7a1)]=async()=>{const _0x11f02f=_0x3cf7e1;try{const _0x1b8e3f=_0x3e9c62['result'][_0x11f02f(0x239)](',')[0x1],_0x2ca41e=selectedFile[_0x11f02f(0x58a)];await generateQuizFromFile(_0x2ca41e,_0x1b8e3f);}catch(_0x19bd46){console['error'](_0x11f02f(0x1ee),_0x19bd46),showMessage(_0x11f02f(0x804)+_0x19bd46['message']),_0x50c931[_0x11f02f(0x24d)][_0x11f02f(0x162)](_0x11f02f(0x825));}finally{}},_0x3e9c62[_0x3cf7e1(0x9e3)]=_0x5b9156=>{const _0x19493e=_0x3cf7e1;console[_0x19493e(0x84a)](_0x19493e(0x8ef),_0x5b9156),showMessage(_0x19493e(0x634)),_0x50c931[_0x19493e(0x24d)]['add'](_0x19493e(0x825)),_0x160bf8['disabled']=![];};}function autoFormatMath(_0x591376){const _0x8da3d5=_0x27804f;if(typeof _0x591376!==_0x8da3d5(0x179)||!_0x591376)return _0x591376;const _0x1d8257=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x4d7809=_0x591376['replace'](_0x1d8257,_0x54377c=>{const _0x4ec3b7=_0x8da3d5;return'$'+_0x54377c[_0x4ec3b7(0x79e)]()+'$';});return _0x4d7809;}function sanitizeQuizData(_0xd4c927){const _0x44a69b=_0x27804f;if(!_0xd4c927||!_0xd4c927[_0x44a69b(0x474)])return _0xd4c927;const _0x218abb={'imes':_0x44a69b(0x6c0),'div':_0x44a69b(0x755)},_0x1a2454=_0xee95d6=>{const _0x491355=_0x44a69b;if(typeof _0xee95d6!=='string')return _0xee95d6;let _0x56baa4=_0xee95d6;for(const [_0x50ad08,_0x7e501c]of Object['entries'](_0x218abb)){const _0x22686f=new RegExp('\x5cb'+_0x50ad08+'\x5cb','g');_0x56baa4=_0x56baa4[_0x491355(0x27f)](_0x22686f,_0x7e501c);}return _0x56baa4=_0x56baa4[_0x491355(0x27f)](/\\\//g,_0x491355(0x755)),_0x56baa4=_0x56baa4['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0x491355(0x755))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x491355(0x6c0))[_0x491355(0x27f)](/÷/g,_0x491355(0x755))[_0x491355(0x27f)](/×/g,_0x491355(0x6c0)),_0x56baa4=_0x56baa4[_0x491355(0x27f)](/(\d)(\\frac)/g,_0x491355(0x8b2)),_0x56baa4=autoFormatMath(_0x56baa4),_0x56baa4;};return _0xd4c927[_0x44a69b(0x2a9)]&&(_0xd4c927[_0x44a69b(0x2a9)]=_0x1a2454(_0xd4c927[_0x44a69b(0x2a9)])),_0xd4c927[_0x44a69b(0x474)][_0x44a69b(0x7b1)](_0x15728f=>{const _0x26ac52=_0x44a69b;_0x15728f[_0x26ac52(0x872)]=_0x1a2454(_0x15728f[_0x26ac52(0x872)]),_0x15728f['options']&&(_0x15728f[_0x26ac52(0x86b)]=_0x15728f[_0x26ac52(0x86b)][_0x26ac52(0x6d7)](_0x1a2454)),_0x15728f['explanation']&&(_0x15728f[_0x26ac52(0x559)]=_0x1a2454(_0x15728f[_0x26ac52(0x559)])),_0x15728f['stem']&&(_0x15728f['stem']=_0x1a2454(_0x15728f[_0x26ac52(0x956)])),_0x15728f['correctResponse']&&(_0x15728f[_0x26ac52(0x8e5)]=_0x1a2454(_0x15728f['correctResponse'])),_0x15728f['allResponses']&&(_0x15728f[_0x26ac52(0x2fa)]=_0x15728f['allResponses'][_0x26ac52(0x6d7)](_0x1a2454));}),_0xd4c927;}const simpleMathPrompt=_0x27804f(0x507);async function handleGenerateFromLink(){const _0x8eff1a=_0x27804f,_0x55fa43=document[_0x8eff1a(0x5a3)](_0x8eff1a(0x2e5)),_0x3901a8=document[_0x8eff1a(0x5a3)](_0x8eff1a(0x774)),_0x48b4f9=_0x55fa43[_0x8eff1a(0x50c)]['trim'](),_0x315df5=_0x3901a8[_0x8eff1a(0x50c)]['trim']();if(!_0x48b4f9){showMessage(_0x8eff1a(0x482));return;}const _0x9c3dcf=document[_0x8eff1a(0x5a3)](_0x8eff1a(0x95c)),_0x4d7c43=document[_0x8eff1a(0x5a3)](_0x8eff1a(0x4d8)),_0x22740f=document[_0x8eff1a(0x5a3)](_0x8eff1a(0x904)),_0x4d102e=document[_0x8eff1a(0x5a3)](_0x8eff1a(0x5a7));document['getElementById']('quiz-generation-area')[_0x8eff1a(0x24d)][_0x8eff1a(0x3dd)](_0x8eff1a(0x825)),_0x22740f[_0x8eff1a(0x3e2)]='',_0x9c3dcf['classList']['remove'](_0x8eff1a(0x825)),_0x4d7c43[_0x8eff1a(0x84f)]=_0x8eff1a(0x40e),_0x4d102e['disabled']=!![];try{const _0x62105c=_0x8eff1a(0x9f8)+encodeURIComponent(_0x48b4f9),_0x3ad4dd=await fetch(_0x62105c);if(!_0x3ad4dd['ok'])throw new Error(_0x8eff1a(0x8e7)+_0x3ad4dd[_0x8eff1a(0x95a)]+')');const _0x5c2e50=await _0x3ad4dd[_0x8eff1a(0x45f)](),_0x4885ca=extractTextFromHtml(_0x5c2e50);if(!_0x4885ca||_0x4885ca[_0x8eff1a(0x2c9)]<0x64)throw new Error(_0x8eff1a(0x40d));await generateQuiz(_0x315df5,_0x4885ca);}catch(_0x4e9f2a){console[_0x8eff1a(0x84a)](_0x8eff1a(0x2d6),_0x4e9f2a),showMessage(_0x8eff1a(0x7eb)+_0x4e9f2a[_0x8eff1a(0x3f9)]),_0x22740f[_0x8eff1a(0x3e2)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x9c3dcf['classList'][_0x8eff1a(0x162)](_0x8eff1a(0x825)),_0x4d102e['disabled']=![];}}function extractTextFromHtml(_0x473133){const _0x4ff732=_0x27804f,_0x538df3=new DOMParser()[_0x4ff732(0x9a7)](_0x473133,_0x4ff732(0x6d6));return _0x538df3[_0x4ff732(0x7c7)](_0x4ff732(0x15d))[_0x4ff732(0x7b1)](_0x466ae7=>_0x466ae7[_0x4ff732(0x3dd)]()),_0x538df3['body'][_0x4ff732(0x84f)]||'';}document[_0x27804f(0x5a3)](_0x27804f(0x819))[_0x27804f(0x2ea)](_0x27804f(0x189),()=>{const _0x5912c0=_0x27804f,_0x42a00c=document[_0x5912c0(0x5a3)](_0x5912c0(0xb1))[_0x5912c0(0x50c)][_0x5912c0(0x79e)]();generateQuiz(_0x42a00c,null);}),document['getElementById'](_0x27804f(0x116))[_0x27804f(0x2ea)](_0x27804f(0x189),()=>{const _0x388115=_0x27804f,_0x537c8b=document['getElementById'](_0x388115(0xcc))[_0x388115(0x50c)][_0x388115(0x79e)]();if(!_0x537c8b){showMessage(_0x388115(0x7e1));return;}const _0x5c29dd=document['getElementById']('topic-input')['value'][_0x388115(0x79e)]();generateQuiz(_0x5c29dd,_0x537c8b);});async function generateQuiz(_0x5acb3b,_0x1a3568,_0x652795=null){const _0x2b8d9c=_0x27804f,_0x228b88=document[_0x2b8d9c(0x5a3)]('include-images-checkbox')['checked'],_0x5099dc=document[_0x2b8d9c(0x5a3)](_0x2b8d9c(0x30c))[_0x2b8d9c(0x50c)],_0xa10bbe=document[_0x2b8d9c(0x5a3)](_0x2b8d9c(0x246))[_0x2b8d9c(0x50c)],_0x35505f=document[_0x2b8d9c(0x5a3)]('num-choices')[_0x2b8d9c(0x50c)],_0x5d92c5=document['getElementById']('force-math-checkbox')['checked'],_0x1d903a=_0x5d92c5?'':_0x2b8d9c(0x5ac),_0x2d7d99=document[_0x2b8d9c(0x5a3)](_0x2b8d9c(0x4e0)),_0x59a130=_0x2d7d99[_0x2b8d9c(0x50c)];let _0x1d48c7='';_0x59a130!=='auto'&&(_0x1d48c7=_0x2b8d9c(0x737)+_0x59a130+'\x22');const _0x1c11b1=document[_0x2b8d9c(0x5a3)](_0x2b8d9c(0x1b3)),_0x51ad97=_0x1c11b1[_0x2b8d9c(0x50c)];let _0x35754e='';_0x51ad97!==_0x2b8d9c(0x66c)&&(_0x35754e=_0x2b8d9c(0x972)+_0x51ad97+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy');const _0x3349b5=document[_0x2b8d9c(0x7c7)]('#math-topics-checkbox-container\x20input:checked'),_0x4bbf1e=Array['from'](_0x3349b5)[_0x2b8d9c(0x6d7)](_0x43c46f=>_0x43c46f[_0x2b8d9c(0x50c)]);let _0x58d96d='';_0x4bbf1e['length']>0x0&&(_0x58d96d=_0x2b8d9c(0x816)+_0x4bbf1e[_0x2b8d9c(0x1cb)](',\x20')+_0x2b8d9c(0x4b8));let _0xbe0f0b='',_0x31fa3b='',_0x3c5d73,_0x5a718b=_0x2b8d9c(0x2c7)+_0x5acb3b+'\x22';if(!_0x5acb3b&&_0x1a3568)_0x5a718b=_0x2b8d9c(0xf8);else!_0x5acb3b&&!_0x1a3568&&(_0x5a718b='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x53fa18={'type':_0x2b8d9c(0x440),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2b8d9c(0x9a6),'items':{'type':_0x2b8d9c(0x1fb)}},'correctAnswerIndex':{'type':_0x2b8d9c(0x451)},'explanation':{'type':_0x2b8d9c(0x1fb)},'imageCode':{'type':_0x2b8d9c(0x1fb)}},'required':[_0x2b8d9c(0x872),_0x2b8d9c(0x86b),_0x2b8d9c(0x150),_0x2b8d9c(0x559)]},_0x3c3709={'type':'OBJECT','properties':{'questionText':{'type':_0x2b8d9c(0x1fb)},'idealAnswer':{'type':_0x2b8d9c(0x1fb)},'explanation':{'type':_0x2b8d9c(0x1fb)},'imageCode':{'type':_0x2b8d9c(0x1fb)}},'required':[_0x2b8d9c(0x872),_0x2b8d9c(0x8a2),'explanation']},_0x3794d9={'type':_0x2b8d9c(0x440),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2b8d9c(0x1fb),'enum':['multiple_choice','short_answer']},'options':{'type':_0x2b8d9c(0x9a6),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2b8d9c(0x451)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2b8d9c(0x1fb)},'imageCode':{'type':_0x2b8d9c(0x1fb)}},'required':[_0x2b8d9c(0x872),_0x2b8d9c(0x891),'explanation']},_0xca09e9={'type':_0x2b8d9c(0x440),'properties':{'questionText':{'type':_0x2b8d9c(0x1fb)},'correctAnswer':{'type':_0x2b8d9c(0x919)},'explanation':{'type':_0x2b8d9c(0x1fb)},'imageCode':{'type':_0x2b8d9c(0x1fb)}},'required':[_0x2b8d9c(0x872),_0x2b8d9c(0x1e0),_0x2b8d9c(0x559)]},_0x5c8850={'type':_0x2b8d9c(0x440),'properties':{'questionType':{'type':_0x2b8d9c(0x1fb),'enum':[_0x2b8d9c(0x3fd)]},'stem':{'type':_0x2b8d9c(0x1fb)},'correctResponse':{'type':_0x2b8d9c(0x1fb)},'allResponses':{'type':_0x2b8d9c(0x9a6),'items':{'type':_0x2b8d9c(0x1fb)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2b8d9c(0x1fb)}},'required':['questionType',_0x2b8d9c(0x956),'correctResponse','allResponses',_0x2b8d9c(0x559)]};let _0x191059;if(_0x652795!==null){const _0x1e84d2=currentQuizData[_0x2b8d9c(0x474)][_0x652795][_0x2b8d9c(0x891)],_0x1354a0=_0x228b88?_0x2b8d9c(0x124):'';_0xbe0f0b=_0x2b8d9c(0x6bd)+_0x5a718b+'\x20'+_0x58d96d+'\x20'+_0x1d48c7+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x1354a0+'\x20'+simpleMathPrompt;if(_0x1e84d2===_0x2b8d9c(0x1c6))_0x3c5d73=_0x53fa18;else{if(_0x1e84d2===_0x2b8d9c(0x3fd))_0x3c5d73={'type':_0x2b8d9c(0x440),'properties':{'questionType':{'type':_0x2b8d9c(0x1fb),'enum':['matching_item']},'stem':{'type':_0x2b8d9c(0x1fb)},'correctResponse':{'type':_0x2b8d9c(0x1fb)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x2b8d9c(0x891),'stem',_0x2b8d9c(0x8e5),_0x2b8d9c(0x559)]};else _0x3c5d73=_0x3c3709;}_0x191059=_0x3c5d73;}else{const _0x3f2844=_0x228b88?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'',_0x51cdf6=_0x2b8d9c(0x364);switch(_0x5099dc){case'multiple_choice':_0xbe0f0b='สร้างแบบทดสอบปรนัย'+_0x1d903a+'\x20'+_0xa10bbe+'\x20ข้อ\x20'+_0x5a718b+'\x20'+_0x58d96d+'\x20'+_0x1d48c7+'\x20'+_0x35754e+_0x2b8d9c(0x764)+_0x35505f+_0x2b8d9c(0x7c8)+_0x3f2844+'\x20'+simpleMathPrompt,_0x3c5d73=_0x53fa18;break;case _0x2b8d9c(0x5c7):_0xbe0f0b=_0x2b8d9c(0x800)+_0x1d903a+'\x20'+_0xa10bbe+'\x20ข้อ\x20'+_0x5a718b+'\x20'+_0x58d96d+'\x20'+_0x1d48c7+'\x20'+_0x35754e+_0x2b8d9c(0x6db)+_0x35505f+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x3f2844+'\x20'+simpleMathPrompt,_0x3c5d73=_0x53fa18;break;case'fill_in_no_choices':_0xbe0f0b=_0x2b8d9c(0x800)+_0x1d903a+'\x20'+_0xa10bbe+'\x20ข้อ\x20'+_0x5a718b+'\x20'+_0x58d96d+'\x20'+_0x1d48c7+'\x20'+_0x35754e+_0x2b8d9c(0x691)+_0x3f2844+'\x20'+simpleMathPrompt,_0x3c5d73=_0x3c3709;break;case _0x2b8d9c(0x66c):_0xbe0f0b=_0x2b8d9c(0x3fb)+_0x1d903a+'\x20'+_0xa10bbe+_0x2b8d9c(0x529)+_0x5a718b+'\x20'+_0x58d96d+'\x20'+_0x1d48c7+'\x20'+_0x35754e+_0x2b8d9c(0x63e)+_0x35505f+_0x2b8d9c(0x70b)+_0x3f2844+'\x20'+simpleMathPrompt+'.',_0x3c5d73=_0x3794d9;break;case _0x2b8d9c(0x6d1):_0xbe0f0b=_0x2b8d9c(0x64b)+_0x1d903a+'\x20'+_0xa10bbe+_0x2b8d9c(0x529)+_0x5a718b+'\x20'+_0x58d96d+'\x20'+_0x1d48c7+'\x20'+_0x35754e+_0x2b8d9c(0x140)+_0x3f2844+'\x20'+simpleMathPrompt,_0x3c5d73=_0xca09e9;break;case _0x2b8d9c(0x151):_0xbe0f0b=_0x2b8d9c(0x621)+_0x1d903a+'\x20'+_0xa10bbe+'\x20คู่\x20'+_0x5a718b+'\x20'+_0x58d96d+'\x20'+_0x1d48c7+'\x20'+_0x35754e+_0x2b8d9c(0x350)+_0x3f2844+'\x20'+simpleMathPrompt,_0x3c5d73=_0x5c8850;break;}_0x191059={'type':_0x2b8d9c(0x440),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x3c5d73}},'required':[_0x2b8d9c(0x2a9),'questions']};}return _0x1a3568?(_0xbe0f0b='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x1a3568+'\x22,\x20'+_0xbe0f0b,_0x31fa3b=_0x2b8d9c(0x121)):_0x31fa3b='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0xbe0f0b,_0x31fa3b,_0x191059,_0x652795);}async function generateQuizFromFile(_0x443266,_0x37d8df){const _0x53fdde=_0x27804f,_0x3e2fb4=document[_0x53fdde(0x5a3)](_0x53fdde(0x7a8))[_0x53fdde(0x50c)][_0x53fdde(0x79e)](),_0x340d05=document['getElementById']('quiz-type-select')[_0x53fdde(0x50c)],_0x539504=document[_0x53fdde(0x5a3)](_0x53fdde(0x246))[_0x53fdde(0x50c)],_0x10475d=document[_0x53fdde(0x5a3)](_0x53fdde(0x7c0))[_0x53fdde(0x50c)],_0x23af22=document[_0x53fdde(0x5a3)](_0x53fdde(0x782))[_0x53fdde(0x9b1)],_0x312bf3=document[_0x53fdde(0x5a3)](_0x53fdde(0xae))[_0x53fdde(0x9b1)],_0x59f2b2=_0x312bf3?'':_0x53fdde(0x5ac);let _0x47219c='',_0x2175d2,_0x4ab38b=_0x53fdde(0x2c7)+_0x3e2fb4+'\x22';!_0x3e2fb4&&(_0x4ab38b=_0x53fdde(0x951));const _0x41cdab=_0x23af22?_0x53fdde(0x738):'';switch(_0x340d05){case _0x53fdde(0x1c6):_0x47219c=_0x53fdde(0x17c)+_0x59f2b2+'\x20'+_0x539504+_0x53fdde(0x529)+_0x4ab38b+_0x53fdde(0x764)+_0x10475d+_0x53fdde(0x7c8)+_0x41cdab+'\x20'+simpleMathPrompt,_0x2175d2={'type':_0x53fdde(0x440),'properties':{'questionText':{'type':_0x53fdde(0x1fb)},'options':{'type':_0x53fdde(0x9a6),'items':{'type':_0x53fdde(0x1fb)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x53fdde(0x1fb)},'imageCode':{'type':_0x53fdde(0x1fb)}},'required':[_0x53fdde(0x872),_0x53fdde(0x86b),'correctAnswerIndex','explanation']};break;case _0x53fdde(0x5c7):_0x47219c='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x59f2b2+'\x20'+_0x539504+_0x53fdde(0x529)+_0x4ab38b+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x10475d+_0x53fdde(0x299)+_0x41cdab+'\x20'+simpleMathPrompt,_0x2175d2={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x53fdde(0x1fb)}},'correctAnswerIndex':{'type':_0x53fdde(0x451)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x53fdde(0x1fb)}},'required':[_0x53fdde(0x872),_0x53fdde(0x86b),_0x53fdde(0x150),'explanation']};break;case _0x53fdde(0x4e2):_0x47219c=_0x53fdde(0x800)+_0x59f2b2+'\x20'+_0x539504+_0x53fdde(0x529)+_0x4ab38b+_0x53fdde(0x691)+_0x41cdab+'\x20'+simpleMathPrompt,_0x2175d2={'type':_0x53fdde(0x440),'properties':{'questionText':{'type':_0x53fdde(0x1fb)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x53fdde(0x1fb)},'imageCode':{'type':_0x53fdde(0x1fb)}},'required':[_0x53fdde(0x872),_0x53fdde(0x8a2),_0x53fdde(0x559)]};break;case _0x53fdde(0x66c):_0x47219c=_0x53fdde(0x3fb)+_0x59f2b2+'\x20'+_0x539504+'\x20ข้อ\x20'+_0x4ab38b+_0x53fdde(0x5ae)+_0x10475d+_0x53fdde(0x70b)+_0x41cdab+'\x20'+simpleMathPrompt+_0x53fdde(0x589),_0x2175d2={'type':_0x53fdde(0x440),'properties':{'questionText':{'type':_0x53fdde(0x1fb)},'questionType':{'type':_0x53fdde(0x1fb),'enum':['multiple_choice','short_answer']},'options':{'type':_0x53fdde(0x9a6),'items':{'type':_0x53fdde(0x1fb)}},'correctAnswerIndex':{'type':_0x53fdde(0x451)},'idealAnswer':{'type':_0x53fdde(0x1fb)},'explanation':{'type':_0x53fdde(0x1fb)},'imageCode':{'type':_0x53fdde(0x1fb)}},'required':[_0x53fdde(0x872),'questionType','explanation']};break;case _0x53fdde(0x6d1):_0x47219c=_0x53fdde(0x64b)+_0x59f2b2+'\x20'+_0x539504+_0x53fdde(0x529)+_0x4ab38b+_0x53fdde(0x584)+_0x41cdab+'\x20'+simpleMathPrompt,_0x2175d2={'type':_0x53fdde(0x440),'properties':{'questionText':{'type':_0x53fdde(0x1fb)},'correctAnswer':{'type':_0x53fdde(0x919)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x53fdde(0x872),_0x53fdde(0x1e0),_0x53fdde(0x559)]};break;case _0x53fdde(0x151):_0x47219c=_0x53fdde(0x621)+_0x59f2b2+'\x20'+_0x539504+'\x20คู่\x20'+_0x4ab38b+_0x53fdde(0x625)+_0x539504+_0x53fdde(0x2f9)+_0x41cdab+'\x20'+simpleMathPrompt,_0x2175d2={'type':_0x53fdde(0x440),'properties':{'questionType':{'type':_0x53fdde(0x1fb),'enum':[_0x53fdde(0x3fd)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x53fdde(0x1fb)},'allResponses':{'type':_0x53fdde(0x9a6),'items':{'type':_0x53fdde(0x1fb)}},'explanation':{'type':_0x53fdde(0x1fb)},'imageCode':{'type':_0x53fdde(0x1fb)}},'required':[_0x53fdde(0x891),_0x53fdde(0x956),_0x53fdde(0x8e5),'allResponses',_0x53fdde(0x559)]};break;}const _0x23cc09={'type':_0x53fdde(0x440),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x53fdde(0x9a6),'items':_0x2175d2}},'required':[_0x53fdde(0x2a9),_0x53fdde(0x474)]},_0x52f1c0=_0x53fdde(0x36d)+_0x47219c,_0x273beb={'contents':[{'parts':[{'text':_0x52f1c0},{'inlineData':{'mimeType':_0x443266,'data':_0x37d8df}}]}],'generationConfig':{'responseMimeType':_0x53fdde(0x8fd),'responseSchema':_0x23cc09}};return handleApiCall(_0x273beb[_0x53fdde(0x348)][0x0]['parts'],_0x53fdde(0x359),_0x23cc09);}async function handleApiCall(_0x3e5e39,_0x6a73c0,_0x4078ea,_0x68ac6a=null){const _0x40b3c1=_0x27804f,_0x5b1718=document[_0x40b3c1(0x5a3)](_0x40b3c1(0x5a9)),_0x2e7c73=document[_0x40b3c1(0x5a3)](_0x40b3c1(0x95c)),_0x2ffd88=document[_0x40b3c1(0x5a3)]('loader-text'),_0x3fabce=document['getElementById'](_0x40b3c1(0x904));_0x5b1718['classList'][_0x40b3c1(0x3dd)]('hidden');_0x68ac6a===null&&(_0x3fabce[_0x40b3c1(0x3e2)]='');_0x2e7c73['classList']['remove'](_0x40b3c1(0x825)),_0x2ffd88[_0x40b3c1(0x84f)]=_0x6a73c0,document[_0x40b3c1(0x5a3)]('generate-from-topic-btn')['disabled']=!![],document[_0x40b3c1(0x5a3)]('generate-from-text-btn')[_0x40b3c1(0x190)]=!![],document[_0x40b3c1(0x5a3)](_0x40b3c1(0x5a7))[_0x40b3c1(0x190)]=!![];try{const _0x37d229={'responseMimeType':_0x40b3c1(0x8fd),'responseSchema':_0x4078ea},_0x1d8c4f=Array[_0x40b3c1(0x6ea)](_0x3e5e39)?_0x3e5e39:[{'text':_0x3e5e39}],_0x1180d2={'contents':[{'role':_0x40b3c1(0x468),'parts':_0x1d8c4f}],'generationConfig':_0x37d229},_0xce8d2f='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x684e5=_0x40b3c1(0xb4)+_0xce8d2f,_0x4e3342=await fetch(_0x684e5,{'method':_0x40b3c1(0x155),'headers':{'Content-Type':_0x40b3c1(0x8fd)},'body':JSON['stringify'](_0x1180d2)});if(!_0x4e3342['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x4e3342[_0x40b3c1(0x95a)]);const _0x444153=await _0x4e3342[_0x40b3c1(0x8b8)]();if(_0x444153[_0x40b3c1(0x955)]?.[0x0]?.[_0x40b3c1(0x710)]?.[_0x40b3c1(0x89d)]?.[0x0]){let _0x59c3cd=_0x444153[_0x40b3c1(0x955)][0x0][_0x40b3c1(0x710)][_0x40b3c1(0x89d)][0x0][_0x40b3c1(0x45f)],_0x4b8ae9;try{if(_0x59c3cd[_0x40b3c1(0x928)](_0x40b3c1(0x5bd)))_0x59c3cd=_0x59c3cd[_0x40b3c1(0x395)](0x7,_0x59c3cd[_0x40b3c1(0x2c9)]-0x3)['trim']();else _0x59c3cd[_0x40b3c1(0x928)]('```')&&(_0x59c3cd=_0x59c3cd[_0x40b3c1(0x395)](0x3,_0x59c3cd[_0x40b3c1(0x2c9)]-0x3)[_0x40b3c1(0x79e)]());_0x4b8ae9=JSON['parse'](_0x59c3cd);}catch(_0x58ead2){console[_0x40b3c1(0x84a)](_0x40b3c1(0x5e3),_0x58ead2,_0x59c3cd);throw new Error(_0x40b3c1(0x845));}if(_0x68ac6a!==null){if(_0x4b8ae9['questionType']==='matching_item'){const _0x5cbfd4=currentQuizData['questions']['map'](_0x4ddedb=>_0x4ddedb['correctResponse']);_0x4b8ae9['allResponses']=_0x5cbfd4;const _0x353ec1=currentQuizData[_0x40b3c1(0x474)][_0x68ac6a][_0x40b3c1(0x8e5)],_0x40428b=_0x5cbfd4[_0x40b3c1(0x112)](_0x353ec1);_0x40428b>-0x1&&(_0x5cbfd4[_0x40428b]=_0x4b8ae9[_0x40b3c1(0x8e5)]),currentQuizData[_0x40b3c1(0x474)][_0x40b3c1(0x7b1)](_0x471e4b=>{const _0x36fb89=_0x40b3c1;if(_0x471e4b['questionType']==='matching_item')_0x471e4b[_0x36fb89(0x2fa)]=_0x5cbfd4;});}currentQuizData[_0x40b3c1(0x474)][_0x68ac6a]=_0x4b8ae9,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x4b8ae9;const _0x51bd42=document[_0x40b3c1(0x5a3)](_0x40b3c1(0x30c))[_0x40b3c1(0x50c)];currentQuizData[_0x40b3c1(0x907)]=_0x51bd42,currentQuizData[_0x40b3c1(0x474)]&&currentQuizData[_0x40b3c1(0x474)][_0x40b3c1(0x7b1)](_0x1ddb01=>{const _0x121b55=_0x40b3c1;if(!_0x1ddb01[_0x121b55(0x891)]){if(_0x51bd42==='fill_in_with_choices')_0x1ddb01[_0x121b55(0x891)]=_0x121b55(0x1c6);else _0x51bd42==='fill_in_no_choices'?_0x1ddb01['questionType']=_0x121b55(0x511):_0x1ddb01[_0x121b55(0x891)]=_0x51bd42;}}),displayGeneratedQuiz(currentQuizData);}}else{console['error'](_0x40b3c1(0x56a),JSON[_0x40b3c1(0x65f)](_0x444153));throw new Error(_0x40b3c1(0x845));}}catch(_0x985091){console[_0x40b3c1(0x84a)](_0x40b3c1(0x302),_0x985091),showMessage(_0x40b3c1(0x923)),_0x68ac6a===null&&(_0x3fabce['innerHTML']=_0x40b3c1(0x178));}finally{_0x2e7c73[_0x40b3c1(0x24d)][_0x40b3c1(0x162)](_0x40b3c1(0x825)),document[_0x40b3c1(0x5a3)](_0x40b3c1(0x819))[_0x40b3c1(0x190)]=![],document[_0x40b3c1(0x5a3)](_0x40b3c1(0x116))[_0x40b3c1(0x190)]=![],document[_0x40b3c1(0x5a3)](_0x40b3c1(0x5a7))[_0x40b3c1(0x190)]=![];const _0x5d1f7a=document[_0x40b3c1(0x5a3)](_0x40b3c1(0x58e));_0x5d1f7a&&(_0x5d1f7a[_0x40b3c1(0x190)]=![]);}}function exitFullscreen(){const _0x266a62=_0x27804f;if(document[_0x266a62(0x4e9)])document[_0x266a62(0x4e9)]()[_0x266a62(0x2a5)](_0xda0cf9=>console[_0x266a62(0x84a)](_0xda0cf9));else{if(document[_0x266a62(0x355)])document[_0x266a62(0x355)]();else document[_0x266a62(0x90e)]&&document[_0x266a62(0x90e)]();}}function enterFullscreen(){const _0x496bf9=_0x27804f,_0xda7d34=document[_0x496bf9(0x9d4)];if(_0xda7d34[_0x496bf9(0x5b3)])_0xda7d34['requestFullscreen']()[_0x496bf9(0x2a5)](_0x29424b=>{const _0x39f1b9=_0x496bf9;console['error'](_0x39f1b9(0x1e5)+_0x29424b[_0x39f1b9(0x3f9)]+'\x20('+_0x29424b['name']+')');});else{if(_0xda7d34[_0x496bf9(0x927)])_0xda7d34[_0x496bf9(0x927)]();else _0xda7d34[_0x496bf9(0x255)]&&_0xda7d34[_0x496bf9(0x255)]();}}function handleCheatingEvent(){const _0x5f4cb7=_0x27804f;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x5f4cb7(0xa06),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x5f4cb7(0x701)+maxCheatAttempts+_0x5f4cb7(0x4e7)),document[_0x5f4cb7(0x5a3)](_0x5f4cb7(0x2c4))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x5f4cb7(0x6ac)](_0x5f4cb7(0x448),handleVisibilityChange),document[_0x5f4cb7(0x6ac)](_0x5f4cb7(0x1ec),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x5f4cb7(0xb6),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x5adf18=_0x27804f;if(currentMode===_0x5adf18(0x456)||!isQuizActive)return;if(document[_0x5adf18(0x382)]===_0x5adf18(0x825))handleCheatingEvent();else document['visibilityState']==='visible'&&(console[_0x5adf18(0x909)](_0x5adf18(0xfd)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x257ff9=_0x27804f;if(currentMode===_0x257ff9(0x456)||!isQuizActive)return;!document[_0x257ff9(0x6ad)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0xa944fa){const _0x679228=_0x27804f,_0x2f8ee5=document[_0x679228(0x5a3)](_0x679228(0x904));let _0x34b6f7=_0x679228(0x98e)+_0xa944fa[_0x679228(0x2a9)]+'</h3>';_0xa944fa['questions']['forEach']((_0x298bbf,_0x224233)=>{const _0x3da806=_0x679228;!_0x298bbf['id']&&(_0x298bbf['id']='q_'+Date['now']()+'_'+_0x224233);const _0x2f8e8c=_0x298bbf['questionType']||_0xa944fa['quizType'];_0x34b6f7+=_0x3da806(0x46e)+_0x224233+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x224233+_0x3da806(0x6fb)+_0x224233+_0x3da806(0x9f1)+_0x224233+_0x3da806(0x3e1);switch(_0x2f8e8c){case'matching_item':_0x34b6f7+=_0x3da806(0x339)+_0x224233+'\x22>'+(_0x224233+0x1)+'.\x20'+_0x298bbf['stem']+'</p>';_0x298bbf[_0x3da806(0xd9)]&&(_0x34b6f7+=_0x3da806(0x1d3)+_0x224233+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x298bbf[_0x3da806(0xd9)]+_0x3da806(0x8c4));_0x34b6f7+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x224233+'\x22>'+_0x298bbf['correctResponse']+_0x3da806(0x99f),_0x34b6f7+=_0x3da806(0x2ce)+_0x224233+'\x22>'+_0x298bbf[_0x3da806(0x559)]+'</span></div>';break;case _0x3da806(0x511):_0x34b6f7+=_0x3da806(0x339)+_0x224233+'\x22>'+(_0x224233+0x1)+'.\x20'+_0x298bbf['questionText']+_0x3da806(0x37d);_0x298bbf[_0x3da806(0xd9)]&&(_0x34b6f7+=_0x3da806(0x1d3)+_0x224233+_0x3da806(0x1c4)+_0x298bbf[_0x3da806(0xd9)]+_0x3da806(0x8c4));_0x34b6f7+=_0x3da806(0x8d0)+_0x224233+'\x22>'+_0x298bbf[_0x3da806(0x8a2)]+'</span></div>',_0x34b6f7+=_0x3da806(0x2ce)+_0x224233+'\x22>'+_0x298bbf['explanation']+'</span></div>';break;case _0x3da806(0x6d1):_0x34b6f7+=_0x3da806(0x339)+_0x224233+'\x22>'+(_0x224233+0x1)+'.\x20'+_0x298bbf[_0x3da806(0x872)]+_0x3da806(0x37d);_0x298bbf[_0x3da806(0xd9)]&&(_0x34b6f7+=_0x3da806(0x1d3)+_0x224233+_0x3da806(0x1c4)+_0x298bbf[_0x3da806(0xd9)]+_0x3da806(0x8c4));_0x34b6f7+=_0x3da806(0x9c9)+(_0x298bbf[_0x3da806(0x1e0)]===!![]?_0x3da806(0x7f2):'')+_0x3da806(0xaf)+(_0x298bbf['correctAnswer']===![]?'text-green-600\x20font-bold':'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x34b6f7+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x224233+'\x22>'+_0x298bbf['explanation']+_0x3da806(0x99f);break;case'fill_in_the_blank':case _0x3da806(0x1c6):default:_0x34b6f7+=_0x3da806(0x339)+_0x224233+'\x22>'+(_0x224233+0x1)+'.\x20'+_0x298bbf[_0x3da806(0x872)]+'</p>';_0x298bbf[_0x3da806(0xd9)]&&(_0x34b6f7+=_0x3da806(0x1d3)+_0x224233+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x298bbf[_0x3da806(0xd9)]+_0x3da806(0x8c4));_0x34b6f7+=_0x3da806(0x7df)+_0x224233+_0x3da806(0x1bb)+_0x298bbf[_0x3da806(0x86b)][_0x3da806(0x6d7)]((_0x4aa363,_0x4de9a3)=>_0x3da806(0x3c0)+(_0x4de9a3===_0x298bbf[_0x3da806(0x150)]?_0x3da806(0x7f2):'')+'\x22>'+_0x4aa363+'</li>')[_0x3da806(0x1cb)]('')+_0x3da806(0x3b0),_0x34b6f7+=_0x3da806(0x2ce)+_0x224233+'\x22>'+_0x298bbf['explanation']+_0x3da806(0x99f);break;}_0x34b6f7+='</div>';}),_0x34b6f7+=_0x679228(0x6c2),_0x2f8ee5[_0x679228(0x3e2)]=_0x34b6f7,document[_0x679228(0x7c7)](_0x679228(0x89f))[_0x679228(0x7b1)](_0x3e62d2=>_0x3e62d2[_0x679228(0x2ea)]('click',handleEditQuestion)),document[_0x679228(0x7c7)](_0x679228(0xa02))['forEach'](_0x1ad9e1=>_0x1ad9e1['addEventListener'](_0x679228(0x189),handleRegenerateQuestion)),document[_0x679228(0x7c7)]('.save-to-bank-btn')[_0x679228(0x7b1)](_0x14acfa=>_0x14acfa[_0x679228(0x2ea)](_0x679228(0x189),handleSaveToBank)),document[_0x679228(0x5a3)](_0x679228(0x115))[_0x679228(0x2ea)]('click',exportQuizAsWorksheetPDF),document['getElementById'](_0x679228(0x60b))['addEventListener'](_0x679228(0x189),saveQuiz),document[_0x679228(0x5a3)](_0x679228(0x82d))[_0x679228(0x2ea)](_0x679228(0x189),handleVerifyAnswers);if(window[_0x679228(0x403)])window[_0x679228(0x403)][_0x679228(0x276)]([_0x2f8ee5]);}function handleRegenerateQuestion(_0x2ddb79){const _0x3ac30d=_0x27804f,_0x3fe9ed=_0x2ddb79[_0x3ac30d(0x1e2)]['dataset'][_0x3ac30d(0x6c9)],_0x263cfd=currentQuizData['topic'];showMessage(_0x3ac30d(0x70d)+(parseInt(_0x3fe9ed)+0x1)+'\x20ใหม่...'),generateQuiz(_0x263cfd,null,parseInt(_0x3fe9ed));}function getPointerPosition(_0x515960,_0x2b5c63){const _0x25f0ca=_0x27804f,_0x2953c8=_0x515960['getScreenCTM']();let _0x45b682,_0x488d81;return _0x2b5c63['touches']&&_0x2b5c63[_0x25f0ca(0x1e6)][_0x25f0ca(0x2c9)]>0x0?(_0x45b682=_0x2b5c63['touches'][0x0][_0x25f0ca(0x9eb)],_0x488d81=_0x2b5c63['touches'][0x0][_0x25f0ca(0x39b)]):(_0x45b682=_0x2b5c63[_0x25f0ca(0x9eb)],_0x488d81=_0x2b5c63['clientY']),{'x':(_0x45b682-_0x2953c8['e'])/_0x2953c8['a'],'y':(_0x488d81-_0x2953c8['f'])/_0x2953c8['d']};}function startDrag(_0xe14e8e){const _0x28a638=_0x27804f;_0xe14e8e['type']===_0x28a638(0x810)&&_0xe14e8e[_0x28a638(0xba)]();const _0x40f996=_0xe14e8e[_0x28a638(0x680)][_0x28a638(0x35a)](_0x28a638(0x642));if(_0x40f996){draggedSvgElement=_0x40f996;const _0x2f1bfe=draggedSvgElement[_0x28a638(0x188)],_0x4a7004=getPointerPosition(_0x2f1bfe,_0xe14e8e);svgOffset['x']=_0x4a7004['x']-parseFloat(draggedSvgElement[_0x28a638(0x856)](null,'x')),svgOffset['y']=_0x4a7004['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x4b97f4,_0x1789f7){const _0x123978=_0x27804f,_0x1a0846={};if(_0x1789f7['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x301cf4=[..._0x1789f7][_0x123978(0x1e4)]((_0x836391,_0x11e26f)=>{const _0x4a9fb7=_0x123978,_0x240f06=_0x11e26f[_0x4a9fb7(0x36c)]-_0x836391[_0x4a9fb7(0x36c)];if(_0x240f06!==0x0)return _0x240f06;const _0x56a6c0=_0x836391[_0x4a9fb7(0x992)]?.['length']||0x1,_0x3cb293=_0x11e26f[_0x4a9fb7(0x992)]?.[_0x4a9fb7(0x2c9)]||0x1,_0x4004bd=_0x56a6c0-_0x3cb293;if(_0x4004bd!==0x0)return _0x4004bd;const _0x3b7120=new Date(_0x836391[_0x4a9fb7(0x750)]),_0x2f21fb=new Date(_0x11e26f['latestSubmittedAt']),_0x4914c4=_0x3b7120-_0x2f21fb;if(_0x4914c4!==0x0)return _0x4914c4;return _0x836391[_0x4a9fb7(0x640)][_0x4a9fb7(0x66d)](_0x11e26f['studentName'],'th');}),_0x33d310=_0x301cf4[_0x123978(0x2c9)],_0x3df008=Math[_0x123978(0xb5)](0x1,Math[_0x123978(0x5f1)](_0x33d310*0.33));if(_0x3df008===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x8355e0=_0x301cf4['slice'](0x0,_0x3df008),_0x4c33fb=_0x301cf4[_0x123978(0xf9)](-_0x3df008),_0x169045=_0x8355e0[_0x123978(0x6d7)](_0xc18fec=>_0xc18fec['studentName']),_0x31fc47=_0x4c33fb[_0x123978(0x6d7)](_0x507d63=>_0x507d63[_0x123978(0x640)]);return _0x4b97f4[_0x123978(0x474)][_0x123978(0x7b1)]((_0x2a3a9a,_0x5c3e2a)=>{const _0x5b1ead=_0x123978,_0x3c3403=_0x2a3a9a[_0x5b1ead(0x956)]||_0x2a3a9a[_0x5b1ead(0x872)];let _0x47e1b6=0x0,_0xca0b51=0x0,_0x3cf5d7=0x0;const _0x21432f=[],_0x5a36f7=[];_0x8355e0['forEach'](_0x1f10f7=>{const _0x1ed2f8=_0x5b1ead,_0x110ec2=_0x1f10f7[_0x1ed2f8(0x992)][_0x1f10f7['attempts'][_0x1ed2f8(0x2c9)]-0x1],_0x223951=_0x110ec2[_0x1ed2f8(0xc4)][_0x1ed2f8(0x894)](_0x29293f=>_0x29293f[_0x1ed2f8(0x985)]===_0x3c3403);_0x21432f['push']({'name':_0x1f10f7[_0x1ed2f8(0x640)],'isCorrect':_0x223951?_0x223951[_0x1ed2f8(0x91a)]:![]}),_0x223951&&_0x223951[_0x1ed2f8(0x91a)]&&_0xca0b51++;}),_0x4c33fb[_0x5b1ead(0x7b1)](_0x313b5b=>{const _0x5e7cc9=_0x5b1ead,_0x25748b=_0x313b5b[_0x5e7cc9(0x992)][_0x313b5b[_0x5e7cc9(0x992)][_0x5e7cc9(0x2c9)]-0x1],_0x168a31=_0x25748b['answers']['find'](_0x862ad=>_0x862ad[_0x5e7cc9(0x985)]===_0x3c3403);_0x5a36f7[_0x5e7cc9(0x523)]({'name':_0x313b5b[_0x5e7cc9(0x640)],'isCorrect':_0x168a31?_0x168a31[_0x5e7cc9(0x91a)]:![]}),_0x168a31&&_0x168a31[_0x5e7cc9(0x91a)]&&_0x3cf5d7++;}),_0x1789f7[_0x5b1ead(0x7b1)](_0x2a2922=>{const _0xbe7e4d=_0x5b1ead,_0x5a5127=_0x2a2922[_0xbe7e4d(0x992)][_0x2a2922[_0xbe7e4d(0x992)][_0xbe7e4d(0x2c9)]-0x1],_0x164836=_0x5a5127['answers'][_0xbe7e4d(0x894)](_0x14afc3=>_0x14afc3['originalQuestionText']===_0x3c3403);_0x164836&&_0x164836['isCorrect']&&_0x47e1b6++;});const _0x1c98c9=_0x33d310>0x0?_0x47e1b6/_0x33d310:0x0,_0x4bf74b=_0x3df008>0x0?_0xca0b51/_0x3df008-_0x3cf5d7/_0x3df008:0x0;_0x1a0846[_0x5c3e2a]={'p':_0x1c98c9,'r':_0x4bf74b,'upperGroupResponders':_0x21432f,'lowerGroupResponders':_0x5a36f7};}),{'perQuestionStats':_0x1a0846,'overallGroups':{'upperGroupNames':_0x169045,'lowerGroupNames':_0x31fc47}};}function drag(_0x10d927){const _0x316f27=_0x27804f;if(draggedSvgElement){_0x10d927['preventDefault']();const _0x66b827=draggedSvgElement[_0x316f27(0x188)],_0xb0b96f=getPointerPosition(_0x66b827,_0x10d927),_0x350f80=_0x66b827[_0x316f27(0x16d)][_0x316f27(0x2b1)];let _0xe975e9=_0xb0b96f['x']-svgOffset['x'],_0x2af650=_0xb0b96f['y']-svgOffset['y'];const _0xbf23e=draggedSvgElement[_0x316f27(0x318)]();_0xe975e9=Math[_0x316f27(0xb5)](_0x350f80['x'],Math[_0x316f27(0x316)](_0xe975e9,_0x350f80['x']+_0x350f80['width']-_0xbf23e[_0x316f27(0x6c1)])),_0x2af650=Math[_0x316f27(0xb5)](_0x350f80['y'],Math[_0x316f27(0x316)](_0x2af650,_0x350f80['y']+_0x350f80[_0x316f27(0x682)]-_0xbf23e[_0x316f27(0x682)])),draggedSvgElement[_0x316f27(0x477)](null,'x',_0xe975e9),draggedSvgElement['setAttributeNS'](null,'y',_0x2af650);}}function endDrag(_0x5eea06){draggedSvgElement=null;}function handleSvgEditClick(_0x402dc1){const _0x408271=_0x27804f;if(_0x402dc1[_0x408271(0x680)][_0x408271(0x24d)][_0x408271(0x6e6)](_0x408271(0x29b))){const _0x3fc7c3=_0x402dc1[_0x408271(0x680)][_0x408271(0x4b7)][_0x408271(0x1c0)],_0x50790d=_0x402dc1[_0x408271(0x1e2)],_0x340883=_0x50790d[_0x408271(0x62c)]('#'+_0x3fc7c3);_0x340883&&_0x340883['remove'](),_0x402dc1[_0x408271(0x680)][_0x408271(0x3dd)]();}}function handleEditQuestion(_0xa005fd){const _0x5547b1=_0x27804f,_0x24881e=_0xa005fd[_0x5547b1(0x1e2)],_0x5524f0=_0x24881e['dataset']['index'],_0x3d30bc=currentQuizData[_0x5547b1(0x474)][_0x5524f0],_0x1a0104=document[_0x5547b1(0x5a3)](_0x5547b1(0x97e)+_0x5524f0),_0x3c2a94=document[_0x5547b1(0x5a3)]('q-explanation-'+_0x5524f0),_0x474958=document[_0x5547b1(0x5a3)]('q-image-container-'+_0x5524f0);if(_0x24881e[_0x5547b1(0x3e2)]['includes'](_0x5547b1(0x2ef))){_0x24881e[_0x5547b1(0x3e2)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x24881e[_0x5547b1(0x484)]=_0x5547b1(0x1d4);if(_0x1a0104)_0x1a0104[_0x5547b1(0x40c)]=!![];if(_0x3c2a94)_0x3c2a94[_0x5547b1(0x40c)]=!![];if(_0x474958){const _0x22af65=_0x474958['querySelector']('svg');if(_0x22af65){const _0x2ac081=_0x22af65[_0x5547b1(0x7c7)]('text');_0x2ac081[_0x5547b1(0x7b1)]((_0x229912,_0x387146)=>{const _0x550da8=_0x5547b1,_0x3f8845=_0x550da8(0x3f8)+_0x5524f0+'-'+_0x387146;_0x229912['id']=_0x3f8845,_0x229912[_0x550da8(0x24d)][_0x550da8(0x162)]('draggable-text'),_0x229912[_0x550da8(0x39c)]['cursor']=_0x550da8(0x41a);const _0xdd9f2=document[_0x550da8(0x40f)](_0x550da8(0x72d),'circle'),_0x27a545=_0x229912[_0x550da8(0x318)]();_0xdd9f2[_0x550da8(0x853)]('cx',String(_0x27a545['x']+_0x27a545[_0x550da8(0x6c1)]+0x5)),_0xdd9f2[_0x550da8(0x853)]('cy',String(_0x27a545['y']+_0x27a545['height']/0x2-0x5)),_0xdd9f2[_0x550da8(0x853)]('r','5'),_0xdd9f2[_0x550da8(0x853)](_0x550da8(0x7fb),_0x550da8(0x315)),_0xdd9f2[_0x550da8(0x853)](_0x550da8(0x5f3),'delete-svg-btn'),_0xdd9f2[_0x550da8(0x4b7)][_0x550da8(0x1c0)]=_0x3f8845,_0x229912['after'](_0xdd9f2);}),_0x22af65['addEventListener'](_0x5547b1(0x4db),startDrag),_0x22af65['addEventListener']('mousemove',drag),_0x22af65[_0x5547b1(0x2ea)](_0x5547b1(0x29d),endDrag),_0x22af65[_0x5547b1(0x2ea)](_0x5547b1(0x159),endDrag),_0x22af65[_0x5547b1(0x2ea)](_0x5547b1(0x810),startDrag,{'passive':![]}),_0x22af65[_0x5547b1(0x2ea)]('touchmove',drag,{'passive':![]}),_0x22af65['addEventListener'](_0x5547b1(0x144),endDrag),_0x22af65[_0x5547b1(0x2ea)](_0x5547b1(0x4e8),endDrag),_0x22af65[_0x5547b1(0x2ea)](_0x5547b1(0x189),handleSvgEditClick);}}if(_0x1a0104)_0x1a0104['focus']();}else{_0x24881e[_0x5547b1(0x3e2)]=_0x5547b1(0x325),_0x24881e[_0x5547b1(0x484)]=_0x5547b1(0x7ad);if(_0x1a0104){_0x1a0104[_0x5547b1(0x40c)]=![];const _0x1707de=_0x3d30bc[_0x5547b1(0x891)]||currentQuizData['quizType'];_0x1707de===_0x5547b1(0x3fd)?_0x3d30bc[_0x5547b1(0x956)]=_0x1a0104[_0x5547b1(0x3b2)][_0x5547b1(0x395)](_0x1a0104[_0x5547b1(0x3b2)][_0x5547b1(0x112)]('.')+0x2)[_0x5547b1(0x79e)]():_0x3d30bc[_0x5547b1(0x872)]=_0x1a0104[_0x5547b1(0x3b2)]['substring'](_0x1a0104[_0x5547b1(0x3b2)][_0x5547b1(0x112)]('.')+0x2)[_0x5547b1(0x79e)]();}_0x3c2a94&&(_0x3c2a94['contentEditable']=![],_0x3d30bc[_0x5547b1(0x559)]=_0x3c2a94[_0x5547b1(0x3b2)]);if(_0x474958){const _0xeb09b3=_0x474958[_0x5547b1(0x62c)](_0x5547b1(0x26c));if(_0xeb09b3){const _0x195bb5=_0xeb09b3['cloneNode'](!![]);_0x195bb5[_0x5547b1(0x7c7)](_0x5547b1(0x152))[_0x5547b1(0x7b1)](_0x55709b=>_0x55709b[_0x5547b1(0x3dd)]()),_0x195bb5[_0x5547b1(0x7c7)](_0x5547b1(0x642))['forEach'](_0x27fa3f=>{const _0x1e67df=_0x5547b1;_0x27fa3f[_0x1e67df(0x24d)][_0x1e67df(0x3dd)](_0x1e67df(0x2e4)),_0x27fa3f['style']['cursor']=_0x1e67df(0x3a3),_0x27fa3f[_0x1e67df(0x8b6)]('id');}),_0x3d30bc[_0x5547b1(0xd9)]=_0x195bb5[_0x5547b1(0x310)],_0xeb09b3['removeEventListener']('mousedown',startDrag),_0xeb09b3['removeEventListener'](_0x5547b1(0x767),drag),_0xeb09b3[_0x5547b1(0x6ac)](_0x5547b1(0x29d),endDrag),_0xeb09b3[_0x5547b1(0x6ac)]('mouseleave',endDrag),_0xeb09b3[_0x5547b1(0x6ac)](_0x5547b1(0x810),startDrag),_0xeb09b3['removeEventListener'](_0x5547b1(0x461),drag),_0xeb09b3['removeEventListener'](_0x5547b1(0x144),endDrag),_0xeb09b3[_0x5547b1(0x6ac)]('touchcancel',endDrag),_0xeb09b3[_0x5547b1(0x6ac)](_0x5547b1(0x189),handleSvgEditClick),_0xeb09b3['querySelectorAll'](_0x5547b1(0x152))[_0x5547b1(0x7b1)](_0x46bde1=>_0x46bde1[_0x5547b1(0x3dd)]()),_0xeb09b3[_0x5547b1(0x7c7)]('.draggable-text')['forEach'](_0xc017e6=>{const _0x3b9d87=_0x5547b1;_0xc017e6['classList']['remove'](_0x3b9d87(0x2e4)),_0xc017e6[_0x3b9d87(0x39c)][_0x3b9d87(0x8c3)]=_0x3b9d87(0x3a3);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0xd0c44c){const _0x22c236=_0x27804f,_0x48bea5=document[_0x22c236(0x5a3)](_0x22c236(0x612)),_0x1a5975=document[_0x22c236(0x5a3)](_0x22c236(0x498));_0x1a5975[_0x22c236(0x3e2)]=_0x22c236(0x517),_0x48bea5[_0x22c236(0x24d)][_0x22c236(0x3dd)](_0x22c236(0x825));try{const _0x4eeaa3=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0xd0c44c),_0x29cc3d=await getDoc(_0x4eeaa3);if(!_0x29cc3d['exists']())throw new Error(_0x22c236(0x534));currentEditingQuizData={'id':_0xd0c44c,..._0x29cc3d[_0x22c236(0x724)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x579a78){console[_0x22c236(0x84a)]('Error\x20opening\x20quiz\x20editor:',_0x579a78),showMessage(_0x22c236(0x571)),_0x48bea5[_0x22c236(0x24d)][_0x22c236(0x162)]('hidden');}}function renderQuizEditor(_0x113d1c){const _0x32daf5=_0x27804f;document[_0x32daf5(0x5a3)](_0x32daf5(0x1e9))['value']=_0x113d1c['topic'];const _0x282111=document[_0x32daf5(0x5a3)](_0x32daf5(0x498));let _0x9cfcd8=_0x113d1c['questions'][_0x32daf5(0x6d7)]((_0xf61490,_0x2db3b1)=>{const _0x43a55f=_0x32daf5;let _0x16fd83='';const _0x5642f1=_0xf61490['questionType']||_0x113d1c['quizType'];switch(_0x5642f1){case _0x43a55f(0x1c6):const _0x32bb2a=(_0xf61490[_0x43a55f(0x86b)]||[])[_0x43a55f(0x6d7)]((_0x5c82c3,_0x1e92ee)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x2db3b1+_0x43a55f(0x46d)+_0x1e92ee+'\x22\x20'+(_0x1e92ee===_0xf61490['correctAnswerIndex']?'checked':'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x5c82c3+_0x43a55f(0x847))[_0x43a55f(0x1cb)]('');_0x16fd83=_0x43a55f(0x82f)+_0x32bb2a+_0x43a55f(0x75c);break;case _0x43a55f(0x511):_0x16fd83=_0x43a55f(0x232)+(_0xf61490[_0x43a55f(0x8a2)]||'')+_0x43a55f(0x7af);break;case _0x43a55f(0x6d1):_0x16fd83=_0x43a55f(0x7a9)+_0x2db3b1+'\x22\x20value=\x22true\x22\x20'+(_0xf61490['correctAnswer']===!![]?_0x43a55f(0x9b1):'')+_0x43a55f(0x64e)+_0x2db3b1+'\x22\x20value=\x22false\x22\x20'+(_0xf61490[_0x43a55f(0x1e0)]===![]?_0x43a55f(0x9b1):'')+_0x43a55f(0x314);break;case _0x43a55f(0x3fd):_0x16fd83=_0x43a55f(0x647)+(_0xf61490[_0x43a55f(0x8e5)]||'')+_0x43a55f(0x168);break;}const _0x3a2df2=_0xf61490['questionText']||_0xf61490[_0x43a55f(0x956)]||'';return'\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x2db3b1+_0x43a55f(0x604)+_0x5642f1+_0x43a55f(0x6e5)+(_0x2db3b1+0x1)+'\x20('+_0x5642f1+'):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x3a2df2+_0x43a55f(0x1b8)+_0x16fd83+_0x43a55f(0x478);})[_0x32daf5(0x1cb)]('');_0x282111['innerHTML']=_0x9cfcd8,_0x282111[_0x32daf5(0x7c7)](_0x32daf5(0x13e))[_0x32daf5(0x7b1)](_0x52dded=>{const _0x2ece9a=_0x32daf5;_0x52dded[_0x2ece9a(0x2ea)](_0x2ece9a(0x189),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x4d10ee){const _0x5f5aa0=_0x27804f,_0x1c440b=_0x4d10ee[_0x5f5aa0(0x1e2)],_0x569740=_0x1c440b[_0x5f5aa0(0x35a)](_0x5f5aa0(0x28a));if(!_0x569740)return;const _0x219d72=parseInt(_0x569740[_0x5f5aa0(0x4b7)]['qIndex'],0xa);if(isNaN(_0x219d72)||!currentEditingQuizData[_0x5f5aa0(0x474)][_0x219d72]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x703e11=currentEditingQuizData['questions'][_0x219d72];_0x1c440b['innerHTML']=_0x5f5aa0(0x54e),_0x1c440b[_0x5f5aa0(0x190)]=!![];const _0x4c6799=_0x5f5aa0(0x830)+JSON[_0x5f5aa0(0x65f)](_0x703e11)+_0x5f5aa0(0x7b9);let _0x3dab2c;const _0x2a6b20=_0x703e11['questionType']||currentEditingQuizData['quizType'];switch(_0x2a6b20){case'short_answer':_0x3dab2c={'type':_0x5f5aa0(0x440),'properties':{'questionText':{'type':_0x5f5aa0(0x1fb)},'idealAnswer':{'type':_0x5f5aa0(0x1fb)},'explanation':{'type':_0x5f5aa0(0x1fb)},'imageCode':{'type':_0x5f5aa0(0x1fb)}},'required':[_0x5f5aa0(0x872),'idealAnswer',_0x5f5aa0(0x559)]};break;case _0x5f5aa0(0x1c6):default:_0x3dab2c={'type':_0x5f5aa0(0x440),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x5f5aa0(0x9a6),'items':{'type':_0x5f5aa0(0x1fb)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5f5aa0(0x1fb)},'imageCode':{'type':_0x5f5aa0(0x1fb)}},'required':['questionText',_0x5f5aa0(0x86b),_0x5f5aa0(0x150),_0x5f5aa0(0x559)]};break;}try{let _0x1b79fc=await callAnalysisApi(_0x4c6799,_0x3dab2c);_0x1b79fc[_0x5f5aa0(0x86b)]&&Array['isArray'](_0x1b79fc[_0x5f5aa0(0x86b)])&&(_0x1b79fc[_0x5f5aa0(0x86b)]=_0x1b79fc[_0x5f5aa0(0x86b)]['map'](_0xd317eb=>typeof _0xd317eb===_0x5f5aa0(0x179)?_0xd317eb['replace'](/S(\s*[\d_]+?\s*)S/g,_0x5f5aa0(0x358)):_0xd317eb)),_0x703e11[_0x5f5aa0(0xd9)]&&_0x703e11[_0x5f5aa0(0xd9)][_0x5f5aa0(0x885)]('fix\x20the\x20option')&&(_0x1b79fc['imageCode']=''),currentEditingQuizData['questions'][_0x219d72]={..._0x703e11,..._0x1b79fc},renderQuizEditor(currentEditingQuizData),showMessage(_0x5f5aa0(0x5d7));}catch(_0x1a70b3){console['error'](_0x5f5aa0(0x206),_0x1a70b3),showMessage(_0x5f5aa0(0x496)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x4bea69=_0x27804f,_0x6d5078=document['getElementById'](_0x4bea69(0x9cc));_0x6d5078['disabled']=!![],_0x6d5078['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x3f6c4f=document[_0x4bea69(0x5a3)]('editor-quiz-topic')[_0x4bea69(0x50c)],_0x1ac5f3=document[_0x4bea69(0x7c7)](_0x4bea69(0x28a));let _0x24e8ad=[];const _0x3c6f77=Array[_0x4bea69(0x17b)](_0x1ac5f3)[_0x4bea69(0x6d7)]((_0x2a509b,_0x206641)=>{const _0x23b69d=_0x4bea69,_0x7de536=_0x2a509b[_0x23b69d(0x4b7)]['qType'],_0x3e3d89=_0x2a509b[_0x23b69d(0x62c)](_0x23b69d(0x695))[_0x23b69d(0x50c)];let _0x1c50d7={'questionType':_0x7de536};const _0x1a27fe=currentEditingQuizData[_0x23b69d(0x474)][_0x206641];switch(_0x7de536){case'multiple_choice':_0x1c50d7[_0x23b69d(0x872)]=_0x3e3d89;const _0xc3fb94=_0x2a509b[_0x23b69d(0x7c7)](_0x23b69d(0x5b9));_0x1c50d7[_0x23b69d(0x86b)]=Array[_0x23b69d(0x17b)](_0xc3fb94)[_0x23b69d(0x6d7)](_0x942a92=>_0x942a92[_0x23b69d(0x50c)]);const _0x3081f6=_0x2a509b[_0x23b69d(0x62c)]('input[type=\x22radio\x22]:checked');_0x1c50d7[_0x23b69d(0x150)]=_0x3081f6?parseInt(_0x3081f6['value']):0x0;break;case'short_answer':_0x1c50d7['questionText']=_0x3e3d89,_0x1c50d7[_0x23b69d(0x8a2)]=_0x2a509b[_0x23b69d(0x62c)](_0x23b69d(0xc3))['value'];break;case'true_false':_0x1c50d7[_0x23b69d(0x872)]=_0x3e3d89;const _0x18f1e1=_0x2a509b['querySelector']('input[type=\x22radio\x22]:checked');_0x1c50d7[_0x23b69d(0x1e0)]=_0x18f1e1?_0x18f1e1[_0x23b69d(0x50c)]===_0x23b69d(0x32b):!![];break;case'matching_item':_0x1c50d7[_0x23b69d(0x956)]=_0x3e3d89;const _0x256b1e=_0x2a509b[_0x23b69d(0x62c)](_0x23b69d(0x1a1));_0x1c50d7[_0x23b69d(0x8e5)]=_0x256b1e?_0x256b1e[_0x23b69d(0x50c)]:'',_0x24e8ad[_0x23b69d(0x523)](_0x1c50d7[_0x23b69d(0x8e5)]);break;default:_0x1c50d7[_0x23b69d(0x872)]=_0x3e3d89;break;}return{..._0x1a27fe,..._0x1c50d7};});_0x24e8ad[_0x4bea69(0x2c9)]>0x0&&_0x3c6f77[_0x4bea69(0x7b1)](_0x465eaf=>{const _0x4d6b53=_0x4bea69;_0x465eaf['questionType']===_0x4d6b53(0x3fd)&&(_0x465eaf['allResponses']=_0x24e8ad);});const _0x41f4cb=currentEditingQuizData['id'],_0x6c65aa=doc(db,_0x4bea69(0x71a)+appId+_0x4bea69(0x91e),_0x41f4cb);await updateDoc(_0x6c65aa,{'topic':_0x3f6c4f,'questions':_0x3c6f77}),document[_0x4bea69(0x5a3)](_0x4bea69(0x612))[_0x4bea69(0x24d)][_0x4bea69(0x162)]('hidden'),showMessage(_0x4bea69(0x3d8),()=>initiateReGradeProcess(_0x41f4cb));}catch(_0x50c547){console['error'](_0x4bea69(0x301),_0x50c547),showMessage(_0x4bea69(0x7fd));}finally{_0x6d5078['disabled']=![],_0x6d5078[_0x4bea69(0x3e2)]=_0x4bea69(0x538);}}async function initiateReGradeProcess(_0x14aa4a){const _0x52ba51=_0x27804f;showMessage(_0x52ba51(0x2db));try{const _0x360e8d=doc(db,_0x52ba51(0x71a)+appId+'/public/data/quizzes',_0x14aa4a),_0x245c23=await getDoc(_0x360e8d);if(!_0x245c23[_0x52ba51(0x75f)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x5d3b36={'id':_0x14aa4a,..._0x245c23[_0x52ba51(0x724)]()},_0x35b40f=collection(db,_0x52ba51(0x71a)+appId+_0x52ba51(0x91e),_0x14aa4a,_0x52ba51(0x3cb)),_0xe0d55c=await getDocs(_0x35b40f);if(_0xe0d55c['empty']){showMessage(_0x52ba51(0x43b));return;}const _0x482250=_0xe0d55c[_0x52ba51(0x16e)]['map'](_0x46b1e9=>reGradeSingleSubmission(_0x46b1e9,_0x5d3b36));await Promise[_0x52ba51(0x504)](_0x482250);if(_0x5d3b36[_0x52ba51(0x25d)]){const _0x28a2bd=doc(db,_0x52ba51(0x71a)+appId+_0x52ba51(0x78a),_0x5d3b36[_0x52ba51(0x25d)]),_0x24b87a=await getDoc(_0x28a2bd);if(_0x24b87a[_0x52ba51(0x75f)]()&&_0x24b87a[_0x52ba51(0x724)]()['students']){const _0x23b202=_0x24b87a[_0x52ba51(0x724)]()[_0x52ba51(0x137)][_0x52ba51(0x6d7)](_0x4168b5=>updateStudentProfile(_0x5d3b36[_0x52ba51(0x25d)],_0x4168b5));await Promise[_0x52ba51(0x504)](_0x23b202);}}showMessage(_0x52ba51(0x52a)+_0xe0d55c[_0x52ba51(0x94f)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x5b2136){console[_0x52ba51(0x84a)](_0x52ba51(0x480),_0x5b2136),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x5b2136[_0x52ba51(0x3f9)]);}}async function reGradeSingleSubmission(_0x55805a,_0x5ee6b5){const _0x277004=_0x27804f,_0x4be631=_0x55805a[_0x277004(0x724)](),_0x41f626=_0x4be631[_0x277004(0x640)],_0x1f4f81=_0x4be631['attempts']||[],_0x4bf880=[];for(const _0xad2cb3 of _0x1f4f81){let _0x148acb=0x0,_0xe92d3f=[],_0x4836fd=0x0;const _0x20c775=[];for(const _0x58c27f of _0xad2cb3['answers']){let _0x52be9a;_0x58c27f[_0x277004(0x8ac)]&&(_0x52be9a=_0x5ee6b5['questions']['find'](_0x5e66f7=>_0x5e66f7['id']===_0x58c27f[_0x277004(0x8ac)]));!_0x52be9a&&_0x58c27f['originalQuestionText']&&(_0x52be9a=_0x5ee6b5[_0x277004(0x474)][_0x277004(0x894)](_0x98325d=>(_0x98325d[_0x277004(0x956)]||_0x98325d[_0x277004(0x872)])===_0x58c27f[_0x277004(0x985)]));let _0x3586c3=![];if(_0x52be9a){const _0x333962=_0x52be9a[_0x277004(0x891)]||_0x5ee6b5[_0x277004(0x907)];switch(_0x333962){case'multiple_choice':if(_0x52be9a[_0x277004(0x86b)]&&_0x52be9a['correctAnswerIndex']<_0x52be9a[_0x277004(0x86b)][_0x277004(0x2c9)]){const _0x22c4e7=_0x52be9a[_0x277004(0x86b)][_0x52be9a[_0x277004(0x150)]];_0x3586c3=_0x58c27f['answerText']===_0x22c4e7;}break;case _0x277004(0x6d1):const _0x3567be=_0x58c27f[_0x277004(0x70a)]===!![]||_0x58c27f[_0x277004(0x70a)]===_0x277004(0x32b);_0x3586c3=_0x3567be===_0x52be9a[_0x277004(0x1e0)];break;case _0x277004(0x3fd):_0x3586c3=_0x58c27f['answer']===_0x52be9a[_0x277004(0x8e5)];break;case _0x277004(0x511):_0x3586c3=await gradeShortAnswer(_0x58c27f['answer'],_0x52be9a);break;default:_0x3586c3=_0x58c27f['isCorrect'];break;}}if(_0x3586c3){_0x148acb++,_0x4836fd++;if(_0x4836fd===0x3)_0xe92d3f['push'](BADGES['ON_FIRE']['id']);}else _0x4836fd=0x0;_0x20c775[_0x277004(0x523)]({..._0x58c27f,'isCorrect':_0x3586c3});}let _0x5ba508=_0x148acb*0xa;_0x148acb===_0x5ee6b5[_0x277004(0x474)]['length']&&(_0x5ba508+=0x32,_0xe92d3f[_0x277004(0x523)](BADGES['PERFECT_SCORE']['id'])),_0x4bf880[_0x277004(0x523)]({..._0xad2cb3,'score':_0x148acb,'points':_0x5ba508,'badges':Array[_0x277004(0x17b)](new Set(_0xe92d3f)),'answers':_0x20c775});}const _0x4630f3=_0x4bf880[_0x277004(0x2c9)]>0x0?_0x4bf880[0x0][_0x277004(0x49c)]:0x0,_0x39d1c4=Math[_0x277004(0xb5)](..._0x4bf880['map'](_0x1cdf1b=>_0x1cdf1b['score'])),_0x4e2212=_0x4bf880[_0x277004(0x2c9)]>0x0?_0x4bf880[_0x4bf880[_0x277004(0x2c9)]-0x1]['score']:0x0,_0x42d371=_0x4bf880[_0x277004(0x2c9)]>0x0?_0x4bf880[_0x4bf880[_0x277004(0x2c9)]-0x1]['points']:0x0,_0x24c85b=doc(db,_0x277004(0x71a)+appId+_0x277004(0x9b2)+_0x5ee6b5['id']+_0x277004(0x36e),_0x41f626);await updateDoc(_0x24c85b,{'attempts':_0x4bf880,'firstScore':_0x4630f3,'bestScore':_0x39d1c4,'latestScore':_0x4e2212,'points':_0x42d371});}function cleanupQuizOptions(_0x467306){const _0x5ae8d1=_0x27804f,_0x37504e=(_0x16085b,_0x5494c3)=>_0x5494c3===0x0?_0x16085b:_0x37504e(_0x5494c3,_0x16085b%_0x5494c3),_0x5b4273=_0x20f87c=>{const _0x67793e=_0x2015;if(typeof _0x20f87c!==_0x67793e(0x179))return null;_0x20f87c=_0x20f87c['trim']();const _0x13aa7b=_0x20f87c['split'](/[ /]/)[_0x67793e(0x3bf)](_0x4cec90=>_0x4cec90!=='');if(_0x13aa7b[_0x67793e(0x2c9)]===0x3)return parseInt(_0x13aa7b[0x0])+parseInt(_0x13aa7b[0x1])/parseInt(_0x13aa7b[0x2]);else{if(_0x13aa7b[_0x67793e(0x2c9)]===0x2)return parseInt(_0x13aa7b[0x0])/parseInt(_0x13aa7b[0x1]);else{if(_0x13aa7b[_0x67793e(0x2c9)]===0x1&&!isNaN(_0x13aa7b[0x0]))return parseFloat(_0x13aa7b[0x0]);}}return null;},_0x1fa506=_0x1fe611=>{const _0x47241f=_0x2015;if(typeof _0x1fe611!==_0x47241f(0x179))return _0x1fe611;const _0x5ab6f7=_0x1fe611['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x5ab6f7){const _0x4553e8=parseInt(_0x5ab6f7[0x1]);let _0x4d4deb=parseInt(_0x5ab6f7[0x2]),_0x2f021e=parseInt(_0x5ab6f7[0x3]);const _0x532405=_0x37504e(_0x4d4deb,_0x2f021e);_0x4d4deb/=_0x532405,_0x2f021e/=_0x532405;if(_0x2f021e===0x1)return(_0x4553e8+_0x4d4deb)[_0x47241f(0x791)]();return _0x4553e8+'\x20'+_0x4d4deb+'/'+_0x2f021e;}return _0x1fe611;};return _0x467306&&_0x467306[_0x5ae8d1(0x474)]&&_0x467306[_0x5ae8d1(0x474)][_0x5ae8d1(0x7b1)](_0x171127=>{const _0x5b8e7e=_0x5ae8d1;if(_0x171127[_0x5b8e7e(0x891)]==='multiple_choice'&&_0x171127[_0x5b8e7e(0x86b)]){const _0x2ab79c=new Map(),_0x5ce870=_0x171127['options'][_0x171127[_0x5b8e7e(0x150)]];_0x171127['options'][_0x5b8e7e(0x7b1)](_0x8b7f56=>{const _0xba0060=_0x5b8e7e,_0xc1c362=_0x1fa506(_0x8b7f56),_0x2450db=_0x5b4273(_0xc1c362);_0x2450db!==null&&!_0x2ab79c[_0xba0060(0x4d7)](_0x2450db)&&_0x2ab79c[_0xba0060(0x143)](_0x2450db,_0xc1c362);}),_0x171127[_0x5b8e7e(0x86b)]=Array[_0x5b8e7e(0x17b)](_0x2ab79c[_0x5b8e7e(0x8f5)]());const _0x3d3ebf=_0x171127[_0x5b8e7e(0x86b)]['findIndex'](_0x48d058=>_0x48d058===_0x1fa506(_0x5ce870));_0x171127['correctAnswerIndex']=_0x3d3ebf!==-0x1?_0x3d3ebf:0x0;}}),_0x467306;}function showGameStartConfirmationModal(_0x4dc05b,_0x3de58d,_0x2a810c){const _0x4b00f1=_0x27804f,_0x3c4be4=document[_0x4b00f1(0x5a3)](_0x4b00f1(0x177));document[_0x4b00f1(0x5a3)]('game-start-modal-title')[_0x4b00f1(0x84f)]='เริ่มกิจกรรม:\x20'+_0x2a810c,document['getElementById']('game-start-quiz-id')[_0x4b00f1(0x50c)]=_0x4dc05b,document[_0x4b00f1(0x5a3)](_0x4b00f1(0x3ef))['value']=_0x3de58d,document['getElementById'](_0x4b00f1(0x859))['checked']=!![],_0x3c4be4['classList']['remove'](_0x4b00f1(0x825));}async function saveGameResultsAsSubmissions(_0x1d32e2){const _0x507d71=_0x27804f;console['log'](_0x507d71(0xf2),_0x1d32e2);const _0x16ca98=_0x1d32e2['quizId'];let _0x5e179e=[];if(_0x1d32e2[_0x507d71(0xbe)])_0x5e179e=Object['entries'](_0x1d32e2[_0x507d71(0xbe)])[_0x507d71(0x6d7)](([_0x3b3c6f,_0x4afa8d])=>({'name':_0x3b3c6f,..._0x4afa8d}));else{if(_0x1d32e2['groups'])Object[_0x507d71(0x8f5)](_0x1d32e2[_0x507d71(0x505)])[_0x507d71(0x7b1)](_0x24537a=>{const _0x37d821=_0x507d71;_0x24537a['members'][_0x37d821(0x7b1)](_0x3f5b35=>{const _0x42fa7b=_0x37d821;_0x5e179e[_0x42fa7b(0x523)]({'name':_0x3f5b35,'score':_0x24537a[_0x42fa7b(0x49c)]});});});else _0x1d32e2[_0x507d71(0x494)]&&Object['entries'](_0x1d32e2[_0x507d71(0x494)])[_0x507d71(0x7b1)](([_0x523c86,_0x381af])=>{const _0x41177=_0x507d71;_0x5e179e[_0x41177(0x523)]({'name':_0x523c86,..._0x381af});});}if(_0x5e179e['length']===0x0){console[_0x507d71(0x909)](_0x507d71(0x432));return;}const _0xcb6d53=_0x1d32e2[_0x507d71(0x896)]?.[_0x507d71(0x474)][_0x507d71(0x2c9)]||currentQuizData[_0x507d71(0x474)]['length'],_0x2c2c51=writeBatch(db);for(const _0x42dc10 of _0x5e179e){const _0x36554d=_0x42dc10['score']||0x0,_0x5bf43c=doc(db,'artifacts/'+appId+_0x507d71(0x9b2)+_0x16ca98+'/submissions',_0x42dc10['name']),_0x560948=(_0x42dc10[_0x507d71(0xc4)]||[])[_0x507d71(0x3bf)](_0x4c7f94=>_0x4c7f94[_0x507d71(0x91a)])['length'],_0x320076={'score':_0x560948,'points':_0x36554d,'badges':_0x42dc10[_0x507d71(0x67e)]||[],'submittedAt':new Date()[_0x507d71(0x120)](),'answers':(_0x42dc10['answers']||[])['map'](_0x5da435=>({'questionId':_0x5da435[_0x507d71(0x8ac)],'answer':_0x5da435[_0x507d71(0x70a)],'answerText':_0x5da435[_0x507d71(0x4ed)],'isCorrect':_0x5da435[_0x507d71(0x91a)],'originalQuestionText':_0x5da435[_0x507d71(0x985)],'wasConfident':_0x5da435[_0x507d71(0x11b)]}))},_0x3b9920=await getDoc(_0x5bf43c),_0x19bb76=_0x3b9920[_0x507d71(0x75f)]()?_0x3b9920[_0x507d71(0x724)]():{},_0x29fb3d=_0x19bb76['bestScore']||0x0,_0x7be8df=_0x19bb76[_0x507d71(0x992)]||[],_0x2df003={'studentName':_0x42dc10[_0x507d71(0x96f)],'totalQuestions':_0xcb6d53,'attempts':arrayUnion(_0x320076),'latestScore':_0x560948,'points':_0x36554d,'latestSubmittedAt':_0x320076[_0x507d71(0x978)],'bestScore':Math[_0x507d71(0xb5)](_0x29fb3d,_0x560948),'firstScore':_0x7be8df[_0x507d71(0x2c9)]===0x0?_0x560948:_0x19bb76['firstScore']||0x0};_0x2c2c51['set'](_0x5bf43c,_0x2df003,{'merge':!![]});}try{await _0x2c2c51[_0x507d71(0x117)](),showMessage(_0x507d71(0x2b3)+_0x5e179e[_0x507d71(0x2c9)]+_0x507d71(0xd1));const _0x1a247d=_0x1d32e2[_0x507d71(0x896)]?.[_0x507d71(0x25d)]||currentQuizData?.['projectId']||currentProjectId;if(_0x1a247d){const _0x1448ea=[...new Set(_0x5e179e[_0x507d71(0x6d7)](_0x43afe8=>_0x43afe8[_0x507d71(0x96f)]))];for(const _0x20dbd4 of _0x1448ea){await updateStudentProfile(_0x1a247d,_0x20dbd4);}}}catch(_0x9b3d26){console[_0x507d71(0x84a)]('Error\x20saving\x20game\x20results:',_0x9b3d26),showMessage(_0x507d71(0x967));}}async function saveQuiz(){const _0xa63821=_0x27804f;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0xa63821(0x474)]||!userId){showMessage(_0xa63821(0x42c));return;}const _0x42580e=document[_0xa63821(0x5a3)](_0xa63821(0x60b));_0x42580e[_0xa63821(0x190)]=!![],_0x42580e[_0xa63821(0x3e2)]=_0xa63821(0x80b);const _0x351434=document[_0xa63821(0x5a3)](_0xa63821(0x7a3))['checked'];let _0x320616=document['getElementById'](_0xa63821(0x32f))[_0xa63821(0x3b2)][_0xa63821(0x79e)]();_0x351434&&!_0x320616[_0xa63821(0x928)](_0xa63821(0x2f0))&&(_0x320616=_0xa63821(0x7fe)+_0x320616);try{const _0x1872d1={'resultsDisplay':document['getElementById'](_0xa63821(0x83e))['value'],'shuffle':document['getElementById']('shuffle-setting-select')[_0xa63821(0x50c)],'timerMode':document[_0xa63821(0x5a3)](_0xa63821(0x730))[_0xa63821(0x50c)],'timerDuration':parseInt(document[_0xa63821(0x5a3)](_0xa63821(0x3e5))[_0xa63821(0x50c)])||0xa,'passingScore':parseInt(document['getElementById']('passing-score-input')['value'])||0x0,'isAdaptive':document[_0xa63821(0x5a3)](_0xa63821(0x64c))[_0xa63821(0x9b1)],'loopUntilPass':document['getElementById'](_0xa63821(0x9ba))[_0xa63821(0x9b1)]},_0x20d59c=(currentQuizData[_0xa63821(0x474)]||[])[_0xa63821(0x6d7)]((_0x3540d4,_0x55ee5e)=>{const _0x1a07e5=_0xa63821,_0x181c9a=document[_0x1a07e5(0x5a3)]('quiz-type-select')['value'],_0x182bd2={'id':'q_'+Date[_0x1a07e5(0x4b2)]()+'_'+_0x55ee5e,'questionText':_0x3540d4[_0x1a07e5(0x872)]||'','explanation':_0x3540d4['explanation']||_0x1a07e5(0x438),'questionType':_0x3540d4[_0x1a07e5(0x891)]||_0x181c9a,'imageCode':_0x3540d4[_0x1a07e5(0xd9)]||null};return(_0x182bd2[_0x1a07e5(0x891)]==='multiple_choice'||_0x182bd2[_0x1a07e5(0x891)]===_0x1a07e5(0x5c7)||_0x182bd2[_0x1a07e5(0x891)]===_0x1a07e5(0x66c)&&_0x3540d4[_0x1a07e5(0x86b)])&&(_0x182bd2[_0x1a07e5(0x86b)]=_0x3540d4['options']||[],_0x182bd2[_0x1a07e5(0x150)]=_0x3540d4[_0x1a07e5(0x150)]!==undefined?_0x3540d4[_0x1a07e5(0x150)]:0x0),(_0x182bd2[_0x1a07e5(0x891)]===_0x1a07e5(0x511)||_0x182bd2[_0x1a07e5(0x891)]===_0x1a07e5(0x4e2)||_0x182bd2[_0x1a07e5(0x891)]===_0x1a07e5(0x66c)&&_0x3540d4[_0x1a07e5(0x8a2)])&&(_0x182bd2[_0x1a07e5(0x8a2)]=_0x3540d4[_0x1a07e5(0x8a2)]||''),_0x182bd2[_0x1a07e5(0x891)]===_0x1a07e5(0x6d1)&&(_0x182bd2[_0x1a07e5(0x1e0)]=_0x3540d4[_0x1a07e5(0x1e0)]===!![]),_0x182bd2['questionType']===_0x1a07e5(0x3fd)&&(_0x182bd2[_0x1a07e5(0x956)]=_0x3540d4[_0x1a07e5(0x956)]||'',_0x182bd2[_0x1a07e5(0x8e5)]=_0x3540d4['correctResponse']||'',_0x182bd2[_0x1a07e5(0x2fa)]=_0x3540d4[_0x1a07e5(0x2fa)]||[]),_0x182bd2;}),_0x1037b9={'topic':_0x320616,'quizType':currentQuizData[_0xa63821(0x907)]||'multiple_choice','questions':_0x20d59c,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x1872d1,'quizMode':_0x351434?'pre-test':_0xa63821(0x809),'pairedQuizId':null,'lessonPlan':null};let _0x5d601b;while(!![]){_0x5d601b=Math[_0xa63821(0x5f1)](0x3e8+Math[_0xa63821(0x5d5)]()*0x2328)[_0xa63821(0x791)]();const _0x31f820=await getDoc(doc(db,_0xa63821(0x71a)+appId+_0xa63821(0x91e),_0x5d601b));if(!_0x31f820[_0xa63821(0x75f)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0xa63821(0x91e),_0x5d601b),_0x1037b9),currentQuizData[_0xa63821(0x6a4)]=_0x1872d1,currentQuizData['id']=_0x5d601b;const _0x5c46fa=document[_0xa63821(0x5a3)](_0xa63821(0x89b));_0x5c46fa[_0xa63821(0x3e2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x5d601b+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0xa63821(0x5a3)](_0xa63821(0xa04))[_0xa63821(0x2ea)](_0xa63821(0x189),()=>copyTextToClipboard(_0x5d601b,_0xa63821(0x52b))),document[_0xa63821(0x5a3)]('start-live-race-generated-btn')['addEventListener'](_0xa63821(0x189),()=>handleStartLiveRace(_0x5d601b)),document[_0xa63821(0x5a3)](_0xa63821(0x3f7))[_0xa63821(0x2ea)](_0xa63821(0x189),()=>startPresentation(currentQuizData)),document[_0xa63821(0x5a3)](_0xa63821(0x37b))[_0xa63821(0x2ea)](_0xa63821(0x189),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x1190cd){console[_0xa63821(0x84a)]('Error\x20saving\x20quiz:',_0x1190cd),showMessage(_0xa63821(0x1e3)),_0x42580e['disabled']=![],_0x42580e[_0xa63821(0x3e2)]=_0xa63821(0x1ca);}}function promptForProjectAndSave(){const _0x1aa682=_0x27804f,_0x53764b=document[_0x1aa682(0x5a3)](_0x1aa682(0x370)),_0x34726a=document[_0x1aa682(0x5a3)](_0x1aa682(0x915)),_0xf6ea0e=_0x53764b[_0x1aa682(0x62c)]('h3'),_0xe50baa=document[_0x1aa682(0x5a3)](_0x1aa682(0x1d8));_0xf6ea0e[_0x1aa682(0x84f)]=_0x1aa682(0x238),_0xe50baa[_0x1aa682(0x84f)]='เลือกและบันทึก';allProjects[_0x1aa682(0x2c9)]===0x0?(_0x34726a[_0x1aa682(0x3e2)]=_0x1aa682(0x383),_0xe50baa[_0x1aa682(0x190)]=!![]):(_0x34726a[_0x1aa682(0x3e2)]=allProjects[_0x1aa682(0x6d7)](_0x58902b=>_0x1aa682(0x76f)+_0x58902b['id']+'\x22>'+_0x58902b[_0x1aa682(0xfc)]+_0x1aa682(0x217))[_0x1aa682(0x1cb)](''),_0xe50baa['disabled']=![]);_0x53764b['classList'][_0x1aa682(0x3dd)](_0x1aa682(0x825));const _0x16ea72=()=>{const _0x39d8d9=_0x1aa682,_0x4fe804=_0x34726a[_0x39d8d9(0x50c)];_0x4fe804?(currentProjectId=_0x4fe804,_0x53764b['classList'][_0x39d8d9(0x162)](_0x39d8d9(0x825)),saveQuiz(),_0xf6ea0e[_0x39d8d9(0x84f)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0xe50baa[_0x39d8d9(0x84f)]=_0x39d8d9(0x399),_0xe50baa[_0x39d8d9(0x6ac)](_0x39d8d9(0x189),_0x16ea72),_0xe50baa['addEventListener'](_0x39d8d9(0x189),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0xe50baa[_0x1aa682(0x6ac)](_0x1aa682(0x189),confirmMoveQuiz),_0xe50baa[_0x1aa682(0x2ea)]('click',_0x16ea72);}function copyTextToClipboard(_0x37f2c6,_0x459328){const _0x212696=_0x27804f,_0x272b50=document[_0x212696(0x291)](_0x212696(0x695));_0x272b50[_0x212696(0x50c)]=_0x37f2c6,_0x272b50['style'][_0x212696(0x4be)]='fixed',_0x272b50[_0x212696(0x39c)][_0x212696(0x439)]='0',document['body']['appendChild'](_0x272b50),_0x272b50[_0x212696(0x30d)](),_0x272b50[_0x212696(0x353)]();try{const _0x13f7e4=document['execCommand'](_0x212696(0x989));showMessage(_0x13f7e4?_0x459328:_0x212696(0x562));}catch(_0x44b225){showMessage(_0x212696(0x562)),console[_0x212696(0x84a)]('Copy\x20command\x20failed',_0x44b225);}document[_0x212696(0x843)]['removeChild'](_0x272b50);}function listenForProjectQuizzes(_0x24b401){const _0x6316a1=_0x27804f,_0x586609=collection(db,_0x6316a1(0x71a)+appId+'/public/data/quizzes'),_0x103a8a=query(_0x586609,where(_0x6316a1(0x25d),'==',_0x24b401));unsubscribeQuizzesListener=onSnapshot(_0x103a8a,async _0x23f469=>{const _0x4a076d=_0x6316a1;allQuizzes=_0x23f469[_0x4a076d(0x16e)]['map'](_0x46d0af=>({'id':_0x46d0af['id'],..._0x46d0af[_0x4a076d(0x724)]()})),renderQuizzes();},_0x74ac2f=>{const _0x247d0c=_0x6316a1;console[_0x247d0c(0x84a)](_0x247d0c(0x60d),_0x74ac2f),document[_0x247d0c(0x5a3)]('project-quizzes-list')['innerHTML']=_0x247d0c(0x7a5);});}async function renderQuizzes(){const _0x17c50a=_0x27804f,_0x47c45b=document['getElementById'](_0x17c50a(0x5ef)),_0x2ebc46=document[_0x17c50a(0x5a3)](_0x17c50a(0x6cd))[_0x17c50a(0x50c)][_0x17c50a(0x2b7)]();let _0x229f5b;currentProjectId==='starred'?_0x229f5b=starredQuizzes:_0x229f5b=allQuizzes;let _0x19ec23=_0x229f5b[_0x17c50a(0x3bf)](_0x2ef743=>_0x2ef743['topic'][_0x17c50a(0x2b7)]()['includes'](_0x2ebc46));_0x19ec23['sort']((_0x417ce3,_0x722bd0)=>new Date(_0x722bd0['createdAt'])-new Date(_0x417ce3['createdAt']));if(_0x19ec23[_0x17c50a(0x2c9)]===0x0){_0x47c45b['innerHTML']=_0x17c50a(0x389);return;}const _0x312747={},_0x122498=_0x19ec23['map'](async _0x5429ff=>{const _0x28fc31=_0x17c50a,_0x18ebca=collection(db,_0x28fc31(0x71a)+appId+_0x28fc31(0x9b2)+_0x5429ff['id']+_0x28fc31(0x36e)),_0x529b9a=await getDocs(_0x18ebca);_0x312747[_0x5429ff['id']]=_0x529b9a[_0x28fc31(0x94f)];});await Promise['all'](_0x122498);let _0xacb7e3='';_0x19ec23[_0x17c50a(0x7b1)](_0x59c66c=>{const _0x313a88=_0x17c50a,_0x5bd836=_0x312747[_0x59c66c['id']]||0x0,_0x1cce5d=_0x59c66c[_0x313a88(0x95a)]||_0x313a88(0x4cd),_0x3a81c4=_0x59c66c['settings']?.['timerMode']||_0x313a88(0x13d);let _0x4bdfcf='',_0x50a4c1='';const _0x247026=new Date();let _0x18d7f7=_0x1cce5d;if(_0x1cce5d===_0x313a88(0x454)){const _0x5c7b67=_0x59c66c[_0x313a88(0xa05)]?new Date(_0x59c66c[_0x313a88(0xa05)]):null,_0x5b4b85=_0x59c66c[_0x313a88(0x11a)]?new Date(_0x59c66c[_0x313a88(0x11a)]):null;if(_0x5b4b85&&_0x247026>_0x5b4b85)_0x18d7f7=_0x313a88(0x77c);else _0x5c7b67&&_0x247026<_0x5c7b67?_0x18d7f7=_0x313a88(0x374):_0x18d7f7=_0x313a88(0x4cd);}switch(_0x18d7f7){case'inactive':_0x4bdfcf='ปิดใช้งาน',_0x50a4c1=_0x313a88(0x91f);break;case _0x313a88(0x374):_0x4bdfcf=_0x313a88(0x3f4),_0x50a4c1='text-blue-700\x20bg-blue-100';break;case _0x313a88(0x4cd):_0x4bdfcf=_0x3a81c4!=='none'?_0x313a88(0x35c):_0x313a88(0x3fa),_0x50a4c1=_0x313a88(0x265);break;default:_0x4bdfcf='ตั้งเวลา\x20(เปิด)',_0x50a4c1=_0x313a88(0x265);break;}let _0x5c8d73='';const _0x534f9a={'day':'2-digit','month':_0x313a88(0x929),'year':_0x313a88(0x352),'hour':'2-digit','minute':_0x313a88(0x929),'hour12':![]};if(_0x1cce5d===_0x313a88(0x454)){if(_0x59c66c['startTime'])_0x5c8d73+=_0x313a88(0x1ad)+new Date(_0x59c66c[_0x313a88(0xa05)])[_0x313a88(0x3f5)](_0x313a88(0x42d),_0x534f9a)+_0x313a88(0x37d);if(_0x59c66c['endTime'])_0x5c8d73+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x59c66c[_0x313a88(0x11a)])['toLocaleString'](_0x313a88(0x42d),_0x534f9a)+_0x313a88(0x37d);}let _0x27a9dd='';if(_0x59c66c['pairedQuizId']){const _0x17cc99=allQuizzes['find'](_0x20d9f7=>_0x20d9f7['id']===_0x59c66c['pairedQuizId']);if(_0x17cc99){let _0x479e50,_0x3e21dc;new Date(_0x59c66c[_0x313a88(0x7fa)])<new Date(_0x17cc99[_0x313a88(0x7fa)])?(_0x479e50=_0x59c66c['id'],_0x3e21dc=_0x17cc99['id']):(_0x479e50=_0x17cc99['id'],_0x3e21dc=_0x59c66c['id']),_0x27a9dd+=_0x313a88(0x44b)+_0x3e21dc+'\x22\x20data-pre-test-id=\x22'+_0x479e50+_0x313a88(0x2d4);}}else _0x59c66c[_0x313a88(0x357)]===_0x313a88(0x4d5)&&(_0x27a9dd+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x59c66c['id']+_0x313a88(0x762));if(_0x59c66c[_0x313a88(0x357)]===_0x313a88(0x4d5)&&_0x5bd836>0x0)_0x27a9dd+=_0x313a88(0x7e0)+_0x59c66c['id']+_0x313a88(0x5c3);else!_0x59c66c[_0x313a88(0x1d2)]&&_0x59c66c['quizMode']!=='pre-test'&&_0x5bd836>0x0&&(_0x27a9dd+=_0x313a88(0x7e0)+_0x59c66c['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x5bf3da='';_0x59c66c[_0x313a88(0x1d2)]?_0x5bf3da=_0x313a88(0x794)+_0x59c66c['id']+_0x313a88(0x13c):_0x5bf3da=_0x313a88(0x794)+_0x59c66c['id']+_0x313a88(0x3ee),_0xacb7e3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x59c66c['id']+_0x313a88(0x9b4)+_0x59c66c[_0x313a88(0x2a9)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x59c66c[_0x313a88(0x474)][_0x313a88(0x2c9)]+_0x313a88(0x581)+new Date(_0x59c66c[_0x313a88(0x7fa)])[_0x313a88(0x3f5)](_0x313a88(0x42d))+_0x313a88(0x4b9)+_0x5bd836+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c8d73+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x50a4c1+'\x22>'+_0x4bdfcf+_0x313a88(0x6a0)+_0x59c66c['id']+_0x313a88(0x3f6)+_0x59c66c['id']+_0x313a88(0x33c)+(_0x59c66c[_0x313a88(0x5de)]?_0x313a88(0x924):_0x313a88(0x820))+_0x313a88(0x23e)+_0x27a9dd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x59c66c['id']+_0x313a88(0x6de)+_0x59c66c['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x59c66c['id']+_0x313a88(0x7a7)+_0x59c66c['id']+_0x313a88(0x470)+_0x59c66c['id']+_0x313a88(0x7b7)+_0x59c66c['id']+_0x313a88(0x2b4)+_0x59c66c['id']+_0x313a88(0x7ba)+_0x59c66c[_0x313a88(0x2a9)]+_0x313a88(0x1c3)+_0x59c66c['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x59c66c['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5bf3da+_0x313a88(0x268)+_0x59c66c['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x59c66c['id']+_0x313a88(0x483)+_0x59c66c['id']+_0x313a88(0x880)+_0x59c66c['id']+_0x313a88(0x349)+_0x59c66c['id']+_0x313a88(0x9e0)+_0x59c66c['id']+_0x313a88(0x736)+_0x59c66c['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x59c66c['id']+_0x313a88(0x7ba)+_0x59c66c[_0x313a88(0x2a9)]+_0x313a88(0x203)+_0x59c66c['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x47c45b[_0x17c50a(0x3e2)]=_0xacb7e3,document[_0x17c50a(0x7c7)](_0x17c50a(0x874))['forEach'](_0x4b0a6d=>{const _0x24573d=_0x17c50a;_0x4b0a6d[_0x24573d(0x2ea)]('click',()=>{const _0x3df421=_0x24573d,_0x3bb01b=_0x4b0a6d[_0x3df421(0x4b7)][_0x3df421(0x53c)];showQuizDetailView(_0x3bb01b);});});}async function handleUnpairQuiz(_0x3734fc){const _0x4d2cc6=_0x27804f,_0x2478de=allQuizzes[_0x4d2cc6(0x894)](_0x375452=>_0x375452['id']===_0x3734fc);if(!_0x2478de||!_0x2478de['pairedQuizId']){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x4d2cc6(0x8f1),async()=>{const _0x11602d=_0x4d2cc6;try{const _0xf376e3=doc(db,_0x11602d(0x71a)+appId+_0x11602d(0x91e),_0x3734fc),_0x460a52=doc(db,'artifacts/'+appId+_0x11602d(0x91e),_0x2478de['pairedQuizId']),_0x549016=writeBatch(db);_0x549016['update'](_0xf376e3,{'pairedQuizId':null}),_0x549016[_0x11602d(0x42f)](_0x460a52,{'pairedQuizId':null}),await _0x549016[_0x11602d(0x117)](),showMessage(_0x11602d(0x3ed));}catch(_0x582fec){console['error'](_0x11602d(0xe9),_0x582fec),showMessage(_0x11602d(0x8a1));}});}function formatAndPrintLessonPlan(_0x4138bf,_0x1eaccc){const _0x2a6f68=_0x27804f,_0x333cb4=window[_0x2a6f68(0x48b)]('','_blank'),_0x1c7c96=_0x2a6f68(0x67f)+_0x1eaccc['topic']+_0x2a6f68(0x473)+_0x1eaccc['topic']+_0x2a6f68(0x5da)+_0x4138bf['learningGaps']['map'](_0x36c95f=>_0x2a6f68(0x212)+_0x36c95f+_0x2a6f68(0x76d))[_0x2a6f68(0x1cb)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x4138bf[_0x2a6f68(0x667)]+_0x2a6f68(0x422)+_0x4138bf[_0x2a6f68(0xf3)][_0x2a6f68(0x6d7)](_0xd9ca18=>_0x2a6f68(0x39f)+_0xd9ca18[_0x2a6f68(0x6f2)]+_0x2a6f68(0x1cc)+_0xd9ca18[_0x2a6f68(0x7bf)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2a6f68(0x1cb)]('')+_0x2a6f68(0x9fb);_0x333cb4[_0x2a6f68(0x5fb)][_0x2a6f68(0x4df)](_0x1c7c96),_0x333cb4[_0x2a6f68(0x5fb)][_0x2a6f68(0x6c8)](),_0x333cb4[_0x2a6f68(0x7a1)]=function(){setTimeout(()=>{const _0x4c7a8a=_0x2015;_0x333cb4[_0x4c7a8a(0x852)]();},0x3e8);};}async function handleAiFixFormula(_0x457287){const _0x654f15=_0x27804f,_0x29f9c4=document[_0x654f15(0x62c)](_0x654f15(0x142)+_0x457287+'\x22]');if(!_0x29f9c4)return;const _0x1dd8b7=_0x29f9c4[_0x654f15(0x4b7)][_0x654f15(0x244)],_0x9ebb47=_0x29f9c4[_0x654f15(0x62c)](_0x654f15(0x233));let _0x4189f3={'question':_0x29f9c4[_0x654f15(0x62c)](_0x654f15(0x695))[_0x654f15(0x50c)]};switch(_0x1dd8b7){case _0x654f15(0x1c6):_0x4189f3[_0x654f15(0x86b)]=Array[_0x654f15(0x17b)](_0x29f9c4[_0x654f15(0x7c7)](_0x654f15(0x5b9)))[_0x654f15(0x6d7)](_0x2e2dca=>_0x2e2dca[_0x654f15(0x50c)]);break;case'short_answer':_0x4189f3[_0x654f15(0x8a2)]=_0x29f9c4[_0x654f15(0x62c)](_0x654f15(0xc3))[_0x654f15(0x50c)];break;case'matching_item':_0x4189f3[_0x654f15(0x8e5)]=_0x29f9c4[_0x654f15(0x62c)]('.correct-response-input')[_0x654f15(0x50c)];break;}_0x9ebb47[_0x654f15(0x3e2)]=_0x654f15(0x54e),_0x9ebb47[_0x654f15(0x190)]=!![];try{const _0x198642=_0x654f15(0x95d)+JSON['stringify'](_0x4189f3)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3ae987={'type':_0x654f15(0x440),'properties':{'fixedData':{'type':_0x654f15(0x440),'properties':{'question':{'type':_0x654f15(0x1fb)},'options':{'type':_0x654f15(0x9a6),'items':{'type':'STRING'}},'idealAnswer':{'type':_0x654f15(0x1fb)},'correctResponse':{'type':_0x654f15(0x1fb)}},'required':['question']}},'required':[_0x654f15(0xdc)]},_0x153acb=await callAnalysisApi(_0x198642,_0x3ae987);if(_0x153acb&&_0x153acb[_0x654f15(0xdc)]){const _0x45cf26=_0x153acb[_0x654f15(0xdc)];_0x29f9c4[_0x654f15(0x62c)]('textarea')[_0x654f15(0x50c)]=_0x45cf26[_0x654f15(0x6f2)]||_0x4189f3['question'];switch(_0x1dd8b7){case _0x654f15(0x1c6):_0x45cf26[_0x654f15(0x86b)]&&_0x45cf26['options'][_0x654f15(0x2c9)]>0x0&&_0x29f9c4[_0x654f15(0x7c7)]('input[type=\x22text\x22]')[_0x654f15(0x7b1)]((_0x442ff4,_0xd8d0ba)=>{const _0x3613c6=_0x654f15;_0x442ff4[_0x3613c6(0x50c)]=_0x45cf26[_0x3613c6(0x86b)][_0xd8d0ba]||_0x4189f3['options'][_0xd8d0ba];});break;case'short_answer':_0x29f9c4['querySelector'](_0x654f15(0xc3))[_0x654f15(0x50c)]=_0x45cf26['idealAnswer']||_0x4189f3['idealAnswer'];break;case _0x654f15(0x3fd):_0x29f9c4[_0x654f15(0x62c)]('.correct-response-input')[_0x654f15(0x50c)]=_0x45cf26[_0x654f15(0x8e5)]||_0x4189f3[_0x654f15(0x8e5)];break;}if(_0x4189f3[_0x654f15(0x6f2)]!==_0x45cf26[_0x654f15(0x6f2)])try{const _0x44688d=collection(db,'artifacts/'+appId+'/public/data/learnedFixes');await addDoc(_0x44688d,{'broken':_0x4189f3[_0x654f15(0x6f2)],'fixed':_0x45cf26[_0x654f15(0x6f2)],'createdAt':serverTimestamp()});}catch(_0xa9b63f){console['error']('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0xa9b63f);}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x654f15(0x8fc));}catch(_0x2000da){console['error'](_0x654f15(0x3ff),_0x2000da),showMessage(_0x654f15(0x274));}finally{_0x9ebb47[_0x654f15(0x3e2)]=_0x654f15(0x91c),_0x9ebb47[_0x654f15(0x190)]=![];}}async function handleGenerateLessonPlan(_0x389286){const _0x22671b=_0x27804f;showMessage(_0x22671b(0x940));try{const _0x3e8bce=doc(db,_0x22671b(0x71a)+appId+_0x22671b(0x91e),_0x389286),_0x4d631a=await getDoc(_0x3e8bce);if(!_0x4d631a[_0x22671b(0x75f)]())throw new Error(_0x22671b(0x47f));const _0x13c6cd={'id':_0x389286,..._0x4d631a['data']()},_0x31241e=collection(db,'artifacts/'+appId+_0x22671b(0x91e),_0x389286,_0x22671b(0x3cb)),_0x340d6f=await getDocs(_0x31241e),_0x4aea2f=_0x340d6f['docs']['map'](_0x4a4045=>_0x4a4045[_0x22671b(0x724)]());if(_0x4aea2f[_0x22671b(0x2c9)]===0x0)throw new Error(_0x22671b(0x69e));const _0x21889a=calculateItemAnalysis(_0x13c6cd,_0x4aea2f)[_0x22671b(0x419)],_0x419f27=calculateDistractorAnalysis(_0x13c6cd,_0x4aea2f),_0x1f9a9c=_0x10ce44=>{const _0x25f323=_0x22671b;if(!_0x10ce44)return'';return _0x10ce44[_0x25f323(0x27f)](/\\/g,'\x5c\x5c')[_0x25f323(0x27f)](/"/g,'\x5c\x22')[_0x25f323(0x27f)](/\n/g,'\x5cn');};let _0x1ddcd7='สรุปผลการวิเคราะห์:\x5cn';_0x13c6cd['questions'][_0x22671b(0x7b1)]((_0x2e39b4,_0x418ff4)=>{const _0x233174=_0x22671b,_0x50fdc5=_0x21889a[_0x418ff4]?.['p']['toFixed'](0x2)||_0x233174(0x70e),_0x2ff6b7=_0x21889a[_0x418ff4]?.['r'][_0x233174(0x6ae)](0x2)||'N/A',_0x1e4b3f=_0x1f9a9c(_0x2e39b4['questionText']||_0x2e39b4['stem']);_0x1ddcd7+=_0x233174(0x437)+(_0x418ff4+0x1)+_0x233174(0x5ce)+_0x50fdc5+_0x233174(0x7e6)+_0x2ff6b7+_0x233174(0x61e)+_0x1e4b3f+'\x5cn';if(_0x2e39b4['questionType']===_0x233174(0x1c6)&&_0x419f27[_0x418ff4]){const _0x89f44e=_0x419f27[_0x418ff4],_0xe4d424=Object[_0x233174(0x1a2)](_0x89f44e)[_0x233174(0x3bf)](_0x52537e=>parseInt(_0x52537e)!==_0x2e39b4[_0x233174(0x150)])[_0x233174(0x1e4)]((_0x220733,_0x257011)=>_0x89f44e[_0x257011]['total']-_0x89f44e[_0x220733]['total'])[0x0];if(_0xe4d424&&_0x89f44e[_0xe4d424][_0x233174(0x375)]>0x0){const _0x1ec6fa=_0x1f9a9c(_0x89f44e[_0xe4d424][_0x233174(0x45f)]);_0x1ddcd7+=_0x233174(0x5cd)+_0x1ec6fa+_0x233174(0x406);}}});const _0xaa9524='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x13c6cd['topic']+_0x22671b(0x537)+_0x1ddcd7+_0x22671b(0x1b6),_0x196b81={'type':'OBJECT','properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x22671b(0x1fb)}},'teachingContent':{'type':_0x22671b(0x1fb)},'practiceProblems':{'type':_0x22671b(0x9a6),'items':{'type':_0x22671b(0x440),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x22671b(0x1fb)}}}}},'required':[_0x22671b(0x931),_0x22671b(0x667),_0x22671b(0xf3)]},_0x42289a=await callAnalysisApi(_0xaa9524,_0x196b81);await updateDoc(_0x3e8bce,{'lessonPlan':_0x42289a});const _0x296705=_0x22671b(0x863)+_0x13c6cd['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x42289a[_0x22671b(0x931)][_0x22671b(0x6d7)](_0x3cde86=>_0x22671b(0x212)+_0x3cde86+_0x22671b(0x76d))[_0x22671b(0x1cb)]('')+_0x22671b(0x655)+_0x42289a['teachingContent']+_0x22671b(0x92d)+_0x42289a[_0x22671b(0xf3)]['map'](_0x46ba97=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x46ba97[_0x22671b(0x6f2)]+_0x22671b(0xe5)+_0x46ba97[_0x22671b(0x7bf)]+_0x22671b(0x234))[_0x22671b(0x1cb)]('')+_0x22671b(0x9dc);document[_0x22671b(0x5a3)](_0x22671b(0x4e4))[_0x22671b(0x84f)]=_0x22671b(0x734)+_0x13c6cd[_0x22671b(0x2a9)],document[_0x22671b(0x5a3)]('lesson-plan-content')[_0x22671b(0x3e2)]=_0x296705,document[_0x22671b(0x5a3)](_0x22671b(0x16f))[_0x22671b(0x24d)]['remove'](_0x22671b(0x825));if(window[_0x22671b(0x403)])MathJax[_0x22671b(0x276)]();messageModal['classList'][_0x22671b(0x162)](_0x22671b(0x825));}catch(_0x3f74ed){console[_0x22671b(0x84a)](_0x22671b(0x243),_0x3f74ed),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3f74ed[_0x22671b(0x3f9)]);}}async function handleDuplicateQuiz(_0x33016c){const _0x39c067=_0x27804f;try{const _0x44e2ef=doc(db,_0x39c067(0x71a)+appId+'/public/data/quizzes',_0x33016c),_0x2024a5=await getDoc(_0x44e2ef);if(_0x2024a5[_0x39c067(0x75f)]()){const _0x5a9002=_0x2024a5['data']();let _0x546ccb='',_0x47bb0d=_0x39c067(0x809),_0x547992=null;if(_0x5a9002[_0x39c067(0x357)]===_0x39c067(0x4d5)){let _0x26d904=_0x5a9002['topic'][_0x39c067(0x27f)](_0x39c067(0x2f0),'')[_0x39c067(0x79e)]();_0x546ccb='(หลังเรียน)\x20'+_0x26d904,_0x47bb0d='post-test',_0x547992=_0x33016c;}else _0x546ccb=_0x39c067(0x566)+_0x5a9002['topic'];const _0x1b72d1={..._0x5a9002,'topic':_0x546ccb,'createdAt':new Date()[_0x39c067(0x120)](),'quizMode':_0x47bb0d,'pairedQuizId':_0x547992};let _0x2bfc5c;while(!![]){_0x2bfc5c=Math[_0x39c067(0x5f1)](0x3e8+Math[_0x39c067(0x5d5)]()*0x2328)[_0x39c067(0x791)]();const _0x5bb6ca=await getDoc(doc(db,'artifacts/'+appId+_0x39c067(0x91e),_0x2bfc5c));if(!_0x5bb6ca['exists']())break;}const _0x1e644d=doc(db,'artifacts/'+appId+_0x39c067(0x91e),_0x2bfc5c);await setDoc(_0x1e644d,_0x1b72d1),_0x1b72d1['quizMode']==='post-test'&&await updateDoc(_0x44e2ef,{'pairedQuizId':_0x2bfc5c}),showMessage(_0x39c067(0x635));}else throw new Error(_0x39c067(0x766));}catch(_0x7cf98a){console[_0x39c067(0x84a)](_0x39c067(0x2f8),_0x7cf98a),showMessage(_0x39c067(0x628));}}async function handleDeleteQuiz(_0x2e8709,_0x5b304a=!![]){const _0x2b83d2=_0x27804f;try{const _0x3c7b1e=writeBatch(db),_0xfaecaf=collection(db,_0x2b83d2(0x71a)+appId+'/public/data/quizzes/'+_0x2e8709+_0x2b83d2(0x36e)),_0x7e4ffb=await getDocs(_0xfaecaf);_0x7e4ffb[_0x2b83d2(0x7b1)](_0x11e6c4=>{const _0x3cb802=_0x2b83d2;_0x3c7b1e[_0x3cb802(0x605)](doc(_0xfaecaf,_0x11e6c4['id']));});const _0x5bb910=doc(db,_0x2b83d2(0x71a)+appId+_0x2b83d2(0x91e),_0x2e8709);_0x3c7b1e['delete'](_0x5bb910),await _0x3c7b1e[_0x2b83d2(0x117)](),_0x5b304a&&showMessage(_0x2b83d2(0x369));}catch(_0x372477){console[_0x2b83d2(0x84a)](_0x2b83d2(0x5b4),_0x372477),_0x5b304a&&showMessage(_0x2b83d2(0x73d));}}async function showQuizDetailView(_0x5a318b){const _0x196f2b=_0x27804f;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x196f2b(0x312));try{const _0x297f61=doc(db,'artifacts/'+appId+_0x196f2b(0x91e),_0x5a318b),_0x2ac412=await getDoc(_0x297f61);if(!_0x2ac412[_0x196f2b(0x75f)]()){showMessage(_0x196f2b(0x47f));return;}const _0x2d249a={'id':_0x2ac412['id'],..._0x2ac412[_0x196f2b(0x724)]()};currentQuizData=_0x2d249a;const _0x5d252d=doc(db,_0x196f2b(0x71a)+appId+'/public/data/projects',_0x2d249a['projectId']),_0x21af63=await getDoc(_0x5d252d);_0x21af63[_0x196f2b(0x75f)]()?(currentProjectData=_0x21af63[_0x196f2b(0x724)](),currentProjectId=_0x2d249a[_0x196f2b(0x25d)]):(currentProjectData={'students':[]},currentProjectId=_0x2d249a[_0x196f2b(0x25d)]);document[_0x196f2b(0x5a3)](_0x196f2b(0x9ec))['textContent']=_0x2d249a[_0x196f2b(0x2a9)],document['getElementById']('results-quiz-id-display')['textContent']=_0x5a318b;const _0x497b93=collection(db,_0x196f2b(0x71a)+appId+_0x196f2b(0x91e),_0x5a318b,_0x196f2b(0x3cb));unsubscribeSubmissionsListener=onSnapshot(_0x497b93,_0xbb9333=>{const _0xc903ac=_0x196f2b,_0xf5b08c=_0xbb9333[_0xc903ac(0x16e)]['map'](_0x309251=>({'id':_0x309251['id'],..._0x309251[_0xc903ac(0x724)]()}));currentSubmissions=_0xf5b08c;const _0x554ba9=_0xf5b08c['filter'](_0x21a0c6=>_0x21a0c6[_0xc903ac(0x992)]&&_0x21a0c6[_0xc903ac(0x992)][_0xc903ac(0x2c9)]>0x0);renderBehaviorLog(_0xf5b08c),renderAnswerGrid(currentProjectData[_0xc903ac(0x137)],_0x554ba9,_0x2d249a),renderAnalytics(_0x2d249a,_0x554ba9),renderQuizResultsTable(currentProjectData[_0xc903ac(0x137)],_0xf5b08c,_0x2d249a),renderQuizLeaderboard(_0x554ba9,_0x2d249a,_0xc903ac(0x237));}),showView(_0x196f2b(0x663));}catch(_0x4a9994){console[_0x196f2b(0x84a)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x4a9994),showMessage(_0x196f2b(0x1e8));}}function renderAnswerGrid(_0x3eefcb,_0x13614f,_0x15f203){const _0x592efc=_0x27804f,_0x44c32d=document['getElementById'](_0x592efc(0x997));if(!_0x44c32d)return;if(!_0x3eefcb||_0x3eefcb[_0x592efc(0x2c9)]===0x0){_0x44c32d[_0x592efc(0x3e2)]=_0x592efc(0x518);return;}const _0xa906d3=_0x15f203[_0x592efc(0x474)],_0x58aae4=_0x13614f['reduce']((_0x43de42,_0x5d9e15)=>{const _0x4f818c=_0x592efc;return _0x43de42[_0x5d9e15[_0x4f818c(0x640)]]=_0x5d9e15,_0x43de42;},{}),_0x413ec5=_0x50adca=>String[_0x592efc(0x58b)](0x41+_0x50adca),_0x66dc0a=_0x2df8b4=>{const _0x46ff78=_0x592efc,_0x5a5142=_0x2df8b4[_0x46ff78(0x891)]||_0x15f203['quizType'];switch(_0x5a5142){case'multiple_choice':return _0x2df8b4[_0x46ff78(0x86b)]&&_0x2df8b4['options']['length']>_0x2df8b4[_0x46ff78(0x150)]?_0x413ec5(_0x2df8b4['correctAnswerIndex']):'-';case _0x46ff78(0x6d1):const _0x4bc941=_0x2df8b4[_0x46ff78(0x1e0)]===!![]||String(_0x2df8b4[_0x46ff78(0x1e0)])[_0x46ff78(0x2b7)]()===_0x46ff78(0x32b);return _0x4bc941?'ใช่':_0x46ff78(0x66f);case'matching_item':return _0x2df8b4[_0x46ff78(0x8e5)]||'-';case _0x46ff78(0x511):return'พิมพ์ตอบ';default:return'-';}},_0x5e6a53=(_0x24b728,_0x3932c6)=>{const _0x31252c=_0x592efc;if(_0x3932c6[_0x31252c(0x70a)]===null||_0x3932c6[_0x31252c(0x70a)]===undefined)return'-';const _0x1ad83b=_0x24b728['questionType']||_0x15f203[_0x31252c(0x907)];switch(_0x1ad83b){case'multiple_choice':const _0x4c3c92=_0x24b728['options'][_0x31252c(0x1bf)](_0xfb02b7=>_0xfb02b7===_0x3932c6[_0x31252c(0x4ed)]);return _0x4c3c92!==-0x1?_0x413ec5(_0x4c3c92):_0x3932c6['answerText']||'-';case _0x31252c(0x6d1):if(_0x3932c6[_0x31252c(0x70a)]=='0'||_0x3932c6['answer']===!![]||_0x3932c6[_0x31252c(0x70a)]==='true')return _0x31252c(0x87b);return _0x31252c(0x66f);default:return _0x3932c6[_0x31252c(0x70a)];}};let _0x26aabf=_0x592efc(0x8dd)+_0xa906d3[_0x592efc(0x6d7)]((_0x25a421,_0xc07411)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0xc07411+0x1)+_0x592efc(0x836))[_0x592efc(0x1cb)]('')+_0x592efc(0x270)+_0xa906d3[_0x592efc(0x6d7)](_0x4b499c=>_0x592efc(0x446)+_0x66dc0a(_0x4b499c)+_0x592efc(0x37a))['join']('')+_0x592efc(0xc6);_0x3eefcb[_0x592efc(0x7b1)](_0x3d6194=>{const _0x1b257e=_0x592efc;_0x26aabf+=_0x1b257e(0x3ba),_0x26aabf+=_0x1b257e(0x28b)+_0x3d6194+_0x1b257e(0x37a);const _0x2f9fc5=_0x58aae4[_0x3d6194];if(_0x2f9fc5){const _0x27e29e=_0x2f9fc5['attempts'][_0x2f9fc5[_0x1b257e(0x992)][_0x1b257e(0x2c9)]-0x1];_0xa906d3[_0x1b257e(0x7b1)]((_0x3f0dd7,_0x4bdef5)=>{const _0x21abef=_0x1b257e,_0x2f4227=_0x27e29e[_0x21abef(0xc4)][_0x21abef(0x894)](_0x36f78f=>_0x36f78f[_0x21abef(0x8ac)]===_0x3f0dd7['id']);if(_0x2f4227){let _0x5e1317='';const _0x3cf045=_0x2f4227['isCorrect']===!![],_0x5e7cba=_0x2f4227[_0x21abef(0x11b)]===!![]||_0x2f4227[_0x21abef(0x11b)]==='confident';_0x5e7cba?_0x5e1317=_0x3cf045?_0x21abef(0x5e9):_0x21abef(0x6dc):_0x5e1317=_0x3cf045?'bg-green-100':_0x21abef(0x9f9),_0x26aabf+=_0x21abef(0x4f4)+_0x5e1317+'\x22>'+_0x5e6a53(_0x3f0dd7,_0x2f4227)+_0x21abef(0x37a);}else _0x26aabf+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x26aabf+=_0xa906d3[_0x1b257e(0x6d7)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x1b257e(0x1cb)]('');_0x26aabf+=_0x1b257e(0x22f);}),_0x26aabf+=_0x592efc(0x341),_0x44c32d[_0x592efc(0x3e2)]=_0x26aabf;}function renderQuizResultsTable(_0x4716fd,_0x35a14c,_0xc27f8b){const _0x176f4b=_0x27804f,_0xfcf2a9=_0x35a14c[_0x176f4b(0x2a4)]((_0x2b8d3d,_0xae954f)=>{const _0x6d63a7=_0x176f4b;return _0x2b8d3d[_0xae954f[_0x6d63a7(0x640)]]=_0xae954f,_0x2b8d3d;},{}),_0x52b9b2=document['querySelector'](_0x176f4b(0x882));_0x52b9b2&&!_0x52b9b2[_0x176f4b(0x3e2)][_0x176f4b(0x885)](_0x176f4b(0x80d))&&(_0x52b9b2[_0x176f4b(0x3e2)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x2b7e91=document[_0x176f4b(0x5a3)](_0x176f4b(0x13b));if(!_0x4716fd||_0x4716fd[_0x176f4b(0x2c9)]===0x0){_0x2b7e91[_0x176f4b(0x3e2)]=_0x176f4b(0x19f);return;}const _0x4599aa=_0xc27f8b['isRemedial']===!![],_0x46a95f=_0xc27f8b[_0x176f4b(0x6a4)]?.[_0x176f4b(0x1ba)]??-0x1;let _0x40bfc0='';_0x4716fd[_0x176f4b(0x7b1)](_0x352f38=>{const _0x572010=_0x176f4b,_0xb58b37=_0xfcf2a9[_0x352f38];let _0x3aa0d2='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x4599aa?_0x572010(0x4e3):_0x572010(0x5ed))+'\x22>'+(_0x4599aa?'สอบซ่อม':_0x572010(0x543))+_0x572010(0x10f);if(_0xb58b37){if(_0xb58b37[_0x572010(0x992)]&&_0xb58b37[_0x572010(0x992)][_0x572010(0x2c9)]>0x0){let _0x2d7d71=_0x4599aa?_0xb58b37['bestScore']===_0xb58b37[_0x572010(0x231)]:_0x46a95f!==-0x1&&_0xb58b37[_0x572010(0x46a)]>=_0x46a95f;const _0x5e8c09=_0x2d7d71?'bg-green-100\x20text-green-800':_0x572010(0x11d),_0x1cbf93=_0x2d7d71?_0x572010(0x87a):'ไม่ผ่าน',_0x3f3023=_0x572010(0x3c9)+_0x5e8c09+'\x22>'+_0x1cbf93+_0x572010(0x10f),_0x32391f=_0x572010(0x914)+(_0xb58b37[_0x572010(0x992)]?.['length']||0x1)+_0x572010(0x97f);_0x40bfc0+=_0x572010(0x9e4)+_0x352f38+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0xb58b37[_0x572010(0x46a)]+'\x20/\x20'+_0xb58b37[_0x572010(0x231)]+_0x572010(0x7ee)+_0x3f3023+_0x572010(0x3d2)+_0x3aa0d2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0xb58b37[_0x572010(0x846)]+_0x572010(0x4c2)+_0xb58b37['totalQuestions']+_0x572010(0x9cb)+_0xb58b37[_0x572010(0x36c)]+'\x20/\x20'+_0xb58b37[_0x572010(0x231)]+_0x572010(0x615)+(_0xb58b37['points']||0x0)+_0x572010(0x7ee)+_0x32391f+_0x572010(0x8ee)+new Date(_0xb58b37[_0x572010(0x750)])[_0x572010(0x3f5)](_0x572010(0x42d))+_0x572010(0x1eb)+_0x352f38+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x5be0b9=_0x572010(0x8ae);_0x40bfc0+=_0x572010(0x6b5)+_0x352f38+_0x572010(0x390)+_0x3aa0d2+_0x572010(0x6d9)+_0x5be0b9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0xb58b37[_0x572010(0x166)])['toLocaleString'](_0x572010(0x42d))+_0x572010(0x4ae)+_0x352f38+_0x572010(0x9b0);}}else{const _0x382e68='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x40bfc0+=_0x572010(0x4ee)+_0x352f38+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3aa0d2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x382e68+_0x572010(0x8ca);}}),_0x2b7e91[_0x176f4b(0x3e2)]=_0x40bfc0;}async function confirmRenameQuiz(){const _0x46c02d=_0x27804f,_0x173517=document[_0x46c02d(0x5a3)]('rename-quiz-input')[_0x46c02d(0x50c)][_0x46c02d(0x79e)]();if(!_0x173517){showMessage(_0x46c02d(0x43e));return;}if(!actionTargetId)return;const _0x3e4eea=doc(db,_0x46c02d(0x71a)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x3e4eea,{'topic':_0x173517}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal['classList'][_0x46c02d(0x162)]('hidden'),actionTargetId=null;}catch(_0x3e6ed8){console[_0x46c02d(0x84a)](_0x46c02d(0x5a0),_0x3e6ed8),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x41a78b){const _0xdfbb5=_0x27804f;actionTargetId=_0x41a78b;const _0x3e850e=document[_0xdfbb5(0x5a3)]('move-quiz-project-select');_0x3e850e[_0xdfbb5(0x3e2)]=_0xdfbb5(0x149),moveQuizModal['classList']['remove'](_0xdfbb5(0x825));try{const _0x1c4c67=collection(db,_0xdfbb5(0x71a)+appId+_0xdfbb5(0x78a)),_0x24986a=await getDocs(_0x1c4c67),_0x30c4c4=_0x24986a['docs'][_0xdfbb5(0x6d7)](_0x599a94=>({'id':_0x599a94['id'],..._0x599a94['data']()})),_0x390d5b=_0x30c4c4['filter'](_0x4023ac=>_0x4023ac['id']!==currentProjectId);if(_0x390d5b[_0xdfbb5(0x2c9)]===0x0){_0x3e850e[_0xdfbb5(0x3e2)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0xdfbb5(0x5a3)]('confirm-move-quiz-btn')[_0xdfbb5(0x190)]=!![];return;}_0x3e850e['innerHTML']=_0x390d5b[_0xdfbb5(0x6d7)](_0x15296e=>'<option\x20value=\x22'+_0x15296e['id']+'\x22>'+_0x15296e[_0xdfbb5(0xfc)]+'</option>')[_0xdfbb5(0x1cb)](''),document[_0xdfbb5(0x5a3)]('confirm-move-quiz-btn')[_0xdfbb5(0x190)]=![];}catch(_0x2700a6){console[_0xdfbb5(0x84a)]('Error\x20fetching\x20projects\x20for\x20move:',_0x2700a6),showMessage(_0xdfbb5(0x82b)),moveQuizModal[_0xdfbb5(0x24d)][_0xdfbb5(0x162)](_0xdfbb5(0x825));}}async function confirmMoveQuiz(){const _0x3118a4=_0x27804f,_0x22d687=document['getElementById'](_0x3118a4(0x915))['value'];if(!_0x22d687){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x471347=doc(db,_0x3118a4(0x71a)+appId+_0x3118a4(0x91e),actionTargetId);try{await updateDoc(_0x471347,{'projectId':_0x22d687}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0x3118a4(0x24d)][_0x3118a4(0x162)]('hidden'),actionTargetId=null;}catch(_0x404340){console[_0x3118a4(0x84a)](_0x3118a4(0x554),_0x404340),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x457ac0){const _0xbf6427=_0x27804f;actionTargetId=_0x457ac0;const _0x512636=doc(db,_0xbf6427(0x71a)+appId+_0xbf6427(0x91e),_0x457ac0);try{const _0x5e734d=await getDoc(_0x512636);if(_0x5e734d[_0xbf6427(0x75f)]()){const _0x3f2777=_0x5e734d['data'](),_0x28437b=_0x3f2777['settings']||{},_0x2139e9=_0x3f2777[_0xbf6427(0x474)][_0xbf6427(0x2c9)];document[_0xbf6427(0x5a3)](_0xbf6427(0x5b8))[_0xbf6427(0x50c)]=_0x28437b[_0xbf6427(0x1a4)]||_0xbf6427(0x13d),document[_0xbf6427(0x5a3)](_0xbf6427(0x600))['value']=_0x28437b[_0xbf6427(0x8a4)]||_0xbf6427(0x693),document[_0xbf6427(0x5a3)]('modal-timer-mode-select')[_0xbf6427(0x50c)]=_0x28437b[_0xbf6427(0x25f)]||_0xbf6427(0x13d),document[_0xbf6427(0x5a3)]('modal-timer-duration-input')[_0xbf6427(0x50c)]=_0x28437b[_0xbf6427(0x8f3)]||0xa,document[_0xbf6427(0x5a3)](_0xbf6427(0x6a8))[_0xbf6427(0x50c)]=_0x28437b['passingScore']||Math[_0xbf6427(0x5f1)](_0x2139e9/0x2),document[_0xbf6427(0x5a3)](_0xbf6427(0x6a8))['max']=_0x2139e9,document['getElementById'](_0xbf6427(0x4ff))['checked']=_0x28437b[_0xbf6427(0x41c)]||![],document[_0xbf6427(0x5a3)](_0xbf6427(0x10b))['checked']=_0x28437b['loopUntilPass']||![];const _0x293a20=_0x28437b[_0xbf6427(0x8cd)]||![];document[_0xbf6427(0x5a3)](_0xbf6427(0x56d))[_0xbf6427(0x9b1)]=_0x293a20,document[_0xbf6427(0x5a3)]('modal-confidence-mode-select')['value']=_0x28437b['confidenceMode']||_0xbf6427(0x3ad);const _0x2adea2=document[_0xbf6427(0x5a3)](_0xbf6427(0x57b));_0x2adea2[_0xbf6427(0x24d)]['toggle']('hidden',!_0x293a20),document[_0xbf6427(0x5a3)](_0xbf6427(0x4f6))['dispatchEvent'](new Event('change')),quizSettingsModal[_0xbf6427(0x24d)][_0xbf6427(0x3dd)]('hidden');}else showMessage(_0xbf6427(0x47f));}catch(_0x34c977){console[_0xbf6427(0x84a)](_0xbf6427(0x242),_0x34c977),showMessage(_0xbf6427(0x636));}}async function confirmQuizSettings(){const _0x21bcd0=_0x27804f;if(!actionTargetId)return;const _0x40630c=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId),_0x58d208={'shuffle':document[_0x21bcd0(0x5a3)](_0x21bcd0(0x5b8))[_0x21bcd0(0x50c)],'resultsDisplay':document['getElementById'](_0x21bcd0(0x600))[_0x21bcd0(0x50c)],'timerMode':document[_0x21bcd0(0x5a3)](_0x21bcd0(0x4f6))[_0x21bcd0(0x50c)],'timerDuration':parseInt(document[_0x21bcd0(0x5a3)]('modal-timer-duration-input')[_0x21bcd0(0x50c)])||0xa,'passingScore':parseInt(document['getElementById'](_0x21bcd0(0x6a8))[_0x21bcd0(0x50c)])||0x0,'isAdaptive':document[_0x21bcd0(0x5a3)](_0x21bcd0(0x4ff))['checked'],'loopUntilPass':document['getElementById'](_0x21bcd0(0x10b))[_0x21bcd0(0x9b1)],'isConfidenceScoringEnabled':document['getElementById'](_0x21bcd0(0x56d))[_0x21bcd0(0x9b1)],'confidenceMode':document[_0x21bcd0(0x5a3)]('modal-confidence-mode-select')[_0x21bcd0(0x50c)]};try{await updateDoc(_0x40630c,{'settings':_0x58d208}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x21bcd0(0x24d)]['add'](_0x21bcd0(0x825)),actionTargetId=null;}catch(_0xe30042){console['error']('Error\x20updating\x20quiz\x20settings:',_0xe30042),showMessage(_0x21bcd0(0x7fd));}}async function confirmQuizStatus(){const _0x5814d5=_0x27804f;if(!actionTargetId)return;const _0x204536=doc(db,_0x5814d5(0x71a)+appId+_0x5814d5(0x91e),actionTargetId),_0x37f161=document['querySelector'](_0x5814d5(0x5b5));if(!_0x37f161){showMessage(_0x5814d5(0xef));return;}const _0x3953e2=_0x37f161[_0x5814d5(0x50c)];let _0x2154d3={};if(_0x3953e2===_0x5814d5(0x4cd)||_0x3953e2===_0x5814d5(0x77c))_0x2154d3={'status':_0x3953e2,'startTime':null,'endTime':null};else{if(_0x3953e2===_0x5814d5(0x578)){const _0x2bb494=document['getElementById'](_0x5814d5(0xbc))[_0x5814d5(0x50c)],_0x499e04=document[_0x5814d5(0x5a3)]('quiz-end-time')['value'];if(!_0x2bb494&&!_0x499e04){showMessage(_0x5814d5(0x2ad));return;}_0x2154d3={'status':'scheduled','startTime':_0x2bb494?new Date(_0x2bb494)['toISOString']():null,'endTime':_0x499e04?new Date(_0x499e04)[_0x5814d5(0x120)]():null};}}try{await updateDoc(_0x204536,_0x2154d3),showMessage(_0x5814d5(0x6b1)),quizStatusModal[_0x5814d5(0x24d)][_0x5814d5(0x162)](_0x5814d5(0x825)),actionTargetId=null;}catch(_0x13a8ca){console[_0x5814d5(0x84a)](_0x5814d5(0x9e1),_0x13a8ca),showMessage(_0x5814d5(0x648));}}function listenForStudentProfiles(_0x5aed9f){const _0x26dcd4=_0x27804f,_0x144e1d=collection(db,_0x26dcd4(0x71a)+appId+'/public/data/projects/'+_0x5aed9f+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x144e1d,_0x3d11fe=>{const _0x2a82af=_0x26dcd4,_0x299319=_0x3d11fe[_0x2a82af(0x16e)][_0x2a82af(0x6d7)](_0x2285ec=>_0x2285ec[_0x2a82af(0x724)]());renderLeaderboard(_0x299319,_0x2a82af(0x61f));},_0x16176d=>{const _0x336689=_0x26dcd4;console[_0x336689(0x84a)](_0x336689(0x32e),_0x16176d),document[_0x336689(0x5a3)](_0x336689(0x61f))[_0x336689(0x3e2)]=_0x336689(0xdf);});}function renderLeaderboard(_0x3f70f4,_0x49ccdd){const _0x2a042d=_0x27804f,_0x18d071=document[_0x2a042d(0x5a3)](_0x49ccdd);if(!_0x3f70f4||_0x3f70f4[_0x2a042d(0x2c9)]===0x0){_0x18d071[_0x2a042d(0x3e2)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x3f70f4[_0x2a042d(0x1e4)]((_0x33b2ad,_0x42fc98)=>{const _0xd04d1=_0x2a042d,_0x23c761=(_0x42fc98[_0xd04d1(0x620)]||0x0)-(_0x33b2ad[_0xd04d1(0x620)]||0x0);if(_0x23c761!==0x0)return _0x23c761;const _0x1cfd91=(_0x42fc98['badgesCount']?.[_0xd04d1(0x674)]||0x0)-(_0x33b2ad[_0xd04d1(0x85d)]?.[_0xd04d1(0x674)]||0x0);if(_0x1cfd91!==0x0)return _0x1cfd91;const _0x35a5b5=(_0x42fc98[_0xd04d1(0x85d)]?.[_0xd04d1(0x637)]||0x0)-(_0x33b2ad[_0xd04d1(0x85d)]?.[_0xd04d1(0x637)]||0x0);if(_0x35a5b5!==0x0)return _0x35a5b5;const _0x57da27=(_0x42fc98['badgesCount']?.['perfect_score']||0x0)-(_0x33b2ad['badgesCount']?.[_0xd04d1(0x361)]||0x0);if(_0x57da27!==0x0)return _0x57da27;const _0x447eb0=(_0x42fc98[_0xd04d1(0x85d)]?.['quick_thinker']||0x0)-(_0x33b2ad[_0xd04d1(0x85d)]?.['quick_thinker']||0x0);if(_0x447eb0!==0x0)return _0x447eb0;return _0x33b2ad[_0xd04d1(0x640)][_0xd04d1(0x66d)](_0x42fc98[_0xd04d1(0x640)],'th');});let _0x4f7e30='';_0x3f70f4[_0x2a042d(0x7b1)]((_0x5a77a9,_0x537b09)=>{const _0x1d02c7=_0x2a042d,_0x463cb9=_0x537b09+0x1,_0x375adf=_0x5a77a9[_0x1d02c7(0x85d)]||{};let _0x153b32='';const _0x4a81b7=[_0x1d02c7(0x674),_0x1d02c7(0x361),_0x1d02c7(0x637),_0x1d02c7(0x103)];_0x4a81b7[_0x1d02c7(0x7b1)](_0x569a44=>{const _0x58f3e5=_0x1d02c7;if(_0x375adf[_0x569a44]>0x0){const _0x26b21a=Object[_0x58f3e5(0x8f5)](BADGES)['find'](_0x310e36=>_0x310e36['id']===_0x569a44);_0x26b21a&&(_0x569a44==='specialist'?_0x153b32+=_0x58f3e5(0x9c2)+_0x26b21a[_0x58f3e5(0x96f)]+_0x58f3e5(0x99e)+_0x26b21a[_0x58f3e5(0x555)]+_0x58f3e5(0x9fa):_0x153b32+=_0x58f3e5(0x9c2)+_0x26b21a[_0x58f3e5(0x96f)]+'\x20('+_0x375adf[_0x569a44]+_0x58f3e5(0x6f0)+_0x26b21a[_0x58f3e5(0x555)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x375adf[_0x569a44]+_0x58f3e5(0x61b));}}),_0x4f7e30+=_0x1d02c7(0x2f6)+_0x463cb9+_0x1d02c7(0x71d)+_0x5a77a9['studentName']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x5a77a9[_0x1d02c7(0x620)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x153b32||'-')+_0x1d02c7(0x8e6);}),_0x18d071[_0x2a042d(0x3e2)]=_0x4f7e30;}function displayLoopScreen(_0x22a204,_0x5b7732,_0x258c2a){const _0xac93b9=_0x27804f;let _0x34dd08='';_0x258c2a!==_0xac93b9(0x822)&&(_0x34dd08=_0xac93b9(0x3d9)+_0x22a204+_0xac93b9(0x4c2)+_0x5b7732+_0xac93b9(0x157));const _0xc865f3=_0xac93b9(0x522)+_0x34dd08+_0xac93b9(0x574);studentResultArea[_0xac93b9(0x3e2)]=_0xc865f3,studentResultArea[_0xac93b9(0x24d)][_0xac93b9(0x3dd)](_0xac93b9(0x825)),studentQuizArea[_0xac93b9(0x24d)][_0xac93b9(0x162)](_0xac93b9(0x825)),document[_0xac93b9(0x5a3)](_0xac93b9(0x842))['addEventListener'](_0xac93b9(0x189),()=>{const _0x4727bd=_0xac93b9;studentResultArea['classList']['add'](_0x4727bd(0x825)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x423298,_0x1e3f03,_0x2a5b37){const _0x56edd0=_0x27804f,_0x1de606=document[_0x56edd0(0x5a3)](_0x2a5b37),_0x56be2f=_0x2a5b37===_0x56edd0(0x6b7),_0x1a8f67=_0x1e3f03[_0x56edd0(0x474)][_0x56edd0(0x2c9)],_0x4f33ec=document[_0x56edd0(0x5a3)](_0x2a5b37)[_0x56edd0(0x35a)](_0x56edd0(0x46f));if(_0x4f33ec&&!_0x56be2f){const _0xa05e55=_0x4f33ec[_0x56edd0(0x62c)](_0x56edd0(0x6af));_0xa05e55[_0x56edd0(0x3e2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x423298||_0x423298[_0x56edd0(0x2c9)]===0x0){_0x1de606[_0x56edd0(0x3e2)]='<tr><td\x20colspan=\x22'+(_0x56be2f?0x6:0x8)+_0x56edd0(0x4ba);return;}const _0x1157f4=[..._0x423298];_0x1157f4[_0x56edd0(0x1e4)]((_0x429c68,_0x38c9d2)=>{const _0x350306=_0x56edd0;let _0x4a571d,_0x3bf2df;switch(quizLeaderboardSortBy){case _0x350306(0x640):_0x4a571d=_0x429c68[_0x350306(0x640)]||'',_0x3bf2df=_0x38c9d2['studentName']||'';return quizLeaderboardSortOrder===_0x350306(0x4dd)?_0x4a571d[_0x350306(0x66d)](_0x3bf2df,'th'):_0x3bf2df[_0x350306(0x66d)](_0x4a571d,'th');case'points':_0x4a571d=_0x429c68[_0x350306(0x415)]||0x0,_0x3bf2df=_0x38c9d2[_0x350306(0x415)]||0x0;break;case'attempts':_0x4a571d=_0x429c68[_0x350306(0x992)]?.['length']||0x1,_0x3bf2df=_0x38c9d2[_0x350306(0x992)]?.['length']||0x1;break;case'latestSubmittedAt':_0x4a571d=new Date(_0x429c68[_0x350306(0x750)]),_0x3bf2df=new Date(_0x38c9d2[_0x350306(0x750)]);break;case _0x350306(0x46a):default:_0x4a571d=_0x429c68['bestScore'],_0x3bf2df=_0x38c9d2[_0x350306(0x46a)];break;}if(_0x4a571d<_0x3bf2df)return quizLeaderboardSortOrder===_0x350306(0x4dd)?-0x1:0x1;if(_0x4a571d>_0x3bf2df)return quizLeaderboardSortOrder===_0x350306(0x4dd)?0x1:-0x1;return 0x0;});const _0x39235c=_0x1e3f03['isRemedial']===!![],_0x5d0e05=_0x1e3f03[_0x56edd0(0x6a4)]?.[_0x56edd0(0x1ba)]??-0x1;let _0x3b04fb='';_0x1157f4[_0x56edd0(0x7b1)]((_0x439ee2,_0x6ae7f8)=>{const _0x5ae3ce=_0x56edd0,_0x39e3f0=_0x6ae7f8+0x1;let _0x4c1f3b=_0x5ae3ce(0x8fa);if(_0x39235c||_0x5d0e05!==-0x1){let _0x2e220d=_0x39235c?_0x439ee2['bestScore']===_0x1a8f67:_0x439ee2[_0x5ae3ce(0x46a)]>=_0x5d0e05;const _0x44096f=_0x2e220d?_0x5ae3ce(0x8bb):_0x5ae3ce(0x11d),_0x544a21=_0x2e220d?_0x5ae3ce(0x87a):_0x5ae3ce(0x249);_0x4c1f3b='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x44096f+'\x22>'+_0x544a21+'</span></td>';}const _0x5f4558=_0x439ee2['attempts'][_0x439ee2[_0x5ae3ce(0x992)][_0x5ae3ce(0x2c9)]-0x1],_0x174499=(_0x5f4558['badges']||[])[_0x5ae3ce(0x6d7)](_0x25cbcd=>{const _0x12ffb0=_0x5ae3ce,_0x1c1cc5=Object['values'](BADGES)[_0x12ffb0(0x894)](_0x3b38e5=>_0x3b38e5['id']===_0x25cbcd);return _0x1c1cc5?_0x12ffb0(0x25a)+_0x1c1cc5[_0x12ffb0(0x96f)]+_0x12ffb0(0x2f1)+_0x1c1cc5[_0x12ffb0(0x555)]+_0x12ffb0(0x51d):'';})[_0x5ae3ce(0x1cb)]('');_0x3b04fb+=_0x5ae3ce(0x778)+_0x39e3f0+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x439ee2[_0x5ae3ce(0x640)]+_0x5ae3ce(0x260)+_0x439ee2[_0x5ae3ce(0x46a)]+_0x5ae3ce(0x4c2)+_0x1a8f67+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4c1f3b+_0x5ae3ce(0x1c5)+(_0x439ee2['points']||0x0)+_0x5ae3ce(0x744)+(_0x56be2f?'':_0x5ae3ce(0x977)+(_0x439ee2['attempts']?.[_0x5ae3ce(0x2c9)]||0x1)+_0x5ae3ce(0x37a))+_0x5ae3ce(0x29c)+(_0x56be2f?'':_0x5ae3ce(0xda)+new Date(_0x439ee2[_0x5ae3ce(0x750)])[_0x5ae3ce(0x3f5)](_0x5ae3ce(0x42d))+_0x5ae3ce(0x37a))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x174499||'-')+_0x5ae3ce(0x15b);}),_0x1de606[_0x56edd0(0x3e2)]=_0x3b04fb,_0x4f33ec&&!_0x56be2f&&_0x4f33ec['querySelectorAll']('thead\x20.sortable-header')[_0x56edd0(0x7b1)](_0x1b3eb5=>{const _0x14c773=_0x56edd0,_0x1c4655=_0x1b3eb5[_0x14c773(0x62c)](_0x14c773(0x557));if(_0x1c4655)_0x1c4655[_0x14c773(0x3dd)]();_0x1b3eb5[_0x14c773(0x4b7)][_0x14c773(0x1e4)]===quizLeaderboardSortBy&&(_0x1b3eb5[_0x14c773(0x3e2)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x14c773(0x4dd)?'▲':'▼')+_0x14c773(0x52d));});}async function handleDeleteSubmission(_0x5f52d1){const _0x14f26b=_0x27804f;if(!currentQuizData||!currentQuizData['id']||!_0x5f52d1){showMessage(_0x14f26b(0x6ce));return;}showConfirmation(_0x14f26b(0xe0)+_0x5f52d1+_0x14f26b(0x88e),async()=>{const _0x40158c=_0x14f26b,_0xf18264=currentQuizData['id'],_0x5e42f6=doc(db,_0x40158c(0x71a)+appId+'/public/data/quizzes/'+_0xf18264+_0x40158c(0x36e),_0x5f52d1);try{await deleteDoc(_0x5e42f6),showMessage('ลบผลสอบของ\x20'+_0x5f52d1+'\x20สำเร็จ');}catch(_0x5f35fe){console['error'](_0x40158c(0x84d),_0x5f35fe),showMessage(_0x40158c(0x22c));}});}async function handleLoadQuiz(){const _0x24470c=_0x27804f,_0x384bae=document[_0x24470c(0x5a3)]('quiz-id-input'),_0x5e8f2f=_0x384bae[_0x24470c(0x50c)][_0x24470c(0x79e)]();if(!_0x5e8f2f){showMessage(_0x24470c(0x7cf));return;}loadQuizBtn[_0x24470c(0x190)]=!![],loadQuizBtn[_0x24470c(0x3e2)]=_0x24470c(0x5fd);try{const _0x5ac681=doc(db,_0x24470c(0x71a)+appId+_0x24470c(0x91e),_0x5e8f2f),_0x52da77=await getDoc(_0x5ac681);if(!_0x52da77[_0x24470c(0x75f)]()){showMessage(_0x24470c(0x8ad));return;}currentQuizData={'id':_0x52da77['id'],..._0x52da77[_0x24470c(0x724)]()};const _0x6897d1=currentQuizData['status']||'active',_0x5e9787=new Date();if(_0x6897d1===_0x24470c(0x77c)){showMessage(_0x24470c(0x26d));return;}if(_0x6897d1===_0x24470c(0x454)){const _0x394e0b=currentQuizData[_0x24470c(0xa05)]?new Date(currentQuizData['startTime']):null,_0x1fd49e=currentQuizData[_0x24470c(0x11a)]?new Date(currentQuizData['endTime']):null;if(_0x394e0b&&_0x5e9787<_0x394e0b){showMessage(_0x24470c(0x275)+_0x394e0b[_0x24470c(0x3f5)](_0x24470c(0x42d),{'hour12':![]}));return;}if(_0x1fd49e&&_0x5e9787>_0x1fd49e){showMessage(_0x24470c(0x147));return;}}const _0x360c5b=currentQuizData[_0x24470c(0x25d)];currentProjectId=_0x360c5b;const _0x570567=doc(db,_0x24470c(0x71a)+appId+'/public/data/projects',_0x360c5b),_0x3e42d7=await getDoc(_0x570567);if(!_0x3e42d7[_0x24470c(0x75f)]()){showMessage(_0x24470c(0x224));return;}const _0x345d6f=_0x3e42d7[_0x24470c(0x724)]();currentStudentProjectData=_0x345d6f,displayStudentNameSelector(_0x345d6f[_0x24470c(0x137)],currentQuizData['topic']);}catch(_0x2c69c1){console['error'](_0x24470c(0x26b),_0x2c69c1),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn[_0x24470c(0x190)]=![],loadQuizBtn[_0x24470c(0x3e2)]=_0x24470c(0x2be);}}async function handleJoinLiveGame(){const _0x5cb6ae=_0x27804f,_0x317288=document[_0x5cb6ae(0x5a3)](_0x5cb6ae(0x3c2)),_0x14ce39=document[_0x5cb6ae(0x5a3)]('nickname-input'),_0x4d56e6=document['getElementById'](_0x5cb6ae(0x8b4)),_0x310aee=_0x317288[_0x5cb6ae(0x50c)][_0x5cb6ae(0x79e)](),_0x27d454=_0x14ce39[_0x5cb6ae(0x50c)][_0x5cb6ae(0x79e)]();if(!_0x310aee||!_0x27d454){showMessage(_0x5cb6ae(0x12b));return;}_0x4d56e6[_0x5cb6ae(0x190)]=!![],_0x4d56e6[_0x5cb6ae(0x3e2)]=_0x5cb6ae(0x1e7);try{const _0x3aa8ad=collection(db,_0x5cb6ae(0x71a)+appId+_0x5cb6ae(0x797)),_0x423445=query(_0x3aa8ad,where(_0x5cb6ae(0x5cc),'==',_0x310aee),where('status','in',['lobby',_0x5cb6ae(0x6f2)])),_0x466e98=await getDocs(_0x423445);if(_0x466e98['empty']){showMessage(_0x5cb6ae(0x221));return;}const _0x28d375=_0x466e98[_0x5cb6ae(0x16e)][0x0],_0x1dc8a0=_0x28d375['data']();currentLiveGameId=_0x28d375['id'];const _0x3aebba=_0x1dc8a0[_0x5cb6ae(0x53c)],_0x177d5d=doc(db,_0x5cb6ae(0x71a)+appId+'/public/data/quizzes',_0x3aebba),_0x29b497=await getDoc(_0x177d5d);if(!_0x29b497[_0x5cb6ae(0x75f)]()){showMessage(_0x5cb6ae(0x3dc));return;}currentQuizData={'id':_0x29b497['id'],..._0x29b497[_0x5cb6ae(0x724)]()};if(_0x1dc8a0[_0x5cb6ae(0xbe)]&&_0x1dc8a0['players'][_0x27d454]){const _0x34a7e3=_0x1dc8a0[_0x5cb6ae(0xbe)][_0x27d454];if(_0x34a7e3['status']===_0x5cb6ae(0x77c)){_0x4d56e6['innerHTML']=_0x5cb6ae(0x887);const _0x1a1723={};_0x1a1723['players.'+_0x27d454+'.status']=_0x5cb6ae(0x4cd),await updateDoc(doc(db,_0x5cb6ae(0x71a)+appId+_0x5cb6ae(0x797),currentLiveGameId),_0x1a1723),showView(_0x5cb6ae(0x4f1)),currentStudentName=_0x27d454,listenForLiveGameUpdates();return;}else{showMessage(_0x5cb6ae(0x9c4));return;}}if(_0x1dc8a0['status']!=='lobby'){showMessage(_0x5cb6ae(0x413));return;}_0x4d56e6[_0x5cb6ae(0x3e2)]=_0x5cb6ae(0x6cc);const _0x3cb040={};_0x3cb040[_0x5cb6ae(0x6d5)+_0x27d454]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x5cb6ae(0x4cd)},await updateDoc(doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x3cb040),currentStudentName=_0x27d454,listenForLiveGameUpdates();}catch(_0x4f3298){console[_0x5cb6ae(0x84a)](_0x5cb6ae(0x412),_0x4f3298),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x4d56e6[_0x5cb6ae(0x190)]=![],_0x4d56e6['innerHTML']='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0xb09c0f,_0xeeaa30){const _0x4858b0=_0x27804f,_0x5037ab=document[_0x4858b0(0x5a3)](_0x4858b0(0x400));document[_0x4858b0(0x5a3)](_0x4858b0(0x38b))[_0x4858b0(0x84f)]=_0x4858b0(0x3af)+_0xeeaa30,!_0xb09c0f||_0xb09c0f['length']===0x0?(_0x5037ab[_0x4858b0(0x3e2)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x4858b0(0x190)]=!![]):(_0x5037ab[_0x4858b0(0x3e2)]=_0x4858b0(0x14e),_0xb09c0f[_0x4858b0(0x7b1)](_0x4e1d66=>{const _0x2f5485=_0x4858b0,_0x251d1e=document[_0x2f5485(0x291)](_0x2f5485(0x945));_0x251d1e['value']=_0x4e1d66,_0x251d1e[_0x2f5485(0x84f)]=_0x4e1d66,_0x5037ab[_0x2f5485(0x2ac)](_0x251d1e);}),startQuizBtn[_0x4858b0(0x190)]=![]),studentInitialView[_0x4858b0(0x24d)][_0x4858b0(0x162)](_0x4858b0(0x825)),studentNameSelectionView[_0x4858b0(0x24d)][_0x4858b0(0x3dd)](_0x4858b0(0x825));}function shuffleArray(_0x3e9ebe){const _0x88c0fa=_0x27804f;for(let _0x41a4a3=_0x3e9ebe[_0x88c0fa(0x2c9)]-0x1;_0x41a4a3>0x0;_0x41a4a3--){const _0x2ecc6c=Math['floor'](Math['random']()*(_0x41a4a3+0x1));[_0x3e9ebe[_0x41a4a3],_0x3e9ebe[_0x2ecc6c]]=[_0x3e9ebe[_0x2ecc6c],_0x3e9ebe[_0x41a4a3]];}}function getShuffledQuiz(_0xb6f5f9){const _0x58a56b=_0x27804f;let _0x363d6f=JSON[_0x58a56b(0x298)](JSON[_0x58a56b(0x65f)](_0xb6f5f9));const _0x2b1064=_0x363d6f[_0x58a56b(0x6a4)]?.[_0x58a56b(0x1a4)]||'none';if(_0x2b1064==='none')return _0x363d6f;return(_0x2b1064===_0x58a56b(0x1aa)||_0x2b1064===_0x58a56b(0x3d5))&&shuffleArray(_0x363d6f[_0x58a56b(0x474)]),(_0x2b1064==='choices_only'||_0x2b1064===_0x58a56b(0x3d5))&&_0x363d6f[_0x58a56b(0x474)][_0x58a56b(0x7b1)](_0x5ca81f=>{const _0x249c9d=_0x58a56b,_0x292545=_0x5ca81f['questionType']||_0x363d6f['quizType'];if(_0x5ca81f['options']){let _0x7e6edb=_0x5ca81f[_0x249c9d(0x86b)][_0x249c9d(0x6d7)]((_0x3c861b,_0xdeac93)=>({'text':_0x3c861b,'isCorrect':_0xdeac93===_0x5ca81f[_0x249c9d(0x150)]}));shuffleArray(_0x7e6edb),_0x5ca81f['options']=_0x7e6edb[_0x249c9d(0x6d7)](_0x510498=>_0x510498[_0x249c9d(0x45f)]),_0x5ca81f[_0x249c9d(0x150)]=_0x7e6edb['findIndex'](_0x9da1=>_0x9da1['isCorrect']);}_0x292545===_0x249c9d(0x3fd)&&_0x5ca81f[_0x249c9d(0x2fa)]&&shuffleArray(_0x5ca81f[_0x249c9d(0x2fa)]);}),_0x363d6f;}function displayQuizForStudent(_0x79f282){const _0x223ec8=_0x27804f;studentQuizArea['classList'][_0x223ec8(0x3dd)](_0x223ec8(0x825)),currentDisplayedQuiz=getShuffledQuiz(_0x79f282);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x223ec8(0x1ec),handleFullscreenChange),document[_0x223ec8(0x2ea)](_0x223ec8(0x448),handleVisibilityChange),enterFullscreen(),window[_0x223ec8(0x2ea)]('mousemove',resetDimTimer),window[_0x223ec8(0x2ea)](_0x223ec8(0x4db),resetDimTimer),window[_0x223ec8(0x2ea)](_0x223ec8(0x810),resetDimTimer),window[_0x223ec8(0x2ea)]('keydown',resetDimTimer),resetDimTimer());const _0x26a670=currentDisplayedQuiz['settings']?.[_0x223ec8(0x25f)]||'none';if(_0x26a670===_0x223ec8(0x583))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x223ec8(0x6a4)][_0x223ec8(0x8f3)]);else _0x26a670===_0x223ec8(0x95f)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x47985c=_0x27804f,_0x27235b=currentDisplayedQuiz[_0x47985c(0x6a4)]?.[_0x47985c(0x8cd)]===!![],_0x52ba8e=currentDisplayedQuiz[_0x47985c(0x6a4)]?.[_0x47985c(0x7dd)]||'checkbox';let _0x5364de=_0x47985c(0x4c5)+currentDisplayedQuiz[_0x47985c(0x2a9)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x47985c(0x456)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x47985c(0x261);currentDisplayedQuiz[_0x47985c(0x474)][_0x47985c(0x7b1)]((_0x22fead,_0x399882)=>{const _0x58d540=_0x47985c,_0x11c92c=_0x22fead[_0x58d540(0x891)]||currentDisplayedQuiz[_0x58d540(0x907)];_0x5364de+=_0x58d540(0x338);if(_0x11c92c===_0x58d540(0x3fd)){}else _0x5364de+='<p>'+(_0x399882+0x1)+'.\x20'+(_0x22fead['instructions']||_0x22fead[_0x58d540(0x872)])+'</p>',_0x22fead[_0x58d540(0xd9)]&&(_0x5364de+=_0x58d540(0x6ec)+_0x22fead[_0x58d540(0xd9)]+'</div>');_0x5364de+=_0x58d540(0x5f8);switch(_0x11c92c){case _0x58d540(0x511):_0x5364de+=_0x58d540(0x690)+_0x399882+_0x58d540(0x28d);break;case _0x58d540(0x6d1):_0x5364de+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x399882+_0x58d540(0x169)+_0x399882+_0x58d540(0x4a9)+_0x399882+'_opt0\x22>ใช่</label></div>',_0x5364de+=_0x58d540(0x532)+_0x399882+_0x58d540(0x92f)+_0x399882+_0x58d540(0x2cb)+_0x399882+_0x58d540(0x8b9);break;case _0x58d540(0x3fd):_0x5364de+=_0x58d540(0x9e8)+_0x22fead[_0x58d540(0x956)]+_0x58d540(0x66b)+_0x399882+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x22fead[_0x58d540(0x2fa)][_0x58d540(0x6d7)](_0x29cd5a=>_0x58d540(0x76f)+_0x29cd5a+'\x22>'+_0x29cd5a+_0x58d540(0x217))[_0x58d540(0x1cb)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;default:_0x5364de+=_0x22fead[_0x58d540(0x86b)][_0x58d540(0x6d7)]((_0x195da0,_0x5bad0b)=>_0x58d540(0x22b)+_0x399882+'_opt'+_0x5bad0b+_0x58d540(0x134)+_0x399882+'\x22\x20value=\x22'+_0x5bad0b+_0x58d540(0x442)+_0x399882+_0x58d540(0x4aa)+_0x5bad0b+'\x22>'+_0x195da0+_0x58d540(0x772))[_0x58d540(0x1cb)]('');break;}_0x5364de+='</div>',_0x27235b&&(_0x5364de+=_0x58d540(0x38c),_0x52ba8e===_0x58d540(0xe4)?_0x5364de+=_0x58d540(0x536)+_0x399882+_0x58d540(0x50b)+_0x399882+_0x58d540(0x7db)+_0x399882+_0x58d540(0x4e5)+_0x399882+_0x58d540(0x705):_0x5364de+=_0x58d540(0x195)+_0x399882+'\x22\x20name=\x22confidence'+_0x399882+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0x399882+_0x58d540(0x3a4),_0x5364de+=_0x58d540(0x8c4)),_0x5364de+='</div>';}),_0x5364de+=_0x47985c(0x463),_0x5364de+=_0x47985c(0x7bd),studentQuizArea[_0x47985c(0x3e2)]=_0x5364de;if(currentMode==='admin-testing'){const _0x3e355d=document[_0x47985c(0x5a3)](_0x47985c(0x35f));if(_0x3e355d)_0x3e355d[_0x47985c(0x2ea)](_0x47985c(0x189),cancelAdminTest);}const _0x56ccc7=document[_0x47985c(0x5a3)](_0x47985c(0x2c4));_0x56ccc7&&(_0x56ccc7['addEventListener'](_0x47985c(0x618),handleSubmitQuiz),_0x56ccc7[_0x47985c(0x2ea)](_0x47985c(0x189),_0x2ca77d=>{const _0x50e1a1=_0x47985c;if(_0x2ca77d[_0x50e1a1(0x680)][_0x50e1a1(0x24d)][_0x50e1a1(0x6e6)](_0x50e1a1(0x78b))){const _0x275ecf=_0x2ca77d[_0x50e1a1(0x680)],_0x3daa60=_0x275ecf[_0x50e1a1(0x4b7)][_0x50e1a1(0x5db)],_0x518ced=_0x275ecf[_0x50e1a1(0x4b7)][_0x50e1a1(0x50c)];document[_0x50e1a1(0x5a3)](_0x50e1a1(0x7d1)+_0x3daa60)[_0x50e1a1(0x50c)]=_0x518ced;const _0x141e6c=_0x275ecf[_0x50e1a1(0x2ca)];_0x141e6c['querySelectorAll'](_0x50e1a1(0x57d))[_0x50e1a1(0x7b1)](_0x20523f=>_0x20523f[_0x50e1a1(0x24d)][_0x50e1a1(0x3dd)](_0x50e1a1(0x4cd))),_0x275ecf['classList'][_0x50e1a1(0x162)](_0x50e1a1(0x4cd));}}));if(window[_0x47985c(0x403)])window['MathJax'][_0x47985c(0x276)]([studentQuizArea]);}async function handleSubmitQuiz(_0x126722){const _0x878c8c=_0x27804f;if(_0x126722)_0x126722[_0x878c8c(0xba)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x3cb254=document[_0x878c8c(0x5a3)](_0x878c8c(0x2c4));if(!_0x3cb254)return;const _0x629c92=currentDisplayedQuiz[_0x878c8c(0x6a4)]?.['isConfidenceScoringEnabled']===!![],_0x2a0b70=currentDisplayedQuiz['settings']?.[_0x878c8c(0x7dd)]||_0x878c8c(0x3ad);if(_0x629c92&&_0x2a0b70===_0x878c8c(0xe4)){let _0x505aa3=!![];for(let _0x22ee67=0x0;_0x22ee67<currentDisplayedQuiz['questions'][_0x878c8c(0x2c9)];_0x22ee67++){const _0x147622=_0x3cb254[_0x878c8c(0x62c)](_0x878c8c(0x44c)+_0x22ee67);if(!_0x147622||_0x147622[_0x878c8c(0x50c)]===''){_0x505aa3=![];break;}}if(!_0x505aa3){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x28c46b=_0x3cb254[_0x878c8c(0x62c)](_0x878c8c(0x788)),_0x313287=currentDisplayedQuiz[_0x878c8c(0x474)][_0x878c8c(0x1de)](_0x2fd19b=>_0x2fd19b[_0x878c8c(0x891)]===_0x878c8c(0x511));_0x28c46b&&(_0x28c46b[_0x878c8c(0x190)]=!![],_0x28c46b[_0x878c8c(0x3e2)]=_0x313287?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x878c8c(0x59b));const _0x3ac6d1=new FormData(_0x3cb254),_0x2a9ae1=currentDisplayedQuiz[_0x878c8c(0x474)][_0x878c8c(0x6d7)]((_0x5ca593,_0x3abb73)=>{const _0xf1bee4=_0x878c8c,_0x31775e=_0x3ac6d1[_0xf1bee4(0x7a0)](_0xf1bee4(0x6f2)+_0x3abb73);let _0xf8116a;_0x2a0b70===_0xf1bee4(0xe4)?_0xf8116a=_0x3ac6d1[_0xf1bee4(0x7a0)]('confidence'+_0x3abb73):_0xf8116a=_0x3ac6d1['get']('confidence'+_0x3abb73)==='on';let _0x56e224=null;if(_0x31775e!==null&&_0x31775e!==undefined){const _0x5a6e3d=_0x5ca593[_0xf1bee4(0x891)]||currentDisplayedQuiz[_0xf1bee4(0x907)];_0x5a6e3d===_0xf1bee4(0x1c6)||_0x5a6e3d===_0xf1bee4(0x8af)?_0x56e224=parseInt(_0x31775e):_0x56e224=_0x31775e;}return{'answer':_0x56e224,'wasConfident':_0xf8116a};}),_0x377542=currentQuizData['id'],_0x246c0d=doc(db,_0x878c8c(0x71a)+appId+'/public/data/quizzes/'+_0x377542+_0x878c8c(0x36e),currentStudentName),_0x250ca0=await getDoc(_0x246c0d),_0x46d6d4=_0x250ca0['exists']()?_0x250ca0['data']():{},_0x338dc7=_0x46d6d4[_0x878c8c(0x992)]||[];await processAndSubmitAnswers(_0x2a9ae1,_0x338dc7);}async function gradeShortAnswerWithAI(_0x44cc94,_0x43cda8){const _0x4e8823=_0x27804f;if(!_0x44cc94||!_0x43cda8)return![];try{const _0x2263cd=_0x4e8823(0x18c)+_0x44cc94+_0x4e8823(0x3df)+_0x43cda8+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x185bc0={'contents':[{'role':_0x4e8823(0x468),'parts':[{'text':_0x2263cd}]}]},_0x58411f='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x140574=_0x4e8823(0xb4)+_0x58411f,_0x18efb1=await fetch(_0x140574,{'method':'POST','headers':{'Content-Type':_0x4e8823(0x8fd)},'body':JSON[_0x4e8823(0x65f)](_0x185bc0)});if(!_0x18efb1['ok'])throw new Error(_0x4e8823(0x758));const _0x32f5c6=await _0x18efb1['json'](),_0x16a513=_0x32f5c6['candidates'][0x0]['content'][_0x4e8823(0x89d)][0x0]['text'][_0x4e8823(0x79e)]()['toLowerCase']();return _0x16a513===_0x4e8823(0x32b);}catch(_0x56e597){return console[_0x4e8823(0x84a)](_0x4e8823(0x79b),_0x56e597),![];}}async function processAndSubmitAnswers(_0x41a6f4,_0x564b8b){const _0x2ef8f6=_0x27804f;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener']('fullscreenchange',handleFullscreenChange),document[_0x2ef8f6(0x6ac)](_0x2ef8f6(0x448),handleVisibilityChange);let _0x568120=0x0;const _0x33b8f1=[],_0x146f12=currentDisplayedQuiz[_0x2ef8f6(0x474)][_0x2ef8f6(0x2c9)];let _0x430792=0x0,_0x26f8a2=[];const _0x22216d=currentDisplayedQuiz[_0x2ef8f6(0x474)];for(let _0x32d481=0x0;_0x32d481<_0x22216d[_0x2ef8f6(0x2c9)];_0x32d481++){const _0x411608=_0x22216d[_0x32d481],_0x57d4fc=_0x41a6f4[_0x32d481],_0x4e7fc6=_0x57d4fc?_0x57d4fc[_0x2ef8f6(0x70a)]:null,_0x3a2fb4=_0x57d4fc?_0x57d4fc[_0x2ef8f6(0x11b)]:null;let _0x5c4da9=![],_0x3b717d=0x0;if(_0x4e7fc6!==null&&_0x4e7fc6!==''){const _0x139095=_0x411608[_0x2ef8f6(0x891)]||currentDisplayedQuiz[_0x2ef8f6(0x907)];switch(_0x139095){case _0x2ef8f6(0x3fd):_0x5c4da9=_0x4e7fc6===_0x411608[_0x2ef8f6(0x8e5)];break;case'true_false':const _0x5c38d0=_0x4e7fc6===!![]||_0x4e7fc6===_0x2ef8f6(0x32b);_0x5c4da9=_0x5c38d0===_0x411608[_0x2ef8f6(0x1e0)];break;case _0x2ef8f6(0x511):_0x5c4da9=await gradeShortAnswer(_0x4e7fc6,_0x411608);break;case _0x2ef8f6(0x1c6):default:_0x5c4da9=Number(_0x4e7fc6)===_0x411608[_0x2ef8f6(0x150)];break;}}if(currentDisplayedQuiz['settings']?.[_0x2ef8f6(0x8cd)]){const _0x60e85e=_0x57d4fc?_0x57d4fc[_0x2ef8f6(0x11b)]:null;if(_0x5c4da9&&(_0x60e85e===!![]||_0x60e85e===_0x2ef8f6(0x343)))_0x3b717d=0x2;else{if(_0x5c4da9)_0x3b717d=0x1;else{if(!_0x5c4da9&&(_0x60e85e===![]||_0x60e85e==='not_confident'||_0x60e85e===null))_0x3b717d=0x0;else!_0x5c4da9&&(_0x60e85e===!![]||_0x60e85e===_0x2ef8f6(0x343))&&(_0x3b717d=-0x1);}}}else _0x3b717d=_0x5c4da9?0x1:0x0;_0x568120+=_0x3b717d;if(_0x5c4da9){_0x430792++;if(_0x430792===0x3)_0x26f8a2[_0x2ef8f6(0x523)](BADGES[_0x2ef8f6(0x2eb)]['id']);}else _0x430792=0x0;let _0x1d1b0a=null;_0x411608[_0x2ef8f6(0x86b)]&&_0x4e7fc6!==null&&(_0x1d1b0a=_0x411608['options'][_0x4e7fc6]),_0x33b8f1[_0x2ef8f6(0x523)]({'questionId':_0x411608['id'],'answer':_0x4e7fc6,'answerText':_0x1d1b0a,'isCorrect':_0x5c4da9,'wasConfident':_0x3a2fb4,'pointsAwarded':_0x3b717d,'originalQuestionText':_0x411608[_0x2ef8f6(0x956)]||_0x411608[_0x2ef8f6(0x872)]});}const _0x4faf71=_0x33b8f1[_0x2ef8f6(0x3bf)](_0x10633b=>_0x10633b[_0x2ef8f6(0x91a)])[_0x2ef8f6(0x2c9)],_0x2e5219=currentDisplayedQuiz[_0x2ef8f6(0x6a4)]?.[_0x2ef8f6(0x1ba)]??Math['floor'](_0x146f12/0x2);_0x4faf71===_0x146f12&&_0x146f12>0x0&&!currentDisplayedQuiz[_0x2ef8f6(0x66a)]&&_0x26f8a2[_0x2ef8f6(0x523)](BADGES['PERFECT_SCORE']['id']);const _0x4071de=currentDisplayedQuiz['settings']?.[_0x2ef8f6(0x25f)];if(_0x4071de===_0x2ef8f6(0x583)&&quizStartTime){const _0x12c03c=(new Date()-quizStartTime)/0x3e8,_0x5d09a7=currentDisplayedQuiz['settings']['timerDuration']*0x3c;_0x4faf71>=_0x2e5219&&_0x12c03c<_0x5d09a7/0x2&&_0x26f8a2[_0x2ef8f6(0x523)](BADGES['QUICK_THINKER']['id']);}_0x564b8b[_0x2ef8f6(0x2c9)]===0x0&&_0x4faf71===_0x146f12&&_0x146f12>0x0&&_0x26f8a2[_0x2ef8f6(0x523)](BADGES['FIRST_TRY_ACE']['id']);if(_0x564b8b['length']>0x0){const _0x14b589=_0x564b8b[0x0]['score'];if(_0x14b589<_0x2e5219&&_0x4faf71>=_0x2e5219){const _0x31690a=_0x564b8b[_0x2ef8f6(0x1de)](_0x322c7a=>(_0x322c7a[_0x2ef8f6(0x67e)]||[])['includes'](BADGES[_0x2ef8f6(0x486)]['id']));!_0x31690a&&_0x26f8a2[_0x2ef8f6(0x523)](BADGES[_0x2ef8f6(0x486)]['id']);}}_0x564b8b[_0x2ef8f6(0x2c9)]===0x4&&_0x26f8a2[_0x2ef8f6(0x523)](BADGES['PERSEVERANCE']['id']);const _0x33f7d6=currentDisplayedQuiz[_0x2ef8f6(0x6a4)][_0x2ef8f6(0x8a4)];if(currentMode===_0x2ef8f6(0x456)){handleResultDisplay(_0x33f7d6,_0x4faf71,_0x568120,_0x26f8a2,_0x33b8f1,_0x146f12);return;}const _0x458aef=currentQuizData['id'],_0x2318a3=doc(db,_0x2ef8f6(0x71a)+appId+'/public/data/quizzes/'+_0x458aef+_0x2ef8f6(0x36e),currentStudentName);try{const _0x4ea90e=[..._0x564b8b],_0x21c935={'score':_0x4faf71,'points':_0x568120,'badges':Array[_0x2ef8f6(0x17b)](new Set(_0x26f8a2)),'submittedAt':new Date()['toISOString'](),'answers':_0x33b8f1};_0x4ea90e[_0x2ef8f6(0x523)](_0x21c935);const _0x1d21f1=_0x564b8b[_0x2ef8f6(0x2c9)]===0x0?_0x4faf71:_0x564b8b[0x0][_0x2ef8f6(0x49c)]||0x0,_0x408325=Math['max'](..._0x4ea90e[_0x2ef8f6(0x6d7)](_0x54b439=>_0x54b439[_0x2ef8f6(0x49c)]));await setDoc(_0x2318a3,{'studentName':currentStudentName,'totalQuestions':_0x146f12,'attempts':_0x4ea90e,'firstScore':_0x1d21f1,'bestScore':_0x408325,'latestScore':_0x4faf71,'points':_0x568120,'latestSubmittedAt':_0x21c935[_0x2ef8f6(0x978)]},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x33f7d6,_0x4faf71,_0x568120,_0x26f8a2,_0x33b8f1,_0x146f12);}catch(_0x37ccfd){console[_0x2ef8f6(0x84a)](_0x2ef8f6(0x43c),_0x37ccfd),showMessage(_0x2ef8f6(0x875));}}async function updateStudentProfile(_0x582744,_0x1c99f5){const _0x51b58b=_0x27804f,_0x46f4a5=doc(db,_0x51b58b(0x71a)+appId+_0x51b58b(0x385)+_0x582744+_0x51b58b(0x180),_0x1c99f5);try{const _0x5f53c5=query(collection(db,_0x51b58b(0x71a)+appId+_0x51b58b(0x91e)),where(_0x51b58b(0x25d),'==',_0x582744)),_0xfaba54=await getDocs(_0x5f53c5),_0x849fca=new Map(_0xfaba54[_0x51b58b(0x16e)]['map'](_0x41bbc9=>[_0x41bbc9['id'],_0x41bbc9['data']()])),_0x31d42a=Array['from'](_0x849fca[_0x51b58b(0x1a2)]());await runTransaction(db,async _0x208095=>{const _0x34effc=_0x51b58b;let _0xecd80a=0x0;const _0x4c5612={};let _0x403477=!![],_0x379acf=0x0,_0x496635=0x0;for(const _0x1be895 of _0x31d42a){const _0x2e5c01=_0x849fca['get'](_0x1be895),_0x324772=doc(db,_0x34effc(0x71a)+appId+_0x34effc(0x9b2)+_0x1be895+_0x34effc(0x36e),_0x1c99f5),_0x29d7bb=await _0x208095[_0x34effc(0x7a0)](_0x324772);if(_0x29d7bb['exists']()){const _0x538f61=_0x29d7bb[_0x34effc(0x724)](),_0x4cdaf3=_0x538f61[_0x34effc(0x992)]||[];if(_0x4cdaf3[_0x34effc(0x2c9)]>0x0){const _0x275e90=_0x4cdaf3[_0x34effc(0x2a4)]((_0x4f5b75,_0x28eeea)=>{const _0xc25e5=_0x34effc;if(_0x28eeea[_0xc25e5(0x49c)]>_0x4f5b75[_0xc25e5(0x49c)])return _0x28eeea;if(_0x28eeea[_0xc25e5(0x49c)]===_0x4f5b75['score'])return(_0x28eeea[_0xc25e5(0x415)]||0x0)>(_0x4f5b75[_0xc25e5(0x415)]||0x0)?_0x28eeea:_0x4f5b75;return _0x4f5b75;},{'score':-0x1,'points':-0x1});_0x275e90[_0x34effc(0x49c)]>-0x1&&(_0xecd80a+=_0x275e90['points']||0x0,(_0x275e90[_0x34effc(0x67e)]||[])['forEach'](_0x1892c1=>{_0x4c5612[_0x1892c1]=(_0x4c5612[_0x1892c1]||0x0)+0x1;}));}}if(_0x2e5c01['topic']!==_0x34effc(0x9a9)){_0x496635++;if(_0x29d7bb[_0x34effc(0x75f)]()){_0x379acf++;const _0x58704b=_0x29d7bb[_0x34effc(0x724)]();_0x58704b[_0x34effc(0x46a)]!==_0x58704b['totalQuestions']&&(_0x403477=![]);}else _0x403477=![];}}_0x496635>0x0&&_0x379acf===_0x496635&&_0x403477?_0x4c5612[_0x34effc(0x674)]=0x1:_0x4c5612['specialist']=0x0,_0x208095[_0x34effc(0x143)](_0x46f4a5,{'studentName':_0x1c99f5,'totalPoints':_0xecd80a,'unlockedBadges':Object[_0x34effc(0x1a2)](_0x4c5612)[_0x34effc(0x3bf)](_0x2c245c=>_0x4c5612[_0x2c245c]>0x0),'badgesCount':_0x4c5612},{'merge':!![]});});}catch(_0x357c71){console[_0x51b58b(0x84a)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x357c71),showMessage(_0x51b58b(0x981));}}function startAdminTest(){const _0x26ebf4=_0x27804f;if(!currentQuizData){showMessage(_0x26ebf4(0x70f));return;}let _0x52f5da=JSON[_0x26ebf4(0x298)](JSON[_0x26ebf4(0x65f)](currentQuizData));currentMode=_0x26ebf4(0x456),currentStudentName=_0x26ebf4(0x118),adminView[_0x26ebf4(0x24d)][_0x26ebf4(0x162)](_0x26ebf4(0x825)),studentView['classList'][_0x26ebf4(0x3dd)](_0x26ebf4(0x825)),studentInitialView[_0x26ebf4(0x24d)]['add'](_0x26ebf4(0x825)),studentNameSelectionView['classList'][_0x26ebf4(0x162)](_0x26ebf4(0x825)),studentResultArea['classList'][_0x26ebf4(0x162)](_0x26ebf4(0x825)),studentQuizArea[_0x26ebf4(0x24d)][_0x26ebf4(0x3dd)](_0x26ebf4(0x825)),quizStartTime=new Date(),displayQuizForStudent(_0x52f5da);}function handleResultDisplay(_0x31fdf9,_0x1ce9db,_0x16b868,_0x1afb45,_0xd75cc0,_0xde6e0d){const _0x105006=_0x27804f;if(_0x31fdf9===_0x105006(0x588)){displaySubmissionConfirmation();return;}const _0xcdc251=currentDisplayedQuiz[_0x105006(0x6a4)]?.['passingScore']??Math[_0x105006(0x5f1)](_0xde6e0d/0x2),_0x1ac27c=currentDisplayedQuiz[_0x105006(0x6a4)]?.['isAdaptive']??![],_0x31b446=currentDisplayedQuiz['settings']?.[_0x105006(0x9a1)]===!![],_0x5a770d=_0x1ce9db<_0xcdc251,_0x248c1a=_0x31fdf9===_0x105006(0x587)||_0x31fdf9===_0x105006(0x957);if(_0x31b446&&_0x5a770d&&!_0x248c1a){_0x31fdf9===_0x105006(0x693)?displayResultsWithAnswers(_0x1ce9db,_0x16b868,_0x1afb45,_0xd75cc0,_0xde6e0d,!![]):displayLoopScreen(_0x1ce9db,_0xde6e0d,_0x31fdf9);return;}if(_0x1ac27c&&_0x5a770d){startAdaptiveFlow(_0xd75cc0,_0x1ce9db,_0xde6e0d);return;}switch(_0x31fdf9){case'show_results_and_answers':displayResultsWithAnswers(_0x1ce9db,_0x16b868,_0x1afb45,_0xd75cc0,_0xde6e0d);break;case _0x105006(0x8b7):displayResultsScoreOnly(_0x1ce9db,_0x16b868,_0x1afb45,_0xde6e0d);break;case _0x105006(0x822):displayPassFailOnly(_0x1ce9db,_0xde6e0d);break;case'half_mark_status':displayHalfMarkResult(_0x1ce9db,_0xde6e0d);break;case _0x105006(0x957):displayPerfectScoreResult(_0x1ce9db,_0xde6e0d);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x3f167a){const _0x1203ef=_0x27804f;studentReadingArea[_0x1203ef(0x3e2)]=_0x1203ef(0x5e4);const _0x3a34c3=_0x1203ef(0x4a7)+_0x3f167a+_0x1203ef(0x732)+simpleMathPrompt+_0x1203ef(0x4ac),_0x59c1be={'type':_0x1203ef(0x440),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x1203ef(0x1fb)}},'correctAnswerIndex':{'type':_0x1203ef(0x451)},'explanation':{'type':_0x1203ef(0x1fb)}},'required':[_0x1203ef(0x872),_0x1203ef(0x86b),_0x1203ef(0x150),_0x1203ef(0x559)]},_0x4f9961={'type':_0x1203ef(0x440),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x59c1be}},'required':[_0x1203ef(0x2a9),_0x1203ef(0x474)]};try{const _0x4b2cee=await callAnalysisApi(_0x3a34c3,_0x4f9961);_0x4b2cee[_0x1203ef(0x66a)]=!![],studentReadingArea[_0x1203ef(0x24d)][_0x1203ef(0x162)](_0x1203ef(0x825));const _0x244f77={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x4b2cee[_0x1203ef(0x6a4)]=_0x244f77,displayQuizForStudent(_0x4b2cee);}catch(_0x2a40a0){console[_0x1203ef(0x84a)](_0x1203ef(0x322),_0x2a40a0),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x1203ef(0x2c2));}}function displayPassFailOnly(_0x34fba7,_0x2ea519){const _0x26a014=_0x27804f,_0x39e35d=currentDisplayedQuiz['settings']?.[_0x26a014(0x1ba)]??-0x1,_0x140b6e=currentDisplayedQuiz[_0x26a014(0x66a)]===!![];let _0xe757c7='',_0x357936=![];if(_0x140b6e||_0x39e35d!==-0x1){_0x357936=_0x140b6e?_0x34fba7===_0x2ea519:_0x34fba7>=_0x39e35d;const _0x27e853=_0x357936?_0x26a014(0x8bb):_0x26a014(0x11d),_0x3c3aed=_0x357936?_0x26a014(0x87a):_0x26a014(0x249);_0xe757c7=_0x26a014(0x15e)+_0x27e853+'\x22>'+_0x3c3aed+'</span></div>';}else _0xe757c7='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x2f674b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x26a014(0x57a)+_0xe757c7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x26a014(0x3e2)]=_0x2f674b,studentResultArea[_0x26a014(0x24d)]['remove'](_0x26a014(0x825)),studentQuizArea[_0x26a014(0x24d)][_0x26a014(0x162)](_0x26a014(0x825)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x357936});}function cancelAdminTest(){const _0x285ba6=_0x27804f;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x285ba6(0x6ac)]('fullscreenchange',handleFullscreenChange),document[_0x285ba6(0x6ac)](_0x285ba6(0x448),handleVisibilityChange),currentMode='admin',studentView['classList'][_0x285ba6(0x162)](_0x285ba6(0x825)),adminView[_0x285ba6(0x24d)][_0x285ba6(0x3dd)](_0x285ba6(0x825)),showView(_0x285ba6(0x6f6));}function setupResultScreenBackButton(_0x504d09){const _0x3e6c30=_0x27804f,_0x40705b={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x504d09};if(_0x40705b[_0x3e6c30(0x2ff)]){const _0x381d8e=_0x3e6c30(0x7bc);studentResultArea['insertAdjacentHTML'](_0x3e6c30(0x78f),_0x381d8e),document[_0x3e6c30(0x5a3)]('retake-quiz-loop-btn')[_0x3e6c30(0x2ea)](_0x3e6c30(0x189),()=>{const _0x42dbf5=_0x3e6c30;studentResultArea[_0x42dbf5(0x24d)][_0x42dbf5(0x162)](_0x42dbf5(0x825)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x527163=_0x3e6c30(0x74e),_0x2165af=currentMode===_0x3e6c30(0x456),_0x451ebf=_0x2165af?_0x3e6c30(0x2a3):_0x3e6c30(0x4da);let _0x527b1c='';_0x40705b[_0x3e6c30(0x6ed)]&&(_0x527b1c+=_0x3e6c30(0x250));let _0x501c3d=_0x40705b[_0x3e6c30(0x687)];_0x501c3d===undefined&&(_0x501c3d=_0x40705b[_0x3e6c30(0x49c)]<_0x40705b[_0x3e6c30(0x231)]);_0x501c3d&&(_0x527b1c+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x527b1c+=_0x3e6c30(0x867)+_0x527163+_0x3e6c30(0x53e)+_0x451ebf+_0x3e6c30(0x479);const _0x281d99=_0x3e6c30(0x898)+_0x527b1c+'</div>';studentResultArea[_0x3e6c30(0x1d6)](_0x3e6c30(0x78f),_0x281d99),studentResultArea[_0x3e6c30(0x62c)](_0x3e6c30(0x71b))?.[_0x3e6c30(0x2ea)](_0x3e6c30(0x189),handleShowStudentRankings);const _0x11e86a=studentResultArea[_0x3e6c30(0x62c)]('#retake-for-improvement-btn');_0x11e86a&&_0x11e86a['addEventListener'](_0x3e6c30(0x189),()=>{const _0x344649=_0x3e6c30;studentResultArea[_0x344649(0x24d)][_0x344649(0x162)](_0x344649(0x825)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x527163)[_0x3e6c30(0x2ea)](_0x3e6c30(0x189),()=>{const _0x500bae=_0x3e6c30;_0x2165af?(currentMode=_0x500bae(0x43a),studentView[_0x500bae(0x24d)][_0x500bae(0x162)](_0x500bae(0x825)),adminView[_0x500bae(0x24d)]['remove'](_0x500bae(0x825)),showView(_0x500bae(0x6f6))):(showView(_0x500bae(0x2c2)),document[_0x500bae(0x5a3)](_0x500bae(0x525))[_0x500bae(0x50c)]='');});}function displayResultsWithAnswers(_0xf1be7d,_0x77e4c1,_0x137489,_0x36916b,_0x317027,_0x1621d9=![]){const _0x5eb10e=_0x27804f,_0x3f1ad7=_0x317027>0x0?_0xf1be7d/_0x317027*0x64:0x0,_0x2747aa=currentDisplayedQuiz[_0x5eb10e(0x6a4)]?.[_0x5eb10e(0x1ba)]??-0x1,_0x253fed=currentDisplayedQuiz[_0x5eb10e(0x66a)]===!![];let _0x29eda8='';if(_0x253fed||_0x2747aa!==-0x1){let _0x374645=_0x253fed?_0xf1be7d===_0x317027:_0xf1be7d>=_0x2747aa;const _0x5ca2f4=_0x374645?_0x5eb10e(0x8bb):_0x5eb10e(0x11d),_0x59b13c=_0x374645?'ผ่าน':_0x5eb10e(0x249);_0x29eda8=_0x5eb10e(0x741)+_0x5ca2f4+'\x22>'+_0x59b13c+'</p>';}let _0x4ef9ab='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x5eb10e(0x1da)+_0xf1be7d+_0x5eb10e(0xdd)+_0x317027+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29eda8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x77e4c1+_0x5eb10e(0x9f2)+_0x3f1ad7[_0x5eb10e(0x6ae)](0x0)+_0x5eb10e(0x1f4);currentDisplayedQuiz[_0x5eb10e(0x474)][_0x5eb10e(0x7b1)]((_0x2d0159,_0x4f34ad)=>{const _0x2d3315=_0x5eb10e,_0x389542=_0x36916b[_0x4f34ad],_0x5b8828=_0x389542[_0x2d3315(0x70a)],_0x3be40a=_0x389542['isCorrect'],_0x43b27f=_0x2d0159['questionType']||currentDisplayedQuiz[_0x2d3315(0x907)];_0x4ef9ab+=_0x2d3315(0x3eb)+(_0x3be40a?_0x2d3315(0x2a7):'border-red-300\x20bg-red-50')+_0x2d3315(0x216)+(_0x4f34ad+0x1)+'.\x20'+(_0x2d0159[_0x2d3315(0x956)]||_0x2d0159[_0x2d3315(0x872)])+_0x2d3315(0x55b);switch(_0x43b27f){case _0x2d3315(0x3fd):const _0x4cfe42=_0x5b8828||_0x2d3315(0x34c),_0x85de8=_0x2d0159[_0x2d3315(0x8e5)];_0x4ef9ab+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x3be40a?_0x2d3315(0x6d2):'')+'\x22>'+_0x4cfe42+_0x2d3315(0x1c9);!_0x3be40a&&(_0x4ef9ab+=_0x2d3315(0x703)+_0x85de8+_0x2d3315(0x37d));break;case _0x2d3315(0x511):_0x4ef9ab+=_0x2d3315(0x407)+(_0x5b8828||_0x2d3315(0x34c))+'</p>',_0x4ef9ab+=_0x2d3315(0x556)+_0x2d0159[_0x2d3315(0x8a2)]+_0x2d3315(0x37d);break;case _0x2d3315(0x6d1):_0x4ef9ab+=_0x2d3315(0x74b)+(_0x2d0159[_0x2d3315(0x1e0)]===!![]?_0x2d3315(0x697):'')+'\x20'+(_0x5b8828===_0x2d3315(0x32b)&&!_0x3be40a?_0x2d3315(0x6d2):'')+_0x2d3315(0x2e9),_0x4ef9ab+=_0x2d3315(0x74b)+(_0x2d0159[_0x2d3315(0x1e0)]===![]?_0x2d3315(0x697):'')+'\x20'+(_0x5b8828===_0x2d3315(0x47c)&&!_0x3be40a?'line-through\x20text-red-700':'')+'\x22>ไม่ใช่</p>';break;default:_0x4ef9ab+=_0x2d0159['options']['map']((_0x4d34f4,_0x1c2dde)=>{const _0x37f36d=_0x2d3315;let _0x31f778='',_0x273635='';if(_0x1c2dde===_0x2d0159[_0x37f36d(0x150)])_0x31f778='font-bold\x20text-green-700',_0x273635=_0x37f36d(0x303);else _0x1c2dde===_0x5b8828&&(_0x31f778=_0x37f36d(0x214),_0x273635=_0x37f36d(0x83c));return _0x37f36d(0x934)+_0x31f778+'\x22>'+_0x273635+_0x4d34f4+_0x37f36d(0x8c4);})['join']('');break;}_0x4ef9ab+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x2d0159[_0x2d3315(0x559)]||_0x2d3315(0x438))+_0x2d3315(0x8c4);if(!_0x3be40a){const _0x1c9d97=_0x2d0159[_0x2d3315(0x956)]||_0x2d0159['questionText'];_0x4ef9ab+=_0x2d3315(0xf0)+escape(_0x1c9d97)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x4ef9ab+=_0x2d3315(0x8c4);}),studentResultArea[_0x5eb10e(0x3e2)]=_0x4ef9ab,renderEarnedBadges(_0x137489,'earned-badges-container'),studentResultArea[_0x5eb10e(0x24d)][_0x5eb10e(0x3dd)](_0x5eb10e(0x825)),studentQuizArea['classList'][_0x5eb10e(0x162)](_0x5eb10e(0x825)),setupResultScreenBackButton({'isLooping':_0x1621d9,'score':_0xf1be7d,'totalQuestions':_0x317027,'showRankings':!![]});if(window[_0x5eb10e(0x403)])window[_0x5eb10e(0x403)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x20b411,_0x4e5833,_0x2b5633,_0x15ba12){const _0x5f2fcc=_0x27804f,_0x34f7e9=_0x15ba12>0x0?_0x20b411/_0x15ba12*0x64:0x0,_0x43c473=currentDisplayedQuiz['settings']?.[_0x5f2fcc(0x1ba)]??-0x1,_0x53757e=currentDisplayedQuiz[_0x5f2fcc(0x66a)]===!![];let _0x5e060c='';if(_0x53757e||_0x43c473!==-0x1){let _0x1057bb=_0x53757e?_0x20b411===_0x15ba12:_0x20b411>=_0x43c473;const _0x13cb23=_0x1057bb?_0x5f2fcc(0x8bb):'bg-red-100\x20text-red-800',_0x27e4bb=_0x1057bb?_0x5f2fcc(0x87a):_0x5f2fcc(0x249);_0x5e060c=_0x5f2fcc(0x741)+_0x13cb23+'\x22>'+_0x27e4bb+_0x5f2fcc(0x37d);}let _0x278441='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x5f2fcc(0x678)+_0x20b411+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x15ba12+_0x5f2fcc(0x7e4)+_0x5e060c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x4e5833+_0x5f2fcc(0x68a)+_0x34f7e9[_0x5f2fcc(0x6ae)](0x0)+_0x5f2fcc(0x986);studentResultArea[_0x5f2fcc(0x3e2)]=_0x278441,renderEarnedBadges(_0x2b5633,_0x5f2fcc(0x3aa)),studentResultArea[_0x5f2fcc(0x24d)]['remove']('hidden'),studentQuizArea[_0x5f2fcc(0x24d)][_0x5f2fcc(0x162)]('hidden'),setupResultScreenBackButton({'score':_0x20b411,'totalQuestions':_0x15ba12,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x55dd3a=_0x27804f;let _0xb08ab0=_0x55dd3a(0x381)+currentStudentName+_0x55dd3a(0x50f);studentResultArea[_0x55dd3a(0x3e2)]=_0xb08ab0,studentResultArea[_0x55dd3a(0x24d)][_0x55dd3a(0x3dd)](_0x55dd3a(0x825)),studentQuizArea['classList']['add'](_0x55dd3a(0x825)),document[_0x55dd3a(0x5a3)](_0x55dd3a(0x373))['addEventListener'](_0x55dd3a(0x189),()=>{const _0x11c0f4=_0x55dd3a;showView(_0x11c0f4(0x2c2)),document['getElementById'](_0x11c0f4(0x525))[_0x11c0f4(0x50c)]='';});}function renderEarnedBadges(_0x45db9c,_0x70b3bc){const _0x53414d=_0x27804f,_0x58c1fc=document[_0x53414d(0x5a3)](_0x70b3bc);if(!_0x58c1fc||!_0x45db9c||_0x45db9c[_0x53414d(0x2c9)]===0x0)return;let _0x1d750f='';_0x45db9c[_0x53414d(0x7b1)]((_0x34c409,_0x577a82)=>{const _0x2c8aa9=_0x53414d,_0x43362b=Object[_0x2c8aa9(0x8f5)](BADGES)[_0x2c8aa9(0x894)](_0x3358c9=>_0x3358c9['id']===_0x34c409);_0x43362b&&(_0x1d750f+=_0x2c8aa9(0x841)+_0x577a82*0.2+_0x2c8aa9(0xf5)+_0x43362b[_0x2c8aa9(0x467)]+_0x2c8aa9(0x5e0)+_0x43362b[_0x2c8aa9(0x555)]+_0x2c8aa9(0x342)+_0x43362b['name']+_0x2c8aa9(0x499));}),_0x58c1fc[_0x53414d(0x3e2)]=_0x1d750f;}function startPresentation(_0x12f2df){const _0x9e902e=_0x27804f;currentQuizData=getShuffledQuiz(_0x12f2df),currentPresentationSlide=0x0,presentationModal['style'][_0x9e902e(0x3ea)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x24d106=_0x27804f;document['fullscreenElement']&&document['exitFullscreen'](),presentationModal[_0x24d106(0x39c)][_0x24d106(0x3ea)]='none';}function renderPresentationSlide(_0x209639){const _0x348006=_0x27804f,_0xad5152=document['getElementById']('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x348006(0x474)]||!currentQuizData['questions'][_0x209639]){_0xad5152['innerHTML']=_0x348006(0x980);return;}const _0x33f749=currentQuizData[_0x348006(0x474)][_0x209639],_0x206ec0=_0x33f749[_0x348006(0x891)]||currentQuizData[_0x348006(0x907)];_0xad5152[_0x348006(0x3e2)]='';let _0x1a7966=_0x348006(0x5bf)+(_0x33f749[_0x348006(0xd9)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x33f749['imageCode']+'</div>':'')+_0x348006(0x86d)+(_0x209639+0x1)+'.\x20'+(_0x33f749[_0x348006(0x956)]||_0x33f749[_0x348006(0x872)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x206ec0){case'matching_item':_0x1a7966+=_0x33f749[_0x348006(0x2fa)]['map'](_0x1a2abd=>_0x348006(0x916)+_0x1a2abd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x348006(0x1cb)]('');break;case _0x348006(0x6d1):_0x1a7966+=_0x348006(0x21e),_0x1a7966+=_0x348006(0x9b3);break;case _0x348006(0x4e2):case _0x348006(0x511):_0x1a7966+=_0x348006(0x975);break;case _0x348006(0x8af):case _0x348006(0x1c6):default:_0x1a7966+=_0x33f749['options'][_0x348006(0x6d7)]((_0xe8d337,_0x2008ab)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x2008ab+_0x348006(0x8ec)+_0xe8d337+_0x348006(0x2d0))['join']('');break;}_0x1a7966+=_0x348006(0x1c1)+(_0x33f749[_0x348006(0x559)]||_0x348006(0x438))+_0x348006(0x4f9),_0xad5152[_0x348006(0x3e2)]=_0x1a7966;if(window[_0x348006(0x403)])window[_0x348006(0x403)]['typesetPromise']([_0xad5152]);let _0x4e7e6a=[];switch(_0x206ec0){case _0x348006(0x3fd):_0x4e7e6a=_0x33f749[_0x348006(0x2fa)]||[];break;case'true_false':_0x4e7e6a=[_0x348006(0x87b),_0x348006(0x66f)];break;default:_0x4e7e6a=_0x33f749[_0x348006(0x86b)]||[];break;}const _0x557be9=document['getElementById']('presentation-scratchpad-btn');_0x557be9&&(_0x557be9[_0x348006(0x2e6)]=()=>{openScratchpad(_0x33f749,_0x4e7e6a);});document[_0x348006(0x7c7)](_0x348006(0x5cf))['forEach'](_0x16b842=>{const _0x3cbc95=_0x348006;_0x16b842[_0x3cbc95(0x2ea)](_0x3cbc95(0x189),_0x48b292=>revealAnswerForPresentation(_0x209639,_0x48b292[_0x3cbc95(0x1e2)]));});const _0x4bec3b=document[_0x348006(0x5a3)]('check-presentation-answer-btn');_0x4bec3b&&_0x4bec3b[_0x348006(0x2ea)](_0x348006(0x189),()=>checkShortAnswerForPresentation(_0x209639)),document[_0x348006(0x5a3)](_0x348006(0x1a3))[_0x348006(0x84f)]='ข้อที่\x20'+(_0x209639+0x1)+_0x348006(0x4c2)+currentQuizData[_0x348006(0x474)][_0x348006(0x2c9)],document[_0x348006(0x5a3)]('prev-question-btn')[_0x348006(0x190)]=_0x209639===0x0,document[_0x348006(0x5a3)](_0x348006(0x722))[_0x348006(0x190)]=_0x209639===currentQuizData[_0x348006(0x474)][_0x348006(0x2c9)]-0x1;}async function checkShortAnswerForPresentation(_0x2b8487){const _0x4ebe75=_0x27804f,_0x51ff1f=currentQuizData[_0x4ebe75(0x474)][_0x2b8487],_0xfb31af=document['getElementById'](_0x4ebe75(0x827)),_0x4f78a5=document[_0x4ebe75(0x5a3)]('check-presentation-answer-btn'),_0x3ee419=document[_0x4ebe75(0x5a3)](_0x4ebe75(0x423)),_0x4521e5=document[_0x4ebe75(0x5a3)](_0x4ebe75(0x9e9));if(!_0xfb31af||!_0x4f78a5||!_0x3ee419||!_0x4521e5)return;const _0x326c50=_0xfb31af[_0x4ebe75(0x50c)][_0x4ebe75(0x79e)]();if(_0x326c50==='')return;_0x4f78a5[_0x4ebe75(0x190)]=!![],_0x4f78a5[_0x4ebe75(0x3e2)]=_0x4ebe75(0x52f),_0xfb31af[_0x4ebe75(0x190)]=!![];const _0x2aada3=await gradeShortAnswer(_0x326c50,_0x51ff1f);_0x2aada3?_0x3ee419[_0x4ebe75(0x3e2)]=_0x4ebe75(0x8ce):_0x3ee419[_0x4ebe75(0x3e2)]=_0x4ebe75(0x44f)+_0x51ff1f[_0x4ebe75(0x8a2)]+')',_0x3ee419[_0x4ebe75(0x24d)][_0x4ebe75(0x3dd)](_0x4ebe75(0x825)),_0x4521e5[_0x4ebe75(0x24d)][_0x4ebe75(0x3dd)](_0x4ebe75(0x825)),_0x4f78a5[_0x4ebe75(0x24d)][_0x4ebe75(0x162)](_0x4ebe75(0x825));}function revealAnswerForPresentation(_0x350b2b,_0xbe7ee4){const _0x185675=_0x27804f,_0x18970c=currentQuizData[_0x185675(0x474)][_0x350b2b],_0x2ab321=_0x18970c[_0x185675(0x891)]||currentQuizData[_0x185675(0x907)];document['querySelectorAll'](_0x185675(0x5cf))[_0x185675(0x7b1)](_0x1a570e=>{const _0x1f4864=_0x185675;_0x1a570e[_0x1f4864(0x190)]=!![],_0x1a570e[_0x1f4864(0x24d)]['remove'](_0x1f4864(0x1f6));let _0x264c28=![];if(_0x2ab321===_0x1f4864(0x1c6)||_0x2ab321===_0x1f4864(0x8af)){const _0x5be795=parseInt(_0x1a570e[_0x1f4864(0x4b7)][_0x1f4864(0x6c9)]);_0x264c28=_0x5be795===_0x18970c[_0x1f4864(0x150)];}else{if(_0x2ab321==='true_false'){const _0xa17760=_0x1a570e[_0x1f4864(0x4b7)][_0x1f4864(0x70a)]===_0x1f4864(0x32b);_0x264c28=_0xa17760===_0x18970c[_0x1f4864(0x1e0)];}else _0x2ab321==='matching_item'&&(_0x264c28=_0x1a570e[_0x1f4864(0x84f)][_0x1f4864(0x79e)]()===_0x18970c[_0x1f4864(0x8e5)]);}_0x264c28?_0x1a570e[_0x1f4864(0x24d)]['add'](_0x1f4864(0x6a1),'text-white','border-green-700'):_0x1a570e[_0x1f4864(0x24d)][_0x1f4864(0x162)]('opacity-50');}),_0xbe7ee4[_0x185675(0x24d)][_0x185675(0x3dd)](_0x185675(0x765));let _0x215c4e=![];if(_0x2ab321===_0x185675(0x1c6))_0x215c4e=parseInt(_0xbe7ee4[_0x185675(0x4b7)][_0x185675(0x6c9)])===_0x18970c[_0x185675(0x150)];else{if(_0x2ab321===_0x185675(0x6d1))_0x215c4e=_0xbe7ee4[_0x185675(0x4b7)][_0x185675(0x70a)]===_0x185675(0x32b)===_0x18970c[_0x185675(0x1e0)];else _0x2ab321===_0x185675(0x3fd)&&(_0x215c4e=_0xbe7ee4['textContent'][_0x185675(0x79e)]()===_0x18970c[_0x185675(0x8e5)]);}!_0x215c4e&&_0xbe7ee4['classList'][_0x185675(0x162)]('bg-red-500',_0x185675(0x3e7),'border-red-700'),document[_0x185675(0x5a3)](_0x185675(0x9e9))['classList'][_0x185675(0x3dd)]('hidden');}function startWholeQuizTimer(_0x124660){const _0x113998=_0x27804f,_0x243314=document[_0x113998(0x5a3)]('timer-container');if(!_0x243314)return;const _0x42e9ef=Date[_0x113998(0x4b2)]()+_0x124660*0x3c*0x3e8;_0x243314[_0x113998(0x3e2)]=_0x113998(0x6c5);const _0x517ac8=document[_0x113998(0x5a3)](_0x113998(0x33e));quizTimerInterval=setInterval(()=>{const _0x530696=_0x113998,_0x3a88f5=_0x42e9ef-Date['now']();if(_0x3a88f5<=0x0)clearInterval(quizTimerInterval),_0x517ac8[_0x530696(0x84f)]=_0x530696(0x8ab),showMessage(_0x530696(0x34f)),handleSubmitQuiz(null);else{const _0x5c1057=Math[_0x530696(0x5f1)](_0x3a88f5/0x3e8/0x3c%0x3c)[_0x530696(0x791)]()[_0x530696(0x988)](0x2,'0'),_0x34bd19=Math['floor'](_0x3a88f5/0x3e8%0x3c)[_0x530696(0x791)]()[_0x530696(0x988)](0x2,'0');_0x517ac8[_0x530696(0x84f)]=_0x5c1057+':'+_0x34bd19;}},0x3e8);}function renderPerQuestionView(){const _0x58be5d=_0x27804f;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x125fee=currentDisplayedQuiz[_0x58be5d(0x474)][currentQuestionIndex],_0xd40b9d=_0x125fee[_0x58be5d(0x891)]||currentDisplayedQuiz[_0x58be5d(0x907)],_0x3dfe6e=currentDisplayedQuiz['settings']?.[_0x58be5d(0x8cd)]===!![];let _0x4e40a2=_0x58be5d(0x7ae)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x58be5d(0x474)][_0x58be5d(0x2c9)]+_0x58be5d(0x681)+(currentMode===_0x58be5d(0x456)?_0x58be5d(0x4a6):'')+_0x58be5d(0x65e)+currentDisplayedQuiz[_0x58be5d(0x2a9)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x58be5d(0x3e2)]=_0x4e40a2;let _0x4161be=_0x125fee[_0x58be5d(0x956)]||_0x125fee['questionText'];_0x125fee[_0x58be5d(0xd9)]&&(_0x4161be+=_0x58be5d(0x6ec)+_0x125fee['imageCode']+'</div>');let _0x2365bb='';switch(_0xd40b9d){case _0x58be5d(0x511):case _0x58be5d(0x4e2):_0x2365bb=_0x58be5d(0x294);break;case _0x58be5d(0x6d1):_0x2365bb=_0x58be5d(0x3e8);break;case'matching_item':_0x2365bb=_0x58be5d(0x8d5)+(_0x125fee[_0x58be5d(0x2fa)]||[])[_0x58be5d(0x6d7)](_0x490b93=>'<option\x20value=\x22'+_0x490b93+'\x22>'+_0x490b93+'</option>')['join']('')+_0x58be5d(0x10c);break;default:_0x125fee[_0x58be5d(0x86b)]&&(_0x2365bb=_0x125fee[_0x58be5d(0x86b)][_0x58be5d(0x6d7)]((_0x50a125,_0x12d321)=>_0x58be5d(0x396)+_0x12d321+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x12d321+_0x58be5d(0x344)+_0x12d321+'\x22>'+_0x50a125+_0x58be5d(0x305))[_0x58be5d(0x1cb)](''));break;}document['getElementById']('per-question-text')[_0x58be5d(0x3e2)]=_0x4161be,document[_0x58be5d(0x5a3)](_0x58be5d(0x5be))['innerHTML']=_0x2365bb;const _0x49f86d=currentDisplayedQuiz['settings']?.[_0x58be5d(0x8cd)]===!![],_0x3d837b=currentDisplayedQuiz[_0x58be5d(0x6a4)]?.[_0x58be5d(0x7dd)]||_0x58be5d(0x3ad);if(_0x49f86d&&_0x3d837b===_0x58be5d(0x3ad)){const _0x58b70b=_0x58be5d(0x127);studentQuizArea[_0x58be5d(0x62c)]('.mb-6.p-4')[_0x58be5d(0x1d6)]('beforeend',_0x58b70b);}studentQuizArea[_0x58be5d(0x1d6)](_0x58be5d(0x78f),_0x58be5d(0x80e)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x58be5d(0x2c9)]-0x1?'ส่งคำตอบ':_0x58be5d(0xd3))+_0x58be5d(0x196));currentMode===_0x58be5d(0x456)&&document[_0x58be5d(0x5a3)](_0x58be5d(0x35f))?.['addEventListener']('click',cancelAdminTest);document[_0x58be5d(0x5a3)](_0x58be5d(0x597))[_0x58be5d(0x2ea)](_0x58be5d(0x189),()=>handleNextQuestionInTimedMode(![]));if(window[_0x58be5d(0x403)])window[_0x58be5d(0x403)][_0x58be5d(0x276)]([studentQuizArea]);currentDisplayedQuiz['settings']?.['timerMode']===_0x58be5d(0x95f)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0xdb842d=_0x27804f,_0x437f83=currentDisplayedQuiz[_0xdb842d(0x6a4)][_0xdb842d(0x8f3)],_0x41dd9c=document[_0xdb842d(0x5a3)](_0xdb842d(0x644));if(!_0x41dd9c)return;let _0x5a0dd9=_0x437f83;_0x41dd9c[_0xdb842d(0x3e2)]=_0xdb842d(0x93f)+_0x5a0dd9+_0xdb842d(0x49d);const _0x455344=document[_0xdb842d(0x5a3)]('timer-bar'),_0x1e348b=document[_0xdb842d(0x5a3)](_0xdb842d(0x277));perQuestionTimerInterval=setInterval(()=>{_0x5a0dd9--;const _0xa8947d=_0x5a0dd9/_0x437f83*0x64;_0x455344['style']['width']=_0xa8947d+'%',_0x1e348b['textContent']=_0x5a0dd9,_0x5a0dd9<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x1a3124=![]){const _0x415b47=_0x27804f;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x2a442c=null,_0x46919c=![];if(!_0x1a3124){const _0x313571=currentDisplayedQuiz[_0x415b47(0x474)][currentQuestionIndex],_0x54eaec=_0x313571[_0x415b47(0x891)]||currentDisplayedQuiz[_0x415b47(0x907)];if(_0x54eaec===_0x415b47(0x511)||_0x54eaec===_0x415b47(0x4e2))_0x2a442c=document[_0x415b47(0x62c)]('textarea[name=\x22question_single\x22]')?.[_0x415b47(0x50c)][_0x415b47(0x79e)]()??'';else{if(_0x54eaec===_0x415b47(0x3fd))_0x2a442c=document[_0x415b47(0x62c)](_0x415b47(0x3fe))?.[_0x415b47(0x50c)]??'';else{const _0x4b3256=document[_0x415b47(0x62c)]('input[name=\x22question_single\x22]:checked');_0x4b3256&&(_0x2a442c=_0x4b3256['value']);}}if(_0x2a442c===null||_0x2a442c===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x495077=currentDisplayedQuiz['settings']?.[_0x415b47(0x8cd)]===!![],_0x194fb8=currentDisplayedQuiz[_0x415b47(0x6a4)]?.[_0x415b47(0x7dd)]||_0x415b47(0x3ad);if(_0x495077&&_0x194fb8===_0x415b47(0xe4)){document[_0x415b47(0x5a3)](_0x415b47(0x7e7))[_0x415b47(0x4b7)][_0x415b47(0x4f7)]=_0x415b47(0x639),document[_0x415b47(0x5a3)]('selected-answer-index-hidden')[_0x415b47(0x50c)]=_0x2a442c,document['getElementById'](_0x415b47(0x7e7))[_0x415b47(0x24d)]['remove'](_0x415b47(0x825));return;}const _0x52131c=document[_0x415b47(0x5a3)](_0x415b47(0x487));_0x52131c&&(_0x46919c=_0x52131c['checked']);}const _0x283609={'answer':_0x2a442c,'wasConfident':_0x46919c};proceedToNextQuestion(_0x283609);}async function finalizePerQuestionQuiz(){const _0x31ecf3=_0x27804f,_0x537f49=currentDisplayedQuiz[_0x31ecf3(0x474)][_0x31ecf3(0x1de)](_0x5c0331=>_0x5c0331[_0x31ecf3(0x891)]==='short_answer');_0x537f49?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x31ecf3(0x5eb));const _0x35eaf9=currentQuizData['id'],_0x18df8a=doc(db,_0x31ecf3(0x71a)+appId+_0x31ecf3(0x9b2)+_0x35eaf9+'/submissions',currentStudentName),_0x20c4d3=await getDoc(_0x18df8a),_0x36a67c=_0x20c4d3['exists']()?_0x20c4d3[_0x31ecf3(0x724)]():{},_0x5275dc=_0x36a67c[_0x31ecf3(0x992)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x5275dc);}function getResultsFilename(){const _0x338eb8=_0x27804f,_0x374710=document[_0x338eb8(0x5a3)]('results-quiz-title')[_0x338eb8(0x84f)][_0x338eb8(0x27f)](/[^a-z0-9]/gi,'_')[_0x338eb8(0x2b7)]();return'results_'+(_0x374710||_0x338eb8(0x85e));}function exportResultsAsImage(){const _0xf11bdf=_0x27804f,_0x1d8ab4=document[_0xf11bdf(0x5a3)]('results-table-container');showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x1d8ab4)['then'](_0x20ee84=>{const _0x49fc15=_0xf11bdf,_0x529c80=document[_0x49fc15(0x291)]('a');_0x529c80[_0x49fc15(0x87c)]=getResultsFilename()+'.png',_0x529c80[_0x49fc15(0x26e)]=_0x20ee84['toDataURL'](_0x49fc15(0x2c6)),_0x529c80['click'](),messageModal[_0x49fc15(0x24d)][_0x49fc15(0x162)](_0x49fc15(0x825));});}function exportResultsAsPDF(){const _0x21d568=_0x27804f,{jsPDF:_0x58422}=window[_0x21d568(0x6bf)],_0x4094ea=new _0x58422();_0x4094ea[_0x21d568(0xa07)](_0x21d568(0x93c),_0x21d568(0xfe)),_0x4094ea[_0x21d568(0x15a)]({'html':_0x21d568(0x295)}),_0x4094ea[_0x21d568(0x902)](getResultsFilename()+_0x21d568(0x91d));}function exportResultsAsWord(){const _0x71956d=_0x27804f,_0x41633b=_0x71956d(0x96a)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x71956d(0x551),_0x30f1ba=_0x71956d(0x4fa),_0x34d54f=_0x41633b+document[_0x71956d(0x5a3)](_0x71956d(0x6a5))[_0x71956d(0x3e2)]+_0x30f1ba,_0x4e3eb1=_0x71956d(0x56f)+encodeURIComponent(_0x34d54f),_0x45a7f6=document[_0x71956d(0x291)]('a');document[_0x71956d(0x843)]['appendChild'](_0x45a7f6),_0x45a7f6['href']=_0x4e3eb1,_0x45a7f6[_0x71956d(0x87c)]=getResultsFilename()+'.doc',_0x45a7f6['click'](),document[_0x71956d(0x843)][_0x71956d(0x83d)](_0x45a7f6);}function exportResultsAsExcel(){const _0x53b34a=_0x27804f,_0x2e09af=document['getElementById']('results-table');let _0x3d01a3=[];for(let _0xe26329=0x0;_0xe26329<_0x2e09af[_0x53b34a(0x5f4)]['length'];_0xe26329++){let _0x31c05e=[],_0x578f52=_0x2e09af[_0x53b34a(0x5f4)][_0xe26329][_0x53b34a(0x7c7)](_0x53b34a(0x3e3));for(let _0x54e65f=0x0;_0x54e65f<_0x578f52[_0x53b34a(0x2c9)];_0x54e65f++){_0x31c05e[_0x53b34a(0x523)]('\x22'+_0x578f52[_0x54e65f][_0x53b34a(0x3b2)][_0x53b34a(0x27f)](/"/g,'\x22\x22')+'\x22');}_0x3d01a3[_0x53b34a(0x523)](_0x31c05e[_0x53b34a(0x1cb)](','));}const _0x3168d9=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x3d01a3[_0x53b34a(0x1cb)]('\x0a')],{'type':_0x53b34a(0x1b9)}),_0x4c5371=document[_0x53b34a(0x291)]('a');_0x4c5371[_0x53b34a(0x26e)]=URL['createObjectURL'](_0x3168d9),_0x4c5371[_0x53b34a(0x87c)]=getResultsFilename()+'.csv',_0x4c5371[_0x53b34a(0x189)]();}function exportTableAsImage(_0x54d88d,_0x27b491){const _0x519181=_0x27804f,_0x52d08d=document[_0x519181(0x5a3)](_0x54d88d);if(!_0x52d08d){showMessage(_0x519181(0x910));return;}showMessage(_0x519181(0xed)),html2canvas(_0x52d08d)[_0x519181(0x5e5)](_0x539f2b=>{const _0x4f3fcb=_0x519181,_0x181a98=document[_0x4f3fcb(0x291)]('a');_0x181a98[_0x4f3fcb(0x87c)]=_0x27b491+_0x4f3fcb(0x777),_0x181a98[_0x4f3fcb(0x26e)]=_0x539f2b['toDataURL'](_0x4f3fcb(0x2c6)),_0x181a98['click'](),messageModal[_0x4f3fcb(0x24d)][_0x4f3fcb(0x162)](_0x4f3fcb(0x825));});}function exportTableAsPDF(_0x540290,_0x417cb6){const _0x225ec7=_0x27804f,{jsPDF:_0x13ca11}=window[_0x225ec7(0x6bf)],_0x8bca61=new _0x13ca11();_0x8bca61['setFont']('helvetica',_0x225ec7(0xfe)),_0x8bca61[_0x225ec7(0x15a)]({'html':'#'+_0x540290}),_0x8bca61[_0x225ec7(0x902)](_0x417cb6+_0x225ec7(0x91d));}function exportTableAsWord(_0x1ec660,_0x25b3a5){const _0x1e765f=_0x27804f,_0x12e908=document[_0x1e765f(0x5a3)](_0x1ec660);if(!_0x12e908){showMessage(_0x1e765f(0x910));return;}const _0x37fedd=_0x1e765f(0x96a)+_0x1e765f(0x284)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x1e765f(0x551),_0x46556d=_0x1e765f(0x4fa),_0x47957c=_0x37fedd+_0x12e908[_0x1e765f(0x3e2)]+_0x46556d,_0x2e0586=_0x1e765f(0x56f)+encodeURIComponent(_0x47957c),_0x559128=document[_0x1e765f(0x291)]('a');document['body']['appendChild'](_0x559128),_0x559128[_0x1e765f(0x26e)]=_0x2e0586,_0x559128[_0x1e765f(0x87c)]=_0x25b3a5+'.doc',_0x559128[_0x1e765f(0x189)](),document['body'][_0x1e765f(0x83d)](_0x559128);}function exportTableAsExcel(_0x58f6a2,_0x370757){const _0x52bbcc=_0x27804f,_0x9cbcb4=document[_0x52bbcc(0x5a3)](_0x58f6a2);if(!_0x9cbcb4){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0xa39f6=[];for(let _0x4e71b=0x0;_0x4e71b<_0x9cbcb4[_0x52bbcc(0x5f4)][_0x52bbcc(0x2c9)];_0x4e71b++){let _0x430993=[],_0x293c08=_0x9cbcb4[_0x52bbcc(0x5f4)][_0x4e71b][_0x52bbcc(0x7c7)](_0x52bbcc(0x3e3));for(let _0xc8b751=0x0;_0xc8b751<_0x293c08['length'];_0xc8b751++){_0x430993[_0x52bbcc(0x523)]('\x22'+_0x293c08[_0xc8b751][_0x52bbcc(0x3b2)][_0x52bbcc(0x27f)](/"/g,'\x22\x22')+'\x22');}_0xa39f6['push'](_0x430993[_0x52bbcc(0x1cb)](','));}const _0x52cab3=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0xa39f6[_0x52bbcc(0x1cb)]('\x0a')],{'type':_0x52bbcc(0x1b9)}),_0x450cf4=document[_0x52bbcc(0x291)]('a');_0x450cf4[_0x52bbcc(0x26e)]=URL[_0x52bbcc(0x8d1)](_0x52cab3),_0x450cf4[_0x52bbcc(0x87c)]=_0x370757+_0x52bbcc(0x776),_0x450cf4[_0x52bbcc(0x189)]();}function renderAnalytics(_0x1a4d89,_0x27328b){const _0x1295dd=_0x27804f,_0x52b002=_0x27328b[_0x1295dd(0x3bf)](_0x38d662=>_0x38d662[_0x1295dd(0x36c)]!==undefined),_0x5d1e9e=currentProjectData[_0x1295dd(0x137)]['length'],_0x4a0585=_0x52b002['length'],_0x2a0bc1=_0x5d1e9e-_0x4a0585,_0x17eb5a=_0x5d1e9e>0x0?_0x4a0585/_0x5d1e9e*0x64:0x0,_0x3ee0dc=_0x52b002[_0x1295dd(0x6d7)](_0x5310bd=>_0x5310bd[_0x1295dd(0x36c)]),_0x52c3a0=_0x3ee0dc[_0x1295dd(0x2c9)]>0x0?_0x3ee0dc['reduce']((_0x5995eb,_0x3b3233)=>_0x5995eb+_0x3b3233,0x0)/_0x3ee0dc['length']:0x0,_0x4ee7a6=_0x1a4d89[_0x1295dd(0x474)]['length'],_0x47a2cd=_0x4ee7a6>0x0?_0x52c3a0/_0x4ee7a6*0x64:0x0,_0x3981dc=calculateItemAnalysis(_0x1a4d89,_0x52b002),_0x5f528a=calculateReliabilityKR20(_0x1a4d89,_0x52b002,_0x3981dc['perQuestionStats']);let _0x374f6c='';if(_0x5f528a!==null){let _0x200f40='';if(_0x5f528a>=0.9)_0x200f40=_0x1295dd(0x32a);else{if(_0x5f528a>=0.8)_0x200f40=_0x1295dd(0x9af);else{if(_0x5f528a>=0.7)_0x200f40='ดี';else{if(_0x5f528a>=0.6)_0x200f40=_0x1295dd(0x28e);else _0x200f40=_0x1295dd(0x6f7);}}}_0x374f6c=_0x1295dd(0x626)+_0x5f528a['toFixed'](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x200f40+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x3fd23a=document[_0x1295dd(0x5a3)](_0x1295dd(0x49a));_0x3fd23a['innerHTML']=_0x1295dd(0x3ce)+_0x17eb5a[_0x1295dd(0x6ae)](0x0)+_0x1295dd(0x795)+_0x4a0585+'/'+_0x5d1e9e+_0x1295dd(0x245)+_0x52c3a0['toFixed'](0x2)+_0x1295dd(0x36f)+_0x47a2cd[_0x1295dd(0x6ae)](0x0)+_0x1295dd(0x596)+(_0x3ee0dc[_0x1295dd(0x2c9)]>0x0?Math[_0x1295dd(0xb5)](..._0x3ee0dc):_0x1295dd(0x70e))+_0x1295dd(0x17e)+(_0x3ee0dc[_0x1295dd(0x2c9)]>0x0?Math['min'](..._0x3ee0dc):_0x1295dd(0x70e))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x374f6c+'\x0a\x20\x20\x20\x20';const _0x1a6e59=document['getElementById'](_0x1295dd(0x3cd));_0x1a6e59&&_0x1a6e59[_0x1295dd(0x3dd)]();const _0x4157fb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x3fd23a[_0x1295dd(0x1d6)]('afterend',_0x4157fb);const _0x9e13f6=currentProjectData[_0x1295dd(0x137)]||[];renderSubmissionChart(_0x4a0585,_0x2a0bc1,_0x52b002,_0x9e13f6),renderScoreDistributionChart(_0x52b002,_0x4ee7a6),renderQuestionAnalytics(_0x1a4d89,_0x52b002,_0x9e13f6),renderInterestingStats(_0x1a4d89,_0x52b002);}async function handleExportLessonPDF(){const _0x5ba15a=_0x27804f,_0x3f75ee=document[_0x5ba15a(0x5a3)](_0x5ba15a(0x1ff)),_0x350b74=document[_0x5ba15a(0x5a3)](_0x5ba15a(0x4e4))[_0x5ba15a(0x84f)],_0x1c5f00=window[_0x5ba15a(0x48b)]('',_0x5ba15a(0x712)),_0x55cad0=_0x5ba15a(0x48e)+_0x350b74+_0x5ba15a(0x918)+_0x3f75ee[_0x5ba15a(0x3e2)]+_0x5ba15a(0x77d);_0x1c5f00[_0x5ba15a(0x5fb)][_0x5ba15a(0x4df)](_0x55cad0),_0x1c5f00[_0x5ba15a(0x5fb)][_0x5ba15a(0x6c8)](),_0x1c5f00['onload']=function(){setTimeout(()=>{const _0x5ba900=_0x2015;_0x1c5f00[_0x5ba900(0x852)]();},0x5dc);};}function renderInterestingStats(_0x14b9f1,_0x22ad31){const _0x51aa2b=_0x27804f,_0x3b377b=document['getElementById']('interesting-stats-container');if(!_0x3b377b)return;if(_0x22ad31['length']===0x0){_0x3b377b[_0x51aa2b(0x3e2)]=_0x51aa2b(0x721);return;}const _0x1eb8aa=_0x14b9f1[_0x51aa2b(0x474)][_0x51aa2b(0x6d7)]((_0x3597e4,_0x5696b8)=>({'index':_0x5696b8+0x1,'text':_0x3597e4['questionText']||_0x3597e4[_0x51aa2b(0x956)],'correct':0x0}));_0x22ad31[_0x51aa2b(0x7b1)](_0x164043=>{const _0x219fd1=_0x51aa2b,_0x46d191=_0x164043['attempts'][_0x164043['attempts'][_0x219fd1(0x2c9)]-0x1];_0x46d191&&_0x46d191['answers']&&_0x46d191[_0x219fd1(0xc4)]['forEach'](_0x10ea19=>{const _0x54c6ff=_0x219fd1,_0x1f9333=_0x1eb8aa[_0x54c6ff(0x894)](_0x38b19f=>_0x38b19f[_0x54c6ff(0x45f)]===_0x10ea19[_0x54c6ff(0x985)]);_0x10ea19[_0x54c6ff(0x91a)]&&_0x1f9333&&_0x1f9333[_0x54c6ff(0x984)]++;});});const _0x4e96ff=_0x22ad31[_0x51aa2b(0x2c9)],_0x3d64b8=Math[_0x51aa2b(0xb5)](..._0x1eb8aa['map'](_0x182084=>_0x182084[_0x51aa2b(0x984)])),_0x337776=Math[_0x51aa2b(0x316)](..._0x1eb8aa[_0x51aa2b(0x6d7)](_0x32ab21=>_0x32ab21[_0x51aa2b(0x984)])),_0x202f1b=_0x1eb8aa['filter'](_0x3b8080=>_0x3b8080[_0x51aa2b(0x984)]===_0x3d64b8)[_0x51aa2b(0x6d7)](_0x158066=>_0x51aa2b(0x901)+_0x158066[_0x51aa2b(0x6c9)]),_0x4552a9=_0x1eb8aa[_0x51aa2b(0x3bf)](_0x49cb42=>_0x49cb42[_0x51aa2b(0x984)]===_0x337776)[_0x51aa2b(0x6d7)](_0x32966d=>_0x51aa2b(0x901)+_0x32966d[_0x51aa2b(0x6c9)]),_0x310ffa=_0x22ad31[_0x51aa2b(0x1e4)]((_0x5be255,_0x460bc5)=>_0x460bc5[_0x51aa2b(0x36c)]-_0x5be255[_0x51aa2b(0x36c)])[_0x51aa2b(0x3bf)]((_0x23957d,_0x1a9478,_0x564016)=>_0x23957d[_0x51aa2b(0x36c)]===_0x564016[0x0][_0x51aa2b(0x36c)]),_0xc54aaa=_0x22ad31['sort']((_0x414465,_0x5a7c3f)=>_0x414465[_0x51aa2b(0x36c)]-_0x5a7c3f[_0x51aa2b(0x36c)])[_0x51aa2b(0x3bf)]((_0x4da021,_0x5d1a28,_0x14d178)=>_0x4da021[_0x51aa2b(0x36c)]===_0x14d178[0x0][_0x51aa2b(0x36c)]),_0x863605=_0x51aa2b(0x89c)+_0x202f1b['join'](',\x20')+_0x51aa2b(0x290)+_0x3d64b8+_0x51aa2b(0x4c2)+_0x4e96ff+_0x51aa2b(0x567)+_0x4552a9[_0x51aa2b(0x1cb)](',\x20')+_0x51aa2b(0x290)+(_0x4e96ff-_0x337776)+_0x51aa2b(0x4c2)+_0x4e96ff+_0x51aa2b(0x5ad)+_0x310ffa[_0x51aa2b(0x6d7)](_0x725fc5=>_0x725fc5[_0x51aa2b(0x640)])[_0x51aa2b(0x1cb)](',\x20')+_0x51aa2b(0x69a)+_0x310ffa[0x0][_0x51aa2b(0x36c)]+_0x51aa2b(0x9b5)+_0xc54aaa['map'](_0x31f17f=>_0x31f17f[_0x51aa2b(0x640)])[_0x51aa2b(0x1cb)](',\x20')+_0x51aa2b(0x69a)+_0xc54aaa[0x0][_0x51aa2b(0x36c)]+_0x51aa2b(0xec);_0x3b377b[_0x51aa2b(0x3e2)]=_0x863605;}function renderSubmissionChart(_0x57d382,_0x3fab45,_0x5c07b6,_0xa377ef){const _0x1915c5=_0x27804f,_0x3da98b=document[_0x1915c5(0x5a3)](_0x1915c5(0x943))[_0x1915c5(0x3e9)]('2d'),_0x819264=_0x5c07b6[_0x1915c5(0x6d7)](_0x5a38b2=>_0x5a38b2[_0x1915c5(0x640)]),_0x4bedd6=_0xa377ef[_0x1915c5(0x3bf)](_0x1db701=>!_0x819264[_0x1915c5(0x885)](_0x1db701));chartInstances[_0x1915c5(0x69d)]&&chartInstances[_0x1915c5(0x69d)][_0x1915c5(0x6c6)](),chartInstances['submission']=new Chart(_0x3da98b,{'type':'doughnut','data':{'labels':[_0x1915c5(0x20b),_0x1915c5(0x961)],'datasets':[{'data':[_0x57d382,_0x3fab45],'backgroundColor':[_0x1915c5(0x53b),_0x1915c5(0x9ac)],'borderColor':[_0x1915c5(0x436),_0x1915c5(0x436)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x1915c5(0x83f)},'tooltip':{'callbacks':{'label':function(_0xd1aa20){const _0x47732e=_0x1915c5;let _0x358a6a=_0xd1aa20[_0x47732e(0x8b1)]||'';return _0x358a6a&&(_0x358a6a+=':\x20'),_0x358a6a+=_0xd1aa20[_0x47732e(0x3bd)],_0x358a6a;},'afterLabel':function(_0xbb0973){const _0x104235=_0x1915c5;let _0x43f210;return _0xbb0973[_0x104235(0x3ec)]===0x0?_0x43f210=_0x819264:_0x43f210=_0x4bedd6,_0x43f210[_0x104235(0x2c9)]>0x0?_0x43f210[_0x104235(0x1cb)]('\x0a'):_0x104235(0x57e);}}}}}});}function renderScoreDistributionChart(_0x5ed395,_0x53311c){const _0x505d01=_0x27804f,_0x10e4ab=document['getElementById'](_0x505d01(0x68d))[_0x505d01(0x3e9)]('2d'),_0x3f74d4={};for(let _0xb6719e=0x0;_0xb6719e<=_0x53311c;_0xb6719e++){_0x3f74d4[_0xb6719e]=0x0;}_0x5ed395['forEach'](_0x3304ee=>{const _0x2de7b6=_0x505d01;_0x3f74d4[_0x3304ee['latestScore']]!==undefined&&_0x3f74d4[_0x3304ee[_0x2de7b6(0x36c)]]++;}),chartInstances['score']&&chartInstances[_0x505d01(0x49c)]['destroy'](),chartInstances[_0x505d01(0x49c)]=new Chart(_0x10e4ab,{'type':_0x505d01(0x9c5),'data':{'labels':Object[_0x505d01(0x1a2)](_0x3f74d4),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x505d01(0x8f5)](_0x3f74d4),'backgroundColor':_0x505d01(0x428),'borderColor':_0x505d01(0x76a),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x505d01(0x9d5)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x53118e){const _0x43328d=_0x505d01,_0x49e696=_0x53118e[_0x43328d(0x8b1)],_0x26e98a=_0x5ed395[_0x43328d(0x3bf)](_0x281b32=>_0x281b32['latestScore']==_0x49e696)[_0x43328d(0x6d7)](_0x4b7113=>_0x4b7113[_0x43328d(0x640)]);return _0x26e98a[_0x43328d(0x2c9)]>0x0?_0x26e98a[_0x43328d(0x1cb)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x24c8ce,_0x10a08a,_0x11d498){const _0x13da40=_0x27804f,_0x23ad0c=document['getElementById']('question-analytics-container');if(_0x11d498[_0x13da40(0x2c9)]===0x0){_0x23ad0c[_0x13da40(0x3e2)]=_0x13da40(0x6f5);return;}const _0x58db42=calculateItemAnalysis(_0x24c8ce,_0x10a08a),_0x715928=calculateDistractorAnalysis(_0x24c8ce,_0x10a08a);let _0x5cda6e='';_0x58db42[_0x13da40(0x1a9)]&&(_0x5cda6e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x58db42[_0x13da40(0x1a9)][_0x13da40(0x1f1)]['length']+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58db42[_0x13da40(0x1a9)][_0x13da40(0x1f1)][_0x13da40(0x6d7)](_0x5d8e36=>'<li>'+_0x5d8e36+_0x13da40(0x76d))['join']('')+_0x13da40(0x7a2)+_0x58db42[_0x13da40(0x1a9)][_0x13da40(0x3f3)][_0x13da40(0x2c9)]+_0x13da40(0x41e)+_0x58db42['overallGroups'][_0x13da40(0x3f3)][_0x13da40(0x6d7)](_0x4d3c90=>_0x13da40(0x212)+_0x4d3c90+_0x13da40(0x76d))[_0x13da40(0x1cb)]('')+_0x13da40(0x297));let _0x3ecb75='';const _0x4c5a96=_0x10a08a[_0x13da40(0x6d7)](_0x4879e4=>_0x4879e4[_0x13da40(0x640)]),_0x2e8f02=_0xae72f9=>{const _0x5bcc73=_0x13da40;if(_0xae72f9>=0.8)return _0x5bcc73(0x624);if(_0xae72f9>=0.6)return _0x5bcc73(0x911);if(_0xae72f9>=0.4)return _0x5bcc73(0x319);if(_0xae72f9>=0.2)return _0x5bcc73(0x964);return _0x5bcc73(0xa00);},_0x3ba306=_0x1c3118=>{const _0x2a2d2a=_0x13da40;if(_0x1c3118<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x1c3118>=0.4)return _0x2a2d2a(0x6f8);if(_0x1c3118>=0.3)return _0x2a2d2a(0x1a7);if(_0x1c3118>=0.2)return _0x2a2d2a(0x223);return _0x2a2d2a(0x531);},_0xfbd2ad=_0x2f40f9=>{const _0xdc5ad0=_0x13da40,_0x2af7eb=_0x2f40f9[_0xdc5ad0(0x6ae)](0x0);if(parseFloat(_0x2af7eb)===0x64)return _0xdc5ad0(0x672)+_0x2af7eb+_0xdc5ad0(0x5dc);if(_0x2f40f9>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x2af7eb+_0xdc5ad0(0x5dc);return _0xdc5ad0(0x8c5)+_0x2af7eb+_0xdc5ad0(0x5dc);};_0x24c8ce[_0x13da40(0x474)][_0x13da40(0x7b1)]((_0x38592b,_0x249744)=>{const _0x129f80=_0x13da40,_0x75b806=_0x58db42['perQuestionStats'][_0x249744],_0x5241d3=_0x715928[_0x249744],_0x36cb23=_0x38592b[_0x129f80(0x956)]||_0x38592b[_0x129f80(0x872)]||_0x38592b[_0x129f80(0x1fa)];let _0x16275c=0x0;const _0x33cf71=[],_0x1694f6=[];_0x10a08a[_0x129f80(0x7b1)](_0x2b8b5b=>{const _0x25d3a8=_0x129f80,_0x5494a3=_0x2b8b5b[_0x25d3a8(0x992)][_0x2b8b5b['attempts'][_0x25d3a8(0x2c9)]-0x1];if(_0x5494a3&&_0x5494a3[_0x25d3a8(0xc4)]){const _0x4e4448=_0x5494a3[_0x25d3a8(0xc4)][_0x25d3a8(0x894)](_0x1f84f1=>_0x1f84f1[_0x25d3a8(0x985)]===_0x36cb23)??_0x5494a3[_0x25d3a8(0xc4)][_0x249744]??null;_0x4e4448&&(_0x4e4448['isCorrect']?(_0x16275c++,_0x33cf71['push'](_0x2b8b5b['studentName'])):_0x1694f6[_0x25d3a8(0x523)](_0x2b8b5b[_0x25d3a8(0x640)]));}});const _0xe09c6f=_0x10a08a[_0x129f80(0x2c9)]>0x0?_0x16275c/_0x10a08a[_0x129f80(0x2c9)]*0x64:0x0,_0x571e5a=_0x11d498[_0x129f80(0x3bf)](_0x2a72f8=>!_0x4c5a96['includes'](_0x2a72f8)),_0x5ed7c4=_0x75b806?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x75b806['p'][_0x129f80(0x6ae)](0x2)+_0x129f80(0x35d)+_0x2e8f02(_0x75b806['p'])+_0x129f80(0x62f)+_0x75b806['r'][_0x129f80(0x6ae)](0x2)+_0x129f80(0x35d)+_0x3ba306(_0x75b806['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xfbd2ad(_0xe09c6f)+_0x129f80(0x397):'';let _0x170ea2='';_0x5241d3&&(_0x170ea2=_0x129f80(0x7ac)+Object[_0x129f80(0x1a2)](_0x5241d3)['map'](_0x347956=>{const _0x3d6a2c=_0x129f80,_0x937ea6=_0x5241d3[_0x347956],_0x224425=parseInt(_0x347956)===_0x38592b[_0x3d6a2c(0x150)],_0x3e93e9=!_0x224425&&_0x937ea6[_0x3d6a2c(0x4c9)]>_0x937ea6[_0x3d6a2c(0x187)];return _0x3d6a2c(0x6e4)+(_0x224425?_0x3d6a2c(0x925):'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x224425?'✔\x20':'')+_0x937ea6['text']+_0x3d6a2c(0x829)+_0x937ea6[_0x3d6a2c(0x187)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x937ea6['lower_group_count']+'\x20'+(_0x3e93e9?'👍':'')+_0x3d6a2c(0x829)+_0x937ea6[_0x3d6a2c(0x375)]+_0x3d6a2c(0x9d8);})[_0x129f80(0x1cb)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x51e0bb='';_0x75b806&&_0x75b806[_0x129f80(0x6d8)]&&(_0x51e0bb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x75b806['upperGroupResponders'][_0x129f80(0x2c9)]+_0x129f80(0x9c1)+_0x75b806[_0x129f80(0x6d8)]['map'](_0x4d55b5=>'<li>'+(_0x4d55b5[_0x129f80(0x91a)]?_0x129f80(0x733):_0x129f80(0x309))+'\x20'+_0x4d55b5[_0x129f80(0x96f)]+_0x129f80(0x76d))[_0x129f80(0x1cb)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x75b806[_0x129f80(0x307)]['length']+_0x129f80(0x9c1)+_0x75b806[_0x129f80(0x307)][_0x129f80(0x6d7)](_0x4052f1=>_0x129f80(0x212)+(_0x4052f1[_0x129f80(0x91a)]?_0x129f80(0x733):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x4052f1[_0x129f80(0x96f)]+'</li>')[_0x129f80(0x1cb)]('')+_0x129f80(0x735)),_0x3ecb75+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x249744+0x1)+':\x20'+_0x36cb23+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x5ed7c4+_0x129f80(0x8c0)+_0x36cb23+_0x129f80(0x714)+_0x16275c+_0x129f80(0x857)+_0x10a08a['length']+_0x129f80(0x8f4)+_0xe09c6f[_0x129f80(0x6ae)](0x0)+_0x129f80(0x878)+_0x33cf71['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x33cf71['length']>0x0?_0x33cf71[_0x129f80(0x1cb)](',\x20'):_0x129f80(0x57e))+_0x129f80(0x8d8)+_0x1694f6[_0x129f80(0x2c9)]+_0x129f80(0x526)+(_0x1694f6[_0x129f80(0x2c9)]>0x0?_0x1694f6[_0x129f80(0x1cb)](',\x20'):_0x129f80(0x57e))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x571e5a['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x571e5a[_0x129f80(0x2c9)]>0x0?_0x571e5a[_0x129f80(0x1cb)](',\x20'):'ไม่มี')+_0x129f80(0x595)+_0x170ea2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51e0bb+_0x129f80(0x9ab);}),_0x23ad0c['innerHTML']=_0x5cda6e+_0x3ecb75;try{window[_0x13da40(0x403)]&&MathJax[_0x13da40(0x276)]&&MathJax['typesetPromise']([_0x23ad0c]);}catch(_0x3df2f){console['error'](_0x13da40(0x593),_0x3df2f);}}function calculateDistractorAnalysis(_0x1ea6d6,_0x9e6e3d){const _0x1869d4=_0x27804f,_0x2dd3bc={};if(_0x9e6e3d[_0x1869d4(0x2c9)]<0x2)return _0x2dd3bc;const _0x91720b=[..._0x9e6e3d][_0x1869d4(0x1e4)]((_0x132979,_0x30f101)=>{const _0x1894dd=_0x1869d4,_0x5b7e81=_0x30f101[_0x1894dd(0x36c)]-_0x132979[_0x1894dd(0x36c)];if(_0x5b7e81!==0x0)return _0x5b7e81;const _0x35fbc0=_0x132979['attempts']?.[_0x1894dd(0x2c9)]||0x1,_0x13c43c=_0x30f101[_0x1894dd(0x992)]?.[_0x1894dd(0x2c9)]||0x1,_0x257585=_0x35fbc0-_0x13c43c;if(_0x257585!==0x0)return _0x257585;const _0x4a1f6f=new Date(_0x132979['latestSubmittedAt']),_0x174510=new Date(_0x30f101[_0x1894dd(0x750)]),_0x513e14=_0x4a1f6f-_0x174510;if(_0x513e14!==0x0)return _0x513e14;return _0x132979['studentName'][_0x1894dd(0x66d)](_0x30f101[_0x1894dd(0x640)],'th');}),_0x1bf5f2=_0x91720b[_0x1869d4(0x2c9)],_0x2b13cf=Math['max'](0x1,Math['floor'](_0x1bf5f2*0.33)),_0xf73a7a=_0x91720b[_0x1869d4(0xf9)](0x0,_0x2b13cf),_0x5ac82f=_0x91720b['slice'](-_0x2b13cf);return _0x1ea6d6[_0x1869d4(0x474)]['forEach']((_0x2cd584,_0x56de94)=>{const _0x37cc7b=_0x1869d4;if(_0x2cd584[_0x37cc7b(0x891)]!==_0x37cc7b(0x1c6)||!_0x2cd584[_0x37cc7b(0x86b)])return;const _0x48945d=_0x2cd584[_0x37cc7b(0x872)],_0x53e430={};_0x2cd584[_0x37cc7b(0x86b)][_0x37cc7b(0x7b1)]((_0x1706a8,_0x447780)=>{_0x53e430[_0x447780]={'text':_0x1706a8,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x91720b['forEach'](_0x5c1119=>{const _0x2d9606=_0x37cc7b,_0x20c9cc=_0x5c1119['attempts'][_0x5c1119[_0x2d9606(0x992)][_0x2d9606(0x2c9)]-0x1],_0x42f8c7=_0x20c9cc[_0x2d9606(0xc4)][_0x2d9606(0x894)](_0x39aafc=>_0x39aafc['originalQuestionText']===_0x48945d);if(_0x42f8c7&&_0x42f8c7[_0x2d9606(0x70a)]!==null){const _0x343aec=_0x2cd584['options'][_0x2d9606(0x1bf)](_0x52e52c=>_0x52e52c===_0x42f8c7['answerText']);_0x343aec!==-0x1&&_0x53e430[_0x343aec]&&(_0x53e430[_0x343aec]['total']++,_0xf73a7a[_0x2d9606(0x885)](_0x5c1119)&&_0x53e430[_0x343aec]['upper_group_count']++,_0x5ac82f[_0x2d9606(0x885)](_0x5c1119)&&_0x53e430[_0x343aec][_0x2d9606(0x4c9)]++);}}),_0x2dd3bc[_0x56de94]=_0x53e430;}),_0x2dd3bc;}function calculateReliabilityKR20(_0x6f477f,_0x1fd645,_0x582a64){const _0x3e194e=_0x27804f,_0x4ec12d=_0x6f477f[_0x3e194e(0x474)][_0x3e194e(0x2c9)];if(_0x4ec12d<0x2||_0x1fd645['length']<0x2)return null;const _0x2eb11a=_0x1fd645[_0x3e194e(0x6d7)](_0x59745c=>_0x59745c[_0x3e194e(0x36c)]),_0x5ad443=_0x2eb11a[_0x3e194e(0x2a4)]((_0x1df3b6,_0x598698)=>_0x1df3b6+_0x598698,0x0)/_0x2eb11a[_0x3e194e(0x2c9)],_0x4cbab5=_0x2eb11a[_0x3e194e(0x6d7)](_0xc73c10=>Math[_0x3e194e(0x633)](_0xc73c10-_0x5ad443,0x2))[_0x3e194e(0x2a4)]((_0x5eee12,_0x4c4e4c)=>_0x5eee12+_0x4c4e4c,0x0)/_0x2eb11a['length'];if(_0x4cbab5===0x0)return null;let _0x56b3bc=0x0;for(let _0x32fb63=0x0;_0x32fb63<_0x4ec12d;_0x32fb63++){const _0x58711c=_0x582a64[_0x32fb63]?.['p'];if(_0x58711c===undefined)continue;const _0x1aef99=0x1-_0x58711c;_0x56b3bc+=_0x58711c*_0x1aef99;}if(_0x56b3bc===0x0)return null;const _0x56e92d=_0x4ec12d/(_0x4ec12d-0x1)*(0x1-_0x56b3bc/_0x4cbab5);if(_0x56e92d>0x1)return null;return _0x56e92d;}async function handleAnalyzeClass(){const _0x175bdb=_0x27804f;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x175bdb(0x6a9));return;}const _0xb787b2=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x175bdb(0x36e)),_0x5b22dd=await getDocs(_0xb787b2),_0x346b9b=_0x5b22dd[_0x175bdb(0x16e)][_0x175bdb(0x6d7)](_0x242de9=>_0x242de9[_0x175bdb(0x724)]());if(_0x346b9b[_0x175bdb(0x2c9)]<0x2){showMessage(_0x175bdb(0x719));return;}const _0x56522d=document[_0x175bdb(0x5a3)](_0x175bdb(0x23a));_0x56522d[_0x175bdb(0x3e2)]=_0x175bdb(0x5d6),document['getElementById']('analyze-strengths-btn')[_0x175bdb(0x190)]=!![];const _0x4da666=_0x346b9b[_0x175bdb(0x6d7)]((_0x39b9bd,_0x112903)=>{const _0x4e951d=_0x175bdb,_0x59fe9d=_0x39b9bd[_0x4e951d(0x992)][_0x39b9bd[_0x4e951d(0x992)][_0x4e951d(0x2c9)]-0x1];if(!_0x59fe9d)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x112903+0x1)+'\x20('+_0x39b9bd[_0x4e951d(0x640)]+_0x4e951d(0x5b6)+_0x59fe9d[_0x4e951d(0x49c)]+'/'+_0x39b9bd[_0x4e951d(0x231)]+_0x4e951d(0x469)+JSON[_0x4e951d(0x65f)](_0x59fe9d['answers'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x175bdb(0x1cb)](_0x175bdb(0x466)),_0x24dd8b=_0x175bdb(0x889)+currentQuizData[_0x175bdb(0x2a9)]+_0x175bdb(0x46c)+JSON[_0x175bdb(0x65f)](currentQuizData[_0x175bdb(0x474)])+_0x175bdb(0x401)+_0x4da666+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x33fc80={'type':_0x175bdb(0x440),'properties':{'classStrengths':{'type':_0x175bdb(0x9a6),'items':{'type':_0x175bdb(0x1fb)}},'classWeaknesses':{'type':_0x175bdb(0x9a6),'items':{'type':_0x175bdb(0x1fb)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x175bdb(0x1fb)}}},'required':[_0x175bdb(0x807),'classWeaknesses',_0x175bdb(0x936)]};try{const _0x553846=await callAnalysisApi(_0x24dd8b,_0x33fc80);displayClassAnalysis(_0x553846);}catch(_0x655614){console['error'](_0x175bdb(0x263),_0x655614),_0x56522d[_0x175bdb(0x3e2)]=_0x175bdb(0x6ab)+_0x655614[_0x175bdb(0x3f9)]+_0x175bdb(0x234);}finally{document[_0x175bdb(0x5a3)](_0x175bdb(0x6ff))[_0x175bdb(0x190)]=![];}}function displayClassAnalysis(_0x49954f){const _0x37f378=_0x27804f,_0x151596=document[_0x37f378(0x5a3)]('strength-weakness-analysis-container');if(!_0x49954f){_0x151596[_0x37f378(0x3e2)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x151596['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x49954f[_0x37f378(0x807)]['map'](_0x513d17=>'<li>'+_0x513d17+'</li>')[_0x37f378(0x1cb)]('')+_0x37f378(0x8e2)+_0x49954f[_0x37f378(0x97a)][_0x37f378(0x6d7)](_0x5834e2=>_0x37f378(0x212)+_0x5834e2+_0x37f378(0x76d))[_0x37f378(0x1cb)]('')+_0x37f378(0x7de)+_0x49954f['teacherSuggestions'][_0x37f378(0x6d7)](_0x2cad39=>_0x37f378(0x212)+_0x2cad39+'</li>')[_0x37f378(0x1cb)]('')+_0x37f378(0x457);}function formatAndPrintWorksheet(_0x237f35,_0x3c62e6){const _0xc4b24a=_0x27804f,_0x39ee75='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x237f35['topic']+_0xc4b24a(0x6b6)+_0x237f35[_0xc4b24a(0x2a9)]+_0xc4b24a(0x79f)+_0x237f35['questions'][_0xc4b24a(0x6d7)]((_0x5dba7b,_0x442fb5)=>_0xc4b24a(0x7d9)+(_0x442fb5+0x1)+'.\x20'+_0x5dba7b[_0xc4b24a(0x872)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5dba7b[_0xc4b24a(0xd9)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x5dba7b[_0xc4b24a(0xd9)]+_0xc4b24a(0x8c4):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0xc4b24a(0x53f);_0x3c62e6[_0xc4b24a(0x5fb)][_0xc4b24a(0x4df)](_0x39ee75),_0x3c62e6[_0xc4b24a(0x5fb)]['close'](),_0x3c62e6['onload']=function(){setTimeout(()=>{const _0x1c4cae=_0x2015;_0x3c62e6[_0x1c4cae(0x852)]();},0x3e8);};}async function generateWorksheet(){const _0xe6edb2=_0x27804f,_0xb27dd6=document['getElementById']('worksheet-topic-input')['value'][_0xe6edb2(0x79e)]();if(!_0xb27dd6){showMessage(_0xe6edb2(0x6cb));return;}const _0x12c623=document[_0xe6edb2(0x5a3)](_0xe6edb2(0xae))['checked'],_0x4d3162=_0x12c623?'':_0xe6edb2(0x5ac),_0x5c4380=window['open']('','_blank');_0x5c4380[_0xe6edb2(0x5fb)][_0xe6edb2(0x4df)](_0xe6edb2(0x226));const _0x575bec=parseInt(document[_0xe6edb2(0x5a3)](_0xe6edb2(0x246))[_0xe6edb2(0x50c)]),_0x315065=document[_0xe6edb2(0x5a3)]('include-images-checkbox')[_0xe6edb2(0x9b1)],_0x1984c1=_0x315065?_0xe6edb2(0x51f):'',_0x33a72f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x4d3162+_0xe6edb2(0x3f2)+_0x575bec+_0xe6edb2(0x24e)+_0xb27dd6+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1984c1+_0xe6edb2(0x959)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x3bdf58={'type':_0xe6edb2(0x440),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0xe6edb2(0x9a6),'items':{'type':_0xe6edb2(0x440),'properties':{'questionText':{'type':_0xe6edb2(0x1fb)},'imageCode':{'type':_0xe6edb2(0x1fb)}},'required':[_0xe6edb2(0x872)]}}},'required':[_0xe6edb2(0x2a9),_0xe6edb2(0x474)]};document[_0xe6edb2(0x5a3)](_0xe6edb2(0x4d8))[_0xe6edb2(0x84f)]='',document[_0xe6edb2(0x5a3)](_0xe6edb2(0x95c))['classList'][_0xe6edb2(0x3dd)]('hidden'),document[_0xe6edb2(0x5a3)](_0xe6edb2(0x5a9))[_0xe6edb2(0x24d)][_0xe6edb2(0x3dd)](_0xe6edb2(0x825)),generateWorksheetBtn[_0xe6edb2(0x190)]=!![];try{const _0x4e3452=await callAnalysisApi(_0x33a72f,_0x3bdf58);formatAndPrintWorksheet(_0x4e3452,_0x5c4380);}catch(_0x63707d){console[_0xe6edb2(0x84a)](_0xe6edb2(0x465),_0x63707d);if(_0x5c4380)_0x5c4380[_0xe6edb2(0x6c8)]();showMessage(_0xe6edb2(0x9a3));}finally{document[_0xe6edb2(0x5a3)]('loader')['classList'][_0xe6edb2(0x162)](_0xe6edb2(0x825)),document[_0xe6edb2(0x5a3)](_0xe6edb2(0x5a9))['classList']['add']('hidden'),generateWorksheetBtn[_0xe6edb2(0x190)]=![];}}async function callAnalysisApi(_0x42e790,_0x574e6e){const _0x32bc3f=_0x27804f,_0x3466de={'contents':[{'role':_0x32bc3f(0x468),'parts':[{'text':_0x42e790}]}],'generationConfig':{'responseMimeType':_0x32bc3f(0x8fd),'responseSchema':_0x574e6e}},_0x4e841f=_0x32bc3f(0x42e),_0x4cdac1=_0x32bc3f(0xb4)+_0x4e841f,_0x5a86af=await fetch(_0x4cdac1,{'method':_0x32bc3f(0x155),'headers':{'Content-Type':_0x32bc3f(0x8fd)},'body':JSON[_0x32bc3f(0x65f)](_0x3466de)});if(!_0x5a86af['ok'])throw new Error(_0x32bc3f(0x8d9)+_0x5a86af[_0x32bc3f(0x95a)]);const _0x52a3ab=await _0x5a86af[_0x32bc3f(0x8b8)]();if(_0x52a3ab['candidates']?.[0x0]?.[_0x32bc3f(0x710)]?.[_0x32bc3f(0x89d)]?.[0x0])return JSON[_0x32bc3f(0x298)](_0x52a3ab[_0x32bc3f(0x955)][0x0][_0x32bc3f(0x710)][_0x32bc3f(0x89d)][0x0][_0x32bc3f(0x45f)]);else{let _0x339be9=_0x32bc3f(0x845);if(_0x52a3ab[_0x32bc3f(0x281)]?.['blockReason'])_0x339be9=_0x32bc3f(0x2d3)+_0x52a3ab[_0x32bc3f(0x281)][_0x32bc3f(0x6ef)]+'.';else _0x52a3ab['candidates']?.[0x0]?.[_0x32bc3f(0x96e)]&&_0x52a3ab[_0x32bc3f(0x955)][0x0][_0x32bc3f(0x96e)]!==_0x32bc3f(0x987)&&(_0x339be9='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x52a3ab[_0x32bc3f(0x955)][0x0][_0x32bc3f(0x96e)]+'.');console[_0x32bc3f(0x84a)](_0x339be9,JSON[_0x32bc3f(0x65f)](_0x52a3ab));throw new Error(_0x339be9);}}async function handleStartSyncMode(_0xd84fed,_0x16bb7e=![]){const _0x232890=_0x27804f,_0x2bbd68=allQuizzes[_0x232890(0x894)](_0x461a4d=>_0x461a4d['id']===_0xd84fed)||allQuizzesGlobal[_0x232890(0x894)](_0x1d70b6=>_0x1d70b6['id']===_0xd84fed);if(!_0x2bbd68){showMessage(_0x232890(0x47f));return;}currentQuizData=getShuffledQuiz(_0x2bbd68);const _0x33da5d=Math[_0x232890(0x5f1)](0x3e8+Math[_0x232890(0x5d5)]()*0x2328)['toString']();try{const _0x55b52e=await addDoc(collection(db,_0x232890(0x71a)+appId+_0x232890(0x108)),{'quizId':_0x2bbd68['id'],'pin':_0x33da5d,'status':_0x232890(0x5ff),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x16bb7e,'players':{}});currentLiveGameId=_0x55b52e['id'],showView('live-game'),renderSyncLobbyView(_0x33da5d,_0x2bbd68['topic']),listenForSyncGameUpdates();}catch(_0x1f7709){console[_0x232890(0x84a)]('Error\x20starting\x20sync\x20game:',_0x1f7709),showMessage(_0x232890(0x5c2));}}function calculateFinalPodiumScores(_0x5a9160){const _0x40f4eb=_0x27804f;if(!_0x5a9160||!_0x5a9160[_0x40f4eb(0x896)]||!_0x5a9160[_0x40f4eb(0xbe)])return _0x5a9160['players']||{};const _0x1f1022=_0x5a9160[_0x40f4eb(0x896)][_0x40f4eb(0x474)][_0x40f4eb(0x2c9)],_0x4a1de5=JSON['parse'](JSON['stringify'](_0x5a9160[_0x40f4eb(0xbe)]));return Object[_0x40f4eb(0x8f5)](_0x4a1de5)[_0x40f4eb(0x7b1)](_0x3326a8=>{const _0x1e75bb=_0x40f4eb,_0xb5b0b6=_0x3326a8[_0x1e75bb(0x49c)];let _0x4df124=0x0;_0x5a9160[_0x1e75bb(0x8cd)]&&_0x3326a8[_0x1e75bb(0xc4)]&&_0x3326a8[_0x1e75bb(0xc4)]['forEach'](_0x15eca5=>{const _0x40911=_0x1e75bb;if(_0x15eca5[_0x40911(0x91a)]&&_0x15eca5['wasConfident'])_0x4df124+=0x1;else!_0x15eca5[_0x40911(0x91a)]&&_0x15eca5[_0x40911(0x11b)]&&(_0x4df124-=0x1);}),_0x3326a8['score']=_0xb5b0b6+_0x4df124,_0x1f1022>0x0&&_0xb5b0b6===_0x1f1022&&(_0x3326a8['score']+=0x1,_0x3326a8[_0x1e75bb(0x426)]=!![]);}),_0x4a1de5;}function listenForSyncGameUpdates(){const _0x47f657=_0x27804f;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x4241d8=doc(db,_0x47f657(0x71a)+appId+_0x47f657(0x108),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x4241d8,_0x1e9c54=>{const _0x372c0a=_0x47f657;if(!_0x1e9c54['exists']()){sessionStorage['removeItem']('activeGameSession');if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x372c0a(0x410)),showView(currentMode===_0x372c0a(0x43a)?_0x372c0a(0x6f6):_0x372c0a(0x2c2));return;}const _0x41c3e5=_0x1e9c54[_0x372c0a(0x724)]();currentMode===_0x372c0a(0x43a)?updateAdminSyncView(_0x41c3e5):updateStudentSyncView(_0x41c3e5);});}function renderSyncLobbyView(_0x9bdabe,_0x43cc06){const _0x2b46ed=_0x27804f;liveGameView[_0x2b46ed(0x3e2)]=_0x2b46ed(0x176)+_0x43cc06+_0x2b46ed(0x2b9)+_0x9bdabe+_0x2b46ed(0x834);const _0x43a11e=document['getElementById'](_0x2b46ed(0x68e)),_0x1419ba=document['getElementById'](_0x2b46ed(0x139));_0x43a11e['addEventListener'](_0x2b46ed(0x677),()=>{const _0x8ba12=_0x2b46ed;_0x1419ba['style'][_0x8ba12(0x3ea)]=_0x43a11e[_0x8ba12(0x9b1)]?'block':'none';}),document['getElementById'](_0x2b46ed(0x93d))[_0x2b46ed(0x2ea)](_0x2b46ed(0x189),async()=>{const _0x55f357=_0x2b46ed,_0x4a16b6=doc(db,_0x55f357(0x71a)+appId+_0x55f357(0x108),currentLiveGameId),_0x5d1c53=document['getElementById'](_0x55f357(0x68e))['checked'];await updateDoc(_0x4a16b6,{'status':_0x55f357(0x6f2),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x5d1c53});});}function updateAdminSyncView(_0x15a045){const _0x5de6ba=_0x27804f;switch(_0x15a045[_0x5de6ba(0x95a)]){case _0x5de6ba(0x5ff):renderSyncLobbyView(_0x15a045[_0x5de6ba(0x71f)],_0x15a045['shuffledQuiz'][_0x5de6ba(0x2a9)]);const _0xe59acc=Object[_0x5de6ba(0x69c)](_0x15a045[_0x5de6ba(0xbe)]||{})[_0x5de6ba(0x3bf)](([_0x2cc135,_0x581c3e])=>_0x581c3e[_0x5de6ba(0x95a)]!==_0x5de6ba(0x77c));document[_0x5de6ba(0x5a3)](_0x5de6ba(0x9d7))[_0x5de6ba(0x84f)]=_0xe59acc[_0x5de6ba(0x2c9)],document['getElementById'](_0x5de6ba(0x136))[_0x5de6ba(0x3e2)]=_0xe59acc[_0x5de6ba(0x6d7)](([_0x4e709d,_0x1a2bb6])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4e709d+_0x5de6ba(0x4a0)+_0x4e709d+_0x5de6ba(0x649))[_0x5de6ba(0x1cb)]('')||_0x5de6ba(0xf6),document[_0x5de6ba(0x5a3)](_0x5de6ba(0x93d))[_0x5de6ba(0x190)]=_0xe59acc[_0x5de6ba(0x2c9)]===0x0;break;case'question':const _0x49679a=Object['values'](_0x15a045['players']||{})[_0x5de6ba(0x3bf)](_0x5decd4=>_0x5decd4[_0x5de6ba(0x95a)]!=='inactive'),_0x42217c=_0x49679a['filter'](_0x22aedc=>_0x22aedc[_0x5de6ba(0x7ab)])[_0x5de6ba(0x2c9)],_0x42a7b2=_0x42217c===_0x49679a[_0x5de6ba(0x2c9)]&&_0x49679a[_0x5de6ba(0x2c9)]>0x0;if(_0x42a7b2&&_0x15a045[_0x5de6ba(0x95a)]===_0x5de6ba(0x6f2)){const _0x4267d3=doc(db,_0x5de6ba(0x71a)+appId+_0x5de6ba(0x108),currentLiveGameId);updateDoc(_0x4267d3,{'status':_0x5de6ba(0x236)});}else{if(document[_0x5de6ba(0x5a3)](_0x5de6ba(0x356))===null)renderAdminSyncQuestionView(_0x15a045);else{const _0x3bd050=document[_0x5de6ba(0x5a3)](_0x5de6ba(0x19d));_0x3bd050&&(_0x3bd050[_0x5de6ba(0x84f)]=_0x42217c+'/'+_0x49679a[_0x5de6ba(0x2c9)]);const _0xd1d75=document[_0x5de6ba(0x5a3)](_0x5de6ba(0x8c2));_0xd1d75&&(_0xd1d75[_0x5de6ba(0x3e2)]=_0x49679a[_0x5de6ba(0x6d7)](_0x47032a=>{const _0x226865=_0x5de6ba,_0x10257e=_0x47032a[_0x226865(0x7ab)]?_0x226865(0x6a1):'bg-gray-500',_0x3de03e=_0x47032a[_0x226865(0x7ab)]?_0x226865(0x111):_0x226865(0x731);return _0x226865(0x2d7)+_0x10257e+_0x226865(0xb9)+_0x3de03e+_0x226865(0x8de)+_0x47032a[_0x226865(0x96f)]+_0x226865(0x6c4)+_0x47032a['name']+_0x226865(0x779);})[_0x5de6ba(0x1cb)](''));}}break;case _0x5de6ba(0x236):const _0x29751e=_0x15a045['currentQuestionIndex'],_0x24cd9b=_0x15a045[_0x5de6ba(0x896)][_0x5de6ba(0x474)][_0x29751e];renderSyncSummaryView(_0x15a045,_0x24cd9b,!![]);break;case'results':renderAdminSyncDashboard(_0x15a045,!![]);break;case _0x5de6ba(0x2ab):_0x15a045['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x15a045);sessionStorage['removeItem']('activeGameSession');const _0x2b2a63=calculateFinalPodiumScores(_0x15a045);showPodiumView(_0x2b2a63,_0x5de6ba(0x3a2));break;}}function renderAdminSyncQuestionView(_0x31b85d){const _0x562185=_0x27804f,_0x149832=_0x31b85d['currentQuestionIndex'],_0x30f4e9=_0x31b85d['shuffledQuiz']['questions'][_0x149832],_0x4f90d7=_0x31b85d[_0x562185(0x896)][_0x562185(0x474)]['length'],_0x1e9757=Object[_0x562185(0x8f5)](_0x31b85d[_0x562185(0xbe)]||{})[_0x562185(0x3bf)](_0x125996=>_0x125996['status']!==_0x562185(0x77c)),_0x6a6b4e=_0x1e9757[_0x562185(0x3bf)](_0x2a5c16=>_0x2a5c16['answered'])[_0x562185(0x2c9)],_0x32b888=_0x6a6b4e===_0x1e9757[_0x562185(0x2c9)]&&_0x1e9757[_0x562185(0x2c9)]>0x0,_0x42a752=(_0x30f4e9[_0x562185(0x86b)]||[])['map'](_0xa6cdbd=>_0x562185(0x6e2)+_0xa6cdbd+_0x562185(0x8c4))['join']('');liveGameView[_0x562185(0x3e2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x149832+0x1)+_0x562185(0x4c2)+_0x4f90d7+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x6a6b4e+'/'+_0x1e9757[_0x562185(0x2c9)]+_0x562185(0x286)+_0x30f4e9[_0x562185(0x872)]+_0x562185(0x56e)+_0x42a752+_0x562185(0x211)+(!_0x32b888?_0x562185(0x190):'')+_0x562185(0x88d);if(window[_0x562185(0x403)])MathJax['typesetPromise']();document[_0x562185(0x5a3)](_0x562185(0x9f7))[_0x562185(0x2ea)](_0x562185(0x189),async()=>{const _0x3a4abd=_0x562185,_0x42c525=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x42c525,{'status':_0x3a4abd(0x4c3)});}),document[_0x562185(0x5a3)](_0x562185(0x7a4))['onclick']=()=>{openScratchpad(_0x30f4e9,_0x30f4e9['options']||[]);},document[_0x562185(0x5a3)](_0x562185(0x17a))['addEventListener']('click',()=>{const _0x10235b=_0x562185;document[_0x10235b(0x5a3)](_0x10235b(0x356))[_0x10235b(0x24d)][_0x10235b(0x72e)](_0x10235b(0x825));});}function renderSyncLeaderboardView(_0x47dee3,_0x2cf640){const _0x52ff6a=_0x27804f,_0x5a6e89=Object[_0x52ff6a(0x8f5)](_0x47dee3['players']||{});_0x5a6e89['sort']((_0x4a148e,_0x27a03d)=>_0x27a03d['score']-_0x4a148e[_0x52ff6a(0x49c)]);const _0x4adc9a=_0x5a6e89[_0x52ff6a(0xf9)](0x0,0x5);let _0xc3ad89='';if(_0x2cf640){const _0xb6a1b2=_0x47dee3[_0x52ff6a(0x814)]>=_0x47dee3[_0x52ff6a(0x896)][_0x52ff6a(0x474)]['length']-0x1;_0xc3ad89=_0x52ff6a(0x548)+(_0xb6a1b2?_0x52ff6a(0x3db):'ข้อต่อไป')+_0x52ff6a(0x85f);}else _0xc3ad89=_0x52ff6a(0x2ec);liveGameView[_0x52ff6a(0x3e2)]=_0x52ff6a(0x7f7)+_0x4adc9a['map']((_0x267d43,_0x2804fe)=>_0x52ff6a(0x727)+(_0x2804fe+0x1)+'.\x20'+_0x267d43[_0x52ff6a(0x96f)]+'</span><span\x20class=\x22font-bold\x22>'+_0x267d43['score']+_0x52ff6a(0x99f))[_0x52ff6a(0x1cb)]('')+_0x52ff6a(0x6b8)+_0xc3ad89+_0x52ff6a(0x3ac),_0x2cf640&&document['getElementById'](_0x52ff6a(0x12d))[_0x52ff6a(0x2ea)](_0x52ff6a(0x189),async()=>{const _0x1b98cf=_0x52ff6a,_0x3277a4=doc(db,_0x1b98cf(0x71a)+appId+_0x1b98cf(0x108),currentLiveGameId),_0x2507e9=_0x47dee3[_0x1b98cf(0x814)]+0x1;if(_0x2507e9<_0x47dee3[_0x1b98cf(0x896)][_0x1b98cf(0x474)][_0x1b98cf(0x2c9)]){const _0x2c59fe={};Object[_0x1b98cf(0x1a2)](_0x47dee3[_0x1b98cf(0xbe)])[_0x1b98cf(0x7b1)](_0x564430=>{const _0xf7d4ce=_0x1b98cf;_0x2c59fe[_0xf7d4ce(0x6d5)+_0x564430+_0xf7d4ce(0x773)]=![];}),await updateDoc(_0x3277a4,{..._0x2c59fe,'status':'question','currentQuestionIndex':_0x2507e9,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x3277a4,{'status':'podium'});});}async function handleJoinSyncGame(){const _0x26466a=_0x27804f,_0x331197=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x331197||_0x331197[_0x26466a(0x79e)]()['length']!==0x2){showMessage(_0x26466a(0x128));return;}try{const _0x53f6f1=collection(db,_0x26466a(0x71a)+appId+'/public/data/syncGames'),_0x63111d=query(_0x53f6f1,where(_0x26466a(0x71f),'==',_0x331197[_0x26466a(0x79e)]()),where(_0x26466a(0x95a),'==','lobby')),_0xc66bf5=await getDocs(_0x63111d);if(_0xc66bf5['empty']){showMessage(_0x26466a(0x68c));return;}const _0x2e705e=_0xc66bf5['docs'][0x0];currentLiveGameId=_0x2e705e['id'];const _0x100be0=_0x2e705e['data'](),_0x16ab60=doc(db,_0x26466a(0x71a)+appId+_0x26466a(0x91e),_0x100be0[_0x26466a(0x53c)]),_0x5a785e=await getDoc(_0x16ab60);if(!_0x5a785e[_0x26466a(0x75f)]())throw new Error(_0x26466a(0x8bd));const _0x2a0f7f=_0x5a785e[_0x26466a(0x724)](),_0x13b7ab=doc(db,_0x26466a(0x71a)+appId+'/public/data/projects',_0x2a0f7f['projectId']),_0x34f7a0=await getDoc(_0x13b7ab);if(!_0x34f7a0[_0x26466a(0x75f)]())throw new Error(_0x26466a(0x982));currentQuizData=_0x100be0[_0x26466a(0x896)];const _0x16db7d=_0x34f7a0[_0x26466a(0x724)]();showView(_0x26466a(0x629)),showTeamPlayerSelection(_0x16db7d[_0x26466a(0x137)],_0x2a0f7f[_0x26466a(0x2a9)]);const _0x5ca141=document[_0x26466a(0x5a3)]('confirm-team-players-btn');_0x5ca141[_0x26466a(0x2e6)]=confirmAndJoinSyncGame;}catch(_0x590d9f){console['error']('Error\x20joining\x20sync\x20game:',_0x590d9f),showMessage(_0x26466a(0x7eb)+_0x590d9f['message']);}}function updateStudentSyncView(_0x7ee8d3){const _0x40aca6=_0x27804f,_0x34330c=_0x7ee8d3[_0x40aca6(0xbe)][localTeamPlayers[0x0]];switch(_0x7ee8d3['status']){case _0x40aca6(0x5ff):showView('live-game'),liveGameView[_0x40aca6(0x3e2)]=_0x40aca6(0x125);break;case _0x40aca6(0x6f2):const _0x4f2b4b=localTeamPlayers[_0x40aca6(0x12e)](_0x1ac46c=>_0x7ee8d3[_0x40aca6(0xbe)][_0x1ac46c]?.[_0x40aca6(0x7ab)]===!![]);_0x4f2b4b?liveGameView[_0x40aca6(0x3e2)]=_0x40aca6(0x514):renderStudentSyncQuestionView(_0x7ee8d3);break;case _0x40aca6(0x236):liveGameView[_0x40aca6(0x3e2)]=_0x40aca6(0x3a8);break;case _0x40aca6(0x4c3):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x7ee8d3);break;case _0x40aca6(0x2ab):sessionStorage[_0x40aca6(0x508)](_0x40aca6(0x1d7));const _0x4dbdad=calculateFinalPodiumScores(_0x7ee8d3);showPodiumView(_0x4dbdad,_0x40aca6(0x3a2));break;}}function renderStudentSyncResultsView(_0x17c2a8){const _0x48227e=_0x27804f,_0x34f62c=localTeamPlayers[_0x48227e(0x6d7)](_0x2b4477=>_0x17c2a8[_0x48227e(0xbe)][_0x2b4477])[_0x48227e(0x3bf)](Boolean);_0x34f62c[_0x48227e(0x1e4)]((_0x52f39d,_0x51b9cc)=>(_0x51b9cc['score']||0x0)-(_0x52f39d[_0x48227e(0x49c)]||0x0));const _0x27ef1b=_0x17c2a8[_0x48227e(0x814)]>=_0x17c2a8[_0x48227e(0x896)][_0x48227e(0x474)]['length']-0x1;let _0x369ed0='';_0x27ef1b?_0x369ed0=_0x48227e(0x8f6):_0x369ed0=_0x48227e(0x1bd);const _0x495204='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x34f62c['map']((_0x1ebf15,_0x1cb287)=>_0x48227e(0x55f)+(_0x1cb287+0x1)+_0x48227e(0x4bd)+_0x1ebf15[_0x48227e(0x96f)]+_0x48227e(0x490)+_0x1ebf15[_0x48227e(0x49c)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x369ed0+_0x48227e(0x4a2);liveGameView['innerHTML']=_0x495204;}function renderStudentSyncQuestionView(_0xcc42bf){const _0xa8f83e=_0x27804f;while(localPlayerTurnIndex<localTeamPlayers[_0xa8f83e(0x2c9)]&&_0xcc42bf['players'][localTeamPlayers[localPlayerTurnIndex]]?.['answered']===!![]){localPlayerTurnIndex++;}const _0x23109c=localTeamPlayers[localPlayerTurnIndex];if(!_0x23109c)return;const _0x83be18=_0xcc42bf['currentQuestionIndex'],_0x23e4c9=_0xcc42bf['shuffledQuiz'][_0xa8f83e(0x474)][_0xa8f83e(0x2c9)],_0x1c31e3=_0xcc42bf['shuffledQuiz'][_0xa8f83e(0x474)][_0x83be18],_0x2f78da=_0x1c31e3[_0xa8f83e(0x891)]||_0xcc42bf[_0xa8f83e(0x896)][_0xa8f83e(0x907)];let _0x5ddbd7='',_0x32a692=![];switch(_0x2f78da){case _0xa8f83e(0x6d1):_0x5ddbd7=_0xa8f83e(0x3a9);break;case _0xa8f83e(0x511):case _0xa8f83e(0x4e2):_0x32a692=!![],_0x5ddbd7=_0xa8f83e(0x8b0);break;case _0xa8f83e(0x3fd):_0x32a692=!![],_0x5ddbd7=_0xa8f83e(0x609)+(_0x1c31e3[_0xa8f83e(0x2fa)]||[])['map'](_0x21069b=>_0xa8f83e(0x76f)+_0x21069b+'\x22>'+_0x21069b+'</option>')[_0xa8f83e(0x1cb)]('')+_0xa8f83e(0x33a);break;case _0xa8f83e(0x1c6):default:_0x5ddbd7=(_0x1c31e3[_0xa8f83e(0x86b)]||[])[_0xa8f83e(0x6d7)]((_0x4152c0,_0x209b8c)=>_0xa8f83e(0xb3)+_0x209b8c+_0xa8f83e(0x5a5)+_0x4152c0+_0xa8f83e(0x479))[_0xa8f83e(0x1cb)]('');break;}liveGameView[_0xa8f83e(0x3e2)]=_0xa8f83e(0xcf)+(_0x83be18+0x1)+_0xa8f83e(0x4c2)+_0x23e4c9+_0xa8f83e(0x69b)+_0x23109c+_0xa8f83e(0x18f)+(_0x1c31e3['questionText']||_0x1c31e3['stem'])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x5ddbd7+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(window['MathJax'])MathJax[_0xa8f83e(0x276)]();function _0x214926(_0x30231d,_0x4129c1,_0x107682,_0x552395){const _0x1e53b5=_0xa8f83e,_0x15d978=_0x107682[_0x1e53b5(0x8cd)]===!![];if(_0x15d978){document['getElementById'](_0x1e53b5(0x7e7))[_0x1e53b5(0x4b7)]['currentMode']='sync';const _0xd1b2ab=document[_0x1e53b5(0x5a3)](_0x1e53b5(0x24a));_0xd1b2ab['dataset'][_0x1e53b5(0x1ea)]=_0x30231d,_0xd1b2ab['dataset']['question']=JSON[_0x1e53b5(0x65f)](_0x4129c1),_0xd1b2ab[_0x1e53b5(0x4b7)][_0x1e53b5(0x320)]=JSON['stringify'](_0x107682),_0xd1b2ab[_0x1e53b5(0x4b7)][_0x1e53b5(0x4a1)]=_0x552395,document['getElementById'](_0x1e53b5(0x7e7))[_0x1e53b5(0x24d)][_0x1e53b5(0x3dd)](_0x1e53b5(0x825));}else handleSyncAnswerSubmit(_0x30231d,_0x4129c1,_0x107682,_0x552395,![]);}_0x32a692?document[_0xa8f83e(0x5a3)](_0xa8f83e(0x5d4))[_0xa8f83e(0x2ea)]('click',()=>{const _0x142fb2=_0xa8f83e,_0x71f2d9=document['getElementById'](_0x142fb2(0x2fe))||document['getElementById'](_0x142fb2(0x148));if(_0x71f2d9[_0x142fb2(0x50c)][_0x142fb2(0x79e)]()===''){showMessage(_0x142fb2(0x729));return;}_0x214926(_0x71f2d9[_0x142fb2(0x50c)],_0x1c31e3,_0xcc42bf,_0x23109c);}):document['querySelectorAll']('.live-answer-btn')[_0xa8f83e(0x7b1)](_0x2b92e1=>{const _0x225662=_0xa8f83e;_0x2b92e1[_0x225662(0x2ea)](_0x225662(0x189),()=>{const _0x1ce1e4=_0x225662;_0x214926(_0x2b92e1[_0x1ce1e4(0x4b7)]['value'],_0x1c31e3,_0xcc42bf,_0x23109c);});});}async function handleSyncAnswerSubmit(_0x514c19,_0x2d0688,_0x2c62ec,_0xe50d56,_0x566d25){const _0x2664fc=_0x27804f;document[_0x2664fc(0x7c7)](_0x2664fc(0x20c))[_0x2664fc(0x7b1)](_0x378063=>_0x378063['disabled']=!![]);const _0x2735e3=_0x2d0688[_0x2664fc(0x891)]||_0x2c62ec['shuffledQuiz'][_0x2664fc(0x907)];let _0x8ad4d6=![],_0x86450f=_0x514c19;switch(_0x2735e3){case _0x2664fc(0x6d1):const _0x5f7b1e=parseInt(_0x514c19),_0x1fd684=_0x2d0688[_0x2664fc(0x1e0)]===!![]||String(_0x2d0688[_0x2664fc(0x1e0)])[_0x2664fc(0x2b7)]()==='true';_0x8ad4d6=_0x5f7b1e===0x0&&_0x1fd684||_0x5f7b1e===0x1&&!_0x1fd684,_0x86450f=_0x5f7b1e===0x0?_0x2664fc(0x6da):_0x2664fc(0x1be);break;case'short_answer':case _0x2664fc(0x4e2):_0x8ad4d6=await gradeShortAnswer(_0x514c19,_0x2d0688);break;case _0x2664fc(0x3fd):_0x8ad4d6=_0x514c19===_0x2d0688[_0x2664fc(0x8e5)];break;case'multiple_choice':default:const _0x34a165=parseInt(_0x514c19);_0x8ad4d6=_0x34a165===_0x2d0688[_0x2664fc(0x150)];_0x2d0688[_0x2664fc(0x86b)]&&_0x2d0688[_0x2664fc(0x86b)][_0x34a165]&&(_0x86450f=_0x2d0688[_0x2664fc(0x86b)][_0x34a165]);break;}let _0x19295d=0x0;if(_0x8ad4d6&&_0x566d25)_0x19295d=0x2;else{if(_0x8ad4d6)_0x19295d=0x1;else!_0x8ad4d6&&_0x566d25&&(_0x19295d=-0x1);}const _0x514a57=doc(db,_0x2664fc(0x71a)+appId+_0x2664fc(0x108),currentLiveGameId),_0x11d7f2={};_0x11d7f2[_0x2664fc(0x6d5)+_0xe50d56+_0x2664fc(0x3c8)]=increment(_0x19295d),_0x11d7f2[_0x2664fc(0x6d5)+_0xe50d56+'.answered']=!![];let _0x336760=null;(_0x2735e3===_0x2664fc(0x1c6)||_0x2735e3==='true_false'||_0x2735e3===_0x2664fc(0x5c7))&&(_0x336760=parseInt(_0x514c19));_0x11d7f2[_0x2664fc(0x6d5)+_0xe50d56+_0x2664fc(0xf4)]=_0x336760;const _0x5c49c4={'questionIndex':_0x2c62ec[_0x2664fc(0x814)],'questionId':_0x2d0688['id'],'answer':_0x514c19,'answerText':_0x86450f,'isCorrect':_0x8ad4d6,'originalQuestionText':_0x2d0688[_0x2664fc(0x872)]||_0x2d0688['stem'],'wasConfident':_0x566d25};_0x11d7f2[_0x2664fc(0x6d5)+_0xe50d56+_0x2664fc(0x8a3)]=arrayUnion(_0x5c49c4),await updateDoc(_0x514a57,_0x11d7f2);}initialize();
