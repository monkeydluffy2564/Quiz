const _0x45c2ac=_0x1af4;(function(_0x12392e,_0x245155){const _0x5df69c=_0x1af4,_0x18d189=_0x12392e();while(!![]){try{const _0x599d0f=-parseInt(_0x5df69c(0x9d9))/0x1*(parseInt(_0x5df69c(0x921))/0x2)+parseInt(_0x5df69c(0x46a))/0x3+-parseInt(_0x5df69c(0x991))/0x4+-parseInt(_0x5df69c(0xb9f))/0x5+-parseInt(_0x5df69c(0xa10))/0x6*(parseInt(_0x5df69c(0xbb2))/0x7)+-parseInt(_0x5df69c(0xbc))/0x8*(parseInt(_0x5df69c(0x9a0))/0x9)+parseInt(_0x5df69c(0x8a4))/0xa*(parseInt(_0x5df69c(0x494))/0xb);if(_0x599d0f===_0x245155)break;else _0x18d189['push'](_0x18d189['shift']());}catch(_0x2f4611){_0x18d189['push'](_0x18d189['shift']());}}}(_0x31c9,0x2d639));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=['นักล่าฝัน',_0x45c2ac(0x697),_0x45c2ac(0xf5),_0x45c2ac(0x44d),_0x45c2ac(0x739),_0x45c2ac(0x34a),_0x45c2ac(0xd30),_0x45c2ac(0x400),_0x45c2ac(0x8fd),'จิงโจ้สโลว์ไลฟ์',_0x45c2ac(0x73b),_0x45c2ac(0x8e2),_0x45c2ac(0xc48),'สายลมแห่งโชคชะตา',_0x45c2ac(0x508),_0x45c2ac(0x50b),_0x45c2ac(0x123),_0x45c2ac(0x2c2),'โจรสลัดอวกาศ',_0x45c2ac(0x551),_0x45c2ac(0xbe),_0x45c2ac(0x4ae),'ปลาทูคะนอง',_0x45c2ac(0xa9e),_0x45c2ac(0x55a),_0x45c2ac(0xa29),'กระต่ายตื่นตูม',_0x45c2ac(0xd32),_0x45c2ac(0x62c),_0x45c2ac(0x748),'ยอดนักสืบ',_0x45c2ac(0x201),_0x45c2ac(0xa25),_0x45c2ac(0x946),_0x45c2ac(0xad8),'CEOพันล้าน',_0x45c2ac(0x429),_0x45c2ac(0xc07),'เน็ตไอดอล',_0x45c2ac(0x176),_0x45c2ac(0x46b),_0x45c2ac(0x9d3),'ส้มตำปูปลาร้า','พิซซ่าหน้าทุเรียน',_0x45c2ac(0xd1e),_0x45c2ac(0x982),_0x45c2ac(0x92),_0x45c2ac(0x1c8),_0x45c2ac(0xc1a),_0x45c2ac(0xb45),_0x45c2ac(0xc10),_0x45c2ac(0xbb7),_0x45c2ac(0x43d),'นอนไม่พอ',_0x45c2ac(0xe0),_0x45c2ac(0x41b),_0x45c2ac(0x4dc),_0x45c2ac(0x945),'404\x20Not\x20Found',_0x45c2ac(0x853),_0x45c2ac(0x981),_0x45c2ac(0x4a8),_0x45c2ac(0x21e),_0x45c2ac(0x656),'ดวงดาว',_0x45c2ac(0xba4),_0x45c2ac(0x4c6),'ภูเขา',_0x45c2ac(0x300),_0x45c2ac(0x5fb),_0x45c2ac(0xb93),_0x45c2ac(0xacc),'เกมเมอร์','ศิลปิน',_0x45c2ac(0xc4),_0x45c2ac(0x447),'นักวิทยาศาสตร์','นักประดิษฐ์',_0x45c2ac(0x4c8),'ครูใหญ่',_0x45c2ac(0xc3c),_0x45c2ac(0x438),_0x45c2ac(0xa33),_0x45c2ac(0x723),'ดาบพิฆาตอสูร',_0x45c2ac(0x163),_0x45c2ac(0x691),_0x45c2ac(0x7a3),'กัปตัน','ฮัลค์',_0x45c2ac(0x634),'คนโสด',_0x45c2ac(0xc43),_0x45c2ac(0x928),_0x45c2ac(0xa2a),_0x45c2ac(0x5c6),_0x45c2ac(0x3e9),_0x45c2ac(0x428),_0x45c2ac(0x378),'มูเตลู'];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x45c2ac(0xf3),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId='all',parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x45c2ac(0xf3),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x44d49d=_0x45c2ac;if('wakeLock'in navigator)try{wakeLock=await navigator['wakeLock'][_0x44d49d(0x191)]('screen'),console[_0x44d49d(0x241)](_0x44d49d(0xa4b)),wakeLock['addEventListener'](_0x44d49d(0x455),()=>{const _0x231cd1=_0x44d49d;console[_0x231cd1(0x241)](_0x231cd1(0xa43));});}catch(_0x374f9c){console[_0x44d49d(0x4da)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x374f9c[_0x44d49d(0x224)]+',\x20'+_0x374f9c[_0x44d49d(0xc97)]);}else console[_0x44d49d(0xc1d)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x155b55=_0x45c2ac;wakeLock!==null&&(await wakeLock[_0x155b55(0x455)](),wakeLock=null,console[_0x155b55(0x241)](_0x155b55(0x29d)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x55d3aa=_0x45c2ac;if(!document['body'][_0x55d3aa(0x707)][_0x55d3aa(0xb7c)](_0x55d3aa(0xabe))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0xe9d29c=_0x55d3aa;document[_0xe9d29c(0xb1)][_0xe9d29c(0x707)][_0xe9d29c(0xbfd)](_0xe9d29c(0xabe)),console[_0xe9d29c(0x241)](_0xe9d29c(0xad4));},inactivityTime);}}function wakeUpScreen(_0x45a4e0){const _0x583b99=_0x45c2ac;_0x45a4e0&&(_0x45a4e0['stopPropagation'](),_0x45a4e0[_0x583b99(0x5be)]());document[_0x583b99(0xb1)][_0x583b99(0x707)][_0x583b99(0x6d1)](_0x583b99(0xabe));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x4d777b=_0x583b99;document['body'][_0x4d777b(0x707)][_0x4d777b(0xbfd)](_0x4d777b(0xabe));},inactivityTime);}function stopDimTimer(){const _0x466632=_0x45c2ac;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x466632(0x707)][_0x466632(0x6d1)](_0x466632(0xabe)),window[_0x466632(0xb74)](_0x466632(0x524),resetDimTimer),window[_0x466632(0xb74)](_0x466632(0x8c5),resetDimTimer),window[_0x466632(0xb74)](_0x466632(0x79f),resetDimTimer),window[_0x466632(0xb74)](_0x466632(0x503),resetDimTimer),console['log'](_0x466632(0x8f));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x2034c1,_0x4a96bc=![]){const _0x42701f=_0x45c2ac,_0x1ee787=allQuizzes['find'](_0x33137e=>_0x33137e['id']===_0x2034c1)||allQuizzesGlobal[_0x42701f(0x7c7)](_0x27321b=>_0x27321b['id']===_0x2034c1);if(!_0x1ee787){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x1ee787);const _0x399bdf=Math['floor'](0x3e8+Math[_0x42701f(0x3c0)]()*0x2328)[_0x42701f(0xe2)]();try{const _0x14a5b9=await addDoc(collection(db,_0x42701f(0x47d)+appId+_0x42701f(0x8fc)),{'quizId':_0x1ee787['id'],'projectId':_0x1ee787[_0x42701f(0x12d)],'status':_0x42701f(0x659),'pin':_0x399bdf,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4a96bc});currentTeamQuizId=_0x14a5b9['id'],showView(_0x42701f(0x6cd)),renderAdminTeamQuizDashboard(_0x399bdf,_0x1ee787[_0x42701f(0x26f)]),listenForTeamQuizUpdates();}catch(_0x5b8ef7){console[_0x42701f(0x4da)](_0x42701f(0x90c),_0x5b8ef7),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x1aae26,_0x35e79f,_0x5b3d60=_0x45c2ac(0x5bb)){const _0x50bea5=_0x45c2ac,_0x1b5537=_0x5b3d60==='group'?_0x50bea5(0x54d):_0x50bea5(0x1de);liveGameView['innerHTML']=_0x50bea5(0x64e)+_0x1b5537+':\x20'+_0x35e79f+_0x50bea5(0x93a)+_0x1aae26+_0x50bea5(0xcfb),document[_0x50bea5(0x286)](_0x50bea5(0x985))[_0x50bea5(0x504)](_0x50bea5(0x936),async()=>{const _0x366a62=_0x50bea5;showConfirmation(_0x366a62(0xc63),async()=>{const _0xe6ec5d=_0x366a62;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0xe6ec5d(0x47d)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView(_0xe6ec5d(0x56d));});});}function listenForTeamQuizUpdates(){const _0xf5dc7a=_0x45c2ac;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x5ae913=doc(db,_0xf5dc7a(0x47d)+appId+_0xf5dc7a(0x8fc),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x5ae913,_0x5126b8=>{const _0x4cc37f=_0xf5dc7a;if(!_0x5126b8[_0x4cc37f(0x6cc)]()){sessionStorage['removeItem']('activeGameSession');if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x4cc37f(0x1b4));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x4cc37f(0x11d)?showView(_0x4cc37f(0x56d)):showView(_0x4cc37f(0x509));return;}const _0x3f1ad2=_0x5126b8[_0x4cc37f(0x10a)]();if(currentMode===_0x4cc37f(0x11d)){if(_0x3f1ad2['mode']===_0x4cc37f(0xc6f)&&_0x3f1ad2[_0x4cc37f(0xc3e)]!==_0x4cc37f(0x8f6)&&_0x3f1ad2['status']!==_0x4cc37f(0x8b5)){const _0x219516=Object[_0x4cc37f(0xa8e)](_0x3f1ad2[_0x4cc37f(0x294)]||{});if(_0x219516[_0x4cc37f(0xb81)]>0x0){const _0x2feff7=_0x219516[_0x4cc37f(0x61b)](_0x208d90=>_0x208d90[_0x4cc37f(0x7b4)]===!![]);_0x2feff7&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x3f1ad2);}else{if(_0x3f1ad2[_0x4cc37f(0xc3e)]==='podium'||_0x3f1ad2[_0x4cc37f(0xc3e)]===_0x4cc37f(0x8b5)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x3f1ad2['mode']==='group'){const _0x59d770=_0x3f1ad2[_0x4cc37f(0x294)][userId];(!_0x59d770||!_0x59d770[_0x4cc37f(0x7b4)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x59b5f0){const _0xb9aa22=_0x45c2ac;console[_0xb9aa22(0x241)](_0xb9aa22(0x9f1));const _0x528de7=doc(db,_0xb9aa22(0x47d)+appId+'/public/data/teamQuizzes',_0x59b5f0);try{const _0x3b93ee=await getDoc(_0x528de7);if(_0x3b93ee[_0xb9aa22(0x6cc)]()){const _0x2504e2=_0x3b93ee['data']();_0x2504e2[_0xb9aa22(0xbdc)]&&await saveGameResultsAsSubmissions(_0x2504e2);}await updateDoc(_0x528de7,{'status':'podium'});}catch(_0x297ed3){console[_0xb9aa22(0x4da)](_0xb9aa22(0x4ce),_0x297ed3);}}function updateAdminTeamDashboard(_0x55c4d1){const _0xe99cbb=_0x45c2ac,_0x523ee2=document['getElementById'](_0xe99cbb(0x418));if(!_0x523ee2)return;const _0x394ba0=_0x55c4d1[_0xe99cbb(0x253)]||_0xe99cbb(0x5bb),_0x2b0edc=currentQuizData[_0xe99cbb(0xbc3)]['length'];if(_0x394ba0===_0xe99cbb(0xc6f)){const _0x5a69d2=Object[_0xe99cbb(0xa8e)](_0x55c4d1[_0xe99cbb(0x294)]||{});if(_0x5a69d2[_0xe99cbb(0xb81)]===0x0){_0x523ee2[_0xe99cbb(0x6ef)]=_0xe99cbb(0x4e6);return;}const _0x1dbe89=[..._0x5a69d2]['sort']((_0x2a42a0,_0x193664)=>_0x193664[_0xe99cbb(0x248)]-_0x2a42a0[_0xe99cbb(0x248)]),_0x107728=_0x1dbe89[_0xe99cbb(0x764)]((_0x559f8f,_0x538631)=>{const _0xf9485b=_0xe99cbb,_0x1e5561=_0x559f8f['answers']?.['length']||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x538631+0x1)+_0xf9485b(0x5a9)+_0x559f8f[_0xf9485b(0x9c5)][_0xf9485b(0x6da)](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x1e5561+'/'+_0x2b0edc+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x559f8f['score']+_0xf9485b(0x81e);})[_0xe99cbb(0x6da)](''),_0x3e90f5=currentQuizData['questions'][_0xe99cbb(0x764)]((_0x3837d2,_0x5f3018)=>{const _0x14b6fc=_0xe99cbb;let _0x55c4a4=0x0,_0x5a6d58=0x0;_0x5a69d2[_0x14b6fc(0x94d)](_0x3e12d9=>{const _0x18c684=_0x14b6fc,_0x2fa628=_0x3e12d9['answers']?.[_0x18c684(0x7c7)](_0x31c6a1=>_0x31c6a1[_0x18c684(0xa05)]===_0x5f3018);if(_0x2fa628){_0x5a6d58++;if(_0x2fa628[_0x18c684(0x995)])_0x55c4a4++;}});const _0x4b63b3=_0x5a6d58>0x0&&_0x5a6d58===_0x5a69d2['length'],_0x530932=_0x4b63b3?'bg-green-200\x20text-green-900\x20font-bold':_0x14b6fc(0x719),_0x454c49=_0x4b63b3?_0x14b6fc(0x64d):'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x530932+_0x14b6fc(0x290)+(_0x5f3018+0x1)+_0x14b6fc(0x4ab)+_0x454c49+_0x14b6fc(0x89f)+_0x55c4a4+'/'+_0x5a69d2['length']+'\x20กลุ่ม</p></div>';})[_0xe99cbb(0x6da)]('');_0x523ee2[_0xe99cbb(0x6ef)]=_0xe99cbb(0x788)+_0x107728+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x3e90f5+'</div></div></div>';return;}const _0x52cd40=_0x55c4d1['responses']||{},_0x2b0bfe=Object['keys'](_0x52cd40);if(_0x2b0bfe[_0xe99cbb(0xb81)]===0x0){_0x523ee2[_0xe99cbb(0x6ef)]=_0xe99cbb(0xb40);return;}const _0x3a1443=_0x2b0bfe[_0xe99cbb(0x764)](_0x155483=>({'name':_0x155483,'score':_0x52cd40[_0x155483]['score']||0x0}))[_0xe99cbb(0x276)]((_0x53eed1,_0x4ac769)=>_0x4ac769['score']-_0x53eed1[_0xe99cbb(0x248)]),_0x4d80cd=_0x3a1443[_0xe99cbb(0x764)](_0x4f50b9=>{const _0x263963=_0xe99cbb,_0xcc6688=_0x52cd40[_0x4f50b9[_0x263963(0x224)]]?.['answers']?.[_0x263963(0xb81)]||0x0,_0x1eb0f0=Math[_0x263963(0x228)](_0x2b0edc/_0x2b0bfe['length']);return _0x263963(0x3ea)+_0x4f50b9[_0x263963(0x224)]+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0xcc6688+'/'+_0x1eb0f0+'\x20ตา)</span></span><span\x20class=\x22font-bold\x22>'+_0x4f50b9[_0x263963(0x248)]+_0x263963(0x1be);})[_0xe99cbb(0x6da)](''),_0x5d9682=_0x2b0bfe[_0xe99cbb(0xd34)]((_0x292f02,_0x1b7380)=>_0x292f02+(_0x52cd40[_0x1b7380]['answers']?.['length']||0x0),0x0),_0x2788fc=currentQuizData[_0xe99cbb(0xbc3)]['map']((_0xe2449,_0x2df097)=>{const _0x5d5228=_0xe99cbb;let _0x245837=null,_0x2261f0=null;for(const _0x4823ff of _0x2b0bfe){const _0x4952ab=_0x52cd40[_0x4823ff][_0x5d5228(0x8a5)]?.[_0x5d5228(0x7c7)](_0x42caed=>_0x42caed[_0x5d5228(0xa05)]===_0x2df097);if(_0x4952ab){_0x245837=_0x4952ab,_0x2261f0=_0x4823ff;break;}}const _0x479175=!!_0x245837,_0x37f68b=_0x479175&&_0x245837[_0x5d5228(0x995)],_0x4c44b8=(Math[_0x5d5228(0xb7e)](_0x2df097/_0x2b0bfe['length'])+0x1)*_0x2b0bfe[_0x5d5228(0xb81)],_0x25cfd6=_0x5d9682>=_0x4c44b8,_0x249781=_0x25cfd6?_0x5d5228(0xcaa):'bg-black/10',_0x474823=_0x25cfd6?_0x5d5228(0x64d):'';let _0x2b5437='รอ...';return _0x479175&&(_0x2b5437=_0x2261f0+_0x5d5228(0x514)+(_0x37f68b?'ถูก':'ผิด')),_0x5d5228(0xd3a)+_0x249781+_0x5d5228(0x290)+(_0x2df097+0x1)+_0x5d5228(0x4ab)+_0x474823+_0x5d5228(0x974)+_0x2b5437+_0x5d5228(0x113);})[_0xe99cbb(0x6da)]('');_0x523ee2['innerHTML']=_0xe99cbb(0xba3)+_0x4d80cd+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x2788fc+_0xe99cbb(0x766);}async function handleJoinTeamQuiz(){const _0x44228b=_0x45c2ac,_0x38021d=prompt(_0x44228b(0x562));if(!_0x38021d||_0x38021d[_0x44228b(0x543)]()[_0x44228b(0xb81)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0xb0b564=collection(db,_0x44228b(0x47d)+appId+_0x44228b(0x8fc)),_0x350be0=query(_0xb0b564,where(_0x44228b(0x205),'==',_0x38021d[_0x44228b(0x543)]()),where(_0x44228b(0xc3e),'==',_0x44228b(0x659))),_0x39d895=await getDocs(_0x350be0);if(_0x39d895['empty']){showMessage(_0x44228b(0x27b));return;}const _0x3a2eb9=_0x39d895[_0x44228b(0x22c)][0x0];currentTeamQuizId=_0x3a2eb9['id'];const _0x388eae=_0x3a2eb9[_0x44228b(0x10a)](),_0x365961=doc(db,_0x44228b(0x47d)+appId+_0x44228b(0x99f),_0x388eae[_0x44228b(0x12d)]),_0x5c7143=doc(db,'artifacts/'+appId+_0x44228b(0x5d7),_0x388eae[_0x44228b(0x476)]),[_0x53dcf6,_0xe33826]=await Promise[_0x44228b(0xf3)]([getDoc(_0x365961),getDoc(_0x5c7143)]);if(!_0x53dcf6[_0x44228b(0x6cc)]()||!_0xe33826['exists']())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0xe33826['id'],..._0xe33826['data']()});const _0x12ac40=_0x53dcf6[_0x44228b(0x10a)]();showTeamPlayerSelection(_0x12ac40[_0x44228b(0xcaf)],currentQuizData[_0x44228b(0x26f)]);}catch(_0x7e20ff){console[_0x44228b(0x4da)](_0x44228b(0x263),_0x7e20ff),showMessage(_0x44228b(0x1ae)+_0x7e20ff[_0x44228b(0xc97)]);}}async function handleJoinGroupActivity(){const _0x4d1e22=_0x45c2ac,_0x52fa76=prompt('กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):');if(!_0x52fa76||_0x52fa76[_0x4d1e22(0x543)]()['length']!==0x4){showMessage(_0x4d1e22(0x152));return;}const _0x33b6e9=_0x52fa76[_0x4d1e22(0x543)]();showMessage(_0x4d1e22(0x1c2));try{const _0x4a9a8c=collection(db,_0x4d1e22(0x47d)+appId+_0x4d1e22(0x8fc)),_0x27e838=query(_0x4a9a8c,where(_0x4d1e22(0x205),'==',_0x33b6e9),where('status','==',_0x4d1e22(0x659))),_0x3d5794=await getDocs(_0x27e838);if(!_0x3d5794[_0x4d1e22(0x500)]){console[_0x4d1e22(0x241)](_0x4d1e22(0xa45)),await proceedWithTeamQuizJoin(_0x3d5794[_0x4d1e22(0x22c)][0x0]);return;}const _0x1c8277=collection(db,_0x4d1e22(0x47d)+appId+_0x4d1e22(0x817)),_0x553ce1=query(_0x1c8277,where('pin','==',_0x33b6e9),where(_0x4d1e22(0xc3e),'in',[_0x4d1e22(0x659),_0x4d1e22(0x5d6),'summary',_0x4d1e22(0x335)])),_0x1993a7=await getDocs(_0x553ce1);if(!_0x1993a7['empty']){console[_0x4d1e22(0x241)](_0x4d1e22(0x3ad)),await proceedWithSyncQuizJoin(_0x1993a7[_0x4d1e22(0x22c)][0x0]);return;}showMessage(_0x4d1e22(0x534));}catch(_0x54d15a){console[_0x4d1e22(0x4da)](_0x4d1e22(0xb39),_0x54d15a),showMessage(_0x4d1e22(0x56c)+_0x54d15a[_0x4d1e22(0xc97)]);}}async function proceedWithTeamQuizJoin(_0x5d3831){const _0x227379=_0x45c2ac;currentTeamQuizId=_0x5d3831['id'];const _0x2d124e=_0x5d3831[_0x227379(0x10a)](),_0x19e034=doc(db,_0x227379(0x47d)+appId+'/public/data/projects',_0x2d124e[_0x227379(0x12d)]),_0x3beee3=doc(db,'artifacts/'+appId+_0x227379(0x5d7),_0x2d124e['quizId']),[_0x4ea3ea,_0x2c3afb]=await Promise[_0x227379(0xf3)]([getDoc(_0x19e034),getDoc(_0x3beee3)]);if(!_0x4ea3ea[_0x227379(0x6cc)]()||!_0x2c3afb[_0x227379(0x6cc)]())throw new Error(_0x227379(0x5af));currentQuizData=getShuffledQuiz({'id':_0x2c3afb['id'],..._0x2c3afb['data']()}),showTeamPlayerSelection(_0x4ea3ea[_0x227379(0x10a)]()[_0x227379(0xcaf)],currentQuizData[_0x227379(0x26f)],_0x2d124e[_0x227379(0x253)]||_0x227379(0x5bb)),messageModal[_0x227379(0x707)][_0x227379(0xbfd)]('hidden');}async function proceedWithSyncQuizJoin(_0x2e9d81){const _0x535e8b=_0x45c2ac;currentLiveGameId=_0x2e9d81['id'];const _0x15d9e2=_0x2e9d81[_0x535e8b(0x10a)](),_0x528006=doc(db,_0x535e8b(0x47d)+appId+_0x535e8b(0x5d7),_0x15d9e2[_0x535e8b(0x476)]),_0x221d8c=await getDoc(_0x528006);if(!_0x221d8c['exists']())throw new Error(_0x535e8b(0x989));const _0x25e936=_0x221d8c['data'](),_0x5c311f=doc(db,_0x535e8b(0x47d)+appId+_0x535e8b(0x99f),_0x25e936[_0x535e8b(0x12d)]),_0x155950=await getDoc(_0x5c311f);if(!_0x155950['exists']())throw new Error(_0x535e8b(0x340));currentQuizData=_0x15d9e2[_0x535e8b(0x8d0)],showView(_0x535e8b(0xb07)),showTeamPlayerSelection(_0x155950['data']()['students'],_0x25e936[_0x535e8b(0x26f)],'sync');const _0x219c9b=document['getElementById'](_0x535e8b(0x5ef)),_0x2fb745=_0x219c9b[_0x535e8b(0xa21)](!![]);_0x219c9b[_0x535e8b(0x9dd)]['replaceChild'](_0x2fb745,_0x219c9b),_0x2fb745['onclick']=confirmAndJoinSyncGame,messageModal[_0x535e8b(0x707)]['add'](_0x535e8b(0xb5c));}function getCleanApplicationHTML(){const _0x14942a=_0x45c2ac,_0x4049e4=document[_0x14942a(0x286)](_0x14942a(0x74a));if(!_0x4049e4)return'';const _0x337d79=_0x4049e4[_0x14942a(0xa21)](!![]);return _0x337d79['querySelectorAll'](_0x14942a(0x8a8))['forEach'](_0x22f963=>{const _0x38de01=_0x14942a;_0x22f963['classList']['remove'](_0x38de01(0x3bd),'incorrect'),_0x22f963[_0x38de01(0x790)]=![];}),_0x337d79[_0x14942a(0x6ef)];}function showTeamPlayerSelection(_0x424ae,_0x2be029,_0x2ab67e=_0x45c2ac(0x5bb)){const _0x2faca3=_0x45c2ac;studentInitialView['classList'][_0x2faca3(0xbfd)](_0x2faca3(0xb5c)),studentJoinGameView[_0x2faca3(0x707)]['add'](_0x2faca3(0xb5c)),document[_0x2faca3(0x286)]('student-team-selection-view')[_0x2faca3(0x707)][_0x2faca3(0x6d1)](_0x2faca3(0xb5c));let _0x2a1514='Team\x20Quiz';if(_0x2ab67e===_0x2faca3(0xc6f))_0x2a1514=_0x2faca3(0x54d);else _0x2ab67e==='sync'&&(_0x2a1514=_0x2faca3(0xb91));document['getElementById'](_0x2faca3(0x1e7))[_0x2faca3(0x10e)]=_0x2a1514+':\x20'+_0x2be029;const _0x1c8e71=document[_0x2faca3(0x286)](_0x2faca3(0xb0b));if(!_0x424ae||_0x424ae[_0x2faca3(0xb81)]===0x0){_0x1c8e71['innerHTML']=_0x2faca3(0xaad),document[_0x2faca3(0x286)](_0x2faca3(0x5ef))[_0x2faca3(0x790)]=!![];return;}_0x1c8e71[_0x2faca3(0x6ef)]=_0x424ae[_0x2faca3(0x764)](_0x4ce8d0=>_0x2faca3(0x4b2)+_0x4ce8d0+_0x2faca3(0xbdd)+_0x4ce8d0+_0x2faca3(0xb9))[_0x2faca3(0x6da)](''),document[_0x2faca3(0x286)](_0x2faca3(0x5ef))[_0x2faca3(0x790)]=![];}async function confirmAndStartTeamQuiz(){const _0x180146=_0x45c2ac,_0x220963=Array[_0x180146(0xba1)](document['querySelectorAll'](_0x180146(0x316)))['map'](_0x5d48f3=>_0x5d48f3[_0x180146(0x227)]);if(_0x220963[_0x180146(0xb81)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x220963,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x43beff=doc(db,_0x180146(0x47d)+appId+_0x180146(0x8fc),currentTeamQuizId);try{const _0x581f03=await getDoc(_0x43beff);if(!_0x581f03[_0x180146(0x6cc)]())throw new Error('ไม่พบข้อมูลเกม');const _0x5ab8e4=_0x581f03[_0x180146(0x10a)]();if(_0x5ab8e4[_0x180146(0x253)]===_0x180146(0xc6f)){const _0x23c030={[_0x180146(0xb64)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x43beff,_0x23c030);}else{const _0x31eec1=_0x5ab8e4['responses']||{};localTeamPlayers[_0x180146(0x94d)](_0x235756=>{!_0x31eec1[_0x235756]&&(_0x31eec1[_0x235756]={'score':0x0,'answers':[]});}),await updateDoc(_0x43beff,{'responses':_0x31eec1});}document[_0x180146(0x286)](_0x180146(0x186))[_0x180146(0x707)][_0x180146(0xbfd)]('hidden'),renderTeamQuizQuestion();const _0x53f0c8={'gameId':currentTeamQuizId,'mode':_0x5ab8e4[_0x180146(0x253)]||'team','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x180146(0x6bd)](_0x180146(0x5dc),JSON[_0x180146(0x2d7)](_0x53f0c8)),listenForTeamQuizUpdates();}catch(_0x3106ed){console[_0x180146(0x4da)](_0x180146(0x5c8),_0x3106ed),showMessage(_0x180146(0x687));}}async function renderTeamQuizQuestion(){const _0xb9d310=_0x45c2ac;if(localQuestionIndex>=currentQuizData['questions']['length']){displayTeamQuizFinalResults();return;}const _0x43a6fa=currentQuizData[_0xb9d310(0xbc3)][localQuestionIndex],_0x4d1f74=localTeamPlayers[localPlayerIndex],_0x30f7b2=_0x43a6fa[_0xb9d310(0x9f5)]||currentQuizData[_0xb9d310(0x480)];let _0x5c615a=_0x43a6fa[_0xb9d310(0xcfa)]||_0x43a6fa[_0xb9d310(0x3a5)],_0x5cceca='';switch(_0x30f7b2){case'multiple_choice':case _0xb9d310(0xa4f):_0x5cceca=_0x43a6fa[_0xb9d310(0xa07)][_0xb9d310(0x764)]((_0x3eae11,_0x1213f6)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x1213f6+_0xb9d310(0x71a)+_0x1213f6+_0xb9d310(0x3bf)+_0x1213f6+'\x22>'+_0x3eae11+_0xb9d310(0x42b))[_0xb9d310(0x6da)]('');break;case _0xb9d310(0xcbb):_0x5cceca='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0xb9d310(0x27d):case'fill_in_no_choices':_0x5cceca='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case _0xb9d310(0x2d6):_0x5cceca=_0xb9d310(0x1d6)+_0x43a6fa['allResponses'][_0xb9d310(0x764)](_0x431416=>_0xb9d310(0xba2)+_0x431416+'\x22>'+_0x431416+_0xb9d310(0x978))[_0xb9d310(0x6da)]('')+'</select>';break;default:_0x5cceca=_0xb9d310(0x9db);break;}studentQuizArea[_0xb9d310(0x6ef)]=_0xb9d310(0x2e3)+(localQuestionIndex+0x1)+_0xb9d310(0x234)+currentQuizData[_0xb9d310(0xbc3)][_0xb9d310(0xb81)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x4d1f74+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x5c615a+_0xb9d310(0xea)+(_0x43a6fa[_0xb9d310(0xb04)]?_0xb9d310(0x29c)+_0x43a6fa[_0xb9d310(0xb04)]+_0xb9d310(0x6c2):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x5cceca+_0xb9d310(0x93e),studentQuizArea['classList'][_0xb9d310(0x6d1)](_0xb9d310(0xb5c));if(window[_0xb9d310(0x36f)])MathJax[_0xb9d310(0x8c4)]([studentQuizArea]);document[_0xb9d310(0x286)](_0xb9d310(0x5e5))[_0xb9d310(0x504)](_0xb9d310(0x936),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x3899b1=_0x45c2ac,_0x2283a2=currentQuizData[_0x3899b1(0xbc3)][localQuestionIndex],_0x8d2e9c=_0x2283a2[_0x3899b1(0x9f5)]||currentQuizData['quizType'];let _0x180301=null,_0x227ee2=![];if(_0x8d2e9c===_0x3899b1(0x27d)||_0x8d2e9c===_0x3899b1(0x12e)){const _0x3398ea=document[_0x3899b1(0x443)](_0x3899b1(0xcd9));if(!_0x3398ea||!_0x3398ea[_0x3899b1(0x227)][_0x3899b1(0x543)]()){showMessage(_0x3899b1(0x2e9));return;}_0x180301=_0x3398ea[_0x3899b1(0x227)][_0x3899b1(0x543)](),_0x227ee2=await gradeShortAnswer(_0x180301,_0x2283a2);}else{const _0x577169=document['querySelector']('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x577169||_0x577169['value']===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x180301=_0x577169[_0x3899b1(0x227)];switch(_0x8d2e9c){case'true_false':_0x227ee2=_0x180301===_0x3899b1(0x160)===_0x2283a2[_0x3899b1(0xc42)];break;case _0x3899b1(0x2d6):_0x227ee2=_0x180301===_0x2283a2[_0x3899b1(0x7a5)];break;default:_0x227ee2=parseInt(_0x180301)===_0x2283a2[_0x3899b1(0xc51)];break;}}const _0x1343ff={'questionIndex':localQuestionIndex,'isCorrect':_0x227ee2},_0x58e59f=userId,_0x5c6b00={[_0x3899b1(0xb64)+_0x58e59f+_0x3899b1(0xa47)]:arrayUnion(_0x1343ff)};_0x227ee2&&(_0x5c6b00['groups.'+_0x58e59f+_0x3899b1(0x90e)]=increment(0x1));try{await updateDoc(doc(db,_0x3899b1(0x47d)+appId+_0x3899b1(0x8fc),currentTeamQuizId),_0x5c6b00),localQuestionIndex++,localQuestionIndex>=currentQuizData['questions'][_0x3899b1(0xb81)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x136b25){console[_0x3899b1(0x4da)]('Error\x20submitting\x20group\x20answer:',_0x136b25),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x2906a1=_0x45c2ac,_0x162da9=await getDoc(doc(db,_0x2906a1(0x47d)+appId+_0x2906a1(0x8fc),currentTeamQuizId));if(!_0x162da9[_0x2906a1(0x6cc)]())return;const _0x2d5521=_0x162da9[_0x2906a1(0x10a)]();if(_0x2d5521[_0x2906a1(0x253)]===_0x2906a1(0xc6f)){handleGroupAnswerSubmit();return;}const _0x1961fb=localTeamPlayers[localPlayerIndex],_0xed80de=currentQuizData[_0x2906a1(0xbc3)][localQuestionIndex],_0x4bd465=_0xed80de[_0x2906a1(0x9f5)]||currentQuizData[_0x2906a1(0x480)];let _0x28762a=null,_0x94e906=![];if(_0x4bd465===_0x2906a1(0x27d)||_0x4bd465===_0x2906a1(0x12e)){const _0x481679=document[_0x2906a1(0x443)](_0x2906a1(0xcd9));if(!_0x481679||!_0x481679[_0x2906a1(0x227)][_0x2906a1(0x543)]()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0x28762a=_0x481679[_0x2906a1(0x227)][_0x2906a1(0x543)](),_0x94e906=await gradeShortAnswer(_0x28762a,_0xed80de);}else{const _0x52f45d=document[_0x2906a1(0x443)](_0x2906a1(0xd06));if(!_0x52f45d||_0x52f45d['value']===''){showMessage(_0x2906a1(0x85b));return;}_0x28762a=_0x52f45d[_0x2906a1(0x227)];switch(_0x4bd465){case _0x2906a1(0xcbb):_0x94e906=_0x28762a==='true'===_0xed80de[_0x2906a1(0xc42)];break;case _0x2906a1(0x2d6):_0x94e906=_0x28762a===_0xed80de[_0x2906a1(0x7a5)];break;default:_0x94e906=parseInt(_0x28762a)===_0xed80de[_0x2906a1(0xc51)];break;}}const _0x31b4c6={'questionIndex':localQuestionIndex,'isCorrect':_0x94e906,'answerValue':_0x28762a},_0x294010={[_0x2906a1(0x97e)+_0x1961fb+_0x2906a1(0xa47)]:arrayUnion(_0x31b4c6)};_0x94e906&&(_0x294010[_0x2906a1(0x97e)+_0x1961fb+'.score']=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x2906a1(0x8fc),currentTeamQuizId),_0x294010),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x2906a1(0xb81)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x417f94){console[_0x2906a1(0x4da)](_0x2906a1(0xe9),_0x417f94),showMessage(_0x2906a1(0x4f6));}}async function displayTeamQuizFinalResults(){const _0xd0f57b=_0x45c2ac;studentQuizArea[_0xd0f57b(0x707)][_0xd0f57b(0xbfd)](_0xd0f57b(0xb5c)),studentResultArea[_0xd0f57b(0x707)][_0xd0f57b(0x6d1)]('hidden');const _0x1f82f5=doc(db,_0xd0f57b(0x47d)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x3b9716=await getDoc(_0x1f82f5);if(!_0x3b9716['exists']()){studentResultArea[_0xd0f57b(0x6ef)]=_0xd0f57b(0x3fd);return;}const _0x1a94e8=_0x3b9716[_0xd0f57b(0x10a)]();let _0x1dc9ad=[];const _0x4ac958=_0x1a94e8[_0xd0f57b(0x253)]||'team';if(_0x4ac958==='group'){const _0x4fc450=_0x1a94e8[_0xd0f57b(0x294)][userId];_0x4fc450?_0x1dc9ad=[{'name':_0xd0f57b(0xb27)+localTeamPlayers[_0xd0f57b(0x6da)](',\x20'),'score':_0x4fc450[_0xd0f57b(0x248)]||0x0}]:_0x1dc9ad=[{'name':_0xd0f57b(0x6b0),'score':_0xd0f57b(0x7a0)}];}else _0x1dc9ad=localTeamPlayers['map'](_0x1dcd26=>({'name':_0x1dcd26,'score':_0x1a94e8['responses'][_0x1dcd26]?.[_0xd0f57b(0x248)]||0x0}))['sort']((_0x39e4c7,_0x447834)=>_0x447834[_0xd0f57b(0x248)]-_0x39e4c7['score']);studentResultArea['innerHTML']=_0xd0f57b(0xc47)+_0x1dc9ad[_0xd0f57b(0x764)](_0x1d4f98=>_0xd0f57b(0x45a)+_0x1d4f98[_0xd0f57b(0x224)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1d4f98[_0xd0f57b(0x248)]+_0xd0f57b(0x97d))[_0xd0f57b(0x6da)]('')+_0xd0f57b(0x3fb),sessionStorage[_0xd0f57b(0xca1)](_0xd0f57b(0x5dc)),currentMode===_0xd0f57b(0x11d)&&currentTeamQuizId&&setTimeout(()=>{const _0x2e304e=_0xd0f57b;deleteDoc(doc(db,_0x2e304e(0x47d)+appId+_0x2e304e(0x8fc),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x45c2ac(0x80d),'pinnedProjects':[],'projectView':_0x45c2ac(0xc0b)};const allMathTopics=[{'category':_0x45c2ac(0xb53),'name':'การนับ'},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x75)},{'category':'จำนวนและการดำเนินการ','name':_0x45c2ac(0x5b2)},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x702)},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0xc4e)},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x155)},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x614)},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x6fc)},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x8d7)},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0xc99)},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x862)},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x584)},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x89e)},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x83b)},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x779)},{'category':'จำนวนและการดำเนินการ','name':'ค.ร.น.\x20(LCM)'},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x8b4)},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x149)},{'category':'จำนวนและการดำเนินการ','name':_0x45c2ac(0x61a)},{'category':_0x45c2ac(0xb53),'name':'การบวกเศษส่วน'},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x572)},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x917)},{'category':_0x45c2ac(0xb53),'name':'การหารเศษส่วน'},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x7b5)},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0xa16)},{'category':'จำนวนและการดำเนินการ','name':'การบวกทศนิยม'},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x530)},{'category':'จำนวนและการดำเนินการ','name':'การคูณทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':_0x45c2ac(0x833)},{'category':'จำนวนและการดำเนินการ','name':_0x45c2ac(0x4d5)},{'category':'จำนวนและการดำเนินการ','name':'ร้อยละพื้นฐาน'},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x92f)},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x609)},{'category':_0x45c2ac(0xb53),'name':_0x45c2ac(0x8b7)},{'category':'จำนวนและการดำเนินการ','name':'รากที่สองและที่สาม'},{'category':'จำนวนและการดำเนินการ','name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x45c2ac(0xb53),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x45c2ac(0x85e),'name':_0x45c2ac(0x730)},{'category':_0x45c2ac(0x85e),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':'การวัด','name':_0x45c2ac(0x3ef)},{'category':_0x45c2ac(0x85e),'name':_0x45c2ac(0x19b)},{'category':_0x45c2ac(0x85e),'name':_0x45c2ac(0x515)},{'category':'การวัด','name':_0x45c2ac(0xbf7)},{'category':_0x45c2ac(0x85e),'name':_0x45c2ac(0x2d5)},{'category':_0x45c2ac(0x85e),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x45c2ac(0x85e),'name':_0x45c2ac(0x7f5)},{'category':_0x45c2ac(0x85e),'name':_0x45c2ac(0xd16)},{'category':_0x45c2ac(0x85e),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x45c2ac(0x85e),'name':_0x45c2ac(0x373)},{'category':'การวัด','name':_0x45c2ac(0x97c)},{'category':_0x45c2ac(0x85e),'name':_0x45c2ac(0xb6f)},{'category':_0x45c2ac(0xc7f),'name':_0x45c2ac(0xa3c)},{'category':_0x45c2ac(0xc7f),'name':'ความสัมพันธ์ของมุม'},{'category':_0x45c2ac(0xc7f),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':'เรขาคณิต','name':_0x45c2ac(0x4ef)},{'category':_0x45c2ac(0xc7f),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x45c2ac(0xc7f),'name':'ความคล้ายของรูป'},{'category':'เรขาคณิต','name':_0x45c2ac(0xb90)},{'category':_0x45c2ac(0xc7f),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x45c2ac(0xc7f),'name':_0x45c2ac(0x970)},{'category':_0x45c2ac(0xc7f),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x45c2ac(0xc7f),'name':_0x45c2ac(0x546)},{'category':'เรขาคณิต','name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0x45c2ac(0xc7f),'name':_0x45c2ac(0x9d7)},{'category':_0x45c2ac(0xc7f),'name':_0x45c2ac(0xb5e)},{'category':_0x45c2ac(0xc7f),'name':_0x45c2ac(0x7af)},{'category':_0x45c2ac(0x194),'name':_0x45c2ac(0x119)},{'category':_0x45c2ac(0x194),'name':_0x45c2ac(0x757)},{'category':_0x45c2ac(0x194),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x45c2ac(0x194),'name':_0x45c2ac(0x434)},{'category':_0x45c2ac(0x194),'name':_0x45c2ac(0xa2)},{'category':'พีชคณิตและฟังก์ชัน','name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x45c2ac(0x194),'name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x45c2ac(0x194),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x45c2ac(0x194),'name':_0x45c2ac(0xa91)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการเหตุผล\x20(rational)'},{'category':_0x45c2ac(0x194),'name':'สมการราก\x20(radical)'},{'category':_0x45c2ac(0x194),'name':_0x45c2ac(0x85d)},{'category':_0x45c2ac(0x194),'name':_0x45c2ac(0x2ce)},{'category':_0x45c2ac(0x194),'name':'อสมการเชิงเส้น'},{'category':'พีชคณิตและฟังก์ชัน','name':'อสมการค่าสัมบูรณ์'},{'category':_0x45c2ac(0x194),'name':_0x45c2ac(0x261)},{'category':_0x45c2ac(0x194),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x45c2ac(0x194),'name':_0x45c2ac(0x35b)},{'category':_0x45c2ac(0x194),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x45c2ac(0x194),'name':'ฟังก์ชันผกผัน'},{'category':'พีชคณิตและฟังก์ชัน','name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x45c2ac(0x194),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x45c2ac(0x194),'name':_0x45c2ac(0x7d9)},{'category':_0x45c2ac(0x194),'name':_0x45c2ac(0xc22)},{'category':_0x45c2ac(0x194),'name':_0x45c2ac(0x9a3)},{'category':_0x45c2ac(0x194),'name':_0x45c2ac(0x275)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x45c2ac(0x2f1)},{'category':_0x45c2ac(0x194),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0x45c2ac(0x194),'name':_0x45c2ac(0xc2a)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันลอการิทึม'},{'category':_0x45c2ac(0x194),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x45c2ac(0x194),'name':_0x45c2ac(0x520)},{'category':_0x45c2ac(0x194),'name':_0x45c2ac(0x7e7)},{'category':'พีชคณิตและฟังก์ชัน','name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0x45c2ac(0x194),'name':_0x45c2ac(0x962)},{'category':'เรขาคณิตวิเคราะห์','name':_0x45c2ac(0xa62)},{'category':'เรขาคณิตวิเคราะห์','name':_0x45c2ac(0xaa8)},{'category':_0x45c2ac(0x5c3),'name':_0x45c2ac(0x6e8)},{'category':_0x45c2ac(0x5c3),'name':_0x45c2ac(0xa0a)},{'category':_0x45c2ac(0x5c3),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x45c2ac(0x5c3),'name':_0x45c2ac(0x72d)},{'category':_0x45c2ac(0x5c3),'name':_0x45c2ac(0x16b)},{'category':_0x45c2ac(0x5c3),'name':_0x45c2ac(0xce3)},{'category':'เรขาคณิตวิเคราะห์','name':_0x45c2ac(0x6ad)},{'category':_0x45c2ac(0xcb1),'name':_0x45c2ac(0x9e9)},{'category':_0x45c2ac(0xcb1),'name':_0x45c2ac(0xbaa)},{'category':'ตรีโกณมิติ','name':_0x45c2ac(0x1a2)},{'category':_0x45c2ac(0xcb1),'name':_0x45c2ac(0xca8)},{'category':_0x45c2ac(0xcb1),'name':'กฎของไซน์'},{'category':_0x45c2ac(0xcb1),'name':_0x45c2ac(0xe5)},{'category':_0x45c2ac(0xcb1),'name':_0x45c2ac(0x470)},{'category':_0x45c2ac(0xcb1),'name':'การแปลงรูปอัตลักษณ์'},{'category':'ตรีโกณมิติ','name':_0x45c2ac(0xc54)},{'category':_0x45c2ac(0xcb1),'name':_0x45c2ac(0xa86)},{'category':_0x45c2ac(0xcb1),'name':_0x45c2ac(0x2ae)},{'category':_0x45c2ac(0xc69),'name':_0x45c2ac(0x703)},{'category':_0x45c2ac(0xc69),'name':'การจัดกลุ่มข้อมูล'},{'category':_0x45c2ac(0xc69),'name':'ตารางความถี่'},{'category':_0x45c2ac(0xc69),'name':_0x45c2ac(0xa9b)},{'category':_0x45c2ac(0xc69),'name':_0x45c2ac(0xa09)},{'category':'สถิติและความน่าจะเป็น','name':_0x45c2ac(0x266)},{'category':_0x45c2ac(0xc69),'name':_0x45c2ac(0x535)},{'category':_0x45c2ac(0xc69),'name':'มัธยฐาน'},{'category':_0x45c2ac(0xc69),'name':_0x45c2ac(0xbd2)},{'category':_0x45c2ac(0xc69),'name':_0x45c2ac(0x1c7)},{'category':'สถิติและความน่าจะเป็น','name':_0x45c2ac(0x18b)},{'category':_0x45c2ac(0xc69),'name':'ความแปรปรวน'},{'category':_0x45c2ac(0xc69),'name':_0x45c2ac(0xb16)},{'category':_0x45c2ac(0xc69),'name':_0x45c2ac(0xc5f)},{'category':_0x45c2ac(0xc69),'name':_0x45c2ac(0xc6d)},{'category':'สถิติและความน่าจะเป็น','name':_0x45c2ac(0x458)},{'category':_0x45c2ac(0xc69),'name':_0x45c2ac(0xb85)},{'category':_0x45c2ac(0xc69),'name':'แผนภาพเวนน์'},{'category':_0x45c2ac(0xc69),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0x45c2ac(0xc69),'name':_0x45c2ac(0x874)},{'category':_0x45c2ac(0xc69),'name':_0x45c2ac(0x18d)},{'category':_0x45c2ac(0xc69),'name':_0x45c2ac(0x838)},{'category':_0x45c2ac(0xc69),'name':_0x45c2ac(0x4f8)},{'category':_0x45c2ac(0xc69),'name':_0x45c2ac(0xc85)},{'category':_0x45c2ac(0x371),'name':'ลิมิต'},{'category':'แคลคูลัสเบื้องต้น','name':'ความต่อเนื่อง'},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':'แคลคูลัสเบื้องต้น','name':_0x45c2ac(0x778)},{'category':_0x45c2ac(0x371),'name':_0x45c2ac(0x124)},{'category':'แคลคูลัสเบื้องต้น','name':_0x45c2ac(0x811)},{'category':_0x45c2ac(0x371),'name':_0x45c2ac(0x2db)},{'category':_0x45c2ac(0x371),'name':_0x45c2ac(0x1ed)},{'category':_0x45c2ac(0x371),'name':_0x45c2ac(0x63f)},{'category':_0x45c2ac(0x371),'name':_0x45c2ac(0x816)},{'category':'แคลคูลัสเบื้องต้น','name':_0x45c2ac(0x175)},{'category':_0x45c2ac(0x371),'name':_0x45c2ac(0x459)},{'category':'แคลคูลัสเบื้องต้น','name':_0x45c2ac(0xa42)},{'category':_0x45c2ac(0x433),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x45c2ac(0x22b)},{'category':_0x45c2ac(0x433),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x45c2ac(0x29e)},{'category':_0x45c2ac(0x433),'name':_0x45c2ac(0x7bd)},{'category':_0x45c2ac(0x433),'name':_0x45c2ac(0x15b)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x45c2ac(0x321)},{'category':_0x45c2ac(0x450),'name':'ดอกเบี้ยอย่างง่าย'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x45c2ac(0x9fa)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x45c2ac(0xbcf)},{'category':_0x45c2ac(0x450),'name':_0x45c2ac(0x4fa)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x45c2ac(0x302)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x45c2ac(0x9ad)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'รูปแบบการให้เหตุผล'},{'category':_0x45c2ac(0x82c),'name':_0x45c2ac(0x9ec)}];function renderTopicCheckboxes(){const _0xd4bf11=_0x45c2ac,_0x4dcb9e=document['getElementById']('math-topics-checkbox-container');if(!_0x4dcb9e)return;const _0x543170=allMathTopics,_0x173c13=customMathTopics[_0xd4bf11(0x764)](_0x33af58=>({'id':_0x33af58['id'],'category':_0xd4bf11(0xb0c),'name':_0x33af58[_0xd4bf11(0x224)]})),_0x4bd7b5=[..._0x543170,..._0x173c13],_0x2338a3=_0x4bd7b5[_0xd4bf11(0xd34)]((_0x453757,_0x9331e1)=>{const _0x2a4573=_0xd4bf11;return!_0x453757[_0x9331e1[_0x2a4573(0x9c2)]]&&(_0x453757[_0x9331e1[_0x2a4573(0x9c2)]]=[]),_0x453757[_0x9331e1['category']]['push'](_0x9331e1),_0x453757;},{});let _0x48dddd='';const _0x362df5=['หัวข้อที่สร้างเอง',...Object['keys'](_0x2338a3)[_0xd4bf11(0x624)](_0xb27fb0=>_0xb27fb0!==_0xd4bf11(0xb0c))];for(const _0x255643 of _0x362df5){if(_0x2338a3[_0x255643]){const _0xecc426=_0x255643===_0xd4bf11(0xb0c),_0x39a205=_0xecc426?_0xd4bf11(0x6ba):_0xd4bf11(0x593),_0x4445dc=_0xecc426?'text-blue-700':'text-indigo-700';_0x48dddd+=_0xd4bf11(0x2b1),_0x48dddd+=_0xd4bf11(0xb3c)+_0x4445dc+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x39a205+_0xd4bf11(0xc0d)+_0x255643+_0xd4bf11(0x761),_0x2338a3[_0x255643]['forEach'](_0x21c631=>{const _0x2a9e0d=_0xd4bf11,_0x388994=!!_0x21c631['id'],_0x208a3e=_0x388994?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x21c631['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x21c631['id']+_0x2a9e0d(0x222)+_0x21c631['id']+_0x2a9e0d(0x597)+_0x21c631['id']+_0x2a9e0d(0xd1):'';_0x48dddd+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x21c631['id']||'')+_0x2a9e0d(0x2de)+_0x21c631[_0x2a9e0d(0x224)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x21c631[_0x2a9e0d(0x224)]+_0x2a9e0d(0x637)+(_0x388994?_0x2a9e0d(0x78f)+_0x21c631['name']+'\x22>':'')+_0x2a9e0d(0xc67)+_0x208a3e+_0x2a9e0d(0x148);}),_0x48dddd+=_0xd4bf11(0x6c2);}}_0x4dcb9e[_0xd4bf11(0x6ef)]=_0x48dddd||_0xd4bf11(0x781),_0x4dcb9e[_0xd4bf11(0xb74)]('change',updateSelectedTopicsCount),_0x4dcb9e['addEventListener'](_0xd4bf11(0x8ec),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x3c33fe,_0x1a71fe){const _0x57f0ae=_0x45c2ac;if(!_0x3c33fe||!_0x1a71fe['trim']()){showMessage(_0x57f0ae(0xd0a));return;}try{const _0x48f611=doc(db,_0x57f0ae(0x47d)+appId+_0x57f0ae(0xbdb),_0x3c33fe);await updateDoc(_0x48f611,{'name':_0x1a71fe[_0x57f0ae(0x543)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x302419){console[_0x57f0ae(0x4da)](_0x57f0ae(0xc7e),_0x302419),showMessage(_0x57f0ae(0xa38));}}function toggleTopicEditMode(_0x4b2ed6,_0x582e60){const _0x4409ca=_0x45c2ac;if(!_0x4b2ed6)return;const _0x134d39=_0x4b2ed6['querySelector'](_0x4409ca(0x150)),_0x2d70ad=_0x4b2ed6[_0x4409ca(0x443)]('.topic-name-input'),_0x33e533=_0x4b2ed6[_0x4409ca(0x443)](_0x4409ca(0x813)),_0x2e1375=_0x4b2ed6['querySelector'](_0x4409ca(0x825));_0x134d39[_0x4409ca(0x707)]['toggle'](_0x4409ca(0xb5c),_0x582e60),_0x2d70ad[_0x4409ca(0x707)][_0x4409ca(0x587)]('hidden',!_0x582e60),_0x33e533[_0x4409ca(0x707)][_0x4409ca(0x587)]('hidden',_0x582e60),_0x2e1375[_0x4409ca(0x707)][_0x4409ca(0x587)](_0x4409ca(0xb5c),!_0x582e60),_0x582e60&&(_0x2d70ad[_0x4409ca(0xfb)](),_0x2d70ad['select']());}async function handleStartLiveRace(_0x1bcc34){const _0x5c2d4a=_0x45c2ac;let _0x305322=allQuizzes['find'](_0x444253=>_0x444253['id']===_0x1bcc34);if(!_0x305322){const _0x3c2cc3=doc(db,_0x5c2d4a(0x47d)+appId+'/public/data/quizzes',_0x1bcc34),_0x3cf5e6=await getDoc(_0x3c2cc3);if(!_0x3cf5e6[_0x5c2d4a(0x6cc)]()){showMessage(_0x5c2d4a(0x989));return;}_0x305322={'id':_0x3cf5e6['id'],..._0x3cf5e6[_0x5c2d4a(0x10a)]()};}const _0x55811c=getShuffledQuiz(_0x305322);currentQuizData=_0x55811c;const _0x34ec18=_0x305322['projectId']||currentProjectId||null,_0x1e91cf=Math[_0x5c2d4a(0xb7e)](0x3e8+Math['random']()*0x2328)['toString']();currentLiveGamePin=_0x1e91cf;try{const _0x272481=await addDoc(collection(db,_0x5c2d4a(0x47d)+appId+_0x5c2d4a(0x37a)),{'quizId':_0x1bcc34,'projectId':_0x34ec18,'status':_0x5c2d4a(0x659),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x1e91cf,'createdAt':serverTimestamp(),'shuffledQuiz':_0x55811c});currentLiveGameId=_0x272481['id'],showAdminLobbyView(_0x1e91cf,_0x305322[_0x5c2d4a(0x26f)]),listenForLiveGameUpdates();}catch(_0x4b5ad9){console[_0x5c2d4a(0x4da)](_0x5c2d4a(0x9c7),_0x4b5ad9),showMessage(_0x5c2d4a(0x3c8));}}function updateSelectedTopicsCount(){const _0x5591de=_0x45c2ac,_0x1d11ee=document[_0x5591de(0x286)](_0x5591de(0xca2)),_0xe22d5c=_0x1d11ee[_0x5591de(0x640)](_0x5591de(0x6d7))[_0x5591de(0xb81)],_0x4d9242=document[_0x5591de(0x286)](_0x5591de(0x9e3));_0xe22d5c>0x0?_0x4d9242[_0x5591de(0x10e)]=_0x5591de(0x841)+_0xe22d5c+'\x20หัวข้อ)':_0x4d9242[_0x5591de(0x10e)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x45c2ac(0x12b),quizLeaderboardSortOrder=_0x45c2ac(0x987),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x45c2ac(0x177),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x45c2ac(0x65f),scratchpadPenColor=_0x45c2ac(0x46e),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x3fd825,_0xbcd8e0){const _0x40a9fc=_0x45c2ac;return Math[_0x40a9fc(0xaf8)](Math['pow'](_0x3fd825['x']-_0xbcd8e0['x'],0x2)+Math[_0x40a9fc(0x2da)](_0x3fd825['y']-_0xbcd8e0['y'],0x2));}function getMidpoint(_0x4610f5,_0x1cd2c2){return{'x':(_0x4610f5['x']+_0x1cd2c2['x'])/0x2,'y':(_0x4610f5['y']+_0x1cd2c2['y'])/0x2};}function getTransformedPoint(_0x52dbe5,_0xc054bc){return{'x':(_0x52dbe5-scratchpadOffset['x'])/scratchpadScale,'y':(_0xc054bc-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x1578a8=_0x45c2ac;if(!scratchpadCtx)return;const _0x4ca140=scratchpadCtx[_0x1578a8(0x990)],_0x24c95a=window[_0x1578a8(0x785)]||0x1,_0x4270a1=document[_0x1578a8(0x286)](_0x1578a8(0x4b3));_0x4270a1&&(_0x4270a1[_0x1578a8(0x760)][_0x1578a8(0x74c)]=_0x1578a8(0x3a8),_0x4270a1[_0x1578a8(0x760)][_0x1578a8(0x7f9)]=_0x1578a8(0xa77)+scratchpadOffset['x']+_0x1578a8(0x4e8)+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx[_0x1578a8(0x1c1)](),scratchpadCtx[_0x1578a8(0xc92)](_0x24c95a,0x0,0x0,_0x24c95a,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x4ca140[_0x1578a8(0x710)],_0x4ca140[_0x1578a8(0x80)]),scratchpadCtx[_0x1578a8(0x2bc)](),scratchpadCtx[_0x1578a8(0x1c1)](),scratchpadCtx[_0x1578a8(0xe7)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x1578a8(0x94d)](_0x7e45e7=>{drawStroke(_0x7e45e7);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x1578a8(0x2bc)]();}function renderGroupModeQuestion(){const _0x4b2a66=_0x45c2ac;if(localQuestionIndex>=currentQuizData['questions'][_0x4b2a66(0xb81)]){displayTeamQuizFinalResults();return;}const _0x9a1af4=currentQuizData[_0x4b2a66(0xbc3)][localQuestionIndex],_0xe8bafd=_0x9a1af4[_0x4b2a66(0x9f5)]||currentQuizData[_0x4b2a66(0x480)];let _0x12187f=_0x9a1af4['stem']||_0x9a1af4[_0x4b2a66(0x3a5)],_0xe2a0bf='';switch(_0xe8bafd){case _0x4b2a66(0xb86):case _0x4b2a66(0xa4f):_0xe2a0bf=_0x9a1af4[_0x4b2a66(0xa07)][_0x4b2a66(0x764)]((_0x3c4880,_0x3c21df)=>_0x4b2a66(0xcdc)+_0x3c21df+_0x4b2a66(0x71a)+_0x3c21df+_0x4b2a66(0x3bf)+_0x3c21df+'\x22>'+_0x3c4880+_0x4b2a66(0x42b))[_0x4b2a66(0x6da)]('');break;case _0x4b2a66(0xcbb):_0xe2a0bf=_0x4b2a66(0xb3e);break;case _0x4b2a66(0x27d):case'fill_in_no_choices':_0xe2a0bf=_0x4b2a66(0x28b);break;case _0x4b2a66(0x2d6):_0xe2a0bf=_0x4b2a66(0x1d6)+_0x9a1af4[_0x4b2a66(0xeb)]['map'](_0x4ce542=>_0x4b2a66(0xba2)+_0x4ce542+'\x22>'+_0x4ce542+_0x4b2a66(0x978))[_0x4b2a66(0x6da)]('')+_0x4b2a66(0x6bf);break;default:_0xe2a0bf='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x4b2a66(0x6ef)]=_0x4b2a66(0x2e3)+(localQuestionIndex+0x1)+_0x4b2a66(0x234)+currentQuizData[_0x4b2a66(0xbc3)][_0x4b2a66(0xb81)]+_0x4b2a66(0x203)+localTeamPlayers[_0x4b2a66(0x6da)](',\x20')+_0x4b2a66(0x554)+(localQuestionIndex+0x1)+'.\x20'+_0x12187f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x9a1af4[_0x4b2a66(0xb04)]?_0x4b2a66(0x29c)+_0x9a1af4[_0x4b2a66(0xb04)]+_0x4b2a66(0x6c2):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0xe2a0bf+_0x4b2a66(0x944),studentQuizArea[_0x4b2a66(0x707)][_0x4b2a66(0x6d1)](_0x4b2a66(0xb5c));if(window['MathJax'])MathJax[_0x4b2a66(0x8c4)]([studentQuizArea]);document[_0x4b2a66(0x286)]('submit-group-answer-btn')[_0x4b2a66(0x504)](_0x4b2a66(0x936),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x4fa6f8,_0x189cfb=null,_0x5d5b92,_0x205080=null,_0x530904=![],_0x1743b6=null){const _0x37271e=_0x45c2ac,_0x253708=document['getElementById'](_0x37271e(0x1bd));_0x253708&&_0x253708[_0x37271e(0xbb)]({'behavior':_0x37271e(0xcb7),'block':'center'}),generateQuiz(_0x4fa6f8,_0x189cfb,null,_0x1743b6,!![],_0x5d5b92,_0x205080,_0x530904);}function handleGenerateAndShowLesson(_0x48b2ac,_0xf7642d){const _0x395f0b=_0x45c2ac,_0x2dbb55=document[_0x395f0b(0x286)](_0x395f0b(0xc23)),_0x367233=document['getElementById'](_0x395f0b(0xabf)),_0x347ab6=document[_0x395f0b(0x286)](_0x395f0b(0x3cb)),_0xbd979d=document[_0x395f0b(0x286)]('lesson-sections-container');[_0x395f0b(0xb3d),_0x395f0b(0xb1c),'applicationContent',_0x395f0b(0xc3f)][_0x395f0b(0x94d)](_0x19ff91=>{const _0x58f064=_0x395f0b,_0x560bb2=document[_0x58f064(0x286)](_0x19ff91)[_0x58f064(0x285)];_0x560bb2&&(_0x560bb2[_0x58f064(0x760)][_0x58f064(0xb19)]=_0x58f064(0x755));}),_0x367233[_0x395f0b(0x10e)]=_0x395f0b(0xbf8)+_0x48b2ac,_0xbd979d[_0x395f0b(0x707)][_0x395f0b(0xbfd)](_0x395f0b(0xb5c)),_0x347ab6['classList']['remove'](_0x395f0b(0xb5c)),_0x2dbb55['classList'][_0x395f0b(0x6d1)](_0x395f0b(0xb5c)),generateLesson(_0x48b2ac,_0xf7642d)[_0x395f0b(0x553)](_0x23de45=>{const _0x4e4fc5=_0x395f0b;console[_0x4e4fc5(0x4da)](_0x4e4fc5(0x185),_0x23de45),showMessage(_0x4e4fc5(0x604)),_0x2dbb55[_0x4e4fc5(0x707)][_0x4e4fc5(0xbfd)](_0x4e4fc5(0xb5c));});}function handlePointerDown(_0x272a9c){const _0x2b9327=_0x45c2ac;_0x272a9c[_0x2b9327(0x5be)]();const _0x4c5cc1=scratchpadCtx[_0x2b9327(0x990)],_0x431cec=_0x4c5cc1['getBoundingClientRect'](),_0xf59608=_0x272a9c[_0x2b9327(0x17d)]||(_0x272a9c[_0x2b9327(0x2f4)]?_0x2b9327(0x605):_0x2b9327(0x88d));if(_0xf59608===_0x2b9327(0x65f)||_0xf59608==='mouse'){if(_0x272a9c[_0x2b9327(0x17d)]===_0x2b9327(0x88d)&&_0x272a9c[_0x2b9327(0xa63)]!==0x0){_0x272a9c['button']===0x1&&(isMousePanning=!![],panStart={'x':_0x272a9c[_0x2b9327(0x848)],'y':_0x272a9c[_0x2b9327(0x251)]},_0x4c5cc1[_0x2b9327(0x760)][_0x2b9327(0x38a)]=_0x2b9327(0xd5));return;}activeTool===_0x2b9327(0x8e4)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x4c3583=getTransformedPoint(_0x272a9c[_0x2b9327(0x848)]-_0x431cec[_0x2b9327(0x1e2)],_0x272a9c['clientY']-_0x431cec[_0x2b9327(0x630)]);let _0x233d39={'tool':activeTool,'points':[_0x4c3583]};if(activeTool===_0x2b9327(0x65f))_0x233d39[_0x2b9327(0x4af)]=scratchpadPenColor,_0x233d39[_0x2b9327(0x742)]=scratchpadPenSize;else{if(activeTool===_0x2b9327(0xbb1))_0x233d39[_0x2b9327(0x4af)]=scratchpadPenColor,_0x233d39[_0x2b9327(0x742)]=scratchpadEraserSize;else{if(activeTool===_0x2b9327(0x3b2))_0x233d39[_0x2b9327(0x4af)]=scratchpadHighlighterColor,_0x233d39[_0x2b9327(0x742)]=scratchpadHighlighterSize;else activeTool===_0x2b9327(0x8e4)&&(_0x233d39[_0x2b9327(0x4af)]=scratchpadPenColor,_0x233d39['size']=scratchpadPenSize);}}currentStroke=_0x233d39;}else _0x272a9c[_0x2b9327(0x2f4)]&&(_0x272a9c[_0x2b9327(0x2f4)]['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x272a9c[_0x2b9327(0x2f4)][0x0][_0x2b9327(0x848)],'y':_0x272a9c['touches'][0x0][_0x2b9327(0x251)]},{'x':_0x272a9c['touches'][0x1][_0x2b9327(0x848)],'y':_0x272a9c[_0x2b9327(0x2f4)][0x1]['clientY']}),initialPinchDistance=getDistance({'x':_0x272a9c['touches'][0x0][_0x2b9327(0x848)],'y':_0x272a9c[_0x2b9327(0x2f4)][0x0][_0x2b9327(0x251)]},{'x':_0x272a9c['touches'][0x1][_0x2b9327(0x848)],'y':_0x272a9c[_0x2b9327(0x2f4)][0x1][_0x2b9327(0x251)]})));}function animateTrail(){const _0x14aa2b=_0x45c2ac,_0x1776ef=Date[_0x14aa2b(0x17c)]();let _0x401691=![];for(let _0x41d848=strokes[_0x14aa2b(0xb81)]-0x1;_0x41d848>=0x0;_0x41d848--){const _0x37e954=strokes[_0x41d848];if(_0x37e954[_0x14aa2b(0x771)]==='trail'&&_0x37e954[_0x14aa2b(0x575)]){const _0x2d5025=_0x1776ef-_0x37e954['fadeStartTime'];_0x2d5025>=TRAIL_DURATION?strokes[_0x14aa2b(0xb11)](_0x41d848,0x1):(_0x37e954[_0x14aa2b(0xcf2)]=0x1-_0x2d5025/TRAIL_DURATION,_0x401691=!![]);}}redrawScratchpad(),_0x401691?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0xc8a916){const _0xdcaaed=_0x45c2ac;if(!_0xc8a916||_0xc8a916['points'][_0xdcaaed(0xb81)]<0x1)return;scratchpadCtx[_0xdcaaed(0x1c1)](),scratchpadCtx[_0xdcaaed(0x7ef)]=_0xdcaaed(0xb0d),scratchpadCtx[_0xdcaaed(0x4b9)]=_0xdcaaed(0xb0d);if(_0xc8a916['tool']===_0xdcaaed(0x8e4)){const _0x37ffe9=_0xc8a916[_0xdcaaed(0x742)]/scratchpadScale;scratchpadCtx[_0xdcaaed(0xa35)]=_0xc8a916[_0xdcaaed(0xcf2)]??0x1,scratchpadCtx[_0xdcaaed(0x976)]=_0xdcaaed(0xc28),scratchpadCtx[_0xdcaaed(0x106)]=_0x37ffe9*0x3,scratchpadCtx[_0xdcaaed(0xbc6)]=_0xdcaaed(0xd33),scratchpadCtx[_0xdcaaed(0x4b0)]=_0x37ffe9*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0xdcaaed(0x615)](_0xc8a916[_0xdcaaed(0x852)][0x0]['x'],_0xc8a916[_0xdcaaed(0x852)][0x0]['y']);for(let _0x8cf44f=0x1;_0x8cf44f<_0xc8a916[_0xdcaaed(0x852)][_0xdcaaed(0xb81)]-0x1;_0x8cf44f++){const _0x5edce7=getMidpoint(_0xc8a916[_0xdcaaed(0x852)][_0x8cf44f],_0xc8a916[_0xdcaaed(0x852)][_0x8cf44f+0x1]);scratchpadCtx[_0xdcaaed(0x780)](_0xc8a916[_0xdcaaed(0x852)][_0x8cf44f]['x'],_0xc8a916[_0xdcaaed(0x852)][_0x8cf44f]['y'],_0x5edce7['x'],_0x5edce7['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0xdcaaed(0x976)]='transparent',scratchpadCtx[_0xdcaaed(0x106)]=0x0,scratchpadCtx[_0xdcaaed(0xbc6)]=_0xdcaaed(0x870),scratchpadCtx[_0xdcaaed(0x4b0)]=_0x37ffe9,scratchpadCtx[_0xdcaaed(0x156)](),scratchpadCtx['closePath']();}else{if(_0xc8a916['tool']===_0xdcaaed(0x3b2)){scratchpadCtx[_0xdcaaed(0x115)]=_0xdcaaed(0x768),scratchpadCtx[_0xdcaaed(0xbc6)]=_0xc8a916[_0xdcaaed(0x4af)],scratchpadCtx[_0xdcaaed(0x4b0)]=_0xc8a916[_0xdcaaed(0x742)],scratchpadCtx[_0xdcaaed(0xcc)](),scratchpadCtx['moveTo'](_0xc8a916[_0xdcaaed(0x852)][0x0]['x'],_0xc8a916['points'][0x0]['y']);for(let _0x19a999=0x1;_0x19a999<_0xc8a916['points']['length']-0x1;_0x19a999++){const _0x19feb4=getMidpoint(_0xc8a916[_0xdcaaed(0x852)][_0x19a999],_0xc8a916['points'][_0x19a999+0x1]);scratchpadCtx[_0xdcaaed(0x780)](_0xc8a916['points'][_0x19a999]['x'],_0xc8a916[_0xdcaaed(0x852)][_0x19a999]['y'],_0x19feb4['x'],_0x19feb4['y']);}scratchpadCtx[_0xdcaaed(0x156)](),scratchpadCtx['closePath']();}else{scratchpadCtx[_0xdcaaed(0x115)]=_0xc8a916[_0xdcaaed(0x771)]===_0xdcaaed(0xbb1)?'destination-out':_0xdcaaed(0xc8d),scratchpadCtx[_0xdcaaed(0xbc6)]=_0xc8a916['color'],scratchpadCtx[_0xdcaaed(0x4b0)]=_0xc8a916[_0xdcaaed(0x742)],scratchpadCtx[_0xdcaaed(0xcc)](),scratchpadCtx[_0xdcaaed(0x615)](_0xc8a916[_0xdcaaed(0x852)][0x0]['x'],_0xc8a916[_0xdcaaed(0x852)][0x0]['y']);for(let _0x33cdf4=0x1;_0x33cdf4<_0xc8a916[_0xdcaaed(0x852)][_0xdcaaed(0xb81)]-0x1;_0x33cdf4++){const _0x5f3c06=getMidpoint(_0xc8a916[_0xdcaaed(0x852)][_0x33cdf4],_0xc8a916[_0xdcaaed(0x852)][_0x33cdf4+0x1]);scratchpadCtx[_0xdcaaed(0x780)](_0xc8a916[_0xdcaaed(0x852)][_0x33cdf4]['x'],_0xc8a916['points'][_0x33cdf4]['y'],_0x5f3c06['x'],_0x5f3c06['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0xdcaaed(0x4f2)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0xe30083){const _0x6d263=_0x45c2ac;_0xe30083[_0x6d263(0x5be)]();const _0x2fd7de=scratchpadCtx[_0x6d263(0x990)],_0x30a4b8=_0x2fd7de[_0x6d263(0x477)]();if(_0xe30083[_0x6d263(0x2f4)]){if(_0xe30083[_0x6d263(0x2f4)][_0x6d263(0xb81)]===0x1&&isDrawingOnScratchpad){const _0x216512=getTransformedPoint(_0xe30083['touches'][0x0][_0x6d263(0x848)]-_0x30a4b8[_0x6d263(0x1e2)],_0xe30083[_0x6d263(0x2f4)][0x0][_0x6d263(0x251)]-_0x30a4b8[_0x6d263(0x630)]);currentStroke[_0x6d263(0x852)][_0x6d263(0xcec)](_0x216512),redrawScratchpad();}else{if(_0xe30083[_0x6d263(0x2f4)]['length']===0x2&&isPanning){const _0x251eff=getDistance({'x':_0xe30083[_0x6d263(0x2f4)][0x0][_0x6d263(0x848)],'y':_0xe30083[_0x6d263(0x2f4)][0x0]['clientY']},{'x':_0xe30083['touches'][0x1][_0x6d263(0x848)],'y':_0xe30083['touches'][0x1][_0x6d263(0x251)]}),_0x200314=getMidpoint({'x':_0xe30083[_0x6d263(0x2f4)][0x0][_0x6d263(0x848)],'y':_0xe30083[_0x6d263(0x2f4)][0x0]['clientY']},{'x':_0xe30083[_0x6d263(0x2f4)][0x1][_0x6d263(0x848)],'y':_0xe30083[_0x6d263(0x2f4)][0x1][_0x6d263(0x251)]}),_0x3f8e2f=_0x251eff/ initialPinchDistance,_0x2b97cf=Math[_0x6d263(0x74b)](Math[_0x6d263(0x75c)](scratchpadScale*_0x3f8e2f,MIN_SCALE),MAX_SCALE),_0x384a07=_0x200314['x']-panStart['x'],_0x58fc0a=_0x200314['y']-panStart['y'];scratchpadOffset['x']=_0x200314['x']-(_0x200314['x']-scratchpadOffset['x'])*(_0x2b97cf/scratchpadScale),scratchpadOffset['y']=_0x200314['y']-(_0x200314['y']-scratchpadOffset['y'])*(_0x2b97cf/scratchpadScale),scratchpadOffset['x']+=_0x384a07,scratchpadOffset['y']+=_0x58fc0a,scratchpadScale=_0x2b97cf,initialPinchDistance=_0x251eff,panStart=_0x200314,redrawScratchpad();}}}else{if(isMousePanning){const _0x4ee8d3=_0xe30083['clientX']-panStart['x'],_0x3bb453=_0xe30083['clientY']-panStart['y'];scratchpadOffset['x']+=_0x4ee8d3,scratchpadOffset['y']+=_0x3bb453,panStart={'x':_0xe30083[_0x6d263(0x848)],'y':_0xe30083[_0x6d263(0x251)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x1ce7d7=getTransformedPoint(_0xe30083['clientX']-_0x30a4b8['left'],_0xe30083[_0x6d263(0x251)]-_0x30a4b8[_0x6d263(0x630)]);currentStroke[_0x6d263(0x852)][_0x6d263(0xcec)](_0x1ce7d7),redrawScratchpad();}}}}function handlePointerUp(_0x512477){const _0x4cc97f=_0x45c2ac;_0x512477[_0x4cc97f(0x5be)]();const _0x47c73b=scratchpadCtx[_0x4cc97f(0x990)];isMousePanning&&(isMousePanning=![],_0x47c73b[_0x4cc97f(0x760)][_0x4cc97f(0x38a)]=_0x4cc97f(0x4f3)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke['points'][_0x4cc97f(0xb81)]>0x1&&(strokes['push'](currentStroke),currentStroke[_0x4cc97f(0x771)]==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x3dd941=_0x4cc97f,_0x203b4e=strokes['filter'](_0x2b4611=>_0x2b4611[_0x3dd941(0x771)]===_0x3dd941(0x8e4)&&!_0x2b4611[_0x3dd941(0x575)]);if(_0x203b4e[_0x3dd941(0xb81)]>0x0){const _0x32206b=Date[_0x3dd941(0x17c)]();_0x203b4e[_0x3dd941(0x94d)](_0x39beed=>_0x39beed[_0x3dd941(0x575)]=_0x32206b),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x1b88fe){const _0x65e998=_0x45c2ac;_0x1b88fe[_0x65e998(0x5be)]();const _0x4cca27=_0x1b88fe['deltaY']*-0.005,_0x4efdf7=Math[_0x65e998(0x74b)](Math[_0x65e998(0x75c)](scratchpadScale+_0x4cca27,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x1b88fe[_0x65e998(0x848)]-(_0x1b88fe[_0x65e998(0x848)]-scratchpadOffset['x'])*(_0x4efdf7/scratchpadScale),scratchpadOffset['y']=_0x1b88fe[_0x65e998(0x251)]-(_0x1b88fe[_0x65e998(0x251)]-scratchpadOffset['y'])*(_0x4efdf7/scratchpadScale),scratchpadScale=_0x4efdf7,redrawScratchpad();}function undo(){const _0x17c7c7=_0x45c2ac;strokes['length']>0x0&&(redoStrokes[_0x17c7c7(0xcec)](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0xe717b1=_0x45c2ac;redoStrokes[_0xe717b1(0xb81)]>0x0&&(strokes['push'](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x8d19f1=_0x45c2ac;document[_0x8d19f1(0x286)]('undo-btn')[_0x8d19f1(0x790)]=strokes[_0x8d19f1(0xb81)]===0x0,document[_0x8d19f1(0x286)](_0x8d19f1(0x8f9))[_0x8d19f1(0x790)]=redoStrokes[_0x8d19f1(0xb81)]===0x0;}function openScratchpad(_0x1ffced,_0x21e3aa){const _0x51f10a=_0x45c2ac,_0x5ed530=document[_0x51f10a(0x286)](_0x51f10a(0xb7a)),_0x156674=document['getElementById'](_0x51f10a(0x83f)),_0x155794=document[_0x51f10a(0x286)](_0x51f10a(0x598)),_0x24108b=document[_0x51f10a(0x286)](_0x51f10a(0x25f));_0x156674[_0x51f10a(0x6ef)]=_0x1ffced[_0x51f10a(0xcfa)]||_0x1ffced[_0x51f10a(0x3a5)],_0x155794[_0x51f10a(0x6ef)]=_0x21e3aa['map']((_0x22df0c,_0x4052bf)=>_0x51f10a(0xb6c)+String['fromCharCode'](0x41+_0x4052bf)+'.\x20'+_0x22df0c+'</div>')[_0x51f10a(0x6da)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x5ed530[_0x51f10a(0x707)][_0x51f10a(0x6d1)](_0x51f10a(0xb5c)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x51f10a(0x36f)])MathJax[_0x51f10a(0x8c4)]([_0x156674,_0x155794]);}function openBlueprintQuizSettings(){const _0x170f40=_0x45c2ac,_0x450611=document[_0x170f40(0x286)](_0x170f40(0x999)),_0x1bd86c=blueprintPageSettings||(currentProjectData?currentProjectData['settings']:{})||{};document[_0x170f40(0x286)](_0x170f40(0xa27))['value']=_0x1bd86c[_0x170f40(0x480)]||document['getElementById'](_0x170f40(0xd2b))[_0x170f40(0x227)],document[_0x170f40(0x286)](_0x170f40(0xb25))['innerHTML']=document[_0x170f40(0x286)](_0x170f40(0x50e))[_0x170f40(0x6ef)],document[_0x170f40(0x286)](_0x170f40(0xb25))[_0x170f40(0x227)]=_0x1bd86c[_0x170f40(0x54c)]||document['getElementById'](_0x170f40(0x50e))['value'],document[_0x170f40(0x286)](_0x170f40(0xc87))[_0x170f40(0x6ef)]=document[_0x170f40(0x286)](_0x170f40(0xb49))[_0x170f40(0x6ef)],document[_0x170f40(0x286)]('bp-modal-question-complexity-select')['value']=_0x1bd86c[_0x170f40(0x273)]||document[_0x170f40(0x286)](_0x170f40(0xb49))[_0x170f40(0x227)],document[_0x170f40(0x286)]('bp-modal-num-questions')[_0x170f40(0x227)]=_0x1bd86c[_0x170f40(0xa1a)]||document[_0x170f40(0x286)](_0x170f40(0x4fe))[_0x170f40(0x227)],document[_0x170f40(0x286)]('bp-modal-passing-score-input')[_0x170f40(0x227)]=_0x1bd86c['passingScore']||document['getElementById'](_0x170f40(0xb0))[_0x170f40(0x227)],document[_0x170f40(0x286)](_0x170f40(0x28d))[_0x170f40(0x227)]=_0x1bd86c[_0x170f40(0x18c)]||document[_0x170f40(0x286)]('num-choices')[_0x170f40(0x227)],document['getElementById']('bp-modal-shuffle-setting-select')[_0x170f40(0x227)]=_0x1bd86c[_0x170f40(0xcd8)]||document[_0x170f40(0x286)](_0x170f40(0x722))[_0x170f40(0x227)],document[_0x170f40(0x286)]('bp-modal-include-images-checkbox')['checked']=_0x1bd86c[_0x170f40(0x98)]||document[_0x170f40(0x286)](_0x170f40(0x6ea))[_0x170f40(0x50a)],_0x450611[_0x170f40(0x707)][_0x170f40(0x6d1)](_0x170f40(0xb5c));}function handleSaveBlueprintPageSettings(){const _0x3543c5=_0x45c2ac;blueprintPageSettings={'quizType':document[_0x3543c5(0x286)](_0x3543c5(0xa27))[_0x3543c5(0x227)],'difficultyValue':document['getElementById'](_0x3543c5(0xb25))['value'],'complexityValue':document[_0x3543c5(0x286)](_0x3543c5(0xc87))['value'],'numQuestions':document[_0x3543c5(0x286)](_0x3543c5(0x868))[_0x3543c5(0x227)],'passingScore':document['getElementById'](_0x3543c5(0xcf5))['value'],'numChoices':document[_0x3543c5(0x286)]('bp-modal-num-choices')[_0x3543c5(0x227)],'shuffle':document[_0x3543c5(0x286)](_0x3543c5(0xbb6))[_0x3543c5(0x227)],'includeImages':document[_0x3543c5(0x286)]('bp-modal-include-images-checkbox')[_0x3543c5(0x50a)]},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document[_0x3543c5(0x286)](_0x3543c5(0x999))[_0x3543c5(0x707)][_0x3543c5(0xbfd)](_0x3543c5(0xb5c));}function listenForParallelTestShortcuts(){const _0x8f9bd4=_0x45c2ac,_0x2f932e=doc(db,_0x8f9bd4(0x33d),_0x8f9bd4(0x76c));onSnapshot(_0x2f932e,_0x4ef5af=>{const _0xaf2c39=_0x8f9bd4;let _0x51626c=[],_0x1b9d3e=[],_0x34aa91={};if(_0x4ef5af['exists']()){const _0x3b63c5=_0x4ef5af[_0xaf2c39(0x10a)]();_0x51626c=_0x3b63c5[_0xaf2c39(0x83c)]||[],_0x1b9d3e=_0x3b63c5[_0xaf2c39(0x4eb)]||[],_0x34aa91=_0x3b63c5['parallelShortcutOrder']||{};}!_0x1b9d3e[_0xaf2c39(0x7c7)](_0x2f6f7a=>_0x2f6f7a['id']===_0xaf2c39(0xf3))&&_0x1b9d3e[_0xaf2c39(0x4d0)]({'id':_0xaf2c39(0xf3),'name':_0xaf2c39(0x9b3),'isDefault':!![]}),!_0x51626c[_0xaf2c39(0x7c7)](_0x4b864c=>_0x4b864c['id']===_0xaf2c39(0x854))&&_0x51626c[_0xaf2c39(0x4d0)]({'id':_0xaf2c39(0x854),'name':_0xaf2c39(0x96),'url':'','isDefault':!![]}),!_0x51626c[_0xaf2c39(0x7c7)](_0x108585=>_0x108585['id']==='parallel-default-2')&&_0x51626c[_0xaf2c39(0x4d0)]({'id':'parallel-default-2','name':_0xaf2c39(0x3fa),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x51626c,parallelShortcutTabs=_0x1b9d3e,parallelShortcutOrder=_0x34aa91,renderParallelTestShortcuts(),!document[_0xaf2c39(0x286)](_0xaf2c39(0xcf8))[_0xaf2c39(0x707)]['contains'](_0xaf2c39(0xb5c))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x27205b=_0x45c2ac,_0x3e2ba3=doc(db,'globalSettings',_0x27205b(0x76c));try{await setDoc(_0x3e2ba3,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x14fcb2){console[_0x27205b(0x4da)](_0x27205b(0xae3),_0x14fcb2);}}function renderAdditionalParallelShortcutsModal(){const _0x2b4333=_0x45c2ac,_0x3ca81c=document[_0x2b4333(0x286)](_0x2b4333(0x74f)),_0xdfe8d2=document[_0x2b4333(0x286)](_0x2b4333(0x2f9));if(!_0x3ca81c||!_0xdfe8d2)return;_0x3ca81c[_0x2b4333(0x6ef)]=parallelShortcutTabs[_0x2b4333(0x764)](_0x5309bc=>{const _0x31f980=_0x2b4333,_0xf61a7d=_0x5309bc['id']===activeParallelShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x5309bc['id']+'\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0xf61a7d?'border-indigo-500\x20text-indigo-600':'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x31f980(0x966)+_0x5309bc[_0x31f980(0x224)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x5309bc[_0x31f980(0x224)]+_0x31f980(0x2a0)+(!_0x5309bc[_0x31f980(0x776)]?'<button\x20data-tab-id=\x22'+_0x5309bc['id']+'\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x31f980(0xc6e);})[_0x2b4333(0x6da)]('');const _0x188fbd=parallelShortcutTabs['find'](_0x16d419=>_0x16d419['id']===activeParallelShortcutTabId);let _0x577a86=_0x188fbd?.[_0x2b4333(0x776)]?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x53269f=>(_0x188fbd?.[_0x2b4333(0x8ae)]||[])[_0x2b4333(0x613)](_0x53269f['id']));const _0x2bd40a=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x577a86[_0x2b4333(0x276)]((_0xa4ab57,_0x5e4ffb)=>{const _0x2d02d5=_0x2b4333,_0x2248c2=_0x2bd40a[_0x2d02d5(0x6a6)](_0xa4ab57['id']),_0x3b638e=_0x2bd40a[_0x2d02d5(0x6a6)](_0x5e4ffb['id']);return(_0x2248c2===-0x1?Infinity:_0x2248c2)-(_0x3b638e===-0x1?Infinity:_0x3b638e);}),_0xdfe8d2[_0x2b4333(0x6ef)]=_0x577a86['map'](_0x3ba5c0=>{const _0x17a938=_0x2b4333,_0x42f766=_0x3ba5c0[_0x17a938(0x142)]?'🔁':'🔗',_0x552f31=parallelShortcutTabs[_0x17a938(0x624)](_0x94b745=>!_0x94b745[_0x17a938(0x776)]),_0x1ac833=_0x188fbd[_0x17a938(0x776)]&&_0x552f31[_0x17a938(0xb81)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x552f31[_0x17a938(0x764)](_0x3fab8f=>_0x17a938(0xd36)+_0x3ba5c0['id']+'\x22\x20data-target-tab-id=\x22'+_0x3fab8f['id']+'\x22>'+_0x3fab8f[_0x17a938(0x224)]+_0x17a938(0x57f))[_0x17a938(0x6da)]('')+_0x17a938(0xa50):'';return _0x17a938(0xb73)+_0x3ba5c0['id']+_0x17a938(0x230)+_0x42f766+'\x20'+_0x3ba5c0[_0x17a938(0x224)]+_0x17a938(0x375)+_0x3ba5c0['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3ba5c0['id']+_0x17a938(0x52e)+(!_0x3ba5c0['isDefault']?_0x17a938(0x7a2)+_0x3ba5c0['id']+_0x17a938(0x567):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x188fbd['isDefault']?'<button\x20data-shortcut-id=\x22'+_0x3ba5c0['id']+_0x17a938(0xb9d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ac833+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')||_0x2b4333(0x596),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x5d5665=_0x45c2ac;document['querySelectorAll'](_0x5d5665(0x986))[_0x5d5665(0x94d)](_0x1adcc9=>{const _0x30b47b=_0x5d5665;_0x1adcc9['onclick']=_0x2c714a=>{const _0x13ac54=_0x1af4;activeParallelShortcutTabId=_0x2c714a[_0x13ac54(0x617)][_0x13ac54(0x24b)][_0x13ac54(0x510)],renderAdditionalParallelShortcutsModal();},_0x1adcc9[_0x30b47b(0x99e)]=_0x510fa0=>{const _0x38818e=_0x30b47b,_0xae39b5=_0x510fa0['currentTarget'][_0x38818e(0x443)](_0x38818e(0x51c));_0x510fa0[_0x38818e(0x617)][_0x38818e(0x443)](_0x38818e(0x1d4))[_0x38818e(0x707)]['add'](_0x38818e(0xb5c)),_0xae39b5[_0x38818e(0x707)][_0x38818e(0x6d1)](_0x38818e(0xb5c)),_0xae39b5['focus'](),_0xae39b5[_0x38818e(0x72f)]();};}),document[_0x5d5665(0x640)]('#parallel-shortcut-tabs-nav\x20.tab-name-input')[_0x5d5665(0x94d)](_0x15a673=>{const _0xb104bf=_0x5d5665,_0xe566ca=()=>{const _0x119bca=_0x1af4,_0x409fd=_0x15a673[_0x119bca(0x5d0)](_0x119bca(0x986))[_0x119bca(0x24b)][_0x119bca(0x510)],_0x35598e=parallelShortcutTabs[_0x119bca(0x7c7)](_0x7f5ad5=>_0x7f5ad5['id']===_0x409fd);_0x35598e&&(_0x35598e[_0x119bca(0x224)]=_0x15a673[_0x119bca(0x227)][_0x119bca(0x543)]()||_0x35598e[_0x119bca(0x224)],saveParallelShortcutConfig());};_0x15a673[_0xb104bf(0x9c1)]=_0xe566ca,_0x15a673[_0xb104bf(0x829)]=_0x3647ba=>{const _0xc94dc6=_0xb104bf;if(_0x3647ba[_0xc94dc6(0x35d)]===_0xc94dc6(0x81b))_0x15a673[_0xc94dc6(0x1f8)]();};}),document[_0x5d5665(0x640)](_0x5d5665(0x354))[_0x5d5665(0x94d)](_0x550e49=>_0x550e49[_0x5d5665(0x2d8)]=_0x4fb5d2=>{const _0x23b4b0=_0x5d5665,_0x2f8e9f=_0x4fb5d2[_0x23b4b0(0x617)][_0x23b4b0(0x24b)][_0x23b4b0(0x510)];showConfirmation(_0x23b4b0(0xb7b),()=>{const _0x252ec2=_0x23b4b0;parallelShortcutTabs=parallelShortcutTabs['filter'](_0x6c5a9=>_0x6c5a9['id']!==_0x2f8e9f),delete parallelShortcutOrder[_0x2f8e9f];if(activeParallelShortcutTabId===_0x2f8e9f)activeParallelShortcutTabId=_0x252ec2(0xf3);saveParallelShortcutConfig();});}),document[_0x5d5665(0x640)](_0x5d5665(0x80e))[_0x5d5665(0x94d)](_0x3ae4ea=>_0x3ae4ea['onclick']=_0x246a44=>{const _0x267777=_0x5d5665;_0x246a44[_0x267777(0x5be)]();const {shortcutId:_0x329144,targetTabId:_0xd9c781}=_0x246a44[_0x267777(0x617)][_0x267777(0x24b)],_0xd27cf4=parallelShortcutTabs[_0x267777(0x7c7)](_0x5b0778=>_0x5b0778['id']===_0xd9c781);_0xd27cf4&&!_0xd27cf4[_0x267777(0x8ae)][_0x267777(0x613)](_0x329144)&&(_0xd27cf4['shortcutIds'][_0x267777(0xcec)](_0x329144),saveParallelShortcutConfig());}),document[_0x5d5665(0x640)]('.remove-parallel-shortcut-from-tab-btn')[_0x5d5665(0x94d)](_0x5c4d0d=>_0x5c4d0d['onclick']=_0x2ed705=>{const _0x41316e=_0x5d5665,_0x1bf5a4=_0x2ed705['currentTarget']['dataset'][_0x41316e(0x489)],_0x15dd02=parallelShortcutTabs[_0x41316e(0x7c7)](_0x55f6d9=>_0x55f6d9['id']===activeParallelShortcutTabId);_0x15dd02&&!_0x15dd02['isDefault']&&(_0x15dd02[_0x41316e(0x8ae)]=_0x15dd02[_0x41316e(0x8ae)][_0x41316e(0x624)](_0x255ce9=>_0x255ce9!==_0x1bf5a4),saveParallelShortcutConfig());}),document[_0x5d5665(0x640)](_0x5d5665(0x129))[_0x5d5665(0x94d)](_0x546305=>_0x546305[_0x5d5665(0x2d8)]=_0x1ed6f2=>{const _0x2d5489=_0x5d5665;_0x1ed6f2['stopPropagation']();const _0x1435b8=_0x1ed6f2[_0x2d5489(0x617)][_0x2d5489(0xbcc)];document[_0x2d5489(0x640)](_0x2d5489(0x8ff))[_0x2d5489(0x94d)](_0x514fa4=>_0x514fa4[_0x2d5489(0x707)]['add'](_0x2d5489(0xb5c))),_0x1435b8[_0x2d5489(0x707)]['remove']('hidden');});const _0x4fa9ee=document[_0x5d5665(0x286)](_0x5d5665(0x2f9));let _0x12d06c=null;_0x4fa9ee[_0x5d5665(0xa87)]=_0x3181dd=>{const _0x4b7a5a=_0x5d5665;_0x12d06c=_0x3181dd[_0x4b7a5a(0x797)][_0x4b7a5a(0x5d0)](_0x4b7a5a(0x7e2));if(_0x12d06c)setTimeout(()=>_0x12d06c[_0x4b7a5a(0x707)]['add'](_0x4b7a5a(0x559)),0x0);},_0x4fa9ee['ondragend']=()=>{const _0x3fb4de=_0x5d5665;_0x12d06c&&(_0x12d06c['classList'][_0x3fb4de(0x6d1)]('opacity-50'),_0x12d06c=null);},_0x4fa9ee['ondragover']=_0x55ac67=>{const _0x269828=_0x5d5665;_0x55ac67[_0x269828(0x5be)]();},_0x4fa9ee['ondrop']=_0x3e38f8=>{const _0x3b8ef9=_0x5d5665;_0x3e38f8[_0x3b8ef9(0x5be)]();if(_0x12d06c){const _0x2f8166=[..._0x4fa9ee[_0x3b8ef9(0x640)]('.shortcut-list-item:not(.opacity-50)')][_0x3b8ef9(0xd34)]((_0x4446e8,_0x232393)=>{const _0x26a587=_0x3b8ef9,_0x1bcb49=_0x232393['getBoundingClientRect'](),_0x5f42fa=_0x3e38f8['clientY']-_0x1bcb49[_0x26a587(0x630)]-_0x1bcb49[_0x26a587(0x80)]/0x2;return _0x5f42fa<0x0&&_0x5f42fa>_0x4446e8[_0x26a587(0x58b)]?{'offset':_0x5f42fa,'element':_0x232393}:_0x4446e8;},{'offset':Number['NEGATIVE_INFINITY']})[_0x3b8ef9(0xabd)];_0x2f8166==null?_0x4fa9ee[_0x3b8ef9(0x395)](_0x12d06c):_0x4fa9ee['insertBefore'](_0x12d06c,_0x2f8166);const _0xf4bb3f=[..._0x4fa9ee[_0x3b8ef9(0x640)](_0x3b8ef9(0x7e2))]['map'](_0x245c89=>_0x245c89[_0x3b8ef9(0x24b)]['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0xf4bb3f,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x7a7277=_0x45c2ac,_0xedc99b=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');_0xedc99b&&_0xedc99b[_0x7a7277(0x543)]()&&(parallelShortcutTabs[_0x7a7277(0xcec)]({'id':_0x7a7277(0x258)+Date[_0x7a7277(0x17c)](),'name':_0xedc99b[_0x7a7277(0x543)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x155b5b=_0x45c2ac,_0x2856e4=document['getElementById']('parallel-shortcut-container'),_0x3868fe=document['getElementById'](_0x155b5b(0x2f9)),_0x5026fb=document['getElementById'](_0x155b5b(0x579));if(_0x5026fb)_0x5026fb[_0x155b5b(0x707)][_0x155b5b(0xbfd)](_0x155b5b(0xb5c));if(!_0x2856e4||!_0x3868fe)return;const _0x510151=parallelTestShortcuts[_0x155b5b(0xc20)](0x0,0x4),_0x176c8=parallelTestShortcuts[_0x155b5b(0xc20)](0x4);_0x2856e4[_0x155b5b(0x6ef)]=_0x510151[_0x155b5b(0x764)](_0x5402d1=>{const _0x5e9c91=_0x155b5b,_0x166020=_0x5402d1['url']&&_0x5402d1[_0x5e9c91(0x142)][_0x5e9c91(0x543)]()!=='',_0x23340f=_0x166020?_0x5e9c91(0x4d1):_0x5e9c91(0x9df),_0x1ce5a4=_0x166020?'🔁':'🔗',_0x17c5da=!_0x5402d1[_0x5e9c91(0x776)]?'<button\x20data-id=\x22'+_0x5402d1['id']+_0x5e9c91(0x905):'';return _0x5e9c91(0x332)+_0x5402d1['id']+_0x5e9c91(0x715)+_0x23340f+_0x5e9c91(0x18a)+_0x1ce5a4+'\x20'+_0x5402d1[_0x5e9c91(0x224)]+_0x5e9c91(0xa0d)+_0x5402d1['id']+_0x5e9c91(0xb30)+_0x17c5da+_0x5e9c91(0xadf);})[_0x155b5b(0x6da)](''),_0x176c8[_0x155b5b(0xb81)]>0x0&&(_0x2856e4[_0x155b5b(0x6ef)]+=_0x155b5b(0xa5a)),_0x176c8[_0x155b5b(0xb81)]>0x0?_0x3868fe[_0x155b5b(0x6ef)]=_0x176c8[_0x155b5b(0x764)](_0x172317=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+(_0x172317['url']?'🔁':'🔗')+'\x20'+_0x172317[_0x155b5b(0x224)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x172317['id']+_0x155b5b(0xcd0)+_0x172317['id']+_0x155b5b(0x506)+(!_0x172317['isDefault']?_0x155b5b(0x7a2)+_0x172317['id']+_0x155b5b(0x567):'')+_0x155b5b(0xc1b))['join'](''):_0x3868fe[_0x155b5b(0x6ef)]=_0x155b5b(0xfa);}function openParallelTestShortcutEditor(_0x1cf9c3=null){const _0x181ec2=_0x45c2ac,_0x3857e3=document[_0x181ec2(0x286)](_0x181ec2(0x2d3)),_0x2d9afe=document[_0x181ec2(0x286)](_0x181ec2(0xb9b)),_0x30b24b=document[_0x181ec2(0x286)](_0x181ec2(0x47c)),_0x20add7=document[_0x181ec2(0x286)](_0x181ec2(0x30b)),_0x538be7=document[_0x181ec2(0x286)](_0x181ec2(0xac1));if(_0x1cf9c3){const _0x5884b6=parallelTestShortcuts[_0x181ec2(0x7c7)](_0x1c42e4=>_0x1c42e4['id']===_0x1cf9c3);if(!_0x5884b6)return;_0x2d9afe[_0x181ec2(0x10e)]=_0x181ec2(0x1b2),_0x30b24b[_0x181ec2(0x227)]=_0x5884b6['id'],_0x20add7[_0x181ec2(0x227)]=_0x5884b6['name'],_0x538be7[_0x181ec2(0x227)]=_0x5884b6[_0x181ec2(0x142)]||'';}else _0x2d9afe['textContent']='เพิ่มปุ่มลัดข้อสอบต้นฉบับ',_0x30b24b[_0x181ec2(0x227)]='',_0x20add7[_0x181ec2(0x227)]='',_0x538be7[_0x181ec2(0x227)]='';_0x3857e3[_0x181ec2(0x707)][_0x181ec2(0x6d1)]('hidden');}async function saveParallelTestShortcutChanges(){const _0x5844fe=_0x45c2ac,_0x570e42=document[_0x5844fe(0x286)]('parallel-shortcut-id-input')[_0x5844fe(0x227)],_0x1570b3=document[_0x5844fe(0x286)](_0x5844fe(0x30b))[_0x5844fe(0x227)][_0x5844fe(0x543)](),_0x3766ee=document[_0x5844fe(0x286)](_0x5844fe(0xac1))[_0x5844fe(0x227)][_0x5844fe(0x543)]();if(!_0x1570b3){showMessage(_0x5844fe(0xc79));return;}const _0x383cb3={'id':_0x570e42||_0x5844fe(0x36e)+Date[_0x5844fe(0x17c)](),'name':_0x1570b3,'url':_0x3766ee,'isDefault':_0x570e42['startsWith'](_0x5844fe(0x3d7))};let _0x33bf92;_0x570e42?_0x33bf92=parallelTestShortcuts[_0x5844fe(0x764)](_0x5150c8=>_0x5150c8['id']===_0x570e42?_0x383cb3:_0x5150c8):_0x33bf92=[...parallelTestShortcuts,_0x383cb3];try{const _0x3f12d0=doc(db,'globalSettings',_0x5844fe(0x76c));await setDoc(_0x3f12d0,{'shortcuts':_0x33bf92},{'merge':!![]}),document['getElementById'](_0x5844fe(0x2d3))[_0x5844fe(0x707)][_0x5844fe(0xbfd)]('hidden');}catch(_0x551975){console[_0x5844fe(0x4da)](_0x5844fe(0xc17),_0x551975),showMessage(_0x5844fe(0x387));}}async function handleParallelTestShortcutClick(_0x2de91c){const _0x350fed=_0x45c2ac,_0x532d7d=parallelTestShortcuts['find'](_0x1c19de=>_0x1c19de['id']===_0x2de91c);if(!_0x532d7d)return;if(!_0x532d7d['url']||_0x532d7d[_0x350fed(0x142)][_0x350fed(0x543)]()===''){openParallelTestShortcutEditor(_0x2de91c);return;}const _0x284a97=document[_0x350fed(0x286)]('loader'),_0x5eea13=document['getElementById'](_0x350fed(0x33e));document['getElementById'](_0x350fed(0x1bd))[_0x350fed(0x707)][_0x350fed(0x6d1)]('hidden'),document[_0x350fed(0x286)]('generated-quiz-container')['innerHTML']='',_0x284a97[_0x350fed(0x707)][_0x350fed(0x6d1)]('hidden'),_0x5eea13[_0x350fed(0x10e)]=_0x350fed(0xcb9);try{let _0x274928;_0x532d7d['url'][_0x350fed(0x3f0)]()['includes']('.txt')?_0x274928=_0x350fed(0xcc5):_0x274928=_0x350fed(0x924);const _0x36d12b=await fetchFileFromUrl(_0x532d7d[_0x350fed(0x142)],_0x274928);await handleGenerateParallelTest(_0x36d12b);}catch(_0x51c72a){console[_0x350fed(0x4da)](_0x350fed(0x118),_0x51c72a),showMessage(_0x350fed(0x1ae)+_0x51c72a['message']),_0x284a97[_0x350fed(0x707)][_0x350fed(0xbfd)](_0x350fed(0xb5c));}}function initializeScratchpadCanvas(){const _0x44d111=_0x45c2ac,_0x270820=document['getElementById'](_0x44d111(0xc96)),_0x1b945c=document['querySelector']('.scratchpad-content-wrapper');if(!_0x270820||!_0x1b945c)return;scratchpadCtx=_0x270820['getContext']('2d',{'willReadFrequently':!![]});const _0x51ff48=window[_0x44d111(0x785)]||0x1,_0x95604a=_0x1b945c[_0x44d111(0x477)]();_0x270820[_0x44d111(0x710)]=_0x95604a[_0x44d111(0x710)]*_0x51ff48,_0x270820[_0x44d111(0x80)]=_0x95604a[_0x44d111(0x80)]*_0x51ff48,_0x270820[_0x44d111(0x760)][_0x44d111(0x710)]=_0x95604a[_0x44d111(0x710)]+'px',_0x270820[_0x44d111(0x760)]['height']=_0x95604a[_0x44d111(0x80)]+'px',scratchpadCtx[_0x44d111(0x47a)](_0x51ff48,_0x51ff48),scratchpadCtx[_0x44d111(0x7ef)]=_0x44d111(0xb0d),scratchpadCtx[_0x44d111(0x4b9)]='round',_0x270820['removeEventListener'](_0x44d111(0x211),handlePointerDown),_0x270820[_0x44d111(0xb74)](_0x44d111(0x2ab),handlePointerMove),_0x270820[_0x44d111(0xb74)](_0x44d111(0x465),handlePointerUp),_0x270820['removeEventListener']('pointercancel',handlePointerUp),_0x270820[_0x44d111(0xb74)](_0x44d111(0x23b),handleWheel),_0x270820[_0x44d111(0xb74)](_0x44d111(0x79f),handlePointerDown),_0x270820[_0x44d111(0xb74)](_0x44d111(0x76f),handlePointerMove),_0x270820[_0x44d111(0xb74)](_0x44d111(0xd0),handlePointerUp),_0x270820[_0x44d111(0x504)](_0x44d111(0x211),handlePointerDown),_0x270820['addEventListener'](_0x44d111(0x2ab),handlePointerMove),_0x270820[_0x44d111(0x504)](_0x44d111(0x465),handlePointerUp),_0x270820['addEventListener'](_0x44d111(0xc36),handlePointerUp),_0x270820['addEventListener'](_0x44d111(0x23b),handleWheel,{'passive':![]}),_0x270820[_0x44d111(0x504)]('touchstart',handlePointerDown,{'passive':![]}),_0x270820['addEventListener'](_0x44d111(0x76f),handlePointerMove,{'passive':![]}),_0x270820[_0x44d111(0x504)]('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x5f2eb9=_0x45c2ac,_0xebff70=document[_0x5f2eb9(0x286)](_0x5f2eb9(0xb7a)),_0x1ce22e=document[_0x5f2eb9(0x286)](_0x5f2eb9(0x25f));_0x1ce22e[_0x5f2eb9(0x6ef)]=_0x5f2eb9(0x9bd)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x428643=document[_0x5f2eb9(0x286)](_0x5f2eb9(0x749)),_0x20102b=document['getElementById'](_0x5f2eb9(0x55b)),_0x2db662=document[_0x5f2eb9(0x286)](_0x5f2eb9(0x641)),_0x5d0618=document[_0x5f2eb9(0x286)](_0x5f2eb9(0x3b1)),_0x4428db=document[_0x5f2eb9(0x286)](_0x5f2eb9(0x405)),_0x2cc499=document[_0x5f2eb9(0x286)](_0x5f2eb9(0xe4)),_0x8e056f=document[_0x5f2eb9(0x286)](_0x5f2eb9(0xc27)),_0x365a66=[_0x428643,_0x20102b,_0x2db662,_0x5d0618];document[_0x5f2eb9(0x286)](_0x5f2eb9(0x6ee))[_0x5f2eb9(0x504)](_0x5f2eb9(0x936),()=>_0xebff70[_0x5f2eb9(0x707)]['add']('hidden')),document[_0x5f2eb9(0x286)]('reset-view-btn')[_0x5f2eb9(0x504)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x5f2eb9(0x286)](_0x5f2eb9(0xa5e))['addEventListener'](_0x5f2eb9(0x936),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x5f2eb9(0x286)](_0x5f2eb9(0x456))[_0x5f2eb9(0x504)](_0x5f2eb9(0x936),undo),document[_0x5f2eb9(0x286)](_0x5f2eb9(0x8f9))[_0x5f2eb9(0x504)](_0x5f2eb9(0x936),redo);const _0x47da53=_0x3593c1=>{const _0x31e72b=_0x5f2eb9;_0x365a66[_0x31e72b(0x94d)](_0x1d48f6=>_0x1d48f6[_0x31e72b(0x707)]['remove'](_0x31e72b(0x925))),_0x3593c1[_0x31e72b(0x707)]['add'](_0x31e72b(0x925)),_0x4428db['classList'][_0x31e72b(0xbfd)](_0x31e72b(0xb5c)),_0x2cc499[_0x31e72b(0x707)][_0x31e72b(0xbfd)](_0x31e72b(0xb5c)),_0x8e056f[_0x31e72b(0x707)][_0x31e72b(0xbfd)](_0x31e72b(0xb5c));if(activeTool==='pen'||activeTool===_0x31e72b(0x8e4))_0x4428db[_0x31e72b(0x707)][_0x31e72b(0x6d1)]('hidden');else{if(activeTool===_0x31e72b(0x3b2))_0x2cc499[_0x31e72b(0x707)][_0x31e72b(0x6d1)](_0x31e72b(0xb5c));else activeTool==='eraser'&&_0x8e056f[_0x31e72b(0x707)][_0x31e72b(0x6d1)](_0x31e72b(0xb5c));}};_0x428643['addEventListener'](_0x5f2eb9(0x936),()=>{const _0x246a34=_0x5f2eb9;activeTool=_0x246a34(0x65f),_0x47da53(_0x428643);}),_0x20102b[_0x5f2eb9(0x504)]('click',()=>{activeTool='eraser',_0x47da53(_0x20102b);}),_0x2db662[_0x5f2eb9(0x504)](_0x5f2eb9(0x936),()=>{const _0x2b793f=_0x5f2eb9;activeTool=_0x2b793f(0x8e4),_0x47da53(_0x2db662);}),_0x5d0618[_0x5f2eb9(0x504)](_0x5f2eb9(0x936),()=>{const _0x3b9925=_0x5f2eb9;activeTool=_0x3b9925(0x3b2),_0x47da53(_0x5d0618);}),_0x4428db[_0x5f2eb9(0x640)](_0x5f2eb9(0x59e))[_0x5f2eb9(0x94d)](_0x39ed6c=>{const _0x1e2232=_0x5f2eb9;_0x39ed6c[_0x1e2232(0x504)](_0x1e2232(0x936),_0x2b06d4=>{const _0x3f72d6=_0x1e2232;scratchpadPenSize=parseInt(_0x2b06d4[_0x3f72d6(0x797)]['dataset']['size'],0xa),_0x4428db[_0x3f72d6(0x640)](_0x3f72d6(0x59e))[_0x3f72d6(0x94d)](_0x1dfe27=>_0x1dfe27[_0x3f72d6(0x707)][_0x3f72d6(0x6d1)](_0x3f72d6(0x925))),_0x2b06d4[_0x3f72d6(0x797)][_0x3f72d6(0x707)][_0x3f72d6(0xbfd)]('active');});}),_0x8e056f[_0x5f2eb9(0x640)](_0x5f2eb9(0xcb6))[_0x5f2eb9(0x94d)](_0xe8e1e=>{const _0x4470cb=_0x5f2eb9;_0xe8e1e[_0x4470cb(0x504)](_0x4470cb(0x936),_0x3dbac4=>{const _0x3367f5=_0x4470cb,_0x1f8095=_0x3dbac4[_0x3367f5(0x617)];scratchpadEraserSize=parseInt(_0x1f8095['dataset'][_0x3367f5(0x742)],0xa),_0x8e056f[_0x3367f5(0x640)]('.eraser-size-btn')[_0x3367f5(0x94d)](_0x2d122b=>_0x2d122b['classList'][_0x3367f5(0x6d1)](_0x3367f5(0x925))),_0x1f8095[_0x3367f5(0x707)][_0x3367f5(0xbfd)](_0x3367f5(0x925));});}),_0x4428db[_0x5f2eb9(0x640)]('.pen-color-btn')['forEach'](_0x8c5435=>{const _0x11516e=_0x5f2eb9;_0x8c5435[_0x11516e(0x504)](_0x11516e(0x936),_0x20a2f0=>{const _0x177944=_0x11516e;scratchpadPenColor=_0x20a2f0[_0x177944(0x797)][_0x177944(0x24b)][_0x177944(0x4af)],_0x4428db[_0x177944(0x640)](_0x177944(0xc38))['forEach'](_0x1d32e0=>_0x1d32e0['classList'][_0x177944(0x6d1)](_0x177944(0x925))),_0x20a2f0[_0x177944(0x797)][_0x177944(0x707)][_0x177944(0xbfd)](_0x177944(0x925));});}),_0x2cc499[_0x5f2eb9(0x640)]('.highlighter-color-btn')[_0x5f2eb9(0x94d)](_0x38c32a=>{const _0x2d47b7=_0x5f2eb9;_0x38c32a[_0x2d47b7(0x504)](_0x2d47b7(0x936),_0x135159=>{const _0x1616e3=_0x2d47b7;scratchpadHighlighterColor=_0x135159[_0x1616e3(0x797)]['dataset'][_0x1616e3(0x4af)],_0x2cc499[_0x1616e3(0x640)](_0x1616e3(0x4f5))[_0x1616e3(0x94d)](_0x4d7695=>_0x4d7695[_0x1616e3(0x707)][_0x1616e3(0x6d1)]('active')),_0x135159[_0x1616e3(0x797)]['classList'][_0x1616e3(0xbfd)](_0x1616e3(0x925));});});const _0x4f2792=document[_0x5f2eb9(0x286)](_0x5f2eb9(0x886)),_0x2015f6=document[_0x5f2eb9(0x286)](_0x5f2eb9(0xa82));_0x4f2792[_0x5f2eb9(0x504)](_0x5f2eb9(0x4df),_0x568b89=>{const _0x37528a=_0x5f2eb9,_0x43d936=parseInt(_0x568b89[_0x37528a(0x797)][_0x37528a(0x227)],0xa);scratchpadHighlighterSize=_0x43d936,_0x2015f6['textContent']=_0x43d936;}),window[_0x5f2eb9(0x504)]('resize',()=>{const _0x5705f6=_0x5f2eb9;!_0xebff70[_0x5705f6(0x707)][_0x5705f6(0xb7c)](_0x5705f6(0xb5c))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x45c2ac(0xc5e),'name':_0x45c2ac(0x55e),'description':_0x45c2ac(0x249),'icon':_0x45c2ac(0xd04)},'QUICK_THINKER':{'id':_0x45c2ac(0x151),'name':_0x45c2ac(0x2ca),'description':_0x45c2ac(0x643),'icon':_0x45c2ac(0x86e)},'ON_FIRE':{'id':_0x45c2ac(0xb34),'name':'ท็อปฟอร์ม','description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x45c2ac(0xa2f)},'FIRST_TRY_ACE':{'id':_0x45c2ac(0x77a),'name':'ผ่านฉลุย','description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x45c2ac(0xcd1)},'COMEBACK_KING':{'id':_0x45c2ac(0x3a6),'name':_0x45c2ac(0x1a7),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x45c2ac(0x8c0)},'SPECIALIST':{'id':_0x45c2ac(0x8c1),'name':_0x45c2ac(0x7dd),'description':_0x45c2ac(0x1ff),'icon':_0x45c2ac(0x30d)},'PERSEVERANCE':{'id':_0x45c2ac(0x947),'name':_0x45c2ac(0xae4),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x45c2ac(0x82f)}},firebaseConfig={'apiKey':_0x45c2ac(0x4bc),'authDomain':_0x45c2ac(0x4ad),'projectId':'ai-quiz-app-aefee','storageBucket':_0x45c2ac(0x404),'messagingSenderId':_0x45c2ac(0x444),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x45c2ac(0x67d)},appId=typeof __app_id!=='undefined'?__app_id:'ai-quiz-generator-v3',adminView=document['getElementById'](_0x45c2ac(0x855)),studentView=document[_0x45c2ac(0x286)](_0x45c2ac(0x577)),projectDashboardView=document[_0x45c2ac(0x286)](_0x45c2ac(0x4bd)),projectDetailView=document[_0x45c2ac(0x286)]('project-detail-view'),quizResultsView=document[_0x45c2ac(0x286)]('quiz-results-view'),projectList=document['getElementById'](_0x45c2ac(0x3c5)),noProjectsMsg=document['getElementById'](_0x45c2ac(0x795)),projectTitle=document[_0x45c2ac(0x286)]('project-title'),projectIdDisplay=document['getElementById'](_0x45c2ac(0xa4e)),studentList=document[_0x45c2ac(0x286)](_0x45c2ac(0x3dc)),messageModal=document['getElementById'](_0x45c2ac(0xd17)),modalMessage=document[_0x45c2ac(0x286)](_0x45c2ac(0x53c)),createProjectModal=document[_0x45c2ac(0x286)](_0x45c2ac(0x655)),adminPasswordModal=document[_0x45c2ac(0x286)](_0x45c2ac(0xcc1)),confirmationModal=document[_0x45c2ac(0x286)](_0x45c2ac(0xb09)),userIdDisplay=document['getElementById']('user-id-display'),topicTab=document[_0x45c2ac(0x286)](_0x45c2ac(0x3cd)),textTab=document[_0x45c2ac(0x286)](_0x45c2ac(0x68)),topicInputArea=document[_0x45c2ac(0x286)](_0x45c2ac(0x86a)),textInputArea=document[_0x45c2ac(0x286)]('text-input-area'),manageTab=document[_0x45c2ac(0x286)](_0x45c2ac(0x685)),resultsTab=document['getElementById'](_0x45c2ac(0x87f)),leaderboardTab=document[_0x45c2ac(0x286)](_0x45c2ac(0xc19)),manageTabContent=document['getElementById'](_0x45c2ac(0x22e)),resultsTabContent=document[_0x45c2ac(0x286)](_0x45c2ac(0x20e)),leaderboardTabContent=document['getElementById'](_0x45c2ac(0xbbe)),projectQuizzesList=document['getElementById'](_0x45c2ac(0xab7)),fileTab=document[_0x45c2ac(0x286)](_0x45c2ac(0x1f6)),fileInputArea=document[_0x45c2ac(0x286)]('file-input-area'),fileUploadInput=document[_0x45c2ac(0x286)](_0x45c2ac(0x141)),worksheetTab=document[_0x45c2ac(0x286)]('worksheet-tab'),worksheetInputArea=document[_0x45c2ac(0x286)]('worksheet-input-area'),generateWorksheetBtn=document[_0x45c2ac(0x286)]('generate-worksheet-btn'),studentInitialView=document['getElementById'](_0x45c2ac(0x968)),studentNameSelectionView=document['getElementById'](_0x45c2ac(0x220)),studentQuizArea=document[_0x45c2ac(0x286)](_0x45c2ac(0x69)),studentResultArea=document[_0x45c2ac(0x286)](_0x45c2ac(0xab1)),studentReadingArea=document[_0x45c2ac(0x286)](_0x45c2ac(0x6ec)),loadQuizBtn=document['getElementById'](_0x45c2ac(0x5b6)),startQuizBtn=document[_0x45c2ac(0x286)]('start-quiz-btn'),studentJoinGameView=document[_0x45c2ac(0x286)](_0x45c2ac(0x875)),presentationModal=document[_0x45c2ac(0x286)](_0x45c2ac(0x2df)),renameQuizModal=document[_0x45c2ac(0x286)]('rename-quiz-modal'),moveQuizModal=document[_0x45c2ac(0x286)]('move-quiz-modal'),quizSettingsModal=document['getElementById']('quiz-settings-modal'),quizStatusModal=document['getElementById']('quiz-status-modal'),liveGameView=document[_0x45c2ac(0x286)](_0x45c2ac(0x698));function handleFixLessonLatex(){const _0x84842e=_0x45c2ac,_0x59c4f2=document['getElementById'](_0x84842e(0xc2d));if(!_0x59c4f2){showMessage(_0x84842e(0x1b7));return;}const _0x48f248=_0x59c4f2['querySelectorAll']([_0x84842e(0x9fb),'.ai-content\x20li',_0x84842e(0xae7),_0x84842e(0x399),_0x84842e(0x5cb)][_0x84842e(0x6da)](','));let _0x4b4558=0x0;const _0x5eb30d=_0x36505c=>_0x36505c[_0x84842e(0x10e)]||'',_0x2e0168=(_0x4cb179,_0x3f2f77)=>{const _0x14cb8c=_0x84842e;if(_0x4cb179[_0x14cb8c(0x443)]&&_0x4cb179[_0x14cb8c(0x443)](_0x14cb8c(0x6f3)))return;_0x4cb179[_0x14cb8c(0x10e)]=_0x3f2f77;},_0x5d14a4=_0x5327aa=>_0x5327aa[_0x84842e(0xc3b)](/\u00A0/g,'\x20')[_0x84842e(0xc3b)](/\u200B/g,'')[_0x84842e(0xc3b)](/\r\n?/g,'\x0a'),_0x51c4fe=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x5c38d4=_0x5247e9=>{const _0x1e3e07=_0x84842e;let _0x558e53=_0x5247e9[_0x1e3e07(0x543)]();const _0x1e0322=[_0x1e3e07(0x8da),_0x1e3e07(0x4e5),_0x1e3e07(0x7b9),_0x1e3e07(0xaf8),_0x1e3e07(0x135),_0x1e3e07(0x3ed),_0x1e3e07(0x2bf),_0x1e3e07(0xc80),_0x1e3e07(0xdc),_0x1e3e07(0xb18),'le','ge',_0x1e3e07(0x38e),'pm',_0x1e3e07(0x196),'sin',_0x1e3e07(0x774),_0x1e3e07(0x23f),_0x1e3e07(0x241),'ln',_0x1e3e07(0x4cc),'prod',_0x1e3e07(0xc34),_0x1e3e07(0x1e2),_0x1e3e07(0x67a),_0x1e3e07(0x937),'underline',_0x1e3e07(0xc9f),_0x1e3e07(0x860)];_0x1e0322[_0x1e3e07(0x94d)](_0x4e4c36=>{const _0x453554=_0x1e3e07;_0x558e53=_0x558e53[_0x453554(0xc3b)](new RegExp(_0x453554(0xaff)+_0x4e4c36+'\x5cb','g'),(_0x25f70c,_0x1317ea)=>_0x1317ea+'\x5c'+_0x4e4c36);});const _0x5a203a=[[/×/g,_0x1e3e07(0x66b)],[/·/g,_0x1e3e07(0x671)],[/÷/g,'\x5cdiv'],[/≤/g,_0x1e3e07(0x187)],[/≥/g,_0x1e3e07(0x1aa)],[/≠/g,_0x1e3e07(0xd19)],[/±/g,_0x1e3e07(0x32c)],[/∑/g,_0x1e3e07(0x7a9)],[/−/g,'-']];return _0x5a203a[_0x1e3e07(0x94d)](([_0x1fc7e8,_0x2a67ce])=>{const _0x42ba33=_0x1e3e07;_0x558e53=_0x558e53[_0x42ba33(0xc3b)](_0x1fc7e8,_0x2a67ce);}),_0x558e53=_0x558e53['replace'](/√\s*([A-Za-z0-9]+)/g,_0x1e3e07(0x4ff)),_0x558e53=_0x558e53[_0x1e3e07(0xc3b)](/(\d+)\s*%/g,_0x1e3e07(0xb61)),_0x558e53;},_0x55cd51=_0xa896f=>{const _0x2715ce=_0x84842e;if(/\$|\\\(|\\\[/[_0x2715ce(0x1f2)](_0xa896f))return _0xa896f;if(!_0x51c4fe[_0x2715ce(0x1f2)](_0xa896f))return _0xa896f;const _0x5005c7=_0xa896f['match'](/^\s*/)[0x0],_0xe41f79=_0xa896f[_0x2715ce(0xca4)](/\s*$/)[0x0],_0x578a25=_0xa896f['trim']();return _0x5005c7+'$'+_0x5c38d4(_0x578a25)+'$'+_0xe41f79;};_0x48f248[_0x84842e(0x94d)](_0x5e3580=>{const _0x182f93=_0x84842e,_0x42d95a=_0x5eb30d(_0x5e3580);let _0x59e676=_0x5d14a4(_0x42d95a);_0x59e676=_0x59e676['replace'](/\$([^$]*?)\$/g,(_0x1df382,_0xeffa02)=>'$'+_0x5c38d4(_0xeffa02)+'$');const _0x51e69b=_0x59e676[_0x182f93(0x2b4)](/(\s+)/),_0x586569=_0x51e69b[_0x182f93(0x764)](_0x174cb6=>{const _0x102a7b=_0x182f93;if(/\s+/[_0x102a7b(0x1f2)](_0x174cb6))return _0x174cb6;return _0x55cd51(_0x174cb6);});_0x59e676=_0x586569['join'](''),_0x59e676!==_0x42d95a&&(_0x2e0168(_0x5e3580,_0x59e676),_0x4b4558++);});if(_0x4b4558>0x0){showMessage(_0x84842e(0x352)+_0x4b4558+_0x84842e(0xc26));try{window[_0x84842e(0x36f)]&&MathJax[_0x84842e(0x8c4)]&&MathJax[_0x84842e(0x8c4)]([_0x59c4f2]);}catch(_0x1d5b7e){console[_0x84842e(0x4da)]('MathJax\x20re-render\x20failed:',_0x1d5b7e);}}else showMessage(_0x84842e(0xde));}function handleAutoFixLatex(){const _0x126a91=_0x45c2ac,_0x415f8c=document[_0x126a91(0x286)](_0x126a91(0x138))||document,_0x2d2241=_0x415f8c[_0x126a91(0x640)](_0x126a91(0xbfb));let _0x35b43b=0x0;const _0x24ff2e=_0x527794=>'value'in _0x527794?String(_0x527794['value']):_0x527794[_0x126a91(0x654)]!==undefined?_0x527794[_0x126a91(0x654)]:_0x527794[_0x126a91(0x10e)]||'',_0x394ac2=(_0x5c147e,_0x51f808)=>{const _0x278ae5=_0x126a91;if(_0x278ae5(0x227)in _0x5c147e){_0x5c147e[_0x278ae5(0x227)]=_0x51f808;return;}if(_0x5c147e[_0x278ae5(0x443)]&&_0x5c147e[_0x278ae5(0x443)](_0x278ae5(0x6f3)))return;if(_0x5c147e[_0x278ae5(0x654)]!==undefined)_0x5c147e[_0x278ae5(0x654)]=_0x51f808;else _0x5c147e[_0x278ae5(0x10e)]=_0x51f808;},_0x5419bd=_0x146cf7=>_0x146cf7['replace'](/\u00A0/g,'\x20')[_0x126a91(0xc3b)](/\u200B/g,'')[_0x126a91(0xc3b)](/\r\n?/g,'\x0a'),_0x450fbe=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x52ed7b=_0x52db48=>{const _0x4b2a2c=_0x126a91;let _0x715ea2=_0x52db48['trim']();_0x715ea2=_0x715ea2[_0x4b2a2c(0xc3b)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x715ea2=_0x715ea2[_0x4b2a2c(0xc3b)](/\bfrac(\d)(\d)/g,_0x4b2a2c(0xc0));const _0x2800b4=['frac','sqrt',_0x4b2a2c(0x3ed),'cdot',_0x4b2a2c(0xc80),_0x4b2a2c(0xdc),'geq','neq','pm',_0x4b2a2c(0xbe3),_0x4b2a2c(0x774),_0x4b2a2c(0x23f),'log','ln'];_0x2800b4[_0x4b2a2c(0x94d)](_0x484e02=>{const _0xdc4c8e=_0x4b2a2c;_0x715ea2=_0x715ea2[_0xdc4c8e(0xc3b)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x484e02+'\x5cb','g'),(_0x1dcc40,_0x41f4ee)=>_0x41f4ee+'\x5c'+_0x484e02);});const _0x41bb96=[[/×/g,_0x4b2a2c(0x66b)],[/·/g,'\x5ccdot'],[/÷/g,_0x4b2a2c(0x511)],[/≤/g,_0x4b2a2c(0x187)],[/≥/g,_0x4b2a2c(0x1aa)],[/≠/g,_0x4b2a2c(0xd19)],[/±/g,_0x4b2a2c(0x32c)]];return _0x41bb96[_0x4b2a2c(0x94d)](([_0x50d34c,_0x45e183])=>{_0x715ea2=_0x715ea2['replace'](_0x50d34c,_0x45e183);}),_0x715ea2;},_0x2f8731=_0x1804a9=>{const _0xb753c0=_0x126a91;if(/\$|\\\(|\\\[/[_0xb753c0(0x1f2)](_0x1804a9))return _0x1804a9;if(!_0x450fbe[_0xb753c0(0x1f2)](_0x1804a9))return _0x1804a9;const _0x3de6f1=_0x1804a9['match'](/^\s*/)[0x0],_0x283dc2=_0x1804a9['match'](/\s*$/)[0x0],_0x5ac86c=_0x1804a9[_0xb753c0(0x543)]();return _0x3de6f1+'$'+_0x52ed7b(_0x5ac86c)+'$'+_0x283dc2;};_0x2d2241['forEach'](_0x12292c=>{const _0x2fffa3=_0x126a91,_0x5a6073=_0x24ff2e(_0x12292c);let _0x5d7be6=_0x5419bd(_0x5a6073);_0x5d7be6=_0x5d7be6[_0x2fffa3(0xc3b)](/\$([^$]*?)\$/g,(_0x4c937e,_0x131d56)=>'$'+_0x52ed7b(_0x131d56)+'$');const _0x13d085=_0x5d7be6[_0x2fffa3(0x2b4)](/(\s+)/),_0x118d02=_0x13d085['map'](_0x2346dc=>/\s+/[_0x2fffa3(0x1f2)](_0x2346dc)?_0x2346dc:_0x2f8731(_0x2346dc));_0x5d7be6=_0x118d02[_0x2fffa3(0x6da)](''),_0x5d7be6!==_0x5a6073&&(_0x394ac2(_0x12292c,_0x5d7be6),_0x35b43b++);});if(_0x35b43b>0x0){showMessage(_0x126a91(0x23c)+_0x35b43b+_0x126a91(0x95a));try{if(window['MathJax']&&MathJax[_0x126a91(0x8c4)])MathJax[_0x126a91(0x8c4)]();}catch(_0x28b219){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x4c85c3=_0x45c2ac,_0x398285=collection(db,'artifacts/'+appId+_0x4c85c3(0xbdb));onSnapshot(_0x398285,_0x59bedf=>{const _0x56cbd0=_0x4c85c3;customMathTopics=_0x59bedf[_0x56cbd0(0x22c)]['map'](_0x3755a1=>({'id':_0x3755a1['id'],..._0x3755a1['data']()})),renderTopicCheckboxes();},_0x4dc9b4=>{const _0x29df68=_0x4c85c3;console[_0x29df68(0x4da)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x4dc9b4);});}function handleSelectAllTopics(){const _0x1a7cda=_0x45c2ac,_0x27aa4b=document[_0x1a7cda(0x286)](_0x1a7cda(0xca2)),_0x46d5a0=_0x27aa4b['querySelectorAll']('input[type=\x22checkbox\x22]');_0x46d5a0[_0x1a7cda(0x94d)](_0xa7f7d3=>{const _0x321e2d=_0x1a7cda;_0xa7f7d3[_0x321e2d(0x50a)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x93e081=_0x45c2ac,_0x357e41=document['getElementById'](_0x93e081(0xca2)),_0x55e227=_0x357e41['querySelectorAll'](_0x93e081(0x2f3));_0x55e227['forEach'](_0x5b6049=>{const _0x3fe833=_0x93e081;_0x5b6049[_0x3fe833(0x50a)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x2ac179){const _0x3618dd=_0x45c2ac;if(!_0x2ac179)return;try{const _0x2fe6c7=doc(db,_0x3618dd(0x47d)+appId+_0x3618dd(0xbdb),_0x2ac179);await deleteDoc(_0x2fe6c7),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x38fb78){console[_0x3618dd(0x4da)](_0x3618dd(0x684),_0x38fb78),showMessage(_0x3618dd(0x1ee));}}async function handleAddCustomMathTopic(){const _0x47ec60=_0x45c2ac,_0x33f3c9=document['getElementById']('custom-math-topic-input'),_0x536da4=_0x33f3c9[_0x47ec60(0x227)]['trim']();if(!_0x536da4){showMessage(_0x47ec60(0xaf1));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x278845=collection(db,_0x47ec60(0x47d)+appId+_0x47ec60(0xbdb));await addDoc(_0x278845,{'name':_0x536da4,'createdAt':serverTimestamp()}),_0x33f3c9[_0x47ec60(0x227)]='',showMessage(_0x47ec60(0xb44)+_0x536da4+'\x22\x20สำเร็จ');}catch(_0x1cd00f){console['error'](_0x47ec60(0x1ab),_0x1cd00f),showMessage(_0x47ec60(0x431));}}async function handleUpdateOldQuizzes(){const _0x30ea8a=_0x45c2ac;showConfirmation(_0x30ea8a(0x580),async()=>{const _0x159ae8=_0x30ea8a,_0x378567=document['getElementById'](_0x159ae8(0x26d)),_0x159cc8=document[_0x159ae8(0x286)]('loader-text'),_0x1cbe24=_0x159cc8[_0x159ae8(0x10e)];_0x378567['classList'][_0x159ae8(0x6d1)]('hidden'),_0x159cc8[_0x159ae8(0x10e)]=_0x159ae8(0x5ac);try{const _0x1e62d0=collection(db,_0x159ae8(0x47d)+appId+_0x159ae8(0x5d7)),_0x36be14=await getDocs(_0x1e62d0);if(_0x36be14[_0x159ae8(0x500)]){showMessage(_0x159ae8(0x7ad));return;}const _0x2562e1=writeBatch(db);let _0xc90a7b=0x0;_0x36be14['forEach'](_0x58a108=>{const _0x1c6f26=_0x159ae8,_0x16e7cc=_0x58a108[_0x1c6f26(0x10a)](),_0x11a9dc=_0x58a108['id'];if(_0x16e7cc[_0x1c6f26(0xbc3)]&&_0x16e7cc[_0x1c6f26(0xbc3)][_0x1c6f26(0xb81)]>0x0&&!_0x16e7cc[_0x1c6f26(0xbc3)][0x0][_0x1c6f26(0x21d)]('id')){console[_0x1c6f26(0x241)](_0x1c6f26(0x409)+_0x11a9dc+'\x20('+_0x16e7cc[_0x1c6f26(0x26f)]+')'),_0xc90a7b++;const _0x1df7d0=_0x16e7cc['questions'][_0x1c6f26(0x764)]((_0xf02e42,_0x58f612)=>{const _0x503901=_0x1c6f26;return{..._0xf02e42,'id':_0xf02e42['id']||'q_'+Date[_0x503901(0x17c)]()+'_'+_0x11a9dc+'_'+_0x58f612};}),_0x1e3f39=doc(db,_0x1c6f26(0x47d)+appId+_0x1c6f26(0x5d7),_0x11a9dc);_0x2562e1['update'](_0x1e3f39,{'questions':_0x1df7d0});}}),_0xc90a7b>0x0?(_0x159cc8[_0x159ae8(0x10e)]=_0x159ae8(0x486)+_0xc90a7b+_0x159ae8(0x4c2),await _0x2562e1[_0x159ae8(0x92b)](),showMessage(_0x159ae8(0x81)+_0xc90a7b+_0x159ae8(0x42a))):showMessage(_0x159ae8(0x6e2));}catch(_0x4987bc){console[_0x159ae8(0x4da)](_0x159ae8(0xa1d),_0x4987bc),showMessage(_0x159ae8(0xb3a)+_0x4987bc[_0x159ae8(0xc97)]);}finally{_0x378567[_0x159ae8(0x707)][_0x159ae8(0xbfd)](_0x159ae8(0xb5c)),_0x159cc8['textContent']=_0x1cbe24;}});}async function handleBulkUpdateQuizSettings(){const _0xf8ebc1=_0x45c2ac,_0x56e622={'shuffle':document['getElementById'](_0xf8ebc1(0x920))[_0xf8ebc1(0x227)],'resultsDisplay':document['getElementById']('bulk-results-display-select')['value'],'loopUntilPass':document[_0xf8ebc1(0x286)](_0xf8ebc1(0x214))[_0xf8ebc1(0x50a)],'isConfidenceScoringEnabled':document[_0xf8ebc1(0x286)](_0xf8ebc1(0x1c9))[_0xf8ebc1(0x50a)],'confidenceMode':document[_0xf8ebc1(0x286)](_0xf8ebc1(0xa3a))[_0xf8ebc1(0x227)]};try{showMessage(_0xf8ebc1(0x394));const _0x3c57d8=await getDocs(collection(db,_0xf8ebc1(0x47d)+appId+_0xf8ebc1(0x5d7))),_0x665701=_0x3c57d8[_0xf8ebc1(0x22c)][_0xf8ebc1(0x764)](_0x1c95ba=>({'id':_0x1c95ba['id'],'data':_0x1c95ba[_0xf8ebc1(0x10a)]()})),_0x5b01f3=_0x665701[_0xf8ebc1(0xb81)];showConfirmation(_0xf8ebc1(0x9fd)+_0x5b01f3+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x1efc3c=_0xf8ebc1,_0x1bb714=document[_0x1efc3c(0x286)]('confirm-bulk-quiz-settings-btn');_0x1bb714['disabled']=!![],_0x1bb714[_0x1efc3c(0x6ef)]=_0x1efc3c(0x213);try{const _0x34b123=writeBatch(db);_0x665701[_0x1efc3c(0x94d)](_0x1f3d89=>{const _0x43c301=_0x1efc3c,_0x35e4e7=doc(db,_0x43c301(0x47d)+appId+'/public/data/quizzes',_0x1f3d89['id']),_0x1ecdca={..._0x1f3d89[_0x43c301(0x10a)][_0x43c301(0x125)]||{},..._0x56e622};_0x34b123[_0x43c301(0xacb)](_0x35e4e7,{'settings':_0x1ecdca});}),await _0x34b123['commit'](),document[_0x1efc3c(0x286)](_0x1efc3c(0x77f))['classList']['add'](_0x1efc3c(0xb5c)),showMessage(_0x1efc3c(0x900)+_0x5b01f3+'\x20ชุดสำเร็จ!');}catch(_0x47e76){console[_0x1efc3c(0x4da)](_0x1efc3c(0x330),_0x47e76),showMessage(_0x1efc3c(0x7fd));}finally{_0x1bb714[_0x1efc3c(0x790)]=![],_0x1bb714[_0x1efc3c(0x6ef)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x4775c3){console[_0xf8ebc1(0x4da)](_0xf8ebc1(0x7d),_0x4775c3),showMessage(_0xf8ebc1(0x3d0));}}async function handleSaveProjectName(){const _0x169a29=_0x45c2ac,_0x2795bb=document[_0x169a29(0x286)]('project-title'),_0x36fcdc=document[_0x169a29(0x286)]('save-project-name-btn'),_0x1f208d=_0x2795bb[_0x169a29(0x10e)][_0x169a29(0x543)]();if(!_0x1f208d||!currentProjectId){showMessage(_0x169a29(0x6c8)),_0x2795bb[_0x169a29(0x10e)]=currentProjectData['projectName'];return;}_0x36fcdc['disabled']=!![],_0x36fcdc[_0x169a29(0x6ef)]=_0x169a29(0x8ea);try{const _0x14f7b8=doc(db,_0x169a29(0x47d)+appId+_0x169a29(0x99f),currentProjectId);await updateDoc(_0x14f7b8,{'projectName':_0x1f208d}),currentProjectData&&(currentProjectData[_0x169a29(0xc49)]=_0x1f208d),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x1ce73f){console[_0x169a29(0x4da)](_0x169a29(0x2ff),_0x1ce73f),showMessage(_0x169a29(0x387)),_0x2795bb[_0x169a29(0x10e)]=currentProjectData['projectName'];}finally{_0x36fcdc[_0x169a29(0x707)][_0x169a29(0xbfd)](_0x169a29(0xb5c)),_0x36fcdc[_0x169a29(0x790)]=![],_0x36fcdc[_0x169a29(0x6ef)]=_0x169a29(0x657);}}function handleGeneratePracticeTest(_0x1e2885,_0x5b1995){const _0x122819=_0x45c2ac,_0x36e5f2=document[_0x122819(0x286)](_0x122819(0xc23)),_0xd5b08c=document['getElementById']('lesson-view-title'),_0x28752d=document[_0x122819(0x286)]('lesson-loader'),_0xce013e=document[_0x122819(0x286)](_0x122819(0xbc1));_0xd5b08c['textContent']=_0x122819(0x903)+_0x1e2885,_0xce013e[_0x122819(0x707)][_0x122819(0xbfd)](_0x122819(0xb5c)),_0x28752d[_0x122819(0x707)]['remove'](_0x122819(0xb5c)),_0x36e5f2[_0x122819(0x707)][_0x122819(0x6d1)](_0x122819(0xb5c)),generatePracticeTest(_0x1e2885,_0x5b1995)['catch'](_0x40ad31=>{const _0x1439ec=_0x122819;console[_0x1439ec(0x4da)](_0x1439ec(0x501),_0x40ad31),showMessage(_0x1439ec(0x1d7)),_0x36e5f2[_0x1439ec(0x707)][_0x1439ec(0xbfd)](_0x1439ec(0xb5c));});}async function generatePracticeTest(_0x3a7567,_0x4f38cd){const _0x365f1c=_0x45c2ac;[_0x365f1c(0xb3d),_0x365f1c(0xb1c),_0x365f1c(0x74a),_0x365f1c(0xc3f)][_0x365f1c(0x94d)](_0x3dbf68=>{const _0xd0eddd=_0x365f1c,_0x425e1f=document[_0xd0eddd(0x286)](_0x3dbf68)['parentElement'];_0x425e1f&&(_0x425e1f[_0xd0eddd(0x760)]['display']=_0xd0eddd(0x5ba));});try{const _0x48e91c='โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด',_0x4c5f63='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x4f38cd+_0x365f1c(0x89d)+_0x3a7567+_0x365f1c(0x34b),_0xb5a968=await callGemini(_0x4c5f63,!![]),_0x64af21=document[_0x365f1c(0x286)]('lesson-view-title'),_0xc54b46=document[_0x365f1c(0x286)](_0x365f1c(0x3cb)),_0x15ad9a=document[_0x365f1c(0x286)]('lesson-sections-container'),_0x99ea51=document['getElementById'](_0x365f1c(0x74a))[_0x365f1c(0x285)];_0x64af21[_0x365f1c(0x654)]=_0x365f1c(0xbd3)+_0x3a7567[_0x365f1c(0xc3b)](/•\s/g,'')+_0x365f1c(0x3b9)+_0x4f38cd+')',currentApplicationData=JSON[_0x365f1c(0x8dc)](_0xb5a968);const _0x105052=document['getElementById']('applicationContent');_0x105052['innerHTML']=currentApplicationData['map']((_0x3280f3,_0x25526b)=>_0x365f1c(0xb95)+(_0x25526b+0x1)+'.\x20'+marked['parseInline'](_0x3280f3['question'])+_0x365f1c(0x6f4)+_0x25526b+_0x365f1c(0x75f)+_0x3280f3[_0x365f1c(0xa07)][_0x365f1c(0x764)]((_0xac78d4,_0x40f934)=>_0x365f1c(0x164)+_0x25526b+',\x20'+_0x40f934+_0x365f1c(0x88b)+String[_0x365f1c(0x55f)](0x61+_0x40f934)+'.\x20'+marked[_0x365f1c(0xa52)](_0xac78d4)+_0x365f1c(0x83a))[_0x365f1c(0x6da)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x365f1c(0x6da)](''),window[_0x365f1c(0x36f)]&&MathJax[_0x365f1c(0x8c4)]([_0x105052]),_0x99ea51&&(_0x99ea51[_0x365f1c(0x760)][_0x365f1c(0xb19)]=_0x365f1c(0x755)),_0xc54b46[_0x365f1c(0x707)][_0x365f1c(0xbfd)](_0x365f1c(0xb5c)),_0x15ad9a[_0x365f1c(0x707)][_0x365f1c(0x6d1)](_0x365f1c(0xb5c));}catch(_0x388324){console[_0x365f1c(0x4da)](_0x388324);throw _0x388324;}}async function callGemini(_0x54cf2a,_0x4260d8=![]){const _0x5ee57b=_0x45c2ac,_0xeb1070=_0x5ee57b(0xb57),_0x441a11=_0x5ee57b(0x2b3)+_0xeb1070,_0x1638f1={'contents':[{'parts':[{'text':_0x54cf2a}]}]};_0x4260d8&&(_0x1638f1[_0x5ee57b(0x167)]={'responseMimeType':'application/json'},_0x54cf2a[_0x5ee57b(0x613)]('Test\x20Blueprint')?_0x1638f1[_0x5ee57b(0x167)]['responseSchema']={'type':_0x5ee57b(0xb8e),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':'ARRAY','items':{'type':_0x5ee57b(0xb8e),'properties':{'sara':{'type':_0x5ee57b(0x32a)},'mainTopics':{'type':_0x5ee57b(0xce2),'items':{'type':_0x5ee57b(0xb8e),'properties':{'topicName':{'type':_0x5ee57b(0x32a)},'subTopics':{'type':'ARRAY','items':{'type':_0x5ee57b(0x32a)}}},'required':[_0x5ee57b(0x71b),_0x5ee57b(0x3cf)]}}},'required':[_0x5ee57b(0xc2c),_0x5ee57b(0x3cc)]}}},'required':[_0x5ee57b(0x306),_0x5ee57b(0x7c8)]}:_0x1638f1['generationConfig'][_0x5ee57b(0x2b2)]={'type':_0x5ee57b(0xce2),'items':{'type':'OBJECT','properties':{'question':{'type':_0x5ee57b(0x32a)},'options':{'type':_0x5ee57b(0xce2),'items':{'type':_0x5ee57b(0x32a)}},'answer':{'type':'NUMBER'}},'required':[_0x5ee57b(0x5d6),'options',_0x5ee57b(0xa53)]}});try{const _0x31aaf6=await fetch(_0x441a11,{'method':'POST','headers':{'Content-Type':_0x5ee57b(0x2af)},'body':JSON[_0x5ee57b(0x2d7)](_0x1638f1)});if(!_0x31aaf6['ok']){const _0x1d77b1=await _0x31aaf6[_0x5ee57b(0x135)]();console[_0x5ee57b(0x4da)](_0x5ee57b(0x983),_0x1d77b1);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x31aaf6[_0x5ee57b(0xc3e)]);}const _0x43f3b2=await _0x31aaf6[_0x5ee57b(0x93b)]();if(_0x43f3b2['candidates']&&_0x43f3b2['candidates'][0x0][_0x5ee57b(0x8e3)]&&_0x43f3b2[_0x5ee57b(0x824)][0x0][_0x5ee57b(0x8e3)]['parts'][0x0])return _0x43f3b2['candidates'][0x0][_0x5ee57b(0x8e3)]['parts'][0x0]['text'];else{console['error'](_0x5ee57b(0x1d2),_0x43f3b2);if(_0x43f3b2[_0x5ee57b(0x824)]&&_0x43f3b2[_0x5ee57b(0x824)][0x0][_0x5ee57b(0xaf2)]===_0x5ee57b(0x287))return JSON[_0x5ee57b(0x2d7)]({'error':_0x5ee57b(0xc8c)});throw new Error(_0x5ee57b(0x361));}}catch(_0x12bb4a){console['error'](_0x5ee57b(0x6c4),_0x12bb4a);throw _0x12bb4a;}}async function generateLesson(_0x158557=null,_0x1a187c=null){const _0x5bc854=_0x45c2ac,_0x17c100=_0x158557,_0x4d2057=_0x1a187c||_0x5bc854(0xb55),_0x508cff=document['getElementById'](_0x5bc854(0x3cb)),_0x98a3f3=document[_0x5bc854(0x286)](_0x5bc854(0x931));_0x98a3f3[_0x5bc854(0x10e)]=_0x5bc854(0x94c)+_0x17c100+_0x5bc854(0xd38);try{let _0x2b985=[];const _0x29f119=document[_0x5bc854(0x286)](_0x5bc854(0x6ce))?.['value'][_0x5bc854(0x543)]();if(_0x29f119)try{_0x98a3f3[_0x5bc854(0x10e)]=_0x5bc854(0x416);const _0x3f0751=await fetchFileFromUrl(_0x29f119,_0x5bc854(0x243)),_0x266d53=await new Promise((_0x47b754,_0x2e07a0)=>{const _0x26f7ff=_0x5bc854,_0xe39880=new FileReader();_0xe39880['readAsDataURL'](_0x3f0751),_0xe39880[_0x26f7ff(0x24f)]=()=>_0x47b754(_0xe39880[_0x26f7ff(0x393)][_0x26f7ff(0x2b4)](',')[0x1]),_0xe39880['onerror']=_0x2e07a0;});_0x2b985[_0x5bc854(0xcec)]({'inlineData':{'mimeType':_0x3f0751[_0x5bc854(0x15e)],'data':_0x266d53}});}catch(_0x38845b){console[_0x5bc854(0x4da)](_0x5bc854(0x264),_0x38845b),showMessage(_0x5bc854(0xd8));}const _0x5d749b=_0x5bc854(0x172)+_0x17c100+_0x5bc854(0x1bb)+_0x17c100+_0x5bc854(0xc00);_0x98a3f3[_0x5bc854(0x10e)]=_0x5bc854(0x94c)+_0x17c100+_0x5bc854(0xd38);const _0x252083='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x4d2057+_0x5bc854(0x89d)+_0x17c100+_0x5bc854(0xc04)+_0x5d749b+_0x5bc854(0xcfc),_0x421369=_0x5bc854(0xf7)+_0x17c100+_0x5bc854(0x2ec)+_0x4d2057+_0x5bc854(0xa48)+_0x5d749b+_0x5bc854(0x859),_0x16eca8='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x4d2057+_0x5bc854(0x89d)+_0x17c100+_0x5bc854(0x5c5)+_0x5d749b+_0x5bc854(0x209),_0x5d32ec=_0x5bc854(0xaf9)+_0x17c100+_0x5bc854(0xd07)+_0x4d2057+_0x5bc854(0xbbc)+_0x5d749b+_0x5bc854(0x2d9),_0x549df4={'type':'ARRAY','items':{'type':_0x5bc854(0xb8e),'properties':{'question':{'type':_0x5bc854(0x32a)},'options':{'type':_0x5bc854(0xce2),'items':{'type':_0x5bc854(0x32a)}},'answer':{'type':_0x5bc854(0x611)}},'required':[_0x5bc854(0x5d6),_0x5bc854(0xa07),_0x5bc854(0xa53)]}},[_0x34f76a,_0x5a4f89,_0x54c3f7,_0x34a738]=await Promise[_0x5bc854(0xf3)]([handleApiCall([{'text':_0x252083},..._0x2b985],_0x5bc854(0x5eb),null,null,![]),handleApiCall([{'text':_0x421369},..._0x2b985],_0x5bc854(0x5eb),null,null,![]),handleApiCall([{'text':_0x16eca8},..._0x2b985],_0x5bc854(0x5eb),_0x549df4,null,![]),handleApiCall([{'text':_0x5d32ec},..._0x2b985],'...',null,null,![])]),_0x39d90f=JSON[_0x5bc854(0x2d7)](_0x54c3f7||[]),_0x26317e=document[_0x5bc854(0x286)]('lesson-view-title'),_0x4a4051=document['getElementById']('lesson-sections-container');_0x26317e[_0x5bc854(0x654)]='บทเรียนเรื่อง:\x20'+_0x17c100['replace'](/•\\s/g,'')+_0x5bc854(0x3b9)+_0x4d2057+')',[_0x5bc854(0xb3d),_0x5bc854(0xb1c),_0x5bc854(0xc3f)][_0x5bc854(0x94d)](_0x37ddc3=>{const _0x44c6a0=_0x5bc854;document['getElementById'](_0x37ddc3)[_0x44c6a0(0x6ef)]='';}),document[_0x5bc854(0x286)](_0x5bc854(0xb3d))[_0x5bc854(0x6ef)]=_0x34f76a?marked[_0x5bc854(0x8dc)](_0x34f76a):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document['getElementById'](_0x5bc854(0xb1c))['innerHTML']=_0x5a4f89?marked[_0x5bc854(0x8dc)](_0x5a4f89):_0x5bc854(0xd03),document['getElementById']('summaryContent')[_0x5bc854(0x6ef)]=_0x34a738?marked['parse'](_0x34a738):_0x5bc854(0xd03),currentApplicationData=JSON[_0x5bc854(0x8dc)](_0x39d90f);const _0x4f326d=document[_0x5bc854(0x286)](_0x5bc854(0x74a));_0x4f326d['innerHTML']=(currentApplicationData||[])[_0x5bc854(0x764)]((_0x3d1779,_0x29a3f2)=>_0x5bc854(0xb95)+(_0x29a3f2+0x1)+'.\x20'+marked['parseInline'](_0x3d1779['question']||'')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x29a3f2+_0x5bc854(0x75f)+(_0x3d1779[_0x5bc854(0xa07)]||[])['map']((_0x51e5bf,_0x3e7db2)=>_0x5bc854(0x164)+_0x29a3f2+',\x20'+_0x3e7db2+_0x5bc854(0x88b)+String[_0x5bc854(0x55f)](0x61+_0x3e7db2)+'.\x20'+marked[_0x5bc854(0xa52)](_0x51e5bf||'')+_0x5bc854(0x83a))[_0x5bc854(0x6da)]('')+_0x5bc854(0xc1b))['join']('')||_0x5bc854(0x4fb),window[_0x5bc854(0x36f)]&&MathJax[_0x5bc854(0x8c4)]([_0x4a4051]),_0x508cff[_0x5bc854(0x707)][_0x5bc854(0xbfd)]('hidden'),_0x4a4051[_0x5bc854(0x707)][_0x5bc854(0x6d1)](_0x5bc854(0xb5c));}catch(_0x265b22){console[_0x5bc854(0x4da)](_0x265b22);throw _0x265b22;}}function checkAnswer(_0x1d4241,_0x40f73b){const _0xb4815a=_0x45c2ac,_0x20f133=currentApplicationData[_0x1d4241],_0x57a241=document[_0xb4815a(0x286)]('q'+_0x1d4241+_0xb4815a(0x9ed)),_0x23cbb8=_0x57a241[_0xb4815a(0xcfd)]('button');for(let _0x323b80 of _0x23cbb8){_0x323b80['disabled']=!![];}_0x40f73b===_0x20f133['answer']?_0x23cbb8[_0x40f73b]['classList'][_0xb4815a(0xbfd)](_0xb4815a(0x3bd)):(_0x23cbb8[_0x40f73b][_0xb4815a(0x707)][_0xb4815a(0xbfd)](_0xb4815a(0xbff)),_0x23cbb8[_0x20f133[_0xb4815a(0xa53)]][_0xb4815a(0x707)][_0xb4815a(0xbfd)]('correct'));}window[_0x45c2ac(0x398)]=handleGenerateAndShowLesson,window[_0x45c2ac(0xc9c)]=checkAnswer,window[_0x45c2ac(0x78e)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0xef4514=_0x45c2ac;try{const _0x39920d=initializeApp(firebaseConfig);db=getFirestore(_0x39920d),auth=getAuth(_0x39920d),setupAuthListener(),setupEventListeners(),showView(_0xef4514(0x509)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x3252e8){console[_0xef4514(0x4da)](_0xef4514(0x8a6),_0x3252e8),showMessage(_0xef4514(0xbd8));}}async function handleVerifyAnswersInEditor(){const _0x232412=_0x45c2ac,_0x498fdb=document[_0x232412(0x286)](_0x232412(0x9f4));if(!_0x498fdb)return;const _0x19ed14=document[_0x232412(0x286)](_0x232412(0x42f));_0x19ed14[_0x232412(0x790)]=!![],_0x19ed14[_0x232412(0x6ef)]=_0x232412(0xce8);try{const _0x3f8f05=_0x498fdb['querySelectorAll']('.question-editor-item'),_0x59b691=Array[_0x232412(0xba1)](_0x3f8f05)['map']((_0x3d5dbf,_0x571180)=>{const _0x22aa9c=_0x232412,_0x27de56=_0x3d5dbf[_0x22aa9c(0x24b)]['qType'],_0x42fed8=_0x3d5dbf[_0x22aa9c(0x443)]('textarea')[_0x22aa9c(0x227)];let _0x1915a3=null,_0x21819f='';switch(_0x27de56){case'multiple_choice':const _0x317637=_0x3d5dbf['querySelectorAll'](_0x22aa9c(0x341));_0x1915a3=Array[_0x22aa9c(0xba1)](_0x317637)['map'](_0x40fd67=>_0x40fd67[_0x22aa9c(0x227)]);const _0xa5ead2=_0x3d5dbf['querySelector'](_0x22aa9c(0x336));_0xa5ead2&&(_0x21819f=_0x1915a3[parseInt(_0xa5ead2[_0x22aa9c(0x227)])]);break;case'short_answer':_0x1915a3=[],_0x21819f=_0x3d5dbf['querySelector'](_0x22aa9c(0x322))[_0x22aa9c(0x227)];break;case'true_false':_0x1915a3=[_0x22aa9c(0x160),_0x22aa9c(0x70c)];const _0x45038e=_0x3d5dbf[_0x22aa9c(0x443)](_0x22aa9c(0x336));_0x21819f=_0x45038e?_0x45038e[_0x22aa9c(0x227)]:'';break;case _0x22aa9c(0x2d6):_0x1915a3=[],_0x21819f=_0x3d5dbf[_0x22aa9c(0x443)](_0x22aa9c(0x8cf))[_0x22aa9c(0x227)];break;}return{'question':_0x42fed8,'options':_0x1915a3,'proposedAnswer':_0x21819f};}),_0x221a57=_0x232412(0xbf9)+JSON[_0x232412(0x2d7)](_0x59b691)+_0x232412(0x33b),_0x3f5099={'type':_0x232412(0xce2),'items':{'type':_0x232412(0xb8e),'properties':{'questionIndex':{'type':_0x232412(0x611)},'isCorrect':{'type':_0x232412(0x7de)},'justification':{'type':_0x232412(0x32a)},'correctOptionExists':{'type':'BOOLEAN'},'suggestedAnswer':{'type':_0x232412(0x32a)},'newOptionsPayload':{'type':'OBJECT','properties':{'newOptions':{'type':_0x232412(0xce2),'items':{'type':_0x232412(0x32a)}},'newCorrectIndex':{'type':_0x232412(0x611)}}}},'required':[_0x232412(0xa05),_0x232412(0x995),_0x232412(0x94a)]}},_0x41c549=await callAnalysisApi(_0x221a57,{'type':_0x232412(0xb8e),'properties':{'result':_0x3f5099},'required':[_0x232412(0x393)]});displayVerificationResultsInEditor(_0x41c549[_0x232412(0x393)]);}catch(_0x2f5f1c){console[_0x232412(0x4da)](_0x232412(0x3e8),_0x2f5f1c),showMessage(_0x232412(0x873));}finally{_0x19ed14[_0x232412(0x790)]=![],_0x19ed14['innerHTML']=_0x232412(0x673);}}function displayVerificationResultsInEditor(_0x8e7a72){_0x8e7a72['forEach'](_0xf36ce4=>{const _0x510f19=_0x1af4,_0x2dc00d=document[_0x510f19(0x443)]('.question-editor-item[data-q-index=\x22'+_0xf36ce4[_0x510f19(0xa05)]+'\x22]');if(!_0x2dc00d)return;const _0x49b711=_0x2dc00d[_0x510f19(0x443)]('.verification-result-editor');if(_0x49b711)_0x49b711[_0x510f19(0x6d1)]();let _0x42b9ae='';if(_0xf36ce4[_0x510f19(0x63b)]&&_0xf36ce4[_0x510f19(0x63b)]['newOptions']){const _0x4e011c=_0xf36ce4[_0x510f19(0x63b)][_0x510f19(0x14a)],_0xe9e385=_0xf36ce4[_0x510f19(0x63b)][_0x510f19(0x538)],_0x100d0e=_0x2dc00d[_0x510f19(0x24b)][_0x510f19(0x7bf)];if(_0x100d0e===_0x510f19(0xb86)){const _0x206fa5=_0x2dc00d[_0x510f19(0x640)](_0x510f19(0x341));_0x206fa5['forEach']((_0x4683c4,_0x1084f9)=>{const _0xbcf6f3=_0x510f19;_0x4e011c[_0x1084f9]?_0x4683c4['value']=_0x4e011c[_0x1084f9]:_0x4683c4[_0xbcf6f3(0x227)]='---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---';});const _0xf16c1a=_0x2dc00d['querySelector'](_0x510f19(0xc2b)+_0xe9e385+'\x22]');_0xf16c1a&&(_0xf16c1a[_0x510f19(0x50a)]=!![]),_0x42b9ae=_0x510f19(0x4c4),_0x2dc00d[_0x510f19(0x707)][_0x510f19(0xbfd)](_0x510f19(0xc21),'transition-all',_0x510f19(0xb24)),setTimeout(()=>{const _0x5c3d66=_0x510f19;_0x2dc00d[_0x5c3d66(0x707)][_0x5c3d66(0x6d1)](_0x5c3d66(0xc21));},0x9c4);}}else{if(!_0xf36ce4[_0x510f19(0x995)]&&_0xf36ce4[_0x510f19(0xafa)]){const _0x55c02a=_0xf36ce4[_0x510f19(0xafa)]?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x42b9ae=_0x510f19(0xae)+_0x55c02a+_0x510f19(0x242)+_0xf36ce4['justification']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xf36ce4[_0x510f19(0xafa)]?_0x510f19(0x2a9)+_0xf36ce4['suggestedAnswer']+_0x510f19(0x761):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';const _0x2161f1=_0x2dc00d[_0x510f19(0x24b)][_0x510f19(0x7bf)],_0xa46cc7=_0x2b91f3=>{const _0x56dc4c=_0x510f19;if(!_0x2b91f3)return;_0x2b91f3[_0x56dc4c(0x707)][_0x56dc4c(0xbfd)](_0x56dc4c(0x21f),_0x56dc4c(0xa0),_0x56dc4c(0xb24)),setTimeout(()=>{const _0x4f78a1=_0x56dc4c;_0x2b91f3[_0x4f78a1(0x707)][_0x4f78a1(0x6d1)](_0x4f78a1(0x21f));},0x9c4);};if(_0x2161f1==='multiple_choice'){const _0x1e0ad4=Array[_0x510f19(0xba1)](_0x2dc00d[_0x510f19(0x640)](_0x510f19(0x341))),_0x4e99f6=_0x1e0ad4[_0x510f19(0x1e0)](_0x346228=>_0x346228[_0x510f19(0x227)][_0x510f19(0x543)]()[_0x510f19(0x3f0)]()===_0xf36ce4[_0x510f19(0xafa)][_0x510f19(0x543)]()[_0x510f19(0x3f0)]());if(_0x4e99f6!==-0x1){const _0x322ce9=_0x2dc00d[_0x510f19(0x443)](_0x510f19(0xc2b)+_0x4e99f6+'\x22]');_0x322ce9&&(_0x322ce9[_0x510f19(0x50a)]=!![],_0xa46cc7(_0x322ce9[_0x510f19(0x5d0)](_0x510f19(0xc80))));}}else{if(_0x2161f1==='short_answer'||_0x2161f1===_0x510f19(0x2d6)){const _0xd0a92f=_0x2dc00d[_0x510f19(0x443)](_0x510f19(0xa9d));_0xd0a92f&&(_0xd0a92f[_0x510f19(0x227)]=_0xf36ce4['suggestedAnswer'],_0xa46cc7(_0xd0a92f));}else{if(_0x2161f1===_0x510f19(0xcbb)){const _0x49545f=_0xf36ce4[_0x510f19(0xafa)][_0x510f19(0x543)]()[_0x510f19(0x3f0)](),_0x449bfb=_0x2dc00d[_0x510f19(0x443)](_0x510f19(0xc2b)+_0x49545f+'\x22]');_0x449bfb&&(_0x449bfb[_0x510f19(0x50a)]=!![],_0xa46cc7(_0x449bfb['closest']('div')));}}}}else _0xf36ce4[_0x510f19(0x995)]&&(_0x42b9ae='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');}_0x2dc00d[_0x510f19(0xd37)](_0x510f19(0x47f),_0x42b9ae);}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0x5b536c=_0x45c2ac;if(!currentQuizData||!currentQuizData[_0x5b536c(0xbc3)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x286267=document[_0x5b536c(0x286)](_0x5b536c(0x4b4));_0x286267[_0x5b536c(0x790)]=!![],_0x286267[_0x5b536c(0x6ef)]=_0x5b536c(0xce8);try{const _0x524b27=currentQuizData[_0x5b536c(0xbc3)][_0x5b536c(0x764)]((_0x34523c,_0xfd946)=>{const _0x353fef=_0x5b536c;let _0x4819e8='';const _0x18c32d=_0x34523c[_0x353fef(0x9f5)]||currentQuizData['quizType'];switch(_0x18c32d){case'multiple_choice':_0x4819e8=_0x34523c[_0x353fef(0xa07)][_0x34523c[_0x353fef(0xc51)]];break;case _0x353fef(0x27d):_0x4819e8=_0x34523c[_0x353fef(0x555)];break;case _0x353fef(0xcbb):_0x4819e8=_0x34523c[_0x353fef(0xc42)]['toString']();break;case _0x353fef(0x2d6):_0x4819e8=_0x34523c[_0x353fef(0x7a5)];break;}return{'question':_0x34523c['stem']||_0x34523c[_0x353fef(0x3a5)],'options':_0x34523c[_0x353fef(0xa07)]||null,'proposedAnswer':_0x4819e8};}),_0x34bfeb=_0x5b536c(0xb2d)+JSON[_0x5b536c(0x2d7)](_0x524b27)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x52dd34={'type':_0x5b536c(0xce2),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x5b536c(0x7de)},'justification':{'type':_0x5b536c(0x32a)},'suggestedAnswer':{'type':_0x5b536c(0x32a)}},'required':[_0x5b536c(0xa05),_0x5b536c(0x995),_0x5b536c(0x94a)]}},_0x55ec32=await callAnalysisApi(_0x34bfeb,{'type':_0x5b536c(0xb8e),'properties':{'result':_0x52dd34},'required':['result']});displayVerificationResults(_0x55ec32[_0x5b536c(0x393)]);}catch(_0x3bad14){console[_0x5b536c(0x4da)](_0x5b536c(0x193),_0x3bad14),showMessage(_0x5b536c(0x873));}finally{_0x286267[_0x5b536c(0x790)]=![],_0x286267['innerHTML']=_0x5b536c(0x18f);}}function displayVerificationResults(_0x2f5cd9){const _0x336db2=_0x45c2ac;_0x2f5cd9[_0x336db2(0x94d)](_0x4386d0=>{const _0x5204fe=_0x336db2,_0x1243d9=document[_0x5204fe(0x443)](_0x5204fe(0xafb)+_0x4386d0['questionIndex']+'\x22]');if(_0x1243d9){const _0x4cafaf=_0x1243d9[_0x5204fe(0x443)](_0x5204fe(0xab4));if(_0x4cafaf)_0x4cafaf[_0x5204fe(0x6d1)]();let _0x49fc92='';_0x4386d0[_0x5204fe(0x995)]?_0x49fc92='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x49fc92=_0x5204fe(0x1fe)+_0x4386d0['justification']+_0x5204fe(0x792)+(_0x4386d0[_0x5204fe(0xafa)]?_0x5204fe(0x2a9)+_0x4386d0[_0x5204fe(0xafa)]+_0x5204fe(0x761):'')+_0x5204fe(0x866),_0x1243d9['insertAdjacentHTML']('beforeend',_0x49fc92);}}),showMessage(_0x336db2(0x8e0));}function compareNumericalAnswers(_0x203f22,_0xb9d2d4){const _0x2db5a8=_0x45c2ac,_0x56757e=String(_0x203f22)[_0x2db5a8(0xc3b)](',','.')[_0x2db5a8(0xc3b)](/[^\d.-]/g,'')[_0x2db5a8(0x543)](),_0x13dd74=String(_0xb9d2d4)[_0x2db5a8(0xc3b)](',','.')[_0x2db5a8(0xc3b)](/[^\d.-]/g,'')[_0x2db5a8(0x543)]();if(_0x56757e===''||_0x13dd74==='')return![];const _0x5bf442=parseFloat(_0x56757e),_0x503236=parseFloat(_0x13dd74);if(isNaN(_0x5bf442)||isNaN(_0x503236))return![];return Math[_0x2db5a8(0x66c)](_0x5bf442-_0x503236)<0.001;}function isPotentiallyNumeric(_0x495294){const _0x1fa4f0=_0x45c2ac;if(typeof _0x495294!==_0x1fa4f0(0xa00)&&typeof _0x495294!==_0x1fa4f0(0x9aa))return![];const _0x41dc1b=String(_0x495294)[_0x1fa4f0(0xc3b)](',','.')[_0x1fa4f0(0x543)]();return _0x41dc1b!==''&&!isNaN(parseFloat(_0x41dc1b))&&isFinite(_0x41dc1b);}async function gradeShortAnswer(_0x238580,_0x45fb5a){const _0x190346=_0x45c2ac,_0x37c2a5=_0x45fb5a[_0x190346(0x555)],_0x35dab2=String(_0x238580)[_0x190346(0xc3b)](/\$/g,'')[_0x190346(0x543)](),_0x4dd28e=String(_0x37c2a5)['replace'](/\$/g,'')[_0x190346(0x543)]();if(_0x35dab2[_0x190346(0x3f0)]()===_0x4dd28e['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x35dab2)&&isPotentiallyNumeric(_0x4dd28e)){if(compareNumericalAnswers(_0x35dab2,_0x4dd28e))return!![];}return console[_0x190346(0x241)](_0x190346(0x67f)),await gradeShortAnswerWithAI(_0x238580,_0x37c2a5);}async function revealAnswerForAdmin(_0x5cd0ae,_0x32fddc){const _0x1842e2=_0x45c2ac,_0x1c4a44=doc(db,_0x1842e2(0x47d)+appId+_0x1842e2(0x37a),currentLiveGameId);await updateDoc(_0x1c4a44,{'questionStatus':_0x1842e2(0x85)});}function showTop5LeaderboardView(_0x12d24c){const _0x4ebd58=_0x45c2ac,_0x1cf975=Object[_0x4ebd58(0xa8e)](_0x12d24c[_0x4ebd58(0x92e)]||{})[_0x4ebd58(0x624)](_0x52e6ee=>_0x52e6ee[_0x4ebd58(0xc3e)]===_0x4ebd58(0x925));_0x1cf975[_0x4ebd58(0x276)]((_0x512748,_0x35decc)=>_0x35decc[_0x4ebd58(0x248)]-_0x512748[_0x4ebd58(0x248)]);const _0x10b644=_0x1cf975['slice'](0x0,0x5),_0x218cc8=_0x4ebd58(0x97b)+_0x10b644['map']((_0x29b467,_0x1f2e54)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x1f2e54+0x1)+'.\x20'+(_0x29b467[_0x4ebd58(0x224)]||Object[_0x4ebd58(0xb99)](_0x12d24c[_0x4ebd58(0x92e)])[_0x4ebd58(0x7c7)](_0x52a5a0=>_0x12d24c[_0x4ebd58(0x92e)][_0x52a5a0]===_0x29b467))+_0x4ebd58(0x274)+_0x29b467['score']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4ebd58(0x6da)]('')+_0x4ebd58(0x454)+(_0x12d24c['currentQuestionIndex']+0x1===currentQuizData[_0x4ebd58(0xbc3)][_0x4ebd58(0xb81)]?_0x4ebd58(0x5f9):_0x4ebd58(0x877))+_0x4ebd58(0x949);liveGameView[_0x4ebd58(0x6ef)]=_0x218cc8,document[_0x4ebd58(0x286)]('goto-next-question-btn')[_0x4ebd58(0x504)](_0x4ebd58(0x936),async()=>{const _0x1fc05d=_0x4ebd58,_0x5f00f9=doc(db,_0x1fc05d(0x47d)+appId+'/public/data/liveGames',currentLiveGameId),_0x47faf3=_0x12d24c[_0x1fc05d(0x895)]+0x1;if(_0x47faf3<currentQuizData[_0x1fc05d(0xbc3)][_0x1fc05d(0xb81)]){const _0x1f53ac={'currentQuestionIndex':_0x47faf3,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x1fc05d(0xb99)](_0x12d24c[_0x1fc05d(0x92e)])['forEach'](_0x758c84=>{const _0x390da0=_0x1fc05d;_0x1f53ac[_0x390da0(0x3df)+_0x758c84+_0x390da0(0x7d3)]=![];}),await updateDoc(_0x5f00f9,_0x1f53ac);}else await updateDoc(_0x5f00f9,{'status':_0x1fc05d(0x8f6)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x3d9456=>{const _0x150972=_0x1af4;if(_0x3d9456){userId=_0x3d9456['uid'],userIdDisplay[_0x150972(0x10e)]=userId;const _0x5283f0=await loadUserPreferences();_0x5283f0[_0x150972(0x8f3)]&&(document[_0x150972(0x286)]('project-sort-select')[_0x150972(0x227)]=_0x5283f0[_0x150972(0x8f3)]);globalDashboardSettings[_0x150972(0x6a7)]=_0x5283f0['projectView']||_0x150972(0xc0b);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x53c10a,_0x4ca1b8){const _0x3f729c=_0x45c2ac;if(!userId)return;try{const _0x3bb7dd=doc(db,_0x3f729c(0x47d)+appId+_0x3f729c(0x8bb)+userId+_0x3f729c(0x367)),_0x4a2cab={};_0x4a2cab[_0x53c10a]=_0x4ca1b8,await setDoc(_0x3bb7dd,_0x4a2cab,{'merge':!![]});}catch(_0x37df16){console[_0x3f729c(0x4da)]('Error\x20saving\x20user\x20preference:',_0x37df16);}}async function loadUserPreferences(){const _0xed4d1=_0x45c2ac;if(!userId)return{};try{const _0xb641eb=doc(db,'artifacts/'+appId+_0xed4d1(0x8bb)+userId+_0xed4d1(0x367)),_0x1e329e=await getDoc(_0xb641eb);if(_0x1e329e[_0xed4d1(0x6cc)]())return _0x1e329e[_0xed4d1(0x10a)]();return{};}catch(_0x5201c1){return console[_0xed4d1(0x4da)]('Error\x20loading\x20user\x20preferences:',_0x5201c1),{};}}function parseIndentedBlueprint(_0x3f284e){const _0x581ef9=_0x45c2ac,_0x32024=_0x3f284e[_0x581ef9(0x2b4)]('\x0a')[_0x581ef9(0x624)](_0x2a2dd2=>_0x2a2dd2[_0x581ef9(0x543)]()!==''),_0x37dd04=[];let _0x5c54b1=null,_0x339750=null;return _0x32024[_0x581ef9(0x94d)](_0x3ddf3c=>{const _0x4cf16a=_0x581ef9,_0x42f1f2=_0x3ddf3c[_0x4cf16a(0xca4)](/^\s*/)[0x0][_0x4cf16a(0xb81)],_0x44199d=_0x3ddf3c[_0x4cf16a(0x543)]();if(_0x42f1f2===0x0)_0x5c54b1={'sara':_0x44199d,'mainTopics':[]},_0x37dd04[_0x4cf16a(0xcec)](_0x5c54b1),_0x339750=null;else{if(_0x42f1f2>0x0&&_0x42f1f2<0x8&&_0x5c54b1)_0x339750={'topicName':_0x44199d,'subTopics':[]},_0x5c54b1[_0x4cf16a(0x3cc)][_0x4cf16a(0xcec)](_0x339750);else _0x42f1f2>=0x8&&_0x339750&&_0x339750[_0x4cf16a(0x3cf)]['push'](_0x44199d);}}),{'curriculum':_0x37dd04};}async function handleManualBlueprintSave(){const _0x26bd00=_0x45c2ac,_0x13a5d7=document[_0x26bd00(0x286)]('manual-bp-project-name')[_0x26bd00(0x227)][_0x26bd00(0x543)](),_0x219b1b=document[_0x26bd00(0x286)](_0x26bd00(0x114))['value']['trim'](),_0x22fe88=document[_0x26bd00(0x286)]('manual-bp-content')[_0x26bd00(0x227)];if(!_0x13a5d7||!_0x219b1b||!_0x22fe88){showMessage(_0x26bd00(0x1bf));return;}const _0x433e38=parseIndentedBlueprint(_0x22fe88);if(!_0x433e38[_0x26bd00(0x7c8)]||_0x433e38[_0x26bd00(0x7c8)][_0x26bd00(0xb81)]===0x0){showMessage(_0x26bd00(0xc77));return;}const _0x28f516={};let _0x4d78c9=0x0;_0x433e38['curriculum']['forEach'](_0x2625b5=>{_0x2625b5['mainTopics']['forEach'](_0x563589=>{_0x563589['subTopics']['forEach'](_0x5e1479=>{const _0x168bd6=_0x1af4,_0x35c61b=_0x168bd6(0x994)+Date[_0x168bd6(0x17c)]()+Math[_0x168bd6(0x3c0)]()[_0x168bd6(0xe2)](0x24)[_0x168bd6(0x15f)](0x2,0x9);_0x28f516[_0x35c61b]={'sara':_0x2625b5[_0x168bd6(0xc2c)],'mainTopic':_0x563589[_0x168bd6(0x71b)],'subTopic':_0x5e1479,'status':'not_generated','lessonContent':null,'order':_0x4d78c9++};});});});try{const _0x18d1e7=collection(db,'artifacts/'+appId+_0x26bd00(0xbaf));await addDoc(_0x18d1e7,{'projectName':_0x13a5d7,'gradeLevel':_0x219b1b,'topics':_0x28f516,'createdAt':serverTimestamp()}),showMessage(_0x26bd00(0x83d)+_0x13a5d7+_0x26bd00(0x128)),document[_0x26bd00(0x286)]('manual-blueprint-modal')[_0x26bd00(0x707)][_0x26bd00(0xbfd)]('hidden');}catch(_0x28adcc){console[_0x26bd00(0x4da)](_0x26bd00(0x4a5),_0x28adcc),showMessage(_0x26bd00(0x37c));}}function handleClearAllLinksForTopic(_0x3cc757){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0x208779=_0x1af4;try{const _0x1f4d02=doc(db,_0x208779(0x47d)+appId+_0x208779(0xbaf),currentBlueprintProjectId);await updateDoc(_0x1f4d02,{[_0x208779(0x451)+_0x3cc757+_0x208779(0x493)]:[]}),showMessage(_0x208779(0x99d)),openTopicQuizBank(_0x3cc757),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x521e71){console['error'](_0x208779(0x713),_0x521e71),showMessage(_0x208779(0x649));}});}function showPodiumView(_0xc57eac,_0x4b290f=_0x45c2ac(0x240),_0xc53cba=null){const _0x4db35d=_0x45c2ac,_0x5b2a21=_0xc53cba?.[_0x4db35d(0xc44)]===!![],_0x42473b=Object[_0x4db35d(0xad3)](_0xc57eac)[_0x4db35d(0x764)](([_0x1eb889,_0x20e2a5])=>({'name':_0x1eb889,'realScore':_0x20e2a5[_0x4db35d(0x82d)]||0x0,'totalPoints':_0x20e2a5[_0x4db35d(0x91)]||0x0,'badges':_0x20e2a5[_0x4db35d(0xa41)]||[],'hasPerfectScoreBonus':_0x20e2a5[_0x4db35d(0xb3f)]||![]}));_0x42473b[_0x4db35d(0x276)]((_0xe18ca7,_0x27c9da)=>{const _0x34f14c=_0x4db35d;if(_0x5b2a21){const _0xe5e6a0=_0x27c9da[_0x34f14c(0x82d)]-_0xe18ca7[_0x34f14c(0x82d)];if(_0xe5e6a0!==0x0)return _0xe5e6a0;const _0xff2f08=_0x27c9da['totalPoints']-_0xe18ca7['totalPoints'];if(_0xff2f08!==0x0)return _0xff2f08;return _0xe18ca7['name'][_0x34f14c(0xc52)](_0x27c9da[_0x34f14c(0x224)],'th');}else{const _0x603feb=_0x27c9da[_0x34f14c(0x91)]-_0xe18ca7[_0x34f14c(0x91)];if(_0x603feb!==0x0)return _0x603feb;return _0x27c9da['realScore']-_0xe18ca7[_0x34f14c(0x82d)];}});const _0x462bc9=_0x52dded=>{const _0x18fb90=_0x4db35d;if(!_0x52dded||_0x52dded[_0x18fb90(0xb81)]===0x0)return'';const _0x1fc1f3={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x18fb90(0xbce)+_0x52dded[_0x18fb90(0x764)](_0x2d4b05=>_0x1fc1f3[_0x2d4b05]||'')['join']('')+_0x18fb90(0x6c2);},_0x400a1f=_0x195c4a=>{const _0x3149cc=_0x4db35d,_0x561e49=_0x195c4a[_0x3149cc(0xb3f)]?_0x3149cc(0x97f):'';if(_0x5b2a21){const _0x23ef33=_0x195c4a['totalPoints']>=0x0?'(+'+_0x195c4a[_0x3149cc(0x91)]+')':'('+_0x195c4a[_0x3149cc(0x91)]+')';return _0x3149cc(0xae6)+_0x195c4a[_0x3149cc(0x82d)]+_0x3149cc(0x7a8)+_0x23ef33+'\x20'+_0x561e49+_0x3149cc(0x761);}else return _0x3149cc(0xae6)+_0x195c4a[_0x3149cc(0x91)]+_0x3149cc(0x7a8)+_0x561e49+_0x3149cc(0x761);},_0x277504=_0x42473b[_0x4db35d(0xc20)](0x3),_0x540ba4=_0x277504[_0x4db35d(0xb81)]>0x0?_0x4db35d(0x44e)+_0x277504['map']((_0x42431d,_0x43eb57)=>{const _0x14e126=_0x4db35d;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x43eb57+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x42431d['name']+_0x14e126(0x6f8)+_0x400a1f(_0x42431d)+_0x14e126(0x96d);})[_0x4db35d(0x6da)]('')+_0x4db35d(0x92c):'',_0x21002c=_0x4db35d(0x88c)+(_0x42473b[0x1]?_0x4db35d(0xd22)+_0x42473b[0x1][_0x4db35d(0x224)]+_0x4db35d(0x761)+_0x462bc9(_0x42473b[0x1][_0x4db35d(0xa41)])+_0x400a1f(_0x42473b[0x1])+_0x4db35d(0x647):_0x4db35d(0x4fc))+_0x4db35d(0x33b)+(_0x42473b[0x0]?_0x4db35d(0x208)+_0x42473b[0x0][_0x4db35d(0x224)]+_0x4db35d(0x761)+_0x462bc9(_0x42473b[0x0][_0x4db35d(0xa41)])+_0x400a1f(_0x42473b[0x0])+_0x4db35d(0x4f0):_0x4db35d(0x4fc))+_0x4db35d(0x33b)+(_0x42473b[0x2]?_0x4db35d(0xc7c)+_0x42473b[0x2][_0x4db35d(0x224)]+_0x4db35d(0x761)+_0x462bc9(_0x42473b[0x2]['badges'])+_0x400a1f(_0x42473b[0x2])+_0x4db35d(0x588):_0x4db35d(0x4fc))+_0x4db35d(0xadc)+_0x540ba4+_0x4db35d(0x770)+(currentMode===_0x4db35d(0x11d)?_0x4db35d(0x782):_0x4db35d(0x380))+_0x4db35d(0xaa);liveGameView[_0x4db35d(0x6ef)]=_0x21002c,currentMode===_0x4db35d(0x11d)?document[_0x4db35d(0x286)](_0x4db35d(0xad6))[_0x4db35d(0x504)]('click',async()=>{const _0xe680ea=_0x4db35d;let _0xebb432;_0x4b290f===_0xe680ea(0x55c)?_0xebb432=doc(db,_0xe680ea(0x47d)+appId+_0xe680ea(0x817),currentLiveGameId):_0xebb432=doc(db,_0xe680ea(0x47d)+appId+_0xe680ea(0x37a),currentLiveGameId),await deleteDoc(_0xebb432);}):document[_0x4db35d(0x286)](_0x4db35d(0x623))?.['addEventListener']('click',()=>{const _0x5b5a54=_0x4db35d;showView(_0x5b5a54(0x509));});}function renderSyncSummaryView(_0xcd1826,_0x417010,_0x3c140a){const _0xbaaaab=_0x45c2ac,_0x3a64ea=_0xcd1826[_0xbaaaab(0xba)]||'classic',_0x5882e0=_0x3a64ea===_0xbaaaab(0xbfa)&&_0xcd1826[_0xbaaaab(0x548)]===![],_0x16fcf2=Object[_0xbaaaab(0xa8e)](_0xcd1826[_0xbaaaab(0x92e)]||{}),_0xb20373=_0xcd1826[_0xbaaaab(0x8d0)][_0xbaaaab(0xbc3)],_0x4fd8de=_0x417010['questionType']||_0xcd1826[_0xbaaaab(0x8d0)][_0xbaaaab(0x480)];let _0x3d8ff3=[];_0x4fd8de===_0xbaaaab(0xcbb)?_0x3d8ff3=[_0xbaaaab(0x599),_0xbaaaab(0x5f1)]:_0x3d8ff3=_0x417010[_0xbaaaab(0xa07)]||[];const _0x67a6ba=new Array(_0x3d8ff3['length'])['fill'](0x0),_0x1eefc3={};_0x3d8ff3[_0xbaaaab(0x94d)]((_0xeaaa94,_0x2416c2)=>{_0x1eefc3[_0x2416c2]=[];}),Object['entries'](_0xcd1826[_0xbaaaab(0x92e)]||{})[_0xbaaaab(0x94d)](([_0x28a17f,_0x5e41e0])=>{const _0x47f79e=_0xbaaaab;if(_0x5e41e0[_0x47f79e(0xc3e)]!==_0x47f79e(0xa6f)&&_0x5e41e0[_0x47f79e(0x15a)]!==undefined&&_0x5e41e0[_0x47f79e(0x15a)]!==null){const _0x2528e7=_0x5e41e0[_0x47f79e(0x15a)];if(_0x1eefc3[_0x2528e7]!==undefined){const _0xfacfe8=_0x5882e0?_0xcd1826[_0x47f79e(0x81c)][_0x28a17f]||_0x47f79e(0x105):_0x28a17f;_0x1eefc3[_0x2528e7][_0x47f79e(0xcec)](_0xfacfe8),_0x67a6ba[_0x2528e7]++;}}});let _0x1ce0e5='';const _0x2f9064=_0xcd1826[_0xbaaaab(0x895)]>=_0xb20373['length']-0x1;_0x3c140a?_0x3a64ea===_0xbaaaab(0x171)?_0x2f9064?_0x1ce0e5=_0xbaaaab(0x9cd):_0x1ce0e5=_0xbaaaab(0x787):_0x1ce0e5=_0xbaaaab(0xccd):_0x3a64ea==='reveal_at_end'?_0x1ce0e5='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>':_0x1ce0e5=_0xbaaaab(0x5a1);const _0x1cd5f1=_0x3c140a?'<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>'+_0xcd1826[_0xbaaaab(0x205)]+'</strong></div>':'',_0x35d7cf=_0xbaaaab(0x57c)+_0x1cd5f1+_0xbaaaab(0xc61)+_0x417010['questionText']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x67a6ba[_0xbaaaab(0x764)]((_0x3ee36b,_0x4ebe76)=>{const _0x553ae9=_0xbaaaab,_0x4a5c27=_0x1eefc3[_0x4ebe76][_0x553ae9(0xb81)]>0x0?_0x1eefc3[_0x4ebe76][_0x553ae9(0x6da)](',\x20'):_0x553ae9(0x7f1),_0x5e2c95='#6366F1';return _0x553ae9(0x533)+_0x3ee36b+_0x553ae9(0x278)+_0x5e2c95+_0x553ae9(0xcdf)+_0x4ebe76+_0x553ae9(0x446)+_0x3d8ff3[_0x4ebe76]+_0x553ae9(0x8d5)+_0x4ebe76+_0x553ae9(0xa9)+_0x4a5c27+_0x553ae9(0xbf4);})[_0xbaaaab(0x6da)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ce0e5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0xbaaaab(0x6ef)]=_0x35d7cf;if(window[_0xbaaaab(0x36f)])MathJax[_0xbaaaab(0x8c4)]();if(_0x3c140a){const _0x1cc3f6=doc(db,'artifacts/'+appId+_0xbaaaab(0x817),currentLiveGameId);document[_0xbaaaab(0x286)]('show-results-btn')?.[_0xbaaaab(0x504)]('click',async()=>{const _0x3df999=_0xbaaaab;await updateDoc(_0x1cc3f6,{'status':_0x3df999(0x335)});}),document[_0xbaaaab(0x286)](_0xbaaaab(0x27a))?.[_0xbaaaab(0x504)](_0xbaaaab(0x936),()=>{openScratchpad(_0x417010,_0x3d8ff3);}),document['getElementById'](_0xbaaaab(0xa0b))?.[_0xbaaaab(0x504)](_0xbaaaab(0x936),async()=>{const _0x2eeea5=_0xbaaaab,_0x4cecb5=_0xcd1826['currentQuestionIndex']+0x1,_0x4e261a={};Object[_0x2eeea5(0xb99)](_0xcd1826[_0x2eeea5(0x92e)])[_0x2eeea5(0x94d)](_0x2084dd=>{const _0x4b6cbc=_0x2eeea5;_0x4e261a[_0x4b6cbc(0x3df)+_0x2084dd+_0x4b6cbc(0xd1a)]=![],_0x4e261a[_0x4b6cbc(0x3df)+_0x2084dd+_0x4b6cbc(0x933)]=null;}),await updateDoc(_0x1cc3f6,{..._0x4e261a,'status':_0x2eeea5(0x5d6),'currentQuestionIndex':_0x4cecb5,'questionDisplayedAt':serverTimestamp()});}),document[_0xbaaaab(0x286)]('show-final-results-btn')?.[_0xbaaaab(0x504)](_0xbaaaab(0x936),async()=>{await updateDoc(_0x1cc3f6,{'status':'results','reviewQuestionIndex':0x0});});}}function renderAnonymousStudentResultsView(_0x1aa7cc){const _0xcb29f2=_0x45c2ac,_0x5779a7=_0x1aa7cc['currentQuestionIndex']>=_0x1aa7cc[_0xcb29f2(0x8d0)][_0xcb29f2(0xbc3)][_0xcb29f2(0xb81)]-0x1;let _0x5903a5='';if(_0x1aa7cc[_0xcb29f2(0x548)]===!![]){const _0x3dec95=_0x1aa7cc[_0xcb29f2(0x92e)][localTeamPlayers[0x0]],_0x2ae275=_0x3dec95['name'],_0x1e8745=_0x3dec95[_0xcb29f2(0x248)];_0x5903a5=_0xcb29f2(0xa8a)+_0x2ae275+_0xcb29f2(0xa4c)+_0x1e8745+_0xcb29f2(0xd12);}else _0x5903a5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5779a7?_0xcb29f2(0x826):_0xcb29f2(0x7fc))+_0xcb29f2(0x6cf);const _0x42a3cf=_0xcb29f2(0xaf4)+_0x5903a5+_0xcb29f2(0x3b8);liveGameView[_0xcb29f2(0x6ef)]=_0x42a3cf;}async function handleShowStudentRankings(){const _0xed7ffb=_0x45c2ac,_0xefe66=document[_0xed7ffb(0x443)](_0xed7ffb(0x8b3));_0xefe66&&(_0xefe66['innerHTML']=_0xed7ffb(0x767));const _0x388da1=document['querySelector'](_0xed7ffb(0x39c));_0x388da1&&(_0x388da1['innerHTML']=_0xed7ffb(0x765));const _0x2e9552=document[_0xed7ffb(0x286)](_0xed7ffb(0x794));_0x2e9552[_0xed7ffb(0x707)]['remove'](_0xed7ffb(0xb5c)),document[_0xed7ffb(0x286)]('close-student-rankings-btn')[_0xed7ffb(0x2d8)]=()=>_0x2e9552['classList'][_0xed7ffb(0xbfd)](_0xed7ffb(0xb5c));const _0x139aca=document[_0xed7ffb(0x286)](_0xed7ffb(0x4a7)),_0x1cdbfa=document[_0xed7ffb(0x286)](_0xed7ffb(0x4e0)),_0x558488=document[_0xed7ffb(0x286)]('student-quiz-leaderboard-content'),_0x1122a3=document[_0xed7ffb(0x286)]('student-project-leaderboard-content');_0x139aca[_0xed7ffb(0x2d8)]=()=>{const _0x7fab2f=_0xed7ffb;_0x139aca[_0x7fab2f(0x707)][_0x7fab2f(0xbfd)](_0x7fab2f(0x925)),_0x1cdbfa[_0x7fab2f(0x707)]['remove'](_0x7fab2f(0x925)),_0x558488[_0x7fab2f(0x707)][_0x7fab2f(0x6d1)](_0x7fab2f(0xb5c)),_0x1122a3[_0x7fab2f(0x707)][_0x7fab2f(0xbfd)](_0x7fab2f(0xb5c));},_0x1cdbfa['onclick']=()=>{const _0x18b52f=_0xed7ffb;_0x1cdbfa[_0x18b52f(0x707)][_0x18b52f(0xbfd)](_0x18b52f(0x925)),_0x139aca[_0x18b52f(0x707)][_0x18b52f(0x6d1)](_0x18b52f(0x925)),_0x1122a3[_0x18b52f(0x707)][_0x18b52f(0x6d1)](_0x18b52f(0xb5c)),_0x558488[_0x18b52f(0x707)][_0x18b52f(0xbfd)]('hidden');};try{const _0x1fa891=collection(db,'artifacts/'+appId+_0xed7ffb(0xb5b)+currentQuizData['id']+'/submissions'),_0x3e17f9=await getDocs(_0x1fa891),_0x151f1f=_0x3e17f9[_0xed7ffb(0x22c)][_0xed7ffb(0x764)](_0xf42537=>_0xf42537[_0xed7ffb(0x10a)]());renderQuizLeaderboard(_0x151f1f,currentQuizData,_0xed7ffb(0x746));const _0xa6c9a5=collection(db,_0xed7ffb(0x47d)+appId+_0xed7ffb(0x8ef)+currentQuizData[_0xed7ffb(0x12d)]+_0xed7ffb(0x6af)),_0xd0867a=await getDocs(_0xa6c9a5),_0x45a220=_0xd0867a['docs'][_0xed7ffb(0x764)](_0x530f1e=>_0x530f1e[_0xed7ffb(0x10a)]());renderLeaderboard(_0x45a220,'student-project-leaderboard-table-body');}catch(_0x4e964a){console[_0xed7ffb(0x4da)](_0xed7ffb(0xacf),_0x4e964a),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x4c834b){const _0x32cd18=_0x45c2ac,_0x1e02ee=_0x4c834b[_0x32cd18(0x617)],_0x8b3a3b=_0x1e02ee[_0x32cd18(0x24b)][_0x32cd18(0x815)],_0xf0badf=currentQuizData[_0x32cd18(0xbc3)][_0x8b3a3b];if(!userId){showMessage(_0x32cd18(0x31a));return;}try{const _0x250e46={..._0xf0badf,'originalTopic':currentQuizData[_0x32cd18(0x26f)],'savedAt':serverTimestamp()},_0x568a25=collection(db,_0x32cd18(0x47d)+appId+'/users/'+userId+_0x32cd18(0xd1f));await addDoc(_0x568a25,_0x250e46),showMessage(_0x32cd18(0x295)),_0x1e02ee[_0x32cd18(0x707)][_0x32cd18(0x6d1)](_0x32cd18(0x5ce)),_0x1e02ee['classList'][_0x32cd18(0xbfd)](_0x32cd18(0x678)),_0x1e02ee['disabled']=!![];}catch(_0x2700fa){console['error'](_0x32cd18(0xa26),_0x2700fa),showMessage(_0x32cd18(0x387));}}async function selectProjectAndGenerateBlueprintQuiz(_0x3060e2,_0xdb4531=null,_0x26e9bc=null,_0x1d010e=![]){const _0x4648e8=_0x45c2ac;cameFromBlueprint=!![];const _0x4f28c4=document[_0x4648e8(0x286)](_0x4648e8(0x6ce))?.[_0x4648e8(0x227)][_0x4648e8(0x543)]();let _0x420c46=null;if(_0x4f28c4){showMessage(_0x4648e8(0x416));try{const _0x3796fa=await fetchFileFromUrl(_0x4f28c4,_0x4648e8(0x243)),_0x4a521f=await new Promise((_0x4526e9,_0x324cb0)=>{const _0x1fbeaf=_0x4648e8,_0x4c9325=new FileReader();_0x4c9325['readAsDataURL'](_0x3796fa),_0x4c9325['onload']=()=>_0x4526e9(_0x4c9325['result']['split'](',')[0x1]),_0x4c9325[_0x1fbeaf(0x62b)]=_0x324cb0;});_0x420c46=[{'inlineData':{'mimeType':_0x3796fa[_0x4648e8(0x15e)],'data':_0x4a521f}}],messageModal[_0x4648e8(0x707)][_0x4648e8(0xbfd)](_0x4648e8(0xb5c));}catch(_0x22d962){console[_0x4648e8(0x4da)]('Could\x20not\x20fetch\x20reference\x20file:',_0x22d962),showMessage('ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ');}}const _0x13042c=document[_0x4648e8(0x286)](_0x4648e8(0x397)),_0x21e997=document[_0x4648e8(0x286)](_0x4648e8(0x3eb)),_0x1896c8=_0x13042c['querySelector']('h3'),_0x4506e1=document[_0x4648e8(0x286)](_0x4648e8(0x8c2)),_0x363a8c=document[_0x4648e8(0x286)](_0x4648e8(0x803));_0x1896c8[_0x4648e8(0x10e)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x4506e1[_0x4648e8(0x10e)]=_0x4648e8(0xcbe),_0x4506e1[_0x4648e8(0x790)]=!![];allProjects['length']===0x0?_0x21e997['innerHTML']=_0x4648e8(0x849):(_0x21e997[_0x4648e8(0x6ef)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x4648e8(0x764)](_0x352d19=>_0x4648e8(0xba2)+_0x352d19['id']+'\x22>'+_0x352d19[_0x4648e8(0xc49)]+'</option>')['join'](''),_0x4506e1[_0x4648e8(0x790)]=![]);_0x13042c[_0x4648e8(0x707)][_0x4648e8(0x6d1)]('hidden');const _0x4b710d=async()=>{const _0x568c50=_0x4648e8,_0x523c67=_0x21e997[_0x568c50(0x227)];if(!_0x523c67){showMessage(_0x568c50(0xa1e));return;}_0x13042c[_0x568c50(0x707)][_0x568c50(0xbfd)](_0x568c50(0xb5c)),document[_0x568c50(0x286)](_0x568c50(0x53b))['classList']['add'](_0x568c50(0xb5c)),await loadProjectDetails(_0x523c67),showView(_0x568c50(0x56d)),handleGenerateQuizFromBlueprintTopic(_0x3060e2,_0xdb4531,_0x523c67,_0x26e9bc,_0x1d010e,_0x420c46),_0x4a8708();},_0x4a8708=()=>{const _0x592059=_0x4648e8;_0x1896c8['textContent']=_0x592059(0x851),_0x4506e1[_0x592059(0x10e)]=_0x592059(0x801),_0x4506e1[_0x592059(0xb74)](_0x592059(0x936),_0x4b710d),_0x363a8c[_0x592059(0xb74)](_0x592059(0x936),_0x4a8708),_0x4506e1[_0x592059(0x504)](_0x592059(0x936),confirmMoveQuiz);};_0x4506e1[_0x4648e8(0xb74)](_0x4648e8(0x936),confirmMoveQuiz),_0x4506e1[_0x4648e8(0x504)](_0x4648e8(0x936),_0x4b710d),_0x363a8c[_0x4648e8(0x504)](_0x4648e8(0x936),_0x4a8708);}function listenForStarredQuizzes(){const _0x4518f0=_0x45c2ac;if(!userId)return;const _0x1de68b=collection(db,_0x4518f0(0x47d)+appId+_0x4518f0(0x5d7)),_0x359e65=query(_0x1de68b,where('isStarred','==',!![]));onSnapshot(_0x359e65,_0xc0e845=>{const _0x5ac57f=_0x4518f0;starredQuizzes=_0xc0e845[_0x5ac57f(0x22c)][_0x5ac57f(0x764)](_0x343988=>({'id':_0x343988['id'],..._0x343988[_0x5ac57f(0x10a)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x1175c6=>{const _0x312f14=_0x4518f0;console['error'](_0x312f14(0x169),_0x1175c6);});}function listenForFileShortcuts(){const _0x7cb40f=_0x45c2ac,_0x42343c=doc(db,_0x7cb40f(0x33d),'fileShortcutsConfig');onSnapshot(_0x42343c,_0x40a1e8=>{const _0x341340=_0x7cb40f;let _0x4957b9=[],_0x5d777d=[],_0xc41d5={};if(_0x40a1e8['exists']()){const _0x4995ae=_0x40a1e8[_0x341340(0x10a)]();_0x4957b9=_0x4995ae[_0x341340(0x83c)]||[],_0x5d777d=_0x4995ae['fileShortcutTabs']||[],_0xc41d5=_0x4995ae[_0x341340(0xc1f)]||{};}!_0x5d777d[_0x341340(0x7c7)](_0x514d9a=>_0x514d9a['id']==='all')&&_0x5d777d[_0x341340(0x4d0)]({'id':'all','name':_0x341340(0x95),'isDefault':!![]}),!_0x4957b9[_0x341340(0x7c7)](_0x5e5877=>_0x5e5877['id']===_0x341340(0x337))&&_0x4957b9[_0x341340(0x4d0)]({'id':'file-default-1','name':_0x341340(0x168),'url':'','isDefault':!![]}),!_0x4957b9[_0x341340(0x7c7)](_0xb3798d=>_0xb3798d['id']===_0x341340(0x9e2))&&_0x4957b9[_0x341340(0x4d0)]({'id':_0x341340(0x9e2),'name':_0x341340(0x3e4),'url':'','isDefault':!![]}),fileShortcuts=_0x4957b9,fileShortcutTabs=_0x5d777d,fileShortcutOrder=_0xc41d5,renderFileShortcuts(),!document[_0x341340(0x286)](_0x341340(0x5e0))[_0x341340(0x707)]['contains'](_0x341340(0xb5c))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x42c130=_0x45c2ac,_0x20e282=doc(db,'globalSettings',_0x42c130(0x95b));try{await setDoc(_0x20e282,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x58e759){console[_0x42c130(0x4da)](_0x42c130(0x636),_0x58e759);}}function renderAdditionalFileShortcutsModal(){const _0x561602=_0x45c2ac,_0x2b1ef7=document[_0x561602(0x286)]('file-shortcut-tabs-nav'),_0xb155c4=document['getElementById'](_0x561602(0xbfe));if(!_0x2b1ef7||!_0xb155c4)return;_0x2b1ef7['innerHTML']=fileShortcutTabs[_0x561602(0x764)](_0x36c258=>{const _0x3a3fff=_0x561602,_0x5e77de=_0x36c258['id']===activeFileShortcutTabId;return _0x3a3fff(0xc15)+_0x36c258['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x5e77de?'border-indigo-500\x20text-indigo-600':'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x3a3fff(0x966)+_0x36c258['name']+_0x3a3fff(0x101)+_0x36c258[_0x3a3fff(0x224)]+_0x3a3fff(0x2a0)+(!_0x36c258[_0x3a3fff(0x776)]?_0x3a3fff(0x1cd)+_0x36c258['id']+_0x3a3fff(0xac8):'')+_0x3a3fff(0xc6e);})['join']('');const _0x5df022=fileShortcutTabs[_0x561602(0x7c7)](_0x582512=>_0x582512['id']===activeFileShortcutTabId);let _0x4f4197=_0x5df022?.[_0x561602(0x776)]?[...fileShortcuts]:fileShortcuts[_0x561602(0x624)](_0x25c397=>(_0x5df022?.[_0x561602(0x8ae)]||[])[_0x561602(0x613)](_0x25c397['id']));const _0x1fa64e=fileShortcutOrder[activeFileShortcutTabId]||[];_0x4f4197['sort']((_0x367e1e,_0x74344c)=>{const _0x2f03a0=_0x561602,_0xbd6bd8=_0x1fa64e[_0x2f03a0(0x6a6)](_0x367e1e['id']),_0x5b35a2=_0x1fa64e['indexOf'](_0x74344c['id']);return(_0xbd6bd8===-0x1?Infinity:_0xbd6bd8)-(_0x5b35a2===-0x1?Infinity:_0x5b35a2);}),_0xb155c4[_0x561602(0x6ef)]=_0x4f4197['map'](_0x1a7437=>{const _0x4af07b=_0x561602,_0x133c65=_0x1a7437[_0x4af07b(0x142)]?'📄':'🔗',_0x4cdacd=fileShortcutTabs[_0x4af07b(0x624)](_0x224e06=>!_0x224e06[_0x4af07b(0x776)]),_0x359a61=_0x5df022[_0x4af07b(0x776)]&&_0x4cdacd['length']>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4cdacd[_0x4af07b(0x764)](_0x2f120f=>_0x4af07b(0xcae)+_0x1a7437['id']+_0x4af07b(0xcb5)+_0x2f120f['id']+'\x22>'+_0x2f120f[_0x4af07b(0x224)]+_0x4af07b(0x57f))[_0x4af07b(0x6da)]('')+_0x4af07b(0xa50):'';return _0x4af07b(0xb73)+_0x1a7437['id']+_0x4af07b(0x3a1)+_0x133c65+'\x20'+_0x1a7437['name']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1a7437['id']+_0x4af07b(0xc7)+_0x1a7437['id']+_0x4af07b(0x8d9)+(!_0x1a7437[_0x4af07b(0x776)]?_0x4af07b(0x7a2)+_0x1a7437['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x4af07b(0x5d3)+(!_0x5df022[_0x4af07b(0x776)]?_0x4af07b(0xce6)+_0x1a7437['id']+_0x4af07b(0x699):'')+_0x4af07b(0x5d3)+_0x359a61+_0x4af07b(0x4c0);})[_0x561602(0x6da)]('')||_0x561602(0x596),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x274c75=_0x45c2ac;document['querySelectorAll'](_0x274c75(0x3c9))['forEach'](_0x1d94b2=>{const _0x40bc7c=_0x274c75;_0x1d94b2[_0x40bc7c(0x2d8)]=_0x37bb11=>{const _0x296081=_0x40bc7c;activeFileShortcutTabId=_0x37bb11[_0x296081(0x617)][_0x296081(0x24b)][_0x296081(0x510)],renderAdditionalFileShortcutsModal();},_0x1d94b2[_0x40bc7c(0x99e)]=_0x107ae1=>{const _0x2e7578=_0x40bc7c,_0x296356=_0x107ae1[_0x2e7578(0x617)]['querySelector'](_0x2e7578(0x51c));_0x107ae1['currentTarget'][_0x2e7578(0x443)](_0x2e7578(0x1d4))[_0x2e7578(0x707)][_0x2e7578(0xbfd)](_0x2e7578(0xb5c)),_0x296356[_0x2e7578(0x707)][_0x2e7578(0x6d1)](_0x2e7578(0xb5c)),_0x296356[_0x2e7578(0xfb)](),_0x296356['select']();};}),document['querySelectorAll'](_0x274c75(0x8f8))[_0x274c75(0x94d)](_0x299e00=>{const _0x4d753b=()=>{const _0x2e64d0=_0x1af4,_0x11165e=_0x299e00['closest'](_0x2e64d0(0x3c9))[_0x2e64d0(0x24b)][_0x2e64d0(0x510)],_0x5b0183=fileShortcutTabs['find'](_0x2e2ea1=>_0x2e2ea1['id']===_0x11165e);_0x5b0183&&(_0x5b0183[_0x2e64d0(0x224)]=_0x299e00[_0x2e64d0(0x227)][_0x2e64d0(0x543)]()||_0x5b0183[_0x2e64d0(0x224)],saveFileShortcutConfig());};_0x299e00['onblur']=_0x4d753b,_0x299e00['onkeydown']=_0x1fe17e=>{const _0x3c50f2=_0x1af4;if(_0x1fe17e[_0x3c50f2(0x35d)]==='Enter')_0x299e00[_0x3c50f2(0x1f8)]();};}),document[_0x274c75(0x640)](_0x274c75(0xc39))['forEach'](_0x91d9e3=>_0x91d9e3[_0x274c75(0x2d8)]=_0x2764b5=>{const _0x48273a=_0x274c75,_0x5e97d1=_0x2764b5[_0x48273a(0x617)][_0x48273a(0x24b)][_0x48273a(0x510)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x21953d=_0x48273a;fileShortcutTabs=fileShortcutTabs[_0x21953d(0x624)](_0x3da3c1=>_0x3da3c1['id']!==_0x5e97d1),delete fileShortcutOrder[_0x5e97d1];if(activeFileShortcutTabId===_0x5e97d1)activeFileShortcutTabId='all';saveFileShortcutConfig();});}),document['querySelectorAll'](_0x274c75(0xbc4))[_0x274c75(0x94d)](_0x542967=>_0x542967['onclick']=_0x3dea9e=>{const _0x17ee43=_0x274c75;_0x3dea9e[_0x17ee43(0x5be)]();const {shortcutId:_0x21e0dd,targetTabId:_0x64f342}=_0x3dea9e[_0x17ee43(0x617)][_0x17ee43(0x24b)],_0x1bcdcd=fileShortcutTabs['find'](_0x227f94=>_0x227f94['id']===_0x64f342);_0x1bcdcd&&!_0x1bcdcd[_0x17ee43(0x8ae)][_0x17ee43(0x613)](_0x21e0dd)&&(_0x1bcdcd[_0x17ee43(0x8ae)]['push'](_0x21e0dd),saveFileShortcutConfig());}),document[_0x274c75(0x640)](_0x274c75(0x420))[_0x274c75(0x94d)](_0x36d3ba=>_0x36d3ba[_0x274c75(0x2d8)]=_0x2f6749=>{const _0x295ce5=_0x274c75,_0x211b75=_0x2f6749[_0x295ce5(0x617)]['dataset'][_0x295ce5(0x489)],_0x452f5f=fileShortcutTabs[_0x295ce5(0x7c7)](_0xb56987=>_0xb56987['id']===activeFileShortcutTabId);_0x452f5f&&!_0x452f5f[_0x295ce5(0x776)]&&(_0x452f5f[_0x295ce5(0x8ae)]=_0x452f5f['shortcutIds'][_0x295ce5(0x624)](_0x1f1133=>_0x1f1133!==_0x211b75),saveFileShortcutConfig());}),document[_0x274c75(0x640)](_0x274c75(0x107))[_0x274c75(0x94d)](_0xd2b05d=>_0xd2b05d[_0x274c75(0x2d8)]=_0xa2094f=>{const _0x4652da=_0x274c75;_0xa2094f[_0x4652da(0x858)]();const _0x1f9b4e=_0xa2094f[_0x4652da(0x617)][_0x4652da(0xbcc)];document[_0x4652da(0x640)]('.move-file-shortcut-dropdown')[_0x4652da(0x94d)](_0x22e810=>_0x22e810[_0x4652da(0x707)][_0x4652da(0xbfd)](_0x4652da(0xb5c))),_0x1f9b4e[_0x4652da(0x707)][_0x4652da(0x6d1)](_0x4652da(0xb5c));});const _0x564c0c=document[_0x274c75(0x286)](_0x274c75(0xbfe));let _0x1ffe30=null;_0x564c0c[_0x274c75(0xa87)]=_0xe6dfe3=>{const _0x5d7310=_0x274c75;_0x1ffe30=_0xe6dfe3[_0x5d7310(0x797)][_0x5d7310(0x5d0)](_0x5d7310(0x7e2));if(_0x1ffe30)setTimeout(()=>_0x1ffe30[_0x5d7310(0x707)][_0x5d7310(0xbfd)](_0x5d7310(0x559)),0x0);},_0x564c0c[_0x274c75(0xa76)]=()=>{const _0x4c6288=_0x274c75;_0x1ffe30&&(_0x1ffe30[_0x4c6288(0x707)][_0x4c6288(0x6d1)](_0x4c6288(0x559)),_0x1ffe30=null);},_0x564c0c[_0x274c75(0x867)]=_0x3f7f45=>{const _0x197bff=_0x274c75;_0x3f7f45[_0x197bff(0x5be)]();},_0x564c0c['ondrop']=_0x2babc2=>{const _0x1708bf=_0x274c75;_0x2babc2[_0x1708bf(0x5be)]();if(_0x1ffe30){const _0x3f294d=[..._0x564c0c[_0x1708bf(0x640)](_0x1708bf(0x145))][_0x1708bf(0xd34)]((_0x181634,_0x25541b)=>{const _0x295c73=_0x1708bf,_0x4f6490=_0x25541b[_0x295c73(0x477)](),_0x1636b2=_0x2babc2[_0x295c73(0x251)]-_0x4f6490[_0x295c73(0x630)]-_0x4f6490[_0x295c73(0x80)]/0x2;return _0x1636b2<0x0&&_0x1636b2>_0x181634[_0x295c73(0x58b)]?{'offset':_0x1636b2,'element':_0x25541b}:_0x181634;},{'offset':Number[_0x1708bf(0x33c)]})[_0x1708bf(0xabd)];_0x3f294d==null?_0x564c0c[_0x1708bf(0x395)](_0x1ffe30):_0x564c0c[_0x1708bf(0xc13)](_0x1ffe30,_0x3f294d);const _0x5c9567=[..._0x564c0c[_0x1708bf(0x640)]('.shortcut-list-item')][_0x1708bf(0x764)](_0x19ab77=>_0x19ab77[_0x1708bf(0x24b)][_0x1708bf(0x489)]);fileShortcutOrder[activeFileShortcutTabId]=_0x5c9567,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x3d243d=_0x45c2ac,_0x48a176=prompt(_0x3d243d(0xa24),_0x3d243d(0xce1));_0x48a176&&_0x48a176[_0x3d243d(0x543)]()&&(fileShortcutTabs[_0x3d243d(0xcec)]({'id':_0x3d243d(0x258)+Date[_0x3d243d(0x17c)](),'name':_0x48a176[_0x3d243d(0x543)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x3b5ffc=_0x45c2ac,_0x5116f4=document[_0x3b5ffc(0x286)](_0x3b5ffc(0x265)),_0x3b9ec9=document[_0x3b5ffc(0x286)](_0x3b5ffc(0xbfe)),_0x502199=document[_0x3b5ffc(0x286)](_0x3b5ffc(0x29b));if(_0x502199)_0x502199[_0x3b5ffc(0x707)][_0x3b5ffc(0xbfd)](_0x3b5ffc(0xb5c));if(!_0x5116f4||!_0x3b9ec9)return;const _0x25989f=fileShortcuts[_0x3b5ffc(0xc20)](0x0,0x4),_0x4fa0a3=fileShortcuts[_0x3b5ffc(0xc20)](0x4);_0x5116f4[_0x3b5ffc(0x6ef)]=_0x25989f[_0x3b5ffc(0x764)](_0x274c86=>{const _0x3c59ec=_0x3b5ffc,_0x36a2a9=_0x274c86[_0x3c59ec(0x142)]&&_0x274c86[_0x3c59ec(0x142)]['trim']()!=='',_0x50dbdc=selectedFile&&selectedFile['shortcutId']===_0x274c86['id'];let _0x294d55=_0x3c59ec(0x9df),_0x50ad9f='🔗';if(_0x50dbdc)_0x294d55=_0x3c59ec(0x246),_0x50ad9f=_0x3c59ec(0x364);else _0x36a2a9&&(_0x294d55=_0x3c59ec(0x353),_0x50ad9f='📄');const _0x477799=!_0x274c86[_0x3c59ec(0x776)]?_0x3c59ec(0x7a2)+_0x274c86['id']+_0x3c59ec(0xcc0):'';return _0x3c59ec(0x332)+_0x274c86['id']+'\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20'+_0x294d55+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0x50ad9f+_0x3c59ec(0x891)+_0x274c86[_0x3c59ec(0x224)]+_0x3c59ec(0xa12)+_0x274c86['id']+_0x3c59ec(0x369)+_0x477799+_0x3c59ec(0xadf);})['join'](''),_0x4fa0a3[_0x3b5ffc(0xb81)]>0x0&&(_0x5116f4[_0x3b5ffc(0x6ef)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4fa0a3['length']>0x0?_0x3b9ec9[_0x3b5ffc(0x6ef)]=_0x4fa0a3['map'](_0x26b84d=>_0x3b5ffc(0x969)+(_0x26b84d['url']?'📄':'🔗')+'\x20'+_0x26b84d[_0x3b5ffc(0x224)]+_0x3b5ffc(0x412)+_0x26b84d['id']+_0x3b5ffc(0xc60)+_0x26b84d['id']+_0x3b5ffc(0x59c)+(!_0x26b84d[_0x3b5ffc(0x776)]?_0x3b5ffc(0x7a2)+_0x26b84d['id']+_0x3b5ffc(0x25e):'')+_0x3b5ffc(0xc1b))[_0x3b5ffc(0x6da)](''):_0x3b9ec9[_0x3b5ffc(0x6ef)]=_0x3b5ffc(0xfa);}function openFileShortcutEditor(_0x19cb29=null){const _0x2540ac=_0x45c2ac,_0x587ce4=document[_0x2540ac(0x286)]('file-shortcut-editor-modal'),_0xf5c30f=document['getElementById'](_0x2540ac(0x117)),_0x18586f=document[_0x2540ac(0x286)](_0x2540ac(0x218)),_0x24c702=document[_0x2540ac(0x286)](_0x2540ac(0xc65)),_0x104be6=document[_0x2540ac(0x286)](_0x2540ac(0x45f));if(_0x19cb29){const _0x10adb7=fileShortcuts[_0x2540ac(0x7c7)](_0x203b47=>_0x203b47['id']===_0x19cb29);if(!_0x10adb7)return;_0xf5c30f[_0x2540ac(0x10e)]=_0x2540ac(0x7f7),_0x18586f[_0x2540ac(0x227)]=_0x10adb7['id'],_0x24c702[_0x2540ac(0x227)]=_0x10adb7['name'],_0x104be6[_0x2540ac(0x227)]=_0x10adb7[_0x2540ac(0x142)]||'';}else _0xf5c30f[_0x2540ac(0x10e)]=_0x2540ac(0x14e),_0x18586f['value']='',_0x24c702['value']='',_0x104be6[_0x2540ac(0x227)]='';_0x587ce4[_0x2540ac(0x707)][_0x2540ac(0x6d1)](_0x2540ac(0xb5c));}async function saveFileShortcutChanges(){const _0x3e0f07=_0x45c2ac,_0x24b8f0=document[_0x3e0f07(0x286)](_0x3e0f07(0x218))[_0x3e0f07(0x227)],_0x5a5f3c=document[_0x3e0f07(0x286)](_0x3e0f07(0xc65))[_0x3e0f07(0x227)]['trim'](),_0x599673=document[_0x3e0f07(0x286)]('file-shortcut-url-input')['value'][_0x3e0f07(0x543)]();if(!_0x5a5f3c){showMessage(_0x3e0f07(0xc79));return;}const _0x2fdbc5={'id':_0x24b8f0||'file-shortcut_'+Date[_0x3e0f07(0x17c)](),'name':_0x5a5f3c,'url':_0x599673,'isDefault':_0x24b8f0['startsWith'](_0x3e0f07(0x939))};let _0x1b1ab9;_0x24b8f0?_0x1b1ab9=fileShortcuts[_0x3e0f07(0x764)](_0x23fce0=>_0x23fce0['id']===_0x24b8f0?_0x2fdbc5:_0x23fce0):_0x1b1ab9=[...fileShortcuts,_0x2fdbc5];try{const _0xa35bfe=doc(db,_0x3e0f07(0x33d),_0x3e0f07(0x95b));await setDoc(_0xa35bfe,{'shortcuts':_0x1b1ab9},{'merge':!![]}),document['getElementById'](_0x3e0f07(0xd28))[_0x3e0f07(0x707)]['add'](_0x3e0f07(0xb5c));}catch(_0xa7c4d3){console[_0x3e0f07(0x4da)](_0x3e0f07(0x4cd),_0xa7c4d3),showMessage(_0x3e0f07(0x387));}}async function handleFileShortcutClick(_0x298e41){const _0x2ed078=_0x45c2ac,_0x23eaf4=fileShortcuts['find'](_0x366430=>_0x366430['id']===_0x298e41);if(!_0x23eaf4)return;if(!_0x23eaf4[_0x2ed078(0x142)]||_0x23eaf4[_0x2ed078(0x142)][_0x2ed078(0x543)]()===''){openFileShortcutEditor(_0x298e41);return;}const _0x3bcec6=document[_0x2ed078(0x443)](_0x2ed078(0x68b)+_0x298e41+'\x22]');if(_0x3bcec6){const _0x1cceee=_0x3bcec6['innerHTML'];_0x3bcec6[_0x2ed078(0x6ef)]=_0x2ed078(0x651),_0x3bcec6[_0x2ed078(0x790)]=!![];}document[_0x2ed078(0x640)](_0x2ed078(0xb87))[_0x2ed078(0x94d)](_0x39b5cc=>{const _0x3bdfe6=_0x2ed078;if(_0x39b5cc[_0x3bdfe6(0x24b)]['id']!==_0x298e41)_0x39b5cc[_0x3bdfe6(0x707)][_0x3bdfe6(0xbfd)](_0x3bdfe6(0x559),'pointer-events-none');});try{const _0x52dab4=new URL(_0x23eaf4['url'])[_0x2ed078(0x8b0)],_0x42fff2=_0x52dab4[_0x2ed078(0xb94)](_0x52dab4['lastIndexOf']('/')+0x1)||(_0x23eaf4[_0x2ed078(0x142)][_0x2ed078(0x613)](_0x2ed078(0x908))?_0x2ed078(0x46f):'file.pdf'),_0x59a364=await fetchFileFromUrl(_0x23eaf4[_0x2ed078(0x142)],_0x42fff2);_0x59a364[_0x2ed078(0x489)]=_0x298e41,selectedFile=_0x59a364,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x2ed078(0x286)](_0x2ed078(0x463))[_0x2ed078(0xbb)]({'behavior':_0x2ed078(0xcb7),'block':'center'});}catch(_0xcb5a95){console[_0x2ed078(0x4da)](_0x2ed078(0x663),_0xcb5a95),showMessage(_0x2ed078(0x876)+_0xcb5a95[_0x2ed078(0xc97)]),renderFileShortcuts();}finally{document[_0x2ed078(0x640)](_0x2ed078(0xb87))[_0x2ed078(0x94d)](_0x35f3f8=>{const _0x6253ad=_0x2ed078;_0x35f3f8[_0x6253ad(0x707)]['remove']('opacity-50',_0x6253ad(0xcb0)),_0x35f3f8['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x1b6f5d=_0x45c2ac;if(allQuizzesGlobal['length']>0x0)return;console[_0x1b6f5d(0x241)]('Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...'),showMessage('กำลังโหลดคลังข้อสอบทั้งหมด...');try{const _0x536e82=await getDocs(collection(db,_0x1b6f5d(0x47d)+appId+_0x1b6f5d(0x5d7)));allQuizzesGlobal=_0x536e82[_0x1b6f5d(0x22c)][_0x1b6f5d(0x764)](_0x20fd2c=>({'id':_0x20fd2c['id'],..._0x20fd2c['data']()})),console[_0x1b6f5d(0x241)](_0x1b6f5d(0x4ca)+allQuizzesGlobal[_0x1b6f5d(0xb81)]+_0x1b6f5d(0x7ac)),messageModal[_0x1b6f5d(0x707)][_0x1b6f5d(0xbfd)](_0x1b6f5d(0xb5c));}catch(_0x315a33){console[_0x1b6f5d(0x4da)](_0x1b6f5d(0x1f3),_0x315a33),messageModal[_0x1b6f5d(0x707)]['add'](_0x1b6f5d(0xb5c));throw new Error(_0x1b6f5d(0x38f));}}function exportQuizAsWorksheetPDF(){const _0x236c19=_0x45c2ac;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x29894d=currentQuizData,_0x427c38=window[_0x236c19(0x733)]('',_0x236c19(0x919)),_0x5308ed=_0x3e5752=>String['fromCharCode'](0x41+_0x3e5752),_0xa26c50='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x29894d[_0x236c19(0x26f)]+_0x236c19(0x6b1)+_0x29894d[_0x236c19(0x26f)]+_0x236c19(0x121)+_0x29894d[_0x236c19(0xbc3)][_0x236c19(0x764)]((_0x2a8a88,_0x2fc2aa)=>{const _0x31c29e=_0x236c19;let _0x17bd13='';const _0x190df1=_0x2a8a88[_0x31c29e(0x9f5)]||_0x29894d[_0x31c29e(0x480)];switch(_0x190df1){case _0x31c29e(0xb86):case _0x31c29e(0xa4f):_0x17bd13=_0x31c29e(0xb58)+_0x2a8a88['options'][_0x31c29e(0x764)]((_0x2ab20c,_0x3292db)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5308ed(_0x3292db)+'.\x20'+_0x2ab20c+_0x31c29e(0x3c3))[_0x31c29e(0x6da)](_0x31c29e(0xcf7))+_0x31c29e(0x6c2);break;case _0x31c29e(0xcbb):_0x17bd13='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x17bd13=_0x31c29e(0x622);break;}return _0x31c29e(0x1ce)+(_0x2fc2aa+0x1)+_0x31c29e(0x17e)+(_0x2a8a88['stem']||_0x2a8a88['questionText'])+_0x31c29e(0x75e)+(_0x2a8a88[_0x31c29e(0xb04)]?_0x31c29e(0x85c)+_0x2a8a88[_0x31c29e(0xb04)]+_0x31c29e(0x6c2):'')+_0x31c29e(0x956)+_0x17bd13+_0x31c29e(0xc8);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x427c38[_0x236c19(0x821)][_0x236c19(0x4ea)](_0xa26c50),_0x427c38[_0x236c19(0x821)][_0x236c19(0x7b2)](),_0x427c38['onload']=function(){setTimeout(()=>{const _0x126d22=_0x1af4;_0x427c38[_0x126d22(0xc0f)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x468214=_0x45c2ac;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x468214(0x4db));return;}const _0x98bf87=currentQuizData,_0x5469ba=window[_0x468214(0x733)]('','_blank'),_0x115bb7=_0xbabb87=>String['fromCharCode'](0x41+_0xbabb87),_0x364989=_0x468214(0x2f0)+_0x98bf87[_0x468214(0x26f)]+_0x468214(0xd2a)+_0x98bf87[_0x468214(0xbc3)][_0x468214(0x764)]((_0x4a5400,_0x539706)=>{const _0x31a451=_0x468214;let _0x519dfe='';const _0x4f338=_0x4a5400[_0x31a451(0x9f5)]||_0x98bf87['quizType'];switch(_0x4f338){case _0x31a451(0xb86):case _0x31a451(0xa4f):_0x519dfe='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x4a5400[_0x31a451(0xa07)][_0x31a451(0x764)]((_0x353151,_0x132b52)=>_0x31a451(0x2a7)+_0x115bb7(_0x132b52)+'.\x20'+_0x353151+'</span>')['join'](_0x31a451(0xcf7))+_0x31a451(0x184);break;case _0x31a451(0xcbb):_0x519dfe=_0x31a451(0xca3);break;default:_0x519dfe='';break;}return _0x31a451(0x122)+_0x98bf87[_0x31a451(0x26f)]+_0x31a451(0x98b)+(_0x539706+0x1)+_0x31a451(0x6a)+(_0x4a5400['stem']||_0x4a5400[_0x31a451(0x3a5)])+_0x31a451(0x75e)+(_0x4a5400[_0x31a451(0xb04)]?_0x31a451(0x845)+_0x4a5400[_0x31a451(0xb04)]+_0x31a451(0x6c2):'')+_0x31a451(0x956)+_0x519dfe+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x468214(0x6da)]('')+_0x468214(0xb4b);_0x5469ba[_0x468214(0x821)]['write'](_0x364989),_0x5469ba[_0x468214(0x821)][_0x468214(0x7b2)](),_0x5469ba[_0x468214(0x24f)]=function(){setTimeout(()=>{const _0x105c52=_0x1af4;_0x5469ba[_0x105c52(0xc0f)]();},0x5dc);};}async function handleToggleStarQuiz(_0x5409a8){const _0x9519e2=_0x45c2ac,_0x26f050=doc(db,_0x9519e2(0x47d)+appId+'/public/data/quizzes',_0x5409a8);try{const _0x2f6ab8=await getDoc(_0x26f050);if(_0x2f6ab8[_0x9519e2(0x6cc)]()){const _0x46b54a=_0x2f6ab8['data']()[_0x9519e2(0xb69)]||![];await updateDoc(_0x26f050,{'isStarred':!_0x46b54a});}}catch(_0x2760ba){console[_0x9519e2(0x4da)](_0x9519e2(0x92a),_0x2760ba),showMessage(_0x9519e2(0x5a5));}}async function displayQuestionBank(){const _0x19fbd8=_0x45c2ac,_0x184925=document[_0x19fbd8(0x286)]('bank-input-area');_0x184925[_0x19fbd8(0x6ef)]=_0x19fbd8(0x453);try{const _0x2f314f=collection(db,_0x19fbd8(0x47d)+appId+'/users/'+userId+_0x19fbd8(0xd1f)),_0x53b48c=query(_0x2f314f),_0x4bafc4=await getDocs(_0x53b48c);if(_0x4bafc4[_0x19fbd8(0x500)]){_0x184925[_0x19fbd8(0x6ef)]=_0x19fbd8(0xac5);return;}let _0x1e2eab=_0x4bafc4[_0x19fbd8(0x22c)]['map'](_0x3fcaed=>{const _0x2377af=_0x19fbd8,_0x20a120=_0x3fcaed[_0x2377af(0x10a)](),_0x2e0b16=_0x3fcaed['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x2377af(0x2d7)](_0x20a120)+_0x2377af(0x4e7)+(_0x20a120['questionText']||_0x20a120['stem'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x20a120[_0x2377af(0x9fe)]+_0x2377af(0x965);})['join']('');_0x184925[_0x19fbd8(0x6ef)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x1e2eab+_0x19fbd8(0xf0),document[_0x19fbd8(0x286)](_0x19fbd8(0xb28))[_0x19fbd8(0x504)]('click',createQuizFromBank);}catch(_0x490d8f){console['error'](_0x19fbd8(0x3bc),_0x490d8f),_0x184925['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x5e7468=_0x45c2ac,_0x5cf4f2=document[_0x5e7468(0x286)]('lesson-sections-container'),_0x7477c9=document[_0x5e7468(0x286)]('lesson-view-title')['textContent']||_0x5e7468(0x49b);if(!_0x5cf4f2){showMessage(_0x5e7468(0x495));return;}const _0x65ab2d=window[_0x5e7468(0x733)]('','_blank'),_0x3d1f5f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x7477c9+_0x5e7468(0x79b)+_0x7477c9+_0x5e7468(0x5de)+_0x5cf4f2[_0x5e7468(0x6ef)]+_0x5e7468(0xbf1);_0x65ab2d[_0x5e7468(0x821)][_0x5e7468(0x4ea)](_0x3d1f5f),_0x65ab2d[_0x5e7468(0x821)][_0x5e7468(0x7b2)](),_0x65ab2d[_0x5e7468(0x24f)]=function(){setTimeout(()=>{const _0xa0b222=_0x1af4;_0x65ab2d[_0xa0b222(0xc0f)]();},0x7d0);};}function showAdminLiveQuestionView(_0x5bc555,_0x14e5ab,_0x5d76ba){const _0x813500=_0x45c2ac,_0x27317f=_0x5bc555[_0x813500(0x9f5)]||currentQuizData[_0x813500(0x480)];let _0x1de148='';if(_0x27317f===_0x813500(0xb86)||_0x27317f===_0x813500(0xcbb)){const _0x496db2=_0x27317f===_0x813500(0xcbb)?[_0x813500(0x619),_0x813500(0x856)]:_0x5bc555[_0x813500(0xa07)],_0x462255=_0x27317f===_0x813500(0xcbb)?_0x5bc555[_0x813500(0xc42)]?0x0:0x1:_0x5bc555[_0x813500(0xc51)];_0x1de148=_0x496db2[_0x813500(0x764)]((_0x1511ee,_0x32a969)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x32a969===_0x462255)+_0x813500(0x828)+_0x1511ee+_0x813500(0xadf))['join']('');}else{if(_0x27317f===_0x813500(0x2d6)){const _0x3c2c75=_0x5bc555[_0x813500(0xeb)]||[];_0x1de148=_0x3c2c75[_0x813500(0x764)](_0x1c3b51=>_0x813500(0x645)+(_0x1c3b51===_0x5bc555[_0x813500(0x7a5)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c3b51+_0x813500(0xadf))[_0x813500(0x6da)]('');}}const _0x4791f9=_0x5bc555[_0x813500(0xcfa)]||_0x5bc555[_0x813500(0x3a5)],_0x4fc7ce='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x14e5ab+0x1)+_0x813500(0x234)+_0x5d76ba+_0x813500(0xcfe)+currentLiveGamePin+_0x813500(0x97a)+_0x4791f9+_0x813500(0xc57)+_0x1de148+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x813500(0x6ef)]=_0x4fc7ce,window[_0x813500(0x36f)]&&MathJax['typesetPromise']&&MathJax[_0x813500(0x8c4)]([liveGameView]),document['getElementById'](_0x813500(0x1e8))[_0x813500(0x504)](_0x813500(0x936),()=>revealAnswerForAdmin(_0x14e5ab,_0x5d76ba)),document[_0x813500(0x286)](_0x813500(0x3da))[_0x813500(0x504)](_0x813500(0x936),async()=>{const _0x572b5b=_0x813500;showConfirmation(_0x572b5b(0xa83),async()=>{const _0x229814=_0x572b5b,_0x3e0b58=doc(db,_0x229814(0x47d)+appId+_0x229814(0x37a),currentLiveGameId);await updateDoc(_0x3e0b58,{'status':'podium'});});}),document[_0x813500(0x286)]('manage-players-btn')['addEventListener'](_0x813500(0x936),()=>{const _0x2a4168=_0x813500;document['getElementById'](_0x2a4168(0x3a7))[_0x2a4168(0x707)][_0x2a4168(0x587)](_0x2a4168(0xb5c));});}function promptForProjectBeforeGenerating(_0x1bc0c5){const _0x1a4254=_0x45c2ac,_0x32f80d=document[_0x1a4254(0x286)](_0x1a4254(0x397)),_0x5805a2=document[_0x1a4254(0x286)](_0x1a4254(0x3eb)),_0x5a1193=_0x32f80d[_0x1a4254(0x443)]('h3'),_0x1d5dbc=document[_0x1a4254(0x286)](_0x1a4254(0x8c2)),_0x1e540d=document[_0x1a4254(0x286)](_0x1a4254(0x803));_0x5a1193[_0x1a4254(0x10e)]=_0x1a4254(0xb17),_0x1d5dbc['textContent']=_0x1a4254(0xcbe),_0x1d5dbc[_0x1a4254(0x790)]=!![];allProjects[_0x1a4254(0xb81)]===0x0?_0x5805a2[_0x1a4254(0x6ef)]=_0x1a4254(0x849):(_0x5805a2[_0x1a4254(0x6ef)]=_0x1a4254(0xb1e)+allProjects['map'](_0x442e58=>_0x1a4254(0xba2)+_0x442e58['id']+'\x22>'+_0x442e58[_0x1a4254(0xc49)]+_0x1a4254(0x978))[_0x1a4254(0x6da)](''),_0x1d5dbc[_0x1a4254(0x790)]=![]);_0x32f80d['classList'][_0x1a4254(0x6d1)](_0x1a4254(0xb5c));const _0x278017=async()=>{const _0x14b9b5=_0x1a4254,_0x40ad61=_0x5805a2[_0x14b9b5(0x227)];if(!_0x40ad61){showMessage(_0x14b9b5(0xa1e));return;}_0x32f80d['classList']['add'](_0x14b9b5(0xb5c)),await loadProjectDetails(_0x40ad61),showView(_0x14b9b5(0x56d)),handleGenerateQuizFromBlueprintTopic(_0x1bc0c5),_0x187f14();},_0x187f14=()=>{const _0x19586e=_0x1a4254;_0x5a1193[_0x19586e(0x10e)]=_0x19586e(0x851),_0x1d5dbc[_0x19586e(0x10e)]=_0x19586e(0x801),_0x1d5dbc[_0x19586e(0xb74)](_0x19586e(0x936),_0x278017),_0x1e540d[_0x19586e(0xb74)](_0x19586e(0x936),_0x187f14),_0x1d5dbc[_0x19586e(0x504)](_0x19586e(0x936),confirmMoveQuiz);};_0x1d5dbc[_0x1a4254(0xb74)](_0x1a4254(0x936),confirmMoveQuiz),_0x1d5dbc['addEventListener'](_0x1a4254(0x936),_0x278017),_0x1e540d[_0x1a4254(0x504)](_0x1a4254(0x936),_0x187f14);}function showStudentLiveQuestionView(_0x2433d1,_0x309afa,_0x214f66){const _0x335710=_0x45c2ac,_0x265201=_0x2433d1[_0x335710(0x9f5)]||currentQuizData[_0x335710(0x480)];let _0x4da496='';if(_0x265201===_0x335710(0xb86)||_0x265201==='true_false'){const _0x1f4e0d=_0x265201===_0x335710(0xcbb)?['ใช่',_0x335710(0x856)]:_0x2433d1[_0x335710(0xa07)];_0x4da496=_0x1f4e0d[_0x335710(0x764)]((_0x5afb7f,_0x2982ad)=>_0x335710(0x474)+_0x2982ad+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5afb7f+_0x335710(0x528))[_0x335710(0x6da)]('');}else{if(_0x265201===_0x335710(0x2d6)){const _0x1e01ff=_0x2433d1[_0x335710(0xeb)]||[];_0x4da496=_0x1e01ff[_0x335710(0x764)]((_0x4fb7d6,_0x1a11b4)=>_0x335710(0x474)+_0x1a11b4+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4fb7d6+_0x335710(0x528))[_0x335710(0x6da)]('');}else _0x265201==='short_answer'&&(_0x4da496=_0x335710(0x1c5));}const _0x228080=_0x2433d1[_0x335710(0xcfa)]||_0x2433d1[_0x335710(0x3a5)],_0x2cf24c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x309afa+0x1)+_0x335710(0x234)+_0x214f66+_0x335710(0xa31)+_0x228080+_0x335710(0x425)+_0x4da496+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x335710(0x6ef)]=_0x2cf24c;window[_0x335710(0x36f)]&&MathJax[_0x335710(0x8c4)]&&MathJax[_0x335710(0x8c4)]([liveGameView]);const _0x4e4c08=document[_0x335710(0x286)](_0x335710(0xc24));_0x4e4c08&&_0x4e4c08[_0x335710(0x504)](_0x335710(0x936),()=>{const _0x103e96=_0x335710,_0x3317d6=document[_0x103e96(0x286)](_0x103e96(0x86d))['value'];handleLiveAnswer(_0x3317d6,_0x2433d1);}),document[_0x335710(0x286)]('live-options-container')[_0x335710(0x504)](_0x335710(0x936),_0x4d0857=>{const _0xe6f243=_0x335710,_0x4ebf93=_0x4d0857[_0xe6f243(0x797)]['closest']('.live-answer-btn');if(_0x4ebf93){const _0x20f29d=parseInt(_0x4ebf93[_0xe6f243(0x24b)][_0xe6f243(0x815)]);handleLiveAnswer(_0x20f29d,_0x2433d1);}});}function listenForBlueprintShortcuts(){const _0x138dc7=_0x45c2ac,_0x51c6f4=doc(db,'globalSettings',_0x138dc7(0xbf2));onSnapshot(_0x51c6f4,_0x3f0866=>{const _0x1edfc7=_0x138dc7;let _0x18c19b=[],_0x3cca62=[],_0x413924={};if(_0x3f0866['exists']()){const _0x2eb208=_0x3f0866[_0x1edfc7(0x10a)]();_0x18c19b=_0x2eb208[_0x1edfc7(0x85f)]||[],_0x3cca62=_0x2eb208['shortcutTabs']||[],_0x413924=_0x2eb208['shortcutOrder']||{};}!_0x3cca62[_0x1edfc7(0x7c7)](_0x9dd182=>_0x9dd182['id']===_0x1edfc7(0xf3))&&_0x3cca62[_0x1edfc7(0x4d0)]({'id':_0x1edfc7(0xf3),'name':'ปุ่มลัดทั้งหมด','isDefault':!![]}),!_0x18c19b[_0x1edfc7(0x7c7)](_0x21c310=>_0x21c310['id']==='default-1')&&_0x18c19b['unshift']({'id':_0x1edfc7(0xcc7),'name':_0x1edfc7(0x403),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x18c19b[_0x1edfc7(0x7c7)](_0x2f7faf=>_0x2f7faf['id']===_0x1edfc7(0x4e1))&&_0x18c19b[_0x1edfc7(0x4d0)]({'id':'default-2','name':_0x1edfc7(0x688),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x18c19b,shortcutTabs=_0x3cca62,shortcutOrder=_0x413924,renderBlueprintShortcuts(),!document[_0x1edfc7(0x286)](_0x1edfc7(0x5d9))[_0x1edfc7(0x707)]['contains'](_0x1edfc7(0xb5c))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x4fe858=_0x45c2ac,_0x253094=document['getElementById'](_0x4fe858(0x37b)),_0x4820c8=document[_0x4fe858(0x286)]('additional-shortcuts-list');if(!_0x253094||!_0x4820c8)return;_0x253094[_0x4fe858(0x6ef)]=shortcutTabs[_0x4fe858(0x764)](_0xcdcc4e=>{const _0x4cb46d=_0x4fe858,_0x1b3138=_0xcdcc4e['id']===activeShortcutTabId,_0xfd555b=_0x4cb46d(0x48b),_0x5ccdc6=_0x4cb46d(0xb4d);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0xcdcc4e['id']+_0x4cb46d(0x3b3)+(_0x1b3138?_0xfd555b:_0x5ccdc6)+_0x4cb46d(0x2a3)+_0xcdcc4e['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0xcdcc4e[_0x4cb46d(0x224)]+_0x4cb46d(0x41c)+(!_0xcdcc4e[_0x4cb46d(0x776)]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0xcdcc4e['id']+'\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x4cb46d(0xadf);})[_0x4fe858(0x6da)]('');const _0x2f2c56=shortcutTabs[_0x4fe858(0x7c7)](_0x53da92=>_0x53da92['id']===activeShortcutTabId);let _0x4cd736=[];if(_0x2f2c56){if(_0x2f2c56[_0x4fe858(0x776)])_0x4cd736=[...blueprintShortcuts];else{const _0xbcfc3e=_0x2f2c56[_0x4fe858(0x8ae)]||[];_0x4cd736=blueprintShortcuts[_0x4fe858(0x624)](_0x2940f2=>_0xbcfc3e['includes'](_0x2940f2['id']));}}const _0x1df1d5=shortcutOrder[activeShortcutTabId]||[];_0x4cd736[_0x4fe858(0x276)]((_0x12d8be,_0x4ec21d)=>{const _0xa84ed3=_0x4fe858,_0x1adbf6=_0x1df1d5[_0xa84ed3(0x6a6)](_0x12d8be['id']),_0x1c1c4a=_0x1df1d5[_0xa84ed3(0x6a6)](_0x4ec21d['id']);if(_0x1adbf6===-0x1)return 0x1;if(_0x1c1c4a===-0x1)return-0x1;return _0x1adbf6-_0x1c1c4a;}),_0x4820c8[_0x4fe858(0x6ef)]=_0x4cd736[_0x4fe858(0xb81)]>0x0?_0x4cd736['map'](_0x4704be=>{const _0x38181c=_0x4fe858;let _0xac8b34='🧩';if(_0x4704be[_0x38181c(0x5c0)]&&_0x4704be[_0x38181c(0x7e)])_0xac8b34='📗';else{if(_0x4704be['blueprintUrl'])_0xac8b34='📘';}const _0x3528a1=shortcutTabs[_0x38181c(0x624)](_0x486c96=>!_0x486c96[_0x38181c(0x776)]),_0x42da81=_0x2f2c56[_0x38181c(0x776)]&&_0x3528a1[_0x38181c(0xb81)]>0x0?_0x38181c(0xbd4)+_0x3528a1['map'](_0x23e233=>_0x38181c(0x9ce)+_0x4704be['id']+_0x38181c(0xcb5)+_0x23e233['id']+'\x22>'+_0x23e233[_0x38181c(0x224)]+_0x38181c(0x882))[_0x38181c(0x6da)]('')+_0x38181c(0x72e):'';return _0x38181c(0x6be)+_0x4704be['id']+_0x38181c(0x95f)+_0xac8b34+'\x20'+_0x4704be['name']+_0x38181c(0x7b)+_0x4704be['id']+_0x38181c(0x298)+_0x4704be['id']+_0x38181c(0x20b)+(!_0x4704be[_0x38181c(0x776)]?_0x38181c(0x7a2)+_0x4704be['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x38181c(0x6e6)+(!_0x2f2c56[_0x38181c(0x776)]?'<button\x20data-shortcut-id=\x22'+_0x4704be['id']+'\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x38181c(0x6e6)+_0x42da81+_0x38181c(0xd02);})['join'](''):_0x4fe858(0x596),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x5e1e3a=_0x45c2ac;document['querySelectorAll'](_0x5e1e3a(0x491))['forEach'](_0x24be02=>{const _0x79c45c=_0x5e1e3a;_0x24be02[_0x79c45c(0x504)](_0x79c45c(0x936),_0x2c1067=>{const _0x40ec27=_0x79c45c;activeShortcutTabId=_0x2c1067[_0x40ec27(0x617)][_0x40ec27(0x24b)]['tabId'],renderAdditionalShortcutsModal();}),_0x24be02[_0x79c45c(0x504)]('dblclick',_0x50d5b3=>{const _0x173b9c=_0x79c45c,_0x4ff892=_0x50d5b3[_0x173b9c(0x617)];_0x4ff892[_0x173b9c(0x443)](_0x173b9c(0x1d4))[_0x173b9c(0x707)][_0x173b9c(0xbfd)](_0x173b9c(0xb5c));const _0x58c8a6=_0x4ff892[_0x173b9c(0x443)](_0x173b9c(0x51c));_0x58c8a6['classList'][_0x173b9c(0x6d1)](_0x173b9c(0xb5c)),_0x58c8a6[_0x173b9c(0xfb)](),_0x58c8a6[_0x173b9c(0x72f)]();});}),document[_0x5e1e3a(0x640)](_0x5e1e3a(0x51c))[_0x5e1e3a(0x94d)](_0x14fea0=>{const _0xd15382=_0x5e1e3a,_0xd24428=()=>{const _0x33bcc6=_0x1af4,_0x58588a=_0x14fea0[_0x33bcc6(0x5d0)](_0x33bcc6(0x491))['dataset'][_0x33bcc6(0x510)];handleRenameShortcutTab(_0x58588a,_0x14fea0[_0x33bcc6(0x227)]);};_0x14fea0[_0xd15382(0x504)]('blur',_0xd24428),_0x14fea0[_0xd15382(0x504)](_0xd15382(0x503),_0x29e8af=>{const _0x4da6bd=_0xd15382;if(_0x29e8af[_0x4da6bd(0x35d)]===_0x4da6bd(0x81b))_0x14fea0['blur']();});}),document['querySelectorAll'](_0x5e1e3a(0xab3))[_0x5e1e3a(0x94d)](_0x444e5a=>{const _0x23e037=_0x5e1e3a;_0x444e5a[_0x23e037(0x504)](_0x23e037(0x936),_0x475367=>handleDeleteShortcutTab(_0x475367[_0x23e037(0x617)]['dataset'][_0x23e037(0x510)]));}),document[_0x5e1e3a(0x640)](_0x5e1e3a(0x1d9))[_0x5e1e3a(0x94d)](_0x3d0b11=>{const _0x2ddde3=_0x5e1e3a;_0x3d0b11[_0x2ddde3(0x504)]('click',_0xc59c3e=>{const _0x1fba5f=_0x2ddde3;_0xc59c3e[_0x1fba5f(0x5be)]();const {shortcutId:_0x500b53,targetTabId:_0x79ee06}=_0xc59c3e[_0x1fba5f(0x617)][_0x1fba5f(0x24b)];handleMoveShortcutToTab(_0x500b53,_0x79ee06);});}),document['querySelectorAll'](_0x5e1e3a(0xb33))[_0x5e1e3a(0x94d)](_0x39a7f9=>{const _0x1ea437=_0x5e1e3a;_0x39a7f9['addEventListener'](_0x1ea437(0x936),_0xc714aa=>{const _0xb0420=_0x1ea437;handleRemoveShortcutFromTab(_0xc714aa[_0xb0420(0x617)][_0xb0420(0x24b)]['shortcutId'],activeShortcutTabId);});});const _0x5adc68=document[_0x5e1e3a(0x286)](_0x5e1e3a(0x256));_0x5adc68[_0x5e1e3a(0x640)]('.use-hidden-shortcut-btn')[_0x5e1e3a(0x94d)](_0x4aa29c=>{const _0x8e2171=_0x5e1e3a;_0x4aa29c[_0x8e2171(0x504)](_0x8e2171(0x936),()=>{const _0x473a68=_0x8e2171;document[_0x473a68(0x286)](_0x473a68(0x5d9))[_0x473a68(0x707)][_0x473a68(0xbfd)](_0x473a68(0xb5c)),handleShortcutClick(_0x4aa29c[_0x473a68(0x24b)]['id']);});});let _0x401b43=null;_0x5adc68[_0x5e1e3a(0x504)](_0x5e1e3a(0xc64),_0x4b34fa=>{const _0x4e4400=_0x5e1e3a;_0x401b43=_0x4b34fa[_0x4e4400(0x797)][_0x4e4400(0x5d0)](_0x4e4400(0x7e2)),_0x401b43&&setTimeout(()=>_0x401b43[_0x4e4400(0x707)][_0x4e4400(0xbfd)]('opacity-50'),0x0);}),_0x5adc68[_0x5e1e3a(0x504)](_0x5e1e3a(0xc95),()=>{const _0x5960ec=_0x5e1e3a;_0x401b43&&(_0x401b43[_0x5960ec(0x707)][_0x5960ec(0x6d1)]('opacity-50'),_0x401b43=null);}),_0x5adc68[_0x5e1e3a(0x504)](_0x5e1e3a(0x47b),_0x6f3065=>{const _0x2fe8d8=_0x5e1e3a;_0x6f3065[_0x2fe8d8(0x5be)]();const _0x477411=[..._0x5adc68['querySelectorAll'](_0x2fe8d8(0x145))][_0x2fe8d8(0xd34)]((_0xef0599,_0x54044a)=>{const _0x5f4a04=_0x2fe8d8,_0x3a0c59=_0x54044a[_0x5f4a04(0x477)](),_0x5a97c0=_0x6f3065[_0x5f4a04(0x251)]-_0x3a0c59[_0x5f4a04(0x630)]-_0x3a0c59[_0x5f4a04(0x80)]/0x2;return _0x5a97c0<0x0&&_0x5a97c0>_0xef0599[_0x5f4a04(0x58b)]?{'offset':_0x5a97c0,'element':_0x54044a}:_0xef0599;},{'offset':Number['NEGATIVE_INFINITY']})['element'];_0x477411==null?_0x5adc68[_0x2fe8d8(0x395)](_0x401b43):_0x5adc68[_0x2fe8d8(0xc13)](_0x401b43,_0x477411);}),_0x5adc68[_0x5e1e3a(0x504)](_0x5e1e3a(0xb9e),_0x18fcd8=>{const _0x24d41d=_0x5e1e3a;_0x18fcd8[_0x24d41d(0x5be)]();if(_0x401b43){const _0x487429=[..._0x5adc68['querySelectorAll'](_0x24d41d(0x7e2))][_0x24d41d(0x764)](_0xce52db=>_0xce52db[_0x24d41d(0x24b)][_0x24d41d(0x489)]);handleShortcutOrderChange(activeShortcutTabId,_0x487429);}}),document[_0x5e1e3a(0x640)]('.move-shortcut-menu-btn')['forEach'](_0x408cf6=>{const _0x289b7d=_0x5e1e3a;_0x408cf6[_0x289b7d(0x504)](_0x289b7d(0x936),_0xf4e6be=>{const _0x39dd4e=_0x289b7d;_0xf4e6be[_0x39dd4e(0x858)]();const _0x266cc8=_0xf4e6be[_0x39dd4e(0x617)][_0x39dd4e(0xbcc)],_0x4f51cb=_0x266cc8['classList']['contains'](_0x39dd4e(0xb5c));document[_0x39dd4e(0x640)](_0x39dd4e(0x7d6))[_0x39dd4e(0x94d)](_0x512241=>_0x512241[_0x39dd4e(0x707)][_0x39dd4e(0xbfd)]('hidden')),_0x4f51cb&&_0x266cc8['classList']['remove']('hidden');});});}document[_0x45c2ac(0x504)](_0x45c2ac(0x936),_0x1dc4d4=>{const _0x50dbaf=_0x45c2ac;!_0x1dc4d4[_0x50dbaf(0x797)][_0x50dbaf(0x5d0)](_0x50dbaf(0x76e))&&document[_0x50dbaf(0x640)](_0x50dbaf(0x7d6))[_0x50dbaf(0x94d)](_0x1d1627=>_0x1d1627['classList']['add'](_0x50dbaf(0xb5c)));});async function saveShortcutConfig(){const _0x2bae29=_0x45c2ac,_0x138fbb=doc(db,_0x2bae29(0x33d),_0x2bae29(0xbf2));try{await setDoc(_0x138fbb,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x2c93f7){console[_0x2bae29(0x4da)](_0x2bae29(0xb08),_0x2c93f7);}}async function handleAddShortcutTab(){const _0x165f71=_0x45c2ac,_0x56c432=prompt(_0x165f71(0xa24),_0x165f71(0xce1));if(!_0x56c432||_0x56c432[_0x165f71(0x543)]()==='')return;shortcutTabs[_0x165f71(0xcec)]({'id':_0x165f71(0x258)+Date[_0x165f71(0x17c)](),'name':_0x56c432[_0x165f71(0x543)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x1f77f6,_0x3485e7){const _0x5619af=_0x45c2ac,_0x30f575=shortcutTabs[_0x5619af(0x7c7)](_0x5ccf72=>_0x5ccf72['id']===_0x1f77f6);_0x30f575&&_0x3485e7[_0x5619af(0x543)]()!==''&&(_0x30f575[_0x5619af(0x224)]=_0x3485e7[_0x5619af(0x543)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x524807){const _0x192944=_0x45c2ac,_0x303cdb=shortcutTabs['find'](_0x41bd85=>_0x41bd85['id']===_0x524807);_0x303cdb&&!_0x303cdb[_0x192944(0x776)]&&showConfirmation(_0x192944(0x550)+_0x303cdb[_0x192944(0x224)]+_0x192944(0x799),async()=>{const _0x1aa63a=_0x192944;shortcutTabs=shortcutTabs[_0x1aa63a(0x624)](_0x43e5e0=>_0x43e5e0['id']!==_0x524807),delete shortcutOrder[_0x524807];if(activeShortcutTabId===_0x524807)activeShortcutTabId=_0x1aa63a(0xf3);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x76595e,_0x198619){const _0x37c9b2=_0x45c2ac,_0x1f0b3e=shortcutTabs[_0x37c9b2(0x7c7)](_0x1b8f9a=>_0x1b8f9a['id']===_0x198619);_0x1f0b3e&&!_0x1f0b3e[_0x37c9b2(0x8ae)]['includes'](_0x76595e)&&(_0x1f0b3e[_0x37c9b2(0x8ae)]['push'](_0x76595e),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x461f0b,_0x46634f){const _0xa9f4ed=_0x45c2ac,_0x44d83b=shortcutTabs['find'](_0x18c4e2=>_0x18c4e2['id']===_0x46634f);_0x44d83b&&!_0x44d83b[_0xa9f4ed(0x776)]&&(_0x44d83b[_0xa9f4ed(0x8ae)]=_0x44d83b['shortcutIds'][_0xa9f4ed(0x624)](_0x3bcf6a=>_0x3bcf6a!==_0x461f0b),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x21fb93,_0x395967){shortcutOrder[_0x21fb93]=_0x395967,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x195a5d=_0x45c2ac,_0x2e2f2d=document['getElementById'](_0x195a5d(0x756)),_0x366533=document['getElementById'](_0x195a5d(0x256)),_0x264ffb=document[_0x195a5d(0x286)]('shortcuts-loading-msg');_0x264ffb&&_0x264ffb['classList'][_0x195a5d(0xbfd)](_0x195a5d(0xb5c));if(!_0x2e2f2d||!_0x366533)return;const _0x2a8da1=blueprintShortcuts[_0x195a5d(0xc20)](0x0,0x4),_0x2c79cb=blueprintShortcuts[_0x195a5d(0xc20)](0x4);_0x2e2f2d[_0x195a5d(0x6ef)]=_0x2a8da1[_0x195a5d(0x764)](_0x2e38c9=>{const _0x4645ff=_0x195a5d;let _0x22d806=_0x4645ff(0x9df),_0x4ac88d='🧩';if(_0x2e38c9[_0x4645ff(0x5c0)]&&_0x2e38c9[_0x4645ff(0x7e)])_0x22d806=_0x4645ff(0x2eb),_0x4ac88d='📗';else _0x2e38c9[_0x4645ff(0x5c0)]&&(_0x22d806=_0x4645ff(0x353),_0x4ac88d='📘');const _0x5aaf6e=!_0x2e38c9[_0x4645ff(0x776)]?'<button\x20data-id=\x22'+_0x2e38c9['id']+_0x4645ff(0x1af):'';return _0x4645ff(0x332)+_0x2e38c9['id']+_0x4645ff(0xbb0)+_0x22d806+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x4ac88d+'\x20'+_0x2e38c9['name']+_0x4645ff(0xa0d)+_0x2e38c9['id']+_0x4645ff(0x522)+_0x5aaf6e+_0x4645ff(0xadf);})[_0x195a5d(0x6da)](''),_0x2c79cb[_0x195a5d(0xb81)]>0x0&&(_0x2e2f2d[_0x195a5d(0x6ef)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x2c79cb[_0x195a5d(0xb81)]>0x0?_0x366533[_0x195a5d(0x6ef)]=_0x2c79cb['map'](_0x1a0f16=>{const _0x20be45=_0x195a5d;let _0x584fdc='🧩';if(_0x1a0f16[_0x20be45(0x5c0)]&&_0x1a0f16[_0x20be45(0x7e)])_0x584fdc='📗';else _0x1a0f16[_0x20be45(0x5c0)]&&(_0x584fdc='📘');return _0x20be45(0xbd0)+_0x584fdc+'\x20'+_0x1a0f16['name']+_0x20be45(0x7b)+_0x1a0f16['id']+_0x20be45(0x298)+_0x1a0f16['id']+_0x20be45(0x20b)+(!_0x1a0f16[_0x20be45(0x776)]?_0x20be45(0x7a2)+_0x1a0f16['id']+_0x20be45(0x1e1):'')+_0x20be45(0xaac);})[_0x195a5d(0x6da)](''):_0x366533[_0x195a5d(0x6ef)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x4de304){const _0x57a6aa=_0x45c2ac,_0x4650a9=_0x4de304[_0x57a6aa(0x2b4)]('.')[_0x57a6aa(0xc4a)]()['toLowerCase']();switch(_0x4650a9){case _0x57a6aa(0x9e8):return _0x57a6aa(0x7ce);case _0x57a6aa(0x9b1):return _0x57a6aa(0x77);default:return'application/pdf';}}function openShortcutEditor(_0x227ee1=null){const _0xd6016d=_0x45c2ac,_0x35d31c=document[_0xd6016d(0x286)]('shortcut-editor-modal'),_0x4f5f76=document[_0xd6016d(0x286)](_0xd6016d(0x517)),_0x46e785=document[_0xd6016d(0x286)](_0xd6016d(0x618)),_0x29bd2e=document['getElementById'](_0xd6016d(0x7bc)),_0x4544d9=document[_0xd6016d(0x286)](_0xd6016d(0x809)),_0x14a8d5=document[_0xd6016d(0x286)](_0xd6016d(0x7c6));if(_0x227ee1){const _0x1736a1=blueprintShortcuts[_0xd6016d(0x7c7)](_0x30a3d5=>_0x30a3d5['id']===_0x227ee1);if(!_0x1736a1)return;_0x4f5f76[_0xd6016d(0x10e)]=_0xd6016d(0x7dc),_0x46e785[_0xd6016d(0x227)]=_0x1736a1['id'],_0x29bd2e[_0xd6016d(0x227)]=_0x1736a1[_0xd6016d(0x224)],_0x4544d9[_0xd6016d(0x227)]=_0x1736a1[_0xd6016d(0x5c0)]||'',_0x14a8d5['value']=_0x1736a1[_0xd6016d(0x7e)]||'';}else _0x4f5f76[_0xd6016d(0x10e)]=_0xd6016d(0xaa1),_0x46e785[_0xd6016d(0x227)]='',_0x29bd2e[_0xd6016d(0x227)]='',_0x4544d9[_0xd6016d(0x227)]='',_0x14a8d5[_0xd6016d(0x227)]='';_0x35d31c['classList']['remove']('hidden');}async function saveShortcutChanges(){const _0x7d5124=_0x45c2ac,_0x36bf1d=document[_0x7d5124(0x286)]('shortcut-id-input')[_0x7d5124(0x227)],_0x157063=document['getElementById'](_0x7d5124(0x7bc))[_0x7d5124(0x227)][_0x7d5124(0x543)](),_0x1053f2=document[_0x7d5124(0x286)](_0x7d5124(0x809))[_0x7d5124(0x227)]['trim']();if(!_0x157063||!_0x1053f2){showMessage(_0x7d5124(0x62a));return;}const _0x3b15ca={'id':_0x36bf1d||_0x7d5124(0xae5)+Date[_0x7d5124(0x17c)](),'name':_0x157063,'blueprintUrl':_0x1053f2,'referenceUrl':document[_0x7d5124(0x286)](_0x7d5124(0x7c6))['value'][_0x7d5124(0x543)](),'isDefault':_0x36bf1d[_0x7d5124(0x4ba)](_0x7d5124(0x7a1))};let _0x1cf8b3;_0x36bf1d?_0x1cf8b3=blueprintShortcuts[_0x7d5124(0x764)](_0x4ce830=>_0x4ce830['id']===_0x36bf1d?_0x3b15ca:_0x4ce830):_0x1cf8b3=[...blueprintShortcuts,_0x3b15ca];try{const _0x3c93ba=doc(db,_0x7d5124(0x33d),_0x7d5124(0xbf2));await setDoc(_0x3c93ba,{'blueprintShortcuts':_0x1cf8b3},{'merge':!![]}),document['getElementById'](_0x7d5124(0x676))[_0x7d5124(0x707)][_0x7d5124(0xbfd)](_0x7d5124(0xb5c));}catch(_0x39e8f3){console['error']('Error\x20saving\x20shortcut:',_0x39e8f3),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleShortcutClick(_0x13f60c){const _0xd99e36=_0x45c2ac,_0xe2a647=blueprintShortcuts['find'](_0x42ee2f=>_0x42ee2f['id']===_0x13f60c);if(!_0xe2a647||!_0xe2a647[_0xd99e36(0x5c0)])return;document[_0xd99e36(0x286)](_0xd99e36(0xe3))[_0xd99e36(0x707)][_0xd99e36(0xbfd)](_0xd99e36(0xb5c)),document[_0xd99e36(0x286)](_0xd99e36(0x4e3))[_0xd99e36(0x790)]=!![];const _0x25c416=document[_0xd99e36(0x286)](_0xd99e36(0x26d)),_0x31f804=document['getElementById']('loader-text');document[_0xd99e36(0x286)](_0xd99e36(0x1bd))[_0xd99e36(0x707)][_0xd99e36(0x6d1)](_0xd99e36(0xb5c)),document[_0xd99e36(0x286)](_0xd99e36(0xb5))[_0xd99e36(0x6ef)]='',_0x25c416[_0xd99e36(0x707)][_0xd99e36(0x6d1)](_0xd99e36(0xb5c));try{_0x31f804[_0xd99e36(0x10e)]='กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...';const _0x2d0870=await fetchFileFromUrl(_0xe2a647['blueprintUrl'],'blueprint.pdf');let _0x44a755=null;if(_0xe2a647[_0xd99e36(0x7e)]){_0x31f804[_0xd99e36(0x10e)]=_0xd99e36(0x75d);const _0x33c784=_0xe2a647[_0xd99e36(0x7e)]['toLowerCase']()[_0xd99e36(0x32e)](_0xd99e36(0x908))?_0xd99e36(0x5bf):_0xd99e36(0x1f4);_0x44a755=await fetchFileFromUrl(_0xe2a647['referenceUrl'],_0x33c784);}await handleGenerateFromBlueprintWithFiles(_0x2d0870,_0x44a755);}catch(_0x41bb29){console[_0xd99e36(0x4da)](_0xd99e36(0x350),_0x41bb29),showMessage(_0xd99e36(0x1ae)+_0x41bb29[_0xd99e36(0xc97)]),_0x25c416[_0xd99e36(0x707)][_0xd99e36(0xbfd)]('hidden');}}function getDirectDownloadUrl(_0x219b74){const _0x253ded=_0x45c2ac,_0x9ad813=_0x219b74[_0x253ded(0xca4)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x9ad813&&_0x9ad813[0x1])return _0x253ded(0x58d)+_0x9ad813[0x1];return _0x219b74;}async function fetchFileFromUrl(_0x505887,_0xa1b391){const _0x1be762=_0x45c2ac,_0x499835=getDirectDownloadUrl(_0x505887),_0x4b020b=_0x1be762(0x958)+encodeURIComponent(_0x499835),_0x1ff683=await fetch(_0x4b020b);if(!_0x1ff683['ok'])throw new Error(_0x1be762(0x732)+_0x1ff683['status']+')');const _0x224dad=await _0x1ff683[_0x1be762(0x2f6)](),_0x329fb7=await new Promise((_0x27a290,_0x5850c4)=>{const _0x42e661=_0x1be762,_0x55b7b3=new FileReader();_0x55b7b3[_0x42e661(0x311)]=()=>_0x27a290(new Uint8Array(_0x55b7b3['result'])),_0x55b7b3[_0x42e661(0x62b)]=_0x5850c4,_0x55b7b3[_0x42e661(0x92d)](_0x224dad['slice'](0x0,0x4));});let _0x409d39='';const _0x33d7ec=new TextDecoder()[_0x1be762(0xaef)](_0x329fb7);return _0x33d7ec===_0x1be762(0x12f)?(_0x409d39=_0x1be762(0x7ce),console[_0x1be762(0x241)]('File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.')):(_0x409d39='text/plain',console['log'](_0x1be762(0x159))),new File([_0x224dad],_0xa1b391,{'type':_0x409d39});}async function handleGenerateFromBlueprintWithFiles(_0x2da4a7,_0x5e2c9e=null){const _0x39fc07=_0x45c2ac;if(!_0x2da4a7){showMessage(_0x39fc07(0x96f));return;}const _0x527e36=document[_0x39fc07(0x286)](_0x39fc07(0x26d)),_0x4c08d6=document[_0x39fc07(0x286)](_0x39fc07(0x33e));_0x527e36[_0x39fc07(0x707)]['remove'](_0x39fc07(0xb5c)),document[_0x39fc07(0x286)](_0x39fc07(0x1bd))['classList'][_0x39fc07(0x6d1)]('hidden'),document[_0x39fc07(0x286)](_0x39fc07(0xb5))[_0x39fc07(0x6ef)]='';try{_0x4c08d6[_0x39fc07(0x10e)]=_0x39fc07(0x583);const _0x41b35a=await new Promise((_0x345fb1,_0x41a4ee)=>{const _0x56e1ad=_0x39fc07,_0x27ced5=new FileReader();_0x27ced5[_0x56e1ad(0x644)](_0x2da4a7),_0x27ced5[_0x56e1ad(0x24f)]=()=>_0x345fb1(_0x27ced5[_0x56e1ad(0x393)][_0x56e1ad(0x2b4)](',')[0x1]),_0x27ced5[_0x56e1ad(0x62b)]=_0x41a4ee;}),_0x533050=[];if(_0x5e2c9e){_0x4c08d6['textContent']=_0x39fc07(0x658);const _0x2c7d79=await _0x5e2c9e[_0x39fc07(0x135)]();_0x533050[_0x39fc07(0xcec)]({'text':_0x39fc07(0x3b5)+_0x2c7d79});}const _0x500942=[{'text':_0x39fc07(0x5eb)},{'inlineData':{'mimeType':_0x2da4a7['type'],'data':_0x41b35a}},..._0x533050];await handleGenerateFromBlueprint(_0x500942);}catch(_0x277ee3){console['error']('Error\x20in\x20generating\x20from\x20files:',_0x277ee3),showMessage(_0x39fc07(0x1ae)+_0x277ee3[_0x39fc07(0xc97)]),_0x527e36[_0x39fc07(0x707)]['add'](_0x39fc07(0xb5c));}}async function handleLiveAnswer(_0x5f1827,_0x50d136){const _0x22b53c=_0x45c2ac;document[_0x22b53c(0x640)](_0x22b53c(0x957))[_0x22b53c(0x94d)](_0x1f99b5=>_0x1f99b5[_0x22b53c(0x790)]=!![]);const _0x44142d=_0x50d136[_0x22b53c(0x9f5)]||currentQuizData[_0x22b53c(0x480)];let _0x540feb=![],_0x59e9bf=_0x5f1827;if(_0x44142d===_0x22b53c(0x27d)){const _0x3ede66=(_0x5f1827||'')['toString']();_0x540feb=await gradeShortAnswer(_0x3ede66,_0x50d136);}else{if(_0x44142d==='multiple_choice')_0x540feb=_0x5f1827===_0x50d136[_0x22b53c(0xc51)];else{if(_0x44142d===_0x22b53c(0xcbb)){const _0x560d46=_0x50d136['correctAnswer'];_0x540feb=_0x5f1827===0x0&&_0x560d46||_0x5f1827===0x1&&!_0x560d46;}else{if(_0x44142d===_0x22b53c(0x2d6)){const _0x28ea63=_0x50d136['allResponses'][_0x5f1827];_0x540feb=_0x28ea63===_0x50d136[_0x22b53c(0x7a5)],_0x59e9bf=_0x28ea63;}}}}const _0x2c3135=doc(db,_0x22b53c(0x47d)+appId+_0x22b53c(0x37a),currentLiveGameId),_0x2af564={};_0x2af564[_0x22b53c(0x3df)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x2af564[_0x22b53c(0x3df)+currentStudentName+_0x22b53c(0x96a)]=_0x540feb,_0x2af564[_0x22b53c(0x3df)+currentStudentName+_0x22b53c(0x933)]=_0x44142d===_0x22b53c(0x27d)||_0x44142d===_0x22b53c(0x2d6)?null:_0x5f1827,_0x2af564[_0x22b53c(0x3df)+currentStudentName+_0x22b53c(0x8b8)]=_0x59e9bf,_0x2af564[_0x22b53c(0x3df)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x2af564[_0x22b53c(0x3df)+currentStudentName+_0x22b53c(0x411)]=![],await updateDoc(_0x2c3135,_0x2af564),liveGameView[_0x22b53c(0x6ef)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x52dc84,_0x39789c){const _0x3e29fe=_0x45c2ac,_0x39de12=Object[_0x3e29fe(0xa8e)](_0x52dc84['players']||{}),_0x4d391e=_0x39789c[_0x3e29fe(0x9f5)]||currentQuizData[_0x3e29fe(0x480)],_0x715486=_0x4d391e===_0x3e29fe(0xcbb)?[_0x3e29fe(0x619),'ไม่ใช่']:_0x39789c[_0x3e29fe(0xa07)]||_0x39789c[_0x3e29fe(0xeb)]||[],_0x291f82={},_0x14ea9c=new Array(_0x715486[_0x3e29fe(0xb81)])[_0x3e29fe(0x6ed)](0x0);_0x715486[_0x3e29fe(0x94d)]((_0xad4081,_0x3c1a4b)=>{_0x291f82[_0x3c1a4b]=[];}),Object[_0x3e29fe(0xad3)](_0x52dc84[_0x3e29fe(0x92e)]||{})[_0x3e29fe(0x94d)](([_0x1852e9,_0x585238])=>{const _0x279d09=_0x3e29fe;if(_0x585238[_0x279d09(0xc3e)]==='active'&&_0x585238['lastAnswerIndex']!==undefined){const _0x5164d3=_0x585238[_0x279d09(0x15a)];_0x291f82[_0x5164d3]&&(_0x291f82[_0x5164d3][_0x279d09(0xcec)](_0x1852e9),_0x14ea9c[_0x5164d3]++);}});const _0xd6eb3b=Math[_0x3e29fe(0x75c)](..._0x14ea9c,0x1),_0x5cd70d=_0x3e29fe(0xa8d)+(_0x39789c[_0x3e29fe(0xcfa)]||_0x39789c[_0x3e29fe(0x3a5)])+_0x3e29fe(0xbe0)+_0x14ea9c['map']((_0x317cc7,_0x25a44f)=>{const _0x1501e8=_0x3e29fe,_0x263d1b=_0x291f82[_0x25a44f][_0x1501e8(0xb81)]>0x0?_0x291f82[_0x25a44f]['join'](',\x20'):_0x1501e8(0x7f1);let _0x256d24=![];if(_0x4d391e==='multiple_choice')_0x256d24=_0x25a44f===_0x39789c[_0x1501e8(0xc51)];else{if(_0x4d391e===_0x1501e8(0xcbb)){const _0x1081b2=_0x39789c[_0x1501e8(0xc42)];_0x256d24=_0x1081b2&&_0x25a44f===0x0||!_0x1081b2&&_0x25a44f===0x1;}else _0x4d391e==='matching_item'&&(_0x256d24=_0x715486[_0x25a44f]===_0x39789c[_0x1501e8(0x7a5)]);}const _0x2e2747=_0x256d24?'#26890c':'#e21b3c';return _0x1501e8(0x439)+_0x317cc7+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0x2e2747+_0x1501e8(0xcdf)+_0x25a44f+_0x1501e8(0xd45)+_0x715486[_0x25a44f]+_0x1501e8(0x8d5)+_0x25a44f+_0x1501e8(0xa9)+_0x263d1b+_0x1501e8(0xbf4);})[_0x3e29fe(0x6da)]('')+_0x3e29fe(0xff);liveGameView[_0x3e29fe(0x6ef)]=_0x5cd70d;if(window[_0x3e29fe(0x36f)])MathJax[_0x3e29fe(0x8c4)]();document[_0x3e29fe(0x286)]('show-leaderboard-btn')[_0x3e29fe(0x504)](_0x3e29fe(0x936),async()=>{const _0x13ec97=_0x3e29fe,_0xce4ee7=doc(db,_0x13ec97(0x47d)+appId+_0x13ec97(0x37a),currentLiveGameId);await updateDoc(_0xce4ee7,{'questionStatus':'leaderboard'});}),document[_0x3e29fe(0x286)](_0x3e29fe(0x632))[_0x3e29fe(0x504)](_0x3e29fe(0x936),()=>{openScratchpad(_0x39789c,_0x715486);});}function showPlayerSummaryView(_0x245e53,_0x455d37){const _0x32578b=_0x45c2ac,_0x37df55=Object['values'](_0x245e53[_0x32578b(0x92e)]||{}),_0x5c7215=_0x245e53['players'][_0x455d37],_0x2559ce=_0x37df55[_0x32578b(0x624)](_0x3609db=>_0x3609db[_0x32578b(0xc3e)]==='active')[_0x32578b(0x276)]((_0x51d36e,_0x3ac1d0)=>_0x3ac1d0[_0x32578b(0x248)]-_0x51d36e[_0x32578b(0x248)]),_0x19eadd=_0x2559ce[_0x32578b(0x1e0)](_0x2acb4d=>_0x2acb4d===_0x5c7215)+0x1,_0x1a9cbf=_0x5c7215[_0x32578b(0x9f)]?_0x32578b(0xd39):_0x32578b(0xcb2),_0x4da3c2=_0x5c7215[_0x32578b(0x9f)]?_0x32578b(0x8ee):_0x32578b(0x745),_0x291fc7=_0x5c7215['pointsLastQuestion']||0x0,_0xb57562='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x1f27d8=_0x32578b(0x338)+_0xb57562+_0x32578b(0x9a7)+_0x4da3c2+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x1a9cbf+_0x32578b(0x28c)+_0x291fc7+_0x32578b(0xb4e)+(_0x19eadd>0x0?_0x19eadd:'-')+_0x32578b(0x6f2);liveGameView[_0x32578b(0x6ef)]=_0x1f27d8;}function createQuizFromBank(){const _0x2f9073=_0x45c2ac,_0x581db8=document[_0x2f9073(0x640)](_0x2f9073(0xab0));if(_0x581db8['length']===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x1f5e4c=[];_0x581db8[_0x2f9073(0x94d)](_0x4fedb7=>{const _0x4086ee=_0x2f9073;_0x1f5e4c['push'](JSON[_0x4086ee(0x8dc)](_0x4fedb7[_0x4086ee(0x227)]));});const _0x19c796={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x1f5e4c};displayGeneratedQuiz(_0x19c796);}function showAdminLobbyView(_0x4610e9,_0x49b78a){const _0x2b1f06=_0x45c2ac;showView('live-game');const _0x317c72='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x49b78a+_0x2b1f06(0x93a)+_0x4610e9+_0x2b1f06(0x6dc);liveGameView[_0x2b1f06(0x6ef)]=_0x317c72,document[_0x2b1f06(0x286)](_0x2b1f06(0x4c3))[_0x2b1f06(0x504)](_0x2b1f06(0x936),async()=>{const _0x22946a=_0x2b1f06;if(!currentQuizData||!currentQuizData[_0x22946a(0xbc3)]||currentQuizData[_0x22946a(0xbc3)][_0x22946a(0xb81)]===0x0){showMessage(_0x22946a(0x81a));return;}try{const _0x12fc0a=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x12fc0a,{'status':_0x22946a(0x5d6),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x157948=currentQuizData['questions'][0x0],_0xd34db2=currentQuizData[_0x22946a(0xbc3)][_0x22946a(0xb81)];showAdminLiveQuestionView(_0x157948,0x0,_0xd34db2);}catch(_0xd48ff1){console['error'](_0x22946a(0xcab),_0xd48ff1),showMessage(_0x22946a(0x2c4));}});}async function openQuizBankModal(){const _0x5124e6=_0x45c2ac;if(allQuizzesGlobal[_0x5124e6(0xb81)]===0x0){const _0x965f1e=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x965f1e[_0x5124e6(0x22c)][_0x5124e6(0x764)](_0x523e70=>({'id':_0x523e70['id'],..._0x523e70[_0x5124e6(0x10a)]()}));}renderQuizBankList(''),document[_0x5124e6(0x286)](_0x5124e6(0x88))[_0x5124e6(0x707)][_0x5124e6(0x6d1)]('hidden');}function renderQuizBankList(_0x5385ff='',_0x4f3073=![]){const _0x36bf66=_0x45c2ac,_0x5cb727=document[_0x36bf66(0x286)](_0x36bf66(0x665)),_0x1b9a69=_0x5385ff[_0x36bf66(0x3f0)]()[_0x36bf66(0x543)](),_0x4021c8=allQuizzesGlobal['map'](_0x313394=>({..._0x313394,'projectName':allProjects[_0x36bf66(0x7c7)](_0x3ee08d=>_0x3ee08d['id']===_0x313394[_0x36bf66(0x12d)])?.[_0x36bf66(0xc49)]||_0x36bf66(0x7a0)}))[_0x36bf66(0x624)](_0x1e2518=>(_0x1e2518[_0x36bf66(0x26f)]||'')[_0x36bf66(0x3f0)]()[_0x36bf66(0x613)](_0x1b9a69)||(_0x1e2518[_0x36bf66(0xc49)]||'')[_0x36bf66(0x3f0)]()[_0x36bf66(0x613)](_0x1b9a69)||_0x1e2518['id'][_0x36bf66(0xe2)]()[_0x36bf66(0x613)](_0x1b9a69));document[_0x36bf66(0x286)]('quiz-bank-count')['textContent']='('+_0x4021c8[_0x36bf66(0xb81)]+_0x36bf66(0xcf0),_0x5cb727[_0x36bf66(0x6ef)]=_0x4021c8[_0x36bf66(0xb81)]?_0x4021c8[_0x36bf66(0x764)](_0x41d04a=>{const _0x400dfa=_0x36bf66,_0x4e2948=!_0x4f3073?_0x400dfa(0x8ab)+_0x41d04a['id']+_0x400dfa(0x589)+_0x41d04a['id']+_0x400dfa(0x540)+_0x41d04a['id']+_0x400dfa(0xbef)+_0x41d04a['id']+_0x400dfa(0x6c5)+_0x41d04a['id']+_0x400dfa(0x881)+_0x41d04a['id']+_0x400dfa(0xe6)+_0x41d04a['topic']+_0x400dfa(0xc0a):'';return _0x400dfa(0x19e)+_0x41d04a['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x41d04a[_0x400dfa(0x26f)]||'(ไม่มีชื่อ)')+_0x400dfa(0xc18)+(_0x41d04a[_0x400dfa(0xbc3)]?.[_0x400dfa(0xb81)]||0x0)+_0x400dfa(0x8bc)+_0x41d04a[_0x400dfa(0xc49)]+_0x400dfa(0xd11)+_0x41d04a['id']+_0x400dfa(0x53e)+_0x4e2948+_0x400dfa(0x4a0);})[_0x36bf66(0x6da)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x4f3073&&(_0x5cb727['querySelectorAll'](_0x36bf66(0xd2))[_0x36bf66(0x94d)](_0x2c980a=>{const _0x538785=_0x36bf66;_0x2c980a[_0x538785(0x504)](_0x538785(0x936),()=>{const _0x113d8c=_0x538785,_0x119480=_0x2c980a[_0x113d8c(0x24b)]['id'];document[_0x113d8c(0x286)](_0x113d8c(0x88))['classList'][_0x113d8c(0xbfd)]('hidden'),showQuizDetailView(_0x119480);});}),_0x5cb727[_0x36bf66(0x640)](_0x36bf66(0x4b1))[_0x36bf66(0x94d)](_0x1eafb2=>{_0x1eafb2['addEventListener']('click',_0x5d1623=>{const _0x263f71=_0x1af4;_0x5d1623[_0x263f71(0x858)]();const _0x337025=_0x1eafb2[_0x263f71(0x24b)]['id'],_0x1ffc8d=allQuizzesGlobal['find'](_0x558faf=>_0x558faf['id']===_0x337025);_0x1ffc8d?(currentQuizData=_0x1ffc8d,document['getElementById'](_0x263f71(0x88))[_0x263f71(0x707)][_0x263f71(0xbfd)](_0x263f71(0xb5c)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x5cb727[_0x36bf66(0x640)](_0x36bf66(0x8d1))[_0x36bf66(0x94d)](_0x22c267=>{const _0x2c0615=_0x36bf66;_0x22c267[_0x2c0615(0x504)](_0x2c0615(0x936),_0x566cfc=>{const _0x384920=_0x2c0615;_0x566cfc[_0x384920(0x858)]();const _0x38a871=_0x22c267['dataset']['id'],_0x234fbe=allQuizzesGlobal[_0x384920(0x7c7)](_0x548c26=>_0x548c26['id']===_0x38a871);_0x234fbe?(document[_0x384920(0x286)](_0x384920(0x88))[_0x384920(0x707)][_0x384920(0xbfd)]('hidden'),handleGenerateParallelFromBank(_0x234fbe)):showMessage(_0x384920(0x989));});}),_0x5cb727[_0x36bf66(0x640)](_0x36bf66(0x68f))['forEach'](_0x138e2d=>{const _0x3470e4=_0x36bf66;_0x138e2d[_0x3470e4(0x504)](_0x3470e4(0x936),_0x6b8ca8=>{const _0x5e6d54=_0x3470e4;_0x6b8ca8[_0x5e6d54(0x858)]();const _0x5231e9=_0x138e2d[_0x5e6d54(0x24b)]['id'],_0x2c1d6f=allQuizzesGlobal[_0x5e6d54(0x7c7)](_0x277efc=>_0x277efc['id']===_0x5231e9);_0x2c1d6f?(document['getElementById']('quiz-bank-modal')[_0x5e6d54(0x707)][_0x5e6d54(0xbfd)](_0x5e6d54(0xb5c)),startPresentation(_0x2c1d6f)):showMessage(_0x5e6d54(0x989));});}),_0x5cb727[_0x36bf66(0x640)](_0x36bf66(0x71c))['forEach'](_0x3ecb9b=>{const _0x16bf3b=_0x36bf66;_0x3ecb9b['addEventListener'](_0x16bf3b(0x936),_0x1fbf08=>{const _0x302945=_0x16bf3b;_0x1fbf08['stopPropagation']();const _0x27fc36=_0x3ecb9b[_0x302945(0x24b)]['id'];document[_0x302945(0x286)](_0x302945(0x88))[_0x302945(0x707)][_0x302945(0xbfd)]('hidden'),handleMoveQuiz(_0x27fc36);});}),_0x5cb727[_0x36bf66(0x640)](_0x36bf66(0x3fc))[_0x36bf66(0x94d)](_0x5d3c50=>{const _0x32ecd5=_0x36bf66;_0x5d3c50[_0x32ecd5(0x504)](_0x32ecd5(0x936),_0xf110a8=>{const _0x5791fb=_0x32ecd5;_0xf110a8[_0x5791fb(0x858)]();const _0x2db6f9=_0x5d3c50[_0x5791fb(0x24b)]['id'];document['getElementById']('quiz-bank-modal')[_0x5791fb(0x707)][_0x5791fb(0xbfd)]('hidden'),handleQuizSettings(_0x2db6f9);});}),_0x5cb727[_0x36bf66(0x640)](_0x36bf66(0x836))[_0x36bf66(0x94d)](_0x3cb737=>{const _0x5ad5dc=_0x36bf66;_0x3cb737['addEventListener'](_0x5ad5dc(0x936),_0x4a0bdf=>{const _0x134c9d=_0x5ad5dc;_0x4a0bdf['stopPropagation']();const _0x44906c=_0x3cb737[_0x134c9d(0x24b)]['id'],_0x3fb37a=_0x3cb737['dataset'][_0x134c9d(0x26f)];showConfirmation(_0x134c9d(0x70a)+_0x3fb37a+_0x134c9d(0x6ab),()=>handleDeleteQuiz(_0x44906c));});}));}async function handleCompareResults(_0x2621b5,_0x2f84ee){const _0x19dbd2=_0x45c2ac,_0x5961c3=document[_0x19dbd2(0x286)](_0x19dbd2(0xbd1)),_0x3651cb=document[_0x19dbd2(0x286)]('comparison-overall-content'),_0x56db45=document[_0x19dbd2(0x286)]('comparison-individual-content');document['getElementById']('comparison-overall-tab')[_0x19dbd2(0x707)][_0x19dbd2(0xbfd)](_0x19dbd2(0x925)),document['getElementById'](_0x19dbd2(0x6ff))[_0x19dbd2(0x707)][_0x19dbd2(0x6d1)]('active'),_0x3651cb[_0x19dbd2(0x707)][_0x19dbd2(0x6d1)](_0x19dbd2(0xb5c)),_0x56db45['classList']['add'](_0x19dbd2(0xb5c)),_0x3651cb['innerHTML']=_0x19dbd2(0x453),_0x56db45[_0x19dbd2(0x6ef)]='',_0x5961c3[_0x19dbd2(0x707)]['remove'](_0x19dbd2(0xb5c));try{const _0x46486d=doc(db,_0x19dbd2(0x47d)+appId+_0x19dbd2(0x5d7),_0x2621b5),_0x3957ee=await getDoc(_0x46486d);if(!_0x3957ee['exists']())throw new Error(_0x19dbd2(0x73a));const _0x91702c=_0x3957ee[_0x19dbd2(0x10a)](),_0x429fe0=_0x91702c[_0x19dbd2(0xbc3)][_0x19dbd2(0xb81)],_0x1962a0=collection(db,'artifacts/'+appId+_0x19dbd2(0xb5b)+_0x2f84ee+_0x19dbd2(0x9d4)),_0x2c1fb0=collection(db,_0x19dbd2(0x47d)+appId+_0x19dbd2(0xb5b)+_0x2621b5+_0x19dbd2(0x9d4)),[_0x20b777,_0x41c76c]=await Promise[_0x19dbd2(0xf3)]([getDocs(_0x1962a0),getDocs(_0x2c1fb0)]),_0x36b0b9=_0x20b777[_0x19dbd2(0x22c)]['map'](_0x5d5977=>_0x5d5977[_0x19dbd2(0x10a)]()),_0x4af25e=_0x41c76c[_0x19dbd2(0x22c)][_0x19dbd2(0x764)](_0x5395f9=>_0x5395f9['data']()),_0x4cc2bc=_0x36b0b9[_0x19dbd2(0x764)](_0x45b59d=>_0x45b59d['latestScore']),_0xb00f9=_0x4af25e[_0x19dbd2(0x764)](_0x1c16ea=>_0x1c16ea[_0x19dbd2(0xa39)]),_0x1ed344=calculateMeanAndStdDev(_0x4cc2bc),_0x69418a=calculateMeanAndStdDev(_0xb00f9),_0x279542=_0x1ed344[_0x19dbd2(0x31e)],_0xd47e92=_0x69418a[_0x19dbd2(0x31e)],_0x1bb81c=_0xd47e92-_0x279542;let _0x47621b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x279542['toFixed'](0x2)+_0x19dbd2(0x6e5)+_0xd47e92[_0x19dbd2(0x58a)](0x2)+_0x19dbd2(0x127)+(_0x1bb81c>=0x0?_0x19dbd2(0x59d):_0x19dbd2(0x98a))+_0x19dbd2(0x89c)+(_0x1bb81c>=0x0?_0x19dbd2(0x87d):'text-red-800')+_0x19dbd2(0x3a4)+(_0x1bb81c>=0x0?_0x19dbd2(0xc9a):'text-red-900')+'\x22>'+(_0x1bb81c>=0x0?'+':'')+_0x1bb81c[_0x19dbd2(0x58a)](0x2)+_0x19dbd2(0xa3e);_0x3651cb['innerHTML']=_0x47621b;const _0x57a9ea=document[_0x19dbd2(0x286)](_0x19dbd2(0x6a0))[_0x19dbd2(0x299)]('2d');if(chartInstances[_0x19dbd2(0xa11)])chartInstances[_0x19dbd2(0xa11)][_0x19dbd2(0x19a)]();chartInstances[_0x19dbd2(0xa11)]=new Chart(_0x57a9ea,{'type':_0x19dbd2(0x245),'data':{'labels':[_0x19dbd2(0xc35)],'datasets':[{'label':_0x19dbd2(0xb7f),'data':[_0x279542],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':'หลังเรียน','data':[_0xd47e92],'backgroundColor':_0x19dbd2(0x77d)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x429fe0}}}});const _0xed8eb0=currentProjectData['students']||[],_0x2eae42=_0xed8eb0[_0x19dbd2(0x764)](_0xbdca3b=>{const _0x5d4646=_0x19dbd2,_0x107c69=_0x36b0b9[_0x5d4646(0x7c7)](_0x5c9d7c=>_0x5c9d7c[_0x5d4646(0x9b7)]===_0xbdca3b),_0x33dbea=_0x4af25e[_0x5d4646(0x7c7)](_0x522d85=>_0x522d85[_0x5d4646(0x9b7)]===_0xbdca3b),_0x3f7072=_0x107c69?_0x107c69[_0x5d4646(0xa39)]:null,_0x4ef92a=_0x33dbea?_0x33dbea[_0x5d4646(0xa39)]:null,_0x159c8b=_0x3f7072!==null&&_0x4ef92a!==null?_0x4ef92a-_0x3f7072:null,_0x327e06=_0x3f7072!==null?calculateZScore(_0x3f7072,_0x1ed344[_0x5d4646(0x31e)],_0x1ed344['stdDev']):null,_0x13e964=_0x4ef92a!==null?calculateZScore(_0x4ef92a,_0x69418a[_0x5d4646(0x31e)],_0x69418a[_0x5d4646(0x68a)]):null,_0x7533e3=_0x327e06!==null?calculateTScore(_0x327e06):null,_0x12eb66=_0x13e964!==null?calculateTScore(_0x13e964):null,_0x365091=_0x7533e3!==null&&_0x12eb66!==null?_0x12eb66-_0x7533e3:null;return{'name':_0xbdca3b,'preScore':_0x3f7072,'postScore':_0x4ef92a,'gain':_0x159c8b,'preTScore':_0x7533e3,'postTScore':_0x12eb66,'tGain':_0x365091};});renderIndividualComparisonTable(_0x2eae42,_0x56db45);}catch(_0x3ec8ff){console['error'](_0x19dbd2(0x344),_0x3ec8ff),_0x3651cb['innerHTML']=_0x19dbd2(0x717);}}async function saveBlueprintProject(){const _0x3c27c8=_0x45c2ac;if(!extractedBlueprintData||!extractedBlueprintData[_0x3c27c8(0x7c8)]){showMessage(_0x3c27c8(0x704));return;}const _0x1eb708=prompt(_0x3c27c8(0xcee),_0x3c27c8(0x701));if(!_0x1eb708||_0x1eb708[_0x3c27c8(0x543)]()==='')return;const _0x3e77ec={};extractedBlueprintData[_0x3c27c8(0x7c8)][_0x3c27c8(0x94d)](_0x5d0a9a=>{const _0x4ef1e5=_0x3c27c8;_0x5d0a9a['mainTopics'][_0x4ef1e5(0x94d)](_0x1cdca2=>{_0x1cdca2['subTopics']['forEach'](_0x26ec6e=>{const _0x12e6d7=_0x1af4,_0x163c25=_0x12e6d7(0x994)+Date['now']()+Math['random']()['toString'](0x24)[_0x12e6d7(0x15f)](0x2,0x9);_0x3e77ec[_0x163c25]={'sara':_0x5d0a9a[_0x12e6d7(0xc2c)],'mainTopic':_0x1cdca2['topicName'],'subTopic':_0x26ec6e,'status':_0x12e6d7(0x28f),'lessonContent':null};});});});try{const _0x4451ec=collection(db,'artifacts/'+appId+_0x3c27c8(0xbaf));await addDoc(_0x4451ec,{'projectName':_0x1eb708[_0x3c27c8(0x543)](),'gradeLevel':extractedBlueprintData[_0x3c27c8(0x306)],'topics':_0x3e77ec,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x1eb708[_0x3c27c8(0x543)]()+_0x3c27c8(0x128)),document['getElementById'](_0x3c27c8(0x775))[_0x3c27c8(0x707)][_0x3c27c8(0xbfd)]('hidden');}catch(_0x466243){console[_0x3c27c8(0x4da)](_0x3c27c8(0x51e),_0x466243),showMessage(_0x3c27c8(0x37c));}}async function showBlueprintProjects(){const _0x455bed=_0x45c2ac,_0x572c2a=document[_0x455bed(0x286)](_0x455bed(0x98d)),_0x3fce1f=document[_0x455bed(0x286)]('blueprint-project-list');_0x3fce1f[_0x455bed(0x6ef)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>',_0x572c2a[_0x455bed(0x707)]['remove']('hidden');try{const _0x54c582=collection(db,_0x455bed(0x47d)+appId+_0x455bed(0xbaf)),_0x357f6f=await getDocs(_0x54c582);if(_0x357f6f['empty']){_0x3fce1f[_0x455bed(0x6ef)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x1fa8eb=_0x357f6f['docs'][_0x455bed(0x764)](_0x17cd08=>({'id':_0x17cd08['id'],..._0x17cd08['data']()}));_0x1fa8eb[_0x455bed(0x276)]((_0x19c107,_0x4ea341)=>_0x19c107[_0x455bed(0xc49)]['localeCompare'](_0x4ea341[_0x455bed(0xc49)],'th')),_0x3fce1f[_0x455bed(0x6ef)]=_0x1fa8eb[_0x455bed(0x764)](_0x3f7965=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x3f7965[_0x455bed(0xc49)]+_0x455bed(0x3be)+_0x3f7965[_0x455bed(0x306)]+_0x455bed(0x73e)+Object[_0x455bed(0xb99)](_0x3f7965['topics'])[_0x455bed(0xb81)]+_0x455bed(0x291)+_0x3f7965['id']+_0x455bed(0xa5f)+_0x3f7965['id']+_0x455bed(0x6b3))[_0x455bed(0x6da)]('');}catch(_0x32a9a8){console[_0x455bed(0x4da)](_0x455bed(0x1a9),_0x32a9a8),_0x3fce1f['innerHTML']=_0x455bed(0x3b6);}}async function displayBlueprintProjectManager(_0x5db86a){const _0x5130a5=_0x45c2ac;currentBlueprintProjectId=_0x5db86a,document[_0x5130a5(0x286)](_0x5130a5(0x98d))['classList'][_0x5130a5(0xbfd)](_0x5130a5(0xb5c)),showView(_0x5130a5(0xcc2)),projectDashboardView[_0x5130a5(0x707)]['add'](_0x5130a5(0xb5c));const _0x1b4350=document['getElementById'](_0x5130a5(0x53b));_0x1b4350[_0x5130a5(0x707)]['remove'](_0x5130a5(0xb5c)),document[_0x5130a5(0x286)](_0x5130a5(0xcb3))[_0x5130a5(0x6ef)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x288670=doc(db,'artifacts/'+appId+_0x5130a5(0xbaf),_0x5db86a),_0x1a15b3=await getDoc(_0x288670);if(!_0x1a15b3['exists']())throw new Error(_0x5130a5(0x8c6));const _0x342b46={'id':_0x1a15b3['id'],..._0x1a15b3[_0x5130a5(0x10a)]()};document[_0x5130a5(0x286)](_0x5130a5(0x628))[_0x5130a5(0x10e)]=_0x342b46[_0x5130a5(0xc49)],document[_0x5130a5(0x286)](_0x5130a5(0x6ce))[_0x5130a5(0x227)]=_0x342b46[_0x5130a5(0xc88)]||'',renderBlueprintTopicManager(_0x342b46);}catch(_0x1ae2e6){console[_0x5130a5(0x4da)](_0x5130a5(0x62f),_0x1ae2e6),showMessage(_0x1ae2e6[_0x5130a5(0xc97)]),showView('admin-dashboard');}}function renderBlueprintTopicManager(_0x4d51d9){const _0x4afde1=_0x45c2ac,_0x275a16=document[_0x4afde1(0x286)](_0x4afde1(0xcb3)),_0x346476=_0x4d51d9[_0x4afde1(0x50c)]||{};if(Object['keys'](_0x346476)[_0x4afde1(0xb81)]===0x0){_0x275a16['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0x1885ed=Object[_0x4afde1(0xad3)](_0x346476)[_0x4afde1(0x764)](([_0x5ed0ff,_0x3296d4])=>({'id':_0x5ed0ff,..._0x3296d4}))['sort']((_0x12080d,_0x50e2f8)=>(_0x12080d[_0x4afde1(0x9da)]??Infinity)-(_0x50e2f8['order']??Infinity)),_0x3e4ca7={};_0x1885ed[_0x4afde1(0x94d)](_0xac96c2=>{const _0x2614ff=_0x4afde1,{sara:_0x5cc422,mainTopic:_0xaec59a}=_0xac96c2;!_0x3e4ca7[_0x5cc422]&&(_0x3e4ca7[_0x5cc422]={}),!_0x3e4ca7[_0x5cc422][_0xaec59a]&&(_0x3e4ca7[_0x5cc422][_0xaec59a]=[]),_0x3e4ca7[_0x5cc422][_0xaec59a][_0x2614ff(0xcec)](_0xac96c2);});let _0x4d0fe3='';for(const _0x2a6232 in _0x3e4ca7){_0x4d0fe3+='<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x2a6232+'</h4>';for(const _0x43463b in _0x3e4ca7[_0x2a6232]){_0x4d0fe3+=_0x4afde1(0x9e6)+_0x43463b+_0x4afde1(0x54a),_0x3e4ca7[_0x2a6232][_0x43463b][_0x4afde1(0x94d)](_0x462fe6=>{const _0x2d92dc=_0x4afde1,_0x3bfd98=_0x462fe6['id'],_0x2ce763=_0x462fe6['linkedQuizIds']||[],_0x3ebd5a=_0x2ce763[_0x2d92dc(0xb81)]>0x0,_0x4e8fc4=_0x462fe6[_0x2d92dc(0xc3e)]==='generated';let _0x3d1f3e='';_0x3ebd5a?_0x3d1f3e=_0x2d92dc(0x3db)+_0x2ce763[_0x2d92dc(0xb81)]+'\x20ชุด)</span>':_0x3d1f3e=_0x2d92dc(0x385)+(_0x4e8fc4?_0x2d92dc(0x9cc):_0x2d92dc(0x56b))+'\x22>'+(_0x4e8fc4?_0x2d92dc(0x4f9):_0x2d92dc(0xa7c))+_0x2d92dc(0x189);const _0x5c5759=!_0x4e8fc4?_0x2d92dc(0x3c6):'',_0x5c32a9=!_0x4e8fc4?_0x2d92dc(0x2ac):'';let _0xa01630=_0x4e8fc4?_0x2d92dc(0x69f):_0x2d92dc(0x4ac);_0x4d0fe3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22'+_0x3bfd98+_0x2d92dc(0x570)+_0x462fe6[_0x2d92dc(0xb6b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d1f3e+_0x2d92dc(0x15d)+_0x5c5759+_0x2d92dc(0x835)+_0x5c32a9+_0x2d92dc(0x2fd)+_0xa01630+_0x2d92dc(0x374);}),_0x4d0fe3+='</div></div>';}_0x4d0fe3+=_0x4afde1(0x6c2);}_0x275a16[_0x4afde1(0x6ef)]=_0x4d0fe3;}async function handleDeepDeleteBlueprintProject(_0x3c97dd){const _0x216bc6=_0x45c2ac,_0x324825=doc(db,_0x216bc6(0x47d)+appId+_0x216bc6(0xbaf),_0x3c97dd),_0x5ac7c8=await getDoc(_0x324825);if(!_0x5ac7c8['exists']()){showMessage(_0x216bc6(0x268));return;}const _0x2dfedb=_0x5ac7c8[_0x216bc6(0x10a)]()[_0x216bc6(0xc49)];showConfirmation('คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x2dfedb+_0x216bc6(0x202),async()=>{const _0x4e0e81=_0x216bc6;showMessage(_0x4e0e81(0x639));try{const _0x527bf=writeBatch(db),_0x288aaf=_0x5ac7c8[_0x4e0e81(0x10a)](),_0xa494a5=_0x288aaf[_0x4e0e81(0x50c)]||{};for(const _0x4e693b in _0xa494a5){const _0x518ae3=doc(db,_0x4e0e81(0x47d)+appId+'/public/data/blueprintProjects/'+_0x3c97dd+_0x4e0e81(0x8fb),_0x4e693b);_0x527bf[_0x4e0e81(0x943)](_0x518ae3);}const _0x28e973=new Set();for(const _0x2c3e9d in _0xa494a5){_0xa494a5[_0x2c3e9d][_0x4e0e81(0x50f)]&&_0xa494a5[_0x2c3e9d][_0x4e0e81(0x50f)][_0x4e0e81(0x94d)](_0x5939ba=>_0x28e973[_0x4e0e81(0xbfd)](_0x5939ba));}for(const _0x142a98 of _0x28e973){await handleDeleteQuiz(_0x142a98,![]);}_0x527bf['delete'](_0x324825),await _0x527bf[_0x4e0e81(0x92b)](),showMessage(_0x4e0e81(0x3f5)+_0x2dfedb+_0x4e0e81(0x711)),showBlueprintProjects();}catch(_0x55df74){console[_0x4e0e81(0x4da)]('Error\x20during\x20deep\x20delete:',_0x55df74),showMessage('เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล');}});}async function openTopicQuizBank(_0x128aa4){const _0x46c58f=_0x45c2ac,_0x2fa843=document[_0x46c58f(0x286)]('topic-quiz-bank-modal'),_0x5d74cd=document['getElementById'](_0x46c58f(0x70b)),_0x5b1278=document['getElementById']('clear-all-links-btn');try{await ensureGlobalQuizzesLoaded();const _0x2d7a1a=doc(db,_0x46c58f(0x47d)+appId+_0x46c58f(0xbaf),currentBlueprintProjectId),_0x2406ac=await getDoc(_0x2d7a1a);if(!_0x2406ac[_0x46c58f(0x6cc)]())return;const _0x29841c=_0x2406ac[_0x46c58f(0x10a)](),_0x10fcfc=_0x29841c[_0x46c58f(0x50c)][_0x128aa4];document['getElementById'](_0x46c58f(0x13d))[_0x46c58f(0x10e)]=_0x10fcfc['subTopic'];const _0x393bce=_0x10fcfc[_0x46c58f(0x50f)]||[];_0x5b1278[_0x46c58f(0x707)][_0x46c58f(0x587)](_0x46c58f(0xb5c),_0x393bce['length']===0x0),_0x5b1278[_0x46c58f(0x2d8)]=()=>handleClearAllLinksForTopic(_0x128aa4);if(_0x393bce[_0x46c58f(0xb81)]===0x0)_0x5d74cd[_0x46c58f(0x6ef)]=_0x46c58f(0x743);else{const _0x89a86e=allQuizzesGlobal['filter'](_0x29bc79=>_0x393bce['includes'](_0x29bc79['id']));_0x5d74cd[_0x46c58f(0x6ef)]=_0x89a86e[_0x46c58f(0x764)](_0x38be10=>_0x46c58f(0x16e)+_0x38be10['id']+_0x46c58f(0x3fe)+_0x38be10[_0x46c58f(0x26f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0x38be10['id']+_0x46c58f(0x73e)+_0x38be10['questions'][_0x46c58f(0xb81)]+_0x46c58f(0xa81)+_0x38be10['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x38be10['id']+_0x46c58f(0xcad)+_0x38be10['id']+_0x46c58f(0x1dc)+_0x38be10['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x38be10['id']+_0x46c58f(0xf1)+_0x38be10['id']+_0x46c58f(0x18e)+_0x128aa4+_0x46c58f(0x24a)+_0x38be10['id']+'\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x46c58f(0x6da)]('');}document[_0x46c58f(0x286)]('add-from-global-bank-btn')[_0x46c58f(0x2d8)]=()=>{openQuizSelectorForBlueprint(_0x128aa4);},document[_0x46c58f(0x286)]('close-topic-bank-btn')[_0x46c58f(0x2d8)]=()=>_0x2fa843[_0x46c58f(0x707)][_0x46c58f(0xbfd)](_0x46c58f(0xb5c)),_0x2fa843[_0x46c58f(0x707)][_0x46c58f(0x6d1)](_0x46c58f(0xb5c));}catch(_0x4f3dfa){showMessage(_0x4f3dfa[_0x46c58f(0xc97)]);}}async function openQuizSelectorForBlueprint(_0x529b2d){const _0x320cdb=_0x45c2ac,_0x1ebf43=document[_0x320cdb(0x286)]('quiz-bank-modal'),_0x305598=document[_0x320cdb(0x286)](_0x320cdb(0x1eb));_0x305598[_0x320cdb(0x707)][_0x320cdb(0xbfd)](_0x320cdb(0xb5c)),document[_0x320cdb(0x286)]('confirm-link-quiz-btn')?.[_0x320cdb(0x6d1)]();const _0x3583e6=document[_0x320cdb(0x3f2)](_0x320cdb(0xa63));_0x3583e6['id']='confirm-link-quiz-btn',_0x3583e6['className']='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x3583e6['textContent']=_0x320cdb(0xaaa),_0x3583e6['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0x1ebf43[_0x320cdb(0x707)][_0x320cdb(0x6d1)](_0x320cdb(0xb5c)),renderQuizBankListForMultiSelect(''),document['getElementById'](_0x320cdb(0xb42))['style'][_0x320cdb(0xb19)]='none',_0x1ebf43['querySelector'](_0x320cdb(0x1ac))[_0x320cdb(0x395)](_0x3583e6);const _0x433079=(_0x1eb17c=![])=>{const _0x54f87e=_0x320cdb;_0x1ebf43[_0x54f87e(0x707)][_0x54f87e(0xbfd)]('hidden'),document['getElementById']('bulk-quiz-settings-btn')[_0x54f87e(0x760)][_0x54f87e(0xb19)]=_0x54f87e(0x1b0),_0x3583e6['remove'](),_0x1eb17c&&openTopicQuizBank(_0x529b2d);};_0x3583e6[_0x320cdb(0x2d8)]=async()=>{const _0x1be7ee=_0x320cdb,_0x482491=Array[_0x1be7ee(0xba1)](document[_0x1be7ee(0x640)](_0x1be7ee(0x2aa)))[_0x1be7ee(0x764)](_0x27fb23=>_0x27fb23[_0x1be7ee(0x227)]);if(_0x482491[_0x1be7ee(0xb81)]===0x0)return;try{const _0x55a959=doc(db,_0x1be7ee(0x47d)+appId+_0x1be7ee(0xbaf),currentBlueprintProjectId),_0x10cd5d=(await getDoc(_0x55a959))['data'](),_0x3b81bd=_0x10cd5d['topics'][_0x529b2d][_0x1be7ee(0x50f)]||[],_0x21ee03=[...new Set([..._0x3b81bd,..._0x482491])];await updateDoc(_0x55a959,{['topics.'+_0x529b2d+_0x1be7ee(0x493)]:_0x21ee03}),showMessage(_0x1be7ee(0x1cf)+_0x482491[_0x1be7ee(0xb81)]+'\x20แบบทดสอบลงในคลังสำเร็จ!'),_0x433079(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x36df36){console[_0x1be7ee(0x4da)](_0x1be7ee(0x58c),_0x36df36);}},document[_0x320cdb(0x286)]('cancel-quiz-bank-btn')[_0x320cdb(0x2d8)]=()=>_0x433079(!![]);}catch(_0x29570e){showMessage(_0x29570e[_0x320cdb(0xc97)]),_0x305598[_0x320cdb(0x707)]['remove']('hidden');}}function handleClearLinkedQuiz(_0x49af47){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x52d523=_0x1af4;try{const _0x50243d=doc(db,_0x52d523(0x47d)+appId+_0x52d523(0xbaf),currentBlueprintProjectId);await updateDoc(_0x50243d,{[_0x52d523(0x451)+_0x49af47+_0x52d523(0x3b4)]:deleteField()}),showMessage(_0x52d523(0x653)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4d3f4a){console[_0x52d523(0x4da)](_0x52d523(0x55d),_0x4d3f4a),showMessage(_0x52d523(0x43f));}});}async function addTopicToProject(){const _0x484ffc=_0x45c2ac,_0x5913bb=prompt('กรุณาป้อนชื่อหัวข้อย่อยใหม่:');if(!_0x5913bb||_0x5913bb[_0x484ffc(0x543)]()==='')return;const _0x6cfd8b=prompt(_0x484ffc(0x735),_0x484ffc(0x5da)),_0x38f5a8=prompt('อยู่ในหัวข้อหลักใด:',_0x484ffc(0x7fe)),_0x293d36=_0x484ffc(0x994)+Date[_0x484ffc(0x17c)]()+Math['random']()[_0x484ffc(0xe2)](0x24)['substr'](0x2,0x9),_0x3abf36={'sara':_0x6cfd8b,'mainTopic':_0x38f5a8,'subTopic':_0x5913bb['trim'](),'status':_0x484ffc(0x28f),'lessonContent':null};try{const _0x7babf8=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x7babf8,{[_0x484ffc(0x451)+_0x293d36]:_0x3abf36}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1dac4b){console[_0x484ffc(0x4da)](_0x484ffc(0x3b0),_0x1dac4b),showMessage(_0x484ffc(0x6dd));}}async function editTopicInProject(_0x324652){const _0x22aee7=_0x45c2ac,_0x5d667f=document[_0x22aee7(0x443)](_0x22aee7(0x7df)+_0x324652+'\x22]'),_0x226ba8=_0x5d667f[_0x22aee7(0x443)](_0x22aee7(0x9e0)),_0x285505=_0x226ba8[_0x22aee7(0x10e)],_0x4f3708=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x285505);if(!_0x4f3708||_0x4f3708[_0x22aee7(0x543)]()===''||_0x4f3708[_0x22aee7(0x543)]()===_0x285505)return;try{const _0x3eb460=doc(db,_0x22aee7(0x47d)+appId+_0x22aee7(0xbaf),currentBlueprintProjectId);await updateDoc(_0x3eb460,{[_0x22aee7(0x451)+_0x324652+_0x22aee7(0xbfc)]:_0x4f3708[_0x22aee7(0x543)]()}),_0x226ba8[_0x22aee7(0x10e)]=_0x4f3708[_0x22aee7(0x543)](),showMessage(_0x22aee7(0xae1));}catch(_0x1eff0c){console[_0x22aee7(0x4da)]('Error\x20editing\x20topic:',_0x1eff0c),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x2e3f2f){const _0x4e5674=_0x45c2ac;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0xb9ce08=doc(db,_0x4e5674(0x47d)+appId+_0x4e5674(0xbaf),currentBlueprintProjectId);await updateDoc(_0xb9ce08,{[_0x4e5674(0x451)+_0x2e3f2f]:deleteField()}),document[_0x4e5674(0x443)](_0x4e5674(0x7df)+_0x2e3f2f+'\x22]')[_0x4e5674(0x6d1)](),showMessage(_0x4e5674(0x49e));}catch(_0x266dc5){console['error'](_0x4e5674(0x3d9),_0x266dc5),showMessage('เกิดข้อผิดพลาดในการลบ');}}async function generateAndSaveLessonForBlueprint(_0x28f676,_0x1eba26,_0x28dd9a){handleGenerateAndShowLesson(_0x1eba26,_0x28dd9a);const _0x247e65=setInterval(async()=>{const _0x47c6a0=_0x1af4,_0x24a5de=document[_0x47c6a0(0x286)](_0x47c6a0(0xc23)),_0x209c9a=_0x24a5de[_0x47c6a0(0x707)][_0x47c6a0(0xb7c)](_0x47c6a0(0xb5c));if(_0x209c9a){clearInterval(_0x247e65);if(currentApplicationData&&currentApplicationData[_0x47c6a0(0xb81)]>0x0){const _0x7008df={'point':document[_0x47c6a0(0x286)](_0x47c6a0(0xb3d))[_0x47c6a0(0x6ef)],'memory':document['getElementById'](_0x47c6a0(0xb1c))['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x47c6a0(0x286)](_0x47c6a0(0xc3f))[_0x47c6a0(0x6ef)]};try{const _0x2f5aa1=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0xc4a4ac=doc(db,_0x47c6a0(0x47d)+appId+_0x47c6a0(0x27c)+currentBlueprintProjectId+_0x47c6a0(0x8fb),_0x28f676),_0x2620bf=writeBatch(db);_0x2620bf[_0x47c6a0(0xb89)](_0xc4a4ac,{'content':_0x7008df}),_0x2620bf[_0x47c6a0(0xacb)](_0x2f5aa1,{[_0x47c6a0(0x451)+_0x28f676+'.status']:_0x47c6a0(0x5a7)}),await _0x2620bf[_0x47c6a0(0x92b)](),console[_0x47c6a0(0x241)](_0x47c6a0(0x305)+_0x28f676+_0x47c6a0(0x7c9)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xcb096b){console[_0x47c6a0(0x4da)](_0x47c6a0(0xbe4),_0xcb096b);}}}},0x3e8);}function displayHalfMarkResult(_0x3e95a3,_0x3e7687){const _0x552c45=_0x45c2ac,_0x3adb88=_0x3e95a3>=_0x3e7687/0x2,_0x54e1ce=_0x3adb88?'bg-green-100':_0x552c45(0x98a),_0x3f784c=_0x3adb88?_0x552c45(0x1ea):_0x552c45(0xaf),_0x478537=_0x3adb88?'text-green-800':_0x552c45(0xb4c),_0x44c070=_0x3adb88?'ทำคะแนนได้เกินครึ่ง':_0x552c45(0xa7),_0x4bed45=_0x3adb88?_0x552c45(0x267):_0x552c45(0x7e9);let _0x11a4ac=_0x552c45(0xcc3)+_0x54e1ce+_0x552c45(0x39e)+_0x3f784c+_0x552c45(0xcba)+_0x478537+_0x552c45(0xb2b)+_0x44c070+_0x552c45(0x490)+_0x4bed45+_0x552c45(0x64f);studentResultArea['innerHTML']=_0x11a4ac,studentResultArea[_0x552c45(0x707)][_0x552c45(0x6d1)](_0x552c45(0xb5c)),studentQuizArea[_0x552c45(0x707)][_0x552c45(0xbfd)](_0x552c45(0xb5c)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x3adb88});}function displayPerfectScoreResult(_0x152e52,_0x2fd74f){const _0x1fd740=_0x45c2ac,_0x5d9c82=_0x152e52===_0x2fd74f,_0x277031=_0x5d9c82?_0x1fd740(0x864):_0x1fd740(0x99c),_0x5a640d=_0x5d9c82?_0x1fd740(0xaa4):_0x1fd740(0x3ce),_0x3403ae=_0x5d9c82?_0x1fd740(0xafc):_0x1fd740(0x34c),_0x16c122=_0x5d9c82?_0x1fd740(0x769):_0x1fd740(0x382),_0x55db3c=_0x5d9c82?_0x1fd740(0xb36):_0x1fd740(0xabb);let _0x46db9f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x277031+_0x1fd740(0x39e)+_0x5a640d+_0x1fd740(0xcba)+_0x3403ae+_0x1fd740(0xb2b)+_0x16c122+_0x1fd740(0x490)+_0x55db3c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x1fd740(0x6ef)]=_0x46db9f,studentResultArea['classList'][_0x1fd740(0x6d1)](_0x1fd740(0xb5c)),studentQuizArea[_0x1fd740(0x707)][_0x1fd740(0xbfd)](_0x1fd740(0xb5c)),setupResultScreenBackButton({'showRankings':![],'score':_0x152e52,'totalQuestions':_0x2fd74f});}function renderIndividualComparisonTable(_0x1961a9,_0xf128ef){const _0x407451=_0x45c2ac;_0x1961a9[_0x407451(0x276)]((_0x4d26c9,_0x471a04)=>(_0x471a04[_0x407451(0xbb9)]??-Infinity)-(_0x4d26c9[_0x407451(0xbb9)]??-Infinity));let _0x561b6c=_0x407451(0xa79);_0x1961a9[_0x407451(0xb81)]===0x0?_0x561b6c+=_0x407451(0x512):_0x1961a9[_0x407451(0x94d)]((_0xf2b8cf,_0xe44bd7)=>{const _0x1ce452=_0x407451;let _0x99a6fa='-',_0x11520f='';if(_0xf2b8cf[_0x1ce452(0xb23)]!==null){const _0x13f3d5=_0xf2b8cf[_0x1ce452(0xb23)]>0x0?_0x1ce452(0x678):_0xf2b8cf['gain']<0x0?_0x1ce452(0xd29):'text-gray-500',_0x1122ba=_0xf2b8cf[_0x1ce452(0xb23)]>0x0?'+':'';_0x99a6fa=_0x1ce452(0xb5f)+_0x13f3d5+'\x22>'+_0x1122ba+_0xf2b8cf[_0x1ce452(0xb23)]+_0x1ce452(0x189);if(_0xf2b8cf[_0x1ce452(0xb23)]>0x0)_0x11520f=_0x1ce452(0x2c3);else _0xf2b8cf['gain']<0x0?_0x11520f=_0x1ce452(0x192):_0x11520f=_0x1ce452(0xb68);}let _0x3778c9='-';if(_0xf2b8cf[_0x1ce452(0xbb9)]!==null){const _0x13cb23=_0xf2b8cf[_0x1ce452(0xbb9)]>0x0?'text-green-600':_0xf2b8cf['tGain']<0x0?_0x1ce452(0xd29):_0x1ce452(0x499),_0xe1f2d5=_0xf2b8cf['tGain']>0x0?'+':'';_0x3778c9=_0x1ce452(0xb5f)+_0x13cb23+'\x22>'+_0xe1f2d5+_0xf2b8cf[_0x1ce452(0xbb9)]['toFixed'](0x2)+_0x1ce452(0x189);}_0x561b6c+=_0x1ce452(0x932)+(_0xe44bd7+0x1)+_0x1ce452(0xab5)+_0xf2b8cf['name']+_0x1ce452(0x484)+(_0xf2b8cf[_0x1ce452(0xd43)]??'-')+_0x1ce452(0x582)+(_0xf2b8cf['postScore']??'-')+_0x1ce452(0x484)+_0x99a6fa+_0x1ce452(0x1a8)+_0x11520f+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0xf2b8cf[_0x1ce452(0xa06)]?.[_0x1ce452(0x58a)](0x2)??'-')+_0x1ce452(0x98c)+(_0xf2b8cf['postTScore']?.[_0x1ce452(0x58a)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x3778c9+_0x1ce452(0x8fe);}),_0x561b6c+=_0x407451(0x72),_0xf128ef[_0x407451(0x6ef)]=_0x561b6c;}function handleRenameQuiz(_0x4be0cd,_0x1fd337){const _0x4be47=_0x45c2ac;actionTargetId=_0x4be0cd,document[_0x4be47(0x286)](_0x4be47(0x96b))['value']=_0x1fd337,renameQuizModal[_0x4be47(0x707)][_0x4be47(0x6d1)](_0x4be47(0xb5c));}function setupComparisonModalTabs(){const _0x23a10d=_0x45c2ac,_0x4328ce=document[_0x23a10d(0x286)](_0x23a10d(0xae8)),_0x4198ae=document['getElementById'](_0x23a10d(0x6ff)),_0x5e9a81=document[_0x23a10d(0x286)]('comparison-overall-content'),_0x4b6f99=document['getElementById'](_0x23a10d(0xbda));_0x4328ce['addEventListener']('click',()=>{const _0x722719=_0x23a10d;_0x4328ce[_0x722719(0x707)][_0x722719(0xbfd)](_0x722719(0x925)),_0x4198ae[_0x722719(0x707)][_0x722719(0x6d1)](_0x722719(0x925)),_0x5e9a81[_0x722719(0x707)][_0x722719(0x6d1)](_0x722719(0xb5c)),_0x4b6f99[_0x722719(0x707)][_0x722719(0xbfd)](_0x722719(0xb5c));}),_0x4198ae[_0x23a10d(0x504)](_0x23a10d(0x936),()=>{const _0x20a364=_0x23a10d;_0x4198ae[_0x20a364(0x707)][_0x20a364(0xbfd)](_0x20a364(0x925)),_0x4328ce[_0x20a364(0x707)][_0x20a364(0x6d1)](_0x20a364(0x925)),_0x4b6f99[_0x20a364(0x707)][_0x20a364(0x6d1)](_0x20a364(0xb5c)),_0x5e9a81['classList']['add'](_0x20a364(0xb5c));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x33582a=_0x45c2ac;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3788f7=doc(db,_0x33582a(0x47d)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3788f7,_0x3006de=>{const _0x59cb5d=_0x33582a;if(!_0x3006de[_0x59cb5d(0x6cc)]()){showMessage(_0x59cb5d(0x317));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x59cb5d(0x56d)):showView(_0x59cb5d(0x509));return;}const _0x4c53a4=_0x3006de[_0x59cb5d(0x10a)]();_0x4c53a4['shuffledQuiz']&&(currentQuizData=_0x4c53a4[_0x59cb5d(0x8d0)]);!currentQuizData&&_0x4c53a4[_0x59cb5d(0x476)]&&((async()=>{const _0x5934ec=_0x59cb5d;try{const _0x26e79c=doc(db,_0x5934ec(0x47d)+appId+_0x5934ec(0x5d7),_0x4c53a4[_0x5934ec(0x476)]),_0x2a7e11=await getDoc(_0x26e79c);_0x2a7e11[_0x5934ec(0x6cc)]()&&(currentQuizData={'id':_0x2a7e11['id'],..._0x2a7e11[_0x5934ec(0x10a)]()});}catch(_0x18f72d){console[_0x5934ec(0x4da)](_0x5934ec(0x2ee),_0x18f72d);}})());switch(_0x4c53a4['status']){case _0x59cb5d(0x659):if(currentMode===_0x59cb5d(0x11d)){const _0x30cada=_0x4c53a4[_0x59cb5d(0x92e)]?Object['entries'](_0x4c53a4[_0x59cb5d(0x92e)]):[],_0x3bb61f=_0x30cada['filter'](([_0x55a3de,_0x3fa60e])=>_0x3fa60e[_0x59cb5d(0xc3e)]===_0x59cb5d(0x925)),_0x276a50=document['getElementById'](_0x59cb5d(0xf6));if(_0x276a50)_0x276a50['textContent']=_0x3bb61f[_0x59cb5d(0xb81)];const _0x502fbe=document[_0x59cb5d(0x286)](_0x59cb5d(0x1a1));_0x502fbe&&(_0x502fbe[_0x59cb5d(0x6ef)]=_0x3bb61f[_0x59cb5d(0x764)](([_0x4bab70,_0xc4610c])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4bab70+_0x59cb5d(0xd15)+_0x4bab70+_0x59cb5d(0x134))['join'](''));const _0x139594=document[_0x59cb5d(0x286)](_0x59cb5d(0x4c3));_0x139594&&(_0x139594[_0x59cb5d(0x790)]=_0x3bb61f[_0x59cb5d(0xb81)]===0x0);}else showView('live-game'),liveGameView['innerHTML']=_0x59cb5d(0x5e4)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x59cb5d(0x5d6):const _0x1eaa21=_0x4c53a4[_0x59cb5d(0x895)];if(currentQuizData&&currentQuizData[_0x59cb5d(0xbc3)][_0x1eaa21]){const _0x200262=currentQuizData[_0x59cb5d(0xbc3)][_0x1eaa21],_0x4d1ab8=_0x4c53a4[_0x59cb5d(0x22d)]||_0x59cb5d(0xba7);switch(_0x4d1ab8){case _0x59cb5d(0x85):currentMode===_0x59cb5d(0x11d)?showAdminSummaryView(_0x4c53a4,_0x200262):showPlayerSummaryView(_0x4c53a4,currentStudentName);break;case _0x59cb5d(0x34f):currentMode===_0x59cb5d(0x11d)&&showTop5LeaderboardView(_0x4c53a4);break;case'answering':default:if(currentMode===_0x59cb5d(0x11d)){const _0x1bda74=writeBatch(db);let _0x361a8f=![];Object['entries'](_0x4c53a4[_0x59cb5d(0x92e)])[_0x59cb5d(0x94d)](([_0x34571a,_0x57cae1])=>{const _0x40031b=_0x59cb5d;if(_0x57cae1['status']===_0x40031b(0x925)&&_0x57cae1[_0x40031b(0x16c)]&&!_0x57cae1[_0x40031b(0x9e)]){_0x361a8f=!![];const _0x283bf8=_0x57cae1['submittedAt'][_0x40031b(0x5a0)]()-_0x4c53a4[_0x40031b(0x183)][_0x40031b(0x5a0)]();let _0x3c16c3=0x0;if(_0x57cae1[_0x40031b(0x9f)]){const _0x37e248=0x3e8,_0x384dfc=0x1f4,_0x11ccde=0x4e20;let _0x35c7af=_0x283bf8/_0x11ccde;if(_0x35c7af>0x1)_0x35c7af=0x1;const _0x49055c=Math[_0x40031b(0xb0d)](_0x35c7af*_0x384dfc);_0x3c16c3=_0x37e248-_0x49055c;}const _0x2802b8=doc(db,_0x40031b(0x47d)+appId+'/public/data/liveGames',currentLiveGameId);_0x1bda74[_0x40031b(0xacb)](_0x2802b8,{[_0x40031b(0x3df)+_0x34571a+_0x40031b(0x90e)]:increment(_0x3c16c3),[_0x40031b(0x3df)+_0x34571a+_0x40031b(0x19d)]:_0x3c16c3,['players.'+_0x34571a+_0x40031b(0x411)]:!![]});}});_0x361a8f&&_0x1bda74[_0x59cb5d(0x92b)]()['catch'](_0x19ee8e=>console[_0x59cb5d(0x4da)](_0x59cb5d(0x3ba),_0x19ee8e));lastRenderedAdminQuestionIndex!==_0x1eaa21&&(showAdminLiveQuestionView(_0x200262,_0x1eaa21,currentQuizData[_0x59cb5d(0xbc3)][_0x59cb5d(0xb81)]),lastRenderedAdminQuestionIndex=_0x1eaa21);const _0x8f7459=_0x4c53a4[_0x59cb5d(0x92e)]||{},_0xc7fd98=Object[_0x59cb5d(0xa8e)](_0x8f7459)[_0x59cb5d(0x624)](_0x18a076=>_0x18a076[_0x59cb5d(0xc3e)]==='active'),_0x4e8c17=_0xc7fd98[_0x59cb5d(0xb81)],_0x45737d=_0xc7fd98[_0x59cb5d(0x624)](_0x23e7f2=>_0x23e7f2[_0x59cb5d(0xa3d)]===!![])['length'],_0x361f41=document[_0x59cb5d(0x286)](_0x59cb5d(0x64c));if(_0x361f41)_0x361f41['textContent']=_0x45737d+'/'+_0x4e8c17;const _0x41b7df=document['getElementById'](_0x59cb5d(0x988));if(_0x41b7df){let _0x9eeee4=Object[_0x59cb5d(0xad3)](_0x8f7459)[_0x59cb5d(0x624)](([_0x2018cf,_0x1e3b74])=>_0x1e3b74[_0x59cb5d(0xc3e)]===_0x59cb5d(0x925))[_0x59cb5d(0x764)](([_0x25ec94,_0x2307bf])=>{const _0x750d95=_0x59cb5d,_0x1b7f93=_0x2307bf[_0x750d95(0xa3d)]===!![],_0x5cd2c6=_0x1b7f93?_0x750d95(0x8ee):'bg-gray-500',_0x4e3263=_0x1b7f93?_0x750d95(0x364):_0x750d95(0xc4b);return _0x750d95(0x3d5)+_0x5cd2c6+_0x750d95(0x526)+_0x4e3263+_0x750d95(0x631)+_0x25ec94+_0x750d95(0xcf4)+_0x25ec94+_0x750d95(0xcd6);})[_0x59cb5d(0x6da)]('');_0x41b7df[_0x59cb5d(0x6ef)]=_0x9eeee4||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x4e8c17>0x0&&_0x45737d===_0x4e8c17&&revealAnswerForAdmin(_0x1eaa21,currentQuizData['questions'][_0x59cb5d(0xb81)]);}else{const _0x427660=_0x4c53a4[_0x59cb5d(0x92e)][currentStudentName];_0x427660&&!_0x427660[_0x59cb5d(0xa3d)]&&showStudentLiveQuestionView(_0x200262,_0x1eaa21,currentQuizData[_0x59cb5d(0xbc3)]['length']);}break;}}break;case _0x59cb5d(0x8f6):showPodiumView(_0x4c53a4[_0x59cb5d(0x92e)],_0x59cb5d(0x240));break;}});}async function openGlobalActivityModal(){const _0x337c9f=_0x45c2ac;if(allQuizzesGlobal['length']===0x0){const _0xb1a1d8=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0xb1a1d8['docs'][_0x337c9f(0x764)](_0xfb0469=>({'id':_0xfb0469['id'],..._0xfb0469[_0x337c9f(0x10a)]()}));}renderGlobalActivityList(''),document[_0x337c9f(0x286)](_0x337c9f(0xbba))[_0x337c9f(0x707)][_0x337c9f(0x6d1)](_0x337c9f(0xb5c));}function renderGlobalActivityList(_0x7bdd5f=''){const _0x4a0e96=_0x45c2ac,_0x413223=document[_0x4a0e96(0x286)](_0x4a0e96(0x8de)),_0x40f75d=_0x7bdd5f['toLowerCase']()[_0x4a0e96(0x543)](),_0x579dfe=allQuizzesGlobal[_0x4a0e96(0x764)](_0x4a82ec=>({..._0x4a82ec,'projectName':allProjects[_0x4a0e96(0x7c7)](_0x5643bd=>_0x5643bd['id']===_0x4a82ec[_0x4a0e96(0x12d)])?.[_0x4a0e96(0xc49)]||_0x4a0e96(0x7a0)}))['filter'](_0x49b4a8=>(_0x49b4a8[_0x4a0e96(0x26f)]||'')[_0x4a0e96(0x3f0)]()[_0x4a0e96(0x613)](_0x40f75d)||(_0x49b4a8['projectName']||'')[_0x4a0e96(0x3f0)]()[_0x4a0e96(0x613)](_0x40f75d));document[_0x4a0e96(0x286)](_0x4a0e96(0x616))[_0x4a0e96(0x10e)]='('+_0x579dfe[_0x4a0e96(0xb81)]+_0x4a0e96(0xcf0),_0x413223[_0x4a0e96(0x6ef)]=_0x579dfe['length']?_0x579dfe['map'](_0x141c89=>_0x4a0e96(0x5ab)+(_0x141c89['topic']||'(ไม่มีชื่อ)')+_0x4a0e96(0x6a1)+(_0x141c89[_0x4a0e96(0xbc3)]?.[_0x4a0e96(0xb81)]||0x0)+_0x4a0e96(0xa54)+_0x141c89[_0x4a0e96(0xc49)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x141c89['id']+_0x4a0e96(0x226)+_0x141c89['id']+_0x4a0e96(0xaea)+_0x141c89['id']+_0x4a0e96(0xb92)+_0x141c89['id']+_0x4a0e96(0x146))[_0x4a0e96(0x6da)](''):_0x4a0e96(0x3de);}async function handleKickPlayer(_0x55a611){const _0x298fb7=_0x45c2ac;if(!currentLiveGameId||!_0x55a611)return;const _0x3c69df=doc(db,_0x298fb7(0x47d)+appId+_0x298fb7(0x37a),currentLiveGameId),_0x35e022={};_0x35e022['players.'+_0x55a611+_0x298fb7(0xc2f)]=_0x298fb7(0xa6f);try{await updateDoc(_0x3c69df,_0x35e022);}catch(_0x42d57d){console['error']('Failed\x20to\x20kick\x20player\x20'+_0x55a611+':',_0x42d57d),showMessage(_0x298fb7(0xd3b));}}async function authenticateUser(){const _0x4de939=_0x45c2ac;try{typeof __initial_auth_token!==_0x4de939(0x16d)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x8ae9b4){console[_0x4de939(0x4da)](_0x4de939(0x2c5),_0x8ae9b4),showMessage(_0x4de939(0xc01));}}function showView(_0x3fd30){const _0x1a4153=_0x45c2ac;adminView[_0x1a4153(0x707)][_0x1a4153(0xbfd)](_0x1a4153(0xb5c)),studentView['classList'][_0x1a4153(0xbfd)](_0x1a4153(0xb5c)),projectDashboardView[_0x1a4153(0x707)]['add']('hidden'),projectDetailView[_0x1a4153(0x707)]['add'](_0x1a4153(0xb5c)),quizResultsView['classList']['add'](_0x1a4153(0xb5c)),liveGameView['classList'][_0x1a4153(0xbfd)]('hidden'),document['getElementById'](_0x1a4153(0x53b))['classList'][_0x1a4153(0xbfd)]('hidden'),studentInitialView[_0x1a4153(0x707)]['add']('hidden'),studentJoinGameView['classList']['add'](_0x1a4153(0xb5c)),studentNameSelectionView['classList'][_0x1a4153(0xbfd)](_0x1a4153(0xb5c)),studentQuizArea[_0x1a4153(0x707)][_0x1a4153(0xbfd)]('hidden'),studentResultArea['classList'][_0x1a4153(0xbfd)](_0x1a4153(0xb5c)),studentReadingArea[_0x1a4153(0x707)][_0x1a4153(0xbfd)](_0x1a4153(0xb5c));const _0x555686=document[_0x1a4153(0x286)](_0x1a4153(0x186)),_0x29499a=document[_0x1a4153(0x286)](_0x1a4153(0x612));if(_0x555686)_0x555686[_0x1a4153(0x707)][_0x1a4153(0xbfd)]('hidden');if(_0x29499a)_0x29499a['classList'][_0x1a4153(0xbfd)](_0x1a4153(0xb5c));switch(_0x3fd30){case _0x1a4153(0xcc2):adminView[_0x1a4153(0x707)]['remove']('hidden'),projectDashboardView[_0x1a4153(0x707)][_0x1a4153(0x6d1)](_0x1a4153(0xb5c));break;case _0x1a4153(0x56d):adminView['classList'][_0x1a4153(0x6d1)](_0x1a4153(0xb5c)),projectDetailView[_0x1a4153(0x707)][_0x1a4153(0x6d1)]('hidden');break;case'quiz-results':adminView['classList']['remove'](_0x1a4153(0xb5c)),quizResultsView[_0x1a4153(0x707)][_0x1a4153(0x6d1)](_0x1a4153(0xb5c));break;case _0x1a4153(0x509):studentView[_0x1a4153(0x707)][_0x1a4153(0x6d1)]('hidden'),studentInitialView['classList'][_0x1a4153(0x6d1)](_0x1a4153(0xb5c));break;case _0x1a4153(0x6cd):liveGameView[_0x1a4153(0x707)][_0x1a4153(0x6d1)](_0x1a4153(0xb5c));break;case'student-team-join':studentView[_0x1a4153(0x707)][_0x1a4153(0x6d1)](_0x1a4153(0xb5c));if(_0x555686)_0x555686[_0x1a4153(0x707)][_0x1a4153(0x6d1)](_0x1a4153(0xb5c));break;case'student-progress':studentView[_0x1a4153(0x707)][_0x1a4153(0x6d1)]('hidden');if(_0x29499a)_0x29499a[_0x1a4153(0x707)][_0x1a4153(0x6d1)](_0x1a4153(0xb5c));break;default:studentView['classList'][_0x1a4153(0x6d1)](_0x1a4153(0xb5c)),studentInitialView['classList'][_0x1a4153(0x6d1)](_0x1a4153(0xb5c));break;}}function showJoinGameView(){const _0x30312e=_0x45c2ac;studentInitialView[_0x30312e(0x707)][_0x30312e(0xbfd)](_0x30312e(0xb5c)),studentJoinGameView[_0x30312e(0x707)][_0x30312e(0x6d1)](_0x30312e(0xb5c));}async function handleSaveVisibilitySettings(){const _0x3db724=_0x45c2ac;if(!currentProjectId)return;const _0x1bbaa7=doc(db,'artifacts/'+appId+_0x3db724(0x99f),currentProjectId);try{await updateDoc(_0x1bbaa7,{'settings.showInStudentDashboard':document[_0x3db724(0x286)](_0x3db724(0x884))['checked'],'settings.isPasscodeEnabled':document['getElementById'](_0x3db724(0x9d0))[_0x3db724(0x50a)],'settings.passcode':document[_0x3db724(0x286)]('project-passcode-input')[_0x3db724(0x227)][_0x3db724(0x543)]()}),showMessage(_0x3db724(0xb0f));}catch(_0x11a014){console[_0x3db724(0x4da)]('Error\x20saving\x20visibility\x20settings:',_0x11a014),showMessage(_0x3db724(0x387));}}function setupEventListeners(){const _0x31e5af=_0x45c2ac;document[_0x31e5af(0x286)](_0x31e5af(0x892))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x4e9a40=_0x31e5af;document[_0x4e9a40(0x286)](_0x4e9a40(0xab))[_0x4e9a40(0x707)][_0x4e9a40(0xbfd)](_0x4e9a40(0xb5c));}),document[_0x31e5af(0x286)](_0x31e5af(0xb8b))['addEventListener'](_0x31e5af(0x936),()=>{const _0x537785=_0x31e5af,_0x28ebc3=document[_0x537785(0x286)]('wager-modal'),_0x3d102f=document['getElementById'](_0x537785(0x7f4)),_0x18b0f3=document['getElementById'](_0x537785(0x4bb))[_0x537785(0x227)],_0x3a1984=_0x3d102f[_0x537785(0x24b)][_0x537785(0x69e)],_0x5e72b9=JSON[_0x537785(0x8dc)](_0x3d102f[_0x537785(0x24b)][_0x537785(0x5d6)]),_0x2e2653=JSON['parse'](_0x3d102f['dataset'][_0x537785(0xc30)]),_0xc7881b=_0x3d102f[_0x537785(0x24b)][_0x537785(0x6c7)];_0x28ebc3['classList']['add']('hidden'),handleSyncAnswerSubmit(_0x3a1984,_0x5e72b9,_0x2e2653,_0xc7881b,![],_0x18b0f3);}),document[_0x31e5af(0x640)](_0x31e5af(0x45b))[_0x31e5af(0x94d)](_0xe1cc89=>{const _0x8b4ca=_0x31e5af;_0xe1cc89['addEventListener'](_0x8b4ca(0x8ec),_0x281248=>{const _0x186eee=_0x8b4ca,_0x56a5f3=document[_0x186eee(0x286)](_0x186eee(0x424));_0x281248['target'][_0x186eee(0x227)]===_0x186eee(0xbfa)?_0x56a5f3[_0x186eee(0x707)][_0x186eee(0x6d1)](_0x186eee(0xb5c)):_0x56a5f3['classList'][_0x186eee(0xbfd)](_0x186eee(0xb5c));});}),document[_0x31e5af(0x286)](_0x31e5af(0x4b6))[_0x31e5af(0x504)](_0x31e5af(0x8ec),_0x495148=>{const _0xc8410b=_0x31e5af;document['getElementById'](_0xc8410b(0x1e5))[_0xc8410b(0x707)][_0xc8410b(0x587)](_0xc8410b(0xb5c),!_0x495148[_0xc8410b(0x797)][_0xc8410b(0x50a)]);});const _0x35ae7d=document[_0x31e5af(0x286)](_0x31e5af(0x323)),_0x17d6f7=document[_0x31e5af(0x286)]('confidence-modal');_0x35ae7d&&_0x17d6f7&&_0x35ae7d[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x1adad6=_0x31e5af;_0x17d6f7[_0x1adad6(0x707)][_0x1adad6(0xbfd)]('hidden'),_0x17d6f7[_0x1adad6(0x24b)][_0x1adad6(0xb76)]='';});const _0x5be1f7=document[_0x31e5af(0x286)](_0x31e5af(0xc90));_0x5be1f7&&(_0x5be1f7[_0x31e5af(0x504)](_0x31e5af(0x8c5),wakeUpScreen),_0x5be1f7[_0x31e5af(0x504)](_0x31e5af(0x79f),wakeUpScreen));document[_0x31e5af(0x286)](_0x31e5af(0x8a9))[_0x31e5af(0x504)](_0x31e5af(0x936),async()=>{const _0x5c41a4=_0x31e5af;if(!currentBlueprintProjectId)return;const _0x20a1f9=document[_0x5c41a4(0x286)](_0x5c41a4(0x6ce))['value'][_0x5c41a4(0x543)](),_0x414c1e=doc(db,_0x5c41a4(0x47d)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);try{await updateDoc(_0x414c1e,{'referenceFileUrl':_0x20a1f9}),showMessage(_0x5c41a4(0xaec));}catch(_0x2e348e){console[_0x5c41a4(0x4da)]('Error\x20saving\x20reference\x20URL:',_0x2e348e),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}),document[_0x31e5af(0x286)](_0x31e5af(0x4d4))[_0x31e5af(0x504)](_0x31e5af(0x936),handleAddParallelShortcutTab),document['getElementById'](_0x31e5af(0x5c2))[_0x31e5af(0x504)]('click',_0x4ba9db=>{const _0x239e8d=_0x31e5af;_0x4ba9db['target'][_0x239e8d(0x5d0)](_0x239e8d(0x56e))&&(activeParallelShortcutTabId=_0x239e8d(0xf3),renderAdditionalParallelShortcutsModal(),document['getElementById'](_0x239e8d(0xcf8))[_0x239e8d(0x707)][_0x239e8d(0x6d1)](_0x239e8d(0xb5c)));}),document[_0x31e5af(0x286)](_0x31e5af(0x752))[_0x31e5af(0x504)]('click',()=>{const _0x5d4d64=_0x31e5af;document[_0x5d4d64(0x286)](_0x5d4d64(0xcf8))[_0x5d4d64(0x707)][_0x5d4d64(0xbfd)](_0x5d4d64(0xb5c));}),document[_0x31e5af(0x504)](_0x31e5af(0x936),_0x475f4c=>{const _0x5a5e3b=_0x31e5af;!_0x475f4c[_0x5a5e3b(0x797)]['closest']('.group\x5c/dropdown-parallel')&&document[_0x5a5e3b(0x640)](_0x5a5e3b(0x8ff))[_0x5a5e3b(0x94d)](_0x431887=>_0x431887['classList'][_0x5a5e3b(0xbfd)](_0x5a5e3b(0xb5c)));}),document[_0x31e5af(0x286)](_0x31e5af(0x885))[_0x31e5af(0x504)](_0x31e5af(0x936),handleAddFileShortcutTab),document['getElementById'](_0x31e5af(0x463))[_0x31e5af(0x504)](_0x31e5af(0x936),_0x2465e8=>{const _0x5035f2=_0x31e5af;_0x2465e8['target'][_0x5035f2(0x5d0)](_0x5035f2(0x91c))&&(activeFileShortcutTabId=_0x5035f2(0xf3),renderAdditionalFileShortcutsModal(),document[_0x5035f2(0x286)](_0x5035f2(0x5e0))[_0x5035f2(0x707)][_0x5035f2(0x6d1)](_0x5035f2(0xb5c)));}),document[_0x31e5af(0x286)](_0x31e5af(0xb7d))[_0x31e5af(0x504)]('click',()=>{const _0x8ae90e=_0x31e5af;document[_0x8ae90e(0x286)]('additional-file-shortcuts-modal')[_0x8ae90e(0x707)][_0x8ae90e(0xbfd)](_0x8ae90e(0xb5c));}),document[_0x31e5af(0x504)]('click',_0x2e0b2d=>{const _0x12d6d1=_0x31e5af;!_0x2e0b2d['target'][_0x12d6d1(0x5d0)]('.group\x5c/dropdown-file')&&document[_0x12d6d1(0x640)](_0x12d6d1(0xb97))[_0x12d6d1(0x94d)](_0x1c97bf=>_0x1c97bf[_0x12d6d1(0x707)]['add']('hidden'));}),document['getElementById'](_0x31e5af(0x523))[_0x31e5af(0x504)](_0x31e5af(0x936),handleAddShortcutTab),document[_0x31e5af(0x286)](_0x31e5af(0xc2))[_0x31e5af(0x504)]('click',_0x20abc3=>{const _0xd4b793=_0x31e5af,_0x6a59b3=_0x20abc3[_0xd4b793(0x797)][_0xd4b793(0x5d0)]('.parallel-shortcut-btn'),_0x424a3e=_0x20abc3[_0xd4b793(0x797)]['closest'](_0xd4b793(0xb1a)),_0x37d171=_0x20abc3['target'][_0xd4b793(0x5d0)](_0xd4b793(0xb6));if(_0x424a3e)openParallelTestShortcutEditor(_0x424a3e[_0xd4b793(0x24b)]['id']);else{if(_0x37d171){const _0x243e1f=_0x37d171['dataset']['id'];showConfirmation(_0xd4b793(0x8df),async()=>{const _0x4c2695=_0xd4b793,_0x44b912=parallelTestShortcuts[_0x4c2695(0x624)](_0x27b0ce=>_0x27b0ce['id']!==_0x243e1f),_0x27b1f9=doc(db,_0x4c2695(0x33d),_0x4c2695(0x76c));await setDoc(_0x27b1f9,{'shortcuts':_0x44b912},{'merge':!![]});});}else _0x6a59b3&&handleParallelTestShortcutClick(_0x6a59b3[_0xd4b793(0x24b)]['id']);}}),document['getElementById'](_0x31e5af(0x6b4))['addEventListener']('click',()=>openParallelTestShortcutEditor(null)),document[_0x31e5af(0x286)](_0x31e5af(0xa51))[_0x31e5af(0x504)]('click',()=>{const _0x277830=_0x31e5af;document[_0x277830(0x286)](_0x277830(0x2d3))[_0x277830(0x707)][_0x277830(0xbfd)]('hidden');}),document[_0x31e5af(0x286)](_0x31e5af(0x324))[_0x31e5af(0x504)](_0x31e5af(0x936),saveParallelTestShortcutChanges),document[_0x31e5af(0x286)]('parallel-test-input-area')[_0x31e5af(0x504)](_0x31e5af(0x936),_0xe37680=>{const _0x5d40ac=_0x31e5af;_0xe37680[_0x5d40ac(0x797)][_0x5d40ac(0x5d0)](_0x5d40ac(0x56e))&&document[_0x5d40ac(0x286)](_0x5d40ac(0xcf8))[_0x5d40ac(0x707)][_0x5d40ac(0x6d1)]('hidden');}),document['getElementById'](_0x31e5af(0x752))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x821584=_0x31e5af;document[_0x821584(0x286)]('additional-parallel-shortcuts-modal')[_0x821584(0x707)]['add'](_0x821584(0xb5c));}),document[_0x31e5af(0x286)](_0x31e5af(0x2f9))[_0x31e5af(0x504)](_0x31e5af(0x936),_0x7e9f9=>{const _0x4667db=_0x31e5af,_0x801016=document[_0x4667db(0x286)](_0x4667db(0xcf8)),_0x402fda=_0x7e9f9[_0x4667db(0x797)][_0x4667db(0x5d0)](_0x4667db(0x386)),_0x3ee548=_0x7e9f9[_0x4667db(0x797)]['closest']('.edit-hidden-parallel-shortcut-btn'),_0x1dfcfd=_0x7e9f9[_0x4667db(0x797)][_0x4667db(0x5d0)](_0x4667db(0x9eb));if(_0x402fda)_0x801016[_0x4667db(0x707)][_0x4667db(0xbfd)]('hidden'),handleParallelTestShortcutClick(_0x402fda[_0x4667db(0x24b)]['id']);else{if(_0x3ee548)_0x801016[_0x4667db(0x707)][_0x4667db(0xbfd)](_0x4667db(0xb5c)),openParallelTestShortcutEditor(_0x3ee548[_0x4667db(0x24b)]['id']);else{if(_0x1dfcfd){const _0xc6659=_0x1dfcfd['dataset']['id'];showConfirmation(_0x4667db(0x8df),async()=>{const _0x1e5135=_0x4667db,_0x546463=parallelTestShortcuts['filter'](_0x25ddea=>_0x25ddea['id']!==_0xc6659),_0x1e5856=doc(db,_0x1e5135(0x33d),'parallelTestShortcutsConfig');await setDoc(_0x1e5856,{'shortcuts':_0x546463},{'merge':!![]});});}}}}),document[_0x31e5af(0x286)](_0x31e5af(0x265))[_0x31e5af(0x504)](_0x31e5af(0x936),_0x461f9b=>{const _0x59a915=_0x31e5af,_0xd2f070=_0x461f9b[_0x59a915(0x797)]['closest'](_0x59a915(0xb87)),_0x5e24ce=_0x461f9b[_0x59a915(0x797)][_0x59a915(0x5d0)]('.edit-file-shortcut-btn'),_0x5abae9=_0x461f9b['target'][_0x59a915(0x5d0)](_0x59a915(0x812));if(_0x5e24ce)openFileShortcutEditor(_0x5e24ce['dataset']['id']);else{if(_0x5abae9){const _0x36695c=_0x5abae9['dataset']['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x3d14e4=_0x59a915,_0x51ef1a=fileShortcuts[_0x3d14e4(0x624)](_0x367122=>_0x367122['id']!==_0x36695c),_0x3fc68b=doc(db,_0x3d14e4(0x33d),_0x3d14e4(0x95b));await setDoc(_0x3fc68b,{'shortcuts':_0x51ef1a},{'merge':!![]});});}else _0xd2f070&&handleFileShortcutClick(_0xd2f070['dataset']['id']);}}),document[_0x31e5af(0x286)](_0x31e5af(0x63c))['addEventListener'](_0x31e5af(0x936),()=>openFileShortcutEditor(null)),document[_0x31e5af(0x286)](_0x31e5af(0x2e5))['addEventListener'](_0x31e5af(0x936),()=>{const _0x2c4075=_0x31e5af;document[_0x2c4075(0x286)](_0x2c4075(0xd28))['classList'][_0x2c4075(0xbfd)]('hidden');}),document[_0x31e5af(0x286)](_0x31e5af(0x5ee))[_0x31e5af(0x504)](_0x31e5af(0x936),saveFileShortcutChanges),document[_0x31e5af(0x286)](_0x31e5af(0x463))['addEventListener'](_0x31e5af(0x936),_0x12e869=>{const _0x11351e=_0x31e5af;_0x12e869[_0x11351e(0x797)][_0x11351e(0x5d0)](_0x11351e(0x91c))&&document[_0x11351e(0x286)](_0x11351e(0x5e0))[_0x11351e(0x707)][_0x11351e(0x6d1)](_0x11351e(0xb5c));}),document[_0x31e5af(0x286)](_0x31e5af(0xb7d))['addEventListener'](_0x31e5af(0x936),()=>{const _0x2dfc6e=_0x31e5af;document['getElementById'](_0x2dfc6e(0x5e0))['classList'][_0x2dfc6e(0xbfd)](_0x2dfc6e(0xb5c));}),document[_0x31e5af(0x286)](_0x31e5af(0xbfe))[_0x31e5af(0x504)](_0x31e5af(0x936),_0x1fbc45=>{const _0x2b2e44=_0x31e5af,_0x576d76=document['getElementById'](_0x2b2e44(0x5e0)),_0xbdb19c=_0x1fbc45[_0x2b2e44(0x797)][_0x2b2e44(0x5d0)](_0x2b2e44(0x96e)),_0x5c7c69=_0x1fbc45[_0x2b2e44(0x797)]['closest'](_0x2b2e44(0xcd3)),_0x3108f2=_0x1fbc45[_0x2b2e44(0x797)]['closest'](_0x2b2e44(0x984));if(_0xbdb19c)_0x576d76['classList'][_0x2b2e44(0xbfd)](_0x2b2e44(0xb5c)),handleFileShortcutClick(_0xbdb19c[_0x2b2e44(0x24b)]['id']);else{if(_0x5c7c69)_0x576d76[_0x2b2e44(0x707)][_0x2b2e44(0xbfd)](_0x2b2e44(0xb5c)),openFileShortcutEditor(_0x5c7c69[_0x2b2e44(0x24b)]['id']);else{if(_0x3108f2){const _0x3f4944=_0x3108f2[_0x2b2e44(0x24b)]['id'];showConfirmation(_0x2b2e44(0x8df),async()=>{const _0x5b192d=_0x2b2e44,_0x32fc6f=fileShortcuts[_0x5b192d(0x624)](_0x3025d4=>_0x3025d4['id']!==_0x3f4944),_0x2167cd=doc(db,_0x5b192d(0x33d),_0x5b192d(0x95b));await setDoc(_0x2167cd,{'shortcuts':_0x32fc6f},{'merge':!![]});});}}}}),document['getElementById']('blueprint-input-area')[_0x31e5af(0x504)](_0x31e5af(0x936),_0xc9458b=>{const _0x546f80=_0x31e5af;_0xc9458b['target'][_0x546f80(0x5d0)]('#open-additional-shortcuts-btn')&&(activeShortcutTabId='all',renderAdditionalShortcutsModal(),document[_0x546f80(0x286)]('additional-shortcuts-modal')['classList'][_0x546f80(0x6d1)](_0x546f80(0xb5c)));}),document[_0x31e5af(0x286)](_0x31e5af(0x91b))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x3f780e=_0x31e5af;document[_0x3f780e(0x286)]('additional-shortcuts-modal')[_0x3f780e(0x707)]['add'](_0x3f780e(0xb5c));}),document['getElementById']('additional-shortcuts-list')[_0x31e5af(0x504)](_0x31e5af(0x936),_0x1e155d=>{const _0x3ceb7a=_0x31e5af,_0x200b80=_0x1e155d[_0x3ceb7a(0x797)][_0x3ceb7a(0x5d0)](_0x3ceb7a(0x71)),_0x3f7fab=_0x1e155d['target'][_0x3ceb7a(0x5d0)](_0x3ceb7a(0xbad)),_0x3fff61=_0x1e155d[_0x3ceb7a(0x797)][_0x3ceb7a(0x5d0)](_0x3ceb7a(0x12c)),_0x5f5414=document['getElementById'](_0x3ceb7a(0x5d9));if(_0x200b80)_0x5f5414[_0x3ceb7a(0x707)][_0x3ceb7a(0xbfd)](_0x3ceb7a(0xb5c)),handleShortcutClick(_0x200b80[_0x3ceb7a(0x24b)]['id']);else{if(_0x3f7fab)_0x5f5414[_0x3ceb7a(0x707)]['add'](_0x3ceb7a(0xb5c)),openShortcutEditor(_0x3f7fab['dataset']['id']);else{if(_0x3fff61){const _0x4b3da5=_0x3fff61[_0x3ceb7a(0x24b)]['id'],_0x57303c=blueprintShortcuts[_0x3ceb7a(0x7c7)](_0x493fbe=>_0x493fbe['id']===_0x4b3da5)?.[_0x3ceb7a(0x224)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x57303c+'\x22?',async()=>{const _0xab6f97=_0x3ceb7a,_0x2cd5d9=blueprintShortcuts[_0xab6f97(0x624)](_0x378ff5=>_0x378ff5['id']!==_0x4b3da5);try{const _0x2b96d1=doc(db,_0xab6f97(0x33d),_0xab6f97(0xbf2));await setDoc(_0x2b96d1,{'blueprintShortcuts':_0x2cd5d9},{'merge':!![]});}catch(_0x2237fd){console['error']('Error\x20deleting\x20shortcut:',_0x2237fd);}});}}}}),document['getElementById'](_0x31e5af(0x756))[_0x31e5af(0x504)](_0x31e5af(0x936),_0x51fb72=>{const _0x2ded52=_0x31e5af,_0x59a6e9=_0x51fb72[_0x2ded52(0x797)]['closest']('.shortcut-btn'),_0x22f7ea=_0x51fb72[_0x2ded52(0x797)][_0x2ded52(0x5d0)](_0x2ded52(0x706)),_0x2975a7=_0x51fb72[_0x2ded52(0x797)][_0x2ded52(0x5d0)](_0x2ded52(0x1b9));if(_0x22f7ea)openShortcutEditor(_0x22f7ea[_0x2ded52(0x24b)]['id']);else{if(_0x2975a7){const _0x103c11=_0x2975a7['dataset']['id'],_0x8c55c=blueprintShortcuts[_0x2ded52(0x7c7)](_0x185c97=>_0x185c97['id']===_0x103c11)?.['name'];showConfirmation(_0x2ded52(0x9ea)+_0x8c55c+'\x22?',async()=>{const _0x1c2e25=_0x2ded52,_0xe6c722=blueprintShortcuts[_0x1c2e25(0x624)](_0x335f03=>_0x335f03['id']!==_0x103c11);try{const _0x2e876c=doc(db,_0x1c2e25(0x33d),_0x1c2e25(0xbf2));await setDoc(_0x2e876c,{'blueprintShortcuts':_0xe6c722},{'merge':!![]});}catch(_0x2f8bc4){console['error'](_0x1c2e25(0x563),_0x2f8bc4);}});}else _0x59a6e9&&handleShortcutClick(_0x59a6e9[_0x2ded52(0x24b)]['id']);}}),document[_0x31e5af(0x286)](_0x31e5af(0xb5d))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>openShortcutEditor(null)),document['getElementById'](_0x31e5af(0xb59))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x37ce9e=_0x31e5af;document[_0x37ce9e(0x286)]('shortcut-editor-modal')['classList'][_0x37ce9e(0xbfd)](_0x37ce9e(0xb5c));}),document['getElementById']('save-shortcut-btn')[_0x31e5af(0x504)](_0x31e5af(0x936),saveShortcutChanges),document[_0x31e5af(0x286)](_0x31e5af(0x4e3))['addEventListener'](_0x31e5af(0x936),async()=>{const _0x138171=_0x31e5af,_0x3ca992=document[_0x138171(0x286)](_0x138171(0x1a3)),_0x31a126=document[_0x138171(0x286)]('reference-pdf-upload');_0x3ca992[_0x138171(0xc70)][_0x138171(0xb81)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x3ca992[_0x138171(0xc70)][0x0],_0x31a126[_0x138171(0xc70)][0x0]||null):showMessage(_0x138171(0x9ca));}),document['getElementById'](_0x31e5af(0x1eb))[_0x31e5af(0x504)](_0x31e5af(0x936),async _0x595821=>{const _0x32bbe3=_0x31e5af,_0x416650=document[_0x32bbe3(0x286)](_0x32bbe3(0x1eb)),_0x286526=_0x595821[_0x32bbe3(0x797)][_0x32bbe3(0x5d0)](_0x32bbe3(0x89)),_0x5bc5ab=_0x595821[_0x32bbe3(0x797)][_0x32bbe3(0x5d0)](_0x32bbe3(0xce)),_0x1c4207=_0x595821['target'][_0x32bbe3(0x5d0)]('.bp-present-btn'),_0x1bb3a3=_0x595821[_0x32bbe3(0x797)][_0x32bbe3(0x5d0)](_0x32bbe3(0x413)),_0xb77687=_0x595821[_0x32bbe3(0x797)][_0x32bbe3(0x5d0)](_0x32bbe3(0xb83)),_0x1f744d=_0x595821['target']['closest']('.bp-game-btn');if(_0x286526){cameFromBlueprint=!![];const _0x5c5654=_0x286526['dataset'][_0x32bbe3(0x476)];showQuizDetailView(_0x5c5654),_0x416650[_0x32bbe3(0x707)][_0x32bbe3(0xbfd)](_0x32bbe3(0xb5c));}else{if(_0x5bc5ab){const _0x5c4ec4=_0x5bc5ab[_0x32bbe3(0x24b)][_0x32bbe3(0xc3a)],_0x35594d=_0x5bc5ab['dataset'][_0x32bbe3(0x476)],_0x167022=allQuizzesGlobal[_0x32bbe3(0x7c7)](_0x4be709=>_0x4be709['id']===_0x35594d),_0x38e9fa=_0x167022?_0x167022[_0x32bbe3(0x26f)]:_0x32bbe3(0x6f0);showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22'+_0x38e9fa+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x13f2ef=_0x32bbe3;try{const _0x2e2d0a=doc(db,_0x13f2ef(0x47d)+appId+_0x13f2ef(0xbaf),currentBlueprintProjectId);await updateDoc(_0x2e2d0a,{[_0x13f2ef(0x451)+_0x5c4ec4+'.linkedQuizIds']:arrayRemove(_0x35594d)}),showMessage(_0x13f2ef(0x2a5)),openTopicQuizBank(_0x5c4ec4),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x40f3b7){console[_0x13f2ef(0x4da)](_0x13f2ef(0x4fd),_0x40f3b7),showMessage(_0x13f2ef(0x346));}});}else{if(_0x1c4207){cameFromBlueprint=!![];const _0x120282=_0x1c4207[_0x32bbe3(0x24b)][_0x32bbe3(0x476)],_0x404784=allQuizzesGlobal[_0x32bbe3(0x7c7)](_0x37d392=>_0x37d392['id']===_0x120282);_0x404784&&(startPresentation(_0x404784),_0x416650[_0x32bbe3(0x707)]['add'](_0x32bbe3(0xb5c)));}else{if(_0x1bb3a3){cameFromBlueprint=!![];const _0x58a00f=_0x1bb3a3[_0x32bbe3(0x24b)]['quizId'],_0x148c5f=allQuizzesGlobal[_0x32bbe3(0x7c7)](_0x125899=>_0x125899['id']===_0x58a00f);_0x148c5f&&(currentQuizData=_0x148c5f,startAdminTest(),_0x416650['classList']['add'](_0x32bbe3(0xb5c)));}else{if(_0xb77687)cameFromBlueprint=!![],handleStartLiveRace(_0xb77687[_0x32bbe3(0x24b)]['quizId']),_0x416650[_0x32bbe3(0x707)]['add'](_0x32bbe3(0xb5c));else{if(_0x1f744d){cameFromBlueprint=!![];const _0x288dae=_0x1f744d[_0x32bbe3(0x24b)]['quizId'],_0x11d003=_0x1f744d['dataset'][_0x32bbe3(0x253)],_0x49ed87=allQuizzesGlobal[_0x32bbe3(0x7c7)](_0x238376=>_0x238376['id']===_0x288dae);_0x49ed87&&(showGameStartConfirmationModal(_0x288dae,_0x11d003,_0x49ed87[_0x32bbe3(0x26f)]),_0x416650[_0x32bbe3(0x707)][_0x32bbe3(0xbfd)](_0x32bbe3(0xb5c)));}}}}}}}),document[_0x31e5af(0x286)]('manual-create-blueprint-btn')[_0x31e5af(0x504)]('click',()=>{const _0x342bd9=_0x31e5af;document[_0x342bd9(0x286)](_0x342bd9(0x7ca))[_0x342bd9(0x707)][_0x342bd9(0x6d1)](_0x342bd9(0xb5c)),document[_0x342bd9(0x286)](_0x342bd9(0xc8a))[_0x342bd9(0x227)]='',document[_0x342bd9(0x286)]('manual-bp-grade-level')[_0x342bd9(0x227)]='',document['getElementById']('manual-bp-content')[_0x342bd9(0x227)]='';}),document[_0x31e5af(0x286)](_0x31e5af(0x6d6))['addEventListener'](_0x31e5af(0x936),()=>{const _0x53322f=_0x31e5af;document[_0x53322f(0x286)]('manual-blueprint-modal')[_0x53322f(0x707)]['add']('hidden');}),document[_0x31e5af(0x286)](_0x31e5af(0x8bf))[_0x31e5af(0x504)]('click',handleManualBlueprintSave),document[_0x31e5af(0x286)](_0x31e5af(0x693))['addEventListener'](_0x31e5af(0x936),()=>document[_0x31e5af(0x286)](_0x31e5af(0x999))[_0x31e5af(0x707)][_0x31e5af(0xbfd)](_0x31e5af(0xb5c))),document[_0x31e5af(0x286)]('save-bp-settings-btn')[_0x31e5af(0x504)](_0x31e5af(0x936),handleSaveBlueprintPageSettings),document[_0x31e5af(0x286)](_0x31e5af(0x6de))[_0x31e5af(0x504)]('click',openBlueprintQuizSettings),document[_0x31e5af(0x286)](_0x31e5af(0x775))[_0x31e5af(0x504)](_0x31e5af(0x936),saveBlueprintProject),document[_0x31e5af(0x286)](_0x31e5af(0x1b3))[_0x31e5af(0x504)](_0x31e5af(0x936),showBlueprintProjects),document[_0x31e5af(0x286)](_0x31e5af(0xed))[_0x31e5af(0x504)]('click',()=>{const _0x2a68e9=_0x31e5af;document[_0x2a68e9(0x286)](_0x2a68e9(0x98d))['classList'][_0x2a68e9(0xbfd)]('hidden');}),document[_0x31e5af(0x286)]('blueprint-project-list')['addEventListener'](_0x31e5af(0x936),_0xa56c0f=>{const _0x4729d1=_0x31e5af,_0x5d7e63=_0xa56c0f[_0x4729d1(0x797)][_0x4729d1(0x5d0)](_0x4729d1(0x6c9)),_0x172b58=_0xa56c0f[_0x4729d1(0x797)][_0x4729d1(0x5d0)](_0x4729d1(0xa02));if(_0x5d7e63)displayBlueprintProjectManager(_0x5d7e63[_0x4729d1(0x24b)]['id']);else _0x172b58&&handleDeepDeleteBlueprintProject(_0x172b58[_0x4729d1(0x24b)]['id']);}),document['getElementById'](_0x31e5af(0x401))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x3e4450=_0x31e5af;currentBlueprintProjectId=null,currentProjectId=null,document[_0x3e4450(0x286)]('blueprint-project-manager-view')[_0x3e4450(0x707)][_0x3e4450(0xbfd)]('hidden'),showView('admin-dashboard');}),document[_0x31e5af(0x286)](_0x31e5af(0x8a0))[_0x31e5af(0x504)]('click',addTopicToProject),document[_0x31e5af(0x286)](_0x31e5af(0xcb3))[_0x31e5af(0x504)](_0x31e5af(0x936),async _0x36e38c=>{const _0x4461e1=_0x31e5af,_0x257fd4=_0x36e38c[_0x4461e1(0x797)][_0x4461e1(0x5d0)](_0x4461e1(0x9e4));if(!_0x257fd4)return;const _0x69e16d=_0x257fd4[_0x4461e1(0x24b)][_0x4461e1(0xc3a)],_0x14e27e=_0x36e38c[_0x4461e1(0x797)]['closest'](_0x4461e1(0xc3d)),_0x38420a=_0x36e38c['target'][_0x4461e1(0x5d0)]('.bp-create-content-quiz-btn'),_0x444417=_0x36e38c['target'][_0x4461e1(0x5d0)](_0x4461e1(0x8b1)),_0xa611a7=_0x36e38c[_0x4461e1(0x797)][_0x4461e1(0x5d0)]('.bp-open-topic-bank-btn'),_0x50c80f=_0x36e38c[_0x4461e1(0x797)][_0x4461e1(0x5d0)]('.view-bp-lesson-btn'),_0x135591=_0x36e38c[_0x4461e1(0x797)][_0x4461e1(0x5d0)](_0x4461e1(0x674)),_0x214f44=_0x36e38c[_0x4461e1(0x797)][_0x4461e1(0x5d0)](_0x4461e1(0x2cd)),_0x4dd355=_0x36e38c[_0x4461e1(0x797)][_0x4461e1(0x5d0)](_0x4461e1(0x810)),_0x4d1967=_0x18e1fc=>{const _0x2dee23=_0x4461e1,_0x3ca01d=_0x18e1fc[_0x2dee23(0x443)](_0x2dee23(0x9e0))[_0x2dee23(0x10e)]['trim'](),_0x2a3b82=_0x18e1fc['closest'](_0x2dee23(0xc2e))['previousElementSibling'],_0x463573=_0x2a3b82?_0x2a3b82['textContent'][_0x2dee23(0x543)]():'';return _0x463573+':\x20'+_0x3ca01d;};if(_0xa611a7)openTopicQuizBank(_0x69e16d);else{if(_0x14e27e){const _0x29997b=_0x4d1967(_0x257fd4);selectProjectAndGenerateBlueprintQuiz(_0x29997b,null,_0x69e16d,!![]);}else{if(_0x38420a){const _0x54bef2=_0x4d1967(_0x257fd4);try{const _0x1e7d30=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x4461e1(0x8fb),_0x69e16d),_0x3a0e52=await getDoc(_0x1e7d30);if(_0x3a0e52['exists']()){const _0x59c1fe=_0x3a0e52[_0x4461e1(0x10a)]()['content'],_0x3e1324=document[_0x4461e1(0x3f2)](_0x4461e1(0xc80)),_0x3e15cd=_0x1a3118=>{const _0x2c4e21=_0x4461e1;if(!_0x1a3118)return'';return _0x3e1324[_0x2c4e21(0x6ef)]=_0x1a3118,_0x3e1324[_0x2c4e21(0x10e)]||_0x3e1324[_0x2c4e21(0x654)]||'';},_0x358f40=(_0x3e15cd(_0x59c1fe[_0x4461e1(0xc16)])+'\x20'+_0x3e15cd(_0x59c1fe[_0x4461e1(0x9bb)])+'\x20'+_0x3e15cd(_0x59c1fe[_0x4461e1(0x78a)]))[_0x4461e1(0x543)]();selectProjectAndGenerateBlueprintQuiz(_0x54bef2,_0x358f40,_0x69e16d,![]);}else showMessage(_0x4461e1(0x174));}catch(_0x5cc43d){console[_0x4461e1(0x4da)]('Error\x20preparing\x20content\x20quiz:',_0x5cc43d),showMessage('เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ');}}else{if(_0x444417){const _0x457a69=_0x4d1967(_0x257fd4);selectProjectAndGenerateBlueprintQuiz(_0x457a69,null,_0x69e16d,![]);}else{if(_0x50c80f){const _0x45bf24=doc(db,'artifacts/'+appId+_0x4461e1(0xbaf),currentBlueprintProjectId),_0x361df4=await getDoc(_0x45bf24);if(_0x361df4[_0x4461e1(0x6cc)]()){const _0x1b6e94=_0x361df4[_0x4461e1(0x10a)](),_0x2d4baa=_0x1b6e94[_0x4461e1(0x50c)][_0x69e16d];if(_0x2d4baa&&_0x2d4baa[_0x4461e1(0xc3e)]===_0x4461e1(0x5a7))try{const _0x1fb2b7=doc(db,'artifacts/'+appId+_0x4461e1(0x27c)+currentBlueprintProjectId+_0x4461e1(0x8fb),_0x69e16d),_0xc1a75d=await getDoc(_0x1fb2b7);if(_0xc1a75d[_0x4461e1(0x6cc)]()){const _0x15cfca=_0xc1a75d[_0x4461e1(0x10a)]()[_0x4461e1(0x8e3)];document[_0x4461e1(0x286)](_0x4461e1(0xabf))[_0x4461e1(0x10e)]=_0x4461e1(0xb13)+_0x4d1967(_0x257fd4),document[_0x4461e1(0x286)](_0x4461e1(0xb3d))[_0x4461e1(0x6ef)]=_0x15cfca[_0x4461e1(0xc16)],document[_0x4461e1(0x286)]('memoryContent')[_0x4461e1(0x6ef)]=_0x15cfca['memory'],document['getElementById'](_0x4461e1(0xc3f))[_0x4461e1(0x6ef)]=_0x15cfca[_0x4461e1(0x78a)];const _0x540230=document[_0x4461e1(0x286)](_0x4461e1(0x74a));_0x15cfca[_0x4461e1(0x51b)]?(currentApplicationData=_0x15cfca[_0x4461e1(0x51b)],_0x540230[_0x4461e1(0x6ef)]=currentApplicationData[_0x4461e1(0x764)]((_0x415758,_0x26c86d)=>_0x4461e1(0xa66)+(_0x26c86d+0x1)+'.\x20'+marked[_0x4461e1(0xa52)](_0x415758[_0x4461e1(0x5d6)])+_0x4461e1(0x2b0)+_0x26c86d+_0x4461e1(0x4d8)+_0x415758[_0x4461e1(0xa07)]['map']((_0x102826,_0x39b565)=>_0x4461e1(0xd0e)+_0x26c86d+',\x20'+_0x39b565+_0x4461e1(0x88b)+String[_0x4461e1(0x55f)](0x61+_0x39b565)+'.\x20'+marked[_0x4461e1(0xa52)](_0x102826)+_0x4461e1(0xc81))[_0x4461e1(0x6da)]('')+'</div></div>')[_0x4461e1(0x6da)]('')):(currentApplicationData=[],_0x540230['innerHTML']=_0x15cfca[_0x4461e1(0x8c3)]||_0x15cfca['application']),document[_0x4461e1(0x286)](_0x4461e1(0x3cb))[_0x4461e1(0x707)][_0x4461e1(0xbfd)](_0x4461e1(0xb5c)),document[_0x4461e1(0x286)](_0x4461e1(0xbc1))['classList'][_0x4461e1(0x6d1)](_0x4461e1(0xb5c)),document[_0x4461e1(0x286)](_0x4461e1(0xc23))[_0x4461e1(0x707)]['remove'](_0x4461e1(0xb5c)),window['MathJax']&&MathJax[_0x4461e1(0x8c4)]([document[_0x4461e1(0x286)](_0x4461e1(0xc2d))]);}else showMessage('ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)');}catch(_0x373266){console['error'](_0x4461e1(0x42e),_0x373266),showMessage(_0x4461e1(0x942));}else showMessage(_0x4461e1(0x73d));}}else{if(_0x135591){const _0x18f99a=_0x4d1967(_0x257fd4),_0x3e71b3=doc(db,_0x4461e1(0x47d)+appId+_0x4461e1(0xbaf),currentBlueprintProjectId),_0x512f68=await getDoc(_0x3e71b3);if(_0x512f68[_0x4461e1(0x6cc)]()){const _0x4bdd43=_0x512f68[_0x4461e1(0x10a)]();generateAndSaveLessonForBlueprint(_0x69e16d,_0x18f99a,_0x4bdd43[_0x4461e1(0x306)]);}}else{if(_0x214f44)editTopicInProject(_0x69e16d);else _0x4dd355&&deleteTopicFromProject(_0x69e16d);}}}}}}}),document[_0x31e5af(0x286)](_0x31e5af(0xc9d))[_0x31e5af(0x504)](_0x31e5af(0x936),handleFixLessonLatex),document['getElementById'](_0x31e5af(0x391))[_0x31e5af(0x504)](_0x31e5af(0x936),handleExportLessonToPDF),document[_0x31e5af(0x286)](_0x31e5af(0x935))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x246a45=_0x31e5af;document[_0x246a45(0x286)](_0x246a45(0xc23))[_0x246a45(0x707)][_0x246a45(0xbfd)](_0x246a45(0xb5c));});const _0x326075=document[_0x31e5af(0x286)](_0x31e5af(0x1c9)),_0x25ffb2=document[_0x31e5af(0x286)]('bulk-confidence-mode-container');_0x326075[_0x31e5af(0x504)]('change',()=>{const _0x272d43=_0x31e5af;_0x25ffb2[_0x272d43(0x707)]['toggle'](_0x272d43(0xb5c),!_0x326075[_0x272d43(0x50a)]);});const _0xe52738=document['getElementById']('confidence-scoring-checkbox'),_0x42dc7d=document[_0x31e5af(0x286)](_0x31e5af(0x43a));_0xe52738[_0x31e5af(0x504)](_0x31e5af(0x8ec),()=>{const _0x47d286=_0x31e5af;_0x42dc7d['classList'][_0x47d286(0x587)](_0x47d286(0xb5c),!_0xe52738['checked']);});const _0x52a868=document[_0x31e5af(0x286)]('modal-confidence-scoring-checkbox'),_0x105e54=document[_0x31e5af(0x286)](_0x31e5af(0x39a));_0x52a868[_0x31e5af(0x504)](_0x31e5af(0x8ec),()=>{const _0x19a68b=_0x31e5af;_0x105e54[_0x19a68b(0x707)][_0x19a68b(0x587)](_0x19a68b(0xb5c),!_0x52a868[_0x19a68b(0x50a)]);});const _0x5bd9cd=document['getElementById'](_0x31e5af(0x7f)),_0xab9e74=async _0x11348f=>{const _0x4072f0=_0x31e5af,_0x5eea3d=document[_0x4072f0(0x286)](_0x4072f0(0x7f)),_0xc02609=_0x5eea3d[_0x4072f0(0x24b)]['currentMode'],_0x5c3631=document[_0x4072f0(0x286)](_0x4072f0(0xc53));_0x5eea3d['classList'][_0x4072f0(0xbfd)](_0x4072f0(0xb5c));if(_0xc02609===_0x4072f0(0x642)){const _0x2ccfab=_0x5c3631[_0x4072f0(0x227)],_0x283e20={'answer':_0x2ccfab,'wasConfident':_0x11348f};proceedToNextQuestion(_0x283e20);}else{if(_0xc02609===_0x4072f0(0x55c)){const _0x4133ad=_0x5c3631['dataset'][_0x4072f0(0x69e)],_0x377d36=JSON[_0x4072f0(0x8dc)](_0x5c3631['dataset'][_0x4072f0(0x5d6)]),_0x51778b=JSON[_0x4072f0(0x8dc)](_0x5c3631[_0x4072f0(0x24b)][_0x4072f0(0xc30)]),_0x2624f8=_0x5c3631[_0x4072f0(0x24b)][_0x4072f0(0x6c7)];handleSyncAnswerSubmit(_0x4133ad,_0x377d36,_0x51778b,_0x2624f8,_0x11348f);}}_0x5eea3d['dataset'][_0x4072f0(0xb76)]='';};document['getElementById'](_0x31e5af(0x3a3))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>_0xab9e74(!![])),document[_0x31e5af(0x286)](_0x31e5af(0x6d8))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>_0xab9e74(![])),liveGameView[_0x31e5af(0x504)]('click',_0x14b5e9=>{const _0x444cf5=_0x31e5af,_0x2fb75b=_0x14b5e9[_0x444cf5(0x797)]['closest'](_0x444cf5(0x5e6));if(_0x2fb75b){const _0x2bb6c1=_0x2fb75b[_0x444cf5(0x24b)][_0x444cf5(0x6c7)];_0x2bb6c1&&handleKickPlayerSync(_0x2bb6c1);}});const _0x54d8ce=document[_0x31e5af(0x286)](_0x31e5af(0x8f0)),_0x5bb1bf=document[_0x31e5af(0x286)]('cancel-game-start-btn');_0x5bb1bf[_0x31e5af(0x504)]('click',()=>{const _0xb672a8=_0x31e5af;document['getElementById'](_0xb672a8(0xc78))[_0xb672a8(0x707)]['add']('hidden');}),_0x54d8ce['addEventListener'](_0x31e5af(0x936),()=>{const _0x37dbf2=_0x31e5af,_0x5806b4=document[_0x37dbf2(0x286)](_0x37dbf2(0x7d1))[_0x37dbf2(0x227)],_0x24db45=document[_0x37dbf2(0x286)]('game-start-mode')[_0x37dbf2(0x227)],_0x34d06e=document['getElementById'](_0x37dbf2(0x36d))[_0x37dbf2(0x50a)];document[_0x37dbf2(0x286)]('confirm-game-start-modal')[_0x37dbf2(0x707)][_0x37dbf2(0xbfd)](_0x37dbf2(0xb5c));switch(_0x24db45){case _0x37dbf2(0x240):handleStartLiveRace(_0x5806b4,_0x34d06e);break;case _0x37dbf2(0x5bb):handleStartTeamQuiz(_0x5806b4,_0x34d06e);break;case _0x37dbf2(0xc6f):handleStartGroupMode(_0x5806b4,_0x34d06e);break;case _0x37dbf2(0x55c):const _0x37944e=document[_0x37dbf2(0x443)](_0x37dbf2(0x7aa))[_0x37dbf2(0x227)]||_0x37dbf2(0xaee);handleStartSyncMode(_0x5806b4,_0x34d06e,_0x37944e);break;}}),document[_0x31e5af(0x286)](_0x31e5af(0x846))['addEventListener'](_0x31e5af(0x936),handleJoinGroupActivity),liveGameView[_0x31e5af(0x504)](_0x31e5af(0x936),_0x281d62=>{const _0x530231=_0x31e5af,_0x3aa0d0=_0x281d62[_0x530231(0x797)][_0x530231(0x5d0)](_0x530231(0xc4f));document[_0x530231(0x640)](_0x530231(0xaf6))['forEach'](_0x412bea=>{const _0x44a87e=_0x530231;(!_0x3aa0d0||_0x412bea['id']!==_0x3aa0d0['dataset'][_0x44a87e(0x2cc)])&&_0x412bea[_0x44a87e(0x707)]['remove'](_0x44a87e(0x8e));});if(!_0x3aa0d0)return;const _0x34fd59=_0x3aa0d0['dataset'][_0x530231(0x2cc)],_0x12c3b4=document[_0x530231(0x286)](_0x34fd59);_0x12c3b4&&_0x12c3b4['classList']['toggle'](_0x530231(0x8e));}),liveGameView[_0x31e5af(0x504)]('click',_0x2782bf=>{const _0x89a969=_0x31e5af;if(_0x2782bf[_0x89a969(0x797)][_0x89a969(0x707)]['contains']('kick-player-btn')){const _0x39a2a1=_0x2782bf['target'][_0x89a969(0x24b)][_0x89a969(0x6c7)];_0x39a2a1&&handleKickPlayer(_0x39a2a1);}}),document['getElementById'](_0x31e5af(0x95e))[_0x31e5af(0x504)](_0x31e5af(0xfb),()=>document['getElementById'](_0x31e5af(0xc86))['classList'][_0x31e5af(0x6d1)]('hidden')),document[_0x31e5af(0x286)](_0x31e5af(0xc86))[_0x31e5af(0x504)](_0x31e5af(0x936),handleSaveProjectName),document[_0x31e5af(0x286)](_0x31e5af(0x95e))[_0x31e5af(0x504)](_0x31e5af(0x503),_0xe199dc=>{const _0x21f4ac=_0x31e5af;_0xe199dc[_0x21f4ac(0x35d)]===_0x21f4ac(0x81b)&&(_0xe199dc[_0x21f4ac(0x5be)](),_0xe199dc['target'][_0x21f4ac(0x1f8)](),handleSaveProjectName());}),document[_0x31e5af(0x286)]('bulk-quiz-settings-btn')['addEventListener'](_0x31e5af(0x936),()=>{const _0x150fdd=_0x31e5af;document[_0x150fdd(0x286)]('bulk-quiz-settings-modal')[_0x150fdd(0x707)][_0x150fdd(0x6d1)](_0x150fdd(0xb5c));}),document[_0x31e5af(0x286)](_0x31e5af(0x4a9))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x167d18=_0x31e5af;document[_0x167d18(0x286)](_0x167d18(0x77f))[_0x167d18(0x707)][_0x167d18(0xbfd)](_0x167d18(0xb5c));}),document[_0x31e5af(0x286)](_0x31e5af(0x69d))[_0x31e5af(0x504)](_0x31e5af(0x936),handleBulkUpdateQuizSettings),document['getElementById'](_0x31e5af(0x3ae))[_0x31e5af(0x504)](_0x31e5af(0x936),handleModeSwitch),document[_0x31e5af(0x286)](_0x31e5af(0x41f))['addEventListener'](_0x31e5af(0x936),handleUpdateOldQuizzes),document[_0x31e5af(0x286)](_0x31e5af(0xb72))[_0x31e5af(0x504)](_0x31e5af(0x936),handleResetProjectOrder),document[_0x31e5af(0x286)]('save-visibility-settings-btn')[_0x31e5af(0x504)](_0x31e5af(0x936),handleSaveVisibilitySettings),document[_0x31e5af(0x286)]('add-custom-math-topic-btn')[_0x31e5af(0x504)](_0x31e5af(0x936),handleAddCustomMathTopic),document[_0x31e5af(0x286)](_0x31e5af(0x718))['addEventListener'](_0x31e5af(0x936),handleSelectAllTopics),document[_0x31e5af(0x286)](_0x31e5af(0x9cb))[_0x31e5af(0x504)](_0x31e5af(0x936),handleDeselectAllTopics),document['getElementById'](_0x31e5af(0x10d))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x30a108=_0x31e5af;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x30a108(0xcc2));}}),document['getElementById'](_0x31e5af(0xafd))['addEventListener']('click',()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}}),document[_0x31e5af(0x286)](_0x31e5af(0x6fb))['addEventListener'](_0x31e5af(0x936),()=>{const _0x2a1b4a=_0x31e5af;showView(_0x2a1b4a(0xcc2));}),document[_0x31e5af(0x286)](_0x31e5af(0x7fa))[_0x31e5af(0x504)]('click',()=>{const _0x4ff0c5=_0x31e5af;messageModal[_0x4ff0c5(0x707)][_0x4ff0c5(0xbfd)](_0x4ff0c5(0xb5c)),typeof modalConfirmAction===_0x4ff0c5(0xc25)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x31e5af(0x60c))['addEventListener'](_0x31e5af(0x936),()=>createProjectModal[_0x31e5af(0x707)][_0x31e5af(0x6d1)](_0x31e5af(0xb5c))),document['getElementById'](_0x31e5af(0xced))[_0x31e5af(0x504)]('click',()=>createProjectModal[_0x31e5af(0x707)][_0x31e5af(0xbfd)](_0x31e5af(0xb5c))),document[_0x31e5af(0x286)]('cancel-admin-login-btn')[_0x31e5af(0x504)](_0x31e5af(0x936),()=>adminPasswordModal['classList'][_0x31e5af(0xbfd)]('hidden')),document[_0x31e5af(0x286)](_0x31e5af(0x284))[_0x31e5af(0x504)]('click',handleAdminLogin),document[_0x31e5af(0x286)](_0x31e5af(0xa8b))['addEventListener'](_0x31e5af(0x9c0),_0x450b6f=>{const _0x3a004b=_0x31e5af;if(_0x450b6f[_0x3a004b(0x35d)]===_0x3a004b(0x81b))handleAdminLogin();}),document[_0x31e5af(0x286)](_0x31e5af(0xc8b))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x56b2=_0x31e5af;confirmationModal[_0x56b2(0x707)][_0x56b2(0xbfd)](_0x56b2(0xb5c)),typeof cancelAction===_0x56b2(0xc25)&&cancelAction(),confirmAction=null,cancelAction=null;}),document['getElementById'](_0x31e5af(0x7cb))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x2b2a03=_0x31e5af;confirmAction&&confirmAction(),confirmationModal[_0x2b2a03(0x707)][_0x2b2a03(0xbfd)](_0x2b2a03(0xb5c)),confirmAction=null,cancelAction=null;}),document['getElementById']('cancel-rename-quiz-btn')[_0x31e5af(0x504)](_0x31e5af(0x936),()=>renameQuizModal[_0x31e5af(0x707)]['add'](_0x31e5af(0xb5c))),document['getElementById'](_0x31e5af(0xd0c))['addEventListener'](_0x31e5af(0x936),confirmRenameQuiz),document[_0x31e5af(0x286)](_0x31e5af(0x803))[_0x31e5af(0x504)]('click',()=>moveQuizModal[_0x31e5af(0x707)][_0x31e5af(0xbfd)](_0x31e5af(0xb5c))),document[_0x31e5af(0x286)](_0x31e5af(0x8c2))[_0x31e5af(0x504)](_0x31e5af(0x936),confirmMoveQuiz),document[_0x31e5af(0x286)](_0x31e5af(0x81d))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>quizSettingsModal['classList'][_0x31e5af(0xbfd)](_0x31e5af(0xb5c))),document[_0x31e5af(0x286)]('confirm-quiz-settings-btn')[_0x31e5af(0x504)]('click',confirmQuizSettings),document[_0x31e5af(0x286)](_0x31e5af(0xcbc))['addEventListener'](_0x31e5af(0x936),()=>quizStatusModal[_0x31e5af(0x707)][_0x31e5af(0xbfd)](_0x31e5af(0xb5c))),document[_0x31e5af(0x286)](_0x31e5af(0x144))[_0x31e5af(0x504)](_0x31e5af(0x936),confirmQuizStatus);const _0x5cb576=document[_0x31e5af(0x286)]('export-pdf-modal');document[_0x31e5af(0x286)](_0x31e5af(0x419))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x7e73b4=_0x31e5af;_0x5cb576['classList'][_0x7e73b4(0xbfd)](_0x7e73b4(0xb5c));}),document[_0x31e5af(0x286)](_0x31e5af(0x979))['addEventListener'](_0x31e5af(0x936),async()=>{const _0x38aaa8=_0x31e5af,_0x2fd25f=allQuizzes[_0x38aaa8(0x7c7)](_0x169e44=>_0x169e44['id']===actionTargetId);_0x2fd25f?(currentQuizData=_0x2fd25f,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x5cb576[_0x38aaa8(0x707)]['add'](_0x38aaa8(0xb5c));}),document[_0x31e5af(0x286)](_0x31e5af(0xce9))[_0x31e5af(0x504)](_0x31e5af(0x936),async()=>{const _0xba8af6=_0x31e5af,_0x502b34=allQuizzes[_0xba8af6(0x7c7)](_0x2ab07d=>_0x2ab07d['id']===actionTargetId);_0x502b34?(currentQuizData=_0x502b34,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x5cb576[_0xba8af6(0x707)]['add'](_0xba8af6(0xb5c));});const _0x2a4d98=document[_0x31e5af(0x286)](_0x31e5af(0x39d));_0x2a4d98[_0x31e5af(0x6ef)]=_0x31e5af(0x26c),_0x2a4d98[_0x31e5af(0x504)](_0x31e5af(0x936),openGlobalActivityModal),document[_0x31e5af(0x286)](_0x31e5af(0x3d1))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x55cebd=_0x31e5af;document['getElementById'](_0x55cebd(0xbba))[_0x55cebd(0x707)]['add'](_0x55cebd(0xb5c));}),document[_0x31e5af(0x286)]('global-quiz-search-input')['addEventListener'](_0x31e5af(0x4df),_0x470310=>{const _0x4300cd=_0x31e5af;renderGlobalActivityList(_0x470310[_0x4300cd(0x797)][_0x4300cd(0x227)]);}),document[_0x31e5af(0x286)](_0x31e5af(0x8de))[_0x31e5af(0x504)](_0x31e5af(0x936),_0x40bd12=>{const _0xd57d51=_0x31e5af,_0x4c1d1d=_0x40bd12[_0xd57d51(0x797)][_0xd57d51(0x5d0)](_0xd57d51(0xbe1));if(!_0x4c1d1d)return;const _0x186df6=_0x4c1d1d['dataset']['id'],_0x4d2fc3=_0x4c1d1d[_0xd57d51(0x24b)]['mode'],_0x55d422=allQuizzesGlobal[_0xd57d51(0x7c7)](_0x32daaa=>_0x32daaa['id']===_0x186df6);_0x55d422&&(document[_0xd57d51(0x286)](_0xd57d51(0xbba))[_0xd57d51(0x707)]['add'](_0xd57d51(0xb5c)),_0x4d2fc3==='live-race'?handleStartLiveRace(_0x186df6):showGameStartConfirmationModal(_0x186df6,_0x4d2fc3,_0x55d422[_0xd57d51(0x26f)]));}),document[_0x31e5af(0x286)](_0x31e5af(0xa0e))['addEventListener'](_0x31e5af(0x4df),renderProjects),document[_0x31e5af(0x286)]('project-sort-select')[_0x31e5af(0x504)]('change',async()=>{const _0x888f4a=_0x31e5af,_0xc55f0e=document[_0x888f4a(0x286)](_0x888f4a(0x2ed))[_0x888f4a(0x227)],_0x4ae82c=doc(db,'globalSettings',_0x888f4a(0xbf2));try{await setDoc(_0x4ae82c,{'projectSort':_0xc55f0e},{'merge':!![]});}catch(_0x427eb7){console['error'](_0x888f4a(0x911),_0x427eb7),showMessage(_0x888f4a(0x971));}}),document[_0x31e5af(0x286)]('quiz-search-input')[_0x31e5af(0x504)](_0x31e5af(0x4df),renderQuizzes),document[_0x31e5af(0x286)](_0x31e5af(0x786))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x4896d0=_0x31e5af;globalDashboardSettings[_0x4896d0(0x6a7)]=_0x4896d0(0xc0b),saveUserPreference(_0x4896d0(0x6a7),_0x4896d0(0xc0b)),renderProjects();}),document[_0x31e5af(0x286)](_0x31e5af(0x608))['addEventListener']('click',()=>{const _0x560a28=_0x31e5af;globalDashboardSettings[_0x560a28(0x6a7)]=_0x560a28(0x43e),saveUserPreference(_0x560a28(0x6a7),'list'),renderProjects();}),manageTab[_0x31e5af(0x504)](_0x31e5af(0x936),()=>switchProjectTab(_0x31e5af(0x8e9))),resultsTab[_0x31e5af(0x504)](_0x31e5af(0x936),()=>switchProjectTab(_0x31e5af(0x335))),leaderboardTab[_0x31e5af(0x504)]('click',()=>switchProjectTab('leaderboard')),document['getElementById'](_0x31e5af(0x42c))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>switchQuizDetailTab(_0x31e5af(0x73f))),document[_0x31e5af(0x286)](_0x31e5af(0x5f4))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>switchQuizDetailTab(_0x31e5af(0xb00))),document['getElementById']('leaderboard-quiz-tab-btn')[_0x31e5af(0x504)](_0x31e5af(0x936),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x31e5af(0x286)](_0x31e5af(0x5f0))['addEventListener'](_0x31e5af(0x936),()=>switchQuizDetailTab(_0x31e5af(0xc76))),document[_0x31e5af(0x286)](_0x31e5af(0xc6))[_0x31e5af(0x504)](_0x31e5af(0x936),handleAnalyzeClass),generateWorksheetBtn['addEventListener']('click',generateWorksheet);const _0x5c49a5=document[_0x31e5af(0x286)](_0x31e5af(0x997)),_0x3d18d2=document[_0x31e5af(0x286)](_0x31e5af(0x2c7)),_0x293e0b=document['getElementById'](_0x31e5af(0xbac)),_0x34ab40=document[_0x31e5af(0x286)](_0x31e5af(0x4d9)),_0x186101=document[_0x31e5af(0x286)]('parallel-test-tab'),_0x11c523=document[_0x31e5af(0x286)](_0x31e5af(0x5c2));topicTab['addEventListener']('click',()=>{const _0x343d0b=_0x31e5af;topicTab[_0x343d0b(0x707)][_0x343d0b(0xbfd)](_0x343d0b(0x925)),textTab[_0x343d0b(0x707)]['remove'](_0x343d0b(0x925)),fileTab[_0x343d0b(0x707)][_0x343d0b(0x6d1)](_0x343d0b(0x925)),worksheetTab[_0x343d0b(0x707)][_0x343d0b(0x6d1)](_0x343d0b(0x925));if(_0x5c49a5)_0x5c49a5[_0x343d0b(0x707)][_0x343d0b(0x6d1)](_0x343d0b(0x925));if(_0x293e0b)_0x293e0b[_0x343d0b(0x707)][_0x343d0b(0x6d1)]('active');if(_0x186101)_0x186101[_0x343d0b(0x707)][_0x343d0b(0x6d1)](_0x343d0b(0x925));topicInputArea[_0x343d0b(0x707)]['remove'](_0x343d0b(0xb5c)),textInputArea[_0x343d0b(0x707)][_0x343d0b(0xbfd)](_0x343d0b(0xb5c)),fileInputArea[_0x343d0b(0x707)][_0x343d0b(0xbfd)](_0x343d0b(0xb5c)),worksheetInputArea['classList']['add']('hidden');if(_0x3d18d2)_0x3d18d2[_0x343d0b(0x707)][_0x343d0b(0xbfd)]('hidden');if(_0x34ab40)_0x34ab40[_0x343d0b(0x707)][_0x343d0b(0xbfd)](_0x343d0b(0xb5c));if(_0x11c523)_0x11c523['classList'][_0x343d0b(0xbfd)](_0x343d0b(0xb5c));}),textTab['addEventListener']('click',()=>{const _0x31ca02=_0x31e5af;textTab[_0x31ca02(0x707)]['add'](_0x31ca02(0x925)),topicTab[_0x31ca02(0x707)]['remove'](_0x31ca02(0x925)),fileTab[_0x31ca02(0x707)]['remove'](_0x31ca02(0x925)),worksheetTab['classList'][_0x31ca02(0x6d1)]('active');if(_0x5c49a5)_0x5c49a5[_0x31ca02(0x707)]['remove'](_0x31ca02(0x925));if(_0x293e0b)_0x293e0b['classList']['remove'](_0x31ca02(0x925));if(_0x186101)_0x186101['classList'][_0x31ca02(0x6d1)](_0x31ca02(0x925));textInputArea[_0x31ca02(0x707)][_0x31ca02(0x6d1)](_0x31ca02(0xb5c)),topicInputArea[_0x31ca02(0x707)][_0x31ca02(0xbfd)]('hidden'),fileInputArea[_0x31ca02(0x707)]['add'](_0x31ca02(0xb5c)),worksheetInputArea['classList'][_0x31ca02(0xbfd)](_0x31ca02(0xb5c));if(_0x3d18d2)_0x3d18d2[_0x31ca02(0x707)][_0x31ca02(0xbfd)](_0x31ca02(0xb5c));if(_0x34ab40)_0x34ab40['classList']['add'](_0x31ca02(0xb5c));if(_0x11c523)_0x11c523[_0x31ca02(0x707)][_0x31ca02(0xbfd)](_0x31ca02(0xb5c));}),fileTab[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x53bd04=_0x31e5af;fileTab[_0x53bd04(0x707)][_0x53bd04(0xbfd)](_0x53bd04(0x925)),topicTab[_0x53bd04(0x707)][_0x53bd04(0x6d1)](_0x53bd04(0x925)),textTab[_0x53bd04(0x707)][_0x53bd04(0x6d1)]('active'),worksheetTab['classList'][_0x53bd04(0x6d1)](_0x53bd04(0x925));if(_0x5c49a5)_0x5c49a5[_0x53bd04(0x707)][_0x53bd04(0x6d1)](_0x53bd04(0x925));if(_0x293e0b)_0x293e0b[_0x53bd04(0x707)][_0x53bd04(0x6d1)](_0x53bd04(0x925));if(_0x186101)_0x186101[_0x53bd04(0x707)][_0x53bd04(0x6d1)](_0x53bd04(0x925));fileInputArea[_0x53bd04(0x707)][_0x53bd04(0x6d1)]('hidden'),topicInputArea[_0x53bd04(0x707)][_0x53bd04(0xbfd)]('hidden'),textInputArea[_0x53bd04(0x707)][_0x53bd04(0xbfd)](_0x53bd04(0xb5c)),worksheetInputArea[_0x53bd04(0x707)]['add'](_0x53bd04(0xb5c));if(_0x3d18d2)_0x3d18d2[_0x53bd04(0x707)][_0x53bd04(0xbfd)](_0x53bd04(0xb5c));if(_0x34ab40)_0x34ab40['classList'][_0x53bd04(0xbfd)](_0x53bd04(0xb5c));if(_0x11c523)_0x11c523['classList'][_0x53bd04(0xbfd)](_0x53bd04(0xb5c));}),worksheetTab[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x53c6fa=_0x31e5af;worksheetTab[_0x53c6fa(0x707)][_0x53c6fa(0xbfd)](_0x53c6fa(0x925)),topicTab[_0x53c6fa(0x707)][_0x53c6fa(0x6d1)]('active'),textTab['classList'][_0x53c6fa(0x6d1)](_0x53c6fa(0x925)),fileTab[_0x53c6fa(0x707)][_0x53c6fa(0x6d1)]('active');if(_0x5c49a5)_0x5c49a5[_0x53c6fa(0x707)][_0x53c6fa(0x6d1)](_0x53c6fa(0x925));if(_0x293e0b)_0x293e0b['classList'][_0x53c6fa(0x6d1)](_0x53c6fa(0x925));if(_0x186101)_0x186101[_0x53c6fa(0x707)][_0x53c6fa(0x6d1)](_0x53c6fa(0x925));worksheetInputArea[_0x53c6fa(0x707)][_0x53c6fa(0x6d1)]('hidden'),topicInputArea['classList']['add']('hidden'),textInputArea['classList'][_0x53c6fa(0xbfd)](_0x53c6fa(0xb5c)),fileInputArea[_0x53c6fa(0x707)]['add']('hidden');if(_0x3d18d2)_0x3d18d2[_0x53c6fa(0x707)][_0x53c6fa(0xbfd)](_0x53c6fa(0xb5c));if(_0x34ab40)_0x34ab40[_0x53c6fa(0x707)][_0x53c6fa(0xbfd)](_0x53c6fa(0xb5c));if(_0x11c523)_0x11c523[_0x53c6fa(0x707)][_0x53c6fa(0xbfd)](_0x53c6fa(0xb5c));});const _0x5d51c=document[_0x31e5af(0x286)](_0x31e5af(0x23e)),_0x35d614=document[_0x31e5af(0x286)](_0x31e5af(0x110));_0x5d51c&&_0x5d51c[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x528513=_0x31e5af;topicTab[_0x528513(0x707)][_0x528513(0x6d1)](_0x528513(0x925)),textTab[_0x528513(0x707)]['remove'](_0x528513(0x925)),fileTab[_0x528513(0x707)][_0x528513(0x6d1)]('active'),worksheetTab[_0x528513(0x707)]['remove'](_0x528513(0x925));if(_0x5c49a5)_0x5c49a5['classList']['remove'](_0x528513(0x925));if(_0x293e0b)_0x293e0b[_0x528513(0x707)][_0x528513(0x6d1)](_0x528513(0x925));if(_0x186101)_0x186101['classList'][_0x528513(0x6d1)](_0x528513(0x925));_0x5d51c[_0x528513(0x707)][_0x528513(0xbfd)](_0x528513(0x925)),topicInputArea[_0x528513(0x707)]['add'](_0x528513(0xb5c)),textInputArea[_0x528513(0x707)][_0x528513(0xbfd)](_0x528513(0xb5c)),fileInputArea[_0x528513(0x707)][_0x528513(0xbfd)](_0x528513(0xb5c)),worksheetInputArea[_0x528513(0x707)][_0x528513(0xbfd)](_0x528513(0xb5c));if(_0x3d18d2)_0x3d18d2['classList'][_0x528513(0xbfd)]('hidden');if(_0x34ab40)_0x34ab40[_0x528513(0x707)][_0x528513(0xbfd)](_0x528513(0xb5c));if(_0x11c523)_0x11c523[_0x528513(0x707)][_0x528513(0xbfd)](_0x528513(0xb5c));_0x35d614[_0x528513(0x707)][_0x528513(0x6d1)](_0x528513(0xb5c)),displayQuestionBank();});_0x5c49a5&&(_0x5c49a5[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x50dc77=_0x31e5af;_0x5c49a5[_0x50dc77(0x707)][_0x50dc77(0xbfd)](_0x50dc77(0x925)),topicTab[_0x50dc77(0x707)][_0x50dc77(0x6d1)](_0x50dc77(0x925)),textTab[_0x50dc77(0x707)][_0x50dc77(0x6d1)](_0x50dc77(0x925)),fileTab[_0x50dc77(0x707)]['remove']('active'),worksheetTab[_0x50dc77(0x707)][_0x50dc77(0x6d1)](_0x50dc77(0x925));if(_0x293e0b)_0x293e0b['classList']['remove']('active');if(_0x186101)_0x186101[_0x50dc77(0x707)][_0x50dc77(0x6d1)](_0x50dc77(0x925));_0x3d18d2['classList'][_0x50dc77(0x6d1)](_0x50dc77(0xb5c)),topicInputArea[_0x50dc77(0x707)][_0x50dc77(0xbfd)](_0x50dc77(0xb5c)),textInputArea['classList'][_0x50dc77(0xbfd)]('hidden'),fileInputArea[_0x50dc77(0x707)]['add'](_0x50dc77(0xb5c)),worksheetInputArea[_0x50dc77(0x707)][_0x50dc77(0xbfd)](_0x50dc77(0xb5c));if(_0x34ab40)_0x34ab40['classList'][_0x50dc77(0xbfd)](_0x50dc77(0xb5c));if(_0x11c523)_0x11c523[_0x50dc77(0x707)][_0x50dc77(0xbfd)]('hidden');}),document['getElementById'](_0x31e5af(0x50d))[_0x31e5af(0x504)](_0x31e5af(0x936),handleGenerateFromLink));_0x293e0b&&_0x293e0b[_0x31e5af(0x504)]('click',()=>{const _0x4090cb=_0x31e5af;_0x293e0b['classList'][_0x4090cb(0xbfd)](_0x4090cb(0x925)),topicTab[_0x4090cb(0x707)][_0x4090cb(0x6d1)](_0x4090cb(0x925)),textTab[_0x4090cb(0x707)][_0x4090cb(0x6d1)](_0x4090cb(0x925)),fileTab['classList'][_0x4090cb(0x6d1)](_0x4090cb(0x925)),worksheetTab[_0x4090cb(0x707)]['remove'](_0x4090cb(0x925));if(_0x5c49a5)_0x5c49a5[_0x4090cb(0x707)][_0x4090cb(0x6d1)](_0x4090cb(0x925));if(_0x5d51c)_0x5d51c[_0x4090cb(0x707)][_0x4090cb(0x6d1)](_0x4090cb(0x925));if(_0x186101)_0x186101[_0x4090cb(0x707)][_0x4090cb(0x6d1)](_0x4090cb(0x925));_0x34ab40[_0x4090cb(0x707)][_0x4090cb(0x6d1)](_0x4090cb(0xb5c)),topicInputArea[_0x4090cb(0x707)][_0x4090cb(0xbfd)](_0x4090cb(0xb5c)),textInputArea['classList'][_0x4090cb(0xbfd)](_0x4090cb(0xb5c)),fileInputArea[_0x4090cb(0x707)]['add'](_0x4090cb(0xb5c)),worksheetInputArea[_0x4090cb(0x707)][_0x4090cb(0xbfd)](_0x4090cb(0xb5c));if(_0x3d18d2)_0x3d18d2[_0x4090cb(0x707)]['add'](_0x4090cb(0xb5c));if(_0x35d614)_0x35d614[_0x4090cb(0x707)][_0x4090cb(0xbfd)](_0x4090cb(0xb5c));if(_0x11c523)_0x11c523[_0x4090cb(0x707)][_0x4090cb(0xbfd)](_0x4090cb(0xb5c));});_0x186101&&_0x186101['addEventListener'](_0x31e5af(0x936),()=>{const _0x1a65bb=_0x31e5af;_0x186101[_0x1a65bb(0x707)][_0x1a65bb(0xbfd)]('active'),topicTab[_0x1a65bb(0x707)][_0x1a65bb(0x6d1)](_0x1a65bb(0x925)),textTab[_0x1a65bb(0x707)][_0x1a65bb(0x6d1)](_0x1a65bb(0x925)),fileTab[_0x1a65bb(0x707)][_0x1a65bb(0x6d1)](_0x1a65bb(0x925)),worksheetTab['classList']['remove']('active');if(_0x5c49a5)_0x5c49a5[_0x1a65bb(0x707)]['remove']('active');if(_0x293e0b)_0x293e0b['classList'][_0x1a65bb(0x6d1)](_0x1a65bb(0x925));if(_0x5d51c)_0x5d51c[_0x1a65bb(0x707)][_0x1a65bb(0x6d1)](_0x1a65bb(0x925));_0x11c523[_0x1a65bb(0x707)][_0x1a65bb(0x6d1)](_0x1a65bb(0xb5c)),topicInputArea[_0x1a65bb(0x707)][_0x1a65bb(0xbfd)](_0x1a65bb(0xb5c)),textInputArea[_0x1a65bb(0x707)][_0x1a65bb(0xbfd)](_0x1a65bb(0xb5c)),fileInputArea[_0x1a65bb(0x707)][_0x1a65bb(0xbfd)](_0x1a65bb(0xb5c)),worksheetInputArea[_0x1a65bb(0x707)]['add'](_0x1a65bb(0xb5c));if(_0x3d18d2)_0x3d18d2['classList'][_0x1a65bb(0xbfd)]('hidden');if(_0x34ab40)_0x34ab40['classList'][_0x1a65bb(0xbfd)](_0x1a65bb(0xb5c));if(_0x35d614)_0x35d614[_0x1a65bb(0x707)][_0x1a65bb(0xbfd)](_0x1a65bb(0xb5c));});const _0x2cf5a7=document[_0x31e5af(0x286)](_0x31e5af(0x1a3)),_0x2c27f4=document[_0x31e5af(0x286)](_0x31e5af(0x4e3));if(_0x2cf5a7){const _0x435736=document[_0x31e5af(0x286)](_0x31e5af(0x1a3)),_0x2eec99=document[_0x31e5af(0x286)](_0x31e5af(0x4e3)),_0x29f690=document[_0x31e5af(0x286)](_0x31e5af(0xe3)),_0x24f40c=document['getElementById'](_0x31e5af(0xc03)),_0x51cb24=document['getElementById']('blueprint-topics-list-container'),_0x9a3c4b=document[_0x31e5af(0x286)](_0x31e5af(0x430));_0x435736&&_0x435736[_0x31e5af(0x504)](_0x31e5af(0x8ec),async _0x584fa6=>{const _0x225c92=_0x31e5af;_0x29f690[_0x225c92(0x707)]['add'](_0x225c92(0xb5c)),_0x51cb24[_0x225c92(0x707)][_0x225c92(0xbfd)](_0x225c92(0xb5c)),_0x24f40c['checked']=![],_0x2eec99['disabled']=!![];const _0x4d7f4b=_0x584fa6[_0x225c92(0x797)][_0x225c92(0xc70)][0x0];if(_0x4d7f4b){_0x2eec99['disabled']=![];try{const _0x3cf174=await extractTextFromPdf(_0x4d7f4b);await analyzeBlueprintForTopics(_0x3cf174);}catch(_0x193d4c){showMessage(_0x225c92(0x44b)),_0x29f690[_0x225c92(0x707)]['add'](_0x225c92(0xb5c));}}}),_0x24f40c&&_0x24f40c[_0x31e5af(0x504)](_0x31e5af(0x8ec),_0x3a6f31=>{const _0x4b31fc=_0x31e5af,_0x1c6522=_0x3a6f31[_0x4b31fc(0x797)][_0x4b31fc(0x50a)];_0x51cb24['classList']['toggle']('hidden',!_0x1c6522),_0x2eec99[_0x4b31fc(0x790)]=_0x1c6522;}),_0x9a3c4b&&(_0x9a3c4b&&_0x9a3c4b[_0x31e5af(0x504)]('click',_0x2e36fa=>{const _0x2e62b5=_0x31e5af,_0x136863=_0x2e36fa['target'][_0x2e62b5(0x5d0)](_0x2e62b5(0xc8f)),_0x13c75a=_0x2e36fa[_0x2e62b5(0x797)][_0x2e62b5(0x5d0)](_0x2e62b5(0xb32));if(_0x136863){const _0x59de4c=unescape(_0x136863[_0x2e62b5(0x24b)]['topic']);generateQuizForSingleTopic(_0x59de4c);}else{if(_0x13c75a){const _0x3040cd=unescape(_0x13c75a['dataset'][_0x2e62b5(0x26f)]);handleGenerateTeachingContent(_0x3040cd);}}}));}_0x2c27f4&&_0x2c27f4[_0x31e5af(0x504)](_0x31e5af(0x936),handleGenerateFromBlueprint);const _0x2f2906=document[_0x31e5af(0x286)](_0x31e5af(0x74)),_0x408ede=document[_0x31e5af(0x286)](_0x31e5af(0x8a3));_0x2f2906&&_0x2f2906[_0x31e5af(0x504)]('change',_0x3e6544=>{const _0x34ec01=_0x31e5af;_0x408ede['disabled']=_0x3e6544[_0x34ec01(0x797)][_0x34ec01(0xc70)][_0x34ec01(0xb81)]===0x0;});_0x408ede&&_0x408ede[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x31e5af(0x504)](_0x31e5af(0x936),handleLoadQuiz),startQuizBtn[_0x31e5af(0x504)](_0x31e5af(0x936),async()=>{const _0x46121e=_0x31e5af,_0x45cc97=document[_0x46121e(0x286)](_0x46121e(0xb31));currentStudentName=_0x45cc97[_0x46121e(0x227)];if(!currentStudentName){showMessage(_0x46121e(0x1fc));return;}try{const _0x13c7db=currentQuizData['id'],_0x24851a=doc(db,_0x46121e(0x47d)+appId+_0x46121e(0xb5b)+_0x13c7db+'/submissions',currentStudentName),_0xae1e1b=await getDoc(_0x24851a);!_0xae1e1b['exists']()?await setDoc(_0x24851a,{'studentName':currentStudentName,'startedAt':new Date()[_0x46121e(0xc66)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x24851a,{'startedAt':new Date()[_0x46121e(0xc66)]()});}catch(_0x7ff5e9){console[_0x46121e(0x4da)]('Failed\x20to\x20create/update\x20submission\x20record:',_0x7ff5e9),showMessage(_0x46121e(0x814));return;}studentNameSelectionView[_0x46121e(0x707)][_0x46121e(0xbfd)](_0x46121e(0xb5c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x31e5af(0x286)]('join-live-game-btn')[_0x31e5af(0x504)](_0x31e5af(0x936),showJoinGameView),document['getElementById'](_0x31e5af(0x30a))[_0x31e5af(0x504)](_0x31e5af(0x936),handleJoinLiveGame),document[_0x31e5af(0x286)](_0x31e5af(0x4ee))[_0x31e5af(0x504)]('click',()=>showView(_0x31e5af(0x509)));const _0xb1ac5f=()=>{const _0x2bd68d=_0x31e5af,_0x22255f=document[_0x2bd68d(0x286)](_0x2bd68d(0x466))[_0x2bd68d(0x10e)]['replace'](/[^a-z0-9]/gi,'_')[_0x2bd68d(0x3f0)]();return _0x2bd68d(0x3ff)+(_0x22255f||_0x2bd68d(0xa8));},_0x41f937=document['getElementById']('math-topic-search-input');_0x41f937&&_0x41f937[_0x31e5af(0x504)]('input',_0x55fb3a=>{const _0x37f6ad=_0x31e5af,_0xdc91d5=_0x55fb3a['target']['value'][_0x37f6ad(0x3f0)]()[_0x37f6ad(0x543)](),_0x238219=document[_0x37f6ad(0x286)](_0x37f6ad(0xca2)),_0x55b1b4=_0x238219[_0x37f6ad(0x640)](_0x37f6ad(0xce0));_0x55b1b4[_0x37f6ad(0x94d)](_0x12823b=>{const _0x39a129=_0x37f6ad;let _0x5e135f=![];const _0x2a381c=_0x12823b[_0x39a129(0x640)](_0x39a129(0xa2c));_0x2a381c['forEach'](_0x39051f=>{const _0x173f3e=_0x39a129,_0x5bc1fb=_0x39051f[_0x173f3e(0x443)](_0x173f3e(0x150))[_0x173f3e(0x10e)][_0x173f3e(0x3f0)]();_0x5bc1fb['includes'](_0xdc91d5)?(_0x39051f[_0x173f3e(0x760)][_0x173f3e(0xb19)]=_0x173f3e(0x1b0),_0x5e135f=!![]):_0x39051f['style'][_0x173f3e(0xb19)]=_0x173f3e(0x5ba);}),_0x5e135f?_0x12823b['style']['display']=_0x39a129(0x755):_0x12823b[_0x39a129(0x760)][_0x39a129(0xb19)]=_0x39a129(0x5ba);});});document[_0x31e5af(0x286)]('export-image-btn')[_0x31e5af(0x504)](_0x31e5af(0x936),()=>exportTableAsImage(_0x31e5af(0x365),_0xb1ac5f())),document[_0x31e5af(0x286)](_0x31e5af(0x76b))[_0x31e5af(0x504)]('click',()=>exportTableAsPDF(_0x31e5af(0xa3b),_0xb1ac5f())),document[_0x31e5af(0x286)](_0x31e5af(0xa97))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>exportTableAsWord(_0x31e5af(0x365),_0xb1ac5f())),document['getElementById'](_0x31e5af(0x73c))[_0x31e5af(0x504)]('click',()=>exportTableAsExcel(_0x31e5af(0xa3b),_0xb1ac5f()));const _0xa2f5b1=()=>{const _0x24cdde=_0x31e5af,_0x146809=document[_0x24cdde(0x286)]('results-quiz-title')['textContent'][_0x24cdde(0xc3b)](/[^a-z0-9]/gi,'_')[_0x24cdde(0x3f0)]();return'leaderboard_'+(_0x146809||_0x24cdde(0xa8));};document[_0x31e5af(0x286)](_0x31e5af(0x5b8))[_0x31e5af(0x504)]('click',()=>exportTableAsImage(_0x31e5af(0x94e),_0xa2f5b1())),document[_0x31e5af(0x286)]('export-leaderboard-pdf-btn')['addEventListener'](_0x31e5af(0x936),()=>exportTableAsPDF('quiz-leaderboard-table',_0xa2f5b1())),document[_0x31e5af(0x286)](_0x31e5af(0xd3e))['addEventListener']('click',()=>exportTableAsWord('quiz-leaderboard-table-container',_0xa2f5b1())),document[_0x31e5af(0x286)]('export-leaderboard-excel-btn')['addEventListener']('click',()=>exportTableAsExcel(_0x31e5af(0xbeb),_0xa2f5b1())),projectQuizzesList[_0x31e5af(0x504)](_0x31e5af(0x936),async _0x2a7868=>{const _0x11e400=_0x31e5af,_0x4249e7=_0x2a7868[_0x11e400(0x797)]['closest'](_0x11e400(0x830)),_0xcc8752=_0x2a7868[_0x11e400(0x797)][_0x11e400(0x5d0)](_0x11e400(0xa61)),_0x5ddece=_0x2a7868[_0x11e400(0x797)][_0x11e400(0x5d0)](_0x11e400(0x41d)),_0x24124b=_0x2a7868[_0x11e400(0x797)][_0x11e400(0x5d0)](_0x11e400(0x372)),_0x888a69=_0x2a7868[_0x11e400(0x797)][_0x11e400(0x5d0)]('.star-quiz-btn'),_0xa7a389=_0x2a7868[_0x11e400(0x797)][_0x11e400(0x5d0)]('.copy-quiz-id-list-btn'),_0x48dd1a=_0x2a7868[_0x11e400(0x797)][_0x11e400(0x5d0)](_0x11e400(0x9a2)),_0x44445c=_0x2a7868[_0x11e400(0x797)][_0x11e400(0x5d0)](_0x11e400(0x45e)),_0x1447b1=_0x2a7868[_0x11e400(0x797)][_0x11e400(0x5d0)](_0x11e400(0xaaf)),_0x3dc414=_0x2a7868[_0x11e400(0x797)][_0x11e400(0x5d0)](_0x11e400(0x889)),_0x187170=_0x2a7868['target'][_0x11e400(0x5d0)]('.parallel-quiz-btn'),_0x102448=_0x2a7868[_0x11e400(0x797)]['closest']('.move-quiz-btn'),_0x4aee15=_0x2a7868['target'][_0x11e400(0x5d0)](_0x11e400(0x8db)),_0x350a09=_0x2a7868[_0x11e400(0x797)][_0x11e400(0x5d0)](_0x11e400(0x79e)),_0x3e4ca2=_0x2a7868[_0x11e400(0x797)][_0x11e400(0x5d0)]('.start-presentation-list-btn'),_0x54b824=_0x2a7868['target']['closest'](_0x11e400(0xba5)),_0x23ee05=_0x2a7868[_0x11e400(0x797)][_0x11e400(0x5d0)](_0x11e400(0x42d)),_0x823c9b=_0x2a7868[_0x11e400(0x797)]['closest'](_0x11e400(0x747)),_0x273c70=_0x2a7868[_0x11e400(0x797)]['closest'](_0x11e400(0x2a8)),_0x4c0611=_0x2a7868['target'][_0x11e400(0x5d0)](_0x11e400(0x40f)),_0x12c8ba=_0x2a7868['target'][_0x11e400(0x5d0)](_0x11e400(0x131)),_0x73ad6d=_0x2a7868[_0x11e400(0x797)]['closest'](_0x11e400(0xa94)),_0x7fd418=_0x2a7868[_0x11e400(0x797)][_0x11e400(0x5d0)](_0x11e400(0x6d4));if(_0x73ad6d){const _0x1fa6e2=_0x73ad6d['dataset'][_0x11e400(0x476)],_0x6048f9=_0x73ad6d[_0x11e400(0x24b)][_0x11e400(0x253)],_0x378276=allQuizzes[_0x11e400(0x7c7)](_0x353e74=>_0x353e74['id']===_0x1fa6e2);_0x378276&&showGameStartConfirmationModal(_0x1fa6e2,_0x6048f9,_0x378276[_0x11e400(0x26f)]);}else{if(_0x7fd418){const _0x124137=_0x7fd418[_0x11e400(0x24b)][_0x11e400(0x476)];handleStartLiveRace(_0x124137);}else{if(_0x4c0611){const _0xcc77aa=_0x4c0611[_0x11e400(0x24b)][_0x11e400(0x476)],_0xcbe18c=document[_0x11e400(0x286)]('actions-container-'+_0xcc77aa);_0xcbe18c&&_0xcbe18c[_0x11e400(0x707)]['toggle']('hidden');}else{if(_0xcc8752){const _0x5a45c0=_0xcc8752[_0x11e400(0x24b)][_0x11e400(0x476)],_0x4ff11c=allQuizzes[_0x11e400(0x7c7)](_0x2e9227=>_0x2e9227['id']===_0x5a45c0);_0x4ff11c&&handleGenerateParallelPostTest(_0x4ff11c);}else{if(_0x5ddece)handleCompareResults(_0x5ddece[_0x11e400(0x24b)][_0x11e400(0x476)],_0x5ddece[_0x11e400(0x24b)][_0x11e400(0x9ae)]);else{if(_0x24124b){const _0x4e3aa9=_0x24124b[_0x11e400(0x24b)]['quizId'],_0xb7bc17=allQuizzes[_0x11e400(0x7c7)](_0x2990fc=>_0x2990fc['id']===_0x4e3aa9);_0xb7bc17&&_0xb7bc17[_0x11e400(0x1d3)]?(displayLessonPlan(_0xb7bc17['lessonPlan'],_0xb7bc17),showConfirmation(_0x11e400(0x7a),()=>handleGenerateLessonPlan(_0x4e3aa9)),document[_0x11e400(0x286)](_0x11e400(0xb09))[_0x11e400(0x443)]('h3')[_0x11e400(0x10e)]='แผนการสอน',document[_0x11e400(0x286)]('confirm-delete-btn')[_0x11e400(0x10e)]='สร้างใหม่'):handleGenerateLessonPlan(_0x4e3aa9);}else{if(_0x888a69)handleToggleStarQuiz(_0x888a69[_0x11e400(0x24b)][_0x11e400(0x476)]);else{if(_0xa7a389)copyTextToClipboard(_0xa7a389['dataset'][_0x11e400(0x476)],_0x11e400(0x6d));else{if(_0x48dd1a)handleOpenQuizEditor(_0x48dd1a[_0x11e400(0x24b)]['quizId']);else{if(_0x44445c)handleQuizSettings(_0x44445c['dataset']['quizId']);else{if(_0x1447b1)handleDuplicateQuiz(_0x1447b1[_0x11e400(0x24b)][_0x11e400(0x476)]);else{if(_0x3dc414)handleRenameQuiz(_0x3dc414[_0x11e400(0x24b)][_0x11e400(0x476)],_0x3dc414[_0x11e400(0x24b)][_0x11e400(0x26f)]);else{if(_0x187170){const _0x5c5bd8=_0x187170[_0x11e400(0x24b)][_0x11e400(0x476)],_0xa845b6=allQuizzes[_0x11e400(0x7c7)](_0xfa2dd5=>_0xfa2dd5['id']===_0x5c5bd8);_0xa845b6&&handleGenerateParallelFromBank(_0xa845b6);}else{if(_0x102448)handleMoveQuiz(_0x102448[_0x11e400(0x24b)]['quizId']);else{if(_0x4aee15)handleManualQuizPairing(_0x4aee15['dataset'][_0x11e400(0x476)]);else{if(_0x350a09)handleUnpairQuiz(_0x350a09[_0x11e400(0x24b)]['quizId']);else{if(_0x3e4ca2){const _0x4e57f6=_0x3e4ca2['dataset'][_0x11e400(0x476)],_0x506dad=allQuizzes[_0x11e400(0x7c7)](_0x8f369c=>_0x8f369c['id']===_0x4e57f6);if(_0x506dad)startPresentation(_0x506dad);}else{if(_0x54b824){const _0x450863=_0x54b824[_0x11e400(0x24b)][_0x11e400(0x476)],_0x30f7fe=allQuizzes['find'](_0x2370f4=>_0x2370f4['id']===_0x450863);_0x30f7fe&&(currentQuizData=_0x30f7fe,startAdminTest());}else{if(_0x23ee05)actionTargetId=_0x23ee05[_0x11e400(0x24b)][_0x11e400(0x476)],document[_0x11e400(0x286)]('export-pdf-modal')[_0x11e400(0x707)]['remove'](_0x11e400(0xb5c));else{if(_0x823c9b)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x823c9b['dataset'][_0x11e400(0x26f)]+_0x11e400(0x72c),()=>handleDeleteQuiz(_0x823c9b[_0x11e400(0x24b)][_0x11e400(0x476)]));else{if(_0x273c70)handleQuizStatus(_0x273c70[_0x11e400(0x24b)][_0x11e400(0x476)]);else{if(_0x12c8ba)handleGenerateEasyVersionQuiz(_0x12c8ba['dataset']['quizId']);else _0x4249e7&&showQuizDetailView(_0x4249e7['dataset'][_0x11e400(0x476)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x31e5af(0x286)](_0x31e5af(0x326))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>showView(_0x31e5af(0x509))),document[_0x31e5af(0x286)]('confirm-team-players-btn')[_0x31e5af(0x504)](_0x31e5af(0x936),confirmAndStartTeamQuiz),document[_0x31e5af(0x286)](_0x31e5af(0xbeb))[_0x31e5af(0x443)]('thead')[_0x31e5af(0x504)](_0x31e5af(0x936),_0x12a13b=>{const _0x540f77=_0x31e5af,_0x99bdfe=_0x12a13b[_0x540f77(0x797)]['closest'](_0x540f77(0xce5));if(!_0x99bdfe||!_0x99bdfe[_0x540f77(0x24b)][_0x540f77(0x276)])return;const _0x38207b=_0x99bdfe[_0x540f77(0x24b)][_0x540f77(0x276)];if(quizLeaderboardSortBy===_0x38207b)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x540f77(0x2bd)?_0x540f77(0x987):_0x540f77(0x2bd);else{quizLeaderboardSortBy=_0x38207b;const _0x45da5a=[_0x540f77(0x9b7)];quizLeaderboardSortOrder=_0x45da5a[_0x540f77(0x613)](_0x38207b)?_0x540f77(0x2bd):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x540f77(0x4a1));}),document[_0x31e5af(0x286)]('close-presentation-btn')[_0x31e5af(0x504)](_0x31e5af(0x936),closePresentation),document[_0x31e5af(0x286)](_0x31e5af(0x7b3))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x31e5af(0x286)](_0x31e5af(0x912))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0xd8d4f6=_0x31e5af;currentQuizData[_0xd8d4f6(0xbc3)]&&currentPresentationSlide<currentQuizData[_0xd8d4f6(0xbc3)][_0xd8d4f6(0xb81)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x31e5af(0x504)](_0x31e5af(0xbd5),()=>{const _0x43ee2d=_0x31e5af;!document[_0x43ee2d(0x49a)]&&(presentationModal['style'][_0x43ee2d(0xb19)]=_0x43ee2d(0x5ba));}),document[_0x31e5af(0x286)](_0x31e5af(0x6d5))[_0x31e5af(0x504)](_0x31e5af(0x936),handleDeleteAllStudents),studentList[_0x31e5af(0x504)](_0x31e5af(0x936),_0x2684ba=>{const _0x5c797c=_0x31e5af,_0xe582ee=_0x2684ba[_0x5c797c(0x797)][_0x5c797c(0x5d0)](_0x5c797c(0x49d));if(_0xe582ee){const _0xe4c4e4=_0xe582ee[_0x5c797c(0x24b)][_0x5c797c(0x9b7)];handleDeleteStudent(_0xe4c4e4);}}),document[_0x31e5af(0x286)](_0x31e5af(0x6e1))['addEventListener'](_0x31e5af(0x936),handleGenerateFromFileClick),fileUploadInput[_0x31e5af(0x504)](_0x31e5af(0x8ec),_0x31d964=>{const _0x327c99=_0x31e5af,_0x83a55c=_0x31d964[_0x327c99(0x797)][_0x327c99(0xc70)][0x0],_0x106816=document[_0x327c99(0x286)](_0x327c99(0x6e1)),_0x413211=document['getElementById'](_0x327c99(0xd09)),_0x357c91=document['getElementById']('separate-by-content-from-file-checkbox');_0x83a55c?(selectedFile=_0x83a55c,_0x357c91[_0x327c99(0x50a)]?(_0x106816[_0x327c99(0x790)]=!![],analyzeFileForTopics(_0x83a55c)):(_0x106816[_0x327c99(0x790)]=![],_0x413211[_0x327c99(0x707)][_0x327c99(0xbfd)](_0x327c99(0xb5c)))):(selectedFile=null,_0x106816[_0x327c99(0x790)]=!![],_0x413211[_0x327c99(0x707)][_0x327c99(0xbfd)](_0x327c99(0xb5c)));}),document['getElementById']('separate-by-content-from-file-checkbox')[_0x31e5af(0x504)](_0x31e5af(0x8ec),_0x573cd0=>{const _0x5c0cd5=_0x31e5af,_0x2d2f6b=_0x573cd0[_0x5c0cd5(0x797)][_0x5c0cd5(0x50a)],_0x27b359=document[_0x5c0cd5(0x286)](_0x5c0cd5(0x6e1)),_0x5a2fa0=document[_0x5c0cd5(0x286)](_0x5c0cd5(0xd09));_0x2d2f6b?(_0x27b359[_0x5c0cd5(0x790)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x5a2fa0[_0x5c0cd5(0x707)]['remove'](_0x5c0cd5(0xb5c)),document[_0x5c0cd5(0x286)](_0x5c0cd5(0x3ee))[_0x5c0cd5(0x6ef)]=_0x5c0cd5(0x40d))):(_0x5a2fa0[_0x5c0cd5(0x707)][_0x5c0cd5(0xbfd)](_0x5c0cd5(0xb5c)),_0x27b359['disabled']=!selectedFile);}),document[_0x31e5af(0x286)](_0x31e5af(0xd09))['addEventListener'](_0x31e5af(0x936),_0x506430=>{const _0x1936e6=_0x31e5af,_0x578fbc=_0x506430[_0x1936e6(0x797)][_0x1936e6(0x5d0)](_0x1936e6(0xcff)),_0x7fab22=_0x506430['target'][_0x1936e6(0x5d0)](_0x1936e6(0xb32));if(_0x578fbc){const _0x1c1ddd=unescape(_0x578fbc[_0x1936e6(0x24b)][_0x1936e6(0x26f)]);generateHybridQuizForTopic(_0x1c1ddd);}else{if(_0x7fab22){const _0x57ecac=unescape(_0x7fab22[_0x1936e6(0x24b)][_0x1936e6(0x26f)]),_0x26020a=document[_0x1936e6(0x286)](_0x1936e6(0x50e))[_0x1936e6(0x227)];handleGenerateAndShowLesson(_0x57ecac,_0x26020a);}}}),document[_0x31e5af(0x286)](_0x31e5af(0x270))[_0x31e5af(0x504)](_0x31e5af(0x8ec),_0x4a8dd5=>{const _0x2be58f=_0x31e5af,_0x3547c1=document[_0x2be58f(0x286)]('timer-duration-container'),_0x35b766=document[_0x2be58f(0x286)](_0x2be58f(0xc89)),_0x73fd1a=document[_0x2be58f(0x286)]('timer-duration-input');_0x4a8dd5['target'][_0x2be58f(0x227)]===_0x2be58f(0x5ba)?_0x3547c1[_0x2be58f(0x707)][_0x2be58f(0xbfd)](_0x2be58f(0xb5c)):(_0x3547c1[_0x2be58f(0x707)][_0x2be58f(0x6d1)](_0x2be58f(0xb5c)),_0x4a8dd5['target'][_0x2be58f(0x227)]===_0x2be58f(0x14b)?(_0x35b766['textContent']=_0x2be58f(0x95c),_0x73fd1a[_0x2be58f(0x227)]='10'):(_0x35b766[_0x2be58f(0x10e)]=_0x2be58f(0x4b7),_0x73fd1a[_0x2be58f(0x227)]='30'));}),document[_0x31e5af(0x286)](_0x31e5af(0xd2b))[_0x31e5af(0x504)](_0x31e5af(0x8ec),_0x28596c=>{const _0x5b38d0=_0x31e5af,_0x998673=document[_0x5b38d0(0x286)]('num-choices-container'),_0x2e3859=_0x28596c['target']['value'],_0x336dd8=document['querySelector'](_0x5b38d0(0x9d5)),_0x339d5b=document[_0x5b38d0(0x286)]('passing-score-input'),_0x230bda=document['getElementById']('num-questions');_0x2e3859===_0x5b38d0(0x471)?_0x336dd8['textContent']='จำนวนคู่:':_0x336dd8[_0x5b38d0(0x10e)]=_0x5b38d0(0xb8c),_0x2e3859===_0x5b38d0(0xb86)||_0x2e3859==='fill_in_with_choices'||_0x2e3859===_0x5b38d0(0x11b)?_0x998673[_0x5b38d0(0x707)][_0x5b38d0(0x6d1)]('hidden'):_0x998673[_0x5b38d0(0x707)][_0x5b38d0(0xbfd)](_0x5b38d0(0xb5c)),_0x339d5b['max']=_0x230bda[_0x5b38d0(0x227)];}),document[_0x31e5af(0x286)](_0x31e5af(0x4fe))[_0x31e5af(0x504)](_0x31e5af(0x4df),_0x524da9=>{const _0x2ec6b2=_0x31e5af;document['getElementById'](_0x2ec6b2(0xb0))['max']=_0x524da9[_0x2ec6b2(0x797)]['value'];}),document[_0x31e5af(0x286)](_0x31e5af(0xd42))['addEventListener'](_0x31e5af(0x8ec),_0x1351eb=>{const _0xf5eb50=_0x31e5af,_0x552df7=document[_0xf5eb50(0x286)](_0xf5eb50(0x351)),_0x5423df=document[_0xf5eb50(0x286)](_0xf5eb50(0x182)),_0x127696=document[_0xf5eb50(0x286)](_0xf5eb50(0xce4));_0x1351eb[_0xf5eb50(0x797)][_0xf5eb50(0x227)]===_0xf5eb50(0x5ba)?_0x552df7[_0xf5eb50(0x707)][_0xf5eb50(0xbfd)](_0xf5eb50(0xb5c)):(_0x552df7[_0xf5eb50(0x707)]['remove'](_0xf5eb50(0xb5c)),_0x1351eb[_0xf5eb50(0x797)][_0xf5eb50(0x227)]===_0xf5eb50(0x14b)?_0x5423df['textContent']=_0xf5eb50(0x95c):_0x5423df[_0xf5eb50(0x10e)]=_0xf5eb50(0x4b7));}),document[_0x31e5af(0x286)](_0x31e5af(0x922))[_0x31e5af(0x504)]('click',()=>{const _0x34045f=_0x31e5af;document[_0x34045f(0x286)](_0x34045f(0x9f4))[_0x34045f(0x707)][_0x34045f(0xbfd)]('hidden');}),document['getElementById'](_0x31e5af(0x66f))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x54d841=_0x31e5af;document[_0x54d841(0x286)](_0x54d841(0x9f4))[_0x54d841(0x707)]['add']('hidden');}),document[_0x31e5af(0x286)](_0x31e5af(0x42f))[_0x31e5af(0x504)]('click',handleVerifyAnswersInEditor),document[_0x31e5af(0x286)]('save-quiz-edits-btn')[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x51b489=_0x31e5af;document[_0x51b489(0x286)](_0x51b489(0x9f4))['classList'][_0x51b489(0xbfd)](_0x51b489(0xb5c)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document['getElementById'](_0x31e5af(0x67c))[_0x31e5af(0x504)]('click',handleAutoFixLatex);const _0x4408f9=document[_0x31e5af(0x286)](_0x31e5af(0x138));_0x4408f9&&_0x4408f9['addEventListener'](_0x31e5af(0x936),_0x36ac48=>{const _0x55ae0e=_0x31e5af,_0x93fb8b=_0x36ac48[_0x55ae0e(0x797)][_0x55ae0e(0x5d0)]('.regenerate-question-editor-btn');if(_0x93fb8b){const _0x59a6ee=_0x93fb8b['closest'](_0x55ae0e(0x993)),_0x46aa44=parseInt(_0x59a6ee[_0x55ae0e(0x24b)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x46aa44);return;}const _0x23b98c=_0x36ac48[_0x55ae0e(0x797)][_0x55ae0e(0x5d0)](_0x55ae0e(0x86));if(_0x23b98c){const _0x247184=_0x23b98c[_0x55ae0e(0x5d0)](_0x55ae0e(0x993)),_0x38a623=parseInt(_0x247184[_0x55ae0e(0x24b)]['qIndex'],0xa);handleDeleteQuestionInEditor(_0x38a623);return;}const _0x5648cb=_0x36ac48['target']['closest'](_0x55ae0e(0x35c));if(_0x5648cb){handleAddQuestionInEditor();return;}});document[_0x31e5af(0x286)](_0x31e5af(0x384))[_0x31e5af(0x504)]('click',openQuizBankModal),document[_0x31e5af(0x286)](_0x31e5af(0x1e9))['addEventListener'](_0x31e5af(0x936),()=>{const _0x18330b=_0x31e5af;document[_0x18330b(0x286)](_0x18330b(0x88))[_0x18330b(0x707)][_0x18330b(0xbfd)](_0x18330b(0xb5c));}),document[_0x31e5af(0x286)](_0x31e5af(0x84))['addEventListener'](_0x31e5af(0x4df),_0x474ad5=>renderQuizBankList(_0x474ad5[_0x31e5af(0x797)][_0x31e5af(0x227)]));const _0x1aa9f2=document[_0x31e5af(0x286)](_0x31e5af(0xca2));if(_0x1aa9f2){let _0xa4c845=null;_0x1aa9f2[_0x31e5af(0x504)](_0x31e5af(0x936),_0x29780c=>{const _0x44611e=_0x31e5af,_0x3c435c=_0x29780c[_0x44611e(0x797)],_0x74520c=_0x3c435c['closest'](_0x44611e(0xcf1)),_0x3e8acb=_0x3c435c[_0x44611e(0x5d0)]('.delete-custom-topic-btn'),_0x3a7931=_0x3c435c['closest'](_0x44611e(0x497)),_0x4b1b83=_0x3c435c[_0x44611e(0x5d0)](_0x44611e(0x41e));if(_0x3e8acb){_0x29780c[_0x44611e(0x5be)]();const _0x5d8178=_0x3e8acb[_0x44611e(0x24b)]['id'],_0x482863=_0x3e8acb[_0x44611e(0x5d0)](_0x44611e(0xa44))[_0x44611e(0x443)]('.topic-name-display')[_0x44611e(0x10e)];showConfirmation(_0x44611e(0x162)+_0x482863+'\x22?',()=>handleDeleteCustomTopic(_0x5d8178));}else{if(_0x74520c){_0x29780c[_0x44611e(0x5be)]();_0xa4c845&&toggleTopicEditMode(_0xa4c845,![]);const _0x1c2101=_0x74520c[_0x44611e(0x5d0)](_0x44611e(0x9a6));_0xa4c845=_0x1c2101,toggleTopicEditMode(_0x1c2101,!![]);}else{if(_0x3a7931){_0x29780c[_0x44611e(0x5be)]();const _0x13a5cc=_0x3a7931[_0x44611e(0x24b)]['id'],_0x5b6f19=_0x3a7931[_0x44611e(0x5d0)](_0x44611e(0x9a6)),_0x4e4fb8=_0x5b6f19[_0x44611e(0x443)](_0x44611e(0xbbd))[_0x44611e(0x227)];handleUpdateCustomTopic(_0x13a5cc,_0x4e4fb8),_0xa4c845=null;}else{if(_0x4b1b83){_0x29780c[_0x44611e(0x5be)]();const _0x19f172=_0x4b1b83[_0x44611e(0x5d0)](_0x44611e(0x9a6));toggleTopicEditMode(_0x19f172,![]),_0xa4c845=null;}}}}}),document[_0x31e5af(0x286)](_0x31e5af(0x233))[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x504e02=_0x31e5af;document[_0x504e02(0x286)]('lesson-plan-modal')[_0x504e02(0x707)]['add'](_0x504e02(0xb5c));}),document['getElementById'](_0x31e5af(0x1fb))['addEventListener'](_0x31e5af(0x936),()=>{const _0x73cd84=_0x31e5af;document[_0x73cd84(0x286)](_0x73cd84(0x6bc))['classList'][_0x73cd84(0xbfd)](_0x73cd84(0xb5c));}),document[_0x31e5af(0x286)](_0x31e5af(0xb98))[_0x31e5af(0x504)](_0x31e5af(0x936),handleExportLessonPDF);}document[_0x31e5af(0x286)]('close-comparison-modal-btn')[_0x31e5af(0x504)](_0x31e5af(0x936),()=>{const _0x519166=_0x31e5af;document[_0x519166(0x286)](_0x519166(0xbd1))[_0x519166(0x707)]['add'](_0x519166(0xb5c));}),document[_0x31e5af(0x286)](_0x31e5af(0x3d4))['addEventListener'](_0x31e5af(0x936),()=>{const _0x10bfaf=_0x31e5af;document[_0x10bfaf(0x286)](_0x10bfaf(0xbd1))[_0x10bfaf(0x707)][_0x10bfaf(0xbfd)](_0x10bfaf(0xb5c));}),setupComparisonModalTabs(),document['body'][_0x31e5af(0x504)]('click',function(_0x26f8e7){const _0x1b311b=_0x31e5af;if(_0x26f8e7[_0x1b311b(0x797)][_0x1b311b(0x707)]['contains'](_0x1b311b(0x52c))){const _0x3b4bee=unescape(_0x26f8e7[_0x1b311b(0x797)][_0x1b311b(0x24b)][_0x1b311b(0x26f)]);startSkillPractice(_0x3b4bee);}}),document[_0x31e5af(0x286)]('scores-tab-content')[_0x31e5af(0x504)](_0x31e5af(0x936),_0x375802=>{const _0x19a7ad=_0x31e5af,_0x5cc557=_0x375802[_0x19a7ad(0x797)][_0x19a7ad(0x5d0)]('.delete-submission-btn');if(_0x5cc557){const _0xc3806b=_0x5cc557['dataset']['studentName'];handleDeleteSubmission(_0xc3806b);}});}async function handleStartGroupMode(_0x585c40,_0x1712ad=![]){const _0x58a058=_0x45c2ac,_0x4bc0a0=allQuizzes['find'](_0x38e6c9=>_0x38e6c9['id']===_0x585c40)||allQuizzesGlobal[_0x58a058(0x7c7)](_0x34787e=>_0x34787e['id']===_0x585c40);if(!_0x4bc0a0){showMessage(_0x58a058(0x989));return;}currentQuizData=getShuffledQuiz(_0x4bc0a0);const _0xd7eade=Math[_0x58a058(0xb7e)](0x3e8+Math['random']()*0x2328)['toString']();try{const _0x5ea360=await addDoc(collection(db,_0x58a058(0x47d)+appId+_0x58a058(0x8fc)),{'quizId':_0x4bc0a0['id'],'projectId':_0x4bc0a0[_0x58a058(0x12d)],'status':_0x58a058(0x659),'pin':_0xd7eade,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1712ad});currentTeamQuizId=_0x5ea360['id'],showView(_0x58a058(0x6cd)),renderAdminTeamQuizDashboard(_0xd7eade,_0x4bc0a0[_0x58a058(0x26f)],_0x58a058(0xc6f)),listenForTeamQuizUpdates();}catch(_0x4668a9){console[_0x58a058(0x4da)](_0x58a058(0x626),_0x4668a9),showMessage(_0x58a058(0xb78));}}async function showStudentProgressView(){const _0x189092=_0x45c2ac;studentInitialView[_0x189092(0x707)][_0x189092(0xbfd)](_0x189092(0xb5c)),document[_0x189092(0x286)]('student-progress-view')[_0x189092(0x707)]['remove'](_0x189092(0xb5c));const _0x67a2e8=document[_0x189092(0x286)](_0x189092(0x7db)),_0x41f31c=document[_0x189092(0x286)]('progress-student-select'),_0x31157a=document[_0x189092(0x286)](_0x189092(0x5b1));_0x31157a[_0x189092(0x6ef)]=_0x189092(0x37f),_0x41f31c[_0x189092(0x6ef)]=_0x189092(0x878),_0x41f31c[_0x189092(0x790)]=!![],_0x67a2e8[_0x189092(0x6ef)]=_0x189092(0xce7);if(allProjects[_0x189092(0xb81)]===0x0){const _0x3a673d=collection(db,_0x189092(0x47d)+appId+_0x189092(0x99f)),_0x436cba=await getDocs(_0x3a673d);allProjects=_0x436cba[_0x189092(0x22c)][_0x189092(0x764)](_0x3bd972=>({'id':_0x3bd972['id'],..._0x3bd972[_0x189092(0x10a)]()}));}const _0xbf4e1=allProjects[_0x189092(0x624)](_0x1130a4=>_0x1130a4[_0x189092(0x125)]?.[_0x189092(0x556)]!==![]);_0xbf4e1[_0x189092(0x276)]((_0x43c92d,_0x578361)=>_0x43c92d[_0x189092(0xc49)][_0x189092(0xc52)](_0x578361[_0x189092(0xc49)],'th')),_0x67a2e8['innerHTML']=_0x189092(0xb1e)+_0xbf4e1[_0x189092(0x764)](_0x19bfbe=>_0x189092(0xba2)+_0x19bfbe['id']+'\x22>'+_0x19bfbe[_0x189092(0xc49)]+_0x189092(0x978))['join'](''),_0x67a2e8['onchange']=()=>{const _0x158582=_0x189092,_0xed8588=_0x41f31c[_0x158582(0x227)],_0x57982e=_0x67a2e8['value'];_0x41f31c['disabled']=!![],_0x41f31c[_0x158582(0x6ef)]=_0x158582(0x878),_0x31157a['innerHTML']=_0x158582(0xae0);if(!_0x57982e)return;const _0xe91068=allProjects[_0x158582(0x7c7)](_0x10dc3c=>_0x10dc3c['id']===_0x57982e);if(!_0xe91068||!_0xe91068['students'])return;const _0x23e9e3=()=>{const _0x3e2593=_0x158582;_0x41f31c['innerHTML']=_0x3e2593(0x878)+_0xe91068[_0x3e2593(0xcaf)][_0x3e2593(0x764)](_0x583fc0=>_0x3e2593(0xba2)+_0x583fc0+'\x22>'+_0x583fc0+_0x3e2593(0x978))[_0x3e2593(0x6da)](''),_0x41f31c[_0x3e2593(0x790)]=![];const _0x313fa7=Array['from'](_0x41f31c[_0x3e2593(0xa07)])[_0x3e2593(0x764)](_0x3cc0ed=>_0x3cc0ed[_0x3e2593(0x227)]);if(_0xed8588&&_0x313fa7[_0x3e2593(0x613)](_0xed8588))_0x41f31c[_0x3e2593(0x227)]=_0xed8588,_0x41f31c[_0x3e2593(0x547)](new Event(_0x3e2593(0x8ec)));else _0xe91068['students'][_0x3e2593(0xb81)]===0x1&&(_0x41f31c[_0x3e2593(0x227)]=_0xe91068[_0x3e2593(0xcaf)][0x0],_0x41f31c[_0x3e2593(0x547)](new Event(_0x3e2593(0x8ec))));};if(_0xe91068[_0x158582(0x125)]?.[_0x158582(0xa93)]){if(sessionStorage[_0x158582(0x462)]('authed_project_'+_0x57982e)===_0x158582(0x160)){_0x23e9e3();return;}const _0x391304=document['getElementById'](_0x158582(0x9b8)),_0x48704f=document[_0x158582(0x286)](_0x158582(0x37e)),_0x1b13be=document[_0x158582(0x286)](_0x158582(0x6b8)),_0x218502=document['getElementById']('student-passcode-input'),_0x5cee71=document[_0x158582(0x286)](_0x158582(0x204));document['getElementById']('passcode-prompt-message')[_0x158582(0x10e)]=_0x158582(0xc73)+_0xe91068[_0x158582(0xc49)],_0x218502[_0x158582(0x227)]='',_0x5cee71[_0x158582(0x707)][_0x158582(0xbfd)](_0x158582(0xb5c)),_0x391304[_0x158582(0x707)][_0x158582(0x6d1)](_0x158582(0xb5c));const _0x341b77=()=>{const _0x1cdcb2=_0x158582,_0x2c86e9=_0x218502[_0x1cdcb2(0x227)]['trim']();_0x2c86e9===_0xe91068['settings'][_0x1cdcb2(0x721)]?(sessionStorage[_0x1cdcb2(0x6bd)]('authed_project_'+_0x57982e,_0x1cdcb2(0x160)),_0x391304[_0x1cdcb2(0x707)][_0x1cdcb2(0xbfd)](_0x1cdcb2(0xb5c)),_0x23e9e3(),_0x48704f[_0x1cdcb2(0xb74)](_0x1cdcb2(0x936),_0x341b77)):_0x5cee71[_0x1cdcb2(0x707)]['remove'](_0x1cdcb2(0xb5c));};_0x48704f['onclick']=_0x341b77,_0x1b13be[_0x158582(0x2d8)]=()=>{const _0x2cfc7f=_0x158582;_0x391304['classList'][_0x2cfc7f(0xbfd)](_0x2cfc7f(0xb5c)),_0x67a2e8['value']='',_0x48704f[_0x2cfc7f(0xb74)](_0x2cfc7f(0x936),_0x341b77);};}else _0x23e9e3();},_0x41f31c[_0x189092(0x52b)]=()=>{const _0x56920e=_0x189092,_0x3c6d70=_0x67a2e8[_0x56920e(0x227)],_0x4db49b=_0x41f31c['value'];_0x3c6d70&&_0x4db49b&&renderStudentProgressDashboard(_0x3c6d70,_0x4db49b);};}async function confirmAndJoinSyncGame(){const _0x174007=_0x45c2ac;lastSeenQuestionIndex=-0x1,sessionStorage['removeItem'](_0x174007(0xca5)),sessionStorage[_0x174007(0xca1)](_0x174007(0x45c)),sessionStorage['removeItem'](_0x174007(0xca5)),Object[_0x174007(0xb99)](sessionStorage)['forEach'](_0x2511c7=>{const _0x2cec08=_0x174007;(_0x2511c7[_0x2cec08(0x4ba)](_0x2cec08(0x751))||_0x2511c7[_0x2cec08(0x4ba)](_0x2cec08(0x4de))||_0x2511c7[_0x2cec08(0x4ba)](_0x2cec08(0x63e)))&&sessionStorage[_0x2cec08(0xca1)](_0x2511c7);});const _0x7f0e83=Array[_0x174007(0xba1)](document[_0x174007(0x640)](_0x174007(0x316)))[_0x174007(0x764)](_0x61f7a2=>_0x61f7a2[_0x174007(0x227)]);if(_0x7f0e83[_0x174007(0xb81)]===0x0){showMessage(_0x174007(0x8b6));return;}localTeamPlayers=_0x7f0e83,localPlayerTurnIndex=0x0;const _0x5a42c6=doc(db,_0x174007(0x47d)+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x4eb021=await getDoc(_0x5a42c6);if(!_0x4eb021[_0x174007(0x6cc)]())throw new Error(_0x174007(0xa5d));const _0x1283de=_0x4eb021[_0x174007(0x10a)](),_0x306688=_0x1283de[_0x174007(0xba)]||_0x174007(0xaee),_0x44609e={};_0x7f0e83['forEach'](_0x3ead2a=>{const _0x2ddbf7=_0x174007,_0x3e36e7=_0x1283de[_0x2ddbf7(0x92e)][_0x3ead2a];if(_0x3e36e7){console['log'](_0x2ddbf7(0xccc)+_0x3ead2a+_0x2ddbf7(0x360)),_0x44609e['players.'+_0x3ead2a+_0x2ddbf7(0xc2f)]=_0x2ddbf7(0x925);const _0x16e968=_0x3e36e7[_0x2ddbf7(0x8a5)]?.[_0x3e36e7['answers']['length']-0x1],_0x4bc3a5=!!(_0x16e968&&_0x16e968[_0x2ddbf7(0xa05)]===_0x1283de[_0x2ddbf7(0x895)]);_0x44609e[_0x2ddbf7(0x3df)+_0x3ead2a+_0x2ddbf7(0xd1a)]=_0x4bc3a5;}else{console[_0x2ddbf7(0x241)](_0x2ddbf7(0x76)+_0x3ead2a+_0x2ddbf7(0x857));const _0x1dd70a={'name':_0x3ead2a,'score':0x0,'totalPoints':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0},'answered':![],'status':_0x2ddbf7(0x925),'answers':[]};_0x306688===_0x2ddbf7(0x4c5)&&(typeof STARTING_LIVES!=='undefined'?_0x1dd70a[_0x2ddbf7(0x980)]=STARTING_LIVES:(console[_0x2ddbf7(0x4da)](_0x2ddbf7(0x675)),_0x1dd70a['lives']=0x3)),_0x44609e[_0x2ddbf7(0x3df)+_0x3ead2a]=_0x1dd70a;}}),await updateDoc(_0x5a42c6,_0x44609e),showView('live-game'),document[_0x174007(0x286)](_0x174007(0x186))[_0x174007(0x707)][_0x174007(0xbfd)](_0x174007(0xb5c)),currentStudentName=_0x7f0e83[0x0],listenForSyncGameUpdates();const _0x3f3bf7={'gameId':currentLiveGameId,'mode':_0x174007(0x55c),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x174007(0x5dc),JSON[_0x174007(0x2d7)](_0x3f3bf7)),currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener']('fullscreenchange',handleFullscreenChange),document['addEventListener'](_0x174007(0x9af),handleVisibilityChange),enterFullscreen(),window[_0x174007(0x504)]('mousemove',resetDimTimer),window[_0x174007(0x504)](_0x174007(0x8c5),resetDimTimer),window[_0x174007(0x504)](_0x174007(0x79f),resetDimTimer),window[_0x174007(0x504)](_0x174007(0x503),resetDimTimer),resetDimTimer());}catch(_0x34f209){console[_0x174007(0x4da)](_0x174007(0xd0f),_0x34f209),showMessage(_0x174007(0x90f)+_0x34f209['message']);}}async function resumeActiveGameSession(){const _0x4b6f84=_0x45c2ac,_0x4ab184=sessionStorage[_0x4b6f84(0x462)](_0x4b6f84(0x5dc));if(!_0x4ab184)return;const _0x252b77=JSON[_0x4b6f84(0x8dc)](_0x4ab184),{gameId:_0x20cbb4,mode:_0x1031ad,role:_0x3b6615,players:_0x275d31,turnIndex:_0x4bfa6b}=_0x252b77;try{if(_0x3b6615===_0x4b6f84(0x11d)&&_0x1031ad===_0x4b6f84(0x55c)){const _0x19b900=doc(db,_0x4b6f84(0x47d)+appId+'/public/data/syncGames',_0x20cbb4),_0x38c07e=await getDoc(_0x19b900);if(!_0x38c07e[_0x4b6f84(0x6cc)]()||_0x38c07e[_0x4b6f84(0x10a)]()[_0x4b6f84(0xc3e)]===_0x4b6f84(0x8f6)||_0x38c07e[_0x4b6f84(0x10a)]()['status']===_0x4b6f84(0x8b5)){sessionStorage[_0x4b6f84(0xca1)]('activeGameSession');return;}console[_0x4b6f84(0x241)]('กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20'+_0x20cbb4+')'),currentMode=_0x4b6f84(0x11d),currentLiveGameId=_0x20cbb4,currentQuizData=_0x38c07e['data']()['shuffledQuiz'],showView(_0x4b6f84(0x6cd)),listenForSyncGameUpdates();}else{if(_0x1031ad===_0x4b6f84(0x55c)&&_0x275d31){const _0xb14600=doc(db,_0x4b6f84(0x47d)+appId+_0x4b6f84(0x817),_0x20cbb4),_0x2a1c7c=await getDoc(_0xb14600);if(!_0x2a1c7c['exists']()||_0x2a1c7c[_0x4b6f84(0x10a)]()[_0x4b6f84(0xc3e)]===_0x4b6f84(0x8f6)||_0x2a1c7c[_0x4b6f84(0x10a)]()['status']===_0x4b6f84(0x8b5)){sessionStorage[_0x4b6f84(0xca1)](_0x4b6f84(0x5dc));return;}console['log'](_0x4b6f84(0x525)+_0x20cbb4+')'),currentLiveGameId=_0x20cbb4,currentStudentName=_0x275d31[0x0],localTeamPlayers=_0x275d31,showView(_0x4b6f84(0x6cd)),listenForSyncGameUpdates();}else{if((_0x1031ad==='team'||_0x1031ad===_0x4b6f84(0xc6f))&&_0x275d31){const _0x826f97=doc(db,'artifacts/'+appId+_0x4b6f84(0x8fc),_0x20cbb4),_0x29cf95=await getDoc(_0x826f97);if(!_0x29cf95[_0x4b6f84(0x6cc)]()||_0x29cf95['data']()['status']===_0x4b6f84(0x8f6)||_0x29cf95[_0x4b6f84(0x10a)]()[_0x4b6f84(0xc3e)]===_0x4b6f84(0x8b5)){sessionStorage[_0x4b6f84(0xca1)](_0x4b6f84(0x5dc));return;}console['log'](_0x4b6f84(0x5f3)+_0x1031ad+_0x4b6f84(0x8a7)+_0x20cbb4+')'),currentTeamQuizId=_0x20cbb4,localTeamPlayers=_0x275d31,localQuestionIndex=_0x252b77['questionIndex']||0x0,localPlayerIndex=_0x252b77[_0x4b6f84(0x207)]||0x0;const _0x4c13ba=_0x29cf95[_0x4b6f84(0x10a)](),_0xbfd47a=doc(db,_0x4b6f84(0x47d)+appId+_0x4b6f84(0x5d7),_0x4c13ba['quizId']),_0x586135=await getDoc(_0xbfd47a);_0x586135[_0x4b6f84(0x6cc)]()&&(currentQuizData=getShuffledQuiz({'id':_0x586135['id'],..._0x586135[_0x4b6f84(0x10a)]()}),showView(_0x4b6f84(0x509)),studentInitialView['classList']['add']('hidden'),_0x1031ad===_0x4b6f84(0xc6f)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x584e78){console[_0x4b6f84(0x4da)](_0x4b6f84(0x5ad),_0x584e78),sessionStorage['removeItem']('activeGameSession');}}async function handleUsePowerup(_0x2a9e4d,_0x192d95,_0x577099,_0x145fb7,_0x28560e){const _0x1b25c3=_0x45c2ac,_0x118b05=_0x145fb7[_0x1b25c3(0x895)],_0x316c18=_0x1b25c3(0x4de)+_0x118b05+'_p'+_0x2a9e4d,_0x3a151b=sessionStorage[_0x1b25c3(0x462)](_0x316c18);if(_0x3a151b&&_0x192d95!==_0x1b25c3(0x58f)){showMessage(_0x1b25c3(0x532));const _0x484934=document[_0x1b25c3(0x286)](_0x1b25c3(0xc9e)+_0x192d95);if(_0x484934)_0x484934[_0x1b25c3(0x790)]=![];return;}const _0x3cbd3d=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);try{await runTransaction(db,async _0x275817=>{const _0x28641c=_0x1b25c3,_0x59f054=await _0x275817[_0x28641c(0x909)](_0x3cbd3d);if(!_0x59f054[_0x28641c(0x6cc)]())throw _0x28641c(0x406);const _0x4a6940=_0x59f054[_0x28641c(0x10a)](),_0x54d5a7=_0x4a6940[_0x28641c(0x92e)][_0x2a9e4d]?.['powerups']||{},_0x25beb7=_0x54d5a7[_0x192d95]||0x0;if(_0x25beb7<=0x0)throw _0x28641c(0x8d2);const _0x9ea7ad={};_0x9ea7ad[_0x28641c(0x3df)+_0x2a9e4d+_0x28641c(0x1ba)+_0x192d95]=increment(-0x1);if(_0x192d95==='buyTime'){const _0x2ef843=(_0x145fb7[_0x28641c(0x80b)]||0xf0)*0x3e8,_0x231d8a=_0x2ef843*0.25;_0x9ea7ad[_0x28641c(0x3df)+_0x2a9e4d+_0x28641c(0xa9a)]=increment(_0x231d8a);}_0x275817[_0x28641c(0xacb)](_0x3cbd3d,_0x9ea7ad);});_0x192d95===_0x1b25c3(0x126)&&sessionStorage[_0x1b25c3(0x6bd)](_0x1b25c3(0xca5),_0x1b25c3(0x160));if(_0x192d95!==_0x1b25c3(0x58f)){const _0x592da4=_0x145fb7['currentQuestionIndex'],_0x2d1527=_0x1b25c3(0x4de)+_0x592da4+'_p'+_0x2a9e4d;sessionStorage[_0x1b25c3(0x6bd)](_0x2d1527,_0x192d95);}applyPowerupEffect(_0x2a9e4d,_0x192d95,_0x577099,_0x145fb7,_0x28560e);}catch(_0x199fe8){console[_0x1b25c3(0x4da)](_0x1b25c3(0x5ae),_0x199fe8),showMessage(typeof _0x199fe8==='string'?_0x199fe8:_0x1b25c3(0xd0b));const _0x2c8971=document['getElementById'](_0x1b25c3(0xc9e)+_0x192d95);if(_0x2c8971)_0x2c8971[_0x1b25c3(0x790)]=![];}}function applyPowerupEffect(_0x2a4f32,_0x192ff4,_0x447073,_0x122506,_0x466e4a){const _0x2e6bb7=_0x45c2ac,_0x1386b1=_0x447073;switch(_0x192ff4){case'poll':const _0x5b911d=Object['values'](_0x122506[_0x2e6bb7(0x92e)]||{}),_0x262e86=_0x5b911d[_0x2e6bb7(0x624)](_0xdd1d72=>{const _0x10f08c=_0x2e6bb7,_0x4bbd78=(_0xdd1d72[_0x10f08c(0x8a5)]||[])['find'](_0x4216c9=>_0x4216c9[_0x10f08c(0xa05)]===_0x122506[_0x10f08c(0x895)]);return _0x4bbd78!==undefined;}),_0x11940e=_0x262e86[_0x2e6bb7(0xb81)];if(_0x11940e===0x0){showMessage(_0x2e6bb7(0x2fb));return;}const _0x2a4c0d={};(_0x447073[_0x2e6bb7(0xa07)]||[])[_0x2e6bb7(0x94d)]((_0x10da96,_0x29333e)=>{_0x2a4c0d[_0x29333e]=0x0;}),_0x262e86[_0x2e6bb7(0x94d)](_0xe661a7=>{const _0x292aab=_0x2e6bb7,_0x4d39b2=(_0xe661a7[_0x292aab(0x8a5)]||[])[_0x292aab(0x7c7)](_0x2593bb=>_0x2593bb['questionIndex']===_0x122506[_0x292aab(0x895)]);_0x4d39b2&&_0x2a4c0d[_0x4d39b2[_0x292aab(0xa53)]]!==undefined&&_0x2a4c0d[_0x4d39b2[_0x292aab(0xa53)]]++;});let _0x4c0cb0='📊\x20สถิติการตอบ\x20(จากผู้เล่นที่ตอบแล้ว):\x0a\x0a';Object[_0x2e6bb7(0xad3)](_0x2a4c0d)[_0x2e6bb7(0x94d)](([_0x25800d,_0x2a1116])=>{const _0x4f595c=_0x2e6bb7,_0x3a0528=(_0x2a1116/_0x11940e*0x64)[_0x4f595c(0x58a)](0x0),_0x417587=_0x4f595c(0x2f2)+(parseInt(_0x25800d)+0x1);_0x4c0cb0+=_0x417587+':\x20'+_0x2a1116+_0x4f595c(0x1ad)+_0x3a0528+_0x4f595c(0x3e5);}),showMessage(_0x4c0cb0);break;case'buyTime':const _0x2e37f2=(_0x122506[_0x2e6bb7(0x80b)]||0xf0)*0.25;showMessage(_0x2e6bb7(0x5dd)+_0x2e37f2+_0x2e6bb7(0xc40));break;case _0x2e6bb7(0x823):case _0x2e6bb7(0x741):case _0x2e6bb7(0x823):case _0x2e6bb7(0x741):const _0x5aba40=document[_0x2e6bb7(0x640)]('.live-answer-btn'),_0x597619=_0x122506[_0x2e6bb7(0x895)];if(_0x5aba40['length']===0x0){showMessage(_0x2e6bb7(0x16a));return;}const _0x3d51d4=_0x2e6bb7(0x63e)+_0x597619+'_p'+_0x2a4f32,_0x45cf01=JSON['parse'](sessionStorage[_0x2e6bb7(0x462)](_0x3d51d4)||'[]');let _0x5e0c30;if(_0x1386b1[_0x2e6bb7(0x9f5)]===_0x2e6bb7(0xcbb)){const _0x434bf2=_0x1386b1[_0x2e6bb7(0xc42)]===!![]||String(_0x1386b1[_0x2e6bb7(0xc42)])[_0x2e6bb7(0x3f0)]()===_0x2e6bb7(0x160);_0x5e0c30=_0x434bf2?0x0:0x1;}else _0x5e0c30=_0x1386b1[_0x2e6bb7(0xc51)];const _0x404012=Array[_0x2e6bb7(0xba1)](_0x5aba40)[_0x2e6bb7(0x624)](_0x29a6b4=>{const _0x50e660=_0x2e6bb7,_0x47ffd9=_0x29a6b4['dataset'][_0x50e660(0x227)],_0x25b46e=parseInt(_0x47ffd9)===_0x5e0c30,_0x5863b8=_0x45cf01[_0x50e660(0x613)](_0x47ffd9);return!_0x25b46e&&!_0x5863b8;});if(_0x404012['length']===0x0){showMessage(_0x2e6bb7(0x254));return;}shuffleArray(_0x404012);let _0x43865c=[..._0x45cf01];if(_0x192ff4===_0x2e6bb7(0x823)){const _0xd36360=_0x404012[0x0];if(_0xd36360){const _0x3b69d3=_0xd36360[_0x2e6bb7(0x24b)][_0x2e6bb7(0x227)];_0xd36360[_0x2e6bb7(0x707)][_0x2e6bb7(0xbfd)](_0x2e6bb7(0xb5c)),_0x43865c[_0x2e6bb7(0xcec)](_0x3b69d3),showMessage(_0x2e6bb7(0x977));}}else{let _0xec272d=0x0;const _0x2c7695=_0x404012[0x0],_0x2882e7=_0x404012[0x1];if(_0x2c7695){const _0x46c537=_0x2c7695['dataset'][_0x2e6bb7(0x227)];_0x2c7695['classList'][_0x2e6bb7(0xbfd)](_0x2e6bb7(0xb5c)),_0x43865c[_0x2e6bb7(0xcec)](_0x46c537),_0xec272d++;}if(_0x2882e7){const _0x56d810=_0x2882e7[_0x2e6bb7(0x24b)][_0x2e6bb7(0x227)];_0x2882e7[_0x2e6bb7(0x707)][_0x2e6bb7(0xbfd)]('hidden'),_0x43865c[_0x2e6bb7(0xcec)](_0x56d810),_0xec272d++;}showMessage(_0x2e6bb7(0x70f)+_0xec272d+_0x2e6bb7(0x2fc));}sessionStorage[_0x2e6bb7(0x6bd)](_0x3d51d4,JSON[_0x2e6bb7(0x2d7)](_0x43865c));break;case _0x2e6bb7(0xcea):if(!_0x466e4a){console['error']('Bug\x20Alert:\x20playerData\x20is\x20missing\x20in\x20\x27forceConfident\x27.'),showMessage(_0x2e6bb7(0xa92));break;}const _0x5d5ac2=_0x466e4a[_0x2e6bb7(0x224)],_0x264566=Object[_0x2e6bb7(0xa8e)](_0x122506[_0x2e6bb7(0x92e)])[_0x2e6bb7(0x624)](_0xd97c45=>_0xd97c45[_0x2e6bb7(0x224)]!==_0x5d5ac2&&_0xd97c45[_0x2e6bb7(0xc3e)]===_0x2e6bb7(0x925)&&_0xd97c45[_0x2e6bb7(0x48e)]===![]);if(_0x264566[_0x2e6bb7(0xb81)]===0x0){showMessage('👻\x20ไม่มีผู้เล่นอื่น\x20(ที่ยังไม่ตอบ)\x20ให้เลือกใช้ไอเทมนี้ใส่'),sessionStorage[_0x2e6bb7(0xca1)](_0x2e6bb7(0x319)),handleRefundPowerup(_0x2a4f32,_0x2e6bb7(0xcea));break;}const _0x63ce6c=_0x122506['gameVariant']===_0x2e6bb7(0xbfa),_0x15bbe7=_0x264566[_0x2e6bb7(0x764)]((_0x3e6937,_0x45d34b)=>{const _0x922ffe=_0x2e6bb7,_0x334fa1=_0x3e6937['name'],_0x51b7e8=_0x122506['playerNicknames'][_0x334fa1]||_0x922ffe(0x105);return _0x63ce6c?_0x45d34b+0x1+':\x20'+_0x51b7e8:_0x45d34b+0x1+':\x20'+_0x334fa1;})[_0x2e6bb7(0x6da)]('\x0a'),_0x15718b=prompt('เลือกผู้เล่นที่จะบังคับ\x20\x22มั่นใจ\x22\x20(ใส่ตัวเลข):\x0a'+_0x15bbe7),_0xf31c15=parseInt(_0x15718b)-0x1;if(_0xf31c15>=0x0&&_0xf31c15<_0x264566[_0x2e6bb7(0xb81)]){const _0x2e7bf5=_0x264566[_0xf31c15];handleForceConfident(_0x2e7bf5[_0x2e6bb7(0x224)]);}else showMessage('ยกเลิกการใช้ไอเทม\x20(ไอเทมถูกคืนให้แล้ว)'),sessionStorage[_0x2e6bb7(0xca1)](_0x2e6bb7(0x319)),handleRefundPowerup(_0x2a4f32,_0x2e6bb7(0xcea));break;case'insurance':showMessage('🛡️\x20ประกันภัยเริ่มทำงาน!\x20หากข้อนี้ตอบผิด\x20บทลงโทษทั้งหมดจะเป็น\x200');break;case _0x2e6bb7(0x3f9):showMessage(_0x2e6bb7(0xa69));break;case _0x2e6bb7(0x1d0):if(!_0x466e4a){console[_0x2e6bb7(0x4da)]('Bug\x20Alert:\x20playerData\x20is\x20missing\x20in\x20\x27jinx\x27.'),showMessage(_0x2e6bb7(0xa92));break;}const _0x43c0c5=_0x466e4a[_0x2e6bb7(0x224)],_0x1a0d2d=Object['values'](_0x122506['players'])[_0x2e6bb7(0x624)](_0x4b2703=>_0x4b2703[_0x2e6bb7(0x224)]!==_0x43c0c5&&_0x4b2703['status']===_0x2e6bb7(0x925)&&_0x4b2703['answered']===![]);if(_0x1a0d2d[_0x2e6bb7(0xb81)]===0x0){showMessage(_0x2e6bb7(0x288)),sessionStorage[_0x2e6bb7(0xca1)]('powerupUsedThisTurn'),handleRefundPowerup(_0x2a4f32,_0x2e6bb7(0x1d0));break;}const _0x41ff5b=_0x122506['gameVariant']==='anonymous',_0x416d09=_0x1a0d2d[_0x2e6bb7(0x764)]((_0x3a7f39,_0x517e93)=>{const _0x38e7a6=_0x2e6bb7,_0x9b4b60=_0x3a7f39[_0x38e7a6(0x224)],_0x12db46=_0x122506[_0x38e7a6(0x81c)][_0x9b4b60]||_0x38e7a6(0x105);return _0x41ff5b?_0x517e93+0x1+':\x20'+_0x12db46:_0x517e93+0x1+':\x20'+_0x9b4b60;})['join']('\x0a'),_0x219c23=prompt(_0x2e6bb7(0x606)+_0x416d09),_0x1ebad1=parseInt(_0x219c23)-0x1;if(_0x1ebad1>=0x0&&_0x1ebad1<_0x1a0d2d['length']){const _0x557bcd=_0x1a0d2d[_0x1ebad1];handleApplyJinx(_0x557bcd[_0x2e6bb7(0x224)]);}else showMessage(_0x2e6bb7(0x24d)),sessionStorage['removeItem'](_0x2e6bb7(0x319)),handleRefundPowerup(_0x2a4f32,_0x2e6bb7(0x1d0));break;case _0x2e6bb7(0x206):showMessage('🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง');break;default:showMessage(_0x2e6bb7(0x215)+_0x192ff4+'\x20แล้ว!');}}async function handleForceConfident(_0x36bb16){const _0x1c0bf2=_0x45c2ac;if(!currentLiveGameId||!_0x36bb16)return;const _0x3c4a01=doc(db,'artifacts/'+appId+_0x1c0bf2(0x817),currentLiveGameId);try{const _0x5c9a8b={};_0x5c9a8b[_0x1c0bf2(0x3df)+_0x36bb16+_0x1c0bf2(0xba8)]=!![],await updateDoc(_0x3c4a01,_0x5c9a8b),showMessage('ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20'+_0x36bb16+_0x1c0bf2(0x289));}catch(_0xf57309){console[_0x1c0bf2(0x4da)](_0x1c0bf2(0xae2),_0xf57309),showMessage(_0x1c0bf2(0xbbb));}}async function handleRefundPowerup(_0x5a370e,_0x39ec4a){const _0x1a0f84=_0x45c2ac,_0x4e1216=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x3f8880={};_0x3f8880[_0x1a0f84(0x3df)+_0x5a370e+_0x1a0f84(0x1ba)+_0x39ec4a]=increment(0x1),await updateDoc(_0x4e1216,_0x3f8880),console[_0x1a0f84(0x241)](_0x1a0f84(0x5f8)+_0x39ec4a+_0x1a0f84(0xbec)+_0x5a370e);}catch(_0x242b6){console['error']('Failed\x20to\x20refund\x20powerup:',_0x242b6);}}async function handleApplyJinx(_0x51b99f){const _0x1235a3=_0x45c2ac;if(!currentLiveGameId||!_0x51b99f)return;const _0x394357=doc(db,_0x1235a3(0x47d)+appId+_0x1235a3(0x817),currentLiveGameId);try{const _0x2a5600={};_0x2a5600['players.'+_0x51b99f+_0x1235a3(0xbc9)]=!![],await updateDoc(_0x394357,_0x2a5600),showMessage('ใช้\x20\x22คำสาป\x22\x20กับ\x20'+_0x51b99f+_0x1235a3(0x289));}catch(_0x3dd3be){console[_0x1235a3(0x4da)](_0x1235a3(0x3d6),_0x3dd3be),showMessage(_0x1235a3(0xbbb));}}function activateFileInputAreaWithLoadedFile(){const _0x5ecdfd=_0x45c2ac,_0x5895de=document[_0x5ecdfd(0x286)](_0x5ecdfd(0x6e1)),_0x569349=document[_0x5ecdfd(0x286)](_0x5ecdfd(0xd09)),_0xccfedb=document[_0x5ecdfd(0x286)](_0x5ecdfd(0x8d6));selectedFile?_0xccfedb[_0x5ecdfd(0x50a)]?(_0x5895de[_0x5ecdfd(0x790)]=!![],analyzeFileForTopics(selectedFile)):(_0x5895de[_0x5ecdfd(0x790)]=![],_0x569349['classList'][_0x5ecdfd(0xbfd)](_0x5ecdfd(0xb5c))):(_0x5895de[_0x5ecdfd(0x790)]=!![],_0x569349[_0x5ecdfd(0x707)][_0x5ecdfd(0xbfd)](_0x5ecdfd(0xb5c)));}async function handleKickPlayerSync(_0xdad873){const _0x5c329d=_0x45c2ac;if(!currentLiveGameId||!_0xdad873)return;const _0xf2f13f=doc(db,_0x5c329d(0x47d)+appId+'/public/data/syncGames',currentLiveGameId),_0x42d12b={};_0x42d12b[_0x5c329d(0x3df)+_0xdad873+_0x5c329d(0xc2f)]=_0x5c329d(0xa6f);try{await updateDoc(_0xf2f13f,_0x42d12b);}catch(_0x23ffb0){console['error'](_0x5c329d(0x71e)+_0xdad873+_0x5c329d(0x67b),_0x23ffb0),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function renderStudentProgressDashboard(_0x40836c,_0xc06bdb){const _0xcb116b=_0x45c2ac,_0x125541=document[_0xcb116b(0x286)](_0xcb116b(0x5b1));_0x125541[_0xcb116b(0x6ef)]=_0xcb116b(0x453);try{const _0x3a7dc3=collection(db,'artifacts/'+appId+_0xcb116b(0x5d7)),_0x4cda75=query(_0x3a7dc3,where(_0xcb116b(0x12d),'==',_0x40836c)),_0x455478=await getDocs(_0x4cda75),_0x7ba08=_0x455478[_0xcb116b(0x22c)]['map'](_0x465489=>({'id':_0x465489['id'],..._0x465489[_0xcb116b(0x10a)]()})),_0x2d9885=_0x7ba08[_0xcb116b(0x764)](_0x344eed=>getDoc(doc(db,_0xcb116b(0x47d)+appId+_0xcb116b(0xb5b)+_0x344eed['id']+_0xcb116b(0x9d4),_0xc06bdb))),_0xa75a1e=await Promise[_0xcb116b(0xf3)](_0x2d9885),_0x3a0a9b=_0xa75a1e['filter'](_0x78436b=>_0x78436b[_0xcb116b(0x6cc)]())[_0xcb116b(0x764)](_0x61e31e=>({'quizId':_0x61e31e['ref']['parent'][_0xcb116b(0x869)]['id'],..._0x61e31e['data']()}));if(_0x3a0a9b['length']===0x0){_0x125541[_0xcb116b(0x6ef)]=_0xcb116b(0x283);return;}let _0x1d596c=_0xcb116b(0xbe9);_0x3a0a9b[_0xcb116b(0x94d)](_0x3a65d5=>{const _0x33c7b2=_0xcb116b,_0x254ba0=_0x7ba08[_0x33c7b2(0x7c7)](_0x2d9e34=>_0x2d9e34['id']===_0x3a65d5[_0x33c7b2(0x476)]),_0x5186fe=_0x254ba0['settings']?.[_0x33c7b2(0x680)]||_0x33c7b2(0x87e),_0x39c931=_0x254ba0[_0x33c7b2(0x125)]?.[_0x33c7b2(0xbd7)]??0x0,_0xac2950=_0x3a65d5['bestScore']>=_0x39c931;let _0x59034e='',_0x98c57b=_0x33c7b2(0x4e2);switch(_0x5186fe){case'show_results_and_answers':case _0x33c7b2(0x7c0):_0x98c57b=_0xac2950?_0x33c7b2(0x80c):_0x33c7b2(0x796),_0x59034e=_0x33c7b2(0x57d)+(_0xac2950?'text-green-700':'text-red-700')+'\x22>'+_0x3a65d5['bestScore']+'\x20/\x20'+_0x3a65d5[_0x33c7b2(0xc06)]+_0x33c7b2(0xc68)+(_0xac2950?'bg-green-200\x20text-green-800':_0x33c7b2(0xdf))+'\x22>'+(_0xac2950?_0x33c7b2(0x753):_0x33c7b2(0xbe8))+_0x33c7b2(0xea);break;case _0x33c7b2(0x8c):_0x98c57b=_0xac2950?_0x33c7b2(0x80c):_0x33c7b2(0x796),_0x59034e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0xac2950?_0x33c7b2(0x9cc):_0x33c7b2(0xdf))+'\x22>'+(_0xac2950?'ผ่าน':_0x33c7b2(0xbe8))+_0x33c7b2(0xea);break;case _0x33c7b2(0xa4):_0x98c57b=_0x33c7b2(0x40a),_0x59034e=_0x33c7b2(0xd24);break;}_0x1d596c+=_0x33c7b2(0xbc0)+_0x98c57b+_0x33c7b2(0x492)+_0x254ba0['topic']+_0x33c7b2(0x72b)+_0x3a65d5[_0x33c7b2(0xcc4)][_0x33c7b2(0xb81)]+_0x33c7b2(0xca0)+new Date(_0x3a65d5[_0x33c7b2(0x368)])['toLocaleDateString'](_0x33c7b2(0xda))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x59034e+_0x33c7b2(0x727);}),_0x1d596c+=_0xcb116b(0x6c2),_0x125541[_0xcb116b(0x6ef)]=_0x1d596c;}catch(_0x1c22ee){console[_0xcb116b(0x4da)](_0xcb116b(0x3d3),_0x1c22ee),_0x125541['innerHTML']=_0xcb116b(0x1ca);}}function renderQuizBankListForMultiSelect(_0xb8dad9=''){const _0x32f9e8=_0x45c2ac,_0x598d28=document['getElementById'](_0x32f9e8(0x665)),_0x4b348f=_0xb8dad9[_0x32f9e8(0x3f0)]()[_0x32f9e8(0x543)](),_0x4c7bc7=allQuizzesGlobal[_0x32f9e8(0x764)](_0xf3bc3d=>({..._0xf3bc3d,'projectName':allProjects['find'](_0x19de83=>_0x19de83['id']===_0xf3bc3d[_0x32f9e8(0x12d)])?.['projectName']||_0x32f9e8(0x7a0)}))[_0x32f9e8(0x624)](_0x5e7532=>(_0x5e7532[_0x32f9e8(0x26f)]||'')[_0x32f9e8(0x3f0)]()['includes'](_0x4b348f)||(_0x5e7532[_0x32f9e8(0xc49)]||'')[_0x32f9e8(0x3f0)]()[_0x32f9e8(0x613)](_0x4b348f)||_0x5e7532['id'][_0x32f9e8(0xe2)]()[_0x32f9e8(0x613)](_0x4b348f));_0x598d28[_0x32f9e8(0x6ef)]=_0x4c7bc7[_0x32f9e8(0xb81)]?_0x4c7bc7[_0x32f9e8(0x764)](_0x142d14=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x142d14['id']+_0x32f9e8(0x457)+(_0x142d14[_0x32f9e8(0x26f)]||_0x32f9e8(0x449))+_0x32f9e8(0x308)+_0x142d14[_0x32f9e8(0xc49)]+_0x32f9e8(0x279)+_0x142d14['id']+_0x32f9e8(0x469))['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x598d28[_0x32f9e8(0x52b)]=()=>{const _0x1c300d=_0x32f9e8,_0x249f13=document['querySelector'](_0x1c300d(0x2aa));document['getElementById']('confirm-link-quiz-btn')[_0x1c300d(0x790)]=!_0x249f13;};}function setupStudentProgressListeners(){const _0x3c5d17=_0x45c2ac;document[_0x3c5d17(0x286)](_0x3c5d17(0x8d4))[_0x3c5d17(0x504)](_0x3c5d17(0x936),showStudentProgressView),document[_0x3c5d17(0x286)](_0x3c5d17(0xc7a))[_0x3c5d17(0x504)](_0x3c5d17(0x936),()=>{const _0x2837af=_0x3c5d17;document['getElementById'](_0x2837af(0x612))[_0x2837af(0x707)][_0x2837af(0xbfd)]('hidden'),document[_0x2837af(0x286)]('student-initial-view')[_0x2837af(0x707)][_0x2837af(0x6d1)](_0x2837af(0xb5c));});}async function startSkillPractice(_0x27bef4){const _0xc61c65=_0x45c2ac;studentResultArea['classList'][_0xc61c65(0xbfd)]('hidden'),studentQuizArea[_0xc61c65(0x6ef)]=_0xc61c65(0x2b8),studentQuizArea[_0xc61c65(0x707)][_0xc61c65(0x6d1)](_0xc61c65(0xb5c));try{const _0x4e6f56=await getStandardizedTopic(_0x27bef4);console['log'](_0xc61c65(0xcd4)+_0x27bef4+_0xc61c65(0xc46)+_0x4e6f56+'\x22'),studentQuizArea[_0xc61c65(0x443)]('p')[_0xc61c65(0x10e)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x4e6f56+_0xc61c65(0xd38);const _0x4bdf1b=collection(db,'artifacts/'+appId+_0xc61c65(0x132)),_0x428dcc=query(_0x4bdf1b,where(_0xc61c65(0x26f),'==',_0x4e6f56)),_0x29bc5e=await getDocs(_0x428dcc);if(_0x29bc5e[_0xc61c65(0x22c)][_0xc61c65(0xb81)]>=0x3){console['log'](_0xc61c65(0x938)+_0x29bc5e['docs']['length']+_0xc61c65(0x82)+_0x4e6f56+_0xc61c65(0x8b2));let _0x425739=_0x29bc5e[_0xc61c65(0x22c)][_0xc61c65(0x764)](_0xc976c0=>_0xc976c0[_0xc61c65(0x10a)]());shuffleArray(_0x425739);const _0x46e788={'topic':_0x4e6f56,'questions':_0x425739[_0xc61c65(0xc20)](0x0,0x3)};displaySkillPracticeDrill(_0x46e788);}else{console['log'](_0xc61c65(0x850)+_0x4e6f56+_0xc61c65(0x6e9));const _0x306d1f=await generatePracticeQuestions(_0x4e6f56);await saveDrillToPracticeBank(_0x306d1f,_0x4e6f56),displaySkillPracticeDrill(_0x306d1f);}}catch(_0x22a226){console['error'](_0xc61c65(0x2bb),_0x22a226),showMessage(_0xc61c65(0x694)),studentQuizArea[_0xc61c65(0x707)]['add']('hidden'),studentResultArea[_0xc61c65(0x707)][_0xc61c65(0x6d1)]('hidden');}}async function saveDrillToPracticeBank(_0xaf4310,_0x741f7b){const _0x212db9=_0x45c2ac,_0x297aea=collection(db,_0x212db9(0x47d)+appId+_0x212db9(0x132)),_0x50139b=writeBatch(db);_0xaf4310[_0x212db9(0xbc3)][_0x212db9(0x94d)](_0x3faab3=>{const _0x1d3d61=_0x212db9,_0x152c36=doc(_0x297aea);_0x50139b[_0x1d3d61(0xb89)](_0x152c36,{'topic':_0x741f7b,'questionText':_0x3faab3[_0x1d3d61(0x3a5)],'options':_0x3faab3[_0x1d3d61(0xa07)],'correctAnswerIndex':_0x3faab3['correctAnswerIndex'],'explanation':_0x3faab3[_0x1d3d61(0x7ec)],'createdAt':serverTimestamp()});});try{await _0x50139b[_0x212db9(0x92b)](),console[_0x212db9(0x241)](_0x212db9(0x1fa)+_0xaf4310[_0x212db9(0xbc3)][_0x212db9(0xb81)]+_0x212db9(0x9f3));}catch(_0x928bd4){console['error'](_0x212db9(0x77c),_0x928bd4);}}async function getStandardizedTopic(_0x1f1968){const _0x5466dd=_0x45c2ac,_0x37c52e=_0x5466dd(0xb8a)+_0x1f1968+_0x5466dd(0x818),_0x33fa11={'type':_0x5466dd(0xb8e),'properties':{'standardTopic':{'type':_0x5466dd(0x32a)}},'required':['standardTopic']};try{const _0xa5a18c=await callAnalysisApi(_0x37c52e,_0x33fa11);return _0xa5a18c[_0x5466dd(0x4bf)];}catch(_0x5a188e){return console[_0x5466dd(0x4da)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x5a188e),_0x1f1968;}}async function handleGenerateEasyVersionQuiz(_0x187498){const _0x57be9a=_0x45c2ac,_0x3b1c0e=document['getElementById'](_0x57be9a(0x20e)),_0x366b99=document[_0x57be9a(0x286)](_0x57be9a(0xab7));_0x366b99[_0x57be9a(0x707)]['add'](_0x57be9a(0xb5c));const _0x1070ef=_0x57be9a(0x5f6);_0x3b1c0e[_0x57be9a(0xd37)](_0x57be9a(0x47f),_0x1070ef);try{const _0x51adda=allQuizzes[_0x57be9a(0x7c7)](_0x5c3a63=>_0x5c3a63['id']===_0x187498);if(!_0x51adda)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0x5e3214='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0x57be9a(0x2d7)](_0x51adda[_0x57be9a(0xbc3)])+_0x57be9a(0x76a),_0x3513fe={'type':_0x57be9a(0xb8e),'properties':{'questionText':{'type':_0x57be9a(0x32a)},'questionType':{'type':_0x57be9a(0x32a)},'options':{'type':_0x57be9a(0xce2),'items':{'type':_0x57be9a(0x32a)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x57be9a(0x32a)},'explanation':{'type':_0x57be9a(0x32a)},'imageCode':{'type':_0x57be9a(0x32a)}},'required':[_0x57be9a(0x3a5),_0x57be9a(0x9f5),'explanation']},_0x4393bf={'type':_0x57be9a(0xb8e),'properties':{'questions':{'type':_0x57be9a(0xce2),'items':_0x3513fe}},'required':[_0x57be9a(0xbc3)]},_0x1c1f8c=await callAnalysisApi(_0x5e3214,_0x4393bf);_0x1c1f8c&&_0x1c1f8c['questions']&&_0x1c1f8c[_0x57be9a(0xbc3)]['forEach'](_0x5ed6e6=>{const _0x441198=_0x57be9a;if(_0x5ed6e6[_0x441198(0x21d)]('imageCode')){const _0x1a3b35=String(_0x5ed6e6[_0x441198(0xb04)])[_0x441198(0x543)]();(_0x1a3b35===''||_0x1a3b35[_0x441198(0x3f0)]()==='null'||!_0x1a3b35[_0x441198(0x4ba)](_0x441198(0x677)))&&delete _0x5ed6e6[_0x441198(0xb04)];}});if(!_0x1c1f8c||!_0x1c1f8c[_0x57be9a(0xbc3)]||_0x1c1f8c['questions'][_0x57be9a(0xb81)]===0x0)throw new Error(_0x57be9a(0x9ba));const _0x4faf5f=_0x1c1f8c[_0x57be9a(0xbc3)]['map']((_0x1eb34c,_0x4abba9)=>({..._0x1eb34c,'id':'q_'+Date[_0x57be9a(0x17c)]()+'_'+_0x4abba9})),_0x5c8f30={'projectId':_0x51adda[_0x57be9a(0x12d)],'quizType':_0x51adda[_0x57be9a(0x480)],'settings':_0x51adda['settings'],'createdBy':_0x51adda[_0x57be9a(0x130)],'status':_0x57be9a(0x925),'topic':_0x57be9a(0x505)+_0x51adda[_0x57be9a(0x26f)],'questions':_0x4faf5f,'createdAt':new Date()['toISOString'](),'quizMode':_0x57be9a(0x44a),'pairedQuizId':null};let _0x74040;while(!![]){_0x74040=Math[_0x57be9a(0xb7e)](0x3e8+Math['random']()*0x2328)['toString']();const _0x569f95=await getDoc(doc(db,_0x57be9a(0x47d)+appId+_0x57be9a(0x5d7),_0x74040));if(!_0x569f95['exists']())break;}await setDoc(doc(db,_0x57be9a(0x47d)+appId+_0x57be9a(0x5d7),_0x74040),_0x5c8f30),showMessage(_0x57be9a(0xa68));}catch(_0x25c887){console[_0x57be9a(0x4da)]('Error\x20generating\x20easy\x20version\x20quiz:',_0x25c887),showMessage(_0x57be9a(0x1ae)+_0x25c887[_0x57be9a(0xc97)]);}finally{const _0x458296=document[_0x57be9a(0x286)]('temp-loader-results');_0x458296&&_0x458296[_0x57be9a(0x6d1)](),_0x366b99[_0x57be9a(0x707)]['remove']('hidden');}}async function generatePracticeQuestions(_0x5a1b56){const _0x45ea36=_0x45c2ac,_0x96f48e=_0x45ea36(0x5db)+_0x5a1b56+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x45ea36(0x1dd),_0xe525a0={'type':_0x45ea36(0xb8e),'properties':{'questionText':{'type':_0x45ea36(0x32a)},'options':{'type':_0x45ea36(0xce2),'items':{'type':_0x45ea36(0x32a)}},'correctAnswerIndex':{'type':_0x45ea36(0x611)},'explanation':{'type':_0x45ea36(0x32a)}},'required':[_0x45ea36(0x3a5),_0x45ea36(0xa07),_0x45ea36(0xc51),_0x45ea36(0x7ec)]},_0x1e7998={'type':_0x45ea36(0xb8e),'properties':{'topic':{'type':_0x45ea36(0x32a)},'questions':{'type':'ARRAY','items':_0xe525a0}},'required':[_0x45ea36(0x26f),_0x45ea36(0xbc3)]};return await callAnalysisApi(_0x96f48e,_0x1e7998);}function displayLessonPlan(_0x21b331,_0x270e81){const _0x4fab60=_0x45c2ac,_0x3e44da=_0x4fab60(0x87a)+_0x270e81[_0x4fab60(0x26f)]+_0x4fab60(0xd01)+_0x21b331[_0x4fab60(0x17f)][_0x4fab60(0x764)](_0x57ce29=>_0x4fab60(0xa8f)+_0x57ce29+_0x4fab60(0x75a))['join']('')+_0x4fab60(0x478)+_0x21b331['teachingContent']+_0x4fab60(0x79d)+_0x21b331[_0x4fab60(0x8f1)]['map'](_0x4404d7=>_0x4fab60(0xca6)+_0x4404d7[_0x4fab60(0x5d6)]+_0x4fab60(0x972)+_0x4404d7[_0x4fab60(0x544)]+_0x4fab60(0x113))['join']('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['getElementById'](_0x4fab60(0xa46))[_0x4fab60(0x10e)]=_0x4fab60(0xb62)+_0x270e81['topic'],document[_0x4fab60(0x286)](_0x4fab60(0x950))[_0x4fab60(0x6ef)]=_0x3e44da,document['getElementById'](_0x4fab60(0x6bc))[_0x4fab60(0x707)][_0x4fab60(0x6d1)]('hidden');if(window[_0x4fab60(0x36f)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x4d54d4){const _0x4a26cf=_0x45c2ac;let _0x3d9e34=0x0;const _0x156e9e=_0x4d54d4[_0x4a26cf(0xbc3)],_0x4ed409=()=>{const _0x199ee8=_0x4a26cf,_0x4a087f=_0x156e9e[_0x3d9e34],_0x4acf17='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x3d9e34+0x1)+'\x20/\x20'+_0x156e9e['length']+_0x199ee8(0x529)+_0x4a087f[_0x199ee8(0x3a5)]+_0x199ee8(0x257)+_0x4a087f[_0x199ee8(0xa07)][_0x199ee8(0x764)]((_0x7c3d1a,_0x5e7386)=>_0x199ee8(0x94b)+_0x5e7386+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x5e7386+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x5e7386+'\x22>'+_0x7c3d1a+_0x199ee8(0xac9))[_0x199ee8(0x6da)]('')+_0x199ee8(0x272);studentQuizArea[_0x199ee8(0x6ef)]=_0x4acf17;if(window[_0x199ee8(0x36f)])MathJax[_0x199ee8(0x8c4)]([studentQuizArea]);document[_0x199ee8(0x286)]('hint-btn')[_0x199ee8(0x504)](_0x199ee8(0x936),async()=>{const _0x483051=await getHintForQuestion(_0x4a087f['questionText']);showMessage(_0x483051);}),document[_0x199ee8(0x286)](_0x199ee8(0xd08))['addEventListener'](_0x199ee8(0x936),()=>{const _0x58e68d=_0x199ee8,_0x3041a8=document[_0x58e68d(0x443)](_0x58e68d(0x84a));if(!_0x3041a8){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x46961e=document[_0x58e68d(0x286)]('drill-feedback'),_0x20bded=parseInt(_0x3041a8[_0x58e68d(0x227)])===_0x4a087f[_0x58e68d(0xc51)];_0x20bded?(_0x46961e['className']=_0x58e68d(0x75b),_0x46961e[_0x58e68d(0x6ef)]=_0x58e68d(0xd2d)+_0x4a087f[_0x58e68d(0x7ec)]):(_0x46961e[_0x58e68d(0x5b7)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x46961e[_0x58e68d(0x6ef)]=_0x58e68d(0xa73)+_0x4a087f[_0x58e68d(0x7ec)]);_0x46961e['classList'][_0x58e68d(0x6d1)](_0x58e68d(0xb5c));if(window[_0x58e68d(0x36f)])MathJax[_0x58e68d(0x8c4)]([_0x46961e]);document[_0x58e68d(0x286)](_0x58e68d(0xd08))[_0x58e68d(0x707)][_0x58e68d(0xbfd)](_0x58e68d(0xb5c)),document[_0x58e68d(0x286)](_0x58e68d(0x5df))[_0x58e68d(0x707)][_0x58e68d(0xbfd)](_0x58e68d(0xb5c)),document[_0x58e68d(0x286)]('next-drill-btn')['classList']['remove'](_0x58e68d(0xb5c));}),document[_0x199ee8(0x286)]('next-drill-btn')[_0x199ee8(0x504)](_0x199ee8(0x936),()=>{const _0x12573d=_0x199ee8;_0x3d9e34++,_0x3d9e34<_0x156e9e[_0x12573d(0xb81)]?_0x4ed409():(studentQuizArea[_0x12573d(0x6ef)]=_0x12573d(0x3e2),document[_0x12573d(0x286)](_0x12573d(0x7b7))['addEventListener'](_0x12573d(0x936),()=>{const _0x3c75bf=_0x12573d;studentQuizArea['classList'][_0x3c75bf(0xbfd)](_0x3c75bf(0xb5c)),studentResultArea[_0x3c75bf(0x707)][_0x3c75bf(0x6d1)]('hidden');}));});};_0x4ed409();}async function getHintForQuestion(_0x4be632){const _0x13dfbd=_0x45c2ac,_0x491c78='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x4be632+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x3970db={'type':_0x13dfbd(0xb8e),'properties':{'hint':{'type':_0x13dfbd(0x32a)}},'required':['hint']};try{const _0x30f671=await callAnalysisApi(_0x491c78,_0x3970db);return _0x30f671[_0x13dfbd(0x9c)];}catch(_0x2ee1af){return console['error'](_0x13dfbd(0xa80),_0x2ee1af),_0x13dfbd(0x759);}}async function extractTextFromPdf(_0x4b6f05){const _0x29bb25=_0x45c2ac;pdfjsLib[_0x29bb25(0x1fd)][_0x29bb25(0x837)]=_0x29bb25(0xa40);const _0x19513b=await _0x4b6f05['arrayBuffer'](),_0x4463f0=await pdfjsLib[_0x29bb25(0x9d6)](_0x19513b)[_0x29bb25(0x7ee)],_0x59cba9=_0x4463f0[_0x29bb25(0x6b6)];let _0x46fc62='';for(let _0x27afdd=0x1;_0x27afdd<=_0x59cba9;_0x27afdd++){const _0x440a96=await _0x4463f0[_0x29bb25(0x21b)](_0x27afdd),_0x33d95d=await _0x440a96[_0x29bb25(0x5fa)](),_0x2e4ed0=_0x33d95d[_0x29bb25(0x6ca)][_0x29bb25(0x764)](_0x9123de=>_0x9123de[_0x29bb25(0x561)])['join']('\x20');_0x46fc62+=_0x2e4ed0+'\x0a\x0a';}return _0x46fc62;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x5b14de){const _0x35ae68=_0x45c2ac,_0x1263d5=document['getElementById'](_0x35ae68(0xe3)),_0x19065b=document[_0x35ae68(0x286)](_0x35ae68(0x430)),_0xf893c1=document['getElementById'](_0x35ae68(0x775));_0x1263d5[_0x35ae68(0x707)]['remove'](_0x35ae68(0xb5c)),_0x19065b[_0x35ae68(0x6ef)]='<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>',_0xf893c1[_0x35ae68(0x707)][_0x35ae68(0xbfd)](_0x35ae68(0xb5c));try{const _0x9949b6=_0x35ae68(0xb65)+_0x5b14de+_0x35ae68(0xa7b),_0x281e57={'type':_0x35ae68(0xb8e),'properties':{'gradeLevel':{'type':_0x35ae68(0x32a)},'curriculum':{'type':'ARRAY','items':{'type':_0x35ae68(0xb8e),'properties':{'sara':{'type':_0x35ae68(0x32a)},'mainTopics':{'type':_0x35ae68(0xce2),'items':{'type':_0x35ae68(0xb8e),'properties':{'topicName':{'type':_0x35ae68(0x32a)},'subTopics':{'type':_0x35ae68(0xce2),'items':{'type':_0x35ae68(0x32a)}}},'required':['topicName',_0x35ae68(0x3cf)]}}},'required':[_0x35ae68(0xc2c),_0x35ae68(0x3cc)]}}},'required':[_0x35ae68(0x306),_0x35ae68(0x7c8)]},_0x19ba5a=await callAnalysisApi(_0x9949b6,_0x281e57);if(_0x19ba5a&&_0x19ba5a[_0x35ae68(0x7c8)])extractedBlueprintData=_0x19ba5a,renderBlueprintTopics(_0x19ba5a),_0xf893c1[_0x35ae68(0x707)][_0x35ae68(0x6d1)](_0x35ae68(0xb5c));else throw new Error(_0x35ae68(0x9b5));}catch(_0x3662f2){console[_0x35ae68(0x4da)]('Error\x20analyzing\x20blueprint\x20topics:',_0x3662f2),_0x19065b[_0x35ae68(0x6ef)]=_0x35ae68(0x237);}}function renderBlueprintTopics(_0x4da880){const _0x2a8e15=_0x45c2ac,_0x213361=document[_0x2a8e15(0x286)](_0x2a8e15(0x430)),_0x236609=_0x4da880['gradeLevel'],_0x364711=_0x2a8e15(0x2e7)+_0x236609+_0x2a8e15(0x6d3);let _0x24d5cd='';_0x4da880[_0x2a8e15(0x7c8)][_0x2a8e15(0x94d)](_0x53ace0=>{const _0x2676e3=_0x2a8e15;_0x24d5cd+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x53ace0[_0x2676e3(0xc2c)]+'</h4>',_0x53ace0[_0x2676e3(0x3cc)]['forEach'](_0x5e2f38=>{const _0x85d09e=_0x2676e3;_0x24d5cd+=_0x85d09e(0x4cf)+_0x5e2f38[_0x85d09e(0x71b)]+_0x85d09e(0x86f),_0x5e2f38['subTopics'][_0x85d09e(0x94d)](_0x2976ba=>{const _0x5367c7=_0x85d09e;_0x24d5cd+=_0x5367c7(0x303)+_0x2976ba[_0x5367c7(0xc3b)](/'/g,'\x5c\x27')+_0x5367c7(0x927)+_0x236609[_0x5367c7(0xc3b)](/'/g,'\x5c\x27')+_0x5367c7(0x11f)+_0x2976ba+_0x5367c7(0xa23)+_0x2976ba[_0x5367c7(0xc3b)](/'/g,'\x5c\x27')+_0x5367c7(0x59b);}),_0x24d5cd+=_0x85d09e(0x541);}),_0x24d5cd+=_0x2676e3(0x6c2);}),_0x213361[_0x2a8e15(0x6ef)]=_0x364711+_0x24d5cd;}async function handleGenerateTeachingContent(_0x54791b){const _0xc3d7b7=_0x45c2ac,_0x5d346f=document[_0xc3d7b7(0x286)](_0xc3d7b7(0x6bc)),_0x1580d1=document[_0xc3d7b7(0x286)](_0xc3d7b7(0x950));document[_0xc3d7b7(0x286)](_0xc3d7b7(0xa46))['textContent']=_0xc3d7b7(0xbc2)+_0x54791b,_0x1580d1[_0xc3d7b7(0x6ef)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x5d346f['classList'][_0xc3d7b7(0x6d1)]('hidden');try{const _0xdf8c0f=_0xc3d7b7(0x635)+_0x54791b+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2a97b1={'type':_0xc3d7b7(0xb8e),'properties':{'keyConcepts':{'type':_0xc3d7b7(0xce2),'items':{'type':_0xc3d7b7(0x32a)}},'commonMistakes':{'type':'ARRAY','items':{'type':_0xc3d7b7(0x32a)}},'stepByStepExamples':{'type':_0xc3d7b7(0xce2),'items':{'type':'OBJECT','properties':{'question':{'type':_0xc3d7b7(0x32a)},'solution':{'type':_0xc3d7b7(0x32a)}},'required':['question',_0xc3d7b7(0x544)]}},'teacherTips':{'type':_0xc3d7b7(0xce2),'items':{'type':_0xc3d7b7(0x32a)}}},'required':[_0xc3d7b7(0x8c8),_0xc3d7b7(0x666),_0xc3d7b7(0xa7e),'teacherTips']},_0x220107=await callAnalysisApi(_0xdf8c0f,_0x2a97b1);displayTeachingContent(_0x220107,_0x54791b);}catch(_0x559157){console[_0xc3d7b7(0x4da)]('Error\x20generating\x20teaching\x20content:',_0x559157),_0x1580d1[_0xc3d7b7(0x6ef)]=_0xc3d7b7(0x3e0)+_0x559157[_0xc3d7b7(0xc97)]+'</p>';}}function displayTeachingContent(_0x56cb49,_0x4c8aaa){const _0x5ef846=_0x45c2ac,_0x55fcf8=document['getElementById']('lesson-plan-content');document[_0x5ef846(0x286)](_0x5ef846(0xa46))[_0x5ef846(0x10e)]=_0x5ef846(0x297)+_0x4c8aaa;const _0x27dae7=_0x5ef846(0xcca)+_0x56cb49[_0x5ef846(0x8c8)]['map'](_0x44a614=>'<li>'+_0x44a614+_0x5ef846(0x75a))[_0x5ef846(0x6da)]('')+_0x5ef846(0xace)+_0x56cb49[_0x5ef846(0x666)]['map'](_0x5bcdcb=>_0x5ef846(0xa8f)+_0x5bcdcb+'</li>')[_0x5ef846(0x6da)]('')+_0x5ef846(0xb43)+_0x56cb49[_0x5ef846(0xa7e)][_0x5ef846(0x764)](_0x42d1f0=>_0x5ef846(0x700)+_0x42d1f0[_0x5ef846(0x5d6)]+_0x5ef846(0x929)+_0x42d1f0[_0x5ef846(0x544)]+_0x5ef846(0x729))['join']('')+_0x5ef846(0xb21)+_0x56cb49[_0x5ef846(0x7e6)][_0x5ef846(0x764)](_0x298963=>_0x5ef846(0xa8f)+_0x298963+_0x5ef846(0x75a))['join']('')+_0x5ef846(0x488);_0x55fcf8['innerHTML']=_0x27dae7;if(window[_0x5ef846(0x36f)])MathJax['typesetPromise']([_0x55fcf8]);}async function generateQuizForSingleTopic(_0x4bfa3c){const _0x15159d=_0x45c2ac;console[_0x15159d(0x241)]('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x4bfa3c+'\x22');const _0x1863b8=document[_0x15159d(0x286)](_0x15159d(0x819)),_0x5b2e26=_0x1863b8[_0x15159d(0xc70)][_0x15159d(0xb81)]>0x0?_0x1863b8[_0x15159d(0xc70)][0x0]:null;let _0x3601af=null;if(_0x5b2e26)try{const _0x46db82=new FileReader();_0x46db82['readAsDataURL'](_0x5b2e26);const _0x551521=await new Promise((_0x269d10,_0x4adb53)=>{const _0x5b2da2=_0x15159d;_0x46db82[_0x5b2da2(0x24f)]=()=>_0x269d10(_0x46db82[_0x5b2da2(0x393)]['split'](',')[0x1]),_0x46db82['onerror']=_0x45b5c2=>_0x4adb53(_0x45b5c2);});_0x3601af=[{'inlineData':{'mimeType':_0x5b2e26[_0x15159d(0x15e)],'data':_0x551521}}];}catch(_0x5d8516){console['error'](_0x15159d(0xd44),_0x5d8516),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง');return;}generateQuiz(_0x4bfa3c,null,null,_0x3601af,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x14ab9b=null){const _0xa7316b=_0x45c2ac,_0xd84aff=document[_0xa7316b(0x286)](_0xa7316b(0x26d)),_0x1d9646=document['getElementById'](_0xa7316b(0x33e));let _0x506f74,_0x382754=[];if(_0x14ab9b)_0x506f74=_0x14ab9b,_0x382754=_0x506f74[_0xa7316b(0xc20)](0x2);else{const _0x3740bb=document[_0xa7316b(0x286)]('blueprint-upload-input'),_0x37d7de=document[_0xa7316b(0x286)](_0xa7316b(0x819)),_0x328f69=_0x3740bb[_0xa7316b(0xc70)][0x0];if(!_0x328f69){showMessage(_0xa7316b(0x383));return;}_0x1d9646[_0xa7316b(0x10e)]='กำลังเตรียมไฟล์...';const _0x3eb713=await new Promise((_0x42cbf4,_0xd5d0fd)=>{const _0xc7e0f1=_0xa7316b,_0x238f8a=new FileReader();_0x238f8a[_0xc7e0f1(0x644)](_0x328f69),_0x238f8a[_0xc7e0f1(0x24f)]=()=>_0x42cbf4(_0x238f8a[_0xc7e0f1(0x393)]['split'](',')[0x1]),_0x238f8a[_0xc7e0f1(0x62b)]=_0xd5d0fd;});_0x506f74=[{'text':_0xa7316b(0x6db)},{'inlineData':{'mimeType':_0x328f69[_0xa7316b(0x15e)],'data':_0x3eb713}}];if(_0x37d7de[_0xa7316b(0xc70)]['length']>0x0){const _0x27f12a=_0x37d7de[_0xa7316b(0xc70)][0x0];_0x1d9646[_0xa7316b(0x10e)]=_0xa7316b(0xb37);const _0x4c6d2a=await new Promise((_0x1e6c2a,_0x9e672e)=>{const _0x1c86b4=_0xa7316b,_0x3214e3=new FileReader();_0x3214e3[_0x1c86b4(0x644)](_0x27f12a),_0x3214e3[_0x1c86b4(0x24f)]=()=>_0x1e6c2a(_0x3214e3[_0x1c86b4(0x393)][_0x1c86b4(0x2b4)](',')[0x1]),_0x3214e3[_0x1c86b4(0x62b)]=_0x9e672e;}),_0x22cba0={'inlineData':{'mimeType':_0x27f12a[_0xa7316b(0x15e)],'data':_0x4c6d2a}};_0x506f74[_0xa7316b(0xcec)](_0x22cba0),_0x382754[_0xa7316b(0xcec)](_0x22cba0);}}const _0x4802cc=_0xa7316b(0xa55),_0x146d68=_0xa7316b(0x442);let _0x16e06b='';_0x382754&&_0x382754['length']>0x0?_0x16e06b=_0x4802cc:_0x16e06b=_0x146d68;const _0x21c145='\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a'+_0x16e06b+_0xa7316b(0xb02),_0x4bdacf={'type':_0xa7316b(0xb8e),'properties':{'questionText':{'type':_0xa7316b(0x32a)},'questionType':{'type':_0xa7316b(0x32a),'enum':[_0xa7316b(0xb86),_0xa7316b(0x27d),_0xa7316b(0xcbb),_0xa7316b(0x2d6)]},'options':{'type':'ARRAY','items':{'type':_0xa7316b(0x32a)}},'correctAnswerIndex':{'type':_0xa7316b(0x611)},'idealAnswer':{'type':_0xa7316b(0x32a)},'correctAnswer':{'type':_0xa7316b(0x7de)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xa7316b(0x32a)}},'required':[_0xa7316b(0x9f5),_0xa7316b(0x7ec)]},_0x2eeffc={'type':_0xa7316b(0xb8e),'properties':{'topic':{'type':_0xa7316b(0x32a)},'questions':{'type':_0xa7316b(0xce2),'items':_0x4bdacf}},'required':[_0xa7316b(0x26f),_0xa7316b(0xbc3)]};_0x506f74[0x0][_0xa7316b(0x135)]=_0x21c145,await handleApiCall(_0x506f74,_0xa7316b(0x1f1),_0x2eeffc);}function proceedToNextQuestion(_0x2da169){const _0x82b0ff=_0x45c2ac;studentAnswersPerQuestion[_0x82b0ff(0xcec)](_0x2da169),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x82b0ff(0xbc3)][_0x82b0ff(0xb81)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function renderAdminSyncDashboard(_0x274b63,_0x1d9f6c,_0x8e62dc){const _0x32b63f=_0x45c2ac,_0x420cbb=Object[_0x32b63f(0xa8e)](_0x274b63[_0x32b63f(0x92e)]||{}),_0xc87367=_0x420cbb[_0x32b63f(0xb81)],_0x2d1c9a=_0x8e62dc,_0x2c91d9=_0x274b63[_0x32b63f(0xba)]||'classic',_0x479b40=_0x2c91d9==='anonymous',_0xb365e4=_0x274b63[_0x32b63f(0x548)]===!![],_0x2d9e63=_0x2c91d9===_0x32b63f(0x9ee),_0x241333=_0x274b63[_0x32b63f(0x8d0)][_0x32b63f(0xbc3)],_0x138cd6=_0x241333[_0x2d1c9a],_0x5ad516=_0x3320c9=>String['fromCharCode'](0x41+_0x3320c9),_0x47c2eb=_0x420cbb[_0x32b63f(0x764)](_0x4a30fd=>{const _0x1c0631=_0x32b63f,_0x5e8638=_0x4a30fd['score']||0x0,_0x54f5cf=_0x4a30fd['totalPoints']||0x0,_0x167f6a=(_0x4a30fd[_0x1c0631(0x8a5)]||[])[_0x1c0631(0x624)](_0x52ee0f=>{const _0x410ce8=_0x1c0631;if(_0x2c91d9===_0x410ce8(0x171))return _0x52ee0f['questionIndex']<=_0x2d1c9a;return!![];});return{..._0x4a30fd,'realScore':_0x5e8638,'totalPoints':_0x54f5cf,'answers':_0x167f6a};}),_0x1d2634=_0x274b63[_0x32b63f(0xc44)]===!![],_0x5e2c0f=[..._0x47c2eb][_0x32b63f(0x276)]((_0x627509,_0x4561ed)=>{const _0x297e1f=_0x32b63f;if(_0x1d2634){const _0x28b1bb=_0x4561ed[_0x297e1f(0x82d)]-_0x627509[_0x297e1f(0x82d)];if(_0x28b1bb!==0x0)return _0x28b1bb;const _0x2243fe=_0x4561ed['totalPoints']-_0x627509[_0x297e1f(0x91)];if(_0x2243fe!==0x0)return _0x2243fe;return(_0x627509[_0x297e1f(0x224)]||'')[_0x297e1f(0xc52)](_0x4561ed[_0x297e1f(0x224)]||'','th');}else{const _0x175e4e=_0x4561ed[_0x297e1f(0x91)]-_0x627509[_0x297e1f(0x91)];if(_0x175e4e!==0x0)return _0x175e4e;const _0x342a1b=_0x4561ed[_0x297e1f(0x82d)]-_0x627509[_0x297e1f(0x82d)];if(_0x342a1b!==0x0)return _0x342a1b;return(_0x627509[_0x297e1f(0x224)]||'')[_0x297e1f(0xc52)](_0x4561ed[_0x297e1f(0x224)]||'','th');}}),_0x5cf623=Math[_0x32b63f(0x75c)](..._0x47c2eb[_0x32b63f(0x764)](_0x6b78ee=>_0x6b78ee[_0x32b63f(0x91)]),0x0),_0x242cb9=_0x8e62dc+0x1,_0x52d801=_0x47c2eb[_0x32b63f(0x624)](_0x9ee9aa=>_0x9ee9aa['realScore']===_0x242cb9&&(_0x9ee9aa['answers']||[])[_0x32b63f(0xb81)]===_0x242cb9&&_0x242cb9>0x0),_0x16a6b6=_0x52d801[_0x32b63f(0xb81)]>0x0?Math[_0x32b63f(0x75c)](..._0x52d801['map'](_0x24b59d=>_0x24b59d[_0x32b63f(0x91)])):-Infinity;let _0x244091='';const _0x1dbf1e=!_0x2d9e63&&!(_0x479b40&&_0x274b63[_0x32b63f(0xb88)]===![]);if(_0x138cd6&&_0x1dbf1e){let _0x1516b5='',_0x72c9b4='';const _0x5aef3b=_0x138cd6['questionType']||_0x274b63[_0x32b63f(0x8d0)][_0x32b63f(0x480)];if(_0x5aef3b==='multiple_choice'&&_0x138cd6[_0x32b63f(0xa07)]&&_0x138cd6[_0x32b63f(0xc51)]!==undefined){const _0x505a5c=_0x138cd6[_0x32b63f(0xc51)];_0x1516b5=_0x138cd6[_0x32b63f(0xa07)][_0x505a5c],_0x72c9b4=_0x5ad516(_0x505a5c)+'.';}else{if(_0x5aef3b===_0x32b63f(0xcbb)){const _0x2eaf63=_0x138cd6[_0x32b63f(0xc42)]===!![]||String(_0x138cd6[_0x32b63f(0xc42)])[_0x32b63f(0x3f0)]()===_0x32b63f(0x160);_0x2eaf63?(_0x1516b5=_0x32b63f(0x599),_0x72c9b4='ก.'):(_0x1516b5=_0x32b63f(0x5f1),_0x72c9b4='ข.');}else{if(_0x5aef3b===_0x32b63f(0x2d6))_0x1516b5=_0x138cd6[_0x32b63f(0x7a5)]||'-',_0x72c9b4='';else _0x5aef3b===_0x32b63f(0x27d)&&(_0x1516b5=_0x138cd6[_0x32b63f(0x555)]||'-',_0x72c9b4='');}}_0x1516b5&&(_0x244091=_0x32b63f(0x2c1)+(_0x2d1c9a+0x1)+_0x32b63f(0xa98)+_0x72c9b4+'\x20'+_0x1516b5+_0x32b63f(0x60d));}const _0x5ad579=_0x5e2c0f[_0x32b63f(0x764)](_0x27d65f=>{const _0x507188=_0x32b63f,_0x4862a5=_0x27d65f['realScore'],_0x2ba286=_0x27d65f[_0x507188(0x91)],_0x50a506=_0x27d65f[_0x507188(0x8a5)][_0x507188(0xb81)],_0x44abe8=(_0x27d65f[_0x507188(0x8a5)]||[])[_0x507188(0x7c7)](_0x3258e3=>_0x3258e3[_0x507188(0xa05)]===_0x8e62dc);let _0x2aad7f='';_0x44abe8&&(_0x44abe8[_0x507188(0x30e)]&&(_0x2aad7f+='<span\x20title=\x22ใช้ส่องสถิติในตานี้\x22>📊</span>'),_0x44abe8[_0x507188(0x244)]&&(_0x2aad7f+='<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>'),_0x44abe8[_0x507188(0x731)]&&(_0x2aad7f+=_0x507188(0x4c1)));let _0x2959e1='';if(!_0x2d9e63&&_0x50a506>0x0){const _0x5cbeff=_0x27d65f[_0x507188(0x8a5)][_0x507188(0xb81)],_0x40c0f6=_0x27d65f['realScore']===_0x242cb9&&_0x5cbeff===_0x242cb9&&_0x242cb9>0x0;if(_0x1d2634){const _0x150f73=_0x40c0f6&&_0x27d65f[_0x507188(0x91)]===_0x16a6b6;if(_0x150f73)_0x2959e1=_0x507188(0xa6e);else _0x40c0f6&&(_0x2959e1=_0x507188(0x670));}else{if(_0x5cbeff===_0x242cb9&&_0x242cb9>0x0){let _0x1f06f5=_0x242cb9;_0x274b63['isConfidenceScoringEnabled']&&(_0x1f06f5=_0x242cb9*0x2);const _0x3b59cd=_0x27d65f[_0x507188(0x91)]===_0x1f06f5;if(_0x3b59cd)_0x2959e1=_0x507188(0x60e);else _0x40c0f6&&(_0x2959e1=_0x507188(0x670));}}if(_0x2959e1===''){if(_0x2ba286<0x0)_0x2959e1='<span\x20class=\x22text-red-400\x20ml-1\x22\x20title=\x22คะแนนพิเศษติดลบ\x20(มั่นใจแต่ตอบผิด)\x22>⚠️</span>';else _0x4862a5===0x0&&_0x5cbeff>0x0&&(_0x2959e1=_0x507188(0x7e8));}}let _0x6a471f=_0x507188(0xae9);if(!_0x2d9e63){const _0x5f3adc=(_0x27d65f['answers']||[])[_0x507188(0x7c7)](_0x299c2e=>_0x299c2e[_0x507188(0xa05)]===_0x2d1c9a);if(_0x5f3adc){const _0x344579=_0x5f3adc[_0x507188(0x995)],_0x201ef1=_0x5f3adc[_0x507188(0x13e)]===!![]||_0x5f3adc[_0x507188(0x13e)]==='confident',_0x5b4477=_0x5f3adc[_0x507188(0x280)];if(_0x5b4477===_0x507188(0x3f9))_0x344579?_0x6a471f='bg-yellow-300\x20text-yellow-900\x20font-bold':_0x6a471f='bg-red-700\x20text-white\x20font-bold';else{if(_0x201ef1)_0x344579?_0x6a471f='bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x6a471f='bg-[#EF4444]\x20text-white\x20font-bold';else _0x344579&&(_0x6a471f=_0x507188(0x20c));}}}let _0x2f0ace='';const _0x59af36=_0x27d65f[_0x507188(0x224)],_0x4f67df=_0x274b63[_0x507188(0x81c)][_0x27d65f['name']]||_0x507188(0x105),_0x1cba89=_0x507188(0x798),_0x5594e0=_0x507188(0xe8);let _0x2f455f='';const _0x1fb3b1=_0x2ba286>=0x0?'(+'+_0x2ba286+')':'('+_0x2ba286+')',_0x23252e=_0x507188(0xbbf)+_0x27d65f[_0x507188(0x82d)]+_0x507188(0x7a8)+_0x1fb3b1+_0x507188(0x189);if(_0x1d9f6c){if(_0x479b40&&!_0xb365e4)_0x2f0ace='<div\x20style=\x22'+_0x1cba89+_0x507188(0x728)+_0x4f67df+'\x22><span\x20style=\x22'+_0x5594e0+'\x22>'+_0x4f67df+_0x507188(0x68d)+_0x2aad7f+'\x20'+_0x2959e1+_0x507188(0x6c2),_0x2f455f=_0x23252e;else{if(_0x479b40&&_0xb365e4)_0x2f0ace=_0x507188(0x7e3)+_0x1cba89+_0x507188(0x728)+_0x59af36+'\x20('+_0x4f67df+')\x22><span\x20style=\x22'+_0x5594e0+'\x22>'+_0x59af36+'</span>\x20'+_0x2aad7f+'\x20'+_0x2959e1+'<span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22'+_0x5594e0+_0x507188(0x88a)+_0x4f67df+_0x507188(0x71d),_0x2f455f=_0x23252e;else _0x2d9e63?(_0x2f0ace=_0x507188(0x7e3)+_0x1cba89+_0x507188(0x728)+_0x59af36+_0x507188(0x5b9)+_0x5594e0+'\x22>'+_0x59af36+_0x507188(0x68d)+_0x2aad7f+_0x507188(0x6c2),_0x2f455f=''):(_0x2f0ace=_0x507188(0x7e3)+_0x1cba89+_0x507188(0x728)+_0x59af36+_0x507188(0x5b9)+_0x5594e0+'\x22>'+_0x59af36+_0x507188(0x68d)+_0x2aad7f+'\x20'+_0x2959e1+'</div>',_0x2f455f=_0x23252e);}}else{const _0x3d61e5=localTeamPlayers['includes'](_0x59af36),_0x18e790=viewerPlayer[_0x507188(0x91)],_0x1064f2=_0x27d65f[_0x507188(0x91)];if(_0x479b40)_0xb365e4?_0x2f0ace=_0x507188(0x7e3)+_0x1cba89+_0x507188(0x728)+_0x59af36+'\x20('+_0x4f67df+')\x22><span\x20style=\x22'+_0x5594e0+'\x22>'+_0x59af36+_0x507188(0x68d)+_0x2aad7f+'\x20'+_0x2959e1+_0x507188(0x9fc)+_0x5594e0+_0x507188(0x88a)+_0x4f67df+_0x507188(0x71d):_0x3d61e5?isViewerTopScorer?_0x2f0ace='<div\x20style=\x22'+_0x1cba89+_0x507188(0x728)+_0x59af36+'\x20('+_0x4f67df+')\x22><span\x20style=\x22'+_0x5594e0+'\x22>'+_0x59af36+_0x507188(0x68d)+_0x2aad7f+'\x20'+_0x2959e1+_0x507188(0x9fc)+_0x5594e0+_0x507188(0x88a)+_0x4f67df+')</span></div>':_0x2f0ace='<div\x20style=\x22'+_0x1cba89+'\x22\x20title=\x22'+_0x4f67df+_0x507188(0x5b9)+_0x5594e0+'\x22>'+_0x4f67df+_0x507188(0x68d)+_0x2aad7f+'\x20'+_0x2959e1+_0x507188(0x6c2):_0x18e790>_0x1064f2?_0x2f0ace='<div\x20style=\x22'+_0x1cba89+_0x507188(0x728)+_0x59af36+'\x20('+_0x4f67df+_0x507188(0xc93)+_0x5594e0+'\x22>'+_0x59af36+_0x507188(0x68d)+_0x2aad7f+'\x20'+_0x2959e1+_0x507188(0x9fc)+_0x5594e0+_0x507188(0x88a)+_0x4f67df+_0x507188(0x71d):_0x2f0ace=_0x507188(0x7e3)+_0x1cba89+_0x507188(0x728)+_0x4f67df+_0x507188(0x5b9)+_0x5594e0+'\x22>'+_0x4f67df+_0x507188(0x68d)+_0x2aad7f+'\x20'+_0x2959e1+'</div>',_0x2f455f=_0x23252e;else _0x2d9e63?(_0x2f0ace='<div\x20style=\x22'+_0x1cba89+_0x507188(0x728)+_0x59af36+_0x507188(0x5b9)+_0x5594e0+'\x22>'+_0x59af36+_0x507188(0x68d)+_0x2aad7f+_0x507188(0x6c2),_0x2f455f=''):(_0x2f0ace=_0x507188(0x7e3)+_0x1cba89+_0x507188(0x728)+_0x59af36+_0x507188(0x5b9)+_0x5594e0+'\x22>'+_0x59af36+'</span>\x20'+_0x2aad7f+'\x20'+_0x2959e1+'</div>',_0x2f455f=_0x23252e);}return _0x507188(0xad0)+_0x6a471f+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f0ace+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f455f+_0x507188(0x51a);})[_0x32b63f(0x6da)](''),_0x27dcc2=_0x241333[_0x32b63f(0x764)]((_0x4dee69,_0xd7bfdc)=>{const _0x48b62b=_0x32b63f;if(_0x2c91d9===_0x48b62b(0x171)&&_0xd7bfdc>_0x2d1c9a||_0x2d9e63)return'';const _0x268fa1=_0x47c2eb[_0x48b62b(0x624)](_0x1e4a98=>_0x1e4a98[_0x48b62b(0x8a5)]&&_0x1e4a98[_0x48b62b(0x8a5)][_0x48b62b(0x7c7)](_0x2e19c0=>_0x2e19c0[_0x48b62b(0xa05)]===_0xd7bfdc&&_0x2e19c0[_0x48b62b(0x995)]))['length'],_0xa5e4e6=_0xd7bfdc===_0x2d1c9a,_0x2cb9f1=_0xa5e4e6?_0x48b62b(0x7f8):_0x48b62b(0x607);return _0x48b62b(0x915)+_0x2cb9f1+_0x48b62b(0x25d)+(_0xd7bfdc+0x1)+_0x48b62b(0x2ba)+_0x268fa1+'\x20/\x20'+_0xc87367+_0x48b62b(0x8a2);})[_0x32b63f(0x6da)]('');let _0xcd012f='',_0x319d84='';if(_0x1d9f6c){const _0x40250=_0x2c91d9==='classic'&&_0x274b63['currentQuestionIndex']>=_0x241333[_0x32b63f(0xb81)]-0x1,_0x1e35c5=_0x2c91d9===_0x32b63f(0x171)&&_0x274b63['reviewQuestionIndex']>=_0x241333[_0x32b63f(0xb81)]-0x1,_0xc6b81d=_0x2c91d9===_0x32b63f(0xbfa)&&_0x274b63[_0x32b63f(0x895)]>=_0x241333[_0x32b63f(0xb81)]-0x1,_0x4cdc60=_0x2c91d9===_0x32b63f(0x9ee)&&_0x274b63[_0x32b63f(0x895)]>=_0x241333[_0x32b63f(0xb81)]-0x1;_0x40250||_0x1e35c5||_0xc6b81d||_0x4cdc60?_0x479b40&&!_0xb365e4?_0xcd012f=_0x32b63f(0x260):_0xcd012f=_0x32b63f(0x4a2):_0xcd012f='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',_0x319d84=_0x32b63f(0xd20);}const _0x2bd71e=_0x2d9e63||_0x479b40&&!_0x274b63[_0x32b63f(0xb88)]?'':'<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x27dcc2+_0x32b63f(0x541),_0x3eeef6=_0x2d9e63||_0x479b40&&!_0x274b63[_0x32b63f(0xb88)]?_0x32b63f(0x3ac):_0x32b63f(0xb05),_0x4cce8f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x274b63[_0x32b63f(0x8d0)][_0x32b63f(0x26f)]+_0x32b63f(0x513)+_0x274b63[_0x32b63f(0x205)]+_0x32b63f(0xbe7)+_0x319d84+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x244091+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x3eeef6+_0x32b63f(0x293)+(_0x5ad579||_0x32b63f(0x521))+_0x32b63f(0x6fa)+_0x2bd71e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1d9f6c?_0x32b63f(0x6c6)+_0xcd012f+_0x32b63f(0x6c2):'')+_0x32b63f(0x3b8);liveGameView[_0x32b63f(0x6ef)]=_0x4cce8f;if(window[_0x32b63f(0x36f)]){const _0x52d729=document[_0x32b63f(0x286)](_0x32b63f(0xb56));_0x52d729&&MathJax['typesetPromise']([_0x52d729]);}if(_0x1d9f6c){document[_0x32b63f(0x286)]('next-sync-question-btn')['onclick']=async()=>{const _0x2d4f0f=_0x32b63f,_0x587d53=doc(db,_0x2d4f0f(0x47d)+appId+_0x2d4f0f(0x817),currentLiveGameId),_0x2dcfa4=_0x2c91d9===_0x2d4f0f(0xaee)&&_0x274b63[_0x2d4f0f(0x895)]>=_0x241333['length']-0x1,_0x29598f=_0x2c91d9===_0x2d4f0f(0x171)&&_0x274b63[_0x2d4f0f(0xb9a)]>=_0x241333[_0x2d4f0f(0xb81)]-0x1,_0xd8ffdd=_0x2c91d9===_0x2d4f0f(0xbfa)&&_0x274b63[_0x2d4f0f(0x895)]>=_0x241333[_0x2d4f0f(0xb81)]-0x1,_0x30595b=_0x2c91d9===_0x2d4f0f(0x9ee)&&_0x274b63[_0x2d4f0f(0x895)]>=_0x241333[_0x2d4f0f(0xb81)]-0x1;if(_0x2c91d9===_0x2d4f0f(0x171))!_0x29598f?await updateDoc(_0x587d53,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x587d53,{'status':'podium'});else{if(!_0x2dcfa4&&!_0xd8ffdd&&!_0x30595b){const _0x14bca0=_0x274b63[_0x2d4f0f(0x895)]+0x1,_0x22f0d5={};Object[_0x2d4f0f(0xb99)](_0x274b63['players'])['forEach'](_0x3de0fd=>{const _0x235429=_0x2d4f0f;_0x22f0d5[_0x235429(0x3df)+_0x3de0fd+_0x235429(0xd1a)]=![],_0x22f0d5['players.'+_0x3de0fd+_0x235429(0x933)]=null,_0x22f0d5[_0x235429(0x3df)+_0x3de0fd+_0x235429(0xbc9)]=![],_0x22f0d5['players.'+_0x3de0fd+_0x235429(0xba8)]=![];}),await updateDoc(_0x587d53,{..._0x22f0d5,'status':'question','currentQuestionIndex':_0x14bca0,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x587d53,{'status':_0x2d4f0f(0x8f6)});}},document['getElementById'](_0x32b63f(0x724))?.[_0x32b63f(0x504)](_0x32b63f(0x936),async()=>{const _0x16f431=_0x32b63f;await updateDoc(doc(db,'artifacts/'+appId+_0x16f431(0x817),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x225f1a=document[_0x32b63f(0x286)](_0x32b63f(0x9a));_0x225f1a&&(_0x225f1a[_0x32b63f(0x2d8)]=()=>{const _0x444c8a=_0x32b63f;showConfirmation(_0x444c8a(0xa83),async()=>{const _0x4abee9=_0x444c8a;await updateDoc(doc(db,_0x4abee9(0x47d)+appId+_0x4abee9(0x817),currentLiveGameId),{'status':_0x4abee9(0x8f6)});});});}}async function handleGenerateParallelFromBank(_0x29c784){const _0xd349e7=_0x45c2ac,_0x2c911c=document[_0xd349e7(0x286)](_0xd349e7(0x20e)),_0x1c7482=document[_0xd349e7(0x286)](_0xd349e7(0xab7));_0x1c7482['classList']['add'](_0xd349e7(0xb5c));const _0x10b023='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x29c784[_0xd349e7(0x26f)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2c911c[_0xd349e7(0xd37)]('beforeend',_0x10b023);const _0x58e606=document['getElementById'](_0xd349e7(0x87b));try{const _0x4768c6=_0x29c784['questions'][_0xd349e7(0x764)]((_0x1b6594,_0x5b342a)=>{const _0x228dc6=_0xd349e7;let _0xd20e17=_0x5b342a+0x1+'.\x20'+(_0x1b6594['questionText']||_0x1b6594['stem'])+'\x0a';if(_0x1b6594[_0x228dc6(0xa07)])_0xd20e17+=_0x1b6594[_0x228dc6(0xa07)][_0x228dc6(0x764)]((_0x206472,_0x3d35a1)=>_0x228dc6(0xa0f)+(_0x3d35a1===_0x1b6594[_0x228dc6(0xc51)]?_0x228dc6(0x77b):'')+'\x20'+_0x206472)[_0x228dc6(0x6da)]('\x0a');else _0x1b6594[_0x228dc6(0x555)]&&(_0xd20e17+=_0x228dc6(0x39b)+_0x1b6594[_0x228dc6(0x555)]);return _0xd20e17;})[_0xd349e7(0x6da)]('\x0a\x0a');_0x58e606[_0xd349e7(0x10e)]=_0xd349e7(0x4e4);const _0x8d16b2=_0xd349e7(0x309)+_0x29c784[_0xd349e7(0x26f)]+_0xd349e7(0x574)+_0x4768c6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0xd349e7(0x59a),_0x593f90={'type':_0xd349e7(0xb8e),'properties':{'questionText':{'type':_0xd349e7(0x32a)},'questionType':{'type':_0xd349e7(0x32a),'enum':[_0xd349e7(0xb86),_0xd349e7(0x27d),'true_false','matching_item']},'options':{'type':'ARRAY','items':{'type':_0xd349e7(0x32a)}},'correctAnswerIndex':{'type':_0xd349e7(0x611)},'idealAnswer':{'type':_0xd349e7(0x32a)},'correctAnswer':{'type':_0xd349e7(0x7de)},'stem':{'type':_0xd349e7(0x32a)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0xd349e7(0xce2),'items':{'type':_0xd349e7(0x32a)}},'explanation':{'type':_0xd349e7(0x32a)},'imageCode':{'type':_0xd349e7(0x32a)}},'required':[_0xd349e7(0x9f5),_0xd349e7(0x7ec)]},_0x3cd7ba={'type':_0xd349e7(0xb8e),'properties':{'topic':{'type':_0xd349e7(0x32a)},'questions':{'type':_0xd349e7(0xce2),'items':_0x593f90}},'required':['topic','questions']},_0x5636ad=await callAnalysisApi(_0x8d16b2,_0x3cd7ba),_0x178089=_0x5636ad[_0xd349e7(0xbc3)]['map']((_0x2fdea8,_0x245d14)=>({..._0x2fdea8,'id':'q_'+Date[_0xd349e7(0x17c)]()+'_'+_0x245d14})),_0x4e41e5='(คู่ขนาน)\x20'+_0x29c784['topic'],_0x35e409={'topic':_0x4e41e5,'questions':_0x178089,'quizType':_0x29c784[_0xd349e7(0x480)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0xd349e7(0xc66)](),'status':_0xd349e7(0x925),'settings':_0x29c784[_0xd349e7(0x125)],'quizMode':_0xd349e7(0x44a),'pairedQuizId':null,'lessonPlan':null};let _0x35b6c7;while(!![]){_0x35b6c7=Math[_0xd349e7(0xb7e)](0x3e8+Math[_0xd349e7(0x3c0)]()*0x2328)['toString']();const _0x362f34=await getDoc(doc(db,_0xd349e7(0x47d)+appId+_0xd349e7(0x5d7),_0x35b6c7));if(!_0x362f34['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0xd349e7(0x5d7),_0x35b6c7),_0x35e409),showMessage(_0xd349e7(0x4d6));}catch(_0x15e607){console[_0xd349e7(0x4da)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x15e607),showMessage(_0xd349e7(0x1ae)+_0x15e607[_0xd349e7(0xc97)]);}finally{const _0x1044df=document[_0xd349e7(0x286)]('temp-loader-results');_0x1044df&&_0x1044df[_0xd349e7(0x6d1)](),_0x1c7482[_0xd349e7(0x707)][_0xd349e7(0x6d1)](_0xd349e7(0xb5c));}}async function handleGenerateParallelPostTest(_0x196570){const _0x255799=_0x45c2ac,_0xafbd48=document[_0x255799(0x286)](_0x255799(0x20e)),_0x462fa9=document[_0x255799(0x286)](_0x255799(0xab7));_0x462fa9[_0x255799(0x707)][_0x255799(0xbfd)]('hidden');const _0x2f6c31=_0x255799(0x8bd);_0xafbd48['insertAdjacentHTML'](_0x255799(0x47f),_0x2f6c31);try{const _0x11bb02=_0x196570['questions'][_0x255799(0x764)]((_0x465f1d,_0x2e02a2)=>{const _0x4a62c4=_0x255799;let _0x41717d=_0x2e02a2+0x1+'.\x20'+(_0x465f1d[_0x4a62c4(0x3a5)]||_0x465f1d[_0x4a62c4(0xcfa)]);if(_0x465f1d['options'])_0x41717d+=_0x4a62c4(0x56f)+_0x465f1d[_0x4a62c4(0xa07)][_0x4a62c4(0x6da)](',\x20');return _0x41717d;})[_0x255799(0x6da)]('\x0a\x0a'),_0x505619='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x196570[_0x255799(0x26f)]+_0x255799(0x3aa)+_0x11bb02+_0x255799(0xd05)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x317983={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x255799(0xce2),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x255799(0x32a)},'questionType':{'type':_0x255799(0x32a)},'options':{'type':_0x255799(0xce2),'items':{'type':_0x255799(0x32a)}},'correctAnswerIndex':{'type':_0x255799(0x611)},'idealAnswer':{'type':_0x255799(0x32a)},'explanation':{'type':'STRING'}},'required':[_0x255799(0x3a5),_0x255799(0x7ec)]}}},'required':[_0x255799(0x26f),_0x255799(0xbc3)]},_0x58d555=await callAnalysisApi(_0x505619,_0x317983),_0x3bd54d=_0x196570[_0x255799(0x26f)][_0x255799(0xc3b)](_0x255799(0x8b9),'')[_0x255799(0x543)](),_0x2647fb='(หลังเรียน)\x20'+_0x3bd54d,_0x313607={..._0x58d555,'topic':_0x2647fb,'quizType':_0x196570[_0x255799(0x480)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x255799(0xc66)](),'status':_0x255799(0x925),'settings':_0x196570[_0x255799(0x125)],'quizMode':_0x255799(0x334),'pairedQuizId':_0x196570['id']};let _0x513489;while(!![]){_0x513489=Math[_0x255799(0xb7e)](0x3e8+Math[_0x255799(0x3c0)]()*0x2328)[_0x255799(0xe2)]();const _0x51f289=await getDoc(doc(db,_0x255799(0x47d)+appId+'/public/data/quizzes',_0x513489));if(!_0x51f289['exists']())break;}await setDoc(doc(db,_0x255799(0x47d)+appId+_0x255799(0x5d7),_0x513489),_0x313607);const _0x1acc29=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x196570['id']);await updateDoc(_0x1acc29,{'pairedQuizId':_0x513489}),showMessage(_0x255799(0x6c3));}catch(_0x57df80){console[_0x255799(0x4da)](_0x255799(0x822),_0x57df80),showMessage(_0x255799(0x1ae)+_0x57df80[_0x255799(0xc97)]);}finally{const _0x6986dd=document['getElementById']('temp-loader-results');if(_0x6986dd)_0x6986dd[_0x255799(0x6d1)]();_0x462fa9[_0x255799(0x707)]['remove']('hidden');}}async function handleGenerateParallelTest(_0x51211d=null){const _0x4c5bef=_0x45c2ac;let _0x18d204=_0x51211d;if(!_0x18d204){const _0x35acb6=document[_0x4c5bef(0x286)](_0x4c5bef(0x74));_0x35acb6[_0x4c5bef(0xc70)]['length']>0x0&&(_0x18d204=_0x35acb6[_0x4c5bef(0xc70)][0x0]);}if(!_0x18d204){showMessage(_0x4c5bef(0x4f1));return;}const _0x29563c=document[_0x4c5bef(0x286)](_0x4c5bef(0x26d)),_0x1331c1=document[_0x4c5bef(0x286)](_0x4c5bef(0x33e)),_0x3f13da=document[_0x4c5bef(0x286)](_0x4c5bef(0xb5)),_0x4e69dc=document[_0x4c5bef(0x286)](_0x4c5bef(0x8a3));_0x4e69dc['disabled']=!![],document[_0x4c5bef(0x286)](_0x4c5bef(0x1bd))[_0x4c5bef(0x707)][_0x4c5bef(0x6d1)]('hidden'),_0x3f13da[_0x4c5bef(0x6ef)]='',_0x29563c[_0x4c5bef(0x707)]['remove'](_0x4c5bef(0xb5c)),_0x1331c1[_0x4c5bef(0x10e)]=_0x4c5bef(0xbab);const _0x56ce4d=new FileReader();_0x56ce4d[_0x4c5bef(0x644)](_0x18d204),_0x56ce4d[_0x4c5bef(0x24f)]=async()=>{const _0x4d2165=_0x4c5bef;try{const _0x44f765=_0x56ce4d['result'][_0x4d2165(0x2b4)](',')[0x1],_0x5f3a46=_0x18d204[_0x4d2165(0x15e)];_0x1331c1['textContent']=_0x4d2165(0xb5a);const _0x484117=document['getElementById'](_0x4d2165(0x6ea))[_0x4d2165(0x50a)],_0x1875ef=_0x484117?_0x4d2165(0xd10):'',_0x1b5b9f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x1b1dd9={'type':_0x4d2165(0xb8e),'properties':{'questionText':{'type':_0x4d2165(0x32a)},'questionType':{'type':_0x4d2165(0x32a),'enum':[_0x4d2165(0xb86),_0x4d2165(0x27d)]},'options':{'type':_0x4d2165(0xce2),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x4d2165(0x32a)},'explanation':{'type':_0x4d2165(0x32a)},'imageCode':{'type':'STRING'}},'required':[_0x4d2165(0x3a5),_0x4d2165(0x9f5),_0x4d2165(0x7ec)]},_0x394ca0={'type':_0x4d2165(0xb8e),'properties':{'topic':{'type':_0x4d2165(0x32a)},'questions':{'type':'ARRAY','items':_0x1b1dd9}},'required':[_0x4d2165(0x26f),_0x4d2165(0xbc3)]},_0x3f3092=[{'text':_0x1b5b9f},{'inlineData':{'mimeType':_0x5f3a46,'data':_0x44f765}}];await handleApiCall(_0x3f3092,_0x4d2165(0xb3),_0x394ca0);}catch(_0x183357){console['error']('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x183357),showMessage(_0x4d2165(0x1ae)+_0x183357[_0x4d2165(0xc97)]),_0x3f13da[_0x4d2165(0x6ef)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x29563c[_0x4d2165(0x707)][_0x4d2165(0xbfd)](_0x4d2165(0xb5c)),_0x4e69dc[_0x4d2165(0x790)]=![];}},_0x56ce4d[_0x4c5bef(0x62b)]=_0x2a0e30=>{const _0x4f434c=_0x4c5bef;console[_0x4f434c(0x4da)](_0x4f434c(0x542),_0x2a0e30),showMessage(_0x4f434c(0x70d)),_0x29563c[_0x4f434c(0x707)][_0x4f434c(0xbfd)](_0x4f434c(0xb5c)),_0x4e69dc[_0x4f434c(0x790)]=![];};}async function handleRegenerateQuestionInEditor(_0x53100b){const _0x4c553c=_0x45c2ac;if(currentEditingQuizData===null)return;const _0x43b5e7=document['querySelector'](_0x4c553c(0x573)+_0x53100b+'\x22]');_0x43b5e7&&(_0x43b5e7['innerHTML']=_0x4c553c(0x712));const _0x1a23ae=currentEditingQuizData['questions'][_0x53100b],_0x15e2ea=currentEditingQuizData[_0x4c553c(0x26f)],_0x44bd39=_0x1a23ae[_0x4c553c(0x9f5)],_0x1f8a3a={'type':_0x4c553c(0xb8e),'properties':{'questionText':{'type':_0x4c553c(0x32a)},'options':{'type':_0x4c553c(0xce2),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4c553c(0x611)},'explanation':{'type':'STRING'}},'required':[_0x4c553c(0x3a5),_0x4c553c(0xa07),_0x4c553c(0xc51),_0x4c553c(0x7ec)]},_0x3de980={'type':_0x4c553c(0xb8e),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x4c553c(0x32a)},'explanation':{'type':_0x4c553c(0x32a)}},'required':[_0x4c553c(0x3a5),_0x4c553c(0x555),_0x4c553c(0x7ec)]};let _0x4ebd6f,_0x3db0a1='';_0x44bd39==='multiple_choice'?(_0x4ebd6f=_0x1f8a3a,_0x3db0a1=_0x4c553c(0x6ac)):(_0x4ebd6f=_0x3de980,_0x3db0a1=_0x4c553c(0x3d8));const _0x299dcb='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x15e2ea+_0x4c553c(0x3c2)+_0x3db0a1+_0x4c553c(0x872)+(_0x1a23ae[_0x4c553c(0x3a5)]||_0x1a23ae['stem'])+'\x22.\x20'+simpleMathPrompt;try{const _0x213e0a=await callAnalysisApi(_0x299dcb,_0x4ebd6f);currentEditingQuizData[_0x4c553c(0xbc3)][_0x53100b]={..._0x1a23ae,..._0x213e0a},renderQuizEditor(currentEditingQuizData);}catch(_0x1dbb2e){console[_0x4c553c(0x4da)](_0x4c553c(0x86c),_0x1dbb2e),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x4854f0=_0x45c2ac,_0xc9278c=document[_0x4854f0(0x286)](_0x4854f0(0x3ae));currentMode===_0x4854f0(0x509)?(adminPasswordModal[_0x4854f0(0x707)]['remove'](_0x4854f0(0xb5c)),document[_0x4854f0(0x286)](_0x4854f0(0xa8b))['focus']()):(currentMode=_0x4854f0(0x509),_0xc9278c[_0x4854f0(0x6ef)]=_0x4854f0(0x46d),_0xc9278c[_0x4854f0(0x66e)]=_0x4854f0(0x8cc),showView(_0x4854f0(0x509)));}function handleAdminLogin(){const _0x1b7941=_0x45c2ac,_0x587c8f=document[_0x1b7941(0x286)](_0x1b7941(0xa8b)),_0x24ac81=document[_0x1b7941(0x286)](_0x1b7941(0x2e6));if(_0x587c8f['value']===_0x1b7941(0x1cc)){adminPasswordModal['classList'][_0x1b7941(0xbfd)](_0x1b7941(0xb5c)),_0x587c8f[_0x1b7941(0x227)]='',_0x24ac81[_0x1b7941(0x707)][_0x1b7941(0xbfd)](_0x1b7941(0xb5c)),currentMode=_0x1b7941(0x11d);const _0x56bf6e=document[_0x1b7941(0x286)](_0x1b7941(0x3ae));_0x56bf6e[_0x1b7941(0x6ef)]=_0x1b7941(0x737),_0x56bf6e[_0x1b7941(0x66e)]=_0x1b7941(0xb01),showView(_0x1b7941(0xcc2));}else _0x24ac81[_0x1b7941(0x707)]['remove'](_0x1b7941(0xb5c)),_0x587c8f[_0x1b7941(0x227)]='';}function switchProjectTab(_0x1bf35b){const _0x53da42=_0x45c2ac;['manage','results',_0x53da42(0x34f)][_0x53da42(0x94d)](_0xe22840=>{const _0x17d6e3=_0x53da42;document[_0x17d6e3(0x286)](_0xe22840+_0x17d6e3(0x2d0))[_0x17d6e3(0x707)]['remove']('active'),document[_0x17d6e3(0x286)](_0xe22840+_0x17d6e3(0x9c3))['classList'][_0x17d6e3(0xbfd)]('hidden');}),document[_0x53da42(0x286)](_0x1bf35b+_0x53da42(0x2d0))['classList'][_0x53da42(0xbfd)](_0x53da42(0x925)),document[_0x53da42(0x286)](_0x1bf35b+'-tab-content')['classList'][_0x53da42(0x6d1)](_0x53da42(0xb5c));}function switchQuizDetailTab(_0x4c660d){const _0x167da2=_0x45c2ac,_0x148826={'analytics':{'btn':_0x167da2(0x42c),'content':'analytics-tab-content'},'scores':{'btn':_0x167da2(0x5f4),'content':_0x167da2(0x662)},'leaderboard-quiz':{'btn':_0x167da2(0x3e1),'content':_0x167da2(0xc33)},'behavior-log':{'btn':_0x167da2(0x5f0),'content':'behavior-log-tab-content'}};for(const _0x19bc8b in _0x148826){document[_0x167da2(0x286)](_0x148826[_0x19bc8b]['btn'])['classList']['remove'](_0x167da2(0x925)),document[_0x167da2(0x286)](_0x148826[_0x19bc8b][_0x167da2(0x8e3)])[_0x167da2(0x707)][_0x167da2(0xbfd)]('hidden');}document[_0x167da2(0x286)](_0x148826[_0x4c660d][_0x167da2(0xbcb)])['classList'][_0x167da2(0xbfd)](_0x167da2(0x925)),document[_0x167da2(0x286)](_0x148826[_0x4c660d][_0x167da2(0x8e3)])['classList']['remove'](_0x167da2(0xb5c));}function showMessage(_0x13d5c2,_0x500016=null){const _0x13c562=_0x45c2ac;modalMessage[_0x13c562(0x6ef)]=_0x13d5c2[_0x13c562(0xc3b)](/\n/g,'<br>'),modalConfirmAction=_0x500016,messageModal[_0x13c562(0x707)][_0x13c562(0x6d1)]('hidden');}function showConfirmation(_0x135c2a,_0x54ed28,_0x472813=null){const _0x2e705a=_0x45c2ac;document[_0x2e705a(0x286)]('confirmation-message')[_0x2e705a(0x10e)]=_0x135c2a,document[_0x2e705a(0x286)](_0x2e705a(0xb09))[_0x2e705a(0x443)]('h3')[_0x2e705a(0x10e)]='ยืนยันการกระทำ',confirmAction=_0x54ed28,cancelAction=_0x472813,confirmationModal[_0x2e705a(0x707)][_0x2e705a(0x6d1)]('hidden');}function listenForProjects(){const _0x2dad26=_0x45c2ac,_0x37dda2=doc(db,'globalSettings','dashboardConfig');onSnapshot(_0x37dda2,_0x13b37b=>{const _0x1a9859=_0x1af4;if(_0x13b37b[_0x1a9859(0x6cc)]()){const _0x4a74ef=_0x13b37b[_0x1a9859(0x10a)]();globalDashboardSettings[_0x1a9859(0x100)]=_0x4a74ef['projectSort']||_0x1a9859(0x80d),globalDashboardSettings['pinnedProjects']=_0x4a74ef[_0x1a9859(0x91e)]||[],globalDashboardSettings[_0x1a9859(0x894)]=_0x4a74ef[_0x1a9859(0x894)]||[];}allProjects[_0x1a9859(0xb81)]>0x0&&renderProjects();});const _0x17151a=collection(db,_0x2dad26(0x47d)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x17151a,_0x231659=>{const _0x38e399=_0x2dad26;allProjects=_0x231659[_0x38e399(0x22c)]['map'](_0x101378=>({'id':_0x101378['id'],..._0x101378[_0x38e399(0x10a)]()})),renderProjects();},_0x1cba92=>{const _0x1ccc6b=_0x2dad26;console[_0x1ccc6b(0x4da)]('Error\x20listening\x20for\x20projects:',_0x1cba92),showMessage(_0x1ccc6b(0x325));});}function showColorPalette(_0x51795e,_0x335255){const _0x542592=_0x45c2ac;document[_0x542592(0x640)](_0x542592(0x64a))['forEach'](_0x570918=>_0x570918[_0x542592(0x6d1)]());const _0x515eb7=['#FFFFFF',_0x542592(0xb67),_0x542592(0x415),_0x542592(0x60f),'#DBEAFE',_0x542592(0x314),_0x542592(0x23a),'#FCE7F3','#E5E7EB'],_0x4dcaa5=document['createElement']('div');_0x4dcaa5['className']=_0x542592(0xcd5),_0x515eb7[_0x542592(0x94d)](_0x5943bd=>{const _0x2f75bf=_0x542592,_0x5ba848=document['createElement']('div');_0x5ba848[_0x2f75bf(0x5b7)]=_0x2f75bf(0x879),_0x5ba848[_0x2f75bf(0x760)][_0x2f75bf(0x1bc)]=_0x5943bd,_0x5ba848[_0x2f75bf(0x504)](_0x2f75bf(0x936),()=>{const _0x4f3d7d=_0x2f75bf;handleProjectColorChange(_0x335255,_0x5943bd),_0x4dcaa5[_0x4f3d7d(0x6d1)]();}),_0x4dcaa5[_0x2f75bf(0x395)](_0x5ba848);}),document[_0x542592(0xb1)][_0x542592(0x395)](_0x4dcaa5);const _0x1174c4=_0x51795e[_0x542592(0x477)]();_0x4dcaa5[_0x542592(0x760)][_0x542592(0x630)]=_0x1174c4[_0x542592(0xc02)]+window[_0x542592(0x72a)]+'px',_0x4dcaa5[_0x542592(0x760)]['left']=_0x1174c4[_0x542592(0x1e2)]+window[_0x542592(0x38d)]-_0x4dcaa5[_0x542592(0x5b4)]/0x2+'px';}async function handleProjectColorChange(_0x28f7a5,_0x3bdef0){const _0x4cfc5d=_0x45c2ac,_0x288ecb=doc(db,_0x4cfc5d(0x47d)+appId+_0x4cfc5d(0x99f),_0x28f7a5);try{await updateDoc(_0x288ecb,{'color':_0x3bdef0});}catch(_0x1dec6c){console[_0x4cfc5d(0x4da)](_0x4cfc5d(0x61c),_0x1dec6c),showMessage(_0x4cfc5d(0x899));}}async function renderProjects(){const _0x2589bf=_0x45c2ac,_0x28d06b=globalDashboardSettings['projectSort']||_0x2589bf(0x80d),_0x5053a9=new Set(globalDashboardSettings[_0x2589bf(0x91e)]||[]),_0x1d9250=globalDashboardSettings[_0x2589bf(0x6a7)]||'grid',_0x3025f5=document['getElementById'](_0x2589bf(0x786)),_0x18ec31=document[_0x2589bf(0x286)]('list-view-btn');_0x3025f5[_0x2589bf(0x707)][_0x2589bf(0x587)](_0x2589bf(0x925),_0x1d9250===_0x2589bf(0xc0b)),_0x18ec31[_0x2589bf(0x707)][_0x2589bf(0x587)]('active',_0x1d9250==='list'),document['getElementById'](_0x2589bf(0x2ed))[_0x2589bf(0x227)]=_0x28d06b;const _0x45fc1e=document[_0x2589bf(0x286)](_0x2589bf(0xa0e))[_0x2589bf(0x227)][_0x2589bf(0x3f0)]();let _0x4ab61c=allProjects[_0x2589bf(0x624)](_0x5d49b7=>_0x5d49b7[_0x2589bf(0xc49)][_0x2589bf(0x3f0)]()[_0x2589bf(0x613)](_0x45fc1e));const _0x5cfda1=_0x4ab61c['filter'](_0x474d92=>_0x5053a9[_0x2589bf(0x90b)](_0x474d92['id'])),_0x120997=_0x4ab61c[_0x2589bf(0x624)](_0x4ed9fc=>!_0x5053a9[_0x2589bf(0x90b)](_0x4ed9fc['id'])),_0x2cc37b=(_0x4d1149,_0xd5baa1)=>{const _0x39debc=_0x2589bf;switch(_0x28d06b){case _0x39debc(0x914):return _0x4d1149[_0x39debc(0xc49)][_0x39debc(0xc52)](_0xd5baa1[_0x39debc(0xc49)],'th');case _0x39debc(0xc14):return _0xd5baa1[_0x39debc(0xc49)][_0x39debc(0xc52)](_0x4d1149['projectName'],'th');case _0x39debc(0x116):return new Date(_0x4d1149[_0x39debc(0xd3c)])-new Date(_0xd5baa1[_0x39debc(0xd3c)]);default:return new Date(_0xd5baa1[_0x39debc(0xd3c)])-new Date(_0x4d1149[_0x39debc(0xd3c)]);}};_0x5cfda1['sort'](_0x2cc37b),_0x120997[_0x2589bf(0x276)](_0x2cc37b);const _0x554920=[..._0x5cfda1,..._0x120997],_0x5699e1=globalDashboardSettings['projectOrder']||[];_0x5699e1[_0x2589bf(0xb81)]>0x0&&_0x1d9250===_0x2589bf(0xc0b)&&_0x554920[_0x2589bf(0x276)]((_0x1532a7,_0x173f75)=>{const _0x570970=_0x2589bf,_0x1db58c=_0x5699e1[_0x570970(0x6a6)](_0x1532a7['id']),_0x31d1d4=_0x5699e1[_0x570970(0x6a6)](_0x173f75['id']);if(_0x1db58c===-0x1)return 0x1;if(_0x31d1d4===-0x1)return-0x1;return _0x1db58c-_0x31d1d4;});const _0x1daf0c={};await Promise['all'](_0x554920[_0x2589bf(0x764)](async _0x204ab3=>{const _0x4e3df7=_0x2589bf,_0x4a2697=query(collection(db,_0x4e3df7(0x47d)+appId+_0x4e3df7(0x5d7)),where(_0x4e3df7(0x12d),'==',_0x204ab3['id'])),_0x19e8ef=await getDocs(_0x4a2697);_0x1daf0c[_0x204ab3['id']]=_0x19e8ef['size'];}));const _0x332a22=document[_0x2589bf(0x286)](_0x2589bf(0x3c5));let _0x2d16a6='';if(_0x1d9250===_0x2589bf(0xc0b)){_0x332a22[_0x2589bf(0x5b7)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x2589bf(0xb81)]>0x0&&_0x45fc1e===''){const _0x4d4e29=starredQuizzes[_0x2589bf(0x764)](_0x527d51=>{const _0x10f763=_0x2589bf,_0x14fc2d=allProjects[_0x10f763(0x7c7)](_0x3e5282=>_0x3e5282['id']===_0x527d51[_0x10f763(0x12d)]);return{..._0x527d51,'projectName':_0x14fc2d?_0x14fc2d[_0x10f763(0xc49)]:_0x10f763(0x7a0)};});_0x2d16a6+=_0x2589bf(0x2e2)+_0x4d4e29[_0x2589bf(0x764)](_0x56ae3f=>_0x2589bf(0xac6)+_0x56ae3f['topic']+'\x22>'+_0x56ae3f[_0x2589bf(0x26f)]+_0x2589bf(0x5b0)+_0x56ae3f[_0x2589bf(0xc49)]+_0x2589bf(0x24c)+_0x56ae3f[_0x2589bf(0xc49)]+_0x2589bf(0x9cf))[_0x2589bf(0x6da)]('')+_0x2589bf(0x231)+starredQuizzes[_0x2589bf(0xb81)]+_0x2589bf(0x5e8);}_0x554920[_0x2589bf(0x94d)](_0x41b10d=>{const _0x35656b=_0x2589bf,_0x5783c0=_0x1daf0c[_0x41b10d['id']]??0x0,_0x1f97f0=_0x5053a9['has'](_0x41b10d['id']),_0x500b06=_0x41b10d[_0x35656b(0x4af)]||'#FFFFFF',_0x1cc021=parseInt(_0x500b06[_0x35656b(0xb94)](0x1,0x3),0x10)*0.299+parseInt(_0x500b06['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x500b06[_0x35656b(0xb94)](0x5,0x7),0x10)*0.114<0xba,_0x4ced05=_0x1cc021?'text-white':_0x35656b(0xa7a),_0x5b072a=_0x1cc021?_0x35656b(0x89b):_0x35656b(0x499);_0x2d16a6+=_0x35656b(0xa28)+(_0x1f97f0?_0x35656b(0x4f7):_0x35656b(0x8d8))+_0x35656b(0xbed)+_0x500b06+_0x35656b(0x4cb)+_0x41b10d['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x41b10d['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x1cc021?'text-gray-300\x20hover:text-white':_0x35656b(0x5ea))+_0x35656b(0x366)+_0x41b10d['id']+_0x35656b(0x8f7)+(_0x1cc021?_0x35656b(0x40e):_0x35656b(0x5ea))+_0x35656b(0xcbf)+(_0x1f97f0?_0x1cc021?'text-yellow-300':_0x35656b(0x62e):'')+_0x35656b(0xada)+_0x41b10d['id']+_0x35656b(0x863)+_0x4ced05+_0x35656b(0x963)+_0x41b10d[_0x35656b(0xc49)]+_0x35656b(0xab9)+_0x5b072a+_0x35656b(0x53f)+new Date(_0x41b10d[_0x35656b(0xd3c)])[_0x35656b(0x725)](_0x35656b(0xda))+_0x35656b(0xc11)+(_0x1cc021?_0x35656b(0x8f2):'text-gray-700')+_0x35656b(0x36a)+_0x5783c0+_0x35656b(0xc9b)+_0x41b10d['id']+_0x35656b(0xb63)+_0x41b10d[_0x35656b(0xc49)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x1cc021?'text-red-300\x20hover:text-red-100':'text-red-500\x20hover:text-red-700')+_0x35656b(0x390);});}else _0x332a22[_0x2589bf(0x5b7)]=_0x2589bf(0x62d),starredQuizzes[_0x2589bf(0xb81)]>0x0&&_0x45fc1e===''&&(_0x2d16a6+=_0x2589bf(0x441)+starredQuizzes[_0x2589bf(0xb81)]+_0x2589bf(0x621)),_0x2d16a6+=_0x2589bf(0x773),_0x554920[_0x2589bf(0x94d)](_0x32a8dc=>{const _0x12a35d=_0x2589bf,_0x53149d=_0x1daf0c[_0x32a8dc['id']]??0x0,_0x147ccf=_0x5053a9['has'](_0x32a8dc['id']);_0x2d16a6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x32a8dc[_0x12a35d(0x4af)]||'#E5E7EB')+_0x12a35d(0x198)+_0x32a8dc['id']+_0x12a35d(0x2cb)+_0x32a8dc['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x53149d+_0x12a35d(0xd00)+new Date(_0x32a8dc['createdAt'])['toLocaleString'](_0x12a35d(0xda))+_0x12a35d(0xac3)+_0x32a8dc['id']+_0x12a35d(0xd1d)+(_0x147ccf?_0x12a35d(0x62e):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x32a8dc['id']+'\x22\x20data-name=\x22'+_0x32a8dc[_0x12a35d(0xc49)]+_0x12a35d(0x432);});projectList[_0x2589bf(0x6ef)]=_0x2d16a6,noProjectsMsg[_0x2589bf(0x707)][_0x2589bf(0x587)](_0x2589bf(0xb5c),_0x2d16a6['length']>0x0);}document['getElementById'](_0x45c2ac(0x9f6))['addEventListener'](_0x45c2ac(0x936),async()=>{const _0x42023d=_0x45c2ac,_0x45e0ac=document[_0x42023d(0x286)](_0x42023d(0x3ec)),_0x2d685c=_0x45e0ac[_0x42023d(0x227)][_0x42023d(0x543)]();if(!_0x2d685c){showMessage(_0x42023d(0x871));return;}try{const _0x4209a8=doc(collection(db,'artifacts/'+appId+_0x42023d(0x99f)));await setDoc(_0x4209a8,{'projectName':_0x2d685c,'students':[],'settings':{'resultsDisplay':_0x42023d(0x87e),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x42023d(0x5ba),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x42023d(0xc66)]()}),_0x45e0ac[_0x42023d(0x227)]='',createProjectModal['classList'][_0x42023d(0xbfd)](_0x42023d(0xb5c)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x3c861a){console[_0x42023d(0x4da)](_0x42023d(0xb48),_0x3c861a),showMessage(_0x42023d(0x487));}}),projectList[_0x45c2ac(0x504)](_0x45c2ac(0x936),async _0x1df4e2=>{const _0x31b6cc=_0x45c2ac,_0x4f5dab=_0x1df4e2['target'][_0x31b6cc(0x5d0)](_0x31b6cc(0x78b)),_0x59190a=_0x1df4e2[_0x31b6cc(0x797)][_0x31b6cc(0x5d0)](_0x31b6cc(0x1a0)),_0x29ccbf=_0x1df4e2[_0x31b6cc(0x797)][_0x31b6cc(0x5d0)]('.pin-project-btn'),_0x413c8f=_0x1df4e2[_0x31b6cc(0x797)][_0x31b6cc(0x5d0)]('.color-palette-btn');if(_0x29ccbf){const _0xd31b3a=_0x29ccbf[_0x31b6cc(0x24b)]['id'],_0xebcc9d=doc(db,_0x31b6cc(0x33d),_0x31b6cc(0xbf2)),_0x2fbe4e=globalDashboardSettings['pinnedProjects'];let _0x38d112;_0x2fbe4e[_0x31b6cc(0x613)](_0xd31b3a)?_0x38d112=_0x2fbe4e['filter'](_0x1dc55b=>_0x1dc55b!==_0xd31b3a):_0x38d112=[..._0x2fbe4e,_0xd31b3a];try{await setDoc(_0xebcc9d,{'pinnedProjects':_0x38d112},{'merge':!![]});}catch(_0x1a7bef){console[_0x31b6cc(0x4da)](_0x31b6cc(0x4ec),_0x1a7bef),showMessage(_0x31b6cc(0x259));}}else{if(_0x413c8f){const _0xf72f4=_0x413c8f[_0x31b6cc(0x24b)]['id'];showColorPalette(_0x413c8f,_0xf72f4);}else{if(_0x4f5dab){const _0x25cfa8=_0x4f5dab[_0x31b6cc(0x24b)]['id'];_0x25cfa8===_0x31b6cc(0x6eb)?showStarredProjectView():(currentProjectId=_0x25cfa8,await loadProjectDetails(currentProjectId),showView(_0x31b6cc(0x56d)));}else{if(_0x59190a){const _0x367ef5=_0x59190a[_0x31b6cc(0x24b)]['id'],_0x1dbe41=_0x59190a[_0x31b6cc(0x24b)][_0x31b6cc(0x224)];showConfirmation(_0x31b6cc(0xc31)+_0x1dbe41+_0x31b6cc(0x72c),()=>handleDeleteProject(_0x367ef5));}}}}}),projectList[_0x45c2ac(0x504)](_0x45c2ac(0xc64),_0x1484eb=>{const _0x1184bf=_0x45c2ac,_0x222e7e=_0x1484eb['target'][_0x1184bf(0x5d0)](_0x1184bf(0xa58));_0x222e7e&&_0x222e7e[_0x1184bf(0x707)]['add'](_0x1184bf(0x559));}),projectList[_0x45c2ac(0x504)](_0x45c2ac(0xc95),_0x469237=>{const _0x1b12fa=_0x45c2ac,_0x56f6be=_0x469237[_0x1b12fa(0x797)]['closest']('.project-card-container');_0x56f6be&&_0x56f6be['classList'][_0x1b12fa(0x6d1)](_0x1b12fa(0x559));}),projectList[_0x45c2ac(0x504)](_0x45c2ac(0x47b),_0x4efcc2=>{const _0x26c862=_0x45c2ac;_0x4efcc2[_0x26c862(0x5be)]();const _0x5e4c88=document[_0x26c862(0x443)]('.project-card-container.opacity-50');if(!_0x5e4c88)return;const _0x2212f7=getDragAfterElement(projectList,_0x4efcc2[_0x26c862(0x251)]);_0x2212f7==null?projectList[_0x26c862(0x395)](_0x5e4c88):projectList[_0x26c862(0xc13)](_0x5e4c88,_0x2212f7);}),projectList['addEventListener'](_0x45c2ac(0xb9e),_0x2d8cc7=>{const _0x46f058=_0x45c2ac;_0x2d8cc7[_0x46f058(0x5be)]();const _0x370e08=[...projectList[_0x46f058(0x640)](_0x46f058(0xca9))][_0x46f058(0x764)](_0x51d3c0=>_0x51d3c0[_0x46f058(0x24b)]['id']);saveProjectOrder(_0x370e08);});function renderBehaviorLog(_0x110a42){const _0x5ee860=_0x45c2ac,_0x13bad3=document[_0x5ee860(0x286)](_0x5ee860(0x923));if(!_0x13bad3)return;const _0x4cf6ea=_0x110a42[_0x5ee860(0x624)](_0x3b3b8f=>_0x3b3b8f[_0x5ee860(0xd2c)]&&_0x3b3b8f[_0x5ee860(0xd2c)][_0x5ee860(0xb81)]>0x0);if(_0x4cf6ea[_0x5ee860(0xb81)]===0x0){_0x13bad3[_0x5ee860(0x6ef)]=_0x5ee860(0x10b);return;}let _0x4df6a7='';_0x4cf6ea[_0x5ee860(0x94d)](_0x4b06a1=>{const _0x49f256=_0x5ee860;_0x4df6a7+=_0x49f256(0xb54)+_0x4b06a1[_0x49f256(0x9b7)]+_0x49f256(0x578),_0x4b06a1[_0x49f256(0xd2c)]['sort']((_0x92d943,_0x439146)=>new Date(_0x439146[_0x49f256(0x762)])-new Date(_0x92d943[_0x49f256(0x762)]))[_0x49f256(0x94d)](_0x3f84e2=>{const _0x37adb5=_0x49f256,_0x1fb520=new Date(_0x3f84e2[_0x37adb5(0x762)])[_0x37adb5(0x7a4)](_0x37adb5(0xda),{'dateStyle':_0x37adb5(0xac7),'timeStyle':'medium'});_0x4df6a7+=_0x37adb5(0x381)+_0x3f84e2[_0x37adb5(0x93d)]+_0x37adb5(0x485)+_0x1fb520+_0x37adb5(0x357);}),_0x4df6a7+=_0x49f256(0xc1b);}),_0x13bad3[_0x5ee860(0x6ef)]=_0x4df6a7;}function getDragAfterElement(_0x39f66e,_0x12bd5d){const _0x2bc894=_0x45c2ac,_0x453a9f=[..._0x39f66e[_0x2bc894(0x640)](_0x2bc894(0x402))];return _0x453a9f[_0x2bc894(0xd34)]((_0x141c7c,_0x224403)=>{const _0x2757f5=_0x2bc894,_0x3213ff=_0x224403[_0x2757f5(0x477)](),_0x51a46d=_0x12bd5d-_0x3213ff[_0x2757f5(0x630)]-_0x3213ff[_0x2757f5(0x80)]/0x2;return _0x51a46d<0x0&&_0x51a46d>_0x141c7c[_0x2757f5(0x58b)]?{'offset':_0x51a46d,'element':_0x224403}:_0x141c7c;},{'offset':Number['NEGATIVE_INFINITY']})['element'];}async function saveProjectOrder(_0x59449e){const _0x3e595e=_0x45c2ac,_0x4c5f93=doc(db,_0x3e595e(0x33d),_0x3e595e(0xbf2));try{await setDoc(_0x4c5f93,{'projectOrder':_0x59449e},{'merge':!![]});}catch(_0x4e7d4d){console[_0x3e595e(0x4da)](_0x3e595e(0x832),_0x4e7d4d),showMessage(_0x3e595e(0x708));}}async function logBehaviorEvent(_0xd36dff,_0x5397ea={}){const _0x1db4ac=_0x45c2ac;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x1db4ac(0xc1d)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x5a91f3=doc(db,_0x1db4ac(0x47d)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x1db4ac(0x9d4),currentStudentName),_0x202c4b={'event':_0xd36dff,'timestamp':new Date()[_0x1db4ac(0xc66)](),..._0x5397ea};try{await updateDoc(_0x5a91f3,{'behaviorLog':arrayUnion(_0x202c4b)}),console['log'](_0x1db4ac(0xaa2)+currentStudentName+_0x1db4ac(0x7c9));}catch(_0x3b0ea5){_0x3b0ea5[_0x1db4ac(0x9b)]==='not-found'?console[_0x1db4ac(0xc1d)](_0x1db4ac(0x389)+currentStudentName+_0x1db4ac(0x67e)):console[_0x1db4ac(0x4da)](_0x1db4ac(0x7b6),_0x3b0ea5);}}function getScoreTier(_0x24e45d,_0x1358d0){const _0x5ecba1=_0x45c2ac;if(_0x1358d0===0x0){if(_0x24e45d===0x0)return{'text':'(รอคะแนน)','icon':'⏳'};return{'text':_0x5ecba1(0x3f1),'icon':'😥'};}const _0x574a78=_0x24e45d/(_0x1358d0===0x0?0x1:_0x1358d0);if(_0x574a78===0x1)return{'text':_0x5ecba1(0xc08),'icon':'👑'};if(_0x574a78>=0.7)return{'text':_0x5ecba1(0x5cc),'icon':'🔥'};if(_0x574a78>=0.4)return{'text':_0x5ecba1(0x93f),'icon':'🏃'};return{'text':'(พยายามอยู่)','icon':'😥'};}function calculateMeanAndStdDev(_0x1b3479){const _0xe00a09=_0x45c2ac;if(_0x1b3479[_0xe00a09(0xb81)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x335a68=_0x1b3479[_0xe00a09(0xd34)]((_0x401db8,_0x375580)=>_0x401db8+_0x375580,0x0)/_0x1b3479['length'];if(_0x1b3479[_0xe00a09(0xb81)]===0x1)return{'mean':_0x335a68,'stdDev':0x0};const _0x68104c=Math['sqrt'](_0x1b3479['map'](_0x15da37=>Math['pow'](_0x15da37-_0x335a68,0x2))['reduce']((_0x5f2057,_0x549e9b)=>_0x5f2057+_0x549e9b,0x0)/(_0x1b3479[_0xe00a09(0xb81)]-0x1));return{'mean':_0x335a68,'stdDev':_0x68104c};}function calculateZScore(_0x2777a1,_0x3db935,_0x5e8219){if(_0x5e8219===0x0)return 0x0;return(_0x2777a1-_0x3db935)/_0x5e8219;}function calculateTScore(_0x52ef9b){return 0xa*_0x52ef9b+0x32;}function showStarredProjectView(){const _0x43b9c6=_0x45c2ac;currentProjectId=_0x43b9c6(0x5a4),currentProjectData=null,projectTitle[_0x43b9c6(0x10e)]=_0x43b9c6(0x560),projectIdDisplay[_0x43b9c6(0x10e)]='pinned-items',showView(_0x43b9c6(0x56d)),manageTab[_0x43b9c6(0x707)][_0x43b9c6(0xbfd)](_0x43b9c6(0xb5c)),leaderboardTab[_0x43b9c6(0x707)][_0x43b9c6(0xbfd)]('hidden'),switchProjectTab(_0x43b9c6(0x335)),renderQuizzes();}async function loadProjectDetails(_0x13bad2){const _0x257c0b=_0x45c2ac,_0x54d73b=doc(db,_0x257c0b(0x47d)+appId+_0x257c0b(0x99f),_0x13bad2),_0x18b690=await getDoc(_0x54d73b);if(_0x18b690[_0x257c0b(0x6cc)]()){manageTab['classList'][_0x257c0b(0x6d1)](_0x257c0b(0xb5c)),leaderboardTab['classList'][_0x257c0b(0x6d1)](_0x257c0b(0xb5c)),currentProjectData=_0x18b690[_0x257c0b(0x10a)](),projectTitle['textContent']=currentProjectData['projectName'],projectIdDisplay[_0x257c0b(0x10e)]=_0x13bad2;const _0x2c6620=currentProjectData[_0x257c0b(0x125)]||{};document[_0x257c0b(0x286)](_0x257c0b(0x722))['value']=_0x2c6620[_0x257c0b(0xa78)]||_0x257c0b(0x5ba);const _0x177b55=document[_0x257c0b(0x286)](_0x257c0b(0x884));_0x177b55[_0x257c0b(0x50a)]=_0x2c6620[_0x257c0b(0x556)]!==![];const _0x1d0f51=document[_0x257c0b(0x286)]('enable-passcode-checkbox'),_0x5567ab=document[_0x257c0b(0x286)]('passcode-input-container'),_0x172735=document[_0x257c0b(0x286)](_0x257c0b(0xb29)),_0x464732=_0x2c6620[_0x257c0b(0xa93)]||![];_0x1d0f51[_0x257c0b(0x50a)]=_0x464732,_0x172735[_0x257c0b(0x227)]=_0x2c6620['passcode']||'',_0x5567ab['classList']['toggle']('hidden',!_0x464732),_0x1d0f51['onchange']=()=>{const _0x3b4cf3=_0x257c0b;_0x5567ab[_0x3b4cf3(0x707)][_0x3b4cf3(0x587)](_0x3b4cf3(0xb5c),!_0x1d0f51[_0x3b4cf3(0x50a)]);},document[_0x257c0b(0x286)](_0x257c0b(0xc98))[_0x257c0b(0x50a)]=_0x2c6620['isConfidenceScoringEnabled']||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x13bad2),listenForProjectQuizzes(_0x13bad2),listenForStudentProfiles(_0x13bad2);}else showMessage(_0x257c0b(0x8c6)),showView(_0x257c0b(0xcc2));}async function handleResetProjectOrder(){const _0x5db9dc=_0x45c2ac,_0x2e4206=doc(db,_0x5db9dc(0x33d),_0x5db9dc(0xbf2));try{await setDoc(_0x2e4206,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x5db9dc(0x502));}catch(_0x5a7ad8){console['error'](_0x5db9dc(0x9a5),_0x5a7ad8),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x4c2600){const _0x280c21=_0x45c2ac;if(!_0x4c2600)return;const _0x1c7e39=doc(db,_0x280c21(0x47d)+appId+_0x280c21(0x99f),_0x4c2600);try{const _0x1f0ff5=await getDoc(_0x1c7e39);if(_0x1f0ff5[_0x280c21(0x6cc)]()){const _0x16ae38=_0x1f0ff5[_0x280c21(0x10a)]()['isPinned']||![];await updateDoc(_0x1c7e39,{'isPinned':!_0x16ae38});}}catch(_0x2dcb9f){console[_0x280c21(0x4da)](_0x280c21(0xbd),_0x2dcb9f),showMessage(_0x280c21(0x259));}}async function handleDeleteProject(_0x242e3f){const _0xb4753e=_0x45c2ac;try{const _0x3259ba=writeBatch(db),_0x84e900=collection(db,_0xb4753e(0x47d)+appId+'/public/data/quizzes'),_0x3cf4ab=query(_0x84e900,where(_0xb4753e(0x12d),'==',_0x242e3f)),_0x2d6001=await getDocs(_0x3cf4ab);for(const _0x2d758d of _0x2d6001[_0xb4753e(0x22c)]){const _0x23d49a=collection(db,_0xb4753e(0x47d)+appId+'/public/data/quizzes/'+_0x2d758d['id']+_0xb4753e(0x9d4)),_0x46fbbc=await getDocs(_0x23d49a);_0x46fbbc[_0xb4753e(0x94d)](_0x5ddf15=>{const _0x42ce94=_0xb4753e;_0x3259ba[_0x42ce94(0x943)](_0x5ddf15[_0x42ce94(0xaca)]);}),_0x3259ba['delete'](_0x2d758d['ref']);}const _0x25da2d=collection(db,_0xb4753e(0x47d)+appId+'/public/data/projects/'+_0x242e3f+'/studentProfiles'),_0x4423e3=await getDocs(_0x25da2d);_0x4423e3[_0xb4753e(0x94d)](_0x21165c=>{const _0x3d2062=_0xb4753e;_0x3259ba[_0x3d2062(0x943)](_0x21165c[_0x3d2062(0xaca)]);});const _0x42b83d=doc(db,_0xb4753e(0x47d)+appId+_0xb4753e(0x99f),_0x242e3f);_0x3259ba[_0xb4753e(0x943)](_0x42b83d),await _0x3259ba[_0xb4753e(0x92b)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0xb4753e(0xcc2));}catch(_0x5bf96f){console[_0xb4753e(0x4da)]('Error\x20deleting\x20project:',_0x5bf96f),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x45c2ac(0x286)]('save-settings-btn')['addEventListener'](_0x45c2ac(0x936),async()=>{const _0xd23284=_0x45c2ac;if(!currentProjectId)return;const _0x1481d8={'defaultNumQuestions':parseInt(document[_0xd23284(0x286)](_0xd23284(0x4fe))[_0xd23284(0x227)]),'defaultNumChoices':parseInt(document[_0xd23284(0x286)](_0xd23284(0x3f4))['value']),'defaultPassingScore':parseInt(document[_0xd23284(0x286)](_0xd23284(0xb0))[_0xd23284(0x227)]),'resultsDisplay':document[_0xd23284(0x286)](_0xd23284(0x953))['value'],'shuffleSetting':document[_0xd23284(0x286)](_0xd23284(0x722))[_0xd23284(0x227)],'timerMode':document['getElementById']('timer-mode-select')[_0xd23284(0x227)],'timerDuration':parseInt(document[_0xd23284(0x286)](_0xd23284(0x61f))[_0xd23284(0x227)]),'isConfidenceScoringEnabled':document[_0xd23284(0x286)](_0xd23284(0xc98))[_0xd23284(0x50a)],'confidenceMode':document[_0xd23284(0x286)]('confidence-mode-select')[_0xd23284(0x227)]};try{const _0x498169=doc(db,_0xd23284(0x47d)+appId+_0xd23284(0x99f),currentProjectId);await updateDoc(_0x498169,{'settings':_0x1481d8}),showMessage(_0xd23284(0x893));}catch(_0x7d8669){console['error'](_0xd23284(0x954),_0x7d8669),showMessage(_0xd23284(0x5b3));}});function listenForStudents(_0x55ff85){const _0x371930=_0x45c2ac,_0x1b04ac=doc(db,'artifacts/'+appId+_0x371930(0x99f),_0x55ff85);unsubscribeStudentsListener=onSnapshot(_0x1b04ac,_0x229d1b=>{const _0x5ef7d0=_0x371930;if(_0x229d1b[_0x5ef7d0(0x6cc)]()){const _0x502df0=_0x229d1b[_0x5ef7d0(0x10a)]();currentProjectData=_0x502df0,renderStudentList(_0x502df0[_0x5ef7d0(0xcaf)]||[]);}});}function renderStudentList(_0x42abfe){const _0x4fd034=_0x45c2ac,_0x52c4e4=document['getElementById']('delete-all-students-btn');_0x42abfe[_0x4fd034(0xb81)]===0x0?(studentList[_0x4fd034(0x6ef)]=_0x4fd034(0xc8e),_0x52c4e4['classList'][_0x4fd034(0xbfd)]('hidden')):(studentList[_0x4fd034(0x6ef)]=_0x42abfe[_0x4fd034(0x764)](_0x3879a4=>_0x4fd034(0x672)+_0x3879a4+_0x4fd034(0xa15)+_0x3879a4+_0x4fd034(0xd9))[_0x4fd034(0x6da)](''),_0x52c4e4[_0x4fd034(0x707)][_0x4fd034(0x6d1)]('hidden'));}document[_0x45c2ac(0x286)](_0x45c2ac(0x720))[_0x45c2ac(0x504)](_0x45c2ac(0x936),async()=>{const _0x52f2ac=_0x45c2ac;if(!currentProjectId)return;const _0x3b70fc=document[_0x52f2ac(0x286)]('student-name-input'),_0x42ed1a=_0x3b70fc[_0x52f2ac(0x227)][_0x52f2ac(0x543)]();if(!_0x42ed1a){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x3f958d=_0x42ed1a[_0x52f2ac(0x2b4)]('\x0a')['map'](_0x138434=>_0x138434['trim']())[_0x52f2ac(0x624)](_0x9bfe94=>_0x9bfe94);if(_0x3f958d[_0x52f2ac(0xb81)]===0x0)return;try{const _0x2037e9=doc(db,_0x52f2ac(0x47d)+appId+_0x52f2ac(0x99f),currentProjectId),_0x51dd95=await getDoc(_0x2037e9);if(_0x51dd95[_0x52f2ac(0x6cc)]()){const _0x10497d=_0x51dd95['data']()[_0x52f2ac(0xcaf)]||[],_0x3302d2=[...new Set([..._0x10497d,..._0x3f958d])];await updateDoc(_0x2037e9,{'students':_0x3302d2}),_0x3b70fc['value']='';}}catch(_0xa80b28){console[_0x52f2ac(0x4da)](_0x52f2ac(0x1f5),_0xa80b28),showMessage(_0x52f2ac(0x34e));}});async function handleManualQuizPairing(_0x194a10){const _0x1faca9=_0x45c2ac,_0xf3b835=document['getElementById'](_0x1faca9(0x397)),_0x1e2ada=document[_0x1faca9(0x286)](_0x1faca9(0x3eb)),_0xf5e9c7=_0xf3b835[_0x1faca9(0x443)]('h3'),_0xe13996=document[_0x1faca9(0x286)]('confirm-move-quiz-btn'),_0x623e4=document['getElementById'](_0x1faca9(0x803));_0xf5e9c7[_0x1faca9(0x10e)]=_0x1faca9(0x1c6),_0x1e2ada['innerHTML']=_0x1faca9(0x2be),_0xe13996[_0x1faca9(0x10e)]=_0x1faca9(0x235),_0xf3b835[_0x1faca9(0x707)][_0x1faca9(0x6d1)]('hidden');const _0x41ada0=allQuizzes[_0x1faca9(0x624)](_0x3f10bc=>_0x3f10bc['id']!==_0x194a10);_0x41ada0[_0x1faca9(0xb81)]===0x0?(_0x1e2ada[_0x1faca9(0x6ef)]=_0x1faca9(0x1b5),_0xe13996[_0x1faca9(0x790)]=!![]):(_0x1e2ada[_0x1faca9(0x6ef)]=_0x1faca9(0x60b)+_0x41ada0['map'](_0xdfbd68=>_0x1faca9(0xba2)+_0xdfbd68['id']+'\x22>'+_0xdfbd68[_0x1faca9(0x26f)]+_0x1faca9(0x978))[_0x1faca9(0x6da)](''),_0xe13996[_0x1faca9(0x790)]=![]);const _0x38a7c4=async()=>{const _0x5786f6=_0x1faca9,_0x4d598c=_0x1e2ada[_0x5786f6(0x227)];if(!_0x4d598c){showMessage(_0x5786f6(0x913));return;}_0xe13996[_0x5786f6(0x790)]=!![],_0xe13996[_0x5786f6(0x10e)]='กำลังจับคู่...';try{const _0x12a164=doc(db,_0x5786f6(0x47d)+appId+'/public/data/quizzes',_0x194a10),_0x23458d=doc(db,_0x5786f6(0x47d)+appId+_0x5786f6(0x5d7),_0x4d598c),_0x17c557=writeBatch(db);_0x17c557[_0x5786f6(0xacb)](_0x12a164,{'pairedQuizId':_0x4d598c}),_0x17c557['update'](_0x23458d,{'pairedQuizId':_0x194a10}),await _0x17c557[_0x5786f6(0x92b)](),showMessage(_0x5786f6(0x7d0)),_0xf3b835[_0x5786f6(0x707)]['add']('hidden');}catch(_0x5b7f3e){console[_0x5786f6(0x4da)](_0x5786f6(0xd7),_0x5b7f3e),showMessage(_0x5786f6(0x255));}finally{_0xf5e9c7['textContent']=_0x5786f6(0x851),_0xe13996['textContent']=_0x5786f6(0x801),_0xe13996[_0x5786f6(0x790)]=![],_0xe13996[_0x5786f6(0xb74)](_0x5786f6(0x936),_0x38a7c4),_0x623e4[_0x5786f6(0xb74)]('click',_0x574c70);}},_0x574c70=()=>{const _0x3df0fe=_0x1faca9;_0xf3b835[_0x3df0fe(0x707)][_0x3df0fe(0xbfd)](_0x3df0fe(0xb5c)),_0xf5e9c7[_0x3df0fe(0x10e)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0xe13996['textContent']=_0x3df0fe(0x801),_0xe13996[_0x3df0fe(0xb74)](_0x3df0fe(0x936),_0x38a7c4),_0x623e4[_0x3df0fe(0xb74)](_0x3df0fe(0x936),_0x574c70);};_0xe13996[_0x1faca9(0x504)](_0x1faca9(0x936),_0x38a7c4),_0x623e4[_0x1faca9(0x504)]('click',_0x574c70);}function handleDeleteStudent(_0x17d52d){const _0x3f29c5=_0x45c2ac;showConfirmation(_0x3f29c5(0x952)+_0x17d52d+_0x3f29c5(0x9f0),async()=>{const _0x761a77=_0x3f29c5;if(!currentProjectId||!currentProjectData)return;const _0x2a0798=currentProjectData[_0x761a77(0xcaf)][_0x761a77(0x624)](_0x3ad3b4=>_0x3ad3b4!==_0x17d52d);try{const _0x3b9a6e=doc(db,_0x761a77(0x47d)+appId+_0x761a77(0x99f),currentProjectId),_0x3f831a=doc(db,'artifacts/'+appId+_0x761a77(0x8ef)+currentProjectId+_0x761a77(0x6af),_0x17d52d),_0x2cff05=writeBatch(db);_0x2cff05[_0x761a77(0xacb)](_0x3b9a6e,{'students':_0x2a0798}),_0x2cff05[_0x761a77(0x943)](_0x3f831a),await _0x2cff05[_0x761a77(0x92b)]();}catch(_0x1b17b4){console['error'](_0x761a77(0x5cd),_0x1b17b4),showMessage(_0x761a77(0x2e8));}});}function handleDeleteAllStudents(){const _0x57fe6a=_0x45c2ac;showConfirmation(_0x57fe6a(0x820),async()=>{const _0x29aa49=_0x57fe6a;if(!currentProjectId)return;try{const _0x121b7a=doc(db,_0x29aa49(0x47d)+appId+_0x29aa49(0x99f),currentProjectId),_0x422da8=collection(db,_0x29aa49(0x47d)+appId+'/public/data/projects/'+currentProjectId+'/studentProfiles'),_0x4fade5=await getDocs(_0x422da8),_0x4b6282=writeBatch(db);_0x4b6282[_0x29aa49(0xacb)](_0x121b7a,{'students':[]}),_0x4fade5['forEach'](_0x58b396=>_0x4b6282[_0x29aa49(0x943)](_0x58b396[_0x29aa49(0xaca)])),await _0x4b6282[_0x29aa49(0x92b)]();}catch(_0x2579b9){console[_0x29aa49(0x4da)](_0x29aa49(0x539),_0x2579b9),showMessage(_0x29aa49(0x461));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x30aa8e){const _0x404cdf=_0x45c2ac,_0x2fba18=document[_0x404cdf(0x286)]('file-topics-list-container'),_0x25a703=document[_0x404cdf(0x286)]('file-topics-list');_0x2fba18[_0x404cdf(0x707)][_0x404cdf(0x6d1)](_0x404cdf(0xb5c)),_0x25a703[_0x404cdf(0x6ef)]=_0x404cdf(0x33f);try{const _0x2c0192=new FileReader();_0x2c0192['readAsDataURL'](_0x30aa8e),await new Promise((_0x30cfa5,_0x262b87)=>{const _0x588e37=_0x404cdf;_0x2c0192[_0x588e37(0x24f)]=()=>{const _0x20f261=_0x588e37;fileDataBase64=_0x2c0192[_0x20f261(0x393)][_0x20f261(0x2b4)](',')[0x1],fileMimeType=_0x30aa8e[_0x20f261(0x15e)],_0x30cfa5();},_0x2c0192[_0x588e37(0x62b)]=_0x2ca596=>_0x262b87(_0x2ca596);});if(!fileDataBase64)throw new Error('ไม่สามารถอ่านข้อมูลจากไฟล์ได้');const _0x1b1ba6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x15898b={'type':_0x404cdf(0xb8e),'properties':{'topics':{'type':_0x404cdf(0xce2),'items':{'type':'STRING'}}},'required':[_0x404cdf(0x50c)]},_0x2b2ab5=[{'text':_0x1b1ba6},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x24b1fb=await handleApiCall(_0x2b2ab5,'กำลังวิเคราะห์หัวข้อ...',_0x15898b,null,![]);if(_0x24b1fb&&_0x24b1fb[_0x404cdf(0x50c)])extractedFileTopics=_0x24b1fb['topics'],renderFileTopics();else throw new Error('AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้');}catch(_0x11b95a){console[_0x404cdf(0x4da)](_0x404cdf(0x74e),_0x11b95a),_0x25a703[_0x404cdf(0x6ef)]=_0x404cdf(0xbd9)+_0x11b95a['message']+_0x404cdf(0x761);}}function renderFileTopics(){const _0x2c9203=_0x45c2ac,_0x24e372=document['getElementById']('file-topics-list');if(extractedFileTopics[_0x2c9203(0xb81)]===0x0){_0x24e372['innerHTML']=_0x2c9203(0x7ed);return;}_0x24e372[_0x2c9203(0x6ef)]=extractedFileTopics['map'](_0x35975f=>_0x2c9203(0x2a4)+_0x35975f+_0x2c9203(0x692)+escape(_0x35975f)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x35975f)+_0x2c9203(0x4be))['join']('');}async function generateHybridQuizForTopic(_0x3c85d1){const _0x2b46f2=_0x45c2ac,_0x597ce5=parseInt(document[_0x2b46f2(0x286)]('num-questions')['value'],0xa),_0x1c7966=document[_0x2b46f2(0x286)](_0x2b46f2(0xd2b))[_0x2b46f2(0x227)],_0x5b157d=document[_0x2b46f2(0x286)](_0x2b46f2(0x3f4))[_0x2b46f2(0x227)],_0x3116ca=document['getElementById'](_0x2b46f2(0x6ea))[_0x2b46f2(0x50a)],_0x2e8fbf=_0x3116ca?'สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22':'ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ';let _0x20e2ef='',_0x282dd2;const _0x1db036={'type':_0x2b46f2(0xb8e),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2b46f2(0xce2),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2b46f2(0x611)},'explanation':{'type':_0x2b46f2(0x32a)},'imageCode':{'type':'STRING'}},'required':[_0x2b46f2(0x3a5),_0x2b46f2(0xa07),'correctAnswerIndex',_0x2b46f2(0x7ec)]},_0x17013f={'type':_0x2b46f2(0xb8e),'properties':{'questionText':{'type':_0x2b46f2(0x32a)},'correctAnswer':{'type':_0x2b46f2(0x7de)},'explanation':{'type':_0x2b46f2(0x32a)},'imageCode':{'type':_0x2b46f2(0x32a)}},'required':[_0x2b46f2(0x3a5),_0x2b46f2(0xc42),_0x2b46f2(0x7ec)]},_0x3fe235={'type':_0x2b46f2(0xb8e),'properties':{'questionText':{'type':_0x2b46f2(0x32a)},'idealAnswer':{'type':_0x2b46f2(0x32a)},'explanation':{'type':_0x2b46f2(0x32a)},'imageCode':{'type':'STRING'}},'required':[_0x2b46f2(0x3a5),_0x2b46f2(0x555),_0x2b46f2(0x7ec)]},_0x353d3e={'type':_0x2b46f2(0xb8e),'properties':{'questionType':{'type':_0x2b46f2(0x32a),'enum':[_0x2b46f2(0x2d6)]},'stem':{'type':_0x2b46f2(0x32a)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x2b46f2(0xce2),'items':{'type':_0x2b46f2(0x32a)}},'explanation':{'type':_0x2b46f2(0x32a)},'imageCode':{'type':'STRING'}},'required':[_0x2b46f2(0x9f5),'stem',_0x2b46f2(0x7a5),_0x2b46f2(0xeb),_0x2b46f2(0x7ec)]};switch(_0x1c7966){case'multiple_choice':_0x20e2ef='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x5b157d+_0x2b46f2(0x8d3),_0x282dd2=_0x1db036;break;case _0x2b46f2(0xcbb):_0x20e2ef=_0x2b46f2(0xa74),_0x282dd2=_0x17013f;break;case _0x2b46f2(0x12e):_0x20e2ef=_0x2b46f2(0x468),_0x282dd2=_0x3fe235;break;case _0x2b46f2(0x471):_0x20e2ef=_0x2b46f2(0x955),_0x282dd2=_0x353d3e;break;case _0x2b46f2(0xa4f):_0x20e2ef=_0x2b46f2(0xbea)+_0x5b157d+_0x2b46f2(0x8d3),_0x282dd2=_0x1db036;break;default:_0x20e2ef=_0x2b46f2(0x9ac)+_0x5b157d+'\x20ตัวเลือก)',_0x282dd2=_0x1db036;break;}const _0x3c3d47=_0x2b46f2(0xc5b),_0x3106bf=document[_0x2b46f2(0x286)](_0x2b46f2(0x26d)),_0x43f6c6=document[_0x2b46f2(0x286)](_0x2b46f2(0x33e)),_0x1b338d=document[_0x2b46f2(0x286)](_0x2b46f2(0xb5));document[_0x2b46f2(0x286)](_0x2b46f2(0x1bd))[_0x2b46f2(0x707)]['remove']('hidden'),_0x1b338d[_0x2b46f2(0x6ef)]='',_0x3106bf[_0x2b46f2(0x707)][_0x2b46f2(0x6d1)]('hidden'),_0x43f6c6[_0x2b46f2(0x10e)]='AI\x20กำลังสร้างแบบทดสอบ\x20\x22'+_0x3c85d1+_0x2b46f2(0x9d)+_0x597ce5+_0x2b46f2(0xbf5);try{const _0x195579=_0x2b46f2(0x2dd),_0x3de181=_0x2b46f2(0x53d)+_0x3c85d1+_0x2b46f2(0xd27)+_0x597ce5+_0x2b46f2(0x4f4)+_0x3c85d1+_0x2b46f2(0xa17)+_0x597ce5+_0x2b46f2(0x57e)+_0x2e8fbf+_0x2b46f2(0xa49)+_0x20e2ef+_0x2b46f2(0x2ea)+_0x3c3d47+'**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x195579+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x511ab4={'type':_0x2b46f2(0xb8e),'properties':{'topic':{'type':_0x2b46f2(0x32a)},'questions':{'type':_0x2b46f2(0xce2),'items':_0x282dd2}},'required':[_0x2b46f2(0x26f),'questions']},_0x4d4993=[{'text':_0x3de181},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x4d4993,_0x2b46f2(0xa22)+_0x3c85d1+_0x2b46f2(0xd38),_0x511ab4);}catch(_0x54932b){console[_0x2b46f2(0x4da)](_0x2b46f2(0x225),_0x54932b),showMessage(_0x2b46f2(0x1ae)+_0x54932b[_0x2b46f2(0xc97)]),_0x1b338d['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>';}finally{_0x3106bf[_0x2b46f2(0x707)][_0x2b46f2(0xbfd)]('hidden');}}async function handleGenerateFromFileClick(){const _0x9ac342=_0x45c2ac;if(!selectedFile){showMessage(_0x9ac342(0x5e9));return;}const _0x2e77aa=document[_0x9ac342(0x286)]('loader'),_0x14dfc0=document[_0x9ac342(0x286)](_0x9ac342(0x33e)),_0x29ccb2=document[_0x9ac342(0x286)](_0x9ac342(0xb5)),_0x6fa1fc=document[_0x9ac342(0x286)](_0x9ac342(0x6e1));_0x6fa1fc[_0x9ac342(0x790)]=!![],document[_0x9ac342(0x286)]('quiz-generation-area')[_0x9ac342(0x707)][_0x9ac342(0x6d1)](_0x9ac342(0xb5c)),_0x29ccb2[_0x9ac342(0x6ef)]='',_0x2e77aa[_0x9ac342(0x707)]['remove'](_0x9ac342(0xb5c)),_0x14dfc0['textContent']=_0x9ac342(0xc0e);try{const _0x323988=await new Promise((_0x26dbe,_0x18c017)=>{const _0x2f0204=_0x9ac342,_0x4d5b9d=new FileReader();_0x4d5b9d[_0x2f0204(0x644)](selectedFile),_0x4d5b9d[_0x2f0204(0x24f)]=()=>_0x26dbe(_0x4d5b9d['result'][_0x2f0204(0x2b4)](',')[0x1]),_0x4d5b9d[_0x2f0204(0x62b)]=_0x29109d=>_0x18c017(_0x29109d);});await generateQuizFromFile(selectedFile[_0x9ac342(0x15e)],_0x323988);}catch(_0x574465){console['error']('Error\x20processing\x20file\x20for\x20AI:',_0x574465),showMessage(_0x9ac342(0x8ed)+_0x574465['message']),_0x2e77aa['classList'][_0x9ac342(0xbfd)](_0x9ac342(0xb5c)),_0x6fa1fc['disabled']=![];}}function autoFormatMath(_0x296b67){const _0x42a036=_0x45c2ac;if(typeof _0x296b67!==_0x42a036(0xa00)||!_0x296b67)return _0x296b67;const _0xb42727=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x5a75cd=_0x296b67['replace'](_0xb42727,_0x161328=>{return'$'+_0x161328['trim']()+'$';});return _0x5a75cd;}function sanitizeQuizData(_0x356d86){const _0x42a7d3=_0x45c2ac;if(!_0x356d86||!_0x356d86[_0x42a7d3(0xbc3)])return _0x356d86;const _0x2af7b0={'imes':_0x42a7d3(0x66b),'div':_0x42a7d3(0x511)},_0x5094b9=_0xe393ef=>{const _0x2717ff=_0x42a7d3;if(typeof _0xe393ef!==_0x2717ff(0xa00))return _0xe393ef;let _0x5888f1=_0xe393ef;for(const [_0x4ddebc,_0x549c63]of Object[_0x2717ff(0xad3)](_0x2af7b0)){const _0x562087=new RegExp('\x5cb'+_0x4ddebc+'\x5cb','g');_0x5888f1=_0x5888f1['replace'](_0x562087,_0x549c63);}return _0x5888f1=_0x5888f1[_0x2717ff(0xc3b)](/\\\//g,_0x2717ff(0x511)),_0x5888f1=_0x5888f1['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0x2717ff(0x511))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x2717ff(0x66b))['replace'](/÷/g,_0x2717ff(0x511))['replace'](/×/g,'\x5ctimes'),_0x5888f1=_0x5888f1[_0x2717ff(0xc3b)](/(\d)(\\frac)/g,_0x2717ff(0x5e1)),_0x5888f1=autoFormatMath(_0x5888f1),_0x5888f1;};return _0x356d86[_0x42a7d3(0x26f)]&&(_0x356d86[_0x42a7d3(0x26f)]=_0x5094b9(_0x356d86[_0x42a7d3(0x26f)])),_0x356d86[_0x42a7d3(0xbc3)][_0x42a7d3(0x94d)](_0x209f89=>{const _0x3a98af=_0x42a7d3;_0x209f89[_0x3a98af(0x3a5)]=_0x5094b9(_0x209f89[_0x3a98af(0x3a5)]),_0x209f89[_0x3a98af(0xa07)]&&(_0x209f89[_0x3a98af(0xa07)]=_0x209f89[_0x3a98af(0xa07)][_0x3a98af(0x764)](_0x5094b9)),_0x209f89[_0x3a98af(0x7ec)]&&(_0x209f89[_0x3a98af(0x7ec)]=_0x5094b9(_0x209f89[_0x3a98af(0x7ec)])),_0x209f89[_0x3a98af(0xcfa)]&&(_0x209f89[_0x3a98af(0xcfa)]=_0x5094b9(_0x209f89[_0x3a98af(0xcfa)])),_0x209f89[_0x3a98af(0x7a5)]&&(_0x209f89[_0x3a98af(0x7a5)]=_0x5094b9(_0x209f89[_0x3a98af(0x7a5)])),_0x209f89[_0x3a98af(0xeb)]&&(_0x209f89[_0x3a98af(0xeb)]=_0x209f89[_0x3a98af(0xeb)][_0x3a98af(0x764)](_0x5094b9));}),_0x356d86;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x217450=_0x45c2ac,_0x2337c5=document[_0x217450(0x286)](_0x217450(0x6df)),_0x98fe0c=document[_0x217450(0x286)]('link-topic-input'),_0x22fe7f=_0x2337c5[_0x217450(0x227)][_0x217450(0x543)](),_0x599b05=_0x98fe0c['value']['trim']();if(!_0x22fe7f){showMessage(_0x217450(0x5ec));return;}const _0x2bfaef=document[_0x217450(0x286)](_0x217450(0x26d)),_0x2263f7=document['getElementById'](_0x217450(0x33e)),_0x3243b3=document[_0x217450(0x286)](_0x217450(0xb5)),_0x2839ab=document[_0x217450(0x286)](_0x217450(0x50d));document[_0x217450(0x286)](_0x217450(0x1bd))[_0x217450(0x707)]['remove'](_0x217450(0xb5c)),_0x3243b3[_0x217450(0x6ef)]='',_0x2bfaef[_0x217450(0x707)][_0x217450(0x6d1)](_0x217450(0xb5c)),_0x2263f7['textContent']=_0x217450(0x154),_0x2839ab[_0x217450(0x790)]=!![];try{const _0x19b602=_0x217450(0x958)+encodeURIComponent(_0x22fe7f),_0x2ff9e7=await fetch(_0x19b602);if(!_0x2ff9e7['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x2ff9e7[_0x217450(0xc3e)]+')');const _0x30f053=await _0x2ff9e7[_0x217450(0x135)](),_0x476ec8=extractTextFromHtml(_0x30f053);if(!_0x476ec8||_0x476ec8['length']<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x599b05,_0x476ec8);}catch(_0x540110){console['error'](_0x217450(0x6e4),_0x540110),showMessage('เกิดข้อผิดพลาด:\x20'+_0x540110[_0x217450(0xc97)]),_0x3243b3[_0x217450(0x6ef)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x2bfaef[_0x217450(0x707)][_0x217450(0xbfd)]('hidden'),_0x2839ab[_0x217450(0x790)]=![];}}function extractTextFromHtml(_0x1d9f0d){const _0x25d0c0=_0x45c2ac,_0x5e86f7=new DOMParser()[_0x25d0c0(0x35a)](_0x1d9f0d,_0x25d0c0(0x8ba));return _0x5e86f7['querySelectorAll'](_0x25d0c0(0x53a))[_0x25d0c0(0x94d)](_0x4f1a61=>_0x4f1a61[_0x25d0c0(0x6d1)]()),_0x5e86f7[_0x25d0c0(0xb1)]['textContent']||'';}document[_0x45c2ac(0x286)](_0x45c2ac(0x60a))[_0x45c2ac(0x504)](_0x45c2ac(0x936),()=>{const _0x5b4f11=_0x45c2ac,_0x1ccc31=document[_0x5b4f11(0x286)]('topic-input')['value'][_0x5b4f11(0x543)]();generateQuiz(_0x1ccc31,null);}),document[_0x45c2ac(0x286)](_0x45c2ac(0x417))[_0x45c2ac(0x504)]('click',()=>{const _0x481996=_0x45c2ac,_0x28e222=document[_0x481996(0x286)](_0x481996(0xc82))[_0x481996(0x227)]['trim']();if(!_0x28e222){showMessage(_0x481996(0x195));return;}const _0x38593a=document['getElementById']('topic-input')['value']['trim']();generateQuiz(_0x38593a,_0x28e222);});async function generateQuiz(_0x2eb2a5,_0x561d75,_0x46e04e=null,_0x57484b=null,_0xac6dc3=![],_0x41da9e=null,_0x2cba15=null,_0x11b424=![]){const _0x38a39b=_0x45c2ac;let _0x1dccb7={};if(_0xac6dc3&&blueprintPageSettings)_0x1dccb7=blueprintPageSettings;else{const _0x46d1c7=document[_0x38a39b(0x640)](_0x38a39b(0x437));_0x1dccb7={'quizType':document['getElementById'](_0x38a39b(0xd2b))[_0x38a39b(0x227)],'numQuestions':document[_0x38a39b(0x286)]('num-questions')[_0x38a39b(0x227)],'numChoices':document[_0x38a39b(0x286)]('num-choices')['value'],'includeImages':document[_0x38a39b(0x286)]('include-images-checkbox')['checked'],'isNormalTopic':document[_0x38a39b(0x286)](_0x38a39b(0x85a))[_0x38a39b(0x50a)],'difficultyValue':document[_0x38a39b(0x286)]('difficulty-level-select')[_0x38a39b(0x227)],'complexityValue':document[_0x38a39b(0x286)](_0x38a39b(0xb49))[_0x38a39b(0x227)],'selectedTopicNames':Array[_0x38a39b(0xba1)](_0x46d1c7)[_0x38a39b(0x764)](_0x4dfc97=>_0x4dfc97[_0x38a39b(0x227)])};}const _0x394813=_0x1dccb7[_0x38a39b(0x17b)]?'':_0x38a39b(0xc32),_0x3c6d0c=_0x1dccb7['difficultyValue']!==_0x38a39b(0x7b8)?_0x38a39b(0xbd6)+_0x1dccb7['difficultyValue']+'\x22':'',_0xaa91cc=_0x1dccb7[_0x38a39b(0x273)]!=='mixed'?'โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x1dccb7[_0x38a39b(0x273)]+_0x38a39b(0x6cb):'';let _0x38fdf8='';_0x1dccb7[_0x38a39b(0x250)]&&_0x1dccb7[_0x38a39b(0x250)][_0x38a39b(0xb81)]>0x0&&(_0x38fdf8=_0x38a39b(0x571)+_0x1dccb7[_0x38a39b(0x250)][_0x38a39b(0x6da)](',\x20')+'.');let _0x33426d='';_0x57484b&&(_0x33426d=_0x38a39b(0x109));let _0x130df7='',_0x1ab712='',_0x1b4dc6,_0x68abbc='เกี่ยวกับหัวข้อ\x20\x22'+_0x2eb2a5+'\x22';if(!_0x2eb2a5&&_0x561d75)_0x68abbc=_0x38a39b(0x1b1);else!_0x2eb2a5&&!_0x561d75&&(_0x68abbc=_0x38a39b(0xc50));const _0x3f23ce={'type':_0x38a39b(0xb8e),'properties':{'questionText':{'type':_0x38a39b(0x32a)},'options':{'type':_0x38a39b(0xce2),'items':{'type':_0x38a39b(0x32a)}},'correctAnswerIndex':{'type':_0x38a39b(0x611)},'explanation':{'type':_0x38a39b(0x32a)},'imageCode':{'type':_0x38a39b(0x32a)}},'required':[_0x38a39b(0x3a5),_0x38a39b(0xa07),_0x38a39b(0xc51),_0x38a39b(0x7ec)]},_0xcfc0ac={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x38a39b(0x32a)},'imageCode':{'type':_0x38a39b(0x32a)}},'required':[_0x38a39b(0x3a5),_0x38a39b(0x555),_0x38a39b(0x7ec)]},_0x42a425={'type':_0x38a39b(0xb8e),'properties':{'questionText':{'type':_0x38a39b(0x32a)},'questionType':{'type':_0x38a39b(0x32a),'enum':['multiple_choice','short_answer']},'options':{'type':_0x38a39b(0xce2),'items':{'type':_0x38a39b(0x32a)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x38a39b(0x32a)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x38a39b(0x32a)}},'required':[_0x38a39b(0x3a5),_0x38a39b(0x9f5),'explanation']},_0x47b2b4={'type':_0x38a39b(0xb8e),'properties':{'questionText':{'type':_0x38a39b(0x32a)},'correctAnswer':{'type':_0x38a39b(0x7de)},'explanation':{'type':_0x38a39b(0x32a)},'imageCode':{'type':_0x38a39b(0x32a)}},'required':[_0x38a39b(0x3a5),_0x38a39b(0xc42),_0x38a39b(0x7ec)]},_0x471205={'type':_0x38a39b(0xb8e),'properties':{'questionType':{'type':_0x38a39b(0x32a),'enum':['matching_item']},'stem':{'type':_0x38a39b(0x32a)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x38a39b(0x32a)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x38a39b(0x9f5),_0x38a39b(0xcfa),_0x38a39b(0x7a5),_0x38a39b(0xeb),_0x38a39b(0x7ec)]};let _0x557256;if(_0x46e04e!==null){const _0x39df8d=currentQuizData['questions'][_0x46e04e][_0x38a39b(0x9f5)],_0x4a9646=_0x1dccb7[_0x38a39b(0x98)]?_0x38a39b(0x80a):'';_0x130df7=_0x38a39b(0x7fb)+_0x68abbc+'\x20'+_0x38fdf8+'\x20'+_0x3c6d0c+_0x38a39b(0xd35)+_0x4a9646+'\x20'+simpleMathPrompt;if(_0x39df8d===_0x38a39b(0xb86))_0x1b4dc6=_0x3f23ce;else{if(_0x39df8d===_0x38a39b(0x2d6))_0x1b4dc6={'type':_0x38a39b(0xb8e),'properties':{'questionType':{'type':_0x38a39b(0x32a),'enum':[_0x38a39b(0x2d6)]},'stem':{'type':_0x38a39b(0x32a)},'correctResponse':{'type':_0x38a39b(0x32a)},'explanation':{'type':_0x38a39b(0x32a)},'imageCode':{'type':_0x38a39b(0x32a)}},'required':[_0x38a39b(0x9f5),_0x38a39b(0xcfa),_0x38a39b(0x7a5),_0x38a39b(0x7ec)]};else _0x1b4dc6=_0xcfc0ac;}_0x557256=_0x1b4dc6;}else{const _0x18b4f7=_0x1dccb7[_0x38a39b(0x98)]?_0x38a39b(0xfd):'';switch(_0x1dccb7[_0x38a39b(0x480)]){case _0x38a39b(0xb86):_0x130df7=_0x38a39b(0x690)+_0x394813+'\x20'+_0x1dccb7['numQuestions']+_0x38a39b(0x918)+_0x68abbc+'\x20'+_0x38fdf8+'\x20'+_0x3c6d0c+'\x20'+_0xaa91cc+'\x20'+_0x33426d+'.\x20แต่ละข้อมี\x20'+_0x1dccb7['numChoices']+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x18b4f7+'\x20'+simpleMathPrompt,_0x1b4dc6=_0x3f23ce;break;case _0x38a39b(0xa4f):_0x130df7=_0x38a39b(0xc9)+_0x394813+'\x20'+_0x1dccb7['numQuestions']+_0x38a39b(0x918)+_0x68abbc+'\x20'+_0x38fdf8+'\x20'+_0x3c6d0c+'\x20'+_0xaa91cc+'\x20'+_0x33426d+_0x38a39b(0xa34)+_0x1dccb7[_0x38a39b(0x18c)]+_0x38a39b(0xb0e)+_0x18b4f7+'\x20'+simpleMathPrompt,_0x1b4dc6=_0x3f23ce;break;case'fill_in_no_choices':_0x130df7='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x394813+'\x20'+_0x1dccb7['numQuestions']+_0x38a39b(0x918)+_0x68abbc+'\x20'+_0x38fdf8+'\x20'+_0x3c6d0c+'\x20'+_0xaa91cc+'\x20'+_0x33426d+_0x38a39b(0xb47)+_0x18b4f7+'\x20'+simpleMathPrompt,_0x1b4dc6=_0xcfc0ac;break;case'mixed':_0x130df7='สร้างแบบทดสอบ'+_0x394813+'\x20'+_0x1dccb7[_0x38a39b(0xa1a)]+_0x38a39b(0x918)+_0x68abbc+'\x20'+_0x38fdf8+'\x20'+_0x3c6d0c+'\x20'+_0xaa91cc+'\x20'+_0x33426d+_0x38a39b(0x98f)+_0x1dccb7['numChoices']+'\x20ตัวเลือก.\x20'+_0x18b4f7+'\x20'+simpleMathPrompt+'.',_0x1b4dc6=_0x42a425;break;case _0x38a39b(0xcbb):_0x130df7=_0x38a39b(0xc29)+_0x394813+'\x20'+_0x1dccb7['numQuestions']+'\x20ข้อ\x20'+_0x68abbc+'\x20'+_0x38fdf8+'\x20'+_0x3c6d0c+'\x20'+_0xaa91cc+'\x20'+_0x33426d+_0x38a39b(0x961)+_0x18b4f7+'\x20'+simpleMathPrompt,_0x1b4dc6=_0x47b2b4;break;case _0x38a39b(0x471):_0x130df7=_0x38a39b(0xd40)+_0x394813+'\x20'+_0x1dccb7['numQuestions']+'\x20คู่\x20'+_0x68abbc+'\x20'+_0x38fdf8+'\x20'+_0x3c6d0c+'\x20'+_0xaa91cc+'\x20'+_0x33426d+_0x38a39b(0x5ff)+_0x18b4f7+'\x20'+simpleMathPrompt,_0x1b4dc6=_0x471205;break;}_0x557256={'type':_0x38a39b(0xb8e),'properties':{'topic':{'type':_0x38a39b(0x32a)},'questions':{'type':_0x38a39b(0xce2),'items':_0x1b4dc6}},'required':[_0x38a39b(0x26f),_0x38a39b(0xbc3)]};}const _0x4f3eb8='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a';_0x561d75?(_0x11b424?_0x130df7=_0x38a39b(0xb46)+_0x561d75+_0x38a39b(0xdd)+_0x130df7+_0x4f3eb8:_0x130df7=_0x38a39b(0xb46)+_0x561d75+'\x22,\x20'+_0x130df7,_0x1ab712=_0x38a39b(0x137)):(_0x11b424&&(_0x130df7+=_0x4f3eb8),_0x1ab712=_0x38a39b(0x247));let _0x28c712;return _0x57484b?(_0x28c712=[{'text':_0x130df7},..._0x57484b],_0x1ab712=_0x38a39b(0x620)):_0x28c712=_0x130df7,handleApiCall(_0x28c712,_0x1ab712,_0x557256,_0x46e04e,!![],_0x41da9e,_0x2cba15);}async function generateQuizFromFile(_0x5c0877,_0x476964){const _0x49260d=_0x45c2ac,_0x592928=document[_0x49260d(0x286)](_0x49260d(0x1ef))[_0x49260d(0x227)][_0x49260d(0x543)](),_0x2d5602=document[_0x49260d(0x286)](_0x49260d(0xd2b))['value'],_0x5beb91=document[_0x49260d(0x286)]('num-questions')[_0x49260d(0x227)],_0x57bf69=document[_0x49260d(0x286)](_0x49260d(0x3f4))['value'],_0x2d370c=document[_0x49260d(0x286)](_0x49260d(0x6ea))[_0x49260d(0x50a)],_0x26d38d=document['getElementById'](_0x49260d(0x85a))[_0x49260d(0x50a)],_0x535b0e=_0x26d38d?'':_0x49260d(0xc32),_0x4f0a0a=document[_0x49260d(0x286)]('original-mode-checkbox')[_0x49260d(0x50a)];let _0x27ccb5='',_0x531adf;const _0x6bf9e4=_0x2d370c?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x4f0a0a)_0x27ccb5=_0x49260d(0x7d4)+_0x6bf9e4+'\x0a'+simpleMathPrompt+'\x0a',_0x531adf={'type':_0x49260d(0xb8e),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x49260d(0x32a),'enum':[_0x49260d(0xb86),_0x49260d(0x27d),'true_false',_0x49260d(0x2d6)]},'options':{'type':_0x49260d(0xce2),'items':{'type':_0x49260d(0x32a)}},'correctAnswerIndex':{'type':_0x49260d(0x611)},'idealAnswer':{'type':_0x49260d(0x32a)},'correctAnswer':{'type':_0x49260d(0x7de)},'stem':{'type':_0x49260d(0x32a)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x49260d(0xce2),'items':{'type':'STRING'}},'explanation':{'type':_0x49260d(0x32a)},'imageCode':{'type':'STRING'}},'required':[_0x49260d(0x9f5),_0x49260d(0x7ec)]};else{let _0x7a08a0=_0x49260d(0x9d2)+_0x592928+'\x22';!_0x592928&&(_0x7a08a0=_0x49260d(0x165));switch(_0x2d5602){case _0x49260d(0xb86):_0x27ccb5=_0x49260d(0x690)+_0x535b0e+'\x20'+_0x5beb91+_0x49260d(0x918)+_0x7a08a0+'.\x20แต่ละข้อมี\x20'+_0x57bf69+_0x49260d(0x6fd)+_0x6bf9e4+'\x20'+simpleMathPrompt,_0x531adf={'type':_0x49260d(0xb8e),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x49260d(0x32a)}},'correctAnswerIndex':{'type':_0x49260d(0x611)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x49260d(0xa07),_0x49260d(0xc51),_0x49260d(0x7ec)]};break;case _0x49260d(0xa4f):_0x27ccb5=_0x49260d(0xc9)+_0x535b0e+'\x20'+_0x5beb91+_0x49260d(0x918)+_0x7a08a0+_0x49260d(0xa34)+_0x57bf69+_0x49260d(0xb0e)+_0x6bf9e4+'\x20'+simpleMathPrompt,_0x531adf={'type':_0x49260d(0xb8e),'properties':{'questionText':{'type':_0x49260d(0x32a)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x49260d(0x611)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x49260d(0x32a)}},'required':[_0x49260d(0x3a5),'options','correctAnswerIndex',_0x49260d(0x7ec)]};break;case _0x49260d(0x12e):_0x27ccb5=_0x49260d(0xc9)+_0x535b0e+'\x20'+_0x5beb91+_0x49260d(0x918)+_0x7a08a0+_0x49260d(0x726)+_0x6bf9e4+'\x20'+simpleMathPrompt,_0x531adf={'type':'OBJECT','properties':{'questionText':{'type':_0x49260d(0x32a)},'idealAnswer':{'type':_0x49260d(0x32a)},'explanation':{'type':_0x49260d(0x32a)},'imageCode':{'type':_0x49260d(0x32a)}},'required':[_0x49260d(0x3a5),_0x49260d(0x555),_0x49260d(0x7ec)]};break;case _0x49260d(0x11b):_0x27ccb5=_0x49260d(0xc75)+_0x535b0e+'\x20'+_0x5beb91+'\x20ข้อ\x20'+_0x7a08a0+_0x49260d(0xa75)+_0x57bf69+_0x49260d(0xcd)+_0x6bf9e4+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x531adf={'type':'OBJECT','properties':{'questionText':{'type':_0x49260d(0x32a)},'questionType':{'type':'STRING','enum':[_0x49260d(0xb86),_0x49260d(0x27d)]},'options':{'type':'ARRAY','items':{'type':_0x49260d(0x32a)}},'correctAnswerIndex':{'type':_0x49260d(0x611)},'idealAnswer':{'type':_0x49260d(0x32a)},'explanation':{'type':_0x49260d(0x32a)},'imageCode':{'type':_0x49260d(0x32a)}},'required':['questionText',_0x49260d(0x9f5),_0x49260d(0x7ec)]};break;case _0x49260d(0xcbb):_0x27ccb5=_0x49260d(0xc29)+_0x535b0e+'\x20'+_0x5beb91+_0x49260d(0x918)+_0x7a08a0+_0x49260d(0xa8c)+_0x6bf9e4+'\x20'+simpleMathPrompt,_0x531adf={'type':'OBJECT','properties':{'questionText':{'type':_0x49260d(0x32a)},'correctAnswer':{'type':_0x49260d(0x7de)},'explanation':{'type':_0x49260d(0x32a)},'imageCode':{'type':_0x49260d(0x32a)}},'required':['questionText',_0x49260d(0xc42),'explanation']};break;case _0x49260d(0x471):_0x27ccb5=_0x49260d(0xd40)+_0x535b0e+'\x20'+_0x5beb91+'\x20คู่\x20'+_0x7a08a0+_0x49260d(0xb14)+_0x5beb91+_0x49260d(0x64b)+_0x6bf9e4+'\x20'+simpleMathPrompt,_0x531adf={'type':'OBJECT','properties':{'questionType':{'type':_0x49260d(0x32a),'enum':['matching_item']},'stem':{'type':_0x49260d(0x32a)},'correctResponse':{'type':_0x49260d(0x32a)},'allResponses':{'type':_0x49260d(0xce2),'items':{'type':_0x49260d(0x32a)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x49260d(0x32a)}},'required':[_0x49260d(0x9f5),_0x49260d(0xcfa),_0x49260d(0x7a5),_0x49260d(0xeb),_0x49260d(0x7ec)]};break;}}const _0xabea7c={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x531adf}},'required':[_0x49260d(0x26f),_0x49260d(0xbc3)]},_0x251f41='จากไฟล์ที่แนบมานี้,\x20'+_0x27ccb5,_0x1106bb={'contents':[{'parts':[{'text':_0x251f41},{'inlineData':{'mimeType':_0x5c0877,'data':_0x476964}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0xabea7c}};return handleApiCall(_0x1106bb[_0x49260d(0xbc8)][0x0]['parts'],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0xabea7c);}async function handleApiCall(_0x22b116,_0x4ad499,_0x424252,_0x30671f=null,_0x2e642c=!![],_0x3c96dd=null,_0x45c7a2=null){const _0x18ea75=_0x45c2ac,_0x383326=document['getElementById'](_0x18ea75(0x1bd)),_0x889685=document['getElementById']('loader'),_0xa14803=document[_0x18ea75(0x286)](_0x18ea75(0x33e)),_0x571d8c=document['getElementById'](_0x18ea75(0xb5));_0x383326[_0x18ea75(0x707)][_0x18ea75(0x6d1)](_0x18ea75(0xb5c));_0x30671f===null&&_0x2e642c&&(_0x571d8c[_0x18ea75(0x6ef)]='');_0x889685[_0x18ea75(0x707)][_0x18ea75(0x6d1)]('hidden'),_0xa14803[_0x18ea75(0x10e)]=_0x4ad499,document[_0x18ea75(0x286)](_0x18ea75(0x60a))[_0x18ea75(0x790)]=!![],document[_0x18ea75(0x286)]('generate-from-text-btn')[_0x18ea75(0x790)]=!![],document['getElementById'](_0x18ea75(0x50d))[_0x18ea75(0x790)]=!![];const _0x251931=document['getElementById'](_0x18ea75(0x6e1));if(_0x251931)_0x251931[_0x18ea75(0x790)]=!![];const _0xa30a9e=document[_0x18ea75(0x286)](_0x18ea75(0x4e3));if(_0xa30a9e)_0xa30a9e['disabled']=!![];const _0xac7103=document[_0x18ea75(0x286)]('generate-from-parallel-test-btn');if(_0xac7103)_0xac7103[_0x18ea75(0x790)]=!![];try{const _0x31cde1=Array[_0x18ea75(0x7b0)](_0x22b116)?_0x22b116:[{'text':_0x22b116}],_0xe29734={'contents':[{'role':_0x18ea75(0x2f7),'parts':_0x31cde1}]};_0x424252&&(_0xe29734[_0x18ea75(0x167)]={'responseMimeType':_0x18ea75(0x2af),'responseSchema':_0x424252});const _0x3ca997=_0x18ea75(0x30c),_0x74f0c2=_0x18ea75(0x2b3)+_0x3ca997,_0x196480=await fetch(_0x74f0c2,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x18ea75(0x2d7)](_0xe29734)});if(!_0x196480['ok']){const _0x95d845=await _0x196480[_0x18ea75(0x135)]();console[_0x18ea75(0x4da)](_0x18ea75(0x7c4),_0x95d845);throw new Error(_0x18ea75(0x1f7)+_0x196480['status']);}const _0x8682bd=await _0x196480[_0x18ea75(0x93b)]();if(!_0x8682bd['candidates']||_0x8682bd['candidates'][_0x18ea75(0xb81)]===0x0){let _0x212a87=_0x18ea75(0x6c1);return _0x8682bd[_0x18ea75(0x8e1)]?.[_0x18ea75(0x388)]&&(_0x212a87='Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20'+_0x8682bd[_0x18ea75(0x8e1)][_0x18ea75(0x388)]+'.'),console[_0x18ea75(0x4da)](_0x212a87,JSON[_0x18ea75(0x2d7)](_0x8682bd)),null;}const _0x274d23=_0x8682bd[_0x18ea75(0x824)][0x0]['content']['parts'][0x0][_0x18ea75(0x135)];if(_0x424252){let _0x4755cc=_0x274d23;if(_0x4755cc[_0x18ea75(0x4ba)](_0x18ea75(0x603)))_0x4755cc=_0x4755cc[_0x18ea75(0xb94)](0x7,_0x4755cc[_0x18ea75(0xb81)]-0x3)[_0x18ea75(0x543)]();else _0x4755cc[_0x18ea75(0x4ba)]('```')&&(_0x4755cc=_0x4755cc[_0x18ea75(0xb94)](0x3,_0x4755cc[_0x18ea75(0xb81)]-0x3)['trim']());let _0x5bbf83=JSON[_0x18ea75(0x8dc)](_0x4755cc);if(_0x2e642c){if(_0x30671f!==null){}else currentQuizData=_0x5bbf83,displayGeneratedQuiz(currentQuizData,_0x3c96dd,_0x45c7a2);}return _0x5bbf83;}else return _0x274d23;}catch(_0x4e9270){console['error']('Error\x20in\x20handleApiCall:',_0x4e9270),showMessage('เกิดข้อผิดพลาดในการสร้าง:\x20'+_0x4e9270[_0x18ea75(0xc97)]);_0x2e642c&&(_0x571d8c[_0x18ea75(0x6ef)]=_0x18ea75(0x69a));throw _0x4e9270;}finally{_0x889685[_0x18ea75(0x707)][_0x18ea75(0xbfd)](_0x18ea75(0xb5c)),document[_0x18ea75(0x286)]('generate-from-topic-btn')[_0x18ea75(0x790)]=![],document[_0x18ea75(0x286)]('generate-from-text-btn')[_0x18ea75(0x790)]=![],document[_0x18ea75(0x286)](_0x18ea75(0x50d))['disabled']=![];if(_0x251931)_0x251931[_0x18ea75(0x790)]=![];if(_0xa30a9e)_0xa30a9e[_0x18ea75(0x790)]=![];if(_0xac7103)_0xac7103['disabled']=![];}}function exitFullscreen(){const _0x50cc35=_0x45c2ac;if(document[_0x50cc35(0x5b5)])document[_0x50cc35(0x5b5)]()[_0x50cc35(0x553)](_0x3f482d=>console[_0x50cc35(0x4da)](_0x3f482d));else{if(document[_0x50cc35(0x8b)])document[_0x50cc35(0x8b)]();else document[_0x50cc35(0x896)]&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x24ce61=_0x45c2ac,_0x50ce62=document['documentElement'];if(_0x50ce62[_0x24ce61(0x9f8)])_0x50ce62[_0x24ce61(0x9f8)]()[_0x24ce61(0x553)](_0x8e0cbb=>{const _0x45d8e4=_0x24ce61;console['error'](_0x45d8e4(0x464)+_0x8e0cbb[_0x45d8e4(0xc97)]+'\x20('+_0x8e0cbb[_0x45d8e4(0x224)]+')');});else{if(_0x50ce62[_0x24ce61(0x934)])_0x50ce62[_0x24ce61(0x934)]();else _0x50ce62['msRequestFullscreen']&&_0x50ce62[_0x24ce61(0x5c7)]();}}function handleCheatingEvent(){const _0xc5e9d9=_0x45c2ac;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0xc5e9d9(0x8ce)+maxCheatAttempts+_0xc5e9d9(0x629)),document['getElementById']('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0xc5e9d9(0xb74)](_0xc5e9d9(0x9af),handleVisibilityChange),document['removeEventListener']('fullscreenchange',handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0xc5e9d9(0x3e7),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x4cb09f=_0x45c2ac;if(currentMode===_0x4cb09f(0x898)||!isQuizActive)return;if(document[_0x4cb09f(0xba9)]===_0x4cb09f(0xb5c))handleCheatingEvent();else document['visibilityState']===_0x4cb09f(0x8e)&&(console[_0x4cb09f(0x241)](_0x4cb09f(0x5a3)),requestWakeLock(),resetDimTimer());}function _0x31c9(){const _0x2fd830=['getBBox','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เงาปริศนา','projectName','pop','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','game-pin-input','use-powerup-buyTime','การบวก','.summary-bar-item','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','correctAnswerIndex','localeCompare','selected-answer-index-hidden','สมการตรีโกณมิติ','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22question_single\x22\x20value=\x22','both','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','description','perfect_score','การแจกแจงปกติและ\x20z-score','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','viewBox','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','dragstart','file-shortcut-name-input','toISOString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','สถิติและความน่าจะเป็น','transition','qIndex','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','group','files','เกิดข้อผิดพลาดในการอัปเดตสถานะ','New\x20question\x20detected.\x20Clearing\x20powerup\x20flags.','สำหรับโปรเจค:\x20','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','สร้างแบบทดสอบ','behavior-log','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','confirm-game-start-modal','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','back-to-student-home-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','Error\x20updating\x20custom\x20topic:','เรขาคณิต','div','</button>','text-content-input','(หลังเรียน)\x20','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','ความคาดหมาย\x20(Expected\x20value)','save-project-name-btn','bp-modal-question-complexity-select','referenceFileUrl','timer-duration-label','manual-bp-project-name','cancel-delete-btn','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','source-over','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','.topic-selection-btn','dim-overlay','fa-pen','setTransform',')\x22><span\x20style=\x22','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dragend','scratchpad-canvas','message','confidence-scoring-checkbox','จำนวนเต็มลบ','text-emerald-900','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','checkAnswer','fix-lesson-latex-btn','use-powerup-','circ','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','removeItem','math-topics-checkbox-container','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','match','pollUsedThisTurn','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','เรเดียนและการแปลงหน่วย','.project-card-container[data-id]','bg-green-200\x20text-green-900','Error\x20starting\x20game:','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','students','pointer-events-none','ตรีโกณมิติ','ผิด','bp-topic-list-container','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','\x22\x20data-target-tab-id=\x22','.eraser-size-btn','smooth','market-item-list','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','true_false','cancel-quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เลือกและเริ่มสร้าง','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','admin-password-modal','admin-dashboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','attempts','source_document.txt','start-live-race-generated-btn','default-1','Error\x20during\x20blueprint\x20link\x20cleanup:','กรุณาป้อนรหัสแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','⚡️\x20ตัด\x201\x20ตัวเลือก','ผู้เล่น\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per_question','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fa-rocket\x20text-purple-500','เข้าตลาดมืดครั้งแรก\x20(ข้อ\x20','.edit-hidden-file-shortcut-btn','คำถามดิบ:\x20\x22','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.regenerate-question-btn','shuffle','textarea[name=\x22team_answer\x22]','timerMode','#results-table\x20thead\x20tr','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','<p>',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','.topic-category','แท็บใหม่','ARRAY','วงรี','modal-timer-duration-input','.sortable-header','<button\x20data-shortcut-id=\x22','<option\x20value=\x22\x22>กำลังโหลด...</option>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','export-tutor-pdf-btn','forceConfident','แบบทดสอบนี้หมดเวลาแล้ว','push','cancel-create-project-btn','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','results-quiz-id-display','\x20ชุด)','.edit-custom-topic-btn','opacity','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','bp-modal-passing-score-input','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','<br>','additional-parallel-shortcuts-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stem','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','getElementsByTagName','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','.file-topic-selection-btn','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','fa-crown\x20text-yellow-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','check-answer-btn','file-topics-list-container','ชื่อหัวข้อห้ามว่าง','เกิดข้อผิดพลาดในการใช้ตัวช่วย','confirm-rename-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','Error\x20confirming\x20players\x20for\x20sync\x20game:','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22use-powerup-forceConfident\x22\x20class=\x22powerup-btn\x20bg-red-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>บังคับมั่นใจ\x20(','mouseup','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','พื้นที่ผิวรูปทรงสามมิติ','message-modal','แบบทดสอบ:\x20','\x5cneq','.answered','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','ไอติมทอด','/questionBank','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','P/อัน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','file-shortcut-editor-modal','text-red-600','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-type-select','behaviorLog','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','start-sync-game-btn','bg-red-100\x20text-red-800','โลมาบิน','check-presentation-answer-btn','เสือซ่อนเล็บ','rgba(239,\x2068,\x2068,\x200.7)','reduce','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','insertAdjacentHTML','\x22...','ถูกต้อง!','<div\x20class=\x22p-2\x20rounded-md\x20','เกิดข้อผิดพลาดในการนำผู้เล่นออก','createdAt','copy','export-leaderboard-word-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','สร้างชุดคำถามจับคู่','rgba(79,\x2070,\x20229,\x200.8)','modal-timer-mode-select','preScore','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','bg-indigo-600\x20hover:bg-indigo-700','text-tab','student-quiz-area','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','classStrengths','ดูผลสรุปสุดท้าย','คัดลอกรหัสแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','confidence-scoring-toggle','.use-hidden-shortcut-btn','</tbody></table></div>','earned-badges-container','parallel-test-upload-input','ระบบเลขและค่าประจำหลัก','ผู้เล่นใหม่\x20','text/plain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','referenceUrl','confidence-modal','height','อัปเดตแบบทดสอบเก่า\x20','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','.png','bank-quiz-search-input','summary_chart','.delete-question-editor-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-modal','.bp-view-analysis-btn','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','webkitExitFullscreen','show_pass_fail_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','visible','หยุดระบบจับเวลาหรี่หน้าจอ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','totalPoints','หมูกระทะจะเยียวยาทุกสิ่ง','):\x20',',\x20r=','ไฟล์ทั้งหมด','ต้นฉบับ\x201','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','includeImages','isConfidenceScoringEnabled','end-sync-game-btn','code','hint','\x22\x20จำนวน\x20','isScored','lastAnswerCorrect','transition-all','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','สมการเชิงเส้นตัวแปรเดียว','nickname-input','manual_release','COMEBACK_KING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คะแนนยังไม่ถึงครึ่ง','quiz','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','wager-modal','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','passing-score-input','body','adaptive-quiz-checkbox','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','confidence-scoring-description','generated-quiz-container','.delete-parallel-shortcut-btn','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','gameVariant','scrollIntoView','88qPWilI','Error\x20toggling\x20pin\x20status:','หมีขั้วโลกใต้','\x20Points)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cfrac{$1}{$2}','bg-gray-100\x20opacity-70','parallel-shortcut-container','pre-test-checkbox','นักดนตรี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','analyze-strengths-btn','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามแบบเติมคำในช่องว่าง','Error\x20unpairing\x20quizzes:','Error\x20joining\x20live\x20game:','beginPath','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','.bp-unlink-quiz-btn','getAttributeNS','touchend','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-item','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','padStart','grabbing','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','Error\x20pairing\x20quizzes:','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','th-TH','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','leq','\x22,\x20','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','bg-red-200\x20text-red-800','ติดซีรีส์','sync-timer-bar','toString','blueprint-options-container','highlighter-tools-group','กฎของโคไซน์','\x22\x20data-topic=\x22','translate','word-break:\x20break-all;','Error\x20submitting\x20team\x20answer:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','allResponses','bg-[#4ADE80]\x20text-green-900\x20font-bold','cancel-blueprint-projects-btn','retake-quiz-loop-btn','🛡️\x20ประกันภัย','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20renaming\x20quiz:','all','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','เทพทรู','player-count','สำหรับหัวข้อ\x20\x27','.live-answer-btn,\x20#sync-submit-btn','Auto-linking\x20new\x20quiz\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','focus','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','projectSort','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ไม่พบแบบทดสอบสำหรับรหัสนี้','#results-table',')</button>','???','shadowBlur','.move-file-shortcut-menu-btn','presentation-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','data','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','back-to-dashboard-btn','textContent','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>แก้ตัว\x20(','bank-input-area','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','.draggable-text','</p></div>','manual-bp-grade-level','globalCompositeOperation','date_asc','file-shortcut-modal-title','Error\x20processing\x20parallel\x20shortcut\x20click:','ตัวแปรและนิพจน์','\x22\x5cn','mixed','-\x20ข้อ\x20','admin','not_confident','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','originalQuestionText','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','นินจาชาเขียว','อนุพันธ์:\x20ผลคูณ/ผลหาร','settings','poll','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x22\x20สำเร็จ!','.move-parallel-shortcut-menu-btn','use-powerup-poll','bestScore','.delete-hidden-shortcut-btn','projectId','fill_in_no_choices','%PDF','createdBy','.generate-easy-version-btn','/public/data/practiceBank','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','quiz-editor-questions-container','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','👻\x20บังคับมั่นใจ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence','topic-bank-subtopic-name','wasConfident','ข้อที่\x20','circle','file-upload-input','url','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','confirm-quiz-status-btn','.shortcut-list-item:not(.opacity-50)','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราและอัตราหน่วย','newOptions','whole_quiz','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เพิ่มปุ่มลัดจากไฟล์ใหม่','ownerSVGElement','.topic-name-display','quick_thinker','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','กำลังดึงข้อมูลจากลิงก์...','การลบ','stroke','sync-timer-countdown','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','lastAnswerIndex','ดีเทอร์มิแนนต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','type','substr','true','เกิดข้อผิดพลาดในการซื้อ','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','คาถาแยกเงาพันร่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','confidence-choice-btn','generationConfig','ไฟล์ลัด\x201','Error\x20listening\x20for\x20starred\x20quizzes:','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','พาราโบลา','submittedAt','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','modal-adaptive-quiz-checkbox','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','reveal_at_end','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','ปริพันธ์จำกัด','ดาวสภา','rgba(255,\x20255,\x200,\x200.5)','</form>','presentation-short-answer-input','border-red-300\x20bg-red-50','isNormalTopic','now','pointerType','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','learningGaps','#view-rankings-btn','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','modal-timer-duration-label','questionDisplayedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Failed\x20to\x20generate\x20lesson:','student-team-selection-view','\x5cle','ไม่มีคำอธิบาย','</span>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','ส่วนเบี่ยงเบนเฉลี่ย','numChoices','การเรียงสับเปลี่ยน\x20(Permutation)','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','game-start-modal-title','request','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','Error\x20verifying\x20answers:','พีชคณิตและฟังก์ชัน','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','approx','.buy-item-btn','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','fixedData','destroy','ปริมาตร/ความจุและการแปลง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','.pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','🔁\x20โอกาสครั้งที่สอง','.delete-project-btn','player-list-lobby','มุมพิเศษ\x2045°-45°-90°','blueprint-upload-input','sync-player-list','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ราชาคัมแบ็ก','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','Error\x20loading\x20blueprint\x20projects:','\x5cge','Error\x20adding\x20custom\x20topic:','.flex.justify-between.items-center','\x20คน\x20(','เกิดข้อผิดพลาด:\x20','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','flex','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','open-blueprint-projects-btn','กิจกรรมสิ้นสุดลงแล้ว','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','parts','.delete-shortcut-btn','.powerups.','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','backgroundColor','quiz-generation-area','\x20คะแนน</span></div>','กรุณากรอกข้อมูลให้ครบทุกช่อง','พิมพ์ตอบ','save','กำลังค้นหากิจกรรม...','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','\x20(\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จับคู่เพื่อเปรียบเทียบผล','พิสัย','ครัวซองต์','bulk-confidence-scoring-checkbox','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','27411472','<button\x20data-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','เพิ่ม\x20','jinx','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','Unexpected\x20API\x20response\x20structure:','lessonPlan','.tab-name-display','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','removeChild','.move-shortcut-item','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','Team\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','findIndex','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','left','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr>','sync-timer-duration-container','generated-quiz-actions','team-quiz-topic','reveal-answer-btn','cancel-quiz-bank-btn','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','topic-quiz-bank-modal','</p><div>','อัตราการเปลี่ยนแปลงทันที','เกิดข้อผิดพลาดในการลบหัวข้อ','file-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','test','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','reference.pdf','Error\x20adding\x20students:','file-tab','API\x20call\x20failed\x20with\x20status:\x20','blur','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','บันทึกคำถามใหม่\x20','close-lesson-plan-modal-footer-btn','กรุณาเลือกชื่อของคุณ','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','สายลับจับบ้านเล็ก','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','passcode-error-msg','pin','secondChance','playerIndex','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-[#DCFCE7]\x20text-green-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','results-tab-content','answer-grid-container','</span></td>','pointerdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','bulk-loop-until-pass-checkbox','ใช้ไอเทม\x20','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','back-to-home-manual-release','file-shortcut-id-input','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','_opt1\x22\x20name=\x22question','getPage','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','hasOwnProperty','สายหมอก','bg-green-200','student-name-selection-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่มี','name','Error\x20generating\x20hybrid\x20quiz:','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','value','ceil','open-market-btn','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','ดอทโปรดักต์\x20(dot)','docs','questionStatus','manage-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','close-lesson-plan-modal-btn','\x20/\x20','ยืนยันการจับคู่','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>💰\x20เดิมพัน\x20(','#F3E8FF','wheel','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','enable-black-market-checkbox','bank-tab','tan','live-race','log','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','reference_onet.pdf','wasForced','bar','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','กำลังสร้างแบบทดสอบจากหัวข้อ...','score','ตอบถูกทุกข้อในแบบทดสอบนี้','\x22\x20data-quiz-id=\x22','dataset','\x22>จาก:\x20','ยกเลิกการใช้ไอเทม\x20(ไอเทมถูกคืนให้แล้ว)','(คัดลอก)\x20','onload','selectedTopicNames','clientY','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','mode','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','เกิดข้อผิดพลาดในการจับคู่','additional-shortcuts-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tab_','เกิดข้อผิดพลาดในการปักหมุด','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>ประกันภัย\x20(','Error\x20during\x20class\x20analysis:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','scratchpad-controls','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button></div>','ระบบอสมการ','PERFECT_SCORE','Error\x20joining\x20team\x20quiz:','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','file-shortcut-container','แผนภาพกล่อง\x20(box\x20plot)','ยอดเยี่ยม!','ไม่พบโปรเจคที่ต้องการลบ','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20Fix\x20Error:','ส่งคำตอบ','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','loader','<span\x20title=\x22ใช้ส่องสถิติในตานี้\x22>📊</span>','topic','timer-mode-select','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','complexityValue','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','ฟังก์ชันราก\x20(root)','sort','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','\x20|\x20ID:\x20','open-sync-scratchpad-btn','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','/public/data/blueprintProjects/','short_answer','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','\x20</div>\x0a\x20\x20\x20\x20','powerupUsed','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','confirm-admin-login-btn','parentElement','getElementById','SAFETY','👻\x20ไม่มีผู้เล่นอื่น\x20(ที่ยังไม่ตอบ)\x20ให้เลือกใช้ไอเทมนี้ใส่','\x20สำเร็จ!','oninput','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','bp-modal-num-choices','sync-player-management','not_generated','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span></div>','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','groups','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เนื้อหาสำหรับสอน:\x20','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','getContext','text-white','file-shortcuts-loading-msg','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','เมทริกซ์:\x20บวก/คูณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','%</span>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','นำแบบทดสอบออกจากคลังนี้แล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.quiz-status-btn','<p><strong>คำตอบที่แนะนำ:</strong>\x20','.quiz-bank-checkbox:checked','pointermove','กรุณาสร้างบทเรียนก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','application/json','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','<div\x20class=\x22mb-3\x20topic-category\x22>','responseSchema','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','split','total','ไม่พบตารางสำหรับ\x20Export','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','restore','asc','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','cdot','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','ซามูไรสายเดี่ยว','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','ไม่สามารถเริ่มเกมได้','Authentication\x20failed:','(ก่อนเรียน)\x20','link-input-area','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','<option>กำลังโหลดโปรเจค...</option>','เซียนสมองไว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','tooltipTarget','.bp-edit-topic-btn','สมการลอการิทึม','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','-tab','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ซื้อ\x20\x22','parallel-shortcut-editor-modal','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','พื้นที่สี่เหลี่ยม','matching_item','stringify','onclick','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','pow','ความชันเส้นสัมผัส','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','presentation-modal','กำลังสร้างคำถามข้อ\x20','td,\x20th','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','0\x20(รอโบนัส)','cancel-file-shortcut-edit-btn','password-error-msg','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','เกิดข้อผิดพลาดในการลบนักเรียน','กรุณาพิมพ์คำตอบของกลุ่ม','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','bg-green-500\x20hover:bg-green-600\x20text-white','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','project-sort-select','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','ฟังก์ชันค่าสัมบูรณ์','ตัวเลือก\x20','input[type=\x22checkbox\x22]','touches','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','blob','user','s;\x22\x20title=\x22','additional-parallel-shortcuts-list','<span\x20class=\x22sort-indicator\x20ml-2\x22>','📊\x20สถิติ:\x20ยังไม่มีใครตอบข้อนี้เลยครับ!','\x20ข้อแล้ว!','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20updating\x20project\x20name:','ป่าไม้','showImproveButton','ร้อยละประยุกต์','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','AI\x20request\x20was\x20blocked.\x20Reason:\x20','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','gradeLevel','ลบแบบทดสอบสำเร็จแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','confirm-join-game-btn','parallel-shortcut-name-input','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','fa-user-astronaut\x20text-blue-700','usedPoll','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','ดีมาก','onloadend','</td>','modal-loop-until-pass-checkbox','#E0E7FF','modal-confidence-scoring-checkbox','input[name=\x22team_player\x22]:checked','เกมสิ้นสุดลงแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','powerupUsedThisTurn','ไม่พบข้อมูลผู้ใช้','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','back-from-results-btn','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','mean','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','Error\x20deleting\x20quiz:','แก้ระบบสมการด้วยเมทริกซ์','.ideal-answer-input','cancel-confidence-btn','save-parallel-shortcut-btn','เกิดข้อผิดพลาดในการโหลดโปรเจค','cancel-team-selection-btn','thead\x20.sortable-header','Error\x20deleting\x20submission:','Error\x20saving\x20quiz:','STRING','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x5cpm','getTime','endsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','ยังไม่มีนักเรียนส่งงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','---\x20[คำถามใหม่]\x20---','post-test','results','input[type=\x22radio\x22]:checked','file-default-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-semibold\x20mb-3\x20animate-pulse\x22>💰\x20โหมดเดิมพันทำงานอยู่!\x20(เลือกคำตอบเพื่อเดิมพัน)</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NEGATIVE_INFINITY','globalSettings','loader-text','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','ไม่พบข้อมูลโปรเจค','input[type=\x22text\x22]','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','Error\x20comparing\x20results:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','fill_in_the_blank','student-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เต่าสายฟ้า','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','text-blue-800','...\x22)?','ไม่สามารถเพิ่มนักเรียนได้','leaderboard','Error\x20processing\x20shortcut\x20click:','modal-timer-duration-container','แก้ไขสูตรคณิตศาสตร์\x20','bg-blue-500\x20hover:bg-blue-600\x20text-white','.delete-parallel-shortcut-tab-btn','ข้อ\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x22\x20value=\x22false\x22\x20','parseFromString','โดเมนและเรนจ์','#add-question-editor-btn','key','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x22><p\x20class=\x22font-semibold\x22>','\x20กลับเข้าสู่เกม!','Invalid\x20response\x20structure\x20from\x20API.','\x20จาก\x20','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','results-table-container','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','/preferences/main','latestSubmittedAt','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-game-results-checkbox','parallel-shortcut_','MathJax','touchcancel','แคลคูลัสเบื้องต้น','.generate-lesson-btn','มุมและการวัดมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','black-market-settings-container','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สถานะไม่ชัดเจน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','/public/data/liveGames','shortcut-tabs-nav','เกิดข้อผิดพลาดในการบันทึกโปรเจค','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','confirm-passcode-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','ยังไม่เต็มนะ','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','open-quiz-bank-btn','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','.use-hidden-parallel-shortcut-btn','เกิดข้อผิดพลาดในการบันทึก','blockReason','ไม่พบเอกสารการส่งงานของ\x20','cursor','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','teachingContent','scrollX','neq','ไม่สามารถโหลดคลังข้อสอบได้','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','export-lesson-to-pdf-btn','svg','result','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','appendChild','mandatory','move-quiz-modal','handleGenerateAndShowLesson','.ai-content\x20td','modal-confidence-mode-container','\x20\x20\x20-\x20คำตอบ:\x20','#student-project-leaderboard-content\x20thead','open-global-live-btn','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-test-btn','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','confirm-confident','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','questionText','comeback_king','live-player-management','0\x200','mouseleave','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','md:col-span-3','พบ\x20Sync\x20Game!','mode-switcher-btn','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','Error\x20adding\x20topic:','highlighter-tool-btn','highlighter','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','.linkedQuizId','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20(สำหรับ\x20','Error\x20committing\x20score\x20updates:','เลือกผู้เล่น\x201\x20คน\x20ให้ถูกบังคับ\x20\x22มั่นใจ\x22\x20ในข้อนี้','Error\x20displaying\x20question\x20bank:','correct','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','random','No\x20unanswered\x20players\x20found\x20on\x20this\x20device.\x20Waiting\x20for\x20re-render.','\x22\x20ให้เป็นคำถามประเภท\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gamePin','project-list','disabled\x20bg-gray-400\x20cursor-not-allowed','powerups','เกิดข้อผิดพลาดในการสร้างห้องเกม','.file-shortcut-tab-btn','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','lesson-loader','mainTopics','topic-tab','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','subTopics','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','cancel-global-activity-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','Error\x20rendering\x20student\x20progress:','close-comparison-modal-footer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','Failed\x20to\x20apply\x20jinx:','parallel-default-','แบบเติมคำตอบ','Error\x20deleting\x20topic:','end-game-btn','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','student-list','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','players.','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','leaderboard-quiz-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','ไฟล์ลัด\x202','%)\x0a','\x22\x20name=\x22confidence','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','Error\x20verifying\x20answers\x20in\x20editor:','แฟนทิพย์','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','move-quiz-project-select','project-name-input','times','file-topics-list','หน่วยเวลาและการคำนวณเวลา','toLowerCase','(พยายามอยู่)','createElement','jspdf','num-choices','ลบโปรเจค\x20\x22','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','lowerGroupNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','wagerMultiplier','ต้นฉบับ\x202','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.quiz-bank-settings-btn','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','results_','สิงโตยิ้ม','back-to-dashboard-from-bp-btn','.project-card-container:not(.opacity-50)','Blueprint\x201','ai-quiz-app-aefee.firebasestorage.app','pen-tools-group','ไม่พบข้อมูลเกม','ตั้งเวลา\x20(เปิด)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','bg-yellow-50','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','text-gray-300\x20hover:text-white','.toggle-actions-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','.isScored','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.bp-try-btn','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','#FEF3C7','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','generate-from-text-btn','team-player-status-grid','cancel-export-pdf-btn','/public/data/learnedFixes','แบตหมด','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.compare-results-btn','.cancel-edit-topic-btn','update-old-quizzes-btn','.remove-file-shortcut-from-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','perQuestionStats','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','anon-settings-container','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>ตัด\x201\x20(','bg-blue-100\x20text-blue-800','คนคุย','เศรษฐีดูไบ','\x20รายการสำเร็จ!','</label></div>','analytics-tab-btn','.export-pdf-list-btn','Error\x20fetching\x20lesson\x20content:','verify-answers-editor-btn','blueprint-topics-list','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เวกเตอร์และเมทริกซ์\x20(เสริม)','การแยกตัวประกอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teacherSuggestions','#math-topics-checkbox-container\x20input:checked','ปล่อยพลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','confidence-mode-container','loop-until-pass-checkbox','timeBonusThisQuestion','ออฟฟิศซินโดรม','list','เกิดข้อผิดพลาด','\x20in\x20all\x20blueprint\x20projects.','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','querySelector','274192258111','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','นักเขียน','\x0a\x20\x20\x20\x20','(ไม่มีชื่อ)','standard','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','เหมียวขี้เซา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','POST','คณิตการเงิน/บูรณาการ','topics.','modal-passing-score-input','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','release','undo-btn','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','ทฤษฎีบทพื้นฐานของแคลคูลัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','input[name=\x22syncVariant\x22]','onSecondChance','submissions','.quiz-settings-btn','file-shortcut-url-input','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','getItem','file-input-area','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','pointerup','results-quiz-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','285753Wzbpic','กาแฟขม','strength-weakness-analysis-container','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','#000000','file.txt','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','matching','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Original\x20quiz\x20not\x20found','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','quizId','getBoundingClientRect','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปคะแนน\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scale','dragover','parallel-shortcut-id-input','artifacts/','bg-[#EF4444]\x20text-white\x20font-bold','beforeend','quizType','.mb-6.p-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upperGroupResponders','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','กำลังอัปเดตแบบทดสอบ\x20','ไม่สามารถสร้างโปรเจคได้','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','shortcutId','lowerGroupResponders','border-indigo-500\x20text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','ตัวเลือก\x20ข','answered','.csv','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','.shortcut-tab-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','.linkedQuizIds','88BPePvQ','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','⚡️\x2050:50','.save-custom-topic-btn','.live-answer-btn','text-gray-500','fullscreenElement','บทเรียน','sync-matching-select','.delete-student-btn','ลบหัวข้อสำเร็จ','_opt','\x0a\x20\x20\x20\x20\x20\x20</div>','quiz-leaderboard-table-body','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','confidenceMode','bg-yellow-300\x20text-yellow-900\x20font-bold','Error\x20saving\x20manual\x20blueprint\x20project:','แบบทดสอบซ่อมเสริม','student-quiz-leaderboard-tab','ตะวันฉาย','cancel-bulk-quiz-settings-btn','targetId',':</span><span>','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','ai-quiz-app-aefee.firebaseapp.com','แมวเก้าชีวิต','color','lineWidth','.quiz-bank-try-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','scratchpad-header','verify-answers-btn','</span><span\x20class=\x22font-bold\x22>','sync-timer-enable-checkbox','ระยะเวลา\x20(วินาที):','กรุณาใส่ชื่อใหม่','lineCap','startsWith','wager-slider','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','project-dashboard-view','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','standardTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>','\x20รายการ...','start-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','survivor','ทะเล','.edit-question-btn','นักกีฬา','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Loaded\x20',';\x22\x20data-id=\x22','sum','Error\x20saving\x20file\x20shortcut:','Failed\x20to\x20end\x20group\x20mode\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','unshift','bg-teal-500\x20hover:bg-teal-600\x20text-white','\x20mx-1\x20text-lg\x22></i></span>','outerHTML','add-parallel-shortcut-tab-btn','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','ผู้ควบคุม\x20(ทดสอบ)','-options\x22>','blueprint-input-area','error','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','เน็ตช้า','😈\x20คำสาป\x20(Jinx)','powerupUsed_q','input','student-project-leaderboard-tab','default-2','bg-gray-50','generate-from-blueprint-btn','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','dfrac','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','px,\x20','leaderboard-table-body','write','parallelShortcutTabs','Error\x20updating\x20pin\x20status:','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','back-to-student-initial-btn','พื้นที่สามเหลี่ยม','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','closePath','default','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','.highlighter-color-btn','เกิดข้อผิดพลาดในการส่งคำตอบ','border-indigo-400\x20ring-2\x20ring-indigo-200','การแจกแจงทวินาม\x20(พื้นฐาน)','สร้างแล้ว','ค่าเสื่อมราคา','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','<div\x20class=\x22flex-1\x22></div>','Error\x20unlinking\x20quiz:','num-questions','\x5csqrt{$1}','empty','Failed\x20to\x20generate\x20practice\x20test:','รีเซ็ตลำดับโปรเจคแล้ว','keydown','addEventListener','(ฉบับง่าย)\x20','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','thead','อัศวินรัตติกาล','student','checked','จอมเวทย์ขนมหวาน','topics','generate-from-link-btn','difficulty-level-select','linkedQuizIds','tabId','\x5cdiv','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','\x20ตอบ','อุณหภูมิและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcut-modal-title','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','submit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','applicationData','.tab-name-input','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','Error\x20saving\x20blueprint\x20project:','class','ลำดับเรขาคณิต\x20(GP)','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-shortcut-tab-btn','mousemove','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','onchange','practice-topic-btn','บันทึกการแก้ไข','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','half_mark_status','การลบทศนิยม','ดูว่าคนอื่นตอบข้อไหนบ้าง\x20(คำเตือน:\x20หากใช้แล้วตอบผิด\x20บทลงโทษคะแนนจะ\x20x2)','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ\x20(ยกเว้น\x20\x27ซื้อเวลา\x27)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','ค่าเฉลี่ย','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','newCorrectIndex','Error\x20deleting\x20all\x20students:','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','blueprint-project-manager-view','modal-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</div></div>','FileReader\x20error:','trim','solution','<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','dispatchEvent','isAnonymousRevealed','then','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','Error\x20opening\x20quiz\x20editor:','difficultyValue','Group\x20Mode','normal','loopUntilPass','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','มังกรกินจุ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','catch','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','idealAnswer','showInStudentDashboard','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','opacity-50','กุ้งเต้นแร้งกา','eraser-tool-btn','sync','Error\x20clearing\x20linked\x20quiz:','คะแนนเต็ม','fromCharCode','แบบทดสอบที่ติดดาว','str','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','Error\x20deleting\x20shortcut:','bg-green-100\x20font-bold','API\x20call\x20failed','answerText','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','P)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','line-through\x20text-red-700','per-q-countdown','bg-gray-200\x20text-gray-700','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','project-detail','#open-additional-parallel-shortcuts-btn','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','การลบเศษส่วน','.question-editor-item[data-q-index=\x22','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fadeStartTime','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','student-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','parallel-shortcuts-loading-msg','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','editable-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','</a>','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','กำลังอ่านไฟล์\x20Test\x20Blueprint...','ค่าสัมบูรณ์','\x22\x20value=\x22','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','toggle','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','toFixed','offset','Error\x20linking\x20quizzes:','https://drive.google.com/uc?export=download&id=','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','buyTime','textarea','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','choices_only','fas\x20fa-bookmark','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','scratchpad-options','ใช่\x20/\x20ถูก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-emerald-100','.pen-size-btn','.sort-indicator','toDate','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','q-text-','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','starred','เกิดข้อผิดพลาดในการติดดาว','countdown-display','generated','scheduled_pending','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','คำถามถัดไป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','กำลังสแกนหาแบบทดสอบเก่า...','Failed\x20to\x20resume\x20game\x20session:','Powerup\x20use\x20failed:','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','student-progress-content','การปัดเศษและประมาณค่า','ไม่สามารถบันทึกการตั้งค่าได้','offsetWidth','exitFullscreen','load-quiz-btn','className','export-leaderboard-image-btn','\x22><span\x20style=\x22','none','team','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20gap-2\x20justify-center\x20items-center\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-market-btn\x22\x20class=\x22bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-store\x22></i>\x20ตลาดมืด\x20(มี\x20','preventDefault','reference.txt','blueprintUrl','use-powerup-forceConfident','parallel-test-input-area','เรขาคณิตวิเคราะห์','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','คู่จิ้น','msRequestFullscreen','Error\x20confirming\x20players:','label','เลือกและบันทึก','.ai-content\x20h3','(ตามมาติดๆ)','Error\x20deleting\x20student:','text-purple-600','<button\x20data-value=\x22','closest','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q','question','/public/data/quizzes','isLooping','additional-shortcuts-modal','สาระที่\x201','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','activeGameSession','⏳\x20ซื้อเวลาสำเร็จ!\x20คุณได้รับเวลาเพิ่ม\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hint-btn','additional-file-shortcuts-modal','$1\x20\x5cfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','submit-team-answer-btn','.kick-player-btn-sync','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาเลือกไฟล์ก่อน','text-gray-400\x20hover:text-indigo-600','...','กรุณาวาง\x20URL\x20ของบทความก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','save-file-shortcut-btn','confirm-team-players-btn','behavior-log-tab-btn','ไม่ใช่\x20/\x20ผิด','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','กำลังกลับเข้าสู่เกม\x20','scores-tab-btn','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','Refunded\x20','สรุปผลสุดท้าย','getTextContent','แม่น้ำ','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','showRankings','.presentation-option','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','<i\x20class=\x22fas\x20fa-pen\x22></i>','จำนวนนักเรียน','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','```json','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','touch','เลือกผู้เล่นที่จะ\x20\x22สาป\x22\x20(ใส่ตัวเลข):\x0a','p-2\x20bg-black/10\x20rounded-md','list-view-btn','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','generate-from-topic-btn','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','create-project-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22สุดยอด!\x20(คะแนนเต็ม\x20+\x20มั่นใจทุกข้อ)\x22>👑</span>','#D1FAE5','q-explanation-','NUMBER','student-progress-view','includes','การคูณ','moveTo','global-quiz-count','currentTarget','shortcut-id-input','ใช่','เศษส่วน\x20(ย่อ/ขยาย)','every','Error\x20updating\x20project\x20color:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','เกิดข้อผิดพลาดในการเข้าร่วมเกม','timer-duration-input','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22answer-space\x22></div>','student-back-to-home-btn','filter','dataIndex','Error\x20starting\x20group\x20quiz:','.doc','bp-project-title','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','onerror','ม้าดีดกะโหลก','flex\x20flex-col\x20gap-2','text-indigo-600','Error\x20displaying\x20blueprint\x20project:','top','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','open-scratchpad-btn','http://www.w3.org/2000/svg','รักแรกพบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','Error\x20saving\x20file\x20shortcut\x20config:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','sync-manage-players-btn','newOptionsPayload','add-file-shortcut-btn','.totalPoints','hiddenOptions_q','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','querySelectorAll','trail-tool-btn','timed','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','readAsDataURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','<div\x20id=\x22q-image-container-','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','.color-palette-popup','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','answer-counter','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','ที่พิมพ์ได้\x20จำนวน\x20','ยกเลิกการเชื่อมโยงสำเร็จ','innerText','create-project-modal','ก้อนเมฆ','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','กำลังอ่านไฟล์อ้างอิง...','lobby','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','\x22>ใช่</p>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','pen','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','scores-tab-content','Error\x20processing\x20file\x20shortcut\x20click:','กรุณาเลือกสถานะ','bank-quiz-list','commonMistakes','เกิดข้อผิดพลาดในการเข้าตลาดมืด','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','ON_FIRE','fixed','\x5ctimes','abs','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','title','cancel-quiz-edits-btn-footer','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม!\x22>⭐</span>','\x5ccdot','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','.bp-generate-lesson-btn','STARTING_LIVES\x20is\x20not\x20defined!\x20Defaulting\x20to\x203.','shortcut-editor-modal','<svg','text-green-600','เกิดข้อผิดพลาดในการลบแบบทดสอบ','right','\x20from\x20sync\x20game:','auto-fix-latex-btn','G-V90KRM0L63','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','resultsDisplay','กรุณาเลือกโปรเจคปลายทาง','per-question-options','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','Error\x20deleting\x20custom\x20topic:','manage-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','Blueprint\x202','red','stdDev','.file-shortcut-btn[data-id=\x22','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','</span>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','.quiz-bank-present-btn','สร้างแบบทดสอบปรนัย','ธอร์ค้อนบิน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','cancel-bp-settings-btn','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','ไม่สามารถโหลดรายการโปรเจคได้','responses','บักแตงโม','live-game-view','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','#retake-for-improvement-btn','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','confirm-bulk-quiz-settings-btn','answerValue','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','comparison-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','Error\x20updating\x20quiz\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','startedAt','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','indexOf','projectView','text-red-700\x20bg-red-100','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','Remedial\x20quiz\x20generation\x20failed:','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','แบบปรนัย\x204\x20ตัวเลือก','ไฮเพอร์โบลา','รหัสไม่ถูกต้อง','/studentProfiles','กลุ่มของคุณ','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','<li\x20class=\x22','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','add-parallel-shortcut-btn','worksheet-topic-input','numPages','Error\x20duplicating\x20quiz:','cancel-passcode-btn','icon','fas\x20fa-user-edit','</strong></p>','lesson-plan-modal','setItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','</select>','anon-show-answer-toggle','AI\x20did\x20not\x20return\x20any\x20content.','</div>','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','Error\x20calling\x20Gemini\x20API:','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','playerName','ชื่อโปรเจคห้ามว่าง','.open-bp-project-btn','items','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','exists','live-game','bp-reference-file-url','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','remove','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','</h3>','.start-live-race-btn','delete-all-students-btn','cancel-manual-bp-btn','input[type=\x22checkbox\x22]:checked','confirm-not-confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','join','PROMPT_PLACEHOLDER','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','bp-quiz-settings-btn','link-url-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-file-btn','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','.auto-resize-textarea','Error\x20generating\x20from\x20link:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','เส้นตรง:\x20รูปแบบสมการ','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','include-images-checkbox','starred-project','student-reading-area','fill','scratchpad-close-btn','innerHTML','รายการนี้','contentEditable','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mjx-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','far\x20fa-star','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>','<span\x20class=\x22text-red-400\x20ml-1\x22\x20title=\x22คะแนนพิเศษติดลบ\x20(มั่นใจแต่ตอบผิด)\x22>⚠️</span>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-dashboard-from-results-btn','การหาร','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','comparison-individual-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','Blueprint\x20O-NET\x20ป.6','ลำดับการดำเนินการ\x20(PEMDAS)','ชนิดของข้อมูลและการเก็บข้อมูล','ไม่พบข้อมูลหัวข้อที่จะบันทึก','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-shortcut-btn','classList','เกิดข้อผิดพลาดในการบันทึกลำดับ','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','topic-bank-list','false','เกิดข้อผิดพลาดในการอ่านไฟล์','<button\x20data-quiz-id=\x22','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไป\x20','width','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','Error\x20clearing\x20all\x20links:','.ai-fix-question-btn','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','FIRST_TRY_ACE','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','select-all-topics-btn','bg-black/10','\x22\x20name=\x22team_answer\x22\x20value=\x22','topicName','.quiz-bank-move-btn',')</span></div>','Failed\x20to\x20kick\x20player\x20','use-powerup-insurance','add-student-btn','passcode','shuffle-setting-select','ตัวแทนแห่งดวงจันทร์','reveal-names-btn','toLocaleDateString','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollY','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','วงกลม:\x20สมการและสมบัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','select','หน่วยความยาวและการแปลง','wasJinxed','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','open','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','อยู่ในสาระการเรียนรู้ใด:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','slide-counter','นกฮูกกลางวัน','ไม่พบข้อมูลข้อสอบหลังเรียน','ผู้พิชิตดาว','export-excel-btn','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','\x20|\x20','analytics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','fiftyFifty','size','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','bg-red-500','student-quiz-leaderboard-table-body','.delete-quiz-btn','หนอนหนังสือ','pen-tool-btn','applicationContent','min','transformOrigin','setFont','Error\x20analyzing\x20file\x20for\x20topics:','parallel-shortcut-tabs-nav','questionId','freeMarketEntryUsed_q','close-additional-parallel-shortcuts-btn','ผ่าน','start-presentation-btn','block','blueprint-shortcut-container','การกระจายและการจัดหมู่','\x20ชิ้น)','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','</li>','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','max','กำลังดึงไฟล์อ้างอิงจากลิงก์...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','style','</p>','timestamp','toDataURL','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','</div></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','multiply','คะแนนเต็ม!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','export-pdf-btn','parallelTestShortcutsConfig','modal-confidence-mode-select','.group\x5c/dropdown','touchmove','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tool','classWeaknesses','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cos','save-blueprint-as-project-btn','isDefault','data:application/vnd.ms-word;charset=utf-8,','อนุพันธ์:\x20กฎลูกโซ่','ห.ร.ม.\x20(GCD)','first_try_ace','[*]','Error\x20saving\x20questions\x20to\x20practice\x20bank:','rgba(16,\x20185,\x20129,\x200.7)','use-powerup-fiftyFifty','bulk-quiz-settings-modal','quadraticCurveTo','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','submission','devicePixelRatio','grid-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','summary','.project-card-content','textarea[name=\x22question_single\x22]','use-powerup-secondChance','handleGeneratePracticeTest','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','disabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','student-rankings-modal','no-projects-msg','bg-red-50','target','line-height:\x201.3;\x20min-width:\x200;','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','confidence-input-','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','.unpair-quiz-btn','touchstart','N/A','default-','<button\x20data-id=\x22','ไอรอนแมน','toLocaleString','correctResponse','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน\x20','\x5csum','input[name=\x22syncVariant\x22]:checked','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x20quizzes\x20into\x20global\x20cache.','ไม่พบแบบทดสอบในระบบเลย','Re-grade\x20process\x20failed:','ทฤษฎีบทพีทาโกรัสและการประยุกต์','isArray','export-worksheet-pdf-btn','close','prev-question-btn','isFinished','จำนวนคละ','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','back-to-results-btn','auto','tfrac','font-bold\x20text-green-700','download','shortcut-name-input','อินเวอร์สของเมทริกซ์','_opt0\x22>ใช่</label></div>','qType','show_results_only','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','per-question-timer-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','API\x20Error\x20Response:','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','shortcut-reference-url-input','find','curriculum','\x20สำเร็จ','manual-blueprint-modal','confirm-delete-btn','image/png','pairedQuizId','application/pdf','\x20\x0a\x20\x20\x20\x20','จับคู่แบบทดสอบสำเร็จ!','game-start-quiz-id','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','.answeredCurrentQuestion','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','Error\x20listening\x20for\x20student\x20profiles:','.move-shortcut-dropdown','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','numeric','ฟังก์ชันกำลังสองและกราฟ','หมดเวลา!\x20กำลังส่งคำตอบ...','progress-project-select','แก้ไขปุ่มลัด','ผู้เชี่ยวชาญ','BOOLEAN','[data-topic-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','modal-shuffle-select','.shortcut-list-item','<div\x20style=\x22','เปิด\x20(จับเวลา)','Leaderboard\x20update\x20transaction\x20failed:\x20','teacherTips','ผลรวมอนุกรม\x20(Σ)','<span\x20class=\x22text-gray-400\x20ml-1\x22\x20title=\x22คะแนนจริงเป็น\x200\x22>😥</span>','สู้ๆ\x20ลองอีกครั้งนะ','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','explanation','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','promise','lineJoin','ควรปรับปรุง','ไม่มีผู้ตอบตัวเลือกนี้','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ยอดเยี่ยม','selected-answer-index-hidden-wager','พื้นที่วงกลม/ส่วนของวงกลม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ไขปุ่มลัดจากไฟล์','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','transform','modal-close-btn','สร้างคำถามใหม่\x201\x20ข้อ\x20','รอผู้ควบคุมไปข้อต่อไป...','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','หัวข้อหลักใหม่','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','ย้าย','.pdf','cancel-move-quiz-btn','มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)','Market\x20entry\x20payment\x20failed:','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','quiz-id-input','Copy\x20command\x20failed','shortcut-blueprint-url-input','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','timerDuration','bg-green-50','date_desc','.move-parallel-shortcut-item','delete-svg-btn','.bp-delete-topic-btn','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','.delete-file-shortcut-btn','.topic-actions-view','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','index','ปริพันธ์ไม่จำกัด','/public/data/syncGames','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','reference-pdf-upload','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','Enter','playerNicknames','cancel-quiz-settings-btn','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','document','Error\x20generating\x20parallel\x20post-test:','cutOne','candidates','.topic-actions-edit','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','itemId','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onkeydown','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','realScore','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','fa-dumbbell\x20text-gray-700','.quiz-result-card','2-digit','Error\x20saving\x20project\x20order:','การหารทศนิยม','isAdaptive','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','.quiz-bank-delete-btn','workerSrc','การจัดหมู่\x20(Combination)','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวประกอบและตัวประกอบเฉพาะ','shortcuts','บันทึกโปรเจค\x20\x22','insurance','scratchpad-question','href','(เลือกแล้ว\x20','game-start-mode','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','คำอธิบาย...','<div\x20class=\x22my-6\x22>','join-group-activity-btn','100px','clientX','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','input[name=\x22drill_answer\x22]:checked','AI\x20grading\x20failed:','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','upperGroupNames','bg-green-100\x20text-green-800','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','ย้ายแบบทดสอบไปโปรเจคอื่น','points','กองดอง','parallel-default-1','admin-view','ไม่ใช่','\x20เข้าร่วมกลางเกม','stopPropagation','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','force-math-checkbox','กรุณาเลือกคำตอบ','<div\x20class=\x22my-2\x22>','สมการยกกำลัง','การวัด','blueprintShortcuts','deg','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','ศูนย์','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','bg-yellow-100','📊\x20ส่องสถิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ondragover','bp-modal-num-questions','parent','topic-input-area','button[type=\x22submit\x22]','Error\x20regenerating\x20question\x20in\x20editor:','live-short-answer-input','fa-bolt\x20text-blue-500','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','#FFFFFF','กรุณาใส่ชื่อโปรเจค','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','ความเป็นอิสระของเหตุการณ์','student-join-game-view','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','ข้อต่อไป','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','temp-loader-text-results','ย้ายแบบทดสอบสำเร็จ','text-emerald-800','show_results_and_answers','results-tab','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-try-quiz-btn','show-in-student-dashboard-checkbox','add-file-shortcut-tab-btn','highlighter-size-slider','No\x20player\x20data\x20to\x20save.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.rename-quiz-btn','\x22>(',')\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouse','<button\x20id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','เกิดข้อผิดพลาดในการลบผลสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','cancel-wager-btn','บันทึกการตั้งค่าแล้ว','projectOrder','currentQuestionIndex','msExitFullscreen','คัดลอกไม่สำเร็จ','admin-testing','เกิดข้อผิดพลาดในการเปลี่ยนสี','save-quiz-btn','text-gray-200','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','\x27\x20ในหัวข้อ\x20\x27','เส้นจำนวน','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','bp-add-topic-btn','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','generate-from-parallel-test-btn','1749310sbZoRd','answers','Firebase\x20initialization\x20failed:','\x20(Player)\x20(ID:\x20','.application-options\x20button','save-bp-reference-btn','<tr\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','_opt1\x22>ไม่ใช่</label></div>','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','shortcutIds','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','pathname','.bp-create-topic-quiz-btn','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','#student-quiz-leaderboard-content\x20thead','อัตราส่วนและสัดส่วน','finished','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','.lastAnswerValue','(ก่อนเรียน)','text/html','/users/','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','analytics-summary-cards','confirm-manual-bp-btn','fa-shield-alt\x20text-gray-600','specialist','confirm-move-quiz-btn','applicationHTML','typesetPromise','mousedown','ไม่พบโปรเจค','getScreenCTM','keyConcepts','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','สลับไปโหมดผู้ควบคุม','some','ตรวจพบการออกจากหน้าจอครบ\x20','.correct-response-input','shuffledQuiz','.quiz-bank-parallel-btn','คุณไม่มีไอเทมนี้ในคลัง','\x20ตัวเลือก)','view-my-progress-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','separate-by-content-from-file-checkbox','จำนวนเต็มบวก','border-gray-200','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','frac','.pair-quiz-btn','parse','overflowY','global-activity-quiz-list','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','ตรวจทานเฉลยเสร็จสิ้น!','promptFeedback','มือปราบสายรุ้ง','content','trail','use-powerup-cutOne','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','\x22.\x20Ideal\x20Answer:\x20\x22','manage','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','change','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','bg-green-500','/public/data/projects/','confirm-game-start-btn','practiceProblems','text-gray-100','projectSortOrder','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','podium','\x22\x20class=\x22pin-project-btn\x20','#file-shortcut-tabs-nav\x20.tab-name-input','redo-btn','</body></html>','/lessons','/public/data/teamQuizzes','เพนกวินไฟ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-parallel-shortcut-dropdown','อัปเดตการตั้งค่าของแบบทดสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','กำลังสร้างแบบทดสอบ:\x20','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','quiz-search-input','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','.txt','get','isJinxed','has','Error\x20starting\x20team\x20quiz:','confident','.score','เกิดข้อผิดพลาดในการยืนยันผู้เล่น:\x20','Attempting\x20to\x20save\x20game\x20results...','Error\x20updating\x20sort\x20preference:','next-question-btn','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','name_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','การเข้าตลาดมืดครั้งต่อไปในข้อนี้\x20จะเสียค่าธรรมเนียม\x201\x20Point\x20คุณต้องการเข้าหรือไม่?','การคูณเศษส่วน','\x20ข้อ\x20','_blank','ตัวเลือก\x20ก','close-additional-shortcuts-btn','#open-additional-file-shortcuts-btn','คุณแน่ใจหรือไม่ว่าต้องการใช้\x20\x27สถิติ\x27?\x20(หากใช้แล้วตอบผิด\x20บทลงโทษจะรุนแรงขึ้น)','pinnedProjects','<button\x20id=\x22use-powerup-poll\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>สถิติ\x20(','bulk-shuffle-select','2dwHqZH','cancel-quiz-edits-btn','behavior-log-container','source_document.pdf','active','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x27,\x20\x27','อกหัก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','Error\x20toggling\x20star\x20status:','commit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','readAsArrayBuffer','players','ปรับเพิ่ม/ลดเป็นร้อยละ','\x22><i\x20class=\x22fas\x20','lesson-loader-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','.lastAnswerIndex','webkitRequestFullscreen','close-lesson-view-btn','click','overline','พบข้อสอบ\x20','file-default-','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','json','isForcedConfident','attemptNumber','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','(กำลังไล่ตาม)','use-powerup-jinx','รอเปิด','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','delete','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','โหลดนาน','ดาวTikTok','perseverance','select[name=\x22question_single\x22]','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','justification','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','forEach','quiz-leaderboard-table-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','lesson-plan-content','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','results-display-select','Error\x20saving\x20settings:','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn,\x20#live-submit-short-answer-btn','https://corsproxy.io/?','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','\x20จุด','fileShortcutsConfig','ระยะเวลา\x20(นาที):','rgba(79,\x2070,\x20229,\x201)','project-title','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','submission-status-chart','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','จำนวนเชิงซ้อน\x20(เสริม)','\x20pointer-events-none\x22>','</div>\x0a</div>\x0a','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','student-initial-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','.lastAnswerCorrect','rename-quiz-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.use-hidden-file-shortcut-btn','ไม่พบไฟล์\x20Test\x20Blueprint','วงกลม:\x20คอร์ดและเส้นสัมผัส','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','</p><p><strong>เฉลย:</strong>\x20','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','shadowColor','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','</option>','export-compact-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สเกลและแผนที่','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','responses.','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','lives','จันทร์เจ้า','ข้าวมันไก่พิเศษ','API\x20Error\x20Body:','.delete-hidden-file-shortcut-btn','end-team-quiz-btn','.parallel-shortcut-tab-btn','desc','live-player-list','ไม่พบข้อมูลแบบทดสอบ','bg-red-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','blueprint-projects-modal','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','canvas','562504zoVyvL','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','.question-editor-item','topic_','isCorrect','doughnut','link-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','blueprint-settings-modal','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','bg-blue-100','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','ondblclick','/public/data/projects','190899cYCVMJ','interesting-stats-wrapper','.edit-quiz-btn','ฟังก์ชันสัมพัทธ์\x20(rational)','สอบซ่อม','Error\x20resetting\x20project\x20order:','[data-topic-container-id]','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','number','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','ค่าความจริง/ตารางค่าความจริง','preTestId','visibilitychange','badgesCount','txt','\x20(p=','ต้นฉบับทั้งหมด','setAttribute','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','studentName','project-passcode-modal','endTime','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','memory','ตรวจคะแนนใหม่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','keyup','onblur','category','-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','members','Error\x20saving\x20game\x20results:','Error\x20starting\x20live\x20race:','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','schedule','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','deselect-all-topics-btn','bg-green-200\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','enable-passcode-checkbox','next-question-timed-btn','เกี่ยวกับหัวข้อ\x20\x22','ชาไข่มุก','/submissions','label[for=\x22num-questions\x22]','getDocument','สมมาตร\x20(แกน/จุด)','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','336988mWmYNN','order','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','240','parentNode','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','[data-field=\x22subTopic\x22]','editor-quiz-topic','file-default-2','selected-topics-count','[data-topic-id]','center','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','pdf','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','.delete-hidden-parallel-shortcut-btn','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','-options','competition','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','All\x20groups\x20have\x20finished.\x20Ending\x20game.','ลบผลสอบของ\x20','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','quiz-editor-modal','questionType','confirm-create-project-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','requestFullscreen','instructions','ดอกเบี้ยทบต้น','.ai-content\x20p','<span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','originalTopic','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','string','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','.delete-bp-project-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','questionIndex','preTScore','options','_opt0\x22\x20name=\x22question','ฮิสโตแกรม','เส้นตรง:\x20ขนาน/ตั้งฉาก','next-sync-question-btn','afterend','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','project-search-input','\x20\x20\x20-\x20','882564Akncci','comparison','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','price','$$$1$','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ทศนิยม\x20(ค่าประจำหลัก)','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','\x20ใหม่...','\x20คนที่ส่ง\x20ตอบถูก\x20(','numQuestions','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','helvetica','Error\x20updating\x20old\x20quizzes:','กรุณาเลือกโปรเจคก่อน','border-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cloneNode','กำลังสร้างแบบทดสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','กรุณาตั้งชื่อแท็บใหม่:','คนดีศรีสยาม','Error\x20saving\x20to\x20question\x20bank:','bp-modal-quiz-type-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','หมาป่าเดียวดาย','เพื่อนสนิท','pre-test','.topic-row','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','\x22\x20x','fa-fire\x20text-orange-500','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','กรุณาป้อนหัวข้อสำหรับใบงาน','แปลงร่าง','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','globalAlpha','firstScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','latestScore','bulk-confidence-mode-select','results-table','จุด\x20เส้น\x20ระนาบ','answeredCurrentQuestion','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','badges','พื้นที่ใต้กราฟ/ระหว่างกราฟ','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','.group','พบ\x20Team\x20Quiz!','lesson-plan-title','.answers','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','Error\x20joining\x20sync\x20game:','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','timer-bar','project-id-display','fill_in_with_choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cancel-parallel-shortcut-edit-btn','parseInline','answer','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','quiz-form','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','.project-card-container','</div><div\x20class=\x22space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','ไม่พบเกมที่กำลังเข้าร่วม','scratchpad-clear-btn','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.generate-post-test-btn','ระยะทางและจุดกึ่งกลาง','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<span\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีตัวช่วย</span>','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน\x20(ถูกได้\x20+2x,\x20ผิดเสีย\x20-1x)','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','presentation-explanation','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม\x20และ\x20Points\x20สูงสุด!\x22>👑</span>','inactive','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','quizMode','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','ondragend','translate(','shuffleSetting','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','text-indigo-800','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','ยังไม่สร้าง','Transactionล้มเหลว:\x20','stepByStepExamples','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20get\x20hint:','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','highlighter-size-value','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','กราฟฟังก์ชันตรีโกณ','ondragstart','<p><strong>คำตอบของคุณ:</strong>\x20','00:00','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','admin-password-input','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','values','<li>','scheduled','สมการค่าสัมบูรณ์','เกิดข้อผิดพลาดในการใช้ไอเทม\x20(PData)','isPasscodeEnabled','.start-game-btn','autoTable','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','export-word-btn','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','quiz-end-time','.timeBonusThisQuestion','กราฟแท่ง\x20กราฟเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','.ideal-answer-input,\x20.correct-response-input','ไก่ฟ้าพญาลอ','<div\x20class=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','เพิ่มปุ่มลัดใหม่','อัปเดตพฤติกรรมสำหรับ\x20','sync-submit-btn','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','createElementNS','ความชันและเส้นตรง','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','เพิ่มรายการที่เลือก','black-market-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','.duplicate-quiz-btn','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','student-result-area','bg-amber-100\x20text-amber-800','.delete-shortcut-tab-btn','.verification-result','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','project-quizzes-list','timer-container','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','element','dimmed','lesson-view-title','minHeight','parallel-shortcut-url-input','\x22\x20data-q-type=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','short','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ref','update','ช่างภาพ','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','Error\x20fetching\x20student\x20rankings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','entries','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','quiz-results-table-body','close-game-final-btn','Error\x20loading\x20quiz\x20for\x20student:','ยูทูปเบอร์ฝึกหัด','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','AI\x20ไม่สามารถประมวลผลข้อมูลได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','startTime','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','แก้ไขหัวข้อสำเร็จ','Failed\x20to\x20apply\x20forceConfident:','Error\x20saving\x20parallel\x20shortcut\x20config:','ผู้ไม่ยอมแพ้','shortcut_','<p\x20class=\x22text-xl\x22>','.ai-content\x20blockquote','comparison-overall-tab','bg-black/20','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','#ffffff','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','</th>','classic','decode','createObjectURL','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','finishReason','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.live-summary-tooltip.visible','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','sqrt','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','suggestedAnswer','div[data-question-index=\x22','text-yellow-800','back-to-project-btn','quiz-start-time','(^|[^\x5c\x5c])\x5cb','scores','สลับไปโหมดนักเรียน','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','lower_group_count','imageCode','md:col-span-1','กำลังสร้างรูปภาพ...','student-team-join','Error\x20saving\x20shortcut\x20config:','confirmation-modal','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','team-student-list','หัวข้อที่สร้างเอง','round','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','บันทึกการตั้งค่าการแสดงผลสำเร็จ','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','splice','):\x20เสีย\x201P','บทเรียนเรื่อง:\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','ส่วนเบี่ยงเบนมาตรฐาน','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','geq','display','.edit-parallel-shortcut-btn','บันทึกการตั้งค่าสำเร็จ','memoryContent','isRemedial','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','ตัวเลือก\x20ค','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','gain','duration-300','bp-modal-difficulty-level-select','คัดลอกแบบทดสอบสำเร็จ','กลุ่ม:\x20','create-from-bank-btn','project-passcode-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20mb-2\x22>','copy-quiz-id-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-name-select','.generate-content-btn','.remove-shortcut-from-tab-btn','on_fire','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','สุดยอด!\x20ตอบถูกทุกข้อ','กำลังเตรียมไฟล์อ้างอิง...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','Error\x20joining\x20activity:','เกิดข้อผิดพลาดในการอัปเดต:\x20','text-green-600\x20font-bold','<p\x20class=\x22font-bold\x20text-sm\x20','pointContent','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','hasPerfectScoreBonus','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','bulk-quiz-settings-btn','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','เพิ่มหัวข้อ\x20\x22','ลาเต้ไม่หวาน','จากเนื้อหาต่อไปนี้:\x20\x22','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','Error\x20creating\x20project:','question-complexity-select','text/csv;charset=utf-8;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','text-red-800','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','เลือกโปรเจคเพื่อบันทึก','<tr><td\x20colspan=\x22','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x20link(s)\x20for\x20quiz\x20ID:\x20','จำนวนและการดำเนินการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','ไม่ระบุ','main-correct-answer-display','AIzaSyBpbTmQsKO5LzlNphSZW99NYg8H75ryg44','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','cancel-shortcut-edit-btn','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','/public/data/quizzes/','hidden','add-shortcut-btn','การสร้างรูปด้วยวงเวียน–สันตรง','<span\x20class=\x22font-bold\x20','<span\x20title=\x22','$1\x5c%','แผนการสอน:\x20','\x22\x20data-name=\x22','groups.','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','กรุณาเลือกโปรเจคที่ต้องการบันทึก','#FEE2E2','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','isStarred','Error\x20generating\x20worksheet:','subTopic','<div>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','ค่าคลาดเคลื่อนของการวัด','upper_group_count','sync-variant-selector','reset-project-order-btn','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','removeEventListener','<p\x20class=\x22','currentMode','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','💰\x20คูณเดิมพัน','scratchpad-modal','คุณแน่ใจว่าต้องการลบแท็บนี้?','contains','close-additional-file-shortcuts-btn','floor','ก่อนเรียน','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','length','#confidence-input-','.bp-live-btn','เปิดใช้งาน','กฎบวกและกฎคูณ','multiple_choice','.file-shortcut-btn','showAnswerInAnonymous','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','confirm-wager-btn','จำนวนข้อ:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','OBJECT','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','รูปสี่เหลี่ยมและสมบัติ','Sync\x20Mode','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','นักเดินทาง','substring','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','baseVal','.move-file-shortcut-dropdown','export-lesson-pdf-btn','keys','reviewQuestionIndex','parallel-shortcut-modal-title','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','drop','1518315UlpOcr','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','from','<option\x20value=\x22','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','ท้องฟ้า','.admin-try-quiz-list-btn','เริ่มกิจกรรม:\x20','answering','.isForcedConfident','visibilityState','มุมพิเศษ\x2030°-60°-90°','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','blueprint-tab','.edit-hidden-shortcut-btn','checkbox','/public/data/blueprintProjects','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','eraser','14HNeGUD','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','questions_only','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-shuffle-setting-select','ปวดหลัง','text-green-700\x20bg-green-100','tGain','global-activity-modal','เกิดข้อผิดพลาดในการใช้ไอเทม','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','.topic-name-input','leaderboard-tab-content','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','lesson-sections-container','กำลังสร้างเนื้อหา:\x20','questions','.move-file-shortcut-item','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','strokeStyle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contents','.isJinxed','bg-white','btn','nextElementSibling','\x22>ไม่ใช่</p>','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','เงินงวด\x20(อนุกรมเงินงวด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','comparison-modal','ฐานนิยม','แบบทดสอบฝึกฝนเรื่อง:\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fullscreenchange','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','passingScore','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','comparison-individual-content','/public/data/customMathTopics','shouldSaveResults','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.game-start-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','sin','Error\x20saving\x20lesson\x20to\x20project:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ผ่าน','<div\x20class=\x22space-y-4\x22>','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','quiz-leaderboard-table','\x20to\x20','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-blue-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🛡️\x20ประกันภัยทำงานอยู่!</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','dashboardConfig','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20ข้อ...','Error\x20fetching\x20project\x20quizzes:','เส้นรอบรูป','กำลังสร้างบทเรียน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','anonymous','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','.subTopic','add','additional-file-shortcuts-list','incorrect','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การยืนยันตัวตนล้มเหลว','bottom','separate-by-content-checkbox','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','totalQuestions','อินฟลูเอนเซอร์','(นำโด่ง)','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','grid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mr-2\x22></i>','กำลังอ่านและเตรียมไฟล์...','print','สายตาสั้น','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','overallGroups','insertBefore','name_desc','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','point','Error\x20saving\x20parallel\x20shortcut:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','leaderboard-tab','ชีสเค้ก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confidence_single','warn','.question-editor-item:last-of-type','fileShortcutOrder','slice','bg-yellow-200','ฟังก์ชันพหุนาม','lesson-view-modal','live-submit-short-answer-btn','function','\x20จุดเรียบร้อยแล้ว','eraser-tools-group','rgba(239,\x2068,\x2068,\x200.9)','สร้างคำถามแบบใช่/ไม่ใช่','ฟังก์ชันยกกำลัง','input[type=\x22radio\x22][value=\x22','sara','lesson-view-content','.space-y-1.pl-4','.status','gameData','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','คณิตศาสตร์','leaderboard-quiz-tab-content','binom','คะแนนเฉลี่ย','pointercancel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','.pen-color-btn','.delete-file-shortcut-tab-btn','topicId','replace','พลังคลื่นเต่า','.bp-create-onet-quiz-btn','status','summaryContent','\x20วินาทีสำหรับข้อนี้','⏳\x20ซื้อเวลา','correctAnswer','แอบชอบ','isBlackMarketEnabled'];_0x31c9=function(){return _0x2fd830;};return _0x31c9();}function handleFullscreenChange(){const _0x5b0ebc=_0x45c2ac;if(currentMode===_0x5b0ebc(0x898)||!isQuizActive)return;!document[_0x5b0ebc(0x49a)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x391b87,_0x137ff5=null,_0x2e4c73=null){const _0x1594f4=_0x45c2ac,_0x3db04f=document[_0x1594f4(0x286)](_0x1594f4(0xb5));let _0x43d56c=_0x1594f4(0x69c)+_0x391b87[_0x1594f4(0x26f)]+_0x1594f4(0x6d3);_0x391b87['questions'][_0x1594f4(0x94d)]((_0x26df6a,_0x337c0e)=>{const _0xb736fc=_0x1594f4;!_0x26df6a['id']&&(_0x26df6a['id']='q_'+Date['now']()+'_'+_0x337c0e);const _0x52d5c2=_0x26df6a['questionType']||_0x391b87[_0xb736fc(0x480)];_0x43d56c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x337c0e+_0xb736fc(0x358)+_0x337c0e+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x337c0e+_0xb736fc(0x709);switch(_0x52d5c2){case _0xb736fc(0x2d6):_0x43d56c+=_0xb736fc(0x9e7)+_0x337c0e+'\x22>'+(_0x337c0e+0x1)+'.\x20'+_0x26df6a[_0xb736fc(0xcfa)]+_0xb736fc(0x761);_0x26df6a[_0xb736fc(0xb04)]&&(_0x43d56c+=_0xb736fc(0x646)+_0x337c0e+_0xb736fc(0x65e)+_0x26df6a['imageCode']+_0xb736fc(0x6c2));_0x43d56c+=_0xb736fc(0xd23)+_0x337c0e+'\x22>'+_0x26df6a['correctResponse']+_0xb736fc(0x292),_0x43d56c+=_0xb736fc(0x3d2)+_0x337c0e+'\x22>'+_0x26df6a[_0xb736fc(0x7ec)]+_0xb736fc(0x292);break;case _0xb736fc(0x27d):_0x43d56c+=_0xb736fc(0x9e7)+_0x337c0e+'\x22>'+(_0x337c0e+0x1)+'.\x20'+_0x26df6a['questionText']+_0xb736fc(0x761);_0x26df6a['imageCode']&&(_0x43d56c+=_0xb736fc(0x646)+_0x337c0e+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x26df6a[_0xb736fc(0xb04)]+_0xb736fc(0x6c2));_0x43d56c+=_0xb736fc(0x1db)+_0x337c0e+'\x22>'+_0x26df6a[_0xb736fc(0x555)]+'</span></div>',_0x43d56c+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x337c0e+'\x22>'+_0x26df6a[_0xb736fc(0x7ec)]+_0xb736fc(0x292);break;case _0xb736fc(0xcbb):_0x43d56c+=_0xb736fc(0x9e7)+_0x337c0e+'\x22>'+(_0x337c0e+0x1)+'.\x20'+_0x26df6a[_0xb736fc(0x3a5)]+_0xb736fc(0x761);_0x26df6a[_0xb736fc(0xb04)]&&(_0x43d56c+=_0xb736fc(0x646)+_0x337c0e+_0xb736fc(0x65e)+_0x26df6a[_0xb736fc(0xb04)]+_0xb736fc(0x6c2));_0x43d56c+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x26df6a['correctAnswer']===!![]?'text-green-600\x20font-bold':'')+_0xb736fc(0xb35)+(_0x26df6a['correctAnswer']===![]?_0xb736fc(0xb3b):'')+_0xb736fc(0x806),_0x43d56c+=_0xb736fc(0x3d2)+_0x337c0e+'\x22>'+_0x26df6a['explanation']+_0xb736fc(0x292);break;case _0xb736fc(0x347):case _0xb736fc(0xb86):default:_0x43d56c+=_0xb736fc(0x9e7)+_0x337c0e+'\x22>'+(_0x337c0e+0x1)+'.\x20'+_0x26df6a['questionText']+_0xb736fc(0x761);_0x26df6a[_0xb736fc(0xb04)]&&(_0x43d56c+=_0xb736fc(0x646)+_0x337c0e+_0xb736fc(0x65e)+_0x26df6a['imageCode']+_0xb736fc(0x6c2));_0x43d56c+=_0xb736fc(0x252)+_0x337c0e+_0xb736fc(0xa7f)+(_0x26df6a[_0xb736fc(0xa07)]||[])['map']((_0x47173a,_0x3b20fc)=>_0xb736fc(0x6b2)+(_0x3b20fc===_0x26df6a['correctAnswerIndex']?_0xb736fc(0xb3b):'')+'\x22>'+_0x47173a+_0xb736fc(0x75a))['join']('')+_0xb736fc(0xd26),_0x43d56c+=_0xb736fc(0x3d2)+_0x337c0e+'\x22>'+_0x26df6a['explanation']+_0xb736fc(0x292);break;}_0x43d56c+=_0xb736fc(0x6c2);}),_0x43d56c+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>',_0x3db04f[_0x1594f4(0x6ef)]=_0x43d56c,document[_0x1594f4(0x640)](_0x1594f4(0x4c7))[_0x1594f4(0x94d)](_0x3805d4=>_0x3805d4[_0x1594f4(0x504)](_0x1594f4(0x936),handleEditQuestion)),document[_0x1594f4(0x640)](_0x1594f4(0xcd7))[_0x1594f4(0x94d)](_0x38d858=>_0x38d858['addEventListener']('click',handleRegenerateQuestion)),document['getElementById'](_0x1594f4(0x7b1))['addEventListener'](_0x1594f4(0x936),exportQuizAsWorksheetPDF),document['getElementById']('verify-answers-btn')[_0x1594f4(0x504)](_0x1594f4(0x936),handleVerifyAnswers);const _0x473d92=document[_0x1594f4(0x286)](_0x1594f4(0x89a));if(_0x473d92){const _0x4e2d0d=_0x137ff5||currentProjectId;_0x473d92[_0x1594f4(0x504)](_0x1594f4(0x936),()=>saveQuiz(_0x4e2d0d,_0x2e4c73));}if(window[_0x1594f4(0x36f)])window[_0x1594f4(0x36f)][_0x1594f4(0x8c4)]([_0x3db04f]);}function handleRegenerateQuestion(_0x176b02){const _0x4b6f92=_0x45c2ac,_0x7db361=_0x176b02[_0x4b6f92(0x617)][_0x4b6f92(0x24b)][_0x4b6f92(0x815)],_0x382525=currentQuizData[_0x4b6f92(0x26f)];showMessage(_0x4b6f92(0x2e0)+(parseInt(_0x7db361)+0x1)+_0x4b6f92(0xa18)),generateQuiz(_0x382525,null,parseInt(_0x7db361));}function getPointerPosition(_0x2b5611,_0xdcc81d){const _0x3278c6=_0x45c2ac,_0x3c6c5f=_0x2b5611[_0x3278c6(0x8c7)]();let _0x2de175,_0x521421;return _0xdcc81d[_0x3278c6(0x2f4)]&&_0xdcc81d[_0x3278c6(0x2f4)][_0x3278c6(0xb81)]>0x0?(_0x2de175=_0xdcc81d[_0x3278c6(0x2f4)][0x0]['clientX'],_0x521421=_0xdcc81d[_0x3278c6(0x2f4)][0x0][_0x3278c6(0x251)]):(_0x2de175=_0xdcc81d[_0x3278c6(0x848)],_0x521421=_0xdcc81d['clientY']),{'x':(_0x2de175-_0x3c6c5f['e'])/_0x3c6c5f['a'],'y':(_0x521421-_0x3c6c5f['f'])/_0x3c6c5f['d']};}function startDrag(_0x412b7f){const _0x124fc9=_0x45c2ac;_0x412b7f[_0x124fc9(0x15e)]===_0x124fc9(0x79f)&&_0x412b7f[_0x124fc9(0x5be)]();const _0x2abb6d=_0x412b7f['target'][_0x124fc9(0x5d0)](_0x124fc9(0x112));if(_0x2abb6d){draggedSvgElement=_0x2abb6d;const _0x1f7632=draggedSvgElement[_0x124fc9(0x14f)],_0x2ef8ba=getPointerPosition(_0x1f7632,_0x412b7f);svgOffset['x']=_0x2ef8ba['x']-parseFloat(draggedSvgElement[_0x124fc9(0xcf)](null,'x')),svgOffset['y']=_0x2ef8ba['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x47b80d,_0x5f2ba8){const _0x594331=_0x45c2ac,_0x593256={};if(_0x5f2ba8[_0x594331(0xb81)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x4ef3bd=[..._0x5f2ba8][_0x594331(0x276)]((_0x36aa15,_0x3cec25)=>{const _0x29ae0f=_0x594331,_0x5c4493=_0x3cec25[_0x29ae0f(0xa39)]-_0x36aa15[_0x29ae0f(0xa39)];if(_0x5c4493!==0x0)return _0x5c4493;const _0x54ca5e=_0x36aa15[_0x29ae0f(0xcc4)]?.[_0x29ae0f(0xb81)]||0x1,_0x36260b=_0x3cec25[_0x29ae0f(0xcc4)]?.[_0x29ae0f(0xb81)]||0x1,_0x1c8b14=_0x54ca5e-_0x36260b;if(_0x1c8b14!==0x0)return _0x1c8b14;const _0x1009a4=new Date(_0x36aa15[_0x29ae0f(0x368)]),_0x3e6d02=new Date(_0x3cec25[_0x29ae0f(0x368)]),_0x16b46a=_0x1009a4-_0x3e6d02;if(_0x16b46a!==0x0)return _0x16b46a;return _0x36aa15[_0x29ae0f(0x9b7)][_0x29ae0f(0xc52)](_0x3cec25[_0x29ae0f(0x9b7)],'th');}),_0x283494=_0x4ef3bd[_0x594331(0xb81)],_0x1a48c6=Math[_0x594331(0x75c)](0x1,Math[_0x594331(0xb7e)](_0x283494*0.33));if(_0x1a48c6===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x2121b9=_0x4ef3bd[_0x594331(0xc20)](0x0,_0x1a48c6),_0x1b194f=_0x4ef3bd[_0x594331(0xc20)](-_0x1a48c6),_0x474719=_0x2121b9[_0x594331(0x764)](_0x260fb5=>_0x260fb5[_0x594331(0x9b7)]),_0x556405=_0x1b194f[_0x594331(0x764)](_0x498519=>_0x498519[_0x594331(0x9b7)]);return _0x47b80d[_0x594331(0xbc3)]['forEach']((_0x2ff2e3,_0x27b77c)=>{const _0x3249a2=_0x594331,_0x24f1ef=_0x2ff2e3[_0x3249a2(0xcfa)]||_0x2ff2e3[_0x3249a2(0x3a5)];let _0x238dd7=0x0,_0x4e330d=0x0,_0x19d2e8=0x0;const _0x88613f=[],_0x3f0560=[];_0x2121b9[_0x3249a2(0x94d)](_0x236626=>{const _0x98ad00=_0x3249a2,_0x2b38d4=_0x236626[_0x98ad00(0xcc4)][_0x236626['attempts']['length']-0x1],_0x193528=_0x2b38d4[_0x98ad00(0x8a5)]['find'](_0x2a21c=>_0x2a21c[_0x98ad00(0x120)]===_0x24f1ef);_0x88613f[_0x98ad00(0xcec)]({'name':_0x236626['studentName'],'isCorrect':_0x193528?_0x193528[_0x98ad00(0x995)]:![]}),_0x193528&&_0x193528[_0x98ad00(0x995)]&&_0x4e330d++;}),_0x1b194f['forEach'](_0x3fb421=>{const _0x3af602=_0x3249a2,_0x4173c4=_0x3fb421['attempts'][_0x3fb421[_0x3af602(0xcc4)]['length']-0x1],_0x54d19a=_0x4173c4['answers'][_0x3af602(0x7c7)](_0x210155=>_0x210155['originalQuestionText']===_0x24f1ef);_0x3f0560['push']({'name':_0x3fb421[_0x3af602(0x9b7)],'isCorrect':_0x54d19a?_0x54d19a['isCorrect']:![]}),_0x54d19a&&_0x54d19a[_0x3af602(0x995)]&&_0x19d2e8++;}),_0x5f2ba8[_0x3249a2(0x94d)](_0x2f0aff=>{const _0x51a4f1=_0x3249a2,_0x36969a=_0x2f0aff[_0x51a4f1(0xcc4)][_0x2f0aff[_0x51a4f1(0xcc4)][_0x51a4f1(0xb81)]-0x1],_0x3c9595=_0x36969a[_0x51a4f1(0x8a5)][_0x51a4f1(0x7c7)](_0x211de4=>_0x211de4[_0x51a4f1(0x120)]===_0x24f1ef);_0x3c9595&&_0x3c9595[_0x51a4f1(0x995)]&&_0x238dd7++;});const _0x18994a=_0x283494>0x0?_0x238dd7/_0x283494:0x0,_0x3e40ce=_0x1a48c6>0x0?_0x4e330d/_0x1a48c6-_0x19d2e8/_0x1a48c6:0x0;_0x593256[_0x27b77c]={'p':_0x18994a,'r':_0x3e40ce,'upperGroupResponders':_0x88613f,'lowerGroupResponders':_0x3f0560};}),{'perQuestionStats':_0x593256,'overallGroups':{'upperGroupNames':_0x474719,'lowerGroupNames':_0x556405}};}function drag(_0x50eff6){const _0x19ad80=_0x45c2ac;if(draggedSvgElement){_0x50eff6[_0x19ad80(0x5be)]();const _0x3261d3=draggedSvgElement['ownerSVGElement'],_0x1c88ee=getPointerPosition(_0x3261d3,_0x50eff6),_0x39bbc8=_0x3261d3[_0x19ad80(0xc62)][_0x19ad80(0xb96)];let _0x516c1f=_0x1c88ee['x']-svgOffset['x'],_0x418372=_0x1c88ee['y']-svgOffset['y'];const _0x17cba4=draggedSvgElement['getBBox']();_0x516c1f=Math[_0x19ad80(0x75c)](_0x39bbc8['x'],Math[_0x19ad80(0x74b)](_0x516c1f,_0x39bbc8['x']+_0x39bbc8[_0x19ad80(0x710)]-_0x17cba4[_0x19ad80(0x710)])),_0x418372=Math['max'](_0x39bbc8['y'],Math[_0x19ad80(0x74b)](_0x418372,_0x39bbc8['y']+_0x39bbc8['height']-_0x17cba4[_0x19ad80(0x80)])),draggedSvgElement['setAttributeNS'](null,'x',_0x516c1f),draggedSvgElement['setAttributeNS'](null,'y',_0x418372);}}function endDrag(_0x156bf7){draggedSvgElement=null;}function handleSvgEditClick(_0x3cd7db){const _0x576b02=_0x45c2ac;if(_0x3cd7db[_0x576b02(0x797)][_0x576b02(0x707)][_0x576b02(0xb7c)]('delete-svg-btn')){const _0x572ad0=_0x3cd7db['target'][_0x576b02(0x24b)][_0x576b02(0x4aa)],_0x5023a6=_0x3cd7db[_0x576b02(0x617)],_0x2697b5=_0x5023a6[_0x576b02(0x443)]('#'+_0x572ad0);_0x2697b5&&_0x2697b5[_0x576b02(0x6d1)](),_0x3cd7db[_0x576b02(0x797)]['remove']();}}function handleEditQuestion(_0x1da476){const _0x2f5ccd=_0x45c2ac,_0x4a8fb2=_0x1da476[_0x2f5ccd(0x617)],_0x59e8d2=_0x4a8fb2[_0x2f5ccd(0x24b)][_0x2f5ccd(0x815)],_0x4e3c99=currentQuizData[_0x2f5ccd(0xbc3)][_0x59e8d2],_0x33d91=document[_0x2f5ccd(0x286)](_0x2f5ccd(0x5a2)+_0x59e8d2),_0x422844=document['getElementById'](_0x2f5ccd(0x610)+_0x59e8d2),_0x4bec5f=document[_0x2f5ccd(0x286)]('q-image-container-'+_0x59e8d2);if(_0x4a8fb2[_0x2f5ccd(0x6ef)][_0x2f5ccd(0x613)](_0x2f5ccd(0xc91))){_0x4a8fb2[_0x2f5ccd(0x6ef)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x4a8fb2[_0x2f5ccd(0x66e)]=_0x2f5ccd(0x52d);if(_0x33d91)_0x33d91[_0x2f5ccd(0x6f1)]=!![];if(_0x422844)_0x422844[_0x2f5ccd(0x6f1)]=!![];if(_0x4bec5f){const _0x2cb1c4=_0x4bec5f[_0x2f5ccd(0x443)](_0x2f5ccd(0x392));if(_0x2cb1c4){const _0x2a8502=_0x2cb1c4['querySelectorAll'](_0x2f5ccd(0x135));_0x2a8502[_0x2f5ccd(0x94d)]((_0x2fac8a,_0x56975b)=>{const _0x5245ac=_0x2f5ccd,_0x530179=_0x5245ac(0x57b)+_0x59e8d2+'-'+_0x56975b;_0x2fac8a['id']=_0x530179,_0x2fac8a[_0x5245ac(0x707)][_0x5245ac(0xbfd)]('draggable-text'),_0x2fac8a['style'][_0x5245ac(0x38a)]=_0x5245ac(0x638);const _0x2cc77d=document[_0x5245ac(0xaa7)](_0x5245ac(0x633),_0x5245ac(0x140)),_0x184169=_0x2fac8a[_0x5245ac(0xc45)]();_0x2cc77d[_0x5245ac(0x9b4)]('cx',String(_0x184169['x']+_0x184169['width']+0x5)),_0x2cc77d[_0x5245ac(0x9b4)]('cy',String(_0x184169['y']+_0x184169[_0x5245ac(0x80)]/0x2-0x5)),_0x2cc77d[_0x5245ac(0x9b4)]('r','5'),_0x2cc77d[_0x5245ac(0x9b4)](_0x5245ac(0x6ed),_0x5245ac(0x689)),_0x2cc77d[_0x5245ac(0x9b4)](_0x5245ac(0x51f),_0x5245ac(0x80f)),_0x2cc77d['dataset']['targetId']=_0x530179,_0x2fac8a['after'](_0x2cc77d);}),_0x2cb1c4[_0x2f5ccd(0x504)]('mousedown',startDrag),_0x2cb1c4[_0x2f5ccd(0x504)](_0x2f5ccd(0x524),drag),_0x2cb1c4[_0x2f5ccd(0x504)]('mouseup',endDrag),_0x2cb1c4[_0x2f5ccd(0x504)](_0x2f5ccd(0x3a9),endDrag),_0x2cb1c4['addEventListener'](_0x2f5ccd(0x79f),startDrag,{'passive':![]}),_0x2cb1c4[_0x2f5ccd(0x504)]('touchmove',drag,{'passive':![]}),_0x2cb1c4['addEventListener'](_0x2f5ccd(0xd0),endDrag),_0x2cb1c4[_0x2f5ccd(0x504)](_0x2f5ccd(0x370),endDrag),_0x2cb1c4[_0x2f5ccd(0x504)]('click',handleSvgEditClick);}}if(_0x33d91)_0x33d91[_0x2f5ccd(0xfb)]();}else{_0x4a8fb2[_0x2f5ccd(0x6ef)]=_0x2f5ccd(0x600),_0x4a8fb2[_0x2f5ccd(0x66e)]='แก้ไขข้อนี้';if(_0x33d91){_0x33d91[_0x2f5ccd(0x6f1)]=![];const _0x4198f6=_0x4e3c99['questionType']||currentQuizData[_0x2f5ccd(0x480)];_0x4198f6===_0x2f5ccd(0x2d6)?_0x4e3c99[_0x2f5ccd(0xcfa)]=_0x33d91['innerText']['substring'](_0x33d91[_0x2f5ccd(0x654)][_0x2f5ccd(0x6a6)]('.')+0x2)[_0x2f5ccd(0x543)]():_0x4e3c99['questionText']=_0x33d91['innerText']['substring'](_0x33d91[_0x2f5ccd(0x654)][_0x2f5ccd(0x6a6)]('.')+0x2)[_0x2f5ccd(0x543)]();}_0x422844&&(_0x422844[_0x2f5ccd(0x6f1)]=![],_0x4e3c99['explanation']=_0x422844['innerText']);if(_0x4bec5f){const _0x57c54b=_0x4bec5f[_0x2f5ccd(0x443)]('svg');if(_0x57c54b){const _0x3dee5a=_0x57c54b['cloneNode'](!![]);_0x3dee5a['querySelectorAll']('.delete-svg-btn')[_0x2f5ccd(0x94d)](_0x3f7e85=>_0x3f7e85['remove']()),_0x3dee5a[_0x2f5ccd(0x640)](_0x2f5ccd(0x112))[_0x2f5ccd(0x94d)](_0x3ff93a=>{const _0x5f2435=_0x2f5ccd;_0x3ff93a[_0x5f2435(0x707)][_0x5f2435(0x6d1)]('draggable-text'),_0x3ff93a[_0x5f2435(0x760)][_0x5f2435(0x38a)]=_0x5f2435(0x4f3),_0x3ff93a['removeAttribute']('id');}),_0x4e3c99[_0x2f5ccd(0xb04)]=_0x3dee5a[_0x2f5ccd(0x4d3)],_0x57c54b[_0x2f5ccd(0xb74)](_0x2f5ccd(0x8c5),startDrag),_0x57c54b[_0x2f5ccd(0xb74)](_0x2f5ccd(0x524),drag),_0x57c54b[_0x2f5ccd(0xb74)](_0x2f5ccd(0xd14),endDrag),_0x57c54b[_0x2f5ccd(0xb74)](_0x2f5ccd(0x3a9),endDrag),_0x57c54b[_0x2f5ccd(0xb74)](_0x2f5ccd(0x79f),startDrag),_0x57c54b[_0x2f5ccd(0xb74)](_0x2f5ccd(0x76f),drag),_0x57c54b[_0x2f5ccd(0xb74)](_0x2f5ccd(0xd0),endDrag),_0x57c54b['removeEventListener'](_0x2f5ccd(0x370),endDrag),_0x57c54b[_0x2f5ccd(0xb74)](_0x2f5ccd(0x936),handleSvgEditClick),_0x57c54b['querySelectorAll']('.delete-svg-btn')[_0x2f5ccd(0x94d)](_0x58d991=>_0x58d991[_0x2f5ccd(0x6d1)]()),_0x57c54b[_0x2f5ccd(0x640)](_0x2f5ccd(0x112))[_0x2f5ccd(0x94d)](_0x4cc932=>{const _0x5f03c6=_0x2f5ccd;_0x4cc932['classList']['remove']('draggable-text'),_0x4cc932[_0x5f03c6(0x760)][_0x5f03c6(0x38a)]=_0x5f03c6(0x4f3);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x28a25c){const _0x87ad06=_0x45c2ac,_0x33ba35=document['getElementById'](_0x87ad06(0x9f4)),_0x2e335f=document[_0x87ad06(0x286)]('quiz-editor-questions-container');_0x2e335f[_0x87ad06(0x6ef)]=_0x87ad06(0x453),_0x33ba35[_0x87ad06(0x707)][_0x87ad06(0x6d1)](_0x87ad06(0xb5c));try{const _0xbbfb9b=doc(db,_0x87ad06(0x47d)+appId+_0x87ad06(0x5d7),_0x28a25c),_0x10e8f4=await getDoc(_0xbbfb9b);if(!_0x10e8f4[_0x87ad06(0x6cc)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x28a25c,..._0x10e8f4['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x344282){console['error'](_0x87ad06(0x54b),_0x344282),showMessage(_0x87ad06(0x3dd)),_0x33ba35[_0x87ad06(0x707)]['add'](_0x87ad06(0xb5c));}}function renderQuizEditor(_0x58c0e8){const _0x3b35c0=_0x45c2ac;document[_0x3b35c0(0x286)]('editor-quiz-topic')[_0x3b35c0(0x227)]=_0x58c0e8[_0x3b35c0(0x26f)];const _0x3cd756=document[_0x3b35c0(0x286)](_0x3b35c0(0x138));let _0x11dff5=_0x58c0e8[_0x3b35c0(0xbc3)]['map']((_0x14dd99,_0xff0ede)=>{const _0x4dca5c=_0x3b35c0;let _0x5d8370='';const _0x1e6324=_0x14dd99[_0x4dca5c(0x9f5)]||_0x58c0e8[_0x4dca5c(0x480)];switch(_0x1e6324){case'multiple_choice':const _0xe6753b=(_0x14dd99[_0x4dca5c(0xa07)]||[])['map']((_0x2030f7,_0x11f34c)=>_0x4dca5c(0xc37)+_0xff0ede+_0x4dca5c(0x585)+_0x11f34c+'\x22\x20'+(_0x11f34c===_0x14dd99[_0x4dca5c(0xc51)]?_0x4dca5c(0x50a):'')+_0x4dca5c(0x2d1)+_0x2030f7+_0x4dca5c(0x6a5))[_0x4dca5c(0x6da)]('');_0x5d8370=_0x4dca5c(0x79c)+_0xe6753b+_0x4dca5c(0xd3);break;case _0x4dca5c(0x27d):_0x5d8370='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x14dd99[_0x4dca5c(0x555)]||'')+_0x4dca5c(0x557);break;case'true_false':_0x5d8370=_0x4dca5c(0x527)+_0xff0ede+'\x22\x20value=\x22true\x22\x20'+(_0x14dd99['correctAnswer']===!![]?'checked':'')+_0x4dca5c(0x136)+_0xff0ede+_0x4dca5c(0x359)+(_0x14dd99[_0x4dca5c(0xc42)]===![]?_0x4dca5c(0x50a):'')+_0x4dca5c(0x173);break;case'matching_item':_0x5d8370=_0x4dca5c(0x318)+(_0x14dd99[_0x4dca5c(0x7a5)]||'')+_0x4dca5c(0x7a7);break;}let _0x2c3ecd=_0x14dd99[_0x4dca5c(0x3a5)]||_0x14dd99[_0x4dca5c(0xcfa)]||'';return _0x2c3ecd=_0x2c3ecd[_0x4dca5c(0xc3b)](/<br\s*\/?>/gi,'\x0a'),_0x4dca5c(0x139)+_0xff0ede+_0x4dca5c(0xac2)+_0x1e6324+_0x4dca5c(0x973)+(_0xff0ede+0x1)+'\x20('+_0x1e6324+'):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>'+_0x2c3ecd+'</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x5d8370+_0x4dca5c(0x964);})[_0x3b35c0(0x6da)]('');_0x3cd756['innerHTML']=_0x11dff5;const _0x526fc0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x3cd756[_0x3b35c0(0xd37)](_0x3b35c0(0x47f),_0x526fc0),_0x3cd756[_0x3b35c0(0x640)](_0x3b35c0(0x6e3))[_0x3b35c0(0x94d)](_0x4c14f7=>{const _0x15f1e2=_0x3b35c0;_0x4c14f7[_0x15f1e2(0x760)][_0x15f1e2(0x8dd)]=_0x15f1e2(0xb5c),_0x4c14f7[_0x15f1e2(0x760)][_0x15f1e2(0xac0)]=_0x15f1e2(0x847),_0x4c14f7['rows']=0x4;const _0x1d5667=()=>{const _0x6ff2a7=_0x15f1e2;_0x4c14f7[_0x6ff2a7(0x760)]['height']='auto',_0x4c14f7[_0x6ff2a7(0x760)][_0x6ff2a7(0x80)]=_0x4c14f7['scrollHeight']+'px';};_0x4c14f7[_0x15f1e2(0x504)]('input',_0x1d5667),_0x1d5667();}),_0x3cd756['querySelectorAll'](_0x3b35c0(0x714))[_0x3b35c0(0x94d)](_0x5f0cf6=>{const _0x2c61c9=_0x3b35c0;_0x5f0cf6[_0x2c61c9(0x504)]('click',handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x397486){const _0x1062f1=_0x45c2ac;if(!currentEditingQuizData||!currentEditingQuizData[_0x1062f1(0xbc3)][_0x397486])return;const _0x15c84f=currentEditingQuizData[_0x1062f1(0xbc3)][_0x397486]['questionText']||currentEditingQuizData[_0x1062f1(0xbc3)][_0x397486][_0x1062f1(0xcfa)];showConfirmation(_0x1062f1(0xb6e)+(_0x397486+0x1)+_0x1062f1(0x1c4)+_0x15c84f[_0x1062f1(0xb94)](0x0,0x14)+_0x1062f1(0x34d),()=>{const _0x210ddc=_0x1062f1;currentEditingQuizData[_0x210ddc(0xbc3)][_0x210ddc(0xb11)](_0x397486,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x210ddc(0x342));});}function handleAddQuestionInEditor(){const _0x286e03=_0x45c2ac;if(!currentEditingQuizData)return;const _0x9884b3={'id':'q_'+Date['now']()+'_new','questionType':'multiple_choice','questionText':_0x286e03(0x333),'options':[_0x286e03(0x91a),_0x286e03(0x48d),_0x286e03(0xb20),'ตัวเลือก\x20ง'],'correctAnswerIndex':0x0,'explanation':_0x286e03(0x844)};currentEditingQuizData['questions'][_0x286e03(0xcec)](_0x9884b3),renderQuizEditor(currentEditingQuizData);const _0x1ef249=document[_0x286e03(0x443)](_0x286e03(0xc1e));_0x1ef249&&(_0x1ef249[_0x286e03(0xbb)]({'behavior':_0x286e03(0xcb7),'block':_0x286e03(0x9e5)}),_0x1ef249[_0x286e03(0x443)]('textarea')[_0x286e03(0xfb)]());}async function handleAiFixQuestion(_0x204f7f){const _0x1cec42=_0x45c2ac,_0x47e603=_0x204f7f[_0x1cec42(0x617)],_0x247f90=_0x47e603[_0x1cec42(0x5d0)](_0x1cec42(0x993));if(!_0x247f90)return;const _0x278057=parseInt(_0x247f90[_0x1cec42(0x24b)][_0x1cec42(0xc6b)],0xa);if(isNaN(_0x278057)||!currentEditingQuizData[_0x1cec42(0xbc3)][_0x278057]){showMessage(_0x1cec42(0x2dc));return;}const _0x4d324=currentEditingQuizData[_0x1cec42(0xbc3)][_0x278057];_0x47e603[_0x1cec42(0x6ef)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x47e603['disabled']=!![];const _0x1c8657=_0x1cec42(0x5e2)+JSON[_0x1cec42(0x2d7)](_0x4d324)+_0x1cec42(0xaf7);let _0x5f064d;const _0xe67e30=_0x4d324[_0x1cec42(0x9f5)]||currentEditingQuizData[_0x1cec42(0x480)];switch(_0xe67e30){case _0x1cec42(0x27d):_0x5f064d={'type':_0x1cec42(0xb8e),'properties':{'questionText':{'type':_0x1cec42(0x32a)},'idealAnswer':{'type':_0x1cec42(0x32a)},'explanation':{'type':_0x1cec42(0x32a)},'imageCode':{'type':_0x1cec42(0x32a)}},'required':[_0x1cec42(0x3a5),_0x1cec42(0x555),_0x1cec42(0x7ec)]};break;case _0x1cec42(0xb86):default:_0x5f064d={'type':'OBJECT','properties':{'questionText':{'type':_0x1cec42(0x32a)},'options':{'type':_0x1cec42(0xce2),'items':{'type':_0x1cec42(0x32a)}},'correctAnswerIndex':{'type':_0x1cec42(0x611)},'explanation':{'type':_0x1cec42(0x32a)},'imageCode':{'type':_0x1cec42(0x32a)}},'required':['questionText',_0x1cec42(0xa07),_0x1cec42(0xc51),_0x1cec42(0x7ec)]};break;}try{let _0x3446a3=await callAnalysisApi(_0x1c8657,_0x5f064d);_0x3446a3[_0x1cec42(0xa07)]&&Array[_0x1cec42(0x7b0)](_0x3446a3[_0x1cec42(0xa07)])&&(_0x3446a3['options']=_0x3446a3[_0x1cec42(0xa07)][_0x1cec42(0x764)](_0x1b150f=>typeof _0x1b150f==='string'?_0x1b150f[_0x1cec42(0xc3b)](/S(\s*[\d_]+?\s*)S/g,_0x1cec42(0xa14)):_0x1b150f)),_0x4d324[_0x1cec42(0xb04)]&&_0x4d324[_0x1cec42(0xb04)]['includes']('fix\x20the\x20option')&&(_0x3446a3['imageCode']=''),currentEditingQuizData['questions'][_0x278057]={..._0x4d324,..._0x3446a3},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x38dc17){console[_0x1cec42(0x4da)](_0x1cec42(0x26a),_0x38dc17),showMessage(_0x1cec42(0x3af)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0xe66013=_0x45c2ac,_0x11d780=document[_0xe66013(0x286)]('save-quiz-edits-btn');_0x11d780[_0xe66013(0x790)]=!![],_0x11d780[_0xe66013(0x6ef)]=_0xe66013(0x445);try{const _0x37de22=document[_0xe66013(0x286)](_0xe66013(0x9e1))['value'],_0x15512c=document['querySelectorAll'](_0xe66013(0x993));let _0x32c2ba=[];const _0x1a4a43=Array['from'](_0x15512c)[_0xe66013(0x764)]((_0x1a5e22,_0x385dc1)=>{const _0x46fa07=_0xe66013,_0x1b14df=_0x1a5e22[_0x46fa07(0x24b)][_0x46fa07(0x7bf)],_0x2fa260=_0x1a5e22['querySelector'](_0x46fa07(0x590))[_0x46fa07(0x227)][_0x46fa07(0xc3b)](/\n/g,'<br>');let _0x3addfd={'questionType':_0x1b14df};const _0x47c15f=currentEditingQuizData['questions'][_0x385dc1];switch(_0x1b14df){case'multiple_choice':_0x3addfd[_0x46fa07(0x3a5)]=_0x2fa260;const _0x510c04=_0x1a5e22[_0x46fa07(0x640)](_0x46fa07(0x341));_0x3addfd['options']=Array['from'](_0x510c04)[_0x46fa07(0x764)](_0xe98d38=>_0xe98d38[_0x46fa07(0x227)]);const _0x23774e=_0x1a5e22[_0x46fa07(0x443)](_0x46fa07(0x336));_0x3addfd[_0x46fa07(0xc51)]=_0x23774e?parseInt(_0x23774e['value']):0x0;break;case _0x46fa07(0x27d):_0x3addfd[_0x46fa07(0x3a5)]=_0x2fa260,_0x3addfd[_0x46fa07(0x555)]=_0x1a5e22['querySelector']('.ideal-answer-input')[_0x46fa07(0x227)];break;case'true_false':_0x3addfd['questionText']=_0x2fa260;const _0x20b980=_0x1a5e22[_0x46fa07(0x443)](_0x46fa07(0x336));_0x3addfd[_0x46fa07(0xc42)]=_0x20b980?_0x20b980[_0x46fa07(0x227)]==='true':!![];break;case _0x46fa07(0x2d6):_0x3addfd['stem']=_0x2fa260;const _0x560f2c=_0x1a5e22[_0x46fa07(0x443)](_0x46fa07(0x8cf));_0x3addfd[_0x46fa07(0x7a5)]=_0x560f2c?_0x560f2c[_0x46fa07(0x227)]:'',_0x32c2ba['push'](_0x3addfd[_0x46fa07(0x7a5)]);break;default:_0x3addfd[_0x46fa07(0x3a5)]=_0x2fa260;break;}return{..._0x47c15f,..._0x3addfd};});_0x32c2ba[_0xe66013(0xb81)]>0x0&&_0x1a4a43[_0xe66013(0x94d)](_0x154fab=>{const _0x507ebb=_0xe66013;_0x154fab[_0x507ebb(0x9f5)]===_0x507ebb(0x2d6)&&(_0x154fab['allResponses']=_0x32c2ba);});const _0x42487e=currentEditingQuizData['id'],_0x449fd=doc(db,_0xe66013(0x47d)+appId+'/public/data/quizzes',_0x42487e);await updateDoc(_0x449fd,{'topic':_0x37de22,'questions':_0x1a4a43}),document[_0xe66013(0x286)]('quiz-editor-modal')[_0xe66013(0x707)][_0xe66013(0xbfd)](_0xe66013(0xb5c)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x42487e));}catch(_0xb3ecef){console[_0xe66013(0x4da)]('Error\x20saving\x20quiz\x20edits:',_0xb3ecef),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x11d780[_0xe66013(0x790)]=![],_0x11d780[_0xe66013(0x6ef)]=_0xe66013(0x800);}}async function initiateReGradeProcess(_0x46c66d){const _0x3d2a03=_0x45c2ac;showMessage(_0x3d2a03(0x281));try{const _0xbea314=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x46c66d),_0x248f51=await getDoc(_0xbea314);if(!_0x248f51[_0x3d2a03(0x6cc)]())throw new Error(_0x3d2a03(0x989));const _0x1b7466={'id':_0x46c66d,..._0x248f51[_0x3d2a03(0x10a)]()},_0x404a33=collection(db,_0x3d2a03(0x47d)+appId+_0x3d2a03(0x5d7),_0x46c66d,'submissions'),_0x5250aa=await getDocs(_0x404a33);if(_0x5250aa[_0x3d2a03(0x500)]){showMessage(_0x3d2a03(0xb7));return;}const _0x346fb9=_0x5250aa[_0x3d2a03(0x22c)][_0x3d2a03(0x764)](_0xe8bcfb=>reGradeSingleSubmission(_0xe8bcfb,_0x1b7466));await Promise[_0x3d2a03(0xf3)](_0x346fb9);if(_0x1b7466[_0x3d2a03(0x12d)]){const _0x34c8e5=doc(db,_0x3d2a03(0x47d)+appId+'/public/data/projects',_0x1b7466[_0x3d2a03(0x12d)]),_0x2c6e70=await getDoc(_0x34c8e5);if(_0x2c6e70[_0x3d2a03(0x6cc)]()&&_0x2c6e70[_0x3d2a03(0x10a)]()[_0x3d2a03(0xcaf)]){const _0x2aaa0f=_0x2c6e70['data']()[_0x3d2a03(0xcaf)][_0x3d2a03(0x764)](_0x47f687=>updateStudentProfile(_0x1b7466[_0x3d2a03(0x12d)],_0x47f687));await Promise[_0x3d2a03(0xf3)](_0x2aaa0f);}}showMessage(_0x3d2a03(0x9bc)+_0x5250aa[_0x3d2a03(0x742)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x5ce47b){console[_0x3d2a03(0x4da)](_0x3d2a03(0x7ae),_0x5ce47b),showMessage(_0x3d2a03(0xcdd)+_0x5ce47b[_0x3d2a03(0xc97)]);}}async function reGradeSingleSubmission(_0x415cd0,_0x1bae66){const _0x16cedc=_0x45c2ac,_0x1c0bff=_0x415cd0[_0x16cedc(0x10a)](),_0x1ae863=_0x1c0bff['studentName'],_0x990342=_0x1c0bff[_0x16cedc(0xcc4)]||[],_0x58b521=[];for(const _0x48c22e of _0x990342){let _0x31fdb3=0x0,_0x2d471b=[],_0x309d23=0x0;const _0x1f647a=[];for(const _0x260c50 of _0x48c22e['answers']){let _0x314817;_0x260c50['questionId']&&(_0x314817=_0x1bae66[_0x16cedc(0xbc3)][_0x16cedc(0x7c7)](_0x1d4855=>_0x1d4855['id']===_0x260c50[_0x16cedc(0x750)]));!_0x314817&&_0x260c50[_0x16cedc(0x120)]&&(_0x314817=_0x1bae66['questions'][_0x16cedc(0x7c7)](_0x49a61c=>(_0x49a61c[_0x16cedc(0xcfa)]||_0x49a61c['questionText'])===_0x260c50['originalQuestionText']));let _0x56b021=![];if(_0x314817){const _0x228df1=_0x314817[_0x16cedc(0x9f5)]||_0x1bae66['quizType'];switch(_0x228df1){case _0x16cedc(0xb86):if(_0x314817[_0x16cedc(0xa07)]&&_0x314817[_0x16cedc(0xc51)]<_0x314817[_0x16cedc(0xa07)]['length']){const _0x3f3fc8=_0x314817[_0x16cedc(0xa07)][_0x314817[_0x16cedc(0xc51)]];_0x56b021=_0x260c50[_0x16cedc(0x566)]===_0x3f3fc8;}break;case _0x16cedc(0xcbb):const _0x1df808=_0x260c50['answer']===!![]||_0x260c50['answer']===_0x16cedc(0x160);_0x56b021=_0x1df808===_0x314817[_0x16cedc(0xc42)];break;case _0x16cedc(0x2d6):_0x56b021=_0x260c50['answer']===_0x314817[_0x16cedc(0x7a5)];break;case'short_answer':_0x56b021=await gradeShortAnswer(_0x260c50[_0x16cedc(0xa53)],_0x314817);break;default:_0x56b021=_0x260c50[_0x16cedc(0x995)];break;}}if(_0x56b021){_0x31fdb3++,_0x309d23++;if(_0x309d23===0x3)_0x2d471b[_0x16cedc(0xcec)](BADGES[_0x16cedc(0x669)]['id']);}else _0x309d23=0x0;_0x1f647a[_0x16cedc(0xcec)]({..._0x260c50,'isCorrect':_0x56b021});}let _0x422251=_0x31fdb3*0xa;_0x31fdb3===_0x1bae66['questions'][_0x16cedc(0xb81)]&&(_0x422251+=0x32,_0x2d471b['push'](BADGES[_0x16cedc(0x262)]['id'])),_0x58b521['push']({..._0x48c22e,'score':_0x31fdb3,'points':_0x422251,'badges':Array[_0x16cedc(0xba1)](new Set(_0x2d471b)),'answers':_0x1f647a});}const _0x56a309=_0x58b521[_0x16cedc(0xb81)]>0x0?_0x58b521[0x0][_0x16cedc(0x248)]:0x0,_0xed9aac=Math[_0x16cedc(0x75c)](..._0x58b521['map'](_0x38b1d9=>_0x38b1d9['score'])),_0x1a73f7=_0x58b521[_0x16cedc(0xb81)]>0x0?_0x58b521[_0x58b521[_0x16cedc(0xb81)]-0x1]['score']:0x0,_0x41d1f=_0x58b521['length']>0x0?_0x58b521[_0x58b521[_0x16cedc(0xb81)]-0x1]['points']:0x0,_0x3e9cdf=doc(db,'artifacts/'+appId+_0x16cedc(0xb5b)+_0x1bae66['id']+'/submissions',_0x1ae863);await updateDoc(_0x3e9cdf,{'attempts':_0x58b521,'firstScore':_0x56a309,'bestScore':_0xed9aac,'latestScore':_0x1a73f7,'points':_0x41d1f});}function cleanupQuizOptions(_0x1d2a1e){const _0x3453b8=_0x45c2ac,_0xf17967=(_0x1b820f,_0x136ebe)=>_0x136ebe===0x0?_0x1b820f:_0xf17967(_0x136ebe,_0x1b820f%_0x136ebe),_0x408b6d=_0x237cd3=>{const _0x19b0c1=_0x1af4;if(typeof _0x237cd3!==_0x19b0c1(0xa00))return null;_0x237cd3=_0x237cd3[_0x19b0c1(0x543)]();const _0x245108=_0x237cd3[_0x19b0c1(0x2b4)](/[ /]/)[_0x19b0c1(0x624)](_0x2f8f8a=>_0x2f8f8a!=='');if(_0x245108[_0x19b0c1(0xb81)]===0x3)return parseInt(_0x245108[0x0])+parseInt(_0x245108[0x1])/parseInt(_0x245108[0x2]);else{if(_0x245108[_0x19b0c1(0xb81)]===0x2)return parseInt(_0x245108[0x0])/parseInt(_0x245108[0x1]);else{if(_0x245108[_0x19b0c1(0xb81)]===0x1&&!isNaN(_0x245108[0x0]))return parseFloat(_0x245108[0x0]);}}return null;},_0x3026e3=_0x2a8888=>{const _0x164f3d=_0x1af4;if(typeof _0x2a8888!==_0x164f3d(0xa00))return _0x2a8888;const _0x36c0b7=_0x2a8888[_0x164f3d(0xca4)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x36c0b7){const _0x1c3d71=parseInt(_0x36c0b7[0x1]);let _0x4fed8c=parseInt(_0x36c0b7[0x2]),_0x242df3=parseInt(_0x36c0b7[0x3]);const _0x5d0425=_0xf17967(_0x4fed8c,_0x242df3);_0x4fed8c/=_0x5d0425,_0x242df3/=_0x5d0425;if(_0x242df3===0x1)return(_0x1c3d71+_0x4fed8c)[_0x164f3d(0xe2)]();return _0x1c3d71+'\x20'+_0x4fed8c+'/'+_0x242df3;}return _0x2a8888;};return _0x1d2a1e&&_0x1d2a1e[_0x3453b8(0xbc3)]&&_0x1d2a1e[_0x3453b8(0xbc3)][_0x3453b8(0x94d)](_0x1a1de0=>{const _0x263915=_0x3453b8;if(_0x1a1de0[_0x263915(0x9f5)]===_0x263915(0xb86)&&_0x1a1de0['options']){const _0x26b059=new Map(),_0x3b7291=_0x1a1de0[_0x263915(0xa07)][_0x1a1de0[_0x263915(0xc51)]];_0x1a1de0[_0x263915(0xa07)][_0x263915(0x94d)](_0x1fa5b1=>{const _0x3ab7ac=_0x263915,_0x39316c=_0x3026e3(_0x1fa5b1),_0x1be521=_0x408b6d(_0x39316c);_0x1be521!==null&&!_0x26b059[_0x3ab7ac(0x90b)](_0x1be521)&&_0x26b059[_0x3ab7ac(0xb89)](_0x1be521,_0x39316c);}),_0x1a1de0[_0x263915(0xa07)]=Array[_0x263915(0xba1)](_0x26b059[_0x263915(0xa8e)]());const _0xcab7bc=_0x1a1de0[_0x263915(0xa07)][_0x263915(0x1e0)](_0x3a169d=>_0x3a169d===_0x3026e3(_0x3b7291));_0x1a1de0[_0x263915(0xc51)]=_0xcab7bc!==-0x1?_0xcab7bc:0x0;}}),_0x1d2a1e;}function showGameStartConfirmationModal(_0x4d2674,_0x498536,_0x44399b){const _0x9f6230=_0x45c2ac,_0x3b9f35=document[_0x9f6230(0x286)](_0x9f6230(0xc78));document[_0x9f6230(0x286)](_0x9f6230(0x190))[_0x9f6230(0x10e)]=_0x9f6230(0xba6)+_0x44399b,document[_0x9f6230(0x286)]('game-start-quiz-id')[_0x9f6230(0x227)]=_0x4d2674,document[_0x9f6230(0x286)](_0x9f6230(0x842))[_0x9f6230(0x227)]=_0x498536,document[_0x9f6230(0x286)]('save-game-results-checkbox')['checked']=!![];const _0xda1ca8=document[_0x9f6230(0x286)](_0x9f6230(0xb71)),_0x262391=document[_0x9f6230(0x286)](_0x9f6230(0x4b6)),_0x33c690=document[_0x9f6230(0x286)](_0x9f6230(0x1e5)),_0x458c5c=document[_0x9f6230(0x286)](_0x9f6230(0x376));_0x498536===_0x9f6230(0x55c)?(_0xda1ca8['classList'][_0x9f6230(0x6d1)]('hidden'),document[_0x9f6230(0x443)]('input[name=\x22syncVariant\x22][value=\x22classic\x22]')[_0x9f6230(0x50a)]=!![],_0x262391['checked']=!![],_0x33c690[_0x9f6230(0x707)]['remove'](_0x9f6230(0xb5c)),document[_0x9f6230(0x286)]('sync-timer-duration-input')[_0x9f6230(0x227)]=_0x9f6230(0x9dc),_0x458c5c[_0x9f6230(0x707)][_0x9f6230(0x6d1)](_0x9f6230(0xb5c)),document['getElementById']('enable-black-market-checkbox')['checked']=!![]):(_0xda1ca8['classList'][_0x9f6230(0xbfd)]('hidden'),_0x262391[_0x9f6230(0x50a)]=![],_0x33c690[_0x9f6230(0x707)][_0x9f6230(0xbfd)](_0x9f6230(0xb5c)),_0x458c5c[_0x9f6230(0x707)]['add'](_0x9f6230(0xb5c))),_0x3b9f35[_0x9f6230(0x707)][_0x9f6230(0x6d1)](_0x9f6230(0xb5c));}function _0x1af4(_0x2bee39,_0x561b66){const _0x31c992=_0x31c9();return _0x1af4=function(_0x1af427,_0xc7999d){_0x1af427=_0x1af427-0x67;let _0x319771=_0x31c992[_0x1af427];return _0x319771;},_0x1af4(_0x2bee39,_0x561b66);}async function saveGameResultsAsSubmissions(_0x183232){const _0x14a192=_0x45c2ac;console[_0x14a192(0x241)](_0x14a192(0x910),_0x183232);const _0x4c5dee=_0x183232[_0x14a192(0x476)];let _0x203684=[];if(_0x183232['players'])_0x203684=Object[_0x14a192(0xad3)](_0x183232[_0x14a192(0x92e)])[_0x14a192(0x764)](([_0x17df83,_0x5f03d5])=>({'name':_0x17df83,..._0x5f03d5}));else{if(_0x183232[_0x14a192(0x294)])Object['values'](_0x183232[_0x14a192(0x294)])['forEach'](_0xdc3834=>{const _0xaf2b12=_0x14a192;_0xdc3834['members'][_0xaf2b12(0x94d)](_0x3b1e3c=>{const _0x2c2179=_0xaf2b12;_0x203684[_0x2c2179(0xcec)]({'name':_0x3b1e3c,'score':_0xdc3834[_0x2c2179(0x248)],'answers':_0xdc3834[_0x2c2179(0x8a5)]});});});else _0x183232[_0x14a192(0x696)]&&Object[_0x14a192(0xad3)](_0x183232['responses'])[_0x14a192(0x94d)](([_0x34b7f7,_0x1b0828])=>{_0x203684['push']({'name':_0x34b7f7,..._0x1b0828});});}if(_0x203684[_0x14a192(0xb81)]===0x0){console['log'](_0x14a192(0x887));return;}const _0x18f34b=_0x183232[_0x14a192(0x8d0)]?.[_0x14a192(0xbc3)]['length']||currentQuizData[_0x14a192(0xbc3)][_0x14a192(0xb81)],_0x36c748=writeBatch(db);for(const _0x1c0132 of _0x203684){const _0xa65a32=doc(db,'artifacts/'+appId+_0x14a192(0xb5b)+_0x4c5dee+_0x14a192(0x9d4),_0x1c0132['name']),_0x2599e6=(_0x1c0132[_0x14a192(0x8a5)]||[])[_0x14a192(0x624)](_0x50640=>_0x50640[_0x14a192(0x995)])['length'];let _0x2e3684=_0x2599e6;_0x183232[_0x14a192(0x99)]&&_0x1c0132['answers']&&_0x1c0132[_0x14a192(0x8a5)]['forEach'](_0x284e51=>{const _0x1c124e=_0x14a192;if(_0x284e51['isCorrect']&&(_0x284e51[_0x1c124e(0x13e)]===!![]||_0x284e51[_0x1c124e(0x13e)]==='confident'))_0x2e3684+=0x1;else!_0x284e51['isCorrect']&&(_0x284e51[_0x1c124e(0x13e)]===!![]||_0x284e51[_0x1c124e(0x13e)]===_0x1c124e(0x90d))&&(_0x2e3684-=0x1);});_0x18f34b>0x0&&_0x2599e6===_0x18f34b&&(_0x2e3684+=0x1);const _0x3af3e3={'score':_0x2599e6,'points':_0x2e3684,'badges':_0x1c0132[_0x14a192(0xa41)]||[],'submittedAt':new Date()['toISOString'](),'answers':(_0x1c0132['answers']||[])['map'](_0xf97c18=>({'questionId':_0xf97c18[_0x14a192(0x750)],'answer':_0xf97c18['answer'],'answerText':_0xf97c18['answerText'],'isCorrect':_0xf97c18[_0x14a192(0x995)],'originalQuestionText':_0xf97c18[_0x14a192(0x120)],'wasConfident':_0xf97c18[_0x14a192(0x13e)]}))},_0x3bd91d=await getDoc(_0xa65a32),_0x7cde17=_0x3bd91d['exists']()?_0x3bd91d[_0x14a192(0x10a)]():{},_0x270b39=_0x7cde17[_0x14a192(0x12b)]||0x0,_0x1d422a=_0x7cde17[_0x14a192(0xcc4)]||[],_0x33a29c={'studentName':_0x1c0132[_0x14a192(0x224)],'totalQuestions':_0x18f34b,'attempts':arrayUnion(_0x3af3e3),'latestScore':_0x2599e6,'points':_0x2e3684,'latestSubmittedAt':_0x3af3e3[_0x14a192(0x16c)],'bestScore':Math[_0x14a192(0x75c)](_0x270b39,_0x2599e6),'firstScore':_0x1d422a['length']===0x0?_0x2599e6:_0x7cde17[_0x14a192(0xa36)]||0x0};_0x36c748[_0x14a192(0xb89)](_0xa65a32,_0x33a29c,{'merge':!![]});}try{await _0x36c748[_0x14a192(0x92b)](),showMessage('บันทึกผลการเล่นเกมของ\x20'+_0x203684[_0x14a192(0xb81)]+'\x20รายการ\x20สำเร็จ!');const _0xde3e36=_0x183232[_0x14a192(0x8d0)]?.[_0x14a192(0x12d)]||currentQuizData?.['projectId']||currentProjectId;if(_0xde3e36){const _0x264a2c=[...new Set(_0x203684['map'](_0x3bc852=>_0x3bc852[_0x14a192(0x224)]))];for(const _0x2022c9 of _0x264a2c){await updateStudentProfile(_0xde3e36,_0x2022c9);}}}catch(_0x1daccc){console[_0x14a192(0x4da)](_0x14a192(0x9c6),_0x1daccc),showMessage('เกิดข้อผิดพลาดในการบันทึกผลจากเกม');}}async function saveQuiz(_0x309769=null,_0x195c9c=null){const _0x4cbe1e=_0x45c2ac,_0x126c36=_0x309769||currentProjectId;if(!_0x126c36){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x4cbe1e(0x1c3));return;}const _0xea3bdb=document[_0x4cbe1e(0x286)](_0x4cbe1e(0x89a));_0xea3bdb[_0x4cbe1e(0x790)]=!![],_0xea3bdb['innerHTML']=_0x4cbe1e(0x445);const _0xec0b91=document[_0x4cbe1e(0x286)](_0x4cbe1e(0xc3))['checked'];let _0xe1d7e6=document[_0x4cbe1e(0x286)]('editable-quiz-topic')[_0x4cbe1e(0x654)][_0x4cbe1e(0x543)]();_0xec0b91&&!_0xe1d7e6[_0x4cbe1e(0x4ba)](_0x4cbe1e(0x8b9))&&(_0xe1d7e6=_0x4cbe1e(0x2c6)+_0xe1d7e6);try{const _0x34dd23={'resultsDisplay':document[_0x4cbe1e(0x286)](_0x4cbe1e(0x953))[_0x4cbe1e(0x227)],'shuffle':document[_0x4cbe1e(0x286)](_0x4cbe1e(0x722))['value'],'timerMode':document[_0x4cbe1e(0x286)](_0x4cbe1e(0x270))[_0x4cbe1e(0x227)],'timerDuration':parseInt(document[_0x4cbe1e(0x286)](_0x4cbe1e(0x61f))[_0x4cbe1e(0x227)])||0xa,'passingScore':parseInt(document[_0x4cbe1e(0x286)](_0x4cbe1e(0xb0))[_0x4cbe1e(0x227)])||0x0,'isAdaptive':document['getElementById'](_0x4cbe1e(0xb2))[_0x4cbe1e(0x50a)],'loopUntilPass':document[_0x4cbe1e(0x286)](_0x4cbe1e(0x43b))[_0x4cbe1e(0x50a)]},_0x27ece3=(currentQuizData[_0x4cbe1e(0xbc3)]||[])[_0x4cbe1e(0x764)]((_0x20f0cb,_0x2258b3)=>{const _0x3daaa4=_0x4cbe1e,_0x148691=document[_0x3daaa4(0x286)](_0x3daaa4(0xd2b))[_0x3daaa4(0x227)],_0x13534a={'id':'q_'+Date[_0x3daaa4(0x17c)]()+'_'+_0x2258b3,'questionText':_0x20f0cb[_0x3daaa4(0x3a5)]||'','explanation':_0x20f0cb[_0x3daaa4(0x7ec)]||_0x3daaa4(0x188),'questionType':_0x20f0cb[_0x3daaa4(0x9f5)]||_0x148691,'imageCode':_0x20f0cb['imageCode']||null};return(_0x13534a[_0x3daaa4(0x9f5)]==='multiple_choice'||_0x13534a[_0x3daaa4(0x9f5)]==='fill_in_with_choices'||_0x13534a[_0x3daaa4(0x9f5)]===_0x3daaa4(0x11b)&&_0x20f0cb[_0x3daaa4(0xa07)])&&(_0x13534a['options']=_0x20f0cb[_0x3daaa4(0xa07)]||[],_0x13534a[_0x3daaa4(0xc51)]=_0x20f0cb[_0x3daaa4(0xc51)]!==undefined?_0x20f0cb['correctAnswerIndex']:0x0),(_0x13534a[_0x3daaa4(0x9f5)]===_0x3daaa4(0x27d)||_0x13534a[_0x3daaa4(0x9f5)]===_0x3daaa4(0x12e)||_0x13534a['questionType']===_0x3daaa4(0x11b)&&_0x20f0cb[_0x3daaa4(0x555)])&&(_0x13534a['idealAnswer']=_0x20f0cb[_0x3daaa4(0x555)]||''),_0x13534a[_0x3daaa4(0x9f5)]===_0x3daaa4(0xcbb)&&(_0x13534a[_0x3daaa4(0xc42)]=_0x20f0cb[_0x3daaa4(0xc42)]===!![]),_0x13534a[_0x3daaa4(0x9f5)]===_0x3daaa4(0x2d6)&&(_0x13534a['stem']=_0x20f0cb[_0x3daaa4(0xcfa)]||'',_0x13534a['correctResponse']=_0x20f0cb[_0x3daaa4(0x7a5)]||'',_0x13534a[_0x3daaa4(0xeb)]=_0x20f0cb['allResponses']||[]),_0x13534a;}),_0x444539={'topic':_0xe1d7e6,'quizType':currentQuizData[_0x4cbe1e(0x480)]||_0x4cbe1e(0xb86),'questions':_0x27ece3,'projectId':_0x126c36,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x4cbe1e(0x925),'settings':_0x34dd23,'quizMode':_0xec0b91?_0x4cbe1e(0xa2b):_0x4cbe1e(0x44a),'pairedQuizId':null,'lessonPlan':null};let _0x3eadc8;while(!![]){_0x3eadc8=Math['floor'](0x3e8+Math[_0x4cbe1e(0x3c0)]()*0x2328)[_0x4cbe1e(0xe2)]();const _0x165c85=await getDoc(doc(db,_0x4cbe1e(0x47d)+appId+_0x4cbe1e(0x5d7),_0x3eadc8));if(!_0x165c85[_0x4cbe1e(0x6cc)]())break;}await setDoc(doc(db,_0x4cbe1e(0x47d)+appId+'/public/data/quizzes',_0x3eadc8),_0x444539);if(_0x195c9c&&currentBlueprintProjectId){console[_0x4cbe1e(0x241)](_0x4cbe1e(0xf9)+_0x3eadc8+'\x20to\x20blueprint\x20topic\x20'+_0x195c9c);try{const _0x4c160e=doc(db,_0x4cbe1e(0x47d)+appId+_0x4cbe1e(0xbaf),currentBlueprintProjectId);await updateDoc(_0x4c160e,{[_0x4cbe1e(0x451)+_0x195c9c+_0x4cbe1e(0x493)]:arrayUnion(_0x3eadc8)});}catch(_0x2be12e){console[_0x4cbe1e(0x4da)](_0x4cbe1e(0x5d2),_0x2be12e);}}currentQuizData[_0x4cbe1e(0x125)]=_0x34dd23,currentQuizData['id']=_0x3eadc8;const _0x49f91c=document[_0x4cbe1e(0x286)](_0x4cbe1e(0x1e6));_0x49f91c['innerHTML']=_0x4cbe1e(0x7d2)+_0x3eadc8+_0x4cbe1e(0xc56),document[_0x4cbe1e(0x286)](_0x4cbe1e(0xb2c))[_0x4cbe1e(0x504)](_0x4cbe1e(0x936),()=>copyTextToClipboard(_0x3eadc8,_0x4cbe1e(0x6d))),document[_0x4cbe1e(0x286)](_0x4cbe1e(0xcc6))[_0x4cbe1e(0x504)](_0x4cbe1e(0x936),()=>handleStartLiveRace(_0x3eadc8)),document[_0x4cbe1e(0x286)](_0x4cbe1e(0x754))['addEventListener']('click',()=>startPresentation(currentQuizData)),document['getElementById'](_0x4cbe1e(0x883))[_0x4cbe1e(0x504)](_0x4cbe1e(0x936),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x317f2a){console[_0x4cbe1e(0x4da)](_0x4cbe1e(0x329),_0x317f2a),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0xea3bdb[_0x4cbe1e(0x790)]=![],_0xea3bdb[_0x4cbe1e(0x6ef)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x59a4fb=_0x45c2ac,_0x1882cb=document[_0x59a4fb(0x286)](_0x59a4fb(0x397)),_0xacb2e2=document[_0x59a4fb(0x286)](_0x59a4fb(0x3eb)),_0x2aec16=_0x1882cb[_0x59a4fb(0x443)]('h3'),_0x4eb132=document[_0x59a4fb(0x286)](_0x59a4fb(0x8c2));_0x2aec16[_0x59a4fb(0x10e)]=_0x59a4fb(0xb4f),_0x4eb132[_0x59a4fb(0x10e)]=_0x59a4fb(0x5ca);allProjects['length']===0x0?(_0xacb2e2[_0x59a4fb(0x6ef)]=_0x59a4fb(0x3ca),_0x4eb132[_0x59a4fb(0x790)]=!![]):(_0xacb2e2[_0x59a4fb(0x6ef)]=allProjects[_0x59a4fb(0x764)](_0x522723=>_0x59a4fb(0xba2)+_0x522723['id']+'\x22>'+_0x522723[_0x59a4fb(0xc49)]+'</option>')[_0x59a4fb(0x6da)](''),_0x4eb132[_0x59a4fb(0x790)]=![]);_0x1882cb[_0x59a4fb(0x707)]['remove']('hidden');const _0x5ecb85=()=>{const _0x588ece=_0x59a4fb,_0x3deaaf=_0xacb2e2[_0x588ece(0x227)];_0x3deaaf?(currentProjectId=_0x3deaaf,_0x1882cb[_0x588ece(0x707)][_0x588ece(0xbfd)](_0x588ece(0xb5c)),saveQuiz(),_0x2aec16['textContent']=_0x588ece(0x851),_0x4eb132[_0x588ece(0x10e)]=_0x588ece(0x801),_0x4eb132['removeEventListener']('click',_0x5ecb85),_0x4eb132[_0x588ece(0x504)](_0x588ece(0x936),confirmMoveQuiz)):showMessage(_0x588ece(0xb66));};_0x4eb132[_0x59a4fb(0xb74)](_0x59a4fb(0x936),confirmMoveQuiz),_0x4eb132[_0x59a4fb(0x504)](_0x59a4fb(0x936),_0x5ecb85);}function copyTextToClipboard(_0xbbd01,_0x491513){const _0x251777=_0x45c2ac,_0x5728bf=document[_0x251777(0x3f2)](_0x251777(0x590));_0x5728bf[_0x251777(0x227)]=_0xbbd01,_0x5728bf[_0x251777(0x760)]['position']=_0x251777(0x66a),_0x5728bf['style'][_0x251777(0xcf2)]='0',document[_0x251777(0xb1)][_0x251777(0x395)](_0x5728bf),_0x5728bf[_0x251777(0xfb)](),_0x5728bf[_0x251777(0x72f)]();try{const _0x1edbd6=document['execCommand'](_0x251777(0xd3d));showMessage(_0x1edbd6?_0x491513:_0x251777(0x897));}catch(_0x2ae5b4){showMessage(_0x251777(0x897)),console[_0x251777(0x4da)](_0x251777(0x808),_0x2ae5b4);}document[_0x251777(0xb1)][_0x251777(0x1d8)](_0x5728bf);}function listenForProjectQuizzes(_0x2285ab){const _0x566e85=_0x45c2ac,_0x35cee0=collection(db,_0x566e85(0x47d)+appId+'/public/data/quizzes'),_0x28dc3d=query(_0x35cee0,where(_0x566e85(0x12d),'==',_0x2285ab));unsubscribeQuizzesListener=onSnapshot(_0x28dc3d,async _0x11672a=>{const _0x4cdf32=_0x566e85;allQuizzes=_0x11672a[_0x4cdf32(0x22c)][_0x4cdf32(0x764)](_0x5b5c76=>({'id':_0x5b5c76['id'],..._0x5b5c76[_0x4cdf32(0x10a)]()})),renderQuizzes();},_0x2a49e9=>{const _0x2ce921=_0x566e85;console[_0x2ce921(0x4da)](_0x2ce921(0xbf6),_0x2a49e9),document[_0x2ce921(0x286)](_0x2ce921(0xab7))[_0x2ce921(0x6ef)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x21c5ac=_0x45c2ac,_0x586f0d=document[_0x21c5ac(0x286)](_0x21c5ac(0xab7)),_0x28d84c=document[_0x21c5ac(0x286)](_0x21c5ac(0x906))['value'][_0x21c5ac(0x3f0)]();let _0x2a6822;currentProjectId==='starred'?_0x2a6822=starredQuizzes:_0x2a6822=allQuizzes;let _0x32437e=_0x2a6822[_0x21c5ac(0x624)](_0x24dba3=>_0x24dba3[_0x21c5ac(0x26f)][_0x21c5ac(0x3f0)]()['includes'](_0x28d84c));_0x32437e['sort']((_0x222080,_0x55cab2)=>new Date(_0x55cab2['createdAt'])-new Date(_0x222080[_0x21c5ac(0xd3c)]));if(_0x32437e[_0x21c5ac(0xb81)]===0x0){_0x586f0d[_0x21c5ac(0x6ef)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x552273={},_0x56519a=_0x32437e[_0x21c5ac(0x764)](async _0x3e81d0=>{const _0x4e341c=_0x21c5ac,_0x5f33cf=collection(db,_0x4e341c(0x47d)+appId+_0x4e341c(0xb5b)+_0x3e81d0['id']+_0x4e341c(0x9d4)),_0x32aa32=await getDocs(_0x5f33cf);_0x552273[_0x3e81d0['id']]=_0x32aa32[_0x4e341c(0x742)];});await Promise[_0x21c5ac(0xf3)](_0x56519a);let _0x396ef5='';_0x32437e[_0x21c5ac(0x94d)](_0x2a9b9b=>{const _0x420eef=_0x21c5ac,_0xd28a6c=_0x552273[_0x2a9b9b['id']]||0x0,_0x1acb46=_0x2a9b9b[_0x420eef(0xc3e)]||_0x420eef(0x925),_0xee2624=_0x2a9b9b[_0x420eef(0x125)]?.[_0x420eef(0xcda)]||_0x420eef(0x5ba);let _0x338cb3='',_0x1641b1='';const _0x5a72d8=new Date();let _0x1b9d6f=_0x1acb46;if(_0x1acb46===_0x420eef(0xa90)){const _0x12436e=_0x2a9b9b[_0x420eef(0xadd)]?new Date(_0x2a9b9b[_0x420eef(0xadd)]):null,_0x5030b0=_0x2a9b9b[_0x420eef(0x9b9)]?new Date(_0x2a9b9b[_0x420eef(0x9b9)]):null;if(_0x5030b0&&_0x5a72d8>_0x5030b0)_0x1b9d6f=_0x420eef(0xa6f);else _0x12436e&&_0x5a72d8<_0x12436e?_0x1b9d6f='scheduled_pending':_0x1b9d6f='active';}switch(_0x1b9d6f){case _0x420eef(0xa6f):_0x338cb3='ปิดใช้งาน',_0x1641b1=_0x420eef(0x6a8);break;case _0x420eef(0x5a8):_0x338cb3=_0x420eef(0x941),_0x1641b1='text-blue-700\x20bg-blue-100';break;case _0x420eef(0x925):_0x338cb3=_0xee2624!=='none'?_0x420eef(0x7e4):_0x420eef(0xb84),_0x1641b1=_0x420eef(0xbb8);break;default:_0x338cb3=_0x420eef(0x407),_0x1641b1='text-green-700\x20bg-green-100';break;}let _0x292792='';const _0x24b491={'day':_0x420eef(0x831),'month':'2-digit','year':_0x420eef(0x7d8),'hour':_0x420eef(0x831),'minute':_0x420eef(0x831),'hour12':![]};if(_0x1acb46==='scheduled'){if(_0x2a9b9b[_0x420eef(0xadd)])_0x292792+=_0x420eef(0xb22)+new Date(_0x2a9b9b[_0x420eef(0xadd)])['toLocaleString'](_0x420eef(0xda),_0x24b491)+_0x420eef(0x761);if(_0x2a9b9b[_0x420eef(0x9b9)])_0x292792+=_0x420eef(0x232)+new Date(_0x2a9b9b[_0x420eef(0x9b9)])[_0x420eef(0x7a4)](_0x420eef(0xda),_0x24b491)+'</p>';}let _0x331806='';if(_0x2a9b9b[_0x420eef(0x7cd)]){const _0x4deb2e=allQuizzes[_0x420eef(0x7c7)](_0x55487c=>_0x55487c['id']===_0x2a9b9b[_0x420eef(0x7cd)]);if(_0x4deb2e){let _0xaa0856,_0x4abb6e;new Date(_0x2a9b9b[_0x420eef(0xd3c)])<new Date(_0x4deb2e[_0x420eef(0xd3c)])?(_0xaa0856=_0x2a9b9b['id'],_0x4abb6e=_0x4deb2e['id']):(_0xaa0856=_0x4deb2e['id'],_0x4abb6e=_0x2a9b9b['id']),_0x331806+=_0x420eef(0x349)+_0x4abb6e+'\x22\x20data-pre-test-id=\x22'+_0xaa0856+_0x420eef(0x7ea);}}else _0x2a9b9b['quizMode']===_0x420eef(0xa2b)&&(_0x331806+=_0x420eef(0x661)+_0x2a9b9b['id']+_0x420eef(0x8a));if(_0x2a9b9b['quizMode']===_0x420eef(0xa2b)&&_0xd28a6c>0x0)_0x331806+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2a9b9b['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x2a9b9b[_0x420eef(0x7cd)]&&_0x2a9b9b['quizMode']!==_0x420eef(0xa2b)&&_0xd28a6c>0x0&&(_0x331806+=_0x420eef(0x661)+_0x2a9b9b['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x3eec1a='';_0x2a9b9b[_0x420eef(0x7cd)]?_0x3eec1a=_0x420eef(0x70e)+_0x2a9b9b['id']+_0x420eef(0x10c):_0x3eec1a='<button\x20data-quiz-id=\x22'+_0x2a9b9b['id']+_0x420eef(0x902),_0x396ef5+=_0x420eef(0x68e)+_0x2a9b9b['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x2a9b9b[_0x420eef(0x26f)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x2a9b9b['questions'][_0x420eef(0xb81)]+_0x420eef(0x843)+new Date(_0x2a9b9b[_0x420eef(0xd3c)])['toLocaleString'](_0x420eef(0xda))+_0x420eef(0x8f4)+_0xd28a6c+_0x420eef(0x1e3)+_0x292792+_0x420eef(0x82b)+_0x1641b1+'\x22>'+_0x338cb3+_0x420eef(0xc05)+_0x2a9b9b['id']+_0x420eef(0x57a)+_0x2a9b9b['id']+_0x420eef(0x20a)+(_0x2a9b9b[_0x420eef(0xb69)]?'fas\x20fa-star\x20text-yellow-500':_0x420eef(0x6f6))+_0x420eef(0x87)+_0x331806+_0x420eef(0x8ca)+_0x2a9b9b['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x2a9b9b['id']+_0x420eef(0x32b)+_0x2a9b9b['id']+_0x420eef(0x14d)+_0x2a9b9b['id']+_0x420eef(0x9ef)+_0x2a9b9b['id']+_0x420eef(0x9c8)+_0x2a9b9b['id']+_0x420eef(0x363)+_0x2a9b9b['id']+'\x22\x20data-topic=\x22'+_0x2a9b9b[_0x420eef(0x26f)]+_0x420eef(0xfc)+_0x2a9b9b['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2a9b9b['id']+_0x420eef(0x3a0)+_0x3eec1a+_0x420eef(0x96c)+_0x2a9b9b['id']+_0x420eef(0xb0a)+_0x2a9b9b['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2a9b9b['id']+_0x420eef(0x2fe)+_0x2a9b9b['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2a9b9b['id']+_0x420eef(0x3b7)+_0x2a9b9b['id']+_0x420eef(0xa67)+_0x2a9b9b['id']+_0x420eef(0x7eb)+_0x2a9b9b['id']+_0x420eef(0xe6)+_0x2a9b9b[_0x420eef(0x26f)]+_0x420eef(0xc09)+_0x2a9b9b['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x586f0d['innerHTML']=_0x396ef5,document[_0x21c5ac(0x640)](_0x21c5ac(0x830))['forEach'](_0x3cd382=>{const _0x38ef5c=_0x21c5ac;_0x3cd382[_0x38ef5c(0x504)](_0x38ef5c(0x936),()=>{const _0x5ce849=_0x38ef5c,_0xac4d4e=_0x3cd382[_0x5ce849(0x24b)]['quizId'];showQuizDetailView(_0xac4d4e);});});}async function handleUnpairQuiz(_0x4eecf5){const _0x56ee74=_0x45c2ac,_0xde1530=allQuizzes[_0x56ee74(0x7c7)](_0x4bc271=>_0x4bc271['id']===_0x4eecf5);if(!_0xde1530||!_0xde1530[_0x56ee74(0x7cd)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x56ee74(0x147),async()=>{const _0x34de1a=_0x56ee74;try{const _0x3a6bb6=doc(db,_0x34de1a(0x47d)+appId+_0x34de1a(0x5d7),_0x4eecf5),_0x5addc6=doc(db,_0x34de1a(0x47d)+appId+_0x34de1a(0x5d7),_0xde1530['pairedQuizId']),_0x44e4c7=writeBatch(db);_0x44e4c7[_0x34de1a(0xacb)](_0x3a6bb6,{'pairedQuizId':null}),_0x44e4c7[_0x34de1a(0xacb)](_0x5addc6,{'pairedQuizId':null}),await _0x44e4c7['commit'](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x44e6d5){console['error'](_0x34de1a(0xca),_0x44e6d5),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x549db3,_0x61a1ea){const _0x19cd3d=_0x45c2ac,_0x1a0986=window['open']('',_0x19cd3d(0x919)),_0x49473c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x61a1ea['topic']+_0x19cd3d(0x40b)+_0x61a1ea[_0x19cd3d(0x26f)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x549db3[_0x19cd3d(0x17f)][_0x19cd3d(0x764)](_0x519121=>'<li>'+_0x519121+_0x19cd3d(0x75a))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x549db3['teachingContent']+_0x19cd3d(0x7f6)+_0x549db3[_0x19cd3d(0x8f1)][_0x19cd3d(0x764)](_0x1cbe90=>_0x19cd3d(0x421)+_0x1cbe90[_0x19cd3d(0x5d6)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x1cbe90[_0x19cd3d(0x544)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x19cd3d(0x6da)]('')+_0x19cd3d(0x2b7);_0x1a0986[_0x19cd3d(0x821)][_0x19cd3d(0x4ea)](_0x49473c),_0x1a0986['document']['close'](),_0x1a0986['onload']=function(){setTimeout(()=>{_0x1a0986['print']();},0x3e8);};}async function handleAiFixFormula(_0x3f1a36){const _0x198d98=_0x45c2ac,_0x3ab251=document['querySelector'](_0x198d98(0x573)+_0x3f1a36+'\x22]');if(!_0x3ab251)return;const _0x41cc9f=_0x3ab251[_0x198d98(0x24b)][_0x198d98(0x7bf)],_0x77e27e=_0x3ab251[_0x198d98(0x443)]('.ai-fix-formula-btn');let _0x21dfc8={'question':_0x3ab251[_0x198d98(0x443)](_0x198d98(0x590))[_0x198d98(0x227)]};switch(_0x41cc9f){case'multiple_choice':_0x21dfc8[_0x198d98(0xa07)]=Array[_0x198d98(0xba1)](_0x3ab251['querySelectorAll'](_0x198d98(0x341)))['map'](_0x3e64b2=>_0x3e64b2[_0x198d98(0x227)]);break;case'short_answer':_0x21dfc8[_0x198d98(0x555)]=_0x3ab251['querySelector'](_0x198d98(0x322))[_0x198d98(0x227)];break;case _0x198d98(0x2d6):_0x21dfc8['correctResponse']=_0x3ab251[_0x198d98(0x443)](_0x198d98(0x8cf))[_0x198d98(0x227)];break;}_0x77e27e[_0x198d98(0x6ef)]=_0x198d98(0x8ea),_0x77e27e[_0x198d98(0x790)]=!![];try{const _0x4b704b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON[_0x198d98(0x2d7)](_0x21dfc8)+_0x198d98(0x734),_0x1f5227={'type':'OBJECT','properties':{'fixedData':{'type':_0x198d98(0xb8e),'properties':{'question':{'type':_0x198d98(0x32a)},'options':{'type':_0x198d98(0xce2),'items':{'type':_0x198d98(0x32a)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':'STRING'}},'required':['question']}},'required':[_0x198d98(0x199)]},_0x3457c2=await callAnalysisApi(_0x4b704b,_0x1f5227);if(_0x3457c2&&_0x3457c2['fixedData']){const _0x719b70=_0x3457c2[_0x198d98(0x199)];_0x3ab251['querySelector'](_0x198d98(0x590))[_0x198d98(0x227)]=_0x719b70[_0x198d98(0x5d6)]||_0x21dfc8['question'];switch(_0x41cc9f){case'multiple_choice':_0x719b70[_0x198d98(0xa07)]&&_0x719b70['options'][_0x198d98(0xb81)]>0x0&&_0x3ab251[_0x198d98(0x640)]('input[type=\x22text\x22]')[_0x198d98(0x94d)]((_0x530dff,_0x4fdbb2)=>{const _0x54b406=_0x198d98;_0x530dff[_0x54b406(0x227)]=_0x719b70[_0x54b406(0xa07)][_0x4fdbb2]||_0x21dfc8['options'][_0x4fdbb2];});break;case'short_answer':_0x3ab251[_0x198d98(0x443)](_0x198d98(0x322))[_0x198d98(0x227)]=_0x719b70[_0x198d98(0x555)]||_0x21dfc8['idealAnswer'];break;case'matching_item':_0x3ab251[_0x198d98(0x443)]('.correct-response-input')[_0x198d98(0x227)]=_0x719b70[_0x198d98(0x7a5)]||_0x21dfc8[_0x198d98(0x7a5)];break;}if(_0x21dfc8[_0x198d98(0x5d6)]!==_0x719b70[_0x198d98(0x5d6)])try{const _0x22445b=collection(db,_0x198d98(0x47d)+appId+_0x198d98(0x41a));await addDoc(_0x22445b,{'broken':_0x21dfc8[_0x198d98(0x5d6)],'fixed':_0x719b70[_0x198d98(0x5d6)],'createdAt':serverTimestamp()});}catch(_0x1c28c3){console[_0x198d98(0x4da)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x1c28c3);}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x198d98(0xadb));}catch(_0x1b59a1){console[_0x198d98(0x4da)]('AI\x20Formula\x20Fix\x20Error:',_0x1b59a1),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x77e27e[_0x198d98(0x6ef)]=_0x198d98(0x8a1),_0x77e27e[_0x198d98(0x790)]=![];}}async function handleGenerateLessonPlan(_0x4673b6){const _0x2024d7=_0x45c2ac;showMessage(_0x2024d7(0x31f));try{const _0x53ec2a=doc(db,_0x2024d7(0x47d)+appId+_0x2024d7(0x5d7),_0x4673b6),_0x2a26e2=await getDoc(_0x53ec2a);if(!_0x2a26e2['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x3bcaa9={'id':_0x4673b6,..._0x2a26e2[_0x2024d7(0x10a)]()},_0x4452ef=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x4673b6,_0x2024d7(0x45d)),_0x606b82=await getDocs(_0x4452ef),_0x3f1229=_0x606b82[_0x2024d7(0x22c)][_0x2024d7(0x764)](_0x145618=>_0x145618['data']());if(_0x3f1229[_0x2024d7(0xb81)]===0x0)throw new Error(_0x2024d7(0x331));const _0x24443a=calculateItemAnalysis(_0x3bcaa9,_0x3f1229)[_0x2024d7(0x422)],_0x1ba9b6=calculateDistractorAnalysis(_0x3bcaa9,_0x3f1229),_0x5208c3=_0xb84784=>{const _0x81dc4a=_0x2024d7;if(!_0xb84784)return'';return _0xb84784['replace'](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x81dc4a(0xc3b)](/\n/g,'\x5cn');};let _0x277142='สรุปผลการวิเคราะห์:\x5cn';_0x3bcaa9[_0x2024d7(0xbc3)][_0x2024d7(0x94d)]((_0x289a89,_0x3d0191)=>{const _0x15f001=_0x2024d7,_0x4d32a1=_0x24443a[_0x3d0191]?.['p']['toFixed'](0x2)||_0x15f001(0x7a0),_0x301520=_0x24443a[_0x3d0191]?.['r'][_0x15f001(0x58a)](0x2)||_0x15f001(0x7a0),_0x5f1787=_0x5208c3(_0x289a89[_0x15f001(0x3a5)]||_0x289a89[_0x15f001(0xcfa)]);_0x277142+=_0x15f001(0x11c)+(_0x3d0191+0x1)+_0x15f001(0x9b2)+_0x4d32a1+_0x15f001(0x94)+_0x301520+_0x15f001(0x93)+_0x5f1787+'\x5cn';if(_0x289a89[_0x15f001(0x9f5)]==='multiple_choice'&&_0x1ba9b6[_0x3d0191]){const _0xbd6c6f=_0x1ba9b6[_0x3d0191],_0x8b3aaa=Object['keys'](_0xbd6c6f)[_0x15f001(0x624)](_0x15f596=>parseInt(_0x15f596)!==_0x289a89[_0x15f001(0xc51)])[_0x15f001(0x276)]((_0x467ebb,_0x20559e)=>_0xbd6c6f[_0x20559e][_0x15f001(0x2b5)]-_0xbd6c6f[_0x467ebb]['total'])[0x0];if(_0x8b3aaa&&_0xbd6c6f[_0x8b3aaa][_0x15f001(0x2b5)]>0x0){const _0x2bb32c=_0x5208c3(_0xbd6c6f[_0x8b3aaa][_0x15f001(0x135)]);_0x277142+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x2bb32c+_0x15f001(0x11a);}}});const _0x13b5f9=_0x2024d7(0x6a3)+_0x3bcaa9[_0x2024d7(0x26f)]+_0x2024d7(0x5fc)+_0x277142+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2b6901={'type':_0x2024d7(0xb8e),'properties':{'learningGaps':{'type':_0x2024d7(0xce2),'items':{'type':_0x2024d7(0x32a)}},'teachingContent':{'type':_0x2024d7(0x32a)},'practiceProblems':{'type':_0x2024d7(0xce2),'items':{'type':_0x2024d7(0xb8e),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x2024d7(0x32a)}}}}},'required':[_0x2024d7(0x17f),_0x2024d7(0x38c),_0x2024d7(0x8f1)]},_0x511537=await callAnalysisApi(_0x13b5f9,_0x2b6901);await updateDoc(_0x53ec2a,{'lessonPlan':_0x511537});const _0x566648=_0x2024d7(0x3a2)+_0x3bcaa9[_0x2024d7(0x26f)]+_0x2024d7(0x783)+_0x511537[_0x2024d7(0x17f)][_0x2024d7(0x764)](_0xba35dd=>_0x2024d7(0xa8f)+_0xba35dd+_0x2024d7(0x75a))[_0x2024d7(0x6da)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x511537['teachingContent']+_0x2024d7(0x9de)+_0x511537[_0x2024d7(0x8f1)][_0x2024d7(0x764)](_0x44000b=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x44000b['question']+_0x2024d7(0x972)+_0x44000b['solution']+'</p></div>')[_0x2024d7(0x6da)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x2024d7(0x286)](_0x2024d7(0xa46))['textContent']='แผนการสอน:\x20'+_0x3bcaa9[_0x2024d7(0x26f)],document[_0x2024d7(0x286)]('lesson-plan-content')[_0x2024d7(0x6ef)]=_0x566648,document['getElementById'](_0x2024d7(0x6bc))['classList'][_0x2024d7(0x6d1)](_0x2024d7(0xb5c));if(window[_0x2024d7(0x36f)])MathJax[_0x2024d7(0x8c4)]();messageModal[_0x2024d7(0x707)]['add'](_0x2024d7(0xb5c));}catch(_0xc8d9c5){console['error']('Error\x20generating\x20lesson\x20plan:',_0xc8d9c5),showMessage('เกิดข้อผิดพลาด:\x20'+_0xc8d9c5['message']);}}async function handleDuplicateQuiz(_0x1598d9){const _0x13945b=_0x45c2ac;try{const _0x31b34b=doc(db,_0x13945b(0x47d)+appId+'/public/data/quizzes',_0x1598d9),_0x482e2f=await getDoc(_0x31b34b);if(_0x482e2f[_0x13945b(0x6cc)]()){const _0x27d073=_0x482e2f[_0x13945b(0x10a)]();let _0x26b97f='',_0x180d9f=_0x13945b(0x44a),_0x48bf7e=null;if(_0x27d073[_0x13945b(0xa72)]===_0x13945b(0xa2b)){let _0x5d9785=_0x27d073['topic'][_0x13945b(0xc3b)](_0x13945b(0x8b9),'')[_0x13945b(0x543)]();_0x26b97f=_0x13945b(0xc83)+_0x5d9785,_0x180d9f='post-test',_0x48bf7e=_0x1598d9;}else _0x26b97f=_0x13945b(0x24e)+_0x27d073['topic'];const _0x5cba4c={..._0x27d073,'topic':_0x26b97f,'createdAt':new Date()[_0x13945b(0xc66)](),'quizMode':_0x180d9f,'pairedQuizId':_0x48bf7e};let _0x460239;while(!![]){_0x460239=Math[_0x13945b(0xb7e)](0x3e8+Math[_0x13945b(0x3c0)]()*0x2328)[_0x13945b(0xe2)]();const _0x2c63ce=await getDoc(doc(db,_0x13945b(0x47d)+appId+'/public/data/quizzes',_0x460239));if(!_0x2c63ce[_0x13945b(0x6cc)]())break;}const _0x252e37=doc(db,_0x13945b(0x47d)+appId+_0x13945b(0x5d7),_0x460239);await setDoc(_0x252e37,_0x5cba4c),_0x5cba4c['quizMode']===_0x13945b(0x334)&&await updateDoc(_0x31b34b,{'pairedQuizId':_0x460239}),showMessage(_0x13945b(0xb26));}else throw new Error(_0x13945b(0x473));}catch(_0x24461c){console[_0x13945b(0x4da)](_0x13945b(0x6b7),_0x24461c),showMessage(_0x13945b(0x5f2));}}async function handleDeleteQuiz(_0x53fd0d,_0x35534a=!![]){const _0x4aa704=_0x45c2ac;try{const _0x48ea52=writeBatch(db),_0x160591=collection(db,_0x4aa704(0x47d)+appId+_0x4aa704(0xb5b)+_0x53fd0d+'/submissions'),_0x8e144a=await getDocs(_0x160591);_0x8e144a['forEach'](_0x20c4fe=>{const _0x49bcde=_0x4aa704;_0x48ea52[_0x49bcde(0x943)](doc(_0x160591,_0x20c4fe['id']));});const _0x2b03de=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x53fd0d);_0x48ea52['delete'](_0x2b03de),await _0x48ea52[_0x4aa704(0x92b)]();try{console[_0x4aa704(0x241)](_0x4aa704(0x181)+_0x53fd0d+_0x4aa704(0x440));const _0x39da77=collection(db,_0x4aa704(0x47d)+appId+_0x4aa704(0xbaf)),_0x31ea52=await getDocs(_0x39da77),_0x199dc3=[];_0x31ea52[_0x4aa704(0x94d)](_0x5b3dce=>{const _0x193cf0=_0x4aa704,_0x1e459c=_0x5b3dce[_0x193cf0(0x10a)](),_0x58abe8=_0x1e459c[_0x193cf0(0x50c)]||{};let _0x54ad50=![];for(const _0x25662d in _0x58abe8){const _0x21b6f7=_0x58abe8[_0x25662d];if(_0x21b6f7[_0x193cf0(0x50f)]&&_0x21b6f7[_0x193cf0(0x50f)][_0x193cf0(0x613)](_0x53fd0d)){_0x54ad50=!![];const _0x38ffa6=doc(db,'artifacts/'+appId+_0x193cf0(0xbaf),_0x5b3dce['id']),_0x2f1e68=updateDoc(_0x38ffa6,{[_0x193cf0(0x451)+_0x25662d+_0x193cf0(0x493)]:arrayRemove(_0x53fd0d)});_0x199dc3[_0x193cf0(0xcec)](_0x2f1e68);}}}),_0x199dc3[_0x4aa704(0xb81)]>0x0&&(await Promise[_0x4aa704(0xf3)](_0x199dc3),console[_0x4aa704(0x241)]('Successfully\x20removed\x20'+_0x199dc3[_0x4aa704(0xb81)]+_0x4aa704(0xb52)+_0x53fd0d+'.'));}catch(_0xd0ac5){console[_0x4aa704(0x4da)](_0x4aa704(0xcc8),_0xd0ac5);}_0x35534a&&showMessage(_0x4aa704(0x307));}catch(_0x329a3f){console['error'](_0x4aa704(0x320),_0x329a3f),_0x35534a&&showMessage(_0x4aa704(0x679));}}async function showQuizDetailView(_0x44e357){const _0x1375fc=_0x45c2ac;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x2ed1b1=doc(db,_0x1375fc(0x47d)+appId+'/public/data/quizzes',_0x44e357),_0x232ebd=await getDoc(_0x2ed1b1);if(!_0x232ebd[_0x1375fc(0x6cc)]()){showMessage(_0x1375fc(0x989));return;}const _0x1fd925={'id':_0x232ebd['id'],..._0x232ebd[_0x1375fc(0x10a)]()};currentQuizData=_0x1fd925;const _0x3a4482=doc(db,'artifacts/'+appId+_0x1375fc(0x99f),_0x1fd925[_0x1375fc(0x12d)]),_0x5765fc=await getDoc(_0x3a4482);_0x5765fc[_0x1375fc(0x6cc)]()?(currentProjectData=_0x5765fc[_0x1375fc(0x10a)](),currentProjectId=_0x1fd925[_0x1375fc(0x12d)]):(currentProjectData={'students':[]},currentProjectId=_0x1fd925[_0x1375fc(0x12d)]);document[_0x1375fc(0x286)]('results-quiz-title')[_0x1375fc(0x10e)]=_0x1fd925['topic'],document[_0x1375fc(0x286)](_0x1375fc(0xcef))[_0x1375fc(0x10e)]=_0x44e357;const _0x25df62=collection(db,_0x1375fc(0x47d)+appId+'/public/data/quizzes',_0x44e357,_0x1375fc(0x45d));unsubscribeSubmissionsListener=onSnapshot(_0x25df62,_0x4e4242=>{const _0x24b5ad=_0x1375fc,_0x2c4267=_0x4e4242['docs'][_0x24b5ad(0x764)](_0x3e9f58=>({'id':_0x3e9f58['id'],..._0x3e9f58[_0x24b5ad(0x10a)]()}));currentSubmissions=_0x2c4267;const _0x12472d=_0x2c4267[_0x24b5ad(0x624)](_0x471056=>_0x471056['attempts']&&_0x471056[_0x24b5ad(0xcc4)][_0x24b5ad(0xb81)]>0x0);renderBehaviorLog(_0x2c4267),renderAnswerGrid(currentProjectData[_0x24b5ad(0xcaf)],_0x12472d,_0x1fd925),renderAnalytics(_0x1fd925,_0x12472d),renderQuizResultsTable(currentProjectData[_0x24b5ad(0xcaf)],_0x2c4267,_0x1fd925),renderQuizLeaderboard(_0x12472d,_0x1fd925,_0x24b5ad(0x4a1));}),showView('quiz-results');}catch(_0xa7aad){console['error']('Error\x20showing\x20quiz\x20detail\x20view:',_0xa7aad),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x410c37,_0x5f5471,_0x37ab06){const _0xe86e53=_0x45c2ac,_0x11c5a7=document[_0xe86e53(0x286)](_0xe86e53(0x20f));if(!_0x11c5a7)return;if(!_0x410c37||_0x410c37['length']===0x0){_0x11c5a7[_0xe86e53(0x6ef)]=_0xe86e53(0x133);return;}const _0x3e5488=_0x37ab06[_0xe86e53(0xbc3)],_0x5d5ffa=_0x5f5471['reduce']((_0x2c6507,_0x544576)=>{const _0x4ae53c=_0xe86e53;return _0x2c6507[_0x544576[_0x4ae53c(0x9b7)]]=_0x544576,_0x2c6507;},{}),_0x4449d5=_0x115be6=>String[_0xe86e53(0x55f)](0x41+_0x115be6),_0x534432=_0x3658ae=>{const _0x32b395=_0xe86e53,_0x2cc4f7=_0x3658ae[_0x32b395(0x9f5)]||_0x37ab06[_0x32b395(0x480)];switch(_0x2cc4f7){case _0x32b395(0xb86):return _0x3658ae['options']&&_0x3658ae[_0x32b395(0xa07)]['length']>_0x3658ae[_0x32b395(0xc51)]?_0x4449d5(_0x3658ae[_0x32b395(0xc51)]):'-';case'true_false':const _0x293fe7=_0x3658ae[_0x32b395(0xc42)]===!![]||String(_0x3658ae['correctAnswer'])['toLowerCase']()===_0x32b395(0x160);return _0x293fe7?_0x32b395(0x619):'ไม่ใช่';case _0x32b395(0x2d6):return _0x3658ae[_0x32b395(0x7a5)]||'-';case _0x32b395(0x27d):return _0x32b395(0x1c0);default:return'-';}},_0x2d2604=(_0x24b936,_0x583352)=>{const _0x3f058f=_0xe86e53;if(_0x583352[_0x3f058f(0xa53)]===null||_0x583352[_0x3f058f(0xa53)]===undefined)return'-';const _0x5f3bcf=_0x24b936[_0x3f058f(0x9f5)]||_0x37ab06[_0x3f058f(0x480)];switch(_0x5f3bcf){case _0x3f058f(0xb86):const _0x1e7771=_0x24b936[_0x3f058f(0xa07)][_0x3f058f(0x1e0)](_0x10927c=>_0x10927c===_0x583352['answerText']);return _0x1e7771!==-0x1?_0x4449d5(_0x1e7771):_0x583352[_0x3f058f(0x566)]||'-';case'true_false':if(_0x583352['answer']=='0'||_0x583352[_0x3f058f(0xa53)]===!![]||_0x583352[_0x3f058f(0xa53)]==='true')return _0x3f058f(0x619);return _0x3f058f(0x856);default:return _0x583352['answer'];}};let _0x5bb4de=_0xe86e53(0xa5b)+_0x3e5488[_0xe86e53(0x764)]((_0x433a60,_0x14770c)=>_0xe86e53(0xaae)+(_0x14770c+0x1)+_0xe86e53(0xaed))[_0xe86e53(0x6da)]('')+_0xe86e53(0xad1)+_0x3e5488[_0xe86e53(0x764)](_0x1064ba=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x534432(_0x1064ba)+_0xe86e53(0x312))[_0xe86e53(0x6da)]('')+_0xe86e53(0x7c3);_0x410c37[_0xe86e53(0x94d)](_0x44d6cf=>{const _0x2f7313=_0xe86e53;_0x5bb4de+=_0x2f7313(0x1e4),_0x5bb4de+=_0x2f7313(0x1da)+_0x44d6cf+_0x2f7313(0x312);const _0x5df0f4=_0x5d5ffa[_0x44d6cf];if(_0x5df0f4){const _0x31ece4=_0x5df0f4[_0x2f7313(0xcc4)][_0x5df0f4['attempts'][_0x2f7313(0xb81)]-0x1];_0x3e5488[_0x2f7313(0x94d)]((_0x31fd56,_0x1ab1df)=>{const _0x218712=_0x2f7313,_0xeb75a1=_0x31ece4[_0x218712(0x8a5)][_0x218712(0x7c7)](_0x945c56=>_0x945c56[_0x218712(0x750)]===_0x31fd56['id']);if(_0xeb75a1){let _0x2f19d2='';const _0x5c2475=_0xeb75a1['isCorrect']===!![],_0x4350e4=_0xeb75a1[_0x218712(0x13e)]===!![]||_0xeb75a1['wasConfident']===_0x218712(0x90d);_0x4350e4?_0x2f19d2=_0x5c2475?'bg-green-400\x20text-white\x20font-bold':'bg-red-500\x20text-white\x20font-bold':_0x2f19d2=_0x5c2475?'bg-green-100':'bg-red-100',_0x5bb4de+=_0x218712(0x79)+_0x2f19d2+'\x22>'+_0x2d2604(_0x31fd56,_0xeb75a1)+_0x218712(0x312);}else _0x5bb4de+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x5bb4de+=_0x3e5488[_0x2f7313(0x764)](()=>_0x2f7313(0x602))[_0x2f7313(0x6da)]('');_0x5bb4de+='</tr>';}),_0x5bb4de+='</tbody></table>',_0x11c5a7[_0xe86e53(0x6ef)]=_0x5bb4de;}function renderQuizResultsTable(_0x521091,_0x38b8fb,_0x2ad330){const _0x1b11e9=_0x45c2ac,_0x46ef14=_0x38b8fb['reduce']((_0x35296b,_0x5d8778)=>{const _0x7b34a3=_0x1af4;return _0x35296b[_0x5d8778[_0x7b34a3(0x9b7)]]=_0x5d8778,_0x35296b;},{}),_0x5cfbfa=document[_0x1b11e9(0x443)](_0x1b11e9(0xcdb));_0x5cfbfa&&!_0x5cfbfa['innerHTML'][_0x1b11e9(0x613)]('จัดการ')&&(_0x5cfbfa[_0x1b11e9(0x6ef)]+=_0x1b11e9(0xba0));const _0x410747=document['getElementById'](_0x1b11e9(0xad5));if(!_0x521091||_0x521091['length']===0x0){_0x410747[_0x1b11e9(0x6ef)]='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x408008=_0x2ad330[_0x1b11e9(0xb1d)]===!![],_0x50b0f4=_0x2ad330[_0x1b11e9(0x125)]?.[_0x1b11e9(0xbd7)]??-0x1;let _0x3a4d70='';_0x521091['forEach'](_0x23b6ce=>{const _0x287b41=_0x1b11e9,_0xc0fb1a=_0x46ef14[_0x23b6ce];let _0xc75b4c=_0x287b41(0x6d0)+(_0x408008?_0x287b41(0xab2):_0x287b41(0x427))+'\x22>'+(_0x408008?_0x287b41(0x9a4):'สอบปกติ')+'</span></td>';if(_0xc0fb1a){if(_0xc0fb1a[_0x287b41(0xcc4)]&&_0xc0fb1a[_0x287b41(0xcc4)][_0x287b41(0xb81)]>0x0){let _0x45c54d=_0x408008?_0xc0fb1a[_0x287b41(0x12b)]===_0xc0fb1a[_0x287b41(0xc06)]:_0x50b0f4!==-0x1&&_0xc0fb1a['bestScore']>=_0x50b0f4;const _0x254d58=_0x45c54d?_0x287b41(0x84e):'bg-red-100\x20text-red-800',_0x2bd48f=_0x45c54d?_0x287b41(0x753):_0x287b41(0xbe8),_0x139947=_0x287b41(0xb1f)+_0x254d58+'\x22>'+_0x2bd48f+_0x287b41(0x210),_0x5c1e84='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0xc0fb1a[_0x287b41(0xcc4)]?.[_0x287b41(0xb81)]||0x1)+'\x20ครั้ง)</span></td>';_0x3a4d70+=_0x287b41(0x221)+_0x23b6ce+_0x287b41(0x238)+_0xc0fb1a[_0x287b41(0x12b)]+_0x287b41(0x234)+_0xc0fb1a[_0x287b41(0xc06)]+_0x287b41(0x591)+_0x139947+_0x287b41(0xc7b)+_0xc75b4c+_0x287b41(0x3f8)+_0xc0fb1a[_0x287b41(0xa36)]+_0x287b41(0x234)+_0xc0fb1a['totalQuestions']+_0x287b41(0x94f)+_0xc0fb1a['latestScore']+_0x287b41(0x234)+_0xc0fb1a[_0x287b41(0xc06)]+_0x287b41(0x959)+(_0xc0fb1a['points']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c1e84+_0x287b41(0x998)+new Date(_0xc0fb1a[_0x287b41(0x368)])[_0x287b41(0x7a4)](_0x287b41(0xda))+_0x287b41(0x594)+_0x23b6ce+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x3dd3b2=_0x287b41(0xb6d);_0x3a4d70+=_0x287b41(0xb2a)+_0x23b6ce+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc75b4c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3dd3b2+_0x287b41(0x998)+new Date(_0xc0fb1a[_0x287b41(0x6a4)])[_0x287b41(0x7a4)](_0x287b41(0xda))+_0x287b41(0x7ab)+_0x23b6ce+_0x287b41(0x9d8);}}else{const _0x2a1f76=_0x287b41(0xacd);_0x3a4d70+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x23b6ce+_0x287b41(0xb9c)+_0xc75b4c+_0x287b41(0xcf9)+_0x2a1f76+_0x287b41(0x32f);}}),_0x410747['innerHTML']=_0x3a4d70;}async function confirmRenameQuiz(){const _0x1dbb59=_0x45c2ac,_0x3904dd=document[_0x1dbb59(0x286)]('rename-quiz-input')['value'][_0x1dbb59(0x543)]();if(!_0x3904dd){showMessage(_0x1dbb59(0x4b8));return;}if(!actionTargetId)return;const _0x546127=doc(db,_0x1dbb59(0x47d)+appId+_0x1dbb59(0x5d7),actionTargetId);try{await updateDoc(_0x546127,{'topic':_0x3904dd}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x1dbb59(0x707)]['add'](_0x1dbb59(0xb5c)),actionTargetId=null;}catch(_0x1a976e){console[_0x1dbb59(0x4da)](_0x1dbb59(0xf2),_0x1a976e),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x2d092a){const _0x335745=_0x45c2ac;actionTargetId=_0x2d092a;const _0x45fc11=document[_0x335745(0x286)](_0x335745(0x3eb));_0x45fc11['innerHTML']=_0x335745(0x2c9),moveQuizModal[_0x335745(0x707)]['remove'](_0x335745(0xb5c));try{const _0x120815=collection(db,_0x335745(0x47d)+appId+_0x335745(0x99f)),_0x1265b7=await getDocs(_0x120815),_0x21972f=_0x1265b7[_0x335745(0x22c)]['map'](_0x5a761f=>({'id':_0x5a761f['id'],..._0x5a761f[_0x335745(0x10a)]()})),_0x2ca669=_0x21972f[_0x335745(0x624)](_0x2f97ec=>_0x2f97ec['id']!==currentProjectId);if(_0x2ca669[_0x335745(0xb81)]===0x0){_0x45fc11[_0x335745(0x6ef)]=_0x335745(0x58e),document[_0x335745(0x286)]('confirm-move-quiz-btn')[_0x335745(0x790)]=!![];return;}_0x45fc11['innerHTML']=_0x2ca669[_0x335745(0x764)](_0x4a108a=>_0x335745(0xba2)+_0x4a108a['id']+'\x22>'+_0x4a108a['projectName']+'</option>')[_0x335745(0x6da)](''),document[_0x335745(0x286)](_0x335745(0x8c2))[_0x335745(0x790)]=![];}catch(_0x1b7da1){console[_0x335745(0x4da)]('Error\x20fetching\x20projects\x20for\x20move:',_0x1b7da1),showMessage(_0x335745(0x695)),moveQuizModal[_0x335745(0x707)]['add'](_0x335745(0xb5c));}}async function confirmMoveQuiz(){const _0x17e483=_0x45c2ac,_0x43710b=document[_0x17e483(0x286)](_0x17e483(0x3eb))[_0x17e483(0x227)];if(!_0x43710b){showMessage(_0x17e483(0x681));return;}if(!actionTargetId)return;const _0x5848cb=doc(db,_0x17e483(0x47d)+appId+_0x17e483(0x5d7),actionTargetId);try{await updateDoc(_0x5848cb,{'projectId':_0x43710b}),showMessage(_0x17e483(0x87c)),moveQuizModal[_0x17e483(0x707)][_0x17e483(0xbfd)](_0x17e483(0xb5c)),actionTargetId=null;}catch(_0x24fd02){console[_0x17e483(0x4da)]('Error\x20moving\x20quiz:',_0x24fd02),showMessage(_0x17e483(0xac));}}async function handleQuizSettings(_0x53f9df){const _0x2ebf83=_0x45c2ac;actionTargetId=_0x53f9df;const _0x590bb1=doc(db,_0x2ebf83(0x47d)+appId+'/public/data/quizzes',_0x53f9df);try{const _0x65a28f=await getDoc(_0x590bb1);if(_0x65a28f[_0x2ebf83(0x6cc)]()){const _0x14193f=_0x65a28f[_0x2ebf83(0x10a)](),_0x518b15=_0x14193f[_0x2ebf83(0x125)]||{},_0x1c2c0a=_0x14193f[_0x2ebf83(0xbc3)][_0x2ebf83(0xb81)];document[_0x2ebf83(0x286)]('modal-shuffle-select')['value']=_0x518b15[_0x2ebf83(0xcd8)]||'none',document[_0x2ebf83(0x286)]('modal-results-display-select')[_0x2ebf83(0x227)]=_0x518b15[_0x2ebf83(0x680)]||_0x2ebf83(0x87e),document[_0x2ebf83(0x286)](_0x2ebf83(0xd42))[_0x2ebf83(0x227)]=_0x518b15[_0x2ebf83(0xcda)]||_0x2ebf83(0x5ba),document[_0x2ebf83(0x286)](_0x2ebf83(0xce4))['value']=_0x518b15[_0x2ebf83(0x80b)]||0xa,document['getElementById'](_0x2ebf83(0x452))[_0x2ebf83(0x227)]=_0x518b15[_0x2ebf83(0xbd7)]||Math[_0x2ebf83(0xb7e)](_0x1c2c0a/0x2),document['getElementById']('modal-passing-score-input')[_0x2ebf83(0x75c)]=_0x1c2c0a,document[_0x2ebf83(0x286)](_0x2ebf83(0x16f))[_0x2ebf83(0x50a)]=_0x518b15['isAdaptive']||![],document[_0x2ebf83(0x286)](_0x2ebf83(0x313))[_0x2ebf83(0x50a)]=_0x518b15['loopUntilPass']||![];const _0x290d20=_0x518b15[_0x2ebf83(0x99)]||![];document[_0x2ebf83(0x286)]('modal-confidence-scoring-checkbox')[_0x2ebf83(0x50a)]=_0x290d20,document['getElementById'](_0x2ebf83(0x76d))[_0x2ebf83(0x227)]=_0x518b15[_0x2ebf83(0x4a3)]||_0x2ebf83(0xbae);const _0x5a103b=document[_0x2ebf83(0x286)](_0x2ebf83(0x39a));_0x5a103b[_0x2ebf83(0x707)]['toggle'](_0x2ebf83(0xb5c),!_0x290d20),document[_0x2ebf83(0x286)](_0x2ebf83(0xd42))['dispatchEvent'](new Event('change')),quizSettingsModal['classList'][_0x2ebf83(0x6d1)]('hidden');}else showMessage(_0x2ebf83(0x989));}catch(_0x2b5d94){console[_0x2ebf83(0x4da)]('Error\x20fetching\x20quiz\x20settings:',_0x2b5d94),showMessage(_0x2ebf83(0x30f));}}async function confirmQuizSettings(){const _0x1b4c82=_0x45c2ac;if(!actionTargetId)return;const _0xc32093=doc(db,_0x1b4c82(0x47d)+appId+_0x1b4c82(0x5d7),actionTargetId),_0x2bdc82={'shuffle':document[_0x1b4c82(0x286)](_0x1b4c82(0x7e1))[_0x1b4c82(0x227)],'resultsDisplay':document[_0x1b4c82(0x286)]('modal-results-display-select')[_0x1b4c82(0x227)],'timerMode':document[_0x1b4c82(0x286)](_0x1b4c82(0xd42))[_0x1b4c82(0x227)],'timerDuration':parseInt(document[_0x1b4c82(0x286)](_0x1b4c82(0xce4))['value'])||0xa,'passingScore':parseInt(document[_0x1b4c82(0x286)]('modal-passing-score-input')[_0x1b4c82(0x227)])||0x0,'isAdaptive':document[_0x1b4c82(0x286)](_0x1b4c82(0x16f))[_0x1b4c82(0x50a)],'loopUntilPass':document[_0x1b4c82(0x286)](_0x1b4c82(0x313))['checked'],'isConfidenceScoringEnabled':document['getElementById'](_0x1b4c82(0x315))['checked'],'confidenceMode':document[_0x1b4c82(0x286)](_0x1b4c82(0x76d))['value']};try{await updateDoc(_0xc32093,{'settings':_0x2bdc82}),showMessage(_0x1b4c82(0xb1b)),quizSettingsModal['classList'][_0x1b4c82(0xbfd)](_0x1b4c82(0xb5c)),actionTargetId=null;}catch(_0x459643){console[_0x1b4c82(0x4da)]('Error\x20updating\x20quiz\x20settings:',_0x459643),showMessage(_0x1b4c82(0x387));}}async function confirmQuizStatus(){const _0x5a6e55=_0x45c2ac;if(!actionTargetId)return;const _0x4b743b=doc(db,_0x5a6e55(0x47d)+appId+_0x5a6e55(0x5d7),actionTargetId),_0x5b4695=document['querySelector']('input[name=\x22status-option\x22]:checked');if(!_0x5b4695){showMessage(_0x5a6e55(0x664));return;}const _0x720b84=_0x5b4695[_0x5a6e55(0x227)];let _0x12da9e={};if(_0x720b84===_0x5a6e55(0x925)||_0x720b84===_0x5a6e55(0xa6f))_0x12da9e={'status':_0x720b84,'startTime':null,'endTime':null};else{if(_0x720b84===_0x5a6e55(0x9c9)){const _0x521951=document[_0x5a6e55(0x286)](_0x5a6e55(0xafe))[_0x5a6e55(0x227)],_0x4012a6=document['getElementById'](_0x5a6e55(0xa99))[_0x5a6e55(0x227)];if(!_0x521951&&!_0x4012a6){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x12da9e={'status':_0x5a6e55(0xa90),'startTime':_0x521951?new Date(_0x521951)['toISOString']():null,'endTime':_0x4012a6?new Date(_0x4012a6)[_0x5a6e55(0xc66)]():null};}}try{await updateDoc(_0x4b743b,_0x12da9e),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal['classList']['add']('hidden'),actionTargetId=null;}catch(_0x369d17){console[_0x5a6e55(0x4da)](_0x5a6e55(0x6a2),_0x369d17),showMessage(_0x5a6e55(0xc71));}}function listenForStudentProfiles(_0x48d465){const _0x2a81f0=_0x45c2ac,_0x4f56d8=collection(db,_0x2a81f0(0x47d)+appId+_0x2a81f0(0x8ef)+_0x48d465+_0x2a81f0(0x6af));unsubscribeStudentProfilesListener=onSnapshot(_0x4f56d8,_0x2961de=>{const _0x37d628=_0x2a81f0,_0x5159d0=_0x2961de[_0x37d628(0x22c)][_0x37d628(0x764)](_0x208783=>_0x208783[_0x37d628(0x10a)]());renderLeaderboard(_0x5159d0,_0x37d628(0x4e9));},_0xb8bfa3=>{const _0x1836f0=_0x2a81f0;console[_0x1836f0(0x4da)](_0x1836f0(0x7d5),_0xb8bfa3),document[_0x1836f0(0x286)](_0x1836f0(0x4e9))['innerHTML']='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x1479ce,_0x1ae7d9){const _0xfd328c=_0x45c2ac,_0x3e9216=document['getElementById'](_0x1ae7d9);if(!_0x1479ce||_0x1479ce[_0xfd328c(0xb81)]===0x0){_0x3e9216[_0xfd328c(0x6ef)]=_0xfd328c(0x84f);return;}_0x1479ce[_0xfd328c(0x276)]((_0x1e782f,_0x1bf92e)=>{const _0x2cdac0=_0xfd328c,_0x583f04=(_0x1bf92e[_0x2cdac0(0x91)]||0x0)-(_0x1e782f[_0x2cdac0(0x91)]||0x0);if(_0x583f04!==0x0)return _0x583f04;const _0x4924c0=(_0x1bf92e['badgesCount']?.['specialist']||0x0)-(_0x1e782f[_0x2cdac0(0x9b0)]?.[_0x2cdac0(0x8c1)]||0x0);if(_0x4924c0!==0x0)return _0x4924c0;const _0x16fa0a=(_0x1bf92e[_0x2cdac0(0x9b0)]?.[_0x2cdac0(0x77a)]||0x0)-(_0x1e782f[_0x2cdac0(0x9b0)]?.[_0x2cdac0(0x77a)]||0x0);if(_0x16fa0a!==0x0)return _0x16fa0a;const _0x28887b=(_0x1bf92e[_0x2cdac0(0x9b0)]?.['perfect_score']||0x0)-(_0x1e782f[_0x2cdac0(0x9b0)]?.[_0x2cdac0(0xc5e)]||0x0);if(_0x28887b!==0x0)return _0x28887b;const _0x57d2ba=(_0x1bf92e[_0x2cdac0(0x9b0)]?.[_0x2cdac0(0x151)]||0x0)-(_0x1e782f[_0x2cdac0(0x9b0)]?.[_0x2cdac0(0x151)]||0x0);if(_0x57d2ba!==0x0)return _0x57d2ba;return _0x1e782f[_0x2cdac0(0x9b7)][_0x2cdac0(0xc52)](_0x1bf92e[_0x2cdac0(0x9b7)],'th');});let _0x2e9f7e='';_0x1479ce[_0xfd328c(0x94d)]((_0x312079,_0x20fcee)=>{const _0x192c21=_0xfd328c,_0x3b930a=_0x20fcee+0x1,_0x1dfa2=_0x312079[_0x192c21(0x9b0)]||{};let _0x2b646b='';const _0x4439e8=['specialist',_0x192c21(0xc5e),_0x192c21(0x77a),_0x192c21(0x151)];_0x4439e8['forEach'](_0x56b517=>{const _0x5061d7=_0x192c21;if(_0x1dfa2[_0x56b517]>0x0){const _0x51ced0=Object['values'](BADGES)[_0x5061d7(0x7c7)](_0x22cab0=>_0x22cab0['id']===_0x56b517);_0x51ced0&&(_0x56b517===_0x5061d7(0x8c1)?_0x2b646b+=_0x5061d7(0x7e0)+_0x51ced0[_0x5061d7(0x224)]+_0x5061d7(0x37d)+_0x51ced0[_0x5061d7(0x6b9)]+_0x5061d7(0xccf):_0x2b646b+=_0x5061d7(0x7e0)+_0x51ced0[_0x5061d7(0x224)]+'\x20('+_0x1dfa2[_0x56b517]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x51ced0[_0x5061d7(0x6b9)]+_0x5061d7(0xb51)+_0x1dfa2[_0x56b517]+_0x5061d7(0xa30));}}),_0x2e9f7e+=_0x192c21(0xa85)+_0x3b930a+_0x192c21(0xaf3)+_0x312079[_0x192c21(0x9b7)]+_0x192c21(0xd3f)+(_0x312079[_0x192c21(0x91)]||0x0)+_0x192c21(0xaf3)+(_0x2b646b||'-')+_0x192c21(0xade);}),_0x3e9216[_0xfd328c(0x6ef)]=_0x2e9f7e;}function displayLoopScreen(_0x1fa201,_0x2eb2d4,_0x311f40){const _0x4c92d9=_0x45c2ac;let _0xeb6190='';_0x311f40!=='show_pass_fail_only'&&(_0xeb6190='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x1fa201+'\x20/\x20'+_0x2eb2d4+_0x4c92d9(0x6bb));const _0x11d84d=_0x4c92d9(0x435)+_0xeb6190+_0x4c92d9(0x648);studentResultArea[_0x4c92d9(0x6ef)]=_0x11d84d,studentResultArea[_0x4c92d9(0x707)][_0x4c92d9(0x6d1)](_0x4c92d9(0xb5c)),studentQuizArea[_0x4c92d9(0x707)][_0x4c92d9(0xbfd)]('hidden'),document['getElementById']('retake-quiz-loop-btn')['addEventListener'](_0x4c92d9(0x936),()=>{const _0x595fbe=_0x4c92d9;studentResultArea[_0x595fbe(0x707)]['add'](_0x595fbe(0xb5c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x4d2143,_0x4aa9d8,_0x53b7c2){const _0x16466c=_0x45c2ac,_0x2d2b68=document['getElementById'](_0x53b7c2),_0x475070=_0x53b7c2==='student-quiz-leaderboard-table-body',_0x3f31ec=_0x4aa9d8[_0x16466c(0xbc3)][_0x16466c(0xb81)],_0x2f4958=document['getElementById'](_0x53b7c2)['closest']('table');if(_0x2f4958&&!_0x475070){const _0x2bf1e2=_0x2f4958[_0x16466c(0x443)](_0x16466c(0x507));_0x2bf1e2[_0x16466c(0x6ef)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x4d2143||_0x4d2143['length']===0x0){_0x2d2b68['innerHTML']=_0x16466c(0xb50)+(_0x475070?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x35be3b=[..._0x4d2143];_0x35be3b[_0x16466c(0x276)]((_0x54965b,_0x497722)=>{const _0x37bf05=_0x16466c;let _0x58385d,_0xf2a08d;switch(quizLeaderboardSortBy){case'studentName':_0x58385d=_0x54965b[_0x37bf05(0x9b7)]||'',_0xf2a08d=_0x497722[_0x37bf05(0x9b7)]||'';return quizLeaderboardSortOrder==='asc'?_0x58385d[_0x37bf05(0xc52)](_0xf2a08d,'th'):_0xf2a08d[_0x37bf05(0xc52)](_0x58385d,'th');case'points':_0x58385d=_0x54965b[_0x37bf05(0x852)]||0x0,_0xf2a08d=_0x497722['points']||0x0;break;case _0x37bf05(0xcc4):_0x58385d=_0x54965b[_0x37bf05(0xcc4)]?.['length']||0x1,_0xf2a08d=_0x497722[_0x37bf05(0xcc4)]?.[_0x37bf05(0xb81)]||0x1;break;case _0x37bf05(0x368):_0x58385d=new Date(_0x54965b[_0x37bf05(0x368)]),_0xf2a08d=new Date(_0x497722[_0x37bf05(0x368)]);break;case _0x37bf05(0x12b):default:_0x58385d=_0x54965b[_0x37bf05(0x12b)],_0xf2a08d=_0x497722['bestScore'];break;}if(_0x58385d<_0xf2a08d)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x58385d>_0xf2a08d)return quizLeaderboardSortOrder===_0x37bf05(0x2bd)?0x1:-0x1;return 0x0;});const _0x178995=_0x4aa9d8[_0x16466c(0xb1d)]===!![],_0xf267a8=_0x4aa9d8[_0x16466c(0x125)]?.['passingScore']??-0x1;let _0x148818='';_0x35be3b[_0x16466c(0x94d)]((_0x100fe7,_0x54b750)=>{const _0x1938b3=_0x16466c,_0xeb86e9=_0x54b750+0x1;let _0xfe083=_0x1938b3(0xa96);if(_0x178995||_0xf267a8!==-0x1){let _0x523399=_0x178995?_0x100fe7['bestScore']===_0x3f31ec:_0x100fe7[_0x1938b3(0x12b)]>=_0xf267a8;const _0x5262ac=_0x523399?_0x1938b3(0x84e):_0x1938b3(0xd2f),_0x3d53bc=_0x523399?'ผ่าน':_0x1938b3(0xbe8);_0xfe083=_0x1938b3(0x5c4)+_0x5262ac+'\x22>'+_0x3d53bc+'</span></td>';}const _0x4e3435=_0x100fe7[_0x1938b3(0xcc4)][_0x100fe7[_0x1938b3(0xcc4)][_0x1938b3(0xb81)]-0x1],_0x8dfc41=(_0x4e3435[_0x1938b3(0xa41)]||[])['map'](_0x395d62=>{const _0x1996a7=_0x1938b3,_0x17131f=Object[_0x1996a7(0xa8e)](BADGES)['find'](_0x4c4259=>_0x4c4259['id']===_0x395d62);return _0x17131f?_0x1996a7(0xb60)+_0x17131f['name']+_0x1996a7(0x930)+_0x17131f[_0x1996a7(0x6b9)]+_0x1996a7(0x4d2):'';})[_0x1938b3(0x6da)]('');_0x148818+=_0x1938b3(0x6d9)+_0xeb86e9+_0x1938b3(0x65a)+_0x100fe7[_0x1938b3(0x9b7)]+_0x1938b3(0xb8f)+_0x100fe7[_0x1938b3(0x12b)]+_0x1938b3(0x234)+_0x3f31ec+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xfe083+_0x1938b3(0x22f)+(_0x100fe7['points']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x475070?'':_0x1938b3(0x2f5)+(_0x100fe7[_0x1938b3(0xcc4)]?.[_0x1938b3(0xb81)]||0x1)+_0x1938b3(0x312))+_0x1938b3(0x33b)+(_0x475070?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x100fe7[_0x1938b3(0x368)])[_0x1938b3(0x7a4)](_0x1938b3(0xda))+_0x1938b3(0x312))+_0x1938b3(0xa64)+(_0x8dfc41||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2d2b68[_0x16466c(0x6ef)]=_0x148818,_0x2f4958&&!_0x475070&&_0x2f4958['querySelectorAll'](_0x16466c(0x327))[_0x16466c(0x94d)](_0x89d33f=>{const _0x1892da=_0x16466c,_0x1db41b=_0x89d33f[_0x1892da(0x443)](_0x1892da(0x59f));if(_0x1db41b)_0x1db41b[_0x1892da(0x6d1)]();_0x89d33f['dataset'][_0x1892da(0x276)]===quizLeaderboardSortBy&&(_0x89d33f[_0x1892da(0x6ef)]+=_0x1892da(0x2fa)+(quizLeaderboardSortOrder===_0x1892da(0x2bd)?'▲':'▼')+_0x1892da(0x189));});}async function handleDeleteSubmission(_0x356344){const _0x413fb1=_0x45c2ac;if(!currentQuizData||!currentQuizData['id']||!_0x356344){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x413fb1(0x5f7)+_0x356344+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x21c18c=_0x413fb1,_0x5a482e=currentQuizData['id'],_0x5b1f87=doc(db,_0x21c18c(0x47d)+appId+'/public/data/quizzes/'+_0x5a482e+_0x21c18c(0x9d4),_0x356344);try{await deleteDoc(_0x5b1f87),showMessage(_0x21c18c(0x9f2)+_0x356344+'\x20สำเร็จ');}catch(_0x9d1d3){console[_0x21c18c(0x4da)](_0x21c18c(0x328),_0x9d1d3),showMessage(_0x21c18c(0x890));}});}async function handleLoadQuiz(){const _0x5e8232=_0x45c2ac,_0x84f7d5=document[_0x5e8232(0x286)](_0x5e8232(0x807)),_0x40daef=_0x84f7d5[_0x5e8232(0x227)][_0x5e8232(0x543)]();if(!_0x40daef){showMessage(_0x5e8232(0xcc9));return;}loadQuizBtn[_0x5e8232(0x790)]=!![],loadQuizBtn[_0x5e8232(0x6ef)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x46d884=doc(db,_0x5e8232(0x47d)+appId+_0x5e8232(0x5d7),_0x40daef),_0x2a6d61=await getDoc(_0x46d884);if(!_0x2a6d61['exists']()){showMessage(_0x5e8232(0x102));return;}currentQuizData={'id':_0x2a6d61['id'],..._0x2a6d61[_0x5e8232(0x10a)]()};const _0x413e92=currentQuizData[_0x5e8232(0xc3e)]||'active',_0xc4a03a=new Date();if(_0x413e92===_0x5e8232(0xa6f)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x413e92===_0x5e8232(0xa90)){const _0x53200b=currentQuizData['startTime']?new Date(currentQuizData[_0x5e8232(0xadd)]):null,_0x9b1334=currentQuizData[_0x5e8232(0x9b9)]?new Date(currentQuizData[_0x5e8232(0x9b9)]):null;if(_0x53200b&&_0xc4a03a<_0x53200b){showMessage(_0x5e8232(0xa84)+_0x53200b[_0x5e8232(0x7a4)](_0x5e8232(0xda),{'hour12':![]}));return;}if(_0x9b1334&&_0xc4a03a>_0x9b1334){showMessage(_0x5e8232(0xceb));return;}}const _0x499b56=currentQuizData[_0x5e8232(0x12d)];currentProjectId=_0x499b56;const _0x1a9481=doc(db,_0x5e8232(0x47d)+appId+_0x5e8232(0x99f),_0x499b56),_0x2f2937=await getDoc(_0x1a9481);if(!_0x2f2937[_0x5e8232(0x6cc)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x1d4880=_0x2f2937[_0x5e8232(0x10a)]();currentStudentProjectData=_0x1d4880,displayStudentNameSelector(_0x1d4880[_0x5e8232(0xcaf)],currentQuizData['topic']);}catch(_0x394167){console[_0x5e8232(0x4da)](_0x5e8232(0xad7),_0x394167),showMessage(_0x5e8232(0x6f5));}finally{loadQuizBtn[_0x5e8232(0x790)]=![],loadQuizBtn[_0x5e8232(0x6ef)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x1f795b=_0x45c2ac,_0x329a0b=document[_0x1f795b(0x286)](_0x1f795b(0xc4c)),_0x4ad9ec=document[_0x1f795b(0x286)](_0x1f795b(0xa3)),_0x4ddba3=document[_0x1f795b(0x286)](_0x1f795b(0x30a)),_0x6c9d52=_0x329a0b['value'][_0x1f795b(0x543)](),_0x54ffe8=_0x4ad9ec['value']['trim']();if(!_0x6c9d52||!_0x54ffe8){showMessage(_0x1f795b(0xcf3));return;}_0x4ddba3[_0x1f795b(0x790)]=!![],_0x4ddba3[_0x1f795b(0x6ef)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x1b7e77=collection(db,_0x1f795b(0x47d)+appId+'/public/data/liveGames'),_0x3b3e01=query(_0x1b7e77,where(_0x1f795b(0x3c4),'==',_0x6c9d52),where(_0x1f795b(0xc3e),'in',['lobby','question'])),_0x510aad=await getDocs(_0x3b3e01);if(_0x510aad[_0x1f795b(0x500)]){showMessage(_0x1f795b(0xdb));return;}const _0xa24230=_0x510aad[_0x1f795b(0x22c)][0x0],_0x1886fd=_0xa24230['data']();currentLiveGameId=_0xa24230['id'];const _0x1729d5=_0x1886fd[_0x1f795b(0x476)],_0x41448d=doc(db,_0x1f795b(0x47d)+appId+_0x1f795b(0x5d7),_0x1729d5),_0x5ad916=await getDoc(_0x41448d);if(!_0x5ad916[_0x1f795b(0x6cc)]()){showMessage(_0x1f795b(0x1a5));return;}currentQuizData={'id':_0x5ad916['id'],..._0x5ad916[_0x1f795b(0x10a)]()};if(_0x1886fd[_0x1f795b(0x92e)]&&_0x1886fd[_0x1f795b(0x92e)][_0x54ffe8]){const _0x10800a=_0x1886fd[_0x1f795b(0x92e)][_0x54ffe8];if(_0x10800a[_0x1f795b(0xc3e)]===_0x1f795b(0xa6f)){_0x4ddba3[_0x1f795b(0x6ef)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x55947b={};_0x55947b[_0x1f795b(0x3df)+_0x54ffe8+'.status']='active',await updateDoc(doc(db,_0x1f795b(0x47d)+appId+_0x1f795b(0x37a),currentLiveGameId),_0x55947b),showView(_0x1f795b(0x6cd)),currentStudentName=_0x54ffe8,listenForLiveGameUpdates();return;}else{showMessage(_0x1f795b(0xc84));return;}}if(_0x1886fd['status']!==_0x1f795b(0x659)){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x4ddba3[_0x1f795b(0x6ef)]=_0x1f795b(0x9be);const _0x5831ce={};_0x5831ce[_0x1f795b(0x3df)+_0x54ffe8]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x1f795b(0x925)},await updateDoc(doc(db,'artifacts/'+appId+_0x1f795b(0x37a),currentLiveGameId),_0x5831ce),currentStudentName=_0x54ffe8,listenForLiveGameUpdates();}catch(_0x2148f3){console[_0x1f795b(0x4da)](_0x1f795b(0xcb),_0x2148f3),showMessage(_0x1f795b(0x61e));}finally{_0x4ddba3[_0x1f795b(0x790)]=![],_0x4ddba3['innerHTML']=_0x1f795b(0x536);}}function displayStudentNameSelector(_0x3fbf9a,_0x14e035){const _0x358b75=_0x45c2ac,_0x199615=document[_0x358b75(0x286)]('student-name-select');document[_0x358b75(0x286)](_0x358b75(0x348))[_0x358b75(0x10e)]=_0x358b75(0xd18)+_0x14e035,!_0x3fbf9a||_0x3fbf9a['length']===0x0?(_0x199615['innerHTML']=_0x358b75(0x2c8),startQuizBtn['disabled']=!![]):(_0x199615['innerHTML']=_0x358b75(0x200),_0x3fbf9a[_0x358b75(0x94d)](_0x366fdd=>{const _0x2cc083=_0x358b75,_0x91855a=document[_0x2cc083(0x3f2)]('option');_0x91855a[_0x2cc083(0x227)]=_0x366fdd,_0x91855a['textContent']=_0x366fdd,_0x199615['appendChild'](_0x91855a);}),startQuizBtn[_0x358b75(0x790)]=![]),studentInitialView[_0x358b75(0x707)][_0x358b75(0xbfd)](_0x358b75(0xb5c)),studentNameSelectionView[_0x358b75(0x707)][_0x358b75(0x6d1)](_0x358b75(0xb5c));}function shuffleArray(_0x33f054){const _0x310be2=_0x45c2ac;for(let _0x12b22d=_0x33f054[_0x310be2(0xb81)]-0x1;_0x12b22d>0x0;_0x12b22d--){const _0x35de34=Math[_0x310be2(0xb7e)](Math[_0x310be2(0x3c0)]()*(_0x12b22d+0x1));[_0x33f054[_0x12b22d],_0x33f054[_0x35de34]]=[_0x33f054[_0x35de34],_0x33f054[_0x12b22d]];}}function getShuffledQuiz(_0x1a2c66){const _0x138b07=_0x45c2ac;let _0x58d057=JSON[_0x138b07(0x8dc)](JSON[_0x138b07(0x2d7)](_0x1a2c66));const _0x1c5be4=_0x58d057[_0x138b07(0x125)]?.['shuffle']||'none';if(_0x1c5be4===_0x138b07(0x5ba))return _0x58d057;return(_0x1c5be4===_0x138b07(0xbb4)||_0x1c5be4===_0x138b07(0xc59))&&shuffleArray(_0x58d057[_0x138b07(0xbc3)]),(_0x1c5be4===_0x138b07(0x592)||_0x1c5be4==='both')&&_0x58d057[_0x138b07(0xbc3)][_0x138b07(0x94d)](_0x43c1ed=>{const _0x4489b6=_0x138b07,_0x21cc0c=_0x43c1ed[_0x4489b6(0x9f5)]||_0x58d057['quizType'];if(_0x43c1ed[_0x4489b6(0xa07)]){let _0x2ce5ef=_0x43c1ed[_0x4489b6(0xa07)][_0x4489b6(0x764)]((_0xa8d1fc,_0x1cb0ef)=>({'text':_0xa8d1fc,'isCorrect':_0x1cb0ef===_0x43c1ed[_0x4489b6(0xc51)]}));shuffleArray(_0x2ce5ef),_0x43c1ed[_0x4489b6(0xa07)]=_0x2ce5ef[_0x4489b6(0x764)](_0x1cfaa6=>_0x1cfaa6[_0x4489b6(0x135)]),_0x43c1ed['correctAnswerIndex']=_0x2ce5ef[_0x4489b6(0x1e0)](_0x2173a9=>_0x2173a9['isCorrect']);}_0x21cc0c===_0x4489b6(0x2d6)&&_0x43c1ed[_0x4489b6(0xeb)]&&shuffleArray(_0x43c1ed['allResponses']);}),_0x58d057;}function displayQuizForStudent(_0x169500){const _0x4842d0=_0x45c2ac;studentQuizArea[_0x4842d0(0x707)][_0x4842d0(0x6d1)](_0x4842d0(0xb5c)),currentDisplayedQuiz=getShuffledQuiz(_0x169500);currentMode!==_0x4842d0(0x898)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x4842d0(0x504)](_0x4842d0(0xbd5),handleFullscreenChange),document['addEventListener'](_0x4842d0(0x9af),handleVisibilityChange),enterFullscreen(),window[_0x4842d0(0x504)]('mousemove',resetDimTimer),window[_0x4842d0(0x504)]('mousedown',resetDimTimer),window[_0x4842d0(0x504)](_0x4842d0(0x79f),resetDimTimer),window['addEventListener']('keydown',resetDimTimer),resetDimTimer());const _0x3dba0b=currentDisplayedQuiz['settings']?.[_0x4842d0(0xcda)]||_0x4842d0(0x5ba);if(_0x3dba0b===_0x4842d0(0x14b))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x4842d0(0x125)][_0x4842d0(0x80b)]);else _0x3dba0b==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x46fa45=_0x45c2ac,_0x162884=currentDisplayedQuiz[_0x46fa45(0x125)]?.[_0x46fa45(0x99)]===!![],_0xb0b6cc=currentDisplayedQuiz[_0x46fa45(0x125)]?.[_0x46fa45(0x4a3)]||_0x46fa45(0xbae);let _0x276a5c=_0x46fa45(0x3e3)+currentDisplayedQuiz[_0x46fa45(0x26f)]+_0x46fa45(0x705)+(currentMode===_0x46fa45(0x898)?_0x46fa45(0x8af):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x46fa45(0xbc3)][_0x46fa45(0x94d)]((_0x4c7bc5,_0x22df92)=>{const _0x776180=_0x46fa45,_0x2c16e4=_0x4c7bc5[_0x776180(0x9f5)]||currentDisplayedQuiz[_0x776180(0x480)];_0x276a5c+=_0x776180(0x6e);if(_0x2c16e4===_0x776180(0x2d6)){}else _0x276a5c+=_0x776180(0xcde)+(_0x22df92+0x1)+'.\x20'+(_0x4c7bc5[_0x776180(0x9f9)]||_0x4c7bc5['questionText'])+_0x776180(0x761),_0x4c7bc5[_0x776180(0xb04)]&&(_0x276a5c+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4c7bc5[_0x776180(0xb04)]+_0x776180(0x6c2));_0x276a5c+=_0x776180(0xa59);switch(_0x2c16e4){case _0x776180(0x27d):_0x276a5c+='<textarea\x20name=\x22question'+_0x22df92+_0x776180(0xa57);break;case'true_false':_0x276a5c+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x22df92+_0x776180(0xa08)+_0x22df92+_0x776180(0xca7)+_0x22df92+_0x776180(0x7be),_0x276a5c+=_0x776180(0x5d5)+_0x22df92+_0x776180(0x21a)+_0x22df92+_0x776180(0x277)+_0x22df92+_0x776180(0x8ac);break;case _0x776180(0x2d6):_0x276a5c+=_0x776180(0x48c)+_0x4c7bc5[_0x776180(0xcfa)]+_0x776180(0xb15)+_0x22df92+_0x776180(0xbc5)+_0x4c7bc5[_0x776180(0xeb)][_0x776180(0x764)](_0x49e39f=>_0x776180(0xba2)+_0x49e39f+'\x22>'+_0x49e39f+'</option>')[_0x776180(0x6da)]('')+_0x776180(0x9c4);break;default:_0x276a5c+=_0x4c7bc5[_0x776180(0xa07)]['map']((_0x1b29f4,_0x2929e7)=>_0x776180(0xac4)+_0x22df92+_0x776180(0x49f)+_0x2929e7+_0x776180(0x2ef)+_0x22df92+_0x776180(0x585)+_0x2929e7+_0x776180(0x576)+_0x22df92+_0x776180(0x49f)+_0x2929e7+'\x22>'+_0x1b29f4+_0x776180(0x6f7))[_0x776180(0x6da)]('');break;}_0x276a5c+=_0x776180(0x6c2),_0x162884&&(_0x276a5c+=_0x776180(0x158),_0xb0b6cc==='mandatory'?_0x276a5c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x22df92+_0x776180(0x3e6)+_0x22df92+_0x776180(0x170)+_0x22df92+_0x776180(0xad)+_0x22df92+_0x776180(0x5bc):_0x276a5c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence'+_0x22df92+_0x776180(0x3e6)+_0x22df92+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0x22df92+_0x776180(0xc94),_0x276a5c+=_0x776180(0x6c2)),_0x276a5c+=_0x776180(0x6c2);}),_0x276a5c+=_0x46fa45(0xa3f),_0x276a5c+=_0x46fa45(0x178),studentQuizArea[_0x46fa45(0x6ef)]=_0x276a5c;if(currentMode===_0x46fa45(0x898)){const _0x471092=document['getElementById'](_0x46fa45(0x39f));if(_0x471092)_0x471092[_0x46fa45(0x504)](_0x46fa45(0x936),cancelAdminTest);}const _0x33646a=document[_0x46fa45(0x286)](_0x46fa45(0xa56));_0x33646a&&(_0x33646a[_0x46fa45(0x504)](_0x46fa45(0x519),handleSubmitQuiz),_0x33646a['addEventListener'](_0x46fa45(0x936),_0x4f1553=>{const _0x2129bd=_0x46fa45;if(_0x4f1553[_0x2129bd(0x797)][_0x2129bd(0x707)][_0x2129bd(0xb7c)](_0x2129bd(0x166))){const _0x59d7fb=_0x4f1553[_0x2129bd(0x797)],_0x25ebb3=_0x59d7fb[_0x2129bd(0x24b)][_0x2129bd(0xa05)],_0x5da581=_0x59d7fb[_0x2129bd(0x24b)][_0x2129bd(0x227)];document[_0x2129bd(0x286)](_0x2129bd(0x79a)+_0x25ebb3)[_0x2129bd(0x227)]=_0x5da581;const _0x466cda=_0x59d7fb[_0x2129bd(0x285)];_0x466cda[_0x2129bd(0x640)]('.confidence-choice-btn')['forEach'](_0x30b92d=>_0x30b92d['classList'][_0x2129bd(0x6d1)](_0x2129bd(0x925))),_0x59d7fb['classList'][_0x2129bd(0xbfd)]('active');}}));if(window[_0x46fa45(0x36f)])window[_0x46fa45(0x36f)]['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x5067f6){const _0x4a59e7=_0x45c2ac;if(_0x5067f6)_0x5067f6[_0x4a59e7(0x5be)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x3dd273=document['getElementById']('quiz-form');if(!_0x3dd273)return;const _0x5d75ff=currentDisplayedQuiz[_0x4a59e7(0x125)]?.['isConfidenceScoringEnabled']===!![],_0x3634ca=currentDisplayedQuiz[_0x4a59e7(0x125)]?.[_0x4a59e7(0x4a3)]||'checkbox';if(_0x5d75ff&&_0x3634ca==='mandatory'){let _0x3cb72d=!![];for(let _0x30976f=0x0;_0x30976f<currentDisplayedQuiz[_0x4a59e7(0xbc3)][_0x4a59e7(0xb81)];_0x30976f++){const _0x2912ee=_0x3dd273[_0x4a59e7(0x443)](_0x4a59e7(0xb82)+_0x30976f);if(!_0x2912ee||_0x2912ee['value']===''){_0x3cb72d=![];break;}}if(!_0x3cb72d){showMessage(_0x4a59e7(0x40c));return;}}const _0x1d918b=_0x3dd273[_0x4a59e7(0x443)](_0x4a59e7(0x86b)),_0x4df713=currentDisplayedQuiz['questions'][_0x4a59e7(0x8cd)](_0x2bd243=>_0x2bd243[_0x4a59e7(0x9f5)]===_0x4a59e7(0x27d));_0x1d918b&&(_0x1d918b['disabled']=!![],_0x1d918b[_0x4a59e7(0x6ef)]=_0x4df713?_0x4a59e7(0xa6d):'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x52e8c0=new FormData(_0x3dd273),_0x1beaab=currentDisplayedQuiz[_0x4a59e7(0xbc3)]['map']((_0x32d7b2,_0x497a34)=>{const _0x2ff520=_0x4a59e7,_0xea8c10=_0x52e8c0[_0x2ff520(0x909)](_0x2ff520(0x5d6)+_0x497a34);let _0x1feb85;_0x3634ca==='mandatory'?_0x1feb85=_0x52e8c0[_0x2ff520(0x909)](_0x2ff520(0x13c)+_0x497a34):_0x1feb85=_0x52e8c0[_0x2ff520(0x909)](_0x2ff520(0x13c)+_0x497a34)==='on';let _0x54146d=null;if(_0xea8c10!==null&&_0xea8c10!==undefined){const _0x417f9d=_0x32d7b2[_0x2ff520(0x9f5)]||currentDisplayedQuiz[_0x2ff520(0x480)];_0x417f9d===_0x2ff520(0xb86)||_0x417f9d===_0x2ff520(0x347)?_0x54146d=parseInt(_0xea8c10):_0x54146d=_0xea8c10;}return{'answer':_0x54146d,'wasConfident':_0x1feb85};}),_0xd95755=currentQuizData['id'],_0x279653=doc(db,_0x4a59e7(0x47d)+appId+_0x4a59e7(0xb5b)+_0xd95755+_0x4a59e7(0x9d4),currentStudentName),_0x5f3009=await getDoc(_0x279653),_0x1733a8=_0x5f3009['exists']()?_0x5f3009[_0x4a59e7(0x10a)]():{},_0x4d4877=_0x1733a8['attempts']||[];await processAndSubmitAnswers(_0x1beaab,_0x4d4877);}async function gradeShortAnswerWithAI(_0x154b77,_0x4394dc){const _0xc934d5=_0x45c2ac;if(!_0x154b77||!_0x4394dc)return![];try{const _0x14d253=_0xc934d5(0x99b)+_0x154b77+_0xc934d5(0x8e8)+_0x4394dc+_0xc934d5(0x81f),_0x438bf0={'contents':[{'role':'user','parts':[{'text':_0x14d253}]}]},_0x1143e8=_0xc934d5(0x30c),_0x53fc36=_0xc934d5(0x2b3)+_0x1143e8,_0x10ab06=await fetch(_0x53fc36,{'method':_0xc934d5(0x44f),'headers':{'Content-Type':_0xc934d5(0x2af)},'body':JSON[_0xc934d5(0x2d7)](_0x438bf0)});if(!_0x10ab06['ok'])throw new Error(_0xc934d5(0x565));const _0x5565cf=await _0x10ab06[_0xc934d5(0x93b)](),_0x1c09e9=_0x5565cf['candidates'][0x0][_0xc934d5(0x8e3)]['parts'][0x0][_0xc934d5(0x135)]['trim']()[_0xc934d5(0x3f0)]();return _0x1c09e9===_0xc934d5(0x160);}catch(_0x518a2a){return console[_0xc934d5(0x4da)](_0xc934d5(0x84b),_0x518a2a),![];}}async function processAndSubmitAnswers(_0x391e86,_0x198f63){const _0xdf0861=_0x45c2ac;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0xdf0861(0xbd5),handleFullscreenChange),document[_0xdf0861(0xb74)](_0xdf0861(0x9af),handleVisibilityChange);let _0x35de23=0x0;const _0x3eafe1=[],_0x382207=currentDisplayedQuiz[_0xdf0861(0xbc3)]['length'];let _0x144b49=0x0,_0x4ce612=[];const _0x2dbf76=currentDisplayedQuiz[_0xdf0861(0xbc3)];for(let _0x531c4d=0x0;_0x531c4d<_0x2dbf76['length'];_0x531c4d++){const _0x5daaa5=_0x2dbf76[_0x531c4d],_0xccf4d8=_0x391e86[_0x531c4d],_0x9fb462=_0xccf4d8?_0xccf4d8[_0xdf0861(0xa53)]:null,_0x5a854e=_0xccf4d8?_0xccf4d8[_0xdf0861(0x13e)]:null;let _0x31645d=![],_0x585dd2=0x0;if(_0x9fb462!==null&&_0x9fb462!==''){const _0x587f67=_0x5daaa5[_0xdf0861(0x9f5)]||currentDisplayedQuiz['quizType'];switch(_0x587f67){case'matching_item':_0x31645d=_0x9fb462===_0x5daaa5[_0xdf0861(0x7a5)];break;case _0xdf0861(0xcbb):const _0x1405d2=_0x9fb462===!![]||_0x9fb462===_0xdf0861(0x160);_0x31645d=_0x1405d2===_0x5daaa5[_0xdf0861(0xc42)];break;case _0xdf0861(0x27d):_0x31645d=await gradeShortAnswer(_0x9fb462,_0x5daaa5);break;case _0xdf0861(0xb86):default:_0x31645d=Number(_0x9fb462)===_0x5daaa5['correctAnswerIndex'];break;}}if(currentDisplayedQuiz[_0xdf0861(0x125)]?.[_0xdf0861(0x99)]){const _0x2287e0=_0xccf4d8?_0xccf4d8[_0xdf0861(0x13e)]:null;if(_0x31645d&&(_0x2287e0===!![]||_0x2287e0==='confident'))_0x585dd2=0x2;else{if(_0x31645d)_0x585dd2=0x1;else{if(!_0x31645d&&(_0x2287e0===![]||_0x2287e0===_0xdf0861(0x11e)||_0x2287e0===null))_0x585dd2=0x0;else!_0x31645d&&(_0x2287e0===!![]||_0x2287e0==='confident')&&(_0x585dd2=-0x1);}}}else _0x585dd2=_0x31645d?0x1:0x0;_0x35de23+=_0x585dd2;if(_0x31645d){_0x144b49++;if(_0x144b49===0x3)_0x4ce612[_0xdf0861(0xcec)](BADGES[_0xdf0861(0x669)]['id']);}else _0x144b49=0x0;let _0x460845=null;_0x5daaa5[_0xdf0861(0xa07)]&&_0x9fb462!==null&&(_0x460845=_0x5daaa5[_0xdf0861(0xa07)][_0x9fb462]),_0x3eafe1[_0xdf0861(0xcec)]({'questionId':_0x5daaa5['id'],'answer':_0x9fb462,'answerText':_0x460845,'isCorrect':_0x31645d,'wasConfident':_0x5a854e,'pointsAwarded':_0x585dd2,'originalQuestionText':_0x5daaa5['stem']||_0x5daaa5['questionText']});}const _0x5e63a7=_0x3eafe1[_0xdf0861(0x624)](_0x2286f0=>_0x2286f0[_0xdf0861(0x995)])[_0xdf0861(0xb81)],_0x59fad7=currentDisplayedQuiz['settings']?.[_0xdf0861(0xbd7)]??Math[_0xdf0861(0xb7e)](_0x382207/0x2);_0x5e63a7===_0x382207&&_0x382207>0x0&&!currentDisplayedQuiz[_0xdf0861(0xb1d)]&&_0x4ce612[_0xdf0861(0xcec)](BADGES[_0xdf0861(0x262)]['id']);const _0x48c129=currentDisplayedQuiz['settings']?.[_0xdf0861(0xcda)];if(_0x48c129===_0xdf0861(0x14b)&&quizStartTime){const _0x40d7d0=(new Date()-quizStartTime)/0x3e8,_0x615e71=currentDisplayedQuiz[_0xdf0861(0x125)][_0xdf0861(0x80b)]*0x3c;_0x5e63a7>=_0x59fad7&&_0x40d7d0<_0x615e71/0x2&&_0x4ce612['push'](BADGES['QUICK_THINKER']['id']);}_0x198f63['length']===0x0&&_0x5e63a7===_0x382207&&_0x382207>0x0&&_0x4ce612[_0xdf0861(0xcec)](BADGES[_0xdf0861(0x716)]['id']);if(_0x198f63['length']>0x0){const _0x54ae53=_0x198f63[0x0][_0xdf0861(0x248)];if(_0x54ae53<_0x59fad7&&_0x5e63a7>=_0x59fad7){const _0x15ef2b=_0x198f63[_0xdf0861(0x8cd)](_0x4e6ac2=>(_0x4e6ac2[_0xdf0861(0xa41)]||[])[_0xdf0861(0x613)](BADGES[_0xdf0861(0xa5)]['id']));!_0x15ef2b&&_0x4ce612[_0xdf0861(0xcec)](BADGES[_0xdf0861(0xa5)]['id']);}}_0x198f63[_0xdf0861(0xb81)]===0x4&&_0x4ce612['push'](BADGES['PERSEVERANCE']['id']);const _0x1f2ab3=currentDisplayedQuiz[_0xdf0861(0x125)][_0xdf0861(0x680)];if(currentMode===_0xdf0861(0x898)){handleResultDisplay(_0x1f2ab3,_0x5e63a7,_0x35de23,_0x4ce612,_0x3eafe1,_0x382207);return;}const _0x278202=currentQuizData['id'],_0x3cb0de=doc(db,_0xdf0861(0x47d)+appId+'/public/data/quizzes/'+_0x278202+_0xdf0861(0x9d4),currentStudentName);try{const _0x5c0779=[..._0x198f63],_0x3c87ed={'score':_0x5e63a7,'points':_0x35de23,'badges':Array[_0xdf0861(0xba1)](new Set(_0x4ce612)),'submittedAt':new Date()[_0xdf0861(0xc66)](),'answers':_0x3eafe1};_0x5c0779[_0xdf0861(0xcec)](_0x3c87ed);const _0x37edb0=_0x198f63[_0xdf0861(0xb81)]===0x0?_0x5e63a7:_0x198f63[0x0]['score']||0x0,_0x42abd8=Math[_0xdf0861(0x75c)](..._0x5c0779['map'](_0x51869e=>_0x51869e['score']));await setDoc(_0x3cb0de,{'studentName':currentStudentName,'totalQuestions':_0x382207,'attempts':_0x5c0779,'firstScore':_0x37edb0,'bestScore':_0x42abd8,'latestScore':_0x5e63a7,'points':_0x35de23,'latestSubmittedAt':_0x3c87ed[_0xdf0861(0x16c)]},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x1f2ab3,_0x5e63a7,_0x35de23,_0x4ce612,_0x3eafe1,_0x382207);}catch(_0x367db7){console[_0xdf0861(0x4da)]('Error\x20saving\x20submission:',_0x367db7),showMessage(_0xdf0861(0xa04));}}async function updateStudentProfile(_0x276991,_0xcb3bcc){const _0x10b3fb=_0x45c2ac,_0x125624=doc(db,_0x10b3fb(0x47d)+appId+_0x10b3fb(0x8ef)+_0x276991+_0x10b3fb(0x6af),_0xcb3bcc);try{const _0x18c2ee=query(collection(db,_0x10b3fb(0x47d)+appId+'/public/data/quizzes'),where(_0x10b3fb(0x12d),'==',_0x276991)),_0xb919ff=await getDocs(_0x18c2ee),_0x513cc7=new Map(_0xb919ff[_0x10b3fb(0x22c)][_0x10b3fb(0x764)](_0x3097c4=>[_0x3097c4['id'],_0x3097c4[_0x10b3fb(0x10a)]()])),_0x473ed0=Array['from'](_0x513cc7[_0x10b3fb(0xb99)]());await runTransaction(db,async _0x1a0e30=>{const _0xa958b=_0x10b3fb;let _0x3005a3=0x0;const _0x5f5a99={};let _0x304b58=!![],_0x47c185=0x0,_0x3b061b=0x0;for(const _0x4da122 of _0x473ed0){const _0x1a7368=_0x513cc7[_0xa958b(0x909)](_0x4da122),_0x2e2d7d=doc(db,_0xa958b(0x47d)+appId+_0xa958b(0xb5b)+_0x4da122+_0xa958b(0x9d4),_0xcb3bcc),_0x400746=await _0x1a0e30['get'](_0x2e2d7d);if(_0x400746[_0xa958b(0x6cc)]()){const _0x264e5e=_0x400746[_0xa958b(0x10a)](),_0x49727b=_0x264e5e[_0xa958b(0xcc4)]||[];if(_0x49727b[_0xa958b(0xb81)]>0x0){const _0x159cb8=_0x49727b[_0xa958b(0xd34)]((_0x4a9be9,_0x420ffa)=>{const _0x4dcd05=_0xa958b;if(_0x420ffa[_0x4dcd05(0x248)]>_0x4a9be9['score'])return _0x420ffa;if(_0x420ffa[_0x4dcd05(0x248)]===_0x4a9be9[_0x4dcd05(0x248)])return(_0x420ffa[_0x4dcd05(0x852)]||0x0)>(_0x4a9be9[_0x4dcd05(0x852)]||0x0)?_0x420ffa:_0x4a9be9;return _0x4a9be9;},{'score':-0x1,'points':-0x1});_0x159cb8[_0xa958b(0x248)]>-0x1&&(_0x3005a3+=_0x159cb8['points']||0x0,(_0x159cb8[_0xa958b(0xa41)]||[])['forEach'](_0x22a079=>{_0x5f5a99[_0x22a079]=(_0x5f5a99[_0x22a079]||0x0)+0x1;}));}}if(_0x1a7368[_0xa958b(0x26f)]!==_0xa958b(0x4a6)){_0x3b061b++;if(_0x400746[_0xa958b(0x6cc)]()){_0x47c185++;const _0x49e249=_0x400746[_0xa958b(0x10a)]();_0x49e249[_0xa958b(0x12b)]!==_0x49e249[_0xa958b(0xc06)]&&(_0x304b58=![]);}else _0x304b58=![];}}_0x3b061b>0x0&&_0x47c185===_0x3b061b&&_0x304b58?_0x5f5a99['specialist']=0x1:_0x5f5a99['specialist']=0x0,_0x1a0e30[_0xa958b(0xb89)](_0x125624,{'studentName':_0xcb3bcc,'totalPoints':_0x3005a3,'unlockedBadges':Object['keys'](_0x5f5a99)[_0xa958b(0x624)](_0x1145f9=>_0x5f5a99[_0x1145f9]>0x0),'badgesCount':_0x5f5a99},{'merge':!![]});});}catch(_0x596c0e){console[_0x10b3fb(0x4da)](_0x10b3fb(0x7e5),_0x596c0e),showMessage(_0x10b3fb(0xbde));}}function startAdminTest(){const _0x45ef19=_0x45c2ac;if(!currentQuizData){showMessage(_0x45ef19(0x8ad));return;}let _0x4f344e=JSON[_0x45ef19(0x8dc)](JSON[_0x45ef19(0x2d7)](currentQuizData));currentMode='admin-testing',currentStudentName=_0x45ef19(0x4d7),adminView['classList'][_0x45ef19(0xbfd)](_0x45ef19(0xb5c)),studentView[_0x45ef19(0x707)]['remove'](_0x45ef19(0xb5c)),studentInitialView[_0x45ef19(0x707)][_0x45ef19(0xbfd)](_0x45ef19(0xb5c)),studentNameSelectionView[_0x45ef19(0x707)][_0x45ef19(0xbfd)](_0x45ef19(0xb5c)),studentResultArea[_0x45ef19(0x707)]['add'](_0x45ef19(0xb5c)),studentQuizArea['classList']['remove'](_0x45ef19(0xb5c)),quizStartTime=new Date(),displayQuizForStudent(_0x4f344e);}function handleResultDisplay(_0x4c69d9,_0x16714d,_0x598d09,_0x5a48c8,_0x15b1b6,_0x56ff47){const _0x5f2032=_0x45c2ac;if(_0x4c69d9===_0x5f2032(0xa4)){displaySubmissionConfirmation();return;}const _0x440417=currentDisplayedQuiz[_0x5f2032(0x125)]?.[_0x5f2032(0xbd7)]??Math[_0x5f2032(0xb7e)](_0x56ff47/0x2),_0x585285=currentDisplayedQuiz[_0x5f2032(0x125)]?.[_0x5f2032(0x834)]??![],_0x3026eb=currentDisplayedQuiz[_0x5f2032(0x125)]?.[_0x5f2032(0x54f)]===!![],_0xe2730d=_0x16714d<_0x440417,_0x1e7e6d=_0x4c69d9===_0x5f2032(0x52f)||_0x4c69d9==='perfect_score_status';if(_0x3026eb&&_0xe2730d&&!_0x1e7e6d){_0x4c69d9===_0x5f2032(0x87e)?displayResultsWithAnswers(_0x16714d,_0x598d09,_0x5a48c8,_0x15b1b6,_0x56ff47,!![]):displayLoopScreen(_0x16714d,_0x56ff47,_0x4c69d9);return;}if(_0x585285&&_0xe2730d){startAdaptiveFlow(_0x15b1b6,_0x16714d,_0x56ff47);return;}switch(_0x4c69d9){case _0x5f2032(0x87e):displayResultsWithAnswers(_0x16714d,_0x598d09,_0x5a48c8,_0x15b1b6,_0x56ff47);break;case _0x5f2032(0x7c0):displayResultsScoreOnly(_0x16714d,_0x598d09,_0x5a48c8,_0x56ff47);break;case _0x5f2032(0x8c):displayPassFailOnly(_0x16714d,_0x56ff47);break;case _0x5f2032(0x52f):displayHalfMarkResult(_0x16714d,_0x56ff47);break;case'perfect_score_status':displayPerfectScoreResult(_0x16714d,_0x56ff47);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x328ffd){const _0x3030cc=_0x45c2ac;studentReadingArea[_0x3030cc(0x6ef)]=_0x3030cc(0x467);const _0x21e1be='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x328ffd+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x3030cc(0x448),_0x3c7e39={'type':_0x3030cc(0xb8e),'properties':{'questionText':{'type':_0x3030cc(0x32a)},'options':{'type':_0x3030cc(0xce2),'items':{'type':_0x3030cc(0x32a)}},'correctAnswerIndex':{'type':_0x3030cc(0x611)},'explanation':{'type':_0x3030cc(0x32a)}},'required':[_0x3030cc(0x3a5),_0x3030cc(0xa07),_0x3030cc(0xc51),_0x3030cc(0x7ec)]},_0x109e8a={'type':_0x3030cc(0xb8e),'properties':{'topic':{'type':_0x3030cc(0x32a)},'questions':{'type':_0x3030cc(0xce2),'items':_0x3c7e39}},'required':['topic',_0x3030cc(0xbc3)]};try{const _0x4b4fd7=await callAnalysisApi(_0x21e1be,_0x109e8a);_0x4b4fd7[_0x3030cc(0xb1d)]=!![],studentReadingArea[_0x3030cc(0x707)]['add'](_0x3030cc(0xb5c));const _0x2a5250={...currentDisplayedQuiz[_0x3030cc(0x125)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x4b4fd7[_0x3030cc(0x125)]=_0x2a5250,displayQuizForStudent(_0x4b4fd7);}catch(_0x5bd71b){console['error'](_0x3030cc(0x6aa),_0x5bd71b),showMessage(_0x3030cc(0x650)),showView('student');}}function displayPassFailOnly(_0xd77874,_0x1032b7){const _0xfdb19c=_0x45c2ac,_0x3eae16=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x2aac59=currentDisplayedQuiz[_0xfdb19c(0xb1d)]===!![];let _0x1fce8f='',_0xcba4c8=![];if(_0x2aac59||_0x3eae16!==-0x1){_0xcba4c8=_0x2aac59?_0xd77874===_0x1032b7:_0xd77874>=_0x3eae16;const _0x160ea6=_0xcba4c8?_0xfdb19c(0x84e):'bg-red-100\x20text-red-800',_0xaa6dc2=_0xcba4c8?'ผ่าน':_0xfdb19c(0xbe8);_0x1fce8f=_0xfdb19c(0xa6a)+_0x160ea6+'\x22>'+_0xaa6dc2+'</span></div>';}else _0x1fce8f=_0xfdb19c(0xc7d);let _0x138306=_0xfdb19c(0x78)+currentStudentName+_0xfdb19c(0x98e)+_0x1fce8f+_0xfdb19c(0x3b8);studentResultArea[_0xfdb19c(0x6ef)]=_0x138306,studentResultArea[_0xfdb19c(0x707)][_0xfdb19c(0x6d1)](_0xfdb19c(0xb5c)),studentQuizArea['classList'][_0xfdb19c(0xbfd)](_0xfdb19c(0xb5c)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0xcba4c8});}function cancelAdminTest(){const _0xd9feaa=_0x45c2ac;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener']('fullscreenchange',handleFullscreenChange),document['removeEventListener'](_0xd9feaa(0x9af),handleVisibilityChange),currentMode=_0xd9feaa(0x11d),studentView['classList'][_0xd9feaa(0xbfd)](_0xd9feaa(0xb5c)),adminView[_0xd9feaa(0x707)]['remove'](_0xd9feaa(0xb5c)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0xd9feaa(0x56d));}function setupResultScreenBackButton(_0x2db3fb){const _0x4a5c6a=_0x45c2ac,_0x273952={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x2db3fb};if(_0x273952[_0x4a5c6a(0x5d8)]){const _0x1c16f6=_0x4a5c6a(0xa60);studentResultArea[_0x4a5c6a(0xd37)]('beforeend',_0x1c16f6),document[_0x4a5c6a(0x286)](_0x4a5c6a(0xee))[_0x4a5c6a(0x504)](_0x4a5c6a(0x936),()=>{const _0x5d13e8=_0x4a5c6a;studentResultArea[_0x5d13e8(0x707)][_0x5d13e8(0xbfd)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x2c4f3a=_0x4a5c6a(0x31c),_0x199dea=currentMode==='admin-testing',_0x150114=_0x199dea?_0x4a5c6a(0x1f9):_0x4a5c6a(0x9b6);let _0x4f68a7='';_0x273952[_0x4a5c6a(0x5fd)]&&(_0x4f68a7+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x5732a0=_0x273952[_0x4a5c6a(0x301)];_0x5732a0===undefined&&(_0x5732a0=_0x273952[_0x4a5c6a(0x248)]<_0x273952[_0x4a5c6a(0xc06)]);_0x5732a0&&(_0x4f68a7+=_0x4a5c6a(0x839));_0x4f68a7+=_0x4a5c6a(0x88e)+_0x2c4f3a+_0x4a5c6a(0x31b)+_0x150114+'</button>';const _0x3c63f8='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x4f68a7+_0x4a5c6a(0x6c2);studentResultArea[_0x4a5c6a(0xd37)]('beforeend',_0x3c63f8),studentResultArea[_0x4a5c6a(0x443)](_0x4a5c6a(0x180))?.[_0x4a5c6a(0x504)](_0x4a5c6a(0x936),handleShowStudentRankings);const _0x1bfa21=studentResultArea['querySelector'](_0x4a5c6a(0x69b));_0x1bfa21&&_0x1bfa21[_0x4a5c6a(0x504)](_0x4a5c6a(0x936),()=>{const _0x5f1979=_0x4a5c6a;studentResultArea[_0x5f1979(0x707)]['add'](_0x5f1979(0xb5c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x4a5c6a(0x286)](_0x2c4f3a)[_0x4a5c6a(0x504)]('click',()=>{const _0x546954=_0x4a5c6a;_0x199dea?(currentMode=_0x546954(0x11d),studentView[_0x546954(0x707)][_0x546954(0xbfd)](_0x546954(0xb5c)),adminView['classList'][_0x546954(0x6d1)]('hidden'),showView(_0x546954(0x56d))):(showView(_0x546954(0x509)),document[_0x546954(0x286)]('quiz-id-input')[_0x546954(0x227)]='');});}function displayResultsWithAnswers(_0xf151f7,_0x27fef4,_0xbd31b5,_0x2265f9,_0x50a60b,_0x587b46=![]){const _0x1fdcd2=_0x45c2ac,_0x1ed962=_0x50a60b>0x0?_0xf151f7/_0x50a60b*0x64:0x0,_0x455637=currentDisplayedQuiz[_0x1fdcd2(0x125)]?.['passingScore']??-0x1,_0x3ddafe=currentDisplayedQuiz['isRemedial']===!![];let _0x242fb8='';if(_0x3ddafe||_0x455637!==-0x1){let _0x558888=_0x3ddafe?_0xf151f7===_0x50a60b:_0xf151f7>=_0x455637;const _0x57446b=_0x558888?_0x1fdcd2(0x84e):'bg-red-100\x20text-red-800',_0x2e01f7=_0x558888?_0x1fdcd2(0x753):_0x1fdcd2(0xbe8);_0x242fb8=_0x1fdcd2(0x5f5)+_0x57446b+'\x22>'+_0x2e01f7+_0x1fdcd2(0x761);}let _0x1fdf36=_0x1fdcd2(0xbee)+currentStudentName+_0x1fdcd2(0x356)+_0xf151f7+_0x1fdcd2(0xa1)+_0x50a60b+_0x1fdcd2(0xa6c)+_0x242fb8+_0x1fdcd2(0x153)+_0x27fef4+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x1ed962[_0x1fdcd2(0x58a)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x1fdcd2(0xbc3)][_0x1fdcd2(0x94d)]((_0x3610a1,_0x1e9ca6)=>{const _0x26667e=_0x1fdcd2,_0x55c513=_0x2265f9[_0x1e9ca6],_0x523669=_0x55c513['answer'],_0x56bea0=_0x55c513['isCorrect'],_0x4cfd4a=_0x3610a1[_0x26667e(0x9f5)]||currentDisplayedQuiz[_0x26667e(0x480)];_0x1fdf36+=_0x26667e(0x460)+(_0x56bea0?'border-green-300\x20bg-green-50':_0x26667e(0x17a))+_0x26667e(0x35f)+(_0x1e9ca6+0x1)+'.\x20'+(_0x3610a1[_0x26667e(0xcfa)]||_0x3610a1['questionText'])+_0x26667e(0x992);switch(_0x4cfd4a){case _0x26667e(0x2d6):const _0x3ca402=_0x523669||'ไม่ได้ตอบ',_0x2a3952=_0x3610a1['correctResponse'];_0x1fdf36+=_0x26667e(0x660)+(!_0x56bea0?'line-through\x20text-red-700':'')+'\x22>'+_0x3ca402+'</span></p>';!_0x56bea0&&(_0x1fdf36+=_0x26667e(0x44c)+_0x2a3952+_0x26667e(0x761));break;case _0x26667e(0x27d):_0x1fdf36+=_0x26667e(0xa88)+(_0x523669||'ไม่ได้ตอบ')+_0x26667e(0x761),_0x1fdf36+=_0x26667e(0x2d4)+_0x3610a1[_0x26667e(0x555)]+_0x26667e(0x761);break;case _0x26667e(0xcbb):_0x1fdf36+='<p\x20class=\x22'+(_0x3610a1[_0x26667e(0xc42)]===!![]?_0x26667e(0x7ba):'')+'\x20'+(_0x523669==='true'&&!_0x56bea0?_0x26667e(0x569):'')+_0x26667e(0x65c),_0x1fdf36+=_0x26667e(0xb75)+(_0x3610a1[_0x26667e(0xc42)]===![]?_0x26667e(0x7ba):'')+'\x20'+(_0x523669===_0x26667e(0x70c)&&!_0x56bea0?_0x26667e(0x569):'')+_0x26667e(0xbcd);break;default:_0x1fdf36+=_0x3610a1[_0x26667e(0xa07)][_0x26667e(0x764)]((_0x344f92,_0x4b5715)=>{const _0x3fa5c5=_0x26667e;let _0x4fb294='',_0x378aa1='';if(_0x4b5715===_0x3610a1[_0x3fa5c5(0xc51)])_0x4fb294=_0x3fa5c5(0x7ba),_0x378aa1=_0x3fa5c5(0x216);else _0x4b5715===_0x523669&&(_0x4fb294='font-bold\x20text-red-700\x20line-through',_0x378aa1=_0x3fa5c5(0x683));return _0x3fa5c5(0xa9f)+_0x4fb294+'\x22>'+_0x378aa1+_0x344f92+_0x3fa5c5(0x6c2);})[_0x26667e(0x6da)]('');break;}_0x1fdf36+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x3610a1[_0x26667e(0x7ec)]||_0x26667e(0x188))+_0x26667e(0x6c2);if(!_0x56bea0){const _0x4d1f28=_0x3610a1[_0x26667e(0xcfa)]||_0x3610a1[_0x26667e(0x3a5)];_0x1fdf36+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x4d1f28)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x1fdf36+=_0x26667e(0x6c2);}),studentResultArea[_0x1fdcd2(0x6ef)]=_0x1fdf36,renderEarnedBadges(_0xbd31b5,'earned-badges-container'),studentResultArea[_0x1fdcd2(0x707)][_0x1fdcd2(0x6d1)](_0x1fdcd2(0xb5c)),studentQuizArea[_0x1fdcd2(0x707)][_0x1fdcd2(0xbfd)](_0x1fdcd2(0xb5c)),setupResultScreenBackButton({'isLooping':_0x587b46,'score':_0xf151f7,'totalQuestions':_0x50a60b,'showRankings':!![]});if(window['MathJax'])window[_0x1fdcd2(0x36f)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x352165,_0x1656f7,_0x3ab9c1,_0x46e827){const _0x855d8a=_0x45c2ac,_0x1b0081=_0x46e827>0x0?_0x352165/_0x46e827*0x64:0x0,_0xf4281b=currentDisplayedQuiz[_0x855d8a(0x125)]?.[_0x855d8a(0xbd7)]??-0x1,_0x4fb182=currentDisplayedQuiz[_0x855d8a(0xb1d)]===!![];let _0x572dd8='';if(_0x4fb182||_0xf4281b!==-0x1){let _0xa46b1a=_0x4fb182?_0x352165===_0x46e827:_0x352165>=_0xf4281b;const _0x5eb967=_0xa46b1a?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x411183=_0xa46b1a?_0x855d8a(0x753):'ไม่ผ่าน';_0x572dd8=_0x855d8a(0x5f5)+_0x5eb967+'\x22>'+_0x411183+_0x855d8a(0x761);}let _0x25c5c6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x855d8a(0x9ff)+_0x352165+_0x855d8a(0xcf6)+_0x46e827+_0x855d8a(0xa6c)+_0x572dd8+_0x855d8a(0x153)+_0x1656f7+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x1b0081[_0x855d8a(0x58a)](0x0)+_0x855d8a(0x1d5);studentResultArea['innerHTML']=_0x25c5c6,renderEarnedBadges(_0x3ab9c1,_0x855d8a(0x73)),studentResultArea[_0x855d8a(0x707)]['remove'](_0x855d8a(0xb5c)),studentQuizArea[_0x855d8a(0x707)][_0x855d8a(0xbfd)]('hidden'),setupResultScreenBackButton({'score':_0x352165,'totalQuestions':_0x46e827,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x13ba29=_0x45c2ac;let _0x3d759f=_0x13ba29(0x212)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x13ba29(0x6ef)]=_0x3d759f,studentResultArea['classList'][_0x13ba29(0x6d1)](_0x13ba29(0xb5c)),studentQuizArea[_0x13ba29(0x707)][_0x13ba29(0xbfd)](_0x13ba29(0xb5c)),document['getElementById'](_0x13ba29(0x217))[_0x13ba29(0x504)]('click',()=>{const _0x1bd580=_0x13ba29;showView('student'),document[_0x1bd580(0x286)](_0x1bd580(0x807))[_0x1bd580(0x227)]='';});}function renderEarnedBadges(_0x28960a,_0x463c7c){const _0x5864db=_0x45c2ac,_0x38c7f3=document[_0x5864db(0x286)](_0x463c7c);if(!_0x38c7f3||!_0x28960a||_0x28960a[_0x5864db(0xb81)]===0x0)return;let _0x1eeced='';_0x28960a[_0x5864db(0x94d)]((_0x4b90b0,_0x4f2aff)=>{const _0x3452e4=_0x5864db,_0x29d07b=Object[_0x3452e4(0xa8e)](BADGES)[_0x3452e4(0x7c7)](_0x3d1de8=>_0x3d1de8['id']===_0x4b90b0);_0x29d07b&&(_0x1eeced+=_0x3452e4(0x339)+_0x4f2aff*0.2+_0x3452e4(0x2f8)+_0x29d07b[_0x3452e4(0xc5d)]+_0x3452e4(0xd0d)+_0x29d07b[_0x3452e4(0x6b9)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x29d07b['name']+_0x3452e4(0x6e0));}),_0x38c7f3[_0x5864db(0x6ef)]=_0x1eeced;}function startPresentation(_0x14c6a7){const _0x1e9909=_0x45c2ac;currentQuizData=getShuffledQuiz(_0x14c6a7),currentPresentationSlide=0x0,presentationModal[_0x1e9909(0x760)]['display']=_0x1e9909(0x1b0),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x5b1963=_0x45c2ac;document[_0x5b1963(0x49a)]&&document[_0x5b1963(0x5b5)](),presentationModal['style'][_0x5b1963(0xb19)]=_0x5b1963(0x5ba);}function renderPresentationSlide(_0x51845f){const _0x455dc1=_0x45c2ac,_0x2128b3=document['getElementById']('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x455dc1(0xbc3)]||!currentQuizData[_0x455dc1(0xbc3)][_0x51845f]){_0x2128b3[_0x455dc1(0x6ef)]=_0x455dc1(0x2c0);return;}const _0x4670ab=currentQuizData[_0x455dc1(0xbc3)][_0x51845f],_0x56446c=_0x4670ab['questionType']||currentQuizData['quizType'];_0x2128b3['innerHTML']='';let _0x3ed65c=_0x455dc1(0xaa5)+(_0x4670ab[_0x455dc1(0xb04)]?_0x455dc1(0x29c)+_0x4670ab[_0x455dc1(0xb04)]+_0x455dc1(0x6c2):'')+_0x455dc1(0x410)+(_0x51845f+0x1)+'.\x20'+(_0x4670ab[_0x455dc1(0xcfa)]||_0x4670ab[_0x455dc1(0x3a5)])+_0x455dc1(0x14c);switch(_0x56446c){case'matching_item':_0x3ed65c+=_0x4670ab[_0x455dc1(0xeb)][_0x455dc1(0x764)](_0x3e8bc4=>_0x455dc1(0x686)+_0x3e8bc4+_0x455dc1(0x2a6))['join']('');break;case'true_false':_0x3ed65c+=_0x455dc1(0x21c),_0x3ed65c+=_0x455dc1(0x35e);break;case _0x455dc1(0x12e):case'short_answer':_0x3ed65c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'fill_in_the_blank':case _0x455dc1(0xb86):default:_0x3ed65c+=_0x4670ab[_0x455dc1(0xa07)][_0x455dc1(0x764)]((_0x26f882,_0x4a9874)=>_0x455dc1(0x90)+_0x4a9874+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x26f882+_0x455dc1(0x2a6))[_0x455dc1(0x6da)]('');break;}_0x3ed65c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x4670ab[_0x455dc1(0x7ec)]||_0x455dc1(0x188))+_0x455dc1(0x727),_0x2128b3[_0x455dc1(0x6ef)]=_0x3ed65c;if(window['MathJax'])window[_0x455dc1(0x36f)][_0x455dc1(0x8c4)]([_0x2128b3]);let _0xa64dfb=[];switch(_0x56446c){case _0x455dc1(0x2d6):_0xa64dfb=_0x4670ab[_0x455dc1(0xeb)]||[];break;case _0x455dc1(0xcbb):_0xa64dfb=[_0x455dc1(0x619),'ไม่ใช่'];break;default:_0xa64dfb=_0x4670ab[_0x455dc1(0xa07)]||[];break;}const _0x18f16e=document[_0x455dc1(0x286)](_0x455dc1(0x108));_0x18f16e&&(_0x18f16e[_0x455dc1(0x2d8)]=()=>{openScratchpad(_0x4670ab,_0xa64dfb);});document['querySelectorAll'](_0x455dc1(0x5fe))[_0x455dc1(0x94d)](_0x5e3e5e=>{const _0x14da37=_0x455dc1;_0x5e3e5e['addEventListener'](_0x14da37(0x936),_0x32f9de=>revealAnswerForPresentation(_0x51845f,_0x32f9de[_0x14da37(0x617)]));});const _0x21d3aa=document[_0x455dc1(0x286)](_0x455dc1(0xd31));_0x21d3aa&&_0x21d3aa[_0x455dc1(0x504)](_0x455dc1(0x936),()=>checkShortAnswerForPresentation(_0x51845f)),document['getElementById'](_0x455dc1(0x738))[_0x455dc1(0x10e)]=_0x455dc1(0x13f)+(_0x51845f+0x1)+_0x455dc1(0x234)+currentQuizData['questions'][_0x455dc1(0xb81)],document[_0x455dc1(0x286)]('prev-question-btn')[_0x455dc1(0x790)]=_0x51845f===0x0,document['getElementById']('next-question-btn')['disabled']=_0x51845f===currentQuizData[_0x455dc1(0xbc3)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x45fd1c){const _0xf68c6b=_0x45c2ac,_0x549925=currentQuizData[_0xf68c6b(0xbc3)][_0x45fd1c],_0x797c77=document['getElementById'](_0xf68c6b(0x179)),_0x58b21d=document[_0xf68c6b(0x286)]('check-presentation-answer-btn'),_0x470f06=document['getElementById']('presentation-ai-result'),_0x20377a=document['getElementById']('presentation-explanation');if(!_0x797c77||!_0x58b21d||!_0x470f06||!_0x20377a)return;const _0x59a268=_0x797c77['value'][_0xf68c6b(0x543)]();if(_0x59a268==='')return;_0x58b21d[_0xf68c6b(0x790)]=!![],_0x58b21d[_0xf68c6b(0x6ef)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x797c77[_0xf68c6b(0x790)]=!![];const _0x42efb0=await gradeShortAnswer(_0x59a268,_0x549925);_0x42efb0?_0x470f06[_0xf68c6b(0x6ef)]=_0xf68c6b(0x2b9):_0x470f06[_0xf68c6b(0x6ef)]=_0xf68c6b(0x65b)+_0x549925[_0xf68c6b(0x555)]+')',_0x470f06['classList'][_0xf68c6b(0x6d1)](_0xf68c6b(0xb5c)),_0x20377a[_0xf68c6b(0x707)][_0xf68c6b(0x6d1)]('hidden'),_0x58b21d[_0xf68c6b(0x707)][_0xf68c6b(0xbfd)](_0xf68c6b(0xb5c));}function revealAnswerForPresentation(_0xc7b235,_0x4d9f71){const _0x3b4178=_0x45c2ac,_0x5d4cd1=currentQuizData[_0x3b4178(0xbc3)][_0xc7b235],_0x795cea=_0x5d4cd1['questionType']||currentQuizData[_0x3b4178(0x480)];document['querySelectorAll'](_0x3b4178(0x5fe))[_0x3b4178(0x94d)](_0x1b7dea=>{const _0x240af0=_0x3b4178;_0x1b7dea[_0x240af0(0x790)]=!![],_0x1b7dea[_0x240af0(0x707)][_0x240af0(0x6d1)]('hover:bg-indigo-100');let _0x51104b=![];if(_0x795cea===_0x240af0(0xb86)||_0x795cea===_0x240af0(0x347)){const _0x3489f3=parseInt(_0x1b7dea[_0x240af0(0x24b)][_0x240af0(0x815)]);_0x51104b=_0x3489f3===_0x5d4cd1[_0x240af0(0xc51)];}else{if(_0x795cea==='true_false'){const _0x535591=_0x1b7dea['dataset']['answer']===_0x240af0(0x160);_0x51104b=_0x535591===_0x5d4cd1['correctAnswer'];}else _0x795cea===_0x240af0(0x2d6)&&(_0x51104b=_0x1b7dea[_0x240af0(0x10e)][_0x240af0(0x543)]()===_0x5d4cd1[_0x240af0(0x7a5)]);}_0x51104b?_0x1b7dea[_0x240af0(0x707)][_0x240af0(0xbfd)](_0x240af0(0x8ee),_0x240af0(0x29a),_0x240af0(0xa1f)):_0x1b7dea['classList']['add'](_0x240af0(0x559));}),_0x4d9f71[_0x3b4178(0x707)]['remove'](_0x3b4178(0x559));let _0x23610=![];if(_0x795cea===_0x3b4178(0xb86))_0x23610=parseInt(_0x4d9f71[_0x3b4178(0x24b)]['index'])===_0x5d4cd1[_0x3b4178(0xc51)];else{if(_0x795cea===_0x3b4178(0xcbb))_0x23610=_0x4d9f71[_0x3b4178(0x24b)][_0x3b4178(0xa53)]===_0x3b4178(0x160)===_0x5d4cd1[_0x3b4178(0xc42)];else _0x795cea===_0x3b4178(0x2d6)&&(_0x23610=_0x4d9f71['textContent'][_0x3b4178(0x543)]()===_0x5d4cd1[_0x3b4178(0x7a5)]);}!_0x23610&&_0x4d9f71[_0x3b4178(0x707)][_0x3b4178(0xbfd)](_0x3b4178(0x745),_0x3b4178(0x29a),'border-red-700'),document[_0x3b4178(0x286)](_0x3b4178(0xa6b))[_0x3b4178(0x707)][_0x3b4178(0x6d1)]('hidden');}function startWholeQuizTimer(_0x3cbd92){const _0x1170bf=_0x45c2ac,_0x2c6b2f=document[_0x1170bf(0x286)](_0x1170bf(0xab8));if(!_0x2c6b2f)return;const _0x385868=Date['now']()+_0x3cbd92*0x3c*0x3e8;_0x2c6b2f[_0x1170bf(0x6ef)]=_0x1170bf(0x13b);const _0x2a3b47=document[_0x1170bf(0x286)](_0x1170bf(0x5a6));quizTimerInterval=setInterval(()=>{const _0x4d9398=_0x1170bf,_0x190359=_0x385868-Date['now']();if(_0x190359<=0x0)clearInterval(quizTimerInterval),_0x2a3b47[_0x4d9398(0x10e)]=_0x4d9398(0xa89),showMessage(_0x4d9398(0x7da)),handleSubmitQuiz(null);else{const _0x3a8e7c=Math[_0x4d9398(0xb7e)](_0x190359/0x3e8/0x3c%0x3c)[_0x4d9398(0xe2)]()[_0x4d9398(0xd4)](0x2,'0'),_0x36500c=Math[_0x4d9398(0xb7e)](_0x190359/0x3e8%0x3c)[_0x4d9398(0xe2)]()[_0x4d9398(0xd4)](0x2,'0');_0x2a3b47[_0x4d9398(0x10e)]=_0x3a8e7c+':'+_0x36500c;}},0x3e8);}function renderPerQuestionView(){const _0x5db91d=_0x45c2ac;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0xa4e3fb=currentDisplayedQuiz[_0x5db91d(0xbc3)][currentQuestionIndex],_0x17f6b7=_0xa4e3fb[_0x5db91d(0x9f5)]||currentDisplayedQuiz[_0x5db91d(0x480)],_0x351067=currentDisplayedQuiz[_0x5db91d(0x125)]?.[_0x5db91d(0x99)]===!![];let _0x235324='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x5db91d(0x362)+currentDisplayedQuiz['questions'][_0x5db91d(0xb81)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?_0x5db91d(0x8af):'')+_0x5db91d(0x1df)+currentDisplayedQuiz[_0x5db91d(0x26f)]+_0x5db91d(0xcac);studentQuizArea[_0x5db91d(0x6ef)]=_0x235324;let _0x21e4c5=_0xa4e3fb['stem']||_0xa4e3fb[_0x5db91d(0x3a5)];_0xa4e3fb[_0x5db91d(0xb04)]&&(_0x21e4c5+=_0x5db91d(0x29c)+_0xa4e3fb[_0x5db91d(0xb04)]+_0x5db91d(0x6c2));let _0x1fdd2c='';switch(_0x17f6b7){case _0x5db91d(0x27d):case'fill_in_no_choices':_0x1fdd2c=_0x5db91d(0x84c);break;case _0x5db91d(0xcbb):_0x1fdd2c=_0x5db91d(0x38b);break;case _0x5db91d(0x2d6):_0x1fdd2c=_0x5db91d(0xd1c)+(_0xa4e3fb[_0x5db91d(0xeb)]||[])[_0x5db91d(0x764)](_0x1223fe=>_0x5db91d(0xba2)+_0x1223fe+'\x22>'+_0x1223fe+_0x5db91d(0x978))[_0x5db91d(0x6da)]('')+_0x5db91d(0x8e7);break;default:_0xa4e3fb[_0x5db91d(0xa07)]&&(_0x1fdd2c=_0xa4e3fb[_0x5db91d(0xa07)][_0x5db91d(0x764)]((_0x48d78c,_0x1acb61)=>_0x5db91d(0x271)+_0x1acb61+_0x5db91d(0xc58)+_0x1acb61+_0x5db91d(0x793)+_0x1acb61+'\x22>'+_0x48d78c+_0x5db91d(0x42b))[_0x5db91d(0x6da)](''));break;}document[_0x5db91d(0x286)]('per-question-text')['innerHTML']=_0x21e4c5,document['getElementById'](_0x5db91d(0x682))[_0x5db91d(0x6ef)]=_0x1fdd2c;const _0xfc26a4=currentDisplayedQuiz[_0x5db91d(0x125)]?.[_0x5db91d(0x99)]===!![],_0x2f5e2b=currentDisplayedQuiz[_0x5db91d(0x125)]?.[_0x5db91d(0x4a3)]||_0x5db91d(0xbae);if(_0xfc26a4&&_0x2f5e2b===_0x5db91d(0xbae)){const _0x3fd42c=_0x5db91d(0x472);studentQuizArea[_0x5db91d(0x443)](_0x5db91d(0x481))[_0x5db91d(0xd37)]('beforeend',_0x3fd42c);}studentQuizArea['insertAdjacentHTML'](_0x5db91d(0x47f),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x5db91d(0xbc3)][_0x5db91d(0xb81)]-0x1?_0x5db91d(0x26b):_0x5db91d(0x5aa))+_0x5db91d(0x345));currentMode===_0x5db91d(0x898)&&document[_0x5db91d(0x286)](_0x5db91d(0x39f))?.[_0x5db91d(0x504)](_0x5db91d(0x936),cancelAdminTest);document[_0x5db91d(0x286)](_0x5db91d(0x9d1))[_0x5db91d(0x504)](_0x5db91d(0x936),()=>handleNextQuestionInTimedMode(![]));if(window[_0x5db91d(0x36f)])window[_0x5db91d(0x36f)]['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0x5db91d(0x125)]?.[_0x5db91d(0xcda)]===_0x5db91d(0xcce)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x5b3bc8=_0x45c2ac,_0x146220=currentDisplayedQuiz[_0x5b3bc8(0x125)]['timerDuration'],_0x3f574b=document[_0x5b3bc8(0x286)](_0x5b3bc8(0x7c2));if(!_0x3f574b)return;let _0x9d991c=_0x146220;_0x3f574b[_0x5b3bc8(0x6ef)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x9d991c+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x290f3e=document[_0x5b3bc8(0x286)](_0x5b3bc8(0xa4d)),_0x323a65=document['getElementById'](_0x5b3bc8(0x56a));perQuestionTimerInterval=setInterval(()=>{const _0x57f866=_0x5b3bc8;_0x9d991c--;const _0x51ef53=_0x9d991c/_0x146220*0x64;_0x290f3e[_0x57f866(0x760)][_0x57f866(0x710)]=_0x51ef53+'%',_0x323a65['textContent']=_0x9d991c,_0x9d991c<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x3b873a=![]){const _0x132541=_0x45c2ac;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x563f89=null,_0x5aa853=![];if(!_0x3b873a){const _0x96562b=currentDisplayedQuiz[_0x132541(0xbc3)][currentQuestionIndex],_0x1fef91=_0x96562b[_0x132541(0x9f5)]||currentDisplayedQuiz['quizType'];if(_0x1fef91===_0x132541(0x27d)||_0x1fef91===_0x132541(0x12e))_0x563f89=document['querySelector'](_0x132541(0x78c))?.[_0x132541(0x227)][_0x132541(0x543)]()??'';else{if(_0x1fef91===_0x132541(0x2d6))_0x563f89=document[_0x132541(0x443)](_0x132541(0x948))?.[_0x132541(0x227)]??'';else{const _0x3897c6=document[_0x132541(0x443)]('input[name=\x22question_single\x22]:checked');_0x3897c6&&(_0x563f89=_0x3897c6[_0x132541(0x227)]);}}if(_0x563f89===null||_0x563f89===''){showMessage(_0x132541(0xb2f)),startPerQuestionTimer();return;}const _0x515790=currentDisplayedQuiz[_0x132541(0x125)]?.[_0x132541(0x99)]===!![],_0x497bda=currentDisplayedQuiz[_0x132541(0x125)]?.['confidenceMode']||_0x132541(0xbae);if(_0x515790&&_0x497bda===_0x132541(0x396)){document['getElementById'](_0x132541(0x7f))[_0x132541(0x24b)][_0x132541(0xb76)]=_0x132541(0x642),document['getElementById'](_0x132541(0xc53))['value']=_0x563f89,document[_0x132541(0x286)]('confidence-modal')[_0x132541(0x707)][_0x132541(0x6d1)]('hidden');return;}const _0x522033=document[_0x132541(0x286)](_0x132541(0xc1c));_0x522033&&(_0x5aa853=_0x522033['checked']);}const _0x47124c={'answer':_0x563f89,'wasConfident':_0x5aa853};proceedToNextQuestion(_0x47124c);}async function finalizePerQuestionQuiz(){const _0x1ef89d=_0x45c2ac,_0x3711de=currentDisplayedQuiz[_0x1ef89d(0xbc3)][_0x1ef89d(0x8cd)](_0x5e8106=>_0x5e8106['questionType']===_0x1ef89d(0x27d));_0x3711de?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x1ef89d(0xcb4));const _0x5ee084=currentQuizData['id'],_0x539a3e=doc(db,_0x1ef89d(0x47d)+appId+'/public/data/quizzes/'+_0x5ee084+_0x1ef89d(0x9d4),currentStudentName),_0x1affa4=await getDoc(_0x539a3e),_0x1d8adf=_0x1affa4[_0x1ef89d(0x6cc)]()?_0x1affa4[_0x1ef89d(0x10a)]():{},_0x294c84=_0x1d8adf[_0x1ef89d(0xcc4)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x294c84);}function getResultsFilename(){const _0x56f12f=_0x45c2ac,_0x321c3d=document[_0x56f12f(0x286)](_0x56f12f(0x466))[_0x56f12f(0x10e)][_0x56f12f(0xc3b)](/[^a-z0-9]/gi,'_')[_0x56f12f(0x3f0)]();return _0x56f12f(0x3ff)+(_0x321c3d||_0x56f12f(0xa8));}function exportResultsAsImage(){const _0x438839=_0x45c2ac,_0x397dd0=document[_0x438839(0x286)](_0x438839(0x365));showMessage(_0x438839(0xb06)),html2canvas(_0x397dd0)[_0x438839(0x549)](_0x540935=>{const _0x280a44=_0x438839,_0x30698e=document['createElement']('a');_0x30698e['download']=getResultsFilename()+_0x280a44(0x83),_0x30698e['href']=_0x540935['toDataURL']('image/png'),_0x30698e['click'](),messageModal[_0x280a44(0x707)][_0x280a44(0xbfd)](_0x280a44(0xb5c));});}function exportResultsAsPDF(){const _0x6ed60d=_0x45c2ac,{jsPDF:_0x395c11}=window[_0x6ed60d(0x3f3)],_0xea0321=new _0x395c11();_0xea0321[_0x6ed60d(0x74d)](_0x6ed60d(0xa1c),_0x6ed60d(0x54e)),_0xea0321['autoTable']({'html':_0x6ed60d(0x103)}),_0xea0321[_0x6ed60d(0x1c1)](getResultsFilename()+_0x6ed60d(0x802));}function exportResultsAsWord(){const _0x5e831d=_0x45c2ac,_0x132d29=_0x5e831d(0x97)+_0x5e831d(0xb8)+_0x5e831d(0x7c1)+_0x5e831d(0x8e6),_0x3be719=_0x5e831d(0x8fa),_0x1d9179=_0x132d29+document[_0x5e831d(0x286)]('results-table-container')[_0x5e831d(0x6ef)]+_0x3be719,_0x5b9e8e=_0x5e831d(0x777)+encodeURIComponent(_0x1d9179),_0x36c2aa=document[_0x5e831d(0x3f2)]('a');document[_0x5e831d(0xb1)][_0x5e831d(0x395)](_0x36c2aa),_0x36c2aa[_0x5e831d(0x840)]=_0x5b9e8e,_0x36c2aa[_0x5e831d(0x7bb)]=getResultsFilename()+_0x5e831d(0x627),_0x36c2aa[_0x5e831d(0x936)](),document[_0x5e831d(0xb1)]['removeChild'](_0x36c2aa);}function exportResultsAsExcel(){const _0x1291b8=_0x45c2ac,_0x2fd576=document[_0x1291b8(0x286)](_0x1291b8(0xa3b));let _0x1c8eb7=[];for(let _0xa86ae=0x0;_0xa86ae<_0x2fd576['rows']['length'];_0xa86ae++){let _0xb9acfd=[],_0x41e7bf=_0x2fd576['rows'][_0xa86ae]['querySelectorAll'](_0x1291b8(0x2e1));for(let _0x1f898f=0x0;_0x1f898f<_0x41e7bf[_0x1291b8(0xb81)];_0x1f898f++){_0xb9acfd[_0x1291b8(0xcec)]('\x22'+_0x41e7bf[_0x1f898f][_0x1291b8(0x654)][_0x1291b8(0xc3b)](/"/g,'\x22\x22')+'\x22');}_0x1c8eb7[_0x1291b8(0xcec)](_0xb9acfd[_0x1291b8(0x6da)](','));}const _0x3b83b5=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1c8eb7[_0x1291b8(0x6da)]('\x0a')],{'type':_0x1291b8(0xb4a)}),_0x398c3c=document[_0x1291b8(0x3f2)]('a');_0x398c3c[_0x1291b8(0x840)]=URL[_0x1291b8(0xaf0)](_0x3b83b5),_0x398c3c[_0x1291b8(0x7bb)]=getResultsFilename()+'.csv',_0x398c3c[_0x1291b8(0x936)]();}function exportTableAsImage(_0x2521bd,_0x562796){const _0xc2883=_0x45c2ac,_0x22943c=document[_0xc2883(0x286)](_0x2521bd);if(!_0x22943c){showMessage(_0xc2883(0x2b6));return;}showMessage(_0xc2883(0xb06)),html2canvas(_0x22943c)[_0xc2883(0x549)](_0x40b8ee=>{const _0x3f9bd5=_0xc2883,_0x25c10b=document['createElement']('a');_0x25c10b[_0x3f9bd5(0x7bb)]=_0x562796+'.png',_0x25c10b[_0x3f9bd5(0x840)]=_0x40b8ee[_0x3f9bd5(0x763)](_0x3f9bd5(0x7cc)),_0x25c10b['click'](),messageModal[_0x3f9bd5(0x707)]['add'](_0x3f9bd5(0xb5c));});}function exportTableAsPDF(_0x162f74,_0x5befdd){const _0x156501=_0x45c2ac,{jsPDF:_0x6e044c}=window['jspdf'],_0x2144d9=new _0x6e044c();_0x2144d9[_0x156501(0x74d)](_0x156501(0xa1c),_0x156501(0x54e)),_0x2144d9[_0x156501(0xa95)]({'html':'#'+_0x162f74}),_0x2144d9[_0x156501(0x1c1)](_0x5befdd+_0x156501(0x802));}function exportTableAsWord(_0x506e38,_0x203852){const _0x5b37d2=_0x45c2ac,_0x22b444=document[_0x5b37d2(0x286)](_0x506e38);if(!_0x22b444){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x1429f5=_0x5b37d2(0x97)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x5b37d2(0x8e6),_0x54cd0b=_0x5b37d2(0x8fa),_0x2ed85c=_0x1429f5+_0x22b444['innerHTML']+_0x54cd0b,_0x3867c=_0x5b37d2(0x777)+encodeURIComponent(_0x2ed85c),_0x34d54b=document[_0x5b37d2(0x3f2)]('a');document['body'][_0x5b37d2(0x395)](_0x34d54b),_0x34d54b[_0x5b37d2(0x840)]=_0x3867c,_0x34d54b[_0x5b37d2(0x7bb)]=_0x203852+_0x5b37d2(0x627),_0x34d54b[_0x5b37d2(0x936)](),document['body'][_0x5b37d2(0x1d8)](_0x34d54b);}function exportTableAsExcel(_0x35ad08,_0x26dda6){const _0x1d73f3=_0x45c2ac,_0x7cf852=document[_0x1d73f3(0x286)](_0x35ad08);if(!_0x7cf852){showMessage(_0x1d73f3(0x2b6));return;}let _0x3194de=[];for(let _0x114e9d=0x0;_0x114e9d<_0x7cf852['rows']['length'];_0x114e9d++){let _0x27f0bb=[],_0x54c9a4=_0x7cf852['rows'][_0x114e9d][_0x1d73f3(0x640)](_0x1d73f3(0x2e1));for(let _0x4e78c3=0x0;_0x4e78c3<_0x54c9a4[_0x1d73f3(0xb81)];_0x4e78c3++){_0x27f0bb[_0x1d73f3(0xcec)]('\x22'+_0x54c9a4[_0x4e78c3][_0x1d73f3(0x654)][_0x1d73f3(0xc3b)](/"/g,'\x22\x22')+'\x22');}_0x3194de[_0x1d73f3(0xcec)](_0x27f0bb[_0x1d73f3(0x6da)](','));}const _0x4ce189=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x3194de[_0x1d73f3(0x6da)]('\x0a')],{'type':_0x1d73f3(0xb4a)}),_0x42eebc=document[_0x1d73f3(0x3f2)]('a');_0x42eebc[_0x1d73f3(0x840)]=URL[_0x1d73f3(0xaf0)](_0x4ce189),_0x42eebc['download']=_0x26dda6+_0x1d73f3(0x48f),_0x42eebc[_0x1d73f3(0x936)]();}function renderAnalytics(_0x367eb2,_0x54b874){const _0x9930e6=_0x45c2ac,_0x1e45c2=_0x54b874['filter'](_0x8f232b=>_0x8f232b[_0x9930e6(0xa39)]!==undefined),_0x5dcf03=currentProjectData[_0x9930e6(0xcaf)][_0x9930e6(0xb81)],_0x2c0251=_0x1e45c2[_0x9930e6(0xb81)],_0x433b1c=_0x5dcf03-_0x2c0251,_0x5df5a0=_0x5dcf03>0x0?_0x2c0251/_0x5dcf03*0x64:0x0,_0x50f6ab=_0x1e45c2['map'](_0x4fac13=>_0x4fac13['latestScore']),_0x1b9b3c=_0x50f6ab['length']>0x0?_0x50f6ab['reduce']((_0x58529a,_0x4296f0)=>_0x58529a+_0x4296f0,0x0)/_0x50f6ab[_0x9930e6(0xb81)]:0x0,_0x3d7ca4=_0x367eb2[_0x9930e6(0xbc3)][_0x9930e6(0xb81)],_0xa58909=_0x3d7ca4>0x0?_0x1b9b3c/_0x3d7ca4*0x64:0x0,_0xda392f=calculateItemAnalysis(_0x367eb2,_0x1e45c2),_0x1cab3b=calculateReliabilityKR20(_0x367eb2,_0x1e45c2,_0xda392f[_0x9930e6(0x422)]);let _0x31a432='';if(_0x1cab3b!==null){let _0x282c63='';if(_0x1cab3b>=0.9)_0x282c63=_0x9930e6(0x7f3);else{if(_0x1cab3b>=0.8)_0x282c63=_0x9930e6(0x310);else{if(_0x1cab3b>=0.7)_0x282c63='ดี';else{if(_0x1cab3b>=0.6)_0x282c63='พอใช้';else _0x282c63=_0x9930e6(0x7f0);}}}_0x31a432=_0x9930e6(0x1cb)+_0x1cab3b[_0x9930e6(0x58a)](0x2)+_0x9930e6(0xaa0)+_0x282c63+_0x9930e6(0x408);}const _0x264557=document[_0x9930e6(0x286)](_0x9930e6(0x8be));_0x264557['innerHTML']=_0x9930e6(0xa01)+_0x5df5a0['toFixed'](0x0)+_0x9930e6(0x7c)+_0x2c0251+'/'+_0x5dcf03+_0x9930e6(0xc5c)+_0x1b9b3c[_0x9930e6(0x58a)](0x2)+_0x9930e6(0x967)+_0xa58909[_0x9930e6(0x58a)](0x0)+_0x9930e6(0x7c5)+(_0x50f6ab[_0x9930e6(0xb81)]>0x0?Math['max'](..._0x50f6ab):'N/A')+_0x9930e6(0x9f7)+(_0x50f6ab['length']>0x0?Math[_0x9930e6(0x74b)](..._0x50f6ab):_0x9930e6(0x7a0))+_0x9930e6(0x53e)+_0x31a432+_0x9930e6(0x448);const _0x1dc564=document[_0x9930e6(0x286)](_0x9930e6(0x9a1));_0x1dc564&&_0x1dc564[_0x9930e6(0x6d1)]();const _0x54d441=_0x9930e6(0x926);_0x264557[_0x9930e6(0xd37)](_0x9930e6(0xa0c),_0x54d441);const _0x1abfe2=currentProjectData[_0x9930e6(0xcaf)]||[];renderSubmissionChart(_0x2c0251,_0x433b1c,_0x1e45c2,_0x1abfe2),renderScoreDistributionChart(_0x1e45c2,_0x3d7ca4),renderQuestionAnalytics(_0x367eb2,_0x1e45c2,_0x1abfe2),renderInterestingStats(_0x367eb2,_0x1e45c2);}async function handleExportLessonPDF(){const _0x1d9c64=_0x45c2ac,_0x74b9dc=document[_0x1d9c64(0x286)](_0x1d9c64(0x950)),_0x5915bd=document[_0x1d9c64(0x286)]('lesson-plan-title')[_0x1d9c64(0x10e)],_0x4fe760=window[_0x1d9c64(0x733)]('',_0x1d9c64(0x919)),_0x40f7f4=_0x1d9c64(0x975)+_0x5915bd+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x74b9dc[_0x1d9c64(0x6ef)]+_0x1d9c64(0x2a1);_0x4fe760['document'][_0x1d9c64(0x4ea)](_0x40f7f4),_0x4fe760[_0x1d9c64(0x821)][_0x1d9c64(0x7b2)](),_0x4fe760[_0x1d9c64(0x24f)]=function(){setTimeout(()=>{const _0x2e660d=_0x1af4;_0x4fe760[_0x2e660d(0xc0f)]();},0x5dc);};}function renderInterestingStats(_0x35a73c,_0x22554b){const _0xc54b33=_0x45c2ac,_0xc1782b=document[_0xc54b33(0x286)]('interesting-stats-container');if(!_0xc1782b)return;if(_0x22554b[_0xc54b33(0xb81)]===0x0){_0xc1782b[_0xc54b33(0x6ef)]=_0xc54b33(0x31d);return;}const _0x52cbd8=_0x35a73c[_0xc54b33(0xbc3)][_0xc54b33(0x764)]((_0x207c29,_0x4ec02e)=>({'index':_0x4ec02e+0x1,'text':_0x207c29[_0xc54b33(0x3a5)]||_0x207c29[_0xc54b33(0xcfa)],'correct':0x0}));_0x22554b[_0xc54b33(0x94d)](_0x1ae081=>{const _0xb9a93c=_0xc54b33,_0x13be39=_0x1ae081[_0xb9a93c(0xcc4)][_0x1ae081[_0xb9a93c(0xcc4)][_0xb9a93c(0xb81)]-0x1];_0x13be39&&_0x13be39[_0xb9a93c(0x8a5)]&&_0x13be39[_0xb9a93c(0x8a5)]['forEach'](_0x273442=>{const _0x538b64=_0xb9a93c,_0x22a8d8=_0x52cbd8[_0x538b64(0x7c7)](_0x57278d=>_0x57278d[_0x538b64(0x135)]===_0x273442['originalQuestionText']);_0x273442['isCorrect']&&_0x22a8d8&&_0x22a8d8[_0x538b64(0x3bd)]++;});});const _0x626a7=_0x22554b['length'],_0x4e8b0c=Math[_0xc54b33(0x75c)](..._0x52cbd8[_0xc54b33(0x764)](_0x464eec=>_0x464eec[_0xc54b33(0x3bd)])),_0x4b1f0b=Math[_0xc54b33(0x74b)](..._0x52cbd8[_0xc54b33(0x764)](_0x4a2eae=>_0x4a2eae[_0xc54b33(0x3bd)])),_0x3e82b5=_0x52cbd8[_0xc54b33(0x624)](_0x77daaf=>_0x77daaf[_0xc54b33(0x3bd)]===_0x4e8b0c)['map'](_0x28ecc6=>_0xc54b33(0x355)+_0x28ecc6[_0xc54b33(0x815)]),_0x39e758=_0x52cbd8[_0xc54b33(0x624)](_0x33b772=>_0x33b772[_0xc54b33(0x3bd)]===_0x4b1f0b)[_0xc54b33(0x764)](_0x418256=>_0xc54b33(0x355)+_0x418256['index']),_0xbe0a14=_0x22554b['sort']((_0x230524,_0x1fe61d)=>_0x1fe61d['latestScore']-_0x230524[_0xc54b33(0xa39)])[_0xc54b33(0x624)]((_0x5f3811,_0x985088,_0x5b7102)=>_0x5f3811['latestScore']===_0x5b7102[0x0][_0xc54b33(0xa39)]),_0x3db50b=_0x22554b[_0xc54b33(0x276)]((_0x501b8e,_0x44c421)=>_0x501b8e[_0xc54b33(0xa39)]-_0x44c421['latestScore'])['filter']((_0x118d74,_0x55d629,_0x465502)=>_0x118d74[_0xc54b33(0xa39)]===_0x465502[0x0]['latestScore']),_0x42467f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x3e82b5['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x4e8b0c+_0xc54b33(0x234)+_0x626a7+_0xc54b33(0x475)+_0x39e758['join'](',\x20')+_0xc54b33(0x8c9)+(_0x626a7-_0x4b1f0b)+'\x20/\x20'+_0x626a7+_0xc54b33(0xc55)+_0xbe0a14[_0xc54b33(0x764)](_0x98e027=>_0x98e027[_0xc54b33(0x9b7)])[_0xc54b33(0x6da)](',\x20')+_0xc54b33(0xbe6)+_0xbe0a14[0x0][_0xc54b33(0xa39)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x3db50b[_0xc54b33(0x764)](_0x5f4d04=>_0x5f4d04['studentName'])[_0xc54b33(0x6da)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x3db50b[0x0][_0xc54b33(0xa39)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0xc1782b[_0xc54b33(0x6ef)]=_0x42467f;}function renderSubmissionChart(_0x3b7327,_0x27b086,_0x14f727,_0x41d02a){const _0x3d8bc6=_0x45c2ac,_0x215df6=document[_0x3d8bc6(0x286)](_0x3d8bc6(0x960))[_0x3d8bc6(0x299)]('2d'),_0x640f78=_0x14f727[_0x3d8bc6(0x764)](_0x2677d6=>_0x2677d6['studentName']),_0x502292=_0x41d02a[_0x3d8bc6(0x624)](_0xfd58dc=>!_0x640f78[_0x3d8bc6(0x613)](_0xfd58dc));chartInstances[_0x3d8bc6(0x784)]&&chartInstances[_0x3d8bc6(0x784)][_0x3d8bc6(0x19a)](),chartInstances[_0x3d8bc6(0x784)]=new Chart(_0x215df6,{'type':_0x3d8bc6(0x996),'data':{'labels':['ส่งแล้ว','ยังไม่ส่ง'],'datasets':[{'data':[_0x3b7327,_0x27b086],'backgroundColor':['#10B981','#F59E0B'],'borderColor':[_0x3d8bc6(0xaeb),_0x3d8bc6(0xaeb)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x13af8d){const _0x497803=_0x3d8bc6;let _0xe6c3e3=_0x13af8d[_0x497803(0x5c9)]||'';return _0xe6c3e3&&(_0xe6c3e3+=':\x20'),_0xe6c3e3+=_0x13af8d['raw'],_0xe6c3e3;},'afterLabel':function(_0x29231b){const _0x184b42=_0x3d8bc6;let _0x55baec;return _0x29231b[_0x184b42(0x625)]===0x0?_0x55baec=_0x640f78:_0x55baec=_0x502292,_0x55baec[_0x184b42(0xb81)]>0x0?_0x55baec[_0x184b42(0x6da)]('\x0a'):_0x184b42(0x223);}}}}}});}function renderScoreDistributionChart(_0x1bb8df,_0x247b2e){const _0x4e4a32=_0x45c2ac,_0x54bf51=document['getElementById']('score-distribution-chart')[_0x4e4a32(0x299)]('2d'),_0xfed67d={};for(let _0x230af9=0x0;_0x230af9<=_0x247b2e;_0x230af9++){_0xfed67d[_0x230af9]=0x0;}_0x1bb8df[_0x4e4a32(0x94d)](_0x27f4da=>{const _0x31c3ab=_0x4e4a32;_0xfed67d[_0x27f4da[_0x31c3ab(0xa39)]]!==undefined&&_0xfed67d[_0x27f4da[_0x31c3ab(0xa39)]]++;}),chartInstances[_0x4e4a32(0x248)]&&chartInstances['score']['destroy'](),chartInstances[_0x4e4a32(0x248)]=new Chart(_0x54bf51,{'type':'bar','data':{'labels':Object['keys'](_0xfed67d),'datasets':[{'label':_0x4e4a32(0x601),'data':Object[_0x4e4a32(0xa8e)](_0xfed67d),'backgroundColor':_0x4e4a32(0xd41),'borderColor':_0x4e4a32(0x95d),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x46fee0){const _0x1b4284=_0x4e4a32,_0x3b090e=_0x46fee0[_0x1b4284(0x5c9)],_0x2e40bd=_0x1bb8df[_0x1b4284(0x624)](_0x3a651a=>_0x3a651a[_0x1b4284(0xa39)]==_0x3b090e)[_0x1b4284(0x764)](_0x4301d0=>_0x4301d0[_0x1b4284(0x9b7)]);return _0x2e40bd[_0x1b4284(0xb81)]>0x0?_0x2e40bd[_0x1b4284(0x6da)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x3ea432,_0x502372,_0x30858e){const _0x372e67=_0x45c2ac,_0x33862a=document[_0x372e67(0x286)]('question-analytics-container');if(_0x30858e[_0x372e67(0xb81)]===0x0){_0x33862a[_0x372e67(0x6ef)]=_0x372e67(0x668);return;}const _0x517c44=calculateItemAnalysis(_0x3ea432,_0x502372),_0x4dfa34=calculateDistractorAnalysis(_0x3ea432,_0x502372);let _0x4df1e8='';_0x517c44[_0x372e67(0xc12)]&&(_0x4df1e8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x517c44[_0x372e67(0xc12)][_0x372e67(0x84d)]['length']+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x517c44[_0x372e67(0xc12)][_0x372e67(0x84d)][_0x372e67(0x764)](_0x1000b1=>'<li>'+_0x1000b1+_0x372e67(0x75a))[_0x372e67(0x6da)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x517c44[_0x372e67(0xc12)][_0x372e67(0x3f7)][_0x372e67(0xb81)]+_0x372e67(0x5e7)+_0x517c44[_0x372e67(0xc12)][_0x372e67(0x3f7)][_0x372e67(0x764)](_0xef1715=>'<li>'+_0xef1715+_0x372e67(0x75a))['join']('')+_0x372e67(0xb8d));let _0x18235c='';const _0x4e7645=_0x502372[_0x372e67(0x764)](_0xc1cc49=>_0xc1cc49[_0x372e67(0x9b7)]),_0x298ac5=_0x3cb395=>{const _0x56ba9c=_0x372e67;if(_0x3cb395>=0.8)return _0x56ba9c(0x907);if(_0x3cb395>=0.6)return _0x56ba9c(0x343);if(_0x3cb395>=0.4)return _0x56ba9c(0x880);if(_0x3cb395>=0.2)return _0x56ba9c(0xc6c);return _0x56ba9c(0x65d);},_0x1abdbf=_0x391dc5=>{const _0x4d84ec=_0x372e67;if(_0x391dc5<0x0)return _0x4d84ec(0xb2e);if(_0x391dc5>=0.4)return _0x4d84ec(0x282);if(_0x391dc5>=0.3)return _0x4d84ec(0x82e);if(_0x391dc5>=0.2)return _0x4d84ec(0x861);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x47f64e=_0x553c38=>{const _0x51618f=_0x372e67,_0x3a2ccb=_0x553c38[_0x51618f(0x58a)](0x0);if(parseFloat(_0x3a2ccb)===0x64)return _0x51618f(0x951)+_0x3a2ccb+_0x51618f(0x2a2);if(_0x553c38>=0x32)return _0x51618f(0xc74)+_0x3a2ccb+_0x51618f(0x2a2);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x3a2ccb+_0x51618f(0x2a2);};_0x3ea432['questions'][_0x372e67(0x94d)]((_0x49a36e,_0x3fe781)=>{const _0x4fefa9=_0x372e67,_0x5c40ea=_0x517c44['perQuestionStats'][_0x3fe781],_0x5c943f=_0x4dfa34[_0x3fe781],_0x298214=_0x49a36e[_0x4fefa9(0xcfa)]||_0x49a36e[_0x4fefa9(0x3a5)]||_0x49a36e[_0x4fefa9(0x9f9)];let _0x219ca3=0x0;const _0x266ea9=[],_0x4d6add=[];_0x502372['forEach'](_0x75161c=>{const _0x91d83=_0x4fefa9,_0x36ea98=_0x75161c['attempts'][_0x75161c[_0x91d83(0xcc4)]['length']-0x1];if(_0x36ea98&&_0x36ea98['answers']){const _0x12223e=_0x36ea98['answers'][_0x91d83(0x7c7)](_0x43132c=>_0x43132c[_0x91d83(0x120)]===_0x298214)??_0x36ea98['answers'][_0x3fe781]??null;_0x12223e&&(_0x12223e[_0x91d83(0x995)]?(_0x219ca3++,_0x266ea9['push'](_0x75161c[_0x91d83(0x9b7)])):_0x4d6add[_0x91d83(0xcec)](_0x75161c['studentName']));}});const _0x36ba9b=_0x502372[_0x4fefa9(0xb81)]>0x0?_0x219ca3/_0x502372[_0x4fefa9(0xb81)]*0x64:0x0,_0xcef3b6=_0x30858e[_0x4fefa9(0x624)](_0xaa9c31=>!_0x4e7645[_0x4fefa9(0x613)](_0xaa9c31)),_0x15e9b2=_0x5c40ea?_0x4fefa9(0xbb3)+_0x5c40ea['p']['toFixed'](0x2)+_0x4fefa9(0x1ec)+_0x298ac5(_0x5c40ea['p'])+_0x4fefa9(0x8cb)+_0x5c40ea['r'][_0x4fefa9(0x58a)](0x2)+_0x4fefa9(0x1ec)+_0x1abdbf(_0x5c40ea['r'])+_0x4fefa9(0x377)+_0x47f64e(_0x36ba9b)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x3c08b2='';_0x5c943f&&(_0x3c08b2=_0x4fefa9(0xb41)+Object[_0x4fefa9(0xb99)](_0x5c943f)[_0x4fefa9(0x764)](_0xc087ee=>{const _0x28e2f2=_0x4fefa9,_0x48660b=_0x5c943f[_0xc087ee],_0x2765c3=parseInt(_0xc087ee)===_0x49a36e[_0x28e2f2(0xc51)],_0x647675=!_0x2765c3&&_0x48660b['lower_group_count']>_0x48660b[_0x28e2f2(0xb70)];return _0x28e2f2(0x8aa)+(_0x2765c3?_0x28e2f2(0x564):'')+_0x28e2f2(0xa5c)+(_0x2765c3?'✔\x20':'')+_0x48660b['text']+_0x28e2f2(0x1d1)+_0x48660b[_0x28e2f2(0xb70)]+_0x28e2f2(0x1d1)+_0x48660b['lower_group_count']+'\x20'+(_0x647675?'👍':'')+_0x28e2f2(0x1d1)+_0x48660b['total']+'</td></tr>';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x708bb5='';_0x5c40ea&&_0x5c40ea[_0x4fefa9(0x483)]&&(_0x708bb5=_0x4fefa9(0x5ed)+_0x5c40ea[_0x4fefa9(0x483)][_0x4fefa9(0xb81)]+_0x4fefa9(0x236)+_0x5c40ea[_0x4fefa9(0x483)]['map'](_0x53d3b5=>_0x4fefa9(0xa8f)+(_0x53d3b5[_0x4fefa9(0x995)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x4fefa9(0xa1b))+'\x20'+_0x53d3b5[_0x4fefa9(0x224)]+'</li>')[_0x4fefa9(0x6da)]('')+_0x4fefa9(0x7ff)+_0x5c40ea[_0x4fefa9(0x48a)][_0x4fefa9(0xb81)]+_0x4fefa9(0x236)+_0x5c40ea[_0x4fefa9(0x48a)][_0x4fefa9(0x764)](_0x4b52b7=>_0x4fefa9(0xa8f)+(_0x4b52b7['isCorrect']?_0x4fefa9(0x414):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x4b52b7[_0x4fefa9(0x224)]+_0x4fefa9(0x75a))['join']('')+_0x4fefa9(0x7d7)),_0x18235c+=_0x4fefa9(0xc5)+(_0x3fe781+0x1)+':\x20'+_0x298214+_0x4fefa9(0x6e7)+_0x15e9b2+_0x4fefa9(0x5e3)+_0x298214+_0x4fefa9(0x8eb)+_0x219ca3+_0x4fefa9(0x362)+_0x502372['length']+_0x4fefa9(0xa19)+_0x36ba9b[_0x4fefa9(0x58a)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x266ea9[_0x4fefa9(0xb81)]+_0x4fefa9(0x8f5)+(_0x266ea9[_0x4fefa9(0xb81)]>0x0?_0x266ea9['join'](',\x20'):_0x4fefa9(0x223))+_0x4fefa9(0x66d)+_0x4d6add[_0x4fefa9(0xb81)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x4d6add[_0x4fefa9(0xb81)]>0x0?_0x4d6add['join'](',\x20'):_0x4fefa9(0x223))+_0x4fefa9(0xbe2)+_0xcef3b6['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0xcef3b6['length']>0x0?_0xcef3b6[_0x4fefa9(0x6da)](',\x20'):'ไม่มี')+_0x4fefa9(0xbe5)+_0x3c08b2+_0x4fefa9(0x6e6)+_0x708bb5+_0x4fefa9(0xcbd);}),_0x33862a[_0x372e67(0x6ef)]=_0x4df1e8+_0x18235c;try{window['MathJax']&&MathJax['typesetPromise']&&MathJax[_0x372e67(0x8c4)]([_0x33862a]);}catch(_0x1bcf73){console[_0x372e67(0x4da)]('MathJax\x20typeset\x20error\x20(analytics):',_0x1bcf73);}}function calculateDistractorAnalysis(_0x3d1214,_0x30d5d0){const _0x1a9760=_0x45c2ac,_0x24af5d={};if(_0x30d5d0[_0x1a9760(0xb81)]<0x2)return _0x24af5d;const _0x5a0b4f=[..._0x30d5d0][_0x1a9760(0x276)]((_0x5a12c3,_0x4778ee)=>{const _0x5e4b3e=_0x1a9760,_0x51a850=_0x4778ee[_0x5e4b3e(0xa39)]-_0x5a12c3[_0x5e4b3e(0xa39)];if(_0x51a850!==0x0)return _0x51a850;const _0x6447e1=_0x5a12c3['attempts']?.['length']||0x1,_0xfbc86f=_0x4778ee[_0x5e4b3e(0xcc4)]?.[_0x5e4b3e(0xb81)]||0x1,_0x348da7=_0x6447e1-_0xfbc86f;if(_0x348da7!==0x0)return _0x348da7;const _0x28decf=new Date(_0x5a12c3[_0x5e4b3e(0x368)]),_0xf4d8d8=new Date(_0x4778ee['latestSubmittedAt']),_0x46c06c=_0x28decf-_0xf4d8d8;if(_0x46c06c!==0x0)return _0x46c06c;return _0x5a12c3[_0x5e4b3e(0x9b7)]['localeCompare'](_0x4778ee['studentName'],'th');}),_0x1a42ff=_0x5a0b4f['length'],_0x309c39=Math[_0x1a9760(0x75c)](0x1,Math[_0x1a9760(0xb7e)](_0x1a42ff*0.33)),_0x2e77ff=_0x5a0b4f[_0x1a9760(0xc20)](0x0,_0x309c39),_0x117678=_0x5a0b4f[_0x1a9760(0xc20)](-_0x309c39);return _0x3d1214[_0x1a9760(0xbc3)][_0x1a9760(0x94d)]((_0x404079,_0x199cbd)=>{const _0x66e13b=_0x1a9760;if(_0x404079[_0x66e13b(0x9f5)]!==_0x66e13b(0xb86)||!_0x404079[_0x66e13b(0xa07)])return;const _0x2bcf3c=_0x404079[_0x66e13b(0x3a5)],_0x1bbcf6={};_0x404079[_0x66e13b(0xa07)]['forEach']((_0x44c9c9,_0x5bbdb3)=>{_0x1bbcf6[_0x5bbdb3]={'text':_0x44c9c9,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x5a0b4f[_0x66e13b(0x94d)](_0x3273c8=>{const _0x2e3d1f=_0x66e13b,_0x2503c3=_0x3273c8[_0x2e3d1f(0xcc4)][_0x3273c8['attempts']['length']-0x1],_0x2f2db9=_0x2503c3['answers'][_0x2e3d1f(0x7c7)](_0x55bd20=>_0x55bd20[_0x2e3d1f(0x120)]===_0x2bcf3c);if(_0x2f2db9&&_0x2f2db9['answer']!==null){const _0x4784ff=_0x404079[_0x2e3d1f(0xa07)][_0x2e3d1f(0x1e0)](_0x4bc2cb=>_0x4bc2cb===_0x2f2db9[_0x2e3d1f(0x566)]);_0x4784ff!==-0x1&&_0x1bbcf6[_0x4784ff]&&(_0x1bbcf6[_0x4784ff][_0x2e3d1f(0x2b5)]++,_0x2e77ff[_0x2e3d1f(0x613)](_0x3273c8)&&_0x1bbcf6[_0x4784ff][_0x2e3d1f(0xb70)]++,_0x117678['includes'](_0x3273c8)&&_0x1bbcf6[_0x4784ff][_0x2e3d1f(0xb03)]++);}}),_0x24af5d[_0x199cbd]=_0x1bbcf6;}),_0x24af5d;}function calculateReliabilityKR20(_0x2f07f9,_0x426eb6,_0x2652ea){const _0x5a3920=_0x45c2ac,_0x2a14f4=_0x2f07f9[_0x5a3920(0xbc3)][_0x5a3920(0xb81)];if(_0x2a14f4<0x2||_0x426eb6['length']<0x2)return null;const _0x3a40a2=_0x426eb6['map'](_0x1d69e3=>_0x1d69e3[_0x5a3920(0xa39)]),_0x1f6366=_0x3a40a2[_0x5a3920(0xd34)]((_0x1f18c8,_0x1090cb)=>_0x1f18c8+_0x1090cb,0x0)/_0x3a40a2['length'],_0x192631=_0x3a40a2[_0x5a3920(0x764)](_0x49f294=>Math['pow'](_0x49f294-_0x1f6366,0x2))[_0x5a3920(0xd34)]((_0x441522,_0x4cf37b)=>_0x441522+_0x4cf37b,0x0)/_0x3a40a2[_0x5a3920(0xb81)];if(_0x192631===0x0)return null;let _0x43db86=0x0;for(let _0x3f8222=0x0;_0x3f8222<_0x2a14f4;_0x3f8222++){const _0x1e508f=_0x2652ea[_0x3f8222]?.['p'];if(_0x1e508f===undefined)continue;const _0x47c0df=0x1-_0x1e508f;_0x43db86+=_0x1e508f*_0x47c0df;}if(_0x43db86===0x0)return null;const _0x3e13ce=_0x2a14f4/(_0x2a14f4-0x1)*(0x1-_0x43db86/_0x192631);if(_0x3e13ce>0x1)return null;return _0x3e13ce;}async function handleAnalyzeClass(){const _0x483cf3=_0x45c2ac;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x483cf3(0xa71));return;}const _0x151bd0=collection(db,_0x483cf3(0x47d)+appId+_0x483cf3(0xb5b)+currentQuizData['id']+'/submissions'),_0x3b8994=await getDocs(_0x151bd0),_0x8ffc57=_0x3b8994[_0x483cf3(0x22c)][_0x483cf3(0x764)](_0x355d8a=>_0x355d8a['data']());if(_0x8ffc57[_0x483cf3(0xb81)]<0x2){showMessage(_0x483cf3(0x4ed));return;}const _0x34ca48=document[_0x483cf3(0x286)](_0x483cf3(0x46c));_0x34ca48[_0x483cf3(0x6ef)]=_0x483cf3(0x29f),document[_0x483cf3(0x286)](_0x483cf3(0xc6))[_0x483cf3(0x790)]=!![];const _0x40a1ba=_0x8ffc57[_0x483cf3(0x764)]((_0x527227,_0x4262b5)=>{const _0x5ca3af=_0x483cf3,_0x71b61e=_0x527227['attempts'][_0x527227['attempts'][_0x5ca3af(0xb81)]-0x1];if(!_0x71b61e)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x4262b5+0x1)+'\x20('+_0x527227[_0x5ca3af(0x9b7)]+_0x5ca3af(0xbf3)+_0x71b61e[_0x5ca3af(0x248)]+'/'+_0x527227[_0x5ca3af(0xc06)]+_0x5ca3af(0x6f)+JSON[_0x5ca3af(0x2d7)](_0x71b61e[_0x5ca3af(0x8a5)])+_0x5ca3af(0x59a);})[_0x483cf3(0x6da)]('\x0a---\x0a'),_0x2e1ac4=_0x483cf3(0x1f0)+currentQuizData[_0x483cf3(0x26f)]+_0x483cf3(0xa2d)+JSON[_0x483cf3(0x2d7)](currentQuizData['questions'])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40a1ba+_0x483cf3(0x9a9),_0x3c91d0={'type':'OBJECT','properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0x483cf3(0x32a)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x483cf3(0x32a)}},'teacherSuggestions':{'type':_0x483cf3(0xce2),'items':{'type':_0x483cf3(0x32a)}}},'required':[_0x483cf3(0x6b),_0x483cf3(0x772),_0x483cf3(0x436)]};try{const _0x240a56=await callAnalysisApi(_0x2e1ac4,_0x3c91d0);displayClassAnalysis(_0x240a56);}catch(_0x29fbe5){console[_0x483cf3(0x4da)](_0x483cf3(0x25c),_0x29fbe5),_0x34ca48['innerHTML']=_0x483cf3(0x586)+_0x29fbe5[_0x483cf3(0xc97)]+_0x483cf3(0x113);}finally{document[_0x483cf3(0x286)]('analyze-strengths-btn')[_0x483cf3(0x790)]=![];}}function displayClassAnalysis(_0x26d364){const _0xeb0fe8=_0x45c2ac,_0x176b64=document['getElementById']('strength-weakness-analysis-container');if(!_0x26d364){_0x176b64[_0xeb0fe8(0x6ef)]=_0xeb0fe8(0x518);return;}_0x176b64[_0xeb0fe8(0x6ef)]=_0xeb0fe8(0x888)+_0x26d364[_0xeb0fe8(0x6b)][_0xeb0fe8(0x764)](_0x39c72d=>'<li>'+_0x39c72d+_0xeb0fe8(0x75a))[_0xeb0fe8(0x6da)]('')+_0xeb0fe8(0xbc7)+_0x26d364[_0xeb0fe8(0x772)]['map'](_0x11c66a=>_0xeb0fe8(0xa8f)+_0x11c66a+_0xeb0fe8(0x75a))[_0xeb0fe8(0x6da)]('')+_0xeb0fe8(0x36c)+_0x26d364[_0xeb0fe8(0x436)][_0xeb0fe8(0x764)](_0x485ce7=>'<li>'+_0x485ce7+'</li>')[_0xeb0fe8(0x6da)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x1d9336,_0x20cb20){const _0x26cea3=_0x45c2ac,_0x31d4a1=_0x26cea3(0x15c)+_0x1d9336[_0x26cea3(0x26f)]+_0x26cea3(0x5d1)+_0x1d9336[_0x26cea3(0x26f)]+_0x26cea3(0xad2)+_0x1d9336[_0x26cea3(0xbc3)][_0x26cea3(0x764)]((_0x35ddbd,_0x29d88c)=>_0x26cea3(0x744)+(_0x29d88c+0x1)+'.\x20'+_0x35ddbd[_0x26cea3(0x3a5)]+_0x26cea3(0x1a6)+(_0x35ddbd[_0x26cea3(0xb04)]?_0x26cea3(0xbdf)+_0x35ddbd[_0x26cea3(0xb04)]+_0x26cea3(0x6c2):'')+_0x26cea3(0xa20))['join']('')+_0x26cea3(0xbf1);_0x20cb20[_0x26cea3(0x821)]['write'](_0x31d4a1),_0x20cb20[_0x26cea3(0x821)][_0x26cea3(0x7b2)](),_0x20cb20[_0x26cea3(0x24f)]=function(){setTimeout(()=>{const _0x24103c=_0x1af4;_0x20cb20[_0x24103c(0xc0f)]();},0x3e8);};}async function generateWorksheet(){const _0x3a4587=_0x45c2ac,_0xfcb829=document[_0x3a4587(0x286)](_0x3a4587(0x6b5))[_0x3a4587(0x227)]['trim']();if(!_0xfcb829){showMessage(_0x3a4587(0xa32));return;}const _0x20d07c=document[_0x3a4587(0x286)](_0x3a4587(0x85a))[_0x3a4587(0x50a)],_0x111c38=_0x20d07c?'':'คณิตศาสตร์',_0x54d29d=window[_0x3a4587(0x733)]('',_0x3a4587(0x919));_0x54d29d[_0x3a4587(0x821)]['write']('<h1></h1>');const _0x5298e8=parseInt(document[_0x3a4587(0x286)](_0x3a4587(0x4fe))[_0x3a4587(0x227)]),_0x30d8f2=document[_0x3a4587(0x286)]('include-images-checkbox')[_0x3a4587(0x50a)],_0x1cd6ce=_0x30d8f2?_0x3a4587(0x27e):'',_0x2d34e4=_0x3a4587(0xabc)+_0x111c38+_0x3a4587(0x652)+_0x5298e8+_0x3a4587(0x68c)+_0xfcb829+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1cd6ce+_0x3a4587(0x789)+simpleMathPrompt+_0x3a4587(0x7cf),_0x1a98c0={'type':_0x3a4587(0xb8e),'properties':{'topic':{'type':_0x3a4587(0x32a)},'questions':{'type':_0x3a4587(0xce2),'items':{'type':_0x3a4587(0xb8e),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x3a4587(0x32a)}},'required':[_0x3a4587(0x3a5)]}}},'required':[_0x3a4587(0x26f),_0x3a4587(0xbc3)]};document[_0x3a4587(0x286)](_0x3a4587(0x33e))[_0x3a4587(0x10e)]='',document[_0x3a4587(0x286)]('loader')[_0x3a4587(0x707)][_0x3a4587(0x6d1)](_0x3a4587(0xb5c)),document[_0x3a4587(0x286)](_0x3a4587(0x1bd))[_0x3a4587(0x707)][_0x3a4587(0x6d1)]('hidden'),generateWorksheetBtn[_0x3a4587(0x790)]=!![];try{const _0x4b5213=await callAnalysisApi(_0x2d34e4,_0x1a98c0);formatAndPrintWorksheet(_0x4b5213,_0x54d29d);}catch(_0x50235d){console['error'](_0x3a4587(0xb6a),_0x50235d);if(_0x54d29d)_0x54d29d['close']();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x3a4587(0x286)](_0x3a4587(0x26d))[_0x3a4587(0x707)][_0x3a4587(0xbfd)](_0x3a4587(0xb5c)),document['getElementById'](_0x3a4587(0x1bd))['classList']['add'](_0x3a4587(0xb5c)),generateWorksheetBtn[_0x3a4587(0x790)]=![];}}async function callAnalysisApi(_0x4fc8ff,_0x292c48){const _0x34a15a=_0x45c2ac,_0x5639e7={'contents':[{'role':_0x34a15a(0x2f7),'parts':[{'text':_0x4fc8ff}]}],'generationConfig':{'responseMimeType':_0x34a15a(0x2af),'responseSchema':_0x292c48}},_0x329555=_0x34a15a(0x30c),_0x2d071d=_0x34a15a(0x2b3)+_0x329555,_0x57cbd0=await fetch(_0x2d071d,{'method':_0x34a15a(0x44f),'headers':{'Content-Type':_0x34a15a(0x2af)},'body':JSON[_0x34a15a(0x2d7)](_0x5639e7)});if(!_0x57cbd0['ok'])throw new Error(_0x34a15a(0x1f7)+_0x57cbd0[_0x34a15a(0xc3e)]);const _0x3dc568=await _0x57cbd0[_0x34a15a(0x93b)]();if(_0x3dc568[_0x34a15a(0x824)]?.[0x0]?.['content']?.[_0x34a15a(0x1b8)]?.[0x0])return JSON[_0x34a15a(0x8dc)](_0x3dc568[_0x34a15a(0x824)][0x0][_0x34a15a(0x8e3)][_0x34a15a(0x1b8)][0x0][_0x34a15a(0x135)]);else{let _0x50d077='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x3dc568['promptFeedback']?.['blockReason'])_0x50d077=_0x34a15a(0x304)+_0x3dc568[_0x34a15a(0x8e1)][_0x34a15a(0x388)]+'.';else _0x3dc568[_0x34a15a(0x824)]?.[0x0]?.[_0x34a15a(0xaf2)]&&_0x3dc568['candidates'][0x0][_0x34a15a(0xaf2)]!=='STOP'&&(_0x50d077='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x3dc568['candidates'][0x0][_0x34a15a(0xaf2)]+'.');console[_0x34a15a(0x4da)](_0x50d077,JSON['stringify'](_0x3dc568));throw new Error(_0x50d077);}}async function handleStartSyncMode(_0x517bf8,_0x4471b2=![],_0x564419=_0x45c2ac(0xaee)){const _0x9b539=_0x45c2ac,_0x1be8a2=allQuizzes['find'](_0x23a3c3=>_0x23a3c3['id']===_0x517bf8)||allQuizzesGlobal[_0x9b539(0x7c7)](_0x5ae272=>_0x5ae272['id']===_0x517bf8);if(!_0x1be8a2){showMessage(_0x9b539(0x989));return;}currentQuizData=getShuffledQuiz(_0x1be8a2);const _0x108db8=Math[_0x9b539(0xb7e)](0x3e8+Math[_0x9b539(0x3c0)]()*0x2328)[_0x9b539(0xe2)](),_0x49358f=doc(db,_0x9b539(0x47d)+appId+_0x9b539(0x99f),_0x1be8a2[_0x9b539(0x12d)]),_0x28dfc5=await getDoc(_0x49358f);if(!_0x28dfc5[_0x9b539(0x6cc)]()){showMessage(_0x9b539(0xc5a));return;}const _0x1851a8=_0x28dfc5[_0x9b539(0x10a)]()[_0x9b539(0xcaf)]||[],_0x50ffad={};if(_0x564419===_0x9b539(0xbfa)){const _0x5108d9=[...ANONYMOUS_NAMES][_0x9b539(0x276)](()=>0.5-Math[_0x9b539(0x3c0)]());_0x1851a8[_0x9b539(0x94d)]((_0x1b2e24,_0x2729ac)=>{const _0x25729e=_0x9b539;_0x50ffad[_0x1b2e24]=_0x5108d9[_0x2729ac]||_0x25729e(0xccc)+(_0x2729ac+0x1);});}const _0x4a153d=document['getElementById'](_0x9b539(0x4b6))[_0x9b539(0x50a)],_0x5d7647=parseInt(document[_0x9b539(0x286)]('sync-timer-duration-input')[_0x9b539(0x227)],0xa);let _0x11960c={'timerMode':_0x9b539(0x5ba),'timerDuration':0x0};_0x4a153d&&(_0x11960c[_0x9b539(0xcda)]=_0x9b539(0xcce),_0x11960c[_0x9b539(0x80b)]=_0x5d7647||0xf0);const _0x3fcc70=document[_0x9b539(0x286)](_0x9b539(0x6c0))[_0x9b539(0x50a)],_0x4a349a=document[_0x9b539(0x286)](_0x9b539(0x23d))['checked'];try{const _0x393994=await addDoc(collection(db,_0x9b539(0x47d)+appId+_0x9b539(0x817)),{'quizId':_0x1be8a2['id'],'pin':_0x108db8,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4471b2,'players':{},'gameVariant':_0x564419,'reviewQuestionIndex':0x0,'playerNicknames':_0x50ffad,'isAnonymousRevealed':![],..._0x11960c,'showAnswerInAnonymous':_0x3fcc70,'isBlackMarketEnabled':_0x4a349a});currentLiveGameId=_0x393994['id'],showView(_0x9b539(0x6cd)),renderSyncLobbyView(_0x108db8,_0x1be8a2[_0x9b539(0x26f)]),listenForSyncGameUpdates();const _0x323bcc={'gameId':currentLiveGameId,'mode':_0x9b539(0x55c),'role':_0x9b539(0x11d)};sessionStorage[_0x9b539(0x6bd)](_0x9b539(0x5dc),JSON[_0x9b539(0x2d7)](_0x323bcc));}catch(_0x11e935){console[_0x9b539(0x4da)]('Error\x20starting\x20sync\x20game:',_0x11e935),showMessage(_0x9b539(0x22a));}}function calculateFinalPodiumScores(_0x143aaa){const _0x7463c7=_0x45c2ac;if(!_0x143aaa||!_0x143aaa['shuffledQuiz']||!_0x143aaa[_0x7463c7(0x92e)])return _0x143aaa[_0x7463c7(0x92e)]||{};const _0x32d10=_0x143aaa[_0x7463c7(0x8d0)][_0x7463c7(0xbc3)][_0x7463c7(0xb81)],_0x22fce8=JSON[_0x7463c7(0x8dc)](JSON['stringify'](_0x143aaa[_0x7463c7(0x92e)]));return Object[_0x7463c7(0xa8e)](_0x22fce8)[_0x7463c7(0x94d)](_0x2bb7b1=>{const _0x129997=_0x7463c7,_0x16f35f=_0x2bb7b1[_0x129997(0x248)]||0x0,_0x21a0e0=_0x2bb7b1[_0x129997(0x91)]||0x0;_0x32d10>0x0&&_0x16f35f===_0x32d10?_0x2bb7b1[_0x129997(0xb3f)]=!![]:_0x2bb7b1[_0x129997(0xb3f)]=![],_0x2bb7b1[_0x129997(0x82d)]=_0x16f35f,_0x2bb7b1['totalPoints']=_0x21a0e0;}),_0x22fce8;}function listenForSyncGameUpdates(){const _0x52601e=_0x45c2ac;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x34a411=doc(db,_0x52601e(0x47d)+appId+_0x52601e(0x817),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x34a411,_0x368a5c=>{const _0x101079=_0x52601e;if(!_0x368a5c[_0x101079(0x6cc)]()){sessionStorage[_0x101079(0xca1)](_0x101079(0x5dc));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x101079(0x1b4));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x101079(0x11d)?showView(_0x101079(0x56d)):showView('student');return;}const _0x34d722=_0x368a5c[_0x101079(0x10a)]();currentMode===_0x101079(0x11d)?updateAdminSyncView(_0x34d722):updateStudentSyncView(_0x34d722);});}function renderSyncLobbyView(_0x223d81,_0x3290d2){const _0x4fd32a=_0x45c2ac;liveGameView[_0x4fd32a(0x6ef)]=_0x4fd32a(0x2ad)+_0x3290d2+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x223d81+_0x4fd32a(0x1b6);const _0x50771f=document[_0x4fd32a(0x286)](_0x4fd32a(0x70)),_0x22847f=document[_0x4fd32a(0x286)](_0x4fd32a(0xb4));_0x50771f[_0x4fd32a(0x504)](_0x4fd32a(0x8ec),()=>{const _0x45f0c4=_0x4fd32a;_0x22847f[_0x45f0c4(0x760)][_0x45f0c4(0xb19)]=_0x50771f[_0x45f0c4(0x50a)]?_0x45f0c4(0x755):_0x45f0c4(0x5ba);}),document['getElementById'](_0x4fd32a(0xd2e))[_0x4fd32a(0x504)]('click',async()=>{const _0x386c40=_0x4fd32a,_0x3462c6=doc(db,_0x386c40(0x47d)+appId+_0x386c40(0x817),currentLiveGameId),_0x3e66f8=document[_0x386c40(0x286)]('confidence-scoring-toggle')[_0x386c40(0x50a)];await updateDoc(_0x3462c6,{'status':_0x386c40(0x5d6),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x3e66f8});});}function updateAdminSyncView(_0x3b7094){const _0x5e69a2=_0x45c2ac;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x3b7094[_0x5e69a2(0xc3e)]){case _0x5e69a2(0x659):renderSyncLobbyView(_0x3b7094[_0x5e69a2(0x205)],_0x3b7094[_0x5e69a2(0x8d0)]['topic']);const _0x174ebe=Object['entries'](_0x3b7094[_0x5e69a2(0x92e)]||{})[_0x5e69a2(0x624)](([_0x194b9b,_0x2997d1])=>_0x2997d1[_0x5e69a2(0xc3e)]!=='inactive');document[_0x5e69a2(0x286)](_0x5e69a2(0xf6))['textContent']=_0x174ebe[_0x5e69a2(0xb81)],document[_0x5e69a2(0x286)](_0x5e69a2(0x1a1))[_0x5e69a2(0x6ef)]=_0x174ebe['map'](([_0x572ac4,_0x5462a2])=>_0x5e69a2(0x20d)+_0x572ac4+_0x5e69a2(0xa70)+_0x572ac4+_0x5e69a2(0x99a))[_0x5e69a2(0x6da)]('')||_0x5e69a2(0x219),document[_0x5e69a2(0x286)](_0x5e69a2(0xd2e))[_0x5e69a2(0x790)]=_0x174ebe[_0x5e69a2(0xb81)]===0x0;break;case _0x5e69a2(0x5d6):const _0x125777=Object['values'](_0x3b7094[_0x5e69a2(0x92e)]||{})[_0x5e69a2(0x624)](_0x1ab7c8=>_0x1ab7c8[_0x5e69a2(0xc3e)]!==_0x5e69a2(0xa6f)),_0xaddb23=_0x125777[_0x5e69a2(0x624)](_0x4aa354=>_0x4aa354[_0x5e69a2(0x48e)])[_0x5e69a2(0xb81)],_0x130655=_0xaddb23===_0x125777[_0x5e69a2(0xb81)]&&_0x125777[_0x5e69a2(0xb81)]>0x0;if(_0x130655&&_0x3b7094[_0x5e69a2(0xc3e)]===_0x5e69a2(0x5d6)){const _0x264ed3=doc(db,_0x5e69a2(0x47d)+appId+_0x5e69a2(0x817),currentLiveGameId);updateDoc(_0x264ed3,{'status':_0x5e69a2(0x78a)});return;}if(document[_0x5e69a2(0x286)]('sync-player-management')===null)renderAdminSyncQuestionView(_0x3b7094);else{const _0x5727b3=document[_0x5e69a2(0x286)](_0x5e69a2(0x64c));_0x5727b3&&(_0x5727b3['textContent']=_0xaddb23+'/'+_0x125777['length']);const _0x352f8f=document[_0x5e69a2(0x286)](_0x5e69a2(0x1a4));_0x352f8f&&(_0x352f8f[_0x5e69a2(0x6ef)]=_0x125777[_0x5e69a2(0x764)](_0x251781=>{const _0x5650f3=_0x5e69a2,_0x258779=_0x251781[_0x5650f3(0x48e)]?_0x5650f3(0x8ee):'bg-gray-500',_0x37b182=_0x251781[_0x5650f3(0x48e)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x5650f3(0xc4b);return _0x5650f3(0xa37)+_0x258779+_0x5650f3(0x5d4)+_0x37b182+_0x5650f3(0x736)+_0x251781['name']+_0x5650f3(0x6a9)+_0x251781['name']+_0x5650f3(0x904);})[_0x5e69a2(0x6da)](''));}const _0x282031=_0x3b7094[_0x5e69a2(0xcda)]===_0x5e69a2(0xcce)&&_0x3b7094['questionDisplayedAt'];if(_0x282031){const _0x313ea2=_0x3b7094['questionDisplayedAt'][_0x5e69a2(0x5a0)]()[_0x5e69a2(0x32d)](),_0x351ffa=_0x3b7094[_0x5e69a2(0x80b)]*0x3e8,_0x2ad11a=_0x313ea2+_0x351ffa,_0x481f5a=document['getElementById']('sync-timer-bar'),_0x4c399c=document[_0x5e69a2(0x286)](_0x5e69a2(0x157));syncQuestionTimerInterval=setInterval(()=>{const _0x3642ef=_0x5e69a2,_0x29cfed=Date[_0x3642ef(0x17c)](),_0x301e60=_0x125777[_0x3642ef(0xb81)]>0x0&&_0x125777['every'](_0x283c95=>{const _0xc48b48=_0x3642ef;if(_0x283c95[_0xc48b48(0x48e)])return!![];const _0x2638a3=_0x283c95[_0xc48b48(0x43c)]||0x0,_0xebd03e=_0x313ea2+_0x351ffa+_0x2638a3;if(_0xebd03e<=_0x29cfed)return!![];return![];});if(_0x301e60){clearInterval(syncQuestionTimerInterval);const _0x457f9d=doc(db,_0x3642ef(0x47d)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x457f9d,{'status':_0x3642ef(0x78a)});return;}const _0x2a0791=_0x2ad11a-_0x29cfed;if(_0x2a0791<=0x0){if(_0x481f5a)_0x481f5a['style'][_0x3642ef(0x710)]='0%';if(_0x4c399c)_0x4c399c[_0x3642ef(0x10e)]=_0x3642ef(0x2e4);}else{if(_0x481f5a&&_0x4c399c){const _0x46befa=_0x2a0791/_0x351ffa*0x64;_0x481f5a[_0x3642ef(0x760)][_0x3642ef(0x710)]=_0x46befa+'%',_0x4c399c[_0x3642ef(0x10e)]=Math[_0x3642ef(0x228)](_0x2a0791/0x3e8);}}},0x1f4);}break;case _0x5e69a2(0x78a):const _0x2ac5c1=_0x3b7094[_0x5e69a2(0x895)],_0x5c9822=_0x3b7094['shuffledQuiz'][_0x5e69a2(0xbc3)][_0x2ac5c1];renderSyncSummaryView(_0x3b7094,_0x5c9822,!![]);break;case _0x5e69a2(0x335):const _0x259b3d=_0x3b7094['gameVariant']||_0x5e69a2(0xaee);_0x259b3d===_0x5e69a2(0x171)?renderAdminSyncDashboard(_0x3b7094,!![],_0x3b7094[_0x5e69a2(0xb9a)]):renderAdminSyncDashboard(_0x3b7094,!![],_0x3b7094['currentQuestionIndex']);break;case _0x5e69a2(0x8f6):_0x3b7094[_0x5e69a2(0xbdc)]&&saveGameResultsAsSubmissions(_0x3b7094);sessionStorage[_0x5e69a2(0xca1)](_0x5e69a2(0x5dc));const _0x4a0d4f=calculateFinalPodiumScores(_0x3b7094);showPodiumView(_0x4a0d4f,_0x5e69a2(0x55c),_0x3b7094);break;}}function renderAdminSyncQuestionView(_0x57ca03){const _0xa8a799=_0x45c2ac,_0x47ab45=_0x57ca03[_0xa8a799(0x895)],_0x561d21=_0x57ca03['shuffledQuiz'][_0xa8a799(0xbc3)][_0x47ab45],_0x59d0bd=_0x57ca03['shuffledQuiz']['questions'][_0xa8a799(0xb81)],_0xbf3846=Object[_0xa8a799(0xa8e)](_0x57ca03['players']||{})[_0xa8a799(0x624)](_0x4133c3=>_0x4133c3[_0xa8a799(0xc3e)]!=='inactive'),_0x571e08=_0xbf3846[_0xa8a799(0x624)](_0x3fe612=>_0x3fe612[_0xa8a799(0x48e)])[_0xa8a799(0xb81)],_0x476852=_0x571e08===_0xbf3846['length']&&_0xbf3846[_0xa8a799(0xb81)]>0x0,_0x45f8fe=(_0x561d21[_0xa8a799(0xa07)]||[])['map'](_0x305faa=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x305faa+_0xa8a799(0x6c2))[_0xa8a799(0x6da)]('');let _0x9627d6='';_0x57ca03['timerMode']===_0xa8a799(0xcce)&&(_0x9627d6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>'+_0x57ca03[_0xa8a799(0x80b)]+_0xa8a799(0x296));liveGameView[_0xa8a799(0x6ef)]=_0xa8a799(0x88f)+(_0x47ab45+0x1)+_0xa8a799(0x234)+_0x59d0bd+_0xa8a799(0xcfe)+_0x57ca03[_0xa8a799(0x205)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x571e08+'/'+_0xbf3846[_0xa8a799(0xb81)]+_0xa8a799(0x558)+_0x9627d6+_0xa8a799(0x51d)+_0x561d21['questionText']+_0xa8a799(0xf4)+_0x45f8fe+_0xa8a799(0x379)+(!_0x476852?'disabled':'')+_0xa8a799(0xd25);if(window[_0xa8a799(0x36f)])MathJax[_0xa8a799(0x8c4)]();const _0x16f21a=doc(db,'artifacts/'+appId+_0xa8a799(0x817),currentLiveGameId);document['getElementById']('show-results-btn')['addEventListener'](_0xa8a799(0x936),async()=>{const _0xe36b32=_0xa8a799;await updateDoc(_0x16f21a,{'status':_0xe36b32(0x78a)});}),document[_0xa8a799(0x286)](_0xa8a799(0x27a))[_0xa8a799(0x2d8)]=()=>{openScratchpad(_0x561d21,_0x561d21['options']||[]);},document[_0xa8a799(0x286)](_0xa8a799(0x63a))[_0xa8a799(0x504)]('click',()=>{const _0x4a3d8b=_0xa8a799;document[_0x4a3d8b(0x286)](_0x4a3d8b(0x28e))[_0x4a3d8b(0x707)][_0x4a3d8b(0x587)](_0x4a3d8b(0xb5c));});const _0x3f989c=document[_0xa8a799(0x286)]('end-sync-game-btn');_0x3f989c&&(_0x3f989c[_0xa8a799(0x2d8)]=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x17ff9d=_0x1af4;await updateDoc(_0x16f21a,{'status':_0x17ff9d(0x8f6)});});});}function renderSyncLeaderboardView(_0x357087,_0x49beeb){const _0x4d8e85=_0x45c2ac,_0x56df27=Object['values'](_0x357087[_0x4d8e85(0x92e)]||{});_0x56df27[_0x4d8e85(0x276)]((_0xff9a6c,_0xcf3f01)=>_0xcf3f01['score']-_0xff9a6c[_0x4d8e85(0x248)]);const _0x3108d9=_0x56df27['slice'](0x0,0x5);let _0x9963af='';if(_0x49beeb){const _0x370a12=_0x357087[_0x4d8e85(0x895)]>=_0x357087[_0x4d8e85(0x8d0)]['questions'][_0x4d8e85(0xb81)]-0x1;_0x9963af=_0x4d8e85(0x143)+(_0x370a12?_0x4d8e85(0x6c):'ข้อต่อไป')+_0x4d8e85(0x423);}else _0x9963af=_0x4d8e85(0x3f6);liveGameView['innerHTML']=_0x4d8e85(0x740)+_0x3108d9[_0x4d8e85(0x764)]((_0x3e96e0,_0x49643)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x49643+0x1)+'.\x20'+_0x3e96e0[_0x4d8e85(0x224)]+_0x4d8e85(0x4b5)+_0x3e96e0['score']+_0x4d8e85(0x292))[_0x4d8e85(0x6da)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x9963af+_0x4d8e85(0x3b8),_0x49beeb&&document[_0x4d8e85(0x286)](_0x4d8e85(0xa0b))[_0x4d8e85(0x504)](_0x4d8e85(0x936),async()=>{const _0x353048=_0x4d8e85,_0x31517a=doc(db,_0x353048(0x47d)+appId+_0x353048(0x817),currentLiveGameId),_0x2a5473=_0x357087['currentQuestionIndex']+0x1;if(_0x2a5473<_0x357087['shuffledQuiz']['questions'][_0x353048(0xb81)]){const _0x41d69a={};Object['keys'](_0x357087['players'])[_0x353048(0x94d)](_0x4e7a0b=>{const _0x1b47e5=_0x353048;_0x41d69a[_0x1b47e5(0x3df)+_0x4e7a0b+_0x1b47e5(0xd1a)]=![];}),await updateDoc(_0x31517a,{..._0x41d69a,'status':_0x353048(0x5d6),'currentQuestionIndex':_0x2a5473,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x31517a,{'status':_0x353048(0x8f6)});});}async function handleJoinSyncGame(){const _0x21954d=_0x45c2ac,_0x101319=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x101319||_0x101319[_0x21954d(0x543)]()['length']!==0x2){showMessage(_0x21954d(0x6ae));return;}try{const _0x2e1174=collection(db,'artifacts/'+appId+_0x21954d(0x817)),_0x51190c=query(_0x2e1174,where(_0x21954d(0x205),'==',_0x101319[_0x21954d(0x543)]()),where(_0x21954d(0xc3e),'==',_0x21954d(0x659))),_0x3aa508=await getDocs(_0x51190c);if(_0x3aa508[_0x21954d(0x500)]){showMessage(_0x21954d(0xb10));return;}const _0x10b8ed=_0x3aa508[_0x21954d(0x22c)][0x0];currentLiveGameId=_0x10b8ed['id'];const _0x578989=_0x10b8ed[_0x21954d(0x10a)](),_0x34fef4=doc(db,_0x21954d(0x47d)+appId+'/public/data/quizzes',_0x578989[_0x21954d(0x476)]),_0x5a8e7a=await getDoc(_0x34fef4);if(!_0x5a8e7a[_0x21954d(0x6cc)]())throw new Error(_0x21954d(0x9bf));const _0x2648b1=_0x5a8e7a[_0x21954d(0x10a)](),_0x58bb8d=doc(db,_0x21954d(0x47d)+appId+_0x21954d(0x99f),_0x2648b1[_0x21954d(0x12d)]),_0x3265b0=await getDoc(_0x58bb8d);if(!_0x3265b0['exists']())throw new Error(_0x21954d(0x340));currentQuizData=_0x578989['shuffledQuiz'];const _0x5aa5c8=_0x3265b0[_0x21954d(0x10a)]();showView('student-team-join'),showTeamPlayerSelection(_0x5aa5c8[_0x21954d(0xcaf)],_0x2648b1[_0x21954d(0x26f)]);const _0x51131e=document[_0x21954d(0x286)](_0x21954d(0x5ef));_0x51131e[_0x21954d(0x2d8)]=confirmAndJoinSyncGame;}catch(_0x2c594b){console[_0x21954d(0x4da)](_0x21954d(0xa4a),_0x2c594b),showMessage(_0x21954d(0x1ae)+_0x2c594b[_0x21954d(0xc97)]);}}function updateStudentSyncView(_0x53be17){const _0x413856=_0x45c2ac,_0x2b0ef5=_0x53be17['players'][localTeamPlayers[0x0]];if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x53be17[_0x413856(0xc3e)]){case _0x413856(0x659):showView(_0x413856(0x6cd)),liveGameView[_0x413856(0x6ef)]=_0x413856(0xb77);break;case _0x413856(0x5d6):if(_0x53be17[_0x413856(0x895)]!==lastSeenQuestionIndex){console[_0x413856(0x241)](_0x413856(0xc72)),sessionStorage[_0x413856(0xca1)](_0x413856(0x319)),sessionStorage[_0x413856(0xca1)]('onSecondChance'),sessionStorage[_0x413856(0xca1)](_0x413856(0xca5));const _0x254e32=_0x413856(0x751)+lastSeenQuestionIndex,_0x2ffdcc='powerupUsed_q'+lastSeenQuestionIndex,_0x83cdbd=_0x413856(0x63e)+lastSeenQuestionIndex;Object[_0x413856(0xb99)](sessionStorage)[_0x413856(0x94d)](_0x620e56=>{const _0x2050b4=_0x413856;(_0x620e56[_0x2050b4(0x4ba)](_0x254e32)||_0x620e56[_0x2050b4(0x4ba)](_0x2ffdcc)||_0x620e56[_0x2050b4(0x4ba)](_0x83cdbd))&&sessionStorage[_0x2050b4(0xca1)](_0x620e56);}),lastSeenQuestionIndex=_0x53be17[_0x413856(0x895)];}localPlayerTurnIndex=0x0;const _0x51038b=localTeamPlayers[_0x413856(0x61b)](_0x23da8d=>_0x53be17[_0x413856(0x92e)][_0x23da8d]?.[_0x413856(0x48e)]===!![]);if(_0x51038b)liveGameView[_0x413856(0x6ef)]=_0x413856(0x52a);else{renderStudentSyncQuestionView(_0x53be17);if(_0x53be17[_0x413856(0xcda)]===_0x413856(0xcce)){if(!_0x53be17[_0x413856(0x183)]){console[_0x413856(0x241)](_0x413856(0x581));return;}const _0x22430d=_0x53be17['questionDisplayedAt']['toDate']()[_0x413856(0x32d)](),_0x3349ca=_0x53be17[_0x413856(0x80b)]*0x3e8,_0x34ef77=localTeamPlayers[_0x413856(0x764)](_0x114ba1=>_0x53be17[_0x413856(0x92e)][_0x114ba1]?.[_0x413856(0x43c)]||0x0),_0x463c7b=Math[_0x413856(0x75c)](..._0x34ef77,0x0),_0x52f909=_0x22430d+_0x3349ca+_0x463c7b;syncQuestionTimerInterval=setInterval(()=>{const _0x2b7c21=_0x413856,_0x26d0ed=_0x52f909-Date[_0x2b7c21(0x17c)](),_0x2e5be1=document[_0x2b7c21(0x286)](_0x2b7c21(0xe1)),_0x5883f8=document[_0x2b7c21(0x286)](_0x2b7c21(0x157));if(_0x26d0ed<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x2e5be1)_0x2e5be1[_0x2b7c21(0x760)][_0x2b7c21(0x710)]='0%';if(_0x5883f8)_0x5883f8['textContent']='0';liveGameView[_0x2b7c21(0x6ef)]=_0x2b7c21(0x482);}else{if(_0x2e5be1&&_0x5883f8){const _0x1ec2d5=_0x3349ca+_0x463c7b,_0x239ebe=_0x1ec2d5>0x0?_0x26d0ed/_0x1ec2d5*0x64:0x0;_0x2e5be1[_0x2b7c21(0x760)][_0x2b7c21(0x710)]=_0x239ebe+'%',_0x5883f8[_0x2b7c21(0x10e)]=Math[_0x2b7c21(0x228)](_0x26d0ed/0x3e8);}}},0x1f4);}}break;case _0x413856(0x78a):liveGameView[_0x413856(0x6ef)]=_0x413856(0x36b);break;case _0x413856(0x335):localPlayerTurnIndex=0x0;const _0x358637=_0x53be17[_0x413856(0xba)]||_0x413856(0xaee);if(_0x358637===_0x413856(0xbfa))renderStudentAnonymousResultsView(_0x53be17,_0x53be17[_0x413856(0x895)]);else _0x358637===_0x413856(0x9ee)?renderStudentCompetitionResultsView(_0x53be17,_0x53be17[_0x413856(0x895)]):renderStudentSyncResultsView(_0x53be17);break;case'podium':releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x413856(0xb74)]('fullscreenchange',handleFullscreenChange),document[_0x413856(0xb74)](_0x413856(0x9af),handleVisibilityChange),sessionStorage[_0x413856(0xca1)](_0x413856(0x5dc));const _0x1d7cb4=calculateFinalPodiumScores(_0x53be17);showPodiumView(_0x1d7cb4,_0x413856(0x55c),_0x53be17);break;}}function renderStudentSyncResultsView(_0x63c30f){const _0xc73be=_0x45c2ac,_0x4df74a=localTeamPlayers[_0xc73be(0x764)](_0x1e49a1=>_0x63c30f[_0xc73be(0x92e)][_0x1e49a1])[_0xc73be(0x624)](Boolean);_0x4df74a[_0xc73be(0x276)]((_0x4619d9,_0x44ec2)=>(_0x44ec2[_0xc73be(0x248)]||0x0)-(_0x4619d9['score']||0x0));const _0x21c56a=_0x63c30f['gameVariant']||_0xc73be(0xaee),_0x43cafa=_0x63c30f['shuffledQuiz'][_0xc73be(0xbc3)];let _0x10afd3='';if(_0x21c56a==='reveal_at_end'){const _0x504ba3=_0x63c30f['reviewQuestionIndex']>=_0x43cafa[_0xc73be(0xb81)]-0x1;_0x504ba3?_0x10afd3=_0xc73be(0x6d2):_0x10afd3='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>';}else{const _0x5041f7=_0x63c30f[_0xc73be(0x895)]>=_0x43cafa[_0xc73be(0xb81)]-0x1;_0x5041f7?_0x10afd3=_0xc73be(0x6d2):_0x10afd3=_0xc73be(0xd1b);}const _0x1e043c=_0xc73be(0x901)+_0x4df74a['map']((_0x581af5,_0x1e75d6)=>_0xc73be(0x595)+(_0x1e75d6+0x1)+_0xc73be(0x7f2)+_0x581af5[_0xc73be(0x224)]+_0xc73be(0xab6)+_0x581af5[_0xc73be(0x248)]+_0xc73be(0x97d))['join']('')+_0xc73be(0xadc)+_0x10afd3+_0xc73be(0x27f);liveGameView[_0xc73be(0x6ef)]=_0x1e043c;}function renderStudentAnonymousResultsView(_0x5692fd,_0x1b1a72){const _0x25066d=_0x45c2ac,_0x1e86b9=Object['values'](_0x5692fd['players']||{}),_0x2addb1=_0x1b1a72,_0x2da70a=_0x5692fd[_0x25066d(0xba)]||_0x25066d(0xaee),_0x18ea44=_0x5692fd['isAnonymousRevealed']===!![],_0x32c0c3=_0x5692fd[_0x25066d(0x8d0)]['questions'],_0x2cda3e=_0x1e86b9[_0x25066d(0x764)](_0x3f7aa1=>{const _0x5197ed=_0x25066d,_0x3a5a6c=_0x3f7aa1['score']||0x0,_0x4a5aa0=_0x3f7aa1[_0x5197ed(0x91)]||0x0,_0x1b5dc0=(_0x3f7aa1[_0x5197ed(0x8a5)]||[])[_0x5197ed(0x624)](_0x5846e2=>_0x2da70a==='reveal_at_end'?_0x5846e2[_0x5197ed(0xa05)]<=_0x2addb1:!![]);return{..._0x3f7aa1,'realScore':_0x3a5a6c,'totalPoints':_0x4a5aa0,'answers':_0x1b5dc0};}),_0x20f431=[..._0x2cda3e][_0x25066d(0x276)]((_0x53c94a,_0x2d3257)=>_0x2d3257[_0x25066d(0x91)]-_0x53c94a[_0x25066d(0x91)]),_0x15205f=_0x20f431[_0x25066d(0xb81)]>0x0?_0x20f431[0x0]['totalPoints']:0x0;let _0x2cfee3=null;const _0x31179e=_0x2cda3e[_0x25066d(0x624)](_0x13ce6a=>localTeamPlayers['includes'](_0x13ce6a[_0x25066d(0x224)]));_0x2cfee3=_0x31179e['length']>0x0?_0x31179e[_0x25066d(0x276)]((_0x5d7a5d,_0x986a5)=>_0x986a5[_0x25066d(0x91)]-_0x5d7a5d[_0x25066d(0x91)])[0x0]:null;if(!_0x2cfee3){liveGameView[_0x25066d(0x6ef)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>';return;}const _0x4459a7=_0x2cfee3[_0x25066d(0x91)]===_0x15205f&&_0x15205f>0x0,_0x36515f=_0x5692fd[_0x25066d(0xc44)]===!![],_0x36a38e=_0x1b1a72+0x1,_0x42ef14=_0x2cda3e[_0x25066d(0x624)](_0x23d47e=>_0x23d47e[_0x25066d(0x82d)]===_0x36a38e&&(_0x23d47e[_0x25066d(0x8a5)]||[])['length']===_0x36a38e&&_0x36a38e>0x0),_0x1b64e=_0x42ef14['length']>0x0?Math['max'](..._0x42ef14['map'](_0xb01c1a=>_0xb01c1a[_0x25066d(0x91)])):-Infinity,_0x408ee8=_0x20f431[_0x25066d(0x764)]((_0x48dbce,_0x201a6d)=>{const _0x52f234=_0x25066d,_0x1a05fb=_0x48dbce[_0x52f234(0x82d)],_0x3c5bfd=_0x48dbce['totalPoints'],_0x462c84=_0x48dbce[_0x52f234(0x8a5)][_0x52f234(0xb81)],_0x33e9e1=(_0x48dbce['answers']||[])['find'](_0x57fd8b=>_0x57fd8b['questionIndex']===_0x1b1a72);let _0x2ff2b4='';_0x33e9e1&&(_0x33e9e1[_0x52f234(0x30e)]&&(_0x2ff2b4+=_0x52f234(0x26e)),_0x33e9e1['wasForced']&&(_0x2ff2b4+=_0x52f234(0x545)),_0x33e9e1['wasJinxed']&&(_0x2ff2b4+='<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>'));let _0x4a741e='';const _0xf265ac=_0x48dbce[_0x52f234(0x8a5)][_0x52f234(0xb81)],_0x43c7ea=_0x48dbce[_0x52f234(0x82d)]===_0x36a38e&&_0xf265ac===_0x36a38e&&_0x36a38e>0x0;if(_0x36515f){const _0x5dbc7a=_0x43c7ea&&_0x48dbce[_0x52f234(0x91)]===_0x1b64e;if(_0x5dbc7a)_0x4a741e='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม\x20และ\x20Points\x20สูงสุด!\x22>👑</span>';else _0x43c7ea&&(_0x4a741e=_0x52f234(0x670));}else{if(_0xf265ac===_0x36a38e&&_0x36a38e>0x0){let _0xc7005b=_0x36a38e;_0x5692fd[_0x52f234(0x99)]&&(_0xc7005b=_0x36a38e*0x2);const _0x422900=_0x48dbce[_0x52f234(0x91)]===_0xc7005b;if(_0x422900)_0x4a741e=_0x52f234(0x60e);else _0x43c7ea&&(_0x4a741e=_0x52f234(0x670));}}if(_0x4a741e===''){if(_0x3c5bfd<0x0)_0x4a741e=_0x52f234(0x6f9);else _0x1a05fb===0x0&&_0xf265ac>0x0&&(_0x4a741e=_0x52f234(0x7e8));}let _0x2be66b='bg-black/20';const _0x1cf37b=(_0x48dbce[_0x52f234(0x8a5)]||[])[_0x52f234(0x7c7)](_0x429313=>_0x429313[_0x52f234(0xa05)]===_0x2addb1);if(_0x1cf37b){const _0x5abf22=_0x1cf37b[_0x52f234(0x995)],_0xd073f4=_0x1cf37b[_0x52f234(0x13e)]===!![]||_0x1cf37b[_0x52f234(0x13e)]===_0x52f234(0x90d),_0x8f60d=_0x1cf37b[_0x52f234(0x280)];if(_0x8f60d===_0x52f234(0x3f9))_0x2be66b=_0x5abf22?_0x52f234(0x4a4):'bg-red-700\x20text-white\x20font-bold';else{if(_0xd073f4)_0x2be66b=_0x5abf22?_0x52f234(0xec):_0x52f234(0x47e);else _0x5abf22&&(_0x2be66b='bg-[#DCFCE7]\x20text-green-900');}}let _0x31cd43='';const _0x5edc59=_0x48dbce[_0x52f234(0x224)],_0x5c2362=_0x5692fd[_0x52f234(0x81c)][_0x48dbce[_0x52f234(0x224)]]||_0x52f234(0x105),_0x64b2aa=_0x52f234(0x798),_0xaec28=_0x52f234(0xe8),_0x85815c=localTeamPlayers[_0x52f234(0x613)](_0x5edc59),_0x47867a=_0x2cfee3['totalPoints'],_0xefb204=_0x48dbce['totalPoints'];_0x18ea44?_0x31cd43=_0x52f234(0x7e3)+_0x64b2aa+_0x52f234(0x728)+_0x5edc59+'\x20('+_0x5c2362+_0x52f234(0xc93)+_0xaec28+'\x22>'+_0x5edc59+_0x52f234(0x68d)+_0x2ff2b4+'\x20'+_0x4a741e+'<span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22'+_0xaec28+_0x52f234(0x88a)+_0x5c2362+')</span></div>':_0x85815c?_0x4459a7?_0x31cd43=_0x52f234(0x7e3)+_0x64b2aa+_0x52f234(0x728)+_0x5edc59+'\x20('+_0x5c2362+_0x52f234(0xc93)+_0xaec28+'\x22>'+_0x5edc59+'</span>\x20'+_0x2ff2b4+'\x20'+_0x4a741e+_0x52f234(0x9fc)+_0xaec28+_0x52f234(0x88a)+_0x5c2362+_0x52f234(0x71d):_0x31cd43=_0x52f234(0x7e3)+_0x64b2aa+_0x52f234(0x728)+_0x5c2362+_0x52f234(0x5b9)+_0xaec28+'\x22>'+_0x5c2362+_0x52f234(0x68d)+_0x2ff2b4+'\x20'+_0x4a741e+_0x52f234(0x6c2):_0x47867a>_0xefb204?_0x31cd43='<div\x20style=\x22'+_0x64b2aa+_0x52f234(0x728)+_0x5edc59+'\x20('+_0x5c2362+')\x22><span\x20style=\x22'+_0xaec28+'\x22>'+_0x5edc59+_0x52f234(0x68d)+_0x2ff2b4+'\x20'+_0x4a741e+_0x52f234(0x9fc)+_0xaec28+_0x52f234(0x88a)+_0x5c2362+_0x52f234(0x71d):_0x31cd43=_0x52f234(0x7e3)+_0x64b2aa+'\x22\x20title=\x22'+_0x5c2362+_0x52f234(0x5b9)+_0xaec28+'\x22>'+_0x5c2362+'</span>\x20'+_0x2ff2b4+'\x20'+_0x4a741e+'</div>';const _0x3db6cf=_0x3c5bfd>=0x0?'(+'+_0x3c5bfd+')':'('+_0x3c5bfd+')',_0x4f684c=_0x52f234(0xbbf)+_0x48dbce[_0x52f234(0x82d)]+_0x52f234(0x7a8)+_0x3db6cf+_0x52f234(0x189);return _0x52f234(0x8d)+_0x2be66b+_0x52f234(0xb80)+(_0x201a6d+0x1)+_0x52f234(0x9ab)+_0x31cd43+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f684c+_0x52f234(0x51a);})[_0x25066d(0x6da)]('');let _0x481c0c='';const _0x13ede1=_0x2da70a===_0x25066d(0x171)?_0x5692fd['reviewQuestionIndex']>=_0x32c0c3[_0x25066d(0xb81)]-0x1:_0x5692fd['currentQuestionIndex']>=_0x32c0c3['length']-0x1;_0x13ede1?_0x481c0c=_0x25066d(0x6d2):_0x481c0c='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x3d30c6=_0x25066d(0x479)+_0x408ee8+_0x25066d(0x791)+_0x481c0c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x3d30c6;}function renderStudentCompetitionResultsView(_0x2dd072,_0x3fc659){const _0xedbf89=_0x45c2ac,_0xfbc50f=Object[_0xedbf89(0xa8e)](_0x2dd072[_0xedbf89(0x92e)]||{}),_0x3de1ab=_0x3fc659,_0x15216c=_0x2dd072[_0xedbf89(0xba)]||'classic',_0x1736a2=_0x2dd072['shuffledQuiz']['questions'],_0x20dbf3=_0xfbc50f[_0xedbf89(0x764)](_0x526071=>{const _0x4f6865=_0xedbf89,_0x29f5f8=_0x526071[_0x4f6865(0x248)]||0x0,_0x57167e=_0x526071['totalPoints']||0x0,_0xf8a66e=(_0x526071[_0x4f6865(0x8a5)]||[])[_0x4f6865(0x624)](_0xb9407=>_0x15216c===_0x4f6865(0x171)?_0xb9407[_0x4f6865(0xa05)]<=_0x3de1ab:!![]);return{..._0x526071,'realScore':_0x29f5f8,'totalPoints':_0x57167e,'answers':_0xf8a66e};}),_0x19acb1=[..._0x20dbf3][_0xedbf89(0x276)]((_0x36f48a,_0x52bd24)=>_0x52bd24[_0xedbf89(0x91)]-_0x36f48a[_0xedbf89(0x91)]),_0x479bdd=_0x19acb1[_0xedbf89(0x764)]((_0x2160c8,_0x1f36c6)=>{const _0x41b62c=_0xedbf89,_0x79539f='';let _0x447f79='bg-black/20';const _0x3d3c14=_0x2160c8['name'],_0x58f7bd=_0x41b62c(0x798),_0x5558ad=_0x41b62c(0xe8),_0x1bd3e6=_0x41b62c(0x7e3)+_0x58f7bd+'\x22\x20title=\x22'+_0x3d3c14+_0x41b62c(0x5b9)+_0x5558ad+'\x22>'+_0x3d3c14+_0x41b62c(0x189)+_0x79539f+'</div>',_0x384ad6='';return _0x41b62c(0x8d)+_0x447f79+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>'+(_0x1f36c6+0x1)+_0x41b62c(0x9ab)+_0x1bd3e6+_0x41b62c(0x4c9)+_0x384ad6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0xedbf89(0x6da)]('');let _0x3aba22='';const _0x28a292=_0x15216c==='reveal_at_end'?_0x2dd072[_0xedbf89(0xb9a)]>=_0x1736a2[_0xedbf89(0xb81)]-0x1:_0x2dd072[_0xedbf89(0x895)]>=_0x1736a2[_0xedbf89(0xb81)]-0x1;_0x28a292?_0x3aba22=_0xedbf89(0x6d2):_0x3aba22='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x2bd143=_0xedbf89(0x516)+_0x479bdd+_0xedbf89(0x791)+_0x3aba22+_0xedbf89(0x3b8);liveGameView[_0xedbf89(0x6ef)]=_0x2bd143;}function renderStudentSyncQuestionView(_0x5bfa28){const _0x54b4e1=_0x45c2ac,_0x44f01e=localTeamPlayers['find'](_0x4fc8b2=>_0x5bfa28[_0x54b4e1(0x92e)][_0x4fc8b2]&&_0x5bfa28[_0x54b4e1(0x92e)][_0x4fc8b2]['answered']===![]);if(!_0x44f01e){console[_0x54b4e1(0x241)](_0x54b4e1(0x3c1));return;}const _0x5e0322=_0x5bfa28[_0x54b4e1(0x92e)][_0x44f01e],_0x12d9ca=_0x5e0322[_0x54b4e1(0x91)]||0x0,_0x5ebc84=_0x5e0322[_0x54b4e1(0x3c7)]||{},_0x11b0ec=_0x5bfa28[_0x54b4e1(0x895)],_0x3c8e91=_0x5bfa28[_0x54b4e1(0x8d0)][_0x54b4e1(0xbc3)]['length'],_0x473553=_0x5bfa28['shuffledQuiz'][_0x54b4e1(0xbc3)][_0x11b0ec],_0x4b58da=_0x473553[_0x54b4e1(0x9f5)]||_0x5bfa28['shuffledQuiz'][_0x54b4e1(0x480)];let _0x162112='',_0x39789b=![];const _0x1f76ff=_0x54b4e1(0x63e)+_0x11b0ec+'_p'+_0x44f01e,_0x475a55=JSON[_0x54b4e1(0x8dc)](sessionStorage['getItem'](_0x1f76ff)||'[]')[_0x54b4e1(0x764)](String);switch(_0x4b58da){case'true_false':const _0x4b61ea=_0x475a55[_0x54b4e1(0x613)]('0')?'':'<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>',_0x4cb27e=_0x475a55['includes']('1')?'':'<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>';_0x162112=_0x4b61ea+_0x4cb27e;break;case'short_answer':case _0x54b4e1(0x12e):_0x39789b=!![],_0x162112=_0x54b4e1(0xc0c);break;case _0x54b4e1(0x2d6):_0x39789b=!![],_0x162112='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x473553[_0x54b4e1(0xeb)]||[])[_0x54b4e1(0x764)](_0x170164=>_0x54b4e1(0xba2)+_0x170164+'\x22>'+_0x170164+_0x54b4e1(0x978))[_0x54b4e1(0x6da)]('')+_0x54b4e1(0xa6);break;case _0x54b4e1(0xb86):default:_0x162112=(_0x473553[_0x54b4e1(0xa07)]||[])[_0x54b4e1(0x764)]((_0x3d098f,_0xba8f03)=>{const _0x4a4bd7=_0x54b4e1;if(_0x475a55['includes'](_0xba8f03['toString']()))return'';return _0x4a4bd7(0x5cf)+_0xba8f03+_0x4a4bd7(0x2cf)+_0x3d098f+_0x4a4bd7(0xc81);})[_0x54b4e1(0x6da)]('');break;}let _0x68a06='';_0x5bfa28['timerMode']===_0x54b4e1(0xcce)&&(_0x68a06=_0x54b4e1(0x6fe)+_0x5bfa28[_0x54b4e1(0x80b)]+'</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x2c3fd8='';if(_0x5bfa28[_0x54b4e1(0xc44)]===!![]){const _0x1dc54c=[_0x5ebc84[_0x54b4e1(0x741)]>0x0?'<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>50:50\x20('+_0x5ebc84['fiftyFifty']+_0x54b4e1(0x104):'',_0x5ebc84[_0x54b4e1(0x823)]>0x0?_0x54b4e1(0x426)+_0x5ebc84[_0x54b4e1(0x823)]+_0x54b4e1(0x104):'',_0x5ebc84[_0x54b4e1(0x126)]>0x0?_0x54b4e1(0x91f)+_0x5ebc84[_0x54b4e1(0x126)]+_0x54b4e1(0x104):'',_0x5ebc84[_0x54b4e1(0x83e)]>0x0?_0x54b4e1(0x25b)+_0x5ebc84[_0x54b4e1(0x83e)]+_0x54b4e1(0x104):'',_0x5ebc84[_0x54b4e1(0x3f9)]>0x0?_0x54b4e1(0x239)+_0x5ebc84[_0x54b4e1(0x3f9)]+_0x54b4e1(0x104):'',_0x5ebc84[_0x54b4e1(0xcea)]>0x0?_0x54b4e1(0xd13)+_0x5ebc84[_0x54b4e1(0xcea)]+')</button>':'',_0x5ebc84['jinx']>0x0?'<button\x20id=\x22use-powerup-jinx\x22\x20class=\x22powerup-btn\x20bg-red-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>👻\x20คำสาป\x20('+_0x5ebc84[_0x54b4e1(0x1d0)]+_0x54b4e1(0x104):'',_0x5ebc84[_0x54b4e1(0x206)]>0x0?_0x54b4e1(0x10f)+_0x5ebc84['secondChance']+_0x54b4e1(0x104):'',_0x5ebc84[_0x54b4e1(0x58f)]>0x0?'<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>ซื้อเวลา\x20('+_0x5ebc84[_0x54b4e1(0x58f)]+_0x54b4e1(0x104):'']['filter'](Boolean)['join']('\x20');_0x2c3fd8=_0x54b4e1(0x5bd)+_0x12d9ca+_0x54b4e1(0xbf)+(_0x1dc54c||_0x54b4e1(0xa65))+_0x54b4e1(0xc1b);}const _0x452c39=sessionStorage[_0x54b4e1(0x462)]('powerupUsedThisTurn');let _0x3b2f1b='';if(_0x452c39==='insurance')_0x3b2f1b=_0x54b4e1(0xbf0);else{if(_0x452c39==='wagerMultiplier')_0x3b2f1b=_0x54b4e1(0x33a);else _0x452c39===_0x54b4e1(0x206)&&(_0x3b2f1b='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-green-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🔁\x20โอกาสครั้งที่สองทำงานอยู่!</div>');}liveGameView['innerHTML']=_0x54b4e1(0xa9c)+(_0x11b0ec+0x1)+'\x20/\x20'+_0x3c8e91+_0x54b4e1(0xaba)+_0x44f01e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x68a06+_0x54b4e1(0xbb5)+_0x2c3fd8+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b2f1b+_0x54b4e1(0xad9)+(_0x473553[_0x54b4e1(0x3a5)]||_0x473553[_0x54b4e1(0xcfa)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x162112+_0x54b4e1(0xaf5);if(window[_0x54b4e1(0x36f)])MathJax[_0x54b4e1(0x8c4)]();function _0x4e718d(_0x1c60fb,_0x108c9f,_0x17b23d,_0xe6b352){const _0x2e1414=_0x54b4e1,_0x46738f=_0x17b23d['isConfidenceScoringEnabled']===!![],_0x6cc3df=_0x17b23d[_0x2e1414(0x895)],_0xd0d07d='powerupUsed_q'+_0x6cc3df+'_p'+_0xe6b352,_0x3f9403=sessionStorage[_0x2e1414(0x462)](_0xd0d07d),_0xef0571=_0x3f9403==='wagerMultiplier',_0x28efaf=_0x17b23d[_0x2e1414(0x92e)][_0xe6b352];if(_0xef0571){const _0x4ee667=document[_0x2e1414(0x286)](_0x2e1414(0xab)),_0x31784a=document[_0x2e1414(0x286)](_0x2e1414(0x4bb)),_0x5713c9=document['getElementById']('wager-amount-display'),_0x2f0820=document[_0x2e1414(0x286)]('wager-max-points'),_0x4f84b4=_0x28efaf[_0x2e1414(0x91)]||0x0;_0x31784a[_0x2e1414(0x75c)]=_0x4f84b4,_0x31784a['value']=0x0,_0x5713c9[_0x2e1414(0x10e)]=0x0,_0x2f0820['textContent']=_0x4f84b4,_0x31784a[_0x2e1414(0x28a)]=()=>{const _0x13a634=_0x2e1414;_0x5713c9[_0x13a634(0x10e)]=_0x31784a[_0x13a634(0x227)];};const _0x247a37=document['getElementById']('selected-answer-index-hidden-wager');_0x247a37[_0x2e1414(0x24b)][_0x2e1414(0x69e)]=_0x1c60fb,_0x247a37[_0x2e1414(0x24b)]['question']=JSON['stringify'](_0x108c9f),_0x247a37[_0x2e1414(0x24b)][_0x2e1414(0xc30)]=JSON[_0x2e1414(0x2d7)](_0x17b23d),_0x247a37[_0x2e1414(0x24b)][_0x2e1414(0x6c7)]=_0xe6b352,_0x4ee667[_0x2e1414(0x707)][_0x2e1414(0x6d1)](_0x2e1414(0xb5c));}else{if(_0x46738f){document[_0x2e1414(0x286)](_0x2e1414(0x7f))[_0x2e1414(0x24b)]['currentMode']='sync';const _0x35a19c=document[_0x2e1414(0x286)]('selected-answer-index-hidden');_0x35a19c[_0x2e1414(0x24b)][_0x2e1414(0x69e)]=_0x1c60fb,_0x35a19c[_0x2e1414(0x24b)]['question']=JSON[_0x2e1414(0x2d7)](_0x108c9f),_0x35a19c[_0x2e1414(0x24b)][_0x2e1414(0xc30)]=JSON['stringify'](_0x17b23d),_0x35a19c[_0x2e1414(0x24b)]['playerName']=_0xe6b352,document[_0x2e1414(0x286)]('confidence-modal')['classList'][_0x2e1414(0x6d1)](_0x2e1414(0xb5c));}else handleSyncAnswerSubmit(_0x1c60fb,_0x108c9f,_0x17b23d,_0xe6b352,![],0x0);}}_0x39789b?document[_0x54b4e1(0x286)](_0x54b4e1(0xaa3))[_0x54b4e1(0x504)]('click',()=>{const _0x19e33b=_0x54b4e1,_0x306d5f=document[_0x19e33b(0x286)]('sync-short-answer-input')||document['getElementById'](_0x19e33b(0x49c));if(_0x306d5f[_0x19e33b(0x227)][_0x19e33b(0x543)]()===''){showMessage(_0x19e33b(0x25a));return;}_0x4e718d(_0x306d5f[_0x19e33b(0x227)],_0x473553,_0x5bfa28,_0x44f01e);}):document[_0x54b4e1(0x640)](_0x54b4e1(0x498))[_0x54b4e1(0x94d)](_0x3f7cd2=>{const _0x3e4e68=_0x54b4e1;_0x3f7cd2['addEventListener'](_0x3e4e68(0x936),()=>{const _0x197e9e=_0x3e4e68;_0x4e718d(_0x3f7cd2[_0x197e9e(0x24b)][_0x197e9e(0x227)],_0x473553,_0x5bfa28,_0x44f01e);});});if(_0x5bfa28[_0x54b4e1(0xc44)]===!![]){const _0x25c9e3=document[_0x54b4e1(0x286)](_0x54b4e1(0x229));_0x25c9e3&&_0x25c9e3['addEventListener'](_0x54b4e1(0x936),()=>{const _0x4ad663=_0x54b4e1,_0x3e66fd=_0x5bfa28[_0x4ad663(0x895)],_0x1b3947=_0x44f01e,_0x341078=_0x4ad663(0x751)+_0x3e66fd+'_p'+_0x1b3947,_0x99b412=sessionStorage['getItem'](_0x341078)==='true';if(!_0x99b412)console[_0x4ad663(0x241)](_0x4ad663(0xcd2)+_0x3e66fd+'):\x20ฟรี'),openBlackMarket(_0x5bfa28,_0x5e0322),sessionStorage['setItem'](_0x341078,'true');else{console['log']('เข้าตลาดมืดครั้งที่\x202+\x20(ข้อ\x20'+_0x3e66fd+_0x4ad663(0xb12));if(_0x5e0322[_0x4ad663(0x91)]<0x1){showMessage('คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)\x20เพื่อเข้าตลาดมืดอีกครั้ง');return;}showConfirmation(_0x4ad663(0x916),()=>{handlePayForMarketEntry(_0x44f01e,_0x5bfa28,_0x5e0322);});}}),document[_0x54b4e1(0x286)](_0x54b4e1(0x12a))?.[_0x54b4e1(0x504)]('click',_0x4f695c=>{const _0x27f1c1=_0x54b4e1,_0xa6096e=_0x4f695c[_0x27f1c1(0x797)];_0xa6096e[_0x27f1c1(0x790)]=!![],showConfirmation(_0x27f1c1(0x91d),()=>{const _0x4f8b42=_0x27f1c1;handleUsePowerup(_0x44f01e,_0x4f8b42(0x126),_0x473553,_0x5bfa28,_0x5e0322);},()=>{const _0x21f38d=_0x27f1c1;_0xa6096e[_0x21f38d(0x790)]=![];});}),document[_0x54b4e1(0x286)](_0x54b4e1(0xc4d))?.[_0x54b4e1(0x504)](_0x54b4e1(0x936),_0x3ea26c=>{const _0x9c3dc9=_0x54b4e1;_0x3ea26c[_0x9c3dc9(0x797)][_0x9c3dc9(0x790)]=!![],handleUsePowerup(_0x44f01e,_0x9c3dc9(0x58f),_0x473553,_0x5bfa28,_0x5e0322);}),document['getElementById'](_0x54b4e1(0x940))?.['addEventListener']('click',_0x185990=>{const _0x887fc1=_0x54b4e1;_0x185990[_0x887fc1(0x797)][_0x887fc1(0x790)]=!![],handleUsePowerup(_0x44f01e,_0x887fc1(0x1d0),_0x473553,_0x5bfa28,_0x5e0322);}),document[_0x54b4e1(0x286)](_0x54b4e1(0x8e5))?.[_0x54b4e1(0x504)](_0x54b4e1(0x936),_0x411f27=>{const _0x2a830d=_0x54b4e1;_0x411f27[_0x2a830d(0x797)][_0x2a830d(0x790)]=!![],handleUsePowerup(_0x44f01e,_0x2a830d(0x823),_0x473553,_0x5bfa28,_0x5e0322);}),document[_0x54b4e1(0x286)](_0x54b4e1(0x71f))?.[_0x54b4e1(0x504)](_0x54b4e1(0x936),_0x30c174=>{const _0x3b2614=_0x54b4e1;_0x30c174[_0x3b2614(0x797)][_0x3b2614(0x790)]=!![],handleUsePowerup(_0x44f01e,_0x3b2614(0x83e),_0x473553,_0x5bfa28,_0x5e0322);}),document[_0x54b4e1(0x286)]('use-powerup-wagerMultiplier')?.[_0x54b4e1(0x504)](_0x54b4e1(0x936),_0x491c9a=>{const _0x49bdee=_0x54b4e1;_0x491c9a[_0x49bdee(0x797)][_0x49bdee(0x790)]=!![],handleUsePowerup(_0x44f01e,_0x49bdee(0x3f9),_0x473553,_0x5bfa28,_0x5e0322);}),document['getElementById'](_0x54b4e1(0x5c1))?.['addEventListener']('click',_0x2140e9=>{const _0x3dd623=_0x54b4e1;_0x2140e9['target'][_0x3dd623(0x790)]=!![],handleUsePowerup(_0x44f01e,_0x3dd623(0xcea),_0x473553,_0x5bfa28,_0x5e0322);}),document[_0x54b4e1(0x286)](_0x54b4e1(0x77e))?.[_0x54b4e1(0x504)](_0x54b4e1(0x936),_0x673a1b=>{const _0x532fb5=_0x54b4e1;_0x673a1b['target'][_0x532fb5(0x790)]=!![],handleUsePowerup(_0x44f01e,'fiftyFifty',_0x473553,_0x5bfa28,_0x5e0322);}),document[_0x54b4e1(0x286)](_0x54b4e1(0x78d))?.[_0x54b4e1(0x504)]('click',_0x485682=>{const _0x4e7207=_0x54b4e1;_0x485682[_0x4e7207(0x797)][_0x4e7207(0x790)]=!![],handleUsePowerup(_0x44f01e,'secondChance',_0x473553,_0x5bfa28,_0x5e0322);});}}async function handleSyncAnswerSubmit(_0x1a8a66,_0x3c98ff,_0x488b7b,_0x43fd20,_0x5db9ac,_0x218cbc=0x0){const _0x265672=_0x45c2ac;document[_0x265672(0x640)](_0x265672(0xf8))['forEach'](_0x4646a2=>_0x4646a2[_0x265672(0x790)]=!![]);const _0x4ffa5e=_0x488b7b[_0x265672(0x895)],_0x2f0d15=_0x265672(0x4de)+_0x4ffa5e+'_p'+_0x43fd20,_0x2b4e5d=sessionStorage[_0x265672(0x462)](_0x2f0d15),_0x5ae2b9=_0x488b7b[_0x265672(0x92e)][_0x43fd20]?.[_0x265672(0x93c)]===!![],_0x486fc2=sessionStorage['getItem']('onSecondChance')===_0x265672(0x160),_0x35b324=_0x3c98ff[_0x265672(0x9f5)]||_0x488b7b[_0x265672(0x8d0)][_0x265672(0x480)];let _0x13f1a9=![],_0x25187c=_0x1a8a66;switch(_0x35b324){case _0x265672(0xcbb):const _0x59bc45=parseInt(_0x1a8a66),_0x1e20c7=_0x3c98ff[_0x265672(0xc42)]===!![]||String(_0x3c98ff[_0x265672(0xc42)])[_0x265672(0x3f0)]()===_0x265672(0x160);_0x13f1a9=_0x59bc45===0x0&&_0x1e20c7||_0x59bc45===0x1&&!_0x1e20c7,_0x25187c=_0x59bc45===0x0?_0x265672(0x599):_0x265672(0x5f1);break;case _0x265672(0x27d):case'fill_in_no_choices':_0x13f1a9=await gradeShortAnswer(_0x1a8a66,_0x3c98ff);break;case'matching_item':_0x13f1a9=_0x1a8a66===_0x3c98ff['correctResponse'];break;case _0x265672(0xb86):default:const _0x32753e=parseInt(_0x1a8a66);_0x13f1a9=_0x32753e===_0x3c98ff[_0x265672(0xc51)];_0x3c98ff[_0x265672(0xa07)]&&_0x3c98ff[_0x265672(0xa07)][_0x32753e]&&(_0x25187c=_0x3c98ff[_0x265672(0xa07)][_0x32753e]);break;}if(!_0x13f1a9&&_0x2b4e5d===_0x265672(0x206)&&!_0x486fc2){sessionStorage[_0x265672(0xca1)]('powerupUsedThisTurn'),sessionStorage['setItem'](_0x265672(0x45c),_0x265672(0x160)),showMessage('คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง'),document[_0x265672(0x640)](_0x265672(0xf8))[_0x265672(0x94d)](_0x130bc1=>{const _0x564df9=_0x265672;!_0x130bc1['classList'][_0x564df9(0xb7c)]('hidden')&&(_0x130bc1[_0x564df9(0x790)]=![]);});return;}const _0x69f60e=doc(db,_0x265672(0x47d)+appId+'/public/data/syncGames',currentLiveGameId),_0x3a0535={},_0x168a5b=_0x488b7b[_0x265672(0x92e)][_0x43fd20]?.[_0x265672(0x8a5)]||[];let _0xc06dba=0x0;const _0x194c4e=_0x2b4e5d===_0x265672(0x3f9),_0x575b28=_0x2b4e5d===_0x265672(0x83e),_0x2e37a6=sessionStorage[_0x265672(0x462)](_0x265672(0xca5))===_0x265672(0x160),_0x1bde5e=_0x488b7b[_0x265672(0x92e)][_0x43fd20]?.[_0x265672(0x90a)]===!![];if(_0x5ae2b9)_0xc06dba=_0x13f1a9?0x2:-0x1;else{if(_0x194c4e){const _0x34c003=parseInt(_0x218cbc,0xa)||0x0;_0xc06dba=_0x13f1a9?_0x34c003*0x2:-_0x34c003;}else{if(_0x2e37a6&&!_0x13f1a9)_0x5db9ac===!![]||_0x5db9ac==='confident'?_0xc06dba=-0x4:_0xc06dba=-0x2;else{if(_0x488b7b[_0x265672(0x99)]){if(_0x13f1a9&&(_0x5db9ac===!![]||_0x5db9ac===_0x265672(0x90d)))_0xc06dba=0x2;else{if(_0x13f1a9)_0xc06dba=0x1;else{if(!_0x13f1a9&&(_0x5db9ac===![]||_0x5db9ac===_0x265672(0x11e)||_0x5db9ac===null))_0xc06dba=0x0;else!_0x13f1a9&&(_0x5db9ac===!![]||_0x5db9ac==='confident')&&(_0xc06dba=-0x1);}}}else _0xc06dba=_0x13f1a9?0x1:0x0;}}}_0x1bde5e&&!_0x13f1a9&&_0xc06dba<0x0&&(_0xc06dba*=0x2);!_0x13f1a9&&_0x575b28&&(_0xc06dba=0x0);const _0x1bb465={'questionIndex':_0x488b7b[_0x265672(0x895)],'questionId':_0x3c98ff['id'],'answer':_0x1a8a66,'answerText':_0x25187c,'isCorrect':_0x13f1a9,'originalQuestionText':_0x3c98ff['questionText']||_0x3c98ff['stem'],'wasConfident':_0x5ae2b9?_0x265672(0x90d):_0x5db9ac||![],'pointsAwarded':_0xc06dba,'powerupUsed':_0x2b4e5d||null,'wasJinxed':_0x1bde5e||![],'wasForced':_0x5ae2b9||![],'usedPoll':_0x2e37a6||![]},_0x2d4cf2=_0x168a5b['filter'](_0x1f4a20=>_0x1f4a20[_0x265672(0xa05)]!==_0x488b7b[_0x265672(0x895)]),_0x5e5a21=[..._0x2d4cf2,_0x1bb465],_0x4c4929=_0x5e5a21[_0x265672(0x624)](_0x514a33=>_0x514a33[_0x265672(0x995)])['length'];_0x3a0535[_0x265672(0x3df)+_0x43fd20+_0x265672(0xa47)]=_0x5e5a21,_0x3a0535[_0x265672(0x3df)+_0x43fd20+'.score']=_0x4c4929,_0x3a0535[_0x265672(0x3df)+_0x43fd20+_0x265672(0x63d)]=increment(_0xc06dba),_0x3a0535[_0x265672(0x3df)+_0x43fd20+_0x265672(0xd1a)]=!![];_0x5ae2b9&&(_0x3a0535[_0x265672(0x3df)+_0x43fd20+_0x265672(0xba8)]=![]);_0x486fc2&&sessionStorage[_0x265672(0xca1)]('onSecondChance');let _0x48fc3a=null;(_0x35b324===_0x265672(0xb86)||_0x35b324==='true_false'||_0x35b324==='fill_in_with_choices')&&(_0x48fc3a=parseInt(_0x1a8a66)),_0x3a0535[_0x265672(0x3df)+_0x43fd20+'.lastAnswerIndex']=_0x48fc3a,await updateDoc(_0x69f60e,_0x3a0535);}const allMarketItems=[{'id':_0x45c2ac(0x58f),'name':_0x45c2ac(0xc41),'price':0x1,'desc':_0x45c2ac(0x3ab)},{'id':_0x45c2ac(0x126),'name':_0x45c2ac(0x865),'price':0x2,'desc':_0x45c2ac(0x531)},{'id':'cutOne','name':_0x45c2ac(0xccb),'price':0x2,'desc':_0x45c2ac(0xaa9)},{'id':'insurance','name':_0x45c2ac(0xef),'price':0x3,'desc':'ในข้อนี้\x20ถ้าคุณตอบผิด\x20บทลงโทษทั้งหมดจะเป็น\x200'},{'id':_0x45c2ac(0x741),'name':_0x45c2ac(0x496),'price':0x4,'desc':_0x45c2ac(0xaa6)},{'id':'forceConfident','name':_0x45c2ac(0x13a),'price':0x4,'desc':_0x45c2ac(0x3bb)},{'id':_0x45c2ac(0x3f9),'name':_0x45c2ac(0xb79),'price':0x5,'desc':'ปิดระบบมั่นใจ\x20และเปลี่ยนเป็น\x20\x22เดิมพัน\x22\x20(ถูกได้\x20+2x,\x20ผิดเสีย\x20-1x\x20ที่เดิมพัน)'},{'id':_0x45c2ac(0x1d0),'name':_0x45c2ac(0x4dd),'price':0x5,'desc':'เลือกผู้เล่น\x201\x20คน\x20หากผู้เล่นนั้นตอบผิดในข้อนี้\x20\x22บทลงโทษทั้งหมด\x22\x20จะ\x20x2\x20(ถ้าตอบถูกได้คะแนนปกติ)'},{'id':_0x45c2ac(0x206),'name':_0x45c2ac(0x19f),'price':0x7,'desc':_0x45c2ac(0x7a6)}];function openBlackMarket(_0x1a12d0,_0x2f17d6){const _0x180553=_0x45c2ac;let _0x2b44e5=null;const _0x98a09=document[_0x180553(0x286)](_0x180553(0xaab)),_0x12897b=document['getElementById'](_0x180553(0xcb8)),_0x352e38=document[_0x180553(0x286)]('market-current-points'),_0x4e0b4d=document['getElementById']('market-timer-bar'),_0x3b6d67=_0x2f17d6['totalPoints']||0x0;_0x352e38[_0x180553(0x10e)]=_0x3b6d67;const _0x329c75=allMarketItems;_0x12897b[_0x180553(0x6ef)]=_0x329c75['map'](_0x8791d3=>{const _0xef2e4d=_0x180553,_0x3a43ae=_0x3b6d67>=_0x8791d3[_0xef2e4d(0xa13)];if(_0x8791d3['id']===_0xef2e4d(0x58f)){const _0x200e82=_0x3a43ae?Math[_0xef2e4d(0xb7e)](_0x3b6d67/_0x8791d3['price']):0x0,_0x4c8f66=_0x3b6d67>=_0x8791d3[_0xef2e4d(0xa13)];return _0xef2e4d(0x61d)+(!_0x4c8f66?_0xef2e4d(0xc1):_0xef2e4d(0xbca))+_0xef2e4d(0xb38)+_0x8791d3[_0xef2e4d(0x224)]+_0xef2e4d(0x3be)+_0x8791d3[_0xef2e4d(0x987)]+_0xef2e4d(0x19c)+_0x200e82+'\x22\x20'+(!_0x4c8f66?_0xef2e4d(0x790):'')+_0xef2e4d(0x537)+(_0x4c8f66?'bg-indigo-600\x20hover:bg-indigo-700':'bg-gray-400')+_0xef2e4d(0x82a)+_0x8791d3['id']+_0xef2e4d(0xfe)+_0x8791d3[_0xef2e4d(0xa13)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4c8f66?_0xef2e4d(0x790):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20('+_0x8791d3[_0xef2e4d(0xa13)]+_0xef2e4d(0xd21);}else{const _0x2f760f=!_0x3a43ae?_0xef2e4d(0x790):'',_0x2ebb9b=_0x3a43ae?_0xef2e4d(0x67):'bg-gray-400';return _0xef2e4d(0x61d)+(!_0x3a43ae?_0xef2e4d(0xc1):_0xef2e4d(0xbca))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>'+_0x8791d3[_0xef2e4d(0x224)]+_0xef2e4d(0x3be)+_0x8791d3[_0xef2e4d(0x987)]+_0xef2e4d(0x552)+_0x2ebb9b+_0xef2e4d(0xa03)+_0x8791d3['id']+_0xef2e4d(0x111)+_0x8791d3['price']+_0xef2e4d(0x269)+_0x2f760f+_0xef2e4d(0xd6)+_0x8791d3[_0xef2e4d(0xa13)]+_0xef2e4d(0x568);}})[_0x180553(0x6da)](''),_0x98a09[_0x180553(0x707)]['remove'](_0x180553(0xb5c)),_0x4e0b4d[_0x180553(0x760)][_0x180553(0xc6a)]=_0x180553(0x5ba),_0x4e0b4d['style'][_0x180553(0x710)]='100%',setTimeout(()=>{const _0x1f79f6=_0x180553;_0x4e0b4d[_0x1f79f6(0x760)]['transition']='width\x2060s\x20linear',_0x4e0b4d['style'][_0x1f79f6(0x710)]='0%';},0x32),_0x2b44e5=setTimeout(()=>{const _0x203ace=_0x180553;_0x98a09[_0x203ace(0x707)]['add'](_0x203ace(0xb5c));},0xea60),document[_0x180553(0x286)]('close-market-btn')[_0x180553(0x2d8)]=()=>{const _0x2a66f6=_0x180553;clearTimeout(_0x2b44e5),_0x98a09[_0x2a66f6(0x707)][_0x2a66f6(0xbfd)](_0x2a66f6(0xb5c));},_0x12897b[_0x180553(0x640)](_0x180553(0x197))['forEach'](_0x414285=>{_0x414285['onclick']=_0x51fd95=>{const _0x12d55d=_0x1af4,_0x558d35=_0x51fd95['target'][_0x12d55d(0x24b)][_0x12d55d(0x827)],_0x257d59=parseInt(_0x51fd95['target'][_0x12d55d(0x24b)][_0x12d55d(0xa13)],0xa);clearTimeout(_0x2b44e5),_0x98a09[_0x12d55d(0x707)][_0x12d55d(0xbfd)](_0x12d55d(0xb5c)),handleBuyItem(_0x2f17d6[_0x12d55d(0x224)],_0x558d35,_0x257d59,0x1);};}),_0x12897b['querySelectorAll']('.buy-time-confirm-btn')[_0x180553(0x94d)](_0x5e78cf=>{const _0x4e0a5e=_0x180553;_0x5e78cf[_0x4e0a5e(0x2d8)]=_0x1df761=>{const _0xe58266=_0x4e0a5e,_0x397aa1=_0x1df761[_0xe58266(0x797)][_0xe58266(0x24b)]['itemId'],_0x577c61=parseInt(_0x1df761['target']['dataset']['price'],0xa),_0xf69bae=document[_0xe58266(0x286)]('buy-time-quantity-input'),_0x256c77=parseInt(_0xf69bae[_0xe58266(0x227)],0xa),_0x1b42dc=parseInt(_0xf69bae['max'],0xa);if(!_0x256c77||_0x256c77<0x1){showMessage('กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)');return;}if(_0x256c77>_0x1b42dc){showMessage(_0xe58266(0x9a8)+_0x1b42dc+_0xe58266(0x758));return;}clearTimeout(_0x2b44e5),_0x98a09[_0xe58266(0x707)]['add'](_0xe58266(0xb5c)),handleBuyItem(_0x2f17d6['name'],_0x397aa1,_0x577c61,_0x256c77);};});}async function handleBuyItem(_0x372289,_0x4c455e,_0x2732fc,_0x473559=0x1){const _0x48d89b=_0x45c2ac,_0xa6d716=doc(db,_0x48d89b(0x47d)+appId+_0x48d89b(0x817),currentLiveGameId);try{await runTransaction(db,async _0x456154=>{const _0xf6b8ec=_0x48d89b,_0x3089f9=await _0x456154[_0xf6b8ec(0x909)](_0xa6d716);if(!_0x3089f9['exists']())throw _0xf6b8ec(0x406);const _0x507095=_0x3089f9[_0xf6b8ec(0x10a)](),_0x37c94b=_0x507095[_0xf6b8ec(0x92e)][_0x372289]?.[_0xf6b8ec(0x91)]||0x0,_0x411546=_0x2732fc*_0x473559;if(_0x37c94b<_0x411546)throw'มี\x20Points\x20ไม่เพียงพอ';const _0x3bbbd1={};_0x3bbbd1[_0xf6b8ec(0x3df)+_0x372289+_0xf6b8ec(0x63d)]=increment(-_0x411546),_0x3bbbd1[_0xf6b8ec(0x3df)+_0x372289+'.powerups.'+_0x4c455e]=increment(_0x473559),_0x456154[_0xf6b8ec(0xacb)](_0xa6d716,_0x3bbbd1);}),showMessage(_0x48d89b(0x2d2)+_0x4c455e+_0x48d89b(0xa2e)+_0x473559+_0x48d89b(0x289));}catch(_0x1a6697){console[_0x48d89b(0x4da)](_0x48d89b(0xa7d),_0x1a6697),showMessage(typeof _0x1a6697==='string'?_0x1a6697:_0x48d89b(0x161));}}async function handlePayForMarketEntry(_0x217ef2,_0x126237,_0x4b9367){const _0x133563=_0x45c2ac,_0x2798a6=doc(db,'artifacts/'+appId+_0x133563(0x817),currentLiveGameId);try{await runTransaction(db,async _0x5a08c7=>{const _0x55f74c=_0x133563,_0x580d34=await _0x5a08c7[_0x55f74c(0x909)](_0x2798a6);if(!_0x580d34[_0x55f74c(0x6cc)]())throw'ไม่พบข้อมูลเกม';const _0x1e0906=_0x580d34['data'](),_0x1c3fd2=_0x1e0906['players'][_0x217ef2]?.['totalPoints']||0x0;if(_0x1c3fd2<0x1)throw _0x55f74c(0x804);const _0x461d70={};_0x461d70[_0x55f74c(0x3df)+_0x217ef2+_0x55f74c(0x63d)]=increment(-0x1),_0x5a08c7[_0x55f74c(0xacb)](_0x2798a6,_0x461d70);});const _0x14dc34={..._0x4b9367,'totalPoints':(_0x4b9367['totalPoints']||0x0)-0x1};openBlackMarket(_0x126237,_0x14dc34);}catch(_0x3466){console[_0x133563(0x4da)](_0x133563(0x805),_0x3466),showMessage(typeof _0x3466===_0x133563(0xa00)?_0x3466:_0x133563(0x667));}}initialize();
