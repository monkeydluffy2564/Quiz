const _0x587d0b=_0x341e;(function(_0x5db48b,_0x2caf54){const _0x320e33=_0x341e,_0x2b6580=_0x5db48b();while(!![]){try{const _0x5bed0d=-parseInt(_0x320e33(0x7d0))/0x1+-parseInt(_0x320e33(0x825))/0x2*(-parseInt(_0x320e33(0x8d7))/0x3)+parseInt(_0x320e33(0xb3e))/0x4*(parseInt(_0x320e33(0x709))/0x5)+parseInt(_0x320e33(0xe6))/0x6+-parseInt(_0x320e33(0x9ec))/0x7+parseInt(_0x320e33(0x717))/0x8*(parseInt(_0x320e33(0x569))/0x9)+-parseInt(_0x320e33(0x177))/0xa;if(_0x5bed0d===_0x2caf54)break;else _0x2b6580['push'](_0x2b6580['shift']());}catch(_0x20f990){_0x2b6580['push'](_0x2b6580['shift']());}}}(_0x368d,0x8f9d5));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x587d0b(0xa23),_0x587d0b(0xba),_0x587d0b(0x22f),_0x587d0b(0xa53),_0x587d0b(0xb7d),_0x587d0b(0x379),_0x587d0b(0xaa1),_0x587d0b(0x23f),_0x587d0b(0xb3f),_0x587d0b(0x5cd),_0x587d0b(0x6f9),'มือปราบสายรุ้ง',_0x587d0b(0x6f7),'สายลมแห่งโชคชะตา',_0x587d0b(0x5f4),_0x587d0b(0x9db),_0x587d0b(0x429),_0x587d0b(0xad4),_0x587d0b(0xc22),_0x587d0b(0x68b),_0x587d0b(0x2ee),_0x587d0b(0x913),_0x587d0b(0x9d8),_0x587d0b(0x139),_0x587d0b(0x8c2),'หมาป่าเดียวดาย','กระต่ายตื่นตูม',_0x587d0b(0x551),_0x587d0b(0x935),_0x587d0b(0x582),'ยอดนักสืบ',_0x587d0b(0x638),'คนดีศรีสยาม',_0x587d0b(0x729),_0x587d0b(0x949),_0x587d0b(0x5c4),_0x587d0b(0x7a),_0x587d0b(0x938),_0x587d0b(0x5a8),'ดาวสภา',_0x587d0b(0xa83),_0x587d0b(0xb73),'ส้มตำปูปลาร้า',_0x587d0b(0x356),_0x587d0b(0x5c6),_0x587d0b(0x953),'หมูกระทะจะเยียวยาทุกสิ่ง','ครัวซองต์',_0x587d0b(0x3f2),'ลาเต้ไม่หวาน',_0x587d0b(0x9d4),'ปวดหลัง',_0x587d0b(0x160),'นอนไม่พอ',_0x587d0b(0x65f),_0x587d0b(0x738),_0x587d0b(0x94),_0x587d0b(0x651),'404\x20Not\x20Found',_0x587d0b(0x294),_0x587d0b(0xacd),_0x587d0b(0x4c6),_0x587d0b(0x290),_0x587d0b(0xba2),_0x587d0b(0x782),_0x587d0b(0x4e4),'ทะเล','ภูเขา',_0x587d0b(0x15b),_0x587d0b(0x70c),_0x587d0b(0x6ec),_0x587d0b(0x4a3),'เกมเมอร์',_0x587d0b(0x9cc),'นักดนตรี',_0x587d0b(0x627),'นักวิทยาศาสตร์',_0x587d0b(0x58e),_0x587d0b(0x659),'ครูใหญ่','พลังคลื่นเต่า',_0x587d0b(0x4c8),_0x587d0b(0x611),_0x587d0b(0x329),_0x587d0b(0x665),_0x587d0b(0x999),_0x587d0b(0x6ee),_0x587d0b(0x3ca),_0x587d0b(0x8f1),_0x587d0b(0x756),'รักแรกพบ',_0x587d0b(0x94f),'แอบชอบ','อกหัก',_0x587d0b(0x552),_0x587d0b(0x812),_0x587d0b(0x8e1),_0x587d0b(0x58b),_0x587d0b(0x826),_0x587d0b(0x967)];let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x587d0b(0xafb),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x587d0b(0xafb),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x587d0b(0xafb),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x125f4a=_0x587d0b;if(_0x125f4a(0x920)in navigator)try{wakeLock=await navigator[_0x125f4a(0x920)][_0x125f4a(0x22d)](_0x125f4a(0xa7e)),console[_0x125f4a(0x564)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x125f4a(0x5e1)]('release',()=>{const _0x139128=_0x125f4a;console['log'](_0x139128(0x163));});}catch(_0x5361ad){console[_0x125f4a(0x48f)](_0x125f4a(0x1c3)+_0x5361ad[_0x125f4a(0x683)]+',\x20'+_0x5361ad['message']);}else console[_0x125f4a(0x337)](_0x125f4a(0xc7f));},releaseWakeLock=async()=>{const _0x3bd178=_0x587d0b;wakeLock!==null&&(await wakeLock[_0x3bd178(0x625)](),wakeLock=null,console['log'](_0x3bd178(0x94c)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x170a7=_0x587d0b;if(!document[_0x170a7(0x40b)][_0x170a7(0x860)][_0x170a7(0xb57)](_0x170a7(0x75d))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x16bb1e=_0x170a7;document[_0x16bb1e(0x40b)][_0x16bb1e(0x860)][_0x16bb1e(0x61e)](_0x16bb1e(0x75d)),console['log'](_0x16bb1e(0x5d7));},inactivityTime);}}function wakeUpScreen(_0x3d95c1){const _0x550b45=_0x587d0b;_0x3d95c1&&(_0x3d95c1[_0x550b45(0x9c0)](),_0x3d95c1['preventDefault']());document[_0x550b45(0x40b)]['classList'][_0x550b45(0xbf3)]('dimmed');if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x426ef0=_0x550b45;document['body'][_0x426ef0(0x860)][_0x426ef0(0x61e)]('dimmed');},inactivityTime);}function stopDimTimer(){const _0x2e581e=_0x587d0b;if(dimTimer)clearTimeout(dimTimer);document[_0x2e581e(0x40b)][_0x2e581e(0x860)][_0x2e581e(0xbf3)]('dimmed'),window[_0x2e581e(0x2b9)](_0x2e581e(0x9fa),resetDimTimer),window[_0x2e581e(0x2b9)](_0x2e581e(0x7f1),resetDimTimer),window['removeEventListener']('touchstart',resetDimTimer),window['removeEventListener'](_0x2e581e(0x9e3),resetDimTimer),console['log'](_0x2e581e(0x2d0));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x5e818c,_0x3262ca=![]){const _0x1ef210=_0x587d0b,_0x349ae2=allQuizzes[_0x1ef210(0xa3a)](_0x5b3f26=>_0x5b3f26['id']===_0x5e818c)||allQuizzesGlobal[_0x1ef210(0xa3a)](_0x290ca4=>_0x290ca4['id']===_0x5e818c);if(!_0x349ae2){showMessage(_0x1ef210(0x3a2));return;}currentQuizData=getShuffledQuiz(_0x349ae2);const _0x502a76=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x1ef210(0x6ce)]();try{const _0x58795e=await addDoc(collection(db,_0x1ef210(0x1f0)+appId+_0x1ef210(0x655)),{'quizId':_0x349ae2['id'],'projectId':_0x349ae2[_0x1ef210(0x2d6)],'status':_0x1ef210(0xa33),'pin':_0x502a76,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3262ca});currentTeamQuizId=_0x58795e['id'],showView(_0x1ef210(0x517)),renderAdminTeamQuizDashboard(_0x502a76,_0x349ae2[_0x1ef210(0x53e)]),listenForTeamQuizUpdates();}catch(_0x515899){console[_0x1ef210(0x48f)](_0x1ef210(0x7ad),_0x515899),showMessage(_0x1ef210(0x5d4));}}function renderAdminTeamQuizDashboard(_0x227bdf,_0x326161,_0x118486='team'){const _0x8c6fad=_0x587d0b,_0x5f5555=_0x118486==='group'?_0x8c6fad(0x92f):'Team\x20Quiz';liveGameView[_0x8c6fad(0x30c)]=_0x8c6fad(0x9e0)+_0x5f5555+':\x20'+_0x326161+_0x8c6fad(0x223)+_0x227bdf+_0x8c6fad(0xb76),document[_0x8c6fad(0x43c)](_0x8c6fad(0x11d))['addEventListener'](_0x8c6fad(0xbf8),async()=>{const _0x2d3981=_0x8c6fad;showConfirmation(_0x2d3981(0x857),async()=>{const _0x96a34c=_0x2d3981;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x96a34c(0x1f0)+appId+_0x96a34c(0x655),currentTeamQuizId)),showView(_0x96a34c(0xaf7));});});}function listenForTeamQuizUpdates(){const _0x79fe5b=_0x587d0b;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x3b4beb=doc(db,_0x79fe5b(0x1f0)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x3b4beb,_0x23bfe8=>{const _0x480481=_0x79fe5b;if(!_0x23bfe8[_0x480481(0x2ef)]()){sessionStorage[_0x480481(0xd0)](_0x480481(0x477));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x480481(0x109));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x480481(0xaf7)):showView(_0x480481(0x8de));return;}const _0x1a3598=_0x23bfe8['data']();if(currentMode===_0x480481(0x71f)){if(_0x1a3598[_0x480481(0x360)]===_0x480481(0x4d4)&&_0x1a3598['status']!==_0x480481(0xb00)&&_0x1a3598[_0x480481(0x658)]!==_0x480481(0x9ea)){const _0x563ddb=Object['values'](_0x1a3598[_0x480481(0x4bd)]||{});if(_0x563ddb['length']>0x0){const _0x69db52=_0x563ddb['every'](_0xbcedf0=>_0xbcedf0[_0x480481(0x62c)]===!![]);_0x69db52&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x1a3598);}else{if(_0x1a3598[_0x480481(0x658)]===_0x480481(0xb00)||_0x1a3598[_0x480481(0x658)]===_0x480481(0x9ea)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x1a3598['mode']==='group'){const _0x1e6226=_0x1a3598[_0x480481(0x4bd)][userId];(!_0x1e6226||!_0x1e6226[_0x480481(0x62c)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x56c3bf){const _0x15cd11=_0x587d0b;console[_0x15cd11(0x564)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x1bc876=doc(db,_0x15cd11(0x1f0)+appId+_0x15cd11(0x655),_0x56c3bf);try{const _0x2e2229=await getDoc(_0x1bc876);if(_0x2e2229['exists']()){const _0x435bd5=_0x2e2229[_0x15cd11(0xc12)]();_0x435bd5[_0x15cd11(0x64e)]&&await saveGameResultsAsSubmissions(_0x435bd5);}await updateDoc(_0x1bc876,{'status':_0x15cd11(0xb00)});}catch(_0x54f04b){console[_0x15cd11(0x48f)](_0x15cd11(0x39c),_0x54f04b);}}function updateAdminTeamDashboard(_0x31e446){const _0x55c48c=_0x587d0b,_0x1fb838=document[_0x55c48c(0x43c)](_0x55c48c(0x3c4));if(!_0x1fb838)return;const _0x166516=_0x31e446[_0x55c48c(0x360)]||_0x55c48c(0x108),_0x7a080d=currentQuizData['questions']['length'];if(_0x166516===_0x55c48c(0x4d4)){const _0xee757f=Object[_0x55c48c(0x512)](_0x31e446['groups']||{});if(_0xee757f['length']===0x0){_0x1fb838[_0x55c48c(0x30c)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0x31cccb=[..._0xee757f]['sort']((_0x34848c,_0xa8981b)=>_0xa8981b[_0x55c48c(0x7c3)]-_0x34848c[_0x55c48c(0x7c3)]),_0x1f371e=_0x31cccb[_0x55c48c(0x9a0)]((_0x33a1af,_0x5753c1)=>{const _0x126378=_0x55c48c,_0x33bca4=_0x33a1af['answers']?.[_0x126378(0x3ce)]||0x0;return _0x126378(0xa10)+(_0x5753c1+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x33a1af[_0x126378(0xa17)][_0x126378(0xd9)](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x33bca4+'/'+_0x7a080d+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x33a1af[_0x126378(0x7c3)]+_0x126378(0x30e);})[_0x55c48c(0xd9)](''),_0x4c265a=currentQuizData[_0x55c48c(0x66b)][_0x55c48c(0x9a0)]((_0x33f6e8,_0x302e7a)=>{const _0x57a99c=_0x55c48c;let _0x11bfca=0x0,_0x3042d5=0x0;_0xee757f[_0x57a99c(0x27f)](_0x4b136f=>{const _0x209132=_0x57a99c,_0x49f980=_0x4b136f[_0x209132(0x34c)]?.['find'](_0x4bde32=>_0x4bde32[_0x209132(0x8b)]===_0x302e7a);if(_0x49f980){_0x3042d5++;if(_0x49f980['isCorrect'])_0x11bfca++;}});const _0x48fd6f=_0x3042d5>0x0&&_0x3042d5===_0xee757f['length'],_0xcb124a=_0x48fd6f?'bg-green-200\x20text-green-900\x20font-bold':_0x57a99c(0x538),_0x4701b1=_0x48fd6f?_0x57a99c(0x5b4):'';return _0x57a99c(0x423)+_0xcb124a+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x302e7a+0x1)+_0x57a99c(0x6b8)+_0x4701b1+_0x57a99c(0x26f)+_0x11bfca+'/'+_0xee757f[_0x57a99c(0x3ce)]+_0x57a99c(0x6ff);})[_0x55c48c(0xd9)]('');_0x1fb838[_0x55c48c(0x30c)]=_0x55c48c(0x1ca)+_0x1f371e+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x4c265a+_0x55c48c(0x434);return;}const _0x309088=_0x31e446[_0x55c48c(0x270)]||{},_0x4c970b=Object[_0x55c48c(0x1c7)](_0x309088);if(_0x4c970b['length']===0x0){_0x1fb838[_0x55c48c(0x30c)]=_0x55c48c(0x21c);return;}const _0x37aa78=_0x4c970b[_0x55c48c(0x9a0)](_0xea07ca=>({'name':_0xea07ca,'score':_0x309088[_0xea07ca][_0x55c48c(0x7c3)]||0x0}))[_0x55c48c(0x34f)]((_0xf0ccae,_0x47dc54)=>_0x47dc54['score']-_0xf0ccae[_0x55c48c(0x7c3)]),_0x18c829=_0x37aa78['map'](_0x30e4db=>{const _0x504bfa=_0x55c48c,_0x45e8d2=_0x309088[_0x30e4db[_0x504bfa(0x683)]]?.[_0x504bfa(0x34c)]?.[_0x504bfa(0x3ce)]||0x0,_0x1b4ee5=Math[_0x504bfa(0x66c)](_0x7a080d/_0x4c970b['length']);return _0x504bfa(0xbf1)+_0x30e4db['name']+_0x504bfa(0x710)+_0x45e8d2+'/'+_0x1b4ee5+_0x504bfa(0x80d)+_0x30e4db[_0x504bfa(0x7c3)]+_0x504bfa(0x804);})[_0x55c48c(0xd9)](''),_0x4ddf49=_0x4c970b['reduce']((_0x29e576,_0x3ca56a)=>_0x29e576+(_0x309088[_0x3ca56a][_0x55c48c(0x34c)]?.[_0x55c48c(0x3ce)]||0x0),0x0),_0x430ebd=currentQuizData[_0x55c48c(0x66b)]['map']((_0x3a0045,_0x4e53c1)=>{const _0x5877ae=_0x55c48c;let _0x174b74=null,_0x563474=null;for(const _0x46c5fa of _0x4c970b){const _0xeb227a=_0x309088[_0x46c5fa][_0x5877ae(0x34c)]?.[_0x5877ae(0xa3a)](_0x328319=>_0x328319[_0x5877ae(0x8b)]===_0x4e53c1);if(_0xeb227a){_0x174b74=_0xeb227a,_0x563474=_0x46c5fa;break;}}const _0x5f2207=!!_0x174b74,_0x52bce9=_0x5f2207&&_0x174b74['isCorrect'],_0x2c9d9f=(Math['floor'](_0x4e53c1/_0x4c970b[_0x5877ae(0x3ce)])+0x1)*_0x4c970b['length'],_0x28d31e=_0x4ddf49>=_0x2c9d9f,_0xd9b4eb=_0x28d31e?_0x5877ae(0x131):_0x5877ae(0x538),_0x282be4=_0x28d31e?_0x5877ae(0x5b4):'';let _0x4ad1b0='รอ...';return _0x5f2207&&(_0x4ad1b0=_0x563474+_0x5877ae(0x74d)+(_0x52bce9?_0x5877ae(0xa62):_0x5877ae(0x652))),_0x5877ae(0x423)+_0xd9b4eb+_0x5877ae(0x8be)+(_0x4e53c1+0x1)+_0x5877ae(0x6b8)+_0x282be4+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x4ad1b0+_0x5877ae(0x1c2);})[_0x55c48c(0xd9)]('');_0x1fb838[_0x55c48c(0x30c)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x18c829+_0x55c48c(0xb03)+_0x430ebd+_0x55c48c(0x434);}async function handleJoinTeamQuiz(){const _0x155b2b=_0x587d0b,_0x4a3f78=prompt(_0x155b2b(0x99b));if(!_0x4a3f78||_0x4a3f78[_0x155b2b(0x8e7)]()['length']!==0x4){showMessage(_0x155b2b(0xa71));return;}try{const _0x11a2df=collection(db,_0x155b2b(0x1f0)+appId+_0x155b2b(0x655)),_0x506707=query(_0x11a2df,where('pin','==',_0x4a3f78[_0x155b2b(0x8e7)]()),where(_0x155b2b(0x658),'==',_0x155b2b(0xa33))),_0xd1915a=await getDocs(_0x506707);if(_0xd1915a[_0x155b2b(0x9d)]){showMessage(_0x155b2b(0x880));return;}const _0x33e5d9=_0xd1915a[_0x155b2b(0xbb3)][0x0];currentTeamQuizId=_0x33e5d9['id'];const _0x4a7afb=_0x33e5d9[_0x155b2b(0xc12)](),_0x4615e5=doc(db,_0x155b2b(0x1f0)+appId+'/public/data/projects',_0x4a7afb[_0x155b2b(0x2d6)]),_0x46cb59=doc(db,'artifacts/'+appId+_0x155b2b(0x92d),_0x4a7afb[_0x155b2b(0xb34)]),[_0x43593f,_0x3d742b]=await Promise[_0x155b2b(0xafb)]([getDoc(_0x4615e5),getDoc(_0x46cb59)]);if(!_0x43593f['exists']()||!_0x3d742b[_0x155b2b(0x2ef)]())throw new Error(_0x155b2b(0x1fe));currentQuizData=getShuffledQuiz({'id':_0x3d742b['id'],..._0x3d742b[_0x155b2b(0xc12)]()});const _0xe0a254=_0x43593f['data']();showTeamPlayerSelection(_0xe0a254[_0x155b2b(0xc49)],currentQuizData[_0x155b2b(0x53e)]);}catch(_0x6dbbab){console[_0x155b2b(0x48f)](_0x155b2b(0xc1d),_0x6dbbab),showMessage(_0x155b2b(0xacb)+_0x6dbbab[_0x155b2b(0x2f6)]);}}async function handleJoinGroupActivity(){const _0xb05e88=_0x587d0b,_0x4ddcd9=prompt(_0xb05e88(0xc04));if(!_0x4ddcd9||_0x4ddcd9['trim']()[_0xb05e88(0x3ce)]!==0x4){showMessage(_0xb05e88(0xa9f));return;}const _0x2d0d32=_0x4ddcd9[_0xb05e88(0x8e7)]();showMessage('กำลังค้นหากิจกรรม...');try{const _0x2a0871=collection(db,'artifacts/'+appId+_0xb05e88(0x655)),_0x510607=query(_0x2a0871,where(_0xb05e88(0x980),'==',_0x2d0d32),where(_0xb05e88(0x658),'==','lobby')),_0x815b5=await getDocs(_0x510607);if(!_0x815b5['empty']){console[_0xb05e88(0x564)](_0xb05e88(0x548)),await proceedWithTeamQuizJoin(_0x815b5[_0xb05e88(0xbb3)][0x0]);return;}const _0x3f8bbe=collection(db,_0xb05e88(0x1f0)+appId+_0xb05e88(0x3df)),_0x2b0580=query(_0x3f8bbe,where(_0xb05e88(0x980),'==',_0x2d0d32),where(_0xb05e88(0x658),'==',_0xb05e88(0xa33))),_0x5102ac=await getDocs(_0x2b0580);if(!_0x5102ac[_0xb05e88(0x9d)]){console[_0xb05e88(0x564)]('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x5102ac[_0xb05e88(0xbb3)][0x0]);return;}showMessage('ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว');}catch(_0x84d03a){console[_0xb05e88(0x48f)](_0xb05e88(0x20e),_0x84d03a),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x84d03a[_0xb05e88(0x2f6)]);}}async function proceedWithTeamQuizJoin(_0x3b9b11){const _0x561b0d=_0x587d0b;currentTeamQuizId=_0x3b9b11['id'];const _0x5a653e=_0x3b9b11['data'](),_0x27923f=doc(db,_0x561b0d(0x1f0)+appId+'/public/data/projects',_0x5a653e[_0x561b0d(0x2d6)]),_0x3824e1=doc(db,'artifacts/'+appId+_0x561b0d(0x92d),_0x5a653e[_0x561b0d(0xb34)]),[_0x39c77e,_0x2d87b7]=await Promise['all']([getDoc(_0x27923f),getDoc(_0x3824e1)]);if(!_0x39c77e[_0x561b0d(0x2ef)]()||!_0x2d87b7[_0x561b0d(0x2ef)]())throw new Error(_0x561b0d(0x1fe));currentQuizData=getShuffledQuiz({'id':_0x2d87b7['id'],..._0x2d87b7[_0x561b0d(0xc12)]()}),showTeamPlayerSelection(_0x39c77e['data']()[_0x561b0d(0xc49)],currentQuizData[_0x561b0d(0x53e)],_0x5a653e[_0x561b0d(0x360)]||_0x561b0d(0x108)),messageModal['classList'][_0x561b0d(0x61e)](_0x561b0d(0x6e9));}async function proceedWithSyncQuizJoin(_0x35f0a4){const _0x48cf2e=_0x587d0b;currentLiveGameId=_0x35f0a4['id'];const _0x434a42=_0x35f0a4[_0x48cf2e(0xc12)](),_0x113d22=doc(db,'artifacts/'+appId+_0x48cf2e(0x92d),_0x434a42['quizId']),_0x52f8a0=await getDoc(_0x113d22);if(!_0x52f8a0[_0x48cf2e(0x2ef)]())throw new Error(_0x48cf2e(0x3a2));const _0x57aa59=_0x52f8a0[_0x48cf2e(0xc12)](),_0x4ff900=doc(db,_0x48cf2e(0x1f0)+appId+_0x48cf2e(0x684),_0x57aa59[_0x48cf2e(0x2d6)]),_0x4ed81f=await getDoc(_0x4ff900);if(!_0x4ed81f['exists']())throw new Error(_0x48cf2e(0x9eb));currentQuizData=_0x434a42['shuffledQuiz'],showView(_0x48cf2e(0x3b1)),showTeamPlayerSelection(_0x4ed81f[_0x48cf2e(0xc12)]()[_0x48cf2e(0xc49)],_0x57aa59[_0x48cf2e(0x53e)],_0x48cf2e(0x3d2)),document[_0x48cf2e(0x43c)](_0x48cf2e(0x492))['onclick']=confirmAndJoinSyncGame,messageModal[_0x48cf2e(0x860)][_0x48cf2e(0x61e)](_0x48cf2e(0x6e9));}function getCleanApplicationHTML(){const _0x466773=_0x587d0b,_0x13a28c=document[_0x466773(0x43c)](_0x466773(0x893));if(!_0x13a28c)return'';const _0xbe449e=_0x13a28c[_0x466773(0x818)](!![]);return _0xbe449e[_0x466773(0xa6e)]('.application-options\x20button')['forEach'](_0x29da48=>{const _0x291a68=_0x466773;_0x29da48[_0x291a68(0x860)][_0x291a68(0xbf3)](_0x291a68(0x22a),_0x291a68(0x706)),_0x29da48['disabled']=![];}),_0xbe449e[_0x466773(0x30c)];}function showTeamPlayerSelection(_0x54939e,_0x14b2fd,_0x4d1296='team'){const _0x1d7312=_0x587d0b;studentInitialView[_0x1d7312(0x860)][_0x1d7312(0x61e)](_0x1d7312(0x6e9)),studentJoinGameView['classList'][_0x1d7312(0x61e)](_0x1d7312(0x6e9)),document[_0x1d7312(0x43c)](_0x1d7312(0x86c))[_0x1d7312(0x860)][_0x1d7312(0xbf3)](_0x1d7312(0x6e9));let _0x42ab5c=_0x1d7312(0xb4e);if(_0x4d1296==='group')_0x42ab5c=_0x1d7312(0x92f);else _0x4d1296==='sync'&&(_0x42ab5c=_0x1d7312(0xb83));document['getElementById'](_0x1d7312(0x2bc))[_0x1d7312(0xc0d)]=_0x42ab5c+':\x20'+_0x14b2fd;const _0x20f8f9=document['getElementById'](_0x1d7312(0xbe9));if(!_0x54939e||_0x54939e['length']===0x0){_0x20f8f9[_0x1d7312(0x30c)]='<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>',document[_0x1d7312(0x43c)](_0x1d7312(0x492))['disabled']=!![];return;}_0x20f8f9['innerHTML']=_0x54939e['map'](_0x13f9d2=>_0x1d7312(0x698)+_0x13f9d2+_0x1d7312(0x4d3)+_0x13f9d2+_0x1d7312(0xc8c))[_0x1d7312(0xd9)](''),document[_0x1d7312(0x43c)](_0x1d7312(0x492))[_0x1d7312(0x35d)]=![];}async function confirmAndStartTeamQuiz(){const _0x1dcfdc=_0x587d0b,_0x21e401=Array[_0x1dcfdc(0xb3b)](document[_0x1dcfdc(0xa6e)](_0x1dcfdc(0x8b9)))[_0x1dcfdc(0x9a0)](_0x2660c9=>_0x2660c9[_0x1dcfdc(0x5d0)]);if(_0x21e401[_0x1dcfdc(0x3ce)]===0x0){showMessage(_0x1dcfdc(0x86e));return;}localTeamPlayers=_0x21e401,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x3cc8c5=doc(db,'artifacts/'+appId+_0x1dcfdc(0x655),currentTeamQuizId);try{const _0x3f3b36=await getDoc(_0x3cc8c5);if(!_0x3f3b36[_0x1dcfdc(0x2ef)]())throw new Error(_0x1dcfdc(0x921));const _0x47dfdb=_0x3f3b36[_0x1dcfdc(0xc12)]();if(_0x47dfdb[_0x1dcfdc(0x360)]===_0x1dcfdc(0x4d4)){const _0xb0d97={[_0x1dcfdc(0x295)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x3cc8c5,_0xb0d97);}else{const _0x231e08=_0x47dfdb[_0x1dcfdc(0x270)]||{};localTeamPlayers[_0x1dcfdc(0x27f)](_0x5ebc3b=>{!_0x231e08[_0x5ebc3b]&&(_0x231e08[_0x5ebc3b]={'score':0x0,'answers':[]});}),await updateDoc(_0x3cc8c5,{'responses':_0x231e08});}document[_0x1dcfdc(0x43c)]('student-team-selection-view')[_0x1dcfdc(0x860)][_0x1dcfdc(0x61e)]('hidden'),renderTeamQuizQuestion();const _0x54f2ec={'gameId':currentTeamQuizId,'mode':_0x47dfdb[_0x1dcfdc(0x360)]||'team','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1dcfdc(0x817)](_0x1dcfdc(0x477),JSON[_0x1dcfdc(0x616)](_0x54f2ec)),listenForTeamQuizUpdates();}catch(_0x46f8c2){console[_0x1dcfdc(0x48f)](_0x1dcfdc(0x196),_0x46f8c2),showMessage(_0x1dcfdc(0x687));}}async function renderTeamQuizQuestion(){const _0x42fdd7=_0x587d0b;if(localQuestionIndex>=currentQuizData['questions'][_0x42fdd7(0x3ce)]){displayTeamQuizFinalResults();return;}const _0x9ae76=currentQuizData[_0x42fdd7(0x66b)][localQuestionIndex],_0x4714e4=localTeamPlayers[localPlayerIndex],_0x2c6507=_0x9ae76[_0x42fdd7(0x8af)]||currentQuizData[_0x42fdd7(0x86d)];let _0x3c304f=_0x9ae76[_0x42fdd7(0x2f0)]||_0x9ae76['questionText'],_0x126c41='';switch(_0x2c6507){case'multiple_choice':case _0x42fdd7(0xb8b):_0x126c41=_0x9ae76[_0x42fdd7(0x4b2)]['map']((_0x29411e,_0x50c3c2)=>_0x42fdd7(0x3e0)+_0x50c3c2+_0x42fdd7(0x574)+_0x50c3c2+_0x42fdd7(0xa8e)+_0x50c3c2+'\x22>'+_0x29411e+_0x42fdd7(0x455))[_0x42fdd7(0xd9)]('');break;case'true_false':_0x126c41=_0x42fdd7(0x520);break;case'short_answer':case _0x42fdd7(0x7c0):_0x126c41=_0x42fdd7(0xaf0);break;case'matching_item':_0x126c41='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x9ae76[_0x42fdd7(0x4f0)][_0x42fdd7(0x9a0)](_0x4e9719=>_0x42fdd7(0x244)+_0x4e9719+'\x22>'+_0x4e9719+_0x42fdd7(0x9e))[_0x42fdd7(0xd9)]('')+_0x42fdd7(0x9b6);break;default:_0x126c41=_0x42fdd7(0x500);break;}studentQuizArea[_0x42fdd7(0x30c)]=_0x42fdd7(0xc24)+(localQuestionIndex+0x1)+_0x42fdd7(0xbe0)+currentQuizData[_0x42fdd7(0x66b)]['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x4714e4+_0x42fdd7(0x91)+(localQuestionIndex+0x1)+'.\x20'+_0x3c304f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x9ae76[_0x42fdd7(0xb6d)]?_0x42fdd7(0x121)+_0x9ae76[_0x42fdd7(0xb6d)]+_0x42fdd7(0xc94):'')+_0x42fdd7(0x807)+_0x126c41+_0x42fdd7(0x17c),studentQuizArea[_0x42fdd7(0x860)][_0x42fdd7(0xbf3)](_0x42fdd7(0x6e9));if(window[_0x42fdd7(0xaf8)])MathJax[_0x42fdd7(0x5ad)]([studentQuizArea]);document[_0x42fdd7(0x43c)](_0x42fdd7(0x746))['addEventListener']('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x2a9a80=_0x587d0b,_0x3d7ad8=currentQuizData[_0x2a9a80(0x66b)][localQuestionIndex],_0xe3bd5c=_0x3d7ad8[_0x2a9a80(0x8af)]||currentQuizData[_0x2a9a80(0x86d)];let _0x43ba71=null,_0x6f350d=![];if(_0xe3bd5c===_0x2a9a80(0x573)||_0xe3bd5c===_0x2a9a80(0x7c0)){const _0x3fd138=document['querySelector'](_0x2a9a80(0x73c));if(!_0x3fd138||!_0x3fd138[_0x2a9a80(0x5d0)][_0x2a9a80(0x8e7)]()){showMessage(_0x2a9a80(0x5b1));return;}_0x43ba71=_0x3fd138[_0x2a9a80(0x5d0)][_0x2a9a80(0x8e7)](),_0x6f350d=await gradeShortAnswer(_0x43ba71,_0x3d7ad8);}else{const _0x1f7b6f=document[_0x2a9a80(0xb1b)](_0x2a9a80(0x6ea));if(!_0x1f7b6f||_0x1f7b6f[_0x2a9a80(0x5d0)]===''){showMessage(_0x2a9a80(0x8f2));return;}_0x43ba71=_0x1f7b6f['value'];switch(_0xe3bd5c){case _0x2a9a80(0x907):_0x6f350d=_0x43ba71===_0x2a9a80(0x529)===_0x3d7ad8[_0x2a9a80(0x347)];break;case'matching_item':_0x6f350d=_0x43ba71===_0x3d7ad8[_0x2a9a80(0xb42)];break;default:_0x6f350d=parseInt(_0x43ba71)===_0x3d7ad8[_0x2a9a80(0x828)];break;}}const _0x202b17={'questionIndex':localQuestionIndex,'isCorrect':_0x6f350d},_0x55ec31=userId,_0xb410b3={['groups.'+_0x55ec31+_0x2a9a80(0x5f2)]:arrayUnion(_0x202b17)};_0x6f350d&&(_0xb410b3['groups.'+_0x55ec31+_0x2a9a80(0x1b1)]=increment(0x1));try{await updateDoc(doc(db,_0x2a9a80(0x1f0)+appId+_0x2a9a80(0x655),currentTeamQuizId),_0xb410b3),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x2a9a80(0x66b)][_0x2a9a80(0x3ce)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x507aa4){console[_0x2a9a80(0x48f)]('Error\x20submitting\x20group\x20answer:',_0x507aa4),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x72a98a=_0x587d0b,_0x36afb0=await getDoc(doc(db,_0x72a98a(0x1f0)+appId+_0x72a98a(0x655),currentTeamQuizId));if(!_0x36afb0[_0x72a98a(0x2ef)]())return;const _0x40d108=_0x36afb0['data']();if(_0x40d108['mode']===_0x72a98a(0x4d4)){handleGroupAnswerSubmit();return;}const _0xa301ae=localTeamPlayers[localPlayerIndex],_0x5ebfc7=currentQuizData['questions'][localQuestionIndex],_0x1082b4=_0x5ebfc7[_0x72a98a(0x8af)]||currentQuizData[_0x72a98a(0x86d)];let _0x1402f3=null,_0x5bfb80=![];if(_0x1082b4===_0x72a98a(0x573)||_0x1082b4===_0x72a98a(0x7c0)){const _0xbcf81b=document[_0x72a98a(0xb1b)]('textarea[name=\x22team_answer\x22]');if(!_0xbcf81b||!_0xbcf81b[_0x72a98a(0x5d0)][_0x72a98a(0x8e7)]()){showMessage(_0x72a98a(0x7e4));return;}_0x1402f3=_0xbcf81b['value']['trim'](),_0x5bfb80=await gradeShortAnswer(_0x1402f3,_0x5ebfc7);}else{const _0x2ffc5d=document['querySelector'](_0x72a98a(0x6ea));if(!_0x2ffc5d||_0x2ffc5d[_0x72a98a(0x5d0)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x1402f3=_0x2ffc5d[_0x72a98a(0x5d0)];switch(_0x1082b4){case _0x72a98a(0x907):_0x5bfb80=_0x1402f3==='true'===_0x5ebfc7[_0x72a98a(0x347)];break;case'matching_item':_0x5bfb80=_0x1402f3===_0x5ebfc7[_0x72a98a(0xb42)];break;default:_0x5bfb80=parseInt(_0x1402f3)===_0x5ebfc7[_0x72a98a(0x828)];break;}}const _0x52945d={'questionIndex':localQuestionIndex,'isCorrect':_0x5bfb80,'answerValue':_0x1402f3},_0x4d5cd9={[_0x72a98a(0x2f8)+_0xa301ae+_0x72a98a(0x5f2)]:arrayUnion(_0x52945d)};_0x5bfb80&&(_0x4d5cd9[_0x72a98a(0x2f8)+_0xa301ae+_0x72a98a(0x1b1)]=increment(0x1));try{await updateDoc(doc(db,_0x72a98a(0x1f0)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x4d5cd9),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x72a98a(0x3ce)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x40a6f6){console[_0x72a98a(0x48f)](_0x72a98a(0x16f),_0x40a6f6),showMessage(_0x72a98a(0x5f7));}}async function displayTeamQuizFinalResults(){const _0x9e4801=_0x587d0b;studentQuizArea[_0x9e4801(0x860)][_0x9e4801(0x61e)]('hidden'),studentResultArea['classList'][_0x9e4801(0xbf3)](_0x9e4801(0x6e9));const _0x586d41=doc(db,'artifacts/'+appId+_0x9e4801(0x655),currentTeamQuizId),_0x2faa93=await getDoc(_0x586d41);if(!_0x2faa93[_0x9e4801(0x2ef)]()){studentResultArea[_0x9e4801(0x30c)]=_0x9e4801(0x18b);return;}const _0x25c6d5=_0x2faa93[_0x9e4801(0xc12)]();let _0xfc8ef1=[];const _0x58be2b=_0x25c6d5['mode']||_0x9e4801(0x108);if(_0x58be2b===_0x9e4801(0x4d4)){const _0x3fe500=_0x25c6d5[_0x9e4801(0x4bd)][userId];_0x3fe500?_0xfc8ef1=[{'name':_0x9e4801(0x5ea)+localTeamPlayers[_0x9e4801(0xd9)](',\x20'),'score':_0x3fe500[_0x9e4801(0x7c3)]||0x0}]:_0xfc8ef1=[{'name':_0x9e4801(0x395),'score':_0x9e4801(0x454)}];}else _0xfc8ef1=localTeamPlayers[_0x9e4801(0x9a0)](_0x374bc2=>({'name':_0x374bc2,'score':_0x25c6d5[_0x9e4801(0x270)][_0x374bc2]?.['score']||0x0}))[_0x9e4801(0x34f)]((_0x2fc23b,_0x1ca500)=>_0x1ca500[_0x9e4801(0x7c3)]-_0x2fc23b['score']);studentResultArea[_0x9e4801(0x30c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xfc8ef1[_0x9e4801(0x9a0)](_0x2bf1be=>_0x9e4801(0x792)+_0x2bf1be[_0x9e4801(0x683)]+_0x9e4801(0xb5b)+_0x2bf1be['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x9e4801(0x740),sessionStorage['removeItem'](_0x9e4801(0x477)),currentMode===_0x9e4801(0x71f)&&currentTeamQuizId&&setTimeout(()=>{deleteDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x587d0b(0x74a),'pinnedProjects':[],'projectView':_0x587d0b(0xba7)};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x587d0b(0x335)},{'category':'จำนวนและการดำเนินการ','name':_0x587d0b(0xbc6)},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0xbb9)},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0xadd)},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0x721)},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0x7ec)},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0x6c5)},{'category':'จำนวนและการดำเนินการ','name':_0x587d0b(0x3fa)},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0x854)},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0xaa0)},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0x933)},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0xbd4)},{'category':'จำนวนและการดำเนินการ','name':_0x587d0b(0x648)},{'category':'จำนวนและการดำเนินการ','name':_0x587d0b(0x16a)},{'category':_0x587d0b(0xbae),'name':'ห.ร.ม.\x20(GCD)'},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0x58c)},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0x122)},{'category':'จำนวนและการดำเนินการ','name':'อัตราและอัตราหน่วย'},{'category':'จำนวนและการดำเนินการ','name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0x911)},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0x439)},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0x5b0)},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0x7fa)},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0x6d7)},{'category':'จำนวนและการดำเนินการ','name':_0x587d0b(0xaa7)},{'category':'จำนวนและการดำเนินการ','name':_0x587d0b(0x6c0)},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0x950)},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0x858)},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0x81a)},{'category':_0x587d0b(0xbae),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0x769)},{'category':_0x587d0b(0xbae),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x587d0b(0xbae),'name':_0x587d0b(0x6c2)},{'category':_0x587d0b(0xbae),'name':'รากที่สองและที่สาม'},{'category':_0x587d0b(0xbae),'name':'รูปสแควร์รูท\x20(surd)'},{'category':'จำนวนและการดำเนินการ','name':_0x587d0b(0x1d4)},{'category':_0x587d0b(0x308),'name':_0x587d0b(0x8cb)},{'category':'การวัด','name':_0x587d0b(0x6ae)},{'category':_0x587d0b(0x308),'name':_0x587d0b(0xbe7)},{'category':_0x587d0b(0x308),'name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x587d0b(0x308),'name':'อุณหภูมิและการแปลง'},{'category':_0x587d0b(0x308),'name':_0x587d0b(0x14e)},{'category':_0x587d0b(0x308),'name':'พื้นที่สี่เหลี่ยม'},{'category':'การวัด','name':'พื้นที่สามเหลี่ยม'},{'category':_0x587d0b(0x308),'name':_0x587d0b(0xa8b)},{'category':_0x587d0b(0x308),'name':_0x587d0b(0x1ac)},{'category':_0x587d0b(0x308),'name':_0x587d0b(0x867)},{'category':_0x587d0b(0x308),'name':_0x587d0b(0x327)},{'category':_0x587d0b(0x308),'name':_0x587d0b(0x5aa)},{'category':_0x587d0b(0x308),'name':_0x587d0b(0x60d)},{'category':_0x587d0b(0xb8),'name':_0x587d0b(0x5dc)},{'category':_0x587d0b(0xb8),'name':_0x587d0b(0x306)},{'category':'เรขาคณิต','name':_0x587d0b(0x112)},{'category':_0x587d0b(0xb8),'name':_0x587d0b(0x42a)},{'category':_0x587d0b(0xb8),'name':_0x587d0b(0x4b5)},{'category':'เรขาคณิต','name':_0x587d0b(0x1b3)},{'category':_0x587d0b(0xb8),'name':_0x587d0b(0xa76)},{'category':_0x587d0b(0xb8),'name':_0x587d0b(0xbdf)},{'category':'เรขาคณิต','name':_0x587d0b(0x2a7)},{'category':_0x587d0b(0xb8),'name':_0x587d0b(0x96b)},{'category':_0x587d0b(0xb8),'name':_0x587d0b(0x4bb)},{'category':'เรขาคณิต','name':_0x587d0b(0x762)},{'category':_0x587d0b(0xb8),'name':_0x587d0b(0x612)},{'category':_0x587d0b(0xb8),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x587d0b(0xb8),'name':_0x587d0b(0x353)},{'category':_0x587d0b(0xbf),'name':_0x587d0b(0x727)},{'category':_0x587d0b(0xbf),'name':'การกระจายและการจัดหมู่'},{'category':_0x587d0b(0xbf),'name':_0x587d0b(0x242)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x587d0b(0x173)},{'category':_0x587d0b(0xbf),'name':_0x587d0b(0x8ef)},{'category':_0x587d0b(0xbf),'name':_0x587d0b(0x381)},{'category':_0x587d0b(0xbf),'name':_0x587d0b(0x7d4)},{'category':_0x587d0b(0xbf),'name':_0x587d0b(0x86f)},{'category':_0x587d0b(0xbf),'name':'สมการค่าสัมบูรณ์'},{'category':_0x587d0b(0xbf),'name':'สมการเหตุผล\x20(rational)'},{'category':_0x587d0b(0xbf),'name':'สมการราก\x20(radical)'},{'category':_0x587d0b(0xbf),'name':'สมการยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการลอการิทึม'},{'category':_0x587d0b(0xbf),'name':_0x587d0b(0x417)},{'category':_0x587d0b(0xbf),'name':'อสมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x587d0b(0xa94)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x587d0b(0x166)},{'category':_0x587d0b(0xbf),'name':_0x587d0b(0x4f3)},{'category':_0x587d0b(0xbf),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x587d0b(0xbf),'name':_0x587d0b(0x5a7)},{'category':_0x587d0b(0xbf),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x587d0b(0xbf),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x587d0b(0xbf),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x587d0b(0xbf),'name':_0x587d0b(0x189)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x587d0b(0x4e3)},{'category':_0x587d0b(0xbf),'name':_0x587d0b(0x7c4)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x587d0b(0x394)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x587d0b(0x872)},{'category':_0x587d0b(0xbf),'name':_0x587d0b(0x5bb)},{'category':_0x587d0b(0xbf),'name':_0x587d0b(0x1e4)},{'category':_0x587d0b(0xbf),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':'พีชคณิตและฟังก์ชัน','name':'ผลรวมอนุกรม\x20(Σ)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x587d0b(0x743)},{'category':_0x587d0b(0xbf),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x587d0b(0xa22),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':'เรขาคณิตวิเคราะห์','name':'ความชันและเส้นตรง'},{'category':'เรขาคณิตวิเคราะห์','name':_0x587d0b(0x82b)},{'category':_0x587d0b(0xa22),'name':_0x587d0b(0xb7e)},{'category':_0x587d0b(0xa22),'name':_0x587d0b(0x8a4)},{'category':'เรขาคณิตวิเคราะห์','name':_0x587d0b(0x3d3)},{'category':'เรขาคณิตวิเคราะห์','name':'พาราโบลา'},{'category':'เรขาคณิตวิเคราะห์','name':'วงรี'},{'category':_0x587d0b(0xa22),'name':'ไฮเพอร์โบลา'},{'category':_0x587d0b(0x2b3),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0x587d0b(0x2b3),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x587d0b(0x2b3),'name':_0x587d0b(0x2a3)},{'category':_0x587d0b(0x2b3),'name':_0x587d0b(0x9f7)},{'category':_0x587d0b(0x2b3),'name':_0x587d0b(0x4b9)},{'category':_0x587d0b(0x2b3),'name':_0x587d0b(0xa46)},{'category':_0x587d0b(0x2b3),'name':_0x587d0b(0x24a)},{'category':_0x587d0b(0x2b3),'name':_0x587d0b(0x68c)},{'category':_0x587d0b(0x2b3),'name':_0x587d0b(0x5fa)},{'category':_0x587d0b(0x2b3),'name':_0x587d0b(0x755)},{'category':'ตรีโกณมิติ','name':_0x587d0b(0x12a)},{'category':'สถิติและความน่าจะเป็น','name':_0x587d0b(0xb2)},{'category':'สถิติและความน่าจะเป็น','name':_0x587d0b(0x3ba)},{'category':_0x587d0b(0x3b7),'name':'ตารางความถี่'},{'category':_0x587d0b(0x3b7),'name':_0x587d0b(0x413)},{'category':_0x587d0b(0x3b7),'name':_0x587d0b(0x1df)},{'category':_0x587d0b(0x3b7),'name':_0x587d0b(0x882)},{'category':'สถิติและความน่าจะเป็น','name':_0x587d0b(0xb2a)},{'category':_0x587d0b(0x3b7),'name':_0x587d0b(0x502)},{'category':'สถิติและความน่าจะเป็น','name':_0x587d0b(0x1e1)},{'category':_0x587d0b(0x3b7),'name':_0x587d0b(0xb84)},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x587d0b(0x3b7),'name':_0x587d0b(0x879)},{'category':_0x587d0b(0x3b7),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':'สถิติและความน่าจะเป็น','name':_0x587d0b(0xb9a)},{'category':'สถิติและความน่าจะเป็น','name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x587d0b(0x3b7),'name':_0x587d0b(0x954)},{'category':_0x587d0b(0x3b7),'name':_0x587d0b(0x23e)},{'category':_0x587d0b(0x3b7),'name':'แผนภาพเวนน์'},{'category':_0x587d0b(0x3b7),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0x587d0b(0x3b7),'name':_0x587d0b(0x994)},{'category':_0x587d0b(0x3b7),'name':_0x587d0b(0x2ae)},{'category':'สถิติและความน่าจะเป็น','name':_0x587d0b(0x6a8)},{'category':_0x587d0b(0x3b7),'name':_0x587d0b(0x4c1)},{'category':'สถิติและความน่าจะเป็น','name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x587d0b(0x577),'name':_0x587d0b(0x2a4)},{'category':'แคลคูลัสเบื้องต้น','name':_0x587d0b(0x93c)},{'category':_0x587d0b(0x577),'name':_0x587d0b(0x37f)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':_0x587d0b(0x577),'name':_0x587d0b(0x9c3)},{'category':_0x587d0b(0x577),'name':_0x587d0b(0x449)},{'category':_0x587d0b(0x577),'name':_0x587d0b(0xc71)},{'category':_0x587d0b(0x577),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x587d0b(0x577),'name':_0x587d0b(0x49e)},{'category':'แคลคูลัสเบื้องต้น','name':_0x587d0b(0x167)},{'category':'แคลคูลัสเบื้องต้น','name':_0x587d0b(0xb12)},{'category':_0x587d0b(0x577),'name':_0x587d0b(0x5ab)},{'category':_0x587d0b(0x577),'name':_0x587d0b(0x8df)},{'category':_0x587d0b(0x970),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x587d0b(0x970),'name':_0x587d0b(0x9dd)},{'category':_0x587d0b(0x970),'name':_0x587d0b(0x982)},{'category':_0x587d0b(0x970),'name':_0x587d0b(0x9f)},{'category':_0x587d0b(0x970),'name':_0x587d0b(0x4c7)},{'category':_0x587d0b(0x970),'name':_0x587d0b(0x644)},{'category':_0x587d0b(0x970),'name':_0x587d0b(0x641)},{'category':_0x587d0b(0xae),'name':_0x587d0b(0x9b4)},{'category':_0x587d0b(0xae),'name':_0x587d0b(0x547)},{'category':_0x587d0b(0xae),'name':_0x587d0b(0x82a)},{'category':_0x587d0b(0xae),'name':'ค่าเสื่อมราคา'},{'category':_0x587d0b(0xae),'name':'ร้อยละประยุกต์'},{'category':_0x587d0b(0x855),'name':_0x587d0b(0xe8)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x587d0b(0x106)},{'category':_0x587d0b(0x855),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x284e96=_0x587d0b,_0x15cdf6=document[_0x284e96(0x43c)](_0x284e96(0x83f));if(!_0x15cdf6)return;const _0x46e680=allMathTopics,_0x2bf498=customMathTopics[_0x284e96(0x9a0)](_0x16eafa=>({'id':_0x16eafa['id'],'category':'หัวข้อที่สร้างเอง','name':_0x16eafa[_0x284e96(0x683)]})),_0x37194f=[..._0x46e680,..._0x2bf498],_0x5dc52c=_0x37194f[_0x284e96(0x80e)]((_0x1a8161,_0x5c9bb7)=>{const _0x502a6b=_0x284e96;return!_0x1a8161[_0x5c9bb7[_0x502a6b(0x406)]]&&(_0x1a8161[_0x5c9bb7[_0x502a6b(0x406)]]=[]),_0x1a8161[_0x5c9bb7[_0x502a6b(0x406)]][_0x502a6b(0x211)](_0x5c9bb7),_0x1a8161;},{});let _0x2f7441='';const _0x506bf3=[_0x284e96(0x85b),...Object[_0x284e96(0x1c7)](_0x5dc52c)[_0x284e96(0x35c)](_0x1418b5=>_0x1418b5!==_0x284e96(0x85b))];for(const _0x1ce50b of _0x506bf3){if(_0x5dc52c[_0x1ce50b]){const _0x12384f=_0x1ce50b===_0x284e96(0x85b),_0x5383a2=_0x12384f?_0x284e96(0xfe):_0x284e96(0x61d),_0x72f838=_0x12384f?_0x284e96(0x527):_0x284e96(0xa3c);_0x2f7441+=_0x284e96(0x678),_0x2f7441+=_0x284e96(0xbe6)+_0x72f838+_0x284e96(0x11a)+_0x5383a2+_0x284e96(0x4b4)+_0x1ce50b+_0x284e96(0x85a),_0x5dc52c[_0x1ce50b][_0x284e96(0x27f)](_0x226c42=>{const _0x25c03d=_0x284e96,_0x3d494d=!!_0x226c42['id'],_0xa325c=_0x3d494d?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x226c42['id']+_0x25c03d(0x14a)+_0x226c42['id']+_0x25c03d(0x312)+_0x226c42['id']+_0x25c03d(0x87)+_0x226c42['id']+_0x25c03d(0x26b):'';_0x2f7441+=_0x25c03d(0xb5e)+(_0x226c42['id']||'')+_0x25c03d(0x3c6)+_0x226c42[_0x25c03d(0x683)]+_0x25c03d(0x789)+_0x226c42[_0x25c03d(0x683)]+_0x25c03d(0x16d)+(_0x3d494d?_0x25c03d(0x85)+_0x226c42['name']+'\x22>':'')+_0x25c03d(0x77)+_0xa325c+_0x25c03d(0x2fb);}),_0x2f7441+=_0x284e96(0xc94);}}_0x15cdf6['innerHTML']=_0x2f7441||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x15cdf6['removeEventListener'](_0x284e96(0x247),updateSelectedTopicsCount),_0x15cdf6[_0x284e96(0x5e1)](_0x284e96(0x247),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0xefa3ac,_0x3c9075){const _0x55e221=_0x587d0b;if(!_0xefa3ac||!_0x3c9075['trim']()){showMessage(_0x55e221(0x40f));return;}try{const _0x5af5d2=doc(db,'artifacts/'+appId+_0x55e221(0x65d),_0xefa3ac);await updateDoc(_0x5af5d2,{'name':_0x3c9075[_0x55e221(0x8e7)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x5096d6){console['error'](_0x55e221(0x90),_0x5096d6),showMessage(_0x55e221(0xbe1));}}function toggleTopicEditMode(_0x1153c6,_0xebf78){const _0x4b5e01=_0x587d0b;if(!_0x1153c6)return;const _0x4bff11=_0x1153c6[_0x4b5e01(0xb1b)]('.topic-name-display'),_0x44bf86=_0x1153c6[_0x4b5e01(0xb1b)](_0x4b5e01(0x4e0)),_0x28dae7=_0x1153c6['querySelector'](_0x4b5e01(0x98f)),_0x89f97b=_0x1153c6[_0x4b5e01(0xb1b)](_0x4b5e01(0x65c));_0x4bff11[_0x4b5e01(0x860)][_0x4b5e01(0x749)](_0x4b5e01(0x6e9),_0xebf78),_0x44bf86[_0x4b5e01(0x860)][_0x4b5e01(0x749)]('hidden',!_0xebf78),_0x28dae7[_0x4b5e01(0x860)][_0x4b5e01(0x749)](_0x4b5e01(0x6e9),_0xebf78),_0x89f97b[_0x4b5e01(0x860)][_0x4b5e01(0x749)](_0x4b5e01(0x6e9),!_0xebf78),_0xebf78&&(_0x44bf86['focus'](),_0x44bf86[_0x4b5e01(0xc31)]());}async function handleStartLiveRace(_0x4b8156){const _0x341aa9=_0x587d0b;let _0x10ede0=allQuizzes[_0x341aa9(0xa3a)](_0x23e880=>_0x23e880['id']===_0x4b8156);if(!_0x10ede0){const _0x35c196=doc(db,_0x341aa9(0x1f0)+appId+_0x341aa9(0x92d),_0x4b8156),_0x22de0f=await getDoc(_0x35c196);if(!_0x22de0f[_0x341aa9(0x2ef)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x10ede0={'id':_0x22de0f['id'],..._0x22de0f[_0x341aa9(0xc12)]()};}const _0x49a0ce=getShuffledQuiz(_0x10ede0);currentQuizData=_0x49a0ce;const _0x5a6846=_0x10ede0['projectId']||currentProjectId||null,_0x5ce4bd=Math[_0x341aa9(0x4d7)](0x3e8+Math['random']()*0x2328)[_0x341aa9(0x6ce)]();currentLiveGamePin=_0x5ce4bd;try{const _0x1b6e2c=await addDoc(collection(db,_0x341aa9(0x1f0)+appId+_0x341aa9(0x618)),{'quizId':_0x4b8156,'projectId':_0x5a6846,'status':_0x341aa9(0xa33),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x5ce4bd,'createdAt':serverTimestamp(),'shuffledQuiz':_0x49a0ce});currentLiveGameId=_0x1b6e2c['id'],showAdminLobbyView(_0x5ce4bd,_0x10ede0[_0x341aa9(0x53e)]),listenForLiveGameUpdates();}catch(_0x5a1c8a){console['error'](_0x341aa9(0x793),_0x5a1c8a),showMessage(_0x341aa9(0x35f));}}function updateSelectedTopicsCount(){const _0xd1600f=_0x587d0b,_0x21a9e5=document[_0xd1600f(0x43c)](_0xd1600f(0x83f)),_0x2a8f0d=_0x21a9e5['querySelectorAll'](_0xd1600f(0x40d))['length'],_0x385b2a=document[_0xd1600f(0x43c)](_0xd1600f(0x79a));_0x2a8f0d>0x0?_0x385b2a[_0xd1600f(0xc0d)]=_0xd1600f(0x1c1)+_0x2a8f0d+'\x20หัวข้อ)':_0x385b2a['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x587d0b(0x8de),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x587d0b(0x9a1),quizLeaderboardSortOrder=_0x587d0b(0xa72),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x587d0b(0xc44),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x587d0b(0xa20),scratchpadPenColor=_0x587d0b(0xafd),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x25ecb9,_0x28a618){const _0x35a5c5=_0x587d0b;return Math[_0x35a5c5(0x77a)](Math['pow'](_0x25ecb9['x']-_0x28a618['x'],0x2)+Math[_0x35a5c5(0x8e4)](_0x25ecb9['y']-_0x28a618['y'],0x2));}function getMidpoint(_0x42334a,_0x3e1654){return{'x':(_0x42334a['x']+_0x3e1654['x'])/0x2,'y':(_0x42334a['y']+_0x3e1654['y'])/0x2};}function getTransformedPoint(_0x143306,_0x5ee74a){return{'x':(_0x143306-scratchpadOffset['x'])/scratchpadScale,'y':(_0x5ee74a-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x2065ed=_0x587d0b;if(!scratchpadCtx)return;const _0x4e09e1=scratchpadCtx[_0x2065ed(0x157)],_0x56cffe=window['devicePixelRatio']||0x1,_0x1fe0b3=document[_0x2065ed(0x43c)](_0x2065ed(0x6af));_0x1fe0b3&&(_0x1fe0b3[_0x2065ed(0x1fc)][_0x2065ed(0xa19)]=_0x2065ed(0xa6d),_0x1fe0b3[_0x2065ed(0x1fc)][_0x2065ed(0x227)]=_0x2065ed(0x3ea)+scratchpadOffset['x']+_0x2065ed(0x820)+scratchpadOffset['y']+_0x2065ed(0xa0b)+scratchpadScale+')'),scratchpadCtx[_0x2065ed(0x819)](),scratchpadCtx[_0x2065ed(0x81c)](_0x56cffe,0x0,0x0,_0x56cffe,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x4e09e1['width'],_0x4e09e1[_0x2065ed(0x53f)]),scratchpadCtx['restore'](),scratchpadCtx[_0x2065ed(0x819)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x2065ed(0xadc)](scratchpadScale,scratchpadScale),strokes[_0x2065ed(0x27f)](_0x11e3dd=>{drawStroke(_0x11e3dd);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x2065ed(0x518)]();}function renderGroupModeQuestion(){const _0x4ea763=_0x587d0b;if(localQuestionIndex>=currentQuizData[_0x4ea763(0x66b)][_0x4ea763(0x3ce)]){displayTeamQuizFinalResults();return;}const _0x5109f3=currentQuizData[_0x4ea763(0x66b)][localQuestionIndex],_0x402be6=_0x5109f3[_0x4ea763(0x8af)]||currentQuizData[_0x4ea763(0x86d)];let _0xb1d5a5=_0x5109f3['stem']||_0x5109f3['questionText'],_0x31715b='';switch(_0x402be6){case _0x4ea763(0x51f):case _0x4ea763(0xb8b):_0x31715b=_0x5109f3['options'][_0x4ea763(0x9a0)]((_0x3862ea,_0x381d28)=>_0x4ea763(0x3e0)+_0x381d28+_0x4ea763(0x574)+_0x381d28+_0x4ea763(0xa8e)+_0x381d28+'\x22>'+_0x3862ea+_0x4ea763(0x455))[_0x4ea763(0xd9)]('');break;case _0x4ea763(0x907):_0x31715b=_0x4ea763(0x520);break;case _0x4ea763(0x573):case _0x4ea763(0x7c0):_0x31715b=_0x4ea763(0x25d);break;case'matching_item':_0x31715b=_0x4ea763(0x7d1)+_0x5109f3[_0x4ea763(0x4f0)]['map'](_0x5d86c4=>_0x4ea763(0x244)+_0x5d86c4+'\x22>'+_0x5d86c4+_0x4ea763(0x9e))[_0x4ea763(0xd9)]('')+_0x4ea763(0x9b6);break;default:_0x31715b=_0x4ea763(0x500);break;}studentQuizArea['innerHTML']=_0x4ea763(0xc24)+(localQuestionIndex+0x1)+_0x4ea763(0xbe0)+currentQuizData['questions'][_0x4ea763(0x3ce)]+_0x4ea763(0x798)+localTeamPlayers[_0x4ea763(0xd9)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0xb1d5a5+_0x4ea763(0x29f)+(_0x5109f3[_0x4ea763(0xb6d)]?_0x4ea763(0x121)+_0x5109f3[_0x4ea763(0xb6d)]+_0x4ea763(0xc94):'')+_0x4ea763(0x807)+_0x31715b+_0x4ea763(0x7bf),studentQuizArea['classList'][_0x4ea763(0xbf3)](_0x4ea763(0x6e9));if(window[_0x4ea763(0xaf8)])MathJax[_0x4ea763(0x5ad)]([studentQuizArea]);document[_0x4ea763(0x43c)](_0x4ea763(0x9f3))[_0x4ea763(0x5e1)]('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x3c80e2,_0x527e33=null,_0x4ff6e7,_0x1df366=null,_0x1b1834=![],_0x2a9c4a=null){const _0x331e13=_0x587d0b,_0x325f3e=document[_0x331e13(0x43c)](_0x331e13(0x4ff));_0x325f3e&&_0x325f3e[_0x331e13(0x775)]({'behavior':_0x331e13(0x7ff),'block':'center'}),generateQuiz(_0x3c80e2,_0x527e33,null,_0x2a9c4a,!![],_0x4ff6e7,_0x1df366,_0x1b1834);}function handleGenerateAndShowLesson(_0x174aee,_0xb18612){const _0x2d962c=_0x587d0b,_0x4ffe93=document['getElementById']('lesson-view-modal'),_0x1d1add=document[_0x2d962c(0x43c)]('lesson-view-title'),_0xf7b8f7=document[_0x2d962c(0x43c)]('lesson-loader'),_0x19f0d1=document[_0x2d962c(0x43c)]('lesson-sections-container');[_0x2d962c(0x142),_0x2d962c(0x841),_0x2d962c(0x893),_0x2d962c(0x40c)]['forEach'](_0x54af2c=>{const _0x55d95c=_0x2d962c,_0x493cab=document['getElementById'](_0x54af2c)[_0x55d95c(0xa87)];_0x493cab&&(_0x493cab[_0x55d95c(0x1fc)][_0x55d95c(0x9b0)]=_0x55d95c(0x1e6));}),_0x1d1add['textContent']='กำลังสร้างบทเรียน:\x20'+_0x174aee,_0x19f0d1[_0x2d962c(0x860)][_0x2d962c(0x61e)](_0x2d962c(0x6e9)),_0xf7b8f7[_0x2d962c(0x860)][_0x2d962c(0xbf3)](_0x2d962c(0x6e9)),_0x4ffe93[_0x2d962c(0x860)]['remove'](_0x2d962c(0x6e9)),generateLesson(_0x174aee,_0xb18612)[_0x2d962c(0xc35)](_0x1880c5=>{const _0x4091ca=_0x2d962c;console[_0x4091ca(0x48f)](_0x4091ca(0x182),_0x1880c5),showMessage(_0x4091ca(0x752)),_0x4ffe93[_0x4091ca(0x860)][_0x4091ca(0x61e)](_0x4091ca(0x6e9));});}function handlePointerDown(_0x2d7efa){const _0x5918cb=_0x587d0b;_0x2d7efa[_0x5918cb(0x421)]();const _0x51b7c8=scratchpadCtx[_0x5918cb(0x157)],_0x42b954=_0x51b7c8[_0x5918cb(0x6b4)](),_0x148186=_0x2d7efa[_0x5918cb(0x10d)]||(_0x2d7efa['touches']?_0x5918cb(0x9fe):'mouse');if(_0x148186===_0x5918cb(0xa20)||_0x148186===_0x5918cb(0x5d1)){if(_0x2d7efa['pointerType']===_0x5918cb(0x5d1)&&_0x2d7efa[_0x5918cb(0xadb)]!==0x0){_0x2d7efa[_0x5918cb(0xadb)]===0x1&&(isMousePanning=!![],panStart={'x':_0x2d7efa[_0x5918cb(0x33a)],'y':_0x2d7efa[_0x5918cb(0x6f1)]},_0x51b7c8[_0x5918cb(0x1fc)][_0x5918cb(0xb77)]=_0x5918cb(0xb06));return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x3ca5a8=getTransformedPoint(_0x2d7efa[_0x5918cb(0x33a)]-_0x42b954[_0x5918cb(0x758)],_0x2d7efa[_0x5918cb(0x6f1)]-_0x42b954['top']);let _0x442a72={'tool':activeTool,'points':[_0x3ca5a8]};if(activeTool===_0x5918cb(0xa20))_0x442a72['color']=scratchpadPenColor,_0x442a72['size']=scratchpadPenSize;else{if(activeTool===_0x5918cb(0x34e))_0x442a72[_0x5918cb(0x9f1)]=scratchpadPenColor,_0x442a72[_0x5918cb(0xc1a)]=scratchpadEraserSize;else{if(activeTool===_0x5918cb(0x890))_0x442a72[_0x5918cb(0x9f1)]=scratchpadHighlighterColor,_0x442a72[_0x5918cb(0xc1a)]=scratchpadHighlighterSize;else activeTool===_0x5918cb(0x368)&&(_0x442a72[_0x5918cb(0x9f1)]=scratchpadPenColor,_0x442a72[_0x5918cb(0xc1a)]=scratchpadPenSize);}}currentStroke=_0x442a72;}else _0x2d7efa[_0x5918cb(0x75c)]&&(_0x2d7efa[_0x5918cb(0x75c)][_0x5918cb(0x3ce)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x2d7efa[_0x5918cb(0x75c)][0x0][_0x5918cb(0x33a)],'y':_0x2d7efa[_0x5918cb(0x75c)][0x0][_0x5918cb(0x6f1)]},{'x':_0x2d7efa['touches'][0x1][_0x5918cb(0x33a)],'y':_0x2d7efa['touches'][0x1][_0x5918cb(0x6f1)]}),initialPinchDistance=getDistance({'x':_0x2d7efa[_0x5918cb(0x75c)][0x0]['clientX'],'y':_0x2d7efa[_0x5918cb(0x75c)][0x0][_0x5918cb(0x6f1)]},{'x':_0x2d7efa[_0x5918cb(0x75c)][0x1][_0x5918cb(0x33a)],'y':_0x2d7efa[_0x5918cb(0x75c)][0x1][_0x5918cb(0x6f1)]})));}function animateTrail(){const _0x4db2dc=_0x587d0b,_0x50efbf=Date[_0x4db2dc(0x349)]();let _0x269532=![];for(let _0xf9d9a5=strokes[_0x4db2dc(0x3ce)]-0x1;_0xf9d9a5>=0x0;_0xf9d9a5--){const _0x12f5bf=strokes[_0xf9d9a5];if(_0x12f5bf[_0x4db2dc(0x971)]===_0x4db2dc(0x368)&&_0x12f5bf['fadeStartTime']){const _0x441909=_0x50efbf-_0x12f5bf[_0x4db2dc(0x6bb)];_0x441909>=TRAIL_DURATION?strokes[_0x4db2dc(0x908)](_0xf9d9a5,0x1):(_0x12f5bf['opacity']=0x1-_0x441909/TRAIL_DURATION,_0x269532=!![]);}}redrawScratchpad(),_0x269532?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x528d26){const _0x539f7e=_0x587d0b;if(!_0x528d26||_0x528d26['points'][_0x539f7e(0x3ce)]<0x1)return;scratchpadCtx[_0x539f7e(0x819)](),scratchpadCtx[_0x539f7e(0x4b6)]=_0x539f7e(0x962),scratchpadCtx['lineCap']=_0x539f7e(0x962);if(_0x528d26[_0x539f7e(0x971)]===_0x539f7e(0x368)){const _0x5c3e2b=_0x528d26[_0x539f7e(0xc1a)]/scratchpadScale;scratchpadCtx[_0x539f7e(0x9c8)]=_0x528d26['opacity']??0x1,scratchpadCtx[_0x539f7e(0xac8)]=_0x539f7e(0xe2),scratchpadCtx[_0x539f7e(0x402)]=_0x5c3e2b*0x3,scratchpadCtx[_0x539f7e(0x41b)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x539f7e(0xb3a)]=_0x5c3e2b*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x539f7e(0xbbc)](_0x528d26[_0x539f7e(0x69f)][0x0]['x'],_0x528d26[_0x539f7e(0x69f)][0x0]['y']);for(let _0x263b78=0x1;_0x263b78<_0x528d26['points']['length']-0x1;_0x263b78++){const _0x585182=getMidpoint(_0x528d26['points'][_0x263b78],_0x528d26['points'][_0x263b78+0x1]);scratchpadCtx[_0x539f7e(0xa80)](_0x528d26[_0x539f7e(0x69f)][_0x263b78]['x'],_0x528d26[_0x539f7e(0x69f)][_0x263b78]['y'],_0x585182['x'],_0x585182['y']);}scratchpadCtx[_0x539f7e(0x275)](),scratchpadCtx[_0x539f7e(0xac8)]=_0x539f7e(0xb32),scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x539f7e(0x41b)]=_0x539f7e(0x28e),scratchpadCtx['lineWidth']=_0x5c3e2b,scratchpadCtx['stroke'](),scratchpadCtx[_0x539f7e(0x878)]();}else{if(_0x528d26[_0x539f7e(0x971)]==='highlighter'){scratchpadCtx[_0x539f7e(0x51d)]=_0x539f7e(0x532),scratchpadCtx[_0x539f7e(0x41b)]=_0x528d26[_0x539f7e(0x9f1)],scratchpadCtx[_0x539f7e(0xb3a)]=_0x528d26['size'],scratchpadCtx[_0x539f7e(0x495)](),scratchpadCtx[_0x539f7e(0xbbc)](_0x528d26[_0x539f7e(0x69f)][0x0]['x'],_0x528d26[_0x539f7e(0x69f)][0x0]['y']);for(let _0xb01c42=0x1;_0xb01c42<_0x528d26[_0x539f7e(0x69f)][_0x539f7e(0x3ce)]-0x1;_0xb01c42++){const _0x2a67b9=getMidpoint(_0x528d26['points'][_0xb01c42],_0x528d26[_0x539f7e(0x69f)][_0xb01c42+0x1]);scratchpadCtx[_0x539f7e(0xa80)](_0x528d26['points'][_0xb01c42]['x'],_0x528d26[_0x539f7e(0x69f)][_0xb01c42]['y'],_0x2a67b9['x'],_0x2a67b9['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x539f7e(0x878)]();}else{scratchpadCtx[_0x539f7e(0x51d)]=_0x528d26[_0x539f7e(0x971)]===_0x539f7e(0x34e)?_0x539f7e(0x613):_0x539f7e(0xa25),scratchpadCtx[_0x539f7e(0x41b)]=_0x528d26[_0x539f7e(0x9f1)],scratchpadCtx[_0x539f7e(0xb3a)]=_0x528d26['size'],scratchpadCtx[_0x539f7e(0x495)](),scratchpadCtx[_0x539f7e(0xbbc)](_0x528d26['points'][0x0]['x'],_0x528d26[_0x539f7e(0x69f)][0x0]['y']);for(let _0x28760f=0x1;_0x28760f<_0x528d26[_0x539f7e(0x69f)][_0x539f7e(0x3ce)]-0x1;_0x28760f++){const _0x47412c=getMidpoint(_0x528d26[_0x539f7e(0x69f)][_0x28760f],_0x528d26['points'][_0x28760f+0x1]);scratchpadCtx[_0x539f7e(0xa80)](_0x528d26[_0x539f7e(0x69f)][_0x28760f]['x'],_0x528d26[_0x539f7e(0x69f)][_0x28760f]['y'],_0x47412c['x'],_0x47412c['y']);}scratchpadCtx[_0x539f7e(0x275)](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x539f7e(0x518)]();}function handlePointerMove(_0x4ef73f){const _0x597509=_0x587d0b;_0x4ef73f[_0x597509(0x421)]();const _0x23116d=scratchpadCtx[_0x597509(0x157)],_0x192f9d=_0x23116d['getBoundingClientRect']();if(_0x4ef73f['touches']){if(_0x4ef73f['touches']['length']===0x1&&isDrawingOnScratchpad){const _0x1fe2af=getTransformedPoint(_0x4ef73f['touches'][0x0][_0x597509(0x33a)]-_0x192f9d[_0x597509(0x758)],_0x4ef73f[_0x597509(0x75c)][0x0][_0x597509(0x6f1)]-_0x192f9d[_0x597509(0x3f6)]);currentStroke[_0x597509(0x69f)][_0x597509(0x211)](_0x1fe2af),redrawScratchpad();}else{if(_0x4ef73f[_0x597509(0x75c)]['length']===0x2&&isPanning){const _0x88d1c1=getDistance({'x':_0x4ef73f[_0x597509(0x75c)][0x0][_0x597509(0x33a)],'y':_0x4ef73f[_0x597509(0x75c)][0x0][_0x597509(0x6f1)]},{'x':_0x4ef73f[_0x597509(0x75c)][0x1]['clientX'],'y':_0x4ef73f['touches'][0x1][_0x597509(0x6f1)]}),_0x4084b1=getMidpoint({'x':_0x4ef73f['touches'][0x0][_0x597509(0x33a)],'y':_0x4ef73f['touches'][0x0][_0x597509(0x6f1)]},{'x':_0x4ef73f['touches'][0x1][_0x597509(0x33a)],'y':_0x4ef73f[_0x597509(0x75c)][0x1]['clientY']}),_0x378744=_0x88d1c1/ initialPinchDistance,_0x20319f=Math[_0x597509(0x806)](Math['max'](scratchpadScale*_0x378744,MIN_SCALE),MAX_SCALE),_0xff6837=_0x4084b1['x']-panStart['x'],_0x4245d9=_0x4084b1['y']-panStart['y'];scratchpadOffset['x']=_0x4084b1['x']-(_0x4084b1['x']-scratchpadOffset['x'])*(_0x20319f/scratchpadScale),scratchpadOffset['y']=_0x4084b1['y']-(_0x4084b1['y']-scratchpadOffset['y'])*(_0x20319f/scratchpadScale),scratchpadOffset['x']+=_0xff6837,scratchpadOffset['y']+=_0x4245d9,scratchpadScale=_0x20319f,initialPinchDistance=_0x88d1c1,panStart=_0x4084b1,redrawScratchpad();}}}else{if(isMousePanning){const _0x1822d2=_0x4ef73f[_0x597509(0x33a)]-panStart['x'],_0x81122f=_0x4ef73f[_0x597509(0x6f1)]-panStart['y'];scratchpadOffset['x']+=_0x1822d2,scratchpadOffset['y']+=_0x81122f,panStart={'x':_0x4ef73f[_0x597509(0x33a)],'y':_0x4ef73f[_0x597509(0x6f1)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x32e7e1=getTransformedPoint(_0x4ef73f[_0x597509(0x33a)]-_0x192f9d[_0x597509(0x758)],_0x4ef73f['clientY']-_0x192f9d['top']);currentStroke['points'][_0x597509(0x211)](_0x32e7e1),redrawScratchpad();}}}}function handlePointerUp(_0x1b485f){const _0xf3abb=_0x587d0b;_0x1b485f[_0xf3abb(0x421)]();const _0x590e24=scratchpadCtx[_0xf3abb(0x157)];isMousePanning&&(isMousePanning=![],_0x590e24[_0xf3abb(0x1fc)][_0xf3abb(0xb77)]=_0xf3abb(0xbc8)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0xf3abb(0x69f)][_0xf3abb(0x3ce)]>0x1&&(strokes[_0xf3abb(0x211)](currentStroke),currentStroke['tool']===_0xf3abb(0x368)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x2b73dd=_0xf3abb,_0x5a8613=strokes[_0x2b73dd(0x35c)](_0x1f5102=>_0x1f5102[_0x2b73dd(0x971)]===_0x2b73dd(0x368)&&!_0x1f5102[_0x2b73dd(0x6bb)]);if(_0x5a8613[_0x2b73dd(0x3ce)]>0x0){const _0x131a13=Date['now']();_0x5a8613[_0x2b73dd(0x27f)](_0x52ff05=>_0x52ff05['fadeStartTime']=_0x131a13),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x4101f8){const _0x5a589d=_0x587d0b;_0x4101f8['preventDefault']();const _0x5f058a=_0x4101f8[_0x5a589d(0xbc0)]*-0.005,_0x53eb59=Math['min'](Math['max'](scratchpadScale+_0x5f058a,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x4101f8[_0x5a589d(0x33a)]-(_0x4101f8['clientX']-scratchpadOffset['x'])*(_0x53eb59/scratchpadScale),scratchpadOffset['y']=_0x4101f8[_0x5a589d(0x6f1)]-(_0x4101f8[_0x5a589d(0x6f1)]-scratchpadOffset['y'])*(_0x53eb59/scratchpadScale),scratchpadScale=_0x53eb59,redrawScratchpad();}function undo(){const _0x7128e6=_0x587d0b;strokes[_0x7128e6(0x3ce)]>0x0&&(redoStrokes['push'](strokes[_0x7128e6(0x416)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x21bb6d=_0x587d0b;redoStrokes['length']>0x0&&(strokes[_0x21bb6d(0x211)](redoStrokes[_0x21bb6d(0x416)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x445cf9=_0x587d0b;document[_0x445cf9(0x43c)](_0x445cf9(0x734))[_0x445cf9(0x35d)]=strokes['length']===0x0,document[_0x445cf9(0x43c)]('redo-btn')['disabled']=redoStrokes['length']===0x0;}function openScratchpad(_0x570f54,_0x240856){const _0x570435=_0x587d0b,_0x4889ce=document['getElementById'](_0x570435(0x7d7)),_0x43e653=document['getElementById'](_0x570435(0x3f8)),_0x3ee7e7=document[_0x570435(0x43c)]('scratchpad-options'),_0x9c8a1e=document[_0x570435(0x43c)]('scratchpad-controls');_0x43e653[_0x570435(0x30c)]=_0x570f54[_0x570435(0x2f0)]||_0x570f54[_0x570435(0xb89)],_0x3ee7e7[_0x570435(0x30c)]=_0x240856['map']((_0x4c7d5f,_0x491121)=>_0x570435(0x9f6)+String[_0x570435(0x1c8)](0x41+_0x491121)+'.\x20'+_0x4c7d5f+_0x570435(0xc94))[_0x570435(0xd9)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x4889ce[_0x570435(0x860)][_0x570435(0xbf3)](_0x570435(0x6e9)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x570435(0xaf8)])MathJax['typesetPromise']([_0x43e653,_0x3ee7e7]);}function openBlueprintQuizSettings(){const _0x4e2158=_0x587d0b,_0x92428e=document[_0x4e2158(0x43c)](_0x4e2158(0x282)),_0x91873f=blueprintPageSettings||(currentProjectData?currentProjectData['settings']:{})||{};document[_0x4e2158(0x43c)](_0x4e2158(0x4ba))['value']=_0x91873f[_0x4e2158(0x86d)]||document[_0x4e2158(0x43c)](_0x4e2158(0x1f3))[_0x4e2158(0x5d0)],document[_0x4e2158(0x43c)](_0x4e2158(0x20f))[_0x4e2158(0x30c)]=document['getElementById']('difficulty-level-select')[_0x4e2158(0x30c)],document[_0x4e2158(0x43c)](_0x4e2158(0x20f))[_0x4e2158(0x5d0)]=_0x91873f[_0x4e2158(0x6a3)]||document['getElementById'](_0x4e2158(0x9a6))['value'],document[_0x4e2158(0x43c)](_0x4e2158(0x8b6))['innerHTML']=document['getElementById'](_0x4e2158(0xb44))[_0x4e2158(0x30c)],document[_0x4e2158(0x43c)](_0x4e2158(0x8b6))[_0x4e2158(0x5d0)]=_0x91873f['complexityValue']||document['getElementById'](_0x4e2158(0xb44))[_0x4e2158(0x5d0)],document[_0x4e2158(0x43c)](_0x4e2158(0xad9))[_0x4e2158(0x5d0)]=_0x91873f[_0x4e2158(0x7a7)]||document['getElementById'](_0x4e2158(0x5be))[_0x4e2158(0x5d0)],document[_0x4e2158(0x43c)](_0x4e2158(0x204))[_0x4e2158(0x5d0)]=_0x91873f[_0x4e2158(0x2bf)]||document[_0x4e2158(0x43c)](_0x4e2158(0x36f))[_0x4e2158(0x5d0)],document[_0x4e2158(0x43c)](_0x4e2158(0x59c))['value']=_0x91873f['numChoices']||document['getElementById'](_0x4e2158(0xbf4))['value'],document[_0x4e2158(0x43c)](_0x4e2158(0xb39))[_0x4e2158(0x5d0)]=_0x91873f['shuffle']||document[_0x4e2158(0x43c)](_0x4e2158(0x620))[_0x4e2158(0x5d0)],document[_0x4e2158(0x43c)](_0x4e2158(0x465))[_0x4e2158(0x1a3)]=_0x91873f[_0x4e2158(0x355)]||document['getElementById'](_0x4e2158(0x794))['checked'],_0x92428e[_0x4e2158(0x860)][_0x4e2158(0xbf3)](_0x4e2158(0x6e9));}function handleSaveBlueprintPageSettings(){const _0x273110=_0x587d0b;blueprintPageSettings={'quizType':document[_0x273110(0x43c)](_0x273110(0x4ba))[_0x273110(0x5d0)],'difficultyValue':document[_0x273110(0x43c)](_0x273110(0x20f))[_0x273110(0x5d0)],'complexityValue':document[_0x273110(0x43c)](_0x273110(0x8b6))[_0x273110(0x5d0)],'numQuestions':document[_0x273110(0x43c)]('bp-modal-num-questions')['value'],'passingScore':document['getElementById'](_0x273110(0x204))['value'],'numChoices':document[_0x273110(0x43c)](_0x273110(0x59c))[_0x273110(0x5d0)],'shuffle':document[_0x273110(0x43c)](_0x273110(0xb39))[_0x273110(0x5d0)],'includeImages':document[_0x273110(0x43c)](_0x273110(0x465))['checked']},showMessage(_0x273110(0x2e3)),document['getElementById']('blueprint-settings-modal')[_0x273110(0x860)]['add'](_0x273110(0x6e9));}function listenForParallelTestShortcuts(){const _0xd30d1=_0x587d0b,_0x5eec87=doc(db,_0xd30d1(0x397),_0xd30d1(0x9c5));onSnapshot(_0x5eec87,_0xa4d76a=>{const _0x2509a0=_0xd30d1;let _0xf99ef3=[],_0x1ae4de=[],_0x581944={};if(_0xa4d76a['exists']()){const _0x18b9a1=_0xa4d76a[_0x2509a0(0xc12)]();_0xf99ef3=_0x18b9a1[_0x2509a0(0x650)]||[],_0x1ae4de=_0x18b9a1[_0x2509a0(0x53a)]||[],_0x581944=_0x18b9a1[_0x2509a0(0xd4)]||{};}!_0x1ae4de['find'](_0x5e332c=>_0x5e332c['id']===_0x2509a0(0xafb))&&_0x1ae4de['unshift']({'id':_0x2509a0(0xafb),'name':_0x2509a0(0x74b),'isDefault':!![]}),!_0xf99ef3[_0x2509a0(0xa3a)](_0x43bc3b=>_0x43bc3b['id']===_0x2509a0(0xc6c))&&_0xf99ef3[_0x2509a0(0x144)]({'id':_0x2509a0(0xc6c),'name':'ต้นฉบับ\x201','url':'','isDefault':!![]}),!_0xf99ef3[_0x2509a0(0xa3a)](_0x3b2830=>_0x3b2830['id']===_0x2509a0(0xa91))&&_0xf99ef3[_0x2509a0(0x144)]({'id':_0x2509a0(0xa91),'name':_0x2509a0(0x524),'url':'','isDefault':!![]}),parallelTestShortcuts=_0xf99ef3,parallelShortcutTabs=_0x1ae4de,parallelShortcutOrder=_0x581944,renderParallelTestShortcuts(),!document['getElementById'](_0x2509a0(0x5a2))[_0x2509a0(0x860)][_0x2509a0(0xb57)]('hidden')&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x1ae809=_0x587d0b,_0x106347=doc(db,'globalSettings','parallelTestShortcutsConfig');try{await setDoc(_0x106347,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x1c2dab){console[_0x1ae809(0x48f)](_0x1ae809(0x838),_0x1c2dab);}}function renderAdditionalParallelShortcutsModal(){const _0x17c0d0=_0x587d0b,_0x4b759f=document['getElementById']('parallel-shortcut-tabs-nav'),_0x40cb3f=document[_0x17c0d0(0x43c)](_0x17c0d0(0x89a));if(!_0x4b759f||!_0x40cb3f)return;_0x4b759f[_0x17c0d0(0x30c)]=parallelShortcutTabs[_0x17c0d0(0x9a0)](_0x5577a5=>{const _0x1355df=_0x17c0d0,_0x4eb165=_0x5577a5['id']===activeParallelShortcutTabId;return _0x1355df(0x269)+_0x5577a5['id']+_0x1355df(0x8ec)+(_0x4eb165?_0x1355df(0x521):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x1355df(0x4de)+_0x5577a5['name']+_0x1355df(0x589)+_0x5577a5[_0x1355df(0x683)]+_0x1355df(0x1fd)+(!_0x5577a5['isDefault']?_0x1355df(0x63f)+_0x5577a5['id']+'\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x1355df(0x7fd);})[_0x17c0d0(0xd9)]('');const _0x5e256b=parallelShortcutTabs[_0x17c0d0(0xa3a)](_0x550992=>_0x550992['id']===activeParallelShortcutTabId);let _0x4d1129=_0x5e256b?.[_0x17c0d0(0x68d)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x17c0d0(0x35c)](_0x4d709f=>(_0x5e256b?.[_0x17c0d0(0x6f3)]||[])['includes'](_0x4d709f['id']));const _0x1ef936=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x4d1129[_0x17c0d0(0x34f)]((_0x1bfee8,_0x34175f)=>{const _0x2cff99=_0x17c0d0,_0x4ea0ec=_0x1ef936[_0x2cff99(0xc09)](_0x1bfee8['id']),_0x2bfbf0=_0x1ef936[_0x2cff99(0xc09)](_0x34175f['id']);return(_0x4ea0ec===-0x1?Infinity:_0x4ea0ec)-(_0x2bfbf0===-0x1?Infinity:_0x2bfbf0);}),_0x40cb3f[_0x17c0d0(0x30c)]=_0x4d1129['map'](_0x3e268c=>{const _0x41e407=_0x17c0d0,_0x4bff50=_0x3e268c['url']?'🔁':'🔗',_0x3d1bd5=parallelShortcutTabs[_0x41e407(0x35c)](_0xc39c30=>!_0xc39c30[_0x41e407(0x68d)]),_0x599dde=_0x5e256b[_0x41e407(0x68d)]&&_0x3d1bd5[_0x41e407(0x3ce)]>0x0?_0x41e407(0x37a)+_0x3d1bd5[_0x41e407(0x9a0)](_0x45e272=>_0x41e407(0x553)+_0x3e268c['id']+'\x22\x20data-target-tab-id=\x22'+_0x45e272['id']+'\x22>'+_0x45e272[_0x41e407(0x683)]+_0x41e407(0x2d8))['join']('')+_0x41e407(0x49a):'';return _0x41e407(0xb28)+_0x3e268c['id']+_0x41e407(0x17b)+_0x4bff50+'\x20'+_0x3e268c[_0x41e407(0x683)]+_0x41e407(0x791)+_0x3e268c['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3e268c['id']+_0x41e407(0xbf0)+(!_0x3e268c[_0x41e407(0x68d)]?_0x41e407(0xb2e)+_0x3e268c['id']+_0x41e407(0x7b):'')+_0x41e407(0x1b0)+(!_0x5e256b[_0x41e407(0x68d)]?_0x41e407(0x26d)+_0x3e268c['id']+_0x41e407(0x928):'')+_0x41e407(0x1b0)+_0x599dde+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')||_0x17c0d0(0x83d),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x48abfc=_0x587d0b;document[_0x48abfc(0xa6e)]('.parallel-shortcut-tab-btn')[_0x48abfc(0x27f)](_0x5e9ff3=>{const _0x1eec98=_0x48abfc;_0x5e9ff3[_0x1eec98(0xb31)]=_0x5b5911=>{const _0xe6d1cc=_0x1eec98;activeParallelShortcutTabId=_0x5b5911[_0xe6d1cc(0x526)][_0xe6d1cc(0x82f)][_0xe6d1cc(0x6e1)],renderAdditionalParallelShortcutsModal();},_0x5e9ff3['ondblclick']=_0x569230=>{const _0xcf2eb=_0x1eec98,_0x41dafb=_0x569230[_0xcf2eb(0x526)]['querySelector'](_0xcf2eb(0x38f));_0x569230['currentTarget']['querySelector'](_0xcf2eb(0x7e1))[_0xcf2eb(0x860)][_0xcf2eb(0x61e)](_0xcf2eb(0x6e9)),_0x41dafb[_0xcf2eb(0x860)][_0xcf2eb(0xbf3)]('hidden'),_0x41dafb['focus'](),_0x41dafb[_0xcf2eb(0xc31)]();};}),document['querySelectorAll'](_0x48abfc(0x584))[_0x48abfc(0x27f)](_0x26c78a=>{const _0x2098f9=_0x48abfc,_0x289a20=()=>{const _0x4893e6=_0x341e,_0x3a8c97=_0x26c78a[_0x4893e6(0x3e4)](_0x4893e6(0x72e))[_0x4893e6(0x82f)][_0x4893e6(0x6e1)],_0x2cba7f=parallelShortcutTabs['find'](_0x24e8f4=>_0x24e8f4['id']===_0x3a8c97);_0x2cba7f&&(_0x2cba7f[_0x4893e6(0x683)]=_0x26c78a[_0x4893e6(0x5d0)][_0x4893e6(0x8e7)]()||_0x2cba7f[_0x4893e6(0x683)],saveParallelShortcutConfig());};_0x26c78a[_0x2098f9(0x46b)]=_0x289a20,_0x26c78a['onkeydown']=_0x42f97f=>{const _0x34567c=_0x2098f9;if(_0x42f97f[_0x34567c(0xad5)]==='Enter')_0x26c78a[_0x34567c(0x25e)]();};}),document[_0x48abfc(0xa6e)](_0x48abfc(0x11f))[_0x48abfc(0x27f)](_0x1d91a0=>_0x1d91a0[_0x48abfc(0xb31)]=_0x3a11b1=>{const _0x170d4d=_0x48abfc,_0x36f481=_0x3a11b1['currentTarget'][_0x170d4d(0x82f)][_0x170d4d(0x6e1)];showConfirmation(_0x170d4d(0x1f1),()=>{parallelShortcutTabs=parallelShortcutTabs['filter'](_0x138fd1=>_0x138fd1['id']!==_0x36f481),delete parallelShortcutOrder[_0x36f481];if(activeParallelShortcutTabId===_0x36f481)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document['querySelectorAll'](_0x48abfc(0x6cd))[_0x48abfc(0x27f)](_0x436c71=>_0x436c71[_0x48abfc(0xb31)]=_0x263d49=>{const _0x70ca51=_0x48abfc;_0x263d49[_0x70ca51(0x421)]();const {shortcutId:_0x447a40,targetTabId:_0x154fc3}=_0x263d49['currentTarget'][_0x70ca51(0x82f)],_0x49f9e6=parallelShortcutTabs[_0x70ca51(0xa3a)](_0x56ff5b=>_0x56ff5b['id']===_0x154fc3);_0x49f9e6&&!_0x49f9e6[_0x70ca51(0x6f3)][_0x70ca51(0x69d)](_0x447a40)&&(_0x49f9e6[_0x70ca51(0x6f3)][_0x70ca51(0x211)](_0x447a40),saveParallelShortcutConfig());}),document[_0x48abfc(0xa6e)](_0x48abfc(0x386))['forEach'](_0x432239=>_0x432239[_0x48abfc(0xb31)]=_0x5d4889=>{const _0x48c4e0=_0x48abfc,_0x1c389b=_0x5d4889[_0x48c4e0(0x526)][_0x48c4e0(0x82f)][_0x48c4e0(0xbda)],_0x2e525a=parallelShortcutTabs[_0x48c4e0(0xa3a)](_0x317899=>_0x317899['id']===activeParallelShortcutTabId);_0x2e525a&&!_0x2e525a[_0x48c4e0(0x68d)]&&(_0x2e525a[_0x48c4e0(0x6f3)]=_0x2e525a['shortcutIds'][_0x48c4e0(0x35c)](_0x5990c9=>_0x5990c9!==_0x1c389b),saveParallelShortcutConfig());}),document[_0x48abfc(0xa6e)](_0x48abfc(0x49b))['forEach'](_0x3450a5=>_0x3450a5[_0x48abfc(0xb31)]=_0x17a57b=>{const _0x636fe9=_0x48abfc;_0x17a57b[_0x636fe9(0x9c0)]();const _0x410b02=_0x17a57b[_0x636fe9(0x526)][_0x636fe9(0xa29)];document['querySelectorAll'](_0x636fe9(0x9b3))['forEach'](_0x412182=>_0x412182[_0x636fe9(0x860)][_0x636fe9(0x61e)](_0x636fe9(0x6e9))),_0x410b02[_0x636fe9(0x860)][_0x636fe9(0xbf3)](_0x636fe9(0x6e9));});const _0x3690d0=document[_0x48abfc(0x43c)](_0x48abfc(0x89a));let _0x35407c=null;_0x3690d0[_0x48abfc(0x10a)]=_0x1604a1=>{const _0x4a9ca4=_0x48abfc;_0x35407c=_0x1604a1[_0x4a9ca4(0x3b5)][_0x4a9ca4(0x3e4)]('.shortcut-list-item');if(_0x35407c)setTimeout(()=>_0x35407c[_0x4a9ca4(0x860)][_0x4a9ca4(0x61e)](_0x4a9ca4(0x18a)),0x0);},_0x3690d0[_0x48abfc(0x201)]=()=>{const _0x33207e=_0x48abfc;_0x35407c&&(_0x35407c[_0x33207e(0x860)][_0x33207e(0xbf3)](_0x33207e(0x18a)),_0x35407c=null);},_0x3690d0[_0x48abfc(0x4c2)]=_0x39ab7b=>{_0x39ab7b['preventDefault']();},_0x3690d0[_0x48abfc(0x649)]=_0x1a8170=>{const _0xb3ee9d=_0x48abfc;_0x1a8170[_0xb3ee9d(0x421)]();if(_0x35407c){const _0x55d779=[..._0x3690d0[_0xb3ee9d(0xa6e)](_0xb3ee9d(0x7d2))][_0xb3ee9d(0x80e)]((_0xbf298,_0x474469)=>{const _0x2bcd5b=_0xb3ee9d,_0x5b2a95=_0x474469[_0x2bcd5b(0x6b4)](),_0x1a8ab5=_0x1a8170[_0x2bcd5b(0x6f1)]-_0x5b2a95['top']-_0x5b2a95[_0x2bcd5b(0x53f)]/0x2;return _0x1a8ab5<0x0&&_0x1a8ab5>_0xbf298[_0x2bcd5b(0x194)]?{'offset':_0x1a8ab5,'element':_0x474469}:_0xbf298;},{'offset':Number[_0xb3ee9d(0x599)]})[_0xb3ee9d(0x38a)];_0x55d779==null?_0x3690d0[_0xb3ee9d(0x47c)](_0x35407c):_0x3690d0['insertBefore'](_0x35407c,_0x55d779);const _0x43cf1c=[..._0x3690d0[_0xb3ee9d(0xa6e)](_0xb3ee9d(0x885))]['map'](_0x2f05e3=>_0x2f05e3['dataset'][_0xb3ee9d(0xbda)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x43cf1c,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x5adac0=_0x587d0b,_0x5290e7=prompt(_0x5adac0(0x62e),_0x5adac0(0x605));_0x5290e7&&_0x5290e7[_0x5adac0(0x8e7)]()&&(parallelShortcutTabs[_0x5adac0(0x211)]({'id':_0x5adac0(0xa5a)+Date[_0x5adac0(0x349)](),'name':_0x5290e7['trim'](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x1da532=_0x587d0b,_0x2da288=document['getElementById'](_0x1da532(0x910)),_0x400839=document[_0x1da532(0x43c)]('additional-parallel-shortcuts-list'),_0x27c48c=document['getElementById'](_0x1da532(0x5b9));if(_0x27c48c)_0x27c48c['classList']['add'](_0x1da532(0x6e9));if(!_0x2da288||!_0x400839)return;const _0x9ae0ee=parallelTestShortcuts[_0x1da532(0x264)](0x0,0x4),_0x1302f9=parallelTestShortcuts[_0x1da532(0x264)](0x4);_0x2da288[_0x1da532(0x30c)]=_0x9ae0ee[_0x1da532(0x9a0)](_0x41a484=>{const _0x8998ae=_0x1da532,_0x1c8a71=_0x41a484[_0x8998ae(0x1dc)]&&_0x41a484[_0x8998ae(0x1dc)]['trim']()!=='',_0x5a0d97=_0x1c8a71?_0x8998ae(0x2c1):_0x8998ae(0x4a6),_0x2414d0=_0x1c8a71?'🔁':'🔗',_0x3fccad=!_0x41a484['isDefault']?_0x8998ae(0xb2e)+_0x41a484['id']+'\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x8998ae(0x408)+_0x41a484['id']+_0x8998ae(0x5ba)+_0x5a0d97+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x2414d0+'\x20'+_0x41a484[_0x8998ae(0x683)]+_0x8998ae(0xc2d)+_0x41a484['id']+_0x8998ae(0x463)+_0x3fccad+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1da532(0xd9)](''),_0x1302f9[_0x1da532(0x3ce)]>0x0&&(_0x2da288[_0x1da532(0x30c)]+=_0x1da532(0x602)),_0x1302f9[_0x1da532(0x3ce)]>0x0?_0x400839[_0x1da532(0x30c)]=_0x1302f9['map'](_0x225186=>_0x1da532(0x24c)+(_0x225186[_0x1da532(0x1dc)]?'🔁':'🔗')+'\x20'+_0x225186['name']+_0x1da532(0x374)+_0x225186['id']+_0x1da532(0xade)+_0x225186['id']+_0x1da532(0x621)+(!_0x225186[_0x1da532(0x68d)]?_0x1da532(0xb2e)+_0x225186['id']+_0x1da532(0x7b):'')+_0x1da532(0xaaf))['join'](''):_0x400839[_0x1da532(0x30c)]=_0x1da532(0x92b);}function openParallelTestShortcutEditor(_0x7737e7=null){const _0x21c9f0=_0x587d0b,_0x219460=document[_0x21c9f0(0x43c)](_0x21c9f0(0x8d4)),_0x189d9b=document[_0x21c9f0(0x43c)]('parallel-shortcut-modal-title'),_0x4aa158=document[_0x21c9f0(0x43c)]('parallel-shortcut-id-input'),_0x252b01=document[_0x21c9f0(0x43c)](_0x21c9f0(0xb22)),_0x1554fe=document[_0x21c9f0(0x43c)](_0x21c9f0(0x626));if(_0x7737e7){const _0x3f4037=parallelTestShortcuts[_0x21c9f0(0xa3a)](_0x43c46c=>_0x43c46c['id']===_0x7737e7);if(!_0x3f4037)return;_0x189d9b[_0x21c9f0(0xc0d)]=_0x21c9f0(0xc39),_0x4aa158[_0x21c9f0(0x5d0)]=_0x3f4037['id'],_0x252b01[_0x21c9f0(0x5d0)]=_0x3f4037['name'],_0x1554fe[_0x21c9f0(0x5d0)]=_0x3f4037[_0x21c9f0(0x1dc)]||'';}else _0x189d9b[_0x21c9f0(0xc0d)]=_0x21c9f0(0xa8a),_0x4aa158['value']='',_0x252b01[_0x21c9f0(0x5d0)]='',_0x1554fe[_0x21c9f0(0x5d0)]='';_0x219460['classList'][_0x21c9f0(0xbf3)](_0x21c9f0(0x6e9));}async function saveParallelTestShortcutChanges(){const _0x49a60c=_0x587d0b,_0x361885=document[_0x49a60c(0x43c)]('parallel-shortcut-id-input')[_0x49a60c(0x5d0)],_0x37ecf4=document[_0x49a60c(0x43c)](_0x49a60c(0xb22))['value'][_0x49a60c(0x8e7)](),_0x589057=document[_0x49a60c(0x43c)](_0x49a60c(0x626))[_0x49a60c(0x5d0)][_0x49a60c(0x8e7)]();if(!_0x37ecf4){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x8cb98e={'id':_0x361885||_0x49a60c(0x3a1)+Date[_0x49a60c(0x349)](),'name':_0x37ecf4,'url':_0x589057,'isDefault':_0x361885[_0x49a60c(0x718)](_0x49a60c(0x340))};let _0xde6cd6;_0x361885?_0xde6cd6=parallelTestShortcuts[_0x49a60c(0x9a0)](_0x4cb9ba=>_0x4cb9ba['id']===_0x361885?_0x8cb98e:_0x4cb9ba):_0xde6cd6=[...parallelTestShortcuts,_0x8cb98e];try{const _0x6e5267=doc(db,_0x49a60c(0x397),'parallelTestShortcutsConfig');await setDoc(_0x6e5267,{'shortcuts':_0xde6cd6},{'merge':!![]}),document['getElementById'](_0x49a60c(0x8d4))[_0x49a60c(0x860)][_0x49a60c(0x61e)](_0x49a60c(0x6e9));}catch(_0x32107d){console[_0x49a60c(0x48f)](_0x49a60c(0x2b5),_0x32107d),showMessage(_0x49a60c(0xc8a));}}async function handleParallelTestShortcutClick(_0x1aca75){const _0x243ff6=_0x587d0b,_0x43ff89=parallelTestShortcuts[_0x243ff6(0xa3a)](_0x208e77=>_0x208e77['id']===_0x1aca75);if(!_0x43ff89)return;if(!_0x43ff89['url']||_0x43ff89[_0x243ff6(0x1dc)][_0x243ff6(0x8e7)]()===''){openParallelTestShortcutEditor(_0x1aca75);return;}const _0x5994e5=document['getElementById'](_0x243ff6(0x2ca)),_0x689a6f=document[_0x243ff6(0x43c)](_0x243ff6(0xa11));document[_0x243ff6(0x43c)](_0x243ff6(0x4ff))['classList'][_0x243ff6(0xbf3)](_0x243ff6(0x6e9)),document[_0x243ff6(0x43c)](_0x243ff6(0xed))[_0x243ff6(0x30c)]='',_0x5994e5[_0x243ff6(0x860)][_0x243ff6(0xbf3)](_0x243ff6(0x6e9)),_0x689a6f['textContent']=_0x243ff6(0xb64);try{let _0x2e90b2;_0x43ff89[_0x243ff6(0x1dc)][_0x243ff6(0x35e)]()[_0x243ff6(0x69d)](_0x243ff6(0xb2c))?_0x2e90b2=_0x243ff6(0x1d8):_0x2e90b2='source_document.pdf';const _0x378b06=await fetchFileFromUrl(_0x43ff89[_0x243ff6(0x1dc)],_0x2e90b2);await handleGenerateParallelTest(_0x378b06);}catch(_0x549716){console[_0x243ff6(0x48f)]('Error\x20processing\x20parallel\x20shortcut\x20click:',_0x549716),showMessage(_0x243ff6(0xacb)+_0x549716[_0x243ff6(0x2f6)]),_0x5994e5['classList'][_0x243ff6(0x61e)](_0x243ff6(0x6e9));}}function initializeScratchpadCanvas(){const _0x22d0cf=_0x587d0b,_0x4a853d=document[_0x22d0cf(0x43c)]('scratchpad-canvas'),_0x4fa8a2=document[_0x22d0cf(0xb1b)](_0x22d0cf(0x992));if(!_0x4a853d||!_0x4fa8a2)return;scratchpadCtx=_0x4a853d[_0x22d0cf(0x610)]('2d',{'willReadFrequently':!![]});const _0x1e1d0f=window[_0x22d0cf(0x8ca)]||0x1,_0x1d1cb5=_0x4fa8a2[_0x22d0cf(0x6b4)]();_0x4a853d['width']=_0x1d1cb5['width']*_0x1e1d0f,_0x4a853d[_0x22d0cf(0x53f)]=_0x1d1cb5[_0x22d0cf(0x53f)]*_0x1e1d0f,_0x4a853d['style'][_0x22d0cf(0x7d3)]=_0x1d1cb5[_0x22d0cf(0x7d3)]+'px',_0x4a853d[_0x22d0cf(0x1fc)]['height']=_0x1d1cb5[_0x22d0cf(0x53f)]+'px',scratchpadCtx[_0x22d0cf(0xadc)](_0x1e1d0f,_0x1e1d0f),scratchpadCtx[_0x22d0cf(0x4b6)]=_0x22d0cf(0x962),scratchpadCtx[_0x22d0cf(0x9f2)]='round',_0x4a853d['removeEventListener'](_0x22d0cf(0xa28),handlePointerDown),_0x4a853d[_0x22d0cf(0x2b9)](_0x22d0cf(0x670),handlePointerMove),_0x4a853d['removeEventListener'](_0x22d0cf(0x46d),handlePointerUp),_0x4a853d[_0x22d0cf(0x2b9)](_0x22d0cf(0x191),handlePointerUp),_0x4a853d[_0x22d0cf(0x2b9)](_0x22d0cf(0x7e),handleWheel),_0x4a853d['removeEventListener'](_0x22d0cf(0x162),handlePointerDown),_0x4a853d['removeEventListener'](_0x22d0cf(0x2ea),handlePointerMove),_0x4a853d[_0x22d0cf(0x2b9)]('touchend',handlePointerUp),_0x4a853d['addEventListener'](_0x22d0cf(0xa28),handlePointerDown),_0x4a853d[_0x22d0cf(0x5e1)](_0x22d0cf(0x670),handlePointerMove),_0x4a853d[_0x22d0cf(0x5e1)]('pointerup',handlePointerUp),_0x4a853d['addEventListener'](_0x22d0cf(0x191),handlePointerUp),_0x4a853d['addEventListener']('wheel',handleWheel,{'passive':![]}),_0x4a853d[_0x22d0cf(0x5e1)](_0x22d0cf(0x162),handlePointerDown,{'passive':![]}),_0x4a853d[_0x22d0cf(0x5e1)](_0x22d0cf(0x2ea),handlePointerMove,{'passive':![]}),_0x4a853d[_0x22d0cf(0x5e1)]('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x5c8904=_0x587d0b,_0x24b7da=document[_0x5c8904(0x43c)](_0x5c8904(0x7d7)),_0x4f216c=document[_0x5c8904(0x43c)]('scratchpad-controls');_0x4f216c['innerHTML']=_0x5c8904(0x320)+scratchpadHighlighterSize+_0x5c8904(0x987);const _0x56cc12=document[_0x5c8904(0x43c)](_0x5c8904(0x88a)),_0x3e60e8=document[_0x5c8904(0x43c)](_0x5c8904(0x41c)),_0x1bbab0=document[_0x5c8904(0x43c)](_0x5c8904(0x378)),_0x44572e=document[_0x5c8904(0x43c)](_0x5c8904(0xc2a)),_0x46fb08=document[_0x5c8904(0x43c)](_0x5c8904(0x181)),_0x8fa218=document['getElementById'](_0x5c8904(0xac5)),_0x5cad73=document[_0x5c8904(0x43c)](_0x5c8904(0xbec)),_0x47d2f8=[_0x56cc12,_0x3e60e8,_0x1bbab0,_0x44572e];document['getElementById'](_0x5c8904(0x78d))[_0x5c8904(0x5e1)]('click',()=>_0x24b7da[_0x5c8904(0x860)][_0x5c8904(0x61e)](_0x5c8904(0x6e9))),document[_0x5c8904(0x43c)]('reset-view-btn')[_0x5c8904(0x5e1)](_0x5c8904(0xbf8),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x5c8904(0x43c)](_0x5c8904(0x59d))[_0x5c8904(0x5e1)](_0x5c8904(0xbf8),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x5c8904(0x734))[_0x5c8904(0x5e1)](_0x5c8904(0xbf8),undo),document[_0x5c8904(0x43c)](_0x5c8904(0x864))['addEventListener'](_0x5c8904(0xbf8),redo);const _0x25a83e=_0x1d0f1d=>{const _0x4ea7d1=_0x5c8904;_0x47d2f8['forEach'](_0x4264cc=>_0x4264cc[_0x4ea7d1(0x860)]['remove'](_0x4ea7d1(0x52b))),_0x1d0f1d[_0x4ea7d1(0x860)][_0x4ea7d1(0x61e)](_0x4ea7d1(0x52b)),_0x46fb08['classList'][_0x4ea7d1(0x61e)]('hidden'),_0x8fa218[_0x4ea7d1(0x860)][_0x4ea7d1(0x61e)](_0x4ea7d1(0x6e9)),_0x5cad73[_0x4ea7d1(0x860)][_0x4ea7d1(0x61e)]('hidden');if(activeTool===_0x4ea7d1(0xa20)||activeTool===_0x4ea7d1(0x368))_0x46fb08[_0x4ea7d1(0x860)][_0x4ea7d1(0xbf3)](_0x4ea7d1(0x6e9));else{if(activeTool==='highlighter')_0x8fa218[_0x4ea7d1(0x860)][_0x4ea7d1(0xbf3)](_0x4ea7d1(0x6e9));else activeTool===_0x4ea7d1(0x34e)&&_0x5cad73[_0x4ea7d1(0x860)][_0x4ea7d1(0xbf3)](_0x4ea7d1(0x6e9));}};_0x56cc12[_0x5c8904(0x5e1)]('click',()=>{const _0x53e476=_0x5c8904;activeTool=_0x53e476(0xa20),_0x25a83e(_0x56cc12);}),_0x3e60e8[_0x5c8904(0x5e1)](_0x5c8904(0xbf8),()=>{const _0x3657f7=_0x5c8904;activeTool=_0x3657f7(0x34e),_0x25a83e(_0x3e60e8);}),_0x1bbab0[_0x5c8904(0x5e1)]('click',()=>{const _0x25626a=_0x5c8904;activeTool=_0x25626a(0x368),_0x25a83e(_0x1bbab0);}),_0x44572e[_0x5c8904(0x5e1)](_0x5c8904(0xbf8),()=>{const _0x15d6cb=_0x5c8904;activeTool=_0x15d6cb(0x890),_0x25a83e(_0x44572e);}),_0x46fb08['querySelectorAll'](_0x5c8904(0x76))[_0x5c8904(0x27f)](_0x496e80=>{const _0x1532cd=_0x5c8904;_0x496e80['addEventListener'](_0x1532cd(0xbf8),_0x3a93a8=>{const _0x1efe33=_0x1532cd;scratchpadPenSize=parseInt(_0x3a93a8[_0x1efe33(0x3b5)][_0x1efe33(0x82f)][_0x1efe33(0xc1a)],0xa),_0x46fb08[_0x1efe33(0xa6e)](_0x1efe33(0x76))[_0x1efe33(0x27f)](_0x2c812e=>_0x2c812e[_0x1efe33(0x860)][_0x1efe33(0xbf3)](_0x1efe33(0x52b))),_0x3a93a8['target'][_0x1efe33(0x860)][_0x1efe33(0x61e)]('active');});}),_0x5cad73[_0x5c8904(0xa6e)](_0x5c8904(0x309))['forEach'](_0x4c11c2=>{const _0x51856f=_0x5c8904;_0x4c11c2['addEventListener'](_0x51856f(0xbf8),_0x348c33=>{const _0xab1146=_0x51856f,_0x42f8f7=_0x348c33[_0xab1146(0x526)];scratchpadEraserSize=parseInt(_0x42f8f7[_0xab1146(0x82f)][_0xab1146(0xc1a)],0xa),_0x5cad73[_0xab1146(0xa6e)](_0xab1146(0x309))[_0xab1146(0x27f)](_0x33c73e=>_0x33c73e[_0xab1146(0x860)][_0xab1146(0xbf3)](_0xab1146(0x52b))),_0x42f8f7[_0xab1146(0x860)]['add'](_0xab1146(0x52b));});}),_0x46fb08[_0x5c8904(0xa6e)](_0x5c8904(0xc00))[_0x5c8904(0x27f)](_0x1bdedb=>{const _0x2cfdf8=_0x5c8904;_0x1bdedb[_0x2cfdf8(0x5e1)]('click',_0x42414e=>{const _0x796119=_0x2cfdf8;scratchpadPenColor=_0x42414e[_0x796119(0x3b5)][_0x796119(0x82f)][_0x796119(0x9f1)],_0x46fb08[_0x796119(0xa6e)](_0x796119(0xc00))['forEach'](_0x2a6acf=>_0x2a6acf[_0x796119(0x860)][_0x796119(0xbf3)](_0x796119(0x52b))),_0x42414e[_0x796119(0x3b5)][_0x796119(0x860)]['add'](_0x796119(0x52b));});}),_0x8fa218[_0x5c8904(0xa6e)]('.highlighter-color-btn')[_0x5c8904(0x27f)](_0x381b64=>{const _0x558dff=_0x5c8904;_0x381b64[_0x558dff(0x5e1)](_0x558dff(0xbf8),_0x2a3b44=>{const _0x50f8f9=_0x558dff;scratchpadHighlighterColor=_0x2a3b44[_0x50f8f9(0x3b5)][_0x50f8f9(0x82f)][_0x50f8f9(0x9f1)],_0x8fa218[_0x50f8f9(0xa6e)](_0x50f8f9(0x3ee))[_0x50f8f9(0x27f)](_0x1b0669=>_0x1b0669[_0x50f8f9(0x860)]['remove'](_0x50f8f9(0x52b))),_0x2a3b44[_0x50f8f9(0x3b5)]['classList'][_0x50f8f9(0x61e)](_0x50f8f9(0x52b));});});const _0x537c10=document['getElementById'](_0x5c8904(0x2d9)),_0x22dc31=document['getElementById'](_0x5c8904(0xc2e));_0x537c10[_0x5c8904(0x5e1)](_0x5c8904(0x45f),_0x1f751e=>{const _0x32ffa3=_0x5c8904,_0x4a79d4=parseInt(_0x1f751e[_0x32ffa3(0x3b5)][_0x32ffa3(0x5d0)],0xa);scratchpadHighlighterSize=_0x4a79d4,_0x22dc31[_0x32ffa3(0xc0d)]=_0x4a79d4;}),window[_0x5c8904(0x5e1)]('resize',()=>{const _0x281e3c=_0x5c8904;!_0x24b7da[_0x281e3c(0x860)][_0x281e3c(0xb57)]('hidden')&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x587d0b(0x8e3),'name':_0x587d0b(0x3d9),'description':_0x587d0b(0x293),'icon':_0x587d0b(0xb14)},'QUICK_THINKER':{'id':_0x587d0b(0x288),'name':_0x587d0b(0x94e),'description':_0x587d0b(0x2fc),'icon':_0x587d0b(0x861)},'ON_FIRE':{'id':'on_fire','name':_0x587d0b(0x210),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x587d0b(0x1d0)},'FIRST_TRY_ACE':{'id':_0x587d0b(0x8a5),'name':_0x587d0b(0xb33),'description':_0x587d0b(0x64a),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x587d0b(0x41e),'name':_0x587d0b(0x2c3),'description':_0x587d0b(0x2f9),'icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x587d0b(0xb86),'name':_0x587d0b(0xb0c),'description':_0x587d0b(0x72d),'icon':_0x587d0b(0x5bd)},'PERSEVERANCE':{'id':_0x587d0b(0x104),'name':_0x587d0b(0x443),'description':_0x587d0b(0x1eb),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x587d0b(0x862),'authDomain':_0x587d0b(0x304),'projectId':_0x587d0b(0xc83),'storageBucket':_0x587d0b(0x7d),'messagingSenderId':_0x587d0b(0xb4b),'appId':_0x587d0b(0x89e),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x587d0b(0x6a7)?__app_id:'ai-quiz-generator-v3',adminView=document[_0x587d0b(0x43c)](_0x587d0b(0x3f0)),studentView=document[_0x587d0b(0x43c)](_0x587d0b(0xc2)),projectDashboardView=document[_0x587d0b(0x43c)](_0x587d0b(0x407)),projectDetailView=document[_0x587d0b(0x43c)](_0x587d0b(0x51b)),quizResultsView=document[_0x587d0b(0x43c)]('quiz-results-view'),projectList=document[_0x587d0b(0x43c)](_0x587d0b(0x896)),noProjectsMsg=document[_0x587d0b(0x43c)]('no-projects-msg'),projectTitle=document[_0x587d0b(0x43c)]('project-title'),projectIdDisplay=document['getElementById'](_0x587d0b(0x37e)),studentList=document[_0x587d0b(0x43c)](_0x587d0b(0x19a)),messageModal=document[_0x587d0b(0x43c)](_0x587d0b(0x7a8)),modalMessage=document[_0x587d0b(0x43c)](_0x587d0b(0x5ac)),createProjectModal=document[_0x587d0b(0x43c)]('create-project-modal'),adminPasswordModal=document[_0x587d0b(0x43c)]('admin-password-modal'),confirmationModal=document[_0x587d0b(0x43c)](_0x587d0b(0x6be)),userIdDisplay=document[_0x587d0b(0x43c)](_0x587d0b(0x253)),topicTab=document[_0x587d0b(0x43c)](_0x587d0b(0x450)),textTab=document[_0x587d0b(0x43c)]('text-tab'),topicInputArea=document[_0x587d0b(0x43c)](_0x587d0b(0x983)),textInputArea=document[_0x587d0b(0x43c)](_0x587d0b(0xc97)),manageTab=document['getElementById'](_0x587d0b(0x883)),resultsTab=document['getElementById']('results-tab'),leaderboardTab=document[_0x587d0b(0x43c)](_0x587d0b(0xbb5)),manageTabContent=document[_0x587d0b(0x43c)](_0x587d0b(0xec)),resultsTabContent=document[_0x587d0b(0x43c)](_0x587d0b(0x286)),leaderboardTabContent=document[_0x587d0b(0x43c)](_0x587d0b(0xac9)),projectQuizzesList=document[_0x587d0b(0x43c)](_0x587d0b(0x56e)),fileTab=document[_0x587d0b(0x43c)](_0x587d0b(0x3c3)),fileInputArea=document[_0x587d0b(0x43c)]('file-input-area'),fileUploadInput=document['getElementById'](_0x587d0b(0x51a)),worksheetTab=document[_0x587d0b(0x43c)](_0x587d0b(0x754)),worksheetInputArea=document[_0x587d0b(0x43c)]('worksheet-input-area'),generateWorksheetBtn=document[_0x587d0b(0x43c)]('generate-worksheet-btn'),studentInitialView=document[_0x587d0b(0x43c)]('student-initial-view'),studentNameSelectionView=document[_0x587d0b(0x43c)](_0x587d0b(0x4a5)),studentQuizArea=document[_0x587d0b(0x43c)](_0x587d0b(0x4a0)),studentResultArea=document['getElementById'](_0x587d0b(0x8a1)),studentReadingArea=document[_0x587d0b(0x43c)](_0x587d0b(0xe5)),loadQuizBtn=document[_0x587d0b(0x43c)](_0x587d0b(0xc59)),startQuizBtn=document['getElementById'](_0x587d0b(0x15a)),studentJoinGameView=document['getElementById'](_0x587d0b(0x4a9)),presentationModal=document[_0x587d0b(0x43c)](_0x587d0b(0x847)),renameQuizModal=document[_0x587d0b(0x43c)]('rename-quiz-modal'),moveQuizModal=document[_0x587d0b(0x43c)](_0x587d0b(0x409)),quizSettingsModal=document[_0x587d0b(0x43c)]('quiz-settings-modal'),quizStatusModal=document[_0x587d0b(0x43c)](_0x587d0b(0x8f3)),liveGameView=document[_0x587d0b(0x43c)](_0x587d0b(0x383));function handleFixLessonLatex(){const _0x5d0a27=_0x587d0b,_0x8a10b5=document[_0x5d0a27(0x43c)]('lesson-view-content');if(!_0x8a10b5){showMessage(_0x5d0a27(0x4ac));return;}const _0x2776bf=_0x8a10b5[_0x5d0a27(0xa6e)]([_0x5d0a27(0x238),_0x5d0a27(0x428),_0x5d0a27(0x81e),_0x5d0a27(0xd7),_0x5d0a27(0x32b)][_0x5d0a27(0xd9)](','));let _0x20785d=0x0;const _0x2b746d=_0x407bb6=>_0x407bb6[_0x5d0a27(0xc0d)]||'',_0x4eab10=(_0x4e98d0,_0x20285e)=>{const _0x222661=_0x5d0a27;if(_0x4e98d0[_0x222661(0xb1b)]&&_0x4e98d0[_0x222661(0xb1b)](_0x222661(0xa4b)))return;_0x4e98d0[_0x222661(0xc0d)]=_0x20285e;},_0x63ff73=_0x3f9ce1=>_0x3f9ce1[_0x5d0a27(0x1bf)](/\u00A0/g,'\x20')[_0x5d0a27(0x1bf)](/\u200B/g,'')[_0x5d0a27(0x1bf)](/\r\n?/g,'\x0a'),_0x23aeca=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x4ba0eb=_0x5bb2d7=>{const _0x19d989=_0x5d0a27;let _0x3de6ed=_0x5bb2d7['trim']();const _0x23b332=[_0x19d989(0x42f),_0x19d989(0x2c7),_0x19d989(0x336),_0x19d989(0x77a),_0x19d989(0xa1b),_0x19d989(0xb8d),_0x19d989(0x540),_0x19d989(0xbc),_0x19d989(0x257),'geq','le','ge','neq','pm','approx','sin',_0x19d989(0xc08),_0x19d989(0x9d9),_0x19d989(0x564),'ln',_0x19d989(0x385),'prod','binom',_0x19d989(0x758),_0x19d989(0x835),_0x19d989(0x389),_0x19d989(0x3f1),'circ','deg'];_0x23b332[_0x19d989(0x27f)](_0x5f2eb3=>{const _0x271878=_0x19d989;_0x3de6ed=_0x3de6ed['replace'](new RegExp(_0x271878(0x6e5)+_0x5f2eb3+'\x5cb','g'),(_0x1c56dd,_0x15af3c)=>_0x15af3c+'\x5c'+_0x5f2eb3);});const _0x11af8d=[[/×/g,'\x5ctimes'],[/·/g,_0x19d989(0x82c)],[/÷/g,_0x19d989(0x6a4)],[/≤/g,_0x19d989(0x8d1)],[/≥/g,_0x19d989(0x7dc)],[/≠/g,_0x19d989(0x50c)],[/±/g,_0x19d989(0xb6a)],[/∑/g,_0x19d989(0xa59)],[/−/g,'-']];return _0x11af8d[_0x19d989(0x27f)](([_0x51d750,_0x153aa1])=>{_0x3de6ed=_0x3de6ed['replace'](_0x51d750,_0x153aa1);}),_0x3de6ed=_0x3de6ed['replace'](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x3de6ed=_0x3de6ed['replace'](/(\d+)\s*%/g,_0x19d989(0x302)),_0x3de6ed;},_0x56a63c=_0x1a407e=>{const _0x329c10=_0x5d0a27;if(/\$|\\\(|\\\[/[_0x329c10(0x773)](_0x1a407e))return _0x1a407e;if(!_0x23aeca[_0x329c10(0x773)](_0x1a407e))return _0x1a407e;const _0x192fb4=_0x1a407e[_0x329c10(0xc93)](/^\s*/)[0x0],_0xd0b17e=_0x1a407e[_0x329c10(0xc93)](/\s*$/)[0x0],_0x45fcdb=_0x1a407e['trim']();return _0x192fb4+'$'+_0x4ba0eb(_0x45fcdb)+'$'+_0xd0b17e;};_0x2776bf['forEach'](_0xad9888=>{const _0x486fff=_0x5d0a27,_0x462751=_0x2b746d(_0xad9888);let _0x3686d6=_0x63ff73(_0x462751);_0x3686d6=_0x3686d6[_0x486fff(0x1bf)](/\$([^$]*?)\$/g,(_0x342dda,_0x7b8c32)=>'$'+_0x4ba0eb(_0x7b8c32)+'$');const _0x19d630=_0x3686d6[_0x486fff(0x9f8)](/(\s+)/),_0x52012a=_0x19d630[_0x486fff(0x9a0)](_0x53b66a=>{if(/\s+/['test'](_0x53b66a))return _0x53b66a;return _0x56a63c(_0x53b66a);});_0x3686d6=_0x52012a[_0x486fff(0xd9)](''),_0x3686d6!==_0x462751&&(_0x4eab10(_0xad9888,_0x3686d6),_0x20785d++);});if(_0x20785d>0x0){showMessage(_0x5d0a27(0x4a1)+_0x20785d+'\x20จุดเรียบร้อยแล้ว');try{window[_0x5d0a27(0xaf8)]&&MathJax[_0x5d0a27(0x5ad)]&&MathJax[_0x5d0a27(0x5ad)]([_0x8a10b5]);}catch(_0x50f64f){console['error'](_0x5d0a27(0x4d0),_0x50f64f);}}else showMessage(_0x5d0a27(0x19c));}function handleAutoFixLatex(){const _0x24595c=_0x587d0b,_0x2bc9a2=document[_0x24595c(0x43c)]('quiz-editor-questions-container')||document,_0xa74dc8=_0x2bc9a2['querySelectorAll'](_0x24595c(0xa18));let _0x5552c0=0x0;const _0x24f707=_0x9d9feb=>'value'in _0x9d9feb?String(_0x9d9feb[_0x24595c(0x5d0)]):_0x9d9feb['innerText']!==undefined?_0x9d9feb[_0x24595c(0x5b6)]:_0x9d9feb[_0x24595c(0xc0d)]||'',_0x1ff4c3=(_0x5bc34d,_0x357421)=>{const _0x564b74=_0x24595c;if(_0x564b74(0x5d0)in _0x5bc34d){_0x5bc34d[_0x564b74(0x5d0)]=_0x357421;return;}if(_0x5bc34d['querySelector']&&_0x5bc34d['querySelector'](_0x564b74(0xa4b)))return;if(_0x5bc34d[_0x564b74(0x5b6)]!==undefined)_0x5bc34d[_0x564b74(0x5b6)]=_0x357421;else _0x5bc34d[_0x564b74(0xc0d)]=_0x357421;},_0xd64539=_0x4c4156=>_0x4c4156['replace'](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x24595c(0x1bf)](/\r\n?/g,'\x0a'),_0x1cdf8=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x33d4ae=_0x50fb71=>{const _0x700ac7=_0x24595c;let _0x207d8c=_0x50fb71[_0x700ac7(0x8e7)]();_0x207d8c=_0x207d8c[_0x700ac7(0x1bf)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x700ac7(0x666)),_0x207d8c=_0x207d8c[_0x700ac7(0x1bf)](/\bfrac(\d)(\d)/g,'\x5cfrac{$1}{$2}');const _0x4cbf0c=[_0x700ac7(0x42f),_0x700ac7(0x77a),'times',_0x700ac7(0x540),_0x700ac7(0xbc),'leq','geq',_0x700ac7(0x297),'pm',_0x700ac7(0xc51),_0x700ac7(0xc08),_0x700ac7(0x9d9),_0x700ac7(0x564),'ln'];_0x4cbf0c[_0x700ac7(0x27f)](_0x20347a=>{const _0x1f99c7=_0x700ac7;_0x207d8c=_0x207d8c[_0x1f99c7(0x1bf)](new RegExp(_0x1f99c7(0x6e5)+_0x20347a+'\x5cb','g'),(_0x130fd5,_0x47b29f)=>_0x47b29f+'\x5c'+_0x20347a);});const _0x2ce171=[[/×/g,_0x700ac7(0x78f)],[/·/g,'\x5ccdot'],[/÷/g,_0x700ac7(0x6a4)],[/≤/g,'\x5cle'],[/≥/g,_0x700ac7(0x7dc)],[/≠/g,_0x700ac7(0x50c)],[/±/g,_0x700ac7(0xb6a)]];return _0x2ce171[_0x700ac7(0x27f)](([_0x1ca598,_0x2a4187])=>{const _0x25f58a=_0x700ac7;_0x207d8c=_0x207d8c[_0x25f58a(0x1bf)](_0x1ca598,_0x2a4187);}),_0x207d8c;},_0x34bf93=_0x452ebe=>{const _0x1c20b6=_0x24595c;if(/\$|\\\(|\\\[/[_0x1c20b6(0x773)](_0x452ebe))return _0x452ebe;if(!_0x1cdf8['test'](_0x452ebe))return _0x452ebe;const _0x6a525e=_0x452ebe[_0x1c20b6(0xc93)](/^\s*/)[0x0],_0x1cb9de=_0x452ebe['match'](/\s*$/)[0x0],_0x1be5d9=_0x452ebe[_0x1c20b6(0x8e7)]();return _0x6a525e+'$'+_0x33d4ae(_0x1be5d9)+'$'+_0x1cb9de;};_0xa74dc8[_0x24595c(0x27f)](_0x7e42da=>{const _0x4972e0=_0x24595c,_0x3dd0af=_0x24f707(_0x7e42da);let _0x3b0673=_0xd64539(_0x3dd0af);_0x3b0673=_0x3b0673['replace'](/\$([^$]*?)\$/g,(_0x1da4a7,_0x3ae6f8)=>'$'+_0x33d4ae(_0x3ae6f8)+'$');const _0x44a5c3=_0x3b0673[_0x4972e0(0x9f8)](/(\s+)/),_0x5c5c48=_0x44a5c3['map'](_0x54b5f0=>/\s+/['test'](_0x54b5f0)?_0x54b5f0:_0x34bf93(_0x54b5f0));_0x3b0673=_0x5c5c48[_0x4972e0(0xd9)](''),_0x3b0673!==_0x3dd0af&&(_0x1ff4c3(_0x7e42da,_0x3b0673),_0x5552c0++);});if(_0x5552c0>0x0){showMessage(_0x24595c(0x978)+_0x5552c0+_0x24595c(0xa48));try{if(window[_0x24595c(0xaf8)]&&MathJax[_0x24595c(0x5ad)])MathJax[_0x24595c(0x5ad)]();}catch(_0x5e404b){}}else showMessage(_0x24595c(0x844));}function _0x341e(_0x35430c,_0xc1b933){const _0x368ded=_0x368d();return _0x341e=function(_0x341ef1,_0x8a9657){_0x341ef1=_0x341ef1-0x76;let _0x3ebb7d=_0x368ded[_0x341ef1];return _0x3ebb7d;},_0x341e(_0x35430c,_0xc1b933);}async function listenForCustomMathTopics(){const _0x343263=collection(db,'artifacts/'+appId+'/public/data/customMathTopics');onSnapshot(_0x343263,_0x416233=>{const _0x45296b=_0x341e;customMathTopics=_0x416233[_0x45296b(0xbb3)][_0x45296b(0x9a0)](_0x2e82fe=>({'id':_0x2e82fe['id'],..._0x2e82fe[_0x45296b(0xc12)]()})),renderTopicCheckboxes();},_0x40adbc=>{const _0x49bf18=_0x341e;console[_0x49bf18(0x48f)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x40adbc);});}function handleSelectAllTopics(){const _0x13805b=_0x587d0b,_0xb7896b=document[_0x13805b(0x43c)](_0x13805b(0x83f)),_0x2d44c2=_0xb7896b[_0x13805b(0xa6e)](_0x13805b(0x67a));_0x2d44c2['forEach'](_0xc22574=>{const _0x1b09eb=_0x13805b;_0xc22574[_0x1b09eb(0x1a3)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x5dcee3=_0x587d0b,_0x5d541a=document['getElementById']('math-topics-checkbox-container'),_0x3ad93d=_0x5d541a[_0x5dcee3(0xa6e)]('input[type=\x22checkbox\x22]');_0x3ad93d[_0x5dcee3(0x27f)](_0x41a2ba=>{const _0x4e2ca1=_0x5dcee3;_0x41a2ba[_0x4e2ca1(0x1a3)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x32f7f4){const _0x24f615=_0x587d0b;if(!_0x32f7f4)return;try{const _0x19787b=doc(db,_0x24f615(0x1f0)+appId+_0x24f615(0x65d),_0x32f7f4);await deleteDoc(_0x19787b),showMessage(_0x24f615(0x2ba));}catch(_0x3e6ddd){console[_0x24f615(0x48f)](_0x24f615(0x2a2),_0x3e6ddd),showMessage(_0x24f615(0xbb1));}}async function handleAddCustomMathTopic(){const _0x39b01d=_0x587d0b,_0x3138b7=document[_0x39b01d(0x43c)](_0x39b01d(0xbbe)),_0x55b4af=_0x3138b7[_0x39b01d(0x5d0)][_0x39b01d(0x8e7)]();if(!_0x55b4af){showMessage(_0x39b01d(0x9df));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x11dfb3=collection(db,'artifacts/'+appId+'/public/data/customMathTopics');await addDoc(_0x11dfb3,{'name':_0x55b4af,'createdAt':serverTimestamp()}),_0x3138b7['value']='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x55b4af+'\x22\x20สำเร็จ');}catch(_0x3b7f63){console[_0x39b01d(0x48f)]('Error\x20adding\x20custom\x20topic:',_0x3b7f63),showMessage(_0x39b01d(0x958));}}async function handleUpdateOldQuizzes(){const _0x1b6954=_0x587d0b;showConfirmation(_0x1b6954(0x747),async()=>{const _0x4ff793=_0x1b6954,_0x11f11a=document['getElementById']('loader'),_0x2b8d16=document['getElementById'](_0x4ff793(0xa11)),_0x5f1e10=_0x2b8d16[_0x4ff793(0xc0d)];_0x11f11a['classList'][_0x4ff793(0xbf3)](_0x4ff793(0x6e9)),_0x2b8d16[_0x4ff793(0xc0d)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x263192=collection(db,_0x4ff793(0x1f0)+appId+_0x4ff793(0x92d)),_0x245207=await getDocs(_0x263192);if(_0x245207[_0x4ff793(0x9d)]){showMessage(_0x4ff793(0xb3));return;}const _0x26d863=writeBatch(db);let _0x39f9ce=0x0;_0x245207[_0x4ff793(0x27f)](_0x103a5b=>{const _0x300bff=_0x4ff793,_0x107251=_0x103a5b[_0x300bff(0xc12)](),_0x2655f9=_0x103a5b['id'];if(_0x107251['questions']&&_0x107251[_0x300bff(0x66b)][_0x300bff(0x3ce)]>0x0&&!_0x107251[_0x300bff(0x66b)][0x0]['hasOwnProperty']('id')){console[_0x300bff(0x564)](_0x300bff(0xb97)+_0x2655f9+'\x20('+_0x107251[_0x300bff(0x53e)]+')'),_0x39f9ce++;const _0x29d456=_0x107251[_0x300bff(0x66b)]['map']((_0x25351b,_0x385296)=>{const _0x5a7b9a=_0x300bff;return{..._0x25351b,'id':_0x25351b['id']||'q_'+Date[_0x5a7b9a(0x349)]()+'_'+_0x2655f9+'_'+_0x385296};}),_0x1e2c5d=doc(db,'artifacts/'+appId+_0x300bff(0x92d),_0x2655f9);_0x26d863['update'](_0x1e2c5d,{'questions':_0x29d456});}}),_0x39f9ce>0x0?(_0x2b8d16[_0x4ff793(0xc0d)]='กำลังอัปเดตแบบทดสอบ\x20'+_0x39f9ce+_0x4ff793(0x4e6),await _0x26d863[_0x4ff793(0x46e)](),showMessage(_0x4ff793(0xa61)+_0x39f9ce+'\x20รายการสำเร็จ!')):showMessage(_0x4ff793(0xa2c));}catch(_0x2c082f){console[_0x4ff793(0x48f)](_0x4ff793(0x5cb),_0x2c082f),showMessage(_0x4ff793(0xb11)+_0x2c082f['message']);}finally{_0x11f11a[_0x4ff793(0x860)][_0x4ff793(0x61e)](_0x4ff793(0x6e9)),_0x2b8d16[_0x4ff793(0xc0d)]=_0x5f1e10;}});}async function handleBulkUpdateQuizSettings(){const _0x17cbb8=_0x587d0b,_0x1812fe={'shuffle':document[_0x17cbb8(0x43c)](_0x17cbb8(0xa8c))[_0x17cbb8(0x5d0)],'resultsDisplay':document[_0x17cbb8(0x43c)]('bulk-results-display-select')[_0x17cbb8(0x5d0)],'loopUntilPass':document[_0x17cbb8(0x43c)]('bulk-loop-until-pass-checkbox')['checked'],'isConfidenceScoringEnabled':document['getElementById'](_0x17cbb8(0x7f2))[_0x17cbb8(0x1a3)],'confidenceMode':document[_0x17cbb8(0x43c)]('bulk-confidence-mode-select')[_0x17cbb8(0x5d0)]};try{showMessage(_0x17cbb8(0x37b));const _0xaec950=await getDocs(collection(db,_0x17cbb8(0x1f0)+appId+_0x17cbb8(0x92d))),_0x409198=_0xaec950[_0x17cbb8(0xbb3)]['map'](_0x53e83d=>({'id':_0x53e83d['id'],'data':_0x53e83d[_0x17cbb8(0xc12)]()})),_0x34b228=_0x409198[_0x17cbb8(0x3ce)];showConfirmation(_0x17cbb8(0x850)+_0x34b228+_0x17cbb8(0x4f1),async()=>{const _0x7c6f04=_0x17cbb8,_0x4d754a=document[_0x7c6f04(0x43c)](_0x7c6f04(0x154));_0x4d754a['disabled']=!![],_0x4d754a[_0x7c6f04(0x30c)]=_0x7c6f04(0x25a);try{const _0x31f729=writeBatch(db);_0x409198[_0x7c6f04(0x27f)](_0x46a4ba=>{const _0xbddcb7=_0x7c6f04,_0x25ee3f=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x46a4ba['id']),_0x39200b={..._0x46a4ba[_0xbddcb7(0xc12)][_0xbddcb7(0x731)]||{},..._0x1812fe};_0x31f729[_0xbddcb7(0x2ff)](_0x25ee3f,{'settings':_0x39200b});}),await _0x31f729['commit'](),document['getElementById'](_0x7c6f04(0x8f4))[_0x7c6f04(0x860)][_0x7c6f04(0x61e)](_0x7c6f04(0x6e9)),showMessage(_0x7c6f04(0xc88)+_0x34b228+_0x7c6f04(0x8bd));}catch(_0x395369){console['error']('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x395369),showMessage(_0x7c6f04(0x7ab));}finally{_0x4d754a[_0x7c6f04(0x35d)]=![],_0x4d754a[_0x7c6f04(0x30c)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x487448){console[_0x17cbb8(0x48f)](_0x17cbb8(0x53d),_0x487448),showMessage(_0x17cbb8(0x43b));}}async function handleSaveProjectName(){const _0x17a4b4=_0x587d0b,_0xaa25d4=document[_0x17a4b4(0x43c)](_0x17a4b4(0x4c4)),_0x67f54d=document[_0x17a4b4(0x43c)]('save-project-name-btn'),_0x27f4c8=_0xaa25d4[_0x17a4b4(0xc0d)]['trim']();if(!_0x27f4c8||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0xaa25d4[_0x17a4b4(0xc0d)]=currentProjectData[_0x17a4b4(0xfd)];return;}_0x67f54d[_0x17a4b4(0x35d)]=!![],_0x67f54d['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x5d9d40=doc(db,'artifacts/'+appId+_0x17a4b4(0x684),currentProjectId);await updateDoc(_0x5d9d40,{'projectName':_0x27f4c8}),currentProjectData&&(currentProjectData[_0x17a4b4(0xfd)]=_0x27f4c8),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x579c8a){console[_0x17a4b4(0x48f)](_0x17a4b4(0x6de),_0x579c8a),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0xaa25d4[_0x17a4b4(0xc0d)]=currentProjectData[_0x17a4b4(0xfd)];}finally{_0x67f54d[_0x17a4b4(0x860)][_0x17a4b4(0x61e)](_0x17a4b4(0x6e9)),_0x67f54d[_0x17a4b4(0x35d)]=![],_0x67f54d[_0x17a4b4(0x30c)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x1bfd8c,_0x2c4901){const _0x3dfa28=_0x587d0b,_0x584e4e=document['getElementById'](_0x3dfa28(0xbfd)),_0x414465=document[_0x3dfa28(0x43c)](_0x3dfa28(0xa7f)),_0x3b3dbd=document[_0x3dfa28(0x43c)](_0x3dfa28(0x229)),_0x7b0c4d=document[_0x3dfa28(0x43c)](_0x3dfa28(0x440));_0x414465[_0x3dfa28(0xc0d)]=_0x3dfa28(0x3a8)+_0x1bfd8c,_0x7b0c4d[_0x3dfa28(0x860)][_0x3dfa28(0x61e)](_0x3dfa28(0x6e9)),_0x3b3dbd[_0x3dfa28(0x860)]['remove']('hidden'),_0x584e4e['classList']['remove']('hidden'),generatePracticeTest(_0x1bfd8c,_0x2c4901)[_0x3dfa28(0xc35)](_0x99d801=>{const _0x453d56=_0x3dfa28;console['error'](_0x453d56(0xc52),_0x99d801),showMessage(_0x453d56(0x603)),_0x584e4e['classList'][_0x453d56(0x61e)]('hidden');});}async function generatePracticeTest(_0x5af352,_0x113cbb){const _0x1bbd80=_0x587d0b;[_0x1bbd80(0x142),_0x1bbd80(0x841),_0x1bbd80(0x893),_0x1bbd80(0x40c)][_0x1bbd80(0x27f)](_0x34a2ea=>{const _0x4b0f32=_0x1bbd80,_0x1c5eb8=document[_0x4b0f32(0x43c)](_0x34a2ea)[_0x4b0f32(0xa87)];_0x1c5eb8&&(_0x1c5eb8['style'][_0x4b0f32(0x9b0)]='none');});try{const _0x165f04='โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด',_0x38088f=_0x1bbd80(0xc36)+_0x113cbb+_0x1bbd80(0x830)+_0x5af352+_0x1bbd80(0xa8f),_0x23ceb0=await callGemini(_0x38088f,!![]),_0xc43c57=document[_0x1bbd80(0x43c)](_0x1bbd80(0xa7f)),_0x1e1c05=document[_0x1bbd80(0x43c)](_0x1bbd80(0x229)),_0x97670d=document['getElementById'](_0x1bbd80(0x440)),_0xc26691=document[_0x1bbd80(0x43c)](_0x1bbd80(0x893))['parentElement'];_0xc43c57['innerText']=_0x1bbd80(0x64c)+_0x5af352[_0x1bbd80(0x1bf)](/•\s/g,'')+_0x1bbd80(0xa1e)+_0x113cbb+')',currentApplicationData=JSON[_0x1bbd80(0xae3)](_0x23ceb0);const _0x4fb273=document[_0x1bbd80(0x43c)](_0x1bbd80(0x893));_0x4fb273[_0x1bbd80(0x30c)]=currentApplicationData[_0x1bbd80(0x9a0)]((_0x566004,_0x16a8a0)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x16a8a0+0x1)+'.\x20'+marked['parseInline'](_0x566004['question'])+_0x1bbd80(0x6f2)+_0x16a8a0+_0x1bbd80(0x787)+_0x566004[_0x1bbd80(0x4b2)][_0x1bbd80(0x9a0)]((_0x40b524,_0x467966)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x16a8a0+',\x20'+_0x467966+_0x1bbd80(0x2be)+String[_0x1bbd80(0x1c8)](0x61+_0x467966)+'.\x20'+marked[_0x1bbd80(0x580)](_0x40b524)+_0x1bbd80(0x54b))[_0x1bbd80(0xd9)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),window[_0x1bbd80(0xaf8)]&&MathJax[_0x1bbd80(0x5ad)]([_0x4fb273]),_0xc26691&&(_0xc26691['style']['display']=_0x1bbd80(0x1e6)),_0x1e1c05[_0x1bbd80(0x860)]['add']('hidden'),_0x97670d[_0x1bbd80(0x860)][_0x1bbd80(0xbf3)](_0x1bbd80(0x6e9));}catch(_0x5b136c){console[_0x1bbd80(0x48f)](_0x5b136c);throw _0x5b136c;}}async function callGemini(_0x12d602,_0x2d16dd=![]){const _0x334c90=_0x587d0b,_0x3b0390='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x3d02de=_0x334c90(0x1ae)+_0x3b0390,_0xa8a94d={'contents':[{'parts':[{'text':_0x12d602}]}]};_0x2d16dd&&(_0xa8a94d[_0x334c90(0xaa)]={'responseMimeType':'application/json'},_0x12d602['includes'](_0x334c90(0x67c))?_0xa8a94d[_0x334c90(0xaa)][_0x334c90(0x96d)]={'type':_0x334c90(0x371),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x334c90(0x3ec),'items':{'type':_0x334c90(0x371),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':'ARRAY','items':{'type':_0x334c90(0x371),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x334c90(0x3ec),'items':{'type':'STRING'}}},'required':[_0x334c90(0xb26),'subTopics']}}},'required':[_0x334c90(0x4b1),'mainTopics']}}},'required':[_0x334c90(0x679),_0x334c90(0x299)]}:_0xa8a94d[_0x334c90(0xaa)][_0x334c90(0x96d)]={'type':'ARRAY','items':{'type':_0x334c90(0x371),'properties':{'question':{'type':_0x334c90(0xbff)},'options':{'type':_0x334c90(0x3ec),'items':{'type':_0x334c90(0xbff)}},'answer':{'type':_0x334c90(0x52c)}},'required':['question','options',_0x334c90(0x831)]}});try{const _0x553430=await fetch(_0x3d02de,{'method':_0x334c90(0x7b8),'headers':{'Content-Type':'application/json'},'body':JSON[_0x334c90(0x616)](_0xa8a94d)});if(!_0x553430['ok']){const _0x22becc=await _0x553430[_0x334c90(0xa1b)]();console[_0x334c90(0x48f)](_0x334c90(0xa08),_0x22becc);throw new Error(_0x334c90(0x8d3)+_0x553430[_0x334c90(0x658)]);}const _0xf723b=await _0x553430[_0x334c90(0xb6)]();if(_0xf723b[_0x334c90(0x4ed)]&&_0xf723b['candidates'][0x0][_0x334c90(0xac7)]&&_0xf723b['candidates'][0x0][_0x334c90(0xac7)][_0x334c90(0xc0c)][0x0])return _0xf723b[_0x334c90(0x4ed)][0x0][_0x334c90(0xac7)][_0x334c90(0xc0c)][0x0][_0x334c90(0xa1b)];else{console[_0x334c90(0x48f)](_0x334c90(0x431),_0xf723b);if(_0xf723b[_0x334c90(0x4ed)]&&_0xf723b[_0x334c90(0x4ed)][0x0][_0x334c90(0x76a)]===_0x334c90(0x448))return JSON[_0x334c90(0x616)]({'error':_0x334c90(0x214)});throw new Error(_0x334c90(0x9ee));}}catch(_0x188d4f){console[_0x334c90(0x48f)](_0x334c90(0x1fa),_0x188d4f);throw _0x188d4f;}}async function generateLesson(_0x3d1b42=null,_0x46f6b0=null){const _0x3befeb=_0x587d0b,_0x4f4546=_0x3d1b42,_0x47d2b4=_0x46f6b0||'ไม่ระบุ',_0x312b13=document[_0x3befeb(0x43c)](_0x3befeb(0x229)),_0x331ac0=document[_0x3befeb(0x43c)](_0x3befeb(0x931));_0x331ac0[_0x3befeb(0xc0d)]=_0x3befeb(0x44e)+_0x4f4546+_0x3befeb(0x9c1);try{let _0x241fc7=[];const _0x39f5bf=document[_0x3befeb(0x43c)](_0x3befeb(0x759))?.[_0x3befeb(0x5d0)][_0x3befeb(0x8e7)]();if(_0x39f5bf)try{_0x331ac0[_0x3befeb(0xc0d)]=_0x3befeb(0x55f);const _0x376117=await fetchFileFromUrl(_0x39f5bf,_0x3befeb(0x67f)),_0x3cab54=await new Promise((_0x25c6a4,_0x5e5901)=>{const _0x4f64c3=_0x3befeb,_0x5f053a=new FileReader();_0x5f053a[_0x4f64c3(0xc77)](_0x376117),_0x5f053a[_0x4f64c3(0x7c2)]=()=>_0x25c6a4(_0x5f053a['result'][_0x4f64c3(0x9f8)](',')[0x1]),_0x5f053a[_0x4f64c3(0x350)]=_0x5e5901;});_0x241fc7[_0x3befeb(0x211)]({'inlineData':{'mimeType':_0x376117[_0x3befeb(0x866)],'data':_0x3cab54}});}catch(_0x3c3894){console[_0x3befeb(0x48f)]('Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.',_0x3c3894),showMessage(_0x3befeb(0xa06));}const _0x2dffd7=_0x3befeb(0x7c7)+_0x4f4546+'\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22'+_0x4f4546+_0x3befeb(0x1c0);_0x331ac0[_0x3befeb(0xc0d)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x4f4546+_0x3befeb(0x9c1);const _0x19a534='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x47d2b4+_0x3befeb(0x830)+_0x4f4546+_0x3befeb(0x619)+_0x2dffd7+_0x3befeb(0x487),_0x449248='สำหรับหัวข้อ\x20\x27'+_0x4f4546+_0x3befeb(0xb2f)+_0x47d2b4+_0x3befeb(0x25b)+_0x2dffd7+_0x3befeb(0xc68),_0x481073=_0x3befeb(0xc36)+_0x47d2b4+'\x27\x20ในหัวข้อ\x20\x27'+_0x4f4546+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20'+_0x2dffd7+_0x3befeb(0x415),_0xbb5f00='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x4f4546+_0x3befeb(0x4f8)+_0x47d2b4+_0x3befeb(0x4ce)+_0x2dffd7+_0x3befeb(0xb0d),_0x39f1a0={'type':_0x3befeb(0x3ec),'items':{'type':_0x3befeb(0x371),'properties':{'question':{'type':_0x3befeb(0xbff)},'options':{'type':_0x3befeb(0x3ec),'items':{'type':_0x3befeb(0xbff)}},'answer':{'type':_0x3befeb(0x52c)}},'required':['question',_0x3befeb(0x4b2),_0x3befeb(0x831)]}},[_0x55e822,_0x275b0c,_0x44cbfe,_0x276a12]=await Promise[_0x3befeb(0xafb)]([handleApiCall([{'text':_0x19a534},..._0x241fc7],_0x3befeb(0xc02),null,null,![]),handleApiCall([{'text':_0x449248},..._0x241fc7],_0x3befeb(0xc02),null,null,![]),handleApiCall([{'text':_0x481073},..._0x241fc7],_0x3befeb(0xc02),_0x39f1a0,null,![]),handleApiCall([{'text':_0xbb5f00},..._0x241fc7],_0x3befeb(0xc02),null,null,![])]),_0x569eb8=JSON['stringify'](_0x44cbfe||[]),_0x38f72c=document[_0x3befeb(0x43c)]('lesson-view-title'),_0x225009=document['getElementById'](_0x3befeb(0x440));_0x38f72c[_0x3befeb(0x5b6)]=_0x3befeb(0x562)+_0x4f4546[_0x3befeb(0x1bf)](/•\\s/g,'')+_0x3befeb(0xa1e)+_0x47d2b4+')',['pointContent','memoryContent',_0x3befeb(0x40c)][_0x3befeb(0x27f)](_0x5c23c9=>{const _0x17ab96=_0x3befeb;document[_0x17ab96(0x43c)](_0x5c23c9)[_0x17ab96(0x30c)]='';}),document[_0x3befeb(0x43c)](_0x3befeb(0x142))[_0x3befeb(0x30c)]=_0x55e822?marked[_0x3befeb(0xae3)](_0x55e822):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x3befeb(0x43c)]('memoryContent')['innerHTML']=_0x275b0c?marked['parse'](_0x275b0c):_0x3befeb(0x76c),document[_0x3befeb(0x43c)](_0x3befeb(0x40c))[_0x3befeb(0x30c)]=_0x276a12?marked[_0x3befeb(0xae3)](_0x276a12):_0x3befeb(0x76c),currentApplicationData=JSON[_0x3befeb(0xae3)](_0x569eb8);const _0x29feb4=document[_0x3befeb(0x43c)](_0x3befeb(0x893));_0x29feb4['innerHTML']=(currentApplicationData||[])[_0x3befeb(0x9a0)]((_0x1f734b,_0x40bcb2)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x40bcb2+0x1)+'.\x20'+marked[_0x3befeb(0x580)](_0x1f734b[_0x3befeb(0x72b)]||'')+_0x3befeb(0x6f2)+_0x40bcb2+_0x3befeb(0x787)+(_0x1f734b['options']||[])[_0x3befeb(0x9a0)]((_0x43d3b7,_0x3a5f04)=>_0x3befeb(0xb52)+_0x40bcb2+',\x20'+_0x3a5f04+_0x3befeb(0x2be)+String[_0x3befeb(0x1c8)](0x61+_0x3a5f04)+'.\x20'+marked[_0x3befeb(0x580)](_0x43d3b7||'')+_0x3befeb(0x54b))[_0x3befeb(0xd9)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3befeb(0xd9)]('')||'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>',window[_0x3befeb(0xaf8)]&&MathJax[_0x3befeb(0x5ad)]([_0x225009]),_0x312b13['classList'][_0x3befeb(0x61e)](_0x3befeb(0x6e9)),_0x225009[_0x3befeb(0x860)][_0x3befeb(0xbf3)](_0x3befeb(0x6e9));}catch(_0x3d5053){console['error'](_0x3d5053);throw _0x3d5053;}}function checkAnswer(_0x5df975,_0x3a51bc){const _0x82d1dc=_0x587d0b,_0x1e02f7=currentApplicationData[_0x5df975],_0x3c0a79=document['getElementById']('q'+_0x5df975+_0x82d1dc(0x73f)),_0x214af5=_0x3c0a79['getElementsByTagName'](_0x82d1dc(0xadb));for(let _0x382365 of _0x214af5){_0x382365['disabled']=!![];}_0x3a51bc===_0x1e02f7[_0x82d1dc(0x831)]?_0x214af5[_0x3a51bc]['classList'][_0x82d1dc(0x61e)]('correct'):(_0x214af5[_0x3a51bc][_0x82d1dc(0x860)][_0x82d1dc(0x61e)](_0x82d1dc(0x706)),_0x214af5[_0x1e02f7[_0x82d1dc(0x831)]][_0x82d1dc(0x860)]['add'](_0x82d1dc(0x22a)));}window[_0x587d0b(0x310)]=handleGenerateAndShowLesson,window['checkAnswer']=checkAnswer,window[_0x587d0b(0xa51)]=handleGeneratePracticeTest,window[_0x587d0b(0x7ca)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x1c58a6=_0x587d0b;try{const _0x83743=initializeApp(firebaseConfig);db=getFirestore(_0x83743),auth=getAuth(_0x83743),setupAuthListener(),setupEventListeners(),showView(_0x1c58a6(0x8de)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x1fa99f){console[_0x1c58a6(0x48f)](_0x1c58a6(0x27d),_0x1fa99f),showMessage(_0x1c58a6(0xab1));}}async function handleVerifyAnswersInEditor(){const _0xb6cdf8=_0x587d0b,_0x49e2aa=document[_0xb6cdf8(0x43c)]('quiz-editor-modal');if(!_0x49e2aa)return;const _0x4d76ba=document[_0xb6cdf8(0x43c)](_0xb6cdf8(0x67d));_0x4d76ba[_0xb6cdf8(0x35d)]=!![],_0x4d76ba[_0xb6cdf8(0x30c)]=_0xb6cdf8(0x50b);try{const _0x10402b=_0x49e2aa['querySelectorAll'](_0xb6cdf8(0xc8f)),_0x553a5a=Array[_0xb6cdf8(0xb3b)](_0x10402b)[_0xb6cdf8(0x9a0)]((_0x545548,_0x50809c)=>{const _0x2afe46=_0xb6cdf8,_0x962c41=_0x545548[_0x2afe46(0x82f)][_0x2afe46(0x24d)],_0x36a55b=_0x545548[_0x2afe46(0xb1b)]('textarea')[_0x2afe46(0x5d0)];let _0x51e75c=null,_0x93241f='';switch(_0x962c41){case _0x2afe46(0x51f):const _0x517d9e=_0x545548[_0x2afe46(0xa6e)]('input[type=\x22text\x22]');_0x51e75c=Array[_0x2afe46(0xb3b)](_0x517d9e)[_0x2afe46(0x9a0)](_0x4488a5=>_0x4488a5[_0x2afe46(0x5d0)]);const _0x4c3fbd=_0x545548['querySelector'](_0x2afe46(0xa1a));_0x4c3fbd&&(_0x93241f=_0x51e75c[parseInt(_0x4c3fbd['value'])]);break;case'short_answer':_0x51e75c=[],_0x93241f=_0x545548[_0x2afe46(0xb1b)]('.ideal-answer-input')[_0x2afe46(0x5d0)];break;case _0x2afe46(0x907):_0x51e75c=[_0x2afe46(0x529),'false'];const _0xcd6402=_0x545548[_0x2afe46(0xb1b)](_0x2afe46(0xa1a));_0x93241f=_0xcd6402?_0xcd6402[_0x2afe46(0x5d0)]:'';break;case _0x2afe46(0xf5):_0x51e75c=[],_0x93241f=_0x545548[_0x2afe46(0xb1b)]('.correct-response-input')[_0x2afe46(0x5d0)];break;}return{'question':_0x36a55b,'options':_0x51e75c,'proposedAnswer':_0x93241f};}),_0x3adaf7=_0xb6cdf8(0xc4d)+JSON[_0xb6cdf8(0x616)](_0x553a5a)+_0xb6cdf8(0x4ef),_0x38954d={'type':_0xb6cdf8(0x3ec),'items':{'type':_0xb6cdf8(0x371),'properties':{'questionIndex':{'type':_0xb6cdf8(0x52c)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0xb6cdf8(0xbff)},'correctOptionExists':{'type':_0xb6cdf8(0xbc1)},'suggestedAnswer':{'type':_0xb6cdf8(0xbff)},'newOptionsPayload':{'type':_0xb6cdf8(0x371),'properties':{'newOptions':{'type':_0xb6cdf8(0x3ec),'items':{'type':_0xb6cdf8(0xbff)}},'newCorrectIndex':{'type':_0xb6cdf8(0x52c)}}}},'required':[_0xb6cdf8(0x8b),'isCorrect',_0xb6cdf8(0x17f)]}},_0xd14c7a=await callAnalysisApi(_0x3adaf7,{'type':_0xb6cdf8(0x371),'properties':{'result':_0x38954d},'required':[_0xb6cdf8(0x5e8)]});displayVerificationResultsInEditor(_0xd14c7a[_0xb6cdf8(0x5e8)]);}catch(_0x164f37){console[_0xb6cdf8(0x48f)](_0xb6cdf8(0x202),_0x164f37),showMessage(_0xb6cdf8(0x96a));}finally{_0x4d76ba[_0xb6cdf8(0x35d)]=![],_0x4d76ba[_0xb6cdf8(0x30c)]=_0xb6cdf8(0xbe3);}}function displayVerificationResultsInEditor(_0x41db0c){const _0x6c0e8d=_0x587d0b;_0x41db0c[_0x6c0e8d(0x27f)](_0x2159a3=>{const _0x2cb743=_0x6c0e8d,_0x211af1=document[_0x2cb743(0xb1b)]('.question-editor-item[data-q-index=\x22'+_0x2159a3[_0x2cb743(0x8b)]+'\x22]');if(!_0x211af1)return;const _0x497196=_0x211af1['querySelector'](_0x2cb743(0x989));if(_0x497196)_0x497196[_0x2cb743(0xbf3)]();let _0x539c1d='';if(_0x2159a3['newOptionsPayload']&&_0x2159a3[_0x2cb743(0xbba)][_0x2cb743(0xa3d)]){const _0x4034fc=_0x2159a3[_0x2cb743(0xbba)][_0x2cb743(0xa3d)],_0x56974a=_0x2159a3[_0x2cb743(0xbba)][_0x2cb743(0x6d6)],_0x6348b5=_0x211af1[_0x2cb743(0x82f)][_0x2cb743(0x24d)];if(_0x6348b5===_0x2cb743(0x51f)){const _0x2517ae=_0x211af1[_0x2cb743(0xa6e)](_0x2cb743(0xaae));_0x2517ae['forEach']((_0x5f1884,_0x3dadf5)=>{const _0x427147=_0x2cb743;_0x4034fc[_0x3dadf5]?_0x5f1884['value']=_0x4034fc[_0x3dadf5]:_0x5f1884['value']=_0x427147(0x1e8);});const _0x237a67=_0x211af1['querySelector']('input[type=\x22radio\x22][value=\x22'+_0x56974a+'\x22]');_0x237a67&&(_0x237a67[_0x2cb743(0x1a3)]=!![]),_0x539c1d=_0x2cb743(0xada),_0x211af1[_0x2cb743(0x860)][_0x2cb743(0x61e)]('bg-yellow-200','transition-all',_0x2cb743(0x565)),setTimeout(()=>{const _0x40ec7e=_0x2cb743;_0x211af1['classList'][_0x40ec7e(0xbf3)](_0x40ec7e(0x43f));},0x9c4);}}else{if(!_0x2159a3[_0x2cb743(0xa35)]&&_0x2159a3[_0x2cb743(0xa0f)]){const _0x764728=_0x2159a3['suggestedAnswer']?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x539c1d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x764728+_0x2cb743(0xc13)+_0x2159a3['justification']+_0x2cb743(0x3fe)+(_0x2159a3[_0x2cb743(0xa0f)]?_0x2cb743(0x4cc)+_0x2159a3[_0x2cb743(0xa0f)]+_0x2cb743(0x85a):'')+_0x2cb743(0x7c9);const _0x2fc54b=_0x211af1[_0x2cb743(0x82f)][_0x2cb743(0x24d)],_0x3960d4=_0xdfc4c1=>{const _0x39ea95=_0x2cb743;if(!_0xdfc4c1)return;_0xdfc4c1[_0x39ea95(0x860)][_0x39ea95(0x61e)](_0x39ea95(0xc19),_0x39ea95(0x57a),_0x39ea95(0x565)),setTimeout(()=>{const _0x5735ea=_0x39ea95;_0xdfc4c1[_0x5735ea(0x860)][_0x5735ea(0xbf3)](_0x5735ea(0xc19));},0x9c4);};if(_0x2fc54b===_0x2cb743(0x51f)){const _0x5deebe=Array[_0x2cb743(0xb3b)](_0x211af1[_0x2cb743(0xa6e)](_0x2cb743(0xaae))),_0x17dd59=_0x5deebe[_0x2cb743(0x9bd)](_0x557354=>_0x557354[_0x2cb743(0x5d0)]['trim']()[_0x2cb743(0x35e)]()===_0x2159a3[_0x2cb743(0xa0f)]['trim']()[_0x2cb743(0x35e)]());if(_0x17dd59!==-0x1){const _0x27ef9d=_0x211af1[_0x2cb743(0xb1b)]('input[type=\x22radio\x22][value=\x22'+_0x17dd59+'\x22]');_0x27ef9d&&(_0x27ef9d[_0x2cb743(0x1a3)]=!![],_0x3960d4(_0x27ef9d[_0x2cb743(0x3e4)](_0x2cb743(0xbc))));}}else{if(_0x2fc54b===_0x2cb743(0x573)||_0x2fc54b===_0x2cb743(0xf5)){const _0x4e508d=_0x211af1[_0x2cb743(0xb1b)](_0x2cb743(0x168));_0x4e508d&&(_0x4e508d['value']=_0x2159a3[_0x2cb743(0xa0f)],_0x3960d4(_0x4e508d));}else{if(_0x2fc54b==='true_false'){const _0x51f360=_0x2159a3[_0x2cb743(0xa0f)][_0x2cb743(0x8e7)]()[_0x2cb743(0x35e)](),_0x253a3d=_0x211af1[_0x2cb743(0xb1b)](_0x2cb743(0x28a)+_0x51f360+'\x22]');_0x253a3d&&(_0x253a3d['checked']=!![],_0x3960d4(_0x253a3d['closest'](_0x2cb743(0xbc))));}}}}else _0x2159a3[_0x2cb743(0xa35)]&&(_0x539c1d=_0x2cb743(0x4f4));}_0x211af1[_0x2cb743(0x660)]('beforeend',_0x539c1d);}),showMessage(_0x6c0e8d(0x2af));}async function handleVerifyAnswers(){const _0x56656d=_0x587d0b;if(!currentQuizData||!currentQuizData[_0x56656d(0x66b)]){showMessage(_0x56656d(0x1cb));return;}const _0x15c71a=document['getElementById']('verify-answers-btn');_0x15c71a[_0x56656d(0x35d)]=!![],_0x15c71a['innerHTML']=_0x56656d(0x50b);try{const _0x117379=currentQuizData['questions'][_0x56656d(0x9a0)]((_0x4b2ae3,_0x177207)=>{const _0x37a10c=_0x56656d;let _0x3f528c='';const _0xc8cc49=_0x4b2ae3[_0x37a10c(0x8af)]||currentQuizData[_0x37a10c(0x86d)];switch(_0xc8cc49){case _0x37a10c(0x51f):_0x3f528c=_0x4b2ae3['options'][_0x4b2ae3['correctAnswerIndex']];break;case _0x37a10c(0x573):_0x3f528c=_0x4b2ae3['idealAnswer'];break;case _0x37a10c(0x907):_0x3f528c=_0x4b2ae3['correctAnswer'][_0x37a10c(0x6ce)]();break;case _0x37a10c(0xf5):_0x3f528c=_0x4b2ae3['correctResponse'];break;}return{'question':_0x4b2ae3[_0x37a10c(0x2f0)]||_0x4b2ae3[_0x37a10c(0xb89)],'options':_0x4b2ae3[_0x37a10c(0x4b2)]||null,'proposedAnswer':_0x3f528c};}),_0x569508='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON['stringify'](_0x117379)+_0x56656d(0x9c),_0x2d6646={'type':_0x56656d(0x3ec),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x56656d(0x52c)},'isCorrect':{'type':_0x56656d(0xbc1)},'justification':{'type':_0x56656d(0xbff)},'suggestedAnswer':{'type':'STRING'}},'required':['questionIndex',_0x56656d(0xa35),_0x56656d(0x17f)]}},_0x2cc64e=await callAnalysisApi(_0x569508,{'type':_0x56656d(0x371),'properties':{'result':_0x2d6646},'required':[_0x56656d(0x5e8)]});displayVerificationResults(_0x2cc64e['result']);}catch(_0xfeeb68){console[_0x56656d(0x48f)](_0x56656d(0x326),_0xfeeb68),showMessage(_0x56656d(0x96a));}finally{_0x15c71a[_0x56656d(0x35d)]=![],_0x15c71a['innerHTML']=_0x56656d(0x3c0);}}function displayVerificationResults(_0x13d57c){const _0x34c260=_0x587d0b;_0x13d57c[_0x34c260(0x27f)](_0x59b551=>{const _0x1c5db1=_0x34c260,_0x3420f4=document[_0x1c5db1(0xb1b)](_0x1c5db1(0xa01)+_0x59b551[_0x1c5db1(0x8b)]+'\x22]');if(_0x3420f4){const _0x6bb12d=_0x3420f4[_0x1c5db1(0xb1b)](_0x1c5db1(0xbef));if(_0x6bb12d)_0x6bb12d[_0x1c5db1(0xbf3)]();let _0x16d052='';_0x59b551[_0x1c5db1(0xa35)]?_0x16d052=_0x1c5db1(0x955):_0x16d052=_0x1c5db1(0x146)+_0x59b551[_0x1c5db1(0x17f)]+_0x1c5db1(0x59b)+(_0x59b551[_0x1c5db1(0xa0f)]?_0x1c5db1(0x4cc)+_0x59b551[_0x1c5db1(0xa0f)]+_0x1c5db1(0x85a):'')+_0x1c5db1(0x8c),_0x3420f4[_0x1c5db1(0x660)](_0x1c5db1(0x97e),_0x16d052);}}),showMessage(_0x34c260(0x2af));}function compareNumericalAnswers(_0x1a3f0b,_0x271539){const _0x37e811=_0x587d0b,_0x436a98=String(_0x1a3f0b)[_0x37e811(0x1bf)](',','.')[_0x37e811(0x1bf)](/[^\d.-]/g,'')[_0x37e811(0x8e7)](),_0x588ab2=String(_0x271539)[_0x37e811(0x1bf)](',','.')['replace'](/[^\d.-]/g,'')[_0x37e811(0x8e7)]();if(_0x436a98===''||_0x588ab2==='')return![];const _0x2cad11=parseFloat(_0x436a98),_0x517bba=parseFloat(_0x588ab2);if(isNaN(_0x2cad11)||isNaN(_0x517bba))return![];return Math[_0x37e811(0x2bb)](_0x2cad11-_0x517bba)<0.001;}function isPotentiallyNumeric(_0x5c26a1){const _0xa2a4ac=_0x587d0b;if(typeof _0x5c26a1!==_0xa2a4ac(0xb54)&&typeof _0x5c26a1!==_0xa2a4ac(0x10f))return![];const _0x3356c7=String(_0x5c26a1)[_0xa2a4ac(0x1bf)](',','.')[_0xa2a4ac(0x8e7)]();return _0x3356c7!==''&&!isNaN(parseFloat(_0x3356c7))&&isFinite(_0x3356c7);}async function gradeShortAnswer(_0x48c737,_0x288b86){const _0x1340fe=_0x587d0b,_0x2f735a=_0x288b86[_0x1340fe(0x1ef)],_0x1874dc=String(_0x48c737)[_0x1340fe(0x1bf)](/\$/g,'')['trim'](),_0x3469f1=String(_0x2f735a)[_0x1340fe(0x1bf)](/\$/g,'')['trim']();if(_0x1874dc[_0x1340fe(0x35e)]()===_0x3469f1[_0x1340fe(0x35e)]())return!![];if(isPotentiallyNumeric(_0x1874dc)&&isPotentiallyNumeric(_0x3469f1)){if(compareNumericalAnswers(_0x1874dc,_0x3469f1))return!![];}return console['log'](_0x1340fe(0x1a6)),await gradeShortAnswerWithAI(_0x48c737,_0x2f735a);}async function revealAnswerForAdmin(_0x53e1e9,_0x171a65){const _0x2bc94d=_0x587d0b,_0xc14422=doc(db,_0x2bc94d(0x1f0)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0xc14422,{'questionStatus':_0x2bc94d(0x98)});}function showTop5LeaderboardView(_0x41f64a){const _0x473950=_0x587d0b,_0x57a390=Object[_0x473950(0x512)](_0x41f64a[_0x473950(0x365)]||{})['filter'](_0x363076=>_0x363076['status']===_0x473950(0x52b));_0x57a390[_0x473950(0x34f)]((_0x3c6a11,_0x43b036)=>_0x43b036[_0x473950(0x7c3)]-_0x3c6a11['score']);const _0x4f037e=_0x57a390[_0x473950(0x264)](0x0,0x5),_0x207ad7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f037e['map']((_0x46c4af,_0x2f8533)=>_0x473950(0xb46)+(_0x2f8533+0x1)+'.\x20'+(_0x46c4af[_0x473950(0x683)]||Object[_0x473950(0x1c7)](_0x41f64a[_0x473950(0x365)])['find'](_0x17f6f7=>_0x41f64a[_0x473950(0x365)][_0x17f6f7]===_0x46c4af))+_0x473950(0x236)+_0x46c4af[_0x473950(0x7c3)]+_0x473950(0x7a6))[_0x473950(0xd9)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x41f64a[_0x473950(0xaf4)]+0x1===currentQuizData['questions'][_0x473950(0x3ce)]?_0x473950(0xb92):_0x473950(0xaee))+_0x473950(0x3c7);liveGameView[_0x473950(0x30c)]=_0x207ad7,document[_0x473950(0x43c)](_0x473950(0x979))[_0x473950(0x5e1)](_0x473950(0xbf8),async()=>{const _0xbce168=_0x473950,_0x32a146=doc(db,_0xbce168(0x1f0)+appId+_0xbce168(0x618),currentLiveGameId),_0x33a27e=_0x41f64a[_0xbce168(0xaf4)]+0x1;if(_0x33a27e<currentQuizData[_0xbce168(0x66b)]['length']){const _0x5f010e={'currentQuestionIndex':_0x33a27e,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0xbce168(0x384)};Object[_0xbce168(0x1c7)](_0x41f64a['players'])[_0xbce168(0x27f)](_0x4ac1fa=>{const _0x4b338c=_0xbce168;_0x5f010e[_0x4b338c(0x87c)+_0x4ac1fa+_0x4b338c(0x8db)]=![];}),await updateDoc(_0x32a146,_0x5f010e);}else await updateDoc(_0x32a146,{'status':_0xbce168(0xb00)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x163810=>{const _0xc2c539=_0x341e;if(_0x163810){userId=_0x163810[_0xc2c539(0x810)],userIdDisplay[_0xc2c539(0xc0d)]=userId;const _0x1e1ea7=await loadUserPreferences();_0x1e1ea7[_0xc2c539(0xb7f)]&&(document[_0xc2c539(0x43c)](_0xc2c539(0x1ec))[_0xc2c539(0x5d0)]=_0x1e1ea7[_0xc2c539(0xb7f)]);globalDashboardSettings[_0xc2c539(0x213)]=_0x1e1ea7[_0xc2c539(0x213)]||_0xc2c539(0xba7);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x4ab803,_0x1ec6cd){const _0x38e03e=_0x587d0b;if(!userId)return;try{const _0x943f49=doc(db,_0x38e03e(0x1f0)+appId+_0x38e03e(0x608)+userId+_0x38e03e(0x537)),_0x134f06={};_0x134f06[_0x4ab803]=_0x1ec6cd,await setDoc(_0x943f49,_0x134f06,{'merge':!![]});}catch(_0x118a64){console[_0x38e03e(0x48f)]('Error\x20saving\x20user\x20preference:',_0x118a64);}}async function loadUserPreferences(){const _0x1cdddb=_0x587d0b;if(!userId)return{};try{const _0xa59462=doc(db,_0x1cdddb(0x1f0)+appId+_0x1cdddb(0x608)+userId+_0x1cdddb(0x537)),_0xa82848=await getDoc(_0xa59462);if(_0xa82848[_0x1cdddb(0x2ef)]())return _0xa82848[_0x1cdddb(0xc12)]();return{};}catch(_0x49c46f){return console[_0x1cdddb(0x48f)](_0x1cdddb(0x3b3),_0x49c46f),{};}}function parseIndentedBlueprint(_0x121fd0){const _0x398833=_0x587d0b,_0x56f436=_0x121fd0[_0x398833(0x9f8)]('\x0a')['filter'](_0x34974b=>_0x34974b[_0x398833(0x8e7)]()!==''),_0x4680b5=[];let _0x464f7f=null,_0x56c271=null;return _0x56f436[_0x398833(0x27f)](_0x5e7b6c=>{const _0x296a21=_0x398833,_0x491c76=_0x5e7b6c[_0x296a21(0xc93)](/^\s*/)[0x0]['length'],_0x27eeb5=_0x5e7b6c[_0x296a21(0x8e7)]();if(_0x491c76===0x0)_0x464f7f={'sara':_0x27eeb5,'mainTopics':[]},_0x4680b5[_0x296a21(0x211)](_0x464f7f),_0x56c271=null;else{if(_0x491c76>0x0&&_0x491c76<0x8&&_0x464f7f)_0x56c271={'topicName':_0x27eeb5,'subTopics':[]},_0x464f7f[_0x296a21(0x6cf)]['push'](_0x56c271);else _0x491c76>=0x8&&_0x56c271&&_0x56c271[_0x296a21(0x63b)][_0x296a21(0x211)](_0x27eeb5);}}),{'curriculum':_0x4680b5};}async function handleManualBlueprintSave(){const _0x452cc7=_0x587d0b,_0x4fc854=document['getElementById']('manual-bp-project-name')[_0x452cc7(0x5d0)][_0x452cc7(0x8e7)](),_0x51e550=document[_0x452cc7(0x43c)](_0x452cc7(0x79b))[_0x452cc7(0x5d0)]['trim'](),_0x5cc668=document['getElementById'](_0x452cc7(0x24e))[_0x452cc7(0x5d0)];if(!_0x4fc854||!_0x51e550||!_0x5cc668){showMessage(_0x452cc7(0x38e));return;}const _0x2da808=parseIndentedBlueprint(_0x5cc668);if(!_0x2da808['curriculum']||_0x2da808[_0x452cc7(0x299)][_0x452cc7(0x3ce)]===0x0){showMessage(_0x452cc7(0x2b1));return;}const _0x59d995={};let _0x97fad5=0x0;_0x2da808[_0x452cc7(0x299)][_0x452cc7(0x27f)](_0x3cbb51=>{const _0x598c81=_0x452cc7;_0x3cbb51[_0x598c81(0x6cf)][_0x598c81(0x27f)](_0x5ae214=>{const _0xd71815=_0x598c81;_0x5ae214[_0xd71815(0x63b)][_0xd71815(0x27f)](_0x415318=>{const _0x2e4ffb=_0xd71815,_0x5b9ca8=_0x2e4ffb(0xc66)+Date[_0x2e4ffb(0x349)]()+Math[_0x2e4ffb(0x14d)]()['toString'](0x24)[_0x2e4ffb(0x55b)](0x2,0x9);_0x59d995[_0x5b9ca8]={'sara':_0x3cbb51[_0x2e4ffb(0x4b1)],'mainTopic':_0x5ae214[_0x2e4ffb(0xb26)],'subTopic':_0x415318,'status':_0x2e4ffb(0x51c),'lessonContent':null,'order':_0x97fad5++};});});});try{const _0x227dbe=collection(db,'artifacts/'+appId+'/public/data/blueprintProjects');await addDoc(_0x227dbe,{'projectName':_0x4fc854,'gradeLevel':_0x51e550,'topics':_0x59d995,'createdAt':serverTimestamp()}),showMessage(_0x452cc7(0x952)+_0x4fc854+_0x452cc7(0x34d)),document[_0x452cc7(0x43c)](_0x452cc7(0x776))[_0x452cc7(0x860)][_0x452cc7(0x61e)](_0x452cc7(0x6e9));}catch(_0x2ed630){console[_0x452cc7(0x48f)](_0x452cc7(0x8c1),_0x2ed630),showMessage(_0x452cc7(0x94a));}}function handleClearAllLinksForTopic(_0x1dd070){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0x14ca5c=_0x341e;try{const _0x2e529f=doc(db,_0x14ca5c(0x1f0)+appId+_0x14ca5c(0xb8c),currentBlueprintProjectId);await updateDoc(_0x2e529f,{['topics.'+_0x1dd070+_0x14ca5c(0x3a5)]:[]}),showMessage('ล้างการเชื่อมโยงทั้งหมดสำเร็จ'),openTopicQuizBank(_0x1dd070),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x37915e){console[_0x14ca5c(0x48f)](_0x14ca5c(0x5b3),_0x37915e),showMessage(_0x14ca5c(0x9e6));}});}function showPodiumView(_0x112daf,_0x4091ab='live-race'){const _0x43fcc7=_0x587d0b,_0x210c90=Object['entries'](_0x112daf)[_0x43fcc7(0x9a0)](([_0x5969df,_0x311edc])=>({'name':_0x5969df,'score':_0x311edc['score']||0x0,'badges':_0x311edc['badges']||[],'hasPerfectScoreBonus':_0x311edc[_0x43fcc7(0x824)]||![]}));_0x210c90[_0x43fcc7(0x34f)]((_0x96aa5a,_0x133839)=>{const _0x530bdc=_0x43fcc7,_0x499415=_0x133839[_0x530bdc(0x7c3)]-_0x96aa5a['score'];if(_0x499415!==0x0)return _0x499415;return(_0x133839[_0x530bdc(0xc8)][_0x530bdc(0x3ce)]||0x0)-(_0x96aa5a[_0x530bdc(0xc8)]['length']||0x0);});const _0x4cc537=_0xcac41=>{const _0x222e9e=_0x43fcc7;if(!_0xcac41||_0xcac41['length']===0x0)return'';const _0xc72e9c={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x222e9e(0xa03)+_0xcac41[_0x222e9e(0x9a0)](_0x1afa7f=>_0xc72e9c[_0x1afa7f]||'')['join']('')+_0x222e9e(0xc94);},_0x10691a=_0x210c90[_0x43fcc7(0x264)](0x3),_0xc14539=_0x10691a[_0x43fcc7(0x3ce)]>0x0?_0x43fcc7(0x28f)+_0x10691a[_0x43fcc7(0x9a0)]((_0x412e2c,_0x3bf27e)=>{const _0x4fe171=_0x43fcc7,_0x38a58f=_0x412e2c['hasPerfectScoreBonus']?'<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>':'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x3bf27e+0x4)+_0x4fe171(0x391)+_0x412e2c['name']+_0x4fe171(0x576)+_0x412e2c[_0x4fe171(0x7c3)]+_0x4fe171(0x7a9)+_0x38a58f+_0x4fe171(0x91e);})[_0x43fcc7(0xd9)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x40aa61='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x210c90[0x1]?_0x43fcc7(0xd3)+_0x210c90[0x1][_0x43fcc7(0x683)]+_0x43fcc7(0x85a)+_0x4cc537(_0x210c90[0x1][_0x43fcc7(0xc8)])+_0x43fcc7(0x808)+_0x210c90[0x1][_0x43fcc7(0x7c3)]+_0x43fcc7(0x7a9)+(_0x210c90[0x1][_0x43fcc7(0x824)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x43fcc7(0x7fe):_0x43fcc7(0x8ff))+_0x43fcc7(0x4ef)+(_0x210c90[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x210c90[0x0][_0x43fcc7(0x683)]+_0x43fcc7(0x85a)+_0x4cc537(_0x210c90[0x0][_0x43fcc7(0xc8)])+_0x43fcc7(0x23b)+_0x210c90[0x0][_0x43fcc7(0x7c3)]+_0x43fcc7(0x7a9)+(_0x210c90[0x0][_0x43fcc7(0x824)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+'</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':_0x43fcc7(0x8ff))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x210c90[0x2]?_0x43fcc7(0xa69)+_0x210c90[0x2]['name']+_0x43fcc7(0x85a)+_0x4cc537(_0x210c90[0x2][_0x43fcc7(0xc8)])+_0x43fcc7(0x808)+_0x210c90[0x2][_0x43fcc7(0x7c3)]+_0x43fcc7(0x7a9)+(_0x210c90[0x2]['hasPerfectScoreBonus']?_0x43fcc7(0xc56):'')+'</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>':_0x43fcc7(0x8ff))+_0x43fcc7(0xa84)+_0xc14539+_0x43fcc7(0x1d2)+(currentMode===_0x43fcc7(0x71f)?_0x43fcc7(0x42c):_0x43fcc7(0x809))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';liveGameView['innerHTML']=_0x40aa61,currentMode===_0x43fcc7(0x71f)&&document[_0x43fcc7(0x43c)](_0x43fcc7(0xb17))['addEventListener'](_0x43fcc7(0xbf8),async()=>{const _0x2347de=_0x43fcc7;let _0x53c18b;_0x4091ab===_0x2347de(0x3d2)?_0x53c18b=doc(db,_0x2347de(0x1f0)+appId+_0x2347de(0x3df),currentLiveGameId):_0x53c18b=doc(db,_0x2347de(0x1f0)+appId+_0x2347de(0x618),currentLiveGameId),await deleteDoc(_0x53c18b);});}function renderSyncSummaryView(_0xcffdb8,_0x2dd71a,_0x37fd54){const _0x4e758e=_0x587d0b,_0x22fb95=_0xcffdb8[_0x4e758e(0xa14)]||_0x4e758e(0x1dd),_0x47d435=_0x22fb95===_0x4e758e(0x946)&&_0xcffdb8[_0x4e758e(0x28b)]===![],_0x3f668b=Object['values'](_0xcffdb8[_0x4e758e(0x365)]||{}),_0x68707d=_0xcffdb8[_0x4e758e(0x33c)]['questions'],_0x396002=_0x2dd71a[_0x4e758e(0x8af)]||_0xcffdb8[_0x4e758e(0x33c)]['quizType'];let _0x4cf670=[];_0x396002==='true_false'?_0x4cf670=['ใช่\x20/\x20ถูก',_0x4e758e(0x596)]:_0x4cf670=_0x2dd71a[_0x4e758e(0x4b2)]||[];const _0x57f1fa=new Array(_0x4cf670[_0x4e758e(0x3ce)])['fill'](0x0),_0x19f766={};_0x4cf670[_0x4e758e(0x27f)]((_0x1293ca,_0x54a545)=>{_0x19f766[_0x54a545]=[];}),Object[_0x4e758e(0x31d)](_0xcffdb8[_0x4e758e(0x365)]||{})['forEach'](([_0x19348a,_0x536d2c])=>{const _0x87719=_0x4e758e;if(_0x536d2c[_0x87719(0x658)]!==_0x87719(0x362)&&_0x536d2c[_0x87719(0x778)]!==undefined&&_0x536d2c[_0x87719(0x778)]!==null){const _0x205b2c=_0x536d2c[_0x87719(0x778)];if(_0x19f766[_0x205b2c]!==undefined){const _0x5a84dc=_0x47d435?_0xcffdb8['playerNicknames'][_0x19348a]||_0x87719(0x7b7):_0x19348a;_0x19f766[_0x205b2c]['push'](_0x5a84dc),_0x57f1fa[_0x205b2c]++;}}});let _0x5f0a27='';const _0x536963=_0xcffdb8[_0x4e758e(0xaf4)]>=_0x68707d[_0x4e758e(0x3ce)]-0x1;_0x37fd54?_0x22fb95==='reveal_at_end'?_0x536963?_0x5f0a27=_0x4e758e(0x593):_0x5f0a27=_0x4e758e(0x101):_0x5f0a27='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x22fb95==='reveal_at_end'?_0x5f0a27=_0x4e758e(0x48b):_0x5f0a27=_0x4e758e(0x1b4);const _0x14a48d=_0x4e758e(0x76e)+_0x2dd71a[_0x4e758e(0xb89)]+_0x4e758e(0x3bf)+_0x57f1fa[_0x4e758e(0x9a0)]((_0xf92268,_0x5e2a8b)=>{const _0x439e72=_0x4e758e,_0x46e45e=_0x19f766[_0x5e2a8b][_0x439e72(0x3ce)]>0x0?_0x19f766[_0x5e2a8b][_0x439e72(0xd9)](',\x20'):_0x439e72(0x76b),_0xc74281=_0x439e72(0x811);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0xf92268+_0x439e72(0x5f3)+_0xc74281+_0x439e72(0x722)+_0x5e2a8b+_0x439e72(0x560)+_0x4cf670[_0x5e2a8b]+_0x439e72(0x9a2)+_0x5e2a8b+_0x439e72(0x5d9)+_0x46e45e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x4e758e(0xd9)]('')+_0x4e758e(0xb27)+_0x5f0a27+_0x4e758e(0xb96);liveGameView['innerHTML']=_0x14a48d;if(window[_0x4e758e(0xaf8)])MathJax['typesetPromise']();if(_0x37fd54){const _0x246d68=doc(db,_0x4e758e(0x1f0)+appId+_0x4e758e(0x3df),currentLiveGameId);document[_0x4e758e(0x43c)](_0x4e758e(0x6d2))?.[_0x4e758e(0x5e1)]('click',async()=>{const _0x1c4df2=_0x4e758e;await updateDoc(_0x246d68,{'status':_0x1c4df2(0xb6f)});}),document[_0x4e758e(0x43c)](_0x4e758e(0x41a))?.[_0x4e758e(0x5e1)](_0x4e758e(0xbf8),()=>{openScratchpad(_0x2dd71a,_0x4cf670);}),document[_0x4e758e(0x43c)]('next-sync-question-btn')?.[_0x4e758e(0x5e1)](_0x4e758e(0xbf8),async()=>{const _0x1bc407=_0x4e758e,_0x3e4157=_0xcffdb8['currentQuestionIndex']+0x1,_0x47f80f={};Object[_0x1bc407(0x1c7)](_0xcffdb8[_0x1bc407(0x365)])[_0x1bc407(0x27f)](_0x46793f=>{const _0x5d2a62=_0x1bc407;_0x47f80f[_0x5d2a62(0x87c)+_0x46793f+_0x5d2a62(0x3d4)]=![],_0x47f80f[_0x5d2a62(0x87c)+_0x46793f+'.lastAnswerIndex']=null;}),await updateDoc(_0x246d68,{..._0x47f80f,'status':_0x1bc407(0x72b),'currentQuestionIndex':_0x3e4157,'questionDisplayedAt':serverTimestamp()});}),document[_0x4e758e(0x43c)](_0x4e758e(0x69b))?.[_0x4e758e(0x5e1)](_0x4e758e(0xbf8),async()=>{await updateDoc(_0x246d68,{'status':'results','reviewQuestionIndex':0x0});});}}function renderAnonymousStudentResultsView(_0x5a62fb){const _0x2e9b76=_0x587d0b,_0x522c8e=_0x5a62fb[_0x2e9b76(0xaf4)]>=_0x5a62fb[_0x2e9b76(0x33c)][_0x2e9b76(0x66b)][_0x2e9b76(0x3ce)]-0x1;let _0x42a981='';if(_0x5a62fb[_0x2e9b76(0x28b)]===!![]){const _0x490294=_0x5a62fb[_0x2e9b76(0x365)][localTeamPlayers[0x0]],_0x5166ba=_0x490294[_0x2e9b76(0x683)],_0x5bf8c1=_0x490294[_0x2e9b76(0x7c3)];_0x42a981='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>'+_0x5166ba+_0x2e9b76(0x289)+_0x5bf8c1+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else _0x42a981=_0x2e9b76(0xbb0)+(_0x522c8e?_0x2e9b76(0x18c):'รอผู้ควบคุมไปข้อต่อไป...')+_0x2e9b76(0xb19);const _0x5e4a3f=_0x2e9b76(0xb87)+_0x42a981+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x5e4a3f;}async function handleShowStudentRankings(){const _0x4ce69b=_0x587d0b,_0x46a0f3=document[_0x4ce69b(0xb1b)](_0x4ce69b(0x91b));_0x46a0f3&&(_0x46a0f3['innerHTML']=_0x4ce69b(0x7ed));const _0x2cecc4=document[_0x4ce69b(0xb1b)](_0x4ce69b(0x54a));_0x2cecc4&&(_0x2cecc4[_0x4ce69b(0x30c)]=_0x4ce69b(0x5d5));const _0x4c200d=document[_0x4ce69b(0x43c)]('student-rankings-modal');_0x4c200d[_0x4ce69b(0x860)][_0x4ce69b(0xbf3)](_0x4ce69b(0x6e9)),document[_0x4ce69b(0x43c)]('close-student-rankings-btn')['onclick']=()=>_0x4c200d['classList'][_0x4ce69b(0x61e)](_0x4ce69b(0x6e9));const _0x28a72d=document[_0x4ce69b(0x43c)](_0x4ce69b(0x745)),_0x14ef04=document['getElementById'](_0x4ce69b(0xc26)),_0x3b2cac=document[_0x4ce69b(0x43c)](_0x4ce69b(0x27a)),_0x388205=document[_0x4ce69b(0x43c)](_0x4ce69b(0x968));_0x28a72d[_0x4ce69b(0xb31)]=()=>{const _0x30ee34=_0x4ce69b;_0x28a72d[_0x30ee34(0x860)][_0x30ee34(0x61e)](_0x30ee34(0x52b)),_0x14ef04[_0x30ee34(0x860)][_0x30ee34(0xbf3)](_0x30ee34(0x52b)),_0x3b2cac[_0x30ee34(0x860)][_0x30ee34(0xbf3)](_0x30ee34(0x6e9)),_0x388205[_0x30ee34(0x860)]['add'](_0x30ee34(0x6e9));},_0x14ef04['onclick']=()=>{const _0x48bc3e=_0x4ce69b;_0x14ef04[_0x48bc3e(0x860)][_0x48bc3e(0x61e)](_0x48bc3e(0x52b)),_0x28a72d['classList'][_0x48bc3e(0xbf3)](_0x48bc3e(0x52b)),_0x388205[_0x48bc3e(0x860)][_0x48bc3e(0xbf3)](_0x48bc3e(0x6e9)),_0x3b2cac[_0x48bc3e(0x860)]['add'](_0x48bc3e(0x6e9));};try{const _0x44e1b6=collection(db,_0x4ce69b(0x1f0)+appId+_0x4ce69b(0x261)+currentQuizData['id']+'/submissions'),_0x1ed02a=await getDocs(_0x44e1b6),_0x5b3d43=_0x1ed02a[_0x4ce69b(0xbb3)]['map'](_0x128df5=>_0x128df5['data']());renderQuizLeaderboard(_0x5b3d43,currentQuizData,_0x4ce69b(0x7fc));const _0x24ef39=collection(db,_0x4ce69b(0x1f0)+appId+_0x4ce69b(0xa43)+currentQuizData[_0x4ce69b(0x2d6)]+_0x4ce69b(0x702)),_0xf0f9c1=await getDocs(_0x24ef39),_0x421560=_0xf0f9c1['docs'][_0x4ce69b(0x9a0)](_0x4d4851=>_0x4d4851[_0x4ce69b(0xc12)]());renderLeaderboard(_0x421560,_0x4ce69b(0x354));}catch(_0x506acd){console[_0x4ce69b(0x48f)](_0x4ce69b(0xc67),_0x506acd),showMessage(_0x4ce69b(0x4d2));}}async function handleSaveToBank(_0x219b62){const _0x1e8ae3=_0x587d0b,_0x1ab06f=_0x219b62[_0x1e8ae3(0x526)],_0x2a3eb6=_0x1ab06f[_0x1e8ae3(0x82f)]['index'],_0x273e86=currentQuizData[_0x1e8ae3(0x66b)][_0x2a3eb6];if(!userId){showMessage(_0x1e8ae3(0x997));return;}try{const _0x52c12b={..._0x273e86,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x4b315f=collection(db,_0x1e8ae3(0x1f0)+appId+'/users/'+userId+'/questionBank');await addDoc(_0x4b315f,_0x52c12b),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x1ab06f['classList']['remove']('text-purple-600'),_0x1ab06f['classList'][_0x1e8ae3(0x61e)](_0x1e8ae3(0xae8)),_0x1ab06f[_0x1e8ae3(0x35d)]=!![];}catch(_0x3756b4){console[_0x1e8ae3(0x48f)](_0x1e8ae3(0xa4e),_0x3756b4),showMessage(_0x1e8ae3(0xc8a));}}async function selectProjectAndGenerateBlueprintQuiz(_0x48c56d,_0x197723=null,_0x128e76=null,_0x489211=![]){const _0x540622=_0x587d0b;cameFromBlueprint=!![];const _0x5bd1f9=document[_0x540622(0x43c)]('bp-reference-file-url')?.[_0x540622(0x5d0)][_0x540622(0x8e7)]();let _0x1a8f79=null;if(_0x5bd1f9){showMessage(_0x540622(0x55f));try{const _0x54ec74=await fetchFileFromUrl(_0x5bd1f9,_0x540622(0x67f)),_0x9e7e68=await new Promise((_0x3f508d,_0x4c2e70)=>{const _0x47d31d=_0x540622,_0x5a81dc=new FileReader();_0x5a81dc['readAsDataURL'](_0x54ec74),_0x5a81dc[_0x47d31d(0x7c2)]=()=>_0x3f508d(_0x5a81dc[_0x47d31d(0x5e8)][_0x47d31d(0x9f8)](',')[0x1]),_0x5a81dc[_0x47d31d(0x350)]=_0x4c2e70;});_0x1a8f79=[{'inlineData':{'mimeType':_0x54ec74[_0x540622(0x866)],'data':_0x9e7e68}}],messageModal['classList']['add'](_0x540622(0x6e9));}catch(_0x4263cd){console[_0x540622(0x48f)]('Could\x20not\x20fetch\x20reference\x20file:',_0x4263cd),showMessage(_0x540622(0x3f9));}}const _0x58637a=document['getElementById'](_0x540622(0x409)),_0x56d92a=document[_0x540622(0x43c)](_0x540622(0x64f)),_0x176fe5=_0x58637a[_0x540622(0xb1b)]('h3'),_0x67cffa=document[_0x540622(0x43c)](_0x540622(0x832)),_0x21b2d9=document[_0x540622(0x43c)](_0x540622(0x607));_0x176fe5[_0x540622(0xc0d)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x67cffa[_0x540622(0xc0d)]=_0x540622(0xa38),_0x67cffa[_0x540622(0x35d)]=!![];allProjects[_0x540622(0x3ce)]===0x0?_0x56d92a[_0x540622(0x30c)]=_0x540622(0x8bf):(_0x56d92a['innerHTML']=_0x540622(0x9a3)+allProjects[_0x540622(0x9a0)](_0x393a13=>'<option\x20value=\x22'+_0x393a13['id']+'\x22>'+_0x393a13[_0x540622(0xfd)]+_0x540622(0x9e))[_0x540622(0xd9)](''),_0x67cffa[_0x540622(0x35d)]=![]);_0x58637a[_0x540622(0x860)][_0x540622(0xbf3)](_0x540622(0x6e9));const _0x15b29d=async()=>{const _0x3101da=_0x540622,_0x4d2eb0=_0x56d92a[_0x3101da(0x5d0)];if(!_0x4d2eb0){showMessage(_0x3101da(0x53b));return;}_0x58637a[_0x3101da(0x860)][_0x3101da(0x61e)](_0x3101da(0x6e9)),document['getElementById'](_0x3101da(0x7bd))[_0x3101da(0x860)][_0x3101da(0x61e)]('hidden'),await loadProjectDetails(_0x4d2eb0),showView(_0x3101da(0xaf7)),handleGenerateQuizFromBlueprintTopic(_0x48c56d,_0x197723,_0x4d2eb0,_0x128e76,_0x489211,_0x1a8f79),_0x128cb7();},_0x128cb7=()=>{const _0x1cb3f5=_0x540622;_0x176fe5[_0x1cb3f5(0xc0d)]=_0x1cb3f5(0xa1f),_0x67cffa[_0x1cb3f5(0xc0d)]=_0x1cb3f5(0x750),_0x67cffa[_0x1cb3f5(0x2b9)]('click',_0x15b29d),_0x21b2d9[_0x1cb3f5(0x2b9)]('click',_0x128cb7),_0x67cffa[_0x1cb3f5(0x5e1)](_0x1cb3f5(0xbf8),confirmMoveQuiz);};_0x67cffa[_0x540622(0x2b9)](_0x540622(0xbf8),confirmMoveQuiz),_0x67cffa[_0x540622(0x5e1)](_0x540622(0xbf8),_0x15b29d),_0x21b2d9['addEventListener']('click',_0x128cb7);}function listenForStarredQuizzes(){const _0xdd301c=_0x587d0b;if(!userId)return;const _0xc9c203=collection(db,_0xdd301c(0x1f0)+appId+_0xdd301c(0x92d)),_0x469d3f=query(_0xc9c203,where(_0xdd301c(0xbde),'==',!![]));onSnapshot(_0x469d3f,_0x43067a=>{const _0x3c4dc5=_0xdd301c;starredQuizzes=_0x43067a[_0x3c4dc5(0xbb3)][_0x3c4dc5(0x9a0)](_0x28da8d=>({'id':_0x28da8d['id'],..._0x28da8d[_0x3c4dc5(0xc12)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x2c401e=>{const _0x4bbd7c=_0xdd301c;console[_0x4bbd7c(0x48f)](_0x4bbd7c(0xae6),_0x2c401e);});}function listenForFileShortcuts(){const _0x19bcaa=_0x587d0b,_0x34c9ef=doc(db,_0x19bcaa(0x397),'fileShortcutsConfig');onSnapshot(_0x34c9ef,_0x5bf8a2=>{const _0x22bcc1=_0x19bcaa;let _0x335153=[],_0x32d64e=[],_0x42034c={};if(_0x5bf8a2[_0x22bcc1(0x2ef)]()){const _0x5d98b5=_0x5bf8a2[_0x22bcc1(0xc12)]();_0x335153=_0x5d98b5[_0x22bcc1(0x650)]||[],_0x32d64e=_0x5d98b5[_0x22bcc1(0xae7)]||[],_0x42034c=_0x5d98b5[_0x22bcc1(0x7f7)]||{};}!_0x32d64e['find'](_0x42911d=>_0x42911d['id']===_0x22bcc1(0xafb))&&_0x32d64e['unshift']({'id':'all','name':_0x22bcc1(0x54e),'isDefault':!![]}),!_0x335153[_0x22bcc1(0xa3a)](_0x167913=>_0x167913['id']==='file-default-1')&&_0x335153[_0x22bcc1(0x144)]({'id':'file-default-1','name':_0x22bcc1(0x7da),'url':'','isDefault':!![]}),!_0x335153[_0x22bcc1(0xa3a)](_0x1db243=>_0x1db243['id']===_0x22bcc1(0x736))&&_0x335153[_0x22bcc1(0x144)]({'id':_0x22bcc1(0x736),'name':_0x22bcc1(0x263),'url':'','isDefault':!![]}),fileShortcuts=_0x335153,fileShortcutTabs=_0x32d64e,fileShortcutOrder=_0x42034c,renderFileShortcuts(),!document[_0x22bcc1(0x43c)]('additional-file-shortcuts-modal')['classList'][_0x22bcc1(0xb57)](_0x22bcc1(0x6e9))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x71ac08=_0x587d0b,_0x513d0b=doc(db,'globalSettings',_0x71ac08(0x9be));try{await setDoc(_0x513d0b,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x24a601){console[_0x71ac08(0x48f)](_0x71ac08(0x915),_0x24a601);}}function renderAdditionalFileShortcutsModal(){const _0x1f658b=_0x587d0b,_0x48db92=document[_0x1f658b(0x43c)](_0x1f658b(0x813)),_0x15320d=document['getElementById'](_0x1f658b(0x22c));if(!_0x48db92||!_0x15320d)return;_0x48db92['innerHTML']=fileShortcutTabs[_0x1f658b(0x9a0)](_0x1c5eb6=>{const _0x5056f2=_0x1f658b,_0x33afcd=_0x1c5eb6['id']===activeFileShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x1c5eb6['id']+_0x5056f2(0x696)+(_0x33afcd?'border-indigo-500\x20text-indigo-600':_0x5056f2(0x4e2))+_0x5056f2(0x4de)+_0x1c5eb6[_0x5056f2(0x683)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x1c5eb6[_0x5056f2(0x683)]+_0x5056f2(0x1fd)+(!_0x1c5eb6[_0x5056f2(0x68d)]?'<button\x20data-tab-id=\x22'+_0x1c5eb6['id']+'\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x5056f2(0x7fd);})['join']('');const _0x1ce744=fileShortcutTabs['find'](_0x15d298=>_0x15d298['id']===activeFileShortcutTabId);let _0x4e9ec8=_0x1ce744?.[_0x1f658b(0x68d)]?[...fileShortcuts]:fileShortcuts[_0x1f658b(0x35c)](_0x18811c=>(_0x1ce744?.[_0x1f658b(0x6f3)]||[])[_0x1f658b(0x69d)](_0x18811c['id']));const _0x51cbd0=fileShortcutOrder[activeFileShortcutTabId]||[];_0x4e9ec8[_0x1f658b(0x34f)]((_0xdc34d,_0x539ad8)=>{const _0x5cefeb=_0x1f658b,_0x1b37b2=_0x51cbd0[_0x5cefeb(0xc09)](_0xdc34d['id']),_0x20452f=_0x51cbd0['indexOf'](_0x539ad8['id']);return(_0x1b37b2===-0x1?Infinity:_0x1b37b2)-(_0x20452f===-0x1?Infinity:_0x20452f);}),_0x15320d[_0x1f658b(0x30c)]=_0x4e9ec8[_0x1f658b(0x9a0)](_0x422b75=>{const _0x2740a4=_0x1f658b,_0x567897=_0x422b75[_0x2740a4(0x1dc)]?'📄':'🔗',_0x1cb449=fileShortcutTabs[_0x2740a4(0x35c)](_0x35219b=>!_0x35219b[_0x2740a4(0x68d)]),_0x4e734d=_0x1ce744[_0x2740a4(0x68d)]&&_0x1cb449[_0x2740a4(0x3ce)]>0x0?_0x2740a4(0xb5f)+_0x1cb449[_0x2740a4(0x9a0)](_0x458b65=>_0x2740a4(0x2b2)+_0x422b75['id']+_0x2740a4(0xa4)+_0x458b65['id']+'\x22>'+_0x458b65[_0x2740a4(0x683)]+_0x2740a4(0x2d8))[_0x2740a4(0xd9)]('')+_0x2740a4(0x49a):'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x422b75['id']+_0x2740a4(0x183)+_0x567897+'\x20'+_0x422b75[_0x2740a4(0x683)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x422b75['id']+_0x2740a4(0xa3b)+_0x422b75['id']+_0x2740a4(0x7a1)+(!_0x422b75[_0x2740a4(0x68d)]?_0x2740a4(0xb2e)+_0x422b75['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x2740a4(0x1b0)+(!_0x1ce744['isDefault']?'<button\x20data-shortcut-id=\x22'+_0x422b75['id']+_0x2740a4(0x2c5):'')+_0x2740a4(0x1b0)+_0x4e734d+_0x2740a4(0xba8);})[_0x1f658b(0xd9)]('')||_0x1f658b(0x83d),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x49f1b4=_0x587d0b;document[_0x49f1b4(0xa6e)](_0x49f1b4(0x7cc))[_0x49f1b4(0x27f)](_0x469711=>{const _0x1607ef=_0x49f1b4;_0x469711['onclick']=_0x4a5679=>{const _0x4bbc0f=_0x341e;activeFileShortcutTabId=_0x4a5679[_0x4bbc0f(0x526)][_0x4bbc0f(0x82f)]['tabId'],renderAdditionalFileShortcutsModal();},_0x469711[_0x1607ef(0x366)]=_0x6e1d78=>{const _0x443e24=_0x1607ef,_0x46ac81=_0x6e1d78['currentTarget']['querySelector'](_0x443e24(0x38f));_0x6e1d78[_0x443e24(0x526)][_0x443e24(0xb1b)](_0x443e24(0x7e1))[_0x443e24(0x860)]['add'](_0x443e24(0x6e9)),_0x46ac81['classList'][_0x443e24(0xbf3)]('hidden'),_0x46ac81[_0x443e24(0x345)](),_0x46ac81[_0x443e24(0xc31)]();};}),document[_0x49f1b4(0xa6e)](_0x49f1b4(0x4b0))[_0x49f1b4(0x27f)](_0x5e48c1=>{const _0xf5f237=()=>{const _0x3f911f=_0x341e,_0x5ce315=_0x5e48c1[_0x3f911f(0x3e4)](_0x3f911f(0x7cc))[_0x3f911f(0x82f)]['tabId'],_0x16a58b=fileShortcutTabs[_0x3f911f(0xa3a)](_0x140a81=>_0x140a81['id']===_0x5ce315);_0x16a58b&&(_0x16a58b[_0x3f911f(0x683)]=_0x5e48c1[_0x3f911f(0x5d0)]['trim']()||_0x16a58b['name'],saveFileShortcutConfig());};_0x5e48c1['onblur']=_0xf5f237,_0x5e48c1['onkeydown']=_0x3693eb=>{const _0x138329=_0x341e;if(_0x3693eb[_0x138329(0xad5)]==='Enter')_0x5e48c1['blur']();};}),document[_0x49f1b4(0xa6e)]('.delete-file-shortcut-tab-btn')['forEach'](_0x3aaad8=>_0x3aaad8[_0x49f1b4(0xb31)]=_0x251ac2=>{const _0x59d9d1=_0x49f1b4,_0x2d9724=_0x251ac2['currentTarget'][_0x59d9d1(0x82f)][_0x59d9d1(0x6e1)];showConfirmation(_0x59d9d1(0x1f1),()=>{const _0x51563f=_0x59d9d1;fileShortcutTabs=fileShortcutTabs['filter'](_0x5426b1=>_0x5426b1['id']!==_0x2d9724),delete fileShortcutOrder[_0x2d9724];if(activeFileShortcutTabId===_0x2d9724)activeFileShortcutTabId=_0x51563f(0xafb);saveFileShortcutConfig();});}),document['querySelectorAll'](_0x49f1b4(0x829))['forEach'](_0x316033=>_0x316033[_0x49f1b4(0xb31)]=_0x1d59fc=>{const _0x41944d=_0x49f1b4;_0x1d59fc['preventDefault']();const {shortcutId:_0x53cb7e,targetTabId:_0x2bb5a1}=_0x1d59fc[_0x41944d(0x526)]['dataset'],_0x114348=fileShortcutTabs[_0x41944d(0xa3a)](_0x5e499c=>_0x5e499c['id']===_0x2bb5a1);_0x114348&&!_0x114348[_0x41944d(0x6f3)][_0x41944d(0x69d)](_0x53cb7e)&&(_0x114348[_0x41944d(0x6f3)][_0x41944d(0x211)](_0x53cb7e),saveFileShortcutConfig());}),document['querySelectorAll'](_0x49f1b4(0x8dd))[_0x49f1b4(0x27f)](_0x2ce8c1=>_0x2ce8c1[_0x49f1b4(0xb31)]=_0x10a1f4=>{const _0x2cc4e0=_0x49f1b4,_0x227389=_0x10a1f4[_0x2cc4e0(0x526)][_0x2cc4e0(0x82f)][_0x2cc4e0(0xbda)],_0x1b74a4=fileShortcutTabs[_0x2cc4e0(0xa3a)](_0x5afbb3=>_0x5afbb3['id']===activeFileShortcutTabId);_0x1b74a4&&!_0x1b74a4['isDefault']&&(_0x1b74a4[_0x2cc4e0(0x6f3)]=_0x1b74a4[_0x2cc4e0(0x6f3)]['filter'](_0x1accbd=>_0x1accbd!==_0x227389),saveFileShortcutConfig());}),document[_0x49f1b4(0xa6e)](_0x49f1b4(0xfc))['forEach'](_0x28b911=>_0x28b911[_0x49f1b4(0xb31)]=_0x27f366=>{const _0x3cb6d9=_0x49f1b4;_0x27f366[_0x3cb6d9(0x9c0)]();const _0x1dea2c=_0x27f366[_0x3cb6d9(0x526)][_0x3cb6d9(0xa29)];document[_0x3cb6d9(0xa6e)](_0x3cb6d9(0xabd))[_0x3cb6d9(0x27f)](_0x81642a=>_0x81642a[_0x3cb6d9(0x860)][_0x3cb6d9(0x61e)](_0x3cb6d9(0x6e9))),_0x1dea2c['classList'][_0x3cb6d9(0xbf3)](_0x3cb6d9(0x6e9));});const _0x57e491=document[_0x49f1b4(0x43c)](_0x49f1b4(0x22c));let _0xf012b7=null;_0x57e491[_0x49f1b4(0x10a)]=_0x41330f=>{const _0x29a527=_0x49f1b4;_0xf012b7=_0x41330f['target'][_0x29a527(0x3e4)](_0x29a527(0x885));if(_0xf012b7)setTimeout(()=>_0xf012b7[_0x29a527(0x860)][_0x29a527(0x61e)](_0x29a527(0x18a)),0x0);},_0x57e491[_0x49f1b4(0x201)]=()=>{const _0x1745fe=_0x49f1b4;_0xf012b7&&(_0xf012b7[_0x1745fe(0x860)][_0x1745fe(0xbf3)]('opacity-50'),_0xf012b7=null);},_0x57e491['ondragover']=_0x338037=>{const _0x475fdc=_0x49f1b4;_0x338037[_0x475fdc(0x421)]();},_0x57e491[_0x49f1b4(0x649)]=_0x521182=>{const _0x1b3252=_0x49f1b4;_0x521182[_0x1b3252(0x421)]();if(_0xf012b7){const _0x5e005c=[..._0x57e491['querySelectorAll'](_0x1b3252(0x7d2))][_0x1b3252(0x80e)]((_0x6c889e,_0x2740f8)=>{const _0x23c44e=_0x1b3252,_0xf6ab0b=_0x2740f8['getBoundingClientRect'](),_0x2b5275=_0x521182[_0x23c44e(0x6f1)]-_0xf6ab0b[_0x23c44e(0x3f6)]-_0xf6ab0b[_0x23c44e(0x53f)]/0x2;return _0x2b5275<0x0&&_0x2b5275>_0x6c889e[_0x23c44e(0x194)]?{'offset':_0x2b5275,'element':_0x2740f8}:_0x6c889e;},{'offset':Number[_0x1b3252(0x599)]})[_0x1b3252(0x38a)];_0x5e005c==null?_0x57e491[_0x1b3252(0x47c)](_0xf012b7):_0x57e491[_0x1b3252(0x903)](_0xf012b7,_0x5e005c);const _0x2fc4b8=[..._0x57e491[_0x1b3252(0xa6e)](_0x1b3252(0x885))][_0x1b3252(0x9a0)](_0x29549a=>_0x29549a['dataset'][_0x1b3252(0xbda)]);fileShortcutOrder[activeFileShortcutTabId]=_0x2fc4b8,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0xb34eac=_0x587d0b,_0xee0a24=prompt(_0xb34eac(0x62e),_0xb34eac(0x605));_0xee0a24&&_0xee0a24[_0xb34eac(0x8e7)]()&&(fileShortcutTabs['push']({'id':'tab_'+Date['now'](),'name':_0xee0a24[_0xb34eac(0x8e7)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x3d785f=_0x587d0b,_0x115c5f=document[_0x3d785f(0x43c)](_0x3d785f(0xc3b)),_0x22e23d=document[_0x3d785f(0x43c)](_0x3d785f(0x22c)),_0x4fb9c9=document[_0x3d785f(0x43c)]('file-shortcuts-loading-msg');if(_0x4fb9c9)_0x4fb9c9['classList'][_0x3d785f(0x61e)](_0x3d785f(0x6e9));if(!_0x115c5f||!_0x22e23d)return;const _0xaba929=fileShortcuts[_0x3d785f(0x264)](0x0,0x4),_0x72cf88=fileShortcuts[_0x3d785f(0x264)](0x4);_0x115c5f[_0x3d785f(0x30c)]=_0xaba929[_0x3d785f(0x9a0)](_0x593caf=>{const _0x176069=_0x3d785f,_0x1a6bd8=_0x593caf[_0x176069(0x1dc)]&&_0x593caf[_0x176069(0x1dc)][_0x176069(0x8e7)]()!=='',_0x41e119=selectedFile&&selectedFile['shortcutId']===_0x593caf['id'];let _0x2dc0f8='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x389aa0='🔗';if(_0x41e119)_0x2dc0f8=_0x176069(0x13a),_0x389aa0=_0x176069(0x2d3);else _0x1a6bd8&&(_0x2dc0f8='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x389aa0='📄');const _0x58f6c3=!_0x593caf[_0x176069(0x68d)]?_0x176069(0xb2e)+_0x593caf['id']+_0x176069(0x6d1):'';return _0x176069(0x408)+_0x593caf['id']+_0x176069(0x95b)+_0x2dc0f8+_0x176069(0x514)+_0x389aa0+_0x176069(0xab2)+_0x593caf[_0x176069(0x683)]+_0x176069(0x75f)+_0x593caf['id']+'\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58f6c3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3d785f(0xd9)](''),_0x72cf88[_0x3d785f(0x3ce)]>0x0&&(_0x115c5f['innerHTML']+=_0x3d785f(0x1b9)),_0x72cf88[_0x3d785f(0x3ce)]>0x0?_0x22e23d['innerHTML']=_0x72cf88[_0x3d785f(0x9a0)](_0x358eec=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+(_0x358eec[_0x3d785f(0x1dc)]?'📄':'🔗')+'\x20'+_0x358eec[_0x3d785f(0x683)]+_0x3d785f(0x374)+_0x358eec['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x358eec['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x358eec[_0x3d785f(0x68d)]?_0x3d785f(0xb2e)+_0x358eec['id']+_0x3d785f(0x5a0):'')+_0x3d785f(0xaaf))['join'](''):_0x22e23d[_0x3d785f(0x30c)]=_0x3d785f(0x92b);}function openFileShortcutEditor(_0x1b647e=null){const _0x504cc0=_0x587d0b,_0x23edab=document[_0x504cc0(0x43c)]('file-shortcut-editor-modal'),_0x325ad4=document[_0x504cc0(0x43c)](_0x504cc0(0xc6d)),_0x45b40c=document[_0x504cc0(0x43c)](_0x504cc0(0x8a)),_0x59a40d=document[_0x504cc0(0x43c)]('file-shortcut-name-input'),_0x2a6ce7=document[_0x504cc0(0x43c)](_0x504cc0(0x9bc));if(_0x1b647e){const _0x286151=fileShortcuts['find'](_0x53ebc4=>_0x53ebc4['id']===_0x1b647e);if(!_0x286151)return;_0x325ad4[_0x504cc0(0xc0d)]=_0x504cc0(0x741),_0x45b40c['value']=_0x286151['id'],_0x59a40d[_0x504cc0(0x5d0)]=_0x286151[_0x504cc0(0x683)],_0x2a6ce7[_0x504cc0(0x5d0)]=_0x286151[_0x504cc0(0x1dc)]||'';}else _0x325ad4['textContent']=_0x504cc0(0x667),_0x45b40c[_0x504cc0(0x5d0)]='',_0x59a40d[_0x504cc0(0x5d0)]='',_0x2a6ce7[_0x504cc0(0x5d0)]='';_0x23edab['classList'][_0x504cc0(0xbf3)](_0x504cc0(0x6e9));}async function saveFileShortcutChanges(){const _0x259448=_0x587d0b,_0x154ff5=document[_0x259448(0x43c)]('file-shortcut-id-input')[_0x259448(0x5d0)],_0x5cd243=document['getElementById'](_0x259448(0x88b))['value'][_0x259448(0x8e7)](),_0x31c9a9=document['getElementById'](_0x259448(0x9bc))['value'][_0x259448(0x8e7)]();if(!_0x5cd243){showMessage(_0x259448(0x120));return;}const _0x45222f={'id':_0x154ff5||_0x259448(0xa7b)+Date['now'](),'name':_0x5cd243,'url':_0x31c9a9,'isDefault':_0x154ff5[_0x259448(0x718)]('file-default-')};let _0x1b21e8;_0x154ff5?_0x1b21e8=fileShortcuts[_0x259448(0x9a0)](_0x24b87c=>_0x24b87c['id']===_0x154ff5?_0x45222f:_0x24b87c):_0x1b21e8=[...fileShortcuts,_0x45222f];try{const _0x50a5cc=doc(db,_0x259448(0x397),'fileShortcutsConfig');await setDoc(_0x50a5cc,{'shortcuts':_0x1b21e8},{'merge':!![]}),document['getElementById'](_0x259448(0x6f0))[_0x259448(0x860)][_0x259448(0x61e)](_0x259448(0x6e9));}catch(_0x2bce96){console[_0x259448(0x48f)](_0x259448(0x779),_0x2bce96),showMessage(_0x259448(0xc8a));}}async function handleFileShortcutClick(_0x2772ab){const _0x264d38=_0x587d0b,_0x32421b=fileShortcuts[_0x264d38(0xa3a)](_0xba78b5=>_0xba78b5['id']===_0x2772ab);if(!_0x32421b)return;if(!_0x32421b[_0x264d38(0x1dc)]||_0x32421b[_0x264d38(0x1dc)][_0x264d38(0x8e7)]()===''){openFileShortcutEditor(_0x2772ab);return;}const _0x399e06=document[_0x264d38(0xb1b)](_0x264d38(0x6b0)+_0x2772ab+'\x22]');if(_0x399e06){const _0x1f9461=_0x399e06[_0x264d38(0x30c)];_0x399e06[_0x264d38(0x30c)]=_0x264d38(0xc53),_0x399e06['disabled']=!![];}document[_0x264d38(0xa6e)]('.file-shortcut-btn')[_0x264d38(0x27f)](_0x15d360=>{const _0x1a0585=_0x264d38;if(_0x15d360['dataset']['id']!==_0x2772ab)_0x15d360['classList'][_0x1a0585(0x61e)](_0x1a0585(0x18a),_0x1a0585(0xef));});try{const _0xc8d44d=new URL(_0x32421b[_0x264d38(0x1dc)])[_0x264d38(0x324)],_0x145944=_0xc8d44d[_0x264d38(0xa57)](_0xc8d44d[_0x264d38(0x219)]('/')+0x1)||(_0x32421b[_0x264d38(0x1dc)][_0x264d38(0x69d)](_0x264d38(0xb2c))?_0x264d38(0x75e):_0x264d38(0x5d3)),_0x5bec62=await fetchFileFromUrl(_0x32421b[_0x264d38(0x1dc)],_0x145944);_0x5bec62[_0x264d38(0xbda)]=_0x2772ab,selectedFile=_0x5bec62,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x264d38(0x43c)](_0x264d38(0x3b4))['scrollIntoView']({'behavior':_0x264d38(0x7ff),'block':'center'});}catch(_0x413b35){console[_0x264d38(0x48f)](_0x264d38(0x1a8),_0x413b35),showMessage(_0x264d38(0x8f7)+_0x413b35[_0x264d38(0x2f6)]),renderFileShortcuts();}finally{document[_0x264d38(0xa6e)](_0x264d38(0xc5))['forEach'](_0x1e08f9=>{const _0x28cd4c=_0x264d38;_0x1e08f9[_0x28cd4c(0x860)][_0x28cd4c(0xbf3)](_0x28cd4c(0x18a),_0x28cd4c(0xef)),_0x1e08f9['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x32db4f=_0x587d0b;if(allQuizzesGlobal[_0x32db4f(0x3ce)]>0x0)return;console[_0x32db4f(0x564)](_0x32db4f(0x572)),showMessage('กำลังโหลดคลังข้อสอบทั้งหมด...');try{const _0x3dcce3=await getDocs(collection(db,'artifacts/'+appId+_0x32db4f(0x92d)));allQuizzesGlobal=_0x3dcce3['docs'][_0x32db4f(0x9a0)](_0x1b29a9=>({'id':_0x1b29a9['id'],..._0x1b29a9[_0x32db4f(0xc12)]()})),console['log']('Loaded\x20'+allQuizzesGlobal['length']+_0x32db4f(0x39d)),messageModal[_0x32db4f(0x860)][_0x32db4f(0x61e)](_0x32db4f(0x6e9));}catch(_0x4e735f){console[_0x32db4f(0x48f)](_0x32db4f(0x9aa),_0x4e735f),messageModal[_0x32db4f(0x860)][_0x32db4f(0x61e)]('hidden');throw new Error(_0x32db4f(0x8fe));}}function exportQuizAsWorksheetPDF(){const _0x3df6f4=_0x587d0b;if(!currentQuizData||!currentQuizData[_0x3df6f4(0x66b)]){showMessage(_0x3df6f4(0x6c9));return;}const _0x27e56d=currentQuizData,_0x3b5e1c=window[_0x3df6f4(0x499)]('',_0x3df6f4(0x5c0)),_0x1b84eb=_0x2171d8=>String[_0x3df6f4(0x1c8)](0x41+_0x2171d8),_0xf42b54=_0x3df6f4(0x556)+_0x27e56d['topic']+_0x3df6f4(0x3be)+_0x27e56d[_0x3df6f4(0x53e)]+_0x3df6f4(0x435)+_0x27e56d[_0x3df6f4(0x66b)][_0x3df6f4(0x9a0)]((_0x2b9a7d,_0x41951d)=>{const _0x4f472f=_0x3df6f4;let _0x3908e3='';const _0x1c2eca=_0x2b9a7d[_0x4f472f(0x8af)]||_0x27e56d[_0x4f472f(0x86d)];switch(_0x1c2eca){case _0x4f472f(0x51f):case _0x4f472f(0xb8b):_0x3908e3=_0x4f472f(0xb78)+_0x2b9a7d[_0x4f472f(0x4b2)][_0x4f472f(0x9a0)]((_0x1db0ad,_0x13dae1)=>_0x4f472f(0x61b)+_0x1b84eb(_0x13dae1)+'.\x20'+_0x1db0ad+_0x4f472f(0xadf))[_0x4f472f(0xd9)](_0x4f472f(0x631))+_0x4f472f(0xc94);break;case _0x4f472f(0x907):_0x3908e3=_0x4f472f(0x46c);break;default:_0x3908e3='<div\x20class=\x22answer-space\x22></div>';break;}return _0x4f472f(0x147)+(_0x41951d+0x1)+_0x4f472f(0x7f3)+(_0x2b9a7d['stem']||_0x2b9a7d['questionText'])+_0x4f472f(0x2e1)+(_0x2b9a7d[_0x4f472f(0xb6d)]?'<div\x20class=\x22my-2\x22>'+_0x2b9a7d['imageCode']+'</div>':'')+_0x4f472f(0xa00)+_0x3908e3+_0x4f472f(0x3d5);})[_0x3df6f4(0xd9)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x3b5e1c[_0x3df6f4(0x2e7)][_0x3df6f4(0x642)](_0xf42b54),_0x3b5e1c['document'][_0x3df6f4(0x653)](),_0x3b5e1c[_0x3df6f4(0x7c2)]=function(){setTimeout(()=>{const _0x1bb54d=_0x341e;_0x3b5e1c[_0x1bb54d(0xa6)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0xb1e455=_0x587d0b;if(!currentQuizData||!currentQuizData[_0xb1e455(0x66b)]){showMessage(_0xb1e455(0x6c9));return;}const _0x2298d2=currentQuizData,_0x577af3=window[_0xb1e455(0x499)]('',_0xb1e455(0x5c0)),_0x8b5d03=_0x25e6b4=>String[_0xb1e455(0x1c8)](0x41+_0x25e6b4),_0x4c99b8=_0xb1e455(0x1e9)+_0x2298d2[_0xb1e455(0x53e)]+_0xb1e455(0xc54)+_0x2298d2[_0xb1e455(0x66b)]['map']((_0x18d7a4,_0x1e6e6f)=>{const _0x3101bf=_0xb1e455;let _0x52ded1='';const _0x55e66c=_0x18d7a4[_0x3101bf(0x8af)]||_0x2298d2[_0x3101bf(0x86d)];switch(_0x55e66c){case _0x3101bf(0x51f):case _0x3101bf(0xb8b):_0x52ded1='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x18d7a4['options']['map']((_0x3be828,_0x3f4f11)=>_0x3101bf(0x4ee)+_0x8b5d03(_0x3f4f11)+'.\x20'+_0x3be828+_0x3101bf(0x99a))[_0x3101bf(0xd9)](_0x3101bf(0x631))+_0x3101bf(0x7c9);break;case _0x3101bf(0x907):_0x52ded1=_0x3101bf(0x31e);break;default:_0x52ded1='';break;}return _0x3101bf(0x235)+_0x2298d2['topic']+_0x3101bf(0x75a)+(_0x1e6e6f+0x1)+_0x3101bf(0x203)+(_0x18d7a4[_0x3101bf(0x2f0)]||_0x18d7a4[_0x3101bf(0xb89)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x18d7a4[_0x3101bf(0xb6d)]?_0x3101bf(0xb35)+_0x18d7a4[_0x3101bf(0xb6d)]+_0x3101bf(0xc94):'')+_0x3101bf(0xa00)+_0x52ded1+_0x3101bf(0x1da);})[_0xb1e455(0xd9)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x577af3['document'][_0xb1e455(0x642)](_0x4c99b8),_0x577af3['document']['close'](),_0x577af3[_0xb1e455(0x7c2)]=function(){setTimeout(()=>{const _0x122cda=_0x341e;_0x577af3[_0x122cda(0xa6)]();},0x5dc);};}async function handleToggleStarQuiz(_0xdf4698){const _0x4b38c6=_0x587d0b,_0x3eb296=doc(db,_0x4b38c6(0x1f0)+appId+'/public/data/quizzes',_0xdf4698);try{const _0x13ba3d=await getDoc(_0x3eb296);if(_0x13ba3d[_0x4b38c6(0x2ef)]()){const _0x17e4fe=_0x13ba3d[_0x4b38c6(0xc12)]()[_0x4b38c6(0xbde)]||![];await updateDoc(_0x3eb296,{'isStarred':!_0x17e4fe});}}catch(_0x10969c){console[_0x4b38c6(0x48f)](_0x4b38c6(0x899),_0x10969c),showMessage(_0x4b38c6(0x9de));}}async function displayQuestionBank(){const _0x3066ed=_0x587d0b,_0x12a4ad=document[_0x3066ed(0x43c)](_0x3066ed(0x484));_0x12a4ad['innerHTML']=_0x3066ed(0x713);try{const _0x36da63=collection(db,_0x3066ed(0x1f0)+appId+_0x3066ed(0x608)+userId+_0x3066ed(0xbdb)),_0x46c152=query(_0x36da63),_0x1a2204=await getDocs(_0x46c152);if(_0x1a2204[_0x3066ed(0x9d)]){_0x12a4ad[_0x3066ed(0x30c)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x5c2972=_0x1a2204[_0x3066ed(0xbb3)][_0x3066ed(0x9a0)](_0x5a48bc=>{const _0x39bb65=_0x3066ed,_0x26b9aa=_0x5a48bc[_0x39bb65(0xc12)](),_0x3a54cd=_0x5a48bc['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x39bb65(0x616)](_0x26b9aa)+_0x39bb65(0xbe5)+(_0x26b9aa['questionText']||_0x26b9aa[_0x39bb65(0x2f0)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x26b9aa[_0x39bb65(0x3c9)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3066ed(0xd9)]('');_0x12a4ad[_0x3066ed(0x30c)]=_0x3066ed(0x72c)+_0x5c2972+_0x3066ed(0xf7),document['getElementById'](_0x3066ed(0xc2b))[_0x3066ed(0x5e1)]('click',createQuizFromBank);}catch(_0x4cc4be){console[_0x3066ed(0x48f)](_0x3066ed(0x10c),_0x4cc4be),_0x12a4ad[_0x3066ed(0x30c)]=_0x3066ed(0x932);}}async function handleExportLessonToPDF(){const _0x47b243=_0x587d0b,_0x5e4698=document['getElementById'](_0x47b243(0x440)),_0x1b6b1c=document[_0x47b243(0x43c)](_0x47b243(0xa7f))[_0x47b243(0xc0d)]||_0x47b243(0x680);if(!_0x5e4698){showMessage(_0x47b243(0x8ea));return;}const _0x523a20=window[_0x47b243(0x499)]('',_0x47b243(0x5c0)),_0x4d794c=_0x47b243(0x783)+_0x1b6b1c+_0x47b243(0xc0a)+_0x1b6b1c+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e4698[_0x47b243(0x30c)]+_0x47b243(0x13f);_0x523a20['document']['write'](_0x4d794c),_0x523a20[_0x47b243(0x2e7)]['close'](),_0x523a20[_0x47b243(0x7c2)]=function(){setTimeout(()=>{const _0x11d0fc=_0x341e;_0x523a20[_0x11d0fc(0xa6)]();},0x7d0);};}function showAdminLiveQuestionView(_0x19481b,_0x5080fa,_0x495edf){const _0x4baa9d=_0x587d0b,_0x2d96a4=_0x19481b['questionType']||currentQuizData[_0x4baa9d(0x86d)];let _0x11c3b1='';if(_0x2d96a4===_0x4baa9d(0x51f)||_0x2d96a4===_0x4baa9d(0x907)){const _0xdf7313=_0x2d96a4===_0x4baa9d(0x907)?[_0x4baa9d(0x79c),'ไม่ใช่']:_0x19481b[_0x4baa9d(0x4b2)],_0x5d21d1=_0x2d96a4===_0x4baa9d(0x907)?_0x19481b['correctAnswer']?0x0:0x1:_0x19481b['correctAnswerIndex'];_0x11c3b1=_0xdf7313[_0x4baa9d(0x9a0)]((_0x472ffd,_0x44263a)=>_0x4baa9d(0x473)+(_0x44263a===_0x5d21d1)+_0x4baa9d(0x7f)+_0x472ffd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4baa9d(0xd9)]('');}else{if(_0x2d96a4===_0x4baa9d(0xf5)){const _0x86c122=_0x19481b[_0x4baa9d(0x4f0)]||[];_0x11c3b1=_0x86c122[_0x4baa9d(0x9a0)](_0xc42ca0=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0xc42ca0===_0x19481b['correctResponse'])+_0x4baa9d(0x7f)+_0xc42ca0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}}const _0x5e9f60=_0x19481b['stem']||_0x19481b[_0x4baa9d(0xb89)],_0x2b3e7a=_0x4baa9d(0x2eb)+(_0x5080fa+0x1)+'\x20/\x20'+_0x495edf+_0x4baa9d(0x9a5)+currentLiveGamePin+_0x4baa9d(0x774)+_0x5e9f60+_0x4baa9d(0x9ca)+_0x11c3b1+_0x4baa9d(0x728);liveGameView['innerHTML']=_0x2b3e7a,window[_0x4baa9d(0xaf8)]&&MathJax[_0x4baa9d(0x5ad)]&&MathJax[_0x4baa9d(0x5ad)]([liveGameView]),document[_0x4baa9d(0x43c)](_0x4baa9d(0x531))[_0x4baa9d(0x5e1)](_0x4baa9d(0xbf8),()=>revealAnswerForAdmin(_0x5080fa,_0x495edf)),document[_0x4baa9d(0x43c)](_0x4baa9d(0x712))[_0x4baa9d(0x5e1)](_0x4baa9d(0xbf8),async()=>{const _0x7efee5=_0x4baa9d;showConfirmation(_0x7efee5(0xc8b),async()=>{const _0x4a57d4=_0x7efee5,_0x2a6c03=doc(db,_0x4a57d4(0x1f0)+appId+_0x4a57d4(0x618),currentLiveGameId);await updateDoc(_0x2a6c03,{'status':_0x4a57d4(0xb00)});});}),document['getElementById'](_0x4baa9d(0x6e8))[_0x4baa9d(0x5e1)]('click',()=>{const _0x3468bc=_0x4baa9d;document['getElementById'](_0x3468bc(0x62b))[_0x3468bc(0x860)][_0x3468bc(0x749)]('hidden');});}function promptForProjectBeforeGenerating(_0x4903d0){const _0x25ef88=_0x587d0b,_0x3c7a8f=document[_0x25ef88(0x43c)]('move-quiz-modal'),_0x113793=document[_0x25ef88(0x43c)]('move-quiz-project-select'),_0x17d82d=_0x3c7a8f['querySelector']('h3'),_0x7b7d8a=document[_0x25ef88(0x43c)]('confirm-move-quiz-btn'),_0xaf810f=document['getElementById'](_0x25ef88(0x607));_0x17d82d[_0x25ef88(0xc0d)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x7b7d8a[_0x25ef88(0xc0d)]='เลือกและเริ่มสร้าง',_0x7b7d8a['disabled']=!![];allProjects[_0x25ef88(0x3ce)]===0x0?_0x113793['innerHTML']=_0x25ef88(0x8bf):(_0x113793[_0x25ef88(0x30c)]=_0x25ef88(0x9a3)+allProjects[_0x25ef88(0x9a0)](_0x2028ed=>_0x25ef88(0x244)+_0x2028ed['id']+'\x22>'+_0x2028ed[_0x25ef88(0xfd)]+_0x25ef88(0x9e))[_0x25ef88(0xd9)](''),_0x7b7d8a[_0x25ef88(0x35d)]=![]);_0x3c7a8f['classList'][_0x25ef88(0xbf3)](_0x25ef88(0x6e9));const _0xd8e96b=async()=>{const _0x44fd98=_0x25ef88,_0x594ef6=_0x113793['value'];if(!_0x594ef6){showMessage(_0x44fd98(0x53b));return;}_0x3c7a8f['classList'][_0x44fd98(0x61e)]('hidden'),await loadProjectDetails(_0x594ef6),showView(_0x44fd98(0xaf7)),handleGenerateQuizFromBlueprintTopic(_0x4903d0),_0x222136();},_0x222136=()=>{const _0x5cf144=_0x25ef88;_0x17d82d[_0x5cf144(0xc0d)]=_0x5cf144(0xa1f),_0x7b7d8a[_0x5cf144(0xc0d)]=_0x5cf144(0x750),_0x7b7d8a[_0x5cf144(0x2b9)](_0x5cf144(0xbf8),_0xd8e96b),_0xaf810f[_0x5cf144(0x2b9)](_0x5cf144(0xbf8),_0x222136),_0x7b7d8a['addEventListener'](_0x5cf144(0xbf8),confirmMoveQuiz);};_0x7b7d8a['removeEventListener'](_0x25ef88(0xbf8),confirmMoveQuiz),_0x7b7d8a['addEventListener']('click',_0xd8e96b),_0xaf810f['addEventListener']('click',_0x222136);}function showStudentLiveQuestionView(_0x497849,_0x4e18cf,_0x274858){const _0x505439=_0x587d0b,_0x117d11=_0x497849['questionType']||currentQuizData['quizType'];let _0x256b49='';if(_0x117d11===_0x505439(0x51f)||_0x117d11===_0x505439(0x907)){const _0x12e154=_0x117d11===_0x505439(0x907)?[_0x505439(0x79c),_0x505439(0x976)]:_0x497849['options'];_0x256b49=_0x12e154[_0x505439(0x9a0)]((_0x4818ae,_0x2d1d4f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2d1d4f+_0x505439(0x32e)+_0x4818ae+_0x505439(0x496))['join']('');}else{if(_0x117d11===_0x505439(0xf5)){const _0x2c75c7=_0x497849[_0x505439(0x4f0)]||[];_0x256b49=_0x2c75c7[_0x505439(0x9a0)]((_0x2dc63e,_0x42aad1)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x42aad1+_0x505439(0x32e)+_0x2dc63e+_0x505439(0x496))[_0x505439(0xd9)]('');}else _0x117d11==='short_answer'&&(_0x256b49=_0x505439(0x9e7));}const _0x31ec0f=_0x497849[_0x505439(0x2f0)]||_0x497849[_0x505439(0xb89)],_0x5c0900=_0x505439(0x956)+(_0x4e18cf+0x1)+_0x505439(0xbe0)+_0x274858+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x31ec0f+_0x505439(0x7be)+_0x256b49+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x505439(0x30c)]=_0x5c0900;window['MathJax']&&MathJax[_0x505439(0x5ad)]&&MathJax[_0x505439(0x5ad)]([liveGameView]);const _0x19c363=document[_0x505439(0x43c)](_0x505439(0x84a));_0x19c363&&_0x19c363[_0x505439(0x5e1)](_0x505439(0xbf8),()=>{const _0x52fa8d=_0x505439,_0x1347b5=document[_0x52fa8d(0x43c)](_0x52fa8d(0x414))['value'];handleLiveAnswer(_0x1347b5,_0x497849);}),document['getElementById'](_0x505439(0x8d8))['addEventListener'](_0x505439(0xbf8),_0x3a4f78=>{const _0x214ea2=_0x505439,_0xd0086d=_0x3a4f78[_0x214ea2(0x3b5)][_0x214ea2(0x3e4)]('.live-answer-btn');if(_0xd0086d){const _0x4d3a0b=parseInt(_0xd0086d[_0x214ea2(0x82f)]['index']);handleLiveAnswer(_0x4d3a0b,_0x497849);}});}function listenForBlueprintShortcuts(){const _0x59111d=_0x587d0b,_0x209174=doc(db,_0x59111d(0x397),_0x59111d(0x159));onSnapshot(_0x209174,_0xcc1608=>{const _0x83ffc=_0x59111d;let _0x421349=[],_0x3c122a=[],_0x171c74={};if(_0xcc1608['exists']()){const _0x3fdbfa=_0xcc1608['data']();_0x421349=_0x3fdbfa[_0x83ffc(0x404)]||[],_0x3c122a=_0x3fdbfa[_0x83ffc(0x4ae)]||[],_0x171c74=_0x3fdbfa[_0x83ffc(0x8a0)]||{};}!_0x3c122a['find'](_0x2675c3=>_0x2675c3['id']===_0x83ffc(0xafb))&&_0x3c122a[_0x83ffc(0x144)]({'id':_0x83ffc(0xafb),'name':_0x83ffc(0x744),'isDefault':!![]}),!_0x421349['find'](_0x6765b4=>_0x6765b4['id']==='default-1')&&_0x421349[_0x83ffc(0x144)]({'id':_0x83ffc(0xa5d),'name':_0x83ffc(0x99c),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x421349['find'](_0x5f11d7=>_0x5f11d7['id']==='default-2')&&_0x421349[_0x83ffc(0x144)]({'id':_0x83ffc(0xaf3),'name':_0x83ffc(0x8fb),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x421349,shortcutTabs=_0x3c122a,shortcutOrder=_0x171c74,renderBlueprintShortcuts(),!document[_0x83ffc(0x43c)](_0x83ffc(0xa24))[_0x83ffc(0x860)][_0x83ffc(0xb57)](_0x83ffc(0x6e9))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x26aa0f=_0x587d0b,_0x55a4cb=document[_0x26aa0f(0x43c)](_0x26aa0f(0x51e)),_0x36b4b9=document[_0x26aa0f(0x43c)]('additional-shortcuts-list');if(!_0x55a4cb||!_0x36b4b9)return;_0x55a4cb[_0x26aa0f(0x30c)]=shortcutTabs['map'](_0x439465=>{const _0x1cdd2b=_0x26aa0f,_0x3a9667=_0x439465['id']===activeShortcutTabId,_0xa1e3f8=_0x1cdd2b(0x521),_0xb1dd7b='border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300';return _0x1cdd2b(0x81f)+_0x439465['id']+_0x1cdd2b(0x69a)+(_0x3a9667?_0xa1e3f8:_0xb1dd7b)+_0x1cdd2b(0x6ef)+_0x439465[_0x1cdd2b(0x683)]+_0x1cdd2b(0xbc9)+_0x439465[_0x1cdd2b(0x683)]+_0x1cdd2b(0x4ec)+(!_0x439465[_0x1cdd2b(0x68d)]?_0x1cdd2b(0xc6)+_0x439465['id']+_0x1cdd2b(0x856):'')+_0x1cdd2b(0x313);})['join']('');const _0x7ff108=shortcutTabs[_0x26aa0f(0xa3a)](_0xe7e413=>_0xe7e413['id']===activeShortcutTabId);let _0x5bbc2c=[];if(_0x7ff108){if(_0x7ff108['isDefault'])_0x5bbc2c=[...blueprintShortcuts];else{const _0x2e3340=_0x7ff108[_0x26aa0f(0x6f3)]||[];_0x5bbc2c=blueprintShortcuts['filter'](_0x26f731=>_0x2e3340[_0x26aa0f(0x69d)](_0x26f731['id']));}}const _0x52c3a7=shortcutOrder[activeShortcutTabId]||[];_0x5bbc2c[_0x26aa0f(0x34f)]((_0x2da1af,_0x3644df)=>{const _0x5cdeaf=_0x26aa0f,_0x2d4387=_0x52c3a7[_0x5cdeaf(0xc09)](_0x2da1af['id']),_0x2164f3=_0x52c3a7[_0x5cdeaf(0xc09)](_0x3644df['id']);if(_0x2d4387===-0x1)return 0x1;if(_0x2164f3===-0x1)return-0x1;return _0x2d4387-_0x2164f3;}),_0x36b4b9[_0x26aa0f(0x30c)]=_0x5bbc2c[_0x26aa0f(0x3ce)]>0x0?_0x5bbc2c[_0x26aa0f(0x9a0)](_0x254f80=>{const _0x1ecfcf=_0x26aa0f;let _0x39ae1a='🧩';if(_0x254f80[_0x1ecfcf(0x7d9)]&&_0x254f80[_0x1ecfcf(0x5f5)])_0x39ae1a='📗';else{if(_0x254f80[_0x1ecfcf(0x7d9)])_0x39ae1a='📘';}const _0x42e25f=shortcutTabs['filter'](_0x2781c7=>!_0x2781c7[_0x1ecfcf(0x68d)]),_0x133728=_0x7ff108[_0x1ecfcf(0x68d)]&&_0x42e25f[_0x1ecfcf(0x3ce)]>0x0?_0x1ecfcf(0x410)+_0x42e25f[_0x1ecfcf(0x9a0)](_0x2268cf=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x254f80['id']+_0x1ecfcf(0xa4)+_0x2268cf['id']+'\x22>'+_0x2268cf['name']+_0x1ecfcf(0x4fa))['join']('')+_0x1ecfcf(0x877):'';return _0x1ecfcf(0xbf6)+_0x254f80['id']+_0x1ecfcf(0x7df)+_0x39ae1a+'\x20'+_0x254f80[_0x1ecfcf(0x683)]+_0x1ecfcf(0x695)+_0x254f80['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x254f80['id']+_0x1ecfcf(0x85f)+(!_0x254f80[_0x1ecfcf(0x68d)]?_0x1ecfcf(0xb2e)+_0x254f80['id']+_0x1ecfcf(0xc16):'')+_0x1ecfcf(0x380)+(!_0x7ff108['isDefault']?_0x1ecfcf(0x26d)+_0x254f80['id']+'\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x133728+_0x1ecfcf(0xc42);})[_0x26aa0f(0xd9)](''):_0x26aa0f(0x83d),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x2cf1da=_0x587d0b;document[_0x2cf1da(0xa6e)](_0x2cf1da(0xc18))[_0x2cf1da(0x27f)](_0x2bb304=>{const _0x2bbd91=_0x2cf1da;_0x2bb304[_0x2bbd91(0x5e1)](_0x2bbd91(0xbf8),_0x262a22=>{const _0x49a694=_0x2bbd91;activeShortcutTabId=_0x262a22[_0x49a694(0x526)]['dataset'][_0x49a694(0x6e1)],renderAdditionalShortcutsModal();}),_0x2bb304[_0x2bbd91(0x5e1)]('dblclick',_0x1d6e4e=>{const _0x175561=_0x2bbd91,_0x261fd4=_0x1d6e4e[_0x175561(0x526)];_0x261fd4['querySelector'](_0x175561(0x7e1))['classList'][_0x175561(0x61e)]('hidden');const _0x333ae3=_0x261fd4['querySelector'](_0x175561(0x38f));_0x333ae3[_0x175561(0x860)][_0x175561(0xbf3)](_0x175561(0x6e9)),_0x333ae3[_0x175561(0x345)](),_0x333ae3[_0x175561(0xc31)]();});}),document[_0x2cf1da(0xa6e)](_0x2cf1da(0x38f))[_0x2cf1da(0x27f)](_0x3b9055=>{const _0x248ca1=_0x2cf1da,_0x5d2c31=()=>{const _0x3cf833=_0x341e,_0x51f613=_0x3b9055[_0x3cf833(0x3e4)]('.shortcut-tab-btn')[_0x3cf833(0x82f)][_0x3cf833(0x6e1)];handleRenameShortcutTab(_0x51f613,_0x3b9055[_0x3cf833(0x5d0)]);};_0x3b9055[_0x248ca1(0x5e1)](_0x248ca1(0x25e),_0x5d2c31),_0x3b9055['addEventListener'](_0x248ca1(0x9e3),_0x27bea6=>{const _0xa3b8ec=_0x248ca1;if(_0x27bea6[_0xa3b8ec(0xad5)]===_0xa3b8ec(0xb6c))_0x3b9055[_0xa3b8ec(0x25e)]();});}),document['querySelectorAll'](_0x2cf1da(0x29e))[_0x2cf1da(0x27f)](_0x442e71=>{const _0x1ab2b0=_0x2cf1da;_0x442e71[_0x1ab2b0(0x5e1)]('click',_0x3b98c4=>handleDeleteShortcutTab(_0x3b98c4[_0x1ab2b0(0x526)]['dataset'][_0x1ab2b0(0x6e1)]));}),document[_0x2cf1da(0xa6e)]('.move-shortcut-item')[_0x2cf1da(0x27f)](_0x52e195=>{const _0x3b391f=_0x2cf1da;_0x52e195[_0x3b391f(0x5e1)](_0x3b391f(0xbf8),_0x1a4359=>{const _0x75968d=_0x3b391f;_0x1a4359[_0x75968d(0x421)]();const {shortcutId:_0x349a66,targetTabId:_0x5b0061}=_0x1a4359[_0x75968d(0x526)][_0x75968d(0x82f)];handleMoveShortcutToTab(_0x349a66,_0x5b0061);});}),document[_0x2cf1da(0xa6e)](_0x2cf1da(0x8d9))[_0x2cf1da(0x27f)](_0x2c3cac=>{const _0x45ad43=_0x2cf1da;_0x2c3cac['addEventListener'](_0x45ad43(0xbf8),_0x593883=>{const _0x3f7d65=_0x45ad43;handleRemoveShortcutFromTab(_0x593883[_0x3f7d65(0x526)][_0x3f7d65(0x82f)]['shortcutId'],activeShortcutTabId);});});const _0x1ae814=document['getElementById']('additional-shortcuts-list');_0x1ae814[_0x2cf1da(0xa6e)]('.use-hidden-shortcut-btn')[_0x2cf1da(0x27f)](_0x2d51af=>{const _0x43ba41=_0x2cf1da;_0x2d51af[_0x43ba41(0x5e1)](_0x43ba41(0xbf8),()=>{const _0xcba2e=_0x43ba41;document[_0xcba2e(0x43c)](_0xcba2e(0xa24))['classList'][_0xcba2e(0x61e)](_0xcba2e(0x6e9)),handleShortcutClick(_0x2d51af[_0xcba2e(0x82f)]['id']);});});let _0x19125d=null;_0x1ae814[_0x2cf1da(0x5e1)]('dragstart',_0x37fa60=>{const _0xec9bfd=_0x2cf1da;_0x19125d=_0x37fa60['target'][_0xec9bfd(0x3e4)](_0xec9bfd(0x885)),_0x19125d&&setTimeout(()=>_0x19125d[_0xec9bfd(0x860)]['add'](_0xec9bfd(0x18a)),0x0);}),_0x1ae814[_0x2cf1da(0x5e1)](_0x2cf1da(0xaff),()=>{const _0x18bec9=_0x2cf1da;_0x19125d&&(_0x19125d[_0x18bec9(0x860)]['remove'](_0x18bec9(0x18a)),_0x19125d=null);}),_0x1ae814[_0x2cf1da(0x5e1)](_0x2cf1da(0x8b3),_0x195ef9=>{const _0x56ccce=_0x2cf1da;_0x195ef9[_0x56ccce(0x421)]();const _0x1faa75=[..._0x1ae814['querySelectorAll'](_0x56ccce(0x7d2))]['reduce']((_0xfdccb9,_0x298d8e)=>{const _0x4e29fc=_0x56ccce,_0x47632a=_0x298d8e['getBoundingClientRect'](),_0x19b6f9=_0x195ef9[_0x4e29fc(0x6f1)]-_0x47632a[_0x4e29fc(0x3f6)]-_0x47632a[_0x4e29fc(0x53f)]/0x2;return _0x19b6f9<0x0&&_0x19b6f9>_0xfdccb9[_0x4e29fc(0x194)]?{'offset':_0x19b6f9,'element':_0x298d8e}:_0xfdccb9;},{'offset':Number[_0x56ccce(0x599)]})[_0x56ccce(0x38a)];_0x1faa75==null?_0x1ae814[_0x56ccce(0x47c)](_0x19125d):_0x1ae814['insertBefore'](_0x19125d,_0x1faa75);}),_0x1ae814['addEventListener'](_0x2cf1da(0x7b9),_0x1c0a86=>{const _0x2241a2=_0x2cf1da;_0x1c0a86[_0x2241a2(0x421)]();if(_0x19125d){const _0x6f2f3a=[..._0x1ae814[_0x2241a2(0xa6e)](_0x2241a2(0x885))][_0x2241a2(0x9a0)](_0x358039=>_0x358039[_0x2241a2(0x82f)][_0x2241a2(0xbda)]);handleShortcutOrderChange(activeShortcutTabId,_0x6f2f3a);}}),document[_0x2cf1da(0xa6e)](_0x2cf1da(0x4f5))[_0x2cf1da(0x27f)](_0x42f389=>{const _0x21b82e=_0x2cf1da;_0x42f389[_0x21b82e(0x5e1)]('click',_0x413390=>{const _0xd46c38=_0x21b82e;_0x413390['stopPropagation']();const _0xeecd8e=_0x413390[_0xd46c38(0x526)]['nextElementSibling'],_0x426915=_0xeecd8e[_0xd46c38(0x860)][_0xd46c38(0xb57)](_0xd46c38(0x6e9));document[_0xd46c38(0xa6e)](_0xd46c38(0xa65))[_0xd46c38(0x27f)](_0x465f26=>_0x465f26['classList'][_0xd46c38(0x61e)](_0xd46c38(0x6e9))),_0x426915&&_0xeecd8e[_0xd46c38(0x860)][_0xd46c38(0xbf3)]('hidden');});});}document[_0x587d0b(0x5e1)]('click',_0x1c038d=>{const _0x36b5f7=_0x587d0b;!_0x1c038d[_0x36b5f7(0x3b5)]['closest'](_0x36b5f7(0x222))&&document['querySelectorAll']('.move-shortcut-dropdown')[_0x36b5f7(0x27f)](_0x5dffa6=>_0x5dffa6[_0x36b5f7(0x860)][_0x36b5f7(0x61e)](_0x36b5f7(0x6e9)));});async function saveShortcutConfig(){const _0xb97365=_0x587d0b,_0x48142a=doc(db,_0xb97365(0x397),_0xb97365(0x159));try{await setDoc(_0x48142a,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x22ccb5){console[_0xb97365(0x48f)](_0xb97365(0x230),_0x22ccb5);}}async function handleAddShortcutTab(){const _0x10bd00=_0x587d0b,_0x54cbfa=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x10bd00(0x605));if(!_0x54cbfa||_0x54cbfa['trim']()==='')return;shortcutTabs[_0x10bd00(0x211)]({'id':_0x10bd00(0xa5a)+Date[_0x10bd00(0x349)](),'name':_0x54cbfa[_0x10bd00(0x8e7)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x31f6d8,_0x949ee7){const _0x3aa91d=_0x587d0b,_0x21e1d7=shortcutTabs[_0x3aa91d(0xa3a)](_0x1aca5e=>_0x1aca5e['id']===_0x31f6d8);_0x21e1d7&&_0x949ee7[_0x3aa91d(0x8e7)]()!==''&&(_0x21e1d7[_0x3aa91d(0x683)]=_0x949ee7[_0x3aa91d(0x8e7)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x5ef26e){const _0x3781b7=_0x587d0b,_0x1f143e=shortcutTabs[_0x3781b7(0xa3a)](_0x51548d=>_0x51548d['id']===_0x5ef26e);_0x1f143e&&!_0x1f143e['isDefault']&&showConfirmation(_0x3781b7(0x9b8)+_0x1f143e[_0x3781b7(0x683)]+'\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)',async()=>{const _0x1237ca=_0x3781b7;shortcutTabs=shortcutTabs[_0x1237ca(0x35c)](_0xe8ca42=>_0xe8ca42['id']!==_0x5ef26e),delete shortcutOrder[_0x5ef26e];if(activeShortcutTabId===_0x5ef26e)activeShortcutTabId=_0x1237ca(0xafb);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x52fb12,_0x2f23e7){const _0x513b58=_0x587d0b,_0x44dcad=shortcutTabs[_0x513b58(0xa3a)](_0x5291c9=>_0x5291c9['id']===_0x2f23e7);_0x44dcad&&!_0x44dcad['shortcutIds']['includes'](_0x52fb12)&&(_0x44dcad[_0x513b58(0x6f3)][_0x513b58(0x211)](_0x52fb12),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x5993a3,_0x110be4){const _0x4b49dc=_0x587d0b,_0x38240b=shortcutTabs['find'](_0x2fad90=>_0x2fad90['id']===_0x110be4);_0x38240b&&!_0x38240b[_0x4b49dc(0x68d)]&&(_0x38240b[_0x4b49dc(0x6f3)]=_0x38240b[_0x4b49dc(0x6f3)][_0x4b49dc(0x35c)](_0x23b60d=>_0x23b60d!==_0x5993a3),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x28ca5d,_0x4a581d){shortcutOrder[_0x28ca5d]=_0x4a581d,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x1bd174=_0x587d0b,_0x49928f=document[_0x1bd174(0x43c)](_0x1bd174(0x399)),_0x28e7d4=document[_0x1bd174(0x43c)](_0x1bd174(0x6e7)),_0x2d201a=document[_0x1bd174(0x43c)](_0x1bd174(0x592));_0x2d201a&&_0x2d201a[_0x1bd174(0x860)][_0x1bd174(0x61e)](_0x1bd174(0x6e9));if(!_0x49928f||!_0x28e7d4)return;const _0x4484ce=blueprintShortcuts[_0x1bd174(0x264)](0x0,0x4),_0x5c3f61=blueprintShortcuts[_0x1bd174(0x264)](0x4);_0x49928f['innerHTML']=_0x4484ce['map'](_0x330034=>{const _0x50cc04=_0x1bd174;let _0x297b71='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x1e17ad='🧩';if(_0x330034['blueprintUrl']&&_0x330034[_0x50cc04(0x5f5)])_0x297b71=_0x50cc04(0x8ee),_0x1e17ad='📗';else _0x330034[_0x50cc04(0x7d9)]&&(_0x297b71=_0x50cc04(0x961),_0x1e17ad='📘');const _0x2216c8=!_0x330034[_0x50cc04(0x68d)]?_0x50cc04(0xb2e)+_0x330034['id']+_0x50cc04(0x5e3):'';return _0x50cc04(0x408)+_0x330034['id']+_0x50cc04(0xb09)+_0x297b71+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x1e17ad+'\x20'+_0x330034[_0x50cc04(0x683)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x330034['id']+_0x50cc04(0x6ad)+_0x2216c8+_0x50cc04(0x313);})[_0x1bd174(0xd9)](''),_0x5c3f61[_0x1bd174(0x3ce)]>0x0&&(_0x49928f[_0x1bd174(0x30c)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x5c3f61[_0x1bd174(0x3ce)]>0x0?_0x28e7d4[_0x1bd174(0x30c)]=_0x5c3f61[_0x1bd174(0x9a0)](_0x4d4afb=>{const _0x508460=_0x1bd174;let _0x178db4='🧩';if(_0x4d4afb['blueprintUrl']&&_0x4d4afb['referenceUrl'])_0x178db4='📗';else _0x4d4afb['blueprintUrl']&&(_0x178db4='📘');return _0x508460(0x20d)+_0x178db4+'\x20'+_0x4d4afb[_0x508460(0x683)]+_0x508460(0x695)+_0x4d4afb['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4d4afb['id']+_0x508460(0x85f)+(!_0x4d4afb[_0x508460(0x68d)]?'<button\x20data-id=\x22'+_0x4d4afb['id']+_0x508460(0xc16):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''):_0x28e7d4[_0x1bd174(0x30c)]=_0x1bd174(0x92b);}function getMimeTypeFromFilename(_0x55c294){const _0x845fb5=_0x587d0b,_0x45e133=_0x55c294['split']('.')['pop']()['toLowerCase']();switch(_0x45e133){case _0x845fb5(0xb65):return'application/pdf';case _0x845fb5(0x78b):return _0x845fb5(0x8fd);default:return'application/pdf';}}function openShortcutEditor(_0x11ae15=null){const _0x36f57a=_0x587d0b,_0x17d840=document[_0x36f57a(0x43c)](_0x36f57a(0xb66)),_0x18cce9=document[_0x36f57a(0x43c)](_0x36f57a(0x1f5)),_0xd8941=document[_0x36f57a(0x43c)](_0x36f57a(0xb7b)),_0x60a092=document['getElementById'](_0x36f57a(0x624)),_0x3b8743=document[_0x36f57a(0x43c)](_0x36f57a(0xa9b)),_0x5274a5=document['getElementById'](_0x36f57a(0x6b2));if(_0x11ae15){const _0x2fd189=blueprintShortcuts['find'](_0xf87f8=>_0xf87f8['id']===_0x11ae15);if(!_0x2fd189)return;_0x18cce9[_0x36f57a(0xc0d)]=_0x36f57a(0xac0),_0xd8941['value']=_0x2fd189['id'],_0x60a092[_0x36f57a(0x5d0)]=_0x2fd189[_0x36f57a(0x683)],_0x3b8743[_0x36f57a(0x5d0)]=_0x2fd189[_0x36f57a(0x7d9)]||'',_0x5274a5[_0x36f57a(0x5d0)]=_0x2fd189[_0x36f57a(0x5f5)]||'';}else _0x18cce9[_0x36f57a(0xc0d)]=_0x36f57a(0xbc2),_0xd8941[_0x36f57a(0x5d0)]='',_0x60a092[_0x36f57a(0x5d0)]='',_0x3b8743[_0x36f57a(0x5d0)]='',_0x5274a5[_0x36f57a(0x5d0)]='';_0x17d840[_0x36f57a(0x860)][_0x36f57a(0xbf3)](_0x36f57a(0x6e9));}async function saveShortcutChanges(){const _0x527d5d=_0x587d0b,_0x4b60c1=document['getElementById'](_0x527d5d(0xb7b))['value'],_0x303bea=document[_0x527d5d(0x43c)](_0x527d5d(0x624))[_0x527d5d(0x5d0)][_0x527d5d(0x8e7)](),_0x50dab4=document[_0x527d5d(0x43c)](_0x527d5d(0xa9b))['value'][_0x527d5d(0x8e7)]();if(!_0x303bea||!_0x50dab4){showMessage(_0x527d5d(0xb2d));return;}const _0x4bb608={'id':_0x4b60c1||_0x527d5d(0x6ba)+Date[_0x527d5d(0x349)](),'name':_0x303bea,'blueprintUrl':_0x50dab4,'referenceUrl':document[_0x527d5d(0x43c)]('shortcut-reference-url-input')[_0x527d5d(0x5d0)]['trim'](),'isDefault':_0x4b60c1[_0x527d5d(0x718)](_0x527d5d(0x5bc))};let _0x3772b4;_0x4b60c1?_0x3772b4=blueprintShortcuts[_0x527d5d(0x9a0)](_0x3b829c=>_0x3b829c['id']===_0x4b60c1?_0x4bb608:_0x3b829c):_0x3772b4=[...blueprintShortcuts,_0x4bb608];try{const _0x5cfd1c=doc(db,_0x527d5d(0x397),_0x527d5d(0x159));await setDoc(_0x5cfd1c,{'blueprintShortcuts':_0x3772b4},{'merge':!![]}),document[_0x527d5d(0x43c)](_0x527d5d(0xb66))[_0x527d5d(0x860)][_0x527d5d(0x61e)]('hidden');}catch(_0x38f632){console['error']('Error\x20saving\x20shortcut:',_0x38f632),showMessage(_0x527d5d(0xc8a));}}async function handleShortcutClick(_0x3eef27){const _0x9feedc=_0x587d0b,_0x3fcd91=blueprintShortcuts[_0x9feedc(0xa3a)](_0x976920=>_0x976920['id']===_0x3eef27);if(!_0x3fcd91||!_0x3fcd91[_0x9feedc(0x7d9)])return;document[_0x9feedc(0x43c)](_0x9feedc(0x1f4))[_0x9feedc(0x860)][_0x9feedc(0x61e)](_0x9feedc(0x6e9)),document[_0x9feedc(0x43c)]('generate-from-blueprint-btn')[_0x9feedc(0x35d)]=!![];const _0x48ba60=document[_0x9feedc(0x43c)]('loader'),_0x178b42=document['getElementById']('loader-text');document[_0x9feedc(0x43c)](_0x9feedc(0x4ff))[_0x9feedc(0x860)][_0x9feedc(0xbf3)](_0x9feedc(0x6e9)),document['getElementById']('generated-quiz-container')[_0x9feedc(0x30c)]='',_0x48ba60[_0x9feedc(0x860)][_0x9feedc(0xbf3)](_0x9feedc(0x6e9));try{_0x178b42[_0x9feedc(0xc0d)]='กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...';const _0x2ba3c1=await fetchFileFromUrl(_0x3fcd91['blueprintUrl'],_0x9feedc(0x760));let _0x34747c=null;if(_0x3fcd91[_0x9feedc(0x5f5)]){_0x178b42['textContent']=_0x9feedc(0xbaf);const _0x226ee4=_0x3fcd91[_0x9feedc(0x5f5)][_0x9feedc(0x35e)]()[_0x9feedc(0x904)](_0x9feedc(0xb2c))?_0x9feedc(0x314):'reference.pdf';_0x34747c=await fetchFileFromUrl(_0x3fcd91[_0x9feedc(0x5f5)],_0x226ee4);}await handleGenerateFromBlueprintWithFiles(_0x2ba3c1,_0x34747c);}catch(_0x4532fa){console[_0x9feedc(0x48f)]('Error\x20processing\x20shortcut\x20click:',_0x4532fa),showMessage(_0x9feedc(0xacb)+_0x4532fa[_0x9feedc(0x2f6)]),_0x48ba60[_0x9feedc(0x860)][_0x9feedc(0x61e)]('hidden');}}function getDirectDownloadUrl(_0x87276e){const _0x591979=_0x587d0b,_0x8e8a54=_0x87276e[_0x591979(0xc93)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x8e8a54&&_0x8e8a54[0x1])return _0x591979(0xb3d)+_0x8e8a54[0x1];return _0x87276e;}async function fetchFileFromUrl(_0x3147e3,_0x24ae0c){const _0x2b8e87=_0x587d0b,_0x4a3e8e=getDirectDownloadUrl(_0x3147e3),_0x4168ba=_0x2b8e87(0x834)+encodeURIComponent(_0x4a3e8e),_0x427e24=await fetch(_0x4168ba);if(!_0x427e24['ok'])throw new Error(_0x2b8e87(0xe0)+_0x427e24['status']+')');const _0xe30f21=await _0x427e24[_0x2b8e87(0x17d)](),_0x2da232=await new Promise((_0xcbdefe,_0x2adbb8)=>{const _0x51f926=_0x2b8e87,_0x4db99e=new FileReader();_0x4db99e['onloadend']=()=>_0xcbdefe(new Uint8Array(_0x4db99e['result'])),_0x4db99e[_0x51f926(0x350)]=_0x2adbb8,_0x4db99e['readAsArrayBuffer'](_0xe30f21[_0x51f926(0x264)](0x0,0x4));});let _0x2a2372='';const _0x263f3a=new TextDecoder()[_0x2b8e87(0x1c9)](_0x2da232);return _0x263f3a==='%PDF'?(_0x2a2372=_0x2b8e87(0xbaa),console[_0x2b8e87(0x564)](_0x2b8e87(0x3a4))):(_0x2a2372=_0x2b8e87(0x8fd),console[_0x2b8e87(0x564)]('File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.')),new File([_0xe30f21],_0x24ae0c,{'type':_0x2a2372});}async function handleGenerateFromBlueprintWithFiles(_0x555b02,_0x1d0076=null){const _0x4b91c2=_0x587d0b;if(!_0x555b02){showMessage(_0x4b91c2(0x456));return;}const _0x4b93d2=document['getElementById']('loader'),_0x1d0732=document[_0x4b91c2(0x43c)](_0x4b91c2(0xa11));_0x4b93d2[_0x4b91c2(0x860)][_0x4b91c2(0xbf3)](_0x4b91c2(0x6e9)),document['getElementById'](_0x4b91c2(0x4ff))[_0x4b91c2(0x860)][_0x4b91c2(0xbf3)](_0x4b91c2(0x6e9)),document['getElementById'](_0x4b91c2(0xed))[_0x4b91c2(0x30c)]='';try{_0x1d0732[_0x4b91c2(0xc0d)]=_0x4b91c2(0x1c4);const _0x5e4ca8=await new Promise((_0x35db7f,_0x3485e7)=>{const _0x3c737f=_0x4b91c2,_0x20399c=new FileReader();_0x20399c['readAsDataURL'](_0x555b02),_0x20399c['onload']=()=>_0x35db7f(_0x20399c['result'][_0x3c737f(0x9f8)](',')[0x1]),_0x20399c['onerror']=_0x3485e7;}),_0x56a244=[];if(_0x1d0076){_0x1d0732[_0x4b91c2(0xc0d)]=_0x4b91c2(0xc07);const _0x182757=await _0x1d0076[_0x4b91c2(0xa1b)]();_0x56a244[_0x4b91c2(0x211)]({'text':_0x4b91c2(0xad6)+_0x182757});}const _0x3f4b6b=[{'text':_0x4b91c2(0xc02)},{'inlineData':{'mimeType':_0x555b02[_0x4b91c2(0x866)],'data':_0x5e4ca8}},..._0x56a244];await handleGenerateFromBlueprint(_0x3f4b6b);}catch(_0x32a53b){console[_0x4b91c2(0x48f)](_0x4b91c2(0x83a),_0x32a53b),showMessage('เกิดข้อผิดพลาด:\x20'+_0x32a53b[_0x4b91c2(0x2f6)]),_0x4b93d2[_0x4b91c2(0x860)][_0x4b91c2(0x61e)](_0x4b91c2(0x6e9));}}async function handleLiveAnswer(_0x48f21c,_0x56f1c4){const _0x566ee5=_0x587d0b;document[_0x566ee5(0xa6e)](_0x566ee5(0x1a1))[_0x566ee5(0x27f)](_0x2892ac=>_0x2892ac[_0x566ee5(0x35d)]=!![]);const _0x45aba3=_0x56f1c4[_0x566ee5(0x8af)]||currentQuizData[_0x566ee5(0x86d)];let _0x5588d6=![],_0x4b9cdb=_0x48f21c;if(_0x45aba3===_0x566ee5(0x573)){const _0x25aec6=(_0x48f21c||'')['toString']();_0x5588d6=await gradeShortAnswer(_0x25aec6,_0x56f1c4);}else{if(_0x45aba3==='multiple_choice')_0x5588d6=_0x48f21c===_0x56f1c4[_0x566ee5(0x828)];else{if(_0x45aba3===_0x566ee5(0x907)){const _0x249099=_0x56f1c4['correctAnswer'];_0x5588d6=_0x48f21c===0x0&&_0x249099||_0x48f21c===0x1&&!_0x249099;}else{if(_0x45aba3===_0x566ee5(0xf5)){const _0xf9d4cd=_0x56f1c4[_0x566ee5(0x4f0)][_0x48f21c];_0x5588d6=_0xf9d4cd===_0x56f1c4['correctResponse'],_0x4b9cdb=_0xf9d4cd;}}}}const _0x429f40=doc(db,'artifacts/'+appId+_0x566ee5(0x618),currentLiveGameId),_0x1fdacb={};_0x1fdacb[_0x566ee5(0x87c)+currentStudentName+_0x566ee5(0x8db)]=!![],_0x1fdacb[_0x566ee5(0x87c)+currentStudentName+_0x566ee5(0x2f2)]=_0x5588d6,_0x1fdacb['players.'+currentStudentName+_0x566ee5(0x60f)]=_0x45aba3===_0x566ee5(0x573)||_0x45aba3===_0x566ee5(0xf5)?null:_0x48f21c,_0x1fdacb['players.'+currentStudentName+'.lastAnswerValue']=_0x4b9cdb,_0x1fdacb[_0x566ee5(0x87c)+currentStudentName+_0x566ee5(0x558)]=serverTimestamp(),_0x1fdacb['players.'+currentStudentName+'.isScored']=![],await updateDoc(_0x429f40,_0x1fdacb),liveGameView[_0x566ee5(0x30c)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x304ac5,_0x20dffa){const _0x23d17e=_0x587d0b,_0x1f13cb=Object[_0x23d17e(0x512)](_0x304ac5[_0x23d17e(0x365)]||{}),_0x1431a5=_0x20dffa[_0x23d17e(0x8af)]||currentQuizData[_0x23d17e(0x86d)],_0x46a15e=_0x1431a5==='true_false'?['ใช่',_0x23d17e(0x976)]:_0x20dffa[_0x23d17e(0x4b2)]||_0x20dffa[_0x23d17e(0x4f0)]||[],_0x24caf6={},_0x1d7db1=new Array(_0x46a15e[_0x23d17e(0x3ce)])[_0x23d17e(0xc37)](0x0);_0x46a15e[_0x23d17e(0x27f)]((_0x206372,_0x49446a)=>{_0x24caf6[_0x49446a]=[];}),Object[_0x23d17e(0x31d)](_0x304ac5[_0x23d17e(0x365)]||{})[_0x23d17e(0x27f)](([_0xd9a5fd,_0x10eb9a])=>{const _0x4cb78a=_0x23d17e;if(_0x10eb9a[_0x4cb78a(0x658)]===_0x4cb78a(0x52b)&&_0x10eb9a[_0x4cb78a(0x778)]!==undefined){const _0xe76f39=_0x10eb9a[_0x4cb78a(0x778)];_0x24caf6[_0xe76f39]&&(_0x24caf6[_0xe76f39][_0x4cb78a(0x211)](_0xd9a5fd),_0x1d7db1[_0xe76f39]++);}});const _0x194314=Math[_0x23d17e(0x79e)](..._0x1d7db1,0x1),_0x313146=_0x23d17e(0x9ba)+(_0x20dffa[_0x23d17e(0x2f0)]||_0x20dffa[_0x23d17e(0xb89)])+_0x23d17e(0x462)+_0x1d7db1[_0x23d17e(0x9a0)]((_0x26a895,_0x5de2d5)=>{const _0x1e1552=_0x23d17e,_0x390ff1=_0x24caf6[_0x5de2d5]['length']>0x0?_0x24caf6[_0x5de2d5][_0x1e1552(0xd9)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0x9a9b=![];if(_0x1431a5==='multiple_choice')_0x9a9b=_0x5de2d5===_0x20dffa['correctAnswerIndex'];else{if(_0x1431a5===_0x1e1552(0x907)){const _0x29a728=_0x20dffa[_0x1e1552(0x347)];_0x9a9b=_0x29a728&&_0x5de2d5===0x0||!_0x29a728&&_0x5de2d5===0x1;}else _0x1431a5==='matching_item'&&(_0x9a9b=_0x46a15e[_0x5de2d5]===_0x20dffa['correctResponse']);}const _0x3610ad=_0x9a9b?'#26890c':'#e21b3c';return _0x1e1552(0x875)+_0x26a895+_0x1e1552(0x797)+_0x3610ad+_0x1e1552(0x722)+_0x5de2d5+_0x1e1552(0xabb)+_0x46a15e[_0x5de2d5]+_0x1e1552(0x9a2)+_0x5de2d5+_0x1e1552(0x5d9)+_0x390ff1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x23d17e(0xd9)]('')+_0x23d17e(0xae1);liveGameView[_0x23d17e(0x30c)]=_0x313146;if(window[_0x23d17e(0xaf8)])MathJax[_0x23d17e(0x5ad)]();document[_0x23d17e(0x43c)](_0x23d17e(0x981))[_0x23d17e(0x5e1)](_0x23d17e(0xbf8),async()=>{const _0x3dc4e2=_0x23d17e,_0x32c7da=doc(db,_0x3dc4e2(0x1f0)+appId+_0x3dc4e2(0x618),currentLiveGameId);await updateDoc(_0x32c7da,{'questionStatus':_0x3dc4e2(0xaf)});}),document[_0x23d17e(0x43c)]('open-scratchpad-btn')[_0x23d17e(0x5e1)](_0x23d17e(0xbf8),()=>{openScratchpad(_0x20dffa,_0x46a15e);});}function showPlayerSummaryView(_0x5dbdac,_0x5b4d83){const _0x6c14ac=_0x587d0b,_0x222104=Object['values'](_0x5dbdac[_0x6c14ac(0x365)]||{}),_0x1332a6=_0x5dbdac[_0x6c14ac(0x365)][_0x5b4d83],_0xdb80ad=_0x222104[_0x6c14ac(0x35c)](_0x3a81f3=>_0x3a81f3[_0x6c14ac(0x658)]===_0x6c14ac(0x52b))[_0x6c14ac(0x34f)]((_0xb95b18,_0x5af04f)=>_0x5af04f[_0x6c14ac(0x7c3)]-_0xb95b18['score']),_0xbaa250=_0xdb80ad[_0x6c14ac(0x9bd)](_0x271718=>_0x271718===_0x1332a6)+0x1,_0x5e6354=_0x1332a6[_0x6c14ac(0x8fc)]?_0x6c14ac(0x9f5):_0x6c14ac(0x652),_0x605c9=_0x1332a6[_0x6c14ac(0x8fc)]?_0x6c14ac(0x99f):'bg-red-500',_0x463b66=_0x1332a6[_0x6c14ac(0x4e1)]||0x0,_0x38bb8b=_0x6c14ac(0xbfb),_0x42fd91=_0x6c14ac(0x1aa)+_0x38bb8b+_0x6c14ac(0x6a5)+_0x605c9+_0x6c14ac(0xa37)+_0x5e6354+_0x6c14ac(0x513)+_0x463b66+_0x6c14ac(0x105)+(_0xbaa250>0x0?_0xbaa250:'-')+_0x6c14ac(0x5c8);liveGameView[_0x6c14ac(0x30c)]=_0x42fd91;}function createQuizFromBank(){const _0x3fdcaa=_0x587d0b,_0x35c46c=document[_0x3fdcaa(0xa6e)](_0x3fdcaa(0x6f8));if(_0x35c46c[_0x3fdcaa(0x3ce)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x838d0c=[];_0x35c46c['forEach'](_0x5dcb8b=>{const _0x1237d4=_0x3fdcaa;_0x838d0c[_0x1237d4(0x211)](JSON['parse'](_0x5dcb8b[_0x1237d4(0x5d0)]));});const _0x1929d1={'topic':_0x3fdcaa(0x3bd),'questions':_0x838d0c};displayGeneratedQuiz(_0x1929d1);}function showAdminLobbyView(_0xe6125a,_0x3b4b1a){const _0x4898cf=_0x587d0b;showView(_0x4898cf(0x517));const _0x2c3d5b=_0x4898cf(0xc48)+_0x3b4b1a+_0x4898cf(0x223)+_0xe6125a+_0x4898cf(0x5f6);liveGameView[_0x4898cf(0x30c)]=_0x2c3d5b,document['getElementById'](_0x4898cf(0x1e7))[_0x4898cf(0x5e1)](_0x4898cf(0xbf8),async()=>{const _0x177ff3=_0x4898cf;if(!currentQuizData||!currentQuizData[_0x177ff3(0x66b)]||currentQuizData[_0x177ff3(0x66b)][_0x177ff3(0x3ce)]===0x0){showMessage(_0x177ff3(0x420));return;}try{const _0x17767e=doc(db,_0x177ff3(0x1f0)+appId+_0x177ff3(0x618),currentLiveGameId);await updateDoc(_0x17767e,{'status':_0x177ff3(0x72b),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x27f0d7=currentQuizData['questions'][0x0],_0x18fc7b=currentQuizData[_0x177ff3(0x66b)]['length'];showAdminLiveQuestionView(_0x27f0d7,0x0,_0x18fc7b);}catch(_0x3c752e){console[_0x177ff3(0x48f)](_0x177ff3(0x89c),_0x3c752e),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0x4ea521=_0x587d0b;if(allQuizzesGlobal[_0x4ea521(0x3ce)]===0x0){const _0x339908=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x339908[_0x4ea521(0xbb3)][_0x4ea521(0x9a0)](_0x44a186=>({'id':_0x44a186['id'],..._0x44a186[_0x4ea521(0xc12)]()}));}renderQuizBankList(''),document[_0x4ea521(0x43c)]('quiz-bank-modal')['classList'][_0x4ea521(0xbf3)]('hidden');}function renderQuizBankList(_0x5cd364='',_0x4ca565=![]){const _0x42d6d4=_0x587d0b,_0x225c93=document[_0x42d6d4(0x43c)](_0x42d6d4(0x158)),_0x146254=_0x5cd364[_0x42d6d4(0x35e)]()[_0x42d6d4(0x8e7)](),_0x43f25f=allQuizzesGlobal['map'](_0x113025=>({..._0x113025,'projectName':allProjects['find'](_0x51e7db=>_0x51e7db['id']===_0x113025['projectId'])?.[_0x42d6d4(0xfd)]||_0x42d6d4(0x454)}))[_0x42d6d4(0x35c)](_0x160f1a=>(_0x160f1a[_0x42d6d4(0x53e)]||'')['toLowerCase']()['includes'](_0x146254)||(_0x160f1a['projectName']||'')[_0x42d6d4(0x35e)]()[_0x42d6d4(0x69d)](_0x146254)||_0x160f1a['id'][_0x42d6d4(0x6ce)]()['includes'](_0x146254));document['getElementById']('quiz-bank-count')['textContent']='('+_0x43f25f[_0x42d6d4(0x3ce)]+'\x20ชุด)',_0x225c93[_0x42d6d4(0x30c)]=_0x43f25f['length']?_0x43f25f[_0x42d6d4(0x9a0)](_0x2a3ea9=>{const _0x4bba50=_0x42d6d4,_0x15eb8c=!_0x4ca565?_0x4bba50(0xa40)+_0x2a3ea9['id']+_0x4bba50(0xab5)+_0x2a3ea9['id']+_0x4bba50(0x7c6)+_0x2a3ea9['id']+_0x4bba50(0x43d)+_0x2a3ea9['id']+_0x4bba50(0x382)+_0x2a3ea9['id']+_0x4bba50(0xaac)+_0x2a3ea9['id']+_0x4bba50(0x8a8)+_0x2a3ea9[_0x4bba50(0x53e)]+_0x4bba50(0x252):'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x2a3ea9['id']+_0x4bba50(0x36b)+(_0x2a3ea9['topic']||_0x4bba50(0x1bd))+_0x4bba50(0xacf)+(_0x2a3ea9[_0x4bba50(0x66b)]?.[_0x4bba50(0x3ce)]||0x0)+_0x4bba50(0xa75)+_0x2a3ea9[_0x4bba50(0xfd)]+_0x4bba50(0x8c5)+_0x2a3ea9['id']+_0x4bba50(0x424)+_0x15eb8c+'\x0a\x20\x20\x20\x20\x20\x20</div>';})['join'](''):_0x42d6d4(0x9a7),!_0x4ca565&&(_0x225c93[_0x42d6d4(0xa6e)](_0x42d6d4(0x8cc))[_0x42d6d4(0x27f)](_0x5ac861=>{const _0x222ba8=_0x42d6d4;_0x5ac861[_0x222ba8(0x5e1)]('click',()=>{const _0x4aa10e=_0x222ba8,_0x313140=_0x5ac861[_0x4aa10e(0x82f)]['id'];document[_0x4aa10e(0x43c)](_0x4aa10e(0x1d5))[_0x4aa10e(0x860)][_0x4aa10e(0x61e)](_0x4aa10e(0x6e9)),showQuizDetailView(_0x313140);});}),_0x225c93['querySelectorAll']('.quiz-bank-try-btn')['forEach'](_0x182d60=>{const _0x18be9b=_0x42d6d4;_0x182d60[_0x18be9b(0x5e1)](_0x18be9b(0xbf8),_0x152a61=>{const _0x51d8fb=_0x18be9b;_0x152a61[_0x51d8fb(0x9c0)]();const _0xb29bf6=_0x182d60[_0x51d8fb(0x82f)]['id'],_0x243959=allQuizzesGlobal['find'](_0xb8ad1b=>_0xb8ad1b['id']===_0xb29bf6);_0x243959?(currentQuizData=_0x243959,document['getElementById'](_0x51d8fb(0x1d5))[_0x51d8fb(0x860)]['add']('hidden'),startAdminTest()):showMessage(_0x51d8fb(0x3a2));});}),_0x225c93[_0x42d6d4(0xa6e)](_0x42d6d4(0x478))[_0x42d6d4(0x27f)](_0x23663f=>{const _0x3c96d3=_0x42d6d4;_0x23663f['addEventListener'](_0x3c96d3(0xbf8),_0x152c10=>{const _0x1c2695=_0x3c96d3;_0x152c10[_0x1c2695(0x9c0)]();const _0x3c38e7=_0x23663f['dataset']['id'],_0x4464cc=allQuizzesGlobal[_0x1c2695(0xa3a)](_0x52a4a6=>_0x52a4a6['id']===_0x3c38e7);_0x4464cc?(document[_0x1c2695(0x43c)](_0x1c2695(0x1d5))[_0x1c2695(0x860)]['add'](_0x1c2695(0x6e9)),handleGenerateParallelFromBank(_0x4464cc)):showMessage(_0x1c2695(0x3a2));});}),_0x225c93[_0x42d6d4(0xa6e)]('.quiz-bank-present-btn')[_0x42d6d4(0x27f)](_0x13a42c=>{const _0x4d3427=_0x42d6d4;_0x13a42c[_0x4d3427(0x5e1)]('click',_0x25eca0=>{const _0x1004c1=_0x4d3427;_0x25eca0['stopPropagation']();const _0x67af7f=_0x13a42c[_0x1004c1(0x82f)]['id'],_0x25a678=allQuizzesGlobal[_0x1004c1(0xa3a)](_0x3124b5=>_0x3124b5['id']===_0x67af7f);_0x25a678?(document[_0x1004c1(0x43c)](_0x1004c1(0x1d5))['classList'][_0x1004c1(0x61e)](_0x1004c1(0x6e9)),startPresentation(_0x25a678)):showMessage(_0x1004c1(0x3a2));});}),_0x225c93['querySelectorAll']('.quiz-bank-move-btn')[_0x42d6d4(0x27f)](_0x4470fb=>{const _0x49bb0b=_0x42d6d4;_0x4470fb[_0x49bb0b(0x5e1)](_0x49bb0b(0xbf8),_0x3d5560=>{const _0x54f7d9=_0x49bb0b;_0x3d5560['stopPropagation']();const _0x904758=_0x4470fb[_0x54f7d9(0x82f)]['id'];document['getElementById'](_0x54f7d9(0x1d5))[_0x54f7d9(0x860)]['add']('hidden'),handleMoveQuiz(_0x904758);});}),_0x225c93[_0x42d6d4(0xa6e)](_0x42d6d4(0x510))[_0x42d6d4(0x27f)](_0x50a981=>{const _0x28e9f7=_0x42d6d4;_0x50a981[_0x28e9f7(0x5e1)](_0x28e9f7(0xbf8),_0x386283=>{const _0x42685f=_0x28e9f7;_0x386283[_0x42685f(0x9c0)]();const _0x45e016=_0x50a981[_0x42685f(0x82f)]['id'];document[_0x42685f(0x43c)](_0x42685f(0x1d5))['classList'][_0x42685f(0x61e)](_0x42685f(0x6e9)),handleQuizSettings(_0x45e016);});}),_0x225c93[_0x42d6d4(0xa6e)](_0x42d6d4(0xc1))[_0x42d6d4(0x27f)](_0x3c650a=>{const _0x51b14a=_0x42d6d4;_0x3c650a[_0x51b14a(0x5e1)](_0x51b14a(0xbf8),_0x77ccd6=>{const _0x7b4047=_0x51b14a;_0x77ccd6[_0x7b4047(0x9c0)]();const _0x57b261=_0x3c650a[_0x7b4047(0x82f)]['id'],_0x1838d6=_0x3c650a[_0x7b4047(0x82f)]['topic'];showConfirmation(_0x7b4047(0xb9)+_0x1838d6+_0x7b4047(0xb63),()=>handleDeleteQuiz(_0x57b261));});}));}async function handleCompareResults(_0x14f997,_0x22ac18){const _0x5e033a=_0x587d0b,_0x1b08c8=document[_0x5e033a(0x43c)](_0x5e033a(0x669)),_0x268a44=document['getElementById'](_0x5e033a(0x6e0)),_0x8b5d2a=document[_0x5e033a(0x43c)](_0x5e033a(0x7cb));document[_0x5e033a(0x43c)](_0x5e033a(0x2a9))[_0x5e033a(0x860)][_0x5e033a(0x61e)](_0x5e033a(0x52b)),document[_0x5e033a(0x43c)](_0x5e033a(0xb0))['classList'][_0x5e033a(0xbf3)]('active'),_0x268a44[_0x5e033a(0x860)]['remove']('hidden'),_0x8b5d2a[_0x5e033a(0x860)][_0x5e033a(0x61e)]('hidden'),_0x268a44[_0x5e033a(0x30c)]=_0x5e033a(0x713),_0x8b5d2a[_0x5e033a(0x30c)]='',_0x1b08c8[_0x5e033a(0x860)][_0x5e033a(0xbf3)]('hidden');try{const _0x5e73cf=doc(db,'artifacts/'+appId+_0x5e033a(0x92d),_0x14f997),_0x43965e=await getDoc(_0x5e73cf);if(!_0x43965e[_0x5e033a(0x2ef)]())throw new Error(_0x5e033a(0x9d3));const _0x3f0006=_0x43965e[_0x5e033a(0xc12)](),_0x48d353=_0x3f0006['questions'][_0x5e033a(0x3ce)],_0x462f64=collection(db,_0x5e033a(0x1f0)+appId+'/public/data/quizzes/'+_0x22ac18+_0x5e033a(0xc46)),_0x18f62c=collection(db,'artifacts/'+appId+_0x5e033a(0x261)+_0x14f997+'/submissions'),[_0x57c273,_0x384415]=await Promise['all']([getDocs(_0x462f64),getDocs(_0x18f62c)]),_0xb2ff04=_0x57c273[_0x5e033a(0xbb3)][_0x5e033a(0x9a0)](_0x2199fe=>_0x2199fe[_0x5e033a(0xc12)]()),_0xa7dece=_0x384415['docs'][_0x5e033a(0x9a0)](_0x2481ad=>_0x2481ad[_0x5e033a(0xc12)]()),_0x2cac3e=_0xb2ff04[_0x5e033a(0x9a0)](_0x49b61e=>_0x49b61e[_0x5e033a(0xba4)]),_0x83df52=_0xa7dece[_0x5e033a(0x9a0)](_0x1b01fa=>_0x1b01fa[_0x5e033a(0xba4)]),_0x4e4b93=calculateMeanAndStdDev(_0x2cac3e),_0x1b5ce2=calculateMeanAndStdDev(_0x83df52),_0x2b845b=_0x4e4b93[_0x5e033a(0x483)],_0x51eda0=_0x1b5ce2[_0x5e033a(0x483)],_0xcbddac=_0x51eda0-_0x2b845b;let _0x214a0a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x2b845b[_0x5e033a(0x5ef)](0x2)+_0x5e033a(0x26e)+_0x51eda0['toFixed'](0x2)+_0x5e033a(0x298)+(_0xcbddac>=0x0?'bg-emerald-100':_0x5e033a(0x6bc))+_0x5e033a(0x89b)+(_0xcbddac>=0x0?'text-emerald-800':_0x5e033a(0x5df))+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0xcbddac>=0x0?_0x5e033a(0x445):_0x5e033a(0x50d))+'\x22>'+(_0xcbddac>=0x0?'+':'')+_0xcbddac[_0x5e033a(0x5ef)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x268a44['innerHTML']=_0x214a0a;const _0x331218=document[_0x5e033a(0x43c)](_0x5e033a(0x993))[_0x5e033a(0x610)]('2d');if(chartInstances[_0x5e033a(0x498)])chartInstances[_0x5e033a(0x498)][_0x5e033a(0xb93)]();chartInstances[_0x5e033a(0x498)]=new Chart(_0x331218,{'type':'bar','data':{'labels':[_0x5e033a(0x65b)],'datasets':[{'label':_0x5e033a(0x3c2),'data':[_0x2b845b],'backgroundColor':_0x5e033a(0x693)},{'label':_0x5e033a(0x7f4),'data':[_0x51eda0],'backgroundColor':_0x5e033a(0x6d9)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x48d353}}}});const _0xae3937=currentProjectData[_0x5e033a(0xc49)]||[],_0x3289f0=_0xae3937['map'](_0x136064=>{const _0x51e6b8=_0x5e033a,_0x1d803f=_0xb2ff04[_0x51e6b8(0xa3a)](_0x139421=>_0x139421[_0x51e6b8(0x3eb)]===_0x136064),_0x1352d2=_0xa7dece[_0x51e6b8(0xa3a)](_0x4c483a=>_0x4c483a[_0x51e6b8(0x3eb)]===_0x136064),_0x570ddb=_0x1d803f?_0x1d803f[_0x51e6b8(0xba4)]:null,_0x58e301=_0x1352d2?_0x1352d2['latestScore']:null,_0x27a667=_0x570ddb!==null&&_0x58e301!==null?_0x58e301-_0x570ddb:null,_0x28e72f=_0x570ddb!==null?calculateZScore(_0x570ddb,_0x4e4b93[_0x51e6b8(0x483)],_0x4e4b93[_0x51e6b8(0x719)]):null,_0x40bec6=_0x58e301!==null?calculateZScore(_0x58e301,_0x1b5ce2[_0x51e6b8(0x483)],_0x1b5ce2['stdDev']):null,_0x26134b=_0x28e72f!==null?calculateTScore(_0x28e72f):null,_0x5bc64a=_0x40bec6!==null?calculateTScore(_0x40bec6):null,_0x317a5d=_0x26134b!==null&&_0x5bc64a!==null?_0x5bc64a-_0x26134b:null;return{'name':_0x136064,'preScore':_0x570ddb,'postScore':_0x58e301,'gain':_0x27a667,'preTScore':_0x26134b,'postTScore':_0x5bc64a,'tGain':_0x317a5d};});renderIndividualComparisonTable(_0x3289f0,_0x8b5d2a);}catch(_0x199a13){console[_0x5e033a(0x48f)]('Error\x20comparing\x20results:',_0x199a13),_0x268a44[_0x5e033a(0x30c)]=_0x5e033a(0x768);}}async function saveBlueprintProject(){const _0x580fb2=_0x587d0b;if(!extractedBlueprintData||!extractedBlueprintData[_0x580fb2(0x299)]){showMessage(_0x580fb2(0x657));return;}const _0x2da924=prompt('กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:',_0x580fb2(0x852));if(!_0x2da924||_0x2da924[_0x580fb2(0x8e7)]()==='')return;const _0x59d78c={};extractedBlueprintData[_0x580fb2(0x299)][_0x580fb2(0x27f)](_0x811972=>{const _0x3ce52d=_0x580fb2;_0x811972[_0x3ce52d(0x6cf)][_0x3ce52d(0x27f)](_0x214ae0=>{const _0x3794ee=_0x3ce52d;_0x214ae0[_0x3794ee(0x63b)][_0x3794ee(0x27f)](_0xfe7fe6=>{const _0x2efed3=_0x3794ee,_0xbb5d76=_0x2efed3(0xc66)+Date[_0x2efed3(0x349)]()+Math['random']()[_0x2efed3(0x6ce)](0x24)[_0x2efed3(0x55b)](0x2,0x9);_0x59d78c[_0xbb5d76]={'sara':_0x811972['sara'],'mainTopic':_0x214ae0['topicName'],'subTopic':_0xfe7fe6,'status':_0x2efed3(0x51c),'lessonContent':null};});});});try{const _0x5da1f0=collection(db,_0x580fb2(0x1f0)+appId+_0x580fb2(0xb8c));await addDoc(_0x5da1f0,{'projectName':_0x2da924['trim'](),'gradeLevel':extractedBlueprintData[_0x580fb2(0x679)],'topics':_0x59d78c,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x2da924[_0x580fb2(0x8e7)]()+'\x22\x20สำเร็จ!'),document['getElementById'](_0x580fb2(0x81))['classList'][_0x580fb2(0x61e)](_0x580fb2(0x6e9));}catch(_0x13fc87){console[_0x580fb2(0x48f)]('Error\x20saving\x20blueprint\x20project:',_0x13fc87),showMessage(_0x580fb2(0x94a));}}async function showBlueprintProjects(){const _0x212230=_0x587d0b,_0xd4675f=document[_0x212230(0x43c)](_0x212230(0x822)),_0x4e05b4=document[_0x212230(0x43c)](_0x212230(0x871));_0x4e05b4[_0x212230(0x30c)]=_0x212230(0x251),_0xd4675f['classList']['remove'](_0x212230(0x6e9));try{const _0x541ec3=collection(db,_0x212230(0x1f0)+appId+_0x212230(0xb8c)),_0x537fe5=await getDocs(_0x541ec3);if(_0x537fe5['empty']){_0x4e05b4[_0x212230(0x30c)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x17ed23=_0x537fe5[_0x212230(0xbb3)][_0x212230(0x9a0)](_0x5e2496=>({'id':_0x5e2496['id'],..._0x5e2496[_0x212230(0xc12)]()}));_0x17ed23['sort']((_0x33d006,_0x3abf7c)=>_0x33d006['projectName'][_0x212230(0x164)](_0x3abf7c['projectName'],'th')),_0x4e05b4[_0x212230(0x30c)]=_0x17ed23[_0x212230(0x9a0)](_0x56a7bb=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x56a7bb[_0x212230(0xfd)]+_0x212230(0x115)+_0x56a7bb['gradeLevel']+'\x20|\x20'+Object['keys'](_0x56a7bb[_0x212230(0x4a2)])[_0x212230(0x3ce)]+_0x212230(0xab4)+_0x56a7bb['id']+_0x212230(0x9af)+_0x56a7bb['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x212230(0xd9)]('');}catch(_0x130129){console[_0x212230(0x48f)]('Error\x20loading\x20blueprint\x20projects:',_0x130129),_0x4e05b4[_0x212230(0x30c)]=_0x212230(0x6da);}}async function displayBlueprintProjectManager(_0x203278){const _0x54645a=_0x587d0b;currentBlueprintProjectId=_0x203278,document['getElementById'](_0x54645a(0x822))[_0x54645a(0x860)]['add']('hidden'),showView('admin-dashboard'),projectDashboardView['classList']['add'](_0x54645a(0x6e9));const _0x4ec94b=document[_0x54645a(0x43c)]('blueprint-project-manager-view');_0x4ec94b['classList'][_0x54645a(0xbf3)]('hidden'),document[_0x54645a(0x43c)](_0x54645a(0xbc3))[_0x54645a(0x30c)]=_0x54645a(0x713);try{const _0x1f20d3=doc(db,_0x54645a(0x1f0)+appId+_0x54645a(0xb8c),_0x203278),_0x51a3a6=await getDoc(_0x1f20d3);if(!_0x51a3a6['exists']())throw new Error(_0x54645a(0x5b7));const _0x2cf145={'id':_0x51a3a6['id'],..._0x51a3a6['data']()};document[_0x54645a(0x43c)](_0x54645a(0xb02))[_0x54645a(0xc0d)]=_0x2cf145[_0x54645a(0xfd)],document['getElementById']('bp-reference-file-url')[_0x54645a(0x5d0)]=_0x2cf145['referenceFileUrl']||'',renderBlueprintTopicManager(_0x2cf145);}catch(_0x49f134){console[_0x54645a(0x48f)]('Error\x20displaying\x20blueprint\x20project:',_0x49f134),showMessage(_0x49f134['message']),showView(_0x54645a(0xbd1));}}function renderBlueprintTopicManager(_0x493e31){const _0x350c4=_0x587d0b,_0x5083fa=document['getElementById']('bp-topic-list-container'),_0x27aa10=_0x493e31[_0x350c4(0x4a2)]||{};if(Object[_0x350c4(0x1c7)](_0x27aa10)[_0x350c4(0x3ce)]===0x0){_0x5083fa[_0x350c4(0x30c)]=_0x350c4(0x97a);return;}const _0x539b24=Object[_0x350c4(0x31d)](_0x27aa10)[_0x350c4(0x9a0)](([_0x3870a7,_0xe0dd20])=>({'id':_0x3870a7,..._0xe0dd20}))[_0x350c4(0x34f)]((_0x167a1e,_0xcc8a90)=>(_0x167a1e[_0x350c4(0x1af)]??Infinity)-(_0xcc8a90[_0x350c4(0x1af)]??Infinity)),_0x1018b6={};_0x539b24['forEach'](_0x1f24a1=>{const _0x411c2d=_0x350c4,{sara:_0x261206,mainTopic:_0x1ff58f}=_0x1f24a1;!_0x1018b6[_0x261206]&&(_0x1018b6[_0x261206]={}),!_0x1018b6[_0x261206][_0x1ff58f]&&(_0x1018b6[_0x261206][_0x1ff58f]=[]),_0x1018b6[_0x261206][_0x1ff58f][_0x411c2d(0x211)](_0x1f24a1);});let _0x549fb4='';for(const _0x5801d7 in _0x1018b6){_0x549fb4+=_0x350c4(0x369)+_0x5801d7+_0x350c4(0x184);for(const _0x51b615 in _0x1018b6[_0x5801d7]){_0x549fb4+=_0x350c4(0x73b)+_0x51b615+_0x350c4(0x76f),_0x1018b6[_0x5801d7][_0x51b615][_0x350c4(0x27f)](_0xbb5ca4=>{const _0x2b458e=_0x350c4,_0x32da19=_0xbb5ca4['id'],_0x497a39=_0xbb5ca4[_0x2b458e(0x68a)]||[],_0x3c67ae=_0x497a39[_0x2b458e(0x3ce)]>0x0,_0x51fdbc=_0xbb5ca4[_0x2b458e(0x658)]===_0x2b458e(0xc3f);let _0x3e2d4c='';_0x3c67ae?_0x3e2d4c='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20('+_0x497a39[_0x2b458e(0x3ce)]+_0x2b458e(0x128):_0x3e2d4c=_0x2b458e(0xa32)+(_0x51fdbc?'bg-green-200\x20text-green-800':_0x2b458e(0x701))+'\x22>'+(_0x51fdbc?_0x2b458e(0x9da):'ยังไม่สร้าง')+_0x2b458e(0x99a);const _0x4cf141=!_0x51fdbc?_0x2b458e(0x42d):'',_0x3ab96d=!_0x51fdbc?_0x2b458e(0x67b):'';let _0x5d139b=_0x51fdbc?_0x2b458e(0xa02):_0x2b458e(0xb74);_0x549fb4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22'+_0x32da19+_0x2b458e(0xc0f)+_0xbb5ca4[_0x2b458e(0x45a)]+_0x2b458e(0x38c)+_0x3e2d4c+_0x2b458e(0x876)+_0x4cf141+_0x2b458e(0xa13)+_0x3ab96d+_0x2b458e(0x545)+_0x5d139b+_0x2b458e(0xbf9);}),_0x549fb4+=_0x350c4(0x217);}_0x549fb4+=_0x350c4(0xc94);}_0x5083fa[_0x350c4(0x30c)]=_0x549fb4;}async function handleDeepDeleteBlueprintProject(_0x103148){const _0x22963b=_0x587d0b,_0x57c5ce=doc(db,_0x22963b(0x1f0)+appId+'/public/data/blueprintProjects',_0x103148),_0x1a92b4=await getDoc(_0x57c5ce);if(!_0x1a92b4[_0x22963b(0x2ef)]()){showMessage(_0x22963b(0x5da));return;}const _0x5355fc=_0x1a92b4['data']()[_0x22963b(0xfd)];showConfirmation(_0x22963b(0x969)+_0x5355fc+_0x22963b(0xaa6),async()=>{const _0x5a23bc=_0x22963b;showMessage(_0x5a23bc(0xbf7));try{const _0x3343c9=writeBatch(db),_0x4ef5d2=_0x1a92b4[_0x5a23bc(0xc12)](),_0x1fc975=_0x4ef5d2[_0x5a23bc(0x4a2)]||{};for(const _0x4b3fcc in _0x1fc975){const _0xb3858b=doc(db,'artifacts/'+appId+_0x5a23bc(0x64d)+_0x103148+'/lessons',_0x4b3fcc);_0x3343c9[_0x5a23bc(0x9d1)](_0xb3858b);}const _0x20b991=new Set();for(const _0x4f348d in _0x1fc975){_0x1fc975[_0x4f348d][_0x5a23bc(0x68a)]&&_0x1fc975[_0x4f348d][_0x5a23bc(0x68a)][_0x5a23bc(0x27f)](_0x46ee37=>_0x20b991[_0x5a23bc(0x61e)](_0x46ee37));}for(const _0xf4d350 of _0x20b991){await handleDeleteQuiz(_0xf4d350,![]);}_0x3343c9[_0x5a23bc(0x9d1)](_0x57c5ce),await _0x3343c9['commit'](),showMessage(_0x5a23bc(0xa74)+_0x5355fc+_0x5a23bc(0x7bb)),showBlueprintProjects();}catch(_0xf826ee){console['error'](_0x5a23bc(0x84d),_0xf826ee),showMessage('เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล');}});}async function openTopicQuizBank(_0x3941c3){const _0xf5dfe0=_0x587d0b,_0x3ad205=document[_0xf5dfe0(0x43c)](_0xf5dfe0(0xbac)),_0x34829e=document['getElementById'](_0xf5dfe0(0x33d)),_0x170f51=document[_0xf5dfe0(0x43c)](_0xf5dfe0(0x708));try{await ensureGlobalQuizzesLoaded();const _0x3740f5=doc(db,_0xf5dfe0(0x1f0)+appId+_0xf5dfe0(0xb8c),currentBlueprintProjectId),_0x3b39fe=await getDoc(_0x3740f5);if(!_0x3b39fe[_0xf5dfe0(0x2ef)]())return;const _0x383209=_0x3b39fe['data'](),_0x4ff13d=_0x383209[_0xf5dfe0(0x4a2)][_0x3941c3];document[_0xf5dfe0(0x43c)](_0xf5dfe0(0xaf6))[_0xf5dfe0(0xc0d)]=_0x4ff13d[_0xf5dfe0(0x45a)];const _0x405da6=_0x4ff13d[_0xf5dfe0(0x68a)]||[];_0x170f51[_0xf5dfe0(0x860)][_0xf5dfe0(0x749)]('hidden',_0x405da6[_0xf5dfe0(0x3ce)]===0x0),_0x170f51['onclick']=()=>handleClearAllLinksForTopic(_0x3941c3);if(_0x405da6['length']===0x0)_0x34829e[_0xf5dfe0(0x30c)]='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x43fbc8=allQuizzesGlobal[_0xf5dfe0(0x35c)](_0x180e64=>_0x405da6[_0xf5dfe0(0x69d)](_0x180e64['id']));_0x34829e[_0xf5dfe0(0x30c)]=_0x43fbc8[_0xf5dfe0(0x9a0)](_0x2064e4=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22'+_0x2064e4['id']+_0xf5dfe0(0xa09)+_0x2064e4[_0xf5dfe0(0x53e)]+_0xf5dfe0(0xb72)+_0x2064e4['id']+_0xf5dfe0(0xa9e)+_0x2064e4[_0xf5dfe0(0x66b)][_0xf5dfe0(0x3ce)]+'\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2064e4['id']+_0xf5dfe0(0x715)+_0x2064e4['id']+'\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2064e4['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2064e4['id']+_0xf5dfe0(0x2ac)+_0x2064e4['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2064e4['id']+_0xf5dfe0(0xab0)+_0x3941c3+_0xf5dfe0(0xb56)+_0x2064e4['id']+_0xf5dfe0(0x926))['join']('');}document[_0xf5dfe0(0x43c)](_0xf5dfe0(0x771))[_0xf5dfe0(0xb31)]=()=>{openQuizSelectorForBlueprint(_0x3941c3);},document[_0xf5dfe0(0x43c)](_0xf5dfe0(0x47a))[_0xf5dfe0(0xb31)]=()=>_0x3ad205['classList'][_0xf5dfe0(0x61e)]('hidden'),_0x3ad205['classList'][_0xf5dfe0(0xbf3)](_0xf5dfe0(0x6e9));}catch(_0xdd9959){showMessage(_0xdd9959['message']);}}async function openQuizSelectorForBlueprint(_0x279c03){const _0x4d8877=_0x587d0b,_0x10c5fd=document[_0x4d8877(0x43c)](_0x4d8877(0x1d5)),_0xe1f1f8=document[_0x4d8877(0x43c)](_0x4d8877(0xbac));_0xe1f1f8[_0x4d8877(0x860)][_0x4d8877(0x61e)]('hidden'),document[_0x4d8877(0x43c)]('confirm-link-quiz-btn')?.[_0x4d8877(0xbf3)]();const _0x3db278=document[_0x4d8877(0x7dd)](_0x4d8877(0xadb));_0x3db278['id']=_0x4d8877(0x873),_0x3db278[_0x4d8877(0x1ab)]=_0x4d8877(0x260),_0x3db278[_0x4d8877(0xc0d)]=_0x4d8877(0xbc7),_0x3db278['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0x10c5fd[_0x4d8877(0x860)]['remove'](_0x4d8877(0x6e9)),renderQuizBankListForMultiSelect(''),document[_0x4d8877(0x43c)](_0x4d8877(0xf3))[_0x4d8877(0x1fc)][_0x4d8877(0x9b0)]=_0x4d8877(0x5eb),_0x10c5fd['querySelector']('.flex.justify-between.items-center')['appendChild'](_0x3db278);const _0x35498d=(_0x13479d=![])=>{const _0x4311cd=_0x4d8877;_0x10c5fd[_0x4311cd(0x860)][_0x4311cd(0x61e)](_0x4311cd(0x6e9)),document[_0x4311cd(0x43c)]('bulk-quiz-settings-btn')[_0x4311cd(0x1fc)]['display']=_0x4311cd(0xc76),_0x3db278[_0x4311cd(0xbf3)](),_0x13479d&&openTopicQuizBank(_0x279c03);};_0x3db278[_0x4d8877(0xb31)]=async()=>{const _0x464b8c=_0x4d8877,_0x5d4d14=Array[_0x464b8c(0xb3b)](document[_0x464b8c(0xa6e)](_0x464b8c(0xb10)))[_0x464b8c(0x9a0)](_0x1a1e23=>_0x1a1e23[_0x464b8c(0x5d0)]);if(_0x5d4d14[_0x464b8c(0x3ce)]===0x0)return;try{const _0xbf30ca=doc(db,_0x464b8c(0x1f0)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x211f98=(await getDoc(_0xbf30ca))[_0x464b8c(0xc12)](),_0x261b5f=_0x211f98[_0x464b8c(0x4a2)][_0x279c03]['linkedQuizIds']||[],_0x11521b=[...new Set([..._0x261b5f,..._0x5d4d14])];await updateDoc(_0xbf30ca,{[_0x464b8c(0x9cb)+_0x279c03+_0x464b8c(0x3a5)]:_0x11521b}),showMessage('เพิ่ม\x20'+_0x5d4d14['length']+_0x464b8c(0x86)),_0x35498d(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3ceff1){console[_0x464b8c(0x48f)](_0x464b8c(0xc82),_0x3ceff1);}},document[_0x4d8877(0x43c)]('cancel-quiz-bank-btn')['onclick']=()=>_0x35498d(!![]);}catch(_0x27ae89){showMessage(_0x27ae89['message']),_0xe1f1f8[_0x4d8877(0x860)][_0x4d8877(0xbf3)](_0x4d8877(0x6e9));}}function handleClearLinkedQuiz(_0x56cdbf){const _0x34b88c=_0x587d0b;showConfirmation(_0x34b88c(0x3c5),async()=>{const _0x1b5f0e=_0x34b88c;try{const _0x398b48=doc(db,_0x1b5f0e(0x1f0)+appId+_0x1b5f0e(0xb8c),currentBlueprintProjectId);await updateDoc(_0x398b48,{[_0x1b5f0e(0x9cb)+_0x56cdbf+_0x1b5f0e(0x363)]:deleteField()}),showMessage(_0x1b5f0e(0x15d)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x36166b){console[_0x1b5f0e(0x48f)](_0x1b5f0e(0x4ad),_0x36166b),showMessage(_0x1b5f0e(0x617));}});}async function addTopicToProject(){const _0x47a178=_0x587d0b,_0x188ffc=prompt(_0x47a178(0x9e9));if(!_0x188ffc||_0x188ffc['trim']()==='')return;const _0x191f12=prompt(_0x47a178(0x490),_0x47a178(0x87d)),_0x168cb2=prompt(_0x47a178(0x187),_0x47a178(0x947)),_0x48f9a3=_0x47a178(0xc66)+Date['now']()+Math[_0x47a178(0x14d)]()[_0x47a178(0x6ce)](0x24)[_0x47a178(0x55b)](0x2,0x9),_0x44817b={'sara':_0x191f12,'mainTopic':_0x168cb2,'subTopic':_0x188ffc[_0x47a178(0x8e7)](),'status':_0x47a178(0x51c),'lessonContent':null};try{const _0x2d74d2=doc(db,_0x47a178(0x1f0)+appId+_0x47a178(0xb8c),currentBlueprintProjectId);await updateDoc(_0x2d74d2,{[_0x47a178(0x9cb)+_0x48f9a3]:_0x44817b}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x562acb){console[_0x47a178(0x48f)](_0x47a178(0x140),_0x562acb),showMessage(_0x47a178(0x530));}}async function editTopicInProject(_0x31a17f){const _0x457772=_0x587d0b,_0x513c65=document['querySelector'](_0x457772(0x334)+_0x31a17f+'\x22]'),_0x374d13=_0x513c65[_0x457772(0xb1b)]('[data-field=\x22subTopic\x22]'),_0x577295=_0x374d13['textContent'],_0x3c147a=prompt(_0x457772(0x7de),_0x577295);if(!_0x3c147a||_0x3c147a['trim']()===''||_0x3c147a[_0x457772(0x8e7)]()===_0x577295)return;try{const _0x391206=doc(db,'artifacts/'+appId+_0x457772(0xb8c),currentBlueprintProjectId);await updateDoc(_0x391206,{[_0x457772(0x9cb)+_0x31a17f+'.subTopic']:_0x3c147a[_0x457772(0x8e7)]()}),_0x374d13[_0x457772(0xc0d)]=_0x3c147a[_0x457772(0x8e7)](),showMessage(_0x457772(0x479));}catch(_0x4b126e){console[_0x457772(0x48f)](_0x457772(0x836),_0x4b126e),showMessage(_0x457772(0x188));}}async function deleteTopicFromProject(_0x44a915){const _0x145d78=_0x587d0b;if(!confirm(_0x145d78(0x419)))return;try{const _0x4f5a6a=doc(db,_0x145d78(0x1f0)+appId+_0x145d78(0xb8c),currentBlueprintProjectId);await updateDoc(_0x4f5a6a,{[_0x145d78(0x9cb)+_0x44a915]:deleteField()}),document[_0x145d78(0xb1b)]('[data-topic-id=\x22'+_0x44a915+'\x22]')[_0x145d78(0xbf3)](),showMessage(_0x145d78(0x2ba));}catch(_0x51d9bd){console[_0x145d78(0x48f)]('Error\x20deleting\x20topic:',_0x51d9bd),showMessage(_0x145d78(0x220));}}async function generateAndSaveLessonForBlueprint(_0x4baa0d,_0x51134e,_0x82ecff){handleGenerateAndShowLesson(_0x51134e,_0x82ecff);const _0x2722a5=setInterval(async()=>{const _0xd0d8d7=_0x341e,_0x3c8444=document[_0xd0d8d7(0x43c)]('lesson-view-modal'),_0x173504=_0x3c8444[_0xd0d8d7(0x860)][_0xd0d8d7(0xb57)](_0xd0d8d7(0x6e9));if(_0x173504){clearInterval(_0x2722a5);if(currentApplicationData&&currentApplicationData[_0xd0d8d7(0x3ce)]>0x0){const _0x4e5dcd={'point':document['getElementById'](_0xd0d8d7(0x142))['innerHTML'],'memory':document['getElementById']('memoryContent')[_0xd0d8d7(0x30c)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0xd0d8d7(0x43c)](_0xd0d8d7(0x40c))[_0xd0d8d7(0x30c)]};try{const _0x3d8e08=doc(db,_0xd0d8d7(0x1f0)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x3bdf5a=doc(db,_0xd0d8d7(0x1f0)+appId+_0xd0d8d7(0x64d)+currentBlueprintProjectId+_0xd0d8d7(0x89),_0x4baa0d),_0x322f02=writeBatch(db);_0x322f02['set'](_0x3bdf5a,{'content':_0x4e5dcd}),_0x322f02[_0xd0d8d7(0x2ff)](_0x3d8e08,{['topics.'+_0x4baa0d+_0xd0d8d7(0x5e6)]:_0xd0d8d7(0xc3f)}),await _0x322f02[_0xd0d8d7(0x46e)](),console[_0xd0d8d7(0x564)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x4baa0d+_0xd0d8d7(0x7ac)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1c3d1a){console[_0xd0d8d7(0x48f)](_0xd0d8d7(0x2c2),_0x1c3d1a);}}}},0x3e8);}function displayHalfMarkResult(_0x366eda,_0x5edc68){const _0x4b81f1=_0x587d0b,_0x5c333c=_0x366eda>=_0x5edc68/0x2,_0x41cbb6=_0x5c333c?_0x4b81f1(0xfb):_0x4b81f1(0x6bc),_0x19403a=_0x5c333c?_0x4b81f1(0x73d):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0xe7f87a=_0x5c333c?_0x4b81f1(0x522):_0x4b81f1(0x5df),_0x1127aa=_0x5c333c?_0x4b81f1(0x9ae):_0x4b81f1(0x88c),_0x1af420=_0x5c333c?_0x4b81f1(0x2b7):_0x4b81f1(0xbd3);let _0x2b7684=_0x4b81f1(0xab9)+_0x41cbb6+_0x4b81f1(0xa85)+_0x19403a+_0x4b81f1(0xab7)+_0xe7f87a+_0x4b81f1(0xc91)+_0x1127aa+_0x4b81f1(0x3ae)+_0x1af420+_0x4b81f1(0x127);studentResultArea[_0x4b81f1(0x30c)]=_0x2b7684,studentResultArea['classList'][_0x4b81f1(0xbf3)]('hidden'),studentQuizArea[_0x4b81f1(0x860)][_0x4b81f1(0x61e)](_0x4b81f1(0x6e9)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x5c333c});}function displayPerfectScoreResult(_0x8e2a18,_0xe9cee6){const _0x18f191=_0x587d0b,_0x1dc44a=_0x8e2a18===_0xe9cee6,_0x369da1=_0x1dc44a?'bg-yellow-100':_0x18f191(0x2cd),_0x263e0a=_0x1dc44a?_0x18f191(0xa73):_0x18f191(0x3dd),_0x35ee88=_0x1dc44a?_0x18f191(0xb40):_0x18f191(0xc85),_0x406bf1=_0x1dc44a?_0x18f191(0x6b6):_0x18f191(0xb08),_0x2752bb=_0x1dc44a?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x18f191(0x68f);let _0x57e638='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x369da1+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x263e0a+_0x18f191(0xab7)+_0x35ee88+_0x18f191(0xc91)+_0x406bf1+_0x18f191(0x3ae)+_0x2752bb+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x18f191(0x30c)]=_0x57e638,studentResultArea['classList'][_0x18f191(0xbf3)](_0x18f191(0x6e9)),studentQuizArea['classList'][_0x18f191(0x61e)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x8e2a18,'totalQuestions':_0xe9cee6});}function renderIndividualComparisonTable(_0xf54b8d,_0x37112d){const _0x145e07=_0x587d0b;_0xf54b8d[_0x145e07(0x34f)]((_0x486122,_0xdc8a0c)=>(_0xdc8a0c['tGain']??-Infinity)-(_0x486122[_0x145e07(0x318)]??-Infinity));let _0xd19029=_0x145e07(0x99d);_0xf54b8d[_0x145e07(0x3ce)]===0x0?_0xd19029+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0xf54b8d[_0x145e07(0x27f)]((_0x542b18,_0x2a8629)=>{const _0x294305=_0x145e07;let _0x4f3af4='-',_0x26d5ce='';if(_0x542b18['gain']!==null){const _0x411b6c=_0x542b18['gain']>0x0?_0x294305(0xae8):_0x542b18[_0x294305(0x516)]<0x0?'text-red-600':_0x294305(0x3f5),_0x540e83=_0x542b18[_0x294305(0x516)]>0x0?'+':'';_0x4f3af4=_0x294305(0x6c1)+_0x411b6c+'\x22>'+_0x540e83+_0x542b18[_0x294305(0x516)]+_0x294305(0x99a);if(_0x542b18[_0x294305(0x516)]>0x0)_0x26d5ce=_0x294305(0x74c);else _0x542b18[_0x294305(0x516)]<0x0?_0x26d5ce=_0x294305(0x664):_0x26d5ce=_0x294305(0x550);}let _0x23a5f5='-';if(_0x542b18['tGain']!==null){const _0x4a3b58=_0x542b18[_0x294305(0x318)]>0x0?'text-green-600':_0x542b18[_0x294305(0x318)]<0x0?_0x294305(0x99e):_0x294305(0x3f5),_0xea3234=_0x542b18[_0x294305(0x318)]>0x0?'+':'';_0x23a5f5=_0x294305(0x6c1)+_0x4a3b58+'\x22>'+_0xea3234+_0x542b18['tGain'][_0x294305(0x5ef)](0x2)+_0x294305(0x99a);}_0xd19029+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x2a8629+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x542b18[_0x294305(0x683)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x542b18[_0x294305(0x9cd)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x542b18[_0x294305(0x471)]??'-')+_0x294305(0x47f)+_0x4f3af4+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x26d5ce+_0x294305(0x12e)+(_0x542b18['preTScore']?.[_0x294305(0x5ef)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x542b18['postTScore']?.[_0x294305(0x5ef)](0x2)??'-')+_0x294305(0x47f)+_0x23a5f5+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xd19029+=_0x145e07(0x30b),_0x37112d[_0x145e07(0x30c)]=_0xd19029;}function handleRenameQuiz(_0x381010,_0x9cfb3e){const _0x51dacf=_0x587d0b;actionTargetId=_0x381010,document[_0x51dacf(0x43c)](_0x51dacf(0x69e))[_0x51dacf(0x5d0)]=_0x9cfb3e,renameQuizModal[_0x51dacf(0x860)][_0x51dacf(0xbf3)]('hidden');}function setupComparisonModalTabs(){const _0x235302=_0x587d0b,_0x1e8d6e=document[_0x235302(0x43c)](_0x235302(0x2a9)),_0x4a2303=document[_0x235302(0x43c)](_0x235302(0xb0)),_0x5d91b9=document[_0x235302(0x43c)]('comparison-overall-content'),_0x293701=document[_0x235302(0x43c)]('comparison-individual-content');_0x1e8d6e[_0x235302(0x5e1)](_0x235302(0xbf8),()=>{const _0x4b2575=_0x235302;_0x1e8d6e[_0x4b2575(0x860)][_0x4b2575(0x61e)](_0x4b2575(0x52b)),_0x4a2303['classList'][_0x4b2575(0xbf3)](_0x4b2575(0x52b)),_0x5d91b9[_0x4b2575(0x860)][_0x4b2575(0xbf3)]('hidden'),_0x293701[_0x4b2575(0x860)][_0x4b2575(0x61e)](_0x4b2575(0x6e9));}),_0x4a2303[_0x235302(0x5e1)](_0x235302(0xbf8),()=>{const _0x39480f=_0x235302;_0x4a2303['classList']['add']('active'),_0x1e8d6e[_0x39480f(0x860)][_0x39480f(0xbf3)]('active'),_0x293701['classList'][_0x39480f(0xbf3)](_0x39480f(0x6e9)),_0x5d91b9[_0x39480f(0x860)][_0x39480f(0x61e)]('hidden');});}setupComparisonModalTabs();function listenForLiveGameUpdates(){if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x8d3495=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x8d3495,_0x559a1c=>{const _0x4158b5=_0x341e;if(!_0x559a1c[_0x4158b5(0x2ef)]()){showMessage('เกมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x4158b5(0x71f)?showView(_0x4158b5(0xaf7)):showView(_0x4158b5(0x8de));return;}const _0x1a7704=_0x559a1c['data']();_0x1a7704[_0x4158b5(0x33c)]&&(currentQuizData=_0x1a7704[_0x4158b5(0x33c)]);!currentQuizData&&_0x1a7704[_0x4158b5(0xb34)]&&((async()=>{const _0xaa5efb=_0x4158b5;try{const _0x5466c7=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1a7704['quizId']),_0x65e3ef=await getDoc(_0x5466c7);_0x65e3ef['exists']()&&(currentQuizData={'id':_0x65e3ef['id'],..._0x65e3ef['data']()});}catch(_0x1f54a2){console[_0xaa5efb(0x48f)](_0xaa5efb(0xc3),_0x1f54a2);}})());switch(_0x1a7704[_0x4158b5(0x658)]){case _0x4158b5(0xa33):if(currentMode===_0x4158b5(0x71f)){const _0x56e908=_0x1a7704[_0x4158b5(0x365)]?Object[_0x4158b5(0x31d)](_0x1a7704['players']):[],_0x3f993f=_0x56e908[_0x4158b5(0x35c)](([_0x4e32ef,_0x53c1c5])=>_0x53c1c5[_0x4158b5(0x658)]===_0x4158b5(0x52b)),_0x2a2c53=document[_0x4158b5(0x43c)]('player-count');if(_0x2a2c53)_0x2a2c53['textContent']=_0x3f993f[_0x4158b5(0x3ce)];const _0x351042=document[_0x4158b5(0x43c)]('player-list-lobby');_0x351042&&(_0x351042[_0x4158b5(0x30c)]=_0x3f993f[_0x4158b5(0x9a0)](([_0x5613c5,_0xaf57ab])=>_0x4158b5(0x8b0)+_0x5613c5+_0x4158b5(0xb55)+_0x5613c5+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4158b5(0xd9)](''));const _0x1a0980=document[_0x4158b5(0x43c)](_0x4158b5(0x1e7));_0x1a0980&&(_0x1a0980[_0x4158b5(0x35d)]=_0x3f993f['length']===0x0);}else showView(_0x4158b5(0x517)),liveGameView[_0x4158b5(0x30c)]=_0x4158b5(0x27e)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x4158b5(0x72b):const _0x400dca=_0x1a7704[_0x4158b5(0xaf4)];if(currentQuizData&&currentQuizData['questions'][_0x400dca]){const _0x4557a9=currentQuizData[_0x4158b5(0x66b)][_0x400dca],_0x2be4b4=_0x1a7704[_0x4158b5(0x45b)]||_0x4158b5(0x384);switch(_0x2be4b4){case _0x4158b5(0x98):currentMode==='admin'?showAdminSummaryView(_0x1a7704,_0x4557a9):showPlayerSummaryView(_0x1a7704,currentStudentName);break;case'leaderboard':currentMode==='admin'&&showTop5LeaderboardView(_0x1a7704);break;case'answering':default:if(currentMode===_0x4158b5(0x71f)){const _0x37d5c7=writeBatch(db);let _0x21d89c=![];Object[_0x4158b5(0x31d)](_0x1a7704['players'])[_0x4158b5(0x27f)](([_0xa07270,_0x42899f])=>{const _0x200d7a=_0x4158b5;if(_0x42899f[_0x200d7a(0x658)]===_0x200d7a(0x52b)&&_0x42899f[_0x200d7a(0x301)]&&!_0x42899f[_0x200d7a(0xbc4)]){_0x21d89c=!![];const _0x839417=_0x42899f[_0x200d7a(0x301)]['toDate']()-_0x1a7704[_0x200d7a(0xa98)][_0x200d7a(0x8b4)]();let _0xea6520=0x0;if(_0x42899f[_0x200d7a(0x8fc)]){const _0x2ad932=0x3e8,_0x418eb0=0x1f4,_0x2e5e94=0x4e20;let _0xa3e99a=_0x839417/_0x2e5e94;if(_0xa3e99a>0x1)_0xa3e99a=0x1;const _0x580b0f=Math[_0x200d7a(0x962)](_0xa3e99a*_0x418eb0);_0xea6520=_0x2ad932-_0x580b0f;}const _0x2fbbf8=doc(db,_0x200d7a(0x1f0)+appId+_0x200d7a(0x618),currentLiveGameId);_0x37d5c7[_0x200d7a(0x2ff)](_0x2fbbf8,{[_0x200d7a(0x87c)+_0xa07270+'.score']:increment(_0xea6520),['players.'+_0xa07270+_0x200d7a(0x12b)]:_0xea6520,[_0x200d7a(0x87c)+_0xa07270+'.isScored']:!![]});}});_0x21d89c&&_0x37d5c7[_0x4158b5(0x46e)]()[_0x4158b5(0xc35)](_0x39c882=>console[_0x4158b5(0x48f)](_0x4158b5(0x6e4),_0x39c882));lastRenderedAdminQuestionIndex!==_0x400dca&&(showAdminLiveQuestionView(_0x4557a9,_0x400dca,currentQuizData['questions'][_0x4158b5(0x3ce)]),lastRenderedAdminQuestionIndex=_0x400dca);const _0x3a0135=_0x1a7704[_0x4158b5(0x365)]||{},_0x4bd570=Object[_0x4158b5(0x512)](_0x3a0135)['filter'](_0x147321=>_0x147321['status']===_0x4158b5(0x52b)),_0x54b875=_0x4bd570['length'],_0x3b7d5c=_0x4bd570[_0x4158b5(0x35c)](_0x4cda79=>_0x4cda79[_0x4158b5(0x117)]===!![])[_0x4158b5(0x3ce)],_0x49f374=document[_0x4158b5(0x43c)](_0x4158b5(0x84b));if(_0x49f374)_0x49f374[_0x4158b5(0xc0d)]=_0x3b7d5c+'/'+_0x54b875;const _0xcfbc1e=document[_0x4158b5(0x43c)](_0x4158b5(0x723));if(_0xcfbc1e){let _0x54e53b=Object['entries'](_0x3a0135)[_0x4158b5(0x35c)](([_0x34d1,_0x4ab667])=>_0x4ab667['status']==='active')[_0x4158b5(0x9a0)](([_0x33603b,_0x5a72a8])=>{const _0x2a4f64=_0x4158b5,_0x531cdc=_0x5a72a8[_0x2a4f64(0x117)]===!![],_0x1e8e47=_0x531cdc?_0x2a4f64(0x99f):_0x2a4f64(0x914),_0x5efa0b=_0x531cdc?_0x2a4f64(0x2d3):_0x2a4f64(0x186);return _0x2a4f64(0x6eb)+_0x1e8e47+_0x2a4f64(0x83e)+_0x5efa0b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x33603b+_0x2a4f64(0xb95)+_0x33603b+_0x2a4f64(0xf1);})[_0x4158b5(0xd9)]('');_0xcfbc1e['innerHTML']=_0x54e53b||_0x4158b5(0x5e9);}_0x54b875>0x0&&_0x3b7d5c===_0x54b875&&revealAnswerForAdmin(_0x400dca,currentQuizData[_0x4158b5(0x66b)]['length']);}else{const _0x44db2d=_0x1a7704[_0x4158b5(0x365)][currentStudentName];_0x44db2d&&!_0x44db2d[_0x4158b5(0x117)]&&showStudentLiveQuestionView(_0x4557a9,_0x400dca,currentQuizData[_0x4158b5(0x66b)][_0x4158b5(0x3ce)]);}break;}}break;case _0x4158b5(0xb00):showPodiumView(_0x1a7704[_0x4158b5(0x365)],_0x4158b5(0x22b));break;}});}async function openGlobalActivityModal(){const _0x296cb1=_0x587d0b;if(allQuizzesGlobal[_0x296cb1(0x3ce)]===0x0){const _0x33b81d=await getDocs(collection(db,_0x296cb1(0x1f0)+appId+_0x296cb1(0x92d)));allQuizzesGlobal=_0x33b81d[_0x296cb1(0xbb3)]['map'](_0xf1c7bd=>({'id':_0xf1c7bd['id'],..._0xf1c7bd[_0x296cb1(0xc12)]()}));}renderGlobalActivityList(''),document[_0x296cb1(0x43c)](_0x296cb1(0x66f))['classList'][_0x296cb1(0xbf3)](_0x296cb1(0x6e9));}function renderGlobalActivityList(_0x5262e4=''){const _0x175d83=_0x587d0b,_0x4af72d=document['getElementById']('global-activity-quiz-list'),_0x59e306=_0x5262e4[_0x175d83(0x35e)]()[_0x175d83(0x8e7)](),_0x313633=allQuizzesGlobal[_0x175d83(0x9a0)](_0x5439a8=>({..._0x5439a8,'projectName':allProjects['find'](_0x34ad63=>_0x34ad63['id']===_0x5439a8[_0x175d83(0x2d6)])?.[_0x175d83(0xfd)]||_0x175d83(0x454)}))[_0x175d83(0x35c)](_0x27787=>(_0x27787[_0x175d83(0x53e)]||'')[_0x175d83(0x35e)]()[_0x175d83(0x69d)](_0x59e306)||(_0x27787[_0x175d83(0xfd)]||'')[_0x175d83(0x35e)]()[_0x175d83(0x69d)](_0x59e306));document[_0x175d83(0x43c)](_0x175d83(0xbd5))[_0x175d83(0xc0d)]='('+_0x313633[_0x175d83(0x3ce)]+_0x175d83(0x1a5),_0x4af72d['innerHTML']=_0x313633[_0x175d83(0x3ce)]?_0x313633['map'](_0x32fc80=>_0x175d83(0x4f9)+(_0x32fc80[_0x175d83(0x53e)]||_0x175d83(0x1bd))+_0x175d83(0x72f)+(_0x32fc80[_0x175d83(0x66b)]?.[_0x175d83(0x3ce)]||0x0)+_0x175d83(0x76d)+_0x32fc80[_0x175d83(0xfd)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x32fc80['id']+'\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x32fc80['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x32fc80['id']+_0x175d83(0x3d0)+_0x32fc80['id']+_0x175d83(0x3ed))[_0x175d83(0xd9)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0x2a43b5){const _0x25b9ff=_0x587d0b;if(!currentLiveGameId||!_0x2a43b5)return;const _0x6be138=doc(db,_0x25b9ff(0x1f0)+appId+'/public/data/liveGames',currentLiveGameId),_0x147d16={};_0x147d16[_0x25b9ff(0x87c)+_0x2a43b5+_0x25b9ff(0x5e6)]=_0x25b9ff(0x362);try{await updateDoc(_0x6be138,_0x147d16);}catch(_0x4b5248){console[_0x25b9ff(0x48f)](_0x25b9ff(0x55a)+_0x2a43b5+':',_0x4b5248),showMessage(_0x25b9ff(0x504));}}async function authenticateUser(){const _0x12c4a6=_0x587d0b;try{typeof __initial_auth_token!==_0x12c4a6(0x6a7)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x358fc6){console['error'](_0x12c4a6(0x19e),_0x358fc6),showMessage(_0x12c4a6(0x881));}}function showView(_0x56f903){const _0x14e872=_0x587d0b;adminView[_0x14e872(0x860)][_0x14e872(0x61e)](_0x14e872(0x6e9)),studentView['classList'][_0x14e872(0x61e)](_0x14e872(0x6e9)),projectDashboardView['classList']['add']('hidden'),projectDetailView['classList'][_0x14e872(0x61e)](_0x14e872(0x6e9)),quizResultsView['classList'][_0x14e872(0x61e)](_0x14e872(0x6e9)),liveGameView['classList']['add'](_0x14e872(0x6e9)),document[_0x14e872(0x43c)]('blueprint-project-manager-view')[_0x14e872(0x860)][_0x14e872(0x61e)](_0x14e872(0x6e9)),studentInitialView[_0x14e872(0x860)]['add'](_0x14e872(0x6e9)),studentJoinGameView[_0x14e872(0x860)][_0x14e872(0x61e)](_0x14e872(0x6e9)),studentNameSelectionView[_0x14e872(0x860)][_0x14e872(0x61e)]('hidden'),studentQuizArea[_0x14e872(0x860)]['add'](_0x14e872(0x6e9)),studentResultArea[_0x14e872(0x860)]['add'](_0x14e872(0x6e9)),studentReadingArea[_0x14e872(0x860)]['add'](_0x14e872(0x6e9));const _0x38ad0c=document['getElementById'](_0x14e872(0x86c)),_0x5b0c1f=document['getElementById']('student-progress-view');if(_0x38ad0c)_0x38ad0c[_0x14e872(0x860)]['add'](_0x14e872(0x6e9));if(_0x5b0c1f)_0x5b0c1f[_0x14e872(0x860)]['add'](_0x14e872(0x6e9));switch(_0x56f903){case'admin-dashboard':adminView[_0x14e872(0x860)][_0x14e872(0xbf3)](_0x14e872(0x6e9)),projectDashboardView[_0x14e872(0x860)][_0x14e872(0xbf3)](_0x14e872(0x6e9));break;case'project-detail':adminView[_0x14e872(0x860)]['remove'](_0x14e872(0x6e9)),projectDetailView[_0x14e872(0x860)][_0x14e872(0xbf3)]('hidden');break;case _0x14e872(0x1a0):adminView['classList'][_0x14e872(0xbf3)](_0x14e872(0x6e9)),quizResultsView[_0x14e872(0x860)][_0x14e872(0xbf3)](_0x14e872(0x6e9));break;case'student':studentView['classList'][_0x14e872(0xbf3)]('hidden'),studentInitialView[_0x14e872(0x860)][_0x14e872(0xbf3)](_0x14e872(0x6e9));break;case'live-game':liveGameView['classList'][_0x14e872(0xbf3)](_0x14e872(0x6e9));break;case _0x14e872(0x3b1):studentView[_0x14e872(0x860)][_0x14e872(0xbf3)](_0x14e872(0x6e9));if(_0x38ad0c)_0x38ad0c[_0x14e872(0x860)][_0x14e872(0xbf3)]('hidden');break;case _0x14e872(0xb4a):studentView[_0x14e872(0x860)][_0x14e872(0xbf3)]('hidden');if(_0x5b0c1f)_0x5b0c1f[_0x14e872(0x860)]['remove'](_0x14e872(0x6e9));break;default:studentView['classList'][_0x14e872(0xbf3)]('hidden'),studentInitialView[_0x14e872(0x860)]['remove'](_0x14e872(0x6e9));break;}}function showJoinGameView(){const _0x33d4d1=_0x587d0b;studentInitialView[_0x33d4d1(0x860)][_0x33d4d1(0x61e)](_0x33d4d1(0x6e9)),studentJoinGameView[_0x33d4d1(0x860)][_0x33d4d1(0xbf3)](_0x33d4d1(0x6e9));}async function handleSaveVisibilitySettings(){const _0x100a76=_0x587d0b;if(!currentProjectId)return;const _0x2a3bb2=doc(db,_0x100a76(0x1f0)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x2a3bb2,{'settings.showInStudentDashboard':document[_0x100a76(0x43c)](_0x100a76(0x137))[_0x100a76(0x1a3)],'settings.isPasscodeEnabled':document[_0x100a76(0x43c)](_0x100a76(0x770))[_0x100a76(0x1a3)],'settings.passcode':document[_0x100a76(0x43c)](_0x100a76(0x192))[_0x100a76(0x5d0)][_0x100a76(0x8e7)]()}),showMessage(_0x100a76(0x281));}catch(_0x49a415){console['error'](_0x100a76(0x262),_0x49a415),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x3bc8bd=_0x587d0b,_0x5c8eee=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x543));_0x5c8eee&&(_0x5c8eee[_0x3bc8bd(0x5e1)](_0x3bc8bd(0x7f1),wakeUpScreen),_0x5c8eee[_0x3bc8bd(0x5e1)](_0x3bc8bd(0x162),wakeUpScreen));document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x97))['addEventListener'](_0x3bc8bd(0xbf8),async()=>{const _0x234378=_0x3bc8bd;if(!currentBlueprintProjectId)return;const _0x56fee0=document['getElementById'](_0x234378(0x759))['value'][_0x234378(0x8e7)](),_0x596b35=doc(db,_0x234378(0x1f0)+appId+_0x234378(0xb8c),currentBlueprintProjectId);try{await updateDoc(_0x596b35,{'referenceFileUrl':_0x56fee0}),showMessage(_0x234378(0x319));}catch(_0xed48eb){console[_0x234378(0x48f)](_0x234378(0x3b9),_0xed48eb),showMessage(_0x234378(0xc8a));}}),document[_0x3bc8bd(0x43c)]('add-parallel-shortcut-tab-btn')['addEventListener'](_0x3bc8bd(0xbf8),handleAddParallelShortcutTab),document['getElementById'](_0x3bc8bd(0xa7a))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x4a0bd6=>{const _0x5dc9df=_0x3bc8bd;_0x4a0bd6[_0x5dc9df(0x3b5)]['closest'](_0x5dc9df(0x64b))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document[_0x5dc9df(0x43c)]('additional-parallel-shortcuts-modal')[_0x5dc9df(0x860)][_0x5dc9df(0xbf3)](_0x5dc9df(0x6e9)));}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x7e9))[_0x3bc8bd(0x5e1)]('click',()=>{const _0x38699e=_0x3bc8bd;document['getElementById'](_0x38699e(0x5a2))[_0x38699e(0x860)][_0x38699e(0x61e)](_0x38699e(0x6e9));}),document[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x3bd5c8=>{const _0x244c00=_0x3bc8bd;!_0x3bd5c8[_0x244c00(0x3b5)]['closest'](_0x244c00(0x6d4))&&document[_0x244c00(0xa6e)](_0x244c00(0x9b3))['forEach'](_0x5c12f5=>_0x5c12f5[_0x244c00(0x860)][_0x244c00(0x61e)]('hidden'));}),document[_0x3bc8bd(0x43c)]('add-file-shortcut-tab-btn')[_0x3bc8bd(0x5e1)]('click',handleAddFileShortcutTab),document['getElementById']('file-input-area')[_0x3bc8bd(0x5e1)]('click',_0x1f4189=>{const _0xc458f1=_0x3bc8bd;_0x1f4189[_0xc458f1(0x3b5)]['closest'](_0xc458f1(0x8e8))&&(activeFileShortcutTabId='all',renderAdditionalFileShortcutsModal(),document[_0xc458f1(0x43c)](_0xc458f1(0x54f))['classList'][_0xc458f1(0xbf3)](_0xc458f1(0x6e9)));}),document[_0x3bc8bd(0x43c)]('close-additional-file-shortcuts-btn')['addEventListener']('click',()=>{const _0x2fe62c=_0x3bc8bd;document['getElementById'](_0x2fe62c(0x54f))[_0x2fe62c(0x860)][_0x2fe62c(0x61e)]('hidden');}),document[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x4e4736=>{const _0xa7dd8=_0x3bc8bd;!_0x4e4736[_0xa7dd8(0x3b5)][_0xa7dd8(0x3e4)](_0xa7dd8(0xc3c))&&document[_0xa7dd8(0xa6e)](_0xa7dd8(0xabd))[_0xa7dd8(0x27f)](_0xd44857=>_0xd44857[_0xa7dd8(0x860)][_0xa7dd8(0x61e)]('hidden'));}),document[_0x3bc8bd(0x43c)]('add-shortcut-tab-btn')[_0x3bc8bd(0x5e1)]('click',handleAddShortcutTab),document['getElementById'](_0x3bc8bd(0x910))[_0x3bc8bd(0x5e1)]('click',_0x3d0498=>{const _0x5db177=_0x3bc8bd,_0x482d10=_0x3d0498[_0x5db177(0x3b5)][_0x5db177(0x3e4)](_0x5db177(0x80a)),_0x4af023=_0x3d0498['target']['closest'](_0x5db177(0xb61)),_0x5a9ed4=_0x3d0498['target'][_0x5db177(0x3e4)](_0x5db177(0xc78));if(_0x4af023)openParallelTestShortcutEditor(_0x4af023[_0x5db177(0x82f)]['id']);else{if(_0x5a9ed4){const _0x1bf2ff=_0x5a9ed4['dataset']['id'];showConfirmation(_0x5db177(0x990),async()=>{const _0x55e53f=_0x5db177,_0x50d6a1=parallelTestShortcuts[_0x55e53f(0x35c)](_0x4d752a=>_0x4d752a['id']!==_0x1bf2ff),_0x34562a=doc(db,_0x55e53f(0x397),'parallelTestShortcutsConfig');await setDoc(_0x34562a,{'shortcuts':_0x50d6a1},{'merge':!![]});});}else _0x482d10&&handleParallelTestShortcutClick(_0x482d10['dataset']['id']);}}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x357))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>openParallelTestShortcutEditor(null)),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x25f))['addEventListener'](_0x3bc8bd(0xbf8),()=>{const _0x2875c3=_0x3bc8bd;document[_0x2875c3(0x43c)]('parallel-shortcut-editor-modal')['classList'][_0x2875c3(0x61e)](_0x2875c3(0x6e9));}),document['getElementById'](_0x3bc8bd(0xc0e))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),saveParallelTestShortcutChanges),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xa7a))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x298dd6=>{const _0x11a80a=_0x3bc8bd;_0x298dd6[_0x11a80a(0x3b5)][_0x11a80a(0x3e4)](_0x11a80a(0x64b))&&document[_0x11a80a(0x43c)]('additional-parallel-shortcuts-modal')[_0x11a80a(0x860)]['remove'](_0x11a80a(0x6e9));}),document['getElementById']('close-additional-parallel-shortcuts-btn')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x8db31e=_0x3bc8bd;document[_0x8db31e(0x43c)](_0x8db31e(0x5a2))[_0x8db31e(0x860)][_0x8db31e(0x61e)](_0x8db31e(0x6e9));}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x89a))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x5940ce=>{const _0x1ed961=_0x3bc8bd,_0x2467ee=document['getElementById']('additional-parallel-shortcuts-modal'),_0x4e82fc=_0x5940ce[_0x1ed961(0x3b5)][_0x1ed961(0x3e4)](_0x1ed961(0x1e5)),_0x5aa53a=_0x5940ce['target'][_0x1ed961(0x3e4)](_0x1ed961(0x3b2)),_0x42412c=_0x5940ce[_0x1ed961(0x3b5)][_0x1ed961(0x3e4)](_0x1ed961(0x7b5));if(_0x4e82fc)_0x2467ee[_0x1ed961(0x860)]['add']('hidden'),handleParallelTestShortcutClick(_0x4e82fc['dataset']['id']);else{if(_0x5aa53a)_0x2467ee[_0x1ed961(0x860)]['add'](_0x1ed961(0x6e9)),openParallelTestShortcutEditor(_0x5aa53a[_0x1ed961(0x82f)]['id']);else{if(_0x42412c){const _0x50dc51=_0x42412c[_0x1ed961(0x82f)]['id'];showConfirmation(_0x1ed961(0x990),async()=>{const _0x2043b0=_0x1ed961,_0x41cb3b=parallelTestShortcuts[_0x2043b0(0x35c)](_0x5bfd2f=>_0x5bfd2f['id']!==_0x50dc51),_0x52c17a=doc(db,_0x2043b0(0x397),_0x2043b0(0x9c5));await setDoc(_0x52c17a,{'shortcuts':_0x41cb3b},{'merge':!![]});});}}}}),document['getElementById'](_0x3bc8bd(0xc3b))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x17e410=>{const _0x14091a=_0x3bc8bd,_0xf6928c=_0x17e410[_0x14091a(0x3b5)]['closest']('.file-shortcut-btn'),_0x33065f=_0x17e410['target']['closest']('.edit-file-shortcut-btn'),_0x15c715=_0x17e410[_0x14091a(0x3b5)][_0x14091a(0x3e4)](_0x14091a(0x133));if(_0x33065f)openFileShortcutEditor(_0x33065f['dataset']['id']);else{if(_0x15c715){const _0x28bcfb=_0x15c715[_0x14091a(0x82f)]['id'];showConfirmation(_0x14091a(0x990),async()=>{const _0x40bebb=_0x14091a,_0x586ff1=fileShortcuts[_0x40bebb(0x35c)](_0x92a1f2=>_0x92a1f2['id']!==_0x28bcfb),_0xa7bdfa=doc(db,'globalSettings','fileShortcutsConfig');await setDoc(_0xa7bdfa,{'shortcuts':_0x586ff1},{'merge':!![]});});}else _0xf6928c&&handleFileShortcutClick(_0xf6928c[_0x14091a(0x82f)]['id']);}}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x3e6))['addEventListener'](_0x3bc8bd(0xbf8),()=>openFileShortcutEditor(null)),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x46a))[_0x3bc8bd(0x5e1)]('click',()=>{const _0x3fd69d=_0x3bc8bd;document['getElementById'](_0x3fd69d(0x6f0))['classList'][_0x3fd69d(0x61e)](_0x3fd69d(0x6e9));}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x70f))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),saveFileShortcutChanges),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x3b4))['addEventListener'](_0x3bc8bd(0xbf8),_0x31242c=>{const _0x4fbeb5=_0x3bc8bd;_0x31242c[_0x4fbeb5(0x3b5)][_0x4fbeb5(0x3e4)](_0x4fbeb5(0x8e8))&&document['getElementById']('additional-file-shortcuts-modal')['classList'][_0x4fbeb5(0xbf3)]('hidden');}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xb4c))['addEventListener'](_0x3bc8bd(0xbf8),()=>{const _0x5ab287=_0x3bc8bd;document['getElementById'](_0x5ab287(0x54f))[_0x5ab287(0x860)][_0x5ab287(0x61e)]('hidden');}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x22c))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x3a8745=>{const _0xbf2bf3=_0x3bc8bd,_0x511864=document[_0xbf2bf3(0x43c)](_0xbf2bf3(0x54f)),_0x4d2d44=_0x3a8745[_0xbf2bf3(0x3b5)][_0xbf2bf3(0x3e4)](_0xbf2bf3(0x1e2)),_0x3f053e=_0x3a8745['target'][_0xbf2bf3(0x3e4)](_0xbf2bf3(0x1a4)),_0x47ad0b=_0x3a8745['target']['closest']('.delete-hidden-file-shortcut-btn');if(_0x4d2d44)_0x511864[_0xbf2bf3(0x860)]['add'](_0xbf2bf3(0x6e9)),handleFileShortcutClick(_0x4d2d44[_0xbf2bf3(0x82f)]['id']);else{if(_0x3f053e)_0x511864[_0xbf2bf3(0x860)][_0xbf2bf3(0x61e)]('hidden'),openFileShortcutEditor(_0x3f053e[_0xbf2bf3(0x82f)]['id']);else{if(_0x47ad0b){const _0x525aed=_0x47ad0b['dataset']['id'];showConfirmation(_0xbf2bf3(0x990),async()=>{const _0x208e0f=_0xbf2bf3,_0x449414=fileShortcuts['filter'](_0x5d37cf=>_0x5d37cf['id']!==_0x525aed),_0x239727=doc(db,_0x208e0f(0x397),'fileShortcutsConfig');await setDoc(_0x239727,{'shortcuts':_0x449414},{'merge':!![]});});}}}}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x2d5))['addEventListener'](_0x3bc8bd(0xbf8),_0x125e5e=>{const _0x4a0c08=_0x3bc8bd;_0x125e5e[_0x4a0c08(0x3b5)][_0x4a0c08(0x3e4)]('#open-additional-shortcuts-btn')&&(activeShortcutTabId='all',renderAdditionalShortcutsModal(),document[_0x4a0c08(0x43c)](_0x4a0c08(0xa24))[_0x4a0c08(0x860)][_0x4a0c08(0xbf3)](_0x4a0c08(0x6e9)));}),document[_0x3bc8bd(0x43c)]('close-additional-shortcuts-btn')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x3c2fb6=_0x3bc8bd;document[_0x3c2fb6(0x43c)](_0x3c2fb6(0xa24))[_0x3c2fb6(0x860)][_0x3c2fb6(0x61e)]('hidden');}),document[_0x3bc8bd(0x43c)]('additional-shortcuts-list')['addEventListener'](_0x3bc8bd(0xbf8),_0x4cdcbe=>{const _0xc4759=_0x3bc8bd,_0x1c502d=_0x4cdcbe[_0xc4759(0x3b5)]['closest']('.use-hidden-shortcut-btn'),_0x26172f=_0x4cdcbe[_0xc4759(0x3b5)]['closest']('.edit-hidden-shortcut-btn'),_0x10ca5f=_0x4cdcbe['target'][_0xc4759(0x3e4)](_0xc4759(0x25c)),_0x2b0916=document['getElementById'](_0xc4759(0xa24));if(_0x1c502d)_0x2b0916[_0xc4759(0x860)][_0xc4759(0x61e)](_0xc4759(0x6e9)),handleShortcutClick(_0x1c502d[_0xc4759(0x82f)]['id']);else{if(_0x26172f)_0x2b0916[_0xc4759(0x860)]['add']('hidden'),openShortcutEditor(_0x26172f[_0xc4759(0x82f)]['id']);else{if(_0x10ca5f){const _0x23b5d3=_0x10ca5f[_0xc4759(0x82f)]['id'],_0x720bc2=blueprintShortcuts[_0xc4759(0xa3a)](_0x13a34f=>_0x13a34f['id']===_0x23b5d3)?.[_0xc4759(0x683)];showConfirmation(_0xc4759(0x8cf)+_0x720bc2+'\x22?',async()=>{const _0x4ca3da=_0xc4759,_0x3ae14f=blueprintShortcuts[_0x4ca3da(0x35c)](_0x2c6798=>_0x2c6798['id']!==_0x23b5d3);try{const _0x3b0abf=doc(db,_0x4ca3da(0x397),_0x4ca3da(0x159));await setDoc(_0x3b0abf,{'blueprintShortcuts':_0x3ae14f},{'merge':!![]});}catch(_0x473281){console['error'](_0x4ca3da(0xab8),_0x473281);}});}}}}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x399))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x21c475=>{const _0x2a7728=_0x3bc8bd,_0xd2cfb5=_0x21c475[_0x2a7728(0x3b5)][_0x2a7728(0x3e4)](_0x2a7728(0x50a)),_0x1b0e67=_0x21c475[_0x2a7728(0x3b5)][_0x2a7728(0x3e4)]('.edit-shortcut-btn'),_0x5f3b0d=_0x21c475[_0x2a7728(0x3b5)][_0x2a7728(0x3e4)]('.delete-shortcut-btn');if(_0x1b0e67)openShortcutEditor(_0x1b0e67['dataset']['id']);else{if(_0x5f3b0d){const _0x1def07=_0x5f3b0d[_0x2a7728(0x82f)]['id'],_0x314584=blueprintShortcuts[_0x2a7728(0xa3a)](_0x531a60=>_0x531a60['id']===_0x1def07)?.['name'];showConfirmation(_0x2a7728(0x8cf)+_0x314584+'\x22?',async()=>{const _0x196563=_0x2a7728,_0x5bda07=blueprintShortcuts[_0x196563(0x35c)](_0x1a8789=>_0x1a8789['id']!==_0x1def07);try{const _0x2d4d5e=doc(db,'globalSettings',_0x196563(0x159));await setDoc(_0x2d4d5e,{'blueprintShortcuts':_0x5bda07},{'merge':!![]});}catch(_0x9553f1){console['error']('Error\x20deleting\x20shortcut:',_0x9553f1);}});}else _0xd2cfb5&&handleShortcutClick(_0xd2cfb5[_0x2a7728(0x82f)]['id']);}}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x848))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>openShortcutEditor(null)),document['getElementById'](_0x3bc8bd(0x4af))[_0x3bc8bd(0x5e1)]('click',()=>{const _0x55527c=_0x3bc8bd;document[_0x55527c(0x43c)](_0x55527c(0xb66))[_0x55527c(0x860)]['add'](_0x55527c(0x6e9));}),document[_0x3bc8bd(0x43c)]('save-shortcut-btn')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),saveShortcutChanges),document['getElementById'](_0x3bc8bd(0x475))[_0x3bc8bd(0x5e1)]('click',async()=>{const _0x3d703d=_0x3bc8bd,_0x1627e5=document['getElementById']('blueprint-upload-input'),_0x8f3e84=document[_0x3d703d(0x43c)](_0x3d703d(0x6fb));_0x1627e5[_0x3d703d(0xc03)][_0x3d703d(0x3ce)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x1627e5['files'][0x0],_0x8f3e84[_0x3d703d(0xc03)][0x0]||null):showMessage(_0x3d703d(0x13d));}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xbac))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),async _0x43ed2f=>{const _0x399016=_0x3bc8bd,_0x56d4a1=document[_0x399016(0x43c)](_0x399016(0xbac)),_0x506d7d=_0x43ed2f[_0x399016(0x3b5)][_0x399016(0x3e4)](_0x399016(0x4fb)),_0x5c40cd=_0x43ed2f['target']['closest'](_0x399016(0x482)),_0x3ce311=_0x43ed2f[_0x399016(0x3b5)]['closest']('.bp-present-btn'),_0x2d85a9=_0x43ed2f['target'][_0x399016(0x3e4)](_0x399016(0x7a2)),_0x57ba2b=_0x43ed2f['target'][_0x399016(0x3e4)](_0x399016(0xc86)),_0x5a0602=_0x43ed2f[_0x399016(0x3b5)][_0x399016(0x3e4)](_0x399016(0x62a));if(_0x506d7d){cameFromBlueprint=!![];const _0x27a7d4=_0x506d7d[_0x399016(0x82f)][_0x399016(0xb34)];showQuizDetailView(_0x27a7d4),_0x56d4a1['classList'][_0x399016(0x61e)](_0x399016(0x6e9));}else{if(_0x5c40cd){const _0x2498f3=_0x5c40cd[_0x399016(0x82f)]['topicId'],_0xc0edeb=_0x5c40cd['dataset'][_0x399016(0xb34)],_0x27a335=allQuizzesGlobal[_0x399016(0xa3a)](_0x5228a3=>_0x5228a3['id']===_0xc0edeb),_0x39dd12=_0x27a335?_0x27a335[_0x399016(0x53e)]:_0x399016(0x52e);showConfirmation(_0x399016(0x5d2)+_0x39dd12+_0x399016(0x491),async()=>{const _0x5bda13=_0x399016;try{const _0x5a8d11=doc(db,_0x5bda13(0x1f0)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x5a8d11,{['topics.'+_0x2498f3+_0x5bda13(0x3a5)]:arrayRemove(_0xc0edeb)}),showMessage(_0x5bda13(0x15e)),openTopicQuizBank(_0x2498f3),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4abda6){console['error'](_0x5bda13(0x333),_0x4abda6),showMessage(_0x5bda13(0xbb8));}});}else{if(_0x3ce311){cameFromBlueprint=!![];const _0x5ecfbc=_0x3ce311[_0x399016(0x82f)][_0x399016(0xb34)],_0x346b93=allQuizzesGlobal['find'](_0x1f7d67=>_0x1f7d67['id']===_0x5ecfbc);_0x346b93&&(startPresentation(_0x346b93),_0x56d4a1[_0x399016(0x860)]['add']('hidden'));}else{if(_0x2d85a9){cameFromBlueprint=!![];const _0x4b4626=_0x2d85a9[_0x399016(0x82f)]['quizId'],_0x2bb33e=allQuizzesGlobal['find'](_0x4b004a=>_0x4b004a['id']===_0x4b4626);_0x2bb33e&&(currentQuizData=_0x2bb33e,startAdminTest(),_0x56d4a1['classList']['add'](_0x399016(0x6e9)));}else{if(_0x57ba2b)cameFromBlueprint=!![],handleStartLiveRace(_0x57ba2b[_0x399016(0x82f)][_0x399016(0xb34)]),_0x56d4a1['classList'][_0x399016(0x61e)](_0x399016(0x6e9));else{if(_0x5a0602){cameFromBlueprint=!![];const _0x3afa17=_0x5a0602['dataset']['quizId'],_0x1775a7=_0x5a0602[_0x399016(0x82f)]['mode'],_0x422364=allQuizzesGlobal[_0x399016(0xa3a)](_0x3d86a8=>_0x3d86a8['id']===_0x3afa17);_0x422364&&(showGameStartConfirmationModal(_0x3afa17,_0x1775a7,_0x422364['topic']),_0x56d4a1['classList'][_0x399016(0x61e)](_0x399016(0x6e9)));}}}}}}}),document[_0x3bc8bd(0x43c)]('manual-create-blueprint-btn')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x527ecc=_0x3bc8bd;document[_0x527ecc(0x43c)](_0x527ecc(0x776))[_0x527ecc(0x860)][_0x527ecc(0xbf3)]('hidden'),document[_0x527ecc(0x43c)](_0x527ecc(0xf9))[_0x527ecc(0x5d0)]='',document[_0x527ecc(0x43c)](_0x527ecc(0x79b))['value']='',document[_0x527ecc(0x43c)](_0x527ecc(0x24e))[_0x527ecc(0x5d0)]='';}),document['getElementById']('cancel-manual-bp-btn')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x6929e8=_0x3bc8bd;document[_0x6929e8(0x43c)](_0x6929e8(0x776))[_0x6929e8(0x860)][_0x6929e8(0x61e)]('hidden');}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x73a))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),handleManualBlueprintSave),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x243))[_0x3bc8bd(0x5e1)]('click',()=>document['getElementById'](_0x3bc8bd(0x282))[_0x3bc8bd(0x860)][_0x3bc8bd(0x61e)](_0x3bc8bd(0x6e9))),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xa15))[_0x3bc8bd(0x5e1)]('click',handleSaveBlueprintPageSettings),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x4f6))['addEventListener']('click',openBlueprintQuizSettings),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x81))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),saveBlueprintProject),document['getElementById'](_0x3bc8bd(0x888))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),showBlueprintProjects),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xad2))[_0x3bc8bd(0x5e1)]('click',()=>{const _0x6f8724=_0x3bc8bd;document[_0x6f8724(0x43c)]('blueprint-projects-modal')['classList']['add']('hidden');}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x871))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x17758e=>{const _0x5886bb=_0x3bc8bd,_0x2109f0=_0x17758e[_0x5886bb(0x3b5)]['closest'](_0x5886bb(0x4ca)),_0x27272e=_0x17758e[_0x5886bb(0x3b5)]['closest'](_0x5886bb(0x561));if(_0x2109f0)displayBlueprintProjectManager(_0x2109f0[_0x5886bb(0x82f)]['id']);else _0x27272e&&handleDeepDeleteBlueprintProject(_0x27272e[_0x5886bb(0x82f)]['id']);}),document['getElementById'](_0x3bc8bd(0x507))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x481cee=_0x3bc8bd;currentBlueprintProjectId=null,currentProjectId=null,document[_0x481cee(0x43c)](_0x481cee(0x7bd))['classList'][_0x481cee(0x61e)](_0x481cee(0x6e9)),showView(_0x481cee(0xbd1));}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x730))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),addTopicToProject),document['getElementById']('bp-topic-list-container')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),async _0x217e44=>{const _0x3250b6=_0x3bc8bd,_0x4374dc=_0x217e44[_0x3250b6(0x3b5)][_0x3250b6(0x3e4)](_0x3250b6(0xa60));if(!_0x4374dc)return;const _0x18aa7d=_0x4374dc[_0x3250b6(0x82f)][_0x3250b6(0x442)],_0x48ae5f=_0x217e44[_0x3250b6(0x3b5)][_0x3250b6(0x3e4)]('.bp-create-onet-quiz-btn'),_0x1fb8c8=_0x217e44[_0x3250b6(0x3b5)][_0x3250b6(0x3e4)](_0x3250b6(0x95f)),_0xda3f2b=_0x217e44[_0x3250b6(0x3b5)]['closest'](_0x3250b6(0x8c6)),_0x22d45b=_0x217e44[_0x3250b6(0x3b5)][_0x3250b6(0x3e4)](_0x3250b6(0xa49)),_0x55d693=_0x217e44[_0x3250b6(0x3b5)]['closest']('.view-bp-lesson-btn'),_0x853e65=_0x217e44[_0x3250b6(0x3b5)][_0x3250b6(0x3e4)]('.bp-generate-lesson-btn'),_0x310442=_0x217e44[_0x3250b6(0x3b5)][_0x3250b6(0x3e4)]('.bp-edit-topic-btn'),_0xbcba40=_0x217e44[_0x3250b6(0x3b5)][_0x3250b6(0x3e4)](_0x3250b6(0x447)),_0x252bf9=_0xbb9668=>{const _0x32c512=_0x3250b6,_0x1f831d=_0xbb9668[_0x32c512(0xb1b)](_0x32c512(0x692))[_0x32c512(0xc0d)][_0x32c512(0x8e7)](),_0x347886=_0xbb9668['closest'](_0x32c512(0x57f))[_0x32c512(0x6cb)],_0x242f5d=_0x347886?_0x347886[_0x32c512(0xc0d)][_0x32c512(0x8e7)]():'';return _0x242f5d+':\x20'+_0x1f831d;};if(_0x22d45b)openTopicQuizBank(_0x18aa7d);else{if(_0x48ae5f){const _0x291dca=_0x252bf9(_0x4374dc);selectProjectAndGenerateBlueprintQuiz(_0x291dca,null,_0x18aa7d,!![]);}else{if(_0x1fb8c8){const _0x2d36ba=_0x252bf9(_0x4374dc);try{const _0x2b6660=doc(db,_0x3250b6(0x1f0)+appId+_0x3250b6(0x64d)+currentBlueprintProjectId+_0x3250b6(0x89),_0x18aa7d),_0x1a5efb=await getDoc(_0x2b6660);if(_0x1a5efb[_0x3250b6(0x2ef)]()){const _0x1071b5=_0x1a5efb[_0x3250b6(0xc12)]()['content'],_0x109cc5=document[_0x3250b6(0x7dd)](_0x3250b6(0xbc)),_0x15080d=_0x5c5a3e=>{const _0x5eca90=_0x3250b6;if(!_0x5c5a3e)return'';return _0x109cc5['innerHTML']=_0x5c5a3e,_0x109cc5[_0x5eca90(0xc0d)]||_0x109cc5[_0x5eca90(0x5b6)]||'';},_0xa344f8=(_0x15080d(_0x1071b5['point'])+'\x20'+_0x15080d(_0x1071b5[_0x3250b6(0x863)])+'\x20'+_0x15080d(_0x1071b5[_0x3250b6(0x799)]))[_0x3250b6(0x8e7)]();selectProjectAndGenerateBlueprintQuiz(_0x2d36ba,_0xa344f8,_0x18aa7d,![]);}else showMessage(_0x3250b6(0x957));}catch(_0x583710){console[_0x3250b6(0x48f)](_0x3250b6(0xaa5),_0x583710),showMessage('เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ');}}else{if(_0xda3f2b){const _0x207865=_0x252bf9(_0x4374dc);selectProjectAndGenerateBlueprintQuiz(_0x207865,null,_0x18aa7d,![]);}else{if(_0x55d693){const _0x50ffaf=doc(db,_0x3250b6(0x1f0)+appId+_0x3250b6(0xb8c),currentBlueprintProjectId),_0x19e97c=await getDoc(_0x50ffaf);if(_0x19e97c[_0x3250b6(0x2ef)]()){const _0x5f4fe2=_0x19e97c[_0x3250b6(0xc12)](),_0x2f2615=_0x5f4fe2['topics'][_0x18aa7d];if(_0x2f2615&&_0x2f2615[_0x3250b6(0x658)]===_0x3250b6(0xc3f))try{const _0x19eb76=doc(db,_0x3250b6(0x1f0)+appId+_0x3250b6(0x64d)+currentBlueprintProjectId+'/lessons',_0x18aa7d),_0x117252=await getDoc(_0x19eb76);if(_0x117252[_0x3250b6(0x2ef)]()){const _0x3a8593=_0x117252[_0x3250b6(0xc12)]()['content'];document[_0x3250b6(0x43c)](_0x3250b6(0xa7f))['textContent']=_0x3250b6(0x562)+_0x252bf9(_0x4374dc),document[_0x3250b6(0x43c)]('pointContent')[_0x3250b6(0x30c)]=_0x3a8593[_0x3250b6(0x9bb)],document[_0x3250b6(0x43c)](_0x3250b6(0x841))['innerHTML']=_0x3a8593[_0x3250b6(0x863)],document[_0x3250b6(0x43c)](_0x3250b6(0x40c))[_0x3250b6(0x30c)]=_0x3a8593[_0x3250b6(0x799)];const _0x179315=document[_0x3250b6(0x43c)](_0x3250b6(0x893));_0x3a8593['applicationData']?(currentApplicationData=_0x3a8593['applicationData'],_0x179315[_0x3250b6(0x30c)]=currentApplicationData[_0x3250b6(0x9a0)]((_0x58522b,_0x32c72c)=>'<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>'+(_0x32c72c+0x1)+'.\x20'+marked[_0x3250b6(0x580)](_0x58522b[_0x3250b6(0x72b)])+_0x3250b6(0x259)+_0x32c72c+_0x3250b6(0x93e)+_0x58522b[_0x3250b6(0x4b2)][_0x3250b6(0x9a0)]((_0x4a563a,_0x6f81ee)=>_0x3250b6(0x245)+_0x32c72c+',\x20'+_0x6f81ee+')\x22>'+String[_0x3250b6(0x1c8)](0x61+_0x6f81ee)+'.\x20'+marked['parseInline'](_0x4a563a)+'</button>')['join']('')+'</div></div>')[_0x3250b6(0xd9)]('')):(currentApplicationData=[],_0x179315[_0x3250b6(0x30c)]=_0x3a8593[_0x3250b6(0x88e)]||_0x3a8593[_0x3250b6(0x44b)]),document[_0x3250b6(0x43c)](_0x3250b6(0x229))[_0x3250b6(0x860)][_0x3250b6(0x61e)](_0x3250b6(0x6e9)),document[_0x3250b6(0x43c)](_0x3250b6(0x440))[_0x3250b6(0x860)][_0x3250b6(0xbf3)](_0x3250b6(0x6e9)),document[_0x3250b6(0x43c)]('lesson-view-modal')[_0x3250b6(0x860)]['remove'](_0x3250b6(0x6e9)),window[_0x3250b6(0xaf8)]&&MathJax[_0x3250b6(0x5ad)]([document['getElementById']('lesson-view-content')]);}else showMessage('ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)');}catch(_0x121ec2){console[_0x3250b6(0x48f)](_0x3250b6(0xc40),_0x121ec2),showMessage(_0x3250b6(0x3dc));}else showMessage(_0x3250b6(0x995));}}else{if(_0x853e65){const _0x2b5f1a=_0x252bf9(_0x4374dc),_0x3d07cb=doc(db,_0x3250b6(0x1f0)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x5ee00c=await getDoc(_0x3d07cb);if(_0x5ee00c['exists']()){const _0xd561f5=_0x5ee00c[_0x3250b6(0xc12)]();generateAndSaveLessonForBlueprint(_0x18aa7d,_0x2b5f1a,_0xd561f5[_0x3250b6(0x679)]);}}else{if(_0x310442)editTopicInProject(_0x18aa7d);else _0xbcba40&&deleteTopicFromProject(_0x18aa7d);}}}}}}}),document[_0x3bc8bd(0x43c)]('fix-lesson-latex-btn')['addEventListener'](_0x3bc8bd(0xbf8),handleFixLessonLatex),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x151))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),handleExportLessonToPDF),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xcd))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x12fb65=_0x3bc8bd;document['getElementById'](_0x12fb65(0xbfd))['classList'][_0x12fb65(0x61e)](_0x12fb65(0x6e9));});const _0xd919cc=document['getElementById'](_0x3bc8bd(0x7f2)),_0xef23d0=document['getElementById']('bulk-confidence-mode-container');_0xd919cc['addEventListener']('change',()=>{const _0x25f1be=_0x3bc8bd;_0xef23d0['classList']['toggle'](_0x25f1be(0x6e9),!_0xd919cc[_0x25f1be(0x1a3)]);});const _0x36688c=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x1d3)),_0x5269c1=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x1a2));_0x36688c[_0x3bc8bd(0x5e1)](_0x3bc8bd(0x247),()=>{const _0x839878=_0x3bc8bd;_0x5269c1[_0x839878(0x860)][_0x839878(0x749)]('hidden',!_0x36688c[_0x839878(0x1a3)]);});const _0x339fd4=document[_0x3bc8bd(0x43c)]('modal-confidence-scoring-checkbox'),_0x472706=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xb48));_0x339fd4[_0x3bc8bd(0x5e1)](_0x3bc8bd(0x247),()=>{const _0x8baeef=_0x3bc8bd;_0x472706[_0x8baeef(0x860)][_0x8baeef(0x749)](_0x8baeef(0x6e9),!_0x339fd4[_0x8baeef(0x1a3)]);});const _0x5e3792=document['getElementById'](_0x3bc8bd(0xb0f)),_0x2fddb8=async _0x3d9484=>{const _0x5b6598=_0x3bc8bd,_0x46d7b6=document[_0x5b6598(0x43c)](_0x5b6598(0xb0f)),_0xd6ac5e=_0x46d7b6['dataset'][_0x5b6598(0xb7a)],_0x3f3f61=document[_0x5b6598(0x43c)]('selected-answer-index-hidden');_0x46d7b6[_0x5b6598(0x860)][_0x5b6598(0x61e)](_0x5b6598(0x6e9));if(_0xd6ac5e===_0x5b6598(0x87f)){const _0x2d9e54=_0x3f3f61[_0x5b6598(0x5d0)],_0x2f75bd={'answer':_0x2d9e54,'wasConfident':_0x3d9484};proceedToNextQuestion(_0x2f75bd);}else{if(_0xd6ac5e===_0x5b6598(0x3d2)){const _0x49a95d=_0x3f3f61[_0x5b6598(0x82f)]['answerValue'],_0x29d3b7=JSON['parse'](_0x3f3f61[_0x5b6598(0x82f)]['question']),_0xaff5c6=JSON[_0x5b6598(0xae3)](_0x3f3f61[_0x5b6598(0x82f)][_0x5b6598(0xa0d)]),_0x5bac71=_0x3f3f61[_0x5b6598(0x82f)][_0x5b6598(0xaf1)];handleSyncAnswerSubmit(_0x49a95d,_0x29d3b7,_0xaff5c6,_0x5bac71,_0x3d9484);}}_0x46d7b6[_0x5b6598(0x82f)][_0x5b6598(0xb7a)]='';};document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xe7))['addEventListener'](_0x3bc8bd(0xbf8),()=>_0x2fddb8(!![])),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xa86))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>_0x2fddb8(![])),liveGameView[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x1cdd1c=>{const _0x403d71=_0x3bc8bd,_0x4fad59=_0x1cdd1c[_0x403d71(0x3b5)][_0x403d71(0x3e4)](_0x403d71(0xc2f));if(_0x4fad59){const _0x2704fb=_0x4fad59['dataset'][_0x403d71(0xaf1)];_0x2704fb&&handleKickPlayerSync(_0x2704fb);}});const _0x5e025e=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x95c)),_0x249d14=document['getElementById']('cancel-game-start-btn');_0x249d14[_0x3bc8bd(0x5e1)]('click',()=>{const _0x5ef367=_0x3bc8bd;document[_0x5ef367(0x43c)](_0x5ef367(0x352))[_0x5ef367(0x860)][_0x5ef367(0x61e)](_0x5ef367(0x6e9));}),_0x5e025e[_0x3bc8bd(0x5e1)]('click',()=>{const _0x5c5ef7=_0x3bc8bd,_0xbe8672=document[_0x5c5ef7(0x43c)]('game-start-quiz-id')['value'],_0x4286e4=document[_0x5c5ef7(0x43c)]('game-start-mode')[_0x5c5ef7(0x5d0)],_0x5f5ad8=document[_0x5c5ef7(0x43c)](_0x5c5ef7(0x90d))[_0x5c5ef7(0x1a3)];document['getElementById'](_0x5c5ef7(0x352))['classList'][_0x5c5ef7(0x61e)](_0x5c5ef7(0x6e9));switch(_0x4286e4){case'live-race':handleStartLiveRace(_0xbe8672,_0x5f5ad8);break;case _0x5c5ef7(0x108):handleStartTeamQuiz(_0xbe8672,_0x5f5ad8);break;case'group':handleStartGroupMode(_0xbe8672,_0x5f5ad8);break;case'sync':const _0x55510f=document[_0x5c5ef7(0xb1b)](_0x5c5ef7(0x986))[_0x5c5ef7(0x5d0)]||_0x5c5ef7(0x1dd);handleStartSyncMode(_0xbe8672,_0x5f5ad8,_0x55510f);break;}}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x5a9))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),handleJoinGroupActivity),liveGameView[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x3ec59c=>{const _0x27ebf9=_0x3bc8bd,_0x527fe1=_0x3ec59c[_0x27ebf9(0x3b5)][_0x27ebf9(0x3e4)](_0x27ebf9(0x273));document[_0x27ebf9(0xa6e)](_0x27ebf9(0x2b4))[_0x27ebf9(0x27f)](_0x28604e=>{const _0x4763bb=_0x27ebf9;(!_0x527fe1||_0x28604e['id']!==_0x527fe1[_0x4763bb(0x82f)][_0x4763bb(0xa97)])&&_0x28604e[_0x4763bb(0x860)][_0x4763bb(0xbf3)](_0x4763bb(0x622));});if(!_0x527fe1)return;const _0x22f0cf=_0x527fe1[_0x27ebf9(0x82f)]['tooltipTarget'],_0x5e4b09=document['getElementById'](_0x22f0cf);_0x5e4b09&&_0x5e4b09[_0x27ebf9(0x860)]['toggle'](_0x27ebf9(0x622));}),liveGameView[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x5d97bb=>{const _0x5bf875=_0x3bc8bd;if(_0x5d97bb[_0x5bf875(0x3b5)][_0x5bf875(0x860)][_0x5bf875(0xb57)](_0x5bf875(0x4e9))){const _0x7840fe=_0x5d97bb[_0x5bf875(0x3b5)][_0x5bf875(0x82f)][_0x5bf875(0xaf1)];_0x7840fe&&handleKickPlayer(_0x7840fe);}}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x4c4))[_0x3bc8bd(0x5e1)]('focus',()=>document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x78c))[_0x3bc8bd(0x860)][_0x3bc8bd(0xbf3)](_0x3bc8bd(0x6e9))),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x78c))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),handleSaveProjectName),document[_0x3bc8bd(0x43c)]('project-title')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0x9e3),_0xb8dd02=>{const _0x2b89fe=_0x3bc8bd;_0xb8dd02[_0x2b89fe(0xad5)]===_0x2b89fe(0xb6c)&&(_0xb8dd02[_0x2b89fe(0x421)](),_0xb8dd02['target'][_0x2b89fe(0x25e)](),handleSaveProjectName());}),document['getElementById'](_0x3bc8bd(0xf3))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x19b885=_0x3bc8bd;document[_0x19b885(0x43c)]('bulk-quiz-settings-modal')[_0x19b885(0x860)][_0x19b885(0xbf3)]('hidden');}),document[_0x3bc8bd(0x43c)]('cancel-bulk-quiz-settings-btn')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x8807f1=_0x3bc8bd;document[_0x8807f1(0x43c)]('bulk-quiz-settings-modal')[_0x8807f1(0x860)][_0x8807f1(0x61e)](_0x8807f1(0x6e9));}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x154))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),handleBulkUpdateQuizSettings),document[_0x3bc8bd(0x43c)]('mode-switcher-btn')[_0x3bc8bd(0x5e1)]('click',handleModeSwitch),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xeb))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),handleUpdateOldQuizzes),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x9fd))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),handleResetProjectOrder),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x77f))['addEventListener'](_0x3bc8bd(0xbf8),handleSaveVisibilitySettings),document[_0x3bc8bd(0x43c)]('add-custom-math-topic-btn')['addEventListener'](_0x3bc8bd(0xbf8),handleAddCustomMathTopic),document[_0x3bc8bd(0x43c)]('select-all-topics-btn')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),handleSelectAllTopics),document[_0x3bc8bd(0x43c)]('deselect-all-topics-btn')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),handleDeselectAllTopics),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x2df))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x48ec78=_0x3bc8bd;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x48ec78(0xbd1));}}),document[_0x3bc8bd(0x43c)]('back-to-project-btn')['addEventListener'](_0x3bc8bd(0xbf8),()=>{const _0x1471d0=_0x3bc8bd;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x1471d0(0xaf7));}}),document[_0x3bc8bd(0x43c)]('back-to-dashboard-from-results-btn')[_0x3bc8bd(0x5e1)]('click',()=>{const _0x380412=_0x3bc8bd;showView(_0x380412(0xbd1));}),document[_0x3bc8bd(0x43c)]('modal-close-btn')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x17dbf7=_0x3bc8bd;messageModal[_0x17dbf7(0x860)][_0x17dbf7(0x61e)](_0x17dbf7(0x6e9)),typeof modalConfirmAction===_0x17dbf7(0xb15)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x3bc8bd(0x98c))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>createProjectModal['classList']['remove'](_0x3bc8bd(0x6e9))),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xa4a))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>createProjectModal[_0x3bc8bd(0x860)][_0x3bc8bd(0x61e)](_0x3bc8bd(0x6e9))),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xbb))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>adminPasswordModal[_0x3bc8bd(0x860)][_0x3bc8bd(0x61e)]('hidden')),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x9ef))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),handleAdminLogin),document[_0x3bc8bd(0x43c)]('admin-password-input')[_0x3bc8bd(0x5e1)]('keyup',_0x275f5d=>{const _0x3fe47a=_0x3bc8bd;if(_0x275f5d[_0x3fe47a(0xad5)]===_0x3fe47a(0xb6c))handleAdminLogin();}),document['getElementById'](_0x3bc8bd(0xaad))[_0x3bc8bd(0x5e1)]('click',()=>{const _0x2130db=_0x3bc8bd;confirmationModal['classList'][_0x2130db(0x61e)](_0x2130db(0x6e9)),confirmAction=null;}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x92))[_0x3bc8bd(0x5e1)]('click',()=>{const _0x797aed=_0x3bc8bd;confirmAction&&confirmAction(),confirmationModal[_0x797aed(0x860)]['add']('hidden'),confirmAction=null;}),document['getElementById'](_0x3bc8bd(0x494))['addEventListener']('click',()=>renameQuizModal['classList']['add']('hidden')),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x8a9))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),confirmRenameQuiz),document['getElementById'](_0x3bc8bd(0x607))[_0x3bc8bd(0x5e1)]('click',()=>moveQuizModal[_0x3bc8bd(0x860)][_0x3bc8bd(0x61e)](_0x3bc8bd(0x6e9))),document[_0x3bc8bd(0x43c)]('confirm-move-quiz-btn')['addEventListener'](_0x3bc8bd(0xbf8),confirmMoveQuiz),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x265))[_0x3bc8bd(0x5e1)]('click',()=>quizSettingsModal[_0x3bc8bd(0x860)][_0x3bc8bd(0x61e)](_0x3bc8bd(0x6e9))),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xc15))['addEventListener'](_0x3bc8bd(0xbf8),confirmQuizSettings),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x2c9))[_0x3bc8bd(0x5e1)]('click',()=>quizStatusModal[_0x3bc8bd(0x860)][_0x3bc8bd(0x61e)]('hidden')),document['getElementById'](_0x3bc8bd(0x3fc))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),confirmQuizStatus);const _0xd4d237=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xa58));document[_0x3bc8bd(0x43c)]('cancel-export-pdf-btn')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x422df4=_0x3bc8bd;_0xd4d237[_0x422df4(0x860)][_0x422df4(0x61e)](_0x422df4(0x6e9));}),document['getElementById']('export-compact-pdf-btn')['addEventListener'](_0x3bc8bd(0xbf8),async()=>{const _0x2bb7fb=_0x3bc8bd,_0x313bff=allQuizzes[_0x2bb7fb(0xa3a)](_0x11c544=>_0x11c544['id']===actionTargetId);_0x313bff?(currentQuizData=_0x313bff,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0xd4d237['classList'][_0x2bb7fb(0x61e)](_0x2bb7fb(0x6e9));}),document[_0x3bc8bd(0x43c)]('export-tutor-pdf-btn')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),async()=>{const _0x13d0ec=_0x3bc8bd,_0x3e6c20=allQuizzes[_0x13d0ec(0xa3a)](_0x1f151c=>_0x1f151c['id']===actionTargetId);_0x3e6c20?(currentQuizData=_0x3e6c20,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0xd4d237[_0x13d0ec(0x860)][_0x13d0ec(0x61e)](_0x13d0ec(0x6e9));});const _0x12553b=document['getElementById'](_0x3bc8bd(0x2c6));_0x12553b[_0x3bc8bd(0x30c)]=_0x3bc8bd(0x66a),_0x12553b[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),openGlobalActivityModal),document['getElementById'](_0x3bc8bd(0x4a8))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x430197=_0x3bc8bd;document[_0x430197(0x43c)](_0x430197(0x66f))['classList'][_0x430197(0x61e)]('hidden');}),document['getElementById'](_0x3bc8bd(0x361))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0x45f),_0x5b450f=>{const _0x3edaee=_0x3bc8bd;renderGlobalActivityList(_0x5b450f[_0x3edaee(0x3b5)][_0x3edaee(0x5d0)]);}),document['getElementById'](_0x3bc8bd(0x535))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x5e217b=>{const _0x37e479=_0x3bc8bd,_0x4d2177=_0x5e217b[_0x37e479(0x3b5)][_0x37e479(0x3e4)]('.game-start-btn');if(!_0x4d2177)return;const _0x110987=_0x4d2177[_0x37e479(0x82f)]['id'],_0x17309c=_0x4d2177['dataset']['mode'],_0x49d85c=allQuizzesGlobal[_0x37e479(0xa3a)](_0x4b75c2=>_0x4b75c2['id']===_0x110987);_0x49d85c&&(document['getElementById'](_0x37e479(0x66f))['classList'][_0x37e479(0x61e)](_0x37e479(0x6e9)),_0x17309c==='live-race'?handleStartLiveRace(_0x110987):showGameStartConfirmationModal(_0x110987,_0x17309c,_0x49d85c['topic']));}),document['getElementById'](_0x3bc8bd(0x7f0))[_0x3bc8bd(0x5e1)]('input',renderProjects),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x1ec))['addEventListener'](_0x3bc8bd(0x247),async()=>{const _0x441d37=_0x3bc8bd,_0x2e806b=document['getElementById'](_0x441d37(0x1ec))[_0x441d37(0x5d0)],_0x655533=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x655533,{'projectSort':_0x2e806b},{'merge':!![]});}catch(_0x50ae44){console[_0x441d37(0x48f)]('Error\x20updating\x20sort\x20preference:',_0x50ae44),showMessage(_0x441d37(0xc63));}}),document[_0x3bc8bd(0x43c)]('quiz-search-input')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0x45f),renderQuizzes),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x58d))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x56d26e=_0x3bc8bd;globalDashboardSettings[_0x56d26e(0x213)]=_0x56d26e(0xba7),saveUserPreference(_0x56d26e(0x213),'grid'),renderProjects();}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x87e))[_0x3bc8bd(0x5e1)]('click',()=>{const _0x2242e7=_0x3bc8bd;globalDashboardSettings['projectView']=_0x2242e7(0xa4c),saveUserPreference(_0x2242e7(0x213),_0x2242e7(0xa4c)),renderProjects();}),manageTab[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>switchProjectTab('manage')),resultsTab[_0x3bc8bd(0x5e1)]('click',()=>switchProjectTab(_0x3bc8bd(0xb6f))),leaderboardTab[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>switchProjectTab(_0x3bc8bd(0xaf))),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x88))[_0x3bc8bd(0x5e1)]('click',()=>switchQuizDetailTab(_0x3bc8bd(0x18d))),document[_0x3bc8bd(0x43c)]('scores-tab-btn')[_0x3bc8bd(0x5e1)]('click',()=>switchQuizDetailTab(_0x3bc8bd(0x61f))),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x9e2))['addEventListener'](_0x3bc8bd(0xbf8),()=>switchQuizDetailTab(_0x3bc8bd(0x348))),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x468))['addEventListener'](_0x3bc8bd(0xbf8),()=>switchQuizDetailTab(_0x3bc8bd(0xb9f))),document['getElementById'](_0x3bc8bd(0x31a))['addEventListener'](_0x3bc8bd(0xbf8),handleAnalyzeClass),generateWorksheetBtn[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),generateWorksheet);const _0x5795ca=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x208)),_0x50031f=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x1b7)),_0x51da6a=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x525)),_0x163c96=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x2d5)),_0x13f582=document[_0x3bc8bd(0x43c)]('parallel-test-tab'),_0x3e903c=document['getElementById'](_0x3bc8bd(0xa7a));topicTab[_0x3bc8bd(0x5e1)]('click',()=>{const _0x1ab0e8=_0x3bc8bd;topicTab['classList'][_0x1ab0e8(0x61e)](_0x1ab0e8(0x52b)),textTab['classList'][_0x1ab0e8(0xbf3)](_0x1ab0e8(0x52b)),fileTab['classList']['remove']('active'),worksheetTab['classList'][_0x1ab0e8(0xbf3)]('active');if(_0x5795ca)_0x5795ca[_0x1ab0e8(0x860)][_0x1ab0e8(0xbf3)](_0x1ab0e8(0x52b));if(_0x51da6a)_0x51da6a[_0x1ab0e8(0x860)][_0x1ab0e8(0xbf3)](_0x1ab0e8(0x52b));if(_0x13f582)_0x13f582[_0x1ab0e8(0x860)][_0x1ab0e8(0xbf3)](_0x1ab0e8(0x52b));topicInputArea[_0x1ab0e8(0x860)][_0x1ab0e8(0xbf3)](_0x1ab0e8(0x6e9)),textInputArea[_0x1ab0e8(0x860)][_0x1ab0e8(0x61e)](_0x1ab0e8(0x6e9)),fileInputArea['classList']['add']('hidden'),worksheetInputArea[_0x1ab0e8(0x860)]['add'](_0x1ab0e8(0x6e9));if(_0x50031f)_0x50031f[_0x1ab0e8(0x860)]['add'](_0x1ab0e8(0x6e9));if(_0x163c96)_0x163c96[_0x1ab0e8(0x860)][_0x1ab0e8(0x61e)](_0x1ab0e8(0x6e9));if(_0x3e903c)_0x3e903c[_0x1ab0e8(0x860)][_0x1ab0e8(0x61e)](_0x1ab0e8(0x6e9));}),textTab[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x3cb11c=_0x3bc8bd;textTab[_0x3cb11c(0x860)][_0x3cb11c(0x61e)](_0x3cb11c(0x52b)),topicTab['classList'][_0x3cb11c(0xbf3)]('active'),fileTab[_0x3cb11c(0x860)][_0x3cb11c(0xbf3)](_0x3cb11c(0x52b)),worksheetTab[_0x3cb11c(0x860)][_0x3cb11c(0xbf3)](_0x3cb11c(0x52b));if(_0x5795ca)_0x5795ca[_0x3cb11c(0x860)][_0x3cb11c(0xbf3)](_0x3cb11c(0x52b));if(_0x51da6a)_0x51da6a['classList'][_0x3cb11c(0xbf3)]('active');if(_0x13f582)_0x13f582[_0x3cb11c(0x860)]['remove'](_0x3cb11c(0x52b));textInputArea['classList'][_0x3cb11c(0xbf3)](_0x3cb11c(0x6e9)),topicInputArea[_0x3cb11c(0x860)][_0x3cb11c(0x61e)](_0x3cb11c(0x6e9)),fileInputArea[_0x3cb11c(0x860)]['add'](_0x3cb11c(0x6e9)),worksheetInputArea[_0x3cb11c(0x860)][_0x3cb11c(0x61e)]('hidden');if(_0x50031f)_0x50031f['classList']['add'](_0x3cb11c(0x6e9));if(_0x163c96)_0x163c96[_0x3cb11c(0x860)][_0x3cb11c(0x61e)](_0x3cb11c(0x6e9));if(_0x3e903c)_0x3e903c['classList'][_0x3cb11c(0x61e)](_0x3cb11c(0x6e9));}),fileTab[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x2a0781=_0x3bc8bd;fileTab['classList']['add'](_0x2a0781(0x52b)),topicTab[_0x2a0781(0x860)][_0x2a0781(0xbf3)](_0x2a0781(0x52b)),textTab[_0x2a0781(0x860)][_0x2a0781(0xbf3)](_0x2a0781(0x52b)),worksheetTab['classList'][_0x2a0781(0xbf3)](_0x2a0781(0x52b));if(_0x5795ca)_0x5795ca['classList'][_0x2a0781(0xbf3)](_0x2a0781(0x52b));if(_0x51da6a)_0x51da6a['classList'][_0x2a0781(0xbf3)](_0x2a0781(0x52b));if(_0x13f582)_0x13f582['classList'][_0x2a0781(0xbf3)](_0x2a0781(0x52b));fileInputArea[_0x2a0781(0x860)][_0x2a0781(0xbf3)]('hidden'),topicInputArea['classList'][_0x2a0781(0x61e)](_0x2a0781(0x6e9)),textInputArea['classList'][_0x2a0781(0x61e)]('hidden'),worksheetInputArea[_0x2a0781(0x860)]['add'](_0x2a0781(0x6e9));if(_0x50031f)_0x50031f['classList'][_0x2a0781(0x61e)](_0x2a0781(0x6e9));if(_0x163c96)_0x163c96['classList'][_0x2a0781(0x61e)](_0x2a0781(0x6e9));if(_0x3e903c)_0x3e903c[_0x2a0781(0x860)][_0x2a0781(0x61e)](_0x2a0781(0x6e9));}),worksheetTab[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x3bb8cf=_0x3bc8bd;worksheetTab['classList'][_0x3bb8cf(0x61e)](_0x3bb8cf(0x52b)),topicTab['classList'][_0x3bb8cf(0xbf3)](_0x3bb8cf(0x52b)),textTab[_0x3bb8cf(0x860)][_0x3bb8cf(0xbf3)](_0x3bb8cf(0x52b)),fileTab[_0x3bb8cf(0x860)]['remove'](_0x3bb8cf(0x52b));if(_0x5795ca)_0x5795ca[_0x3bb8cf(0x860)][_0x3bb8cf(0xbf3)](_0x3bb8cf(0x52b));if(_0x51da6a)_0x51da6a[_0x3bb8cf(0x860)][_0x3bb8cf(0xbf3)](_0x3bb8cf(0x52b));if(_0x13f582)_0x13f582[_0x3bb8cf(0x860)][_0x3bb8cf(0xbf3)](_0x3bb8cf(0x52b));worksheetInputArea[_0x3bb8cf(0x860)]['remove']('hidden'),topicInputArea[_0x3bb8cf(0x860)][_0x3bb8cf(0x61e)]('hidden'),textInputArea[_0x3bb8cf(0x860)][_0x3bb8cf(0x61e)](_0x3bb8cf(0x6e9)),fileInputArea[_0x3bb8cf(0x860)][_0x3bb8cf(0x61e)](_0x3bb8cf(0x6e9));if(_0x50031f)_0x50031f[_0x3bb8cf(0x860)][_0x3bb8cf(0x61e)](_0x3bb8cf(0x6e9));if(_0x163c96)_0x163c96[_0x3bb8cf(0x860)][_0x3bb8cf(0x61e)]('hidden');if(_0x3e903c)_0x3e903c[_0x3bb8cf(0x860)][_0x3bb8cf(0x61e)](_0x3bb8cf(0x6e9));});const _0x136caa=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xce)),_0x2c1325=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x484));_0x136caa&&_0x136caa[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x4aafd2=_0x3bc8bd;topicTab[_0x4aafd2(0x860)][_0x4aafd2(0xbf3)](_0x4aafd2(0x52b)),textTab[_0x4aafd2(0x860)][_0x4aafd2(0xbf3)](_0x4aafd2(0x52b)),fileTab[_0x4aafd2(0x860)]['remove'](_0x4aafd2(0x52b)),worksheetTab[_0x4aafd2(0x860)][_0x4aafd2(0xbf3)](_0x4aafd2(0x52b));if(_0x5795ca)_0x5795ca[_0x4aafd2(0x860)][_0x4aafd2(0xbf3)]('active');if(_0x51da6a)_0x51da6a['classList']['remove'](_0x4aafd2(0x52b));if(_0x13f582)_0x13f582[_0x4aafd2(0x860)][_0x4aafd2(0xbf3)](_0x4aafd2(0x52b));_0x136caa[_0x4aafd2(0x860)]['add']('active'),topicInputArea[_0x4aafd2(0x860)][_0x4aafd2(0x61e)](_0x4aafd2(0x6e9)),textInputArea[_0x4aafd2(0x860)]['add'](_0x4aafd2(0x6e9)),fileInputArea[_0x4aafd2(0x860)][_0x4aafd2(0x61e)](_0x4aafd2(0x6e9)),worksheetInputArea[_0x4aafd2(0x860)][_0x4aafd2(0x61e)](_0x4aafd2(0x6e9));if(_0x50031f)_0x50031f[_0x4aafd2(0x860)][_0x4aafd2(0x61e)](_0x4aafd2(0x6e9));if(_0x163c96)_0x163c96['classList'][_0x4aafd2(0x61e)](_0x4aafd2(0x6e9));if(_0x3e903c)_0x3e903c[_0x4aafd2(0x860)][_0x4aafd2(0x61e)](_0x4aafd2(0x6e9));_0x2c1325[_0x4aafd2(0x860)]['remove'](_0x4aafd2(0x6e9)),displayQuestionBank();});_0x5795ca&&(_0x5795ca[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x311b6a=_0x3bc8bd;_0x5795ca[_0x311b6a(0x860)]['add'](_0x311b6a(0x52b)),topicTab[_0x311b6a(0x860)]['remove'](_0x311b6a(0x52b)),textTab[_0x311b6a(0x860)]['remove'](_0x311b6a(0x52b)),fileTab[_0x311b6a(0x860)][_0x311b6a(0xbf3)]('active'),worksheetTab[_0x311b6a(0x860)][_0x311b6a(0xbf3)](_0x311b6a(0x52b));if(_0x51da6a)_0x51da6a[_0x311b6a(0x860)]['remove'](_0x311b6a(0x52b));if(_0x13f582)_0x13f582[_0x311b6a(0x860)][_0x311b6a(0xbf3)](_0x311b6a(0x52b));_0x50031f[_0x311b6a(0x860)]['remove'](_0x311b6a(0x6e9)),topicInputArea[_0x311b6a(0x860)]['add'](_0x311b6a(0x6e9)),textInputArea[_0x311b6a(0x860)][_0x311b6a(0x61e)](_0x311b6a(0x6e9)),fileInputArea[_0x311b6a(0x860)][_0x311b6a(0x61e)](_0x311b6a(0x6e9)),worksheetInputArea[_0x311b6a(0x860)][_0x311b6a(0x61e)](_0x311b6a(0x6e9));if(_0x163c96)_0x163c96[_0x311b6a(0x860)]['add']('hidden');if(_0x3e903c)_0x3e903c[_0x311b6a(0x860)]['add']('hidden');}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x9f0))['addEventListener'](_0x3bc8bd(0xbf8),handleGenerateFromLink));_0x51da6a&&_0x51da6a['addEventListener'](_0x3bc8bd(0xbf8),()=>{const _0x5d0e42=_0x3bc8bd;_0x51da6a['classList'][_0x5d0e42(0x61e)]('active'),topicTab['classList'][_0x5d0e42(0xbf3)](_0x5d0e42(0x52b)),textTab[_0x5d0e42(0x860)]['remove'](_0x5d0e42(0x52b)),fileTab[_0x5d0e42(0x860)]['remove'](_0x5d0e42(0x52b)),worksheetTab[_0x5d0e42(0x860)][_0x5d0e42(0xbf3)](_0x5d0e42(0x52b));if(_0x5795ca)_0x5795ca[_0x5d0e42(0x860)][_0x5d0e42(0xbf3)](_0x5d0e42(0x52b));if(_0x136caa)_0x136caa[_0x5d0e42(0x860)][_0x5d0e42(0xbf3)]('active');if(_0x13f582)_0x13f582[_0x5d0e42(0x860)][_0x5d0e42(0xbf3)](_0x5d0e42(0x52b));_0x163c96[_0x5d0e42(0x860)][_0x5d0e42(0xbf3)](_0x5d0e42(0x6e9)),topicInputArea[_0x5d0e42(0x860)][_0x5d0e42(0x61e)]('hidden'),textInputArea[_0x5d0e42(0x860)][_0x5d0e42(0x61e)]('hidden'),fileInputArea[_0x5d0e42(0x860)][_0x5d0e42(0x61e)](_0x5d0e42(0x6e9)),worksheetInputArea[_0x5d0e42(0x860)][_0x5d0e42(0x61e)](_0x5d0e42(0x6e9));if(_0x50031f)_0x50031f[_0x5d0e42(0x860)][_0x5d0e42(0x61e)](_0x5d0e42(0x6e9));if(_0x2c1325)_0x2c1325[_0x5d0e42(0x860)]['add'](_0x5d0e42(0x6e9));if(_0x3e903c)_0x3e903c[_0x5d0e42(0x860)][_0x5d0e42(0x61e)]('hidden');});_0x13f582&&_0x13f582[_0x3bc8bd(0x5e1)]('click',()=>{const _0x476db4=_0x3bc8bd;_0x13f582[_0x476db4(0x860)]['add']('active'),topicTab[_0x476db4(0x860)][_0x476db4(0xbf3)](_0x476db4(0x52b)),textTab[_0x476db4(0x860)][_0x476db4(0xbf3)](_0x476db4(0x52b)),fileTab['classList'][_0x476db4(0xbf3)](_0x476db4(0x52b)),worksheetTab[_0x476db4(0x860)]['remove']('active');if(_0x5795ca)_0x5795ca[_0x476db4(0x860)][_0x476db4(0xbf3)]('active');if(_0x51da6a)_0x51da6a[_0x476db4(0x860)]['remove'](_0x476db4(0x52b));if(_0x136caa)_0x136caa[_0x476db4(0x860)][_0x476db4(0xbf3)]('active');_0x3e903c[_0x476db4(0x860)][_0x476db4(0xbf3)]('hidden'),topicInputArea[_0x476db4(0x860)][_0x476db4(0x61e)](_0x476db4(0x6e9)),textInputArea['classList'][_0x476db4(0x61e)](_0x476db4(0x6e9)),fileInputArea['classList'][_0x476db4(0x61e)](_0x476db4(0x6e9)),worksheetInputArea[_0x476db4(0x860)]['add'](_0x476db4(0x6e9));if(_0x50031f)_0x50031f['classList'][_0x476db4(0x61e)](_0x476db4(0x6e9));if(_0x163c96)_0x163c96[_0x476db4(0x860)][_0x476db4(0x61e)](_0x476db4(0x6e9));if(_0x2c1325)_0x2c1325[_0x476db4(0x860)][_0x476db4(0x61e)](_0x476db4(0x6e9));});const _0x17b6f6=document[_0x3bc8bd(0x43c)]('blueprint-upload-input'),_0x48a06d=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x475));if(_0x17b6f6){const _0x3a7c3d=document['getElementById'](_0x3bc8bd(0x685)),_0x5970eb=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x475)),_0x602d9=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x1f4)),_0x2a2d2f=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x2cc)),_0x3c2ae9=document[_0x3bc8bd(0x43c)]('blueprint-topics-list-container'),_0x304e94=document[_0x3bc8bd(0x43c)]('blueprint-topics-list');_0x3a7c3d&&_0x3a7c3d[_0x3bc8bd(0x5e1)](_0x3bc8bd(0x247),async _0x2a9462=>{const _0x48aa99=_0x3bc8bd;_0x602d9['classList'][_0x48aa99(0x61e)]('hidden'),_0x3c2ae9[_0x48aa99(0x860)][_0x48aa99(0x61e)](_0x48aa99(0x6e9)),_0x2a2d2f[_0x48aa99(0x1a3)]=![],_0x5970eb[_0x48aa99(0x35d)]=!![];const _0x830e70=_0x2a9462[_0x48aa99(0x3b5)][_0x48aa99(0xc03)][0x0];if(_0x830e70){_0x5970eb[_0x48aa99(0x35d)]=![];try{const _0xa6c0a=await extractTextFromPdf(_0x830e70);await analyzeBlueprintForTopics(_0xa6c0a);}catch(_0x1d4234){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x602d9[_0x48aa99(0x860)][_0x48aa99(0x61e)](_0x48aa99(0x6e9));}}}),_0x2a2d2f&&_0x2a2d2f[_0x3bc8bd(0x5e1)](_0x3bc8bd(0x247),_0x2a075e=>{const _0x30762e=_0x3bc8bd,_0x213bc1=_0x2a075e[_0x30762e(0x3b5)][_0x30762e(0x1a3)];_0x3c2ae9['classList'][_0x30762e(0x749)](_0x30762e(0x6e9),!_0x213bc1),_0x5970eb[_0x30762e(0x35d)]=_0x213bc1;}),_0x304e94&&(_0x304e94&&_0x304e94[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x34b5b7=>{const _0x2e53e8=_0x3bc8bd,_0x186b58=_0x34b5b7['target']['closest'](_0x2e53e8(0x13e)),_0x3a0e37=_0x34b5b7['target']['closest'](_0x2e53e8(0xa1c));if(_0x186b58){const _0x16962e=unescape(_0x186b58['dataset'][_0x2e53e8(0x53e)]);generateQuizForSingleTopic(_0x16962e);}else{if(_0x3a0e37){const _0xd89c84=unescape(_0x3a0e37[_0x2e53e8(0x82f)]['topic']);handleGenerateTeachingContent(_0xd89c84);}}}));}_0x48a06d&&_0x48a06d[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),handleGenerateFromBlueprint);const _0x24cd3c=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x3cb)),_0x599b78=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x9a));_0x24cd3c&&_0x24cd3c[_0x3bc8bd(0x5e1)](_0x3bc8bd(0x247),_0x587c0d=>{const _0x4d7ac0=_0x3bc8bd;_0x599b78[_0x4d7ac0(0x35d)]=_0x587c0d[_0x4d7ac0(0x3b5)]['files']['length']===0x0;});_0x599b78&&_0x599b78[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{handleGenerateParallelTest();});loadQuizBtn['addEventListener'](_0x3bc8bd(0xbf8),handleLoadQuiz),startQuizBtn[_0x3bc8bd(0x5e1)]('click',async()=>{const _0x38ff50=_0x3bc8bd,_0x551582=document[_0x38ff50(0x43c)](_0x38ff50(0x93));currentStudentName=_0x551582[_0x38ff50(0x5d0)];if(!currentStudentName){showMessage(_0x38ff50(0x388));return;}try{const _0x5351f6=currentQuizData['id'],_0xe3a645=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x5351f6+_0x38ff50(0xc46),currentStudentName),_0x58dfe7=await getDoc(_0xe3a645);!_0x58dfe7[_0x38ff50(0x2ef)]()?await setDoc(_0xe3a645,{'studentName':currentStudentName,'startedAt':new Date()[_0x38ff50(0x339)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0xe3a645,{'startedAt':new Date()[_0x38ff50(0x339)]()});}catch(_0x55c85a){console[_0x38ff50(0x48f)](_0x38ff50(0x906),_0x55c85a),showMessage(_0x38ff50(0x7a4));return;}studentNameSelectionView['classList'][_0x38ff50(0x61e)](_0x38ff50(0x6e9)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x4f7))['addEventListener'](_0x3bc8bd(0xbf8),showJoinGameView),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x566))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),handleJoinLiveGame),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x373))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>showView(_0x3bc8bd(0x8de)));const _0x1ebd74=()=>{const _0x434218=_0x3bc8bd,_0xb92a5d=document[_0x434218(0x43c)]('results-quiz-title')[_0x434218(0xc0d)][_0x434218(0x1bf)](/[^a-z0-9]/gi,'_')[_0x434218(0x35e)]();return _0x434218(0xaaa)+(_0xb92a5d||_0x434218(0x224));},_0x36cc64=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xa5c));_0x36cc64&&_0x36cc64[_0x3bc8bd(0x5e1)](_0x3bc8bd(0x45f),_0x3c2e01=>{const _0x169602=_0x3bc8bd,_0x5e9e80=_0x3c2e01[_0x169602(0x3b5)]['value']['toLowerCase']()[_0x169602(0x8e7)](),_0x155195=document[_0x169602(0x43c)](_0x169602(0x83f)),_0x23f96f=_0x155195[_0x169602(0xa6e)]('.topic-category');_0x23f96f[_0x169602(0x27f)](_0x48678a=>{const _0x51dbdc=_0x169602;let _0x450f7f=![];const _0x1a8345=_0x48678a[_0x51dbdc(0xa6e)](_0x51dbdc(0xc1b));_0x1a8345[_0x51dbdc(0x27f)](_0xa7ca44=>{const _0x42fb18=_0x51dbdc,_0x490ac4=_0xa7ca44[_0x42fb18(0xb1b)]('.topic-name-display')[_0x42fb18(0xc0d)]['toLowerCase']();_0x490ac4[_0x42fb18(0x69d)](_0x5e9e80)?(_0xa7ca44[_0x42fb18(0x1fc)]['display']=_0x42fb18(0xc76),_0x450f7f=!![]):_0xa7ca44[_0x42fb18(0x1fc)][_0x42fb18(0x9b0)]='none';}),_0x450f7f?_0x48678a[_0x51dbdc(0x1fc)][_0x51dbdc(0x9b0)]='block':_0x48678a[_0x51dbdc(0x1fc)][_0x51dbdc(0x9b0)]=_0x51dbdc(0x5eb);});});document[_0x3bc8bd(0x43c)]('export-image-btn')[_0x3bc8bd(0x5e1)]('click',()=>exportTableAsImage('results-table-container',_0x1ebd74())),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xc72))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>exportTableAsPDF(_0x3bc8bd(0xae0),_0x1ebd74())),document['getElementById'](_0x3bc8bd(0x469))['addEventListener'](_0x3bc8bd(0xbf8),()=>exportTableAsWord(_0x3bc8bd(0x85c),_0x1ebd74())),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xbb7))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>exportTableAsExcel(_0x3bc8bd(0xae0),_0x1ebd74()));const _0x55b292=()=>{const _0x19bcee=_0x3bc8bd,_0x4570e8=document['getElementById'](_0x19bcee(0x7ba))[_0x19bcee(0xc0d)][_0x19bcee(0x1bf)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x19bcee(0x889)+(_0x4570e8||_0x19bcee(0x224));};document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x8ed))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>exportTableAsImage(_0x3bc8bd(0xc79),_0x55b292())),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xb62))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>exportTableAsPDF('quiz-leaderboard-table',_0x55b292())),document[_0x3bc8bd(0x43c)]('export-leaderboard-word-btn')['addEventListener'](_0x3bc8bd(0xbf8),()=>exportTableAsWord(_0x3bc8bd(0xc79),_0x55b292())),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x8aa))[_0x3bc8bd(0x5e1)]('click',()=>exportTableAsExcel(_0x3bc8bd(0x241),_0x55b292())),projectQuizzesList['addEventListener'](_0x3bc8bd(0xbf8),async _0x170493=>{const _0x3394f0=_0x3bc8bd,_0x577104=_0x170493[_0x3394f0(0x3b5)][_0x3394f0(0x3e4)]('.quiz-result-card'),_0x131f49=_0x170493[_0x3394f0(0x3b5)][_0x3394f0(0x3e4)](_0x3394f0(0x2c0)),_0x11e2f3=_0x170493['target']['closest'](_0x3394f0(0xb3c)),_0x4b6306=_0x170493['target'][_0x3394f0(0x3e4)]('.generate-lesson-btn'),_0xc67bd7=_0x170493[_0x3394f0(0x3b5)][_0x3394f0(0x3e4)](_0x3394f0(0x39b)),_0x39b782=_0x170493[_0x3394f0(0x3b5)][_0x3394f0(0x3e4)](_0x3394f0(0x11c)),_0x1debe2=_0x170493[_0x3394f0(0x3b5)][_0x3394f0(0x3e4)](_0x3394f0(0x82d)),_0x326379=_0x170493[_0x3394f0(0x3b5)]['closest'](_0x3394f0(0x30d)),_0x33811e=_0x170493[_0x3394f0(0x3b5)]['closest'](_0x3394f0(0x63d)),_0x56887b=_0x170493[_0x3394f0(0x3b5)][_0x3394f0(0x3e4)]('.rename-quiz-btn'),_0x37ae7f=_0x170493[_0x3394f0(0x3b5)][_0x3394f0(0x3e4)]('.parallel-quiz-btn'),_0x5a42a4=_0x170493[_0x3394f0(0x3b5)][_0x3394f0(0x3e4)](_0x3394f0(0x894)),_0x460713=_0x170493[_0x3394f0(0x3b5)][_0x3394f0(0x3e4)]('.pair-quiz-btn'),_0x430481=_0x170493[_0x3394f0(0x3b5)][_0x3394f0(0x3e4)]('.unpair-quiz-btn'),_0xb92d47=_0x170493[_0x3394f0(0x3b5)][_0x3394f0(0x3e4)](_0x3394f0(0xf4)),_0x543efd=_0x170493[_0x3394f0(0x3b5)][_0x3394f0(0x3e4)](_0x3394f0(0xc5a)),_0x125e4c=_0x170493['target']['closest'](_0x3394f0(0x1cd)),_0x35c647=_0x170493[_0x3394f0(0x3b5)][_0x3394f0(0x3e4)]('.delete-quiz-btn'),_0x44b53e=_0x170493[_0x3394f0(0x3b5)][_0x3394f0(0x3e4)](_0x3394f0(0xa63)),_0x38d22f=_0x170493[_0x3394f0(0x3b5)][_0x3394f0(0x3e4)](_0x3394f0(0x87a)),_0x8577b8=_0x170493[_0x3394f0(0x3b5)][_0x3394f0(0x3e4)](_0x3394f0(0x7bc)),_0x222720=_0x170493[_0x3394f0(0x3b5)]['closest'](_0x3394f0(0xac)),_0x45614f=_0x170493['target'][_0x3394f0(0x3e4)](_0x3394f0(0x7e6));if(_0x222720){const _0x251239=_0x222720['dataset'][_0x3394f0(0xb34)],_0x38d114=_0x222720[_0x3394f0(0x82f)][_0x3394f0(0x360)],_0x595371=allQuizzes[_0x3394f0(0xa3a)](_0x1b851e=>_0x1b851e['id']===_0x251239);_0x595371&&showGameStartConfirmationModal(_0x251239,_0x38d114,_0x595371['topic']);}else{if(_0x45614f){const _0x4f0cf4=_0x45614f['dataset'][_0x3394f0(0xb34)];handleStartLiveRace(_0x4f0cf4);}else{if(_0x38d22f){const _0x2d7425=_0x38d22f['dataset'][_0x3394f0(0xb34)],_0x556b61=document[_0x3394f0(0x43c)]('actions-container-'+_0x2d7425);_0x556b61&&_0x556b61[_0x3394f0(0x860)]['toggle'](_0x3394f0(0x6e9));}else{if(_0x131f49){const _0x552966=_0x131f49[_0x3394f0(0x82f)][_0x3394f0(0xb34)],_0x5def90=allQuizzes['find'](_0xf7bb18=>_0xf7bb18['id']===_0x552966);_0x5def90&&handleGenerateParallelPostTest(_0x5def90);}else{if(_0x11e2f3)handleCompareResults(_0x11e2f3[_0x3394f0(0x82f)][_0x3394f0(0xb34)],_0x11e2f3['dataset'][_0x3394f0(0x4cf)]);else{if(_0x4b6306){const _0x179d44=_0x4b6306[_0x3394f0(0x82f)][_0x3394f0(0xb34)],_0x12d4d4=allQuizzes[_0x3394f0(0xa3a)](_0x18f09d=>_0x18f09d['id']===_0x179d44);_0x12d4d4&&_0x12d4d4[_0x3394f0(0x23c)]?(displayLessonPlan(_0x12d4d4[_0x3394f0(0x23c)],_0x12d4d4),showConfirmation(_0x3394f0(0xd6),()=>handleGenerateLessonPlan(_0x179d44)),document[_0x3394f0(0x43c)](_0x3394f0(0x6be))[_0x3394f0(0xb1b)]('h3')[_0x3394f0(0xc0d)]=_0x3394f0(0xd5),document['getElementById'](_0x3394f0(0x92))[_0x3394f0(0xc0d)]=_0x3394f0(0x1a7)):handleGenerateLessonPlan(_0x179d44);}else{if(_0xc67bd7)handleToggleStarQuiz(_0xc67bd7[_0x3394f0(0x82f)][_0x3394f0(0xb34)]);else{if(_0x39b782)copyTextToClipboard(_0x39b782[_0x3394f0(0x82f)][_0x3394f0(0xb34)],_0x3394f0(0xb94));else{if(_0x1debe2)handleOpenQuizEditor(_0x1debe2[_0x3394f0(0x82f)][_0x3394f0(0xb34)]);else{if(_0x326379)handleQuizSettings(_0x326379[_0x3394f0(0x82f)]['quizId']);else{if(_0x33811e)handleDuplicateQuiz(_0x33811e[_0x3394f0(0x82f)][_0x3394f0(0xb34)]);else{if(_0x56887b)handleRenameQuiz(_0x56887b[_0x3394f0(0x82f)][_0x3394f0(0xb34)],_0x56887b['dataset'][_0x3394f0(0x53e)]);else{if(_0x37ae7f){const _0x5cc50f=_0x37ae7f[_0x3394f0(0x82f)][_0x3394f0(0xb34)],_0x10c4fb=allQuizzes[_0x3394f0(0xa3a)](_0x1df42a=>_0x1df42a['id']===_0x5cc50f);_0x10c4fb&&handleGenerateParallelFromBank(_0x10c4fb);}else{if(_0x5a42a4)handleMoveQuiz(_0x5a42a4[_0x3394f0(0x82f)]['quizId']);else{if(_0x460713)handleManualQuizPairing(_0x460713[_0x3394f0(0x82f)]['quizId']);else{if(_0x430481)handleUnpairQuiz(_0x430481[_0x3394f0(0x82f)][_0x3394f0(0xb34)]);else{if(_0xb92d47){const _0x1a3ef6=_0xb92d47[_0x3394f0(0x82f)][_0x3394f0(0xb34)],_0x1a0921=allQuizzes[_0x3394f0(0xa3a)](_0x5c97c7=>_0x5c97c7['id']===_0x1a3ef6);if(_0x1a0921)startPresentation(_0x1a0921);}else{if(_0x543efd){const _0x2f8194=_0x543efd[_0x3394f0(0x82f)][_0x3394f0(0xb34)],_0x77e911=allQuizzes[_0x3394f0(0xa3a)](_0x4bd755=>_0x4bd755['id']===_0x2f8194);_0x77e911&&(currentQuizData=_0x77e911,startAdminTest());}else{if(_0x125e4c)actionTargetId=_0x125e4c[_0x3394f0(0x82f)][_0x3394f0(0xb34)],document[_0x3394f0(0x43c)](_0x3394f0(0xa58))[_0x3394f0(0x860)][_0x3394f0(0xbf3)]('hidden');else{if(_0x35c647)showConfirmation(_0x3394f0(0xb9)+_0x35c647[_0x3394f0(0x82f)][_0x3394f0(0x53e)]+_0x3394f0(0x497),()=>handleDeleteQuiz(_0x35c647[_0x3394f0(0x82f)][_0x3394f0(0xb34)]));else{if(_0x44b53e)handleQuizStatus(_0x44b53e[_0x3394f0(0x82f)][_0x3394f0(0xb34)]);else{if(_0x8577b8)handleGenerateEasyVersionQuiz(_0x8577b8[_0x3394f0(0x82f)][_0x3394f0(0xb34)]);else _0x577104&&showQuizDetailView(_0x577104['dataset'][_0x3394f0(0xb34)]);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x3bc8bd(0x533))['addEventListener'](_0x3bc8bd(0xbf8),()=>showView(_0x3bc8bd(0x8de))),document['getElementById'](_0x3bc8bd(0x492))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),confirmAndStartTeamQuiz),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x241))[_0x3bc8bd(0xb1b)]('thead')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x151541=>{const _0x91b627=_0x3bc8bd,_0xf55efd=_0x151541[_0x91b627(0x3b5)][_0x91b627(0x3e4)]('.sortable-header');if(!_0xf55efd||!_0xf55efd[_0x91b627(0x82f)]['sort'])return;const _0x2ef15a=_0xf55efd[_0x91b627(0x82f)][_0x91b627(0x34f)];if(quizLeaderboardSortBy===_0x2ef15a)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x91b627(0x575)?'desc':_0x91b627(0x575);else{quizLeaderboardSortBy=_0x2ef15a;const _0x5d60f3=[_0x91b627(0x3eb)];quizLeaderboardSortOrder=_0x5d60f3['includes'](_0x2ef15a)?_0x91b627(0x575):_0x91b627(0xa72);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xaca))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),closePresentation),document[_0x3bc8bd(0x43c)]('prev-question-btn')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xa47))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x3a1501=_0x3bc8bd;currentQuizData[_0x3a1501(0x66b)]&&currentPresentationSlide<currentQuizData[_0x3a1501(0x66b)][_0x3a1501(0x3ce)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x3bc8bd(0x5e1)]('fullscreenchange',()=>{const _0x512f6e=_0x3bc8bd;!document[_0x512f6e(0x161)]&&(presentationModal[_0x512f6e(0x1fc)][_0x512f6e(0x9b0)]=_0x512f6e(0x5eb));}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0xb0b))[_0x3bc8bd(0x5e1)]('click',handleDeleteAllStudents),studentList[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x306a7c=>{const _0x5ed318=_0x3bc8bd,_0x4f23c9=_0x306a7c[_0x5ed318(0x3b5)][_0x5ed318(0x3e4)](_0x5ed318(0x2a1));if(_0x4f23c9){const _0x296d5d=_0x4f23c9[_0x5ed318(0x82f)][_0x5ed318(0x3eb)];handleDeleteStudent(_0x296d5d);}}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x2cb))[_0x3bc8bd(0x5e1)]('click',handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x3bc8bd(0x247),_0x1b2a6c=>{const _0x34a9e8=_0x3bc8bd,_0x2a9fa4=_0x1b2a6c[_0x34a9e8(0x3b5)][_0x34a9e8(0xc03)][0x0],_0x42b8a6=document[_0x34a9e8(0x43c)](_0x34a9e8(0x2cb)),_0x7438e7=document['getElementById'](_0x34a9e8(0x9e4)),_0x3fd4ce=document[_0x34a9e8(0x43c)](_0x34a9e8(0x7cd));_0x2a9fa4?(selectedFile=_0x2a9fa4,_0x3fd4ce[_0x34a9e8(0x1a3)]?(_0x42b8a6[_0x34a9e8(0x35d)]=!![],analyzeFileForTopics(_0x2a9fa4)):(_0x42b8a6[_0x34a9e8(0x35d)]=![],_0x7438e7[_0x34a9e8(0x860)][_0x34a9e8(0x61e)](_0x34a9e8(0x6e9)))):(selectedFile=null,_0x42b8a6['disabled']=!![],_0x7438e7[_0x34a9e8(0x860)][_0x34a9e8(0x61e)](_0x34a9e8(0x6e9)));}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x7cd))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0x247),_0x21c0e1=>{const _0x6067ce=_0x3bc8bd,_0x5b17d3=_0x21c0e1[_0x6067ce(0x3b5)][_0x6067ce(0x1a3)],_0x2c7898=document[_0x6067ce(0x43c)](_0x6067ce(0x2cb)),_0x11db85=document[_0x6067ce(0x43c)]('file-topics-list-container');_0x5b17d3?(_0x2c7898[_0x6067ce(0x35d)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x11db85[_0x6067ce(0x860)][_0x6067ce(0xbf3)](_0x6067ce(0x6e9)),document[_0x6067ce(0x43c)]('file-topics-list')['innerHTML']=_0x6067ce(0x9b2))):(_0x11db85[_0x6067ce(0x860)][_0x6067ce(0x61e)](_0x6067ce(0x6e9)),_0x2c7898['disabled']=!selectedFile);}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x9e4))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x574fd8=>{const _0x1b609d=_0x3bc8bd,_0x4d08f7=_0x574fd8['target']['closest'](_0x1b609d(0x98b)),_0x4c04d7=_0x574fd8[_0x1b609d(0x3b5)][_0x1b609d(0x3e4)](_0x1b609d(0xa1c));if(_0x4d08f7){const _0x247a53=unescape(_0x4d08f7[_0x1b609d(0x82f)][_0x1b609d(0x53e)]);generateHybridQuizForTopic(_0x247a53);}else{if(_0x4c04d7){const _0x2b3bdb=unescape(_0x4c04d7[_0x1b609d(0x82f)]['topic']),_0x1045a7=document[_0x1b609d(0x43c)](_0x1b609d(0x9a6))[_0x1b609d(0x5d0)];handleGenerateAndShowLesson(_0x2b3bdb,_0x1045a7);}}}),document['getElementById'](_0x3bc8bd(0xc9))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0x247),_0x1f7914=>{const _0xd3508d=_0x3bc8bd,_0x216a9a=document[_0xd3508d(0x43c)](_0xd3508d(0x1f9)),_0x1f514d=document[_0xd3508d(0x43c)](_0xd3508d(0xc81)),_0x72b799=document[_0xd3508d(0x43c)](_0xd3508d(0x85e));_0x1f7914[_0xd3508d(0x3b5)][_0xd3508d(0x5d0)]===_0xd3508d(0x5eb)?_0x216a9a[_0xd3508d(0x860)][_0xd3508d(0x61e)](_0xd3508d(0x6e9)):(_0x216a9a[_0xd3508d(0x860)][_0xd3508d(0xbf3)]('hidden'),_0x1f7914[_0xd3508d(0x3b5)][_0xd3508d(0x5d0)]===_0xd3508d(0x8c4)?(_0x1f514d[_0xd3508d(0xc0d)]='ระยะเวลา\x20(นาที):',_0x72b799['value']='10'):(_0x1f514d[_0xd3508d(0xc0d)]=_0xd3508d(0x7db),_0x72b799['value']='30'));}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x1f3))['addEventListener'](_0x3bc8bd(0x247),_0x36cdc8=>{const _0x1cb7a4=_0x3bc8bd,_0x1ef6f2=document['getElementById'](_0x1cb7a4(0x5f1)),_0x5be1a4=_0x36cdc8[_0x1cb7a4(0x3b5)][_0x1cb7a4(0x5d0)],_0x5882bf=document[_0x1cb7a4(0xb1b)](_0x1cb7a4(0x895)),_0xef1267=document[_0x1cb7a4(0x43c)](_0x1cb7a4(0x36f)),_0x2c6bcc=document[_0x1cb7a4(0x43c)](_0x1cb7a4(0x5be));_0x5be1a4===_0x1cb7a4(0xa07)?_0x5882bf['textContent']=_0x1cb7a4(0x20b):_0x5882bf[_0x1cb7a4(0xc0d)]=_0x1cb7a4(0x6b5),_0x5be1a4===_0x1cb7a4(0x51f)||_0x5be1a4==='fill_in_with_choices'||_0x5be1a4===_0x1cb7a4(0x338)?_0x1ef6f2[_0x1cb7a4(0x860)][_0x1cb7a4(0xbf3)](_0x1cb7a4(0x6e9)):_0x1ef6f2[_0x1cb7a4(0x860)][_0x1cb7a4(0x61e)](_0x1cb7a4(0x6e9)),_0xef1267[_0x1cb7a4(0x79e)]=_0x2c6bcc[_0x1cb7a4(0x5d0)];}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x5be))['addEventListener']('input',_0x2f3946=>{const _0x390fce=_0x3bc8bd;document['getElementById'](_0x390fce(0x36f))[_0x390fce(0x79e)]=_0x2f3946['target'][_0x390fce(0x5d0)];}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x30f))[_0x3bc8bd(0x5e1)]('change',_0x220cb8=>{const _0x382033=_0x3bc8bd,_0x8032e9=document[_0x382033(0x43c)](_0x382033(0x3a3)),_0x134cfc=document['getElementById']('modal-timer-duration-label'),_0x1c6322=document[_0x382033(0x43c)](_0x382033(0x7d8));_0x220cb8[_0x382033(0x3b5)][_0x382033(0x5d0)]==='none'?_0x8032e9[_0x382033(0x860)][_0x382033(0x61e)](_0x382033(0x6e9)):(_0x8032e9[_0x382033(0x860)][_0x382033(0xbf3)](_0x382033(0x6e9)),_0x220cb8['target']['value']===_0x382033(0x8c4)?_0x134cfc[_0x382033(0xc0d)]=_0x382033(0x959):_0x134cfc['textContent']='ระยะเวลา\x20(วินาที):');}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x772))['addEventListener']('click',()=>{const _0x19acb1=_0x3bc8bd;document[_0x19acb1(0x43c)]('quiz-editor-modal')['classList'][_0x19acb1(0x61e)](_0x19acb1(0x6e9));}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x988))['addEventListener']('click',()=>{const _0x3b897f=_0x3bc8bd;document[_0x3b897f(0x43c)](_0x3b897f(0x70b))[_0x3b897f(0x860)]['add'](_0x3b897f(0x6e9));}),document[_0x3bc8bd(0x43c)]('verify-answers-editor-btn')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),handleVerifyAnswersInEditor),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x3b0))[_0x3bc8bd(0x5e1)]('click',()=>{const _0x364154=_0x3bc8bd;document[_0x364154(0x43c)](_0x364154(0x70b))[_0x364154(0x860)][_0x364154(0x61e)](_0x364154(0x6e9)),showConfirmation(_0x364154(0x165),handleSaveChanges);}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x258))[_0x3bc8bd(0x5e1)]('click',handleAutoFixLatex);const _0x410fd5=document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x503));_0x410fd5&&_0x410fd5[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x1ba9f6=>{const _0x5a065e=_0x3bc8bd,_0xaf8e08=_0x1ba9f6[_0x5a065e(0x3b5)][_0x5a065e(0x3e4)](_0x5a065e(0x57c));if(_0xaf8e08){const _0xc8e913=_0xaf8e08[_0x5a065e(0x3e4)](_0x5a065e(0xc8f)),_0x58e3f5=parseInt(_0xc8e913[_0x5a065e(0x82f)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x58e3f5);return;}const _0x358d94=_0x1ba9f6[_0x5a065e(0x3b5)][_0x5a065e(0x3e4)](_0x5a065e(0x422));if(_0x358d94){const _0x530aed=_0x358d94['closest'](_0x5a065e(0xc8f)),_0xc7918a=parseInt(_0x530aed[_0x5a065e(0x82f)][_0x5a065e(0x8bc)],0xa);handleDeleteQuestionInEditor(_0xc7918a);return;}const _0x2dc001=_0x1ba9f6['target']['closest'](_0x5a065e(0x17a));if(_0x2dc001){handleAddQuestionInEditor();return;}});document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x401))[_0x3bc8bd(0x5e1)]('click',openQuizBankModal),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x78e))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x135920=_0x3bc8bd;document[_0x135920(0x43c)](_0x135920(0x1d5))[_0x135920(0x860)]['add'](_0x135920(0x6e9));}),document['getElementById'](_0x3bc8bd(0xafe))['addEventListener'](_0x3bc8bd(0x45f),_0x4dd9d1=>renderQuizBankList(_0x4dd9d1[_0x3bc8bd(0x3b5)][_0x3bc8bd(0x5d0)]));const _0x4922c1=document['getElementById']('math-topics-checkbox-container');if(_0x4922c1){let _0x37fc55=null;_0x4922c1[_0x3bc8bd(0x5e1)]('click',_0x2bf858=>{const _0x24712d=_0x3bc8bd,_0x192ff3=_0x2bf858['target'],_0x2b7164=_0x192ff3['closest'](_0x24712d(0x5a6)),_0x3b2f7a=_0x192ff3[_0x24712d(0x3e4)](_0x24712d(0xc6a)),_0x37d63d=_0x192ff3[_0x24712d(0x3e4)](_0x24712d(0x70d)),_0x1e262c=_0x192ff3[_0x24712d(0x3e4)]('.cancel-edit-topic-btn');if(_0x3b2f7a){_0x2bf858['preventDefault']();const _0x54f3d5=_0x3b2f7a['dataset']['id'],_0x1c5a3d=_0x3b2f7a[_0x24712d(0x3e4)](_0x24712d(0xa54))[_0x24712d(0xb1b)](_0x24712d(0x865))[_0x24712d(0xc0d)];showConfirmation(_0x24712d(0xbee)+_0x1c5a3d+'\x22?',()=>handleDeleteCustomTopic(_0x54f3d5));}else{if(_0x2b7164){_0x2bf858[_0x24712d(0x421)]();_0x37fc55&&toggleTopicEditMode(_0x37fc55,![]);const _0xceccca=_0x2b7164[_0x24712d(0x3e4)](_0x24712d(0x195));_0x37fc55=_0xceccca,toggleTopicEditMode(_0xceccca,!![]);}else{if(_0x37d63d){_0x2bf858[_0x24712d(0x421)]();const _0x208d42=_0x37d63d[_0x24712d(0x82f)]['id'],_0xafc532=_0x37d63d[_0x24712d(0x3e4)](_0x24712d(0x195)),_0x410f7e=_0xafc532[_0x24712d(0xb1b)](_0x24712d(0x4e0))[_0x24712d(0x5d0)];handleUpdateCustomTopic(_0x208d42,_0x410f7e),_0x37fc55=null;}else{if(_0x1e262c){_0x2bf858[_0x24712d(0x421)]();const _0x4243c9=_0x1e262c['closest']('[data-topic-container-id]');toggleTopicEditMode(_0x4243c9,![]),_0x37fc55=null;}}}}}),document['getElementById'](_0x3bc8bd(0xabc))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0xc893ed=_0x3bc8bd;document['getElementById'](_0xc893ed(0x536))[_0xc893ed(0x860)]['add'](_0xc893ed(0x6e9));}),document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x571))[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),()=>{const _0x55902f=_0x3bc8bd;document[_0x55902f(0x43c)](_0x55902f(0x536))[_0x55902f(0x860)]['add']('hidden');}),document[_0x3bc8bd(0x43c)]('export-lesson-pdf-btn')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),handleExportLessonPDF);}document[_0x3bc8bd(0x43c)](_0x3bc8bd(0x375))['addEventListener'](_0x3bc8bd(0xbf8),()=>{const _0x47a0ad=_0x3bc8bd;document[_0x47a0ad(0x43c)]('comparison-modal')['classList']['add'](_0x47a0ad(0x6e9));}),document[_0x3bc8bd(0x43c)]('close-comparison-modal-footer-btn')['addEventListener'](_0x3bc8bd(0xbf8),()=>{const _0x94aabe=_0x3bc8bd;document[_0x94aabe(0x43c)](_0x94aabe(0x669))[_0x94aabe(0x860)]['add'](_0x94aabe(0x6e9));}),setupComparisonModalTabs(),document[_0x3bc8bd(0x40b)]['addEventListener'](_0x3bc8bd(0xbf8),function(_0x5678f9){const _0x5971b9=_0x3bc8bd;if(_0x5678f9[_0x5971b9(0x3b5)][_0x5971b9(0x860)][_0x5971b9(0xb57)](_0x5971b9(0x215))){const _0xbe6d30=unescape(_0x5678f9[_0x5971b9(0x3b5)][_0x5971b9(0x82f)][_0x5971b9(0x53e)]);startSkillPractice(_0xbe6d30);}}),document[_0x3bc8bd(0x43c)]('scores-tab-content')[_0x3bc8bd(0x5e1)](_0x3bc8bd(0xbf8),_0x4de7d5=>{const _0x1c4482=_0x3bc8bd,_0x33ecc5=_0x4de7d5['target'][_0x1c4482(0x3e4)](_0x1c4482(0xc60));if(_0x33ecc5){const _0x1431b3=_0x33ecc5[_0x1c4482(0x82f)][_0x1c4482(0x3eb)];handleDeleteSubmission(_0x1431b3);}});}async function handleStartGroupMode(_0xeabef,_0x4dda9c=![]){const _0x35dfaa=_0x587d0b,_0x3c861c=allQuizzes[_0x35dfaa(0xa3a)](_0x5d67b8=>_0x5d67b8['id']===_0xeabef)||allQuizzesGlobal[_0x35dfaa(0xa3a)](_0x757c6e=>_0x757c6e['id']===_0xeabef);if(!_0x3c861c){showMessage(_0x35dfaa(0x3a2));return;}currentQuizData=getShuffledQuiz(_0x3c861c);const _0x2de50f=Math[_0x35dfaa(0x4d7)](0x3e8+Math['random']()*0x2328)['toString']();try{const _0x4b1c44=await addDoc(collection(db,'artifacts/'+appId+_0x35dfaa(0x655)),{'quizId':_0x3c861c['id'],'projectId':_0x3c861c['projectId'],'status':_0x35dfaa(0xa33),'pin':_0x2de50f,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4dda9c});currentTeamQuizId=_0x4b1c44['id'],showView(_0x35dfaa(0x517)),renderAdminTeamQuizDashboard(_0x2de50f,_0x3c861c[_0x35dfaa(0x53e)],_0x35dfaa(0x4d4)),listenForTeamQuizUpdates();}catch(_0x5af727){console[_0x35dfaa(0x48f)](_0x35dfaa(0x606),_0x5af727),showMessage(_0x35dfaa(0x8e9));}}async function showStudentProgressView(){const _0x28ddbb=_0x587d0b;studentInitialView[_0x28ddbb(0x860)]['add'](_0x28ddbb(0x6e9)),document['getElementById'](_0x28ddbb(0xa55))['classList']['remove']('hidden');const _0x400662=document['getElementById'](_0x28ddbb(0x77d)),_0x1ef2d9=document[_0x28ddbb(0x43c)]('progress-student-select'),_0x2314f6=document[_0x28ddbb(0x43c)](_0x28ddbb(0x676));_0x2314f6['innerHTML']=_0x28ddbb(0x5fe),_0x1ef2d9[_0x28ddbb(0x30c)]=_0x28ddbb(0x56a),_0x1ef2d9[_0x28ddbb(0x35d)]=!![],_0x400662['innerHTML']=_0x28ddbb(0x7b1);if(allProjects[_0x28ddbb(0x3ce)]===0x0){const _0x4cf7b7=collection(db,_0x28ddbb(0x1f0)+appId+_0x28ddbb(0x684)),_0x31d860=await getDocs(_0x4cf7b7);allProjects=_0x31d860['docs']['map'](_0x295b7a=>({'id':_0x295b7a['id'],..._0x295b7a['data']()}));}const _0x997510=allProjects[_0x28ddbb(0x35c)](_0x242f92=>_0x242f92[_0x28ddbb(0x731)]?.[_0x28ddbb(0xae9)]!==![]);_0x997510['sort']((_0x43a067,_0x286a9d)=>_0x43a067[_0x28ddbb(0xfd)][_0x28ddbb(0x164)](_0x286a9d['projectName'],'th')),_0x400662[_0x28ddbb(0x30c)]=_0x28ddbb(0x9a3)+_0x997510[_0x28ddbb(0x9a0)](_0x53c577=>_0x28ddbb(0x244)+_0x53c577['id']+'\x22>'+_0x53c577[_0x28ddbb(0xfd)]+_0x28ddbb(0x9e))[_0x28ddbb(0xd9)](''),_0x400662['onchange']=()=>{const _0x5de203=_0x28ddbb,_0x2d5165=_0x1ef2d9[_0x5de203(0x5d0)],_0x2c43a4=_0x400662[_0x5de203(0x5d0)];_0x1ef2d9[_0x5de203(0x35d)]=!![],_0x1ef2d9[_0x5de203(0x30c)]=_0x5de203(0x56a),_0x2314f6[_0x5de203(0x30c)]=_0x5de203(0x4be);if(!_0x2c43a4)return;const _0x1621d2=allProjects[_0x5de203(0xa3a)](_0x34aa3c=>_0x34aa3c['id']===_0x2c43a4);if(!_0x1621d2||!_0x1621d2['students'])return;const _0x57d38a=()=>{const _0x4616eb=_0x5de203;_0x1ef2d9['innerHTML']=_0x4616eb(0x56a)+_0x1621d2['students']['map'](_0x1208fa=>_0x4616eb(0x244)+_0x1208fa+'\x22>'+_0x1208fa+_0x4616eb(0x9e))[_0x4616eb(0xd9)](''),_0x1ef2d9['disabled']=![];const _0x9b5e95=Array['from'](_0x1ef2d9[_0x4616eb(0x4b2)])[_0x4616eb(0x9a0)](_0xeb046f=>_0xeb046f[_0x4616eb(0x5d0)]);if(_0x2d5165&&_0x9b5e95[_0x4616eb(0x69d)](_0x2d5165))_0x1ef2d9[_0x4616eb(0x5d0)]=_0x2d5165,_0x1ef2d9['dispatchEvent'](new Event('change'));else _0x1621d2[_0x4616eb(0xc49)][_0x4616eb(0x3ce)]===0x1&&(_0x1ef2d9['value']=_0x1621d2[_0x4616eb(0xc49)][0x0],_0x1ef2d9[_0x4616eb(0x7aa)](new Event('change')));};if(_0x1621d2[_0x5de203(0x731)]?.[_0x5de203(0x228)]){if(sessionStorage[_0x5de203(0x33e)](_0x5de203(0xb7c)+_0x2c43a4)===_0x5de203(0x529)){_0x57d38a();return;}const _0x16f145=document[_0x5de203(0x43c)]('project-passcode-modal'),_0x4fee1e=document[_0x5de203(0x43c)](_0x5de203(0x33f)),_0x1a7881=document[_0x5de203(0x43c)](_0x5de203(0x6fd)),_0x37328c=document[_0x5de203(0x43c)](_0x5de203(0x842)),_0x474a05=document[_0x5de203(0x43c)](_0x5de203(0x48a));document[_0x5de203(0x43c)](_0x5de203(0x1fb))[_0x5de203(0xc0d)]=_0x5de203(0x3ab)+_0x1621d2['projectName'],_0x37328c['value']='',_0x474a05[_0x5de203(0x860)][_0x5de203(0x61e)](_0x5de203(0x6e9)),_0x16f145['classList']['remove'](_0x5de203(0x6e9));const _0x5a8492=()=>{const _0x2d00b0=_0x5de203,_0x2eba9a=_0x37328c[_0x2d00b0(0x5d0)]['trim']();_0x2eba9a===_0x1621d2[_0x2d00b0(0x731)][_0x2d00b0(0x91c)]?(sessionStorage['setItem'](_0x2d00b0(0xb7c)+_0x2c43a4,_0x2d00b0(0x529)),_0x16f145[_0x2d00b0(0x860)]['add'](_0x2d00b0(0x6e9)),_0x57d38a(),_0x4fee1e['removeEventListener']('click',_0x5a8492)):_0x474a05[_0x2d00b0(0x860)]['remove']('hidden');};_0x4fee1e['onclick']=_0x5a8492,_0x1a7881['onclick']=()=>{const _0x3d4bc3=_0x5de203;_0x16f145['classList']['add'](_0x3d4bc3(0x6e9)),_0x400662['value']='',_0x4fee1e[_0x3d4bc3(0x2b9)](_0x3d4bc3(0xbf8),_0x5a8492);};}else _0x57d38a();},_0x1ef2d9[_0x28ddbb(0x974)]=()=>{const _0x1221ac=_0x28ddbb,_0x55d221=_0x400662['value'],_0x3eb58b=_0x1ef2d9[_0x1221ac(0x5d0)];_0x55d221&&_0x3eb58b&&renderStudentProgressDashboard(_0x55d221,_0x3eb58b);};}async function confirmAndJoinSyncGame(){const _0x5014dd=_0x587d0b,_0x1d61b5=Array[_0x5014dd(0xb3b)](document[_0x5014dd(0xa6e)]('input[name=\x22team_player\x22]:checked'))['map'](_0x4b0a92=>_0x4b0a92['value']);if(_0x1d61b5[_0x5014dd(0x3ce)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x1d61b5,localPlayerTurnIndex=0x0;const _0x152184=doc(db,_0x5014dd(0x1f0)+appId+_0x5014dd(0x3df),currentLiveGameId);try{const _0x40047d={};_0x1d61b5[_0x5014dd(0x27f)](_0x45c3a4=>{const _0x15daa0=_0x5014dd;_0x40047d[_0x15daa0(0x87c)+_0x45c3a4]={'name':_0x45c3a4,'score':0x0,'answered':![],'status':_0x15daa0(0x52b)};}),await updateDoc(_0x152184,_0x40047d),document[_0x5014dd(0x43c)]('student-team-selection-view')['classList'][_0x5014dd(0x61e)]('hidden'),currentStudentName=_0x1d61b5[0x0],listenForSyncGameUpdates();const _0xf339e9={'gameId':currentLiveGameId,'mode':_0x5014dd(0x3d2),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x5014dd(0x817)](_0x5014dd(0x477),JSON[_0x5014dd(0x616)](_0xf339e9)),currentMode!==_0x5014dd(0x7d5)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x5014dd(0x5e1)]('fullscreenchange',handleFullscreenChange),document['addEventListener']('visibilitychange',handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x5014dd(0x9fa),resetDimTimer),window['addEventListener'](_0x5014dd(0x7f1),resetDimTimer),window['addEventListener'](_0x5014dd(0x162),resetDimTimer),window[_0x5014dd(0x5e1)](_0x5014dd(0x9e3),resetDimTimer),resetDimTimer());}catch(_0x431035){console[_0x5014dd(0x48f)]('Error\x20confirming\x20players\x20for\x20sync\x20game:',_0x431035),showMessage(_0x5014dd(0x687));}}async function resumeActiveGameSession(){const _0x532a89=_0x587d0b,_0x1911c6=sessionStorage[_0x532a89(0x33e)]('activeGameSession');if(!_0x1911c6)return;const _0x5c557a=JSON[_0x532a89(0xae3)](_0x1911c6),{gameId:_0x57ceff,mode:_0x4b0110,players:_0x2495d4,turnIndex:_0x270aa1}=_0x5c557a;try{let _0x3e7b12,_0x5cce82;_0x4b0110==='sync'?_0x3e7b12=doc(db,_0x532a89(0x1f0)+appId+_0x532a89(0x3df),_0x57ceff):_0x3e7b12=doc(db,'artifacts/'+appId+_0x532a89(0x655),_0x57ceff);_0x5cce82=await getDoc(_0x3e7b12);if(!_0x5cce82['exists']()||_0x5cce82['data']()[_0x532a89(0x658)]===_0x532a89(0x9ea)||_0x5cce82['data']()['status']===_0x532a89(0xb00)){sessionStorage[_0x532a89(0xd0)]('activeGameSession');return;}console[_0x532a89(0x564)](_0x532a89(0x39a)+_0x4b0110+_0x532a89(0x129)+_0x57ceff+')'),localTeamPlayers=_0x2495d4,localPlayerTurnIndex=_0x270aa1;if(_0x4b0110==='sync')currentLiveGameId=_0x57ceff,currentStudentName=_0x2495d4[0x0],showView(_0x532a89(0x517)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x57ceff;const _0x441997=_0x5cce82[_0x532a89(0xc12)](),_0x3c5547=doc(db,_0x532a89(0x1f0)+appId+_0x532a89(0x92d),_0x441997[_0x532a89(0xb34)]),_0x233255=await getDoc(_0x3c5547);_0x233255[_0x532a89(0x2ef)]()&&(currentQuizData=getShuffledQuiz({'id':_0x233255['id'],..._0x233255[_0x532a89(0xc12)]()}),showView(_0x532a89(0x8de)),studentInitialView[_0x532a89(0x860)]['add'](_0x532a89(0x6e9)),renderTeamQuizQuestion());}}catch(_0x4fa48b){console[_0x532a89(0x48f)](_0x532a89(0x4d1),_0x4fa48b),sessionStorage[_0x532a89(0xd0)](_0x532a89(0x477));}}function activateFileInputAreaWithLoadedFile(){const _0x587d87=_0x587d0b,_0x3bf327=document[_0x587d87(0x43c)](_0x587d87(0x2cb)),_0x3d0921=document['getElementById'](_0x587d87(0x9e4)),_0x48d781=document['getElementById']('separate-by-content-from-file-checkbox');selectedFile?_0x48d781[_0x587d87(0x1a3)]?(_0x3bf327[_0x587d87(0x35d)]=!![],analyzeFileForTopics(selectedFile)):(_0x3bf327[_0x587d87(0x35d)]=![],_0x3d0921[_0x587d87(0x860)][_0x587d87(0x61e)]('hidden')):(_0x3bf327[_0x587d87(0x35d)]=!![],_0x3d0921['classList'][_0x587d87(0x61e)](_0x587d87(0x6e9)));}async function handleKickPlayerSync(_0x4fc31c){const _0x246852=_0x587d0b;if(!currentLiveGameId||!_0x4fc31c)return;const _0x59493b=doc(db,_0x246852(0x1f0)+appId+'/public/data/syncGames',currentLiveGameId),_0x3d01e7={};_0x3d01e7[_0x246852(0x87c)+_0x4fc31c+'.status']=_0x246852(0x362);try{await updateDoc(_0x59493b,_0x3d01e7);}catch(_0x26b0b6){console[_0x246852(0x48f)](_0x246852(0x55a)+_0x4fc31c+_0x246852(0x601),_0x26b0b6),showMessage(_0x246852(0x504));}}async function renderStudentProgressDashboard(_0x464d0a,_0x4840f2){const _0x1cea85=_0x587d0b,_0x17fc4e=document[_0x1cea85(0x43c)]('student-progress-content');_0x17fc4e[_0x1cea85(0x30c)]=_0x1cea85(0x713);try{const _0xd30be5=collection(db,_0x1cea85(0x1f0)+appId+'/public/data/quizzes'),_0x87a303=query(_0xd30be5,where(_0x1cea85(0x2d6),'==',_0x464d0a)),_0x4c8e54=await getDocs(_0x87a303),_0x219685=_0x4c8e54[_0x1cea85(0xbb3)]['map'](_0x264137=>({'id':_0x264137['id'],..._0x264137[_0x1cea85(0xc12)]()})),_0x5ef093=_0x219685['map'](_0x40e6c8=>getDoc(doc(db,'artifacts/'+appId+_0x1cea85(0x261)+_0x40e6c8['id']+'/submissions',_0x4840f2))),_0x392656=await Promise[_0x1cea85(0xafb)](_0x5ef093),_0xff1ced=_0x392656['filter'](_0x1a2d1b=>_0x1a2d1b[_0x1cea85(0x2ef)]())[_0x1cea85(0x9a0)](_0x184fef=>({'quizId':_0x184fef['ref'][_0x1cea85(0x4e8)][_0x1cea85(0x4e8)]['id'],..._0x184fef[_0x1cea85(0xc12)]()}));if(_0xff1ced[_0x1cea85(0x3ce)]===0x0){_0x17fc4e[_0x1cea85(0x30c)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x89e394=_0x1cea85(0x937);_0xff1ced['forEach'](_0x455097=>{const _0x25f0c0=_0x1cea85,_0x3ac92d=_0x219685[_0x25f0c0(0xa3a)](_0x44bf00=>_0x44bf00['id']===_0x455097[_0x25f0c0(0xb34)]),_0x8bc5aa=_0x3ac92d[_0x25f0c0(0x731)]?.[_0x25f0c0(0xb01)]||_0x25f0c0(0x5fb),_0x1eb2f7=_0x3ac92d[_0x25f0c0(0x731)]?.[_0x25f0c0(0x2bf)]??0x0,_0x1114b9=_0x455097[_0x25f0c0(0x9a1)]>=_0x1eb2f7;let _0x2a8000='',_0x265181=_0x25f0c0(0x5ff);switch(_0x8bc5aa){case _0x25f0c0(0x5fb):case _0x25f0c0(0xbe):_0x265181=_0x1114b9?'bg-green-50':_0x25f0c0(0x6d3),_0x2a8000=_0x25f0c0(0xb05)+(_0x1114b9?'text-green-700':_0x25f0c0(0xae5))+'\x22>'+_0x455097['bestScore']+_0x25f0c0(0xbe0)+_0x455097[_0x25f0c0(0xbcf)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x1114b9?_0x25f0c0(0xc33):'bg-red-200\x20text-red-800')+'\x22>'+(_0x1114b9?_0x25f0c0(0x998):_0x25f0c0(0x643))+_0x25f0c0(0x29f);break;case _0x25f0c0(0x688):_0x265181=_0x1114b9?_0x25f0c0(0x4db):'bg-red-50',_0x2a8000=_0x25f0c0(0x84e)+(_0x1114b9?_0x25f0c0(0xc33):_0x25f0c0(0xb1c))+'\x22>'+(_0x1114b9?_0x25f0c0(0x998):_0x25f0c0(0x643))+_0x25f0c0(0x29f);break;case _0x25f0c0(0x436):_0x265181=_0x25f0c0(0x126),_0x2a8000=_0x25f0c0(0x42e);break;}_0x89e394+=_0x25f0c0(0xb0e)+_0x265181+_0x25f0c0(0xa16)+_0x3ac92d[_0x25f0c0(0x53e)]+_0x25f0c0(0x711)+_0x455097['attempts'][_0x25f0c0(0x3ce)]+_0x25f0c0(0x803)+new Date(_0x455097['latestSubmittedAt'])['toLocaleDateString'](_0x25f0c0(0x8ce))+_0x25f0c0(0x54c)+_0x2a8000+_0x25f0c0(0xbce);}),_0x89e394+=_0x1cea85(0xc94),_0x17fc4e[_0x1cea85(0x30c)]=_0x89e394;}catch(_0x57a179){console['error'](_0x1cea85(0x209),_0x57a179),_0x17fc4e[_0x1cea85(0x30c)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x444fd7=''){const _0x4e6206=_0x587d0b,_0x4a1a88=document['getElementById'](_0x4e6206(0x158)),_0x4daade=_0x444fd7[_0x4e6206(0x35e)]()[_0x4e6206(0x8e7)](),_0x323eba=allQuizzesGlobal['map'](_0x57c312=>({..._0x57c312,'projectName':allProjects[_0x4e6206(0xa3a)](_0x2b5b9c=>_0x2b5b9c['id']===_0x57c312[_0x4e6206(0x2d6)])?.[_0x4e6206(0xfd)]||_0x4e6206(0x454)}))[_0x4e6206(0x35c)](_0x370358=>(_0x370358[_0x4e6206(0x53e)]||'')[_0x4e6206(0x35e)]()[_0x4e6206(0x69d)](_0x4daade)||(_0x370358['projectName']||'')[_0x4e6206(0x35e)]()[_0x4e6206(0x69d)](_0x4daade)||_0x370358['id'][_0x4e6206(0x6ce)]()['includes'](_0x4daade));_0x4a1a88[_0x4e6206(0x30c)]=_0x323eba[_0x4e6206(0x3ce)]?_0x323eba['map'](_0x1cc54a=>_0x4e6206(0x2ec)+_0x1cc54a['id']+_0x4e6206(0x5bf)+(_0x1cc54a[_0x4e6206(0x53e)]||_0x4e6206(0x1bd))+_0x4e6206(0x372)+_0x1cc54a[_0x4e6206(0xfd)]+_0x4e6206(0xaf2)+_0x1cc54a['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x4e6206(0xd9)](''):_0x4e6206(0x9a7),_0x4a1a88[_0x4e6206(0x974)]=()=>{const _0xbb9a15=_0x4e6206,_0x40fe46=document[_0xbb9a15(0xb1b)](_0xbb9a15(0xb10));document[_0xbb9a15(0x43c)](_0xbb9a15(0x873))[_0xbb9a15(0x35d)]=!_0x40fe46;};}function setupStudentProgressListeners(){const _0x3520ee=_0x587d0b;document[_0x3520ee(0x43c)](_0x3520ee(0xc4))[_0x3520ee(0x5e1)](_0x3520ee(0xbf8),showStudentProgressView),document[_0x3520ee(0x43c)](_0x3520ee(0x169))[_0x3520ee(0x5e1)](_0x3520ee(0xbf8),()=>{const _0x295d78=_0x3520ee;document['getElementById'](_0x295d78(0xa55))[_0x295d78(0x860)]['add'](_0x295d78(0x6e9)),document['getElementById'](_0x295d78(0x821))['classList'][_0x295d78(0xbf3)](_0x295d78(0x6e9));});}async function startSkillPractice(_0x91d8ae){const _0xa17953=_0x587d0b;studentResultArea[_0xa17953(0x860)][_0xa17953(0x61e)]('hidden'),studentQuizArea[_0xa17953(0x30c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea['classList']['remove'](_0xa17953(0x6e9));try{const _0x1d47af=await getStandardizedTopic(_0x91d8ae);console[_0xa17953(0x564)](_0xa17953(0xa95)+_0x91d8ae+_0xa17953(0x84)+_0x1d47af+'\x22'),studentQuizArea[_0xa17953(0xb1b)]('p')[_0xa17953(0xc0d)]=_0xa17953(0x444)+_0x1d47af+_0xa17953(0x9c1);const _0x1649a7=collection(db,'artifacts/'+appId+_0xa17953(0x1ed)),_0x2e3c5e=query(_0x1649a7,where(_0xa17953(0x53e),'==',_0x1d47af)),_0x5b676e=await getDocs(_0x2e3c5e);if(_0x5b676e[_0xa17953(0xbb3)][_0xa17953(0x3ce)]>=0x3){console['log'](_0xa17953(0xa6b)+_0x5b676e[_0xa17953(0xbb3)]['length']+_0xa17953(0xaa3)+_0x1d47af+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x4c80de=_0x5b676e['docs'][_0xa17953(0x9a0)](_0x47fdba=>_0x47fdba[_0xa17953(0xc12)]());shuffleArray(_0x4c80de);const _0xa23915={'topic':_0x1d47af,'questions':_0x4c80de[_0xa17953(0x264)](0x0,0x3)};displaySkillPracticeDrill(_0xa23915);}else{console[_0xa17953(0x564)](_0xa17953(0x5e4)+_0x1d47af+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0xdcbeac=await generatePracticeQuestions(_0x1d47af);await saveDrillToPracticeBank(_0xdcbeac,_0x1d47af),displaySkillPracticeDrill(_0xdcbeac);}}catch(_0x528701){console[_0xa17953(0x48f)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x528701),showMessage(_0xa17953(0x5a1)),studentQuizArea[_0xa17953(0x860)][_0xa17953(0x61e)](_0xa17953(0x6e9)),studentResultArea[_0xa17953(0x860)][_0xa17953(0xbf3)](_0xa17953(0x6e9));}}async function saveDrillToPracticeBank(_0x221b1e,_0x12c412){const _0x404297=_0x587d0b,_0x13363a=collection(db,_0x404297(0x1f0)+appId+_0x404297(0x1ed)),_0x332814=writeBatch(db);_0x221b1e['questions'][_0x404297(0x27f)](_0x904064=>{const _0x3f97b4=_0x404297,_0x53618d=doc(_0x13363a);_0x332814[_0x3f97b4(0x964)](_0x53618d,{'topic':_0x12c412,'questionText':_0x904064[_0x3f97b4(0xb89)],'options':_0x904064['options'],'correctAnswerIndex':_0x904064[_0x3f97b4(0x828)],'explanation':_0x904064[_0x3f97b4(0x19b)],'createdAt':serverTimestamp()});});try{await _0x332814['commit'](),console[_0x404297(0x564)](_0x404297(0xb04)+_0x221b1e[_0x404297(0x66b)][_0x404297(0x3ce)]+_0x404297(0xa5e));}catch(_0x29958a){console[_0x404297(0x48f)](_0x404297(0x411),_0x29958a);}}async function getStandardizedTopic(_0x509232){const _0x167492=_0x587d0b,_0x33bcf9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x509232+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x1ccc70={'type':'OBJECT','properties':{'standardTopic':{'type':'STRING'}},'required':[_0x167492(0x93f)]};try{const _0x8c14fa=await callAnalysisApi(_0x33bcf9,_0x1ccc70);return _0x8c14fa['standardTopic'];}catch(_0x37f75b){return console[_0x167492(0x48f)](_0x167492(0x56b),_0x37f75b),_0x509232;}}async function handleGenerateEasyVersionQuiz(_0x1ebd6a){const _0x18b32c=_0x587d0b,_0x2768d7=document['getElementById']('results-tab-content'),_0x3ab6db=document[_0x18b32c(0x43c)](_0x18b32c(0x56e));_0x3ab6db['classList']['add']('hidden');const _0x3fcb15='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2768d7[_0x18b32c(0x660)](_0x18b32c(0x97e),_0x3fcb15);try{const _0x2e8ae7=allQuizzes[_0x18b32c(0xa3a)](_0x1f5a6b=>_0x1f5a6b['id']===_0x1ebd6a);if(!_0x2e8ae7)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0x4fb404=_0x18b32c(0x801)+JSON[_0x18b32c(0x616)](_0x2e8ae7[_0x18b32c(0x66b)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1b0a02={'type':_0x18b32c(0x371),'properties':{'questionText':{'type':_0x18b32c(0xbff)},'questionType':{'type':_0x18b32c(0xbff)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x18b32c(0x52c)},'idealAnswer':{'type':_0x18b32c(0xbff)},'explanation':{'type':_0x18b32c(0xbff)},'imageCode':{'type':_0x18b32c(0xbff)}},'required':[_0x18b32c(0xb89),'questionType',_0x18b32c(0x19b)]},_0x458b66={'type':_0x18b32c(0x371),'properties':{'questions':{'type':_0x18b32c(0x3ec),'items':_0x1b0a02}},'required':[_0x18b32c(0x66b)]},_0x52610b=await callAnalysisApi(_0x4fb404,_0x458b66);_0x52610b&&_0x52610b[_0x18b32c(0x66b)]&&_0x52610b[_0x18b32c(0x66b)][_0x18b32c(0x27f)](_0x4ec59c=>{const _0x312d0b=_0x18b32c;if(_0x4ec59c['hasOwnProperty'](_0x312d0b(0xb6d))){const _0x3d39cf=String(_0x4ec59c[_0x312d0b(0xb6d)])[_0x312d0b(0x8e7)]();(_0x3d39cf===''||_0x3d39cf[_0x312d0b(0x35e)]()===_0x312d0b(0xbeb)||!_0x3d39cf[_0x312d0b(0x718)](_0x312d0b(0x199)))&&delete _0x4ec59c[_0x312d0b(0xb6d)];}});if(!_0x52610b||!_0x52610b[_0x18b32c(0x66b)]||_0x52610b[_0x18b32c(0x66b)][_0x18b32c(0x3ce)]===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x171c07=_0x52610b[_0x18b32c(0x66b)]['map']((_0x54c2f3,_0x17ea58)=>({..._0x54c2f3,'id':'q_'+Date[_0x18b32c(0x349)]()+'_'+_0x17ea58})),_0x5babba={'projectId':_0x2e8ae7[_0x18b32c(0x2d6)],'quizType':_0x2e8ae7[_0x18b32c(0x86d)],'settings':_0x2e8ae7[_0x18b32c(0x731)],'createdBy':_0x2e8ae7[_0x18b32c(0xb9e)],'status':_0x18b32c(0x52b),'topic':'(ฉบับง่าย)\x20'+_0x2e8ae7[_0x18b32c(0x53e)],'questions':_0x171c07,'createdAt':new Date()[_0x18b32c(0x339)](),'quizMode':_0x18b32c(0xdd),'pairedQuizId':null};let _0x4866f3;while(!![]){_0x4866f3=Math[_0x18b32c(0x4d7)](0x3e8+Math[_0x18b32c(0x14d)]()*0x2328)[_0x18b32c(0x6ce)]();const _0x4794cc=await getDoc(doc(db,_0x18b32c(0x1f0)+appId+_0x18b32c(0x92d),_0x4866f3));if(!_0x4794cc[_0x18b32c(0x2ef)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x18b32c(0x92d),_0x4866f3),_0x5babba),showMessage(_0x18b32c(0x79));}catch(_0x2a19d5){console[_0x18b32c(0x48f)](_0x18b32c(0xa66),_0x2a19d5),showMessage(_0x18b32c(0xacb)+_0x2a19d5[_0x18b32c(0x2f6)]);}finally{const _0xb3c55d=document['getElementById'](_0x18b32c(0x9fc));_0xb3c55d&&_0xb3c55d[_0x18b32c(0xbf3)](),_0x3ab6db[_0x18b32c(0x860)][_0x18b32c(0xbf3)](_0x18b32c(0x6e9));}}async function generatePracticeQuestions(_0x512dc1){const _0xd8402=_0x587d0b,_0x393c8b=_0xd8402(0x973)+_0x512dc1+_0xd8402(0x7b4)+simpleMathPrompt+_0xd8402(0x3fd),_0x5f1cb9={'type':_0xd8402(0x371),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0xd8402(0x3ec),'items':{'type':_0xd8402(0xbff)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0xd8402(0xbff)}},'required':[_0xd8402(0xb89),_0xd8402(0x4b2),'correctAnswerIndex',_0xd8402(0x19b)]},_0xb5c6e0={'type':'OBJECT','properties':{'topic':{'type':_0xd8402(0xbff)},'questions':{'type':_0xd8402(0x3ec),'items':_0x5f1cb9}},'required':['topic',_0xd8402(0x66b)]};return await callAnalysisApi(_0x393c8b,_0xb5c6e0);}function displayLessonPlan(_0x2cefaa,_0x2b9518){const _0x10a3ff=_0x587d0b,_0x4fa5d4=_0x10a3ff(0x124)+_0x2b9518[_0x10a3ff(0x53e)]+_0x10a3ff(0xbad)+_0x2cefaa['learningGaps'][_0x10a3ff(0x9a0)](_0x33fa57=>_0x10a3ff(0x8a7)+_0x33fa57+_0x10a3ff(0x7ef))[_0x10a3ff(0xd9)]('')+_0x10a3ff(0x221)+_0x2cefaa['teachingContent']+_0x10a3ff(0x870)+_0x2cefaa[_0x10a3ff(0x6f6)][_0x10a3ff(0x9a0)](_0x5260ee=>_0x10a3ff(0x579)+_0x5260ee[_0x10a3ff(0x72b)]+_0x10a3ff(0x541)+_0x5260ee['solution']+_0x10a3ff(0x1c2))['join']('')+_0x10a3ff(0x67e);document[_0x10a3ff(0x43c)](_0x10a3ff(0xc0b))[_0x10a3ff(0xc0d)]=_0x10a3ff(0x5fd)+_0x2b9518[_0x10a3ff(0x53e)],document[_0x10a3ff(0x43c)](_0x10a3ff(0x5a3))[_0x10a3ff(0x30c)]=_0x4fa5d4,document[_0x10a3ff(0x43c)]('lesson-plan-modal')['classList'][_0x10a3ff(0xbf3)](_0x10a3ff(0x6e9));if(window[_0x10a3ff(0xaf8)])MathJax[_0x10a3ff(0x5ad)]();}function displaySkillPracticeDrill(_0x2af0e8){let _0x40b17f=0x0;const _0x36d48d=_0x2af0e8['questions'],_0xf2b8a4=()=>{const _0x303221=_0x341e,_0x38d75c=_0x36d48d[_0x40b17f],_0x5a8847='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x40b17f+0x1)+_0x303221(0xbe0)+_0x36d48d[_0x303221(0x3ce)]+_0x303221(0xa27)+_0x38d75c[_0x303221(0xb89)]+_0x303221(0xc7e)+_0x38d75c[_0x303221(0x4b2)][_0x303221(0x9a0)]((_0x421b28,_0x21f79d)=>_0x303221(0x451)+_0x21f79d+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x21f79d+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x21f79d+'\x22>'+_0x421b28+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x303221(0x8dc);studentQuizArea['innerHTML']=_0x5a8847;if(window[_0x303221(0xaf8)])MathJax[_0x303221(0x5ad)]([studentQuizArea]);document[_0x303221(0x43c)](_0x303221(0xa9c))[_0x303221(0x5e1)](_0x303221(0xbf8),async()=>{const _0xcc5b1e=_0x303221,_0x474da5=await getHintForQuestion(_0x38d75c[_0xcc5b1e(0xb89)]);showMessage(_0x474da5);}),document[_0x303221(0x43c)](_0x303221(0x27c))['addEventListener'](_0x303221(0xbf8),()=>{const _0x51b792=_0x303221,_0x4e75a9=document[_0x51b792(0xb1b)](_0x51b792(0x2e5));if(!_0x4e75a9){showMessage(_0x51b792(0x5cc));return;}const _0x503f63=document['getElementById'](_0x51b792(0x6e2)),_0x29edf2=parseInt(_0x4e75a9[_0x51b792(0x5d0)])===_0x38d75c['correctAnswerIndex'];_0x29edf2?(_0x503f63[_0x51b792(0x1ab)]=_0x51b792(0x523),_0x503f63[_0x51b792(0x30c)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x38d75c[_0x51b792(0x19b)]):(_0x503f63[_0x51b792(0x1ab)]=_0x51b792(0x5c7),_0x503f63[_0x51b792(0x30c)]=_0x51b792(0x63c)+_0x38d75c[_0x51b792(0x19b)]);_0x503f63[_0x51b792(0x860)]['remove'](_0x51b792(0x6e9));if(window[_0x51b792(0xaf8)])MathJax['typesetPromise']([_0x503f63]);document['getElementById'](_0x51b792(0x27c))[_0x51b792(0x860)][_0x51b792(0x61e)](_0x51b792(0x6e9)),document[_0x51b792(0x43c)]('hint-btn')[_0x51b792(0x860)]['add'](_0x51b792(0x6e9)),document['getElementById'](_0x51b792(0x432))[_0x51b792(0x860)][_0x51b792(0xbf3)]('hidden');}),document[_0x303221(0x43c)]('next-drill-btn')[_0x303221(0x5e1)]('click',()=>{const _0x9c167d=_0x303221;_0x40b17f++,_0x40b17f<_0x36d48d[_0x9c167d(0x3ce)]?_0xf2b8a4():(studentQuizArea[_0x9c167d(0x30c)]=_0x9c167d(0x1f6),document['getElementById'](_0x9c167d(0x2c4))[_0x9c167d(0x5e1)](_0x9c167d(0xbf8),()=>{const _0x41351e=_0x9c167d;studentQuizArea[_0x41351e(0x860)][_0x41351e(0x61e)](_0x41351e(0x6e9)),studentResultArea[_0x41351e(0x860)][_0x41351e(0xbf3)](_0x41351e(0x6e9));}));});};_0xf2b8a4();}async function getHintForQuestion(_0x2ccc62){const _0x4f974f=_0x587d0b,_0x1bb076=_0x4f974f(0x1d6)+_0x2ccc62+_0x4f974f(0xa89),_0x5047a4={'type':'OBJECT','properties':{'hint':{'type':_0x4f974f(0xbff)}},'required':[_0x4f974f(0x506)]};try{const _0x1cdc28=await callAnalysisApi(_0x1bb076,_0x5047a4);return _0x1cdc28[_0x4f974f(0x506)];}catch(_0x314293){return console['error'](_0x4f974f(0xc7c),_0x314293),_0x4f974f(0x9b1);}}async function extractTextFromPdf(_0x2e99e9){const _0x157648=_0x587d0b;pdfjsLib[_0x157648(0x991)][_0x157648(0x3aa)]=_0x157648(0x2d4);const _0x120be8=await _0x2e99e9[_0x157648(0x5af)](),_0x1cf044=await pdfjsLib[_0x157648(0xa39)](_0x120be8)[_0x157648(0x91d)],_0x5f0b95=_0x1cf044['numPages'];let _0x2badf2='';for(let _0x4527a9=0x1;_0x4527a9<=_0x5f0b95;_0x4527a9++){const _0x2aa8a7=await _0x1cf044[_0x157648(0xae4)](_0x4527a9),_0x307384=await _0x2aa8a7[_0x157648(0x965)](),_0x413cde=_0x307384[_0x157648(0xa77)][_0x157648(0x9a0)](_0xce2e4f=>_0xce2e4f[_0x157648(0x35b)])[_0x157648(0xd9)]('\x20');_0x2badf2+=_0x413cde+'\x0a\x0a';}return _0x2badf2;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x42f2a1){const _0x1b0173=_0x587d0b,_0x17d580=document[_0x1b0173(0x43c)]('blueprint-options-container'),_0x301a2c=document['getElementById']('blueprint-topics-list'),_0x5d0487=document[_0x1b0173(0x43c)]('save-blueprint-as-project-btn');_0x17d580[_0x1b0173(0x860)]['remove']('hidden'),_0x301a2c[_0x1b0173(0x30c)]=_0x1b0173(0xc45),_0x5d0487[_0x1b0173(0x860)][_0x1b0173(0x61e)](_0x1b0173(0x6e9));try{const _0x27607f=_0x1b0173(0x781)+_0x42f2a1+_0x1b0173(0xb45),_0xf378db={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x1b0173(0xbff)},'curriculum':{'type':'ARRAY','items':{'type':_0x1b0173(0x371),'properties':{'sara':{'type':_0x1b0173(0xbff)},'mainTopics':{'type':'ARRAY','items':{'type':_0x1b0173(0x371),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x1b0173(0x3ec),'items':{'type':_0x1b0173(0xbff)}}},'required':['topicName','subTopics']}}},'required':[_0x1b0173(0x4b1),_0x1b0173(0x6cf)]}}},'required':[_0x1b0173(0x679),'curriculum']},_0x3e275a=await callAnalysisApi(_0x27607f,_0xf378db);if(_0x3e275a&&_0x3e275a[_0x1b0173(0x299)])extractedBlueprintData=_0x3e275a,renderBlueprintTopics(_0x3e275a),_0x5d0487[_0x1b0173(0x860)][_0x1b0173(0xbf3)](_0x1b0173(0x6e9));else throw new Error(_0x1b0173(0x155));}catch(_0x256f8d){console[_0x1b0173(0x48f)](_0x1b0173(0xe9),_0x256f8d),_0x301a2c[_0x1b0173(0x30c)]=_0x1b0173(0x5db);}}function renderBlueprintTopics(_0xc4d448){const _0x1b7591=_0x587d0b,_0x5ba2b1=document['getElementById'](_0x1b7591(0x1ba)),_0x50d824=_0xc4d448[_0x1b7591(0x679)],_0x29a4a3='<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20'+_0x50d824+'</h3>';let _0x2964c3='';_0xc4d448[_0x1b7591(0x299)]['forEach'](_0x30ba59=>{const _0x444982=_0x1b7591;_0x2964c3+=_0x444982(0xb6b)+_0x30ba59[_0x444982(0x4b1)]+_0x444982(0x184),_0x30ba59[_0x444982(0x6cf)]['forEach'](_0x36d71b=>{const _0x24da54=_0x444982;_0x2964c3+=_0x24da54(0x780)+_0x36d71b[_0x24da54(0xb26)]+_0x24da54(0x466),_0x36d71b[_0x24da54(0x63b)][_0x24da54(0x27f)](_0x4fd844=>{const _0x33a558=_0x24da54;_0x2964c3+=_0x33a558(0x56f)+_0x4fd844['replace'](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x50d824[_0x33a558(0x1bf)](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20'+_0x4fd844+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x4fd844[_0x33a558(0x1bf)](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a';}),_0x2964c3+=_0x24da54(0x217);}),_0x2964c3+=_0x444982(0xc94);}),_0x5ba2b1[_0x1b7591(0x30c)]=_0x29a4a3+_0x2964c3;}async function handleGenerateTeachingContent(_0x34badb){const _0x2fb7a1=_0x587d0b,_0x56a446=document[_0x2fb7a1(0x43c)](_0x2fb7a1(0x536)),_0x166a14=document[_0x2fb7a1(0x43c)](_0x2fb7a1(0x5a3));document[_0x2fb7a1(0x43c)](_0x2fb7a1(0xc0b))[_0x2fb7a1(0xc0d)]=_0x2fb7a1(0x271)+_0x34badb,_0x166a14[_0x2fb7a1(0x30c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x56a446['classList'][_0x2fb7a1(0xbf3)](_0x2fb7a1(0x6e9));try{const _0x3407fc=_0x2fb7a1(0x671)+_0x34badb+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4bd38e={'type':_0x2fb7a1(0x371),'properties':{'keyConcepts':{'type':'ARRAY','items':{'type':_0x2fb7a1(0xbff)}},'commonMistakes':{'type':_0x2fb7a1(0x3ec),'items':{'type':'STRING'}},'stepByStepExamples':{'type':_0x2fb7a1(0x3ec),'items':{'type':_0x2fb7a1(0x371),'properties':{'question':{'type':_0x2fb7a1(0xbff)},'solution':{'type':_0x2fb7a1(0xbff)}},'required':[_0x2fb7a1(0x72b),'solution']}},'teacherTips':{'type':_0x2fb7a1(0x3ec),'items':{'type':'STRING'}}},'required':['keyConcepts','commonMistakes',_0x2fb7a1(0x5c5),_0x2fb7a1(0x61a)]},_0x3b2c5b=await callAnalysisApi(_0x3407fc,_0x4bd38e);displayTeachingContent(_0x3b2c5b,_0x34badb);}catch(_0x5ad5af){console[_0x2fb7a1(0x48f)](_0x2fb7a1(0x5f9),_0x5ad5af),_0x166a14[_0x2fb7a1(0x30c)]='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x5ad5af[_0x2fb7a1(0x2f6)]+_0x2fb7a1(0x85a);}}function displayTeachingContent(_0x258999,_0xfce4df){const _0x146351=_0x587d0b,_0x28dd56=document[_0x146351(0x43c)](_0x146351(0x5a3));document['getElementById'](_0x146351(0xc0b))[_0x146351(0xc0d)]=_0x146351(0xc23)+_0xfce4df;const _0x5cae18='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x258999['keyConcepts'][_0x146351(0x9a0)](_0x5a6234=>_0x146351(0x8a7)+_0x5a6234+_0x146351(0x7ef))['join']('')+_0x146351(0x766)+_0x258999[_0x146351(0x60e)]['map'](_0x27df32=>_0x146351(0x8a7)+_0x27df32+_0x146351(0x7ef))[_0x146351(0xd9)]('')+_0x146351(0x77e)+_0x258999[_0x146351(0x5c5)][_0x146351(0x9a0)](_0x5a1312=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x5a1312[_0x146351(0x72b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x5a1312[_0x146351(0x2ce)]+_0x146351(0x8b5))[_0x146351(0xd9)]('')+_0x146351(0x206)+_0x258999['teacherTips']['map'](_0x160adb=>_0x146351(0x8a7)+_0x160adb+_0x146351(0x7ef))[_0x146351(0xd9)]('')+_0x146351(0x325);_0x28dd56['innerHTML']=_0x5cae18;if(window[_0x146351(0xaf8)])MathJax[_0x146351(0x5ad)]([_0x28dd56]);}async function generateQuizForSingleTopic(_0x36ec97){const _0x4edf08=_0x587d0b;console['log'](_0x4edf08(0x732)+_0x36ec97+'\x22');const _0x3747f1=document['getElementById'](_0x4edf08(0x6fb)),_0x3edc77=_0x3747f1[_0x4edf08(0xc03)][_0x4edf08(0x3ce)]>0x0?_0x3747f1['files'][0x0]:null;let _0x56e542=null;if(_0x3edc77)try{const _0x31b8f2=new FileReader();_0x31b8f2[_0x4edf08(0xc77)](_0x3edc77);const _0x512e82=await new Promise((_0x5f2334,_0x42511c)=>{const _0x5288ea=_0x4edf08;_0x31b8f2[_0x5288ea(0x7c2)]=()=>_0x5f2334(_0x31b8f2[_0x5288ea(0x5e8)]['split'](',')[0x1]),_0x31b8f2[_0x5288ea(0x350)]=_0x446e1d=>_0x42511c(_0x446e1d);});_0x56e542=[{'inlineData':{'mimeType':_0x3edc77[_0x4edf08(0x866)],'data':_0x512e82}}];}catch(_0x30b540){console[_0x4edf08(0x48f)](_0x4edf08(0xad),_0x30b540),showMessage(_0x4edf08(0x97b));return;}generateQuiz(_0x36ec97,null,null,_0x56e542,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x4cb159=null){const _0x1bb682=_0x587d0b,_0x58e603=document[_0x1bb682(0x43c)](_0x1bb682(0x2ca)),_0x11367c=document['getElementById'](_0x1bb682(0xa11));let _0x3563f3,_0x209e3e=[];if(_0x4cb159)_0x3563f3=_0x4cb159,_0x209e3e=_0x3563f3[_0x1bb682(0x264)](0x2);else{const _0x1b1dd6=document[_0x1bb682(0x43c)](_0x1bb682(0x685)),_0x382aba=document[_0x1bb682(0x43c)](_0x1bb682(0x6fb)),_0x5411c5=_0x1b1dd6['files'][0x0];if(!_0x5411c5){showMessage(_0x1bb682(0x31b));return;}_0x11367c['textContent']=_0x1bb682(0x396);const _0x5c8bb5=await new Promise((_0x137bc6,_0x55ed8c)=>{const _0x52a805=_0x1bb682,_0x4dc640=new FileReader();_0x4dc640[_0x52a805(0xc77)](_0x5411c5),_0x4dc640[_0x52a805(0x7c2)]=()=>_0x137bc6(_0x4dc640[_0x52a805(0x5e8)][_0x52a805(0x9f8)](',')[0x1]),_0x4dc640[_0x52a805(0x350)]=_0x55ed8c;});_0x3563f3=[{'text':'PROMPT_PLACEHOLDER'},{'inlineData':{'mimeType':_0x5411c5[_0x1bb682(0x866)],'data':_0x5c8bb5}}];if(_0x382aba[_0x1bb682(0xc03)][_0x1bb682(0x3ce)]>0x0){const _0x5ec9f3=_0x382aba[_0x1bb682(0xc03)][0x0];_0x11367c[_0x1bb682(0xc0d)]=_0x1bb682(0x5d6);const _0x17bf50=await new Promise((_0x4bddfb,_0x512c8f)=>{const _0x3eabd5=_0x1bb682,_0x4444e4=new FileReader();_0x4444e4[_0x3eabd5(0xc77)](_0x5ec9f3),_0x4444e4[_0x3eabd5(0x7c2)]=()=>_0x4bddfb(_0x4444e4[_0x3eabd5(0x5e8)][_0x3eabd5(0x9f8)](',')[0x1]),_0x4444e4[_0x3eabd5(0x350)]=_0x512c8f;}),_0x5aa6b2={'inlineData':{'mimeType':_0x5ec9f3[_0x1bb682(0x866)],'data':_0x17bf50}};_0x3563f3[_0x1bb682(0x211)](_0x5aa6b2),_0x209e3e[_0x1bb682(0x211)](_0x5aa6b2);}}const _0x186ef6=_0x1bb682(0xb1),_0x18c3a5=_0x1bb682(0x459);let _0x68eec2='';_0x209e3e&&_0x209e3e[_0x1bb682(0x3ce)]>0x0?_0x68eec2=_0x186ef6:_0x68eec2=_0x18c3a5;const _0x5cf158=_0x1bb682(0x73e)+_0x68eec2+_0x1bb682(0x984),_0x3dde47={'type':_0x1bb682(0x371),'properties':{'questionText':{'type':_0x1bb682(0xbff)},'questionType':{'type':'STRING','enum':[_0x1bb682(0x51f),_0x1bb682(0x573),_0x1bb682(0x907),_0x1bb682(0xf5)]},'options':{'type':_0x1bb682(0x3ec),'items':{'type':_0x1bb682(0xbff)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x1bb682(0xbff)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1bb682(0xbff)}},'required':[_0x1bb682(0x8af),_0x1bb682(0x19b)]},_0x1aef40={'type':_0x1bb682(0x371),'properties':{'topic':{'type':_0x1bb682(0xbff)},'questions':{'type':_0x1bb682(0x3ec),'items':_0x3dde47}},'required':[_0x1bb682(0x53e),_0x1bb682(0x66b)]};_0x3563f3[0x0][_0x1bb682(0xa1b)]=_0x5cf158,await handleApiCall(_0x3563f3,_0x1bb682(0x8c9),_0x1aef40);}function proceedToNextQuestion(_0x309eb8){const _0x4d9836=_0x587d0b;studentAnswersPerQuestion['push'](_0x309eb8),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x4d9836(0x66b)][_0x4d9836(0x3ce)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x2bf428,_0xcc4bd5,_0x20aeae){const _0x215249=_0x587d0b,_0x5396b8=Object[_0x215249(0x512)](_0x2bf428[_0x215249(0x365)]||{}),_0x300aa5=_0x5396b8[_0x215249(0x3ce)],_0x4c5a76=[..._0x5396b8][_0x215249(0x34f)]((_0x489f43,_0x111cd3)=>_0x111cd3[_0x215249(0x7c3)]-_0x489f43['score']),_0x1e9031=_0x20aeae,_0xe0ab89=_0x2bf428[_0x215249(0xa14)]||_0x215249(0x1dd),_0x2ffecb=_0xe0ab89==='anonymous'&&_0x2bf428[_0x215249(0x28b)]===![];let _0x188911='';const _0x10bdef=_0x2bf428[_0x215249(0x33c)]['questions'],_0x1bab89=_0x10bdef[_0x1e9031],_0x5112e3=_0x5d4ec7=>String['fromCharCode'](0x41+_0x5d4ec7);let _0x119f2d='',_0x2d1e5d='';if(_0x1bab89){const _0x151c87=_0x1bab89['questionType']||_0x2bf428[_0x215249(0x33c)][_0x215249(0x86d)];if(_0x151c87===_0x215249(0x51f)&&_0x1bab89[_0x215249(0x4b2)]&&_0x1bab89[_0x215249(0x828)]!==undefined){const _0x26c9d5=_0x1bab89['correctAnswerIndex'];_0x119f2d=_0x1bab89[_0x215249(0x4b2)][_0x26c9d5],_0x2d1e5d=_0x5112e3(_0x26c9d5)+'.';}else{if(_0x151c87==='true_false'){const _0x28785b=_0x1bab89['correctAnswer']===!![]||String(_0x1bab89[_0x215249(0x347)])['toLowerCase']()===_0x215249(0x529);_0x28785b?(_0x119f2d=_0x215249(0x100),_0x2d1e5d='ก.'):(_0x119f2d=_0x215249(0x596),_0x2d1e5d='ข.');}else{if(_0x151c87===_0x215249(0xf5))_0x119f2d=_0x1bab89['correctResponse']||'-',_0x2d1e5d='';else _0x151c87===_0x215249(0x573)&&(_0x119f2d=_0x1bab89[_0x215249(0x1ef)]||'-',_0x2d1e5d='');}}}_0x119f2d&&(_0x188911=_0x215249(0x3ff)+(_0x1e9031+0x1)+_0x215249(0x996)+_0x2d1e5d+'\x20'+_0x119f2d+_0x215249(0xbd6));const _0x250f19=_0x4c5a76[_0x215249(0x9a0)](_0x2361b2=>{const _0x100e9e=_0x215249;let _0x5200c9=_0x2361b2['score'];if(_0xe0ab89===_0x100e9e(0x1f7)){const _0x3741c1=(_0x2361b2[_0x100e9e(0x34c)]||[])['filter'](_0x44d1b5=>_0x44d1b5[_0x100e9e(0x8b)]<=_0x1e9031);_0x5200c9=_0x3741c1[_0x100e9e(0x35c)](_0x21f29f=>_0x21f29f[_0x100e9e(0xa35)])[_0x100e9e(0x3ce)];}const _0x11943b=(_0x2361b2[_0x100e9e(0x34c)]||[])['find'](_0x4c5900=>_0x4c5900['questionIndex']===_0x1e9031),_0x5ed080=_0x11943b?_0x11943b[_0x100e9e(0xa35)]:![],_0x4f5892=_0x11943b?_0x11943b[_0x100e9e(0x6b1)]===!![]||_0x11943b[_0x100e9e(0x6b1)]===_0x100e9e(0x83b):![];let _0xc03386='';if(_0x4f5892&&_0x5ed080)_0xc03386=_0x100e9e(0x40e);else{if(_0x4f5892&&!_0x5ed080)_0xc03386=_0x100e9e(0xa12);else!_0x4f5892&&_0x5ed080?_0xc03386=_0x100e9e(0x237):_0xc03386=_0x100e9e(0x96);}const _0x1db02b=_0x2ffecb?_0x2bf428['playerNicknames'][_0x2361b2[_0x100e9e(0x683)]]||'???':_0x2361b2['name'];return _0x100e9e(0x102)+_0xc03386+_0x100e9e(0x675)+_0x1db02b+'</span><span\x20class=\x22font-bold\x22>'+_0x5200c9+_0x100e9e(0x804);})[_0x215249(0xd9)](''),_0x1bd273=_0x10bdef[_0x215249(0x9a0)]((_0x300c6e,_0x2f904d)=>{const _0x2f5d8e=_0x215249;if(_0xe0ab89===_0x2f5d8e(0x1f7)&&_0x2f904d>_0x1e9031)return'';const _0x27a9f9=_0x5396b8[_0x2f5d8e(0x35c)](_0xbee14a=>_0xbee14a[_0x2f5d8e(0x34c)]&&_0xbee14a[_0x2f5d8e(0x34c)]['find'](_0x11bc4f=>_0x11bc4f[_0x2f5d8e(0x8b)]===_0x2f904d&&_0x11bc4f[_0x2f5d8e(0xa35)]))['length'],_0xbcdbda=_0x2f904d===_0x1e9031,_0xa080ac=_0xbcdbda?_0x2f5d8e(0x9fb):'p-2\x20bg-black/10\x20rounded-md';return _0x2f5d8e(0x13b)+_0xa080ac+_0x2f5d8e(0x972)+(_0x2f904d+0x1)+_0x2f5d8e(0x578)+_0x27a9f9+_0x2f5d8e(0xbe0)+_0x300aa5+_0x2f5d8e(0x7ee);})[_0x215249(0xd9)]('');let _0x12292f='',_0x301e1c='';if(_0xcc4bd5){const _0x38385f=_0xe0ab89===_0x215249(0x1dd)&&_0x2bf428[_0x215249(0xaf4)]>=_0x10bdef[_0x215249(0x3ce)]-0x1,_0x17836a=_0xe0ab89==='reveal_at_end'&&_0x2bf428[_0x215249(0x267)]>=_0x10bdef[_0x215249(0x3ce)]-0x1,_0x310fb0=_0xe0ab89===_0x215249(0x946)&&_0x2bf428[_0x215249(0xaf4)]>=_0x10bdef[_0x215249(0x3ce)]-0x1;_0x38385f||_0x17836a||_0x310fb0?_0xe0ab89==='anonymous'&&_0x2bf428[_0x215249(0x28b)]===![]?_0x12292f=_0x215249(0x505):_0x12292f='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>':_0x12292f='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',_0x301e1c=_0x215249(0xb53);}const _0x334cad=_0x215249(0x590)+_0x2bf428[_0x215249(0x33c)][_0x215249(0x53e)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x301e1c+_0x215249(0xa84)+_0x188911+_0x215249(0xc73)+(_0x250f19||_0x215249(0x321))+_0x215249(0x632)+_0x1bd273+_0x215249(0x4fe)+(_0xcc4bd5?_0x215249(0x26a)+_0x12292f+'</div>':'')+_0x215249(0xc70);liveGameView[_0x215249(0x30c)]=_0x334cad;if(window[_0x215249(0xaf8)]){const _0xdf6cc5=document['getElementById'](_0x215249(0xe4));_0xdf6cc5&&MathJax[_0x215249(0x5ad)]([_0xdf6cc5]);}if(_0xcc4bd5){document['getElementById'](_0x215249(0x197))['onclick']=async()=>{const _0x309cd4=_0x215249,_0x1c2ce4=doc(db,'artifacts/'+appId+_0x309cd4(0x3df),currentLiveGameId),_0x595ffb=_0xe0ab89===_0x309cd4(0x1dd)&&_0x2bf428['currentQuestionIndex']>=_0x10bdef['length']-0x1,_0x57d34e=_0xe0ab89==='reveal_at_end'&&_0x2bf428[_0x309cd4(0x267)]>=_0x10bdef[_0x309cd4(0x3ce)]-0x1,_0x514a97=_0xe0ab89===_0x309cd4(0x946)&&_0x2bf428[_0x309cd4(0xaf4)]>=_0x10bdef[_0x309cd4(0x3ce)]-0x1;if(_0xe0ab89===_0x309cd4(0x1f7))!_0x57d34e?await updateDoc(_0x1c2ce4,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x1c2ce4,{'status':_0x309cd4(0xb00)});else{if(!_0x595ffb&&!_0x514a97){const _0x6e02b1=_0x2bf428[_0x309cd4(0xaf4)]+0x1,_0x4d2aa6={};Object[_0x309cd4(0x1c7)](_0x2bf428[_0x309cd4(0x365)])[_0x309cd4(0x27f)](_0x26cec6=>{const _0x404eac=_0x309cd4;_0x4d2aa6[_0x404eac(0x87c)+_0x26cec6+_0x404eac(0x3d4)]=![],_0x4d2aa6['players.'+_0x26cec6+_0x404eac(0x60f)]=null;}),await updateDoc(_0x1c2ce4,{..._0x4d2aa6,'status':'question','currentQuestionIndex':_0x6e02b1,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x1c2ce4,{'status':_0x309cd4(0xb00)});}},document[_0x215249(0x43c)](_0x215249(0x795))?.['addEventListener'](_0x215249(0xbf8),async()=>{const _0x36570f=_0x215249,_0x1fa7fa=doc(db,_0x36570f(0x1f0)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x1fa7fa,{'isAnonymousRevealed':!![]});});const _0x868304=document[_0x215249(0x43c)]('end-sync-game-btn');_0x868304&&(_0x868304[_0x215249(0xb31)]=()=>{const _0x5456af=_0x215249;showConfirmation(_0x5456af(0xc8b),async()=>{const _0x155b90=_0x5456af,_0x9255fe=doc(db,'artifacts/'+appId+_0x155b90(0x3df),currentLiveGameId);await updateDoc(_0x9255fe,{'status':_0x155b90(0xb00)});});});}}async function handleGenerateParallelFromBank(_0x5c140e){const _0x13b43a=_0x587d0b,_0x7e097d=document[_0x13b43a(0x43c)]('results-tab-content'),_0x1a1250=document[_0x13b43a(0x43c)](_0x13b43a(0x56e));_0x1a1250['classList']['add'](_0x13b43a(0x6e9));const _0x35ea1c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x5c140e['topic']+_0x13b43a(0x4c5);_0x7e097d['insertAdjacentHTML'](_0x13b43a(0x97e),_0x35ea1c);const _0x34ecc4=document['getElementById'](_0x13b43a(0x83c));try{const _0x29c215=_0x5c140e[_0x13b43a(0x66b)]['map']((_0x54d70d,_0xca3d88)=>{const _0x25c5c4=_0x13b43a;let _0x36c57a=_0xca3d88+0x1+'.\x20'+(_0x54d70d[_0x25c5c4(0xb89)]||_0x54d70d[_0x25c5c4(0x2f0)])+'\x0a';if(_0x54d70d[_0x25c5c4(0x4b2)])_0x36c57a+=_0x54d70d[_0x25c5c4(0x4b2)][_0x25c5c4(0x9a0)]((_0x261632,_0x39498c)=>_0x25c5c4(0x226)+(_0x39498c===_0x54d70d[_0x25c5c4(0x828)]?_0x25c5c4(0xaa8):'')+'\x20'+_0x261632)[_0x25c5c4(0xd9)]('\x0a');else _0x54d70d[_0x25c5c4(0x1ef)]&&(_0x36c57a+=_0x25c5c4(0x546)+_0x54d70d[_0x25c5c4(0x1ef)]);return _0x36c57a;})['join']('\x0a\x0a');_0x34ecc4[_0x13b43a(0xc0d)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x1a4bec=_0x13b43a(0xa21)+_0x5c140e['topic']+_0x13b43a(0x20c)+_0x29c215+_0x13b43a(0x305)+simpleMathPrompt+_0x13b43a(0xae2),_0x2ad13e={'type':_0x13b43a(0x371),'properties':{'questionText':{'type':_0x13b43a(0xbff)},'questionType':{'type':_0x13b43a(0xbff),'enum':[_0x13b43a(0x51f),_0x13b43a(0x573),_0x13b43a(0x907),_0x13b43a(0xf5)]},'options':{'type':_0x13b43a(0x3ec),'items':{'type':_0x13b43a(0xbff)}},'correctAnswerIndex':{'type':_0x13b43a(0x52c)},'idealAnswer':{'type':_0x13b43a(0xbff)},'correctAnswer':{'type':_0x13b43a(0xbc1)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x13b43a(0xbff)},'allResponses':{'type':_0x13b43a(0x3ec),'items':{'type':_0x13b43a(0xbff)}},'explanation':{'type':_0x13b43a(0xbff)},'imageCode':{'type':_0x13b43a(0xbff)}},'required':[_0x13b43a(0x8af),_0x13b43a(0x19b)]},_0x2b9c0a={'type':'OBJECT','properties':{'topic':{'type':_0x13b43a(0xbff)},'questions':{'type':_0x13b43a(0x3ec),'items':_0x2ad13e}},'required':[_0x13b43a(0x53e),_0x13b43a(0x66b)]},_0x25f25e=await callAnalysisApi(_0x1a4bec,_0x2b9c0a),_0x19a161=_0x25f25e[_0x13b43a(0x66b)][_0x13b43a(0x9a0)]((_0x582f4a,_0x43a801)=>({..._0x582f4a,'id':'q_'+Date[_0x13b43a(0x349)]()+'_'+_0x43a801})),_0x2a324b=_0x13b43a(0x3f4)+_0x5c140e[_0x13b43a(0x53e)],_0xb2fd5d={'topic':_0x2a324b,'questions':_0x19a161,'quizType':_0x5c140e['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x13b43a(0x339)](),'status':_0x13b43a(0x52b),'settings':_0x5c140e[_0x13b43a(0x731)],'quizMode':_0x13b43a(0xdd),'pairedQuizId':null,'lessonPlan':null};let _0x17f4e2;while(!![]){_0x17f4e2=Math[_0x13b43a(0x4d7)](0x3e8+Math['random']()*0x2328)['toString']();const _0x699ffa=await getDoc(doc(db,_0x13b43a(0x1f0)+appId+_0x13b43a(0x92d),_0x17f4e2));if(!_0x699ffa['exists']())break;}await setDoc(doc(db,_0x13b43a(0x1f0)+appId+_0x13b43a(0x92d),_0x17f4e2),_0xb2fd5d),showMessage(_0x13b43a(0xbab));}catch(_0x46b49b){console[_0x13b43a(0x48f)](_0x13b43a(0xaea),_0x46b49b),showMessage('เกิดข้อผิดพลาด:\x20'+_0x46b49b[_0x13b43a(0x2f6)]);}finally{const _0x3da16f=document['getElementById'](_0x13b43a(0x9fc));_0x3da16f&&_0x3da16f['remove'](),_0x1a1250['classList'][_0x13b43a(0xbf3)]('hidden');}}async function handleGenerateParallelPostTest(_0x5cb624){const _0x24b6d0=_0x587d0b,_0x39bc0b=document[_0x24b6d0(0x43c)](_0x24b6d0(0x286)),_0x3ecc6a=document['getElementById'](_0x24b6d0(0x56e));_0x3ecc6a[_0x24b6d0(0x860)][_0x24b6d0(0x61e)](_0x24b6d0(0x6e9));const _0x57976='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x39bc0b[_0x24b6d0(0x660)](_0x24b6d0(0x97e),_0x57976);try{const _0x21447e=_0x5cb624[_0x24b6d0(0x66b)][_0x24b6d0(0x9a0)]((_0x1e0ec1,_0x37ea67)=>{const _0x57af23=_0x24b6d0;let _0xaeb4d1=_0x37ea67+0x1+'.\x20'+(_0x1e0ec1[_0x57af23(0xb89)]||_0x1e0ec1[_0x57af23(0x2f0)]);if(_0x1e0ec1['options'])_0xaeb4d1+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x1e0ec1[_0x57af23(0x4b2)]['join'](',\x20');return _0xaeb4d1;})['join']('\x0a\x0a'),_0x18304d=_0x24b6d0(0x9e8)+_0x5cb624[_0x24b6d0(0x53e)]+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x21447e+_0x24b6d0(0x80)+simpleMathPrompt+_0x24b6d0(0xae2),_0x127d4c={'type':_0x24b6d0(0x371),'properties':{'topic':{'type':_0x24b6d0(0xbff)},'questions':{'type':_0x24b6d0(0x3ec),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x24b6d0(0xbff)},'questionType':{'type':_0x24b6d0(0xbff)},'options':{'type':_0x24b6d0(0x3ec),'items':{'type':_0x24b6d0(0xbff)}},'correctAnswerIndex':{'type':_0x24b6d0(0x52c)},'idealAnswer':{'type':_0x24b6d0(0xbff)},'explanation':{'type':_0x24b6d0(0xbff)}},'required':[_0x24b6d0(0xb89),_0x24b6d0(0x19b)]}}},'required':[_0x24b6d0(0x53e),_0x24b6d0(0x66b)]},_0x1bffa1=await callAnalysisApi(_0x18304d,_0x127d4c),_0x7a02cd=_0x5cb624[_0x24b6d0(0x53e)][_0x24b6d0(0x1bf)]('(ก่อนเรียน)','')[_0x24b6d0(0x8e7)](),_0x444e2d=_0x24b6d0(0xcc)+_0x7a02cd,_0x17b771={..._0x1bffa1,'topic':_0x444e2d,'quizType':_0x5cb624['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x24b6d0(0x339)](),'status':_0x24b6d0(0x52b),'settings':_0x5cb624[_0x24b6d0(0x731)],'quizMode':'post-test','pairedQuizId':_0x5cb624['id']};let _0x113781;while(!![]){_0x113781=Math[_0x24b6d0(0x4d7)](0x3e8+Math[_0x24b6d0(0x14d)]()*0x2328)[_0x24b6d0(0x6ce)]();const _0x527d6d=await getDoc(doc(db,_0x24b6d0(0x1f0)+appId+_0x24b6d0(0x92d),_0x113781));if(!_0x527d6d[_0x24b6d0(0x2ef)]())break;}await setDoc(doc(db,_0x24b6d0(0x1f0)+appId+_0x24b6d0(0x92d),_0x113781),_0x17b771);const _0x3d8152=doc(db,_0x24b6d0(0x1f0)+appId+_0x24b6d0(0x92d),_0x5cb624['id']);await updateDoc(_0x3d8152,{'pairedQuizId':_0x113781}),showMessage(_0x24b6d0(0x2d7));}catch(_0x1943ea){console['error']('Error\x20generating\x20parallel\x20post-test:',_0x1943ea),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1943ea[_0x24b6d0(0x2f6)]);}finally{const _0x427ce2=document[_0x24b6d0(0x43c)]('temp-loader-results');if(_0x427ce2)_0x427ce2[_0x24b6d0(0xbf3)]();_0x3ecc6a[_0x24b6d0(0x860)][_0x24b6d0(0xbf3)](_0x24b6d0(0x6e9));}}async function handleGenerateParallelTest(_0x48e30f=null){const _0x43ca0c=_0x587d0b;let _0x1532e0=_0x48e30f;if(!_0x1532e0){const _0x1a1ae9=document['getElementById'](_0x43ca0c(0x3cb));_0x1a1ae9[_0x43ca0c(0xc03)][_0x43ca0c(0x3ce)]>0x0&&(_0x1532e0=_0x1a1ae9[_0x43ca0c(0xc03)][0x0]);}if(!_0x1532e0){showMessage(_0x43ca0c(0x200));return;}const _0x1a4209=document[_0x43ca0c(0x43c)](_0x43ca0c(0x2ca)),_0x1b9b36=document[_0x43ca0c(0x43c)](_0x43ca0c(0xa11)),_0x4a97e5=document[_0x43ca0c(0x43c)]('generated-quiz-container'),_0x50d539=document[_0x43ca0c(0x43c)](_0x43ca0c(0x9a));_0x50d539['disabled']=!![],document[_0x43ca0c(0x43c)](_0x43ca0c(0x4ff))[_0x43ca0c(0x860)]['remove']('hidden'),_0x4a97e5[_0x43ca0c(0x30c)]='',_0x1a4209[_0x43ca0c(0x860)]['remove'](_0x43ca0c(0x6e9)),_0x1b9b36['textContent']=_0x43ca0c(0x97d);const _0x285913=new FileReader();_0x285913['readAsDataURL'](_0x1532e0),_0x285913[_0x43ca0c(0x7c2)]=async()=>{const _0x4eebee=_0x43ca0c;try{const _0x5e240e=_0x285913[_0x4eebee(0x5e8)][_0x4eebee(0x9f8)](',')[0x1],_0x51e046=_0x1532e0[_0x4eebee(0x866)];_0x1b9b36[_0x4eebee(0xc0d)]=_0x4eebee(0x677);const _0x5b9640=document[_0x4eebee(0x43c)](_0x4eebee(0x794))[_0x4eebee(0x1a3)],_0x4e8522=_0x5b9640?_0x4eebee(0x4fd):'',_0xc228f3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x47db4d={'type':_0x4eebee(0x371),'properties':{'questionText':{'type':_0x4eebee(0xbff)},'questionType':{'type':_0x4eebee(0xbff),'enum':[_0x4eebee(0x51f),_0x4eebee(0x573)]},'options':{'type':_0x4eebee(0x3ec),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4eebee(0x52c)},'idealAnswer':{'type':_0x4eebee(0xbff)},'explanation':{'type':_0x4eebee(0xbff)},'imageCode':{'type':'STRING'}},'required':[_0x4eebee(0xb89),_0x4eebee(0x8af),_0x4eebee(0x19b)]},_0x272030={'type':'OBJECT','properties':{'topic':{'type':_0x4eebee(0xbff)},'questions':{'type':_0x4eebee(0x3ec),'items':_0x47db4d}},'required':[_0x4eebee(0x53e),'questions']},_0x376971=[{'text':_0xc228f3},{'inlineData':{'mimeType':_0x51e046,'data':_0x5e240e}}];await handleApiCall(_0x376971,_0x4eebee(0x93b),_0x272030);}catch(_0x5f112b){console[_0x4eebee(0x48f)](_0x4eebee(0x45d),_0x5f112b),showMessage(_0x4eebee(0xacb)+_0x5f112b[_0x4eebee(0x2f6)]),_0x4a97e5[_0x4eebee(0x30c)]=_0x4eebee(0x5ce);}finally{_0x1a4209[_0x4eebee(0x860)][_0x4eebee(0x61e)](_0x4eebee(0x6e9)),_0x50d539['disabled']=![];}},_0x285913[_0x43ca0c(0x350)]=_0x3472c7=>{const _0x5b7b12=_0x43ca0c;console[_0x5b7b12(0x48f)](_0x5b7b12(0x733),_0x3472c7),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x1a4209[_0x5b7b12(0x860)][_0x5b7b12(0x61e)](_0x5b7b12(0x6e9)),_0x50d539['disabled']=![];};}async function handleRegenerateQuestionInEditor(_0x5bd6c2){const _0x55cc33=_0x587d0b;if(currentEditingQuizData===null)return;const _0x3a74e2=document[_0x55cc33(0xb1b)](_0x55cc33(0x85d)+_0x5bd6c2+'\x22]');_0x3a74e2&&(_0x3a74e2[_0x55cc33(0x30c)]=_0x55cc33(0x59a));const _0x2a6a2c=currentEditingQuizData['questions'][_0x5bd6c2],_0xd1dead=currentEditingQuizData['topic'],_0x15c59d=_0x2a6a2c['questionType'],_0xf21c12={'type':_0x55cc33(0x371),'properties':{'questionText':{'type':_0x55cc33(0xbff)},'options':{'type':'ARRAY','items':{'type':_0x55cc33(0xbff)}},'correctAnswerIndex':{'type':_0x55cc33(0x52c)},'explanation':{'type':_0x55cc33(0xbff)}},'required':['questionText',_0x55cc33(0x4b2),_0x55cc33(0x828),_0x55cc33(0x19b)]},_0x1d7f95={'type':_0x55cc33(0x371),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'}},'required':['questionText','idealAnswer',_0x55cc33(0x19b)]};let _0x412fb9,_0x47b343='';_0x15c59d==='multiple_choice'?(_0x412fb9=_0xf21c12,_0x47b343=_0x55cc33(0x94d)):(_0x412fb9=_0x1d7f95,_0x47b343=_0x55cc33(0xa56));const _0x3755ba=_0x55cc33(0x303)+_0xd1dead+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x47b343+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x2a6a2c['questionText']||_0x2a6a2c[_0x55cc33(0x2f0)])+_0x55cc33(0xbf5)+simpleMathPrompt;try{const _0x4f2c12=await callAnalysisApi(_0x3755ba,_0x412fb9);currentEditingQuizData['questions'][_0x5bd6c2]={..._0x2a6a2c,..._0x4f2c12},renderQuizEditor(currentEditingQuizData);}catch(_0x1b1b11){console[_0x55cc33(0x48f)](_0x55cc33(0xa79),_0x1b1b11),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x3a21e0=_0x587d0b,_0x15703c=document['getElementById'](_0x3a21e0(0x742));currentMode===_0x3a21e0(0x8de)?(adminPasswordModal['classList'][_0x3a21e0(0xbf3)]('hidden'),document[_0x3a21e0(0x43c)](_0x3a21e0(0xf6))[_0x3a21e0(0x345)]()):(currentMode=_0x3a21e0(0x8de),_0x15703c[_0x3a21e0(0x30c)]=_0x3a21e0(0xa1d),_0x15703c['title']=_0x3a21e0(0x3e7),showView('student'));}function handleAdminLogin(){const _0x346d37=_0x587d0b,_0x5f20a6=document[_0x346d37(0x43c)](_0x346d37(0xf6)),_0x1d0663=document['getElementById'](_0x346d37(0x5e2));if(_0x5f20a6[_0x346d37(0x5d0)]==='27411472'){adminPasswordModal[_0x346d37(0x860)][_0x346d37(0x61e)](_0x346d37(0x6e9)),_0x5f20a6[_0x346d37(0x5d0)]='',_0x1d0663[_0x346d37(0x860)]['add']('hidden'),currentMode=_0x346d37(0x71f);const _0x4c57ad=document['getElementById'](_0x346d37(0x742));_0x4c57ad['innerHTML']=_0x346d37(0x300),_0x4c57ad['title']='สลับไปโหมดนักเรียน',showView(_0x346d37(0xbd1));}else _0x1d0663['classList'][_0x346d37(0xbf3)](_0x346d37(0x6e9)),_0x5f20a6[_0x346d37(0x5d0)]='';}function switchProjectTab(_0x3fbf70){const _0xfe97c8=_0x587d0b;[_0xfe97c8(0xbe4),_0xfe97c8(0xb6f),_0xfe97c8(0xaf)]['forEach'](_0x1be68f=>{const _0x36592d=_0xfe97c8;document[_0x36592d(0x43c)](_0x1be68f+'-tab')[_0x36592d(0x860)]['remove'](_0x36592d(0x52b)),document[_0x36592d(0x43c)](_0x1be68f+_0x36592d(0xb71))[_0x36592d(0x860)][_0x36592d(0x61e)](_0x36592d(0x6e9));}),document['getElementById'](_0x3fbf70+_0xfe97c8(0x1cf))[_0xfe97c8(0x860)][_0xfe97c8(0x61e)](_0xfe97c8(0x52b)),document[_0xfe97c8(0x43c)](_0x3fbf70+_0xfe97c8(0xb71))[_0xfe97c8(0x860)]['remove'](_0xfe97c8(0x6e9));}function switchQuizDetailTab(_0x2ff3b3){const _0x5beac=_0x587d0b,_0x5c4a91={'analytics':{'btn':_0x5beac(0x88),'content':'analytics-tab-content'},'scores':{'btn':_0x5beac(0x5ee),'content':_0x5beac(0x837)},'leaderboard-quiz':{'btn':_0x5beac(0x9e2),'content':_0x5beac(0x3f3)},'behavior-log':{'btn':_0x5beac(0x468),'content':_0x5beac(0x9d7)}};for(const _0x5e542c in _0x5c4a91){document[_0x5beac(0x43c)](_0x5c4a91[_0x5e542c][_0x5beac(0x716)])['classList']['remove'](_0x5beac(0x52b)),document[_0x5beac(0x43c)](_0x5c4a91[_0x5e542c][_0x5beac(0xac7)])[_0x5beac(0x860)][_0x5beac(0x61e)](_0x5beac(0x6e9));}document['getElementById'](_0x5c4a91[_0x2ff3b3][_0x5beac(0x716)])[_0x5beac(0x860)][_0x5beac(0x61e)](_0x5beac(0x52b)),document[_0x5beac(0x43c)](_0x5c4a91[_0x2ff3b3][_0x5beac(0xac7)])[_0x5beac(0x860)]['remove'](_0x5beac(0x6e9));}function showMessage(_0x4da8c9,_0x254a0b=null){const _0x4c9770=_0x587d0b;modalMessage[_0x4c9770(0xc0d)]=_0x4da8c9,modalConfirmAction=_0x254a0b,messageModal[_0x4c9770(0x860)][_0x4c9770(0xbf3)]('hidden');}function showConfirmation(_0xf225b6,_0x514092){const _0x303d24=_0x587d0b;document['getElementById']('confirmation-message')[_0x303d24(0xc0d)]=_0xf225b6,document['getElementById'](_0x303d24(0x6be))['querySelector']('h3')[_0x303d24(0xc0d)]=_0x303d24(0x656),confirmAction=_0x514092,confirmationModal[_0x303d24(0x860)][_0x303d24(0xbf3)](_0x303d24(0x6e9));}function listenForProjects(){const _0x566de5=_0x587d0b,_0x24ed1f=doc(db,_0x566de5(0x397),_0x566de5(0x159));onSnapshot(_0x24ed1f,_0x460688=>{const _0x2eafa2=_0x566de5;if(_0x460688[_0x2eafa2(0x2ef)]()){const _0xfc9d15=_0x460688['data']();globalDashboardSettings[_0x2eafa2(0xa2)]=_0xfc9d15[_0x2eafa2(0xa2)]||'date_desc',globalDashboardSettings[_0x2eafa2(0x8f6)]=_0xfc9d15[_0x2eafa2(0x8f6)]||[],globalDashboardSettings['projectOrder']=_0xfc9d15[_0x2eafa2(0x5c2)]||[];}allProjects[_0x2eafa2(0x3ce)]>0x0&&renderProjects();});const _0x45f816=collection(db,_0x566de5(0x1f0)+appId+_0x566de5(0x684));unsubscribeProjectsListener=onSnapshot(_0x45f816,_0x45ab1e=>{const _0x534d5e=_0x566de5;allProjects=_0x45ab1e['docs'][_0x534d5e(0x9a0)](_0x38bc02=>({'id':_0x38bc02['id'],..._0x38bc02[_0x534d5e(0xc12)]()})),renderProjects();},_0x362a8a=>{const _0x30aa32=_0x566de5;console['error'](_0x30aa32(0x5a5),_0x362a8a),showMessage(_0x30aa32(0xf8));});}function showColorPalette(_0x44b651,_0x48da0a){const _0x2050f1=_0x587d0b;document[_0x2050f1(0xa6e)](_0x2050f1(0x557))[_0x2050f1(0x27f)](_0x5ac69e=>_0x5ac69e[_0x2050f1(0xbf3)]());const _0x5a4364=['#FFFFFF',_0x2050f1(0x8ad),_0x2050f1(0x5a4),'#D1FAE5',_0x2050f1(0x662),_0x2050f1(0xaec),'#F3E8FF',_0x2050f1(0x38b),_0x2050f1(0x15c)],_0xfc6a22=document[_0x2050f1(0x7dd)](_0x2050f1(0xbc));_0xfc6a22[_0x2050f1(0x1ab)]=_0x2050f1(0xde),_0x5a4364[_0x2050f1(0x27f)](_0x5cbc41=>{const _0x5a31fd=_0x2050f1,_0x272846=document[_0x5a31fd(0x7dd)]('div');_0x272846[_0x5a31fd(0x1ab)]=_0x5a31fd(0x4df),_0x272846[_0x5a31fd(0x1fc)]['backgroundColor']=_0x5cbc41,_0x272846[_0x5a31fd(0x5e1)](_0x5a31fd(0xbf8),()=>{const _0x4fc03d=_0x5a31fd;handleProjectColorChange(_0x48da0a,_0x5cbc41),_0xfc6a22[_0x4fc03d(0xbf3)]();}),_0xfc6a22['appendChild'](_0x272846);}),document['body'][_0x2050f1(0x47c)](_0xfc6a22);const _0x4c1111=_0x44b651[_0x2050f1(0x6b4)]();_0xfc6a22[_0x2050f1(0x1fc)][_0x2050f1(0x3f6)]=_0x4c1111[_0x2050f1(0x654)]+window['scrollY']+'px',_0xfc6a22[_0x2050f1(0x1fc)][_0x2050f1(0x758)]=_0x4c1111[_0x2050f1(0x758)]+window['scrollX']-_0xfc6a22[_0x2050f1(0x6db)]/0x2+'px';}async function handleProjectColorChange(_0x47d2cb,_0x1accae){const _0x9e6bc2=_0x587d0b,_0x5d4da1=doc(db,_0x9e6bc2(0x1f0)+appId+'/public/data/projects',_0x47d2cb);try{await updateDoc(_0x5d4da1,{'color':_0x1accae});}catch(_0x3c10ee){console[_0x9e6bc2(0x48f)](_0x9e6bc2(0x637),_0x3c10ee),showMessage(_0x9e6bc2(0x486));}}async function renderProjects(){const _0x50924e=_0x587d0b,_0xec7efc=globalDashboardSettings[_0x50924e(0xa2)]||_0x50924e(0x74a),_0x132e34=new Set(globalDashboardSettings[_0x50924e(0x8f6)]||[]),_0x307d58=globalDashboardSettings[_0x50924e(0x213)]||_0x50924e(0xba7),_0x53aebe=document[_0x50924e(0x43c)](_0x50924e(0x58d)),_0x39df61=document[_0x50924e(0x43c)](_0x50924e(0x87e));_0x53aebe[_0x50924e(0x860)][_0x50924e(0x749)](_0x50924e(0x52b),_0x307d58==='grid'),_0x39df61[_0x50924e(0x860)]['toggle']('active',_0x307d58===_0x50924e(0xa4c)),document[_0x50924e(0x43c)](_0x50924e(0x1ec))[_0x50924e(0x5d0)]=_0xec7efc;const _0x13596e=document[_0x50924e(0x43c)]('project-search-input')[_0x50924e(0x5d0)][_0x50924e(0x35e)]();let _0x527e82=allProjects[_0x50924e(0x35c)](_0x4e850d=>_0x4e850d[_0x50924e(0xfd)][_0x50924e(0x35e)]()[_0x50924e(0x69d)](_0x13596e));const _0x43af7c=_0x527e82['filter'](_0x2ace91=>_0x132e34[_0x50924e(0x9cf)](_0x2ace91['id'])),_0x5af0e0=_0x527e82[_0x50924e(0x35c)](_0x1a12d3=>!_0x132e34['has'](_0x1a12d3['id'])),_0x5b7e7a=(_0xbc513a,_0x2ab57f)=>{const _0x427de4=_0x50924e;switch(_0xec7efc){case _0x427de4(0x951):return _0xbc513a[_0x427de4(0xfd)]['localeCompare'](_0x2ab57f[_0x427de4(0xfd)],'th');case _0x427de4(0xc34):return _0x2ab57f['projectName']['localeCompare'](_0xbc513a[_0x427de4(0xfd)],'th');case'date_asc':return new Date(_0xbc513a[_0x427de4(0x7c8)])-new Date(_0x2ab57f[_0x427de4(0x7c8)]);default:return new Date(_0x2ab57f[_0x427de4(0x7c8)])-new Date(_0xbc513a['createdAt']);}};_0x43af7c['sort'](_0x5b7e7a),_0x5af0e0[_0x50924e(0x34f)](_0x5b7e7a);const _0x176897=[..._0x43af7c,..._0x5af0e0],_0x2c8cb7=globalDashboardSettings[_0x50924e(0x5c2)]||[];_0x2c8cb7['length']>0x0&&_0x307d58===_0x50924e(0xba7)&&_0x176897[_0x50924e(0x34f)]((_0x4e35e5,_0x3031ab)=>{const _0x28389a=_0x50924e,_0x523072=_0x2c8cb7[_0x28389a(0xc09)](_0x4e35e5['id']),_0x2b8971=_0x2c8cb7[_0x28389a(0xc09)](_0x3031ab['id']);if(_0x523072===-0x1)return 0x1;if(_0x2b8971===-0x1)return-0x1;return _0x523072-_0x2b8971;});const _0x4ee713={};await Promise[_0x50924e(0xafb)](_0x176897['map'](async _0x5bf627=>{const _0x1d6c56=_0x50924e,_0x1eb69f=query(collection(db,_0x1d6c56(0x1f0)+appId+_0x1d6c56(0x92d)),where('projectId','==',_0x5bf627['id'])),_0x9853c0=await getDocs(_0x1eb69f);_0x4ee713[_0x5bf627['id']]=_0x9853c0[_0x1d6c56(0xc1a)];}));const _0x5e17ab=document['getElementById'](_0x50924e(0x896));let _0x17276d='';if(_0x307d58===_0x50924e(0xba7)){_0x5e17ab[_0x50924e(0x1ab)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x50924e(0x3ce)]>0x0&&_0x13596e===''){const _0x308898=starredQuizzes[_0x50924e(0x9a0)](_0xfa9108=>{const _0x160662=_0x50924e,_0x3fa3fd=allProjects[_0x160662(0xa3a)](_0x914f38=>_0x914f38['id']===_0xfa9108[_0x160662(0x2d6)]);return{..._0xfa9108,'projectName':_0x3fa3fd?_0x3fa3fd[_0x160662(0xfd)]:'N/A'};});_0x17276d+=_0x50924e(0x509)+_0x308898[_0x50924e(0x9a0)](_0x84b9db=>_0x50924e(0x8c8)+_0x84b9db[_0x50924e(0x53e)]+'\x22>'+_0x84b9db[_0x50924e(0x53e)]+_0x50924e(0x96c)+_0x84b9db[_0x50924e(0xfd)]+_0x50924e(0x284)+_0x84b9db[_0x50924e(0xfd)]+_0x50924e(0xa82))[_0x50924e(0xd9)]('')+_0x50924e(0x6b7)+starredQuizzes[_0x50924e(0x3ce)]+_0x50924e(0x4bc);}_0x176897[_0x50924e(0x27f)](_0x381b85=>{const _0x4202f8=_0x50924e,_0x586254=_0x4ee713[_0x381b85['id']]??0x0,_0x30bbbe=_0x132e34[_0x4202f8(0x9cf)](_0x381b85['id']),_0x9b69c9=_0x381b85[_0x4202f8(0x9f1)]||'#FFFFFF',_0x2b712f=parseInt(_0x9b69c9[_0x4202f8(0xa57)](0x1,0x3),0x10)*0.299+parseInt(_0x9b69c9[_0x4202f8(0xa57)](0x3,0x5),0x10)*0.587+parseInt(_0x9b69c9[_0x4202f8(0xa57)](0x5,0x7),0x10)*0.114<0xba,_0x3127a5=_0x2b712f?_0x4202f8(0x255):_0x4202f8(0x784),_0x295f54=_0x2b712f?_0x4202f8(0x9c6):_0x4202f8(0x3f5);_0x17276d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x30bbbe?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x4202f8(0x563))+_0x4202f8(0x859)+_0x9b69c9+';\x22\x20data-id=\x22'+_0x381b85['id']+_0x4202f8(0x17e)+_0x381b85['id']+_0x4202f8(0xb5c)+(_0x2b712f?_0x4202f8(0xc32):_0x4202f8(0xa5))+_0x4202f8(0xa0)+_0x381b85['id']+_0x4202f8(0x823)+(_0x2b712f?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+_0x4202f8(0x377)+(_0x30bbbe?_0x2b712f?_0x4202f8(0xb85):_0x4202f8(0x587):'')+_0x4202f8(0x6f5)+_0x381b85['id']+_0x4202f8(0x2a6)+_0x3127a5+_0x4202f8(0x6fa)+_0x381b85[_0x4202f8(0xfd)]+_0x4202f8(0xc1e)+_0x295f54+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x381b85[_0x4202f8(0x7c8)])['toLocaleDateString'](_0x4202f8(0x8ce))+_0x4202f8(0x2f3)+(_0x2b712f?_0x4202f8(0x737):'text-gray-700')+_0x4202f8(0x14f)+_0x586254+_0x4202f8(0xaab)+_0x381b85['id']+_0x4202f8(0x7a0)+_0x381b85['projectName']+_0x4202f8(0xb1d)+(_0x2b712f?'text-red-300\x20hover:text-red-100':'text-red-500\x20hover:text-red-700')+_0x4202f8(0x634);});}else _0x5e17ab[_0x50924e(0x1ab)]=_0x50924e(0xbca),starredQuizzes[_0x50924e(0x3ce)]>0x0&&_0x13596e===''&&(_0x17276d+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes['length']+_0x50924e(0x930)),_0x17276d+=_0x50924e(0x898),_0x176897['forEach'](_0x5878f4=>{const _0xfd7aee=_0x50924e,_0x4151d9=_0x4ee713[_0x5878f4['id']]??0x0,_0x12b862=_0x132e34[_0xfd7aee(0x9cf)](_0x5878f4['id']);_0x17276d+=_0xfd7aee(0xb37)+(_0x5878f4[_0xfd7aee(0x9f1)]||'#E5E7EB')+_0xfd7aee(0xbb4)+_0x5878f4['id']+_0xfd7aee(0xb81)+_0x5878f4['projectName']+_0xfd7aee(0x568)+_0x4151d9+_0xfd7aee(0x3b6)+new Date(_0x5878f4[_0xfd7aee(0x7c8)])[_0xfd7aee(0xe3)](_0xfd7aee(0x8ce))+_0xfd7aee(0x941)+_0x5878f4['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x12b862?_0xfd7aee(0x587):'')+_0xfd7aee(0x3a7)+_0x5878f4['id']+_0xfd7aee(0x7a0)+_0x5878f4[_0xfd7aee(0xfd)]+_0xfd7aee(0xa81);});projectList[_0x50924e(0x30c)]=_0x17276d,noProjectsMsg['classList'][_0x50924e(0x749)](_0x50924e(0x6e9),_0x17276d['length']>0x0);}document[_0x587d0b(0x43c)](_0x587d0b(0x2e2))[_0x587d0b(0x5e1)]('click',async()=>{const _0x58cbf5=_0x587d0b,_0x57d960=document['getElementById'](_0x58cbf5(0x604)),_0x34fbcf=_0x57d960['value'][_0x58cbf5(0x8e7)]();if(!_0x34fbcf){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x39edc9=doc(collection(db,_0x58cbf5(0x1f0)+appId+_0x58cbf5(0x684)));await setDoc(_0x39edc9,{'projectName':_0x34fbcf,'students':[],'settings':{'resultsDisplay':_0x58cbf5(0x5fb),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x58cbf5(0x5eb),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x58cbf5(0x339)]()}),_0x57d960[_0x58cbf5(0x5d0)]='',createProjectModal[_0x58cbf5(0x860)][_0x58cbf5(0x61e)](_0x58cbf5(0x6e9)),showMessage(_0x58cbf5(0xa6f));}catch(_0x583458){console[_0x58cbf5(0x48f)](_0x58cbf5(0x6b3),_0x583458),showMessage(_0x58cbf5(0xac2));}}),projectList['addEventListener'](_0x587d0b(0xbf8),async _0x1bc8a3=>{const _0x1ac6db=_0x587d0b,_0x4a352a=_0x1bc8a3[_0x1ac6db(0x3b5)][_0x1ac6db(0x3e4)](_0x1ac6db(0xb2b)),_0x229201=_0x1bc8a3[_0x1ac6db(0x3b5)][_0x1ac6db(0x3e4)]('.delete-project-btn'),_0x5e301c=_0x1bc8a3[_0x1ac6db(0x3b5)][_0x1ac6db(0x3e4)]('.pin-project-btn'),_0x5117b9=_0x1bc8a3['target']['closest']('.color-palette-btn');if(_0x5e301c){const _0x43a5e7=_0x5e301c[_0x1ac6db(0x82f)]['id'],_0x44458e=doc(db,_0x1ac6db(0x397),_0x1ac6db(0x159)),_0x5ac8f7=globalDashboardSettings[_0x1ac6db(0x8f6)];let _0x84e10f;_0x5ac8f7[_0x1ac6db(0x69d)](_0x43a5e7)?_0x84e10f=_0x5ac8f7[_0x1ac6db(0x35c)](_0x43bb8c=>_0x43bb8c!==_0x43a5e7):_0x84e10f=[..._0x5ac8f7,_0x43a5e7];try{await setDoc(_0x44458e,{'pinnedProjects':_0x84e10f},{'merge':!![]});}catch(_0x5d6116){console[_0x1ac6db(0x48f)](_0x1ac6db(0x874),_0x5d6116),showMessage(_0x1ac6db(0x7a5));}}else{if(_0x5117b9){const _0x4fdb19=_0x5117b9[_0x1ac6db(0x82f)]['id'];showColorPalette(_0x5117b9,_0x4fdb19);}else{if(_0x4a352a){const _0x3a4861=_0x4a352a[_0x1ac6db(0x82f)]['id'];_0x3a4861===_0x1ac6db(0x8bb)?showStarredProjectView():(currentProjectId=_0x3a4861,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x229201){const _0x12d9cc=_0x229201['dataset']['id'],_0x2e8f8e=_0x229201[_0x1ac6db(0x82f)][_0x1ac6db(0x683)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x2e8f8e+_0x1ac6db(0x497),()=>handleDeleteProject(_0x12d9cc));}}}}}),projectList['addEventListener'](_0x587d0b(0xb20),_0x4cbb78=>{const _0x5ba79d=_0x587d0b,_0x4896fc=_0x4cbb78[_0x5ba79d(0x3b5)][_0x5ba79d(0x3e4)](_0x5ba79d(0x96f));_0x4896fc&&_0x4896fc['classList'][_0x5ba79d(0x61e)]('opacity-50');}),projectList[_0x587d0b(0x5e1)](_0x587d0b(0xaff),_0x4c4bf3=>{const _0xd5d7e8=_0x587d0b,_0x2fb967=_0x4c4bf3[_0xd5d7e8(0x3b5)][_0xd5d7e8(0x3e4)]('.project-card-container');_0x2fb967&&_0x2fb967[_0xd5d7e8(0x860)][_0xd5d7e8(0xbf3)]('opacity-50');}),projectList[_0x587d0b(0x5e1)]('dragover',_0x298e0b=>{const _0x280219=_0x587d0b;_0x298e0b['preventDefault']();const _0x20570c=document[_0x280219(0xb1b)](_0x280219(0x929));if(!_0x20570c)return;const _0x31c8a1=getDragAfterElement(projectList,_0x298e0b[_0x280219(0x6f1)]);_0x31c8a1==null?projectList[_0x280219(0x47c)](_0x20570c):projectList[_0x280219(0x903)](_0x20570c,_0x31c8a1);}),projectList[_0x587d0b(0x5e1)](_0x587d0b(0x7b9),_0x167d3f=>{const _0x2c2f1b=_0x587d0b;_0x167d3f[_0x2c2f1b(0x421)]();const _0xb80056=[...projectList[_0x2c2f1b(0xa6e)](_0x2c2f1b(0x351))][_0x2c2f1b(0x9a0)](_0x33d94d=>_0x33d94d[_0x2c2f1b(0x82f)]['id']);saveProjectOrder(_0xb80056);});function renderBehaviorLog(_0x3bc711){const _0x403c56=_0x587d0b,_0x1137e0=document[_0x403c56(0x43c)]('behavior-log-container');if(!_0x1137e0)return;const _0xf1d1bf=_0x3bc711[_0x403c56(0x35c)](_0xc4fbb7=>_0xc4fbb7[_0x403c56(0x296)]&&_0xc4fbb7[_0x403c56(0x296)][_0x403c56(0x3ce)]>0x0);if(_0xf1d1bf['length']===0x0){_0x1137e0[_0x403c56(0x30c)]=_0x403c56(0x218);return;}let _0x16b437='';_0xf1d1bf[_0x403c56(0x27f)](_0x2b8991=>{const _0x17b2c8=_0x403c56;_0x16b437+=_0x17b2c8(0x945)+_0x2b8991[_0x17b2c8(0x3eb)]+_0x17b2c8(0x3a6),_0x2b8991[_0x17b2c8(0x296)][_0x17b2c8(0x34f)]((_0x1e55b6,_0x535849)=>new Date(_0x535849[_0x17b2c8(0x29d)])-new Date(_0x1e55b6[_0x17b2c8(0x29d)]))[_0x17b2c8(0x27f)](_0x7c00a2=>{const _0x5bd361=_0x17b2c8,_0x1f4d16=new Date(_0x7c00a2['timestamp'])[_0x5bd361(0xe3)]('th-TH',{'dateStyle':'short','timeStyle':'medium'});_0x16b437+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x7c00a2['attemptNumber']+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x1f4d16+_0x5bd361(0x570);}),_0x16b437+=_0x17b2c8(0xaaf);}),_0x1137e0['innerHTML']=_0x16b437;}function getDragAfterElement(_0x9c70de,_0x31a65b){const _0x460402=_0x587d0b,_0x15286d=[..._0x9c70de[_0x460402(0xa6e)]('.project-card-container:not(.opacity-50)')];return _0x15286d[_0x460402(0x80e)]((_0x382348,_0x4fa8d6)=>{const _0xebe4cb=_0x460402,_0x410b0d=_0x4fa8d6[_0xebe4cb(0x6b4)](),_0x288a60=_0x31a65b-_0x410b0d[_0xebe4cb(0x3f6)]-_0x410b0d[_0xebe4cb(0x53f)]/0x2;return _0x288a60<0x0&&_0x288a60>_0x382348[_0xebe4cb(0x194)]?{'offset':_0x288a60,'element':_0x4fa8d6}:_0x382348;},{'offset':Number[_0x460402(0x599)]})[_0x460402(0x38a)];}async function saveProjectOrder(_0xcbbd4){const _0x1e378d=_0x587d0b,_0x29bd27=doc(db,_0x1e378d(0x397),_0x1e378d(0x159));try{await setDoc(_0x29bd27,{'projectOrder':_0xcbbd4},{'merge':!![]});}catch(_0x5c307b){console[_0x1e378d(0x48f)](_0x1e378d(0x735),_0x5c307b),showMessage(_0x1e378d(0xaed));}}async function logBehaviorEvent(_0x391b09,_0xc56398={}){const _0x41c9c0=_0x587d0b;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x41c9c0(0x337)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x4ca927=doc(db,_0x41c9c0(0x1f0)+appId+_0x41c9c0(0x261)+currentQuizData['id']+'/submissions',currentStudentName),_0x5be1ac={'event':_0x391b09,'timestamp':new Date()[_0x41c9c0(0x339)](),..._0xc56398};try{await updateDoc(_0x4ca927,{'behaviorLog':arrayUnion(_0x5be1ac)}),console[_0x41c9c0(0x564)](_0x41c9c0(0x5e7)+currentStudentName+_0x41c9c0(0x7ac));}catch(_0x4047d6){_0x4047d6[_0x41c9c0(0xb67)]===_0x41c9c0(0x534)?console[_0x41c9c0(0x337)](_0x41c9c0(0x940)+currentStudentName+_0x41c9c0(0xb9c)):console[_0x41c9c0(0x48f)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x4047d6);}}function calculateMeanAndStdDev(_0x39cd94){const _0x3944e1=_0x587d0b;if(_0x39cd94[_0x3944e1(0x3ce)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x1a2c7f=_0x39cd94[_0x3944e1(0x80e)]((_0x1f69e1,_0x2dc662)=>_0x1f69e1+_0x2dc662,0x0)/_0x39cd94[_0x3944e1(0x3ce)];if(_0x39cd94[_0x3944e1(0x3ce)]===0x1)return{'mean':_0x1a2c7f,'stdDev':0x0};const _0x7724ef=Math[_0x3944e1(0x77a)](_0x39cd94[_0x3944e1(0x9a0)](_0x5c7bd9=>Math[_0x3944e1(0x8e4)](_0x5c7bd9-_0x1a2c7f,0x2))[_0x3944e1(0x80e)]((_0xb208d8,_0x52938b)=>_0xb208d8+_0x52938b,0x0)/(_0x39cd94[_0x3944e1(0x3ce)]-0x1));return{'mean':_0x1a2c7f,'stdDev':_0x7724ef};}function calculateZScore(_0x1d9551,_0x596e4a,_0x2c9aa6){if(_0x2c9aa6===0x0)return 0x0;return(_0x1d9551-_0x596e4a)/_0x2c9aa6;}function calculateTScore(_0x1d49c7){return 0xa*_0x1d49c7+0x32;}function showStarredProjectView(){const _0x566661=_0x587d0b;currentProjectId=_0x566661(0x7b3),currentProjectData=null,projectTitle[_0x566661(0xc0d)]='แบบทดสอบที่ติดดาว',projectIdDisplay['textContent']='pinned-items',showView(_0x566661(0xaf7)),manageTab[_0x566661(0x860)]['add'](_0x566661(0x6e9)),leaderboardTab[_0x566661(0x860)][_0x566661(0x61e)](_0x566661(0x6e9)),switchProjectTab(_0x566661(0xb6f)),renderQuizzes();}async function loadProjectDetails(_0x4cfab6){const _0x442b8f=_0x587d0b,_0x210b9c=doc(db,_0x442b8f(0x1f0)+appId+_0x442b8f(0x684),_0x4cfab6),_0x573fb0=await getDoc(_0x210b9c);if(_0x573fb0[_0x442b8f(0x2ef)]()){manageTab[_0x442b8f(0x860)][_0x442b8f(0xbf3)](_0x442b8f(0x6e9)),leaderboardTab['classList'][_0x442b8f(0xbf3)](_0x442b8f(0x6e9)),currentProjectData=_0x573fb0[_0x442b8f(0xc12)](),projectTitle[_0x442b8f(0xc0d)]=currentProjectData[_0x442b8f(0xfd)],projectIdDisplay[_0x442b8f(0xc0d)]=_0x4cfab6;const _0x489f2c=currentProjectData[_0x442b8f(0x731)]||{};document[_0x442b8f(0x43c)](_0x442b8f(0x620))[_0x442b8f(0x5d0)]=_0x489f2c[_0x442b8f(0x851)]||_0x442b8f(0x5eb);const _0x1d16d1=document[_0x442b8f(0x43c)]('show-in-student-dashboard-checkbox');_0x1d16d1['checked']=_0x489f2c[_0x442b8f(0xae9)]!==![];const _0x4c5fde=document[_0x442b8f(0x43c)](_0x442b8f(0x770)),_0x2c4005=document[_0x442b8f(0x43c)](_0x442b8f(0x8b7)),_0x7e71e8=document['getElementById'](_0x442b8f(0x192)),_0x23b1a7=_0x489f2c[_0x442b8f(0x228)]||![];_0x4c5fde[_0x442b8f(0x1a3)]=_0x23b1a7,_0x7e71e8[_0x442b8f(0x5d0)]=_0x489f2c[_0x442b8f(0x91c)]||'',_0x2c4005[_0x442b8f(0x860)][_0x442b8f(0x749)]('hidden',!_0x23b1a7),_0x4c5fde[_0x442b8f(0x974)]=()=>{const _0x2871cc=_0x442b8f;_0x2c4005[_0x2871cc(0x860)][_0x2871cc(0x749)](_0x2871cc(0x6e9),!_0x4c5fde['checked']);},document['getElementById'](_0x442b8f(0x1d3))['checked']=_0x489f2c[_0x442b8f(0x814)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x4cfab6),listenForProjectQuizzes(_0x4cfab6),listenForStudentProfiles(_0x4cfab6);}else showMessage(_0x442b8f(0x5b7)),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x77d3d6=_0x587d0b,_0x109135=doc(db,_0x77d3d6(0x397),_0x77d3d6(0x159));try{await setDoc(_0x109135,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x77d3d6(0x7e0));}catch(_0x4cfd4a){console[_0x77d3d6(0x48f)](_0x77d3d6(0x2b0),_0x4cfd4a),showMessage(_0x77d3d6(0x588));}}async function handleTogglePinProject(_0x3f83f1){const _0x2d033a=_0x587d0b;if(!_0x3f83f1)return;const _0x440ca0=doc(db,_0x2d033a(0x1f0)+appId+_0x2d033a(0x684),_0x3f83f1);try{const _0x42c627=await getDoc(_0x440ca0);if(_0x42c627[_0x2d033a(0x2ef)]()){const _0x5ce911=_0x42c627['data']()[_0x2d033a(0x63a)]||![];await updateDoc(_0x440ca0,{'isPinned':!_0x5ce911});}}catch(_0x50bb53){console['error'](_0x2d033a(0xcb),_0x50bb53),showMessage(_0x2d033a(0x7a5));}}async function handleDeleteProject(_0x34413f){const _0x1d3cbe=_0x587d0b;try{const _0x1a92e4=writeBatch(db),_0x47ee44=collection(db,_0x1d3cbe(0x1f0)+appId+_0x1d3cbe(0x92d)),_0x8e633a=query(_0x47ee44,where(_0x1d3cbe(0x2d6),'==',_0x34413f)),_0x13a260=await getDocs(_0x8e633a);for(const _0x165557 of _0x13a260['docs']){const _0x2982ef=collection(db,'artifacts/'+appId+_0x1d3cbe(0x261)+_0x165557['id']+'/submissions'),_0x2b81a2=await getDocs(_0x2982ef);_0x2b81a2[_0x1d3cbe(0x27f)](_0x3b5790=>{const _0x53307d=_0x1d3cbe;_0x1a92e4[_0x53307d(0x9d1)](_0x3b5790[_0x53307d(0x489)]);}),_0x1a92e4[_0x1d3cbe(0x9d1)](_0x165557['ref']);}const _0x1e7ce5=collection(db,_0x1d3cbe(0x1f0)+appId+'/public/data/projects/'+_0x34413f+_0x1d3cbe(0x702)),_0x4cc16e=await getDocs(_0x1e7ce5);_0x4cc16e[_0x1d3cbe(0x27f)](_0x2abd23=>{const _0x22f2df=_0x1d3cbe;_0x1a92e4[_0x22f2df(0x9d1)](_0x2abd23['ref']);});const _0x1c9a6b=doc(db,_0x1d3cbe(0x1f0)+appId+_0x1d3cbe(0x684),_0x34413f);_0x1a92e4[_0x1d3cbe(0x9d1)](_0x1c9a6b),await _0x1a92e4[_0x1d3cbe(0x46e)](),showMessage(_0x1d3cbe(0xc50)),showView(_0x1d3cbe(0xbd1));}catch(_0x164fba){console[_0x1d3cbe(0x48f)]('Error\x20deleting\x20project:',_0x164fba),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x587d0b(0x43c)](_0x587d0b(0x278))['addEventListener'](_0x587d0b(0xbf8),async()=>{const _0x2e3574=_0x587d0b;if(!currentProjectId)return;const _0x5d302e={'defaultNumQuestions':parseInt(document[_0x2e3574(0x43c)]('num-questions')[_0x2e3574(0x5d0)]),'defaultNumChoices':parseInt(document[_0x2e3574(0x43c)](_0x2e3574(0xbf4))[_0x2e3574(0x5d0)]),'defaultPassingScore':parseInt(document[_0x2e3574(0x43c)]('passing-score-input')['value']),'resultsDisplay':document['getElementById']('results-display-select')['value'],'shuffleSetting':document[_0x2e3574(0x43c)](_0x2e3574(0x620))['value'],'timerMode':document[_0x2e3574(0x43c)](_0x2e3574(0xc9))[_0x2e3574(0x5d0)],'timerDuration':parseInt(document[_0x2e3574(0x43c)](_0x2e3574(0x85e))[_0x2e3574(0x5d0)]),'isConfidenceScoringEnabled':document[_0x2e3574(0x43c)](_0x2e3574(0x1d3))[_0x2e3574(0x1a3)],'confidenceMode':document[_0x2e3574(0x43c)](_0x2e3574(0x635))[_0x2e3574(0x5d0)]};try{const _0x31d401=doc(db,_0x2e3574(0x1f0)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x31d401,{'settings':_0x5d302e}),showMessage(_0x2e3574(0x135));}catch(_0xfbbde1){console[_0x2e3574(0x48f)](_0x2e3574(0x31c),_0xfbbde1),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x12a772){const _0x354cb1=_0x587d0b,_0x47d683=doc(db,_0x354cb1(0x1f0)+appId+'/public/data/projects',_0x12a772);unsubscribeStudentsListener=onSnapshot(_0x47d683,_0x276e70=>{const _0x74b21a=_0x354cb1;if(_0x276e70[_0x74b21a(0x2ef)]()){const _0xaa5b98=_0x276e70[_0x74b21a(0xc12)]();currentProjectData=_0xaa5b98,renderStudentList(_0xaa5b98['students']||[]);}});}function renderStudentList(_0x37a836){const _0x5dabac=_0x587d0b,_0x565851=document[_0x5dabac(0x43c)](_0x5dabac(0xb0b));_0x37a836[_0x5dabac(0x3ce)]===0x0?(studentList[_0x5dabac(0x30c)]=_0x5dabac(0x36d),_0x565851[_0x5dabac(0x860)][_0x5dabac(0x61e)](_0x5dabac(0x6e9))):(studentList[_0x5dabac(0x30c)]=_0x37a836['map'](_0x2dbaf1=>_0x5dabac(0x1d7)+_0x2dbaf1+_0x5dabac(0x2dd)+_0x2dbaf1+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5dabac(0xd9)](''),_0x565851[_0x5dabac(0x860)]['remove']('hidden'));}document['getElementById'](_0x587d0b(0x88d))['addEventListener'](_0x587d0b(0xbf8),async()=>{const _0x2c61c8=_0x587d0b;if(!currentProjectId)return;const _0x3faaab=document['getElementById'](_0x2c61c8(0x22e)),_0x47ad09=_0x3faaab['value'][_0x2c61c8(0x8e7)]();if(!_0x47ad09){showMessage(_0x2c61c8(0x9b));return;}const _0x1a9c0f=_0x47ad09['split']('\x0a')[_0x2c61c8(0x9a0)](_0x3f78e3=>_0x3f78e3[_0x2c61c8(0x8e7)]())['filter'](_0x1ca1aa=>_0x1ca1aa);if(_0x1a9c0f[_0x2c61c8(0x3ce)]===0x0)return;try{const _0x5706a0=doc(db,_0x2c61c8(0x1f0)+appId+_0x2c61c8(0x684),currentProjectId),_0x520af2=await getDoc(_0x5706a0);if(_0x520af2[_0x2c61c8(0x2ef)]()){const _0x56a643=_0x520af2['data']()[_0x2c61c8(0xc49)]||[],_0x432b4a=[...new Set([..._0x56a643,..._0x1a9c0f])];await updateDoc(_0x5706a0,{'students':_0x432b4a}),_0x3faaab[_0x2c61c8(0x5d0)]='';}}catch(_0xb276ed){console['error']('Error\x20adding\x20students:',_0xb276ed),showMessage(_0x2c61c8(0x1ff));}});async function handleManualQuizPairing(_0x2a2b6e){const _0x2be1c1=_0x587d0b,_0x3a5803=document['getElementById'](_0x2be1c1(0x409)),_0x2e9d41=document[_0x2be1c1(0x43c)](_0x2be1c1(0x64f)),_0x314438=_0x3a5803[_0x2be1c1(0xb1b)]('h3'),_0x43f328=document[_0x2be1c1(0x43c)](_0x2be1c1(0x832)),_0xdbc4c3=document['getElementById'](_0x2be1c1(0x607));_0x314438[_0x2be1c1(0xc0d)]=_0x2be1c1(0x5b2),_0x2e9d41[_0x2be1c1(0x30c)]=_0x2be1c1(0xc95),_0x43f328[_0x2be1c1(0xc0d)]='ยืนยันการจับคู่',_0x3a5803[_0x2be1c1(0x860)][_0x2be1c1(0xbf3)]('hidden');const _0x524522=allQuizzes[_0x2be1c1(0x35c)](_0x4f18c0=>_0x4f18c0['id']!==_0x2a2b6e);_0x524522[_0x2be1c1(0x3ce)]===0x0?(_0x2e9d41[_0x2be1c1(0x30c)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x43f328[_0x2be1c1(0x35d)]=!![]):(_0x2e9d41['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x524522[_0x2be1c1(0x9a0)](_0x5bfb15=>_0x2be1c1(0x244)+_0x5bfb15['id']+'\x22>'+_0x5bfb15[_0x2be1c1(0x53e)]+'</option>')[_0x2be1c1(0xd9)](''),_0x43f328[_0x2be1c1(0x35d)]=![]);const _0x53bc78=async()=>{const _0xd8b38=_0x2be1c1,_0x52de17=_0x2e9d41['value'];if(!_0x52de17){showMessage(_0xd8b38(0x943));return;}_0x43f328[_0xd8b38(0x35d)]=!![],_0x43f328[_0xd8b38(0xc0d)]='กำลังจับคู่...';try{const _0x4fd730=doc(db,_0xd8b38(0x1f0)+appId+_0xd8b38(0x92d),_0x2a2b6e),_0xab9058=doc(db,_0xd8b38(0x1f0)+appId+_0xd8b38(0x92d),_0x52de17),_0x193076=writeBatch(db);_0x193076[_0xd8b38(0x2ff)](_0x4fd730,{'pairedQuizId':_0x52de17}),_0x193076[_0xd8b38(0x2ff)](_0xab9058,{'pairedQuizId':_0x2a2b6e}),await _0x193076[_0xd8b38(0x46e)](),showMessage(_0xd8b38(0xfa)),_0x3a5803[_0xd8b38(0x860)][_0xd8b38(0x61e)]('hidden');}catch(_0x1a3f90){console[_0xd8b38(0x48f)]('Error\x20pairing\x20quizzes:',_0x1a3f90),showMessage(_0xd8b38(0xa50));}finally{_0x314438[_0xd8b38(0xc0d)]=_0xd8b38(0xa1f),_0x43f328[_0xd8b38(0xc0d)]='ย้าย',_0x43f328['disabled']=![],_0x43f328[_0xd8b38(0x2b9)](_0xd8b38(0xbf8),_0x53bc78),_0xdbc4c3[_0xd8b38(0x2b9)]('click',_0x8f8aa5);}},_0x8f8aa5=()=>{const _0x47d95a=_0x2be1c1;_0x3a5803[_0x47d95a(0x860)][_0x47d95a(0x61e)](_0x47d95a(0x6e9)),_0x314438[_0x47d95a(0xc0d)]=_0x47d95a(0xa1f),_0x43f328[_0x47d95a(0xc0d)]=_0x47d95a(0x750),_0x43f328['removeEventListener'](_0x47d95a(0xbf8),_0x53bc78),_0xdbc4c3[_0x47d95a(0x2b9)]('click',_0x8f8aa5);};_0x43f328[_0x2be1c1(0x5e1)](_0x2be1c1(0xbf8),_0x53bc78),_0xdbc4c3['addEventListener'](_0x2be1c1(0xbf8),_0x8f8aa5);}function handleDeleteStudent(_0x3b287f){const _0x56e4c9=_0x587d0b;showConfirmation(_0x56e4c9(0x32a)+_0x3b287f+_0x56e4c9(0x2ab),async()=>{const _0x1ea7d4=_0x56e4c9;if(!currentProjectId||!currentProjectData)return;const _0x14d17b=currentProjectData[_0x1ea7d4(0xc49)][_0x1ea7d4(0x35c)](_0x6f9c2a=>_0x6f9c2a!==_0x3b287f);try{const _0x189ac9=doc(db,_0x1ea7d4(0x1f0)+appId+_0x1ea7d4(0x684),currentProjectId),_0x20e0c0=doc(db,_0x1ea7d4(0x1f0)+appId+_0x1ea7d4(0xa43)+currentProjectId+_0x1ea7d4(0x702),_0x3b287f),_0xd34dfe=writeBatch(db);_0xd34dfe[_0x1ea7d4(0x2ff)](_0x189ac9,{'students':_0x14d17b}),_0xd34dfe[_0x1ea7d4(0x9d1)](_0x20e0c0),await _0xd34dfe[_0x1ea7d4(0x46e)]();}catch(_0x4b2e91){console['error'](_0x1ea7d4(0x1a9),_0x4b2e91),showMessage(_0x1ea7d4(0x156));}});}function handleDeleteAllStudents(){const _0x359ace=_0x587d0b;showConfirmation(_0x359ace(0xc3d),async()=>{const _0x523550=_0x359ace;if(!currentProjectId)return;try{const _0x3ebe07=doc(db,_0x523550(0x1f0)+appId+_0x523550(0x684),currentProjectId),_0x6e002=collection(db,_0x523550(0x1f0)+appId+_0x523550(0xa43)+currentProjectId+_0x523550(0x702)),_0x472d67=await getDocs(_0x6e002),_0x7aa673=writeBatch(db);_0x7aa673[_0x523550(0x2ff)](_0x3ebe07,{'students':[]}),_0x472d67[_0x523550(0x27f)](_0x2b5ee7=>_0x7aa673[_0x523550(0x9d1)](_0x2b5ee7[_0x523550(0x489)])),await _0x7aa673[_0x523550(0x46e)]();}catch(_0x185b2d){console[_0x523550(0x48f)](_0x523550(0x7e5),_0x185b2d),showMessage(_0x523550(0xc89));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x178ced){const _0x5d0724=_0x587d0b,_0x4b319f=document[_0x5d0724(0x43c)](_0x5d0724(0x9e4)),_0x4300cd=document[_0x5d0724(0x43c)](_0x5d0724(0xc5d));_0x4b319f['classList']['remove']('hidden'),_0x4300cd[_0x5d0724(0x30c)]=_0x5d0724(0xff);try{const _0x20b1a3=new FileReader();_0x20b1a3['readAsDataURL'](_0x178ced),await new Promise((_0x4c850f,_0x4a9355)=>{const _0x10ef8a=_0x5d0724;_0x20b1a3[_0x10ef8a(0x7c2)]=()=>{const _0x148f2b=_0x10ef8a;fileDataBase64=_0x20b1a3[_0x148f2b(0x5e8)][_0x148f2b(0x9f8)](',')[0x1],fileMimeType=_0x178ced[_0x148f2b(0x866)],_0x4c850f();},_0x20b1a3['onerror']=_0x2440fb=>_0x4a9355(_0x2440fb);});if(!fileDataBase64)throw new Error(_0x5d0724(0x42b));const _0x2bc3ba=_0x5d0724(0x36e),_0x2a56f2={'type':_0x5d0724(0x371),'properties':{'topics':{'type':_0x5d0724(0x3ec),'items':{'type':_0x5d0724(0xbff)}}},'required':[_0x5d0724(0x4a2)]},_0x2fd085=[{'text':_0x2bc3ba},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0xbb462b=await handleApiCall(_0x2fd085,'กำลังวิเคราะห์หัวข้อ...',_0x2a56f2,null,![]);if(_0xbb462b&&_0xbb462b[_0x5d0724(0x4a2)])extractedFileTopics=_0xbb462b[_0x5d0724(0x4a2)],renderFileTopics();else throw new Error(_0x5d0724(0xbbd));}catch(_0x3a66d5){console[_0x5d0724(0x48f)]('Error\x20analyzing\x20file\x20for\x20topics:',_0x3a66d5),_0x4300cd['innerHTML']=_0x5d0724(0x111)+_0x3a66d5[_0x5d0724(0x2f6)]+_0x5d0724(0x85a);}}function renderFileTopics(){const _0xedada3=_0x587d0b,_0xac4873=document[_0xedada3(0x43c)](_0xedada3(0xc5d));if(extractedFileTopics[_0xedada3(0x3ce)]===0x0){_0xac4873[_0xedada3(0x30c)]=_0xedada3(0xb99);return;}_0xac4873[_0xedada3(0x30c)]=extractedFileTopics[_0xedada3(0x9a0)](_0xe1e004=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0xe1e004+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0xe1e004)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0xe1e004)+_0xedada3(0x99))['join']('');}async function generateHybridQuizForTopic(_0x198ef5){const _0x4045a4=_0x587d0b,_0x3bc2be=parseInt(document[_0x4045a4(0x43c)](_0x4045a4(0x5be))[_0x4045a4(0x5d0)],0xa),_0x40789=document[_0x4045a4(0x43c)]('quiz-type-select')[_0x4045a4(0x5d0)],_0x38d5af=document[_0x4045a4(0x43c)](_0x4045a4(0xbf4))[_0x4045a4(0x5d0)],_0x3bf324=document[_0x4045a4(0x43c)]('include-images-checkbox')['checked'],_0x11a7e0=_0x3bf324?_0x4045a4(0x44d):_0x4045a4(0x8f9);let _0x1916e7='',_0x4239fc;const _0x1dce69={'type':_0x4045a4(0x371),'properties':{'questionText':{'type':_0x4045a4(0xbff)},'options':{'type':_0x4045a4(0x3ec),'items':{'type':_0x4045a4(0xbff)}},'correctAnswerIndex':{'type':_0x4045a4(0x52c)},'explanation':{'type':_0x4045a4(0xbff)},'imageCode':{'type':_0x4045a4(0xbff)}},'required':[_0x4045a4(0xb89),_0x4045a4(0x4b2),_0x4045a4(0x828),_0x4045a4(0x19b)]},_0x599eb9={'type':'OBJECT','properties':{'questionText':{'type':_0x4045a4(0xbff)},'correctAnswer':{'type':_0x4045a4(0xbc1)},'explanation':{'type':_0x4045a4(0xbff)},'imageCode':{'type':_0x4045a4(0xbff)}},'required':[_0x4045a4(0xb89),'correctAnswer',_0x4045a4(0x19b)]},_0x35c9d7={'type':_0x4045a4(0x371),'properties':{'questionText':{'type':_0x4045a4(0xbff)},'idealAnswer':{'type':_0x4045a4(0xbff)},'explanation':{'type':_0x4045a4(0xbff)},'imageCode':{'type':_0x4045a4(0xbff)}},'required':['questionText',_0x4045a4(0x1ef),_0x4045a4(0x19b)]},_0x15ce5b={'type':_0x4045a4(0x371),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':_0x4045a4(0xbff)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x4045a4(0x3ec),'items':{'type':_0x4045a4(0xbff)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4045a4(0xbff)}},'required':['questionType',_0x4045a4(0x2f0),_0x4045a4(0xb42),_0x4045a4(0x4f0),'explanation']};switch(_0x40789){case _0x4045a4(0x51f):_0x1916e7=_0x4045a4(0x586)+_0x38d5af+_0x4045a4(0x833),_0x4239fc=_0x1dce69;break;case _0x4045a4(0x907):_0x1916e7=_0x4045a4(0x1b5),_0x4239fc=_0x599eb9;break;case _0x4045a4(0x7c0):_0x1916e7=_0x4045a4(0xa2a),_0x4239fc=_0x35c9d7;break;case _0x4045a4(0xa07):_0x1916e7=_0x4045a4(0xb07),_0x4239fc=_0x15ce5b;break;case'fill_in_with_choices':_0x1916e7=_0x4045a4(0x4c3)+_0x38d5af+_0x4045a4(0x833),_0x4239fc=_0x1dce69;break;default:_0x1916e7=_0x4045a4(0x586)+_0x38d5af+_0x4045a4(0x833),_0x4239fc=_0x1dce69;break;}const _0x35344a=_0x4045a4(0x69c),_0x48c831=document['getElementById'](_0x4045a4(0x2ca)),_0x26f4a4=document[_0x4045a4(0x43c)](_0x4045a4(0xa11)),_0x293365=document[_0x4045a4(0x43c)](_0x4045a4(0xed));document['getElementById'](_0x4045a4(0x4ff))[_0x4045a4(0x860)][_0x4045a4(0xbf3)](_0x4045a4(0x6e9)),_0x293365[_0x4045a4(0x30c)]='',_0x48c831[_0x4045a4(0x860)][_0x4045a4(0xbf3)]('hidden'),_0x26f4a4[_0x4045a4(0xc0d)]=_0x4045a4(0x1de)+_0x198ef5+_0x4045a4(0x6c4)+_0x3bc2be+_0x4045a4(0x682);try{const _0x17ac1a=_0x4045a4(0x9d0),_0x85c2ef=_0x4045a4(0x673)+_0x198ef5+_0x4045a4(0x790)+_0x3bc2be+_0x4045a4(0xabe)+_0x198ef5+_0x4045a4(0x4bf)+_0x3bc2be+'\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20'+_0x11a7e0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20'+_0x1916e7+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x35344a+_0x4045a4(0x205)+_0x17ac1a+_0x4045a4(0xc6e)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1bf493={'type':_0x4045a4(0x371),'properties':{'topic':{'type':_0x4045a4(0xbff)},'questions':{'type':_0x4045a4(0x3ec),'items':_0x4239fc}},'required':[_0x4045a4(0x53e),_0x4045a4(0x66b)]},_0x37b512=[{'text':_0x85c2ef},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x37b512,_0x4045a4(0xdc)+_0x198ef5+'\x22...',_0x1bf493);}catch(_0x51d58f){console['error'](_0x4045a4(0x934),_0x51d58f),showMessage(_0x4045a4(0xacb)+_0x51d58f[_0x4045a4(0x2f6)]),_0x293365[_0x4045a4(0x30c)]=_0x4045a4(0x668);}finally{_0x48c831[_0x4045a4(0x860)][_0x4045a4(0x61e)](_0x4045a4(0x6e9));}}async function handleGenerateFromFileClick(){const _0x3f7beb=_0x587d0b;if(!selectedFile){showMessage(_0x3f7beb(0x827));return;}const _0x42c3f6=document['getElementById'](_0x3f7beb(0x2ca)),_0x23aa9b=document[_0x3f7beb(0x43c)](_0x3f7beb(0xa11)),_0xfd545d=document[_0x3f7beb(0x43c)](_0x3f7beb(0xed)),_0x2ffa4c=document[_0x3f7beb(0x43c)](_0x3f7beb(0x2cb));_0x2ffa4c['disabled']=!![],document[_0x3f7beb(0x43c)](_0x3f7beb(0x4ff))[_0x3f7beb(0x860)]['remove'](_0x3f7beb(0x6e9)),_0xfd545d[_0x3f7beb(0x30c)]='',_0x42c3f6[_0x3f7beb(0x860)][_0x3f7beb(0xbf3)](_0x3f7beb(0x6e9)),_0x23aa9b[_0x3f7beb(0xc0d)]=_0x3f7beb(0xb5a);try{const _0x3c88b5=await new Promise((_0x441c0c,_0xd3f27d)=>{const _0x1c3415=_0x3f7beb,_0x42cdda=new FileReader();_0x42cdda[_0x1c3415(0xc77)](selectedFile),_0x42cdda[_0x1c3415(0x7c2)]=()=>_0x441c0c(_0x42cdda['result'][_0x1c3415(0x9f8)](',')[0x1]),_0x42cdda[_0x1c3415(0x350)]=_0x59e8ee=>_0xd3f27d(_0x59e8ee);});await generateQuizFromFile(selectedFile[_0x3f7beb(0x866)],_0x3c88b5);}catch(_0x2fa922){console[_0x3f7beb(0x48f)](_0x3f7beb(0xc28),_0x2fa922),showMessage(_0x3f7beb(0x1bb)+_0x2fa922[_0x3f7beb(0x2f6)]),_0x42c3f6[_0x3f7beb(0x860)][_0x3f7beb(0x61e)](_0x3f7beb(0x6e9)),_0x2ffa4c[_0x3f7beb(0x35d)]=![];}}function autoFormatMath(_0x5f313f){const _0x2be6c6=_0x587d0b;if(typeof _0x5f313f!==_0x2be6c6(0xb54)||!_0x5f313f)return _0x5f313f;const _0x2dfe11=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x28897e=_0x5f313f[_0x2be6c6(0x1bf)](_0x2dfe11,_0x25b516=>{const _0x36a1ee=_0x2be6c6;return'$'+_0x25b516[_0x36a1ee(0x8e7)]()+'$';});return _0x28897e;}function sanitizeQuizData(_0x1f1d78){const _0x53aa7a=_0x587d0b;if(!_0x1f1d78||!_0x1f1d78['questions'])return _0x1f1d78;const _0x33e7ae={'imes':_0x53aa7a(0x78f),'div':'\x5cdiv'},_0x247a41=_0x856f96=>{const _0x511236=_0x53aa7a;if(typeof _0x856f96!=='string')return _0x856f96;let _0x331a2e=_0x856f96;for(const [_0x5d76a2,_0x57a91c]of Object['entries'](_0x33e7ae)){const _0x4f845c=new RegExp('\x5cb'+_0x5d76a2+'\x5cb','g');_0x331a2e=_0x331a2e[_0x511236(0x1bf)](_0x4f845c,_0x57a91c);}return _0x331a2e=_0x331a2e[_0x511236(0x1bf)](/\\\//g,_0x511236(0x6a4)),_0x331a2e=_0x331a2e[_0x511236(0x1bf)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x511236(0x6a4))[_0x511236(0x1bf)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x511236(0x1bf)](/÷/g,_0x511236(0x6a4))[_0x511236(0x1bf)](/×/g,_0x511236(0x78f)),_0x331a2e=_0x331a2e['replace'](/(\d)(\\frac)/g,_0x511236(0x8e5)),_0x331a2e=autoFormatMath(_0x331a2e),_0x331a2e;};return _0x1f1d78[_0x53aa7a(0x53e)]&&(_0x1f1d78[_0x53aa7a(0x53e)]=_0x247a41(_0x1f1d78[_0x53aa7a(0x53e)])),_0x1f1d78[_0x53aa7a(0x66b)][_0x53aa7a(0x27f)](_0x54484f=>{const _0x8fd96=_0x53aa7a;_0x54484f[_0x8fd96(0xb89)]=_0x247a41(_0x54484f[_0x8fd96(0xb89)]),_0x54484f[_0x8fd96(0x4b2)]&&(_0x54484f['options']=_0x54484f[_0x8fd96(0x4b2)][_0x8fd96(0x9a0)](_0x247a41)),_0x54484f[_0x8fd96(0x19b)]&&(_0x54484f[_0x8fd96(0x19b)]=_0x247a41(_0x54484f[_0x8fd96(0x19b)])),_0x54484f['stem']&&(_0x54484f[_0x8fd96(0x2f0)]=_0x247a41(_0x54484f[_0x8fd96(0x2f0)])),_0x54484f[_0x8fd96(0xb42)]&&(_0x54484f[_0x8fd96(0xb42)]=_0x247a41(_0x54484f[_0x8fd96(0xb42)])),_0x54484f[_0x8fd96(0x4f0)]&&(_0x54484f[_0x8fd96(0x4f0)]=_0x54484f[_0x8fd96(0x4f0)][_0x8fd96(0x9a0)](_0x247a41));}),_0x1f1d78;}const simpleMathPrompt=_0x587d0b(0xb9b);async function handleGenerateFromLink(){const _0x3734db=_0x587d0b,_0x2c2607=document[_0x3734db(0x43c)](_0x3734db(0x78a)),_0x532a90=document['getElementById'](_0x3734db(0x9c2)),_0x380a9a=_0x2c2607[_0x3734db(0x5d0)][_0x3734db(0x8e7)](),_0x2ea521=_0x532a90['value']['trim']();if(!_0x380a9a){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x3082f0=document[_0x3734db(0x43c)]('loader'),_0x216ed6=document[_0x3734db(0x43c)](_0x3734db(0xa11)),_0x3e5e91=document[_0x3734db(0x43c)]('generated-quiz-container'),_0x143c21=document[_0x3734db(0x43c)](_0x3734db(0x9f0));document['getElementById'](_0x3734db(0x4ff))[_0x3734db(0x860)]['remove']('hidden'),_0x3e5e91['innerHTML']='',_0x3082f0[_0x3734db(0x860)][_0x3734db(0xbf3)]('hidden'),_0x216ed6[_0x3734db(0xc0d)]=_0x3734db(0x56d),_0x143c21[_0x3734db(0x35d)]=!![];try{const _0x16934f=_0x3734db(0x834)+encodeURIComponent(_0x380a9a),_0xc60493=await fetch(_0x16934f);if(!_0xc60493['ok'])throw new Error(_0x3734db(0x8c3)+_0xc60493[_0x3734db(0x658)]+')');const _0xccff23=await _0xc60493[_0x3734db(0xa1b)](),_0x1c2504=extractTextFromHtml(_0xccff23);if(!_0x1c2504||_0x1c2504['length']<0x64)throw new Error(_0x3734db(0x55d));await generateQuiz(_0x2ea521,_0x1c2504);}catch(_0x172438){console[_0x3734db(0x48f)](_0x3734db(0x9e5),_0x172438),showMessage('เกิดข้อผิดพลาด:\x20'+_0x172438[_0x3734db(0x2f6)]),_0x3e5e91[_0x3734db(0x30c)]=_0x3734db(0x277);}finally{_0x3082f0[_0x3734db(0x860)][_0x3734db(0x61e)](_0x3734db(0x6e9)),_0x143c21[_0x3734db(0x35d)]=![];}}function extractTextFromHtml(_0x2b612d){const _0x5d7d62=_0x587d0b,_0x3f8366=new DOMParser()['parseFromString'](_0x2b612d,_0x5d7d62(0xc14));return _0x3f8366['querySelectorAll'](_0x5d7d62(0x493))[_0x5d7d62(0x27f)](_0x69f88d=>_0x69f88d[_0x5d7d62(0xbf3)]()),_0x3f8366[_0x5d7d62(0x40b)][_0x5d7d62(0xc0d)]||'';}document[_0x587d0b(0x43c)](_0x587d0b(0x14b))[_0x587d0b(0x5e1)](_0x587d0b(0xbf8),()=>{const _0x468fde=_0x587d0b,_0x3ac77c=document[_0x468fde(0x43c)]('topic-input')[_0x468fde(0x5d0)][_0x468fde(0x8e7)]();generateQuiz(_0x3ac77c,null);}),document['getElementById'](_0x587d0b(0x2e4))[_0x587d0b(0x5e1)]('click',()=>{const _0x1dae31=_0x587d0b,_0x59093a=document[_0x1dae31(0x43c)]('text-content-input')[_0x1dae31(0x5d0)]['trim']();if(!_0x59093a){showMessage(_0x1dae31(0x884));return;}const _0x89b8d5=document[_0x1dae31(0x43c)](_0x1dae31(0x149))['value'][_0x1dae31(0x8e7)]();generateQuiz(_0x89b8d5,_0x59093a);});async function generateQuiz(_0xc41f26,_0xa53181,_0x425745=null,_0x1a6283=null,_0x10184d=![],_0x385e25=null,_0x350104=null,_0x43fc44=![]){const _0x52fb4d=_0x587d0b;let _0x2462c1={};if(_0x10184d&&blueprintPageSettings)_0x2462c1=blueprintPageSettings;else{const _0x518d7e=document[_0x52fb4d(0xa6e)](_0x52fb4d(0xc84));_0x2462c1={'quizType':document[_0x52fb4d(0x43c)](_0x52fb4d(0x1f3))['value'],'numQuestions':document[_0x52fb4d(0x43c)](_0x52fb4d(0x5be))['value'],'numChoices':document[_0x52fb4d(0x43c)](_0x52fb4d(0xbf4))[_0x52fb4d(0x5d0)],'includeImages':document[_0x52fb4d(0x43c)](_0x52fb4d(0x794))[_0x52fb4d(0x1a3)],'isNormalTopic':document[_0x52fb4d(0x43c)](_0x52fb4d(0x34b))['checked'],'difficultyValue':document['getElementById'](_0x52fb4d(0x9a6))[_0x52fb4d(0x5d0)],'complexityValue':document[_0x52fb4d(0x43c)](_0x52fb4d(0xb44))[_0x52fb4d(0x5d0)],'selectedTopicNames':Array[_0x52fb4d(0xb3b)](_0x518d7e)[_0x52fb4d(0x9a0)](_0x436276=>_0x436276[_0x52fb4d(0x5d0)])};}const _0x19ecad=_0x2462c1[_0x52fb4d(0x4f2)]?'':_0x52fb4d(0x72a),_0x469416=_0x2462c1[_0x52fb4d(0x6a3)]!==_0x52fb4d(0x936)?_0x52fb4d(0x91a)+_0x2462c1[_0x52fb4d(0x6a3)]+'\x22':'',_0x9acf8d=_0x2462c1['complexityValue']!==_0x52fb4d(0x338)?_0x52fb4d(0x7af)+_0x2462c1['complexityValue']+_0x52fb4d(0xafc):'';let _0x118ceb='';_0x2462c1[_0x52fb4d(0xc2c)]&&_0x2462c1[_0x52fb4d(0xc2c)]['length']>0x0&&(_0x118ceb=_0x52fb4d(0xba0)+_0x2462c1[_0x52fb4d(0xc2c)][_0x52fb4d(0xd9)](',\x20')+'.');let _0x4b13cc='';_0x1a6283&&(_0x4b13cc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x326737='',_0x5e77d3='',_0x2ff258,_0x2de25d='เกี่ยวกับหัวข้อ\x20\x22'+_0xc41f26+'\x22';if(!_0xc41f26&&_0xa53181)_0x2de25d='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0xc41f26&&!_0xa53181&&(_0x2de25d=_0x52fb4d(0x960));const _0x1823fd={'type':_0x52fb4d(0x371),'properties':{'questionText':{'type':_0x52fb4d(0xbff)},'options':{'type':_0x52fb4d(0x3ec),'items':{'type':_0x52fb4d(0xbff)}},'correctAnswerIndex':{'type':_0x52fb4d(0x52c)},'explanation':{'type':_0x52fb4d(0xbff)},'imageCode':{'type':_0x52fb4d(0xbff)}},'required':[_0x52fb4d(0xb89),'options',_0x52fb4d(0x828),_0x52fb4d(0x19b)]},_0x4fbd27={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x52fb4d(0xbff)},'explanation':{'type':_0x52fb4d(0xbff)},'imageCode':{'type':_0x52fb4d(0xbff)}},'required':[_0x52fb4d(0xb89),_0x52fb4d(0x1ef),'explanation']},_0x214159={'type':_0x52fb4d(0x371),'properties':{'questionText':{'type':_0x52fb4d(0xbff)},'questionType':{'type':_0x52fb4d(0xbff),'enum':['multiple_choice',_0x52fb4d(0x573)]},'options':{'type':_0x52fb4d(0x3ec),'items':{'type':_0x52fb4d(0xbff)}},'correctAnswerIndex':{'type':_0x52fb4d(0x52c)},'idealAnswer':{'type':_0x52fb4d(0xbff)},'explanation':{'type':_0x52fb4d(0xbff)},'imageCode':{'type':_0x52fb4d(0xbff)}},'required':[_0x52fb4d(0xb89),_0x52fb4d(0x8af),_0x52fb4d(0x19b)]},_0x1d87c6={'type':_0x52fb4d(0x371),'properties':{'questionText':{'type':_0x52fb4d(0xbff)},'correctAnswer':{'type':_0x52fb4d(0xbc1)},'explanation':{'type':_0x52fb4d(0xbff)},'imageCode':{'type':_0x52fb4d(0xbff)}},'required':['questionText',_0x52fb4d(0x347),'explanation']},_0x332c22={'type':_0x52fb4d(0x371),'properties':{'questionType':{'type':_0x52fb4d(0xbff),'enum':[_0x52fb4d(0xf5)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x52fb4d(0x3ec),'items':{'type':_0x52fb4d(0xbff)}},'explanation':{'type':_0x52fb4d(0xbff)},'imageCode':{'type':_0x52fb4d(0xbff)}},'required':['questionType',_0x52fb4d(0x2f0),_0x52fb4d(0xb42),_0x52fb4d(0x4f0),_0x52fb4d(0x19b)]};let _0x36a45b;if(_0x425745!==null){const _0x2c476a=currentQuizData[_0x52fb4d(0x66b)][_0x425745]['questionType'],_0x1ea1c4=_0x2462c1[_0x52fb4d(0x355)]?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x326737='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x2de25d+'\x20'+_0x118ceb+'\x20'+_0x469416+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x1ea1c4+'\x20'+simpleMathPrompt;if(_0x2c476a===_0x52fb4d(0x51f))_0x2ff258=_0x1823fd;else{if(_0x2c476a===_0x52fb4d(0xf5))_0x2ff258={'type':_0x52fb4d(0x371),'properties':{'questionType':{'type':_0x52fb4d(0xbff),'enum':[_0x52fb4d(0xf5)]},'stem':{'type':_0x52fb4d(0xbff)},'correctResponse':{'type':_0x52fb4d(0xbff)},'explanation':{'type':_0x52fb4d(0xbff)},'imageCode':{'type':_0x52fb4d(0xbff)}},'required':[_0x52fb4d(0x8af),_0x52fb4d(0x2f0),'correctResponse','explanation']};else _0x2ff258=_0x4fbd27;}_0x36a45b=_0x2ff258;}else{const _0x4b66dd=_0x2462c1['includeImages']?_0x52fb4d(0x917):'';switch(_0x2462c1[_0x52fb4d(0x86d)]){case'multiple_choice':_0x326737='สร้างแบบทดสอบปรนัย'+_0x19ecad+'\x20'+_0x2462c1[_0x52fb4d(0x7a7)]+_0x52fb4d(0x141)+_0x2de25d+'\x20'+_0x118ceb+'\x20'+_0x469416+'\x20'+_0x9acf8d+'\x20'+_0x4b13cc+_0x52fb4d(0x125)+_0x2462c1[_0x52fb4d(0x583)]+_0x52fb4d(0x266)+_0x4b66dd+'\x20'+simpleMathPrompt,_0x2ff258=_0x1823fd;break;case _0x52fb4d(0xb8b):_0x326737=_0x52fb4d(0x65a)+_0x19ecad+'\x20'+_0x2462c1[_0x52fb4d(0x7a7)]+_0x52fb4d(0x141)+_0x2de25d+'\x20'+_0x118ceb+'\x20'+_0x469416+'\x20'+_0x9acf8d+'\x20'+_0x4b13cc+_0x52fb4d(0x942)+_0x2462c1[_0x52fb4d(0x583)]+_0x52fb4d(0x2fd)+_0x4b66dd+'\x20'+simpleMathPrompt,_0x2ff258=_0x1823fd;break;case _0x52fb4d(0x7c0):_0x326737=_0x52fb4d(0x65a)+_0x19ecad+'\x20'+_0x2462c1[_0x52fb4d(0x7a7)]+_0x52fb4d(0x141)+_0x2de25d+'\x20'+_0x118ceb+'\x20'+_0x469416+'\x20'+_0x9acf8d+'\x20'+_0x4b13cc+_0x52fb4d(0xaa4)+_0x4b66dd+'\x20'+simpleMathPrompt,_0x2ff258=_0x4fbd27;break;case _0x52fb4d(0x338):_0x326737='สร้างแบบทดสอบ'+_0x19ecad+'\x20'+_0x2462c1[_0x52fb4d(0x7a7)]+_0x52fb4d(0x141)+_0x2de25d+'\x20'+_0x118ceb+'\x20'+_0x469416+'\x20'+_0x9acf8d+'\x20'+_0x4b13cc+_0x52fb4d(0x591)+_0x2462c1[_0x52fb4d(0x583)]+_0x52fb4d(0x103)+_0x4b66dd+'\x20'+simpleMathPrompt+'.',_0x2ff258=_0x214159;break;case _0x52fb4d(0x907):_0x326737=_0x52fb4d(0x600)+_0x19ecad+'\x20'+_0x2462c1[_0x52fb4d(0x7a7)]+_0x52fb4d(0x141)+_0x2de25d+'\x20'+_0x118ceb+'\x20'+_0x469416+'\x20'+_0x9acf8d+'\x20'+_0x4b13cc+_0x52fb4d(0x1f2)+_0x4b66dd+'\x20'+simpleMathPrompt,_0x2ff258=_0x1d87c6;break;case _0x52fb4d(0xa07):_0x326737=_0x52fb4d(0x232)+_0x19ecad+'\x20'+_0x2462c1[_0x52fb4d(0x7a7)]+'\x20คู่\x20'+_0x2de25d+'\x20'+_0x118ceb+'\x20'+_0x469416+'\x20'+_0x9acf8d+'\x20'+_0x4b13cc+_0x52fb4d(0x1bc)+_0x4b66dd+'\x20'+simpleMathPrompt,_0x2ff258=_0x332c22;break;}_0x36a45b={'type':_0x52fb4d(0x371),'properties':{'topic':{'type':_0x52fb4d(0xbff)},'questions':{'type':_0x52fb4d(0x3ec),'items':_0x2ff258}},'required':['topic','questions']};}const _0x3b37ab='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a';_0xa53181?(_0x43fc44?_0x326737=_0x52fb4d(0x927)+_0xa53181+_0x52fb4d(0xc80)+_0x326737+_0x3b37ab:_0x326737=_0x52fb4d(0x927)+_0xa53181+_0x52fb4d(0xc80)+_0x326737,_0x5e77d3='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):(_0x43fc44&&(_0x326737+=_0x3b37ab),_0x5e77d3=_0x52fb4d(0x1ee));let _0x4fb4a3;return _0x1a6283?(_0x4fb4a3=[{'text':_0x326737},..._0x1a6283],_0x5e77d3=_0x52fb4d(0x9b9)):_0x4fb4a3=_0x326737,handleApiCall(_0x4fb4a3,_0x5e77d3,_0x36a45b,_0x425745,!![],_0x385e25,_0x350104);}async function generateQuizFromFile(_0x495f99,_0x4f3285){const _0x51465a=_0x587d0b,_0x5f3929=document[_0x51465a(0x43c)](_0x51465a(0x4cd))[_0x51465a(0x5d0)][_0x51465a(0x8e7)](),_0x4dd2a7=document[_0x51465a(0x43c)](_0x51465a(0x1f3))[_0x51465a(0x5d0)],_0x33b414=document[_0x51465a(0x43c)](_0x51465a(0x5be))[_0x51465a(0x5d0)],_0x406931=document[_0x51465a(0x43c)](_0x51465a(0xbf4))[_0x51465a(0x5d0)],_0x484a46=document[_0x51465a(0x43c)]('include-images-checkbox')[_0x51465a(0x1a3)],_0x32f578=document['getElementById'](_0x51465a(0x34b))[_0x51465a(0x1a3)],_0x5ab908=_0x32f578?'':'คณิตศาสตร์',_0x201e40=document[_0x51465a(0x43c)](_0x51465a(0x83))['checked'];let _0xbf17b4='',_0x202801;const _0xdd02ad=_0x484a46?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x201e40)_0xbf17b4=_0x51465a(0x176)+_0xdd02ad+'\x0a'+simpleMathPrompt+'\x0a',_0x202801={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x51465a(0xbff),'enum':[_0x51465a(0x51f),'short_answer','true_false','matching_item']},'options':{'type':'ARRAY','items':{'type':_0x51465a(0xbff)}},'correctAnswerIndex':{'type':_0x51465a(0x52c)},'idealAnswer':{'type':_0x51465a(0xbff)},'correctAnswer':{'type':_0x51465a(0xbc1)},'stem':{'type':_0x51465a(0xbff)},'correctResponse':{'type':_0x51465a(0xbff)},'allResponses':{'type':_0x51465a(0x3ec),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x51465a(0xbff)}},'required':['questionType',_0x51465a(0x19b)]};else{let _0x38aaf1='เกี่ยวกับหัวข้อ\x20\x22'+_0x5f3929+'\x22';!_0x5f3929&&(_0x38aaf1=_0x51465a(0x1f8));switch(_0x4dd2a7){case _0x51465a(0x51f):_0xbf17b4='สร้างแบบทดสอบปรนัย'+_0x5ab908+'\x20'+_0x33b414+_0x51465a(0x141)+_0x38aaf1+'.\x20แต่ละข้อมี\x20'+_0x406931+_0x51465a(0x266)+_0xdd02ad+'\x20'+simpleMathPrompt,_0x202801={'type':_0x51465a(0x371),'properties':{'questionText':{'type':_0x51465a(0xbff)},'options':{'type':_0x51465a(0x3ec),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x51465a(0x52c)},'explanation':{'type':_0x51465a(0xbff)},'imageCode':{'type':_0x51465a(0xbff)}},'required':[_0x51465a(0xb89),_0x51465a(0x4b2),_0x51465a(0x828),_0x51465a(0x19b)]};break;case _0x51465a(0xb8b):_0xbf17b4=_0x51465a(0x65a)+_0x5ab908+'\x20'+_0x33b414+_0x51465a(0x141)+_0x38aaf1+_0x51465a(0x942)+_0x406931+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0xdd02ad+'\x20'+simpleMathPrompt,_0x202801={'type':_0x51465a(0x371),'properties':{'questionText':{'type':_0x51465a(0xbff)},'options':{'type':'ARRAY','items':{'type':_0x51465a(0xbff)}},'correctAnswerIndex':{'type':_0x51465a(0x52c)},'explanation':{'type':_0x51465a(0xbff)},'imageCode':{'type':'STRING'}},'required':[_0x51465a(0xb89),_0x51465a(0x4b2),_0x51465a(0x828),_0x51465a(0x19b)]};break;case'fill_in_no_choices':_0xbf17b4='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x5ab908+'\x20'+_0x33b414+'\x20ข้อ\x20'+_0x38aaf1+_0x51465a(0xafa)+_0xdd02ad+'\x20'+simpleMathPrompt,_0x202801={'type':_0x51465a(0x371),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x51465a(0xbff)},'explanation':{'type':_0x51465a(0xbff)},'imageCode':{'type':'STRING'}},'required':[_0x51465a(0xb89),_0x51465a(0x1ef),_0x51465a(0x19b)]};break;case _0x51465a(0x338):_0xbf17b4=_0x51465a(0xbcc)+_0x5ab908+'\x20'+_0x33b414+_0x51465a(0x141)+_0x38aaf1+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x406931+_0x51465a(0x5b8)+_0xdd02ad+'\x20'+simpleMathPrompt+_0x51465a(0xa41),_0x202801={'type':_0x51465a(0x371),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':['multiple_choice',_0x51465a(0x573)]},'options':{'type':_0x51465a(0x3ec),'items':{'type':_0x51465a(0xbff)}},'correctAnswerIndex':{'type':_0x51465a(0x52c)},'idealAnswer':{'type':_0x51465a(0xbff)},'explanation':{'type':_0x51465a(0xbff)},'imageCode':{'type':'STRING'}},'required':[_0x51465a(0xb89),_0x51465a(0x8af),_0x51465a(0x19b)]};break;case'true_false':_0xbf17b4=_0x51465a(0x600)+_0x5ab908+'\x20'+_0x33b414+_0x51465a(0x141)+_0x38aaf1+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0xdd02ad+'\x20'+simpleMathPrompt,_0x202801={'type':_0x51465a(0x371),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x51465a(0xbc1)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x51465a(0xbff)}},'required':['questionText',_0x51465a(0x347),_0x51465a(0x19b)]};break;case _0x51465a(0xa07):_0xbf17b4='สร้างชุดคำถามจับคู่'+_0x5ab908+'\x20'+_0x33b414+_0x51465a(0xbfa)+_0x38aaf1+_0x51465a(0xba3)+_0x33b414+_0x51465a(0x458)+_0xdd02ad+'\x20'+simpleMathPrompt,_0x202801={'type':'OBJECT','properties':{'questionType':{'type':_0x51465a(0xbff),'enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':_0x51465a(0xbff)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x51465a(0xbff)},'imageCode':{'type':_0x51465a(0xbff)}},'required':[_0x51465a(0x8af),_0x51465a(0x2f0),_0x51465a(0xb42),_0x51465a(0x4f0),_0x51465a(0x19b)]};break;}}const _0x1b4aac={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x51465a(0x3ec),'items':_0x202801}},'required':[_0x51465a(0x53e),_0x51465a(0x66b)]},_0x293e35=_0x51465a(0xa0e)+_0xbf17b4,_0x1d18de={'contents':[{'parts':[{'text':_0x293e35},{'inlineData':{'mimeType':_0x495f99,'data':_0x4f3285}}]}],'generationConfig':{'responseMimeType':_0x51465a(0x909),'responseSchema':_0x1b4aac}};return handleApiCall(_0x1d18de['contents'][0x0]['parts'],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x1b4aac);}async function handleApiCall(_0x4a3790,_0x4a3c9b,_0x2ff4af,_0x167ead=null,_0x42f9a3=!![],_0x206396=null,_0x34c3dd=null){const _0x16850c=_0x587d0b,_0x5bef0d=document[_0x16850c(0x43c)](_0x16850c(0x4ff)),_0x2be419=document['getElementById'](_0x16850c(0x2ca)),_0x111b16=document['getElementById'](_0x16850c(0xa11)),_0x540c93=document[_0x16850c(0x43c)](_0x16850c(0xed));_0x5bef0d[_0x16850c(0x860)][_0x16850c(0xbf3)](_0x16850c(0x6e9));_0x167ead===null&&_0x42f9a3&&(_0x540c93[_0x16850c(0x30c)]='');_0x2be419[_0x16850c(0x860)][_0x16850c(0xbf3)](_0x16850c(0x6e9)),_0x111b16['textContent']=_0x4a3c9b,document[_0x16850c(0x43c)]('generate-from-topic-btn')[_0x16850c(0x35d)]=!![],document[_0x16850c(0x43c)](_0x16850c(0x2e4))['disabled']=!![],document[_0x16850c(0x43c)](_0x16850c(0x9f0))[_0x16850c(0x35d)]=!![];const _0x460bc4=document[_0x16850c(0x43c)]('generate-from-file-btn');if(_0x460bc4)_0x460bc4[_0x16850c(0x35d)]=!![];const _0x896d24=document[_0x16850c(0x43c)](_0x16850c(0x475));if(_0x896d24)_0x896d24[_0x16850c(0x35d)]=!![];const _0x1b338f=document[_0x16850c(0x43c)](_0x16850c(0x9a));if(_0x1b338f)_0x1b338f[_0x16850c(0x35d)]=!![];try{const _0x415023=Array['isArray'](_0x4a3790)?_0x4a3790:[{'text':_0x4a3790}],_0x5e6398={'contents':[{'role':_0x16850c(0x480),'parts':_0x415023}]};_0x2ff4af&&(_0x5e6398[_0x16850c(0xaa)]={'responseMimeType':_0x16850c(0x909),'responseSchema':_0x2ff4af});const _0x14d9b9='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x55e373='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x14d9b9,_0x4a9e20=await fetch(_0x55e373,{'method':_0x16850c(0x7b8),'headers':{'Content-Type':_0x16850c(0x909)},'body':JSON[_0x16850c(0x616)](_0x5e6398)});if(!_0x4a9e20['ok']){const _0x27814f=await _0x4a9e20['text']();console[_0x16850c(0x48f)](_0x16850c(0x1d1),_0x27814f);throw new Error(_0x16850c(0x8d3)+_0x4a9e20[_0x16850c(0x658)]);}const _0x63c637=await _0x4a9e20[_0x16850c(0xb6)]();if(!_0x63c637['candidates']||_0x63c637['candidates']['length']===0x0){let _0x1265d8=_0x16850c(0xc38);return _0x63c637[_0x16850c(0x697)]?.[_0x16850c(0x7ce)]&&(_0x1265d8=_0x16850c(0x501)+_0x63c637['promptFeedback'][_0x16850c(0x7ce)]+'.'),console[_0x16850c(0x48f)](_0x1265d8,JSON[_0x16850c(0x616)](_0x63c637)),null;}const _0x2037f6=_0x63c637[_0x16850c(0x4ed)][0x0][_0x16850c(0xac7)][_0x16850c(0xc0c)][0x0][_0x16850c(0xa1b)];if(_0x2ff4af){let _0x27375f=_0x2037f6;if(_0x27375f[_0x16850c(0x718)](_0x16850c(0x1db)))_0x27375f=_0x27375f[_0x16850c(0xa57)](0x7,_0x27375f[_0x16850c(0x3ce)]-0x3)[_0x16850c(0x8e7)]();else _0x27375f[_0x16850c(0x718)](_0x16850c(0xc3e))&&(_0x27375f=_0x27375f[_0x16850c(0xa57)](0x3,_0x27375f[_0x16850c(0x3ce)]-0x3)[_0x16850c(0x8e7)]());let _0x1e68fa=JSON['parse'](_0x27375f);if(_0x42f9a3){if(_0x167ead!==null){}else currentQuizData=_0x1e68fa,displayGeneratedQuiz(currentQuizData,_0x206396,_0x34c3dd);}return _0x1e68fa;}else return _0x2037f6;}catch(_0x526d99){console[_0x16850c(0x48f)](_0x16850c(0x80f),_0x526d99),showMessage(_0x16850c(0xdf)+_0x526d99[_0x16850c(0x2f6)]);_0x42f9a3&&(_0x540c93[_0x16850c(0x30c)]=_0x16850c(0x3ac));throw _0x526d99;}finally{_0x2be419['classList'][_0x16850c(0x61e)](_0x16850c(0x6e9)),document[_0x16850c(0x43c)](_0x16850c(0x14b))[_0x16850c(0x35d)]=![],document[_0x16850c(0x43c)](_0x16850c(0x2e4))[_0x16850c(0x35d)]=![],document[_0x16850c(0x43c)](_0x16850c(0x9f0))[_0x16850c(0x35d)]=![];if(_0x460bc4)_0x460bc4[_0x16850c(0x35d)]=![];if(_0x896d24)_0x896d24[_0x16850c(0x35d)]=![];if(_0x1b338f)_0x1b338f[_0x16850c(0x35d)]=![];}}function exitFullscreen(){const _0x248946=_0x587d0b;if(document[_0x248946(0x892)])document[_0x248946(0x892)]()['catch'](_0x17d0b4=>console[_0x248946(0x48f)](_0x17d0b4));else{if(document[_0x248946(0x843)])document[_0x248946(0x843)]();else document[_0x248946(0xabf)]&&document[_0x248946(0xabf)]();}}function enterFullscreen(){const _0x418916=_0x587d0b,_0x23693c=document[_0x418916(0x9ed)];if(_0x23693c[_0x418916(0xa2d)])_0x23693c[_0x418916(0xa2d)]()[_0x418916(0xc35)](_0x4f98f7=>{const _0x1d2875=_0x418916;console['error'](_0x1d2875(0xc01)+_0x4f98f7[_0x1d2875(0x2f6)]+'\x20('+_0x4f98f7[_0x1d2875(0x683)]+')');});else{if(_0x23693c[_0x418916(0x393)])_0x23693c['webkitRequestFullscreen']();else _0x23693c[_0x418916(0x90e)]&&_0x23693c['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x3fcc3f=_0x587d0b;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x3fcc3f(0x8d),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x3fcc3f(0xc0)+maxCheatAttempts+_0x3fcc3f(0x56c)),document[_0x3fcc3f(0x43c)](_0x3fcc3f(0x46f))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x3fcc3f(0x966),handleVisibilityChange),document['removeEventListener'](_0x3fcc3f(0x171),handleFullscreenChange)):showMessage(_0x3fcc3f(0xc55)+cheatAttempts+'/'+maxCheatAttempts+_0x3fcc3f(0x800),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x43268e=_0x587d0b;if(currentMode==='admin-testing'||!isQuizActive)return;if(document['visibilityState']===_0x43268e(0x6e9))handleCheatingEvent();else document['visibilityState']===_0x43268e(0x622)&&(console[_0x43268e(0x564)](_0x43268e(0x6c7)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x452aaa=_0x587d0b;if(currentMode===_0x452aaa(0x7d5)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x1a02d0,_0x4a01e2=null,_0x57c3c2=null){const _0xd52c22=_0x587d0b,_0x55b818=document['getElementById'](_0xd52c22(0xed));let _0x3e5e4a=_0xd52c22(0x554)+_0x1a02d0[_0xd52c22(0x53e)]+_0xd52c22(0x922);_0x1a02d0[_0xd52c22(0x66b)][_0xd52c22(0x27f)]((_0x2b1732,_0x25f7a1)=>{const _0x7d486=_0xd52c22;!_0x2b1732['id']&&(_0x2b1732['id']='q_'+Date[_0x7d486(0x349)]()+'_'+_0x25f7a1);const _0x3a9169=_0x2b1732[_0x7d486(0x8af)]||_0x1a02d0[_0x7d486(0x86d)];_0x3e5e4a+=_0x7d486(0x763)+_0x25f7a1+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x25f7a1+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x25f7a1+_0x7d486(0x123);switch(_0x3a9169){case _0x7d486(0xf5):_0x3e5e4a+=_0x7d486(0xc8d)+_0x25f7a1+'\x22>'+(_0x25f7a1+0x1)+'.\x20'+_0x2b1732['stem']+_0x7d486(0x85a);_0x2b1732[_0x7d486(0xb6d)]&&(_0x3e5e4a+=_0x7d486(0x8da)+_0x25f7a1+_0x7d486(0x323)+_0x2b1732['imageCode']+_0x7d486(0xc94));_0x3e5e4a+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x25f7a1+'\x22>'+_0x2b1732['correctResponse']+_0x7d486(0xac4),_0x3e5e4a+=_0x7d486(0x802)+_0x25f7a1+'\x22>'+_0x2b1732['explanation']+_0x7d486(0xac4);break;case _0x7d486(0x573):_0x3e5e4a+=_0x7d486(0xc8d)+_0x25f7a1+'\x22>'+(_0x25f7a1+0x1)+'.\x20'+_0x2b1732[_0x7d486(0xb89)]+_0x7d486(0x85a);_0x2b1732[_0x7d486(0xb6d)]&&(_0x3e5e4a+='<div\x20id=\x22q-image-container-'+_0x25f7a1+_0x7d486(0x323)+_0x2b1732['imageCode']+_0x7d486(0xc94));_0x3e5e4a+=_0x7d486(0x95e)+_0x25f7a1+'\x22>'+_0x2b1732[_0x7d486(0x1ef)]+_0x7d486(0xac4),_0x3e5e4a+=_0x7d486(0x802)+_0x25f7a1+'\x22>'+_0x2b1732[_0x7d486(0x19b)]+_0x7d486(0xac4);break;case _0x7d486(0x907):_0x3e5e4a+=_0x7d486(0xc8d)+_0x25f7a1+'\x22>'+(_0x25f7a1+0x1)+'.\x20'+_0x2b1732[_0x7d486(0xb89)]+'</p>';_0x2b1732[_0x7d486(0xb6d)]&&(_0x3e5e4a+='<div\x20id=\x22q-image-container-'+_0x25f7a1+_0x7d486(0x323)+_0x2b1732[_0x7d486(0xb6d)]+_0x7d486(0xc94));_0x3e5e4a+=_0x7d486(0x307)+(_0x2b1732['correctAnswer']===!![]?_0x7d486(0x291):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x2b1732[_0x7d486(0x347)]===![]?_0x7d486(0x291):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x3e5e4a+=_0x7d486(0x802)+_0x25f7a1+'\x22>'+_0x2b1732[_0x7d486(0x19b)]+_0x7d486(0xac4);break;case _0x7d486(0x446):case _0x7d486(0x51f):default:_0x3e5e4a+=_0x7d486(0xc8d)+_0x25f7a1+'\x22>'+(_0x25f7a1+0x1)+'.\x20'+_0x2b1732[_0x7d486(0xb89)]+_0x7d486(0x85a);_0x2b1732[_0x7d486(0xb6d)]&&(_0x3e5e4a+=_0x7d486(0x8da)+_0x25f7a1+_0x7d486(0x323)+_0x2b1732[_0x7d486(0xb6d)]+_0x7d486(0xc94));_0x3e5e4a+=_0x7d486(0x1e3)+_0x25f7a1+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2b1732[_0x7d486(0x4b2)]||[])['map']((_0x5285f6,_0x103b9b)=>_0x7d486(0x488)+(_0x103b9b===_0x2b1732[_0x7d486(0x828)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x5285f6+_0x7d486(0x7ef))[_0x7d486(0xd9)]('')+_0x7d486(0x398),_0x3e5e4a+=_0x7d486(0x802)+_0x25f7a1+'\x22>'+_0x2b1732[_0x7d486(0x19b)]+_0x7d486(0xac4);break;}_0x3e5e4a+=_0x7d486(0xc94);}),_0x3e5e4a+=_0xd52c22(0x2f7),_0x55b818[_0xd52c22(0x30c)]=_0x3e5e4a,document[_0xd52c22(0xa6e)](_0xd52c22(0xc5b))[_0xd52c22(0x27f)](_0x471e8d=>_0x471e8d['addEventListener'](_0xd52c22(0xbf8),handleEditQuestion)),document['querySelectorAll']('.regenerate-question-btn')[_0xd52c22(0x27f)](_0x2e18c5=>_0x2e18c5[_0xd52c22(0x5e1)](_0xd52c22(0xbf8),handleRegenerateQuestion)),document[_0xd52c22(0x43c)](_0xd52c22(0x3bb))[_0xd52c22(0x5e1)](_0xd52c22(0xbf8),exportQuizAsWorksheetPDF),document[_0xd52c22(0x43c)](_0xd52c22(0xb75))[_0xd52c22(0x5e1)](_0xd52c22(0xbf8),handleVerifyAnswers);const _0x561cd1=document[_0xd52c22(0x43c)](_0xd52c22(0x788));if(_0x561cd1){const _0x438583=_0x4a01e2||currentProjectId;_0x561cd1['addEventListener'](_0xd52c22(0xbf8),()=>saveQuiz(_0x438583,_0x57c3c2));}if(window[_0xd52c22(0xaf8)])window[_0xd52c22(0xaf8)]['typesetPromise']([_0x55b818]);}function handleRegenerateQuestion(_0x207841){const _0x52b4ce=_0x587d0b,_0x578292=_0x207841[_0x52b4ce(0x526)][_0x52b4ce(0x82f)][_0x52b4ce(0x725)],_0x26fbab=currentQuizData[_0x52b4ce(0x53e)];showMessage(_0x52b4ce(0xb8e)+(parseInt(_0x578292)+0x1)+_0x52b4ce(0x10e)),generateQuiz(_0x26fbab,null,parseInt(_0x578292));}function getPointerPosition(_0x953983,_0x4aabf3){const _0x1b5b60=_0x587d0b,_0x1254aa=_0x953983[_0x1b5b60(0x89d)]();let _0x434b51,_0xf70683;return _0x4aabf3['touches']&&_0x4aabf3[_0x1b5b60(0x75c)][_0x1b5b60(0x3ce)]>0x0?(_0x434b51=_0x4aabf3['touches'][0x0][_0x1b5b60(0x33a)],_0xf70683=_0x4aabf3['touches'][0x0][_0x1b5b60(0x6f1)]):(_0x434b51=_0x4aabf3[_0x1b5b60(0x33a)],_0xf70683=_0x4aabf3[_0x1b5b60(0x6f1)]),{'x':(_0x434b51-_0x1254aa['e'])/_0x1254aa['a'],'y':(_0xf70683-_0x1254aa['f'])/_0x1254aa['d']};}function startDrag(_0x1fb795){const _0x1e4a14=_0x587d0b;_0x1fb795[_0x1e4a14(0x866)]===_0x1e4a14(0x162)&&_0x1fb795[_0x1e4a14(0x421)]();const _0x3c515f=_0x1fb795[_0x1e4a14(0x3b5)]['closest'](_0x1e4a14(0xbd2));if(_0x3c515f){draggedSvgElement=_0x3c515f;const _0x32b7fd=draggedSvgElement[_0x1e4a14(0xc87)],_0x2c8c48=getPointerPosition(_0x32b7fd,_0x1fb795);svgOffset['x']=_0x2c8c48['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x2c8c48['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x4c61c1,_0xaa8b8d){const _0x142e3f=_0x587d0b,_0xb47790={};if(_0xaa8b8d[_0x142e3f(0x3ce)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x240789=[..._0xaa8b8d][_0x142e3f(0x34f)]((_0x190ed8,_0x112c73)=>{const _0x1e906c=_0x142e3f,_0x1c61a1=_0x112c73[_0x1e906c(0xba4)]-_0x190ed8['latestScore'];if(_0x1c61a1!==0x0)return _0x1c61a1;const _0x1920a8=_0x190ed8['attempts']?.[_0x1e906c(0x3ce)]||0x1,_0x28e18f=_0x112c73[_0x1e906c(0x55e)]?.[_0x1e906c(0x3ce)]||0x1,_0x355be9=_0x1920a8-_0x28e18f;if(_0x355be9!==0x0)return _0x355be9;const _0xe9e713=new Date(_0x190ed8['latestSubmittedAt']),_0x52a89e=new Date(_0x112c73['latestSubmittedAt']),_0x7cb949=_0xe9e713-_0x52a89e;if(_0x7cb949!==0x0)return _0x7cb949;return _0x190ed8[_0x1e906c(0x3eb)][_0x1e906c(0x164)](_0x112c73[_0x1e906c(0x3eb)],'th');}),_0xc89a2c=_0x240789[_0x142e3f(0x3ce)],_0x1ec506=Math[_0x142e3f(0x79e)](0x1,Math[_0x142e3f(0x4d7)](_0xc89a2c*0.33));if(_0x1ec506===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x2f1964=_0x240789[_0x142e3f(0x264)](0x0,_0x1ec506),_0x26cb0e=_0x240789['slice'](-_0x1ec506),_0x399b93=_0x2f1964[_0x142e3f(0x9a0)](_0xce19ef=>_0xce19ef['studentName']),_0xb86f69=_0x26cb0e[_0x142e3f(0x9a0)](_0x267383=>_0x267383[_0x142e3f(0x3eb)]);return _0x4c61c1['questions'][_0x142e3f(0x27f)]((_0x1536b9,_0x58697c)=>{const _0x39f3f3=_0x142e3f,_0x13959e=_0x1536b9[_0x39f3f3(0x2f0)]||_0x1536b9['questionText'];let _0xe0ce5a=0x0,_0x3d8f4b=0x0,_0x3ebd24=0x0;const _0x2f076b=[],_0x2996cb=[];_0x2f1964[_0x39f3f3(0x27f)](_0x18eb3c=>{const _0x41c35a=_0x39f3f3,_0x5f22bd=_0x18eb3c[_0x41c35a(0x55e)][_0x18eb3c['attempts'][_0x41c35a(0x3ce)]-0x1],_0x37fe2c=_0x5f22bd[_0x41c35a(0x34c)]['find'](_0x5d495a=>_0x5d495a[_0x41c35a(0x8b1)]===_0x13959e);_0x2f076b['push']({'name':_0x18eb3c[_0x41c35a(0x3eb)],'isCorrect':_0x37fe2c?_0x37fe2c[_0x41c35a(0xa35)]:![]}),_0x37fe2c&&_0x37fe2c[_0x41c35a(0xa35)]&&_0x3d8f4b++;}),_0x26cb0e[_0x39f3f3(0x27f)](_0x47ab31=>{const _0x16bbc8=_0x39f3f3,_0x49fb7e=_0x47ab31[_0x16bbc8(0x55e)][_0x47ab31[_0x16bbc8(0x55e)][_0x16bbc8(0x3ce)]-0x1],_0x195b5c=_0x49fb7e[_0x16bbc8(0x34c)][_0x16bbc8(0xa3a)](_0x1d87f1=>_0x1d87f1[_0x16bbc8(0x8b1)]===_0x13959e);_0x2996cb['push']({'name':_0x47ab31[_0x16bbc8(0x3eb)],'isCorrect':_0x195b5c?_0x195b5c[_0x16bbc8(0xa35)]:![]}),_0x195b5c&&_0x195b5c[_0x16bbc8(0xa35)]&&_0x3ebd24++;}),_0xaa8b8d[_0x39f3f3(0x27f)](_0x3a39a7=>{const _0x5b16fe=_0x39f3f3,_0x34fdfc=_0x3a39a7['attempts'][_0x3a39a7[_0x5b16fe(0x55e)][_0x5b16fe(0x3ce)]-0x1],_0x2fbe2a=_0x34fdfc[_0x5b16fe(0x34c)]['find'](_0x1ea2ee=>_0x1ea2ee[_0x5b16fe(0x8b1)]===_0x13959e);_0x2fbe2a&&_0x2fbe2a[_0x5b16fe(0xa35)]&&_0xe0ce5a++;});const _0x29e596=_0xc89a2c>0x0?_0xe0ce5a/_0xc89a2c:0x0,_0x155b9b=_0x1ec506>0x0?_0x3d8f4b/_0x1ec506-_0x3ebd24/_0x1ec506:0x0;_0xb47790[_0x58697c]={'p':_0x29e596,'r':_0x155b9b,'upperGroupResponders':_0x2f076b,'lowerGroupResponders':_0x2996cb};}),{'perQuestionStats':_0xb47790,'overallGroups':{'upperGroupNames':_0x399b93,'lowerGroupNames':_0xb86f69}};}function drag(_0x533865){const _0x46d107=_0x587d0b;if(draggedSvgElement){_0x533865['preventDefault']();const _0x451e41=draggedSvgElement[_0x46d107(0xc87)],_0x28a1ad=getPointerPosition(_0x451e41,_0x533865),_0x2d3955=_0x451e41[_0x46d107(0xa0a)][_0x46d107(0x95)];let _0xa500f=_0x28a1ad['x']-svgOffset['x'],_0x38a337=_0x28a1ad['y']-svgOffset['y'];const _0x43ff6f=draggedSvgElement[_0x46d107(0xc25)]();_0xa500f=Math[_0x46d107(0x79e)](_0x2d3955['x'],Math['min'](_0xa500f,_0x2d3955['x']+_0x2d3955[_0x46d107(0x7d3)]-_0x43ff6f[_0x46d107(0x7d3)])),_0x38a337=Math['max'](_0x2d3955['y'],Math['min'](_0x38a337,_0x2d3955['y']+_0x2d3955[_0x46d107(0x53f)]-_0x43ff6f[_0x46d107(0x53f)])),draggedSvgElement['setAttributeNS'](null,'x',_0xa500f),draggedSvgElement[_0x46d107(0x8f5)](null,'y',_0x38a337);}}function endDrag(_0x44b07a){draggedSvgElement=null;}function handleSvgEditClick(_0xefe134){const _0x484324=_0x587d0b;if(_0xefe134['target']['classList']['contains'](_0x484324(0x7e7))){const _0x48f9be=_0xefe134[_0x484324(0x3b5)][_0x484324(0x82f)][_0x484324(0x322)],_0x37ea22=_0xefe134['currentTarget'],_0x38f418=_0x37ea22['querySelector']('#'+_0x48f9be);_0x38f418&&_0x38f418[_0x484324(0xbf3)](),_0xefe134['target'][_0x484324(0xbf3)]();}}function handleEditQuestion(_0x105d7d){const _0x4672d2=_0x587d0b,_0x397cae=_0x105d7d[_0x4672d2(0x526)],_0x5954d1=_0x397cae[_0x4672d2(0x82f)]['index'],_0xf15cff=currentQuizData[_0x4672d2(0x66b)][_0x5954d1],_0x5284f8=document['getElementById']('q-text-'+_0x5954d1),_0x42de35=document['getElementById'](_0x4672d2(0xdb)+_0x5954d1),_0x22bf81=document[_0x4672d2(0x43c)](_0x4672d2(0x8a3)+_0x5954d1);if(_0x397cae[_0x4672d2(0x30c)]['includes']('fa-pen')){_0x397cae['innerHTML']=_0x4672d2(0x900),_0x397cae[_0x4672d2(0x341)]='บันทึกการแก้ไข';if(_0x5284f8)_0x5284f8['contentEditable']=!![];if(_0x42de35)_0x42de35[_0x4672d2(0x92c)]=!![];if(_0x22bf81){const _0x3409d0=_0x22bf81[_0x4672d2(0xb1b)](_0x4672d2(0x279));if(_0x3409d0){const _0x4ab606=_0x3409d0['querySelectorAll'](_0x4672d2(0xa1b));_0x4ab606[_0x4672d2(0x27f)]((_0x4ba928,_0xeb4f3f)=>{const _0x2d8ae6=_0x4672d2,_0x4a1315=_0x2d8ae6(0x6ca)+_0x5954d1+'-'+_0xeb4f3f;_0x4ba928['id']=_0x4a1315,_0x4ba928['classList'][_0x2d8ae6(0x61e)](_0x2d8ae6(0x6c6)),_0x4ba928[_0x2d8ae6(0x1fc)][_0x2d8ae6(0xb77)]=_0x2d8ae6(0x748);const _0x303cfc=document[_0x2d8ae6(0xc58)]('http://www.w3.org/2000/svg',_0x2d8ae6(0x387)),_0x183791=_0x4ba928[_0x2d8ae6(0xc25)]();_0x303cfc[_0x2d8ae6(0xc41)]('cx',String(_0x183791['x']+_0x183791[_0x2d8ae6(0x7d3)]+0x5)),_0x303cfc[_0x2d8ae6(0xc41)]('cy',String(_0x183791['y']+_0x183791['height']/0x2-0x5)),_0x303cfc['setAttribute']('r','5'),_0x303cfc[_0x2d8ae6(0xc41)]('fill','red'),_0x303cfc[_0x2d8ae6(0xc41)]('class',_0x2d8ae6(0x7e7)),_0x303cfc[_0x2d8ae6(0x82f)][_0x2d8ae6(0x322)]=_0x4a1315,_0x4ba928[_0x2d8ae6(0x3b8)](_0x303cfc);}),_0x3409d0['addEventListener'](_0x4672d2(0x7f1),startDrag),_0x3409d0[_0x4672d2(0x5e1)](_0x4672d2(0x9fa),drag),_0x3409d0[_0x4672d2(0x5e1)](_0x4672d2(0x6dc),endDrag),_0x3409d0[_0x4672d2(0x5e1)](_0x4672d2(0xa67),endDrag),_0x3409d0[_0x4672d2(0x5e1)](_0x4672d2(0x162),startDrag,{'passive':![]}),_0x3409d0['addEventListener'](_0x4672d2(0x2ea),drag,{'passive':![]}),_0x3409d0[_0x4672d2(0x5e1)](_0x4672d2(0x93d),endDrag),_0x3409d0['addEventListener'](_0x4672d2(0x5ca),endDrag),_0x3409d0['addEventListener'](_0x4672d2(0xbf8),handleSvgEditClick);}}if(_0x5284f8)_0x5284f8[_0x4672d2(0x345)]();}else{_0x397cae[_0x4672d2(0x30c)]=_0x4672d2(0x549),_0x397cae['title']=_0x4672d2(0x27b);if(_0x5284f8){_0x5284f8[_0x4672d2(0x92c)]=![];const _0x164ce3=_0xf15cff[_0x4672d2(0x8af)]||currentQuizData['quizType'];_0x164ce3==='matching_item'?_0xf15cff[_0x4672d2(0x2f0)]=_0x5284f8['innerText'][_0x4672d2(0xa57)](_0x5284f8['innerText'][_0x4672d2(0xc09)]('.')+0x2)['trim']():_0xf15cff['questionText']=_0x5284f8[_0x4672d2(0x5b6)][_0x4672d2(0xa57)](_0x5284f8[_0x4672d2(0x5b6)][_0x4672d2(0xc09)]('.')+0x2)[_0x4672d2(0x8e7)]();}_0x42de35&&(_0x42de35[_0x4672d2(0x92c)]=![],_0xf15cff['explanation']=_0x42de35[_0x4672d2(0x5b6)]);if(_0x22bf81){const _0x4760cb=_0x22bf81[_0x4672d2(0xb1b)](_0x4672d2(0x279));if(_0x4760cb){const _0x4c9594=_0x4760cb[_0x4672d2(0x818)](!![]);_0x4c9594['querySelectorAll']('.delete-svg-btn')[_0x4672d2(0x27f)](_0x729aa=>_0x729aa[_0x4672d2(0xbf3)]()),_0x4c9594['querySelectorAll'](_0x4672d2(0xbd2))['forEach'](_0x42078d=>{const _0x494905=_0x4672d2;_0x42078d['classList'][_0x494905(0xbf3)](_0x494905(0x6c6)),_0x42078d[_0x494905(0x1fc)][_0x494905(0xb77)]=_0x494905(0xbc8),_0x42078d[_0x494905(0x113)]('id');}),_0xf15cff[_0x4672d2(0xb6d)]=_0x4c9594['outerHTML'],_0x4760cb[_0x4672d2(0x2b9)](_0x4672d2(0x7f1),startDrag),_0x4760cb['removeEventListener'](_0x4672d2(0x9fa),drag),_0x4760cb['removeEventListener']('mouseup',endDrag),_0x4760cb[_0x4672d2(0x2b9)]('mouseleave',endDrag),_0x4760cb[_0x4672d2(0x2b9)](_0x4672d2(0x162),startDrag),_0x4760cb['removeEventListener'](_0x4672d2(0x2ea),drag),_0x4760cb[_0x4672d2(0x2b9)](_0x4672d2(0x93d),endDrag),_0x4760cb[_0x4672d2(0x2b9)](_0x4672d2(0x5ca),endDrag),_0x4760cb[_0x4672d2(0x2b9)](_0x4672d2(0xbf8),handleSvgEditClick),_0x4760cb['querySelectorAll'](_0x4672d2(0x70e))[_0x4672d2(0x27f)](_0x47556b=>_0x47556b[_0x4672d2(0xbf3)]()),_0x4760cb['querySelectorAll'](_0x4672d2(0xbd2))['forEach'](_0x1eeace=>{const _0x3c7140=_0x4672d2;_0x1eeace['classList'][_0x3c7140(0xbf3)](_0x3c7140(0x6c6)),_0x1eeace[_0x3c7140(0x1fc)]['cursor']=_0x3c7140(0xbc8);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x1bbec6){const _0x126f6c=_0x587d0b,_0x27979d=document['getElementById']('quiz-editor-modal'),_0x36435f=document['getElementById'](_0x126f6c(0x503));_0x36435f[_0x126f6c(0x30c)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x27979d[_0x126f6c(0x860)][_0x126f6c(0xbf3)](_0x126f6c(0x6e9));try{const _0x53bf22=doc(db,_0x126f6c(0x1f0)+appId+'/public/data/quizzes',_0x1bbec6),_0x48cb88=await getDoc(_0x53bf22);if(!_0x48cb88[_0x126f6c(0x2ef)]())throw new Error(_0x126f6c(0x272));currentEditingQuizData={'id':_0x1bbec6,..._0x48cb88[_0x126f6c(0xc12)]()},renderQuizEditor(currentEditingQuizData);}catch(_0xd3f96c){console[_0x126f6c(0x48f)]('Error\x20opening\x20quiz\x20editor:',_0xd3f96c),showMessage(_0x126f6c(0x5ec)),_0x27979d['classList'][_0x126f6c(0x61e)](_0x126f6c(0x6e9));}}function renderQuizEditor(_0x55b681){const _0x22aade=_0x587d0b;document[_0x22aade(0x43c)](_0x22aade(0x344))[_0x22aade(0x5d0)]=_0x55b681[_0x22aade(0x53e)];const _0x477109=document[_0x22aade(0x43c)](_0x22aade(0x503));let _0x274965=_0x55b681[_0x22aade(0x66b)]['map']((_0x2aec98,_0x3ec79c)=>{const _0x26d27e=_0x22aade;let _0x200902='';const _0x3b3f1d=_0x2aec98[_0x26d27e(0x8af)]||_0x55b681[_0x26d27e(0x86d)];switch(_0x3b3f1d){case'multiple_choice':const _0x35c02a=(_0x2aec98[_0x26d27e(0x4b2)]||[])[_0x26d27e(0x9a0)]((_0x8dc9f4,_0x600e8a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x3ec79c+_0x26d27e(0x193)+_0x600e8a+'\x22\x20'+(_0x600e8a===_0x2aec98[_0x26d27e(0x828)]?_0x26d27e(0x1a3):'')+_0x26d27e(0x681)+_0x8dc9f4+_0x26d27e(0x868))['join']('');_0x200902=_0x26d27e(0x846)+_0x35c02a+_0x26d27e(0x250);break;case _0x26d27e(0x573):_0x200902='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x2aec98[_0x26d27e(0x1ef)]||'')+_0x26d27e(0x98a);break;case _0x26d27e(0x907):_0x200902=_0x26d27e(0x6d8)+_0x3ec79c+_0x26d27e(0x28c)+(_0x2aec98[_0x26d27e(0x347)]===!![]?'checked':'')+_0x26d27e(0x839)+_0x3ec79c+'\x22\x20value=\x22false\x22\x20'+(_0x2aec98[_0x26d27e(0x347)]===![]?_0x26d27e(0x1a3):'')+_0x26d27e(0x948);break;case _0x26d27e(0xf5):_0x200902=_0x26d27e(0xa31)+(_0x2aec98[_0x26d27e(0xb42)]||'')+_0x26d27e(0x4d6);break;}let _0x5680a7=_0x2aec98['questionText']||_0x2aec98[_0x26d27e(0x2f0)]||'';return _0x5680a7=_0x5680a7[_0x26d27e(0x1bf)](/<br\s*\/?>/gi,'\x0a'),_0x26d27e(0x639)+_0x3ec79c+'\x22\x20data-q-type=\x22'+_0x3b3f1d+_0x26d27e(0xbdd)+(_0x3ec79c+0x1)+'\x20('+_0x3b3f1d+_0x26d27e(0xc30)+_0x5680a7+_0x26d27e(0xb5)+_0x200902+_0x26d27e(0x119);})['join']('');_0x477109[_0x22aade(0x30c)]=_0x274965;const _0x5176d7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x477109[_0x22aade(0x660)](_0x22aade(0x97e),_0x5176d7),_0x477109[_0x22aade(0xa6e)](_0x22aade(0x1cc))[_0x22aade(0x27f)](_0x217973=>{const _0x53ae72=_0x22aade;_0x217973['style'][_0x53ae72(0x90b)]=_0x53ae72(0x6e9),_0x217973[_0x53ae72(0x1fc)][_0x53ae72(0x9dc)]=_0x53ae72(0x765),_0x217973['rows']=0x4;const _0x3262e0=()=>{const _0x4fe1ad=_0x53ae72;_0x217973[_0x4fe1ad(0x1fc)]['height']=_0x4fe1ad(0x936),_0x217973[_0x4fe1ad(0x1fc)][_0x4fe1ad(0x53f)]=_0x217973[_0x4fe1ad(0xace)]+'px';};_0x217973['addEventListener']('input',_0x3262e0),_0x3262e0();}),_0x477109['querySelectorAll'](_0x22aade(0x79d))[_0x22aade(0x27f)](_0x43af5c=>{const _0x2e596b=_0x22aade;_0x43af5c[_0x2e596b(0x5e1)](_0x2e596b(0xbf8),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x34df47){const _0x387a5c=_0x587d0b;if(!currentEditingQuizData||!currentEditingQuizData[_0x387a5c(0x66b)][_0x34df47])return;const _0x425a92=currentEditingQuizData[_0x387a5c(0x66b)][_0x34df47][_0x387a5c(0xb89)]||currentEditingQuizData[_0x387a5c(0x66b)][_0x34df47][_0x387a5c(0x2f0)];showConfirmation(_0x387a5c(0x985)+(_0x34df47+0x1)+_0x387a5c(0x923)+_0x425a92[_0x387a5c(0xa57)](0x0,0x14)+'...\x22)?',()=>{const _0xf83972=_0x387a5c;currentEditingQuizData[_0xf83972(0x66b)]['splice'](_0x34df47,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0xf83972(0x283));});}function handleAddQuestionInEditor(){const _0x37c2e9=_0x587d0b;if(!currentEditingQuizData)return;const _0x173781={'id':'q_'+Date['now']()+_0x37c2e9(0x190),'questionType':'multiple_choice','questionText':_0x37c2e9(0x1c6),'options':[_0x37c2e9(0x96e),_0x37c2e9(0x6a6),_0x37c2e9(0xb98),_0x37c2e9(0x3fb)],'correctAnswerIndex':0x0,'explanation':_0x37c2e9(0x7b2)};currentEditingQuizData[_0x37c2e9(0x66b)][_0x37c2e9(0x211)](_0x173781),renderQuizEditor(currentEditingQuizData);const _0x2de813=document[_0x37c2e9(0xb1b)](_0x37c2e9(0x3c8));_0x2de813&&(_0x2de813['scrollIntoView']({'behavior':_0x37c2e9(0x7ff),'block':_0x37c2e9(0x98e)}),_0x2de813[_0x37c2e9(0xb1b)](_0x37c2e9(0x441))[_0x37c2e9(0x345)]());}async function handleAiFixQuestion(_0x427ce0){const _0x3cd472=_0x587d0b,_0x5d162b=_0x427ce0[_0x3cd472(0x526)],_0x200158=_0x5d162b[_0x3cd472(0x3e4)]('.question-editor-item');if(!_0x200158)return;const _0x4cd84c=parseInt(_0x200158[_0x3cd472(0x82f)][_0x3cd472(0x8bc)],0xa);if(isNaN(_0x4cd84c)||!currentEditingQuizData[_0x3cd472(0x66b)][_0x4cd84c]){showMessage(_0x3cd472(0x32d));return;}const _0xf214ae=currentEditingQuizData[_0x3cd472(0x66b)][_0x4cd84c];_0x5d162b['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x5d162b['disabled']=!![];const _0x204b7f=_0x3cd472(0x581)+JSON[_0x3cd472(0x616)](_0xf214ae)+_0x3cd472(0x311);let _0x5e1494;const _0x504ecc=_0xf214ae[_0x3cd472(0x8af)]||currentEditingQuizData[_0x3cd472(0x86d)];switch(_0x504ecc){case _0x3cd472(0x573):_0x5e1494={'type':'OBJECT','properties':{'questionText':{'type':_0x3cd472(0xbff)},'idealAnswer':{'type':_0x3cd472(0xbff)},'explanation':{'type':_0x3cd472(0xbff)},'imageCode':{'type':'STRING'}},'required':[_0x3cd472(0xb89),_0x3cd472(0x1ef),'explanation']};break;case _0x3cd472(0x51f):default:_0x5e1494={'type':_0x3cd472(0x371),'properties':{'questionText':{'type':_0x3cd472(0xbff)},'options':{'type':_0x3cd472(0x3ec),'items':{'type':_0x3cd472(0xbff)}},'correctAnswerIndex':{'type':_0x3cd472(0x52c)},'explanation':{'type':_0x3cd472(0xbff)},'imageCode':{'type':_0x3cd472(0xbff)}},'required':[_0x3cd472(0xb89),_0x3cd472(0x4b2),_0x3cd472(0x828),_0x3cd472(0x19b)]};break;}try{let _0x16d1fc=await callAnalysisApi(_0x204b7f,_0x5e1494);_0x16d1fc[_0x3cd472(0x4b2)]&&Array[_0x3cd472(0x8b2)](_0x16d1fc[_0x3cd472(0x4b2)])&&(_0x16d1fc[_0x3cd472(0x4b2)]=_0x16d1fc[_0x3cd472(0x4b2)]['map'](_0x5fd5ba=>typeof _0x5fd5ba==='string'?_0x5fd5ba[_0x3cd472(0x1bf)](/S(\s*[\d_]+?\s*)S/g,_0x3cd472(0xbea)):_0x5fd5ba)),_0xf214ae['imageCode']&&_0xf214ae['imageCode'][_0x3cd472(0x69d)](_0x3cd472(0xa52))&&(_0x16d1fc['imageCode']=''),currentEditingQuizData[_0x3cd472(0x66b)][_0x4cd84c]={..._0xf214ae,..._0x16d1fc},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x53c0f6){console[_0x3cd472(0x48f)](_0x3cd472(0x346),_0x53c0f6),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x5511db=_0x587d0b,_0x256922=document[_0x5511db(0x43c)](_0x5511db(0x3b0));_0x256922[_0x5511db(0x35d)]=!![],_0x256922[_0x5511db(0x30c)]=_0x5511db(0x342);try{const _0x4a392c=document[_0x5511db(0x43c)](_0x5511db(0x344))['value'],_0x2c7318=document[_0x5511db(0xa6e)]('.question-editor-item');let _0xa82b30=[];const _0x2f1a24=Array['from'](_0x2c7318)['map']((_0x4a6d0c,_0x5ea5f8)=>{const _0x15bb9c=_0x5511db,_0x29aa50=_0x4a6d0c[_0x15bb9c(0x82f)]['qType'],_0x509daf=_0x4a6d0c[_0x15bb9c(0xb1b)]('textarea')[_0x15bb9c(0x5d0)][_0x15bb9c(0x1bf)](/\n/g,_0x15bb9c(0x631));let _0x103a41={'questionType':_0x29aa50};const _0x490de6=currentEditingQuizData[_0x15bb9c(0x66b)][_0x5ea5f8];switch(_0x29aa50){case _0x15bb9c(0x51f):_0x103a41[_0x15bb9c(0xb89)]=_0x509daf;const _0x205342=_0x4a6d0c[_0x15bb9c(0xa6e)]('input[type=\x22text\x22]');_0x103a41['options']=Array[_0x15bb9c(0xb3b)](_0x205342)['map'](_0x4a9f48=>_0x4a9f48[_0x15bb9c(0x5d0)]);const _0x5aceb2=_0x4a6d0c[_0x15bb9c(0xb1b)]('input[type=\x22radio\x22]:checked');_0x103a41[_0x15bb9c(0x828)]=_0x5aceb2?parseInt(_0x5aceb2[_0x15bb9c(0x5d0)]):0x0;break;case _0x15bb9c(0x573):_0x103a41[_0x15bb9c(0xb89)]=_0x509daf,_0x103a41[_0x15bb9c(0x1ef)]=_0x4a6d0c[_0x15bb9c(0xb1b)](_0x15bb9c(0xc69))['value'];break;case _0x15bb9c(0x907):_0x103a41[_0x15bb9c(0xb89)]=_0x509daf;const _0x15100e=_0x4a6d0c[_0x15bb9c(0xb1b)]('input[type=\x22radio\x22]:checked');_0x103a41[_0x15bb9c(0x347)]=_0x15100e?_0x15100e['value']===_0x15bb9c(0x529):!![];break;case'matching_item':_0x103a41['stem']=_0x509daf;const _0x30367f=_0x4a6d0c['querySelector'](_0x15bb9c(0x925));_0x103a41[_0x15bb9c(0xb42)]=_0x30367f?_0x30367f[_0x15bb9c(0x5d0)]:'',_0xa82b30[_0x15bb9c(0x211)](_0x103a41['correctResponse']);break;default:_0x103a41[_0x15bb9c(0xb89)]=_0x509daf;break;}return{..._0x490de6,..._0x103a41};});_0xa82b30[_0x5511db(0x3ce)]>0x0&&_0x2f1a24[_0x5511db(0x27f)](_0x172be0=>{const _0x114e72=_0x5511db;_0x172be0[_0x114e72(0x8af)]===_0x114e72(0xf5)&&(_0x172be0[_0x114e72(0x4f0)]=_0xa82b30);});const _0x24da11=currentEditingQuizData['id'],_0x130ea9=doc(db,_0x5511db(0x1f0)+appId+_0x5511db(0x92d),_0x24da11);await updateDoc(_0x130ea9,{'topic':_0x4a392c,'questions':_0x2f1a24}),document[_0x5511db(0x43c)]('quiz-editor-modal')['classList'][_0x5511db(0x61e)](_0x5511db(0x6e9)),showMessage(_0x5511db(0x939),()=>initiateReGradeProcess(_0x24da11));}catch(_0x80c1e8){console[_0x5511db(0x48f)](_0x5511db(0x674),_0x80c1e8),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x256922[_0x5511db(0x35d)]=![],_0x256922['innerHTML']=_0x5511db(0x1e0);}}async function initiateReGradeProcess(_0x4c926e){const _0x47e95b=_0x587d0b;showMessage(_0x47e95b(0xa6c));try{const _0x1b6d5a=doc(db,_0x47e95b(0x1f0)+appId+'/public/data/quizzes',_0x4c926e),_0x431e29=await getDoc(_0x1b6d5a);if(!_0x431e29[_0x47e95b(0x2ef)]())throw new Error(_0x47e95b(0x3a2));const _0x10aaa8={'id':_0x4c926e,..._0x431e29[_0x47e95b(0xc12)]()},_0x3489f0=collection(db,_0x47e95b(0x1f0)+appId+_0x47e95b(0x92d),_0x4c926e,_0x47e95b(0x392)),_0x1aa964=await getDocs(_0x3489f0);if(_0x1aa964['empty']){showMessage(_0x47e95b(0x34a));return;}const _0x2e5208=_0x1aa964[_0x47e95b(0xbb3)][_0x47e95b(0x9a0)](_0x1a92c9=>reGradeSingleSubmission(_0x1a92c9,_0x10aaa8));await Promise[_0x47e95b(0xafb)](_0x2e5208);if(_0x10aaa8[_0x47e95b(0x2d6)]){const _0x45df4f=doc(db,_0x47e95b(0x1f0)+appId+_0x47e95b(0x684),_0x10aaa8[_0x47e95b(0x2d6)]),_0x4cbd5c=await getDoc(_0x45df4f);if(_0x4cbd5c[_0x47e95b(0x2ef)]()&&_0x4cbd5c[_0x47e95b(0xc12)]()[_0x47e95b(0xc49)]){const _0xe77b06=_0x4cbd5c[_0x47e95b(0xc12)]()['students'][_0x47e95b(0x9a0)](_0x41bd88=>updateStudentProfile(_0x10aaa8[_0x47e95b(0x2d6)],_0x41bd88));await Promise[_0x47e95b(0xafb)](_0xe77b06);}}showMessage(_0x47e95b(0x50e)+_0x1aa964[_0x47e95b(0xc1a)]+_0x47e95b(0x4fc));}catch(_0x3465cd){console[_0x47e95b(0x48f)](_0x47e95b(0xb91),_0x3465cd),showMessage(_0x47e95b(0x663)+_0x3465cd[_0x47e95b(0x2f6)]);}}async function reGradeSingleSubmission(_0x581ca6,_0x3e0808){const _0x443867=_0x587d0b,_0x503438=_0x581ca6[_0x443867(0xc12)](),_0x4a12c6=_0x503438['studentName'],_0xf09a5a=_0x503438['attempts']||[],_0x2b0032=[];for(const _0x351037 of _0xf09a5a){let _0x2e8f40=0x0,_0xa43ca1=[],_0x423e29=0x0;const _0x31c9df=[];for(const _0x4c8067 of _0x351037[_0x443867(0x34c)]){let _0x787c78;_0x4c8067['questionId']&&(_0x787c78=_0x3e0808['questions']['find'](_0x150251=>_0x150251['id']===_0x4c8067[_0x443867(0xa0c)]));!_0x787c78&&_0x4c8067[_0x443867(0x8b1)]&&(_0x787c78=_0x3e0808[_0x443867(0x66b)][_0x443867(0xa3a)](_0xa6089d=>(_0xa6089d['stem']||_0xa6089d[_0x443867(0xb89)])===_0x4c8067[_0x443867(0x8b1)]));let _0x310f93=![];if(_0x787c78){const _0x4eeba0=_0x787c78[_0x443867(0x8af)]||_0x3e0808['quizType'];switch(_0x4eeba0){case _0x443867(0x51f):if(_0x787c78[_0x443867(0x4b2)]&&_0x787c78[_0x443867(0x828)]<_0x787c78['options'][_0x443867(0x3ce)]){const _0x40fa35=_0x787c78[_0x443867(0x4b2)][_0x787c78[_0x443867(0x828)]];_0x310f93=_0x4c8067['answerText']===_0x40fa35;}break;case _0x443867(0x907):const _0x126b08=_0x4c8067[_0x443867(0x831)]===!![]||_0x4c8067[_0x443867(0x831)]==='true';_0x310f93=_0x126b08===_0x787c78[_0x443867(0x347)];break;case _0x443867(0xf5):_0x310f93=_0x4c8067[_0x443867(0x831)]===_0x787c78['correctResponse'];break;case _0x443867(0x573):_0x310f93=await gradeShortAnswer(_0x4c8067['answer'],_0x787c78);break;default:_0x310f93=_0x4c8067['isCorrect'];break;}}if(_0x310f93){_0x2e8f40++,_0x423e29++;if(_0x423e29===0x3)_0xa43ca1[_0x443867(0x211)](BADGES[_0x443867(0x331)]['id']);}else _0x423e29=0x0;_0x31c9df[_0x443867(0x211)]({..._0x4c8067,'isCorrect':_0x310f93});}let _0x4b686d=_0x2e8f40*0xa;_0x2e8f40===_0x3e0808[_0x443867(0x66b)][_0x443867(0x3ce)]&&(_0x4b686d+=0x32,_0xa43ca1[_0x443867(0x211)](BADGES[_0x443867(0x2de)]['id'])),_0x2b0032[_0x443867(0x211)]({..._0x351037,'score':_0x2e8f40,'points':_0x4b686d,'badges':Array[_0x443867(0xb3b)](new Set(_0xa43ca1)),'answers':_0x31c9df});}const _0x108a0b=_0x2b0032[_0x443867(0x3ce)]>0x0?_0x2b0032[0x0]['score']:0x0,_0x1a52aa=Math[_0x443867(0x79e)](..._0x2b0032[_0x443867(0x9a0)](_0x938d60=>_0x938d60[_0x443867(0x7c3)])),_0x55f9b9=_0x2b0032[_0x443867(0x3ce)]>0x0?_0x2b0032[_0x2b0032[_0x443867(0x3ce)]-0x1][_0x443867(0x7c3)]:0x0,_0x4a7eb4=_0x2b0032[_0x443867(0x3ce)]>0x0?_0x2b0032[_0x2b0032[_0x443867(0x3ce)]-0x1][_0x443867(0x69f)]:0x0,_0x2b17e7=doc(db,_0x443867(0x1f0)+appId+_0x443867(0x261)+_0x3e0808['id']+_0x443867(0xc46),_0x4a12c6);await updateDoc(_0x2b17e7,{'attempts':_0x2b0032,'firstScore':_0x108a0b,'bestScore':_0x1a52aa,'latestScore':_0x55f9b9,'points':_0x4a7eb4});}function cleanupQuizOptions(_0x4a1bf7){const _0x42a5e2=_0x587d0b,_0x3f3b82=(_0x356210,_0x2382dc)=>_0x2382dc===0x0?_0x356210:_0x3f3b82(_0x2382dc,_0x356210%_0x2382dc),_0x11d522=_0x3604bb=>{const _0x39b4cf=_0x341e;if(typeof _0x3604bb!==_0x39b4cf(0xb54))return null;_0x3604bb=_0x3604bb[_0x39b4cf(0x8e7)]();const _0x3f2202=_0x3604bb[_0x39b4cf(0x9f8)](/[ /]/)[_0x39b4cf(0x35c)](_0x952088=>_0x952088!=='');if(_0x3f2202['length']===0x3)return parseInt(_0x3f2202[0x0])+parseInt(_0x3f2202[0x1])/parseInt(_0x3f2202[0x2]);else{if(_0x3f2202['length']===0x2)return parseInt(_0x3f2202[0x0])/parseInt(_0x3f2202[0x1]);else{if(_0x3f2202[_0x39b4cf(0x3ce)]===0x1&&!isNaN(_0x3f2202[0x0]))return parseFloat(_0x3f2202[0x0]);}}return null;},_0x2d8307=_0x1daad3=>{const _0x1f6544=_0x341e;if(typeof _0x1daad3!==_0x1f6544(0xb54))return _0x1daad3;const _0x2fbeaf=_0x1daad3[_0x1f6544(0xc93)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x2fbeaf){const _0x1dd5db=parseInt(_0x2fbeaf[0x1]);let _0x4d06d9=parseInt(_0x2fbeaf[0x2]),_0x13847d=parseInt(_0x2fbeaf[0x3]);const _0x548b9a=_0x3f3b82(_0x4d06d9,_0x13847d);_0x4d06d9/=_0x548b9a,_0x13847d/=_0x548b9a;if(_0x13847d===0x1)return(_0x1dd5db+_0x4d06d9)[_0x1f6544(0x6ce)]();return _0x1dd5db+'\x20'+_0x4d06d9+'/'+_0x13847d;}return _0x1daad3;};return _0x4a1bf7&&_0x4a1bf7[_0x42a5e2(0x66b)]&&_0x4a1bf7[_0x42a5e2(0x66b)][_0x42a5e2(0x27f)](_0x367db6=>{const _0x4535b4=_0x42a5e2;if(_0x367db6[_0x4535b4(0x8af)]==='multiple_choice'&&_0x367db6[_0x4535b4(0x4b2)]){const _0x381fce=new Map(),_0x58b1de=_0x367db6[_0x4535b4(0x4b2)][_0x367db6[_0x4535b4(0x828)]];_0x367db6[_0x4535b4(0x4b2)][_0x4535b4(0x27f)](_0x18d54f=>{const _0x122c0f=_0x4535b4,_0x43bdb0=_0x2d8307(_0x18d54f),_0x23aec7=_0x11d522(_0x43bdb0);_0x23aec7!==null&&!_0x381fce[_0x122c0f(0x9cf)](_0x23aec7)&&_0x381fce[_0x122c0f(0x964)](_0x23aec7,_0x43bdb0);}),_0x367db6[_0x4535b4(0x4b2)]=Array[_0x4535b4(0xb3b)](_0x381fce[_0x4535b4(0x512)]());const _0x1af511=_0x367db6[_0x4535b4(0x4b2)][_0x4535b4(0x9bd)](_0x3640fc=>_0x3640fc===_0x2d8307(_0x58b1de));_0x367db6[_0x4535b4(0x828)]=_0x1af511!==-0x1?_0x1af511:0x0;}}),_0x4a1bf7;}function showGameStartConfirmationModal(_0x13e4dc,_0x251acb,_0x542e73){const _0x28d56f=_0x587d0b,_0x306ea6=document[_0x28d56f(0x43c)](_0x28d56f(0x352));document[_0x28d56f(0x43c)](_0x28d56f(0x60a))[_0x28d56f(0xc0d)]=_0x28d56f(0x427)+_0x542e73,document[_0x28d56f(0x43c)](_0x28d56f(0xb8f))[_0x28d56f(0x5d0)]=_0x13e4dc,document[_0x28d56f(0x43c)](_0x28d56f(0xc7b))[_0x28d56f(0x5d0)]=_0x251acb,document[_0x28d56f(0x43c)](_0x28d56f(0x90d))[_0x28d56f(0x1a3)]=!![];const _0x2fa477=document['getElementById']('sync-variant-selector');_0x251acb===_0x28d56f(0x3d2)?(_0x2fa477['classList'][_0x28d56f(0xbf3)](_0x28d56f(0x6e9)),document[_0x28d56f(0xb1b)](_0x28d56f(0x77b))[_0x28d56f(0x1a3)]=!![]):_0x2fa477[_0x28d56f(0x860)][_0x28d56f(0x61e)](_0x28d56f(0x6e9)),_0x306ea6[_0x28d56f(0x860)][_0x28d56f(0xbf3)](_0x28d56f(0x6e9));}async function saveGameResultsAsSubmissions(_0x21d74d){const _0x341095=_0x587d0b;console[_0x341095(0x564)](_0x341095(0x3cc),_0x21d74d);const _0xc182b8=_0x21d74d[_0x341095(0xb34)];let _0x28f44d=[];if(_0x21d74d['players'])_0x28f44d=Object[_0x341095(0x31d)](_0x21d74d[_0x341095(0x365)])[_0x341095(0x9a0)](([_0xfb18cc,_0x3e9c88])=>({'name':_0xfb18cc,..._0x3e9c88}));else{if(_0x21d74d[_0x341095(0x4bd)])Object[_0x341095(0x512)](_0x21d74d['groups'])['forEach'](_0x444ab5=>{_0x444ab5['members']['forEach'](_0xd5a0b9=>{const _0x34b90b=_0x341e;_0x28f44d[_0x34b90b(0x211)]({'name':_0xd5a0b9,'score':_0x444ab5[_0x34b90b(0x7c3)],'answers':_0x444ab5[_0x34b90b(0x34c)]});});});else _0x21d74d['responses']&&Object[_0x341095(0x31d)](_0x21d74d[_0x341095(0x270)])[_0x341095(0x27f)](([_0x83fd56,_0x31cbe5])=>{const _0x2f699c=_0x341095;_0x28f44d[_0x2f699c(0x211)]({'name':_0x83fd56,..._0x31cbe5});});}if(_0x28f44d[_0x341095(0x3ce)]===0x0){console[_0x341095(0x564)](_0x341095(0xc1c));return;}const _0x237fa9=_0x21d74d[_0x341095(0x33c)]?.[_0x341095(0x66b)][_0x341095(0x3ce)]||currentQuizData[_0x341095(0x66b)][_0x341095(0x3ce)],_0x12d669=writeBatch(db);for(const _0x42b352 of _0x28f44d){const _0x30261e=doc(db,_0x341095(0x1f0)+appId+_0x341095(0x261)+_0xc182b8+_0x341095(0xc46),_0x42b352[_0x341095(0x683)]),_0x143da0=(_0x42b352['answers']||[])[_0x341095(0x35c)](_0x4fc837=>_0x4fc837[_0x341095(0xa35)])[_0x341095(0x3ce)];let _0x484466=_0x143da0;_0x21d74d[_0x341095(0x814)]&&_0x42b352[_0x341095(0x34c)]&&_0x42b352[_0x341095(0x34c)][_0x341095(0x27f)](_0x2aaa26=>{const _0x32679d=_0x341095;if(_0x2aaa26[_0x32679d(0xa35)]&&(_0x2aaa26[_0x32679d(0x6b1)]===!![]||_0x2aaa26[_0x32679d(0x6b1)]==='confident'))_0x484466+=0x1;else!_0x2aaa26[_0x32679d(0xa35)]&&(_0x2aaa26[_0x32679d(0x6b1)]===!![]||_0x2aaa26[_0x32679d(0x6b1)]===_0x32679d(0x83b))&&(_0x484466-=0x1);});_0x237fa9>0x0&&_0x143da0===_0x237fa9&&(_0x484466+=0x1);const _0x403060={'score':_0x143da0,'points':_0x484466,'badges':_0x42b352['badges']||[],'submittedAt':new Date()[_0x341095(0x339)](),'answers':(_0x42b352['answers']||[])['map'](_0x4356d0=>({'questionId':_0x4356d0[_0x341095(0xa0c)],'answer':_0x4356d0[_0x341095(0x831)],'answerText':_0x4356d0[_0x341095(0x472)],'isCorrect':_0x4356d0['isCorrect'],'originalQuestionText':_0x4356d0[_0x341095(0x8b1)],'wasConfident':_0x4356d0[_0x341095(0x6b1)]}))},_0xf041ff=await getDoc(_0x30261e),_0xbf3b8=_0xf041ff[_0x341095(0x2ef)]()?_0xf041ff['data']():{},_0x4727a0=_0xbf3b8[_0x341095(0x9a1)]||0x0,_0xcc60db=_0xbf3b8[_0x341095(0x55e)]||[],_0x843ab4={'studentName':_0x42b352['name'],'totalQuestions':_0x237fa9,'attempts':arrayUnion(_0x403060),'latestScore':_0x143da0,'points':_0x484466,'latestSubmittedAt':_0x403060[_0x341095(0x301)],'bestScore':Math['max'](_0x4727a0,_0x143da0),'firstScore':_0xcc60db[_0x341095(0x3ce)]===0x0?_0x143da0:_0xbf3b8[_0x341095(0x29a)]||0x0};_0x12d669['set'](_0x30261e,_0x843ab4,{'merge':!![]});}try{await _0x12d669['commit'](),showMessage(_0x341095(0x3e1)+_0x28f44d[_0x341095(0x3ce)]+_0x341095(0xbbb));const _0x32cc1c=_0x21d74d[_0x341095(0x33c)]?.[_0x341095(0x2d6)]||currentQuizData?.['projectId']||currentProjectId;if(_0x32cc1c){const _0x410e61=[...new Set(_0x28f44d[_0x341095(0x9a0)](_0x2230f5=>_0x2230f5[_0x341095(0x683)]))];for(const _0x143ac4 of _0x410e61){await updateStudentProfile(_0x32cc1c,_0x143ac4);}}}catch(_0x16a4f3){console[_0x341095(0x48f)](_0x341095(0x886),_0x16a4f3),showMessage(_0x341095(0x10b));}}async function saveQuiz(_0x156ed7=null,_0x25b45e=null){const _0x1d4acb=_0x587d0b,_0x1f3562=_0x156ed7||currentProjectId;if(!_0x1f3562){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x1d4acb(0x66b)]||!userId){showMessage(_0x1d4acb(0x359));return;}const _0x1494ef=document[_0x1d4acb(0x43c)](_0x1d4acb(0x788));_0x1494ef[_0x1d4acb(0x35d)]=!![],_0x1494ef[_0x1d4acb(0x30c)]=_0x1d4acb(0x342);const _0x41234d=document[_0x1d4acb(0x43c)](_0x1d4acb(0x433))[_0x1d4acb(0x1a3)];let _0x410f02=document[_0x1d4acb(0x43c)](_0x1d4acb(0x9c4))[_0x1d4acb(0x5b6)]['trim']();_0x41234d&&!_0x410f02[_0x1d4acb(0x718)](_0x1d4acb(0x86b))&&(_0x410f02=_0x1d4acb(0xc43)+_0x410f02);try{const _0x4df7bb={'resultsDisplay':document[_0x1d4acb(0x43c)]('results-display-select')[_0x1d4acb(0x5d0)],'shuffle':document[_0x1d4acb(0x43c)](_0x1d4acb(0x620))['value'],'timerMode':document[_0x1d4acb(0x43c)]('timer-mode-select')['value'],'timerDuration':parseInt(document['getElementById'](_0x1d4acb(0x85e))[_0x1d4acb(0x5d0)])||0xa,'passingScore':parseInt(document[_0x1d4acb(0x43c)](_0x1d4acb(0x36f))[_0x1d4acb(0x5d0)])||0x0,'isAdaptive':document[_0x1d4acb(0x43c)](_0x1d4acb(0xab))[_0x1d4acb(0x1a3)],'loopUntilPass':document[_0x1d4acb(0x43c)](_0x1d4acb(0x3d8))[_0x1d4acb(0x1a3)]},_0x337281=(currentQuizData[_0x1d4acb(0x66b)]||[])['map']((_0x52be75,_0x25a311)=>{const _0xb0c7a6=_0x1d4acb,_0x5a8aee=document[_0xb0c7a6(0x43c)](_0xb0c7a6(0x1f3))[_0xb0c7a6(0x5d0)],_0x2cb21b={'id':'q_'+Date[_0xb0c7a6(0x349)]()+'_'+_0x25a311,'questionText':_0x52be75[_0xb0c7a6(0xb89)]||'','explanation':_0x52be75[_0xb0c7a6(0x19b)]||'ไม่มีคำอธิบาย','questionType':_0x52be75[_0xb0c7a6(0x8af)]||_0x5a8aee,'imageCode':_0x52be75[_0xb0c7a6(0xb6d)]||null};return(_0x2cb21b[_0xb0c7a6(0x8af)]===_0xb0c7a6(0x51f)||_0x2cb21b['questionType']===_0xb0c7a6(0xb8b)||_0x2cb21b[_0xb0c7a6(0x8af)]===_0xb0c7a6(0x338)&&_0x52be75[_0xb0c7a6(0x4b2)])&&(_0x2cb21b[_0xb0c7a6(0x4b2)]=_0x52be75[_0xb0c7a6(0x4b2)]||[],_0x2cb21b[_0xb0c7a6(0x828)]=_0x52be75[_0xb0c7a6(0x828)]!==undefined?_0x52be75['correctAnswerIndex']:0x0),(_0x2cb21b[_0xb0c7a6(0x8af)]==='short_answer'||_0x2cb21b[_0xb0c7a6(0x8af)]==='fill_in_no_choices'||_0x2cb21b[_0xb0c7a6(0x8af)]===_0xb0c7a6(0x338)&&_0x52be75['idealAnswer'])&&(_0x2cb21b['idealAnswer']=_0x52be75[_0xb0c7a6(0x1ef)]||''),_0x2cb21b[_0xb0c7a6(0x8af)]==='true_false'&&(_0x2cb21b[_0xb0c7a6(0x347)]=_0x52be75['correctAnswer']===!![]),_0x2cb21b[_0xb0c7a6(0x8af)]===_0xb0c7a6(0xf5)&&(_0x2cb21b[_0xb0c7a6(0x2f0)]=_0x52be75[_0xb0c7a6(0x2f0)]||'',_0x2cb21b[_0xb0c7a6(0xb42)]=_0x52be75[_0xb0c7a6(0xb42)]||'',_0x2cb21b[_0xb0c7a6(0x4f0)]=_0x52be75[_0xb0c7a6(0x4f0)]||[]),_0x2cb21b;}),_0x3b6e3e={'topic':_0x410f02,'quizType':currentQuizData[_0x1d4acb(0x86d)]||_0x1d4acb(0x51f),'questions':_0x337281,'projectId':_0x1f3562,'createdBy':userId,'createdAt':new Date()[_0x1d4acb(0x339)](),'status':_0x1d4acb(0x52b),'settings':_0x4df7bb,'quizMode':_0x41234d?_0x1d4acb(0x9f4):_0x1d4acb(0xdd),'pairedQuizId':null,'lessonPlan':null};let _0x5cff80;while(!![]){_0x5cff80=Math[_0x1d4acb(0x4d7)](0x3e8+Math['random']()*0x2328)[_0x1d4acb(0x6ce)]();const _0x3fa09d=await getDoc(doc(db,_0x1d4acb(0x1f0)+appId+_0x1d4acb(0x92d),_0x5cff80));if(!_0x3fa09d[_0x1d4acb(0x2ef)]())break;}await setDoc(doc(db,_0x1d4acb(0x1f0)+appId+_0x1d4acb(0x92d),_0x5cff80),_0x3b6e3e);if(_0x25b45e&&currentBlueprintProjectId){console[_0x1d4acb(0x564)](_0x1d4acb(0xa3f)+_0x5cff80+_0x1d4acb(0x21f)+_0x25b45e);try{const _0x269ec6=doc(db,_0x1d4acb(0x1f0)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x269ec6,{['topics.'+_0x25b45e+_0x1d4acb(0x3a5)]:arrayUnion(_0x5cff80)});}catch(_0x1da562){console['error'](_0x1d4acb(0xab6),_0x1da562);}}currentQuizData[_0x1d4acb(0x731)]=_0x4df7bb,currentQuizData['id']=_0x5cff80;const _0xbeaac8=document[_0x1d4acb(0x43c)](_0x1d4acb(0xa36));_0xbeaac8['innerHTML']=_0x1d4acb(0xb13)+_0x5cff80+_0x1d4acb(0x6dd),document[_0x1d4acb(0x43c)]('copy-quiz-id-btn')[_0x1d4acb(0x5e1)]('click',()=>copyTextToClipboard(_0x5cff80,_0x1d4acb(0xb94))),document[_0x1d4acb(0x43c)](_0x1d4acb(0xaeb))[_0x1d4acb(0x5e1)](_0x1d4acb(0xbf8),()=>handleStartLiveRace(_0x5cff80)),document['getElementById'](_0x1d4acb(0x249))[_0x1d4acb(0x5e1)](_0x1d4acb(0xbf8),()=>startPresentation(currentQuizData)),document['getElementById'](_0x1d4acb(0x36c))[_0x1d4acb(0x5e1)]('click',startAdminTest),showMessage(_0x1d4acb(0xc05));}catch(_0x1e1c4d){console[_0x1d4acb(0x48f)](_0x1d4acb(0x256),_0x1e1c4d),showMessage(_0x1d4acb(0xb50));}finally{_0x1494ef['disabled']=![],_0x1494ef['innerHTML']=_0x1d4acb(0xad1);}}function promptForProjectAndSave(){const _0x59c6bd=_0x587d0b,_0x690857=document[_0x59c6bd(0x43c)](_0x59c6bd(0x409)),_0x142a46=document[_0x59c6bd(0x43c)](_0x59c6bd(0x64f)),_0x2948c8=_0x690857[_0x59c6bd(0xb1b)]('h3'),_0x2c49e9=document['getElementById'](_0x59c6bd(0x832));_0x2948c8[_0x59c6bd(0xc0d)]=_0x59c6bd(0x24f),_0x2c49e9[_0x59c6bd(0xc0d)]=_0x59c6bd(0x7f9);allProjects[_0x59c6bd(0x3ce)]===0x0?(_0x142a46[_0x59c6bd(0x30c)]=_0x59c6bd(0xb60),_0x2c49e9[_0x59c6bd(0x35d)]=!![]):(_0x142a46['innerHTML']=allProjects[_0x59c6bd(0x9a0)](_0x5243aa=>_0x59c6bd(0x244)+_0x5243aa['id']+'\x22>'+_0x5243aa[_0x59c6bd(0xfd)]+'</option>')[_0x59c6bd(0xd9)](''),_0x2c49e9[_0x59c6bd(0x35d)]=![]);_0x690857[_0x59c6bd(0x860)][_0x59c6bd(0xbf3)](_0x59c6bd(0x6e9));const _0x2422f6=()=>{const _0x7c3e1f=_0x59c6bd,_0xc1ef6c=_0x142a46[_0x7c3e1f(0x5d0)];_0xc1ef6c?(currentProjectId=_0xc1ef6c,_0x690857[_0x7c3e1f(0x860)][_0x7c3e1f(0x61e)](_0x7c3e1f(0x6e9)),saveQuiz(),_0x2948c8['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x2c49e9[_0x7c3e1f(0xc0d)]=_0x7c3e1f(0x750),_0x2c49e9[_0x7c3e1f(0x2b9)](_0x7c3e1f(0xbf8),_0x2422f6),_0x2c49e9['addEventListener'](_0x7c3e1f(0xbf8),confirmMoveQuiz)):showMessage(_0x7c3e1f(0x3cf));};_0x2c49e9[_0x59c6bd(0x2b9)](_0x59c6bd(0xbf8),confirmMoveQuiz),_0x2c49e9[_0x59c6bd(0x5e1)](_0x59c6bd(0xbf8),_0x2422f6);}function copyTextToClipboard(_0x5c96d3,_0x5cf31e){const _0xb51917=_0x587d0b,_0x2c56e9=document[_0xb51917(0x7dd)](_0xb51917(0x441));_0x2c56e9[_0xb51917(0x5d0)]=_0x5c96d3,_0x2c56e9['style']['position']=_0xb51917(0x16b),_0x2c56e9[_0xb51917(0x1fc)][_0xb51917(0xb79)]='0',document[_0xb51917(0x40b)][_0xb51917(0x47c)](_0x2c56e9),_0x2c56e9[_0xb51917(0x345)](),_0x2c56e9[_0xb51917(0xc31)]();try{const _0x24f965=document[_0xb51917(0x5cf)](_0xb51917(0x609));showMessage(_0x24f965?_0x5cf31e:'คัดลอกไม่สำเร็จ');}catch(_0x3dc9ad){showMessage(_0xb51917(0xba6)),console['error'](_0xb51917(0xa8),_0x3dc9ad);}document['body']['removeChild'](_0x2c56e9);}function listenForProjectQuizzes(_0x54ad77){const _0x2305dc=_0x587d0b,_0x555ca5=collection(db,_0x2305dc(0x1f0)+appId+'/public/data/quizzes'),_0x3fcdfd=query(_0x555ca5,where(_0x2305dc(0x2d6),'==',_0x54ad77));unsubscribeQuizzesListener=onSnapshot(_0x3fcdfd,async _0x26db18=>{const _0x95e435=_0x2305dc;allQuizzes=_0x26db18[_0x95e435(0xbb3)][_0x95e435(0x9a0)](_0x41b1a6=>({'id':_0x41b1a6['id'],..._0x41b1a6['data']()})),renderQuizzes();},_0x4bc729=>{const _0x2fee95=_0x2305dc;console[_0x2fee95(0x48f)]('Error\x20fetching\x20project\x20quizzes:',_0x4bc729),document[_0x2fee95(0x43c)](_0x2fee95(0x56e))['innerHTML']=_0x2fee95(0x539);});}async function renderQuizzes(){const _0x3dbb95=_0x587d0b,_0x4339de=document[_0x3dbb95(0x43c)](_0x3dbb95(0x56e)),_0x21ffe5=document['getElementById']('quiz-search-input')[_0x3dbb95(0x5d0)][_0x3dbb95(0x35e)]();let _0x107e85;currentProjectId===_0x3dbb95(0x7b3)?_0x107e85=starredQuizzes:_0x107e85=allQuizzes;let _0x3f43f5=_0x107e85[_0x3dbb95(0x35c)](_0xaf5ca=>_0xaf5ca['topic']['toLowerCase']()['includes'](_0x21ffe5));_0x3f43f5[_0x3dbb95(0x34f)]((_0x474753,_0xfd45fa)=>new Date(_0xfd45fa['createdAt'])-new Date(_0x474753[_0x3dbb95(0x7c8)]));if(_0x3f43f5['length']===0x0){_0x4339de[_0x3dbb95(0x30c)]=_0x3dbb95(0x20a);return;}const _0x35b825={},_0x11e3bc=_0x3f43f5[_0x3dbb95(0x9a0)](async _0xa47a71=>{const _0x5ca24a=_0x3dbb95,_0x3e96ee=collection(db,_0x5ca24a(0x1f0)+appId+'/public/data/quizzes/'+_0xa47a71['id']+'/submissions'),_0x4dd308=await getDocs(_0x3e96ee);_0x35b825[_0xa47a71['id']]=_0x4dd308[_0x5ca24a(0xc1a)];});await Promise[_0x3dbb95(0xafb)](_0x11e3bc);let _0x150da9='';_0x3f43f5[_0x3dbb95(0x27f)](_0x1e00cd=>{const _0x16945f=_0x3dbb95,_0x31ff1e=_0x35b825[_0x1e00cd['id']]||0x0,_0x12eaed=_0x1e00cd[_0x16945f(0x658)]||_0x16945f(0x52b),_0xdbbe20=_0x1e00cd[_0x16945f(0x731)]?.['timerMode']||_0x16945f(0x5eb);let _0x21766a='',_0x5779e8='';const _0x52e0fb=new Date();let _0xc0173=_0x12eaed;if(_0x12eaed===_0x16945f(0xb4d)){const _0x27deda=_0x1e00cd[_0x16945f(0x403)]?new Date(_0x1e00cd[_0x16945f(0x403)]):null,_0x1acdaf=_0x1e00cd[_0x16945f(0xb36)]?new Date(_0x1e00cd[_0x16945f(0xb36)]):null;if(_0x1acdaf&&_0x52e0fb>_0x1acdaf)_0xc0173=_0x16945f(0x362);else _0x27deda&&_0x52e0fb<_0x27deda?_0xc0173=_0x16945f(0x254):_0xc0173=_0x16945f(0x52b);}switch(_0xc0173){case'inactive':_0x21766a=_0x16945f(0x90f),_0x5779e8=_0x16945f(0x268);break;case _0x16945f(0x254):_0x21766a=_0x16945f(0xf0),_0x5779e8='text-blue-700\x20bg-blue-100';break;case _0x16945f(0x52b):_0x21766a=_0xdbbe20!==_0x16945f(0x5eb)?'เปิด\x20(จับเวลา)':_0x16945f(0xa34),_0x5779e8='text-green-700\x20bg-green-100';break;default:_0x21766a='ตั้งเวลา\x20(เปิด)',_0x5779e8='text-green-700\x20bg-green-100';break;}let _0x423456='';const _0x4ae86f={'day':_0x16945f(0x690),'month':_0x16945f(0x690),'year':'numeric','hour':_0x16945f(0x690),'minute':_0x16945f(0x690),'hour12':![]};if(_0x12eaed===_0x16945f(0xb4d)){if(_0x1e00cd[_0x16945f(0x403)])_0x423456+=_0x16945f(0xa93)+new Date(_0x1e00cd[_0x16945f(0x403)])[_0x16945f(0xe3)](_0x16945f(0x8ce),_0x4ae86f)+_0x16945f(0x85a);if(_0x1e00cd[_0x16945f(0xb36)])_0x423456+=_0x16945f(0x90c)+new Date(_0x1e00cd[_0x16945f(0xb36)])['toLocaleString']('th-TH',_0x4ae86f)+_0x16945f(0x85a);}let _0x2ca1f0='';if(_0x1e00cd[_0x16945f(0x887)]){const _0x2cd173=allQuizzes['find'](_0x5acc45=>_0x5acc45['id']===_0x1e00cd[_0x16945f(0x887)]);if(_0x2cd173){let _0xf696af,_0x331c05;new Date(_0x1e00cd[_0x16945f(0x7c8)])<new Date(_0x2cd173[_0x16945f(0x7c8)])?(_0xf696af=_0x1e00cd['id'],_0x331c05=_0x2cd173['id']):(_0xf696af=_0x2cd173['id'],_0x331c05=_0x1e00cd['id']),_0x2ca1f0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x331c05+'\x22\x20data-pre-test-id=\x22'+_0xf696af+_0x16945f(0x4d5);}}else _0x1e00cd[_0x16945f(0x48e)]===_0x16945f(0x9f4)&&(_0x2ca1f0+=_0x16945f(0xbc5)+_0x1e00cd['id']+_0x16945f(0x88f));if(_0x1e00cd[_0x16945f(0x48e)]==='pre-test'&&_0x31ff1e>0x0)_0x2ca1f0+=_0x16945f(0xbc5)+_0x1e00cd['id']+_0x16945f(0x9b5);else!_0x1e00cd['pairedQuizId']&&_0x1e00cd[_0x16945f(0x48e)]!=='pre-test'&&_0x31ff1e>0x0&&(_0x2ca1f0+=_0x16945f(0xbc5)+_0x1e00cd['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x4ebbdf='';_0x1e00cd[_0x16945f(0x887)]?_0x4ebbdf=_0x16945f(0x78)+_0x1e00cd['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x4ebbdf=_0x16945f(0x78)+_0x1e00cd['id']+_0x16945f(0x2e9),_0x150da9+=_0x16945f(0x75b)+_0x1e00cd['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x1e00cd[_0x16945f(0x53e)]+_0x16945f(0xb38)+_0x1e00cd[_0x16945f(0x66b)]['length']+_0x16945f(0x39e)+new Date(_0x1e00cd[_0x16945f(0x7c8)])[_0x16945f(0xe3)](_0x16945f(0x8ce))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x31ff1e+_0x16945f(0x9ab)+_0x423456+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x5779e8+'\x22>'+_0x21766a+_0x16945f(0xa1)+_0x1e00cd['id']+_0x16945f(0x179)+_0x1e00cd['id']+_0x16945f(0x376)+(_0x1e00cd[_0x16945f(0xbde)]?_0x16945f(0x5f0):_0x16945f(0x77c))+_0x16945f(0x5e5)+_0x2ca1f0+_0x16945f(0x594)+_0x1e00cd['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x1e00cd['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1e00cd['id']+_0x16945f(0x8e2)+_0x1e00cd['id']+_0x16945f(0x175)+_0x1e00cd['id']+_0x16945f(0x132)+_0x1e00cd['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1e00cd['id']+_0x16945f(0x8a8)+_0x1e00cd[_0x16945f(0x53e)]+_0x16945f(0x633)+_0x1e00cd['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1e00cd['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ebbdf+_0x16945f(0x44c)+_0x1e00cd['id']+_0x16945f(0x905)+_0x1e00cd['id']+_0x16945f(0x3ef)+_0x1e00cd['id']+_0x16945f(0x150)+_0x1e00cd['id']+_0x16945f(0x975)+_0x1e00cd['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1e00cd['id']+_0x16945f(0x405)+_0x1e00cd['id']+_0x16945f(0x7d6)+_0x1e00cd['id']+_0x16945f(0x8a8)+_0x1e00cd['topic']+_0x16945f(0x47b)+_0x1e00cd['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4339de['innerHTML']=_0x150da9,document[_0x3dbb95(0xa6e)](_0x3dbb95(0x2fe))[_0x3dbb95(0x27f)](_0x49180f=>{const _0xe152b7=_0x3dbb95;_0x49180f[_0xe152b7(0x5e1)](_0xe152b7(0xbf8),()=>{const _0xb40c3b=_0xe152b7,_0x2ce00d=_0x49180f[_0xb40c3b(0x82f)]['quizId'];showQuizDetailView(_0x2ce00d);});});}async function handleUnpairQuiz(_0x54072d){const _0x3c09e9=_0x587d0b,_0x267900=allQuizzes[_0x3c09e9(0xa3a)](_0xf7dc0e=>_0xf7dc0e['id']===_0x54072d);if(!_0x267900||!_0x267900[_0x3c09e9(0x887)]){showMessage(_0x3c09e9(0xb82));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x27b43d=_0x3c09e9;try{const _0xd912f3=doc(db,_0x27b43d(0x1f0)+appId+_0x27b43d(0x92d),_0x54072d),_0x23fc34=doc(db,_0x27b43d(0x1f0)+appId+_0x27b43d(0x92d),_0x267900['pairedQuizId']),_0x2830f0=writeBatch(db);_0x2830f0['update'](_0xd912f3,{'pairedQuizId':null}),_0x2830f0[_0x27b43d(0x2ff)](_0x23fc34,{'pairedQuizId':null}),await _0x2830f0[_0x27b43d(0x46e)](),showMessage(_0x27b43d(0x4b7));}catch(_0x206327){console[_0x27b43d(0x48f)](_0x27b43d(0x1ce),_0x206327),showMessage(_0x27b43d(0xb4f));}});}function formatAndPrintLessonPlan(_0x34774b,_0x3fc6c2){const _0x41347b=_0x587d0b,_0x451cad=window[_0x41347b(0x499)]('',_0x41347b(0x5c0)),_0x458674='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x3fc6c2[_0x41347b(0x53e)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x3fc6c2[_0x41347b(0x53e)]+_0x41347b(0x707)+_0x34774b[_0x41347b(0xc4f)][_0x41347b(0x9a0)](_0x246518=>'<li>'+_0x246518+_0x41347b(0x7ef))[_0x41347b(0xd9)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x34774b[_0x41347b(0x5c3)]+_0x41347b(0x9c7)+_0x34774b[_0x41347b(0x6f6)][_0x41347b(0x9a0)](_0x52ddeb=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x52ddeb[_0x41347b(0x72b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x52ddeb[_0x41347b(0x2ce)]+_0x41347b(0x849))[_0x41347b(0xd9)]('')+_0x41347b(0x53c);_0x451cad['document']['write'](_0x458674),_0x451cad[_0x41347b(0x2e7)][_0x41347b(0x653)](),_0x451cad[_0x41347b(0x7c2)]=function(){setTimeout(()=>{const _0x16629a=_0x341e;_0x451cad[_0x16629a(0xa6)]();},0x3e8);};}async function handleAiFixFormula(_0x2ace5e){const _0x196a6c=_0x587d0b,_0x52a93b=document['querySelector'](_0x196a6c(0x85d)+_0x2ace5e+'\x22]');if(!_0x52a93b)return;const _0x18b3e3=_0x52a93b[_0x196a6c(0x82f)][_0x196a6c(0x24d)],_0x341856=_0x52a93b[_0x196a6c(0xb1b)](_0x196a6c(0xad0));let _0x3b1389={'question':_0x52a93b[_0x196a6c(0xb1b)](_0x196a6c(0x441))[_0x196a6c(0x5d0)]};switch(_0x18b3e3){case _0x196a6c(0x51f):_0x3b1389[_0x196a6c(0x4b2)]=Array['from'](_0x52a93b[_0x196a6c(0xa6e)](_0x196a6c(0xaae)))[_0x196a6c(0x9a0)](_0x5cb08c=>_0x5cb08c[_0x196a6c(0x5d0)]);break;case'short_answer':_0x3b1389[_0x196a6c(0x1ef)]=_0x52a93b['querySelector'](_0x196a6c(0xc69))['value'];break;case _0x196a6c(0xf5):_0x3b1389['correctResponse']=_0x52a93b[_0x196a6c(0xb1b)](_0x196a6c(0x925))[_0x196a6c(0x5d0)];break;}_0x341856['innerHTML']=_0x196a6c(0xc8e),_0x341856[_0x196a6c(0x35d)]=!![];try{const _0x191279='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON[_0x196a6c(0x616)](_0x3b1389)+_0x196a6c(0x3c1),_0x4bc83e={'type':_0x196a6c(0x371),'properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'options':{'type':_0x196a6c(0x3ec),'items':{'type':'STRING'}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x196a6c(0xbff)}},'required':[_0x196a6c(0x72b)]}},'required':[_0x196a6c(0x97f)]},_0xab74c0=await callAnalysisApi(_0x191279,_0x4bc83e);if(_0xab74c0&&_0xab74c0[_0x196a6c(0x97f)]){const _0x4e06ba=_0xab74c0['fixedData'];_0x52a93b[_0x196a6c(0xb1b)]('textarea')[_0x196a6c(0x5d0)]=_0x4e06ba[_0x196a6c(0x72b)]||_0x3b1389[_0x196a6c(0x72b)];switch(_0x18b3e3){case _0x196a6c(0x51f):_0x4e06ba[_0x196a6c(0x4b2)]&&_0x4e06ba[_0x196a6c(0x4b2)][_0x196a6c(0x3ce)]>0x0&&_0x52a93b[_0x196a6c(0xa6e)](_0x196a6c(0xaae))[_0x196a6c(0x27f)]((_0x3a822a,_0x3a214b)=>{const _0x195e7c=_0x196a6c;_0x3a822a[_0x195e7c(0x5d0)]=_0x4e06ba[_0x195e7c(0x4b2)][_0x3a214b]||_0x3b1389[_0x195e7c(0x4b2)][_0x3a214b];});break;case _0x196a6c(0x573):_0x52a93b[_0x196a6c(0xb1b)](_0x196a6c(0xc69))['value']=_0x4e06ba[_0x196a6c(0x1ef)]||_0x3b1389[_0x196a6c(0x1ef)];break;case _0x196a6c(0xf5):_0x52a93b[_0x196a6c(0xb1b)]('.correct-response-input')[_0x196a6c(0x5d0)]=_0x4e06ba['correctResponse']||_0x3b1389[_0x196a6c(0xb42)];break;}if(_0x3b1389['question']!==_0x4e06ba[_0x196a6c(0x72b)])try{const _0xfcbdf8=collection(db,_0x196a6c(0x1f0)+appId+_0x196a6c(0x89f));await addDoc(_0xfcbdf8,{'broken':_0x3b1389[_0x196a6c(0x72b)],'fixed':_0x4e06ba[_0x196a6c(0x72b)],'createdAt':serverTimestamp()});}catch(_0x30e7ec){console['error'](_0x196a6c(0xb68),_0x30e7ec);}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x196a6c(0x8c0));}catch(_0x7340f4){console[_0x196a6c(0x48f)](_0x196a6c(0x5ae),_0x7340f4),showMessage(_0x196a6c(0xc27));}finally{_0x341856[_0x196a6c(0x30c)]=_0x196a6c(0x815),_0x341856[_0x196a6c(0x35d)]=![];}}async function handleGenerateLessonPlan(_0x251f6b){const _0x101e64=_0x587d0b;showMessage(_0x101e64(0x7ea));try{const _0xe2ad7=doc(db,'artifacts/'+appId+_0x101e64(0x92d),_0x251f6b),_0x36575b=await getDoc(_0xe2ad7);if(!_0x36575b[_0x101e64(0x2ef)]())throw new Error(_0x101e64(0x3a2));const _0x3de878={'id':_0x251f6b,..._0x36575b[_0x101e64(0xc12)]()},_0x408faf=collection(db,_0x101e64(0x1f0)+appId+_0x101e64(0x92d),_0x251f6b,'submissions'),_0x4ae189=await getDocs(_0x408faf),_0x5b82dd=_0x4ae189[_0x101e64(0xbb3)]['map'](_0x20b0c7=>_0x20b0c7[_0x101e64(0xc12)]());if(_0x5b82dd['length']===0x0)throw new Error(_0x101e64(0xa7d));const _0x253459=calculateItemAnalysis(_0x3de878,_0x5b82dd)['perQuestionStats'],_0x556b30=calculateDistractorAnalysis(_0x3de878,_0x5b82dd),_0x5e445c=_0x32b646=>{const _0x1ab3b5=_0x101e64;if(!_0x32b646)return'';return _0x32b646[_0x1ab3b5(0x1bf)](/\\/g,'\x5c\x5c')[_0x1ab3b5(0x1bf)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x485940=_0x101e64(0x239);_0x3de878[_0x101e64(0x66b)][_0x101e64(0x27f)]((_0x5367dd,_0x1340c1)=>{const _0x28dab6=_0x101e64,_0x86890b=_0x253459[_0x1340c1]?.['p'][_0x28dab6(0x5ef)](0x2)||_0x28dab6(0x454),_0x10a958=_0x253459[_0x1340c1]?.['r'][_0x28dab6(0x5ef)](0x2)||_0x28dab6(0x454),_0x1433a2=_0x5e445c(_0x5367dd[_0x28dab6(0xb89)]||_0x5367dd[_0x28dab6(0x2f0)]);_0x485940+=_0x28dab6(0xd2)+(_0x1340c1+0x1)+'\x20(p='+_0x86890b+_0x28dab6(0x61c)+_0x10a958+_0x28dab6(0x598)+_0x1433a2+'\x5cn';if(_0x5367dd[_0x28dab6(0x8af)]===_0x28dab6(0x51f)&&_0x556b30[_0x1340c1]){const _0x3dfe06=_0x556b30[_0x1340c1],_0x5897f4=Object[_0x28dab6(0x1c7)](_0x3dfe06)[_0x28dab6(0x35c)](_0x4ad1cd=>parseInt(_0x4ad1cd)!==_0x5367dd['correctAnswerIndex'])[_0x28dab6(0x34f)]((_0x3976f4,_0x126604)=>_0x3dfe06[_0x126604][_0x28dab6(0x82e)]-_0x3dfe06[_0x3976f4]['total'])[0x0];if(_0x5897f4&&_0x3dfe06[_0x5897f4][_0x28dab6(0x82e)]>0x0){const _0x552dc7=_0x5e445c(_0x3dfe06[_0x5897f4]['text']);_0x485940+=_0x28dab6(0x640)+_0x552dc7+_0x28dab6(0x4a4);}}});const _0x46112e=_0x101e64(0x2b6)+_0x3de878[_0x101e64(0x53e)]+_0x101e64(0x45e)+_0x485940+_0x101e64(0x437),_0x31c710={'type':_0x101e64(0x371),'properties':{'learningGaps':{'type':_0x101e64(0x3ec),'items':{'type':_0x101e64(0xbff)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x101e64(0x3ec),'items':{'type':_0x101e64(0x371),'properties':{'question':{'type':_0x101e64(0xbff)},'solution':{'type':_0x101e64(0xbff)}}}}},'required':[_0x101e64(0xc4f),_0x101e64(0x5c3),_0x101e64(0x6f6)]},_0x17f29a=await callAnalysisApi(_0x46112e,_0x31c710);await updateDoc(_0xe2ad7,{'lessonPlan':_0x17f29a});const _0x67456='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x3de878[_0x101e64(0x53e)]+_0x101e64(0xaf5)+_0x17f29a[_0x101e64(0xc4f)][_0x101e64(0x9a0)](_0x31f7b2=>'<li>'+_0x31f7b2+_0x101e64(0x7ef))[_0x101e64(0xd9)]('')+_0x101e64(0xac6)+_0x17f29a['teachingContent']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x17f29a[_0x101e64(0x6f6)][_0x101e64(0x9a0)](_0x1f3e1f=>_0x101e64(0x579)+_0x1f3e1f['question']+_0x101e64(0x541)+_0x1f3e1f[_0x101e64(0x2ce)]+'</p></div>')[_0x101e64(0xd9)]('')+_0x101e64(0xc21);document[_0x101e64(0x43c)]('lesson-plan-title')[_0x101e64(0xc0d)]=_0x101e64(0x5fd)+_0x3de878['topic'],document[_0x101e64(0x43c)](_0x101e64(0x5a3))[_0x101e64(0x30c)]=_0x67456,document[_0x101e64(0x43c)](_0x101e64(0x536))['classList'][_0x101e64(0xbf3)](_0x101e64(0x6e9));if(window[_0x101e64(0xaf8)])MathJax[_0x101e64(0x5ad)]();messageModal[_0x101e64(0x860)]['add'](_0x101e64(0x6e9));}catch(_0x5589a3){console[_0x101e64(0x48f)](_0x101e64(0x174),_0x5589a3),showMessage(_0x101e64(0xacb)+_0x5589a3[_0x101e64(0x2f6)]);}}async function handleDuplicateQuiz(_0x41cfdc){const _0x429afc=_0x587d0b;try{const _0x178e25=doc(db,'artifacts/'+appId+_0x429afc(0x92d),_0x41cfdc),_0x252682=await getDoc(_0x178e25);if(_0x252682[_0x429afc(0x2ef)]()){const _0x16e22e=_0x252682[_0x429afc(0xc12)]();let _0x5b7ec1='',_0x5464b7=_0x429afc(0xdd),_0x2c7a30=null;if(_0x16e22e[_0x429afc(0x48e)]===_0x429afc(0x9f4)){let _0x2f9ed5=_0x16e22e['topic'][_0x429afc(0x1bf)](_0x429afc(0x86b),'')[_0x429afc(0x8e7)]();_0x5b7ec1=_0x429afc(0xcc)+_0x2f9ed5,_0x5464b7=_0x429afc(0xb30),_0x2c7a30=_0x41cfdc;}else _0x5b7ec1=_0x429afc(0x18e)+_0x16e22e[_0x429afc(0x53e)];const _0x14daaf={..._0x16e22e,'topic':_0x5b7ec1,'createdAt':new Date()[_0x429afc(0x339)](),'quizMode':_0x5464b7,'pairedQuizId':_0x2c7a30};let _0x510927;while(!![]){_0x510927=Math[_0x429afc(0x4d7)](0x3e8+Math[_0x429afc(0x14d)]()*0x2328)['toString']();const _0xe71ada=await getDoc(doc(db,_0x429afc(0x1f0)+appId+_0x429afc(0x92d),_0x510927));if(!_0xe71ada[_0x429afc(0x2ef)]())break;}const _0x23e6e0=doc(db,_0x429afc(0x1f0)+appId+_0x429afc(0x92d),_0x510927);await setDoc(_0x23e6e0,_0x14daaf),_0x14daaf[_0x429afc(0x48e)]==='post-test'&&await updateDoc(_0x178e25,{'pairedQuizId':_0x510927}),showMessage(_0x429afc(0x1be));}else throw new Error(_0x429afc(0x62f));}catch(_0x389f02){console[_0x429afc(0x48f)]('Error\x20duplicating\x20quiz:',_0x389f02),showMessage(_0x429afc(0xc7d));}}async function handleDeleteQuiz(_0x23625d,_0x5d9c95=!![]){const _0x5a639d=_0x587d0b;try{const _0x235be0=writeBatch(db),_0x44ff4d=collection(db,'artifacts/'+appId+_0x5a639d(0x261)+_0x23625d+_0x5a639d(0xc46)),_0x49dd7f=await getDocs(_0x44ff4d);_0x49dd7f[_0x5a639d(0x27f)](_0x57457e=>{const _0xfc496=_0x5a639d;_0x235be0[_0xfc496(0x9d1)](doc(_0x44ff4d,_0x57457e['id']));});const _0x568199=doc(db,_0x5a639d(0x1f0)+appId+_0x5a639d(0x92d),_0x23625d);_0x235be0[_0x5a639d(0x9d1)](_0x568199),await _0x235be0['commit']();try{console[_0x5a639d(0x564)](_0x5a639d(0x646)+_0x23625d+_0x5a639d(0x212));const _0x17a211=collection(db,'artifacts/'+appId+_0x5a639d(0xb8c)),_0x405dd6=await getDocs(_0x17a211),_0x17c040=[];_0x405dd6['forEach'](_0x5ccc77=>{const _0x58eb86=_0x5a639d,_0x4c5ffa=_0x5ccc77['data'](),_0x640702=_0x4c5ffa[_0x58eb86(0x4a2)]||{};let _0x5c3600=![];for(const _0x2d4029 in _0x640702){const _0x256e7a=_0x640702[_0x2d4029];if(_0x256e7a[_0x58eb86(0x68a)]&&_0x256e7a['linkedQuizIds'][_0x58eb86(0x69d)](_0x23625d)){_0x5c3600=!![];const _0x1f3d90=doc(db,_0x58eb86(0x1f0)+appId+_0x58eb86(0xb8c),_0x5ccc77['id']),_0x1e4ddb=updateDoc(_0x1f3d90,{[_0x58eb86(0x9cb)+_0x2d4029+_0x58eb86(0x3a5)]:arrayRemove(_0x23625d)});_0x17c040[_0x58eb86(0x211)](_0x1e4ddb);}}}),_0x17c040[_0x5a639d(0x3ce)]>0x0&&(await Promise[_0x5a639d(0xafb)](_0x17c040),console[_0x5a639d(0x564)](_0x5a639d(0x4e7)+_0x17c040[_0x5a639d(0x3ce)]+'\x20link(s)\x20for\x20quiz\x20ID:\x20'+_0x23625d+'.'));}catch(_0x3a3f3e){console[_0x5a639d(0x48f)](_0x5a639d(0x816),_0x3a3f3e);}_0x5d9c95&&showMessage(_0x5a639d(0x9bf));}catch(_0x222c06){console[_0x5a639d(0x48f)](_0x5a639d(0x134),_0x222c06),_0x5d9c95&&showMessage(_0x5a639d(0x891));}}async function showQuizDetailView(_0x54bb31){const _0x1c19d5=_0x587d0b;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x1c19d5(0x18d));try{const _0x55c506=doc(db,_0x1c19d5(0x1f0)+appId+_0x1c19d5(0x92d),_0x54bb31),_0xd3b956=await getDoc(_0x55c506);if(!_0xd3b956[_0x1c19d5(0x2ef)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x580d2d={'id':_0xd3b956['id'],..._0xd3b956[_0x1c19d5(0xc12)]()};currentQuizData=_0x580d2d;const _0x29a8bc=doc(db,_0x1c19d5(0x1f0)+appId+'/public/data/projects',_0x580d2d[_0x1c19d5(0x2d6)]),_0x4871b6=await getDoc(_0x29a8bc);_0x4871b6['exists']()?(currentProjectData=_0x4871b6[_0x1c19d5(0xc12)](),currentProjectId=_0x580d2d['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x580d2d[_0x1c19d5(0x2d6)]);document[_0x1c19d5(0x43c)](_0x1c19d5(0x7ba))[_0x1c19d5(0xc0d)]=_0x580d2d[_0x1c19d5(0x53e)],document[_0x1c19d5(0x43c)]('results-quiz-id-display')[_0x1c19d5(0xc0d)]=_0x54bb31;const _0x4d9fc5=collection(db,_0x1c19d5(0x1f0)+appId+_0x1c19d5(0x92d),_0x54bb31,_0x1c19d5(0x392));unsubscribeSubmissionsListener=onSnapshot(_0x4d9fc5,_0x1d20ce=>{const _0x517f12=_0x1c19d5,_0x9867dd=_0x1d20ce['docs'][_0x517f12(0x9a0)](_0x1a586a=>({'id':_0x1a586a['id'],..._0x1a586a[_0x517f12(0xc12)]()}));currentSubmissions=_0x9867dd;const _0x532ad6=_0x9867dd[_0x517f12(0x35c)](_0x34eae0=>_0x34eae0['attempts']&&_0x34eae0[_0x517f12(0x55e)][_0x517f12(0x3ce)]>0x0);renderBehaviorLog(_0x9867dd),renderAnswerGrid(currentProjectData[_0x517f12(0xc49)],_0x532ad6,_0x580d2d),renderAnalytics(_0x580d2d,_0x532ad6),renderQuizResultsTable(currentProjectData[_0x517f12(0xc49)],_0x9867dd,_0x580d2d),renderQuizLeaderboard(_0x532ad6,_0x580d2d,_0x517f12(0x3ad));}),showView(_0x1c19d5(0x1a0));}catch(_0x5a0619){console[_0x1c19d5(0x48f)](_0x1c19d5(0x3e8),_0x5a0619),showMessage(_0x1c19d5(0x225));}}function _0x368d(){const _0x4a13ec=['grid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','application/pdf','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','topic-quiz-bank-modal','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','จำนวนและการดำเนินการ','กำลังดึงไฟล์อ้างอิงจากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','docs','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','export-excel-btn','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','การปัดเศษและประมาณค่า','newOptionsPayload','\x20รายการ\x20สำเร็จ!','moveTo','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','custom-math-topic-input','every','deltaY','BOOLEAN','เพิ่มปุ่มลัดใหม่','bp-topic-list-container','isScored','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ระบบเลขและค่าประจำหลัก','เพิ่มรายการที่เลือก','default','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','flex\x20flex-col\x20gap-2','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalQuestions','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-dashboard','.draggable-text','สู้ๆ\x20ลองอีกครั้งนะ','ค่าสัมบูรณ์','global-quiz-count','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','upperGroupResponders','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','shortcutId','/questionBank','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','isStarred','รูปหลายเหลี่ยมและมุมภายใน','\x20/\x20','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','player-count','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','manage','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<p\x20class=\x22font-bold\x20text-sm\x20','หน่วยเวลาและการคำนวณเวลา','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','team-student-list','$$$1$','null','eraser-tools-group','#confidence-input-','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','.verification-result','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','remove','num-choices','\x22.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','click','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คู่\x20','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','\x0a\x20\x20\x20\x20','lesson-view-modal','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','STRING','.pen-color-btn','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','...','files','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','บันทึกแบบทดสอบสำเร็จแล้ว!','border-green-300\x20bg-green-50','กำลังอ่านไฟล์อ้างอิง...','cos','indexOf','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','lesson-plan-title','parts','textContent','save-parallel-shortcut-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','s;\x22\x20title=\x22','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','data','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','text/html','confirm-quiz-settings-btn','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','.shortcut-tab-btn','bg-green-200','size','.topic-row','No\x20player\x20data\x20to\x20save.','Error\x20joining\x20team\x20quiz:','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','โจรสลัดอวกาศ','เนื้อหาสำหรับสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','getBBox','student-project-leaderboard-tab','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','Error\x20processing\x20file\x20for\x20AI:','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','highlighter-tool-btn','create-from-bank-btn','selectedTopicNames','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','highlighter-size-value','.kick-player-btn-sync','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','select','text-gray-300\x20hover:text-white','bg-green-200\x20text-green-800','name_desc','catch','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','fill','AI\x20did\x20not\x20return\x20any\x20content.','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','setFont','file-shortcut-container','.group\x5c/dropdown-file','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','```','generated','Error\x20fetching\x20lesson\x20content:','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','(ก่อนเรียน)\x20','rgba(255,\x20255,\x200,\x200.5)','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','/submissions','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','students','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','bg-red-500','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','อัปเดตสถานะสำเร็จ','learningGaps','ลบโปรเจคสำเร็จแล้ว','sin','Failed\x20to\x20generate\x20practice\x20test:','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำเตือน\x20(','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','</td>','createElementNS','load-quiz-btn','.admin-try-quiz-list-btn','.edit-question-btn','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','file-topics-list','COMEBACK_KING','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','.delete-submission-btn','</span></p>','Error\x20updating\x20quiz\x20status:','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','teacherSuggestions','ที่พิมพ์ได้\x20จำนวน\x20','topic_','Error\x20fetching\x20student\x20rankings:','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','.ideal-answer-input','.delete-custom-topic-btn','</span></td>','parallel-default-1','file-shortcut-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22question_single\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ความชันเส้นสัมผัส','export-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','totalPoints','question-analytics-container','flex','readAsDataURL','.delete-parallel-shortcut-btn','quiz-leaderboard-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','game-start-mode','Failed\x20to\x20get\x20hint:','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','\x22,\x20','timer-duration-label','Error\x20linking\x20quizzes:','ai-quiz-app-aefee','#math-topics-checkbox-container\x20input:checked','text-blue-800','.bp-live-btn','ownerSVGElement','อัปเดตการตั้งค่าของแบบทดสอบ\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','เกิดข้อผิดพลาดในการบันทึก','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','.question-editor-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','\x20mb-2\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','match','</div>','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','text-input-area','ไม่มี','.pen-size-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-quiz-id=\x22','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','เศรษฐีดูไบ','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','ai-quiz-app-aefee.firebasestorage.app','wheel','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-blueprint-as-project-btn','Error\x20generating\x20worksheet:','original-mode-checkbox','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','\x20แบบทดสอบลงในคลังสำเร็จ!','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','analytics-tab-btn','/lessons','file-shortcut-id-input','questionIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','screen_exit','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','.presentation-option','Error\x20updating\x20custom\x20topic:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','confirm-delete-btn','student-name-select','เน็ตช้า','baseVal','bg-black/20','save-bp-reference-btn','summary_chart','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','generate-from-parallel-test-btn','กรุณาใส่ชื่อนักเรียน','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','empty','</option>','เมทริกซ์:\x20บวก/คูณ','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','projectSort','countdown-display','\x22\x20data-target-tab-id=\x22','text-gray-400\x20hover:text-indigo-600','print','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','Copy\x20command\x20failed','timerDuration','generationConfig','adaptive-quiz-checkbox','.start-game-btn','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','คณิตการเงิน/บูรณาการ','leaderboard','comparison-individual-tab','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','ชนิดของข้อมูลและการเก็บข้อมูล','ไม่พบแบบทดสอบในระบบเลย','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','json','textarea[name=\x22question_single\x22]','เรขาคณิต','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','บักแตงโม','cancel-admin-login-btn','div','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','show_results_only','พีชคณิตและฟังก์ชัน','ตรวจพบการออกจากหน้าจอครบ\x20','.quiz-bank-delete-btn','student-view','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','view-my-progress-btn','.file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x22\x20name=\x22confidence','badges','timer-mode-select','table','Error\x20toggling\x20pin\x20status:','(หลังเรียน)\x20','close-lesson-view-btn','bank-tab','thead\x20.sortable-header','removeItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-\x20ข้อ\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','parallelShortcutOrder','แผนการสอน','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','.ai-content\x20td','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','join','presentation-short-answer-input','q-explanation-','กำลังสร้างแบบทดสอบ\x20\x22','standard','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','เกิดข้อผิดพลาดในการสร้าง:\x20','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','</tr>','rgba(239,\x2068,\x2068,\x200.9)','toLocaleString','main-correct-answer-display','student-reading-area','4603098rCRMBv','confirm-confident','ค่าความจริง/ตารางค่าความจริง','Error\x20analyzing\x20blueprint\x20topics:','\x22.\x20Ideal\x20Answer:\x20\x22','update-old-quizzes-btn','manage-tab-content','generated-quiz-container','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','pointer-events-none','รอเปิด','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','QUICK_THINKER','bulk-quiz-settings-btn','.start-presentation-list-btn','matching_item','admin-password-input','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดโปรเจค','manual-bp-project-name','จับคู่แบบทดสอบสำเร็จ!','bg-green-100','.move-file-shortcut-menu-btn','projectName','fas\x20fa-user-edit','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','ใช่\x20/\x20ถูก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x20ตัวเลือก.\x20','perseverance','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','รูปแบบการให้เหตุผล','checkbox','team','กิจกรรมสิ้นสุดลงแล้ว','ondragstart','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','Error\x20displaying\x20question\x20bank:','pointerType','\x20ใหม่...','number','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','สามเหลี่ยม\x20(ชนิด/สมบัติ)','removeAttribute','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','font-bold\x20text-green-700','answeredCurrentQuestion','_opt0\x22>ใช่</label></div>','</div>\x0a</div>\x0a','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','</td></tr>','.copy-quiz-id-list-btn','end-team-quiz-btn','leaderboard-table-body','.delete-parallel-shortcut-tab-btn','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','อัตราส่วนและสัดส่วน','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','.\x20แต่ละข้อมี\x20','bg-yellow-50','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ชุด)</span>','\x20(ID:\x20','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','.pointsLastQuestion','</div><div\x20class=\x22space-y-2\x22>','select[name=\x22question_single\x22]','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','ผู้เล่น\x20','bg-green-200\x20text-green-900','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.delete-file-shortcut-btn','Error\x20deleting\x20quiz:','บันทึกการตั้งค่าแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show-in-student-dashboard-checkbox','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','ไก่ฟ้าพญาลอ','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','.topic-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20adding\x20topic:','\x20ข้อ\x20','pointContent','shuffle','unshift','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','topic-input','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','generate-from-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','random','เส้นรอบรูป','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','export-lesson-to-pdf-btn','\x22><p\x20class=\x22font-semibold\x22>','ลบผลสอบของ\x20','confirm-bulk-quiz-settings-btn','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','เกิดข้อผิดพลาดในการลบนักเรียน','canvas','bank-quiz-list','dashboardConfig','start-quiz-btn','ป่าไม้','#E5E7EB','ยกเลิกการเชื่อมโยงสำเร็จ','นำแบบทดสอบออกจากคลังนี้แล้ว','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ออฟฟิศซินโดรม','fullscreenElement','touchstart','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','localeCompare','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','ปริพันธ์ไม่จำกัด','.ideal-answer-input,\x20.correct-response-input','back-to-student-home-btn','ตัวประกอบและตัวประกอบเฉพาะ','fixed','helvetica','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Error\x20submitting\x20team\x20answer:','Error\x20fetching\x20projects\x20for\x20move:','fullscreenchange','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','การแยกตัวประกอบ','Error\x20generating\x20lesson\x20plan:','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','1595190VfYqWD','พิมพ์ตอบ','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','#add-question-editor-btn','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','blob','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','justification','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','pen-tools-group','Failed\x20to\x20generate\x20lesson:','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','</h4>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','อยู่ในหัวข้อหลักใด:','เกิดข้อผิดพลาดในการแก้ไข','ฟังก์ชันพหุนาม','opacity-50','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','analytics','(คัดลอก)\x20','cancel-test-btn','_new','pointercancel','project-passcode-input','\x22\x20value=\x22','offset','[data-topic-container-id]','Error\x20confirming\x20players:','next-sync-question-btn','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','<svg','student-list','explanation','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','.live-answer-btn','Authentication\x20failed:','rows','quiz-results','.live-answer-btn,\x20#live-submit-short-answer-btn','confidence-mode-container','checked','.edit-hidden-file-shortcut-btn','\x20ชุด)','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','สร้างใหม่','Error\x20processing\x20file\x20shortcut\x20click:','Error\x20deleting\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','className','พื้นที่ผิวรูปทรงสามมิติ','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','order','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.score','selected-answer-index-hidden','ความคล้ายของรูป','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','จำนวนนักเรียน','link-input-area','loopUntilPass','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-topics-list','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','(ไม่มีชื่อ)','คัดลอกแบบทดสอบสำเร็จ','replace','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','(เลือกแล้ว\x20','</p></div>','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','กำลังอ่านไฟล์\x20Test\x20Blueprint...','%</span>','---\x20[คำถามใหม่]\x20---','keys','fromCharCode','decode','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','.auto-resize-textarea','.export-pdf-list-btn','Error\x20unpairing\x20quizzes:','-tab','fa-fire\x20text-orange-500','API\x20Error\x20Response:','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-scoring-checkbox','สัญกรณ์วิทยาศาสตร์','quiz-bank-modal','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','source_document.txt','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','```json','url','classic','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','ฮิสโตแกรม','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','ฐานนิยม','.use-hidden-file-shortcut-btn','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','ลำดับเลขคณิต\x20(AP)','.use-hidden-parallel-shortcut-btn','block','start-game-btn','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','td,\x20th','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','project-sort-select','/public/data/practiceBank','กำลังสร้างแบบทดสอบจากหัวข้อ...','idealAnswer','artifacts/','คุณแน่ใจว่าต้องการลบแท็บนี้?','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','quiz-type-select','blueprint-options-container','shortcut-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reveal_at_end','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','timer-duration-container','Error\x20calling\x20Gemini\x20API:','passcode-prompt-message','style','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','ไม่สามารถเพิ่มนักเรียนได้','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','ondragend','Error\x20verifying\x20answers\x20in\x20editor:','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','bp-modal-passing-score-input','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','link-tab','Error\x20rendering\x20student\x20progress:','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','จำนวนคู่:','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','Error\x20joining\x20activity:','bp-modal-difficulty-level-select','ท็อปฟอร์ม','push','\x20in\x20all\x20blueprint\x20projects.','projectView','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','practice-topic-btn','normal','</div></div>','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','lastIndexOf','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','badgesCount','\x20to\x20blueprint\x20topic\x20','เกิดข้อผิดพลาดในการลบ','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','.group\x5c/dropdown','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','quiz','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','\x20\x20\x20-\x20','transform','isPasscodeEnabled','lesson-loader','correct','live-race','additional-file-shortcuts-list','request','student-name-input','เทพทรู','Error\x20saving\x20shortcut\x20config:','Error\x20during\x20class\x20analysis:','สร้างชุดคำถามจับคู่','lowerGroupNames','\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','bg-[#DCFCE7]\x20text-green-900','.ai-content\x20p','สรุปผลการวิเคราะห์:\x5cn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<p\x20class=\x22text-2xl\x22>','lessonPlan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','กฎบวกและกฎคูณ','สิงโตยิ้ม','<span\x20title=\x22','quiz-leaderboard-table','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','cancel-bp-settings-btn','<option\x20value=\x22','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','change','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','start-presentation-btn','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','qType','manual-bp-content','เลือกโปรเจคเพื่อบันทึก','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','user-id-display','scheduled_pending','text-white','Error\x20saving\x20quiz:','leq','auto-fix-latex-btn','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','.delete-hidden-shortcut-btn','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','blur','cancel-parallel-shortcut-edit-btn','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','/public/data/quizzes/','Error\x20saving\x20visibility\x20settings:','ไฟล์ลัด\x202','slice','cancel-quiz-settings-btn','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','reviewQuestionIndex','text-red-700\x20bg-red-100','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-shortcut-id=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','responses','กำลังสร้างเนื้อหา:\x20','ไม่พบแบบทดสอบ','.summary-bar-item','raw','stroke','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','save-settings-btn','svg','student-quiz-leaderboard-content','แก้ไขข้อนี้','check-answer-btn','Firebase\x20initialization\x20failed:','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','forEach','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','บันทึกการตั้งค่าการแสดงผลสำเร็จ','blueprint-settings-modal','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','\x22>จาก:\x20','submission-status-chart','results-tab-content','classStrengths','quick_thinker','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','input[type=\x22radio\x22][value=\x22','isAnonymousRevealed','\x22\x20value=\x22true\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','#FFFFFF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สายหมอก','text-green-600\x20font-bold','.csv','ตอบถูกทุกข้อในแบบทดสอบนี้','กองดอง','groups.','behaviorLog','neq','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','curriculum','firstScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','nickname-input','timestamp','.delete-shortcut-tab-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upperGroupNames','.delete-student-btn','Error\x20deleting\x20custom\x20topic:','มุมพิเศษ\x2045°-45°-90°','ลิมิต','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','วงกลม:\x20คอร์ดและเส้นสัมผัส','\x20จาก\x20','comparison-overall-tab','back-from-results-btn','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','การเรียงสับเปลี่ยน\x20(Permutation)','ตรวจทานเฉลยเสร็จสิ้น!','Error\x20resetting\x20project\x20order:','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','ตรีโกณมิติ','.live-summary-tooltip.visible','Error\x20saving\x20parallel\x20shortcut:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','ยอดเยี่ยม!','<button\x20data-value=\x22','removeEventListener','ลบหัวข้อสำเร็จ','abs','team-quiz-topic','sync-short-answer-input',')\x22>','passingScore','.generate-post-test-btn','bg-teal-500\x20hover:bg-teal-600\x20text-white','Error\x20saving\x20lesson\x20to\x20project:','ราชาคัมแบ็ก','back-to-results-btn','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','open-global-live-btn','dfrac','_opt1\x22>ไม่ใช่</label></div>','cancel-quiz-status-btn','loader','generate-from-file-btn','separate-by-content-checkbox','bg-blue-100','solution','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','หยุดระบบจับเวลาหรี่หน้าจอ','Error\x20updating\x20quiz\x20settings:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','blueprint-input-area','projectId','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','</a>','highlighter-size-slider','.confidence-choice-btn','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20grading\x20failed:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','PERFECT_SCORE','back-to-dashboard-btn','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-create-project-btn','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','generate-from-text-btn','input[name=\x22drill_answer\x22]:checked','Invalid\x20response\x20structure\x20from\x20AI.','document','presentation-explanation','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','touchmove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>','หมีขั้วโลกใต้','exists','stem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','.lastAnswerCorrect','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<textarea\x20name=\x22question','message','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','responses.','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','.quiz-result-card','update','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','submittedAt','$1\x5c%','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','ai-quiz-app-aefee.firebaseapp.com','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความสัมพันธ์ของมุม','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','การวัด','.eraser-size-btn','gamePin','</tbody></table></div>','innerHTML','.quiz-settings-btn','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-mode-select','handleGenerateAndShowLesson','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','reference.txt','.pdf','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','tGain','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','analyze-strengths-btn','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','Error\x20saving\x20settings:','entries','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','per-question-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','targetId','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','pathname','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20verifying\x20answers:','มุมและการวัดมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','ตัวแทนแห่งดวงจันทร์','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','.ai-content\x20h3','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','ส่งแล้ว','ON_FIRE','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','Error\x20unlinking\x20quiz:','[data-topic-id=\x22','การนับ','tfrac','warn','mixed','toISOString','clientX','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','shuffledQuiz','topic-bank-list','getItem','confirm-passcode-btn','parallel-default-','title','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','editor-quiz-topic','focus','AI\x20Fix\x20Error:','correctAnswer','leaderboard-quiz','now','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','force-math-checkbox','answers','\x22\x20สำเร็จ!','eraser','sort','onerror','.project-card-container[data-id]','confirm-game-start-modal','ทฤษฎีบทพีทาโกรัสและการประยุกต์','student-project-leaderboard-table-body','includeImages','พิซซ่าหน้าทุเรียน','add-parallel-shortcut-btn','input[name=\x22status-option\x22]:checked','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','bg-green-100\x20font-bold','str','filter','disabled','toLowerCase','เกิดข้อผิดพลาดในการสร้างห้องเกม','mode','global-quiz-search-input','inactive','.linkedQuizId','option','players','ondblclick','sync-submit-btn','trail','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','per-q-countdown','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','admin-try-quiz-btn','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','OBJECT','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','back-to-student-initial-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','close-comparison-modal-btn','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','trail-tool-btn','เต่าสายฟ้า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','button[type=\x22submit\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-id-display','อนุพันธ์:\x20กฎพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระบบสมการเชิงเส้นสองตัวแปร','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','live-game-view','answering','sum','.remove-parallel-shortcut-from-tab-btn','circle','กรุณาเลือกชื่อของคุณ','overline','element','#FCE7F3','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณากรอกข้อมูลให้ครบทุกช่อง','.tab-name-input','Error\x20loading\x20quiz\x20for\x20student:','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','submissions','webkitRequestFullscreen','ฟังก์ชันค่าสัมบูรณ์','กลุ่มของคุณ','กำลังเตรียมไฟล์...','globalSettings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','blueprint-shortcut-container','กำลังกลับเข้าสู่เกม\x20','.star-quiz-btn','Failed\x20to\x20end\x20group\x20mode\x20game:','\x20quizzes\x20into\x20global\x20cache.','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','doughnut','parallel-shortcut_','ไม่พบข้อมูลแบบทดสอบ','modal-timer-duration-container','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','.linkedQuizIds','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กำลังสร้างแบบทดสอบ:\x20','answerValue','workerSrc','สำหรับโปรเจค:\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','quiz-leaderboard-table-body','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','ไม่พบแบบทดสอบสำหรับรหัสนี้','save-quiz-edits-btn','student-team-join','.edit-hidden-parallel-shortcut-btn','Error\x20loading\x20user\x20preferences:','file-input-area','target','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','สถิติและความน่าจะเป็น','after','Error\x20saving\x20reference\x20URL:','การจัดกลุ่มข้อมูล','export-worksheet-pdf-btn','ย้ายแบบทดสอบสำเร็จ','แบบทดสอบจากคลังส่วนตัว','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ก่อนเรียน','file-tab','team-player-status-grid','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.question-editor-item:last-of-type','originalTopic','ไอรอนแมน','parallel-test-upload-input','Attempting\x20to\x20save\x20game\x20results...','<option>กำลังโหลดโปรเจค...</option>','length','กรุณาเลือกโปรเจคที่ต้องการบันทึก','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22','sync','วงกลม:\x20สมการและสมบัติ','.answered','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','loop-until-pass-checkbox','คะแนนเต็ม','answered','next-question-timed-btn','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','/public/data/syncGames','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','บันทึกผลการเล่นเกมของ\x20','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','closest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','add-file-shortcut-btn','สลับไปโหมดผู้ควบคุม','Error\x20showing\x20quiz\x20detail\x20view:','isRemedial','translate(','studentName','ARRAY','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','.highlighter-color-btn','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','admin-view','underline','ชีสเค้ก','leaderboard-quiz-tab-content','(คู่ขนาน)\x20','text-gray-500','top','\x20\x0a\x20\x20\x20\x20','scratchpad-question','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','การหาร','ตัวเลือก\x20ง','confirm-quiz-status-btn','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','open-quiz-bank-btn','shadowBlur','startTime','blueprintShortcuts','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','category','project-dashboard-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','move-quiz-modal','get','body','summaryContent','input[type=\x22checkbox\x22]:checked','bg-[#4ADE80]\x20text-green-900\x20font-bold','ชื่อหัวข้อห้ามว่าง','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กราฟแท่ง\x20กราฟเส้น','live-short-answer-input','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','pop','อสมการเชิงเส้น','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','open-sync-scratchpad-btn','strokeStyle','eraser-tool-btn','No\x20unanswered\x20players\x20found\x20on\x20this\x20device.\x20Waiting\x20for\x20re-render.','comeback_king','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','preventDefault','.delete-question-editor-btn','<div\x20class=\x22p-2\x20rounded-md\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22sort-indicator\x20ml-2\x22>','ดูผลสรุปสุดท้าย','เริ่มกิจกรรม:\x20','.ai-content\x20li','นินจาชาเขียว','พื้นที่สามเหลี่ยม','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','disabled\x20bg-gray-400\x20cursor-not-allowed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','frac','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','Unexpected\x20API\x20response\x20structure:','next-drill-btn','pre-test-checkbox','</div></div></div>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manual_release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','การลบเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','getElementById','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','bg-yellow-200','lesson-sections-container','textarea','topicId','ผู้ไม่ยอมแพ้','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','text-emerald-900','fill_in_the_blank','.bp-delete-topic-btn','SAFETY','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','</span><span\x20class=\x22font-bold\x22>','application','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','topic-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','N/A','</label></div>','ไม่พบไฟล์\x20Test\x20Blueprint','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','subTopic','questionStatus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','Error\x20generating\x20from\x20parallel\x20test\x20file:','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input','ส่งคำตอบ','confidence-scoring-description','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mx-1\x20text-lg\x22></i></span>','bp-modal-include-images-checkbox','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','behavior-log-tab-btn','export-word-btn','cancel-file-shortcut-edit-btn','onblur','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','pointerup','commit','quiz-form','timerMode','postScore','answerText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','sync-player-list','generate-from-blueprint-btn','timer-container','activeGameSession','.quiz-bank-parallel-btn','แก้ไขหัวข้อสำเร็จ','close-topic-bank-btn','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','appendChild','<p>','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','user','presentation-scratchpad-btn','.bp-unlink-quiz-btn','mean','bank-input-area','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','เกิดข้อผิดพลาดในการเปลี่ยนสี','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','<li\x20class=\x22','ref','passcode-error-msg','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','กรุณาเลือกสถานะ','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','quizMode','error','อยู่ในสาระการเรียนรู้ใด:','\x22\x20ออกจากคลังนี้?','confirm-team-players-btn','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','cancel-rename-quiz-btn','beginPath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','comparison','open','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.move-parallel-shortcut-menu-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','<tr\x20class=\x22','student-quiz-area','แก้ไขสูตรคณิตศาสตร์\x20','topics','ช่างภาพ','\x22\x5cn','student-name-selection-view','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','ยังไม่ส่ง','cancel-global-activity-btn','student-join-game-view','กรุณาใส่ชื่อใหม่','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','Error\x20clearing\x20linked\x20quiz:','shortcutTabs','cancel-shortcut-edit-btn','#file-shortcut-tabs-nav\x20.tab-name-input','sara','options','modal-passing-score-input','\x20mr-2\x22></i>','ความเท่ากันทุกประการของสามเหลี่ยม','lineJoin','ยกเลิกการจับคู่สำเร็จ','classWeaknesses','กฎของไซน์','bp-modal-quiz-type-select','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','groups','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','API\x20call\x20failed','การแจกแจงทวินาม\x20(พื้นฐาน)','ondragover','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','project-title','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ตะวันฉาย','อินเวอร์สของเมทริกซ์','ปล่อยพลัง','หมดเวลา!\x20กำลังส่งคำตอบ...','.open-bp-project-btn','confidence','<p><strong>คำตอบที่แนะนำ:</strong>\x20','file-topic-input','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','preTestId','MathJax\x20re-render\x20failed:','Failed\x20to\x20resume\x20game\x20session:','ไม่สามารถโหลดข้อมูลอันดับได้','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','group','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','floor','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','bg-green-50','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','ไม่สามารถโหลดรายการโปรเจคได้','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','.topic-name-input','pointsLastQuestion','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','ฟังก์ชันสัมพัทธ์\x20(rational)','ท้องฟ้า','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x20รายการ...','Successfully\x20removed\x20','parent','kick-player-btn','bg-red-500\x20text-white\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','candidates','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','allResponses','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','isNormalTopic','โดเมนและเรนจ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.move-shortcut-menu-btn','bp-quiz-settings-btn','join-live-game-btn','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-view-analysis-btn','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-generation-area','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','มัธยฐาน','quiz-editor-questions-container','เกิดข้อผิดพลาดในการนำผู้เล่นออก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hint','back-to-dashboard-from-bp-btn','เกิดข้อผิดพลาดในการเข้าร่วมเกม','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.shortcut-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x5cneq','text-red-900','ตรวจคะแนนใหม่\x20','download','.quiz-bank-settings-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','values','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','gain','live-game','restore','Error\x20renaming\x20quiz:','file-upload-input','project-detail-view','not_generated','globalCompositeOperation','shortcut-tabs-nav','multiple_choice','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','border-indigo-500\x20text-indigo-600','text-green-800','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','ต้นฉบับ\x202','blueprint-tab','currentTarget','text-blue-700','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','true','confidence-scoring-toggle','active','NUMBER','earned-badges-container','รายการนี้','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','reveal-answer-btn','multiply','cancel-team-selection-btn','not-found','global-activity-quiz-list','lesson-plan-modal','/preferences/main','bg-black/10','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','parallelShortcutTabs','กรุณาเลือกโปรเจคก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','topic','height','cdot','</p><p><strong>เฉลย:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dim-overlay','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20-\x20คำตอบ:\x20','ดอกเบี้ยทบต้น','พบ\x20Team\x20Quiz!','<i\x20class=\x22fas\x20fa-pen\x22></i>','#student-project-leaderboard-content\x20thead','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีคำอธิบาย','ไฟล์ทั้งหมด','additional-file-shortcuts-modal','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','เสือซ่อนเล็บ','เพื่อนสนิท','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','.color-palette-popup','.submittedAt','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','Failed\x20to\x20kick\x20player\x20','substr','.png','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','attempts','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','.delete-bp-project-btn','บทเรียนเรื่อง:\x20','border-gray-200','log','duration-300','confirm-join-game-btn','description','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','909CDpTfS','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','Failed\x20to\x20get\x20standardized\x20topic:','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','กำลังดึงข้อมูลจากลิงก์...','project-quizzes-list','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-lesson-plan-modal-footer-btn','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','short_answer','\x22\x20name=\x22team_answer\x22\x20value=\x22','asc','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','แคลคูลัสเบื้องต้น',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','transition-all','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','.regenerate-question-editor-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','half_mark_status','.space-y-1.pl-4','parseInline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','หนอนหนังสือ','numChoices','#parallel-shortcut-tabs-nav\x20.tab-name-input','padStart','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','text-indigo-600','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','คนคุย','ค.ร.น.\x20(LCM)','grid-view-btn','นักประดิษฐ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','shortcuts-loading-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','ไม่ใช่\x20/\x20ผิด','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','):\x20','NEGATIVE_INFINITY','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-num-choices','scratchpad-clear-btn','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','แบบทดสอบนี้หมดเวลาแล้ว','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','additional-parallel-shortcuts-modal','lesson-plan-content','#FEF3C7','Error\x20listening\x20for\x20projects:','.edit-custom-topic-btn','ฟังก์ชันผกผัน','เน็ตไอดอล','join-group-activity-btn','สเกลและแผนที่','ทฤษฎีบทพื้นฐานของแคลคูลัส','modal-message','typesetPromise','AI\x20Formula\x20Fix\x20Error:','arrayBuffer','การคูณเศษส่วน','กรุณาพิมพ์คำตอบของกลุ่ม','จับคู่เพื่อเปรียบเทียบผล','Error\x20clearing\x20all\x20links:','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','latestSubmittedAt','innerText','ไม่พบโปรเจค','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','parallel-shortcuts-loading-msg','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','ฟังก์ชันลอการิทึม','default-','fa-user-astronaut\x20text-blue-700','num-questions','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','_blank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectOrder','teachingContent','CEOพันล้าน','stepByStepExamples','ไอติมทอด','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchcancel','Error\x20updating\x20old\x20quizzes:','กรุณาเลือกคำตอบก่อนครับ','จิงโจ้สโลว์ไลฟ์','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','execCommand','value','mouse','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','file.pdf','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','กำลังเตรียมไฟล์อ้างอิง...','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','text/csv;charset=utf-8;','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบโปรเจคที่ต้องการลบ','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','จุด\x20เส้น\x20ระนาบ','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','bg-blue-100\x20text-blue-800','text-red-800','border-green-700','addEventListener','password-error-msg','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.status','อัปเดตพฤติกรรมสำหรับ\x20','result','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','กลุ่ม:\x20','none','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','scores-tab-btn','toFixed','fas\x20fa-star\x20text-yellow-500','num-choices-container','.answers','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','อัศวินรัตติกาล','referenceUrl','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการส่งคำตอบ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','Error\x20generating\x20teaching\x20content:','สมการตรีโกณมิติ','show_results_and_answers','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','แผนการสอน:\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','bg-gray-50','สร้างคำถามแบบใช่/ไม่ใช่','\x20from\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','project-name-input','แท็บใหม่','Error\x20starting\x20group\x20quiz:','cancel-move-quiz-btn','/users/','copy','game-start-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','slide-counter','ค่าคลาดเคลื่อนของการวัด','commonMistakes','.lastAnswerIndex','getContext','แปลงร่าง','สมมาตร\x20(แกน/จุด)','destination-out','modal-shuffle-select','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','stringify','เกิดข้อผิดพลาด','/public/data/liveGames','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','teacherTips','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>',',\x20r=','fas\x20fa-bookmark','add','scores','shuffle-setting-select','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','visible','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','shortcut-name-input','release','parallel-shortcut-url-input','นักเขียน','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','strength-weakness-analysis-container','.bp-game-btn','live-player-management','isFinished','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','กรุณาตั้งชื่อแท็บใหม่:','Original\x20quiz\x20not\x20found','submit','<br>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','confidence-mode-select','both','Error\x20updating\x20project\x20color:','สายลับจับบ้านเล็ก','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','isPinned','subTopics','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','.duplicate-quiz-btn','</p><div>','<button\x20data-tab-id=\x22','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','แก้ระบบสมการด้วยเมทริกซ์','write','ไม่ผ่าน','ดีเทอร์มิแนนต์','00:00','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','\x22><i\x20class=\x22fas\x20','เส้นจำนวน','ondrop','ทำคะแนนเต็มในการทำครั้งแรก','#open-additional-parallel-shortcuts-btn','แบบทดสอบฝึกฝนเรื่อง:\x20','/public/data/blueprintProjects/','shouldSaveResults','move-quiz-project-select','shortcuts','โหลดนาน','ผิด','close','bottom','/public/data/teamQuizzes','ยืนยันการกระทำ','ไม่พบข้อมูลหัวข้อที่จะบันทึก','status','นักกีฬา','สร้างคำถามแบบเติมคำในช่องว่าง','คะแนนเฉลี่ย','.topic-actions-edit','/public/data/customMathTopics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','ติดซีรีส์','insertAdjacentHTML','schedule','#DBEAFE','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','ดาบพิฆาตอสูร','\x5cfrac{$1}{$2}','เพิ่มปุ่มลัดจากไฟล์ใหม่','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','comparison-modal','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','questions','ceil','false','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','global-activity-modal','pointermove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','Error\x20saving\x20quiz\x20edits:','\x22><span>','student-progress-content','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','<div\x20class=\x22mb-3\x20topic-category\x22>','gradeLevel','input[type=\x22checkbox\x22]','กรุณาสร้างบทเรียนก่อน','Test\x20Blueprint','verify-answers-editor-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','reference_onet.pdf','บทเรียน','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20ข้อ...','name','/public/data/projects','blueprint-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','show_pass_fail_only','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','linkedQuizIds','มังกรกินจุ','การแปลงรูปอัตลักษณ์','isDefault','quiz-id-input','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','2-digit','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','[data-field=\x22subTopic\x22]','rgba(59,\x20130,\x20246,\x200.7)','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','promptFeedback','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','show-final-results-btn','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','includes','rename-quiz-input','points','_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','href','difficultyValue','\x5cdiv','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','ตัวเลือก\x20ข','undefined','การจัดหมู่\x20(Combination)','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','perfect_score_status','jspdf','สอบปกติ','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน่วยมวล/น้ำหนักและการแปลง','scratchpad-header','.file-shortcut-btn[data-id=\x22','wasConfident','shortcut-reference-url-input','Error\x20creating\x20project:','getBoundingClientRect','จำนวนข้อ:','คะแนนเต็ม!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>',':</span><span>','game-pin-input','shortcut_','fadeStartTime','bg-red-100','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','confirmation-modal','สอบซ่อม','การบวกทศนิยม','<span\x20class=\x22font-bold\x20','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','answer-grid-container','\x22\x20จำนวน\x20','การคูณ','draggable-text','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','editable-text-','previousElementSibling','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','.move-parallel-shortcut-item','toString','mainTopics','</button>','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','show-results-btn','bg-red-50','.group\x5c/dropdown-parallel','prev-question-btn','newCorrectIndex','จำนวนคละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','rgba(16,\x20185,\x20129,\x200.7)','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','offsetWidth','mouseup','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20updating\x20project\x20name:','bg-red-100\x20text-red-800','comparison-overall-content','tabId','drill-feedback','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20committing\x20score\x20updates:','(^|[^\x5c\x5c])\x5cb','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','additional-shortcuts-list','manage-players-btn','hidden','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','นักเดินทาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','ธอร์ค้อนบิน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','file-shortcut-editor-modal','clientY','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','shortcutIds','แบบทดสอบ:\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','practiceProblems','เงาปริศนา','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','ผู้พิชิตดาว','\x20pointer-events-none\x22>','reference-pdf-upload','submission','cancel-passcode-btn','icon','\x20กลุ่ม</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-200\x20text-gray-700','/studentProfiles','data:application/vnd.ms-word;charset=utf-8,','\x22\x20name=\x22question','overallGroups','incorrect','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clear-all-links-btn','5168975UFLInp','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','quiz-editor-modal','แม่น้ำ','.save-custom-topic-btn','.delete-svg-btn','save-file-shortcut-btn','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','end-game-btn','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','btn','49000YggKYy','startsWith','stdDev','student-quiz-topic','isLooping','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','.doc','admin','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','การบวก',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','live-player-list','border-red-300\x20bg-red-50','index','perQuestionStats','ตัวแปรและนิพจน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ดาวTikTok','คณิตศาสตร์','question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','.parallel-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','bp-add-topic-btn','settings','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','FileReader\x20error:','undo-btn','Error\x20saving\x20project\x20order:','file-default-2','text-gray-100','แบตหมด','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','confirm-manual-bp-btn','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','textarea[name=\x22team_answer\x22]','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แก้ไขปุ่มลัดจากไฟล์','mode-switcher-btn','ทฤษฎีทวินาม\x20(เบื้องต้น)','ปุ่มลัดทั้งหมด','student-quiz-leaderboard-tab','submit-team-answer-btn','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','move','toggle','date_desc','ต้นฉบับทั้งหมด','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','\x20ตอบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','ย้าย','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','worksheet-tab','กราฟฟังก์ชันตรีโกณ','ฮัลค์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','left','bp-reference-file-url','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','touches','dimmed','file.txt','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','blueprint.pdf','</body></html>','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','100px','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','hover:bg-indigo-100','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','ร้อยละพื้นฐาน','finishReason','ไม่มีผู้ตอบตัวเลือกนี้','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','enable-passcode-checkbox','add-from-global-bank-btn','cancel-quiz-edits-btn','test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','scrollIntoView','manual-blueprint-modal','per_question','lastAnswerIndex','Error\x20saving\x20file\x20shortcut:','sqrt','input[name=\x22syncVariant\x22][value=\x22classic\x22]','far\x20fa-star','progress-project-select','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','save-visibility-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','ดวงดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','text-indigo-800','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','modal-confidence-scoring-checkbox','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-quiz-btn','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','link-url-input','txt','save-project-name-btn','scratchpad-close-btn','cancel-quiz-bank-btn','\x5ctimes','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','Error\x20starting\x20live\x20race:','include-images-checkbox','reveal-names-btn','.live-answer-btn,\x20#sync-submit-btn','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','summary','selected-topics-count','manual-bp-grade-level','ใช่','.ai-fix-question-btn','max','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20data-name=\x22','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-try-btn','\x22>ไม่ใช่</p>','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','เกิดข้อผิดพลาดในการปักหมุด','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numQuestions','message-modal','\x20คะแนน\x20','dispatchEvent','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','\x20สำเร็จ','Error\x20starting\x20team\x20quiz:','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','<option\x20value=\x22\x22>กำลังโหลด...</option>','คำอธิบาย...','starred','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.delete-hidden-parallel-shortcut-btn','Error\x20deleting\x20submission:','???','POST','drop','results-quiz-title','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','.generate-easy-version-btn','blueprint-project-manager-view','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fill_in_no_choices','คำถามถัดไป','onload','score','ฟังก์ชันราก\x20(root)','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','createdAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','handleGenerateQuizFromBlueprintTopic','comparison-individual-content','.file-shortcut-tab-btn','separate-by-content-from-file-checkbox','blockReason','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','1069304AStETK','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','.shortcut-list-item:not(.opacity-50)','width','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','admin-testing','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','scratchpad-modal','modal-timer-duration-input','blueprintUrl','ไฟล์ลัด\x201','ระยะเวลา\x20(วินาที):','\x5cge','createElement','แก้ไขชื่อหัวข้อย่อย:','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','รีเซ็ตลำดับโปรเจคแล้ว','.tab-name-display','กรุณาเลือกโปรเจคปลายทาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาพิมพ์คำตอบ','Error\x20deleting\x20all\x20students:','.start-live-race-btn','delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','close-additional-parallel-shortcuts-btn','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','confidenceMode','การลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</li>','project-search-input','mousedown','bulk-confidence-scoring-checkbox','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','หลังเรียน','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fileShortcutOrder','bg-green-400\x20text-white\x20font-bold','เลือกและบันทึก','การหารเศษส่วน','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','student-quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','smooth','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','\x20คะแนน</span></div>','.mb-6.p-4','min','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','<p\x20class=\x22text-xl\x22>','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','.parallel-shortcut-btn','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','</th>','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','reduce','Error\x20in\x20handleApiCall:','uid','#6366F1','คู่จิ้น','file-shortcut-tabs-nav','isConfidenceScoringEnabled','<i\x20class=\x22fas\x20fa-magic\x22></i>','Error\x20during\x20blueprint\x20link\x20cleanup:','setItem','cloneNode','save','การหารทศนิยม','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','setTransform','ข้อ\x20','.ai-content\x20blockquote','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','px,\x20','student-initial-view','blueprint-projects-modal','\x22\x20class=\x22pin-project-btn\x20','hasPerfectScoreBonus','4lzIWmZ','สถานะไม่ชัดเจน','กรุณาเลือกไฟล์ก่อน','correctAnswerIndex','.move-file-shortcut-item','เงินงวด\x20(อนุกรมเงินงวด)','เส้นตรง:\x20รูปแบบสมการ','\x5ccdot','.edit-quiz-btn','total','dataset','\x27\x20ในหัวข้อ\x20\x27','answer','confirm-move-quiz-btn','\x20ตัวเลือก)','https://corsproxy.io/?','right','Error\x20editing\x20topic:','scores-tab-content','Error\x20saving\x20parallel\x20shortcut\x20config:','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','Error\x20in\x20generating\x20from\x20files:','confident','temp-loader-text-results','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','math-topics-checkbox-container','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','memoryContent','student-passcode-input','webkitExitFullscreen','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','interesting-stats-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','presentation-modal','add-shortcut-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-submit-short-answer-btn','answer-counter','#ffffff','Error\x20during\x20deep\x20delete:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','shuffleSetting','Blueprint\x20O-NET\x20ป.6','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','จำนวนเต็มบวก','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','การคูณทศนิยม','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','</p>','หัวข้อที่สร้างเอง','results-table-container','.question-editor-item[data-q-index=\x22','timer-duration-input','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classList','fa-bolt\x20text-blue-500','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','memory','redo-btn','.topic-name-display','type','ปริมาตรรูปทรงสามมิติ','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','thead','Error\x20starting\x20sync\x20game:','(ก่อนเรียน)','student-team-selection-view','quizType','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','blueprint-project-list','ฟังก์ชันยกกำลัง','confirm-link-quiz-btn','Error\x20updating\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','closePath','ความแปรปรวน','.toggle-actions-btn','line-through\x20text-red-700','players.','สาระที่\x201','list-view-btn','timed','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','การยืนยันตัวตนล้มเหลว','แผนภาพกล่อง\x20(box\x20plot)','manage-tab','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','.shortcut-list-item','Error\x20saving\x20game\x20results:','pairedQuizId','open-blueprint-projects-btn','leaderboard_','pen-tool-btn','file-shortcut-name-input','คะแนนยังไม่ถึงครึ่ง','add-student-btn','applicationHTML','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter','เกิดข้อผิดพลาดในการลบแบบทดสอบ','exitFullscreen','applicationContent','.move-quiz-btn','label[for=\x22num-questions\x22]','project-list','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20toggling\x20star\x20status:','additional-parallel-shortcuts-list','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','Error\x20starting\x20game:','getScreenCTM','1:274192258111:web:4120c9118229b5644dd48a','/public/data/learnedFixes','shortcutOrder','student-result-area','createObjectURL','q-image-container-','ระยะจากจุดถึงเส้นตรง','first_try_ace','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','<li>','\x22\x20data-topic=\x22','confirm-rename-quiz-btn','export-leaderboard-excel-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','#FEE2E2','presentation-ai-result','questionType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','originalQuestionText','isArray','dragover','toDate','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-question-complexity-select','passcode-input-container','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22team_player\x22]:checked','<p\x20class=\x22','starred-project','qIndex','\x20ชุดสำเร็จ!','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','AI\x20ไม่สามารถประมวลผลข้อมูลได้','Error\x20saving\x20manual\x20blueprint\x20project:','กุ้งเต้นแร้งกา','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','whole_quiz','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','.bp-create-topic-quiz-btn','บันทึกการตั้งค่าสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','devicePixelRatio','หน่วยความยาวและการแปลง','.quiz-bank-item','_opt0\x22\x20name=\x22question','th-TH','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x5cle','<div><input\x20type=\x22radio\x22\x20id=\x22q','API\x20call\x20failed\x20with\x20status:\x20','parallel-shortcut-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','แบบทดสอบซ่อมเสริม','326265jkTNKa','live-options-container','.remove-shortcut-from-tab-btn','<div\x20id=\x22q-image-container-','.answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.remove-file-shortcut-from-tab-btn','student','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','แฟนทิพย์','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','perfect_score','pow','$1\x20\x5cfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','trim','#open-additional-file-shortcuts-btn','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','export-leaderboard-image-btn','bg-green-500\x20hover:bg-green-600\x20text-white','สมการเชิงเส้นตัวแปรเดียว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','กัปตัน','กรุณาเลือกคำตอบของกลุ่ม','quiz-status-modal','bulk-quiz-settings-modal','setAttributeNS','pinnedProjects','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','sync-player-management','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','mandatory','Blueprint\x202','lastAnswerCorrect','text/plain','ไม่สามารถโหลดคลังข้อสอบได้','<div\x20class=\x22flex-1\x22></div>','<i\x20class=\x22fas\x20fa-save\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','insertBefore','endsWith','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Failed\x20to\x20create/update\x20submission\x20record:','true_false','splice','application/json','rgba(79,\x2070,\x20229,\x200.8)','overflowY','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','save-game-results-checkbox','msRequestFullscreen','ปิดใช้งาน','parallel-shortcut-container','การบวกเศษส่วน','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','แมวเก้าชีวิต','bg-gray-500','Error\x20saving\x20file\x20shortcut\x20config:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','ไม่พบตารางสำหรับ\x20Export','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','#student-quiz-leaderboard-content\x20thead','passcode','promise','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x22','wakeLock','ไม่พบข้อมูลเกม','</h3>','\x20(\x22','modal-adaptive-quiz-checkbox','.correct-response-input','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จากเนื้อหาต่อไปนี้:\x20\x22','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','.project-card-container.opacity-50','start-sync-game-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','contentEditable','/public/data/quizzes','lowerGroupResponders','Group\x20Mode','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lesson-loader-text','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','ศูนย์','Error\x20generating\x20hybrid\x20quiz:','ม้าดีดกะโหลก','auto','<div\x20class=\x22space-y-4\x22>','อินฟลูเอนเซอร์','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','ความต่อเนื่อง','touchend','-options\x22>','standardTopic','ไม่พบเอกสารการส่งงานของ\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','กรุณาป้อนหัวข้อสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','anonymous','หัวข้อหลักใหม่','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยูทูปเบอร์ฝึกหัด','เกิดข้อผิดพลาดในการบันทึกโปรเจค','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','แบบปรนัย\x204\x20ตัวเลือก','เซียนสมองไว','คนโสด','การลบทศนิยม','name_asc','บันทึกโปรเจค\x20\x22','ข้าวมันไก่พิเศษ','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','ระยะเวลา\x20(นาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','confirm-game-start-btn','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','.bp-create-content-quiz-btn','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','bg-blue-500\x20hover:bg-blue-600\x20text-white','round','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','set','getTextContent','visibilitychange','มูเตลู','student-project-leaderboard-content','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','responseSchema','ตัวเลือก\x20ก','.project-card-container','เวกเตอร์และเมทริกซ์\x20(เสริม)','tool','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','onchange','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่ใช่','modal-results-display-select','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','goto-next-question-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','\x20ครั้ง)</span></td>','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','beforeend','fixedData','pin','show-leaderboard-btn','การประยุกต์เวกเตอร์พื้นฐาน','topic-input-area','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','input[name=\x22syncVariant\x22]:checked','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-quiz-edits-btn-footer','.verification-result-editor','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.file-topic-selection-btn','create-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','center','.topic-actions-view','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','GlobalWorkerOptions','.scratchpad-content-wrapper','comparison-chart','ความเป็นอิสระของเหตุการณ์','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','ไม่พบข้อมูลผู้ใช้','ผ่าน','คาถาแยกเงาพันร่าง','</span>','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','Blueprint\x201','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','text-red-600','bg-green-500','map','bestScore','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','difficulty-level-select','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','confidence-input-','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ทำคะแนนได้เกินครึ่ง','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','display','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','.move-parallel-shortcut-dropdown','ดอกเบี้ยอย่างง่าย','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</select>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','point','file-shortcut-url-input','findIndex','fileShortcutsConfig','ลบแบบทดสอบสำเร็จแล้ว','stopPropagation','\x22...','link-topic-input','อนุพันธ์:\x20ผลคูณ/ผลหาร','editable-quiz-topic','parallelTestShortcutsConfig','text-gray-200','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','globalAlpha','Error\x20saving\x20submission:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topics.','ศิลปิน','preScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','has','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','delete','retake-quiz-loop-btn','ไม่พบข้อมูลข้อสอบหลังเรียน','สายตาสั้น','</strong></p>','upper_group_count','behavior-log-tab-content','ปลาทูคะนอง','tan','สร้างแล้ว','จอมเวทย์ขนมหวาน','minHeight','ดอทโปรดักต์\x20(dot)','เกิดข้อผิดพลาดในการติดดาว','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','leaderboard-quiz-tab-btn','keydown','file-topics-list-container','Error\x20generating\x20from\x20link:','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','finished','ไม่พบข้อมูลโปรเจค','5740315dQXcpc','documentElement','Invalid\x20response\x20structure\x20from\x20API.','confirm-admin-login-btn','generate-from-link-btn','color','lineCap','submit-group-answer-btn','pre-test','ถูกต้อง!','<div>','เรเดียนและการแปลงหน่วย','split','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mousemove','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','temp-loader-results','reset-project-order-btn','touch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','div[data-question-index=\x22','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','matching','API\x20Error\x20Body:','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','viewBox','px)\x20scale(','questionId','gameData','จากไฟล์ที่แนบมานี้,\x20','suggestedAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','loader-text','bg-[#EF4444]\x20text-white\x20font-bold','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','gameVariant','save-bp-settings-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','members','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','transformOrigin','input[type=\x22radio\x22]:checked','text','.generate-content-btn','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x20(สำหรับ\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','pen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','เรขาคณิตวิเคราะห์','นักล่าฝัน','additional-shortcuts-modal','source-over','dataIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','pointerdown','nextElementSibling','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','requestFullscreen','image/png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Remedial\x20quiz\x20generation\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','lobby','เปิดใช้งาน','isCorrect','generated-quiz-actions','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','เลือกและเริ่มสร้าง','getDocument','find','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-indigo-700','newOptions','Error\x20joining\x20live\x20game:','Auto-linking\x20new\x20quiz\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','/public/data/projects/','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','.sort-indicator','กฎของโคไซน์','next-question-btn','\x20จุด','.bp-open-topic-bank-btn','cancel-create-project-btn','mjx-container','list','choices_only','Error\x20saving\x20to\x20question\x20bank:','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','เกิดข้อผิดพลาดในการจับคู่','handleGeneratePracticeTest','fix\x20the\x20option','เหมียวขี้เซา','.group','student-progress-view','แบบเติมคำตอบ','substring','export-pdf-modal','\x5csum','tab_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','math-topic-search-input','default-1','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','[data-topic-id]','อัปเดตแบบทดสอบเก่า\x20','ถูก','.quiz-status-btn','คะแนน','.move-shortcut-dropdown','Error\x20generating\x20easy\x20version\x20quiz:','mouseleave','interesting-stats-wrapper','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','พบข้อสอบ\x20','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','0\x200','querySelectorAll','สร้างโปรเจคสำเร็จ!','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','รหัสไม่ถูกต้อง','desc','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','ลบโปรเจค\x20\x22','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','รูปสี่เหลี่ยมและสมบัติ','items','ดีมาก','Error\x20regenerating\x20question\x20in\x20editor:','parallel-test-input-area','file-shortcut_','isAdaptive','ยังไม่มีนักเรียนส่งงาน','screen','lesson-view-title','quadraticCurveTo','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กาแฟขม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-not-confident','parentElement','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','พื้นที่วงกลม/ส่วนของวงกลม','bulk-shuffle-select','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-default-2','modal-confidence-mode-select','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','ระบบอสมการ','คำถามดิบ:\x20\x22','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tooltipTarget','questionDisplayedAt','#results-table','\x22>ใช่</p>','shortcut-blueprint-url-input','hint-btn','แบบทดสอบนี้ปิดใช้งานอยู่','\x20|\x20','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','จำนวนเต็มลบ','โลมาบิน','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','Error\x20preparing\x20content\x20quiz:','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','ทศนิยม\x20(ค่าประจำหลัก)','[*]','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','results_','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','cancel-delete-btn','input[type=\x22text\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','Error\x20deleting\x20shortcut:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','close-lesson-plan-modal-btn','.move-file-shortcut-dropdown','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','msExitFullscreen','แก้ไขปุ่มลัด','then','ไม่สามารถสร้างโปรเจคได้','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></div>','highlighter-tools-group','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','content','shadowColor','leaderboard-tab-content','close-presentation-btn','เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จันทร์เจ้า','scrollHeight','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','.ai-fix-formula-btn','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','cancel-blueprint-projects-btn','bg-amber-100\x20text-amber-800','ซามูไรสายเดี่ยว','key','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-num-questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','button','scale','ลำดับการดำเนินการ\x20(PEMDAS)','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','parse','getPage','text-red-700','Error\x20listening\x20for\x20starred\x20quizzes:','fileShortcutTabs','text-green-600','showInStudentDashboard','Error\x20generating\x20parallel\x20test\x20from\x20bank:','start-live-race-generated-btn','#E0E7FF','เกิดข้อผิดพลาดในการบันทึกลำดับ','ข้อต่อไป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','playerName','\x20|\x20ID:\x20','default-2','currentQuestionIndex','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','topic-bank-subtopic-name','project-detail','MathJax','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','all','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','#000000','bank-quiz-search-input','dragend','podium','resultsDisplay','bp-project-title','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','บันทึกคำถามใหม่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','grabbing','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','ยังไม่เต็มนะ','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','#retake-for-improvement-btn','delete-all-students-btn','ผู้เชี่ยวชาญ','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','confidence-modal','.quiz-bank-checkbox:checked','เกิดข้อผิดพลาดในการอัปเดต:\x20','ปริพันธ์จำกัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','fa-crown\x20text-yellow-500','function','autoTable','close-game-final-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','not_confident','querySelector','bg-red-200\x20text-red-800','\x22\x20class=\x22delete-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','instructions','dragstart','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','parallel-shortcut-name-input','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','topicName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค่าเฉลี่ย','.project-card-content','.txt','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','<button\x20data-id=\x22','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','post-test','onclick','transparent','ผ่านฉลุย','quizId','<div\x20class=\x22my-6\x22>','endTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','bp-modal-shuffle-setting-select','lineWidth','from','.compare-results-btn','https://drive.google.com/uc?export=download&id=','4GZChLE','เพนกวินไฟ','text-yellow-800','ไม่ได้ตอบ','correctResponse','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','question-complexity-select','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','per-question-options','modal-confidence-mode-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','student-progress','274192258111','close-additional-file-shortcuts-btn','scheduled','Team\x20Quiz','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','เกิดข้อผิดพลาดในการสร้างใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','string','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x22\x20data-quiz-id=\x22','contains','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','border-red-700','กำลังอ่านและเตรียมไฟล์...','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20class=\x22color-palette-btn\x20','some','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','.edit-parallel-shortcut-btn','export-leaderboard-pdf-btn','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','pdf','shortcut-editor-modal','code','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x5cpm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','Enter','imageCode','font-bold\x20text-red-700\x20line-through','results','quiz-end-time','-tab-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','ชาไข่มุก','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','verify-answers-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cursor','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','opacity','currentMode','shortcut-id-input','authed_project_','นกฮูกกลางวัน','เส้นตรง:\x20ขนาน/ตั้งฉาก','projectSortOrder','confidence_single','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','ไม่พบข้อมูลการจับคู่','Sync\x20Mode','พิสัย','text-yellow-300','specialist','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-presentation-answer-btn','questionText','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','fill_in_with_choices','/public/data/blueprintProjects','times','กำลังสร้างคำถามข้อ\x20','game-start-quiz-id','lower_group_count','Re-grade\x20process\x20failed:','สรุปผลสุดท้าย','destroy','คัดลอกรหัสแล้ว!','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','ตัวเลือก\x20ค','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','การแจกแจงปกติและ\x20z-score','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','score-distribution-chart','createdBy','behavior-log','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','bg-green-100\x20text-green-800','ก้อนเมฆ','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','latestScore','#results-table\x20thead\x20tr','คัดลอกไม่สำเร็จ'];_0x368d=function(){return _0x4a13ec;};return _0x368d();}function renderAnswerGrid(_0x77cb30,_0x13390e,_0x3081fb){const _0x3ffd6a=_0x587d0b,_0x40da23=document[_0x3ffd6a(0x43c)](_0x3ffd6a(0x6c3));if(!_0x40da23)return;if(!_0x77cb30||_0x77cb30['length']===0x0){_0x40da23[_0x3ffd6a(0x30c)]=_0x3ffd6a(0x7fb);return;}const _0x287ee2=_0x3081fb['questions'],_0x324fe1=_0x13390e[_0x3ffd6a(0x80e)]((_0x1c24f7,_0x59da39)=>{return _0x1c24f7[_0x59da39['studentName']]=_0x59da39,_0x1c24f7;},{}),_0x412c91=_0x46d342=>String[_0x3ffd6a(0x1c8)](0x41+_0x46d342),_0x2ef5a7=_0xab30b2=>{const _0x4fd99a=_0x3ffd6a,_0x42270d=_0xab30b2[_0x4fd99a(0x8af)]||_0x3081fb[_0x4fd99a(0x86d)];switch(_0x42270d){case'multiple_choice':return _0xab30b2[_0x4fd99a(0x4b2)]&&_0xab30b2['options']['length']>_0xab30b2[_0x4fd99a(0x828)]?_0x412c91(_0xab30b2['correctAnswerIndex']):'-';case _0x4fd99a(0x907):const _0x2c5196=_0xab30b2['correctAnswer']===!![]||String(_0xab30b2[_0x4fd99a(0x347)])[_0x4fd99a(0x35e)]()===_0x4fd99a(0x529);return _0x2c5196?_0x4fd99a(0x79c):_0x4fd99a(0x976);case'matching_item':return _0xab30b2[_0x4fd99a(0xb42)]||'-';case _0x4fd99a(0x573):return _0x4fd99a(0x178);default:return'-';}},_0x467401=(_0x1892fa,_0x45ec43)=>{const _0x5873ef=_0x3ffd6a;if(_0x45ec43[_0x5873ef(0x831)]===null||_0x45ec43[_0x5873ef(0x831)]===undefined)return'-';const _0x7ce245=_0x1892fa[_0x5873ef(0x8af)]||_0x3081fb['quizType'];switch(_0x7ce245){case _0x5873ef(0x51f):const _0x6a7b55=_0x1892fa[_0x5873ef(0x4b2)][_0x5873ef(0x9bd)](_0x5b0176=>_0x5b0176===_0x45ec43[_0x5873ef(0x472)]);return _0x6a7b55!==-0x1?_0x412c91(_0x6a7b55):_0x45ec43['answerText']||'-';case _0x5873ef(0x907):if(_0x45ec43[_0x5873ef(0x831)]=='0'||_0x45ec43[_0x5873ef(0x831)]===!![]||_0x45ec43[_0x5873ef(0x831)]==='true')return _0x5873ef(0x79c);return _0x5873ef(0x976);default:return _0x45ec43[_0x5873ef(0x831)];}};let _0x2e5b67=_0x3ffd6a(0xad8)+_0x287ee2[_0x3ffd6a(0x9a0)]((_0x4c53cf,_0x4e4b0b)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x4e4b0b+0x1)+_0x3ffd6a(0x80c))['join']('')+_0x3ffd6a(0x29b)+_0x287ee2[_0x3ffd6a(0x9a0)](_0x22136e=>_0x3ffd6a(0x5dd)+_0x2ef5a7(_0x22136e)+_0x3ffd6a(0xc57))['join']('')+_0x3ffd6a(0xbb6);_0x77cb30[_0x3ffd6a(0x27f)](_0x416edf=>{const _0x505b19=_0x3ffd6a;_0x2e5b67+='<tr>',_0x2e5b67+=_0x505b19(0x7c5)+_0x416edf+_0x505b19(0xc57);const _0x11e75f=_0x324fe1[_0x416edf];if(_0x11e75f){const _0x5c1f38=_0x11e75f['attempts'][_0x11e75f['attempts'][_0x505b19(0x3ce)]-0x1];_0x287ee2['forEach']((_0x57712d,_0x49bc2d)=>{const _0x1351b5=_0x505b19,_0x1471a4=_0x5c1f38[_0x1351b5(0x34c)]['find'](_0x377e69=>_0x377e69[_0x1351b5(0xa0c)]===_0x57712d['id']);if(_0x1471a4){let _0x276179='';const _0x519ef3=_0x1471a4['isCorrect']===!![],_0x75e3ff=_0x1471a4[_0x1351b5(0x6b1)]===!![]||_0x1471a4[_0x1351b5(0x6b1)]===_0x1351b5(0x83b);_0x75e3ff?_0x276179=_0x519ef3?_0x1351b5(0x7f8):_0x1351b5(0x4ea):_0x276179=_0x519ef3?_0x1351b5(0xfb):'bg-red-100',_0x2e5b67+=_0x1351b5(0x418)+_0x276179+'\x22>'+_0x467401(_0x57712d,_0x1471a4)+_0x1351b5(0xc57);}else _0x2e5b67+=_0x1351b5(0x5fc);});}else _0x2e5b67+=_0x287ee2[_0x505b19(0x9a0)](()=>_0x505b19(0x400))[_0x505b19(0xd9)]('');_0x2e5b67+=_0x505b19(0xe1);}),_0x2e5b67+='</tbody></table>',_0x40da23[_0x3ffd6a(0x30c)]=_0x2e5b67;}function renderQuizResultsTable(_0x5e14c1,_0x5b7de1,_0x4eebf3){const _0x5820b5=_0x587d0b,_0x4bf741=_0x5b7de1[_0x5820b5(0x80e)]((_0x3dcc95,_0x1e76ac)=>{const _0x255d2b=_0x5820b5;return _0x3dcc95[_0x1e76ac[_0x255d2b(0x3eb)]]=_0x1e76ac,_0x3dcc95;},{}),_0x1335a8=document[_0x5820b5(0xb1b)](_0x5820b5(0xba5));_0x1335a8&&!_0x1335a8[_0x5820b5(0x30c)][_0x5820b5(0x69d)]('จัดการ')&&(_0x1335a8[_0x5820b5(0x30c)]+=_0x5820b5(0xa05));const _0x3f59bb=document[_0x5820b5(0x43c)]('quiz-results-table-body');if(!_0x5e14c1||_0x5e14c1['length']===0x0){_0x3f59bb[_0x5820b5(0x30c)]=_0x5820b5(0xb25);return;}const _0x20f7b3=_0x4eebf3[_0x5820b5(0x3e9)]===!![],_0x3b9c07=_0x4eebf3[_0x5820b5(0x731)]?.[_0x5820b5(0x2bf)]??-0x1;let _0x2a6aa3='';_0x5e14c1['forEach'](_0x3cc8d4=>{const _0x1af56a=_0x5820b5,_0x1c619e=_0x4bf741[_0x3cc8d4];let _0x16edfb=_0x1af56a(0x81b)+(_0x20f7b3?_0x1af56a(0xad3):_0x1af56a(0x5de))+'\x22>'+(_0x20f7b3?_0x1af56a(0x6bf):_0x1af56a(0x6ac))+_0x1af56a(0xc6b);if(_0x1c619e){if(_0x1c619e['attempts']&&_0x1c619e[_0x1af56a(0x55e)]['length']>0x0){let _0x1305ad=_0x20f7b3?_0x1c619e[_0x1af56a(0x9a1)]===_0x1c619e[_0x1af56a(0xbcf)]:_0x3b9c07!==-0x1&&_0x1c619e[_0x1af56a(0x9a1)]>=_0x3b9c07;const _0x38cb8f=_0x1305ad?_0x1af56a(0xba1):_0x1af56a(0x6df),_0x5e0d00=_0x1305ad?'ผ่าน':_0x1af56a(0x643),_0x5d2d96=_0x1af56a(0x623)+_0x38cb8f+'\x22>'+_0x5e0d00+_0x1af56a(0xc6b),_0x51b78a=_0x1af56a(0x739)+(_0x1c619e[_0x1af56a(0x55e)]?.[_0x1af56a(0x3ce)]||0x1)+_0x1af56a(0x97c);_0x2a6aa3+=_0x1af56a(0x16e)+_0x3cc8d4+_0x1af56a(0x751)+_0x1c619e[_0x1af56a(0x9a1)]+_0x1af56a(0xbe0)+_0x1c619e[_0x1af56a(0xbcf)]+_0x1af56a(0x9f9)+_0x5d2d96+_0x1af56a(0x5c1)+_0x16edfb+_0x1af56a(0x12f)+_0x1c619e[_0x1af56a(0x29a)]+_0x1af56a(0xbe0)+_0x1c619e[_0x1af56a(0xbcf)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x1c619e[_0x1af56a(0xba4)]+_0x1af56a(0xbe0)+_0x1c619e[_0x1af56a(0xbcf)]+_0x1af56a(0x74f)+(_0x1c619e['points']||0x0)+_0x1af56a(0x9f9)+_0x51b78a+_0x1af56a(0x28d)+new Date(_0x1c619e['latestSubmittedAt'])['toLocaleString'](_0x1af56a(0x8ce))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x3cc8d4+_0x1af56a(0x9ac);}else{const _0x2e226e=_0x1af56a(0x452);_0x2a6aa3+=_0x1af56a(0xb1e)+_0x3cc8d4+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x16edfb+_0x1af56a(0x41f)+_0x2e226e+_0x1af56a(0x28d)+new Date(_0x1c619e['startedAt'])[_0x1af56a(0xe3)]('th-TH')+_0x1af56a(0x4d9)+_0x3cc8d4+_0x1af56a(0x9ac);}}else{const _0x31dc22='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x2a6aa3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x3cc8d4+_0x1af56a(0xb18)+_0x16edfb+_0x1af56a(0x37d)+_0x31dc22+_0x1af56a(0xacc);}}),_0x3f59bb[_0x5820b5(0x30c)]=_0x2a6aa3;}async function confirmRenameQuiz(){const _0x22ce5f=_0x587d0b,_0x480b4c=document[_0x22ce5f(0x43c)](_0x22ce5f(0x69e))[_0x22ce5f(0x5d0)][_0x22ce5f(0x8e7)]();if(!_0x480b4c){showMessage(_0x22ce5f(0x4aa));return;}if(!actionTargetId)return;const _0x210b20=doc(db,_0x22ce5f(0x1f0)+appId+_0x22ce5f(0x92d),actionTargetId);try{await updateDoc(_0x210b20,{'topic':_0x480b4c}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x22ce5f(0x860)][_0x22ce5f(0x61e)](_0x22ce5f(0x6e9)),actionTargetId=null;}catch(_0xee9b2b){console[_0x22ce5f(0x48f)](_0x22ce5f(0x519),_0xee9b2b),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x4757d1){const _0x8c4f80=_0x587d0b;actionTargetId=_0x4757d1;const _0x533748=document[_0x8c4f80(0x43c)](_0x8c4f80(0x64f));_0x533748['innerHTML']=_0x8c4f80(0x3cd),moveQuizModal[_0x8c4f80(0x860)]['remove']('hidden');try{const _0x256583=collection(db,_0x8c4f80(0x1f0)+appId+_0x8c4f80(0x684)),_0x2e1e6e=await getDocs(_0x256583),_0x4bd56a=_0x2e1e6e[_0x8c4f80(0xbb3)]['map'](_0x218087=>({'id':_0x218087['id'],..._0x218087[_0x8c4f80(0xc12)]()})),_0x40f72a=_0x4bd56a[_0x8c4f80(0x35c)](_0x101e6c=>_0x101e6c['id']!==currentProjectId);if(_0x40f72a[_0x8c4f80(0x3ce)]===0x0){_0x533748['innerHTML']=_0x8c4f80(0xc11),document['getElementById'](_0x8c4f80(0x832))[_0x8c4f80(0x35d)]=!![];return;}_0x533748[_0x8c4f80(0x30c)]=_0x40f72a[_0x8c4f80(0x9a0)](_0x14c77c=>_0x8c4f80(0x244)+_0x14c77c['id']+'\x22>'+_0x14c77c['projectName']+_0x8c4f80(0x9e))[_0x8c4f80(0xd9)](''),document['getElementById']('confirm-move-quiz-btn')[_0x8c4f80(0x35d)]=![];}catch(_0x473f7b){console[_0x8c4f80(0x48f)](_0x8c4f80(0x170),_0x473f7b),showMessage(_0x8c4f80(0x4dd)),moveQuizModal['classList'][_0x8c4f80(0x61e)](_0x8c4f80(0x6e9));}}async function confirmMoveQuiz(){const _0x22898b=_0x587d0b,_0x30d2ff=document[_0x22898b(0x43c)]('move-quiz-project-select')[_0x22898b(0x5d0)];if(!_0x30d2ff){showMessage(_0x22898b(0x7e2));return;}if(!actionTargetId)return;const _0x557d23=doc(db,_0x22898b(0x1f0)+appId+_0x22898b(0x92d),actionTargetId);try{await updateDoc(_0x557d23,{'projectId':_0x30d2ff}),showMessage(_0x22898b(0x3bc)),moveQuizModal[_0x22898b(0x860)][_0x22898b(0x61e)]('hidden'),actionTargetId=null;}catch(_0x59b479){console[_0x22898b(0x48f)]('Error\x20moving\x20quiz:',_0x59b479),showMessage(_0x22898b(0x753));}}async function handleQuizSettings(_0x2e4d97){const _0x51ac5e=_0x587d0b;actionTargetId=_0x2e4d97;const _0x37c673=doc(db,_0x51ac5e(0x1f0)+appId+_0x51ac5e(0x92d),_0x2e4d97);try{const _0x3d2b9e=await getDoc(_0x37c673);if(_0x3d2b9e[_0x51ac5e(0x2ef)]()){const _0xef102d=_0x3d2b9e[_0x51ac5e(0xc12)](),_0x333c1c=_0xef102d[_0x51ac5e(0x731)]||{},_0x1a78fa=_0xef102d[_0x51ac5e(0x66b)]['length'];document['getElementById'](_0x51ac5e(0x614))['value']=_0x333c1c['shuffle']||'none',document[_0x51ac5e(0x43c)](_0x51ac5e(0x977))[_0x51ac5e(0x5d0)]=_0x333c1c[_0x51ac5e(0xb01)]||'show_results_and_answers',document[_0x51ac5e(0x43c)]('modal-timer-mode-select')[_0x51ac5e(0x5d0)]=_0x333c1c[_0x51ac5e(0x470)]||_0x51ac5e(0x5eb),document['getElementById'](_0x51ac5e(0x7d8))[_0x51ac5e(0x5d0)]=_0x333c1c[_0x51ac5e(0xa9)]||0xa,document[_0x51ac5e(0x43c)](_0x51ac5e(0x4b3))[_0x51ac5e(0x5d0)]=_0x333c1c['passingScore']||Math[_0x51ac5e(0x4d7)](_0x1a78fa/0x2),document[_0x51ac5e(0x43c)](_0x51ac5e(0x4b3))['max']=_0x1a78fa,document[_0x51ac5e(0x43c)](_0x51ac5e(0x924))[_0x51ac5e(0x1a3)]=_0x333c1c[_0x51ac5e(0xa7c)]||![],document[_0x51ac5e(0x43c)]('modal-loop-until-pass-checkbox')[_0x51ac5e(0x1a3)]=_0x333c1c[_0x51ac5e(0x1b8)]||![];const _0x48f1f8=_0x333c1c['isConfidenceScoringEnabled']||![];document[_0x51ac5e(0x43c)](_0x51ac5e(0x786))[_0x51ac5e(0x1a3)]=_0x48f1f8,document[_0x51ac5e(0x43c)](_0x51ac5e(0xa92))[_0x51ac5e(0x5d0)]=_0x333c1c[_0x51ac5e(0x7eb)]||_0x51ac5e(0x107);const _0x3c2a5a=document[_0x51ac5e(0x43c)](_0x51ac5e(0xb48));_0x3c2a5a[_0x51ac5e(0x860)][_0x51ac5e(0x749)](_0x51ac5e(0x6e9),!_0x48f1f8),document['getElementById']('modal-timer-mode-select')[_0x51ac5e(0x7aa)](new Event(_0x51ac5e(0x247))),quizSettingsModal[_0x51ac5e(0x860)][_0x51ac5e(0xbf3)]('hidden');}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x15654c){console[_0x51ac5e(0x48f)]('Error\x20fetching\x20quiz\x20settings:',_0x15654c),showMessage(_0x51ac5e(0x3e2));}}async function confirmQuizSettings(){const _0xc5c6e3=_0x587d0b;if(!actionTargetId)return;const _0x5a5163=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId),_0x1d55d3={'shuffle':document[_0xc5c6e3(0x43c)](_0xc5c6e3(0x614))[_0xc5c6e3(0x5d0)],'resultsDisplay':document[_0xc5c6e3(0x43c)](_0xc5c6e3(0x977))['value'],'timerMode':document[_0xc5c6e3(0x43c)](_0xc5c6e3(0x30f))[_0xc5c6e3(0x5d0)],'timerDuration':parseInt(document[_0xc5c6e3(0x43c)]('modal-timer-duration-input')[_0xc5c6e3(0x5d0)])||0xa,'passingScore':parseInt(document['getElementById'](_0xc5c6e3(0x4b3))[_0xc5c6e3(0x5d0)])||0x0,'isAdaptive':document['getElementById']('modal-adaptive-quiz-checkbox')[_0xc5c6e3(0x1a3)],'loopUntilPass':document[_0xc5c6e3(0x43c)]('modal-loop-until-pass-checkbox')[_0xc5c6e3(0x1a3)],'isConfidenceScoringEnabled':document[_0xc5c6e3(0x43c)](_0xc5c6e3(0x786))[_0xc5c6e3(0x1a3)],'confidenceMode':document[_0xc5c6e3(0x43c)](_0xc5c6e3(0xa92))['value']};try{await updateDoc(_0x5a5163,{'settings':_0x1d55d3}),showMessage(_0xc5c6e3(0x8c7)),quizSettingsModal[_0xc5c6e3(0x860)]['add'](_0xc5c6e3(0x6e9)),actionTargetId=null;}catch(_0x2e5f9f){console['error'](_0xc5c6e3(0x2d1),_0x2e5f9f),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function confirmQuizStatus(){const _0x481a42=_0x587d0b;if(!actionTargetId)return;const _0x4889a7=doc(db,_0x481a42(0x1f0)+appId+_0x481a42(0x92d),actionTargetId),_0x23102a=document[_0x481a42(0xb1b)](_0x481a42(0x358));if(!_0x23102a){showMessage(_0x481a42(0x48c));return;}const _0x4fcb42=_0x23102a[_0x481a42(0x5d0)];let _0x191091={};if(_0x4fcb42===_0x481a42(0x52b)||_0x4fcb42==='inactive')_0x191091={'status':_0x4fcb42,'startTime':null,'endTime':null};else{if(_0x4fcb42===_0x481a42(0x661)){const _0x15f5cf=document[_0x481a42(0x43c)]('quiz-start-time')[_0x481a42(0x5d0)],_0x5da431=document[_0x481a42(0x43c)](_0x481a42(0xb70))['value'];if(!_0x15f5cf&&!_0x5da431){showMessage(_0x481a42(0xbdc));return;}_0x191091={'status':_0x481a42(0xb4d),'startTime':_0x15f5cf?new Date(_0x15f5cf)[_0x481a42(0x339)]():null,'endTime':_0x5da431?new Date(_0x5da431)[_0x481a42(0x339)]():null};}}try{await updateDoc(_0x4889a7,_0x191091),showMessage(_0x481a42(0xc4e)),quizStatusModal['classList'][_0x481a42(0x61e)](_0x481a42(0x6e9)),actionTargetId=null;}catch(_0x1ec0b5){console[_0x481a42(0x48f)](_0x481a42(0xc62),_0x1ec0b5),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x4525a7){const _0x31052c=_0x587d0b,_0x4839b4=collection(db,_0x31052c(0x1f0)+appId+_0x31052c(0xa43)+_0x4525a7+_0x31052c(0x702));unsubscribeStudentProfilesListener=onSnapshot(_0x4839b4,_0x48145a=>{const _0xa25f9c=_0x31052c,_0x4640e2=_0x48145a['docs']['map'](_0x3db9e4=>_0x3db9e4[_0xa25f9c(0xc12)]());renderLeaderboard(_0x4640e2,'leaderboard-table-body');},_0x215790=>{const _0x48303a=_0x31052c;console[_0x48303a(0x48f)]('Error\x20listening\x20for\x20student\x20profiles:',_0x215790),document['getElementById'](_0x48303a(0x11e))['innerHTML']=_0x48303a(0xee);});}function renderLeaderboard(_0x307234,_0x2c1489){const _0x38745c=_0x587d0b,_0x13af74=document[_0x38745c(0x43c)](_0x2c1489);if(!_0x307234||_0x307234[_0x38745c(0x3ce)]===0x0){_0x13af74[_0x38745c(0x30c)]=_0x38745c(0x764);return;}_0x307234[_0x38745c(0x34f)]((_0x48394e,_0x5f2c25)=>{const _0x472c94=_0x38745c,_0x199324=(_0x5f2c25[_0x472c94(0xc74)]||0x0)-(_0x48394e[_0x472c94(0xc74)]||0x0);if(_0x199324!==0x0)return _0x199324;const _0x2ad935=(_0x5f2c25['badgesCount']?.[_0x472c94(0xb86)]||0x0)-(_0x48394e[_0x472c94(0x21e)]?.[_0x472c94(0xb86)]||0x0);if(_0x2ad935!==0x0)return _0x2ad935;const _0x32dc98=(_0x5f2c25[_0x472c94(0x21e)]?.[_0x472c94(0x8a5)]||0x0)-(_0x48394e['badgesCount']?.[_0x472c94(0x8a5)]||0x0);if(_0x32dc98!==0x0)return _0x32dc98;const _0x435dff=(_0x5f2c25[_0x472c94(0x21e)]?.[_0x472c94(0x8e3)]||0x0)-(_0x48394e[_0x472c94(0x21e)]?.['perfect_score']||0x0);if(_0x435dff!==0x0)return _0x435dff;const _0x5964a3=(_0x5f2c25[_0x472c94(0x21e)]?.[_0x472c94(0x288)]||0x0)-(_0x48394e['badgesCount']?.[_0x472c94(0x288)]||0x0);if(_0x5964a3!==0x0)return _0x5964a3;return _0x48394e[_0x472c94(0x3eb)][_0x472c94(0x164)](_0x5f2c25['studentName'],'th');});let _0x4aee64='';_0x307234[_0x38745c(0x27f)]((_0x3c184e,_0x441f2a)=>{const _0x3280a1=_0x38745c,_0xd7ec35=_0x441f2a+0x1,_0x1f326a=_0x3c184e[_0x3280a1(0x21e)]||{};let _0x3f46fa='';const _0x41e09f=[_0x3280a1(0xb86),_0x3280a1(0x8e3),_0x3280a1(0x8a5),_0x3280a1(0x288)];_0x41e09f[_0x3280a1(0x27f)](_0x1cc53f=>{const _0x451aa0=_0x3280a1;if(_0x1f326a[_0x1cc53f]>0x0){const _0x5b8204=Object[_0x451aa0(0x512)](BADGES)[_0x451aa0(0xa3a)](_0xf1d1f1=>_0xf1d1f1['id']===_0x1cc53f);_0x5b8204&&(_0x1cc53f==='specialist'?_0x3f46fa+=_0x451aa0(0x13c)+_0x5b8204[_0x451aa0(0x683)]+_0x451aa0(0x23a)+_0x5b8204[_0x451aa0(0x6fe)]+_0x451aa0(0x2db):_0x3f46fa+=_0x451aa0(0x13c)+_0x5b8204['name']+'\x20('+_0x1f326a[_0x1cc53f]+_0x451aa0(0x15f)+_0x5b8204['icon']+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x1f326a[_0x1cc53f]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x4aee64+=_0x3280a1(0x98d)+_0xd7ec35+_0x3280a1(0x2d2)+_0x3c184e[_0x3280a1(0x3eb)]+_0x3280a1(0x9a8)+(_0x3c184e[_0x3280a1(0xc74)]||0x0)+_0x3280a1(0x2d2)+(_0x3f46fa||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x13af74['innerHTML']=_0x4aee64;}function displayLoopScreen(_0x3e8b5a,_0x593a44,_0x4af640){const _0x1231c2=_0x587d0b;let _0xc81647='';_0x4af640!=='show_pass_fail_only'&&(_0xc81647='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x3e8b5a+_0x1231c2(0xbe0)+_0x593a44+_0x1231c2(0x9d5));const _0x34266c=_0x1231c2(0x916)+_0xc81647+_0x1231c2(0xba9);studentResultArea[_0x1231c2(0x30c)]=_0x34266c,studentResultArea[_0x1231c2(0x860)][_0x1231c2(0xbf3)](_0x1231c2(0x6e9)),studentQuizArea['classList'][_0x1231c2(0x61e)]('hidden'),document[_0x1231c2(0x43c)]('retake-quiz-loop-btn')[_0x1231c2(0x5e1)](_0x1231c2(0xbf8),()=>{const _0x29dc91=_0x1231c2;studentResultArea[_0x29dc91(0x860)]['add'](_0x29dc91(0x6e9)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x29d911,_0x35d5d7,_0x500a4b){const _0x54c900=_0x587d0b,_0xa6c6b3=document['getElementById'](_0x500a4b),_0x5aee7f=_0x500a4b===_0x54c900(0x7fc),_0x127145=_0x35d5d7[_0x54c900(0x66b)]['length'],_0x3f2509=document[_0x54c900(0x43c)](_0x500a4b)[_0x54c900(0x3e4)](_0x54c900(0xca));if(_0x3f2509&&!_0x5aee7f){const _0x21d7ec=_0x3f2509['querySelector'](_0x54c900(0x869));_0x21d7ec[_0x54c900(0x30c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x29d911||_0x29d911['length']===0x0){_0xa6c6b3[_0x54c900(0x30c)]=_0x54c900(0x91f)+(_0x5aee7f?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x55dd6d=[..._0x29d911];_0x55dd6d[_0x54c900(0x34f)]((_0x2fbf92,_0x58485c)=>{const _0x3cd06e=_0x54c900;let _0x533b26,_0x502729;switch(quizLeaderboardSortBy){case _0x3cd06e(0x3eb):_0x533b26=_0x2fbf92[_0x3cd06e(0x3eb)]||'',_0x502729=_0x58485c[_0x3cd06e(0x3eb)]||'';return quizLeaderboardSortOrder==='asc'?_0x533b26[_0x3cd06e(0x164)](_0x502729,'th'):_0x502729[_0x3cd06e(0x164)](_0x533b26,'th');case _0x3cd06e(0x69f):_0x533b26=_0x2fbf92['points']||0x0,_0x502729=_0x58485c[_0x3cd06e(0x69f)]||0x0;break;case'attempts':_0x533b26=_0x2fbf92['attempts']?.[_0x3cd06e(0x3ce)]||0x1,_0x502729=_0x58485c[_0x3cd06e(0x55e)]?.[_0x3cd06e(0x3ce)]||0x1;break;case _0x3cd06e(0x5b5):_0x533b26=new Date(_0x2fbf92[_0x3cd06e(0x5b5)]),_0x502729=new Date(_0x58485c[_0x3cd06e(0x5b5)]);break;case _0x3cd06e(0x9a1):default:_0x533b26=_0x2fbf92[_0x3cd06e(0x9a1)],_0x502729=_0x58485c[_0x3cd06e(0x9a1)];break;}if(_0x533b26<_0x502729)return quizLeaderboardSortOrder===_0x3cd06e(0x575)?-0x1:0x1;if(_0x533b26>_0x502729)return quizLeaderboardSortOrder===_0x3cd06e(0x575)?0x1:-0x1;return 0x0;});const _0x599e99=_0x35d5d7[_0x54c900(0x3e9)]===!![],_0x1a1ed2=_0x35d5d7['settings']?.[_0x54c900(0x2bf)]??-0x1;let _0x4778f2='';_0x55dd6d['forEach']((_0x3227e7,_0x3b58c7)=>{const _0x15ca7b=_0x54c900,_0x47b757=_0x3b58c7+0x1;let _0x4f9c5a=_0x15ca7b(0x853);if(_0x599e99||_0x1a1ed2!==-0x1){let _0x88497e=_0x599e99?_0x3227e7[_0x15ca7b(0x9a1)]===_0x127145:_0x3227e7[_0x15ca7b(0x9a1)]>=_0x1a1ed2;const _0x515afc=_0x88497e?_0x15ca7b(0xba1):_0x15ca7b(0x6df),_0x1e7f7e=_0x88497e?_0x15ca7b(0x998):_0x15ca7b(0x643);_0x4f9c5a=_0x15ca7b(0x7ae)+_0x515afc+'\x22>'+_0x1e7f7e+'</span></td>';}const _0x35293a=_0x3227e7['attempts'][_0x3227e7[_0x15ca7b(0x55e)][_0x15ca7b(0x3ce)]-0x1],_0x3d7e37=(_0x35293a['badges']||[])[_0x15ca7b(0x9a0)](_0x368f5f=>{const _0x3dfa96=_0x15ca7b,_0x1cd76a=Object[_0x3dfa96(0x512)](BADGES)[_0x3dfa96(0xa3a)](_0x57a348=>_0x57a348['id']===_0x368f5f);return _0x1cd76a?_0x3dfa96(0x240)+_0x1cd76a[_0x3dfa96(0x683)]+_0x3dfa96(0x647)+_0x1cd76a[_0x3dfa96(0x6fe)]+_0x3dfa96(0x464):'';})['join']('');_0x4778f2+=_0x15ca7b(0xc4a)+_0x47b757+_0x15ca7b(0x21a)+_0x3227e7[_0x15ca7b(0x3eb)]+_0x15ca7b(0xb49)+_0x3227e7['bestScore']+'\x20/\x20'+_0x127145+_0x15ca7b(0x74e)+_0x4f9c5a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x3227e7[_0x15ca7b(0x69f)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5aee7f?'':_0x15ca7b(0x595)+(_0x3227e7[_0x15ca7b(0x55e)]?.[_0x15ca7b(0x3ce)]||0x1)+_0x15ca7b(0xc57))+_0x15ca7b(0x4ef)+(_0x5aee7f?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x3227e7['latestSubmittedAt'])[_0x15ca7b(0xe3)]('th-TH')+'</td>')+_0x15ca7b(0xd8)+(_0x3d7e37||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xa6c6b3[_0x54c900(0x30c)]=_0x4778f2,_0x3f2509&&!_0x5aee7f&&_0x3f2509[_0x54c900(0xa6e)](_0x54c900(0xcf))['forEach'](_0x111bc0=>{const _0x1ece98=_0x54c900,_0x3f6fff=_0x111bc0[_0x1ece98(0xb1b)](_0x1ece98(0xa45));if(_0x3f6fff)_0x3f6fff[_0x1ece98(0xbf3)]();_0x111bc0[_0x1ece98(0x82f)][_0x1ece98(0x34f)]===quizLeaderboardSortBy&&(_0x111bc0[_0x1ece98(0x30c)]+=_0x1ece98(0x425)+(quizLeaderboardSortOrder===_0x1ece98(0x575)?'▲':'▼')+_0x1ece98(0x99a));});}async function handleDeleteSubmission(_0x457d9e){const _0x297ded=_0x587d0b;if(!currentQuizData||!currentQuizData['id']||!_0x457d9e){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x297ded(0xc96)+_0x457d9e+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x2236f8=_0x297ded,_0x59f5d8=currentQuizData['id'],_0x21720c=doc(db,'artifacts/'+appId+_0x2236f8(0x261)+_0x59f5d8+_0x2236f8(0xc46),_0x457d9e);try{await deleteDoc(_0x21720c),showMessage(_0x2236f8(0x153)+_0x457d9e+_0x2236f8(0x7ac));}catch(_0x4b9070){console[_0x2236f8(0x48f)](_0x2236f8(0x7b6),_0x4b9070),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x2f1482=_0x587d0b,_0x243ce8=document['getElementById']('quiz-id-input'),_0x131547=_0x243ce8[_0x2f1482(0x5d0)]['trim']();if(!_0x131547){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x2f1482(0x35d)]=!![],loadQuizBtn[_0x2f1482(0x30c)]=_0x2f1482(0xa7);try{const _0x32e874=doc(db,_0x2f1482(0x1f0)+appId+_0x2f1482(0x92d),_0x131547),_0x1bfd16=await getDoc(_0x32e874);if(!_0x1bfd16['exists']()){showMessage(_0x2f1482(0x3af));return;}currentQuizData={'id':_0x1bfd16['id'],..._0x1bfd16[_0x2f1482(0xc12)]()};const _0x3805ef=currentQuizData['status']||_0x2f1482(0x52b),_0x4dbec7=new Date();if(_0x3805ef==='inactive'){showMessage(_0x2f1482(0xa9d));return;}if(_0x3805ef===_0x2f1482(0xb4d)){const _0x36b5b6=currentQuizData[_0x2f1482(0x403)]?new Date(currentQuizData[_0x2f1482(0x403)]):null,_0x7ce6e=currentQuizData['endTime']?new Date(currentQuizData[_0x2f1482(0xb36)]):null;if(_0x36b5b6&&_0x4dbec7<_0x36b5b6){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x36b5b6[_0x2f1482(0xe3)](_0x2f1482(0x8ce),{'hour12':![]}));return;}if(_0x7ce6e&&_0x4dbec7>_0x7ce6e){showMessage(_0x2f1482(0x59f));return;}}const _0x1d02d5=currentQuizData[_0x2f1482(0x2d6)];currentProjectId=_0x1d02d5;const _0xb9f921=doc(db,_0x2f1482(0x1f0)+appId+_0x2f1482(0x684),_0x1d02d5),_0x1ea8c5=await getDoc(_0xb9f921);if(!_0x1ea8c5['exists']()){showMessage(_0x2f1482(0x2ad));return;}const _0xf1e85d=_0x1ea8c5['data']();currentStudentProjectData=_0xf1e85d,displayStudentNameSelector(_0xf1e85d[_0x2f1482(0xc49)],currentQuizData[_0x2f1482(0x53e)]);}catch(_0x13218f){console[_0x2f1482(0x48f)](_0x2f1482(0x390),_0x13218f),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn[_0x2f1482(0x35d)]=![],loadQuizBtn['innerHTML']=_0x2f1482(0x4e5);}}async function handleJoinLiveGame(){const _0x1df1b0=_0x587d0b,_0x3cf198=document['getElementById'](_0x1df1b0(0x6b9)),_0x756fc5=document['getElementById'](_0x1df1b0(0x29c)),_0x120a0a=document[_0x1df1b0(0x43c)]('confirm-join-game-btn'),_0x536c12=_0x3cf198[_0x1df1b0(0x5d0)]['trim'](),_0x3fcf8d=_0x756fc5[_0x1df1b0(0x5d0)]['trim']();if(!_0x536c12||!_0x3fcf8d){showMessage(_0x1df1b0(0x145));return;}_0x120a0a[_0x1df1b0(0x35d)]=!![],_0x120a0a[_0x1df1b0(0x30c)]=_0x1df1b0(0x5f8);try{const _0x2c243e=collection(db,_0x1df1b0(0x1f0)+appId+_0x1df1b0(0x618)),_0x578fe5=query(_0x2c243e,where(_0x1df1b0(0x30a),'==',_0x536c12),where(_0x1df1b0(0x658),'in',[_0x1df1b0(0xa33),_0x1df1b0(0x72b)])),_0x14dae9=await getDocs(_0x578fe5);if(_0x14dae9[_0x1df1b0(0x9d)]){showMessage(_0x1df1b0(0x207));return;}const _0x1eeddb=_0x14dae9[_0x1df1b0(0xbb3)][0x0],_0x42d9cf=_0x1eeddb[_0x1df1b0(0xc12)]();currentLiveGameId=_0x1eeddb['id'];const _0x1e8aba=_0x42d9cf[_0x1df1b0(0xb34)],_0x3e43ad=doc(db,_0x1df1b0(0x1f0)+appId+_0x1df1b0(0x92d),_0x1e8aba),_0x540616=await getDoc(_0x3e43ad);if(!_0x540616[_0x1df1b0(0x2ef)]()){showMessage(_0x1df1b0(0x467));return;}currentQuizData={'id':_0x540616['id'],..._0x540616[_0x1df1b0(0xc12)]()};if(_0x42d9cf[_0x1df1b0(0x365)]&&_0x42d9cf[_0x1df1b0(0x365)][_0x3fcf8d]){const _0x56158f=_0x42d9cf[_0x1df1b0(0x365)][_0x3fcf8d];if(_0x56158f['status']===_0x1df1b0(0x362)){_0x120a0a[_0x1df1b0(0x30c)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x137365={};_0x137365[_0x1df1b0(0x87c)+_0x3fcf8d+_0x1df1b0(0x5e6)]=_0x1df1b0(0x52b),await updateDoc(doc(db,_0x1df1b0(0x1f0)+appId+'/public/data/liveGames',currentLiveGameId),_0x137365),showView(_0x1df1b0(0x517)),currentStudentName=_0x3fcf8d,listenForLiveGameUpdates();return;}else{showMessage(_0x1df1b0(0x58a));return;}}if(_0x42d9cf[_0x1df1b0(0x658)]!=='lobby'){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x120a0a['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x429d4f={};_0x429d4f['players.'+_0x3fcf8d]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x1df1b0(0x52b)},await updateDoc(doc(db,_0x1df1b0(0x1f0)+appId+'/public/data/liveGames',currentLiveGameId),_0x429d4f),currentStudentName=_0x3fcf8d,listenForLiveGameUpdates();}catch(_0x1b0add){console[_0x1df1b0(0x48f)](_0x1df1b0(0xa3e),_0x1b0add),showMessage(_0x1df1b0(0x508));}finally{_0x120a0a[_0x1df1b0(0x35d)]=![],_0x120a0a[_0x1df1b0(0x30c)]=_0x1df1b0(0xc29);}}function displayStudentNameSelector(_0x3aaf6b,_0x512edd){const _0xb88e7a=_0x587d0b,_0x319f5d=document['getElementById'](_0xb88e7a(0x93));document[_0xb88e7a(0x43c)](_0xb88e7a(0x71a))[_0xb88e7a(0xc0d)]=_0xb88e7a(0x6f4)+_0x512edd,!_0x3aaf6b||_0x3aaf6b[_0xb88e7a(0x3ce)]===0x0?(_0x319f5d[_0xb88e7a(0x30c)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0xb88e7a(0x35d)]=!![]):(_0x319f5d[_0xb88e7a(0x30c)]=_0xb88e7a(0x7b0),_0x3aaf6b[_0xb88e7a(0x27f)](_0x465184=>{const _0x3ad7d1=_0xb88e7a,_0x105954=document[_0x3ad7d1(0x7dd)](_0x3ad7d1(0x364));_0x105954[_0x3ad7d1(0x5d0)]=_0x465184,_0x105954['textContent']=_0x465184,_0x319f5d[_0x3ad7d1(0x47c)](_0x105954);}),startQuizBtn[_0xb88e7a(0x35d)]=![]),studentInitialView[_0xb88e7a(0x860)][_0xb88e7a(0x61e)](_0xb88e7a(0x6e9)),studentNameSelectionView['classList'][_0xb88e7a(0xbf3)](_0xb88e7a(0x6e9));}function shuffleArray(_0x5ee08e){const _0x4a6a64=_0x587d0b;for(let _0xa366f1=_0x5ee08e[_0x4a6a64(0x3ce)]-0x1;_0xa366f1>0x0;_0xa366f1--){const _0x3f1b05=Math[_0x4a6a64(0x4d7)](Math[_0x4a6a64(0x14d)]()*(_0xa366f1+0x1));[_0x5ee08e[_0xa366f1],_0x5ee08e[_0x3f1b05]]=[_0x5ee08e[_0x3f1b05],_0x5ee08e[_0xa366f1]];}}function getShuffledQuiz(_0x4b5926){const _0x3bce6a=_0x587d0b;let _0x1ce8a2=JSON['parse'](JSON[_0x3bce6a(0x616)](_0x4b5926));const _0x2cfcc2=_0x1ce8a2[_0x3bce6a(0x731)]?.[_0x3bce6a(0x143)]||_0x3bce6a(0x5eb);if(_0x2cfcc2===_0x3bce6a(0x5eb))return _0x1ce8a2;return(_0x2cfcc2==='questions_only'||_0x2cfcc2===_0x3bce6a(0x636))&&shuffleArray(_0x1ce8a2['questions']),(_0x2cfcc2===_0x3bce6a(0xa4d)||_0x2cfcc2===_0x3bce6a(0x636))&&_0x1ce8a2[_0x3bce6a(0x66b)][_0x3bce6a(0x27f)](_0x132cbf=>{const _0x433368=_0x3bce6a,_0x257225=_0x132cbf[_0x433368(0x8af)]||_0x1ce8a2['quizType'];if(_0x132cbf[_0x433368(0x4b2)]){let _0x375ba8=_0x132cbf[_0x433368(0x4b2)][_0x433368(0x9a0)]((_0x2c5c4b,_0x5b5703)=>({'text':_0x2c5c4b,'isCorrect':_0x5b5703===_0x132cbf[_0x433368(0x828)]}));shuffleArray(_0x375ba8),_0x132cbf[_0x433368(0x4b2)]=_0x375ba8[_0x433368(0x9a0)](_0x50df46=>_0x50df46[_0x433368(0xa1b)]),_0x132cbf[_0x433368(0x828)]=_0x375ba8['findIndex'](_0x156593=>_0x156593[_0x433368(0xa35)]);}_0x257225===_0x433368(0xf5)&&_0x132cbf['allResponses']&&shuffleArray(_0x132cbf[_0x433368(0x4f0)]);}),_0x1ce8a2;}function displayQuizForStudent(_0x4498f5){const _0x1fb972=_0x587d0b;studentQuizArea['classList'][_0x1fb972(0xbf3)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x4498f5);currentMode!==_0x1fb972(0x7d5)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x1fb972(0x5e1)](_0x1fb972(0x171),handleFullscreenChange),document[_0x1fb972(0x5e1)](_0x1fb972(0x966),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x1fb972(0x9fa),resetDimTimer),window['addEventListener'](_0x1fb972(0x7f1),resetDimTimer),window['addEventListener']('touchstart',resetDimTimer),window['addEventListener'](_0x1fb972(0x9e3),resetDimTimer),resetDimTimer());const _0x105e18=currentDisplayedQuiz[_0x1fb972(0x731)]?.[_0x1fb972(0x470)]||_0x1fb972(0x5eb);if(_0x105e18===_0x1fb972(0x8c4))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x1fb972(0x731)][_0x1fb972(0xa9)]);else _0x105e18===_0x1fb972(0x777)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x427ba7=_0x587d0b,_0x8a5398=currentDisplayedQuiz[_0x427ba7(0x731)]?.[_0x427ba7(0x814)]===!![],_0x5d3f9c=currentDisplayedQuiz[_0x427ba7(0x731)]?.[_0x427ba7(0x7eb)]||'checkbox';let _0x1a113d=_0x427ba7(0x4eb)+currentDisplayedQuiz[_0x427ba7(0x53e)]+_0x427ba7(0x694)+(currentMode==='admin-testing'?_0x427ba7(0x4ab):'')+_0x427ba7(0x248);currentDisplayedQuiz[_0x427ba7(0x66b)][_0x427ba7(0x27f)]((_0x362120,_0x1f500b)=>{const _0x5d3afd=_0x427ba7,_0x43aebc=_0x362120[_0x5d3afd(0x8af)]||currentDisplayedQuiz[_0x5d3afd(0x86d)];_0x1a113d+=_0x5d3afd(0x700);if(_0x43aebc===_0x5d3afd(0xf5)){}else _0x1a113d+=_0x5d3afd(0x47d)+(_0x1f500b+0x1)+'.\x20'+(_0x362120[_0x5d3afd(0xb1f)]||_0x362120['questionText'])+_0x5d3afd(0x85a),_0x362120[_0x5d3afd(0xb6d)]&&(_0x1a113d+=_0x5d3afd(0x121)+_0x362120[_0x5d3afd(0xb6d)]+'</div>');_0x1a113d+=_0x5d3afd(0x12c);switch(_0x43aebc){case'short_answer':_0x1a113d+=_0x5d3afd(0x2f5)+_0x1f500b+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x5d3afd(0x907):_0x1a113d+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x1f500b+_0x5d3afd(0x8cd)+_0x1f500b+_0x5d3afd(0x70a)+_0x1f500b+_0x5d3afd(0x118),_0x1a113d+=_0x5d3afd(0x8d2)+_0x1f500b+'_opt1\x22\x20name=\x22question'+_0x1f500b+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x1f500b+_0x5d3afd(0x2c8);break;case _0x5d3afd(0xf5):_0x1a113d+=_0x5d3afd(0xc17)+_0x362120[_0x5d3afd(0x2f0)]+_0x5d3afd(0x8ac)+_0x1f500b+_0x5d3afd(0x412)+_0x362120[_0x5d3afd(0x4f0)][_0x5d3afd(0x9a0)](_0x2e0b55=>'<option\x20value=\x22'+_0x2e0b55+'\x22>'+_0x2e0b55+_0x5d3afd(0x9e))[_0x5d3afd(0xd9)]('')+_0x5d3afd(0x39f);break;default:_0x1a113d+=_0x362120[_0x5d3afd(0x4b2)][_0x5d3afd(0x9a0)]((_0x4486d1,_0x562c2e)=>_0x5d3afd(0x343)+_0x1f500b+_0x5d3afd(0x6a0)+_0x562c2e+_0x5d3afd(0x704)+_0x1f500b+_0x5d3afd(0x193)+_0x562c2e+_0x5d3afd(0x4da)+_0x1f500b+_0x5d3afd(0x6a0)+_0x562c2e+'\x22>'+_0x4486d1+_0x5d3afd(0x597))['join']('');break;}_0x1a113d+='</div>',_0x8a5398&&(_0x1a113d+=_0x5d3afd(0x7f5),_0x5d3f9c===_0x5d3afd(0x8fa)?_0x1a113d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x1f500b+_0x5d3afd(0xc7)+_0x1f500b+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x1f500b+_0x5d3afd(0x93a)+_0x1f500b+_0x5d3afd(0xbd0):_0x1a113d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence'+_0x1f500b+'\x22\x20name=\x22confidence'+_0x1f500b+_0x5d3afd(0x198)+_0x1f500b+_0x5d3afd(0xac3),_0x1a113d+=_0x5d3afd(0xc94)),_0x1a113d+=_0x5d3afd(0xc94);}),_0x1a113d+=_0x427ba7(0xb43),_0x1a113d+='</form>',studentQuizArea['innerHTML']=_0x1a113d;if(currentMode===_0x427ba7(0x7d5)){const _0x48f7cb=document[_0x427ba7(0x43c)](_0x427ba7(0x18f));if(_0x48f7cb)_0x48f7cb[_0x427ba7(0x5e1)]('click',cancelAdminTest);}const _0x318ea9=document[_0x427ba7(0x43c)](_0x427ba7(0x46f));_0x318ea9&&(_0x318ea9['addEventListener'](_0x427ba7(0x630),handleSubmitQuiz),_0x318ea9[_0x427ba7(0x5e1)](_0x427ba7(0xbf8),_0x52ed2e=>{const _0x1ddd23=_0x427ba7;if(_0x52ed2e[_0x1ddd23(0x3b5)][_0x1ddd23(0x860)][_0x1ddd23(0xb57)]('confidence-choice-btn')){const _0xc120a5=_0x52ed2e[_0x1ddd23(0x3b5)],_0x1673e6=_0xc120a5[_0x1ddd23(0x82f)][_0x1ddd23(0x8b)],_0x185418=_0xc120a5[_0x1ddd23(0x82f)]['value'];document[_0x1ddd23(0x43c)](_0x1ddd23(0x9a9)+_0x1673e6)[_0x1ddd23(0x5d0)]=_0x185418;const _0x598284=_0xc120a5[_0x1ddd23(0xa87)];_0x598284[_0x1ddd23(0xa6e)](_0x1ddd23(0x2da))[_0x1ddd23(0x27f)](_0x23daf3=>_0x23daf3[_0x1ddd23(0x860)][_0x1ddd23(0xbf3)]('active')),_0xc120a5[_0x1ddd23(0x860)][_0x1ddd23(0x61e)](_0x1ddd23(0x52b));}}));if(window['MathJax'])window[_0x427ba7(0xaf8)][_0x427ba7(0x5ad)]([studentQuizArea]);}async function handleSubmitQuiz(_0xced1ae){const _0x3f9e67=_0x587d0b;if(_0xced1ae)_0xced1ae['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0xf26ec4=document[_0x3f9e67(0x43c)](_0x3f9e67(0x46f));if(!_0xf26ec4)return;const _0x1ea77d=currentDisplayedQuiz['settings']?.[_0x3f9e67(0x814)]===!![],_0x53987b=currentDisplayedQuiz[_0x3f9e67(0x731)]?.[_0x3f9e67(0x7eb)]||_0x3f9e67(0x107);if(_0x1ea77d&&_0x53987b===_0x3f9e67(0x8fa)){let _0xc0fa1=!![];for(let _0x332f5d=0x0;_0x332f5d<currentDisplayedQuiz[_0x3f9e67(0x66b)][_0x3f9e67(0x3ce)];_0x332f5d++){const _0x447018=_0xf26ec4['querySelector'](_0x3f9e67(0xbed)+_0x332f5d);if(!_0x447018||_0x447018['value']===''){_0xc0fa1=![];break;}}if(!_0xc0fa1){showMessage(_0x3f9e67(0x559));return;}}const _0x115001=_0xf26ec4[_0x3f9e67(0xb1b)](_0x3f9e67(0x37c)),_0x4c018e=currentDisplayedQuiz['questions'][_0x3f9e67(0xb5d)](_0xa295f8=>_0xa295f8['questionType']===_0x3f9e67(0x573));_0x115001&&(_0x115001[_0x3f9e67(0x35d)]=!![],_0x115001['innerHTML']=_0x4c018e?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x3f9e67(0x94b));const _0xce84b9=new FormData(_0xf26ec4),_0x29be40=currentDisplayedQuiz[_0x3f9e67(0x66b)][_0x3f9e67(0x9a0)]((_0x475ef2,_0x1464c5)=>{const _0xa61421=_0x3f9e67,_0xf01f4=_0xce84b9[_0xa61421(0x40a)]('question'+_0x1464c5);let _0x5004f6;_0x53987b===_0xa61421(0x8fa)?_0x5004f6=_0xce84b9[_0xa61421(0x40a)](_0xa61421(0x4cb)+_0x1464c5):_0x5004f6=_0xce84b9[_0xa61421(0x40a)]('confidence'+_0x1464c5)==='on';let _0x5da036=null;if(_0xf01f4!==null&&_0xf01f4!==undefined){const _0x1f0aab=_0x475ef2[_0xa61421(0x8af)]||currentDisplayedQuiz['quizType'];_0x1f0aab===_0xa61421(0x51f)||_0x1f0aab===_0xa61421(0x446)?_0x5da036=parseInt(_0xf01f4):_0x5da036=_0xf01f4;}return{'answer':_0x5da036,'wasConfident':_0x5004f6};}),_0x4ba6a4=currentQuizData['id'],_0x1a360e=doc(db,_0x3f9e67(0x1f0)+appId+_0x3f9e67(0x261)+_0x4ba6a4+_0x3f9e67(0xc46),currentStudentName),_0x36a64c=await getDoc(_0x1a360e),_0x655708=_0x36a64c['exists']()?_0x36a64c[_0x3f9e67(0xc12)]():{},_0x4b5cd4=_0x655708['attempts']||[];await processAndSubmitAnswers(_0x29be40,_0x4b5cd4);}async function gradeShortAnswerWithAI(_0x51b118,_0x5298c1){const _0x2422a1=_0x587d0b;if(!_0x51b118||!_0x5298c1)return![];try{const _0x2caff4=_0x2422a1(0x720)+_0x51b118+_0x2422a1(0xea)+_0x5298c1+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x1f5cf1={'contents':[{'role':_0x2422a1(0x480),'parts':[{'text':_0x2caff4}]}]},_0x166006='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x26afea='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x166006,_0x5cb252=await fetch(_0x26afea,{'method':'POST','headers':{'Content-Type':_0x2422a1(0x909)},'body':JSON[_0x2422a1(0x616)](_0x1f5cf1)});if(!_0x5cb252['ok'])throw new Error(_0x2422a1(0x4c0));const _0x80a607=await _0x5cb252[_0x2422a1(0xb6)](),_0x109d48=_0x80a607['candidates'][0x0][_0x2422a1(0xac7)][_0x2422a1(0xc0c)][0x0][_0x2422a1(0xa1b)]['trim']()[_0x2422a1(0x35e)]();return _0x109d48===_0x2422a1(0x529);}catch(_0x36c0fc){return console[_0x2422a1(0x48f)](_0x2422a1(0x2dc),_0x36c0fc),![];}}async function processAndSubmitAnswers(_0x120f7d,_0x10db79){const _0xb61dd6=_0x587d0b;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0xb61dd6(0x2b9)](_0xb61dd6(0x171),handleFullscreenChange),document[_0xb61dd6(0x2b9)](_0xb61dd6(0x966),handleVisibilityChange);let _0x336448=0x0;const _0x2e17a4=[],_0x13e436=currentDisplayedQuiz['questions'][_0xb61dd6(0x3ce)];let _0x2e696f=0x0,_0x284f51=[];const _0x35ba51=currentDisplayedQuiz[_0xb61dd6(0x66b)];for(let _0x28290a=0x0;_0x28290a<_0x35ba51[_0xb61dd6(0x3ce)];_0x28290a++){const _0xc7a432=_0x35ba51[_0x28290a],_0x177a69=_0x120f7d[_0x28290a],_0x2499fc=_0x177a69?_0x177a69[_0xb61dd6(0x831)]:null,_0x3646fb=_0x177a69?_0x177a69[_0xb61dd6(0x6b1)]:null;let _0x3cdd20=![],_0x5301f7=0x0;if(_0x2499fc!==null&&_0x2499fc!==''){const _0x5b10e5=_0xc7a432[_0xb61dd6(0x8af)]||currentDisplayedQuiz[_0xb61dd6(0x86d)];switch(_0x5b10e5){case _0xb61dd6(0xf5):_0x3cdd20=_0x2499fc===_0xc7a432['correctResponse'];break;case _0xb61dd6(0x907):const _0x328e5f=_0x2499fc===!![]||_0x2499fc===_0xb61dd6(0x529);_0x3cdd20=_0x328e5f===_0xc7a432[_0xb61dd6(0x347)];break;case _0xb61dd6(0x573):_0x3cdd20=await gradeShortAnswer(_0x2499fc,_0xc7a432);break;case _0xb61dd6(0x51f):default:_0x3cdd20=Number(_0x2499fc)===_0xc7a432[_0xb61dd6(0x828)];break;}}if(currentDisplayedQuiz[_0xb61dd6(0x731)]?.[_0xb61dd6(0x814)]){const _0x182a45=_0x177a69?_0x177a69[_0xb61dd6(0x6b1)]:null;if(_0x3cdd20&&(_0x182a45===!![]||_0x182a45==='confident'))_0x5301f7=0x2;else{if(_0x3cdd20)_0x5301f7=0x1;else{if(!_0x3cdd20&&(_0x182a45===![]||_0x182a45===_0xb61dd6(0xb1a)||_0x182a45===null))_0x5301f7=0x0;else!_0x3cdd20&&(_0x182a45===!![]||_0x182a45===_0xb61dd6(0x83b))&&(_0x5301f7=-0x1);}}}else _0x5301f7=_0x3cdd20?0x1:0x0;_0x336448+=_0x5301f7;if(_0x3cdd20){_0x2e696f++;if(_0x2e696f===0x3)_0x284f51[_0xb61dd6(0x211)](BADGES['ON_FIRE']['id']);}else _0x2e696f=0x0;let _0x430fc0=null;_0xc7a432['options']&&_0x2499fc!==null&&(_0x430fc0=_0xc7a432[_0xb61dd6(0x4b2)][_0x2499fc]),_0x2e17a4['push']({'questionId':_0xc7a432['id'],'answer':_0x2499fc,'answerText':_0x430fc0,'isCorrect':_0x3cdd20,'wasConfident':_0x3646fb,'pointsAwarded':_0x5301f7,'originalQuestionText':_0xc7a432['stem']||_0xc7a432['questionText']});}const _0x2ba2e6=_0x2e17a4[_0xb61dd6(0x35c)](_0x7f7935=>_0x7f7935['isCorrect'])[_0xb61dd6(0x3ce)],_0x2b4016=currentDisplayedQuiz[_0xb61dd6(0x731)]?.['passingScore']??Math[_0xb61dd6(0x4d7)](_0x13e436/0x2);_0x2ba2e6===_0x13e436&&_0x13e436>0x0&&!currentDisplayedQuiz['isRemedial']&&_0x284f51[_0xb61dd6(0x211)](BADGES[_0xb61dd6(0x2de)]['id']);const _0xc390b5=currentDisplayedQuiz['settings']?.['timerMode'];if(_0xc390b5==='whole_quiz'&&quizStartTime){const _0x6fee35=(new Date()-quizStartTime)/0x3e8,_0x48bbcd=currentDisplayedQuiz['settings']['timerDuration']*0x3c;_0x2ba2e6>=_0x2b4016&&_0x6fee35<_0x48bbcd/0x2&&_0x284f51[_0xb61dd6(0x211)](BADGES[_0xb61dd6(0xf2)]['id']);}_0x10db79[_0xb61dd6(0x3ce)]===0x0&&_0x2ba2e6===_0x13e436&&_0x13e436>0x0&&_0x284f51['push'](BADGES['FIRST_TRY_ACE']['id']);if(_0x10db79[_0xb61dd6(0x3ce)]>0x0){const _0x56bcad=_0x10db79[0x0][_0xb61dd6(0x7c3)];if(_0x56bcad<_0x2b4016&&_0x2ba2e6>=_0x2b4016){const _0x5c7a18=_0x10db79[_0xb61dd6(0xb5d)](_0x17fb87=>(_0x17fb87[_0xb61dd6(0xc8)]||[])[_0xb61dd6(0x69d)](BADGES[_0xb61dd6(0xc5e)]['id']));!_0x5c7a18&&_0x284f51[_0xb61dd6(0x211)](BADGES[_0xb61dd6(0xc5e)]['id']);}}_0x10db79[_0xb61dd6(0x3ce)]===0x4&&_0x284f51['push'](BADGES['PERSEVERANCE']['id']);const _0x27b2f1=currentDisplayedQuiz[_0xb61dd6(0x731)][_0xb61dd6(0xb01)];if(currentMode==='admin-testing'){handleResultDisplay(_0x27b2f1,_0x2ba2e6,_0x336448,_0x284f51,_0x2e17a4,_0x13e436);return;}const _0x5c0ba5=currentQuizData['id'],_0xa248dd=doc(db,_0xb61dd6(0x1f0)+appId+'/public/data/quizzes/'+_0x5c0ba5+_0xb61dd6(0xc46),currentStudentName);try{const _0x4cf12f=[..._0x10db79],_0x159233={'score':_0x2ba2e6,'points':_0x336448,'badges':Array[_0xb61dd6(0xb3b)](new Set(_0x284f51)),'submittedAt':new Date()[_0xb61dd6(0x339)](),'answers':_0x2e17a4};_0x4cf12f[_0xb61dd6(0x211)](_0x159233);const _0x3d1591=_0x10db79[_0xb61dd6(0x3ce)]===0x0?_0x2ba2e6:_0x10db79[0x0][_0xb61dd6(0x7c3)]||0x0,_0x201383=Math[_0xb61dd6(0x79e)](..._0x4cf12f[_0xb61dd6(0x9a0)](_0x551ee4=>_0x551ee4[_0xb61dd6(0x7c3)]));await setDoc(_0xa248dd,{'studentName':currentStudentName,'totalQuestions':_0x13e436,'attempts':_0x4cf12f,'firstScore':_0x3d1591,'bestScore':_0x201383,'latestScore':_0x2ba2e6,'points':_0x336448,'latestSubmittedAt':_0x159233[_0xb61dd6(0x301)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0xb61dd6(0x2d6)],currentStudentName),handleResultDisplay(_0x27b2f1,_0x2ba2e6,_0x336448,_0x284f51,_0x2e17a4,_0x13e436);}catch(_0x46653b){console[_0xb61dd6(0x48f)](_0xb61dd6(0x9c9),_0x46653b),showMessage(_0xb61dd6(0xbd));}}async function updateStudentProfile(_0x4d820a,_0x54eccd){const _0x4bab81=_0x587d0b,_0x11c15f=doc(db,_0x4bab81(0x1f0)+appId+_0x4bab81(0xa43)+_0x4d820a+_0x4bab81(0x702),_0x54eccd);try{const _0x18bd4a=query(collection(db,_0x4bab81(0x1f0)+appId+_0x4bab81(0x92d)),where(_0x4bab81(0x2d6),'==',_0x4d820a)),_0x420a60=await getDocs(_0x18bd4a),_0x1e14bb=new Map(_0x420a60[_0x4bab81(0xbb3)][_0x4bab81(0x9a0)](_0x1674b0=>[_0x1674b0['id'],_0x1674b0['data']()])),_0x17a09d=Array[_0x4bab81(0xb3b)](_0x1e14bb['keys']());await runTransaction(db,async _0x2938ed=>{const _0x3bb9e0=_0x4bab81;let _0x42f874=0x0;const _0x4a66f8={};let _0x3d4f30=!![],_0x2f09ad=0x0,_0x30aa3e=0x0;for(const _0x21e5d7 of _0x17a09d){const _0x1284ac=_0x1e14bb['get'](_0x21e5d7),_0x110ce1=doc(db,'artifacts/'+appId+_0x3bb9e0(0x261)+_0x21e5d7+'/submissions',_0x54eccd),_0x31fe8d=await _0x2938ed[_0x3bb9e0(0x40a)](_0x110ce1);if(_0x31fe8d[_0x3bb9e0(0x2ef)]()){const _0x1cc4c9=_0x31fe8d[_0x3bb9e0(0xc12)](),_0x8ad939=_0x1cc4c9[_0x3bb9e0(0x55e)]||[];if(_0x8ad939[_0x3bb9e0(0x3ce)]>0x0){const _0x2b8685=_0x8ad939['reduce']((_0x17c805,_0x617c9d)=>{const _0x3c1980=_0x3bb9e0;if(_0x617c9d[_0x3c1980(0x7c3)]>_0x17c805[_0x3c1980(0x7c3)])return _0x617c9d;if(_0x617c9d[_0x3c1980(0x7c3)]===_0x17c805[_0x3c1980(0x7c3)])return(_0x617c9d[_0x3c1980(0x69f)]||0x0)>(_0x17c805['points']||0x0)?_0x617c9d:_0x17c805;return _0x17c805;},{'score':-0x1,'points':-0x1});_0x2b8685[_0x3bb9e0(0x7c3)]>-0x1&&(_0x42f874+=_0x2b8685[_0x3bb9e0(0x69f)]||0x0,(_0x2b8685[_0x3bb9e0(0xc8)]||[])[_0x3bb9e0(0x27f)](_0x4f3208=>{_0x4a66f8[_0x4f3208]=(_0x4a66f8[_0x4f3208]||0x0)+0x1;}));}}if(_0x1284ac[_0x3bb9e0(0x53e)]!==_0x3bb9e0(0x8d6)){_0x30aa3e++;if(_0x31fe8d[_0x3bb9e0(0x2ef)]()){_0x2f09ad++;const _0x2ed8d6=_0x31fe8d['data']();_0x2ed8d6['bestScore']!==_0x2ed8d6[_0x3bb9e0(0xbcf)]&&(_0x3d4f30=![]);}else _0x3d4f30=![];}}_0x30aa3e>0x0&&_0x2f09ad===_0x30aa3e&&_0x3d4f30?_0x4a66f8[_0x3bb9e0(0xb86)]=0x1:_0x4a66f8['specialist']=0x0,_0x2938ed[_0x3bb9e0(0x964)](_0x11c15f,{'studentName':_0x54eccd,'totalPoints':_0x42f874,'unlockedBadges':Object[_0x3bb9e0(0x1c7)](_0x4a66f8)[_0x3bb9e0(0x35c)](_0x562503=>_0x4a66f8[_0x562503]>0x0),'badgesCount':_0x4a66f8},{'merge':!![]});});}catch(_0x52d139){console[_0x4bab81(0x48f)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x52d139),showMessage(_0x4bab81(0x47e));}}function startAdminTest(){const _0x1ba398=_0x587d0b;if(!currentQuizData){showMessage(_0x1ba398(0x2e0));return;}let _0x589b28=JSON[_0x1ba398(0xae3)](JSON[_0x1ba398(0x616)](currentQuizData));currentMode='admin-testing',currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x1ba398(0x860)][_0x1ba398(0x61e)](_0x1ba398(0x6e9)),studentView[_0x1ba398(0x860)][_0x1ba398(0xbf3)](_0x1ba398(0x6e9)),studentInitialView[_0x1ba398(0x860)]['add'](_0x1ba398(0x6e9)),studentNameSelectionView[_0x1ba398(0x860)][_0x1ba398(0x61e)](_0x1ba398(0x6e9)),studentResultArea[_0x1ba398(0x860)][_0x1ba398(0x61e)](_0x1ba398(0x6e9)),studentQuizArea[_0x1ba398(0x860)][_0x1ba398(0xbf3)](_0x1ba398(0x6e9)),quizStartTime=new Date(),displayQuizForStudent(_0x589b28);}function handleResultDisplay(_0x237859,_0x39bc41,_0x420e18,_0x3dda5a,_0x42422f,_0x3b7699){const _0xd878ae=_0x587d0b;if(_0x237859==='manual_release'){displaySubmissionConfirmation();return;}const _0x4d36c3=currentDisplayedQuiz[_0xd878ae(0x731)]?.[_0xd878ae(0x2bf)]??Math[_0xd878ae(0x4d7)](_0x3b7699/0x2),_0x9c5bf8=currentDisplayedQuiz[_0xd878ae(0x731)]?.['isAdaptive']??![],_0x41a8e4=currentDisplayedQuiz['settings']?.[_0xd878ae(0x1b8)]===!![],_0x5c27a1=_0x39bc41<_0x4d36c3,_0x5e21c7=_0x237859===_0xd878ae(0x57e)||_0x237859===_0xd878ae(0x6aa);if(_0x41a8e4&&_0x5c27a1&&!_0x5e21c7){_0x237859==='show_results_and_answers'?displayResultsWithAnswers(_0x39bc41,_0x420e18,_0x3dda5a,_0x42422f,_0x3b7699,!![]):displayLoopScreen(_0x39bc41,_0x3b7699,_0x237859);return;}if(_0x9c5bf8&&_0x5c27a1){startAdaptiveFlow(_0x42422f,_0x39bc41,_0x3b7699);return;}switch(_0x237859){case _0xd878ae(0x5fb):displayResultsWithAnswers(_0x39bc41,_0x420e18,_0x3dda5a,_0x42422f,_0x3b7699);break;case _0xd878ae(0xbe):displayResultsScoreOnly(_0x39bc41,_0x420e18,_0x3dda5a,_0x3b7699);break;case'show_pass_fail_only':displayPassFailOnly(_0x39bc41,_0x3b7699);break;case _0xd878ae(0x57e):displayHalfMarkResult(_0x39bc41,_0x3b7699);break;case'perfect_score_status':displayPerfectScoreResult(_0x39bc41,_0x3b7699);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x344c30){const _0x51302d=_0x587d0b;studentReadingArea[_0x51302d(0x30c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x1e69cd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x344c30+_0x51302d(0x485)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x1edf3e={'type':_0x51302d(0x371),'properties':{'questionText':{'type':_0x51302d(0xbff)},'options':{'type':_0x51302d(0x3ec),'items':{'type':_0x51302d(0xbff)}},'correctAnswerIndex':{'type':_0x51302d(0x52c)},'explanation':{'type':_0x51302d(0xbff)}},'required':[_0x51302d(0xb89),_0x51302d(0x4b2),'correctAnswerIndex',_0x51302d(0x19b)]},_0x9a8d2b={'type':_0x51302d(0x371),'properties':{'topic':{'type':_0x51302d(0xbff)},'questions':{'type':_0x51302d(0x3ec),'items':_0x1edf3e}},'required':[_0x51302d(0x53e),_0x51302d(0x66b)]};try{const _0x374dbb=await callAnalysisApi(_0x1e69cd,_0x9a8d2b);_0x374dbb[_0x51302d(0x3e9)]=!![],studentReadingArea[_0x51302d(0x860)][_0x51302d(0x61e)]('hidden');const _0x3f2f7={...currentDisplayedQuiz[_0x51302d(0x731)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x374dbb['settings']=_0x3f2f7,displayQuizForStudent(_0x374dbb);}catch(_0x2a0eaf){console[_0x51302d(0x48f)](_0x51302d(0xa30),_0x2a0eaf),showMessage(_0x51302d(0x32f)),showView(_0x51302d(0x8de));}}function displayPassFailOnly(_0x3aead4,_0x732e72){const _0x4cea51=_0x587d0b,_0x22cb94=currentDisplayedQuiz['settings']?.[_0x4cea51(0x2bf)]??-0x1,_0x42d7c9=currentDisplayedQuiz[_0x4cea51(0x3e9)]===!![];let _0x36cf5e='',_0x298e1d=![];if(_0x42d7c9||_0x22cb94!==-0x1){_0x298e1d=_0x42d7c9?_0x3aead4===_0x732e72:_0x3aead4>=_0x22cb94;const _0x27dd08=_0x298e1d?_0x4cea51(0xba1):_0x4cea51(0x6df),_0x2352c7=_0x298e1d?_0x4cea51(0x998):_0x4cea51(0x643);_0x36cf5e='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x27dd08+'\x22>'+_0x2352c7+_0x4cea51(0xac4);}else _0x36cf5e=_0x4cea51(0xbfe);let _0x2b90c2=_0x4cea51(0x185)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x36cf5e+_0x4cea51(0xc70);studentResultArea[_0x4cea51(0x30c)]=_0x2b90c2,studentResultArea[_0x4cea51(0x860)][_0x4cea51(0xbf3)]('hidden'),studentQuizArea['classList'][_0x4cea51(0x61e)](_0x4cea51(0x6e9)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x298e1d});}function cancelAdminTest(){const _0x28325e=_0x587d0b;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x28325e(0x2b9)](_0x28325e(0x171),handleFullscreenChange),document[_0x28325e(0x2b9)](_0x28325e(0x966),handleVisibilityChange),currentMode=_0x28325e(0x71f),studentView[_0x28325e(0x860)][_0x28325e(0x61e)](_0x28325e(0x6e9)),adminView[_0x28325e(0x860)]['remove'](_0x28325e(0x6e9)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x28325e(0xaf7));}function setupResultScreenBackButton(_0x32711c){const _0x11d9b4=_0x587d0b,_0x544301={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x32711c};if(_0x544301[_0x11d9b4(0x71b)]){const _0x2f812c=_0x11d9b4(0x6c8);studentResultArea[_0x11d9b4(0x660)](_0x11d9b4(0x97e),_0x2f812c),document[_0x11d9b4(0x43c)](_0x11d9b4(0x9d2))[_0x11d9b4(0x5e1)]('click',()=>{const _0x1863df=_0x11d9b4;studentResultArea[_0x1863df(0x860)][_0x1863df(0x61e)](_0x1863df(0x6e9)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x4b4b49=_0x11d9b4(0x2aa),_0x17013d=currentMode===_0x11d9b4(0x7d5),_0xcb84d1=_0x17013d?_0x11d9b4(0x5ed):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x377411='';_0x544301['showRankings']&&(_0x377411+=_0x11d9b4(0x7c));let _0x54f99f=_0x544301['showImproveButton'];_0x54f99f===undefined&&(_0x54f99f=_0x544301[_0x11d9b4(0x7c3)]<_0x544301[_0x11d9b4(0xbcf)]);_0x54f99f&&(_0x377411+=_0x11d9b4(0x1d9));_0x377411+='<button\x20id=\x22'+_0x4b4b49+_0x11d9b4(0x62d)+_0xcb84d1+_0x11d9b4(0x6d0);const _0x57ae80=_0x11d9b4(0x48d)+_0x377411+'</div>';studentResultArea[_0x11d9b4(0x660)](_0x11d9b4(0x97e),_0x57ae80),studentResultArea[_0x11d9b4(0xb1b)]('#view-rankings-btn')?.[_0x11d9b4(0x5e1)](_0x11d9b4(0xbf8),handleShowStudentRankings);const _0x4717a5=studentResultArea['querySelector'](_0x11d9b4(0xb0a));_0x4717a5&&_0x4717a5[_0x11d9b4(0x5e1)](_0x11d9b4(0xbf8),()=>{const _0x43a940=_0x11d9b4;studentResultArea[_0x43a940(0x860)][_0x43a940(0x61e)](_0x43a940(0x6e9)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x11d9b4(0x43c)](_0x4b4b49)[_0x11d9b4(0x5e1)](_0x11d9b4(0xbf8),()=>{const _0xc3c742=_0x11d9b4;_0x17013d?(currentMode=_0xc3c742(0x71f),studentView['classList']['add'](_0xc3c742(0x6e9)),adminView['classList']['remove']('hidden'),showView(_0xc3c742(0xaf7))):(showView(_0xc3c742(0x8de)),document[_0xc3c742(0x43c)](_0xc3c742(0x68e))[_0xc3c742(0x5d0)]='');});}function displayResultsWithAnswers(_0x13e94a,_0x57a9d8,_0x2f4658,_0x4ed66b,_0x19e6d1,_0x467b7b=![]){const _0x8d95cc=_0x587d0b,_0x500dcc=_0x19e6d1>0x0?_0x13e94a/_0x19e6d1*0x64:0x0,_0x4904e9=currentDisplayedQuiz[_0x8d95cc(0x731)]?.['passingScore']??-0x1,_0x53a43c=currentDisplayedQuiz['isRemedial']===!![];let _0x10f374='';if(_0x53a43c||_0x4904e9!==-0x1){let _0x3ad5e4=_0x53a43c?_0x13e94a===_0x19e6d1:_0x13e94a>=_0x4904e9;const _0x1d0682=_0x3ad5e4?_0x8d95cc(0xba1):_0x8d95cc(0x6df),_0x255a21=_0x3ad5e4?_0x8d95cc(0x998):_0x8d95cc(0x643);_0x10f374=_0x8d95cc(0xbf2)+_0x1d0682+'\x22>'+_0x255a21+_0x8d95cc(0x85a);}let _0x16edb0=_0x8d95cc(0x65e)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x13e94a+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x19e6d1+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10f374+_0x8d95cc(0x686)+_0x57a9d8+_0x8d95cc(0x4dc)+_0x500dcc[_0x8d95cc(0x5ef)](0x0)+_0x8d95cc(0x1ad);currentDisplayedQuiz[_0x8d95cc(0x66b)][_0x8d95cc(0x27f)]((_0x4deb3a,_0x24a396)=>{const _0x15bde5=_0x8d95cc,_0x13d2d7=_0x4ed66b[_0x24a396],_0x198f83=_0x13d2d7[_0x15bde5(0x831)],_0xcb983c=_0x13d2d7[_0x15bde5(0xa35)],_0x5690ce=_0x4deb3a['questionType']||currentDisplayedQuiz[_0x15bde5(0x86d)];_0x16edb0+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0xcb983c?_0x15bde5(0xc06):_0x15bde5(0x724))+_0x15bde5(0x152)+(_0x24a396+0x1)+'.\x20'+(_0x4deb3a[_0x15bde5(0x2f0)]||_0x4deb3a[_0x15bde5(0xb89)])+_0x15bde5(0x3d7);switch(_0x5690ce){case _0x15bde5(0xf5):const _0x4d3e46=_0x198f83||_0x15bde5(0xb41),_0x4fd6a5=_0x4deb3a[_0x15bde5(0xb42)];_0x16edb0+=_0x15bde5(0xa88)+(!_0xcb983c?_0x15bde5(0x87b):'')+'\x22>'+_0x4d3e46+_0x15bde5(0xc61);!_0xcb983c&&(_0x16edb0+=_0x15bde5(0xa4f)+_0x4fd6a5+'</p>');break;case'short_answer':_0x16edb0+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x198f83||_0x15bde5(0xb41))+_0x15bde5(0x85a),_0x16edb0+=_0x15bde5(0x8eb)+_0x4deb3a['idealAnswer']+_0x15bde5(0x85a);break;case'true_false':_0x16edb0+=_0x15bde5(0x8ba)+(_0x4deb3a[_0x15bde5(0x347)]===!![]?_0x15bde5(0x116):'')+'\x20'+(_0x198f83==='true'&&!_0xcb983c?_0x15bde5(0x87b):'')+_0x15bde5(0xa9a),_0x16edb0+='<p\x20class=\x22'+(_0x4deb3a[_0x15bde5(0x347)]===![]?_0x15bde5(0x116):'')+'\x20'+(_0x198f83===_0x15bde5(0x66d)&&!_0xcb983c?'line-through\x20text-red-700':'')+_0x15bde5(0x7a3);break;default:_0x16edb0+=_0x4deb3a[_0x15bde5(0x4b2)]['map']((_0x3bff8b,_0x2395b8)=>{const _0x3100c4=_0x15bde5;let _0x4d4db3='',_0x3a5619='';if(_0x2395b8===_0x4deb3a[_0x3100c4(0x828)])_0x4d4db3=_0x3100c4(0x116),_0x3a5619='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x2395b8===_0x198f83&&(_0x4d4db3=_0x3100c4(0xb6e),_0x3a5619=_0x3100c4(0x840));return _0x3100c4(0x3d1)+_0x4d4db3+'\x22>'+_0x3a5619+_0x3bff8b+_0x3100c4(0xc94);})[_0x15bde5(0xd9)]('');break;}_0x16edb0+=_0x15bde5(0x95d)+(_0x4deb3a['explanation']||_0x15bde5(0x54d))+_0x15bde5(0xc94);if(!_0xcb983c){const _0xd5f8bc=_0x4deb3a[_0x15bde5(0x2f0)]||_0x4deb3a[_0x15bde5(0xb89)];_0x16edb0+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0xd5f8bc)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x16edb0+='</div>';}),studentResultArea[_0x8d95cc(0x30c)]=_0x16edb0,renderEarnedBadges(_0x2f4658,_0x8d95cc(0x52d)),studentResultArea['classList']['remove'](_0x8d95cc(0x6e9)),studentQuizArea[_0x8d95cc(0x860)][_0x8d95cc(0x61e)]('hidden'),setupResultScreenBackButton({'isLooping':_0x467b7b,'score':_0x13e94a,'totalQuestions':_0x19e6d1,'showRankings':!![]});if(window['MathJax'])window[_0x8d95cc(0xaf8)][_0x8d95cc(0x5ad)]([studentResultArea]);}function displayResultsScoreOnly(_0x3fcf10,_0x2d8fcb,_0x31851f,_0x51ea26){const _0x50b749=_0x587d0b,_0x5e94eb=_0x51ea26>0x0?_0x3fcf10/_0x51ea26*0x64:0x0,_0x4f8673=currentDisplayedQuiz['settings']?.[_0x50b749(0x2bf)]??-0x1,_0x40240e=currentDisplayedQuiz['isRemedial']===!![];let _0x49cd7e='';if(_0x40240e||_0x4f8673!==-0x1){let _0x6a7043=_0x40240e?_0x3fcf10===_0x51ea26:_0x3fcf10>=_0x4f8673;const _0x2d9f4a=_0x6a7043?'bg-green-100\x20text-green-800':_0x50b749(0x6df),_0x384d2b=_0x6a7043?_0x50b749(0x998):_0x50b749(0x643);_0x49cd7e='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x2d9f4a+'\x22>'+_0x384d2b+'</p>';}let _0x9141a=_0x50b749(0x185)+currentStudentName+_0x50b749(0x6a9)+_0x3fcf10+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x51ea26+_0x50b749(0x6e3)+_0x49cd7e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x2d8fcb+_0x50b749(0xb58)+_0x5e94eb['toFixed'](0x0)+_0x50b749(0x79f);studentResultArea[_0x50b749(0x30c)]=_0x9141a,renderEarnedBadges(_0x31851f,_0x50b749(0x52d)),studentResultArea[_0x50b749(0x860)][_0x50b749(0xbf3)]('hidden'),studentQuizArea[_0x50b749(0x860)][_0x50b749(0x61e)]('hidden'),setupResultScreenBackButton({'score':_0x3fcf10,'totalQuestions':_0x51ea26,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x572972=_0x587d0b;let _0x5e6370=_0x572972(0x58f)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x572972(0x30c)]=_0x5e6370,studentResultArea[_0x572972(0x860)][_0x572972(0xbf3)](_0x572972(0x6e9)),studentQuizArea[_0x572972(0x860)][_0x572972(0x61e)](_0x572972(0x6e9)),document[_0x572972(0x43c)]('back-to-home-manual-release')[_0x572972(0x5e1)](_0x572972(0xbf8),()=>{const _0x2b9939=_0x572972;showView(_0x2b9939(0x8de)),document[_0x2b9939(0x43c)](_0x2b9939(0x68e))[_0x2b9939(0x5d0)]='';});}function renderEarnedBadges(_0x5a77e4,_0x184f02){const _0x435c44=_0x587d0b,_0x3479b9=document[_0x435c44(0x43c)](_0x184f02);if(!_0x3479b9||!_0x5a77e4||_0x5a77e4[_0x435c44(0x3ce)]===0x0)return;let _0x347878='';_0x5a77e4['forEach']((_0x87eafd,_0x2220f3)=>{const _0x2d4a40=_0x435c44,_0xaf89c0=Object[_0x2d4a40(0x512)](BADGES)[_0x2d4a40(0xa3a)](_0x2baa86=>_0x2baa86['id']===_0x87eafd);_0xaf89c0&&(_0x347878+=_0x2d4a40(0x45c)+_0x2220f3*0.2+_0x2d4a40(0xc10)+_0xaf89c0[_0x2d4a40(0x567)]+_0x2d4a40(0xc1f)+_0xaf89c0[_0x2d4a40(0x6fe)]+_0x2d4a40(0xb69)+_0xaf89c0[_0x2d4a40(0x683)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x3479b9[_0x435c44(0x30c)]=_0x347878;}function startPresentation(_0x3b9fcb){const _0x48eda7=_0x587d0b;currentQuizData=getShuffledQuiz(_0x3b9fcb),currentPresentationSlide=0x0,presentationModal[_0x48eda7(0x1fc)]['display']='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0xb33d3b=_0x587d0b;document['fullscreenElement']&&document['exitFullscreen'](),presentationModal[_0xb33d3b(0x1fc)]['display']=_0xb33d3b(0x5eb);}function renderPresentationSlide(_0x4e6fa6){const _0x6eb766=_0x587d0b,_0x5305fe=document[_0x6eb766(0x43c)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x6eb766(0x66b)]||!currentQuizData[_0x6eb766(0x66b)][_0x4e6fa6]){_0x5305fe['innerHTML']=_0x6eb766(0x615);return;}const _0x4b9c3e=currentQuizData['questions'][_0x4e6fa6],_0x447485=_0x4b9c3e[_0x6eb766(0x8af)]||currentQuizData[_0x6eb766(0x86d)];_0x5305fe['innerHTML']='';let _0x21ba70='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4b9c3e[_0x6eb766(0xb6d)]?_0x6eb766(0x121)+_0x4b9c3e['imageCode']+_0x6eb766(0xc94):'')+_0x6eb766(0xc90)+(_0x4e6fa6+0x1)+'.\x20'+(_0x4b9c3e[_0x6eb766(0x2f0)]||_0x4b9c3e[_0x6eb766(0xb89)])+_0x6eb766(0x136);switch(_0x447485){case _0x6eb766(0xf5):_0x21ba70+=_0x4b9c3e['allResponses'][_0x6eb766(0x9a0)](_0x497025=>_0x6eb766(0xd1)+_0x497025+_0x6eb766(0x9b7))['join']('');break;case _0x6eb766(0x907):_0x21ba70+=_0x6eb766(0x6e6),_0x21ba70+=_0x6eb766(0x332);break;case _0x6eb766(0x7c0):case _0x6eb766(0x573):_0x21ba70+=_0x6eb766(0xbb2);break;case _0x6eb766(0x446):case _0x6eb766(0x51f):default:_0x21ba70+=_0x4b9c3e[_0x6eb766(0x4b2)][_0x6eb766(0x9a0)]((_0x27b5d8,_0x5b7306)=>_0x6eb766(0xc7a)+_0x5b7306+_0x6eb766(0x5c9)+_0x27b5d8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x6eb766(0xd9)]('');break;}_0x21ba70+=_0x6eb766(0xb24)+(_0x4b9c3e[_0x6eb766(0x19b)]||_0x6eb766(0x54d))+_0x6eb766(0xbce),_0x5305fe[_0x6eb766(0x30c)]=_0x21ba70;if(window[_0x6eb766(0xaf8)])window[_0x6eb766(0xaf8)][_0x6eb766(0x5ad)]([_0x5305fe]);let _0x1bf606=[];switch(_0x447485){case _0x6eb766(0xf5):_0x1bf606=_0x4b9c3e['allResponses']||[];break;case'true_false':_0x1bf606=[_0x6eb766(0x79c),_0x6eb766(0x976)];break;default:_0x1bf606=_0x4b9c3e[_0x6eb766(0x4b2)]||[];break;}const _0xf6cecc=document[_0x6eb766(0x43c)](_0x6eb766(0x481));_0xf6cecc&&(_0xf6cecc[_0x6eb766(0xb31)]=()=>{openScratchpad(_0x4b9c3e,_0x1bf606);});document['querySelectorAll'](_0x6eb766(0x8f))[_0x6eb766(0x27f)](_0x3f1a70=>{const _0x292ec9=_0x6eb766;_0x3f1a70[_0x292ec9(0x5e1)]('click',_0x32b6c1=>revealAnswerForPresentation(_0x4e6fa6,_0x32b6c1[_0x292ec9(0x526)]));});const _0x2f15f9=document[_0x6eb766(0x43c)](_0x6eb766(0xb88));_0x2f15f9&&_0x2f15f9[_0x6eb766(0x5e1)](_0x6eb766(0xbf8),()=>checkShortAnswerForPresentation(_0x4e6fa6)),document[_0x6eb766(0x43c)](_0x6eb766(0x60c))['textContent']='ข้อที่\x20'+(_0x4e6fa6+0x1)+'\x20/\x20'+currentQuizData[_0x6eb766(0x66b)][_0x6eb766(0x3ce)],document[_0x6eb766(0x43c)](_0x6eb766(0x6d5))[_0x6eb766(0x35d)]=_0x4e6fa6===0x0,document[_0x6eb766(0x43c)](_0x6eb766(0xa47))['disabled']=_0x4e6fa6===currentQuizData[_0x6eb766(0x66b)][_0x6eb766(0x3ce)]-0x1;}async function checkShortAnswerForPresentation(_0x118c69){const _0x3fe830=_0x587d0b,_0x34a8b5=currentQuizData['questions'][_0x118c69],_0x3b503e=document[_0x3fe830(0x43c)](_0x3fe830(0xda)),_0x5dac36=document['getElementById'](_0x3fe830(0xb88)),_0x4b5aac=document[_0x3fe830(0x43c)](_0x3fe830(0x8ae)),_0x3fff00=document['getElementById'](_0x3fe830(0x2e8));if(!_0x3b503e||!_0x5dac36||!_0x4b5aac||!_0x3fff00)return;const _0x23ee82=_0x3b503e[_0x3fe830(0x5d0)][_0x3fe830(0x8e7)]();if(_0x23ee82==='')return;_0x5dac36[_0x3fe830(0x35d)]=!![],_0x5dac36[_0x3fe830(0x30c)]=_0x3fe830(0x8ab),_0x3b503e[_0x3fe830(0x35d)]=!![];const _0x1644ec=await gradeShortAnswer(_0x23ee82,_0x34a8b5);_0x1644ec?_0x4b5aac[_0x3fe830(0x30c)]=_0x3fe830(0xa8d):_0x4b5aac[_0x3fe830(0x30c)]=_0x3fe830(0x8a6)+_0x34a8b5[_0x3fe830(0x1ef)]+')',_0x4b5aac[_0x3fe830(0x860)][_0x3fe830(0xbf3)](_0x3fe830(0x6e9)),_0x3fff00[_0x3fe830(0x860)]['remove'](_0x3fe830(0x6e9)),_0x5dac36[_0x3fe830(0x860)]['add'](_0x3fe830(0x6e9));}function revealAnswerForPresentation(_0x3f6568,_0x15789f){const _0x5c54f9=_0x587d0b,_0x104318=currentQuizData[_0x5c54f9(0x66b)][_0x3f6568],_0x3dc9c8=_0x104318[_0x5c54f9(0x8af)]||currentQuizData[_0x5c54f9(0x86d)];document[_0x5c54f9(0xa6e)]('.presentation-option')[_0x5c54f9(0x27f)](_0x2f7176=>{const _0x307ab2=_0x5c54f9;_0x2f7176[_0x307ab2(0x35d)]=!![],_0x2f7176['classList'][_0x307ab2(0xbf3)](_0x307ab2(0x767));let _0x401ee9=![];if(_0x3dc9c8===_0x307ab2(0x51f)||_0x3dc9c8===_0x307ab2(0x446)){const _0xb279ef=parseInt(_0x2f7176[_0x307ab2(0x82f)][_0x307ab2(0x725)]);_0x401ee9=_0xb279ef===_0x104318[_0x307ab2(0x828)];}else{if(_0x3dc9c8===_0x307ab2(0x907)){const _0x1767bf=_0x2f7176[_0x307ab2(0x82f)][_0x307ab2(0x831)]===_0x307ab2(0x529);_0x401ee9=_0x1767bf===_0x104318[_0x307ab2(0x347)];}else _0x3dc9c8==='matching_item'&&(_0x401ee9=_0x2f7176[_0x307ab2(0xc0d)][_0x307ab2(0x8e7)]()===_0x104318[_0x307ab2(0xb42)]);}_0x401ee9?_0x2f7176['classList'][_0x307ab2(0x61e)](_0x307ab2(0x99f),'text-white',_0x307ab2(0x5e0)):_0x2f7176['classList'][_0x307ab2(0x61e)](_0x307ab2(0x18a));}),_0x15789f['classList'][_0x5c54f9(0xbf3)](_0x5c54f9(0x18a));let _0x271e41=![];if(_0x3dc9c8==='multiple_choice')_0x271e41=parseInt(_0x15789f[_0x5c54f9(0x82f)][_0x5c54f9(0x725)])===_0x104318[_0x5c54f9(0x828)];else{if(_0x3dc9c8==='true_false')_0x271e41=_0x15789f[_0x5c54f9(0x82f)][_0x5c54f9(0x831)]===_0x5c54f9(0x529)===_0x104318[_0x5c54f9(0x347)];else _0x3dc9c8==='matching_item'&&(_0x271e41=_0x15789f[_0x5c54f9(0xc0d)]['trim']()===_0x104318['correctResponse']);}!_0x271e41&&_0x15789f[_0x5c54f9(0x860)]['add'](_0x5c54f9(0xc4b),'text-white',_0x5c54f9(0xb59)),document[_0x5c54f9(0x43c)](_0x5c54f9(0x2e8))['classList'][_0x5c54f9(0xbf3)](_0x5c54f9(0x6e9));}function startWholeQuizTimer(_0x449510){const _0x3144a=_0x587d0b,_0x43b7fd=document[_0x3144a(0x43c)](_0x3144a(0x476));if(!_0x43b7fd)return;const _0x9ccea3=Date[_0x3144a(0x349)]()+_0x449510*0x3c*0x3e8;_0x43b7fd[_0x3144a(0x30c)]=_0x3144a(0x60b);const _0x1bfaeb=document[_0x3144a(0x43c)](_0x3144a(0xa3));quizTimerInterval=setInterval(()=>{const _0x2ec4f7=_0x3144a,_0x44e8d4=_0x9ccea3-Date['now']();if(_0x44e8d4<=0x0)clearInterval(quizTimerInterval),_0x1bfaeb[_0x2ec4f7(0xc0d)]=_0x2ec4f7(0x645),showMessage(_0x2ec4f7(0x4c9)),handleSubmitQuiz(null);else{const _0x4ccff3=Math['floor'](_0x44e8d4/0x3e8/0x3c%0x3c)[_0x2ec4f7(0x6ce)]()[_0x2ec4f7(0x585)](0x2,'0'),_0x402cef=Math[_0x2ec4f7(0x4d7)](_0x44e8d4/0x3e8%0x3c)['toString']()[_0x2ec4f7(0x585)](0x2,'0');_0x1bfaeb[_0x2ec4f7(0xc0d)]=_0x4ccff3+':'+_0x402cef;}},0x3e8);}function renderPerQuestionView(){const _0x3b5350=_0x587d0b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x2ed288=currentDisplayedQuiz[_0x3b5350(0x66b)][currentQuestionIndex],_0x53b6a1=_0x2ed288[_0x3b5350(0x8af)]||currentDisplayedQuiz[_0x3b5350(0x86d)],_0x2f6de9=currentDisplayedQuiz[_0x3b5350(0x731)]?.[_0x3b5350(0x814)]===!![];let _0x5b13fe=_0x3b5350(0x6ed)+(currentQuestionIndex+0x1)+_0x3b5350(0x2a8)+currentDisplayedQuiz[_0x3b5350(0x66b)]['length']+_0x3b5350(0xb29)+(currentMode===_0x3b5350(0x7d5)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x3b5350(0x9ff)+currentDisplayedQuiz[_0x3b5350(0x53e)]+_0x3b5350(0x8d0);studentQuizArea[_0x3b5350(0x30c)]=_0x5b13fe;let _0x3aea10=_0x2ed288['stem']||_0x2ed288[_0x3b5350(0xb89)];_0x2ed288[_0x3b5350(0xb6d)]&&(_0x3aea10+=_0x3b5350(0x121)+_0x2ed288[_0x3b5350(0xb6d)]+_0x3b5350(0xc94));let _0x459a6e='';switch(_0x53b6a1){case'short_answer':case _0x3b5350(0x7c0):_0x459a6e='<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x3b5350(0x907):_0x459a6e=_0x3b5350(0x44f);break;case _0x3b5350(0xf5):_0x459a6e=_0x3b5350(0x316)+(_0x2ed288[_0x3b5350(0x4f0)]||[])[_0x3b5350(0x9a0)](_0x46eb29=>_0x3b5350(0x244)+_0x46eb29+'\x22>'+_0x46eb29+'</option>')['join']('')+_0x3b5350(0x8e6);break;default:_0x2ed288[_0x3b5350(0x4b2)]&&(_0x459a6e=_0x2ed288['options'][_0x3b5350(0x9a0)]((_0x1c9f3c,_0x45d7fc)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x45d7fc+_0x3b5350(0xc6f)+_0x45d7fc+_0x3b5350(0xa04)+_0x45d7fc+'\x22>'+_0x1c9f3c+'</label></div>')[_0x3b5350(0xd9)](''));break;}document[_0x3b5350(0x43c)](_0x3b5350(0x31f))[_0x3b5350(0x30c)]=_0x3aea10,document['getElementById'](_0x3b5350(0xb47))[_0x3b5350(0x30c)]=_0x459a6e;const _0x2c31c1=currentDisplayedQuiz['settings']?.[_0x3b5350(0x814)]===!![],_0x5cfd7a=currentDisplayedQuiz[_0x3b5350(0x731)]?.[_0x3b5350(0x7eb)]||'checkbox';if(_0x2c31c1&&_0x5cfd7a===_0x3b5350(0x107)){const _0x56c0ad=_0x3b5350(0x66e);studentQuizArea[_0x3b5350(0xb1b)](_0x3b5350(0x805))[_0x3b5350(0x660)](_0x3b5350(0x97e),_0x56c0ad);}studentQuizArea[_0x3b5350(0x660)]('beforeend',_0x3b5350(0xa5b)+(currentQuestionIndex===currentDisplayedQuiz[_0x3b5350(0x66b)][_0x3b5350(0x3ce)]-0x1?_0x3b5350(0x460):_0x3b5350(0x7c1))+_0x3b5350(0x43a));currentMode===_0x3b5350(0x7d5)&&document['getElementById']('cancel-test-btn')?.[_0x3b5350(0x5e1)](_0x3b5350(0xbf8),cancelAdminTest);document[_0x3b5350(0x43c)](_0x3b5350(0x3db))['addEventListener'](_0x3b5350(0xbf8),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window['MathJax'][_0x3b5350(0x5ad)]([studentQuizArea]);currentDisplayedQuiz['settings']?.[_0x3b5350(0x470)]===_0x3b5350(0x777)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x12941e=_0x587d0b,_0x246260=currentDisplayedQuiz['settings'][_0x12941e(0xa9)],_0x53b4dd=document[_0x12941e(0x43c)]('per-question-timer-container');if(!_0x53b4dd)return;let _0x449bb1=_0x246260;_0x53b4dd[_0x12941e(0x30c)]=_0x12941e(0x714)+_0x449bb1+_0x12941e(0xa96);const _0x4f3ef9=document[_0x12941e(0x43c)]('timer-bar'),_0x70482a=document['getElementById'](_0x12941e(0x36a));perQuestionTimerInterval=setInterval(()=>{const _0xe90288=_0x12941e;_0x449bb1--;const _0x21b95d=_0x449bb1/_0x246260*0x64;_0x4f3ef9[_0xe90288(0x1fc)][_0xe90288(0x7d3)]=_0x21b95d+'%',_0x70482a['textContent']=_0x449bb1,_0x449bb1<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x407d01=![]){const _0x2dc6a3=_0x587d0b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x44c485=null,_0x3e0ecb=![];if(!_0x407d01){const _0x4c7754=currentDisplayedQuiz[_0x2dc6a3(0x66b)][currentQuestionIndex],_0x3cd89b=_0x4c7754[_0x2dc6a3(0x8af)]||currentDisplayedQuiz['quizType'];if(_0x3cd89b==='short_answer'||_0x3cd89b==='fill_in_no_choices')_0x44c485=document[_0x2dc6a3(0xb1b)](_0x2dc6a3(0xb7))?.[_0x2dc6a3(0x5d0)]['trim']()??'';else{if(_0x3cd89b==='matching_item')_0x44c485=document['querySelector'](_0x2dc6a3(0x12d))?.[_0x2dc6a3(0x5d0)]??'';else{const _0x376ee6=document['querySelector']('input[name=\x22question_single\x22]:checked');_0x376ee6&&(_0x44c485=_0x376ee6[_0x2dc6a3(0x5d0)]);}}if(_0x44c485===null||_0x44c485===''){showMessage(_0x2dc6a3(0x52f)),startPerQuestionTimer();return;}const _0x35b87f=currentDisplayedQuiz[_0x2dc6a3(0x731)]?.[_0x2dc6a3(0x814)]===!![],_0xbc3483=currentDisplayedQuiz[_0x2dc6a3(0x731)]?.[_0x2dc6a3(0x7eb)]||_0x2dc6a3(0x107);if(_0x35b87f&&_0xbc3483===_0x2dc6a3(0x8fa)){document[_0x2dc6a3(0x43c)]('confidence-modal')[_0x2dc6a3(0x82f)]['currentMode']=_0x2dc6a3(0x87f),document[_0x2dc6a3(0x43c)](_0x2dc6a3(0x1b2))['value']=_0x44c485,document[_0x2dc6a3(0x43c)](_0x2dc6a3(0xb0f))[_0x2dc6a3(0x860)][_0x2dc6a3(0xbf3)](_0x2dc6a3(0x6e9));return;}const _0x5b3ca2=document['getElementById'](_0x2dc6a3(0xb80));_0x5b3ca2&&(_0x3e0ecb=_0x5b3ca2[_0x2dc6a3(0x1a3)]);}const _0x40e9ef={'answer':_0x44c485,'wasConfident':_0x3e0ecb};proceedToNextQuestion(_0x40e9ef);}async function finalizePerQuestionQuiz(){const _0x2db63d=_0x587d0b,_0x3eee95=currentDisplayedQuiz[_0x2db63d(0x66b)][_0x2db63d(0xb5d)](_0x99f8a1=>_0x99f8a1[_0x2db63d(0x8af)]===_0x2db63d(0x573));_0x3eee95?showMessage(_0x2db63d(0x21d)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x210e88=currentQuizData['id'],_0x2ff544=doc(db,'artifacts/'+appId+_0x2db63d(0x261)+_0x210e88+_0x2db63d(0xc46),currentStudentName),_0x24c47=await getDoc(_0x2ff544),_0x588ea2=_0x24c47[_0x2db63d(0x2ef)]()?_0x24c47[_0x2db63d(0xc12)]():{},_0x184ce4=_0x588ea2[_0x2db63d(0x55e)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x184ce4);}function getResultsFilename(){const _0x31db65=_0x587d0b,_0x284171=document[_0x31db65(0x43c)]('results-quiz-title')[_0x31db65(0xc0d)][_0x31db65(0x1bf)](/[^a-z0-9]/gi,'_')[_0x31db65(0x35e)]();return _0x31db65(0xaaa)+(_0x284171||'quiz');}function exportResultsAsImage(){const _0x28bd29=_0x587d0b,_0x3da7c3=document['getElementById']('results-table-container');showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x3da7c3)[_0x28bd29(0xac1)](_0x13c532=>{const _0x5bce5a=_0x28bd29,_0x2cf346=document['createElement']('a');_0x2cf346['download']=getResultsFilename()+_0x5bce5a(0x55c),_0x2cf346[_0x5bce5a(0x6a2)]=_0x13c532['toDataURL'](_0x5bce5a(0xa2e)),_0x2cf346[_0x5bce5a(0xbf8)](),messageModal[_0x5bce5a(0x860)][_0x5bce5a(0x61e)](_0x5bce5a(0x6e9));});}function exportResultsAsPDF(){const _0x4aa523=_0x587d0b,{jsPDF:_0xba132e}=window[_0x4aa523(0x6ab)],_0x24cd08=new _0xba132e();_0x24cd08[_0x4aa523(0xc3a)](_0x4aa523(0x16c),'normal'),_0x24cd08['autoTable']({'html':_0x4aa523(0xa99)}),_0x24cd08[_0x4aa523(0x819)](getResultsFilename()+_0x4aa523(0x315));}function exportResultsAsWord(){const _0x24d4f9=_0x587d0b,_0x4e322c='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x24d4f9(0x21b)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x1acf18=_0x24d4f9(0x761),_0x18e71b=_0x4e322c+document['getElementById']('results-table-container')[_0x24d4f9(0x30c)]+_0x1acf18,_0x34c516=_0x24d4f9(0x703)+encodeURIComponent(_0x18e71b),_0x1f7c0a=document[_0x24d4f9(0x7dd)]('a');document['body'][_0x24d4f9(0x47c)](_0x1f7c0a),_0x1f7c0a['href']=_0x34c516,_0x1f7c0a[_0x24d4f9(0x50f)]=getResultsFilename()+_0x24d4f9(0x71e),_0x1f7c0a[_0x24d4f9(0xbf8)](),document['body']['removeChild'](_0x1f7c0a);}function exportResultsAsExcel(){const _0x2319a5=_0x587d0b,_0x456261=document[_0x2319a5(0x43c)]('results-table');let _0x59a8a7=[];for(let _0x5e8d05=0x0;_0x5e8d05<_0x456261[_0x2319a5(0x19f)][_0x2319a5(0x3ce)];_0x5e8d05++){let _0x3599df=[],_0x5a4bfc=_0x456261['rows'][_0x5e8d05]['querySelectorAll'](_0x2319a5(0x1ea));for(let _0x3d3c13=0x0;_0x3d3c13<_0x5a4bfc[_0x2319a5(0x3ce)];_0x3d3c13++){_0x3599df[_0x2319a5(0x211)]('\x22'+_0x5a4bfc[_0x3d3c13][_0x2319a5(0x5b6)][_0x2319a5(0x1bf)](/"/g,'\x22\x22')+'\x22');}_0x59a8a7['push'](_0x3599df[_0x2319a5(0xd9)](','));}const _0x18fef9=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x59a8a7[_0x2319a5(0xd9)]('\x0a')],{'type':_0x2319a5(0x5d8)}),_0x1b9737=document[_0x2319a5(0x7dd)]('a');_0x1b9737[_0x2319a5(0x6a2)]=URL[_0x2319a5(0x8a2)](_0x18fef9),_0x1b9737['download']=getResultsFilename()+_0x2319a5(0x292),_0x1b9737['click']();}function exportTableAsImage(_0xe9591b,_0x5671c6){const _0x251706=_0x587d0b,_0x48bab0=document[_0x251706(0x43c)](_0xe9591b);if(!_0x48bab0){showMessage(_0x251706(0x918));return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x48bab0)[_0x251706(0xac1)](_0x4248f3=>{const _0x1d96a1=_0x251706,_0x105ca4=document[_0x1d96a1(0x7dd)]('a');_0x105ca4[_0x1d96a1(0x50f)]=_0x5671c6+_0x1d96a1(0x55c),_0x105ca4[_0x1d96a1(0x6a2)]=_0x4248f3['toDataURL'](_0x1d96a1(0xa2e)),_0x105ca4[_0x1d96a1(0xbf8)](),messageModal[_0x1d96a1(0x860)][_0x1d96a1(0x61e)](_0x1d96a1(0x6e9));});}function exportTableAsPDF(_0x3fc016,_0x541d83){const _0x2d6647=_0x587d0b,{jsPDF:_0x16ca3e}=window['jspdf'],_0x2b335e=new _0x16ca3e();_0x2b335e[_0x2d6647(0xc3a)]('helvetica',_0x2d6647(0x216)),_0x2b335e[_0x2d6647(0xb16)]({'html':'#'+_0x3fc016}),_0x2b335e['save'](_0x541d83+_0x2d6647(0x315));}function exportTableAsWord(_0x8c799f,_0x440a56){const _0x27a406=_0x587d0b,_0x525864=document[_0x27a406(0x43c)](_0x8c799f);if(!_0x525864){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x1791e4=_0x27a406(0x84f)+_0x27a406(0x246)+_0x27a406(0x21b)+_0x27a406(0xb4),_0x479fea=_0x27a406(0x761),_0x4411a4=_0x1791e4+_0x525864['innerHTML']+_0x479fea,_0x650838=_0x27a406(0x703)+encodeURIComponent(_0x4411a4),_0x4f7d5d=document[_0x27a406(0x7dd)]('a');document[_0x27a406(0x40b)]['appendChild'](_0x4f7d5d),_0x4f7d5d[_0x27a406(0x6a2)]=_0x650838,_0x4f7d5d[_0x27a406(0x50f)]=_0x440a56+'.doc',_0x4f7d5d[_0x27a406(0xbf8)](),document[_0x27a406(0x40b)]['removeChild'](_0x4f7d5d);}function exportTableAsExcel(_0x40596c,_0x4aff99){const _0x329367=_0x587d0b,_0xb6a9b1=document[_0x329367(0x43c)](_0x40596c);if(!_0xb6a9b1){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x28a826=[];for(let _0x24921a=0x0;_0x24921a<_0xb6a9b1['rows'][_0x329367(0x3ce)];_0x24921a++){let _0x25c342=[],_0x35fe18=_0xb6a9b1['rows'][_0x24921a][_0x329367(0xa6e)](_0x329367(0x1ea));for(let _0x38d1c7=0x0;_0x38d1c7<_0x35fe18['length'];_0x38d1c7++){_0x25c342['push']('\x22'+_0x35fe18[_0x38d1c7][_0x329367(0x5b6)][_0x329367(0x1bf)](/"/g,'\x22\x22')+'\x22');}_0x28a826[_0x329367(0x211)](_0x25c342['join'](','));}const _0x55cb7d=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x28a826[_0x329367(0xd9)]('\x0a')],{'type':_0x329367(0x5d8)}),_0x215618=document[_0x329367(0x7dd)]('a');_0x215618[_0x329367(0x6a2)]=URL['createObjectURL'](_0x55cb7d),_0x215618[_0x329367(0x50f)]=_0x4aff99+_0x329367(0x292),_0x215618[_0x329367(0xbf8)]();}function renderAnalytics(_0x101e83,_0x582f83){const _0x5193b9=_0x587d0b,_0x27e197=_0x582f83[_0x5193b9(0x35c)](_0x15d0e2=>_0x15d0e2['latestScore']!==undefined),_0x18f83d=currentProjectData['students'][_0x5193b9(0x3ce)],_0x53a877=_0x27e197[_0x5193b9(0x3ce)],_0x447858=_0x18f83d-_0x53a877,_0x4f5ca4=_0x18f83d>0x0?_0x53a877/_0x18f83d*0x64:0x0,_0x3edea4=_0x27e197[_0x5193b9(0x9a0)](_0x28d3b4=>_0x28d3b4[_0x5193b9(0xba4)]),_0x324edc=_0x3edea4[_0x5193b9(0x3ce)]>0x0?_0x3edea4['reduce']((_0x12e446,_0x1786d6)=>_0x12e446+_0x1786d6,0x0)/_0x3edea4[_0x5193b9(0x3ce)]:0x0,_0x5c0e4e=_0x101e83[_0x5193b9(0x66b)]['length'],_0x151b7e=_0x5c0e4e>0x0?_0x324edc/_0x5c0e4e*0x64:0x0,_0x113f9c=calculateItemAnalysis(_0x101e83,_0x27e197),_0xccbdc3=calculateReliabilityKR20(_0x101e83,_0x27e197,_0x113f9c[_0x5193b9(0x726)]);let _0xa717ba='';if(_0xccbdc3!==null){let _0x1792d5='';if(_0xccbdc3>=0.9)_0x1792d5='ยอดเยี่ยม';else{if(_0xccbdc3>=0.8)_0x1792d5=_0x5193b9(0xa78);else{if(_0xccbdc3>=0.7)_0x1792d5='ดี';else{if(_0xccbdc3>=0.6)_0x1792d5='พอใช้';else _0x1792d5='ควรปรับปรุง';}}}_0xa717ba=_0x5193b9(0x6a1)+_0xccbdc3[_0x5193b9(0x5ef)](0x2)+_0x5193b9(0x672)+_0x1792d5+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0xcd2c15=document[_0x5193b9(0x43c)]('analytics-summary-cards');_0xcd2c15[_0x5193b9(0x30c)]=_0x5193b9(0x8f0)+_0x4f5ca4['toFixed'](0x0)+_0x5193b9(0x3de)+_0x53a877+'/'+_0x18f83d+_0x5193b9(0xa6a)+_0x324edc[_0x5193b9(0x5ef)](0x2)+_0x5193b9(0x43e)+_0x151b7e['toFixed'](0x0)+_0x5193b9(0xb21)+(_0x3edea4['length']>0x0?Math[_0x5193b9(0x79e)](..._0x3edea4):_0x5193b9(0x454))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x3edea4[_0x5193b9(0x3ce)]>0x0?Math[_0x5193b9(0x806)](..._0x3edea4):_0x5193b9(0x454))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa717ba+_0x5193b9(0xbfc);const _0x5038b3=document['getElementById'](_0x5193b9(0xa68));_0x5038b3&&_0x5038b3[_0x5193b9(0xbf3)]();const _0x439eac=_0x5193b9(0x148);_0xcd2c15[_0x5193b9(0x660)]('afterend',_0x439eac);const _0x295b1f=currentProjectData[_0x5193b9(0xc49)]||[];renderSubmissionChart(_0x53a877,_0x447858,_0x27e197,_0x295b1f),renderScoreDistributionChart(_0x27e197,_0x5c0e4e),renderQuestionAnalytics(_0x101e83,_0x27e197,_0x295b1f),renderInterestingStats(_0x101e83,_0x27e197);}async function handleExportLessonPDF(){const _0x18f3a7=_0x587d0b,_0x27dde4=document[_0x18f3a7(0x43c)](_0x18f3a7(0x5a3)),_0x4c6341=document[_0x18f3a7(0x43c)](_0x18f3a7(0xc0b))[_0x18f3a7(0xc0d)],_0x7f7cc9=window[_0x18f3a7(0x499)]('',_0x18f3a7(0x5c0)),_0x41bf54='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x4c6341+_0x18f3a7(0x511)+_0x27dde4[_0x18f3a7(0x30c)]+_0x18f3a7(0x110);_0x7f7cc9[_0x18f3a7(0x2e7)][_0x18f3a7(0x642)](_0x41bf54),_0x7f7cc9[_0x18f3a7(0x2e7)][_0x18f3a7(0x653)](),_0x7f7cc9[_0x18f3a7(0x7c2)]=function(){setTimeout(()=>{_0x7f7cc9['print']();},0x5dc);};}function renderInterestingStats(_0x2d4f11,_0x42a513){const _0xf6db7b=_0x587d0b,_0x31ad67=document['getElementById'](_0xf6db7b(0x845));if(!_0x31ad67)return;if(_0x42a513[_0xf6db7b(0x3ce)]===0x0){_0x31ad67[_0xf6db7b(0x30c)]=_0xf6db7b(0xc4c);return;}const _0x400dc9=_0x2d4f11[_0xf6db7b(0x66b)][_0xf6db7b(0x9a0)]((_0x283c93,_0x578526)=>({'index':_0x578526+0x1,'text':_0x283c93[_0xf6db7b(0xb89)]||_0x283c93[_0xf6db7b(0x2f0)],'correct':0x0}));_0x42a513[_0xf6db7b(0x27f)](_0x18c5f8=>{const _0x2a9001=_0xf6db7b,_0x3da09c=_0x18c5f8['attempts'][_0x18c5f8[_0x2a9001(0x55e)][_0x2a9001(0x3ce)]-0x1];_0x3da09c&&_0x3da09c[_0x2a9001(0x34c)]&&_0x3da09c[_0x2a9001(0x34c)][_0x2a9001(0x27f)](_0x3365b3=>{const _0x54e501=_0x2a9001,_0x1300f7=_0x400dc9['find'](_0x58aedc=>_0x58aedc[_0x54e501(0xa1b)]===_0x3365b3[_0x54e501(0x8b1)]);_0x3365b3[_0x54e501(0xa35)]&&_0x1300f7&&_0x1300f7[_0x54e501(0x22a)]++;});});const _0x401c5b=_0x42a513[_0xf6db7b(0x3ce)],_0x2727bc=Math['max'](..._0x400dc9[_0xf6db7b(0x9a0)](_0x1c0c45=>_0x1c0c45[_0xf6db7b(0x22a)])),_0x5e3403=Math[_0xf6db7b(0x806)](..._0x400dc9[_0xf6db7b(0x9a0)](_0x6e9200=>_0x6e9200['correct'])),_0x47593d=_0x400dc9[_0xf6db7b(0x35c)](_0x63865a=>_0x63865a[_0xf6db7b(0x22a)]===_0x2727bc)[_0xf6db7b(0x9a0)](_0x26e221=>_0xf6db7b(0x81d)+_0x26e221[_0xf6db7b(0x725)]),_0x1b1f59=_0x400dc9['filter'](_0x5ce08c=>_0x5ce08c[_0xf6db7b(0x22a)]===_0x5e3403)[_0xf6db7b(0x9a0)](_0x175ba4=>_0xf6db7b(0x81d)+_0x175ba4[_0xf6db7b(0x725)]),_0x179a0b=_0x42a513[_0xf6db7b(0x34f)]((_0x2c3380,_0x4d1602)=>_0x4d1602['latestScore']-_0x2c3380[_0xf6db7b(0xba4)])[_0xf6db7b(0x35c)]((_0x1fe9e7,_0x2ba23f,_0x42addf)=>_0x1fe9e7[_0xf6db7b(0xba4)]===_0x42addf[0x0][_0xf6db7b(0xba4)]),_0x5be1d7=_0x42a513[_0xf6db7b(0x34f)]((_0x3faad4,_0x30ffb6)=>_0x3faad4['latestScore']-_0x30ffb6[_0xf6db7b(0xba4)])['filter']((_0x201fbd,_0x11fd25,_0x4b5319)=>_0x201fbd[_0xf6db7b(0xba4)]===_0x4b5319[0x0][_0xf6db7b(0xba4)]),_0x2c29f2=_0xf6db7b(0x8d5)+_0x47593d[_0xf6db7b(0xd9)](',\x20')+_0xf6db7b(0x901)+_0x2727bc+'\x20/\x20'+_0x401c5b+_0xf6db7b(0xc92)+_0x1b1f59[_0xf6db7b(0xd9)](',\x20')+_0xf6db7b(0x901)+(_0x401c5b-_0x5e3403)+_0xf6db7b(0xbe0)+_0x401c5b+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x179a0b[_0xf6db7b(0x9a0)](_0x165c7b=>_0x165c7b[_0xf6db7b(0x3eb)])[_0xf6db7b(0xd9)](',\x20')+_0xf6db7b(0x14c)+_0x179a0b[0x0]['latestScore']+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x5be1d7[_0xf6db7b(0x9a0)](_0x320696=>_0x320696[_0xf6db7b(0x3eb)])[_0xf6db7b(0xd9)](',\x20')+_0xf6db7b(0x14c)+_0x5be1d7[0x0][_0xf6db7b(0xba4)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x31ad67[_0xf6db7b(0x30c)]=_0x2c29f2;}function renderSubmissionChart(_0x5712db,_0x1a7481,_0x143eda,_0x1f6c68){const _0x5cf819=_0x587d0b,_0x3279aa=document[_0x5cf819(0x43c)](_0x5cf819(0x285))[_0x5cf819(0x610)]('2d'),_0x3b3309=_0x143eda[_0x5cf819(0x9a0)](_0x37df29=>_0x37df29[_0x5cf819(0x3eb)]),_0x151229=_0x1f6c68[_0x5cf819(0x35c)](_0x394ba5=>!_0x3b3309['includes'](_0x394ba5));chartInstances[_0x5cf819(0x6fc)]&&chartInstances[_0x5cf819(0x6fc)][_0x5cf819(0xb93)](),chartInstances['submission']=new Chart(_0x3279aa,{'type':_0x5cf819(0x3a0),'data':{'labels':[_0x5cf819(0x330),_0x5cf819(0x4a7)],'datasets':[{'data':[_0x5712db,_0x1a7481],'backgroundColor':['#10B981','#F59E0B'],'borderColor':[_0x5cf819(0x84c),_0x5cf819(0x84c)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x5cf819(0x654)},'tooltip':{'callbacks':{'label':function(_0x4fa6cf){const _0x2ea780=_0x5cf819;let _0xf8af95=_0x4fa6cf[_0x2ea780(0x2fa)]||'';return _0xf8af95&&(_0xf8af95+=':\x20'),_0xf8af95+=_0x4fa6cf[_0x2ea780(0x274)],_0xf8af95;},'afterLabel':function(_0x126410){const _0x38f456=_0x5cf819;let _0x54511f;return _0x126410[_0x38f456(0xa26)]===0x0?_0x54511f=_0x3b3309:_0x54511f=_0x151229,_0x54511f[_0x38f456(0x3ce)]>0x0?_0x54511f[_0x38f456(0xd9)]('\x0a'):_0x38f456(0xc98);}}}}}});}function renderScoreDistributionChart(_0x1871ec,_0x3a92f5){const _0x5b21d7=_0x587d0b,_0x603449=document['getElementById'](_0x5b21d7(0xb9d))[_0x5b21d7(0x610)]('2d'),_0x355b43={};for(let _0x268adf=0x0;_0x268adf<=_0x3a92f5;_0x268adf++){_0x355b43[_0x268adf]=0x0;}_0x1871ec['forEach'](_0xa35f0c=>{const _0x2eca7c=_0x5b21d7;_0x355b43[_0xa35f0c[_0x2eca7c(0xba4)]]!==undefined&&_0x355b43[_0xa35f0c[_0x2eca7c(0xba4)]]++;}),chartInstances[_0x5b21d7(0x7c3)]&&chartInstances['score'][_0x5b21d7(0xb93)](),chartInstances[_0x5b21d7(0x7c3)]=new Chart(_0x603449,{'type':'bar','data':{'labels':Object[_0x5b21d7(0x1c7)](_0x355b43),'datasets':[{'label':_0x5b21d7(0x1b6),'data':Object[_0x5b21d7(0x512)](_0x355b43),'backgroundColor':_0x5b21d7(0x90a),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x5b21d7(0xa64)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x17c9e9){const _0x445557=_0x5b21d7,_0x3cfed4=_0x17c9e9['label'],_0x43540d=_0x1871ec['filter'](_0x3a652e=>_0x3a652e[_0x445557(0xba4)]==_0x3cfed4)['map'](_0x1a1167=>_0x1a1167[_0x445557(0x3eb)]);return _0x43540d[_0x445557(0x3ce)]>0x0?_0x43540d[_0x445557(0xd9)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x517e8a,_0x5e4b9d,_0x3b1ed3){const _0x5343ff=_0x587d0b,_0x868048=document[_0x5343ff(0x43c)](_0x5343ff(0xc75));if(_0x3b1ed3[_0x5343ff(0x3ce)]===0x0){_0x868048[_0x5343ff(0x30c)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x14fc95=calculateItemAnalysis(_0x517e8a,_0x5e4b9d),_0x2c3ac5=calculateDistractorAnalysis(_0x517e8a,_0x5e4b9d);let _0x73fcdb='';_0x14fc95[_0x5343ff(0x705)]&&(_0x73fcdb=_0x5343ff(0x23d)+_0x14fc95[_0x5343ff(0x705)][_0x5343ff(0x2a0)][_0x5343ff(0x3ce)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x14fc95[_0x5343ff(0x705)][_0x5343ff(0x2a0)][_0x5343ff(0x9a0)](_0x347546=>_0x5343ff(0x8a7)+_0x347546+_0x5343ff(0x7ef))[_0x5343ff(0xd9)]('')+_0x5343ff(0x515)+_0x14fc95[_0x5343ff(0x705)][_0x5343ff(0x233)][_0x5343ff(0x3ce)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x14fc95[_0x5343ff(0x705)][_0x5343ff(0x233)][_0x5343ff(0x9a0)](_0x505129=>'<li>'+_0x505129+_0x5343ff(0x7ef))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x2fa2a2='';const _0x52a577=_0x5e4b9d['map'](_0x2e2975=>_0x2e2975[_0x5343ff(0x3eb)]),_0x3216fb=_0x2a108e=>{const _0x3b904a=_0x5343ff;if(_0x2a108e>=0.8)return _0x3b904a(0x59e);if(_0x2a108e>=0.6)return _0x3b904a(0xc47);if(_0x2a108e>=0.4)return _0x3b904a(0x276);if(_0x2a108e>=0.2)return _0x3b904a(0x544);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x2c72f9=_0x535be7=>{const _0x279dbd=_0x5343ff;if(_0x535be7<0x0)return _0x279dbd(0xa5f);if(_0x535be7>=0.4)return _0x279dbd(0xa2b);if(_0x535be7>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x535be7>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0xbb79cb=_0x3c833c=>{const _0x5c87ab=_0x5343ff,_0x30cfbe=_0x3c833c[_0x5c87ab(0x5ef)](0x0);if(parseFloat(_0x30cfbe)===0x64)return _0x5c87ab(0x317)+_0x30cfbe+'%</span>';if(_0x3c833c>=0x32)return _0x5c87ab(0x902)+_0x30cfbe+_0x5c87ab(0x1c5);return _0x5c87ab(0x71d)+_0x30cfbe+_0x5c87ab(0x1c5);};_0x517e8a[_0x5343ff(0x66b)][_0x5343ff(0x27f)]((_0xfd16ee,_0x889a19)=>{const _0x42d3d3=_0x5343ff,_0xc5bf7d=_0x14fc95[_0x42d3d3(0x726)][_0x889a19],_0xf6f6a4=_0x2c3ac5[_0x889a19],_0x26f68c=_0xfd16ee[_0x42d3d3(0x2f0)]||_0xfd16ee[_0x42d3d3(0xb89)]||_0xfd16ee[_0x42d3d3(0xb1f)];let _0x498104=0x0;const _0x468567=[],_0x2a386f=[];_0x5e4b9d[_0x42d3d3(0x27f)](_0x9b1118=>{const _0x57fba6=_0x42d3d3,_0x21bca9=_0x9b1118[_0x57fba6(0x55e)][_0x9b1118[_0x57fba6(0x55e)][_0x57fba6(0x3ce)]-0x1];if(_0x21bca9&&_0x21bca9[_0x57fba6(0x34c)]){const _0x1fe74e=_0x21bca9[_0x57fba6(0x34c)][_0x57fba6(0xa3a)](_0x536c56=>_0x536c56[_0x57fba6(0x8b1)]===_0x26f68c)??_0x21bca9[_0x57fba6(0x34c)][_0x889a19]??null;_0x1fe74e&&(_0x1fe74e[_0x57fba6(0xa35)]?(_0x498104++,_0x468567['push'](_0x9b1118[_0x57fba6(0x3eb)])):_0x2a386f[_0x57fba6(0x211)](_0x9b1118[_0x57fba6(0x3eb)]));}});const _0x2b69e9=_0x5e4b9d[_0x42d3d3(0x3ce)]>0x0?_0x498104/_0x5e4b9d['length']*0x64:0x0,_0xc2e924=_0x3b1ed3[_0x42d3d3(0x35c)](_0x425cb1=>!_0x52a577[_0x42d3d3(0x69d)](_0x425cb1)),_0x5b54ef=_0xc5bf7d?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0xc5bf7d['p'][_0x42d3d3(0x5ef)](0x2)+'</p><div>'+_0x3216fb(_0xc5bf7d['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0xc5bf7d['r']['toFixed'](0x2)+_0x42d3d3(0x63e)+_0x2c72f9(_0xc5bf7d['r'])+_0x42d3d3(0xbcb)+_0xbb79cb(_0x2b69e9)+_0x42d3d3(0x9ad):'';let _0x3015d4='';_0xf6f6a4&&(_0x3015d4=_0x42d3d3(0x6cc)+Object[_0x42d3d3(0x1c7)](_0xf6f6a4)[_0x42d3d3(0x9a0)](_0x4b90c4=>{const _0x489758=_0x42d3d3,_0x22023b=_0xf6f6a4[_0x4b90c4],_0x9643d7=parseInt(_0x4b90c4)===_0xfd16ee[_0x489758(0x828)],_0x2d90a2=!_0x9643d7&&_0x22023b['lower_group_count']>_0x22023b[_0x489758(0x9d6)];return _0x489758(0x49f)+(_0x9643d7?_0x489758(0x35a):'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x9643d7?'✔\x20':'')+_0x22023b['text']+_0x489758(0xb23)+_0x22023b[_0x489758(0x9d6)]+_0x489758(0xb23)+_0x22023b['lower_group_count']+'\x20'+(_0x2d90a2?'👍':'')+_0x489758(0xb23)+_0x22023b[_0x489758(0x82e)]+_0x489758(0x11b);})[_0x42d3d3(0xd9)]('')+_0x42d3d3(0x757));let _0x270e60='';_0xc5bf7d&&_0xc5bf7d[_0x42d3d3(0xbd8)]&&(_0x270e60=_0x42d3d3(0xbd9)+_0xc5bf7d[_0x42d3d3(0xbd8)][_0x42d3d3(0x3ce)]+_0x42d3d3(0xab3)+_0xc5bf7d[_0x42d3d3(0xbd8)]['map'](_0x1e8a04=>_0x42d3d3(0x8a7)+(_0x1e8a04[_0x42d3d3(0xa35)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x1e8a04['name']+_0x42d3d3(0x7ef))['join']('')+_0x42d3d3(0xc20)+_0xc5bf7d['lowerGroupResponders'][_0x42d3d3(0x3ce)]+_0x42d3d3(0xab3)+_0xc5bf7d[_0x42d3d3(0x92e)][_0x42d3d3(0x9a0)](_0x262f8f=>_0x42d3d3(0x8a7)+(_0x262f8f['isCorrect']?_0x42d3d3(0xaa9):_0x42d3d3(0xa44))+'\x20'+_0x262f8f[_0x42d3d3(0x683)]+'</li>')[_0x42d3d3(0xd9)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x2fa2a2+=_0x42d3d3(0x370)+(_0x889a19+0x1)+':\x20'+_0x26f68c+_0x42d3d3(0x57b)+_0x5b54ef+_0x42d3d3(0xc5c)+_0x26f68c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x498104+_0x42d3d3(0x2a8)+_0x5e4b9d[_0x42d3d3(0x3ce)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x2b69e9['toFixed'](0x0)+_0x42d3d3(0x6bd)+_0x468567[_0x42d3d3(0x3ce)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x468567['length']>0x0?_0x468567[_0x42d3d3(0xd9)](',\x20'):'ไม่มี')+_0x42d3d3(0x628)+_0x2a386f[_0x42d3d3(0x3ce)]+_0x42d3d3(0x180)+(_0x2a386f[_0x42d3d3(0x3ce)]>0x0?_0x2a386f['join'](',\x20'):_0x42d3d3(0xc98))+_0x42d3d3(0xb8a)+_0xc2e924[_0x42d3d3(0x3ce)]+_0x42d3d3(0x180)+(_0xc2e924[_0x42d3d3(0x3ce)]>0x0?_0xc2e924[_0x42d3d3(0xd9)](',\x20'):_0x42d3d3(0xc98))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3015d4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x270e60+_0x42d3d3(0x3e5);}),_0x868048[_0x5343ff(0x30c)]=_0x73fcdb+_0x2fa2a2;try{window['MathJax']&&MathJax[_0x5343ff(0x5ad)]&&MathJax[_0x5343ff(0x5ad)]([_0x868048]);}catch(_0x2fb7e6){console[_0x5343ff(0x48f)]('MathJax\x20typeset\x20error\x20(analytics):',_0x2fb7e6);}}function calculateDistractorAnalysis(_0x21144c,_0x71c2d5){const _0x33757b=_0x587d0b,_0x4cf32d={};if(_0x71c2d5[_0x33757b(0x3ce)]<0x2)return _0x4cf32d;const _0x2ed277=[..._0x71c2d5][_0x33757b(0x34f)]((_0x1700af,_0x2dec0d)=>{const _0x52b56b=_0x33757b,_0x13513d=_0x2dec0d[_0x52b56b(0xba4)]-_0x1700af[_0x52b56b(0xba4)];if(_0x13513d!==0x0)return _0x13513d;const _0x2ca927=_0x1700af[_0x52b56b(0x55e)]?.['length']||0x1,_0x235889=_0x2dec0d[_0x52b56b(0x55e)]?.[_0x52b56b(0x3ce)]||0x1,_0xfb4c51=_0x2ca927-_0x235889;if(_0xfb4c51!==0x0)return _0xfb4c51;const _0x4bf220=new Date(_0x1700af['latestSubmittedAt']),_0x5061a5=new Date(_0x2dec0d[_0x52b56b(0x5b5)]),_0x13461e=_0x4bf220-_0x5061a5;if(_0x13461e!==0x0)return _0x13461e;return _0x1700af[_0x52b56b(0x3eb)][_0x52b56b(0x164)](_0x2dec0d[_0x52b56b(0x3eb)],'th');}),_0x1f6a5e=_0x2ed277[_0x33757b(0x3ce)],_0x15a484=Math[_0x33757b(0x79e)](0x1,Math[_0x33757b(0x4d7)](_0x1f6a5e*0.33)),_0x13881d=_0x2ed277['slice'](0x0,_0x15a484),_0x32f78a=_0x2ed277[_0x33757b(0x264)](-_0x15a484);return _0x21144c['questions'][_0x33757b(0x27f)]((_0x1c0f48,_0x72b09)=>{const _0x128657=_0x33757b;if(_0x1c0f48[_0x128657(0x8af)]!==_0x128657(0x51f)||!_0x1c0f48[_0x128657(0x4b2)])return;const _0x4cedf7=_0x1c0f48[_0x128657(0xb89)],_0x2fb918={};_0x1c0f48[_0x128657(0x4b2)][_0x128657(0x27f)]((_0x442b39,_0x4cb28a)=>{_0x2fb918[_0x4cb28a]={'text':_0x442b39,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x2ed277[_0x128657(0x27f)](_0x572aa3=>{const _0x273e34=_0x128657,_0x4a3489=_0x572aa3['attempts'][_0x572aa3[_0x273e34(0x55e)]['length']-0x1],_0x2e74a2=_0x4a3489[_0x273e34(0x34c)][_0x273e34(0xa3a)](_0x3d7ee3=>_0x3d7ee3[_0x273e34(0x8b1)]===_0x4cedf7);if(_0x2e74a2&&_0x2e74a2[_0x273e34(0x831)]!==null){const _0x396a36=_0x1c0f48[_0x273e34(0x4b2)][_0x273e34(0x9bd)](_0x1f4794=>_0x1f4794===_0x2e74a2[_0x273e34(0x472)]);_0x396a36!==-0x1&&_0x2fb918[_0x396a36]&&(_0x2fb918[_0x396a36]['total']++,_0x13881d['includes'](_0x572aa3)&&_0x2fb918[_0x396a36][_0x273e34(0x9d6)]++,_0x32f78a[_0x273e34(0x69d)](_0x572aa3)&&_0x2fb918[_0x396a36][_0x273e34(0xb90)]++);}}),_0x4cf32d[_0x72b09]=_0x2fb918;}),_0x4cf32d;}function calculateReliabilityKR20(_0x18105c,_0x246de5,_0x169187){const _0x1c13b8=_0x587d0b,_0x4f2ccd=_0x18105c['questions'][_0x1c13b8(0x3ce)];if(_0x4f2ccd<0x2||_0x246de5[_0x1c13b8(0x3ce)]<0x2)return null;const _0x570d37=_0x246de5['map'](_0x3cfe18=>_0x3cfe18[_0x1c13b8(0xba4)]),_0x3c24d9=_0x570d37[_0x1c13b8(0x80e)]((_0x427f29,_0x5d408e)=>_0x427f29+_0x5d408e,0x0)/_0x570d37[_0x1c13b8(0x3ce)],_0x1de748=_0x570d37['map'](_0x3cb031=>Math['pow'](_0x3cb031-_0x3c24d9,0x2))[_0x1c13b8(0x80e)]((_0x41ca2b,_0x5076ef)=>_0x41ca2b+_0x5076ef,0x0)/_0x570d37[_0x1c13b8(0x3ce)];if(_0x1de748===0x0)return null;let _0x20e9f3=0x0;for(let _0x3793aa=0x0;_0x3793aa<_0x4f2ccd;_0x3793aa++){const _0x38048c=_0x169187[_0x3793aa]?.['p'];if(_0x38048c===undefined)continue;const _0x5e667e=0x1-_0x38048c;_0x20e9f3+=_0x38048c*_0x5e667e;}if(_0x20e9f3===0x0)return null;const _0x106a7c=_0x4f2ccd/(_0x4f2ccd-0x1)*(0x1-_0x20e9f3/_0x1de748);if(_0x106a7c>0x1)return null;return _0x106a7c;}async function handleAnalyzeClass(){const _0x5affe1=_0x587d0b;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x32713d=collection(db,_0x5affe1(0x1f0)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x5affe1(0xc46)),_0x41e809=await getDocs(_0x32713d),_0x3b00fd=_0x41e809['docs'][_0x5affe1(0x9a0)](_0x21396f=>_0x21396f[_0x5affe1(0xc12)]());if(_0x3b00fd['length']<0x2){showMessage(_0x5affe1(0x430));return;}const _0x5e3932=document[_0x5affe1(0x43c)]('strength-weakness-analysis-container');_0x5e3932[_0x5affe1(0x30c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x5affe1(0x43c)]('analyze-strengths-btn')[_0x5affe1(0x35d)]=!![];const _0x4f455a=_0x3b00fd[_0x5affe1(0x9a0)]((_0x1919af,_0x33dce1)=>{const _0xfeda71=_0x5affe1,_0xead3a7=_0x1919af[_0xfeda71(0x55e)][_0x1919af[_0xfeda71(0x55e)][_0xfeda71(0x3ce)]-0x1];if(!_0xead3a7)return'';return _0xfeda71(0x438)+(_0x33dce1+0x1)+'\x20('+_0x1919af[_0xfeda71(0x3eb)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0xead3a7[_0xfeda71(0x7c3)]+'/'+_0x1919af['totalQuestions']+_0xfeda71(0x453)+JSON[_0xfeda71(0x616)](_0xead3a7['answers'])+_0xfeda71(0xae2);})[_0x5affe1(0xd9)]('\x0a---\x0a'),_0x873c1f=_0x5affe1(0x95a)+currentQuizData['topic']+_0x5affe1(0x897)+JSON[_0x5affe1(0x616)](currentQuizData[_0x5affe1(0x66b)])+_0x5affe1(0x555)+_0x4f455a+_0x5affe1(0x7cf),_0x5be4bb={'type':_0x5affe1(0x371),'properties':{'classStrengths':{'type':_0x5affe1(0x3ec),'items':{'type':_0x5affe1(0xbff)}},'classWeaknesses':{'type':_0x5affe1(0x3ec),'items':{'type':_0x5affe1(0xbff)}},'teacherSuggestions':{'type':_0x5affe1(0x3ec),'items':{'type':_0x5affe1(0xbff)}}},'required':[_0x5affe1(0x287),'classWeaknesses',_0x5affe1(0xc64)]};try{const _0x3b5798=await callAnalysisApi(_0x873c1f,_0x5be4bb);displayClassAnalysis(_0x3b5798);}catch(_0xe699ad){console[_0x5affe1(0x48f)](_0x5affe1(0x231),_0xe699ad),_0x5e3932[_0x5affe1(0x30c)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0xe699ad[_0x5affe1(0x2f6)]+_0x5affe1(0x1c2);}finally{document[_0x5affe1(0x43c)](_0x5affe1(0x31a))[_0x5affe1(0x35d)]=![];}}function displayClassAnalysis(_0x5eb887){const _0x331e5c=_0x587d0b,_0x1a3f09=document[_0x331e5c(0x43c)](_0x331e5c(0x629));if(!_0x5eb887){_0x1a3f09[_0x331e5c(0x30c)]=_0x331e5c(0xa70);return;}_0x1a3f09[_0x331e5c(0x30c)]=_0x331e5c(0x9a4)+_0x5eb887[_0x331e5c(0x287)][_0x331e5c(0x9a0)](_0x57b777=>'<li>'+_0x57b777+_0x331e5c(0x7ef))[_0x331e5c(0xd9)]('')+_0x331e5c(0x7e3)+_0x5eb887[_0x331e5c(0x4b8)][_0x331e5c(0x9a0)](_0x101ad4=>'<li>'+_0x101ad4+_0x331e5c(0x7ef))[_0x331e5c(0xd9)]('')+_0x331e5c(0xbcd)+_0x5eb887['teacherSuggestions'][_0x331e5c(0x9a0)](_0x46130e=>_0x331e5c(0x8a7)+_0x46130e+_0x331e5c(0x7ef))[_0x331e5c(0xd9)]('')+_0x331e5c(0x24b);}function formatAndPrintWorksheet(_0x265def,_0x49afcd){const _0x34bbdf=_0x587d0b,_0x130095=_0x34bbdf(0x328)+_0x265def['topic']+_0x34bbdf(0x691)+_0x265def['topic']+_0x34bbdf(0x7f6)+_0x265def[_0x34bbdf(0x66b)][_0x34bbdf(0x9a0)]((_0x2b9af1,_0x34adec)=>_0x34bbdf(0x8e0)+(_0x34adec+0x1)+'.\x20'+_0x2b9af1[_0x34bbdf(0xb89)]+_0x34bbdf(0x542)+(_0x2b9af1[_0x34bbdf(0xb6d)]?_0x34bbdf(0x138)+_0x2b9af1['imageCode']+_0x34bbdf(0xc94):'')+_0x34bbdf(0x57d))[_0x34bbdf(0xd9)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x49afcd[_0x34bbdf(0x2e7)][_0x34bbdf(0x642)](_0x130095),_0x49afcd[_0x34bbdf(0x2e7)][_0x34bbdf(0x653)](),_0x49afcd[_0x34bbdf(0x7c2)]=function(){setTimeout(()=>{_0x49afcd['print']();},0x3e8);};}async function generateWorksheet(){const _0x25e1b3=_0x587d0b,_0x54f780=document['getElementById']('worksheet-topic-input')['value'][_0x25e1b3(0x8e7)]();if(!_0x54f780){showMessage(_0x25e1b3(0x944));return;}const _0x5efd22=document[_0x25e1b3(0x43c)]('force-math-checkbox')[_0x25e1b3(0x1a3)],_0x58c829=_0x5efd22?'':_0x25e1b3(0x72a),_0x212bb8=window[_0x25e1b3(0x499)]('',_0x25e1b3(0x5c0));_0x212bb8[_0x25e1b3(0x2e7)]['write']('<h1></h1>');const _0x4158e5=parseInt(document[_0x25e1b3(0x43c)](_0x25e1b3(0x5be))[_0x25e1b3(0x5d0)]),_0x19d16e=document[_0x25e1b3(0x43c)]('include-images-checkbox')[_0x25e1b3(0x1a3)],_0x3b0d57=_0x19d16e?_0x25e1b3(0x33b):'',_0x247033=_0x25e1b3(0xaef)+_0x58c829+_0x25e1b3(0xc65)+_0x4158e5+_0x25e1b3(0x8e)+_0x54f780+_0x25e1b3(0x689)+_0x3b0d57+_0x25e1b3(0x2cf)+simpleMathPrompt+_0x25e1b3(0x3f7),_0x5b75b2={'type':_0x25e1b3(0x371),'properties':{'topic':{'type':_0x25e1b3(0xbff)},'questions':{'type':'ARRAY','items':{'type':_0x25e1b3(0x371),'properties':{'questionText':{'type':_0x25e1b3(0xbff)},'imageCode':{'type':_0x25e1b3(0xbff)}},'required':[_0x25e1b3(0xb89)]}}},'required':[_0x25e1b3(0x53e),_0x25e1b3(0x66b)]};document['getElementById'](_0x25e1b3(0xa11))['textContent']='',document[_0x25e1b3(0x43c)](_0x25e1b3(0x2ca))[_0x25e1b3(0x860)]['remove']('hidden'),document['getElementById'](_0x25e1b3(0x4ff))[_0x25e1b3(0x860)]['remove']('hidden'),generateWorksheetBtn[_0x25e1b3(0x35d)]=!![];try{const _0x2c3dce=await callAnalysisApi(_0x247033,_0x5b75b2);formatAndPrintWorksheet(_0x2c3dce,_0x212bb8);}catch(_0x5b0f9a){console[_0x25e1b3(0x48f)](_0x25e1b3(0x82),_0x5b0f9a);if(_0x212bb8)_0x212bb8[_0x25e1b3(0x653)]();showMessage(_0x25e1b3(0xb51));}finally{document[_0x25e1b3(0x43c)]('loader')['classList'][_0x25e1b3(0x61e)](_0x25e1b3(0x6e9)),document[_0x25e1b3(0x43c)](_0x25e1b3(0x4ff))['classList'][_0x25e1b3(0x61e)]('hidden'),generateWorksheetBtn[_0x25e1b3(0x35d)]=![];}}async function callAnalysisApi(_0x566689,_0x217f9b){const _0x3f3555=_0x587d0b,_0x355585={'contents':[{'role':_0x3f3555(0x480),'parts':[{'text':_0x566689}]}],'generationConfig':{'responseMimeType':_0x3f3555(0x909),'responseSchema':_0x217f9b}},_0x2ee299=_0x3f3555(0xa42),_0x483807=_0x3f3555(0x1ae)+_0x2ee299,_0x5b3edf=await fetch(_0x483807,{'method':'POST','headers':{'Content-Type':_0x3f3555(0x909)},'body':JSON[_0x3f3555(0x616)](_0x355585)});if(!_0x5b3edf['ok'])throw new Error(_0x3f3555(0x8d3)+_0x5b3edf[_0x3f3555(0x658)]);const _0xc85200=await _0x5b3edf[_0x3f3555(0xb6)]();if(_0xc85200[_0x3f3555(0x4ed)]?.[0x0]?.[_0x3f3555(0xac7)]?.[_0x3f3555(0xc0c)]?.[0x0])return JSON[_0x3f3555(0xae3)](_0xc85200['candidates'][0x0]['content']['parts'][0x0]['text']);else{let _0x3a19da=_0x3f3555(0x2e6);if(_0xc85200['promptFeedback']?.['blockReason'])_0x3a19da='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0xc85200[_0x3f3555(0x697)]['blockReason']+'.';else _0xc85200[_0x3f3555(0x4ed)]?.[0x0]?.[_0x3f3555(0x76a)]&&_0xc85200[_0x3f3555(0x4ed)][0x0]['finishReason']!=='STOP'&&(_0x3a19da=_0x3f3555(0xaa2)+_0xc85200[_0x3f3555(0x4ed)][0x0][_0x3f3555(0x76a)]+'.');console[_0x3f3555(0x48f)](_0x3a19da,JSON[_0x3f3555(0x616)](_0xc85200));throw new Error(_0x3a19da);}}async function handleStartSyncMode(_0x418038,_0x3573e1=![],_0x13e675='classic'){const _0x3f78b1=_0x587d0b,_0x566a71=allQuizzes[_0x3f78b1(0xa3a)](_0x44d521=>_0x44d521['id']===_0x418038)||allQuizzesGlobal[_0x3f78b1(0xa3a)](_0x42727e=>_0x42727e['id']===_0x418038);if(!_0x566a71){showMessage(_0x3f78b1(0x3a2));return;}currentQuizData=getShuffledQuiz(_0x566a71);const _0x67ed77=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x3f78b1(0x6ce)](),_0x3975d5=doc(db,'artifacts/'+appId+_0x3f78b1(0x684),_0x566a71['projectId']),_0x455009=await getDoc(_0x3975d5);if(!_0x455009[_0x3f78b1(0x2ef)]()){showMessage(_0x3f78b1(0xbe8));return;}const _0x909272=_0x455009[_0x3f78b1(0xc12)]()[_0x3f78b1(0xc49)]||[],_0x1eddf8={};if(_0x13e675===_0x3f78b1(0x946)){const _0x1e1f5c=[...ANONYMOUS_NAMES]['sort'](()=>0.5-Math[_0x3f78b1(0x14d)]());_0x909272[_0x3f78b1(0x27f)]((_0xaa05b,_0x4f3d54)=>{const _0x54d403=_0x3f78b1;_0x1eddf8[_0xaa05b]=_0x1e1f5c[_0x4f3d54]||_0x54d403(0x130)+(_0x4f3d54+0x1);});}try{const _0x954918=await addDoc(collection(db,_0x3f78b1(0x1f0)+appId+_0x3f78b1(0x3df)),{'quizId':_0x566a71['id'],'pin':_0x67ed77,'status':_0x3f78b1(0xa33),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3573e1,'players':{},'gameVariant':_0x13e675,'reviewQuestionIndex':0x0,'playerNicknames':_0x1eddf8,'isAnonymousRevealed':![]});currentLiveGameId=_0x954918['id'],showView(_0x3f78b1(0x517)),renderSyncLobbyView(_0x67ed77,_0x566a71[_0x3f78b1(0x53e)]),listenForSyncGameUpdates();}catch(_0x1e55f3){console[_0x3f78b1(0x48f)](_0x3f78b1(0x86a),_0x1e55f3),showMessage(_0x3f78b1(0xc5f));}}function calculateFinalPodiumScores(_0x58f557){const _0x2345c9=_0x587d0b;if(!_0x58f557||!_0x58f557[_0x2345c9(0x33c)]||!_0x58f557[_0x2345c9(0x365)])return _0x58f557[_0x2345c9(0x365)]||{};const _0x145f64=_0x58f557[_0x2345c9(0x33c)][_0x2345c9(0x66b)][_0x2345c9(0x3ce)],_0x2258ac=JSON[_0x2345c9(0xae3)](JSON[_0x2345c9(0x616)](_0x58f557[_0x2345c9(0x365)]));return Object[_0x2345c9(0x512)](_0x2258ac)[_0x2345c9(0x27f)](_0x1fa152=>{const _0x36e1e8=_0x2345c9,_0x3f0b27=_0x1fa152[_0x36e1e8(0x7c3)];let _0x3699cc=_0x3f0b27,_0xede80=0x0;_0x58f557[_0x36e1e8(0x814)]&&_0x1fa152['answers']&&_0x1fa152[_0x36e1e8(0x34c)]['forEach'](_0x560eee=>{const _0x1f7c60=_0x36e1e8;if(_0x560eee[_0x1f7c60(0xa35)]&&(_0x560eee['wasConfident']===!![]||_0x560eee[_0x1f7c60(0x6b1)]==='confident'))_0xede80+=0x1;else!_0x560eee['isCorrect']&&(_0x560eee[_0x1f7c60(0x6b1)]===!![]||_0x560eee['wasConfident']===_0x1f7c60(0x83b))&&(_0xede80-=0x1);}),_0x3699cc+=_0xede80,_0x145f64>0x0&&_0x3f0b27===_0x145f64&&(_0x3699cc+=0x1,_0x1fa152['hasPerfectScoreBonus']=!![]),_0x1fa152[_0x36e1e8(0x7c3)]=_0x3699cc;}),_0x2258ac;}function listenForSyncGameUpdates(){const _0x406bdc=_0x587d0b;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x227906=doc(db,_0x406bdc(0x1f0)+appId+_0x406bdc(0x3df),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x227906,_0x21ccce=>{const _0x52959d=_0x406bdc;if(!_0x21ccce[_0x52959d(0x2ef)]()){sessionStorage[_0x52959d(0xd0)](_0x52959d(0x477));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x52959d(0x109));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x52959d(0x71f)?showView(_0x52959d(0xaf7)):showView(_0x52959d(0x8de));return;}const _0x58383f=_0x21ccce[_0x52959d(0xc12)]();currentMode==='admin'?updateAdminSyncView(_0x58383f):updateStudentSyncView(_0x58383f);});}function renderSyncLobbyView(_0x2020bb,_0x2493d){const _0x42a12f=_0x587d0b;liveGameView[_0x42a12f(0x30c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x2493d+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x2020bb+_0x42a12f(0x32c);const _0x52ef1d=document['getElementById'](_0x42a12f(0x52a)),_0x5b4885=document[_0x42a12f(0x43c)](_0x42a12f(0x461));_0x52ef1d['addEventListener'](_0x42a12f(0x247),()=>{const _0x5e5850=_0x42a12f;_0x5b4885[_0x5e5850(0x1fc)][_0x5e5850(0x9b0)]=_0x52ef1d[_0x5e5850(0x1a3)]?_0x5e5850(0x1e6):_0x5e5850(0x5eb);}),document[_0x42a12f(0x43c)]('start-sync-game-btn')[_0x42a12f(0x5e1)](_0x42a12f(0xbf8),async()=>{const _0x103332=_0x42a12f,_0x19a4b6=doc(db,_0x103332(0x1f0)+appId+_0x103332(0x3df),currentLiveGameId),_0x1e569f=document[_0x103332(0x43c)](_0x103332(0x52a))[_0x103332(0x1a3)];await updateDoc(_0x19a4b6,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x1e569f});});}function updateAdminSyncView(_0xe07660){const _0x1f7aa3=_0x587d0b;switch(_0xe07660['status']){case _0x1f7aa3(0xa33):renderSyncLobbyView(_0xe07660[_0x1f7aa3(0x980)],_0xe07660[_0x1f7aa3(0x33c)][_0x1f7aa3(0x53e)]);const _0x11c26d=Object['entries'](_0xe07660[_0x1f7aa3(0x365)]||{})['filter'](([_0xe7a67e,_0x1a349e])=>_0x1a349e[_0x1f7aa3(0x658)]!==_0x1f7aa3(0x362));document[_0x1f7aa3(0x43c)](_0x1f7aa3(0xbe2))[_0x1f7aa3(0xc0d)]=_0x11c26d[_0x1f7aa3(0x3ce)],document[_0x1f7aa3(0x43c)]('player-list-lobby')[_0x1f7aa3(0x30c)]=_0x11c26d[_0x1f7aa3(0x9a0)](([_0x38f98b,_0x5c0510])=>_0x1f7aa3(0xbd7)+_0x38f98b+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x38f98b+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1f7aa3(0xd9)]('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document[_0x1f7aa3(0x43c)](_0x1f7aa3(0x92a))[_0x1f7aa3(0x35d)]=_0x11c26d['length']===0x0;break;case'question':const _0xdf579c=Object[_0x1f7aa3(0x512)](_0xe07660[_0x1f7aa3(0x365)]||{})[_0x1f7aa3(0x35c)](_0x5b93ea=>_0x5b93ea[_0x1f7aa3(0x658)]!==_0x1f7aa3(0x362)),_0x15f63f=_0xdf579c['filter'](_0x1d5417=>_0x1d5417[_0x1f7aa3(0x3da)])['length'],_0x12f37b=_0x15f63f===_0xdf579c['length']&&_0xdf579c['length']>0x0;if(_0x12f37b&&_0xe07660['status']===_0x1f7aa3(0x72b)){const _0x349bf3=doc(db,_0x1f7aa3(0x1f0)+appId+_0x1f7aa3(0x3df),currentLiveGameId);updateDoc(_0x349bf3,{'status':'summary'});}else{if(document['getElementById'](_0x1f7aa3(0x8f8))===null)renderAdminSyncQuestionView(_0xe07660);else{const _0x3a72ba=document[_0x1f7aa3(0x43c)]('answer-counter');_0x3a72ba&&(_0x3a72ba[_0x1f7aa3(0xc0d)]=_0x15f63f+'/'+_0xdf579c['length']);const _0x50d05d=document[_0x1f7aa3(0x43c)](_0x1f7aa3(0x474));_0x50d05d&&(_0x50d05d[_0x1f7aa3(0x30c)]=_0xdf579c[_0x1f7aa3(0x9a0)](_0x2cae13=>{const _0x50d2ae=_0x1f7aa3,_0x3cfaca=_0x2cae13['answered']?_0x50d2ae(0x99f):_0x50d2ae(0x914),_0xe10fdb=_0x2cae13['answered']?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x50d2ae(0x186);return _0x50d2ae(0x2f1)+_0x3cfaca+_0x50d2ae(0xa90)+_0xe10fdb+_0x50d2ae(0x2f4)+_0x2cae13[_0x50d2ae(0x683)]+_0x50d2ae(0x528)+_0x2cae13[_0x50d2ae(0x683)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1f7aa3(0xd9)](''));}}break;case'summary':const _0x10a44e=_0xe07660[_0x1f7aa3(0xaf4)],_0x2cf4d8=_0xe07660[_0x1f7aa3(0x33c)][_0x1f7aa3(0x66b)][_0x10a44e];renderSyncSummaryView(_0xe07660,_0x2cf4d8,!![]);break;case _0x1f7aa3(0xb6f):const _0x50c4bd=_0xe07660[_0x1f7aa3(0xa14)]||_0x1f7aa3(0x1dd);_0x50c4bd===_0x1f7aa3(0x1f7)?renderAdminSyncDashboard(_0xe07660,!![],_0xe07660['reviewQuestionIndex']):renderAdminSyncDashboard(_0xe07660,!![],_0xe07660[_0x1f7aa3(0xaf4)]);break;case _0x1f7aa3(0xb00):_0xe07660[_0x1f7aa3(0x64e)]&&saveGameResultsAsSubmissions(_0xe07660);sessionStorage['removeItem'](_0x1f7aa3(0x477));const _0x4a2143=calculateFinalPodiumScores(_0xe07660);showPodiumView(_0x4a2143,_0x1f7aa3(0x3d2));break;}}function renderAdminSyncQuestionView(_0x4b8159){const _0x256ec1=_0x587d0b,_0x531851=_0x4b8159[_0x256ec1(0xaf4)],_0x1664dc=_0x4b8159[_0x256ec1(0x33c)][_0x256ec1(0x66b)][_0x531851],_0x37d624=_0x4b8159['shuffledQuiz']['questions']['length'],_0x19bf77=Object[_0x256ec1(0x512)](_0x4b8159[_0x256ec1(0x365)]||{})[_0x256ec1(0x35c)](_0x29096e=>_0x29096e[_0x256ec1(0x658)]!==_0x256ec1(0x362)),_0x599402=_0x19bf77['filter'](_0x464021=>_0x464021[_0x256ec1(0x3da)])[_0x256ec1(0x3ce)],_0x40d0f4=_0x599402===_0x19bf77[_0x256ec1(0x3ce)]&&_0x19bf77['length']>0x0,_0x270bd0=(_0x1664dc['options']||[])['map'](_0x327e39=>_0x256ec1(0x80b)+_0x327e39+'</div>')[_0x256ec1(0xd9)]('');liveGameView[_0x256ec1(0x30c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x531851+0x1)+_0x256ec1(0xbe0)+_0x37d624+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x599402+'/'+_0x19bf77['length']+'</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x1664dc[_0x256ec1(0xb89)]+_0x256ec1(0x3e3)+_0x270bd0+_0x256ec1(0x114)+(!_0x40d0f4?'disabled':'')+_0x256ec1(0x785);if(window[_0x256ec1(0xaf8)])MathJax[_0x256ec1(0x5ad)]();document[_0x256ec1(0x43c)](_0x256ec1(0x6d2))[_0x256ec1(0x5e1)](_0x256ec1(0xbf8),async()=>{const _0x3cb83a=_0x256ec1,_0x1eaa8f=doc(db,_0x3cb83a(0x1f0)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x1eaa8f,{'status':_0x3cb83a(0xb6f)});}),document['getElementById'](_0x256ec1(0x41a))[_0x256ec1(0xb31)]=()=>{const _0x119025=_0x256ec1;openScratchpad(_0x1664dc,_0x1664dc[_0x119025(0x4b2)]||[]);},document['getElementById']('sync-manage-players-btn')[_0x256ec1(0x5e1)](_0x256ec1(0xbf8),()=>{const _0x59a840=_0x256ec1;document['getElementById']('sync-player-management')['classList'][_0x59a840(0x749)]('hidden');});}function renderSyncLeaderboardView(_0x20ef8a,_0x5e3384){const _0x5f0969=_0x587d0b,_0x3e45b5=Object[_0x5f0969(0x512)](_0x20ef8a[_0x5f0969(0x365)]||{});_0x3e45b5[_0x5f0969(0x34f)]((_0x22c6d2,_0x5c2a12)=>_0x5c2a12[_0x5f0969(0x7c3)]-_0x22c6d2[_0x5f0969(0x7c3)]);const _0x37e688=_0x3e45b5[_0x5f0969(0x264)](0x0,0x5);let _0x184679='';if(_0x5e3384){const _0x2b0aad=_0x20ef8a[_0x5f0969(0xaf4)]>=_0x20ef8a[_0x5f0969(0x33c)][_0x5f0969(0x66b)][_0x5f0969(0x3ce)]-0x1;_0x184679=_0x5f0969(0x457)+(_0x2b0aad?_0x5f0969(0x426):_0x5f0969(0xaee))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';}else _0x184679=_0x5f0969(0x9e1);liveGameView[_0x5f0969(0x30c)]=_0x5f0969(0x71c)+_0x37e688[_0x5f0969(0x9a0)]((_0xa50fbb,_0x3bc859)=>_0x5f0969(0x699)+(_0x3bc859+0x1)+'.\x20'+_0xa50fbb[_0x5f0969(0x683)]+_0x5f0969(0x44a)+_0xa50fbb['score']+_0x5f0969(0xac4))[_0x5f0969(0xd9)]('')+_0x5f0969(0xaba)+_0x184679+_0x5f0969(0xc70),_0x5e3384&&document[_0x5f0969(0x43c)]('next-sync-question-btn')[_0x5f0969(0x5e1)]('click',async()=>{const _0x36e46c=_0x5f0969,_0x206b19=doc(db,_0x36e46c(0x1f0)+appId+_0x36e46c(0x3df),currentLiveGameId),_0x46aafd=_0x20ef8a[_0x36e46c(0xaf4)]+0x1;if(_0x46aafd<_0x20ef8a[_0x36e46c(0x33c)][_0x36e46c(0x66b)][_0x36e46c(0x3ce)]){const _0x2032a7={};Object[_0x36e46c(0x1c7)](_0x20ef8a[_0x36e46c(0x365)])[_0x36e46c(0x27f)](_0x16979d=>{const _0x31950a=_0x36e46c;_0x2032a7[_0x31950a(0x87c)+_0x16979d+_0x31950a(0x3d4)]=![];}),await updateDoc(_0x206b19,{..._0x2032a7,'status':_0x36e46c(0x72b),'currentQuestionIndex':_0x46aafd,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x206b19,{'status':_0x36e46c(0xb00)});});}async function handleJoinSyncGame(){const _0xdcaa68=_0x587d0b,_0x2d6362=prompt(_0xdcaa68(0x919));if(!_0x2d6362||_0x2d6362['trim']()[_0xdcaa68(0x3ce)]!==0x2){showMessage(_0xdcaa68(0xa71));return;}try{const _0x18c30c=collection(db,'artifacts/'+appId+_0xdcaa68(0x3df)),_0x15c7c9=query(_0x18c30c,where(_0xdcaa68(0x980),'==',_0x2d6362['trim']()),where(_0xdcaa68(0x658),'==',_0xdcaa68(0xa33))),_0x3a2715=await getDocs(_0x15c7c9);if(_0x3a2715[_0xdcaa68(0x9d)]){showMessage(_0xdcaa68(0x3d6));return;}const _0x159ec5=_0x3a2715[_0xdcaa68(0xbb3)][0x0];currentLiveGameId=_0x159ec5['id'];const _0x24004b=_0x159ec5[_0xdcaa68(0xc12)](),_0x52bd87=doc(db,_0xdcaa68(0x1f0)+appId+_0xdcaa68(0x92d),_0x24004b[_0xdcaa68(0xb34)]),_0x1a97a2=await getDoc(_0x52bd87);if(!_0x1a97a2['exists']())throw new Error(_0xdcaa68(0x963));const _0x4ccdea=_0x1a97a2[_0xdcaa68(0xc12)](),_0x1e6728=doc(db,_0xdcaa68(0x1f0)+appId+_0xdcaa68(0x684),_0x4ccdea[_0xdcaa68(0x2d6)]),_0x421c28=await getDoc(_0x1e6728);if(!_0x421c28['exists']())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x24004b[_0xdcaa68(0x33c)];const _0x2336d8=_0x421c28[_0xdcaa68(0xc12)]();showView(_0xdcaa68(0x3b1)),showTeamPlayerSelection(_0x2336d8[_0xdcaa68(0xc49)],_0x4ccdea[_0xdcaa68(0x53e)]);const _0x2e7d8e=document[_0xdcaa68(0x43c)](_0xdcaa68(0x492));_0x2e7d8e[_0xdcaa68(0xb31)]=confirmAndJoinSyncGame;}catch(_0x3288ed){console[_0xdcaa68(0x48f)]('Error\x20joining\x20sync\x20game:',_0x3288ed),showMessage(_0xdcaa68(0xacb)+_0x3288ed[_0xdcaa68(0x2f6)]);}}function updateStudentSyncView(_0x5da522){const _0xe1ff02=_0x587d0b,_0x5bb0a3=_0x5da522['players'][localTeamPlayers[0x0]];switch(_0x5da522[_0xe1ff02(0x658)]){case _0xe1ff02(0xa33):showView(_0xe1ff02(0x517)),liveGameView[_0xe1ff02(0x30c)]=_0xe1ff02(0x2a5);break;case _0xe1ff02(0x72b):localPlayerTurnIndex=0x0;const _0xa6a021=localTeamPlayers[_0xe1ff02(0xbbf)](_0x327a69=>_0x5da522[_0xe1ff02(0x365)][_0x327a69]?.[_0xe1ff02(0x3da)]===!![]);_0xa6a021?liveGameView[_0xe1ff02(0x30c)]=_0xe1ff02(0x4d8):renderStudentSyncQuestionView(_0x5da522);break;case _0xe1ff02(0x799):liveGameView[_0xe1ff02(0x30c)]=_0xe1ff02(0x9ce);break;case'results':localPlayerTurnIndex=0x0;const _0x560e8e=_0x5da522['gameVariant']||_0xe1ff02(0x1dd);if(_0x560e8e===_0xe1ff02(0x1f7))renderAdminSyncDashboard(_0x5da522,![],_0x5da522[_0xe1ff02(0x267)]);else _0x560e8e===_0xe1ff02(0x946)?renderAnonymousStudentResultsView(_0x5da522):renderStudentSyncResultsView(_0x5da522);break;case _0xe1ff02(0xb00):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0xe1ff02(0x171),handleFullscreenChange),document['removeEventListener'](_0xe1ff02(0x966),handleVisibilityChange),sessionStorage[_0xe1ff02(0xd0)](_0xe1ff02(0x477));const _0xd898f3=calculateFinalPodiumScores(_0x5da522);showPodiumView(_0xd898f3,'sync');break;}}function renderStudentSyncResultsView(_0x2e3718){const _0x469af9=_0x587d0b,_0x41ff58=localTeamPlayers[_0x469af9(0x9a0)](_0x5c5559=>_0x2e3718[_0x469af9(0x365)][_0x5c5559])[_0x469af9(0x35c)](Boolean);_0x41ff58[_0x469af9(0x34f)]((_0x22ee6f,_0x1aa99b)=>(_0x1aa99b['score']||0x0)-(_0x22ee6f[_0x469af9(0x7c3)]||0x0));const _0x608a40=_0x2e3718['gameVariant']||_0x469af9(0x1dd),_0x4d70b9=_0x2e3718[_0x469af9(0x33c)][_0x469af9(0x66b)];let _0x5d359f='';if(_0x608a40===_0x469af9(0x1f7)){const _0x36a869=_0x2e3718[_0x469af9(0x267)]>=_0x4d70b9[_0x469af9(0x3ce)]-0x1;_0x36a869?_0x5d359f=_0x469af9(0x912):_0x5d359f=_0x469af9(0x2ed);}else{const _0x3d54e9=_0x2e3718[_0x469af9(0xaf4)]>=_0x4d70b9[_0x469af9(0x3ce)]-0x1;_0x3d54e9?_0x5d359f='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x5d359f=_0x469af9(0x48b);}const _0x5e972c=_0x469af9(0xa2f)+_0x41ff58['map']((_0x26f70a,_0x3a91f9)=>_0x469af9(0x7e8)+(_0x3a91f9+0x1)+_0x469af9(0x280)+_0x26f70a['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x26f70a[_0x469af9(0x7c3)]+_0x469af9(0x8b8))[_0x469af9(0xd9)]('')+_0x469af9(0xa84)+_0x5d359f+_0x469af9(0x234);liveGameView['innerHTML']=_0x5e972c;}function renderStudentSyncQuestionView(_0x2c80f7){const _0x2add25=_0x587d0b,_0x36495f=localTeamPlayers[_0x2add25(0xa3a)](_0x182389=>_0x2c80f7[_0x2add25(0x365)][_0x182389]&&_0x2c80f7['players'][_0x182389][_0x2add25(0x3da)]===![]);if(!_0x36495f){console['log'](_0x2add25(0x41d));return;}const _0x122fe2=_0x2c80f7[_0x2add25(0xaf4)],_0x4778ab=_0x2c80f7[_0x2add25(0x33c)][_0x2add25(0x66b)][_0x2add25(0x3ce)],_0x502347=_0x2c80f7['shuffledQuiz'][_0x2add25(0x66b)][_0x122fe2],_0x2b66e2=_0x502347['questionType']||_0x2c80f7[_0x2add25(0x33c)][_0x2add25(0x86d)];let _0x643e8b='',_0x1934de=![];switch(_0x2b66e2){case _0x2add25(0x907):_0x643e8b=_0x2add25(0x49d);break;case'short_answer':case _0x2add25(0x7c0):_0x1934de=!![],_0x643e8b=_0x2add25(0x38d);break;case _0x2add25(0xf5):_0x1934de=!![],_0x643e8b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x502347[_0x2add25(0x4f0)]||[])[_0x2add25(0x9a0)](_0x38bdfe=>'<option\x20value=\x22'+_0x38bdfe+'\x22>'+_0x38bdfe+_0x2add25(0x9e))[_0x2add25(0xd9)]('')+_0x2add25(0x26c);break;case _0x2add25(0x51f):default:_0x643e8b=(_0x502347[_0x2add25(0x4b2)]||[])['map']((_0x15ace1,_0x42e3aa)=>_0x2add25(0x2b8)+_0x42e3aa+_0x2add25(0x49c)+_0x15ace1+_0x2add25(0x6d0))[_0x2add25(0xd9)]('');break;}liveGameView[_0x2add25(0x30c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x122fe2+0x1)+_0x2add25(0xbe0)+_0x4778ab+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0x36495f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x502347[_0x2add25(0xb89)]||_0x502347['stem'])+_0x2add25(0x172)+_0x643e8b+_0x2add25(0xaf9);if(window[_0x2add25(0xaf8)])MathJax['typesetPromise']();function _0x150685(_0x13422e,_0x568690,_0x58ddbb,_0x12f68c){const _0x4248ad=_0x2add25,_0xb0e5dd=_0x58ddbb[_0x4248ad(0x814)]===!![];if(_0xb0e5dd){document[_0x4248ad(0x43c)](_0x4248ad(0xb0f))[_0x4248ad(0x82f)][_0x4248ad(0xb7a)]=_0x4248ad(0x3d2);const _0x31d4c6=document[_0x4248ad(0x43c)](_0x4248ad(0x1b2));_0x31d4c6[_0x4248ad(0x82f)][_0x4248ad(0x3a9)]=_0x13422e,_0x31d4c6[_0x4248ad(0x82f)][_0x4248ad(0x72b)]=JSON[_0x4248ad(0x616)](_0x568690),_0x31d4c6['dataset'][_0x4248ad(0xa0d)]=JSON[_0x4248ad(0x616)](_0x58ddbb),_0x31d4c6['dataset']['playerName']=_0x12f68c,document['getElementById']('confidence-modal')[_0x4248ad(0x860)]['remove']('hidden');}else handleSyncAnswerSubmit(_0x13422e,_0x568690,_0x58ddbb,_0x12f68c,![]);}_0x1934de?document[_0x2add25(0x43c)](_0x2add25(0x367))[_0x2add25(0x5e1)](_0x2add25(0xbf8),()=>{const _0x125949=_0x2add25,_0x4c5c0c=document[_0x125949(0x43c)](_0x125949(0x2bd))||document[_0x125949(0x43c)]('sync-matching-select');if(_0x4c5c0c[_0x125949(0x5d0)][_0x125949(0x8e7)]()===''){showMessage(_0x125949(0xad7));return;}_0x150685(_0x4c5c0c['value'],_0x502347,_0x2c80f7,_0x36495f);}):document[_0x2add25(0xa6e)](_0x2add25(0x19d))['forEach'](_0x15371d=>{const _0xba5f59=_0x2add25;_0x15371d[_0xba5f59(0x5e1)](_0xba5f59(0xbf8),()=>{const _0x48a1ac=_0xba5f59;_0x150685(_0x15371d[_0x48a1ac(0x82f)][_0x48a1ac(0x5d0)],_0x502347,_0x2c80f7,_0x36495f);});});}async function handleSyncAnswerSubmit(_0x25212c,_0x465352,_0x20da33,_0x239bb9,_0x23bc46){const _0x30d12c=_0x587d0b;document[_0x30d12c(0xa6e)](_0x30d12c(0x796))[_0x30d12c(0x27f)](_0x23b4f9=>_0x23b4f9[_0x30d12c(0x35d)]=!![]);const _0x50e479=_0x465352['questionType']||_0x20da33[_0x30d12c(0x33c)]['quizType'];let _0x198020=![],_0x21bf6d=_0x25212c;switch(_0x50e479){case _0x30d12c(0x907):const _0x802a39=parseInt(_0x25212c),_0x3b0478=_0x465352[_0x30d12c(0x347)]===!![]||String(_0x465352[_0x30d12c(0x347)])['toLowerCase']()===_0x30d12c(0x529);_0x198020=_0x802a39===0x0&&_0x3b0478||_0x802a39===0x1&&!_0x3b0478,_0x21bf6d=_0x802a39===0x0?_0x30d12c(0x100):_0x30d12c(0x596);break;case _0x30d12c(0x573):case'fill_in_no_choices':_0x198020=await gradeShortAnswer(_0x25212c,_0x465352);break;case _0x30d12c(0xf5):_0x198020=_0x25212c===_0x465352[_0x30d12c(0xb42)];break;case _0x30d12c(0x51f):default:const _0x26bc8b=parseInt(_0x25212c);_0x198020=_0x26bc8b===_0x465352[_0x30d12c(0x828)];_0x465352[_0x30d12c(0x4b2)]&&_0x465352[_0x30d12c(0x4b2)][_0x26bc8b]&&(_0x21bf6d=_0x465352[_0x30d12c(0x4b2)][_0x26bc8b]);break;}const _0x49014e=_0x198020?0x1:0x0,_0x4ecd0f=doc(db,_0x30d12c(0x1f0)+appId+'/public/data/syncGames',currentLiveGameId),_0x1ec051={};_0x1ec051[_0x30d12c(0x87c)+_0x239bb9+_0x30d12c(0x1b1)]=increment(_0x49014e),_0x1ec051[_0x30d12c(0x87c)+_0x239bb9+'.answered']=!![];let _0x558020=null;(_0x50e479===_0x30d12c(0x51f)||_0x50e479===_0x30d12c(0x907)||_0x50e479===_0x30d12c(0xb8b))&&(_0x558020=parseInt(_0x25212c));_0x1ec051['players.'+_0x239bb9+_0x30d12c(0x60f)]=_0x558020;const _0x19ab94={'questionIndex':_0x20da33[_0x30d12c(0xaf4)],'questionId':_0x465352['id'],'answer':_0x25212c,'answerText':_0x21bf6d,'isCorrect':_0x198020,'originalQuestionText':_0x465352[_0x30d12c(0xb89)]||_0x465352[_0x30d12c(0x2f0)],'wasConfident':_0x23bc46};_0x1ec051[_0x30d12c(0x87c)+_0x239bb9+'.answers']=arrayUnion(_0x19ab94),await updateDoc(_0x4ecd0f,_0x1ec051);}initialize();
