const _0x4247b4=_0xc03a;(function(_0x24819e,_0x172249){const _0x2e6c83=_0xc03a,_0x76caba=_0x24819e();while(!![]){try{const _0x3d3cad=parseInt(_0x2e6c83(0x9fe))/0x1*(-parseInt(_0x2e6c83(0xafc))/0x2)+parseInt(_0x2e6c83(0x92d))/0x3+parseInt(_0x2e6c83(0xbe4))/0x4*(parseInt(_0x2e6c83(0x8f1))/0x5)+-parseInt(_0x2e6c83(0xd63))/0x6+parseInt(_0x2e6c83(0x774))/0x7+parseInt(_0x2e6c83(0xdfe))/0x8+parseInt(_0x2e6c83(0xd83))/0x9*(-parseInt(_0x2e6c83(0x78d))/0xa);if(_0x3d3cad===_0x172249)break;else _0x76caba['push'](_0x76caba['shift']());}catch(_0x5c8b0b){_0x76caba['push'](_0x76caba['shift']());}}}(_0x5acb,0x636a7));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove,getCountFromServer}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=['นักล่าฝัน','บักแตงโม',_0x4247b4(0xcc4),_0x4247b4(0x9d7),'นกฮูกกลางวัน',_0x4247b4(0xae6),'โลมาบิน','สิงโตยิ้ม',_0x4247b4(0x63c),'จิงโจ้สโลว์ไลฟ์',_0x4247b4(0xb07),_0x4247b4(0x775),'เงาปริศนา',_0x4247b4(0x558),_0x4247b4(0xce3),'จอมเวทย์ขนมหวาน',_0x4247b4(0xe23),_0x4247b4(0xf53),_0x4247b4(0xa27),'มังกรกินจุ',_0x4247b4(0xea0),'แมวเก้าชีวิต',_0x4247b4(0xc77),_0x4247b4(0xd01),_0x4247b4(0x708),'หมาป่าเดียวดาย',_0x4247b4(0x351),_0x4247b4(0x1f0),_0x4247b4(0x7b9),_0x4247b4(0x54a),'ยอดนักสืบ',_0x4247b4(0x782),_0x4247b4(0xb91),_0x4247b4(0xacf),_0x4247b4(0xcc3),_0x4247b4(0xbaa),_0x4247b4(0x722),'อินฟลูเอนเซอร์','เน็ตไอดอล',_0x4247b4(0x7d6),'กาแฟขม',_0x4247b4(0x485),_0x4247b4(0x96c),_0x4247b4(0xc06),_0x4247b4(0xc5d),_0x4247b4(0x548),_0x4247b4(0xdf9),_0x4247b4(0x4bf),_0x4247b4(0x743),_0x4247b4(0x644),_0x4247b4(0x846),_0x4247b4(0xe6b),'ออฟฟิศซินโดรม',_0x4247b4(0xdc4),_0x4247b4(0x85a),_0x4247b4(0xcdf),_0x4247b4(0x44b),_0x4247b4(0xbf4),_0x4247b4(0xa7c),'กองดอง',_0x4247b4(0x5f2),'ตะวันฉาย','สายหมอก','ก้อนเมฆ',_0x4247b4(0x60b),_0x4247b4(0xe05),_0x4247b4(0x5b3),_0x4247b4(0x3d3),_0x4247b4(0x53f),_0x4247b4(0xcc2),_0x4247b4(0xf2b),_0x4247b4(0x4c4),_0x4247b4(0x80d),_0x4247b4(0x761),_0x4247b4(0x907),_0x4247b4(0xaae),_0x4247b4(0x4c1),_0x4247b4(0xadf),'นักกีฬา',_0x4247b4(0xaf3),'พลังคลื่นเต่า',_0x4247b4(0x604),_0x4247b4(0x6ba),_0x4247b4(0xbd7),_0x4247b4(0x3da),_0x4247b4(0x4e1),_0x4247b4(0x7d7),_0x4247b4(0x4fd),_0x4247b4(0x5b9),_0x4247b4(0x8d7),_0x4247b4(0x7aa),_0x4247b4(0xe7b),_0x4247b4(0xb03),_0x4247b4(0xb93),_0x4247b4(0x2a5),_0x4247b4(0xb5a),_0x4247b4(0xe87),_0x4247b4(0x668),_0x4247b4(0x3d2),_0x4247b4(0xd7f)];let lastSeenQuestionIndex=-0x1,orderedPlayerSelection=[],clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId='all',fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId='all',parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x4247b4(0x8a9),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x48c72b=_0x4247b4;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x48c72b(0xd9c)][_0x48c72b(0x5cf)](_0x48c72b(0x2c4)),console[_0x48c72b(0x799)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x48c72b(0xf03)]('release',()=>{console['log']('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x48ec1c){console[_0x48c72b(0xd5b)](_0x48c72b(0xa0f)+_0x48ec1c[_0x48c72b(0x689)]+',\x20'+_0x48ec1c['message']);}else console[_0x48c72b(0x9f2)](_0x48c72b(0x43a));},releaseWakeLock=async()=>{const _0x1fcc85=_0x4247b4;wakeLock!==null&&(await wakeLock[_0x1fcc85(0x748)](),wakeLock=null,console['log'](_0x1fcc85(0xb11)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){if(!document['body']['classList']['contains']('dimmed')){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x2389ba=_0xc03a;document[_0x2389ba(0x24c)][_0x2389ba(0x457)][_0x2389ba(0xea1)](_0x2389ba(0x5b7)),console[_0x2389ba(0x799)](_0x2389ba(0xbbb));},inactivityTime);}}function wakeUpScreen(_0x390754){const _0x13ccac=_0x4247b4;_0x390754&&(_0x390754[_0x13ccac(0xdac)](),_0x390754[_0x13ccac(0x375)]());document['body']['classList']['remove'](_0x13ccac(0x5b7));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x21dd7e=_0x13ccac;document[_0x21dd7e(0x24c)][_0x21dd7e(0x457)][_0x21dd7e(0xea1)]('dimmed');},inactivityTime);}function stopDimTimer(){const _0x5ca598=_0x4247b4;if(dimTimer)clearTimeout(dimTimer);document[_0x5ca598(0x24c)][_0x5ca598(0x457)][_0x5ca598(0xd11)](_0x5ca598(0x5b7)),window['removeEventListener'](_0x5ca598(0xedd),resetDimTimer),window[_0x5ca598(0x808)](_0x5ca598(0xd41),resetDimTimer),window[_0x5ca598(0x808)](_0x5ca598(0x8b9),resetDimTimer),window[_0x5ca598(0x808)](_0x5ca598(0xe7a),resetDimTimer),console[_0x5ca598(0x799)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x10b43e,_0x3cb231=![]){const _0x3e3cd6=_0x4247b4,_0x4b5a6c=allQuizzes[_0x3e3cd6(0x787)](_0x5d4054=>_0x5d4054['id']===_0x10b43e)||allQuizzesGlobal[_0x3e3cd6(0x787)](_0x5c433d=>_0x5c433d['id']===_0x10b43e);if(!_0x4b5a6c){showMessage(_0x3e3cd6(0xef3));return;}currentQuizData=getShuffledQuiz(_0x4b5a6c);const _0x2a8e10=Math[_0x3e3cd6(0xcb1)](0x3e8+Math[_0x3e3cd6(0x724)]()*0x2328)[_0x3e3cd6(0x2cc)]();try{const _0x4d30cd=await addDoc(collection(db,'artifacts/'+appId+_0x3e3cd6(0x56b)),{'quizId':_0x4b5a6c['id'],'projectId':_0x4b5a6c['projectId'],'status':_0x3e3cd6(0xd93),'pin':_0x2a8e10,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3cb231});currentTeamQuizId=_0x4d30cd['id'],showView(_0x3e3cd6(0x8eb)),renderAdminTeamQuizDashboard(_0x2a8e10,_0x4b5a6c[_0x3e3cd6(0x6b2)]),listenForTeamQuizUpdates();}catch(_0x1cccd5){console[_0x3e3cd6(0xd5b)](_0x3e3cd6(0xf55),_0x1cccd5),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x57e006,_0x5ccf68,_0x25f8da='team'){const _0x115791=_0x4247b4,_0x2515d3=_0x25f8da===_0x115791(0x374)?_0x115791(0x8ad):_0x115791(0xa74);liveGameView[_0x115791(0x45b)]=_0x115791(0x393)+_0x2515d3+':\x20'+_0x5ccf68+_0x115791(0x5a0)+_0x57e006+_0x115791(0x890),document['getElementById'](_0x115791(0xe46))[_0x115791(0xf03)](_0x115791(0x2f0),async()=>{const _0x472624=_0x115791;showConfirmation(_0x472624(0xda4),async()=>{const _0x4f7ae8=_0x472624;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,'artifacts/'+appId+_0x4f7ae8(0x56b),currentTeamQuizId)),showView(_0x4f7ae8(0x69d));});});}function listenForTeamQuizUpdates(){const _0x254c22=_0x4247b4;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x288c2e=doc(db,_0x254c22(0x2b7)+appId+_0x254c22(0x56b),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x288c2e,_0x192682=>{const _0xf2d007=_0x254c22;if(!_0x192682[_0xf2d007(0x971)]()){sessionStorage[_0xf2d007(0x801)](_0xf2d007(0x70f));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0xf2d007(0x803)?showView(_0xf2d007(0x69d)):showView(_0xf2d007(0xc1b));return;}const _0x31044b=_0x192682[_0xf2d007(0xb86)]();if(currentMode===_0xf2d007(0x803)){if(_0x31044b['mode']===_0xf2d007(0x374)&&_0x31044b[_0xf2d007(0x55e)]!=='podium'&&_0x31044b[_0xf2d007(0x55e)]!==_0xf2d007(0xb57)){const _0x153b05=Object['values'](_0x31044b[_0xf2d007(0x97c)]||{});if(_0x153b05[_0xf2d007(0x2d2)]>0x0){const _0x325872=_0x153b05[_0xf2d007(0x9ef)](_0x42fc15=>_0x42fc15[_0xf2d007(0xc92)]===!![]);_0x325872&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x31044b);}else{if(_0x31044b[_0xf2d007(0x55e)]===_0xf2d007(0xa07)||_0x31044b[_0xf2d007(0x55e)]===_0xf2d007(0xb57)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x31044b[_0xf2d007(0x6d5)]==='group'){const _0x368280=_0x31044b['groups'][userId];(!_0x368280||!_0x368280[_0xf2d007(0xc92)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x1bfc4e){const _0x54b8a4=_0x4247b4;console[_0x54b8a4(0x799)](_0x54b8a4(0x1f9));const _0x4d065e=doc(db,_0x54b8a4(0x2b7)+appId+_0x54b8a4(0x56b),_0x1bfc4e);try{const _0x2bf6b4=await getDoc(_0x4d065e);if(_0x2bf6b4['exists']()){const _0x46f8b6=_0x2bf6b4[_0x54b8a4(0xb86)]();_0x46f8b6[_0x54b8a4(0x32d)]&&await saveGameResultsAsSubmissions(_0x46f8b6);}await updateDoc(_0x4d065e,{'status':_0x54b8a4(0xa07)});}catch(_0x5847a0){console[_0x54b8a4(0xd5b)](_0x54b8a4(0x514),_0x5847a0);}}function updateAdminTeamDashboard(_0x11472c){const _0x383a85=_0x4247b4,_0x3a5477=document[_0x383a85(0x7c7)]('team-player-status-grid');if(!_0x3a5477)return;const _0x555cee=_0x11472c[_0x383a85(0x6d5)]||_0x383a85(0xbd3),_0x4ab323=currentQuizData['questions'][_0x383a85(0x2d2)];if(_0x555cee===_0x383a85(0x374)){const _0x4438b8=Object[_0x383a85(0x57b)](_0x11472c[_0x383a85(0x97c)]||{});if(_0x4438b8['length']===0x0){_0x3a5477[_0x383a85(0x45b)]=_0x383a85(0x71c);return;}const _0x57f9a3=[..._0x4438b8]['sort']((_0x3872ea,_0x389a73)=>_0x389a73['score']-_0x3872ea['score']),_0x2736ac=_0x57f9a3[_0x383a85(0xdeb)]((_0x4a86cf,_0x22e23a)=>{const _0x3f903b=_0x383a85,_0x39e584=_0x4a86cf[_0x3f903b(0xa92)]?.['length']||0x0;return _0x3f903b(0x245)+(_0x22e23a+0x1)+_0x3f903b(0xc9e)+_0x4a86cf[_0x3f903b(0x6f4)][_0x3f903b(0x94c)](',\x20')+_0x3f903b(0x936)+_0x39e584+'/'+_0x4ab323+_0x3f903b(0x62f)+_0x4a86cf[_0x3f903b(0x494)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x383a85(0x94c)](''),_0x5b2610=currentQuizData[_0x383a85(0x99c)][_0x383a85(0xdeb)]((_0xe38b95,_0x142970)=>{const _0x442e90=_0x383a85;let _0x88cba2=0x0,_0x3a1735=0x0;_0x4438b8['forEach'](_0x58e4ef=>{const _0x410d1f=_0xc03a,_0x1e7651=_0x58e4ef['answers']?.[_0x410d1f(0x787)](_0x569f42=>_0x569f42[_0x410d1f(0xe6a)]===_0x142970);if(_0x1e7651){_0x3a1735++;if(_0x1e7651[_0x410d1f(0x697)])_0x88cba2++;}});const _0x1ba974=_0x3a1735>0x0&&_0x3a1735===_0x4438b8[_0x442e90(0x2d2)],_0x5f5c66=_0x1ba974?_0x442e90(0x35c):'bg-black/10',_0x51d27a=_0x1ba974?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return _0x442e90(0xa54)+_0x5f5c66+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x142970+0x1)+_0x442e90(0x8cf)+_0x51d27a+_0x442e90(0xaaf)+_0x88cba2+'/'+_0x4438b8[_0x442e90(0x2d2)]+_0x442e90(0x2bc);})[_0x383a85(0x94c)]('');_0x3a5477['innerHTML']=_0x383a85(0x964)+_0x2736ac+_0x383a85(0xd49)+_0x5b2610+_0x383a85(0xef5);return;}const _0x278bd7=_0x11472c[_0x383a85(0x7df)]||{},_0x5cbe8c=Object['keys'](_0x278bd7);if(_0x5cbe8c[_0x383a85(0x2d2)]===0x0){_0x3a5477['innerHTML']=_0x383a85(0x9e6);return;}const _0x1aa70b=_0x5cbe8c[_0x383a85(0xdeb)](_0x8a4467=>({'name':_0x8a4467,'score':_0x278bd7[_0x8a4467]['score']||0x0}))[_0x383a85(0x994)]((_0x398cf2,_0x598338)=>_0x598338[_0x383a85(0x494)]-_0x398cf2['score']),_0x5ee861=_0x1aa70b[_0x383a85(0xdeb)](_0x136df1=>{const _0x3d60d7=_0x383a85,_0x579e9a=_0x278bd7[_0x136df1[_0x3d60d7(0x689)]]?.[_0x3d60d7(0xa92)]?.[_0x3d60d7(0x2d2)]||0x0,_0x2b8db7=Math[_0x3d60d7(0x6b1)](_0x4ab323/_0x5cbe8c[_0x3d60d7(0x2d2)]);return _0x3d60d7(0x2d4)+_0x136df1[_0x3d60d7(0x689)]+_0x3d60d7(0x70b)+_0x579e9a+'/'+_0x2b8db7+_0x3d60d7(0x427)+_0x136df1[_0x3d60d7(0x494)]+_0x3d60d7(0x900);})[_0x383a85(0x94c)](''),_0x473670=_0x5cbe8c['reduce']((_0x2b6829,_0x84a23d)=>_0x2b6829+(_0x278bd7[_0x84a23d][_0x383a85(0xa92)]?.[_0x383a85(0x2d2)]||0x0),0x0),_0x468dbe=currentQuizData[_0x383a85(0x99c)][_0x383a85(0xdeb)]((_0x30f98d,_0x422a64)=>{const _0xd35906=_0x383a85;let _0x4febe6=null,_0x5ea15c=null;for(const _0x1eef92 of _0x5cbe8c){const _0x1646f7=_0x278bd7[_0x1eef92][_0xd35906(0xa92)]?.[_0xd35906(0x787)](_0x3d49dc=>_0x3d49dc[_0xd35906(0xe6a)]===_0x422a64);if(_0x1646f7){_0x4febe6=_0x1646f7,_0x5ea15c=_0x1eef92;break;}}const _0x2db06c=!!_0x4febe6,_0x3ca21d=_0x2db06c&&_0x4febe6[_0xd35906(0x697)],_0x211be1=(Math['floor'](_0x422a64/_0x5cbe8c[_0xd35906(0x2d2)])+0x1)*_0x5cbe8c[_0xd35906(0x2d2)],_0x48de22=_0x473670>=_0x211be1,_0x102015=_0x48de22?_0xd35906(0x585):'bg-black/10',_0x4c2e3e=_0x48de22?_0xd35906(0x309):'';let _0x28d3e3='รอ...';return _0x2db06c&&(_0x28d3e3=_0x5ea15c+_0xd35906(0xc73)+(_0x3ca21d?_0xd35906(0x3f8):'ผิด')),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x102015+_0xd35906(0x543)+(_0x422a64+0x1)+_0xd35906(0x8cf)+_0x4c2e3e+_0xd35906(0x9a1)+_0x28d3e3+_0xd35906(0x31b);})[_0x383a85(0x94c)]('');_0x3a5477[_0x383a85(0x45b)]=_0x383a85(0xb17)+_0x5ee861+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x468dbe+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0xe293cb=_0x4247b4,_0x4bb15b=prompt(_0xe293cb(0x9fa));if(!_0x4bb15b||_0x4bb15b[_0xe293cb(0xba3)]()['length']!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x1dd717=collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),_0xe11f22=query(_0x1dd717,where(_0xe293cb(0xf62),'==',_0x4bb15b['trim']()),where(_0xe293cb(0x55e),'==',_0xe293cb(0xd93))),_0x1e41bd=await getDocs(_0xe11f22);if(_0x1e41bd[_0xe293cb(0x3a6)]){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0xa44eca=_0x1e41bd[_0xe293cb(0xd72)][0x0];currentTeamQuizId=_0xa44eca['id'];const _0x183cd6=_0xa44eca['data'](),_0x27149b=doc(db,_0xe293cb(0x2b7)+appId+'/public/data/projects',_0x183cd6[_0xe293cb(0xf28)]),_0x396113=doc(db,_0xe293cb(0x2b7)+appId+_0xe293cb(0xa8b),_0x183cd6[_0xe293cb(0x3d4)]),[_0x412e0b,_0x4fb314]=await Promise[_0xe293cb(0x8a9)]([getDoc(_0x27149b),getDoc(_0x396113)]);if(!_0x412e0b['exists']()||!_0x4fb314[_0xe293cb(0x971)]())throw new Error(_0xe293cb(0x40c));currentQuizData=getShuffledQuiz({'id':_0x4fb314['id'],..._0x4fb314[_0xe293cb(0xb86)]()});const _0xdd3c6f=_0x412e0b[_0xe293cb(0xb86)]();showTeamPlayerSelection(_0xdd3c6f[_0xe293cb(0x97d)],currentQuizData['topic']);}catch(_0x3a577d){console['error'](_0xe293cb(0x4d0),_0x3a577d),showMessage(_0xe293cb(0x5ee)+_0x3a577d['message']);}}let currentInputPin='';function handleJoinGroupActivity(){const _0x5eba8a=_0x4247b4;currentInputPin='',updatePinDisplay(),document[_0x5eba8a(0x7c7)](_0x5eba8a(0x560))[_0x5eba8a(0x457)][_0x5eba8a(0xd11)]('hidden');}function updatePinDisplay(){const _0x294b69=_0x4247b4,_0x4d36be=document['querySelectorAll'](_0x294b69(0x415));_0x4d36be['forEach']((_0xc2c629,_0x3bef3a)=>{const _0x5a44c=_0x294b69;_0x3bef3a<currentInputPin[_0x5a44c(0x2d2)]?(_0xc2c629['textContent']=currentInputPin[_0x3bef3a],_0xc2c629['classList']['add']('border-indigo-500',_0x5a44c(0x957)),_0xc2c629['classList'][_0x5a44c(0xd11)]('border-gray-300',_0x5a44c(0x2f5))):(_0xc2c629['textContent']='',_0xc2c629[_0x5a44c(0x457)]['remove'](_0x5a44c(0x65e),_0x5a44c(0x957)),_0xc2c629['classList'][_0x5a44c(0xea1)](_0x5a44c(0x73d),'bg-gray-50'));});}async function handlePinKeyPress(_0x3c3546){const _0x1d5871=_0x4247b4;if(_0x3c3546===_0x1d5871(0xdd8))currentInputPin=currentInputPin[_0x1d5871(0x68d)](0x0,-0x1);else currentInputPin[_0x1d5871(0x2d2)]<0x4&&(currentInputPin+=_0x3c3546);updatePinDisplay(),currentInputPin[_0x1d5871(0x2d2)]===0x4&&setTimeout(async()=>{const _0x2ab9e8=_0x1d5871;document[_0x2ab9e8(0x7c7)](_0x2ab9e8(0x560))[_0x2ab9e8(0x457)][_0x2ab9e8(0xea1)](_0x2ab9e8(0x845)),await processJoinWithPin(currentInputPin),currentInputPin='',updatePinDisplay();},0x12c);}async function processJoinWithPin(_0x3e799b){const _0x1ef0cd=_0x4247b4,_0x11f955=_0x3e799b[_0x1ef0cd(0xba3)]();showMessage('กำลังค้นหากิจกรรม...');try{const _0x1cd96c=collection(db,_0x1ef0cd(0x2b7)+appId+'/public/data/teamQuizzes'),_0x4156bf=query(_0x1cd96c,where(_0x1ef0cd(0xf62),'==',_0x11f955),where(_0x1ef0cd(0x55e),'==',_0x1ef0cd(0xd93))),_0x2e8cc4=await getDocs(_0x4156bf);if(!_0x2e8cc4[_0x1ef0cd(0x3a6)]){console[_0x1ef0cd(0x799)](_0x1ef0cd(0xf2d)),await proceedWithTeamQuizJoin(_0x2e8cc4[_0x1ef0cd(0xd72)][0x0]);return;}const _0x11442d=collection(db,'artifacts/'+appId+'/public/data/syncGames'),_0x522e36=query(_0x11442d,where(_0x1ef0cd(0xf62),'==',_0x11f955),where('status','in',[_0x1ef0cd(0xd93),'question',_0x1ef0cd(0xf7c),'results'])),_0x25a1d0=await getDocs(_0x522e36);if(!_0x25a1d0[_0x1ef0cd(0x3a6)]){console[_0x1ef0cd(0x799)](_0x1ef0cd(0xc97)),await proceedWithSyncQuizJoin(_0x25a1d0[_0x1ef0cd(0xd72)][0x0]);return;}showMessage(_0x1ef0cd(0x32c));}catch(_0x107733){console[_0x1ef0cd(0xd5b)](_0x1ef0cd(0x455),_0x107733),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x107733[_0x1ef0cd(0x725)]);}}async function proceedWithTeamQuizJoin(_0x54a2b0){const _0x417d7c=_0x4247b4;currentTeamQuizId=_0x54a2b0['id'];const _0x4435be=_0x54a2b0[_0x417d7c(0xb86)](),_0x38ef2a=doc(db,'artifacts/'+appId+_0x417d7c(0xbcb),_0x4435be['projectId']),_0x4f13b9=doc(db,_0x417d7c(0x2b7)+appId+'/public/data/quizzes',_0x4435be[_0x417d7c(0x3d4)]),[_0x3f93a7,_0xd50020]=await Promise['all']([getDoc(_0x38ef2a),getDoc(_0x4f13b9)]);if(!_0x3f93a7['exists']()||!_0xd50020[_0x417d7c(0x971)]())throw new Error(_0x417d7c(0x40c));currentQuizData=getShuffledQuiz({'id':_0xd50020['id'],..._0xd50020[_0x417d7c(0xb86)]()}),showTeamPlayerSelection(_0x3f93a7[_0x417d7c(0xb86)]()['students'],currentQuizData[_0x417d7c(0x6b2)],_0x4435be[_0x417d7c(0x6d5)]||'team'),messageModal['classList'][_0x417d7c(0xea1)](_0x417d7c(0x845));}async function proceedWithSyncQuizJoin(_0x36334d){const _0x2992f5=_0x4247b4;currentLiveGameId=_0x36334d['id'];const _0x3b6863=_0x36334d['data'](),_0xa6314=doc(db,_0x2992f5(0x2b7)+appId+_0x2992f5(0xa8b),_0x3b6863[_0x2992f5(0x3d4)]),_0x1b335c=await getDoc(_0xa6314);if(!_0x1b335c['exists']())throw new Error(_0x2992f5(0xef3));const _0x339ae8=_0x1b335c['data'](),_0x1d40b5=doc(db,'artifacts/'+appId+_0x2992f5(0xbcb),_0x339ae8['projectId']),_0x46b509=await getDoc(_0x1d40b5);if(!_0x46b509[_0x2992f5(0x971)]())throw new Error(_0x2992f5(0x6d8));currentQuizData=_0x3b6863[_0x2992f5(0xeb8)],showView(_0x2992f5(0x2fd)),showTeamPlayerSelection(_0x46b509[_0x2992f5(0xb86)]()['students'],_0x339ae8[_0x2992f5(0x6b2)],_0x2992f5(0xca0));const _0x4d23e7=document['getElementById'](_0x2992f5(0xe0e)),_0x34d4ca=_0x4d23e7[_0x2992f5(0xcb4)](!![]);_0x4d23e7['parentNode'][_0x2992f5(0x6e6)](_0x34d4ca,_0x4d23e7),_0x34d4ca[_0x2992f5(0xb2b)]=confirmAndJoinSyncGame,messageModal['classList'][_0x2992f5(0xea1)](_0x2992f5(0x845));}function getCleanApplicationHTML(){const _0x1077bc=_0x4247b4,_0x26eaf1=document[_0x1077bc(0x7c7)]('applicationContent');if(!_0x26eaf1)return'';const _0x1f7e8a=_0x26eaf1[_0x1077bc(0xcb4)](!![]);return _0x1f7e8a[_0x1077bc(0xf52)](_0x1077bc(0xf72))[_0x1077bc(0x9fb)](_0x14c5d4=>{const _0x1ddde8=_0x1077bc;_0x14c5d4['classList'][_0x1ddde8(0xd11)](_0x1ddde8(0x9a2),'incorrect'),_0x14c5d4[_0x1ddde8(0x766)]=![];}),_0x1f7e8a[_0x1077bc(0x45b)];}function showTeamPlayerSelection(_0x1d018e,_0x4cbc04,_0x267de7='team'){const _0x821672=_0x4247b4;studentInitialView[_0x821672(0x457)]['add']('hidden'),studentJoinGameView[_0x821672(0x457)][_0x821672(0xea1)]('hidden'),document[_0x821672(0x7c7)](_0x821672(0xdfa))[_0x821672(0x457)]['remove'](_0x821672(0x845)),orderedPlayerSelection=[];let _0x464919=_0x821672(0xa74);if(_0x267de7===_0x821672(0x374))_0x464919=_0x821672(0x8ad);else _0x267de7==='sync'&&(_0x464919='Sync\x20Mode');document[_0x821672(0x7c7)]('team-quiz-topic')[_0x821672(0xb0c)]=_0x464919+':\x20'+_0x4cbc04;const _0x751d76=document[_0x821672(0x7c7)]('team-student-list');if(!_0x1d018e||_0x1d018e['length']===0x0){_0x751d76[_0x821672(0x45b)]='<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>',document[_0x821672(0x7c7)](_0x821672(0xe0e))[_0x821672(0x766)]=!![];return;}_0x751d76[_0x821672(0x45b)]=_0x1d018e[_0x821672(0xdeb)](_0x2481d5=>_0x821672(0xd23)+_0x2481d5+_0x821672(0xf43)+_0x2481d5+_0x821672(0x52a))[_0x821672(0x94c)](''),document[_0x821672(0x7c7)](_0x821672(0xe0e))[_0x821672(0x766)]=![];const _0x5380bc=_0x751d76[_0x821672(0xf52)](_0x821672(0x8f3));_0x5380bc[_0x821672(0x9fb)](_0x58164f=>{const _0x5cda60=_0x821672;_0x58164f[_0x5cda60(0xf03)](_0x5cda60(0xc7a),_0x282ac2=>{const _0x1eef78=_0x5cda60,_0x1b226f=_0x282ac2[_0x1eef78(0xcbd)][_0x1eef78(0xc66)];_0x282ac2['target'][_0x1eef78(0xa20)]?!orderedPlayerSelection['includes'](_0x1b226f)&&orderedPlayerSelection[_0x1eef78(0x82f)](_0x1b226f):orderedPlayerSelection=orderedPlayerSelection[_0x1eef78(0x498)](_0x1448d7=>_0x1448d7!==_0x1b226f),updateSelectionOrderVisuals(_0x751d76);});});}function updateSelectionOrderVisuals(_0x589947){const _0x494599=_0x4247b4,_0x3bbe5e=_0x589947['querySelectorAll']('input[name=\x22team_player\x22]');_0x3bbe5e[_0x494599(0x9fb)](_0x92f17a=>{const _0x50191e=_0x494599,_0x28f64f=_0x92f17a[_0x50191e(0x5bf)](_0x50191e(0x329)),_0x5907ea=_0x28f64f['querySelector'](_0x50191e(0x2c0));if(_0x92f17a[_0x50191e(0xa20)]){const _0x263e12=orderedPlayerSelection[_0x50191e(0x6a2)](_0x92f17a['value']);_0x263e12!==-0x1&&(_0x5907ea[_0x50191e(0xb0c)]=_0x50191e(0xd7b)+(_0x263e12+0x1),_0x5907ea[_0x50191e(0x457)][_0x50191e(0xd11)](_0x50191e(0x845)),_0x28f64f['classList'][_0x50191e(0xea1)]('bg-indigo-50','border-indigo-200'));}else _0x5907ea[_0x50191e(0x457)][_0x50191e(0xea1)]('hidden'),_0x28f64f[_0x50191e(0x457)][_0x50191e(0xd11)](_0x50191e(0xc0e),_0x50191e(0x72f));});}async function confirmAndStartTeamQuiz(){const _0x510163=_0x4247b4,_0xeb717b=[...orderedPlayerSelection];if(_0xeb717b[_0x510163(0x2d2)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0xeb717b,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x1d4cf1=doc(db,_0x510163(0x2b7)+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x3dbec5=await getDoc(_0x1d4cf1);if(!_0x3dbec5[_0x510163(0x971)]())throw new Error('ไม่พบข้อมูลเกม');const _0x979ae1=_0x3dbec5[_0x510163(0xb86)]();if(_0x979ae1['mode']===_0x510163(0x374)){const _0x422dcd={[_0x510163(0x565)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x1d4cf1,_0x422dcd);}else{const _0x3f9856=_0x979ae1[_0x510163(0x7df)]||{};localTeamPlayers[_0x510163(0x9fb)](_0x3dfcc0=>{!_0x3f9856[_0x3dfcc0]&&(_0x3f9856[_0x3dfcc0]={'score':0x0,'answers':[]});}),await updateDoc(_0x1d4cf1,{'responses':_0x3f9856});}document[_0x510163(0x7c7)]('student-team-selection-view')[_0x510163(0x457)][_0x510163(0xea1)](_0x510163(0x845)),renderTeamQuizQuestion();const _0x22c52f={'gameId':currentTeamQuizId,'mode':_0x979ae1[_0x510163(0x6d5)]||_0x510163(0xbd3),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x510163(0x2b0)](_0x510163(0x70f),JSON[_0x510163(0xe71)](_0x22c52f)),listenForTeamQuizUpdates();}catch(_0x20e5ef){console['error'](_0x510163(0xc00),_0x20e5ef),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function renderTeamQuizQuestion(){const _0x5201f8=_0x4247b4;if(localQuestionIndex>=currentQuizData[_0x5201f8(0x99c)][_0x5201f8(0x2d2)]){displayTeamQuizFinalResults();return;}const _0x5f38a8=currentQuizData[_0x5201f8(0x99c)][localQuestionIndex],_0x2b3941=localTeamPlayers[localPlayerIndex],_0x1a4d26=_0x5f38a8[_0x5201f8(0xf29)]||currentQuizData[_0x5201f8(0xa71)];let _0x2040d8=_0x5f38a8[_0x5201f8(0x203)]||_0x5f38a8[_0x5201f8(0x303)],_0x2c47fd='';switch(_0x1a4d26){case _0x5201f8(0x7fe):case'fill_in_with_choices':_0x2c47fd=_0x5f38a8[_0x5201f8(0xb84)]['map']((_0x35624d,_0x3dd10a)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x3dd10a+_0x5201f8(0x204)+_0x3dd10a+_0x5201f8(0x53b)+_0x3dd10a+'\x22>'+_0x35624d+_0x5201f8(0x8aa))[_0x5201f8(0x94c)]('');break;case _0x5201f8(0x353):_0x2c47fd='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x5201f8(0xf11):case _0x5201f8(0x437):_0x2c47fd=_0x5201f8(0xbc4);break;case _0x5201f8(0x39f):_0x2c47fd=_0x5201f8(0xe25)+_0x5f38a8[_0x5201f8(0x5b2)][_0x5201f8(0xdeb)](_0xdc7a95=>_0x5201f8(0x685)+_0xdc7a95+'\x22>'+_0xdc7a95+_0x5201f8(0xdaf))['join']('')+_0x5201f8(0x386);break;default:_0x2c47fd='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x5201f8(0x45b)]=_0x5201f8(0x83f)+(localQuestionIndex+0x1)+_0x5201f8(0x74e)+currentQuizData[_0x5201f8(0x99c)]['length']+_0x5201f8(0xb0f)+_0x2b3941+_0x5201f8(0x2ad)+(localQuestionIndex+0x1)+'.\x20'+_0x2040d8+_0x5201f8(0xe5c)+(_0x5f38a8[_0x5201f8(0x601)]?_0x5201f8(0x58a)+_0x5f38a8[_0x5201f8(0x601)]+_0x5201f8(0x745):'')+_0x5201f8(0xd1a)+_0x2c47fd+_0x5201f8(0x3a5),studentQuizArea[_0x5201f8(0x457)][_0x5201f8(0xd11)]('hidden');if(window['MathJax'])MathJax[_0x5201f8(0xecc)]([studentQuizArea]);document[_0x5201f8(0x7c7)](_0x5201f8(0xa94))[_0x5201f8(0xf03)](_0x5201f8(0x2f0),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0xc83461=_0x4247b4,_0x19528b=currentQuizData['questions'][localQuestionIndex],_0x46faab=_0x19528b[_0xc83461(0xf29)]||currentQuizData[_0xc83461(0xa71)];let _0x17bfd1=null,_0x2f140c=![];if(_0x46faab===_0xc83461(0xf11)||_0x46faab==='fill_in_no_choices'){const _0x2fe4f8=document[_0xc83461(0x79b)](_0xc83461(0x963));if(!_0x2fe4f8||!_0x2fe4f8[_0xc83461(0xc66)][_0xc83461(0xba3)]()){showMessage(_0xc83461(0x84d));return;}_0x17bfd1=_0x2fe4f8[_0xc83461(0xc66)][_0xc83461(0xba3)](),_0x2f140c=await gradeShortAnswer(_0x17bfd1,_0x19528b);}else{const _0x387486=document[_0xc83461(0x79b)](_0xc83461(0x2c1));if(!_0x387486||_0x387486['value']===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x17bfd1=_0x387486['value'];switch(_0x46faab){case'true_false':_0x2f140c=_0x17bfd1==='true'===_0x19528b['correctAnswer'];break;case'matching_item':_0x2f140c=_0x17bfd1===_0x19528b[_0xc83461(0x36d)];break;default:_0x2f140c=parseInt(_0x17bfd1)===_0x19528b[_0xc83461(0xc6f)];break;}}const _0x18bdd6={'questionIndex':localQuestionIndex,'isCorrect':_0x2f140c},_0x5eb220=userId,_0xcc7c6={['groups.'+_0x5eb220+'.answers']:arrayUnion(_0x18bdd6)};_0x2f140c&&(_0xcc7c6['groups.'+_0x5eb220+_0xc83461(0x58b)]=increment(0x1));try{await updateDoc(doc(db,_0xc83461(0x2b7)+appId+_0xc83461(0x56b),currentTeamQuizId),_0xcc7c6),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0xc83461(0x99c)][_0xc83461(0x2d2)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x2f0112){console[_0xc83461(0xd5b)](_0xc83461(0x2d9),_0x2f0112),showMessage(_0xc83461(0xacb));}}async function handleTeamAnswerSubmit(){const _0x421121=_0x4247b4,_0x25ecd1=await getDoc(doc(db,_0x421121(0x2b7)+appId+_0x421121(0x56b),currentTeamQuizId));if(!_0x25ecd1[_0x421121(0x971)]())return;const _0x83cd36=_0x25ecd1[_0x421121(0xb86)]();if(_0x83cd36[_0x421121(0x6d5)]===_0x421121(0x374)){handleGroupAnswerSubmit();return;}const _0x2b655c=localTeamPlayers[localPlayerIndex],_0x28236c=currentQuizData[_0x421121(0x99c)][localQuestionIndex],_0x47a631=_0x28236c['questionType']||currentQuizData['quizType'];let _0x6d36af=null,_0x3917ec=![];if(_0x47a631===_0x421121(0xf11)||_0x47a631==='fill_in_no_choices'){const _0x269861=document[_0x421121(0x79b)]('textarea[name=\x22team_answer\x22]');if(!_0x269861||!_0x269861[_0x421121(0xc66)][_0x421121(0xba3)]()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0x6d36af=_0x269861[_0x421121(0xc66)][_0x421121(0xba3)](),_0x3917ec=await gradeShortAnswer(_0x6d36af,_0x28236c);}else{const _0x164efc=document[_0x421121(0x79b)](_0x421121(0x2c1));if(!_0x164efc||_0x164efc[_0x421121(0xc66)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x6d36af=_0x164efc[_0x421121(0xc66)];switch(_0x47a631){case _0x421121(0x353):_0x3917ec=_0x6d36af===_0x421121(0x96f)===_0x28236c['correctAnswer'];break;case _0x421121(0x39f):_0x3917ec=_0x6d36af===_0x28236c['correctResponse'];break;default:_0x3917ec=parseInt(_0x6d36af)===_0x28236c['correctAnswerIndex'];break;}}const _0x131ca9={'questionIndex':localQuestionIndex,'isCorrect':_0x3917ec,'answerValue':_0x6d36af},_0x2921a9={[_0x421121(0x39d)+_0x2b655c+_0x421121(0xa8e)]:arrayUnion(_0x131ca9)};_0x3917ec&&(_0x2921a9[_0x421121(0x39d)+_0x2b655c+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x421121(0x2b7)+appId+_0x421121(0x56b),currentTeamQuizId),_0x2921a9),localPlayerIndex++,localPlayerIndex>=localTeamPlayers['length']&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x49fa37){console[_0x421121(0xd5b)]('Error\x20submitting\x20team\x20answer:',_0x49fa37),showMessage(_0x421121(0xacb));}}async function displayTeamQuizFinalResults(){const _0xea8177=_0x4247b4;studentQuizArea[_0xea8177(0x457)][_0xea8177(0xea1)]('hidden'),studentResultArea[_0xea8177(0x457)][_0xea8177(0xd11)](_0xea8177(0x845));const _0x276180=doc(db,'artifacts/'+appId+_0xea8177(0x56b),currentTeamQuizId),_0x2c95f8=await getDoc(_0x276180);if(!_0x2c95f8[_0xea8177(0x971)]()){studentResultArea[_0xea8177(0x45b)]=_0xea8177(0x6b3);return;}const _0x2ac4cf=_0x2c95f8[_0xea8177(0xb86)]();let _0xf1274f=[];const _0x3c908f=_0x2ac4cf[_0xea8177(0x6d5)]||'team';if(_0x3c908f===_0xea8177(0x374)){const _0x35cb84=_0x2ac4cf[_0xea8177(0x97c)][userId];_0x35cb84?_0xf1274f=[{'name':_0xea8177(0x363)+localTeamPlayers[_0xea8177(0x94c)](',\x20'),'score':_0x35cb84['score']||0x0}]:_0xf1274f=[{'name':'กลุ่มของคุณ','score':'N/A'}];}else _0xf1274f=localTeamPlayers[_0xea8177(0xdeb)](_0x317796=>({'name':_0x317796,'score':_0x2ac4cf[_0xea8177(0x7df)][_0x317796]?.[_0xea8177(0x494)]||0x0}))[_0xea8177(0x994)]((_0x4d2928,_0x4ed844)=>_0x4ed844['score']-_0x4d2928[_0xea8177(0x494)]);studentResultArea[_0xea8177(0x45b)]=_0xea8177(0x92c)+_0xf1274f[_0xea8177(0xdeb)](_0x883478=>_0xea8177(0xc9b)+_0x883478['name']+_0xea8177(0xb30)+_0x883478[_0xea8177(0x494)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xea8177(0x94c)]('')+_0xea8177(0xe0f),sessionStorage[_0xea8177(0x801)](_0xea8177(0x70f)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x15ee88=_0xea8177;deleteDoc(doc(db,_0x15ee88(0x2b7)+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x4247b4(0x3a7)};const allMathTopics=[{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0x5d0)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0xbb4)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0x762)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0x97e)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0x308)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0xeec)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0x3fc)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0xd9b)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0x935)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0x8ed)},{'category':_0x4247b4(0x6eb),'name':'ศูนย์'},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0x674)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0x7e8)},{'category':'จำนวนและการดำเนินการ','name':_0x4247b4(0x6ed)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0x2e0)},{'category':'จำนวนและการดำเนินการ','name':'ค.ร.น.\x20(LCM)'},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0x373)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0xed2)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0xea9)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0xb2f)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0x327)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0x9bf)},{'category':_0x4247b4(0x6eb),'name':'การหารเศษส่วน'},{'category':_0x4247b4(0x6eb),'name':'จำนวนคละ'},{'category':'จำนวนและการดำเนินการ','name':_0x4247b4(0x50e)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0x40a)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0x5fb)},{'category':'จำนวนและการดำเนินการ','name':_0x4247b4(0x340)},{'category':'จำนวนและการดำเนินการ','name':'การหารทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':_0x4247b4(0x41a)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0x628)},{'category':_0x4247b4(0x6eb),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0x3c7)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0xc2e)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0xa44)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0xab9)},{'category':_0x4247b4(0x6eb),'name':_0x4247b4(0xa7b)},{'category':_0x4247b4(0x397),'name':_0x4247b4(0x7c4)},{'category':_0x4247b4(0x397),'name':_0x4247b4(0x662)},{'category':_0x4247b4(0x397),'name':_0x4247b4(0xa05)},{'category':_0x4247b4(0x397),'name':_0x4247b4(0xc56)},{'category':_0x4247b4(0x397),'name':_0x4247b4(0xc9f)},{'category':_0x4247b4(0x397),'name':_0x4247b4(0x262)},{'category':_0x4247b4(0x397),'name':_0x4247b4(0x883)},{'category':_0x4247b4(0x397),'name':_0x4247b4(0x87c)},{'category':'การวัด','name':_0x4247b4(0xcab)},{'category':_0x4247b4(0x397),'name':_0x4247b4(0x85e)},{'category':'การวัด','name':'ปริมาตรรูปทรงสามมิติ'},{'category':'การวัด','name':'มุมและการวัดมุม'},{'category':_0x4247b4(0x397),'name':_0x4247b4(0x256)},{'category':_0x4247b4(0x397),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x4247b4(0x2a2),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x4247b4(0x2a2),'name':'ความสัมพันธ์ของมุม'},{'category':'เรขาคณิต','name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x4247b4(0x2a2),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x4247b4(0x2a2),'name':_0x4247b4(0x8d5)},{'category':_0x4247b4(0x2a2),'name':_0x4247b4(0xb2e)},{'category':'เรขาคณิต','name':_0x4247b4(0xaa9)},{'category':_0x4247b4(0x2a2),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x4247b4(0x2a2),'name':_0x4247b4(0x37e)},{'category':_0x4247b4(0x2a2),'name':_0x4247b4(0x4dc)},{'category':_0x4247b4(0x2a2),'name':_0x4247b4(0x72c)},{'category':_0x4247b4(0x2a2),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':'เรขาคณิต','name':_0x4247b4(0xdab)},{'category':_0x4247b4(0x2a2),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x4247b4(0x2a2),'name':_0x4247b4(0x3c6)},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0xafe)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4247b4(0xb40)},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0xed3)},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0x486)},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0x2c7)},{'category':'พีชคณิตและฟังก์ชัน','name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4247b4(0x3b8)},{'category':_0x4247b4(0xe76),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0x979)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการเหตุผล\x20(rational)'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการราก\x20(radical)'},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0xe8c)},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0x7e1)},{'category':_0x4247b4(0xe76),'name':'อสมการเชิงเส้น'},{'category':_0x4247b4(0xe76),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0x2f6)},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0x781)},{'category':_0x4247b4(0xe76),'name':'โดเมนและเรนจ์'},{'category':_0x4247b4(0xe76),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0x95c)},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0xef7)},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0x531)},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0xb8f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4247b4(0x837)},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0x532)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4247b4(0xd37)},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0xbe6)},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0xe41)},{'category':_0x4247b4(0xe76),'name':'ฟังก์ชันยกกำลัง'},{'category':_0x4247b4(0xe76),'name':'ฟังก์ชันลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4247b4(0x9c3)},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0x735)},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0xba4)},{'category':_0x4247b4(0xe76),'name':_0x4247b4(0x3db)},{'category':_0x4247b4(0xe76),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x4247b4(0x3d8),'name':_0x4247b4(0x8f6)},{'category':_0x4247b4(0x3d8),'name':_0x4247b4(0x93a)},{'category':'เรขาคณิตวิเคราะห์','name':_0x4247b4(0xbe7)},{'category':_0x4247b4(0x3d8),'name':_0x4247b4(0xe17)},{'category':_0x4247b4(0x3d8),'name':_0x4247b4(0x411)},{'category':_0x4247b4(0x3d8),'name':_0x4247b4(0xa3b)},{'category':'เรขาคณิตวิเคราะห์','name':_0x4247b4(0x643)},{'category':'เรขาคณิตวิเคราะห์','name':_0x4247b4(0x221)},{'category':_0x4247b4(0x3d8),'name':_0x4247b4(0x5d7)},{'category':_0x4247b4(0xe03),'name':_0x4247b4(0x56e)},{'category':_0x4247b4(0xe03),'name':_0x4247b4(0x988)},{'category':_0x4247b4(0xe03),'name':_0x4247b4(0xe10)},{'category':'ตรีโกณมิติ','name':_0x4247b4(0x973)},{'category':_0x4247b4(0xe03),'name':_0x4247b4(0xbb2)},{'category':'ตรีโกณมิติ','name':_0x4247b4(0x934)},{'category':_0x4247b4(0xe03),'name':_0x4247b4(0x8bd)},{'category':_0x4247b4(0xe03),'name':_0x4247b4(0x250)},{'category':'ตรีโกณมิติ','name':_0x4247b4(0x8ac)},{'category':_0x4247b4(0xe03),'name':_0x4247b4(0x1ee)},{'category':_0x4247b4(0xe03),'name':_0x4247b4(0x65b)},{'category':_0x4247b4(0x947),'name':_0x4247b4(0x3ba)},{'category':'สถิติและความน่าจะเป็น','name':_0x4247b4(0xcd2)},{'category':_0x4247b4(0x947),'name':_0x4247b4(0x377)},{'category':_0x4247b4(0x947),'name':_0x4247b4(0x3e8)},{'category':_0x4247b4(0x947),'name':_0x4247b4(0x470)},{'category':_0x4247b4(0x947),'name':_0x4247b4(0x381)},{'category':'สถิติและความน่าจะเป็น','name':_0x4247b4(0xedf)},{'category':_0x4247b4(0x947),'name':'มัธยฐาน'},{'category':_0x4247b4(0x947),'name':_0x4247b4(0xb19)},{'category':_0x4247b4(0x947),'name':_0x4247b4(0xbab)},{'category':_0x4247b4(0x947),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x4247b4(0x947),'name':_0x4247b4(0xbb7)},{'category':_0x4247b4(0x947),'name':_0x4247b4(0x310)},{'category':_0x4247b4(0x947),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x4247b4(0x947),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x4247b4(0x947),'name':_0x4247b4(0xd3b)},{'category':_0x4247b4(0x947),'name':'กฎบวกและกฎคูณ'},{'category':_0x4247b4(0x947),'name':_0x4247b4(0x6f2)},{'category':_0x4247b4(0x947),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':'สถิติและความน่าจะเป็น','name':_0x4247b4(0xbc9)},{'category':_0x4247b4(0x947),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':'สถิติและความน่าจะเป็น','name':_0x4247b4(0xa52)},{'category':'สถิติและความน่าจะเป็น','name':_0x4247b4(0x7bb)},{'category':_0x4247b4(0x947),'name':_0x4247b4(0xc70)},{'category':_0x4247b4(0x7d4),'name':'ลิมิต'},{'category':'แคลคูลัสเบื้องต้น','name':_0x4247b4(0xcdc)},{'category':_0x4247b4(0x7d4),'name':_0x4247b4(0x342)},{'category':_0x4247b4(0x7d4),'name':_0x4247b4(0x499)},{'category':_0x4247b4(0x7d4),'name':_0x4247b4(0xf3b)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x4247b4(0x7d4),'name':'ความชันเส้นสัมผัส'},{'category':'แคลคูลัสเบื้องต้น','name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x4247b4(0x7d4),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x4247b4(0x7d4),'name':_0x4247b4(0xa6f)},{'category':_0x4247b4(0x7d4),'name':_0x4247b4(0xeb4)},{'category':_0x4247b4(0x7d4),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x4247b4(0x7d4),'name':_0x4247b4(0x788)},{'category':_0x4247b4(0xe81),'name':_0x4247b4(0x81d)},{'category':_0x4247b4(0xe81),'name':_0x4247b4(0xf31)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x4247b4(0x8ba)},{'category':_0x4247b4(0xe81),'name':_0x4247b4(0x7ac)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x4247b4(0x2db)},{'category':_0x4247b4(0xe81),'name':_0x4247b4(0xebe)},{'category':_0x4247b4(0xe81),'name':_0x4247b4(0x87a)},{'category':'คณิตการเงิน/บูรณาการ','name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x4247b4(0x2df),'name':_0x4247b4(0xd21)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x4247b4(0x3ed)},{'category':_0x4247b4(0x2df),'name':_0x4247b4(0x1e6)},{'category':'คณิตการเงิน/บูรณาการ','name':'ร้อยละประยุกต์'},{'category':_0x4247b4(0x589),'name':_0x4247b4(0xe04)},{'category':_0x4247b4(0x589),'name':_0x4247b4(0x4a7)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function _0x5acb(){const _0x4e9912=['cancel-quiz-edits-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mixed','อัปเดตสถานะสำเร็จ','(เลือกแล้ว\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','ไม่พบข้อมูลแบบทดสอบ','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div></div></div>','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','สร้างคำถามใหม่\x201\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20mt-2\x20opacity-90\x20font-medium\x20bg-black/20\x20inline-block\x20px-3\x20py-1\x20rounded-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20รีบตอบหน่อยจ้า!\x20เพื่อนรออยู่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','leaderboard_','ondragover','dataset','timerDuration','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','แก้ไขหัวข้อสำเร็จ','itemId','write','addEventListener','http://www.w3.org/2000/svg','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-4\x20shadow-lg\x20animate-pulse\x20border-2\x20border-yellow-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-extrabold\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ON\x20FIRE!\x20คะแนน\x20x2</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-100\x22>ตอบถูกต่อเนื่อง\x20','project-name-input','P/อัน)','ผู้ไม่ยอมแพ้','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','student-list','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','file-default-1','short_answer','transition-transform','setAttributeNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-yellow-400\x20to-orange-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>เวลาโบนัสทำงาน!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>+25%\x20เวลาคิดเพิ่มพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','project-passcode-modal','commonMistakes','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','.shortcut-list-item','text-gray-200','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','presentation-modal','เปิดใช้งาน','prod','bulk-confidence-mode-container','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20w-full\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20sm:items-center\x20gap-3\x20flex-grow\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-shrink-0\x20w-8\x20h-8\x20flex\x20items-center\x20justify-center\x20rounded-full\x20bg-black/10\x20font-bold\x20text-lg\x20mt-1\x20sm:mt-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','devicePixelRatio','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#ffffff','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','globalCompositeOperation','แท็บใหม่','projectId','questionType','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','นักเดินทาง','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','พบ\x20Team\x20Quiz!','.color-palette-btn','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','toISOString','ดอทโปรดักต์\x20(dot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','files','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20bg-gradient-to-r\x20from-yellow-500\x20to-amber-600\x20text-white\x20px-4\x20py-1\x20rounded-full\x20border-2\x20border-yellow-200\x20shadow-lg\x20shadow-yellow-500/50\x20animate-pulse\x20transform\x20hover:scale-105\x20transition-transform\x20cursor-help\x22\x20title=\x22เงินรางวัลส่วนเกินจากรอบที่แล้ว\x20จะถูกนำมาหารเพิ่มให้ผู้ชนะในรอบนี้!\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sack-dollar\x20text-xl\x20animate-bounce\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-lg\x20drop-shadow-md\x22>กองกลาง:\x20','\x22.\x20','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-yellow-50\x20border\x20border-yellow-200\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20mb-2\x20text-yellow-800\x20text-xs\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ตัวเลือกที่ถูกซ่อน\x20(ใช้สำหรับไอเทม\x20\x22เผยตัวเลือก\x22\x20ใน\x20Sync\x20Mode)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','scratchpad-canvas','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','some','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','shortcut-name-input','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x20text-gray-700\x22>','save-bp-reference-btn','(กำลังไล่ตาม)','input[name=\x22syncVariant\x22][value=\x22','shortcuts','dblclick','กำลังสแกนหาแบบทดสอบเก่า...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','รอเปิด','Matching\x20options\x20synced:','.save-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','freeMarketEntryUsed_q','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pairedQuizId','querySelectorAll','ซามูไรสายเดี่ยว','slow-responder-container','Error\x20starting\x20team\x20quiz:','</form>','เลือกโปรเจคเพื่อบันทึก','loop-until-pass-checkbox','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','Error\x20deleting\x20custom\x20topic:','upperGroupResponders','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isPasscodeEnabled','reveal-names-btn','connect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','pin','parent','pointContent','text-blue-800','trail-tool-btn','BOOLEAN','<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x20relative\x22\x20style=\x22','resultsDisplay','.duplicate-quiz-btn','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','.ai-content\x20td','ไม่พบข้อมูลข้อสอบหลังเรียน','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','wasJinxed','file-shortcut-tabs-nav','.application-options\x20button','Could\x20not\x20fetch\x20reference\x20file:','กำลังเตรียมไฟล์...','leaderboard','export-lesson-to-pdf-btn','results-quiz-title','close-comparison-modal-footer-btn','default-','size','\x5cfrac{$1}{$2}','summary','bg-[#EF4444]\x20text-white\x20font-bold','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-editor-questions-container','ค่าเสื่อมราคา','มี\x20Points\x20ไม่เพียงพอ','quiz-editor-modal','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','showImproveButton','modal-confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','กราฟฟังก์ชันตรีโกณ','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เสือซ่อนเล็บ','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.confidence-choice-btn','removed','analytics-summary-cards','open','Game\x20results\x20already\x20saved.\x20Skipping.','confirm-not-confident','timestamp','All\x20groups\x20have\x20finished.\x20Ending\x20game.','bp-modal-quiz-type-select','shortcut-id-input','\x22,\x20','first_try_ace','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','ยืนยันและอัปเดตทั้งหมด','<li>','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','txt','stem','\x22\x20name=\x22team_answer\x22\x20value=\x22','fileShortcutOrder','answer-grid-container','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','preTestId','/public/data/blueprintProjects','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','.ai-content\x20blockquote','\x20คู่\x20','.quiz-bank-parallel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',')</span></div>','file-input-area','live-game-view','generated','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','.topic-category','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','pin-backspace-btn','ใช้ไอเทม\x20','student-quiz-leaderboard-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','text-white','confirm-move-quiz-btn','Error\x20updating\x20project\x20name:','fa-user-astronaut\x20text-blue-700','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','วงรี','normal','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','save-quiz-edits-btn','passcode-input-container','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','คำตอบที่ถูกต้อง','<span\x20class=\x22text-yellow-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>👑</span>','webkitAudioContext','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','usedBuyTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','ผ่าน','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','\x0a---\x0a','<span\x20class=\x22text-xs\x20bg-yellow-100\x20text-yellow-800\x20px-2\x20py-0.5\x20rounded-full\x20font-bold\x20ml-1\x20border\x20border-yellow-300\x20shadow-sm\x22\x20title=\x22ส่วนแบ่งจากกองกลาง\x22>+','save-project-name-btn','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','source_document.pdf','text-red-900','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','lesson-sections-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','projectView','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-id-display','shortcutId','<svg','isPinned','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','catch','close-lesson-view-btn','เกิดข้อผิดพลาดในการลบผลสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','ยืนยันการกระทำ','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','fas\x20fa-user-edit','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','parallel-test-upload-input','pen','body','🌗\x2050:50','.remove-shortcut-from-tab-btn','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','การแปลงรูปอัตลักษณ์','potBonus','end-game-btn','เข้าตลาดมืดครั้งต่อไปเสียค่าธรรมเนียม\x201\x20Point\x20ยืนยัน?','points','.quiz-bank-settings-btn','สเกลและแผนที่','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-num-questions','<span\x20title=\x22ใช้เวลา\x22>⏳</span>','confirm-admin-login-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','.topic-name-display','Failed\x20to\x20generate\x20lesson:','comparison-modal','.regenerate-question-btn','rgba(239,\x2068,\x2068,\x200.9)','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','เส้นรอบรูป','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','centralPot','line-through\x20text-red-700','scan-text-image-input','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','lastAnswerCorrect','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','lowerGroupResponders','visible','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x20shadow-lg\x20border-t-4\x20border-gray-300\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','offset','desc','file-shortcut-url-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','bg-black/20','\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20','Error\x20joining\x20sync\x20game:','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','newCorrectIndex','bg-gray-200\x20text-gray-700','<button\x20data-tab-id=\x22','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','studentName','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','multiply','applicationHTML','circle','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bulk-quiz-settings-modal','rgba(255,\x20255,\x200,\x200.5)','.delete-project-btn','N/A','ไม่พบแบบทดสอบ','รอผู้ควบคุมไปข้อต่อไป...','Error\x20unlinking\x20quiz:','.bp-edit-topic-btn','per-question-timer-container','confidence-input-','confirm-passcode-btn','กรุณาเลือกคำตอบก่อนครับ','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','ถูกต้อง!','fileShortcutTabs','คำถาม...','.move-parallel-shortcut-dropdown','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','\x22\x20ออกจากคลังนี้?','#open-additional-file-shortcuts-btn','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','toggle','\x20สำเร็จ','show-in-student-dashboard-checkbox','open-sync-scratchpad-btn','ราชาคัมแบ็ก','comeback_king','.live-answer-btn,\x20#live-submit-short-answer-btn','ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)','เรขาคณิต','reference-pdf-upload','PERFECT_SCORE','เพื่อนสนิท','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','candidates','eraser-tools-group','#results-table\x20thead\x20tr','timer-duration-input','ยกเลิกการจับคู่สำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300','<div>','setItem','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','</div><div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','beforeend','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','FileReader\x20error:','artifacts/','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','\x20กลุ่ม</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','จำนวนคู่:','live-race','.order-badge','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','กำลังอ่านไฟล์\x20Test\x20Blueprint...','screen','dim-overlay','confirm-game-start-modal','สมการเชิงเส้นตัวแปรเดียว','next-review-question-btn','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','padStart','.linkedQuizIds','toString','แผนการสอน','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','getPage','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','กรุณาเลือกโปรเจคก่อน','length','cancel-quiz-bank-btn','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','file-shortcut-container','Error\x20submitting\x20group\x20answer:','bp-modal-question-complexity-select','อินเวอร์สของเมทริกซ์','.lastAnswerCorrect','close-student-rankings-btn','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คณิตการเงิน/บูรณาการ','ห.ร.ม.\x20(GCD)','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','playerNicknames','quiz-id-input','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','.edit-hidden-shortcut-btn','scale-125','.use-hidden-parallel-shortcut-btn','content','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','\x20border\x20border-white/10\x20shadow-sm\x22>','pointer-events-none','bg-green-200\x20text-green-800','preTScore','confirm-delete-btn','mjx-container','click','scrollIntoView','.quiz-bank-try-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังกลับเข้าสู่เกม\x20','bg-gray-50','ระบบอสมการ','ระยะเวลา\x20(นาที):','createdBy','post-test','medium','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','</p>','student-team-join','tGain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','questionText','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','</span>','live-options-container','clientX','การบวก','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','scratchpad-modal','explanation','classic','readAsArrayBuffer','<div\x20class=\x22loader\x20mx-auto\x22></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','ส่วนเบี่ยงเบนมาตรฐาน','\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>',')\x22>','parallel-shortcut-id-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isRemedial','confirm-create-project-btn','generated-quiz-container','text-yellow-300','parallel-shortcuts-loading-msg','</p></div>','ควรปรับปรุง','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','.project-card-container','type','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','<span\x20class=\x22font-bold\x20','MathJax\x20typeset\x20error\x20(analytics):','idealAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','การลบเศษส่วน','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','label','confirm-crop-btn','.generate-post-test-btn','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','shouldSaveResults','index','#D1FAE5','<p\x20class=\x22text-green-700\x22><strong>(ไม่มีข้อมูลตัวเลือก)</strong></p>','(^|[^\x5c\x5c])\x5cb','หมดเวลาสำหรับข้อนี้!','font-bold','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','shuffleSetting','.quiz-bank-delete-btn','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','lower_group_count','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','sync-short-answer-input','project-dashboard-view','isAnonymousRevealed','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','การคูณทศนิยม','shortcut-reference-url-input','อนุพันธ์:\x20กฎพื้นฐาน','<span>','Profile\x20recalculation\x20error:','topics','input[name=\x22syncVariant\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','\x20จาก\x20','results','eraser-tool-btn','doc','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','.toggle-hidden-options-btn','show_results_only','opacity-50','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22','กระต่ายตื่นตูม','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','true_false','.project-card-container[data-id]','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','check-presentation-answer-btn','triangle','Error\x20starting\x20game:','tab_','bg-green-200\x20text-green-900\x20font-bold','.start-live-race-btn','generate-from-text-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการแก้ไข','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','#DBEAFE','กลุ่ม:\x20','Error\x20updating\x20points:','badges','user-id-display','แก้ไขปุ่มลัด','application/json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/3</span></div>','fontWeight','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','correctResponse','asc','closePath','student-project-leaderboard-content','\x22\x20ให้เป็นคำถามประเภท\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','อัตราส่วนและสัดส่วน','group','preventDefault','global-activity-modal','ตารางความถี่','\x0a\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Rules):**\x0a\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความเข้าใจผิดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','กำลังสร้างรูปภาพ...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-80\x20ml-1\x20font-medium\x22>','ยินดีต้อนรับกลับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','วงกลม:\x20คอร์ดและเส้นสัมผัส','href','\x22\x20data-index=\x22','แผนภาพกล่อง\x20(box\x20plot)','reduce','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','confirm-rename-quiz-btn','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</select>','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','topic-quiz-bank-modal','confirm-quiz-settings-btn','กรุณากรอกข้อมูลให้ครบทุกช่อง','<div\x20class=\x22answer-space\x22></div>','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span>\x20วินาที</p></div>','manual-bp-content','times','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20','highlighter','bp-modal-difficulty-level-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การวัด','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','quiz-leaderboard-table','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','responses.','textarea','matching_item','.group\x5c/dropdown-file','modal-timer-mode-select','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลือกและบันทึก','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','empty','grid','Error\x20fetching\x20projects\x20for\x20move:','สู้ๆ\x20ลองอีกครั้งนะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','admin-testing','\x20(p=','progress-student-select','bg-purple-600\x20text-white\x20hover:bg-purple-700\x20shadow-md','powerupUsed','subTopics','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x20(สำหรับ\x20','highlighter-tool-btn','.auto-resize-textarea','bg-green-500','ไม่พบโปรเจค','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ชนิดของข้อมูลและการเก็บข้อมูล','practiceProblems','deselect-all-topics-btn','block','toggleMathDropdown','.answered','Error\x20loading\x20blueprint\x20projects:','.\x20\x0a\x20\x20\x20\x20แต่ละข้อมี\x20','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ท็อปฟอร์ม','บันทึกแบบทดสอบสำเร็จแล้ว!','ผู้ควบคุม\x20(ทดสอบ)','ทฤษฎีบทพีทาโกรัสและการประยุกต์','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','per-q-countdown','image-to-crop','fixed','.shortcut-list-item:not(.opacity-50)','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','text-purple-600','Error\x20updating\x20sort\x20preference:','.live-answer-btn,\x20#sync-submit-btn','active','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','สถานะไม่ชัดเจน','ภูเขา','quizId','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว',';\x22\x20data-tooltip-target=\x22tooltip-','td,\x20th','เรขาคณิตวิเคราะห์','.custom-math-dropdown','ดาบพิฆาตอสูร','ทฤษฎีทวินาม\x20(เบื้องต้น)','.delete-custom-topic-btn','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','open-market-btn','\x20เป็น\x20','ใช่','rgba(59,\x20130,\x20246,\x200.7)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ref','กราฟแท่ง\x20กราฟเส้น','เกิดข้อผิดพลาดในการสร้างห้องเกม','globalSettings','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เงินงวด\x20(อนุกรมเงินงวด)','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','Invalid\x20response\x20structure\x20from\x20AI.','destroy','.edit-custom-topic-btn','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','auto','difficultyValue','เริ่มกิจกรรม:\x20','cancel-team-selection-btn','ถูก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20border-2\x20border-purple-300\x20shadow-md\x20transform\x20transition-transform\x20hover:scale-105\x22>','stepByStepExamples','การคูณ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','export-image-btn','bp-modal-passing-score-input','ดีมาก','verify-answers-btn','ไม่มี','match','input[type=\x22text\x22]','/users/','project-detail-view','then','dfrac','Error\x20saving\x20blueprint\x20project:','การบวกทศนิยม','.topic-row','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/projects/','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','ระยะจากจุดถึงเส้นตรง','generate-from-file-btn','bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','.pin-digit-box','PERSEVERANCE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','next-sync-question-btn','เกิดข้อผิดพลาดในการติดดาว','move-quiz-project-select','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','/public/data/syncGames/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','font-bold\x20text-green-700','AudioContext','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','transform','specialist','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','string','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','(ไม่มีชื่อ)','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','bulk-shuffle-select','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','ที่พิมพ์ได้\x20จำนวน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','bg-white\x20text-gray-800','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','lesson-plan-content','Blueprint\x201','ตัวเลือก\x20ค','#FFFFFF','fill_in_no_choices','subTopic','input[name=\x22status-option\x22]:checked','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','enable-passcode-checkbox','Exact/Numeric\x20checks\x20failed.\x20AI\x20grading\x20is\x20DISABLED.','strength-weakness-analysis-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','save-shortcut-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','projectOrder','min','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','.quiz-bank-checkbox:checked','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x20mr-2\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20opacity-70','destination','dispatchEvent','separate-by-content-from-file-checkbox','เน็ตช้า','comparison-overall-content','text-yellow-800','<i\x20class=\x22fas\x20fa-camera\x22></i>\x20สแกนข้อความจากรูปภาพ','#open-additional-shortcuts-btn','.rename-quiz-btn','ย้าย','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','nextElementSibling','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','Error\x20joining\x20activity:','sara','classList','ลบหัวข้อสำเร็จ','student-passcode-input','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','innerHTML','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','✂️\x20ตัด\x201\x20ตัวเลือก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','localeCompare','ซื้อ\x20(','AI\x20request\x20was\x20blocked.\x20Reason:\x20','ไม่สามารถบันทึกการตั้งค่าได้','/players','สอบซ่อม','user','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','tfrac','text/html','\x20\x0a\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20\x0a\x20\x20\x20\x20','price','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','additional-shortcuts-modal','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-tab-content','ฮิสโตแกรม','submittedAt','selected-topics-count','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','red','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.linkedQuizId','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','flex','postScore','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','back-to-student-initial-btn','เกิดข้อผิดพลาดในการลบแบบทดสอบ','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','flex\x20flex-col\x20gap-2','%</span>','referenceUrl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','ownerSVGElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','ชาไข่มุก','การแยกตัวประกอบ','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','teachingContent','.topic-actions-edit','#confidence-input-','Error\x20adding\x20students:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20scale-110\x22>','blueprintUrl','duration-300','cancel-parallel-shortcut-edit-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-sort-select','score','Export\x20Image\x20Error:','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','filter','อนุพันธ์:\x20กฎลูกโซ่','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกู้คืนข้อมูล...','บทเรียนเรื่อง:\x20','substring','</h3>','modal-passing-score-input','_opt1\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20items-center\x20gap-1\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-lg\x20truncate\x20break-words\x20max-w-[180px]\x20sm:max-w-xs\x20leading-tight\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','shortcutIds','</button>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','รูปแบบการให้เหตุผล','Blueprint\x20O-NET\x20ป.6','Error\x20fetching\x20lesson\x20content:','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','verify-answers-editor-btn','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','comparison-individual-content','#E5E7EB','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','\x27,\x20\x27','อยู่ในหัวข้อหลักใด:','p-2\x20bg-black/10\x20rounded-md','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20','/studentProfiles','numChoices','clearRect','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','description','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22\x20','showSlowResponders','ครัวซองต์','passcode-error-msg','นักวิทยาศาสตร์','_opt','file-topics-list-container','ช่างภาพ','\x20รายการสำเร็จ!','split','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','</a>','_blank','parallel-shortcut-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','Error\x20in\x20generating\x20from\x20files:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','Error\x20clearing\x20all\x20links:','Error\x20joining\x20team\x20quiz:','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','parallel-test-tab','\x5cle','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','attempts','cancel-export-pdf-btn','\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-progress-view','answering','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','back-to-dashboard-from-results-btn','\x22...','destination-out','.delete-quiz-btn','คาถาแยกเงาพันร่าง','GlobalWorkerOptions','style','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','application/pdf','join-live-game-btn','<button\x20id=\x22open-market-btn\x22\x20class=\x22','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','sync-variant-selector','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','next-question-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20teaching\x20content:','#parallel-shortcut-tabs-nav\x20.tab-name-input','close-additional-shortcuts-btn','showAnswerInAnonymous','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20จุด','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','confidence-scoring-checkbox','ยังไม่เต็มนะ','manage','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','q-explanation-','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไอรอนแมน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','cancel-admin-login-btn','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','presentation-ai-result','setValueAtTime','pointsToAdd','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-700\x20to-gray-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-gray-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-ghost\x22></i>\x20<span>ถูกบังคับมั่นใจ!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>ต้องเดิมพันด้วยความมั่นใจสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','-tab-content','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','z-index:\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','Error\x20generating\x20parallel\x20test\x20from\x20bank:','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','Error\x20deleting\x20student:','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ:\x20','answer-counter','ทศนิยม\x20(ค่าประจำหลัก)','suggestedAnswer','กำลังโหลดคลังข้อสอบทั้งหมด...','input[type=\x22checkbox\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','Failed\x20to\x20end\x20group\x20mode\x20game:','bank-tab','export-lesson-pdf-btn','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','parts','sync-submit-btn','กำลังอ่านไฟล์อ้างอิง...','pen-tool-btn','contents','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','.bp-create-topic-quiz-btn','🛡️','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','เกิดข้อผิดพลาดในการบันทึกลำดับ','<span\x20class=\x22text-yellow-300\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>👑</span>','hint','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','reference.pdf','.delete-student-btn','.move-shortcut-menu-btn','upperGroupNames','perQuestionStats','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22order-badge\x20bg-indigo-600\x20text-white\x20text-xs\x20font-bold\x20px-2\x20py-1\x20rounded-full\x20hidden\x20shadow-sm\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x20แบบทดสอบลงในคลังสำเร็จ!','ยังไม่มีนักเรียนส่งงาน','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','getItem','\x5ccdot','ฟังก์ชันเชิงเส้นและกราฟ','ฟังก์ชันสัมพัทธ์\x20(rational)','คะแนนเฉลี่ย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-gray-600','create-project-btn','fadeStartTime','perfect_score_status','minHeight','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','bg-green-100\x20text-green-800','.isScored','sync-timer-duration-input','ป่าไม้','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','confidence-mode-container','(นำโด่ง)','ข้าวมันไก่พิเศษ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','หนอนหนังสือ','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','perfect_score','text-indigo-700','.file-shortcut-btn[data-id=\x22','pointerup',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','use-powerup-','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','border-indigo-500\x20text-indigo-600','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','parallelShortcutOrder','dashboardConfig','สายลมแห่งโชคชะตา','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','wager-modal','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','responseSchema','คัดลอกไม่สำเร็จ','status','.pdf','pin-entry-modal','game-pin-input','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22กลับคืนเป็นแบบตัวเลือก\x20(Multiple\x20Choice)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','กรุณาป้อนรหัสแบบทดสอบ','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','groups.','leq','export-leaderboard-image-btn','answerValue','start-quiz-btn','project-search-input','/public/data/teamQuizzes','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','sin','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','substr','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','document','displayRank','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','ทำคะแนนเต็มในการทำครั้งแรก','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','setFont','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','topicId','close-manage-btn','.quiz-bank-item','values','confirmation-message','เกิดข้อผิดพลาดในการปักหมุด','matching','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','กรุณาตั้งชื่อแท็บใหม่:','submission','bg-gray-500','แบบทดสอบนี้หมดเวลาแล้ว','dragstart','bg-green-200\x20text-green-900','leaderboard-table-body','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้?','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','.score','div','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','สรุปผลการวิเคราะห์:\x5cn','<div\x20class=\x22my-6\x22>','text-emerald-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirmation-modal','canvas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>',',\x20r=','.project-card-content','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analyze-strengths-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/20\x20hover:bg-white/30\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x20backdrop-blur-sm\x20border\x20border-white/20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-500\x20disabled:cursor-not-allowed\x20shadow-lg\x22\x20','generate-from-link-btn','per_question','input[type=\x22checkbox\x22]:checked','padding','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','count','ON_FIRE','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results_','raw','</p><p><strong>เฉลย:</strong>\x20','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22แปลงเป็นแบบเติมคำ\x20(แต่ซ่อนตัวเลือกไว้ขาย)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','topic-tab','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','สร้างคำถามแบบใช่/ไม่ใช่','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','bg-red-200\x20text-red-800','เกิดข้อผิดพลาดในการโหลดโปรเจค','(ก่อนเรียน)\x20','allResponses','ทะเล','question-complexity-select','quiz-bank-count','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','dimmed','cancel-bp-settings-btn','กัปตัน','</h4>','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x20ชุด)','resultsSaved','\x20ตัวเลือก.\x20','closest','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','firstElementChild','competition','isConfidenceScoringEnabled','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างบทเรียน:\x20','\x20คนสุดท้าย!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-3xl\x20font-extrabold\x20text-yellow-300\x20tracking-wide\x20drop-shadow-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(79,\x2070,\x20229,\x201)','\x20to\x20blueprint\x20topic\x20','modal-confidence-scoring-checkbox','request','การนับ','Error\x20renaming\x20quiz:','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','overallGroups','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','numQuestions','list-view-btn','ไฮเพอร์โบลา','visibilityState','results-table-container','student-rankings-modal','getBoundingClientRect','shortcutOrder','countdown-display','admin-try-quiz-btn','tooltipTarget','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','Error\x20listening\x20for\x20student\x20profiles:','auto-fix-latex-btn','Error\x20saving\x20quiz:','includeImages','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','สาระที่\x201','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','ตรวจทานเฉลยเสร็จสิ้น!','\x20\x20\x20-\x20','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','เกิดข้อผิดพลาด:\x20','รอผู้ควบคุม','manage-total-players','</td></tr>','จันทร์เจ้า','slide-counter','choices_only','now','#retake-for-improvement-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','คัดลอกรหัสแล้ว!','players','การลบทศนิยม','lesson-view-modal','reveal_at_end','<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x22>','svg','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','imageCode','คัดลอกแบบทดสอบสำเร็จ','wagerAmount','ปล่อยพลัง','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.admin-try-quiz-list-btn','\x20คะแนน\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Test\x20Blueprint','ดวงดาว','webkitRequestFullscreen','</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x20text-center\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22student-exit-game-btn\x22\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','outerHTML','\x22\x20class=\x22truncate\x20text-gray-500\x22>--\x20เลือกคำตอบ\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dropdown-list-','isSyncGame','เกิดข้อผิดพลาดในการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-red-700\x20to-red-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-skull-crossbones\x22></i>\x20<span>คุณโดนคำสาป!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>คะแนนติดลบ\x20x2\x20ถ้าตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','transition-all','.bp-view-analysis-btn','กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','requestFullscreen','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','opacity','.png','use-powerup-wagerMultiplier-instant','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','<button\x20id=\x22','\x5ctimes','คำถามดิบ:\x20\x22','กรุณาวาง\x20URL\x20ของบทความก่อน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','height','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','delete','ร้อยละพื้นฐาน','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','.project-card-container:not(.opacity-50)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','deg','student-quiz-area','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','show-results-btn','manage-tab-content','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','ยอดเยี่ยม','blockReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','data:application/vnd.ms-word;charset=utf-8,','กำลังสร้างแบบทดสอบจากหัวข้อ...','กำลังอัปเดตแบบทดสอบ\x20','numPages','generate-worksheet-btn','wasConfident','เพนกวินไฟ','\x20วินาที','kick-player-btn','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','#10B981','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','หัวข้อที่สร้างเอง','พาราโบลา','ลาเต้ไม่หวาน','\x22\x20class=\x22w-full\x20p-1\x20border\x20border-dashed\x20border-gray-400\x20rounded-md\x20bg-gray-50\x20hidden-option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','\x22\x20title=\x22','export-leaderboard-pdf-btn','ตลาดมืด\x20(0\x20P)','border-red-300\x20bg-red-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-upload-input','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','fiftyFifty','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','export-pdf-modal','/lessons','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','\x20|\x20','.kick-player-btn-sync','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ผู้เล่น\x20','close-lesson-plan-modal-btn','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','Error\x20updating\x20quiz\x20settings:','border-indigo-500','classWeaknesses','insertAdjacentHTML','original-mode-checkbox','หน่วยมวล/น้ำหนักและการแปลง','replace','score-distribution-chart','val','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','focus','คนคุย','_opt0\x22>ใช่</label></div>','lesson-view-content','AI\x20แก้ไขคำถามสำเร็จ!','เกิดข้อผิดพลาดในการอัปเดต:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x22\x20class=\x22color-palette-btn\x20','quiz-settings-modal','เนื้อหาสำหรับสอน:\x20','afterend','<p\x20class=\x22font-bold\x20text-sm\x20','getTextContent','ค่าสัมบูรณ์','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','shadowBlur','เกิดข้อผิดพลาดในการสร้าง:\x20','mandatory','ยกเลิกการเชื่อมโยงสำเร็จ','topicName','fixedData','Error\x20saving\x20parallel\x20shortcut\x20config:','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','order','endTime','learningGaps','function','เกิดข้อผิดพลาดในการบันทึกคะแนน','promise','<option\x20value=\x22','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.bp-present-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','name','.file-topic-selection-btn','instantWager','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','getCroppedCanvas','tan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','text-content-input','<button\x20id=\x22use-powerup-revealOptions\x22\x20class=\x22powerup-btn\x20bg-purple-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x20font-bold\x20border-2\x20border-yellow-300\x20shadow-sm\x22>👁️\x20เผยตัวเลือก\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','isAdaptive','isCorrect','NEGATIVE_INFINITY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-red-500\x20ml-1\x20text-xl\x22>⚠️</span>','นำแบบทดสอบออกจากคลังนี้แล้ว','pinnedProjects','project-detail','\x20class=\x22accent-gray-500\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบไฟล์\x20Test\x20Blueprint','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','indexOf','บันทึกการตั้งค่าสำเร็จ','.group','Error\x20starting\x20sync\x20game:','default-2','wager-all-in-btn','reference_onet.pdf','draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','ไม่สามารถโหลดคลังข้อสอบได้','dataIndex','generate-from-blueprint-btn','quiz-search-input','ondrop','student-project-leaderboard-table-body','ceil','topic','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','color','image/png','cancel-crop-btn','pathname','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)','แปลงร่าง','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','.parallel-shortcut-btn','badgesCount','/public/data/customMathTopics','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','scrollY','bestScore','gameData','createObjectURL','\x20link(s)\x20for\x20quiz\x20ID:\x20','linkedQuizIds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','cancel-file-shortcut-edit-btn','.answeredCurrentQuestion','\x20to\x20','className','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','global-activity-quiz-list','comparison','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-pink-500\x20to-rose-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-eye\x20fa-lg\x22></i>\x20<span>เผยตัวเลือก!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>แสดงตัวเลือกที่ซ่อนอยู่เรียบร้อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','manual-bp-project-name','mode','Error\x20pairing\x20quizzes:','clientY','ไม่พบข้อมูลโปรเจค','readAsDataURL','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','anon-settings-container','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','cancel-game-start-btn','lesson-plan-modal','Error\x20generating\x20easy\x20version\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','earned-badges-container','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','isBlackMarketEnabled','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','replaceChild','getScreenCTM','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','inactive','bg-red-50','จำนวนและการดำเนินการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวประกอบและตัวประกอบเฉพาะ','solution','.lastAnswerIndex','input[type=\x22radio\x22]:checked','cancel-bulk-quiz-settings-btn','แผนภาพเวนน์','view-my-progress-btn','members',')</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','.topic-actions-view','selected-answer-index-hidden','bg-[#DCFCE7]\x20text-green-900','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-red-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#ef4444;\x22\x20data-tooltip-target=\x22tooltip-hidden-incorrect\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-incorrect\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-red-400\x22>รายละเอียดคนตอบผิด:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-48\x20overflow-y-auto\x20space-y-1\x22>','modal-loop-until-pass-checkbox','(หลังเรียน)\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x20truncate\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-options\x22>','gamePin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','(พยายามอยู่)','wasForced','summaryContent','wheel','กุ้งเต้นแร้งกา','...','isNormalTopic','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','Error\x20listening\x20for\x20custom\x20math\x20topics:','table','activeGameSession','</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x20text-center\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_the_blank','gradeLevel','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','ผิด','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27Sarabun\x27,\x20sans-serif','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','quiz-bank-modal','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','bp-topic-list-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัวเลือก)','answerText','\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-formula-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22ให้\x20AI\x20ช่วยซ่อมสูตร\x20LaTeX\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','เศรษฐีดูไบ','admin-view','random','message','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','topic-bank-subtopic-name','end-sync-game-btn','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','add-from-global-bank-btn','create-project-modal','border-indigo-200','playerIndex','workerSrc','<div\x20class=\x22mb-3\x20topic-category\x22>','overflow','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ลำดับเรขาคณิต\x20(GP)','scores-tab-btn','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','Failed\x20to\x20create/update\x20submission\x20record:','input-slow-count','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-gray-300','undo-btn','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','results-table','bg-red-500\x20text-white\x20font-bold','ชีสเค้ก','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','</div>','/submissions','Failed\x20to\x20kick\x20player\x20','release','startTime','confirm-quiz-status-btn','.color-palette-popup','open-blueprint-projects-btn','student-quiz-topic','\x20/\x20','comparison-individual-tab','wager-amount-display','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-purple-500\x20to-indigo-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-adjust\x20fa-lg\x22></i>\x20<span>50:50\x20ทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัดตัวเลือกผิดออก\x202\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.quiz-result-card','ไม่พบห้องเกมด้วยรหัสนี้\x20หรือเกมจบไปแล้ว','live-player-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ลบโปรเจค\x20\x22',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','><i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20','backgroundColor','global-quiz-count','file-topics-list','Error\x20verifying\x20answers\x20in\x20editor:','\x20ชุดสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','ศิลปิน','การปัดเศษและประมาณค่า','exponentialRampToValueAtTime','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isStarred','disabled','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','สร้างคำถามแบบเติมคำในช่องว่าง','bg-gray-100\x20opacity-70','<textarea\x20name=\x22question','standardTopic','bg-gray-400','lowerGroupNames','buy-time-quantity-input','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reveal-answer-btn','.cancel-edit-topic-btn','msExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','3461703UniRkI','มือปราบสายรุ้ง','New\x20question\x20detected.\x20Cleaning\x20up.','หลังเรียน','moveTo','.copy-quiz-id-list-btn','stroke','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x20backdrop-blur-sm\x20border\x20border-white/10\x20shadow-sm\x22>','curriculum','join-group-activity-btn','confirm-confident','ผู้เชี่ยวชาญ','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','สายลับจับบ้านเล็ก','.question-editor-item:last-of-type','bg-yellow-400\x20text-yellow-900\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','close-market-btn','find','พื้นที่ใต้กราฟ/ระหว่างกราฟ','bulk-confidence-scoring-checkbox','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','state','bg-red-500','418410MWpTCp','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','modal-shuffle-select','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','bank-input-area','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','text-blue-700\x20bg-blue-100','.question-editor-item[data-q-index=\x22','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-2\x20font-semibold\x22><i\x20class=\x22fas\x20fa-bell\x22></i>\x20แจ้งเตือนคนช้า</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20text-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>เตือนเมื่อเหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22input-slow-count\x22\x20value=\x22','<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>','log','publicLeaderboard','querySelector','save-visibility-settings-btn','close-additional-file-shortcuts-btn','ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-gradient-to-r\x20from-yellow-400\x20to-yellow-600\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-initial-view','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','AI\x20กำลังพยายามอ่านข้อความจากรูปภาพของคุณ\x20กรุณารอสักครู่...','next-drill-btn','AI\x20Formula\x20Fix\x20Error:','not_confident','.delete-shortcut-tab-btn','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','รักแรกพบ','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','เมทริกซ์:\x20บวก/คูณ','msRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','passingScore','buyTime','classStrengths','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','disabled\x20bg-gray-400\x20cursor-not-allowed','text-emerald-800','100%','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','จัดการ','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','ม้าดีดกะโหลก','Failed\x20to\x20resume\x20game\x20session:','การแจกแจงทวินาม\x20(พื้นฐาน)','dropdown-list-','password-error-msg','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','num-questions','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','หน่วยความยาวและการแปลง','anon-show-answer-toggle','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getElementById','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','scan-text-image-btn','manual-bp-grade-level','generate-from-parallel-test-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x0aห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Miscalculation:**\x20คำนวณผิดในจุดสำคัญ\x20(เช่น\x20ลืมตัวทด,\x20ลืมหาร,\x20คูณผิดตำแหน่ง)\x0a2.\x20**Misconception:**\x20ใช้สูตรผิด,\x20สลับตัวแปร,\x20เข้าใจนิยามคลาดเคลื่อน\x0a3.\x20**Partial\x20Answer:**\x20ตอบสิ่งที่โจทย์ไม่ได้ถาม\x20(เช่น\x20โจทย์ถามเส้นรอบรูป\x20แต่ตอบพื้นที่)\x0a4.\x20**Unit\x20Trap:**\x20ลืมแปลงหน่วย\x20หรือแปลงผิด\x0a*ตัวลวงทุกข้อต้องดูสมจริงจนนักเรียนที่\x20\x27เกือบรู้\x27\x20หลงกลได้*\x0a','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','retake-quiz-loop-btn','Error\x20calculating\x20final\x20scores\x20with\x20pot:','binom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','แคลคูลัสเบื้องต้น','</span><button\x20data-player-name=\x22','ดาวสภา','ธอร์ค้อนบิน','.tab-name-display','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','list','ondblclick','\x22><span\x20style=\x22','touches','restore','responses','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สมการลอการิทึม','modal-results-display-select','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20',')</button>','เส้นจำนวน','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','shadowColor','bottom','timed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x22\x20จำนวน\x20','grid-view-btn','<div\x20class=\x22my-4\x22><div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22><div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div></div><p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','quiz-type-select','beginPath','bg-red-100\x20text-red-900','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','.move-file-shortcut-dropdown','เกิดข้อผิดพลาดในการสร้างใบงาน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pinned-items','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','fa-fire\x20text-orange-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','multiple_choice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pop','removeItem','<span\x20class=\x22font-bold\x22>','admin','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','AI\x20ไม่ส่งผลลัพธ์กลับมา','save-game-results-checkbox','removeEventListener','.live-answer-btn','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','คะแนนยังไม่ถึงครึ่ง','.hidden-option-input','เกมเมอร์','scrollX','isJinxed','editor-quiz-topic','ไม่ใช่','.verification-result-editor','จากเนื้อหาต่อไปนี้:\x20\x22','\x20รายการ...','กรุณาเลือกโปรเจคที่ต้องการบันทึก','Remedial\x20quiz\x20generation\x20failed:','starred','</body></html>','pointercancel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22','#open-additional-parallel-shortcuts-btn','...\x22)?','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','\x20ชิ้น)','\x27\x20ในหัวข้อ\x20\x27','เกี่ยวกับหัวข้อ\x20\x22','Error\x20listening\x20for\x20projects:','text-blue-700','game-start-modal-title','<span\x20title=\x22โดนคำสาป\x22>😈</span>','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','pointerType','เพิ่มรายการที่เลือก','save-bp-settings-btn','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22hidden\x20absolute\x20top-full\x20left-0\x20w-full\x20mt-1\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','findIndex','push','suspended','instructions','อัปเดตการตั้งค่าของแบบทดสอบ\x20','fill','lesson-plan-title','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','ฟังก์ชันพหุนาม','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','max','topic-input','offsetWidth','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','select-all-topics-btn','parseInline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','passing-score-input','แผนการสอน:\x20','text-green-700\x20bg-green-100','total','ระยะเวลา\x20(วินาที):','hidden','สายตาสั้น','handleGenerateQuizFromBlueprintTopic','fill_in_with_choices','text-red-700','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','คณิตศาสตร์',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','กรุณาพิมพ์คำตอบของกลุ่ม','blueprint-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20sm:justify-end\x20w-full\x20sm:w-auto\x20pl-11\x20sm:pl-0\x20mt-1\x20sm:mt-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-70\x20sm:hidden\x22>คะแนนรวม:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-xl\x22>','file-shortcut-name-input','\x22\x20data-q-type=\x22','```','sync-manage-players-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','linearRampToValueAtTime','no-projects-msg','</div><span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20whitespace-nowrap\x22>คุณ</span></div>','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','ติดซีรีส์','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','splice','point','พื้นที่ผิวรูปทรงสามมิติ','sync-player-management','position','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','.delete-shortcut-btn','<span\x20title=\x22ใช้\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','pointsAwarded','\x22\x20min=\x221\x22\x20max=\x22','fontFamily','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','bank-quiz-list','Error\x20generating\x20parallel\x20post-test:','ย้ายแบบทดสอบไปโปรเจคอื่น','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','.sort-indicator','MathJax','<br>','พิมพ์ตอบ','text-gray-400\x20hover:text-indigo-600','fa-shield-alt\x20text-gray-600','</span></td>','close','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','แก้ระบบสมการด้วยเมทริกซ์','บทเรียน','พื้นที่สามเหลี่ยม','_opt0\x22\x20name=\x22question','center','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','originalQuestionText','behavior-log-container','พื้นที่สี่เหลี่ยม','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','placeholder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20listening\x20for\x20starred\x20quizzes:','latestScore','.compare-results-btn','คุณใช้ตัวช่วย\x20\x22','highlighter-size-value','confidence-scoring-description','timer-mode-select','fas\x20fa-star\x20text-yellow-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','tabId','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','bg-[#4ADE80]\x20text-green-900\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','width','เกิดข้อผิดพลาดในการบันทึก','bg-green-500\x20hover:bg-green-600\x20text-white','parallel-default-1','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','Error\x20starting\x20live\x20race:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','currentQuestionIndex','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>','Error\x20generating\x20worksheet:','<h1></h1>','.move-parallel-shortcut-menu-btn','isLooping','/questionBank','\x5csum','source_document.txt','all','</label></div>','.delete-parallel-shortcut-btn','สมการตรีโกณมิติ','Group\x20Mode','.edit-shortcut-btn','สรุปอันดับ','next-question-timed-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20animate-pulse\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','fa-bolt\x20text-blue-500','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','practice-topic-btn','submissions','scoresCalculated','touchstart','การประยุกต์เวกเตอร์พื้นฐาน','.game-start-btn','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','.parallel-shortcut-tab-btn','</span></div>','%PDF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22\x20style=\x22display:\x20block;\x20max-width:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','createOscillator','totalPoints','complexityValue','submit','leaderboard-tab-content','ต้นฉบับ\x201','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','parentElement','transparent',':</span><span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','เพิ่ม\x20','<option>กำลังโหลดโปรเจค...</option>','เพิ่มปุ่มลัดใหม่','ความเท่ากันทุกประการของสามเหลี่ยม','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ฮัลค์','Error\x20regenerating\x20question\x20in\x20editor:','.edit-file-shortcut-btn','<span\x20class=\x22ml-2\x20text-orange-500\x20animate-pulse\x20font-bold\x22>🔥\x20x','🔁\x20โอกาสครั้งที่สอง','zIndex','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','pre-test-checkbox','standard','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','open-quiz-bank-btn','<div\x20style=\x22','innerText','Error\x20updating\x20old\x20quizzes:','worksheet-input-area','#000000','Error\x20loading\x20quiz\x20for\x20student:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','live-game','.pair-quiz-btn','จำนวนเต็มลบ','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','อัปเดตแบบทดสอบเก่า\x20','update','15igwanE','parallel-shortcut_','input[name=\x22team_player\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','ระยะทางและจุดกึ่งกลาง','.bp-try-btn','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','quizMode','include-images-checkbox','sync-timer-enable-checkbox','lineWidth','<p\x20class=\x22text-red-500\x20text-sm\x22>ข้อผิดพลาด:\x20ไม่พบข้อมูลเฉลยหรือตัวเลือก</p>','เปลี่ยนโจทย์เติมคำ\x20ให้กลายเป็นแบบเลือกตอบ\x20(เฉพาะข้อที่มีตัวเลือกซ่อนอยู่)','projectName','\x20คะแนน</span></div>','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','generationConfig','analytics','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','editable-text-','นักดนตรี','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(ตอบถูก\x20x2\x20/\x20ตอบผิดเสียเงินเข้ากองกลาง!)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.edit-question-btn','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','Error\x20analyzing\x20blueprint\x20topics:','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x20shadow-xl\x20border-t-4\x20border-yellow-300\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','open-global-live-btn','Error\x20saving\x20game\x20results:','</div></div>','set','/preferences/main','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-300\x20hover:text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20','blueprint-settings-modal','Error\x20analyzing\x20file\x20for\x20topics:','คุณแน่ใจว่าต้องการลบแท็บนี้?','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','student-back-to-home-btn','word-break:\x20break-all;','Error\x20saving\x20file\x20shortcut:','.delete-submission-btn','#results-table','shortcut-tabs-nav','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x20leading-tight\x20max-w-5xl\x22>','admin-dashboard','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','schedule','link-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1540017WoUpRi','per-question-text','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20pointer-events-none\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','onblur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','confidenceMode','กฎของโคไซน์','จำนวนเต็มบวก','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','<span\x20class=\x22text-xs\x20bg-yellow-100\x20text-yellow-800\x20px-2\x20py-0.5\x20rounded-full\x20font-bold\x20ml-1\x20shadow-sm\x20border\x20border-yellow-300\x22\x20title=\x22ส่วนแบ่งจากคนตอบผิด\x22>+','\x20\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ความชันและเส้นตรง','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','number','ยืนยันการจับคู่','Error\x20deleting\x20quiz:','.eraser-size-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','blueprint-shortcut-container','รีเซ็ตลำดับโปรเจคแล้ว','pow','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','text-gray-100','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','สถิติและความน่าจะเป็น','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','Failed\x20to\x20get\x20hint:','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','question','join','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','uid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','text/plain','export-leaderboard-excel-btn','main-correct-answer-display','modal-close-btn','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','frac','bg-white','กำลังสร้างแบบทดสอบ\x20\x22','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','confirm-game-start-btn','element','ฟังก์ชันผกผัน','download','QUICK_THINKER','modal-confidence-mode-select','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','text-input-area','visibilitychange','textarea[name=\x22team_answer\x22]','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','<button\x20data-value=\x220\x22\x20data-index=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','behavior-log-tab-btn','Auto-cleanup\x20failed:','poll','timer-duration-container','upper_group_count','ส้มตำปูปลาร้า','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','true','Error\x20fetching\x20student\x20rankings:','exists','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เรเดียนและการแปลงหน่วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hover:bg-indigo-100','สมการค่าสัมบูรณ์','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','groups','students','ลำดับการดำเนินการ\x20(PEMDAS)','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','lesson-view-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22Sync\x20Mode\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x0a</button>\x0a\x0a<button\x20data-topic-id=\x22','.start-presentation-list-btn','แก้ไขข้อนี้','class','มุมพิเศษ\x2030°-60°-90°','shuffle-setting-select','</li>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','topic_','currentTarget','ตั้งเวลา\x20(เปิด)','AI\x20Fix\x20Error:','กรุณาเลือกโปรเจคปลายทาง','Error\x20processing\x20file\x20shortcut\x20click:','behaviorLog','isDefault','sort','sync-matching-select','.pin-key','<span\x20class=\x22text-blue-300\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>🎓</span>','start-presentation-btn','border-green-700','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','Error\x20saving\x20lesson\x20to\x20project:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','correct','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionId','Error\x20deleting\x20shortcut:','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','quiz-leaderboard-table-container','camera-input','#student-quiz-leaderboard-content\x20thead','copy','cropper-modal','show-final-results-btn','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','.shortcut-tab-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','scheduled_pending','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','คู่คำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','badgesCount.','authed_project_','confirm-join-game-btn','<div\x20class=\x22col-span-full\x20text-center\x20p-8\x20bg-black/20\x20rounded-lg\x20border-2\x20border-dashed\x20border-white/30\x22><i\x20class=\x22fas\x20fa-eye-slash\x20text-4xl\x20text-yellow-300\x20mb-4\x22></i><p\x20class=\x22text-xl\x20font-bold\x20text-white\x22>ตัวเลือกถูกซ่อนอยู่</p></div>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','selectedTopicNames','รายงานผลคะแนน','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','การคูณเศษส่วน','fa-pen','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','ลำดับเลขคณิต\x20(AP)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','additional-parallel-shortcuts-list','toDataURL','.shortcut-btn','circ','ชื่อโปรเจคห้ามว่าง','latestSubmittedAt','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/syncGames','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','topics.','.ai-fix-question-btn','text','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','questionStatus','.delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','bg-amber-100\x20text-amber-800','เหมียวขี้เซา','คะแนน','application','lessonPlan','confidence-scoring-toggle','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','close-additional-parallel-shortcuts-btn','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','short','update-old-quizzes-btn','endsWith','Error\x20generating\x20from\x20link:','touchmove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','pointerdown','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20หัวข้อ)','\x22><i\x20class=\x22fas\x20','bp-project-title','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','answered','every','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','warn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-green-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#22c55e;\x22\x20data-tooltip-target=\x22tooltip-hidden-correct\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบถูก</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-correct\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-green-400\x22>รายชื่อคนเก่ง:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-40\x20overflow-y-auto\x22>','Error\x20calling\x20Gemini\x20API:','timerMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20flex\x20justify-center\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','ondragstart','resume','drop','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','forEach','Failed\x20to\x20generate\x20practice\x20test:','gain','1MwzONb','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','sync-timer-duration-container','Error\x20saving\x20file\x20shortcut\x20config:','[*]','.delete-file-shortcut-btn','กรุณากรอกเป็นตัวเลขเท่านั้น','หน่วยเวลาและการคำนวณเวลา','live-short-answer-input','podium','editable-quiz-topic','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20sm:justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-3\x20w-full\x20sm:w-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-shrink-0\x20w-8\x20h-8\x20flex\x20items-center\x20justify-center\x20rounded-full\x20bg-black/10\x20font-bold\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตอบถูกทุกข้อในแบบทดสอบนี้','.ai-fix-formula-btn','เปลี่ยนชื่อโปรเจคสำเร็จ','removeAttribute','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','referenceFileUrl','player-list-lobby','blur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','quiz-results','Original\x20quiz\x20not\x20found','👁️','prev-question-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','\x22\x20name=\x22question','bar','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','secondChance','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','.bp-open-topic-bank-btn','checked','submission-status-chart','applicationContent','deltaY','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','Error\x20updating\x20custom\x20topic:','โจรสลัดอวกาศ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','ARRAY','url','postTScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-indigo-600\x20hover:bg-indigo-700','ไม่สามารถโหลดรายการโปรเจคได้','<span\x20class=\x22font-bold\x20text-right\x20flex\x20items-center\x20justify-end\x20flex-wrap\x20gap-1\x22\x20style=\x22flex-shrink:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timeBonusThisQuestion','<div\x20id=\x22slow-responder-container\x22\x20class=\x22mt-6\x20w-full\x20max-w-4xl\x20mx-auto\x20px-4\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-green-600','progress-project-select','.doc','bg-yellow-200','sync-timer-bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','delete-all-students-btn','วงกลม:\x20สมการและสมบัติ','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','exitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-green-400\x20to-emerald-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-cut\x20fa-lg\x22></i>\x20<span>ตัดตัวเลือกทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัวเลือกที่ผิด\x201\x20ข้อถูกตัดออกแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','not-found','targetId','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','bg-green-50','รากที่สองและที่สาม','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','bg-red-700\x20text-white\x20font-bold','docChanges','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','text-tab','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','.delete-parallel-shortcut-tab-btn','Invalid\x20response\x20structure\x20from\x20API.','submit-group-answer-btn','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','analytics-tab-btn','.topic-selection-btn','การจัดหมู่\x20(Combination)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-sm\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectMathOption(','<div\x20class=\x22p-2\x20rounded-md\x20','load-quiz-btn','fullscreenElement','/public/data/liveGames','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','.highlighter-color-btn','documentElement','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','math-topics-checkbox-container','label[for=\x22num-questions\x22]','ก่อนเรียน','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','confidence-modal','<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','get','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนนักเรียน','width\x2060s\x20linear','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','add-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-1\x20sm:gap-3\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','ปริพันธ์ไม่จำกัด','.regenerate-question-editor-btn','quizType','ยอดเยี่ยม!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','Team\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer','removeChild','temp-loader-text-results','student-name-selection-view','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','สัญกรณ์วิทยาศาสตร์','404\x20Not\x20Found','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','🎓\x20','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','badgesToAdd','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','.group\x5c/dropdown-parallel','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','difficulty-level-select','Error\x20fetching\x20quiz\x20settings:','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','/public/data/quizzes','additional-shortcuts-list','.ai-content\x20p','.answers','</p><div>','แก้ไขสูตรคณิตศาสตร์\x20','Error\x20saving\x20settings:','answers','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x20shadow-lg\x20border-t-4\x20border-amber-600\x22>','submit-team-answer-btn','.presentation-option','เลือกและเริ่มสร้าง','<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','พอใช้','add-parallel-shortcut-btn','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a<button\x20data-quiz-id=\x22','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','bg-blue-500\x20hover:bg-blue-600\x20text-white','check-answer-btn','AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x20ml-1\x20hover:bg-red-500/20\x20rounded-full\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>','worksheet-tab','false','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปสี่เหลี่ยมและสมบัติ','<button\x20data-shortcut-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-move-btn',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','นักเขียน','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','interesting-stats-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLowerCase','bg-blue-100','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','quadraticCurveTo','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','👁️\x20เผยตัวเลือก','รูปสแควร์รูท\x20(surd)','line-height:\x201.3;\x20min-width:\x200;','onerror','แบบเติมคำตอบ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','เกิดข้อผิดพลาดในการจับคู่','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','.quiz-bank-present-btn','sqrt','<div\x20class=\x22flex-1\x22></div>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','create-from-bank-btn','additional-parallel-shortcuts-modal','parseFromString','bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1','clear-all-links-btn','start-sync-game-btn','เกิดข้อผิดพลาดในการส่งคำตอบ','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','save-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','ดาวTikTok','\x22>(','cancel-global-activity-btn','both','Error\x20showing\x20quiz\x20detail\x20view:','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','modal-timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','attemptNumber','.start-game-btn','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','นักประดิษฐ์','save-blueprint-as-project-btn','cancel-quiz-status-btn','<li\x20class=\x22','mouse','parallelShortcutTabs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เต่าสายฟ้า','กรุณาเลือกไฟล์ก่อน','<div><input\x20type=\x22radio\x22\x20id=\x22q','ondragend','\x22\x20data-topic=\x22','projectSort','ปุ่มลัดทั้งหมด','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','Blueprint\x202','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','#E0E7FF','ตัวเลือก\x20ง','strategyScan','ครูใหญ่','STRING','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','blueprint-projects-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x20Pot</span>','.open-bp-project-btn','\x22\x20name=\x22drill_answer\x22\x20value=\x22','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','1217120LliCcp','pollUsedThisTurn','ตัวแปรและนิพจน์','round','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','newOptionsPayload','แอบชอบ','project-quizzes-list','_opt1\x22>ไม่ใช่</label></div>','qType','ผู้พิชิตดาว','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','oninput','cancel-blueprint-projects-btn','textContent','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x20ห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Calculation\x20Error:**\x20คำนวณผิดในขั้นตอนสุดท้าย\x20หรือลืมทด\x0a2.\x20**Concept\x20Error:**\x20ใช้สูตรผิด\x20หรือสลับตัวแปร\x0a3.\x20**Unit\x20Error:**\x20ลืมแปลงหน่วย\x0a*ตัวลวงทุกข้อต้องเป็นคำตอบที่นักเรียนที่\x20\x22รู้ไม่จริง\x22\x20มีโอกาสตอบได้*\x0a','\x20(Player)\x20(ID:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','<button\x20data-quiz-id=\x22','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','temp-loader-results','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','1:274192258111:web:4120c9118229b5644dd48a','ตลาดมืด\x20(','getTime','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','ฐานนิยม','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','00:00','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','save-quiz-btn','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','camera-crop-btn','move','select[name=\x22question_single\x22]','move-quiz-modal','revealOptions','(คัดลอก)\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','(ก่อนเรียน)','text/csv;charset=utf-8;','promptFeedback','onclick','\x5cpm','แบบทดสอบ:\x20','ความคล้ายของรูป','การบวกเศษส่วน','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20pointer-events-none\x22>','.bp-game-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','highlighter-tools-group','strokeStyle','(คู่ขนาน)\x20','totalQuestions','.edit-quiz-btn','trail','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','topic-input-area','student-quiz-leaderboard-table-body','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','ไม่พบตารางสำหรับ\x20Export','</span>\x20','การกระจายและการจัดหมู่','toFixed','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','fullscreenchange','Error\x20saving\x20quiz\x20edits:','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20generating\x20lesson\x20plan:','ปิดใช้งาน','behavior-log','powerups','</span></p>','text-red-500\x20hover:text-red-700','playerName','กรุณาเลือกสถานะ','add-custom-math-topic-btn','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','modal-adaptive-quiz-checkbox','shortcut-blueprint-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','input[name=\x22question_single\x22]:checked','entries','.buy-item-btn','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','finished','rows','presentation-explanation','คู่จิ้น','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','สร้างแบบทดสอบปรนัย','smooth','quiz-generation-area','textAlign','file-shortcuts-loading-msg','timer-bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','text-gray-300','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','hiddenOptions_q','delete-svg-btn','กำลังสร้างคำถามข้อ\x20','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','wagerMultiplier','toLocaleDateString','(ไม่ตอบ)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','bp-quiz-settings-btn','players.','Error\x20saving\x20shortcut:','ไม่พบข้อมูลผู้เล่น','createElement','เตรียมพบกับผลสรุปสุดท้าย','คะแนนเต็ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toBlob','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','cancel-passcode-btn','bulk-quiz-settings-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','powerupUsed_q','settings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Firebase\x20initialization\x20failed:','bg-yellow-300\x20text-yellow-900\x20font-bold','Error\x20saving\x20manual\x20blueprint\x20project:','options','.generate-content-btn','data','ข้อต่อไป','doughnut','.verification-result','dragend','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22selected-text-','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','ฟังก์ชันกำลังสองและกราฟ','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','คนดีศรีสยาม','currentMode','อกหัก','admin-password-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20แกะข้อความจากรูปภาพนี้\x20(OCR)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20อ่านตัวอักษรทั้งหมดในรูปภาพ\x20ไม่ว่าจะเป็นภาษาไทยหรืออังกฤษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20จัดรูปแบบเว้นวรรคและบรรทัดให้เหมือนต้นฉบับมากที่สุด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ไม่ต้องใส่คำนำหน้าอย่าง\x20\x22นี่คือข้อความ\x22\x20ให้ส่งคืนเฉพาะเนื้อหาในรูปเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','answeredCurrentQuestion','\x5cneq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','cancel-manual-bp-btn','bp-reference-file-url','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','add-parallel-shortcut-tab-btn','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','.question-editor-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','includes','<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','whole_quiz','trim','ผลรวมอนุกรม\x20(Σ)','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','text-green-600\x20font-bold','transition','CEOพันล้าน','พิสัย','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','incorrect','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','เกมสิ้นสุดลงแล้ว','กฎของไซน์','select','ระบบเลขและค่าประจำหลัก','pen-tools-group','not_generated','ความแปรปรวน','<div\x20class=\x22w-full\x20text-center\x20mb-4\x22><span\x20class=\x22text-xs\x20font-bold\x20text-orange-400\x20bg-black/20\x20px-2\x20py-1\x20rounded-full\x22>🔥\x20Combo:\x20','[data-topic-id]','back-from-results-btn','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','quiz-status-modal','\x20แล้ว!','loader','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','result','back-to-dashboard-from-bp-btn','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','สรุปคะแนนของคุณ','shortcut-modal-title','-9999px','ความเป็นอิสระของเหตุการณ์','เกิดข้อผิดพลาดในการซื้อ','/public/data/projects','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','G-V90KRM0L63','ย้ายแบบทดสอบสำเร็จ','question-analytics-container','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','use-powerup-wagerMultiplier','team','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineJoin','ตัวแทนแห่งดวงจันทร์','.delete-hidden-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20parallel\x20shortcut:','\x22\x20name=\x22question_single\x22\x20value=\x22','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','input','interesting-stats-wrapper','228148kClJMn','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','ฟังก์ชันค่าสัมบูรณ์','เส้นตรง:\x20รูปแบบสมการ','anonymous_reveal_end','/public/data/quizzes/','powerups.','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','กำลังสร้างแบบทดสอบ:\x20','.move-shortcut-dropdown','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','toLocaleString','questionDisplayedAt','back-to-home-manual-release','confidence','wager-max-points','โหลดนาน','.pen-size-btn','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','SAFETY','[id^=\x22dropdown-list-\x22]','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','stop','Error\x20creating\x20project:','getBBox','blueprint-topics-list','Error\x20confirming\x20players:','.file-shortcut-tab-btn','<span\x20class=\x22ml-1\x20text-orange-500\x20animate-pulse\x20font-bold\x20text-sm\x22>🔥\x20x','Error\x20during\x20class\x20analysis:','\x22>ใช่</p>','market-item-list','พิซซ่าหน้าทุเรียน','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','รายการนี้','handleGenerateAndShowLesson','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','100px','highlighter-size-slider','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','bg-indigo-50','สำหรับหัวข้อ\x20\x27','default','\x20คนที่ส่ง\x20ตอบถูก\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','getAttributeNS','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','\x22\x20name=\x22confidence','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student','เกิดข้อผิดพลาดในการใช้ไอเทม','<tr><td\x20colspan=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.remove-parallel-shortcut-from-tab-btn','s;\x22\x20title=\x22','timer-container','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','API\x20call\x20failed','unshift','เกิดข้อผิดพลาดในการนำผู้เล่นออก','ai-quiz-app-aefee.firebaseapp.com','\x22\x20สำเร็จ!','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','hasPerfectScoreBonus','half_mark_status','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','#F3E8FF','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','Error\x20saving\x20project\x20order:','parallel-test-input-area','memoryContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','far\x20fa-star','blueprint-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','Error\x20resetting\x20project\x20order:','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fromCharCode','show_pass_fail_only','สุดยอด!\x20ตอบถูกทุกข้อ','.edit-hidden-file-shortcut-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','export-leaderboard-word-btn','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-700\x22></i><p\x20class=\x22font-bold\x20text-2xl\x20truncate\x22>','bg-emerald-100','none','bulk-confidence-mode-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-choice-btn','.ideal-answer-input','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-center\x20items-end\x20gap-8\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','teacherTips','Error\x20updating\x20pin\x20status:','file-shortcut_','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','Re-grade\x20process\x20failed:','):\x20','scratchpad-controls','sync-timer-countdown','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contentEditable','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','startsWith','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','ไอติมทอด','cancel-quiz-edits-btn-footer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x22\x20class=\x22delete-project-btn\x20','\x20<span\x20class=\x22text-orange-500\x20animate-pulse\x20font-bold\x22\x20title=\x22On\x20Fire!\x20(x2\x20Points)\x22>🔥\x20x','scratchpad-clear-btn','frequency','value','modal-message','.buy-time-confirm-btn','th-TH','#file-shortcut-tabs-nav\x20.tab-name-input','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','<tr\x20class=\x22','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','correctAnswerIndex','ความคาดหมาย\x20(Expected\x20value)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตอบ','สร้างชุดคำถามจับคู่','quiz-results-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','ปลาทูคะนอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','change','ไม่ใช่\x20/\x20ผิด','parallel-shortcut-container','isArray','mean','behavior-log-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ไม่พบโปรเจคที่ต้องการลบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','add-student-btn','สอบปกติ','confirm-manual-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','student-progress-content','newOptions','underline','onchange','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','insertBefore','reviewQuestionIndex','geq','setAttribute','ไม่ได้ตอบ','isFinished','.move-file-shortcut-item','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','.file-shortcut-btn','แก้ไข\x20Points\x20ของ\x20','พบ\x20Sync\x20Game!','confident','powerup','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','pdf','<span\x20title=\x22โดนบังคับ\x22>👻</span>','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','อุณหภูมิและการแปลง','sync','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>','.bp-create-onet-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-100\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','-tab','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','ไม่สามารถโหลดข้อมูลอันดับได้','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','rgba(239,\x2068,\x2068,\x200.7)','พื้นที่วงกลม/ส่วนของวงกลม','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','API\x20Error\x20Body:','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','floor','realScore','tool','cloneNode','\x22\x20id=\x22input-','AI\x20grading\x20failed:','sine','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','btn','cancel-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-500\x20to-slate-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-shield-alt\x20fa-lg\x22></i>\x20<span>ประกันภัยทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ป้องกันการเสียคะแนนหากตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','target','left','slowResponderCount','Error\x20unpairing\x20quizzes:','.draggable-text','แม่น้ำ','ยูทูปเบอร์ฝึกหัด','เทพทรู','export-excel-btn','\x5cge','contains','blueprint-options-container','<span\x20class=\x22sort-indicator\x20ml-2\x22>','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','fa-crown\x20text-yellow-500','appendChild','print','[data-topic-container-id]','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','.use-hidden-shortcut-btn','การจัดกลุ่มข้อมูล','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีคำอธิบาย','arrayBuffer','student-name-input','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','สลับไปโหมดผู้ควบคุม','black-market-settings-container','file-shortcut-editor-modal','title','ความต่อเนื่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button','แบตหมด','.view-bp-lesson-btn','file-default-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','อัศวินรัตติกาล','start-live-race-generated-btn','lineCap','game-start-mode','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loopUntilPass','\x0a\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x20สำเร็จ!','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','cursor','[data-field=\x22subTopic\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20p-3\x20bg-blue-50\x20rounded\x20border\x20border-blue-100\x20font-semibold\x20text-blue-800\x20flex\x20items-start\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-indigo-600\x20text-lg\x20mt-[-2px]\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','force-math-checkbox','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','student-exit-game-btn','numeric','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x22>ไม่ใช่</p>','.tab-name-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','shuffle','results-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parse','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','input-','ไก่ฟ้าพญาลอ','cutOne','<button\x20data-value=\x221\x22\x20data-index=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','จับคู่เพื่อเปรียบเทียบผล','#26890c','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','\x20\x20\x20-\x20คำตอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctAnswer','.project-card-container.opacity-50','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','#6366F1','remove','mainTopics','checkAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','teacherSuggestions','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','key','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','parallelTestShortcutsConfig','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Pot\x20Distributed.\x20Leaderboard\x20Updated.','ดอกเบี้ยทบต้น','cos','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20rounded-md\x20hover:bg-gray-100\x20cursor-pointer\x20border\x20border-transparent\x20hover:border-gray-200\x20transition-all\x20select-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','summary_chart','goto-next-question-btn','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mx-1\x20text-lg\x22></i></span>','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','quiz','Error\x20saving\x20questions\x20to\x20practice\x20bank:','parallel-default-2','generated-quiz-actions','overflowY','marginBottom','spinner','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','ตัวเลือก\x20ข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งพิเศษเรื่องตัวเลือก\x20(Distractors):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ในการสร้างโจทย์ข้อใหม่\x20ห้ามสุ่มตัวลวงมั่วๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวงต้องมีความ\x20\x22สมมูล\x22\x20กับข้อสอบต้นฉบับ\x20คือดักทางผิดในจุดเดียวกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เช่น\x20ถ้าต้นฉบับดักคนลืมคูณ\x202,\x20โจทย์คู่ขนานของคุณก็ต้องมีตัวลวงที่ดักคนลืมคูณ\x202\x20เช่นกัน\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเพิ่มเติม:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','2-digit','ฟังก์ชันราก\x20(root)','isForcedConfident','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','anonymous','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','ตัวเลือก\x20ก','cancel-move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','input[name=\x22syncVariant\x22]:checked','/public/data/blueprintProjects/','mousedown','.topic-name-input','Enter','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','lesson-loader','เกิดข้อผิดพลาดในการลบ','.txt','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','reference.txt','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','enable-black-market-checkbox','cancel-shortcut-edit-btn','json','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','save','text-green-700','quiz-form','bp-modal-include-images-checkbox','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22!\x20Combo\x20ถูกรีเซ็ตเป็น\x200','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-80\x20ml-1\x20font-medium\x22>','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','firstScore','error','!\x20ข้อมูลของคุณถูกกู้คืนแล้ว','blueprint-project-manager-view','กรุณาสร้างบทเรียนก่อน','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insurance','preScore','2526336SbQdxl','toDate','bulk-results-display-select','admin-password-input','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','Error\x20saving\x20reference\x20URL:','abs','สร้างแล้ว','drill-feedback','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','fa-rocket\x20text-purple-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20generating\x20from\x20parallel\x20test\x20file:','รหัสไม่ถูกต้อง','docs','quick_thinker','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','passcode-prompt-message','onkeydown','คนที่\x20','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','\x20in\x20all\x20blueprint\x20projects.','มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)','มูเตลู','ต้นฉบับทั้งหมด','lastAnswerIndex','ตรวจคะแนนใหม่\x20','63nrCYlJ','เกิดข้อผิดพลาดในการลบนักเรียน','rgba(16,\x20185,\x20129,\x200.7)','results-quiz-id-display','blueprint-project-list','project-passcode-input','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table-body','API\x20call\x20failed\x20with\x20status:\x20','default-1','additional-file-shortcuts-list','file-shortcut-modal-title','\x20mr-2\x22></i>','ไม่ผ่าน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Error\x20toggling\x20star\x20status:','lobby','OBJECT','leaderboard-quiz-tab-btn','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','rename-quiz-input','#4338ca','parallel-shortcut-name-input','[data-topic-id=\x22','การหาร','wakeLock','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','</tbody></table>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcut-id-input','cancel-test-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','???','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','md:col-span-3','viewBox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','currentPoints','createdAt','สมมาตร\x20(แกน/จุด)','stopPropagation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20user\x20preference:','</option>','ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่','file.pdf','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20สำเร็จ','sawtooth','button[type=\x22submit\x22]','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','manual-blueprint-modal','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังประมวลผล...','สแกนข้อความเรียบร้อยแล้ว!\x20คุณสามารถตรวจสอบและแก้ไขได้ก่อนสร้างแบบทดสอบ','q-image-container-','บันทึกโปรเจค\x20\x22','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20','\x20ทำงานอยู่!</div>','nickname-input','<button\x20data-value=\x22','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','qIndex','shortcuts-loading-msg','นอนไม่พอ','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','parallel-shortcut-modal-title','pre-test','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','onload','confirm-link-quiz-btn','commit','memory','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','createGain','.delete-question-editor-btn','<span\x20class=\x22text-blue-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>🎓</span>','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังอ่านรูปภาพ...','num-choices-container','scratchpad-header','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','backspace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','POST','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','worksheet-topic-input','rgba(79,\x2070,\x20229,\x200.8)','applicationData','#FEF3C7','แบบทดสอบที่ติดดาว','\x20ครั้ง)</span></td>','text-red-600','additional-file-shortcuts-modal','correctStreak','กรุณาป้อนหัวข้อสำหรับใบงาน','เพิ่มปุ่มลัดจากไฟล์ใหม่','</td>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','map','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','gameVariant','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20(','null','use-powerup-buyTime','show_results_and_answers','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','.remove-file-shortcut-from-tab-btn','hasOwnProperty','<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22><div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>','fileShortcutsConfig','หมูกระทะจะเยียวยาทุกสิ่ง','student-team-selection-view','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','4405848cFkoYm','pointermove','checkbox','\x22\x20data-target-tab-id=\x22','autoTable','ตรีโกณมิติ','ค่าความจริง/ตารางค่าความจริง','ท้องฟ้า','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','file-default-','project-title','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','modified','กำลังสร้างเนื้อหา:\x20','#view-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirm-team-players-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','มุมพิเศษ\x2045°-45°-90°','ไม่สามารถสร้างโปรเจคได้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','date_asc','Error\x20editing\x20topic:','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','เส้นตรง:\x20ขนาน/ตั้งฉาก','hint-btn','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','showInStudentDashboard','จำนวนข้อ:','helvetica','maxHeight','.edit-parallel-shortcut-btn','Error\x20saving\x20visibility\x20settings:','#FEE2E2','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','.edit-points-btn','นินจาชาเขียว','ซื้อ\x20\x22','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','MathJax\x20re-render\x20failed:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','use-powerup-secondChance','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','projectSortOrder','text-red-800','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bulk-loop-until-pass-checkbox','แก้ไขชื่อหัวข้อย่อย:','<span\x20class=\x22block\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','top','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22sync-short-answer-input\x22\x20inputmode=\x22decimal\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20max-w-lg\x20p-4\x20border-2\x20border-gray-300\x20rounded-lg\x20text-gray-800\x20text-3xl\x20text-center\x20font-bold\x20focus:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20outline-none\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20placeholder=\x220\x22\x20autocomplete=\x22off\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าแล้ว','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','/public/data/practiceBank','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','เกิดข้อผิดพลาดในการลบโปรเจค','shortcut-editor-modal','pointsLastRound','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','Error\x20opening\x20quiz\x20editor:','num-choices','questions_only','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','ฟังก์ชันแบบชิ้นส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','manual_release','test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','end-team-quiz-btn','cancel-wager-btn','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','Error\x20committing\x20score\x20updates:','หัวข้อหลักใหม่','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','scrollHeight','บันทึกผลการเรียนเรียบร้อยแล้ว!\x20(โหมดประหยัดทรัพยากร)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','parallel-shortcut-url-input','การยืนยันตัวตนล้มเหลว','.generate-lesson-btn','perseverance','.quiz-settings-btn','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','.bp-unlink-quiz-btn','webkitExitFullscreen','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','เกิดข้อผิดพลาดในการบันทึกโปรเจค','link-url-input','cropped_image.png','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ใช่\x20/\x20ถูก','file-tab','NUMBER','game-start-quiz-id','adaptive-quiz-checkbox','scheduled','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','justification','AI\x20กำลังสแกนข้อความ...','questionIndex','ปวดหลัง','Error\x20displaying\x20question\x20bank:','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x5cdiv','category','https://corsproxy.io/?','stringify','presentation-slide-container','boolean','\x20ข้อ...','\x20(\x22','พีชคณิตและฟังก์ชัน','\x20รายการ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','---\x20[คำถามใหม่]\x20---','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keydown','คนโสด','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20relative\x20custom-math-dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20name=\x22question','close-presentation-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เวกเตอร์และเมทริกซ์\x20(เสริม)','Failed\x20to\x20apply\x20forceConfident:','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','live-submit-short-answer-btn','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','แฟนทิพย์','Saving\x20game\x20results\x20(Optimized)...','27411472','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','loader-text','สมการยกกำลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','bp-modal-num-choices','ไม่ระบุ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','Successfully\x20removed\x20','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','touchend','translate','.correct-response-input','start-game-btn','\x20P)','icon','close-topic-bank-btn','<button\x20data-id=\x22','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ใช้ไม่ได้','q-text-','หมีขั้วโลกใต้','add','bg-yellow-50','bg-green-200','.status','transformOrigin','mouseleave','Error\x20starting\x20group\x20quiz:','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','เศษส่วน\x20(ย่อ/ขยาย)','comparison-chart','เกิดข้อผิดพลาดในการอ่านไฟล์','add-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','handleGeneratePracticeTest','Error\x20adding\x20custom\x20topic:','finishReason','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','ปริพันธ์จำกัด','items','quiz-results-view','bg-green-100\x20font-bold','shuffledQuiz','back-to-results-btn','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','fa-dumbbell\x20text-gray-700','onSecondChance','ดีเทอร์มิแนนต์','.ai-content\x20h3','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lastIndexOf','modal-timer-duration-label','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','startedAt','screen_exit','player-count','\x20ข้อ\x20','typesetPromise','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','generate-from-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','อัตราและอัตราหน่วย','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','eraser','touchcancel','getContext','<option\x20value=\x22\x22>กำลังโหลด...</option>','createElementNS','close-comparison-modal-btn','per-question-options','.ideal-answer-input,\x20.correct-response-input','mousemove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ค่าเฉลี่ย','แบบปรนัย\x204\x20ตัวเลือก','Error\x20saving\x20shortcut\x20config:','20px','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','Save\x20complete\x20(Optimized\x20Read)','Error\x20during\x20blueprint\x20link\x20cleanup:','wager-slider','.csv','mode-switcher-btn','selectMathOption','<p\x20class=\x22','<span\x20title=\x22ใช้ไอเทม\x22>','การลบ'];_0x5acb=function(){return _0x4e9912;};return _0x5acb();}function renderTopicCheckboxes(){const _0x450067=_0x4247b4,_0x3db059=document[_0x450067(0x7c7)]('math-topics-checkbox-container');if(!_0x3db059)return;const _0x22ff67=allMathTopics,_0x1756ef=customMathTopics[_0x450067(0xdeb)](_0x2fb2b0=>({'id':_0x2fb2b0['id'],'category':_0x450067(0x642),'name':_0x2fb2b0[_0x450067(0x689)]})),_0x26bf73=[..._0x22ff67,..._0x1756ef],_0x5da50f=_0x26bf73[_0x450067(0x382)]((_0x456ab3,_0x1349b7)=>{const _0x395f24=_0x450067;return!_0x456ab3[_0x1349b7[_0x395f24(0xe6f)]]&&(_0x456ab3[_0x1349b7[_0x395f24(0xe6f)]]=[]),_0x456ab3[_0x1349b7[_0x395f24(0xe6f)]]['push'](_0x1349b7),_0x456ab3;},{});let _0x52d9bc='';const _0x6dc56d=['หัวข้อที่สร้างเอง',...Object[_0x450067(0xb00)](_0x5da50f)[_0x450067(0x498)](_0x4f82be=>_0x4f82be!=='หัวข้อที่สร้างเอง')];for(const _0x1c8e2a of _0x6dc56d){if(_0x5da50f[_0x1c8e2a]){const _0x41285a=_0x1c8e2a===_0x450067(0x642),_0x3fcb28=_0x41285a?_0x450067(0x248):'fas\x20fa-bookmark',_0x58ca22=_0x41285a?_0x450067(0x822):'text-indigo-700';_0x52d9bc+=_0x450067(0x732),_0x52d9bc+=_0x450067(0x672)+_0x58ca22+_0x450067(0xd76)+_0x3fcb28+_0x450067(0xd8f)+_0x1c8e2a+_0x450067(0x2fc),_0x5da50f[_0x1c8e2a][_0x450067(0x9fb)](_0x2d513f=>{const _0x5a8f01=_0x450067,_0x5824b8=!!_0x2d513f['id'],_0x264414=_0x5824b8?_0x5a8f01(0xb80)+_0x2d513f['id']+_0x5a8f01(0x201)+_0x2d513f['id']+_0x5a8f01(0xd29)+_0x2d513f['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2d513f['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x52d9bc+=_0x5a8f01(0x8c1)+(_0x2d513f['id']||'')+_0x5a8f01(0x269)+_0x2d513f[_0x5a8f01(0x689)]+_0x5a8f01(0x5a1)+_0x2d513f[_0x5a8f01(0x689)]+_0x5a8f01(0x418)+(_0x5824b8?_0x5a8f01(0xd4b)+_0x2d513f['name']+'\x22>':'')+_0x5a8f01(0xcea)+_0x264414+_0x5a8f01(0x647);}),_0x52d9bc+=_0x450067(0x745);}}_0x3db059[_0x450067(0x45b)]=_0x52d9bc||_0x450067(0xd7c),_0x3db059[_0x450067(0x808)](_0x450067(0xc7a),updateSelectedTopicsCount),_0x3db059[_0x450067(0xf03)](_0x450067(0xc7a),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x1f0083,_0x576a70){const _0x5291f5=_0x4247b4;if(!_0x1f0083||!_0x576a70[_0x5291f5(0xba3)]()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0xb6cd15=doc(db,'artifacts/'+appId+_0x5291f5(0x6be),_0x1f0083);await updateDoc(_0xb6cd15,{'name':_0x576a70[_0x5291f5(0xba3)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x178372){console[_0x5291f5(0xd5b)](_0x5291f5(0xa26),_0x178372),showMessage(_0x5291f5(0xbbf));}}function toggleTopicEditMode(_0x23275d,_0x2309e6){const _0x4c5923=_0x4247b4;if(!_0x23275d)return;const _0x3a2c29=_0x23275d[_0x4c5923(0x79b)](_0x4c5923(0x25c)),_0x29a43a=_0x23275d[_0x4c5923(0x79b)](_0x4c5923(0xd42)),_0x3e7123=_0x23275d['querySelector'](_0x4c5923(0x6f9)),_0x35c397=_0x23275d[_0x4c5923(0x79b)](_0x4c5923(0x489));_0x3a2c29[_0x4c5923(0x457)][_0x4c5923(0x29a)](_0x4c5923(0x845),_0x2309e6),_0x29a43a['classList'][_0x4c5923(0x29a)](_0x4c5923(0x845),!_0x2309e6),_0x3e7123[_0x4c5923(0x457)][_0x4c5923(0x29a)](_0x4c5923(0x845),_0x2309e6),_0x35c397[_0x4c5923(0x457)][_0x4c5923(0x29a)]('hidden',!_0x2309e6),_0x2309e6&&(_0x29a43a['focus'](),_0x29a43a[_0x4c5923(0xbb3)]());}async function handleStartLiveRace(_0x587fa0){const _0x4dc29b=_0x4247b4;let _0x30cfa1=allQuizzes[_0x4dc29b(0x787)](_0x3f8cb5=>_0x3f8cb5['id']===_0x587fa0);if(!_0x30cfa1){const _0x3cd230=doc(db,_0x4dc29b(0x2b7)+appId+_0x4dc29b(0xa8b),_0x587fa0),_0x4a08a2=await getDoc(_0x3cd230);if(!_0x4a08a2[_0x4dc29b(0x971)]()){showMessage(_0x4dc29b(0xef3));return;}_0x30cfa1={'id':_0x4a08a2['id'],..._0x4a08a2[_0x4dc29b(0xb86)]()};}const _0x5cf0ea=getShuffledQuiz(_0x30cfa1);currentQuizData=_0x5cf0ea;const _0x183e9e=_0x30cfa1['projectId']||currentProjectId||null,_0x109384=Math[_0x4dc29b(0xcb1)](0x3e8+Math[_0x4dc29b(0x724)]()*0x2328)['toString']();currentLiveGamePin=_0x109384;try{const _0x16770a=await addDoc(collection(db,_0x4dc29b(0x2b7)+appId+_0x4dc29b(0xa57)),{'quizId':_0x587fa0,'projectId':_0x183e9e,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x109384,'createdAt':serverTimestamp(),'shuffledQuiz':_0x5cf0ea});currentLiveGameId=_0x16770a['id'],showAdminLobbyView(_0x109384,_0x30cfa1[_0x4dc29b(0x6b2)]),listenForLiveGameUpdates();}catch(_0x24ec88){console[_0x4dc29b(0xd5b)](_0x4dc29b(0x89a),_0x24ec88),showMessage(_0x4dc29b(0x3e9));}}function updateSelectedTopicsCount(){const _0x13b782=_0x4247b4,_0x2cdb83=document[_0x13b782(0x7c7)](_0x13b782(0xa5e)),_0x1da9d0=_0x2cdb83['querySelectorAll'](_0x13b782(0x59d))[_0x13b782(0x2d2)],_0x43e620=document[_0x13b782(0x7c7)](_0x13b782(0x472));_0x1da9d0>0x0?_0x43e620[_0x13b782(0xb0c)]=_0x13b782(0xef1)+_0x1da9d0+_0x13b782(0x9ea):_0x43e620[_0x13b782(0xb0c)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x4247b4(0x6c2),quizLeaderboardSortOrder=_0x4247b4(0x274),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x4247b4(0x286),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x4247b4(0x24b),scratchpadPenColor=_0x4247b4(0x8e6),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x10b63e,_0x56b8c6){const _0x29fdb4=_0x4247b4;return Math[_0x29fdb4(0xac1)](Math[_0x29fdb4(0x943)](_0x10b63e['x']-_0x56b8c6['x'],0x2)+Math[_0x29fdb4(0x943)](_0x10b63e['y']-_0x56b8c6['y'],0x2));}function getMidpoint(_0x5ce84a,_0x555405){return{'x':(_0x5ce84a['x']+_0x555405['x'])/0x2,'y':(_0x5ce84a['y']+_0x555405['y'])/0x2};}function getTransformedPoint(_0x35ecc8,_0x6813a8){return{'x':(_0x35ecc8-scratchpadOffset['x'])/scratchpadScale,'y':(_0x6813a8-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x24180e=_0x4247b4;if(!scratchpadCtx)return;const _0x28f41d=scratchpadCtx[_0x24180e(0x594)],_0x1e0910=window[_0x24180e(0xf22)]||0x1,_0x1148af=document[_0x24180e(0x7c7)](_0x24180e(0xdd5));_0x1148af&&(_0x1148af[_0x24180e(0x4e3)][_0x24180e(0xea5)]='0\x200',_0x1148af[_0x24180e(0x4e3)][_0x24180e(0x425)]='translate('+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx[_0x24180e(0xd50)](),scratchpadCtx['setTransform'](_0x1e0910,0x0,0x0,_0x1e0910,0x0,0x0),scratchpadCtx[_0x24180e(0x4b7)](0x0,0x0,_0x28f41d[_0x24180e(0x895)],_0x28f41d[_0x24180e(0x625)]),scratchpadCtx[_0x24180e(0x7de)](),scratchpadCtx[_0x24180e(0xd50)](),scratchpadCtx[_0x24180e(0xe96)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes['forEach'](_0x5e9dc4=>{drawStroke(_0x5e9dc4);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x24180e(0x7de)]();}function renderGroupModeQuestion(){const _0x11cea5=_0x4247b4;if(localQuestionIndex>=currentQuizData[_0x11cea5(0x99c)]['length']){displayTeamQuizFinalResults();return;}const _0x53fa48=currentQuizData['questions'][localQuestionIndex],_0x51d10e=_0x53fa48[_0x11cea5(0xf29)]||currentQuizData[_0x11cea5(0xa71)];let _0x4136de=_0x53fa48['stem']||_0x53fa48['questionText'],_0x269f1a='';switch(_0x51d10e){case _0x11cea5(0x7fe):case _0x11cea5(0x848):_0x269f1a=_0x53fa48[_0x11cea5(0xb84)][_0x11cea5(0xdeb)]((_0x3476ab,_0x3b0336)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x3b0336+_0x11cea5(0x204)+_0x3b0336+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x3b0336+'\x22>'+_0x3476ab+'</label></div>')[_0x11cea5(0x94c)]('');break;case _0x11cea5(0x353):_0x269f1a=_0x11cea5(0x2c9);break;case _0x11cea5(0xf11):case'fill_in_no_choices':_0x269f1a=_0x11cea5(0x5ed);break;case _0x11cea5(0x39f):_0x269f1a=_0x11cea5(0xe25)+_0x53fa48[_0x11cea5(0x5b2)][_0x11cea5(0xdeb)](_0x1d43d8=>'<option\x20value=\x22'+_0x1d43d8+'\x22>'+_0x1d43d8+'</option>')[_0x11cea5(0x94c)]('')+'</select>';break;default:_0x269f1a=_0x11cea5(0x63f);break;}studentQuizArea[_0x11cea5(0x45b)]=_0x11cea5(0x83f)+(localQuestionIndex+0x1)+_0x11cea5(0x74e)+currentQuizData[_0x11cea5(0x99c)][_0x11cea5(0x2d2)]+_0x11cea5(0x357)+localTeamPlayers['join'](',\x20')+_0x11cea5(0x2ad)+(localQuestionIndex+0x1)+'.\x20'+_0x4136de+_0x11cea5(0xe5c)+(_0x53fa48[_0x11cea5(0x601)]?_0x11cea5(0x58a)+_0x53fa48[_0x11cea5(0x601)]+_0x11cea5(0x745):'')+_0x11cea5(0xd1a)+_0x269f1a+_0x11cea5(0x45a),studentQuizArea[_0x11cea5(0x457)]['remove']('hidden');if(window[_0x11cea5(0x872)])MathJax[_0x11cea5(0xecc)]([studentQuizArea]);document[_0x11cea5(0x7c7)](_0x11cea5(0xa4e))[_0x11cea5(0xf03)](_0x11cea5(0x2f0),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x1f6282,_0x51e8a8=null,_0x280d7c,_0xc09ca6=null,_0x30cc05=![],_0x261a5f=null){const _0x5f895f=_0x4247b4,_0x48372a=document[_0x5f895f(0x7c7)]('quiz-generation-area');_0x48372a&&_0x48372a[_0x5f895f(0x2f1)]({'behavior':_0x5f895f(0xb5e),'block':_0x5f895f(0x87e)}),generateQuiz(_0x1f6282,_0x51e8a8,null,_0x261a5f,!![],_0x280d7c,_0xc09ca6,_0x30cc05);}function handleGenerateAndShowLesson(_0xdcfaa1,_0x49c60d){const _0x4c4fad=_0x4247b4,_0x4d783d=document[_0x4c4fad(0x7c7)](_0x4c4fad(0x5fc)),_0x3dd76f=document[_0x4c4fad(0x7c7)]('lesson-view-title'),_0x3e389e=document[_0x4c4fad(0x7c7)](_0x4c4fad(0xd46)),_0x35f885=document[_0x4c4fad(0x7c7)]('lesson-sections-container');[_0x4c4fad(0xf64),'memoryContent',_0x4c4fad(0xa22),_0x4c4fad(0x706)][_0x4c4fad(0x9fb)](_0x86c25a=>{const _0x2978c3=_0x4c4fad,_0xf4ad42=document[_0x2978c3(0x7c7)](_0x86c25a)[_0x2978c3(0x8cd)];_0xf4ad42&&(_0xf4ad42['style']['display']=_0x2978c3(0x3bd));}),_0x3dd76f[_0x4c4fad(0xb0c)]=_0x4c4fad(0x5ca)+_0xdcfaa1,_0x35f885[_0x4c4fad(0x457)]['add']('hidden'),_0x3e389e[_0x4c4fad(0x457)]['remove'](_0x4c4fad(0x845)),_0x4d783d[_0x4c4fad(0x457)]['remove'](_0x4c4fad(0x845)),generateLesson(_0xdcfaa1,_0x49c60d)[_0x4c4fad(0x242)](_0x21c5a4=>{const _0x4d9fe1=_0x4c4fad;console[_0x4d9fe1(0xd5b)](_0x4d9fe1(0x25d),_0x21c5a4),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x4d783d[_0x4d9fe1(0x457)]['add'](_0x4d9fe1(0x845));});}function handlePointerDown(_0x544be0){const _0x40af7b=_0x4247b4;_0x544be0[_0x40af7b(0x375)]();const _0x206bb6=scratchpadCtx[_0x40af7b(0x594)],_0x45fbb3=_0x206bb6['getBoundingClientRect'](),_0x329e68=_0x544be0[_0x40af7b(0x826)]||(_0x544be0[_0x40af7b(0x7dd)]?'touch':'mouse');if(_0x329e68===_0x40af7b(0x24b)||_0x329e68==='mouse'){if(_0x544be0[_0x40af7b(0x826)]===_0x40af7b(0xae3)&&_0x544be0[_0x40af7b(0xcde)]!==0x0){_0x544be0[_0x40af7b(0xcde)]===0x1&&(isMousePanning=!![],panStart={'x':_0x544be0[_0x40af7b(0x307)],'y':_0x544be0[_0x40af7b(0x6d7)]},_0x206bb6['style'][_0x40af7b(0xcee)]='grabbing');return;}activeTool===_0x40af7b(0xb39)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x3fe08f=getTransformedPoint(_0x544be0[_0x40af7b(0x307)]-_0x45fbb3[_0x40af7b(0xcbe)],_0x544be0[_0x40af7b(0x6d7)]-_0x45fbb3['top']);let _0xddf9ee={'tool':activeTool,'points':[_0x3fe08f]};if(activeTool===_0x40af7b(0x24b))_0xddf9ee[_0x40af7b(0x6b4)]=scratchpadPenColor,_0xddf9ee[_0x40af7b(0xf7a)]=scratchpadPenSize;else{if(activeTool===_0x40af7b(0xed5))_0xddf9ee[_0x40af7b(0x6b4)]=scratchpadPenColor,_0xddf9ee[_0x40af7b(0xf7a)]=scratchpadEraserSize;else{if(activeTool===_0x40af7b(0x391))_0xddf9ee[_0x40af7b(0x6b4)]=scratchpadHighlighterColor,_0xddf9ee[_0x40af7b(0xf7a)]=scratchpadHighlighterSize;else activeTool==='trail'&&(_0xddf9ee[_0x40af7b(0x6b4)]=scratchpadPenColor,_0xddf9ee['size']=scratchpadPenSize);}}currentStroke=_0xddf9ee;}else _0x544be0['touches']&&(_0x544be0[_0x40af7b(0x7dd)][_0x40af7b(0x2d2)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x544be0['touches'][0x0][_0x40af7b(0x307)],'y':_0x544be0[_0x40af7b(0x7dd)][0x0][_0x40af7b(0x6d7)]},{'x':_0x544be0[_0x40af7b(0x7dd)][0x1]['clientX'],'y':_0x544be0[_0x40af7b(0x7dd)][0x1][_0x40af7b(0x6d7)]}),initialPinchDistance=getDistance({'x':_0x544be0['touches'][0x0][_0x40af7b(0x307)],'y':_0x544be0['touches'][0x0][_0x40af7b(0x6d7)]},{'x':_0x544be0['touches'][0x1][_0x40af7b(0x307)],'y':_0x544be0[_0x40af7b(0x7dd)][0x1]['clientY']})));}function animateTrail(){const _0x16f8b2=_0x4247b4,_0x171431=Date[_0x16f8b2(0x5f5)]();let _0x53694b=![];for(let _0x220fb9=strokes[_0x16f8b2(0x2d2)]-0x1;_0x220fb9>=0x0;_0x220fb9--){const _0x28d61d=strokes[_0x220fb9];if(_0x28d61d['tool']===_0x16f8b2(0xb39)&&_0x28d61d[_0x16f8b2(0x537)]){const _0x34cfb7=_0x171431-_0x28d61d[_0x16f8b2(0x537)];_0x34cfb7>=TRAIL_DURATION?strokes['splice'](_0x220fb9,0x1):(_0x28d61d[_0x16f8b2(0x61a)]=0x1-_0x34cfb7/TRAIL_DURATION,_0x53694b=!![]);}}redrawScratchpad(),_0x53694b?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x392d04){const _0xd3aa51=_0x4247b4;if(!_0x392d04||_0x392d04[_0xd3aa51(0x254)]['length']<0x1)return;scratchpadCtx[_0xd3aa51(0xd50)](),scratchpadCtx['lineJoin']=_0xd3aa51(0xaff),scratchpadCtx[_0xd3aa51(0xce5)]=_0xd3aa51(0xaff);if(_0x392d04['tool']===_0xd3aa51(0xb39)){const _0x3b05c3=_0x392d04[_0xd3aa51(0xf7a)]/scratchpadScale;scratchpadCtx['globalAlpha']=_0x392d04['opacity']??0x1,scratchpadCtx[_0xd3aa51(0x7ec)]=_0xd3aa51(0x260),scratchpadCtx[_0xd3aa51(0x677)]=_0x3b05c3*0x3,scratchpadCtx['strokeStyle']=_0xd3aa51(0xcaa),scratchpadCtx[_0xd3aa51(0x8fc)]=_0x3b05c3*2.5,scratchpadCtx[_0xd3aa51(0x7f4)](),scratchpadCtx['moveTo'](_0x392d04['points'][0x0]['x'],_0x392d04[_0xd3aa51(0x254)][0x0]['y']);for(let _0x2edce7=0x1;_0x2edce7<_0x392d04[_0xd3aa51(0x254)]['length']-0x1;_0x2edce7++){const _0x5a9f66=getMidpoint(_0x392d04[_0xd3aa51(0x254)][_0x2edce7],_0x392d04['points'][_0x2edce7+0x1]);scratchpadCtx[_0xd3aa51(0xab6)](_0x392d04[_0xd3aa51(0x254)][_0x2edce7]['x'],_0x392d04['points'][_0x2edce7]['y'],_0x5a9f66['x'],_0x5a9f66['y']);}scratchpadCtx[_0xd3aa51(0x77a)](),scratchpadCtx[_0xd3aa51(0x7ec)]=_0xd3aa51(0x8ce),scratchpadCtx[_0xd3aa51(0x677)]=0x0,scratchpadCtx[_0xd3aa51(0xb35)]=_0xd3aa51(0x436),scratchpadCtx[_0xd3aa51(0x8fc)]=_0x3b05c3,scratchpadCtx[_0xd3aa51(0x77a)](),scratchpadCtx[_0xd3aa51(0x36f)]();}else{if(_0x392d04[_0xd3aa51(0xcb3)]===_0xd3aa51(0x391)){scratchpadCtx[_0xd3aa51(0xf26)]=_0xd3aa51(0x281),scratchpadCtx[_0xd3aa51(0xb35)]=_0x392d04[_0xd3aa51(0x6b4)],scratchpadCtx[_0xd3aa51(0x8fc)]=_0x392d04[_0xd3aa51(0xf7a)],scratchpadCtx[_0xd3aa51(0x7f4)](),scratchpadCtx[_0xd3aa51(0x778)](_0x392d04['points'][0x0]['x'],_0x392d04['points'][0x0]['y']);for(let _0x26d328=0x1;_0x26d328<_0x392d04[_0xd3aa51(0x254)]['length']-0x1;_0x26d328++){const _0x44d863=getMidpoint(_0x392d04[_0xd3aa51(0x254)][_0x26d328],_0x392d04[_0xd3aa51(0x254)][_0x26d328+0x1]);scratchpadCtx['quadraticCurveTo'](_0x392d04[_0xd3aa51(0x254)][_0x26d328]['x'],_0x392d04[_0xd3aa51(0x254)][_0x26d328]['y'],_0x44d863['x'],_0x44d863['y']);}scratchpadCtx[_0xd3aa51(0x77a)](),scratchpadCtx['closePath']();}else{scratchpadCtx[_0xd3aa51(0xf26)]=_0x392d04[_0xd3aa51(0xcb3)]===_0xd3aa51(0xed5)?_0xd3aa51(0x4df):'source-over',scratchpadCtx['strokeStyle']=_0x392d04[_0xd3aa51(0x6b4)],scratchpadCtx['lineWidth']=_0x392d04[_0xd3aa51(0xf7a)],scratchpadCtx[_0xd3aa51(0x7f4)](),scratchpadCtx['moveTo'](_0x392d04['points'][0x0]['x'],_0x392d04['points'][0x0]['y']);for(let _0x19ec76=0x1;_0x19ec76<_0x392d04[_0xd3aa51(0x254)][_0xd3aa51(0x2d2)]-0x1;_0x19ec76++){const _0x1db7c8=getMidpoint(_0x392d04[_0xd3aa51(0x254)][_0x19ec76],_0x392d04['points'][_0x19ec76+0x1]);scratchpadCtx['quadraticCurveTo'](_0x392d04[_0xd3aa51(0x254)][_0x19ec76]['x'],_0x392d04['points'][_0x19ec76]['y'],_0x1db7c8['x'],_0x1db7c8['y']);}scratchpadCtx[_0xd3aa51(0x77a)](),scratchpadCtx['closePath']();}}scratchpadCtx[_0xd3aa51(0x7de)]();}function handlePointerMove(_0x2cfc4c){const _0x287aac=_0x4247b4;_0x2cfc4c[_0x287aac(0x375)]();const _0x26c17d=scratchpadCtx[_0x287aac(0x594)],_0x384808=_0x26c17d['getBoundingClientRect']();if(_0x2cfc4c[_0x287aac(0x7dd)]){if(_0x2cfc4c[_0x287aac(0x7dd)][_0x287aac(0x2d2)]===0x1&&isDrawingOnScratchpad){const _0x425dd8=getTransformedPoint(_0x2cfc4c[_0x287aac(0x7dd)][0x0][_0x287aac(0x307)]-_0x384808[_0x287aac(0xcbe)],_0x2cfc4c['touches'][0x0]['clientY']-_0x384808[_0x287aac(0xe31)]);currentStroke['points']['push'](_0x425dd8),redrawScratchpad();}else{if(_0x2cfc4c['touches']['length']===0x2&&isPanning){const _0x102c0d=getDistance({'x':_0x2cfc4c[_0x287aac(0x7dd)][0x0][_0x287aac(0x307)],'y':_0x2cfc4c[_0x287aac(0x7dd)][0x0]['clientY']},{'x':_0x2cfc4c[_0x287aac(0x7dd)][0x1]['clientX'],'y':_0x2cfc4c[_0x287aac(0x7dd)][0x1]['clientY']}),_0x158f0f=getMidpoint({'x':_0x2cfc4c[_0x287aac(0x7dd)][0x0]['clientX'],'y':_0x2cfc4c[_0x287aac(0x7dd)][0x0][_0x287aac(0x6d7)]},{'x':_0x2cfc4c[_0x287aac(0x7dd)][0x1][_0x287aac(0x307)],'y':_0x2cfc4c[_0x287aac(0x7dd)][0x1][_0x287aac(0x6d7)]}),_0x39fc59=_0x102c0d/ initialPinchDistance,_0x4b0a5f=Math['min'](Math[_0x287aac(0x839)](scratchpadScale*_0x39fc59,MIN_SCALE),MAX_SCALE),_0x15e6c7=_0x158f0f['x']-panStart['x'],_0x56a315=_0x158f0f['y']-panStart['y'];scratchpadOffset['x']=_0x158f0f['x']-(_0x158f0f['x']-scratchpadOffset['x'])*(_0x4b0a5f/scratchpadScale),scratchpadOffset['y']=_0x158f0f['y']-(_0x158f0f['y']-scratchpadOffset['y'])*(_0x4b0a5f/scratchpadScale),scratchpadOffset['x']+=_0x15e6c7,scratchpadOffset['y']+=_0x56a315,scratchpadScale=_0x4b0a5f,initialPinchDistance=_0x102c0d,panStart=_0x158f0f,redrawScratchpad();}}}else{if(isMousePanning){const _0x41328f=_0x2cfc4c[_0x287aac(0x307)]-panStart['x'],_0x10d523=_0x2cfc4c['clientY']-panStart['y'];scratchpadOffset['x']+=_0x41328f,scratchpadOffset['y']+=_0x10d523,panStart={'x':_0x2cfc4c['clientX'],'y':_0x2cfc4c[_0x287aac(0x6d7)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x49d79a=getTransformedPoint(_0x2cfc4c[_0x287aac(0x307)]-_0x384808[_0x287aac(0xcbe)],_0x2cfc4c[_0x287aac(0x6d7)]-_0x384808['top']);currentStroke[_0x287aac(0x254)][_0x287aac(0x82f)](_0x49d79a),redrawScratchpad();}}}}function handlePointerUp(_0x5d4078){const _0x9ce4e1=_0x4247b4;_0x5d4078[_0x9ce4e1(0x375)]();const _0x12b3ad=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x12b3ad['style']['cursor']=_0x9ce4e1(0xc10)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x9ce4e1(0x254)][_0x9ce4e1(0x2d2)]>0x1&&(strokes[_0x9ce4e1(0x82f)](currentStroke),currentStroke['tool']===_0x9ce4e1(0xb39)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x267862=_0x9ce4e1,_0x4c43e2=strokes['filter'](_0x46c065=>_0x46c065['tool']===_0x267862(0xb39)&&!_0x46c065[_0x267862(0x537)]);if(_0x4c43e2[_0x267862(0x2d2)]>0x0){const _0x18a1df=Date[_0x267862(0x5f5)]();_0x4c43e2[_0x267862(0x9fb)](_0x44e293=>_0x44e293[_0x267862(0x537)]=_0x18a1df),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0xb38d65){const _0x5427ec=_0x4247b4;_0xb38d65[_0x5427ec(0x375)]();const _0x13fe80=_0xb38d65[_0x5427ec(0xa23)]*-0.005,_0x3f8dc3=Math[_0x5427ec(0x443)](Math[_0x5427ec(0x839)](scratchpadScale+_0x13fe80,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0xb38d65[_0x5427ec(0x307)]-(_0xb38d65[_0x5427ec(0x307)]-scratchpadOffset['x'])*(_0x3f8dc3/scratchpadScale),scratchpadOffset['y']=_0xb38d65[_0x5427ec(0x6d7)]-(_0xb38d65[_0x5427ec(0x6d7)]-scratchpadOffset['y'])*(_0x3f8dc3/scratchpadScale),scratchpadScale=_0x3f8dc3,redrawScratchpad();}function undo(){const _0x23a0d6=_0x4247b4;strokes[_0x23a0d6(0x2d2)]>0x0&&(redoStrokes['push'](strokes[_0x23a0d6(0x800)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x16662e=_0x4247b4;redoStrokes[_0x16662e(0x2d2)]>0x0&&(strokes['push'](redoStrokes[_0x16662e(0x800)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x5c2c9f=_0x4247b4;document[_0x5c2c9f(0x7c7)](_0x5c2c9f(0x73e))[_0x5c2c9f(0x766)]=strokes['length']===0x0,document[_0x5c2c9f(0x7c7)]('redo-btn')['disabled']=redoStrokes[_0x5c2c9f(0x2d2)]===0x0;}function openScratchpad(_0x2d9e2c,_0x33e492){const _0x56f9c5=_0x4247b4,_0x150b5c=document[_0x56f9c5(0x7c7)](_0x56f9c5(0x30a)),_0x399f88=document[_0x56f9c5(0x7c7)]('scratchpad-question'),_0xe97a1=document[_0x56f9c5(0x7c7)]('scratchpad-options'),_0x5d609b=document[_0x56f9c5(0x7c7)]('scratchpad-controls');_0x399f88[_0x56f9c5(0x45b)]=_0x2d9e2c[_0x56f9c5(0x203)]||_0x2d9e2c['questionText'],_0xe97a1['innerHTML']=_0x33e492[_0x56f9c5(0xdeb)]((_0x749c76,_0x1ce65b)=>_0x56f9c5(0x2af)+String['fromCharCode'](0x41+_0x1ce65b)+'.\x20'+_0x749c76+_0x56f9c5(0x745))[_0x56f9c5(0x94c)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x150b5c[_0x56f9c5(0x457)][_0x56f9c5(0xd11)](_0x56f9c5(0x845)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x56f9c5(0x872)])MathJax[_0x56f9c5(0xecc)]([_0x399f88,_0xe97a1]);}function openBlueprintQuizSettings(){const _0x2b09b4=_0x4247b4,_0x3804cb=document[_0x2b09b4(0x7c7)](_0x2b09b4(0x91c)),_0x2c905b=blueprintPageSettings||(currentProjectData?currentProjectData['settings']:{})||{};document[_0x2b09b4(0x7c7)](_0x2b09b4(0x1fa))[_0x2b09b4(0xc66)]=_0x2c905b['quizType']||document[_0x2b09b4(0x7c7)]('quiz-type-select')['value'],document[_0x2b09b4(0x7c7)]('bp-modal-difficulty-level-select')[_0x2b09b4(0x45b)]=document[_0x2b09b4(0x7c7)]('difficulty-level-select')['innerHTML'],document[_0x2b09b4(0x7c7)](_0x2b09b4(0x392))[_0x2b09b4(0xc66)]=_0x2c905b[_0x2b09b4(0x3f5)]||document['getElementById'](_0x2b09b4(0xa88))['value'],document[_0x2b09b4(0x7c7)]('bp-modal-question-complexity-select')[_0x2b09b4(0x45b)]=document[_0x2b09b4(0x7c7)](_0x2b09b4(0x5b4))[_0x2b09b4(0x45b)],document[_0x2b09b4(0x7c7)](_0x2b09b4(0x2da))[_0x2b09b4(0xc66)]=_0x2c905b[_0x2b09b4(0x8c8)]||document[_0x2b09b4(0x7c7)]('question-complexity-select')[_0x2b09b4(0xc66)],document[_0x2b09b4(0x7c7)](_0x2b09b4(0x258))['value']=_0x2c905b[_0x2b09b4(0x5d5)]||document[_0x2b09b4(0x7c7)]('num-questions')['value'],document['getElementById'](_0x2b09b4(0x3ff))[_0x2b09b4(0xc66)]=_0x2c905b[_0x2b09b4(0x7af)]||document[_0x2b09b4(0x7c7)](_0x2b09b4(0x840))[_0x2b09b4(0xc66)],document[_0x2b09b4(0x7c7)](_0x2b09b4(0xe90))['value']=_0x2c905b[_0x2b09b4(0x4b6)]||document[_0x2b09b4(0x7c7)](_0x2b09b4(0xe3e))[_0x2b09b4(0xc66)],document[_0x2b09b4(0x7c7)]('bp-modal-shuffle-setting-select')[_0x2b09b4(0xc66)]=_0x2c905b['shuffle']||document[_0x2b09b4(0x7c7)]('shuffle-setting-select')[_0x2b09b4(0xc66)],document[_0x2b09b4(0x7c7)](_0x2b09b4(0xd53))[_0x2b09b4(0xa20)]=_0x2c905b[_0x2b09b4(0x5e7)]||document[_0x2b09b4(0x7c7)](_0x2b09b4(0x8fa))[_0x2b09b4(0xa20)],_0x3804cb[_0x2b09b4(0x457)][_0x2b09b4(0xd11)]('hidden');}function handleSaveBlueprintPageSettings(){const _0x4295bb=_0x4247b4;blueprintPageSettings={'quizType':document[_0x4295bb(0x7c7)](_0x4295bb(0x1fa))[_0x4295bb(0xc66)],'difficultyValue':document[_0x4295bb(0x7c7)](_0x4295bb(0x392))[_0x4295bb(0xc66)],'complexityValue':document[_0x4295bb(0x7c7)](_0x4295bb(0x2da))[_0x4295bb(0xc66)],'numQuestions':document['getElementById'](_0x4295bb(0x258))['value'],'passingScore':document[_0x4295bb(0x7c7)](_0x4295bb(0x3ff))['value'],'numChoices':document['getElementById'](_0x4295bb(0xe90))[_0x4295bb(0xc66)],'shuffle':document[_0x4295bb(0x7c7)]('bp-modal-shuffle-setting-select')[_0x4295bb(0xc66)],'includeImages':document[_0x4295bb(0x7c7)](_0x4295bb(0xd53))['checked']},showMessage(_0x4295bb(0x361)),document[_0x4295bb(0x7c7)](_0x4295bb(0x91c))[_0x4295bb(0x457)][_0x4295bb(0xea1)](_0x4295bb(0x845));}function listenForParallelTestShortcuts(){const _0x3cd850=_0x4247b4,_0x3809ac=doc(db,_0x3cd850(0x3ea),'parallelTestShortcutsConfig');onSnapshot(_0x3809ac,_0x1a9ec6=>{const _0x18e777=_0x3cd850;let _0x5d0a8f=[],_0x744f9=[],_0x5b5ea8={};if(_0x1a9ec6[_0x18e777(0x971)]()){const _0x49edb5=_0x1a9ec6[_0x18e777(0xb86)]();_0x5d0a8f=_0x49edb5[_0x18e777(0xf47)]||[],_0x744f9=_0x49edb5[_0x18e777(0xae4)]||[],_0x5b5ea8=_0x49edb5[_0x18e777(0x556)]||{};}!_0x744f9[_0x18e777(0x787)](_0x8debab=>_0x8debab['id']==='all')&&_0x744f9[_0x18e777(0xc24)]({'id':'all','name':_0x18e777(0xd80),'isDefault':!![]}),!_0x5d0a8f[_0x18e777(0x787)](_0x590ef7=>_0x590ef7['id']===_0x18e777(0x898))&&_0x5d0a8f[_0x18e777(0xc24)]({'id':_0x18e777(0x898),'name':_0x18e777(0x8cb),'url':'','isDefault':!![]}),!_0x5d0a8f[_0x18e777(0x787)](_0xc50843=>_0xc50843['id']===_0x18e777(0xd2d))&&_0x5d0a8f[_0x18e777(0xc24)]({'id':_0x18e777(0xd2d),'name':'ต้นฉบับ\x202','url':'','isDefault':!![]}),parallelTestShortcuts=_0x5d0a8f,parallelShortcutTabs=_0x744f9,parallelShortcutOrder=_0x5b5ea8,renderParallelTestShortcuts(),!document[_0x18e777(0x7c7)]('additional-parallel-shortcuts-modal')[_0x18e777(0x457)][_0x18e777(0xcc7)](_0x18e777(0x845))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x31535d=_0x4247b4,_0x28f6d8=doc(db,_0x31535d(0x3ea),_0x31535d(0xd1e));try{await setDoc(_0x28f6d8,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x893b53){console['error'](_0x31535d(0x67d),_0x893b53);}}function renderAdditionalParallelShortcutsModal(){const _0x20a0cf=_0x4247b4,_0x2eaaa6=document[_0x20a0cf(0x7c7)]('parallel-shortcut-tabs-nav'),_0x165821=document[_0x20a0cf(0x7c7)](_0x20a0cf(0x9c6));if(!_0x2eaaa6||!_0x165821)return;_0x2eaaa6[_0x20a0cf(0x45b)]=parallelShortcutTabs[_0x20a0cf(0xdeb)](_0x2a9bb8=>{const _0x35829f=_0x20a0cf,_0x46d1e8=_0x2a9bb8['id']===activeParallelShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x2a9bb8['id']+_0x35829f(0x944)+(_0x46d1e8?_0x35829f(0x553):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x35829f(0xc9a)+_0x2a9bb8[_0x35829f(0x689)]+_0x35829f(0xc45)+_0x2a9bb8[_0x35829f(0x689)]+_0x35829f(0x65a)+(!_0x2a9bb8[_0x35829f(0x993)]?_0x35829f(0x27d)+_0x2a9bb8['id']+_0x35829f(0xc51):'')+_0x35829f(0xf4a);})[_0x20a0cf(0x94c)]('');const _0x3918f0=parallelShortcutTabs['find'](_0x455753=>_0x455753['id']===activeParallelShortcutTabId);let _0x2b2ffc=_0x3918f0?.[_0x20a0cf(0x993)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x20a0cf(0x498)](_0x175aed=>(_0x3918f0?.[_0x20a0cf(0x4a4)]||[])[_0x20a0cf(0xba0)](_0x175aed['id']));const _0x193c2b=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x2b2ffc[_0x20a0cf(0x994)]((_0x2b660f,_0x426958)=>{const _0x4af9ee=_0x20a0cf,_0x11eaac=_0x193c2b[_0x4af9ee(0x6a2)](_0x2b660f['id']),_0x38d0dc=_0x193c2b[_0x4af9ee(0x6a2)](_0x426958['id']);return(_0x11eaac===-0x1?Infinity:_0x11eaac)-(_0x38d0dc===-0x1?Infinity:_0x38d0dc);}),_0x165821['innerHTML']=_0x2b2ffc[_0x20a0cf(0xdeb)](_0x2d575a=>{const _0x1adc68=_0x20a0cf,_0x804fc8=_0x2d575a[_0x1adc68(0xa2a)]?'🔁':'🔗',_0x352c3c=parallelShortcutTabs['filter'](_0x4bd7a0=>!_0x4bd7a0[_0x1adc68(0x993)]),_0x55623a=_0x3918f0['isDefault']&&_0x352c3c['length']>0x0?_0x1adc68(0x20f)+_0x352c3c[_0x1adc68(0xdeb)](_0xc9519=>_0x1adc68(0x517)+_0x2d575a['id']+_0x1adc68(0xe01)+_0xc9519['id']+'\x22>'+_0xc9519[_0x1adc68(0x689)]+_0x1adc68(0x4c8))['join']('')+_0x1adc68(0xd3e):'';return _0x1adc68(0xf1f)+_0x2d575a['id']+_0x1adc68(0x4f5)+_0x804fc8+'\x20'+_0x2d575a[_0x1adc68(0x689)]+_0x1adc68(0x440)+_0x2d575a['id']+_0x1adc68(0xf5d)+_0x2d575a['id']+_0x1adc68(0x717)+(!_0x2d575a['isDefault']?'<button\x20data-id=\x22'+_0x2d575a['id']+_0x1adc68(0x980):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3918f0[_0x1adc68(0x993)]?'<button\x20data-shortcut-id=\x22'+_0x2d575a['id']+_0x1adc68(0xc22):'')+_0x1adc68(0xc57)+_0x55623a+_0x1adc68(0x372);})['join']('')||_0x20a0cf(0x905),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x464b05=_0x4247b4;document['querySelectorAll'](_0x464b05(0x8be))['forEach'](_0xd09052=>{_0xd09052['onclick']=_0x339246=>{const _0x1cc5c1=_0xc03a;activeParallelShortcutTabId=_0x339246[_0x1cc5c1(0x98d)][_0x1cc5c1(0xefd)]['tabId'],renderAdditionalParallelShortcutsModal();},_0xd09052['ondblclick']=_0x4f7e0a=>{const _0x4525db=_0xc03a,_0x4ce748=_0x4f7e0a[_0x4525db(0x98d)][_0x4525db(0x79b)](_0x4525db(0xcf8));_0x4f7e0a[_0x4525db(0x98d)][_0x4525db(0x79b)](_0x4525db(0x7d8))[_0x4525db(0x457)][_0x4525db(0xea1)]('hidden'),_0x4ce748[_0x4525db(0x457)]['remove'](_0x4525db(0x845)),_0x4ce748[_0x4525db(0x667)](),_0x4ce748[_0x4525db(0xbb3)]();};}),document[_0x464b05(0xf52)](_0x464b05(0x4ef))['forEach'](_0x3b0bd4=>{const _0x355a7e=_0x464b05,_0x8e38ba=()=>{const _0x40263d=_0xc03a,_0x2886ab=_0x3b0bd4[_0x40263d(0x5bf)](_0x40263d(0x8be))[_0x40263d(0xefd)][_0x40263d(0x891)],_0x191345=parallelShortcutTabs[_0x40263d(0x787)](_0x2402aa=>_0x2402aa['id']===_0x2886ab);_0x191345&&(_0x191345['name']=_0x3b0bd4[_0x40263d(0xc66)][_0x40263d(0xba3)]()||_0x191345[_0x40263d(0x689)],saveParallelShortcutConfig());};_0x3b0bd4[_0x355a7e(0x931)]=_0x8e38ba,_0x3b0bd4[_0x355a7e(0xd7a)]=_0xa9f511=>{const _0x4872c5=_0x355a7e;if(_0xa9f511[_0x4872c5(0xd1c)]===_0x4872c5(0xd43))_0x3b0bd4[_0x4872c5(0xa12)]();};}),document[_0x464b05(0xf52)](_0x464b05(0xa4c))[_0x464b05(0x9fb)](_0x23ef59=>_0x23ef59[_0x464b05(0xb2b)]=_0x16cfac=>{const _0x373dc0=_0x464b05,_0x4d60bc=_0x16cfac['currentTarget']['dataset'][_0x373dc0(0x891)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x142a4a=_0x373dc0;parallelShortcutTabs=parallelShortcutTabs['filter'](_0x715d6=>_0x715d6['id']!==_0x4d60bc),delete parallelShortcutOrder[_0x4d60bc];if(activeParallelShortcutTabId===_0x4d60bc)activeParallelShortcutTabId=_0x142a4a(0x8a9);saveParallelShortcutConfig();});}),document[_0x464b05(0xf52)]('.move-parallel-shortcut-item')[_0x464b05(0x9fb)](_0x3b7d2c=>_0x3b7d2c[_0x464b05(0xb2b)]=_0xcee2e0=>{const _0x177f2d=_0x464b05;_0xcee2e0[_0x177f2d(0x375)]();const {shortcutId:_0xbd0601,targetTabId:_0x54394f}=_0xcee2e0['currentTarget']['dataset'],_0x22389b=parallelShortcutTabs[_0x177f2d(0x787)](_0x36395f=>_0x36395f['id']===_0x54394f);_0x22389b&&!_0x22389b[_0x177f2d(0x4a4)][_0x177f2d(0xba0)](_0xbd0601)&&(_0x22389b[_0x177f2d(0x4a4)][_0x177f2d(0x82f)](_0xbd0601),saveParallelShortcutConfig());}),document[_0x464b05(0xf52)](_0x464b05(0xc1f))[_0x464b05(0x9fb)](_0x19a409=>_0x19a409[_0x464b05(0xb2b)]=_0x11d4e1=>{const _0x381bea=_0x464b05,_0x2f68f2=_0x11d4e1['currentTarget'][_0x381bea(0xefd)][_0x381bea(0x23d)],_0x402280=parallelShortcutTabs[_0x381bea(0x787)](_0x3cb76d=>_0x3cb76d['id']===activeParallelShortcutTabId);_0x402280&&!_0x402280[_0x381bea(0x993)]&&(_0x402280['shortcutIds']=_0x402280[_0x381bea(0x4a4)][_0x381bea(0x498)](_0x23cc9f=>_0x23cc9f!==_0x2f68f2),saveParallelShortcutConfig());}),document[_0x464b05(0xf52)](_0x464b05(0x8a4))[_0x464b05(0x9fb)](_0x27a68c=>_0x27a68c[_0x464b05(0xb2b)]=_0x4a8141=>{const _0x4078e0=_0x464b05;_0x4a8141['stopPropagation']();const _0x498c40=_0x4a8141[_0x4078e0(0x98d)][_0x4078e0(0x453)];document[_0x4078e0(0xf52)](_0x4078e0(0x295))[_0x4078e0(0x9fb)](_0x50336f=>_0x50336f['classList'][_0x4078e0(0xea1)]('hidden')),_0x498c40[_0x4078e0(0x457)][_0x4078e0(0xd11)](_0x4078e0(0x845));});const _0x3024cc=document[_0x464b05(0x7c7)](_0x464b05(0x9c6));let _0x675d12=null;_0x3024cc[_0x464b05(0x9f7)]=_0x214560=>{const _0x4c1e6f=_0x464b05;_0x675d12=_0x214560[_0x4c1e6f(0xcbd)][_0x4c1e6f(0x5bf)](_0x4c1e6f(0xf18));if(_0x675d12)setTimeout(()=>_0x675d12[_0x4c1e6f(0x457)]['add']('opacity-50'),0x0);},_0x3024cc['ondragend']=()=>{const _0x355e8c=_0x464b05;_0x675d12&&(_0x675d12[_0x355e8c(0x457)][_0x355e8c(0xd11)](_0x355e8c(0x34f)),_0x675d12=null);},_0x3024cc[_0x464b05(0xefc)]=_0x443a1c=>{const _0x5486ad=_0x464b05;_0x443a1c[_0x5486ad(0x375)]();},_0x3024cc[_0x464b05(0x6af)]=_0x867dcb=>{const _0x4a1682=_0x464b05;_0x867dcb[_0x4a1682(0x375)]();if(_0x675d12){const _0x5640c4=[..._0x3024cc['querySelectorAll']('.shortcut-list-item:not(.opacity-50)')][_0x4a1682(0x382)]((_0x2fb6ef,_0x336656)=>{const _0x58e067=_0x4a1682,_0x3d28c2=_0x336656[_0x58e067(0x5db)](),_0xb9a54a=_0x867dcb[_0x58e067(0x6d7)]-_0x3d28c2[_0x58e067(0xe31)]-_0x3d28c2[_0x58e067(0x625)]/0x2;return _0xb9a54a<0x0&&_0xb9a54a>_0x2fb6ef[_0x58e067(0x273)]?{'offset':_0xb9a54a,'element':_0x336656}:_0x2fb6ef;},{'offset':Number[_0x4a1682(0x698)]})[_0x4a1682(0x95b)];_0x5640c4==null?_0x3024cc[_0x4a1682(0xccc)](_0x675d12):_0x3024cc[_0x4a1682(0xc8d)](_0x675d12,_0x5640c4);const _0x46cb78=[..._0x3024cc[_0x4a1682(0xf52)](_0x4a1682(0xf18))][_0x4a1682(0xdeb)](_0x2acf31=>_0x2acf31[_0x4a1682(0xefd)]['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x46cb78,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x556893=_0x4247b4,_0x2cd3d5=prompt(_0x556893(0x580),_0x556893(0xf27));_0x2cd3d5&&_0x2cd3d5['trim']()&&(parallelShortcutTabs[_0x556893(0x82f)]({'id':_0x556893(0x35b)+Date[_0x556893(0x5f5)](),'name':_0x2cd3d5[_0x556893(0xba3)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x45d31e=_0x4247b4,_0x109f5c=document[_0x45d31e(0x7c7)](_0x45d31e(0xc7c)),_0x43dda1=document[_0x45d31e(0x7c7)](_0x45d31e(0x9c6)),_0x475602=document[_0x45d31e(0x7c7)](_0x45d31e(0x31a));if(_0x475602)_0x475602['classList'][_0x45d31e(0xea1)](_0x45d31e(0x845));if(!_0x109f5c||!_0x43dda1)return;const _0x46a400=parallelTestShortcuts['slice'](0x0,0x4),_0x48f8fb=parallelTestShortcuts[_0x45d31e(0x68d)](0x4);_0x109f5c[_0x45d31e(0x45b)]=_0x46a400['map'](_0x483db3=>{const _0x57b8c8=_0x45d31e,_0x2822c1=_0x483db3[_0x57b8c8(0xa2a)]&&_0x483db3[_0x57b8c8(0xa2a)][_0x57b8c8(0xba3)]()!=='',_0x475c0d=_0x2822c1?'bg-teal-500\x20hover:bg-teal-600\x20text-white':_0x57b8c8(0xca7),_0x142268=_0x2822c1?'🔁':'🔗',_0x5c03d3=!_0x483db3[_0x57b8c8(0x993)]?_0x57b8c8(0xe9c)+_0x483db3['id']+'\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x57b8c8(0x6b8)+_0x483db3['id']+_0x57b8c8(0x50a)+_0x475c0d+_0x57b8c8(0xb79)+_0x142268+'\x20'+_0x483db3['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x483db3['id']+_0x57b8c8(0x396)+_0x5c03d3+_0x57b8c8(0x909);})[_0x45d31e(0x94c)](''),_0x48f8fb[_0x45d31e(0x2d2)]>0x0&&(_0x109f5c[_0x45d31e(0x45b)]+=_0x45d31e(0xca3)),_0x48f8fb[_0x45d31e(0x2d2)]>0x0?_0x43dda1[_0x45d31e(0x45b)]=_0x48f8fb[_0x45d31e(0xdeb)](_0x45d528=>_0x45d31e(0xb52)+(_0x45d528[_0x45d31e(0xa2a)]?'🔁':'🔗')+'\x20'+_0x45d528[_0x45d31e(0x689)]+_0x45d31e(0x315)+_0x45d528['id']+_0x45d31e(0x657)+_0x45d528['id']+_0x45d31e(0x5a4)+(!_0x45d528['isDefault']?_0x45d31e(0xe9c)+_0x45d528['id']+_0x45d31e(0x980):'')+_0x45d31e(0x635))[_0x45d31e(0x94c)](''):_0x43dda1[_0x45d31e(0x45b)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openParallelTestShortcutEditor(_0x28d1e9=null){const _0x3fc9cb=_0x4247b4,_0x10ade7=document[_0x3fc9cb(0x7c7)](_0x3fc9cb(0x4ca)),_0x2b8f44=document[_0x3fc9cb(0x7c7)](_0x3fc9cb(0xdc6)),_0x33ca46=document[_0x3fc9cb(0x7c7)](_0x3fc9cb(0x314)),_0x10111c=document['getElementById'](_0x3fc9cb(0xd99)),_0x435b70=document[_0x3fc9cb(0x7c7)]('parallel-shortcut-url-input');if(_0x28d1e9){const _0xad96db=parallelTestShortcuts[_0x3fc9cb(0x787)](_0x572d0e=>_0x572d0e['id']===_0x28d1e9);if(!_0xad96db)return;_0x2b8f44[_0x3fc9cb(0xb0c)]=_0x3fc9cb(0x220),_0x33ca46[_0x3fc9cb(0xc66)]=_0xad96db['id'],_0x10111c[_0x3fc9cb(0xc66)]=_0xad96db['name'],_0x435b70[_0x3fc9cb(0xc66)]=_0xad96db[_0x3fc9cb(0xa2a)]||'';}else _0x2b8f44[_0x3fc9cb(0xb0c)]=_0x3fc9cb(0xec7),_0x33ca46[_0x3fc9cb(0xc66)]='',_0x10111c[_0x3fc9cb(0xc66)]='',_0x435b70[_0x3fc9cb(0xc66)]='';_0x10ade7[_0x3fc9cb(0x457)][_0x3fc9cb(0xd11)](_0x3fc9cb(0x845));}async function saveParallelTestShortcutChanges(){const _0x618eee=_0x4247b4,_0x4b67fe=document[_0x618eee(0x7c7)](_0x618eee(0x314))[_0x618eee(0xc66)],_0x11a324=document[_0x618eee(0x7c7)]('parallel-shortcut-name-input')[_0x618eee(0xc66)]['trim'](),_0x3cc06a=document[_0x618eee(0x7c7)](_0x618eee(0xe4f))[_0x618eee(0xc66)][_0x618eee(0xba3)]();if(!_0x11a324){showMessage(_0x618eee(0x575));return;}const _0x17fa32={'id':_0x4b67fe||_0x618eee(0x8f2)+Date[_0x618eee(0x5f5)](),'name':_0x11a324,'url':_0x3cc06a,'isDefault':_0x4b67fe[_0x618eee(0xc5b)]('parallel-default-')};let _0x139a74;_0x4b67fe?_0x139a74=parallelTestShortcuts[_0x618eee(0xdeb)](_0x4c14bf=>_0x4c14bf['id']===_0x4b67fe?_0x17fa32:_0x4c14bf):_0x139a74=[...parallelTestShortcuts,_0x17fa32];try{const _0x5e7c08=doc(db,'globalSettings','parallelTestShortcutsConfig');await setDoc(_0x5e7c08,{'shortcuts':_0x139a74},{'merge':!![]}),document['getElementById'](_0x618eee(0x4ca))[_0x618eee(0x457)]['add'](_0x618eee(0x845));}catch(_0x15f9c7){console['error'](_0x618eee(0xbda),_0x15f9c7),showMessage(_0x618eee(0x896));}}async function handleParallelTestShortcutClick(_0x1363d2){const _0x311e62=_0x4247b4,_0x15b528=parallelTestShortcuts['find'](_0x3f3f73=>_0x3f3f73['id']===_0x1363d2);if(!_0x15b528)return;if(!_0x15b528[_0x311e62(0xa2a)]||_0x15b528[_0x311e62(0xa2a)][_0x311e62(0xba3)]()===''){openParallelTestShortcutEditor(_0x1363d2);return;}const _0x34b6d2=document['getElementById'](_0x311e62(0xbbe)),_0x3e3d84=document['getElementById'](_0x311e62(0xe8b));document['getElementById'](_0x311e62(0xb5f))[_0x311e62(0x457)][_0x311e62(0xd11)](_0x311e62(0x845)),document[_0x311e62(0x7c7)]('generated-quiz-container')[_0x311e62(0x45b)]='',_0x34b6d2[_0x311e62(0x457)]['remove'](_0x311e62(0x845)),_0x3e3d84[_0x311e62(0xb0c)]=_0x311e62(0xa7d);try{let _0x4453c2;_0x15b528[_0x311e62(0xa2a)][_0x311e62(0xab2)]()[_0x311e62(0xba0)]('.txt')?_0x4453c2=_0x311e62(0x8a8):_0x4453c2=_0x311e62(0x235);const _0x2c6e09=await fetchFileFromUrl(_0x15b528[_0x311e62(0xa2a)],_0x4453c2);await handleGenerateParallelTest(_0x2c6e09);}catch(_0x52c7b2){console[_0x311e62(0xd5b)]('Error\x20processing\x20parallel\x20shortcut\x20click:',_0x52c7b2),showMessage(_0x311e62(0x5ee)+_0x52c7b2[_0x311e62(0x725)]),_0x34b6d2[_0x311e62(0x457)]['add'](_0x311e62(0x845));}}function initializeScratchpadCanvas(){const _0x1cdc84=_0x4247b4,_0x1a94dd=document[_0x1cdc84(0x7c7)](_0x1cdc84(0xf3e)),_0x5da069=document[_0x1cdc84(0x79b)]('.scratchpad-content-wrapper');if(!_0x1a94dd||!_0x5da069)return;scratchpadCtx=_0x1a94dd[_0x1cdc84(0xed7)]('2d',{'willReadFrequently':!![]});const _0x464367=window[_0x1cdc84(0xf22)]||0x1,_0x528adf=_0x5da069[_0x1cdc84(0x5db)]();_0x1a94dd[_0x1cdc84(0x895)]=_0x528adf[_0x1cdc84(0x895)]*_0x464367,_0x1a94dd['height']=_0x528adf[_0x1cdc84(0x625)]*_0x464367,_0x1a94dd[_0x1cdc84(0x4e3)][_0x1cdc84(0x895)]=_0x528adf['width']+'px',_0x1a94dd[_0x1cdc84(0x4e3)][_0x1cdc84(0x625)]=_0x528adf[_0x1cdc84(0x625)]+'px',scratchpadCtx['scale'](_0x464367,_0x464367),scratchpadCtx[_0x1cdc84(0xbd6)]=_0x1cdc84(0xaff),scratchpadCtx[_0x1cdc84(0xce5)]=_0x1cdc84(0xaff),_0x1a94dd[_0x1cdc84(0x808)](_0x1cdc84(0x9e5),handlePointerDown),_0x1a94dd['removeEventListener']('pointermove',handlePointerMove),_0x1a94dd[_0x1cdc84(0x808)](_0x1cdc84(0x54f),handlePointerUp),_0x1a94dd[_0x1cdc84(0x808)](_0x1cdc84(0x819),handlePointerUp),_0x1a94dd[_0x1cdc84(0x808)](_0x1cdc84(0x707),handleWheel),_0x1a94dd['removeEventListener'](_0x1cdc84(0x8b9),handlePointerDown),_0x1a94dd[_0x1cdc84(0x808)]('touchmove',handlePointerMove),_0x1a94dd[_0x1cdc84(0x808)](_0x1cdc84(0xe95),handlePointerUp),_0x1a94dd[_0x1cdc84(0xf03)](_0x1cdc84(0x9e5),handlePointerDown),_0x1a94dd['addEventListener'](_0x1cdc84(0xdff),handlePointerMove),_0x1a94dd[_0x1cdc84(0xf03)]('pointerup',handlePointerUp),_0x1a94dd[_0x1cdc84(0xf03)](_0x1cdc84(0x819),handlePointerUp),_0x1a94dd['addEventListener']('wheel',handleWheel,{'passive':![]}),_0x1a94dd['addEventListener'](_0x1cdc84(0x8b9),handlePointerDown,{'passive':![]}),_0x1a94dd[_0x1cdc84(0xf03)]('touchmove',handlePointerMove,{'passive':![]}),_0x1a94dd['addEventListener'](_0x1cdc84(0xe95),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x5bda12=_0x4247b4,_0x16298b=document[_0x5bda12(0x7c7)](_0x5bda12(0x30a)),_0x35dd41=document[_0x5bda12(0x7c7)](_0x5bda12(0xc54));_0x35dd41[_0x5bda12(0x45b)]=_0x5bda12(0x89e)+scratchpadHighlighterSize+_0x5bda12(0xc82);const _0x5bcc43=document[_0x5bda12(0x7c7)](_0x5bda12(0x51b)),_0x3b7575=document[_0x5bda12(0x7c7)](_0x5bda12(0x34a)),_0x370823=document[_0x5bda12(0x7c7)](_0x5bda12(0xf66)),_0x10e6da=document[_0x5bda12(0x7c7)](_0x5bda12(0x3b3)),_0x4ea31e=document['getElementById'](_0x5bda12(0xbb5)),_0x3c1308=document[_0x5bda12(0x7c7)](_0x5bda12(0xb34)),_0x20aec2=document[_0x5bda12(0x7c7)](_0x5bda12(0x2a9)),_0x3a216c=[_0x5bcc43,_0x3b7575,_0x370823,_0x10e6da];document[_0x5bda12(0x7c7)]('scratchpad-close-btn')['addEventListener'](_0x5bda12(0x2f0),()=>_0x16298b[_0x5bda12(0x457)][_0x5bda12(0xea1)]('hidden')),document[_0x5bda12(0x7c7)]('reset-view-btn')[_0x5bda12(0xf03)](_0x5bda12(0x2f0),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x5bda12(0x7c7)](_0x5bda12(0xc64))[_0x5bda12(0xf03)](_0x5bda12(0x2f0),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x5bda12(0x7c7)](_0x5bda12(0x73e))[_0x5bda12(0xf03)](_0x5bda12(0x2f0),undo),document[_0x5bda12(0x7c7)]('redo-btn')['addEventListener'](_0x5bda12(0x2f0),redo);const _0x27ffe1=_0x36a6bc=>{const _0xeb6236=_0x5bda12;_0x3a216c['forEach'](_0x286290=>_0x286290[_0xeb6236(0x457)][_0xeb6236(0xd11)](_0xeb6236(0x3d0))),_0x36a6bc['classList'][_0xeb6236(0xea1)](_0xeb6236(0x3d0)),_0x4ea31e['classList'][_0xeb6236(0xea1)](_0xeb6236(0x845)),_0x3c1308['classList'][_0xeb6236(0xea1)](_0xeb6236(0x845)),_0x20aec2[_0xeb6236(0x457)]['add']('hidden');if(activeTool===_0xeb6236(0x24b)||activeTool===_0xeb6236(0xb39))_0x4ea31e[_0xeb6236(0x457)]['remove']('hidden');else{if(activeTool===_0xeb6236(0x391))_0x3c1308[_0xeb6236(0x457)][_0xeb6236(0xd11)](_0xeb6236(0x845));else activeTool==='eraser'&&_0x20aec2['classList'][_0xeb6236(0xd11)](_0xeb6236(0x845));}};_0x5bcc43[_0x5bda12(0xf03)](_0x5bda12(0x2f0),()=>{const _0x4355ee=_0x5bda12;activeTool=_0x4355ee(0x24b),_0x27ffe1(_0x5bcc43);}),_0x3b7575['addEventListener'](_0x5bda12(0x2f0),()=>{const _0x167073=_0x5bda12;activeTool=_0x167073(0xed5),_0x27ffe1(_0x3b7575);}),_0x370823[_0x5bda12(0xf03)](_0x5bda12(0x2f0),()=>{const _0x27534d=_0x5bda12;activeTool=_0x27534d(0xb39),_0x27ffe1(_0x370823);}),_0x10e6da[_0x5bda12(0xf03)](_0x5bda12(0x2f0),()=>{const _0x27f4b4=_0x5bda12;activeTool=_0x27f4b4(0x391),_0x27ffe1(_0x10e6da);}),_0x4ea31e[_0x5bda12(0xf52)](_0x5bda12(0xbf5))[_0x5bda12(0x9fb)](_0x11ea9d=>{const _0x323e86=_0x5bda12;_0x11ea9d['addEventListener'](_0x323e86(0x2f0),_0x41b634=>{const _0x3bf7ee=_0x323e86;scratchpadPenSize=parseInt(_0x41b634[_0x3bf7ee(0xcbd)]['dataset']['size'],0xa),_0x4ea31e['querySelectorAll']('.pen-size-btn')['forEach'](_0x1e80cd=>_0x1e80cd[_0x3bf7ee(0x457)][_0x3bf7ee(0xd11)](_0x3bf7ee(0x3d0))),_0x41b634[_0x3bf7ee(0xcbd)]['classList'][_0x3bf7ee(0xea1)](_0x3bf7ee(0x3d0));});}),_0x20aec2[_0x5bda12(0xf52)](_0x5bda12(0x93f))[_0x5bda12(0x9fb)](_0x14de25=>{const _0x5a0d78=_0x5bda12;_0x14de25[_0x5a0d78(0xf03)](_0x5a0d78(0x2f0),_0x275464=>{const _0x3c693e=_0x5a0d78,_0x5e160d=_0x275464[_0x3c693e(0x98d)];scratchpadEraserSize=parseInt(_0x5e160d[_0x3c693e(0xefd)]['size'],0xa),_0x20aec2['querySelectorAll']('.eraser-size-btn')['forEach'](_0x169f7e=>_0x169f7e[_0x3c693e(0x457)][_0x3c693e(0xd11)](_0x3c693e(0x3d0))),_0x5e160d[_0x3c693e(0x457)][_0x3c693e(0xea1)](_0x3c693e(0x3d0));});}),_0x4ea31e['querySelectorAll']('.pen-color-btn')[_0x5bda12(0x9fb)](_0x487800=>{const _0x479a13=_0x5bda12;_0x487800[_0x479a13(0xf03)](_0x479a13(0x2f0),_0x484f85=>{const _0x202a79=_0x479a13;scratchpadPenColor=_0x484f85[_0x202a79(0xcbd)][_0x202a79(0xefd)][_0x202a79(0x6b4)],_0x4ea31e['querySelectorAll']('.pen-color-btn')[_0x202a79(0x9fb)](_0x5d96c0=>_0x5d96c0[_0x202a79(0x457)][_0x202a79(0xd11)](_0x202a79(0x3d0))),_0x484f85[_0x202a79(0xcbd)][_0x202a79(0x457)][_0x202a79(0xea1)](_0x202a79(0x3d0));});}),_0x3c1308['querySelectorAll'](_0x5bda12(0xa59))['forEach'](_0x217fd8=>{const _0x516893=_0x5bda12;_0x217fd8[_0x516893(0xf03)](_0x516893(0x2f0),_0x558280=>{const _0x55ef80=_0x516893;scratchpadHighlighterColor=_0x558280['target'][_0x55ef80(0xefd)][_0x55ef80(0x6b4)],_0x3c1308[_0x55ef80(0xf52)](_0x55ef80(0xa59))['forEach'](_0x27f501=>_0x27f501[_0x55ef80(0x457)][_0x55ef80(0xd11)]('active')),_0x558280[_0x55ef80(0xcbd)][_0x55ef80(0x457)]['add'](_0x55ef80(0x3d0));});});const _0x56067e=document[_0x5bda12(0x7c7)](_0x5bda12(0xc0c)),_0x2ce54d=document[_0x5bda12(0x7c7)](_0x5bda12(0x88c));_0x56067e[_0x5bda12(0xf03)](_0x5bda12(0xbe2),_0x816cca=>{const _0x1d82e1=_0x5bda12,_0x1b877c=parseInt(_0x816cca[_0x1d82e1(0xcbd)][_0x1d82e1(0xc66)],0xa);scratchpadHighlighterSize=_0x1b877c,_0x2ce54d[_0x1d82e1(0xb0c)]=_0x1b877c;}),window['addEventListener']('resize',()=>{const _0x3919fc=_0x5bda12;!_0x16298b[_0x3919fc(0x457)][_0x3919fc(0xcc7)]('hidden')&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x4247b4(0x54c),'name':_0x4247b4(0xb76),'description':_0x4247b4(0xa0a),'icon':_0x4247b4(0xccb)},'QUICK_THINKER':{'id':'quick_thinker','name':'เซียนสมองไว','description':_0x4247b4(0xdc8),'icon':_0x4247b4(0x8b3)},'ON_FIRE':{'id':'on_fire','name':_0x4247b4(0x3c3),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x4247b4(0x7fc)},'FIRST_TRY_ACE':{'id':_0x4247b4(0x1fd),'name':'ผ่านฉลุย','description':_0x4247b4(0x574),'icon':_0x4247b4(0xd6e)},'COMEBACK_KING':{'id':_0x4247b4(0x29f),'name':_0x4247b4(0x29e),'description':_0x4247b4(0x20a),'icon':_0x4247b4(0x876)},'SPECIALIST':{'id':_0x4247b4(0x426),'name':_0x4247b4(0x780),'description':_0x4247b4(0xc5a),'icon':_0x4247b4(0x21f)},'PERSEVERANCE':{'id':_0x4247b4(0xe52),'name':_0x4247b4(0xf09),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x4247b4(0xebc)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x4247b4(0xc26),'projectId':'ai-quiz-app-aefee','storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':'274192258111','appId':_0x4247b4(0xb14),'measurementId':_0x4247b4(0xbcd)},appId=typeof __app_id!==_0x4247b4(0x729)?__app_id:'ai-quiz-generator-v3',adminView=document[_0x4247b4(0x7c7)](_0x4247b4(0x723)),studentView=document[_0x4247b4(0x7c7)]('student-view'),projectDashboardView=document['getElementById'](_0x4247b4(0x33d)),projectDetailView=document['getElementById'](_0x4247b4(0x406)),quizResultsView=document[_0x4247b4(0x7c7)](_0x4247b4(0xeb6)),projectList=document[_0x4247b4(0x7c7)]('project-list'),noProjectsMsg=document[_0x4247b4(0x7c7)](_0x4247b4(0x856)),projectTitle=document[_0x4247b4(0x7c7)](_0x4247b4(0xe08)),projectIdDisplay=document['getElementById'](_0x4247b4(0x23c)),studentList=document['getElementById'](_0x4247b4(0xf0e)),messageModal=document[_0x4247b4(0x7c7)]('message-modal'),modalMessage=document[_0x4247b4(0x7c7)](_0x4247b4(0xc67)),createProjectModal=document[_0x4247b4(0x7c7)](_0x4247b4(0x72e)),adminPasswordModal=document[_0x4247b4(0x7c7)](_0x4247b4(0xb94)),confirmationModal=document[_0x4247b4(0x7c7)](_0x4247b4(0x593)),userIdDisplay=document[_0x4247b4(0x7c7)](_0x4247b4(0x366)),topicTab=document['getElementById'](_0x4247b4(0x5a9)),textTab=document['getElementById'](_0x4247b4(0xa4a)),topicInputArea=document[_0x4247b4(0x7c7)](_0x4247b4(0xb3b)),textInputArea=document[_0x4247b4(0x7c7)](_0x4247b4(0x961)),manageTab=document[_0x4247b4(0x7c7)]('manage-tab'),resultsTab=document['getElementById'](_0x4247b4(0xcfb)),leaderboardTab=document['getElementById']('leaderboard-tab'),manageTabContent=document['getElementById'](_0x4247b4(0x631)),resultsTabContent=document[_0x4247b4(0x7c7)](_0x4247b4(0x46f)),leaderboardTabContent=document['getElementById'](_0x4247b4(0x8ca)),projectQuizzesList=document['getElementById'](_0x4247b4(0xb04)),fileTab=document[_0x4247b4(0x7c7)](_0x4247b4(0xe61)),fileInputArea=document[_0x4247b4(0x7c7)]('file-input-area'),fileUploadInput=document['getElementById'](_0x4247b4(0x64e)),worksheetTab=document[_0x4247b4(0x7c7)](_0x4247b4(0xaa4)),worksheetInputArea=document['getElementById'](_0x4247b4(0x8e5)),generateWorksheetBtn=document['getElementById'](_0x4247b4(0x63a)),studentInitialView=document['getElementById']('student-initial-view'),studentNameSelectionView=document[_0x4247b4(0x7c7)](_0x4247b4(0xa79)),studentQuizArea=document[_0x4247b4(0x7c7)](_0x4247b4(0x62e)),studentResultArea=document[_0x4247b4(0x7c7)]('student-result-area'),studentReadingArea=document[_0x4247b4(0x7c7)]('student-reading-area'),loadQuizBtn=document[_0x4247b4(0x7c7)](_0x4247b4(0xa55)),startQuizBtn=document[_0x4247b4(0x7c7)](_0x4247b4(0x569)),studentJoinGameView=document[_0x4247b4(0x7c7)]('student-join-game-view'),presentationModal=document[_0x4247b4(0x7c7)](_0x4247b4(0xf1b)),renameQuizModal=document['getElementById']('rename-quiz-modal'),moveQuizModal=document[_0x4247b4(0x7c7)]('move-quiz-modal'),quizSettingsModal=document['getElementById'](_0x4247b4(0x66f)),quizStatusModal=document['getElementById'](_0x4247b4(0xbbc)),liveGameView=document[_0x4247b4(0x7c7)](_0x4247b4(0x212));function handleFixLessonLatex(){const _0x509f18=_0x4247b4,_0x4e0aa1=document[_0x509f18(0x7c7)](_0x509f18(0x66a));if(!_0x4e0aa1){showMessage(_0x509f18(0x64f));return;}const _0x1bd74a=_0x4e0aa1[_0x509f18(0xf52)]([_0x509f18(0xa8d),'.ai-content\x20li',_0x509f18(0x20c),_0x509f18(0xf6d),_0x509f18(0xebf)][_0x509f18(0x94c)](','));let _0x43046f=0x0;const _0x4208fa=_0x5322f4=>_0x5322f4['textContent']||'',_0x519e88=(_0xa45967,_0x2a5778)=>{const _0x5387c0=_0x509f18;if(_0xa45967[_0x5387c0(0x79b)]&&_0xa45967['querySelector'](_0x5387c0(0x2ef)))return;_0xa45967['textContent']=_0x2a5778;},_0xd9316c=_0x53cf03=>_0x53cf03[_0x509f18(0x663)](/\u00A0/g,'\x20')[_0x509f18(0x663)](/\u200B/g,'')[_0x509f18(0x663)](/\r\n?/g,'\x0a'),_0x18ec5f=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x1e58d5=_0x2bf383=>{const _0x436873=_0x509f18;let _0x5c3dda=_0x2bf383[_0x436873(0xba3)]();const _0x218f53=[_0x436873(0x956),_0x436873(0x408),_0x436873(0x468),_0x436873(0xac1),'text',_0x436873(0x38f),'cdot','div','leq',_0x436873(0xc8f),'le','ge','neq','pm','approx',_0x436873(0x56d),_0x436873(0xd22),_0x436873(0x691),'log','ln','sum',_0x436873(0xf1d),_0x436873(0x7d2),_0x436873(0xcbe),'right','overline',_0x436873(0xc8a),_0x436873(0x9c9),_0x436873(0x62d)];_0x218f53[_0x436873(0x9fb)](_0x393ff9=>{const _0x39b10d=_0x436873;_0x5c3dda=_0x5c3dda[_0x39b10d(0x663)](new RegExp(_0x39b10d(0x331)+_0x393ff9+'\x5cb','g'),(_0x87ad19,_0x6be723)=>_0x6be723+'\x5c'+_0x393ff9);});const _0x17d1d0=[[/×/g,_0x436873(0x621)],[/·/g,_0x436873(0x530)],[/÷/g,_0x436873(0xe6e)],[/≤/g,_0x436873(0x4d4)],[/≥/g,_0x436873(0xcc6)],[/≠/g,_0x436873(0xb97)],[/±/g,_0x436873(0xb2c)],[/∑/g,_0x436873(0x8a7)],[/−/g,'-']];return _0x17d1d0[_0x436873(0x9fb)](([_0x287bc5,_0x2b7a5f])=>{_0x5c3dda=_0x5c3dda['replace'](_0x287bc5,_0x2b7a5f);}),_0x5c3dda=_0x5c3dda[_0x436873(0x663)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x5c3dda=_0x5c3dda[_0x436873(0x663)](/(\d+)\s*%/g,'$1\x5c%'),_0x5c3dda;},_0x4aa1b0=_0x1d34b5=>{const _0x46f562=_0x509f18;if(/\$|\\\(|\\\[/[_0x46f562(0xe44)](_0x1d34b5))return _0x1d34b5;if(!_0x18ec5f[_0x46f562(0xe44)](_0x1d34b5))return _0x1d34b5;const _0x3460ef=_0x1d34b5['match'](/^\s*/)[0x0],_0x47a0a0=_0x1d34b5[_0x46f562(0x403)](/\s*$/)[0x0],_0x13dc8f=_0x1d34b5[_0x46f562(0xba3)]();return _0x3460ef+'$'+_0x1e58d5(_0x13dc8f)+'$'+_0x47a0a0;};_0x1bd74a['forEach'](_0x181e5a=>{const _0x12e125=_0x509f18,_0x270f28=_0x4208fa(_0x181e5a);let _0x4471a5=_0xd9316c(_0x270f28);_0x4471a5=_0x4471a5[_0x12e125(0x663)](/\$([^$]*?)\$/g,(_0x3bc1c4,_0x3e0dfd)=>'$'+_0x1e58d5(_0x3e0dfd)+'$');const _0x354e34=_0x4471a5[_0x12e125(0x4c6)](/(\s+)/),_0x2d2082=_0x354e34[_0x12e125(0xdeb)](_0x3e2dc4=>{const _0xe75649=_0x12e125;if(/\s+/[_0xe75649(0xe44)](_0x3e2dc4))return _0x3e2dc4;return _0x4aa1b0(_0x3e2dc4);});_0x4471a5=_0x2d2082[_0x12e125(0x94c)](''),_0x4471a5!==_0x270f28&&(_0x519e88(_0x181e5a,_0x4471a5),_0x43046f++);});if(_0x43046f>0x0){showMessage(_0x509f18(0xa90)+_0x43046f+'\x20จุดเรียบร้อยแล้ว');try{window[_0x509f18(0x872)]&&MathJax[_0x509f18(0xecc)]&&MathJax[_0x509f18(0xecc)]([_0x4e0aa1]);}catch(_0x3341fd){console['error'](_0x509f18(0xe26),_0x3341fd);}}else showMessage(_0x509f18(0x33b));}function handleAutoFixLatex(){const _0x390c6d=_0x4247b4,_0x1c6631=document['getElementById'](_0x390c6d(0xf80))||document,_0x4ea62e=_0x1c6631['querySelectorAll'](_0x390c6d(0x491));let _0x6da0e9=0x0;const _0x4651f2=_0x5325b2=>_0x390c6d(0xc66)in _0x5325b2?String(_0x5325b2[_0x390c6d(0xc66)]):_0x5325b2[_0x390c6d(0x8e3)]!==undefined?_0x5325b2[_0x390c6d(0x8e3)]:_0x5325b2[_0x390c6d(0xb0c)]||'',_0x1f18a4=(_0x2a4914,_0x39eecd)=>{const _0x46d028=_0x390c6d;if(_0x46d028(0xc66)in _0x2a4914){_0x2a4914[_0x46d028(0xc66)]=_0x39eecd;return;}if(_0x2a4914['querySelector']&&_0x2a4914[_0x46d028(0x79b)](_0x46d028(0x2ef)))return;if(_0x2a4914['innerText']!==undefined)_0x2a4914[_0x46d028(0x8e3)]=_0x39eecd;else _0x2a4914['textContent']=_0x39eecd;},_0xd72b4f=_0x5639c5=>_0x5639c5[_0x390c6d(0x663)](/\u00A0/g,'\x20')[_0x390c6d(0x663)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x4e34f0=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x2c9fbc=_0x3172db=>{const _0x2ae4fe=_0x390c6d;let _0x483527=_0x3172db[_0x2ae4fe(0xba3)]();_0x483527=_0x483527[_0x2ae4fe(0x663)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x483527=_0x483527[_0x2ae4fe(0x663)](/\bfrac(\d)(\d)/g,_0x2ae4fe(0xf7b));const _0x4903e1=[_0x2ae4fe(0x956),_0x2ae4fe(0xac1),'times','cdot',_0x2ae4fe(0x58c),_0x2ae4fe(0x566),_0x2ae4fe(0xc8f),'neq','pm',_0x2ae4fe(0x56d),_0x2ae4fe(0xd22),_0x2ae4fe(0x691),_0x2ae4fe(0x799),'ln'];_0x4903e1[_0x2ae4fe(0x9fb)](_0x358d83=>{const _0x526055=_0x2ae4fe;_0x483527=_0x483527[_0x526055(0x663)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x358d83+'\x5cb','g'),(_0x24102c,_0x51573f)=>_0x51573f+'\x5c'+_0x358d83);});const _0x1825f6=[[/×/g,_0x2ae4fe(0x621)],[/·/g,_0x2ae4fe(0x530)],[/÷/g,_0x2ae4fe(0xe6e)],[/≤/g,_0x2ae4fe(0x4d4)],[/≥/g,_0x2ae4fe(0xcc6)],[/≠/g,_0x2ae4fe(0xb97)],[/±/g,_0x2ae4fe(0xb2c)]];return _0x1825f6[_0x2ae4fe(0x9fb)](([_0x2379bd,_0x2bc820])=>{_0x483527=_0x483527['replace'](_0x2379bd,_0x2bc820);}),_0x483527;},_0x4fe53a=_0x2a0853=>{const _0x657cc7=_0x390c6d;if(/\$|\\\(|\\\[/[_0x657cc7(0xe44)](_0x2a0853))return _0x2a0853;if(!_0x4e34f0['test'](_0x2a0853))return _0x2a0853;const _0x6021b1=_0x2a0853[_0x657cc7(0x403)](/^\s*/)[0x0],_0x268ab7=_0x2a0853[_0x657cc7(0x403)](/\s*$/)[0x0],_0x113d04=_0x2a0853[_0x657cc7(0xba3)]();return _0x6021b1+'$'+_0x2c9fbc(_0x113d04)+'$'+_0x268ab7;};_0x4ea62e[_0x390c6d(0x9fb)](_0x3c2d5e=>{const _0x402713=_0x390c6d,_0x4edb48=_0x4651f2(_0x3c2d5e);let _0xde2fa0=_0xd72b4f(_0x4edb48);_0xde2fa0=_0xde2fa0[_0x402713(0x663)](/\$([^$]*?)\$/g,(_0x21b667,_0x43bb7e)=>'$'+_0x2c9fbc(_0x43bb7e)+'$');const _0x5be09a=_0xde2fa0[_0x402713(0x4c6)](/(\s+)/),_0x286a5c=_0x5be09a[_0x402713(0xdeb)](_0x32b365=>/\s+/[_0x402713(0xe44)](_0x32b365)?_0x32b365:_0x4fe53a(_0x32b365));_0xde2fa0=_0x286a5c['join'](''),_0xde2fa0!==_0x4edb48&&(_0x1f18a4(_0x3c2d5e,_0xde2fa0),_0x6da0e9++);});if(_0x6da0e9>0x0){showMessage(_0x390c6d(0xe84)+_0x6da0e9+_0x390c6d(0x4f3));try{if(window['MathJax']&&MathJax[_0x390c6d(0xecc)])MathJax[_0x390c6d(0xecc)]();}catch(_0x229593){}}else showMessage(_0x390c6d(0x805));}async function listenForCustomMathTopics(){const _0x59c198=_0x4247b4,_0x6a81dc=collection(db,_0x59c198(0x2b7)+appId+_0x59c198(0x6be));onSnapshot(_0x6a81dc,_0x21dc66=>{const _0x26c262=_0x59c198;customMathTopics=_0x21dc66[_0x26c262(0xd72)][_0x26c262(0xdeb)](_0x560ea6=>({'id':_0x560ea6['id'],..._0x560ea6[_0x26c262(0xb86)]()})),renderTopicCheckboxes();},_0x62c063=>{const _0x840efa=_0x59c198;console[_0x840efa(0xd5b)](_0x840efa(0x70d),_0x62c063);});}function handleSelectAllTopics(){const _0x273316=_0x4247b4,_0x46feea=document[_0x273316(0x7c7)](_0x273316(0xa5e)),_0x3d9ac7=_0x46feea[_0x273316(0xf52)](_0x273316(0x511));_0x3d9ac7[_0x273316(0x9fb)](_0x7127bd=>{_0x7127bd['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x25ace7=_0x4247b4,_0x50e816=document[_0x25ace7(0x7c7)](_0x25ace7(0xa5e)),_0x121ccc=_0x50e816[_0x25ace7(0xf52)](_0x25ace7(0x511));_0x121ccc[_0x25ace7(0x9fb)](_0x29e9e4=>{_0x29e9e4['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x1cf30){const _0x45d4f4=_0x4247b4;if(!_0x1cf30)return;try{const _0x246d87=doc(db,_0x45d4f4(0x2b7)+appId+_0x45d4f4(0x6be),_0x1cf30);await deleteDoc(_0x246d87),showMessage(_0x45d4f4(0x458));}catch(_0x3fbbfd){console[_0x45d4f4(0xd5b)](_0x45d4f4(0xf5b),_0x3fbbfd),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x103fe6=_0x4247b4,_0x21ee29=document[_0x103fe6(0x7c7)]('custom-math-topic-input'),_0x1a3a0a=_0x21ee29[_0x103fe6(0xc66)][_0x103fe6(0xba3)]();if(!_0x1a3a0a){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x103fe6(0xc17));return;}try{const _0x223161=collection(db,_0x103fe6(0x2b7)+appId+_0x103fe6(0x6be));await addDoc(_0x223161,{'name':_0x1a3a0a,'createdAt':serverTimestamp()}),_0x21ee29[_0x103fe6(0xc66)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x1a3a0a+_0x103fe6(0xdb3));}catch(_0x908a4c){console[_0x103fe6(0xd5b)](_0x103fe6(0xeb1),_0x908a4c),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0xe78e0=_0xc03a,_0x3cfc22=document[_0xe78e0(0x7c7)](_0xe78e0(0xbbe)),_0x2381a3=document[_0xe78e0(0x7c7)](_0xe78e0(0xe8b)),_0x1cd40e=_0x2381a3['textContent'];_0x3cfc22[_0xe78e0(0x457)][_0xe78e0(0xd11)](_0xe78e0(0x845)),_0x2381a3['textContent']=_0xe78e0(0xf49);try{const _0x4255b6=collection(db,_0xe78e0(0x2b7)+appId+_0xe78e0(0xa8b)),_0x303448=await getDocs(_0x4255b6);if(_0x303448[_0xe78e0(0x3a6)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x5791f0=writeBatch(db);let _0x695fc0=0x0;_0x303448[_0xe78e0(0x9fb)](_0x5ce710=>{const _0x556b67=_0xe78e0,_0x564add=_0x5ce710[_0x556b67(0xb86)](),_0x47d569=_0x5ce710['id'];if(_0x564add[_0x556b67(0x99c)]&&_0x564add[_0x556b67(0x99c)][_0x556b67(0x2d2)]>0x0&&!_0x564add[_0x556b67(0x99c)][0x0][_0x556b67(0xdf6)]('id')){console[_0x556b67(0x799)](_0x556b67(0xc18)+_0x47d569+'\x20('+_0x564add['topic']+')'),_0x695fc0++;const _0x543f7b=_0x564add[_0x556b67(0x99c)][_0x556b67(0xdeb)]((_0x548bd5,_0x57ab05)=>{const _0x4abf28=_0x556b67;return{..._0x548bd5,'id':_0x548bd5['id']||'q_'+Date[_0x4abf28(0x5f5)]()+'_'+_0x47d569+'_'+_0x57ab05};}),_0x1ab293=doc(db,_0x556b67(0x2b7)+appId+_0x556b67(0xa8b),_0x47d569);_0x5791f0[_0x556b67(0x8f0)](_0x1ab293,{'questions':_0x543f7b});}}),_0x695fc0>0x0?(_0x2381a3[_0xe78e0(0xb0c)]=_0xe78e0(0x638)+_0x695fc0+_0xe78e0(0x814),await _0x5791f0['commit'](),showMessage(_0xe78e0(0x8ef)+_0x695fc0+_0xe78e0(0x4c5))):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x534030){console[_0xe78e0(0xd5b)](_0xe78e0(0x8e4),_0x534030),showMessage(_0xe78e0(0x66c)+_0x534030['message']);}finally{_0x3cfc22[_0xe78e0(0x457)][_0xe78e0(0xea1)](_0xe78e0(0x845)),_0x2381a3[_0xe78e0(0xb0c)]=_0x1cd40e;}});}async function handleBulkUpdateQuizSettings(){const _0x33ef13=_0x4247b4,_0xa575c2={'shuffle':document['getElementById'](_0x33ef13(0x42d))[_0x33ef13(0xc66)],'resultsDisplay':document[_0x33ef13(0x7c7)](_0x33ef13(0xd65))['value'],'loopUntilPass':document[_0x33ef13(0x7c7)](_0x33ef13(0xe2d))[_0x33ef13(0xa20)],'isConfidenceScoringEnabled':document[_0x33ef13(0x7c7)](_0x33ef13(0x789))[_0x33ef13(0xa20)],'confidenceMode':document['getElementById'](_0x33ef13(0xc44))['value']};try{showMessage(_0x33ef13(0x399));const _0x9beb80=await getDocs(collection(db,'artifacts/'+appId+_0x33ef13(0xa8b))),_0x3a2097=_0x9beb80[_0x33ef13(0xd72)][_0x33ef13(0xdeb)](_0x172154=>({'id':_0x172154['id'],'data':_0x172154[_0x33ef13(0xb86)]()})),_0xae8a57=_0x3a2097[_0x33ef13(0x2d2)];showConfirmation(_0x33ef13(0x296)+_0xae8a57+_0x33ef13(0xadb),async()=>{const _0x20b613=_0x33ef13,_0x2d7551=document[_0x20b613(0x7c7)]('confirm-bulk-quiz-settings-btn');_0x2d7551[_0x20b613(0x766)]=!![],_0x2d7551[_0x20b613(0x45b)]=_0x20b613(0xad5);try{const _0x5b1c58=writeBatch(db);_0x3a2097[_0x20b613(0x9fb)](_0x194daa=>{const _0x6e4a37=_0x20b613,_0x210d3c=doc(db,_0x6e4a37(0x2b7)+appId+'/public/data/quizzes',_0x194daa['id']),_0x174113={..._0x194daa['data'][_0x6e4a37(0xb7e)]||{},..._0xa575c2};_0x5b1c58['update'](_0x210d3c,{'settings':_0x174113});}),await _0x5b1c58[_0x20b613(0xdcc)](),document['getElementById'](_0x20b613(0x285))[_0x20b613(0x457)][_0x20b613(0xea1)](_0x20b613(0x845)),showMessage(_0x20b613(0x832)+_0xae8a57+_0x20b613(0x75f));}catch(_0x19439a){console['error'](_0x20b613(0x78a),_0x19439a),showMessage('เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม');}finally{_0x2d7551[_0x20b613(0x766)]=![],_0x2d7551['innerHTML']=_0x20b613(0x1ff);}});}catch(_0x18be3d){console[_0x33ef13(0xd5b)](_0x33ef13(0xa62),_0x18be3d),showMessage(_0x33ef13(0x241));}}async function handleSaveProjectName(){const _0x3a7890=_0x4247b4,_0x1b3217=document[_0x3a7890(0x7c7)](_0x3a7890(0xe08)),_0x3d0101=document['getElementById'](_0x3a7890(0x232)),_0x4a32a7=_0x1b3217['textContent'][_0x3a7890(0xba3)]();if(!_0x4a32a7||!currentProjectId){showMessage(_0x3a7890(0x9ca)),_0x1b3217[_0x3a7890(0xb0c)]=currentProjectData[_0x3a7890(0x8ff)];return;}_0x3d0101[_0x3a7890(0x766)]=!![],_0x3d0101[_0x3a7890(0x45b)]=_0x3a7890(0xe7e);try{const _0x20a5aa=doc(db,_0x3a7890(0x2b7)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x20a5aa,{'projectName':_0x4a32a7}),currentProjectData&&(currentProjectData['projectName']=_0x4a32a7),showMessage(_0x3a7890(0xa0c));}catch(_0x591d03){console[_0x3a7890(0xd5b)](_0x3a7890(0x21e),_0x591d03),showMessage(_0x3a7890(0x896)),_0x1b3217['textContent']=currentProjectData[_0x3a7890(0x8ff)];}finally{_0x3d0101[_0x3a7890(0x457)][_0x3a7890(0xea1)](_0x3a7890(0x845)),_0x3d0101[_0x3a7890(0x766)]=![],_0x3d0101[_0x3a7890(0x45b)]=_0x3a7890(0xbeb);}}function handleGeneratePracticeTest(_0x16b6b6,_0x506d70){const _0x40198d=_0x4247b4,_0x1a3f62=document[_0x40198d(0x7c7)](_0x40198d(0x5fc)),_0x30fa23=document[_0x40198d(0x7c7)](_0x40198d(0x982)),_0xd1b69f=document['getElementById']('lesson-loader'),_0x528b24=document['getElementById'](_0x40198d(0x238));_0x30fa23['textContent']=_0x40198d(0xbec)+_0x16b6b6,_0x528b24[_0x40198d(0x457)]['add'](_0x40198d(0x845)),_0xd1b69f[_0x40198d(0x457)]['remove'](_0x40198d(0x845)),_0x1a3f62[_0x40198d(0x457)][_0x40198d(0xd11)](_0x40198d(0x845)),generatePracticeTest(_0x16b6b6,_0x506d70)['catch'](_0x232356=>{const _0x231f80=_0x40198d;console[_0x231f80(0xd5b)](_0x231f80(0x9fc),_0x232356),showMessage(_0x231f80(0xada)),_0x1a3f62[_0x231f80(0x457)][_0x231f80(0xea1)]('hidden');});}async function generatePracticeTest(_0x3742ce,_0x5ddd3f){const _0x5b164b=_0x4247b4;[_0x5b164b(0xf64),'memoryContent',_0x5b164b(0xa22),_0x5b164b(0x706)][_0x5b164b(0x9fb)](_0x32ade6=>{const _0x260b11=_0x5b164b,_0x110e3e=document[_0x260b11(0x7c7)](_0x32ade6)[_0x260b11(0x8cd)];_0x110e3e&&(_0x110e3e[_0x260b11(0x4e3)][_0x260b11(0xc13)]=_0x260b11(0xc43));});try{const _0x540297='โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด',_0x92c786=_0x5b164b(0xbd0)+_0x5ddd3f+_0x5b164b(0x81f)+_0x3742ce+'\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x25cf22=await callGemini(_0x92c786,!![]),_0x3345f7=document[_0x5b164b(0x7c7)](_0x5b164b(0x982)),_0x46ac00=document[_0x5b164b(0x7c7)](_0x5b164b(0xd46)),_0xbeaf37=document[_0x5b164b(0x7c7)](_0x5b164b(0x238)),_0x3ae717=document[_0x5b164b(0x7c7)](_0x5b164b(0xa22))['parentElement'];_0x3345f7[_0x5b164b(0x8e3)]='แบบทดสอบฝึกฝนเรื่อง:\x20'+_0x3742ce[_0x5b164b(0x663)](/•\s/g,'')+_0x5b164b(0x3b2)+_0x5ddd3f+')',currentApplicationData=JSON['parse'](_0x25cf22);const _0x3cd511=document['getElementById'](_0x5b164b(0xa22));_0x3cd511[_0x5b164b(0x45b)]=currentApplicationData['map']((_0x2a1360,_0x428318)=>_0x5b164b(0xc87)+(_0x428318+0x1)+'.\x20'+marked[_0x5b164b(0x83e)](_0x2a1360[_0x5b164b(0x94b)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x428318+_0x5b164b(0x73c)+_0x2a1360[_0x5b164b(0xb84)][_0x5b164b(0xdeb)]((_0x4297de,_0x15a00d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x428318+',\x20'+_0x15a00d+_0x5b164b(0x313)+String['fromCharCode'](0x61+_0x15a00d)+'.\x20'+marked[_0x5b164b(0x83e)](_0x4297de)+_0x5b164b(0x714))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5b164b(0x94c)](''),window[_0x5b164b(0x872)]&&MathJax[_0x5b164b(0xecc)]([_0x3cd511]),_0x3ae717&&(_0x3ae717[_0x5b164b(0x4e3)][_0x5b164b(0xc13)]=_0x5b164b(0x3bd)),_0x46ac00[_0x5b164b(0x457)][_0x5b164b(0xea1)](_0x5b164b(0x845)),_0xbeaf37[_0x5b164b(0x457)][_0x5b164b(0xd11)](_0x5b164b(0x845));}catch(_0x5a81b4){console[_0x5b164b(0xd5b)](_0x5a81b4);throw _0x5a81b4;}}async function callGemini(_0x1a7d8c,_0x46e846=![]){const _0x4a84b7=_0x4247b4,_0x11d882=_0x4a84b7(0xaa2),_0x417cd1=_0x4a84b7(0x299)+_0x11d882,_0x214674={'contents':[{'parts':[{'text':_0x1a7d8c}]}]};_0x46e846&&(_0x214674[_0x4a84b7(0x903)]={'responseMimeType':_0x4a84b7(0x368)},_0x1a7d8c['includes'](_0x4a84b7(0x60a))?_0x214674[_0x4a84b7(0x903)]['responseSchema']={'type':_0x4a84b7(0xd94),'properties':{'gradeLevel':{'type':_0x4a84b7(0xaf4)},'curriculum':{'type':_0x4a84b7(0xa29),'items':{'type':_0x4a84b7(0xd94),'properties':{'sara':{'type':_0x4a84b7(0xaf4)},'mainTopics':{'type':'ARRAY','items':{'type':_0x4a84b7(0xd94),'properties':{'topicName':{'type':_0x4a84b7(0xaf4)},'subTopics':{'type':_0x4a84b7(0xa29),'items':{'type':_0x4a84b7(0xaf4)}}},'required':[_0x4a84b7(0x67b),_0x4a84b7(0x3b0)]}}},'required':[_0x4a84b7(0x456),_0x4a84b7(0xd12)]}}},'required':[_0x4a84b7(0x712),_0x4a84b7(0x77d)]}:_0x214674['generationConfig'][_0x4a84b7(0x55c)]={'type':_0x4a84b7(0xa29),'items':{'type':_0x4a84b7(0xd94),'properties':{'question':{'type':_0x4a84b7(0xaf4)},'options':{'type':_0x4a84b7(0xa29),'items':{'type':'STRING'}},'answer':{'type':_0x4a84b7(0xe62)}},'required':[_0x4a84b7(0x94b),_0x4a84b7(0xb84),_0x4a84b7(0xa76)]}});try{const _0x53f2d6=await fetch(_0x417cd1,{'method':_0x4a84b7(0xddb),'headers':{'Content-Type':_0x4a84b7(0x368)},'body':JSON[_0x4a84b7(0xe71)](_0x214674)});if(!_0x53f2d6['ok']){const _0x33f0e0=await _0x53f2d6[_0x4a84b7(0x9d1)]();console['error'](_0x4a84b7(0xcaf),_0x33f0e0);throw new Error(_0x4a84b7(0xd8b)+_0x53f2d6[_0x4a84b7(0x55e)]);}const _0x1eb810=await _0x53f2d6[_0x4a84b7(0xd4e)]();if(_0x1eb810[_0x4a84b7(0x2a8)]&&_0x1eb810[_0x4a84b7(0x2a8)][0x0]['content']&&_0x1eb810[_0x4a84b7(0x2a8)][0x0][_0x4a84b7(0x2e8)]['parts'][0x0])return _0x1eb810['candidates'][0x0][_0x4a84b7(0x2e8)][_0x4a84b7(0x518)][0x0]['text'];else{console[_0x4a84b7(0xd5b)]('Unexpected\x20API\x20response\x20structure:',_0x1eb810);if(_0x1eb810[_0x4a84b7(0x2a8)]&&_0x1eb810[_0x4a84b7(0x2a8)][0x0][_0x4a84b7(0xeb2)]===_0x4a84b7(0xbf7))return JSON[_0x4a84b7(0xe71)]({'error':_0x4a84b7(0x61e)});throw new Error(_0x4a84b7(0xa4d));}}catch(_0x3b9c7f){console[_0x4a84b7(0xd5b)](_0x4a84b7(0x9f4),_0x3b9c7f);throw _0x3b9c7f;}}async function generateLesson(_0x4c61be=null,_0x45a1cb=null){const _0x48025d=_0x4247b4,_0xf9b180=_0x4c61be,_0x5d9cb2=_0x45a1cb||_0x48025d(0xe91),_0x55cfc5=document[_0x48025d(0x7c7)]('lesson-loader'),_0xcd366=document['getElementById']('lesson-loader-text');_0xcd366[_0x48025d(0xb0c)]=_0x48025d(0xd77)+_0xf9b180+_0x48025d(0x4de);try{let _0x96fbdf=[];const _0x41aa5f=document['getElementById'](_0x48025d(0xb9a))?.[_0x48025d(0xc66)]['trim']();if(_0x41aa5f)try{_0xcd366[_0x48025d(0xb0c)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0xa0b412=await fetchFileFromUrl(_0x41aa5f,'reference_onet.pdf'),_0x47721c=await new Promise((_0x170492,_0x2e76fa)=>{const _0x2ec058=_0x48025d,_0xed62b=new FileReader();_0xed62b['readAsDataURL'](_0xa0b412),_0xed62b[_0x2ec058(0xdca)]=()=>_0x170492(_0xed62b[_0x2ec058(0xbc0)]['split'](',')[0x1]),_0xed62b[_0x2ec058(0xabb)]=_0x2e76fa;});_0x96fbdf[_0x48025d(0x82f)]({'inlineData':{'mimeType':_0xa0b412[_0x48025d(0x31f)],'data':_0x47721c}});}catch(_0xe95769){console[_0x48025d(0xd5b)](_0x48025d(0x8ea),_0xe95769),showMessage(_0x48025d(0xa49));}const _0x9b1326='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22'+_0xf9b180+_0x48025d(0x570)+_0xf9b180+_0x48025d(0xe67);_0xcd366[_0x48025d(0xb0c)]=_0x48025d(0xd77)+_0xf9b180+_0x48025d(0x4de);const _0x3bf6ee='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x5d9cb2+_0x48025d(0x81f)+_0xf9b180+_0x48025d(0xc0d)+_0x9b1326+_0x48025d(0xa80),_0x5023ff=_0x48025d(0xc0f)+_0xf9b180+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x5d9cb2+_0x48025d(0x496)+_0x9b1326+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0x4d810b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กสำหรับการสร้างตัวเลือก\x20(Advanced\x20Distractor\x20Rule):**\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องออกแบบมาเพื่อดักจับ\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20เช่น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การคำนวณผิดในขั้นตอนสุดท้าย\x20(Calculation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การจำสูตรผิด\x20หรือสลับตัวแปร\x20(Conceptual\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ลืมแปลงหน่วย\x20หรือตีความโจทย์ผิด\x20(Unit/Interpretation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผลและใกล้เคียงกับคำตอบจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xd4aa3a=_0x48025d(0xbd0)+_0x5d9cb2+_0x48025d(0x81f)+_0xf9b180+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x9b1326+'.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d810b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x24176e=_0x48025d(0x22a)+_0xf9b180+_0x48025d(0x57f)+_0x5d9cb2+'\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20'+_0x9b1326+_0x48025d(0x836),_0x188950={'type':_0x48025d(0xa29),'items':{'type':_0x48025d(0xd94),'properties':{'question':{'type':_0x48025d(0xaf4)},'options':{'type':_0x48025d(0xa29),'items':{'type':_0x48025d(0xaf4)}},'answer':{'type':_0x48025d(0xe62)}},'required':[_0x48025d(0x94b),_0x48025d(0xb84),_0x48025d(0xa76)]}},[_0x3cc70a,_0x4d554f,_0x2f5b02,_0x2f07b1]=await Promise['all']([handleApiCall([{'text':_0x3bf6ee},..._0x96fbdf],_0x48025d(0x709),null,null,![]),handleApiCall([{'text':_0x5023ff},..._0x96fbdf],_0x48025d(0x709),null,null,![]),handleApiCall([{'text':_0xd4aa3a},..._0x96fbdf],_0x48025d(0x709),_0x188950,null,![]),handleApiCall([{'text':_0x24176e},..._0x96fbdf],_0x48025d(0x709),null,null,![])]),_0x43e88f=JSON['stringify'](_0x2f5b02||[]),_0xd06b25=document['getElementById'](_0x48025d(0x982)),_0x208667=document[_0x48025d(0x7c7)](_0x48025d(0x238));_0xd06b25['innerText']='บทเรียนเรื่อง:\x20'+_0xf9b180['replace'](/•\s/g,'')+_0x48025d(0x3b2)+_0x5d9cb2+')',[_0x48025d(0xf64),_0x48025d(0xc31),_0x48025d(0x706)][_0x48025d(0x9fb)](_0x571298=>{const _0x57c462=_0x48025d;document[_0x57c462(0x7c7)](_0x571298)[_0x57c462(0x45b)]='';}),document[_0x48025d(0x7c7)](_0x48025d(0xf64))[_0x48025d(0x45b)]=_0x3cc70a?marked[_0x48025d(0xcfd)](_0x3cc70a):_0x48025d(0xc6b),document[_0x48025d(0x7c7)](_0x48025d(0xc31))[_0x48025d(0x45b)]=_0x4d554f?marked[_0x48025d(0xcfd)](_0x4d554f):_0x48025d(0xc6b),document[_0x48025d(0x7c7)](_0x48025d(0x706))[_0x48025d(0x45b)]=_0x2f07b1?marked[_0x48025d(0xcfd)](_0x2f07b1):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON[_0x48025d(0xcfd)](_0x43e88f);const _0x4c3f74=document[_0x48025d(0x7c7)](_0x48025d(0xa22));_0x4c3f74[_0x48025d(0x45b)]=(currentApplicationData||[])['map']((_0x4c5a0d,_0x3fa3c1)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x3fa3c1+0x1)+'.\x20'+marked[_0x48025d(0x83e)](_0x4c5a0d[_0x48025d(0x94b)]||'')+_0x48025d(0x5f8)+_0x3fa3c1+_0x48025d(0x73c)+(_0x4c5a0d['options']||[])['map']((_0x104ead,_0x4d761e)=>_0x48025d(0x338)+_0x3fa3c1+',\x20'+_0x4d761e+_0x48025d(0x313)+String[_0x48025d(0xc3a)](0x61+_0x4d761e)+'.\x20'+marked[_0x48025d(0x83e)](_0x104ead||'')+_0x48025d(0x714))[_0x48025d(0x94c)]('')+_0x48025d(0x635))['join']('')||_0x48025d(0x751),window[_0x48025d(0x872)]&&MathJax[_0x48025d(0xecc)]([_0x208667]),_0x55cfc5['classList'][_0x48025d(0xea1)](_0x48025d(0x845)),_0x208667['classList'][_0x48025d(0xd11)](_0x48025d(0x845));}catch(_0x49a89b){console[_0x48025d(0xd5b)](_0x49a89b);throw _0x49a89b;}}function checkAnswer(_0x196478,_0x378c6b){const _0x1a8036=_0x4247b4,_0x22b34d=currentApplicationData[_0x196478],_0xa01c8c=document['getElementById']('q'+_0x196478+'-options'),_0x585e26=_0xa01c8c['getElementsByTagName'](_0x1a8036(0xcde));for(let _0x161b96 of _0x585e26){_0x161b96['disabled']=!![];}_0x378c6b===_0x22b34d[_0x1a8036(0xa76)]?_0x585e26[_0x378c6b]['classList']['add'](_0x1a8036(0x9a2)):(_0x585e26[_0x378c6b]['classList'][_0x1a8036(0xea1)]('incorrect'),_0x585e26[_0x22b34d[_0x1a8036(0xa76)]][_0x1a8036(0x457)][_0x1a8036(0xea1)](_0x1a8036(0x9a2)));}window[_0x4247b4(0xc09)]=handleGenerateAndShowLesson,window[_0x4247b4(0xd13)]=checkAnswer,window[_0x4247b4(0xeb0)]=handleGeneratePracticeTest,window[_0x4247b4(0x847)]=handleGenerateQuizFromBlueprintTopic;let cropperInstance=null;function ensureCropperModalExists(){const _0x5f3c1f=_0x4247b4;if(document[_0x5f3c1f(0x7c7)](_0x5f3c1f(0x9ab)))return;const _0x17595e=_0x5f3c1f(0x8c4);document['body'][_0x5f3c1f(0x660)](_0x5f3c1f(0x2b4),_0x17595e),setupCropperButtons();}function setupCropperButtons(){const _0x3107e6=_0x4247b4;document[_0x3107e6(0x7c7)](_0x3107e6(0x6b6))[_0x3107e6(0xf03)](_0x3107e6(0x2f0),()=>{const _0xe58d74=_0x3107e6;document[_0xe58d74(0x7c7)](_0xe58d74(0x9ab))['classList']['add']('hidden'),cropperInstance&&(cropperInstance['destroy'](),cropperInstance=null),document[_0xe58d74(0x7c7)](_0xe58d74(0x9a8))['value']='';}),document['getElementById'](_0x3107e6(0x32a))[_0x3107e6(0xf03)](_0x3107e6(0x2f0),()=>{const _0x3a8cbd=_0x3107e6;if(!cropperInstance)return;const _0xf1e60e=document[_0x3a8cbd(0x7c7)](_0x3a8cbd(0x32a)),_0x1bde6b=_0xf1e60e[_0x3a8cbd(0x45b)];_0xf1e60e[_0x3a8cbd(0x45b)]=_0x3a8cbd(0xdb8),_0xf1e60e[_0x3a8cbd(0x766)]=!![],cropperInstance[_0x3a8cbd(0x690)]()[_0x3a8cbd(0xb78)](async _0x3509ff=>{const _0x4f017e=_0x3a8cbd;document[_0x4f017e(0x7c7)]('cropper-modal')['classList'][_0x4f017e(0xea1)]('hidden');const _0x1ff227=new File([_0x3509ff],_0x4f017e(0xe5b),{'type':_0x4f017e(0x6b5)});await handleScanImageForText(_0x1ff227),_0xf1e60e['innerHTML']=_0x1bde6b,_0xf1e60e['disabled']=![],cropperInstance[_0x4f017e(0x3f0)](),cropperInstance=null;},'image/png');});}function startCropper(_0x1929f8){const _0x1c90e5=_0x4247b4;ensureCropperModalExists();const _0x54dd24=document[_0x1c90e5(0x7c7)](_0x1c90e5(0x9ab)),_0xc9ad39=document[_0x1c90e5(0x7c7)](_0x1c90e5(0x3c9)),_0x18dcf9=new FileReader();_0x18dcf9['onload']=_0x590bf0=>{const _0x25dd6e=_0x1c90e5;_0xc9ad39['src']=_0x590bf0[_0x25dd6e(0xcbd)][_0x25dd6e(0xbc0)],_0x54dd24[_0x25dd6e(0x457)][_0x25dd6e(0xd11)]('hidden');if(cropperInstance)cropperInstance[_0x25dd6e(0x3f0)]();cropperInstance=new Cropper(_0xc9ad39,{'viewMode':0x1,'dragMode':_0x25dd6e(0xb22),'autoCropArea':0.8,'restore':![],'guides':!![],'center':!![],'highlight':![],'cropBoxMovable':!![],'cropBoxResizable':!![],'toggleDragModeOnDblclick':![]});},_0x18dcf9[_0x1c90e5(0x6d9)](_0x1929f8);}document[_0x4247b4(0xf03)]('DOMContentLoaded',()=>{const _0x28a3da=_0x4247b4,_0x170b28=document['getElementById'](_0x28a3da(0x9a8)),_0x6675fd=document[_0x28a3da(0x7c7)](_0x28a3da(0xb21));_0x6675fd&&_0x170b28&&(_0x6675fd[_0x28a3da(0xf03)]('click',()=>{const _0x3b3e0c=_0x28a3da;_0x170b28[_0x3b3e0c(0xc66)]='',_0x170b28[_0x3b3e0c(0x2f0)]();}),_0x170b28['addEventListener'](_0x28a3da(0xc7a),_0x3ef8a5=>{const _0x17609e=_0x28a3da;_0x3ef8a5['target']['files']&&_0x3ef8a5[_0x17609e(0xcbd)][_0x17609e(0xf34)]['length']>0x0&&startCropper(_0x3ef8a5['target'][_0x17609e(0xf34)][0x0]);}));});async function handleScanImageForText(_0x383f53){const _0x3ece6d=_0x4247b4,_0x40fcf5=document[_0x3ece6d(0x7c7)](_0x3ece6d(0x693)),_0xd891d8=document[_0x3ece6d(0x7c7)]('scan-text-image-btn');if(!_0x383f53)return;_0xd891d8[_0x3ece6d(0x766)]=!![],_0xd891d8[_0x3ece6d(0x45b)]=_0x3ece6d(0xdd3),_0x40fcf5[_0x3ece6d(0x886)]=_0x3ece6d(0x7a4);try{const _0x1c57b8=await new Promise((_0x1d0399,_0x47b578)=>{const _0x47e661=_0x3ece6d,_0x1001a1=new FileReader();_0x1001a1[_0x47e661(0x6d9)](_0x383f53),_0x1001a1[_0x47e661(0xdca)]=()=>_0x1d0399(_0x1001a1[_0x47e661(0xbc0)][_0x47e661(0x4c6)](',')[0x1]),_0x1001a1[_0x47e661(0xabb)]=_0x47b578;}),_0xa183b2=_0x3ece6d(0xb95),_0x3d64e5=[{'text':_0xa183b2},{'inlineData':{'mimeType':_0x383f53['type'],'data':_0x1c57b8}}],_0x4ef462=await handleApiCall(_0x3d64e5,_0x3ece6d(0xe69),null,null,![]);if(_0x4ef462){const _0x28b994=_0x40fcf5[_0x3ece6d(0xc66)]['trim']();_0x40fcf5[_0x3ece6d(0xc66)]=_0x28b994?_0x28b994+'\x0a\x0a'+_0x4ef462:_0x4ef462,showMessage(_0x3ece6d(0xdb9));}else throw new Error('AI\x20ไม่สามารถอ่านข้อความได้');}catch(_0x5c1c33){console['error']('OCR\x20Error:',_0x5c1c33),showMessage('เกิดข้อผิดพลาดในการอ่านรูปภาพ:\x20'+_0x5c1c33[_0x3ece6d(0x725)]);}finally{_0xd891d8[_0x3ece6d(0x766)]=![],_0xd891d8[_0x3ece6d(0x45b)]=_0x3ece6d(0x44e),document[_0x3ece6d(0x7c7)](_0x3ece6d(0x266))['value']='';}}async function initialize(){const _0x38338d=_0x4247b4;try{const _0x504a63=initializeApp(firebaseConfig);db=getFirestore(_0x504a63),auth=getAuth(_0x504a63),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x2ca603){console['error'](_0x38338d(0xb81),_0x2ca603),showMessage(_0x38338d(0x651));}}async function handleVerifyAnswersInEditor(){const _0x50998b=_0x4247b4,_0x3079de=document[_0x50998b(0x7c7)](_0x50998b(0x1e8));if(!_0x3079de)return;const _0x4d8eb8=document[_0x50998b(0x7c7)](_0x50998b(0x4ab));_0x4d8eb8[_0x50998b(0x766)]=!![],_0x4d8eb8[_0x50998b(0x45b)]=_0x50998b(0x383);try{const _0xc1f3c4=_0x3079de[_0x50998b(0xf52)](_0x50998b(0xb9e)),_0x16ea46=Array['from'](_0xc1f3c4)[_0x50998b(0xdeb)]((_0x51f87c,_0x430356)=>{const _0x125c22=_0x50998b,_0x33f249=_0x51f87c[_0x125c22(0xefd)][_0x125c22(0xb06)],_0x47430f=_0x51f87c[_0x125c22(0x79b)](_0x125c22(0x39e))['value'];let _0x1e8f24=null,_0x3fefcd='';switch(_0x33f249){case _0x125c22(0x7fe):const _0x22a2f4=_0x51f87c[_0x125c22(0xf52)](_0x125c22(0x404));_0x1e8f24=Array[_0x125c22(0x901)](_0x22a2f4)['map'](_0x4ba959=>_0x4ba959[_0x125c22(0xc66)]);const _0x5ab937=_0x51f87c['querySelector']('input[type=\x22radio\x22]:checked');_0x5ab937&&(_0x3fefcd=_0x1e8f24[parseInt(_0x5ab937[_0x125c22(0xc66)])]||'');break;case _0x125c22(0xf11):case _0x125c22(0x437):_0x1e8f24=[],_0x3fefcd=_0x51f87c[_0x125c22(0x79b)]('.ideal-answer-input')['value'];break;case _0x125c22(0x353):_0x1e8f24=[_0x125c22(0x96f),_0x125c22(0xaa5)];const _0x188b99=_0x51f87c['querySelector']('input[type=\x22radio\x22]:checked');_0x3fefcd=_0x188b99?_0x188b99[_0x125c22(0xc66)]:'';break;case _0x125c22(0x39f):_0x1e8f24=[],_0x3fefcd=_0x51f87c[_0x125c22(0x79b)]('.correct-response-input')[_0x125c22(0xc66)];break;}return{'questionIndex':_0x430356,'questionType':_0x33f249,'question':_0x47430f,'options':_0x1e8f24,'proposedAnswer':_0x3fefcd};}),_0x1aafb9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20**ตรวจสอบความถูกต้อง:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้อง\x20->\x20ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20**กรณีผิดหรือข้อมูลไม่ครบ\x20(สำคัญ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20หรือเป็นค่าว่าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20หรือถ้า\x20\x22options\x22\x20ว่างเปล่า\x20หรือมีแต่ค่าขยะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และ\x20**ต้องสร้าง\x20\x22newOptionsPayload\x22**\x20ขึ้นมาใหม่\x20โดยมีกฎเหล็กดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20**ต้องเป็น\x20Array\x20ที่มี\x20String\x20จำนวน\x204\x20ตัวเลือกเสมอ**\x20(ห้ามขาด\x20ห้ามเกิน)\x20ประกอบด้วยคำตอบที่ถูก\x201\x20ข้อ\x20และตัวลวงสมเหตุสมผล\x203\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20ตำแหน่ง\x20(0-3)\x20ของข้อที่ถูก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องตรวจสอบ:\x20'+JSON[_0x50998b(0xe71)](_0x16ea46)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x23463d={'type':_0x50998b(0xa29),'items':{'type':_0x50998b(0xd94),'properties':{'questionIndex':{'type':_0x50998b(0xe62)},'isCorrect':{'type':_0x50998b(0xf67)},'justification':{'type':_0x50998b(0xaf4)},'correctOptionExists':{'type':_0x50998b(0xf67)},'suggestedAnswer':{'type':_0x50998b(0xaf4)},'newOptionsPayload':{'type':_0x50998b(0xd94),'properties':{'newOptions':{'type':'ARRAY','items':{'type':'STRING'}},'newCorrectIndex':{'type':'NUMBER'}},'required':[_0x50998b(0xc89),_0x50998b(0x27b)]}},'required':[_0x50998b(0xe6a),_0x50998b(0x697),_0x50998b(0xe68)]}},_0x1cbcd4=await callAnalysisApi(_0x1aafb9,{'type':_0x50998b(0xd94),'properties':{'result':_0x23463d},'required':[_0x50998b(0xbc0)]});if(_0x1cbcd4&&_0x1cbcd4[_0x50998b(0xbc0)])displayVerificationResultsInEditor(_0x1cbcd4[_0x50998b(0xbc0)]);else throw new Error(_0x50998b(0x806));}catch(_0x8d437d){console[_0x50998b(0xd5b)](_0x50998b(0x75e),_0x8d437d),showMessage(_0x50998b(0x50c)+_0x8d437d['message']);}finally{_0x4d8eb8[_0x50998b(0x766)]=![],_0x4d8eb8[_0x50998b(0x45b)]=_0x50998b(0xeff);}}function displayVerificationResultsInEditor(_0x2b8e81){const _0x271dce=_0x4247b4;_0x2b8e81['forEach'](_0x2c5bcf=>{const _0x53691c=_0xc03a,_0x1b8720=document[_0x53691c(0x79b)](_0x53691c(0x795)+_0x2c5bcf[_0x53691c(0xe6a)]+'\x22]');if(!_0x1b8720)return;const _0x360d58=_0x1b8720['querySelector'](_0x53691c(0x812));if(_0x360d58)_0x360d58[_0x53691c(0xd11)]();let _0x9021b6='';if(_0x2c5bcf[_0x53691c(0xb02)]&&_0x2c5bcf[_0x53691c(0xb02)][_0x53691c(0xc89)]){const _0x347dad=_0x2c5bcf[_0x53691c(0xb02)][_0x53691c(0xc89)],_0x4f7e5f=_0x2c5bcf['newOptionsPayload']['newCorrectIndex'],_0x15105a=_0x1b8720[_0x53691c(0xefd)][_0x53691c(0xb06)];if(_0x15105a===_0x53691c(0x7fe)){const _0x11b47c=_0x1b8720[_0x53691c(0xf52)](_0x53691c(0x404));_0x11b47c[_0x53691c(0x9fb)]((_0x33d1ca,_0x54c58d)=>{const _0x53c61b=_0x53691c;_0x347dad[_0x54c58d]?_0x33d1ca['value']=_0x347dad[_0x54c58d]:_0x33d1ca[_0x53c61b(0xc66)]=_0x53c61b(0xcca);});const _0xae60c5=_0x1b8720[_0x53691c(0x79b)]('input[type=\x22radio\x22][value=\x22'+_0x4f7e5f+'\x22]');_0xae60c5&&(_0xae60c5[_0x53691c(0xa20)]=!![]),_0x9021b6=_0x53691c(0x939),_0x1b8720[_0x53691c(0x457)]['add'](_0x53691c(0xa36),'transition-all','duration-300'),setTimeout(()=>{const _0x11cfdb=_0x53691c;_0x1b8720[_0x11cfdb(0x457)]['remove'](_0x11cfdb(0xa36));},0x9c4);}}else{if(!_0x2c5bcf[_0x53691c(0x697)]&&_0x2c5bcf[_0x53691c(0x50f)]){const _0x13e131=_0x2c5bcf[_0x53691c(0x50f)]?_0x53691c(0xe34):'';_0x9021b6=_0x53691c(0x7e4)+_0x13e131+_0x53691c(0x608)+_0x2c5bcf[_0x53691c(0xe68)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2c5bcf[_0x53691c(0x50f)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x2c5bcf[_0x53691c(0x50f)]+_0x53691c(0x2fc):'')+_0x53691c(0x89d);const _0x1e6438=_0x1b8720[_0x53691c(0xefd)][_0x53691c(0xb06)],_0x555e15=_0x1d8649=>{const _0x5ec376=_0x53691c;if(!_0x1d8649)return;_0x1d8649['classList'][_0x5ec376(0xea1)]('bg-green-200',_0x5ec376(0x614),_0x5ec376(0x48e)),setTimeout(()=>{const _0x581a3d=_0x5ec376;_0x1d8649[_0x581a3d(0x457)][_0x581a3d(0xd11)](_0x581a3d(0xea3));},0x9c4);};if(_0x1e6438===_0x53691c(0x7fe)){const _0xb15894=Array[_0x53691c(0x901)](_0x1b8720[_0x53691c(0xf52)]('input[type=\x22text\x22]')),_0x328af9=_0xb15894['findIndex'](_0x34035a=>_0x34035a[_0x53691c(0xc66)]['trim']()[_0x53691c(0xab2)]()===_0x2c5bcf[_0x53691c(0x50f)]['trim']()['toLowerCase']());if(_0x328af9!==-0x1){const _0x3e7543=_0x1b8720[_0x53691c(0x79b)]('input[type=\x22radio\x22][value=\x22'+_0x328af9+'\x22]');_0x3e7543&&(_0x3e7543['checked']=!![],_0x555e15(_0x3e7543['closest'](_0x53691c(0x58c))));}}else{if(_0x1e6438===_0x53691c(0xf11)||_0x1e6438===_0x53691c(0x39f)){const _0x538bae=_0x1b8720['querySelector'](_0x53691c(0xedc));_0x538bae&&(_0x538bae['value']=_0x2c5bcf[_0x53691c(0x50f)],_0x555e15(_0x538bae));}else{if(_0x1e6438===_0x53691c(0x353)){const _0x1272f6=_0x2c5bcf[_0x53691c(0x50f)][_0x53691c(0xba3)]()['toLowerCase'](),_0x55aa9a=_0x1b8720[_0x53691c(0x79b)]('input[type=\x22radio\x22][value=\x22'+_0x1272f6+'\x22]');_0x55aa9a&&(_0x55aa9a[_0x53691c(0xa20)]=!![],_0x555e15(_0x55aa9a[_0x53691c(0x5bf)](_0x53691c(0x58c))));}}}}else _0x2c5bcf[_0x53691c(0x697)]&&(_0x9021b6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');}_0x1b8720['insertAdjacentHTML']('beforeend',_0x9021b6);}),showMessage(_0x271dce(0x5eb));}async function handleVerifyAnswers(){const _0x513b66=_0x4247b4;if(!currentQuizData||!currentQuizData[_0x513b66(0x99c)]){showMessage(_0x513b66(0x960));return;}const _0x4d04a4=document[_0x513b66(0x7c7)]('verify-answers-btn');_0x4d04a4[_0x513b66(0x766)]=!![],_0x4d04a4['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x474e1d=currentQuizData[_0x513b66(0x99c)]['map']((_0xdd1a5f,_0x1e7ac8)=>{const _0x522bb6=_0x513b66;let _0x5c4632='';const _0x57ea2f=_0xdd1a5f[_0x522bb6(0xf29)]||currentQuizData[_0x522bb6(0xa71)];switch(_0x57ea2f){case'multiple_choice':_0x5c4632=_0xdd1a5f['options'][_0xdd1a5f[_0x522bb6(0xc6f)]];break;case'short_answer':_0x5c4632=_0xdd1a5f[_0x522bb6(0x325)];break;case'true_false':_0x5c4632=_0xdd1a5f[_0x522bb6(0xd0d)]['toString']();break;case _0x522bb6(0x39f):_0x5c4632=_0xdd1a5f[_0x522bb6(0x36d)];break;}return{'question':_0xdd1a5f[_0x522bb6(0x203)]||_0xdd1a5f[_0x522bb6(0x303)],'options':_0xdd1a5f[_0x522bb6(0xb84)]||null,'proposedAnswer':_0x5c4632};}),_0x1770a4=_0x513b66(0xf61)+JSON[_0x513b66(0xe71)](_0x474e1d)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x19fc55={'type':_0x513b66(0xa29),'items':{'type':_0x513b66(0xd94),'properties':{'questionIndex':{'type':_0x513b66(0xe62)},'isCorrect':{'type':_0x513b66(0xf67)},'justification':{'type':_0x513b66(0xaf4)},'suggestedAnswer':{'type':_0x513b66(0xaf4)}},'required':[_0x513b66(0xe6a),_0x513b66(0x697),_0x513b66(0xe68)]}},_0x4127cc=await callAnalysisApi(_0x1770a4,{'type':_0x513b66(0xd94),'properties':{'result':_0x19fc55},'required':[_0x513b66(0xbc0)]});displayVerificationResults(_0x4127cc[_0x513b66(0xbc0)]);}catch(_0x188b9b){console[_0x513b66(0xd5b)]('Error\x20verifying\x20answers:',_0x188b9b),showMessage(_0x513b66(0xdfb));}finally{_0x4d04a4[_0x513b66(0x766)]=![],_0x4d04a4['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x5cea0e){const _0x3273aa=_0x4247b4;_0x5cea0e[_0x3273aa(0x9fb)](_0x697d82=>{const _0x3b5699=_0x3273aa,_0xd69d60=document[_0x3b5699(0x79b)]('div[data-question-index=\x22'+_0x697d82['questionIndex']+'\x22]');if(_0xd69d60){const _0x491c58=_0xd69d60[_0x3b5699(0x79b)](_0x3b5699(0xb89));if(_0x491c58)_0x491c58[_0x3b5699(0xd11)]();let _0x46b66c='';_0x697d82[_0x3b5699(0x697)]?_0x46b66c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x46b66c=_0x3b5699(0xdc9)+_0x697d82['justification']+_0x3b5699(0xb5b)+(_0x697d82[_0x3b5699(0x50f)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x697d82['suggestedAnswer']+_0x3b5699(0x2fc):'')+_0x3b5699(0xf23),_0xd69d60[_0x3b5699(0x660)]('beforeend',_0x46b66c);}}),showMessage(_0x3273aa(0x5eb));}function compareNumericalAnswers(_0x15b506,_0x309f2a){const _0x4d1411=_0x4247b4,_0x157702=String(_0x15b506)[_0x4d1411(0x663)](',','.')['replace'](/[^\d.-]/g,'')[_0x4d1411(0xba3)](),_0x4a6397=String(_0x309f2a)[_0x4d1411(0x663)](',','.')[_0x4d1411(0x663)](/[^\d.-]/g,'')[_0x4d1411(0xba3)]();if(_0x157702===''||_0x4a6397==='')return![];const _0x4e04a7=parseFloat(_0x157702),_0x5352da=parseFloat(_0x4a6397);if(isNaN(_0x4e04a7)||isNaN(_0x5352da))return![];return Math[_0x4d1411(0xd6a)](_0x4e04a7-_0x5352da)<0.001;}function isPotentiallyNumeric(_0x2a0550){const _0x55f9e5=_0x4247b4;if(typeof _0x2a0550!==_0x55f9e5(0x428)&&typeof _0x2a0550!==_0x55f9e5(0x93c))return![];const _0x232ca0=String(_0x2a0550)[_0x55f9e5(0x663)](',','.')['trim']();return _0x232ca0!==''&&!isNaN(parseFloat(_0x232ca0))&&isFinite(_0x232ca0);}async function gradeShortAnswer(_0x3b9101,_0x456022){const _0x2d6f95=_0x4247b4,_0x4c9b35=_0x456022['idealAnswer'],_0x284f4c=String(_0x3b9101)['replace'](/\$/g,'')['trim'](),_0x3ee691=String(_0x4c9b35)[_0x2d6f95(0x663)](/\$/g,'')['trim']();if(_0x284f4c[_0x2d6f95(0xab2)]()===_0x3ee691[_0x2d6f95(0xab2)]())return!![];if(isPotentiallyNumeric(_0x284f4c)&&isPotentiallyNumeric(_0x3ee691)){if(compareNumericalAnswers(_0x284f4c,_0x3ee691))return!![];}return console[_0x2d6f95(0x799)](_0x2d6f95(0x43c)),![];}async function revealAnswerForAdmin(_0x54463f,_0x490772){const _0x48b619=_0x4247b4,_0xb8c66c=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0xb8c66c,{'questionStatus':_0x48b619(0xd24)});}function showTop5LeaderboardView(_0x1debd8){const _0x1b5ada=_0x4247b4,_0x413a59=Object[_0x1b5ada(0x57b)](_0x1debd8[_0x1b5ada(0x5fa)]||{})[_0x1b5ada(0x498)](_0x1f9472=>_0x1f9472[_0x1b5ada(0x55e)]==='active');_0x413a59[_0x1b5ada(0x994)]((_0x50c3e9,_0x45df80)=>_0x45df80[_0x1b5ada(0x494)]-_0x50c3e9[_0x1b5ada(0x494)]);const _0x49f8e6=_0x413a59[_0x1b5ada(0x68d)](0x0,0x5),_0x497905='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x49f8e6[_0x1b5ada(0xdeb)]((_0x47339e,_0xa13609)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0xa13609+0x1)+'.\x20'+(_0x47339e[_0x1b5ada(0x689)]||Object[_0x1b5ada(0xb00)](_0x1debd8[_0x1b5ada(0x5fa)])['find'](_0x2a8f56=>_0x1debd8[_0x1b5ada(0x5fa)][_0x2a8f56]===_0x47339e))+_0x1b5ada(0x9a0)+_0x47339e[_0x1b5ada(0x494)]+_0x1b5ada(0x918))[_0x1b5ada(0x94c)]('')+_0x1b5ada(0x542)+(_0x1debd8['currentQuestionIndex']+0x1===currentQuizData[_0x1b5ada(0x99c)][_0x1b5ada(0x2d2)]?'สรุปผลสุดท้าย':'ข้อต่อไป')+_0x1b5ada(0x1ef);liveGameView[_0x1b5ada(0x45b)]=_0x497905,document[_0x1b5ada(0x7c7)](_0x1b5ada(0xd25))[_0x1b5ada(0xf03)](_0x1b5ada(0x2f0),async()=>{const _0xb59ac=_0x1b5ada,_0x4eb886=doc(db,_0xb59ac(0x2b7)+appId+_0xb59ac(0xa57),currentLiveGameId),_0x26d22e=_0x1debd8[_0xb59ac(0x89f)]+0x1;if(_0x26d22e<currentQuizData[_0xb59ac(0x99c)][_0xb59ac(0x2d2)]){const _0x2a2a26={'currentQuestionIndex':_0x26d22e,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0xb59ac(0xb00)](_0x1debd8[_0xb59ac(0x5fa)])[_0xb59ac(0x9fb)](_0x3e4272=>{const _0x4b7eb9=_0xb59ac;_0x2a2a26[_0x4b7eb9(0xb71)+_0x3e4272+_0x4b7eb9(0x6ca)]=![];}),await updateDoc(_0x4eb886,_0x2a2a26);}else await updateDoc(_0x4eb886,{'status':_0xb59ac(0xa07)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x46cbe5=>{const _0x2f1ea2=_0xc03a;if(_0x46cbe5){userId=_0x46cbe5[_0x2f1ea2(0x94e)],userIdDisplay[_0x2f1ea2(0xb0c)]=userId;const _0xdaba55=await loadUserPreferences();_0xdaba55[_0x2f1ea2(0xe2a)]&&(document[_0x2f1ea2(0x7c7)](_0x2f1ea2(0x493))[_0x2f1ea2(0xc66)]=_0xdaba55['projectSortOrder']);globalDashboardSettings['projectView']=_0xdaba55['projectView']||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x1ba50e,_0x49b093){const _0x1bebc3=_0x4247b4;if(!userId)return;try{const _0x2d148d=doc(db,_0x1bebc3(0x2b7)+appId+'/users/'+userId+'/preferences/main'),_0x527427={};_0x527427[_0x1ba50e]=_0x49b093,await setDoc(_0x2d148d,_0x527427,{'merge':!![]});}catch(_0x2d0be8){console[_0x1bebc3(0xd5b)](_0x1bebc3(0xdae),_0x2d0be8);}}async function loadUserPreferences(){const _0x9e41a=_0x4247b4;if(!userId)return{};try{const _0x592033=doc(db,'artifacts/'+appId+_0x9e41a(0x405)+userId+_0x9e41a(0x917)),_0x374add=await getDoc(_0x592033);if(_0x374add[_0x9e41a(0x971)]())return _0x374add[_0x9e41a(0xb86)]();return{};}catch(_0x14ecdd){return console[_0x9e41a(0xd5b)]('Error\x20loading\x20user\x20preferences:',_0x14ecdd),{};}}function parseIndentedBlueprint(_0x3b29ce){const _0xcd65e0=_0x4247b4,_0x1adad3=_0x3b29ce[_0xcd65e0(0x4c6)]('\x0a')[_0xcd65e0(0x498)](_0x290886=>_0x290886[_0xcd65e0(0xba3)]()!==''),_0x1ebd84=[];let _0x2a10cf=null,_0x4a1a3c=null;return _0x1adad3[_0xcd65e0(0x9fb)](_0x43cc3b=>{const _0x3499f8=_0xcd65e0,_0x55e8e5=_0x43cc3b[_0x3499f8(0x403)](/^\s*/)[0x0]['length'],_0x26e46e=_0x43cc3b[_0x3499f8(0xba3)]();if(_0x55e8e5===0x0)_0x2a10cf={'sara':_0x26e46e,'mainTopics':[]},_0x1ebd84[_0x3499f8(0x82f)](_0x2a10cf),_0x4a1a3c=null;else{if(_0x55e8e5>0x0&&_0x55e8e5<0x8&&_0x2a10cf)_0x4a1a3c={'topicName':_0x26e46e,'subTopics':[]},_0x2a10cf[_0x3499f8(0xd12)][_0x3499f8(0x82f)](_0x4a1a3c);else _0x55e8e5>=0x8&&_0x4a1a3c&&_0x4a1a3c[_0x3499f8(0x3b0)]['push'](_0x26e46e);}}),{'curriculum':_0x1ebd84};}async function handleManualBlueprintSave(){const _0x1e29f6=_0x4247b4,_0x3ba5a6=document[_0x1e29f6(0x7c7)]('manual-bp-project-name')[_0x1e29f6(0xc66)][_0x1e29f6(0xba3)](),_0x253962=document['getElementById']('manual-bp-grade-level')[_0x1e29f6(0xc66)][_0x1e29f6(0xba3)](),_0x40cfaf=document[_0x1e29f6(0x7c7)](_0x1e29f6(0x38e))[_0x1e29f6(0xc66)];if(!_0x3ba5a6||!_0x253962||!_0x40cfaf){showMessage(_0x1e29f6(0x38a));return;}const _0x1d5edd=parseIndentedBlueprint(_0x40cfaf);if(!_0x1d5edd['curriculum']||_0x1d5edd[_0x1e29f6(0x77d)][_0x1e29f6(0x2d2)]===0x0){showMessage(_0x1e29f6(0x320));return;}const _0x19714e={};let _0x3eec83=0x0;_0x1d5edd[_0x1e29f6(0x77d)][_0x1e29f6(0x9fb)](_0x2313c8=>{_0x2313c8['mainTopics']['forEach'](_0x3eda2c=>{_0x3eda2c['subTopics']['forEach'](_0x18882c=>{const _0x4decad=_0xc03a,_0x36624a=_0x4decad(0x98c)+Date['now']()+Math['random']()[_0x4decad(0x2cc)](0x24)[_0x4decad(0x56f)](0x2,0x9);_0x19714e[_0x36624a]={'sara':_0x2313c8[_0x4decad(0x456)],'mainTopic':_0x3eda2c[_0x4decad(0x67b)],'subTopic':_0x18882c,'status':_0x4decad(0xbb6),'lessonContent':null,'order':_0x3eec83++};});});});try{const _0x3046cc=collection(db,'artifacts/'+appId+'/public/data/blueprintProjects');await addDoc(_0x3046cc,{'projectName':_0x3ba5a6,'gradeLevel':_0x253962,'topics':_0x19714e,'createdAt':serverTimestamp()}),showMessage(_0x1e29f6(0xdbb)+_0x3ba5a6+_0x1e29f6(0xc27)),document[_0x1e29f6(0x7c7)](_0x1e29f6(0xdb7))['classList'][_0x1e29f6(0xea1)](_0x1e29f6(0x845));}catch(_0xe52304){console[_0x1e29f6(0xd5b)](_0x1e29f6(0xb83),_0xe52304),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x441dbb){const _0x4dd80f=_0x4247b4;showConfirmation(_0x4dd80f(0x291),async()=>{const _0x174476=_0x4dd80f;try{const _0x471281=doc(db,_0x174476(0x2b7)+appId+_0x174476(0x209),currentBlueprintProjectId);await updateDoc(_0x471281,{[_0x174476(0x9cf)+_0x441dbb+_0x174476(0x2cb)]:[]}),showMessage(_0x174476(0x7b2)),openTopicQuizBank(_0x441dbb),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x520cf5){console[_0x174476(0xd5b)](_0x174476(0x4cf),_0x520cf5),showMessage(_0x174476(0x4a2));}});}function showPodiumView(_0x2a8e06,_0x4741fd=_0x4247b4(0x2bf),_0x5daf2b=null){const _0xe03954=_0x4247b4,_0x338fca=_0x5daf2b?.[_0xe03954(0x6e4)]===!![],_0x1b6745=Object[_0xe03954(0xb54)](_0x2a8e06)[_0xe03954(0xdeb)](([_0x2438f9,_0x370a4d])=>({'name':_0x2438f9,'realScore':_0x370a4d['realScore']||_0x370a4d[_0xe03954(0x494)]||0x0,'totalPoints':_0x370a4d['totalPoints']||0x0,'badges':_0x370a4d[_0xe03954(0x365)]||[],'hasPerfectScoreBonus':_0x370a4d[_0xe03954(0xc29)]||![],'correctStreak':_0x370a4d[_0xe03954(0xde6)]||0x0})),_0x16c1d2=Math['max'](..._0x1b6745[_0xe03954(0xdeb)](_0x26620a=>_0x26620a['totalPoints']),-Infinity),_0x4dfd2c=Math['max'](..._0x1b6745[_0xe03954(0xdeb)](_0x2e2a2d=>_0x2e2a2d[_0xe03954(0xcb2)]),-Infinity);_0x1b6745['sort']((_0x198039,_0x3af58b)=>{const _0x26ab26=_0xe03954;if(_0x338fca){const _0x5859ce=_0x3af58b[_0x26ab26(0x8c7)]-_0x198039['totalPoints'];if(_0x5859ce!==0x0)return _0x5859ce;const _0x2f2673=_0x3af58b['realScore']-_0x198039['realScore'];if(_0x2f2673!==0x0)return _0x2f2673;return _0x198039['name'][_0x26ab26(0x460)](_0x3af58b[_0x26ab26(0x689)],'th');}else{const _0x57a752=_0x3af58b[_0x26ab26(0x8c7)]-_0x198039[_0x26ab26(0x8c7)];if(_0x57a752!==0x0)return _0x57a752;const _0x1c0eae=_0x3af58b['realScore']-_0x198039[_0x26ab26(0xcb2)];if(_0x1c0eae!==0x0)return _0x1c0eae;return _0x198039[_0x26ab26(0x689)][_0x26ab26(0x460)](_0x3af58b[_0x26ab26(0x689)],'th');}});let _0x4b7364=0x1;for(let _0x5352a8=0x0;_0x5352a8<_0x1b6745[_0xe03954(0x2d2)];_0x5352a8++){if(_0x5352a8>0x0){const _0x19149c=_0x1b6745[_0x5352a8-0x1],_0x200acf=_0x1b6745[_0x5352a8],_0x222220=_0x200acf[_0xe03954(0x8c7)]===_0x19149c[_0xe03954(0x8c7)]&&_0x200acf[_0xe03954(0xcb2)]===_0x19149c[_0xe03954(0xcb2)];!_0x222220&&(_0x4b7364=_0x5352a8+0x1);}_0x1b6745[_0x5352a8]['displayRank']=_0x4b7364;}const _0x16bb81=_0x30540a=>{const _0x3d0e4f=_0xe03954;if(!_0x30540a||_0x30540a[_0x3d0e4f(0x2d2)]===0x0)return'';const _0x5bc91f={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x3d0e4f(0xd75)+_0x30540a[_0x3d0e4f(0xdeb)](_0x97283a=>_0x5bc91f[_0x97283a]||'')[_0x3d0e4f(0x94c)]('')+'</div>';},_0x33a478=_0x5bc24c=>{const _0x19ac7c=_0xe03954;let _0x34e38e='';if(_0x338fca){if(_0x5bc24c[_0x19ac7c(0x8c7)]===_0x16c1d2&&_0x16c1d2>0x0)_0x34e38e+=_0x19ac7c(0xa97);if(_0x5bc24c[_0x19ac7c(0xcb2)]===_0x4dfd2c&&_0x4dfd2c>0x0)_0x34e38e+='<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20';}else{if(_0x5bc24c[_0x19ac7c(0xc29)])_0x34e38e=_0x19ac7c(0x82b);}let _0x244f3f='';_0x5bc24c[_0x19ac7c(0xde6)]>=0x3&&(_0x244f3f='\x20<span\x20class=\x22text-orange-400\x20font-bold\x20animate-pulse\x20ml-1\x20text-lg\x20drop-shadow-sm\x22>🔥\x20x'+_0x5bc24c[_0x19ac7c(0xde6)]+_0x19ac7c(0x305));if(_0x338fca){const _0x20799a=_0x5bc24c[_0x19ac7c(0x8c7)]>=0x0?'(+'+_0x5bc24c['totalPoints'][_0x19ac7c(0xbef)]()+')':'('+_0x5bc24c[_0x19ac7c(0x8c7)][_0x19ac7c(0xbef)]()+')';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x5bc24c['realScore']+_0x19ac7c(0x607)+_0x20799a+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>'+_0x34e38e+_0x244f3f+_0x19ac7c(0x4f2);}else return _0x19ac7c(0xda2)+_0x5bc24c[_0x19ac7c(0x8c7)][_0x19ac7c(0xbef)]()+_0x19ac7c(0x73f)+_0x34e38e+_0x244f3f+_0x19ac7c(0x4f2);},_0x5c5b6d=_0x17f1a2=>{if(_0x17f1a2>=0x3)return'<span\x20class=\x22text-orange-400\x20font-bold\x20ml-2\x20text-sm\x20animate-pulse\x22>🔥\x20x'+_0x17f1a2+'</span>';return'';},_0x13f3b1=_0x1b6745[_0xe03954(0x68d)](0x3),_0x13bba0=_0x13f3b1[_0xe03954(0x2d2)]>0x0?_0xe03954(0x6ec)+_0x13f3b1[_0xe03954(0xdeb)]((_0x22e68d,_0x31a640)=>{const _0x7317ed=_0xe03954;let _0x38c054='';if(_0x338fca){if(_0x22e68d[_0x7317ed(0x8c7)]===_0x16c1d2&&_0x16c1d2>0x0)_0x38c054+='👑\x20';if(_0x22e68d[_0x7317ed(0xcb2)]===_0x4dfd2c&&_0x4dfd2c>0x0)_0x38c054+=_0x7317ed(0xa7f);}let _0x462b66='';return _0x338fca?_0x462b66=_0x22e68d['realScore']+'\x20คะแนน\x20('+_0x22e68d[_0x7317ed(0x8c7)][_0x7317ed(0xbef)]()+')':_0x462b66=_0x22e68d[_0x7317ed(0x8c7)][_0x7317ed(0xbef)]()+'\x20คะแนน',_0x7317ed(0x773)+_0x22e68d[_0x7317ed(0x572)]+_0x7317ed(0xa83)+_0x22e68d['name']+_0x7317ed(0x624)+_0x5c5b6d(_0x22e68d['correctStreak'])+_0x7317ed(0xc46)+_0x462b66+'\x20'+_0x38c054+_0x7317ed(0xd60);})[_0xe03954(0x94c)]('')+_0xe03954(0xc12):'',_0x4fd47c=_0xe03954(0x69f)+(_0x1b6745[0x1]?_0xe03954(0x6ff)+_0x1b6745[0x1][_0xe03954(0x689)]+_0xe03954(0x2fc)+_0x33a478(_0x1b6745[0x1])+_0xe03954(0x271)+_0x1b6745[0x1][_0xe03954(0x572)]+_0xe03954(0x915):_0xe03954(0xac2))+_0xe03954(0x5c9)+(_0x1b6745[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x20z-10\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x20animate-bounce\x22></i><p\x20class=\x22font-bold\x20text-3xl\x20truncate\x22>'+_0x1b6745[0x0][_0xe03954(0x689)]+_0xe03954(0x2fc)+_0x33a478(_0x1b6745[0x0])+_0xe03954(0x911)+_0x1b6745[0x0][_0xe03954(0x572)]+_0xe03954(0x915):_0xe03954(0xac2))+_0xe03954(0x5c9)+(_0x1b6745[0x2]?_0xe03954(0xc41)+_0x1b6745[0x2]['name']+_0xe03954(0x2fc)+_0x33a478(_0x1b6745[0x2])+_0xe03954(0xa93)+_0x1b6745[0x2]['displayRank']+_0xe03954(0x915):_0xe03954(0xac2))+_0xe03954(0xa9e)+_0x13bba0+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0xe03954(0x803)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':_0xe03954(0x6e5))+_0xe03954(0x6e1);liveGameView[_0xe03954(0x45b)]=_0x4fd47c,currentMode==='admin'?document[_0xe03954(0x7c7)]('close-game-final-btn')[_0xe03954(0xf03)](_0xe03954(0x2f0),async()=>{const _0x45ce6b=_0xe03954;let _0x622e5a;_0x4741fd==='sync'?_0x622e5a=doc(db,_0x45ce6b(0x2b7)+appId+'/public/data/syncGames',currentLiveGameId):_0x622e5a=doc(db,_0x45ce6b(0x2b7)+appId+_0x45ce6b(0xa57),currentLiveGameId),await deleteDoc(_0x622e5a);}):document[_0xe03954(0x7c7)](_0xe03954(0x921))?.[_0xe03954(0xf03)](_0xe03954(0x2f0),()=>{showView('student');});}function renderSyncSummaryView(_0x83bb2f,_0x519313,_0x39935e){const _0x3e4261=_0x4247b4,_0x403877=_0x83bb2f['gameVariant']||_0x3e4261(0x30c),_0x47103d=(_0x403877===_0x3e4261(0xd3a)||_0x403877===_0x3e4261(0xbe8))&&_0x83bb2f[_0x3e4261(0x33e)]===![],_0x43fe95=_0x403877===_0x3e4261(0x5fd)||_0x403877===_0x3e4261(0xbe8),_0x3ee30b=_0x83bb2f[_0x3e4261(0xeb8)]['questions'],_0x3561c3=_0x519313[_0x3e4261(0xf29)]||_0x83bb2f[_0x3e4261(0xeb8)][_0x3e4261(0xa71)],_0x4cff59=_0x3561c3===_0x3e4261(0xf11)||_0x3561c3===_0x3e4261(0x437);let _0xfb2490='';if(_0x4cff59){let _0x5542c5=0x0,_0x3a3293=0x0;const _0x3114d9=[],_0x4a59ec=[];Object[_0x3e4261(0xb54)](_0x83bb2f[_0x3e4261(0x5fa)]||{})[_0x3e4261(0x9fb)](([_0x26e907,_0x427df6])=>{const _0x1ff4e7=_0x3e4261,_0x3db0ca=(_0x427df6['answers']||[])[_0x1ff4e7(0x787)](_0x2a943a=>_0x2a943a[_0x1ff4e7(0xe6a)]===_0x83bb2f[_0x1ff4e7(0x89f)]);if(_0x427df6[_0x1ff4e7(0x55e)]!==_0x1ff4e7(0x6e9)&&_0x3db0ca){const _0x139c1a=_0x3db0ca[_0x1ff4e7(0x720)],_0xa026e0=_0x47103d?_0x83bb2f[_0x1ff4e7(0x2e2)][_0x26e907]||_0x1ff4e7(0xda3):_0x26e907;_0x3db0ca[_0x1ff4e7(0x697)]?(_0x5542c5++,_0x3114d9[_0x1ff4e7(0x82f)](_0xa026e0)):(_0x3a3293++,_0x4a59ec['push']('<span\x20class=\x22text-yellow-200\x20font-bold\x22>'+_0xa026e0+'</span>:\x20'+(_0x139c1a||_0x1ff4e7(0xb6e))));}}),_0xfb2490=_0x3e4261(0xc4c)+_0x5542c5+_0x3e4261(0x9f3)+(_0x3114d9[_0x3e4261(0x2d2)]>0x0?_0x3114d9[_0x3e4261(0x94c)](',\x20'):'-')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x3a3293+_0x3e4261(0x6fc)+(_0x4a59ec[_0x3e4261(0x2d2)]>0x0?_0x4a59ec[_0x3e4261(0x94c)](_0x3e4261(0x873)):'-')+_0x3e4261(0x284);}else{let _0x33003e=[];_0x3561c3===_0x3e4261(0x353)?_0x33003e=[_0x3e4261(0xe60),'ไม่ใช่\x20/\x20ผิด']:_0x33003e=_0x519313[_0x3e4261(0xb84)]||[];const _0x211d3f=new Array(_0x33003e['length'])['fill'](0x0),_0x2a33d9={};_0x33003e[_0x3e4261(0x9fb)]((_0x37d03d,_0x22be53)=>{_0x2a33d9[_0x22be53]=[];}),Object[_0x3e4261(0xb54)](_0x83bb2f[_0x3e4261(0x5fa)]||{})['forEach'](([_0x867268,_0x528577])=>{const _0x59f0a0=_0x3e4261,_0x3251e8=(_0x528577[_0x59f0a0(0xa92)]||[])['find'](_0x415a1d=>_0x415a1d[_0x59f0a0(0xe6a)]===_0x83bb2f[_0x59f0a0(0x89f)]);if(_0x528577[_0x59f0a0(0x55e)]!==_0x59f0a0(0x6e9)&&_0x3251e8&&_0x3251e8['answer']!==null){const _0x55b7a5=parseInt(_0x3251e8[_0x59f0a0(0xa76)]);if(!isNaN(_0x55b7a5)&&_0x2a33d9[_0x55b7a5]!==undefined){const _0x3935dc=_0x47103d?_0x83bb2f[_0x59f0a0(0x2e2)][_0x867268]||_0x59f0a0(0xda3):_0x867268;_0x2a33d9[_0x55b7a5][_0x59f0a0(0x82f)](_0x3935dc),_0x211d3f[_0x55b7a5]++;}}}),_0xfb2490=_0x3e4261(0x64d)+_0x211d3f['map']((_0x4c8003,_0x128bb5)=>{const _0x3b900c=_0x3e4261,_0x319dc5=_0x2a33d9[_0x128bb5][_0x3b900c(0x2d2)]>0x0?_0x2a33d9[_0x128bb5][_0x3b900c(0x94c)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้',_0x464abf=_0x3b900c(0xd10);return _0x3b900c(0x79f)+_0x4c8003+_0x3b900c(0xb3a)+_0x464abf+_0x3b900c(0x3d6)+_0x128bb5+_0x3b900c(0xaf7)+_0x33003e[_0x128bb5]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x128bb5+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>'+_0x319dc5+_0x3b900c(0xda7);})[_0x3e4261(0x94c)]('')+_0x3e4261(0x214);}let _0x4834f9='';const _0x2a0486=_0x83bb2f[_0x3e4261(0x89f)]>=_0x3ee30b[_0x3e4261(0x2d2)]-0x1;_0x39935e?_0x43fe95?_0x2a0486?_0x4834f9=_0x3e4261(0x798):_0x4834f9=_0x3e4261(0x85b):_0x4834f9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x43fe95?_0x4834f9='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>':_0x4834f9=_0x3e4261(0xafb);const _0x57999b=_0x39935e?'<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>'+_0x83bb2f[_0x3e4261(0xf62)]+'</strong></div>':'',_0x33688f=_0x3e4261(0xc78)+_0x57999b+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+(_0x519313[_0x3e4261(0x303)]||_0x519313['stem']||'')+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xfb2490+_0x3e4261(0x884)+_0x4834f9+_0x3e4261(0x3eb);liveGameView[_0x3e4261(0x45b)]=_0x33688f;if(window['MathJax'])MathJax[_0x3e4261(0xecc)]();if(_0x39935e){const _0xab3626=doc(db,_0x3e4261(0x2b7)+appId+_0x3e4261(0x9cd),currentLiveGameId);document[_0x3e4261(0x7c7)]('show-results-btn')?.['addEventListener'](_0x3e4261(0x2f0),async()=>{const _0x158066=_0x3e4261,_0xb6754b=Object[_0x158066(0x57b)](_0x83bb2f[_0x158066(0x5fa)]||{})[_0x158066(0xdeb)](_0x4de261=>({'name':_0x4de261[_0x158066(0x689)],'score':_0x4de261[_0x158066(0x494)]||0x0,'totalPoints':_0x4de261[_0x158066(0x8c7)]||0x0,'pointsLastRound':_0x4de261[_0x158066(0xe3a)]||0x0,'answers':_0x4de261['answers']||[],'correctStreak':_0x4de261[_0x158066(0xde6)]||0x0}));await updateDoc(_0xab3626,{'status':_0x158066(0x349),'publicLeaderboard':_0xb6754b});}),document[_0x3e4261(0x7c7)](_0x3e4261(0x29d))?.[_0x3e4261(0xf03)](_0x3e4261(0x2f0),()=>{openScratchpad(_0x519313,_0x519313['options']||[]);}),document[_0x3e4261(0x7c7)](_0x3e4261(0x41b))?.[_0x3e4261(0xf03)](_0x3e4261(0x2f0),async()=>{const _0x3e2d7b=_0x3e4261,_0x47207c=_0x83bb2f['currentQuestionIndex']+0x1;await updateDoc(_0xab3626,{'status':_0x3e2d7b(0x94b),'currentQuestionIndex':_0x47207c,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document[_0x3e4261(0x7c7)](_0x3e4261(0x9ac))?.[_0x3e4261(0xf03)](_0x3e4261(0x2f0),async()=>{const _0x51f077=_0x3e4261,_0x572853=Object[_0x51f077(0x57b)](_0x83bb2f[_0x51f077(0x5fa)]||{})[_0x51f077(0xdeb)](_0x508d47=>({'name':_0x508d47['name'],'score':_0x508d47['score']||0x0,'totalPoints':_0x508d47['totalPoints']||0x0,'pointsLastRound':_0x508d47['pointsLastRound']||0x0,'answers':_0x508d47[_0x51f077(0xa92)]||[],'correctStreak':_0x508d47[_0x51f077(0xde6)]||0x0}));await updateDoc(_0xab3626,{'status':_0x51f077(0x349),'reviewQuestionIndex':0x0,'publicLeaderboard':_0x572853});});}}function renderAnonymousStudentResultsView(_0x5df75d){const _0x54ef35=_0x4247b4,_0x8b0195=_0x5df75d[_0x54ef35(0x89f)]>=_0x5df75d[_0x54ef35(0xeb8)][_0x54ef35(0x99c)][_0x54ef35(0x2d2)]-0x1;let _0xfa9706='';if(_0x5df75d[_0x54ef35(0x33e)]===!![]){const _0x2cab0b=_0x5df75d[_0x54ef35(0x5fa)][localTeamPlayers[0x0]],_0x4346ff=_0x2cab0b[_0x54ef35(0x689)],_0x316b62=_0x2cab0b[_0x54ef35(0x494)];_0xfa9706='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>'+_0x4346ff+_0x54ef35(0x356)+_0x316b62+_0x54ef35(0xef4);}else _0xfa9706=_0x54ef35(0xcfc)+(_0x8b0195?_0x54ef35(0x4a3):_0x54ef35(0x28a))+_0x54ef35(0xe3b);const _0x27206c=_0x54ef35(0xba6)+_0xfa9706+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x54ef35(0x45b)]=_0x27206c;}async function handleShowStudentRankings(){const _0x4eaf26=_0x4247b4,_0xef2462=document['querySelector'](_0x4eaf26(0x9a9));_0xef2462&&(_0xef2462[_0x4eaf26(0x45b)]=_0x4eaf26(0xc37));const _0x4b17b6=document['querySelector']('#student-project-leaderboard-content\x20thead');_0x4b17b6&&(_0x4b17b6['innerHTML']=_0x4eaf26(0xa13));const _0x2e7aa7=document[_0x4eaf26(0x7c7)](_0x4eaf26(0x5da));_0x2e7aa7['classList'][_0x4eaf26(0xd11)](_0x4eaf26(0x845)),document[_0x4eaf26(0x7c7)](_0x4eaf26(0x2dd))[_0x4eaf26(0xb2b)]=()=>_0x2e7aa7[_0x4eaf26(0x457)][_0x4eaf26(0xea1)](_0x4eaf26(0x845));const _0x4a1138=document[_0x4eaf26(0x7c7)]('student-quiz-leaderboard-tab'),_0x5b4c63=document[_0x4eaf26(0x7c7)]('student-project-leaderboard-tab'),_0x18361c=document[_0x4eaf26(0x7c7)](_0x4eaf26(0x21a)),_0x336157=document[_0x4eaf26(0x7c7)](_0x4eaf26(0x370));_0x4a1138['onclick']=()=>{const _0x45d4ed=_0x4eaf26;_0x4a1138[_0x45d4ed(0x457)][_0x45d4ed(0xea1)](_0x45d4ed(0x3d0)),_0x5b4c63['classList'][_0x45d4ed(0xd11)]('active'),_0x18361c[_0x45d4ed(0x457)][_0x45d4ed(0xd11)]('hidden'),_0x336157[_0x45d4ed(0x457)][_0x45d4ed(0xea1)](_0x45d4ed(0x845));},_0x5b4c63[_0x4eaf26(0xb2b)]=()=>{const _0x26a4fb=_0x4eaf26;_0x5b4c63[_0x26a4fb(0x457)]['add']('active'),_0x4a1138[_0x26a4fb(0x457)][_0x26a4fb(0xd11)](_0x26a4fb(0x3d0)),_0x336157['classList']['remove'](_0x26a4fb(0x845)),_0x18361c['classList'][_0x26a4fb(0xea1)]('hidden');};try{const _0x5c4e83=collection(db,_0x4eaf26(0x2b7)+appId+_0x4eaf26(0xbe9)+currentQuizData['id']+_0x4eaf26(0x746)),_0xd78357=await getDocs(_0x5c4e83),_0x47ad47=_0xd78357[_0x4eaf26(0xd72)][_0x4eaf26(0xdeb)](_0x9061f7=>_0x9061f7['data']());renderQuizLeaderboard(_0x47ad47,currentQuizData,_0x4eaf26(0xb3c));const _0x134405=collection(db,_0x4eaf26(0x2b7)+appId+_0x4eaf26(0x40f)+currentQuizData[_0x4eaf26(0xf28)]+_0x4eaf26(0x4b5)),_0x4bf51d=await getDocs(_0x134405),_0x134fed=_0x4bf51d[_0x4eaf26(0xd72)]['map'](_0x2c0122=>_0x2c0122[_0x4eaf26(0xb86)]());renderLeaderboard(_0x134fed,_0x4eaf26(0x6b0));}catch(_0x299ec8){console['error'](_0x4eaf26(0x970),_0x299ec8),showMessage(_0x4eaf26(0xca8));}}async function handleSaveToBank(_0x5e8b0f){const _0x3b3173=_0x4247b4,_0x90f717=_0x5e8b0f[_0x3b3173(0x98d)],_0x359202=_0x90f717[_0x3b3173(0xefd)][_0x3b3173(0x32e)],_0x5db6ed=currentQuizData[_0x3b3173(0x99c)][_0x359202];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x34f580={..._0x5db6ed,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x452574=collection(db,_0x3b3173(0x2b7)+appId+_0x3b3173(0x405)+userId+'/questionBank');await addDoc(_0x452574,_0x34f580),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x90f717['classList'][_0x3b3173(0xd11)](_0x3b3173(0x3cd)),_0x90f717[_0x3b3173(0x457)][_0x3b3173(0xea1)](_0x3b3173(0xa33)),_0x90f717['disabled']=!![];}catch(_0x98adc0){console[_0x3b3173(0xd5b)]('Error\x20saving\x20to\x20question\x20bank:',_0x98adc0),showMessage(_0x3b3173(0x896));}}async function selectProjectAndGenerateBlueprintQuiz(_0x3f1e27,_0x4abb17=null,_0x4a71b2=null,_0x907f66=![]){const _0x1efb88=_0x4247b4;cameFromBlueprint=!![];const _0x1d0272=document[_0x1efb88(0x7c7)](_0x1efb88(0xb9a))?.['value']['trim']();let _0x49be64=null;if(_0x1d0272){showMessage('กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...');try{const _0x4ecb96=await fetchFileFromUrl(_0x1d0272,_0x1efb88(0x6a8)),_0xb8264e=await new Promise((_0x1d42b1,_0x40960c)=>{const _0x22b81b=_0x1efb88,_0x739777=new FileReader();_0x739777[_0x22b81b(0x6d9)](_0x4ecb96),_0x739777[_0x22b81b(0xdca)]=()=>_0x1d42b1(_0x739777[_0x22b81b(0xbc0)][_0x22b81b(0x4c6)](',')[0x1]),_0x739777[_0x22b81b(0xabb)]=_0x40960c;});_0x49be64=[{'inlineData':{'mimeType':_0x4ecb96[_0x1efb88(0x31f)],'data':_0xb8264e}}],messageModal[_0x1efb88(0x457)][_0x1efb88(0xea1)](_0x1efb88(0x845));}catch(_0x41c1b2){console['error'](_0x1efb88(0xf73),_0x41c1b2),showMessage(_0x1efb88(0x600));}}const _0x54c717=document[_0x1efb88(0x7c7)](_0x1efb88(0xb24)),_0x19299c=document[_0x1efb88(0x7c7)](_0x1efb88(0x41d)),_0x315d51=_0x54c717['querySelector']('h3'),_0x5ef408=document[_0x1efb88(0x7c7)](_0x1efb88(0x21d)),_0x46b028=document[_0x1efb88(0x7c7)](_0x1efb88(0xd3d));_0x315d51[_0x1efb88(0xb0c)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x5ef408['textContent']=_0x1efb88(0xa96),_0x5ef408['disabled']=!![];allProjects[_0x1efb88(0x2d2)]===0x0?_0x19299c[_0x1efb88(0x45b)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x19299c[_0x1efb88(0x45b)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects['map'](_0x4ae6fc=>_0x1efb88(0x685)+_0x4ae6fc['id']+'\x22>'+_0x4ae6fc[_0x1efb88(0x8ff)]+_0x1efb88(0xdaf))[_0x1efb88(0x94c)](''),_0x5ef408[_0x1efb88(0x766)]=![]);_0x54c717[_0x1efb88(0x457)][_0x1efb88(0xd11)](_0x1efb88(0x845));const _0x26973b=async()=>{const _0x4622ae=_0x1efb88,_0x394096=_0x19299c['value'];if(!_0x394096){showMessage(_0x4622ae(0x2d1));return;}_0x54c717[_0x4622ae(0x457)][_0x4622ae(0xea1)](_0x4622ae(0x845)),document[_0x4622ae(0x7c7)](_0x4622ae(0xd5d))['classList'][_0x4622ae(0xea1)](_0x4622ae(0x845)),await loadProjectDetails(_0x394096),showView(_0x4622ae(0x69d)),handleGenerateQuizFromBlueprintTopic(_0x3f1e27,_0x4abb17,_0x394096,_0x4a71b2,_0x907f66,_0x49be64),_0x5ebf6b();},_0x5ebf6b=()=>{const _0x503ba7=_0x1efb88;_0x315d51[_0x503ba7(0xb0c)]=_0x503ba7(0x86e),_0x5ef408[_0x503ba7(0xb0c)]='ย้าย',_0x5ef408[_0x503ba7(0x808)](_0x503ba7(0x2f0),_0x26973b),_0x46b028[_0x503ba7(0x808)](_0x503ba7(0x2f0),_0x5ebf6b),_0x5ef408[_0x503ba7(0xf03)]('click',confirmMoveQuiz);};_0x5ef408[_0x1efb88(0x808)]('click',confirmMoveQuiz),_0x5ef408[_0x1efb88(0xf03)](_0x1efb88(0x2f0),_0x26973b),_0x46b028[_0x1efb88(0xf03)](_0x1efb88(0x2f0),_0x5ebf6b);}function listenForStarredQuizzes(){const _0x535b1b=_0x4247b4;if(!userId)return;const _0x37e4d3=collection(db,_0x535b1b(0x2b7)+appId+_0x535b1b(0xa8b)),_0x10ba48=query(_0x37e4d3,where(_0x535b1b(0x765),'==',!![]));onSnapshot(_0x10ba48,_0x44e998=>{const _0x257e09=_0x535b1b;starredQuizzes=_0x44e998['docs'][_0x257e09(0xdeb)](_0x23b3f9=>({'id':_0x23b3f9['id'],..._0x23b3f9[_0x257e09(0xb86)]()})),currentProjectId===_0x257e09(0x817)?renderQuizzes():renderProjects();},_0x33a84b=>{const _0x19410c=_0x535b1b;console[_0x19410c(0xd5b)](_0x19410c(0x888),_0x33a84b);});}function listenForFileShortcuts(){const _0x4889cb=_0x4247b4,_0x504fe4=doc(db,_0x4889cb(0x3ea),_0x4889cb(0xdf8));onSnapshot(_0x504fe4,_0x121b8b=>{const _0xa9b896=_0x4889cb;let _0x3711cb=[],_0x18cd8f=[],_0x1ec189={};if(_0x121b8b[_0xa9b896(0x971)]()){const _0x590bc3=_0x121b8b[_0xa9b896(0xb86)]();_0x3711cb=_0x590bc3[_0xa9b896(0xf47)]||[],_0x18cd8f=_0x590bc3[_0xa9b896(0x293)]||[],_0x1ec189=_0x590bc3[_0xa9b896(0x205)]||{};}!_0x18cd8f[_0xa9b896(0x787)](_0x21b84b=>_0x21b84b['id']===_0xa9b896(0x8a9))&&_0x18cd8f[_0xa9b896(0xc24)]({'id':_0xa9b896(0x8a9),'name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0x3711cb[_0xa9b896(0x787)](_0x462fcb=>_0x462fcb['id']===_0xa9b896(0xf10))&&_0x3711cb[_0xa9b896(0xc24)]({'id':'file-default-1','name':'ไฟล์ลัด\x201','url':'','isDefault':!![]}),!_0x3711cb['find'](_0x3375c4=>_0x3375c4['id']===_0xa9b896(0xce1))&&_0x3711cb['unshift']({'id':_0xa9b896(0xce1),'name':'ไฟล์ลัด\x202','url':'','isDefault':!![]}),fileShortcuts=_0x3711cb,fileShortcutTabs=_0x18cd8f,fileShortcutOrder=_0x1ec189,renderFileShortcuts(),!document[_0xa9b896(0x7c7)](_0xa9b896(0xde5))[_0xa9b896(0x457)][_0xa9b896(0xcc7)](_0xa9b896(0x845))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0xa10593=_0x4247b4,_0x2b1cf8=doc(db,_0xa10593(0x3ea),_0xa10593(0xdf8));try{await setDoc(_0x2b1cf8,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x1966a6){console[_0xa10593(0xd5b)](_0xa10593(0xa01),_0x1966a6);}}function renderAdditionalFileShortcutsModal(){const _0x46c7fa=_0x4247b4,_0x3671f8=document[_0x46c7fa(0x7c7)](_0x46c7fa(0xf71)),_0x77589c=document[_0x46c7fa(0x7c7)]('additional-file-shortcuts-list');if(!_0x3671f8||!_0x77589c)return;_0x3671f8[_0x46c7fa(0x45b)]=fileShortcutTabs[_0x46c7fa(0xdeb)](_0x22e15e=>{const _0x407ec8=_0x46c7fa,_0x30b039=_0x22e15e['id']===activeFileShortcutTabId;return _0x407ec8(0xd18)+_0x22e15e['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x30b039?'border-indigo-500\x20text-indigo-600':_0x407ec8(0xd15))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x22e15e[_0x407ec8(0x689)]+_0x407ec8(0xc45)+_0x22e15e['name']+_0x407ec8(0x65a)+(!_0x22e15e[_0x407ec8(0x993)]?_0x407ec8(0x27d)+_0x22e15e['id']+'\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x407ec8(0xf4a);})['join']('');const _0x5bac34=fileShortcutTabs[_0x46c7fa(0x787)](_0x4cd936=>_0x4cd936['id']===activeFileShortcutTabId);let _0x854e4c=_0x5bac34?.[_0x46c7fa(0x993)]?[...fileShortcuts]:fileShortcuts[_0x46c7fa(0x498)](_0x4064ea=>(_0x5bac34?.[_0x46c7fa(0x4a4)]||[])[_0x46c7fa(0xba0)](_0x4064ea['id']));const _0x22425c=fileShortcutOrder[activeFileShortcutTabId]||[];_0x854e4c['sort']((_0x27b279,_0x449cb3)=>{const _0x11abb7=_0x22425c['indexOf'](_0x27b279['id']),_0xf1c517=_0x22425c['indexOf'](_0x449cb3['id']);return(_0x11abb7===-0x1?Infinity:_0x11abb7)-(_0xf1c517===-0x1?Infinity:_0xf1c517);}),_0x77589c[_0x46c7fa(0x45b)]=_0x854e4c['map'](_0x3d4896=>{const _0x19add6=_0x46c7fa,_0xf0379e=_0x3d4896['url']?'📄':'🔗',_0x1543d6=fileShortcutTabs[_0x19add6(0x498)](_0x4320b1=>!_0x4320b1[_0x19add6(0x993)]),_0x3837bd=_0x5bac34['isDefault']&&_0x1543d6[_0x19add6(0x2d2)]>0x0?_0x19add6(0x4e4)+_0x1543d6['map'](_0x50e735=>_0x19add6(0x9ba)+_0x3d4896['id']+'\x22\x20data-target-tab-id=\x22'+_0x50e735['id']+'\x22>'+_0x50e735['name']+_0x19add6(0x4c8))[_0x19add6(0x94c)]('')+_0x19add6(0xd3e):'';return _0x19add6(0xf1f)+_0x3d4896['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0xf0379e+'\x20'+_0x3d4896['name']+_0x19add6(0x440)+_0x3d4896['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3d4896['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3d4896['isDefault']?_0x19add6(0xe9c)+_0x3d4896['id']+_0x19add6(0xb6b):'')+_0x19add6(0xc57)+(!_0x5bac34[_0x19add6(0x993)]?_0x19add6(0xaaa)+_0x3d4896['id']+_0x19add6(0x304):'')+_0x19add6(0xc57)+_0x3837bd+_0x19add6(0x372);})['join']('')||_0x46c7fa(0x905),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x147a82=_0x4247b4;document[_0x147a82(0xf52)](_0x147a82(0xc01))[_0x147a82(0x9fb)](_0x15b1e6=>{const _0x1d7f02=_0x147a82;_0x15b1e6[_0x1d7f02(0xb2b)]=_0x5e4bb1=>{const _0x196c63=_0x1d7f02;activeFileShortcutTabId=_0x5e4bb1[_0x196c63(0x98d)][_0x196c63(0xefd)][_0x196c63(0x891)],renderAdditionalFileShortcutsModal();},_0x15b1e6[_0x1d7f02(0x7db)]=_0x4aede3=>{const _0x348ca2=_0x1d7f02,_0x4888dc=_0x4aede3[_0x348ca2(0x98d)]['querySelector'](_0x348ca2(0xcf8));_0x4aede3[_0x348ca2(0x98d)]['querySelector']('.tab-name-display')[_0x348ca2(0x457)][_0x348ca2(0xea1)]('hidden'),_0x4888dc[_0x348ca2(0x457)][_0x348ca2(0xd11)](_0x348ca2(0x845)),_0x4888dc['focus'](),_0x4888dc[_0x348ca2(0xbb3)]();};}),document[_0x147a82(0xf52)](_0x147a82(0xc6a))[_0x147a82(0x9fb)](_0x27de4d=>{const _0x3b92fb=_0x147a82,_0x4796a7=()=>{const _0x2f473b=_0xc03a,_0x28be5d=_0x27de4d[_0x2f473b(0x5bf)](_0x2f473b(0xc01))[_0x2f473b(0xefd)][_0x2f473b(0x891)],_0x1faeb7=fileShortcutTabs[_0x2f473b(0x787)](_0x43cbed=>_0x43cbed['id']===_0x28be5d);_0x1faeb7&&(_0x1faeb7[_0x2f473b(0x689)]=_0x27de4d[_0x2f473b(0xc66)]['trim']()||_0x1faeb7[_0x2f473b(0x689)],saveFileShortcutConfig());};_0x27de4d[_0x3b92fb(0x931)]=_0x4796a7,_0x27de4d['onkeydown']=_0x4283c3=>{const _0x4b8810=_0x3b92fb;if(_0x4283c3[_0x4b8810(0xd1c)]==='Enter')_0x27de4d[_0x4b8810(0xa12)]();};}),document[_0x147a82(0xf52)]('.delete-file-shortcut-tab-btn')[_0x147a82(0x9fb)](_0x757cdf=>_0x757cdf['onclick']=_0x27e51e=>{const _0x13f679=_0x147a82,_0x590d5b=_0x27e51e[_0x13f679(0x98d)]['dataset'][_0x13f679(0x891)];showConfirmation(_0x13f679(0x91e),()=>{const _0x1a88fb=_0x13f679;fileShortcutTabs=fileShortcutTabs[_0x1a88fb(0x498)](_0x1800e1=>_0x1800e1['id']!==_0x590d5b),delete fileShortcutOrder[_0x590d5b];if(activeFileShortcutTabId===_0x590d5b)activeFileShortcutTabId=_0x1a88fb(0x8a9);saveFileShortcutConfig();});}),document[_0x147a82(0xf52)](_0x147a82(0xc93))[_0x147a82(0x9fb)](_0x2b95c7=>_0x2b95c7[_0x147a82(0xb2b)]=_0x14c7bd=>{const _0x56b329=_0x147a82;_0x14c7bd[_0x56b329(0x375)]();const {shortcutId:_0x42cb3f,targetTabId:_0x36d88c}=_0x14c7bd[_0x56b329(0x98d)][_0x56b329(0xefd)],_0x39d082=fileShortcutTabs['find'](_0x3261da=>_0x3261da['id']===_0x36d88c);_0x39d082&&!_0x39d082[_0x56b329(0x4a4)][_0x56b329(0xba0)](_0x42cb3f)&&(_0x39d082[_0x56b329(0x4a4)]['push'](_0x42cb3f),saveFileShortcutConfig());}),document['querySelectorAll'](_0x147a82(0xdf5))['forEach'](_0x1a841f=>_0x1a841f[_0x147a82(0xb2b)]=_0x49c9af=>{const _0x580111=_0x147a82,_0x5a07da=_0x49c9af[_0x580111(0x98d)]['dataset'][_0x580111(0x23d)],_0x5fc071=fileShortcutTabs[_0x580111(0x787)](_0x50626a=>_0x50626a['id']===activeFileShortcutTabId);_0x5fc071&&!_0x5fc071[_0x580111(0x993)]&&(_0x5fc071['shortcutIds']=_0x5fc071[_0x580111(0x4a4)][_0x580111(0x498)](_0x25c96c=>_0x25c96c!==_0x5a07da),saveFileShortcutConfig());}),document[_0x147a82(0xf52)]('.move-file-shortcut-menu-btn')[_0x147a82(0x9fb)](_0x483efd=>_0x483efd[_0x147a82(0xb2b)]=_0x531826=>{const _0x4b4e17=_0x147a82;_0x531826[_0x4b4e17(0xdac)]();const _0xb6100f=_0x531826[_0x4b4e17(0x98d)][_0x4b4e17(0x453)];document[_0x4b4e17(0xf52)]('.move-file-shortcut-dropdown')[_0x4b4e17(0x9fb)](_0x87450e=>_0x87450e[_0x4b4e17(0x457)][_0x4b4e17(0xea1)]('hidden')),_0xb6100f[_0x4b4e17(0x457)][_0x4b4e17(0xd11)]('hidden');});const _0x1a1f84=document[_0x147a82(0x7c7)](_0x147a82(0xd8d));let _0x4f9b4e=null;_0x1a1f84[_0x147a82(0x9f7)]=_0x30d943=>{const _0x4ec212=_0x147a82;_0x4f9b4e=_0x30d943[_0x4ec212(0xcbd)][_0x4ec212(0x5bf)]('.shortcut-list-item');if(_0x4f9b4e)setTimeout(()=>_0x4f9b4e[_0x4ec212(0x457)]['add'](_0x4ec212(0x34f)),0x0);},_0x1a1f84[_0x147a82(0xae9)]=()=>{const _0x441eed=_0x147a82;_0x4f9b4e&&(_0x4f9b4e[_0x441eed(0x457)][_0x441eed(0xd11)]('opacity-50'),_0x4f9b4e=null);},_0x1a1f84[_0x147a82(0xefc)]=_0x5ecc91=>{const _0x5ec4ca=_0x147a82;_0x5ecc91[_0x5ec4ca(0x375)]();},_0x1a1f84[_0x147a82(0x6af)]=_0x1f5fd7=>{const _0x4ada3a=_0x147a82;_0x1f5fd7[_0x4ada3a(0x375)]();if(_0x4f9b4e){const _0x3f0872=[..._0x1a1f84[_0x4ada3a(0xf52)](_0x4ada3a(0x3cb))][_0x4ada3a(0x382)]((_0x19b868,_0x918b13)=>{const _0x338087=_0x4ada3a,_0x3e9dd4=_0x918b13[_0x338087(0x5db)](),_0x2097c1=_0x1f5fd7[_0x338087(0x6d7)]-_0x3e9dd4[_0x338087(0xe31)]-_0x3e9dd4[_0x338087(0x625)]/0x2;return _0x2097c1<0x0&&_0x2097c1>_0x19b868[_0x338087(0x273)]?{'offset':_0x2097c1,'element':_0x918b13}:_0x19b868;},{'offset':Number[_0x4ada3a(0x698)]})[_0x4ada3a(0x95b)];_0x3f0872==null?_0x1a1f84[_0x4ada3a(0xccc)](_0x4f9b4e):_0x1a1f84[_0x4ada3a(0xc8d)](_0x4f9b4e,_0x3f0872);const _0x8f3723=[..._0x1a1f84[_0x4ada3a(0xf52)](_0x4ada3a(0xf18))]['map'](_0x2f639f=>_0x2f639f['dataset'][_0x4ada3a(0x23d)]);fileShortcutOrder[activeFileShortcutTabId]=_0x8f3723,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x4cedda=_0x4247b4,_0x490828=prompt(_0x4cedda(0x580),_0x4cedda(0xf27));_0x490828&&_0x490828[_0x4cedda(0xba3)]()&&(fileShortcutTabs[_0x4cedda(0x82f)]({'id':_0x4cedda(0x35b)+Date[_0x4cedda(0x5f5)](),'name':_0x490828['trim'](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x55851b=_0x4247b4,_0x71920=document[_0x55851b(0x7c7)](_0x55851b(0x2d8)),_0x43a8e3=document['getElementById'](_0x55851b(0xd8d)),_0x4a9227=document[_0x55851b(0x7c7)](_0x55851b(0xb61));if(_0x4a9227)_0x4a9227[_0x55851b(0x457)][_0x55851b(0xea1)]('hidden');if(!_0x71920||!_0x43a8e3)return;const _0x3d8b83=fileShortcuts[_0x55851b(0x68d)](0x0,0x4),_0x47503d=fileShortcuts[_0x55851b(0x68d)](0x4);_0x71920[_0x55851b(0x45b)]=_0x3d8b83[_0x55851b(0xdeb)](_0x3a716a=>{const _0x372ae6=_0x55851b,_0x4b4865=_0x3a716a['url']&&_0x3a716a[_0x372ae6(0xa2a)]['trim']()!=='',_0x49af9f=selectedFile&&selectedFile['shortcutId']===_0x3a716a['id'];let _0x40239a=_0x372ae6(0xca7),_0x29aa51='🔗';if(_0x49af9f)_0x40239a=_0x372ae6(0x301),_0x29aa51=_0x372ae6(0xdb6);else _0x4b4865&&(_0x40239a=_0x372ae6(0xaa0),_0x29aa51='📄');const _0x97ddfb=!_0x3a716a[_0x372ae6(0x993)]?_0x372ae6(0xe9c)+_0x3a716a['id']+'\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x372ae6(0x6b8)+_0x3a716a['id']+_0x372ae6(0xac4)+_0x40239a+_0x372ae6(0x475)+_0x29aa51+_0x372ae6(0x8e8)+_0x3a716a[_0x372ae6(0x689)]+_0x372ae6(0xe57)+_0x3a716a['id']+_0x372ae6(0xe5d)+_0x97ddfb+_0x372ae6(0x909);})[_0x55851b(0x94c)](''),_0x47503d[_0x55851b(0x2d2)]>0x0&&(_0x71920[_0x55851b(0x45b)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x47503d[_0x55851b(0x2d2)]>0x0?_0x43a8e3[_0x55851b(0x45b)]=_0x47503d['map'](_0x1121a7=>_0x55851b(0xf0d)+(_0x1121a7['url']?'📄':'🔗')+'\x20'+_0x1121a7[_0x55851b(0x689)]+_0x55851b(0x315)+_0x1121a7['id']+_0x55851b(0x82d)+_0x1121a7['id']+_0x55851b(0x76f)+(!_0x1121a7[_0x55851b(0x993)]?_0x55851b(0xe9c)+_0x1121a7['id']+_0x55851b(0xb6b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''):_0x43a8e3['innerHTML']=_0x55851b(0x71a);}function openFileShortcutEditor(_0x196ce3=null){const _0x12279c=_0x4247b4,_0x2d3121=document[_0x12279c(0x7c7)]('file-shortcut-editor-modal'),_0x1a5bf1=document['getElementById'](_0x12279c(0xd8e)),_0x565b2a=document['getElementById'](_0x12279c(0xda0)),_0x24210d=document[_0x12279c(0x7c7)](_0x12279c(0x850)),_0x17b3aa=document[_0x12279c(0x7c7)]('file-shortcut-url-input');if(_0x196ce3){const _0x29980f=fileShortcuts[_0x12279c(0x787)](_0x16acb6=>_0x16acb6['id']===_0x196ce3);if(!_0x29980f)return;_0x1a5bf1[_0x12279c(0xb0c)]='แก้ไขปุ่มลัดจากไฟล์',_0x565b2a[_0x12279c(0xc66)]=_0x29980f['id'],_0x24210d[_0x12279c(0xc66)]=_0x29980f['name'],_0x17b3aa['value']=_0x29980f['url']||'';}else _0x1a5bf1[_0x12279c(0xb0c)]=_0x12279c(0xde8),_0x565b2a[_0x12279c(0xc66)]='',_0x24210d[_0x12279c(0xc66)]='',_0x17b3aa['value']='';_0x2d3121['classList'][_0x12279c(0xd11)](_0x12279c(0x845));}async function saveFileShortcutChanges(){const _0x124943=_0x4247b4,_0x47bc0f=document['getElementById'](_0x124943(0xda0))[_0x124943(0xc66)],_0x96b2c2=document[_0x124943(0x7c7)]('file-shortcut-name-input')['value'][_0x124943(0xba3)](),_0x442c26=document[_0x124943(0x7c7)](_0x124943(0x275))[_0x124943(0xc66)][_0x124943(0xba3)]();if(!_0x96b2c2){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x16412e={'id':_0x47bc0f||_0x124943(0xc50)+Date[_0x124943(0x5f5)](),'name':_0x96b2c2,'url':_0x442c26,'isDefault':_0x47bc0f['startsWith'](_0x124943(0xe07))};let _0x30e0d6;_0x47bc0f?_0x30e0d6=fileShortcuts[_0x124943(0xdeb)](_0x3af876=>_0x3af876['id']===_0x47bc0f?_0x16412e:_0x3af876):_0x30e0d6=[...fileShortcuts,_0x16412e];try{const _0x3e79fd=doc(db,_0x124943(0x3ea),_0x124943(0xdf8));await setDoc(_0x3e79fd,{'shortcuts':_0x30e0d6},{'merge':!![]}),document[_0x124943(0x7c7)](_0x124943(0xcda))[_0x124943(0x457)][_0x124943(0xea1)](_0x124943(0x845));}catch(_0x14977e){console[_0x124943(0xd5b)](_0x124943(0x923),_0x14977e),showMessage(_0x124943(0x896));}}async function handleFileShortcutClick(_0x2efca4){const _0x5c9f5a=_0x4247b4,_0x2310d8=fileShortcuts[_0x5c9f5a(0x787)](_0x1f89f2=>_0x1f89f2['id']===_0x2efca4);if(!_0x2310d8)return;if(!_0x2310d8['url']||_0x2310d8['url'][_0x5c9f5a(0xba3)]()===''){openFileShortcutEditor(_0x2efca4);return;}const _0x3c0413=document[_0x5c9f5a(0x79b)](_0x5c9f5a(0x54e)+_0x2efca4+'\x22]');if(_0x3c0413){const _0x371458=_0x3c0413['innerHTML'];_0x3c0413[_0x5c9f5a(0x45b)]=_0x5c9f5a(0x513),_0x3c0413[_0x5c9f5a(0x766)]=!![];}document[_0x5c9f5a(0xf52)](_0x5c9f5a(0xc95))[_0x5c9f5a(0x9fb)](_0x31d4ac=>{const _0x4e01ca=_0x5c9f5a;if(_0x31d4ac['dataset']['id']!==_0x2efca4)_0x31d4ac['classList']['add'](_0x4e01ca(0x34f),_0x4e01ca(0x2eb));});try{const _0xce0d6e=new URL(_0x2310d8[_0x5c9f5a(0xa2a)])[_0x5c9f5a(0x6b7)],_0x326d27=_0xce0d6e[_0x5c9f5a(0x49d)](_0xce0d6e[_0x5c9f5a(0xec5)]('/')+0x1)||(_0x2310d8[_0x5c9f5a(0xa2a)]['includes'](_0x5c9f5a(0xd48))?'file.txt':_0x5c9f5a(0xdb1)),_0x16f83f=await fetchFileFromUrl(_0x2310d8[_0x5c9f5a(0xa2a)],_0x326d27);_0x16f83f[_0x5c9f5a(0x23d)]=_0x2efca4,selectedFile=_0x16f83f,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document['getElementById'](_0x5c9f5a(0x211))['scrollIntoView']({'behavior':_0x5c9f5a(0xb5e),'block':_0x5c9f5a(0x87e)});}catch(_0x467095){console[_0x5c9f5a(0xd5b)](_0x5c9f5a(0x991),_0x467095),showMessage(_0x5c9f5a(0xb5c)+_0x467095[_0x5c9f5a(0x725)]),renderFileShortcuts();}finally{document[_0x5c9f5a(0xf52)](_0x5c9f5a(0xc95))[_0x5c9f5a(0x9fb)](_0x7f7caa=>{const _0x4bba5c=_0x5c9f5a;_0x7f7caa[_0x4bba5c(0x457)][_0x4bba5c(0xd11)](_0x4bba5c(0x34f),_0x4bba5c(0x2eb)),_0x7f7caa['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x2db6dc=_0x4247b4;if(allQuizzesGlobal[_0x2db6dc(0x2d2)]>0x0)return;console['log'](_0x2db6dc(0x22f)),showMessage(_0x2db6dc(0x510));try{const _0x3669cd=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x3669cd[_0x2db6dc(0xd72)][_0x2db6dc(0xdeb)](_0x43431d=>({'id':_0x43431d['id'],..._0x43431d[_0x2db6dc(0xb86)]()})),console['log']('Loaded\x20'+allQuizzesGlobal['length']+'\x20quizzes\x20into\x20global\x20cache.'),messageModal[_0x2db6dc(0x457)][_0x2db6dc(0xea1)]('hidden');}catch(_0x2b7378){console[_0x2db6dc(0xd5b)](_0x2db6dc(0xbb0),_0x2b7378),messageModal[_0x2db6dc(0x457)][_0x2db6dc(0xea1)](_0x2db6dc(0x845));throw new Error(_0x2db6dc(0x6ab));}}function exportQuizAsWorksheetPDF(){const _0x36a2cb=_0x4247b4;if(!currentQuizData||!currentQuizData[_0x36a2cb(0x99c)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x1b7fe0=currentQuizData,_0x3d971f=window[_0x36a2cb(0x1f5)]('',_0x36a2cb(0x4c9)),_0x22e8a9=_0x2f61a7=>String[_0x36a2cb(0xc3a)](0x41+_0x2f61a7),_0x4e2abe=_0x36a2cb(0x99d)+_0x1b7fe0['topic']+_0x36a2cb(0xe13)+_0x1b7fe0[_0x36a2cb(0x6b2)]+_0x36a2cb(0xad4)+_0x1b7fe0[_0x36a2cb(0x99c)][_0x36a2cb(0xdeb)]((_0x2d1cb3,_0x245e0c)=>{const _0x4058a0=_0x36a2cb;let _0x450554='';const _0x243598=_0x2d1cb3[_0x4058a0(0xf29)]||_0x1b7fe0['quizType'];switch(_0x243598){case _0x4058a0(0x7fe):case _0x4058a0(0x848):_0x450554=_0x4058a0(0x892)+_0x2d1cb3['options'][_0x4058a0(0xdeb)]((_0x57dfd3,_0x131212)=>_0x4058a0(0xc80)+_0x22e8a9(_0x131212)+'.\x20'+_0x57dfd3+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4058a0(0x94c)](_0x4058a0(0x873))+_0x4058a0(0x745);break;case'true_false':_0x450554=_0x4058a0(0x908);break;default:_0x450554=_0x4058a0(0x38b);break;}return _0x4058a0(0x7b6)+(_0x245e0c+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x2d1cb3[_0x4058a0(0x203)]||_0x2d1cb3[_0x4058a0(0x303)])+_0x4058a0(0x3e6)+(_0x2d1cb3[_0x4058a0(0x601)]?'<div\x20class=\x22my-2\x22>'+_0x2d1cb3[_0x4058a0(0x601)]+_0x4058a0(0x745):'')+_0x4058a0(0x40e)+_0x450554+_0x4058a0(0x1ec);})[_0x36a2cb(0x94c)]('')+_0x36a2cb(0x692);_0x3d971f['document'][_0x36a2cb(0xf02)](_0x4e2abe),_0x3d971f[_0x36a2cb(0x571)][_0x36a2cb(0x878)](),_0x3d971f[_0x36a2cb(0xdca)]=function(){setTimeout(()=>{_0x3d971f['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x501aa0=_0x4247b4;if(!currentQuizData||!currentQuizData[_0x501aa0(0x99c)]){showMessage(_0x501aa0(0xece));return;}const _0xbad878=currentQuizData,_0x521f96=window[_0x501aa0(0x1f5)]('','_blank'),_0x3bc72d=_0x4a6996=>String[_0x501aa0(0xc3a)](0x41+_0x4a6996),_0x4f69b9=_0x501aa0(0xb1e)+_0xbad878[_0x501aa0(0x6b2)]+_0x501aa0(0x8b4)+_0xbad878[_0x501aa0(0x99c)]['map']((_0x2fabc3,_0x48b5a7)=>{const _0x282ae6=_0x501aa0;let _0x302a93='';const _0x5dab43=_0x2fabc3['questionType']||_0xbad878[_0x282ae6(0xa71)];switch(_0x5dab43){case'multiple_choice':case _0x282ae6(0x848):_0x302a93='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x2fabc3['options'][_0x282ae6(0xdeb)]((_0x45c773,_0x3626c6)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3bc72d(_0x3626c6)+'.\x20'+_0x45c773+'</span>')['join']('<br>')+_0x282ae6(0x89d);break;case _0x282ae6(0x353):_0x302a93=_0x282ae6(0x217);break;default:_0x302a93='';break;}return _0x282ae6(0xb7f)+_0xbad878[_0x282ae6(0x6b2)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0x48b5a7+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x2fabc3[_0x282ae6(0x203)]||_0x2fabc3[_0x282ae6(0x303)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2fabc3[_0x282ae6(0x601)]?_0x282ae6(0x590)+_0x2fabc3[_0x282ae6(0x601)]+_0x282ae6(0x745):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x302a93+_0x282ae6(0x8f4);})[_0x501aa0(0x94c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x521f96[_0x501aa0(0x571)][_0x501aa0(0xf02)](_0x4f69b9),_0x521f96[_0x501aa0(0x571)]['close'](),_0x521f96[_0x501aa0(0xdca)]=function(){setTimeout(()=>{_0x521f96['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x2c46ba){const _0x353e79=_0x4247b4,_0x59d15a=doc(db,_0x353e79(0x2b7)+appId+_0x353e79(0xa8b),_0x2c46ba);try{const _0x2676dc=await getDoc(_0x59d15a);if(_0x2676dc[_0x353e79(0x971)]()){const _0x7f3569=_0x2676dc[_0x353e79(0xb86)]()[_0x353e79(0x765)]||![];await updateDoc(_0x59d15a,{'isStarred':!_0x7f3569});}}catch(_0x3485c3){console['error'](_0x353e79(0xd92),_0x3485c3),showMessage(_0x353e79(0x41c));}}async function displayQuestionBank(){const _0x19c338=_0x4247b4,_0x120511=document[_0x19c338(0x7c7)](_0x19c338(0x792));_0x120511[_0x19c338(0x45b)]=_0x19c338(0x30e);try{const _0x30337f=collection(db,_0x19c338(0x2b7)+appId+_0x19c338(0x405)+userId+_0x19c338(0x8a6)),_0x2518ac=query(_0x30337f),_0x3b3e14=await getDocs(_0x2518ac);if(_0x3b3e14['empty']){_0x120511[_0x19c338(0x45b)]=_0x19c338(0xa9f);return;}let _0x2aa8b6=_0x3b3e14[_0x19c338(0xd72)][_0x19c338(0xdeb)](_0x54a86d=>{const _0x22693d=_0x19c338,_0x180ad9=_0x54a86d[_0x22693d(0xb86)](),_0x232d7d=_0x54a86d['id'];return _0x22693d(0x62c)+JSON[_0x22693d(0xe71)](_0x180ad9)+_0x22693d(0x452)+(_0x180ad9[_0x22693d(0x303)]||_0x180ad9['stem'])+_0x22693d(0x785)+_0x180ad9['originalTopic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x19c338(0x94c)]('');_0x120511[_0x19c338(0x45b)]=_0x19c338(0xb9f)+_0x2aa8b6+_0x19c338(0xec4),document[_0x19c338(0x7c7)](_0x19c338(0xac5))['addEventListener'](_0x19c338(0x2f0),createQuizFromBank);}catch(_0x320751){console[_0x19c338(0xd5b)](_0x19c338(0xe6c),_0x320751),_0x120511[_0x19c338(0x45b)]=_0x19c338(0x280);}}async function handleExportLessonToPDF(){const _0x234502=_0x4247b4,_0x557542=document[_0x234502(0x7c7)](_0x234502(0x238)),_0xceeb4b=document['getElementById'](_0x234502(0x982))['textContent']||_0x234502(0x87b);if(!_0x557542){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0x4fc021=window[_0x234502(0x1f5)]('',_0x234502(0x4c9)),_0x1baf26=_0x234502(0x94f)+_0xceeb4b+_0x234502(0xaa6)+_0xceeb4b+_0x234502(0x9e7)+_0x557542['innerHTML']+_0x234502(0x703);_0x4fc021[_0x234502(0x571)][_0x234502(0xf02)](_0x1baf26),_0x4fc021['document'][_0x234502(0x878)](),_0x4fc021[_0x234502(0xdca)]=function(){setTimeout(()=>{const _0x24857c=_0xc03a;_0x4fc021[_0x24857c(0xccd)]();},0x7d0);};}function showAdminLiveQuestionView(_0x4a6012,_0x1d8ce1,_0x3d85ef){const _0x3f4ab3=_0x4247b4,_0x21cd44=_0x4a6012['questionType']||currentQuizData['quizType'];let _0x3c31c2='';if(_0x21cd44===_0x3f4ab3(0x7fe)||_0x21cd44===_0x3f4ab3(0x353)){const _0x5c66f5=_0x21cd44===_0x3f4ab3(0x353)?[_0x3f4ab3(0x3e4),_0x3f4ab3(0x811)]:_0x4a6012[_0x3f4ab3(0xb84)],_0x3f719e=_0x21cd44===_0x3f4ab3(0x353)?_0x4a6012[_0x3f4ab3(0xd0d)]?0x0:0x1:_0x4a6012[_0x3f4ab3(0xc6f)];_0x3c31c2=_0x5c66f5['map']((_0x2f3351,_0x5a4b34)=>_0x3f4ab3(0x2b3)+(_0x5a4b34===_0x3f719e)+_0x3f4ab3(0xadc)+_0x2f3351+_0x3f4ab3(0x909))['join']('');}else{if(_0x21cd44===_0x3f4ab3(0x39f)){const _0x4e6962=_0x4a6012['allResponses']||[];_0x3c31c2=_0x4e6962[_0x3f4ab3(0xdeb)](_0x19fd50=>_0x3f4ab3(0x2b3)+(_0x19fd50===_0x4a6012[_0x3f4ab3(0x36d)])+_0x3f4ab3(0xadc)+_0x19fd50+_0x3f4ab3(0x909))[_0x3f4ab3(0x94c)]('');}}const _0x3dae9b=_0x4a6012[_0x3f4ab3(0x203)]||_0x4a6012[_0x3f4ab3(0x303)],_0x298ede=_0x3f4ab3(0xd74)+(_0x1d8ce1+0x1)+_0x3f4ab3(0x74e)+_0x3d85ef+_0x3f4ab3(0x56c)+currentLiveGamePin+_0x3f4ab3(0x7ef)+_0x3dae9b+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c31c2+_0x3f4ab3(0x902);liveGameView[_0x3f4ab3(0x45b)]=_0x298ede,window[_0x3f4ab3(0x872)]&&MathJax['typesetPromise']&&MathJax[_0x3f4ab3(0xecc)]([liveGameView]),document[_0x3f4ab3(0x7c7)](_0x3f4ab3(0x770))['addEventListener'](_0x3f4ab3(0x2f0),()=>revealAnswerForAdmin(_0x1d8ce1,_0x3d85ef)),document[_0x3f4ab3(0x7c7)](_0x3f4ab3(0x252))[_0x3f4ab3(0xf03)](_0x3f4ab3(0x2f0),async()=>{const _0xb38ed2=_0x3f4ab3;showConfirmation(_0xb38ed2(0x835),async()=>{const _0x5cc44e=_0xb38ed2,_0x432b39=doc(db,_0x5cc44e(0x2b7)+appId+_0x5cc44e(0xa57),currentLiveGameId);await updateDoc(_0x432b39,{'status':'podium'});});}),document[_0x3f4ab3(0x7c7)]('manage-players-btn')['addEventListener']('click',()=>{const _0x94562d=_0x3f4ab3;document[_0x94562d(0x7c7)]('live-player-management')[_0x94562d(0x457)]['toggle'](_0x94562d(0x845));});}function promptForProjectBeforeGenerating(_0x151d7c){const _0x3fbde6=_0x4247b4,_0x530209=document[_0x3fbde6(0x7c7)]('move-quiz-modal'),_0xc89ab4=document['getElementById'](_0x3fbde6(0x41d)),_0xd77d7e=_0x530209[_0x3fbde6(0x79b)]('h3'),_0x21b484=document[_0x3fbde6(0x7c7)](_0x3fbde6(0x21d)),_0x5a699e=document[_0x3fbde6(0x7c7)](_0x3fbde6(0xd3d));_0xd77d7e[_0x3fbde6(0xb0c)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x21b484[_0x3fbde6(0xb0c)]='เลือกและเริ่มสร้าง',_0x21b484[_0x3fbde6(0x766)]=!![];allProjects[_0x3fbde6(0x2d2)]===0x0?_0xc89ab4[_0x3fbde6(0x45b)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0xc89ab4[_0x3fbde6(0x45b)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects['map'](_0x42d821=>_0x3fbde6(0x685)+_0x42d821['id']+'\x22>'+_0x42d821[_0x3fbde6(0x8ff)]+_0x3fbde6(0xdaf))[_0x3fbde6(0x94c)](''),_0x21b484[_0x3fbde6(0x766)]=![]);_0x530209[_0x3fbde6(0x457)][_0x3fbde6(0xd11)](_0x3fbde6(0x845));const _0x337200=async()=>{const _0x66f0c5=_0x3fbde6,_0x12b083=_0xc89ab4[_0x66f0c5(0xc66)];if(!_0x12b083){showMessage(_0x66f0c5(0x2d1));return;}_0x530209[_0x66f0c5(0x457)][_0x66f0c5(0xea1)]('hidden'),await loadProjectDetails(_0x12b083),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x151d7c),_0x581a59();},_0x581a59=()=>{const _0x3953bb=_0x3fbde6;_0xd77d7e[_0x3953bb(0xb0c)]=_0x3953bb(0x86e),_0x21b484[_0x3953bb(0xb0c)]=_0x3953bb(0x451),_0x21b484['removeEventListener'](_0x3953bb(0x2f0),_0x337200),_0x5a699e[_0x3953bb(0x808)]('click',_0x581a59),_0x21b484[_0x3953bb(0xf03)](_0x3953bb(0x2f0),confirmMoveQuiz);};_0x21b484[_0x3fbde6(0x808)]('click',confirmMoveQuiz),_0x21b484[_0x3fbde6(0xf03)](_0x3fbde6(0x2f0),_0x337200),_0x5a699e[_0x3fbde6(0xf03)](_0x3fbde6(0x2f0),_0x581a59);}function showStudentLiveQuestionView(_0x221079,_0x2008b0,_0x2d3501){const _0x5cedc3=_0x4247b4,_0x17607a=_0x221079[_0x5cedc3(0xf29)]||currentQuizData[_0x5cedc3(0xa71)];let _0x4598fb='';if(_0x17607a===_0x5cedc3(0x7fe)||_0x17607a===_0x5cedc3(0x353)){const _0x196c9e=_0x17607a===_0x5cedc3(0x353)?[_0x5cedc3(0x3e4),_0x5cedc3(0x811)]:_0x221079[_0x5cedc3(0xb84)];_0x4598fb=_0x196c9e[_0x5cedc3(0xdeb)]((_0x3d3e5b,_0x3d6744)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x3d6744+_0x5cedc3(0x4ed)+_0x3d3e5b+_0x5cedc3(0x89b))[_0x5cedc3(0x94c)]('');}else{if(_0x17607a===_0x5cedc3(0x39f)){const _0x51a9f2=_0x221079[_0x5cedc3(0x5b2)]||[];_0x4598fb=_0x51a9f2[_0x5cedc3(0xdeb)]((_0xe9d1e5,_0x358a8a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x358a8a+_0x5cedc3(0x4ed)+_0xe9d1e5+_0x5cedc3(0x89b))['join']('');}else _0x17607a===_0x5cedc3(0xf11)&&(_0x4598fb=_0x5cedc3(0xec2));}const _0x2c8fbd=_0x221079[_0x5cedc3(0x203)]||_0x221079[_0x5cedc3(0x303)],_0x330720=_0x5cedc3(0xdce)+(_0x2008b0+0x1)+_0x5cedc3(0x74e)+_0x2d3501+_0x5cedc3(0xc71)+_0x2c8fbd+_0x5cedc3(0xd89)+_0x4598fb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x5cedc3(0x45b)]=_0x330720;window[_0x5cedc3(0x872)]&&MathJax['typesetPromise']&&MathJax[_0x5cedc3(0xecc)]([liveGameView]);const _0x5a83d7=document[_0x5cedc3(0x7c7)](_0x5cedc3(0xe85));_0x5a83d7&&_0x5a83d7['addEventListener'](_0x5cedc3(0x2f0),()=>{const _0x1085fb=_0x5cedc3,_0x5e9da7=document['getElementById'](_0x1085fb(0xa06))[_0x1085fb(0xc66)];handleLiveAnswer(_0x5e9da7,_0x221079);}),document['getElementById'](_0x5cedc3(0x306))[_0x5cedc3(0xf03)](_0x5cedc3(0x2f0),_0xb6e8b5=>{const _0x13aac3=_0x5cedc3,_0x1e2ccb=_0xb6e8b5[_0x13aac3(0xcbd)][_0x13aac3(0x5bf)](_0x13aac3(0x809));if(_0x1e2ccb){const _0x3ef43c=parseInt(_0x1e2ccb['dataset']['index']);handleLiveAnswer(_0x3ef43c,_0x221079);}});}function listenForBlueprintShortcuts(){const _0x1b3fb7=_0x4247b4,_0x539d9b=doc(db,_0x1b3fb7(0x3ea),_0x1b3fb7(0x557));onSnapshot(_0x539d9b,_0xee9f9c=>{const _0x444ef5=_0x1b3fb7;let _0x2cdac7=[],_0x42253b=[],_0x6acc91={};if(_0xee9f9c[_0x444ef5(0x971)]()){const _0x374d28=_0xee9f9c['data']();_0x2cdac7=_0x374d28['blueprintShortcuts']||[],_0x42253b=_0x374d28['shortcutTabs']||[],_0x6acc91=_0x374d28[_0x444ef5(0x5dc)]||{};}!_0x42253b[_0x444ef5(0x787)](_0x460f1f=>_0x460f1f['id']===_0x444ef5(0x8a9))&&_0x42253b['unshift']({'id':_0x444ef5(0x8a9),'name':_0x444ef5(0xaec),'isDefault':!![]}),!_0x2cdac7[_0x444ef5(0x787)](_0x150bae=>_0x150bae['id']===_0x444ef5(0xd8c))&&_0x2cdac7[_0x444ef5(0xc24)]({'id':_0x444ef5(0xd8c),'name':_0x444ef5(0x434),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x2cdac7[_0x444ef5(0x787)](_0x1d586a=>_0x1d586a['id']===_0x444ef5(0x6a6))&&_0x2cdac7[_0x444ef5(0xc24)]({'id':'default-2','name':_0x444ef5(0xaee),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x2cdac7,shortcutTabs=_0x42253b,shortcutOrder=_0x6acc91,renderBlueprintShortcuts(),!document[_0x444ef5(0x7c7)]('additional-shortcuts-modal')[_0x444ef5(0x457)]['contains'](_0x444ef5(0x845))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x52dcaa=_0x4247b4,_0x1b4c77=document['getElementById'](_0x52dcaa(0x926)),_0x14ee8f=document[_0x52dcaa(0x7c7)](_0x52dcaa(0xa8c));if(!_0x1b4c77||!_0x14ee8f)return;_0x1b4c77[_0x52dcaa(0x45b)]=shortcutTabs['map'](_0x3c2282=>{const _0x474c64=_0x52dcaa,_0x365ce6=_0x3c2282['id']===activeShortcutTabId,_0x100432='border-indigo-500\x20text-indigo-600',_0x598288=_0x474c64(0xd15);return _0x474c64(0x7cf)+_0x3c2282['id']+_0x474c64(0xe37)+(_0x365ce6?_0x100432:_0x598288)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x3c2282[_0x474c64(0x689)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x3c2282[_0x474c64(0x689)]+_0x474c64(0xc39)+(!_0x3c2282[_0x474c64(0x993)]?_0x474c64(0x3aa)+_0x3c2282['id']+_0x474c64(0xf6b):'')+_0x474c64(0x909);})[_0x52dcaa(0x94c)]('');const _0x2689ae=shortcutTabs[_0x52dcaa(0x787)](_0x2468e9=>_0x2468e9['id']===activeShortcutTabId);let _0x1891b7=[];if(_0x2689ae){if(_0x2689ae[_0x52dcaa(0x993)])_0x1891b7=[...blueprintShortcuts];else{const _0x3ce700=_0x2689ae[_0x52dcaa(0x4a4)]||[];_0x1891b7=blueprintShortcuts[_0x52dcaa(0x498)](_0x1f6320=>_0x3ce700['includes'](_0x1f6320['id']));}}const _0x256620=shortcutOrder[activeShortcutTabId]||[];_0x1891b7[_0x52dcaa(0x994)]((_0x5350c5,_0x3e554e)=>{const _0x306a79=_0x52dcaa,_0x3ba0f1=_0x256620[_0x306a79(0x6a2)](_0x5350c5['id']),_0x194dc7=_0x256620[_0x306a79(0x6a2)](_0x3e554e['id']);if(_0x3ba0f1===-0x1)return 0x1;if(_0x194dc7===-0x1)return-0x1;return _0x3ba0f1-_0x194dc7;}),_0x14ee8f[_0x52dcaa(0x45b)]=_0x1891b7['length']>0x0?_0x1891b7[_0x52dcaa(0xdeb)](_0x1999eb=>{const _0x1d08cd=_0x52dcaa;let _0xe65acf='🧩';if(_0x1999eb['blueprintUrl']&&_0x1999eb[_0x1d08cd(0x481)])_0xe65acf='📗';else{if(_0x1999eb['blueprintUrl'])_0xe65acf='📘';}const _0x355e23=shortcutTabs[_0x1d08cd(0x498)](_0x50de66=>!_0x50de66['isDefault']),_0x57f92f=_0x2689ae[_0x1d08cd(0x993)]&&_0x355e23['length']>0x0?_0x1d08cd(0xa66)+_0x355e23[_0x1d08cd(0xdeb)](_0xa07a38=>_0x1d08cd(0x920)+_0x1999eb['id']+_0x1d08cd(0xe01)+_0xa07a38['id']+'\x22>'+_0xa07a38[_0x1d08cd(0x689)]+_0x1d08cd(0xd54))[_0x1d08cd(0x94c)]('')+_0x1d08cd(0xcff):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x1999eb['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0xe65acf+'\x20'+_0x1999eb[_0x1d08cd(0x689)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1999eb['id']+_0x1d08cd(0x38c)+_0x1999eb['id']+_0x1d08cd(0xd0a)+(!_0x1999eb[_0x1d08cd(0x993)]?_0x1d08cd(0xe9c)+_0x1999eb['id']+_0x1d08cd(0xcae):'')+_0x1d08cd(0xcad)+(!_0x2689ae['isDefault']?'<button\x20data-shortcut-id=\x22'+_0x1999eb['id']+_0x1d08cd(0x554):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57f92f+_0x1d08cd(0x512);})['join'](''):_0x52dcaa(0x905),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x326061=_0x4247b4;document[_0x326061(0xf52)](_0x326061(0x9ae))[_0x326061(0x9fb)](_0x3c7e8e=>{const _0x430a00=_0x326061;_0x3c7e8e['addEventListener'](_0x430a00(0x2f0),_0x110441=>{const _0x2ab787=_0x430a00;activeShortcutTabId=_0x110441[_0x2ab787(0x98d)][_0x2ab787(0xefd)][_0x2ab787(0x891)],renderAdditionalShortcutsModal();}),_0x3c7e8e[_0x430a00(0xf03)](_0x430a00(0xf48),_0x3e86dd=>{const _0x20fe3b=_0x430a00,_0x27817d=_0x3e86dd[_0x20fe3b(0x98d)];_0x27817d[_0x20fe3b(0x79b)](_0x20fe3b(0x7d8))[_0x20fe3b(0x457)]['add'](_0x20fe3b(0x845));const _0x4bc948=_0x27817d[_0x20fe3b(0x79b)](_0x20fe3b(0xcf8));_0x4bc948[_0x20fe3b(0x457)][_0x20fe3b(0xd11)](_0x20fe3b(0x845)),_0x4bc948[_0x20fe3b(0x667)](),_0x4bc948[_0x20fe3b(0xbb3)]();});}),document[_0x326061(0xf52)](_0x326061(0xcf8))[_0x326061(0x9fb)](_0x1a1453=>{const _0x23375a=_0x326061,_0x1d29f4=()=>{const _0x17565e=_0xc03a,_0x510275=_0x1a1453['closest'](_0x17565e(0x9ae))[_0x17565e(0xefd)][_0x17565e(0x891)];handleRenameShortcutTab(_0x510275,_0x1a1453[_0x17565e(0xc66)]);};_0x1a1453[_0x23375a(0xf03)](_0x23375a(0xa12),_0x1d29f4),_0x1a1453[_0x23375a(0xf03)](_0x23375a(0xe7a),_0x1b94e6=>{const _0x3b908c=_0x23375a;if(_0x1b94e6['key']==='Enter')_0x1a1453[_0x3b908c(0xa12)]();});}),document[_0x326061(0xf52)](_0x326061(0x7a8))[_0x326061(0x9fb)](_0x5dd8a8=>{const _0x393908=_0x326061;_0x5dd8a8[_0x393908(0xf03)](_0x393908(0x2f0),_0x27c798=>handleDeleteShortcutTab(_0x27c798['currentTarget'][_0x393908(0xefd)][_0x393908(0x891)]));}),document[_0x326061(0xf52)]('.move-shortcut-item')['forEach'](_0x26bbb7=>{const _0x149d47=_0x326061;_0x26bbb7[_0x149d47(0xf03)](_0x149d47(0x2f0),_0x44eab1=>{const _0x593b0d=_0x149d47;_0x44eab1[_0x593b0d(0x375)]();const {shortcutId:_0x5a3a95,targetTabId:_0x53080b}=_0x44eab1[_0x593b0d(0x98d)][_0x593b0d(0xefd)];handleMoveShortcutToTab(_0x5a3a95,_0x53080b);});}),document['querySelectorAll'](_0x326061(0x24e))['forEach'](_0x23da94=>{const _0x54d87d=_0x326061;_0x23da94[_0x54d87d(0xf03)](_0x54d87d(0x2f0),_0x56c462=>{const _0x2b8e6e=_0x54d87d;handleRemoveShortcutFromTab(_0x56c462[_0x2b8e6e(0x98d)][_0x2b8e6e(0xefd)]['shortcutId'],activeShortcutTabId);});});const _0x4d10a1=document[_0x326061(0x7c7)](_0x326061(0xa8c));_0x4d10a1[_0x326061(0xf52)](_0x326061(0xcd1))[_0x326061(0x9fb)](_0x797428=>{const _0x4e5dea=_0x326061;_0x797428[_0x4e5dea(0xf03)]('click',()=>{const _0x12b9d0=_0x4e5dea;document[_0x12b9d0(0x7c7)]('additional-shortcuts-modal')['classList'][_0x12b9d0(0xea1)]('hidden'),handleShortcutClick(_0x797428[_0x12b9d0(0xefd)]['id']);});});let _0x3a143f=null;_0x4d10a1[_0x326061(0xf03)](_0x326061(0x584),_0x589451=>{const _0x3f7269=_0x326061;_0x3a143f=_0x589451['target'][_0x3f7269(0x5bf)](_0x3f7269(0xf18)),_0x3a143f&&setTimeout(()=>_0x3a143f[_0x3f7269(0x457)][_0x3f7269(0xea1)](_0x3f7269(0x34f)),0x0);}),_0x4d10a1['addEventListener'](_0x326061(0xb8a),()=>{const _0x499c1d=_0x326061;_0x3a143f&&(_0x3a143f['classList'][_0x499c1d(0xd11)](_0x499c1d(0x34f)),_0x3a143f=null);}),_0x4d10a1['addEventListener']('dragover',_0x32cd6c=>{const _0x3d3766=_0x326061;_0x32cd6c[_0x3d3766(0x375)]();const _0x2d8af6=[..._0x4d10a1[_0x3d3766(0xf52)](_0x3d3766(0x3cb))][_0x3d3766(0x382)]((_0x16f42f,_0x2b057d)=>{const _0x24a15a=_0x3d3766,_0xd04bf=_0x2b057d['getBoundingClientRect'](),_0x17c1b3=_0x32cd6c[_0x24a15a(0x6d7)]-_0xd04bf[_0x24a15a(0xe31)]-_0xd04bf['height']/0x2;return _0x17c1b3<0x0&&_0x17c1b3>_0x16f42f[_0x24a15a(0x273)]?{'offset':_0x17c1b3,'element':_0x2b057d}:_0x16f42f;},{'offset':Number[_0x3d3766(0x698)]})[_0x3d3766(0x95b)];_0x2d8af6==null?_0x4d10a1[_0x3d3766(0xccc)](_0x3a143f):_0x4d10a1[_0x3d3766(0xc8d)](_0x3a143f,_0x2d8af6);}),_0x4d10a1['addEventListener']('drop',_0x5c3ce5=>{const _0xfc42a6=_0x326061;_0x5c3ce5[_0xfc42a6(0x375)]();if(_0x3a143f){const _0x3abb25=[..._0x4d10a1[_0xfc42a6(0xf52)]('.shortcut-list-item')][_0xfc42a6(0xdeb)](_0x32ad43=>_0x32ad43['dataset'][_0xfc42a6(0x23d)]);handleShortcutOrderChange(activeShortcutTabId,_0x3abb25);}}),document[_0x326061(0xf52)](_0x326061(0x527))['forEach'](_0x265d0d=>{const _0x1d869f=_0x326061;_0x265d0d[_0x1d869f(0xf03)](_0x1d869f(0x2f0),_0x391808=>{const _0x4fe64b=_0x1d869f;_0x391808[_0x4fe64b(0xdac)]();const _0x39088d=_0x391808[_0x4fe64b(0x98d)][_0x4fe64b(0x453)],_0x186589=_0x39088d[_0x4fe64b(0x457)][_0x4fe64b(0xcc7)]('hidden');document[_0x4fe64b(0xf52)](_0x4fe64b(0xbed))[_0x4fe64b(0x9fb)](_0x1d7ea2=>_0x1d7ea2[_0x4fe64b(0x457)][_0x4fe64b(0xea1)](_0x4fe64b(0x845))),_0x186589&&_0x39088d[_0x4fe64b(0x457)][_0x4fe64b(0xd11)]('hidden');});});}document[_0x4247b4(0xf03)](_0x4247b4(0x2f0),_0x2080d4=>{const _0x295e52=_0x4247b4;!_0x2080d4[_0x295e52(0xcbd)]['closest']('.group\x5c/dropdown')&&document[_0x295e52(0xf52)](_0x295e52(0xbed))[_0x295e52(0x9fb)](_0x264667=>_0x264667['classList'][_0x295e52(0xea1)]('hidden'));});async function saveShortcutConfig(){const _0xb8055b=_0x4247b4,_0x3dcaab=doc(db,_0xb8055b(0x3ea),_0xb8055b(0x557));try{await setDoc(_0x3dcaab,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x1239b5){console[_0xb8055b(0xd5b)](_0xb8055b(0xee1),_0x1239b5);}}async function handleAddShortcutTab(){const _0x512800=_0x4247b4,_0x5722be=prompt(_0x512800(0x580),_0x512800(0xf27));if(!_0x5722be||_0x5722be[_0x512800(0xba3)]()==='')return;shortcutTabs[_0x512800(0x82f)]({'id':_0x512800(0x35b)+Date[_0x512800(0x5f5)](),'name':_0x5722be[_0x512800(0xba3)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x1e35a0,_0x3b3788){const _0x46648f=_0x4247b4,_0x466b6c=shortcutTabs[_0x46648f(0x787)](_0x438b2a=>_0x438b2a['id']===_0x1e35a0);_0x466b6c&&_0x3b3788[_0x46648f(0xba3)]()!==''&&(_0x466b6c['name']=_0x3b3788[_0x46648f(0xba3)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x1682f8){const _0x1d2ce3=_0x4247b4,_0x499ebc=shortcutTabs[_0x1d2ce3(0x787)](_0x175e71=>_0x175e71['id']===_0x1682f8);_0x499ebc&&!_0x499ebc[_0x1d2ce3(0x993)]&&showConfirmation(_0x1d2ce3(0x99a)+_0x499ebc[_0x1d2ce3(0x689)]+_0x1d2ce3(0x7a9),async()=>{const _0x24d5be=_0x1d2ce3;shortcutTabs=shortcutTabs[_0x24d5be(0x498)](_0x5f183b=>_0x5f183b['id']!==_0x1682f8),delete shortcutOrder[_0x1682f8];if(activeShortcutTabId===_0x1682f8)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x9eee70,_0x34d1b9){const _0x44315e=_0x4247b4,_0x6a4311=shortcutTabs[_0x44315e(0x787)](_0x1cef87=>_0x1cef87['id']===_0x34d1b9);_0x6a4311&&!_0x6a4311[_0x44315e(0x4a4)][_0x44315e(0xba0)](_0x9eee70)&&(_0x6a4311[_0x44315e(0x4a4)][_0x44315e(0x82f)](_0x9eee70),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x49b339,_0x4fb375){const _0x389faf=_0x4247b4,_0x30e8cb=shortcutTabs[_0x389faf(0x787)](_0x14e82c=>_0x14e82c['id']===_0x4fb375);_0x30e8cb&&!_0x30e8cb['isDefault']&&(_0x30e8cb[_0x389faf(0x4a4)]=_0x30e8cb[_0x389faf(0x4a4)]['filter'](_0x2cc27d=>_0x2cc27d!==_0x49b339),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x344bc8,_0x52d92a){shortcutOrder[_0x344bc8]=_0x52d92a,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x51051c=_0x4247b4,_0x4a11f4=document[_0x51051c(0x7c7)]('blueprint-shortcut-container'),_0x1d7a28=document[_0x51051c(0x7c7)](_0x51051c(0xa8c)),_0x4fe0b4=document[_0x51051c(0x7c7)](_0x51051c(0xdc3));_0x4fe0b4&&_0x4fe0b4['classList'][_0x51051c(0xea1)](_0x51051c(0x845));if(!_0x4a11f4||!_0x1d7a28)return;const _0x2cbe38=blueprintShortcuts[_0x51051c(0x68d)](0x0,0x4),_0x5c1ef4=blueprintShortcuts[_0x51051c(0x68d)](0x4);_0x4a11f4[_0x51051c(0x45b)]=_0x2cbe38[_0x51051c(0xdeb)](_0x1c1a9b=>{const _0xa42a6f=_0x51051c;let _0x5af0e0=_0xa42a6f(0xca7),_0x16e5b9='🧩';if(_0x1c1a9b[_0xa42a6f(0x48d)]&&_0x1c1a9b[_0xa42a6f(0x481)])_0x5af0e0=_0xa42a6f(0x897),_0x16e5b9='📗';else _0x1c1a9b[_0xa42a6f(0x48d)]&&(_0x5af0e0=_0xa42a6f(0xaa0),_0x16e5b9='📘');const _0x3380ad=!_0x1c1a9b['isDefault']?'<button\x20data-id=\x22'+_0x1c1a9b['id']+'\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0xa42a6f(0x6b8)+_0x1c1a9b['id']+_0xa42a6f(0x226)+_0x5af0e0+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x16e5b9+'\x20'+_0x1c1a9b[_0xa42a6f(0x689)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1c1a9b['id']+'\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3380ad+_0xa42a6f(0x909);})[_0x51051c(0x94c)](''),_0x5c1ef4[_0x51051c(0x2d2)]>0x0&&(_0x4a11f4[_0x51051c(0x45b)]+=_0x51051c(0x7ff)),_0x5c1ef4[_0x51051c(0x2d2)]>0x0?_0x1d7a28[_0x51051c(0x45b)]=_0x5c1ef4[_0x51051c(0xdeb)](_0x20086e=>{const _0x19bb74=_0x51051c;let _0x195127='🧩';if(_0x20086e[_0x19bb74(0x48d)]&&_0x20086e['referenceUrl'])_0x195127='📗';else _0x20086e[_0x19bb74(0x48d)]&&(_0x195127='📘');return _0x19bb74(0x862)+_0x195127+'\x20'+_0x20086e[_0x19bb74(0x689)]+_0x19bb74(0x9ce)+_0x20086e['id']+_0x19bb74(0x38c)+_0x20086e['id']+_0x19bb74(0xd0a)+(!_0x20086e['isDefault']?'<button\x20data-id=\x22'+_0x20086e['id']+_0x19bb74(0xcae):'')+_0x19bb74(0xd14);})['join'](''):_0x1d7a28[_0x51051c(0x45b)]=_0x51051c(0x71a);}function getMimeTypeFromFilename(_0x58f705){const _0x2592a3=_0x4247b4,_0x708432=_0x58f705[_0x2592a3(0x4c6)]('.')[_0x2592a3(0x800)]()[_0x2592a3(0xab2)]();switch(_0x708432){case _0x2592a3(0xc9c):return _0x2592a3(0x4e5);case _0x2592a3(0x202):return _0x2592a3(0x951);default:return _0x2592a3(0x4e5);}}function openShortcutEditor(_0x4b6bd1=null){const _0x59651f=_0x4247b4,_0x3922dc=document[_0x59651f(0x7c7)](_0x59651f(0xe39)),_0x441e07=document['getElementById'](_0x59651f(0xbc7)),_0x5441b0=document[_0x59651f(0x7c7)](_0x59651f(0x1fb)),_0x1e8a70=document['getElementById']('shortcut-name-input'),_0x3aaf63=document[_0x59651f(0x7c7)](_0x59651f(0xb51)),_0x3e6cca=document[_0x59651f(0x7c7)](_0x59651f(0x341));if(_0x4b6bd1){const _0x3964ef=blueprintShortcuts[_0x59651f(0x787)](_0x24169e=>_0x24169e['id']===_0x4b6bd1);if(!_0x3964ef)return;_0x441e07['textContent']=_0x59651f(0x367),_0x5441b0[_0x59651f(0xc66)]=_0x3964ef['id'],_0x1e8a70['value']=_0x3964ef[_0x59651f(0x689)],_0x3aaf63[_0x59651f(0xc66)]=_0x3964ef[_0x59651f(0x48d)]||'',_0x3e6cca[_0x59651f(0xc66)]=_0x3964ef[_0x59651f(0x481)]||'';}else _0x441e07[_0x59651f(0xb0c)]=_0x59651f(0x8d4),_0x5441b0[_0x59651f(0xc66)]='',_0x1e8a70[_0x59651f(0xc66)]='',_0x3aaf63[_0x59651f(0xc66)]='',_0x3e6cca[_0x59651f(0xc66)]='';_0x3922dc[_0x59651f(0x457)]['remove']('hidden');}async function saveShortcutChanges(){const _0x27c084=_0x4247b4,_0x390d1d=document['getElementById'](_0x27c084(0x1fb))[_0x27c084(0xc66)],_0x82921f=document[_0x27c084(0x7c7)](_0x27c084(0xf42))[_0x27c084(0xc66)][_0x27c084(0xba3)](),_0x585e94=document[_0x27c084(0x7c7)](_0x27c084(0xb51))[_0x27c084(0xc66)]['trim']();if(!_0x82921f||!_0x585e94){showMessage(_0x27c084(0x7ce));return;}const _0x4f1ddb={'id':_0x390d1d||'shortcut_'+Date[_0x27c084(0x5f5)](),'name':_0x82921f,'blueprintUrl':_0x585e94,'referenceUrl':document[_0x27c084(0x7c7)](_0x27c084(0x341))['value'][_0x27c084(0xba3)](),'isDefault':_0x390d1d[_0x27c084(0xc5b)](_0x27c084(0xf79))};let _0x28845e;_0x390d1d?_0x28845e=blueprintShortcuts[_0x27c084(0xdeb)](_0x5ea3be=>_0x5ea3be['id']===_0x390d1d?_0x4f1ddb:_0x5ea3be):_0x28845e=[...blueprintShortcuts,_0x4f1ddb];try{const _0x58a0f6=doc(db,_0x27c084(0x3ea),_0x27c084(0x557));await setDoc(_0x58a0f6,{'blueprintShortcuts':_0x28845e},{'merge':!![]}),document[_0x27c084(0x7c7)](_0x27c084(0xe39))[_0x27c084(0x457)][_0x27c084(0xea1)](_0x27c084(0x845));}catch(_0x63bdf8){console['error'](_0x27c084(0xb72),_0x63bdf8),showMessage(_0x27c084(0x896));}}async function handleShortcutClick(_0x25f414){const _0x18f4bd=_0x4247b4,_0x46f776=blueprintShortcuts[_0x18f4bd(0x787)](_0x138c13=>_0x138c13['id']===_0x25f414);if(!_0x46f776||!_0x46f776[_0x18f4bd(0x48d)])return;document[_0x18f4bd(0x7c7)](_0x18f4bd(0xcc8))['classList']['add'](_0x18f4bd(0x845)),document[_0x18f4bd(0x7c7)](_0x18f4bd(0x6ad))[_0x18f4bd(0x766)]=!![];const _0x2a0a0d=document[_0x18f4bd(0x7c7)](_0x18f4bd(0xbbe)),_0x53acf6=document[_0x18f4bd(0x7c7)](_0x18f4bd(0xe8b));document[_0x18f4bd(0x7c7)](_0x18f4bd(0xb5f))['classList'][_0x18f4bd(0xd11)](_0x18f4bd(0x845)),document['getElementById'](_0x18f4bd(0x318))[_0x18f4bd(0x45b)]='',_0x2a0a0d[_0x18f4bd(0x457)]['remove'](_0x18f4bd(0x845));try{_0x53acf6['textContent']=_0x18f4bd(0x7eb);const _0x8b4023=await fetchFileFromUrl(_0x46f776[_0x18f4bd(0x48d)],'blueprint.pdf');let _0x3441b8=null;if(_0x46f776['referenceUrl']){_0x53acf6[_0x18f4bd(0xb0c)]='กำลังดึงไฟล์อ้างอิงจากลิงก์...';const _0x132816=_0x46f776[_0x18f4bd(0x481)][_0x18f4bd(0xab2)]()[_0x18f4bd(0x9e1)]('.txt')?_0x18f4bd(0xd4a):_0x18f4bd(0x525);_0x3441b8=await fetchFileFromUrl(_0x46f776[_0x18f4bd(0x481)],_0x132816);}await handleGenerateFromBlueprintWithFiles(_0x8b4023,_0x3441b8);}catch(_0x311ccf){console[_0x18f4bd(0xd5b)]('Error\x20processing\x20shortcut\x20click:',_0x311ccf),showMessage('เกิดข้อผิดพลาด:\x20'+_0x311ccf[_0x18f4bd(0x725)]),_0x2a0a0d['classList']['add'](_0x18f4bd(0x845));}}function getDirectDownloadUrl(_0x1d3759){const _0x5dde5d=_0x4247b4,_0x45fe42=_0x1d3759[_0x5dde5d(0x403)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x45fe42&&_0x45fe42[0x1])return'https://drive.google.com/uc?export=download&id='+_0x45fe42[0x1];return _0x1d3759;}async function fetchFileFromUrl(_0x53a1d5,_0x1c41c0){const _0x5e8380=_0x4247b4,_0x49f9a1=getDirectDownloadUrl(_0x53a1d5),_0x37acc3=_0x5e8380(0xe70)+encodeURIComponent(_0x49f9a1),_0x5e423a=await fetch(_0x37acc3);if(!_0x5e423a['ok'])throw new Error('ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20'+_0x5e423a[_0x5e8380(0x55e)]+')');const _0x4105f3=await _0x5e423a['blob'](),_0x436f2a=await new Promise((_0x501641,_0x4742b9)=>{const _0x3f09e5=_0x5e8380,_0x3a2e57=new FileReader();_0x3a2e57['onloadend']=()=>_0x501641(new Uint8Array(_0x3a2e57['result'])),_0x3a2e57[_0x3f09e5(0xabb)]=_0x4742b9,_0x3a2e57[_0x3f09e5(0x30d)](_0x4105f3[_0x3f09e5(0x68d)](0x0,0x4));});let _0x2a8c81='';const _0x2b9aec=new TextDecoder()['decode'](_0x436f2a);return _0x2b9aec===_0x5e8380(0x8c0)?(_0x2a8c81=_0x5e8380(0x4e5),console[_0x5e8380(0x799)](_0x5e8380(0x31d))):(_0x2a8c81=_0x5e8380(0x951),console[_0x5e8380(0x799)](_0x5e8380(0xd96))),new File([_0x4105f3],_0x1c41c0,{'type':_0x2a8c81});}async function handleGenerateFromBlueprintWithFiles(_0xcfddec,_0xef9db0=null){const _0x4efb3c=_0x4247b4;if(!_0xcfddec){showMessage(_0x4efb3c(0x6a0));return;}const _0x255a07=document[_0x4efb3c(0x7c7)]('loader'),_0x19a7c4=document[_0x4efb3c(0x7c7)](_0x4efb3c(0xe8b));_0x255a07['classList'][_0x4efb3c(0xd11)](_0x4efb3c(0x845)),document[_0x4efb3c(0x7c7)](_0x4efb3c(0xb5f))[_0x4efb3c(0x457)][_0x4efb3c(0xd11)](_0x4efb3c(0x845)),document[_0x4efb3c(0x7c7)](_0x4efb3c(0x318))[_0x4efb3c(0x45b)]='';try{_0x19a7c4[_0x4efb3c(0xb0c)]=_0x4efb3c(0x2c3);const _0x28704b=await new Promise((_0x11f805,_0x245965)=>{const _0x57aa2c=_0x4efb3c,_0x29906f=new FileReader();_0x29906f[_0x57aa2c(0x6d9)](_0xcfddec),_0x29906f[_0x57aa2c(0xdca)]=()=>_0x11f805(_0x29906f[_0x57aa2c(0xbc0)][_0x57aa2c(0x4c6)](',')[0x1]),_0x29906f['onerror']=_0x245965;}),_0x26d44a=[];if(_0xef9db0){_0x19a7c4[_0x4efb3c(0xb0c)]=_0x4efb3c(0x51a);const _0xd07800=await _0xef9db0[_0x4efb3c(0x9d1)]();_0x26d44a['push']({'text':_0x4efb3c(0xe09)+_0xd07800});}const _0x2394c7=[{'text':_0x4efb3c(0x709)},{'inlineData':{'mimeType':_0xcfddec[_0x4efb3c(0x31f)],'data':_0x28704b}},..._0x26d44a];await handleGenerateFromBlueprint(_0x2394c7);}catch(_0x15efd1){console['error'](_0x4efb3c(0x4cd),_0x15efd1),showMessage(_0x4efb3c(0x5ee)+_0x15efd1['message']),_0x255a07[_0x4efb3c(0x457)][_0x4efb3c(0xea1)](_0x4efb3c(0x845));}}async function handleLiveAnswer(_0x542295,_0x496f09){const _0x5972b5=_0x4247b4;document[_0x5972b5(0xf52)](_0x5972b5(0x2a0))[_0x5972b5(0x9fb)](_0x389ee9=>_0x389ee9[_0x5972b5(0x766)]=!![]);const _0x2fac9c=_0x496f09['questionType']||currentQuizData[_0x5972b5(0xa71)];let _0x14ee6b=![],_0x375563=_0x542295;if(_0x2fac9c===_0x5972b5(0xf11)){const _0xc115d0=(_0x542295||'')[_0x5972b5(0x2cc)]();_0x14ee6b=await gradeShortAnswer(_0xc115d0,_0x496f09);}else{if(_0x2fac9c==='multiple_choice')_0x14ee6b=_0x542295===_0x496f09[_0x5972b5(0xc6f)];else{if(_0x2fac9c===_0x5972b5(0x353)){const _0x361f88=_0x496f09[_0x5972b5(0xd0d)];_0x14ee6b=_0x542295===0x0&&_0x361f88||_0x542295===0x1&&!_0x361f88;}else{if(_0x2fac9c===_0x5972b5(0x39f)){const _0x421730=_0x496f09[_0x5972b5(0x5b2)][_0x542295];_0x14ee6b=_0x421730===_0x496f09['correctResponse'],_0x375563=_0x421730;}}}}const _0x44d1b9=doc(db,_0x5972b5(0x2b7)+appId+_0x5972b5(0xa57),currentLiveGameId),_0x209cda={};_0x209cda[_0x5972b5(0xb71)+currentStudentName+_0x5972b5(0x6ca)]=!![],_0x209cda['players.'+currentStudentName+_0x5972b5(0x2dc)]=_0x14ee6b,_0x209cda['players.'+currentStudentName+_0x5972b5(0x6ef)]=_0x2fac9c===_0x5972b5(0xf11)||_0x2fac9c===_0x5972b5(0x39f)?null:_0x542295,_0x209cda['players.'+currentStudentName+'.lastAnswerValue']=_0x375563,_0x209cda[_0x5972b5(0xb71)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x209cda[_0x5972b5(0xb71)+currentStudentName+'.isScored']=![],await updateDoc(_0x44d1b9,_0x209cda),liveGameView[_0x5972b5(0x45b)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x412103,_0x341bc7){const _0xb5fb67=_0x4247b4,_0x1844f6=Object[_0xb5fb67(0x57b)](_0x412103[_0xb5fb67(0x5fa)]||{}),_0x176185=_0x341bc7['questionType']||currentQuizData[_0xb5fb67(0xa71)],_0x3b401b=_0x176185==='true_false'?[_0xb5fb67(0x3e4),_0xb5fb67(0x811)]:_0x341bc7[_0xb5fb67(0xb84)]||_0x341bc7[_0xb5fb67(0x5b2)]||[],_0x119c60={},_0x14afec=new Array(_0x3b401b[_0xb5fb67(0x2d2)])[_0xb5fb67(0x833)](0x0);_0x3b401b['forEach']((_0x11fceb,_0x12adee)=>{_0x119c60[_0x12adee]=[];}),Object[_0xb5fb67(0xb54)](_0x412103[_0xb5fb67(0x5fa)]||{})['forEach'](([_0x3dc0f7,_0x53d304])=>{const _0x457143=_0xb5fb67;if(_0x53d304[_0x457143(0x55e)]===_0x457143(0x3d0)&&_0x53d304[_0x457143(0xd81)]!==undefined){const _0xe5ae4b=_0x53d304[_0x457143(0xd81)];_0x119c60[_0xe5ae4b]&&(_0x119c60[_0xe5ae4b]['push'](_0x3dc0f7),_0x14afec[_0xe5ae4b]++);}});const _0x4204f2=Math[_0xb5fb67(0x839)](..._0x14afec,0x1),_0x45f0f4=_0xb5fb67(0xadd)+(_0x341bc7['stem']||_0x341bc7[_0xb5fb67(0x303)])+_0xb5fb67(0x7c6)+_0x14afec[_0xb5fb67(0xdeb)]((_0x280d48,_0x1c5fb5)=>{const _0x1ead8c=_0xb5fb67,_0x3ed291=_0x119c60[_0x1c5fb5]['length']>0x0?_0x119c60[_0x1c5fb5][_0x1ead8c(0x94c)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0x2bd78f=![];if(_0x176185===_0x1ead8c(0x7fe))_0x2bd78f=_0x1c5fb5===_0x341bc7[_0x1ead8c(0xc6f)];else{if(_0x176185==='true_false'){const _0x3b8479=_0x341bc7['correctAnswer'];_0x2bd78f=_0x3b8479&&_0x1c5fb5===0x0||!_0x3b8479&&_0x1c5fb5===0x1;}else _0x176185===_0x1ead8c(0x39f)&&(_0x2bd78f=_0x3b401b[_0x1c5fb5]===_0x341bc7[_0x1ead8c(0x36d)]);}const _0x58534e=_0x2bd78f?_0x1ead8c(0xd05):'#e21b3c';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x280d48+_0x1ead8c(0x52d)+_0x58534e+_0x1ead8c(0xaad)+_0x1c5fb5+_0x1ead8c(0xf38)+_0x3b401b[_0x1c5fb5]+_0x1ead8c(0xe12)+_0x1c5fb5+_0x1ead8c(0xa6c)+_0x3ed291+_0x1ead8c(0xda7);})['join']('')+_0xb5fb67(0xc1e);liveGameView[_0xb5fb67(0x45b)]=_0x45f0f4;if(window[_0xb5fb67(0x872)])MathJax[_0xb5fb67(0xecc)]();document[_0xb5fb67(0x7c7)]('show-leaderboard-btn')['addEventListener'](_0xb5fb67(0x2f0),async()=>{const _0x3cdf69=_0xb5fb67,_0x42cd64=doc(db,_0x3cdf69(0x2b7)+appId+_0x3cdf69(0xa57),currentLiveGameId);await updateDoc(_0x42cd64,{'questionStatus':_0x3cdf69(0xf75)});}),document[_0xb5fb67(0x7c7)]('open-scratchpad-btn')[_0xb5fb67(0xf03)](_0xb5fb67(0x2f0),()=>{openScratchpad(_0x341bc7,_0x3b401b);});}function showPlayerSummaryView(_0x4cd03a,_0x326adf){const _0x409a77=_0x4247b4,_0xa9ef54=Object[_0x409a77(0x57b)](_0x4cd03a[_0x409a77(0x5fa)]||{}),_0x76536a=_0x4cd03a[_0x409a77(0x5fa)][_0x326adf],_0x1327eb=_0xa9ef54[_0x409a77(0x498)](_0x474270=>_0x474270[_0x409a77(0x55e)]===_0x409a77(0x3d0))[_0x409a77(0x994)]((_0x3bd6bb,_0x57b814)=>_0x57b814[_0x409a77(0x494)]-_0x3bd6bb['score']),_0xd2451=_0x1327eb[_0x409a77(0x82e)](_0x455a91=>_0x455a91===_0x76536a)+0x1,_0x4e8d29=_0x76536a[_0x409a77(0x268)]?_0x409a77(0x292):_0x409a77(0x716),_0x3600fb=_0x76536a[_0x409a77(0x268)]?_0x409a77(0x3b5):_0x409a77(0x78c),_0x2333c5=_0x76536a['pointsLastQuestion']||0x0,_0x3449b8=_0x409a77(0x617),_0x255d8f=_0x409a77(0x4cb)+_0x3449b8+_0x409a77(0xdd6)+_0x3600fb+_0x409a77(0xd39)+_0x4e8d29+_0x409a77(0xb6f)+_0x2333c5+_0x409a77(0x6bf)+(_0xd2451>0x0?_0xd2451:'-')+_0x409a77(0x492);liveGameView['innerHTML']=_0x255d8f;}function createQuizFromBank(){const _0x30e5b9=_0x4247b4,_0xbebcf6=document[_0x30e5b9(0xf52)](_0x30e5b9(0xdda));if(_0xbebcf6[_0x30e5b9(0x2d2)]===0x0){showMessage(_0x30e5b9(0xf1a));return;}const _0x27e183=[];_0xbebcf6[_0x30e5b9(0x9fb)](_0x529dbb=>{const _0x3c6952=_0x30e5b9;_0x27e183[_0x3c6952(0x82f)](JSON['parse'](_0x529dbb[_0x3c6952(0xc66)]));});const _0x3e6aa0={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x27e183};displayGeneratedQuiz(_0x3e6aa0);}function showAdminLobbyView(_0x8078a1,_0xf9c102){const _0x50199a=_0x4247b4;showView(_0x50199a(0x8eb));const _0x24e6ea=_0x50199a(0xead)+_0xf9c102+_0x50199a(0x5a0)+_0x8078a1+_0x50199a(0x534);liveGameView[_0x50199a(0x45b)]=_0x24e6ea,document[_0x50199a(0x7c7)](_0x50199a(0xe98))['addEventListener']('click',async()=>{const _0x159bdb=_0x50199a;if(!currentQuizData||!currentQuizData[_0x159bdb(0x99c)]||currentQuizData[_0x159bdb(0x99c)]['length']===0x0){showMessage(_0x159bdb(0x5aa));return;}try{const _0x58eb55=doc(db,_0x159bdb(0x2b7)+appId+_0x159bdb(0xa57),currentLiveGameId);await updateDoc(_0x58eb55,{'status':_0x159bdb(0x94b),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x5b23af=currentQuizData[_0x159bdb(0x99c)][0x0],_0x478a51=currentQuizData['questions'][_0x159bdb(0x2d2)];showAdminLiveQuestionView(_0x5b23af,0x0,_0x478a51);}catch(_0x51cea1){console['error'](_0x159bdb(0x35a),_0x51cea1),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0x2f28c8=_0x4247b4;if(allQuizzesGlobal['length']===0x0){const _0x2248c5=await getDocs(collection(db,_0x2f28c8(0x2b7)+appId+_0x2f28c8(0xa8b)));allQuizzesGlobal=_0x2248c5[_0x2f28c8(0xd72)][_0x2f28c8(0xdeb)](_0x2935e8=>({'id':_0x2935e8['id'],..._0x2935e8[_0x2f28c8(0xb86)]()}));}renderQuizBankList(''),document[_0x2f28c8(0x7c7)](_0x2f28c8(0x71b))['classList'][_0x2f28c8(0xd11)](_0x2f28c8(0x845));}function renderQuizBankList(_0x41f871='',_0x4932d3=![]){const _0x255b34=_0x4247b4,_0x290838=document[_0x255b34(0x7c7)](_0x255b34(0x86c)),_0x2ea0ff=_0x41f871[_0x255b34(0xab2)]()['trim'](),_0x1cd819=allQuizzesGlobal[_0x255b34(0xdeb)](_0x32c675=>({..._0x32c675,'projectName':allProjects['find'](_0xaba74f=>_0xaba74f['id']===_0x32c675[_0x255b34(0xf28)])?.['projectName']||_0x255b34(0x288)}))[_0x255b34(0x498)](_0x21a606=>(_0x21a606[_0x255b34(0x6b2)]||'')[_0x255b34(0xab2)]()[_0x255b34(0xba0)](_0x2ea0ff)||(_0x21a606['projectName']||'')[_0x255b34(0xab2)]()['includes'](_0x2ea0ff)||_0x21a606['id'][_0x255b34(0x2cc)]()[_0x255b34(0xba0)](_0x2ea0ff));document[_0x255b34(0x7c7)](_0x255b34(0x5b5))[_0x255b34(0xb0c)]='('+_0x1cd819[_0x255b34(0x2d2)]+'\x20ชุด)',_0x290838[_0x255b34(0x45b)]=_0x1cd819[_0x255b34(0x2d2)]?_0x1cd819['map'](_0x5e4f7e=>{const _0x3234d4=_0x255b34,_0x52f03b=!_0x4932d3?_0x3234d4(0x3df)+_0x5e4f7e['id']+_0x3234d4(0x6c8)+_0x5e4f7e['id']+_0x3234d4(0x8c3)+_0x5e4f7e['id']+_0x3234d4(0x9f1)+_0x5e4f7e['id']+_0x3234d4(0x544)+_0x5e4f7e['id']+_0x3234d4(0x740)+_0x5e4f7e['id']+'\x22\x20data-topic=\x22'+_0x5e4f7e['topic']+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20':'';return _0x3234d4(0x58e)+_0x5e4f7e['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x5e4f7e[_0x3234d4(0x6b2)]||_0x3234d4(0x42a))+_0x3234d4(0xbc3)+(_0x5e4f7e[_0x3234d4(0x99c)]?.[_0x3234d4(0x2d2)]||0x0)+_0x3234d4(0x487)+_0x5e4f7e[_0x3234d4(0x8ff)]+_0x3234d4(0xbaf)+_0x5e4f7e['id']+_0x3234d4(0x5b6)+_0x52f03b+_0x3234d4(0xce9);})[_0x255b34(0x94c)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x4932d3&&(_0x290838['querySelectorAll'](_0x255b34(0x57a))[_0x255b34(0x9fb)](_0x2452d0=>{const _0x3e5696=_0x255b34;_0x2452d0[_0x3e5696(0xf03)](_0x3e5696(0x2f0),()=>{const _0x5ec394=_0x3e5696,_0x16b27d=_0x2452d0[_0x5ec394(0xefd)]['id'];document['getElementById'](_0x5ec394(0x71b))[_0x5ec394(0x457)][_0x5ec394(0xea1)]('hidden'),showQuizDetailView(_0x16b27d);});}),_0x290838[_0x255b34(0xf52)](_0x255b34(0x2f2))[_0x255b34(0x9fb)](_0x5cc8f2=>{const _0x3cccbe=_0x255b34;_0x5cc8f2[_0x3cccbe(0xf03)](_0x3cccbe(0x2f0),_0x1bcb9c=>{const _0x3e5001=_0x3cccbe;_0x1bcb9c[_0x3e5001(0xdac)]();const _0x621a58=_0x5cc8f2[_0x3e5001(0xefd)]['id'],_0x118f7b=allQuizzesGlobal[_0x3e5001(0x787)](_0x43212d=>_0x43212d['id']===_0x621a58);_0x118f7b?(currentQuizData=_0x118f7b,document['getElementById']('quiz-bank-modal')[_0x3e5001(0x457)]['add'](_0x3e5001(0x845)),startAdminTest()):showMessage(_0x3e5001(0xef3));});}),_0x290838[_0x255b34(0xf52)](_0x255b34(0x20e))[_0x255b34(0x9fb)](_0x1f37c1=>{const _0x63e94c=_0x255b34;_0x1f37c1[_0x63e94c(0xf03)]('click',_0x576fcd=>{const _0x583bd2=_0x63e94c;_0x576fcd['stopPropagation']();const _0x5c4f04=_0x1f37c1[_0x583bd2(0xefd)]['id'],_0x274bc9=allQuizzesGlobal[_0x583bd2(0x787)](_0x5998b3=>_0x5998b3['id']===_0x5c4f04);_0x274bc9?(document[_0x583bd2(0x7c7)](_0x583bd2(0x71b))['classList'][_0x583bd2(0xea1)]('hidden'),handleGenerateParallelFromBank(_0x274bc9)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x290838[_0x255b34(0xf52)](_0x255b34(0xac0))[_0x255b34(0x9fb)](_0x1f511f=>{const _0x38f46a=_0x255b34;_0x1f511f[_0x38f46a(0xf03)](_0x38f46a(0x2f0),_0x40b6fd=>{const _0x2b6384=_0x38f46a;_0x40b6fd[_0x2b6384(0xdac)]();const _0x3aa865=_0x1f511f[_0x2b6384(0xefd)]['id'],_0x3b4713=allQuizzesGlobal[_0x2b6384(0x787)](_0x5c3bc4=>_0x5c3bc4['id']===_0x3aa865);_0x3b4713?(document['getElementById']('quiz-bank-modal')[_0x2b6384(0x457)]['add']('hidden'),startPresentation(_0x3b4713)):showMessage(_0x2b6384(0xef3));});}),_0x290838[_0x255b34(0xf52)](_0x255b34(0xaac))['forEach'](_0x2302d7=>{const _0x56951a=_0x255b34;_0x2302d7[_0x56951a(0xf03)](_0x56951a(0x2f0),_0x5361f6=>{const _0x4583b1=_0x56951a;_0x5361f6[_0x4583b1(0xdac)]();const _0xdbb066=_0x2302d7['dataset']['id'];document[_0x4583b1(0x7c7)]('quiz-bank-modal')[_0x4583b1(0x457)][_0x4583b1(0xea1)](_0x4583b1(0x845)),handleMoveQuiz(_0xdbb066);});}),_0x290838[_0x255b34(0xf52)](_0x255b34(0x255))['forEach'](_0x4d689d=>{const _0x566321=_0x255b34;_0x4d689d[_0x566321(0xf03)](_0x566321(0x2f0),_0x5ccb22=>{const _0x4efd3d=_0x566321;_0x5ccb22[_0x4efd3d(0xdac)]();const _0x3b0789=_0x4d689d[_0x4efd3d(0xefd)]['id'];document[_0x4efd3d(0x7c7)](_0x4efd3d(0x71b))[_0x4efd3d(0x457)][_0x4efd3d(0xea1)](_0x4efd3d(0x845)),handleQuizSettings(_0x3b0789);});}),_0x290838['querySelectorAll'](_0x255b34(0x336))['forEach'](_0x281889=>{const _0x1ad83a=_0x255b34;_0x281889['addEventListener'](_0x1ad83a(0x2f0),_0x39901b=>{const _0x26a0d8=_0x1ad83a;_0x39901b[_0x26a0d8(0xdac)]();const _0x5495bc=_0x281889['dataset']['id'],_0x39367b=_0x281889[_0x26a0d8(0xefd)][_0x26a0d8(0x6b2)];showConfirmation(_0x26a0d8(0x68c)+_0x39367b+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x5495bc));});}));}async function handleCompareResults(_0x22454d,_0x1879ad){const _0x453795=_0x4247b4,_0x18ec31=document[_0x453795(0x7c7)](_0x453795(0x25e)),_0x12eb7c=document[_0x453795(0x7c7)](_0x453795(0x44c)),_0x335ab2=document['getElementById'](_0x453795(0x4ad));document[_0x453795(0x7c7)]('comparison-overall-tab')[_0x453795(0x457)][_0x453795(0xea1)](_0x453795(0x3d0)),document[_0x453795(0x7c7)](_0x453795(0x74f))[_0x453795(0x457)][_0x453795(0xd11)](_0x453795(0x3d0)),_0x12eb7c[_0x453795(0x457)][_0x453795(0xd11)]('hidden'),_0x335ab2['classList'][_0x453795(0xea1)](_0x453795(0x845)),_0x12eb7c['innerHTML']=_0x453795(0x30e),_0x335ab2['innerHTML']='',_0x18ec31[_0x453795(0x457)][_0x453795(0xd11)](_0x453795(0x845));try{const _0x3160a2=doc(db,_0x453795(0x2b7)+appId+_0x453795(0xa8b),_0x22454d),_0x28ef82=await getDoc(_0x3160a2);if(!_0x28ef82[_0x453795(0x971)]())throw new Error(_0x453795(0xf6e));const _0x2e1ac1=_0x28ef82[_0x453795(0xb86)](),_0x4ad5f5=_0x2e1ac1[_0x453795(0x99c)][_0x453795(0x2d2)],_0x5d959=collection(db,'artifacts/'+appId+_0x453795(0xbe9)+_0x1879ad+_0x453795(0x746)),_0xd80f40=collection(db,_0x453795(0x2b7)+appId+_0x453795(0xbe9)+_0x22454d+'/submissions'),[_0x17247e,_0x28f790]=await Promise['all']([getDocs(_0x5d959),getDocs(_0xd80f40)]),_0x144dec=_0x17247e['docs'][_0x453795(0xdeb)](_0x2dd2ed=>_0x2dd2ed[_0x453795(0xb86)]()),_0x307ea1=_0x28f790['docs'][_0x453795(0xdeb)](_0x1dba9a=>_0x1dba9a[_0x453795(0xb86)]()),_0x5c67c3=_0x144dec[_0x453795(0xdeb)](_0x532846=>_0x532846[_0x453795(0x889)]),_0x56f89e=_0x307ea1[_0x453795(0xdeb)](_0x306647=>_0x306647[_0x453795(0x889)]),_0x51cd5c=calculateMeanAndStdDev(_0x5c67c3),_0x123013=calculateMeanAndStdDev(_0x56f89e),_0xbfb57d=_0x51cd5c['mean'],_0x5e6b5e=_0x123013['mean'],_0x3b44aa=_0x5e6b5e-_0xbfb57d;let _0x13954e=_0x453795(0x545)+_0xbfb57d['toFixed'](0x2)+_0x453795(0xd0b)+_0x5e6b5e[_0x453795(0xb41)](0x2)+_0x453795(0x444)+(_0x3b44aa>=0x0?_0x453795(0xc42):'bg-red-100')+_0x453795(0x739)+(_0x3b44aa>=0x0?_0x453795(0x7b4):_0x453795(0xe2b))+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x3b44aa>=0x0?_0x453795(0x591):_0x453795(0x236))+'\x22>'+(_0x3b44aa>=0x0?'+':'')+_0x3b44aa['toFixed'](0x2)+_0x453795(0xcfe);_0x12eb7c['innerHTML']=_0x13954e;const _0x13e1b1=document['getElementById'](_0x453795(0xeaa))[_0x453795(0xed7)]('2d');if(chartInstances['comparison'])chartInstances['comparison'][_0x453795(0x3f0)]();chartInstances[_0x453795(0x6d1)]=new Chart(_0x13e1b1,{'type':_0x453795(0xa1a),'data':{'labels':[_0x453795(0x533)],'datasets':[{'label':_0x453795(0xa60),'data':[_0xbfb57d],'backgroundColor':_0x453795(0x3e5)},{'label':_0x453795(0x777),'data':[_0x5e6b5e],'backgroundColor':_0x453795(0xd85)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x4ad5f5}}}});const _0x1a0ddf=currentProjectData[_0x453795(0x97d)]||[],_0x450a4c=_0x1a0ddf[_0x453795(0xdeb)](_0x38d0bf=>{const _0x4c0b57=_0x453795,_0x491cfd=_0x144dec[_0x4c0b57(0x787)](_0x291074=>_0x291074[_0x4c0b57(0x27f)]===_0x38d0bf),_0x3d7149=_0x307ea1['find'](_0x11414d=>_0x11414d[_0x4c0b57(0x27f)]===_0x38d0bf),_0x20236b=_0x491cfd?_0x491cfd[_0x4c0b57(0x889)]:null,_0x21fa67=_0x3d7149?_0x3d7149[_0x4c0b57(0x889)]:null,_0x478739=_0x20236b!==null&&_0x21fa67!==null?_0x21fa67-_0x20236b:null,_0x5ceef4=_0x20236b!==null?calculateZScore(_0x20236b,_0x51cd5c[_0x4c0b57(0xc7e)],_0x51cd5c['stdDev']):null,_0x4f0023=_0x21fa67!==null?calculateZScore(_0x21fa67,_0x123013[_0x4c0b57(0xc7e)],_0x123013['stdDev']):null,_0x4c6f11=_0x5ceef4!==null?calculateTScore(_0x5ceef4):null,_0xa488ca=_0x4f0023!==null?calculateTScore(_0x4f0023):null,_0x4ba667=_0x4c6f11!==null&&_0xa488ca!==null?_0xa488ca-_0x4c6f11:null;return{'name':_0x38d0bf,'preScore':_0x20236b,'postScore':_0x21fa67,'gain':_0x478739,'preTScore':_0x4c6f11,'postTScore':_0xa488ca,'tGain':_0x4ba667};});renderIndividualComparisonTable(_0x450a4c,_0x335ab2);}catch(_0x5d9340){console[_0x453795(0xd5b)]('Error\x20comparing\x20results:',_0x5d9340),_0x12eb7c[_0x453795(0x45b)]=_0x453795(0xebb);}}async function saveBlueprintProject(){const _0x5bdc96=_0x4247b4;if(!extractedBlueprintData||!extractedBlueprintData[_0x5bdc96(0x77d)]){showMessage('ไม่พบข้อมูลหัวข้อที่จะบันทึก');return;}const _0x1f0794=prompt(_0x5bdc96(0xf6f),_0x5bdc96(0x4a8));if(!_0x1f0794||_0x1f0794[_0x5bdc96(0xba3)]()==='')return;const _0x6527c5={};extractedBlueprintData[_0x5bdc96(0x77d)][_0x5bdc96(0x9fb)](_0x3d1a20=>{_0x3d1a20['mainTopics']['forEach'](_0x1e28d0=>{const _0x3a8ce7=_0xc03a;_0x1e28d0[_0x3a8ce7(0x3b0)][_0x3a8ce7(0x9fb)](_0x598d8f=>{const _0x23d756=_0x3a8ce7,_0x4e2c89=_0x23d756(0x98c)+Date[_0x23d756(0x5f5)]()+Math[_0x23d756(0x724)]()[_0x23d756(0x2cc)](0x24)['substr'](0x2,0x9);_0x6527c5[_0x4e2c89]={'sara':_0x3d1a20['sara'],'mainTopic':_0x1e28d0['topicName'],'subTopic':_0x598d8f,'status':_0x23d756(0xbb6),'lessonContent':null};});});});try{const _0x4948ec=collection(db,_0x5bdc96(0x2b7)+appId+'/public/data/blueprintProjects');await addDoc(_0x4948ec,{'projectName':_0x1f0794[_0x5bdc96(0xba3)](),'gradeLevel':extractedBlueprintData[_0x5bdc96(0x712)],'topics':_0x6527c5,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x1f0794[_0x5bdc96(0xba3)]()+_0x5bdc96(0xc27)),document['getElementById']('save-blueprint-as-project-btn')[_0x5bdc96(0x457)][_0x5bdc96(0xea1)](_0x5bdc96(0x845));}catch(_0x2062c5){console[_0x5bdc96(0xd5b)](_0x5bdc96(0x409),_0x2062c5),showMessage(_0x5bdc96(0xe59));}}async function showBlueprintProjects(){const _0x51a2e2=_0x4247b4,_0x2da6da=document[_0x51a2e2(0x7c7)](_0x51a2e2(0xaf6)),_0x186961=document['getElementById']('blueprint-project-list');_0x186961[_0x51a2e2(0x45b)]=_0x51a2e2(0xa1e),_0x2da6da[_0x51a2e2(0x457)]['remove'](_0x51a2e2(0x845));try{const _0x5cc5e3=collection(db,_0x51a2e2(0x2b7)+appId+'/public/data/blueprintProjects'),_0x4ab56a=await getDocs(_0x5cc5e3);if(_0x4ab56a[_0x51a2e2(0x3a6)]){_0x186961[_0x51a2e2(0x45b)]=_0x51a2e2(0x84a);return;}const _0x26b9b3=_0x4ab56a[_0x51a2e2(0xd72)]['map'](_0x3e85bd=>({'id':_0x3e85bd['id'],..._0x3e85bd[_0x51a2e2(0xb86)]()}));_0x26b9b3[_0x51a2e2(0x994)]((_0x532e3f,_0x157591)=>_0x532e3f[_0x51a2e2(0x8ff)]['localeCompare'](_0x157591[_0x51a2e2(0x8ff)],'th')),_0x186961[_0x51a2e2(0x45b)]=_0x26b9b3[_0x51a2e2(0xdeb)](_0x30263e=>_0x51a2e2(0xa38)+_0x30263e['projectName']+_0x51a2e2(0x34c)+_0x30263e['gradeLevel']+'\x20|\x20'+Object[_0x51a2e2(0xb00)](_0x30263e['topics'])['length']+_0x51a2e2(0x764)+_0x30263e['id']+'\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x30263e['id']+_0x51a2e2(0x2de))[_0x51a2e2(0x94c)]('');}catch(_0x2dbcd6){console[_0x51a2e2(0xd5b)](_0x51a2e2(0x3c0),_0x2dbcd6),_0x186961[_0x51a2e2(0x45b)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>';}}async function displayBlueprintProjectManager(_0x449d6e){const _0x4bf033=_0x4247b4;currentBlueprintProjectId=_0x449d6e,document[_0x4bf033(0x7c7)](_0x4bf033(0xaf6))[_0x4bf033(0x457)][_0x4bf033(0xea1)](_0x4bf033(0x845)),showView(_0x4bf033(0x928)),projectDashboardView[_0x4bf033(0x457)]['add'](_0x4bf033(0x845));const _0x2f49e5=document['getElementById'](_0x4bf033(0xd5d));_0x2f49e5[_0x4bf033(0x457)][_0x4bf033(0xd11)](_0x4bf033(0x845)),document[_0x4bf033(0x7c7)](_0x4bf033(0x71d))[_0x4bf033(0x45b)]=_0x4bf033(0x30e);try{const _0x38dc56=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',_0x449d6e),_0xd37ab3=await getDoc(_0x38dc56);if(!_0xd37ab3[_0x4bf033(0x971)]())throw new Error('ไม่พบโปรเจค');const _0x57ad53={'id':_0xd37ab3['id'],..._0xd37ab3['data']()};document[_0x4bf033(0x7c7)](_0x4bf033(0x9ec))[_0x4bf033(0xb0c)]=_0x57ad53[_0x4bf033(0x8ff)],document[_0x4bf033(0x7c7)](_0x4bf033(0xb9a))[_0x4bf033(0xc66)]=_0x57ad53[_0x4bf033(0xa10)]||'',renderBlueprintTopicManager(_0x57ad53);}catch(_0x9a3300){console[_0x4bf033(0xd5b)]('Error\x20displaying\x20blueprint\x20project:',_0x9a3300),showMessage(_0x9a3300['message']),showView(_0x4bf033(0x928));}}function renderBlueprintTopicManager(_0x4a7bf5){const _0x539a3d=_0x4247b4,_0x478cdc=document['getElementById'](_0x539a3d(0x71d)),_0xe2f050=_0x4a7bf5[_0x539a3d(0x345)]||{};if(Object[_0x539a3d(0xb00)](_0xe2f050)[_0x539a3d(0x2d2)]===0x0){_0x478cdc['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0x31ab4d=Object[_0x539a3d(0xb54)](_0xe2f050)['map'](([_0x1a58ce,_0x5d5e15])=>({'id':_0x1a58ce,..._0x5d5e15}))[_0x539a3d(0x994)]((_0x1dabc8,_0x3296ae)=>(_0x1dabc8[_0x539a3d(0x67f)]??Infinity)-(_0x3296ae[_0x539a3d(0x67f)]??Infinity)),_0x224f04={};_0x31ab4d[_0x539a3d(0x9fb)](_0x20450f=>{const _0x9300c6=_0x539a3d,{sara:_0x4dc17a,mainTopic:_0x5b8364}=_0x20450f;!_0x224f04[_0x4dc17a]&&(_0x224f04[_0x4dc17a]={}),!_0x224f04[_0x4dc17a][_0x5b8364]&&(_0x224f04[_0x4dc17a][_0x5b8364]=[]),_0x224f04[_0x4dc17a][_0x5b8364][_0x9300c6(0x82f)](_0x20450f);});let _0x429b62='';for(const _0xb21365 in _0x224f04){_0x429b62+='<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0xb21365+_0x539a3d(0x5ba);for(const _0x11f009 in _0x224f04[_0xb21365]){_0x429b62+=_0x539a3d(0x312)+_0x11f009+_0x539a3d(0x6e8),_0x224f04[_0xb21365][_0x11f009][_0x539a3d(0x9fb)](_0x16b89b=>{const _0xed89f5=_0x539a3d,_0x2616b9=_0x16b89b['id'],_0x2bc6b0=_0x16b89b[_0xed89f5(0x6c6)]||[],_0x504040=_0x2bc6b0[_0xed89f5(0x2d2)]>0x0,_0x28bce2=_0x16b89b[_0xed89f5(0x55e)]==='generated';let _0x1feef4='';_0x504040?_0x1feef4='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20('+_0x2bc6b0['length']+'\x20ชุด)</span>':_0x1feef4=_0xed89f5(0x838)+(_0x28bce2?_0xed89f5(0x2ec):_0xed89f5(0x27c))+'\x22>'+(_0x28bce2?_0xed89f5(0xd6b):'ยังไม่สร้าง')+'</span>';const _0x56392c=!_0x28bce2?_0xed89f5(0x7b3):'',_0x58e4a4=!_0x28bce2?_0xed89f5(0xd5e):'';let _0x342f2a=_0x28bce2?_0xed89f5(0x564):'<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>';_0x429b62+=_0xed89f5(0xe8a)+_0x2616b9+_0xed89f5(0xb27)+_0x16b89b[_0xed89f5(0x438)]+_0xed89f5(0x3a3)+_0x1feef4+_0xed89f5(0x4d2)+_0x56392c+_0xed89f5(0x77b)+_0x58e4a4+'\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x342f2a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x429b62+=_0x539a3d(0x915);}_0x429b62+=_0x539a3d(0x745);}_0x478cdc[_0x539a3d(0x45b)]=_0x429b62;}async function handleDeepDeleteBlueprintProject(_0x2cfa18){const _0x3ace75=_0x4247b4,_0x3921ef=doc(db,_0x3ace75(0x2b7)+appId+'/public/data/blueprintProjects',_0x2cfa18),_0x4bac75=await getDoc(_0x3921ef);if(!_0x4bac75['exists']()){showMessage(_0x3ace75(0xc81));return;}const _0x302738=_0x4bac75[_0x3ace75(0xb86)]()[_0x3ace75(0x8ff)];showConfirmation('คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x302738+_0x3ace75(0x2b5),async()=>{const _0x476ab4=_0x3ace75;showMessage(_0x476ab4(0xa85));try{const _0x25b3f3=writeBatch(db),_0x3ad5a8=_0x4bac75[_0x476ab4(0xb86)](),_0x2612df=_0x3ad5a8['topics']||{};for(const _0x5173d1 in _0x2612df){const _0x2c539f=doc(db,_0x476ab4(0x2b7)+appId+_0x476ab4(0xd40)+_0x2cfa18+_0x476ab4(0x653),_0x5173d1);_0x25b3f3[_0x476ab4(0x627)](_0x2c539f);}const _0x504375=new Set();for(const _0x16c77f in _0x2612df){_0x2612df[_0x16c77f][_0x476ab4(0x6c6)]&&_0x2612df[_0x16c77f]['linkedQuizIds'][_0x476ab4(0x9fb)](_0x3111e3=>_0x504375[_0x476ab4(0xea1)](_0x3111e3));}for(const _0x33f2b7 of _0x504375){await handleDeleteQuiz(_0x33f2b7,![]);}_0x25b3f3[_0x476ab4(0x627)](_0x3921ef),await _0x25b3f3[_0x476ab4(0xdcc)](),showMessage(_0x476ab4(0x758)+_0x302738+'\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!'),showBlueprintProjects();}catch(_0x355b3c){console[_0x476ab4(0xd5b)]('Error\x20during\x20deep\x20delete:',_0x355b3c),showMessage(_0x476ab4(0xb42));}});}async function openTopicQuizBank(_0x41e688){const _0x15534f=_0x4247b4,_0x92d78=document[_0x15534f(0x7c7)](_0x15534f(0x388)),_0x1910c9=document[_0x15534f(0x7c7)]('topic-bank-list'),_0x45963e=document[_0x15534f(0x7c7)](_0x15534f(0xac9));try{await ensureGlobalQuizzesLoaded();const _0x2c093f=doc(db,_0x15534f(0x2b7)+appId+_0x15534f(0x209),currentBlueprintProjectId),_0x4c6141=await getDoc(_0x2c093f);if(!_0x4c6141[_0x15534f(0x971)]())return;const _0x2c9336=_0x4c6141[_0x15534f(0xb86)](),_0x5b8f99=_0x2c9336[_0x15534f(0x345)][_0x41e688];document['getElementById'](_0x15534f(0x727))[_0x15534f(0xb0c)]=_0x5b8f99['subTopic'];const _0x50b7ab=_0x5b8f99['linkedQuizIds']||[];_0x45963e[_0x15534f(0x457)][_0x15534f(0x29a)](_0x15534f(0x845),_0x50b7ab['length']===0x0),_0x45963e[_0x15534f(0xb2b)]=()=>handleClearAllLinksForTopic(_0x41e688);if(_0x50b7ab['length']===0x0)_0x1910c9['innerHTML']=_0x15534f(0xbdd);else{const _0x3e0ae4=allQuizzesGlobal[_0x15534f(0x498)](_0x52a535=>_0x50b7ab[_0x15534f(0xba0)](_0x52a535['id']));_0x1910c9[_0x15534f(0x45b)]=_0x3e0ae4['map'](_0x47e4ae=>_0x15534f(0xa3d)+_0x47e4ae['id']+'\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>'+_0x47e4ae[_0x15534f(0x6b2)]+_0x15534f(0x43e)+_0x47e4ae['id']+_0x15534f(0x655)+_0x47e4ae[_0x15534f(0x99c)][_0x15534f(0x2d2)]+_0x15534f(0x686)+_0x47e4ae['id']+_0x15534f(0xe7f)+_0x47e4ae['id']+_0x15534f(0xa9c)+_0x47e4ae['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x0a<button\x20data-quiz-id=\x22'+_0x47e4ae['id']+_0x15534f(0x984)+_0x41e688+'\x22\x20data-quiz-id=\x22'+_0x47e4ae['id']+'\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x15534f(0x94c)]('');}document[_0x15534f(0x7c7)](_0x15534f(0x72d))['onclick']=()=>{openQuizSelectorForBlueprint(_0x41e688);},document[_0x15534f(0x7c7)](_0x15534f(0xe9b))[_0x15534f(0xb2b)]=()=>_0x92d78[_0x15534f(0x457)][_0x15534f(0xea1)](_0x15534f(0x845)),_0x92d78['classList'][_0x15534f(0xd11)](_0x15534f(0x845));}catch(_0x48a787){showMessage(_0x48a787[_0x15534f(0x725)]);}}async function openQuizSelectorForBlueprint(_0x9f03a7){const _0xe9db84=_0x4247b4,_0x115cb5=document[_0xe9db84(0x7c7)]('quiz-bank-modal'),_0x318a00=document[_0xe9db84(0x7c7)](_0xe9db84(0x388));_0x318a00['classList'][_0xe9db84(0xea1)](_0xe9db84(0x845)),document[_0xe9db84(0x7c7)](_0xe9db84(0xdcb))?.[_0xe9db84(0xd11)]();const _0x10d599=document[_0xe9db84(0xb74)](_0xe9db84(0xcde));_0x10d599['id']=_0xe9db84(0xdcb),_0x10d599[_0xe9db84(0x6cc)]=_0xe9db84(0x858),_0x10d599[_0xe9db84(0xb0c)]=_0xe9db84(0x827),_0x10d599['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0x115cb5[_0xe9db84(0x457)][_0xe9db84(0xd11)](_0xe9db84(0x845)),renderQuizBankListForMultiSelect(''),document[_0xe9db84(0x7c7)](_0xe9db84(0xb7b))[_0xe9db84(0x4e3)][_0xe9db84(0xc13)]=_0xe9db84(0xc43),_0x115cb5[_0xe9db84(0x79b)]('.flex.justify-between.items-center')[_0xe9db84(0xccc)](_0x10d599);const _0x154d5b=(_0x5b3b76=![])=>{const _0x405984=_0xe9db84;_0x115cb5[_0x405984(0x457)]['add'](_0x405984(0x845)),document[_0x405984(0x7c7)](_0x405984(0xb7b))['style'][_0x405984(0xc13)]='flex',_0x10d599[_0x405984(0xd11)](),_0x5b3b76&&openTopicQuizBank(_0x9f03a7);};_0x10d599[_0xe9db84(0xb2b)]=async()=>{const _0x421402=_0xe9db84,_0x4d63d7=Array[_0x421402(0x901)](document['querySelectorAll'](_0x421402(0x445)))[_0x421402(0xdeb)](_0x447590=>_0x447590[_0x421402(0xc66)]);if(_0x4d63d7[_0x421402(0x2d2)]===0x0)return;try{const _0x2c436d=doc(db,_0x421402(0x2b7)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x3f5eb6=(await getDoc(_0x2c436d))[_0x421402(0xb86)](),_0x1f8660=_0x3f5eb6[_0x421402(0x345)][_0x9f03a7][_0x421402(0x6c6)]||[],_0x436350=[...new Set([..._0x1f8660,..._0x4d63d7])];await updateDoc(_0x2c436d,{[_0x421402(0x9cf)+_0x9f03a7+_0x421402(0x2cb)]:_0x436350}),showMessage(_0x421402(0x8d2)+_0x4d63d7[_0x421402(0x2d2)]+_0x421402(0x52b)),_0x154d5b(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3c4a1d){console[_0x421402(0xd5b)]('Error\x20linking\x20quizzes:',_0x3c4a1d);}},document[_0xe9db84(0x7c7)](_0xe9db84(0x2d3))[_0xe9db84(0xb2b)]=()=>_0x154d5b(!![]);}catch(_0x427589){showMessage(_0x427589[_0xe9db84(0x725)]),_0x318a00[_0xe9db84(0x457)][_0xe9db84(0xd11)](_0xe9db84(0x845));}}function handleClearLinkedQuiz(_0x454d4b){const _0x1a474a=_0x4247b4;showConfirmation(_0x1a474a(0x2bb),async()=>{const _0xd5d11a=_0x1a474a;try{const _0x142fd6=doc(db,_0xd5d11a(0x2b7)+appId+_0xd5d11a(0x209),currentBlueprintProjectId);await updateDoc(_0x142fd6,{[_0xd5d11a(0x9cf)+_0x454d4b+_0xd5d11a(0x477)]:deleteField()}),showMessage(_0xd5d11a(0x67a)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5a4b82){console['error']('Error\x20clearing\x20linked\x20quiz:',_0x5a4b82),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x53deb=_0x4247b4,_0x47a52d=prompt(_0x53deb(0x2a7));if(!_0x47a52d||_0x47a52d[_0x53deb(0xba3)]()==='')return;const _0x46d760=prompt('อยู่ในสาระการเรียนรู้ใด:',_0x53deb(0x5e9)),_0x1f26d1=prompt(_0x53deb(0x4b1),_0x53deb(0xe4a)),_0x418aaf='topic_'+Date[_0x53deb(0x5f5)]()+Math[_0x53deb(0x724)]()[_0x53deb(0x2cc)](0x24)[_0x53deb(0x56f)](0x2,0x9),_0x1b1118={'sara':_0x46d760,'mainTopic':_0x1f26d1,'subTopic':_0x47a52d[_0x53deb(0xba3)](),'status':'not_generated','lessonContent':null};try{const _0x1231e3=doc(db,_0x53deb(0x2b7)+appId+_0x53deb(0x209),currentBlueprintProjectId);await updateDoc(_0x1231e3,{[_0x53deb(0x9cf)+_0x418aaf]:_0x1b1118}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3a7019){console[_0x53deb(0xd5b)]('Error\x20adding\x20topic:',_0x3a7019),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}async function editTopicInProject(_0x4d360e){const _0x1bae4e=_0x4247b4,_0x1d47db=document[_0x1bae4e(0x79b)]('[data-topic-id=\x22'+_0x4d360e+'\x22]'),_0x13e8fb=_0x1d47db[_0x1bae4e(0x79b)](_0x1bae4e(0xcef)),_0x356f56=_0x13e8fb['textContent'],_0x47fd4e=prompt(_0x1bae4e(0xe2e),_0x356f56);if(!_0x47fd4e||_0x47fd4e['trim']()===''||_0x47fd4e['trim']()===_0x356f56)return;try{const _0x31be10=doc(db,_0x1bae4e(0x2b7)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x31be10,{[_0x1bae4e(0x9cf)+_0x4d360e+'.subTopic']:_0x47fd4e[_0x1bae4e(0xba3)]()}),_0x13e8fb[_0x1bae4e(0xb0c)]=_0x47fd4e[_0x1bae4e(0xba3)](),showMessage(_0x1bae4e(0xf00));}catch(_0x535822){console['error'](_0x1bae4e(0xe15),_0x535822),showMessage(_0x1bae4e(0x612));}}async function deleteTopicFromProject(_0x566580){const _0x2fb47d=_0x4247b4;if(!confirm(_0x2fb47d(0xab5)))return;try{const _0x491631=doc(db,_0x2fb47d(0x2b7)+appId+_0x2fb47d(0x209),currentBlueprintProjectId);await updateDoc(_0x491631,{['topics.'+_0x566580]:deleteField()}),document[_0x2fb47d(0x79b)](_0x2fb47d(0xd9a)+_0x566580+'\x22]')['remove'](),showMessage(_0x2fb47d(0x458));}catch(_0x3e9e64){console[_0x2fb47d(0xd5b)]('Error\x20deleting\x20topic:',_0x3e9e64),showMessage(_0x2fb47d(0xd47));}}async function generateAndSaveLessonForBlueprint(_0x59fa1b,_0x1d0be7,_0x3eb3e4){handleGenerateAndShowLesson(_0x1d0be7,_0x3eb3e4);const _0x4c21eb=setInterval(async()=>{const _0x412ea2=_0xc03a,_0x5debbf=document[_0x412ea2(0x7c7)]('lesson-view-modal'),_0xaf56ae=_0x5debbf[_0x412ea2(0x457)][_0x412ea2(0xcc7)]('hidden');if(_0xaf56ae){clearInterval(_0x4c21eb);if(currentApplicationData&&currentApplicationData[_0x412ea2(0x2d2)]>0x0){const _0x2d8757={'point':document[_0x412ea2(0x7c7)](_0x412ea2(0xf64))[_0x412ea2(0x45b)],'memory':document[_0x412ea2(0x7c7)](_0x412ea2(0xc31))[_0x412ea2(0x45b)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x412ea2(0x7c7)](_0x412ea2(0x706))[_0x412ea2(0x45b)]};try{const _0x1c5041=doc(db,_0x412ea2(0x2b7)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x20198e=doc(db,'artifacts/'+appId+_0x412ea2(0xd40)+currentBlueprintProjectId+_0x412ea2(0x653),_0x59fa1b),_0x657107=writeBatch(db);_0x657107[_0x412ea2(0x916)](_0x20198e,{'content':_0x2d8757}),_0x657107[_0x412ea2(0x8f0)](_0x1c5041,{[_0x412ea2(0x9cf)+_0x59fa1b+_0x412ea2(0xea4)]:'generated'}),await _0x657107[_0x412ea2(0xdcc)](),console[_0x412ea2(0x799)](_0x412ea2(0xa3c)+_0x59fa1b+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x208cc9){console[_0x412ea2(0xd5b)](_0x412ea2(0x99f),_0x208cc9);}}}},0x3e8);}function displayHalfMarkResult(_0x318a93,_0x430710){const _0x1df0d6=_0x4247b4,_0x1a9733=_0x318a93>=_0x430710/0x2,_0x1572d8=_0x1a9733?_0x1df0d6(0x413):'bg-red-100',_0x387d1d=_0x1a9733?_0x1df0d6(0xdbc):_0x1df0d6(0x54b),_0x23383a=_0x1a9733?'text-green-800':_0x1df0d6(0xe2b),_0xacc771=_0x1a9733?'ทำคะแนนได้เกินครึ่ง':_0x1df0d6(0x80b),_0x5f043f=_0x1a9733?_0x1df0d6(0xa72):_0x1df0d6(0x3a9);let _0x21764b=_0x1df0d6(0x45d)+_0x1572d8+_0x1df0d6(0x233)+_0x387d1d+_0x1df0d6(0x6f8)+_0x23383a+_0x1df0d6(0x5e2)+_0xacc771+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x5f043f+_0x1df0d6(0x5d4);studentResultArea[_0x1df0d6(0x45b)]=_0x21764b,studentResultArea[_0x1df0d6(0x457)]['remove'](_0x1df0d6(0x845)),studentQuizArea[_0x1df0d6(0x457)][_0x1df0d6(0xea1)](_0x1df0d6(0x845)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x1a9733});}function displayPerfectScoreResult(_0x45cc3b,_0x3bbe39){const _0xdd547a=_0x4247b4,_0x5ea25a=_0x45cc3b===_0x3bbe39,_0x406f25=_0x5ea25a?'bg-yellow-100':_0xdd547a(0xab3),_0x333f18=_0x5ea25a?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0xdd547a(0xb1a),_0x11e670=_0x5ea25a?'text-yellow-800':_0xdd547a(0xf65),_0x1f8e47=_0x5ea25a?'คะแนนเต็ม!':_0xdd547a(0x4f7),_0x4428b8=_0x5ea25a?_0xdd547a(0xc3c):_0xdd547a(0x7be);let _0x5c1832='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x406f25+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x333f18+_0xdd547a(0x6f8)+_0x11e670+_0xdd547a(0x5e2)+_0x1f8e47+_0xdd547a(0x676)+_0x4428b8+_0xdd547a(0x5d4);studentResultArea[_0xdd547a(0x45b)]=_0x5c1832,studentResultArea[_0xdd547a(0x457)][_0xdd547a(0xd11)](_0xdd547a(0x845)),studentQuizArea[_0xdd547a(0x457)]['add'](_0xdd547a(0x845)),setupResultScreenBackButton({'showRankings':![],'score':_0x45cc3b,'totalQuestions':_0x3bbe39});}function renderIndividualComparisonTable(_0x4df2a1,_0x1cba59){const _0x47aa62=_0x4247b4;_0x4df2a1[_0x47aa62(0x994)]((_0x971235,_0x409715)=>(_0x409715[_0x47aa62(0x2fe)]??-Infinity)-(_0x971235[_0x47aa62(0x2fe)]??-Infinity));let _0x46a091='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x4df2a1[_0x47aa62(0x2d2)]===0x0?_0x46a091+=_0x47aa62(0xd17):_0x4df2a1[_0x47aa62(0x9fb)]((_0x3cb660,_0x3606c6)=>{const _0x5915b7=_0x47aa62;let _0x1ef9d6='-',_0x4c6cd1='';if(_0x3cb660[_0x5915b7(0x9fd)]!==null){const _0x13cd33=_0x3cb660[_0x5915b7(0x9fd)]>0x0?_0x5915b7(0xa33):_0x3cb660['gain']<0x0?_0x5915b7(0xde4):'text-gray-500',_0x3623e2=_0x3cb660[_0x5915b7(0x9fd)]>0x0?'+':'';_0x1ef9d6=_0x5915b7(0x323)+_0x13cd33+'\x22>'+_0x3623e2+_0x3cb660[_0x5915b7(0x9fd)]+_0x5915b7(0x305);if(_0x3cb660['gain']>0x0)_0x4c6cd1=_0x5915b7(0x1e9);else _0x3cb660['gain']<0x0?_0x4c6cd1=_0x5915b7(0x9be):_0x4c6cd1='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0xc5b71='-';if(_0x3cb660['tGain']!==null){const _0x23c0d2=_0x3cb660['tGain']>0x0?'text-green-600':_0x3cb660[_0x5915b7(0x2fe)]<0x0?_0x5915b7(0xde4):_0x5915b7(0x541),_0x14f8f3=_0x3cb660[_0x5915b7(0x2fe)]>0x0?'+':'';_0xc5b71=_0x5915b7(0x323)+_0x23c0d2+'\x22>'+_0x14f8f3+_0x3cb660[_0x5915b7(0x2fe)][_0x5915b7(0xb41)](0x2)+'</span>';}_0x46a091+=_0x5915b7(0x7ea)+(_0x3606c6+0x1)+_0x5915b7(0x26e)+_0x3cb660['name']+_0x5915b7(0xeb3)+(_0x3cb660[_0x5915b7(0xd62)]??'-')+_0x5915b7(0xbc5)+(_0x3cb660[_0x5915b7(0x47a)]??'-')+_0x5915b7(0xeb3)+_0x1ef9d6+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x4c6cd1+_0x5915b7(0x59f)+(_0x3cb660[_0x5915b7(0x2ed)]?.[_0x5915b7(0xb41)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x3cb660[_0x5915b7(0xa2b)]?.[_0x5915b7(0xb41)](0x2)??'-')+_0x5915b7(0xeb3)+_0xc5b71+_0x5915b7(0xbd5);}),_0x46a091+='</tbody></table></div>',_0x1cba59[_0x47aa62(0x45b)]=_0x46a091;}function handleRenameQuiz(_0x55942f,_0x1e406a){const _0x26e51e=_0x4247b4;actionTargetId=_0x55942f,document['getElementById'](_0x26e51e(0xd97))[_0x26e51e(0xc66)]=_0x1e406a,renameQuizModal[_0x26e51e(0x457)][_0x26e51e(0xd11)](_0x26e51e(0x845));}function setupComparisonModalTabs(){const _0x59bcfc=_0x4247b4,_0x3d4257=document[_0x59bcfc(0x7c7)]('comparison-overall-tab'),_0x2c4471=document[_0x59bcfc(0x7c7)](_0x59bcfc(0x74f)),_0x1d8298=document['getElementById'](_0x59bcfc(0x44c)),_0x365af8=document['getElementById'](_0x59bcfc(0x4ad));_0x3d4257[_0x59bcfc(0xf03)]('click',()=>{const _0x2885c1=_0x59bcfc;_0x3d4257[_0x2885c1(0x457)][_0x2885c1(0xea1)]('active'),_0x2c4471[_0x2885c1(0x457)][_0x2885c1(0xd11)](_0x2885c1(0x3d0)),_0x1d8298[_0x2885c1(0x457)][_0x2885c1(0xd11)]('hidden'),_0x365af8[_0x2885c1(0x457)]['add']('hidden');}),_0x2c4471[_0x59bcfc(0xf03)](_0x59bcfc(0x2f0),()=>{const _0x8e098e=_0x59bcfc;_0x2c4471[_0x8e098e(0x457)][_0x8e098e(0xea1)](_0x8e098e(0x3d0)),_0x3d4257['classList'][_0x8e098e(0xd11)](_0x8e098e(0x3d0)),_0x365af8[_0x8e098e(0x457)][_0x8e098e(0xd11)](_0x8e098e(0x845)),_0x1d8298[_0x8e098e(0x457)][_0x8e098e(0xea1)]('hidden');});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x34e452=_0x4247b4;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x5b450a=doc(db,_0x34e452(0x2b7)+appId+_0x34e452(0xa57),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x5b450a,_0x1322ea=>{const _0x381fa2=_0x34e452;if(!_0x1322ea[_0x381fa2(0x971)]()){showMessage(_0x381fa2(0xbb1));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x381fa2(0x803)?showView(_0x381fa2(0x69d)):showView('student');return;}const _0x30bca8=_0x1322ea[_0x381fa2(0xb86)]();_0x30bca8['shuffledQuiz']&&(currentQuizData=_0x30bca8[_0x381fa2(0xeb8)]);!currentQuizData&&_0x30bca8[_0x381fa2(0x3d4)]&&((async()=>{const _0x29896f=_0x381fa2;try{const _0x1d1fe3=doc(db,_0x29896f(0x2b7)+appId+_0x29896f(0xa8b),_0x30bca8[_0x29896f(0x3d4)]),_0x1d85ba=await getDoc(_0x1d1fe3);_0x1d85ba[_0x29896f(0x971)]()&&(currentQuizData={'id':_0x1d85ba['id'],..._0x1d85ba['data']()});}catch(_0x386e3b){console[_0x29896f(0xd5b)](_0x29896f(0x4fa),_0x386e3b);}})());switch(_0x30bca8[_0x381fa2(0x55e)]){case'lobby':if(currentMode===_0x381fa2(0x803)){const _0xd578b8=_0x30bca8[_0x381fa2(0x5fa)]?Object[_0x381fa2(0xb54)](_0x30bca8[_0x381fa2(0x5fa)]):[],_0x35636c=_0xd578b8['filter'](([_0x193574,_0x2938d3])=>_0x2938d3[_0x381fa2(0x55e)]==='active'),_0x2c6693=document[_0x381fa2(0x7c7)](_0x381fa2(0xeca));if(_0x2c6693)_0x2c6693['textContent']=_0x35636c[_0x381fa2(0x2d2)];const _0x17e279=document[_0x381fa2(0x7c7)]('player-list-lobby');_0x17e279&&(_0x17e279[_0x381fa2(0x45b)]=_0x35636c['map'](([_0x5d0152,_0x475429])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5d0152+_0x381fa2(0xcf6)+_0x5d0152+_0x381fa2(0x588))['join'](''));const _0x5f53b4=document[_0x381fa2(0x7c7)]('start-game-btn');_0x5f53b4&&(_0x5f53b4[_0x381fa2(0x766)]=_0x35636c[_0x381fa2(0x2d2)]===0x0);}else showView(_0x381fa2(0x8eb)),liveGameView[_0x381fa2(0x45b)]=_0x381fa2(0xea8)+currentStudentName+_0x381fa2(0xcf3);break;case _0x381fa2(0x94b):const _0x235081=_0x30bca8[_0x381fa2(0x89f)];if(currentQuizData&&currentQuizData[_0x381fa2(0x99c)][_0x235081]){const _0x5de763=currentQuizData['questions'][_0x235081],_0x358a82=_0x30bca8[_0x381fa2(0x9d3)]||'answering';switch(_0x358a82){case _0x381fa2(0xd24):currentMode==='admin'?showAdminSummaryView(_0x30bca8,_0x5de763):showPlayerSummaryView(_0x30bca8,currentStudentName);break;case _0x381fa2(0xf75):currentMode===_0x381fa2(0x803)&&showTop5LeaderboardView(_0x30bca8);break;case _0x381fa2(0x4db):default:if(currentMode===_0x381fa2(0x803)){const _0x1c2a59=writeBatch(db);let _0x40b4d7=![];Object['entries'](_0x30bca8[_0x381fa2(0x5fa)])['forEach'](([_0x1a92bd,_0x5f493b])=>{const _0x1a333d=_0x381fa2;if(_0x5f493b[_0x1a333d(0x55e)]===_0x1a333d(0x3d0)&&_0x5f493b[_0x1a333d(0x471)]&&!_0x5f493b['isScored']){_0x40b4d7=!![];const _0x6f7677=_0x5f493b[_0x1a333d(0x471)][_0x1a333d(0xd64)]()-_0x30bca8['questionDisplayedAt']['toDate']();let _0x1e0652=0x0;if(_0x5f493b[_0x1a333d(0x268)]){const _0x3f39fb=0x3e8,_0x475062=0x1f4,_0x147599=0x4e20;let _0x5dd034=_0x6f7677/_0x147599;if(_0x5dd034>0x1)_0x5dd034=0x1;const _0x1249aa=Math[_0x1a333d(0xaff)](_0x5dd034*_0x475062);_0x1e0652=_0x3f39fb-_0x1249aa;}const _0xb85f26=doc(db,_0x1a333d(0x2b7)+appId+_0x1a333d(0xa57),currentLiveGameId);_0x1c2a59[_0x1a333d(0x8f0)](_0xb85f26,{['players.'+_0x1a92bd+_0x1a333d(0x58b)]:increment(_0x1e0652),[_0x1a333d(0xb71)+_0x1a92bd+'.pointsLastQuestion']:_0x1e0652,[_0x1a333d(0xb71)+_0x1a92bd+_0x1a333d(0x53d)]:!![]});}});_0x40b4d7&&_0x1c2a59['commit']()[_0x381fa2(0x242)](_0x13adc4=>console['error'](_0x381fa2(0xe49),_0x13adc4));lastRenderedAdminQuestionIndex!==_0x235081&&(showAdminLiveQuestionView(_0x5de763,_0x235081,currentQuizData[_0x381fa2(0x99c)][_0x381fa2(0x2d2)]),lastRenderedAdminQuestionIndex=_0x235081);const _0x1b32b9=_0x30bca8[_0x381fa2(0x5fa)]||{},_0x57d452=Object[_0x381fa2(0x57b)](_0x1b32b9)[_0x381fa2(0x498)](_0x305879=>_0x305879[_0x381fa2(0x55e)]===_0x381fa2(0x3d0)),_0x542327=_0x57d452[_0x381fa2(0x2d2)],_0x26fb9a=_0x57d452[_0x381fa2(0x498)](_0x3f4ee1=>_0x3f4ee1[_0x381fa2(0xb96)]===!![])[_0x381fa2(0x2d2)],_0x3f65a8=document[_0x381fa2(0x7c7)](_0x381fa2(0x50d));if(_0x3f65a8)_0x3f65a8[_0x381fa2(0xb0c)]=_0x26fb9a+'/'+_0x542327;const _0x3feb4e=document[_0x381fa2(0x7c7)](_0x381fa2(0x756));if(_0x3feb4e){let _0x20c4b4=Object[_0x381fa2(0xb54)](_0x1b32b9)[_0x381fa2(0x498)](([_0x4977e3,_0x52c3d3])=>_0x52c3d3[_0x381fa2(0x55e)]===_0x381fa2(0x3d0))[_0x381fa2(0xdeb)](([_0x764fd9,_0x3508b3])=>{const _0x508c15=_0x381fa2,_0x881961=_0x3508b3[_0x508c15(0xb96)]===!![],_0x112953=_0x881961?_0x508c15(0x3b5):_0x508c15(0x582),_0x1baf51=_0x881961?_0x508c15(0xdb6):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x112953+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1baf51+_0x508c15(0xd6f)+_0x764fd9+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x764fd9+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x381fa2(0x94c)]('');_0x3feb4e[_0x381fa2(0x45b)]=_0x20c4b4||_0x381fa2(0xded);}_0x542327>0x0&&_0x26fb9a===_0x542327&&revealAnswerForAdmin(_0x235081,currentQuizData[_0x381fa2(0x99c)][_0x381fa2(0x2d2)]);}else{const _0xd61a99=_0x30bca8['players'][currentStudentName];_0xd61a99&&!_0xd61a99[_0x381fa2(0xb96)]&&showStudentLiveQuestionView(_0x5de763,_0x235081,currentQuizData[_0x381fa2(0x99c)][_0x381fa2(0x2d2)]);}break;}}break;case _0x381fa2(0xa07):showPodiumView(_0x30bca8[_0x381fa2(0x5fa)],_0x381fa2(0x2bf));break;}});}async function openGlobalActivityModal(){const _0x599ca8=_0x4247b4;if(allQuizzesGlobal[_0x599ca8(0x2d2)]===0x0){const _0x4ae502=await getDocs(collection(db,_0x599ca8(0x2b7)+appId+_0x599ca8(0xa8b)));allQuizzesGlobal=_0x4ae502['docs'][_0x599ca8(0xdeb)](_0x448952=>({'id':_0x448952['id'],..._0x448952[_0x599ca8(0xb86)]()}));}renderGlobalActivityList(''),document[_0x599ca8(0x7c7)](_0x599ca8(0x376))[_0x599ca8(0x457)]['remove'](_0x599ca8(0x845));}function renderGlobalActivityList(_0x328c10=''){const _0x333072=_0x4247b4,_0x5d50df=document[_0x333072(0x7c7)](_0x333072(0x6d0)),_0xfb6d47=_0x328c10[_0x333072(0xab2)]()[_0x333072(0xba3)](),_0x32dfa7=allQuizzesGlobal[_0x333072(0xdeb)](_0x40a60e=>({..._0x40a60e,'projectName':allProjects[_0x333072(0x787)](_0x5cd921=>_0x5cd921['id']===_0x40a60e[_0x333072(0xf28)])?.[_0x333072(0x8ff)]||_0x333072(0x288)}))[_0x333072(0x498)](_0xa1ee78=>(_0xa1ee78[_0x333072(0x6b2)]||'')[_0x333072(0xab2)]()[_0x333072(0xba0)](_0xfb6d47)||(_0xa1ee78[_0x333072(0x8ff)]||'')[_0x333072(0xab2)]()[_0x333072(0xba0)](_0xfb6d47));document[_0x333072(0x7c7)](_0x333072(0x75c))[_0x333072(0xb0c)]='('+_0x32dfa7[_0x333072(0x2d2)]+_0x333072(0x5bc),_0x5d50df[_0x333072(0x45b)]=_0x32dfa7[_0x333072(0x2d2)]?_0x32dfa7[_0x333072(0xdeb)](_0x168680=>_0x333072(0x870)+(_0x168680[_0x333072(0x6b2)]||_0x333072(0x42a))+_0x333072(0xd1b)+(_0x168680[_0x333072(0x99c)]?.['length']||0x0)+_0x333072(0x866)+_0x168680[_0x333072(0x8ff)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x168680['id']+'\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x168680['id']+_0x333072(0x930))[_0x333072(0x94c)](''):_0x333072(0x36c);}async function handleKickPlayer(_0x5067ec){const _0x11bd41=_0x4247b4;if(!currentLiveGameId||!_0x5067ec)return;const _0x4ec010=doc(db,_0x11bd41(0x2b7)+appId+'/public/data/liveGames',currentLiveGameId),_0x3d412b={};_0x3d412b[_0x11bd41(0xb71)+_0x5067ec+_0x11bd41(0xea4)]=_0x11bd41(0x6e9);try{await updateDoc(_0x4ec010,_0x3d412b);}catch(_0x2cb425){console['error']('Failed\x20to\x20kick\x20player\x20'+_0x5067ec+':',_0x2cb425),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function authenticateUser(){const _0x2e3307=_0x4247b4;try{typeof __initial_auth_token!==_0x2e3307(0x729)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x7654fa){console['error']('Authentication\x20failed:',_0x7654fa),showMessage(_0x2e3307(0xe50));}}function showView(_0x4e925e){const _0x1faedf=_0x4247b4;adminView[_0x1faedf(0x457)][_0x1faedf(0xea1)](_0x1faedf(0x845)),studentView[_0x1faedf(0x457)][_0x1faedf(0xea1)](_0x1faedf(0x845)),projectDashboardView[_0x1faedf(0x457)][_0x1faedf(0xea1)]('hidden'),projectDetailView['classList'][_0x1faedf(0xea1)](_0x1faedf(0x845)),quizResultsView[_0x1faedf(0x457)][_0x1faedf(0xea1)]('hidden'),liveGameView['classList'][_0x1faedf(0xea1)](_0x1faedf(0x845)),document[_0x1faedf(0x7c7)](_0x1faedf(0xd5d))['classList'][_0x1faedf(0xea1)]('hidden'),studentInitialView['classList'][_0x1faedf(0xea1)](_0x1faedf(0x845)),studentJoinGameView['classList'][_0x1faedf(0xea1)](_0x1faedf(0x845)),studentNameSelectionView[_0x1faedf(0x457)][_0x1faedf(0xea1)]('hidden'),studentQuizArea['classList'][_0x1faedf(0xea1)]('hidden'),studentResultArea['classList']['add'](_0x1faedf(0x845)),studentReadingArea[_0x1faedf(0x457)][_0x1faedf(0xea1)](_0x1faedf(0x845));const _0x3b5c63=document['getElementById'](_0x1faedf(0xdfa)),_0x26ee07=document['getElementById'](_0x1faedf(0x4da));if(_0x3b5c63)_0x3b5c63[_0x1faedf(0x457)]['add'](_0x1faedf(0x845));if(_0x26ee07)_0x26ee07['classList']['add'](_0x1faedf(0x845));switch(_0x4e925e){case _0x1faedf(0x928):adminView[_0x1faedf(0x457)][_0x1faedf(0xd11)](_0x1faedf(0x845)),projectDashboardView[_0x1faedf(0x457)][_0x1faedf(0xd11)](_0x1faedf(0x845));break;case'project-detail':adminView[_0x1faedf(0x457)][_0x1faedf(0xd11)](_0x1faedf(0x845)),projectDetailView[_0x1faedf(0x457)][_0x1faedf(0xd11)](_0x1faedf(0x845));break;case _0x1faedf(0xa14):adminView[_0x1faedf(0x457)][_0x1faedf(0xd11)](_0x1faedf(0x845)),quizResultsView['classList'][_0x1faedf(0xd11)](_0x1faedf(0x845));break;case _0x1faedf(0xc1b):studentView[_0x1faedf(0x457)][_0x1faedf(0xd11)](_0x1faedf(0x845)),studentInitialView[_0x1faedf(0x457)][_0x1faedf(0xd11)](_0x1faedf(0x845));break;case _0x1faedf(0x8eb):liveGameView['classList'][_0x1faedf(0xd11)]('hidden');break;case _0x1faedf(0x2fd):studentView[_0x1faedf(0x457)]['remove']('hidden');if(_0x3b5c63)_0x3b5c63[_0x1faedf(0x457)][_0x1faedf(0xd11)](_0x1faedf(0x845));break;case'student-progress':studentView[_0x1faedf(0x457)][_0x1faedf(0xd11)]('hidden');if(_0x26ee07)_0x26ee07[_0x1faedf(0x457)]['remove'](_0x1faedf(0x845));break;default:studentView['classList'][_0x1faedf(0xd11)]('hidden'),studentInitialView[_0x1faedf(0x457)][_0x1faedf(0xd11)]('hidden');break;}}function showJoinGameView(){const _0x325949=_0x4247b4;studentInitialView[_0x325949(0x457)][_0x325949(0xea1)](_0x325949(0x845)),studentJoinGameView['classList']['remove'](_0x325949(0x845));}async function handleSaveVisibilitySettings(){const _0x522cd1=_0x4247b4;if(!currentProjectId)return;const _0x3c1dba=doc(db,'artifacts/'+appId+_0x522cd1(0xbcb),currentProjectId);try{await updateDoc(_0x3c1dba,{'settings.showInStudentDashboard':document[_0x522cd1(0x7c7)](_0x522cd1(0x29c))[_0x522cd1(0xa20)],'settings.isPasscodeEnabled':document[_0x522cd1(0x7c7)]('enable-passcode-checkbox')[_0x522cd1(0xa20)],'settings.passcode':document[_0x522cd1(0x7c7)]('project-passcode-input')[_0x522cd1(0xc66)][_0x522cd1(0xba3)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x76a806){console[_0x522cd1(0xd5b)](_0x522cd1(0xe1f),_0x76a806),showMessage(_0x522cd1(0x896));}}function setupEventListeners(){const _0xf3041d=_0x4247b4,_0x2d4615=document[_0xf3041d(0x7c7)](_0xf3041d(0x266)),_0x184e28=document[_0xf3041d(0x7c7)](_0xf3041d(0x7c9));_0x2d4615&&_0x184e28&&(_0x184e28[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>_0x2d4615[_0xf3041d(0x2f0)]()),_0x2d4615['addEventListener'](_0xf3041d(0xc7a),_0x42703e=>{const _0x55223c=_0xf3041d;_0x42703e[_0x55223c(0xcbd)][_0x55223c(0xf34)][_0x55223c(0x2d2)]>0x0&&handleScanImageForText(_0x42703e[_0x55223c(0xcbd)][_0x55223c(0xf34)][0x0]);}));const _0x4c52b9=document[_0xf3041d(0x7c7)](_0xf3041d(0x6a7));_0x4c52b9&&_0x4c52b9[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x95194a=_0xf3041d,_0x4bb84b=document[_0x95194a(0x7c7)](_0x95194a(0xee6)),_0x1d5b95=document[_0x95194a(0x7c7)]('wager-amount-display');_0x4bb84b&&(_0x4bb84b[_0x95194a(0xc66)]=_0x4bb84b[_0x95194a(0x839)],_0x1d5b95&&(_0x1d5b95['textContent']=_0x4bb84b[_0x95194a(0xc66)],_0x1d5b95[_0x95194a(0x457)][_0x95194a(0xd11)](_0x95194a(0x2e6)),void _0x1d5b95[_0x95194a(0x83b)],_0x1d5b95[_0x95194a(0x457)][_0x95194a(0xea1)](_0x95194a(0x425),_0x95194a(0xf12),_0x95194a(0x2e6),_0x95194a(0xde4)),setTimeout(()=>_0x1d5b95[_0x95194a(0x457)]['remove']('scale-125','text-red-600'),0xc8)));});document[_0xf3041d(0x7c7)](_0xf3041d(0xe47))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x47b564=_0xf3041d;document[_0x47b564(0x7c7)](_0x47b564(0x55a))[_0x47b564(0x457)]['add']('hidden');}),document[_0xf3041d(0x7c7)]('confirm-wager-btn')[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x39b62a=_0xf3041d,_0xa78efb=document[_0x39b62a(0x7c7)](_0x39b62a(0x55a)),_0x2a0f11=document[_0x39b62a(0x7c7)]('selected-answer-index-hidden-wager'),_0x29f2a6=document[_0x39b62a(0x7c7)](_0x39b62a(0xee6))[_0x39b62a(0xc66)],_0x1e5b90=_0x2a0f11['dataset'][_0x39b62a(0x568)],_0x3186ac=JSON[_0x39b62a(0xcfd)](_0x2a0f11[_0x39b62a(0xefd)]['question']),_0x5f2fd9=JSON[_0x39b62a(0xcfd)](_0x2a0f11[_0x39b62a(0xefd)][_0x39b62a(0x6c3)]),_0x3d5e00=_0x2a0f11[_0x39b62a(0xefd)][_0x39b62a(0xb4c)];_0xa78efb[_0x39b62a(0x457)][_0x39b62a(0xea1)](_0x39b62a(0x845)),handleSyncAnswerSubmit(_0x1e5b90,_0x3186ac,_0x5f2fd9,_0x3d5e00,![],_0x29f2a6);}),document[_0xf3041d(0xf52)](_0xf3041d(0x346))[_0xf3041d(0x9fb)](_0x2c562a=>{const _0x4fc673=_0xf3041d;_0x2c562a[_0x4fc673(0xf03)](_0x4fc673(0xc7a),_0x5b497b=>{const _0x11ec4c=_0x4fc673,_0x23ab50=document[_0x11ec4c(0x7c7)](_0x11ec4c(0x6db));_0x5b497b[_0x11ec4c(0xcbd)][_0x11ec4c(0xc66)]==='anonymous'?_0x23ab50[_0x11ec4c(0x457)][_0x11ec4c(0xd11)]('hidden'):_0x23ab50[_0x11ec4c(0x457)][_0x11ec4c(0xea1)](_0x11ec4c(0x845));});}),document[_0xf3041d(0x7c7)](_0xf3041d(0x8fb))[_0xf3041d(0xf03)]('change',_0x59191f=>{const _0x12a9ab=_0xf3041d;document[_0x12a9ab(0x7c7)](_0x12a9ab(0xa00))[_0x12a9ab(0x457)][_0x12a9ab(0x29a)](_0x12a9ab(0x845),!_0x59191f[_0x12a9ab(0xcbd)][_0x12a9ab(0xa20)]);});const _0xec6ae6=document[_0xf3041d(0x7c7)]('cancel-confidence-btn'),_0x2a40fd=document['getElementById'](_0xf3041d(0xa63));_0xec6ae6&&_0x2a40fd&&_0xec6ae6[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x52168f=_0xf3041d;_0x2a40fd[_0x52168f(0x457)][_0x52168f(0xea1)](_0x52168f(0x845)),_0x2a40fd[_0x52168f(0xefd)][_0x52168f(0xb92)]='';});const _0x4d2c1e=document[_0xf3041d(0x7c7)](_0xf3041d(0x2c5));_0x4d2c1e&&(_0x4d2c1e[_0xf3041d(0xf03)](_0xf3041d(0xd41),wakeUpScreen),_0x4d2c1e[_0xf3041d(0xf03)](_0xf3041d(0x8b9),wakeUpScreen));document[_0xf3041d(0x7c7)](_0xf3041d(0xf44))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),async()=>{const _0x5e0846=_0xf3041d;if(!currentBlueprintProjectId)return;const _0x138220=document[_0x5e0846(0x7c7)]('bp-reference-file-url')[_0x5e0846(0xc66)][_0x5e0846(0xba3)](),_0x418dc4=doc(db,_0x5e0846(0x2b7)+appId+_0x5e0846(0x209),currentBlueprintProjectId);try{await updateDoc(_0x418dc4,{'referenceFileUrl':_0x138220}),showMessage(_0x5e0846(0xd68));}catch(_0x327b54){console[_0x5e0846(0xd5b)](_0x5e0846(0xd69),_0x327b54),showMessage(_0x5e0846(0x896));}}),document['getElementById'](_0xf3041d(0xb9c))['addEventListener'](_0xf3041d(0x2f0),handleAddParallelShortcutTab),document[_0xf3041d(0x7c7)]('parallel-test-input-area')['addEventListener'](_0xf3041d(0x2f0),_0x5e1d36=>{const _0x43420b=_0xf3041d;_0x5e1d36['target']['closest'](_0x43420b(0x81b))&&(activeParallelShortcutTabId=_0x43420b(0x8a9),renderAdditionalParallelShortcutsModal(),document['getElementById'](_0x43420b(0xac6))[_0x43420b(0x457)][_0x43420b(0xd11)](_0x43420b(0x845)));}),document[_0xf3041d(0x7c7)](_0xf3041d(0x9dd))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x1e52ff=_0xf3041d;document[_0x1e52ff(0x7c7)]('additional-parallel-shortcuts-modal')[_0x1e52ff(0x457)][_0x1e52ff(0xea1)](_0x1e52ff(0x845));}),document['addEventListener']('click',_0x5ca667=>{const _0x2c6b6b=_0xf3041d;!_0x5ca667[_0x2c6b6b(0xcbd)][_0x2c6b6b(0x5bf)](_0x2c6b6b(0xa86))&&document[_0x2c6b6b(0xf52)](_0x2c6b6b(0x295))[_0x2c6b6b(0x9fb)](_0x1042e1=>_0x1042e1[_0x2c6b6b(0x457)][_0x2c6b6b(0xea1)](_0x2c6b6b(0x845)));}),document['getElementById']('add-file-shortcut-tab-btn')[_0xf3041d(0xf03)](_0xf3041d(0x2f0),handleAddFileShortcutTab),document[_0xf3041d(0x7c7)](_0xf3041d(0x211))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),_0x56e748=>{const _0x22b2ba=_0xf3041d;_0x56e748['target'][_0x22b2ba(0x5bf)](_0x22b2ba(0x298))&&(activeFileShortcutTabId=_0x22b2ba(0x8a9),renderAdditionalFileShortcutsModal(),document[_0x22b2ba(0x7c7)](_0x22b2ba(0xde5))['classList'][_0x22b2ba(0xd11)](_0x22b2ba(0x845)));}),document[_0xf3041d(0x7c7)](_0xf3041d(0x79d))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x59de83=_0xf3041d;document[_0x59de83(0x7c7)]('additional-file-shortcuts-modal')[_0x59de83(0x457)][_0x59de83(0xea1)]('hidden');}),document[_0xf3041d(0xf03)](_0xf3041d(0x2f0),_0x94829=>{const _0x2ee52b=_0xf3041d;!_0x94829[_0x2ee52b(0xcbd)][_0x2ee52b(0x5bf)](_0x2ee52b(0x3a0))&&document[_0x2ee52b(0xf52)](_0x2ee52b(0x7f7))[_0x2ee52b(0x9fb)](_0x9a32be=>_0x9a32be[_0x2ee52b(0x457)]['add']('hidden'));}),document['getElementById']('add-shortcut-tab-btn')[_0xf3041d(0xf03)](_0xf3041d(0x2f0),handleAddShortcutTab),document[_0xf3041d(0x7c7)]('parallel-shortcut-container')[_0xf3041d(0xf03)](_0xf3041d(0x2f0),_0x906ddf=>{const _0x17da42=_0xf3041d,_0x5439bc=_0x906ddf[_0x17da42(0xcbd)][_0x17da42(0x5bf)](_0x17da42(0x6bc)),_0x27ae36=_0x906ddf[_0x17da42(0xcbd)][_0x17da42(0x5bf)](_0x17da42(0xe1e)),_0x7da186=_0x906ddf['target']['closest'](_0x17da42(0x8ab));if(_0x27ae36)openParallelTestShortcutEditor(_0x27ae36[_0x17da42(0xefd)]['id']);else{if(_0x7da186){const _0x1c9e38=_0x7da186[_0x17da42(0xefd)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0xe5babb=_0x17da42,_0x16cbea=parallelTestShortcuts[_0xe5babb(0x498)](_0x386126=>_0x386126['id']!==_0x1c9e38),_0x4a9d38=doc(db,'globalSettings',_0xe5babb(0xd1e));await setDoc(_0x4a9d38,{'shortcuts':_0x16cbea},{'merge':!![]});});}else _0x5439bc&&handleParallelTestShortcutClick(_0x5439bc[_0x17da42(0xefd)]['id']);}}),document[_0xf3041d(0x7c7)](_0xf3041d(0xa9b))['addEventListener'](_0xf3041d(0x2f0),()=>openParallelTestShortcutEditor(null)),document[_0xf3041d(0x7c7)](_0xf3041d(0x48f))['addEventListener'](_0xf3041d(0x2f0),()=>{const _0x3bee0c=_0xf3041d;document[_0x3bee0c(0x7c7)]('parallel-shortcut-editor-modal')[_0x3bee0c(0x457)][_0x3bee0c(0xea1)](_0x3bee0c(0x845));}),document[_0xf3041d(0x7c7)]('save-parallel-shortcut-btn')['addEventListener'](_0xf3041d(0x2f0),saveParallelTestShortcutChanges),document[_0xf3041d(0x7c7)](_0xf3041d(0xc30))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),_0x4d8925=>{const _0x44f409=_0xf3041d;_0x4d8925[_0x44f409(0xcbd)][_0x44f409(0x5bf)](_0x44f409(0x81b))&&document[_0x44f409(0x7c7)](_0x44f409(0xac6))[_0x44f409(0x457)][_0x44f409(0xd11)](_0x44f409(0x845));}),document[_0xf3041d(0x7c7)](_0xf3041d(0x9dd))[_0xf3041d(0xf03)]('click',()=>{const _0x3fef72=_0xf3041d;document[_0x3fef72(0x7c7)](_0x3fef72(0xac6))[_0x3fef72(0x457)]['add'](_0x3fef72(0x845));}),document[_0xf3041d(0x7c7)]('additional-parallel-shortcuts-list')[_0xf3041d(0xf03)](_0xf3041d(0x2f0),_0x2fc5ba=>{const _0x1fa4bf=_0xf3041d,_0x84a89a=document[_0x1fa4bf(0x7c7)]('additional-parallel-shortcuts-modal'),_0x2bcc1b=_0x2fc5ba[_0x1fa4bf(0xcbd)][_0x1fa4bf(0x5bf)](_0x1fa4bf(0x2e7)),_0x559cae=_0x2fc5ba[_0x1fa4bf(0xcbd)][_0x1fa4bf(0x5bf)]('.edit-hidden-parallel-shortcut-btn'),_0x5ddf2f=_0x2fc5ba[_0x1fa4bf(0xcbd)][_0x1fa4bf(0x5bf)](_0x1fa4bf(0xbd8));if(_0x2bcc1b)_0x84a89a[_0x1fa4bf(0x457)][_0x1fa4bf(0xea1)](_0x1fa4bf(0x845)),handleParallelTestShortcutClick(_0x2bcc1b[_0x1fa4bf(0xefd)]['id']);else{if(_0x559cae)_0x84a89a[_0x1fa4bf(0x457)][_0x1fa4bf(0xea1)](_0x1fa4bf(0x845)),openParallelTestShortcutEditor(_0x559cae['dataset']['id']);else{if(_0x5ddf2f){const _0x382a23=_0x5ddf2f[_0x1fa4bf(0xefd)]['id'];showConfirmation(_0x1fa4bf(0x555),async()=>{const _0x2ca636=_0x1fa4bf,_0x3d2a08=parallelTestShortcuts['filter'](_0x55fa58=>_0x55fa58['id']!==_0x382a23),_0x341ebd=doc(db,'globalSettings',_0x2ca636(0xd1e));await setDoc(_0x341ebd,{'shortcuts':_0x3d2a08},{'merge':!![]});});}}}}),document[_0xf3041d(0x7c7)](_0xf3041d(0x2d8))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),_0x52bd71=>{const _0x55d2b9=_0xf3041d,_0x866808=_0x52bd71[_0x55d2b9(0xcbd)][_0x55d2b9(0x5bf)](_0x55d2b9(0xc95)),_0x1b4919=_0x52bd71[_0x55d2b9(0xcbd)][_0x55d2b9(0x5bf)](_0x55d2b9(0x8d9)),_0xc0318b=_0x52bd71[_0x55d2b9(0xcbd)][_0x55d2b9(0x5bf)](_0x55d2b9(0xa03));if(_0x1b4919)openFileShortcutEditor(_0x1b4919[_0x55d2b9(0xefd)]['id']);else{if(_0xc0318b){const _0x2246b3=_0xc0318b[_0x55d2b9(0xefd)]['id'];showConfirmation(_0x55d2b9(0x555),async()=>{const _0x561bd0=_0x55d2b9,_0x5ca7c9=fileShortcuts[_0x561bd0(0x498)](_0x2e1daf=>_0x2e1daf['id']!==_0x2246b3),_0x117b53=doc(db,_0x561bd0(0x3ea),_0x561bd0(0xdf8));await setDoc(_0x117b53,{'shortcuts':_0x5ca7c9},{'merge':!![]});});}else _0x866808&&handleFileShortcutClick(_0x866808[_0x55d2b9(0xefd)]['id']);}}),document[_0xf3041d(0x7c7)](_0xf3041d(0xeac))['addEventListener'](_0xf3041d(0x2f0),()=>openFileShortcutEditor(null)),document['getElementById'](_0xf3041d(0x6c9))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x7c7581=_0xf3041d;document['getElementById']('file-shortcut-editor-modal')[_0x7c7581(0x457)]['add']('hidden');}),document[_0xf3041d(0x7c7)]('save-file-shortcut-btn')['addEventListener'](_0xf3041d(0x2f0),saveFileShortcutChanges),document[_0xf3041d(0x7c7)]('file-input-area')[_0xf3041d(0xf03)]('click',_0x5259f0=>{const _0x3e2e88=_0xf3041d;_0x5259f0[_0x3e2e88(0xcbd)]['closest'](_0x3e2e88(0x298))&&document[_0x3e2e88(0x7c7)](_0x3e2e88(0xde5))['classList'][_0x3e2e88(0xd11)]('hidden');}),document[_0xf3041d(0x7c7)](_0xf3041d(0x79d))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x364daf=_0xf3041d;document[_0x364daf(0x7c7)]('additional-file-shortcuts-modal')[_0x364daf(0x457)][_0x364daf(0xea1)](_0x364daf(0x845));}),document[_0xf3041d(0x7c7)](_0xf3041d(0xd8d))['addEventListener'](_0xf3041d(0x2f0),_0xdac1f4=>{const _0x3599ed=_0xf3041d,_0x566c5d=document[_0x3599ed(0x7c7)]('additional-file-shortcuts-modal'),_0xf1ff74=_0xdac1f4[_0x3599ed(0xcbd)][_0x3599ed(0x5bf)]('.use-hidden-file-shortcut-btn'),_0x31aaee=_0xdac1f4[_0x3599ed(0xcbd)][_0x3599ed(0x5bf)](_0x3599ed(0xc3d)),_0x13d9d9=_0xdac1f4[_0x3599ed(0xcbd)][_0x3599ed(0x5bf)]('.delete-hidden-file-shortcut-btn');if(_0xf1ff74)_0x566c5d[_0x3599ed(0x457)][_0x3599ed(0xea1)]('hidden'),handleFileShortcutClick(_0xf1ff74[_0x3599ed(0xefd)]['id']);else{if(_0x31aaee)_0x566c5d[_0x3599ed(0x457)][_0x3599ed(0xea1)]('hidden'),openFileShortcutEditor(_0x31aaee[_0x3599ed(0xefd)]['id']);else{if(_0x13d9d9){const _0x53d780=_0x13d9d9[_0x3599ed(0xefd)]['id'];showConfirmation(_0x3599ed(0x555),async()=>{const _0x2f2bbe=_0x3599ed,_0x4bfed1=fileShortcuts['filter'](_0x1a9531=>_0x1a9531['id']!==_0x53d780),_0x38576e=doc(db,_0x2f2bbe(0x3ea),_0x2f2bbe(0xdf8));await setDoc(_0x38576e,{'shortcuts':_0x4bfed1},{'merge':!![]});});}}}}),document[_0xf3041d(0x7c7)](_0xf3041d(0xc36))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),_0xf2a4a2=>{const _0x159250=_0xf3041d;_0xf2a4a2[_0x159250(0xcbd)]['closest'](_0x159250(0x44f))&&(activeShortcutTabId=_0x159250(0x8a9),renderAdditionalShortcutsModal(),document[_0x159250(0x7c7)](_0x159250(0x46d))['classList'][_0x159250(0xd11)](_0x159250(0x845)));}),document[_0xf3041d(0x7c7)](_0xf3041d(0x4f0))['addEventListener'](_0xf3041d(0x2f0),()=>{const _0x5a5b57=_0xf3041d;document[_0x5a5b57(0x7c7)](_0x5a5b57(0x46d))[_0x5a5b57(0x457)]['add']('hidden');}),document[_0xf3041d(0x7c7)](_0xf3041d(0xa8c))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),_0x3efb7f=>{const _0x5edc8a=_0xf3041d,_0x373d8a=_0x3efb7f[_0x5edc8a(0xcbd)][_0x5edc8a(0x5bf)](_0x5edc8a(0xcd1)),_0x29c7bb=_0x3efb7f[_0x5edc8a(0xcbd)]['closest'](_0x5edc8a(0x2e5)),_0x5350ab=_0x3efb7f[_0x5edc8a(0xcbd)][_0x5edc8a(0x5bf)]('.delete-hidden-shortcut-btn'),_0x443adc=document[_0x5edc8a(0x7c7)]('additional-shortcuts-modal');if(_0x373d8a)_0x443adc[_0x5edc8a(0x457)][_0x5edc8a(0xea1)]('hidden'),handleShortcutClick(_0x373d8a['dataset']['id']);else{if(_0x29c7bb)_0x443adc[_0x5edc8a(0x457)][_0x5edc8a(0xea1)](_0x5edc8a(0x845)),openShortcutEditor(_0x29c7bb['dataset']['id']);else{if(_0x5350ab){const _0x228918=_0x5350ab[_0x5edc8a(0xefd)]['id'],_0x5db50b=blueprintShortcuts[_0x5edc8a(0x787)](_0x3d3d3a=>_0x3d3d3a['id']===_0x228918)?.[_0x5edc8a(0x689)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x5db50b+'\x22?',async()=>{const _0x3ee101=_0x5edc8a,_0x2e92a4=blueprintShortcuts[_0x3ee101(0x498)](_0x458bde=>_0x458bde['id']!==_0x228918);try{const _0x4be707=doc(db,_0x3ee101(0x3ea),_0x3ee101(0x557));await setDoc(_0x4be707,{'blueprintShortcuts':_0x2e92a4},{'merge':!![]});}catch(_0x3c129e){console[_0x3ee101(0xd5b)](_0x3ee101(0x9a5),_0x3c129e);}});}}}}),document[_0xf3041d(0x7c7)](_0xf3041d(0x941))['addEventListener']('click',_0x1b4622=>{const _0x24e490=_0xf3041d,_0x304380=_0x1b4622[_0x24e490(0xcbd)][_0x24e490(0x5bf)](_0x24e490(0x9c8)),_0x18ac0d=_0x1b4622[_0x24e490(0xcbd)]['closest'](_0x24e490(0x8ae)),_0x1b371d=_0x1b4622[_0x24e490(0xcbd)]['closest'](_0x24e490(0x863));if(_0x18ac0d)openShortcutEditor(_0x18ac0d['dataset']['id']);else{if(_0x1b371d){const _0x8b8071=_0x1b371d[_0x24e490(0xefd)]['id'],_0x162014=blueprintShortcuts[_0x24e490(0x787)](_0x271630=>_0x271630['id']===_0x8b8071)?.[_0x24e490(0x689)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x162014+'\x22?',async()=>{const _0x5522bd=_0x24e490,_0x5e30ad=blueprintShortcuts[_0x5522bd(0x498)](_0x560fe6=>_0x560fe6['id']!==_0x8b8071);try{const _0x51a8fe=doc(db,_0x5522bd(0x3ea),_0x5522bd(0x557));await setDoc(_0x51a8fe,{'blueprintShortcuts':_0x5e30ad},{'merge':!![]});}catch(_0x4816a5){console[_0x5522bd(0xd5b)](_0x5522bd(0x9a5),_0x4816a5);}});}else _0x304380&&handleShortcutClick(_0x304380['dataset']['id']);}}),document[_0xf3041d(0x7c7)](_0xf3041d(0xa6a))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>openShortcutEditor(null)),document[_0xf3041d(0x7c7)](_0xf3041d(0xd4d))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x1a0117=_0xf3041d;document['getElementById'](_0x1a0117(0xe39))[_0x1a0117(0x457)][_0x1a0117(0xea1)]('hidden');}),document['getElementById'](_0xf3041d(0x43f))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),saveShortcutChanges),document[_0xf3041d(0x7c7)]('generate-from-blueprint-btn')[_0xf3041d(0xf03)](_0xf3041d(0x2f0),async()=>{const _0x4c8121=_0xf3041d,_0x430bac=document['getElementById'](_0x4c8121(0x84e)),_0x496064=document[_0x4c8121(0x7c7)](_0x4c8121(0x2a3));_0x430bac[_0x4c8121(0xf34)][_0x4c8121(0x2d2)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x430bac['files'][0x0],_0x496064[_0x4c8121(0xf34)][0x0]||null):showMessage(_0x4c8121(0xa5c));}),document[_0xf3041d(0x7c7)](_0xf3041d(0x388))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),async _0x2b489e=>{const _0x413d29=_0xf3041d,_0x4cf56e=document[_0x413d29(0x7c7)]('topic-quiz-bank-modal'),_0x47a82a=_0x2b489e[_0x413d29(0xcbd)][_0x413d29(0x5bf)](_0x413d29(0x615)),_0x494647=_0x2b489e[_0x413d29(0xcbd)][_0x413d29(0x5bf)](_0x413d29(0xe55)),_0x40be56=_0x2b489e[_0x413d29(0xcbd)][_0x413d29(0x5bf)](_0x413d29(0x687)),_0x2495df=_0x2b489e[_0x413d29(0xcbd)]['closest'](_0x413d29(0x8f7)),_0x2adc8b=_0x2b489e[_0x413d29(0xcbd)][_0x413d29(0x5bf)]('.bp-live-btn'),_0x554c57=_0x2b489e[_0x413d29(0xcbd)][_0x413d29(0x5bf)](_0x413d29(0xb32));if(_0x47a82a){cameFromBlueprint=!![];const _0x179ae2=_0x47a82a[_0x413d29(0xefd)][_0x413d29(0x3d4)];showQuizDetailView(_0x179ae2),_0x4cf56e[_0x413d29(0x457)]['add'](_0x413d29(0x845));}else{if(_0x494647){const _0x16dee4=_0x494647['dataset'][_0x413d29(0x578)],_0x484ca8=_0x494647[_0x413d29(0xefd)][_0x413d29(0x3d4)],_0x30ec91=allQuizzesGlobal[_0x413d29(0x787)](_0x44739c=>_0x44739c['id']===_0x484ca8),_0x45cf8a=_0x30ec91?_0x30ec91[_0x413d29(0x6b2)]:_0x413d29(0xc08);showConfirmation(_0x413d29(0x4bc)+_0x45cf8a+_0x413d29(0x297),async()=>{const _0x4fb002=_0x413d29;try{const _0x56b2f9=doc(db,_0x4fb002(0x2b7)+appId+_0x4fb002(0x209),currentBlueprintProjectId);await updateDoc(_0x56b2f9,{[_0x4fb002(0x9cf)+_0x16dee4+_0x4fb002(0x2cb)]:arrayRemove(_0x484ca8)}),showMessage(_0x4fb002(0x69b)),openTopicQuizBank(_0x16dee4),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x12aea9){console['error'](_0x4fb002(0x28b),_0x12aea9),showMessage('เกิดข้อผิดพลาดในการนำแบบทดสอบออก');}});}else{if(_0x40be56){cameFromBlueprint=!![];const _0x40c407=_0x40be56[_0x413d29(0xefd)][_0x413d29(0x3d4)],_0x448583=allQuizzesGlobal[_0x413d29(0x787)](_0x34b661=>_0x34b661['id']===_0x40c407);_0x448583&&(startPresentation(_0x448583),_0x4cf56e[_0x413d29(0x457)][_0x413d29(0xea1)]('hidden'));}else{if(_0x2495df){cameFromBlueprint=!![];const _0x3668d8=_0x2495df[_0x413d29(0xefd)]['quizId'],_0x5a3204=allQuizzesGlobal[_0x413d29(0x787)](_0x5a982a=>_0x5a982a['id']===_0x3668d8);_0x5a3204&&(currentQuizData=_0x5a3204,startAdminTest(),_0x4cf56e[_0x413d29(0x457)][_0x413d29(0xea1)]('hidden'));}else{if(_0x2adc8b)cameFromBlueprint=!![],handleStartLiveRace(_0x2adc8b[_0x413d29(0xefd)][_0x413d29(0x3d4)]),_0x4cf56e[_0x413d29(0x457)]['add'](_0x413d29(0x845));else{if(_0x554c57){cameFromBlueprint=!![];const _0x319567=_0x554c57['dataset'][_0x413d29(0x3d4)],_0x1ade24=_0x554c57[_0x413d29(0xefd)][_0x413d29(0x6d5)],_0x16ee9a=allQuizzesGlobal[_0x413d29(0x787)](_0x285c53=>_0x285c53['id']===_0x319567);_0x16ee9a&&(showGameStartConfirmationModal(_0x319567,_0x1ade24,_0x16ee9a['topic']),_0x4cf56e[_0x413d29(0x457)]['add'](_0x413d29(0x845)));}}}}}}}),document[_0xf3041d(0x7c7)]('manual-create-blueprint-btn')[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x52909b=_0xf3041d;document[_0x52909b(0x7c7)]('manual-blueprint-modal')[_0x52909b(0x457)][_0x52909b(0xd11)](_0x52909b(0x845)),document[_0x52909b(0x7c7)](_0x52909b(0x6d4))[_0x52909b(0xc66)]='',document[_0x52909b(0x7c7)](_0x52909b(0x7ca))[_0x52909b(0xc66)]='',document[_0x52909b(0x7c7)]('manual-bp-content')[_0x52909b(0xc66)]='';}),document[_0xf3041d(0x7c7)](_0xf3041d(0xb99))[_0xf3041d(0xf03)]('click',()=>{const _0x40e5ce=_0xf3041d;document[_0x40e5ce(0x7c7)]('manual-blueprint-modal')['classList'][_0x40e5ce(0xea1)](_0x40e5ce(0x845));}),document['getElementById'](_0xf3041d(0xc85))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),handleManualBlueprintSave),document['getElementById'](_0xf3041d(0x5b8))['addEventListener'](_0xf3041d(0x2f0),()=>document[_0xf3041d(0x7c7)](_0xf3041d(0x91c))[_0xf3041d(0x457)]['add'](_0xf3041d(0x845))),document[_0xf3041d(0x7c7)](_0xf3041d(0x828))['addEventListener'](_0xf3041d(0x2f0),handleSaveBlueprintPageSettings),document[_0xf3041d(0x7c7)](_0xf3041d(0xb70))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),openBlueprintQuizSettings),document[_0xf3041d(0x7c7)](_0xf3041d(0xae0))['addEventListener'](_0xf3041d(0x2f0),saveBlueprintProject),document[_0xf3041d(0x7c7)](_0xf3041d(0x74c))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),showBlueprintProjects),document[_0xf3041d(0x7c7)](_0xf3041d(0xb0b))[_0xf3041d(0xf03)]('click',()=>{const _0x15c0a3=_0xf3041d;document['getElementById'](_0x15c0a3(0xaf6))[_0x15c0a3(0x457)][_0x15c0a3(0xea1)](_0x15c0a3(0x845));}),document[_0xf3041d(0x7c7)](_0xf3041d(0xd87))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),_0x4c6569=>{const _0x4a54eb=_0xf3041d,_0x38eca=_0x4c6569[_0x4a54eb(0xcbd)][_0x4a54eb(0x5bf)](_0x4a54eb(0xaf9)),_0x1c45c9=_0x4c6569['target'][_0x4a54eb(0x5bf)]('.delete-bp-project-btn');if(_0x38eca)displayBlueprintProjectManager(_0x38eca[_0x4a54eb(0xefd)]['id']);else _0x1c45c9&&handleDeepDeleteBlueprintProject(_0x1c45c9[_0x4a54eb(0xefd)]['id']);}),document[_0xf3041d(0x7c7)](_0xf3041d(0xbc1))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x2d1f70=_0xf3041d;currentBlueprintProjectId=null,currentProjectId=null,document['getElementById'](_0x2d1f70(0xd5d))[_0x2d1f70(0x457)][_0x2d1f70(0xea1)](_0x2d1f70(0x845)),showView(_0x2d1f70(0x928));}),document['getElementById']('bp-add-topic-btn')[_0xf3041d(0xf03)](_0xf3041d(0x2f0),addTopicToProject),document[_0xf3041d(0x7c7)](_0xf3041d(0x71d))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),async _0x3db2b1=>{const _0x119e01=_0xf3041d,_0x5b446a=_0x3db2b1['target']['closest'](_0x119e01(0xbb9));if(!_0x5b446a)return;const _0x2e8b4d=_0x5b446a[_0x119e01(0xefd)][_0x119e01(0x578)],_0x1bb136=_0x3db2b1[_0x119e01(0xcbd)][_0x119e01(0x5bf)](_0x119e01(0xca2)),_0xf2ae35=_0x3db2b1[_0x119e01(0xcbd)][_0x119e01(0x5bf)]('.bp-create-content-quiz-btn'),_0x12729f=_0x3db2b1[_0x119e01(0xcbd)][_0x119e01(0x5bf)](_0x119e01(0x51e)),_0x8931ed=_0x3db2b1['target'][_0x119e01(0x5bf)](_0x119e01(0xa1f)),_0x84d7ad=_0x3db2b1['target'][_0x119e01(0x5bf)](_0x119e01(0xce0)),_0x1c6f0a=_0x3db2b1[_0x119e01(0xcbd)][_0x119e01(0x5bf)]('.bp-generate-lesson-btn'),_0x52e812=_0x3db2b1[_0x119e01(0xcbd)][_0x119e01(0x5bf)](_0x119e01(0x28c)),_0x11bd1a=_0x3db2b1[_0x119e01(0xcbd)]['closest']('.bp-delete-topic-btn'),_0x21d498=_0x34d94f=>{const _0x22a48e=_0x119e01,_0x5af718=_0x34d94f[_0x22a48e(0x79b)](_0x22a48e(0xcef))['textContent'][_0x22a48e(0xba3)](),_0x305a34=_0x34d94f[_0x22a48e(0x5bf)]('.space-y-1.pl-4')['previousElementSibling'],_0x2abf3e=_0x305a34?_0x305a34['textContent']['trim']():'';return _0x2abf3e+':\x20'+_0x5af718;};if(_0x8931ed)openTopicQuizBank(_0x2e8b4d);else{if(_0x1bb136){const _0x663b36=_0x21d498(_0x5b446a);selectProjectAndGenerateBlueprintQuiz(_0x663b36,null,_0x2e8b4d,!![]);}else{if(_0xf2ae35){const _0x199649=_0x21d498(_0x5b446a);try{const _0x25b34d=doc(db,_0x119e01(0x2b7)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+'/lessons',_0x2e8b4d),_0x56cd94=await getDoc(_0x25b34d);if(_0x56cd94[_0x119e01(0x971)]()){const _0x4e3eb8=_0x56cd94['data']()[_0x119e01(0x2e8)],_0x43c631=document[_0x119e01(0xb74)](_0x119e01(0x58c)),_0x39d547=_0x3b6518=>{const _0x221b51=_0x119e01;if(!_0x3b6518)return'';return _0x43c631[_0x221b51(0x45b)]=_0x3b6518,_0x43c631['textContent']||_0x43c631[_0x221b51(0x8e3)]||'';},_0x1f2e7f=(_0x39d547(_0x4e3eb8[_0x119e01(0x85d)])+'\x20'+_0x39d547(_0x4e3eb8['memory'])+'\x20'+_0x39d547(_0x4e3eb8['summary']))[_0x119e01(0xba3)]();selectProjectAndGenerateBlueprintQuiz(_0x199649,_0x1f2e7f,_0x2e8b4d,![]);}else showMessage(_0x119e01(0x6bb));}catch(_0x392892){console['error']('Error\x20preparing\x20content\x20quiz:',_0x392892),showMessage(_0x119e01(0xe19));}}else{if(_0x12729f){const _0x410cb5=_0x21d498(_0x5b446a);selectProjectAndGenerateBlueprintQuiz(_0x410cb5,null,_0x2e8b4d,![]);}else{if(_0x84d7ad){const _0x57d5c6=doc(db,_0x119e01(0x2b7)+appId+_0x119e01(0x209),currentBlueprintProjectId),_0x1a18ec=await getDoc(_0x57d5c6);if(_0x1a18ec[_0x119e01(0x971)]()){const _0x5d1269=_0x1a18ec[_0x119e01(0xb86)](),_0x458b32=_0x5d1269[_0x119e01(0x345)][_0x2e8b4d];if(_0x458b32&&_0x458b32[_0x119e01(0x55e)]===_0x119e01(0x213))try{const _0x47f2ad=doc(db,_0x119e01(0x2b7)+appId+_0x119e01(0xd40)+currentBlueprintProjectId+_0x119e01(0x653),_0x2e8b4d),_0x25efc2=await getDoc(_0x47f2ad);if(_0x25efc2[_0x119e01(0x971)]()){const _0x4512de=_0x25efc2[_0x119e01(0xb86)]()[_0x119e01(0x2e8)];document[_0x119e01(0x7c7)](_0x119e01(0x982))[_0x119e01(0xb0c)]=_0x119e01(0x49c)+_0x21d498(_0x5b446a),document[_0x119e01(0x7c7)](_0x119e01(0xf64))['innerHTML']=_0x4512de['point'],document[_0x119e01(0x7c7)](_0x119e01(0xc31))['innerHTML']=_0x4512de[_0x119e01(0xdcd)],document['getElementById'](_0x119e01(0x706))[_0x119e01(0x45b)]=_0x4512de['summary'];const _0x3d0c03=document[_0x119e01(0x7c7)]('applicationContent');_0x4512de[_0x119e01(0xde0)]?(currentApplicationData=_0x4512de[_0x119e01(0xde0)],_0x3d0c03[_0x119e01(0x45b)]=currentApplicationData[_0x119e01(0xdeb)]((_0x2bd246,_0x338dbb)=>_0x119e01(0x752)+(_0x338dbb+0x1)+'.\x20'+marked[_0x119e01(0x83e)](_0x2bd246[_0x119e01(0x94b)])+_0x119e01(0xf37)+_0x338dbb+_0x119e01(0x701)+_0x2bd246[_0x119e01(0xb84)]['map']((_0x2395db,_0x3d0969)=>'<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x338dbb+',\x20'+_0x3d0969+_0x119e01(0x313)+String[_0x119e01(0xc3a)](0x61+_0x3d0969)+'.\x20'+marked[_0x119e01(0x83e)](_0x2395db)+_0x119e01(0x4a5))[_0x119e01(0x94c)]('')+_0x119e01(0x915))[_0x119e01(0x94c)]('')):(currentApplicationData=[],_0x3d0c03[_0x119e01(0x45b)]=_0x4512de[_0x119e01(0x282)]||_0x4512de[_0x119e01(0x9d9)]),document['getElementById'](_0x119e01(0xd46))[_0x119e01(0x457)][_0x119e01(0xea1)](_0x119e01(0x845)),document[_0x119e01(0x7c7)]('lesson-sections-container')['classList'][_0x119e01(0xd11)](_0x119e01(0x845)),document[_0x119e01(0x7c7)](_0x119e01(0x5fc))[_0x119e01(0x457)][_0x119e01(0xd11)]('hidden'),window[_0x119e01(0x872)]&&MathJax[_0x119e01(0xecc)]([document[_0x119e01(0x7c7)]('lesson-view-content')]);}else showMessage(_0x119e01(0x24f));}catch(_0x435740){console['error'](_0x119e01(0x4a9),_0x435740),showMessage(_0x119e01(0xa4f));}else showMessage(_0x119e01(0x7b8));}}else{if(_0x1c6f0a){const _0x11acda=_0x21d498(_0x5b446a),_0x2f19ef=doc(db,_0x119e01(0x2b7)+appId+_0x119e01(0x209),currentBlueprintProjectId),_0x5779ad=await getDoc(_0x2f19ef);if(_0x5779ad[_0x119e01(0x971)]()){const _0x1edef8=_0x5779ad['data']();generateAndSaveLessonForBlueprint(_0x2e8b4d,_0x11acda,_0x1edef8[_0x119e01(0x712)]);}}else{if(_0x52e812)editTopicInProject(_0x2e8b4d);else _0x11bd1a&&deleteTopicFromProject(_0x2e8b4d);}}}}}}}),document[_0xf3041d(0x7c7)]('fix-lesson-latex-btn')['addEventListener'](_0xf3041d(0x2f0),handleFixLessonLatex),document[_0xf3041d(0x7c7)](_0xf3041d(0xf76))[_0xf3041d(0xf03)]('click',handleExportLessonToPDF),document[_0xf3041d(0x7c7)](_0xf3041d(0x243))[_0xf3041d(0xf03)]('click',()=>{const _0x1b7687=_0xf3041d;document[_0x1b7687(0x7c7)]('lesson-view-modal')['classList'][_0x1b7687(0xea1)]('hidden');});const _0x558cdb=document['getElementById'](_0xf3041d(0x789)),_0x36514c=document['getElementById'](_0xf3041d(0xf1e));_0x558cdb[_0xf3041d(0xf03)](_0xf3041d(0xc7a),()=>{const _0x2301ca=_0xf3041d;_0x36514c[_0x2301ca(0x457)][_0x2301ca(0x29a)](_0x2301ca(0x845),!_0x558cdb[_0x2301ca(0xa20)]);});const _0x4938c2=document[_0xf3041d(0x7c7)](_0xf3041d(0x4f6)),_0x55fdba=document['getElementById'](_0xf3041d(0x546));_0x4938c2[_0xf3041d(0xf03)](_0xf3041d(0xc7a),()=>{const _0x39d0f7=_0xf3041d;_0x55fdba[_0x39d0f7(0x457)][_0x39d0f7(0x29a)](_0x39d0f7(0x845),!_0x4938c2['checked']);});const _0x7b85a5=document[_0xf3041d(0x7c7)](_0xf3041d(0x5ce)),_0x53d161=document['getElementById']('modal-confidence-mode-container');_0x7b85a5['addEventListener'](_0xf3041d(0xc7a),()=>{const _0x1b3d93=_0xf3041d;_0x53d161[_0x1b3d93(0x457)][_0x1b3d93(0x29a)](_0x1b3d93(0x845),!_0x7b85a5[_0x1b3d93(0xa20)]);});const _0x258bf1=document[_0xf3041d(0x7c7)](_0xf3041d(0xa63)),_0x4ba186=async _0x4aa59d=>{const _0x2c8dbd=_0xf3041d,_0x1c32be=document['getElementById'](_0x2c8dbd(0xa63)),_0xec7b32=_0x1c32be[_0x2c8dbd(0xefd)][_0x2c8dbd(0xb92)],_0x1b6c2d=document[_0x2c8dbd(0x7c7)](_0x2c8dbd(0x6fa));_0x1c32be[_0x2c8dbd(0x457)][_0x2c8dbd(0xea1)](_0x2c8dbd(0x845));if(_0xec7b32===_0x2c8dbd(0x7ee)){const _0x3b79f3=_0x1b6c2d[_0x2c8dbd(0xc66)],_0x4b4218={'answer':_0x3b79f3,'wasConfident':_0x4aa59d};proceedToNextQuestion(_0x4b4218);}else{if(_0xec7b32==='sync'){const _0x16e752=_0x1b6c2d['dataset'][_0x2c8dbd(0x568)],_0x2cfddf=JSON[_0x2c8dbd(0xcfd)](_0x1b6c2d[_0x2c8dbd(0xefd)]['question']),_0x29a4bf=JSON[_0x2c8dbd(0xcfd)](_0x1b6c2d[_0x2c8dbd(0xefd)]['gameData']),_0x34912c=_0x1b6c2d['dataset']['playerName'];handleSyncAnswerSubmit(_0x16e752,_0x2cfddf,_0x29a4bf,_0x34912c,_0x4aa59d);}}_0x1c32be['dataset']['currentMode']='';};document[_0xf3041d(0x7c7)](_0xf3041d(0x77f))[_0xf3041d(0xf03)]('click',()=>_0x4ba186(!![])),document['getElementById'](_0xf3041d(0x1f7))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>_0x4ba186(![])),liveGameView[_0xf3041d(0xf03)](_0xf3041d(0x2f0),_0x104cbe=>{const _0x40ad5e=_0xf3041d,_0x529413=_0x104cbe[_0x40ad5e(0xcbd)][_0x40ad5e(0x5bf)](_0x40ad5e(0x656));if(_0x529413){const _0x5bbf1a=_0x529413[_0x40ad5e(0xefd)]['playerName'];_0x5bbf1a&&handleKickPlayerSync(_0x5bbf1a);}});const _0x5d78d0=document[_0xf3041d(0x7c7)](_0xf3041d(0x95a)),_0x226708=document[_0xf3041d(0x7c7)](_0xf3041d(0x6dd));_0x226708[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x25f7d5=_0xf3041d;document[_0x25f7d5(0x7c7)](_0x25f7d5(0x2c6))[_0x25f7d5(0x457)][_0x25f7d5(0xea1)](_0x25f7d5(0x845));}),_0x5d78d0[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x5b22ca=_0xf3041d,_0x51c9a1=document[_0x5b22ca(0x7c7)](_0x5b22ca(0xe63))[_0x5b22ca(0xc66)],_0xf4aa5b=document[_0x5b22ca(0x7c7)](_0x5b22ca(0xce6))[_0x5b22ca(0xc66)],_0x1d49f1=document[_0x5b22ca(0x7c7)](_0x5b22ca(0x807))['checked'];document[_0x5b22ca(0x7c7)]('confirm-game-start-modal')[_0x5b22ca(0x457)]['add'](_0x5b22ca(0x845));switch(_0xf4aa5b){case _0x5b22ca(0x2bf):handleStartLiveRace(_0x51c9a1,_0x1d49f1);break;case _0x5b22ca(0xbd3):handleStartTeamQuiz(_0x51c9a1,_0x1d49f1);break;case _0x5b22ca(0x374):handleStartGroupMode(_0x51c9a1,_0x1d49f1);break;case'sync':const _0x27beb5=document[_0x5b22ca(0x79b)](_0x5b22ca(0xd3f))['value']||'classic';handleStartSyncMode(_0x51c9a1,_0x1d49f1,_0x27beb5);break;}}),document[_0xf3041d(0x7c7)](_0xf3041d(0x77e))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),handleJoinGroupActivity),liveGameView[_0xf3041d(0xf03)](_0xf3041d(0x2f0),_0x2eceb2=>{const _0x386272=_0xf3041d,_0x2eac7a=_0x2eceb2[_0x386272(0xcbd)][_0x386272(0x5bf)]('.summary-bar-item');document[_0x386272(0xf52)]('.live-summary-tooltip.visible')['forEach'](_0x472e6f=>{const _0xe6bdb8=_0x386272;(!_0x2eac7a||_0x472e6f['id']!==_0x2eac7a[_0xe6bdb8(0xefd)][_0xe6bdb8(0x5df)])&&_0x472e6f[_0xe6bdb8(0x457)][_0xe6bdb8(0xd11)](_0xe6bdb8(0x26d));});if(!_0x2eac7a)return;const _0x10ded9=_0x2eac7a['dataset'][_0x386272(0x5df)],_0x1e3af7=document[_0x386272(0x7c7)](_0x10ded9);_0x1e3af7&&_0x1e3af7[_0x386272(0x457)]['toggle'](_0x386272(0x26d));}),liveGameView[_0xf3041d(0xf03)]('click',_0x86a98f=>{const _0x5e16ec=_0xf3041d;if(_0x86a98f[_0x5e16ec(0xcbd)][_0x5e16ec(0x457)]['contains'](_0x5e16ec(0x63e))){const _0x5f2586=_0x86a98f['target'][_0x5e16ec(0xefd)][_0x5e16ec(0xb4c)];_0x5f2586&&handleKickPlayer(_0x5f2586);}}),document['getElementById']('project-title')['addEventListener'](_0xf3041d(0x667),()=>document[_0xf3041d(0x7c7)](_0xf3041d(0x232))[_0xf3041d(0x457)][_0xf3041d(0xd11)](_0xf3041d(0x845))),document[_0xf3041d(0x7c7)](_0xf3041d(0x232))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),handleSaveProjectName),document[_0xf3041d(0x7c7)](_0xf3041d(0xe08))[_0xf3041d(0xf03)]('keydown',_0x94646=>{const _0x51d0e9=_0xf3041d;_0x94646[_0x51d0e9(0xd1c)]===_0x51d0e9(0xd43)&&(_0x94646[_0x51d0e9(0x375)](),_0x94646[_0x51d0e9(0xcbd)][_0x51d0e9(0xa12)](),handleSaveProjectName());}),document[_0xf3041d(0x7c7)](_0xf3041d(0xb7b))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x26c6e7=_0xf3041d;document['getElementById']('bulk-quiz-settings-modal')[_0x26c6e7(0x457)][_0x26c6e7(0xd11)](_0x26c6e7(0x845));}),document['getElementById'](_0xf3041d(0x6f1))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x506e5e=_0xf3041d;document[_0x506e5e(0x7c7)](_0x506e5e(0x285))[_0x506e5e(0x457)]['add'](_0x506e5e(0x845));}),document[_0xf3041d(0x7c7)]('confirm-bulk-quiz-settings-btn')[_0xf3041d(0xf03)]('click',handleBulkUpdateQuizSettings),document[_0xf3041d(0x7c7)](_0xf3041d(0xee8))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),handleModeSwitch),document[_0xf3041d(0x7c7)](_0xf3041d(0x9e0))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),handleUpdateOldQuizzes),document[_0xf3041d(0x7c7)]('reset-project-order-btn')[_0xf3041d(0xf03)]('click',handleResetProjectOrder),document[_0xf3041d(0x7c7)](_0xf3041d(0x79c))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),handleSaveVisibilitySettings),document['getElementById'](_0xf3041d(0xb4e))[_0xf3041d(0xf03)]('click',handleAddCustomMathTopic),document[_0xf3041d(0x7c7)](_0xf3041d(0x83d))['addEventListener'](_0xf3041d(0x2f0),handleSelectAllTopics),document[_0xf3041d(0x7c7)](_0xf3041d(0x3bc))[_0xf3041d(0xf03)]('click',handleDeselectAllTopics),document['getElementById']('back-to-dashboard-btn')[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}}),document['getElementById']('back-to-project-btn')[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x4a91d4=_0xf3041d;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x4a91d4(0x69d));}}),document[_0xf3041d(0x7c7)](_0xf3041d(0x4dd))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{showView('admin-dashboard');}),document['getElementById'](_0xf3041d(0x954))[_0xf3041d(0xf03)]('click',()=>{const _0x1f5032=_0xf3041d;messageModal[_0x1f5032(0x457)][_0x1f5032(0xea1)](_0x1f5032(0x845)),typeof modalConfirmAction===_0x1f5032(0x682)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0xf3041d(0x536))[_0xf3041d(0xf03)]('click',()=>createProjectModal[_0xf3041d(0x457)]['remove']('hidden')),document[_0xf3041d(0x7c7)]('cancel-create-project-btn')[_0xf3041d(0xf03)]('click',()=>createProjectModal[_0xf3041d(0x457)][_0xf3041d(0xea1)]('hidden')),document[_0xf3041d(0x7c7)](_0xf3041d(0x4ff))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>adminPasswordModal[_0xf3041d(0x457)][_0xf3041d(0xea1)](_0xf3041d(0x845))),document[_0xf3041d(0x7c7)](_0xf3041d(0x25a))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),handleAdminLogin),document[_0xf3041d(0x7c7)]('admin-password-input')[_0xf3041d(0xf03)]('keyup',_0x118282=>{const _0x230ec0=_0xf3041d;if(_0x118282[_0x230ec0(0xd1c)]===_0x230ec0(0xd43))handleAdminLogin();}),document[_0xf3041d(0x7c7)]('cancel-delete-btn')[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x3ff4a8=_0xf3041d;confirmationModal[_0x3ff4a8(0x457)]['add'](_0x3ff4a8(0x845)),typeof cancelAction===_0x3ff4a8(0x682)&&cancelAction(),confirmAction=null,cancelAction=null;}),document[_0xf3041d(0x7c7)]('confirm-delete-btn')[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x55c66c=_0xf3041d;confirmAction&&confirmAction(),confirmationModal[_0x55c66c(0x457)]['add']('hidden'),confirmAction=null,cancelAction=null;}),document['getElementById']('cancel-rename-quiz-btn')[_0xf3041d(0xf03)]('click',()=>renameQuizModal[_0xf3041d(0x457)][_0xf3041d(0xea1)](_0xf3041d(0x845))),document[_0xf3041d(0x7c7)](_0xf3041d(0x384))[_0xf3041d(0xf03)]('click',confirmRenameQuiz),document['getElementById'](_0xf3041d(0xd3d))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>moveQuizModal[_0xf3041d(0x457)][_0xf3041d(0xea1)](_0xf3041d(0x845))),document[_0xf3041d(0x7c7)]('confirm-move-quiz-btn')['addEventListener'](_0xf3041d(0x2f0),confirmMoveQuiz),document[_0xf3041d(0x7c7)](_0xf3041d(0xcba))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>quizSettingsModal[_0xf3041d(0x457)][_0xf3041d(0xea1)](_0xf3041d(0x845))),document['getElementById'](_0xf3041d(0x389))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),confirmQuizSettings),document['getElementById'](_0xf3041d(0xae1))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>quizStatusModal[_0xf3041d(0x457)]['add'](_0xf3041d(0x845))),document[_0xf3041d(0x7c7)](_0xf3041d(0x74a))[_0xf3041d(0xf03)]('click',confirmQuizStatus);const _0x36ca98=document['getElementById']('export-pdf-modal');document[_0xf3041d(0x7c7)](_0xf3041d(0x4d7))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x4db911=_0xf3041d;_0x36ca98[_0x4db911(0x457)][_0x4db911(0xea1)](_0x4db911(0x845));}),document[_0xf3041d(0x7c7)]('export-compact-pdf-btn')[_0xf3041d(0xf03)](_0xf3041d(0x2f0),async()=>{const _0x353e69=_0xf3041d,_0x42ed16=allQuizzes[_0x353e69(0x787)](_0x395bea=>_0x395bea['id']===actionTargetId);_0x42ed16?(currentQuizData=_0x42ed16,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x36ca98[_0x353e69(0x457)][_0x353e69(0xea1)](_0x353e69(0x845));}),document[_0xf3041d(0x7c7)]('export-tutor-pdf-btn')['addEventListener'](_0xf3041d(0x2f0),async()=>{const _0x97ffef=_0xf3041d,_0x33a9fc=allQuizzes['find'](_0x41f222=>_0x41f222['id']===actionTargetId);_0x33a9fc?(currentQuizData=_0x33a9fc,exportQuizAsTutorPDF()):showMessage(_0x97ffef(0xef3)),_0x36ca98['classList'][_0x97ffef(0xea1)]('hidden');});const _0x245c68=document[_0xf3041d(0x7c7)](_0xf3041d(0x913));_0x245c68[_0xf3041d(0x45b)]='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x245c68[_0xf3041d(0xf03)](_0xf3041d(0x2f0),openGlobalActivityModal),document[_0xf3041d(0x7c7)](_0xf3041d(0xad1))[_0xf3041d(0xf03)]('click',()=>{const _0x12e0a1=_0xf3041d;document[_0x12e0a1(0x7c7)]('global-activity-modal')[_0x12e0a1(0x457)][_0x12e0a1(0xea1)](_0x12e0a1(0x845));}),document[_0xf3041d(0x7c7)]('global-quiz-search-input')[_0xf3041d(0xf03)]('input',_0x4390af=>{const _0x40c945=_0xf3041d;renderGlobalActivityList(_0x4390af[_0x40c945(0xcbd)][_0x40c945(0xc66)]);}),document[_0xf3041d(0x7c7)](_0xf3041d(0x6d0))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),_0x4d308c=>{const _0x45821b=_0xf3041d,_0x298b1a=_0x4d308c[_0x45821b(0xcbd)]['closest'](_0x45821b(0x8bb));if(!_0x298b1a)return;const _0x474a4c=_0x298b1a[_0x45821b(0xefd)]['id'],_0x33055d=_0x298b1a[_0x45821b(0xefd)][_0x45821b(0x6d5)],_0x494757=allQuizzesGlobal['find'](_0x429d21=>_0x429d21['id']===_0x474a4c);_0x494757&&(document[_0x45821b(0x7c7)](_0x45821b(0x376))[_0x45821b(0x457)][_0x45821b(0xea1)](_0x45821b(0x845)),_0x33055d==='live-race'?handleStartLiveRace(_0x474a4c):showGameStartConfirmationModal(_0x474a4c,_0x33055d,_0x494757['topic']));}),document[_0xf3041d(0x7c7)](_0xf3041d(0x56a))[_0xf3041d(0xf03)](_0xf3041d(0xbe2),renderProjects),document['getElementById'](_0xf3041d(0x493))[_0xf3041d(0xf03)]('change',async()=>{const _0x2acb77=_0xf3041d,_0x2d7d18=document[_0x2acb77(0x7c7)]('project-sort-select')['value'],_0x4cff48=doc(db,_0x2acb77(0x3ea),_0x2acb77(0x557));try{await setDoc(_0x4cff48,{'projectSort':_0x2d7d18},{'merge':!![]});}catch(_0xc82ae0){console[_0x2acb77(0xd5b)](_0x2acb77(0x3ce),_0xc82ae0),showMessage(_0x2acb77(0x355));}}),document['getElementById'](_0xf3041d(0x6ae))[_0xf3041d(0xf03)](_0xf3041d(0xbe2),renderQuizzes),document[_0xf3041d(0x7c7)](_0xf3041d(0x7f1))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x2dacde=_0xf3041d;globalDashboardSettings[_0x2dacde(0x23a)]=_0x2dacde(0x3a7),saveUserPreference('projectView','grid'),renderProjects();}),document[_0xf3041d(0x7c7)](_0xf3041d(0x5d6))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0xa55d63=_0xf3041d;globalDashboardSettings[_0xa55d63(0x23a)]=_0xa55d63(0x7da),saveUserPreference(_0xa55d63(0x23a),'list'),renderProjects();}),manageTab[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>switchProjectTab(_0xf3041d(0x4f8))),resultsTab['addEventListener'](_0xf3041d(0x2f0),()=>switchProjectTab(_0xf3041d(0x349))),leaderboardTab[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>switchProjectTab('leaderboard')),document['getElementById'](_0xf3041d(0xa50))['addEventListener'](_0xf3041d(0x2f0),()=>switchQuizDetailTab(_0xf3041d(0x904))),document[_0xf3041d(0x7c7)](_0xf3041d(0x736))['addEventListener']('click',()=>switchQuizDetailTab('scores')),document[_0xf3041d(0x7c7)](_0xf3041d(0xd95))['addEventListener'](_0xf3041d(0x2f0),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0xf3041d(0x7c7)](_0xf3041d(0x967))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>switchQuizDetailTab(_0xf3041d(0xb48))),document[_0xf3041d(0x7c7)](_0xf3041d(0x599))[_0xf3041d(0xf03)]('click',handleAnalyzeClass),generateWorksheetBtn[_0xf3041d(0xf03)]('click',generateWorksheet);const _0x1e20ce=document[_0xf3041d(0x7c7)]('link-tab'),_0x548475=document['getElementById']('link-input-area'),_0x5afa13=document['getElementById']('blueprint-tab'),_0x443551=document[_0xf3041d(0x7c7)](_0xf3041d(0xc36)),_0x32a0c2=document[_0xf3041d(0x7c7)](_0xf3041d(0x4d3)),_0x56ebcd=document[_0xf3041d(0x7c7)](_0xf3041d(0xc30));topicTab[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x17827e=_0xf3041d;topicTab[_0x17827e(0x457)][_0x17827e(0xea1)](_0x17827e(0x3d0)),textTab[_0x17827e(0x457)][_0x17827e(0xd11)](_0x17827e(0x3d0)),fileTab[_0x17827e(0x457)][_0x17827e(0xd11)]('active'),worksheetTab[_0x17827e(0x457)][_0x17827e(0xd11)](_0x17827e(0x3d0));if(_0x1e20ce)_0x1e20ce['classList'][_0x17827e(0xd11)](_0x17827e(0x3d0));if(_0x5afa13)_0x5afa13[_0x17827e(0x457)][_0x17827e(0xd11)](_0x17827e(0x3d0));if(_0x32a0c2)_0x32a0c2[_0x17827e(0x457)][_0x17827e(0xd11)]('active');topicInputArea[_0x17827e(0x457)][_0x17827e(0xd11)](_0x17827e(0x845)),textInputArea[_0x17827e(0x457)][_0x17827e(0xea1)]('hidden'),fileInputArea[_0x17827e(0x457)][_0x17827e(0xea1)]('hidden'),worksheetInputArea[_0x17827e(0x457)]['add']('hidden');if(_0x548475)_0x548475[_0x17827e(0x457)][_0x17827e(0xea1)](_0x17827e(0x845));if(_0x443551)_0x443551[_0x17827e(0x457)][_0x17827e(0xea1)](_0x17827e(0x845));if(_0x56ebcd)_0x56ebcd[_0x17827e(0x457)]['add'](_0x17827e(0x845));}),textTab[_0xf3041d(0xf03)]('click',()=>{const _0x1c8fbb=_0xf3041d;textTab['classList'][_0x1c8fbb(0xea1)]('active'),topicTab[_0x1c8fbb(0x457)][_0x1c8fbb(0xd11)]('active'),fileTab[_0x1c8fbb(0x457)][_0x1c8fbb(0xd11)](_0x1c8fbb(0x3d0)),worksheetTab[_0x1c8fbb(0x457)][_0x1c8fbb(0xd11)](_0x1c8fbb(0x3d0));if(_0x1e20ce)_0x1e20ce[_0x1c8fbb(0x457)][_0x1c8fbb(0xd11)](_0x1c8fbb(0x3d0));if(_0x5afa13)_0x5afa13[_0x1c8fbb(0x457)][_0x1c8fbb(0xd11)](_0x1c8fbb(0x3d0));if(_0x32a0c2)_0x32a0c2[_0x1c8fbb(0x457)][_0x1c8fbb(0xd11)](_0x1c8fbb(0x3d0));textInputArea['classList'][_0x1c8fbb(0xd11)](_0x1c8fbb(0x845)),topicInputArea[_0x1c8fbb(0x457)]['add'](_0x1c8fbb(0x845)),fileInputArea['classList'][_0x1c8fbb(0xea1)](_0x1c8fbb(0x845)),worksheetInputArea[_0x1c8fbb(0x457)][_0x1c8fbb(0xea1)](_0x1c8fbb(0x845));if(_0x548475)_0x548475[_0x1c8fbb(0x457)][_0x1c8fbb(0xea1)](_0x1c8fbb(0x845));if(_0x443551)_0x443551[_0x1c8fbb(0x457)][_0x1c8fbb(0xea1)](_0x1c8fbb(0x845));if(_0x56ebcd)_0x56ebcd['classList'][_0x1c8fbb(0xea1)](_0x1c8fbb(0x845));}),fileTab[_0xf3041d(0xf03)]('click',()=>{const _0x46360f=_0xf3041d;fileTab[_0x46360f(0x457)][_0x46360f(0xea1)](_0x46360f(0x3d0)),topicTab[_0x46360f(0x457)][_0x46360f(0xd11)](_0x46360f(0x3d0)),textTab[_0x46360f(0x457)][_0x46360f(0xd11)](_0x46360f(0x3d0)),worksheetTab[_0x46360f(0x457)][_0x46360f(0xd11)](_0x46360f(0x3d0));if(_0x1e20ce)_0x1e20ce[_0x46360f(0x457)][_0x46360f(0xd11)](_0x46360f(0x3d0));if(_0x5afa13)_0x5afa13['classList'][_0x46360f(0xd11)](_0x46360f(0x3d0));if(_0x32a0c2)_0x32a0c2[_0x46360f(0x457)]['remove'](_0x46360f(0x3d0));fileInputArea['classList'][_0x46360f(0xd11)](_0x46360f(0x845)),topicInputArea[_0x46360f(0x457)][_0x46360f(0xea1)](_0x46360f(0x845)),textInputArea['classList']['add'](_0x46360f(0x845)),worksheetInputArea[_0x46360f(0x457)][_0x46360f(0xea1)]('hidden');if(_0x548475)_0x548475['classList'][_0x46360f(0xea1)]('hidden');if(_0x443551)_0x443551['classList'][_0x46360f(0xea1)](_0x46360f(0x845));if(_0x56ebcd)_0x56ebcd[_0x46360f(0x457)][_0x46360f(0xea1)](_0x46360f(0x845));}),worksheetTab[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x40c3d1=_0xf3041d;worksheetTab['classList'][_0x40c3d1(0xea1)](_0x40c3d1(0x3d0)),topicTab[_0x40c3d1(0x457)][_0x40c3d1(0xd11)](_0x40c3d1(0x3d0)),textTab['classList'][_0x40c3d1(0xd11)](_0x40c3d1(0x3d0)),fileTab[_0x40c3d1(0x457)]['remove'](_0x40c3d1(0x3d0));if(_0x1e20ce)_0x1e20ce['classList'][_0x40c3d1(0xd11)](_0x40c3d1(0x3d0));if(_0x5afa13)_0x5afa13['classList'][_0x40c3d1(0xd11)](_0x40c3d1(0x3d0));if(_0x32a0c2)_0x32a0c2[_0x40c3d1(0x457)][_0x40c3d1(0xd11)](_0x40c3d1(0x3d0));worksheetInputArea[_0x40c3d1(0x457)]['remove'](_0x40c3d1(0x845)),topicInputArea[_0x40c3d1(0x457)]['add'](_0x40c3d1(0x845)),textInputArea[_0x40c3d1(0x457)][_0x40c3d1(0xea1)](_0x40c3d1(0x845)),fileInputArea[_0x40c3d1(0x457)][_0x40c3d1(0xea1)](_0x40c3d1(0x845));if(_0x548475)_0x548475[_0x40c3d1(0x457)]['add'](_0x40c3d1(0x845));if(_0x443551)_0x443551['classList'][_0x40c3d1(0xea1)](_0x40c3d1(0x845));if(_0x56ebcd)_0x56ebcd[_0x40c3d1(0x457)][_0x40c3d1(0xea1)](_0x40c3d1(0x845));});const _0x2470e2=document['getElementById'](_0xf3041d(0x515)),_0x508ecc=document[_0xf3041d(0x7c7)]('bank-input-area');_0x2470e2&&_0x2470e2[_0xf3041d(0xf03)]('click',()=>{const _0x3bc264=_0xf3041d;topicTab['classList']['remove'](_0x3bc264(0x3d0)),textTab['classList'][_0x3bc264(0xd11)](_0x3bc264(0x3d0)),fileTab[_0x3bc264(0x457)][_0x3bc264(0xd11)](_0x3bc264(0x3d0)),worksheetTab['classList'][_0x3bc264(0xd11)](_0x3bc264(0x3d0));if(_0x1e20ce)_0x1e20ce[_0x3bc264(0x457)][_0x3bc264(0xd11)](_0x3bc264(0x3d0));if(_0x5afa13)_0x5afa13[_0x3bc264(0x457)][_0x3bc264(0xd11)](_0x3bc264(0x3d0));if(_0x32a0c2)_0x32a0c2[_0x3bc264(0x457)][_0x3bc264(0xd11)]('active');_0x2470e2[_0x3bc264(0x457)][_0x3bc264(0xea1)](_0x3bc264(0x3d0)),topicInputArea['classList'][_0x3bc264(0xea1)](_0x3bc264(0x845)),textInputArea['classList'][_0x3bc264(0xea1)]('hidden'),fileInputArea['classList'][_0x3bc264(0xea1)](_0x3bc264(0x845)),worksheetInputArea['classList'][_0x3bc264(0xea1)]('hidden');if(_0x548475)_0x548475['classList'][_0x3bc264(0xea1)](_0x3bc264(0x845));if(_0x443551)_0x443551[_0x3bc264(0x457)][_0x3bc264(0xea1)]('hidden');if(_0x56ebcd)_0x56ebcd[_0x3bc264(0x457)][_0x3bc264(0xea1)](_0x3bc264(0x845));_0x508ecc['classList'][_0x3bc264(0xd11)](_0x3bc264(0x845)),displayQuestionBank();});_0x1e20ce&&(_0x1e20ce[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x16798e=_0xf3041d;_0x1e20ce['classList']['add'](_0x16798e(0x3d0)),topicTab[_0x16798e(0x457)][_0x16798e(0xd11)](_0x16798e(0x3d0)),textTab[_0x16798e(0x457)][_0x16798e(0xd11)](_0x16798e(0x3d0)),fileTab[_0x16798e(0x457)]['remove'](_0x16798e(0x3d0)),worksheetTab[_0x16798e(0x457)][_0x16798e(0xd11)]('active');if(_0x5afa13)_0x5afa13[_0x16798e(0x457)][_0x16798e(0xd11)]('active');if(_0x32a0c2)_0x32a0c2[_0x16798e(0x457)][_0x16798e(0xd11)](_0x16798e(0x3d0));_0x548475[_0x16798e(0x457)][_0x16798e(0xd11)]('hidden'),topicInputArea['classList']['add'](_0x16798e(0x845)),textInputArea['classList'][_0x16798e(0xea1)](_0x16798e(0x845)),fileInputArea[_0x16798e(0x457)][_0x16798e(0xea1)](_0x16798e(0x845)),worksheetInputArea['classList']['add']('hidden');if(_0x443551)_0x443551[_0x16798e(0x457)]['add']('hidden');if(_0x56ebcd)_0x56ebcd[_0x16798e(0x457)][_0x16798e(0xea1)]('hidden');}),document[_0xf3041d(0x7c7)](_0xf3041d(0x59b))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),handleGenerateFromLink));_0x5afa13&&_0x5afa13[_0xf3041d(0xf03)]('click',()=>{const _0x1e4e37=_0xf3041d;_0x5afa13[_0x1e4e37(0x457)][_0x1e4e37(0xea1)](_0x1e4e37(0x3d0)),topicTab['classList']['remove'](_0x1e4e37(0x3d0)),textTab['classList']['remove']('active'),fileTab[_0x1e4e37(0x457)][_0x1e4e37(0xd11)](_0x1e4e37(0x3d0)),worksheetTab[_0x1e4e37(0x457)][_0x1e4e37(0xd11)](_0x1e4e37(0x3d0));if(_0x1e20ce)_0x1e20ce['classList']['remove'](_0x1e4e37(0x3d0));if(_0x2470e2)_0x2470e2[_0x1e4e37(0x457)][_0x1e4e37(0xd11)](_0x1e4e37(0x3d0));if(_0x32a0c2)_0x32a0c2[_0x1e4e37(0x457)]['remove'](_0x1e4e37(0x3d0));_0x443551[_0x1e4e37(0x457)]['remove'](_0x1e4e37(0x845)),topicInputArea['classList']['add'](_0x1e4e37(0x845)),textInputArea[_0x1e4e37(0x457)][_0x1e4e37(0xea1)](_0x1e4e37(0x845)),fileInputArea[_0x1e4e37(0x457)]['add']('hidden'),worksheetInputArea[_0x1e4e37(0x457)][_0x1e4e37(0xea1)](_0x1e4e37(0x845));if(_0x548475)_0x548475[_0x1e4e37(0x457)][_0x1e4e37(0xea1)]('hidden');if(_0x508ecc)_0x508ecc[_0x1e4e37(0x457)][_0x1e4e37(0xea1)](_0x1e4e37(0x845));if(_0x56ebcd)_0x56ebcd[_0x1e4e37(0x457)]['add'](_0x1e4e37(0x845));});_0x32a0c2&&_0x32a0c2[_0xf3041d(0xf03)]('click',()=>{const _0x3ce112=_0xf3041d;_0x32a0c2[_0x3ce112(0x457)][_0x3ce112(0xea1)](_0x3ce112(0x3d0)),topicTab[_0x3ce112(0x457)]['remove'](_0x3ce112(0x3d0)),textTab[_0x3ce112(0x457)][_0x3ce112(0xd11)](_0x3ce112(0x3d0)),fileTab[_0x3ce112(0x457)][_0x3ce112(0xd11)]('active'),worksheetTab[_0x3ce112(0x457)]['remove'](_0x3ce112(0x3d0));if(_0x1e20ce)_0x1e20ce['classList']['remove'](_0x3ce112(0x3d0));if(_0x5afa13)_0x5afa13[_0x3ce112(0x457)]['remove'](_0x3ce112(0x3d0));if(_0x2470e2)_0x2470e2[_0x3ce112(0x457)][_0x3ce112(0xd11)](_0x3ce112(0x3d0));_0x56ebcd[_0x3ce112(0x457)][_0x3ce112(0xd11)](_0x3ce112(0x845)),topicInputArea[_0x3ce112(0x457)]['add'](_0x3ce112(0x845)),textInputArea[_0x3ce112(0x457)]['add'](_0x3ce112(0x845)),fileInputArea[_0x3ce112(0x457)][_0x3ce112(0xea1)]('hidden'),worksheetInputArea[_0x3ce112(0x457)][_0x3ce112(0xea1)](_0x3ce112(0x845));if(_0x548475)_0x548475[_0x3ce112(0x457)]['add'](_0x3ce112(0x845));if(_0x443551)_0x443551[_0x3ce112(0x457)]['add'](_0x3ce112(0x845));if(_0x508ecc)_0x508ecc['classList'][_0x3ce112(0xea1)](_0x3ce112(0x845));});const _0x4ff3f6=document[_0xf3041d(0x7c7)]('blueprint-upload-input'),_0x57da13=document[_0xf3041d(0x7c7)]('generate-from-blueprint-btn');if(_0x4ff3f6){const _0x2c8cc4=document[_0xf3041d(0x7c7)](_0xf3041d(0x84e)),_0x33ceb5=document[_0xf3041d(0x7c7)](_0xf3041d(0x6ad)),_0x220a17=document[_0xf3041d(0x7c7)]('blueprint-options-container'),_0x5e5306=document['getElementById']('separate-by-content-checkbox'),_0x251b5b=document[_0xf3041d(0x7c7)]('blueprint-topics-list-container'),_0x4bea96=document[_0xf3041d(0x7c7)]('blueprint-topics-list');_0x2c8cc4&&_0x2c8cc4[_0xf3041d(0xf03)](_0xf3041d(0xc7a),async _0x3cf609=>{const _0x50dd85=_0xf3041d;_0x220a17[_0x50dd85(0x457)][_0x50dd85(0xea1)]('hidden'),_0x251b5b[_0x50dd85(0x457)][_0x50dd85(0xea1)](_0x50dd85(0x845)),_0x5e5306[_0x50dd85(0xa20)]=![],_0x33ceb5[_0x50dd85(0x766)]=!![];const _0x2dcde0=_0x3cf609[_0x50dd85(0xcbd)][_0x50dd85(0xf34)][0x0];if(_0x2dcde0){_0x33ceb5[_0x50dd85(0x766)]=![];try{const _0x598627=await extractTextFromPdf(_0x2dcde0);await analyzeBlueprintForTopics(_0x598627);}catch(_0x590ad6){showMessage(_0x50dd85(0x7ab)),_0x220a17[_0x50dd85(0x457)][_0x50dd85(0xea1)](_0x50dd85(0x845));}}}),_0x5e5306&&_0x5e5306['addEventListener'](_0xf3041d(0xc7a),_0xe80f8c=>{const _0x2aa0ae=_0xf3041d,_0x40c4c2=_0xe80f8c[_0x2aa0ae(0xcbd)]['checked'];_0x251b5b[_0x2aa0ae(0x457)][_0x2aa0ae(0x29a)]('hidden',!_0x40c4c2),_0x33ceb5[_0x2aa0ae(0x766)]=_0x40c4c2;}),_0x4bea96&&(_0x4bea96&&_0x4bea96[_0xf3041d(0xf03)](_0xf3041d(0x2f0),_0x402a07=>{const _0x4b1ddb=_0xf3041d,_0x171043=_0x402a07[_0x4b1ddb(0xcbd)][_0x4b1ddb(0x5bf)](_0x4b1ddb(0xa51)),_0x3859c4=_0x402a07[_0x4b1ddb(0xcbd)][_0x4b1ddb(0x5bf)]('.generate-content-btn');if(_0x171043){const _0x5e5833=unescape(_0x171043['dataset'][_0x4b1ddb(0x6b2)]);generateQuizForSingleTopic(_0x5e5833);}else{if(_0x3859c4){const _0x379e3d=unescape(_0x3859c4['dataset']['topic']);handleGenerateTeachingContent(_0x379e3d);}}}));}_0x57da13&&_0x57da13[_0xf3041d(0xf03)]('click',handleGenerateFromBlueprint);const _0x2de805=document[_0xf3041d(0x7c7)](_0xf3041d(0x24a)),_0x21bf5a=document['getElementById'](_0xf3041d(0x7cb));_0x2de805&&_0x2de805[_0xf3041d(0xf03)](_0xf3041d(0xc7a),_0x5a1614=>{const _0x47ba4a=_0xf3041d;_0x21bf5a[_0x47ba4a(0x766)]=_0x5a1614[_0x47ba4a(0xcbd)][_0x47ba4a(0xf34)]['length']===0x0;});_0x21bf5a&&_0x21bf5a[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{handleGenerateParallelTest();});loadQuizBtn['addEventListener']('click',handleLoadQuiz),startQuizBtn[_0xf3041d(0xf03)]('click',async()=>{const _0x3a3d65=_0xf3041d,_0x331e21=document[_0x3a3d65(0x7c7)]('student-name-select');currentStudentName=_0x331e21[_0x3a3d65(0xc66)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x4bd466=currentQuizData['id'],_0x1bb9c4=doc(db,_0x3a3d65(0x2b7)+appId+'/public/data/quizzes/'+_0x4bd466+_0x3a3d65(0x746),currentStudentName),_0x443c5f=await getDoc(_0x1bb9c4);!_0x443c5f[_0x3a3d65(0x971)]()?await setDoc(_0x1bb9c4,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x1bb9c4,{'startedAt':new Date()['toISOString']()});}catch(_0x29478e){console[_0x3a3d65(0xd5b)](_0x3a3d65(0x73a),_0x29478e),showMessage(_0x3a3d65(0x559));return;}studentNameSelectionView[_0x3a3d65(0x457)][_0x3a3d65(0xea1)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0xf3041d(0x7c7)](_0xf3041d(0x4e6))['addEventListener'](_0xf3041d(0x2f0),showJoinGameView),document[_0xf3041d(0x7c7)](_0xf3041d(0x9b7))['addEventListener'](_0xf3041d(0x2f0),handleJoinLiveGame),document['getElementById'](_0xf3041d(0x47c))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>showView(_0xf3041d(0xc1b)));const _0x5a3d03=()=>{const _0x123c4a=_0xf3041d,_0x2a9872=document[_0x123c4a(0x7c7)](_0x123c4a(0xf77))['textContent'][_0x123c4a(0x663)](/[^a-z0-9]/gi,'_')[_0x123c4a(0xab2)]();return _0x123c4a(0x5a5)+(_0x2a9872||_0x123c4a(0xd2b));},_0xa26920=document[_0xf3041d(0x7c7)]('math-topic-search-input');_0xa26920&&_0xa26920['addEventListener']('input',_0x36082f=>{const _0x469357=_0xf3041d,_0x3d8e59=_0x36082f['target'][_0x469357(0xc66)][_0x469357(0xab2)]()[_0x469357(0xba3)](),_0xfc30d=document['getElementById'](_0x469357(0xa5e)),_0x18261d=_0xfc30d[_0x469357(0xf52)](_0x469357(0x216));_0x18261d[_0x469357(0x9fb)](_0x49fd63=>{const _0x119c3e=_0x469357;let _0x580094=![];const _0x41bc0b=_0x49fd63[_0x119c3e(0xf52)](_0x119c3e(0x40b));_0x41bc0b[_0x119c3e(0x9fb)](_0x251d98=>{const _0x446dd6=_0x119c3e,_0x52a751=_0x251d98[_0x446dd6(0x79b)](_0x446dd6(0x25c))[_0x446dd6(0xb0c)]['toLowerCase']();_0x52a751[_0x446dd6(0xba0)](_0x3d8e59)?(_0x251d98[_0x446dd6(0x4e3)][_0x446dd6(0xc13)]='flex',_0x580094=!![]):_0x251d98['style'][_0x446dd6(0xc13)]=_0x446dd6(0xc43);}),_0x580094?_0x49fd63['style'][_0x119c3e(0xc13)]=_0x119c3e(0x3bd):_0x49fd63[_0x119c3e(0x4e3)][_0x119c3e(0xc13)]=_0x119c3e(0xc43);});});document['getElementById'](_0xf3041d(0x3fe))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>exportTableAsImage(_0xf3041d(0x5d9),_0x5a3d03())),document[_0xf3041d(0x7c7)]('export-pdf-btn')[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>exportTableAsPDF(_0xf3041d(0x741),_0x5a3d03())),document[_0xf3041d(0x7c7)]('export-word-btn')['addEventListener'](_0xf3041d(0x2f0),()=>exportTableAsWord('results-table-container',_0x5a3d03())),document[_0xf3041d(0x7c7)](_0xf3041d(0xcc5))['addEventListener'](_0xf3041d(0x2f0),()=>exportTableAsExcel(_0xf3041d(0x741),_0x5a3d03()));const _0x2cb1a4=()=>{const _0x1d561c=_0xf3041d,_0x4f82d6=document[_0x1d561c(0x7c7)](_0x1d561c(0xf77))[_0x1d561c(0xb0c)][_0x1d561c(0x663)](/[^a-z0-9]/gi,'_')[_0x1d561c(0xab2)]();return _0x1d561c(0xefb)+(_0x4f82d6||_0x1d561c(0xd2b));};document['getElementById'](_0xf3041d(0x567))['addEventListener'](_0xf3041d(0x2f0),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x2cb1a4())),document[_0xf3041d(0x7c7)](_0xf3041d(0x64a))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>exportTableAsPDF(_0xf3041d(0x39a),_0x2cb1a4())),document[_0xf3041d(0x7c7)](_0xf3041d(0xc3f))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>exportTableAsWord(_0xf3041d(0x9a7),_0x2cb1a4())),document[_0xf3041d(0x7c7)](_0xf3041d(0x952))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>exportTableAsExcel('quiz-leaderboard-table',_0x2cb1a4())),projectQuizzesList['addEventListener'](_0xf3041d(0x2f0),async _0xdaf26e=>{const _0x27ac5b=_0xf3041d,_0x15cc24=_0xdaf26e[_0x27ac5b(0xcbd)][_0x27ac5b(0x5bf)](_0x27ac5b(0x754)),_0x188bf0=_0xdaf26e[_0x27ac5b(0xcbd)]['closest'](_0x27ac5b(0x32b)),_0x4161bb=_0xdaf26e['target'][_0x27ac5b(0x5bf)](_0x27ac5b(0x88a)),_0x2a6750=_0xdaf26e[_0x27ac5b(0xcbd)][_0x27ac5b(0x5bf)](_0x27ac5b(0xe51)),_0x193aa4=_0xdaf26e['target'][_0x27ac5b(0x5bf)]('.star-quiz-btn'),_0x4c05e7=_0xdaf26e[_0x27ac5b(0xcbd)][_0x27ac5b(0x5bf)](_0x27ac5b(0x779)),_0x489c8c=_0xdaf26e[_0x27ac5b(0xcbd)][_0x27ac5b(0x5bf)](_0x27ac5b(0xb38)),_0x2de0a6=_0xdaf26e[_0x27ac5b(0xcbd)][_0x27ac5b(0x5bf)](_0x27ac5b(0xe53)),_0xa2eecf=_0xdaf26e[_0x27ac5b(0xcbd)][_0x27ac5b(0x5bf)](_0x27ac5b(0xf6a)),_0x35230b=_0xdaf26e[_0x27ac5b(0xcbd)]['closest'](_0x27ac5b(0x450)),_0x49b59e=_0xdaf26e['target'][_0x27ac5b(0x5bf)]('.parallel-quiz-btn'),_0x4474b4=_0xdaf26e[_0x27ac5b(0xcbd)][_0x27ac5b(0x5bf)]('.move-quiz-btn'),_0x90dc03=_0xdaf26e['target'][_0x27ac5b(0x5bf)](_0x27ac5b(0x8ec)),_0x5ab274=_0xdaf26e[_0x27ac5b(0xcbd)][_0x27ac5b(0x5bf)]('.unpair-quiz-btn'),_0x56858c=_0xdaf26e[_0x27ac5b(0xcbd)][_0x27ac5b(0x5bf)](_0x27ac5b(0x985)),_0x400aad=_0xdaf26e['target']['closest'](_0x27ac5b(0x606)),_0x50df86=_0xdaf26e[_0x27ac5b(0xcbd)][_0x27ac5b(0x5bf)]('.export-pdf-list-btn'),_0x47da49=_0xdaf26e[_0x27ac5b(0xcbd)][_0x27ac5b(0x5bf)](_0x27ac5b(0x4e0)),_0x1d595f=_0xdaf26e[_0x27ac5b(0xcbd)][_0x27ac5b(0x5bf)]('.quiz-status-btn'),_0x1fb235=_0xdaf26e['target']['closest']('.toggle-actions-btn'),_0x1f1b2c=_0xdaf26e[_0x27ac5b(0xcbd)]['closest']('.generate-easy-version-btn'),_0x62d334=_0xdaf26e[_0x27ac5b(0xcbd)]['closest'](_0x27ac5b(0xad9)),_0x83ee7=_0xdaf26e[_0x27ac5b(0xcbd)][_0x27ac5b(0x5bf)](_0x27ac5b(0x35d));if(_0x62d334){const _0x25b843=_0x62d334[_0x27ac5b(0xefd)]['quizId'],_0x50bb1c=_0x62d334['dataset']['mode'],_0x5e883b=allQuizzes[_0x27ac5b(0x787)](_0x91f69a=>_0x91f69a['id']===_0x25b843);_0x5e883b&&showGameStartConfirmationModal(_0x25b843,_0x50bb1c,_0x5e883b[_0x27ac5b(0x6b2)]);}else{if(_0x83ee7){const _0x4664b5=_0x83ee7[_0x27ac5b(0xefd)][_0x27ac5b(0x3d4)];handleStartLiveRace(_0x4664b5);}else{if(_0x1fb235){const _0x53d70b=_0x1fb235[_0x27ac5b(0xefd)][_0x27ac5b(0x3d4)],_0x411c16=document[_0x27ac5b(0x7c7)]('actions-container-'+_0x53d70b);_0x411c16&&_0x411c16['classList'][_0x27ac5b(0x29a)](_0x27ac5b(0x845));}else{if(_0x188bf0){const _0xeb57b3=_0x188bf0['dataset'][_0x27ac5b(0x3d4)],_0x4fea69=allQuizzes[_0x27ac5b(0x787)](_0x3448aa=>_0x3448aa['id']===_0xeb57b3);_0x4fea69&&handleGenerateParallelPostTest(_0x4fea69);}else{if(_0x4161bb)handleCompareResults(_0x4161bb[_0x27ac5b(0xefd)][_0x27ac5b(0x3d4)],_0x4161bb[_0x27ac5b(0xefd)][_0x27ac5b(0x208)]);else{if(_0x2a6750){const _0x405251=_0x2a6750[_0x27ac5b(0xefd)][_0x27ac5b(0x3d4)],_0x14377a=allQuizzes[_0x27ac5b(0x787)](_0x352412=>_0x352412['id']===_0x405251);_0x14377a&&_0x14377a[_0x27ac5b(0x9da)]?(displayLessonPlan(_0x14377a[_0x27ac5b(0x9da)],_0x14377a),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x405251)),document[_0x27ac5b(0x7c7)](_0x27ac5b(0x593))[_0x27ac5b(0x79b)]('h3')['textContent']=_0x27ac5b(0x2cd),document['getElementById'](_0x27ac5b(0x2ee))[_0x27ac5b(0xb0c)]='สร้างใหม่'):handleGenerateLessonPlan(_0x405251);}else{if(_0x193aa4)handleToggleStarQuiz(_0x193aa4[_0x27ac5b(0xefd)][_0x27ac5b(0x3d4)]);else{if(_0x4c05e7)copyTextToClipboard(_0x4c05e7['dataset'][_0x27ac5b(0x3d4)],_0x27ac5b(0x5f9));else{if(_0x489c8c)handleOpenQuizEditor(_0x489c8c[_0x27ac5b(0xefd)][_0x27ac5b(0x3d4)]);else{if(_0x2de0a6)handleQuizSettings(_0x2de0a6[_0x27ac5b(0xefd)][_0x27ac5b(0x3d4)]);else{if(_0xa2eecf)handleDuplicateQuiz(_0xa2eecf['dataset'][_0x27ac5b(0x3d4)]);else{if(_0x35230b)handleRenameQuiz(_0x35230b[_0x27ac5b(0xefd)][_0x27ac5b(0x3d4)],_0x35230b[_0x27ac5b(0xefd)][_0x27ac5b(0x6b2)]);else{if(_0x49b59e){const _0x1429ea=_0x49b59e[_0x27ac5b(0xefd)][_0x27ac5b(0x3d4)],_0x45c15b=allQuizzes[_0x27ac5b(0x787)](_0x3f417f=>_0x3f417f['id']===_0x1429ea);_0x45c15b&&handleGenerateParallelFromBank(_0x45c15b);}else{if(_0x4474b4)handleMoveQuiz(_0x4474b4[_0x27ac5b(0xefd)][_0x27ac5b(0x3d4)]);else{if(_0x90dc03)handleManualQuizPairing(_0x90dc03[_0x27ac5b(0xefd)][_0x27ac5b(0x3d4)]);else{if(_0x5ab274)handleUnpairQuiz(_0x5ab274[_0x27ac5b(0xefd)][_0x27ac5b(0x3d4)]);else{if(_0x56858c){const _0x14ffab=_0x56858c[_0x27ac5b(0xefd)][_0x27ac5b(0x3d4)],_0x285520=allQuizzes[_0x27ac5b(0x787)](_0x1775f4=>_0x1775f4['id']===_0x14ffab);if(_0x285520)startPresentation(_0x285520);}else{if(_0x400aad){const _0x56e6c6=_0x400aad[_0x27ac5b(0xefd)][_0x27ac5b(0x3d4)],_0x4f55de=allQuizzes['find'](_0xe865c=>_0xe865c['id']===_0x56e6c6);_0x4f55de&&(currentQuizData=_0x4f55de,startAdminTest());}else{if(_0x50df86)actionTargetId=_0x50df86[_0x27ac5b(0xefd)]['quizId'],document[_0x27ac5b(0x7c7)](_0x27ac5b(0x652))['classList'][_0x27ac5b(0xd11)]('hidden');else{if(_0x47da49)showConfirmation(_0x27ac5b(0x68c)+_0x47da49[_0x27ac5b(0xefd)][_0x27ac5b(0x6b2)]+_0x27ac5b(0x9e8),()=>handleDeleteQuiz(_0x47da49[_0x27ac5b(0xefd)][_0x27ac5b(0x3d4)]));else{if(_0x1d595f)handleQuizStatus(_0x1d595f[_0x27ac5b(0xefd)][_0x27ac5b(0x3d4)]);else{if(_0x1f1b2c)handleGenerateEasyVersionQuiz(_0x1f1b2c[_0x27ac5b(0xefd)]['quizId']);else _0x15cc24&&showQuizDetailView(_0x15cc24[_0x27ac5b(0xefd)][_0x27ac5b(0x3d4)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0xf3041d(0x7c7)](_0xf3041d(0x3f7))['addEventListener'](_0xf3041d(0x2f0),()=>showView(_0xf3041d(0xc1b))),document[_0xf3041d(0x7c7)](_0xf3041d(0xe0e))['addEventListener'](_0xf3041d(0x2f0),confirmAndStartTeamQuiz),document[_0xf3041d(0x7c7)](_0xf3041d(0x39a))[_0xf3041d(0x79b)]('thead')[_0xf3041d(0xf03)](_0xf3041d(0x2f0),_0xf5f543=>{const _0x3d3b89=_0xf3041d,_0x3616bd=_0xf5f543[_0x3d3b89(0xcbd)][_0x3d3b89(0x5bf)]('.sortable-header');if(!_0x3616bd||!_0x3616bd[_0x3d3b89(0xefd)][_0x3d3b89(0x994)])return;const _0x59bb12=_0x3616bd[_0x3d3b89(0xefd)]['sort'];if(quizLeaderboardSortBy===_0x59bb12)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x3d3b89(0x274):_0x3d3b89(0x36e);else{quizLeaderboardSortBy=_0x59bb12;const _0x359fce=[_0x3d3b89(0x27f)];quizLeaderboardSortOrder=_0x359fce['includes'](_0x59bb12)?'asc':_0x3d3b89(0x274);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x3d3b89(0xd8a));}),document[_0xf3041d(0x7c7)](_0xf3041d(0xe7d))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),closePresentation),document[_0xf3041d(0x7c7)](_0xf3041d(0xa17))['addEventListener'](_0xf3041d(0x2f0),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0xf3041d(0x4ec))[_0xf3041d(0xf03)]('click',()=>{const _0x426e5d=_0xf3041d;currentQuizData[_0x426e5d(0x99c)]&&currentPresentationSlide<currentQuizData['questions'][_0x426e5d(0x2d2)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0xf3041d(0xf03)](_0xf3041d(0xb43),()=>{const _0x39c139=_0xf3041d;!document[_0x39c139(0xa56)]&&(presentationModal[_0x39c139(0x4e3)]['display']='none');}),document['getElementById'](_0xf3041d(0xa3a))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),handleDeleteAllStudents),studentList[_0xf3041d(0xf03)](_0xf3041d(0x2f0),_0x20fae0=>{const _0x52ab85=_0xf3041d,_0x4c9af9=_0x20fae0[_0x52ab85(0xcbd)][_0x52ab85(0x5bf)](_0x52ab85(0x526));if(_0x4c9af9){const _0x4547e6=_0x4c9af9['dataset']['studentName'];handleDeleteStudent(_0x4547e6);}}),document[_0xf3041d(0x7c7)]('generate-from-file-btn')[_0xf3041d(0xf03)](_0xf3041d(0x2f0),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0xf3041d(0xc7a),_0x295a6e=>{const _0x41ac34=_0xf3041d,_0x4c517a=_0x295a6e['target']['files'][0x0],_0x4def07=document[_0x41ac34(0x7c7)]('generate-from-file-btn'),_0x3c3efb=document[_0x41ac34(0x7c7)]('file-topics-list-container'),_0x42af14=document[_0x41ac34(0x7c7)]('separate-by-content-from-file-checkbox');_0x4c517a?(selectedFile=_0x4c517a,_0x42af14[_0x41ac34(0xa20)]?(_0x4def07[_0x41ac34(0x766)]=!![],analyzeFileForTopics(_0x4c517a)):(_0x4def07[_0x41ac34(0x766)]=![],_0x3c3efb[_0x41ac34(0x457)]['add'](_0x41ac34(0x845)))):(selectedFile=null,_0x4def07[_0x41ac34(0x766)]=!![],_0x3c3efb['classList'][_0x41ac34(0xea1)](_0x41ac34(0x845)));}),document[_0xf3041d(0x7c7)](_0xf3041d(0x44a))[_0xf3041d(0xf03)](_0xf3041d(0xc7a),_0x1c655d=>{const _0x74346f=_0xf3041d,_0x1f2d94=_0x1c655d[_0x74346f(0xcbd)]['checked'],_0x11e789=document[_0x74346f(0x7c7)](_0x74346f(0x412)),_0x3fbf18=document[_0x74346f(0x7c7)](_0x74346f(0x4c3));_0x1f2d94?(_0x11e789[_0x74346f(0x766)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x3fbf18[_0x74346f(0x457)]['remove'](_0x74346f(0x845)),document[_0x74346f(0x7c7)]('file-topics-list')[_0x74346f(0x45b)]=_0x74346f(0xed1))):(_0x3fbf18[_0x74346f(0x457)]['add'](_0x74346f(0x845)),_0x11e789['disabled']=!selectedFile);}),document[_0xf3041d(0x7c7)](_0xf3041d(0x4c3))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),_0x2e5675=>{const _0x1de7b0=_0xf3041d,_0x4d810a=_0x2e5675[_0x1de7b0(0xcbd)][_0x1de7b0(0x5bf)](_0x1de7b0(0x68a)),_0xa97224=_0x2e5675[_0x1de7b0(0xcbd)]['closest'](_0x1de7b0(0xb85));if(_0x4d810a){const _0x282635=unescape(_0x4d810a['dataset'][_0x1de7b0(0x6b2)]);generateHybridQuizForTopic(_0x282635);}else{if(_0xa97224){const _0x4b128e=unescape(_0xa97224[_0x1de7b0(0xefd)][_0x1de7b0(0x6b2)]),_0x372afd=document[_0x1de7b0(0x7c7)](_0x1de7b0(0xa88))[_0x1de7b0(0xc66)];handleGenerateAndShowLesson(_0x4b128e,_0x372afd);}}}),document[_0xf3041d(0x7c7)](_0xf3041d(0x88e))['addEventListener'](_0xf3041d(0xc7a),_0x591cfe=>{const _0x4eb876=_0xf3041d,_0x15c043=document[_0x4eb876(0x7c7)](_0x4eb876(0x96a)),_0x2925b3=document[_0x4eb876(0x7c7)]('timer-duration-label'),_0x3e8936=document[_0x4eb876(0x7c7)](_0x4eb876(0x2ab));_0x591cfe[_0x4eb876(0xcbd)][_0x4eb876(0xc66)]===_0x4eb876(0xc43)?_0x15c043[_0x4eb876(0x457)][_0x4eb876(0xea1)](_0x4eb876(0x845)):(_0x15c043[_0x4eb876(0x457)][_0x4eb876(0xd11)](_0x4eb876(0x845)),_0x591cfe[_0x4eb876(0xcbd)][_0x4eb876(0xc66)]===_0x4eb876(0xba2)?(_0x2925b3[_0x4eb876(0xb0c)]=_0x4eb876(0x2f7),_0x3e8936[_0x4eb876(0xc66)]='10'):(_0x2925b3[_0x4eb876(0xb0c)]=_0x4eb876(0x844),_0x3e8936[_0x4eb876(0xc66)]='30'));}),document['getElementById'](_0xf3041d(0x7f3))['addEventListener'](_0xf3041d(0xc7a),_0x61c33=>{const _0x4b86dc=_0xf3041d,_0x51d9d6=document[_0x4b86dc(0x7c7)](_0x4b86dc(0xdd4)),_0x2b6afb=_0x61c33[_0x4b86dc(0xcbd)][_0x4b86dc(0xc66)],_0x4eddc2=document[_0x4b86dc(0x79b)](_0x4b86dc(0xa5f)),_0x4a15b6=document[_0x4b86dc(0x7c7)](_0x4b86dc(0x840)),_0x3e948e=document['getElementById'](_0x4b86dc(0x7c2));_0x2b6afb===_0x4b86dc(0x57e)?_0x4eddc2['textContent']=_0x4b86dc(0x2be):_0x4eddc2[_0x4b86dc(0xb0c)]=_0x4b86dc(0xe1b),_0x2b6afb===_0x4b86dc(0x7fe)||_0x2b6afb==='fill_in_with_choices'||_0x2b6afb===_0x4b86dc(0xeef)?_0x51d9d6['classList'][_0x4b86dc(0xd11)]('hidden'):_0x51d9d6[_0x4b86dc(0x457)]['add'](_0x4b86dc(0x845)),_0x4a15b6['max']=_0x3e948e[_0x4b86dc(0xc66)];}),document['getElementById'](_0xf3041d(0x7c2))['addEventListener']('input',_0x2fece8=>{const _0x96b26f=_0xf3041d;document[_0x96b26f(0x7c7)](_0x96b26f(0x840))[_0x96b26f(0x839)]=_0x2fece8['target']['value'];}),document[_0xf3041d(0x7c7)](_0xf3041d(0x3a1))['addEventListener']('change',_0x36f6de=>{const _0x6cac0f=_0xf3041d,_0x3bd740=document[_0x6cac0f(0x7c7)]('modal-timer-duration-container'),_0x126965=document['getElementById'](_0x6cac0f(0xec6)),_0x15ce21=document[_0x6cac0f(0x7c7)](_0x6cac0f(0xad6));_0x36f6de[_0x6cac0f(0xcbd)]['value']===_0x6cac0f(0xc43)?_0x3bd740[_0x6cac0f(0x457)]['add'](_0x6cac0f(0x845)):(_0x3bd740[_0x6cac0f(0x457)][_0x6cac0f(0xd11)](_0x6cac0f(0x845)),_0x36f6de[_0x6cac0f(0xcbd)][_0x6cac0f(0xc66)]===_0x6cac0f(0xba2)?_0x126965[_0x6cac0f(0xb0c)]='ระยะเวลา\x20(นาที):':_0x126965['textContent']=_0x6cac0f(0x844));}),document[_0xf3041d(0x7c7)](_0xf3041d(0xeed))[_0xf3041d(0xf03)]('click',()=>{const _0x16a008=_0xf3041d;document[_0x16a008(0x7c7)]('quiz-editor-modal')['classList'][_0x16a008(0xea1)](_0x16a008(0x845));}),document[_0xf3041d(0x7c7)](_0xf3041d(0xc5e))[_0xf3041d(0xf03)]('click',()=>{const _0x2faeae=_0xf3041d;document[_0x2faeae(0x7c7)](_0x2faeae(0x1e8))[_0x2faeae(0x457)][_0x2faeae(0xea1)](_0x2faeae(0x845));}),document[_0xf3041d(0x7c7)](_0xf3041d(0x4ab))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),handleVerifyAnswersInEditor),document['getElementById'](_0xf3041d(0x224))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x2757d9=_0xf3041d;document[_0x2757d9(0x7c7)](_0x2757d9(0x1e8))[_0x2757d9(0x457)][_0x2757d9(0xea1)]('hidden'),showConfirmation(_0x2757d9(0xd09),handleSaveChanges);}),document[_0xf3041d(0x7c7)](_0xf3041d(0x5e5))['addEventListener'](_0xf3041d(0x2f0),handleAutoFixLatex);const _0x3af11c=document[_0xf3041d(0x7c7)]('quiz-editor-questions-container');_0x3af11c&&_0x3af11c['addEventListener']('click',_0x1aec2d=>{const _0x404a67=_0xf3041d,_0x4b3b8d=_0x1aec2d[_0x404a67(0xcbd)][_0x404a67(0x5bf)](_0x404a67(0xa70));if(_0x4b3b8d){const _0x4bb266=_0x4b3b8d['closest'](_0x404a67(0xb9e)),_0x529921=parseInt(_0x4bb266[_0x404a67(0xefd)][_0x404a67(0xdc2)],0xa);handleRegenerateQuestionInEditor(_0x529921);return;}const _0x15a1b3=_0x1aec2d[_0x404a67(0xcbd)][_0x404a67(0x5bf)](_0x404a67(0xdd0));if(_0x15a1b3){const _0x57facd=_0x15a1b3[_0x404a67(0x5bf)](_0x404a67(0xb9e)),_0x1c3b50=parseInt(_0x57facd[_0x404a67(0xefd)]['qIndex'],0xa);handleDeleteQuestionInEditor(_0x1c3b50);return;}const _0x44dcc3=_0x1aec2d[_0x404a67(0xcbd)]['closest']('#add-question-editor-btn');if(_0x44dcc3){handleAddQuestionInEditor();return;}});document[_0xf3041d(0x7c7)](_0xf3041d(0x8e1))[_0xf3041d(0xf03)]('click',openQuizBankModal),document[_0xf3041d(0x7c7)](_0xf3041d(0x2d3))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x4b866f=_0xf3041d;document[_0x4b866f(0x7c7)](_0x4b866f(0x71b))[_0x4b866f(0x457)]['add'](_0x4b866f(0x845));}),document['getElementById']('bank-quiz-search-input')[_0xf3041d(0xf03)]('input',_0xba4417=>renderQuizBankList(_0xba4417[_0xf3041d(0xcbd)][_0xf3041d(0xc66)]));const _0x41c6b4=document[_0xf3041d(0x7c7)]('math-topics-checkbox-container');if(_0x41c6b4){let _0x2886f6=null;_0x41c6b4[_0xf3041d(0xf03)](_0xf3041d(0x2f0),_0x5b14d0=>{const _0x58dc29=_0xf3041d,_0x13c957=_0x5b14d0['target'],_0x15807a=_0x13c957[_0x58dc29(0x5bf)](_0x58dc29(0x3f1)),_0x3ad259=_0x13c957[_0x58dc29(0x5bf)](_0x58dc29(0x3dc)),_0xac03bc=_0x13c957[_0x58dc29(0x5bf)](_0x58dc29(0xf4d)),_0x3cfdd8=_0x13c957[_0x58dc29(0x5bf)](_0x58dc29(0x771));if(_0x3ad259){_0x5b14d0[_0x58dc29(0x375)]();const _0x277073=_0x3ad259[_0x58dc29(0xefd)]['id'],_0x433951=_0x3ad259['closest'](_0x58dc29(0x6a4))[_0x58dc29(0x79b)](_0x58dc29(0x25c))['textContent'];showConfirmation(_0x58dc29(0x632)+_0x433951+'\x22?',()=>handleDeleteCustomTopic(_0x277073));}else{if(_0x15807a){_0x5b14d0[_0x58dc29(0x375)]();_0x2886f6&&toggleTopicEditMode(_0x2886f6,![]);const _0x5f102e=_0x15807a[_0x58dc29(0x5bf)]('[data-topic-container-id]');_0x2886f6=_0x5f102e,toggleTopicEditMode(_0x5f102e,!![]);}else{if(_0xac03bc){_0x5b14d0[_0x58dc29(0x375)]();const _0x2f0419=_0xac03bc[_0x58dc29(0xefd)]['id'],_0x199b37=_0xac03bc[_0x58dc29(0x5bf)](_0x58dc29(0xcce)),_0x11ddd3=_0x199b37[_0x58dc29(0x79b)](_0x58dc29(0xd42))[_0x58dc29(0xc66)];handleUpdateCustomTopic(_0x2f0419,_0x11ddd3),_0x2886f6=null;}else{if(_0x3cfdd8){_0x5b14d0[_0x58dc29(0x375)]();const _0x52b42b=_0x3cfdd8[_0x58dc29(0x5bf)]('[data-topic-container-id]');toggleTopicEditMode(_0x52b42b,![]),_0x2886f6=null;}}}}}),document[_0xf3041d(0x7c7)](_0xf3041d(0x659))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x455064=_0xf3041d;document[_0x455064(0x7c7)](_0x455064(0x6de))[_0x455064(0x457)][_0x455064(0xea1)](_0x455064(0x845));}),document[_0xf3041d(0x7c7)]('close-lesson-plan-modal-footer-btn')['addEventListener'](_0xf3041d(0x2f0),()=>{const _0x24bfdc=_0xf3041d;document[_0x24bfdc(0x7c7)]('lesson-plan-modal')[_0x24bfdc(0x457)][_0x24bfdc(0xea1)](_0x24bfdc(0x845));}),document[_0xf3041d(0x7c7)](_0xf3041d(0x516))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),handleExportLessonPDF);}document[_0xf3041d(0x7c7)](_0xf3041d(0xeda))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x38a21b=_0xf3041d;document[_0x38a21b(0x7c7)](_0x38a21b(0x25e))[_0x38a21b(0x457)]['add']('hidden');}),document[_0xf3041d(0x7c7)](_0xf3041d(0xf78))[_0xf3041d(0xf03)](_0xf3041d(0x2f0),()=>{const _0x3c34a1=_0xf3041d;document['getElementById'](_0x3c34a1(0x25e))['classList']['add'](_0x3c34a1(0x845));}),setupComparisonModalTabs(),document[_0xf3041d(0x24c)][_0xf3041d(0xf03)]('click',function(_0x2f4fa8){const _0x1abd95=_0xf3041d;if(_0x2f4fa8[_0x1abd95(0xcbd)][_0x1abd95(0x457)]['contains'](_0x1abd95(0x8b6))){const _0x46f99e=unescape(_0x2f4fa8[_0x1abd95(0xcbd)]['dataset'][_0x1abd95(0x6b2)]);startSkillPractice(_0x46f99e);}}),document[_0xf3041d(0x7c7)]('scores-tab-content')['addEventListener'](_0xf3041d(0x2f0),_0x40911f=>{const _0x1ac6ee=_0xf3041d,_0x50c7f2=_0x40911f[_0x1ac6ee(0xcbd)][_0x1ac6ee(0x5bf)](_0x1ac6ee(0x924));if(_0x50c7f2){const _0x28aebc=_0x50c7f2[_0x1ac6ee(0xefd)]['studentName'];handleDeleteSubmission(_0x28aebc);return;}const _0x5664c4=_0x40911f[_0x1ac6ee(0xcbd)][_0x1ac6ee(0x5bf)](_0x1ac6ee(0xe22));if(_0x5664c4){const _0x3cc623=_0x5664c4[_0x1ac6ee(0xefd)][_0x1ac6ee(0x27f)],_0x4e42bb=_0x5664c4[_0x1ac6ee(0xefd)][_0x1ac6ee(0xda9)],_0x52e235=prompt('แก้ไขคะแนน\x20Points\x20ของ\x20\x22'+_0x3cc623+_0x1ac6ee(0x6b9),_0x4e42bb);if(_0x52e235!==null&&_0x52e235[_0x1ac6ee(0xba3)]()!==''){const _0xf924fb=parseInt(_0x52e235,0xa);!isNaN(_0xf924fb)?handleManualEditPoints(_0x3cc623,_0xf924fb):alert(_0x1ac6ee(0xa04));}}}),document[_0xf3041d(0x7c7)]('close-pin-modal-btn')?.['addEventListener'](_0xf3041d(0x2f0),()=>{const _0x439d3f=_0xf3041d;document[_0x439d3f(0x7c7)](_0x439d3f(0x560))['classList'][_0x439d3f(0xea1)](_0x439d3f(0x845));}),document['querySelectorAll'](_0xf3041d(0x996))[_0xf3041d(0x9fb)](_0xf6925e=>{const _0x28df5c=_0xf3041d;_0xf6925e[_0x28df5c(0xf03)]('click',()=>{const _0x1a391e=_0x28df5c;handlePinKeyPress(_0xf6925e['dataset'][_0x1a391e(0x665)]);});}),document[_0xf3041d(0x7c7)](_0xf3041d(0x218))?.['addEventListener'](_0xf3041d(0x2f0),()=>{const _0x4b3d21=_0xf3041d;handlePinKeyPress(_0x4b3d21(0xdd8));});}async function handleStartGroupMode(_0x416174,_0x318796=![]){const _0xeebd9=_0x4247b4,_0x19585c=allQuizzes[_0xeebd9(0x787)](_0x1b7ce1=>_0x1b7ce1['id']===_0x416174)||allQuizzesGlobal['find'](_0x19eef8=>_0x19eef8['id']===_0x416174);if(!_0x19585c){showMessage(_0xeebd9(0xef3));return;}currentQuizData=getShuffledQuiz(_0x19585c);const _0x37b722=Math['floor'](0x3e8+Math[_0xeebd9(0x724)]()*0x2328)[_0xeebd9(0x2cc)]();try{const _0x167939=await addDoc(collection(db,_0xeebd9(0x2b7)+appId+'/public/data/teamQuizzes'),{'quizId':_0x19585c['id'],'projectId':_0x19585c['projectId'],'status':_0xeebd9(0xd93),'pin':_0x37b722,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x318796});currentTeamQuizId=_0x167939['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x37b722,_0x19585c[_0xeebd9(0x6b2)],_0xeebd9(0x374)),listenForTeamQuizUpdates();}catch(_0x34a1da){console[_0xeebd9(0xd5b)](_0xeebd9(0xea7),_0x34a1da),showMessage(_0xeebd9(0xc59));}}async function showStudentProgressView(){const _0x29e5f0=_0x4247b4;studentInitialView[_0x29e5f0(0x457)]['add'](_0x29e5f0(0x845)),document[_0x29e5f0(0x7c7)](_0x29e5f0(0x4da))[_0x29e5f0(0x457)][_0x29e5f0(0xd11)](_0x29e5f0(0x845));const _0x15947e=document[_0x29e5f0(0x7c7)](_0x29e5f0(0xa34)),_0x5bafbd=document['getElementById'](_0x29e5f0(0x3ad)),_0x283338=document['getElementById']('student-progress-content');_0x283338['innerHTML']=_0x29e5f0(0x865),_0x5bafbd['innerHTML']=_0x29e5f0(0x83c),_0x5bafbd[_0x29e5f0(0x766)]=!![],_0x15947e[_0x29e5f0(0x45b)]=_0x29e5f0(0xed8);if(allProjects[_0x29e5f0(0x2d2)]===0x0){const _0x56ede3=collection(db,_0x29e5f0(0x2b7)+appId+_0x29e5f0(0xbcb)),_0x24b6ef=await getDocs(_0x56ede3);allProjects=_0x24b6ef[_0x29e5f0(0xd72)][_0x29e5f0(0xdeb)](_0x290396=>({'id':_0x290396['id'],..._0x290396[_0x29e5f0(0xb86)]()}));}const _0x567f6a=allProjects[_0x29e5f0(0x498)](_0xef4127=>_0xef4127[_0x29e5f0(0xb7e)]?.['showInStudentDashboard']!==![]);_0x567f6a['sort']((_0x52270e,_0x447da5)=>_0x52270e[_0x29e5f0(0x8ff)][_0x29e5f0(0x460)](_0x447da5[_0x29e5f0(0x8ff)],'th')),_0x15947e[_0x29e5f0(0x45b)]=_0x29e5f0(0x5bb)+_0x567f6a[_0x29e5f0(0xdeb)](_0x2f531c=>_0x29e5f0(0x685)+_0x2f531c['id']+'\x22>'+_0x2f531c[_0x29e5f0(0x8ff)]+'</option>')[_0x29e5f0(0x94c)](''),_0x15947e['onchange']=()=>{const _0x7068e7=_0x29e5f0,_0xc3992e=_0x5bafbd['value'],_0x5e8283=_0x15947e[_0x7068e7(0xc66)];_0x5bafbd[_0x7068e7(0x766)]=!![],_0x5bafbd[_0x7068e7(0x45b)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x283338[_0x7068e7(0x45b)]=_0x7068e7(0xacc);if(!_0x5e8283)return;const _0x5cbf47=allProjects['find'](_0x1fad70=>_0x1fad70['id']===_0x5e8283);if(!_0x5cbf47||!_0x5cbf47[_0x7068e7(0x97d)])return;const _0xd2b960=()=>{const _0x2bd310=_0x7068e7;_0x5bafbd[_0x2bd310(0x45b)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x5cbf47[_0x2bd310(0x97d)][_0x2bd310(0xdeb)](_0x2867e9=>_0x2bd310(0x685)+_0x2867e9+'\x22>'+_0x2867e9+'</option>')[_0x2bd310(0x94c)](''),_0x5bafbd['disabled']=![];const _0x308581=Array[_0x2bd310(0x901)](_0x5bafbd[_0x2bd310(0xb84)])[_0x2bd310(0xdeb)](_0x346a19=>_0x346a19[_0x2bd310(0xc66)]);if(_0xc3992e&&_0x308581[_0x2bd310(0xba0)](_0xc3992e))_0x5bafbd[_0x2bd310(0xc66)]=_0xc3992e,_0x5bafbd[_0x2bd310(0x449)](new Event(_0x2bd310(0xc7a)));else _0x5cbf47[_0x2bd310(0x97d)]['length']===0x1&&(_0x5bafbd[_0x2bd310(0xc66)]=_0x5cbf47['students'][0x0],_0x5bafbd[_0x2bd310(0x449)](new Event('change')));};if(_0x5cbf47[_0x7068e7(0xb7e)]?.['isPasscodeEnabled']){if(sessionStorage[_0x7068e7(0x52f)](_0x7068e7(0x9b6)+_0x5e8283)===_0x7068e7(0x96f)){_0xd2b960();return;}const _0x35f36c=document[_0x7068e7(0x7c7)](_0x7068e7(0xf15)),_0xb9d843=document['getElementById'](_0x7068e7(0x28f)),_0x214692=document[_0x7068e7(0x7c7)](_0x7068e7(0xb7a)),_0x222fe5=document['getElementById'](_0x7068e7(0x459)),_0x4d2033=document[_0x7068e7(0x7c7)](_0x7068e7(0x4c0));document[_0x7068e7(0x7c7)](_0x7068e7(0xd79))['textContent']='สำหรับโปรเจค:\x20'+_0x5cbf47[_0x7068e7(0x8ff)],_0x222fe5[_0x7068e7(0xc66)]='',_0x4d2033[_0x7068e7(0x457)][_0x7068e7(0xea1)]('hidden'),_0x35f36c[_0x7068e7(0x457)]['remove']('hidden');const _0x5e5661=()=>{const _0x2375f8=_0x7068e7,_0x52eb5f=_0x222fe5[_0x2375f8(0xc66)][_0x2375f8(0xba3)]();_0x52eb5f===_0x5cbf47[_0x2375f8(0xb7e)]['passcode']?(sessionStorage[_0x2375f8(0x2b0)](_0x2375f8(0x9b6)+_0x5e8283,_0x2375f8(0x96f)),_0x35f36c[_0x2375f8(0x457)][_0x2375f8(0xea1)]('hidden'),_0xd2b960(),_0xb9d843[_0x2375f8(0x808)](_0x2375f8(0x2f0),_0x5e5661)):_0x4d2033[_0x2375f8(0x457)][_0x2375f8(0xd11)](_0x2375f8(0x845));};_0xb9d843[_0x7068e7(0xb2b)]=_0x5e5661,_0x214692[_0x7068e7(0xb2b)]=()=>{const _0x1fd6e9=_0x7068e7;_0x35f36c[_0x1fd6e9(0x457)]['add'](_0x1fd6e9(0x845)),_0x15947e[_0x1fd6e9(0xc66)]='',_0xb9d843[_0x1fd6e9(0x808)](_0x1fd6e9(0x2f0),_0x5e5661);};}else _0xd2b960();},_0x5bafbd[_0x29e5f0(0xc8b)]=()=>{const _0x39996e=_0x15947e['value'],_0x3f38d2=_0x5bafbd['value'];_0x39996e&&_0x3f38d2&&renderStudentProgressDashboard(_0x39996e,_0x3f38d2);};}async function confirmAndJoinSyncGame(){const _0xc5f68=_0x4247b4;lastSeenQuestionIndex=-0x1,sessionStorage[_0xc5f68(0x801)](_0xc5f68(0xafd)),sessionStorage[_0xc5f68(0x801)](_0xc5f68(0xebd)),Object['keys'](sessionStorage)[_0xc5f68(0x9fb)](_0x13df1d=>{const _0xd49824=_0xc5f68;(_0x13df1d['startsWith']('freeMarketEntryUsed_q')||_0x13df1d[_0xd49824(0xc5b)](_0xd49824(0xb7d))||_0x13df1d[_0xd49824(0xc5b)](_0xd49824(0xb68)))&&sessionStorage[_0xd49824(0x801)](_0x13df1d);});const _0x16d2ab=[...orderedPlayerSelection];if(_0x16d2ab[_0xc5f68(0x2d2)]===0x0){showMessage(_0xc5f68(0x5ae));return;}localTeamPlayers=_0x16d2ab,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x55c976=writeBatch(db),_0x53deb2=serverTimestamp();for(const _0x206502 of _0x16d2ab){const _0x48b839=doc(db,_0xc5f68(0x2b7)+appId+_0xc5f68(0x41f)+currentLiveGameId+_0xc5f68(0x464),_0x206502),_0x2abaff=await getDoc(_0x48b839);if(_0x2abaff[_0xc5f68(0x971)]())_0x55c976['update'](_0x48b839,{'status':_0xc5f68(0x3d0)});else{const _0x5386e9={'name':_0x206502,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0,'revealOptions':0x0},'answered':![],'status':_0xc5f68(0x3d0),'answers':[],'joinedAt':_0x53deb2,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x55c976[_0xc5f68(0x916)](_0x48b839,_0x5386e9);}}await _0x55c976[_0xc5f68(0xdcc)](),showView(_0xc5f68(0x8eb)),document[_0xc5f68(0x7c7)](_0xc5f68(0xdfa))[_0xc5f68(0x457)][_0xc5f68(0xea1)](_0xc5f68(0x845)),currentStudentName=_0x16d2ab[0x0],listenForSyncGameUpdates();const _0x48fd3f={'gameId':currentLiveGameId,'mode':_0xc5f68(0xca0),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0xc5f68(0x2b0)]('activeGameSession',JSON['stringify'](_0x48fd3f)),currentMode!==_0xc5f68(0x3ab)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener']('fullscreenchange',handleFullscreenChange),document[_0xc5f68(0xf03)](_0xc5f68(0x962),handleVisibilityChange),enterFullscreen(),window[_0xc5f68(0xf03)](_0xc5f68(0xedd),resetDimTimer),window[_0xc5f68(0xf03)](_0xc5f68(0xd41),resetDimTimer),window[_0xc5f68(0xf03)](_0xc5f68(0x8b9),resetDimTimer),window[_0xc5f68(0xf03)](_0xc5f68(0xe7a),resetDimTimer),resetDimTimer());}catch(_0x17fc8d){console[_0xc5f68(0xd5b)](_0xc5f68(0x279),_0x17fc8d),showMessage(_0xc5f68(0x2a6)+_0x17fc8d['message']);}}async function resumeActiveGameSession(){const _0x27b1da=_0x4247b4,_0x1017fd=sessionStorage['getItem']('activeGameSession');if(!_0x1017fd)return;const _0x341a53=JSON[_0x27b1da(0xcfd)](_0x1017fd),{gameId:_0x4b3b1b,mode:_0x476e0c,role:_0x3c2a2e,players:_0x244c03,turnIndex:_0x4191e8}=_0x341a53;try{if(_0x3c2a2e===_0x27b1da(0x803)&&_0x476e0c==='sync'){const _0x3775b5=doc(db,_0x27b1da(0x2b7)+appId+_0x27b1da(0x9cd),_0x4b3b1b),_0x29ecbf=await getDoc(_0x3775b5);if(!_0x29ecbf[_0x27b1da(0x971)]()||_0x29ecbf[_0x27b1da(0xb86)]()[_0x27b1da(0x55e)]===_0x27b1da(0xa07)||_0x29ecbf[_0x27b1da(0xb86)]()[_0x27b1da(0x55e)]===_0x27b1da(0xb57)){sessionStorage['removeItem'](_0x27b1da(0x70f));return;}console[_0x27b1da(0x799)](_0x27b1da(0xd1d)+_0x4b3b1b+')'),currentMode=_0x27b1da(0x803),currentLiveGameId=_0x4b3b1b,currentQuizData=_0x29ecbf[_0x27b1da(0xb86)]()['shuffledQuiz'],showView(_0x27b1da(0x8eb)),listenForSyncGameUpdates();}else{if(_0x476e0c==='sync'&&_0x244c03){const _0x1a7f01=doc(db,_0x27b1da(0x2b7)+appId+_0x27b1da(0x9cd),_0x4b3b1b),_0x315608=await getDoc(_0x1a7f01);if(!_0x315608[_0x27b1da(0x971)]()||_0x315608[_0x27b1da(0xb86)]()[_0x27b1da(0x55e)]===_0x27b1da(0xa07)||_0x315608['data']()[_0x27b1da(0x55e)]===_0x27b1da(0xb57)){sessionStorage[_0x27b1da(0x801)](_0x27b1da(0x70f));return;}console['log'](_0x27b1da(0x2e9)+_0x4b3b1b+')'),currentLiveGameId=_0x4b3b1b,currentStudentName=_0x244c03[0x0],localTeamPlayers=_0x244c03,showView(_0x27b1da(0x8eb)),listenForSyncGameUpdates();}else{if((_0x476e0c===_0x27b1da(0xbd3)||_0x476e0c==='group')&&_0x244c03){const _0x47809d=doc(db,_0x27b1da(0x2b7)+appId+_0x27b1da(0x56b),_0x4b3b1b),_0x26a373=await getDoc(_0x47809d);if(!_0x26a373[_0x27b1da(0x971)]()||_0x26a373[_0x27b1da(0xb86)]()['status']===_0x27b1da(0xa07)||_0x26a373[_0x27b1da(0xb86)]()[_0x27b1da(0x55e)]===_0x27b1da(0xb57)){sessionStorage[_0x27b1da(0x801)]('activeGameSession');return;}console['log'](_0x27b1da(0x2f4)+_0x476e0c+_0x27b1da(0xb0e)+_0x4b3b1b+')'),currentTeamQuizId=_0x4b3b1b,localTeamPlayers=_0x244c03,localQuestionIndex=_0x341a53[_0x27b1da(0xe6a)]||0x0,localPlayerIndex=_0x341a53[_0x27b1da(0x730)]||0x0;const _0x1884b3=_0x26a373[_0x27b1da(0xb86)](),_0x165b54=doc(db,_0x27b1da(0x2b7)+appId+_0x27b1da(0xa8b),_0x1884b3['quizId']),_0x290028=await getDoc(_0x165b54);_0x290028[_0x27b1da(0x971)]()&&(currentQuizData=getShuffledQuiz({'id':_0x290028['id'],..._0x290028[_0x27b1da(0xb86)]()}),showView('student'),studentInitialView[_0x27b1da(0x457)][_0x27b1da(0xea1)]('hidden'),_0x476e0c===_0x27b1da(0x374)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x446719){console['error'](_0x27b1da(0x7ba),_0x446719),sessionStorage[_0x27b1da(0x801)](_0x27b1da(0x70f));}}async function handleUsePowerup(_0x2bdeeb,_0x389ab5,_0xd6d8ef,_0x898462,_0x382d5e){const _0x5a7303=_0x4247b4,_0x1253bf=_0x898462[_0x5a7303(0x89f)],_0x252175=_0x5a7303(0xb7d)+_0x1253bf+'_p'+_0x2bdeeb,_0x126d21=sessionStorage[_0x5a7303(0x52f)](_0x252175);if(_0x126d21&&_0x389ab5!==_0x5a7303(0x7b0)&&_0x389ab5!==_0x5a7303(0xaf2)){showMessage(_0x5a7303(0xb08));const _0x4e6157=document[_0x5a7303(0x7c7)](_0x5a7303(0x551)+_0x389ab5);if(_0x4e6157)_0x4e6157['disabled']=![];return;}if(_0x389ab5===_0x5a7303(0xb6c)){sessionStorage[_0x5a7303(0x2b0)](_0x252175,_0x389ab5),playSystemSound('powerup'),renderStudentSyncQuestionView(_0x898462);return;}const _0x24c695=doc(db,_0x5a7303(0x2b7)+appId+_0x5a7303(0x41f)+currentLiveGameId+_0x5a7303(0x464),_0x2bdeeb);try{await runTransaction(db,async _0x27633d=>{const _0x1c8e4d=_0x5a7303,_0x270f77=await _0x27633d['get'](_0x24c695);if(!_0x270f77[_0x1c8e4d(0x971)]())throw _0x1c8e4d(0xb73);const _0x16a219=_0x270f77['data'](),_0x7011c7=_0x16a219[_0x1c8e4d(0xb49)]||{},_0x137a79=_0x7011c7[_0x389ab5]||0x0;if(_0x137a79<=0x0)throw'คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)';const _0x41a8d0={};_0x41a8d0[_0x1c8e4d(0xbea)+_0x389ab5]=increment(-0x1);_0x389ab5!==_0x1c8e4d(0xb6c)&&(_0x41a8d0[_0x1c8e4d(0xde6)]=0x0);if(_0x389ab5==='buyTime'){const _0x5ba00d=(_0x898462[_0x1c8e4d(0xefe)]||0xf0)*0x3e8,_0x5b5aca=_0x5ba00d*0.25;_0x41a8d0[_0x1c8e4d(0xa30)]=increment(_0x5b5aca);}_0x27633d[_0x1c8e4d(0x8f0)](_0x24c695,_0x41a8d0);}),_0x389ab5===_0x5a7303(0x969)&&sessionStorage[_0x5a7303(0x2b0)](_0x5a7303(0xafd),_0x5a7303(0x96f)),_0x389ab5!=='buyTime'&&_0x389ab5!=='strategyScan'&&sessionStorage['setItem'](_0x252175,_0x389ab5),playSystemSound(_0x5a7303(0xc99)),applyPowerupEffect(_0x2bdeeb,_0x389ab5,_0xd6d8ef,_0x898462,_0x382d5e),(_0x389ab5===_0x5a7303(0xd02)||_0x389ab5===_0x5a7303(0x650)||_0x389ab5==='insurance'||_0x389ab5==='revealOptions')&&renderStudentSyncQuestionView(_0x898462),_0x389ab5!==_0x5a7303(0xb6c)&&_0x382d5e['correctStreak']>0x0&&showMessage(_0x5a7303(0x88b)+_0x389ab5+_0x5a7303(0xd56));}catch(_0x471e06){console[_0x5a7303(0xd5b)]('Powerup\x20use\x20failed:',_0x471e06),showMessage(typeof _0x471e06===_0x5a7303(0x428)?_0x471e06:'เกิดข้อผิดพลาดในการใช้ตัวช่วย');const _0x492a71=document[_0x5a7303(0x7c7)](_0x5a7303(0x551)+_0x389ab5);if(_0x492a71)_0x492a71[_0x5a7303(0x766)]=![];}}async function getCachedOtherPlayers(_0x5b63df,_0x1a531d){const _0xdcb75a=_0x4247b4,_0x369d81=_0x5b63df[_0xdcb75a(0x89f)];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x369d81)return console[_0xdcb75a(0x799)](_0xdcb75a(0x2a1)),cachedOtherPlayersForQuestion;console[_0xdcb75a(0x799)](_0xdcb75a(0xd44));const _0x15a1e6=collection(db,_0xdcb75a(0x2b7)+appId+_0xdcb75a(0x41f)+currentLiveGameId+_0xdcb75a(0x464)),_0x4e7830=query(_0x15a1e6,where('status','==','active')),_0x103407=await getDocs(_0x4e7830),_0x11824f=[];return _0x103407[_0xdcb75a(0x9fb)](_0x3426a8=>{const _0x14b694=_0xdcb75a,_0x9c582f=_0x3426a8[_0x14b694(0xb86)]();_0x11824f[_0x14b694(0x82f)](_0x9c582f);}),cachedOtherPlayersForQuestion=_0x11824f,cachedQuestionIndexForPlayers=_0x369d81,_0x11824f;}async function applyPowerupEffect(_0xb4acc5,_0x39718f,_0x13b15a,_0x3c13f8,_0x400478){const _0x5e6983=_0x4247b4,_0x304b3d=_0x13b15a,_0x3958fb=_0x3c13f8[_0x5e6983(0x89f)];switch(_0x39718f){case _0x5e6983(0xb6c):showMessage(_0x5e6983(0xabf));break;case _0x5e6983(0xa1d):showMessage(_0x5e6983(0xb1b));break;case'buyTime':const _0x17905d=(_0x3c13f8[_0x5e6983(0xefe)]||0xf0)*0.25;showMessage(_0x5e6983(0x4b4)+_0x17905d+_0x5e6983(0x63d));break;case _0x5e6983(0xd02):case _0x5e6983(0x650):const _0x65e3f6=document['querySelectorAll'](_0x5e6983(0x809));if(_0x65e3f6[_0x5e6983(0x2d2)]===0x0){showMessage(_0x5e6983(0xcb0));return;}const _0x2cd9c7=_0x5e6983(0xb68)+_0x3958fb+'_p'+_0xb4acc5,_0x30391a=JSON[_0x5e6983(0xcfd)](sessionStorage[_0x5e6983(0x52f)](_0x2cd9c7)||'[]');let _0x2c1f98;const _0x2eff92=_0x304b3d[_0x5e6983(0xf29)]||_0x3c13f8[_0x5e6983(0xeb8)][_0x5e6983(0xa71)];_0x2eff92==='true_false'?_0x2c1f98=String(_0x304b3d[_0x5e6983(0xd0d)])['toLowerCase']()===_0x5e6983(0x96f)?0x0:0x1:_0x2c1f98=_0x304b3d[_0x5e6983(0xc6f)];const _0x47eca3=Array[_0x5e6983(0x901)](_0x65e3f6)[_0x5e6983(0x498)](_0xcc6939=>parseInt(_0xcc6939[_0x5e6983(0xefd)][_0x5e6983(0xc66)])!==_0x2c1f98&&!_0x30391a[_0x5e6983(0xba0)](_0xcc6939[_0x5e6983(0xefd)][_0x5e6983(0xc66)]));if(_0x47eca3[_0x5e6983(0x2d2)]===0x0){showMessage('ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!');return;}shuffleArray(_0x47eca3);const _0x42a85f=_0x39718f==='cutOne'?0x1:0x2,_0x531712=[];for(let _0x2d6790=0x0;_0x2d6790<_0x42a85f;_0x2d6790++){_0x47eca3[_0x2d6790]&&(_0x47eca3[_0x2d6790][_0x5e6983(0x457)][_0x5e6983(0xea1)](_0x5e6983(0x845)),_0x531712[_0x5e6983(0x82f)](_0x47eca3[_0x2d6790][_0x5e6983(0xefd)][_0x5e6983(0xc66)]));}const _0x33d7ff=[..._0x30391a,..._0x531712];sessionStorage[_0x5e6983(0x2b0)](_0x2cd9c7,JSON[_0x5e6983(0xe71)](_0x33d7ff)),showMessage(_0x39718f===_0x5e6983(0xd02)?_0x5e6983(0xf33):'⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!');break;default:showMessage(_0x5e6983(0x219)+_0x39718f+_0x5e6983(0xbbd));}}async function handleForceConfident(_0x20981a,_0x2fcb66){const _0xd043ec=_0x4247b4;if(!currentLiveGameId||!_0x20981a)return;const _0x4d489b=doc(db,_0xd043ec(0x2b7)+appId+_0xd043ec(0x41f)+currentLiveGameId+_0xd043ec(0x464),_0x20981a);try{await updateDoc(_0x4d489b,{'isForcedConfident':!![]}),showMessage(_0xd043ec(0xdc5)+_0x2fcb66+_0xd043ec(0xcec));}catch(_0x375ec8){console[_0xd043ec(0xd5b)](_0xd043ec(0xe82),_0x375ec8),showMessage(_0xd043ec(0xc1c));}}async function handleRefundPowerup(_0x207fbf,_0x568cff){const _0x3c2c1a=_0x4247b4,_0x2dceac=doc(db,_0x3c2c1a(0x2b7)+appId+_0x3c2c1a(0x41f)+currentLiveGameId+_0x3c2c1a(0x464),_0x207fbf);try{const _0x82e71b={};_0x82e71b[_0x3c2c1a(0xbea)+_0x568cff]=increment(0x1),await updateDoc(_0x2dceac,_0x82e71b),console[_0x3c2c1a(0x799)]('Refunded\x20'+_0x568cff+_0x3c2c1a(0x6cb)+_0x207fbf);}catch(_0x3decd8){console['error']('Failed\x20to\x20refund\x20powerup:',_0x3decd8);}}async function handleApplyJinx(_0x4419b5,_0x515db5){const _0x24e3c2=_0x4247b4;if(!currentLiveGameId||!_0x4419b5)return;const _0x44993e=doc(db,_0x24e3c2(0x2b7)+appId+_0x24e3c2(0x41f)+currentLiveGameId+'/players',_0x4419b5);try{await updateDoc(_0x44993e,{'isJinxed':!![]}),showMessage('ใช้\x20\x22คำสาป\x22\x20กับ\x20'+_0x515db5+_0x24e3c2(0xcec));}catch(_0x3d81dd){console[_0x24e3c2(0xd5b)]('Failed\x20to\x20apply\x20jinx:',_0x3d81dd),showMessage(_0x24e3c2(0xc1c));}}function activateFileInputAreaWithLoadedFile(){const _0x2c05b1=_0x4247b4,_0x1d7e6f=document['getElementById']('generate-from-file-btn'),_0x3fc54f=document[_0x2c05b1(0x7c7)](_0x2c05b1(0x4c3)),_0x3f051d=document[_0x2c05b1(0x7c7)](_0x2c05b1(0x44a));selectedFile?_0x3f051d[_0x2c05b1(0xa20)]?(_0x1d7e6f['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x1d7e6f['disabled']=![],_0x3fc54f[_0x2c05b1(0x457)][_0x2c05b1(0xea1)](_0x2c05b1(0x845))):(_0x1d7e6f['disabled']=!![],_0x3fc54f[_0x2c05b1(0x457)]['add'](_0x2c05b1(0x845)));}async function handleKickPlayerSync(_0x561599){const _0x243735=_0x4247b4;if(!currentLiveGameId||!_0x561599)return;const _0x4f949d=doc(db,_0x243735(0x2b7)+appId+_0x243735(0x41f)+currentLiveGameId+_0x243735(0x464),_0x561599);try{await updateDoc(_0x4f949d,{'status':_0x243735(0x6e9)});}catch(_0x584720){console[_0x243735(0xd5b)](_0x243735(0x747)+_0x561599+':',_0x584720),showMessage(_0x243735(0xc25));}}async function renderStudentProgressDashboard(_0x17d06f,_0x1b455b){const _0x323159=_0x4247b4,_0x283578=document[_0x323159(0x7c7)](_0x323159(0xc88));_0x283578[_0x323159(0x45b)]=_0x323159(0x30e);try{const _0x35a838=collection(db,'artifacts/'+appId+_0x323159(0xa8b)),_0x591927=query(_0x35a838,where(_0x323159(0xf28),'==',_0x17d06f)),_0x4e00fd=await getDocs(_0x591927),_0x113848=_0x4e00fd[_0x323159(0xd72)]['map'](_0x4ee55c=>({'id':_0x4ee55c['id'],..._0x4ee55c[_0x323159(0xb86)]()})),_0xf9503c=_0x113848[_0x323159(0xdeb)](_0x501949=>getDoc(doc(db,_0x323159(0x2b7)+appId+_0x323159(0xbe9)+_0x501949['id']+_0x323159(0x746),_0x1b455b))),_0x347c5e=await Promise['all'](_0xf9503c),_0x44ecf1=_0x347c5e[_0x323159(0x498)](_0xd23db8=>_0xd23db8['exists']())[_0x323159(0xdeb)](_0x4ab9ad=>({'quizId':_0x4ab9ad[_0x323159(0x3e7)][_0x323159(0xf63)]['parent']['id'],..._0x4ab9ad['data']()}));if(_0x44ecf1[_0x323159(0x2d2)]===0x0){_0x283578[_0x323159(0x45b)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x22d9fb='<div\x20class=\x22space-y-4\x22>';_0x44ecf1[_0x323159(0x9fb)](_0x36ea3c=>{const _0x3012d2=_0x323159,_0x2ea79f=_0x113848[_0x3012d2(0x787)](_0x548955=>_0x548955['id']===_0x36ea3c[_0x3012d2(0x3d4)]),_0x1f97f8=_0x2ea79f[_0x3012d2(0xb7e)]?.['resultsDisplay']||_0x3012d2(0xdf2),_0x3af707=_0x2ea79f[_0x3012d2(0xb7e)]?.['passingScore']??0x0,_0x5f17b8=_0x36ea3c[_0x3012d2(0x6c2)]>=_0x3af707;let _0x43d86b='',_0xf50fce=_0x3012d2(0x2f5);switch(_0x1f97f8){case _0x3012d2(0xdf2):case _0x3012d2(0x34e):_0xf50fce=_0x5f17b8?_0x3012d2(0xa43):_0x3012d2(0x6ea),_0x43d86b=_0x3012d2(0xe45)+(_0x5f17b8?_0x3012d2(0xd51):_0x3012d2(0x849))+'\x22>'+_0x36ea3c[_0x3012d2(0x6c2)]+_0x3012d2(0x74e)+_0x36ea3c[_0x3012d2(0xb37)]+_0x3012d2(0x948)+(_0x5f17b8?'bg-green-200\x20text-green-800':_0x3012d2(0x5af))+'\x22>'+(_0x5f17b8?_0x3012d2(0x22e):'ไม่ผ่าน')+_0x3012d2(0xe5c);break;case _0x3012d2(0xc3b):_0xf50fce=_0x5f17b8?'bg-green-50':_0x3012d2(0x6ea),_0x43d86b=_0x3012d2(0xdd9)+(_0x5f17b8?_0x3012d2(0x2ec):'bg-red-200\x20text-red-800')+'\x22>'+(_0x5f17b8?_0x3012d2(0x22e):'ไม่ผ่าน')+_0x3012d2(0xe5c);break;case'manual_release':_0xf50fce=_0x3012d2(0xea2),_0x43d86b=_0x3012d2(0xae5);break;}_0x22d9fb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0xf50fce+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x2ea79f['topic']+_0x3012d2(0xa28)+_0x36ea3c[_0x3012d2(0x4d6)][_0x3012d2(0x2d2)]+_0x3012d2(0x9ff)+new Date(_0x36ea3c['latestSubmittedAt'])[_0x3012d2(0xb6d)](_0x3012d2(0xc69))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x43d86b+_0x3012d2(0xf7f);}),_0x22d9fb+=_0x323159(0x745),_0x283578[_0x323159(0x45b)]=_0x22d9fb;}catch(_0x21b095){console[_0x323159(0xd5b)]('Error\x20rendering\x20student\x20progress:',_0x21b095),_0x283578[_0x323159(0x45b)]=_0x323159(0xb3d);}}function renderQuizBankListForMultiSelect(_0x543c4d=''){const _0x4c230f=_0x4247b4,_0x3d1a3c=document['getElementById']('bank-quiz-list'),_0x235c9b=_0x543c4d[_0x4c230f(0xab2)]()['trim'](),_0x25dd8b=allQuizzesGlobal[_0x4c230f(0xdeb)](_0x35660f=>({..._0x35660f,'projectName':allProjects[_0x4c230f(0x787)](_0x5c4fe5=>_0x5c4fe5['id']===_0x35660f[_0x4c230f(0xf28)])?.['projectName']||_0x4c230f(0x288)}))[_0x4c230f(0x498)](_0x401ea5=>(_0x401ea5[_0x4c230f(0x6b2)]||'')[_0x4c230f(0xab2)]()[_0x4c230f(0xba0)](_0x235c9b)||(_0x401ea5[_0x4c230f(0x8ff)]||'')[_0x4c230f(0xab2)]()[_0x4c230f(0xba0)](_0x235c9b)||_0x401ea5['id'][_0x4c230f(0x2cc)]()[_0x4c230f(0xba0)](_0x235c9b));_0x3d1a3c[_0x4c230f(0x45b)]=_0x25dd8b[_0x4c230f(0x2d2)]?_0x25dd8b[_0x4c230f(0xdeb)](_0x41388f=>_0x4c230f(0x760)+_0x41388f['id']+_0x4c230f(0xf3f)+(_0x41388f[_0x4c230f(0x6b2)]||'(ไม่มีชื่อ)')+_0x4c230f(0xd35)+_0x41388f['projectName']+'\x20|\x20ID:\x20'+_0x41388f['id']+_0x4c230f(0xaf5))[_0x4c230f(0x94c)](''):_0x4c230f(0x36c),_0x3d1a3c['onchange']=()=>{const _0x50450d=_0x4c230f,_0x4fd584=document['querySelector'](_0x50450d(0x445));document[_0x50450d(0x7c7)]('confirm-link-quiz-btn')['disabled']=!_0x4fd584;};}function setupStudentProgressListeners(){const _0x3da1f5=_0x4247b4;document[_0x3da1f5(0x7c7)](_0x3da1f5(0x6f3))['addEventListener'](_0x3da1f5(0x2f0),showStudentProgressView),document[_0x3da1f5(0x7c7)]('back-to-student-home-btn')[_0x3da1f5(0xf03)]('click',()=>{const _0xfec570=_0x3da1f5;document[_0xfec570(0x7c7)]('student-progress-view')[_0xfec570(0x457)][_0xfec570(0xea1)](_0xfec570(0x845)),document[_0xfec570(0x7c7)](_0xfec570(0x7a2))[_0xfec570(0x457)][_0xfec570(0xd11)](_0xfec570(0x845));});}async function startSkillPractice(_0x44c1a8){const _0x499003=_0x4247b4;studentResultArea['classList'][_0x499003(0xea1)]('hidden'),studentQuizArea[_0x499003(0x45b)]=_0x499003(0x91a),studentQuizArea[_0x499003(0x457)][_0x499003(0xd11)](_0x499003(0x845));try{const _0x27d970=await getStandardizedTopic(_0x44c1a8);console[_0x499003(0x799)](_0x499003(0x622)+_0x44c1a8+_0x499003(0xefa)+_0x27d970+'\x22'),studentQuizArea[_0x499003(0x79b)]('p')[_0x499003(0xb0c)]=_0x499003(0x80a)+_0x27d970+'\x22...';const _0x84ce42=collection(db,_0x499003(0x2b7)+appId+_0x499003(0xe35)),_0x33047f=query(_0x84ce42,where(_0x499003(0x6b2),'==',_0x27d970)),_0x1292c6=await getDocs(_0x33047f);if(_0x1292c6['docs'][_0x499003(0x2d2)]>=0x3){console['log']('พบข้อสอบ\x20'+_0x1292c6[_0x499003(0xd72)]['length']+_0x499003(0xf0b)+_0x27d970+_0x499003(0xbde));let _0x1a0d17=_0x1292c6[_0x499003(0xd72)][_0x499003(0xdeb)](_0x3b2c65=>_0x3b2c65[_0x499003(0xb86)]());shuffleArray(_0x1a0d17);const _0xb64629={'topic':_0x27d970,'questions':_0x1a0d17[_0x499003(0x68d)](0x0,0x3)};displaySkillPracticeDrill(_0xb64629);}else{console['log'](_0x499003(0x97a)+_0x27d970+_0x499003(0xc5c));const _0x3a327f=await generatePracticeQuestions(_0x27d970);await saveDrillToPracticeBank(_0x3a327f,_0x27d970),displaySkillPracticeDrill(_0x3a327f);}}catch(_0x16dede){console[_0x499003(0xd5b)](_0x499003(0x6e3),_0x16dede),showMessage(_0x499003(0x87f)),studentQuizArea[_0x499003(0x457)]['add'](_0x499003(0x845)),studentResultArea[_0x499003(0x457)]['remove'](_0x499003(0x845));}}async function saveDrillToPracticeBank(_0x336100,_0x3ce45){const _0x3a57a5=_0x4247b4,_0x163baa=collection(db,_0x3a57a5(0x2b7)+appId+_0x3a57a5(0xe35)),_0x59ed17=writeBatch(db);_0x336100['questions'][_0x3a57a5(0x9fb)](_0x19d0bf=>{const _0x1f640a=_0x3a57a5,_0x25f998=doc(_0x163baa);_0x59ed17[_0x1f640a(0x916)](_0x25f998,{'topic':_0x3ce45,'questionText':_0x19d0bf[_0x1f640a(0x303)],'options':_0x19d0bf['options'],'correctAnswerIndex':_0x19d0bf[_0x1f640a(0xc6f)],'explanation':_0x19d0bf[_0x1f640a(0x30b)],'createdAt':serverTimestamp()});});try{await _0x59ed17[_0x3a57a5(0xdcc)](),console[_0x3a57a5(0x799)]('บันทึกคำถามใหม่\x20'+_0x336100['questions'][_0x3a57a5(0x2d2)]+_0x3a57a5(0x9b2));}catch(_0x5e4a21){console[_0x3a57a5(0xd5b)](_0x3a57a5(0xd2c),_0x5e4a21);}}async function getStandardizedTopic(_0x3278c3){const _0x37c8f4=_0x4247b4,_0x317261=_0x37c8f4(0xe8f)+_0x3278c3+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x18b440={'type':'OBJECT','properties':{'standardTopic':{'type':_0x37c8f4(0xaf4)}},'required':[_0x37c8f4(0x76b)]};try{const _0x51d7de=await callAnalysisApi(_0x317261,_0x18b440);return _0x51d7de[_0x37c8f4(0x76b)];}catch(_0x36f803){return console[_0x37c8f4(0xd5b)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x36f803),_0x3278c3;}}async function handleGenerateEasyVersionQuiz(_0x4adf76){const _0x30a0b8=_0x4247b4,_0x1e7fe0=document[_0x30a0b8(0x7c7)](_0x30a0b8(0x46f)),_0x11056c=document[_0x30a0b8(0x7c7)]('project-quizzes-list');_0x11056c[_0x30a0b8(0x457)]['add'](_0x30a0b8(0x845));const _0x4588b6=_0x30a0b8(0xe30);_0x1e7fe0['insertAdjacentHTML'](_0x30a0b8(0x2b4),_0x4588b6);try{const _0x2c56a9=allQuizzes['find'](_0x458357=>_0x458357['id']===_0x4adf76);if(!_0x2c56a9)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0x20ba05=_0x30a0b8(0x45f)+JSON[_0x30a0b8(0xe71)](_0x2c56a9[_0x30a0b8(0x99c)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2016c1={'type':_0x30a0b8(0xd94),'properties':{'questionText':{'type':_0x30a0b8(0xaf4)},'questionType':{'type':_0x30a0b8(0xaf4)},'options':{'type':_0x30a0b8(0xa29),'items':{'type':_0x30a0b8(0xaf4)}},'correctAnswerIndex':{'type':_0x30a0b8(0xe62)},'idealAnswer':{'type':_0x30a0b8(0xaf4)},'explanation':{'type':_0x30a0b8(0xaf4)},'imageCode':{'type':_0x30a0b8(0xaf4)}},'required':[_0x30a0b8(0x303),_0x30a0b8(0xf29),_0x30a0b8(0x30b)]},_0x3290f4={'type':_0x30a0b8(0xd94),'properties':{'questions':{'type':_0x30a0b8(0xa29),'items':_0x2016c1}},'required':[_0x30a0b8(0x99c)]},_0x59de7a=await callAnalysisApi(_0x20ba05,_0x3290f4);_0x59de7a&&_0x59de7a[_0x30a0b8(0x99c)]&&_0x59de7a[_0x30a0b8(0x99c)][_0x30a0b8(0x9fb)](_0x344029=>{const _0x2dfa76=_0x30a0b8;if(_0x344029[_0x2dfa76(0xdf6)](_0x2dfa76(0x601))){const _0x109168=String(_0x344029['imageCode'])[_0x2dfa76(0xba3)]();(_0x109168===''||_0x109168[_0x2dfa76(0xab2)]()===_0x2dfa76(0xdf0)||!_0x109168[_0x2dfa76(0xc5b)](_0x2dfa76(0x23e)))&&delete _0x344029[_0x2dfa76(0x601)];}});if(!_0x59de7a||!_0x59de7a[_0x30a0b8(0x99c)]||_0x59de7a[_0x30a0b8(0x99c)][_0x30a0b8(0x2d2)]===0x0)throw new Error(_0x30a0b8(0xc34));const _0x35b116=_0x59de7a[_0x30a0b8(0x99c)][_0x30a0b8(0xdeb)]((_0x4ac76f,_0x4ac2a6)=>({..._0x4ac76f,'id':'q_'+Date[_0x30a0b8(0x5f5)]()+'_'+_0x4ac2a6})),_0x309a8f={'projectId':_0x2c56a9[_0x30a0b8(0xf28)],'quizType':_0x2c56a9['quizType'],'settings':_0x2c56a9[_0x30a0b8(0xb7e)],'createdBy':_0x2c56a9[_0x30a0b8(0x2f8)],'status':_0x30a0b8(0x3d0),'topic':'(ฉบับง่าย)\x20'+_0x2c56a9[_0x30a0b8(0x6b2)],'questions':_0x35b116,'createdAt':new Date()[_0x30a0b8(0xf30)](),'quizMode':_0x30a0b8(0x8df),'pairedQuizId':null};let _0x4614e0;while(!![]){_0x4614e0=Math[_0x30a0b8(0xcb1)](0x3e8+Math['random']()*0x2328)['toString']();const _0x476721=await getDoc(doc(db,'artifacts/'+appId+_0x30a0b8(0xa8b),_0x4614e0));if(!_0x476721[_0x30a0b8(0x971)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x30a0b8(0xa8b),_0x4614e0),_0x309a8f),showMessage(_0x30a0b8(0x3e1));}catch(_0x24a194){console[_0x30a0b8(0xd5b)](_0x30a0b8(0x6df),_0x24a194),showMessage(_0x30a0b8(0x5ee)+_0x24a194[_0x30a0b8(0x725)]);}finally{const _0x18544b=document['getElementById'](_0x30a0b8(0xb12));_0x18544b&&_0x18544b[_0x30a0b8(0xd11)](),_0x11056c['classList'][_0x30a0b8(0xd11)](_0x30a0b8(0x845));}}async function generatePracticeQuestions(_0x1a547a){const _0x43a912=_0x4247b4,_0x34bcd1=_0x43a912(0x26f)+_0x1a547a+_0x43a912(0xd55)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x42ec16={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x43a912(0xa29),'items':{'type':_0x43a912(0xaf4)}},'correctAnswerIndex':{'type':_0x43a912(0xe62)},'explanation':{'type':_0x43a912(0xaf4)}},'required':[_0x43a912(0x303),_0x43a912(0xb84),'correctAnswerIndex',_0x43a912(0x30b)]},_0x5b412d={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x42ec16}},'required':[_0x43a912(0x6b2),_0x43a912(0x99c)]};return await callAnalysisApi(_0x34bcd1,_0x5b412d);}function displayLessonPlan(_0xb7541,_0x45276b){const _0x25eb4a=_0x4247b4,_0x14a687=_0x25eb4a(0xace)+_0x45276b[_0x25eb4a(0x6b2)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0xb7541['learningGaps']['map'](_0x4c1f16=>_0x25eb4a(0x200)+_0x4c1f16+_0x25eb4a(0x98a))[_0x25eb4a(0x94c)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0xb7541[_0x25eb4a(0x488)]+_0x25eb4a(0xf0f)+_0xb7541[_0x25eb4a(0x3bb)]['map'](_0x3681f5=>_0x25eb4a(0xa8a)+_0x3681f5['question']+_0x25eb4a(0x5a7)+_0x3681f5[_0x25eb4a(0x6ee)]+'</p></div>')[_0x25eb4a(0x94c)]('')+_0x25eb4a(0x99b);document[_0x25eb4a(0x7c7)](_0x25eb4a(0x834))[_0x25eb4a(0xb0c)]='แผนการสอน:\x20'+_0x45276b[_0x25eb4a(0x6b2)],document['getElementById'](_0x25eb4a(0x433))['innerHTML']=_0x14a687,document[_0x25eb4a(0x7c7)](_0x25eb4a(0x6de))[_0x25eb4a(0x457)]['remove']('hidden');if(window[_0x25eb4a(0x872)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x1029de){const _0x500623=_0x4247b4;let _0xcbc39f=0x0;const _0x536e31=_0x1029de[_0x500623(0x99c)],_0x2c4152=()=>{const _0xa36c2=_0x500623,_0x58cf8c=_0x536e31[_0xcbc39f],_0xc0ac42=_0xa36c2(0xca5)+(_0xcbc39f+0x1)+'\x20/\x20'+_0x536e31['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x58cf8c[_0xa36c2(0x303)]+_0xa36c2(0x71e)+_0x58cf8c['options'][_0xa36c2(0xdeb)]((_0x5cb29e,_0x1c3c12)=>_0xa36c2(0xef2)+_0x1c3c12+_0xa36c2(0xafa)+_0x1c3c12+_0xa36c2(0x4c7)+_0x1c3c12+'\x22>'+_0x5cb29e+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xa36c2(0x94c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0xa36c2(0x45b)]=_0xc0ac42;if(window['MathJax'])MathJax[_0xa36c2(0xecc)]([studentQuizArea]);document[_0xa36c2(0x7c7)](_0xa36c2(0xe18))['addEventListener'](_0xa36c2(0x2f0),async()=>{const _0xafb317=_0xa36c2,_0x38fcb4=await getHintForQuestion(_0x58cf8c[_0xafb317(0x303)]);showMessage(_0x38fcb4);}),document['getElementById'](_0xa36c2(0xaa1))['addEventListener']('click',()=>{const _0x56b23a=_0xa36c2,_0x1f7490=document[_0x56b23a(0x79b)]('input[name=\x22drill_answer\x22]:checked');if(!_0x1f7490){showMessage(_0x56b23a(0x290));return;}const _0x537751=document[_0x56b23a(0x7c7)](_0x56b23a(0xd6c)),_0x269034=parseInt(_0x1f7490[_0x56b23a(0xc66)])===_0x58cf8c[_0x56b23a(0xc6f)];_0x269034?(_0x537751['className']=_0x56b23a(0xef6),_0x537751[_0x56b23a(0x45b)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x58cf8c[_0x56b23a(0x30b)]):(_0x537751[_0x56b23a(0x6cc)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x537751[_0x56b23a(0x45b)]=_0x56b23a(0x328)+_0x58cf8c[_0x56b23a(0x30b)]);_0x537751[_0x56b23a(0x457)][_0x56b23a(0xd11)](_0x56b23a(0x845));if(window[_0x56b23a(0x872)])MathJax['typesetPromise']([_0x537751]);document['getElementById'](_0x56b23a(0xaa1))[_0x56b23a(0x457)][_0x56b23a(0xea1)](_0x56b23a(0x845)),document[_0x56b23a(0x7c7)](_0x56b23a(0xe18))[_0x56b23a(0x457)][_0x56b23a(0xea1)]('hidden'),document[_0x56b23a(0x7c7)](_0x56b23a(0x7a5))['classList'][_0x56b23a(0xd11)](_0x56b23a(0x845));}),document[_0xa36c2(0x7c7)](_0xa36c2(0x7a5))['addEventListener'](_0xa36c2(0x2f0),()=>{const _0x16ae83=_0xa36c2;_0xcbc39f++,_0xcbc39f<_0x536e31[_0x16ae83(0x2d2)]?_0x2c4152():(studentQuizArea[_0x16ae83(0x45b)]=_0x16ae83(0xe8d),document['getElementById'](_0x16ae83(0xeb9))[_0x16ae83(0xf03)](_0x16ae83(0x2f0),()=>{const _0xce75a5=_0x16ae83;studentQuizArea[_0xce75a5(0x457)][_0xce75a5(0xea1)]('hidden'),studentResultArea[_0xce75a5(0x457)]['remove']('hidden');}));});};_0x2c4152();}async function getHintForQuestion(_0x4ed918){const _0x104420=_0x4247b4,_0x2e69d5='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x4ed918+_0x104420(0x8c5),_0x31061c={'type':_0x104420(0xd94),'properties':{'hint':{'type':'STRING'}},'required':['hint']};try{const _0x318b14=await callAnalysisApi(_0x2e69d5,_0x31061c);return _0x318b14[_0x104420(0x523)];}catch(_0x42ac40){return console[_0x104420(0xd5b)](_0x104420(0x949),_0x42ac40),_0x104420(0xab7);}}async function extractTextFromPdf(_0x59f4d5){const _0xa2309a=_0x4247b4;pdfjsLib[_0xa2309a(0x4e2)][_0xa2309a(0x731)]=_0xa2309a(0x885);const _0x12eff1=await _0x59f4d5[_0xa2309a(0xcd5)](),_0x3fddb0=await pdfjsLib['getDocument'](_0x12eff1)[_0xa2309a(0x684)],_0x2162b6=_0x3fddb0[_0xa2309a(0x639)];let _0x19f1ad='';for(let _0x24b629=0x1;_0x24b629<=_0x2162b6;_0x24b629++){const _0x3866f1=await _0x3fddb0[_0xa2309a(0x2cf)](_0x24b629),_0x1523f7=await _0x3866f1[_0xa2309a(0x673)](),_0x3e073a=_0x1523f7[_0xa2309a(0xeb5)][_0xa2309a(0xdeb)](_0x34b50e=>_0x34b50e['str'])[_0xa2309a(0x94c)]('\x20');_0x19f1ad+=_0x3e073a+'\x0a\x0a';}return _0x19f1ad;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x10856d){const _0x493e49=_0x4247b4,_0x230575=document['getElementById'](_0x493e49(0xcc8)),_0x3d1a1f=document['getElementById']('blueprint-topics-list'),_0x465a50=document[_0x493e49(0x7c7)](_0x493e49(0xae0));_0x230575[_0x493e49(0x457)][_0x493e49(0xd11)]('hidden'),_0x3d1a1f[_0x493e49(0x45b)]=_0x493e49(0x8d1),_0x465a50['classList'][_0x493e49(0xea1)](_0x493e49(0x845));try{const _0x1b9eed=_0x493e49(0x520)+_0x10856d+_0x493e49(0xe86),_0x2d1c01={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x493e49(0xaf4)},'curriculum':{'type':_0x493e49(0xa29),'items':{'type':_0x493e49(0xd94),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x493e49(0xa29),'items':{'type':_0x493e49(0xd94),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x493e49(0xa29),'items':{'type':'STRING'}}},'required':[_0x493e49(0x67b),_0x493e49(0x3b0)]}}},'required':[_0x493e49(0x456),_0x493e49(0xd12)]}}},'required':[_0x493e49(0x712),'curriculum']},_0x3a3fdd=await callAnalysisApi(_0x1b9eed,_0x2d1c01);if(_0x3a3fdd&&_0x3a3fdd[_0x493e49(0x77d)])extractedBlueprintData=_0x3a3fdd,renderBlueprintTopics(_0x3a3fdd),_0x465a50[_0x493e49(0x457)][_0x493e49(0xd11)]('hidden');else throw new Error('AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้');}catch(_0x19aabe){console[_0x493e49(0xd5b)](_0x493e49(0x910),_0x19aabe),_0x3d1a1f['innerHTML']=_0x493e49(0xf0a);}}function renderBlueprintTopics(_0x587bec){const _0x1927f5=_0x4247b4,_0x3c049e=document['getElementById'](_0x1927f5(0xbff)),_0x458094=_0x587bec[_0x1927f5(0x712)],_0x2c59df=_0x1927f5(0xc94)+_0x458094+_0x1927f5(0x49e);let _0x4c1dd5='';_0x587bec[_0x1927f5(0x77d)][_0x1927f5(0x9fb)](_0xc2ffd2=>{const _0x1bc2b3=_0x1927f5;_0x4c1dd5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0xc2ffd2[_0x1bc2b3(0x456)]+_0x1bc2b3(0x5ba),_0xc2ffd2[_0x1bc2b3(0xd12)][_0x1bc2b3(0x9fb)](_0x347fa1=>{const _0x5ba24e=_0x1bc2b3;_0x4c1dd5+=_0x5ba24e(0x430)+_0x347fa1['topicName']+_0x5ba24e(0x500),_0x347fa1[_0x5ba24e(0x3b0)][_0x5ba24e(0x9fb)](_0x57ad1a=>{const _0x58995b=_0x5ba24e;_0x4c1dd5+=_0x58995b(0x4e8)+_0x57ad1a[_0x58995b(0x663)](/'/g,'\x5c\x27')+_0x58995b(0x4b0)+_0x458094[_0x58995b(0x663)](/'/g,'\x5c\x27')+_0x58995b(0xe58)+_0x57ad1a+_0x58995b(0x648)+_0x57ad1a[_0x58995b(0x663)](/'/g,'\x5c\x27')+_0x58995b(0xb1d);}),_0x4c1dd5+=_0x5ba24e(0x915);}),_0x4c1dd5+=_0x1bc2b3(0x745);}),_0x3c049e[_0x1927f5(0x45b)]=_0x2c59df+_0x4c1dd5;}async function handleGenerateTeachingContent(_0x29d721){const _0x35f362=_0x4247b4,_0x3f14eb=document[_0x35f362(0x7c7)]('lesson-plan-modal'),_0x3f82ef=document['getElementById'](_0x35f362(0x433));document[_0x35f362(0x7c7)](_0x35f362(0x834))['textContent']=_0x35f362(0xe0b)+_0x29d721,_0x3f82ef[_0x35f362(0x45b)]=_0x35f362(0xade),_0x3f14eb[_0x35f362(0x457)]['remove'](_0x35f362(0x845));try{const _0x20ce02=_0x35f362(0xddc)+_0x29d721+_0x35f362(0xe2c),_0x12680f={'type':'OBJECT','properties':{'keyConcepts':{'type':_0x35f362(0xa29),'items':{'type':_0x35f362(0xaf4)}},'commonMistakes':{'type':_0x35f362(0xa29),'items':{'type':'STRING'}},'stepByStepExamples':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':_0x35f362(0xaf4)},'solution':{'type':_0x35f362(0xaf4)}},'required':['question',_0x35f362(0x6ee)]}},'teacherTips':{'type':'ARRAY','items':{'type':_0x35f362(0xaf4)}}},'required':['keyConcepts','commonMistakes',_0x35f362(0x3fb),_0x35f362(0xc4e)]},_0x4ce8dd=await callAnalysisApi(_0x20ce02,_0x12680f);displayTeachingContent(_0x4ce8dd,_0x29d721);}catch(_0x17cf8c){console[_0x35f362(0xd5b)](_0x35f362(0x4ee),_0x17cf8c),_0x3f82ef[_0x35f362(0x45b)]=_0x35f362(0x946)+_0x17cf8c[_0x35f362(0x725)]+_0x35f362(0x2fc);}}function displayTeachingContent(_0x5ebd80,_0x4bafc6){const _0x45c891=_0x4247b4,_0x9c83db=document[_0x45c891(0x7c7)](_0x45c891(0x433));document['getElementById']('lesson-plan-title')['textContent']=_0x45c891(0x670)+_0x4bafc6;const _0xcf6470=_0x45c891(0x7fd)+_0x5ebd80['keyConcepts'][_0x45c891(0xdeb)](_0x27dcf5=>'<li>'+_0x27dcf5+'</li>')[_0x45c891(0x94c)]('')+_0x45c891(0xa1c)+_0x5ebd80[_0x45c891(0xf16)][_0x45c891(0xdeb)](_0xc3a190=>_0x45c891(0x200)+_0xc3a190+_0x45c891(0x98a))[_0x45c891(0x94c)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x5ebd80['stepByStepExamples']['map'](_0x339ad6=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x339ad6[_0x45c891(0x94b)]+_0x45c891(0x239)+_0x339ad6['solution']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x45c891(0x72b)+_0x5ebd80[_0x45c891(0xc4e)][_0x45c891(0xdeb)](_0x44abce=>'<li>'+_0x44abce+_0x45c891(0x98a))[_0x45c891(0x94c)]('')+_0x45c891(0x385);_0x9c83db[_0x45c891(0x45b)]=_0xcf6470;if(window[_0x45c891(0x872)])MathJax['typesetPromise']([_0x9c83db]);}async function generateQuizForSingleTopic(_0xcde72e){const _0x191fde=_0x4247b4;console['log'](_0x191fde(0x300)+_0xcde72e+'\x22');const _0x583cb2=document[_0x191fde(0x7c7)](_0x191fde(0x2a3)),_0x1904bd=_0x583cb2['files'][_0x191fde(0x2d2)]>0x0?_0x583cb2[_0x191fde(0xf34)][0x0]:null;let _0x49e86d=null;if(_0x1904bd)try{const _0x14da70=new FileReader();_0x14da70[_0x191fde(0x6d9)](_0x1904bd);const _0x262cb0=await new Promise((_0x57beee,_0x34427f)=>{const _0x59ee94=_0x191fde;_0x14da70[_0x59ee94(0xdca)]=()=>_0x57beee(_0x14da70[_0x59ee94(0xbc0)][_0x59ee94(0x4c6)](',')[0x1]),_0x14da70['onerror']=_0x30de63=>_0x34427f(_0x30de63);});_0x49e86d=[{'inlineData':{'mimeType':_0x1904bd[_0x191fde(0x31f)],'data':_0x262cb0}}];}catch(_0x2363b9){console[_0x191fde(0xd5b)](_0x191fde(0x261),_0x2363b9),showMessage(_0x191fde(0x2c2));return;}generateQuiz(_0xcde72e,null,null,_0x49e86d,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x973d92=null){const _0x4a4cfa=_0x4247b4,_0x215f84=document['getElementById'](_0x4a4cfa(0xbbe)),_0x12a784=document['getElementById'](_0x4a4cfa(0xe8b));let _0x987eeb,_0x5009c2=[];if(_0x973d92)_0x987eeb=_0x973d92,_0x5009c2=_0x987eeb['slice'](0x2);else{const _0x2db0b8=document['getElementById'](_0x4a4cfa(0x84e)),_0x5d02cc=document['getElementById'](_0x4a4cfa(0x2a3)),_0x131c63=_0x2db0b8['files'][0x0];if(!_0x131c63){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}_0x12a784[_0x4a4cfa(0xb0c)]=_0x4a4cfa(0xf74);const _0x179a34=await new Promise((_0x1501b1,_0x40faf5)=>{const _0x36098b=_0x4a4cfa,_0x273fe8=new FileReader();_0x273fe8[_0x36098b(0x6d9)](_0x131c63),_0x273fe8[_0x36098b(0xdca)]=()=>_0x1501b1(_0x273fe8[_0x36098b(0xbc0)][_0x36098b(0x4c6)](',')[0x1]),_0x273fe8[_0x36098b(0xabb)]=_0x40faf5;});_0x987eeb=[{'text':'PROMPT_PLACEHOLDER'},{'inlineData':{'mimeType':_0x131c63[_0x4a4cfa(0x31f)],'data':_0x179a34}}];if(_0x5d02cc[_0x4a4cfa(0xf34)][_0x4a4cfa(0x2d2)]>0x0){const _0x1261e0=_0x5d02cc[_0x4a4cfa(0xf34)][0x0];_0x12a784[_0x4a4cfa(0xb0c)]='กำลังเตรียมไฟล์อ้างอิง...';const _0x52644d=await new Promise((_0x2e47cb,_0x4aec41)=>{const _0x1e84a0=_0x4a4cfa,_0x300e46=new FileReader();_0x300e46['readAsDataURL'](_0x1261e0),_0x300e46[_0x1e84a0(0xdca)]=()=>_0x2e47cb(_0x300e46[_0x1e84a0(0xbc0)]['split'](',')[0x1]),_0x300e46[_0x1e84a0(0xabb)]=_0x4aec41;}),_0x52dd81={'inlineData':{'mimeType':_0x1261e0[_0x4a4cfa(0x31f)],'data':_0x52644d}};_0x987eeb[_0x4a4cfa(0x82f)](_0x52dd81),_0x5009c2['push'](_0x52dd81);}}const _0x409cc3=_0x4a4cfa(0xb0d),_0xdb5b46='\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20';let _0xc86ae6='';_0x5009c2&&_0x5009c2[_0x4a4cfa(0x2d2)]>0x0?_0xc86ae6=_0x409cc3:_0xc86ae6=_0xdb5b46;const _0x4f9e70=_0x4a4cfa(0xc49)+_0xc86ae6+'\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x4538dc={'type':_0x4a4cfa(0xd94),'properties':{'questionText':{'type':_0x4a4cfa(0xaf4)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x4a4cfa(0xf11),_0x4a4cfa(0x353),'matching_item']},'options':{'type':_0x4a4cfa(0xa29),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4a4cfa(0xe62)},'idealAnswer':{'type':_0x4a4cfa(0xaf4)},'correctAnswer':{'type':_0x4a4cfa(0xf67)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4a4cfa(0xaf4)}},'required':['questionType',_0x4a4cfa(0x30b)]},_0x19700d={'type':_0x4a4cfa(0xd94),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x4a4cfa(0xa29),'items':_0x4538dc}},'required':[_0x4a4cfa(0x6b2),_0x4a4cfa(0x99c)]};_0x987eeb[0x0][_0x4a4cfa(0x9d1)]=_0x4f9e70,await handleApiCall(_0x987eeb,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x19700d);}function proceedToNextQuestion(_0x484d5e){const _0x2d2893=_0x4247b4;studentAnswersPerQuestion[_0x2d2893(0x82f)](_0x484d5e),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x2d2893(0x2d2)]?finalizePerQuestionQuiz():renderPerQuestionView();}function getCentralPotHTML(_0x11a7c5){const _0x457189=_0x4247b4,_0x28942f=_0x11a7c5[_0x457189(0x264)]||0x0,_0x1e9319=_0x11a7c5[_0x457189(0x6e4)]===!![];if(!_0x1e9319)return'';if(_0x28942f===0x0)return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20bg-black/20\x20px-3\x20py-1\x20rounded-full\x20border\x20border-white/10\x20text-gray-300\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sack-dollar\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>กองกลาง:\x200</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';return _0x457189(0xf35)+_0x28942f['toLocaleString']()+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function renderAdminSyncDashboard(_0x2301d0,_0x70c82c,_0x4e91f6){const _0x6291e7=_0x4247b4,_0x577bb1=Object[_0x6291e7(0x57b)](_0x2301d0[_0x6291e7(0x5fa)]||{}),_0x1d407a=_0x577bb1[_0x6291e7(0x2d2)],_0x1e0a04=_0x4e91f6,_0x568b19=_0x2301d0[_0x6291e7(0xdee)]||_0x6291e7(0x30c),_0xff1791=_0x568b19===_0x6291e7(0xd3a)||_0x568b19==='anonymous_reveal_end',_0x3d8be7=_0x568b19===_0x6291e7(0x5fd)||_0x568b19===_0x6291e7(0xbe8),_0x4f36f9=_0x2301d0[_0x6291e7(0x33e)]===!![],_0x273640=_0x568b19===_0x6291e7(0x5c6),_0xb3192c=_0x2301d0[_0x6291e7(0xeb8)][_0x6291e7(0x99c)],_0x49aa4b=_0xb3192c[_0x1e0a04],_0x1ea51d=_0x517f8c=>String['fromCharCode'](0x41+_0x517f8c),_0x554290=_0x577bb1['map'](_0x4dd64f=>{const _0x31b415=_0x6291e7,_0x2790fc=(_0x4dd64f['answers']||[])['filter'](_0x493a1f=>{const _0x535abb=_0xc03a;if(_0x3d8be7)return _0x493a1f[_0x535abb(0xe6a)]<=_0x1e0a04;return!![];});let _0x16bdd1=0x0,_0x134bfb=0x0;_0x3d8be7?(_0x16bdd1=_0x2790fc[_0x31b415(0x498)](_0x411afb=>_0x411afb[_0x31b415(0x697)])[_0x31b415(0x2d2)],_0x134bfb=_0x2790fc[_0x31b415(0x382)]((_0x2aab4d,_0x37efee)=>_0x2aab4d+(_0x37efee[_0x31b415(0x868)]||0x0),0x0)):(_0x16bdd1=_0x4dd64f[_0x31b415(0x494)]||0x0,_0x134bfb=_0x4dd64f['totalPoints']||0x0);const _0x529d05=[..._0x2790fc][_0x31b415(0x994)]((_0x498b1d,_0x429586)=>_0x498b1d['questionIndex']-_0x429586[_0x31b415(0xe6a)]);let _0xc921aa=0x0;return _0x529d05[_0x31b415(0x9fb)](_0x44b805=>{const _0x42ddad=_0x31b415,_0x2dbddf=_0x44b805['powerupUsed']&&_0x44b805[_0x42ddad(0x3af)]!==_0x42ddad(0xb6c)||_0x44b805['usedBuyTime'];_0x44b805[_0x42ddad(0x697)]?_0x2dbddf?_0xc921aa=0x0:_0xc921aa++:_0xc921aa=0x0;}),{..._0x4dd64f,'realScore':_0x16bdd1,'totalPoints':_0x134bfb,'answers':_0x2790fc,'correctStreak':_0xc921aa};}),_0x50ca41=Math['max'](..._0x554290[_0x6291e7(0xdeb)](_0x2e1420=>_0x2e1420['totalPoints']),-Infinity),_0x48edda=Math[_0x6291e7(0x839)](..._0x554290['map'](_0x37ed53=>_0x37ed53[_0x6291e7(0xcb2)]),-Infinity),_0x1d0730=_0x2301d0[_0x6291e7(0x6e4)]===!![],_0x36da2c=[..._0x554290][_0x6291e7(0x994)]((_0x4eb58d,_0xb712d9)=>{const _0x479857=_0x6291e7;if(_0x1d0730){const _0x145a7a=_0xb712d9['totalPoints']-_0x4eb58d[_0x479857(0x8c7)];if(_0x145a7a!==0x0)return _0x145a7a;const _0x4ac26f=_0xb712d9['realScore']-_0x4eb58d[_0x479857(0xcb2)];if(_0x4ac26f!==0x0)return _0x4ac26f;return(_0x4eb58d[_0x479857(0x689)]||'')[_0x479857(0x460)](_0xb712d9[_0x479857(0x689)]||'','th');}else{const _0x3f6154=_0xb712d9['totalPoints']-_0x4eb58d[_0x479857(0x8c7)];if(_0x3f6154!==0x0)return _0x3f6154;const _0x55da37=_0xb712d9['realScore']-_0x4eb58d[_0x479857(0xcb2)];if(_0x55da37!==0x0)return _0x55da37;return(_0x4eb58d['name']||'')[_0x479857(0x460)](_0xb712d9[_0x479857(0x689)]||'','th');}});let _0x22bd39=0x1;for(let _0x1d529d=0x0;_0x1d529d<_0x36da2c[_0x6291e7(0x2d2)];_0x1d529d++){if(_0x1d529d>0x0){const _0x37796d=_0x36da2c[_0x1d529d-0x1],_0x5ddc93=_0x36da2c[_0x1d529d];let _0x1625da=![];_0x1d0730?_0x1625da=_0x5ddc93['totalPoints']===_0x37796d[_0x6291e7(0x8c7)]&&_0x5ddc93['realScore']===_0x37796d[_0x6291e7(0xcb2)]:_0x1625da=_0x5ddc93[_0x6291e7(0x8c7)]===_0x37796d[_0x6291e7(0x8c7)]&&_0x5ddc93[_0x6291e7(0xcb2)]===_0x37796d[_0x6291e7(0xcb2)],!_0x1625da&&(_0x22bd39=_0x1d529d+0x1);}_0x36da2c[_0x1d529d][_0x6291e7(0x572)]=_0x22bd39;}let _0x1e6080='';const _0x1b53dd=!_0x273640&&!(_0xff1791&&_0x2301d0[_0x6291e7(0x4f1)]===![]);if(_0x49aa4b&&_0x1b53dd){let _0x37c460='',_0xe6b43d='';const _0x3bf18b=_0x49aa4b['questionType']||_0x2301d0['shuffledQuiz'][_0x6291e7(0xa71)];if(_0x3bf18b===_0x6291e7(0x7fe)&&_0x49aa4b[_0x6291e7(0xb84)]){const _0x4672cf=_0x49aa4b['correctAnswerIndex'];_0x37c460=_0x49aa4b[_0x6291e7(0xb84)][_0x4672cf],_0xe6b43d=_0x1ea51d(_0x4672cf)+'.';}else{if(_0x3bf18b===_0x6291e7(0x353)){const _0x58c6cf=String(_0x49aa4b[_0x6291e7(0xd0d)])[_0x6291e7(0xab2)]()===_0x6291e7(0x96f);_0x37c460=_0x58c6cf?_0x6291e7(0xe60):'ไม่ใช่\x20/\x20ผิด',_0xe6b43d=_0x58c6cf?'ก.':'ข.';}else{if(_0x3bf18b===_0x6291e7(0x39f))_0x37c460=_0x49aa4b[_0x6291e7(0x36d)]||'-';else(_0x3bf18b==='short_answer'||_0x3bf18b===_0x6291e7(0x437))&&(_0x37c460=_0x49aa4b['idealAnswer']||'-');}}_0x37c460&&(_0x1e6080=_0x6291e7(0x91b)+(_0x1e0a04+0x1)+_0x6291e7(0xf5a)+_0xe6b43d+'\x20'+_0x37c460+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x5609d9=_0x36da2c[_0x6291e7(0xdeb)]((_0x2b7991,_0x3b98a6)=>{const _0x1e28f2=_0x6291e7,_0x57b76e=_0x2b7991[_0x1e28f2(0xcb2)],_0x40ec87=_0x2b7991[_0x1e28f2(0x8c7)],_0x5ca57b=(_0x2b7991[_0x1e28f2(0xa92)]||[])[_0x1e28f2(0x787)](_0x15814e=>_0x15814e[_0x1e28f2(0xe6a)]===_0x4e91f6),_0x3871f1=_0x2b7991[_0x1e28f2(0xa92)][_0x1e28f2(0x2d2)];let _0x2c60cc='';_0x5ca57b&&_0x5ca57b[_0x1e28f2(0x251)]>0x0&&(_0x2c60cc=_0x1e28f2(0x231)+_0x5ca57b['potBonus']+_0x1e28f2(0xaf8));let _0x10064d='';if(_0x5ca57b){if(_0x5ca57b[_0x1e28f2(0x705)])_0x10064d+='<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>';if(_0x5ca57b[_0x1e28f2(0xf70)])_0x10064d+='<span\x20title=\x22โดนคำสาป\x22>😈</span>';if(_0x5ca57b[_0x1e28f2(0x22b)])_0x10064d+=_0x1e28f2(0x70c);const _0x66cb80=_0x5ca57b[_0x1e28f2(0x3af)];if(_0x66cb80){const _0x2c3923={'poll':'📊','cutOne':'✂️','insurance':_0x1e28f2(0x51f),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':'👁️'};if(_0x2c3923[_0x66cb80])_0x10064d+=_0x1e28f2(0xeeb)+_0x2c3923[_0x66cb80]+_0x1e28f2(0x305);}}let _0xe2846a='';const _0x3f1aed=_0x2b7991[_0x1e28f2(0xde6)]||0x0,_0x1e1ea7=_0x5ca57b&&_0x5ca57b['usedBuyTime'],_0x18c681=_0x5ca57b&&_0x5ca57b[_0x1e28f2(0x3af)]&&_0x5ca57b[_0x1e28f2(0x3af)]!==_0x1e28f2(0xb6c);!_0x273640&&_0x3f1aed>=0x3&&!_0x1e1ea7&&!_0x18c681&&(_0xe2846a+=_0x1e28f2(0xc63)+_0x3f1aed+_0x1e28f2(0x305));if(!_0x273640&&_0x3871f1>0x0){if(_0x1d0730){if(_0x40ec87===_0x50ca41&&_0x50ca41>0x0)_0xe2846a+=_0x1e28f2(0x9b0);if(_0x57b76e===_0x48edda&&_0x48edda>0x0)_0xe2846a+=_0x1e28f2(0x432);}else{const _0x473ce3=_0x2b7991[_0x1e28f2(0xcb2)]===_0x4e91f6+0x1;if(_0x473ce3)_0xe2846a+=_0x1e28f2(0x398);}if(_0xe2846a===''&&_0x40ec87<0x0)_0xe2846a+='<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>';}let _0x44180c=_0x1e28f2(0x277),_0xbc9cf9=![],_0x2100a0=![];if(!_0x273640){const _0x2c95df=(_0x2b7991[_0x1e28f2(0xa92)]||[])[_0x1e28f2(0x787)](_0x2e44e9=>_0x2e44e9[_0x1e28f2(0xe6a)]===_0x1e0a04);if(_0x2c95df){const _0x27a2b0=_0x2c95df['isCorrect'],_0x1b73e3=_0x2c95df[_0x1e28f2(0x63b)]===!![]||_0x2c95df[_0x1e28f2(0x63b)]===_0x1e28f2(0xc98),_0x9c0858=_0x2c95df[_0x1e28f2(0x3af)];if(_0x9c0858===_0x1e28f2(0xb6c))_0x27a2b0?(_0x44180c=_0x1e28f2(0xb82),_0xbc9cf9=!![]):(_0x44180c=_0x1e28f2(0xa47),_0x2100a0=!![]);else{if(_0x1b73e3)_0x44180c=_0x27a2b0?_0x1e28f2(0x893):_0x1e28f2(0xf7d);else _0x27a2b0&&(_0x44180c='bg-[#DCFCE7]\x20text-green-900');}}}let _0x3375d6='';const _0x59f655=_0x2b7991[_0x1e28f2(0x689)],_0x5a243b=_0x2301d0[_0x1e28f2(0x2e2)][_0x2b7991['name']]||_0x1e28f2(0xda3),_0x2ac173=_0x1e28f2(0xaba),_0x90b059=_0x1e28f2(0x922),_0x7d0547=_0xbc9cf9?_0x1e28f2(0x44d):_0x1e28f2(0xb66);let _0x2eb5ef='';const _0x20df2b=_0x40ec87>=0x0?'(+'+_0x40ec87[_0x1e28f2(0xbef)]()+')':'('+_0x40ec87[_0x1e28f2(0xbef)]()+')',_0x340832=_0x1e28f2(0xa2f)+_0x57b76e+_0x1e28f2(0x607)+_0x20df2b+'\x20'+_0x2c60cc+_0x1e28f2(0xca1);if(_0x70c82c){if(_0xff1791&&!_0x4f36f9)_0x2100a0?_0x3375d6='<div\x20style=\x22'+_0x2ac173+_0x1e28f2(0x649)+_0x59f655+'\x20('+_0x5a243b+')\x22><span\x20style=\x22'+_0x90b059+'\x22>'+_0x59f655+'</span>\x20'+_0x10064d+'\x20'+_0xe2846a+_0x1e28f2(0xe2f)+_0x7d0547+'\x22\x20style=\x22'+_0x90b059+_0x1e28f2(0xad0)+_0x5a243b+_0x1e28f2(0x210):_0x3375d6=_0x1e28f2(0x8e2)+_0x2ac173+_0x1e28f2(0x649)+_0x5a243b+'\x22><span\x20style=\x22'+_0x90b059+'\x22>'+_0x5a243b+_0x1e28f2(0xb3f)+_0x10064d+'\x20'+_0xe2846a+_0x1e28f2(0x745),_0x2eb5ef=_0x340832;else{if(_0xff1791&&_0x4f36f9)_0x3375d6=_0x1e28f2(0x8e2)+_0x2ac173+_0x1e28f2(0x649)+_0x59f655+_0x1e28f2(0x7dc)+_0x90b059+'\x22>'+_0x59f655+_0x1e28f2(0xb3f)+_0x10064d+'\x20'+_0xe2846a+_0x1e28f2(0xe2f)+_0x7d0547+'\x22\x20style=\x22'+_0x90b059+'\x22>('+_0x5a243b+_0x1e28f2(0x210),_0x2eb5ef=_0x340832;else _0x273640?(_0x3375d6=_0x1e28f2(0x8e2)+_0x2ac173+_0x1e28f2(0x649)+_0x59f655+'\x22><span\x20style=\x22'+_0x90b059+'\x22>'+_0x59f655+_0x1e28f2(0xb3f)+_0x10064d+'\x20'+_0xe2846a+'</div>',_0x2eb5ef=''):(_0x3375d6=_0x1e28f2(0x8e2)+_0x2ac173+_0x1e28f2(0x649)+_0x59f655+_0x1e28f2(0x7dc)+_0x90b059+'\x22>'+_0x59f655+_0x1e28f2(0xb3f)+_0x10064d+'\x20'+_0xe2846a+'</div>',_0x2eb5ef=_0x340832);}}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20'+_0x44180c+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>'+_0x2b7991['displayRank']+_0x1e28f2(0xc16)+_0x3375d6+_0x1e28f2(0x647)+_0x2eb5ef+_0x1e28f2(0x214);})[_0x6291e7(0x94c)](''),_0x4743ca=_0xb3192c[_0x6291e7(0xdeb)]((_0x162be0,_0x307e38)=>{const _0x3291d5=_0x6291e7;if(_0x3d8be7&&_0x307e38>_0x1e0a04||_0x273640)return'';const _0x5d0d2c=_0x554290[_0x3291d5(0x498)](_0x3dd333=>_0x3dd333[_0x3291d5(0xa92)]&&_0x3dd333['answers'][_0x3291d5(0x787)](_0x20a719=>_0x20a719[_0x3291d5(0xe6a)]===_0x307e38&&_0x20a719[_0x3291d5(0x697)]))[_0x3291d5(0x2d2)],_0x2bd370=_0x307e38===_0x1e0a04,_0x43f705=_0x2bd370?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x3291d5(0x4b2);return _0x3291d5(0x8c2)+_0x43f705+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x307e38+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x5d0d2c+_0x3291d5(0x74e)+_0x1d407a+_0x3291d5(0x8cc);})['join']('');let _0xb9e62='',_0x4175c0='';if(_0x70c82c){const _0x3f0fa7=_0x568b19===_0x6291e7(0x30c)&&_0x2301d0[_0x6291e7(0x89f)]>=_0xb3192c[_0x6291e7(0x2d2)]-0x1,_0x48fdf4=_0x3d8be7&&_0x2301d0[_0x6291e7(0xc8e)]>=_0xb3192c[_0x6291e7(0x2d2)]-0x1,_0x11428e=_0x568b19===_0x6291e7(0x5c6)&&_0x2301d0['currentQuestionIndex']>=_0xb3192c[_0x6291e7(0x2d2)]-0x1,_0x5b0683=_0xff1791&&!_0x3d8be7&&_0x2301d0[_0x6291e7(0x89f)]>=_0xb3192c[_0x6291e7(0x2d2)]-0x1;if(_0x3d8be7)_0x48fdf4?_0xff1791&&!_0x4f36f9?_0xb9e62=_0x6291e7(0x6f6):_0xb9e62=_0x6291e7(0x33a):_0xb9e62=_0x6291e7(0xa64);else _0x3f0fa7||_0x11428e||_0x5b0683?_0xff1791&&!_0x4f36f9?_0xb9e62=_0x6291e7(0x6f6):_0xb9e62=_0x6291e7(0x33a):_0xb9e62=_0x6291e7(0x467);_0x4175c0=_0x6291e7(0xd6d);}const _0x5acd4f=_0x273640||_0xff1791&&!_0x2301d0['showAnswerInAnonymous']?'':'<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x4743ca+_0x6291e7(0x915),_0xc24910=_0x273640||_0xff1791&&!_0x2301d0[_0x6291e7(0x4f1)]?_0x6291e7(0xda5):'md:col-span-1',_0x2acf3e=getCentralPotHTML(_0x2301d0),_0x41933c=_0x6291e7(0x272)+_0x2301d0[_0x6291e7(0xeb8)][_0x6291e7(0x6b2)]+_0x6291e7(0x51d)+_0x2301d0['pin']+_0x6291e7(0x598)+_0x2acf3e+_0x6291e7(0x647)+_0x4175c0+_0x6291e7(0xa9e)+_0x1e6080+_0x6291e7(0x7c1)+_0xc24910+_0x6291e7(0x713)+(_0x5609d9||_0x6291e7(0xca9))+_0x6291e7(0x9b9)+_0x5acd4f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x70c82c?_0x6291e7(0xf2c)+_0xb9e62+_0x6291e7(0x745):'')+_0x6291e7(0xc5f);liveGameView[_0x6291e7(0x45b)]=_0x41933c;if(window[_0x6291e7(0x872)]){const _0x307ddf=document[_0x6291e7(0x7c7)](_0x6291e7(0x953));_0x307ddf&&MathJax[_0x6291e7(0xecc)]([_0x307ddf]);}if(_0x70c82c){const _0x49b94a=document[_0x6291e7(0x7c7)](_0x6291e7(0x41b));_0x49b94a&&(_0x49b94a[_0x6291e7(0xb2b)]=async()=>{const _0x1bcf83=_0x6291e7,_0x246ac0=doc(db,_0x1bcf83(0x2b7)+appId+'/public/data/syncGames',currentLiveGameId),_0x3c5b6a=_0x2301d0['currentQuestionIndex']+0x1,_0x26ce10=_0x2301d0[_0x1bcf83(0xeb8)][_0x1bcf83(0x99c)][_0x1bcf83(0x2d2)];!_0x3d8be7&&_0x3c5b6a<_0x26ce10?await updateDoc(_0x246ac0,{'status':_0x1bcf83(0x94b),'currentQuestionIndex':_0x3c5b6a,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x246ac0,{'status':_0x1bcf83(0xa07)});});const _0x2d0d54=document[_0x6291e7(0x7c7)](_0x6291e7(0x2c8));_0x2d0d54&&(_0x2d0d54[_0x6291e7(0xb2b)]=async()=>{const _0x18c83f=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x18c83f,{'reviewQuestionIndex':increment(0x1)});});document[_0x6291e7(0x7c7)](_0x6291e7(0xf5f))?.[_0x6291e7(0xf03)](_0x6291e7(0x2f0),async()=>{const _0x2a892f=_0x6291e7;await updateDoc(doc(db,_0x2a892f(0x2b7)+appId+_0x2a892f(0x9cd),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x5d6a3d=document[_0x6291e7(0x7c7)](_0x6291e7(0x728));_0x5d6a3d&&(_0x5d6a3d[_0x6291e7(0xb2b)]=()=>{const _0x5a4b6e=_0x6291e7;showConfirmation(_0x5a4b6e(0x835),async()=>{const _0x25d95d=_0x5a4b6e;await updateDoc(doc(db,_0x25d95d(0x2b7)+appId+_0x25d95d(0x9cd),currentLiveGameId),{'status':_0x25d95d(0xa07)});});});}}async function handleGenerateParallelFromBank(_0x1c89aa){const _0x1fa75b=_0x4247b4,_0x588deb=document[_0x1fa75b(0x7c7)]('results-tab-content'),_0x4b1c82=document[_0x1fa75b(0x7c7)](_0x1fa75b(0xb04));_0x4b1c82[_0x1fa75b(0x457)]['add'](_0x1fa75b(0x845));const _0x1a59ad=_0x1fa75b(0x9c2)+_0x1c89aa[_0x1fa75b(0x6b2)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x588deb[_0x1fa75b(0x660)](_0x1fa75b(0x2b4),_0x1a59ad);const _0x3e9d7e=document[_0x1fa75b(0x7c7)](_0x1fa75b(0xa78));try{const _0x536c56=_0x1c89aa[_0x1fa75b(0x99c)][_0x1fa75b(0xdeb)]((_0x33be71,_0x4d2abc)=>{const _0x210c1f=_0x1fa75b;let _0x825753=_0x4d2abc+0x1+'.\x20'+(_0x33be71[_0x210c1f(0x303)]||_0x33be71[_0x210c1f(0x203)])+'\x0a';if(_0x33be71['options'])_0x825753+=_0x33be71[_0x210c1f(0xb84)]['map']((_0x3a82be,_0x230b69)=>_0x210c1f(0x5ec)+(_0x230b69===_0x33be71[_0x210c1f(0xc6f)]?_0x210c1f(0xa02):'')+'\x20'+_0x3a82be)[_0x210c1f(0x94c)]('\x0a');else _0x33be71['idealAnswer']&&(_0x825753+=_0x210c1f(0xd07)+_0x33be71[_0x210c1f(0x325)]);return _0x825753;})['join']('\x0a\x0a');_0x3e9d7e[_0x1fa75b(0xb0c)]=_0x1fa75b(0x976);const _0x4f1973=_0x1fa75b(0xec1)+_0x1c89aa['topic']+_0x1fa75b(0x5c3)+_0x536c56+_0x1fa75b(0x699)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5226c3={'type':_0x1fa75b(0xd94),'properties':{'questionText':{'type':_0x1fa75b(0xaf4)},'questionType':{'type':_0x1fa75b(0xaf4),'enum':[_0x1fa75b(0x7fe),_0x1fa75b(0xf11),_0x1fa75b(0x353),_0x1fa75b(0x39f)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x1fa75b(0xaf4)},'correctAnswer':{'type':_0x1fa75b(0xf67)},'stem':{'type':_0x1fa75b(0xaf4)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x1fa75b(0xaf4)}},'explanation':{'type':_0x1fa75b(0xaf4)},'imageCode':{'type':_0x1fa75b(0xaf4)}},'required':[_0x1fa75b(0xf29),_0x1fa75b(0x30b)]},_0x3fdf9b={'type':_0x1fa75b(0xd94),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1fa75b(0xa29),'items':_0x5226c3}},'required':[_0x1fa75b(0x6b2),'questions']},_0x7bf287=await callAnalysisApi(_0x4f1973,_0x3fdf9b),_0x3767b8=_0x7bf287[_0x1fa75b(0x99c)][_0x1fa75b(0xdeb)]((_0x2598be,_0x558a48)=>({..._0x2598be,'id':'q_'+Date[_0x1fa75b(0x5f5)]()+'_'+_0x558a48})),_0x4f197c=_0x1fa75b(0xb36)+_0x1c89aa[_0x1fa75b(0x6b2)],_0x1854ba={'topic':_0x4f197c,'questions':_0x3767b8,'quizType':_0x1c89aa[_0x1fa75b(0xa71)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x1fa75b(0x3d0),'settings':_0x1c89aa[_0x1fa75b(0xb7e)],'quizMode':_0x1fa75b(0x8df),'pairedQuizId':null,'lessonPlan':null};let _0x581b6e;while(!![]){_0x581b6e=Math[_0x1fa75b(0xcb1)](0x3e8+Math[_0x1fa75b(0x724)]()*0x2328)['toString']();const _0xe973c5=await getDoc(doc(db,_0x1fa75b(0x2b7)+appId+_0x1fa75b(0xa8b),_0x581b6e));if(!_0xe973c5['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x1fa75b(0xa8b),_0x581b6e),_0x1854ba),showMessage(_0x1fa75b(0x49a));}catch(_0x6f9f0c){console[_0x1fa75b(0xd5b)](_0x1fa75b(0x509),_0x6f9f0c),showMessage(_0x1fa75b(0x5ee)+_0x6f9f0c[_0x1fa75b(0x725)]);}finally{const _0x5a9611=document[_0x1fa75b(0x7c7)]('temp-loader-results');_0x5a9611&&_0x5a9611[_0x1fa75b(0xd11)](),_0x4b1c82[_0x1fa75b(0x457)]['remove'](_0x1fa75b(0x845));}}async function handleGenerateParallelPostTest(_0x1a5e30){const _0x36f8c7=_0x4247b4,_0x2e2f4f=document[_0x36f8c7(0x7c7)](_0x36f8c7(0x46f)),_0x3833c3=document[_0x36f8c7(0x7c7)](_0x36f8c7(0xb04));_0x3833c3[_0x36f8c7(0x457)][_0x36f8c7(0xea1)](_0x36f8c7(0x845));const _0x344cbf=_0x36f8c7(0x6c7);_0x2e2f4f[_0x36f8c7(0x660)]('beforeend',_0x344cbf);try{const _0x303e57=_0x1a5e30[_0x36f8c7(0x99c)][_0x36f8c7(0xdeb)]((_0x3a9186,_0x28fadf)=>{const _0x1aead3=_0x36f8c7;let _0x2dd148=_0x28fadf+0x1+'.\x20'+(_0x3a9186['questionText']||_0x3a9186['stem']);if(_0x3a9186[_0x1aead3(0xb84)])_0x2dd148+=_0x1aead3(0xa25)+_0x3a9186[_0x1aead3(0xb84)][_0x1aead3(0x94c)](',\x20');return _0x2dd148;})[_0x36f8c7(0x94c)]('\x0a\x0a'),_0x54dc45=_0x36f8c7(0xc14)+_0x1a5e30[_0x36f8c7(0x6b2)]+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x303e57+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x36f8c7(0xe0d),_0x44f12c={'type':_0x36f8c7(0xd94),'properties':{'topic':{'type':_0x36f8c7(0xaf4)},'questions':{'type':_0x36f8c7(0xa29),'items':{'type':_0x36f8c7(0xd94),'properties':{'questionText':{'type':_0x36f8c7(0xaf4)},'questionType':{'type':_0x36f8c7(0xaf4)},'options':{'type':_0x36f8c7(0xa29),'items':{'type':_0x36f8c7(0xaf4)}},'correctAnswerIndex':{'type':_0x36f8c7(0xe62)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x36f8c7(0xaf4)}},'required':['questionText',_0x36f8c7(0x30b)]}}},'required':[_0x36f8c7(0x6b2),'questions']},_0x3ebfd5=await callAnalysisApi(_0x54dc45,_0x44f12c),_0x33ae9d=_0x1a5e30[_0x36f8c7(0x6b2)][_0x36f8c7(0x663)](_0x36f8c7(0xb28),'')[_0x36f8c7(0xba3)](),_0x40b0fc=_0x36f8c7(0x6fe)+_0x33ae9d,_0x11e8e3={..._0x3ebfd5,'topic':_0x40b0fc,'quizType':_0x1a5e30[_0x36f8c7(0xa71)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x36f8c7(0xf30)](),'status':'active','settings':_0x1a5e30[_0x36f8c7(0xb7e)],'quizMode':_0x36f8c7(0x2f9),'pairedQuizId':_0x1a5e30['id']};let _0x51a2ad;while(!![]){_0x51a2ad=Math[_0x36f8c7(0xcb1)](0x3e8+Math[_0x36f8c7(0x724)]()*0x2328)[_0x36f8c7(0x2cc)]();const _0xc80a2e=await getDoc(doc(db,'artifacts/'+appId+_0x36f8c7(0xa8b),_0x51a2ad));if(!_0xc80a2e['exists']())break;}await setDoc(doc(db,_0x36f8c7(0x2b7)+appId+'/public/data/quizzes',_0x51a2ad),_0x11e8e3);const _0x46016e=doc(db,'artifacts/'+appId+_0x36f8c7(0xa8b),_0x1a5e30['id']);await updateDoc(_0x46016e,{'pairedQuizId':_0x51a2ad}),showMessage(_0x36f8c7(0x4b3));}catch(_0x1ae6d){console[_0x36f8c7(0xd5b)](_0x36f8c7(0x86d),_0x1ae6d),showMessage(_0x36f8c7(0x5ee)+_0x1ae6d[_0x36f8c7(0x725)]);}finally{const _0xa316ef=document['getElementById'](_0x36f8c7(0xb12));if(_0xa316ef)_0xa316ef[_0x36f8c7(0xd11)]();_0x3833c3['classList'][_0x36f8c7(0xd11)](_0x36f8c7(0x845));}}async function handleGenerateParallelTest(_0x14f936=null){const _0x49c2d9=_0x4247b4;let _0x1363af=_0x14f936;if(!_0x1363af){const _0x4a5f8b=document[_0x49c2d9(0x7c7)](_0x49c2d9(0x24a));_0x4a5f8b['files'][_0x49c2d9(0x2d2)]>0x0&&(_0x1363af=_0x4a5f8b[_0x49c2d9(0xf34)][0x0]);}if(!_0x1363af){showMessage(_0x49c2d9(0x99e));return;}const _0x4de92e=document[_0x49c2d9(0x7c7)](_0x49c2d9(0xbbe)),_0x1e48a3=document[_0x49c2d9(0x7c7)](_0x49c2d9(0xe8b)),_0x55c715=document['getElementById'](_0x49c2d9(0x318)),_0x563bdc=document[_0x49c2d9(0x7c7)](_0x49c2d9(0x7cb));_0x563bdc[_0x49c2d9(0x766)]=!![],document['getElementById'](_0x49c2d9(0xb5f))['classList'][_0x49c2d9(0xd11)]('hidden'),_0x55c715['innerHTML']='',_0x4de92e[_0x49c2d9(0x457)]['remove']('hidden'),_0x1e48a3[_0x49c2d9(0xb0c)]=_0x49c2d9(0x825);const _0xbfcd68=new FileReader();_0xbfcd68[_0x49c2d9(0x6d9)](_0x1363af),_0xbfcd68[_0x49c2d9(0xdca)]=async()=>{const _0x4cce28=_0x49c2d9;try{const _0x54459f=_0xbfcd68[_0x4cce28(0xbc0)][_0x4cce28(0x4c6)](',')[0x1],_0x466377=_0x1363af['type'];_0x1e48a3[_0x4cce28(0xb0c)]=_0x4cce28(0x3b1);const _0x33be00=document[_0x4cce28(0x7c7)]('include-images-checkbox')[_0x4cce28(0xa20)],_0x3f3a5d=_0x33be00?_0x4cce28(0x249):'',_0x3ba6c0=_0x4cce28(0xd34),_0x32cf99={'type':_0x4cce28(0xd94),'properties':{'questionText':{'type':_0x4cce28(0xaf4)},'questionType':{'type':_0x4cce28(0xaf4),'enum':[_0x4cce28(0x7fe),_0x4cce28(0xf11)]},'options':{'type':_0x4cce28(0xa29),'items':{'type':_0x4cce28(0xaf4)}},'correctAnswerIndex':{'type':_0x4cce28(0xe62)},'idealAnswer':{'type':_0x4cce28(0xaf4)},'explanation':{'type':_0x4cce28(0xaf4)},'imageCode':{'type':_0x4cce28(0xaf4)}},'required':['questionText',_0x4cce28(0xf29),_0x4cce28(0x30b)]},_0x40be91={'type':_0x4cce28(0xd94),'properties':{'topic':{'type':_0x4cce28(0xaf4)},'questions':{'type':_0x4cce28(0xa29),'items':_0x32cf99}},'required':['topic',_0x4cce28(0x99c)]},_0x5320f7=[{'text':_0x3ba6c0},{'inlineData':{'mimeType':_0x466377,'data':_0x54459f}}];await handleApiCall(_0x5320f7,_0x4cce28(0x524),_0x40be91);}catch(_0x3852b3){console[_0x4cce28(0xd5b)](_0x4cce28(0xd70),_0x3852b3),showMessage(_0x4cce28(0x5ee)+_0x3852b3['message']),_0x55c715[_0x4cce28(0x45b)]=_0x4cce28(0x7c0);}finally{_0x4de92e[_0x4cce28(0x457)][_0x4cce28(0xea1)]('hidden'),_0x563bdc['disabled']=![];}},_0xbfcd68[_0x49c2d9(0xabb)]=_0x66ff4a=>{const _0x3cad3d=_0x49c2d9;console[_0x3cad3d(0xd5b)](_0x3cad3d(0x2b6),_0x66ff4a),showMessage(_0x3cad3d(0xeab)),_0x4de92e[_0x3cad3d(0x457)][_0x3cad3d(0xea1)](_0x3cad3d(0x845)),_0x563bdc['disabled']=![];};}async function handleRegenerateQuestionInEditor(_0x5f4f30){const _0x50708d=_0x4247b4;if(currentEditingQuizData===null)return;const _0x2c1c87=document[_0x50708d(0x79b)](_0x50708d(0x795)+_0x5f4f30+'\x22]');_0x2c1c87&&(_0x2c1c87[_0x50708d(0x45b)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x90af96=currentEditingQuizData[_0x50708d(0x99c)][_0x5f4f30],_0x4162e6=currentEditingQuizData[_0x50708d(0x6b2)],_0x995f34=_0x90af96[_0x50708d(0xf29)],_0x3f34fe={'type':_0x50708d(0xd94),'properties':{'questionText':{'type':_0x50708d(0xaf4)},'options':{'type':_0x50708d(0xa29),'items':{'type':_0x50708d(0xaf4)}},'correctAnswerIndex':{'type':_0x50708d(0xe62)},'explanation':{'type':_0x50708d(0xaf4)}},'required':[_0x50708d(0x303),'options',_0x50708d(0xc6f),_0x50708d(0x30b)]},_0x1b2200={'type':'OBJECT','properties':{'questionText':{'type':_0x50708d(0xaf4)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x50708d(0xaf4)}},'required':[_0x50708d(0x303),_0x50708d(0x325),_0x50708d(0x30b)]};let _0xc9263e,_0x391897='';_0x995f34==='multiple_choice'?(_0xc9263e=_0x3f34fe,_0x391897=_0x50708d(0xee0)):(_0xc9263e=_0x1b2200,_0x391897=_0x50708d(0xabc));const _0x36741e=_0x50708d(0x429)+_0x4162e6+_0x50708d(0x371)+_0x391897+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x90af96['questionText']||_0x90af96['stem'])+_0x50708d(0xf36)+simpleMathPrompt;try{const _0x2b98bd=await callAnalysisApi(_0x36741e,_0xc9263e);currentEditingQuizData[_0x50708d(0x99c)][_0x5f4f30]={..._0x90af96,..._0x2b98bd},renderQuizEditor(currentEditingQuizData);}catch(_0x4b4150){console[_0x50708d(0xd5b)](_0x50708d(0x8d8),_0x4b4150),showMessage(_0x50708d(0x7bf)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x12ba7e=_0x4247b4,_0x2f573b=document[_0x12ba7e(0x7c7)](_0x12ba7e(0xee8));currentMode===_0x12ba7e(0xc1b)?(adminPasswordModal[_0x12ba7e(0x457)][_0x12ba7e(0xd11)]('hidden'),document[_0x12ba7e(0x7c7)]('admin-password-input')[_0x12ba7e(0x667)]()):(currentMode=_0x12ba7e(0xc1b),_0x2f573b[_0x12ba7e(0x45b)]=_0x12ba7e(0xbdf),_0x2f573b['title']=_0x12ba7e(0xcd8),showView(_0x12ba7e(0xc1b)));}function handleAdminLogin(){const _0x168994=_0x4247b4,_0x179b8d=document[_0x168994(0x7c7)](_0x168994(0xd66)),_0x4a7e17=document['getElementById'](_0x168994(0x7bd));if(_0x179b8d[_0x168994(0xc66)]===_0x168994(0xe89)){adminPasswordModal[_0x168994(0x457)]['add'](_0x168994(0x845)),_0x179b8d[_0x168994(0xc66)]='',_0x4a7e17[_0x168994(0x457)][_0x168994(0xea1)]('hidden'),currentMode=_0x168994(0x803);const _0x27618e=document[_0x168994(0x7c7)](_0x168994(0xee8));_0x27618e[_0x168994(0x45b)]=_0x168994(0x619),_0x27618e[_0x168994(0xcdb)]='สลับไปโหมดนักเรียน',showView(_0x168994(0x928));}else _0x4a7e17[_0x168994(0x457)][_0x168994(0xd11)](_0x168994(0x845)),_0x179b8d[_0x168994(0xc66)]='';}function switchProjectTab(_0x1245b3){const _0x432f3c=_0x4247b4;[_0x432f3c(0x4f8),_0x432f3c(0x349),'leaderboard'][_0x432f3c(0x9fb)](_0x1a75a4=>{const _0x5ed811=_0x432f3c;document[_0x5ed811(0x7c7)](_0x1a75a4+_0x5ed811(0xca6))['classList'][_0x5ed811(0xd11)](_0x5ed811(0x3d0)),document['getElementById'](_0x1a75a4+_0x5ed811(0x505))[_0x5ed811(0x457)][_0x5ed811(0xea1)](_0x5ed811(0x845));}),document['getElementById'](_0x1245b3+_0x432f3c(0xca6))[_0x432f3c(0x457)][_0x432f3c(0xea1)](_0x432f3c(0x3d0)),document['getElementById'](_0x1245b3+_0x432f3c(0x505))[_0x432f3c(0x457)][_0x432f3c(0xd11)](_0x432f3c(0x845));}function switchQuizDetailTab(_0x1043a2){const _0x50d901=_0x4247b4,_0x101332={'analytics':{'btn':_0x50d901(0xa50),'content':'analytics-tab-content'},'scores':{'btn':_0x50d901(0x736),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x50d901(0x967),'content':_0x50d901(0xc7f)}};for(const _0x346993 in _0x101332){document[_0x50d901(0x7c7)](_0x101332[_0x346993]['btn'])[_0x50d901(0x457)]['remove'](_0x50d901(0x3d0)),document['getElementById'](_0x101332[_0x346993][_0x50d901(0x2e8)])[_0x50d901(0x457)][_0x50d901(0xea1)]('hidden');}document['getElementById'](_0x101332[_0x1043a2][_0x50d901(0xcb9)])[_0x50d901(0x457)][_0x50d901(0xea1)]('active'),document[_0x50d901(0x7c7)](_0x101332[_0x1043a2][_0x50d901(0x2e8)])[_0x50d901(0x457)]['remove'](_0x50d901(0x845));}function showMessage(_0x3ff4fe,_0x49eeb8=null){const _0x4a6251=_0x4247b4;modalMessage[_0x4a6251(0x45b)]=_0x3ff4fe[_0x4a6251(0x663)](/\n/g,_0x4a6251(0x873)),modalConfirmAction=_0x49eeb8,messageModal[_0x4a6251(0x457)][_0x4a6251(0xd11)](_0x4a6251(0x845));}function showConfirmation(_0x57d242,_0x4ac967,_0x42492b=null){const _0xe5f4d4=_0x4247b4;document[_0xe5f4d4(0x7c7)](_0xe5f4d4(0x57c))[_0xe5f4d4(0xb0c)]=_0x57d242,document[_0xe5f4d4(0x7c7)](_0xe5f4d4(0x593))[_0xe5f4d4(0x79b)]('h3')[_0xe5f4d4(0xb0c)]=_0xe5f4d4(0x246),confirmAction=_0x4ac967,cancelAction=_0x42492b,confirmationModal[_0xe5f4d4(0x457)][_0xe5f4d4(0xd11)](_0xe5f4d4(0x845));}function listenForProjects(){const _0x4f1cf3=_0x4247b4,_0x5d8443=doc(db,_0x4f1cf3(0x3ea),'dashboardConfig');onSnapshot(_0x5d8443,_0x1fcbef=>{const _0x2c9860=_0x4f1cf3;if(_0x1fcbef[_0x2c9860(0x971)]()){const _0x441178=_0x1fcbef[_0x2c9860(0xb86)]();globalDashboardSettings[_0x2c9860(0xaeb)]=_0x441178[_0x2c9860(0xaeb)]||'date_desc',globalDashboardSettings[_0x2c9860(0x69c)]=_0x441178[_0x2c9860(0x69c)]||[],globalDashboardSettings[_0x2c9860(0x442)]=_0x441178[_0x2c9860(0x442)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x4b909b=collection(db,_0x4f1cf3(0x2b7)+appId+_0x4f1cf3(0xbcb));unsubscribeProjectsListener=onSnapshot(_0x4b909b,_0x194bb4=>{const _0x21779d=_0x4f1cf3;allProjects=_0x194bb4[_0x21779d(0xd72)][_0x21779d(0xdeb)](_0xe8bd49=>({'id':_0xe8bd49['id'],..._0xe8bd49[_0x21779d(0xb86)]()})),renderProjects();},_0x4eb268=>{const _0x537451=_0x4f1cf3;console[_0x537451(0xd5b)](_0x537451(0x821),_0x4eb268),showMessage(_0x537451(0x5b0));});}function showColorPalette(_0x41f96b,_0x3b622c){const _0x2442d2=_0x4247b4;document['querySelectorAll'](_0x2442d2(0x74b))[_0x2442d2(0x9fb)](_0x21aeac=>_0x21aeac['remove']());const _0x10c6d6=['#FFFFFF',_0x2442d2(0xe20),_0x2442d2(0xde1),_0x2442d2(0x32f),_0x2442d2(0x362),_0x2442d2(0xaf0),_0x2442d2(0xc2c),'#FCE7F3','#E5E7EB'],_0x2bfa5b=document[_0x2442d2(0xb74)](_0x2442d2(0x58c));_0x2bfa5b[_0x2442d2(0x6cc)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x10c6d6[_0x2442d2(0x9fb)](_0x5791d1=>{const _0x3e37e4=_0x2442d2,_0x2be6b7=document[_0x3e37e4(0xb74)](_0x3e37e4(0x58c));_0x2be6b7[_0x3e37e4(0x6cc)]=_0x3e37e4(0x4cc),_0x2be6b7['style'][_0x3e37e4(0x75b)]=_0x5791d1,_0x2be6b7[_0x3e37e4(0xf03)](_0x3e37e4(0x2f0),()=>{handleProjectColorChange(_0x3b622c,_0x5791d1),_0x2bfa5b['remove']();}),_0x2bfa5b[_0x3e37e4(0xccc)](_0x2be6b7);}),document['body']['appendChild'](_0x2bfa5b);const _0x381a6c=_0x41f96b['getBoundingClientRect']();_0x2bfa5b[_0x2442d2(0x4e3)][_0x2442d2(0xe31)]=_0x381a6c[_0x2442d2(0x7ed)]+window[_0x2442d2(0x6c1)]+'px',_0x2bfa5b[_0x2442d2(0x4e3)][_0x2442d2(0xcbe)]=_0x381a6c[_0x2442d2(0xcbe)]+window[_0x2442d2(0x80e)]-_0x2bfa5b[_0x2442d2(0x83b)]/0x2+'px';}function _0xc03a(_0xbabb6d,_0x1e1cf1){const _0x5acbbb=_0x5acb();return _0xc03a=function(_0xc03a22,_0x38c078){_0xc03a22=_0xc03a22-0x1e6;let _0x432a13=_0x5acbbb[_0xc03a22];return _0x432a13;},_0xc03a(_0xbabb6d,_0x1e1cf1);}async function handleProjectColorChange(_0x10b08f,_0x3b770e){const _0xa78889=_0x4247b4,_0x8b8189=doc(db,_0xa78889(0x2b7)+appId+'/public/data/projects',_0x10b08f);try{await updateDoc(_0x8b8189,{'color':_0x3b770e});}catch(_0x214808){console[_0xa78889(0xd5b)]('Error\x20updating\x20project\x20color:',_0x214808),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x2a8e7e=_0x4247b4,_0x42f906=globalDashboardSettings['projectSort']||'date_desc',_0x16a669=new Set(globalDashboardSettings[_0x2a8e7e(0x69c)]||[]),_0x306d2b=globalDashboardSettings[_0x2a8e7e(0x23a)]||_0x2a8e7e(0x3a7),_0x1e8c22=document[_0x2a8e7e(0x7c7)](_0x2a8e7e(0x7f1)),_0x548fe9=document[_0x2a8e7e(0x7c7)](_0x2a8e7e(0x5d6));_0x1e8c22[_0x2a8e7e(0x457)]['toggle'](_0x2a8e7e(0x3d0),_0x306d2b===_0x2a8e7e(0x3a7)),_0x548fe9[_0x2a8e7e(0x457)][_0x2a8e7e(0x29a)](_0x2a8e7e(0x3d0),_0x306d2b==='list'),document[_0x2a8e7e(0x7c7)](_0x2a8e7e(0x493))[_0x2a8e7e(0xc66)]=_0x42f906;const _0x4895d8=document[_0x2a8e7e(0x7c7)](_0x2a8e7e(0x56a))[_0x2a8e7e(0xc66)][_0x2a8e7e(0xab2)]();let _0x2fb055=allProjects[_0x2a8e7e(0x498)](_0x1ac8e5=>_0x1ac8e5[_0x2a8e7e(0x8ff)][_0x2a8e7e(0xab2)]()['includes'](_0x4895d8));const _0x4cacde=_0x2fb055[_0x2a8e7e(0x498)](_0x515fce=>_0x16a669['has'](_0x515fce['id'])),_0x112844=_0x2fb055[_0x2a8e7e(0x498)](_0x12feb6=>!_0x16a669[_0x2a8e7e(0x6d2)](_0x12feb6['id'])),_0x361724=(_0x495a64,_0x4fda50)=>{const _0x5b1f89=_0x2a8e7e;switch(_0x42f906){case'name_asc':return _0x495a64[_0x5b1f89(0x8ff)][_0x5b1f89(0x460)](_0x4fda50[_0x5b1f89(0x8ff)],'th');case'name_desc':return _0x4fda50[_0x5b1f89(0x8ff)][_0x5b1f89(0x460)](_0x495a64[_0x5b1f89(0x8ff)],'th');case _0x5b1f89(0xe14):return new Date(_0x495a64[_0x5b1f89(0xdaa)])-new Date(_0x4fda50[_0x5b1f89(0xdaa)]);default:return new Date(_0x4fda50['createdAt'])-new Date(_0x495a64[_0x5b1f89(0xdaa)]);}};_0x4cacde[_0x2a8e7e(0x994)](_0x361724),_0x112844['sort'](_0x361724);const _0x516598=[..._0x4cacde,..._0x112844],_0x93ff10=globalDashboardSettings[_0x2a8e7e(0x442)]||[];_0x93ff10[_0x2a8e7e(0x2d2)]>0x0&&_0x306d2b===_0x2a8e7e(0x3a7)&&_0x516598[_0x2a8e7e(0x994)]((_0x54f6da,_0x5326f1)=>{const _0x4635ec=_0x2a8e7e,_0x27f7e9=_0x93ff10['indexOf'](_0x54f6da['id']),_0x3c3bf3=_0x93ff10[_0x4635ec(0x6a2)](_0x5326f1['id']);if(_0x27f7e9===-0x1)return 0x1;if(_0x3c3bf3===-0x1)return-0x1;return _0x27f7e9-_0x3c3bf3;});const _0x3efff8={};await Promise['all'](_0x516598[_0x2a8e7e(0xdeb)](async _0x51cc6c=>{const _0x53411e=_0x2a8e7e,_0x589ca3=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where(_0x53411e(0xf28),'==',_0x51cc6c['id'])),_0x546f1d=await getCountFromServer(_0x589ca3);_0x3efff8[_0x51cc6c['id']]=_0x546f1d[_0x53411e(0xb86)]()[_0x53411e(0x5a2)];}));const _0xb56965=document[_0x2a8e7e(0x7c7)]('project-list');let _0x488a4d='';if(_0x306d2b===_0x2a8e7e(0x3a7)){_0xb56965[_0x2a8e7e(0x6cc)]=_0x2a8e7e(0x3d1);if(starredQuizzes[_0x2a8e7e(0x2d2)]>0x0&&_0x4895d8===''){const _0x502ccc=starredQuizzes[_0x2a8e7e(0xdeb)](_0x32b43c=>{const _0x40f4a1=_0x2a8e7e,_0x4ba04f=allProjects[_0x40f4a1(0x787)](_0x4af7c1=>_0x4af7c1['id']===_0x32b43c[_0x40f4a1(0xf28)]);return{..._0x32b43c,'projectName':_0x4ba04f?_0x4ba04f['projectName']:_0x40f4a1(0x288)};});_0x488a4d+=_0x2a8e7e(0x9b4)+_0x502ccc[_0x2a8e7e(0xdeb)](_0x15a2f9=>_0x2a8e7e(0x326)+_0x15a2f9[_0x2a8e7e(0x6b2)]+'\x22>'+_0x15a2f9[_0x2a8e7e(0x6b2)]+_0x2a8e7e(0xaef)+_0x15a2f9[_0x2a8e7e(0x8ff)]+'\x22>จาก:\x20'+_0x15a2f9[_0x2a8e7e(0x8ff)]+_0x2a8e7e(0xe79))[_0x2a8e7e(0x94c)]('')+_0x2a8e7e(0x7d3)+starredQuizzes[_0x2a8e7e(0x2d2)]+_0x2a8e7e(0xe77);}_0x516598[_0x2a8e7e(0x9fb)](_0x84945f=>{const _0x3514aa=_0x2a8e7e,_0x5e4554=_0x3efff8[_0x84945f['id']]??0x0,_0x15383e=_0x16a669[_0x3514aa(0x6d2)](_0x84945f['id']),_0x26e184=_0x84945f[_0x3514aa(0x6b4)]||_0x3514aa(0x436),_0x36b3a0=parseInt(_0x26e184[_0x3514aa(0x49d)](0x1,0x3),0x10)*0.299+parseInt(_0x26e184[_0x3514aa(0x49d)](0x3,0x5),0x10)*0.587+parseInt(_0x26e184['substring'](0x5,0x7),0x10)*0.114<0xba,_0x3e1dde=_0x36b3a0?'text-white':'text-indigo-800',_0x568965=_0x36b3a0?_0x3514aa(0xf19):_0x3514aa(0x541);_0x488a4d+=_0x3514aa(0x414)+(_0x15383e?'border-indigo-400\x20ring-2\x20ring-indigo-200':'border-gray-200')+_0x3514aa(0x4ac)+_0x26e184+';\x22\x20data-id=\x22'+_0x84945f['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x84945f['id']+_0x3514aa(0x66e)+(_0x36b3a0?_0x3514aa(0x919):_0x3514aa(0x875))+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x84945f['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x36b3a0?_0x3514aa(0x919):_0x3514aa(0x875))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x15383e?_0x36b3a0?_0x3514aa(0x319):'text-indigo-600':'')+_0x3514aa(0x796)+_0x84945f['id']+_0x3514aa(0xabd)+_0x3e1dde+_0x3514aa(0xb31)+_0x84945f[_0x3514aa(0x8ff)]+_0x3514aa(0xa46)+_0x568965+_0x3514aa(0xced)+new Date(_0x84945f[_0x3514aa(0xdaa)])['toLocaleDateString'](_0x3514aa(0xc69))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x36b3a0?_0x3514aa(0x945):'text-gray-700')+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x5e4554+_0x3514aa(0xf2f)+_0x84945f['id']+'\x22\x20data-name=\x22'+_0x84945f[_0x3514aa(0x8ff)]+_0x3514aa(0xc62)+(_0x36b3a0?'text-red-300\x20hover:text-red-100':_0x3514aa(0xb4b))+_0x3514aa(0xc4b);});}else _0xb56965[_0x2a8e7e(0x6cc)]=_0x2a8e7e(0x47f),starredQuizzes[_0x2a8e7e(0x2d2)]>0x0&&_0x4895d8===''&&(_0x488a4d+=_0x2a8e7e(0xad7)+starredQuizzes[_0x2a8e7e(0x2d2)]+_0x2a8e7e(0x804)),_0x488a4d+=_0x2a8e7e(0x9c1),_0x516598[_0x2a8e7e(0x9fb)](_0x405247=>{const _0x49676d=_0x2a8e7e,_0xe1ed7=_0x3efff8[_0x405247['id']]??0x0,_0x330075=_0x16a669[_0x49676d(0x6d2)](_0x405247['id']);_0x488a4d+=_0x49676d(0xf32)+(_0x405247[_0x49676d(0x6b4)]||_0x49676d(0x4ae))+_0x49676d(0xf2a)+_0x405247['id']+_0x49676d(0x26a)+_0x405247[_0x49676d(0x8ff)]+_0x49676d(0x8f5)+_0xe1ed7+_0x49676d(0xd0f)+new Date(_0x405247[_0x49676d(0xdaa)])[_0x49676d(0xbef)](_0x49676d(0xc69))+_0x49676d(0xe8e)+_0x405247['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x330075?'text-indigo-600':'')+_0x49676d(0xb90)+_0x405247['id']+'\x22\x20data-name=\x22'+_0x405247[_0x49676d(0x8ff)]+_0x49676d(0xa45);});_0xb56965[_0x2a8e7e(0x45b)]=_0x488a4d,noProjectsMsg[_0x2a8e7e(0x457)][_0x2a8e7e(0x29a)](_0x2a8e7e(0x845),_0x488a4d['length']>0x0);}document[_0x4247b4(0x7c7)](_0x4247b4(0x317))[_0x4247b4(0xf03)]('click',async()=>{const _0x5aa561=_0x4247b4,_0x509046=document[_0x5aa561(0x7c7)](_0x5aa561(0xf07)),_0x4bedd1=_0x509046[_0x5aa561(0xc66)][_0x5aa561(0xba3)]();if(!_0x4bedd1){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x4e15d3=doc(collection(db,_0x5aa561(0x2b7)+appId+_0x5aa561(0xbcb)));await setDoc(_0x4e15d3,{'projectName':_0x4bedd1,'students':[],'settings':{'resultsDisplay':_0x5aa561(0xdf2),'shuffleSetting':_0x5aa561(0xc43),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x5aa561(0xf30)]()}),_0x509046['value']='',createProjectModal[_0x5aa561(0x457)]['add'](_0x5aa561(0x845)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x244a9a){console[_0x5aa561(0xd5b)](_0x5aa561(0xbfd),_0x244a9a),showMessage(_0x5aa561(0xe11));}}),projectList[_0x4247b4(0xf03)](_0x4247b4(0x2f0),async _0x3184a4=>{const _0x5b44d7=_0x4247b4,_0x2858f6=_0x3184a4[_0x5b44d7(0xcbd)][_0x5b44d7(0x5bf)](_0x5b44d7(0x597)),_0x26df67=_0x3184a4[_0x5b44d7(0xcbd)][_0x5b44d7(0x5bf)](_0x5b44d7(0x287)),_0x54c90d=_0x3184a4[_0x5b44d7(0xcbd)][_0x5b44d7(0x5bf)]('.pin-project-btn'),_0x4107f5=_0x3184a4[_0x5b44d7(0xcbd)][_0x5b44d7(0x5bf)](_0x5b44d7(0xf2e));if(_0x54c90d){const _0x5b84c0=_0x54c90d[_0x5b44d7(0xefd)]['id'],_0x3ad597=doc(db,_0x5b44d7(0x3ea),_0x5b44d7(0x557)),_0x3b9960=globalDashboardSettings['pinnedProjects'];let _0x387669;_0x3b9960['includes'](_0x5b84c0)?_0x387669=_0x3b9960[_0x5b44d7(0x498)](_0x5877d0=>_0x5877d0!==_0x5b84c0):_0x387669=[..._0x3b9960,_0x5b84c0];try{await setDoc(_0x3ad597,{'pinnedProjects':_0x387669},{'merge':!![]});}catch(_0x3c4f3c){console['error'](_0x5b44d7(0xc4f),_0x3c4f3c),showMessage(_0x5b44d7(0x57d));}}else{if(_0x4107f5){const _0x3f2098=_0x4107f5[_0x5b44d7(0xefd)]['id'];showColorPalette(_0x4107f5,_0x3f2098);}else{if(_0x2858f6){const _0x5f2e25=_0x2858f6[_0x5b44d7(0xefd)]['id'];_0x5f2e25==='starred-project'?showStarredProjectView():(currentProjectId=_0x5f2e25,await loadProjectDetails(currentProjectId),showView(_0x5b44d7(0x69d)));}else{if(_0x26df67){const _0x37ca5b=_0x26df67[_0x5b44d7(0xefd)]['id'],_0x2b0e91=_0x26df67[_0x5b44d7(0xefd)]['name'];showConfirmation(_0x5b44d7(0xc28)+_0x2b0e91+_0x5b44d7(0x9e8),()=>handleDeleteProject(_0x37ca5b));}}}}}),projectList['addEventListener']('dragstart',_0x1a34e0=>{const _0x4d77da=_0x4247b4,_0x1e667c=_0x1a34e0[_0x4d77da(0xcbd)][_0x4d77da(0x5bf)](_0x4d77da(0x31e));_0x1e667c&&_0x1e667c['classList'][_0x4d77da(0xea1)](_0x4d77da(0x34f));}),projectList[_0x4247b4(0xf03)](_0x4247b4(0xb8a),_0x241310=>{const _0x3ceb67=_0x4247b4,_0x22d95c=_0x241310[_0x3ceb67(0xcbd)][_0x3ceb67(0x5bf)](_0x3ceb67(0x31e));_0x22d95c&&_0x22d95c[_0x3ceb67(0x457)]['remove'](_0x3ceb67(0x34f));}),projectList[_0x4247b4(0xf03)]('dragover',_0x55c4cb=>{const _0x456636=_0x4247b4;_0x55c4cb['preventDefault']();const _0x5a3fb1=document[_0x456636(0x79b)](_0x456636(0xd0e));if(!_0x5a3fb1)return;const _0x160258=getDragAfterElement(projectList,_0x55c4cb[_0x456636(0x6d7)]);_0x160258==null?projectList[_0x456636(0xccc)](_0x5a3fb1):projectList[_0x456636(0xc8d)](_0x5a3fb1,_0x160258);}),projectList[_0x4247b4(0xf03)](_0x4247b4(0x9f9),_0x7dba7d=>{const _0x38b78f=_0x4247b4;_0x7dba7d['preventDefault']();const _0x5486ff=[...projectList['querySelectorAll'](_0x38b78f(0x354))][_0x38b78f(0xdeb)](_0x6fec98=>_0x6fec98['dataset']['id']);saveProjectOrder(_0x5486ff);});function renderBehaviorLog(_0x41a1a5){const _0x57479c=_0x4247b4,_0x44d044=document[_0x57479c(0x7c7)](_0x57479c(0x882));if(!_0x44d044)return;const _0x31cd8b=_0x41a1a5['filter'](_0x1c3f76=>_0x1c3f76['behaviorLog']&&_0x1c3f76['behaviorLog'][_0x57479c(0x2d2)]>0x0);if(_0x31cd8b['length']===0x0){_0x44d044['innerHTML']=_0x57479c(0x688);return;}let _0x469843='';_0x31cd8b[_0x57479c(0x9fb)](_0x2856d=>{const _0x3c1076=_0x57479c;_0x469843+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x2856d[_0x3c1076(0x27f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2856d[_0x3c1076(0x992)][_0x3c1076(0x994)]((_0x3fea62,_0x3eb612)=>new Date(_0x3eb612[_0x3c1076(0x1f8)])-new Date(_0x3fea62[_0x3c1076(0x1f8)]))[_0x3c1076(0x9fb)](_0x1adf0e=>{const _0x5b4502=_0x3c1076,_0x594ba3=new Date(_0x1adf0e[_0x5b4502(0x1f8)])['toLocaleString'](_0x5b4502(0xc69),{'dateStyle':_0x5b4502(0x9df),'timeStyle':_0x5b4502(0x2fa)});_0x469843+=_0x5b4502(0xb18)+_0x1adf0e[_0x5b4502(0xad8)]+_0x5b4502(0x759)+_0x594ba3+_0x5b4502(0x4ea);}),_0x469843+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x44d044['innerHTML']=_0x469843;}function getDragAfterElement(_0x1949fe,_0x227390){const _0x41f93d=_0x4247b4,_0x1a85c0=[..._0x1949fe[_0x41f93d(0xf52)](_0x41f93d(0x62b))];return _0x1a85c0[_0x41f93d(0x382)]((_0x2175cb,_0x5db3fd)=>{const _0x43fa60=_0x41f93d,_0xa27e46=_0x5db3fd[_0x43fa60(0x5db)](),_0x3c187f=_0x227390-_0xa27e46[_0x43fa60(0xe31)]-_0xa27e46[_0x43fa60(0x625)]/0x2;return _0x3c187f<0x0&&_0x3c187f>_0x2175cb[_0x43fa60(0x273)]?{'offset':_0x3c187f,'element':_0x5db3fd}:_0x2175cb;},{'offset':Number[_0x41f93d(0x698)]})['element'];}async function saveProjectOrder(_0x73ffbe){const _0x4fdfcf=_0x4247b4,_0x2cefbd=doc(db,_0x4fdfcf(0x3ea),_0x4fdfcf(0x557));try{await setDoc(_0x2cefbd,{'projectOrder':_0x73ffbe},{'merge':!![]});}catch(_0x2892c7){console['error'](_0x4fdfcf(0xc2f),_0x2892c7),showMessage(_0x4fdfcf(0x521));}}async function logBehaviorEvent(_0x3742f2,_0x5dc552={}){const _0x2afe2b=_0x4247b4;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x2afe2b(0x9f2)](_0x2afe2b(0xd06));return;}const _0x221005=doc(db,'artifacts/'+appId+_0x2afe2b(0xbe9)+currentQuizData['id']+'/submissions',currentStudentName),_0x505f1c={'event':_0x3742f2,'timestamp':new Date()[_0x2afe2b(0xf30)](),..._0x5dc552};try{await updateDoc(_0x221005,{'behaviorLog':arrayUnion(_0x505f1c)}),console[_0x2afe2b(0x799)]('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x2afe2b(0x29b));}catch(_0x76c691){_0x76c691['code']===_0x2afe2b(0xa40)?console['warn']('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0x2afe2b(0xd5b)](_0x2afe2b(0x3f2),_0x76c691);}}function getScoreTier(_0x4c1d53,_0x4c18d1){const _0xbe16e4=_0x4247b4;if(_0x4c18d1===0x0){if(_0x4c1d53===0x0)return{'text':'(รอคะแนน)','icon':'⏳'};return{'text':'(พยายามอยู่)','icon':'😥'};}const _0x5dada2=_0x4c1d53/(_0x4c18d1===0x0?0x1:_0x4c18d1);if(_0x5dada2===0x1)return{'text':_0xbe16e4(0x547),'icon':'👑'};if(_0x5dada2>=0.7)return{'text':'(ตามมาติดๆ)','icon':'🔥'};if(_0x5dada2>=0.4)return{'text':_0xbe16e4(0xf45),'icon':'🏃'};return{'text':_0xbe16e4(0x704),'icon':'😥'};}function calculateMeanAndStdDev(_0x5a5f02){const _0x49174a=_0x4247b4;if(_0x5a5f02[_0x49174a(0x2d2)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x248695=_0x5a5f02[_0x49174a(0x382)]((_0x4945cf,_0x599edf)=>_0x4945cf+_0x599edf,0x0)/_0x5a5f02[_0x49174a(0x2d2)];if(_0x5a5f02[_0x49174a(0x2d2)]===0x1)return{'mean':_0x248695,'stdDev':0x0};const _0x16c67b=Math[_0x49174a(0xac1)](_0x5a5f02['map'](_0x5371a1=>Math[_0x49174a(0x943)](_0x5371a1-_0x248695,0x2))[_0x49174a(0x382)]((_0x4a5959,_0x148b9f)=>_0x4a5959+_0x148b9f,0x0)/(_0x5a5f02[_0x49174a(0x2d2)]-0x1));return{'mean':_0x248695,'stdDev':_0x16c67b};}function calculateZScore(_0x476ecc,_0x58e5d5,_0x1830fd){if(_0x1830fd===0x0)return 0x0;return(_0x476ecc-_0x58e5d5)/_0x1830fd;}function calculateTScore(_0x9512ed){return 0xa*_0x9512ed+0x32;}function showStarredProjectView(){const _0x29e07d=_0x4247b4;currentProjectId=_0x29e07d(0x817),currentProjectData=null,projectTitle[_0x29e07d(0xb0c)]=_0x29e07d(0xde2),projectIdDisplay['textContent']=_0x29e07d(0x7fa),showView('project-detail'),manageTab[_0x29e07d(0x457)][_0x29e07d(0xea1)](_0x29e07d(0x845)),leaderboardTab[_0x29e07d(0x457)][_0x29e07d(0xea1)](_0x29e07d(0x845)),switchProjectTab(_0x29e07d(0x349)),renderQuizzes();}async function loadProjectDetails(_0x59114e){const _0x3cf2ae=_0x4247b4,_0x5de2dd=doc(db,_0x3cf2ae(0x2b7)+appId+_0x3cf2ae(0xbcb),_0x59114e),_0x5f1d00=await getDoc(_0x5de2dd);if(_0x5f1d00[_0x3cf2ae(0x971)]()){manageTab['classList']['remove'](_0x3cf2ae(0x845)),leaderboardTab[_0x3cf2ae(0x457)][_0x3cf2ae(0xd11)](_0x3cf2ae(0x845)),currentProjectData=_0x5f1d00[_0x3cf2ae(0xb86)](),projectTitle['textContent']=currentProjectData['projectName'],projectIdDisplay[_0x3cf2ae(0xb0c)]=_0x59114e;const _0x21bf2a=currentProjectData[_0x3cf2ae(0xb7e)]||{};document['getElementById']('shuffle-setting-select')[_0x3cf2ae(0xc66)]=_0x21bf2a[_0x3cf2ae(0x335)]||_0x3cf2ae(0xc43);const _0x4898ce=document[_0x3cf2ae(0x7c7)](_0x3cf2ae(0x29c));_0x4898ce['checked']=_0x21bf2a[_0x3cf2ae(0xe1a)]!==![];const _0x4cae0e=document[_0x3cf2ae(0x7c7)](_0x3cf2ae(0x43b)),_0x381f93=document[_0x3cf2ae(0x7c7)](_0x3cf2ae(0x225)),_0x609c7d=document[_0x3cf2ae(0x7c7)](_0x3cf2ae(0xd88)),_0x5e6a6b=_0x21bf2a[_0x3cf2ae(0xf5e)]||![];_0x4cae0e['checked']=_0x5e6a6b,_0x609c7d[_0x3cf2ae(0xc66)]=_0x21bf2a['passcode']||'',_0x381f93['classList']['toggle'](_0x3cf2ae(0x845),!_0x5e6a6b),_0x4cae0e[_0x3cf2ae(0xc8b)]=()=>{const _0x5bd55d=_0x3cf2ae;_0x381f93[_0x5bd55d(0x457)][_0x5bd55d(0x29a)]('hidden',!_0x4cae0e['checked']);},document[_0x3cf2ae(0x7c7)]('confidence-scoring-checkbox')[_0x3cf2ae(0xa20)]=_0x21bf2a[_0x3cf2ae(0x5c7)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x59114e),listenForProjectQuizzes(_0x59114e),listenForStudentProfiles(_0x59114e);}else showMessage(_0x3cf2ae(0x3b6)),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x5e1bda=_0x4247b4,_0x2dad98=doc(db,_0x5e1bda(0x3ea),_0x5e1bda(0x557));try{await setDoc(_0x2dad98,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x5e1bda(0x942));}catch(_0x13b1c4){console[_0x5e1bda(0xd5b)](_0x5e1bda(0xc38),_0x13b1c4),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x4a993e){const _0x5b6628=_0x4247b4;if(!_0x4a993e)return;const _0x40b042=doc(db,_0x5b6628(0x2b7)+appId+_0x5b6628(0xbcb),_0x4a993e);try{const _0x2c1831=await getDoc(_0x40b042);if(_0x2c1831['exists']()){const _0x5a5882=_0x2c1831['data']()[_0x5b6628(0x23f)]||![];await updateDoc(_0x40b042,{'isPinned':!_0x5a5882});}}catch(_0x3f88d6){console['error']('Error\x20toggling\x20pin\x20status:',_0x3f88d6),showMessage(_0x5b6628(0x57d));}}async function handleDeleteProject(_0x32fb92){const _0x4a19e4=_0x4247b4;try{const _0x401402=writeBatch(db),_0x3620d4=collection(db,_0x4a19e4(0x2b7)+appId+'/public/data/quizzes'),_0x4c0205=query(_0x3620d4,where(_0x4a19e4(0xf28),'==',_0x32fb92)),_0x21a067=await getDocs(_0x4c0205);for(const _0x1a951e of _0x21a067[_0x4a19e4(0xd72)]){const _0x4bf2b4=collection(db,'artifacts/'+appId+_0x4a19e4(0xbe9)+_0x1a951e['id']+_0x4a19e4(0x746)),_0x146262=await getDocs(_0x4bf2b4);_0x146262[_0x4a19e4(0x9fb)](_0x1cc63d=>{const _0x122455=_0x4a19e4;_0x401402['delete'](_0x1cc63d[_0x122455(0x3e7)]);}),_0x401402['delete'](_0x1a951e[_0x4a19e4(0x3e7)]);}const _0x431d49=collection(db,'artifacts/'+appId+_0x4a19e4(0x40f)+_0x32fb92+_0x4a19e4(0x4b5)),_0x87fa92=await getDocs(_0x431d49);_0x87fa92[_0x4a19e4(0x9fb)](_0x44399c=>{const _0x86fa0=_0x4a19e4;_0x401402[_0x86fa0(0x627)](_0x44399c[_0x86fa0(0x3e7)]);});const _0xe646d3=doc(db,_0x4a19e4(0x2b7)+appId+_0x4a19e4(0xbcb),_0x32fb92);_0x401402['delete'](_0xe646d3),await _0x401402[_0x4a19e4(0xdcc)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x4a19e4(0x928));}catch(_0x3605b2){console[_0x4a19e4(0xd5b)]('Error\x20deleting\x20project:',_0x3605b2),showMessage(_0x4a19e4(0xe38));}}document[_0x4247b4(0x7c7)](_0x4247b4(0xacd))[_0x4247b4(0xf03)](_0x4247b4(0x2f0),async()=>{const _0x1e6ea3=_0x4247b4;if(!currentProjectId)return;const _0x459128={'defaultNumQuestions':parseInt(document[_0x1e6ea3(0x7c7)](_0x1e6ea3(0x7c2))[_0x1e6ea3(0xc66)]),'defaultNumChoices':parseInt(document[_0x1e6ea3(0x7c7)]('num-choices')[_0x1e6ea3(0xc66)]),'defaultPassingScore':parseInt(document[_0x1e6ea3(0x7c7)]('passing-score-input')['value']),'resultsDisplay':document[_0x1e6ea3(0x7c7)]('results-display-select')[_0x1e6ea3(0xc66)],'shuffleSetting':document[_0x1e6ea3(0x7c7)](_0x1e6ea3(0x989))['value'],'timerMode':document['getElementById'](_0x1e6ea3(0x88e))[_0x1e6ea3(0xc66)],'timerDuration':parseInt(document[_0x1e6ea3(0x7c7)](_0x1e6ea3(0x2ab))[_0x1e6ea3(0xc66)]),'isConfidenceScoringEnabled':document['getElementById'](_0x1e6ea3(0x4f6))['checked'],'confidenceMode':document[_0x1e6ea3(0x7c7)]('confidence-mode-select')[_0x1e6ea3(0xc66)]};try{const _0x1d6af5=doc(db,_0x1e6ea3(0x2b7)+appId+_0x1e6ea3(0xbcb),currentProjectId);await updateDoc(_0x1d6af5,{'settings':_0x459128}),showMessage(_0x1e6ea3(0xe33));}catch(_0x3d2ad4){console[_0x1e6ea3(0xd5b)](_0x1e6ea3(0xa91),_0x3d2ad4),showMessage(_0x1e6ea3(0x463));}});function listenForStudents(_0x111eb1){const _0x4afd7f=_0x4247b4,_0x1079ba=doc(db,_0x4afd7f(0x2b7)+appId+_0x4afd7f(0xbcb),_0x111eb1);unsubscribeStudentsListener=onSnapshot(_0x1079ba,_0x536fe2=>{const _0xcc0bbe=_0x4afd7f;if(_0x536fe2[_0xcc0bbe(0x971)]()){const _0x11f7da=_0x536fe2[_0xcc0bbe(0xb86)]();currentProjectData=_0x11f7da,renderStudentList(_0x11f7da[_0xcc0bbe(0x97d)]||[]);}});}function renderStudentList(_0xafd3a0){const _0x2f6c77=_0x4247b4,_0x579138=document['getElementById']('delete-all-students-btn');_0xafd3a0[_0x2f6c77(0x2d2)]===0x0?(studentList[_0x2f6c77(0x45b)]=_0x2f6c77(0xc07),_0x579138[_0x2f6c77(0x457)]['add'](_0x2f6c77(0x845))):(studentList['innerHTML']=_0xafd3a0[_0x2f6c77(0xdeb)](_0x169616=>_0x2f6c77(0xdfd)+_0x169616+_0x2f6c77(0xe5f)+_0x169616+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2f6c77(0x94c)](''),_0x579138[_0x2f6c77(0x457)][_0x2f6c77(0xd11)](_0x2f6c77(0x845)));}document[_0x4247b4(0x7c7)](_0x4247b4(0xc83))['addEventListener'](_0x4247b4(0x2f0),async()=>{const _0x30cec5=_0x4247b4;if(!currentProjectId)return;const _0x367a11=document['getElementById'](_0x30cec5(0xcd6)),_0x5209c9=_0x367a11[_0x30cec5(0xc66)][_0x30cec5(0xba3)]();if(!_0x5209c9){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x187fa5=_0x5209c9[_0x30cec5(0x4c6)]('\x0a')[_0x30cec5(0xdeb)](_0x135a7d=>_0x135a7d[_0x30cec5(0xba3)]())['filter'](_0x256c90=>_0x256c90);if(_0x187fa5[_0x30cec5(0x2d2)]===0x0)return;try{const _0x1abacd=doc(db,'artifacts/'+appId+_0x30cec5(0xbcb),currentProjectId),_0x1ede43=await getDoc(_0x1abacd);if(_0x1ede43[_0x30cec5(0x971)]()){const _0x16d490=_0x1ede43['data']()['students']||[],_0x430109=[...new Set([..._0x16d490,..._0x187fa5])];await updateDoc(_0x1abacd,{'students':_0x430109}),_0x367a11[_0x30cec5(0xc66)]='';}}catch(_0x1bff64){console['error'](_0x30cec5(0x48b),_0x1bff64),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x1a0087){const _0xab7a9b=_0x4247b4,_0x2a2640=document['getElementById'](_0xab7a9b(0xb24)),_0x2db9d3=document[_0xab7a9b(0x7c7)](_0xab7a9b(0x41d)),_0x209155=_0x2a2640['querySelector']('h3'),_0x2271a6=document[_0xab7a9b(0x7c7)]('confirm-move-quiz-btn'),_0x32957b=document['getElementById'](_0xab7a9b(0xd3d));_0x209155['textContent']=_0xab7a9b(0xd04),_0x2db9d3[_0xab7a9b(0x45b)]=_0xab7a9b(0x726),_0x2271a6[_0xab7a9b(0xb0c)]=_0xab7a9b(0x93d),_0x2a2640[_0xab7a9b(0x457)][_0xab7a9b(0xd11)](_0xab7a9b(0x845));const _0x2eb165=allQuizzes[_0xab7a9b(0x498)](_0x4689e5=>_0x4689e5['id']!==_0x1a0087);_0x2eb165[_0xab7a9b(0x2d2)]===0x0?(_0x2db9d3[_0xab7a9b(0x45b)]=_0xab7a9b(0x8f8),_0x2271a6[_0xab7a9b(0x766)]=!![]):(_0x2db9d3['innerHTML']=_0xab7a9b(0xa5d)+_0x2eb165[_0xab7a9b(0xdeb)](_0xe6d72e=>'<option\x20value=\x22'+_0xe6d72e['id']+'\x22>'+_0xe6d72e[_0xab7a9b(0x6b2)]+_0xab7a9b(0xdaf))[_0xab7a9b(0x94c)](''),_0x2271a6[_0xab7a9b(0x766)]=![]);const _0x1b11ed=async()=>{const _0xee7f36=_0xab7a9b,_0x3c70aa=_0x2db9d3[_0xee7f36(0xc66)];if(!_0x3c70aa){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x2271a6[_0xee7f36(0x766)]=!![],_0x2271a6['textContent']='กำลังจับคู่...';try{const _0x1db014=doc(db,_0xee7f36(0x2b7)+appId+_0xee7f36(0xa8b),_0x1a0087),_0x2610df=doc(db,_0xee7f36(0x2b7)+appId+_0xee7f36(0xa8b),_0x3c70aa),_0x515734=writeBatch(db);_0x515734[_0xee7f36(0x8f0)](_0x1db014,{'pairedQuizId':_0x3c70aa}),_0x515734['update'](_0x2610df,{'pairedQuizId':_0x1a0087}),await _0x515734[_0xee7f36(0xdcc)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x2a2640[_0xee7f36(0x457)]['add'](_0xee7f36(0x845));}catch(_0x1df805){console[_0xee7f36(0xd5b)](_0xee7f36(0x6d6),_0x1df805),showMessage(_0xee7f36(0xabe));}finally{_0x209155[_0xee7f36(0xb0c)]=_0xee7f36(0x86e),_0x2271a6[_0xee7f36(0xb0c)]=_0xee7f36(0x451),_0x2271a6[_0xee7f36(0x766)]=![],_0x2271a6[_0xee7f36(0x808)](_0xee7f36(0x2f0),_0x1b11ed),_0x32957b[_0xee7f36(0x808)](_0xee7f36(0x2f0),_0x303ab3);}},_0x303ab3=()=>{const _0xdfda94=_0xab7a9b;_0x2a2640['classList']['add'](_0xdfda94(0x845)),_0x209155['textContent']=_0xdfda94(0x86e),_0x2271a6[_0xdfda94(0xb0c)]=_0xdfda94(0x451),_0x2271a6[_0xdfda94(0x808)]('click',_0x1b11ed),_0x32957b['removeEventListener'](_0xdfda94(0x2f0),_0x303ab3);};_0x2271a6[_0xab7a9b(0xf03)](_0xab7a9b(0x2f0),_0x1b11ed),_0x32957b[_0xab7a9b(0xf03)](_0xab7a9b(0x2f0),_0x303ab3);}function handleDeleteStudent(_0x26a2f9){const _0x45e5a8=_0x4247b4;showConfirmation(_0x45e5a8(0x337)+_0x26a2f9+_0x45e5a8(0x8bc),async()=>{const _0x455258=_0x45e5a8;if(!currentProjectId||!currentProjectData)return;const _0x33c0fd=currentProjectData[_0x455258(0x97d)]['filter'](_0x26c3bb=>_0x26c3bb!==_0x26a2f9);try{const _0x5abaaf=doc(db,_0x455258(0x2b7)+appId+'/public/data/projects',currentProjectId),_0x574ce9=doc(db,_0x455258(0x2b7)+appId+_0x455258(0x40f)+currentProjectId+'/studentProfiles',_0x26a2f9),_0x768774=writeBatch(db);_0x768774['update'](_0x5abaaf,{'students':_0x33c0fd}),_0x768774[_0x455258(0x627)](_0x574ce9),await _0x768774['commit']();}catch(_0x130f0e){console[_0x455258(0xd5b)](_0x455258(0x50b),_0x130f0e),showMessage(_0x455258(0xd84));}});}function handleDeleteAllStudents(){const _0x4496aa=_0x4247b4;showConfirmation(_0x4496aa(0x641),async()=>{const _0x5b5011=_0x4496aa;if(!currentProjectId)return;try{const _0x5b46d4=doc(db,_0x5b5011(0x2b7)+appId+_0x5b5011(0xbcb),currentProjectId),_0x133af5=collection(db,_0x5b5011(0x2b7)+appId+_0x5b5011(0x40f)+currentProjectId+'/studentProfiles'),_0x1ff97a=await getDocs(_0x133af5),_0x57d8bc=writeBatch(db);_0x57d8bc[_0x5b5011(0x8f0)](_0x5b46d4,{'students':[]}),_0x1ff97a[_0x5b5011(0x9fb)](_0x187079=>_0x57d8bc[_0x5b5011(0x627)](_0x187079[_0x5b5011(0x3e7)])),await _0x57d8bc[_0x5b5011(0xdcc)]();}catch(_0x336fe6){console[_0x5b5011(0xd5b)]('Error\x20deleting\x20all\x20students:',_0x336fe6),showMessage(_0x5b5011(0x3ee));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x504624){const _0x26eb10=_0x4247b4,_0x4a57e3=document[_0x26eb10(0x7c7)](_0x26eb10(0x4c3)),_0x106978=document[_0x26eb10(0x7c7)](_0x26eb10(0x75d));_0x4a57e3[_0x26eb10(0x457)][_0x26eb10(0xd11)](_0x26eb10(0x845)),_0x106978['innerHTML']=_0x26eb10(0x8dd);try{const _0x59f280=new FileReader();_0x59f280[_0x26eb10(0x6d9)](_0x504624),await new Promise((_0x734c6,_0x30fb33)=>{const _0x90ba9c=_0x26eb10;_0x59f280['onload']=()=>{const _0x256fa8=_0xc03a;fileDataBase64=_0x59f280[_0x256fa8(0xbc0)][_0x256fa8(0x4c6)](',')[0x1],fileMimeType=_0x504624[_0x256fa8(0x31f)],_0x734c6();},_0x59f280[_0x90ba9c(0xabb)]=_0x54e388=>_0x30fb33(_0x54e388);});if(!fileDataBase64)throw new Error(_0x26eb10(0x6c0));const _0x43030e=_0x26eb10(0x98b),_0x5ecfc9={'type':_0x26eb10(0xd94),'properties':{'topics':{'type':_0x26eb10(0xa29),'items':{'type':'STRING'}}},'required':[_0x26eb10(0x345)]},_0x5e4fc7=[{'text':_0x43030e},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x4009a4=await handleApiCall(_0x5e4fc7,'กำลังวิเคราะห์หัวข้อ...',_0x5ecfc9,null,![]);if(_0x4009a4&&_0x4009a4[_0x26eb10(0x345)])extractedFileTopics=_0x4009a4[_0x26eb10(0x345)],renderFileTopics();else throw new Error(_0x26eb10(0xe9d));}catch(_0x442fe2){console['error'](_0x26eb10(0x91d),_0x442fe2),_0x106978[_0x26eb10(0x45b)]=_0x26eb10(0x334)+_0x442fe2[_0x26eb10(0x725)]+_0x26eb10(0x2fc);}}function renderFileTopics(){const _0x971984=_0x4247b4,_0x414ea5=document['getElementById'](_0x971984(0x75d));if(extractedFileTopics[_0x971984(0x2d2)]===0x0){_0x414ea5[_0x971984(0x45b)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>';return;}_0x414ea5[_0x971984(0x45b)]=extractedFileTopics['map'](_0x3c641f=>_0x971984(0xf4e)+_0x3c641f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x3c641f)+_0x971984(0x4ce)+escape(_0x3c641f)+_0x971984(0x90c))[_0x971984(0x94c)]('');}async function generateHybridQuizForTopic(_0x4d826a){const _0x18bff6=_0x4247b4,_0x398baf=parseInt(document[_0x18bff6(0x7c7)](_0x18bff6(0x7c2))[_0x18bff6(0xc66)],0xa),_0x3da1c1=document[_0x18bff6(0x7c7)]('quiz-type-select')[_0x18bff6(0xc66)],_0x14dbaf=document[_0x18bff6(0x7c7)](_0x18bff6(0xe3e))['value'],_0x2a419a=document[_0x18bff6(0x7c7)](_0x18bff6(0x8fa))[_0x18bff6(0xa20)],_0x30ede7=_0x2a419a?_0x18bff6(0x719):'ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ';let _0x29813e='',_0x119e1d;const _0x38b1f1={'type':_0x18bff6(0xd94),'properties':{'questionText':{'type':_0x18bff6(0xaf4)},'options':{'type':_0x18bff6(0xa29),'items':{'type':_0x18bff6(0xaf4)}},'correctAnswerIndex':{'type':_0x18bff6(0xe62)},'explanation':{'type':_0x18bff6(0xaf4)},'imageCode':{'type':'STRING'}},'required':[_0x18bff6(0x303),_0x18bff6(0xb84),_0x18bff6(0xc6f),'explanation']},_0x1ea23b={'type':_0x18bff6(0xd94),'properties':{'questionText':{'type':_0x18bff6(0xaf4)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x18bff6(0xaf4)},'imageCode':{'type':'STRING'}},'required':['questionText','correctAnswer',_0x18bff6(0x30b)]},_0x21ee6c={'type':_0x18bff6(0xd94),'properties':{'questionText':{'type':_0x18bff6(0xaf4)},'idealAnswer':{'type':_0x18bff6(0xaf4)},'explanation':{'type':_0x18bff6(0xaf4)},'imageCode':{'type':_0x18bff6(0xaf4)}},'required':[_0x18bff6(0x303),_0x18bff6(0x325),_0x18bff6(0x30b)]},_0x12ef20={'type':_0x18bff6(0xd94),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':_0x18bff6(0xaf4)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x18bff6(0xaf4)}},'explanation':{'type':_0x18bff6(0xaf4)},'imageCode':{'type':_0x18bff6(0xaf4)}},'required':[_0x18bff6(0xf29),_0x18bff6(0x203),_0x18bff6(0x36d),_0x18bff6(0x5b2),_0x18bff6(0x30b)]};switch(_0x3da1c1){case _0x18bff6(0x7fe):const _0xb41570=_0x18bff6(0x861);prompt=_0x18bff6(0xb5d)+subjectPrefix+'\x20'+settings['numQuestions']+_0x18bff6(0xecb)+topicInstruction+'\x20'+topicRefinementInstruction+'\x20'+difficultyInstruction+'\x20'+complexityInstruction+'\x20'+referenceInstruction+_0x18bff6(0xeae)+settings['numChoices']+'\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb41570+_0x18bff6(0xc32)+_0x30ede7+'\x20'+simpleMathPrompt,schema=_0x38b1f1;break;case _0x18bff6(0x353):_0x29813e=_0x18bff6(0x65c),_0x119e1d=_0x1ea23b;break;case _0x18bff6(0x437):_0x29813e=_0x18bff6(0xc6e),_0x119e1d=_0x21ee6c;break;case _0x18bff6(0x57e):_0x29813e=_0x18bff6(0xd45),_0x119e1d=_0x12ef20;break;case _0x18bff6(0x848):_0x29813e='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20'+_0x14dbaf+_0x18bff6(0x71f),_0x119e1d=_0x38b1f1;break;default:_0x29813e=_0x18bff6(0x96e)+_0x14dbaf+'\x20ตัวเลือก)',_0x119e1d=_0x38b1f1;break;}const _0x4d0208=_0x18bff6(0xb67),_0x28ef9c=document['getElementById'](_0x18bff6(0xbbe)),_0x4ff131=document[_0x18bff6(0x7c7)](_0x18bff6(0xe8b)),_0x1c69f3=document[_0x18bff6(0x7c7)](_0x18bff6(0x318));document['getElementById'](_0x18bff6(0xb5f))[_0x18bff6(0x457)][_0x18bff6(0xd11)](_0x18bff6(0x845)),_0x1c69f3[_0x18bff6(0x45b)]='',_0x28ef9c[_0x18bff6(0x457)][_0x18bff6(0xd11)](_0x18bff6(0x845)),_0x4ff131[_0x18bff6(0xb0c)]='AI\x20กำลังสร้างแบบทดสอบ\x20\x22'+_0x4d826a+_0x18bff6(0x7f0)+_0x398baf+_0x18bff6(0xe74);try{const _0xaa46b2=_0x18bff6(0x7e5),_0x16179c=_0x18bff6(0x347)+_0x4d826a+_0x18bff6(0xec0)+_0x398baf+_0x18bff6(0xe29)+_0x4d826a+'\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20'+_0x398baf+_0x18bff6(0xf39)+_0x30ede7+_0x18bff6(0x417)+_0x29813e+_0x18bff6(0x2fb)+_0x4d0208+_0x18bff6(0x5c8)+_0xaa46b2+_0x18bff6(0xab1)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xfe0ddb={'type':_0x18bff6(0xd94),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x18bff6(0xa29),'items':_0x119e1d}},'required':[_0x18bff6(0x6b2),_0x18bff6(0x99c)]},_0x334ba8=[{'text':_0x16179c},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x334ba8,_0x18bff6(0x958)+_0x4d826a+_0x18bff6(0x4de),_0xfe0ddb);}catch(_0x15d251){console[_0x18bff6(0xd5b)]('Error\x20generating\x20hybrid\x20quiz:',_0x15d251),showMessage(_0x18bff6(0x5ee)+_0x15d251['message']),_0x1c69f3[_0x18bff6(0x45b)]=_0x18bff6(0x9dc);}finally{_0x28ef9c[_0x18bff6(0x457)][_0x18bff6(0xea1)]('hidden');}}async function handleGenerateFromFileClick(){const _0x54cd67=_0x4247b4;if(!selectedFile){showMessage(_0x54cd67(0xae7));return;}const _0x4730f=document[_0x54cd67(0x7c7)](_0x54cd67(0xbbe)),_0x39d89a=document[_0x54cd67(0x7c7)]('loader-text'),_0x3f81c1=document[_0x54cd67(0x7c7)](_0x54cd67(0x318)),_0x3c10a2=document['getElementById'](_0x54cd67(0x412));_0x3c10a2[_0x54cd67(0x766)]=!![],document[_0x54cd67(0x7c7)](_0x54cd67(0xb5f))[_0x54cd67(0x457)][_0x54cd67(0xd11)](_0x54cd67(0x845)),_0x3f81c1[_0x54cd67(0x45b)]='',_0x4730f[_0x54cd67(0x457)]['remove'](_0x54cd67(0x845)),_0x39d89a[_0x54cd67(0xb0c)]='กำลังอ่านและเตรียมไฟล์...';try{const _0x4d4e29=await new Promise((_0x69fd3c,_0x5b049c)=>{const _0x28635a=_0x54cd67,_0x1e6514=new FileReader();_0x1e6514[_0x28635a(0x6d9)](selectedFile),_0x1e6514[_0x28635a(0xdca)]=()=>_0x69fd3c(_0x1e6514[_0x28635a(0xbc0)][_0x28635a(0x4c6)](',')[0x1]),_0x1e6514[_0x28635a(0xabb)]=_0x176a1d=>_0x5b049c(_0x176a1d);});await generateQuizFromFile(selectedFile[_0x54cd67(0x31f)],_0x4d4e29);}catch(_0x1077d1){console[_0x54cd67(0xd5b)]('Error\x20processing\x20file\x20for\x20AI:',_0x1077d1),showMessage('เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20'+_0x1077d1[_0x54cd67(0x725)]),_0x4730f[_0x54cd67(0x457)][_0x54cd67(0xea1)](_0x54cd67(0x845)),_0x3c10a2['disabled']=![];}}function autoFormatMath(_0x279a51){const _0x240344=_0x4247b4;if(typeof _0x279a51!==_0x240344(0x428)||!_0x279a51)return _0x279a51;const _0x323c13=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x48316f=_0x279a51[_0x240344(0x663)](_0x323c13,_0x5076a4=>{const _0x19edb2=_0x240344;return'$'+_0x5076a4[_0x19edb2(0xba3)]()+'$';});return _0x48316f;}function sanitizeQuizData(_0x2aacdf){const _0xcd31fc=_0x4247b4;if(!_0x2aacdf||!_0x2aacdf[_0xcd31fc(0x99c)])return _0x2aacdf;const _0x4691f0=_0x1ea8ec=>{const _0x30895f=_0xcd31fc;if(typeof _0x1ea8ec!==_0x30895f(0x428))return _0x1ea8ec;let _0x2cceb9=_0x1ea8ec;_0x2cceb9=_0x2cceb9[_0x30895f(0x663)](/\\\(/g,'$')['replace'](/\\\)/g,'$'),_0x2cceb9=_0x2cceb9[_0x30895f(0x663)](/\\\[/g,'$$')['replace'](/\\\]/g,'$$'),_0x2cceb9=_0x2cceb9[_0x30895f(0x663)](/\\?imes\b/g,_0x30895f(0x621));const _0x2e6e1d=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div|\\cdot)\s*\d+(\.\d+)?|(\\frac\{.+?\}\{.+?\})|(\\sqrt\{.+?\})|(\\text\{.+?\})|(\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;return _0x2cceb9=_0x2cceb9[_0x30895f(0x663)](_0x2e6e1d,_0x3f5a71=>{const _0x23bdcf=_0x30895f;return'$'+_0x3f5a71[_0x23bdcf(0xba3)]()+'$';}),_0x2cceb9;};return _0x2aacdf[_0xcd31fc(0x6b2)]&&(_0x2aacdf[_0xcd31fc(0x6b2)]=_0x4691f0(_0x2aacdf['topic'])),_0x2aacdf[_0xcd31fc(0x99c)][_0xcd31fc(0x9fb)](_0x533ae8=>{const _0x2da19a=_0xcd31fc;_0x533ae8[_0x2da19a(0x303)]=_0x4691f0(_0x533ae8[_0x2da19a(0x303)]),_0x533ae8['stem']=_0x4691f0(_0x533ae8[_0x2da19a(0x203)]),_0x533ae8[_0x2da19a(0xb84)]&&(_0x533ae8[_0x2da19a(0xb84)]=_0x533ae8[_0x2da19a(0xb84)][_0x2da19a(0xdeb)](_0x2e7b2b=>_0x4691f0(_0x2e7b2b))),_0x533ae8[_0x2da19a(0x30b)]&&(_0x533ae8['explanation']=_0x4691f0(_0x533ae8[_0x2da19a(0x30b)])),_0x533ae8[_0x2da19a(0x36d)]&&(_0x533ae8['correctResponse']=_0x4691f0(_0x533ae8[_0x2da19a(0x36d)])),_0x533ae8[_0x2da19a(0x5b2)]&&(_0x533ae8[_0x2da19a(0x5b2)]=_0x533ae8[_0x2da19a(0x5b2)][_0x2da19a(0xdeb)](_0x4aa044=>_0x4691f0(_0x4aa044))),_0x533ae8[_0x2da19a(0x325)]&&(_0x533ae8[_0x2da19a(0x325)]=_0x4691f0(_0x533ae8[_0x2da19a(0x325)]));}),_0x2aacdf;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x3d22d0=_0x4247b4,_0x4d6687=document[_0x3d22d0(0x7c7)](_0x3d22d0(0xe5a)),_0x2aabe6=document[_0x3d22d0(0x7c7)](_0x3d22d0(0x92b)),_0x4fb57f=_0x4d6687[_0x3d22d0(0xc66)][_0x3d22d0(0xba3)](),_0x9b2e95=_0x2aabe6[_0x3d22d0(0xc66)][_0x3d22d0(0xba3)]();if(!_0x4fb57f){showMessage(_0x3d22d0(0x623));return;}const _0x52a251=document['getElementById']('loader'),_0x292155=document[_0x3d22d0(0x7c7)](_0x3d22d0(0xe8b)),_0x4a4ae4=document[_0x3d22d0(0x7c7)](_0x3d22d0(0x318)),_0x29a451=document[_0x3d22d0(0x7c7)](_0x3d22d0(0x59b));document[_0x3d22d0(0x7c7)](_0x3d22d0(0xb5f))[_0x3d22d0(0x457)]['remove'](_0x3d22d0(0x845)),_0x4a4ae4[_0x3d22d0(0x45b)]='',_0x52a251['classList'][_0x3d22d0(0xd11)](_0x3d22d0(0x845)),_0x292155[_0x3d22d0(0xb0c)]='กำลังดึงข้อมูลจากลิงก์...',_0x29a451[_0x3d22d0(0x766)]=!![];try{const _0x538785=_0x3d22d0(0xe70)+encodeURIComponent(_0x4fb57f),_0x2e270b=await fetch(_0x538785);if(!_0x2e270b['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x2e270b[_0x3d22d0(0x55e)]+')');const _0x5ac31f=await _0x2e270b[_0x3d22d0(0x9d1)](),_0x45c189=extractTextFromHtml(_0x5ac31f);if(!_0x45c189||_0x45c189[_0x3d22d0(0x2d2)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x9b2e95,_0x45c189);}catch(_0x426b5c){console[_0x3d22d0(0xd5b)](_0x3d22d0(0x9e2),_0x426b5c),showMessage(_0x3d22d0(0x5ee)+_0x426b5c[_0x3d22d0(0x725)]),_0x4a4ae4[_0x3d22d0(0x45b)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x52a251[_0x3d22d0(0x457)][_0x3d22d0(0xea1)]('hidden'),_0x29a451[_0x3d22d0(0x766)]=![];}}function extractTextFromHtml(_0x3ceb37){const _0x30ef35=_0x4247b4,_0x4ca443=new DOMParser()[_0x30ef35(0xac7)](_0x3ceb37,_0x30ef35(0x469));return _0x4ca443['querySelectorAll'](_0x30ef35(0x410))[_0x30ef35(0x9fb)](_0x2a06b1=>_0x2a06b1[_0x30ef35(0xd11)]()),_0x4ca443[_0x30ef35(0x24c)][_0x30ef35(0xb0c)]||'';}document[_0x4247b4(0x7c7)](_0x4247b4(0xecf))[_0x4247b4(0xf03)](_0x4247b4(0x2f0),()=>{const _0x4d606f=_0x4247b4,_0x118f28=document[_0x4d606f(0x7c7)](_0x4d606f(0x83a))[_0x4d606f(0xc66)][_0x4d606f(0xba3)]();generateQuiz(_0x118f28,null);}),document[_0x4247b4(0x7c7)](_0x4247b4(0x35e))[_0x4247b4(0xf03)](_0x4247b4(0x2f0),()=>{const _0xb8e381=_0x4247b4,_0x294eb5=document[_0xb8e381(0x7c7)](_0xb8e381(0x693))[_0xb8e381(0xc66)][_0xb8e381(0xba3)]();if(!_0x294eb5){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x201676=document['getElementById']('topic-input')[_0xb8e381(0xc66)][_0xb8e381(0xba3)]();generateQuiz(_0x201676,_0x294eb5);});async function generateQuiz(_0x188165,_0xadf8eb,_0x3bbe2d=null,_0x1fef73=null,_0x3aa5b0=![],_0x3e79db=null,_0x5505ef=null,_0x4eae78=![]){const _0x2aa3ad=_0x4247b4;let _0x19e0e5={};if(_0x3aa5b0&&blueprintPageSettings)_0x19e0e5=blueprintPageSettings;else{const _0x2ea7fb=document[_0x2aa3ad(0xf52)]('#math-topics-checkbox-container\x20input:checked');_0x19e0e5={'quizType':document[_0x2aa3ad(0x7c7)]('quiz-type-select')['value'],'numQuestions':document[_0x2aa3ad(0x7c7)](_0x2aa3ad(0x7c2))[_0x2aa3ad(0xc66)],'numChoices':document['getElementById']('num-choices')['value'],'includeImages':document[_0x2aa3ad(0x7c7)](_0x2aa3ad(0x8fa))[_0x2aa3ad(0xa20)],'isNormalTopic':document[_0x2aa3ad(0x7c7)](_0x2aa3ad(0xcf2))[_0x2aa3ad(0xa20)],'difficultyValue':document['getElementById'](_0x2aa3ad(0xa88))['value'],'complexityValue':document[_0x2aa3ad(0x7c7)](_0x2aa3ad(0x5b4))[_0x2aa3ad(0xc66)],'selectedTopicNames':Array['from'](_0x2ea7fb)[_0x2aa3ad(0xdeb)](_0x3dd060=>_0x3dd060[_0x2aa3ad(0xc66)])};}const _0x51a508=_0x19e0e5[_0x2aa3ad(0x70a)]?'':_0x2aa3ad(0x84b),_0x760715=_0x19e0e5['difficultyValue']!=='auto'?_0x2aa3ad(0x6cf)+_0x19e0e5[_0x2aa3ad(0x3f5)]+'\x22':'',_0x280bd0=_0x19e0e5[_0x2aa3ad(0x8c8)]!==_0x2aa3ad(0xeef)?_0x2aa3ad(0x6ce)+_0x19e0e5[_0x2aa3ad(0x8c8)]+_0x2aa3ad(0xe16):'';let _0x2b2115='';_0x19e0e5[_0x2aa3ad(0x9bc)]&&_0x19e0e5[_0x2aa3ad(0x9bc)]['length']>0x0&&(_0x2b2115=_0x2aa3ad(0x929)+_0x19e0e5[_0x2aa3ad(0x9bc)][_0x2aa3ad(0x94c)](',\x20')+'.');let _0x203b75='';_0x1fef73&&(_0x203b75=_0x2aa3ad(0x369));let _0x495b52='',_0x468f7c='',_0xf12866,_0x10c127=_0x2aa3ad(0x820)+_0x188165+'\x22';if(!_0x188165&&_0xadf8eb)_0x10c127=_0x2aa3ad(0xbad);else!_0x188165&&!_0xadf8eb&&(_0x10c127=_0x2aa3ad(0x27e));const _0x35cd00={'type':_0x2aa3ad(0xd94),'properties':{'questionText':{'type':_0x2aa3ad(0xaf4)},'options':{'type':_0x2aa3ad(0xa29),'items':{'type':_0x2aa3ad(0xaf4)}},'correctAnswerIndex':{'type':_0x2aa3ad(0xe62)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2aa3ad(0xaf4)}},'required':[_0x2aa3ad(0x303),'options','correctAnswerIndex',_0x2aa3ad(0x30b)]},_0x5949d6={'type':_0x2aa3ad(0xd94),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x2aa3ad(0xaf4)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2aa3ad(0xaf4)}},'required':[_0x2aa3ad(0x303),_0x2aa3ad(0x325),_0x2aa3ad(0x30b)]},_0x4b8bdd={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2aa3ad(0xaf4),'enum':[_0x2aa3ad(0x7fe),_0x2aa3ad(0xf11)]},'options':{'type':_0x2aa3ad(0xa29),'items':{'type':_0x2aa3ad(0xaf4)}},'correctAnswerIndex':{'type':_0x2aa3ad(0xe62)},'idealAnswer':{'type':_0x2aa3ad(0xaf4)},'explanation':{'type':_0x2aa3ad(0xaf4)},'imageCode':{'type':_0x2aa3ad(0xaf4)}},'required':['questionText','questionType',_0x2aa3ad(0x30b)]},_0x184c5e={'type':_0x2aa3ad(0xd94),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x2aa3ad(0xf67)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2aa3ad(0xaf4)}},'required':[_0x2aa3ad(0x303),_0x2aa3ad(0xd0d),_0x2aa3ad(0x30b)]},_0x35b3f1={'type':_0x2aa3ad(0xd94),'properties':{'questionType':{'type':'STRING','enum':[_0x2aa3ad(0x39f)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x2aa3ad(0xaf4)},'allResponses':{'type':_0x2aa3ad(0xa29),'items':{'type':_0x2aa3ad(0xaf4)}},'explanation':{'type':_0x2aa3ad(0xaf4)},'imageCode':{'type':_0x2aa3ad(0xaf4)}},'required':[_0x2aa3ad(0xf29),'stem',_0x2aa3ad(0x36d),'allResponses',_0x2aa3ad(0x30b)]};let _0x43da50;if(_0x3bbe2d!==null){const _0xd4df21=currentQuizData[_0x2aa3ad(0x99c)][_0x3bbe2d]['questionType'],_0xe28d4f=_0x19e0e5[_0x2aa3ad(0x5e7)]?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x495b52=_0x2aa3ad(0xef8)+_0x10c127+'\x20'+_0x2b2115+'\x20'+_0x760715+_0x2aa3ad(0x899)+_0xe28d4f+'\x20'+simpleMathPrompt;if(_0xd4df21===_0x2aa3ad(0x7fe))_0xf12866=_0x35cd00;else{if(_0xd4df21===_0x2aa3ad(0x39f))_0xf12866={'type':'OBJECT','properties':{'questionType':{'type':_0x2aa3ad(0xaf4),'enum':[_0x2aa3ad(0x39f)]},'stem':{'type':_0x2aa3ad(0xaf4)},'correctResponse':{'type':_0x2aa3ad(0xaf4)},'explanation':{'type':_0x2aa3ad(0xaf4)},'imageCode':{'type':'STRING'}},'required':[_0x2aa3ad(0xf29),_0x2aa3ad(0x203),'correctResponse',_0x2aa3ad(0x30b)]};else _0xf12866=_0x5949d6;}_0x43da50=_0xf12866;}else{const _0x25c5aa=_0x19e0e5['includeImages']?_0x2aa3ad(0xec3):'';switch(_0x19e0e5[_0x2aa3ad(0xa71)]){case'multiple_choice':const _0x5db693=_0x2aa3ad(0x861);_0x495b52=_0x2aa3ad(0xb5d)+_0x51a508+'\x20'+_0x19e0e5[_0x2aa3ad(0x5d5)]+_0x2aa3ad(0xecb)+_0x10c127+'\x20'+_0x2b2115+'\x20'+_0x760715+'\x20'+_0x280bd0+'\x20'+_0x203b75+_0x2aa3ad(0xeae)+_0x19e0e5[_0x2aa3ad(0x4b6)]+_0x2aa3ad(0x540)+_0x5db693+_0x2aa3ad(0xc32)+_0x25c5aa+'\x20'+simpleMathPrompt,_0xf12866=_0x35cd00;break;case'fill_in_with_choices':_0x495b52='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x51a508+'\x20'+_0x19e0e5[_0x2aa3ad(0x5d5)]+_0x2aa3ad(0xecb)+_0x10c127+'\x20'+_0x2b2115+'\x20'+_0x760715+'\x20'+_0x280bd0+'\x20'+_0x203b75+_0x2aa3ad(0xf59)+_0x19e0e5['numChoices']+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x25c5aa+'\x20'+simpleMathPrompt,_0xf12866=_0x35cd00;break;case'fill_in_no_choices':_0x495b52=_0x2aa3ad(0x768)+_0x51a508+'\x20'+_0x19e0e5[_0x2aa3ad(0x5d5)]+_0x2aa3ad(0xecb)+_0x10c127+'\x20'+_0x2b2115+'\x20'+_0x760715+'\x20'+_0x280bd0+'\x20'+_0x203b75+_0x2aa3ad(0xa0e)+_0x25c5aa+'\x20'+simpleMathPrompt,_0xf12866=_0x5949d6;break;case _0x2aa3ad(0xeef):_0x495b52='สร้างแบบทดสอบ'+_0x51a508+'\x20'+_0x19e0e5[_0x2aa3ad(0x5d5)]+_0x2aa3ad(0xecb)+_0x10c127+'\x20'+_0x2b2115+'\x20'+_0x760715+'\x20'+_0x280bd0+'\x20'+_0x203b75+_0x2aa3ad(0x84c)+_0x19e0e5[_0x2aa3ad(0x4b6)]+_0x2aa3ad(0x5be)+_0x25c5aa+'\x20'+simpleMathPrompt+'.',_0xf12866=_0x4b8bdd;break;case _0x2aa3ad(0x353):_0x495b52=_0x2aa3ad(0x5ad)+_0x51a508+'\x20'+_0x19e0e5[_0x2aa3ad(0x5d5)]+_0x2aa3ad(0xecb)+_0x10c127+'\x20'+_0x2b2115+'\x20'+_0x760715+'\x20'+_0x280bd0+'\x20'+_0x203b75+_0x2aa3ad(0x89c)+_0x25c5aa+'\x20'+simpleMathPrompt,_0xf12866=_0x184c5e;break;case _0x2aa3ad(0x57e):_0x495b52='สร้างชุดคำถามจับคู่'+_0x51a508+'\x20'+_0x19e0e5[_0x2aa3ad(0x5d5)]+_0x2aa3ad(0x20d)+_0x10c127+'\x20'+_0x2b2115+'\x20'+_0x760715+'\x20'+_0x280bd0+'\x20'+_0x203b75+_0x2aa3ad(0xe40)+_0x25c5aa+'\x20'+simpleMathPrompt,_0xf12866=_0x35b3f1;break;}_0x43da50={'type':_0x2aa3ad(0xd94),'properties':{'topic':{'type':_0x2aa3ad(0xaf4)},'questions':{'type':_0x2aa3ad(0xa29),'items':_0xf12866}},'required':[_0x2aa3ad(0x6b2),_0x2aa3ad(0x99c)]};}const _0x17d3dd=_0x2aa3ad(0x7cd);_0xadf8eb?(_0x4eae78?_0x495b52='จากเนื้อหาต่อไปนี้:\x20\x22'+_0xadf8eb+'\x22,\x20'+_0x495b52+_0x17d3dd:_0x495b52=_0x2aa3ad(0x813)+_0xadf8eb+_0x2aa3ad(0x1fc)+_0x495b52,_0x468f7c=_0x2aa3ad(0xe48)):(_0x4eae78&&(_0x495b52+=_0x17d3dd),_0x468f7c=_0x2aa3ad(0x637));let _0x153963;return _0x1fef73?(_0x153963=[{'text':_0x495b52},..._0x1fef73],_0x468f7c=_0x2aa3ad(0x737)):_0x153963=_0x495b52,handleApiCall(_0x153963,_0x468f7c,_0x43da50,_0x3bbe2d,!![],_0x3e79db,_0x5505ef);}async function generateQuizFromFile(_0x221e39,_0x393e7f){const _0x323779=_0x4247b4,_0x477834=document[_0x323779(0x7c7)]('file-topic-input')[_0x323779(0xc66)][_0x323779(0xba3)](),_0x57b0fd=document['getElementById']('quiz-type-select')[_0x323779(0xc66)],_0x3764d9=document[_0x323779(0x7c7)](_0x323779(0x7c2))[_0x323779(0xc66)],_0x15e769=document[_0x323779(0x7c7)](_0x323779(0xe3e))['value'],_0x16ef80=document[_0x323779(0x7c7)](_0x323779(0x8fa))[_0x323779(0xa20)],_0x40107c=document[_0x323779(0x7c7)](_0x323779(0xcf2))[_0x323779(0xa20)],_0x56fc32=_0x40107c?'':_0x323779(0x84b),_0x550092=document['getElementById'](_0x323779(0x661))[_0x323779(0xa20)];let _0x495150='',_0xdc0e98;const _0x583aae=_0x16ef80?_0x323779(0xec3):'';if(_0x550092)_0x495150=_0x323779(0xda8)+_0x583aae+'\x0a'+simpleMathPrompt+'\x0a',_0xdc0e98={'type':'OBJECT','properties':{'questionText':{'type':_0x323779(0xaf4)},'questionType':{'type':_0x323779(0xaf4),'enum':[_0x323779(0x7fe),_0x323779(0xf11),_0x323779(0x353),'matching_item']},'options':{'type':_0x323779(0xa29),'items':{'type':_0x323779(0xaf4)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x323779(0xf67)},'stem':{'type':_0x323779(0xaf4)},'correctResponse':{'type':_0x323779(0xaf4)},'allResponses':{'type':_0x323779(0xa29),'items':{'type':_0x323779(0xaf4)}},'explanation':{'type':_0x323779(0xaf4)},'imageCode':{'type':_0x323779(0xaf4)}},'required':['questionType',_0x323779(0x30b)]};else{let _0x4d9886='เกี่ยวกับหัวข้อ\x20\x22'+_0x477834+'\x22';!_0x477834&&(_0x4d9886=_0x323779(0x793));switch(_0x57b0fd){case _0x323779(0x7fe):const _0x14b80b=_0x323779(0x378);_0x495150='สร้างแบบทดสอบปรนัย'+_0x56fc32+'\x20'+_0x3764d9+_0x323779(0xecb)+_0x4d9886+_0x323779(0x3c1)+_0x15e769+_0x323779(0x390)+_0x14b80b+_0x323779(0x46a)+_0x583aae+'\x20'+simpleMathPrompt,_0xdc0e98={'type':_0x323779(0xd94),'properties':{'questionText':{'type':_0x323779(0xaf4)},'options':{'type':_0x323779(0xa29),'items':{'type':_0x323779(0xaf4)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x323779(0xaf4)}},'required':[_0x323779(0x303),_0x323779(0xb84),_0x323779(0xc6f),_0x323779(0x30b)]};break;case'fill_in_with_choices':_0x495150=_0x323779(0x768)+_0x56fc32+'\x20'+_0x3764d9+_0x323779(0xecb)+_0x4d9886+_0x323779(0xf59)+_0x15e769+_0x323779(0x3b7)+_0x583aae+'\x20'+simpleMathPrompt,_0xdc0e98={'type':_0x323779(0xd94),'properties':{'questionText':{'type':_0x323779(0xaf4)},'options':{'type':_0x323779(0xa29),'items':{'type':_0x323779(0xaf4)}},'correctAnswerIndex':{'type':_0x323779(0xe62)},'explanation':{'type':_0x323779(0xaf4)},'imageCode':{'type':_0x323779(0xaf4)}},'required':['questionText',_0x323779(0xb84),'correctAnswerIndex',_0x323779(0x30b)]};break;case _0x323779(0x437):_0x495150=_0x323779(0x768)+_0x56fc32+'\x20'+_0x3764d9+_0x323779(0xecb)+_0x4d9886+_0x323779(0x97f)+_0x583aae+'\x20'+simpleMathPrompt,_0xdc0e98={'type':_0x323779(0xd94),'properties':{'questionText':{'type':_0x323779(0xaf4)},'idealAnswer':{'type':_0x323779(0xaf4)},'explanation':{'type':_0x323779(0xaf4)},'imageCode':{'type':_0x323779(0xaf4)}},'required':[_0x323779(0x303),_0x323779(0x325),_0x323779(0x30b)]};break;case _0x323779(0xeef):_0x495150='สร้างแบบทดสอบ'+_0x56fc32+'\x20'+_0x3764d9+_0x323779(0xecb)+_0x4d9886+_0x323779(0x8e9)+_0x15e769+'\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20'+_0x583aae+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0xdc0e98={'type':_0x323779(0xd94),'properties':{'questionText':{'type':_0x323779(0xaf4)},'questionType':{'type':_0x323779(0xaf4),'enum':[_0x323779(0x7fe),_0x323779(0xf11)]},'options':{'type':'ARRAY','items':{'type':_0x323779(0xaf4)}},'correctAnswerIndex':{'type':_0x323779(0xe62)},'idealAnswer':{'type':_0x323779(0xaf4)},'explanation':{'type':_0x323779(0xaf4)},'imageCode':{'type':_0x323779(0xaf4)}},'required':['questionText',_0x323779(0xf29),_0x323779(0x30b)]};break;case'true_false':_0x495150='สร้างคำถามแบบใช่/ไม่ใช่'+_0x56fc32+'\x20'+_0x3764d9+_0x323779(0xecb)+_0x4d9886+_0x323779(0x27a)+_0x583aae+'\x20'+simpleMathPrompt,_0xdc0e98={'type':'OBJECT','properties':{'questionText':{'type':_0x323779(0xaf4)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x323779(0xaf4)}},'required':[_0x323779(0x303),_0x323779(0xd0d),_0x323779(0x30b)]};break;case'matching':_0x495150=_0x323779(0xc74)+_0x56fc32+'\x20'+_0x3764d9+_0x323779(0x20d)+_0x4d9886+_0x323779(0x965)+_0x3764d9+_0x323779(0xc8c)+_0x583aae+'\x20'+simpleMathPrompt,_0xdc0e98={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x323779(0x39f)]},'stem':{'type':_0x323779(0xaf4)},'correctResponse':{'type':_0x323779(0xaf4)},'allResponses':{'type':_0x323779(0xa29),'items':{'type':_0x323779(0xaf4)}},'explanation':{'type':_0x323779(0xaf4)},'imageCode':{'type':_0x323779(0xaf4)}},'required':[_0x323779(0xf29),'stem','correctResponse',_0x323779(0x5b2),_0x323779(0x30b)]};break;}}const _0x394f02={'type':_0x323779(0xd94),'properties':{'topic':{'type':_0x323779(0xaf4)},'questions':{'type':_0x323779(0xa29),'items':_0xdc0e98}},'required':[_0x323779(0x6b2),_0x323779(0x99c)]},_0x597a10='จากไฟล์ที่แนบมานี้,\x20'+_0x495150,_0x371068={'contents':[{'parts':[{'text':_0x597a10},{'inlineData':{'mimeType':_0x221e39,'data':_0x393e7f}}]}],'generationConfig':{'responseMimeType':_0x323779(0x368),'responseSchema':_0x394f02}};return handleApiCall(_0x371068[_0x323779(0x51c)][0x0][_0x323779(0x518)],_0x323779(0x9ad),_0x394f02);}async function handleApiCall(_0x395ce6,_0x1b2677,_0x31c8d8,_0x6195af=null,_0x531a06=!![],_0x5c8932=null,_0x259d2=null){const _0x2947e9=_0x4247b4,_0x52b78b=document[_0x2947e9(0x7c7)](_0x2947e9(0xb5f)),_0x4189f2=document[_0x2947e9(0x7c7)](_0x2947e9(0xbbe)),_0xe64381=document['getElementById'](_0x2947e9(0xe8b)),_0x44be00=document[_0x2947e9(0x7c7)](_0x2947e9(0x318));_0x52b78b['classList'][_0x2947e9(0xd11)](_0x2947e9(0x845));_0x6195af===null&&_0x531a06&&(_0x44be00[_0x2947e9(0x45b)]='');_0x4189f2[_0x2947e9(0x457)][_0x2947e9(0xd11)](_0x2947e9(0x845)),_0xe64381[_0x2947e9(0xb0c)]=_0x1b2677,document[_0x2947e9(0x7c7)](_0x2947e9(0xecf))[_0x2947e9(0x766)]=!![],document[_0x2947e9(0x7c7)](_0x2947e9(0x35e))[_0x2947e9(0x766)]=!![],document[_0x2947e9(0x7c7)](_0x2947e9(0x59b))[_0x2947e9(0x766)]=!![];const _0x26a331=document[_0x2947e9(0x7c7)](_0x2947e9(0x412));if(_0x26a331)_0x26a331[_0x2947e9(0x766)]=!![];const _0x5cce93=document[_0x2947e9(0x7c7)](_0x2947e9(0x6ad));if(_0x5cce93)_0x5cce93[_0x2947e9(0x766)]=!![];const _0x48b30a=document[_0x2947e9(0x7c7)](_0x2947e9(0x7cb));if(_0x48b30a)_0x48b30a[_0x2947e9(0x766)]=!![];try{const _0x3aeec9=Array[_0x2947e9(0xc7d)](_0x395ce6)?_0x395ce6:[{'text':_0x395ce6}],_0x4880a2={'contents':[{'role':_0x2947e9(0x466),'parts':_0x3aeec9}]};_0x31c8d8&&(_0x4880a2['generationConfig']={'responseMimeType':_0x2947e9(0x368),'responseSchema':_0x31c8d8});const _0x1fa73a=_0x2947e9(0xaa2),_0x3c2549=_0x2947e9(0x299)+_0x1fa73a,_0xb72e89=await fetch(_0x3c2549,{'method':_0x2947e9(0xddb),'headers':{'Content-Type':_0x2947e9(0x368)},'body':JSON[_0x2947e9(0xe71)](_0x4880a2)});if(!_0xb72e89['ok']){const _0x2daaa6=await _0xb72e89[_0x2947e9(0x9d1)]();console[_0x2947e9(0xd5b)]('API\x20Error\x20Response:',_0x2daaa6);throw new Error(_0x2947e9(0xd8b)+_0xb72e89['status']);}const _0x560428=await _0xb72e89[_0x2947e9(0xd4e)]();if(!_0x560428['candidates']||_0x560428['candidates'][_0x2947e9(0x2d2)]===0x0){let _0x2301df='AI\x20did\x20not\x20return\x20any\x20content.';return _0x560428[_0x2947e9(0xb2a)]?.['blockReason']&&(_0x2301df='Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20'+_0x560428['promptFeedback'][_0x2947e9(0x634)]+'.'),console[_0x2947e9(0xd5b)](_0x2301df,JSON[_0x2947e9(0xe71)](_0x560428)),null;}const _0x1ef7c2=_0x560428['candidates'][0x0][_0x2947e9(0x2e8)]['parts'][0x0]['text'];if(_0x31c8d8){let _0x125a7c=_0x1ef7c2;if(_0x125a7c['startsWith']('```json'))_0x125a7c=_0x125a7c[_0x2947e9(0x49d)](0x7,_0x125a7c[_0x2947e9(0x2d2)]-0x3)[_0x2947e9(0xba3)]();else _0x125a7c[_0x2947e9(0xc5b)](_0x2947e9(0x852))&&(_0x125a7c=_0x125a7c[_0x2947e9(0x49d)](0x3,_0x125a7c[_0x2947e9(0x2d2)]-0x3)[_0x2947e9(0xba3)]());let _0x52c8ee=JSON['parse'](_0x125a7c);if(_0x52c8ee[_0x2947e9(0x99c)]&&Array[_0x2947e9(0xc7d)](_0x52c8ee[_0x2947e9(0x99c)])){const _0x442194=_0x52c8ee[_0x2947e9(0x99c)][_0x2947e9(0x498)](_0x40f633=>_0x40f633[_0x2947e9(0xf29)]==='matching_item');if(_0x442194[_0x2947e9(0x2d2)]>0x1){const _0x4313d2=_0x442194[_0x2947e9(0xdeb)](_0x258294=>_0x258294[_0x2947e9(0x36d)])['filter'](_0x52de35=>_0x52de35&&_0x52de35[_0x2947e9(0xba3)]()!=='');shuffleArray(_0x4313d2),_0x442194[_0x2947e9(0x9fb)](_0x1a7036=>{_0x1a7036['allResponses']=[..._0x4313d2];}),console[_0x2947e9(0x799)](_0x2947e9(0xf4c),_0x4313d2);}}if(_0x531a06){if(_0x6195af!==null){if(currentEditingQuizData&&currentEditingQuizData['questions']){}}else currentQuizData=_0x52c8ee,displayGeneratedQuiz(currentQuizData,_0x5c8932,_0x259d2);}return _0x52c8ee;}else return _0x1ef7c2;}catch(_0x59e38f){console[_0x2947e9(0xd5b)]('Error\x20in\x20handleApiCall:',_0x59e38f),showMessage(_0x2947e9(0x678)+_0x59e38f[_0x2947e9(0x725)]);_0x531a06&&(_0x44be00[_0x2947e9(0x45b)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>');throw _0x59e38f;}finally{_0x4189f2['classList']['add'](_0x2947e9(0x845)),document['getElementById'](_0x2947e9(0xecf))[_0x2947e9(0x766)]=![],document[_0x2947e9(0x7c7)](_0x2947e9(0x35e))[_0x2947e9(0x766)]=![],document['getElementById'](_0x2947e9(0x59b))['disabled']=![];if(_0x26a331)_0x26a331[_0x2947e9(0x766)]=![];if(_0x5cce93)_0x5cce93[_0x2947e9(0x766)]=![];if(_0x48b30a)_0x48b30a[_0x2947e9(0x766)]=![];}}function exitFullscreen(){const _0x3a4bf3=_0x4247b4;if(document[_0x3a4bf3(0xa3e)])document[_0x3a4bf3(0xa3e)]()[_0x3a4bf3(0x242)](_0x1ddeec=>console[_0x3a4bf3(0xd5b)](_0x1ddeec));else{if(document['webkitExitFullscreen'])document[_0x3a4bf3(0xe56)]();else document['msExitFullscreen']&&document[_0x3a4bf3(0x772)]();}}function enterFullscreen(){const _0x4f2f28=_0x4247b4,_0x35e992=document[_0x4f2f28(0xa5a)];if(_0x35e992[_0x4f2f28(0x618)])_0x35e992[_0x4f2f28(0x618)]()['catch'](_0xf4b9ae=>{const _0x52404a=_0x4f2f28;console[_0x52404a(0xd5b)](_0x52404a(0x7e6)+_0xf4b9ae[_0x52404a(0x725)]+'\x20('+_0xf4b9ae[_0x52404a(0x689)]+')');});else{if(_0x35e992[_0x4f2f28(0x60c)])_0x35e992[_0x4f2f28(0x60c)]();else _0x35e992['msRequestFullscreen']&&_0x35e992[_0x4f2f28(0x7ad)]();}}function handleCheatingEvent(){const _0x3c7a23=_0x4247b4;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x3c7a23(0xec9),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x3c7a23(0x7c7)](_0x3c7a23(0xd52))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x3c7a23(0x808)](_0x3c7a23(0x962),handleVisibilityChange),document[_0x3c7a23(0x808)](_0x3c7a23(0xb43),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x4236c2=_0x4247b4;if(currentMode===_0x4236c2(0x3ab)||!isQuizActive)return;if(document[_0x4236c2(0x5d8)]==='hidden')handleCheatingEvent();else document['visibilityState']===_0x4236c2(0x26d)&&(console[_0x4236c2(0x799)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x20e5c3=_0x4247b4;if(currentMode===_0x20e5c3(0x3ab)||!isQuizActive)return;!document[_0x20e5c3(0xa56)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x56389b,_0x4d8eac=null,_0x2540e5=null){const _0x21b8d8=_0x4247b4,_0x4caeb3=document['getElementById'](_0x21b8d8(0x318));let _0x43be74=_0x21b8d8(0x78e)+_0x56389b[_0x21b8d8(0x6b2)]+_0x21b8d8(0x49e);_0x56389b['questions'][_0x21b8d8(0x9fb)]((_0x424d17,_0x1787fa)=>{const _0x8a80dc=_0x21b8d8;!_0x424d17['id']&&(_0x424d17['id']='q_'+Date['now']()+'_'+_0x1787fa);const _0x174555=_0x424d17['questionType']||_0x56389b['quizType'];_0x43be74+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x1787fa+_0x8a80dc(0xb7c)+_0x1787fa+_0x8a80dc(0x6dc)+_0x1787fa+_0x8a80dc(0xdfc);_0x174555==='matching_item'?_0x43be74+=_0x8a80dc(0x47e)+_0x1787fa+'\x22>'+(_0x1787fa+0x1)+'.\x20'+_0x424d17[_0x8a80dc(0x203)]+_0x8a80dc(0x2fc):_0x43be74+=_0x8a80dc(0x47e)+_0x1787fa+'\x22>'+(_0x1787fa+0x1)+'.\x20'+_0x424d17[_0x8a80dc(0x303)]+_0x8a80dc(0x2fc);_0x424d17[_0x8a80dc(0x601)]&&(_0x43be74+='<div\x20id=\x22q-image-container-'+_0x1787fa+_0x8a80dc(0xd9d)+_0x424d17[_0x8a80dc(0x601)]+_0x8a80dc(0x745));if(_0x424d17[_0x8a80dc(0xb84)]&&Array[_0x8a80dc(0xc7d)](_0x424d17['options'])&&_0x424d17[_0x8a80dc(0xb84)][_0x8a80dc(0x2d2)]>0x0)_0x43be74+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x1787fa+_0x8a80dc(0xdd7)+_0x424d17[_0x8a80dc(0xb84)][_0x8a80dc(0xdeb)]((_0x479d8c,_0x7b4e46)=>_0x8a80dc(0xae2)+(_0x7b4e46===_0x424d17[_0x8a80dc(0xc6f)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x479d8c+_0x8a80dc(0x98a))[_0x8a80dc(0x94c)]('')+_0x8a80dc(0x2d5);else{if(_0x174555==='matching_item'||_0x424d17[_0x8a80dc(0x36d)])_0x43be74+=_0x8a80dc(0x508)+_0x1787fa+'\x22>'+_0x424d17['correctResponse']+_0x8a80dc(0x8bf);else{if(_0x174555===_0x8a80dc(0x353)||typeof _0x424d17[_0x8a80dc(0xd0d)]===_0x8a80dc(0xe73))_0x43be74+=_0x8a80dc(0x45c)+(_0x424d17[_0x8a80dc(0xd0d)]===!![]?_0x8a80dc(0xba8):'')+_0x8a80dc(0xd59)+(_0x424d17[_0x8a80dc(0xd0d)]===![]?_0x8a80dc(0xba8):'')+_0x8a80dc(0xd26);else _0x424d17[_0x8a80dc(0x325)]?_0x43be74+=_0x8a80dc(0x37d)+_0x1787fa+'\x22>'+_0x424d17[_0x8a80dc(0x325)]+_0x8a80dc(0x8bf):_0x43be74+=_0x8a80dc(0x8fd);}}_0x43be74+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x1787fa+'\x22>'+_0x424d17[_0x8a80dc(0x30b)]+_0x8a80dc(0x8bf),_0x43be74+=_0x8a80dc(0x745);}),_0x43be74+=_0x21b8d8(0xb64),_0x4caeb3['innerHTML']=_0x43be74,document[_0x21b8d8(0xf52)](_0x21b8d8(0x90e))[_0x21b8d8(0x9fb)](_0x3eed12=>_0x3eed12['addEventListener']('click',handleEditQuestion)),document['querySelectorAll'](_0x21b8d8(0x25f))[_0x21b8d8(0x9fb)](_0x1deac2=>_0x1deac2[_0x21b8d8(0xf03)]('click',handleRegenerateQuestion)),document[_0x21b8d8(0x7c7)]('export-worksheet-pdf-btn')[_0x21b8d8(0xf03)](_0x21b8d8(0x2f0),exportQuizAsWorksheetPDF),document[_0x21b8d8(0x7c7)](_0x21b8d8(0x401))[_0x21b8d8(0xf03)](_0x21b8d8(0x2f0),handleVerifyAnswers);const _0x1f052c=document['getElementById'](_0x21b8d8(0xb1f));if(_0x1f052c){const _0xac7eba=_0x4d8eac||currentProjectId;_0x1f052c[_0x21b8d8(0xf03)](_0x21b8d8(0x2f0),()=>saveQuiz(_0xac7eba,_0x2540e5));}if(window[_0x21b8d8(0x872)])window[_0x21b8d8(0x872)][_0x21b8d8(0xecc)]([_0x4caeb3]);}function handleRegenerateQuestion(_0x1cfa05){const _0x467ff0=_0x4247b4,_0x4ee5e8=_0x1cfa05[_0x467ff0(0x98d)][_0x467ff0(0xefd)]['index'],_0x4b888b=currentQuizData[_0x467ff0(0x6b2)];showMessage(_0x467ff0(0xb6a)+(parseInt(_0x4ee5e8)+0x1)+'\x20ใหม่...'),generateQuiz(_0x4b888b,null,parseInt(_0x4ee5e8));}function getPointerPosition(_0x8fbe9,_0x25fbc3){const _0x370993=_0x4247b4,_0x4fad8e=_0x8fbe9[_0x370993(0x6e7)]();let _0x35eb15,_0x2993ef;return _0x25fbc3[_0x370993(0x7dd)]&&_0x25fbc3[_0x370993(0x7dd)][_0x370993(0x2d2)]>0x0?(_0x35eb15=_0x25fbc3[_0x370993(0x7dd)][0x0][_0x370993(0x307)],_0x2993ef=_0x25fbc3[_0x370993(0x7dd)][0x0][_0x370993(0x6d7)]):(_0x35eb15=_0x25fbc3[_0x370993(0x307)],_0x2993ef=_0x25fbc3[_0x370993(0x6d7)]),{'x':(_0x35eb15-_0x4fad8e['e'])/_0x4fad8e['a'],'y':(_0x2993ef-_0x4fad8e['f'])/_0x4fad8e['d']};}function startDrag(_0x312f48){const _0x23b249=_0x4247b4;_0x312f48[_0x23b249(0x31f)]===_0x23b249(0x8b9)&&_0x312f48[_0x23b249(0x375)]();const _0x40bdd8=_0x312f48[_0x23b249(0xcbd)][_0x23b249(0x5bf)]('.draggable-text');if(_0x40bdd8){draggedSvgElement=_0x40bdd8;const _0x2bd6bb=draggedSvgElement[_0x23b249(0x483)],_0x215e61=getPointerPosition(_0x2bd6bb,_0x312f48);svgOffset['x']=_0x215e61['x']-parseFloat(draggedSvgElement[_0x23b249(0xc15)](null,'x')),svgOffset['y']=_0x215e61['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0xefe71d,_0x3c1a97){const _0x5d8e3e=_0x4247b4,_0x6e56ff={};if(_0x3c1a97[_0x5d8e3e(0x2d2)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x32a906=[..._0x3c1a97][_0x5d8e3e(0x994)]((_0x3edb6e,_0x13dc82)=>{const _0x3aa57e=_0x5d8e3e,_0x2b3417=_0x13dc82['latestScore']-_0x3edb6e[_0x3aa57e(0x889)];if(_0x2b3417!==0x0)return _0x2b3417;const _0x516eee=_0x3edb6e[_0x3aa57e(0x4d6)]?.[_0x3aa57e(0x2d2)]||0x1,_0x34493b=_0x13dc82[_0x3aa57e(0x4d6)]?.[_0x3aa57e(0x2d2)]||0x1,_0x3649af=_0x516eee-_0x34493b;if(_0x3649af!==0x0)return _0x3649af;const _0x130a29=new Date(_0x3edb6e['latestSubmittedAt']),_0x2d283a=new Date(_0x13dc82[_0x3aa57e(0x9cb)]),_0x94e109=_0x130a29-_0x2d283a;if(_0x94e109!==0x0)return _0x94e109;return _0x3edb6e[_0x3aa57e(0x27f)][_0x3aa57e(0x460)](_0x13dc82[_0x3aa57e(0x27f)],'th');}),_0x13aa65=_0x32a906['length'],_0x1f8406=Math[_0x5d8e3e(0x839)](0x1,Math[_0x5d8e3e(0xcb1)](_0x13aa65*0.33));if(_0x1f8406===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x1bc311=_0x32a906[_0x5d8e3e(0x68d)](0x0,_0x1f8406),_0x4eec49=_0x32a906[_0x5d8e3e(0x68d)](-_0x1f8406),_0x345649=_0x1bc311['map'](_0x355853=>_0x355853['studentName']),_0x53b34a=_0x4eec49['map'](_0x39f62b=>_0x39f62b[_0x5d8e3e(0x27f)]);return _0xefe71d[_0x5d8e3e(0x99c)][_0x5d8e3e(0x9fb)]((_0x5f37a4,_0x466d57)=>{const _0x2f3844=_0x5d8e3e,_0x52e060=_0x5f37a4['stem']||_0x5f37a4['questionText'];let _0x9772fb=0x0,_0x212af6=0x0,_0x1c3361=0x0;const _0x1dc7f3=[],_0x2c4f8d=[];_0x1bc311['forEach'](_0x3a0366=>{const _0x2df10f=_0xc03a,_0x2cd2ae=_0x3a0366['attempts'][_0x3a0366[_0x2df10f(0x4d6)][_0x2df10f(0x2d2)]-0x1],_0x59ffb4=_0x2cd2ae[_0x2df10f(0xa92)]['find'](_0x2b2caf=>_0x2b2caf['originalQuestionText']===_0x52e060);_0x1dc7f3[_0x2df10f(0x82f)]({'name':_0x3a0366['studentName'],'isCorrect':_0x59ffb4?_0x59ffb4['isCorrect']:![]}),_0x59ffb4&&_0x59ffb4[_0x2df10f(0x697)]&&_0x212af6++;}),_0x4eec49[_0x2f3844(0x9fb)](_0x160150=>{const _0x5219b3=_0x2f3844,_0x504507=_0x160150[_0x5219b3(0x4d6)][_0x160150['attempts'][_0x5219b3(0x2d2)]-0x1],_0x2fece1=_0x504507[_0x5219b3(0xa92)][_0x5219b3(0x787)](_0x152c0d=>_0x152c0d['originalQuestionText']===_0x52e060);_0x2c4f8d[_0x5219b3(0x82f)]({'name':_0x160150['studentName'],'isCorrect':_0x2fece1?_0x2fece1[_0x5219b3(0x697)]:![]}),_0x2fece1&&_0x2fece1['isCorrect']&&_0x1c3361++;}),_0x3c1a97[_0x2f3844(0x9fb)](_0x1c6ca9=>{const _0x277cbf=_0x2f3844,_0x2e4e0b=_0x1c6ca9[_0x277cbf(0x4d6)][_0x1c6ca9[_0x277cbf(0x4d6)]['length']-0x1],_0x46b2cf=_0x2e4e0b[_0x277cbf(0xa92)][_0x277cbf(0x787)](_0x41272e=>_0x41272e[_0x277cbf(0x881)]===_0x52e060);_0x46b2cf&&_0x46b2cf[_0x277cbf(0x697)]&&_0x9772fb++;});const _0x1ed6a2=_0x13aa65>0x0?_0x9772fb/_0x13aa65:0x0,_0x14e9ab=_0x1f8406>0x0?_0x212af6/_0x1f8406-_0x1c3361/_0x1f8406:0x0;_0x6e56ff[_0x466d57]={'p':_0x1ed6a2,'r':_0x14e9ab,'upperGroupResponders':_0x1dc7f3,'lowerGroupResponders':_0x2c4f8d};}),{'perQuestionStats':_0x6e56ff,'overallGroups':{'upperGroupNames':_0x345649,'lowerGroupNames':_0x53b34a}};}function drag(_0x579ba7){const _0x1bfdf3=_0x4247b4;if(draggedSvgElement){_0x579ba7['preventDefault']();const _0x57c1f3=draggedSvgElement['ownerSVGElement'],_0x2bfbb6=getPointerPosition(_0x57c1f3,_0x579ba7),_0x2ca694=_0x57c1f3[_0x1bfdf3(0xda6)]['baseVal'];let _0x2fab9f=_0x2bfbb6['x']-svgOffset['x'],_0x2da96d=_0x2bfbb6['y']-svgOffset['y'];const _0x584589=draggedSvgElement[_0x1bfdf3(0xbfe)]();_0x2fab9f=Math[_0x1bfdf3(0x839)](_0x2ca694['x'],Math[_0x1bfdf3(0x443)](_0x2fab9f,_0x2ca694['x']+_0x2ca694[_0x1bfdf3(0x895)]-_0x584589[_0x1bfdf3(0x895)])),_0x2da96d=Math[_0x1bfdf3(0x839)](_0x2ca694['y'],Math[_0x1bfdf3(0x443)](_0x2da96d,_0x2ca694['y']+_0x2ca694[_0x1bfdf3(0x625)]-_0x584589[_0x1bfdf3(0x625)])),draggedSvgElement[_0x1bfdf3(0xf13)](null,'x',_0x2fab9f),draggedSvgElement[_0x1bfdf3(0xf13)](null,'y',_0x2da96d);}}function endDrag(_0x37af55){draggedSvgElement=null;}function handleSvgEditClick(_0x17e748){const _0x2b07c0=_0x4247b4;if(_0x17e748[_0x2b07c0(0xcbd)][_0x2b07c0(0x457)][_0x2b07c0(0xcc7)](_0x2b07c0(0xb69))){const _0x1dd396=_0x17e748[_0x2b07c0(0xcbd)][_0x2b07c0(0xefd)]['targetId'],_0x146520=_0x17e748['currentTarget'],_0x1f334e=_0x146520[_0x2b07c0(0x79b)]('#'+_0x1dd396);_0x1f334e&&_0x1f334e[_0x2b07c0(0xd11)](),_0x17e748['target'][_0x2b07c0(0xd11)]();}}function handleEditQuestion(_0x4b5615){const _0x563baf=_0x4247b4,_0x3cf1d1=_0x4b5615['currentTarget'],_0x333c90=_0x3cf1d1[_0x563baf(0xefd)]['index'],_0x13dc1f=currentQuizData[_0x563baf(0x99c)][_0x333c90],_0x21fece=document[_0x563baf(0x7c7)](_0x563baf(0xe9f)+_0x333c90),_0xa853ca=document['getElementById'](_0x563baf(0x4fb)+_0x333c90),_0xe1a950=document['getElementById'](_0x563baf(0xdba)+_0x333c90);if(_0x3cf1d1[_0x563baf(0x45b)][_0x563baf(0xba0)](_0x563baf(0x9c0))){_0x3cf1d1[_0x563baf(0x45b)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x3cf1d1[_0x563baf(0xcdb)]=_0x563baf(0x360);if(_0x21fece)_0x21fece[_0x563baf(0xc58)]=!![];if(_0xa853ca)_0xa853ca[_0x563baf(0xc58)]=!![];if(_0xe1a950){const _0x45389d=_0xe1a950['querySelector']('svg');if(_0x45389d){const _0x340808=_0x45389d[_0x563baf(0xf52)](_0x563baf(0x9d1));_0x340808[_0x563baf(0x9fb)]((_0x39ee8a,_0x2e3370)=>{const _0x30110b=_0x563baf,_0x233b19=_0x30110b(0x906)+_0x333c90+'-'+_0x2e3370;_0x39ee8a['id']=_0x233b19,_0x39ee8a[_0x30110b(0x457)]['add'](_0x30110b(0x6a9)),_0x39ee8a['style'][_0x30110b(0xcee)]='move';const _0x363655=document[_0x30110b(0xed9)](_0x30110b(0xf04),_0x30110b(0x283)),_0x4af68d=_0x39ee8a[_0x30110b(0xbfe)]();_0x363655[_0x30110b(0xc90)]('cx',String(_0x4af68d['x']+_0x4af68d[_0x30110b(0x895)]+0x5)),_0x363655[_0x30110b(0xc90)]('cy',String(_0x4af68d['y']+_0x4af68d[_0x30110b(0x625)]/0x2-0x5)),_0x363655[_0x30110b(0xc90)]('r','5'),_0x363655[_0x30110b(0xc90)](_0x30110b(0x833),_0x30110b(0x474)),_0x363655[_0x30110b(0xc90)](_0x30110b(0x987),_0x30110b(0xb69)),_0x363655[_0x30110b(0xefd)][_0x30110b(0xa41)]=_0x233b19,_0x39ee8a['after'](_0x363655);}),_0x45389d[_0x563baf(0xf03)](_0x563baf(0xd41),startDrag),_0x45389d[_0x563baf(0xf03)]('mousemove',drag),_0x45389d['addEventListener']('mouseup',endDrag),_0x45389d[_0x563baf(0xf03)](_0x563baf(0xea6),endDrag),_0x45389d['addEventListener'](_0x563baf(0x8b9),startDrag,{'passive':![]}),_0x45389d[_0x563baf(0xf03)]('touchmove',drag,{'passive':![]}),_0x45389d['addEventListener']('touchend',endDrag),_0x45389d['addEventListener'](_0x563baf(0xed6),endDrag),_0x45389d[_0x563baf(0xf03)](_0x563baf(0x2f0),handleSvgEditClick);}}if(_0x21fece)_0x21fece['focus']();}else{_0x3cf1d1['innerHTML']='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x3cf1d1[_0x563baf(0xcdb)]=_0x563baf(0x986);if(_0x21fece){_0x21fece[_0x563baf(0xc58)]=![];const _0x3ac80f=_0x13dc1f['questionType']||currentQuizData[_0x563baf(0xa71)];_0x3ac80f==='matching_item'?_0x13dc1f[_0x563baf(0x203)]=_0x21fece[_0x563baf(0x8e3)]['substring'](_0x21fece[_0x563baf(0x8e3)][_0x563baf(0x6a2)]('.')+0x2)['trim']():_0x13dc1f[_0x563baf(0x303)]=_0x21fece[_0x563baf(0x8e3)]['substring'](_0x21fece[_0x563baf(0x8e3)][_0x563baf(0x6a2)]('.')+0x2)['trim']();}_0xa853ca&&(_0xa853ca['contentEditable']=![],_0x13dc1f[_0x563baf(0x30b)]=_0xa853ca[_0x563baf(0x8e3)]);if(_0xe1a950){const _0x2215e8=_0xe1a950['querySelector'](_0x563baf(0x5ff));if(_0x2215e8){const _0x6a3af0=_0x2215e8[_0x563baf(0xcb4)](!![]);_0x6a3af0[_0x563baf(0xf52)](_0x563baf(0x9d4))[_0x563baf(0x9fb)](_0x574519=>_0x574519[_0x563baf(0xd11)]()),_0x6a3af0['querySelectorAll'](_0x563baf(0xcc1))[_0x563baf(0x9fb)](_0x4f4213=>{const _0x22b2ae=_0x563baf;_0x4f4213['classList']['remove'](_0x22b2ae(0x6a9)),_0x4f4213[_0x22b2ae(0x4e3)][_0x22b2ae(0xcee)]=_0x22b2ae(0xc10),_0x4f4213[_0x22b2ae(0xa0d)]('id');}),_0x13dc1f[_0x563baf(0x601)]=_0x6a3af0[_0x563baf(0x60f)],_0x2215e8['removeEventListener'](_0x563baf(0xd41),startDrag),_0x2215e8[_0x563baf(0x808)](_0x563baf(0xedd),drag),_0x2215e8[_0x563baf(0x808)]('mouseup',endDrag),_0x2215e8[_0x563baf(0x808)](_0x563baf(0xea6),endDrag),_0x2215e8[_0x563baf(0x808)](_0x563baf(0x8b9),startDrag),_0x2215e8[_0x563baf(0x808)](_0x563baf(0x9e3),drag),_0x2215e8[_0x563baf(0x808)](_0x563baf(0xe95),endDrag),_0x2215e8[_0x563baf(0x808)]('touchcancel',endDrag),_0x2215e8[_0x563baf(0x808)]('click',handleSvgEditClick),_0x2215e8[_0x563baf(0xf52)](_0x563baf(0x9d4))['forEach'](_0x571ec9=>_0x571ec9[_0x563baf(0xd11)]()),_0x2215e8[_0x563baf(0xf52)](_0x563baf(0xcc1))[_0x563baf(0x9fb)](_0x3bc768=>{const _0xfc5b3f=_0x563baf;_0x3bc768['classList'][_0xfc5b3f(0xd11)](_0xfc5b3f(0x6a9)),_0x3bc768['style'][_0xfc5b3f(0xcee)]=_0xfc5b3f(0xc10);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x6153ae){const _0x2f913a=_0x4247b4,_0x1910b3=document[_0x2f913a(0x7c7)](_0x2f913a(0x1e8)),_0x27de5c=document['getElementById'](_0x2f913a(0xf80));_0x27de5c[_0x2f913a(0x45b)]=_0x2f913a(0x30e),_0x1910b3[_0x2f913a(0x457)][_0x2f913a(0xd11)](_0x2f913a(0x845));try{const _0x3f32bb=doc(db,_0x2f913a(0x2b7)+appId+_0x2f913a(0xa8b),_0x6153ae),_0x3ec132=await getDoc(_0x3f32bb);if(!_0x3ec132[_0x2f913a(0x971)]())throw new Error(_0x2f913a(0x289));currentEditingQuizData={'id':_0x6153ae,..._0x3ec132[_0x2f913a(0xb86)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x5347da){console['error'](_0x2f913a(0xe3d),_0x5347da),showMessage(_0x2f913a(0x22d)),_0x1910b3['classList'][_0x2f913a(0xea1)](_0x2f913a(0x845));}}function renderQuizEditor(_0x57905d){const _0x5b962a=_0x4247b4;document[_0x5b962a(0x7c7)](_0x5b962a(0x810))[_0x5b962a(0xc66)]=_0x57905d[_0x5b962a(0x6b2)];const _0x16bbee=document[_0x5b962a(0x7c7)]('quiz-editor-questions-container');let _0x3692c4=_0x57905d[_0x5b962a(0x99c)][_0x5b962a(0xdeb)]((_0x24f5f4,_0x21cf8a)=>{const _0x4b30e=_0x5b962a;let _0x1196a1='';const _0x4f6df1=_0x24f5f4['questionType']||_0x57905d[_0x4b30e(0xa71)],_0x4b2b71=(_0x4f6df1===_0x4b30e(0xf11)||_0x4f6df1==='fill_in_no_choices')&&_0x24f5f4[_0x4b30e(0xb84)]&&_0x24f5f4['options'][_0x4b30e(0x2d2)]>0x0;switch(_0x4f6df1){case _0x4b30e(0x7fe):const _0x3a919c=(_0x24f5f4[_0x4b30e(0xb84)]||[])[_0x4b30e(0xdeb)]((_0x3d9981,_0x1356ba)=>_0x4b30e(0x5e3)+_0x21cf8a+'\x22\x20value=\x22'+_0x1356ba+'\x22\x20'+(_0x1356ba===_0x24f5f4[_0x4b30e(0xc6f)]?'checked':'')+_0x4b30e(0x473)+_0x3d9981+_0x4b30e(0xc72))['join']('');_0x1196a1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x3a919c+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4b30e(0x437):case _0x4b30e(0xf11):_0x1196a1=_0x4b30e(0x52e)+(_0x24f5f4[_0x4b30e(0x325)]||'')+_0x4b30e(0xd5f);if(_0x4b2b71){const _0x1c5946=(_0x24f5f4['options']||[])[_0x4b30e(0xdeb)]((_0x46541a,_0x46ea52)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20opacity-75\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22hidden-correct-answer-'+_0x21cf8a+_0x4b30e(0x40d)+_0x46ea52+'\x22\x20'+(_0x46ea52===_0x24f5f4[_0x4b30e(0xc6f)]?'checked':'')+_0x4b30e(0x69e)+_0x46541a+_0x4b30e(0x645))[_0x4b30e(0x94c)]('');_0x1196a1+=_0x4b30e(0xf3c)+_0x1c5946+_0x4b30e(0x7f9);}break;case'true_false':_0x1196a1=_0x4b30e(0xe5e)+_0x21cf8a+'\x22\x20value=\x22true\x22\x20'+(_0x24f5f4['correctAnswer']===!![]?_0x4b30e(0xa20):'')+_0x4b30e(0x4f9)+_0x21cf8a+'\x22\x20value=\x22false\x22\x20'+(_0x24f5f4[_0x4b30e(0xd0d)]===![]?_0x4b30e(0xa20):'')+_0x4b30e(0xcb8);break;case _0x4b30e(0x39f):_0x1196a1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x24f5f4[_0x4b30e(0x36d)]||'')+_0x4b30e(0x2f3);break;}let _0x451c49=_0x24f5f4['questionText']||_0x24f5f4[_0x4b30e(0x203)]||'';_0x451c49=_0x451c49[_0x4b30e(0x663)](/<br\s*\/?>/gi,'\x0a');let _0x2a7804='';if(_0x4f6df1===_0x4b30e(0x7fe))_0x2a7804=_0x4b30e(0x5a8);else _0x4b2b71&&(_0x2a7804=_0x4b30e(0x562));return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x21cf8a+_0x4b30e(0x851)+_0x4f6df1+_0x4b30e(0x4d8)+_0x2a7804+_0x4b30e(0x721)+(_0x21cf8a+0x1)+'\x20('+_0x4f6df1+_0x4b30e(0xbdc)+_0x451c49+'</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x1196a1+_0x4b30e(0x605);})[_0x5b962a(0x94c)]('');_0x16bbee[_0x5b962a(0x45b)]=_0x3692c4;const _0x7e4862='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x20items-center\x20gap-2\x20p-4\x20bg-gray-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x22>เพิ่มข้อใหม่แบบ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22new-question-type-select\x22\x20class=\x22p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22multiple_choice\x22>ปรนัย\x20(4\x20ตัวเลือก)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22short_answer\x22>เติมคำ\x20(พิมพ์ตอบ)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22true_false\x22>ถูก/ผิด</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22matching_item\x22>จับคู่</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x20เพิ่ม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x16bbee['insertAdjacentHTML'](_0x5b962a(0x2b4),_0x7e4862),_0x16bbee['querySelectorAll'](_0x5b962a(0x3b4))[_0x5b962a(0x9fb)](_0x39ae3a=>{const _0x10a1c2=_0x5b962a;_0x39ae3a[_0x10a1c2(0x4e3)][_0x10a1c2(0xd2f)]=_0x10a1c2(0x845),_0x39ae3a[_0x10a1c2(0x4e3)][_0x10a1c2(0x539)]=_0x10a1c2(0xc0b),_0x39ae3a[_0x10a1c2(0xb58)]=0x4;const _0x9a2c4b=()=>{const _0x1905e7=_0x10a1c2;_0x39ae3a[_0x1905e7(0x4e3)][_0x1905e7(0x625)]=_0x1905e7(0x3f4),_0x39ae3a[_0x1905e7(0x4e3)][_0x1905e7(0x625)]=_0x39ae3a[_0x1905e7(0xe4c)]+'px';};_0x39ae3a[_0x10a1c2(0xf03)](_0x10a1c2(0xbe2),_0x9a2c4b),_0x9a2c4b();}),_0x16bbee[_0x5b962a(0xf52)](_0x5b962a(0x9d0))[_0x5b962a(0x9fb)](_0x3f24c7=>{const _0x45aa75=_0x5b962a;_0x3f24c7[_0x45aa75(0xf03)](_0x45aa75(0x2f0),handleAiFixQuestion);}),_0x16bbee[_0x5b962a(0xf52)](_0x5b962a(0xa0b))[_0x5b962a(0x9fb)](_0x4206a5=>{const _0x42f7c8=_0x5b962a;_0x4206a5[_0x42f7c8(0xf03)](_0x42f7c8(0x2f0),_0x3674c8=>{const _0x3cb4ef=_0x42f7c8,_0x23c899=parseInt(_0x3674c8['currentTarget']['closest'](_0x3cb4ef(0xb9e))[_0x3cb4ef(0xefd)][_0x3cb4ef(0xdc2)],0xa);handleAiFixFormula(_0x23c899);});}),_0x16bbee[_0x5b962a(0xf52)](_0x5b962a(0x34d))['forEach'](_0x304326=>{const _0x67c5d=_0x5b962a;_0x304326['addEventListener'](_0x67c5d(0x2f0),_0x14a8d7=>{const _0x5905af=_0x67c5d,_0x169039=parseInt(_0x14a8d7[_0x5905af(0x98d)][_0x5905af(0x5bf)](_0x5905af(0xb9e))[_0x5905af(0xefd)][_0x5905af(0xdc2)],0xa);handleToggleHiddenOptions(_0x169039);});});}function handleToggleHiddenOptions(_0x57ac01){const _0x21f33e=_0x4247b4;if(!currentEditingQuizData||!currentEditingQuizData[_0x21f33e(0x99c)][_0x57ac01])return;const _0x513d52=currentEditingQuizData[_0x21f33e(0x99c)][_0x57ac01],_0x19321e=_0x513d52['questionType']||_0x21f33e(0x7fe),_0x5adaca=document[_0x21f33e(0x79b)](_0x21f33e(0x795)+_0x57ac01+'\x22]');if(_0x5adaca){_0x513d52[_0x21f33e(0x303)]=_0x5adaca[_0x21f33e(0x79b)]('textarea')['value'];if(_0x19321e===_0x21f33e(0x7fe)){const _0x15dd6a=_0x5adaca[_0x21f33e(0xf52)]('.option-input');_0x513d52['options']=Array[_0x21f33e(0x901)](_0x15dd6a)['map'](_0x33ec18=>_0x33ec18['value']);const _0x78d546=_0x5adaca['querySelector']('input[type=\x22radio\x22]:checked');if(_0x78d546)_0x513d52[_0x21f33e(0xc6f)]=parseInt(_0x78d546[_0x21f33e(0xc66)]);}else{if(_0x19321e==='short_answer'||_0x19321e===_0x21f33e(0x437)){const _0x251b5d=_0x5adaca['querySelector'](_0x21f33e(0xc48));if(_0x251b5d)_0x513d52[_0x21f33e(0x325)]=_0x251b5d[_0x21f33e(0xc66)];const _0x140da0=_0x5adaca[_0x21f33e(0xf52)](_0x21f33e(0x80c));_0x140da0['length']>0x0&&(_0x513d52[_0x21f33e(0xb84)]=Array[_0x21f33e(0x901)](_0x140da0)['map'](_0x4bab7d=>_0x4bab7d[_0x21f33e(0xc66)]));}}}_0x19321e===_0x21f33e(0x7fe)?(_0x513d52['questionType']='short_answer',_0x513d52[_0x21f33e(0xb84)]&&_0x513d52[_0x21f33e(0xc6f)]!==undefined&&(_0x513d52['idealAnswer']=_0x513d52['options'][_0x513d52[_0x21f33e(0xc6f)]]||'')):_0x513d52[_0x21f33e(0xf29)]='multiple_choice',renderQuizEditor(currentEditingQuizData);}function handleDeleteQuestionInEditor(_0x477459){const _0x2d0afc=_0x4247b4;if(!currentEditingQuizData||!currentEditingQuizData[_0x2d0afc(0x99c)][_0x477459])return;const _0x3f11b9=currentEditingQuizData[_0x2d0afc(0x99c)][_0x477459][_0x2d0afc(0x303)]||currentEditingQuizData['questions'][_0x477459]['stem'];showConfirmation(_0x2d0afc(0x1fe)+(_0x477459+0x1)+_0x2d0afc(0xe75)+_0x3f11b9[_0x2d0afc(0x49d)](0x0,0x14)+_0x2d0afc(0x81c),()=>{const _0x1a859c=_0x2d0afc;currentEditingQuizData[_0x1a859c(0x99c)][_0x1a859c(0x85c)](_0x477459,0x1),renderQuizEditor(currentEditingQuizData),showMessage('ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)');});}function handleAddQuestionInEditor(){const _0x56e62d=_0x4247b4;if(!currentEditingQuizData)return;const _0x5df1a6=document[_0x56e62d(0x7c7)]('new-question-type-select'),_0x5e7076=_0x5df1a6?_0x5df1a6[_0x56e62d(0xc66)]:_0x56e62d(0x7fe);let _0x159d57={'id':'q_'+Date[_0x56e62d(0x5f5)]()+'_new','questionType':_0x5e7076,'questionText':_0x56e62d(0xe78),'explanation':'คำอธิบาย...'};switch(_0x5e7076){case _0x56e62d(0x7fe):_0x159d57['options']=[_0x56e62d(0xd3c),_0x56e62d(0xd33),_0x56e62d(0x435),_0x56e62d(0xaf1)],_0x159d57[_0x56e62d(0xc6f)]=0x0;break;case _0x56e62d(0xf11):case _0x56e62d(0x437):_0x159d57['idealAnswer']=_0x56e62d(0x227);break;case _0x56e62d(0x353):_0x159d57['correctAnswer']=!![];break;case _0x56e62d(0x39f):_0x159d57[_0x56e62d(0x203)]=_0x56e62d(0x294),_0x159d57[_0x56e62d(0x36d)]=_0x56e62d(0x9b3),_0x159d57[_0x56e62d(0x303)]=_0x56e62d(0x294);break;}currentEditingQuizData[_0x56e62d(0x99c)][_0x56e62d(0x82f)](_0x159d57),renderQuizEditor(currentEditingQuizData),setTimeout(()=>{const _0x26337d=_0x56e62d,_0x50cda4=document['querySelector'](_0x26337d(0x783));if(_0x50cda4){_0x50cda4['scrollIntoView']({'behavior':_0x26337d(0xb5e),'block':_0x26337d(0x87e)});const _0x5c0f56=_0x50cda4[_0x26337d(0x79b)](_0x26337d(0x39e));if(_0x5c0f56)_0x5c0f56[_0x26337d(0x667)]();}},0x64);}async function handleAiFixQuestion(_0x11f400){const _0x2a7d59=_0x4247b4,_0x3112a6=_0x11f400[_0x2a7d59(0x98d)],_0x29509a=_0x3112a6[_0x2a7d59(0x5bf)](_0x2a7d59(0xb9e));if(!_0x29509a)return;const _0x29b2f9=parseInt(_0x29509a['dataset'][_0x2a7d59(0xdc2)],0xa);if(isNaN(_0x29b2f9)||!currentEditingQuizData[_0x2a7d59(0x99c)][_0x29b2f9]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x33d1c6=currentEditingQuizData[_0x2a7d59(0x99c)][_0x29b2f9];_0x3112a6['innerHTML']=_0x2a7d59(0xe7e),_0x3112a6[_0x2a7d59(0x766)]=!![];const _0x43b13c=_0x2a7d59(0xe42)+JSON[_0x2a7d59(0xe71)](_0x33d1c6)+_0x2a7d59(0x6aa);let _0x4933e7;const _0x1416ed=_0x33d1c6[_0x2a7d59(0xf29)]||currentEditingQuizData['quizType'];switch(_0x1416ed){case _0x2a7d59(0xf11):_0x4933e7={'type':_0x2a7d59(0xd94),'properties':{'questionText':{'type':_0x2a7d59(0xaf4)},'idealAnswer':{'type':_0x2a7d59(0xaf4)},'explanation':{'type':_0x2a7d59(0xaf4)},'imageCode':{'type':_0x2a7d59(0xaf4)}},'required':[_0x2a7d59(0x303),_0x2a7d59(0x325),_0x2a7d59(0x30b)]};break;case'multiple_choice':default:_0x4933e7={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x2a7d59(0xaf4)}},'correctAnswerIndex':{'type':_0x2a7d59(0xe62)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2a7d59(0xaf4)}},'required':[_0x2a7d59(0x303),_0x2a7d59(0xb84),_0x2a7d59(0xc6f),_0x2a7d59(0x30b)]};break;}try{let _0x4e827d=await callAnalysisApi(_0x43b13c,_0x4933e7);_0x4e827d[_0x2a7d59(0xb84)]&&Array['isArray'](_0x4e827d[_0x2a7d59(0xb84)])&&(_0x4e827d[_0x2a7d59(0xb84)]=_0x4e827d[_0x2a7d59(0xb84)][_0x2a7d59(0xdeb)](_0x4a558b=>typeof _0x4a558b===_0x2a7d59(0x428)?_0x4a558b[_0x2a7d59(0x663)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x4a558b)),_0x33d1c6[_0x2a7d59(0x601)]&&_0x33d1c6[_0x2a7d59(0x601)]['includes']('fix\x20the\x20option')&&(_0x4e827d[_0x2a7d59(0x601)]=''),currentEditingQuizData[_0x2a7d59(0x99c)][_0x29b2f9]={..._0x33d1c6,..._0x4e827d},renderQuizEditor(currentEditingQuizData),showMessage(_0x2a7d59(0x66b));}catch(_0x161f42){console['error'](_0x2a7d59(0x98f),_0x161f42),showMessage(_0x2a7d59(0x86f)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x38e982=_0x4247b4,_0x5b0e33=document[_0x38e982(0x7c7)](_0x38e982(0x224));_0x5b0e33[_0x38e982(0x766)]=!![],_0x5b0e33[_0x38e982(0x45b)]=_0x38e982(0xe4e);try{const _0x389b6b=document[_0x38e982(0x7c7)](_0x38e982(0x810))[_0x38e982(0xc66)],_0x90bbac=document[_0x38e982(0xf52)](_0x38e982(0xb9e));let _0x509b44=[];const _0x1f60ff=Array[_0x38e982(0x901)](_0x90bbac)[_0x38e982(0xdeb)]((_0x599eac,_0x842ee7)=>{const _0x1c995c=_0x38e982,_0xec5784=_0x599eac[_0x1c995c(0xefd)][_0x1c995c(0xb06)],_0x17b286=_0x599eac['querySelector'](_0x1c995c(0x39e))[_0x1c995c(0xc66)][_0x1c995c(0x663)](/\n/g,_0x1c995c(0x873));let _0x360548={'questionType':_0xec5784};const _0x1b56fd=currentEditingQuizData[_0x1c995c(0x99c)][_0x842ee7]||{};switch(_0xec5784){case _0x1c995c(0x7fe):_0x360548[_0x1c995c(0x303)]=_0x17b286;const _0x2b9d6f=_0x599eac['querySelectorAll']('.option-input');_0x360548[_0x1c995c(0xb84)]=Array['from'](_0x2b9d6f)[_0x1c995c(0xdeb)](_0x894eec=>_0x894eec[_0x1c995c(0xc66)]);const _0x2e8ed7=_0x599eac[_0x1c995c(0x79b)](_0x1c995c(0x6f0));_0x360548['correctAnswerIndex']=_0x2e8ed7?parseInt(_0x2e8ed7[_0x1c995c(0xc66)]):0x0;break;case _0x1c995c(0x437):case'short_answer':_0x360548[_0x1c995c(0x303)]=_0x17b286,_0x360548[_0x1c995c(0x325)]=_0x599eac[_0x1c995c(0x79b)](_0x1c995c(0xc48))[_0x1c995c(0xc66)];const _0x24ddbf=_0x599eac['querySelectorAll']('.hidden-option-input');_0x24ddbf['length']>0x0?(_0x360548[_0x1c995c(0xb84)]=Array[_0x1c995c(0x901)](_0x24ddbf)[_0x1c995c(0xdeb)](_0x221634=>_0x221634[_0x1c995c(0xc66)]),_0x1b56fd[_0x1c995c(0xc6f)]!==undefined?_0x360548[_0x1c995c(0xc6f)]=_0x1b56fd['correctAnswerIndex']:_0x360548[_0x1c995c(0xc6f)]=0x0):(delete _0x360548[_0x1c995c(0xb84)],delete _0x360548['correctAnswerIndex']);break;case _0x1c995c(0x353):_0x360548[_0x1c995c(0x303)]=_0x17b286;const _0x36cf48=_0x599eac[_0x1c995c(0x79b)](_0x1c995c(0x6f0));_0x360548[_0x1c995c(0xd0d)]=_0x36cf48?_0x36cf48[_0x1c995c(0xc66)]==='true':!![];break;case'matching_item':_0x360548[_0x1c995c(0x203)]=_0x17b286;const _0x114a93=_0x599eac[_0x1c995c(0x79b)](_0x1c995c(0xe97));_0x360548[_0x1c995c(0x36d)]=_0x114a93?_0x114a93[_0x1c995c(0xc66)]:'',_0x509b44[_0x1c995c(0x82f)](_0x360548['correctResponse']);break;default:_0x360548[_0x1c995c(0x303)]=_0x17b286;break;}return{..._0x1b56fd,..._0x360548};});_0x509b44['length']>0x0&&_0x1f60ff[_0x38e982(0x9fb)](_0x390933=>{const _0x2745b5=_0x38e982;_0x390933[_0x2745b5(0xf29)]===_0x2745b5(0x39f)&&(_0x390933[_0x2745b5(0x5b2)]=_0x509b44);});const _0x6ef08c=currentEditingQuizData['id'],_0x35f28d=doc(db,_0x38e982(0x2b7)+appId+_0x38e982(0xa8b),_0x6ef08c);await updateDoc(_0x35f28d,{'topic':_0x389b6b,'questions':_0x1f60ff}),document[_0x38e982(0x7c7)]('quiz-editor-modal')[_0x38e982(0x457)][_0x38e982(0xea1)](_0x38e982(0x845)),showMessage(_0x38e982(0xf25),()=>initiateReGradeProcess(_0x6ef08c));}catch(_0x3dbfe9){console['error'](_0x38e982(0xb44),_0x3dbfe9),showMessage(_0x38e982(0x896));}finally{_0x5b0e33[_0x38e982(0x766)]=![],_0x5b0e33['innerHTML']=_0x38e982(0xe4b);}}async function initiateReGradeProcess(_0x34f52e){const _0x409ebe=_0x4247b4;showMessage(_0x409ebe(0xcd7));try{const _0x2f676c=doc(db,_0x409ebe(0x2b7)+appId+_0x409ebe(0xa8b),_0x34f52e),_0x47db68=await getDoc(_0x2f676c);if(!_0x47db68[_0x409ebe(0x971)]())throw new Error(_0x409ebe(0xef3));const _0x1aabeb={'id':_0x34f52e,..._0x47db68[_0x409ebe(0xb86)]()},_0x15177a=collection(db,_0x409ebe(0x2b7)+appId+_0x409ebe(0xa8b),_0x34f52e,_0x409ebe(0x8b7)),_0x333220=await getDocs(_0x15177a);if(_0x333220[_0x409ebe(0x3a6)]){showMessage(_0x409ebe(0x20b));return;}const _0x560567=_0x333220[_0x409ebe(0xd72)][_0x409ebe(0xdeb)](_0x4726f4=>reGradeSingleSubmission(_0x4726f4,_0x1aabeb));await Promise[_0x409ebe(0x8a9)](_0x560567);if(_0x1aabeb[_0x409ebe(0xf28)]){const _0x490070=doc(db,_0x409ebe(0x2b7)+appId+_0x409ebe(0xbcb),_0x1aabeb[_0x409ebe(0xf28)]),_0x55914e=await getDoc(_0x490070);if(_0x55914e[_0x409ebe(0x971)]()&&_0x55914e[_0x409ebe(0xb86)]()[_0x409ebe(0x97d)]){const _0x39d654=_0x55914e[_0x409ebe(0xb86)]()[_0x409ebe(0x97d)][_0x409ebe(0xdeb)](_0x5d4d11=>updateStudentProfile(_0x1aabeb[_0x409ebe(0xf28)],_0x5d4d11));await Promise[_0x409ebe(0x8a9)](_0x39d654);}}showMessage(_0x409ebe(0xd82)+_0x333220['size']+_0x409ebe(0xbfb));}catch(_0x45981a){console[_0x409ebe(0xd5b)](_0x409ebe(0xc52),_0x45981a),showMessage(_0x409ebe(0xbe5)+_0x45981a['message']);}}async function reGradeSingleSubmission(_0x273ef2,_0xd1913b){const _0x55dffe=_0x4247b4,_0x3fa93e=_0x273ef2['data'](),_0x420390=_0x3fa93e[_0x55dffe(0x27f)],_0xaf6143=_0x3fa93e[_0x55dffe(0x4d6)]||[],_0x4c444b=[];for(const _0x57f4bc of _0xaf6143){let _0x1ff955=0x0,_0x297f38=[],_0xea0d07=0x0;const _0x41d6c8=[];for(const _0x14d343 of _0x57f4bc['answers']){let _0x255f32;_0x14d343[_0x55dffe(0x9a4)]&&(_0x255f32=_0xd1913b[_0x55dffe(0x99c)][_0x55dffe(0x787)](_0x20bd60=>_0x20bd60['id']===_0x14d343['questionId']));!_0x255f32&&_0x14d343['originalQuestionText']&&(_0x255f32=_0xd1913b[_0x55dffe(0x99c)]['find'](_0xc9b7c2=>(_0xc9b7c2['stem']||_0xc9b7c2['questionText'])===_0x14d343['originalQuestionText']));let _0x27f2e1=![];if(_0x255f32){const _0x4f06c3=_0x255f32[_0x55dffe(0xf29)]||_0xd1913b[_0x55dffe(0xa71)];switch(_0x4f06c3){case _0x55dffe(0x7fe):if(_0x255f32['options']&&_0x255f32[_0x55dffe(0xc6f)]<_0x255f32['options'][_0x55dffe(0x2d2)]){const _0x421c28=_0x255f32[_0x55dffe(0xb84)][_0x255f32[_0x55dffe(0xc6f)]];_0x27f2e1=_0x14d343[_0x55dffe(0x720)]===_0x421c28;}break;case'true_false':const _0x467283=_0x14d343[_0x55dffe(0xa76)]===!![]||_0x14d343[_0x55dffe(0xa76)]===_0x55dffe(0x96f);_0x27f2e1=_0x467283===_0x255f32[_0x55dffe(0xd0d)];break;case _0x55dffe(0x39f):_0x27f2e1=_0x14d343['answer']===_0x255f32[_0x55dffe(0x36d)];break;case _0x55dffe(0xf11):_0x27f2e1=await gradeShortAnswer(_0x14d343['answer'],_0x255f32);break;default:_0x27f2e1=_0x14d343[_0x55dffe(0x697)];break;}}if(_0x27f2e1){_0x1ff955++,_0xea0d07++;if(_0xea0d07===0x3)_0x297f38[_0x55dffe(0x82f)](BADGES[_0x55dffe(0x5a3)]['id']);}else _0xea0d07=0x0;_0x41d6c8[_0x55dffe(0x82f)]({..._0x14d343,'isCorrect':_0x27f2e1});}let _0x2cd519=0x0;const _0x5bb935=_0x57f4bc[_0x55dffe(0x611)]===!![]||_0x57f4bc[_0x55dffe(0x254)]>_0xd1913b['questions']['length']*0x14;_0x5bb935?_0x2cd519=_0x57f4bc[_0x55dffe(0x254)]:(_0x2cd519=_0x1ff955*0xa,_0x1ff955===_0xd1913b[_0x55dffe(0x99c)][_0x55dffe(0x2d2)]&&(_0x2cd519+=0x32,_0x297f38[_0x55dffe(0x82f)](BADGES[_0x55dffe(0x2a4)]['id']))),_0x4c444b[_0x55dffe(0x82f)]({..._0x57f4bc,'score':_0x1ff955,'points':_0x2cd519,'badges':Array[_0x55dffe(0x901)](new Set(_0x297f38)),'answers':_0x41d6c8});}const _0x57de22=_0x4c444b[_0x55dffe(0x2d2)]>0x0?_0x4c444b[0x0]['score']:0x0,_0x1b8005=Math['max'](..._0x4c444b[_0x55dffe(0xdeb)](_0x39bcdc=>_0x39bcdc[_0x55dffe(0x494)])),_0x54e735=_0x4c444b[_0x55dffe(0x2d2)]>0x0?_0x4c444b[_0x4c444b[_0x55dffe(0x2d2)]-0x1]['score']:0x0,_0x2ca2fb=_0x4c444b[_0x55dffe(0x2d2)]>0x0?_0x4c444b[_0x4c444b[_0x55dffe(0x2d2)]-0x1][_0x55dffe(0x254)]:0x0,_0x5939c2=doc(db,_0x55dffe(0x2b7)+appId+_0x55dffe(0xbe9)+_0xd1913b['id']+_0x55dffe(0x746),_0x420390);await updateDoc(_0x5939c2,{'attempts':_0x4c444b,'firstScore':_0x57de22,'bestScore':_0x1b8005,'latestScore':_0x54e735,'points':_0x2ca2fb});}function cleanupQuizOptions(_0x4b3fc0){const _0x141d10=_0x4247b4,_0x24ce3b=(_0x3e3c9e,_0x321f84)=>_0x321f84===0x0?_0x3e3c9e:_0x24ce3b(_0x321f84,_0x3e3c9e%_0x321f84),_0x4482ee=_0x2bf474=>{const _0x155746=_0xc03a;if(typeof _0x2bf474!==_0x155746(0x428))return null;_0x2bf474=_0x2bf474['trim']();const _0x5632e0=_0x2bf474[_0x155746(0x4c6)](/[ /]/)['filter'](_0x2161e4=>_0x2161e4!=='');if(_0x5632e0[_0x155746(0x2d2)]===0x3)return parseInt(_0x5632e0[0x0])+parseInt(_0x5632e0[0x1])/parseInt(_0x5632e0[0x2]);else{if(_0x5632e0[_0x155746(0x2d2)]===0x2)return parseInt(_0x5632e0[0x0])/parseInt(_0x5632e0[0x1]);else{if(_0x5632e0[_0x155746(0x2d2)]===0x1&&!isNaN(_0x5632e0[0x0]))return parseFloat(_0x5632e0[0x0]);}}return null;},_0x2b097a=_0x119d25=>{const _0x280d21=_0xc03a;if(typeof _0x119d25!=='string')return _0x119d25;const _0x3869b1=_0x119d25[_0x280d21(0x403)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x3869b1){const _0x3977ed=parseInt(_0x3869b1[0x1]);let _0xb0fcf1=parseInt(_0x3869b1[0x2]),_0x5b1f03=parseInt(_0x3869b1[0x3]);const _0x1d18c0=_0x24ce3b(_0xb0fcf1,_0x5b1f03);_0xb0fcf1/=_0x1d18c0,_0x5b1f03/=_0x1d18c0;if(_0x5b1f03===0x1)return(_0x3977ed+_0xb0fcf1)['toString']();return _0x3977ed+'\x20'+_0xb0fcf1+'/'+_0x5b1f03;}return _0x119d25;};return _0x4b3fc0&&_0x4b3fc0[_0x141d10(0x99c)]&&_0x4b3fc0[_0x141d10(0x99c)][_0x141d10(0x9fb)](_0x5334ee=>{const _0x22b29f=_0x141d10;if(_0x5334ee[_0x22b29f(0xf29)]===_0x22b29f(0x7fe)&&_0x5334ee[_0x22b29f(0xb84)]){const _0x339a6b=new Map(),_0x5c0206=_0x5334ee[_0x22b29f(0xb84)][_0x5334ee[_0x22b29f(0xc6f)]];_0x5334ee[_0x22b29f(0xb84)][_0x22b29f(0x9fb)](_0x258a02=>{const _0x1c0d9a=_0x22b29f,_0x468372=_0x2b097a(_0x258a02),_0x4d7601=_0x4482ee(_0x468372);_0x4d7601!==null&&!_0x339a6b[_0x1c0d9a(0x6d2)](_0x4d7601)&&_0x339a6b['set'](_0x4d7601,_0x468372);}),_0x5334ee['options']=Array[_0x22b29f(0x901)](_0x339a6b[_0x22b29f(0x57b)]());const _0x18d266=_0x5334ee[_0x22b29f(0xb84)][_0x22b29f(0x82e)](_0x3cfbdd=>_0x3cfbdd===_0x2b097a(_0x5c0206));_0x5334ee[_0x22b29f(0xc6f)]=_0x18d266!==-0x1?_0x18d266:0x0;}}),_0x4b3fc0;}function showGameStartConfirmationModal(_0x46254a,_0x575c61,_0x149828){const _0x4477d3=_0x4247b4,_0x21eeb1=document[_0x4477d3(0x7c7)](_0x4477d3(0x2c6));document[_0x4477d3(0x7c7)](_0x4477d3(0x823))['textContent']=_0x4477d3(0x3f6)+_0x149828,document[_0x4477d3(0x7c7)]('game-start-quiz-id')[_0x4477d3(0xc66)]=_0x46254a,document[_0x4477d3(0x7c7)](_0x4477d3(0xce6))[_0x4477d3(0xc66)]=_0x575c61,document[_0x4477d3(0x7c7)](_0x4477d3(0x807))[_0x4477d3(0xa20)]=!![];const _0x371f4d=document[_0x4477d3(0x7c7)](_0x4477d3(0x4e9)),_0x15e4a2=document[_0x4477d3(0x7c7)](_0x4477d3(0x8fb)),_0xc8e263=document[_0x4477d3(0x7c7)](_0x4477d3(0xa00)),_0x494ce1=document['getElementById'](_0x4477d3(0xcd9)),_0x228fb4=document['getElementById'](_0x4477d3(0x6db));if(_0x575c61==='sync'){_0x371f4d[_0x4477d3(0x457)][_0x4477d3(0xd11)](_0x4477d3(0x845));const _0xd8a16d=_0x4477d3(0xd3a);document['querySelector'](_0x4477d3(0xf46)+_0xd8a16d+'\x22]')[_0x4477d3(0xa20)]=!![];if(_0x228fb4)_0x228fb4[_0x4477d3(0x457)]['remove'](_0x4477d3(0x845));_0x15e4a2['checked']=!![],_0xc8e263['classList'][_0x4477d3(0xd11)](_0x4477d3(0x845)),document[_0x4477d3(0x7c7)](_0x4477d3(0x53e))[_0x4477d3(0xc66)]='300',_0x494ce1['classList']['remove'](_0x4477d3(0x845)),document[_0x4477d3(0x7c7)](_0x4477d3(0xd4c))[_0x4477d3(0xa20)]=!![];}else{_0x371f4d[_0x4477d3(0x457)]['add'](_0x4477d3(0x845));if(_0x228fb4)_0x228fb4['classList'][_0x4477d3(0xea1)](_0x4477d3(0x845));_0x15e4a2['checked']=![],_0xc8e263['classList'][_0x4477d3(0xea1)]('hidden'),_0x494ce1['classList'][_0x4477d3(0xea1)](_0x4477d3(0x845));}_0x21eeb1['classList'][_0x4477d3(0xd11)](_0x4477d3(0x845));}async function saveGameResultsAsSubmissions(_0x42ec57){const _0x35903f=_0x4247b4;if(_0x42ec57['resultsSaved']){console[_0x35903f(0x799)](_0x35903f(0x1f6));return;}console[_0x35903f(0x799)](_0x35903f(0xe88),_0x42ec57);const _0x46ee52=_0x42ec57[_0x35903f(0x3d4)];let _0x3c23d9=[];if(_0x42ec57['players'])_0x3c23d9=Object[_0x35903f(0xb54)](_0x42ec57[_0x35903f(0x5fa)])[_0x35903f(0xdeb)](([_0x4b7a12,_0x19ac4a])=>({'name':_0x4b7a12,..._0x19ac4a}));else _0x42ec57[_0x35903f(0x97c)]&&Object[_0x35903f(0x57b)](_0x42ec57[_0x35903f(0x97c)])['forEach'](_0x3e8f53=>{const _0x34a71c=_0x35903f;_0x3e8f53[_0x34a71c(0x6f4)][_0x34a71c(0x9fb)](_0x2e78f2=>{const _0x310b82=_0x34a71c;_0x3c23d9[_0x310b82(0x82f)]({'name':_0x2e78f2,'score':_0x3e8f53['score'],'answers':_0x3e8f53['answers']});});});if(_0x3c23d9[_0x35903f(0x2d2)]===0x0)return;const _0x9d361c=_0x42ec57[_0x35903f(0xeb8)]?.['questions'][_0x35903f(0x2d2)]||currentQuizData[_0x35903f(0x99c)][_0x35903f(0x2d2)],_0x3cc0b8=writeBatch(db),_0x82b628=_0x42ec57[_0x35903f(0xeb8)]?.[_0x35903f(0xf28)]||currentQuizData?.[_0x35903f(0xf28)]||currentProjectId,_0x2cee8c={};for(const _0x437fef of _0x3c23d9){const _0x55087b=doc(db,'artifacts/'+appId+_0x35903f(0xbe9)+_0x46ee52+_0x35903f(0x746),_0x437fef['name']),_0x4bfafa=(_0x437fef['answers']||[])['filter'](_0x11ddb6=>_0x11ddb6[_0x35903f(0x697)])['length'];let _0x36e08b=_0x437fef['totalPoints']!==undefined?_0x437fef['totalPoints']:_0x4bfafa,_0x37d19c=_0x437fef[_0x35903f(0x365)]||[];if(_0x4bfafa===_0x9d361c&&_0x9d361c>0x0){if(!_0x37d19c[_0x35903f(0xba0)](_0x35903f(0x54c)))_0x37d19c['push'](_0x35903f(0x54c));}const _0x5fa236={'score':_0x4bfafa,'points':_0x36e08b,'badges':_0x37d19c,'submittedAt':new Date()['toISOString'](),'isSyncGame':!![],'answers':(_0x437fef[_0x35903f(0xa92)]||[])['map'](_0x41bce7=>({'questionId':_0x41bce7[_0x35903f(0x9a4)],'answer':_0x41bce7[_0x35903f(0xa76)],'answerText':_0x41bce7['answerText'],'isCorrect':_0x41bce7[_0x35903f(0x697)],'originalQuestionText':_0x41bce7[_0x35903f(0x881)],'wasConfident':_0x41bce7[_0x35903f(0x63b)],'powerupUsed':_0x41bce7['powerupUsed']||null}))},_0x51668a=await getDoc(_0x55087b),_0x545ffe=_0x51668a[_0x35903f(0x971)]()?_0x51668a[_0x35903f(0xb86)]():{},_0x427a9d=_0x545ffe[_0x35903f(0x254)]||0x0;let _0x153efa=0x0;_0x36e08b>_0x427a9d&&(_0x153efa=_0x36e08b-_0x427a9d);const _0x424cef={'studentName':_0x437fef[_0x35903f(0x689)],'totalQuestions':_0x9d361c,'attempts':arrayUnion(_0x5fa236),'latestScore':_0x4bfafa,'points':Math['max'](_0x427a9d,_0x36e08b),'latestSubmittedAt':_0x5fa236[_0x35903f(0x471)],'bestScore':Math['max'](_0x545ffe[_0x35903f(0x6c2)]||0x0,_0x4bfafa),'firstScore':_0x545ffe[_0x35903f(0xd5a)]!==undefined?_0x545ffe[_0x35903f(0xd5a)]:_0x4bfafa};_0x3cc0b8[_0x35903f(0x916)](_0x55087b,_0x424cef,{'merge':!![]}),_0x82b628&&(!_0x2cee8c[_0x437fef[_0x35903f(0x689)]]&&(_0x2cee8c[_0x437fef[_0x35903f(0x689)]]={'pointsToAdd':0x0,'badgesToAdd':[]}),_0x2cee8c[_0x437fef[_0x35903f(0x689)]][_0x35903f(0x503)]+=_0x153efa,_0x37d19c['forEach'](_0x5bc91b=>{const _0x5c8fe=_0x35903f;_0x2cee8c[_0x437fef[_0x5c8fe(0x689)]][_0x5c8fe(0xa81)][_0x5c8fe(0x82f)](_0x5bc91b);}));}if(_0x82b628)for(const [_0x41aded,_0x337878]of Object[_0x35903f(0xb54)](_0x2cee8c)){if(_0x337878[_0x35903f(0x503)]>0x0||_0x337878[_0x35903f(0xa81)]['length']>0x0){const _0x1ef8d1=doc(db,_0x35903f(0x2b7)+appId+'/public/data/projects/'+_0x82b628+_0x35903f(0x4b5),_0x41aded),_0x7e2ece={'studentName':_0x41aded,'totalPoints':increment(_0x337878[_0x35903f(0x503)])};_0x337878[_0x35903f(0xa81)]['forEach'](_0x2a8863=>{const _0x2a3b97=_0x35903f;_0x7e2ece[_0x2a3b97(0x9b5)+_0x2a8863]=increment(0x1);}),_0x3cc0b8[_0x35903f(0x916)](_0x1ef8d1,_0x7e2ece,{'merge':!![]});}}try{if(currentLiveGameId){const _0x4d97f6=doc(db,_0x35903f(0x2b7)+appId+'/public/data/syncGames',currentLiveGameId);_0x3cc0b8[_0x35903f(0x8f0)](_0x4d97f6,{'resultsSaved':!![]});}await _0x3cc0b8[_0x35903f(0xdcc)](),console['log'](_0x35903f(0xee4)),showMessage(_0x35903f(0xe4d));}catch(_0xa4b862){console[_0x35903f(0xd5b)](_0x35903f(0x914),_0xa4b862),showMessage('เกิดข้อผิดพลาดในการบันทึกผลคะแนน');}}async function saveQuiz(_0x55e2e7=null,_0x17ec4f=null){const _0x2e3cc0=_0x4247b4,_0x1bd186=_0x55e2e7||currentProjectId;if(!_0x1bd186){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x2e3cc0(0x99c)]||!userId){showMessage(_0x2e3cc0(0x5c0));return;}const _0x4e5b95=document['getElementById'](_0x2e3cc0(0xb1f));_0x4e5b95[_0x2e3cc0(0x766)]=!![],_0x4e5b95[_0x2e3cc0(0x45b)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x42bbdc=document[_0x2e3cc0(0x7c7)](_0x2e3cc0(0x8de))['checked'];let _0x12d364=document[_0x2e3cc0(0x7c7)](_0x2e3cc0(0xa08))['innerText'][_0x2e3cc0(0xba3)]();_0x42bbdc&&!_0x12d364[_0x2e3cc0(0xc5b)](_0x2e3cc0(0xb28))&&(_0x12d364=_0x2e3cc0(0x5b1)+_0x12d364);try{const _0xe7b6a5={'resultsDisplay':document['getElementById']('results-display-select')[_0x2e3cc0(0xc66)],'shuffle':document['getElementById'](_0x2e3cc0(0x989))['value'],'timerMode':document[_0x2e3cc0(0x7c7)]('timer-mode-select')[_0x2e3cc0(0xc66)],'timerDuration':parseInt(document[_0x2e3cc0(0x7c7)](_0x2e3cc0(0x2ab))[_0x2e3cc0(0xc66)])||0xa,'passingScore':parseInt(document['getElementById']('passing-score-input')[_0x2e3cc0(0xc66)])||0x0,'isAdaptive':document['getElementById'](_0x2e3cc0(0xe64))[_0x2e3cc0(0xa20)],'loopUntilPass':document[_0x2e3cc0(0x7c7)](_0x2e3cc0(0xf58))[_0x2e3cc0(0xa20)]},_0x3d6730=(currentQuizData[_0x2e3cc0(0x99c)]||[])[_0x2e3cc0(0xdeb)]((_0x284925,_0x26f379)=>{const _0x1c4b8a=_0x2e3cc0,_0xbe043f=document['getElementById'](_0x1c4b8a(0x7f3))[_0x1c4b8a(0xc66)],_0x4ea688={'id':'q_'+Date['now']()+'_'+_0x26f379,'questionText':_0x284925['questionText']||'','explanation':_0x284925[_0x1c4b8a(0x30b)]||_0x1c4b8a(0xcd4),'questionType':_0x284925[_0x1c4b8a(0xf29)]||_0xbe043f,'imageCode':_0x284925[_0x1c4b8a(0x601)]||null};return(_0x4ea688[_0x1c4b8a(0xf29)]===_0x1c4b8a(0x7fe)||_0x4ea688[_0x1c4b8a(0xf29)]===_0x1c4b8a(0x848)||_0x4ea688[_0x1c4b8a(0xf29)]===_0x1c4b8a(0xeef)&&_0x284925[_0x1c4b8a(0xb84)])&&(_0x4ea688['options']=_0x284925[_0x1c4b8a(0xb84)]||[],_0x4ea688[_0x1c4b8a(0xc6f)]=_0x284925['correctAnswerIndex']!==undefined?_0x284925['correctAnswerIndex']:0x0),(_0x4ea688[_0x1c4b8a(0xf29)]==='short_answer'||_0x4ea688['questionType']===_0x1c4b8a(0x437)||_0x4ea688[_0x1c4b8a(0xf29)]==='mixed'&&_0x284925[_0x1c4b8a(0x325)])&&(_0x4ea688[_0x1c4b8a(0x325)]=_0x284925[_0x1c4b8a(0x325)]||''),_0x4ea688['questionType']===_0x1c4b8a(0x353)&&(_0x4ea688[_0x1c4b8a(0xd0d)]=_0x284925[_0x1c4b8a(0xd0d)]===!![]),_0x4ea688[_0x1c4b8a(0xf29)]==='matching_item'&&(_0x4ea688[_0x1c4b8a(0x203)]=_0x284925['stem']||'',_0x4ea688[_0x1c4b8a(0x36d)]=_0x284925[_0x1c4b8a(0x36d)]||'',_0x4ea688[_0x1c4b8a(0x5b2)]=_0x284925[_0x1c4b8a(0x5b2)]||[]),_0x4ea688;}),_0x352dcb={'topic':_0x12d364,'quizType':currentQuizData['quizType']||'multiple_choice','questions':_0x3d6730,'projectId':_0x1bd186,'createdBy':userId,'createdAt':new Date()[_0x2e3cc0(0xf30)](),'status':_0x2e3cc0(0x3d0),'settings':_0xe7b6a5,'quizMode':_0x42bbdc?_0x2e3cc0(0xdc7):'standard','pairedQuizId':null,'lessonPlan':null};let _0x2ef439;while(!![]){_0x2ef439=Math['floor'](0x3e8+Math[_0x2e3cc0(0x724)]()*0x2328)[_0x2e3cc0(0x2cc)]();const _0x35371e=await getDoc(doc(db,_0x2e3cc0(0x2b7)+appId+_0x2e3cc0(0xa8b),_0x2ef439));if(!_0x35371e[_0x2e3cc0(0x971)]())break;}await setDoc(doc(db,_0x2e3cc0(0x2b7)+appId+_0x2e3cc0(0xa8b),_0x2ef439),_0x352dcb);if(_0x17ec4f&&currentBlueprintProjectId){console[_0x2e3cc0(0x799)]('Auto-linking\x20new\x20quiz\x20'+_0x2ef439+_0x2e3cc0(0x5cd)+_0x17ec4f);try{const _0x5ed0b5=doc(db,_0x2e3cc0(0x2b7)+appId+_0x2e3cc0(0x209),currentBlueprintProjectId);await updateDoc(_0x5ed0b5,{[_0x2e3cc0(0x9cf)+_0x17ec4f+'.linkedQuizIds']:arrayUnion(_0x2ef439)});}catch(_0x4744c2){console['error'](_0x2e3cc0(0xc33),_0x4744c2);}}currentQuizData['settings']=_0xe7b6a5,currentQuizData['id']=_0x2ef439;const _0x1bc745=document[_0x2e3cc0(0x7c7)](_0x2e3cc0(0xd2e));_0x1bc745[_0x2e3cc0(0x45b)]=_0x2e3cc0(0x3f9)+_0x2ef439+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document['getElementById']('copy-quiz-id-btn')[_0x2e3cc0(0xf03)](_0x2e3cc0(0x2f0),()=>copyTextToClipboard(_0x2ef439,'คัดลอกรหัสแล้ว!')),document[_0x2e3cc0(0x7c7)](_0x2e3cc0(0xce4))[_0x2e3cc0(0xf03)](_0x2e3cc0(0x2f0),()=>handleStartLiveRace(_0x2ef439)),document['getElementById'](_0x2e3cc0(0x998))[_0x2e3cc0(0xf03)]('click',()=>startPresentation(currentQuizData)),document['getElementById'](_0x2e3cc0(0x5de))[_0x2e3cc0(0xf03)]('click',startAdminTest),showMessage(_0x2e3cc0(0x3c4));}catch(_0x2276a8){console[_0x2e3cc0(0xd5b)](_0x2e3cc0(0x5e6),_0x2276a8),showMessage(_0x2e3cc0(0x90f));}finally{_0x4e5b95[_0x2e3cc0(0x766)]=![],_0x4e5b95['innerHTML']=_0x2e3cc0(0xdd2);}}function promptForProjectAndSave(){const _0xd3268e=_0x4247b4,_0x33f71e=document['getElementById']('move-quiz-modal'),_0x2e6582=document[_0xd3268e(0x7c7)](_0xd3268e(0x41d)),_0x4d5916=_0x33f71e[_0xd3268e(0x79b)]('h3'),_0xed9a6d=document['getElementById']('confirm-move-quiz-btn');_0x4d5916[_0xd3268e(0xb0c)]=_0xd3268e(0xf57),_0xed9a6d[_0xd3268e(0xb0c)]=_0xd3268e(0x3a4);allProjects[_0xd3268e(0x2d2)]===0x0?(_0x2e6582[_0xd3268e(0x45b)]=_0xd3268e(0x33f),_0xed9a6d[_0xd3268e(0x766)]=!![]):(_0x2e6582[_0xd3268e(0x45b)]=allProjects['map'](_0x4c1565=>_0xd3268e(0x685)+_0x4c1565['id']+'\x22>'+_0x4c1565[_0xd3268e(0x8ff)]+_0xd3268e(0xdaf))[_0xd3268e(0x94c)](''),_0xed9a6d[_0xd3268e(0x766)]=![]);_0x33f71e[_0xd3268e(0x457)]['remove'](_0xd3268e(0x845));const _0x30d962=()=>{const _0x40a89b=_0xd3268e,_0x2f9cc7=_0x2e6582[_0x40a89b(0xc66)];_0x2f9cc7?(currentProjectId=_0x2f9cc7,_0x33f71e[_0x40a89b(0x457)][_0x40a89b(0xea1)](_0x40a89b(0x845)),saveQuiz(),_0x4d5916[_0x40a89b(0xb0c)]=_0x40a89b(0x86e),_0xed9a6d[_0x40a89b(0xb0c)]='ย้าย',_0xed9a6d['removeEventListener'](_0x40a89b(0x2f0),_0x30d962),_0xed9a6d[_0x40a89b(0xf03)](_0x40a89b(0x2f0),confirmMoveQuiz)):showMessage(_0x40a89b(0x815));};_0xed9a6d[_0xd3268e(0x808)](_0xd3268e(0x2f0),confirmMoveQuiz),_0xed9a6d[_0xd3268e(0xf03)](_0xd3268e(0x2f0),_0x30d962);}function copyTextToClipboard(_0x2cb519,_0x2524ed){const _0x315c49=_0x4247b4,_0x11b3bb=document['createElement']('textarea');_0x11b3bb['value']=_0x2cb519,_0x11b3bb[_0x315c49(0x4e3)][_0x315c49(0x860)]='fixed',_0x11b3bb[_0x315c49(0x4e3)][_0x315c49(0x61a)]='0',document[_0x315c49(0x24c)][_0x315c49(0xccc)](_0x11b3bb),_0x11b3bb[_0x315c49(0x667)](),_0x11b3bb[_0x315c49(0xbb3)]();try{const _0x2d7440=document['execCommand'](_0x315c49(0x9aa));showMessage(_0x2d7440?_0x2524ed:_0x315c49(0x55d));}catch(_0x4db13a){showMessage(_0x315c49(0x55d)),console[_0x315c49(0xd5b)]('Copy\x20command\x20failed',_0x4db13a);}document[_0x315c49(0x24c)][_0x315c49(0xa77)](_0x11b3bb);}function listenForProjectQuizzes(_0x1882a9){const _0x5769a7=_0x4247b4,_0x3bbe59=collection(db,_0x5769a7(0x2b7)+appId+'/public/data/quizzes'),_0x15f6e0=query(_0x3bbe59,where(_0x5769a7(0xf28),'==',_0x1882a9));unsubscribeQuizzesListener=onSnapshot(_0x15f6e0,async _0x5223bd=>{const _0x226877=_0x5769a7;allQuizzes=_0x5223bd[_0x226877(0xd72)][_0x226877(0xdeb)](_0x367af2=>({'id':_0x367af2['id'],..._0x367af2['data']()})),renderQuizzes();},_0x2dadec=>{const _0x2403b7=_0x5769a7;console[_0x2403b7(0xd5b)]('Error\x20fetching\x20project\x20quizzes:',_0x2dadec),document[_0x2403b7(0x7c7)](_0x2403b7(0xb04))['innerHTML']=_0x2403b7(0x497);});}async function renderQuizzes(){const _0x7036d0=_0x4247b4,_0x42d8ef=document[_0x7036d0(0x7c7)](_0x7036d0(0xb04)),_0x35a96a=document[_0x7036d0(0x7c7)](_0x7036d0(0x6ae))[_0x7036d0(0xc66)]['toLowerCase']();let _0x25fa02;currentProjectId==='starred'?_0x25fa02=starredQuizzes:_0x25fa02=allQuizzes;let _0x38f554=_0x25fa02['filter'](_0x18d1b2=>_0x18d1b2[_0x7036d0(0x6b2)][_0x7036d0(0xab2)]()['includes'](_0x35a96a));_0x38f554[_0x7036d0(0x994)]((_0x386d0d,_0x57261d)=>new Date(_0x57261d[_0x7036d0(0xdaa)])-new Date(_0x386d0d['createdAt']));if(_0x38f554[_0x7036d0(0x2d2)]===0x0){_0x42d8ef[_0x7036d0(0x45b)]=_0x7036d0(0xb56);return;}const _0x3e0a3c={},_0x1bc6b9=_0x38f554[_0x7036d0(0xdeb)](async _0x151bdd=>{const _0xd60193=_0x7036d0,_0x93988d=collection(db,_0xd60193(0x2b7)+appId+_0xd60193(0xbe9)+_0x151bdd['id']+_0xd60193(0x746)),_0xc055f6=await getCountFromServer(_0x93988d);_0x3e0a3c[_0x151bdd['id']]=_0xc055f6[_0xd60193(0xb86)]()[_0xd60193(0x5a2)];});await Promise[_0x7036d0(0x8a9)](_0x1bc6b9);let _0x12c1cb='';_0x38f554[_0x7036d0(0x9fb)](_0x334105=>{const _0x232718=_0x7036d0,_0x4097f7=_0x3e0a3c[_0x334105['id']]||0x0,_0x108cc4=_0x334105['status']||_0x232718(0x3d0),_0x2cd397=_0x334105[_0x232718(0xb7e)]?.[_0x232718(0x9f5)]||_0x232718(0xc43);let _0x895f71='',_0x3e794b='';const _0x267c8b=new Date();let _0x385faf=_0x108cc4;if(_0x108cc4===_0x232718(0xe65)){const _0x489e46=_0x334105[_0x232718(0x749)]?new Date(_0x334105[_0x232718(0x749)]):null,_0x1eba86=_0x334105[_0x232718(0x680)]?new Date(_0x334105[_0x232718(0x680)]):null;if(_0x1eba86&&_0x267c8b>_0x1eba86)_0x385faf=_0x232718(0x6e9);else _0x489e46&&_0x267c8b<_0x489e46?_0x385faf='scheduled_pending':_0x385faf=_0x232718(0x3d0);}switch(_0x385faf){case _0x232718(0x6e9):_0x895f71=_0x232718(0xb47),_0x3e794b='text-red-700\x20bg-red-100';break;case _0x232718(0x9b1):_0x895f71=_0x232718(0xf4b),_0x3e794b=_0x232718(0x794);break;case _0x232718(0x3d0):_0x895f71=_0x2cd397!==_0x232718(0xc43)?'เปิด\x20(จับเวลา)':_0x232718(0xf1c),_0x3e794b=_0x232718(0x842);break;default:_0x895f71=_0x232718(0x98e),_0x3e794b=_0x232718(0x842);break;}let _0x470dd7='';const _0x5e9b10={'day':_0x232718(0xd36),'month':_0x232718(0xd36),'year':_0x232718(0xcf5),'hour':_0x232718(0xd36),'minute':_0x232718(0xd36),'hour12':![]};if(_0x108cc4==='scheduled'){if(_0x334105[_0x232718(0x749)])_0x470dd7+=_0x232718(0xdc1)+new Date(_0x334105[_0x232718(0x749)])[_0x232718(0xbef)](_0x232718(0xc69),_0x5e9b10)+_0x232718(0x2fc);if(_0x334105[_0x232718(0x680)])_0x470dd7+=_0x232718(0xd67)+new Date(_0x334105[_0x232718(0x680)])['toLocaleString']('th-TH',_0x5e9b10)+'</p>';}let _0x48d898='';if(_0x334105['pairedQuizId']){const _0x4b513b=allQuizzes[_0x232718(0x787)](_0x426e95=>_0x426e95['id']===_0x334105['pairedQuizId']);if(_0x4b513b){let _0x1aa96f,_0x952ba4;new Date(_0x334105[_0x232718(0xdaa)])<new Date(_0x4b513b[_0x232718(0xdaa)])?(_0x1aa96f=_0x334105['id'],_0x952ba4=_0x4b513b['id']):(_0x1aa96f=_0x4b513b['id'],_0x952ba4=_0x334105['id']),_0x48d898+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x952ba4+'\x22\x20data-pre-test-id=\x22'+_0x1aa96f+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x334105['quizMode']==='pre-test'&&(_0x48d898+=_0x232718(0x972)+_0x334105['id']+_0x232718(0xb09));if(_0x334105[_0x232718(0x8f9)]==='pre-test'&&_0x4097f7>0x0)_0x48d898+=_0x232718(0x972)+_0x334105['id']+_0x232718(0x4d5);else!_0x334105['pairedQuizId']&&_0x334105['quizMode']!==_0x232718(0xdc7)&&_0x4097f7>0x0&&(_0x48d898+=_0x232718(0x972)+_0x334105['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x121625='';_0x334105[_0x232718(0xf51)]?_0x121625=_0x232718(0xb10)+_0x334105['id']+_0x232718(0xa39):_0x121625='<button\x20data-quiz-id=\x22'+_0x334105['id']+_0x232718(0xdec);const _0x10dd20=_0x232718(0xede)+_0x334105['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x12c1cb+=_0x232718(0x695)+_0x334105['id']+_0x232718(0x7f6)+_0x334105['topic']+_0x232718(0xbe1)+_0x334105['questions'][_0x232718(0x2d2)]+_0x232718(0xc40)+new Date(_0x334105[_0x232718(0xdaa)])[_0x232718(0xbef)](_0x232718(0xc69))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x4097f7+_0x232718(0x1f1)+_0x470dd7+_0x232718(0x25b)+_0x3e794b+'\x22>'+_0x895f71+_0x232718(0x549)+_0x334105['id']+_0x232718(0xeaf)+_0x334105['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x334105['isStarred']?_0x232718(0x88f):_0x232718(0xc35))+_0x232718(0xf7e)+_0x48d898+_0x232718(0xc57)+_0x10dd20+_0x232718(0xb98)+_0x334105['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x334105['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x334105['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x334105['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x334105['id']+_0x232718(0x9ed)+_0x334105['id']+_0x232718(0xf20)+_0x334105['id']+_0x232718(0xaea)+_0x334105[_0x232718(0x6b2)]+_0x232718(0x55b)+_0x334105['id']+_0x232718(0x3c2)+_0x334105['id']+_0x232718(0x4fc)+_0x121625+_0x232718(0x37c)+_0x334105['id']+_0x232718(0x5d2)+_0x334105['id']+_0x232718(0xbc2)+_0x334105['id']+_0x232718(0xd1f)+_0x334105['id']+_0x232718(0x734)+_0x334105['id']+_0x232718(0xaea)+_0x334105[_0x232718(0x6b2)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x334105['id']+_0x232718(0x7e0);}),_0x42d8ef[_0x7036d0(0x45b)]=_0x12c1cb,document[_0x7036d0(0xf52)](_0x7036d0(0x754))[_0x7036d0(0x9fb)](_0x5972ff=>{const _0x4617de=_0x7036d0;_0x5972ff[_0x4617de(0xf03)]('click',()=>{const _0x259e7f=_0x4617de,_0x59273b=_0x5972ff[_0x259e7f(0xefd)][_0x259e7f(0x3d4)];showQuizDetailView(_0x59273b);});});}async function handleUnpairQuiz(_0x3ea381){const _0x2c2874=_0x4247b4,_0x265d86=allQuizzes[_0x2c2874(0x787)](_0x1233d5=>_0x1233d5['id']===_0x3ea381);if(!_0x265d86||!_0x265d86[_0x2c2874(0xf51)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x2c2874(0x4bb),async()=>{const _0x38a8bd=_0x2c2874;try{const _0x67fc85=doc(db,'artifacts/'+appId+_0x38a8bd(0xa8b),_0x3ea381),_0x175058=doc(db,_0x38a8bd(0x2b7)+appId+'/public/data/quizzes',_0x265d86['pairedQuizId']),_0x11d698=writeBatch(db);_0x11d698[_0x38a8bd(0x8f0)](_0x67fc85,{'pairedQuizId':null}),_0x11d698['update'](_0x175058,{'pairedQuizId':null}),await _0x11d698[_0x38a8bd(0xdcc)](),showMessage(_0x38a8bd(0x2ac));}catch(_0x297ed4){console[_0x38a8bd(0xd5b)](_0x38a8bd(0xcc0),_0x297ed4),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0xc3e930,_0x3bd6b3){const _0x2a0d42=_0x4247b4,_0xbe7b2f=window[_0x2a0d42(0x1f5)]('',_0x2a0d42(0x4c9)),_0x1c4201=_0x2a0d42(0x5e8)+_0x3bd6b3[_0x2a0d42(0x6b2)]+_0x2a0d42(0x478)+_0x3bd6b3[_0x2a0d42(0x6b2)]+_0x2a0d42(0x46e)+_0xc3e930[_0x2a0d42(0x681)]['map'](_0x1e6dff=>_0x2a0d42(0x200)+_0x1e6dff+'</li>')[_0x2a0d42(0x94c)]('')+_0x2a0d42(0xaa7)+_0xc3e930['teachingContent']+_0x2a0d42(0xce7)+_0xc3e930[_0x2a0d42(0x3bb)][_0x2a0d42(0xdeb)](_0x19c4bb=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x19c4bb['question']+_0x2a0d42(0x61f)+_0x19c4bb[_0x2a0d42(0x6ee)]+_0x2a0d42(0xaab))['join']('')+_0x2a0d42(0xf3d);_0xbe7b2f[_0x2a0d42(0x571)][_0x2a0d42(0xf02)](_0x1c4201),_0xbe7b2f['document'][_0x2a0d42(0x878)](),_0xbe7b2f[_0x2a0d42(0xdca)]=function(){setTimeout(()=>{const _0x324590=_0xc03a;_0xbe7b2f[_0x324590(0xccd)]();},0x3e8);};}async function handleAiFixFormula(_0x21f840){const _0x4cadda=_0x4247b4,_0x2bf65e=document[_0x4cadda(0x79b)]('.question-editor-item[data-q-index=\x22'+_0x21f840+'\x22]');if(!_0x2bf65e)return;const _0x3db6af=_0x2bf65e[_0x4cadda(0xefd)]['qType'],_0x34021f=_0x2bf65e['querySelector'](_0x4cadda(0xa0b));let _0x1b2784={'question':_0x2bf65e[_0x4cadda(0x79b)](_0x4cadda(0x39e))[_0x4cadda(0xc66)]};switch(_0x3db6af){case _0x4cadda(0x7fe):_0x1b2784[_0x4cadda(0xb84)]=Array[_0x4cadda(0x901)](_0x2bf65e[_0x4cadda(0xf52)](_0x4cadda(0x404)))[_0x4cadda(0xdeb)](_0x1e7ae8=>_0x1e7ae8[_0x4cadda(0xc66)]);break;case _0x4cadda(0x437):case _0x4cadda(0xf11):_0x1b2784[_0x4cadda(0x325)]=_0x2bf65e[_0x4cadda(0x79b)](_0x4cadda(0xc48))[_0x4cadda(0xc66)];break;case'matching_item':_0x1b2784[_0x4cadda(0x36d)]=_0x2bf65e['querySelector']('.correct-response-input')[_0x4cadda(0xc66)];break;}_0x34021f['innerHTML']=_0x4cadda(0xe7e),_0x34021f[_0x4cadda(0x766)]=!![];try{const _0x220d24='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON[_0x4cadda(0xe71)](_0x1b2784)+_0x4cadda(0xa32),_0x3d7ed0={'type':_0x4cadda(0xd94),'properties':{'fixedData':{'type':_0x4cadda(0xd94),'properties':{'question':{'type':_0x4cadda(0xaf4)},'options':{'type':'ARRAY','items':{'type':_0x4cadda(0xaf4)}},'idealAnswer':{'type':_0x4cadda(0xaf4)},'correctResponse':{'type':_0x4cadda(0xaf4)}},'required':['question']}},'required':['fixedData']},_0x2fff60=await callAnalysisApi(_0x220d24,_0x3d7ed0);if(_0x2fff60&&_0x2fff60[_0x4cadda(0x67c)]){const _0x4bacdf=_0x2fff60[_0x4cadda(0x67c)];_0x2bf65e[_0x4cadda(0x79b)](_0x4cadda(0x39e))['value']=_0x4bacdf[_0x4cadda(0x94b)]||_0x1b2784[_0x4cadda(0x94b)];switch(_0x3db6af){case _0x4cadda(0x7fe):_0x4bacdf[_0x4cadda(0xb84)]&&_0x4bacdf[_0x4cadda(0xb84)][_0x4cadda(0x2d2)]>0x0&&_0x2bf65e[_0x4cadda(0xf52)](_0x4cadda(0x404))[_0x4cadda(0x9fb)]((_0xc83b81,_0x4a55bf)=>{const _0x1c7c64=_0x4cadda;_0xc83b81[_0x1c7c64(0xc66)]=_0x4bacdf[_0x1c7c64(0xb84)][_0x4a55bf]||_0x1b2784[_0x1c7c64(0xb84)][_0x4a55bf];});break;case _0x4cadda(0x437):case _0x4cadda(0xf11):_0x2bf65e[_0x4cadda(0x79b)]('.ideal-answer-input')[_0x4cadda(0xc66)]=_0x4bacdf[_0x4cadda(0x325)]||_0x1b2784[_0x4cadda(0x325)];break;case'matching_item':_0x2bf65e[_0x4cadda(0x79b)](_0x4cadda(0xe97))[_0x4cadda(0xc66)]=_0x4bacdf[_0x4cadda(0x36d)]||_0x1b2784[_0x4cadda(0x36d)];break;}showMessage(_0x4cadda(0x39c));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x6f6d46){console['error'](_0x4cadda(0x7a6),_0x6f6d46),showMessage(_0x4cadda(0x4af));}finally{_0x34021f[_0x4cadda(0x45b)]='<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>',_0x34021f[_0x4cadda(0x766)]=![];}}async function handleGenerateLessonPlan(_0x445cd9){const _0x3a67cf=_0x4247b4;showMessage(_0x3a67cf(0xc4d));try{const _0x2c3dbd=doc(db,_0x3a67cf(0x2b7)+appId+_0x3a67cf(0xa8b),_0x445cd9),_0x3510ca=await getDoc(_0x2c3dbd);if(!_0x3510ca[_0x3a67cf(0x971)]())throw new Error(_0x3a67cf(0xef3));const _0x3aba92={'id':_0x445cd9,..._0x3510ca[_0x3a67cf(0xb86)]()},_0x5644ab=collection(db,_0x3a67cf(0x2b7)+appId+'/public/data/quizzes',_0x445cd9,_0x3a67cf(0x8b7)),_0x3fca2b=await getDocs(_0x5644ab),_0x2995b8=_0x3fca2b['docs'][_0x3a67cf(0xdeb)](_0x5dec27=>_0x5dec27['data']());if(_0x2995b8[_0x3a67cf(0x2d2)]===0x0)throw new Error(_0x3a67cf(0x52c));const _0x3b46ae=calculateItemAnalysis(_0x3aba92,_0x2995b8)[_0x3a67cf(0x529)],_0x41f9e1=calculateDistractorAnalysis(_0x3aba92,_0x2995b8),_0x503483=_0x3f23b1=>{const _0x149fa3=_0x3a67cf;if(!_0x3f23b1)return'';return _0x3f23b1['replace'](/\\/g,'\x5c\x5c')[_0x149fa3(0x663)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x1f5c2b=_0x3a67cf(0x58f);_0x3aba92['questions'][_0x3a67cf(0x9fb)]((_0xf33abc,_0x1086c4)=>{const _0x951630=_0x3a67cf,_0x182144=_0x3b46ae[_0x1086c4]?.['p']['toFixed'](0x2)||_0x951630(0x288),_0x49c1a7=_0x3b46ae[_0x1086c4]?.['r']['toFixed'](0x2)||_0x951630(0x288),_0x5dfd7f=_0x503483(_0xf33abc[_0x951630(0x303)]||_0xf33abc['stem']);_0x1f5c2b+='-\x20ข้อ\x20'+(_0x1086c4+0x1)+_0x951630(0x3ac)+_0x182144+_0x951630(0x596)+_0x49c1a7+_0x951630(0xc53)+_0x5dfd7f+'\x5cn';if(_0xf33abc[_0x951630(0xf29)]==='multiple_choice'&&_0x41f9e1[_0x1086c4]){const _0x45d4b0=_0x41f9e1[_0x1086c4],_0x53777d=Object[_0x951630(0xb00)](_0x45d4b0)[_0x951630(0x498)](_0x4f90a4=>parseInt(_0x4f90a4)!==_0xf33abc[_0x951630(0xc6f)])[_0x951630(0x994)]((_0x2afba9,_0x578c24)=>_0x45d4b0[_0x578c24]['total']-_0x45d4b0[_0x2afba9][_0x951630(0x843)])[0x0];if(_0x53777d&&_0x45d4b0[_0x53777d][_0x951630(0x843)]>0x0){const _0xa739d7=_0x503483(_0x45d4b0[_0x53777d][_0x951630(0x9d1)]);_0x1f5c2b+=_0x951630(0xbf9)+_0xa739d7+'\x22\x5cn';}}});const _0x49f637=_0x3a67cf(0xb01)+_0x3aba92[_0x3a67cf(0x6b2)]+_0x3a67cf(0x9bb)+_0x1f5c2b+_0x3a67cf(0x880),_0x471ea5={'type':_0x3a67cf(0xd94),'properties':{'learningGaps':{'type':_0x3a67cf(0xa29),'items':{'type':'STRING'}},'teachingContent':{'type':_0x3a67cf(0xaf4)},'practiceProblems':{'type':_0x3a67cf(0xa29),'items':{'type':_0x3a67cf(0xd94),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x3a67cf(0xaf4)}}}}},'required':['learningGaps',_0x3a67cf(0x488),_0x3a67cf(0x3bb)]},_0x596a73=await callAnalysisApi(_0x49f637,_0x471ea5);await updateDoc(_0x2c3dbd,{'lessonPlan':_0x596a73});const _0x3f8862=_0x3a67cf(0x4fe)+_0x3aba92[_0x3a67cf(0x6b2)]+_0x3a67cf(0x7e3)+_0x596a73['learningGaps']['map'](_0x2ba403=>_0x3a67cf(0x200)+_0x2ba403+_0x3a67cf(0x98a))[_0x3a67cf(0x94c)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x596a73[_0x3a67cf(0x488)]+_0x3a67cf(0x3fd)+_0x596a73[_0x3a67cf(0x3bb)][_0x3a67cf(0xdeb)](_0x41a85c=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x41a85c[_0x3a67cf(0x94b)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x41a85c[_0x3a67cf(0x6ee)]+_0x3a67cf(0x31b))[_0x3a67cf(0x94c)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x3a67cf(0x7c7)](_0x3a67cf(0x834))[_0x3a67cf(0xb0c)]=_0x3a67cf(0x841)+_0x3aba92['topic'],document[_0x3a67cf(0x7c7)]('lesson-plan-content')[_0x3a67cf(0x45b)]=_0x3f8862,document[_0x3a67cf(0x7c7)]('lesson-plan-modal')[_0x3a67cf(0x457)][_0x3a67cf(0xd11)](_0x3a67cf(0x845));if(window[_0x3a67cf(0x872)])MathJax[_0x3a67cf(0xecc)]();messageModal['classList']['add'](_0x3a67cf(0x845));}catch(_0x34fc22){console[_0x3a67cf(0xd5b)](_0x3a67cf(0xb46),_0x34fc22),showMessage(_0x3a67cf(0x5ee)+_0x34fc22['message']);}}async function handleDuplicateQuiz(_0x101475){const _0x41b341=_0x4247b4;try{const _0x2f5862=doc(db,_0x41b341(0x2b7)+appId+_0x41b341(0xa8b),_0x101475),_0x3bc982=await getDoc(_0x2f5862);if(_0x3bc982[_0x41b341(0x971)]()){const _0x29075a=_0x3bc982['data']();let _0x40a22b='',_0x453432=_0x41b341(0x8df),_0x31aa95=null;if(_0x29075a['quizMode']===_0x41b341(0xdc7)){let _0x3db242=_0x29075a[_0x41b341(0x6b2)][_0x41b341(0x663)](_0x41b341(0xb28),'')[_0x41b341(0xba3)]();_0x40a22b=_0x41b341(0x6fe)+_0x3db242,_0x453432='post-test',_0x31aa95=_0x101475;}else _0x40a22b=_0x41b341(0xb26)+_0x29075a[_0x41b341(0x6b2)];const _0x16dacf={..._0x29075a,'topic':_0x40a22b,'createdAt':new Date()[_0x41b341(0xf30)](),'quizMode':_0x453432,'pairedQuizId':_0x31aa95};let _0x3525a1;while(!![]){_0x3525a1=Math['floor'](0x3e8+Math[_0x41b341(0x724)]()*0x2328)[_0x41b341(0x2cc)]();const _0x4d167a=await getDoc(doc(db,_0x41b341(0x2b7)+appId+_0x41b341(0xa8b),_0x3525a1));if(!_0x4d167a[_0x41b341(0x971)]())break;}const _0x1497c5=doc(db,_0x41b341(0x2b7)+appId+_0x41b341(0xa8b),_0x3525a1);await setDoc(_0x1497c5,_0x16dacf),_0x16dacf[_0x41b341(0x8f9)]===_0x41b341(0x2f9)&&await updateDoc(_0x2f5862,{'pairedQuizId':_0x3525a1}),showMessage(_0x41b341(0x602));}else throw new Error(_0x41b341(0xa15));}catch(_0x4e319d){console[_0x41b341(0xd5b)]('Error\x20duplicating\x20quiz:',_0x4e319d),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x5a3ff0,_0x555f26=!![]){const _0x5749b8=_0x4247b4;try{const _0x12c252=writeBatch(db),_0x51a1f9=collection(db,_0x5749b8(0x2b7)+appId+_0x5749b8(0xbe9)+_0x5a3ff0+_0x5749b8(0x746)),_0x673f1f=await getDocs(_0x51a1f9);_0x673f1f[_0x5749b8(0x9fb)](_0x4382dd=>{const _0x3a397b=_0x5749b8;_0x12c252[_0x3a397b(0x627)](doc(_0x51a1f9,_0x4382dd['id']));});const _0x2634c8=doc(db,_0x5749b8(0x2b7)+appId+'/public/data/quizzes',_0x5a3ff0);_0x12c252[_0x5749b8(0x627)](_0x2634c8),await _0x12c252[_0x5749b8(0xdcc)]();try{console[_0x5749b8(0x799)]('Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20'+_0x5a3ff0+_0x5749b8(0xd7d));const _0x2c2c31=collection(db,'artifacts/'+appId+_0x5749b8(0x209)),_0x6e7dd9=await getDocs(_0x2c2c31),_0x3eef95=[];_0x6e7dd9[_0x5749b8(0x9fb)](_0x34ad57=>{const _0x16862a=_0x5749b8,_0x1bf00f=_0x34ad57[_0x16862a(0xb86)](),_0x48c4e8=_0x1bf00f[_0x16862a(0x345)]||{};let _0x46b775=![];for(const _0x47ee82 in _0x48c4e8){const _0x4777ee=_0x48c4e8[_0x47ee82];if(_0x4777ee[_0x16862a(0x6c6)]&&_0x4777ee[_0x16862a(0x6c6)][_0x16862a(0xba0)](_0x5a3ff0)){_0x46b775=!![];const _0x7232c7=doc(db,_0x16862a(0x2b7)+appId+_0x16862a(0x209),_0x34ad57['id']),_0x35305c=updateDoc(_0x7232c7,{['topics.'+_0x47ee82+'.linkedQuizIds']:arrayRemove(_0x5a3ff0)});_0x3eef95[_0x16862a(0x82f)](_0x35305c);}}}),_0x3eef95[_0x5749b8(0x2d2)]>0x0&&(await Promise[_0x5749b8(0x8a9)](_0x3eef95),console[_0x5749b8(0x799)](_0x5749b8(0xe93)+_0x3eef95['length']+_0x5749b8(0x6c5)+_0x5a3ff0+'.'));}catch(_0x1eb126){console['error'](_0x5749b8(0xee5),_0x1eb126);}_0x555f26&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x2d47c2){console[_0x5749b8(0xd5b)](_0x5749b8(0x93e),_0x2d47c2),_0x555f26&&showMessage(_0x5749b8(0x47d));}}async function showQuizDetailView(_0x17a73a){const _0x3ad819=_0x4247b4;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x3ad819(0x904));try{const _0x228f57=doc(db,_0x3ad819(0x2b7)+appId+_0x3ad819(0xa8b),_0x17a73a),_0x543864=await getDoc(_0x228f57);if(!_0x543864[_0x3ad819(0x971)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x3fdb4b={'id':_0x543864['id'],..._0x543864['data']()};currentQuizData=_0x3fdb4b;const _0x5e6f0c=doc(db,_0x3ad819(0x2b7)+appId+_0x3ad819(0xbcb),_0x3fdb4b['projectId']),_0x2ec0c4=await getDoc(_0x5e6f0c);_0x2ec0c4[_0x3ad819(0x971)]()?(currentProjectData=_0x2ec0c4['data'](),currentProjectId=_0x3fdb4b[_0x3ad819(0xf28)]):(currentProjectData={'students':[]},currentProjectId=_0x3fdb4b[_0x3ad819(0xf28)]);document[_0x3ad819(0x7c7)]('results-quiz-title')[_0x3ad819(0xb0c)]=_0x3fdb4b['topic'],document[_0x3ad819(0x7c7)](_0x3ad819(0xd86))[_0x3ad819(0xb0c)]=_0x17a73a;const _0x43017b=collection(db,_0x3ad819(0x2b7)+appId+_0x3ad819(0xa8b),_0x17a73a,_0x3ad819(0x8b7));unsubscribeSubmissionsListener=onSnapshot(_0x43017b,_0x3d950a=>{const _0x5dfb09=_0x3ad819,_0x5a8b7b=_0x3d950a[_0x5dfb09(0xd72)][_0x5dfb09(0xdeb)](_0x2c6e27=>({'id':_0x2c6e27['id'],..._0x2c6e27[_0x5dfb09(0xb86)]()}));currentSubmissions=_0x5a8b7b;const _0x480481=_0x5a8b7b[_0x5dfb09(0x498)](_0x2dc58c=>_0x2dc58c[_0x5dfb09(0x4d6)]&&_0x2dc58c[_0x5dfb09(0x4d6)][_0x5dfb09(0x2d2)]>0x0);renderBehaviorLog(_0x5a8b7b),renderAnswerGrid(currentProjectData['students'],_0x480481,_0x3fdb4b),renderAnalytics(_0x3fdb4b,_0x480481),renderQuizResultsTable(currentProjectData[_0x5dfb09(0x97d)],_0x5a8b7b,_0x3fdb4b),renderQuizLeaderboard(_0x480481,_0x3fdb4b,_0x5dfb09(0xd8a));}),showView(_0x3ad819(0xa14));}catch(_0x247143){console['error'](_0x3ad819(0xad3),_0x247143),showMessage(_0x3ad819(0x263));}}function renderAnswerGrid(_0x17cb60,_0x2f3cd9,_0xa8a284){const _0x3ca9b7=_0x4247b4,_0x2068bf=document[_0x3ca9b7(0x7c7)](_0x3ca9b7(0x206));if(!_0x2068bf)return;if(!_0x17cb60||_0x17cb60[_0x3ca9b7(0x2d2)]===0x0){_0x2068bf[_0x3ca9b7(0x45b)]=_0x3ca9b7(0x4b9);return;}const _0x530e52=_0xa8a284[_0x3ca9b7(0x99c)],_0x153bd1=_0x2f3cd9['reduce']((_0x3af601,_0x2a897c)=>{const _0x2e1c8d=_0x3ca9b7;return _0x3af601[_0x2a897c[_0x2e1c8d(0x27f)]]=_0x2a897c,_0x3af601;},{}),_0xd515f7=_0x217c21=>String[_0x3ca9b7(0xc3a)](0x41+_0x217c21),_0x1950c9=_0x5917b1=>{const _0x4cddda=_0x3ca9b7,_0x27e81b=_0x5917b1[_0x4cddda(0xf29)]||_0xa8a284[_0x4cddda(0xa71)];switch(_0x27e81b){case _0x4cddda(0x7fe):return _0x5917b1[_0x4cddda(0xb84)]&&_0x5917b1[_0x4cddda(0xb84)][_0x4cddda(0x2d2)]>_0x5917b1[_0x4cddda(0xc6f)]?_0xd515f7(_0x5917b1['correctAnswerIndex']):'-';case _0x4cddda(0x353):const _0x4babce=_0x5917b1['correctAnswer']===!![]||String(_0x5917b1[_0x4cddda(0xd0d)])[_0x4cddda(0xab2)]()===_0x4cddda(0x96f);return _0x4babce?'ใช่':_0x4cddda(0x811);case'matching_item':return _0x5917b1['correctResponse']||'-';case _0x4cddda(0xf11):return _0x4cddda(0x874);default:return'-';}},_0x31cde8=(_0x897633,_0x5ea8bd)=>{const _0x8b5d22=_0x3ca9b7;if(_0x5ea8bd[_0x8b5d22(0xa76)]===null||_0x5ea8bd['answer']===undefined)return'-';const _0x2acdc7=_0x897633[_0x8b5d22(0xf29)]||_0xa8a284['quizType'];switch(_0x2acdc7){case _0x8b5d22(0x7fe):const _0x5857a0=_0x897633[_0x8b5d22(0xb84)][_0x8b5d22(0x82e)](_0x4cfe0a=>_0x4cfe0a===_0x5ea8bd['answerText']);return _0x5857a0!==-0x1?_0xd515f7(_0x5857a0):_0x5ea8bd[_0x8b5d22(0x720)]||'-';case'true_false':if(_0x5ea8bd[_0x8b5d22(0xa76)]=='0'||_0x5ea8bd[_0x8b5d22(0xa76)]===!![]||_0x5ea8bd[_0x8b5d22(0xa76)]===_0x8b5d22(0x96f))return'ใช่';return'ไม่ใช่';default:return _0x5ea8bd[_0x8b5d22(0xa76)];}};let _0x45b1f5=_0x3ca9b7(0xc1a)+_0x530e52[_0x3ca9b7(0xdeb)]((_0x5d6788,_0x53c43f)=>_0x3ca9b7(0x5ab)+(_0x53c43f+0x1)+'</th>')[_0x3ca9b7(0x94c)]('')+_0x3ca9b7(0x72a)+_0x530e52[_0x3ca9b7(0xdeb)](_0x2bc0e2=>_0x3ca9b7(0x96d)+_0x1950c9(_0x2bc0e2)+'</td>')[_0x3ca9b7(0x94c)]('')+_0x3ca9b7(0x21b);_0x17cb60[_0x3ca9b7(0x9fb)](_0x196b4c=>{const _0x15d2be=_0x3ca9b7;_0x45b1f5+='<tr>',_0x45b1f5+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x196b4c+_0x15d2be(0xde9);const _0x5ebd08=_0x153bd1[_0x196b4c];if(_0x5ebd08){const _0x9e8e82=_0x5ebd08[_0x15d2be(0x4d6)][_0x5ebd08['attempts'][_0x15d2be(0x2d2)]-0x1];_0x530e52['forEach']((_0x379900,_0x16acdd)=>{const _0x1559ae=_0x15d2be,_0x52e1c7=_0x9e8e82[_0x1559ae(0xa92)][_0x1559ae(0x787)](_0x26227b=>_0x26227b['questionId']===_0x379900['id']);if(_0x52e1c7){let _0x3cd0d8='';const _0x5cdf09=_0x52e1c7['isCorrect']===!![],_0x3920b7=_0x52e1c7['wasConfident']===!![]||_0x52e1c7[_0x1559ae(0x63b)]===_0x1559ae(0xc98),_0x46503c=_0x52e1c7[_0x1559ae(0x3af)];if(_0x46503c===_0x1559ae(0xb6c))_0x5cdf09?_0x3cd0d8=_0x1559ae(0xb82):_0x3cd0d8=_0x1559ae(0xa47);else _0x3920b7?_0x3cd0d8=_0x5cdf09?'bg-green-400\x20text-white\x20font-bold':_0x1559ae(0x742):_0x3cd0d8=_0x5cdf09?_0x1559ae(0x53c):_0x1559ae(0xca4);_0x45b1f5+=_0x1559ae(0xa82)+_0x3cd0d8+'\x22>'+_0x31cde8(_0x379900,_0x52e1c7)+_0x1559ae(0xde9);}else _0x45b1f5+=_0x1559ae(0xc3e);});}else _0x45b1f5+=_0x530e52['map'](()=>_0x15d2be(0xe36))[_0x15d2be(0x94c)]('');_0x45b1f5+='</tr>';}),_0x45b1f5+=_0x3ca9b7(0xd9e),_0x2068bf[_0x3ca9b7(0x45b)]=_0x45b1f5;}function renderQuizResultsTable(_0xa76dda,_0x5b9d99,_0x113fe5){const _0xb01272=_0x4247b4,_0x2095dd=_0x5b9d99[_0xb01272(0x382)]((_0x161534,_0x2a61a5)=>{const _0x2a482e=_0xb01272;return _0x161534[_0x2a61a5[_0x2a482e(0x27f)]]=_0x2a61a5,_0x161534;},{}),_0x252063=document['querySelector'](_0xb01272(0x2aa));_0x252063&&!_0x252063[_0xb01272(0x45b)][_0xb01272(0xba0)](_0xb01272(0x7b7))&&(_0x252063[_0xb01272(0x45b)]+=_0xb01272(0x6f7));const _0x13f763=document[_0xb01272(0x7c7)](_0xb01272(0xc75));if(!_0xa76dda||_0xa76dda[_0xb01272(0x2d2)]===0x0){_0x13f763[_0xb01272(0x45b)]=_0xb01272(0x8ee);return;}const _0x22a387=_0x113fe5[_0xb01272(0x316)]===!![],_0x3947f8=_0x113fe5[_0xb01272(0xb7e)]?.[_0xb01272(0x7af)]??-0x1;let _0x108fd2='';_0xa76dda[_0xb01272(0x9fb)](_0x3e3b68=>{const _0x33c0d2=_0xb01272,_0x32ba1e=_0x2095dd[_0x3e3b68];let _0x1de6fd='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x22a387?_0x33c0d2(0x9d6):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x22a387?_0x33c0d2(0x465):_0x33c0d2(0xc84))+_0x33c0d2(0x877);if(_0x32ba1e){if(_0x32ba1e[_0x33c0d2(0x4d6)]&&_0x32ba1e[_0x33c0d2(0x4d6)][_0x33c0d2(0x2d2)]>0x0){let _0x572663=_0x22a387?_0x32ba1e['bestScore']===_0x32ba1e[_0x33c0d2(0xb37)]:_0x3947f8!==-0x1&&_0x32ba1e[_0x33c0d2(0x6c2)]>=_0x3947f8;const _0x31f80c=_0x572663?_0x33c0d2(0x53c):'bg-red-100\x20text-red-800',_0x7c84d6=_0x572663?_0x33c0d2(0x22e):_0x33c0d2(0xd90),_0x1c7e55=_0x33c0d2(0x207)+_0x31f80c+'\x22>'+_0x7c84d6+_0x33c0d2(0x877),_0x4a23c5=_0x33c0d2(0x506)+(_0x32ba1e['attempts']?.[_0x33c0d2(0x2d2)]||0x1)+_0x33c0d2(0xde3),_0x3ff8be=_0x33c0d2(0x8a1)+(_0x32ba1e['points']||0x0)[_0x33c0d2(0xbef)]()+_0x33c0d2(0xa5b)+_0x3e3b68+_0x33c0d2(0x350)+(_0x32ba1e[_0x33c0d2(0x254)]||0x0)+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x108fd2+=_0x33c0d2(0x90d)+_0x3e3b68+_0x33c0d2(0xa73)+_0x32ba1e[_0x33c0d2(0x6c2)]+_0x33c0d2(0x74e)+_0x32ba1e[_0x33c0d2(0xb37)]+_0x33c0d2(0x609)+_0x1c7e55+_0x33c0d2(0xc57)+_0x1de6fd+_0x33c0d2(0xa84)+_0x32ba1e['firstScore']+'\x20/\x20'+_0x32ba1e[_0x33c0d2(0xb37)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x32ba1e[_0x33c0d2(0x889)]+_0x33c0d2(0x74e)+_0x32ba1e[_0x33c0d2(0xb37)]+_0x33c0d2(0xd91)+_0x3ff8be+_0x33c0d2(0x609)+_0x4a23c5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x32ba1e[_0x33c0d2(0x9cb)])[_0x33c0d2(0xbef)](_0x33c0d2(0xc69))+_0x33c0d2(0x7cc)+_0x3e3b68+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0xd335b6='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x108fd2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x3e3b68+_0x33c0d2(0x2ba)+_0x1de6fd+_0x33c0d2(0xcf1)+_0xd335b6+_0x33c0d2(0x240)+new Date(_0x32ba1e[_0x33c0d2(0xec8)])['toLocaleString'](_0x33c0d2(0xc69))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x3e3b68+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x347246='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x108fd2+=_0x33c0d2(0x68e)+_0x3e3b68+_0x33c0d2(0xc2d)+_0x1de6fd+_0x33c0d2(0x977)+_0x347246+_0x33c0d2(0x6e0);}}),_0x13f763[_0xb01272(0x45b)]=_0x108fd2;}async function confirmRenameQuiz(){const _0x20f188=_0x4247b4,_0x1f8bc2=document['getElementById'](_0x20f188(0xd97))['value'][_0x20f188(0xba3)]();if(!_0x1f8bc2){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x46a094=doc(db,_0x20f188(0x2b7)+appId+_0x20f188(0xa8b),actionTargetId);try{await updateDoc(_0x46a094,{'topic':_0x1f8bc2}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal['classList'][_0x20f188(0xea1)]('hidden'),actionTargetId=null;}catch(_0x46677c){console['error'](_0x20f188(0x5d1),_0x46677c),showMessage(_0x20f188(0x47b));}}async function handleMoveQuiz(_0x2e7813){const _0x41dc1a=_0x4247b4;actionTargetId=_0x2e7813;const _0xcf3847=document['getElementById'](_0x41dc1a(0x41d));_0xcf3847[_0x41dc1a(0x45b)]=_0x41dc1a(0x8d3),moveQuizModal[_0x41dc1a(0x457)][_0x41dc1a(0xd11)](_0x41dc1a(0x845));try{const _0x31828a=collection(db,'artifacts/'+appId+_0x41dc1a(0xbcb)),_0x3004e9=await getDocs(_0x31828a),_0x47345a=_0x3004e9[_0x41dc1a(0xd72)][_0x41dc1a(0xdeb)](_0x1f3c6f=>({'id':_0x1f3c6f['id'],..._0x1f3c6f[_0x41dc1a(0xb86)]()})),_0x75e18=_0x47345a[_0x41dc1a(0x498)](_0x4d23f2=>_0x4d23f2['id']!==currentProjectId);if(_0x75e18[_0x41dc1a(0x2d2)]===0x0){_0xcf3847[_0x41dc1a(0x45b)]=_0x41dc1a(0x234),document[_0x41dc1a(0x7c7)](_0x41dc1a(0x21d))['disabled']=!![];return;}_0xcf3847[_0x41dc1a(0x45b)]=_0x75e18['map'](_0x4eb86a=>_0x41dc1a(0x685)+_0x4eb86a['id']+'\x22>'+_0x4eb86a[_0x41dc1a(0x8ff)]+_0x41dc1a(0xdaf))['join'](''),document[_0x41dc1a(0x7c7)](_0x41dc1a(0x21d))[_0x41dc1a(0x766)]=![];}catch(_0x292269){console['error'](_0x41dc1a(0x3a8),_0x292269),showMessage(_0x41dc1a(0xa2e)),moveQuizModal['classList']['add'](_0x41dc1a(0x845));}}async function confirmMoveQuiz(){const _0x390ac7=_0x4247b4,_0x24b3d4=document[_0x390ac7(0x7c7)]('move-quiz-project-select')[_0x390ac7(0xc66)];if(!_0x24b3d4){showMessage(_0x390ac7(0x990));return;}if(!actionTargetId)return;const _0x17497d=doc(db,_0x390ac7(0x2b7)+appId+_0x390ac7(0xa8b),actionTargetId);try{await updateDoc(_0x17497d,{'projectId':_0x24b3d4}),showMessage(_0x390ac7(0xbce)),moveQuizModal['classList'][_0x390ac7(0xea1)](_0x390ac7(0x845)),actionTargetId=null;}catch(_0x1b42e9){console['error']('Error\x20moving\x20quiz:',_0x1b42e9),showMessage(_0x390ac7(0x955));}}async function handleQuizSettings(_0x5b61ca){const _0x18a10e=_0x4247b4;actionTargetId=_0x5b61ca;const _0x31baae=doc(db,'artifacts/'+appId+_0x18a10e(0xa8b),_0x5b61ca);try{const _0x55682f=await getDoc(_0x31baae);if(_0x55682f[_0x18a10e(0x971)]()){const _0x562170=_0x55682f[_0x18a10e(0xb86)](),_0x228bf4=_0x562170[_0x18a10e(0xb7e)]||{},_0x2cb6e3=_0x562170[_0x18a10e(0x99c)][_0x18a10e(0x2d2)];document[_0x18a10e(0x7c7)](_0x18a10e(0x790))[_0x18a10e(0xc66)]=_0x228bf4[_0x18a10e(0xcfa)]||'none',document[_0x18a10e(0x7c7)](_0x18a10e(0x7e2))[_0x18a10e(0xc66)]=_0x228bf4[_0x18a10e(0xf69)]||_0x18a10e(0xdf2),document[_0x18a10e(0x7c7)](_0x18a10e(0x3a1))[_0x18a10e(0xc66)]=_0x228bf4[_0x18a10e(0x9f5)]||'none',document[_0x18a10e(0x7c7)](_0x18a10e(0xad6))[_0x18a10e(0xc66)]=_0x228bf4[_0x18a10e(0xefe)]||0xa,document[_0x18a10e(0x7c7)]('modal-passing-score-input')[_0x18a10e(0xc66)]=_0x228bf4[_0x18a10e(0x7af)]||Math[_0x18a10e(0xcb1)](_0x2cb6e3/0x2),document[_0x18a10e(0x7c7)]('modal-passing-score-input')[_0x18a10e(0x839)]=_0x2cb6e3,document['getElementById'](_0x18a10e(0xb50))[_0x18a10e(0xa20)]=_0x228bf4[_0x18a10e(0x696)]||![],document[_0x18a10e(0x7c7)](_0x18a10e(0x6fd))[_0x18a10e(0xa20)]=_0x228bf4[_0x18a10e(0xce8)]||![];const _0x176f6a=_0x228bf4[_0x18a10e(0x5c7)]||![];document[_0x18a10e(0x7c7)](_0x18a10e(0x5ce))[_0x18a10e(0xa20)]=_0x176f6a,document['getElementById'](_0x18a10e(0x95f))[_0x18a10e(0xc66)]=_0x228bf4[_0x18a10e(0x933)]||_0x18a10e(0xe00);const _0x4cf874=document[_0x18a10e(0x7c7)](_0x18a10e(0x1eb));_0x4cf874[_0x18a10e(0x457)]['toggle'](_0x18a10e(0x845),!_0x176f6a),document[_0x18a10e(0x7c7)](_0x18a10e(0x3a1))[_0x18a10e(0x449)](new Event(_0x18a10e(0xc7a))),quizSettingsModal[_0x18a10e(0x457)][_0x18a10e(0xd11)]('hidden');}else showMessage(_0x18a10e(0xef3));}catch(_0x5ca9ee){console[_0x18a10e(0xd5b)](_0x18a10e(0xa89),_0x5ca9ee),showMessage(_0x18a10e(0xbf6));}}async function confirmQuizSettings(){const _0x485dad=_0x4247b4;if(!actionTargetId)return;const _0x530b70=doc(db,_0x485dad(0x2b7)+appId+_0x485dad(0xa8b),actionTargetId),_0x5e6e3d={'shuffle':document[_0x485dad(0x7c7)](_0x485dad(0x790))[_0x485dad(0xc66)],'resultsDisplay':document[_0x485dad(0x7c7)]('modal-results-display-select')[_0x485dad(0xc66)],'timerMode':document[_0x485dad(0x7c7)](_0x485dad(0x3a1))[_0x485dad(0xc66)],'timerDuration':parseInt(document[_0x485dad(0x7c7)](_0x485dad(0xad6))['value'])||0xa,'passingScore':parseInt(document[_0x485dad(0x7c7)](_0x485dad(0x49f))['value'])||0x0,'isAdaptive':document[_0x485dad(0x7c7)](_0x485dad(0xb50))[_0x485dad(0xa20)],'loopUntilPass':document[_0x485dad(0x7c7)]('modal-loop-until-pass-checkbox')[_0x485dad(0xa20)],'isConfidenceScoringEnabled':document[_0x485dad(0x7c7)](_0x485dad(0x5ce))[_0x485dad(0xa20)],'confidenceMode':document[_0x485dad(0x7c7)](_0x485dad(0x95f))[_0x485dad(0xc66)]};try{await updateDoc(_0x530b70,{'settings':_0x5e6e3d}),showMessage(_0x485dad(0x6a3)),quizSettingsModal[_0x485dad(0x457)][_0x485dad(0xea1)]('hidden'),actionTargetId=null;}catch(_0x561bd2){console[_0x485dad(0xd5b)](_0x485dad(0x65d),_0x561bd2),showMessage(_0x485dad(0x896));}}async function confirmQuizStatus(){const _0x41e129=_0x4247b4;if(!actionTargetId)return;const _0x2c4948=doc(db,_0x41e129(0x2b7)+appId+_0x41e129(0xa8b),actionTargetId),_0x321bc5=document[_0x41e129(0x79b)](_0x41e129(0x439));if(!_0x321bc5){showMessage(_0x41e129(0xb4d));return;}const _0x54af6b=_0x321bc5[_0x41e129(0xc66)];let _0x1f0544={};if(_0x54af6b===_0x41e129(0x3d0)||_0x54af6b===_0x41e129(0x6e9))_0x1f0544={'status':_0x54af6b,'startTime':null,'endTime':null};else{if(_0x54af6b===_0x41e129(0x92a)){const _0x1087ce=document[_0x41e129(0x7c7)]('quiz-start-time')['value'],_0x1662fc=document[_0x41e129(0x7c7)]('quiz-end-time')[_0x41e129(0xc66)];if(!_0x1087ce&&!_0x1662fc){showMessage(_0x41e129(0x441));return;}_0x1f0544={'status':_0x41e129(0xe65),'startTime':_0x1087ce?new Date(_0x1087ce)[_0x41e129(0xf30)]():null,'endTime':_0x1662fc?new Date(_0x1662fc)[_0x41e129(0xf30)]():null};}}try{await updateDoc(_0x2c4948,_0x1f0544),showMessage(_0x41e129(0xef0)),quizStatusModal[_0x41e129(0x457)][_0x41e129(0xea1)](_0x41e129(0x845)),actionTargetId=null;}catch(_0x450c49){console[_0x41e129(0xd5b)]('Error\x20updating\x20quiz\x20status:',_0x450c49),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x37d053){const _0xf772e0=_0x4247b4,_0x21b560=collection(db,_0xf772e0(0x2b7)+appId+_0xf772e0(0x40f)+_0x37d053+_0xf772e0(0x4b5));unsubscribeStudentProfilesListener=onSnapshot(_0x21b560,_0x5a28e8=>{const _0x37068a=_0xf772e0,_0x5204b5=_0x5a28e8[_0x37068a(0xd72)][_0x37068a(0xdeb)](_0x568b56=>_0x568b56[_0x37068a(0xb86)]());renderLeaderboard(_0x5204b5,'leaderboard-table-body');},_0x4acaa0=>{const _0x5667d2=_0xf772e0;console[_0x5667d2(0xd5b)](_0x5667d2(0x5e4),_0x4acaa0),document[_0x5667d2(0x7c7)](_0x5667d2(0x586))[_0x5667d2(0x45b)]=_0x5667d2(0xdea);});}function renderLeaderboard(_0x48bf06,_0x2a0e02){const _0x18258f=_0x4247b4,_0x227a14=document[_0x18258f(0x7c7)](_0x2a0e02);if(!_0x48bf06||_0x48bf06['length']===0x0){_0x227a14[_0x18258f(0x45b)]=_0x18258f(0x41e);return;}_0x48bf06['sort']((_0x495179,_0x178067)=>{const _0x3f59dc=_0x18258f,_0x111f7d=(_0x178067[_0x3f59dc(0x8c7)]||0x0)-(_0x495179[_0x3f59dc(0x8c7)]||0x0);if(_0x111f7d!==0x0)return _0x111f7d;const _0x4731f5=(_0x178067[_0x3f59dc(0x6bd)]?.[_0x3f59dc(0x426)]||0x0)-(_0x495179[_0x3f59dc(0x6bd)]?.[_0x3f59dc(0x426)]||0x0);if(_0x4731f5!==0x0)return _0x4731f5;const _0xdd29d5=(_0x178067['badgesCount']?.[_0x3f59dc(0x1fd)]||0x0)-(_0x495179[_0x3f59dc(0x6bd)]?.[_0x3f59dc(0x1fd)]||0x0);if(_0xdd29d5!==0x0)return _0xdd29d5;const _0x42f0e6=(_0x178067[_0x3f59dc(0x6bd)]?.['perfect_score']||0x0)-(_0x495179[_0x3f59dc(0x6bd)]?.['perfect_score']||0x0);if(_0x42f0e6!==0x0)return _0x42f0e6;const _0x52fecc=(_0x178067[_0x3f59dc(0x6bd)]?.['quick_thinker']||0x0)-(_0x495179[_0x3f59dc(0x6bd)]?.[_0x3f59dc(0xd73)]||0x0);if(_0x52fecc!==0x0)return _0x52fecc;return _0x495179['studentName'][_0x3f59dc(0x460)](_0x178067[_0x3f59dc(0x27f)],'th');});let _0x315993='';_0x48bf06[_0x18258f(0x9fb)]((_0x5e5c32,_0x19a022)=>{const _0x28a0be=_0x18258f,_0x5e643e=_0x19a022+0x1,_0x2fd86d=_0x5e5c32[_0x28a0be(0x6bd)]||{};let _0x462942='';const _0x5a3be6=[_0x28a0be(0x426),'perfect_score',_0x28a0be(0x1fd),_0x28a0be(0xd73)];_0x5a3be6[_0x28a0be(0x9fb)](_0x3502ac=>{const _0x3161da=_0x28a0be;if(_0x2fd86d[_0x3502ac]>0x0){const _0x413749=Object['values'](BADGES)[_0x3161da(0x787)](_0x498abf=>_0x498abf['id']===_0x3502ac);_0x413749&&(_0x3502ac===_0x3161da(0x426)?_0x462942+=_0x3161da(0x983)+_0x413749['name']+_0x3161da(0x276)+_0x413749[_0x3161da(0xe9a)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x462942+=_0x3161da(0x983)+_0x413749[_0x3161da(0x689)]+'\x20('+_0x2fd86d[_0x3502ac]+_0x3161da(0x8d6)+_0x413749[_0x3161da(0xe9a)]+_0x3161da(0x68f)+_0x2fd86d[_0x3502ac]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x315993+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x5e643e+_0x28a0be(0xd91)+_0x5e5c32[_0x28a0be(0x27f)]+_0x28a0be(0x26b)+(_0x5e5c32['totalPoints']||0x0)['toLocaleString']()+_0x28a0be(0xd91)+(_0x462942||'-')+_0x28a0be(0xf50);}),_0x227a14[_0x18258f(0x45b)]=_0x315993;}function displayLoopScreen(_0x3a0e40,_0x4c7fee,_0x2aa5c4){const _0x1eedee=_0x4247b4;let _0x10947c='';_0x2aa5c4!==_0x1eedee(0xc3b)&&(_0x10947c='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x3a0e40+_0x1eedee(0x74e)+_0x4c7fee+'</strong></p>');const _0x402bc9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10947c+_0x1eedee(0xa2c);studentResultArea[_0x1eedee(0x45b)]=_0x402bc9,studentResultArea[_0x1eedee(0x457)][_0x1eedee(0xd11)](_0x1eedee(0x845)),studentQuizArea[_0x1eedee(0x457)]['add'](_0x1eedee(0x845)),document[_0x1eedee(0x7c7)](_0x1eedee(0x7d0))[_0x1eedee(0xf03)](_0x1eedee(0x2f0),()=>{const _0x3b0c0e=_0x1eedee;studentResultArea[_0x3b0c0e(0x457)][_0x3b0c0e(0xea1)](_0x3b0c0e(0x845)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x427cc9,_0x168fc1,_0x4b5eb6){const _0x209e96=_0x4247b4,_0x41ce40=document[_0x209e96(0x7c7)](_0x4b5eb6),_0x2ca1a1=_0x4b5eb6===_0x209e96(0xb3c),_0x38d8d7=_0x168fc1[_0x209e96(0x99c)][_0x209e96(0x2d2)],_0x3f0c01=document[_0x209e96(0x7c7)](_0x4b5eb6)[_0x209e96(0x5bf)](_0x209e96(0x70e));if(_0x3f0c01&&!_0x2ca1a1){const _0x1c7f99=_0x3f0c01[_0x209e96(0x79b)]('thead');_0x1c7f99[_0x209e96(0x45b)]=_0x209e96(0x3b9);}if(!_0x427cc9||_0x427cc9['length']===0x0){_0x41ce40[_0x209e96(0x45b)]=_0x209e96(0xc1d)+(_0x2ca1a1?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x44db43=[..._0x427cc9];_0x44db43['sort']((_0x50d6df,_0x15f2f1)=>{const _0x1c39fe=_0x209e96;let _0x49a42e,_0x274651;switch(quizLeaderboardSortBy){case'studentName':_0x49a42e=_0x50d6df[_0x1c39fe(0x27f)]||'',_0x274651=_0x15f2f1['studentName']||'';return quizLeaderboardSortOrder===_0x1c39fe(0x36e)?_0x49a42e[_0x1c39fe(0x460)](_0x274651,'th'):_0x274651['localeCompare'](_0x49a42e,'th');case _0x1c39fe(0x254):_0x49a42e=_0x50d6df[_0x1c39fe(0x254)]||0x0,_0x274651=_0x15f2f1['points']||0x0;break;case'attempts':_0x49a42e=_0x50d6df['attempts']?.[_0x1c39fe(0x2d2)]||0x1,_0x274651=_0x15f2f1['attempts']?.['length']||0x1;break;case'latestSubmittedAt':_0x49a42e=new Date(_0x50d6df[_0x1c39fe(0x9cb)]),_0x274651=new Date(_0x15f2f1[_0x1c39fe(0x9cb)]);break;case _0x1c39fe(0x6c2):default:_0x49a42e=_0x50d6df[_0x1c39fe(0x6c2)],_0x274651=_0x15f2f1[_0x1c39fe(0x6c2)];break;}if(_0x49a42e<_0x274651)return quizLeaderboardSortOrder===_0x1c39fe(0x36e)?-0x1:0x1;if(_0x49a42e>_0x274651)return quizLeaderboardSortOrder===_0x1c39fe(0x36e)?0x1:-0x1;return 0x0;});const _0x4bf9eb=_0x168fc1['isRemedial']===!![],_0x208303=_0x168fc1[_0x209e96(0xb7e)]?.[_0x209e96(0x7af)]??-0x1;let _0x3475b2='';_0x44db43[_0x209e96(0x9fb)]((_0x660c4e,_0xde28b9)=>{const _0x38e9b3=_0x209e96,_0x29b703=_0xde28b9+0x1;let _0x572035='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x4bf9eb||_0x208303!==-0x1){let _0x5281a0=_0x4bf9eb?_0x660c4e[_0x38e9b3(0x6c2)]===_0x38d8d7:_0x660c4e[_0x38e9b3(0x6c2)]>=_0x208303;const _0x4e1527=_0x5281a0?_0x38e9b3(0x53c):'bg-red-100\x20text-red-800',_0x23592f=_0x5281a0?_0x38e9b3(0x22e):_0x38e9b3(0xd90);_0x572035=_0x38e9b3(0xceb)+_0x4e1527+'\x22>'+_0x23592f+_0x38e9b3(0x877);}const _0x297953=_0x660c4e['attempts'][_0x660c4e[_0x38e9b3(0x4d6)][_0x38e9b3(0x2d2)]-0x1],_0x2c60dc=(_0x297953[_0x38e9b3(0x365)]||[])[_0x38e9b3(0xdeb)](_0x408f04=>{const _0x2c0cd0=_0x38e9b3,_0x11d578=Object[_0x2c0cd0(0x57b)](BADGES)[_0x2c0cd0(0x787)](_0x253d5f=>_0x253d5f['id']===_0x408f04);return _0x11d578?'<span\x20title=\x22'+_0x11d578[_0x2c0cd0(0x689)]+_0x2c0cd0(0x9eb)+_0x11d578[_0x2c0cd0(0xe9a)]+_0x2c0cd0(0xd28):'';})[_0x38e9b3(0x94c)]('');_0x3475b2+=_0x38e9b3(0x932)+_0x29b703+_0x38e9b3(0x3ec)+_0x660c4e[_0x38e9b3(0x27f)]+_0x38e9b3(0xba7)+_0x660c4e['bestScore']+_0x38e9b3(0x74e)+_0x38d8d7+_0x38e9b3(0xdb2)+_0x572035+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x660c4e[_0x38e9b3(0x254)]||0x0)[_0x38e9b3(0xbef)]()+_0x38e9b3(0xdb2)+(_0x2ca1a1?'':_0x38e9b3(0x58d)+(_0x660c4e[_0x38e9b3(0x4d6)]?.[_0x38e9b3(0x2d2)]||0x1)+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2ca1a1?'':_0x38e9b3(0xac3)+new Date(_0x660c4e[_0x38e9b3(0x9cb)])[_0x38e9b3(0xbef)](_0x38e9b3(0xc69))+_0x38e9b3(0xde9))+_0x38e9b3(0xd19)+(_0x2c60dc||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x41ce40[_0x209e96(0x45b)]=_0x3475b2,_0x3f0c01&&!_0x2ca1a1&&_0x3f0c01['querySelectorAll']('thead\x20.sortable-header')['forEach'](_0x59cf45=>{const _0x266c4d=_0x209e96,_0x2ae57=_0x59cf45[_0x266c4d(0x79b)](_0x266c4d(0x871));if(_0x2ae57)_0x2ae57[_0x266c4d(0xd11)]();_0x59cf45['dataset'][_0x266c4d(0x994)]===quizLeaderboardSortBy&&(_0x59cf45[_0x266c4d(0x45b)]+=_0x266c4d(0xcc9)+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x59dc13){const _0x362680=_0x4247b4;if(!currentQuizData||!currentQuizData['id']||!_0x59dc13){showMessage(_0x362680(0x867));return;}showConfirmation(_0x362680(0xc61)+_0x59dc13+_0x362680(0xbee),async()=>{const _0x2a262c=_0x362680,_0x41794b=currentQuizData['id'],_0x342424=doc(db,_0x2a262c(0x2b7)+appId+_0x2a262c(0xbe9)+_0x41794b+_0x2a262c(0x746),_0x59dc13);try{await deleteDoc(_0x342424),showMessage('ลบผลสอบของ\x20'+_0x59dc13+_0x2a262c(0x29b));}catch(_0x358a7b){console['error']('Error\x20deleting\x20submission:',_0x358a7b),showMessage(_0x2a262c(0x244));}});}async function handleLoadQuiz(){const _0x13b1bd=_0x4247b4,_0x1ca393=document[_0x13b1bd(0x7c7)]('quiz-id-input'),_0x30c483=_0x1ca393['value'][_0x13b1bd(0xba3)]();if(!_0x30c483){showMessage(_0x13b1bd(0x563));return;}loadQuizBtn[_0x13b1bd(0x766)]=!![],loadQuizBtn['innerHTML']=_0x13b1bd(0x577);try{const _0x156dde=doc(db,_0x13b1bd(0x2b7)+appId+_0x13b1bd(0xa8b),_0x30c483),_0x4948db=await getDoc(_0x156dde);if(!_0x4948db[_0x13b1bd(0x971)]()){showMessage(_0x13b1bd(0xcac));return;}currentQuizData={'id':_0x4948db['id'],..._0x4948db[_0x13b1bd(0xb86)]()};const _0x24d4ee=currentQuizData[_0x13b1bd(0x55e)]||'active',_0x1013da=new Date();if(_0x24d4ee===_0x13b1bd(0x6e9)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x24d4ee===_0x13b1bd(0xe65)){const _0x58e0a7=currentQuizData['startTime']?new Date(currentQuizData['startTime']):null,_0x5072cd=currentQuizData[_0x13b1bd(0x680)]?new Date(currentQuizData[_0x13b1bd(0x680)]):null;if(_0x58e0a7&&_0x1013da<_0x58e0a7){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x58e0a7['toLocaleString']('th-TH',{'hour12':![]}));return;}if(_0x5072cd&&_0x1013da>_0x5072cd){showMessage(_0x13b1bd(0x583));return;}}const _0x2a9d62=currentQuizData['projectId'];currentProjectId=_0x2a9d62;const _0x5f31c5=doc(db,_0x13b1bd(0x2b7)+appId+_0x13b1bd(0xbcb),_0x2a9d62),_0x174890=await getDoc(_0x5f31c5);if(!_0x174890[_0x13b1bd(0x971)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x2be985=_0x174890[_0x13b1bd(0xb86)]();currentStudentProjectData=_0x2be985,displayStudentNameSelector(_0x2be985[_0x13b1bd(0x97d)],currentQuizData[_0x13b1bd(0x6b2)]);}catch(_0x1cd7b3){console[_0x13b1bd(0xd5b)](_0x13b1bd(0x8e7),_0x1cd7b3),showMessage(_0x13b1bd(0x7d9));}finally{loadQuizBtn[_0x13b1bd(0x766)]=![],loadQuizBtn['innerHTML']=_0x13b1bd(0x7a3);}}async function handleManualEditPoints(_0x2eb382,_0x4105dd){const _0x8faa3e=_0x4247b4;if(!currentQuizData||!currentQuizData['id'])return;const _0x14d333=currentQuizData['id'],_0x3339e1=doc(db,'artifacts/'+appId+_0x8faa3e(0xbe9)+_0x14d333+'/submissions',_0x2eb382);try{const _0x1dbc13=await getDoc(_0x3339e1);if(!_0x1dbc13[_0x8faa3e(0x971)]())return;const _0x36d830=_0x1dbc13[_0x8faa3e(0xb86)](),_0x190832=_0x36d830[_0x8faa3e(0x4d6)]||[];_0x190832[_0x8faa3e(0x2d2)]>0x0&&(_0x190832[_0x190832[_0x8faa3e(0x2d2)]-0x1][_0x8faa3e(0x254)]=_0x4105dd,_0x190832[_0x190832[_0x8faa3e(0x2d2)]-0x1][_0x8faa3e(0x611)]=!![]),await updateDoc(_0x3339e1,{'points':_0x4105dd,'attempts':_0x190832}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x2eb382),showMessage(_0x8faa3e(0xc96)+_0x2eb382+_0x8faa3e(0x3e3)+_0x4105dd+_0x8faa3e(0xcec));}catch(_0x5d6bf2){console[_0x8faa3e(0xd5b)](_0x8faa3e(0x364),_0x5d6bf2),showMessage(_0x8faa3e(0x683));}}async function handleJoinLiveGame(){const _0x49ea0f=_0x4247b4,_0x97e414=document[_0x49ea0f(0x7c7)](_0x49ea0f(0x561)),_0x97af15=document[_0x49ea0f(0x7c7)](_0x49ea0f(0xdbf)),_0x3ea276=document[_0x49ea0f(0x7c7)](_0x49ea0f(0x9b7)),_0x56a0fd=_0x97e414['value']['trim'](),_0x2c1b62=_0x97af15['value'][_0x49ea0f(0xba3)]();if(!_0x56a0fd||!_0x2c1b62){showMessage(_0x49ea0f(0xbcc));return;}_0x3ea276[_0x49ea0f(0x766)]=!![],_0x3ea276['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x27ebf6=collection(db,_0x49ea0f(0x2b7)+appId+'/public/data/syncGames'),_0x1f0610=query(_0x27ebf6,where('pin','==',_0x56a0fd),where(_0x49ea0f(0x55e),'in',['lobby','question','summary',_0x49ea0f(0x349)])),_0x2d5e19=await getDocs(_0x1f0610);if(_0x2d5e19['empty']){const _0x59f16e=collection(db,_0x49ea0f(0x2b7)+appId+'/public/data/liveGames'),_0xa4fe55=query(_0x59f16e,where(_0x49ea0f(0x702),'==',_0x56a0fd)),_0x5c1de0=await getDocs(_0xa4fe55);if(!_0x5c1de0['empty']){await proceedWithTeamQuizJoin(_0x5c1de0[_0x49ea0f(0xd72)][0x0]);return;}showMessage(_0x49ea0f(0x755));return;}const _0x2ddc6d=_0x2d5e19['docs'][0x0];currentLiveGameId=_0x2ddc6d['id'];const _0x15a670=_0x2ddc6d['data'](),_0x56464e=doc(db,_0x49ea0f(0x2b7)+appId+_0x49ea0f(0xa8b),_0x15a670[_0x49ea0f(0x3d4)]),_0x962aa=await getDoc(_0x56464e);_0x962aa[_0x49ea0f(0x971)]()&&(currentQuizData=_0x15a670[_0x49ea0f(0xeb8)]);const _0x5f3eca=doc(db,_0x49ea0f(0x2b7)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x49ea0f(0x464),_0x2c1b62),_0x451bfa=await getDoc(_0x5f3eca);if(_0x451bfa[_0x49ea0f(0x971)]())_0x3ea276[_0x49ea0f(0x45b)]=_0x49ea0f(0x49b),await updateDoc(_0x5f3eca,{'status':_0x49ea0f(0x3d0)}),showMessage(_0x49ea0f(0x37b)+_0x2c1b62+_0x49ea0f(0xd5c));else{if(_0x15a670[_0x49ea0f(0x55e)]!=='lobby'){}_0x3ea276[_0x49ea0f(0x45b)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x5341e={'name':_0x2c1b62,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0,'revealOptions':0x0},'answered':![],'status':_0x49ea0f(0x3d0),'answers':[],'joinedAt':serverTimestamp(),'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};await setDoc(_0x5f3eca,_0x5341e);}currentStudentName=_0x2c1b62,localTeamPlayers=[_0x2c1b62],showView(_0x49ea0f(0x8eb)),listenForSyncGameUpdates();const _0x13c2c5={'gameId':currentLiveGameId,'mode':_0x49ea0f(0xca0),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x49ea0f(0x70f),JSON[_0x49ea0f(0xe71)](_0x13c2c5));}catch(_0x49c4fd){console[_0x49ea0f(0xd5b)]('Error\x20joining\x20live\x20game:',_0x49c4fd),showMessage(_0x49ea0f(0x2a6)+_0x49c4fd['message']);}finally{_0x3ea276[_0x49ea0f(0x766)]=![];if(_0x3ea276[_0x49ea0f(0x45b)][_0x49ea0f(0xba0)](_0x49ea0f(0xd31)))_0x3ea276[_0x49ea0f(0x45b)]=_0x49ea0f(0xf17);}}function displayStudentNameSelector(_0x3f89e6,_0x380b26){const _0x3da74a=_0x4247b4,_0x28e56d=document['getElementById']('student-name-select');document['getElementById'](_0x3da74a(0x74d))[_0x3da74a(0xb0c)]=_0x3da74a(0xb2d)+_0x380b26,!_0x3f89e6||_0x3f89e6[_0x3da74a(0x2d2)]===0x0?(_0x28e56d[_0x3da74a(0x45b)]=_0x3da74a(0xd78),startQuizBtn[_0x3da74a(0x766)]=!![]):(_0x28e56d['innerHTML']=_0x3da74a(0x791),_0x3f89e6[_0x3da74a(0x9fb)](_0x589c92=>{const _0x50b68e=_0x3da74a,_0x17876b=document[_0x50b68e(0xb74)]('option');_0x17876b[_0x50b68e(0xc66)]=_0x589c92,_0x17876b[_0x50b68e(0xb0c)]=_0x589c92,_0x28e56d['appendChild'](_0x17876b);}),startQuizBtn[_0x3da74a(0x766)]=![]),studentInitialView[_0x3da74a(0x457)]['add'](_0x3da74a(0x845)),studentNameSelectionView['classList'][_0x3da74a(0xd11)](_0x3da74a(0x845));}function shuffleArray(_0x1b3407){const _0x5f39de=_0x4247b4;for(let _0x5ec602=_0x1b3407[_0x5f39de(0x2d2)]-0x1;_0x5ec602>0x0;_0x5ec602--){const _0x4f6728=Math[_0x5f39de(0xcb1)](Math[_0x5f39de(0x724)]()*(_0x5ec602+0x1));[_0x1b3407[_0x5ec602],_0x1b3407[_0x4f6728]]=[_0x1b3407[_0x4f6728],_0x1b3407[_0x5ec602]];}}function getShuffledQuiz(_0x1e07ed){const _0x20f065=_0x4247b4;let _0x132ce3=JSON['parse'](JSON[_0x20f065(0xe71)](_0x1e07ed));const _0x1e78e9=_0x132ce3[_0x20f065(0xb7e)]?.[_0x20f065(0xcfa)]||'none';if(_0x1e78e9==='none')return _0x132ce3;return(_0x1e78e9===_0x20f065(0xe3f)||_0x1e78e9===_0x20f065(0xad2))&&shuffleArray(_0x132ce3[_0x20f065(0x99c)]),(_0x1e78e9===_0x20f065(0x5f4)||_0x1e78e9===_0x20f065(0xad2))&&_0x132ce3[_0x20f065(0x99c)][_0x20f065(0x9fb)](_0x109b43=>{const _0x460a5b=_0x20f065,_0x21b0a4=_0x109b43[_0x460a5b(0xf29)]||_0x132ce3[_0x460a5b(0xa71)];if(_0x109b43[_0x460a5b(0xb84)]){let _0x178f3b=_0x109b43[_0x460a5b(0xb84)]['map']((_0xf40fb6,_0x5d0ac9)=>({'text':_0xf40fb6,'isCorrect':_0x5d0ac9===_0x109b43[_0x460a5b(0xc6f)]}));shuffleArray(_0x178f3b),_0x109b43['options']=_0x178f3b['map'](_0x51802a=>_0x51802a[_0x460a5b(0x9d1)]),_0x109b43[_0x460a5b(0xc6f)]=_0x178f3b[_0x460a5b(0x82e)](_0x556ac1=>_0x556ac1['isCorrect']);}_0x21b0a4===_0x460a5b(0x39f)&&_0x109b43[_0x460a5b(0x5b2)]&&shuffleArray(_0x109b43['allResponses']);}),_0x132ce3;}function displayQuizForStudent(_0x3b84ed){const _0x39113d=_0x4247b4;studentQuizArea[_0x39113d(0x457)][_0x39113d(0xd11)](_0x39113d(0x845)),currentDisplayedQuiz=getShuffledQuiz(_0x3b84ed);currentMode!==_0x39113d(0x3ab)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x39113d(0xf03)]('fullscreenchange',handleFullscreenChange),document['addEventListener'](_0x39113d(0x962),handleVisibilityChange),enterFullscreen(),window[_0x39113d(0xf03)](_0x39113d(0xedd),resetDimTimer),window['addEventListener'](_0x39113d(0xd41),resetDimTimer),window[_0x39113d(0xf03)](_0x39113d(0x8b9),resetDimTimer),window[_0x39113d(0xf03)](_0x39113d(0xe7a),resetDimTimer),resetDimTimer());const _0x461559=currentDisplayedQuiz[_0x39113d(0xb7e)]?.[_0x39113d(0x9f5)]||_0x39113d(0xc43);if(_0x461559===_0x39113d(0xba2))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x39113d(0xb7e)][_0x39113d(0xefe)]);else _0x461559===_0x39113d(0x59c)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}window[_0x4247b4(0x3be)]=function(_0x3bbe74){const _0x4130d4=_0x4247b4,_0xa47127=document[_0x4130d4(0x7c7)](_0x4130d4(0x7bc)+_0x3bbe74),_0x207aad=document['querySelectorAll'](_0x4130d4(0xbf8));_0x207aad[_0x4130d4(0x9fb)](_0x34d4ae=>{const _0x31d7b4=_0x4130d4;if(_0x34d4ae['id']!==_0x31d7b4(0x7bc)+_0x3bbe74)_0x34d4ae['classList'][_0x31d7b4(0xea1)](_0x31d7b4(0x845));});if(_0xa47127)_0xa47127[_0x4130d4(0x457)][_0x4130d4(0x29a)](_0x4130d4(0x845));},window[_0x4247b4(0xee9)]=function(_0x4e10c5,_0x19e544){const _0x3504c1=_0x4247b4,_0x1f22cc=currentDisplayedQuiz;if(!_0x1f22cc)return;const _0x12cdef=_0x1f22cc[_0x3504c1(0x99c)][_0x4e10c5],_0x2d7eaa=_0x12cdef[_0x3504c1(0x5b2)][_0x19e544],_0x431e6f=document['getElementById'](_0x3504c1(0xd00)+_0x4e10c5);if(_0x431e6f)_0x431e6f['value']=_0x2d7eaa;const _0x2bf04c=document[_0x3504c1(0x7c7)]('selected-text-'+_0x4e10c5);if(_0x2bf04c){_0x2bf04c[_0x3504c1(0x45b)]=_0x2d7eaa;if(window[_0x3504c1(0x872)])MathJax['typesetPromise']([_0x2bf04c]);_0x2bf04c[_0x3504c1(0x457)][_0x3504c1(0xea1)](_0x3504c1(0x54d),_0x3504c1(0x333));}const _0x4dbd58=document[_0x3504c1(0x7c7)]('dropdown-list-'+_0x4e10c5);if(_0x4dbd58)_0x4dbd58[_0x3504c1(0x457)][_0x3504c1(0xea1)](_0x3504c1(0x845));},document[_0x4247b4(0xf03)](_0x4247b4(0x2f0),_0xef8a65=>{const _0x422c2b=_0x4247b4;!_0xef8a65[_0x422c2b(0xcbd)][_0x422c2b(0x5bf)](_0x422c2b(0x3d9))&&document[_0x422c2b(0xf52)]('[id^=\x22dropdown-list-\x22]')['forEach'](_0x23959a=>_0x23959a[_0x422c2b(0x457)][_0x422c2b(0xea1)](_0x422c2b(0x845)));});function renderFullQuizForm(){const _0x113afe=_0x4247b4,_0x305c93=currentDisplayedQuiz['settings']?.[_0x113afe(0x5c7)]===!![],_0x23d1d9=currentDisplayedQuiz[_0x113afe(0xb7e)]?.[_0x113afe(0x933)]||_0x113afe(0xe00);let _0x5427a7=![],_0x1823d7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x113afe(0x6b2)]+_0x113afe(0xcd3)+(currentMode===_0x113afe(0x3ab)?_0x113afe(0x223):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x113afe(0x99c)][_0x113afe(0x9fb)]((_0x4da340,_0xbb7ec3)=>{const _0x17c453=_0x113afe,_0x2da9eb=_0x4da340[_0x17c453(0xf29)]||currentDisplayedQuiz[_0x17c453(0xa71)],_0x1203ae=_0x17c453(0x507)+(0x64-_0xbb7ec3)+';';_0x2da9eb===_0x17c453(0x39f)&&!_0x5427a7&&(_0x1823d7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20mb-6\x20p-4\x20bg-indigo-50\x20border-l-4\x20border-indigo-500\x20text-indigo-900\x20rounded-r-lg\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-bold\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exchange-alt\x20mr-3\x22></i>\x20คำชี้แจง:\x20จับคู่ข้อความต่อไปนี้ให้ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5427a7=!![]);_0x1823d7+=_0x17c453(0xf68)+_0x1203ae+'\x22>';_0x2da9eb!==_0x17c453(0x39f)&&(_0x1823d7+=_0x17c453(0xd08)+(_0xbb7ec3+0x1)+'.\x20'+(_0x4da340[_0x17c453(0x831)]||_0x4da340[_0x17c453(0x303)])+_0x17c453(0xe5c)+(_0x4da340[_0x17c453(0x601)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4da340[_0x17c453(0x601)]+_0x17c453(0x745):'')+_0x17c453(0xdad));_0x1823d7+='<div\x20class=\x22space-y-2\x22>';if(_0x2da9eb===_0x17c453(0x39f)&&_0x4da340[_0x17c453(0x5b2)])_0x1823d7+=_0x17c453(0xcf0)+(_0xbb7ec3+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22leading-snug\x22>'+_0x4da340[_0x17c453(0x203)]+_0x17c453(0xe7c)+_0xbb7ec3+_0x17c453(0xcb5)+_0xbb7ec3+'\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20p-3\x20border\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.toggleMathDropdown('+_0xbb7ec3+_0x17c453(0xb8c)+_0xbb7ec3+_0x17c453(0x610)+_0xbb7ec3+_0x17c453(0x829)+_0x4da340[_0x17c453(0x5b2)][_0x17c453(0xdeb)]((_0x355b19,_0x3f3776)=>_0x17c453(0xa53)+_0xbb7ec3+',\x20'+_0x3f3776+_0x17c453(0x550)+_0x355b19+_0x17c453(0xb77))[_0x17c453(0x94c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else{if(_0x2da9eb==='true_false')_0x1823d7+=_0x17c453(0xae8)+_0xbb7ec3+_0x17c453(0x87d)+_0xbb7ec3+_0x17c453(0xb4f)+_0xbb7ec3+_0x17c453(0x669),_0x1823d7+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0xbb7ec3+_0x17c453(0x4a0)+_0xbb7ec3+_0x17c453(0x767)+_0xbb7ec3+_0x17c453(0xb05);else _0x4da340[_0x17c453(0xb84)]&&Array[_0x17c453(0xc7d)](_0x4da340[_0x17c453(0xb84)])&&_0x4da340[_0x17c453(0xb84)][_0x17c453(0x2d2)]>0x0?_0x1823d7+=_0x4da340[_0x17c453(0xb84)][_0x17c453(0xdeb)]((_0x172b06,_0x596baf)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0xbb7ec3+_0x17c453(0x4c2)+_0x596baf+_0x17c453(0xa19)+_0xbb7ec3+_0x17c453(0x40d)+_0x596baf+_0x17c453(0x9af)+_0xbb7ec3+_0x17c453(0x4c2)+_0x596baf+'\x22>'+_0x172b06+_0x17c453(0xf05))[_0x17c453(0x94c)](''):_0x1823d7+=_0x17c453(0x76a)+_0xbb7ec3+_0x17c453(0x3cc);}_0x1823d7+=_0x17c453(0x745),_0x305c93&&(_0x1823d7+=_0x17c453(0x352),_0x23d1d9===_0x17c453(0x679)?_0x1823d7+=_0x17c453(0x894)+_0xbb7ec3+_0x17c453(0xc19)+_0xbb7ec3+_0x17c453(0x311)+_0xbb7ec3+_0x17c453(0xc4a)+_0xbb7ec3+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x1823d7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence'+_0xbb7ec3+_0x17c453(0xc19)+_0xbb7ec3+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0xbb7ec3+_0x17c453(0x419),_0x1823d7+=_0x17c453(0x745)),_0x1823d7+=_0x17c453(0x745);}),_0x1823d7+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x1823d7+=_0x113afe(0xf56),studentQuizArea['innerHTML']=_0x1823d7;if(currentMode===_0x113afe(0x3ab)){const _0x74d6cd=document[_0x113afe(0x7c7)]('cancel-test-btn');if(_0x74d6cd)_0x74d6cd[_0x113afe(0xf03)](_0x113afe(0x2f0),cancelAdminTest);}const _0x1cb1dd=document[_0x113afe(0x7c7)](_0x113afe(0xd52));_0x1cb1dd&&(_0x1cb1dd[_0x113afe(0xf03)](_0x113afe(0x8c9),handleSubmitQuiz),_0x1cb1dd[_0x113afe(0xf03)](_0x113afe(0x2f0),_0xb4ce9e=>{const _0x2fb082=_0x113afe;if(_0xb4ce9e[_0x2fb082(0xcbd)]['classList']['contains'](_0x2fb082(0xc47))){const _0x44f22b=_0xb4ce9e[_0x2fb082(0xcbd)],_0x112729=_0x44f22b[_0x2fb082(0xefd)][_0x2fb082(0xe6a)],_0xc159bb=_0x44f22b['dataset']['value'];document[_0x2fb082(0x7c7)](_0x2fb082(0x28e)+_0x112729)['value']=_0xc159bb;const _0x3e79dc=_0x44f22b[_0x2fb082(0x8cd)];_0x3e79dc['querySelectorAll'](_0x2fb082(0x1f2))['forEach'](_0x272d44=>_0x272d44[_0x2fb082(0x457)]['remove'](_0x2fb082(0x3d0))),_0x44f22b[_0x2fb082(0x457)]['add'](_0x2fb082(0x3d0));}})),window[_0x113afe(0x872)]&&setTimeout(()=>{const _0x59b304=_0x113afe;window[_0x59b304(0x872)][_0x59b304(0xecc)]([studentQuizArea]);},0x32);}async function handleSubmitQuiz(_0x4519ee){const _0xbb68cc=_0x4247b4;if(_0x4519ee)_0x4519ee[_0xbb68cc(0x375)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x2055a5=document[_0xbb68cc(0x7c7)]('quiz-form');if(!_0x2055a5)return;const _0x5d500a=currentDisplayedQuiz[_0xbb68cc(0xb7e)]?.[_0xbb68cc(0x5c7)]===!![],_0x37984d=currentDisplayedQuiz[_0xbb68cc(0xb7e)]?.[_0xbb68cc(0x933)]||_0xbb68cc(0xe00);if(_0x5d500a&&_0x37984d==='mandatory'){let _0x48fb0e=!![];for(let _0x22e139=0x0;_0x22e139<currentDisplayedQuiz['questions']['length'];_0x22e139++){const _0x707ad6=_0x2055a5[_0xbb68cc(0x79b)](_0xbb68cc(0x48a)+_0x22e139);if(!_0x707ad6||_0x707ad6[_0xbb68cc(0xc66)]===''){_0x48fb0e=![];break;}}if(!_0x48fb0e){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x1c6e37=_0x2055a5[_0xbb68cc(0x79b)](_0xbb68cc(0xdb5)),_0x4b6a62=currentDisplayedQuiz['questions'][_0xbb68cc(0xf40)](_0x1d0d7b=>_0x1d0d7b[_0xbb68cc(0xf29)]==='short_answer');_0x1c6e37&&(_0x1c6e37['disabled']=!![],_0x1c6e37[_0xbb68cc(0x45b)]=_0x4b6a62?_0xbb68cc(0x912):_0xbb68cc(0x237));const _0x24d16c=new FormData(_0x2055a5),_0xb05eae=currentDisplayedQuiz[_0xbb68cc(0x99c)][_0xbb68cc(0xdeb)]((_0x458247,_0x333265)=>{const _0x2a2e44=_0xbb68cc,_0x2f7e05=_0x24d16c['get']('question'+_0x333265);let _0x15b23d;_0x37984d===_0x2a2e44(0x679)?_0x15b23d=_0x24d16c['get']('confidence'+_0x333265):_0x15b23d=_0x24d16c[_0x2a2e44(0xa65)](_0x2a2e44(0xbf2)+_0x333265)==='on';let _0x3153b3=null;if(_0x2f7e05!==null&&_0x2f7e05!==undefined){const _0x41d281=_0x458247[_0x2a2e44(0xf29)]||currentDisplayedQuiz[_0x2a2e44(0xa71)];_0x41d281===_0x2a2e44(0x7fe)||_0x41d281===_0x2a2e44(0x711)?_0x3153b3=parseInt(_0x2f7e05):_0x3153b3=_0x2f7e05;}return{'answer':_0x3153b3,'wasConfident':_0x15b23d};}),_0x210a70=currentQuizData['id'],_0x20fda4=doc(db,_0xbb68cc(0x2b7)+appId+_0xbb68cc(0xbe9)+_0x210a70+_0xbb68cc(0x746),currentStudentName),_0x281792=await getDoc(_0x20fda4),_0x185b9e=_0x281792[_0xbb68cc(0x971)]()?_0x281792[_0xbb68cc(0xb86)]():{},_0x610fc4=_0x185b9e[_0xbb68cc(0x4d6)]||[];await processAndSubmitAnswers(_0xb05eae,_0x610fc4);}async function gradeShortAnswerWithAI(_0x22e638,_0x34e79c){const _0x220395=_0x4247b4;if(!_0x22e638||!_0x34e79c)return![];try{const _0x130d77=_0x220395(0x2e4)+_0x22e638+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x34e79c+_0x220395(0xd2a),_0x1ad2c3={'contents':[{'role':_0x220395(0x466),'parts':[{'text':_0x130d77}]}]},_0x47da89=_0x220395(0xaa2),_0x5e9158=_0x220395(0x299)+_0x47da89,_0x4d0ead=await fetch(_0x5e9158,{'method':_0x220395(0xddb),'headers':{'Content-Type':_0x220395(0x368)},'body':JSON['stringify'](_0x1ad2c3)});if(!_0x4d0ead['ok'])throw new Error(_0x220395(0xc23));const _0x2dae0d=await _0x4d0ead[_0x220395(0xd4e)](),_0x162dc6=_0x2dae0d[_0x220395(0x2a8)][0x0][_0x220395(0x2e8)]['parts'][0x0][_0x220395(0x9d1)][_0x220395(0xba3)]()[_0x220395(0xab2)]();return _0x162dc6===_0x220395(0x96f);}catch(_0x274461){return console[_0x220395(0xd5b)](_0x220395(0xcb6),_0x274461),![];}}async function processAndSubmitAnswers(_0x408b56,_0x2087d9){const _0x29e51d=_0x4247b4;releaseWakeLock(),stopDimTimer();try{document[_0x29e51d(0xa56)]&&await document['exitFullscreen']();}catch(_0x5a2704){console[_0x29e51d(0x9f2)]('Fullscreen\x20exit\x20failed\x20(safe\x20to\x20ignore):',_0x5a2704);}isQuizActive=![],document[_0x29e51d(0x808)](_0x29e51d(0xb43),handleFullscreenChange),document[_0x29e51d(0x808)](_0x29e51d(0x962),handleVisibilityChange);let _0x3d20ec=0x0;const _0x1c2579=[],_0x4c9625=currentDisplayedQuiz['questions']['length'];let _0x264be0=0x0,_0x833352=[];const _0x4a6700=currentDisplayedQuiz[_0x29e51d(0x99c)];for(let _0x5645a3=0x0;_0x5645a3<_0x4a6700['length'];_0x5645a3++){const _0x254185=_0x4a6700[_0x5645a3],_0x538523=_0x408b56[_0x5645a3],_0x28774b=_0x538523?_0x538523[_0x29e51d(0xa76)]:null,_0x44fece=_0x538523?_0x538523['wasConfident']:null;let _0x28fc2c=![],_0x1ca2e2=0x0;if(_0x28774b!==null&&_0x28774b!==''){const _0x201354=_0x254185[_0x29e51d(0xf29)]||currentDisplayedQuiz[_0x29e51d(0xa71)];switch(_0x201354){case'matching_item':_0x28fc2c=_0x28774b===_0x254185['correctResponse'];break;case _0x29e51d(0x353):const _0x2cda9d=_0x28774b===!![]||_0x28774b===_0x29e51d(0x96f);_0x28fc2c=_0x2cda9d===_0x254185[_0x29e51d(0xd0d)];break;case _0x29e51d(0x437):case _0x29e51d(0xf11):_0x28fc2c=await gradeShortAnswer(_0x28774b,_0x254185);break;case _0x29e51d(0x7fe):case'fill_in_with_choices':default:_0x28fc2c=Number(_0x28774b)===_0x254185['correctAnswerIndex'];break;}}if(currentDisplayedQuiz[_0x29e51d(0xb7e)]?.['isConfidenceScoringEnabled']){const _0x3a5d9e=_0x538523?_0x538523[_0x29e51d(0x63b)]:null;if(_0x28fc2c&&(_0x3a5d9e===!![]||_0x3a5d9e===_0x29e51d(0xc98)))_0x1ca2e2=0x2;else{if(_0x28fc2c)_0x1ca2e2=0x1;else{if(!_0x28fc2c&&(_0x3a5d9e===![]||_0x3a5d9e===_0x29e51d(0x7a7)||_0x3a5d9e===null))_0x1ca2e2=0x0;else!_0x28fc2c&&(_0x3a5d9e===!![]||_0x3a5d9e===_0x29e51d(0xc98))&&(_0x1ca2e2=-0x1);}}}else _0x1ca2e2=_0x28fc2c?0x1:0x0;_0x3d20ec+=_0x1ca2e2;if(_0x28fc2c){_0x264be0++;if(_0x264be0===0x3)_0x833352['push'](BADGES[_0x29e51d(0x5a3)]['id']);}else _0x264be0=0x0;let _0x168b8e=null;_0x254185[_0x29e51d(0xb84)]&&(_0x254185[_0x29e51d(0xf29)]===_0x29e51d(0x7fe)||_0x254185[_0x29e51d(0xf29)]===_0x29e51d(0x848))&&_0x28774b!==null?_0x168b8e=_0x254185['options'][_0x28774b]:_0x168b8e=_0x28774b,_0x1c2579['push']({'questionId':_0x254185['id'],'answer':_0x28774b,'answerText':_0x168b8e,'isCorrect':_0x28fc2c,'wasConfident':_0x44fece,'pointsAwarded':_0x1ca2e2,'originalQuestionText':_0x254185[_0x29e51d(0x203)]||_0x254185[_0x29e51d(0x303)]});}const _0x3a23f2=_0x1c2579[_0x29e51d(0x498)](_0x72c139=>_0x72c139[_0x29e51d(0x697)])[_0x29e51d(0x2d2)],_0x2d35cb=currentDisplayedQuiz['settings']?.[_0x29e51d(0x7af)]??Math['floor'](_0x4c9625/0x2);_0x3a23f2===_0x4c9625&&_0x4c9625>0x0&&!currentDisplayedQuiz[_0x29e51d(0x316)]&&_0x833352[_0x29e51d(0x82f)](BADGES[_0x29e51d(0x2a4)]['id']);const _0x26af84=currentDisplayedQuiz[_0x29e51d(0xb7e)]?.[_0x29e51d(0x9f5)];if(_0x26af84===_0x29e51d(0xba2)&&quizStartTime){const _0x4648d8=(new Date()-quizStartTime)/0x3e8,_0x57c4d5=currentDisplayedQuiz[_0x29e51d(0xb7e)][_0x29e51d(0xefe)]*0x3c;_0x3a23f2>=_0x2d35cb&&_0x4648d8<_0x57c4d5/0x2&&_0x833352[_0x29e51d(0x82f)](BADGES[_0x29e51d(0x95e)]['id']);}_0x2087d9['length']===0x0&&_0x3a23f2===_0x4c9625&&_0x4c9625>0x0&&_0x833352[_0x29e51d(0x82f)](BADGES['FIRST_TRY_ACE']['id']);if(_0x2087d9[_0x29e51d(0x2d2)]>0x0){const _0x21152f=_0x2087d9[0x0][_0x29e51d(0x494)];if(_0x21152f<_0x2d35cb&&_0x3a23f2>=_0x2d35cb){const _0x1dda79=_0x2087d9[_0x29e51d(0xf40)](_0x1a2845=>(_0x1a2845[_0x29e51d(0x365)]||[])['includes'](BADGES['COMEBACK_KING']['id']));!_0x1dda79&&_0x833352[_0x29e51d(0x82f)](BADGES['COMEBACK_KING']['id']);}}_0x2087d9[_0x29e51d(0x2d2)]===0x4&&_0x833352[_0x29e51d(0x82f)](BADGES[_0x29e51d(0x416)]['id']);const _0x127bf2=currentDisplayedQuiz[_0x29e51d(0xb7e)][_0x29e51d(0xf69)];if(currentMode===_0x29e51d(0x3ab)){handleResultDisplay(_0x127bf2,_0x3a23f2,_0x3d20ec,_0x833352,_0x1c2579,_0x4c9625);return;}const _0x343f00=currentQuizData['id'],_0x34f462=doc(db,'artifacts/'+appId+_0x29e51d(0xbe9)+_0x343f00+_0x29e51d(0x746),currentStudentName);try{const _0x4f5c0b=[..._0x2087d9],_0x5c8b53={'score':_0x3a23f2,'points':_0x3d20ec,'badges':Array['from'](new Set(_0x833352)),'submittedAt':new Date()[_0x29e51d(0xf30)](),'answers':_0x1c2579};_0x4f5c0b['push'](_0x5c8b53);const _0x371523=_0x2087d9[_0x29e51d(0x2d2)]===0x0?_0x3a23f2:_0x2087d9[0x0][_0x29e51d(0x494)]||0x0,_0x149e69=Math[_0x29e51d(0x839)](..._0x4f5c0b[_0x29e51d(0xdeb)](_0x455eed=>_0x455eed[_0x29e51d(0x494)]));await setDoc(_0x34f462,{'studentName':currentStudentName,'totalQuestions':_0x4c9625,'attempts':_0x4f5c0b,'firstScore':_0x371523,'bestScore':_0x149e69,'latestScore':_0x3a23f2,'points':_0x3d20ec,'latestSubmittedAt':_0x5c8b53[_0x29e51d(0x471)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x29e51d(0xf28)],currentStudentName),handleResultDisplay(_0x127bf2,_0x3a23f2,_0x3d20ec,_0x833352,_0x1c2579,_0x4c9625);}catch(_0x22f35c){console[_0x29e51d(0xd5b)]('Error\x20saving\x20submission:',_0x22f35c),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x386cc3,_0x3b15b3){const _0x21fdb9=_0x4247b4,_0x526b58=doc(db,_0x21fdb9(0x2b7)+appId+'/public/data/projects/'+_0x386cc3+_0x21fdb9(0x4b5),_0x3b15b3);try{const _0x45284a=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where(_0x21fdb9(0xf28),'==',_0x386cc3)),_0x534c07=await getDocs(_0x45284a),_0x4a0736=_0x534c07[_0x21fdb9(0xd72)][_0x21fdb9(0xdeb)](_0x5d39e6=>_0x5d39e6['id']);let _0x199a97=0x0;const _0xa0d24f={},_0x2c581a=_0x4a0736['map'](_0x176325=>getDoc(doc(db,_0x21fdb9(0x2b7)+appId+_0x21fdb9(0xbe9)+_0x176325+_0x21fdb9(0x746),_0x3b15b3))),_0x2eab5b=await Promise['all'](_0x2c581a);_0x2eab5b['forEach'](_0x32ba5d=>{const _0x1ed5b1=_0x21fdb9;if(_0x32ba5d[_0x1ed5b1(0x971)]()){const _0xb05fc2=_0x32ba5d[_0x1ed5b1(0xb86)]();_0x199a97+=_0xb05fc2[_0x1ed5b1(0x254)]||0x0,_0xb05fc2[_0x1ed5b1(0x4d6)]&&_0xb05fc2[_0x1ed5b1(0x4d6)][_0x1ed5b1(0x9fb)](_0x3ac352=>{const _0x16fb93=_0x1ed5b1;_0x3ac352['badges']&&_0x3ac352[_0x16fb93(0x365)][_0x16fb93(0x9fb)](_0x554555=>{});});}}),await setDoc(_0x526b58,{'studentName':_0x3b15b3,'totalPoints':_0x199a97},{'merge':!![]});}catch(_0x162057){console[_0x21fdb9(0xd5b)](_0x21fdb9(0x344),_0x162057);}}function startAdminTest(){const _0x5f40f1=_0x4247b4;if(!currentQuizData){showMessage(_0x5f40f1(0xf41));return;}let _0x56c23a=JSON['parse'](JSON[_0x5f40f1(0xe71)](currentQuizData));currentMode=_0x5f40f1(0x3ab),currentStudentName=_0x5f40f1(0x3c5),adminView[_0x5f40f1(0x457)][_0x5f40f1(0xea1)](_0x5f40f1(0x845)),studentView[_0x5f40f1(0x457)][_0x5f40f1(0xd11)]('hidden'),studentInitialView[_0x5f40f1(0x457)][_0x5f40f1(0xea1)](_0x5f40f1(0x845)),studentNameSelectionView[_0x5f40f1(0x457)][_0x5f40f1(0xea1)](_0x5f40f1(0x845)),studentResultArea['classList']['add']('hidden'),studentQuizArea[_0x5f40f1(0x457)][_0x5f40f1(0xd11)](_0x5f40f1(0x845)),quizStartTime=new Date(),displayQuizForStudent(_0x56c23a);}function handleResultDisplay(_0x1cea8d,_0x3472f4,_0x38d93c,_0x18d731,_0x240e04,_0x5b4d6d){const _0x161c28=_0x4247b4;if(_0x1cea8d===_0x161c28(0xe43)){displaySubmissionConfirmation();return;}const _0x22f92b=currentDisplayedQuiz[_0x161c28(0xb7e)]?.[_0x161c28(0x7af)]??Math[_0x161c28(0xcb1)](_0x5b4d6d/0x2),_0x48bcdc=currentDisplayedQuiz['settings']?.[_0x161c28(0x696)]??![],_0x52088e=currentDisplayedQuiz[_0x161c28(0xb7e)]?.[_0x161c28(0xce8)]===!![],_0x552dcb=_0x3472f4<_0x22f92b,_0x32a5ec=_0x1cea8d===_0x161c28(0xc2a)||_0x1cea8d===_0x161c28(0x538);if(_0x52088e&&_0x552dcb&&!_0x32a5ec){_0x1cea8d==='show_results_and_answers'?displayResultsWithAnswers(_0x3472f4,_0x38d93c,_0x18d731,_0x240e04,_0x5b4d6d,!![]):displayLoopScreen(_0x3472f4,_0x5b4d6d,_0x1cea8d);return;}if(_0x48bcdc&&_0x552dcb){startAdaptiveFlow(_0x240e04,_0x3472f4,_0x5b4d6d);return;}switch(_0x1cea8d){case _0x161c28(0xdf2):displayResultsWithAnswers(_0x3472f4,_0x38d93c,_0x18d731,_0x240e04,_0x5b4d6d);break;case'show_results_only':displayResultsScoreOnly(_0x3472f4,_0x38d93c,_0x18d731,_0x5b4d6d);break;case'show_pass_fail_only':displayPassFailOnly(_0x3472f4,_0x5b4d6d);break;case _0x161c28(0xc2a):displayHalfMarkResult(_0x3472f4,_0x5b4d6d);break;case _0x161c28(0x538):displayPerfectScoreResult(_0x3472f4,_0x5b4d6d);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x41a118){const _0x4a015f=_0x4247b4;studentReadingArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x31a154=_0x4a015f(0xa7e)+_0x41a118+_0x4a015f(0xa1b)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x172065={'type':_0x4a015f(0xd94),'properties':{'questionText':{'type':_0x4a015f(0xaf4)},'options':{'type':'ARRAY','items':{'type':_0x4a015f(0xaf4)}},'correctAnswerIndex':{'type':_0x4a015f(0xe62)},'explanation':{'type':_0x4a015f(0xaf4)}},'required':['questionText','options','correctAnswerIndex',_0x4a015f(0x30b)]},_0x5d0f22={'type':_0x4a015f(0xd94),'properties':{'topic':{'type':_0x4a015f(0xaf4)},'questions':{'type':_0x4a015f(0xa29),'items':_0x172065}},'required':['topic',_0x4a015f(0x99c)]};try{const _0x3b985d=await callAnalysisApi(_0x31a154,_0x5d0f22);_0x3b985d['isRemedial']=!![],studentReadingArea['classList'][_0x4a015f(0xea1)](_0x4a015f(0x845));const _0x3d3899={...currentDisplayedQuiz[_0x4a015f(0xb7e)],'isAdaptive':![],'resultsDisplay':_0x4a015f(0xdf2)};_0x3b985d[_0x4a015f(0xb7e)]=_0x3d3899,displayQuizForStudent(_0x3b985d);}catch(_0x124da0){console[_0x4a015f(0xd5b)](_0x4a015f(0x816),_0x124da0),showMessage(_0x4a015f(0xc0a)),showView(_0x4a015f(0xc1b));}}function displayPassFailOnly(_0x2f6973,_0x31e041){const _0x195083=_0x4247b4,_0x13bca5=currentDisplayedQuiz[_0x195083(0xb7e)]?.[_0x195083(0x7af)]??-0x1,_0x4b7f62=currentDisplayedQuiz[_0x195083(0x316)]===!![];let _0x8514bc='',_0x155ac8=![];if(_0x4b7f62||_0x13bca5!==-0x1){_0x155ac8=_0x4b7f62?_0x2f6973===_0x31e041:_0x2f6973>=_0x13bca5;const _0x1a469a=_0x155ac8?_0x195083(0x53c):_0x195083(0xca4),_0x10d15d=_0x155ac8?_0x195083(0x22e):_0x195083(0xd90);_0x8514bc=_0x195083(0x8a0)+_0x1a469a+'\x22>'+_0x10d15d+_0x195083(0x8bf);}else _0x8514bc=_0x195083(0x42b);let _0x3df4cb=_0x195083(0x2bd)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x8514bc+_0x195083(0xc5f);studentResultArea[_0x195083(0x45b)]=_0x3df4cb,studentResultArea[_0x195083(0x457)][_0x195083(0xd11)](_0x195083(0x845)),studentQuizArea['classList'][_0x195083(0xea1)](_0x195083(0x845)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x155ac8});}function cancelAdminTest(){const _0x56bcde=_0x4247b4;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x56bcde(0xb43),handleFullscreenChange),document['removeEventListener'](_0x56bcde(0x962),handleVisibilityChange),currentMode=_0x56bcde(0x803),studentView[_0x56bcde(0x457)][_0x56bcde(0xea1)](_0x56bcde(0x845)),adminView['classList'][_0x56bcde(0xd11)](_0x56bcde(0x845)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x56bcde(0x69d));}function setupResultScreenBackButton(_0x216b1d){const _0xb28817=_0x4247b4,_0x10fcf4={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x216b1d};if(_0x10fcf4[_0xb28817(0x8a5)]){const _0x1f5087=_0xb28817(0x5c2);studentResultArea[_0xb28817(0x660)](_0xb28817(0x2b4),_0x1f5087),document[_0xb28817(0x7c7)](_0xb28817(0x7d0))[_0xb28817(0xf03)]('click',()=>{const _0x311496=_0xb28817;studentResultArea[_0x311496(0x457)]['add'](_0x311496(0x845)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x1fb558=_0xb28817(0xbba),_0x3b8b9a=currentMode===_0xb28817(0x3ab),_0x2aea87=_0x3b8b9a?_0xb28817(0x4b8):_0xb28817(0xb9b);let _0x3dc48d='';_0x10fcf4['showRankings']&&(_0x3dc48d+=_0xb28817(0x675));let _0x157372=_0x10fcf4[_0xb28817(0x1ea)];_0x157372===undefined&&(_0x157372=_0x10fcf4[_0xb28817(0x494)]<_0x10fcf4[_0xb28817(0xb37)]);_0x157372&&(_0x3dc48d+=_0xb28817(0xe3c));_0x3dc48d+=_0xb28817(0x620)+_0x1fb558+_0xb28817(0xe66)+_0x2aea87+_0xb28817(0x4a5);const _0xbe8aca=_0xb28817(0xa24)+_0x3dc48d+_0xb28817(0x745);studentResultArea[_0xb28817(0x660)]('beforeend',_0xbe8aca),studentResultArea['querySelector'](_0xb28817(0xe0c))?.[_0xb28817(0xf03)]('click',handleShowStudentRankings);const _0x6c34f=studentResultArea[_0xb28817(0x79b)](_0xb28817(0x5f6));_0x6c34f&&_0x6c34f[_0xb28817(0xf03)](_0xb28817(0x2f0),()=>{const _0x6ab8e4=_0xb28817;studentResultArea['classList'][_0x6ab8e4(0xea1)](_0x6ab8e4(0x845)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0xb28817(0x7c7)](_0x1fb558)[_0xb28817(0xf03)](_0xb28817(0x2f0),()=>{const _0x2a8aaf=_0xb28817;_0x3b8b9a?(currentMode=_0x2a8aaf(0x803),studentView[_0x2a8aaf(0x457)][_0x2a8aaf(0xea1)]('hidden'),adminView['classList'][_0x2a8aaf(0xd11)]('hidden'),showView(_0x2a8aaf(0x69d))):(showView(_0x2a8aaf(0xc1b)),document['getElementById'](_0x2a8aaf(0x2e3))[_0x2a8aaf(0xc66)]='');});}function displayResultsWithAnswers(_0x406cab,_0x3c50c6,_0x5b8f59,_0x20a4ba,_0x27a071,_0x36661b=![]){const _0x4bccee=_0x4247b4,_0x502a8a=_0x27a071>0x0?_0x406cab/_0x27a071*0x64:0x0,_0x2d8b34=currentDisplayedQuiz[_0x4bccee(0xb7e)]?.[_0x4bccee(0x7af)]??-0x1,_0x401a9d=currentDisplayedQuiz[_0x4bccee(0x316)]===!![];let _0x37a3bc='';if(_0x401a9d||_0x2d8b34!==-0x1){let _0x2e2ae9=_0x401a9d?_0x406cab===_0x27a071:_0x406cab>=_0x2d8b34;const _0x2fd596=_0x2e2ae9?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x522b62=_0x2e2ae9?_0x4bccee(0x22e):_0x4bccee(0xd90);_0x37a3bc=_0x4bccee(0x3de)+_0x2fd596+'\x22>'+_0x522b62+_0x4bccee(0x2fc);}let _0x15a161='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x4bccee(0x573)+_0x406cab+_0x4bccee(0x744)+_0x27a071+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37a3bc+_0x4bccee(0x5c4)+_0x3c50c6+_0x4bccee(0xf0c)+_0x502a8a[_0x4bccee(0xb41)](0x0)+_0x4bccee(0x4a6);currentDisplayedQuiz[_0x4bccee(0x99c)][_0x4bccee(0x9fb)]((_0x290c87,_0x3b26c1)=>{const _0x1caa2=_0x4bccee,_0x2b7a4e=_0x20a4ba[_0x3b26c1],_0x1d7c9d=_0x2b7a4e['answer'],_0x522b98=_0x2b7a4e[_0x1caa2(0x697)],_0x3b3f24=_0x290c87['questionType']||currentDisplayedQuiz['quizType'];_0x15a161+=_0x1caa2(0xb8d)+(_0x522b98?'border-green-300\x20bg-green-50':_0x1caa2(0x64c))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x3b26c1+0x1)+'.\x20'+(_0x290c87[_0x1caa2(0x203)]||_0x290c87[_0x1caa2(0x303)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x3b3f24){case _0x1caa2(0x39f):const _0x55e22e=_0x1d7c9d||_0x1caa2(0xc91),_0xfb1948=_0x290c87[_0x1caa2(0x36d)];_0x15a161+=_0x1caa2(0xe6d)+(!_0x522b98?_0x1caa2(0x265):'')+'\x22>'+_0x55e22e+_0x1caa2(0xb4a);!_0x522b98&&(_0x15a161+=_0x1caa2(0xdf4)+_0xfb1948+_0x1caa2(0x2fc));break;case _0x1caa2(0x437):case _0x1caa2(0xf11):_0x15a161+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x1d7c9d||'ไม่ได้ตอบ')+'</p>',_0x15a161+=_0x1caa2(0xdf3)+_0x290c87[_0x1caa2(0x325)]+_0x1caa2(0x2fc);break;case _0x1caa2(0x353):_0x15a161+='<p\x20class=\x22'+(_0x290c87[_0x1caa2(0xd0d)]===!![]?_0x1caa2(0x421):'')+'\x20'+(_0x1d7c9d===_0x1caa2(0x96f)&&!_0x522b98?_0x1caa2(0x265):'')+_0x1caa2(0xc04),_0x15a161+=_0x1caa2(0xeea)+(_0x290c87[_0x1caa2(0xd0d)]===![]?_0x1caa2(0x421):'')+'\x20'+(_0x1d7c9d===_0x1caa2(0xaa5)&&!_0x522b98?_0x1caa2(0x265):'')+_0x1caa2(0xcf7);break;case _0x1caa2(0x7fe):case _0x1caa2(0x848):default:if(_0x290c87['options']&&Array[_0x1caa2(0xc7d)](_0x290c87[_0x1caa2(0xb84)]))_0x15a161+=_0x290c87[_0x1caa2(0xb84)][_0x1caa2(0xdeb)]((_0x2e99b4,_0x3831b4)=>{const _0x2f483c=_0x1caa2;let _0x537625='',_0x2400bb='';if(_0x3831b4===_0x290c87[_0x2f483c(0xc6f)])_0x537625='font-bold\x20text-green-700',_0x2400bb='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x3831b4===_0x1d7c9d&&(_0x537625='font-bold\x20text-red-700\x20line-through',_0x2400bb='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return'<div\x20class=\x22'+_0x537625+'\x22>'+_0x2400bb+_0x2e99b4+_0x2f483c(0x745);})[_0x1caa2(0x94c)]('');else{_0x15a161+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x1d7c9d||'ไม่ได้ตอบ')+_0x1caa2(0x2fc);if(!_0x522b98)_0x15a161+=_0x1caa2(0x330);}break;}_0x15a161+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x290c87[_0x1caa2(0x30b)]||_0x1caa2(0xcd4))+_0x1caa2(0x745);if(!_0x522b98){const _0x345b18=_0x290c87[_0x1caa2(0x203)]||_0x290c87[_0x1caa2(0x303)];_0x15a161+=_0x1caa2(0x387)+escape(_0x345b18)+_0x1caa2(0x2b1);}_0x15a161+='</div>';}),studentResultArea['innerHTML']=_0x15a161,renderEarnedBadges(_0x5b8f59,'earned-badges-container'),studentResultArea[_0x4bccee(0x457)][_0x4bccee(0xd11)](_0x4bccee(0x845)),studentQuizArea[_0x4bccee(0x457)][_0x4bccee(0xea1)]('hidden'),setupResultScreenBackButton({'isLooping':_0x36661b,'score':_0x406cab,'totalQuestions':_0x27a071,'showRankings':!![]});if(window['MathJax'])window['MathJax'][_0x4bccee(0xecc)]([studentResultArea]);}function displayResultsScoreOnly(_0x3f167c,_0x8960a1,_0x2f6d7c,_0x4d3b07){const _0x1625b2=_0x4247b4,_0x337000=_0x4d3b07>0x0?_0x3f167c/_0x4d3b07*0x64:0x0,_0x447d48=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x20219e=currentDisplayedQuiz['isRemedial']===!![];let _0x3847ce='';if(_0x20219e||_0x447d48!==-0x1){let _0x5a8aae=_0x20219e?_0x3f167c===_0x4d3b07:_0x3f167c>=_0x447d48;const _0x3ba964=_0x5a8aae?_0x1625b2(0x53c):_0x1625b2(0xca4),_0x52a538=_0x5a8aae?_0x1625b2(0x22e):_0x1625b2(0xd90);_0x3847ce='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x3ba964+'\x22>'+_0x52a538+'</p>';}let _0x11e3bf=_0x1625b2(0x2bd)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x3f167c+_0x1625b2(0xcbc)+_0x4d3b07+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3847ce+_0x1625b2(0x5c4)+_0x8960a1+_0x1625b2(0xa7a)+_0x337000[_0x1625b2(0xb41)](0x0)+_0x1625b2(0x302);studentResultArea[_0x1625b2(0x45b)]=_0x11e3bf,renderEarnedBadges(_0x2f6d7c,_0x1625b2(0x6e2)),studentResultArea['classList']['remove'](_0x1625b2(0x845)),studentQuizArea[_0x1625b2(0x457)][_0x1625b2(0xea1)](_0x1625b2(0x845)),setupResultScreenBackButton({'score':_0x3f167c,'totalQuestions':_0x4d3b07,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x3f4076=_0x4247b4;let _0xfd370a=_0x3f4076(0x738)+currentStudentName+_0x3f4076(0xb45);studentResultArea[_0x3f4076(0x45b)]=_0xfd370a,studentResultArea[_0x3f4076(0x457)]['remove'](_0x3f4076(0x845)),studentQuizArea['classList'][_0x3f4076(0xea1)](_0x3f4076(0x845)),document[_0x3f4076(0x7c7)](_0x3f4076(0xbf1))[_0x3f4076(0xf03)](_0x3f4076(0x2f0),()=>{const _0x28677f=_0x3f4076;showView(_0x28677f(0xc1b)),document[_0x28677f(0x7c7)]('quiz-id-input')[_0x28677f(0xc66)]='';});}function renderEarnedBadges(_0x338ab3,_0x4e0e92){const _0x536dd6=_0x4247b4,_0x36fb9a=document['getElementById'](_0x4e0e92);if(!_0x36fb9a||!_0x338ab3||_0x338ab3['length']===0x0)return;let _0x3cef30='';_0x338ab3[_0x536dd6(0x9fb)]((_0x3c5d28,_0x1c4d42)=>{const _0x5ca086=_0x536dd6,_0x393b98=Object[_0x5ca086(0x57b)](BADGES)[_0x5ca086(0x787)](_0x59b935=>_0x59b935['id']===_0x3c5d28);_0x393b98&&(_0x3cef30+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x1c4d42*0.2+_0x5ca086(0xc20)+_0x393b98[_0x5ca086(0x4ba)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x393b98['icon']+_0x5ca086(0x8e0)+_0x393b98[_0x5ca086(0x689)]+_0x5ca086(0xe79));}),_0x36fb9a[_0x536dd6(0x45b)]=_0x3cef30;}function startPresentation(_0x3016e5){const _0x3c0cee=_0x4247b4;currentQuizData=getShuffledQuiz(_0x3016e5),currentPresentationSlide=0x0,presentationModal['style'][_0x3c0cee(0xc13)]=_0x3c0cee(0x479),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x56c782=_0x4247b4;document[_0x56c782(0xa56)]&&document[_0x56c782(0xa3e)](),presentationModal[_0x56c782(0x4e3)]['display']=_0x56c782(0xc43);}function renderPresentationSlide(_0x5d79fc){const _0x3dc2e3=_0x4247b4,_0x5e7cd8=document[_0x3dc2e3(0x7c7)](_0x3dc2e3(0xe72));if(!currentQuizData||!currentQuizData[_0x3dc2e3(0x99c)]||!currentQuizData[_0x3dc2e3(0x99c)][_0x5d79fc]){_0x5e7cd8[_0x3dc2e3(0x45b)]=_0x3dc2e3(0xe94);return;}const _0x236840=currentQuizData[_0x3dc2e3(0x99c)][_0x5d79fc],_0x525817=_0x236840[_0x3dc2e3(0xf29)]||currentQuizData['quizType'];_0x5e7cd8[_0x3dc2e3(0x45b)]='';let _0x1cefe1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x236840[_0x3dc2e3(0x601)]?_0x3dc2e3(0x58a)+_0x236840[_0x3dc2e3(0x601)]+_0x3dc2e3(0x745):'')+_0x3dc2e3(0xa99)+(_0x5d79fc+0x1)+'.\x20'+(_0x236840['stem']||_0x236840[_0x3dc2e3(0x303)])+_0x3dc2e3(0x8b5);switch(_0x525817){case _0x3dc2e3(0x39f):_0x1cefe1+=_0x236840[_0x3dc2e3(0x5b2)][_0x3dc2e3(0xdeb)](_0x4885b6=>_0x3dc2e3(0x394)+_0x4885b6+_0x3dc2e3(0x4d9))[_0x3dc2e3(0x94c)]('');break;case _0x3dc2e3(0x353):_0x1cefe1+=_0x3dc2e3(0xbac),_0x1cefe1+=_0x3dc2e3(0x94a);break;case _0x3dc2e3(0x437):case _0x3dc2e3(0xf11):_0x1cefe1+=_0x3dc2e3(0xbd9);break;case _0x3dc2e3(0x711):case _0x3dc2e3(0x7fe):default:_0x1cefe1+=_0x236840['options'][_0x3dc2e3(0xdeb)]((_0x2a9736,_0x140e9a)=>_0x3dc2e3(0xb8e)+_0x140e9a+_0x3dc2e3(0x23b)+_0x2a9736+_0x3dc2e3(0x4d9))['join']('');break;}_0x1cefe1+=_0x3dc2e3(0xc86)+(_0x236840[_0x3dc2e3(0x30b)]||_0x3dc2e3(0xcd4))+_0x3dc2e3(0xf7f),_0x5e7cd8[_0x3dc2e3(0x45b)]=_0x1cefe1;if(window[_0x3dc2e3(0x872)])window[_0x3dc2e3(0x872)]['typesetPromise']([_0x5e7cd8]);let _0x1146a8=[];switch(_0x525817){case _0x3dc2e3(0x39f):_0x1146a8=_0x236840[_0x3dc2e3(0x5b2)]||[];break;case'true_false':_0x1146a8=[_0x3dc2e3(0x3e4),_0x3dc2e3(0x811)];break;default:_0x1146a8=_0x236840[_0x3dc2e3(0xb84)]||[];break;}const _0x4db193=document[_0x3dc2e3(0x7c7)]('presentation-scratchpad-btn');_0x4db193&&(_0x4db193[_0x3dc2e3(0xb2b)]=()=>{openScratchpad(_0x236840,_0x1146a8);});document[_0x3dc2e3(0xf52)](_0x3dc2e3(0xa95))['forEach'](_0x50f525=>{const _0x3c0b9f=_0x3dc2e3;_0x50f525[_0x3c0b9f(0xf03)](_0x3c0b9f(0x2f0),_0x3d11f1=>revealAnswerForPresentation(_0x5d79fc,_0x3d11f1[_0x3c0b9f(0x98d)]));});const _0x207633=document[_0x3dc2e3(0x7c7)](_0x3dc2e3(0x358));_0x207633&&_0x207633[_0x3dc2e3(0xf03)](_0x3dc2e3(0x2f0),()=>checkShortAnswerForPresentation(_0x5d79fc)),document[_0x3dc2e3(0x7c7)](_0x3dc2e3(0x5f3))[_0x3dc2e3(0xb0c)]=_0x3dc2e3(0x79e)+(_0x5d79fc+0x1)+_0x3dc2e3(0x74e)+currentQuizData['questions'][_0x3dc2e3(0x2d2)],document[_0x3dc2e3(0x7c7)](_0x3dc2e3(0xa17))[_0x3dc2e3(0x766)]=_0x5d79fc===0x0,document['getElementById']('next-question-btn')[_0x3dc2e3(0x766)]=_0x5d79fc===currentQuizData[_0x3dc2e3(0x99c)][_0x3dc2e3(0x2d2)]-0x1;}async function checkShortAnswerForPresentation(_0x23cf5a){const _0x16c1bd=_0x4247b4,_0x14c58f=currentQuizData[_0x16c1bd(0x99c)][_0x23cf5a],_0x3ca12f=document[_0x16c1bd(0x7c7)]('presentation-short-answer-input'),_0x427e6b=document['getElementById'](_0x16c1bd(0x358)),_0x41c161=document[_0x16c1bd(0x7c7)](_0x16c1bd(0x501)),_0x298409=document[_0x16c1bd(0x7c7)](_0x16c1bd(0xb59));if(!_0x3ca12f||!_0x427e6b||!_0x41c161||!_0x298409)return;const _0xf5ff89=_0x3ca12f[_0x16c1bd(0xc66)][_0x16c1bd(0xba3)]();if(_0xf5ff89==='')return;_0x427e6b['disabled']=!![],_0x427e6b[_0x16c1bd(0x45b)]=_0x16c1bd(0x66d),_0x3ca12f[_0x16c1bd(0x766)]=!![];const _0x5756fc=await gradeShortAnswer(_0xf5ff89,_0x14c58f);_0x5756fc?_0x41c161[_0x16c1bd(0x45b)]=_0x16c1bd(0x53a):_0x41c161[_0x16c1bd(0x45b)]=_0x16c1bd(0x981)+_0x14c58f[_0x16c1bd(0x325)]+')',_0x41c161[_0x16c1bd(0x457)][_0x16c1bd(0xd11)]('hidden'),_0x298409[_0x16c1bd(0x457)]['remove'](_0x16c1bd(0x845)),_0x427e6b['classList'][_0x16c1bd(0xea1)](_0x16c1bd(0x845));}function revealAnswerForPresentation(_0x2adb7a,_0x3c32b4){const _0x591c8f=_0x4247b4,_0x1b525e=currentQuizData[_0x591c8f(0x99c)][_0x2adb7a],_0x4e3038=_0x1b525e['questionType']||currentQuizData[_0x591c8f(0xa71)];document[_0x591c8f(0xf52)](_0x591c8f(0xa95))[_0x591c8f(0x9fb)](_0x5e7cc8=>{const _0x1e5413=_0x591c8f;_0x5e7cc8[_0x1e5413(0x766)]=!![],_0x5e7cc8[_0x1e5413(0x457)][_0x1e5413(0xd11)](_0x1e5413(0x978));let _0xc03457=![];if(_0x4e3038===_0x1e5413(0x7fe)||_0x4e3038===_0x1e5413(0x711)){const _0x3e10ad=parseInt(_0x5e7cc8[_0x1e5413(0xefd)][_0x1e5413(0x32e)]);_0xc03457=_0x3e10ad===_0x1b525e[_0x1e5413(0xc6f)];}else{if(_0x4e3038==='true_false'){const _0x3af14c=_0x5e7cc8[_0x1e5413(0xefd)][_0x1e5413(0xa76)]===_0x1e5413(0x96f);_0xc03457=_0x3af14c===_0x1b525e[_0x1e5413(0xd0d)];}else _0x4e3038===_0x1e5413(0x39f)&&(_0xc03457=_0x5e7cc8[_0x1e5413(0xb0c)][_0x1e5413(0xba3)]()===_0x1b525e['correctResponse']);}_0xc03457?_0x5e7cc8[_0x1e5413(0x457)][_0x1e5413(0xea1)](_0x1e5413(0x3b5),_0x1e5413(0x21c),_0x1e5413(0x999)):_0x5e7cc8[_0x1e5413(0x457)]['add'](_0x1e5413(0x34f));}),_0x3c32b4[_0x591c8f(0x457)][_0x591c8f(0xd11)](_0x591c8f(0x34f));let _0x34b07b=![];if(_0x4e3038===_0x591c8f(0x7fe))_0x34b07b=parseInt(_0x3c32b4[_0x591c8f(0xefd)][_0x591c8f(0x32e)])===_0x1b525e[_0x591c8f(0xc6f)];else{if(_0x4e3038===_0x591c8f(0x353))_0x34b07b=_0x3c32b4[_0x591c8f(0xefd)][_0x591c8f(0xa76)]==='true'===_0x1b525e[_0x591c8f(0xd0d)];else _0x4e3038===_0x591c8f(0x39f)&&(_0x34b07b=_0x3c32b4[_0x591c8f(0xb0c)][_0x591c8f(0xba3)]()===_0x1b525e['correctResponse']);}!_0x34b07b&&_0x3c32b4[_0x591c8f(0x457)][_0x591c8f(0xea1)](_0x591c8f(0x78c),_0x591c8f(0x21c),'border-red-700'),document['getElementById']('presentation-explanation')[_0x591c8f(0x457)][_0x591c8f(0xd11)](_0x591c8f(0x845));}function startWholeQuizTimer(_0x3293ac){const _0x37d3ae=_0x4247b4,_0x46d7b1=document['getElementById'](_0x37d3ae(0xc21));if(!_0x46d7b1)return;const _0x358cbd=Date[_0x37d3ae(0x5f5)]()+_0x3293ac*0x3c*0x3e8;_0x46d7b1[_0x37d3ae(0x45b)]=_0x37d3ae(0xd0c);const _0xda1e02=document['getElementById'](_0x37d3ae(0x5dd));quizTimerInterval=setInterval(()=>{const _0x59d084=_0x37d3ae,_0x44b071=_0x358cbd-Date['now']();if(_0x44b071<=0x0)clearInterval(quizTimerInterval),_0xda1e02[_0x59d084(0xb0c)]=_0x59d084(0xb1c),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x2fda1b=Math[_0x59d084(0xcb1)](_0x44b071/0x3e8/0x3c%0x3c)[_0x59d084(0x2cc)]()[_0x59d084(0x2ca)](0x2,'0'),_0x26bad0=Math[_0x59d084(0xcb1)](_0x44b071/0x3e8%0x3c)['toString']()[_0x59d084(0x2ca)](0x2,'0');_0xda1e02[_0x59d084(0xb0c)]=_0x2fda1b+':'+_0x26bad0;}},0x3e8);}function renderPerQuestionView(){const _0x40f590=_0x4247b4;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x42f4ac=currentDisplayedQuiz[_0x40f590(0x99c)][currentQuestionIndex],_0xbfc05e=_0x42f4ac[_0x40f590(0xf29)]||currentDisplayedQuiz[_0x40f590(0xa71)],_0xbfa115=currentDisplayedQuiz[_0x40f590(0xb7e)]?.[_0x40f590(0x5c7)]===!![];let _0x2ead03=_0x40f590(0xce2)+(currentQuestionIndex+0x1)+_0x40f590(0x348)+currentDisplayedQuiz[_0x40f590(0x99c)][_0x40f590(0x2d2)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?_0x40f590(0x223):'')+_0x40f590(0x97b)+currentDisplayedQuiz[_0x40f590(0x6b2)]+_0x40f590(0x91f);studentQuizArea['innerHTML']=_0x2ead03;let _0x30ba2d=_0x42f4ac[_0x40f590(0x203)]||_0x42f4ac[_0x40f590(0x303)];_0x42f4ac[_0x40f590(0x601)]&&(_0x30ba2d+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x42f4ac[_0x40f590(0x601)]+_0x40f590(0x745));let _0x5b2e42='';switch(_0xbfc05e){case'short_answer':case'fill_in_no_choices':_0x5b2e42=_0x40f590(0xb13);break;case'true_false':_0x5b2e42=_0x40f590(0x86b);break;case _0x40f590(0x39f):_0x5b2e42=_0x40f590(0x3a2)+(_0x42f4ac[_0x40f590(0x5b2)]||[])['map'](_0x4429d8=>'<option\x20value=\x22'+_0x4429d8+'\x22>'+_0x4429d8+_0x40f590(0xdaf))['join']('')+_0x40f590(0x2d7);break;default:_0x42f4ac['options']&&(_0x5b2e42=_0x42f4ac['options'][_0x40f590(0xdeb)]((_0x4fe82d,_0x15391f)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x15391f+_0x40f590(0xbdb)+_0x15391f+_0x40f590(0x93b)+_0x15391f+'\x22>'+_0x4fe82d+_0x40f590(0x8aa))[_0x40f590(0x94c)](''));break;}document[_0x40f590(0x7c7)](_0x40f590(0x92e))[_0x40f590(0x45b)]=_0x30ba2d,document[_0x40f590(0x7c7)](_0x40f590(0xedb))[_0x40f590(0x45b)]=_0x5b2e42;const _0x2e8ffa=currentDisplayedQuiz[_0x40f590(0xb7e)]?.[_0x40f590(0x5c7)]===!![],_0x52f96f=currentDisplayedQuiz[_0x40f590(0xb7e)]?.['confidenceMode']||'checkbox';if(_0x2e8ffa&&_0x52f96f===_0x40f590(0xe00)){const _0x33e419=_0x40f590(0x7ae);studentQuizArea[_0x40f590(0x79b)]('.mb-6.p-4')[_0x40f590(0x660)](_0x40f590(0x2b4),_0x33e419);}studentQuizArea[_0x40f590(0x660)](_0x40f590(0x2b4),_0x40f590(0xbfa)+(currentQuestionIndex===currentDisplayedQuiz[_0x40f590(0x99c)][_0x40f590(0x2d2)]-0x1?'ส่งคำตอบ':'คำถามถัดไป')+_0x40f590(0x8d0));currentMode==='admin-testing'&&document[_0x40f590(0x7c7)](_0x40f590(0xda1))?.['addEventListener'](_0x40f590(0x2f0),cancelAdminTest);document[_0x40f590(0x7c7)](_0x40f590(0x8b0))[_0x40f590(0xf03)]('click',()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x40f590(0x872)][_0x40f590(0xecc)]([studentQuizArea]);currentDisplayedQuiz['settings']?.['timerMode']==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x20fcf8=_0x4247b4,_0x4fe9f7=currentDisplayedQuiz[_0x20fcf8(0xb7e)]['timerDuration'],_0x5da28a=document[_0x20fcf8(0x7c7)](_0x20fcf8(0x28d));if(!_0x5da28a)return;let _0x19bb93=_0x4fe9f7;_0x5da28a[_0x20fcf8(0x45b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x19bb93+_0x20fcf8(0x666);const _0x35b12d=document['getElementById'](_0x20fcf8(0xb62)),_0x8a203e=document[_0x20fcf8(0x7c7)](_0x20fcf8(0x3c8));perQuestionTimerInterval=setInterval(()=>{const _0x166d0f=_0x20fcf8;_0x19bb93--;const _0x4fa8d2=_0x19bb93/_0x4fe9f7*0x64;_0x35b12d[_0x166d0f(0x4e3)][_0x166d0f(0x895)]=_0x4fa8d2+'%',_0x8a203e[_0x166d0f(0xb0c)]=_0x19bb93,_0x19bb93<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x166d0f(0x332)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x465c2a=![]){const _0x1e2351=_0x4247b4;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x33d92=null,_0x3f820f=![];if(!_0x465c2a){const _0x4fb9d8=currentDisplayedQuiz[_0x1e2351(0x99c)][currentQuestionIndex],_0x4787c2=_0x4fb9d8[_0x1e2351(0xf29)]||currentDisplayedQuiz['quizType'];if(_0x4787c2===_0x1e2351(0xf11)||_0x4787c2===_0x1e2351(0x437))_0x33d92=document['querySelector']('textarea[name=\x22question_single\x22]')?.[_0x1e2351(0xc66)][_0x1e2351(0xba3)]()??'';else{if(_0x4787c2===_0x1e2351(0x39f))_0x33d92=document[_0x1e2351(0x79b)](_0x1e2351(0xb23))?.[_0x1e2351(0xc66)]??'';else{const _0x533bfb=document['querySelector'](_0x1e2351(0xb53));_0x533bfb&&(_0x33d92=_0x533bfb[_0x1e2351(0xc66)]);}}if(_0x33d92===null||_0x33d92===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x150d6b=currentDisplayedQuiz[_0x1e2351(0xb7e)]?.[_0x1e2351(0x5c7)]===!![],_0x1b5f96=currentDisplayedQuiz[_0x1e2351(0xb7e)]?.[_0x1e2351(0x933)]||_0x1e2351(0xe00);if(_0x150d6b&&_0x1b5f96===_0x1e2351(0x679)){document['getElementById'](_0x1e2351(0xa63))[_0x1e2351(0xefd)][_0x1e2351(0xb92)]=_0x1e2351(0x7ee),document[_0x1e2351(0x7c7)]('selected-answer-index-hidden')[_0x1e2351(0xc66)]=_0x33d92,document[_0x1e2351(0x7c7)](_0x1e2351(0xa63))[_0x1e2351(0x457)]['remove'](_0x1e2351(0x845));return;}const _0xaba717=document[_0x1e2351(0x7c7)]('confidence_single');_0xaba717&&(_0x3f820f=_0xaba717[_0x1e2351(0xa20)]);}const _0x37f3db={'answer':_0x33d92,'wasConfident':_0x3f820f};proceedToNextQuestion(_0x37f3db);}async function finalizePerQuestionQuiz(){const _0x2bdadc=_0x4247b4,_0x5f51c2=currentDisplayedQuiz[_0x2bdadc(0x99c)][_0x2bdadc(0xf40)](_0x282772=>_0x282772[_0x2bdadc(0xf29)]==='short_answer');_0x5f51c2?showMessage(_0x2bdadc(0x5ea)):showMessage(_0x2bdadc(0xb9d));const _0x4042cc=currentQuizData['id'],_0xd1e1ff=doc(db,_0x2bdadc(0x2b7)+appId+_0x2bdadc(0xbe9)+_0x4042cc+_0x2bdadc(0x746),currentStudentName),_0x2537df=await getDoc(_0xd1e1ff),_0x267400=_0x2537df[_0x2bdadc(0x971)]()?_0x2537df[_0x2bdadc(0xb86)]():{},_0x1037e8=_0x267400[_0x2bdadc(0x4d6)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x1037e8);}function getResultsFilename(){const _0x40872e=_0x4247b4,_0x1e357a=document[_0x40872e(0x7c7)]('results-quiz-title')['textContent'][_0x40872e(0x663)](/[^a-z0-9]/gi,'_')[_0x40872e(0xab2)]();return _0x40872e(0x5a5)+(_0x1e357a||_0x40872e(0xd2b));}function exportResultsAsImage(){const _0x182d78=_0x4247b4,_0x292e08=document[_0x182d78(0x7c7)](_0x182d78(0x5d9));showMessage(_0x182d78(0x379)),html2canvas(_0x292e08)['then'](_0x1eab82=>{const _0x7edfaf=_0x182d78,_0x54ea54=document[_0x7edfaf(0xb74)]('a');_0x54ea54[_0x7edfaf(0x95d)]=getResultsFilename()+_0x7edfaf(0x61b),_0x54ea54['href']=_0x1eab82[_0x7edfaf(0x9c7)](_0x7edfaf(0x6b5)),_0x54ea54[_0x7edfaf(0x2f0)](),messageModal['classList']['add'](_0x7edfaf(0x845));});}function exportResultsAsPDF(){const _0x209161=_0x4247b4,{jsPDF:_0x101a0e}=window['jspdf'],_0x315d44=new _0x101a0e();_0x315d44['setFont']('helvetica',_0x209161(0x222)),_0x315d44['autoTable']({'html':_0x209161(0x925)}),_0x315d44[_0x209161(0xd50)](getResultsFilename()+_0x209161(0x55f));}function exportResultsAsWord(){const _0x5014df=_0x4247b4,_0x56f23f=_0x5014df(0x552)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x5014df(0xeba)+_0x5014df(0xba5),_0x51a777=_0x5014df(0x818),_0x56323b=_0x56f23f+document['getElementById'](_0x5014df(0x5d9))['innerHTML']+_0x51a777,_0x6fc6a4=_0x5014df(0x636)+encodeURIComponent(_0x56323b),_0x2cac8c=document[_0x5014df(0xb74)]('a');document[_0x5014df(0x24c)][_0x5014df(0xccc)](_0x2cac8c),_0x2cac8c['href']=_0x6fc6a4,_0x2cac8c[_0x5014df(0x95d)]=getResultsFilename()+_0x5014df(0xa35),_0x2cac8c[_0x5014df(0x2f0)](),document['body'][_0x5014df(0xa77)](_0x2cac8c);}function exportResultsAsExcel(){const _0x4231c3=_0x4247b4,_0x2ea752=document[_0x4231c3(0x7c7)](_0x4231c3(0x741));let _0x54b18c=[];for(let _0x38a8c1=0x0;_0x38a8c1<_0x2ea752[_0x4231c3(0xb58)][_0x4231c3(0x2d2)];_0x38a8c1++){let _0x456791=[],_0x3259b4=_0x2ea752[_0x4231c3(0xb58)][_0x38a8c1]['querySelectorAll'](_0x4231c3(0x3d7));for(let _0x54d64e=0x0;_0x54d64e<_0x3259b4['length'];_0x54d64e++){_0x456791[_0x4231c3(0x82f)]('\x22'+_0x3259b4[_0x54d64e]['innerText'][_0x4231c3(0x663)](/"/g,'\x22\x22')+'\x22');}_0x54b18c[_0x4231c3(0x82f)](_0x456791[_0x4231c3(0x94c)](','));}const _0x2457bd=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x54b18c['join']('\x0a')],{'type':_0x4231c3(0xb29)}),_0x49ab36=document[_0x4231c3(0xb74)]('a');_0x49ab36[_0x4231c3(0x37f)]=URL[_0x4231c3(0x6c4)](_0x2457bd),_0x49ab36[_0x4231c3(0x95d)]=getResultsFilename()+_0x4231c3(0xee7),_0x49ab36[_0x4231c3(0x2f0)]();}function exportTableAsImage(_0x577ba4,_0x8cf677){const _0x502056=_0x4247b4,_0x4f82e7=document[_0x502056(0x7c7)](_0x577ba4),_0x3468bf=document[_0x502056(0x7c7)](_0x502056(0xf77));if(!_0x4f82e7){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x502056(0x616));const _0x200004=document[_0x502056(0xb74)](_0x502056(0x58c));_0x200004[_0x502056(0x4e3)][_0x502056(0x75b)]=_0x502056(0xf24),_0x200004[_0x502056(0x4e3)][_0x502056(0x59e)]='30px',_0x200004[_0x502056(0x4e3)][_0x502056(0x895)]='1000px',_0x200004[_0x502056(0x4e3)][_0x502056(0x860)]=_0x502056(0x3ca),_0x200004[_0x502056(0x4e3)]['left']=_0x502056(0xbc8),_0x200004[_0x502056(0x4e3)]['top']='0',_0x200004[_0x502056(0x4e3)][_0x502056(0x8dc)]='-1';const _0x24d9a1=document[_0x502056(0xb74)]('h1');_0x24d9a1[_0x502056(0x8e3)]=_0x3468bf?_0x3468bf['innerText']:_0x502056(0x9bd),_0x24d9a1[_0x502056(0x4e3)][_0x502056(0xb60)]=_0x502056(0x87e),_0x24d9a1[_0x502056(0x4e3)][_0x502056(0x86a)]=_0x502056(0x718),_0x24d9a1[_0x502056(0x4e3)]['fontSize']='28px',_0x24d9a1[_0x502056(0x4e3)][_0x502056(0x36b)]=_0x502056(0x2d6),_0x24d9a1[_0x502056(0x4e3)]['color']=_0x502056(0xd98),_0x24d9a1[_0x502056(0x4e3)][_0x502056(0xd30)]=_0x502056(0xee2);const _0x3bcc72=_0x4f82e7['cloneNode'](!![]);_0x3bcc72[_0x502056(0x4e3)][_0x502056(0xe1d)]='none',_0x3bcc72[_0x502056(0x4e3)][_0x502056(0x733)]='visible';const _0x5f3125=_0x3bcc72[_0x502056(0xf52)]('th');let _0x33c403=-0x1;_0x5f3125[_0x502056(0x9fb)]((_0x5cc4b9,_0x235be4)=>{const _0x54cfb1=_0x502056;_0x5cc4b9[_0x54cfb1(0xb0c)][_0x54cfb1(0xba3)]()==='ผล'&&(_0x5cc4b9['style']['display']=_0x54cfb1(0xc43),_0x33c403=_0x235be4);});if(_0x33c403!==-0x1){const _0x4d671b=_0x3bcc72[_0x502056(0xf52)]('tr');_0x4d671b[_0x502056(0x9fb)](_0x1f3d2d=>{const _0x136225=_0x502056,_0x2e3420=_0x1f3d2d[_0x136225(0xf52)]('td');_0x2e3420['length']>_0x33c403&&(_0x2e3420[_0x33c403][_0x136225(0x4e3)]['display']=_0x136225(0xc43));});}_0x200004[_0x502056(0xccc)](_0x24d9a1),_0x200004[_0x502056(0xccc)](_0x3bcc72),document['body'][_0x502056(0xccc)](_0x200004),html2canvas(_0x200004,{'scale':0x2,'useCORS':!![],'backgroundColor':_0x502056(0xf24)})[_0x502056(0x407)](_0x4fc3bf=>{const _0x890a12=_0x502056,_0x489a04=document[_0x890a12(0xb74)]('a');_0x489a04[_0x890a12(0x95d)]=_0x8cf677+_0x890a12(0x61b),_0x489a04[_0x890a12(0x37f)]=_0x4fc3bf[_0x890a12(0x9c7)](_0x890a12(0x6b5)),_0x489a04[_0x890a12(0x2f0)](),document[_0x890a12(0x24c)][_0x890a12(0xa77)](_0x200004),messageModal[_0x890a12(0x457)][_0x890a12(0xea1)]('hidden');})[_0x502056(0x242)](_0x48e143=>{const _0x2f8153=_0x502056;console[_0x2f8153(0xd5b)](_0x2f8153(0x495),_0x48e143),document[_0x2f8153(0x24c)]['removeChild'](_0x200004),showMessage('เกิดข้อผิดพลาดในการสร้างรูปภาพ');});}function exportTableAsPDF(_0x3cde9d,_0x4307ba){const _0x1068fb=_0x4247b4,{jsPDF:_0x3f2bc4}=window['jspdf'],_0x1a25c3=new _0x3f2bc4();_0x1a25c3[_0x1068fb(0x576)](_0x1068fb(0xe1c),'normal'),_0x1a25c3[_0x1068fb(0xe02)]({'html':'#'+_0x3cde9d}),_0x1a25c3['save'](_0x4307ba+_0x1068fb(0x55f));}function exportTableAsWord(_0xf45e75,_0x37bd71){const _0x182774=_0x4247b4,_0x549dfe=document[_0x182774(0x7c7)](_0xf45e75);if(!_0x549dfe){showMessage(_0x182774(0xb3e));return;}const _0x46089f=_0x182774(0x552)+_0x182774(0xe83)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x208f56=_0x182774(0x818),_0x1e47bb=_0x46089f+_0x549dfe[_0x182774(0x45b)]+_0x208f56,_0x352414='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x1e47bb),_0x5a2d41=document[_0x182774(0xb74)]('a');document['body'][_0x182774(0xccc)](_0x5a2d41),_0x5a2d41[_0x182774(0x37f)]=_0x352414,_0x5a2d41['download']=_0x37bd71+_0x182774(0xa35),_0x5a2d41['click'](),document[_0x182774(0x24c)]['removeChild'](_0x5a2d41);}function exportTableAsExcel(_0x2029bb,_0x126dd4){const _0x406b73=_0x4247b4,_0x8a72e8=document[_0x406b73(0x7c7)](_0x2029bb);if(!_0x8a72e8){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x149af1=[];for(let _0x5f49f6=0x0;_0x5f49f6<_0x8a72e8['rows']['length'];_0x5f49f6++){let _0x440ceb=[],_0x2d10ec=_0x8a72e8[_0x406b73(0xb58)][_0x5f49f6][_0x406b73(0xf52)](_0x406b73(0x3d7));for(let _0x48538f=0x0;_0x48538f<_0x2d10ec['length'];_0x48538f++){_0x440ceb[_0x406b73(0x82f)]('\x22'+_0x2d10ec[_0x48538f][_0x406b73(0x8e3)][_0x406b73(0x663)](/"/g,'\x22\x22')+'\x22');}_0x149af1[_0x406b73(0x82f)](_0x440ceb['join'](','));}const _0x545d4e=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x149af1[_0x406b73(0x94c)]('\x0a')],{'type':_0x406b73(0xb29)}),_0x117047=document[_0x406b73(0xb74)]('a');_0x117047['href']=URL[_0x406b73(0x6c4)](_0x545d4e),_0x117047['download']=_0x126dd4+'.csv',_0x117047[_0x406b73(0x2f0)]();}function renderAnalytics(_0x1055a2,_0x305660){const _0x1ab5d4=_0x4247b4,_0x3bae61=_0x305660[_0x1ab5d4(0x498)](_0x26237f=>_0x26237f[_0x1ab5d4(0x889)]!==undefined),_0x21d62=currentProjectData[_0x1ab5d4(0x97d)][_0x1ab5d4(0x2d2)],_0x772618=_0x3bae61[_0x1ab5d4(0x2d2)],_0x64a444=_0x21d62-_0x772618,_0x3b269f=_0x21d62>0x0?_0x772618/_0x21d62*0x64:0x0,_0x4f6ef1=_0x3bae61[_0x1ab5d4(0xdeb)](_0x282eba=>_0x282eba[_0x1ab5d4(0x889)]),_0x414b9b=_0x4f6ef1[_0x1ab5d4(0x2d2)]>0x0?_0x4f6ef1[_0x1ab5d4(0x382)]((_0x17c36c,_0x358628)=>_0x17c36c+_0x358628,0x0)/_0x4f6ef1[_0x1ab5d4(0x2d2)]:0x0,_0x4422d4=_0x1055a2[_0x1ab5d4(0x99c)]['length'],_0x8949ec=_0x4422d4>0x0?_0x414b9b/_0x4422d4*0x64:0x0,_0x2c2590=calculateItemAnalysis(_0x1055a2,_0x3bae61),_0x15d194=calculateReliabilityKR20(_0x1055a2,_0x3bae61,_0x2c2590['perQuestionStats']);let _0x3a616c='';if(_0x15d194!==null){let _0x1a4563='';if(_0x15d194>=0.9)_0x1a4563=_0x1ab5d4(0x633);else{if(_0x15d194>=0.8)_0x1a4563=_0x1ab5d4(0x400);else{if(_0x15d194>=0.7)_0x1a4563='ดี';else{if(_0x15d194>=0.6)_0x1a4563=_0x1ab5d4(0xa9a);else _0x1a4563=_0x1ab5d4(0x31c);}}}_0x3a616c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x15d194[_0x1ab5d4(0xb41)](0x2)+_0x1ab5d4(0x424)+_0x1a4563+_0x1ab5d4(0xa87);}const _0x3c91a0=document[_0x1ab5d4(0x7c7)](_0x1ab5d4(0x1f4));_0x3c91a0[_0x1ab5d4(0x45b)]=_0x1ab5d4(0x595)+_0x3b269f[_0x1ab5d4(0xb41)](0x0)+_0x1ab5d4(0xaed)+_0x772618+'/'+_0x21d62+_0x1ab5d4(0x7c3)+_0x414b9b[_0x1ab5d4(0xb41)](0x2)+_0x1ab5d4(0x423)+_0x8949ec[_0x1ab5d4(0xb41)](0x0)+_0x1ab5d4(0xb8b)+(_0x4f6ef1[_0x1ab5d4(0x2d2)]>0x0?Math[_0x1ab5d4(0x839)](..._0x4f6ef1):_0x1ab5d4(0x288))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x4f6ef1[_0x1ab5d4(0x2d2)]>0x0?Math[_0x1ab5d4(0x443)](..._0x4f6ef1):_0x1ab5d4(0x288))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3a616c+_0x1ab5d4(0xdbd);const _0x4c81d8=document[_0x1ab5d4(0x7c7)](_0x1ab5d4(0xbe3));_0x4c81d8&&_0x4c81d8[_0x1ab5d4(0xd11)]();const _0x143ffe=_0x1ab5d4(0x757);_0x3c91a0[_0x1ab5d4(0x660)](_0x1ab5d4(0x671),_0x143ffe);const _0x2408a4=currentProjectData[_0x1ab5d4(0x97d)]||[];renderSubmissionChart(_0x772618,_0x64a444,_0x3bae61,_0x2408a4),renderScoreDistributionChart(_0x3bae61,_0x4422d4),renderQuestionAnalytics(_0x1055a2,_0x3bae61,_0x2408a4),renderInterestingStats(_0x1055a2,_0x3bae61);}async function handleExportLessonPDF(){const _0x3a102f=_0x4247b4,_0x3eb361=document[_0x3a102f(0x7c7)](_0x3a102f(0x433)),_0x117999=document[_0x3a102f(0x7c7)](_0x3a102f(0x834))[_0x3a102f(0xb0c)],_0x7bc0db=window[_0x3a102f(0x1f5)]('',_0x3a102f(0x4c9)),_0x358000=_0x3a102f(0x94f)+_0x117999+_0x3a102f(0x92f)+_0x3eb361[_0x3a102f(0x45b)]+_0x3a102f(0x9a6);_0x7bc0db[_0x3a102f(0x571)][_0x3a102f(0xf02)](_0x358000),_0x7bc0db['document'][_0x3a102f(0x878)](),_0x7bc0db[_0x3a102f(0xdca)]=function(){setTimeout(()=>{const _0x35fa88=_0xc03a;_0x7bc0db[_0x35fa88(0xccd)]();},0x5dc);};}function renderInterestingStats(_0x317cf9,_0x51bbf3){const _0x1ded0c=_0x4247b4,_0x5afe70=document[_0x1ded0c(0x7c7)](_0x1ded0c(0xab0));if(!_0x5afe70)return;if(_0x51bbf3[_0x1ded0c(0x2d2)]===0x0){_0x5afe70[_0x1ded0c(0x45b)]=_0x1ded0c(0x9f0);return;}const _0x3c4204=_0x317cf9[_0x1ded0c(0x99c)][_0x1ded0c(0xdeb)]((_0x3d4f11,_0x290b5e)=>({'index':_0x290b5e+0x1,'text':_0x3d4f11['questionText']||_0x3d4f11['stem'],'correct':0x0}));_0x51bbf3[_0x1ded0c(0x9fb)](_0x176b9d=>{const _0x3c1cd8=_0x1ded0c,_0x40c458=_0x176b9d['attempts'][_0x176b9d['attempts']['length']-0x1];_0x40c458&&_0x40c458[_0x3c1cd8(0xa92)]&&_0x40c458[_0x3c1cd8(0xa92)][_0x3c1cd8(0x9fb)](_0x3190a6=>{const _0x39c843=_0x3c1cd8,_0x59b2c4=_0x3c4204[_0x39c843(0x787)](_0x9b2894=>_0x9b2894[_0x39c843(0x9d1)]===_0x3190a6[_0x39c843(0x881)]);_0x3190a6[_0x39c843(0x697)]&&_0x59b2c4&&_0x59b2c4['correct']++;});});const _0x13e00d=_0x51bbf3['length'],_0x3b617b=Math[_0x1ded0c(0x839)](..._0x3c4204[_0x1ded0c(0xdeb)](_0x40c0b1=>_0x40c0b1['correct'])),_0x15e50f=Math[_0x1ded0c(0x443)](..._0x3c4204[_0x1ded0c(0xdeb)](_0x2c0e72=>_0x2c0e72[_0x1ded0c(0x9a2)])),_0x351d31=_0x3c4204[_0x1ded0c(0x498)](_0x385efa=>_0x385efa[_0x1ded0c(0x9a2)]===_0x3b617b)[_0x1ded0c(0xdeb)](_0x593bce=>'ข้อ\x20'+_0x593bce[_0x1ded0c(0x32e)]),_0x3d7f40=_0x3c4204[_0x1ded0c(0x498)](_0x998601=>_0x998601[_0x1ded0c(0x9a2)]===_0x15e50f)[_0x1ded0c(0xdeb)](_0x415eb1=>'ข้อ\x20'+_0x415eb1['index']),_0x5a1bd4=_0x51bbf3[_0x1ded0c(0x994)]((_0x152aee,_0x2afb53)=>_0x2afb53['latestScore']-_0x152aee[_0x1ded0c(0x889)])['filter']((_0x55e861,_0x51d5a0,_0x423cc7)=>_0x55e861[_0x1ded0c(0x889)]===_0x423cc7[0x0][_0x1ded0c(0x889)]),_0x1bd894=_0x51bbf3[_0x1ded0c(0x994)]((_0x47c057,_0x1020d9)=>_0x47c057['latestScore']-_0x1020d9[_0x1ded0c(0x889)])[_0x1ded0c(0x498)]((_0x26b532,_0x35215f,_0x37ac61)=>_0x26b532[_0x1ded0c(0x889)]===_0x37ac61[0x0][_0x1ded0c(0x889)]),_0x409680='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x351d31['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x3b617b+_0x1ded0c(0x74e)+_0x13e00d+_0x1ded0c(0xa18)+_0x3d7f40[_0x1ded0c(0x94c)](',\x20')+_0x1ded0c(0xcf9)+(_0x13e00d-_0x15e50f)+'\x20/\x20'+_0x13e00d+_0x1ded0c(0x42e)+_0x5a1bd4[_0x1ded0c(0xdeb)](_0x4ad66f=>_0x4ad66f[_0x1ded0c(0x27f)])[_0x1ded0c(0x94c)](',\x20')+_0x1ded0c(0x30f)+_0x5a1bd4[0x0]['latestScore']+_0x1ded0c(0xe21)+_0x1bd894[_0x1ded0c(0xdeb)](_0x23ec59=>_0x23ec59[_0x1ded0c(0x27f)])['join'](',\x20')+_0x1ded0c(0x30f)+_0x1bd894[0x0][_0x1ded0c(0x889)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x5afe70[_0x1ded0c(0x45b)]=_0x409680;}function renderSubmissionChart(_0x31dceb,_0x2491b0,_0xcae561,_0x36b196){const _0x509aa3=_0x4247b4,_0x72a806=document[_0x509aa3(0x7c7)](_0x509aa3(0xa21))[_0x509aa3(0xed7)]('2d'),_0x3579b0=_0xcae561[_0x509aa3(0xdeb)](_0x51c383=>_0x51c383[_0x509aa3(0x27f)]),_0x57609b=_0x36b196[_0x509aa3(0x498)](_0x4c590d=>!_0x3579b0[_0x509aa3(0xba0)](_0x4c590d));chartInstances['submission']&&chartInstances[_0x509aa3(0x581)][_0x509aa3(0x3f0)](),chartInstances['submission']=new Chart(_0x72a806,{'type':_0x509aa3(0xb88),'data':{'labels':['ส่งแล้ว','ยังไม่ส่ง'],'datasets':[{'data':[_0x31dceb,_0x2491b0],'backgroundColor':[_0x509aa3(0x640),'#F59E0B'],'borderColor':[_0x509aa3(0xf24),_0x509aa3(0xf24)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x5c1c5f){const _0x207d6a=_0x509aa3;let _0x41e5f4=_0x5c1c5f[_0x207d6a(0x329)]||'';return _0x41e5f4&&(_0x41e5f4+=':\x20'),_0x41e5f4+=_0x5c1c5f[_0x207d6a(0x5a6)],_0x41e5f4;},'afterLabel':function(_0x5a52d1){const _0x3e4b5e=_0x509aa3;let _0x85b6df;return _0x5a52d1[_0x3e4b5e(0x6ac)]===0x0?_0x85b6df=_0x3579b0:_0x85b6df=_0x57609b,_0x85b6df[_0x3e4b5e(0x2d2)]>0x0?_0x85b6df[_0x3e4b5e(0x94c)]('\x0a'):_0x3e4b5e(0x402);}}}}}});}function renderScoreDistributionChart(_0x5eb747,_0x38849c){const _0x5ca297=_0x4247b4,_0x1193f3=document[_0x5ca297(0x7c7)](_0x5ca297(0x664))['getContext']('2d'),_0x5d0883={};for(let _0x5a2c86=0x0;_0x5a2c86<=_0x38849c;_0x5a2c86++){_0x5d0883[_0x5a2c86]=0x0;}_0x5eb747[_0x5ca297(0x9fb)](_0x2a3819=>{const _0x2e900c=_0x5ca297;_0x5d0883[_0x2a3819[_0x2e900c(0x889)]]!==undefined&&_0x5d0883[_0x2a3819[_0x2e900c(0x889)]]++;}),chartInstances['score']&&chartInstances[_0x5ca297(0x494)][_0x5ca297(0x3f0)](),chartInstances[_0x5ca297(0x494)]=new Chart(_0x1193f3,{'type':'bar','data':{'labels':Object['keys'](_0x5d0883),'datasets':[{'label':_0x5ca297(0xa67),'data':Object[_0x5ca297(0x57b)](_0x5d0883),'backgroundColor':_0x5ca297(0xddf),'borderColor':_0x5ca297(0x5cc),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x5ca297(0x9d8)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x160f76){const _0x155edb=_0x5ca297,_0x4aa388=_0x160f76[_0x155edb(0x329)],_0x444e1c=_0x5eb747[_0x155edb(0x498)](_0x232ed1=>_0x232ed1[_0x155edb(0x889)]==_0x4aa388)[_0x155edb(0xdeb)](_0x329a1f=>_0x329a1f[_0x155edb(0x27f)]);return _0x444e1c[_0x155edb(0x2d2)]>0x0?_0x444e1c[_0x155edb(0x94c)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x513077,_0x480e94,_0x1a2089){const _0x274b1a=_0x4247b4,_0x15c759=document[_0x274b1a(0x7c7)](_0x274b1a(0xbcf));if(_0x1a2089[_0x274b1a(0x2d2)]===0x0){_0x15c759[_0x274b1a(0x45b)]=_0x274b1a(0xe06);return;}const _0x1a933e=calculateItemAnalysis(_0x513077,_0x480e94),_0x411d48=calculateDistractorAnalysis(_0x513077,_0x480e94);let _0x1ea42a='';_0x1a933e[_0x274b1a(0x5d3)]&&(_0x1ea42a=_0x274b1a(0x974)+_0x1a933e[_0x274b1a(0x5d3)][_0x274b1a(0x528)][_0x274b1a(0x2d2)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1a933e['overallGroups'][_0x274b1a(0x528)][_0x274b1a(0xdeb)](_0x4241c2=>'<li>'+_0x4241c2+_0x274b1a(0x98a))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x1a933e['overallGroups'][_0x274b1a(0x76d)][_0x274b1a(0x2d2)]+_0x274b1a(0x2b8)+_0x1a933e[_0x274b1a(0x5d3)][_0x274b1a(0x76d)][_0x274b1a(0xdeb)](_0x50ec85=>_0x274b1a(0x200)+_0x50ec85+_0x274b1a(0x98a))[_0x274b1a(0x94c)]('')+_0x274b1a(0xd9f));let _0x217169='';const _0x2c65ab=_0x480e94[_0x274b1a(0xdeb)](_0x11ba9b=>_0x11ba9b[_0x274b1a(0x27f)]),_0x356efa=_0x261d86=>{const _0x441f99=_0x274b1a;if(_0x261d86>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x261d86>=0.6)return _0x441f99(0x715);if(_0x261d86>=0.4)return _0x441f99(0xd58);if(_0x261d86>=0.2)return _0x441f99(0x67e);return _0x441f99(0x395);},_0x176e28=_0x3d038f=>{const _0x5939dd=_0x274b1a;if(_0x3d038f<0x0)return _0x5939dd(0x3dd);if(_0x3d038f>=0.4)return _0x5939dd(0xa58);if(_0x3d038f>=0.3)return _0x5939dd(0x2b9);if(_0x3d038f>=0.2)return _0x5939dd(0xe54);return _0x5939dd(0xa4b);},_0x235b44=_0x5d46b4=>{const _0x212b72=_0x274b1a,_0x1f16cb=_0x5d46b4['toFixed'](0x0);if(parseFloat(_0x1f16cb)===0x64)return _0x212b72(0xc2b)+_0x1f16cb+_0x212b72(0x480);if(_0x5d46b4>=0x32)return _0x212b72(0x9c5)+_0x1f16cb+'%</span>';return _0x212b72(0xa6e)+_0x1f16cb+'%</span>';};_0x513077[_0x274b1a(0x99c)][_0x274b1a(0x9fb)]((_0x4986c0,_0x2a653c)=>{const _0x2cb0b8=_0x274b1a,_0x26eb1e=_0x1a933e['perQuestionStats'][_0x2a653c],_0x151746=_0x411d48[_0x2a653c],_0x137631=_0x4986c0['stem']||_0x4986c0['questionText']||_0x4986c0[_0x2cb0b8(0x831)];let _0x5206d8=0x0;const _0x327257=[],_0x7a511d=[];_0x480e94[_0x2cb0b8(0x9fb)](_0xd47112=>{const _0x4aed24=_0x2cb0b8,_0x466cdb=_0xd47112[_0x4aed24(0x4d6)][_0xd47112['attempts'][_0x4aed24(0x2d2)]-0x1];if(_0x466cdb&&_0x466cdb[_0x4aed24(0xa92)]){const _0x41d708=_0x466cdb[_0x4aed24(0xa92)][_0x4aed24(0x787)](_0x3c424f=>_0x3c424f[_0x4aed24(0x881)]===_0x137631)??_0x466cdb[_0x4aed24(0xa92)][_0x2a653c]??null;_0x41d708&&(_0x41d708[_0x4aed24(0x697)]?(_0x5206d8++,_0x327257[_0x4aed24(0x82f)](_0xd47112[_0x4aed24(0x27f)])):_0x7a511d[_0x4aed24(0x82f)](_0xd47112['studentName']));}});const _0x4a6555=_0x480e94[_0x2cb0b8(0x2d2)]>0x0?_0x5206d8/_0x480e94[_0x2cb0b8(0x2d2)]*0x64:0x0,_0x2ed104=_0x1a2089[_0x2cb0b8(0x498)](_0x5964bd=>!_0x2c65ab[_0x2cb0b8(0xba0)](_0x5964bd)),_0x2c67b3=_0x26eb1e?_0x2cb0b8(0x420)+_0x26eb1e['p'][_0x2cb0b8(0xb41)](0x2)+'</p><div>'+_0x356efa(_0x26eb1e['p'])+_0x2cb0b8(0xa6d)+_0x26eb1e['r'][_0x2cb0b8(0xb41)](0x2)+_0x2cb0b8(0xa8f)+_0x176e28(_0x26eb1e['r'])+_0x2cb0b8(0x9cc)+_0x235b44(_0x4a6555)+_0x2cb0b8(0x476):'';let _0x387a2a='';_0x151746&&(_0x387a2a=_0x2cb0b8(0xed0)+Object['keys'](_0x151746)['map'](_0x1a6f6e=>{const _0x4752bf=_0x2cb0b8,_0x4270c3=_0x151746[_0x1a6f6e],_0x3a2470=parseInt(_0x1a6f6e)===_0x4986c0['correctAnswerIndex'],_0x1942ce=!_0x3a2470&&_0x4270c3['lower_group_count']>_0x4270c3[_0x4752bf(0x96b)];return _0x4752bf(0xc6c)+(_0x3a2470?_0x4752bf(0xeb7):'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x3a2470?'✔\x20':'')+_0x4270c3[_0x4752bf(0x9d1)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x4270c3['upper_group_count']+_0x4752bf(0xd4f)+_0x4270c3[_0x4752bf(0x339)]+'\x20'+(_0x1942ce?'👍':'')+_0x4752bf(0xd4f)+_0x4270c3[_0x4752bf(0x843)]+_0x4752bf(0x5f1);})[_0x2cb0b8(0x94c)]('')+_0x2cb0b8(0x484));let _0x2789cb='';_0x26eb1e&&_0x26eb1e['upperGroupResponders']&&(_0x2789cb=_0x2cb0b8(0xbd1)+_0x26eb1e[_0x2cb0b8(0xf5c)][_0x2cb0b8(0x2d2)]+_0x2cb0b8(0xa98)+_0x26eb1e[_0x2cb0b8(0xf5c)]['map'](_0x5ccc27=>_0x2cb0b8(0x200)+(_0x5ccc27[_0x2cb0b8(0x697)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x2cb0b8(0xb20))+'\x20'+_0x5ccc27[_0x2cb0b8(0x689)]+_0x2cb0b8(0x98a))[_0x2cb0b8(0x94c)]('')+_0x2cb0b8(0x950)+_0x26eb1e['lowerGroupResponders'][_0x2cb0b8(0x2d2)]+_0x2cb0b8(0xa98)+_0x26eb1e[_0x2cb0b8(0x26c)][_0x2cb0b8(0xdeb)](_0xfc32ca=>'<li>'+(_0xfc32ca[_0x2cb0b8(0x697)]?_0x2cb0b8(0x8b2):_0x2cb0b8(0xb20))+'\x20'+_0xfc32ca['name']+_0x2cb0b8(0x98a))[_0x2cb0b8(0x94c)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x217169+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x2a653c+0x1)+':\x20'+_0x137631+_0x2cb0b8(0x7fb)+_0x2c67b3+_0x2cb0b8(0x62a)+_0x137631+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x5206d8+_0x2cb0b8(0x348)+_0x480e94['length']+_0x2cb0b8(0xc11)+_0x4a6555[_0x2cb0b8(0xb41)](0x0)+_0x2cb0b8(0xa61)+_0x327257[_0x2cb0b8(0x2d2)]+_0x2cb0b8(0x2ce)+(_0x327257['length']>0x0?_0x327257[_0x2cb0b8(0x94c)](',\x20'):_0x2cb0b8(0x402))+_0x2cb0b8(0x626)+_0x7a511d['length']+_0x2cb0b8(0x2ce)+(_0x7a511d[_0x2cb0b8(0x2d2)]>0x0?_0x7a511d['join'](',\x20'):_0x2cb0b8(0x402))+_0x2cb0b8(0x42c)+_0x2ed104[_0x2cb0b8(0x2d2)]+_0x2cb0b8(0x2ce)+(_0x2ed104[_0x2cb0b8(0x2d2)]>0x0?_0x2ed104[_0x2cb0b8(0x94c)](',\x20'):_0x2cb0b8(0x402))+_0x2cb0b8(0xaa8)+_0x387a2a+_0x2cb0b8(0xcad)+_0x2789cb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x15c759[_0x274b1a(0x45b)]=_0x1ea42a+_0x217169;try{window[_0x274b1a(0x872)]&&MathJax[_0x274b1a(0xecc)]&&MathJax[_0x274b1a(0xecc)]([_0x15c759]);}catch(_0x259539){console['error'](_0x274b1a(0x324),_0x259539);}}function calculateDistractorAnalysis(_0x41e9d2,_0x55e1c6){const _0x1c4b8c=_0x4247b4,_0x2e6f40={};if(_0x55e1c6[_0x1c4b8c(0x2d2)]<0x2)return _0x2e6f40;const _0x108e4e=[..._0x55e1c6][_0x1c4b8c(0x994)]((_0x58861e,_0x5ba7de)=>{const _0x405070=_0x1c4b8c,_0x4bf951=_0x5ba7de['latestScore']-_0x58861e[_0x405070(0x889)];if(_0x4bf951!==0x0)return _0x4bf951;const _0x545e98=_0x58861e[_0x405070(0x4d6)]?.[_0x405070(0x2d2)]||0x1,_0x157740=_0x5ba7de[_0x405070(0x4d6)]?.[_0x405070(0x2d2)]||0x1,_0x1f857d=_0x545e98-_0x157740;if(_0x1f857d!==0x0)return _0x1f857d;const _0x3236ee=new Date(_0x58861e[_0x405070(0x9cb)]),_0x33a9f9=new Date(_0x5ba7de[_0x405070(0x9cb)]),_0x54acd7=_0x3236ee-_0x33a9f9;if(_0x54acd7!==0x0)return _0x54acd7;return _0x58861e['studentName'][_0x405070(0x460)](_0x5ba7de[_0x405070(0x27f)],'th');}),_0x106d35=_0x108e4e[_0x1c4b8c(0x2d2)],_0x550dc=Math[_0x1c4b8c(0x839)](0x1,Math[_0x1c4b8c(0xcb1)](_0x106d35*0.33)),_0x3949=_0x108e4e[_0x1c4b8c(0x68d)](0x0,_0x550dc),_0x102515=_0x108e4e['slice'](-_0x550dc);return _0x41e9d2['questions'][_0x1c4b8c(0x9fb)]((_0x2b54de,_0x5389d0)=>{const _0x51be5b=_0x1c4b8c;if(_0x2b54de['questionType']!=='multiple_choice'||!_0x2b54de['options'])return;const _0x4269b8=_0x2b54de[_0x51be5b(0x303)],_0x8bf137={};_0x2b54de[_0x51be5b(0xb84)]['forEach']((_0x36f702,_0x866c26)=>{_0x8bf137[_0x866c26]={'text':_0x36f702,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x108e4e[_0x51be5b(0x9fb)](_0x5c798c=>{const _0x14d559=_0x51be5b,_0x23c195=_0x5c798c['attempts'][_0x5c798c[_0x14d559(0x4d6)][_0x14d559(0x2d2)]-0x1],_0x1695ba=_0x23c195[_0x14d559(0xa92)][_0x14d559(0x787)](_0x592d7d=>_0x592d7d[_0x14d559(0x881)]===_0x4269b8);if(_0x1695ba&&_0x1695ba[_0x14d559(0xa76)]!==null){const _0x4f8da4=_0x2b54de[_0x14d559(0xb84)][_0x14d559(0x82e)](_0x2b36f5=>_0x2b36f5===_0x1695ba[_0x14d559(0x720)]);_0x4f8da4!==-0x1&&_0x8bf137[_0x4f8da4]&&(_0x8bf137[_0x4f8da4][_0x14d559(0x843)]++,_0x3949['includes'](_0x5c798c)&&_0x8bf137[_0x4f8da4][_0x14d559(0x96b)]++,_0x102515[_0x14d559(0xba0)](_0x5c798c)&&_0x8bf137[_0x4f8da4][_0x14d559(0x339)]++);}}),_0x2e6f40[_0x5389d0]=_0x8bf137;}),_0x2e6f40;}function calculateReliabilityKR20(_0x1e29d6,_0x34d1ce,_0x768379){const _0x52aaf2=_0x4247b4,_0x586d3e=_0x1e29d6[_0x52aaf2(0x99c)][_0x52aaf2(0x2d2)];if(_0x586d3e<0x2||_0x34d1ce[_0x52aaf2(0x2d2)]<0x2)return null;const _0x21d1bb=_0x34d1ce[_0x52aaf2(0xdeb)](_0x1f4574=>_0x1f4574['latestScore']),_0x333a7c=_0x21d1bb[_0x52aaf2(0x382)]((_0x4fe84a,_0xa3f23c)=>_0x4fe84a+_0xa3f23c,0x0)/_0x21d1bb[_0x52aaf2(0x2d2)],_0x1c6500=_0x21d1bb[_0x52aaf2(0xdeb)](_0x3c80ec=>Math[_0x52aaf2(0x943)](_0x3c80ec-_0x333a7c,0x2))[_0x52aaf2(0x382)]((_0x4ce5a9,_0x1059cf)=>_0x4ce5a9+_0x1059cf,0x0)/_0x21d1bb['length'];if(_0x1c6500===0x0)return null;let _0x3f26b1=0x0;for(let _0x2cb7c2=0x0;_0x2cb7c2<_0x586d3e;_0x2cb7c2++){const _0x5375dd=_0x768379[_0x2cb7c2]?.['p'];if(_0x5375dd===undefined)continue;const _0x5d2808=0x1-_0x5375dd;_0x3f26b1+=_0x5375dd*_0x5d2808;}if(_0x3f26b1===0x0)return null;const _0x30eeab=_0x586d3e/(_0x586d3e-0x1)*(0x1-_0x3f26b1/_0x1c6500);if(_0x30eeab>0x1)return null;return _0x30eeab;}async function handleAnalyzeClass(){const _0x4e3df1=_0x4247b4;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x4e3df1(0x2d0));return;}const _0x5a2ede=collection(db,'artifacts/'+appId+_0x4e3df1(0xbe9)+currentQuizData['id']+_0x4e3df1(0x746)),_0xbe604a=await getDocs(_0x5a2ede),_0x1217be=_0xbe604a[_0x4e3df1(0xd72)]['map'](_0x240466=>_0x240466[_0x4e3df1(0xb86)]());if(_0x1217be[_0x4e3df1(0x2d2)]<0x2){showMessage(_0x4e3df1(0x959));return;}const _0x51aca5=document[_0x4e3df1(0x7c7)](_0x4e3df1(0x43d));_0x51aca5['innerHTML']=_0x4e3df1(0x887),document[_0x4e3df1(0x7c7)]('analyze-strengths-btn')[_0x4e3df1(0x766)]=!![];const _0x3dc0b1=_0x1217be[_0x4e3df1(0xdeb)]((_0x57c781,_0x566016)=>{const _0x520c68=_0x4e3df1,_0x2c3865=_0x57c781[_0x520c68(0x4d6)][_0x57c781[_0x520c68(0x4d6)][_0x520c68(0x2d2)]-0x1];if(!_0x2c3865)return'';return _0x520c68(0x322)+(_0x566016+0x1)+'\x20('+_0x57c781[_0x520c68(0x27f)]+_0x520c68(0x321)+_0x2c3865['score']+'/'+_0x57c781[_0x520c68(0xb37)]+_0x520c68(0x3e0)+JSON[_0x520c68(0xe71)](_0x2c3865['answers'])+_0x520c68(0xe0d);})[_0x4e3df1(0x94c)](_0x4e3df1(0x230)),_0x3d7c12='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x4e3df1(0x6b2)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON['stringify'](currentQuizData[_0x4e3df1(0x99c)])+_0x4e3df1(0x5e0)+_0x3dc0b1+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x3dae4e={'type':_0x4e3df1(0xd94),'properties':{'classStrengths':{'type':_0x4e3df1(0xa29),'items':{'type':_0x4e3df1(0xaf4)}},'classWeaknesses':{'type':_0x4e3df1(0xa29),'items':{'type':_0x4e3df1(0xaf4)}},'teacherSuggestions':{'type':_0x4e3df1(0xa29),'items':{'type':_0x4e3df1(0xaf4)}}},'required':[_0x4e3df1(0x7b1),_0x4e3df1(0x65f),_0x4e3df1(0xd16)]};try{const _0x106b07=await callAnalysisApi(_0x3d7c12,_0x3dae4e);displayClassAnalysis(_0x106b07);}catch(_0x52d6b9){console[_0x4e3df1(0xd5b)](_0x4e3df1(0xc03),_0x52d6b9),_0x51aca5[_0x4e3df1(0x45b)]=_0x4e3df1(0x215)+_0x52d6b9['message']+_0x4e3df1(0x31b);}finally{document[_0x4e3df1(0x7c7)](_0x4e3df1(0x599))[_0x4e3df1(0x766)]=![];}}function displayClassAnalysis(_0x2a3170){const _0x40090a=_0x4247b4,_0x26edc1=document['getElementById']('strength-weakness-analysis-container');if(!_0x2a3170){_0x26edc1[_0x40090a(0x45b)]=_0x40090a(0x267);return;}_0x26edc1[_0x40090a(0x45b)]=_0x40090a(0x22c)+_0x2a3170[_0x40090a(0x7b1)][_0x40090a(0xdeb)](_0x4bc118=>_0x40090a(0x200)+_0x4bc118+_0x40090a(0x98a))[_0x40090a(0x94c)]('')+_0x40090a(0x5e1)+_0x2a3170[_0x40090a(0x65f)][_0x40090a(0xdeb)](_0x2c8404=>'<li>'+_0x2c8404+_0x40090a(0x98a))['join']('')+_0x40090a(0x5f7)+_0x2a3170[_0x40090a(0xd16)]['map'](_0x1130b5=>_0x40090a(0x200)+_0x1130b5+'</li>')[_0x40090a(0x94c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x1209df,_0x3d8803){const _0x247205=_0x4247b4,_0x18527d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x1209df['topic']+_0x247205(0x4f4)+_0x1209df['topic']+_0x247205(0x257)+_0x1209df[_0x247205(0x99c)][_0x247205(0xdeb)]((_0x5841fe,_0x1c2975)=>_0x247205(0xc76)+(_0x1c2975+0x1)+'.\x20'+_0x5841fe[_0x247205(0x303)]+_0x247205(0xe27)+(_0x5841fe[_0x247205(0x601)]?_0x247205(0x1ed)+_0x5841fe[_0x247205(0x601)]+'</div>':'')+_0x247205(0xcdd))[_0x247205(0x94c)]('')+_0x247205(0x703);_0x3d8803[_0x247205(0x571)][_0x247205(0xf02)](_0x18527d),_0x3d8803[_0x247205(0x571)][_0x247205(0x878)](),_0x3d8803['onload']=function(){setTimeout(()=>{const _0x8cf5c0=_0xc03a;_0x3d8803[_0x8cf5c0(0xccd)]();},0x3e8);};}async function generateWorksheet(){const _0x497eef=_0x4247b4,_0x2cb063=document['getElementById'](_0x497eef(0xdde))[_0x497eef(0xc66)][_0x497eef(0xba3)]();if(!_0x2cb063){showMessage(_0x497eef(0xde7));return;}const _0x2b5e48=document[_0x497eef(0x7c7)](_0x497eef(0xcf2))[_0x497eef(0xa20)],_0x3f7f3d=_0x2b5e48?'':_0x497eef(0x84b),_0x391712=window[_0x497eef(0x1f5)]('',_0x497eef(0x4c9));_0x391712[_0x497eef(0x571)]['write'](_0x497eef(0x8a3));const _0x5a9011=parseInt(document[_0x497eef(0x7c7)]('num-questions')[_0x497eef(0xc66)]),_0x55e07c=document[_0x497eef(0x7c7)]('include-images-checkbox')[_0x497eef(0xa20)],_0x3737fd=_0x55e07c?_0x497eef(0xddd):'',_0x145061=_0x497eef(0x975)+_0x3f7f3d+_0x497eef(0x42f)+_0x5a9011+_0x497eef(0x3f3)+_0x2cb063+_0x497eef(0x7e9)+_0x3737fd+_0x497eef(0x78f)+simpleMathPrompt+_0x497eef(0x938),_0x561185={'type':'OBJECT','properties':{'topic':{'type':_0x497eef(0xaf4)},'questions':{'type':_0x497eef(0xa29),'items':{'type':_0x497eef(0xd94),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x497eef(0xaf4)}},'required':['questionText']}}},'required':[_0x497eef(0x6b2),_0x497eef(0x99c)]};document[_0x497eef(0x7c7)](_0x497eef(0xe8b))[_0x497eef(0xb0c)]='',document['getElementById'](_0x497eef(0xbbe))[_0x497eef(0x457)][_0x497eef(0xd11)](_0x497eef(0x845)),document[_0x497eef(0x7c7)](_0x497eef(0xb5f))['classList']['remove']('hidden'),generateWorksheetBtn[_0x497eef(0x766)]=!![];try{const _0x594b12=await callAnalysisApi(_0x145061,_0x561185);formatAndPrintWorksheet(_0x594b12,_0x391712);}catch(_0xe86fbd){console['error'](_0x497eef(0x8a2),_0xe86fbd);if(_0x391712)_0x391712[_0x497eef(0x878)]();showMessage(_0x497eef(0x7f8));}finally{document['getElementById'](_0x497eef(0xbbe))[_0x497eef(0x457)][_0x497eef(0xea1)](_0x497eef(0x845)),document['getElementById'](_0x497eef(0xb5f))[_0x497eef(0x457)][_0x497eef(0xea1)]('hidden'),generateWorksheetBtn[_0x497eef(0x766)]=![];}}async function callAnalysisApi(_0x143c4e,_0x4dbf49){const _0x146696=_0x4247b4,_0x1a8645={'contents':[{'role':_0x146696(0x466),'parts':[{'text':_0x143c4e}]}],'generationConfig':{'responseMimeType':_0x146696(0x368),'responseSchema':_0x4dbf49}},_0x5cd860=_0x146696(0xaa2),_0x63f3f4=_0x146696(0x299)+_0x5cd860,_0x436414=await fetch(_0x63f3f4,{'method':_0x146696(0xddb),'headers':{'Content-Type':'application/json'},'body':JSON[_0x146696(0xe71)](_0x1a8645)});if(!_0x436414['ok'])throw new Error(_0x146696(0xd8b)+_0x436414[_0x146696(0x55e)]);const _0x598ce9=await _0x436414['json']();if(_0x598ce9[_0x146696(0x2a8)]?.[0x0]?.[_0x146696(0x2e8)]?.['parts']?.[0x0])return JSON[_0x146696(0xcfd)](_0x598ce9['candidates'][0x0][_0x146696(0x2e8)][_0x146696(0x518)][0x0]['text']);else{let _0x353b04=_0x146696(0x3ef);if(_0x598ce9[_0x146696(0xb2a)]?.['blockReason'])_0x353b04=_0x146696(0x462)+_0x598ce9['promptFeedback'][_0x146696(0x634)]+'.';else _0x598ce9[_0x146696(0x2a8)]?.[0x0]?.[_0x146696(0xeb2)]&&_0x598ce9[_0x146696(0x2a8)][0x0][_0x146696(0xeb2)]!=='STOP'&&(_0x353b04=_0x146696(0xa69)+_0x598ce9[_0x146696(0x2a8)][0x0][_0x146696(0xeb2)]+'.');console[_0x146696(0xd5b)](_0x353b04,JSON[_0x146696(0xe71)](_0x598ce9));throw new Error(_0x353b04);}}async function handleStartSyncMode(_0x25e15b,_0x519670=![],_0x4195bc='classic'){const _0x405445=_0x4247b4,_0x3d9428=allQuizzes[_0x405445(0x787)](_0x2778a2=>_0x2778a2['id']===_0x25e15b)||allQuizzesGlobal[_0x405445(0x787)](_0x2738c9=>_0x2738c9['id']===_0x25e15b);if(!_0x3d9428){showMessage(_0x405445(0xef3));return;}currentQuizData=getShuffledQuiz(_0x3d9428);const _0x4364a6=Math['floor'](0x3e8+Math[_0x405445(0x724)]()*0x2328)[_0x405445(0x2cc)](),_0x45c2d8=doc(db,_0x405445(0x2b7)+appId+_0x405445(0xbcb),_0x3d9428[_0x405445(0xf28)]),_0x2b635f=await getDoc(_0x45c2d8);if(!_0x2b635f[_0x405445(0x971)]()){showMessage(_0x405445(0x90a));return;}const _0x9295e5=_0x2b635f[_0x405445(0xb86)]()[_0x405445(0x97d)]||[],_0x34474a={};if(_0x4195bc===_0x405445(0xd3a)||_0x4195bc==='anonymous_reveal_end'){const _0xb6f216=[...ANONYMOUS_NAMES][_0x405445(0x994)](()=>0.5-Math[_0x405445(0x724)]());_0x9295e5['forEach']((_0x1debb4,_0x23db15)=>{const _0x45160b=_0x405445;_0x34474a[_0x1debb4]=_0xb6f216[_0x23db15]||_0x45160b(0x658)+(_0x23db15+0x1);});}const _0x2e028f=document[_0x405445(0x7c7)]('sync-timer-enable-checkbox')[_0x405445(0xa20)],_0x326808=parseInt(document[_0x405445(0x7c7)]('sync-timer-duration-input')[_0x405445(0xc66)],0xa);let _0xc9c13c={'timerMode':_0x405445(0xc43),'timerDuration':0x0};_0x2e028f&&(_0xc9c13c[_0x405445(0x9f5)]='per_question',_0xc9c13c[_0x405445(0xefe)]=_0x326808||0xf0);const _0x53de6b=document['getElementById'](_0x405445(0x7c5))[_0x405445(0xa20)],_0x14f739=document[_0x405445(0x7c7)](_0x405445(0xd4c))[_0x405445(0xa20)];try{const _0xd70324=await addDoc(collection(db,'artifacts/'+appId+_0x405445(0x9cd)),{'quizId':_0x3d9428['id'],'pin':_0x4364a6,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x519670,'players':{},'gameVariant':_0x4195bc,'reviewQuestionIndex':0x0,'playerNicknames':_0x34474a,'isAnonymousRevealed':![],..._0xc9c13c,'showAnswerInAnonymous':_0x53de6b,'isBlackMarketEnabled':_0x14f739,'showSlowResponders':!![],'slowResponderCount':0x3});currentLiveGameId=_0xd70324['id'],showView(_0x405445(0x8eb)),renderSyncLobbyView(_0x4364a6,_0x3d9428['topic']),listenForSyncGameUpdates();const _0x7d2210={'gameId':currentLiveGameId,'mode':_0x405445(0xca0),'role':_0x405445(0x803)};sessionStorage['setItem'](_0x405445(0x70f),JSON['stringify'](_0x7d2210));}catch(_0x27cfc5){console[_0x405445(0xd5b)](_0x405445(0x6a5),_0x27cfc5),showMessage(_0x405445(0x9de));}}function calculateFinalPodiumScores(_0x4a2c4a){const _0x2d0960=_0x4247b4;if(!_0x4a2c4a||!_0x4a2c4a[_0x2d0960(0xeb8)]||!_0x4a2c4a[_0x2d0960(0x5fa)])return _0x4a2c4a[_0x2d0960(0x5fa)]||{};const _0x294906=_0x4a2c4a[_0x2d0960(0xeb8)][_0x2d0960(0x99c)][_0x2d0960(0x2d2)],_0x425748=JSON[_0x2d0960(0xcfd)](JSON['stringify'](_0x4a2c4a[_0x2d0960(0x5fa)]));return Object[_0x2d0960(0x57b)](_0x425748)[_0x2d0960(0x9fb)](_0x3b4a5c=>{const _0x5e34de=_0x2d0960,_0x1140e4=_0x3b4a5c['score']||0x0,_0x472c3b=_0x3b4a5c[_0x5e34de(0x8c7)]||0x0;_0x294906>0x0&&_0x1140e4===_0x294906?_0x3b4a5c[_0x5e34de(0xc29)]=!![]:_0x3b4a5c[_0x5e34de(0xc29)]=![],_0x3b4a5c[_0x5e34de(0xcb2)]=_0x1140e4,_0x3b4a5c[_0x5e34de(0x8c7)]=_0x472c3b;}),_0x425748;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0xdf2161=_0x4247b4;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x28f201=doc(db,_0xdf2161(0x2b7)+appId+_0xdf2161(0x9cd),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x28f201,_0x45ce48=>{const _0x5e870f=_0xdf2161;if(!_0x45ce48[_0x5e870f(0x971)]()){sessionStorage[_0x5e870f(0x801)]('activeGameSession'),showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x5e870f(0x803)?showView('project-detail'):showView(_0x5e870f(0xc1b));return;}cachedGameData=_0x45ce48[_0x5e870f(0xb86)](),cachedGameData[_0x5e870f(0xeb8)]&&(currentQuizData=cachedGameData[_0x5e870f(0xeb8)]),syncDataAndRender();});const _0x54ab9d=collection(db,_0xdf2161(0x2b7)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players');if(currentMode==='admin')unsubscribePlayersCollectionListener=onSnapshot(_0x54ab9d,_0x44d7da=>{const _0xbddbc1=_0xdf2161;_0x44d7da[_0xbddbc1(0xa48)]()['forEach'](_0x588b80=>{const _0x473ed4=_0xbddbc1;if(_0x588b80[_0x473ed4(0x31f)]==='added'||_0x588b80[_0x473ed4(0x31f)]===_0x473ed4(0xe0a))cachedPlayerData[_0x588b80[_0x473ed4(0x34b)]['id']]=_0x588b80[_0x473ed4(0x34b)][_0x473ed4(0xb86)]();else _0x588b80[_0x473ed4(0x31f)]===_0x473ed4(0x1f3)&&delete cachedPlayerData[_0x588b80[_0x473ed4(0x34b)]['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0xdf2161(0x2d2)]>0x0){const _0x475bd4=query(_0x54ab9d,where('name','in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x475bd4,_0x28577d=>{_0x28577d['docChanges']()['forEach'](_0x24afce=>{const _0x5f1654=_0xc03a;(_0x24afce[_0x5f1654(0x31f)]==='added'||_0x24afce[_0x5f1654(0x31f)]==='modified')&&(cachedPlayerData[_0x24afce[_0x5f1654(0x34b)]['id']]=_0x24afce['doc'][_0x5f1654(0xb86)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x2f9d86=_0x4247b4;if(!cachedGameData)return;const _0x3600f5={},_0x4d95bd=cachedGameData[_0x2f9d86(0x89f)];Object[_0x2f9d86(0xb00)](cachedPlayerData)[_0x2f9d86(0x9fb)](_0x506ba1=>{const _0x2ca3ae=_0x2f9d86,_0x426b66=cachedPlayerData[_0x506ba1],_0x57e59c=_0x426b66['answers']&&_0x426b66[_0x2ca3ae(0xa92)]['some'](_0x1f950a=>_0x1f950a[_0x2ca3ae(0xe6a)]===_0x4d95bd);_0x3600f5[_0x506ba1]={..._0x426b66,'answered':_0x57e59c};});const _0x4ed085={...cachedGameData,'players':_0x3600f5};currentMode==='admin'?updateAdminSyncView(_0x4ed085):updateStudentSyncView(_0x4ed085);}function renderSyncLobbyView(_0x5e8fbc,_0x1aaef8){const _0x1ae402=_0x4247b4;liveGameView['innerHTML']=_0x1ae402(0x940)+_0x1aaef8+_0x1ae402(0x5a0)+_0x5e8fbc+_0x1ae402(0x270);const _0x556fcd=document[_0x1ae402(0x7c7)](_0x1ae402(0x9db)),_0x331968=document[_0x1ae402(0x7c7)](_0x1ae402(0x88d));_0x556fcd[_0x1ae402(0xf03)](_0x1ae402(0xc7a),()=>{const _0x38540a=_0x1ae402;_0x331968['style'][_0x38540a(0xc13)]=_0x556fcd[_0x38540a(0xa20)]?'block':_0x38540a(0xc43);}),document['getElementById'](_0x1ae402(0xaca))[_0x1ae402(0xf03)](_0x1ae402(0x2f0),async()=>{const _0xa3bff1=_0x1ae402,_0x363a1b=doc(db,'artifacts/'+appId+_0xa3bff1(0x9cd),currentLiveGameId),_0x33cbb4=document[_0xa3bff1(0x7c7)](_0xa3bff1(0x9db))['checked'];await updateDoc(_0x363a1b,{'status':_0xa3bff1(0x94b),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x33cbb4});});}function updateAdminSyncView(_0x1f03c4){const _0x4684a5=_0x4247b4;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x1f03c4['status']){case _0x4684a5(0xd93):renderSyncLobbyView(_0x1f03c4['pin'],_0x1f03c4[_0x4684a5(0xeb8)][_0x4684a5(0x6b2)]);const _0x515611=Object[_0x4684a5(0xb54)](_0x1f03c4[_0x4684a5(0x5fa)]||{})[_0x4684a5(0x498)](([_0x7397bd,_0x252ee4])=>_0x252ee4[_0x4684a5(0x55e)]!==_0x4684a5(0x6e9));document[_0x4684a5(0x7c7)]('player-count')[_0x4684a5(0xb0c)]=_0x515611[_0x4684a5(0x2d2)],document['getElementById'](_0x4684a5(0xa11))[_0x4684a5(0x45b)]=_0x515611[_0x4684a5(0xdeb)](([_0x4e9d92,_0x522fb7])=>_0x4684a5(0x2ff)+_0x4e9d92+_0x4684a5(0x61d)+_0x4e9d92+_0x4684a5(0xd27))['join']('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document[_0x4684a5(0x7c7)]('start-sync-game-btn')[_0x4684a5(0x766)]=_0x515611[_0x4684a5(0x2d2)]===0x0;break;case'question':const _0x540f57=Object[_0x4684a5(0x57b)](_0x1f03c4[_0x4684a5(0x5fa)]||{})[_0x4684a5(0x498)](_0x15ef69=>_0x15ef69['status']!=='inactive'),_0x2cfd66=_0x540f57[_0x4684a5(0x498)](_0x33f64e=>_0x33f64e[_0x4684a5(0x9ee)]===!![]||_0x33f64e[_0x4684a5(0xb96)]===!![]),_0x51a7c7=_0x540f57[_0x4684a5(0x498)](_0x5295f2=>!_0x5295f2[_0x4684a5(0x9ee)]&&!_0x5295f2[_0x4684a5(0xb96)]),_0x42059b=_0x2cfd66[_0x4684a5(0x2d2)],_0x3ce9e3=_0x51a7c7[_0x4684a5(0x2d2)],_0x56d97f=_0x540f57['length'],_0x5cf371=_0x42059b===_0x56d97f&&_0x56d97f>0x0;if(_0x5cf371&&_0x1f03c4[_0x4684a5(0x55e)]===_0x4684a5(0x94b)){const _0xd8f506=doc(db,_0x4684a5(0x2b7)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0xd8f506,{'status':_0x4684a5(0xf7c)});return;}if(document[_0x4684a5(0x7c7)](_0x4684a5(0x85f))===null)renderAdminSyncQuestionView(_0x1f03c4);else{const _0x4ed572=document['getElementById'](_0x4684a5(0x50d));_0x4ed572&&(_0x4ed572['textContent']=_0x42059b+'/'+_0x56d97f);const _0xe2803d=document[_0x4684a5(0x7c7)](_0x4684a5(0x630));if(_0xe2803d)_0xe2803d[_0x4684a5(0x766)]=!_0x5cf371;const _0x1bdf2a=document['getElementById']('sync-player-list');_0x1bdf2a&&(_0x1bdf2a['innerHTML']=_0x540f57[_0x4684a5(0xdeb)](_0x4e3d9f=>{const _0x3cffc6=_0x4684a5,_0x377f1e=_0x4e3d9f[_0x3cffc6(0x9ee)]===!![]||_0x4e3d9f[_0x3cffc6(0xb96)]===!![],_0x3da1b3=_0x377f1e?'bg-green-500':'bg-gray-600',_0x5a2a3c=_0x377f1e?_0x3cffc6(0xdb6):_0x3cffc6(0xc79);return _0x3cffc6(0xba1)+_0x3da1b3+_0x3cffc6(0x2ea)+_0x5a2a3c+_0x3cffc6(0x343)+_0x4e3d9f[_0x3cffc6(0x689)]+_0x3cffc6(0x7d5)+_0x4e3d9f[_0x3cffc6(0x689)]+_0x3cffc6(0xaa3);})[_0x4684a5(0x94c)](''));const _0x56e014=document[_0x4684a5(0x7c7)](_0x4684a5(0x5f0)),_0x3d1c1d=document[_0x4684a5(0x7c7)]('manage-waiting-players');if(_0x56e014)_0x56e014[_0x4684a5(0xb0c)]=_0x56d97f;if(_0x3d1c1d)_0x3d1c1d[_0x4684a5(0xb0c)]=_0x3ce9e3;const _0x263e1c=_0x1f03c4['showSlowResponders']!==![],_0x256146=parseInt(_0x1f03c4[_0x4684a5(0xcbf)]||0x3,0xa),_0x183f27=document[_0x4684a5(0x7c7)](_0x4684a5(0xf54));if(_0x183f27){if(_0x263e1c&&_0x3ce9e3>0x0&&_0x3ce9e3<=_0x256146&&_0x56d97f>_0x3ce9e3){const _0x2c0eeb=_0x51a7c7[_0x4684a5(0xdeb)](_0x5c74d=>_0x5c74d[_0x4684a5(0x689)])[_0x4684a5(0x94c)](',\x20');_0x183f27[_0x4684a5(0x45b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-600\x20text-white\x20text-center\x20py-4\x20px-6\x20rounded-xl\x20shadow-2xl\x20animate-pulse\x20border-4\x20border-red-800\x20relative\x20overflow-hidden\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-0\x20left-0\x20w-full\x20h-full\x20bg-white\x20opacity-10\x20transform\x20-skew-x-12\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20mb-2\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-shipping-fast\x20fa-lg\x22></i>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>รออีก\x20'+_0x3ce9e3+_0x4684a5(0x5cb)+_0x2c0eeb+_0x4684a5(0xef9);}else _0x183f27[_0x4684a5(0x45b)]='';}}const _0x22cc53=_0x1f03c4['timerMode']===_0x4684a5(0x59c)&&_0x1f03c4[_0x4684a5(0xbf0)];if(_0x22cc53){const _0x4f6f05=_0x1f03c4[_0x4684a5(0xbf0)][_0x4684a5(0xd64)]()[_0x4684a5(0xb16)](),_0x157993=_0x1f03c4[_0x4684a5(0xefe)]*0x3e8,_0x565308=_0x4f6f05+_0x157993,_0x346e05=document[_0x4684a5(0x7c7)](_0x4684a5(0xa37)),_0x3f697a=document[_0x4684a5(0x7c7)]('sync-timer-countdown');syncQuestionTimerInterval=setInterval(()=>{const _0x419c66=_0x4684a5,_0x1407cb=Date[_0x419c66(0x5f5)](),_0xd4b071=_0x540f57[_0x419c66(0x2d2)]>0x0&&_0x540f57['every'](_0x10801f=>{const _0x5a410b=_0x419c66;if(_0x10801f[_0x5a410b(0x9ee)])return!![];const _0x2d2a39=_0x10801f[_0x5a410b(0xa30)]||0x0;return _0x1407cb>=_0x4f6f05+_0x157993+_0x2d2a39;});if(_0xd4b071){clearInterval(syncQuestionTimerInterval);const _0x70d64a=doc(db,'artifacts/'+appId+_0x419c66(0x9cd),currentLiveGameId);updateDoc(_0x70d64a,{'status':_0x419c66(0xf7c)});return;}const _0x54f5dd=_0x565308-_0x1407cb;if(_0x54f5dd<=0x0){if(_0x346e05)_0x346e05[_0x419c66(0x4e3)][_0x419c66(0x895)]='0%';if(_0x3f697a)_0x3f697a[_0x419c66(0xb0c)]='0\x20(รอโบนัส)';}else{if(_0x346e05&&_0x3f697a){const _0x3d2781=_0x54f5dd/_0x157993*0x64;_0x346e05[_0x419c66(0x4e3)][_0x419c66(0x895)]=_0x3d2781+'%',_0x3f697a['textContent']=Math[_0x419c66(0x6b1)](_0x54f5dd/0x3e8);}}},0x1f4);}break;case _0x4684a5(0xf7c):const _0x184667=_0x1f03c4[_0x4684a5(0x89f)],_0x4a272c=_0x1f03c4[_0x4684a5(0xeb8)][_0x4684a5(0x99c)][_0x184667];renderSyncSummaryView(_0x1f03c4,_0x4a272c,!![]);break;case'results':const _0x408ba5=_0x1f03c4[_0x4684a5(0xdee)]||_0x4684a5(0x30c);_0x408ba5===_0x4684a5(0x5fd)||_0x408ba5==='anonymous_reveal_end'?renderAdminSyncDashboard(_0x1f03c4,!![],_0x1f03c4['reviewQuestionIndex']):(_0x1f03c4[_0x4684a5(0x55e)]==='results'&&!_0x1f03c4[_0x4684a5(0x8b8)]&&((async()=>{const _0x4e7807=_0x4684a5;try{const _0x3d077c=doc(db,_0x4e7807(0x2b7)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x3d077c,{'scoresCalculated':!![]});const _0x47b5c9=cachedPlayerData||{},_0x3f9945=_0x1f03c4[_0x4e7807(0xeb8)][_0x4e7807(0x99c)]['length'],_0x5937cf=_0x1f03c4[_0x4e7807(0x89f)],_0x2af046=writeBatch(db);let _0x15bae5=0x0;const _0x49cf50=[];Object[_0x4e7807(0xb54)](_0x47b5c9)[_0x4e7807(0x9fb)](([_0x4a4e22,_0x545159])=>{const _0x4142c6=_0x4e7807;if(_0x545159[_0x4142c6(0x55e)]!==_0x4142c6(0x6e9)){const _0x151204=(_0x545159['answers']||[])[_0x4142c6(0x787)](_0x43eaa3=>_0x43eaa3[_0x4142c6(0xe6a)]===_0x5937cf);if(_0x151204&&_0x151204['powerupUsed']===_0x4142c6(0xb6c)){const _0x45b8b9=_0x151204[_0x4142c6(0x603)]||0x0;_0x151204['isCorrect']?_0x49cf50[_0x4142c6(0x82f)](_0x4a4e22):_0x15bae5+=_0x45b8b9;}}});const _0x3a93dc=_0x1f03c4[_0x4e7807(0x264)]||0x0,_0x58e1da=_0x3a93dc+_0x15bae5;let _0x484e11=0x0,_0x2b0d96=_0x58e1da;_0x49cf50[_0x4e7807(0x2d2)]>0x0&&_0x58e1da>0x0&&(_0x484e11=Math[_0x4e7807(0xcb1)](_0x58e1da/_0x49cf50[_0x4e7807(0x2d2)]),_0x2b0d96=_0x58e1da%_0x49cf50[_0x4e7807(0x2d2)]);const _0x1cdcee=[];Object[_0x4e7807(0x57b)](_0x47b5c9)[_0x4e7807(0x9fb)](_0x78b1ba=>{const _0x71b12c=_0x4e7807;if(_0x78b1ba[_0x71b12c(0x55e)]!==_0x71b12c(0x6e9)){const _0xdf7fdc=_0x78b1ba['name'],_0x4501a5=doc(db,'artifacts/'+appId+_0x71b12c(0x41f)+currentLiveGameId+'/players',_0xdf7fdc);let _0x53aa0a=0x0,_0x2b1067=_0x78b1ba['answers'];_0x49cf50[_0x71b12c(0xba0)](_0xdf7fdc)&&_0x484e11>0x0&&(_0x53aa0a=_0x484e11,_0x2b1067=(_0x78b1ba[_0x71b12c(0xa92)]||[])[_0x71b12c(0xdeb)](_0x29d496=>{const _0x41e49c=_0x71b12c;if(_0x29d496[_0x41e49c(0xe6a)]===_0x5937cf)return{..._0x29d496,'potBonus':_0x484e11};return _0x29d496;}),_0x2af046['update'](_0x4501a5,{'answers':_0x2b1067}));const _0x2ccf02=_0x78b1ba[_0x71b12c(0x494)]||0x0;let _0x36ca5c=_0x78b1ba[_0x71b12c(0x8c7)]||0x0;_0x36ca5c+=_0x53aa0a,_0x3f9945>0x0&&_0x2ccf02===_0x3f9945&&(_0x36ca5c+=0x1),_0x2af046[_0x71b12c(0x8f0)](_0x4501a5,{'score':_0x2ccf02,'totalPoints':_0x36ca5c,'pointsLastRound':_0x36ca5c}),_0x1cdcee[_0x71b12c(0x82f)]({..._0x78b1ba,'score':_0x2ccf02,'totalPoints':_0x36ca5c,'pointsLastRound':_0x36ca5c,'answers':_0x2b1067,'correctStreak':_0x78b1ba[_0x71b12c(0xde6)]});}}),_0x2af046[_0x4e7807(0x8f0)](_0x3d077c,{'centralPot':_0x2b0d96,'publicLeaderboard':_0x1cdcee}),await _0x2af046[_0x4e7807(0xdcc)](),console['log'](_0x4e7807(0xd20));}catch(_0x49b2c7){console['error'](_0x4e7807(0x7d1),_0x49b2c7);}})()),renderAdminSyncDashboard(_0x1f03c4,!![],_0x1f03c4['currentQuestionIndex']));break;case _0x4684a5(0xa07):const _0x29e470=Object['keys'](_0x1f03c4[_0x4684a5(0x5fa)]||{})[_0x4684a5(0x2d2)]>0x0,_0x50962f=_0x1f03c4[_0x4684a5(0x5bd)]===!![],_0xc18c5f=_0x1f03c4['shouldSaveResults']===!![];_0xc18c5f&&!_0x50962f&&_0x29e470&&saveGameResultsAsSubmissions(_0x1f03c4);sessionStorage['removeItem'](_0x4684a5(0x70f));const _0x9db76f=calculateFinalPodiumScores(_0x1f03c4);showPodiumView(_0x9db76f,_0x4684a5(0xca0),_0x1f03c4);break;}}function renderAdminSyncQuestionView(_0x47443b){const _0x1db137=_0x4247b4,_0xf6a0b8=_0x47443b[_0x1db137(0x89f)],_0xa4ea41=_0x47443b[_0x1db137(0xeb8)][_0x1db137(0x99c)][_0xf6a0b8],_0x5c08b8=_0x47443b[_0x1db137(0xeb8)][_0x1db137(0x99c)][_0x1db137(0x2d2)],_0x40f1ad=Object[_0x1db137(0x57b)](_0x47443b['players']||{})[_0x1db137(0x498)](_0x5b396f=>_0x5b396f['status']!=='inactive'),_0x15fe4d=_0x40f1ad[_0x1db137(0x498)](_0x46ab9a=>_0x46ab9a[_0x1db137(0x9ee)]===!![]||_0x46ab9a[_0x1db137(0xb96)]===!![]),_0x1be731=_0x40f1ad[_0x1db137(0x498)](_0x5464c4=>!_0x5464c4['answered']&&!_0x5464c4['answeredCurrentQuestion']),_0x458ece=_0x15fe4d['length'],_0x1a80ed=_0x40f1ad[_0x1db137(0x2d2)],_0x3e1adb=_0x1be731[_0x1db137(0x2d2)],_0x2fe500=_0x458ece===_0x1a80ed&&_0x1a80ed>0x0,_0x8229b0=_0x47443b[_0x1db137(0x4be)]!==![],_0x5555b2=parseInt(_0x47443b['slowResponderCount']||0x3,0xa),_0x1387bb=getCentralPotHTML(_0x47443b),_0x1b535a=_0xa4ea41[_0x1db137(0xf29)]||_0x47443b[_0x1db137(0xeb8)][_0x1db137(0xa71)];let _0x369a4e='';(_0x1b535a===_0x1db137(0xf11)||_0x1b535a===_0x1db137(0x437))&&_0xa4ea41[_0x1db137(0xb84)]&&_0xa4ea41[_0x1db137(0xb84)]['length']>0x0?_0x369a4e=_0x1db137(0x9b8):_0x369a4e=(_0xa4ea41[_0x1db137(0xb84)]||[])[_0x1db137(0xdeb)](_0x1dd789=>_0x1db137(0x77c)+_0x1dd789+_0x1db137(0x745))['join']('');let _0x142249='';_0x47443b[_0x1db137(0x9f5)]===_0x1db137(0x59c)&&(_0x142249=_0x1db137(0x7f2)+_0x47443b[_0x1db137(0xefe)]+_0x1db137(0x38d));const _0x4864e8=_0x40f1ad[_0x1db137(0xdeb)](_0x532e68=>{const _0x56bf8b=_0x1db137,_0x445a2e=_0x532e68['answered']===!![]||_0x532e68['answeredCurrentQuestion']===!![],_0x39ec52=_0x445a2e?'bg-green-500':_0x56bf8b(0x535),_0x555992=_0x445a2e?_0x56bf8b(0xdb6):_0x56bf8b(0xc79);return _0x56bf8b(0xba1)+_0x39ec52+_0x56bf8b(0x2ea)+_0x555992+_0x56bf8b(0x343)+_0x532e68[_0x56bf8b(0x689)]+'</span><button\x20data-player-name=\x22'+_0x532e68[_0x56bf8b(0x689)]+_0x56bf8b(0xaa3);})[_0x1db137(0x94c)]('');let _0x3c29fe='';if(_0x8229b0&&_0x3e1adb>0x0&&_0x3e1adb<=_0x5555b2&&_0x1a80ed>_0x3e1adb){const _0x18dab7=_0x1be731['map'](_0x136c41=>_0x136c41['name'])['join'](',\x20');_0x3c29fe='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20w-full\x20max-w-4xl\x20mx-auto\x20px-4\x20fade-in\x22\x20id=\x22slow-responder-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-600\x20text-white\x20text-center\x20py-3\x20px-6\x20rounded-xl\x20shadow-2xl\x20animate-pulse\x20border-4\x20border-red-800\x20relative\x20overflow-hidden\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-bold\x20mb-1\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-shipping-fast\x22></i>\x20<span>รออีก\x20'+_0x3e1adb+'\x20คนสุดท้าย!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-2xl\x20font-extrabold\x20text-yellow-300\x20drop-shadow-md\x22>'+_0x18dab7+_0x1db137(0x94d);}else _0x3c29fe=_0x1db137(0xa31);liveGameView[_0x1db137(0x45b)]=_0x1db137(0xf6c)+(_0xf6a0b8+0x1)+_0x1db137(0x74e)+_0x5c08b8+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22><i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+_0x47443b[_0x1db137(0xf62)]+_0x1db137(0x646)+_0x1387bb+_0x1db137(0x9d5)+_0x458ece+'/'+_0x1a80ed+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x20border\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users-cog\x20mr-1\x22></i>\x20จัดการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-sm\x20border\x20border-white/10\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20items-center\x20justify-between\x20mb-3\x20pb-2\x20border-b\x20border-white/10\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20cursor-pointer\x20text-yellow-300\x20hover:text-yellow-200\x20select-none\x20bg-black/20\x20px-2\x20py-1\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22toggle-slow-responders\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20rounded\x22\x20'+(_0x8229b0?_0x1db137(0xa20):'')+_0x1db137(0x797)+_0x5555b2+_0x1db137(0x869)+Math[_0x1db137(0x839)](0x1,_0x1a80ed-0x1)+'\x22\x20class=\x22w-12\x20p-0.5\x20text-black\x20text-center\x20rounded\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-manage-btn\x22\x20class=\x22text-gray-400\x20hover:text-white\x20px-2\x22><i\x20class=\x22fas\x20fa-chevron-up\x22></i>\x20ซ่อน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-start\x20gap-2\x20max-h-32\x20overflow-y-auto\x20custom-scrollbar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4864e8+_0x1db137(0xd14)+_0x142249+_0x1db137(0x927)+(_0xa4ea41['questionText']||_0xa4ea41[_0x1db137(0x203)])+_0x1db137(0x2e1)+_0x369a4e+_0x1db137(0xc60)+_0x3c29fe+_0x1db137(0x59a)+(!_0x2fe500?_0x1db137(0x766):'')+_0x1db137(0x446);if(window[_0x1db137(0x872)])MathJax['typesetPromise']();const _0x5221ef=doc(db,_0x1db137(0x2b7)+appId+_0x1db137(0x9cd),currentLiveGameId);document[_0x1db137(0x7c7)](_0x1db137(0x630))[_0x1db137(0xf03)]('click',async()=>{await updateDoc(_0x5221ef,{'status':'summary'});}),document[_0x1db137(0x7c7)]('open-sync-scratchpad-btn')['onclick']=()=>{const _0x26b43d=_0x1db137;openScratchpad(_0xa4ea41,_0xa4ea41[_0x26b43d(0xb84)]||[]);};const _0x31b78a=document[_0x1db137(0x7c7)]('sync-player-management');document[_0x1db137(0x7c7)](_0x1db137(0x853))[_0x1db137(0xf03)](_0x1db137(0x2f0),()=>{const _0x17ce3d=_0x1db137;_0x31b78a[_0x17ce3d(0x457)][_0x17ce3d(0xd11)](_0x17ce3d(0x845));}),document[_0x1db137(0x7c7)](_0x1db137(0x579))[_0x1db137(0xf03)](_0x1db137(0x2f0),()=>{const _0x37030=_0x1db137;_0x31b78a[_0x37030(0x457)]['add'](_0x37030(0x845));}),document[_0x1db137(0x7c7)]('toggle-slow-responders')[_0x1db137(0xf03)]('change',async _0x5b614a=>{await updateDoc(_0x5221ef,{'showSlowResponders':_0x5b614a['target']['checked']});}),document[_0x1db137(0x7c7)](_0x1db137(0x73b))[_0x1db137(0xf03)](_0x1db137(0xc7a),async _0x3417cd=>{const _0x53eb7b=_0x1db137;let _0x3854a5=parseInt(_0x3417cd[_0x53eb7b(0xcbd)][_0x53eb7b(0xc66)]);if(_0x3854a5<0x1)_0x3854a5=0x1;await updateDoc(_0x5221ef,{'slowResponderCount':_0x3854a5});});const _0x5a8f91=document['getElementById'](_0x1db137(0x728));_0x5a8f91&&(_0x5a8f91[_0x1db137(0xb2b)]=()=>{const _0x14d733=_0x1db137;showConfirmation(_0x14d733(0x587),async()=>{await updateDoc(_0x5221ef,{'status':'podium'});});});}function renderSyncLeaderboardView(_0x14b42b,_0x5eb5fd){const _0x51d28e=_0x4247b4,_0x198f8e=Object[_0x51d28e(0x57b)](_0x14b42b[_0x51d28e(0x5fa)]||{});_0x198f8e['sort']((_0x3c2a28,_0x7dc166)=>_0x7dc166['score']-_0x3c2a28[_0x51d28e(0x494)]);const _0x356b90=_0x198f8e[_0x51d28e(0x68d)](0x0,0x5);let _0x37d889='';if(_0x5eb5fd){const _0x30689c=_0x14b42b[_0x51d28e(0x89f)]>=_0x14b42b[_0x51d28e(0xeb8)][_0x51d28e(0x99c)]['length']-0x1;_0x37d889='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x30689c?'ดูผลสรุปสุดท้าย':_0x51d28e(0xb87))+_0x51d28e(0x6cd);}else _0x37d889='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView[_0x51d28e(0x45b)]=_0x51d28e(0x9e4)+_0x356b90[_0x51d28e(0xdeb)]((_0x564148,_0x438d68)=>_0x51d28e(0x879)+(_0x438d68+0x1)+'.\x20'+_0x564148[_0x51d28e(0x689)]+'</span><span\x20class=\x22font-bold\x22>'+_0x564148[_0x51d28e(0x494)]+_0x51d28e(0x8bf))[_0x51d28e(0x94c)]('')+_0x51d28e(0x9e9)+_0x37d889+_0x51d28e(0xc5f),_0x5eb5fd&&document[_0x51d28e(0x7c7)](_0x51d28e(0x41b))['addEventListener'](_0x51d28e(0x2f0),async()=>{const _0x191a7e=_0x51d28e,_0x9aacd7=doc(db,_0x191a7e(0x2b7)+appId+_0x191a7e(0x9cd),currentLiveGameId),_0x359126=_0x14b42b[_0x191a7e(0x89f)]+0x1;if(_0x359126<_0x14b42b[_0x191a7e(0xeb8)][_0x191a7e(0x99c)][_0x191a7e(0x2d2)]){const _0x4f152e={};Object['keys'](_0x14b42b[_0x191a7e(0x5fa)])[_0x191a7e(0x9fb)](_0x194dee=>{const _0x567435=_0x191a7e;_0x4f152e['players.'+_0x194dee+_0x567435(0x3bf)]=![];}),await updateDoc(_0x9aacd7,{'status':_0x191a7e(0x94b),'currentQuestionIndex':_0x359126,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x9aacd7,{'status':_0x191a7e(0xa07)});});}async function handleJoinSyncGame(){const _0x3c3d12=_0x4247b4,_0x4dfe4d=prompt(_0x3c3d12(0x629));if(!_0x4dfe4d||_0x4dfe4d['trim']()[_0x3c3d12(0x2d2)]!==0x2){showMessage(_0x3c3d12(0xd71));return;}try{const _0xfc4d03=collection(db,_0x3c3d12(0x2b7)+appId+_0x3c3d12(0x9cd)),_0x26fe6e=query(_0xfc4d03,where(_0x3c3d12(0xf62),'==',_0x4dfe4d[_0x3c3d12(0xba3)]()),where('status','==',_0x3c3d12(0xd93))),_0x4ecbe5=await getDocs(_0x26fe6e);if(_0x4ecbe5['empty']){showMessage(_0x3c3d12(0x3d5));return;}const _0x2bea6b=_0x4ecbe5['docs'][0x0];currentLiveGameId=_0x2bea6b['id'];const _0xba91d5=_0x2bea6b[_0x3c3d12(0xb86)](),_0x2d1e2b=doc(db,'artifacts/'+appId+_0x3c3d12(0xa8b),_0xba91d5[_0x3c3d12(0x3d4)]),_0xd99106=await getDoc(_0x2d1e2b);if(!_0xd99106['exists']())throw new Error(_0x3c3d12(0x859));const _0x3f20a8=_0xd99106['data'](),_0x114beb=doc(db,_0x3c3d12(0x2b7)+appId+'/public/data/projects',_0x3f20a8['projectId']),_0xc32f6d=await getDoc(_0x114beb);if(!_0xc32f6d['exists']())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0xba91d5['shuffledQuiz'];const _0x643b5e=_0xc32f6d[_0x3c3d12(0xb86)]();showView(_0x3c3d12(0x2fd)),showTeamPlayerSelection(_0x643b5e[_0x3c3d12(0x97d)],_0x3f20a8['topic']);const _0x186ccd=document['getElementById'](_0x3c3d12(0xe0e));_0x186ccd[_0x3c3d12(0xb2b)]=confirmAndJoinSyncGame;}catch(_0x2618d9){console[_0x3c3d12(0xd5b)](_0x3c3d12(0x279),_0x2618d9),showMessage(_0x3c3d12(0x5ee)+_0x2618d9['message']);}}function updateStudentSyncView(_0x4d18cd){const _0x98b2a8=_0x4247b4,_0x1c379a=localTeamPlayers[0x0],_0x1bb9f7=_0x4d18cd[_0x98b2a8(0x5fa)][_0x1c379a]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x4d18cd['status']){case _0x98b2a8(0xd93):showView(_0x98b2a8(0x8eb)),liveGameView[_0x98b2a8(0x45b)]=_0x98b2a8(0xd32);break;case'question':if(_0x4d18cd[_0x98b2a8(0x89f)]!==lastSeenQuestionIndex){console['log'](_0x98b2a8(0x776)),sessionStorage[_0x98b2a8(0x801)]('powerupUsedThisTurn'),sessionStorage[_0x98b2a8(0x801)]('onSecondChance'),sessionStorage[_0x98b2a8(0x801)](_0x98b2a8(0xafd));const _0x136369=_0x98b2a8(0xf4f)+lastSeenQuestionIndex,_0x4a3814='powerupUsed_q'+lastSeenQuestionIndex,_0x277457=_0x98b2a8(0xb68)+lastSeenQuestionIndex;Object[_0x98b2a8(0xb00)](sessionStorage)[_0x98b2a8(0x9fb)](_0x48f5ba=>{const _0x21d704=_0x98b2a8;(_0x48f5ba[_0x21d704(0xc5b)](_0x136369)||_0x48f5ba[_0x21d704(0xc5b)](_0x4a3814)||_0x48f5ba[_0x21d704(0xc5b)](_0x277457))&&sessionStorage[_0x21d704(0x801)](_0x48f5ba);});if(_0x1bb9f7['isJinxed']||_0x1bb9f7['isForcedConfident']||(_0x1bb9f7[_0x98b2a8(0xa30)]||0x0)>0x0){const _0x258148=doc(db,_0x98b2a8(0x2b7)+appId+_0x98b2a8(0x41f)+currentLiveGameId+'/players',_0x1c379a);updateDoc(_0x258148,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x98b2a8(0x242)](_0x29aeb2=>console[_0x98b2a8(0xd5b)](_0x98b2a8(0x968),_0x29aeb2));}lastSeenQuestionIndex=_0x4d18cd[_0x98b2a8(0x89f)];}localPlayerTurnIndex=0x0;const _0x295b58=localTeamPlayers[_0x98b2a8(0x9ef)](_0x3649bf=>_0x4d18cd[_0x98b2a8(0x5fa)][_0x3649bf]?.[_0x98b2a8(0x9ee)]===!![]);if(_0x295b58)liveGameView['innerHTML']='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>';else{renderStudentSyncQuestionView(_0x4d18cd);if(_0x4d18cd[_0x98b2a8(0x9f5)]==='per_question'){if(!_0x4d18cd[_0x98b2a8(0xbf0)]){console[_0x98b2a8(0x799)](_0x98b2a8(0x4aa));return;}const _0x20e4bc=_0x4d18cd['questionDisplayedAt'][_0x98b2a8(0xd64)]()[_0x98b2a8(0xb16)](),_0x34737f=_0x4d18cd[_0x98b2a8(0xefe)]*0x3e8,_0x57c025=localTeamPlayers[_0x98b2a8(0xdeb)](_0x28e99d=>_0x4d18cd[_0x98b2a8(0x5fa)][_0x28e99d]?.[_0x98b2a8(0xa30)]||0x0),_0x4655dc=Math[_0x98b2a8(0x839)](..._0x57c025,0x0),_0x196642=_0x20e4bc+_0x34737f+_0x4655dc;syncQuestionTimerInterval=setInterval(()=>{const _0x4224a2=_0x98b2a8,_0x43d712=_0x196642-Date[_0x4224a2(0x5f5)](),_0x4831ad=document[_0x4224a2(0x7c7)](_0x4224a2(0xa37)),_0x13e374=document[_0x4224a2(0x7c7)](_0x4224a2(0xc55));if(_0x43d712<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x4831ad)_0x4831ad['style'][_0x4224a2(0x895)]='0%';if(_0x13e374)_0x13e374['textContent']='0';liveGameView[_0x4224a2(0x45b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{if(_0x4831ad&&_0x13e374){const _0x123f45=_0x34737f+_0x4655dc,_0x1d1b28=_0x123f45>0x0?_0x43d712/_0x123f45*0x64:0x0;_0x4831ad[_0x4224a2(0x4e3)]['width']=_0x1d1b28+'%',_0x13e374[_0x4224a2(0xb0c)]=Math[_0x4224a2(0x6b1)](_0x43d712/0x3e8);}}},0x1f4);}}break;case'summary':liveGameView[_0x98b2a8(0x45b)]=_0x98b2a8(0xed4);break;case _0x98b2a8(0x349):localPlayerTurnIndex=0x0;const _0x37ed9d=_0x4d18cd[_0x98b2a8(0xdee)]||'classic';if(_0x37ed9d===_0x98b2a8(0xd3a)||_0x37ed9d===_0x98b2a8(0xbe8))renderStudentAnonymousResultsView(_0x4d18cd,_0x4d18cd[_0x98b2a8(0x89f)]);else _0x37ed9d===_0x98b2a8(0x5c6)?renderStudentCompetitionResultsView(_0x4d18cd,_0x4d18cd[_0x98b2a8(0x89f)]):renderStudentSyncResultsView(_0x4d18cd);break;case _0x98b2a8(0xa07):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x98b2a8(0x808)]('fullscreenchange',handleFullscreenChange),document[_0x98b2a8(0x808)](_0x98b2a8(0x962),handleVisibilityChange),sessionStorage[_0x98b2a8(0x801)](_0x98b2a8(0x70f));const _0x17fdac=liveGameView['innerHTML'],_0x29e468=_0x17fdac[_0x98b2a8(0xba0)](_0x98b2a8(0xbc6))||_0x17fdac[_0x98b2a8(0xba0)](_0x98b2a8(0x8af));if(!_0x29e468){const _0x7acf01=_0x4d18cd[_0x98b2a8(0xdee)]||_0x98b2a8(0x30c),_0x4e8fda=_0x4d18cd[_0x98b2a8(0xeb8)]['questions']['length']-0x1;if(_0x7acf01==='anonymous'||_0x7acf01===_0x98b2a8(0xbe8))renderStudentAnonymousResultsView(_0x4d18cd,_0x4e8fda);else _0x7acf01==='competition'?renderStudentCompetitionResultsView(_0x4d18cd,_0x4e8fda):renderStudentSyncResultsView(_0x4d18cd);}const _0x574ce3=liveGameView[_0x98b2a8(0xf52)]('p');_0x574ce3[_0x98b2a8(0x9fb)](_0x307a9b=>{const _0xe667a7=_0x98b2a8;(_0x307a9b[_0xe667a7(0xb0c)][_0xe667a7(0xba0)](_0xe667a7(0xb75))||_0x307a9b[_0xe667a7(0xb0c)][_0xe667a7(0xba0)](_0xe667a7(0x5ef)))&&(_0x307a9b[_0xe667a7(0x4e3)][_0xe667a7(0xc13)]=_0xe667a7(0xc43));});if(!document[_0x98b2a8(0x7c7)](_0x98b2a8(0xcf4))){const _0x2fcfe0=_0x98b2a8(0x60e);liveGameView[_0x98b2a8(0x5c5)]?liveGameView[_0x98b2a8(0x5c5)][_0x98b2a8(0x660)](_0x98b2a8(0x2b4),_0x2fcfe0):liveGameView[_0x98b2a8(0x660)](_0x98b2a8(0x2b4),_0x2fcfe0);}break;}}function renderStudentSyncResultsView(_0x1a5aa0){const _0x51406c=_0x4247b4;let _0x4bfd99=[];_0x1a5aa0[_0x51406c(0x79a)]&&Array[_0x51406c(0xc7d)](_0x1a5aa0['publicLeaderboard'])&&_0x1a5aa0[_0x51406c(0x79a)]['length']>0x0?_0x4bfd99=_0x1a5aa0['publicLeaderboard']:_0x4bfd99=Object['values'](_0x1a5aa0[_0x51406c(0x5fa)]||{});const _0x4cd42e=_0x1a5aa0[_0x51406c(0xdee)]||_0x51406c(0x30c),_0x19cac2=_0x4cd42e===_0x51406c(0x5fd)||_0x4cd42e===_0x51406c(0xbe8),_0x5163ef=_0x1a5aa0[_0x51406c(0xeb8)][_0x51406c(0x99c)],_0x2cfcd3=_0x19cac2&&_0x1a5aa0[_0x51406c(0xc8e)]!==undefined?_0x1a5aa0['reviewQuestionIndex']:_0x1a5aa0[_0x51406c(0x89f)],_0x63a638=_0x19cac2?_0x1a5aa0[_0x51406c(0xc8e)]:_0x1a5aa0[_0x51406c(0x89f)],_0x412466=_0x4bfd99[_0x51406c(0xdeb)](_0x5aecbc=>{const _0x434591=_0x51406c,_0x4d915a=(_0x5aecbc['answers']||[])[_0x434591(0x498)](_0x39554e=>_0x39554e['questionIndex']<=_0x2cfcd3);let _0x113946=0x0,_0x12dd1f=0x0;_0x19cac2?(_0x113946=_0x4d915a['filter'](_0x3c2509=>_0x3c2509[_0x434591(0x697)])['length'],_0x12dd1f=_0x4d915a[_0x434591(0x382)]((_0x397a87,_0x69919f)=>_0x397a87+(_0x69919f['pointsAwarded']||0x0),0x0)):(_0x113946=_0x5aecbc[_0x434591(0x494)]||0x0,_0x12dd1f=_0x5aecbc[_0x434591(0x8c7)]||0x0);const _0x5a81b1=[..._0x4d915a][_0x434591(0x994)]((_0x39c42a,_0x168556)=>_0x39c42a['questionIndex']-_0x168556[_0x434591(0xe6a)]);let _0x480fb1=0x0;return _0x5a81b1[_0x434591(0x9fb)](_0x4ac4b6=>{const _0xe5812=_0x434591,_0x18a530=_0x4ac4b6[_0xe5812(0x3af)]&&_0x4ac4b6['powerupUsed']!==_0xe5812(0xb6c)||_0x4ac4b6[_0xe5812(0x22b)];_0x4ac4b6[_0xe5812(0x697)]?_0x480fb1=_0x18a530?0x0:_0x480fb1+0x1:_0x480fb1=0x0;}),{..._0x5aecbc,'realScore':_0x113946,'totalPoints':_0x12dd1f,'answers':_0x5aecbc[_0x434591(0xa92)],'correctStreak':_0x480fb1};}),_0x3d517e=Math[_0x51406c(0x839)](..._0x412466[_0x51406c(0xdeb)](_0x96817f=>_0x96817f[_0x51406c(0x8c7)]),-Infinity),_0x2c1c8b=Math[_0x51406c(0x839)](..._0x412466[_0x51406c(0xdeb)](_0x35ba83=>_0x35ba83['realScore']),-Infinity),_0x205636=_0x1a5aa0['isBlackMarketEnabled']===!![],_0x2ce7b7=[..._0x412466][_0x51406c(0x994)]((_0x138b73,_0x307013)=>{const _0x1cefdb=_0x51406c;if(_0x205636){const _0x390d19=_0x307013[_0x1cefdb(0x8c7)]-_0x138b73['totalPoints'];if(_0x390d19!==0x0)return _0x390d19;const _0x23e3cd=_0x307013[_0x1cefdb(0xcb2)]-_0x138b73[_0x1cefdb(0xcb2)];if(_0x23e3cd!==0x0)return _0x23e3cd;return(_0x138b73[_0x1cefdb(0x689)]||'')[_0x1cefdb(0x460)](_0x307013['name']||'','th');}else{const _0x270cc6=_0x307013['totalPoints']-_0x138b73[_0x1cefdb(0x8c7)];if(_0x270cc6!==0x0)return _0x270cc6;const _0x7dc3a=_0x307013[_0x1cefdb(0xcb2)]-_0x138b73[_0x1cefdb(0xcb2)];if(_0x7dc3a!==0x0)return _0x7dc3a;return(_0x138b73[_0x1cefdb(0x689)]||'')[_0x1cefdb(0x460)](_0x307013[_0x1cefdb(0x689)]||'','th');}});let _0xcebcca=0x1;for(let _0x20a2b0=0x0;_0x20a2b0<_0x2ce7b7[_0x51406c(0x2d2)];_0x20a2b0++){if(_0x20a2b0>0x0){const _0x1063df=_0x2ce7b7[_0x20a2b0-0x1],_0x2a09be=_0x2ce7b7[_0x20a2b0];let _0x282ee2=_0x2a09be[_0x51406c(0x8c7)]===_0x1063df['totalPoints']&&_0x2a09be[_0x51406c(0xcb2)]===_0x1063df['realScore'];!_0x282ee2&&(_0xcebcca=_0x20a2b0+0x1);}_0x2ce7b7[_0x20a2b0][_0x51406c(0x572)]=_0xcebcca;}let _0x47faae=_0x2ce7b7[_0x51406c(0x498)](_0x40acbe=>localTeamPlayers[_0x51406c(0xba0)](_0x40acbe[_0x51406c(0x689)]));_0x47faae['sort']((_0x37a173,_0x422f3f)=>(_0x422f3f['totalPoints']||0x0)-(_0x37a173[_0x51406c(0x8c7)]||0x0));let _0x29e541='';const _0x26aebf=_0x19cac2?_0x2cfcd3>=_0x5163ef[_0x51406c(0x2d2)]-0x1:_0x1a5aa0[_0x51406c(0x89f)]>=_0x5163ef[_0x51406c(0x2d2)]-0x1;if(_0x1a5aa0[_0x51406c(0x55e)]===_0x51406c(0xa07))_0x29e541='';else _0x26aebf?_0x29e541=_0x51406c(0x6da):_0x29e541=_0x51406c(0x247);const _0x248673=getCentralPotHTML(_0x1a5aa0),_0x5a316b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20scale-110\x22>'+_0x248673+_0x51406c(0x710)+_0x47faae[_0x51406c(0xdeb)]((_0x4db817,_0x5cd776)=>{const _0x499941=_0x51406c;let _0x1a3e15=_0x499941(0x431);const _0x326019=(_0x4db817['answers']||[])[_0x499941(0x787)](_0x47542e=>_0x47542e[_0x499941(0xe6a)]===_0x63a638);let _0x2df326='';_0x326019&&_0x326019['potBonus']>0x0&&(_0x2df326=_0x499941(0x937)+_0x326019['potBonus']+_0x499941(0xaf8));let _0x41351b='';if(_0x326019){if(_0x326019[_0x499941(0x705)])_0x41351b+=_0x499941(0xc9d);if(_0x326019['wasJinxed'])_0x41351b+='<span\x20title=\x22โดนคำสาป\x22>😈</span>';if(_0x326019[_0x499941(0x22b)])_0x41351b+=_0x499941(0x259);const _0x340729=_0x326019['powerupUsed'];if(_0x340729){const _0x4e1a15={'poll':'📊','cutOne':'✂️','insurance':_0x499941(0x51f),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x499941(0xa16)};if(_0x4e1a15[_0x340729])_0x41351b+=_0x499941(0x864)+_0x340729+'\x22>'+_0x4e1a15[_0x340729]+_0x499941(0x305);}}if(_0x326019){const _0x545e3a=_0x326019[_0x499941(0x697)],_0x1af396=_0x326019[_0x499941(0x63b)]===!![]||_0x326019[_0x499941(0x63b)]===_0x499941(0xc98),_0x2f5f07=_0x326019['powerupUsed'];if(_0x2f5f07===_0x499941(0xb6c))_0x1a3e15=_0x545e3a?'bg-yellow-300\x20text-yellow-900\x20font-bold':_0x499941(0xa47);else{if(_0x1af396)_0x1a3e15=_0x545e3a?'bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x499941(0xf7d);else _0x545e3a?_0x1a3e15=_0x499941(0x6fb):_0x1a3e15=_0x499941(0x7f5);}}let _0x45b9e2='';_0x326019&&_0x326019['powerupUsed']===_0x499941(0xb6c)&&!_0x326019[_0x499941(0x697)]&&(_0x45b9e2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hand-holding-usd\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>เดิมพันผิด!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>💸\x20เงินถูกยึดเข้ากองกลาง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');const _0x36ab43=_0x4db817['totalPoints']>=0x0?'(+'+_0x4db817[_0x499941(0x8c7)][_0x499941(0xbef)]()+')':'('+_0x4db817[_0x499941(0x8c7)][_0x499941(0xbef)]()+')';let _0x40a007='';const _0x3bb05a=_0x4db817[_0x499941(0xa92)][_0x499941(0x2d2)],_0x32fc35=_0x2cfcd3+0x1;if(_0x3bb05a>0x0){if(_0x205636){if(_0x4db817['totalPoints']===_0x3d517e&&_0x3d517e>0x0)_0x40a007+=_0x499941(0x228);if(_0x4db817[_0x499941(0xcb2)]===_0x2c1c8b&&_0x2c1c8b>0x0)_0x40a007+=_0x499941(0xdd1);}else{if(_0x4db817['realScore']===_0x32fc35)_0x40a007+='<span\x20class=\x22text-yellow-400\x20ml-1\x20text-xl\x20drop-shadow-md\x22>⭐</span>';}const _0x425a84=_0x40a007[_0x499941(0xba0)]('👑')||_0x40a007[_0x499941(0xba0)]('🎓')||_0x40a007[_0x499941(0xba0)]('⭐');if(!_0x425a84&&_0x4db817[_0x499941(0x8c7)]<0x0)_0x40a007+=_0x499941(0x69a);}let _0x5219b5='';const _0x4196bc=_0x326019&&_0x326019['usedBuyTime'],_0x54f30f=_0x326019&&_0x326019[_0x499941(0x3af)]&&_0x326019[_0x499941(0x3af)]!==_0x499941(0xb6c);if(!_0x4196bc&&!_0x54f30f){const _0x3f7d6b=_0x4db817[_0x499941(0xde6)]||0x0;_0x3f7d6b>=0x3&&(_0x5219b5=_0x499941(0x8da)+_0x3f7d6b+_0x499941(0x305));}return _0x499941(0xbd4)+_0x1a3e15+_0x499941(0xa09)+_0x4db817[_0x499941(0x572)]+_0x499941(0x4a1)+_0x4db817[_0x499941(0x689)]+_0x499941(0x592)+_0x41351b+'\x20'+_0x40a007+'\x20'+_0x5219b5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20sm:justify-end\x20w-full\x20sm:w-auto\x20pl-11\x20sm:pl-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-70\x20sm:hidden\x22>คะแนนรวม:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-xl\x22>'+_0x4db817['realScore']+_0x499941(0x37a)+_0x36ab43+_0x499941(0x6a1)+_0x2df326+_0x499941(0xa75)+_0x45b9e2+_0x499941(0xeee);})['join']('')+_0x51406c(0xa9e)+_0x29e541+_0x51406c(0xf3a);liveGameView[_0x51406c(0x45b)]=_0x5a316b;}function renderStudentAnonymousResultsView(_0x27eef3,_0x1551e6){const _0x3b9ed8=_0x4247b4;let _0x595e72=[];_0x27eef3[_0x3b9ed8(0x79a)]?_0x595e72=_0x27eef3['publicLeaderboard']:_0x595e72=Object[_0x3b9ed8(0x57b)](_0x27eef3[_0x3b9ed8(0x5fa)]||{});const _0xad962=_0x27eef3['gameVariant']||_0x3b9ed8(0x30c),_0x1ab53d=_0xad962===_0x3b9ed8(0x5fd)||_0xad962===_0x3b9ed8(0xbe8),_0x159b50=_0x27eef3[_0x3b9ed8(0x33e)]===!![],_0xdc1704=_0x27eef3[_0x3b9ed8(0xeb8)][_0x3b9ed8(0x99c)],_0x146980=_0x1ab53d&&_0x27eef3[_0x3b9ed8(0xc8e)]!==undefined?_0x27eef3[_0x3b9ed8(0xc8e)]:_0x1551e6,_0x14ed96=_0x595e72[_0x3b9ed8(0xdeb)](_0x296e14=>{const _0x291de9=_0x3b9ed8,_0x48ffda=(_0x296e14[_0x291de9(0xa92)]||[])[_0x291de9(0x498)](_0x339127=>_0x339127[_0x291de9(0xe6a)]<=_0x146980);let _0x3d8d45=0x0,_0x2b74d5=0x0;_0x1ab53d?(_0x3d8d45=_0x48ffda['filter'](_0x3424dd=>_0x3424dd[_0x291de9(0x697)])[_0x291de9(0x2d2)],_0x2b74d5=_0x48ffda[_0x291de9(0x382)]((_0x34f298,_0x50ca98)=>_0x34f298+(_0x50ca98[_0x291de9(0x868)]||0x0),0x0)):(_0x3d8d45=_0x296e14[_0x291de9(0x494)]||0x0,_0x2b74d5=_0x296e14[_0x291de9(0x8c7)]||0x0);const _0x5a5354=[..._0x48ffda][_0x291de9(0x994)]((_0x151134,_0x5b997d)=>_0x151134[_0x291de9(0xe6a)]-_0x5b997d['questionIndex']);let _0x6b1f03=0x0;return _0x5a5354[_0x291de9(0x9fb)](_0x57c371=>{const _0x487749=_0x291de9,_0x3219a6=_0x57c371[_0x487749(0x3af)]&&_0x57c371[_0x487749(0x3af)]!==_0x487749(0xb6c)||_0x57c371[_0x487749(0x22b)];_0x57c371[_0x487749(0x697)]?_0x6b1f03=_0x3219a6?0x0:_0x6b1f03+0x1:_0x6b1f03=0x0;}),{..._0x296e14,'realScore':_0x3d8d45,'totalPoints':_0x2b74d5,'answers':_0x48ffda,'correctStreak':_0x6b1f03};}),_0x2456f2=Math[_0x3b9ed8(0x839)](..._0x14ed96[_0x3b9ed8(0xdeb)](_0x184371=>_0x184371[_0x3b9ed8(0x8c7)]),-Infinity),_0x324944=Math[_0x3b9ed8(0x839)](..._0x14ed96[_0x3b9ed8(0xdeb)](_0x1e98ae=>_0x1e98ae['realScore']),-Infinity),_0x109bfb=_0x27eef3[_0x3b9ed8(0x6e4)]===!![],_0x2f0e26=[..._0x14ed96][_0x3b9ed8(0x994)]((_0x2ab7d9,_0x15b44e)=>{const _0x4d3d38=_0x3b9ed8;if(_0x109bfb){if(_0x15b44e[_0x4d3d38(0x8c7)]!==_0x2ab7d9[_0x4d3d38(0x8c7)])return _0x15b44e['totalPoints']-_0x2ab7d9[_0x4d3d38(0x8c7)];if(_0x15b44e[_0x4d3d38(0xcb2)]!==_0x2ab7d9[_0x4d3d38(0xcb2)])return _0x15b44e[_0x4d3d38(0xcb2)]-_0x2ab7d9[_0x4d3d38(0xcb2)];}else{if(_0x15b44e['totalPoints']!==_0x2ab7d9[_0x4d3d38(0x8c7)])return _0x15b44e[_0x4d3d38(0x8c7)]-_0x2ab7d9[_0x4d3d38(0x8c7)];if(_0x15b44e[_0x4d3d38(0xcb2)]!==_0x2ab7d9[_0x4d3d38(0xcb2)])return _0x15b44e['realScore']-_0x2ab7d9['realScore'];}return(_0x2ab7d9[_0x4d3d38(0x689)]||'')[_0x4d3d38(0x460)](_0x15b44e[_0x4d3d38(0x689)]||'','th');});let _0x406aae=0x1;for(let _0x446a3c=0x0;_0x446a3c<_0x2f0e26[_0x3b9ed8(0x2d2)];_0x446a3c++){if(_0x446a3c>0x0){const _0x5c48e2=_0x2f0e26[_0x446a3c-0x1],_0x42cd68=_0x2f0e26[_0x446a3c];let _0x4b9b8c=_0x42cd68['totalPoints']===_0x5c48e2[_0x3b9ed8(0x8c7)]&&_0x42cd68[_0x3b9ed8(0xcb2)]===_0x5c48e2[_0x3b9ed8(0xcb2)];!_0x4b9b8c&&(_0x406aae=_0x446a3c+0x1);}_0x2f0e26[_0x446a3c][_0x3b9ed8(0x572)]=_0x406aae;}let _0x4fd4b7=null;const _0x586885=_0x14ed96[_0x3b9ed8(0x498)](_0x2abeca=>localTeamPlayers[_0x3b9ed8(0xba0)](_0x2abeca[_0x3b9ed8(0x689)]));_0x4fd4b7=_0x586885[_0x3b9ed8(0x2d2)]>0x0?_0x586885[_0x3b9ed8(0x994)]((_0x2ae751,_0x515852)=>_0x515852['totalPoints']-_0x2ae751[_0x3b9ed8(0x8c7)])[0x0]:null;if(!_0x4fd4b7){liveGameView[_0x3b9ed8(0x45b)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>';return;}const _0x16d1aa=_0x109bfb?_0x4fd4b7[_0x3b9ed8(0x8c7)]:_0x4fd4b7[_0x3b9ed8(0x8c7)],_0x59836d=_0x146980+0x1,_0x190794=_0x2f0e26[_0x3b9ed8(0xdeb)]((_0x5303f3,_0x2d9842)=>{const _0x4e5093=_0x3b9ed8,_0x5b3d45=_0x5303f3[_0x4e5093(0xcb2)],_0x5226b0=_0x5303f3[_0x4e5093(0x8c7)],_0x1ff889=(_0x5303f3[_0x4e5093(0xa92)]||[])[_0x4e5093(0x787)](_0x520fa8=>_0x520fa8[_0x4e5093(0xe6a)]===_0x146980);let _0x467be0='';_0x1ff889&&_0x1ff889[_0x4e5093(0x251)]>0x0&&(_0x467be0='<span\x20class=\x22text-xs\x20bg-yellow-100\x20text-yellow-800\x20px-2\x20py-0.5\x20rounded-full\x20font-bold\x20ml-1\x20shadow-sm\x20border\x20border-yellow-300\x22\x20title=\x22ส่วนแบ่งจากกองกลาง\x22>+'+_0x1ff889[_0x4e5093(0x251)]+_0x4e5093(0xaf8));let _0x33c9c6='';if(_0x1ff889){if(_0x1ff889[_0x4e5093(0x705)])_0x33c9c6+=_0x4e5093(0xc9d);if(_0x1ff889[_0x4e5093(0xf70)])_0x33c9c6+=_0x4e5093(0x824);if(_0x1ff889[_0x4e5093(0x22b)])_0x33c9c6+='<span\x20title=\x22ใช้เวลา\x22>⏳</span>';const _0x1eeac5=_0x1ff889[_0x4e5093(0x3af)];if(_0x1eeac5){const _0x3fa16f={'poll':'📊','cutOne':'✂️','insurance':'🛡️','fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳','revealOptions':'👁️'};if(_0x3fa16f[_0x1eeac5])_0x33c9c6+='<span\x20title=\x22ใช้\x20'+_0x1eeac5+'\x22>'+_0x3fa16f[_0x1eeac5]+_0x4e5093(0x305);}}let _0x26463d='';if(_0x59836d>0x0){if(_0x109bfb){if(_0x5226b0===_0x2456f2&&_0x2456f2>0x0)_0x26463d+=_0x4e5093(0x522);if(_0x5b3d45===_0x324944&&_0x324944>0x0)_0x26463d+=_0x4e5093(0x997);}else{const _0x38ba44=_0x5303f3[_0x4e5093(0xcb2)]===_0x59836d&&_0x59836d>0x0;if(_0x38ba44)_0x26463d=_0x4e5093(0x398);}if(_0x26463d===''&&_0x5226b0<0x0)_0x26463d='<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>';}let _0x234037='';const _0x2bbabb=_0x1ff889&&_0x1ff889[_0x4e5093(0x22b)],_0x322bce=_0x1ff889&&_0x1ff889[_0x4e5093(0x3af)]&&_0x1ff889[_0x4e5093(0x3af)]!==_0x4e5093(0xb6c);if(!_0x2bbabb&&!_0x322bce){const _0x45c855=_0x5303f3[_0x4e5093(0xde6)]||0x0;_0x45c855>=0x3&&(_0x234037=_0x4e5093(0xc02)+_0x45c855+'</span>');}let _0x34ef58=_0x4e5093(0x277),_0x4b6d72=![];if(_0x1ff889){const _0x2b8f30=_0x1ff889[_0x4e5093(0x697)],_0x1fded7=_0x1ff889[_0x4e5093(0x63b)]===!![]||_0x1ff889[_0x4e5093(0x63b)]==='confident',_0x5c5c9c=_0x1ff889[_0x4e5093(0x3af)];if(_0x5c5c9c===_0x4e5093(0xb6c))_0x2b8f30?(_0x34ef58='bg-yellow-300\x20text-yellow-900\x20font-bold',_0x4b6d72=!![]):_0x34ef58=_0x4e5093(0xa47);else{if(_0x1fded7)_0x34ef58=_0x2b8f30?_0x4e5093(0x893):_0x4e5093(0xf7d);else _0x2b8f30&&(_0x34ef58='bg-[#DCFCE7]\x20text-green-900');}}let _0x559ff0='';const _0xe48c2=_0x5303f3[_0x4e5093(0x689)],_0x271835=_0x27eef3[_0x4e5093(0x2e2)][_0x5303f3[_0x4e5093(0x689)]]||_0x4e5093(0xda3),_0x182a91=localTeamPlayers[_0x4e5093(0xba0)](_0xe48c2),_0x4a49af=_0x4b6d72?_0x4e5093(0x44d):_0x4e5093(0xb66),_0x23ef8f=_0x109bfb?_0x5303f3[_0x4e5093(0x8c7)]:_0x5303f3[_0x4e5093(0x8c7)],_0x1dd637=_0x159b50||_0x182a91||_0x16d1aa>_0x23ef8f;_0x1dd637?_0x559ff0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0xe48c2+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20'+_0x4a49af+'\x22>('+_0x271835+_0x4e5093(0x6f5):_0x559ff0=_0x4e5093(0x802)+_0x271835+_0x4e5093(0x305);_0x182a91&&(_0x559ff0='<div\x20class=\x22flex\x20items-center\x20gap-2\x22><div>'+_0x559ff0+_0x4e5093(0x857));const _0x437892=_0x4e5093(0x5fe)+_0x33c9c6+'\x20'+_0x26463d+'\x20'+_0x234037+_0x4e5093(0x745),_0xf24a74=_0x5226b0>=0x0?'(+'+_0x5226b0[_0x4e5093(0xbef)]()+')':'('+_0x5226b0[_0x4e5093(0xbef)]()+')';return _0x4e5093(0x482)+_0x34ef58+_0x4e5093(0xf21)+_0x5303f3['displayRank']+_0x4e5093(0xa6b)+_0x559ff0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x437892+_0x4e5093(0x84f)+_0x5b3d45+_0x4e5093(0xd57)+_0xf24a74+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x467be0+'\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x3b9ed8(0x94c)]('');let _0x415351='';const _0x244aec=_0x1ab53d?_0x146980>=_0xdc1704[_0x3b9ed8(0x2d2)]-0x1:_0x27eef3[_0x3b9ed8(0x89f)]>=_0xdc1704['length']-0x1;if(_0x27eef3[_0x3b9ed8(0x55e)]===_0x3b9ed8(0xa07))_0x415351='';else _0x244aec?_0x415351=_0x3b9ed8(0x6da):_0x415351=_0x3b9ed8(0x247);const _0x599dec=getCentralPotHTML(_0x27eef3),_0x37bd90=_0x3b9ed8(0x48c)+_0x599dec+_0x3b9ed8(0x60d)+_0x190794+_0x3b9ed8(0x9e9)+_0x415351+_0x3b9ed8(0xc5f);liveGameView[_0x3b9ed8(0x45b)]=_0x37bd90;}function renderStudentCompetitionResultsView(_0x12ab37,_0x5707df){const _0x2c2fc0=_0x4247b4,_0x423fd6=Object[_0x2c2fc0(0x57b)](_0x12ab37['players']||{}),_0x546cc5=_0x5707df,_0x261911=_0x12ab37['gameVariant']||_0x2c2fc0(0x30c),_0x26a1c5=_0x12ab37[_0x2c2fc0(0xeb8)][_0x2c2fc0(0x99c)],_0x33d049=_0x423fd6[_0x2c2fc0(0xdeb)](_0x2c3ce4=>{const _0xdc0ce7=_0x2c2fc0,_0x36b08b=_0x2c3ce4[_0xdc0ce7(0x494)]||0x0,_0x20e809=_0x2c3ce4['totalPoints']||0x0,_0x5bf4cb=(_0x2c3ce4[_0xdc0ce7(0xa92)]||[])[_0xdc0ce7(0x498)](_0x5b3c9e=>_0x261911===_0xdc0ce7(0x5fd)?_0x5b3c9e['questionIndex']<=_0x546cc5:!![]);return{..._0x2c3ce4,'realScore':_0x36b08b,'totalPoints':_0x20e809,'answers':_0x5bf4cb};}),_0x41afcd=_0x12ab37[_0x2c2fc0(0x6e4)]===!![],_0x5191d6=[..._0x33d049][_0x2c2fc0(0x994)]((_0x55ec44,_0x214c4f)=>{const _0x2342b9=_0x2c2fc0;if(_0x41afcd){const _0x156cd0=_0x214c4f[_0x2342b9(0xcb2)]-_0x55ec44[_0x2342b9(0xcb2)];if(_0x156cd0!==0x0)return _0x156cd0;const _0x589610=_0x214c4f['totalPoints']-_0x55ec44[_0x2342b9(0x8c7)];if(_0x589610!==0x0)return _0x589610;return(_0x55ec44['name']||'')[_0x2342b9(0x460)](_0x214c4f[_0x2342b9(0x689)]||'','th');}else{const _0x1c8de1=_0x214c4f['totalPoints']-_0x55ec44[_0x2342b9(0x8c7)];if(_0x1c8de1!==0x0)return _0x1c8de1;const _0x1bcc78=_0x214c4f[_0x2342b9(0xcb2)]-_0x55ec44[_0x2342b9(0xcb2)];if(_0x1bcc78!==0x0)return _0x1bcc78;return(_0x55ec44[_0x2342b9(0x689)]||'')[_0x2342b9(0x460)](_0x214c4f[_0x2342b9(0x689)]||'','th');}});let _0xc2896f=0x1;for(let _0x5d3dfe=0x0;_0x5d3dfe<_0x5191d6[_0x2c2fc0(0x2d2)];_0x5d3dfe++){if(_0x5d3dfe>0x0){const _0x551a86=_0x5191d6[_0x5d3dfe-0x1],_0x5e8f82=_0x5191d6[_0x5d3dfe];let _0x182621=![];_0x41afcd?_0x182621=_0x5e8f82['realScore']===_0x551a86[_0x2c2fc0(0xcb2)]&&_0x5e8f82[_0x2c2fc0(0x8c7)]===_0x551a86[_0x2c2fc0(0x8c7)]:_0x182621=_0x5e8f82['totalPoints']===_0x551a86['totalPoints']&&_0x5e8f82['realScore']===_0x551a86['realScore'],!_0x182621&&(_0xc2896f=_0x5d3dfe+0x1);}_0x5191d6[_0x5d3dfe]['displayRank']=_0xc2896f;}const _0x29ecae=_0x5191d6[_0x2c2fc0(0xdeb)]((_0x2041d7,_0x2e1953)=>{const _0x20b539=_0x2c2fc0,_0x4637ed='';let _0x11c809=_0x20b539(0x277);const _0x137510=_0x2041d7[_0x20b539(0x689)],_0x39b60f=_0x20b539(0xaba),_0x5a286b=_0x20b539(0x922),_0x1e228a=_0x20b539(0x8e2)+_0x39b60f+_0x20b539(0x649)+_0x137510+_0x20b539(0x7dc)+_0x5a286b+'\x22>'+_0x137510+_0x20b539(0x305)+_0x4637ed+'</div>',_0x47d8e3='';return _0x20b539(0x482)+_0x11c809+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>'+_0x2041d7[_0x20b539(0x572)]+_0x20b539(0xc6d)+_0x1e228a+_0x20b539(0xc60)+_0x47d8e3+_0x20b539(0x214);})[_0x2c2fc0(0x94c)]('');let _0x503914='';const _0x535274=_0x261911===_0x2c2fc0(0x5fd)?_0x12ab37['reviewQuestionIndex']>=_0x26a1c5[_0x2c2fc0(0x2d2)]-0x1:_0x12ab37['currentQuestionIndex']>=_0x26a1c5['length']-0x1;_0x535274?_0x503914=_0x2c2fc0(0x6da):_0x503914=_0x2c2fc0(0x247);const _0xc07838=_0x2c2fc0(0xb63)+_0x29ecae+_0x2c2fc0(0x35f)+_0x503914+_0x2c2fc0(0xc5f);liveGameView[_0x2c2fc0(0x45b)]=_0xc07838;}function renderStudentSyncQuestionView(_0x2fb1ab){const _0x3ad31e=_0x4247b4;while(localPlayerTurnIndex<localTeamPlayers[_0x3ad31e(0x2d2)]&&_0x2fb1ab[_0x3ad31e(0x5fa)][localTeamPlayers[localPlayerTurnIndex]]?.['answered']===!![]){localPlayerTurnIndex++;}const _0x218c56=localTeamPlayers[localPlayerTurnIndex];if(!_0x218c56)return;const _0x23fcec=_0x2fb1ab['players'][_0x218c56],_0x7c1941=_0x2fb1ab[_0x3ad31e(0x89f)],_0x4579cf=_0x2fb1ab['shuffledQuiz'][_0x3ad31e(0x99c)]['length'],_0x1a7262=_0x2fb1ab[_0x3ad31e(0xeb8)][_0x3ad31e(0x99c)][_0x7c1941],_0x283fcb=_0x1a7262[_0x3ad31e(0xf29)]||_0x2fb1ab[_0x3ad31e(0xeb8)]['quizType'];let _0xdc9aed='',_0x448136=![];const _0x15938f=_0x3ad31e(0xb7d)+_0x7c1941+'_p'+_0x218c56,_0x1433a6=sessionStorage['getItem'](_0x15938f),_0x1c0208=_0x1433a6===_0x3ad31e(0xb25),_0x19677f=_0x3ad31e(0xb68)+_0x7c1941+'_p'+_0x218c56,_0x2c45c8=JSON[_0x3ad31e(0xcfd)](sessionStorage[_0x3ad31e(0x52f)](_0x19677f)||'[]')[_0x3ad31e(0xdeb)](String);if((_0x283fcb===_0x3ad31e(0xf11)||_0x283fcb==='fill_in_no_choices')&&_0x1c0208&&_0x1a7262[_0x3ad31e(0xb84)]&&_0x1a7262[_0x3ad31e(0xb84)][_0x3ad31e(0x2d2)]>0x0)_0xdc9aed=_0x1a7262[_0x3ad31e(0xb84)][_0x3ad31e(0xdeb)]((_0x104225,_0x1ae08b)=>{const _0x34a31e=_0x3ad31e;if(_0x2c45c8[_0x34a31e(0xba0)](String(_0x1ae08b)))return'';return'<button\x20data-value=\x22'+_0x104225+_0x34a31e(0x380)+_0x1ae08b+_0x34a31e(0x3fa)+_0x104225+_0x34a31e(0x4a5);})[_0x3ad31e(0x94c)]('');else{if(_0x283fcb===_0x3ad31e(0xf11)||_0x283fcb===_0x3ad31e(0x437)){_0x448136=!![];const _0xed059d=_0x1a7262[_0x3ad31e(0x325)]&&/^-?[\d.,]+$/['test'](String(_0x1a7262[_0x3ad31e(0x325)])[_0x3ad31e(0xba3)]());let _0x9a4b9d='';_0xed059d?_0x9a4b9d=_0x3ad31e(0xe32):_0x9a4b9d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xdc9aed='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x9a4b9d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else switch(_0x283fcb){case _0x3ad31e(0x353):const _0x4405af=_0x2c45c8[_0x3ad31e(0xba0)]('0')?'':_0x3ad31e(0x966),_0x52a08f=_0x2c45c8['includes']('1')?'':_0x3ad31e(0xd03);_0xdc9aed=_0x4405af+_0x52a08f;break;case _0x3ad31e(0x39f):_0x448136=!![],_0xdc9aed=_0x3ad31e(0x490)+(_0x1a7262[_0x3ad31e(0x5b2)]||[])[_0x3ad31e(0xdeb)](_0x252eab=>_0x3ad31e(0x685)+_0x252eab+'\x22>'+_0x252eab+'</option>')['join']('')+_0x3ad31e(0xbe0);break;case'multiple_choice':default:_0xdc9aed=(_0x1a7262['options']||[])[_0x3ad31e(0xdeb)]((_0x115b99,_0x26cfb0)=>{const _0x244417=_0x3ad31e;if(_0x2c45c8[_0x244417(0xba0)](String(_0x26cfb0)))return'';return _0x244417(0xdc0)+_0x26cfb0+_0x244417(0x380)+_0x26cfb0+_0x244417(0xa42)+_0x115b99+_0x244417(0x4a5);})[_0x3ad31e(0x94c)]('');break;}}let _0x4e48a5='';_0x2fb1ab[_0x3ad31e(0x9f5)]===_0x3ad31e(0x59c)&&(_0x4e48a5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>'+_0x2fb1ab[_0x3ad31e(0xefe)]+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x48609d='';const _0x3639fc=_0x2fb1ab[_0x3ad31e(0xdee)]||'classic',_0x64c6f5=[_0x3ad31e(0x5fd),_0x3ad31e(0xbe8),_0x3ad31e(0x5c6)][_0x3ad31e(0xba0)](_0x3639fc);if(_0x2fb1ab[_0x3ad31e(0x6e4)]===!![]){if(_0x64c6f5)!_0x1433a6&&(_0x48609d=_0x3ad31e(0x8b1));else{const _0x5530e4=_0x23fcec[_0x3ad31e(0x8c7)]||0x0,_0x3c2045=_0x23fcec[_0x3ad31e(0xb49)]||{},_0x5676c=[_0x3c2045[_0x3ad31e(0x7b0)]>0x0?_0x3ad31e(0x46c)+_0x3c2045['buyTime']+_0x3ad31e(0x7e7):'',_0x3c2045['revealOptions']>0x0?_0x3ad31e(0x694)+_0x3c2045[_0x3ad31e(0xb25)]+_0x3ad31e(0x7e7):'',_0x3c2045[_0x3ad31e(0xd02)]>0x0?'<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20('+_0x3c2045[_0x3ad31e(0xd02)]+')</button>':'',_0x3c2045[_0x3ad31e(0xd61)]>0x0?_0x3ad31e(0xdef)+_0x3c2045[_0x3ad31e(0xd61)]+_0x3ad31e(0x7e7):'',_0x3c2045[_0x3ad31e(0x650)]>0x0?_0x3ad31e(0x39b)+_0x3c2045[_0x3ad31e(0x650)]+_0x3ad31e(0x7e7):'',_0x3c2045[_0x3ad31e(0xa1d)]>0x0?_0x3ad31e(0xee3)+_0x3c2045[_0x3ad31e(0xa1d)]+_0x3ad31e(0x7e7):''][_0x3ad31e(0x498)](Boolean)['join']('\x20'),_0x447155='freeMarketEntryUsed_q'+_0x7c1941+'_p'+_0x218c56,_0x59fc45=sessionStorage[_0x3ad31e(0x52f)](_0x447155)==='true',_0x558878=_0x5530e4>0x0&&(!_0x59fc45||_0x5530e4>=0x1),_0x579830=_0x5530e4===0x0?_0x3ad31e(0x64b):_0x59fc45?'ตลาดมืด\x20(-1\x20P)':_0x3ad31e(0xb15)+_0x5530e4+_0x3ad31e(0xe99),_0x2d151d=_0x558878?_0x3ad31e(0x3ae):_0x3ad31e(0x447),_0x30dd44=_0x558878?'':'disabled';let _0x403e2a=_0x3ad31e(0x4e7)+_0x2d151d+_0x3ad31e(0x4bd)+_0x30dd44+_0x3ad31e(0x75a)+_0x579830+'</button>';if(!_0x1433a6){const _0x5a1855=_0x5530e4>0x0,_0x340a9c=_0x5a1855?_0x3ad31e(0x784):'bg-gray-400\x20text-gray-600\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70',_0x15da43=_0x5a1855?_0x3ad31e(0xac8):_0x3ad31e(0xab4),_0x5f19cb=_0x5a1855?'':_0x3ad31e(0x766);_0x403e2a+=_0x3ad31e(0x81a)+_0x340a9c+_0x3ad31e(0x278)+_0x5f19cb+_0x3ad31e(0x7a0)+_0x15da43+'\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20'+_0x5f19cb+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}_0x48609d=_0x3ad31e(0xdf7)+_0x403e2a+_0x3ad31e(0x2b2)+(_0x5676c||'')+_0x3ad31e(0x915);}}let _0x526a38='';_0x23fcec[_0x3ad31e(0x80f)]&&(_0x526a38+=_0x3ad31e(0x613));_0x23fcec[_0x3ad31e(0xd38)]&&(_0x526a38+=_0x3ad31e(0x504));(_0x23fcec[_0x3ad31e(0xa30)]||0x0)>0x0&&(_0x526a38+=_0x3ad31e(0xf14));if(_0x1433a6){if(_0x1433a6===_0x3ad31e(0xb6c)){const _0x3c8e18=_0x64c6f5?'🚀\x20คุณเดิมพันหมดหน้าตัก!':'💰\x20โหมดเดิมพันทำงานอยู่!';_0x526a38+=_0x3ad31e(0x7a1)+_0x3c8e18+_0x3ad31e(0x90b);}else{if(_0x1433a6==='cutOne')_0x526a38+=_0x3ad31e(0xa3f);else{if(_0x1433a6===_0x3ad31e(0x650))_0x526a38+=_0x3ad31e(0x753);else{if(_0x1433a6===_0x3ad31e(0xa1d))_0x526a38+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-blue-400\x20to-cyan-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-undo-alt\x20fa-lg\x22></i>\x20<span>โอกาสครั้งที่สอง!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตอบผิดได้\x201\x20ครั้งโดยไม่เสียคะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{if(_0x1433a6===_0x3ad31e(0xb25))_0x526a38+=_0x3ad31e(0x6d3);else _0x1433a6===_0x3ad31e(0xd61)?_0x526a38+=_0x3ad31e(0xcbb):_0x526a38+='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-bold\x20mb-3\x20animate-pulse\x20shadow-md\x22>'+_0x1433a6+_0x3ad31e(0xdbe);}}}}}let _0x6f2f55='';if(!_0x64c6f5){const _0x5a780e=_0x23fcec['correctStreak']||0x0;if(_0x5a780e>=0x3)_0x6f2f55=_0x3ad31e(0xf06)+_0x5a780e+'\x20ข้อแล้ว!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[10px]\x20text-white/90\x20mt-1\x20font-normal\x20bg-black/10\x20rounded\x20px-2\x20py-0.5\x20inline-block\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20⚠️\x20การใช้ตัวช่วย\x20(ยกเว้นเดิมพัน)\x20จะรีเซ็ต\x20Combo\x20เป็น\x200\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else _0x5a780e>0x0&&(_0x6f2f55=_0x3ad31e(0xbb8)+_0x5a780e+_0x3ad31e(0x36a));}const _0x284270=getCentralPotHTML(_0x2fb1ab);liveGameView[_0x3ad31e(0x45b)]=_0x3ad31e(0x9f6)+(_0x7c1941+0x1)+_0x3ad31e(0x74e)+_0x4579cf+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20right-0\x20top-0\x20transform\x20scale-90\x20origin-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x284270+_0x3ad31e(0xb65)+_0x218c56+_0x3ad31e(0x82c)+_0x6f2f55+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e48a5+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x48609d+_0x3ad31e(0x5c1)+_0x526a38+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x1a7262[_0x3ad31e(0x303)]||_0x1a7262['stem'])+_0x3ad31e(0x2e1)+_0xdc9aed+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x3ad31e(0x872)])MathJax[_0x3ad31e(0xecc)]();function _0x4314cb(_0x51c2d9,_0xb4dec8,_0x5543ad,_0x4a27e4){const _0x26fa6a=_0x3ad31e,_0x3431b4=_0x5543ad[_0x26fa6a(0x5c7)]===!![],_0x13b1eb=_0x5543ad[_0x26fa6a(0x89f)],_0x272468=_0x26fa6a(0xb7d)+_0x13b1eb+'_p'+_0x4a27e4,_0x3aa20d=sessionStorage[_0x26fa6a(0x52f)](_0x272468),_0xb59d66=_0x3aa20d===_0x26fa6a(0xb6c),_0x104a6b=_0x5543ad[_0x26fa6a(0x5fa)][_0x4a27e4];if(_0xb59d66){const _0x24ecc8=sessionStorage[_0x26fa6a(0x52f)]('instantWager')===_0x26fa6a(0x96f);if(_0x64c6f5||_0x24ecc8){const _0x2ff004=_0x104a6b[_0x26fa6a(0x8c7)]||0x0;sessionStorage[_0x26fa6a(0x801)](_0x26fa6a(0x68b)),handleSyncAnswerSubmit(_0x51c2d9,_0xb4dec8,_0x5543ad,_0x4a27e4,![],_0x2ff004);}else{const _0x266abc=document[_0x26fa6a(0x7c7)]('wager-modal'),_0x56f630=document[_0x26fa6a(0x7c7)]('wager-slider'),_0x17ae5d=document[_0x26fa6a(0x7c7)](_0x26fa6a(0x750)),_0x53ceb0=document[_0x26fa6a(0x7c7)](_0x26fa6a(0xbf3)),_0xd5fdc7=_0x104a6b[_0x26fa6a(0x8c7)]||0x0;_0x56f630[_0x26fa6a(0x839)]=_0xd5fdc7,_0x56f630[_0x26fa6a(0xc66)]=_0xd5fdc7,_0x17ae5d[_0x26fa6a(0xb0c)]=_0xd5fdc7,_0x53ceb0['textContent']=_0xd5fdc7,_0x56f630[_0x26fa6a(0xb0a)]=()=>{_0x17ae5d['textContent']=_0x56f630['value'];};const _0x8af348=document[_0x26fa6a(0x7c7)]('selected-answer-index-hidden-wager');_0x8af348[_0x26fa6a(0xefd)][_0x26fa6a(0x568)]=_0x51c2d9,_0x8af348[_0x26fa6a(0xefd)][_0x26fa6a(0x94b)]=JSON[_0x26fa6a(0xe71)](_0xb4dec8),_0x8af348[_0x26fa6a(0xefd)][_0x26fa6a(0x6c3)]=JSON[_0x26fa6a(0xe71)](_0x5543ad),_0x8af348[_0x26fa6a(0xefd)][_0x26fa6a(0xb4c)]=_0x4a27e4,_0x266abc[_0x26fa6a(0x457)][_0x26fa6a(0xd11)](_0x26fa6a(0x845));}}else{if(_0x3431b4){document['getElementById'](_0x26fa6a(0xa63))['dataset'][_0x26fa6a(0xb92)]=_0x26fa6a(0xca0);const _0xddcb74=document[_0x26fa6a(0x7c7)](_0x26fa6a(0x6fa));_0xddcb74[_0x26fa6a(0xefd)][_0x26fa6a(0x568)]=_0x51c2d9,_0xddcb74[_0x26fa6a(0xefd)][_0x26fa6a(0x94b)]=JSON['stringify'](_0xb4dec8),_0xddcb74['dataset'][_0x26fa6a(0x6c3)]=JSON[_0x26fa6a(0xe71)](_0x5543ad),_0xddcb74[_0x26fa6a(0xefd)][_0x26fa6a(0xb4c)]=_0x4a27e4,document[_0x26fa6a(0x7c7)]('confidence-modal')[_0x26fa6a(0x457)][_0x26fa6a(0xd11)](_0x26fa6a(0x845));}else handleSyncAnswerSubmit(_0x51c2d9,_0xb4dec8,_0x5543ad,_0x4a27e4,![],0x0);}}_0x448136?document[_0x3ad31e(0x7c7)](_0x3ad31e(0x519))[_0x3ad31e(0xf03)](_0x3ad31e(0x2f0),()=>{const _0x198521=_0x3ad31e,_0x40d352=document['getElementById'](_0x198521(0x33c))||document['getElementById'](_0x198521(0x995));if(_0x40d352[_0x198521(0xc66)][_0x198521(0xba3)]()===''){showMessage(_0x198521(0x9d2));return;}_0x4314cb(_0x40d352['value'],_0x1a7262,_0x2fb1ab,_0x218c56);}):document[_0x3ad31e(0xf52)](_0x3ad31e(0x809))[_0x3ad31e(0x9fb)](_0x164662=>{_0x164662['addEventListener']('click',()=>{const _0x44f344=_0xc03a;_0x4314cb(_0x164662[_0x44f344(0xefd)][_0x44f344(0xc66)],_0x1a7262,_0x2fb1ab,_0x218c56);});});if(_0x2fb1ab[_0x3ad31e(0x6e4)]===!![]){if(!_0x64c6f5){const _0x379be5=document[_0x3ad31e(0x7c7)](_0x3ad31e(0x3e2));_0x379be5&&_0x379be5['addEventListener'](_0x3ad31e(0x2f0),()=>{const _0xbbd74d=_0x3ad31e,_0x13704d='freeMarketEntryUsed_q'+_0x7c1941+'_p'+_0x218c56,_0x5bd2cf=sessionStorage[_0xbbd74d(0x52f)](_0x13704d)===_0xbbd74d(0x96f);if(!_0x5bd2cf)openBlackMarket(_0x2fb1ab,_0x23fcec),sessionStorage['setItem'](_0x13704d,_0xbbd74d(0x96f)),renderStudentSyncQuestionView(_0x2fb1ab);else{if(_0x23fcec['totalPoints']<0x1){showMessage('คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)');return;}showConfirmation(_0xbbd74d(0x253),()=>{handlePayForMarketEntry(_0x218c56,_0x2fb1ab,_0x23fcec);});}}),document[_0x3ad31e(0x7c7)](_0x3ad31e(0xdf1))?.['addEventListener'](_0x3ad31e(0x2f0),_0x1bac62=>{const _0x28c9e8=_0x3ad31e;_0x1bac62[_0x28c9e8(0xcbd)][_0x28c9e8(0x766)]=!![],handleUsePowerup(_0x218c56,_0x28c9e8(0x7b0),_0x1a7262,_0x2fb1ab,_0x23fcec);}),document['getElementById']('use-powerup-cutOne')?.[_0x3ad31e(0xf03)](_0x3ad31e(0x2f0),_0x536c1b=>{const _0x1fe41f=_0x3ad31e;_0x536c1b[_0x1fe41f(0xcbd)]['disabled']=!![],handleUsePowerup(_0x218c56,_0x1fe41f(0xd02),_0x1a7262,_0x2fb1ab,_0x23fcec);}),document[_0x3ad31e(0x7c7)]('use-powerup-insurance')?.[_0x3ad31e(0xf03)](_0x3ad31e(0x2f0),_0x10c0b1=>{const _0x12c885=_0x3ad31e;_0x10c0b1[_0x12c885(0xcbd)][_0x12c885(0x766)]=!![],handleUsePowerup(_0x218c56,_0x12c885(0xd61),_0x1a7262,_0x2fb1ab,_0x23fcec);}),document[_0x3ad31e(0x7c7)]('use-powerup-fiftyFifty')?.['addEventListener']('click',_0x59a166=>{const _0x4bd311=_0x3ad31e;_0x59a166[_0x4bd311(0xcbd)][_0x4bd311(0x766)]=!![],handleUsePowerup(_0x218c56,_0x4bd311(0x650),_0x1a7262,_0x2fb1ab,_0x23fcec);}),document['getElementById'](_0x3ad31e(0xe28))?.['addEventListener']('click',_0x209179=>{const _0x304d6f=_0x3ad31e;_0x209179['target']['disabled']=!![],handleUsePowerup(_0x218c56,_0x304d6f(0xa1d),_0x1a7262,_0x2fb1ab,_0x23fcec);}),document['getElementById']('use-powerup-revealOptions')?.['addEventListener'](_0x3ad31e(0x2f0),_0x565b96=>{const _0x25bb17=_0x3ad31e;_0x565b96[_0x25bb17(0xcbd)]['disabled']=!![],handleUsePowerup(_0x218c56,_0x25bb17(0xb25),_0x1a7262,_0x2fb1ab,_0x23fcec);}),document[_0x3ad31e(0x7c7)](_0x3ad31e(0xbd2))?.[_0x3ad31e(0xf03)](_0x3ad31e(0x2f0),_0x18c4af=>{const _0x3ca72d=_0x3ad31e;_0x18c4af[_0x3ca72d(0xcbd)][_0x3ca72d(0x766)]=!![],sessionStorage[_0x3ca72d(0x2b0)]('instantWager','false'),handleUsePowerup(_0x218c56,_0x3ca72d(0xb6c),_0x1a7262,_0x2fb1ab,_0x23fcec);});}document['getElementById'](_0x3ad31e(0x61c))?.[_0x3ad31e(0xf03)](_0x3ad31e(0x2f0),_0x1c81e1=>{const _0x187426=_0x3ad31e;_0x1c81e1[_0x187426(0xcbd)][_0x187426(0x766)]=!![],sessionStorage[_0x187426(0x2b0)](_0x187426(0x68b),_0x187426(0x96f)),handleUsePowerup(_0x218c56,_0x187426(0xb6c),_0x1a7262,_0x2fb1ab,_0x23fcec);});}}async function handleSyncAnswerSubmit(_0x4c82e0,_0x5d8cc3,_0x44f4ad,_0x2c0969,_0xea45eb,_0x3d2a8c=0x0){const _0x97e039=_0x4247b4;document[_0x97e039(0xf52)](_0x97e039(0x3cf))[_0x97e039(0x9fb)](_0x42154a=>_0x42154a[_0x97e039(0x766)]=!![]);const _0x2f8b51=_0x44f4ad[_0x97e039(0x89f)],_0xb6b79b='powerupUsed_q'+_0x2f8b51+'_p'+_0x2c0969,_0x5922e6=sessionStorage[_0x97e039(0x52f)](_0xb6b79b),_0x207c10=_0x44f4ad[_0x97e039(0x5fa)][_0x2c0969]||{},_0x1ba2ed=_0x207c10[_0x97e039(0xd38)]===!![],_0x51bbf6=sessionStorage[_0x97e039(0x52f)]('onSecondChance')===_0x97e039(0x96f);let _0x55ca89=_0x207c10['correctStreak']||0x0;_0x5922e6&&_0x5922e6!==_0x97e039(0xb6c)&&(_0x55ca89=0x0);const _0x1075b8=_0x55ca89>=0x3,_0x128872=_0x5d8cc3[_0x97e039(0xf29)]||_0x44f4ad[_0x97e039(0xeb8)]['quizType'];let _0x420110=![],_0x4cf384=_0x4c82e0;switch(_0x128872){case _0x97e039(0x353):const _0x4be15a=parseInt(_0x4c82e0),_0x476035=_0x5d8cc3[_0x97e039(0xd0d)]===!![]||String(_0x5d8cc3[_0x97e039(0xd0d)])[_0x97e039(0xab2)]()===_0x97e039(0x96f);_0x420110=_0x4be15a===0x0&&_0x476035||_0x4be15a===0x1&&!_0x476035,_0x4cf384=_0x4be15a===0x0?_0x97e039(0xe60):_0x97e039(0xc7b);break;case _0x97e039(0xf11):case _0x97e039(0x437):_0x420110=await gradeShortAnswer(_0x4c82e0,_0x5d8cc3);break;case _0x97e039(0x39f):_0x420110=_0x4c82e0===_0x5d8cc3['correctResponse'];break;case'multiple_choice':default:const _0x1c4b46=parseInt(_0x4c82e0);_0x420110=_0x1c4b46===_0x5d8cc3[_0x97e039(0xc6f)];_0x5d8cc3[_0x97e039(0xb84)]&&_0x5d8cc3[_0x97e039(0xb84)][_0x1c4b46]&&(_0x4cf384=_0x5d8cc3[_0x97e039(0xb84)][_0x1c4b46]);break;}if(!_0x420110&&_0x5922e6===_0x97e039(0xa1d)&&!_0x51bbf6){sessionStorage[_0x97e039(0x801)](_0xb6b79b),sessionStorage[_0x97e039(0x2b0)]('onSecondChance',_0x97e039(0x96f)),showMessage(_0x97e039(0x4d1)),document[_0x97e039(0xf52)](_0x97e039(0x3cf))[_0x97e039(0x9fb)](_0x14939b=>{const _0x5a0abb=_0x97e039;if(!_0x14939b[_0x5a0abb(0x457)][_0x5a0abb(0xcc7)]('hidden'))_0x14939b[_0x5a0abb(0x766)]=![];});return;}let _0x20825e=0x0;const _0x3484a4=_0x5922e6===_0x97e039(0xb6c),_0x5f1e40=_0x5922e6===_0x97e039(0xd61),_0x4ef20b=sessionStorage['getItem'](_0x97e039(0xafd))===_0x97e039(0x96f),_0xd600bf=_0x207c10[_0x97e039(0x80f)]===!![];if(_0x3484a4){const _0x70235a=parseInt(_0x3d2a8c,0xa)||0x0;_0x20825e=_0x420110?_0x70235a*0x2:-_0x70235a;}else{if(_0x4ef20b&&!_0x420110)_0x20825e=_0xea45eb===!![]||_0xea45eb===_0x97e039(0xc98)||_0x1ba2ed?-0x4:-0x2;else{if(_0x1ba2ed)_0x20825e=_0x420110?0x2:-0x1;else{if(_0x44f4ad['isConfidenceScoringEnabled']){if(_0x420110&&(_0xea45eb===!![]||_0xea45eb===_0x97e039(0xc98)))_0x20825e=0x2;else{if(_0x420110)_0x20825e=0x1;else{if(!_0x420110&&(_0xea45eb===![]||_0xea45eb===_0x97e039(0x7a7)||_0xea45eb===null))_0x20825e=0x0;else{if(!_0x420110&&(_0xea45eb===!![]||_0xea45eb==='confident'))_0x20825e=-0x1;}}}}else _0x20825e=_0x420110?0x1:0x0;}}}_0x1075b8&&_0x20825e>0x0&&(_0x20825e*=0x2);_0xd600bf&&!_0x420110&&_0x20825e<0x0&&(_0x20825e*=0x2);!_0x420110&&_0x5f1e40&&(_0x20825e=0x0);const _0xcd9622=(_0x207c10['timeBonusThisQuestion']||0x0)>0x0,_0x31b441=_0x5922e6&&_0x5922e6!==_0x97e039(0xb6c);let _0x233254=0x0;_0x420110&&(_0x233254=_0x31b441?0x0:_0x55ca89+0x1);const _0x1b59a2={'questionIndex':_0x44f4ad[_0x97e039(0x89f)],'questionId':_0x5d8cc3['id'],'answer':_0x4c82e0,'answerText':_0x4cf384,'isCorrect':_0x420110,'originalQuestionText':_0x5d8cc3[_0x97e039(0x303)]||_0x5d8cc3['stem'],'wasConfident':_0x1ba2ed?'confident':_0xea45eb||![],'pointsAwarded':_0x20825e,'powerupUsed':_0x5922e6||null,'wagerAmount':_0x3484a4?parseInt(_0x3d2a8c,0xa)||0x0:0x0,'wasJinxed':_0xd600bf||![],'wasForced':_0x1ba2ed||![],'usedPoll':_0x4ef20b||![],'usedBuyTime':_0xcd9622,'streakActive':_0x1075b8},_0x395fdb=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x97e039(0x464),_0x2c0969),_0xaee42d=_0x207c10[_0x97e039(0xa92)]||[],_0x3a9fe9=_0xaee42d[_0x97e039(0x498)](_0x6fd569=>_0x6fd569[_0x97e039(0xe6a)]!==_0x44f4ad[_0x97e039(0x89f)]),_0x47899c=[..._0x3a9fe9,_0x1b59a2],_0x2b2146=_0x47899c[_0x97e039(0x498)](_0x4fdd4f=>_0x4fdd4f[_0x97e039(0x697)])[_0x97e039(0x2d2)],_0x95d12f={'answers':_0x47899c,'score':_0x2b2146,'totalPoints':increment(_0x20825e),'answered':!![],'lastAnswerIndex':_0x128872===_0x97e039(0x7fe)||_0x128872===_0x97e039(0x353)?parseInt(_0x4c82e0):null,'lastAnswerValue':_0x4cf384,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0,'correctStreak':_0x233254};if(_0x51bbf6)sessionStorage['removeItem'](_0x97e039(0xebd));try{await updateDoc(_0x395fdb,_0x95d12f);}catch(_0x44ac8d){console['error']('Error\x20submitting\x20answer:',_0x44ac8d),showMessage(_0x97e039(0xdb0)),document[_0x97e039(0xf52)](_0x97e039(0x3cf))['forEach'](_0x1bc40b=>_0x1bc40b[_0x97e039(0x766)]=![]);}}const allMarketItems=[{'id':_0x4247b4(0x7b0),'name':'⏳\x20ซื้อเวลา','price':0x1,'desc':'เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)'},{'id':_0x4247b4(0xd02),'name':_0x4247b4(0x45e),'price':0x2,'desc':_0x4247b4(0xccf)},{'id':_0x4247b4(0x650),'name':_0x4247b4(0x24d),'price':0x5,'desc':_0x4247b4(0x5ac)},{'id':_0x4247b4(0xa1d),'name':_0x4247b4(0x8db),'price':0x7,'desc':_0x4247b4(0xcd0)},{'id':_0x4247b4(0xb25),'name':_0x4247b4(0xab8),'price':0xc,'desc':_0x4247b4(0x8fe)}];function openBlackMarket(_0x3b01a3,_0x37fecd){const _0x16ec82=_0x4247b4;let _0x36d61d=null;const _0x4a3580=document['getElementById']('black-market-modal'),_0x7ebb84=document['getElementById'](_0x16ec82(0xc05)),_0x1602fc=document[_0x16ec82(0x7c7)]('market-current-points'),_0x596beb=document[_0x16ec82(0x7c7)]('market-timer-bar'),_0x41daac=_0x37fecd[_0x16ec82(0x8c7)]||0x0;_0x1602fc['textContent']=_0x41daac;const _0x1e0c52=_0x3b01a3[_0x16ec82(0x89f)],_0x38d392=_0x3b01a3[_0x16ec82(0xeb8)]['questions'][_0x1e0c52],_0x4f2aad=_0x38d392[_0x16ec82(0xf29)]||_0x3b01a3[_0x16ec82(0xeb8)][_0x16ec82(0xa71)],_0x4e6b31=_0x3b01a3[_0x16ec82(0x9f5)]===_0x16ec82(0x59c),_0xf57eb0=allMarketItems;_0x7ebb84['innerHTML']=_0xf57eb0[_0x16ec82(0xdeb)](_0x1174b=>{const _0x613df6=_0x16ec82,_0x346701=_0x41daac>=_0x1174b[_0x613df6(0x46b)];if(_0x1174b['id']===_0x613df6(0x7b0)){const _0x189971=_0x346701?Math[_0x613df6(0xcb1)](_0x41daac/_0x1174b['price']):0x0,_0x2f72bb=_0x346701&&_0x4e6b31;let _0x5251cf=_0x613df6(0x461)+_0x1174b[_0x613df6(0x46b)]+_0x613df6(0xf08),_0x3b8882=_0x2f72bb?'bg-indigo-600\x20hover:bg-indigo-700':_0x613df6(0x76c);return!_0x4e6b31&&(_0x5251cf='<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่ได้จับเวลา',_0x3b8882=_0x613df6(0x2ae)),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20'+(!_0x2f72bb?_0x613df6(0x769):_0x613df6(0x957))+_0x613df6(0xb33)+_0x1174b[_0x613df6(0x689)]+_0x613df6(0x34c)+_0x1174b[_0x613df6(0x274)]+_0x613df6(0x9c4)+_0x189971+'\x22\x20'+(!_0x2f72bb?'disabled':'')+_0x613df6(0xecd)+_0x3b8882+_0x613df6(0x7c8)+_0x1174b['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22'+_0x1174b[_0x613df6(0x46b)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2f72bb?_0x613df6(0x766):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5251cf+_0x613df6(0xe80);}else{let _0x3a8f8d=!_0x346701,_0x377240=_0x346701?_0x613df6(0xa2d):'bg-gray-400',_0x26ed7b=_0x613df6(0x461)+_0x1174b[_0x613df6(0x46b)]+'P)';if(_0x1174b['id']===_0x613df6(0xb25)){const _0x49629a=_0x38d392[_0x613df6(0xb84)]&&_0x38d392['options'][_0x613df6(0x2d2)]>0x0,_0xbdc1e6=_0x4f2aad===_0x613df6(0xf11)||_0x4f2aad===_0x613df6(0x437);(!_0x49629a||!_0xbdc1e6)&&(_0x3a8f8d=!![],_0x377240=_0x613df6(0x2ae),_0x26ed7b=_0x613df6(0xe9e));}if(_0x1174b['id']===_0x613df6(0xd02)||_0x1174b['id']===_0x613df6(0x650)){const _0x34fef1=_0x4f2aad===_0x613df6(0xf11)||_0x4f2aad==='fill_in_no_choices',_0x235d8e=_0x38d392['options']&&_0x38d392[_0x613df6(0xb84)]['length']>0x0;(_0x34fef1||!_0x235d8e)&&(_0x3a8f8d=!![],_0x377240=_0x613df6(0x2ae),_0x26ed7b='<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่มีตัวเลือก');}return _0x613df6(0xe92)+(_0x3a8f8d?_0x613df6(0x769):_0x613df6(0x957))+_0x613df6(0xb33)+_0x1174b[_0x613df6(0x689)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x1174b[_0x613df6(0x274)]+_0x613df6(0x4eb)+_0x377240+_0x613df6(0xa9d)+_0x1174b['id']+_0x613df6(0x654)+_0x1174b[_0x613df6(0x46b)]+_0x613df6(0x700)+(_0x3a8f8d?'disabled':'')+_0x613df6(0x9a3)+_0x26ed7b+_0x613df6(0x854);}})[_0x16ec82(0x94c)](''),_0x4a3580[_0x16ec82(0x457)]['remove'](_0x16ec82(0x845)),_0x596beb[_0x16ec82(0x4e3)]['transition']=_0x16ec82(0xc43),_0x596beb['style'][_0x16ec82(0x895)]=_0x16ec82(0x7b5),setTimeout(()=>{const _0x72118a=_0x16ec82;_0x596beb[_0x72118a(0x4e3)][_0x72118a(0xba9)]=_0x72118a(0xa68),_0x596beb['style'][_0x72118a(0x895)]='0%';},0x32),_0x36d61d=setTimeout(()=>{const _0x41af1e=_0x16ec82;_0x4a3580[_0x41af1e(0x457)][_0x41af1e(0xea1)](_0x41af1e(0x845));},0xea60),document[_0x16ec82(0x7c7)](_0x16ec82(0x786))['onclick']=()=>{const _0x47a081=_0x16ec82;clearTimeout(_0x36d61d),_0x4a3580['classList'][_0x47a081(0xea1)](_0x47a081(0x845));},_0x7ebb84[_0x16ec82(0xf52)](_0x16ec82(0xb55))['forEach'](_0x58c5be=>{_0x58c5be['onclick']=_0x47b0f7=>{const _0x93ec8c=_0xc03a,_0x5682bb=_0x47b0f7['target'][_0x93ec8c(0xefd)][_0x93ec8c(0xf01)],_0x31161c=parseInt(_0x47b0f7['target'][_0x93ec8c(0xefd)][_0x93ec8c(0x46b)],0xa);clearTimeout(_0x36d61d),_0x4a3580[_0x93ec8c(0x457)][_0x93ec8c(0xea1)](_0x93ec8c(0x845)),handleBuyItem(_0x37fecd[_0x93ec8c(0x689)],_0x5682bb,_0x31161c,0x1);};}),_0x7ebb84[_0x16ec82(0xf52)](_0x16ec82(0xc68))[_0x16ec82(0x9fb)](_0x50224d=>{const _0x2bddab=_0x16ec82;_0x50224d[_0x2bddab(0xb2b)]=_0xba9891=>{const _0x1ed496=_0x2bddab,_0x23d097=_0xba9891[_0x1ed496(0xcbd)][_0x1ed496(0xefd)]['itemId'],_0x52ec42=parseInt(_0xba9891[_0x1ed496(0xcbd)][_0x1ed496(0xefd)][_0x1ed496(0x46b)],0xa),_0x38ad49=document['getElementById'](_0x1ed496(0x76e)),_0x362bc2=parseInt(_0x38ad49[_0x1ed496(0xc66)],0xa),_0x577567=parseInt(_0x38ad49['max'],0xa);if(!_0x362bc2||_0x362bc2<0x1){showMessage(_0x1ed496(0x454));return;}if(_0x362bc2>_0x577567){showMessage('คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20'+_0x577567+_0x1ed496(0x81e));return;}clearTimeout(_0x36d61d),_0x4a3580['classList'][_0x1ed496(0xea1)](_0x1ed496(0x845)),handleBuyItem(_0x37fecd[_0x1ed496(0x689)],_0x23d097,_0x52ec42,_0x362bc2);};});}async function handleBuyItem(_0x36dc77,_0x1878be,_0x5598fa,_0x4154a9=0x1){const _0x4442db=_0x4247b4,_0x425fda=doc(db,'artifacts/'+appId+_0x4442db(0x41f)+currentLiveGameId+_0x4442db(0x464),_0x36dc77);try{await runTransaction(db,async _0x1449fc=>{const _0x3f5fa1=_0x4442db,_0x35182d=await _0x1449fc[_0x3f5fa1(0xa65)](_0x425fda);if(!_0x35182d[_0x3f5fa1(0x971)]())throw _0x3f5fa1(0xb73);const _0x5d7c87=_0x35182d['data']()[_0x3f5fa1(0x8c7)]||0x0,_0x48d725=_0x5598fa*_0x4154a9;if(_0x5d7c87<_0x48d725)throw _0x3f5fa1(0x1e7);const _0x2e5fc0={};_0x2e5fc0[_0x3f5fa1(0x8c7)]=increment(-_0x48d725),_0x2e5fc0[_0x3f5fa1(0xbea)+_0x1878be]=increment(_0x4154a9),_0x1449fc[_0x3f5fa1(0x8f0)](_0x425fda,_0x2e5fc0);}),showMessage(_0x4442db(0xe24)+_0x1878be+'\x22\x20x'+_0x4154a9+_0x4442db(0xcec));}catch(_0x4d78a1){console[_0x4442db(0xd5b)]('Buy\x20Item\x20failed:\x20',_0x4d78a1),showMessage(typeof _0x4d78a1===_0x4442db(0x428)?_0x4d78a1:_0x4442db(0xbca));}}async function handlePayForMarketEntry(_0x375d47,_0x163f6e,_0xd83006){const _0x5c4b2b=_0x4247b4,_0x356473=doc(db,_0x5c4b2b(0x2b7)+appId+_0x5c4b2b(0x41f)+currentLiveGameId+_0x5c4b2b(0x464),_0x375d47);try{await runTransaction(db,async _0x2caff8=>{const _0x5e5f20=_0x5c4b2b,_0x1abb89=await _0x2caff8['get'](_0x356473);if(!_0x1abb89[_0x5e5f20(0x971)]())throw'ไม่พบข้อมูลผู้เล่น';const _0x912862=_0x1abb89[_0x5e5f20(0xb86)]()[_0x5e5f20(0x8c7)]||0x0;if(_0x912862<0x1)throw _0x5e5f20(0xd7e);const _0x4a9b8d={};_0x4a9b8d[_0x5e5f20(0x8c7)]=increment(-0x1),_0x2caff8['update'](_0x356473,_0x4a9b8d);});const _0x5c6571={..._0xd83006,'totalPoints':(_0xd83006['totalPoints']||0x0)-0x1};openBlackMarket(_0x163f6e,_0x5c6571);}catch(_0x1f1945){console[_0x5c4b2b(0xd5b)]('Market\x20entry\x20payment\x20failed:',_0x1f1945),showMessage(typeof _0x1f1945===_0x5c4b2b(0x428)?_0x1f1945:'เกิดข้อผิดพลาดในการเข้าตลาดมืด');}}const audioCtx=new(window[(_0x4247b4(0x422))]||window[(_0x4247b4(0x229))])();function playSystemSound(_0xbcc76f){const _0x69bb03=_0x4247b4;if(audioCtx[_0x69bb03(0x78b)]===_0x69bb03(0x830))audioCtx[_0x69bb03(0x9f8)]();const _0x37f107=audioCtx[_0x69bb03(0x8c6)](),_0x28ddd9=audioCtx[_0x69bb03(0xdcf)]();_0x37f107[_0x69bb03(0xf60)](_0x28ddd9),_0x28ddd9[_0x69bb03(0xf60)](audioCtx[_0x69bb03(0x448)]);const _0x4ead00=audioCtx['currentTime'];if(_0xbcc76f===_0x69bb03(0x9a2))_0x37f107['type']=_0x69bb03(0xcb7),_0x37f107[_0x69bb03(0xc65)][_0x69bb03(0x502)](0x258,_0x4ead00),_0x37f107[_0x69bb03(0xc65)][_0x69bb03(0x763)](0x4b0,_0x4ead00+0.1),_0x28ddd9[_0x69bb03(0x9fd)][_0x69bb03(0x502)](0.1,_0x4ead00),_0x28ddd9[_0x69bb03(0x9fd)][_0x69bb03(0x763)](0.01,_0x4ead00+0.5),_0x37f107[_0x69bb03(0x82a)](_0x4ead00),_0x37f107[_0x69bb03(0xbfc)](_0x4ead00+0.5);else{if(_0xbcc76f===_0x69bb03(0xbae))_0x37f107[_0x69bb03(0x31f)]=_0x69bb03(0xdb4),_0x37f107[_0x69bb03(0xc65)]['setValueAtTime'](0x96,_0x4ead00),_0x37f107[_0x69bb03(0xc65)][_0x69bb03(0x763)](0x64,_0x4ead00+0.2),_0x28ddd9[_0x69bb03(0x9fd)][_0x69bb03(0x502)](0.1,_0x4ead00),_0x28ddd9[_0x69bb03(0x9fd)][_0x69bb03(0x763)](0.01,_0x4ead00+0.3),_0x37f107[_0x69bb03(0x82a)](_0x4ead00),_0x37f107[_0x69bb03(0xbfc)](_0x4ead00+0.3);else _0xbcc76f===_0x69bb03(0xc99)&&(_0x37f107[_0x69bb03(0x31f)]=_0x69bb03(0x359),_0x37f107[_0x69bb03(0xc65)][_0x69bb03(0x502)](0x12c,_0x4ead00),_0x37f107[_0x69bb03(0xc65)][_0x69bb03(0x855)](0x258,_0x4ead00+0.1),_0x28ddd9[_0x69bb03(0x9fd)]['setValueAtTime'](0.1,_0x4ead00),_0x28ddd9[_0x69bb03(0x9fd)][_0x69bb03(0x855)](0.01,_0x4ead00+0.3),_0x37f107[_0x69bb03(0x82a)](_0x4ead00),_0x37f107['stop'](_0x4ead00+0.3));}}initialize();
