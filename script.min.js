const _0x50f1a4=_0x2cea;(function(_0x312223,_0x38f8a1){const _0x27457a=_0x2cea,_0x556f70=_0x312223();while(!![]){try{const _0x59bb0c=-parseInt(_0x27457a(0x82c))/0x1+-parseInt(_0x27457a(0x4d8))/0x2*(-parseInt(_0x27457a(0x48e))/0x3)+parseInt(_0x27457a(0x120))/0x4*(parseInt(_0x27457a(0x311))/0x5)+-parseInt(_0x27457a(0x10d))/0x6+parseInt(_0x27457a(0x457))/0x7+-parseInt(_0x27457a(0xde))/0x8*(parseInt(_0x27457a(0x17d))/0x9)+parseInt(_0x27457a(0x58e))/0xa;if(_0x59bb0c===_0x38f8a1)break;else _0x556f70['push'](_0x556f70['shift']());}catch(_0x3a8577){_0x556f70['push'](_0x556f70['shift']());}}}(_0x4270,0x6165f));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x41b921=_0x2cea;if(_0x41b921(0x86f)in navigator)try{wakeLock=await navigator[_0x41b921(0x86f)][_0x41b921(0x553)](_0x41b921(0x39f)),console['log'](_0x41b921(0xc1)),wakeLock[_0x41b921(0x8c0)](_0x41b921(0x2c8),()=>{const _0xa40bd5=_0x41b921;console['log'](_0xa40bd5(0x785));});}catch(_0x169600){console['error'](_0x41b921(0x13c)+_0x169600[_0x41b921(0x250)]+',\x20'+_0x169600[_0x41b921(0x561)]);}else console[_0x41b921(0x6f2)](_0x41b921(0x66b));},releaseWakeLock=async()=>{const _0x332a75=_0x2cea;wakeLock!==null&&(await wakeLock[_0x332a75(0x2c8)](),wakeLock=null,console[_0x332a75(0x1da)](_0x332a75(0x4eb)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x44cdf3=_0x2cea;if(dimTimer)clearTimeout(dimTimer);document[_0x44cdf3(0x8b1)][_0x44cdf3(0x87b)][_0x44cdf3(0x8e)](_0x44cdf3(0x817)),dimTimer=setTimeout(()=>{const _0x134d45=_0x44cdf3;document[_0x134d45(0x8b1)][_0x134d45(0x87b)][_0x134d45(0x6aa)](_0x134d45(0x817)),console['log'](_0x134d45(0x8ba));},inactivityTime);}function stopDimTimer(){const _0x2bce90=_0x2cea;if(dimTimer)clearTimeout(dimTimer);document[_0x2bce90(0x8b1)][_0x2bce90(0x87b)][_0x2bce90(0x8e)](_0x2bce90(0x817)),window['removeEventListener'](_0x2bce90(0x53e),resetDimTimer),window[_0x2bce90(0x1c3)](_0x2bce90(0x9c),resetDimTimer),window[_0x2bce90(0x1c3)](_0x2bce90(0x5d6),resetDimTimer),window['removeEventListener'](_0x2bce90(0x1ce),resetDimTimer),console[_0x2bce90(0x1da)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x50f1a4(0x783)};const allMathTopics=[{'category':_0x50f1a4(0x3c0),'name':_0x50f1a4(0x283)},{'category':'จำนวนและการดำเนินการ','name':_0x50f1a4(0x586)},{'category':_0x50f1a4(0x3c0),'name':'การปัดเศษและประมาณค่า'},{'category':'จำนวนและการดำเนินการ','name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0x50f1a4(0x3c0),'name':_0x50f1a4(0x3f4)},{'category':_0x50f1a4(0x3c0),'name':_0x50f1a4(0x80d)},{'category':_0x50f1a4(0x3c0),'name':_0x50f1a4(0x77c)},{'category':_0x50f1a4(0x3c0),'name':'การหาร'},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มบวก'},{'category':'จำนวนและการดำเนินการ','name':_0x50f1a4(0x538)},{'category':_0x50f1a4(0x3c0),'name':_0x50f1a4(0x320)},{'category':'จำนวนและการดำเนินการ','name':_0x50f1a4(0x24c)},{'category':_0x50f1a4(0x3c0),'name':'เส้นจำนวน'},{'category':_0x50f1a4(0x3c0),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x50f1a4(0x3c0),'name':'ห.ร.ม.\x20(GCD)'},{'category':_0x50f1a4(0x3c0),'name':_0x50f1a4(0x866)},{'category':_0x50f1a4(0x3c0),'name':_0x50f1a4(0x793)},{'category':_0x50f1a4(0x3c0),'name':_0x50f1a4(0x324)},{'category':_0x50f1a4(0x3c0),'name':_0x50f1a4(0x66e)},{'category':'จำนวนและการดำเนินการ','name':'การบวกเศษส่วน'},{'category':_0x50f1a4(0x3c0),'name':'การลบเศษส่วน'},{'category':_0x50f1a4(0x3c0),'name':_0x50f1a4(0x4e4)},{'category':_0x50f1a4(0x3c0),'name':_0x50f1a4(0x82d)},{'category':_0x50f1a4(0x3c0),'name':'จำนวนคละ'},{'category':_0x50f1a4(0x3c0),'name':_0x50f1a4(0x11f)},{'category':_0x50f1a4(0x3c0),'name':_0x50f1a4(0x7b)},{'category':'จำนวนและการดำเนินการ','name':_0x50f1a4(0x2ff)},{'category':_0x50f1a4(0x3c0),'name':_0x50f1a4(0x5b6)},{'category':'จำนวนและการดำเนินการ','name':_0x50f1a4(0x1fb)},{'category':_0x50f1a4(0x3c0),'name':_0x50f1a4(0x5e9)},{'category':_0x50f1a4(0x3c0),'name':_0x50f1a4(0x89e)},{'category':_0x50f1a4(0x3c0),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0x50f1a4(0x189)},{'category':_0x50f1a4(0x3c0),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x50f1a4(0x3c0),'name':_0x50f1a4(0x80f)},{'category':_0x50f1a4(0x3c0),'name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x50f1a4(0x3c0),'name':_0x50f1a4(0x735)},{'category':_0x50f1a4(0x7d5),'name':_0x50f1a4(0x68c)},{'category':_0x50f1a4(0x7d5),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x50f1a4(0x7d5),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':'การวัด','name':_0x50f1a4(0x839)},{'category':_0x50f1a4(0x7d5),'name':'อุณหภูมิและการแปลง'},{'category':_0x50f1a4(0x7d5),'name':_0x50f1a4(0x6db)},{'category':'การวัด','name':'พื้นที่สี่เหลี่ยม'},{'category':_0x50f1a4(0x7d5),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x50f1a4(0x7d5),'name':_0x50f1a4(0x179)},{'category':_0x50f1a4(0x7d5),'name':_0x50f1a4(0x6fe)},{'category':_0x50f1a4(0x7d5),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x50f1a4(0x7d5),'name':_0x50f1a4(0x2f3)},{'category':_0x50f1a4(0x7d5),'name':'สเกลและแผนที่'},{'category':_0x50f1a4(0x7d5),'name':_0x50f1a4(0x605)},{'category':_0x50f1a4(0xa1),'name':_0x50f1a4(0x6ba)},{'category':'เรขาคณิต','name':_0x50f1a4(0x868)},{'category':_0x50f1a4(0xa1),'name':_0x50f1a4(0x2b5)},{'category':'เรขาคณิต','name':_0x50f1a4(0x360)},{'category':_0x50f1a4(0xa1),'name':_0x50f1a4(0x2de)},{'category':_0x50f1a4(0xa1),'name':_0x50f1a4(0x3b2)},{'category':_0x50f1a4(0xa1),'name':_0x50f1a4(0x7c4)},{'category':'เรขาคณิต','name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x50f1a4(0xa1),'name':_0x50f1a4(0x6f5)},{'category':'เรขาคณิต','name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':'เรขาคณิต','name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x50f1a4(0xa1),'name':_0x50f1a4(0x770)},{'category':'เรขาคณิต','name':_0x50f1a4(0x74a)},{'category':'เรขาคณิต','name':_0x50f1a4(0x448)},{'category':_0x50f1a4(0xa1),'name':_0x50f1a4(0x799)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x225)},{'category':_0x50f1a4(0x3be),'name':'การกระจายและการจัดหมู่'},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x707)},{'category':'พีชคณิตและฟังก์ชัน','name':'การแยกตัวประกอบ'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x78)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x595)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x55b)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x242)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x33a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x50f1a4(0x837)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x862)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x7a3)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x7d8)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x454)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x2fe)},{'category':_0x50f1a4(0x3be),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x50f1a4(0x3be),'name':'โดเมนและเรนจ์'},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x37d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x50f1a4(0x7cd)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x449)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x2b6)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x875)},{'category':_0x50f1a4(0x3be),'name':'ฟังก์ชันพหุนาม'},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x8ad)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x50f1a4(0x277)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x451)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x3a2)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x50f1a4(0x31f)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x114)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x7dd)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0xb9)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x125)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x1fa)},{'category':_0x50f1a4(0x3be),'name':_0x50f1a4(0x705)},{'category':_0x50f1a4(0x1d2),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0x50f1a4(0x1d2),'name':_0x50f1a4(0x403)},{'category':_0x50f1a4(0x1d2),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':'เรขาคณิตวิเคราะห์','name':_0x50f1a4(0x323)},{'category':_0x50f1a4(0x1d2),'name':_0x50f1a4(0x3f1)},{'category':_0x50f1a4(0x1d2),'name':_0x50f1a4(0x8ab)},{'category':_0x50f1a4(0x1d2),'name':_0x50f1a4(0x36b)},{'category':_0x50f1a4(0x1d2),'name':_0x50f1a4(0x85a)},{'category':_0x50f1a4(0x1d2),'name':'ไฮเพอร์โบลา'},{'category':'ตรีโกณมิติ','name':_0x50f1a4(0x829)},{'category':'ตรีโกณมิติ','name':_0x50f1a4(0x3b9)},{'category':_0x50f1a4(0x536),'name':_0x50f1a4(0xc0)},{'category':'ตรีโกณมิติ','name':_0x50f1a4(0x3ed)},{'category':_0x50f1a4(0x536),'name':_0x50f1a4(0x877)},{'category':'ตรีโกณมิติ','name':_0x50f1a4(0x5da)},{'category':_0x50f1a4(0x536),'name':_0x50f1a4(0x753)},{'category':_0x50f1a4(0x536),'name':_0x50f1a4(0x843)},{'category':_0x50f1a4(0x536),'name':_0x50f1a4(0x133)},{'category':'ตรีโกณมิติ','name':_0x50f1a4(0xa4)},{'category':_0x50f1a4(0x536),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0x50f1a4(0x607),'name':_0x50f1a4(0x230)},{'category':'สถิติและความน่าจะเป็น','name':'การจัดกลุ่มข้อมูล'},{'category':_0x50f1a4(0x607),'name':_0x50f1a4(0x2ba)},{'category':'สถิติและความน่าจะเป็น','name':_0x50f1a4(0x70d)},{'category':_0x50f1a4(0x607),'name':_0x50f1a4(0x5ea)},{'category':_0x50f1a4(0x607),'name':_0x50f1a4(0x7f6)},{'category':_0x50f1a4(0x607),'name':_0x50f1a4(0x5a8)},{'category':'สถิติและความน่าจะเป็น','name':_0x50f1a4(0x269)},{'category':'สถิติและความน่าจะเป็น','name':'ฐานนิยม'},{'category':_0x50f1a4(0x607),'name':_0x50f1a4(0x651)},{'category':_0x50f1a4(0x607),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x50f1a4(0x607),'name':_0x50f1a4(0x556)},{'category':_0x50f1a4(0x607),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':'สถิติและความน่าจะเป็น','name':'การแจกแจงปกติและ\x20z-score'},{'category':'สถิติและความน่าจะเป็น','name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x50f1a4(0x607),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x50f1a4(0x607),'name':_0x50f1a4(0x5d3)},{'category':_0x50f1a4(0x607),'name':_0x50f1a4(0x5ae)},{'category':_0x50f1a4(0x607),'name':_0x50f1a4(0x5e7)},{'category':_0x50f1a4(0x607),'name':_0x50f1a4(0x9a)},{'category':_0x50f1a4(0x607),'name':_0x50f1a4(0x9d)},{'category':_0x50f1a4(0x607),'name':'การจัดหมู่\x20(Combination)'},{'category':'สถิติและความน่าจะเป็น','name':_0x50f1a4(0x6e9)},{'category':'สถิติและความน่าจะเป็น','name':_0x50f1a4(0x6e7)},{'category':_0x50f1a4(0xab),'name':_0x50f1a4(0x6df)},{'category':'แคลคูลัสเบื้องต้น','name':_0x50f1a4(0x72a)},{'category':_0x50f1a4(0xab),'name':_0x50f1a4(0x15a)},{'category':'แคลคูลัสเบื้องต้น','name':_0x50f1a4(0x140)},{'category':_0x50f1a4(0xab),'name':_0x50f1a4(0x194)},{'category':_0x50f1a4(0xab),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':'แคลคูลัสเบื้องต้น','name':_0x50f1a4(0x158)},{'category':_0x50f1a4(0xab),'name':_0x50f1a4(0x430)},{'category':_0x50f1a4(0xab),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x50f1a4(0xab),'name':_0x50f1a4(0x801)},{'category':_0x50f1a4(0xab),'name':_0x50f1a4(0x716)},{'category':_0x50f1a4(0xab),'name':_0x50f1a4(0x241)},{'category':'แคลคูลัสเบื้องต้น','name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x50f1a4(0x2b7)},{'category':_0x50f1a4(0x2d4),'name':_0x50f1a4(0x397)},{'category':_0x50f1a4(0x2d4),'name':_0x50f1a4(0x664)},{'category':_0x50f1a4(0x2d4),'name':_0x50f1a4(0x842)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x50f1a4(0x2a7)},{'category':_0x50f1a4(0x2d4),'name':_0x50f1a4(0x824)},{'category':_0x50f1a4(0x2d4),'name':_0x50f1a4(0x285)},{'category':_0x50f1a4(0x6a8),'name':_0x50f1a4(0x1a6)},{'category':_0x50f1a4(0x6a8),'name':'ดอกเบี้ยทบต้น'},{'category':_0x50f1a4(0x6a8),'name':_0x50f1a4(0x65c)},{'category':_0x50f1a4(0x6a8),'name':_0x50f1a4(0xbb)},{'category':_0x50f1a4(0x6a8),'name':_0x50f1a4(0xce)},{'category':_0x50f1a4(0x2c3),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x50f1a4(0x2c3),'name':_0x50f1a4(0x513)},{'category':_0x50f1a4(0x2c3),'name':_0x50f1a4(0x138)}];function renderTopicCheckboxes(){const _0x57dec6=_0x50f1a4,_0x4f266b=document['getElementById'](_0x57dec6(0x35f));if(!_0x4f266b)return;const _0x29d12a=allMathTopics,_0x1d69cf=customMathTopics[_0x57dec6(0x27d)](_0x22ae92=>({'id':_0x22ae92['id'],'category':'หัวข้อที่สร้างเอง','name':_0x22ae92[_0x57dec6(0x250)]})),_0x22acb5=[..._0x29d12a,..._0x1d69cf],_0x32048e=_0x22acb5[_0x57dec6(0x8b)]((_0x3d97c3,_0x46216b)=>{const _0x139a5f=_0x57dec6;return!_0x3d97c3[_0x46216b[_0x139a5f(0x88c)]]&&(_0x3d97c3[_0x46216b[_0x139a5f(0x88c)]]=[]),_0x3d97c3[_0x46216b[_0x139a5f(0x88c)]][_0x139a5f(0x8b6)](_0x46216b),_0x3d97c3;},{});let _0xdf91c8='';const _0x302aeb=[_0x57dec6(0x224),...Object['keys'](_0x32048e)[_0x57dec6(0x4d9)](_0x1479bc=>_0x1479bc!==_0x57dec6(0x224))];for(const _0x16c711 of _0x302aeb){if(_0x32048e[_0x16c711]){const _0x31c8ab=_0x16c711===_0x57dec6(0x224),_0x1f454b=_0x31c8ab?'fas\x20fa-user-edit':_0x57dec6(0x5c7),_0x864c06=_0x31c8ab?'text-blue-700':_0x57dec6(0x271);_0xdf91c8+=_0x57dec6(0x7d6),_0xdf91c8+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x864c06+_0x57dec6(0x284)+_0x1f454b+_0x57dec6(0x480)+_0x16c711+_0x57dec6(0x24d),_0x32048e[_0x16c711]['forEach'](_0x540f3e=>{const _0x1b4b0d=_0x57dec6,_0xba9616=!!_0x540f3e['id'],_0x1d4d5d=_0xba9616?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x540f3e['id']+_0x1b4b0d(0x718)+_0x540f3e['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x540f3e['id']+_0x1b4b0d(0x7e4)+_0x540f3e['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0xdf91c8+=_0x1b4b0d(0x34d)+(_0x540f3e['id']||'')+_0x1b4b0d(0x4a3)+_0x540f3e[_0x1b4b0d(0x250)]+_0x1b4b0d(0x872)+_0x540f3e[_0x1b4b0d(0x250)]+_0x1b4b0d(0x508)+(_0xba9616?_0x1b4b0d(0x257)+_0x540f3e[_0x1b4b0d(0x250)]+'\x22>':'')+_0x1b4b0d(0x846)+_0x1d4d5d+_0x1b4b0d(0x64c);}),_0xdf91c8+=_0x57dec6(0x235);}}_0x4f266b[_0x57dec6(0x535)]=_0xdf91c8||_0x57dec6(0x6f1),_0x4f266b[_0x57dec6(0x1c3)](_0x57dec6(0x93),updateSelectedTopicsCount),_0x4f266b[_0x57dec6(0x8c0)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x3f67bd,_0x234d17){const _0x21c8db=_0x50f1a4;if(!_0x3f67bd||!_0x234d17[_0x21c8db(0x6e3)]()){showMessage(_0x21c8db(0x642));return;}try{const _0x2ae6c0=doc(db,_0x21c8db(0x385)+appId+_0x21c8db(0x7c6),_0x3f67bd);await updateDoc(_0x2ae6c0,{'name':_0x234d17['trim']()}),showMessage(_0x21c8db(0x3b8));}catch(_0x465b5d){console[_0x21c8db(0x5ec)](_0x21c8db(0x659),_0x465b5d),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0xee1fa5,_0xb941de){const _0x1ed1ed=_0x50f1a4;if(!_0xee1fa5)return;const _0x44f433=_0xee1fa5[_0x1ed1ed(0x76d)](_0x1ed1ed(0x530)),_0xef8423=_0xee1fa5[_0x1ed1ed(0x76d)](_0x1ed1ed(0x4de)),_0x976bfe=_0xee1fa5[_0x1ed1ed(0x76d)](_0x1ed1ed(0x2e5)),_0x191a10=_0xee1fa5[_0x1ed1ed(0x76d)](_0x1ed1ed(0x7d0));_0x44f433['classList'][_0x1ed1ed(0x361)]('hidden',_0xb941de),_0xef8423[_0x1ed1ed(0x87b)]['toggle'](_0x1ed1ed(0x727),!_0xb941de),_0x976bfe[_0x1ed1ed(0x87b)]['toggle'](_0x1ed1ed(0x727),_0xb941de),_0x191a10[_0x1ed1ed(0x87b)][_0x1ed1ed(0x361)](_0x1ed1ed(0x727),!_0xb941de),_0xb941de&&(_0xef8423[_0x1ed1ed(0x661)](),_0xef8423['select']());}function updateSelectedTopicsCount(){const _0x161d2f=_0x50f1a4,_0x51ff81=document[_0x161d2f(0x1f4)](_0x161d2f(0x35f)),_0x332407=_0x51ff81[_0x161d2f(0x15d)]('input[type=\x22checkbox\x22]:checked')[_0x161d2f(0x43f)],_0x1ff526=document[_0x161d2f(0x1f4)](_0x161d2f(0x77));_0x332407>0x0?_0x1ff526['textContent']=_0x161d2f(0x2d8)+_0x332407+_0x161d2f(0x2a8):_0x1ff526[_0x161d2f(0x810)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x50f1a4(0xba),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x50f1a4(0x2fd),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x50f1a4(0x5ee),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x50f1a4(0x4a7),scratchpadPenColor=_0x50f1a4(0x411),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x135242,_0x2c63ee){const _0x3e042b=_0x50f1a4;return Math['sqrt'](Math['pow'](_0x135242['x']-_0x2c63ee['x'],0x2)+Math[_0x3e042b(0x267)](_0x135242['y']-_0x2c63ee['y'],0x2));}function getMidpoint(_0x33c499,_0x14a466){return{'x':(_0x33c499['x']+_0x14a466['x'])/0x2,'y':(_0x33c499['y']+_0x14a466['y'])/0x2};}function getTransformedPoint(_0x3a0452,_0x368f68){return{'x':(_0x3a0452-scratchpadOffset['x'])/scratchpadScale,'y':(_0x368f68-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0xa931f1=_0x50f1a4;if(!scratchpadCtx)return;const _0x7cfa97=scratchpadCtx[_0xa931f1(0x5df)],_0x2fa1a3=window['devicePixelRatio']||0x1,_0xbe9157=document[_0xa931f1(0x1f4)](_0xa931f1(0x746));_0xbe9157&&(_0xbe9157['style'][_0xa931f1(0x741)]=_0xa931f1(0x2aa),_0xbe9157[_0xa931f1(0x21f)][_0xa931f1(0x6fb)]=_0xa931f1(0x658)+scratchpadOffset['x']+_0xa931f1(0x329)+scratchpadOffset['y']+_0xa931f1(0x330)+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx[_0xa931f1(0x3f7)](_0x2fa1a3,0x0,0x0,_0x2fa1a3,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x7cfa97[_0xa931f1(0x8b0)],_0x7cfa97[_0xa931f1(0x106)]),scratchpadCtx[_0xa931f1(0x128)](),scratchpadCtx[_0xa931f1(0x585)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0xa931f1(0x460)](scratchpadScale,scratchpadScale),strokes[_0xa931f1(0x887)](_0xe2d629=>{drawStroke(_0xe2d629);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0xa931f1(0x128)]();}function handlePointerDown(_0x2c5d69){const _0x384993=_0x50f1a4;_0x2c5d69['preventDefault']();const _0xd82546=scratchpadCtx[_0x384993(0x5df)],_0x5b4b2b=_0xd82546[_0x384993(0x76f)](),_0x51a3fc=_0x2c5d69[_0x384993(0xd1)]||(_0x2c5d69[_0x384993(0x625)]?_0x384993(0x29b):'mouse');if(_0x51a3fc==='pen'||_0x51a3fc===_0x384993(0x5cc)){if(_0x2c5d69[_0x384993(0xd1)]===_0x384993(0x5cc)&&_0x2c5d69['button']!==0x0){_0x2c5d69[_0x384993(0x295)]===0x1&&(isMousePanning=!![],panStart={'x':_0x2c5d69[_0x384993(0x8d2)],'y':_0x2c5d69[_0x384993(0x8b5)]},_0xd82546[_0x384993(0x21f)][_0x384993(0x721)]=_0x384993(0x3ee));return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x294595=getTransformedPoint(_0x2c5d69[_0x384993(0x8d2)]-_0x5b4b2b[_0x384993(0x2e3)],_0x2c5d69[_0x384993(0x8b5)]-_0x5b4b2b[_0x384993(0x2f0)]);let _0x22bb03={'tool':activeTool,'points':[_0x294595]};if(activeTool===_0x384993(0x4ec))_0x22bb03[_0x384993(0x12e)]=scratchpadHighlighterColor,_0x22bb03[_0x384993(0x477)]=scratchpadHighlighterSize;else activeTool===_0x384993(0x208)?(_0x22bb03[_0x384993(0x12e)]=scratchpadPenColor,_0x22bb03[_0x384993(0x477)]=scratchpadPenSize):(_0x22bb03[_0x384993(0x12e)]=scratchpadPenColor,_0x22bb03['size']=scratchpadPenSize);currentStroke=_0x22bb03;}else _0x2c5d69[_0x384993(0x625)]&&(_0x2c5d69[_0x384993(0x625)][_0x384993(0x43f)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x2c5d69[_0x384993(0x625)][0x0][_0x384993(0x8d2)],'y':_0x2c5d69[_0x384993(0x625)][0x0]['clientY']},{'x':_0x2c5d69[_0x384993(0x625)][0x1][_0x384993(0x8d2)],'y':_0x2c5d69[_0x384993(0x625)][0x1][_0x384993(0x8b5)]}),initialPinchDistance=getDistance({'x':_0x2c5d69[_0x384993(0x625)][0x0][_0x384993(0x8d2)],'y':_0x2c5d69[_0x384993(0x625)][0x0][_0x384993(0x8b5)]},{'x':_0x2c5d69[_0x384993(0x625)][0x1]['clientX'],'y':_0x2c5d69[_0x384993(0x625)][0x1][_0x384993(0x8b5)]})));}function animateTrail(){const _0x7bb982=_0x50f1a4,_0x3e60ef=Date[_0x7bb982(0x857)]();let _0x4584be=![];for(let _0x4b926c=strokes['length']-0x1;_0x4b926c>=0x0;_0x4b926c--){const _0x5dbda3=strokes[_0x4b926c];if(_0x5dbda3[_0x7bb982(0x885)]===_0x7bb982(0x208)&&_0x5dbda3['fadeStartTime']){const _0x3539f0=_0x3e60ef-_0x5dbda3[_0x7bb982(0x58a)];_0x3539f0>=TRAIL_DURATION?strokes['splice'](_0x4b926c,0x1):(_0x5dbda3[_0x7bb982(0x2ed)]=0x1-_0x3539f0/TRAIL_DURATION,_0x4584be=!![]);}}redrawScratchpad(),_0x4584be?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x58a660){const _0x20638f=_0x50f1a4;if(!_0x58a660||_0x58a660['points'][_0x20638f(0x43f)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx['lineJoin']=_0x20638f(0x115),scratchpadCtx[_0x20638f(0xd0)]=_0x20638f(0x115);if(_0x58a660['tool']===_0x20638f(0x208)){const _0x37d4af=_0x58a660['size']/scratchpadScale;scratchpadCtx['globalAlpha']=_0x58a660['opacity']??0x1,scratchpadCtx[_0x20638f(0x437)]=_0x20638f(0x697),scratchpadCtx[_0x20638f(0x728)]=_0x37d4af*0x3,scratchpadCtx[_0x20638f(0x417)]=_0x20638f(0x5c5),scratchpadCtx['lineWidth']=_0x37d4af*2.5,scratchpadCtx[_0x20638f(0x310)](),scratchpadCtx['moveTo'](_0x58a660[_0x20638f(0x153)][0x0]['x'],_0x58a660['points'][0x0]['y']);for(let _0x3ea9c9=0x1;_0x3ea9c9<_0x58a660[_0x20638f(0x153)][_0x20638f(0x43f)]-0x1;_0x3ea9c9++){const _0x5b6485=getMidpoint(_0x58a660[_0x20638f(0x153)][_0x3ea9c9],_0x58a660[_0x20638f(0x153)][_0x3ea9c9+0x1]);scratchpadCtx['quadraticCurveTo'](_0x58a660['points'][_0x3ea9c9]['x'],_0x58a660['points'][_0x3ea9c9]['y'],_0x5b6485['x'],_0x5b6485['y']);}scratchpadCtx[_0x20638f(0x1b1)](),scratchpadCtx['shadowColor']=_0x20638f(0x3c4),scratchpadCtx[_0x20638f(0x728)]=0x0,scratchpadCtx[_0x20638f(0x417)]='#FFFFFF',scratchpadCtx[_0x20638f(0x4d1)]=_0x37d4af,scratchpadCtx['stroke'](),scratchpadCtx[_0x20638f(0x604)]();}else{if(_0x58a660['tool']===_0x20638f(0x4ec)){scratchpadCtx[_0x20638f(0x238)]=_0x20638f(0x31a),scratchpadCtx[_0x20638f(0x417)]=_0x58a660[_0x20638f(0x12e)],scratchpadCtx[_0x20638f(0x4d1)]=_0x58a660[_0x20638f(0x477)],scratchpadCtx[_0x20638f(0x310)](),scratchpadCtx[_0x20638f(0x7e0)](_0x58a660['points'][0x0]['x'],_0x58a660['points'][0x0]['y']);for(let _0x4a3d9d=0x1;_0x4a3d9d<_0x58a660[_0x20638f(0x153)][_0x20638f(0x43f)]-0x1;_0x4a3d9d++){const _0x53dc83=getMidpoint(_0x58a660['points'][_0x4a3d9d],_0x58a660['points'][_0x4a3d9d+0x1]);scratchpadCtx[_0x20638f(0x3e3)](_0x58a660[_0x20638f(0x153)][_0x4a3d9d]['x'],_0x58a660[_0x20638f(0x153)][_0x4a3d9d]['y'],_0x53dc83['x'],_0x53dc83['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x20638f(0x604)]();}else{scratchpadCtx['globalCompositeOperation']=_0x58a660[_0x20638f(0x885)]===_0x20638f(0x415)?'destination-out':_0x20638f(0x858),scratchpadCtx[_0x20638f(0x417)]=_0x58a660['color'],scratchpadCtx[_0x20638f(0x4d1)]=_0x58a660[_0x20638f(0x477)],scratchpadCtx[_0x20638f(0x310)](),scratchpadCtx[_0x20638f(0x7e0)](_0x58a660[_0x20638f(0x153)][0x0]['x'],_0x58a660[_0x20638f(0x153)][0x0]['y']);for(let _0x17c7e8=0x1;_0x17c7e8<_0x58a660['points'][_0x20638f(0x43f)]-0x1;_0x17c7e8++){const _0x3b5701=getMidpoint(_0x58a660['points'][_0x17c7e8],_0x58a660['points'][_0x17c7e8+0x1]);scratchpadCtx[_0x20638f(0x3e3)](_0x58a660[_0x20638f(0x153)][_0x17c7e8]['x'],_0x58a660[_0x20638f(0x153)][_0x17c7e8]['y'],_0x3b5701['x'],_0x3b5701['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x20638f(0x604)]();}}scratchpadCtx[_0x20638f(0x128)]();}function handlePointerMove(_0x3e3045){const _0x45f633=_0x50f1a4;_0x3e3045[_0x45f633(0x1cb)]();const _0x35f4bc=scratchpadCtx[_0x45f633(0x5df)],_0x56f254=_0x35f4bc[_0x45f633(0x76f)]();if(_0x3e3045[_0x45f633(0x625)]){if(_0x3e3045[_0x45f633(0x625)][_0x45f633(0x43f)]===0x1&&isDrawingOnScratchpad){const _0x37d77c=getTransformedPoint(_0x3e3045[_0x45f633(0x625)][0x0][_0x45f633(0x8d2)]-_0x56f254[_0x45f633(0x2e3)],_0x3e3045[_0x45f633(0x625)][0x0][_0x45f633(0x8b5)]-_0x56f254[_0x45f633(0x2f0)]);currentStroke[_0x45f633(0x153)]['push'](_0x37d77c),redrawScratchpad();}else{if(_0x3e3045[_0x45f633(0x625)][_0x45f633(0x43f)]===0x2&&isPanning){const _0x27a2a4=getDistance({'x':_0x3e3045['touches'][0x0][_0x45f633(0x8d2)],'y':_0x3e3045[_0x45f633(0x625)][0x0][_0x45f633(0x8b5)]},{'x':_0x3e3045[_0x45f633(0x625)][0x1][_0x45f633(0x8d2)],'y':_0x3e3045['touches'][0x1][_0x45f633(0x8b5)]}),_0x12923f=getMidpoint({'x':_0x3e3045[_0x45f633(0x625)][0x0]['clientX'],'y':_0x3e3045[_0x45f633(0x625)][0x0][_0x45f633(0x8b5)]},{'x':_0x3e3045[_0x45f633(0x625)][0x1][_0x45f633(0x8d2)],'y':_0x3e3045[_0x45f633(0x625)][0x1][_0x45f633(0x8b5)]}),_0x530692=_0x27a2a4/ initialPinchDistance,_0x276ae5=Math[_0x45f633(0x4ae)](Math[_0x45f633(0x5bd)](scratchpadScale*_0x530692,MIN_SCALE),MAX_SCALE),_0x1ecbe7=_0x12923f['x']-panStart['x'],_0x8ca186=_0x12923f['y']-panStart['y'];scratchpadOffset['x']=_0x12923f['x']-(_0x12923f['x']-scratchpadOffset['x'])*(_0x276ae5/scratchpadScale),scratchpadOffset['y']=_0x12923f['y']-(_0x12923f['y']-scratchpadOffset['y'])*(_0x276ae5/scratchpadScale),scratchpadOffset['x']+=_0x1ecbe7,scratchpadOffset['y']+=_0x8ca186,scratchpadScale=_0x276ae5,initialPinchDistance=_0x27a2a4,panStart=_0x12923f,redrawScratchpad();}}}else{if(isMousePanning){const _0x3cbea1=_0x3e3045[_0x45f633(0x8d2)]-panStart['x'],_0x3771c5=_0x3e3045['clientY']-panStart['y'];scratchpadOffset['x']+=_0x3cbea1,scratchpadOffset['y']+=_0x3771c5,panStart={'x':_0x3e3045[_0x45f633(0x8d2)],'y':_0x3e3045[_0x45f633(0x8b5)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x5bda07=getTransformedPoint(_0x3e3045[_0x45f633(0x8d2)]-_0x56f254[_0x45f633(0x2e3)],_0x3e3045['clientY']-_0x56f254[_0x45f633(0x2f0)]);currentStroke[_0x45f633(0x153)][_0x45f633(0x8b6)](_0x5bda07),redrawScratchpad();}}}}function handlePointerUp(_0x55ea87){const _0x4f57b6=_0x50f1a4;_0x55ea87[_0x4f57b6(0x1cb)]();const _0x3e8dc4=scratchpadCtx[_0x4f57b6(0x5df)];isMousePanning&&(isMousePanning=![],_0x3e8dc4[_0x4f57b6(0x21f)][_0x4f57b6(0x721)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x4f57b6(0x153)]['length']>0x1&&(strokes['push'](currentStroke),currentStroke['tool']==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x5c4b09=_0x4f57b6,_0x91d3e7=strokes[_0x5c4b09(0x4d9)](_0x57f4d1=>_0x57f4d1[_0x5c4b09(0x885)]===_0x5c4b09(0x208)&&!_0x57f4d1[_0x5c4b09(0x58a)]);if(_0x91d3e7[_0x5c4b09(0x43f)]>0x0){const _0x371eca=Date['now']();_0x91d3e7['forEach'](_0x2d3532=>_0x2d3532[_0x5c4b09(0x58a)]=_0x371eca),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x1a151c){const _0x4132f4=_0x50f1a4;_0x1a151c[_0x4132f4(0x1cb)]();const _0x296af2=_0x1a151c[_0x4132f4(0x742)]*-0.005,_0x24bd20=Math[_0x4132f4(0x4ae)](Math[_0x4132f4(0x5bd)](scratchpadScale+_0x296af2,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x1a151c[_0x4132f4(0x8d2)]-(_0x1a151c[_0x4132f4(0x8d2)]-scratchpadOffset['x'])*(_0x24bd20/scratchpadScale),scratchpadOffset['y']=_0x1a151c[_0x4132f4(0x8b5)]-(_0x1a151c['clientY']-scratchpadOffset['y'])*(_0x24bd20/scratchpadScale),scratchpadScale=_0x24bd20,redrawScratchpad();}function undo(){const _0x3151bb=_0x50f1a4;strokes[_0x3151bb(0x43f)]>0x0&&(redoStrokes[_0x3151bb(0x8b6)](strokes[_0x3151bb(0x76a)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0xf78582=_0x50f1a4;redoStrokes[_0xf78582(0x43f)]>0x0&&(strokes['push'](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x45cc70=_0x50f1a4;document['getElementById'](_0x45cc70(0x41f))[_0x45cc70(0x891)]=strokes['length']===0x0,document['getElementById'](_0x45cc70(0x483))[_0x45cc70(0x891)]=redoStrokes[_0x45cc70(0x43f)]===0x0;}function openScratchpad(_0x1cffd7,_0x1ef63e){const _0x3f5cd3=_0x50f1a4,_0x1a42e2=document[_0x3f5cd3(0x1f4)](_0x3f5cd3(0x6d8)),_0x1fb432=document['getElementById'](_0x3f5cd3(0x159)),_0x306d47=document[_0x3f5cd3(0x1f4)](_0x3f5cd3(0x346)),_0x588e8c=document['getElementById']('scratchpad-controls');_0x1fb432[_0x3f5cd3(0x810)]=_0x1cffd7['stem']||_0x1cffd7['questionText'],_0x306d47[_0x3f5cd3(0x535)]=_0x1ef63e[_0x3f5cd3(0x27d)]((_0x4dbff9,_0x4ad1e9)=>'<div>'+String[_0x3f5cd3(0x219)](0x41+_0x4ad1e9)+'.\x20'+_0x4dbff9+'</div>')[_0x3f5cd3(0x211)](''),_0x588e8c[_0x3f5cd3(0x535)]=_0x3f5cd3(0x2c6),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x1a42e2[_0x3f5cd3(0x87b)][_0x3f5cd3(0x8e)](_0x3f5cd3(0x727)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x3f5cd3(0x7c0)])MathJax['typesetPromise']([_0x1fb432,_0x306d47]);}function initializeScratchpadCanvas(){const _0x428859=_0x50f1a4,_0xee4627=document[_0x428859(0x1f4)](_0x428859(0x27e)),_0x3aaf5e=document[_0x428859(0x76d)](_0x428859(0x7aa));if(!_0xee4627||!_0x3aaf5e)return;scratchpadCtx=_0xee4627['getContext']('2d',{'willReadFrequently':!![]});const _0x467ea8=window[_0x428859(0x423)]||0x1,_0x3e1d21=_0x3aaf5e[_0x428859(0x76f)]();_0xee4627[_0x428859(0x8b0)]=_0x3e1d21['width']*_0x467ea8,_0xee4627[_0x428859(0x106)]=_0x3e1d21[_0x428859(0x106)]*_0x467ea8,_0xee4627[_0x428859(0x21f)][_0x428859(0x8b0)]=_0x3e1d21[_0x428859(0x8b0)]+'px',_0xee4627[_0x428859(0x21f)]['height']=_0x3e1d21[_0x428859(0x106)]+'px',scratchpadCtx[_0x428859(0x460)](_0x467ea8,_0x467ea8),scratchpadCtx['lineJoin']=_0x428859(0x115),scratchpadCtx[_0x428859(0xd0)]='round',_0xee4627[_0x428859(0x1c3)]('pointerdown',handlePointerDown),_0xee4627[_0x428859(0x1c3)](_0x428859(0x35d),handlePointerMove),_0xee4627[_0x428859(0x1c3)](_0x428859(0x653),handlePointerUp),_0xee4627[_0x428859(0x1c3)](_0x428859(0x83c),handlePointerUp),_0xee4627[_0x428859(0x1c3)](_0x428859(0xef),handleWheel),_0xee4627[_0x428859(0x1c3)]('touchstart',handlePointerDown),_0xee4627[_0x428859(0x1c3)](_0x428859(0x19d),handlePointerMove),_0xee4627['removeEventListener'](_0x428859(0x262),handlePointerUp),_0xee4627['addEventListener'](_0x428859(0x683),handlePointerDown),_0xee4627[_0x428859(0x8c0)]('pointermove',handlePointerMove),_0xee4627['addEventListener'](_0x428859(0x653),handlePointerUp),_0xee4627[_0x428859(0x8c0)]('pointercancel',handlePointerUp),_0xee4627['addEventListener'](_0x428859(0xef),handleWheel,{'passive':![]}),_0xee4627[_0x428859(0x8c0)](_0x428859(0x5d6),handlePointerDown,{'passive':![]}),_0xee4627['addEventListener'](_0x428859(0x19d),handlePointerMove,{'passive':![]}),_0xee4627[_0x428859(0x8c0)]('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x4ed3c0=_0x50f1a4,_0x333de3=document['getElementById'](_0x4ed3c0(0x6d8)),_0x2e1492=document['getElementById'](_0x4ed3c0(0x7a7));_0x2e1492[_0x4ed3c0(0x535)]=_0x4ed3c0(0x489)+scratchpadHighlighterSize+_0x4ed3c0(0x612);const _0x299516=document['getElementById']('pen-tool-btn'),_0x4ef65e=document[_0x4ed3c0(0x1f4)](_0x4ed3c0(0x671)),_0x868952=document[_0x4ed3c0(0x1f4)](_0x4ed3c0(0x3dc)),_0x1909bf=document[_0x4ed3c0(0x1f4)](_0x4ed3c0(0x1dd)),_0x2b4cc0=document[_0x4ed3c0(0x1f4)](_0x4ed3c0(0xc9)),_0x16c57a=document[_0x4ed3c0(0x1f4)](_0x4ed3c0(0x7cb)),_0x2b41f7=[_0x299516,_0x4ef65e,_0x868952,_0x1909bf];document[_0x4ed3c0(0x1f4)](_0x4ed3c0(0x402))[_0x4ed3c0(0x8c0)](_0x4ed3c0(0x2d7),()=>_0x333de3[_0x4ed3c0(0x87b)][_0x4ed3c0(0x6aa)]('hidden')),document['getElementById'](_0x4ed3c0(0x7f1))[_0x4ed3c0(0x8c0)](_0x4ed3c0(0x2d7),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x4ed3c0(0x1f4)](_0x4ed3c0(0x49a))[_0x4ed3c0(0x8c0)](_0x4ed3c0(0x2d7),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x4ed3c0(0x1f4)](_0x4ed3c0(0x41f))[_0x4ed3c0(0x8c0)](_0x4ed3c0(0x2d7),undo),document[_0x4ed3c0(0x1f4)](_0x4ed3c0(0x483))[_0x4ed3c0(0x8c0)](_0x4ed3c0(0x2d7),redo);const _0x47d4c2=_0x3611d3=>{const _0x20362c=_0x4ed3c0;_0x2b41f7['forEach'](_0x4ee66b=>_0x4ee66b[_0x20362c(0x87b)][_0x20362c(0x8e)](_0x20362c(0x732))),_0x3611d3['classList']['add']('active');const _0x4ab04a=_0x3611d3===_0x1909bf;_0x2b4cc0[_0x20362c(0x87b)][_0x20362c(0x361)](_0x20362c(0x727),_0x4ab04a),_0x16c57a[_0x20362c(0x87b)][_0x20362c(0x361)](_0x20362c(0x727),!_0x4ab04a);};_0x299516[_0x4ed3c0(0x8c0)]('click',()=>{const _0x402f5d=_0x4ed3c0;activeTool=_0x402f5d(0x4a7),_0x47d4c2(_0x299516);}),_0x4ef65e['addEventListener'](_0x4ed3c0(0x2d7),()=>{const _0x298bf5=_0x4ed3c0;activeTool=_0x298bf5(0x415),_0x47d4c2(_0x4ef65e);}),_0x868952[_0x4ed3c0(0x8c0)](_0x4ed3c0(0x2d7),()=>{const _0x2213b5=_0x4ed3c0;activeTool=_0x2213b5(0x208),_0x47d4c2(_0x868952);}),_0x1909bf[_0x4ed3c0(0x8c0)]('click',()=>{const _0x359dbd=_0x4ed3c0;activeTool=_0x359dbd(0x4ec),_0x47d4c2(_0x1909bf);}),_0x2b4cc0[_0x4ed3c0(0x15d)]('.pen-size-btn')['forEach'](_0x576ea9=>{const _0x2d4bad=_0x4ed3c0;_0x576ea9[_0x2d4bad(0x8c0)](_0x2d4bad(0x2d7),_0x56b9ea=>{const _0x10f774=_0x2d4bad;scratchpadPenSize=parseInt(_0x56b9ea[_0x10f774(0x823)][_0x10f774(0x873)]['size'],0xa),_0x2b4cc0['querySelectorAll'](_0x10f774(0x760))[_0x10f774(0x887)](_0x72edc6=>_0x72edc6[_0x10f774(0x87b)][_0x10f774(0x8e)]('active')),_0x56b9ea[_0x10f774(0x823)]['classList'][_0x10f774(0x6aa)]('active');});}),_0x2b4cc0[_0x4ed3c0(0x15d)](_0x4ed3c0(0x7da))['forEach'](_0x4116f5=>{const _0x532e85=_0x4ed3c0;_0x4116f5[_0x532e85(0x8c0)]('click',_0x540806=>{const _0x4fb4f6=_0x532e85;scratchpadPenColor=_0x540806[_0x4fb4f6(0x823)][_0x4fb4f6(0x873)][_0x4fb4f6(0x12e)],_0x2b4cc0[_0x4fb4f6(0x15d)](_0x4fb4f6(0x7da))['forEach'](_0x555b02=>_0x555b02['classList'][_0x4fb4f6(0x8e)](_0x4fb4f6(0x732))),_0x540806[_0x4fb4f6(0x823)][_0x4fb4f6(0x87b)][_0x4fb4f6(0x6aa)](_0x4fb4f6(0x732));});}),_0x16c57a[_0x4ed3c0(0x15d)](_0x4ed3c0(0x754))['forEach'](_0x14696c=>{const _0xa0a79c=_0x4ed3c0;_0x14696c[_0xa0a79c(0x8c0)](_0xa0a79c(0x2d7),_0x225f37=>{const _0x82c798=_0xa0a79c;scratchpadHighlighterColor=_0x225f37['target'][_0x82c798(0x873)][_0x82c798(0x12e)],_0x16c57a['querySelectorAll'](_0x82c798(0x754))['forEach'](_0x2b0dba=>_0x2b0dba['classList'][_0x82c798(0x8e)](_0x82c798(0x732))),_0x225f37[_0x82c798(0x823)][_0x82c798(0x87b)][_0x82c798(0x6aa)](_0x82c798(0x732));});});const _0x1f92c6=document['getElementById']('highlighter-size-slider'),_0x19d17a=document[_0x4ed3c0(0x1f4)]('highlighter-size-value');_0x1f92c6[_0x4ed3c0(0x8c0)](_0x4ed3c0(0x4b9),_0x5d1cf7=>{const _0xd095a7=_0x4ed3c0,_0x537210=parseInt(_0x5d1cf7['target'][_0xd095a7(0x5cf)],0xa);scratchpadHighlighterSize=_0x537210,_0x19d17a['textContent']=_0x537210;}),window[_0x4ed3c0(0x8c0)]('resize',()=>{const _0x150958=_0x4ed3c0;!_0x333de3[_0x150958(0x87b)]['contains'](_0x150958(0x727))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x50f1a4(0x407),'name':_0x50f1a4(0x59f),'description':_0x50f1a4(0x52e),'icon':_0x50f1a4(0x126)},'QUICK_THINKER':{'id':_0x50f1a4(0x759),'name':'เซียนสมองไว','description':_0x50f1a4(0x4a8),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x50f1a4(0x316),'name':_0x50f1a4(0x312),'description':_0x50f1a4(0x2d1),'icon':_0x50f1a4(0x712)},'FIRST_TRY_ACE':{'id':_0x50f1a4(0x6eb),'name':_0x50f1a4(0x2c7),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':'comeback_king','name':_0x50f1a4(0x51a),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x50f1a4(0x29c)},'SPECIALIST':{'id':_0x50f1a4(0x882),'name':'ผู้เชี่ยวชาญ','description':_0x50f1a4(0x177),'icon':_0x50f1a4(0x117)},'PERSEVERANCE':{'id':_0x50f1a4(0x2da),'name':_0x50f1a4(0x239),'description':_0x50f1a4(0x855),'icon':_0x50f1a4(0x8cf)}},firebaseConfig={'apiKey':_0x50f1a4(0x436),'authDomain':_0x50f1a4(0x892),'projectId':_0x50f1a4(0x3ba),'storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':_0x50f1a4(0x6be),'appId':_0x50f1a4(0x8a3),'measurementId':_0x50f1a4(0x55f)},appId=typeof __app_id!==_0x50f1a4(0x1ef)?__app_id:_0x50f1a4(0x53b),adminView=document['getElementById'](_0x50f1a4(0x39a)),studentView=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x143)),projectDashboardView=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x667)),projectDetailView=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x305)),quizResultsView=document['getElementById'](_0x50f1a4(0x380)),projectList=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x464)),noProjectsMsg=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x4f1)),projectTitle=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x88a)),projectIdDisplay=document['getElementById'](_0x50f1a4(0x4e5)),studentList=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x44b)),messageModal=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x72e)),modalMessage=document['getElementById'](_0x50f1a4(0xb4)),createProjectModal=document[_0x50f1a4(0x1f4)]('create-project-modal'),adminPasswordModal=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x264)),confirmationModal=document[_0x50f1a4(0x1f4)]('confirmation-modal'),userIdDisplay=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x1b9)),topicTab=document[_0x50f1a4(0x1f4)]('topic-tab'),textTab=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x1cd)),topicInputArea=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x768)),textInputArea=document[_0x50f1a4(0x1f4)]('text-input-area'),manageTab=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x666)),resultsTab=document[_0x50f1a4(0x1f4)]('results-tab'),leaderboardTab=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x84c)),manageTabContent=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x4f2)),resultsTabContent=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x54e)),leaderboardTabContent=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x48c)),projectQuizzesList=document['getElementById'](_0x50f1a4(0x444)),fileTab=document[_0x50f1a4(0x1f4)]('file-tab'),fileInputArea=document['getElementById']('file-input-area'),fileUploadInput=document[_0x50f1a4(0x1f4)]('file-upload-input'),worksheetTab=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x1bf)),worksheetInputArea=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x70c)),generateWorksheetBtn=document['getElementById'](_0x50f1a4(0x44e)),studentInitialView=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x51c)),studentNameSelectionView=document[_0x50f1a4(0x1f4)]('student-name-selection-view'),studentQuizArea=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x89d)),studentResultArea=document['getElementById'](_0x50f1a4(0xf2)),studentReadingArea=document['getElementById'](_0x50f1a4(0xd8)),loadQuizBtn=document['getElementById'](_0x50f1a4(0x6d6)),startQuizBtn=document[_0x50f1a4(0x1f4)](_0x50f1a4(0xfa)),studentJoinGameView=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x8a9)),presentationModal=document['getElementById']('presentation-modal'),renameQuizModal=document['getElementById'](_0x50f1a4(0x265)),moveQuizModal=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x1a8)),quizSettingsModal=document[_0x50f1a4(0x1f4)]('quiz-settings-modal'),quizStatusModal=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x620)),liveGameView=document[_0x50f1a4(0x1f4)](_0x50f1a4(0x5a2));function handleAutoFixLatex(){const _0x59387a=_0x50f1a4,_0x459bf4=document[_0x59387a(0x1f4)](_0x59387a(0x3cf))||document,_0x35f27b=_0x459bf4[_0x59387a(0x15d)]([_0x59387a(0x6f9),_0x59387a(0x789),'[contenteditable=\x22true\x22]','[role=\x22textbox\x22]','.ql-editor',_0x59387a(0x54d),_0x59387a(0x5f7),_0x59387a(0x54f),_0x59387a(0x818)][_0x59387a(0x211)](','));let _0x17e52e=0x0;const _0x27d3dd=_0x446715=>_0x59387a(0x5cf)in _0x446715?String(_0x446715[_0x59387a(0x5cf)]):_0x446715[_0x59387a(0x3ea)]!==undefined?_0x446715[_0x59387a(0x3ea)]:_0x446715['textContent']||'',_0x415437=(_0x5b51a1,_0x259f95)=>{const _0x5a153b=_0x59387a;if(_0x5a153b(0x5cf)in _0x5b51a1){_0x5b51a1[_0x5a153b(0x5cf)]=_0x259f95;return;}if(_0x5b51a1[_0x5a153b(0x76d)]&&_0x5b51a1[_0x5a153b(0x76d)](_0x5a153b(0x43c)))return;if(_0x5b51a1[_0x5a153b(0x3ea)]!==undefined)_0x5b51a1[_0x5a153b(0x3ea)]=_0x259f95;else _0x5b51a1[_0x5a153b(0x810)]=_0x259f95;},_0x21a89c=_0x3b0eaa=>_0x3b0eaa[_0x59387a(0x3c3)](/\u00A0/g,'\x20')[_0x59387a(0x3c3)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x3dc6c2=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x5cae13=_0x2f75d2=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x59387a(0x366)](_0x2f75d2),_0x525230=_0x57b825=>{const _0x342fa6=_0x59387a,_0x2a363f=(_0x57b825[_0x342fa6(0x27b)](/\{/g)||[])[_0x342fa6(0x43f)],_0x4d6dea=(_0x57b825[_0x342fa6(0x27b)](/\}/g)||[])[_0x342fa6(0x43f)];if(_0x2a363f>_0x4d6dea)_0x57b825=_0x57b825+'}'[_0x342fa6(0x2ae)](_0x2a363f-_0x4d6dea);return _0x57b825;},_0x4080dd=_0x4c2f14=>{const _0x56e3cf=_0x59387a;let _0x537031=_0x4c2f14[_0x56e3cf(0x6e3)]();const _0x5a7cbe=[_0x56e3cf(0x54c),'dfrac','tfrac',_0x56e3cf(0x226),'text','times',_0x56e3cf(0x6d),_0x56e3cf(0xb2),_0x56e3cf(0x1d6),_0x56e3cf(0x5f2),'le','ge',_0x56e3cf(0x6ca),'pm',_0x56e3cf(0x5f6),_0x56e3cf(0x67d),_0x56e3cf(0x694),_0x56e3cf(0x16a),_0x56e3cf(0x1da),'ln',_0x56e3cf(0x22c),_0x56e3cf(0x111),_0x56e3cf(0x347),'left',_0x56e3cf(0x43b),'overline',_0x56e3cf(0x899),_0x56e3cf(0x332),'deg'];_0x537031=_0x537031['replace'](new RegExp(_0x56e3cf(0x369)+_0x5a7cbe[_0x56e3cf(0x211)]('|')+_0x56e3cf(0x4c6),'g'),'\x5c'),_0x5a7cbe[_0x56e3cf(0x887)](_0x57827e=>{const _0x4f99a3=_0x56e3cf;_0x537031=_0x537031[_0x4f99a3(0x3c3)](new RegExp(_0x4f99a3(0x4f6)+_0x57827e+'\x5cb','g'),(_0x3c7794,_0x41c4be)=>_0x41c4be+'\x5c'+_0x57827e);});const _0x21d20b=[[/×/g,_0x56e3cf(0x2f5)],[/·/g,_0x56e3cf(0xa2)],[/÷/g,_0x56e3cf(0x237)],[/≤/g,_0x56e3cf(0x626)],[/≥/g,'\x5cge'],[/≠/g,_0x56e3cf(0x3ce)],[/±/g,_0x56e3cf(0x2e0)],[/∑/g,_0x56e3cf(0x7db)],[/−/g,'-']];_0x21d20b[_0x56e3cf(0x887)](([_0x354780,_0x30bec7])=>{const _0x3293bf=_0x56e3cf;_0x537031=_0x537031[_0x3293bf(0x3c3)](_0x354780,_0x30bec7);}),_0x537031=_0x537031[_0x56e3cf(0x3c3)](/√\s*\(([^)]*)\)/g,_0x56e3cf(0x708)),_0x537031=_0x537031[_0x56e3cf(0x3c3)](/√\s*([A-Za-z0-9]+)/g,_0x56e3cf(0x708)),_0x537031=_0x537031[_0x56e3cf(0x3c3)](/(^|[^\\])\bimes\b/g,'$1\x5ctimes')['replace'](/(^|[^\\])\b(?:rac|\/frac)\b/g,'$1\x5cfrac')['replace'](/(^|[^\\])ext\{/g,_0x56e3cf(0x5b4))[_0x56e3cf(0x3c3)](/(^|[^\\])ext\(/g,_0x56e3cf(0xaa))['replace'](/\\text\(([^)]*)\)/g,_0x56e3cf(0xe8))['replace'](/\s\\frac/g,_0x56e3cf(0x5c1)),_0x537031=_0x537031[_0x56e3cf(0x3c3)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x46754e,_0x238e2d,_0x24cdf7,_0x1deb1a)=>_0x238e2d+_0x56e3cf(0x796)+_0x24cdf7+'}{'+_0x1deb1a+'}'),_0x537031=_0x537031[_0x56e3cf(0x3c3)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x56e3cf(0x206))[_0x56e3cf(0x3c3)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,'\x5cfrac{$1}{$2}')[_0x56e3cf(0x3c3)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,'\x5cfrac{$1}{$2}'),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x56e3cf(0x1d7)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x56e3cf(0x1d7)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x56e3cf(0x1d7)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x56e3cf(0x1d7)],[/(\d+)\s*°\s*C/g,_0x56e3cf(0x1d7)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x56e3cf(0x3c7)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']][_0x56e3cf(0x887)](([_0x156cab,_0x580d7f])=>{_0x537031=_0x537031['replace'](_0x156cab,_0x580d7f);}),_0x537031=_0x537031['replace'](/(\d+)\s*%/g,'$1\x5c%'),_0x537031=_0x537031[_0x56e3cf(0x3c3)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x56e3cf(0x5f4))['replace'](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x56e3cf(0x4ac))['replace'](/\{\{([^\{\}]+)\}\}/g,_0x56e3cf(0x4ab)),['sin',_0x56e3cf(0x694),_0x56e3cf(0x16a),_0x56e3cf(0x1da),'ln'][_0x56e3cf(0x887)](_0x5f1360=>{const _0x5ab689=_0x56e3cf;_0x537031=_0x537031[_0x5ab689(0x3c3)](new RegExp(_0x5ab689(0x4f6)+_0x5f1360+'\x5cs*\x5c(','g'),(_0x121b03,_0x440667)=>_0x440667+'\x5c'+_0x5f1360+'(');});const _0x5bfeae=(_0x537031['match'](/\\left\b/g)||[])['length'],_0x28f2ae=(_0x537031[_0x56e3cf(0x27b)](/\\right\b/g)||[])[_0x56e3cf(0x43f)];if(_0x5bfeae!==_0x28f2ae)_0x537031=_0x537031['replace'](/\\left\b/g,'')[_0x56e3cf(0x3c3)](/\\right\b/g,'');return _0x537031=_0x525230(_0x537031),_0x537031;},_0x1752a8=_0x43f68c=>{const _0x1b1d70=_0x59387a;if(/\$|\\\(|\\\[/[_0x1b1d70(0x366)](_0x43f68c))return _0x43f68c;if(!_0x3dc6c2['test'](_0x43f68c))return _0x43f68c;const _0x365de3=_0x43f68c[_0x1b1d70(0x27b)](/^\s*/)[0x0],_0x59ca0a=_0x43f68c[_0x1b1d70(0x27b)](/\s*$/)[0x0],_0x44eaf6=_0x43f68c[_0x1b1d70(0x6e3)]();return _0x365de3+'$'+_0x4080dd(_0x44eaf6)+'$'+_0x59ca0a;},_0x30d068=_0x4b5ca0=>_0x4b5ca0[_0x59387a(0x442)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x35f27b[_0x59387a(0x887)](_0x53ecff=>{const _0xf1f931=_0x59387a;if(_0x53ecff[_0xf1f931(0x76d)]&&_0x53ecff[_0xf1f931(0x76d)]('mjx-container'))return;const _0x465a09=_0x27d3dd(_0x53ecff);let _0x45f73c=_0x21a89c(_0x465a09);_0x45f73c=_0x45f73c[_0xf1f931(0x3c3)](/\$\$([\s\S]*?)\$\$/g,(_0x890f4b,_0x3624a6)=>'$$'+_0x4080dd(_0x3624a6)+'$$')[_0xf1f931(0x3c3)](/\$([^$]*?)\$/g,(_0x300560,_0x190980)=>'$'+_0x4080dd(_0x190980)+'$')[_0xf1f931(0x3c3)](/\\\(([\s\S]*?)\\\)/g,(_0x12635f,_0x38b508)=>'\x5c('+_0x4080dd(_0x38b508)+'\x5c)')[_0xf1f931(0x3c3)](/\\\[([\s\S]*?)\\\]/g,(_0x342a0f,_0x546635)=>'\x5c['+_0x4080dd(_0x546635)+'\x5c]');let _0x2817cb=_0x45f73c,_0x20adc3=0x0;const _0x4ce284=_0x107820=>_0x107820[_0xf1f931(0x3c3)](/S([^S]{0,2000}?)S/g,(_0x181ec5,_0x1a2d11)=>_0x3dc6c2['test'](_0x1a2d11)?'$'+_0x4080dd(_0x1a2d11)+'$':_0x181ec5);while(_0x20adc3++<0x14){const _0x4ba815=_0x4ce284(_0x2817cb);if(_0x4ba815===_0x2817cb)break;_0x2817cb=_0x4ba815;}_0x45f73c=_0x2817cb,_0x45f73c=_0x45f73c[_0xf1f931(0x442)]('\x0a')[_0xf1f931(0x27d)](_0xaaf39a=>{const _0x3f8035=_0xf1f931;if(!(/[,\u3001，;；]/['test'](_0xaaf39a)||/\s(?:และ|หรือ)\s/[_0x3f8035(0x366)](_0xaaf39a))||!_0x3dc6c2['test'](_0xaaf39a))return _0xaaf39a;return _0x30d068(_0xaaf39a)[_0x3f8035(0x27d)](_0x205452=>{const _0x1f3692=_0x3f8035;if(/^\s(?:และ|หรือ)\s$/['test'](_0x205452)||/^[,\u3001，;；]$/[_0x1f3692(0x366)](_0x205452))return _0x205452;return _0x1752a8(_0x205452);})[_0x3f8035(0x211)]('');})[_0xf1f931(0x211)]('\x0a'),_0x45f73c=_0x45f73c['split']('\x0a')['map'](_0x486f4b=>{const _0x54baae=_0xf1f931,_0x917677=_0x486f4b[_0x54baae(0x6e3)]();if(!_0x917677)return _0x486f4b;const _0x11a085=/\$|\\\(|\\\[/[_0x54baae(0x366)](_0x917677),_0xddcf39=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x54baae(0x366)](_0x917677);if(_0x11a085||!_0xddcf39||_0x5cae13(_0x917677))return _0x486f4b;return _0x486f4b[_0x54baae(0x3c3)](_0x917677,'$'+_0x4080dd(_0x917677)+'$');})[_0xf1f931(0x211)]('\x0a'),_0x45f73c=_0x45f73c[_0xf1f931(0x3c3)](/(\d+)\s*°\s*C\b/g,(_0x26fd89,_0x29ce66,_0x2133d6,_0x35de4f)=>{const _0x5bd1bf=_0xf1f931,_0x3ae617=_0x35de4f[_0x2133d6-0x1];if(_0x3ae617==='$'||_0x3ae617==='S'||_0x3ae617==='\x5c')return _0x26fd89;return'$'+_0x29ce66+_0x5bd1bf(0x202);})['replace'](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x5608cf,_0x28e429,_0x276404,_0x2f0371)=>{const _0x5507ce=_0x2f0371[_0x276404-0x1];if(_0x5507ce==='$'||_0x5507ce==='S'||_0x5507ce==='\x5c')return _0x5608cf;return'$'+_0x28e429+'^{\x5ccirc}\x5ctext{C}$';})[_0xf1f931(0x3c3)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x255247,_0x99f0ae,_0x2ec66b,_0x1e1e2a)=>{const _0x590df7=_0xf1f931,_0x1373f4=_0x1e1e2a[_0x2ec66b-0x1];if(_0x1373f4==='$'||_0x1373f4==='S'||_0x1373f4==='\x5c')return _0x255247;return'$'+_0x99f0ae+_0x590df7(0x202);}),_0x45f73c=_0x45f73c[_0xf1f931(0x3c3)](/\$\s*\$/g,'$$'),_0x45f73c!==_0x465a09&&(_0x415437(_0x53ecff,_0x45f73c),_0x17e52e++);});if(_0x17e52e>0x0){showMessage(_0x59387a(0x29a)+_0x17e52e+'\x20ช่อง');try{if(window[_0x59387a(0x7c0)]&&MathJax[_0x59387a(0x703)])MathJax[_0x59387a(0x703)]();window[_0x59387a(0x7eb)]&&typeof renderMathInElement===_0x59387a(0x4cc)&&renderMathInElement(_0x459bf4,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x237a14){}}else showMessage(_0x59387a(0x1e4));}async function listenForCustomMathTopics(){const _0x3dc75f=_0x50f1a4,_0x112502=collection(db,_0x3dc75f(0x385)+appId+_0x3dc75f(0x7c6));onSnapshot(_0x112502,_0x2cfa19=>{const _0x4e9af8=_0x3dc75f;customMathTopics=_0x2cfa19[_0x4e9af8(0x3b3)][_0x4e9af8(0x27d)](_0x2a872e=>({'id':_0x2a872e['id'],..._0x2a872e[_0x4e9af8(0x3db)]()})),renderTopicCheckboxes();},_0x4ebea0=>{const _0x139f54=_0x3dc75f;console[_0x139f54(0x5ec)](_0x139f54(0xdf),_0x4ebea0);});}function handleSelectAllTopics(){const _0x53da20=_0x50f1a4,_0x3610f7=document[_0x53da20(0x1f4)]('math-topics-checkbox-container'),_0x273d9d=_0x3610f7['querySelectorAll']('input[type=\x22checkbox\x22]');_0x273d9d[_0x53da20(0x887)](_0x36199c=>{const _0x586103=_0x53da20;_0x36199c[_0x586103(0x121)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x4268a5=_0x50f1a4,_0x18dbf9=document[_0x4268a5(0x1f4)](_0x4268a5(0x35f)),_0x18d308=_0x18dbf9[_0x4268a5(0x15d)](_0x4268a5(0x2a1));_0x18d308['forEach'](_0x50b4ae=>{const _0x1f0ddd=_0x4268a5;_0x50b4ae[_0x1f0ddd(0x121)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x2f71f4){const _0x1f8b63=_0x50f1a4;if(!_0x2f71f4)return;try{const _0x2d9829=doc(db,_0x1f8b63(0x385)+appId+_0x1f8b63(0x7c6),_0x2f71f4);await deleteDoc(_0x2d9829),showMessage(_0x1f8b63(0x4c1));}catch(_0x22ace3){console[_0x1f8b63(0x5ec)](_0x1f8b63(0x676),_0x22ace3),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x4368ee=_0x50f1a4,_0x2166c8=document['getElementById'](_0x4368ee(0xf6)),_0x11d924=_0x2166c8['value']['trim']();if(!_0x11d924){showMessage(_0x4368ee(0x3fe));return;}if(!userId){showMessage(_0x4368ee(0x621));return;}try{const _0x328fa9=collection(db,_0x4368ee(0x385)+appId+_0x4368ee(0x7c6));await addDoc(_0x328fa9,{'name':_0x11d924,'createdAt':serverTimestamp()}),_0x2166c8['value']='',showMessage(_0x4368ee(0x840)+_0x11d924+'\x22\x20สำเร็จ');}catch(_0x469e73){console[_0x4368ee(0x5ec)](_0x4368ee(0x309),_0x469e73),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x2a2e1b=_0x50f1a4;showConfirmation(_0x2a2e1b(0x85),async()=>{const _0x34214d=_0x2a2e1b,_0xd4a3c0=document[_0x34214d(0x1f4)]('loader'),_0x442fe6=document[_0x34214d(0x1f4)](_0x34214d(0x672)),_0x2ee4a9=_0x442fe6[_0x34214d(0x810)];_0xd4a3c0[_0x34214d(0x87b)][_0x34214d(0x8e)]('hidden'),_0x442fe6[_0x34214d(0x810)]=_0x34214d(0x185);try{const _0x9685e2=collection(db,_0x34214d(0x385)+appId+_0x34214d(0x4bf)),_0x4ff403=await getDocs(_0x9685e2);if(_0x4ff403[_0x34214d(0x80)]){showMessage(_0x34214d(0x865));return;}const _0x3bb5ad=writeBatch(db);let _0x3bbafd=0x0;_0x4ff403['forEach'](_0x4d6a37=>{const _0x114ed3=_0x34214d,_0x342001=_0x4d6a37[_0x114ed3(0x3db)](),_0x49fb3f=_0x4d6a37['id'];if(_0x342001[_0x114ed3(0x393)]&&_0x342001[_0x114ed3(0x393)][_0x114ed3(0x43f)]>0x0&&!_0x342001[_0x114ed3(0x393)][0x0]['hasOwnProperty']('id')){console[_0x114ed3(0x1da)](_0x114ed3(0x36d)+_0x49fb3f+'\x20('+_0x342001[_0x114ed3(0x2c9)]+')'),_0x3bbafd++;const _0x371089=_0x342001['questions']['map']((_0x138185,_0x96120)=>{const _0x829760=_0x114ed3;return{..._0x138185,'id':_0x138185['id']||'q_'+Date[_0x829760(0x857)]()+'_'+_0x49fb3f+'_'+_0x96120};}),_0x10a21b=doc(db,_0x114ed3(0x385)+appId+'/public/data/quizzes',_0x49fb3f);_0x3bb5ad[_0x114ed3(0x6e5)](_0x10a21b,{'questions':_0x371089});}}),_0x3bbafd>0x0?(_0x442fe6[_0x34214d(0x810)]=_0x34214d(0x6b7)+_0x3bbafd+_0x34214d(0x549),await _0x3bb5ad[_0x34214d(0x245)](),showMessage(_0x34214d(0x6e1)+_0x3bbafd+'\x20รายการสำเร็จ!')):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x1812e7){console[_0x34214d(0x5ec)](_0x34214d(0x16e),_0x1812e7),showMessage(_0x34214d(0x22f)+_0x1812e7['message']);}finally{_0xd4a3c0[_0x34214d(0x87b)][_0x34214d(0x6aa)](_0x34214d(0x727)),_0x442fe6[_0x34214d(0x810)]=_0x2ee4a9;}});}async function handleBulkUpdateQuizSettings(){const _0x4c8b45=_0x50f1a4,_0x39fa01={'shuffle':document[_0x4c8b45(0x1f4)](_0x4c8b45(0x6dd))['value'],'resultsDisplay':document['getElementById'](_0x4c8b45(0x33d))[_0x4c8b45(0x5cf)],'loopUntilPass':document['getElementById'](_0x4c8b45(0x255))[_0x4c8b45(0x121)]},_0x39fd5e=allQuizzesGlobal[_0x4c8b45(0x43f)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x39fd5e+_0x4c8b45(0x83e),async()=>{const _0x910f7b=_0x4c8b45,_0x13f675=document[_0x910f7b(0x1f4)](_0x910f7b(0x8d));_0x13f675[_0x910f7b(0x891)]=!![],_0x13f675[_0x910f7b(0x535)]=_0x910f7b(0x85e);try{const _0x22451d=writeBatch(db);allQuizzesGlobal[_0x910f7b(0x887)](_0x2a2969=>{const _0x57a726=_0x910f7b,_0x5a84dd=doc(db,_0x57a726(0x385)+appId+_0x57a726(0x4bf),_0x2a2969['id']),_0x3d423d={..._0x2a2969[_0x57a726(0x4b5)]||{},..._0x39fa01};_0x22451d[_0x57a726(0x6e5)](_0x5a84dd,{'settings':_0x3d423d});}),await _0x22451d['commit'](),document[_0x910f7b(0x1f4)]('bulk-quiz-settings-modal')['classList'][_0x910f7b(0x6aa)]('hidden'),showMessage(_0x910f7b(0x2ac)+_0x39fd5e+_0x910f7b(0x825));}catch(_0x4603eb){console[_0x910f7b(0x5ec)](_0x910f7b(0x5c8),_0x4603eb),showMessage('เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด');}finally{_0x13f675[_0x910f7b(0x891)]=![],_0x13f675['innerHTML']=_0x910f7b(0x232);}});}async function handleSaveProjectName(){const _0x49198a=_0x50f1a4,_0x38bea7=document[_0x49198a(0x1f4)](_0x49198a(0x88a)),_0x13a79d=document[_0x49198a(0x1f4)](_0x49198a(0x62d)),_0x223810=_0x38bea7['textContent']['trim']();if(!_0x223810||!currentProjectId){showMessage(_0x49198a(0x7f2)),_0x38bea7[_0x49198a(0x810)]=currentProjectData[_0x49198a(0x42b)];return;}_0x13a79d[_0x49198a(0x891)]=!![],_0x13a79d[_0x49198a(0x535)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x53c685=doc(db,_0x49198a(0x385)+appId+_0x49198a(0x5ff),currentProjectId);await updateDoc(_0x53c685,{'projectName':_0x223810}),currentProjectData&&(currentProjectData[_0x49198a(0x42b)]=_0x223810),showMessage(_0x49198a(0x42c));}catch(_0x2318da){console[_0x49198a(0x5ec)]('Error\x20updating\x20project\x20name:',_0x2318da),showMessage(_0x49198a(0x172)),_0x38bea7[_0x49198a(0x810)]=currentProjectData[_0x49198a(0x42b)];}finally{_0x13a79d[_0x49198a(0x87b)][_0x49198a(0x6aa)](_0x49198a(0x727)),_0x13a79d[_0x49198a(0x891)]=![],_0x13a79d['innerHTML']='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}async function initialize(){const _0x4c5b16=_0x50f1a4;try{const _0x3fc43a=initializeApp(firebaseConfig);db=getFirestore(_0x3fc43a),auth=getAuth(_0x3fc43a),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x150f36){console['error']('Firebase\x20initialization\x20failed:',_0x150f36),showMessage(_0x4c5b16(0x805));}}async function handleVerifyAnswersInEditor(){const _0x40dfcc=_0x50f1a4,_0x4859f7=document[_0x40dfcc(0x1f4)](_0x40dfcc(0x381));if(!_0x4859f7)return;const _0x4a7431=document[_0x40dfcc(0x1f4)]('verify-answers-editor-btn');_0x4a7431['disabled']=!![],_0x4a7431['innerHTML']=_0x40dfcc(0x67b);try{const _0x5d82eb=_0x4859f7[_0x40dfcc(0x15d)](_0x40dfcc(0x48b)),_0x15b573=Array['from'](_0x5d82eb)[_0x40dfcc(0x27d)]((_0xaa6dc3,_0x5f2150)=>{const _0x204f08=_0x40dfcc,_0x53e78f=_0xaa6dc3[_0x204f08(0x873)][_0x204f08(0x45e)],_0x19ceb3=_0xaa6dc3[_0x204f08(0x76d)]('textarea')[_0x204f08(0x5cf)];let _0x57b4ec=null,_0xa6024c='';switch(_0x53e78f){case _0x204f08(0x657):const _0x44eff3=_0xaa6dc3[_0x204f08(0x15d)](_0x204f08(0x789));_0x57b4ec=Array[_0x204f08(0x41e)](_0x44eff3)[_0x204f08(0x27d)](_0x3e7dea=>_0x3e7dea['value']);const _0x4d0e81=_0xaa6dc3[_0x204f08(0x76d)](_0x204f08(0x53a));_0x4d0e81&&(_0xa6024c=_0x57b4ec[parseInt(_0x4d0e81[_0x204f08(0x5cf)])]);break;case _0x204f08(0x65e):_0xa6024c=_0xaa6dc3['querySelector'](_0x204f08(0x1f8))['value'];break;case _0x204f08(0x340):const _0x311ee5=_0xaa6dc3[_0x204f08(0x76d)](_0x204f08(0x53a));_0xa6024c=_0x311ee5?_0x311ee5[_0x204f08(0x5cf)]:'';break;case _0x204f08(0xcf):_0xa6024c=_0xaa6dc3[_0x204f08(0x76d)](_0x204f08(0x37a))[_0x204f08(0x5cf)];break;}return{'question':_0x19ceb3,'options':_0x57b4ec,'proposedAnswer':_0xa6024c};}),_0x5d87fa=_0x40dfcc(0x79f)+JSON[_0x40dfcc(0xe2)](_0x15b573)+_0x40dfcc(0x210),_0x446c62={'type':_0x40dfcc(0x467),'items':{'type':_0x40dfcc(0x6fc),'properties':{'questionIndex':{'type':_0x40dfcc(0x157)},'isCorrect':{'type':_0x40dfcc(0x37b)},'justification':{'type':_0x40dfcc(0xb6)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x40dfcc(0x4a4),'isCorrect',_0x40dfcc(0x5e0)]}},_0x285a37=await callAnalysisApi(_0x5d87fa,{'type':_0x40dfcc(0x6fc),'properties':{'result':_0x446c62},'required':[_0x40dfcc(0x2ce)]});displayVerificationResultsInEditor(_0x285a37['result']);}catch(_0x22beb4){console['error'](_0x40dfcc(0x5ed),_0x22beb4),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x4a7431[_0x40dfcc(0x891)]=![],_0x4a7431[_0x40dfcc(0x535)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x9cccce){const _0x126ad8=_0x50f1a4;_0x9cccce[_0x126ad8(0x887)](_0x145cf0=>{const _0x3bf4a5=_0x126ad8,_0x27b5b5=document[_0x3bf4a5(0x76d)](_0x3bf4a5(0x7ff)+_0x145cf0[_0x3bf4a5(0x4a4)]+'\x22]');if(!_0x27b5b5)return;const _0x21725c=_0x27b5b5[_0x3bf4a5(0x76d)](_0x3bf4a5(0x814));if(_0x21725c)_0x21725c[_0x3bf4a5(0x8e)]();let _0x540a45='';if(_0x145cf0['isCorrect'])_0x540a45=_0x3bf4a5(0x1bd);else{const _0x4d9836=_0x145cf0['suggestedAnswer']?_0x3bf4a5(0x505):'';_0x540a45=_0x3bf4a5(0x744)+_0x4d9836+_0x3bf4a5(0x5c0)+_0x145cf0[_0x3bf4a5(0x5e0)]+_0x3bf4a5(0x414)+(_0x145cf0[_0x3bf4a5(0x7d2)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x145cf0[_0x3bf4a5(0x7d2)]+_0x3bf4a5(0x24d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}_0x27b5b5[_0x3bf4a5(0x4e7)](_0x3bf4a5(0xd7),_0x540a45);if(!_0x145cf0[_0x3bf4a5(0x797)]&&_0x145cf0['suggestedAnswer']){const _0x38e33d=_0x27b5b5[_0x3bf4a5(0x873)][_0x3bf4a5(0x45e)],_0x4c5c7d=_0x5dc6c0=>{const _0x1edf9d=_0x3bf4a5;if(!_0x5dc6c0)return;_0x5dc6c0[_0x1edf9d(0x87b)][_0x1edf9d(0x6aa)](_0x1edf9d(0x100),_0x1edf9d(0x80b),_0x1edf9d(0x1ea)),setTimeout(()=>{const _0x559fd6=_0x1edf9d;_0x5dc6c0['classList']['remove'](_0x559fd6(0x100));},0x9c4);};if(_0x38e33d==='multiple_choice'){const _0x1f5f8a=Array[_0x3bf4a5(0x41e)](_0x27b5b5[_0x3bf4a5(0x15d)](_0x3bf4a5(0x789))),_0x1e97d2=_0x1f5f8a['findIndex'](_0x492d85=>_0x492d85[_0x3bf4a5(0x5cf)][_0x3bf4a5(0x6e3)]()[_0x3bf4a5(0x476)]()===_0x145cf0[_0x3bf4a5(0x7d2)][_0x3bf4a5(0x6e3)]()[_0x3bf4a5(0x476)]());if(_0x1e97d2!==-0x1){const _0x179786=_0x27b5b5[_0x3bf4a5(0x76d)](_0x3bf4a5(0x1ac)+_0x1e97d2+'\x22]');_0x179786&&(_0x179786[_0x3bf4a5(0x121)]=!![],_0x4c5c7d(_0x179786[_0x3bf4a5(0x88)](_0x3bf4a5(0xb2))));}}else{if(_0x38e33d==='short_answer'||_0x38e33d===_0x3bf4a5(0xcf)){const _0x4feba5=_0x27b5b5[_0x3bf4a5(0x76d)](_0x3bf4a5(0x337));_0x4feba5&&(_0x4feba5['value']=_0x145cf0[_0x3bf4a5(0x7d2)],_0x4c5c7d(_0x4feba5));}else{if(_0x38e33d===_0x3bf4a5(0x340)){const _0x140079=_0x145cf0[_0x3bf4a5(0x7d2)][_0x3bf4a5(0x6e3)]()[_0x3bf4a5(0x476)](),_0x44c4c3=_0x27b5b5[_0x3bf4a5(0x76d)](_0x3bf4a5(0x1ac)+_0x140079+'\x22]');_0x44c4c3&&(_0x44c4c3['checked']=!![],_0x4c5c7d(_0x44c4c3['closest'](_0x3bf4a5(0xb2))));}}}}}),showMessage(_0x126ad8(0x299));}async function handleVerifyAnswers(){const _0x553516=_0x50f1a4;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x39e74f=document[_0x553516(0x1f4)](_0x553516(0x76));_0x39e74f[_0x553516(0x891)]=!![],_0x39e74f[_0x553516(0x535)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x1e3df8=currentQuizData[_0x553516(0x393)][_0x553516(0x27d)]((_0x54caa8,_0x9fb974)=>{const _0x51f7fb=_0x553516;let _0x20ed7f='';const _0x270efd=_0x54caa8[_0x51f7fb(0x84e)]||currentQuizData[_0x51f7fb(0x272)];switch(_0x270efd){case _0x51f7fb(0x657):_0x20ed7f=_0x54caa8['options'][_0x54caa8[_0x51f7fb(0x7b0)]];break;case _0x51f7fb(0x65e):_0x20ed7f=_0x54caa8[_0x51f7fb(0x66f)];break;case _0x51f7fb(0x340):_0x20ed7f=_0x54caa8[_0x51f7fb(0x56b)][_0x51f7fb(0x215)]();break;case'matching_item':_0x20ed7f=_0x54caa8[_0x51f7fb(0x6af)];break;}return{'question':_0x54caa8[_0x51f7fb(0x63e)]||_0x54caa8['questionText'],'options':_0x54caa8[_0x51f7fb(0x4a1)]||null,'proposedAnswer':_0x20ed7f};}),_0x38cf16=_0x553516(0x70f)+JSON[_0x553516(0xe2)](_0x1e3df8)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1d250e={'type':_0x553516(0x467),'items':{'type':_0x553516(0x6fc),'properties':{'questionIndex':{'type':_0x553516(0x157)},'isCorrect':{'type':_0x553516(0x37b)},'justification':{'type':_0x553516(0xb6)},'suggestedAnswer':{'type':_0x553516(0xb6)}},'required':['questionIndex',_0x553516(0x797),_0x553516(0x5e0)]}},_0x1e11be=await callAnalysisApi(_0x38cf16,{'type':_0x553516(0x6fc),'properties':{'result':_0x1d250e},'required':[_0x553516(0x2ce)]});displayVerificationResults(_0x1e11be['result']);}catch(_0x5a3730){console[_0x553516(0x5ec)]('Error\x20verifying\x20answers:',_0x5a3730),showMessage(_0x553516(0xcc));}finally{_0x39e74f[_0x553516(0x891)]=![],_0x39e74f[_0x553516(0x535)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x5bd9d1){const _0x434315=_0x50f1a4;_0x5bd9d1['forEach'](_0x5c5e30=>{const _0x390b42=_0x2cea,_0x20c920=document['querySelector'](_0x390b42(0x3ec)+_0x5c5e30[_0x390b42(0x4a4)]+'\x22]');if(_0x20c920){const _0x9595d5=_0x20c920[_0x390b42(0x76d)](_0x390b42(0x47d));if(_0x9595d5)_0x9595d5[_0x390b42(0x8e)]();let _0x55ed3e='';_0x5c5e30[_0x390b42(0x797)]?_0x55ed3e=_0x390b42(0x1ba):_0x55ed3e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x5c5e30[_0x390b42(0x5e0)]+_0x390b42(0x268)+(_0x5c5e30[_0x390b42(0x7d2)]?_0x390b42(0xd9)+_0x5c5e30[_0x390b42(0x7d2)]+_0x390b42(0x24d):'')+_0x390b42(0x516),_0x20c920[_0x390b42(0x4e7)](_0x390b42(0xd7),_0x55ed3e);}}),showMessage(_0x434315(0x299));}function compareNumericalAnswers(_0x4a3e5b,_0x583d76){const _0x230bf5=_0x50f1a4,_0x15dd2c=String(_0x4a3e5b)[_0x230bf5(0x3c3)](',','.')[_0x230bf5(0x3c3)](/[^\d.-]/g,'')[_0x230bf5(0x6e3)](),_0x1c5ddb=String(_0x583d76)[_0x230bf5(0x3c3)](',','.')['replace'](/[^\d.-]/g,'')['trim']();if(_0x15dd2c===''||_0x1c5ddb==='')return![];const _0x31226f=parseFloat(_0x15dd2c),_0x4656df=parseFloat(_0x1c5ddb);if(isNaN(_0x31226f)||isNaN(_0x4656df))return![];return Math['abs'](_0x31226f-_0x4656df)<0.001;}async function gradeShortAnswer(_0x2ffaf2,_0x2c6ba5){const _0x1a0b11=_0x50f1a4,_0x56c989=_0x2c6ba5[_0x1a0b11(0x66f)];if(String(_0x2ffaf2)['trim']()[_0x1a0b11(0x476)]()===String(_0x56c989)['trim']()[_0x1a0b11(0x476)]())return!![];if(compareNumericalAnswers(_0x2ffaf2,_0x56c989))return!![];return console[_0x1a0b11(0x1da)](_0x1a0b11(0x1d9)),await gradeShortAnswerWithAI(_0x2ffaf2,_0x56c989);}async function revealAnswerForAdmin(_0x5c9864,_0x4cd743){const _0x349116=_0x50f1a4,_0x28fdd3=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x28fdd3,{'questionStatus':_0x349116(0x46c)});}function showTop5LeaderboardView(_0x2356c4){const _0x132d1b=_0x50f1a4,_0x1fce3a=Object[_0x132d1b(0x83f)](_0x2356c4[_0x132d1b(0x592)]||{})[_0x132d1b(0x4d9)](_0x807614=>_0x807614[_0x132d1b(0x1a0)]===_0x132d1b(0x732));_0x1fce3a[_0x132d1b(0x5ef)]((_0x1d4d91,_0x2a2419)=>_0x2a2419['score']-_0x1d4d91[_0x132d1b(0x105)]);const _0xd25214=_0x1fce3a['slice'](0x0,0x5),_0x25b9a4=_0x132d1b(0x260)+_0xd25214[_0x132d1b(0x27d)]((_0x239c33,_0x4251af)=>_0x132d1b(0x13d)+(_0x4251af+0x1)+'.\x20'+(_0x239c33[_0x132d1b(0x250)]||Object[_0x132d1b(0xfb)](_0x2356c4[_0x132d1b(0x592)])[_0x132d1b(0x700)](_0x65fead=>_0x2356c4[_0x132d1b(0x592)][_0x65fead]===_0x239c33))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0x239c33[_0x132d1b(0x105)]+_0x132d1b(0x8bc))[_0x132d1b(0x211)]('')+_0x132d1b(0x1c9)+(_0x2356c4['currentQuestionIndex']+0x1===currentQuizData['questions']['length']?_0x132d1b(0x38e):_0x132d1b(0x2eb))+_0x132d1b(0x5ba);liveGameView['innerHTML']=_0x25b9a4,document[_0x132d1b(0x1f4)](_0x132d1b(0x6ee))[_0x132d1b(0x8c0)](_0x132d1b(0x2d7),async()=>{const _0x4eb289=_0x132d1b,_0x3796a4=doc(db,_0x4eb289(0x385)+appId+_0x4eb289(0x6d2),currentLiveGameId),_0x257b3f=_0x2356c4[_0x4eb289(0x74b)]+0x1;if(_0x257b3f<currentQuizData[_0x4eb289(0x393)][_0x4eb289(0x43f)]){const _0x15b55a={'currentQuestionIndex':_0x257b3f,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x4eb289(0x567)};Object[_0x4eb289(0xfb)](_0x2356c4['players'])['forEach'](_0x497c2a=>{const _0x4a0d05=_0x4eb289;_0x15b55a[_0x4a0d05(0x863)+_0x497c2a+_0x4a0d05(0x26e)]=![];}),await updateDoc(_0x3796a4,_0x15b55a);}else await updateDoc(_0x3796a4,{'status':_0x4eb289(0x7c8)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x18bd13=>{const _0x4aed93=_0x2cea;if(_0x18bd13){userId=_0x18bd13[_0x4aed93(0x249)],userIdDisplay[_0x4aed93(0x810)]=userId;const _0x47f2fd=await loadUserPreferences();_0x47f2fd['projectSortOrder']&&(document['getElementById'](_0x4aed93(0x68a))[_0x4aed93(0x5cf)]=_0x47f2fd[_0x4aed93(0x696)]);globalDashboardSettings[_0x4aed93(0x79a)]=_0x47f2fd['projectView']||_0x4aed93(0x783);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x4239ad,_0x461a78){const _0x55b5f6=_0x50f1a4;if(!userId)return;try{const _0x69ca4=doc(db,_0x55b5f6(0x385)+appId+_0x55b5f6(0x452)+userId+_0x55b5f6(0x3b5)),_0x3b9e65={};_0x3b9e65[_0x4239ad]=_0x461a78,await setDoc(_0x69ca4,_0x3b9e65,{'merge':!![]});}catch(_0x55c2be){console['error'](_0x55b5f6(0x70e),_0x55c2be);}}async function loadUserPreferences(){const _0x3a17dd=_0x50f1a4;if(!userId)return{};try{const _0x2c64a1=doc(db,'artifacts/'+appId+'/users/'+userId+_0x3a17dd(0x3b5)),_0x2883ac=await getDoc(_0x2c64a1);if(_0x2883ac[_0x3a17dd(0x5b8)]())return _0x2883ac[_0x3a17dd(0x3db)]();return{};}catch(_0x154128){return console[_0x3a17dd(0x5ec)]('Error\x20loading\x20user\x20preferences:',_0x154128),{};}}function showPodiumView(_0x57e6cb){const _0x45e975=_0x50f1a4,_0x1bc407=Object[_0x45e975(0x5f1)](_0x57e6cb)[_0x45e975(0x27d)](([_0x21e1fd,_0xbca502])=>({'name':_0x21e1fd,'score':_0xbca502[_0x45e975(0x105)]||0x0,'badges':_0xbca502[_0x45e975(0x70a)]||[]}));_0x1bc407[_0x45e975(0x5ef)]((_0xaeae23,_0x5abd6e)=>{const _0x37de08=_0x45e975,_0x30b74b=_0x5abd6e[_0x37de08(0x105)]-_0xaeae23['score'];if(_0x30b74b!==0x0)return _0x30b74b;return(_0x5abd6e[_0x37de08(0x70a)][_0x37de08(0x43f)]||0x0)-(_0xaeae23[_0x37de08(0x70a)][_0x37de08(0x43f)]||0x0);});const _0x2779e4=_0x206b59=>{const _0x4b4977=_0x45e975;if(!_0x206b59||_0x206b59[_0x4b4977(0x43f)]===0x0)return'';const _0x3a50f0={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x4b4977(0x50e)+_0x206b59[_0x4b4977(0x27d)](_0x18a5ef=>_0x3a50f0[_0x18a5ef]||'')[_0x4b4977(0x211)]('')+'</div>';},_0x3b3066=_0x1bc407[_0x45e975(0x375)](0x3),_0x17b71f=_0x3b3066[_0x45e975(0x43f)]>0x0?_0x45e975(0x6b9)+_0x3b3066['map']((_0x2d556f,_0x72dac3)=>_0x45e975(0x4bb)+(_0x72dac3+0x4)+_0x45e975(0x77f)+_0x2d556f[_0x45e975(0x250)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x2d556f[_0x45e975(0x105)]+_0x45e975(0x450))[_0x45e975(0x211)]('')+_0x45e975(0x545):'',_0x20ad06=_0x45e975(0x335)+(_0x1bc407[0x1]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x1bc407[0x1][_0x45e975(0x250)]+_0x45e975(0x414)+_0x2779e4(_0x1bc407[0x1][_0x45e975(0x70a)])+_0x45e975(0x19e)+_0x1bc407[0x1][_0x45e975(0x105)]+_0x45e975(0x689):_0x45e975(0x4e2))+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1bc407[0x0]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x1bc407[0x0][_0x45e975(0x250)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2779e4(_0x1bc407[0x0][_0x45e975(0x70a)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>'+_0x1bc407[0x0][_0x45e975(0x105)]+_0x45e975(0x691):_0x45e975(0x4e2))+_0x45e975(0x409)+(_0x1bc407[0x2]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x1bc407[0x2]['name']+_0x45e975(0x414)+_0x2779e4(_0x1bc407[0x2]['badges'])+_0x45e975(0x19e)+_0x1bc407[0x2][_0x45e975(0x105)]+_0x45e975(0x4cb):_0x45e975(0x4e2))+_0x45e975(0x20c)+_0x17b71f+_0x45e975(0x3ad)+(currentMode===_0x45e975(0x5be)?_0x45e975(0x1b2):_0x45e975(0x428))+_0x45e975(0x739);liveGameView[_0x45e975(0x535)]=_0x20ad06,currentMode===_0x45e975(0x5be)&&document[_0x45e975(0x1f4)](_0x45e975(0x812))['addEventListener'](_0x45e975(0x2d7),async()=>{const _0x1a418b=_0x45e975,_0x370931=doc(db,_0x1a418b(0x385)+appId+_0x1a418b(0x6d2),currentLiveGameId);await deleteDoc(_0x370931),showView('admin-dashboard');});}async function handleStartLiveRace(_0x2617fc){const _0x1af430=_0x50f1a4;let _0x513b3c=allQuizzes[_0x1af430(0x700)](_0x3732d8=>_0x3732d8['id']===_0x2617fc);if(!_0x513b3c){const _0x2b28e7=doc(db,'artifacts/'+appId+_0x1af430(0x4bf),_0x2617fc),_0x58bcfb=await getDoc(_0x2b28e7);if(!_0x58bcfb[_0x1af430(0x5b8)]()){showMessage(_0x1af430(0xdc));return;}_0x513b3c={'id':_0x58bcfb['id'],..._0x58bcfb[_0x1af430(0x3db)]()};}const _0xa3795e=getShuffledQuiz(_0x513b3c);currentQuizData=_0xa3795e;const _0x5085a5=_0x513b3c[_0x1af430(0x713)]||currentProjectId||null,_0x702f95=Math[_0x1af430(0x136)](0xa+Math[_0x1af430(0x36e)]()*0x5a)[_0x1af430(0x215)]();currentLiveGamePin=_0x702f95;try{const _0x427ab6=await addDoc(collection(db,_0x1af430(0x385)+appId+'/public/data/liveGames'),{'quizId':_0x2617fc,'projectId':_0x5085a5,'status':_0x1af430(0x118),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x702f95,'createdAt':serverTimestamp(),'shuffledQuiz':_0xa3795e});currentLiveGameId=_0x427ab6['id'],showAdminLobbyView(_0x702f95,_0x513b3c['topic']),listenForLiveGameUpdates();}catch(_0x56389e){console[_0x1af430(0x5ec)](_0x1af430(0x695),_0x56389e),showMessage(_0x1af430(0x5a9));}}async function handleShowStudentRankings(){const _0x42b08e=_0x50f1a4,_0x188c35=document[_0x42b08e(0x76d)]('#student-quiz-leaderboard-content\x20thead');_0x188c35&&(_0x188c35[_0x42b08e(0x535)]=_0x42b08e(0xd3));const _0xfd4f6c=document['querySelector'](_0x42b08e(0xbc));_0xfd4f6c&&(_0xfd4f6c[_0x42b08e(0x535)]=_0x42b08e(0x7ed));const _0x1c98ba=document[_0x42b08e(0x1f4)](_0x42b08e(0x6f7));_0x1c98ba[_0x42b08e(0x87b)][_0x42b08e(0x8e)](_0x42b08e(0x727)),document[_0x42b08e(0x1f4)]('close-student-rankings-btn')[_0x42b08e(0x70b)]=()=>_0x1c98ba[_0x42b08e(0x87b)]['add']('hidden');const _0x2d653e=document['getElementById'](_0x42b08e(0x5cb)),_0x18a330=document[_0x42b08e(0x1f4)](_0x42b08e(0x135)),_0x4e67a3=document['getElementById']('student-quiz-leaderboard-content'),_0x52597d=document[_0x42b08e(0x1f4)]('student-project-leaderboard-content');_0x2d653e['onclick']=()=>{const _0xedecb5=_0x42b08e;_0x2d653e[_0xedecb5(0x87b)][_0xedecb5(0x6aa)](_0xedecb5(0x732)),_0x18a330[_0xedecb5(0x87b)][_0xedecb5(0x8e)](_0xedecb5(0x732)),_0x4e67a3['classList']['remove']('hidden'),_0x52597d[_0xedecb5(0x87b)][_0xedecb5(0x6aa)](_0xedecb5(0x727));},_0x18a330[_0x42b08e(0x70b)]=()=>{const _0x41113b=_0x42b08e;_0x18a330[_0x41113b(0x87b)][_0x41113b(0x6aa)](_0x41113b(0x732)),_0x2d653e['classList']['remove'](_0x41113b(0x732)),_0x52597d[_0x41113b(0x87b)][_0x41113b(0x8e)](_0x41113b(0x727)),_0x4e67a3[_0x41113b(0x87b)][_0x41113b(0x6aa)](_0x41113b(0x727));};try{const _0x258481=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions'),_0x138787=await getDocs(_0x258481),_0x279111=_0x138787[_0x42b08e(0x3b3)]['map'](_0x2b2766=>_0x2b2766[_0x42b08e(0x3db)]());renderQuizLeaderboard(_0x279111,currentQuizData,_0x42b08e(0x622));const _0x5aab64=collection(db,'artifacts/'+appId+_0x42b08e(0x699)+currentQuizData[_0x42b08e(0x713)]+'/studentProfiles'),_0x237149=await getDocs(_0x5aab64),_0x3b34fc=_0x237149[_0x42b08e(0x3b3)][_0x42b08e(0x27d)](_0x2c52c2=>_0x2c52c2[_0x42b08e(0x3db)]());renderLeaderboard(_0x3b34fc,_0x42b08e(0xe9));}catch(_0x5c08c0){console['error'](_0x42b08e(0x2b2),_0x5c08c0),showMessage(_0x42b08e(0x8b2));}}async function handleSaveToBank(_0x5b0ef3){const _0x21e732=_0x50f1a4,_0x3ddc81=_0x5b0ef3[_0x21e732(0x87a)],_0x203c21=_0x3ddc81['dataset'][_0x21e732(0x49b)],_0x4987c3=currentQuizData[_0x21e732(0x393)][_0x203c21];if(!userId){showMessage(_0x21e732(0x53c));return;}try{const _0x2630f6={..._0x4987c3,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x58b7a6=collection(db,_0x21e732(0x385)+appId+_0x21e732(0x452)+userId+_0x21e732(0x714));await addDoc(_0x58b7a6,_0x2630f6),showMessage(_0x21e732(0x30c)),_0x3ddc81[_0x21e732(0x87b)]['remove']('text-purple-600'),_0x3ddc81['classList'][_0x21e732(0x6aa)](_0x21e732(0x5a6)),_0x3ddc81[_0x21e732(0x891)]=!![];}catch(_0x782bf2){console[_0x21e732(0x5ec)]('Error\x20saving\x20to\x20question\x20bank:',_0x782bf2),showMessage(_0x21e732(0x172));}}function listenForStarredQuizzes(){const _0x13946b=_0x50f1a4;if(!userId)return;const _0xc150cd=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x497629=query(_0xc150cd,where(_0x13946b(0xca),'==',!![]));onSnapshot(_0x497629,_0x9b5c68=>{const _0x5305a7=_0x13946b;starredQuizzes=_0x9b5c68[_0x5305a7(0x3b3)]['map'](_0x520553=>({'id':_0x520553['id'],..._0x520553[_0x5305a7(0x3db)]()})),currentProjectId===_0x5305a7(0x2df)?renderQuizzes():renderProjects();},_0x35b6de=>{const _0xe28c99=_0x13946b;console[_0xe28c99(0x5ec)](_0xe28c99(0x740),_0x35b6de);});}function exportQuizAsWorksheetPDF(){const _0x1fe64a=_0x50f1a4;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x1fe64a(0x3a0));return;}const _0xc74049=currentQuizData,_0x155afd=window[_0x1fe64a(0x64a)]('','_blank'),_0x183370=_0x47dd48=>String['fromCharCode'](0x41+_0x47dd48),_0x514091=_0x1fe64a(0x378)+_0xc74049[_0x1fe64a(0x2c9)]+_0x1fe64a(0x7bb)+_0xc74049[_0x1fe64a(0x2c9)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc74049[_0x1fe64a(0x393)][_0x1fe64a(0x27d)]((_0x350d1a,_0x15a4f9)=>{const _0x13e564=_0x1fe64a;let _0x4e992e='';const _0xe44fd7=_0x350d1a['questionType']||_0xc74049[_0x13e564(0x272)];switch(_0xe44fd7){case _0x13e564(0x657):case _0x13e564(0x3a7):_0x4e992e=_0x13e564(0x779)+_0x350d1a[_0x13e564(0x4a1)][_0x13e564(0x27d)]((_0x13d396,_0xbc112c)=>_0x13e564(0x78a)+_0x183370(_0xbc112c)+'.\x20'+_0x13d396+_0x13e564(0x325))[_0x13e564(0x211)](_0x13e564(0x190))+'</div>';break;case _0x13e564(0x340):_0x4e992e=_0x13e564(0xff);break;default:_0x4e992e=_0x13e564(0x1de);break;}return _0x13e564(0x517)+(_0x15a4f9+0x1)+_0x13e564(0x422)+(_0x350d1a['stem']||_0x350d1a[_0x13e564(0x598)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x350d1a[_0x13e564(0x2f8)]?_0x13e564(0x83a)+_0x350d1a[_0x13e564(0x2f8)]+_0x13e564(0x235):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e992e+_0x13e564(0x7e1);})[_0x1fe64a(0x211)]('')+_0x1fe64a(0x507);_0x155afd['document'][_0x1fe64a(0x30b)](_0x514091),_0x155afd[_0x1fe64a(0x74c)][_0x1fe64a(0x13a)](),_0x155afd[_0x1fe64a(0x26f)]=function(){setTimeout(()=>{const _0xf5544e=_0x2cea;_0x155afd[_0xf5544e(0x54b)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x35cc32=_0x50f1a4;if(!currentQuizData||!currentQuizData[_0x35cc32(0x393)]){showMessage(_0x35cc32(0x3a0));return;}const _0x4fca8f=currentQuizData,_0x5247ee=window[_0x35cc32(0x64a)]('',_0x35cc32(0x656)),_0x58799f=_0xe87ada=>String[_0x35cc32(0x219)](0x41+_0xe87ada),_0x220078='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x4fca8f[_0x35cc32(0x2c9)]+_0x35cc32(0x164)+_0x4fca8f[_0x35cc32(0x393)][_0x35cc32(0x27d)]((_0x533499,_0x4c8841)=>{const _0xb994d2=_0x35cc32;let _0x4b5af7='';const _0x925353=_0x533499[_0xb994d2(0x84e)]||_0x4fca8f[_0xb994d2(0x272)];switch(_0x925353){case _0xb994d2(0x657):case'fill_in_with_choices':_0x4b5af7='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x533499['options'][_0xb994d2(0x27d)]((_0x212bf7,_0x2df728)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x58799f(_0x2df728)+'.\x20'+_0x212bf7+'</span>')[_0xb994d2(0x211)]('<br>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0xb994d2(0x340):_0x4b5af7='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x4b5af7='';break;}return _0xb994d2(0x8b7)+_0x4fca8f['topic']+_0xb994d2(0x3b0)+(_0x4c8841+0x1)+_0xb994d2(0x752)+(_0x533499['stem']||_0x533499[_0xb994d2(0x598)])+_0xb994d2(0xe6)+(_0x533499['imageCode']?_0xb994d2(0x76c)+_0x533499[_0xb994d2(0x2f8)]+_0xb994d2(0x235):'')+_0xb994d2(0x6d4)+_0x4b5af7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5247ee[_0x35cc32(0x74c)][_0x35cc32(0x30b)](_0x220078),_0x5247ee[_0x35cc32(0x74c)]['close'](),_0x5247ee[_0x35cc32(0x26f)]=function(){setTimeout(()=>{const _0x598148=_0x2cea;_0x5247ee[_0x598148(0x54b)]();},0x5dc);};}async function handleToggleStarQuiz(_0x219767){const _0x4ee1c7=_0x50f1a4,_0x30f274=doc(db,_0x4ee1c7(0x385)+appId+_0x4ee1c7(0x4bf),_0x219767);try{const _0x26d14d=await getDoc(_0x30f274);if(_0x26d14d[_0x4ee1c7(0x5b8)]()){const _0x24414f=_0x26d14d[_0x4ee1c7(0x3db)]()['isStarred']||![];await updateDoc(_0x30f274,{'isStarred':!_0x24414f});}}catch(_0xb1d2c9){console[_0x4ee1c7(0x5ec)]('Error\x20toggling\x20star\x20status:',_0xb1d2c9),showMessage(_0x4ee1c7(0xf1));}}async function displayQuestionBank(){const _0x6c0da1=_0x50f1a4,_0x146542=document['getElementById'](_0x6c0da1(0x36f));_0x146542[_0x6c0da1(0x535)]=_0x6c0da1(0x98);try{const _0x1923be=collection(db,_0x6c0da1(0x385)+appId+_0x6c0da1(0x452)+userId+'/questionBank'),_0x47e770=query(_0x1923be),_0x1afe1a=await getDocs(_0x47e770);if(_0x1afe1a['empty']){_0x146542['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x383009=_0x1afe1a['docs'][_0x6c0da1(0x27d)](_0x43a8ce=>{const _0x57b29d=_0x6c0da1,_0x1e7c3e=_0x43a8ce[_0x57b29d(0x3db)](),_0x365d23=_0x43a8ce['id'];return _0x57b29d(0x560)+JSON['stringify'](_0x1e7c3e)+_0x57b29d(0x32c)+(_0x1e7c3e[_0x57b29d(0x598)]||_0x1e7c3e[_0x57b29d(0x63e)])+_0x57b29d(0x528)+_0x1e7c3e['originalTopic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x6c0da1(0x211)]('');_0x146542[_0x6c0da1(0x535)]=_0x6c0da1(0x692)+_0x383009+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x6c0da1(0x1f4)]('create-from-bank-btn')['addEventListener'](_0x6c0da1(0x2d7),createQuizFromBank);}catch(_0x1f4d2c){console[_0x6c0da1(0x5ec)](_0x6c0da1(0x40b),_0x1f4d2c),_0x146542[_0x6c0da1(0x535)]=_0x6c0da1(0x57f);}}function showAdminLiveQuestionView(_0x1949da,_0x2b70a7,_0x3e1cb2){const _0x30d5d3=_0x50f1a4,_0x4b61d3=_0x1949da[_0x30d5d3(0x84e)]||currentQuizData['quizType'];let _0x43691b='';if(_0x4b61d3===_0x30d5d3(0x657)||_0x4b61d3===_0x30d5d3(0x340)){const _0x9e9cfe=_0x4b61d3===_0x30d5d3(0x340)?[_0x30d5d3(0x465),_0x30d5d3(0x6da)]:_0x1949da[_0x30d5d3(0x4a1)],_0x554eea=_0x4b61d3==='true_false'?_0x1949da[_0x30d5d3(0x56b)]?0x0:0x1:_0x1949da[_0x30d5d3(0x7b0)];_0x43691b=_0x9e9cfe[_0x30d5d3(0x27d)]((_0x25f166,_0x1e38d3)=>_0x30d5d3(0xf4)+(_0x1e38d3===_0x554eea)+_0x30d5d3(0x119)+_0x25f166+_0x30d5d3(0x634))[_0x30d5d3(0x211)]('');}else{if(_0x4b61d3===_0x30d5d3(0xcf)){const _0x3b9abd=_0x1949da[_0x30d5d3(0x603)]||[];_0x43691b=_0x3b9abd[_0x30d5d3(0x27d)](_0x4cf446=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x4cf446===_0x1949da[_0x30d5d3(0x6af)])+_0x30d5d3(0x119)+_0x4cf446+_0x30d5d3(0x634))[_0x30d5d3(0x211)]('');}}const _0x54bd3a=_0x1949da[_0x30d5d3(0x63e)]||_0x1949da['questionText'],_0x2f57dd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x2b70a7+0x1)+'\x20/\x20'+_0x3e1cb2+_0x30d5d3(0x542)+currentLiveGamePin+_0x30d5d3(0x1e9)+_0x54bd3a+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x43691b+_0x30d5d3(0x8aa);liveGameView[_0x30d5d3(0x535)]=_0x2f57dd,window['MathJax']&&MathJax[_0x30d5d3(0x703)]&&MathJax[_0x30d5d3(0x703)]([liveGameView]),document[_0x30d5d3(0x1f4)]('reveal-answer-btn')['addEventListener'](_0x30d5d3(0x2d7),()=>revealAnswerForAdmin(_0x2b70a7,_0x3e1cb2)),document[_0x30d5d3(0x1f4)](_0x30d5d3(0x66c))[_0x30d5d3(0x8c0)]('click',async()=>{const _0x2da8e9=_0x30d5d3;showConfirmation(_0x2da8e9(0x65d),async()=>{const _0x1d17a6=_0x2da8e9,_0xb0ef39=doc(db,_0x1d17a6(0x385)+appId+_0x1d17a6(0x6d2),currentLiveGameId);await updateDoc(_0xb0ef39,{'status':_0x1d17a6(0x7c8)});});}),document['getElementById'](_0x30d5d3(0x5b5))[_0x30d5d3(0x8c0)](_0x30d5d3(0x2d7),()=>{const _0x143ca7=_0x30d5d3;document[_0x143ca7(0x1f4)](_0x143ca7(0x2e8))[_0x143ca7(0x87b)]['toggle'](_0x143ca7(0x727));});}function showStudentLiveQuestionView(_0x501056,_0x2337f9,_0x5ebd71){const _0x2dfcec=_0x50f1a4,_0x1dd5ab=_0x501056[_0x2dfcec(0x84e)]||currentQuizData[_0x2dfcec(0x272)];let _0x23efa6='';if(_0x1dd5ab===_0x2dfcec(0x657)||_0x1dd5ab===_0x2dfcec(0x340)){const _0x26293c=_0x1dd5ab===_0x2dfcec(0x340)?[_0x2dfcec(0x465),'ไม่ใช่']:_0x501056[_0x2dfcec(0x4a1)];_0x23efa6=_0x26293c[_0x2dfcec(0x27d)]((_0xb86c85,_0x51eea1)=>_0x2dfcec(0x635)+_0x51eea1+_0x2dfcec(0x558)+_0xb86c85+_0x2dfcec(0x200))[_0x2dfcec(0x211)]('');}else{if(_0x1dd5ab===_0x2dfcec(0xcf)){const _0x2eeb9b=_0x501056['allResponses']||[];_0x23efa6=_0x2eeb9b['map']((_0x35ca5c,_0x2e6013)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2e6013+_0x2dfcec(0x558)+_0x35ca5c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else _0x1dd5ab===_0x2dfcec(0x65e)&&(_0x23efa6=_0x2dfcec(0x220));}const _0x39d84e=_0x501056[_0x2dfcec(0x63e)]||_0x501056['questionText'],_0x459ba5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x2337f9+0x1)+_0x2dfcec(0x57c)+_0x5ebd71+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x39d84e+_0x2dfcec(0x38d)+_0x23efa6+_0x2dfcec(0x50a);liveGameView['innerHTML']=_0x459ba5;window[_0x2dfcec(0x7c0)]&&MathJax['typesetPromise']&&MathJax[_0x2dfcec(0x703)]([liveGameView]);const _0x33216f=document['getElementById'](_0x2dfcec(0x193));_0x33216f&&_0x33216f[_0x2dfcec(0x8c0)](_0x2dfcec(0x2d7),()=>{const _0x499400=_0x2dfcec,_0x3f9b72=document[_0x499400(0x1f4)](_0x499400(0x5af))[_0x499400(0x5cf)];handleLiveAnswer(_0x3f9b72,_0x501056);}),document[_0x2dfcec(0x1f4)](_0x2dfcec(0x504))[_0x2dfcec(0x8c0)](_0x2dfcec(0x2d7),_0x4deed9=>{const _0x5620ae=_0x2dfcec,_0x5a6abf=_0x4deed9[_0x5620ae(0x823)][_0x5620ae(0x88)]('.live-answer-btn');if(_0x5a6abf){const _0x47ace7=parseInt(_0x5a6abf[_0x5620ae(0x873)][_0x5620ae(0x49b)]);handleLiveAnswer(_0x47ace7,_0x501056);}});}async function handleLiveAnswer(_0x11e50f,_0x4ef797){const _0x380c96=_0x50f1a4;document[_0x380c96(0x15d)]('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x380c96(0x887)](_0x4dab92=>_0x4dab92['disabled']=!![]);const _0x5cbaa6=_0x4ef797[_0x380c96(0x84e)]||currentQuizData[_0x380c96(0x272)];let _0x1700a3=![],_0x269651=_0x11e50f;if(_0x5cbaa6===_0x380c96(0x65e)){const _0x38e291=(_0x11e50f||'')[_0x380c96(0x215)]();_0x1700a3=await gradeShortAnswer(_0x38e291,_0x4ef797);}else{if(_0x5cbaa6===_0x380c96(0x657))_0x1700a3=_0x11e50f===_0x4ef797[_0x380c96(0x7b0)];else{if(_0x5cbaa6===_0x380c96(0x340)){const _0x2445e9=_0x4ef797[_0x380c96(0x56b)];_0x1700a3=_0x11e50f===0x0&&_0x2445e9||_0x11e50f===0x1&&!_0x2445e9;}else{if(_0x5cbaa6===_0x380c96(0xcf)){const _0x5b95c7=_0x4ef797[_0x380c96(0x603)][_0x11e50f];_0x1700a3=_0x5b95c7===_0x4ef797[_0x380c96(0x6af)],_0x269651=_0x5b95c7;}}}}const _0x296209=doc(db,_0x380c96(0x385)+appId+_0x380c96(0x6d2),currentLiveGameId),_0x4ad89c={};_0x4ad89c[_0x380c96(0x863)+currentStudentName+_0x380c96(0x26e)]=!![],_0x4ad89c['players.'+currentStudentName+_0x380c96(0x27a)]=_0x1700a3,_0x4ad89c['players.'+currentStudentName+'.lastAnswerIndex']=_0x5cbaa6==='short_answer'||_0x5cbaa6===_0x380c96(0xcf)?null:_0x11e50f,_0x4ad89c['players.'+currentStudentName+_0x380c96(0x3d3)]=_0x269651,_0x4ad89c[_0x380c96(0x863)+currentStudentName+_0x380c96(0x1c6)]=serverTimestamp(),_0x4ad89c[_0x380c96(0x863)+currentStudentName+_0x380c96(0x12a)]=![],await updateDoc(_0x296209,_0x4ad89c),liveGameView[_0x380c96(0x535)]=_0x380c96(0x321);}function showAdminSummaryView(_0x10934d,_0x410b65){const _0x27c7ad=_0x50f1a4,_0x18f2b0=Object[_0x27c7ad(0x83f)](_0x10934d[_0x27c7ad(0x592)]||{}),_0x215093=_0x410b65['questionType']||currentQuizData[_0x27c7ad(0x272)],_0x43f03d=_0x215093===_0x27c7ad(0x340)?[_0x27c7ad(0x465),_0x27c7ad(0x6da)]:_0x410b65[_0x27c7ad(0x4a1)]||_0x410b65[_0x27c7ad(0x603)]||[],_0x4d89ed={},_0x243baa=new Array(_0x43f03d[_0x27c7ad(0x43f)])[_0x27c7ad(0x73e)](0x0);_0x43f03d[_0x27c7ad(0x887)]((_0x3581b6,_0xb9c823)=>{_0x4d89ed[_0xb9c823]=[];}),Object[_0x27c7ad(0x5f1)](_0x10934d['players']||{})[_0x27c7ad(0x887)](([_0x364ff5,_0xa8facb])=>{const _0x46f348=_0x27c7ad;if(_0xa8facb[_0x46f348(0x1a0)]===_0x46f348(0x732)&&_0xa8facb[_0x46f348(0x73f)]!==undefined){const _0x819ca2=_0xa8facb[_0x46f348(0x73f)];_0x4d89ed[_0x819ca2]&&(_0x4d89ed[_0x819ca2]['push'](_0x364ff5),_0x243baa[_0x819ca2]++);}});const _0x2227b5=Math[_0x27c7ad(0x5bd)](..._0x243baa,0x1),_0x2829f4=_0x27c7ad(0x2a6)+(_0x410b65[_0x27c7ad(0x63e)]||_0x410b65[_0x27c7ad(0x598)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x243baa[_0x27c7ad(0x27d)]((_0x24db2e,_0x798916)=>{const _0x390b0f=_0x27c7ad,_0xe61a06=_0x4d89ed[_0x798916]['length']>0x0?_0x4d89ed[_0x798916][_0x390b0f(0x211)](',\x20'):_0x390b0f(0x49c);let _0x59205a=![];if(_0x215093===_0x390b0f(0x657))_0x59205a=_0x798916===_0x410b65['correctAnswerIndex'];else{if(_0x215093===_0x390b0f(0x340)){const _0x477c9f=_0x410b65[_0x390b0f(0x56b)];_0x59205a=_0x477c9f&&_0x798916===0x0||!_0x477c9f&&_0x798916===0x1;}else _0x215093===_0x390b0f(0xcf)&&(_0x59205a=_0x43f03d[_0x798916]===_0x410b65['correctResponse']);}const _0x309f67=_0x59205a?'#26890c':_0x390b0f(0x4ef);return _0x390b0f(0x1b6)+_0x24db2e+_0x390b0f(0x71d)+_0x309f67+_0x390b0f(0x293)+_0x798916+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x43f03d[_0x798916]+_0x390b0f(0x8b4)+_0x798916+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xe61a06+_0x390b0f(0x17a);})['join']('')+_0x27c7ad(0x79c);liveGameView[_0x27c7ad(0x535)]=_0x2829f4;if(window[_0x27c7ad(0x7c0)])MathJax[_0x27c7ad(0x703)]();document[_0x27c7ad(0x1f4)](_0x27c7ad(0x501))[_0x27c7ad(0x8c0)](_0x27c7ad(0x2d7),async()=>{const _0x3841a7=_0x27c7ad,_0x1070df=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x1070df,{'questionStatus':_0x3841a7(0x3ac)});}),document[_0x27c7ad(0x1f4)](_0x27c7ad(0x554))[_0x27c7ad(0x8c0)](_0x27c7ad(0x2d7),()=>{openScratchpad(_0x410b65,_0x43f03d);});}function showPlayerSummaryView(_0x27c5e8,_0x448deb){const _0x4c5f04=_0x50f1a4,_0x10ece6=Object[_0x4c5f04(0x83f)](_0x27c5e8[_0x4c5f04(0x592)]||{}),_0x3053bb=_0x27c5e8[_0x4c5f04(0x592)][_0x448deb],_0xd15d94=_0x10ece6[_0x4c5f04(0x4d9)](_0x21cc28=>_0x21cc28[_0x4c5f04(0x1a0)]===_0x4c5f04(0x732))[_0x4c5f04(0x5ef)]((_0x53530d,_0x571b4c)=>_0x571b4c[_0x4c5f04(0x105)]-_0x53530d[_0x4c5f04(0x105)]),_0x545cb8=_0xd15d94[_0x4c5f04(0x53f)](_0x3e81de=>_0x3e81de===_0x3053bb)+0x1,_0x20570a=_0x3053bb['lastAnswerCorrect']?_0x4c5f04(0x175):_0x4c5f04(0x719),_0x23d878=_0x3053bb[_0x4c5f04(0x2ea)]?'bg-green-500':_0x4c5f04(0xfe),_0x508c3e=_0x3053bb[_0x4c5f04(0x6a5)]||0x0,_0x524200='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x4c7ac9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x524200+_0x4c5f04(0x148)+_0x23d878+_0x4c5f04(0x7ca)+_0x20570a+_0x4c5f04(0x3df)+_0x508c3e+_0x4c5f04(0x47e)+(_0x545cb8>0x0?_0x545cb8:'-')+_0x4c5f04(0x552);liveGameView[_0x4c5f04(0x535)]=_0x4c7ac9;}function createQuizFromBank(){const _0x1bf716=_0x50f1a4,_0x327746=document[_0x1bf716(0x15d)](_0x1bf716(0x1e6));if(_0x327746[_0x1bf716(0x43f)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x36c018=[];_0x327746[_0x1bf716(0x887)](_0x34babb=>{const _0x2daeb6=_0x1bf716;_0x36c018[_0x2daeb6(0x8b6)](JSON['parse'](_0x34babb[_0x2daeb6(0x5cf)]));});const _0x2149b2={'topic':_0x1bf716(0x4ba),'questions':_0x36c018};displayGeneratedQuiz(_0x2149b2);}function showAdminLobbyView(_0x252e42,_0x2c48b6){const _0x94f06c=_0x50f1a4;showView(_0x94f06c(0x216));const _0x4d9eda=_0x94f06c(0x64e)+_0x2c48b6+_0x94f06c(0x34f)+_0x252e42+_0x94f06c(0x207);liveGameView[_0x94f06c(0x535)]=_0x4d9eda,document[_0x94f06c(0x1f4)](_0x94f06c(0x646))[_0x94f06c(0x8c0)](_0x94f06c(0x2d7),async()=>{const _0x3e9bd1=_0x94f06c;if(!currentQuizData||!currentQuizData[_0x3e9bd1(0x393)]||currentQuizData['questions'][_0x3e9bd1(0x43f)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x53b831=doc(db,_0x3e9bd1(0x385)+appId+_0x3e9bd1(0x6d2),currentLiveGameId);await updateDoc(_0x53b831,{'status':_0x3e9bd1(0x826),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x6e2ad4=currentQuizData[_0x3e9bd1(0x393)][0x0],_0x1911a4=currentQuizData['questions'][_0x3e9bd1(0x43f)];showAdminLiveQuestionView(_0x6e2ad4,0x0,_0x1911a4);}catch(_0x72072){console[_0x3e9bd1(0x5ec)](_0x3e9bd1(0x96),_0x72072),showMessage(_0x3e9bd1(0x819));}});}async function openGlobalLiveModal(){const _0x382dc8=_0x50f1a4;if(allQuizzesGlobal[_0x382dc8(0x43f)]===0x0){const _0x13a767=await getDocs(collection(db,_0x382dc8(0x385)+appId+_0x382dc8(0x4bf)));allQuizzesGlobal=_0x13a767[_0x382dc8(0x3b3)][_0x382dc8(0x27d)](_0xb454eb=>({'id':_0xb454eb['id'],..._0xb454eb['data']()}));}renderGlobalQuizList(''),document[_0x382dc8(0x1f4)](_0x382dc8(0x834))['classList'][_0x382dc8(0x8e)](_0x382dc8(0x727));}async function openQuizBankModal(){const _0x58875f=_0x50f1a4;if(allQuizzesGlobal[_0x58875f(0x43f)]===0x0){const _0xd28b90=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0xd28b90[_0x58875f(0x3b3)][_0x58875f(0x27d)](_0x2796cd=>({'id':_0x2796cd['id'],..._0x2796cd[_0x58875f(0x3db)]()}));}renderQuizBankList(''),document[_0x58875f(0x1f4)](_0x58875f(0x2c0))[_0x58875f(0x87b)][_0x58875f(0x8e)](_0x58875f(0x727));}function renderQuizBankList(_0x4ece0b=''){const _0x1fd4f8=_0x50f1a4,_0x41062c=document['getElementById']('bank-quiz-list'),_0x37c1e7=_0x4ece0b[_0x1fd4f8(0x476)]()['trim'](),_0x52ed16=allQuizzesGlobal[_0x1fd4f8(0x27d)](_0x51be80=>({..._0x51be80,'projectName':allProjects[_0x1fd4f8(0x700)](_0x1e5a5a=>_0x1e5a5a['id']===_0x51be80[_0x1fd4f8(0x713)])?.[_0x1fd4f8(0x42b)]||_0x1fd4f8(0x44a)}))[_0x1fd4f8(0x4d9)](_0x4ac877=>(_0x4ac877[_0x1fd4f8(0x2c9)]||'')[_0x1fd4f8(0x476)]()['includes'](_0x37c1e7)||(_0x4ac877['projectName']||'')[_0x1fd4f8(0x476)]()[_0x1fd4f8(0x4c3)](_0x37c1e7)||_0x4ac877['id'][_0x1fd4f8(0x215)]()[_0x1fd4f8(0x4c3)](_0x37c1e7));document['getElementById'](_0x1fd4f8(0x18e))['textContent']='('+_0x52ed16[_0x1fd4f8(0x43f)]+_0x1fd4f8(0x851),_0x41062c[_0x1fd4f8(0x535)]=_0x52ed16[_0x1fd4f8(0x43f)]?_0x52ed16[_0x1fd4f8(0x27d)](_0x3ed9c8=>_0x1fd4f8(0x570)+_0x3ed9c8['id']+_0x1fd4f8(0x25f)+(_0x3ed9c8['topic']||_0x1fd4f8(0x86))+_0x1fd4f8(0x48f)+(_0x3ed9c8[_0x1fd4f8(0x393)]?.[_0x1fd4f8(0x43f)]||0x0)+_0x1fd4f8(0x404)+_0x3ed9c8[_0x1fd4f8(0x42b)]+_0x1fd4f8(0x2d5)+_0x3ed9c8['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3ed9c8['id']+_0x1fd4f8(0x1aa)+_0x3ed9c8['id']+_0x1fd4f8(0x406)+_0x3ed9c8['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3ed9c8['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3ed9c8['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3ed9c8['id']+_0x1fd4f8(0x1be)+_0x3ed9c8[_0x1fd4f8(0x2c9)]+_0x1fd4f8(0x7bd))['join'](''):_0x1fd4f8(0x392),_0x41062c[_0x1fd4f8(0x15d)]('.quiz-bank-item')[_0x1fd4f8(0x887)](_0x491737=>{const _0x1f2e56=_0x1fd4f8;_0x491737[_0x1f2e56(0x8c0)](_0x1f2e56(0x2d7),()=>{const _0x4075d7=_0x1f2e56,_0xb1cd0e=_0x491737[_0x4075d7(0x873)]['id'];document[_0x4075d7(0x1f4)](_0x4075d7(0x2c0))[_0x4075d7(0x87b)][_0x4075d7(0x6aa)](_0x4075d7(0x727)),showQuizDetailView(_0xb1cd0e);});}),_0x41062c[_0x1fd4f8(0x15d)](_0x1fd4f8(0x532))[_0x1fd4f8(0x887)](_0x3f1f8e=>{const _0x4daaad=_0x1fd4f8;_0x3f1f8e[_0x4daaad(0x8c0)](_0x4daaad(0x2d7),_0x3370c6=>{const _0x4dd8d2=_0x4daaad;_0x3370c6['stopPropagation']();const _0x4472fd=_0x3f1f8e[_0x4dd8d2(0x873)]['id'],_0x58d752=allQuizzesGlobal['find'](_0x5b3689=>_0x5b3689['id']===_0x4472fd);_0x58d752?(currentQuizData=_0x58d752,document['getElementById'](_0x4dd8d2(0x2c0))['classList'][_0x4dd8d2(0x6aa)](_0x4dd8d2(0x727)),startAdminTest()):showMessage(_0x4dd8d2(0xdc));});}),_0x41062c[_0x1fd4f8(0x15d)](_0x1fd4f8(0x57e))[_0x1fd4f8(0x887)](_0x12902c=>{const _0x59b02d=_0x1fd4f8;_0x12902c['addEventListener'](_0x59b02d(0x2d7),_0x3fa62d=>{const _0x29b9b0=_0x59b02d;_0x3fa62d['stopPropagation']();const _0x3a7c76=_0x12902c[_0x29b9b0(0x873)]['id'],_0x513155=allQuizzesGlobal[_0x29b9b0(0x700)](_0x19ede6=>_0x19ede6['id']===_0x3a7c76);_0x513155?(document[_0x29b9b0(0x1f4)](_0x29b9b0(0x2c0))['classList'][_0x29b9b0(0x6aa)](_0x29b9b0(0x727)),handleGenerateParallelFromBank(_0x513155)):showMessage(_0x29b9b0(0xdc));});}),_0x41062c[_0x1fd4f8(0x15d)](_0x1fd4f8(0x79e))[_0x1fd4f8(0x887)](_0x1e100e=>{_0x1e100e['addEventListener']('click',_0xcf967=>{const _0x2198dd=_0x2cea;_0xcf967['stopPropagation']();const _0x67906=_0x1e100e[_0x2198dd(0x873)]['id'],_0x340015=allQuizzesGlobal[_0x2198dd(0x700)](_0x24ed55=>_0x24ed55['id']===_0x67906);_0x340015?(document[_0x2198dd(0x1f4)]('quiz-bank-modal')[_0x2198dd(0x87b)]['add'](_0x2198dd(0x727)),startPresentation(_0x340015)):showMessage(_0x2198dd(0xdc));});}),_0x41062c['querySelectorAll'](_0x1fd4f8(0x372))[_0x1fd4f8(0x887)](_0x39ce23=>{const _0x190538=_0x1fd4f8;_0x39ce23['addEventListener'](_0x190538(0x2d7),_0x11e472=>{const _0x177d5e=_0x190538;_0x11e472[_0x177d5e(0x702)]();const _0x3160c4=_0x39ce23[_0x177d5e(0x873)]['id'];document['getElementById']('quiz-bank-modal')[_0x177d5e(0x87b)][_0x177d5e(0x6aa)](_0x177d5e(0x727)),handleMoveQuiz(_0x3160c4);});}),_0x41062c[_0x1fd4f8(0x15d)](_0x1fd4f8(0x2c1))[_0x1fd4f8(0x887)](_0x5750e1=>{const _0xdd203d=_0x1fd4f8;_0x5750e1[_0xdd203d(0x8c0)](_0xdd203d(0x2d7),_0x9ffb0c=>{const _0x1f2812=_0xdd203d;_0x9ffb0c['stopPropagation']();const _0x5282b0=_0x5750e1[_0x1f2812(0x873)]['id'];document[_0x1f2812(0x1f4)](_0x1f2812(0x2c0))[_0x1f2812(0x87b)][_0x1f2812(0x6aa)]('hidden'),handleQuizSettings(_0x5282b0);});}),_0x41062c['querySelectorAll'](_0x1fd4f8(0x3a9))['forEach'](_0x5d8350=>{const _0x5595ce=_0x1fd4f8;_0x5d8350[_0x5595ce(0x8c0)]('click',_0x57f5e1=>{const _0x3f1bb9=_0x5595ce;_0x57f5e1[_0x3f1bb9(0x702)]();const _0x58ffc7=_0x5d8350[_0x3f1bb9(0x873)]['id'],_0x102e7b=_0x5d8350[_0x3f1bb9(0x873)]['topic'];showConfirmation(_0x3f1bb9(0x24f)+_0x102e7b+_0x3f1bb9(0x688),()=>handleDeleteQuiz(_0x58ffc7));});});}async function handleCompareResults(_0x45fab9,_0x210e03){const _0x2d10e5=_0x50f1a4,_0x24ba70=document[_0x2d10e5(0x1f4)](_0x2d10e5(0x2ca)),_0x40990f=document[_0x2d10e5(0x1f4)](_0x2d10e5(0x64d)),_0x5174da=document[_0x2d10e5(0x1f4)](_0x2d10e5(0x559));document['getElementById'](_0x2d10e5(0x609))[_0x2d10e5(0x87b)]['add']('active'),document[_0x2d10e5(0x1f4)](_0x2d10e5(0x737))['classList']['remove'](_0x2d10e5(0x732)),_0x40990f['classList'][_0x2d10e5(0x8e)](_0x2d10e5(0x727)),_0x5174da[_0x2d10e5(0x87b)][_0x2d10e5(0x6aa)](_0x2d10e5(0x727)),_0x40990f[_0x2d10e5(0x535)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x5174da[_0x2d10e5(0x535)]='',_0x24ba70[_0x2d10e5(0x87b)][_0x2d10e5(0x8e)]('hidden');try{const _0x5c0cd7=doc(db,_0x2d10e5(0x385)+appId+_0x2d10e5(0x4bf),_0x45fab9),_0x444798=await getDoc(_0x5c0cd7);if(!_0x444798[_0x2d10e5(0x5b8)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x179ab2=_0x444798['data'](),_0x1d18fd=_0x179ab2[_0x2d10e5(0x393)][_0x2d10e5(0x43f)],_0x2b49aa=collection(db,_0x2d10e5(0x385)+appId+_0x2d10e5(0x62f)+_0x210e03+_0x2d10e5(0x6fa)),_0x5d709c=collection(db,_0x2d10e5(0x385)+appId+_0x2d10e5(0x62f)+_0x45fab9+_0x2d10e5(0x6fa)),[_0x5211ee,_0x13c0a7]=await Promise[_0x2d10e5(0x75b)]([getDocs(_0x2b49aa),getDocs(_0x5d709c)]),_0x442480=_0x5211ee[_0x2d10e5(0x3b3)][_0x2d10e5(0x27d)](_0x248b29=>_0x248b29[_0x2d10e5(0x3db)]()),_0x5b6d47=_0x13c0a7['docs'][_0x2d10e5(0x27d)](_0x473209=>_0x473209['data']()),_0xdd7be7=_0x442480[_0x2d10e5(0x27d)](_0x555116=>_0x555116[_0x2d10e5(0x1cf)]),_0x4dd918=_0x5b6d47[_0x2d10e5(0x27d)](_0x14ff37=>_0x14ff37[_0x2d10e5(0x1cf)]),_0x37d3b6=calculateMeanAndStdDev(_0xdd7be7),_0x2b7715=calculateMeanAndStdDev(_0x4dd918),_0xdbb8ca=_0x37d3b6[_0x2d10e5(0x302)],_0x59d71e=_0x2b7715[_0x2d10e5(0x302)],_0x16cb3a=_0x59d71e-_0xdbb8ca;let _0x29e544=_0x2d10e5(0x35c)+_0xdbb8ca[_0x2d10e5(0x896)](0x2)+_0x2d10e5(0x747)+_0x59d71e[_0x2d10e5(0x896)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x16cb3a>=0x0?_0x2d10e5(0x10f):_0x2d10e5(0x3e2))+_0x2d10e5(0x7d1)+(_0x16cb3a>=0x0?_0x2d10e5(0x81e):_0x2d10e5(0x2bf))+_0x2d10e5(0x113)+(_0x16cb3a>=0x0?_0x2d10e5(0x74f):_0x2d10e5(0x261))+'\x22>'+(_0x16cb3a>=0x0?'+':'')+_0x16cb3a[_0x2d10e5(0x896)](0x2)+_0x2d10e5(0x2d6);_0x40990f[_0x2d10e5(0x535)]=_0x29e544;const _0x42b4cb=document['getElementById'](_0x2d10e5(0x91))[_0x2d10e5(0x844)]('2d');if(chartInstances[_0x2d10e5(0x725)])chartInstances[_0x2d10e5(0x725)][_0x2d10e5(0x168)]();chartInstances['comparison']=new Chart(_0x42b4cb,{'type':_0x2d10e5(0x1f2),'data':{'labels':[_0x2d10e5(0x89c)],'datasets':[{'label':_0x2d10e5(0x7ad),'data':[_0xdbb8ca],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x2d10e5(0x75d),'data':[_0x59d71e],'backgroundColor':_0x2d10e5(0x188)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x1d18fd}}}});const _0x45b12e=currentProjectData[_0x2d10e5(0x327)]||[],_0x5dc87e=_0x45b12e[_0x2d10e5(0x27d)](_0x29f47f=>{const _0x57321a=_0x2d10e5,_0x165233=_0x442480[_0x57321a(0x700)](_0x362d39=>_0x362d39[_0x57321a(0x2b1)]===_0x29f47f),_0x2a427c=_0x5b6d47[_0x57321a(0x700)](_0x484be1=>_0x484be1[_0x57321a(0x2b1)]===_0x29f47f),_0x8cecda=_0x165233?_0x165233['latestScore']:null,_0x13779d=_0x2a427c?_0x2a427c[_0x57321a(0x1cf)]:null,_0x428a9d=_0x8cecda!==null&&_0x13779d!==null?_0x13779d-_0x8cecda:null,_0x45dbea=_0x8cecda!==null?calculateZScore(_0x8cecda,_0x37d3b6[_0x57321a(0x302)],_0x37d3b6['stdDev']):null,_0x515031=_0x13779d!==null?calculateZScore(_0x13779d,_0x2b7715['mean'],_0x2b7715[_0x57321a(0x6f)]):null,_0x4b6fd8=_0x45dbea!==null?calculateTScore(_0x45dbea):null,_0x225711=_0x515031!==null?calculateTScore(_0x515031):null,_0x1a3760=_0x4b6fd8!==null&&_0x225711!==null?_0x225711-_0x4b6fd8:null;return{'name':_0x29f47f,'preScore':_0x8cecda,'postScore':_0x13779d,'gain':_0x428a9d,'preTScore':_0x4b6fd8,'postTScore':_0x225711,'tGain':_0x1a3760};});renderIndividualComparisonTable(_0x5dc87e,_0x5174da);}catch(_0xc51384){console[_0x2d10e5(0x5ec)](_0x2d10e5(0x636),_0xc51384),_0x40990f[_0x2d10e5(0x535)]=_0x2d10e5(0x1a9);}}function displayHalfMarkResult(_0x1fe699,_0x1c9755){const _0x5e6af2=_0x50f1a4,_0xed4ea4=_0x1fe699>=_0x1c9755/0x2,_0x142a70=_0xed4ea4?_0x5e6af2(0x579):_0x5e6af2(0x3e2),_0x242c9e=_0xed4ea4?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x5e6af2(0x8bd),_0x449d3e=_0xed4ea4?_0x5e6af2(0x6dc):_0x5e6af2(0x2bf),_0x451d11=_0xed4ea4?'ทำคะแนนได้เกินครึ่ง':_0x5e6af2(0x650),_0x5586e0=_0xed4ea4?_0x5e6af2(0x1bc):_0x5e6af2(0x358);let _0x27e7f9=_0x5e6af2(0x6b3)+_0x142a70+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x242c9e+_0x5e6af2(0x317)+_0x449d3e+'\x20mb-2\x22>'+_0x451d11+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x5586e0+_0x5e6af2(0x7fe);studentResultArea[_0x5e6af2(0x535)]=_0x27e7f9,studentResultArea['classList']['remove'](_0x5e6af2(0x727)),studentQuizArea['classList'][_0x5e6af2(0x6aa)](_0x5e6af2(0x727)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0xed4ea4});}function displayPerfectScoreResult(_0x2ed946,_0x451fd1){const _0x4418b0=_0x50f1a4,_0xc2d3b9=_0x2ed946===_0x451fd1,_0x286ac2=_0xc2d3b9?'bg-yellow-100':_0x4418b0(0x88f),_0x2134aa=_0xc2d3b9?_0x4418b0(0x600):_0x4418b0(0x3ff),_0xfb1107=_0xc2d3b9?_0x4418b0(0x704):'text-blue-800',_0x5d546c=_0xc2d3b9?_0x4418b0(0x512):_0x4418b0(0x3cc),_0x288bc6=_0xc2d3b9?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x4418b0(0x7df);let _0x280789=_0x4418b0(0x6b3)+_0x286ac2+_0x4418b0(0x7c5)+_0x2134aa+_0x4418b0(0x317)+_0xfb1107+'\x20mb-2\x22>'+_0x5d546c+_0x4418b0(0x736)+_0x288bc6+_0x4418b0(0x7fe);studentResultArea[_0x4418b0(0x535)]=_0x280789,studentResultArea['classList']['remove'](_0x4418b0(0x727)),studentQuizArea[_0x4418b0(0x87b)][_0x4418b0(0x6aa)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x2ed946,'totalQuestions':_0x451fd1});}function renderIndividualComparisonTable(_0x548843,_0x477343){const _0xe8d7bb=_0x50f1a4;_0x548843['sort']((_0x24afe6,_0x5a5b6f)=>(_0x5a5b6f[_0xe8d7bb(0x88b)]??-Infinity)-(_0x24afe6[_0xe8d7bb(0x88b)]??-Infinity));let _0x5a9f8b=_0xe8d7bb(0x2fa);_0x548843[_0xe8d7bb(0x43f)]===0x0?_0x5a9f8b+=_0xe8d7bb(0x199):_0x548843[_0xe8d7bb(0x887)]((_0x2c0580,_0x2bba9a)=>{const _0x1fde81=_0xe8d7bb;let _0x3d743f='-',_0x1ffe7b='';if(_0x2c0580['gain']!==null){const _0x5611f3=_0x2c0580['gain']>0x0?_0x1fde81(0x5a6):_0x2c0580['gain']<0x0?'text-red-600':_0x1fde81(0x11d),_0x3caac3=_0x2c0580['gain']>0x0?'+':'';_0x3d743f=_0x1fde81(0x14b)+_0x5611f3+'\x22>'+_0x3caac3+_0x2c0580['gain']+'</span>';if(_0x2c0580[_0x1fde81(0x673)]>0x0)_0x1ffe7b=_0x1fde81(0x85d);else _0x2c0580[_0x1fde81(0x673)]<0x0?_0x1ffe7b=_0x1fde81(0x24b):_0x1ffe7b=_0x1fde81(0x40e);}let _0x3da15f='-';if(_0x2c0580[_0x1fde81(0x88b)]!==null){const _0x36a38e=_0x2c0580[_0x1fde81(0x88b)]>0x0?_0x1fde81(0x5a6):_0x2c0580[_0x1fde81(0x88b)]<0x0?_0x1fde81(0xae):'text-gray-500',_0x4e0d40=_0x2c0580[_0x1fde81(0x88b)]>0x0?'+':'';_0x3da15f=_0x1fde81(0x14b)+_0x36a38e+'\x22>'+_0x4e0d40+_0x2c0580[_0x1fde81(0x88b)][_0x1fde81(0x896)](0x2)+_0x1fde81(0x24a);}_0x5a9f8b+=_0x1fde81(0x68f)+(_0x2bba9a+0x1)+_0x1fde81(0x466)+_0x2c0580[_0x1fde81(0x250)]+_0x1fde81(0x222)+(_0x2c0580[_0x1fde81(0x6d1)]??'-')+_0x1fde81(0x540)+(_0x2c0580[_0x1fde81(0x4e1)]??'-')+_0x1fde81(0x222)+_0x3d743f+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x1ffe7b+_0x1fde81(0x63a)+(_0x2c0580[_0x1fde81(0x5dd)]?.[_0x1fde81(0x896)](0x2)??'-')+_0x1fde81(0x2e6)+(_0x2c0580[_0x1fde81(0x6b1)]?.[_0x1fde81(0x896)](0x2)??'-')+_0x1fde81(0x222)+_0x3da15f+_0x1fde81(0x5b0);}),_0x5a9f8b+='</tbody></table></div>',_0x477343[_0xe8d7bb(0x535)]=_0x5a9f8b;}function handleRenameQuiz(_0xa4fa8a,_0x4bfc01){const _0x338956=_0x50f1a4;actionTargetId=_0xa4fa8a,document['getElementById']('rename-quiz-input')[_0x338956(0x5cf)]=_0x4bfc01,renameQuizModal[_0x338956(0x87b)][_0x338956(0x8e)](_0x338956(0x727));}function setupComparisonModalTabs(){const _0x1e6dc7=_0x50f1a4,_0x1ad6d6=document[_0x1e6dc7(0x1f4)](_0x1e6dc7(0x609)),_0x4e3f9c=document[_0x1e6dc7(0x1f4)]('comparison-individual-tab'),_0x25f3f7=document['getElementById'](_0x1e6dc7(0x64d)),_0x4244b4=document[_0x1e6dc7(0x1f4)](_0x1e6dc7(0x559));_0x1ad6d6[_0x1e6dc7(0x8c0)]('click',()=>{const _0x274b8c=_0x1e6dc7;_0x1ad6d6[_0x274b8c(0x87b)][_0x274b8c(0x6aa)]('active'),_0x4e3f9c[_0x274b8c(0x87b)][_0x274b8c(0x8e)](_0x274b8c(0x732)),_0x25f3f7[_0x274b8c(0x87b)][_0x274b8c(0x8e)]('hidden'),_0x4244b4[_0x274b8c(0x87b)][_0x274b8c(0x6aa)](_0x274b8c(0x727));}),_0x4e3f9c[_0x1e6dc7(0x8c0)](_0x1e6dc7(0x2d7),()=>{const _0x40bcc9=_0x1e6dc7;_0x4e3f9c[_0x40bcc9(0x87b)][_0x40bcc9(0x6aa)](_0x40bcc9(0x732)),_0x1ad6d6[_0x40bcc9(0x87b)][_0x40bcc9(0x8e)]('active'),_0x4244b4['classList'][_0x40bcc9(0x8e)]('hidden'),_0x25f3f7[_0x40bcc9(0x87b)]['add'](_0x40bcc9(0x727));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x2026db=''){const _0x75a76b=_0x50f1a4,_0x51baec=document['getElementById'](_0x75a76b(0x644)),_0x1c70b0=_0x2026db['toLowerCase']()[_0x75a76b(0x6e3)](),_0x5dc54d=allQuizzesGlobal[_0x75a76b(0x27d)](_0x59bdf5=>({..._0x59bdf5,'projectName':allProjects[_0x75a76b(0x700)](_0xf530e5=>_0xf530e5['id']===_0x59bdf5[_0x75a76b(0x713)])?.[_0x75a76b(0x42b)]||_0x59bdf5[_0x75a76b(0x713)]}))[_0x75a76b(0x4d9)](_0x630ba1=>(_0x630ba1['topic']||'')[_0x75a76b(0x476)]()[_0x75a76b(0x4c3)](_0x1c70b0)||(_0x630ba1['projectName']||'')[_0x75a76b(0x476)]()[_0x75a76b(0x4c3)](_0x1c70b0));document[_0x75a76b(0x1f4)](_0x75a76b(0x45c))[_0x75a76b(0x810)]='('+_0x5dc54d[_0x75a76b(0x43f)]+_0x75a76b(0x851),_0x51baec[_0x75a76b(0x535)]=_0x5dc54d['length']?_0x5dc54d[_0x75a76b(0x27d)](_0x33349b=>_0x75a76b(0x301)+_0x33349b['id']+_0x75a76b(0x22e)+(_0x33349b[_0x75a76b(0x2c9)]||_0x75a76b(0x86))+_0x75a76b(0x458)+(_0x33349b[_0x75a76b(0x393)]?.['length']||0x0)+_0x75a76b(0x3e1)+_0x33349b['projectName']+_0x75a76b(0x7d7))['join'](''):_0x75a76b(0x28c),selectedGlobalQuizId=null,document[_0x75a76b(0x1f4)](_0x75a76b(0x116))[_0x75a76b(0x891)]=!![],_0x51baec[_0x75a76b(0x15d)](_0x75a76b(0x544))['forEach'](_0x2dc332=>{const _0x33c6d9=_0x75a76b;_0x2dc332[_0x33c6d9(0x8c0)]('click',()=>{const _0x1797f5=_0x33c6d9;selectedGlobalQuizId=_0x2dc332[_0x1797f5(0x873)]['id'],_0x51baec['querySelectorAll']('button')[_0x1797f5(0x887)](_0x50af42=>_0x50af42[_0x1797f5(0x87b)][_0x1797f5(0x8e)](_0x1797f5(0x353),'ring-2',_0x1797f5(0x26a))),_0x2dc332[_0x1797f5(0x87b)][_0x1797f5(0x6aa)](_0x1797f5(0x353),_0x1797f5(0x1f1),'ring-purple-400'),document['getElementById']('confirm-global-live-btn')[_0x1797f5(0x891)]=![];});});}function listenForLiveGameUpdates(){const _0x5a85b8=_0x50f1a4;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x41e648=doc(db,_0x5a85b8(0x385)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x41e648,_0x2a93f5=>{const _0x1b0eef=_0x5a85b8;if(!_0x2a93f5[_0x1b0eef(0x5b8)]()){showMessage(_0x1b0eef(0x8f)),showView(currentMode);return;}const _0x178bca=_0x2a93f5[_0x1b0eef(0x3db)]();_0x178bca['shuffledQuiz']&&(currentQuizData=_0x178bca['shuffledQuiz']);!currentQuizData&&_0x178bca[_0x1b0eef(0x1b5)]&&((async()=>{const _0x496571=_0x1b0eef;try{const _0x555608=doc(db,_0x496571(0x385)+appId+_0x496571(0x4bf),_0x178bca[_0x496571(0x1b5)]),_0x5a2cff=await getDoc(_0x555608);_0x5a2cff[_0x496571(0x5b8)]()&&(currentQuizData={'id':_0x5a2cff['id'],..._0x5a2cff[_0x496571(0x3db)]()});}catch(_0xbb68e9){console['error'](_0x496571(0x3e0),_0xbb68e9);}})());switch(_0x178bca[_0x1b0eef(0x1a0)]){case _0x1b0eef(0x118):if(currentMode===_0x1b0eef(0x5be)){const _0x1db5cb=_0x178bca['players']?Object[_0x1b0eef(0x5f1)](_0x178bca[_0x1b0eef(0x592)]):[],_0x560793=_0x1db5cb[_0x1b0eef(0x4d9)](([_0x1ce274,_0x46b8ee])=>_0x46b8ee[_0x1b0eef(0x1a0)]===_0x1b0eef(0x732)),_0x15225b=document[_0x1b0eef(0x1f4)](_0x1b0eef(0x7ba));if(_0x15225b)_0x15225b[_0x1b0eef(0x810)]=_0x560793[_0x1b0eef(0x43f)];const _0x561a6d=document[_0x1b0eef(0x1f4)](_0x1b0eef(0x256));_0x561a6d&&(_0x561a6d[_0x1b0eef(0x535)]=_0x560793[_0x1b0eef(0x27d)](([_0x24b5c7,_0x57fb5d])=>_0x1b0eef(0x1b8)+_0x24b5c7+_0x1b0eef(0x763)+_0x24b5c7+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1b0eef(0x211)](''));const _0x2df558=document[_0x1b0eef(0x1f4)](_0x1b0eef(0x646));_0x2df558&&(_0x2df558[_0x1b0eef(0x891)]=_0x560793[_0x1b0eef(0x43f)]===0x0);}else showView(_0x1b0eef(0x216)),liveGameView[_0x1b0eef(0x535)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0x1b0eef(0x3eb);break;case _0x1b0eef(0x826):const _0x22ef68=_0x178bca[_0x1b0eef(0x74b)];if(currentQuizData&&currentQuizData['questions'][_0x22ef68]){const _0x438db4=currentQuizData['questions'][_0x22ef68],_0x50f970=_0x178bca[_0x1b0eef(0x83d)]||_0x1b0eef(0x567);switch(_0x50f970){case _0x1b0eef(0x46c):currentMode===_0x1b0eef(0x5be)?showAdminSummaryView(_0x178bca,_0x438db4):showPlayerSummaryView(_0x178bca,currentStudentName);break;case _0x1b0eef(0x3ac):currentMode===_0x1b0eef(0x5be)&&showTop5LeaderboardView(_0x178bca);break;case _0x1b0eef(0x567):default:if(currentMode==='admin'){const _0x1eebad=writeBatch(db);let _0x257a15=![];Object[_0x1b0eef(0x5f1)](_0x178bca['players'])[_0x1b0eef(0x887)](([_0x490635,_0x1faea6])=>{const _0x23acc7=_0x1b0eef;if(_0x1faea6[_0x23acc7(0x1a0)]===_0x23acc7(0x732)&&_0x1faea6['submittedAt']&&!_0x1faea6[_0x23acc7(0x5b1)]){_0x257a15=!![];const _0x14ccf4=_0x1faea6[_0x23acc7(0x28f)][_0x23acc7(0x383)]()-_0x178bca[_0x23acc7(0x881)][_0x23acc7(0x383)]();let _0x584aa2=0x0;if(_0x1faea6[_0x23acc7(0x2ea)]){const _0x1ab283=0x3e8,_0x568f5d=0x1f4,_0x2fd98f=0x4e20;let _0x5f21b6=_0x14ccf4/_0x2fd98f;if(_0x5f21b6>0x1)_0x5f21b6=0x1;const _0x295ef0=Math[_0x23acc7(0x115)](_0x5f21b6*_0x568f5d);_0x584aa2=_0x1ab283-_0x295ef0;}const _0x3e2ae4=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);_0x1eebad['update'](_0x3e2ae4,{[_0x23acc7(0x863)+_0x490635+_0x23acc7(0x6a4)]:increment(_0x584aa2),[_0x23acc7(0x863)+_0x490635+_0x23acc7(0x10b)]:_0x584aa2,[_0x23acc7(0x863)+_0x490635+_0x23acc7(0x12a)]:!![]});}});_0x257a15&&_0x1eebad[_0x1b0eef(0x245)]()[_0x1b0eef(0x46f)](_0x29d1e2=>console[_0x1b0eef(0x5ec)](_0x1b0eef(0x46b),_0x29d1e2));lastRenderedAdminQuestionIndex!==_0x22ef68&&(showAdminLiveQuestionView(_0x438db4,_0x22ef68,currentQuizData[_0x1b0eef(0x393)]['length']),lastRenderedAdminQuestionIndex=_0x22ef68);const _0x353db8=_0x178bca[_0x1b0eef(0x592)]||{},_0x2cecef=Object['values'](_0x353db8)['filter'](_0x4325b0=>_0x4325b0['status']==='active'),_0x375fbf=_0x2cecef[_0x1b0eef(0x43f)],_0x56dbef=_0x2cecef[_0x1b0eef(0x4d9)](_0x47b51d=>_0x47b51d[_0x1b0eef(0x781)]===!![])[_0x1b0eef(0x43f)],_0x5b191f=document[_0x1b0eef(0x1f4)](_0x1b0eef(0x773));if(_0x5b191f)_0x5b191f[_0x1b0eef(0x810)]=_0x56dbef+'/'+_0x375fbf;const _0x270a40=document[_0x1b0eef(0x1f4)]('live-player-list');if(_0x270a40){let _0xe6c74=Object['entries'](_0x353db8)['filter'](([_0x494f77,_0x161f99])=>_0x161f99['status']===_0x1b0eef(0x732))[_0x1b0eef(0x27d)](([_0x19b25d,_0x59f8cb])=>{const _0x4b45a3=_0x1b0eef,_0x4db663=_0x59f8cb[_0x4b45a3(0x781)]===!![],_0x17675f=_0x4db663?_0x4b45a3(0x19f):_0x4b45a3(0x3a8),_0x8fca30=_0x4db663?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x4b45a3(0x4e6);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x17675f+_0x4b45a3(0x470)+_0x8fca30+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x19b25d+_0x4b45a3(0x363)+_0x19b25d+_0x4b45a3(0x84f);})['join']('');_0x270a40[_0x1b0eef(0x535)]=_0xe6c74||_0x1b0eef(0x628);}_0x375fbf>0x0&&_0x56dbef===_0x375fbf&&revealAnswerForAdmin(_0x22ef68,currentQuizData[_0x1b0eef(0x393)][_0x1b0eef(0x43f)]);}else{const _0x41c0aa=_0x178bca[_0x1b0eef(0x592)][currentStudentName];_0x41c0aa&&!_0x41c0aa[_0x1b0eef(0x781)]&&showStudentLiveQuestionView(_0x438db4,_0x22ef68,currentQuizData[_0x1b0eef(0x393)][_0x1b0eef(0x43f)]);}break;}}break;case'podium':showPodiumView(_0x178bca['players']);break;}});}async function handleKickPlayer(_0x30ce96){const _0xec25cf=_0x50f1a4;if(!currentLiveGameId||!_0x30ce96)return;const _0x1e9a00=doc(db,_0xec25cf(0x385)+appId+_0xec25cf(0x6d2),currentLiveGameId),_0x3cc4aa={};_0x3cc4aa[_0xec25cf(0x863)+_0x30ce96+_0xec25cf(0x315)]='inactive';try{await updateDoc(_0x1e9a00,_0x3cc4aa);}catch(_0x4f76c4){console['error'](_0xec25cf(0x61c)+_0x30ce96+':',_0x4f76c4),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function authenticateUser(){const _0x226709=_0x50f1a4;try{typeof __initial_auth_token!==_0x226709(0x1ef)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x230ed6){console[_0x226709(0x5ec)](_0x226709(0x296),_0x230ed6),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x5b5004){const _0x503219=_0x50f1a4,_0x4a77e1=[_0x503219(0x39a),_0x503219(0x143),_0x503219(0x667),_0x503219(0x305),'quiz-results-view','live-game-view',_0x503219(0x84a)];_0x4a77e1[_0x503219(0x887)](_0xd0b398=>document[_0x503219(0x1f4)](_0xd0b398)?.['classList'][_0x503219(0x6aa)](_0x503219(0x727)));if(_0x5b5004===_0x503219(0x233))adminView[_0x503219(0x87b)][_0x503219(0x8e)](_0x503219(0x727)),projectDashboardView[_0x503219(0x87b)]['remove'](_0x503219(0x727));else{if(_0x5b5004===_0x503219(0xba))studentView[_0x503219(0x87b)][_0x503219(0x8e)](_0x503219(0x727)),studentInitialView[_0x503219(0x87b)][_0x503219(0x8e)](_0x503219(0x727)),studentNameSelectionView[_0x503219(0x87b)][_0x503219(0x6aa)]('hidden'),studentQuizArea['classList'][_0x503219(0x6aa)](_0x503219(0x727)),studentResultArea['classList'][_0x503219(0x6aa)]('hidden'),studentReadingArea[_0x503219(0x87b)]['add'](_0x503219(0x727)),studentJoinGameView['classList'][_0x503219(0x6aa)](_0x503219(0x727));else{if(_0x5b5004===_0x503219(0x878))adminView[_0x503219(0x87b)]['remove'](_0x503219(0x727)),projectDetailView[_0x503219(0x87b)][_0x503219(0x8e)](_0x503219(0x727));else{if(_0x5b5004===_0x503219(0x1e5))adminView[_0x503219(0x87b)][_0x503219(0x8e)](_0x503219(0x727)),quizResultsView[_0x503219(0x87b)]['remove'](_0x503219(0x727));else _0x5b5004===_0x503219(0x216)&&liveGameView[_0x503219(0x87b)][_0x503219(0x8e)](_0x503219(0x727));}}}}function showJoinGameView(){const _0x551eec=_0x50f1a4;studentInitialView[_0x551eec(0x87b)][_0x551eec(0x6aa)](_0x551eec(0x727)),studentJoinGameView['classList'][_0x551eec(0x8e)](_0x551eec(0x727));}async function handleSaveVisibilitySettings(){const _0x7890df=_0x50f1a4;if(!currentProjectId)return;const _0x380b1a=doc(db,'artifacts/'+appId+_0x7890df(0x5ff),currentProjectId);try{await updateDoc(_0x380b1a,{'settings.showInStudentDashboard':document[_0x7890df(0x1f4)](_0x7890df(0x654))['checked'],'settings.isPasscodeEnabled':document[_0x7890df(0x1f4)]('enable-passcode-checkbox')[_0x7890df(0x121)],'settings.passcode':document['getElementById'](_0x7890df(0x494))[_0x7890df(0x5cf)][_0x7890df(0x6e3)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x441f6a){console[_0x7890df(0x5ec)](_0x7890df(0x1ee),_0x441f6a),showMessage(_0x7890df(0x172));}}function setupEventListeners(){const _0x346f4b=_0x50f1a4,_0x287466=document[_0x346f4b(0x1f4)](_0x346f4b(0x5a2));_0x287466[_0x346f4b(0x8c0)]('click',_0x554bb1=>{const _0x412d14=_0x346f4b,_0x5e97df=_0x554bb1['target'][_0x412d14(0x88)]('.summary-bar-item');document[_0x412d14(0x15d)](_0x412d14(0x297))['forEach'](_0x2f71f0=>{const _0x51e9dc=_0x412d14;(!_0x5e97df||_0x2f71f0['id']!==_0x5e97df['dataset'][_0x51e9dc(0x5bc)])&&_0x2f71f0[_0x51e9dc(0x87b)][_0x51e9dc(0x8e)](_0x51e9dc(0x4db));});if(!_0x5e97df)return;const _0x154f2c=_0x5e97df['dataset'][_0x412d14(0x5bc)],_0x36d250=document['getElementById'](_0x154f2c);_0x36d250&&_0x36d250[_0x412d14(0x87b)]['toggle'](_0x412d14(0x4db));}),_0x287466[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),_0x17e245=>{const _0x40e645=_0x346f4b;if(_0x17e245[_0x40e645(0x823)]['classList']['contains'](_0x40e645(0x47f))){const _0x35f020=_0x17e245['target'][_0x40e645(0x873)][_0x40e645(0x8be)];_0x35f020&&handleKickPlayer(_0x35f020);}}),document[_0x346f4b(0x1f4)](_0x346f4b(0x88a))[_0x346f4b(0x8c0)](_0x346f4b(0x661),()=>document[_0x346f4b(0x1f4)](_0x346f4b(0x62d))[_0x346f4b(0x87b)][_0x346f4b(0x8e)]('hidden')),document[_0x346f4b(0x1f4)]('save-project-name-btn')[_0x346f4b(0x8c0)]('click',handleSaveProjectName),document['getElementById'](_0x346f4b(0x88a))[_0x346f4b(0x8c0)]('keydown',_0x1d3a9a=>{const _0x243227=_0x346f4b;_0x1d3a9a[_0x243227(0x81d)]===_0x243227(0x7ab)&&(_0x1d3a9a['preventDefault'](),_0x1d3a9a[_0x243227(0x823)][_0x243227(0x2a4)](),handleSaveProjectName());}),document[_0x346f4b(0x1f4)](_0x346f4b(0x82e))['addEventListener'](_0x346f4b(0x2d7),()=>{const _0x25ebf7=_0x346f4b;document[_0x25ebf7(0x1f4)](_0x25ebf7(0x129))[_0x25ebf7(0x87b)]['remove']('hidden');}),document[_0x346f4b(0x1f4)]('cancel-bulk-quiz-settings-btn')['addEventListener'](_0x346f4b(0x2d7),()=>{const _0x2cf194=_0x346f4b;document[_0x2cf194(0x1f4)](_0x2cf194(0x129))[_0x2cf194(0x87b)][_0x2cf194(0x6aa)]('hidden');}),document[_0x346f4b(0x1f4)](_0x346f4b(0x8d))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),handleBulkUpdateQuizSettings),document[_0x346f4b(0x1f4)](_0x346f4b(0x1d1))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),handleModeSwitch),document['getElementById'](_0x346f4b(0x2fc))['addEventListener'](_0x346f4b(0x2d7),handleUpdateOldQuizzes),document['getElementById'](_0x346f4b(0x396))['addEventListener'](_0x346f4b(0x2d7),handleResetProjectOrder),document[_0x346f4b(0x1f4)](_0x346f4b(0x5f5))[_0x346f4b(0x8c0)]('click',handleSaveVisibilitySettings),document['getElementById'](_0x346f4b(0x343))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),handleAddCustomMathTopic),document[_0x346f4b(0x1f4)](_0x346f4b(0x2af))['addEventListener'](_0x346f4b(0x2d7),handleSelectAllTopics),document[_0x346f4b(0x1f4)](_0x346f4b(0x493))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),handleDeselectAllTopics),document[_0x346f4b(0x1f4)](_0x346f4b(0x884))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>{const _0x591b24=_0x346f4b;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x591b24(0x233));}),document[_0x346f4b(0x1f4)](_0x346f4b(0x45f))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>{const _0x4e383d=_0x346f4b;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x4e383d(0x878));}),document[_0x346f4b(0x1f4)](_0x346f4b(0x462))['addEventListener']('click',()=>{const _0x19aa35=_0x346f4b;showView(_0x19aa35(0x233));}),document[_0x346f4b(0x1f4)](_0x346f4b(0x547))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>{const _0x2281c2=_0x346f4b;messageModal['classList']['add'](_0x2281c2(0x727)),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x346f4b(0x572))[_0x346f4b(0x8c0)]('click',()=>createProjectModal['classList'][_0x346f4b(0x8e)](_0x346f4b(0x727))),document[_0x346f4b(0x1f4)](_0x346f4b(0x5ac))[_0x346f4b(0x8c0)]('click',()=>createProjectModal[_0x346f4b(0x87b)][_0x346f4b(0x6aa)]('hidden')),document[_0x346f4b(0x1f4)](_0x346f4b(0x2f2))[_0x346f4b(0x8c0)]('click',()=>adminPasswordModal[_0x346f4b(0x87b)][_0x346f4b(0x6aa)]('hidden')),document[_0x346f4b(0x1f4)](_0x346f4b(0x1e7))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),handleAdminLogin),document[_0x346f4b(0x1f4)](_0x346f4b(0x51b))[_0x346f4b(0x8c0)](_0x346f4b(0x778),_0x15df27=>{const _0x1f4752=_0x346f4b;if(_0x15df27[_0x1f4752(0x81d)]===_0x1f4752(0x7ab))handleAdminLogin();}),document[_0x346f4b(0x1f4)]('cancel-delete-btn')[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>{const _0x3a4678=_0x346f4b;confirmationModal['classList'][_0x3a4678(0x6aa)](_0x3a4678(0x727)),confirmAction=null;}),document[_0x346f4b(0x1f4)](_0x346f4b(0x71))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>{const _0x25a78a=_0x346f4b;confirmAction&&confirmAction(),confirmationModal[_0x25a78a(0x87b)][_0x25a78a(0x6aa)](_0x25a78a(0x727)),confirmAction=null;}),document[_0x346f4b(0x1f4)]('cancel-rename-quiz-btn')[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>renameQuizModal[_0x346f4b(0x87b)]['add'](_0x346f4b(0x727))),document['getElementById'](_0x346f4b(0xb1))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),confirmRenameQuiz),document[_0x346f4b(0x1f4)]('cancel-move-quiz-btn')[_0x346f4b(0x8c0)]('click',()=>moveQuizModal[_0x346f4b(0x87b)][_0x346f4b(0x6aa)](_0x346f4b(0x727))),document[_0x346f4b(0x1f4)](_0x346f4b(0x3ca))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),confirmMoveQuiz),document['getElementById'](_0x346f4b(0x41a))['addEventListener']('click',()=>quizSettingsModal['classList'][_0x346f4b(0x6aa)](_0x346f4b(0x727))),document[_0x346f4b(0x1f4)](_0x346f4b(0x30d))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),confirmQuizSettings),document[_0x346f4b(0x1f4)](_0x346f4b(0x356))[_0x346f4b(0x8c0)]('click',()=>quizStatusModal[_0x346f4b(0x87b)]['add'](_0x346f4b(0x727))),document[_0x346f4b(0x1f4)](_0x346f4b(0x649))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),confirmQuizStatus);const _0x77ca6c=document[_0x346f4b(0x1f4)](_0x346f4b(0x5ad));document[_0x346f4b(0x1f4)](_0x346f4b(0x61b))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>{const _0x3fe49e=_0x346f4b;_0x77ca6c[_0x3fe49e(0x87b)]['add']('hidden');}),document[_0x346f4b(0x1f4)](_0x346f4b(0x503))['addEventListener'](_0x346f4b(0x2d7),async()=>{const _0x5c41fc=_0x346f4b,_0x4e9648=allQuizzes[_0x5c41fc(0x700)](_0x47078a=>_0x47078a['id']===actionTargetId);_0x4e9648?(currentQuizData=_0x4e9648,exportQuizAsWorksheetPDF()):showMessage(_0x5c41fc(0xdc)),_0x77ca6c[_0x5c41fc(0x87b)][_0x5c41fc(0x6aa)](_0x5c41fc(0x727));}),document[_0x346f4b(0x1f4)](_0x346f4b(0x25c))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),async()=>{const _0x528dee=_0x346f4b,_0x47dd77=allQuizzes['find'](_0xf38535=>_0xf38535['id']===actionTargetId);_0x47dd77?(currentQuizData=_0x47dd77,exportQuizAsTutorPDF()):showMessage(_0x528dee(0xdc)),_0x77ca6c['classList'][_0x528dee(0x6aa)](_0x528dee(0x727));}),document[_0x346f4b(0x1f4)](_0x346f4b(0x5c6))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),openGlobalLiveModal),document['getElementById']('cancel-global-live-btn')[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>{const _0x19ed35=_0x346f4b;document['getElementById'](_0x19ed35(0x834))[_0x19ed35(0x87b)][_0x19ed35(0x6aa)]('hidden'),selectedGlobalQuizId=null;}),document[_0x346f4b(0x1f4)]('global-quiz-search-input')[_0x346f4b(0x8c0)](_0x346f4b(0x4b9),_0x570a77=>renderGlobalQuizList(_0x570a77[_0x346f4b(0x823)][_0x346f4b(0x5cf)])),document[_0x346f4b(0x1f4)](_0x346f4b(0x116))[_0x346f4b(0x8c0)]('click',()=>{const _0x16e0a0=_0x346f4b,_0x5c5c78=selectedGlobalQuizId;if(!_0x5c5c78)return;document[_0x16e0a0(0x1f4)](_0x16e0a0(0x834))[_0x16e0a0(0x87b)][_0x16e0a0(0x6aa)](_0x16e0a0(0x727)),handleStartLiveRace(_0x5c5c78);}),document[_0x346f4b(0x1f4)](_0x346f4b(0x77b))[_0x346f4b(0x8c0)](_0x346f4b(0x4b9),renderProjects),document['getElementById']('project-sort-select')[_0x346f4b(0x8c0)](_0x346f4b(0x93),async()=>{const _0x11b6f8=_0x346f4b,_0x2d5ff6=document[_0x11b6f8(0x1f4)](_0x11b6f8(0x68a))['value'],_0x3c8dee=doc(db,_0x11b6f8(0x813),_0x11b6f8(0x184));try{await setDoc(_0x3c8dee,{'projectSort':_0x2d5ff6},{'merge':!![]});}catch(_0x47df3d){console['error']('Error\x20updating\x20sort\x20preference:',_0x47df3d),showMessage(_0x11b6f8(0x665));}}),document[_0x346f4b(0x1f4)](_0x346f4b(0x749))[_0x346f4b(0x8c0)](_0x346f4b(0x4b9),renderQuizzes),document['getElementById'](_0x346f4b(0x3d9))['addEventListener'](_0x346f4b(0x2d7),()=>{const _0x4fc1be=_0x346f4b;globalDashboardSettings[_0x4fc1be(0x79a)]='grid',saveUserPreference(_0x4fc1be(0x79a),_0x4fc1be(0x783)),renderProjects();}),document[_0x346f4b(0x1f4)]('list-view-btn')['addEventListener'](_0x346f4b(0x2d7),()=>{const _0x2daef4=_0x346f4b;globalDashboardSettings[_0x2daef4(0x79a)]=_0x2daef4(0x374),saveUserPreference(_0x2daef4(0x79a),'list'),renderProjects();}),manageTab[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>switchProjectTab(_0x346f4b(0x4b8))),resultsTab['addEventListener'](_0x346f4b(0x2d7),()=>switchProjectTab('results')),leaderboardTab[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>switchProjectTab('leaderboard')),document[_0x346f4b(0x1f4)](_0x346f4b(0x3c8))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>switchQuizDetailTab('analytics')),document[_0x346f4b(0x1f4)](_0x346f4b(0x314))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>switchQuizDetailTab('scores')),document['getElementById'](_0x346f4b(0x7ce))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>switchQuizDetailTab(_0x346f4b(0x82a))),document['getElementById']('behavior-log-tab-btn')['addEventListener'](_0x346f4b(0x2d7),()=>switchQuizDetailTab(_0x346f4b(0x3af))),document[_0x346f4b(0x1f4)](_0x346f4b(0x738))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),handleAnalyzeClass),generateWorksheetBtn[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),generateWorksheet);const _0x1c82be=document[_0x346f4b(0x1f4)](_0x346f4b(0x37f)),_0x1f69f1=document['getElementById'](_0x346f4b(0x108)),_0x491d6c=document[_0x346f4b(0x1f4)](_0x346f4b(0x37c)),_0x498377=document[_0x346f4b(0x1f4)](_0x346f4b(0x7b9)),_0x3bf733=document[_0x346f4b(0x1f4)](_0x346f4b(0x807)),_0x23d827=document[_0x346f4b(0x1f4)](_0x346f4b(0x3f6));topicTab['addEventListener']('click',()=>{const _0x4873bb=_0x346f4b;topicTab[_0x4873bb(0x87b)]['add'](_0x4873bb(0x732)),textTab[_0x4873bb(0x87b)][_0x4873bb(0x8e)](_0x4873bb(0x732)),fileTab['classList'][_0x4873bb(0x8e)](_0x4873bb(0x732)),worksheetTab['classList'][_0x4873bb(0x8e)]('active');if(_0x1c82be)_0x1c82be[_0x4873bb(0x87b)][_0x4873bb(0x8e)]('active');if(_0x491d6c)_0x491d6c[_0x4873bb(0x87b)][_0x4873bb(0x8e)](_0x4873bb(0x732));if(_0x3bf733)_0x3bf733[_0x4873bb(0x87b)][_0x4873bb(0x8e)]('active');topicInputArea[_0x4873bb(0x87b)][_0x4873bb(0x8e)]('hidden'),textInputArea['classList'][_0x4873bb(0x6aa)](_0x4873bb(0x727)),fileInputArea['classList'][_0x4873bb(0x6aa)](_0x4873bb(0x727)),worksheetInputArea[_0x4873bb(0x87b)]['add'](_0x4873bb(0x727));if(_0x1f69f1)_0x1f69f1[_0x4873bb(0x87b)]['add'](_0x4873bb(0x727));if(_0x498377)_0x498377[_0x4873bb(0x87b)][_0x4873bb(0x6aa)]('hidden');if(_0x23d827)_0x23d827[_0x4873bb(0x87b)][_0x4873bb(0x6aa)](_0x4873bb(0x727));}),textTab['addEventListener'](_0x346f4b(0x2d7),()=>{const _0x343b9d=_0x346f4b;textTab['classList'][_0x343b9d(0x6aa)](_0x343b9d(0x732)),topicTab[_0x343b9d(0x87b)][_0x343b9d(0x8e)](_0x343b9d(0x732)),fileTab[_0x343b9d(0x87b)][_0x343b9d(0x8e)](_0x343b9d(0x732)),worksheetTab[_0x343b9d(0x87b)]['remove']('active');if(_0x1c82be)_0x1c82be[_0x343b9d(0x87b)]['remove'](_0x343b9d(0x732));if(_0x491d6c)_0x491d6c[_0x343b9d(0x87b)]['remove'](_0x343b9d(0x732));if(_0x3bf733)_0x3bf733[_0x343b9d(0x87b)][_0x343b9d(0x8e)](_0x343b9d(0x732));textInputArea[_0x343b9d(0x87b)][_0x343b9d(0x8e)]('hidden'),topicInputArea['classList']['add']('hidden'),fileInputArea[_0x343b9d(0x87b)][_0x343b9d(0x6aa)](_0x343b9d(0x727)),worksheetInputArea[_0x343b9d(0x87b)][_0x343b9d(0x6aa)](_0x343b9d(0x727));if(_0x1f69f1)_0x1f69f1[_0x343b9d(0x87b)][_0x343b9d(0x6aa)]('hidden');if(_0x498377)_0x498377[_0x343b9d(0x87b)][_0x343b9d(0x6aa)](_0x343b9d(0x727));if(_0x23d827)_0x23d827[_0x343b9d(0x87b)][_0x343b9d(0x6aa)](_0x343b9d(0x727));}),fileTab[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>{const _0x35e15a=_0x346f4b;fileTab[_0x35e15a(0x87b)][_0x35e15a(0x6aa)](_0x35e15a(0x732)),topicTab[_0x35e15a(0x87b)][_0x35e15a(0x8e)](_0x35e15a(0x732)),textTab[_0x35e15a(0x87b)][_0x35e15a(0x8e)](_0x35e15a(0x732)),worksheetTab[_0x35e15a(0x87b)][_0x35e15a(0x8e)]('active');if(_0x1c82be)_0x1c82be['classList'][_0x35e15a(0x8e)]('active');if(_0x491d6c)_0x491d6c[_0x35e15a(0x87b)][_0x35e15a(0x8e)](_0x35e15a(0x732));if(_0x3bf733)_0x3bf733[_0x35e15a(0x87b)]['remove'](_0x35e15a(0x732));fileInputArea[_0x35e15a(0x87b)][_0x35e15a(0x8e)](_0x35e15a(0x727)),topicInputArea[_0x35e15a(0x87b)][_0x35e15a(0x6aa)](_0x35e15a(0x727)),textInputArea[_0x35e15a(0x87b)]['add'](_0x35e15a(0x727)),worksheetInputArea[_0x35e15a(0x87b)][_0x35e15a(0x6aa)](_0x35e15a(0x727));if(_0x1f69f1)_0x1f69f1[_0x35e15a(0x87b)][_0x35e15a(0x6aa)](_0x35e15a(0x727));if(_0x498377)_0x498377['classList'][_0x35e15a(0x6aa)]('hidden');if(_0x23d827)_0x23d827[_0x35e15a(0x87b)][_0x35e15a(0x6aa)](_0x35e15a(0x727));}),worksheetTab['addEventListener']('click',()=>{const _0x59e686=_0x346f4b;worksheetTab[_0x59e686(0x87b)][_0x59e686(0x6aa)](_0x59e686(0x732)),topicTab[_0x59e686(0x87b)]['remove'](_0x59e686(0x732)),textTab[_0x59e686(0x87b)]['remove'](_0x59e686(0x732)),fileTab[_0x59e686(0x87b)]['remove'](_0x59e686(0x732));if(_0x1c82be)_0x1c82be[_0x59e686(0x87b)]['remove'](_0x59e686(0x732));if(_0x491d6c)_0x491d6c['classList'][_0x59e686(0x8e)](_0x59e686(0x732));if(_0x3bf733)_0x3bf733['classList'][_0x59e686(0x8e)](_0x59e686(0x732));worksheetInputArea['classList'][_0x59e686(0x8e)](_0x59e686(0x727)),topicInputArea[_0x59e686(0x87b)][_0x59e686(0x6aa)]('hidden'),textInputArea[_0x59e686(0x87b)][_0x59e686(0x6aa)](_0x59e686(0x727)),fileInputArea[_0x59e686(0x87b)]['add'](_0x59e686(0x727));if(_0x1f69f1)_0x1f69f1[_0x59e686(0x87b)][_0x59e686(0x6aa)](_0x59e686(0x727));if(_0x498377)_0x498377[_0x59e686(0x87b)][_0x59e686(0x6aa)](_0x59e686(0x727));if(_0x23d827)_0x23d827[_0x59e686(0x87b)][_0x59e686(0x6aa)](_0x59e686(0x727));});const _0x222a73=document['getElementById'](_0x346f4b(0x87)),_0x4d36f6=document['getElementById'](_0x346f4b(0x36f));_0x222a73&&_0x222a73[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>{const _0x193194=_0x346f4b;topicTab['classList']['remove'](_0x193194(0x732)),textTab[_0x193194(0x87b)][_0x193194(0x8e)]('active'),fileTab[_0x193194(0x87b)]['remove']('active'),worksheetTab[_0x193194(0x87b)][_0x193194(0x8e)]('active');if(_0x1c82be)_0x1c82be[_0x193194(0x87b)][_0x193194(0x8e)](_0x193194(0x732));if(_0x491d6c)_0x491d6c[_0x193194(0x87b)][_0x193194(0x8e)](_0x193194(0x732));if(_0x3bf733)_0x3bf733['classList'][_0x193194(0x8e)](_0x193194(0x732));_0x222a73[_0x193194(0x87b)]['add'](_0x193194(0x732)),topicInputArea['classList']['add'](_0x193194(0x727)),textInputArea['classList'][_0x193194(0x6aa)](_0x193194(0x727)),fileInputArea[_0x193194(0x87b)]['add']('hidden'),worksheetInputArea[_0x193194(0x87b)][_0x193194(0x6aa)](_0x193194(0x727));if(_0x1f69f1)_0x1f69f1[_0x193194(0x87b)][_0x193194(0x6aa)](_0x193194(0x727));if(_0x498377)_0x498377[_0x193194(0x87b)][_0x193194(0x6aa)](_0x193194(0x727));if(_0x23d827)_0x23d827[_0x193194(0x87b)][_0x193194(0x6aa)](_0x193194(0x727));_0x4d36f6[_0x193194(0x87b)][_0x193194(0x8e)](_0x193194(0x727)),displayQuestionBank();});_0x1c82be&&(_0x1c82be[_0x346f4b(0x8c0)]('click',()=>{const _0x2f3ee9=_0x346f4b;_0x1c82be['classList'][_0x2f3ee9(0x6aa)](_0x2f3ee9(0x732)),topicTab['classList'][_0x2f3ee9(0x8e)](_0x2f3ee9(0x732)),textTab[_0x2f3ee9(0x87b)]['remove'](_0x2f3ee9(0x732)),fileTab[_0x2f3ee9(0x87b)][_0x2f3ee9(0x8e)](_0x2f3ee9(0x732)),worksheetTab['classList'][_0x2f3ee9(0x8e)](_0x2f3ee9(0x732));if(_0x491d6c)_0x491d6c[_0x2f3ee9(0x87b)][_0x2f3ee9(0x8e)]('active');if(_0x3bf733)_0x3bf733[_0x2f3ee9(0x87b)][_0x2f3ee9(0x8e)]('active');_0x1f69f1[_0x2f3ee9(0x87b)][_0x2f3ee9(0x8e)](_0x2f3ee9(0x727)),topicInputArea[_0x2f3ee9(0x87b)][_0x2f3ee9(0x6aa)]('hidden'),textInputArea['classList'][_0x2f3ee9(0x6aa)]('hidden'),fileInputArea[_0x2f3ee9(0x87b)][_0x2f3ee9(0x6aa)](_0x2f3ee9(0x727)),worksheetInputArea[_0x2f3ee9(0x87b)]['add']('hidden');if(_0x498377)_0x498377[_0x2f3ee9(0x87b)]['add'](_0x2f3ee9(0x727));if(_0x23d827)_0x23d827[_0x2f3ee9(0x87b)][_0x2f3ee9(0x6aa)](_0x2f3ee9(0x727));}),document[_0x346f4b(0x1f4)]('generate-from-link-btn')[_0x346f4b(0x8c0)]('click',handleGenerateFromLink));_0x491d6c&&_0x491d6c[_0x346f4b(0x8c0)]('click',()=>{const _0x22119b=_0x346f4b;_0x491d6c[_0x22119b(0x87b)]['add'](_0x22119b(0x732)),topicTab[_0x22119b(0x87b)][_0x22119b(0x8e)](_0x22119b(0x732)),textTab[_0x22119b(0x87b)][_0x22119b(0x8e)](_0x22119b(0x732)),fileTab['classList'][_0x22119b(0x8e)](_0x22119b(0x732)),worksheetTab[_0x22119b(0x87b)][_0x22119b(0x8e)](_0x22119b(0x732));if(_0x1c82be)_0x1c82be[_0x22119b(0x87b)][_0x22119b(0x8e)](_0x22119b(0x732));if(_0x222a73)_0x222a73['classList']['remove'](_0x22119b(0x732));if(_0x3bf733)_0x3bf733[_0x22119b(0x87b)][_0x22119b(0x8e)](_0x22119b(0x732));_0x498377['classList'][_0x22119b(0x8e)](_0x22119b(0x727)),topicInputArea[_0x22119b(0x87b)]['add'](_0x22119b(0x727)),textInputArea[_0x22119b(0x87b)][_0x22119b(0x6aa)](_0x22119b(0x727)),fileInputArea[_0x22119b(0x87b)][_0x22119b(0x6aa)](_0x22119b(0x727)),worksheetInputArea[_0x22119b(0x87b)][_0x22119b(0x6aa)](_0x22119b(0x727));if(_0x1f69f1)_0x1f69f1[_0x22119b(0x87b)][_0x22119b(0x6aa)](_0x22119b(0x727));if(_0x4d36f6)_0x4d36f6[_0x22119b(0x87b)][_0x22119b(0x6aa)](_0x22119b(0x727));if(_0x23d827)_0x23d827[_0x22119b(0x87b)]['add'](_0x22119b(0x727));});_0x3bf733&&_0x3bf733[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>{const _0xeed4f6=_0x346f4b;_0x3bf733['classList'][_0xeed4f6(0x6aa)](_0xeed4f6(0x732)),topicTab[_0xeed4f6(0x87b)][_0xeed4f6(0x8e)](_0xeed4f6(0x732)),textTab[_0xeed4f6(0x87b)][_0xeed4f6(0x8e)]('active'),fileTab['classList']['remove'](_0xeed4f6(0x732)),worksheetTab[_0xeed4f6(0x87b)][_0xeed4f6(0x8e)](_0xeed4f6(0x732));if(_0x1c82be)_0x1c82be[_0xeed4f6(0x87b)][_0xeed4f6(0x8e)]('active');if(_0x491d6c)_0x491d6c[_0xeed4f6(0x87b)][_0xeed4f6(0x8e)](_0xeed4f6(0x732));if(_0x222a73)_0x222a73[_0xeed4f6(0x87b)][_0xeed4f6(0x8e)](_0xeed4f6(0x732));_0x23d827[_0xeed4f6(0x87b)][_0xeed4f6(0x8e)](_0xeed4f6(0x727)),topicInputArea[_0xeed4f6(0x87b)]['add'](_0xeed4f6(0x727)),textInputArea[_0xeed4f6(0x87b)][_0xeed4f6(0x6aa)](_0xeed4f6(0x727)),fileInputArea[_0xeed4f6(0x87b)][_0xeed4f6(0x6aa)]('hidden'),worksheetInputArea[_0xeed4f6(0x87b)][_0xeed4f6(0x6aa)](_0xeed4f6(0x727));if(_0x1f69f1)_0x1f69f1[_0xeed4f6(0x87b)][_0xeed4f6(0x6aa)]('hidden');if(_0x498377)_0x498377['classList'][_0xeed4f6(0x6aa)](_0xeed4f6(0x727));if(_0x4d36f6)_0x4d36f6['classList'][_0xeed4f6(0x6aa)](_0xeed4f6(0x727));});const _0x4f6564=document[_0x346f4b(0x1f4)](_0x346f4b(0x662)),_0x2c3cc8=document[_0x346f4b(0x1f4)](_0x346f4b(0x5aa));_0x4f6564&&_0x4f6564[_0x346f4b(0x8c0)]('change',_0x4d5ee6=>{const _0x1e1667=_0x346f4b;_0x4d5ee6[_0x1e1667(0x823)][_0x1e1667(0x655)][_0x1e1667(0x43f)]>0x0?_0x2c3cc8[_0x1e1667(0x891)]=![]:_0x2c3cc8['disabled']=!![];});_0x2c3cc8&&_0x2c3cc8[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),handleGenerateFromBlueprint);const _0x574251=document['getElementById'](_0x346f4b(0x44f)),_0x29718b=document[_0x346f4b(0x1f4)](_0x346f4b(0x63c));_0x574251&&_0x574251[_0x346f4b(0x8c0)]('change',_0xd29904=>{const _0x52a1bb=_0x346f4b;_0x29718b['disabled']=_0xd29904[_0x52a1bb(0x823)][_0x52a1bb(0x655)]['length']===0x0;});_0x29718b&&_0x29718b['addEventListener'](_0x346f4b(0x2d7),handleGenerateParallelTest);loadQuizBtn[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),handleLoadQuiz),startQuizBtn[_0x346f4b(0x8c0)]('click',async()=>{const _0x391297=_0x346f4b,_0x46fd7f=document[_0x391297(0x1f4)](_0x391297(0x227));currentStudentName=_0x46fd7f[_0x391297(0x5cf)];if(!currentStudentName){showMessage(_0x391297(0x5a7));return;}try{const _0x2b8657=currentQuizData['id'],_0x49c9c6=doc(db,'artifacts/'+appId+_0x391297(0x62f)+_0x2b8657+_0x391297(0x6fa),currentStudentName);await setDoc(_0x49c9c6,{'studentName':currentStudentName,'startedAt':new Date()[_0x391297(0x251)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0xc1a87e){console[_0x391297(0x5ec)]('Failed\x20to\x20create\x20initial\x20submission\x20record:',_0xc1a87e),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView['classList'][_0x391297(0x6aa)](_0x391297(0x727)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x346f4b(0x1f4)](_0x346f4b(0x1f0))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),showJoinGameView),document[_0x346f4b(0x1f4)](_0x346f4b(0x4b4))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),handleJoinLiveGame),document[_0x346f4b(0x1f4)]('back-to-student-initial-btn')['addEventListener'](_0x346f4b(0x2d7),()=>showView(_0x346f4b(0xba)));const _0x2bac03=()=>{const _0x27d070=_0x346f4b,_0x3e2b9f=document[_0x27d070(0x1f4)](_0x27d070(0x65b))[_0x27d070(0x810)][_0x27d070(0x3c3)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'results_'+(_0x3e2b9f||_0x27d070(0x236));},_0x31bfe8=document[_0x346f4b(0x1f4)](_0x346f4b(0x69c));_0x31bfe8&&_0x31bfe8['addEventListener']('input',_0x1eb447=>{const _0x337e35=_0x346f4b,_0x241028=_0x1eb447[_0x337e35(0x823)][_0x337e35(0x5cf)][_0x337e35(0x476)]()['trim'](),_0x247588=document[_0x337e35(0x1f4)](_0x337e35(0x35f)),_0x1af298=_0x247588[_0x337e35(0x15d)](_0x337e35(0x8ce));_0x1af298[_0x337e35(0x887)](_0x3e805b=>{const _0x2454b9=_0x337e35;let _0x4391ed=![];const _0x2f7af9=_0x3e805b[_0x2454b9(0x15d)]('.topic-row');_0x2f7af9['forEach'](_0x160032=>{const _0x13965b=_0x2454b9,_0x1d1046=_0x160032[_0x13965b(0x76d)](_0x13965b(0x530))[_0x13965b(0x810)]['toLowerCase']();_0x1d1046[_0x13965b(0x4c3)](_0x241028)?(_0x160032[_0x13965b(0x21f)]['display']='flex',_0x4391ed=!![]):_0x160032[_0x13965b(0x21f)]['display']=_0x13965b(0xbe);}),_0x4391ed?_0x3e805b['style'][_0x2454b9(0x181)]='block':_0x3e805b[_0x2454b9(0x21f)][_0x2454b9(0x181)]='none';});});document[_0x346f4b(0x1f4)](_0x346f4b(0x6c2))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>exportTableAsImage('results-table-container',_0x2bac03())),document[_0x346f4b(0x1f4)](_0x346f4b(0x4d2))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>exportTableAsPDF(_0x346f4b(0x597),_0x2bac03())),document[_0x346f4b(0x1f4)](_0x346f4b(0x546))[_0x346f4b(0x8c0)]('click',()=>exportTableAsWord(_0x346f4b(0xa0),_0x2bac03())),document[_0x346f4b(0x1f4)](_0x346f4b(0x4fd))[_0x346f4b(0x8c0)]('click',()=>exportTableAsExcel(_0x346f4b(0x597),_0x2bac03()));const _0x1e5584=()=>{const _0x513e95=_0x346f4b,_0x1d17e3=document[_0x513e95(0x1f4)](_0x513e95(0x65b))[_0x513e95(0x810)][_0x513e95(0x3c3)](/[^a-z0-9]/gi,'_')[_0x513e95(0x476)]();return'leaderboard_'+(_0x1d17e3||_0x513e95(0x236));};document[_0x346f4b(0x1f4)](_0x346f4b(0x497))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x1e5584())),document['getElementById'](_0x346f4b(0xd6))[_0x346f4b(0x8c0)]('click',()=>exportTableAsPDF(_0x346f4b(0x6b5),_0x1e5584())),document[_0x346f4b(0x1f4)](_0x346f4b(0x1f3))[_0x346f4b(0x8c0)]('click',()=>exportTableAsWord(_0x346f4b(0x40d),_0x1e5584())),document[_0x346f4b(0x1f4)]('export-leaderboard-excel-btn')[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>exportTableAsExcel(_0x346f4b(0x6b5),_0x1e5584())),projectQuizzesList['addEventListener']('click',async _0x56f6a5=>{const _0x5e48fd=_0x346f4b,_0x268b85=_0x56f6a5[_0x5e48fd(0x823)]['closest']('.quiz-result-card'),_0x59c4a5=_0x56f6a5['target'][_0x5e48fd(0x88)]('.generate-post-test-btn'),_0x552ea8=_0x56f6a5[_0x5e48fd(0x823)][_0x5e48fd(0x88)](_0x5e48fd(0x45d)),_0x2613bf=_0x56f6a5['target']['closest'](_0x5e48fd(0x408)),_0x310400=_0x56f6a5[_0x5e48fd(0x823)]['closest'](_0x5e48fd(0x102)),_0x1794c6=_0x56f6a5[_0x5e48fd(0x823)][_0x5e48fd(0x88)]('.copy-quiz-id-list-btn'),_0x5affba=_0x56f6a5[_0x5e48fd(0x823)]['closest'](_0x5e48fd(0x485)),_0x151487=_0x56f6a5[_0x5e48fd(0x823)][_0x5e48fd(0x88)](_0x5e48fd(0x548)),_0xa5db86=_0x56f6a5[_0x5e48fd(0x823)][_0x5e48fd(0x88)]('.duplicate-quiz-btn'),_0x4c6fc5=_0x56f6a5['target'][_0x5e48fd(0x88)]('.rename-quiz-btn'),_0x319771=_0x56f6a5[_0x5e48fd(0x823)][_0x5e48fd(0x88)]('.parallel-quiz-btn'),_0x2a443d=_0x56f6a5[_0x5e48fd(0x823)][_0x5e48fd(0x88)](_0x5e48fd(0x1bb)),_0x4288b3=_0x56f6a5['target'][_0x5e48fd(0x88)](_0x5e48fd(0xf9)),_0x481baa=_0x56f6a5[_0x5e48fd(0x823)][_0x5e48fd(0x88)](_0x5e48fd(0x8b8)),_0x5ab563=_0x56f6a5[_0x5e48fd(0x823)]['closest'](_0x5e48fd(0x5d9)),_0x1fe9c2=_0x56f6a5[_0x5e48fd(0x823)]['closest'](_0x5e48fd(0x389)),_0x5dde0c=_0x56f6a5['target'][_0x5e48fd(0x88)]('.start-live-race-btn'),_0xa7045a=_0x56f6a5[_0x5e48fd(0x823)][_0x5e48fd(0x88)](_0x5e48fd(0x7a6)),_0xb3226a=_0x56f6a5['target'][_0x5e48fd(0x88)](_0x5e48fd(0x63f)),_0x425f70=_0x56f6a5[_0x5e48fd(0x823)][_0x5e48fd(0x88)](_0x5e48fd(0x811)),_0x5e8926=_0x56f6a5[_0x5e48fd(0x823)][_0x5e48fd(0x88)](_0x5e48fd(0x2fb)),_0x201dcc=_0x56f6a5['target']['closest']('.generate-easy-version-btn');if(_0x5e8926){const _0x391075=_0x5e8926[_0x5e48fd(0x873)]['quizId'],_0x1cfda0=document[_0x5e48fd(0x1f4)](_0x5e48fd(0x23c)+_0x391075);_0x1cfda0&&_0x1cfda0[_0x5e48fd(0x87b)][_0x5e48fd(0x361)](_0x5e48fd(0x727));}else{if(_0x59c4a5){const _0x3760c6=_0x59c4a5['dataset']['quizId'],_0x588fed=allQuizzes['find'](_0x2e1d7b=>_0x2e1d7b['id']===_0x3760c6);_0x588fed&&handleGenerateParallelPostTest(_0x588fed);}else{if(_0x552ea8)handleCompareResults(_0x552ea8[_0x5e48fd(0x873)][_0x5e48fd(0x1b5)],_0x552ea8['dataset'][_0x5e48fd(0x73)]);else{if(_0x2613bf){const _0x11c571=_0x2613bf[_0x5e48fd(0x873)][_0x5e48fd(0x1b5)],_0xd91322=allQuizzes['find'](_0x54ce1e=>_0x54ce1e['id']===_0x11c571);_0xd91322&&_0xd91322[_0x5e48fd(0x196)]?(displayLessonPlan(_0xd91322[_0x5e48fd(0x196)],_0xd91322),showConfirmation(_0x5e48fd(0x169),()=>handleGenerateLessonPlan(_0x11c571)),document['getElementById']('confirmation-modal')[_0x5e48fd(0x76d)]('h3')[_0x5e48fd(0x810)]=_0x5e48fd(0x187),document[_0x5e48fd(0x1f4)](_0x5e48fd(0x71))[_0x5e48fd(0x810)]='สร้างใหม่'):handleGenerateLessonPlan(_0x11c571);}else{if(_0x310400)handleToggleStarQuiz(_0x310400[_0x5e48fd(0x873)]['quizId']);else{if(_0x1794c6)copyTextToClipboard(_0x1794c6[_0x5e48fd(0x873)]['quizId'],_0x5e48fd(0x4fb));else{if(_0x5affba)handleOpenQuizEditor(_0x5affba[_0x5e48fd(0x873)][_0x5e48fd(0x1b5)]);else{if(_0x151487)handleQuizSettings(_0x151487['dataset'][_0x5e48fd(0x1b5)]);else{if(_0xa5db86)handleDuplicateQuiz(_0xa5db86[_0x5e48fd(0x873)][_0x5e48fd(0x1b5)]);else{if(_0x4c6fc5)handleRenameQuiz(_0x4c6fc5[_0x5e48fd(0x873)][_0x5e48fd(0x1b5)],_0x4c6fc5[_0x5e48fd(0x873)][_0x5e48fd(0x2c9)]);else{if(_0x319771){const _0xb533ce=_0x319771[_0x5e48fd(0x873)][_0x5e48fd(0x1b5)],_0x25b1aa=allQuizzes[_0x5e48fd(0x700)](_0x4d0f8a=>_0x4d0f8a['id']===_0xb533ce);_0x25b1aa&&handleGenerateParallelFromBank(_0x25b1aa);}else{if(_0x2a443d)handleMoveQuiz(_0x2a443d[_0x5e48fd(0x873)][_0x5e48fd(0x1b5)]);else{if(_0x4288b3)handleManualQuizPairing(_0x4288b3['dataset'][_0x5e48fd(0x1b5)]);else{if(_0x481baa)handleUnpairQuiz(_0x481baa[_0x5e48fd(0x873)][_0x5e48fd(0x1b5)]);else{if(_0x5ab563){const _0x1167c2=_0x5ab563['dataset'][_0x5e48fd(0x1b5)],_0x113e2b=allQuizzes[_0x5e48fd(0x700)](_0x405ec7=>_0x405ec7['id']===_0x1167c2);if(_0x113e2b)startPresentation(_0x113e2b);}else{if(_0x1fe9c2){const _0x16b861=_0x1fe9c2[_0x5e48fd(0x873)][_0x5e48fd(0x1b5)],_0x371390=allQuizzes[_0x5e48fd(0x700)](_0x2ccf44=>_0x2ccf44['id']===_0x16b861);_0x371390&&(currentQuizData=_0x371390,startAdminTest());}else{if(_0x5dde0c)handleStartLiveRace(_0x5dde0c[_0x5e48fd(0x873)][_0x5e48fd(0x1b5)]);else{if(_0xa7045a)actionTargetId=_0xa7045a[_0x5e48fd(0x873)][_0x5e48fd(0x1b5)],document[_0x5e48fd(0x1f4)](_0x5e48fd(0x5ad))[_0x5e48fd(0x87b)][_0x5e48fd(0x8e)]('hidden');else{if(_0xb3226a)showConfirmation(_0x5e48fd(0x24f)+_0xb3226a[_0x5e48fd(0x873)][_0x5e48fd(0x2c9)]+_0x5e48fd(0x3fd),()=>handleDeleteQuiz(_0xb3226a[_0x5e48fd(0x873)][_0x5e48fd(0x1b5)]));else{if(_0x425f70)handleQuizStatus(_0x425f70[_0x5e48fd(0x873)][_0x5e48fd(0x1b5)]);else{if(_0x201dcc)handleGenerateEasyVersionQuiz(_0x201dcc[_0x5e48fd(0x873)][_0x5e48fd(0x1b5)]);else _0x268b85&&showQuizDetailView(_0x268b85[_0x5e48fd(0x873)][_0x5e48fd(0x1b5)]);}}}}}}}}}}}}}}}}}}}}}),document[_0x346f4b(0x1f4)](_0x346f4b(0x6b5))[_0x346f4b(0x76d)](_0x346f4b(0x5ab))[_0x346f4b(0x8c0)]('click',_0x206974=>{const _0x4f5775=_0x346f4b,_0x18db90=_0x206974[_0x4f5775(0x823)][_0x4f5775(0x88)]('.sortable-header');if(!_0x18db90||!_0x18db90['dataset'][_0x4f5775(0x5ef)])return;const _0x20ea83=_0x18db90[_0x4f5775(0x873)][_0x4f5775(0x5ef)];if(quizLeaderboardSortBy===_0x20ea83)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x4f5775(0xeb):_0x4f5775(0x6e);else{quizLeaderboardSortBy=_0x20ea83;const _0x1adb4e=[_0x4f5775(0x2b1)];quizLeaderboardSortOrder=_0x1adb4e['includes'](_0x20ea83)?'asc':_0x4f5775(0xeb);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x4f5775(0x478));}),document[_0x346f4b(0x1f4)]('close-presentation-btn')['addEventListener'](_0x346f4b(0x2d7),closePresentation),document[_0x346f4b(0x1f4)](_0x346f4b(0x35b))['addEventListener'](_0x346f4b(0x2d7),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x346f4b(0x33f))[_0x346f4b(0x8c0)]('click',()=>{const _0x4aa0c6=_0x346f4b;currentQuizData[_0x4aa0c6(0x393)]&&currentPresentationSlide<currentQuizData[_0x4aa0c6(0x393)][_0x4aa0c6(0x43f)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener'](_0x346f4b(0x611),()=>{const _0x343ed4=_0x346f4b;!document[_0x343ed4(0x20f)]&&(presentationModal[_0x343ed4(0x21f)][_0x343ed4(0x181)]='none');}),document[_0x346f4b(0x1f4)]('delete-all-students-btn')[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),handleDeleteAllStudents),studentList['addEventListener'](_0x346f4b(0x2d7),_0x3a0e63=>{const _0x4e9845=_0x346f4b,_0x78f486=_0x3a0e63['target'][_0x4e9845(0x88)]('.delete-student-btn');if(_0x78f486){const _0x433a11=_0x78f486[_0x4e9845(0x873)][_0x4e9845(0x2b1)];handleDeleteStudent(_0x433a11);}}),document[_0x346f4b(0x1f4)](_0x346f4b(0x472))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),handleGenerateFromFileClick),fileUploadInput[_0x346f4b(0x8c0)](_0x346f4b(0x93),_0x533c9a=>{const _0x5c6a62=_0x346f4b,_0x6e21d7=_0x533c9a[_0x5c6a62(0x823)][_0x5c6a62(0x655)][0x0],_0x71445a=document[_0x5c6a62(0x1f4)](_0x5c6a62(0x472));_0x6e21d7?(selectedFile=_0x6e21d7,_0x71445a[_0x5c6a62(0x891)]=![]):(selectedFile=null,_0x71445a[_0x5c6a62(0x891)]=!![]);}),document[_0x346f4b(0x1f4)](_0x346f4b(0x4b1))[_0x346f4b(0x8c0)]('change',_0x2572f8=>{const _0x2efd6c=_0x346f4b,_0x12b635=document[_0x2efd6c(0x1f4)]('timer-duration-container'),_0x9f8d19=document[_0x2efd6c(0x1f4)](_0x2efd6c(0x10e)),_0x35896c=document[_0x2efd6c(0x1f4)]('timer-duration-input');_0x2572f8[_0x2efd6c(0x823)][_0x2efd6c(0x5cf)]===_0x2efd6c(0xbe)?_0x12b635[_0x2efd6c(0x87b)]['add']('hidden'):(_0x12b635[_0x2efd6c(0x87b)][_0x2efd6c(0x8e)](_0x2efd6c(0x727)),_0x2572f8[_0x2efd6c(0x823)][_0x2efd6c(0x5cf)]==='whole_quiz'?(_0x9f8d19[_0x2efd6c(0x810)]=_0x2efd6c(0xa7),_0x35896c[_0x2efd6c(0x5cf)]='10'):(_0x9f8d19[_0x2efd6c(0x810)]=_0x2efd6c(0x281),_0x35896c[_0x2efd6c(0x5cf)]='30'));}),document[_0x346f4b(0x1f4)](_0x346f4b(0x509))['addEventListener'](_0x346f4b(0x93),_0x34cee7=>{const _0x25ae09=_0x346f4b,_0x52d76b=document[_0x25ae09(0x1f4)](_0x25ae09(0x633)),_0x498e9a=_0x34cee7[_0x25ae09(0x823)]['value'],_0x4d9c46=document[_0x25ae09(0x76d)](_0x25ae09(0x23a)),_0x17a297=document[_0x25ae09(0x1f4)](_0x25ae09(0x2ef)),_0x454d30=document[_0x25ae09(0x1f4)](_0x25ae09(0x679));_0x498e9a==='matching'?_0x4d9c46['textContent']='จำนวนคู่:':_0x4d9c46['textContent']=_0x25ae09(0x3a3),_0x498e9a===_0x25ae09(0x657)||_0x498e9a===_0x25ae09(0x3a7)||_0x498e9a===_0x25ae09(0x7b1)?_0x52d76b[_0x25ae09(0x87b)][_0x25ae09(0x8e)](_0x25ae09(0x727)):_0x52d76b[_0x25ae09(0x87b)]['add'](_0x25ae09(0x727)),_0x17a297['max']=_0x454d30[_0x25ae09(0x5cf)];}),document[_0x346f4b(0x1f4)](_0x346f4b(0x679))[_0x346f4b(0x8c0)](_0x346f4b(0x4b9),_0x3fa13f=>{const _0x3fcf7f=_0x346f4b;document[_0x3fcf7f(0x1f4)](_0x3fcf7f(0x2ef))['max']=_0x3fa13f[_0x3fcf7f(0x823)][_0x3fcf7f(0x5cf)];}),document[_0x346f4b(0x1f4)](_0x346f4b(0x6d7))[_0x346f4b(0x8c0)](_0x346f4b(0x93),_0x95a9ae=>{const _0x4d2140=_0x346f4b,_0x436947=document[_0x4d2140(0x1f4)](_0x4d2140(0x6e6)),_0x24f539=document[_0x4d2140(0x1f4)](_0x4d2140(0x613)),_0x4935bd=document['getElementById'](_0x4d2140(0x1a5));_0x95a9ae['target']['value']===_0x4d2140(0xbe)?_0x436947['classList']['add'](_0x4d2140(0x727)):(_0x436947[_0x4d2140(0x87b)][_0x4d2140(0x8e)](_0x4d2140(0x727)),_0x95a9ae[_0x4d2140(0x823)]['value']==='whole_quiz'?_0x24f539[_0x4d2140(0x810)]=_0x4d2140(0xa7):_0x24f539['textContent']='ระยะเวลา\x20(วินาที):');}),document['getElementById'](_0x346f4b(0x76b))[_0x346f4b(0x8c0)]('click',()=>{const _0x2f5f63=_0x346f4b;document['getElementById']('quiz-editor-modal')[_0x2f5f63(0x87b)][_0x2f5f63(0x6aa)]('hidden');}),document[_0x346f4b(0x1f4)](_0x346f4b(0x1d5))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>{const _0x309daa=_0x346f4b;document['getElementById']('quiz-editor-modal')[_0x309daa(0x87b)]['add'](_0x309daa(0x727));}),document[_0x346f4b(0x1f4)](_0x346f4b(0x67c))['addEventListener'](_0x346f4b(0x2d7),handleVerifyAnswersInEditor),document[_0x346f4b(0x1f4)](_0x346f4b(0x527))[_0x346f4b(0x8c0)]('click',()=>{const _0x9c50a8=_0x346f4b;document[_0x9c50a8(0x1f4)](_0x9c50a8(0x381))[_0x9c50a8(0x87b)]['add'](_0x9c50a8(0x727)),showConfirmation(_0x9c50a8(0x395),handleSaveChanges);}),document[_0x346f4b(0x1f4)](_0x346f4b(0x8ca))['addEventListener'](_0x346f4b(0x2d7),handleAutoFixLatex);const _0x35c940=document[_0x346f4b(0x1f4)](_0x346f4b(0x3cf));_0x35c940&&_0x35c940['addEventListener'](_0x346f4b(0x2d7),_0x468368=>{const _0xb00eb8=_0x346f4b,_0x4e3ea4=_0x468368[_0xb00eb8(0x823)][_0xb00eb8(0x88)](_0xb00eb8(0x1f7)),_0x144473=_0x468368[_0xb00eb8(0x823)][_0xb00eb8(0x88)](_0xb00eb8(0x684));if(_0x4e3ea4){const _0x3ab1f1=_0x4e3ea4['closest'](_0xb00eb8(0x48b)),_0x5ea4d7=parseInt(_0x3ab1f1[_0xb00eb8(0x873)][_0xb00eb8(0x6b8)],0xa);handleRegenerateQuestionInEditor(_0x5ea4d7);}else{if(_0x144473){const _0x207468=_0x144473[_0xb00eb8(0x88)](_0xb00eb8(0x48b)),_0x4dc929=parseInt(_0x207468['dataset'][_0xb00eb8(0x6b8)],0xa);handleAiFixFormula(_0x4dc929);}}});document[_0x346f4b(0x1f4)]('open-quiz-bank-btn')[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),openQuizBankModal),document[_0x346f4b(0x1f4)](_0x346f4b(0x2e7))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>{const _0x43e1de=_0x346f4b;document[_0x43e1de(0x1f4)](_0x43e1de(0x2c0))[_0x43e1de(0x87b)][_0x43e1de(0x6aa)](_0x43e1de(0x727));}),document[_0x346f4b(0x1f4)](_0x346f4b(0x47a))['addEventListener'](_0x346f4b(0x4b9),_0x4eea76=>renderQuizBankList(_0x4eea76['target'][_0x346f4b(0x5cf)]));const _0x49a710=document[_0x346f4b(0x1f4)](_0x346f4b(0x35f));if(_0x49a710){let _0x3f2366=null;_0x49a710[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),_0x251b82=>{const _0x497eb0=_0x346f4b,_0x47034d=_0x251b82['target'],_0x2fc056=_0x47034d['closest']('.edit-custom-topic-btn'),_0x110c35=_0x47034d[_0x497eb0(0x88)](_0x497eb0(0x7c9)),_0x464c18=_0x47034d[_0x497eb0(0x88)](_0x497eb0(0x6c4)),_0x3bcbf3=_0x47034d['closest'](_0x497eb0(0x668));if(_0x110c35){_0x251b82[_0x497eb0(0x1cb)]();const _0x368c7f=_0x110c35[_0x497eb0(0x873)]['id'],_0x5b0dd5=_0x110c35['closest'](_0x497eb0(0x51f))[_0x497eb0(0x76d)](_0x497eb0(0x530))[_0x497eb0(0x810)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x5b0dd5+'\x22?',()=>handleDeleteCustomTopic(_0x368c7f));}else{if(_0x2fc056){_0x251b82['preventDefault']();_0x3f2366&&toggleTopicEditMode(_0x3f2366,![]);const _0x5c600a=_0x2fc056['closest']('[data-topic-container-id]');_0x3f2366=_0x5c600a,toggleTopicEditMode(_0x5c600a,!![]);}else{if(_0x464c18){_0x251b82[_0x497eb0(0x1cb)]();const _0x2bb583=_0x464c18[_0x497eb0(0x873)]['id'],_0x3e75df=_0x464c18['closest']('[data-topic-container-id]'),_0x229cf3=_0x3e75df[_0x497eb0(0x76d)]('.topic-name-input')[_0x497eb0(0x5cf)];handleUpdateCustomTopic(_0x2bb583,_0x229cf3),_0x3f2366=null;}else{if(_0x3bcbf3){_0x251b82[_0x497eb0(0x1cb)]();const _0x273345=_0x3bcbf3[_0x497eb0(0x88)](_0x497eb0(0x151));toggleTopicEditMode(_0x273345,![]),_0x3f2366=null;}}}}}),document[_0x346f4b(0x1f4)]('close-lesson-plan-modal-btn')[_0x346f4b(0x8c0)]('click',()=>{const _0x4fa117=_0x346f4b;document['getElementById'](_0x4fa117(0x2f9))['classList'][_0x4fa117(0x6aa)](_0x4fa117(0x727));}),document[_0x346f4b(0x1f4)](_0x346f4b(0x5d1))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>{const _0x4e1c3e=_0x346f4b;document[_0x4e1c3e(0x1f4)](_0x4e1c3e(0x2f9))['classList'][_0x4e1c3e(0x6aa)]('hidden');}),document[_0x346f4b(0x1f4)](_0x346f4b(0x7ee))['addEventListener'](_0x346f4b(0x2d7),handleExportLessonPDF);}document['getElementById'](_0x346f4b(0x78b))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>{const _0x43d325=_0x346f4b;document[_0x43d325(0x1f4)](_0x43d325(0x2ca))[_0x43d325(0x87b)]['add'](_0x43d325(0x727));}),document['getElementById'](_0x346f4b(0x17b))[_0x346f4b(0x8c0)](_0x346f4b(0x2d7),()=>{const _0x1ba8a3=_0x346f4b;document[_0x1ba8a3(0x1f4)](_0x1ba8a3(0x2ca))[_0x1ba8a3(0x87b)][_0x1ba8a3(0x6aa)](_0x1ba8a3(0x727));}),setupComparisonModalTabs(),document['body'][_0x346f4b(0x8c0)]('click',function(_0xda3023){const _0xb7b352=_0x346f4b;if(_0xda3023[_0xb7b352(0x823)]['classList'][_0xb7b352(0x5c2)](_0xb7b352(0xf3))){const _0x5c31de=unescape(_0xda3023[_0xb7b352(0x823)]['dataset']['topic']);startSkillPractice(_0x5c31de);}}),document['getElementById'](_0x346f4b(0xc5))['addEventListener'](_0x346f4b(0x2d7),_0x57ae2c=>{const _0x26edfb=_0x346f4b,_0x39a9b3=_0x57ae2c[_0x26edfb(0x823)][_0x26edfb(0x88)](_0x26edfb(0x362));if(_0x39a9b3){const _0x4693d1=_0x39a9b3[_0x26edfb(0x873)][_0x26edfb(0x2b1)];handleDeleteSubmission(_0x4693d1);}});}async function showStudentProgressView(){const _0x545779=_0x50f1a4;studentInitialView[_0x545779(0x87b)][_0x545779(0x6aa)](_0x545779(0x727)),document[_0x545779(0x1f4)](_0x545779(0x84a))[_0x545779(0x87b)]['remove'](_0x545779(0x727));const _0x479c8a=document[_0x545779(0x1f4)](_0x545779(0x77a)),_0x4104c6=document[_0x545779(0x1f4)]('progress-student-select'),_0x48306f=document[_0x545779(0x1f4)](_0x545779(0x195));_0x48306f[_0x545779(0x535)]=_0x545779(0x49d),_0x4104c6['innerHTML']=_0x545779(0x809),_0x4104c6[_0x545779(0x891)]=!![],_0x479c8a[_0x545779(0x535)]=_0x545779(0x3f2);if(allProjects[_0x545779(0x43f)]===0x0){const _0x444254=collection(db,'artifacts/'+appId+_0x545779(0x5ff)),_0x37116c=await getDocs(_0x444254);allProjects=_0x37116c[_0x545779(0x3b3)][_0x545779(0x27d)](_0x5126e1=>({'id':_0x5126e1['id'],..._0x5126e1[_0x545779(0x3db)]()}));}const _0x1e2fa6=allProjects[_0x545779(0x4d9)](_0x18b10c=>_0x18b10c[_0x545779(0x4b5)]?.['showInStudentDashboard']!==![]);_0x1e2fa6['sort']((_0x391e31,_0x45d311)=>_0x391e31[_0x545779(0x42b)][_0x545779(0x27f)](_0x45d311[_0x545779(0x42b)],'th')),_0x479c8a[_0x545779(0x535)]=_0x545779(0x869)+_0x1e2fa6['map'](_0x4383af=>_0x545779(0x1fe)+_0x4383af['id']+'\x22>'+_0x4383af[_0x545779(0x42b)]+_0x545779(0x212))[_0x545779(0x211)](''),_0x479c8a[_0x545779(0x852)]=()=>{const _0x55ce15=_0x545779,_0x170d4b=_0x4104c6['value'],_0x3f26a3=_0x479c8a[_0x55ce15(0x5cf)];_0x4104c6[_0x55ce15(0x891)]=!![],_0x4104c6['innerHTML']=_0x55ce15(0x809),_0x48306f['innerHTML']=_0x55ce15(0x575);if(!_0x3f26a3)return;const _0x1d1ed4=allProjects[_0x55ce15(0x700)](_0x50b048=>_0x50b048['id']===_0x3f26a3);if(!_0x1d1ed4||!_0x1d1ed4[_0x55ce15(0x327)])return;const _0x73ae4=()=>{const _0x2df3e8=_0x55ce15;_0x4104c6[_0x2df3e8(0x535)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x1d1ed4[_0x2df3e8(0x327)][_0x2df3e8(0x27d)](_0x52f911=>_0x2df3e8(0x1fe)+_0x52f911+'\x22>'+_0x52f911+_0x2df3e8(0x212))[_0x2df3e8(0x211)](''),_0x4104c6[_0x2df3e8(0x891)]=![];const _0x5b2bce=Array[_0x2df3e8(0x41e)](_0x4104c6[_0x2df3e8(0x4a1)])['map'](_0x13ec9e=>_0x13ec9e[_0x2df3e8(0x5cf)]);if(_0x170d4b&&_0x5b2bce['includes'](_0x170d4b))_0x4104c6[_0x2df3e8(0x5cf)]=_0x170d4b,_0x4104c6['dispatchEvent'](new Event(_0x2df3e8(0x93)));else _0x1d1ed4[_0x2df3e8(0x327)][_0x2df3e8(0x43f)]===0x1&&(_0x4104c6[_0x2df3e8(0x5cf)]=_0x1d1ed4[_0x2df3e8(0x327)][0x0],_0x4104c6[_0x2df3e8(0x583)](new Event(_0x2df3e8(0x93))));};if(_0x1d1ed4[_0x55ce15(0x4b5)]?.['isPasscodeEnabled']){if(sessionStorage[_0x55ce15(0x876)]('authed_project_'+_0x3f26a3)===_0x55ce15(0x7c)){_0x73ae4();return;}const _0x43c0b0=document[_0x55ce15(0x1f4)](_0x55ce15(0x6f6)),_0x5adb30=document[_0x55ce15(0x1f4)](_0x55ce15(0x7c7)),_0x21c379=document[_0x55ce15(0x1f4)](_0x55ce15(0x49f)),_0x5bd14f=document[_0x55ce15(0x1f4)](_0x55ce15(0x631)),_0x296793=document[_0x55ce15(0x1f4)](_0x55ce15(0x66d));document[_0x55ce15(0x1f4)](_0x55ce15(0x399))[_0x55ce15(0x810)]=_0x55ce15(0x6ab)+_0x1d1ed4[_0x55ce15(0x42b)],_0x5bd14f[_0x55ce15(0x5cf)]='',_0x296793[_0x55ce15(0x87b)][_0x55ce15(0x6aa)](_0x55ce15(0x727)),_0x43c0b0['classList'][_0x55ce15(0x8e)]('hidden');const _0x434658=()=>{const _0x19aa02=_0x55ce15,_0x4e38e2=_0x5bd14f[_0x19aa02(0x5cf)][_0x19aa02(0x6e3)]();_0x4e38e2===_0x1d1ed4[_0x19aa02(0x4b5)][_0x19aa02(0x731)]?(sessionStorage[_0x19aa02(0x34e)](_0x19aa02(0x5dc)+_0x3f26a3,_0x19aa02(0x7c)),_0x43c0b0[_0x19aa02(0x87b)][_0x19aa02(0x6aa)](_0x19aa02(0x727)),_0x73ae4(),_0x5adb30[_0x19aa02(0x1c3)](_0x19aa02(0x2d7),_0x434658)):_0x296793['classList']['remove'](_0x19aa02(0x727));};_0x5adb30[_0x55ce15(0x70b)]=_0x434658,_0x21c379['onclick']=()=>{const _0x3bf9dd=_0x55ce15;_0x43c0b0[_0x3bf9dd(0x87b)][_0x3bf9dd(0x6aa)](_0x3bf9dd(0x727)),_0x479c8a[_0x3bf9dd(0x5cf)]='',_0x5adb30[_0x3bf9dd(0x1c3)](_0x3bf9dd(0x2d7),_0x434658);};}else _0x73ae4();},_0x4104c6[_0x545779(0x852)]=()=>{const _0x123fc1=_0x545779,_0x289578=_0x479c8a['value'],_0x35c409=_0x4104c6[_0x123fc1(0x5cf)];_0x289578&&_0x35c409&&renderStudentProgressDashboard(_0x289578,_0x35c409);};}async function renderStudentProgressDashboard(_0x559181,_0x5d070a){const _0x4e3032=_0x50f1a4,_0x338a22=document['getElementById'](_0x4e3032(0x195));_0x338a22[_0x4e3032(0x535)]=_0x4e3032(0x98);try{const _0x1f1b91=collection(db,_0x4e3032(0x385)+appId+'/public/data/quizzes'),_0x63262f=query(_0x1f1b91,where('projectId','==',_0x559181)),_0x46966f=await getDocs(_0x63262f),_0xa7d340=_0x46966f[_0x4e3032(0x3b3)][_0x4e3032(0x27d)](_0x2bd1d4=>({'id':_0x2bd1d4['id'],..._0x2bd1d4['data']()})),_0x51a6f9=_0xa7d340['map'](_0x1993c8=>getDoc(doc(db,_0x4e3032(0x385)+appId+'/public/data/quizzes/'+_0x1993c8['id']+_0x4e3032(0x6fa),_0x5d070a))),_0xee4c4d=await Promise[_0x4e3032(0x75b)](_0x51a6f9),_0x1981b3=_0xee4c4d[_0x4e3032(0x4d9)](_0x3991ec=>_0x3991ec[_0x4e3032(0x5b8)]())[_0x4e3032(0x27d)](_0x9afc4d=>({'quizId':_0x9afc4d['ref'][_0x4e3032(0x574)][_0x4e3032(0x574)]['id'],..._0x9afc4d[_0x4e3032(0x3db)]()}));if(_0x1981b3[_0x4e3032(0x43f)]===0x0){_0x338a22[_0x4e3032(0x535)]=_0x4e3032(0x4ff);return;}let _0x15883a=_0x4e3032(0x8af);_0x1981b3[_0x4e3032(0x887)](_0x3ee73b=>{const _0x4fb4fb=_0x4e3032,_0x12806e=_0xa7d340[_0x4fb4fb(0x700)](_0x4711d6=>_0x4711d6['id']===_0x3ee73b[_0x4fb4fb(0x1b5)]),_0x452703=_0x12806e[_0x4fb4fb(0x4b5)]?.[_0x4fb4fb(0x390)]||_0x4fb4fb(0x205),_0x39fe35=_0x12806e['settings']?.['passingScore']??0x0,_0x10e645=_0x3ee73b[_0x4fb4fb(0x2fd)]>=_0x39fe35;let _0x1a64da='',_0x200cc6=_0x4fb4fb(0x11a);switch(_0x452703){case _0x4fb4fb(0x205):case _0x4fb4fb(0x648):_0x200cc6=_0x10e645?'bg-green-50':_0x4fb4fb(0x48d),_0x1a64da='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x10e645?_0x4fb4fb(0x47c):_0x4fb4fb(0x463))+'\x22>'+_0x3ee73b[_0x4fb4fb(0x2fd)]+'\x20/\x20'+_0x3ee73b[_0x4fb4fb(0x57a)]+_0x4fb4fb(0x3d7)+(_0x10e645?_0x4fb4fb(0x214):_0x4fb4fb(0x670))+'\x22>'+(_0x10e645?_0x4fb4fb(0x78d):'ไม่ผ่าน')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'show_pass_fail_only':_0x200cc6=_0x10e645?_0x4fb4fb(0x303):_0x4fb4fb(0x48d),_0x1a64da=_0x4fb4fb(0xdb)+(_0x10e645?_0x4fb4fb(0x214):_0x4fb4fb(0x670))+'\x22>'+(_0x10e645?_0x4fb4fb(0x78d):_0x4fb4fb(0x701))+_0x4fb4fb(0x180);break;case'manual_release':_0x200cc6=_0x4fb4fb(0x46e),_0x1a64da='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x15883a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x200cc6+_0x4fb4fb(0x6ad)+_0x12806e[_0x4fb4fb(0x2c9)]+_0x4fb4fb(0x7c3)+_0x3ee73b[_0x4fb4fb(0x217)][_0x4fb4fb(0x43f)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x3ee73b[_0x4fb4fb(0x761)])['toLocaleDateString'](_0x4fb4fb(0x491))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1a64da+_0x4fb4fb(0x545);}),_0x15883a+=_0x4e3032(0x235),_0x338a22[_0x4e3032(0x535)]=_0x15883a;}catch(_0x156e6a){console[_0x4e3032(0x5ec)]('Error\x20rendering\x20student\x20progress:',_0x156e6a),_0x338a22[_0x4e3032(0x535)]=_0x4e3032(0x5b7);}}function setupStudentProgressListeners(){const _0x2e6863=_0x50f1a4;document[_0x2e6863(0x1f4)](_0x2e6863(0x342))[_0x2e6863(0x8c0)]('click',showStudentProgressView),document[_0x2e6863(0x1f4)](_0x2e6863(0x82b))[_0x2e6863(0x8c0)](_0x2e6863(0x2d7),()=>{const _0x470998=_0x2e6863;document[_0x470998(0x1f4)](_0x470998(0x84a))['classList'][_0x470998(0x6aa)]('hidden'),document[_0x470998(0x1f4)](_0x470998(0x51c))[_0x470998(0x87b)][_0x470998(0x8e)](_0x470998(0x727));});}async function startSkillPractice(_0x62c735){const _0x38ca65=_0x50f1a4;studentResultArea[_0x38ca65(0x87b)][_0x38ca65(0x6aa)]('hidden'),studentQuizArea[_0x38ca65(0x535)]=_0x38ca65(0x89a),studentQuizArea[_0x38ca65(0x87b)][_0x38ca65(0x8e)]('hidden');try{const _0x2cc654=await getStandardizedTopic(_0x62c735);console[_0x38ca65(0x1da)](_0x38ca65(0x51e)+_0x62c735+_0x38ca65(0x84d)+_0x2cc654+'\x22'),studentQuizArea['querySelector']('p')['textContent']=_0x38ca65(0x182)+_0x2cc654+_0x38ca65(0x21b);const _0x5ebb26=collection(db,_0x38ca65(0x385)+appId+_0x38ca65(0x8c7)),_0x20761c=query(_0x5ebb26,where(_0x38ca65(0x2c9),'==',_0x2cc654)),_0x539e93=await getDocs(_0x20761c);if(_0x539e93[_0x38ca65(0x3b3)][_0x38ca65(0x43f)]>=0x3){console[_0x38ca65(0x1da)]('พบข้อสอบ\x20'+_0x539e93[_0x38ca65(0x3b3)][_0x38ca65(0x43f)]+_0x38ca65(0x81a)+_0x2cc654+_0x38ca65(0x6bd));let _0x32cca8=_0x539e93['docs'][_0x38ca65(0x27d)](_0x2034e3=>_0x2034e3[_0x38ca65(0x3db)]());shuffleArray(_0x32cca8);const _0x1ddc18={'topic':_0x2cc654,'questions':_0x32cca8[_0x38ca65(0x375)](0x0,0x3)};displaySkillPracticeDrill(_0x1ddc18);}else{console[_0x38ca65(0x1da)](_0x38ca65(0x766)+_0x2cc654+_0x38ca65(0x410));const _0x52a176=await generatePracticeQuestions(_0x2cc654);await saveDrillToPracticeBank(_0x52a176,_0x2cc654),displaySkillPracticeDrill(_0x52a176);}}catch(_0xac63db){console[_0x38ca65(0x5ec)](_0x38ca65(0x14d),_0xac63db),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x38ca65(0x87b)][_0x38ca65(0x6aa)](_0x38ca65(0x727)),studentResultArea[_0x38ca65(0x87b)][_0x38ca65(0x8e)](_0x38ca65(0x727));}}async function saveDrillToPracticeBank(_0x4f2a50,_0x65b952){const _0x2a67ad=_0x50f1a4,_0x4fa18e=collection(db,_0x2a67ad(0x385)+appId+'/public/data/practiceBank'),_0x377a0b=writeBatch(db);_0x4f2a50[_0x2a67ad(0x393)][_0x2a67ad(0x887)](_0x2d9e98=>{const _0x22bc42=_0x2a67ad,_0x5a3b0e=doc(_0x4fa18e);_0x377a0b[_0x22bc42(0x499)](_0x5a3b0e,{'topic':_0x65b952,'questionText':_0x2d9e98[_0x22bc42(0x598)],'options':_0x2d9e98[_0x22bc42(0x4a1)],'correctAnswerIndex':_0x2d9e98[_0x22bc42(0x7b0)],'explanation':_0x2d9e98[_0x22bc42(0x58f)],'createdAt':serverTimestamp()});});try{await _0x377a0b['commit'](),console['log'](_0x2a67ad(0x6ac)+_0x4f2a50[_0x2a67ad(0x393)][_0x2a67ad(0x43f)]+_0x2a67ad(0xc7));}catch(_0x49edc2){console['error'](_0x2a67ad(0x426),_0x49edc2);}}async function getStandardizedTopic(_0x27d369){const _0x5c44bf=_0x50f1a4,_0x1c6b2d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x27d369+_0x5c44bf(0x3b6),_0x1a9516={'type':'OBJECT','properties':{'standardTopic':{'type':_0x5c44bf(0xb6)}},'required':[_0x5c44bf(0x5de)]};try{const _0x370e7f=await callAnalysisApi(_0x1c6b2d,_0x1a9516);return _0x370e7f['standardTopic'];}catch(_0x3bab75){return console['error']('Failed\x20to\x20get\x20standardized\x20topic:',_0x3bab75),_0x27d369;}}async function handleGenerateEasyVersionQuiz(_0x351160){showConfirmation('คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้',async()=>{const _0x4cad08=_0x2cea;showMessage(_0x4cad08(0x3a1));try{const _0x3f99db=allQuizzes['find'](_0x5e5c70=>_0x5e5c70['id']===_0x351160);if(!_0x3f99db)throw new Error(_0x4cad08(0xb7));const _0x157c48='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON['stringify'](_0x3f99db[_0x4cad08(0x393)])+_0x4cad08(0x1c0),_0x124b5a={'type':_0x4cad08(0x6fc),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x4cad08(0xb6)},'options':{'type':_0x4cad08(0x467),'items':{'type':_0x4cad08(0xb6)}},'correctAnswerIndex':{'type':_0x4cad08(0x157)},'idealAnswer':{'type':_0x4cad08(0xb6)},'explanation':{'type':_0x4cad08(0xb6)},'imageCode':{'type':_0x4cad08(0xb6)}},'required':[_0x4cad08(0x598),_0x4cad08(0x84e),'explanation']},_0x22a2b8={'type':_0x4cad08(0x6fc),'properties':{'questions':{'type':_0x4cad08(0x467),'items':_0x124b5a}},'required':[_0x4cad08(0x393)]},_0x87f7c9=await callAnalysisApi(_0x157c48,_0x22a2b8);_0x87f7c9&&_0x87f7c9[_0x4cad08(0x393)]&&_0x87f7c9[_0x4cad08(0x393)][_0x4cad08(0x887)](_0x1d6891=>{const _0x4619d8=_0x4cad08;_0x1d6891[_0x4619d8(0x598)]&&(_0x1d6891['questionText']=_0x1d6891[_0x4619d8(0x598)][_0x4619d8(0x6e3)]()[_0x4619d8(0x3c3)](/,$/,'')[_0x4619d8(0x6e3)]());_0x1d6891[_0x4619d8(0x4a1)]&&Array[_0x4619d8(0x247)](_0x1d6891[_0x4619d8(0x4a1)])&&(_0x1d6891['options']=_0x1d6891[_0x4619d8(0x4a1)]['map'](_0x114b27=>_0x114b27||'(ตัวเลือกผิดพลาด)'));if(_0x1d6891[_0x4619d8(0x2f8)]){const _0x2b3d6a=_0x1d6891[_0x4619d8(0x2f8)][_0x4619d8(0x6e3)]();_0x2b3d6a===''||_0x2b3d6a[_0x4619d8(0x476)]()===_0x4619d8(0x30a)||!_0x2b3d6a[_0x4619d8(0x12b)](_0x4619d8(0x4df))?delete _0x1d6891[_0x4619d8(0x2f8)]:_0x1d6891[_0x4619d8(0x2f8)]=_0x2b3d6a;}});if(!_0x87f7c9||!_0x87f7c9['questions']||_0x87f7c9[_0x4cad08(0x393)][_0x4cad08(0x43f)]===0x0)throw new Error(_0x4cad08(0x86e));const _0x192541={'projectId':_0x3f99db[_0x4cad08(0x713)],'quizType':_0x3f99db[_0x4cad08(0x272)],'settings':_0x3f99db['settings'],'createdBy':_0x3f99db['createdBy'],'status':_0x4cad08(0x732),'topic':_0x4cad08(0x762)+_0x3f99db[_0x4cad08(0x2c9)],'questions':_0x87f7c9[_0x4cad08(0x393)],'createdAt':new Date()[_0x4cad08(0x251)](),'quizMode':_0x4cad08(0x660),'pairedQuizId':null};let _0x47bdb0;while(!![]){_0x47bdb0=Math[_0x4cad08(0x136)](0x3e8+Math['random']()*0x2328)['toString']();const _0x1720b9=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x47bdb0));if(!_0x1720b9[_0x4cad08(0x5b8)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x4cad08(0x4bf),_0x47bdb0),_0x192541),showMessage(_0x4cad08(0x6cc));}catch(_0x3923de){console['error'](_0x4cad08(0x80a),_0x3923de),showMessage(_0x4cad08(0x8cb)+_0x3923de['message']);}});}async function generatePracticeQuestions(_0xa3ca07){const _0x45691d=_0x50f1a4,_0x171c42=_0x45691d(0x137)+_0xa3ca07+_0x45691d(0x61a)+simpleMathPrompt+_0x45691d(0x1c4),_0x5d58c3={'type':_0x45691d(0x6fc),'properties':{'questionText':{'type':_0x45691d(0xb6)},'options':{'type':_0x45691d(0x467),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x45691d(0x157)},'explanation':{'type':_0x45691d(0xb6)}},'required':[_0x45691d(0x598),_0x45691d(0x4a1),'correctAnswerIndex','explanation']},_0xb191c6={'type':_0x45691d(0x6fc),'properties':{'topic':{'type':_0x45691d(0xb6)},'questions':{'type':_0x45691d(0x467),'items':_0x5d58c3}},'required':[_0x45691d(0x2c9),_0x45691d(0x393)]};return await callAnalysisApi(_0x171c42,_0xb191c6);}function displayLessonPlan(_0x56193f,_0x4efecd){const _0x5c8915=_0x50f1a4,_0x1ff7de=_0x5c8915(0x166)+_0x4efecd[_0x5c8915(0x2c9)]+_0x5c8915(0x617)+_0x56193f['learningGaps'][_0x5c8915(0x27d)](_0x58dc14=>_0x5c8915(0x152)+_0x58dc14+'</li>')[_0x5c8915(0x211)]('')+_0x5c8915(0x292)+_0x56193f[_0x5c8915(0x800)]+_0x5c8915(0x19a)+_0x56193f[_0x5c8915(0x33b)][_0x5c8915(0x27d)](_0x4f91de=>_0x5c8915(0x348)+_0x4f91de['question']+'</p><p><strong>เฉลย:</strong>\x20'+_0x4f91de[_0x5c8915(0x594)]+_0x5c8915(0x15f))[_0x5c8915(0x211)]('')+_0x5c8915(0x131);document[_0x5c8915(0x1f4)]('lesson-plan-title')[_0x5c8915(0x810)]='แผนการสอน:\x20'+_0x4efecd[_0x5c8915(0x2c9)],document[_0x5c8915(0x1f4)](_0x5c8915(0x573))[_0x5c8915(0x535)]=_0x1ff7de,document['getElementById'](_0x5c8915(0x2f9))['classList'][_0x5c8915(0x8e)](_0x5c8915(0x727));if(window[_0x5c8915(0x7c0)])MathJax[_0x5c8915(0x703)]();}function displaySkillPracticeDrill(_0x415369){const _0x4756eb=_0x50f1a4;let _0x2b38ef=0x0;const _0x3e8ae0=_0x415369[_0x4756eb(0x393)],_0x45c58b=()=>{const _0x201ff9=_0x4756eb,_0x1f5286=_0x3e8ae0[_0x2b38ef],_0x57848c=_0x201ff9(0x122)+(_0x2b38ef+0x1)+_0x201ff9(0x57c)+_0x3e8ae0[_0x201ff9(0x43f)]+_0x201ff9(0x6bf)+_0x1f5286[_0x201ff9(0x598)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f5286[_0x201ff9(0x4a1)]['map']((_0x3ef534,_0x30cb2a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x30cb2a+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x30cb2a+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x30cb2a+'\x22>'+_0x3ef534+_0x201ff9(0x895))[_0x201ff9(0x211)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x201ff9(0x535)]=_0x57848c;if(window[_0x201ff9(0x7c0)])MathJax['typesetPromise']([studentQuizArea]);document[_0x201ff9(0x1f4)](_0x201ff9(0x68b))['addEventListener']('click',async()=>{const _0x3f4336=_0x201ff9,_0x12da32=await getHintForQuestion(_0x1f5286[_0x3f4336(0x598)]);showMessage(_0x12da32);}),document[_0x201ff9(0x1f4)](_0x201ff9(0xc3))[_0x201ff9(0x8c0)](_0x201ff9(0x2d7),()=>{const _0x2a0bf3=_0x201ff9,_0x31ee61=document['querySelector'](_0x2a0bf3(0x12c));if(!_0x31ee61){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x9ac475=document[_0x2a0bf3(0x1f4)]('drill-feedback'),_0x41705c=parseInt(_0x31ee61[_0x2a0bf3(0x5cf)])===_0x1f5286[_0x2a0bf3(0x7b0)];_0x41705c?(_0x9ac475['className']='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x9ac475[_0x2a0bf3(0x535)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x1f5286[_0x2a0bf3(0x58f)]):(_0x9ac475[_0x2a0bf3(0x7e6)]=_0x2a0bf3(0x165),_0x9ac475[_0x2a0bf3(0x535)]=_0x2a0bf3(0x112)+_0x1f5286[_0x2a0bf3(0x58f)]);_0x9ac475[_0x2a0bf3(0x87b)][_0x2a0bf3(0x8e)]('hidden');if(window[_0x2a0bf3(0x7c0)])MathJax[_0x2a0bf3(0x703)]([_0x9ac475]);document[_0x2a0bf3(0x1f4)]('check-answer-btn')['classList'][_0x2a0bf3(0x6aa)](_0x2a0bf3(0x727)),document[_0x2a0bf3(0x1f4)](_0x2a0bf3(0x68b))[_0x2a0bf3(0x87b)][_0x2a0bf3(0x6aa)]('hidden'),document['getElementById']('next-drill-btn')[_0x2a0bf3(0x87b)][_0x2a0bf3(0x8e)]('hidden');}),document[_0x201ff9(0x1f4)](_0x201ff9(0x34b))[_0x201ff9(0x8c0)]('click',()=>{const _0x210aac=_0x201ff9;_0x2b38ef++,_0x2b38ef<_0x3e8ae0['length']?_0x45c58b():(studentQuizArea[_0x210aac(0x535)]=_0x210aac(0x5e5),document[_0x210aac(0x1f4)](_0x210aac(0x5e3))[_0x210aac(0x8c0)]('click',()=>{const _0x544671=_0x210aac;studentQuizArea[_0x544671(0x87b)][_0x544671(0x6aa)](_0x544671(0x727)),studentResultArea[_0x544671(0x87b)][_0x544671(0x8e)](_0x544671(0x727));}));});};_0x45c58b();}async function getHintForQuestion(_0x555aa9){const _0x5336d3=_0x50f1a4,_0x96976d=_0x5336d3(0x8ac)+_0x555aa9+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x3931ce={'type':'OBJECT','properties':{'hint':{'type':_0x5336d3(0xb6)}},'required':[_0x5336d3(0x468)]};try{const _0x3eb544=await callAnalysisApi(_0x96976d,_0x3931ce);return _0x3eb544[_0x5336d3(0x468)];}catch(_0x2df426){return console['error'](_0x5336d3(0x1ae),_0x2df426),_0x5336d3(0x860);}}async function extractTextFromPdf(_0x2b322e){const _0x4c52b6=_0x50f1a4;pdfjsLib[_0x4c52b6(0x228)]['workerSrc']='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x125571=await _0x2b322e[_0x4c52b6(0x23d)](),_0x3c4ac4=await pdfjsLib[_0x4c52b6(0x7f0)](_0x125571)['promise'],_0x1190f4=_0x3c4ac4['numPages'];let _0x26ff40='';for(let _0x392937=0x1;_0x392937<=_0x1190f4;_0x392937++){const _0x5d759b=await _0x3c4ac4['getPage'](_0x392937),_0x2491a8=await _0x5d759b[_0x4c52b6(0x663)](),_0x2faf85=_0x2491a8['items'][_0x4c52b6(0x27d)](_0x35353e=>_0x35353e[_0x4c52b6(0x81f)])[_0x4c52b6(0x211)]('\x20');_0x26ff40+=_0x2faf85+'\x0a\x0a';}return _0x26ff40;}async function handleGenerateFromBlueprint(){const _0x204fcb=_0x50f1a4,_0x498859=document[_0x204fcb(0x1f4)]('blueprint-upload-input'),_0x599687=document[_0x204fcb(0x1f4)](_0x204fcb(0x425)),_0x3e18f8=_0x498859['files'][0x0],_0x68f561=_0x599687[_0x204fcb(0x655)][_0x204fcb(0x43f)]>0x0?_0x599687[_0x204fcb(0x655)][0x0]:null;if(!_0x3e18f8){showMessage(_0x204fcb(0x4bc));return;}const _0x3beb24=document[_0x204fcb(0x1f4)](_0x204fcb(0x677)),_0x3bfc5b=document['getElementById'](_0x204fcb(0x672)),_0xc9ce32=document['getElementById']('generated-quiz-container'),_0x5c3d89=document[_0x204fcb(0x1f4)](_0x204fcb(0x5aa));_0x5c3d89[_0x204fcb(0x891)]=!![],document[_0x204fcb(0x1f4)](_0x204fcb(0x3e4))[_0x204fcb(0x87b)]['remove'](_0x204fcb(0x727)),_0xc9ce32[_0x204fcb(0x535)]='',_0x3beb24['classList']['remove'](_0x204fcb(0x727));try{_0x3bfc5b[_0x204fcb(0x810)]='กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...';const _0x44d9b6=await extractTextFromPdf(_0x3e18f8);if(!_0x44d9b6[_0x204fcb(0x6e3)]())throw new Error(_0x204fcb(0x7ea));let _0x4dd79d='';_0x68f561&&(_0x3bfc5b[_0x204fcb(0x810)]=_0x204fcb(0x7e2),_0x4dd79d=await extractTextFromPdf(_0x68f561));_0x3bfc5b[_0x204fcb(0x810)]=_0x204fcb(0x529);const _0x1b5804=document[_0x204fcb(0x1f4)](_0x204fcb(0x209))['checked'],_0x26664=_0x1b5804?_0x204fcb(0x616):'',_0x3af0b1=_0x4dd79d?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4dd79d+_0x204fcb(0x1fc):'',_0x536b48=_0x204fcb(0x864)+(_0x4dd79d?_0x204fcb(0x89):'')+_0x204fcb(0x618)+_0x44d9b6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3af0b1+_0x204fcb(0x4a6)+_0x26664+_0x204fcb(0xec)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x193e80={'type':_0x204fcb(0x6fc),'properties':{'questionText':{'type':_0x204fcb(0xb6)},'questionType':{'type':_0x204fcb(0xb6),'enum':[_0x204fcb(0x657),_0x204fcb(0x65e)]},'options':{'type':_0x204fcb(0x467),'items':{'type':_0x204fcb(0xb6)}},'correctAnswerIndex':{'type':_0x204fcb(0x157)},'idealAnswer':{'type':_0x204fcb(0xb6)},'explanation':{'type':_0x204fcb(0xb6)},'imageCode':{'type':'STRING'}},'required':['questionText','questionType',_0x204fcb(0x58f)]},_0x2d255e={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x204fcb(0x467),'items':_0x193e80}},'required':[_0x204fcb(0x2c9),_0x204fcb(0x393)]};await handleApiCall(_0x536b48,_0x204fcb(0x304),_0x2d255e);}catch(_0xf0101){console[_0x204fcb(0x5ec)](_0x204fcb(0x5bb),_0xf0101),showMessage(_0x204fcb(0x8cb)+_0xf0101['message']),_0xc9ce32[_0x204fcb(0x535)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>';}finally{_0x3beb24['classList'][_0x204fcb(0x6aa)](_0x204fcb(0x727)),_0x5c3d89[_0x204fcb(0x891)]=![];}}async function handleGenerateParallelFromBank(_0x65eeb){const _0x2d5f5a=_0x50f1a4;switchProjectTab('manage');const _0x4f262e=document[_0x2d5f5a(0x1f4)]('loader'),_0x332265=document['getElementById']('loader-text'),_0x48e6ea=document[_0x2d5f5a(0x1f4)](_0x2d5f5a(0x6f8));document[_0x2d5f5a(0x1f4)](_0x2d5f5a(0x3e4))[_0x2d5f5a(0x87b)][_0x2d5f5a(0x8e)](_0x2d5f5a(0x727)),_0x48e6ea[_0x2d5f5a(0x535)]='',_0x4f262e['classList'][_0x2d5f5a(0x8e)]('hidden'),_0x332265[_0x2d5f5a(0x810)]='กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x65eeb[_0x2d5f5a(0x2c9)]+_0x2d5f5a(0x440);try{const _0xd941b6=_0x65eeb['questions'][_0x2d5f5a(0x27d)]((_0x30be66,_0x464fee)=>{const _0x58879e=_0x2d5f5a;let _0x183aa8=_0x464fee+0x1+'.\x20'+(_0x30be66[_0x58879e(0x598)]||_0x30be66['stem'])+'\x0a';if(_0x30be66['options'])_0x183aa8+=_0x30be66[_0x58879e(0x4a1)][_0x58879e(0x27d)]((_0x4ee365,_0x44a220)=>_0x58879e(0x1ad)+(_0x44a220===_0x30be66[_0x58879e(0x7b0)]?_0x58879e(0x134):'')+'\x20'+_0x4ee365)['join']('\x0a');else _0x30be66['idealAnswer']&&(_0x183aa8+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x30be66['idealAnswer']);return _0x183aa8;})[_0x2d5f5a(0x211)]('\x0a\x0a');_0x332265[_0x2d5f5a(0x810)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0xbbebf0=_0x65eeb[_0x2d5f5a(0x393)][_0x2d5f5a(0x43f)],_0x1ca6de=_0x2d5f5a(0x3bd)+_0x65eeb['topic']+_0x2d5f5a(0x150)+_0xbbebf0+'\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd941b6+_0x2d5f5a(0x563)+_0xbbebf0+_0x2d5f5a(0x571)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x336ab5={'type':_0x2d5f5a(0x6fc),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2d5f5a(0xb6),'enum':[_0x2d5f5a(0x657),_0x2d5f5a(0x65e),'true_false',_0x2d5f5a(0xcf)]},'options':{'type':_0x2d5f5a(0x467),'items':{'type':_0x2d5f5a(0xb6)}},'correctAnswerIndex':{'type':_0x2d5f5a(0x157)},'idealAnswer':{'type':_0x2d5f5a(0xb6)},'correctAnswer':{'type':_0x2d5f5a(0x37b)},'stem':{'type':_0x2d5f5a(0xb6)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x2d5f5a(0x467),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2d5f5a(0xb6)}},'required':[_0x2d5f5a(0x598),_0x2d5f5a(0x84e),_0x2d5f5a(0x58f)]},_0x54a001={'type':_0x2d5f5a(0x6fc),'properties':{'topic':{'type':_0x2d5f5a(0xb6)},'questions':{'type':_0x2d5f5a(0x467),'items':_0x336ab5}},'required':[_0x2d5f5a(0x2c9),'questions']},_0x4d1839=await callAnalysisApi(_0x1ca6de,_0x54a001);_0x4d1839[_0x2d5f5a(0x393)][_0x2d5f5a(0x43f)]>_0xbbebf0&&(_0x4d1839[_0x2d5f5a(0x393)]=_0x4d1839[_0x2d5f5a(0x393)]['slice'](0x0,_0xbbebf0)),_0x4d1839[_0x2d5f5a(0x2c9)]=_0x2d5f5a(0x4b0)+_0x65eeb[_0x2d5f5a(0x2c9)],_0x4d1839[_0x2d5f5a(0x272)]=_0x65eeb[_0x2d5f5a(0x272)],currentQuizData=_0x4d1839,displayGeneratedQuiz(_0x4d1839),document['getElementById'](_0x2d5f5a(0x4f2))['scrollIntoView']({'behavior':'smooth'});}catch(_0x4414a){console[_0x2d5f5a(0x5ec)](_0x2d5f5a(0x821),_0x4414a),showMessage(_0x2d5f5a(0x8cb)+_0x4414a[_0x2d5f5a(0x561)]),_0x48e6ea['innerHTML']=_0x2d5f5a(0x787);}finally{_0x4f262e[_0x2d5f5a(0x87b)][_0x2d5f5a(0x6aa)](_0x2d5f5a(0x727));}}async function handleGenerateParallelPostTest(_0x4a3809){const _0x58702a=_0x50f1a4,_0x2e5187=document[_0x58702a(0x1f4)]('results-tab-content'),_0x5223b3=document[_0x58702a(0x1f4)](_0x58702a(0x444));_0x5223b3[_0x58702a(0x87b)][_0x58702a(0x6aa)]('hidden');const _0x3a6380='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2e5187[_0x58702a(0x4e7)]('beforeend',_0x3a6380);try{const _0x5c6bce=_0x4a3809[_0x58702a(0x393)][_0x58702a(0x27d)]((_0x595fdf,_0x30a031)=>{const _0x39ab9c=_0x58702a;let _0x437c83=_0x30a031+0x1+'.\x20'+(_0x595fdf[_0x39ab9c(0x598)]||_0x595fdf['stem']);if(_0x595fdf[_0x39ab9c(0x4a1)])_0x437c83+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x595fdf[_0x39ab9c(0x4a1)][_0x39ab9c(0x211)](',\x20');return _0x437c83;})[_0x58702a(0x211)]('\x0a\x0a'),_0x2ff31c=_0x58702a(0x69a)+_0x4a3809[_0x58702a(0x2c9)]+_0x58702a(0x191)+_0x5c6bce+_0x58702a(0x7f3)+simpleMathPrompt+_0x58702a(0x3f3),_0x266b42={'type':_0x58702a(0x6fc),'properties':{'topic':{'type':_0x58702a(0xb6)},'questions':{'type':'ARRAY','items':{'type':_0x58702a(0x6fc),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x58702a(0xb6)},'options':{'type':_0x58702a(0x467),'items':{'type':_0x58702a(0xb6)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x58702a(0xb6)}},'required':[_0x58702a(0x598),_0x58702a(0x58f)]}}},'required':['topic',_0x58702a(0x393)]},_0xbe2556=await callAnalysisApi(_0x2ff31c,_0x266b42),_0x1fc430=_0x4a3809[_0x58702a(0x2c9)][_0x58702a(0x3c3)](_0x58702a(0x5e8),'')[_0x58702a(0x6e3)](),_0x77aa8=_0x58702a(0x339)+_0x1fc430,_0x17ac6a={..._0xbe2556,'topic':_0x77aa8,'quizType':_0x4a3809['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x58702a(0x251)](),'status':'active','settings':_0x4a3809[_0x58702a(0x4b5)],'quizMode':_0x58702a(0x5fa),'pairedQuizId':_0x4a3809['id']};let _0x3034a9;while(!![]){_0x3034a9=Math[_0x58702a(0x136)](0x3e8+Math[_0x58702a(0x36e)]()*0x2328)['toString']();const _0x4fd6bb=await getDoc(doc(db,_0x58702a(0x385)+appId+_0x58702a(0x4bf),_0x3034a9));if(!_0x4fd6bb['exists']())break;}await setDoc(doc(db,_0x58702a(0x385)+appId+_0x58702a(0x4bf),_0x3034a9),_0x17ac6a);const _0x527126=doc(db,'artifacts/'+appId+_0x58702a(0x4bf),_0x4a3809['id']);await updateDoc(_0x527126,{'pairedQuizId':_0x3034a9}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x97bae4){console[_0x58702a(0x5ec)](_0x58702a(0x57d),_0x97bae4),showMessage(_0x58702a(0x8cb)+_0x97bae4[_0x58702a(0x561)]);}finally{const _0x2842f8=document[_0x58702a(0x1f4)](_0x58702a(0x5eb));if(_0x2842f8)_0x2842f8[_0x58702a(0x8e)]();_0x5223b3[_0x58702a(0x87b)]['remove'](_0x58702a(0x727));}}async function handleGenerateParallelTest(){const _0xdb3feb=_0x50f1a4,_0x4e4e6b=document['getElementById'](_0xdb3feb(0x44f)),_0x3a1015=_0x4e4e6b[_0xdb3feb(0x655)][0x0];if(!_0x3a1015){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน');return;}const _0x179dd9=document[_0xdb3feb(0x1f4)](_0xdb3feb(0x677)),_0x498827=document[_0xdb3feb(0x1f4)](_0xdb3feb(0x672)),_0x4ca441=document[_0xdb3feb(0x1f4)](_0xdb3feb(0x6f8)),_0x58c32e=document[_0xdb3feb(0x1f4)]('generate-from-parallel-test-btn');_0x58c32e['disabled']=!![],document[_0xdb3feb(0x1f4)](_0xdb3feb(0x3e4))[_0xdb3feb(0x87b)][_0xdb3feb(0x8e)]('hidden'),_0x4ca441[_0xdb3feb(0x535)]='',_0x179dd9[_0xdb3feb(0x87b)][_0xdb3feb(0x8e)]('hidden'),_0x498827['textContent']=_0xdb3feb(0x3a6);try{const _0x42d1d0=await extractTextFromPdf(_0x3a1015);if(!_0x42d1d0[_0xdb3feb(0x6e3)]())throw new Error(_0xdb3feb(0x5e1));_0x498827[_0xdb3feb(0x810)]=_0xdb3feb(0x43a);const _0x22c22f=document[_0xdb3feb(0x1f4)](_0xdb3feb(0x209))['checked'],_0x190a13=_0x22c22f?_0xdb3feb(0x616):'',_0x547297=_0xdb3feb(0x723)+_0x42d1d0+_0xdb3feb(0xf8)+_0x190a13+_0xdb3feb(0xec)+simpleMathPrompt+_0xdb3feb(0x3f3),_0x4e2055={'type':_0xdb3feb(0x6fc),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':['multiple_choice',_0xdb3feb(0x65e)]},'options':{'type':_0xdb3feb(0x467),'items':{'type':_0xdb3feb(0xb6)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0xdb3feb(0xb6)},'explanation':{'type':_0xdb3feb(0xb6)},'imageCode':{'type':_0xdb3feb(0xb6)}},'required':[_0xdb3feb(0x598),_0xdb3feb(0x84e),'explanation']},_0x7cd08a={'type':_0xdb3feb(0x6fc),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x4e2055}},'required':['topic',_0xdb3feb(0x393)]};await handleApiCall(_0x547297,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x7cd08a);}catch(_0xb3904f){console['error']('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0xb3904f),showMessage(_0xdb3feb(0x8cb)+_0xb3904f[_0xdb3feb(0x561)]),_0x4ca441[_0xdb3feb(0x535)]=_0xdb3feb(0x787);}finally{_0x179dd9[_0xdb3feb(0x87b)][_0xdb3feb(0x6aa)](_0xdb3feb(0x727)),_0x58c32e[_0xdb3feb(0x891)]=![];}}async function handleRegenerateQuestionInEditor(_0x14a1fc){const _0x5123d7=_0x50f1a4;if(currentEditingQuizData===null)return;const _0x3f8092=document[_0x5123d7(0x76d)]('.question-editor-item[data-q-index=\x22'+_0x14a1fc+'\x22]');_0x3f8092&&(_0x3f8092[_0x5123d7(0x535)]=_0x5123d7(0x65a));const _0x1fbe71=currentEditingQuizData[_0x5123d7(0x393)][_0x14a1fc],_0x544ca1=currentEditingQuizData[_0x5123d7(0x2c9)],_0x41b62e=_0x1fbe71['questionType'],_0x30b5d4={'type':_0x5123d7(0x6fc),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x5123d7(0x467),'items':{'type':_0x5123d7(0xb6)}},'correctAnswerIndex':{'type':_0x5123d7(0x157)},'explanation':{'type':_0x5123d7(0xb6)}},'required':['questionText',_0x5123d7(0x4a1),_0x5123d7(0x7b0),_0x5123d7(0x58f)]},_0x511f02={'type':_0x5123d7(0x6fc),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x5123d7(0xb6)},'explanation':{'type':_0x5123d7(0xb6)}},'required':['questionText',_0x5123d7(0x66f),_0x5123d7(0x58f)]};let _0x1e65b0,_0x1c1ef3='';_0x41b62e===_0x5123d7(0x657)?(_0x1e65b0=_0x30b5d4,_0x1c1ef3=_0x5123d7(0x6a2)):(_0x1e65b0=_0x511f02,_0x1c1ef3=_0x5123d7(0x7d));const _0xaebd9b=_0x5123d7(0x4fe)+_0x544ca1+_0x5123d7(0x26c)+_0x1c1ef3+_0x5123d7(0xb0)+(_0x1fbe71['questionText']||_0x1fbe71[_0x5123d7(0x63e)])+_0x5123d7(0x94)+simpleMathPrompt;try{const _0x363b16=await callAnalysisApi(_0xaebd9b,_0x1e65b0);currentEditingQuizData['questions'][_0x14a1fc]={..._0x1fbe71,..._0x363b16},renderQuizEditor(currentEditingQuizData);}catch(_0x27e6fc){console[_0x5123d7(0x5ec)](_0x5123d7(0x198),_0x27e6fc),showMessage(_0x5123d7(0x1b0)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x4a5775=_0x50f1a4,_0x513b01=document['getElementById']('mode-switcher-btn');currentMode===_0x4a5775(0xba)?(adminPasswordModal[_0x4a5775(0x87b)]['remove'](_0x4a5775(0x727)),document[_0x4a5775(0x1f4)](_0x4a5775(0x51b))[_0x4a5775(0x661)]()):(currentMode=_0x4a5775(0xba),_0x513b01[_0x4a5775(0x535)]=_0x4a5775(0x351),_0x513b01[_0x4a5775(0x3b7)]=_0x4a5775(0x81),showView('student'));}function handleAdminLogin(){const _0x843b6d=_0x50f1a4,_0x18a67b=document[_0x843b6d(0x1f4)](_0x843b6d(0x51b)),_0x2ab9f3=document[_0x843b6d(0x1f4)]('password-error-msg');if(_0x18a67b[_0x843b6d(0x5cf)]===_0x843b6d(0x7ac)){adminPasswordModal[_0x843b6d(0x87b)][_0x843b6d(0x6aa)](_0x843b6d(0x727)),_0x18a67b[_0x843b6d(0x5cf)]='',_0x2ab9f3[_0x843b6d(0x87b)][_0x843b6d(0x6aa)](_0x843b6d(0x727)),currentMode=_0x843b6d(0x5be);const _0x1e724b=document[_0x843b6d(0x1f4)]('mode-switcher-btn');_0x1e724b[_0x843b6d(0x535)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x1e724b[_0x843b6d(0x3b7)]='สลับไปโหมดนักเรียน',showView(_0x843b6d(0x233));}else _0x2ab9f3[_0x843b6d(0x87b)][_0x843b6d(0x8e)](_0x843b6d(0x727)),_0x18a67b[_0x843b6d(0x5cf)]='';}function switchProjectTab(_0x2c993f){const _0x249d3f=_0x50f1a4;[_0x249d3f(0x4b8),_0x249d3f(0x2cf),_0x249d3f(0x3ac)]['forEach'](_0x1f55ca=>{const _0x4f715c=_0x249d3f;document['getElementById'](_0x1f55ca+_0x4f715c(0x3c5))['classList'][_0x4f715c(0x8e)](_0x4f715c(0x732)),document[_0x4f715c(0x1f4)](_0x1f55ca+_0x4f715c(0x42f))[_0x4f715c(0x87b)][_0x4f715c(0x6aa)]('hidden');}),document[_0x249d3f(0x1f4)](_0x2c993f+'-tab')['classList'][_0x249d3f(0x6aa)](_0x249d3f(0x732)),document[_0x249d3f(0x1f4)](_0x2c993f+_0x249d3f(0x42f))[_0x249d3f(0x87b)]['remove'](_0x249d3f(0x727));}function switchQuizDetailTab(_0x11c306){const _0x1a42d6=_0x50f1a4,_0x13c823={'analytics':{'btn':_0x1a42d6(0x3c8),'content':_0x1a42d6(0x39b)},'scores':{'btn':_0x1a42d6(0x314),'content':_0x1a42d6(0xc5)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x1a42d6(0x711),'content':'behavior-log-tab-content'}};for(const _0x54d2e5 in _0x13c823){document[_0x1a42d6(0x1f4)](_0x13c823[_0x54d2e5][_0x1a42d6(0x624)])[_0x1a42d6(0x87b)]['remove']('active'),document[_0x1a42d6(0x1f4)](_0x13c823[_0x54d2e5][_0x1a42d6(0x4c4)])[_0x1a42d6(0x87b)][_0x1a42d6(0x6aa)]('hidden');}document[_0x1a42d6(0x1f4)](_0x13c823[_0x11c306][_0x1a42d6(0x624)])[_0x1a42d6(0x87b)][_0x1a42d6(0x6aa)](_0x1a42d6(0x732)),document['getElementById'](_0x13c823[_0x11c306][_0x1a42d6(0x4c4)])[_0x1a42d6(0x87b)][_0x1a42d6(0x8e)](_0x1a42d6(0x727));}function showMessage(_0x6b8738,_0x347644=null){const _0x34f81b=_0x50f1a4;modalMessage[_0x34f81b(0x810)]=_0x6b8738,modalConfirmAction=_0x347644,messageModal[_0x34f81b(0x87b)][_0x34f81b(0x8e)](_0x34f81b(0x727));}function showConfirmation(_0x3dce58,_0x32b971){const _0x4384d4=_0x50f1a4;document[_0x4384d4(0x1f4)]('confirmation-message')[_0x4384d4(0x810)]=_0x3dce58,document[_0x4384d4(0x1f4)](_0x4384d4(0x439))[_0x4384d4(0x76d)]('h3')[_0x4384d4(0x810)]='ยืนยันการกระทำ',confirmAction=_0x32b971,confirmationModal['classList'][_0x4384d4(0x8e)](_0x4384d4(0x727));}function listenForProjects(){const _0x7197ec=_0x50f1a4,_0x2ce8b0=doc(db,_0x7197ec(0x813),_0x7197ec(0x184));onSnapshot(_0x2ce8b0,_0x2395de=>{const _0x3d79b1=_0x7197ec;if(_0x2395de[_0x3d79b1(0x5b8)]()){const _0x33d213=_0x2395de[_0x3d79b1(0x3db)]();globalDashboardSettings['projectSort']=_0x33d213[_0x3d79b1(0x78e)]||_0x3d79b1(0x2bc),globalDashboardSettings[_0x3d79b1(0x7cf)]=_0x33d213['pinnedProjects']||[],globalDashboardSettings[_0x3d79b1(0x61f)]=_0x33d213[_0x3d79b1(0x61f)]||[];}allProjects[_0x3d79b1(0x43f)]>0x0&&renderProjects();});const _0x2920bc=collection(db,'artifacts/'+appId+_0x7197ec(0x5ff));unsubscribeProjectsListener=onSnapshot(_0x2920bc,_0x37a238=>{const _0x533486=_0x7197ec;allProjects=_0x37a238[_0x533486(0x3b3)][_0x533486(0x27d)](_0x6ee1a2=>({'id':_0x6ee1a2['id'],..._0x6ee1a2[_0x533486(0x3db)]()})),renderProjects();},_0x445135=>{const _0x2534db=_0x7197ec;console[_0x2534db(0x5ec)]('Error\x20listening\x20for\x20projects:',_0x445135),showMessage(_0x2534db(0x1e1));});}function showColorPalette(_0x37f049,_0x1de56b){const _0xde06e7=_0x50f1a4;document[_0xde06e7(0x15d)](_0xde06e7(0x141))['forEach'](_0x1a94df=>_0x1a94df[_0xde06e7(0x8e)]());const _0x19a42f=[_0xde06e7(0x8a2),_0xde06e7(0x244),_0xde06e7(0x9e),_0xde06e7(0xdd),_0xde06e7(0x7b3),_0xde06e7(0x6ef),'#F3E8FF','#FCE7F3',_0xde06e7(0x7dc)],_0x1ae3f8=document[_0xde06e7(0x447)](_0xde06e7(0xb2));_0x1ae3f8[_0xde06e7(0x7e6)]=_0xde06e7(0x591),_0x19a42f[_0xde06e7(0x887)](_0x2a5442=>{const _0x52880b=_0xde06e7,_0x4c4f08=document[_0x52880b(0x447)](_0x52880b(0xb2));_0x4c4f08[_0x52880b(0x7e6)]=_0x52880b(0x3c2),_0x4c4f08[_0x52880b(0x21f)]['backgroundColor']=_0x2a5442,_0x4c4f08[_0x52880b(0x8c0)](_0x52880b(0x2d7),()=>{const _0x523015=_0x52880b;handleProjectColorChange(_0x1de56b,_0x2a5442),_0x1ae3f8[_0x523015(0x8e)]();}),_0x1ae3f8[_0x52880b(0x149)](_0x4c4f08);}),document[_0xde06e7(0x8b1)][_0xde06e7(0x149)](_0x1ae3f8);const _0x5f1112=_0x37f049[_0xde06e7(0x76f)]();_0x1ae3f8['style']['top']=_0x5f1112[_0xde06e7(0x788)]+window[_0xde06e7(0x3f8)]+'px',_0x1ae3f8[_0xde06e7(0x21f)]['left']=_0x5f1112['left']+window[_0xde06e7(0x7bf)]-_0x1ae3f8[_0xde06e7(0x63d)]/0x2+'px';}async function handleProjectColorChange(_0x520ece,_0x416a44){const _0x5c8475=_0x50f1a4,_0x1522e2=doc(db,_0x5c8475(0x385)+appId+_0x5c8475(0x5ff),_0x520ece);try{await updateDoc(_0x1522e2,{'color':_0x416a44});}catch(_0x4f018d){console[_0x5c8475(0x5ec)]('Error\x20updating\x20project\x20color:',_0x4f018d),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x35468d=_0x50f1a4,_0x285066=globalDashboardSettings[_0x35468d(0x78e)]||_0x35468d(0x2bc),_0x4dcb0a=new Set(globalDashboardSettings[_0x35468d(0x7cf)]||[]),_0x1931a2=globalDashboardSettings[_0x35468d(0x79a)]||_0x35468d(0x783),_0x395c2a=document['getElementById']('grid-view-btn'),_0x21342c=document[_0x35468d(0x1f4)](_0x35468d(0x518));_0x395c2a[_0x35468d(0x87b)][_0x35468d(0x361)](_0x35468d(0x732),_0x1931a2===_0x35468d(0x783)),_0x21342c[_0x35468d(0x87b)][_0x35468d(0x361)](_0x35468d(0x732),_0x1931a2==='list'),document['getElementById']('project-sort-select')['value']=_0x285066;const _0x7719f7=document['getElementById']('project-search-input')[_0x35468d(0x5cf)]['toLowerCase']();let _0x44dbad=allProjects[_0x35468d(0x4d9)](_0x2724ec=>_0x2724ec[_0x35468d(0x42b)][_0x35468d(0x476)]()[_0x35468d(0x4c3)](_0x7719f7));const _0x4cd73c=_0x44dbad['filter'](_0x258df7=>_0x4dcb0a[_0x35468d(0x2bd)](_0x258df7['id'])),_0x354ccc=_0x44dbad[_0x35468d(0x4d9)](_0x58c59b=>!_0x4dcb0a[_0x35468d(0x2bd)](_0x58c59b['id'])),_0x4568e3=(_0x22ceb2,_0x349e80)=>{const _0x1a4236=_0x35468d;switch(_0x285066){case _0x1a4236(0x344):return _0x22ceb2[_0x1a4236(0x42b)]['localeCompare'](_0x349e80['projectName'],'th');case _0x1a4236(0x4e0):return _0x349e80[_0x1a4236(0x42b)]['localeCompare'](_0x22ceb2['projectName'],'th');case _0x1a4236(0x8bb):return new Date(_0x22ceb2[_0x1a4236(0x3bb)])-new Date(_0x349e80[_0x1a4236(0x3bb)]);default:return new Date(_0x349e80[_0x1a4236(0x3bb)])-new Date(_0x22ceb2[_0x1a4236(0x3bb)]);}};_0x4cd73c[_0x35468d(0x5ef)](_0x4568e3),_0x354ccc['sort'](_0x4568e3);const _0x346189=[..._0x4cd73c,..._0x354ccc],_0x1cfc96=globalDashboardSettings[_0x35468d(0x61f)]||[];_0x1cfc96[_0x35468d(0x43f)]>0x0&&_0x1931a2==='grid'&&_0x346189[_0x35468d(0x5ef)]((_0xc00c6a,_0x232b7e)=>{const _0x454456=_0x1cfc96['indexOf'](_0xc00c6a['id']),_0x5c84f7=_0x1cfc96['indexOf'](_0x232b7e['id']);if(_0x454456===-0x1)return 0x1;if(_0x5c84f7===-0x1)return-0x1;return _0x454456-_0x5c84f7;});const _0x51d3f5={};await Promise[_0x35468d(0x75b)](_0x346189[_0x35468d(0x27d)](async _0x571d32=>{const _0x112105=_0x35468d,_0x18ddbd=query(collection(db,_0x112105(0x385)+appId+_0x112105(0x4bf)),where(_0x112105(0x713),'==',_0x571d32['id'])),_0x5be057=await getDocs(_0x18ddbd);_0x51d3f5[_0x571d32['id']]=_0x5be057['size'];}));const _0x1dbc9c=document[_0x35468d(0x1f4)]('project-list');let _0x110a9f='';if(_0x1931a2===_0x35468d(0x783)){_0x1dbc9c['className']=_0x35468d(0x640);if(starredQuizzes[_0x35468d(0x43f)]>0x0&&_0x7719f7===''){const _0x322f5f=starredQuizzes[_0x35468d(0x27d)](_0x232bdd=>{const _0x497d52=_0x35468d,_0x28cef2=allProjects[_0x497d52(0x700)](_0x14c7ed=>_0x14c7ed['id']===_0x232bdd['projectId']);return{..._0x232bdd,'projectName':_0x28cef2?_0x28cef2['projectName']:'N/A'};});_0x110a9f+=_0x35468d(0x4d5)+_0x322f5f[_0x35468d(0x27d)](_0x293c22=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x293c22[_0x35468d(0x2c9)]+'\x22>'+_0x293c22[_0x35468d(0x2c9)]+_0x35468d(0x246)+_0x293c22[_0x35468d(0x42b)]+_0x35468d(0x56d)+_0x293c22[_0x35468d(0x42b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x35468d(0x211)]('')+_0x35468d(0xfd)+starredQuizzes[_0x35468d(0x43f)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x346189['forEach'](_0x5cf295=>{const _0x2829ce=_0x35468d,_0x252140=_0x51d3f5[_0x5cf295['id']]??0x0,_0x4947e1=_0x4dcb0a['has'](_0x5cf295['id']),_0x1020d1=_0x5cf295[_0x2829ce(0x12e)]||_0x2829ce(0x8a2),_0x565186=parseInt(_0x1020d1['substring'](0x1,0x3),0x10)*0.299+parseInt(_0x1020d1['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x1020d1['substring'](0x5,0x7),0x10)*0.114<0xba,_0x331262=_0x565186?'text-white':_0x2829ce(0x710),_0x1ab153=_0x565186?_0x2829ce(0x893):_0x2829ce(0x11d);_0x110a9f+=_0x2829ce(0x43e)+(_0x4947e1?_0x2829ce(0x786):'border-gray-200')+_0x2829ce(0x154)+_0x1020d1+_0x2829ce(0x1a3)+_0x5cf295['id']+_0x2829ce(0x8a0)+_0x5cf295['id']+_0x2829ce(0x40c)+(_0x565186?_0x2829ce(0x7e9):_0x2829ce(0x828))+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5cf295['id']+_0x2829ce(0x4c2)+(_0x565186?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+_0x2829ce(0x3e9)+(_0x4947e1?_0x565186?_0x2829ce(0x373):'text-indigo-600':'')+_0x2829ce(0x386)+_0x5cf295['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x331262+_0x2829ce(0x523)+_0x5cf295[_0x2829ce(0x42b)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x1ab153+_0x2829ce(0x488)+new Date(_0x5cf295[_0x2829ce(0x3bb)])[_0x2829ce(0x87d)](_0x2829ce(0x491))+_0x2829ce(0x7f5)+(_0x565186?_0x2829ce(0x50c):'text-gray-700')+_0x2829ce(0x1ed)+_0x252140+_0x2829ce(0x6a1)+_0x5cf295['id']+_0x2829ce(0xc2)+_0x5cf295[_0x2829ce(0x42b)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x565186?_0x2829ce(0x8a7):_0x2829ce(0x861))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x1dbc9c[_0x35468d(0x7e6)]='flex\x20flex-col\x20gap-2',starredQuizzes['length']>0x0&&_0x7719f7===''&&(_0x110a9f+=_0x35468d(0x14a)+starredQuizzes[_0x35468d(0x43f)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x110a9f+=_0x35468d(0x3cd),_0x346189['forEach'](_0x287f47=>{const _0x65e27b=_0x35468d,_0x78fe0e=_0x51d3f5[_0x287f47['id']]??0x0,_0x1b67b3=_0x4dcb0a['has'](_0x287f47['id']);_0x110a9f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x287f47[_0x65e27b(0x12e)]||'#E5E7EB')+_0x65e27b(0x615)+_0x287f47['id']+_0x65e27b(0x64b)+_0x287f47[_0x65e27b(0x42b)]+_0x65e27b(0x59e)+_0x78fe0e+_0x65e27b(0x4dd)+new Date(_0x287f47[_0x65e27b(0x3bb)])['toLocaleString'](_0x65e27b(0x491))+_0x65e27b(0x38b)+_0x287f47['id']+_0x65e27b(0x521)+(_0x1b67b3?_0x65e27b(0x258):'')+_0x65e27b(0x155)+_0x287f47['id']+_0x65e27b(0xc2)+_0x287f47[_0x65e27b(0x42b)]+_0x65e27b(0x319);});projectList[_0x35468d(0x535)]=_0x110a9f,noProjectsMsg[_0x35468d(0x87b)][_0x35468d(0x361)](_0x35468d(0x727),_0x110a9f[_0x35468d(0x43f)]>0x0);}document[_0x50f1a4(0x1f4)]('confirm-create-project-btn')['addEventListener']('click',async()=>{const _0x486ae6=_0x50f1a4,_0xf4446=document['getElementById'](_0x486ae6(0x78f)),_0x5c7395=_0xf4446[_0x486ae6(0x5cf)][_0x486ae6(0x6e3)]();if(!_0x5c7395){showMessage(_0x486ae6(0x1f6));return;}try{const _0x415e81=doc(collection(db,'artifacts/'+appId+_0x486ae6(0x5ff)));await setDoc(_0x415e81,{'projectName':_0x5c7395,'students':[],'settings':{'resultsDisplay':_0x486ae6(0x205),'shuffleSetting':_0x486ae6(0xbe),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x486ae6(0x251)]()}),_0xf4446['value']='',createProjectModal[_0x486ae6(0x87b)][_0x486ae6(0x6aa)](_0x486ae6(0x727)),showMessage(_0x486ae6(0x387));}catch(_0x1f3372){console[_0x486ae6(0x5ec)]('Error\x20creating\x20project:',_0x1f3372),showMessage(_0x486ae6(0x50b));}}),projectList[_0x50f1a4(0x8c0)](_0x50f1a4(0x2d7),async _0x1f1ae9=>{const _0x2063f1=_0x50f1a4,_0x54ea9a=_0x1f1ae9[_0x2063f1(0x823)][_0x2063f1(0x88)]('.project-card-content'),_0x1ca15f=_0x1f1ae9[_0x2063f1(0x823)][_0x2063f1(0x88)]('.delete-project-btn'),_0x320779=_0x1f1ae9[_0x2063f1(0x823)]['closest'](_0x2063f1(0x38a)),_0x30872e=_0x1f1ae9[_0x2063f1(0x823)][_0x2063f1(0x88)](_0x2063f1(0x37e));if(_0x320779){const _0x50a50a=_0x320779['dataset']['id'],_0x3fdbe4=doc(db,'globalSettings',_0x2063f1(0x184)),_0x513834=globalDashboardSettings[_0x2063f1(0x7cf)];let _0x15e170;_0x513834[_0x2063f1(0x4c3)](_0x50a50a)?_0x15e170=_0x513834[_0x2063f1(0x4d9)](_0x443ec7=>_0x443ec7!==_0x50a50a):_0x15e170=[..._0x513834,_0x50a50a];try{await setDoc(_0x3fdbe4,{'pinnedProjects':_0x15e170},{'merge':!![]});}catch(_0x54fb38){console[_0x2063f1(0x5ec)](_0x2063f1(0x14c),_0x54fb38),showMessage(_0x2063f1(0x123));}}else{if(_0x30872e){const _0x12bdb8=_0x30872e[_0x2063f1(0x873)]['id'];showColorPalette(_0x30872e,_0x12bdb8);}else{if(_0x54ea9a){const _0x12091e=_0x54ea9a[_0x2063f1(0x873)]['id'];_0x12091e===_0x2063f1(0x3f0)?showStarredProjectView():(currentProjectId=_0x12091e,await loadProjectDetails(currentProjectId),showView(_0x2063f1(0x878)));}else{if(_0x1ca15f){const _0x15632b=_0x1ca15f[_0x2063f1(0x873)]['id'],_0x2173f8=_0x1ca15f[_0x2063f1(0x873)][_0x2063f1(0x250)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x2173f8+_0x2063f1(0x3fd),()=>handleDeleteProject(_0x15632b));}}}}}),projectList[_0x50f1a4(0x8c0)]('dragstart',_0x4f4612=>{const _0x261041=_0x50f1a4,_0x3671db=_0x4f4612[_0x261041(0x823)][_0x261041(0x88)](_0x261041(0xc6));_0x3671db&&_0x3671db[_0x261041(0x87b)][_0x261041(0x6aa)]('opacity-50');}),projectList[_0x50f1a4(0x8c0)](_0x50f1a4(0x514),_0x499541=>{const _0x1993ac=_0x50f1a4,_0x7524b7=_0x499541[_0x1993ac(0x823)][_0x1993ac(0x88)](_0x1993ac(0xc6));_0x7524b7&&_0x7524b7[_0x1993ac(0x87b)][_0x1993ac(0x8e)](_0x1993ac(0x1f9));}),projectList[_0x50f1a4(0x8c0)](_0x50f1a4(0x8c8),_0x1c867c=>{const _0x191b61=_0x50f1a4;_0x1c867c[_0x191b61(0x1cb)]();const _0x574d6c=document['querySelector'](_0x191b61(0x581));if(!_0x574d6c)return;const _0x38f0ac=getDragAfterElement(projectList,_0x1c867c['clientY']);_0x38f0ac==null?projectList[_0x191b61(0x149)](_0x574d6c):projectList[_0x191b61(0x7e7)](_0x574d6c,_0x38f0ac);}),projectList[_0x50f1a4(0x8c0)](_0x50f1a4(0x734),_0x310f13=>{const _0x3f17ff=_0x50f1a4;_0x310f13[_0x3f17ff(0x1cb)]();const _0x52bd98=[...projectList['querySelectorAll'](_0x3f17ff(0x110))][_0x3f17ff(0x27d)](_0x3fd96e=>_0x3fd96e[_0x3f17ff(0x873)]['id']);saveProjectOrder(_0x52bd98);});function renderBehaviorLog(_0x343dfd){const _0x344f1c=_0x50f1a4,_0x15cea8=document[_0x344f1c(0x1f4)]('behavior-log-container');if(!_0x15cea8)return;const _0x5193e5=_0x343dfd[_0x344f1c(0x4d9)](_0x21128f=>_0x21128f['behaviorLog']&&_0x21128f[_0x344f1c(0x577)][_0x344f1c(0x43f)]>0x0);if(_0x5193e5[_0x344f1c(0x43f)]===0x0){_0x15cea8[_0x344f1c(0x535)]=_0x344f1c(0x263);return;}let _0xc2c330='';_0x5193e5['forEach'](_0x47f702=>{const _0xa1f241=_0x344f1c;_0xc2c330+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x47f702['studentName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x47f702[_0xa1f241(0x577)][_0xa1f241(0x5ef)]((_0x586f1b,_0x55742d)=>new Date(_0x55742d[_0xa1f241(0x398)])-new Date(_0x586f1b[_0xa1f241(0x398)]))[_0xa1f241(0x887)](_0x399d4b=>{const _0x4e3903=_0xa1f241,_0x4fb68f=new Date(_0x399d4b[_0x4e3903(0x398)])[_0x4e3903(0x1df)](_0x4e3903(0x491),{'dateStyle':'short','timeStyle':_0x4e3903(0x2a9)});_0xc2c330+=_0x4e3903(0x352)+_0x399d4b[_0x4e3903(0x3c6)]+_0x4e3903(0x8c1)+_0x4fb68f+_0x4e3903(0x7b2);}),_0xc2c330+=_0xa1f241(0x652);}),_0x15cea8[_0x344f1c(0x535)]=_0xc2c330;}function getDragAfterElement(_0x1dcc66,_0x262fed){const _0x2ba263=_0x50f1a4,_0x4fb68b=[..._0x1dcc66[_0x2ba263(0x15d)](_0x2ba263(0x32a))];return _0x4fb68b['reduce']((_0x2ade95,_0x546db5)=>{const _0x48a507=_0x2ba263,_0x3b8b25=_0x546db5[_0x48a507(0x76f)](),_0x35b9fd=_0x262fed-_0x3b8b25[_0x48a507(0x2f0)]-_0x3b8b25[_0x48a507(0x106)]/0x2;return _0x35b9fd<0x0&&_0x35b9fd>_0x2ade95['offset']?{'offset':_0x35b9fd,'element':_0x546db5}:_0x2ade95;},{'offset':Number[_0x2ba263(0x565)]})[_0x2ba263(0x7d4)];}async function saveProjectOrder(_0x1e3acd){const _0x1267b4=_0x50f1a4,_0x351161=doc(db,_0x1267b4(0x813),_0x1267b4(0x184));try{await setDoc(_0x351161,{'projectOrder':_0x1e3acd},{'merge':!![]});}catch(_0x5b9b16){console[_0x1267b4(0x5ec)](_0x1267b4(0x17f),_0x5b9b16),showMessage(_0x1267b4(0x6c3));}}async function logBehaviorEvent(_0x642eff,_0x17a0ea={}){const _0x334209=_0x50f1a4;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x334209(0x6f2)](_0x334209(0x7f8));return;}const _0x2eb8fe=doc(db,_0x334209(0x385)+appId+_0x334209(0x62f)+currentQuizData['id']+_0x334209(0x6fa),currentStudentName),_0x248949={'event':_0x642eff,'timestamp':new Date()['toISOString'](),..._0x17a0ea};try{await updateDoc(_0x2eb8fe,{'behaviorLog':arrayUnion(_0x248949)}),console[_0x334209(0x1da)](_0x334209(0x669)+currentStudentName+_0x334209(0x30f));}catch(_0x574a4a){_0x574a4a[_0x334209(0x67e)]===_0x334209(0x75)?console['warn'](_0x334209(0x167)+currentStudentName+_0x334209(0x4f8)):console[_0x334209(0x5ec)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x574a4a);}}function calculateMeanAndStdDev(_0x55fb36){const _0x3d69ed=_0x50f1a4;if(_0x55fb36[_0x3d69ed(0x43f)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x4cc770=_0x55fb36['reduce']((_0x1897d3,_0x38eb0a)=>_0x1897d3+_0x38eb0a,0x0)/_0x55fb36['length'];if(_0x55fb36['length']===0x1)return{'mean':_0x4cc770,'stdDev':0x0};const _0x2e9f4c=Math[_0x3d69ed(0x226)](_0x55fb36['map'](_0x580c2e=>Math[_0x3d69ed(0x267)](_0x580c2e-_0x4cc770,0x2))[_0x3d69ed(0x8b)]((_0x2b36f5,_0x55d81e)=>_0x2b36f5+_0x55d81e,0x0)/(_0x55fb36[_0x3d69ed(0x43f)]-0x1));return{'mean':_0x4cc770,'stdDev':_0x2e9f4c};}function calculateZScore(_0x19a26a,_0x222393,_0x16c17f){if(_0x16c17f===0x0)return 0x0;return(_0x19a26a-_0x222393)/_0x16c17f;}function calculateTScore(_0x55fd30){return 0xa*_0x55fd30+0x32;}function showStarredProjectView(){const _0x1b0e04=_0x50f1a4;currentProjectId=_0x1b0e04(0x2df),currentProjectData=null,projectTitle['textContent']=_0x1b0e04(0x782),projectIdDisplay[_0x1b0e04(0x810)]=_0x1b0e04(0x3b4),showView(_0x1b0e04(0x878)),manageTab['classList'][_0x1b0e04(0x6aa)](_0x1b0e04(0x727)),leaderboardTab[_0x1b0e04(0x87b)]['add']('hidden'),switchProjectTab(_0x1b0e04(0x2cf)),renderQuizzes();}async function loadProjectDetails(_0x52fba2){const _0x47c509=_0x50f1a4,_0x525ac5=doc(db,'artifacts/'+appId+_0x47c509(0x5ff),_0x52fba2),_0x19446e=await getDoc(_0x525ac5);if(_0x19446e['exists']()){manageTab[_0x47c509(0x87b)]['remove'](_0x47c509(0x727)),leaderboardTab[_0x47c509(0x87b)][_0x47c509(0x8e)](_0x47c509(0x727)),currentProjectData=_0x19446e[_0x47c509(0x3db)](),projectTitle[_0x47c509(0x810)]=currentProjectData[_0x47c509(0x42b)],projectIdDisplay['textContent']=_0x52fba2;const _0x36110b=currentProjectData[_0x47c509(0x4b5)]||{};document['getElementById'](_0x47c509(0x7a5))[_0x47c509(0x5cf)]=_0x36110b['shuffleSetting']||_0x47c509(0xbe);const _0x2e08d5=document[_0x47c509(0x1f4)](_0x47c509(0x654));_0x2e08d5[_0x47c509(0x121)]=_0x36110b[_0x47c509(0x5d4)]!==![];const _0x2b1490=document[_0x47c509(0x1f4)]('enable-passcode-checkbox'),_0xba2348=document['getElementById']('passcode-input-container'),_0x374e30=document['getElementById'](_0x47c509(0x494)),_0x23f230=_0x36110b['isPasscodeEnabled']||![];_0x2b1490[_0x47c509(0x121)]=_0x23f230,_0x374e30[_0x47c509(0x5cf)]=_0x36110b[_0x47c509(0x731)]||'',_0xba2348[_0x47c509(0x87b)]['toggle'](_0x47c509(0x727),!_0x23f230),_0x2b1490[_0x47c509(0x852)]=()=>{const _0x29dbf1=_0x47c509;_0xba2348[_0x29dbf1(0x87b)]['toggle'](_0x29dbf1(0x727),!_0x2b1490[_0x29dbf1(0x121)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x52fba2),listenForProjectQuizzes(_0x52fba2),listenForStudentProfiles(_0x52fba2);}else showMessage(_0x47c509(0x461)),showView(_0x47c509(0x233));}function _0x2cea(_0x54371f,_0x2c1400){const _0x427089=_0x4270();return _0x2cea=function(_0x2ceaee,_0x227c14){_0x2ceaee=_0x2ceaee-0x6c;let _0x34b622=_0x427089[_0x2ceaee];return _0x34b622;},_0x2cea(_0x54371f,_0x2c1400);}async function handleResetProjectOrder(){const _0x49051b=_0x50f1a4,_0x31f24c=doc(db,'globalSettings',_0x49051b(0x184));try{await setDoc(_0x31f24c,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x49051b(0x2d0));}catch(_0x3d548b){console['error']('Error\x20resetting\x20project\x20order:',_0x3d548b),showMessage(_0x49051b(0x2e4));}}async function handleTogglePinProject(_0x1cdde2){const _0x492050=_0x50f1a4;if(!_0x1cdde2)return;const _0x2c7d9e=doc(db,_0x492050(0x385)+appId+_0x492050(0x5ff),_0x1cdde2);try{const _0x4d3b49=await getDoc(_0x2c7d9e);if(_0x4d3b49['exists']()){const _0x197202=_0x4d3b49[_0x492050(0x3db)]()[_0x492050(0x18f)]||![];await updateDoc(_0x2c7d9e,{'isPinned':!_0x197202});}}catch(_0x5af452){console[_0x492050(0x5ec)](_0x492050(0x6cb),_0x5af452),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0xf3dfb1){const _0x2baec4=_0x50f1a4;try{const _0x55efcb=writeBatch(db),_0x31f638=collection(db,_0x2baec4(0x385)+appId+_0x2baec4(0x4bf)),_0x105e91=query(_0x31f638,where(_0x2baec4(0x713),'==',_0xf3dfb1)),_0x4f721a=await getDocs(_0x105e91);for(const _0x1d7a06 of _0x4f721a['docs']){const _0x317ebf=collection(db,_0x2baec4(0x385)+appId+'/public/data/quizzes/'+_0x1d7a06['id']+'/submissions'),_0x2b4f75=await getDocs(_0x317ebf);_0x2b4f75['forEach'](_0x1bed7e=>{const _0x5a114b=_0x2baec4;_0x55efcb['delete'](_0x1bed7e[_0x5a114b(0x827)]);}),_0x55efcb[_0x2baec4(0x1eb)](_0x1d7a06[_0x2baec4(0x827)]);}const _0x5ce695=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0xf3dfb1+_0x2baec4(0x534)),_0x380bcd=await getDocs(_0x5ce695);_0x380bcd['forEach'](_0x37f3e8=>{const _0x133bc0=_0x2baec4;_0x55efcb[_0x133bc0(0x1eb)](_0x37f3e8['ref']);});const _0x1e9434=doc(db,'artifacts/'+appId+_0x2baec4(0x5ff),_0xf3dfb1);_0x55efcb[_0x2baec4(0x1eb)](_0x1e9434),await _0x55efcb[_0x2baec4(0x245)](),showMessage(_0x2baec4(0x4ed)),showView(_0x2baec4(0x233));}catch(_0x4a0a13){console[_0x2baec4(0x5ec)](_0x2baec4(0x72),_0x4a0a13),showMessage(_0x2baec4(0x5b3));}}document[_0x50f1a4(0x1f4)](_0x50f1a4(0x41c))[_0x50f1a4(0x8c0)](_0x50f1a4(0x2d7),async()=>{const _0x5a2774=_0x50f1a4;if(!currentProjectId)return;const _0xf62016={'defaultNumQuestions':parseInt(document['getElementById'](_0x5a2774(0x679))[_0x5a2774(0x5cf)]),'defaultNumChoices':parseInt(document[_0x5a2774(0x1f4)](_0x5a2774(0x44c))[_0x5a2774(0x5cf)]),'defaultPassingScore':parseInt(document['getElementById']('passing-score-input')[_0x5a2774(0x5cf)]),'resultsDisplay':document[_0x5a2774(0x1f4)](_0x5a2774(0x822))['value'],'shuffleSetting':document[_0x5a2774(0x1f4)](_0x5a2774(0x7a5))[_0x5a2774(0x5cf)],'timerMode':document[_0x5a2774(0x1f4)](_0x5a2774(0x4b1))[_0x5a2774(0x5cf)],'timerDuration':parseInt(document[_0x5a2774(0x1f4)](_0x5a2774(0x71a))[_0x5a2774(0x5cf)])};try{const _0x1be946=doc(db,_0x5a2774(0x385)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x1be946,{'settings':_0xf62016}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x5cedb2){console[_0x5a2774(0x5ec)]('Error\x20saving\x20settings:',_0x5cedb2),showMessage(_0x5a2774(0x506));}});function listenForStudents(_0x1d8ea8){const _0x36e7f5=_0x50f1a4,_0x5327e2=doc(db,'artifacts/'+appId+_0x36e7f5(0x5ff),_0x1d8ea8);unsubscribeStudentsListener=onSnapshot(_0x5327e2,_0x3234b4=>{const _0x197d09=_0x36e7f5;if(_0x3234b4[_0x197d09(0x5b8)]()){const _0x347791=_0x3234b4[_0x197d09(0x3db)]();currentProjectData=_0x347791,renderStudentList(_0x347791[_0x197d09(0x327)]||[]);}});}function renderStudentList(_0x222730){const _0x5d8a11=_0x50f1a4,_0x46e417=document['getElementById']('delete-all-students-btn');_0x222730[_0x5d8a11(0x43f)]===0x0?(studentList[_0x5d8a11(0x535)]=_0x5d8a11(0x82),_0x46e417[_0x5d8a11(0x87b)]['add'](_0x5d8a11(0x727))):(studentList['innerHTML']=_0x222730[_0x5d8a11(0x27d)](_0x8720dd=>_0x5d8a11(0x253)+_0x8720dd+_0x5d8a11(0x2c2)+_0x8720dd+_0x5d8a11(0x7f9))[_0x5d8a11(0x211)](''),_0x46e417[_0x5d8a11(0x87b)][_0x5d8a11(0x8e)]('hidden'));}document[_0x50f1a4(0x1f4)](_0x50f1a4(0x306))[_0x50f1a4(0x8c0)](_0x50f1a4(0x2d7),async()=>{const _0x140252=_0x50f1a4;if(!currentProjectId)return;const _0x125069=document[_0x140252(0x1f4)]('student-name-input'),_0x226d1a=_0x125069[_0x140252(0x5cf)][_0x140252(0x6e3)]();if(!_0x226d1a){showMessage(_0x140252(0x8b3));return;}const _0x512350=_0x226d1a[_0x140252(0x442)]('\x0a')[_0x140252(0x27d)](_0x763a41=>_0x763a41['trim']())[_0x140252(0x4d9)](_0x1b0085=>_0x1b0085);if(_0x512350[_0x140252(0x43f)]===0x0)return;try{const _0x55e6ad=doc(db,_0x140252(0x385)+appId+_0x140252(0x5ff),currentProjectId),_0x6d0977=await getDoc(_0x55e6ad);if(_0x6d0977[_0x140252(0x5b8)]()){const _0x43747d=_0x6d0977[_0x140252(0x3db)]()[_0x140252(0x327)]||[],_0x6e2e1a=[...new Set([..._0x43747d,..._0x512350])];await updateDoc(_0x55e6ad,{'students':_0x6e2e1a}),_0x125069[_0x140252(0x5cf)]='';}}catch(_0xb05c60){console[_0x140252(0x5ec)](_0x140252(0x5d5),_0xb05c60),showMessage(_0x140252(0x526));}});async function handleManualQuizPairing(_0xdf3fb8){const _0x404905=_0x50f1a4,_0x575ec5=document['getElementById']('move-quiz-modal'),_0x27ec2e=document[_0x404905(0x1f4)](_0x404905(0x693)),_0x2cc496=_0x575ec5[_0x404905(0x76d)]('h3'),_0x5cca03=document[_0x404905(0x1f4)](_0x404905(0x3ca)),_0x29fb1c=document['getElementById']('cancel-move-quiz-btn');_0x2cc496[_0x404905(0x810)]=_0x404905(0x81c),_0x27ec2e[_0x404905(0x535)]=_0x404905(0x368),_0x5cca03[_0x404905(0x810)]='ยืนยันการจับคู่',_0x575ec5['classList']['remove'](_0x404905(0x727));const _0x146539=allQuizzes[_0x404905(0x4d9)](_0x1161a9=>_0x1161a9['id']!==_0xdf3fb8);_0x146539['length']===0x0?(_0x27ec2e[_0x404905(0x535)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x5cca03[_0x404905(0x891)]=!![]):(_0x27ec2e[_0x404905(0x535)]=_0x404905(0x13b)+_0x146539[_0x404905(0x27d)](_0x546ef1=>_0x404905(0x1fe)+_0x546ef1['id']+'\x22>'+_0x546ef1[_0x404905(0x2c9)]+_0x404905(0x212))['join'](''),_0x5cca03[_0x404905(0x891)]=![]);const _0x68a4ac=async()=>{const _0x2cca8c=_0x404905,_0x4a9cb4=_0x27ec2e[_0x2cca8c(0x5cf)];if(!_0x4a9cb4){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x5cca03[_0x2cca8c(0x891)]=!![],_0x5cca03[_0x2cca8c(0x810)]=_0x2cca8c(0x3de);try{const _0x1a5167=doc(db,_0x2cca8c(0x385)+appId+_0x2cca8c(0x4bf),_0xdf3fb8),_0x2599f9=doc(db,_0x2cca8c(0x385)+appId+_0x2cca8c(0x4bf),_0x4a9cb4),_0x1c8114=writeBatch(db);_0x1c8114[_0x2cca8c(0x6e5)](_0x1a5167,{'pairedQuizId':_0x4a9cb4}),_0x1c8114[_0x2cca8c(0x6e5)](_0x2599f9,{'pairedQuizId':_0xdf3fb8}),await _0x1c8114[_0x2cca8c(0x245)](),showMessage(_0x2cca8c(0x127)),_0x575ec5[_0x2cca8c(0x87b)][_0x2cca8c(0x6aa)](_0x2cca8c(0x727));}catch(_0x35656a){console[_0x2cca8c(0x5ec)](_0x2cca8c(0x3c1),_0x35656a),showMessage(_0x2cca8c(0x47b));}finally{_0x2cc496['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x5cca03['textContent']=_0x2cca8c(0x886),_0x5cca03['disabled']=![],_0x5cca03[_0x2cca8c(0x1c3)]('click',_0x68a4ac),_0x29fb1c[_0x2cca8c(0x1c3)]('click',_0x10c150);}},_0x10c150=()=>{const _0x4a8e56=_0x404905;_0x575ec5['classList'][_0x4a8e56(0x6aa)](_0x4a8e56(0x727)),_0x2cc496[_0x4a8e56(0x810)]=_0x4a8e56(0x8a6),_0x5cca03['textContent']='ย้าย',_0x5cca03['removeEventListener']('click',_0x68a4ac),_0x29fb1c['removeEventListener']('click',_0x10c150);};_0x5cca03[_0x404905(0x8c0)](_0x404905(0x2d7),_0x68a4ac),_0x29fb1c[_0x404905(0x8c0)](_0x404905(0x2d7),_0x10c150);}function handleDeleteStudent(_0x57c6ff){const _0x324c71=_0x50f1a4;showConfirmation(_0x324c71(0x16d)+_0x57c6ff+_0x324c71(0x2b9),async()=>{const _0xb2a882=_0x324c71;if(!currentProjectId||!currentProjectData)return;const _0x262852=currentProjectData[_0xb2a882(0x327)][_0xb2a882(0x4d9)](_0x607342=>_0x607342!==_0x57c6ff);try{const _0x627275=doc(db,_0xb2a882(0x385)+appId+_0xb2a882(0x5ff),currentProjectId),_0x7f21e0=doc(db,'artifacts/'+appId+_0xb2a882(0x699)+currentProjectId+_0xb2a882(0x534),_0x57c6ff),_0xd4b5dc=writeBatch(db);_0xd4b5dc[_0xb2a882(0x6e5)](_0x627275,{'students':_0x262852}),_0xd4b5dc['delete'](_0x7f21e0),await _0xd4b5dc[_0xb2a882(0x245)]();}catch(_0x30c57f){console[_0xb2a882(0x5ec)](_0xb2a882(0xda),_0x30c57f),showMessage(_0xb2a882(0x4a5));}});}function handleDeleteAllStudents(){const _0x1a854b=_0x50f1a4;showConfirmation(_0x1a854b(0x424),async()=>{const _0x37ebe1=_0x1a854b;if(!currentProjectId)return;try{const _0x2c23db=doc(db,_0x37ebe1(0x385)+appId+_0x37ebe1(0x5ff),currentProjectId),_0x225597=collection(db,_0x37ebe1(0x385)+appId+_0x37ebe1(0x699)+currentProjectId+_0x37ebe1(0x534)),_0x36f683=await getDocs(_0x225597),_0x101462=writeBatch(db);_0x101462[_0x37ebe1(0x6e5)](_0x2c23db,{'students':[]}),_0x36f683[_0x37ebe1(0x887)](_0x16f315=>_0x101462['delete'](_0x16f315[_0x37ebe1(0x827)])),await _0x101462[_0x37ebe1(0x245)]();}catch(_0x314e3b){console['error'](_0x37ebe1(0x334),_0x314e3b),showMessage(_0x37ebe1(0x72c));}});}async function handleGenerateFromFileClick(){const _0x226e30=_0x50f1a4;if(!selectedFile){showMessage(_0x226e30(0x576));return;}const _0x1ef77f=document['getElementById']('loader'),_0x596f21=document[_0x226e30(0x1f4)](_0x226e30(0x672)),_0x19b5d9=document['getElementById'](_0x226e30(0x6f8)),_0x3b7529=document['getElementById'](_0x226e30(0x472));_0x3b7529['disabled']=!![],document[_0x226e30(0x1f4)]('quiz-generation-area')[_0x226e30(0x87b)][_0x226e30(0x8e)](_0x226e30(0x727)),_0x19b5d9['innerHTML']='',_0x1ef77f[_0x226e30(0x87b)]['remove'](_0x226e30(0x727)),_0x596f21[_0x226e30(0x810)]=_0x226e30(0x835);const _0x7469dc=new FileReader();_0x7469dc[_0x226e30(0x4a0)](selectedFile),_0x7469dc[_0x226e30(0x26f)]=async()=>{const _0x50ce59=_0x226e30;try{const _0x460451=_0x7469dc['result'][_0x50ce59(0x442)](',')[0x1],_0xc7da4f=selectedFile[_0x50ce59(0x7de)];await generateQuizFromFile(_0xc7da4f,_0x460451);}catch(_0x2f5c79){console['error'](_0x50ce59(0x87e),_0x2f5c79),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x2f5c79[_0x50ce59(0x561)]),_0x1ef77f[_0x50ce59(0x87b)][_0x50ce59(0x6aa)]('hidden');}finally{}},_0x7469dc[_0x226e30(0x413)]=_0x58ab0b=>{const _0x49c2a4=_0x226e30;console[_0x49c2a4(0x5ec)]('FileReader\x20error:',_0x58ab0b),showMessage(_0x49c2a4(0xd4)),_0x1ef77f['classList'][_0x49c2a4(0x6aa)](_0x49c2a4(0x727)),_0x3b7529[_0x49c2a4(0x891)]=![];};}function autoFormatMath(_0x48e6b1){const _0x5d1be2=_0x50f1a4;if(typeof _0x48e6b1!==_0x5d1be2(0x8c9)||!_0x48e6b1)return _0x48e6b1;const _0x138adb=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x37a997=_0x48e6b1[_0x5d1be2(0x3c3)](_0x138adb,_0x5a82ca=>{const _0x284125=_0x5d1be2;return'$'+_0x5a82ca[_0x284125(0x6e3)]()+'$';});return _0x37a997;}function sanitizeQuizData(_0x4271c1){const _0x2e15a3=_0x50f1a4;if(!_0x4271c1||!_0x4271c1['questions'])return _0x4271c1;const _0xcbb031={'imes':'\x5ctimes','div':_0x2e15a3(0x237)},_0x3979c8=_0x2d8bb3=>{const _0x4887c0=_0x2e15a3;if(typeof _0x2d8bb3!==_0x4887c0(0x8c9))return _0x2d8bb3;let _0x3fc80c=_0x2d8bb3;for(const [_0x369d63,_0x26e1ed]of Object[_0x4887c0(0x5f1)](_0xcbb031)){const _0x1ccde6=new RegExp('\x5cb'+_0x369d63+'\x5cb','g');_0x3fc80c=_0x3fc80c[_0x4887c0(0x3c3)](_0x1ccde6,_0x26e1ed);}return _0x3fc80c=_0x3fc80c[_0x4887c0(0x3c3)](/\\\//g,_0x4887c0(0x237)),_0x3fc80c=_0x3fc80c[_0x4887c0(0x3c3)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x4887c0(0x3c3)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x4887c0(0x2f5))['replace'](/÷/g,'\x5cdiv')['replace'](/×/g,_0x4887c0(0x2f5)),_0x3fc80c=_0x3fc80c['replace'](/(\d)(\\frac)/g,_0x4887c0(0x23e)),_0x3fc80c=autoFormatMath(_0x3fc80c),_0x3fc80c;};return _0x4271c1[_0x2e15a3(0x2c9)]&&(_0x4271c1[_0x2e15a3(0x2c9)]=_0x3979c8(_0x4271c1[_0x2e15a3(0x2c9)])),_0x4271c1['questions']['forEach'](_0x56311d=>{const _0xdc1809=_0x2e15a3;_0x56311d[_0xdc1809(0x598)]=_0x3979c8(_0x56311d[_0xdc1809(0x598)]),_0x56311d[_0xdc1809(0x4a1)]&&(_0x56311d[_0xdc1809(0x4a1)]=_0x56311d[_0xdc1809(0x4a1)][_0xdc1809(0x27d)](_0x3979c8)),_0x56311d[_0xdc1809(0x58f)]&&(_0x56311d[_0xdc1809(0x58f)]=_0x3979c8(_0x56311d[_0xdc1809(0x58f)])),_0x56311d['stem']&&(_0x56311d['stem']=_0x3979c8(_0x56311d[_0xdc1809(0x63e)])),_0x56311d[_0xdc1809(0x6af)]&&(_0x56311d['correctResponse']=_0x3979c8(_0x56311d[_0xdc1809(0x6af)])),_0x56311d[_0xdc1809(0x603)]&&(_0x56311d[_0xdc1809(0x603)]=_0x56311d[_0xdc1809(0x603)][_0xdc1809(0x27d)](_0x3979c8));}),_0x4271c1;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x55d2a4=_0x50f1a4,_0x29a0e1=document[_0x55d2a4(0x1f4)](_0x55d2a4(0x73c)),_0x36aa93=document[_0x55d2a4(0x1f4)](_0x55d2a4(0x4ee)),_0x397b61=_0x29a0e1['value'][_0x55d2a4(0x6e3)](),_0x407af3=_0x36aa93[_0x55d2a4(0x5cf)][_0x55d2a4(0x6e3)]();if(!_0x397b61){showMessage(_0x55d2a4(0x71f));return;}const _0x165816=document['getElementById'](_0x55d2a4(0x677)),_0x3b8f84=document[_0x55d2a4(0x1f4)](_0x55d2a4(0x672)),_0x3d72c6=document['getElementById'](_0x55d2a4(0x6f8)),_0x2c4662=document[_0x55d2a4(0x1f4)](_0x55d2a4(0x6ae));document[_0x55d2a4(0x1f4)](_0x55d2a4(0x3e4))[_0x55d2a4(0x87b)][_0x55d2a4(0x8e)](_0x55d2a4(0x727)),_0x3d72c6[_0x55d2a4(0x535)]='',_0x165816[_0x55d2a4(0x87b)]['remove'](_0x55d2a4(0x727)),_0x3b8f84[_0x55d2a4(0x810)]='กำลังดึงข้อมูลจากลิงก์...',_0x2c4662[_0x55d2a4(0x891)]=!![];try{const _0x5dd854='https://corsproxy.io/?'+encodeURIComponent(_0x397b61),_0x5ef511=await fetch(_0x5dd854);if(!_0x5ef511['ok'])throw new Error(_0x55d2a4(0x3da)+_0x5ef511['status']+')');const _0x5d0363=await _0x5ef511[_0x55d2a4(0x551)](),_0x357c29=extractTextFromHtml(_0x5d0363);if(!_0x357c29||_0x357c29[_0x55d2a4(0x43f)]<0x64)throw new Error(_0x55d2a4(0xed));await generateQuiz(_0x407af3,_0x357c29);}catch(_0x8620f2){console[_0x55d2a4(0x5ec)](_0x55d2a4(0x85b),_0x8620f2),showMessage(_0x55d2a4(0x8cb)+_0x8620f2['message']),_0x3d72c6[_0x55d2a4(0x535)]=_0x55d2a4(0x13e);}finally{_0x165816['classList'][_0x55d2a4(0x6aa)](_0x55d2a4(0x727)),_0x2c4662[_0x55d2a4(0x891)]=![];}}function extractTextFromHtml(_0x225c80){const _0x4606c0=_0x50f1a4,_0x54dcd9=new DOMParser()['parseFromString'](_0x225c80,_0x4606c0(0x715));return _0x54dcd9[_0x4606c0(0x15d)](_0x4606c0(0x20e))['forEach'](_0xb0f131=>_0xb0f131[_0x4606c0(0x8e)]()),_0x54dcd9[_0x4606c0(0x8b1)][_0x4606c0(0x810)]||'';}document[_0x50f1a4(0x1f4)](_0x50f1a4(0x420))[_0x50f1a4(0x8c0)](_0x50f1a4(0x2d7),()=>{const _0x54e945=_0x50f1a4,_0x1e9392=document['getElementById'](_0x54e945(0x171))[_0x54e945(0x5cf)][_0x54e945(0x6e3)]();generateQuiz(_0x1e9392,null);}),document[_0x50f1a4(0x1f4)](_0x50f1a4(0x2be))['addEventListener'](_0x50f1a4(0x2d7),()=>{const _0x4d4117=_0x50f1a4,_0x3ce017=document[_0x4d4117(0x1f4)]('text-content-input')[_0x4d4117(0x5cf)][_0x4d4117(0x6e3)]();if(!_0x3ce017){showMessage(_0x4d4117(0x777));return;}const _0x26a3e5=document['getElementById'](_0x4d4117(0x171))[_0x4d4117(0x5cf)][_0x4d4117(0x6e3)]();generateQuiz(_0x26a3e5,_0x3ce017);});async function generateQuiz(_0x22d1e8,_0x457939,_0x136221=null){const _0x5b2e52=_0x50f1a4,_0x198176=document[_0x5b2e52(0x1f4)]('include-images-checkbox')[_0x5b2e52(0x121)],_0x5b8b26=document['getElementById']('quiz-type-select')[_0x5b2e52(0x5cf)],_0x199250=document[_0x5b2e52(0x1f4)](_0x5b2e52(0x679))['value'],_0x1f5cbd=document[_0x5b2e52(0x1f4)](_0x5b2e52(0x44c))[_0x5b2e52(0x5cf)],_0x105dbb=document[_0x5b2e52(0x1f4)](_0x5b2e52(0x3d4))[_0x5b2e52(0x121)],_0x5ae12e=_0x105dbb?'':_0x5b2e52(0x313),_0x3e4bf0=document['getElementById'](_0x5b2e52(0x459)),_0xbe47fb=_0x3e4bf0[_0x5b2e52(0x5cf)];let _0x163e0d='';_0xbe47fb!=='auto'&&(_0x163e0d=_0x5b2e52(0x1d3)+_0xbe47fb+'\x22');const _0x61ea78=document[_0x5b2e52(0x1f4)](_0x5b2e52(0x4e8)),_0x116607=_0x61ea78[_0x5b2e52(0x5cf)];let _0x24e9e3='';_0x116607!==_0x5b2e52(0x7b1)&&(_0x24e9e3=_0x5b2e52(0x84b)+_0x116607+_0x5b2e52(0x20a));const _0x277311=document['querySelectorAll'](_0x5b2e52(0x6c8)),_0x555a56=Array['from'](_0x277311)[_0x5b2e52(0x27d)](_0x318e2d=>_0x318e2d['value']);let _0x2f2f22='';_0x555a56[_0x5b2e52(0x43f)]>0x0&&(_0x2f2f22=_0x5b2e52(0x6e4)+_0x555a56[_0x5b2e52(0x211)](',\x20')+'.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม');let _0x521b70='',_0x34eef9='',_0x42d205,_0x28286f=_0x5b2e52(0x6cf)+_0x22d1e8+'\x22';if(!_0x22d1e8&&_0x457939)_0x28286f='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x22d1e8&&!_0x457939&&(_0x28286f='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x518e8e={'type':_0x5b2e52(0x6fc),'properties':{'questionText':{'type':_0x5b2e52(0xb6)},'options':{'type':_0x5b2e52(0x467),'items':{'type':_0x5b2e52(0xb6)}},'correctAnswerIndex':{'type':_0x5b2e52(0x157)},'explanation':{'type':_0x5b2e52(0xb6)},'imageCode':{'type':_0x5b2e52(0xb6)}},'required':['questionText','options',_0x5b2e52(0x7b0),'explanation']},_0x200d27={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x5b2e52(0xb6)},'explanation':{'type':_0x5b2e52(0xb6)},'imageCode':{'type':_0x5b2e52(0xb6)}},'required':[_0x5b2e52(0x598),_0x5b2e52(0x66f),'explanation']},_0x3ed9ff={'type':_0x5b2e52(0x6fc),'properties':{'questionText':{'type':_0x5b2e52(0xb6)},'questionType':{'type':_0x5b2e52(0xb6),'enum':['multiple_choice',_0x5b2e52(0x65e)]},'options':{'type':_0x5b2e52(0x467),'items':{'type':_0x5b2e52(0xb6)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5b2e52(0xb6)},'imageCode':{'type':'STRING'}},'required':[_0x5b2e52(0x598),_0x5b2e52(0x84e),'explanation']},_0x2e99f7={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x5b2e52(0xb6)},'imageCode':{'type':_0x5b2e52(0xb6)}},'required':['questionText','correctAnswer','explanation']},_0x1a8342={'type':_0x5b2e52(0x6fc),'properties':{'questionType':{'type':'STRING','enum':[_0x5b2e52(0xcf)]},'stem':{'type':_0x5b2e52(0xb6)},'correctResponse':{'type':_0x5b2e52(0xb6)},'allResponses':{'type':_0x5b2e52(0x467),'items':{'type':_0x5b2e52(0xb6)}},'explanation':{'type':_0x5b2e52(0xb6)},'imageCode':{'type':_0x5b2e52(0xb6)}},'required':[_0x5b2e52(0x84e),_0x5b2e52(0x63e),'correctResponse',_0x5b2e52(0x603),'explanation']};let _0x1a98a1;if(_0x136221!==null){const _0x289d3a=currentQuizData[_0x5b2e52(0x393)][_0x136221]['questionType'],_0x1c1012=_0x198176?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x521b70=_0x5b2e52(0x391)+_0x28286f+'\x20'+_0x2f2f22+'\x20'+_0x163e0d+_0x5b2e52(0x7c2)+_0x1c1012+'\x20'+simpleMathPrompt;if(_0x289d3a===_0x5b2e52(0x657))_0x42d205=_0x518e8e;else{if(_0x289d3a===_0x5b2e52(0xcf))_0x42d205={'type':_0x5b2e52(0x6fc),'properties':{'questionType':{'type':_0x5b2e52(0xb6),'enum':[_0x5b2e52(0xcf)]},'stem':{'type':_0x5b2e52(0xb6)},'correctResponse':{'type':_0x5b2e52(0xb6)},'explanation':{'type':_0x5b2e52(0xb6)},'imageCode':{'type':'STRING'}},'required':[_0x5b2e52(0x84e),_0x5b2e52(0x63e),'correctResponse',_0x5b2e52(0x58f)]};else _0x42d205=_0x200d27;}_0x1a98a1=_0x42d205;}else{const _0x3de398=_0x198176?_0x5b2e52(0x42a):'',_0x1e0f06=_0x5b2e52(0x555);switch(_0x5b8b26){case'multiple_choice':_0x521b70='สร้างแบบทดสอบปรนัย'+_0x5ae12e+'\x20'+_0x199250+_0x5b2e52(0x6ce)+_0x28286f+'\x20'+_0x2f2f22+'\x20'+_0x163e0d+'\x20'+_0x24e9e3+_0x5b2e52(0x5d2)+_0x1f5cbd+_0x5b2e52(0x806)+_0x3de398+'\x20'+simpleMathPrompt,_0x42d205=_0x518e8e;break;case _0x5b2e52(0x3a7):_0x521b70=_0x5b2e52(0x588)+_0x5ae12e+'\x20'+_0x199250+_0x5b2e52(0x6ce)+_0x28286f+'\x20'+_0x2f2f22+'\x20'+_0x163e0d+'\x20'+_0x24e9e3+_0x5b2e52(0x4c9)+_0x1f5cbd+_0x5b2e52(0x331)+_0x3de398+'\x20'+simpleMathPrompt,_0x42d205=_0x518e8e;break;case _0x5b2e52(0x3bf):_0x521b70='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x5ae12e+'\x20'+_0x199250+'\x20ข้อ\x20'+_0x28286f+'\x20'+_0x2f2f22+'\x20'+_0x163e0d+'\x20'+_0x24e9e3+_0x5b2e52(0x15c)+_0x3de398+'\x20'+simpleMathPrompt,_0x42d205=_0x200d27;break;case _0x5b2e52(0x7b1):_0x521b70='สร้างแบบทดสอบ'+_0x5ae12e+'\x20'+_0x199250+_0x5b2e52(0x6ce)+_0x28286f+'\x20'+_0x2f2f22+'\x20'+_0x163e0d+'\x20'+_0x24e9e3+_0x5b2e52(0x1e2)+_0x1f5cbd+'\x20ตัวเลือก.\x20'+_0x3de398+'\x20'+simpleMathPrompt+'.',_0x42d205=_0x3ed9ff;break;case _0x5b2e52(0x340):_0x521b70='สร้างคำถามแบบใช่/ไม่ใช่'+_0x5ae12e+'\x20'+_0x199250+_0x5b2e52(0x6ce)+_0x28286f+'\x20'+_0x2f2f22+'\x20'+_0x163e0d+'\x20'+_0x24e9e3+_0x5b2e52(0x4ea)+_0x3de398+'\x20'+simpleMathPrompt,_0x42d205=_0x2e99f7;break;case _0x5b2e52(0x4a9):_0x521b70='สร้างชุดคำถามจับคู่'+_0x5ae12e+'\x20'+_0x199250+_0x5b2e52(0x162)+_0x28286f+'\x20'+_0x2f2f22+'\x20'+_0x163e0d+'\x20'+_0x24e9e3+_0x5b2e52(0x4b6)+_0x3de398+'\x20'+simpleMathPrompt,_0x42d205=_0x1a8342;break;}_0x1a98a1={'type':_0x5b2e52(0x6fc),'properties':{'topic':{'type':_0x5b2e52(0xb6)},'questions':{'type':_0x5b2e52(0x467),'items':_0x42d205}},'required':['topic','questions']};}return _0x457939?(_0x521b70=_0x5b2e52(0x103)+_0x457939+_0x5b2e52(0x22b)+_0x521b70,_0x34eef9=_0x5b2e52(0x831)):_0x34eef9=_0x5b2e52(0x286),handleApiCall(_0x521b70,_0x34eef9,_0x1a98a1,_0x136221);}async function generateQuizFromFile(_0x1d66e1,_0x33f306){const _0xb59550=_0x50f1a4,_0x5dac4f=document['getElementById']('file-topic-input')['value']['trim'](),_0x159c2f=document[_0xb59550(0x1f4)](_0xb59550(0x509))[_0xb59550(0x5cf)],_0x2742c2=document[_0xb59550(0x1f4)](_0xb59550(0x679))[_0xb59550(0x5cf)],_0x24d3de=document[_0xb59550(0x1f4)](_0xb59550(0x44c))['value'],_0x445a31=document[_0xb59550(0x1f4)]('include-images-checkbox')[_0xb59550(0x121)],_0x23ca40=document['getElementById'](_0xb59550(0x3d4))[_0xb59550(0x121)],_0x1879ec=_0x23ca40?'':'คณิตศาสตร์';let _0x559c62='',_0x31e794,_0x1fad7e=_0xb59550(0x6cf)+_0x5dac4f+'\x22';!_0x5dac4f&&(_0x1fad7e='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');const _0x56cce7=_0x445a31?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x159c2f){case _0xb59550(0x657):_0x559c62=_0xb59550(0x88d)+_0x1879ec+'\x20'+_0x2742c2+_0xb59550(0x6ce)+_0x1fad7e+_0xb59550(0x5d2)+_0x24d3de+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x56cce7+'\x20'+simpleMathPrompt,_0x31e794={'type':_0xb59550(0x6fc),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0xb59550(0x467),'items':{'type':_0xb59550(0xb6)}},'correctAnswerIndex':{'type':_0xb59550(0x157)},'explanation':{'type':_0xb59550(0xb6)},'imageCode':{'type':_0xb59550(0xb6)}},'required':['questionText','options',_0xb59550(0x7b0),'explanation']};break;case'fill_in_with_choices':_0x559c62=_0xb59550(0x588)+_0x1879ec+'\x20'+_0x2742c2+_0xb59550(0x6ce)+_0x1fad7e+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x24d3de+_0xb59550(0x331)+_0x56cce7+'\x20'+simpleMathPrompt,_0x31e794={'type':_0xb59550(0x6fc),'properties':{'questionText':{'type':_0xb59550(0xb6)},'options':{'type':_0xb59550(0x467),'items':{'type':_0xb59550(0xb6)}},'correctAnswerIndex':{'type':_0xb59550(0x157)},'explanation':{'type':_0xb59550(0xb6)},'imageCode':{'type':_0xb59550(0xb6)}},'required':[_0xb59550(0x598),_0xb59550(0x4a1),_0xb59550(0x7b0),'explanation']};break;case _0xb59550(0x3bf):_0x559c62=_0xb59550(0x588)+_0x1879ec+'\x20'+_0x2742c2+'\x20ข้อ\x20'+_0x1fad7e+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x56cce7+'\x20'+simpleMathPrompt,_0x31e794={'type':_0xb59550(0x6fc),'properties':{'questionText':{'type':_0xb59550(0xb6)},'idealAnswer':{'type':_0xb59550(0xb6)},'explanation':{'type':_0xb59550(0xb6)},'imageCode':{'type':'STRING'}},'required':['questionText',_0xb59550(0x66f),_0xb59550(0x58f)]};break;case _0xb59550(0x7b1):_0x559c62=_0xb59550(0x322)+_0x1879ec+'\x20'+_0x2742c2+'\x20ข้อ\x20'+_0x1fad7e+_0xb59550(0x86d)+_0x24d3de+_0xb59550(0x5a3)+_0x56cce7+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x31e794={'type':_0xb59550(0x6fc),'properties':{'questionText':{'type':_0xb59550(0xb6)},'questionType':{'type':_0xb59550(0xb6),'enum':[_0xb59550(0x657),_0xb59550(0x65e)]},'options':{'type':_0xb59550(0x467),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0xb59550(0xb6)},'explanation':{'type':_0xb59550(0xb6)},'imageCode':{'type':_0xb59550(0xb6)}},'required':[_0xb59550(0x598),_0xb59550(0x84e),_0xb59550(0x58f)]};break;case _0xb59550(0x340):_0x559c62=_0xb59550(0x19c)+_0x1879ec+'\x20'+_0x2742c2+_0xb59550(0x6ce)+_0x1fad7e+_0xb59550(0x28b)+_0x56cce7+'\x20'+simpleMathPrompt,_0x31e794={'type':_0xb59550(0x6fc),'properties':{'questionText':{'type':_0xb59550(0xb6)},'correctAnswer':{'type':_0xb59550(0x37b)},'explanation':{'type':_0xb59550(0xb6)},'imageCode':{'type':_0xb59550(0xb6)}},'required':[_0xb59550(0x598),_0xb59550(0x56b),_0xb59550(0x58f)]};break;case'matching':_0x559c62=_0xb59550(0x7a0)+_0x1879ec+'\x20'+_0x2742c2+_0xb59550(0x162)+_0x1fad7e+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x2742c2+_0xb59550(0xc8)+_0x56cce7+'\x20'+simpleMathPrompt,_0x31e794={'type':_0xb59550(0x6fc),'properties':{'questionType':{'type':_0xb59550(0xb6),'enum':[_0xb59550(0xcf)]},'stem':{'type':_0xb59550(0xb6)},'correctResponse':{'type':_0xb59550(0xb6)},'allResponses':{'type':_0xb59550(0x467),'items':{'type':_0xb59550(0xb6)}},'explanation':{'type':_0xb59550(0xb6)},'imageCode':{'type':_0xb59550(0xb6)}},'required':[_0xb59550(0x84e),_0xb59550(0x63e),_0xb59550(0x6af),_0xb59550(0x603),'explanation']};break;}const _0x39d634={'type':_0xb59550(0x6fc),'properties':{'topic':{'type':_0xb59550(0xb6)},'questions':{'type':_0xb59550(0x467),'items':_0x31e794}},'required':['topic',_0xb59550(0x393)]},_0x180cba=_0xb59550(0x146)+_0x559c62,_0x153792={'contents':[{'parts':[{'text':_0x180cba},{'inlineData':{'mimeType':_0x1d66e1,'data':_0x33f306}}]}],'generationConfig':{'responseMimeType':_0xb59550(0x32f),'responseSchema':_0x39d634}};return handleApiCall(_0x153792[_0xb59550(0x73a)][0x0][_0xb59550(0x795)],_0xb59550(0x16c),_0x39d634);}async function handleApiCall(_0x1ada92,_0x2fd265,_0x296707,_0x28f104=null){const _0x5b2d58=_0x50f1a4,_0x46b2af=document[_0x5b2d58(0x1f4)](_0x5b2d58(0x3e4)),_0x2bad15=document['getElementById'](_0x5b2d58(0x677)),_0x5270c6=document[_0x5b2d58(0x1f4)]('loader-text'),_0x4b7e1a=document[_0x5b2d58(0x1f4)](_0x5b2d58(0x6f8));_0x46b2af[_0x5b2d58(0x87b)][_0x5b2d58(0x8e)](_0x5b2d58(0x727));_0x28f104===null&&(_0x4b7e1a[_0x5b2d58(0x535)]='');_0x2bad15[_0x5b2d58(0x87b)][_0x5b2d58(0x8e)](_0x5b2d58(0x727)),_0x5270c6[_0x5b2d58(0x810)]=_0x2fd265,document[_0x5b2d58(0x1f4)](_0x5b2d58(0x420))[_0x5b2d58(0x891)]=!![],document[_0x5b2d58(0x1f4)](_0x5b2d58(0x2be))[_0x5b2d58(0x891)]=!![],document[_0x5b2d58(0x1f4)]('generate-from-link-btn')[_0x5b2d58(0x891)]=!![];try{const _0x191efe={'responseMimeType':_0x5b2d58(0x32f),'responseSchema':_0x296707},_0x2e42ff=Array['isArray'](_0x1ada92)?_0x1ada92:[{'text':_0x1ada92}],_0x52556e={'contents':[{'role':'user','parts':_0x2e42ff}],'generationConfig':_0x191efe},_0x422a42=_0x5b2d58(0x883),_0x28ea0c=_0x5b2d58(0x81b)+_0x422a42,_0x4cd3a9=await fetch(_0x28ea0c,{'method':_0x5b2d58(0x33e),'headers':{'Content-Type':_0x5b2d58(0x32f)},'body':JSON[_0x5b2d58(0xe2)](_0x52556e)});if(!_0x4cd3a9['ok'])throw new Error(_0x5b2d58(0x2e9)+_0x4cd3a9[_0x5b2d58(0x1a0)]);const _0x385424=await _0x4cd3a9['json']();if(_0x385424[_0x5b2d58(0x5d8)]?.[0x0]?.['content']?.[_0x5b2d58(0x795)]?.[0x0]){let _0x5128da=_0x385424['candidates'][0x0][_0x5b2d58(0x4c4)][_0x5b2d58(0x795)][0x0][_0x5b2d58(0x551)],_0x29d9c2;try{if(_0x5128da[_0x5b2d58(0x12b)](_0x5b2d58(0x533)))_0x5128da=_0x5128da[_0x5b2d58(0x7e3)](0x7,_0x5128da[_0x5b2d58(0x43f)]-0x3)[_0x5b2d58(0x6e3)]();else _0x5128da[_0x5b2d58(0x12b)](_0x5b2d58(0x62b))&&(_0x5128da=_0x5128da[_0x5b2d58(0x7e3)](0x3,_0x5128da['length']-0x3)[_0x5b2d58(0x6e3)]());_0x29d9c2=JSON[_0x5b2d58(0x582)](_0x5128da);}catch(_0x22793a){console[_0x5b2d58(0x5ec)]('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0x22793a,_0x5128da);throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}if(_0x28f104!==null){if(_0x29d9c2['questionType']===_0x5b2d58(0xcf)){const _0x55b41a=currentQuizData[_0x5b2d58(0x393)][_0x5b2d58(0x27d)](_0x97dc85=>_0x97dc85[_0x5b2d58(0x6af)]);_0x29d9c2['allResponses']=_0x55b41a;const _0x45c75a=currentQuizData['questions'][_0x28f104][_0x5b2d58(0x6af)],_0x2867c7=_0x55b41a[_0x5b2d58(0x73b)](_0x45c75a);_0x2867c7>-0x1&&(_0x55b41a[_0x2867c7]=_0x29d9c2[_0x5b2d58(0x6af)]),currentQuizData[_0x5b2d58(0x393)][_0x5b2d58(0x887)](_0x112c8f=>{const _0x409cdd=_0x5b2d58;if(_0x112c8f['questionType']===_0x409cdd(0xcf))_0x112c8f['allResponses']=_0x55b41a;});}currentQuizData[_0x5b2d58(0x393)][_0x28f104]=_0x29d9c2,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x29d9c2;const _0x34be3d=document[_0x5b2d58(0x1f4)](_0x5b2d58(0x509))[_0x5b2d58(0x5cf)];currentQuizData[_0x5b2d58(0x272)]=_0x34be3d,currentQuizData[_0x5b2d58(0x393)]&&currentQuizData['questions']['forEach'](_0x4fdb9f=>{const _0xae11e1=_0x5b2d58;if(!_0x4fdb9f[_0xae11e1(0x84e)]){if(_0x34be3d===_0xae11e1(0x3a7))_0x4fdb9f[_0xae11e1(0x84e)]='multiple_choice';else _0x34be3d==='fill_in_no_choices'?_0x4fdb9f[_0xae11e1(0x84e)]=_0xae11e1(0x65e):_0x4fdb9f['questionType']=_0x34be3d;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x5b2d58(0x5ec)]('Invalid\x20response\x20structure\x20from\x20AI:',JSON['stringify'](_0x385424));throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}}catch(_0x1f65aa){console[_0x5b2d58(0x5ec)](_0x5b2d58(0xaf),_0x1f65aa),showMessage(_0x5b2d58(0x3d5)),_0x28f104===null&&(_0x4b7e1a[_0x5b2d58(0x535)]=_0x5b2d58(0x1ca));}finally{_0x2bad15[_0x5b2d58(0x87b)][_0x5b2d58(0x6aa)](_0x5b2d58(0x727)),document[_0x5b2d58(0x1f4)](_0x5b2d58(0x420))['disabled']=![],document[_0x5b2d58(0x1f4)](_0x5b2d58(0x2be))[_0x5b2d58(0x891)]=![],document[_0x5b2d58(0x1f4)](_0x5b2d58(0x6ae))[_0x5b2d58(0x891)]=![];const _0x18f6c8=document[_0x5b2d58(0x1f4)]('generate-from-file-btn');_0x18f6c8&&(_0x18f6c8['disabled']=![]);}}function exitFullscreen(){const _0x573b4f=_0x50f1a4;if(document[_0x573b4f(0xcb)])document['exitFullscreen']()[_0x573b4f(0x46f)](_0x2f14=>console[_0x573b4f(0x5ec)](_0x2f14));else{if(document['webkitExitFullscreen'])document[_0x573b4f(0x6a9)]();else document[_0x573b4f(0x847)]&&document[_0x573b4f(0x847)]();}}function enterFullscreen(){const _0x433c76=_0x50f1a4,_0x696797=document['documentElement'];if(_0x696797[_0x433c76(0x71b)])_0x696797[_0x433c76(0x71b)]()[_0x433c76(0x46f)](_0x3d99ff=>{const _0x11bdc3=_0x433c76;console['error']('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x3d99ff[_0x11bdc3(0x561)]+'\x20('+_0x3d99ff[_0x11bdc3(0x250)]+')');});else{if(_0x696797[_0x433c76(0x4f4)])_0x696797[_0x433c76(0x4f4)]();else _0x696797[_0x433c76(0x6ea)]&&_0x696797[_0x433c76(0x6ea)]();}}function handleCheatingEvent(){const _0xbd4001=_0x50f1a4;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0xbd4001(0x401),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0xbd4001(0x254)+maxCheatAttempts+_0xbd4001(0x287)),document[_0xbd4001(0x1f4)](_0xbd4001(0x7cc))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0xbd4001(0x1c3)]('visibilitychange',handleVisibilityChange),document[_0xbd4001(0x1c3)]('fullscreenchange',handleFullscreenChange)):showMessage(_0xbd4001(0x17c)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x28fab9=_0x50f1a4;if(currentMode===_0x28fab9(0x7e)||!isQuizActive)return;if(document[_0x28fab9(0x3cb)]===_0x28fab9(0x727))handleCheatingEvent();else document['visibilityState']===_0x28fab9(0x4db)&&(console[_0x28fab9(0x1da)](_0x28fab9(0x6bb)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x342549=_0x50f1a4;if(currentMode===_0x342549(0x7e)||!isQuizActive)return;!document[_0x342549(0x20f)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x188a4b){const _0x4baa65=_0x50f1a4,_0x35f968=document['getElementById'](_0x4baa65(0x6f8));let _0x1079e1=_0x4baa65(0x706)+_0x188a4b['topic']+'</h3>';_0x188a4b[_0x4baa65(0x393)][_0x4baa65(0x887)]((_0x57e3ea,_0x2f59a3)=>{const _0x28930c=_0x4baa65;!_0x57e3ea['id']&&(_0x57e3ea['id']='q_'+Date[_0x28930c(0x857)]()+'_'+_0x2f59a3);const _0x3379d5=_0x57e3ea[_0x28930c(0x84e)]||_0x188a4b[_0x28930c(0x272)];_0x1079e1+=_0x28930c(0x280)+_0x2f59a3+_0x28930c(0x500)+_0x2f59a3+_0x28930c(0x26d)+_0x2f59a3+_0x28930c(0x5a4)+_0x2f59a3+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x3379d5){case _0x28930c(0xcf):_0x1079e1+=_0x28930c(0x7e5)+_0x2f59a3+'\x22>'+(_0x2f59a3+0x1)+'.\x20'+_0x57e3ea['stem']+_0x28930c(0x24d);_0x57e3ea[_0x28930c(0x2f8)]&&(_0x1079e1+=_0x28930c(0x5f8)+_0x2f59a3+_0x28930c(0x6c9)+_0x57e3ea[_0x28930c(0x2f8)]+_0x28930c(0x235));_0x1079e1+=_0x28930c(0x486)+_0x2f59a3+'\x22>'+_0x57e3ea[_0x28930c(0x6af)]+'</span></div>',_0x1079e1+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x2f59a3+'\x22>'+_0x57e3ea[_0x28930c(0x58f)]+_0x28930c(0x698);break;case _0x28930c(0x65e):_0x1079e1+=_0x28930c(0x7e5)+_0x2f59a3+'\x22>'+(_0x2f59a3+0x1)+'.\x20'+_0x57e3ea[_0x28930c(0x598)]+'</p>';_0x57e3ea['imageCode']&&(_0x1079e1+=_0x28930c(0x5f8)+_0x2f59a3+_0x28930c(0x6c9)+_0x57e3ea['imageCode']+'</div>');_0x1079e1+=_0x28930c(0x6ec)+_0x2f59a3+'\x22>'+_0x57e3ea[_0x28930c(0x66f)]+_0x28930c(0x698),_0x1079e1+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x2f59a3+'\x22>'+_0x57e3ea['explanation']+_0x28930c(0x698);break;case _0x28930c(0x340):_0x1079e1+=_0x28930c(0x7e5)+_0x2f59a3+'\x22>'+(_0x2f59a3+0x1)+'.\x20'+_0x57e3ea['questionText']+_0x28930c(0x24d);_0x57e3ea[_0x28930c(0x2f8)]&&(_0x1079e1+=_0x28930c(0x5f8)+_0x2f59a3+_0x28930c(0x6c9)+_0x57e3ea[_0x28930c(0x2f8)]+'</div>');_0x1079e1+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x57e3ea[_0x28930c(0x56b)]===!![]?_0x28930c(0x5e6):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x57e3ea[_0x28930c(0x56b)]===![]?_0x28930c(0x5e6):'')+_0x28930c(0x637),_0x1079e1+=_0x28930c(0x4e3)+_0x2f59a3+'\x22>'+_0x57e3ea[_0x28930c(0x58f)]+_0x28930c(0x698);break;case _0x28930c(0x802):case _0x28930c(0x657):default:_0x1079e1+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x2f59a3+'\x22>'+(_0x2f59a3+0x1)+'.\x20'+_0x57e3ea[_0x28930c(0x598)]+_0x28930c(0x24d);_0x57e3ea[_0x28930c(0x2f8)]&&(_0x1079e1+=_0x28930c(0x5f8)+_0x2f59a3+_0x28930c(0x6c9)+_0x57e3ea[_0x28930c(0x2f8)]+_0x28930c(0x235));_0x1079e1+=_0x28930c(0x3e5)+_0x2f59a3+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57e3ea[_0x28930c(0x4a1)][_0x28930c(0x27d)]((_0x4be60f,_0xb45e60)=>_0x28930c(0x252)+(_0xb45e60===_0x57e3ea[_0x28930c(0x7b0)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x4be60f+_0x28930c(0x610))[_0x28930c(0x211)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x1079e1+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x2f59a3+'\x22>'+_0x57e3ea[_0x28930c(0x58f)]+_0x28930c(0x698);break;}_0x1079e1+=_0x28930c(0x235);}),_0x1079e1+=_0x4baa65(0x1c7),_0x35f968[_0x4baa65(0x535)]=_0x1079e1,document[_0x4baa65(0x15d)](_0x4baa65(0x60e))[_0x4baa65(0x887)](_0x12d95b=>_0x12d95b[_0x4baa65(0x8c0)]('click',handleEditQuestion)),document[_0x4baa65(0x15d)](_0x4baa65(0x69b))[_0x4baa65(0x887)](_0x358be7=>_0x358be7[_0x4baa65(0x8c0)](_0x4baa65(0x2d7),handleRegenerateQuestion)),document['querySelectorAll'](_0x4baa65(0x6c7))['forEach'](_0x2a9fad=>_0x2a9fad[_0x4baa65(0x8c0)]('click',handleSaveToBank)),document['getElementById'](_0x4baa65(0x16b))[_0x4baa65(0x8c0)](_0x4baa65(0x2d7),exportQuizAsWorksheetPDF),document[_0x4baa65(0x1f4)]('save-quiz-btn')[_0x4baa65(0x8c0)]('click',saveQuiz),document[_0x4baa65(0x1f4)](_0x4baa65(0x76))['addEventListener']('click',handleVerifyAnswers);if(window[_0x4baa65(0x7c0)])window[_0x4baa65(0x7c0)][_0x4baa65(0x703)]([_0x35f968]);}function handleRegenerateQuestion(_0xd9aef1){const _0x243517=_0x50f1a4,_0x5939bf=_0xd9aef1[_0x243517(0x87a)]['dataset'][_0x243517(0x49b)],_0x3a8d40=currentQuizData[_0x243517(0x2c9)];showMessage(_0x243517(0x243)+(parseInt(_0x5939bf)+0x1)+_0x243517(0x717)),generateQuiz(_0x3a8d40,null,parseInt(_0x5939bf));}function getPointerPosition(_0x384881,_0x431b74){const _0x31406a=_0x50f1a4,_0x53aea9=_0x384881['getScreenCTM']();let _0x4c86f1,_0xb584e;return _0x431b74[_0x31406a(0x625)]&&_0x431b74[_0x31406a(0x625)][_0x31406a(0x43f)]>0x0?(_0x4c86f1=_0x431b74['touches'][0x0][_0x31406a(0x8d2)],_0xb584e=_0x431b74[_0x31406a(0x625)][0x0][_0x31406a(0x8b5)]):(_0x4c86f1=_0x431b74[_0x31406a(0x8d2)],_0xb584e=_0x431b74[_0x31406a(0x8b5)]),{'x':(_0x4c86f1-_0x53aea9['e'])/_0x53aea9['a'],'y':(_0xb584e-_0x53aea9['f'])/_0x53aea9['d']};}function startDrag(_0x5ea9be){const _0x4f9334=_0x50f1a4;_0x5ea9be[_0x4f9334(0x7de)]===_0x4f9334(0x5d6)&&_0x5ea9be[_0x4f9334(0x1cb)]();const _0x283169=_0x5ea9be['target']['closest'](_0x4f9334(0x720));if(_0x283169){draggedSvgElement=_0x283169;const _0x539112=draggedSvgElement[_0x4f9334(0x769)],_0x3d8c7f=getPointerPosition(_0x539112,_0x5ea9be);svgOffset['x']=_0x3d8c7f['x']-parseFloat(draggedSvgElement[_0x4f9334(0x24e)](null,'x')),svgOffset['y']=_0x3d8c7f['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x47f0c6,_0x250761){const _0x9b9851=_0x50f1a4,_0x3c86d0={};if(_0x250761[_0x9b9851(0x43f)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x55011b=[..._0x250761][_0x9b9851(0x5ef)]((_0x173346,_0x5e37ec)=>{const _0x563512=_0x9b9851,_0x66fa1=_0x5e37ec[_0x563512(0x1cf)]-_0x173346['latestScore'];if(_0x66fa1!==0x0)return _0x66fa1;const _0x1ee755=_0x173346['attempts']?.['length']||0x1,_0x7b33e9=_0x5e37ec[_0x563512(0x217)]?.[_0x563512(0x43f)]||0x1,_0x229a61=_0x1ee755-_0x7b33e9;if(_0x229a61!==0x0)return _0x229a61;const _0x3f6189=new Date(_0x173346[_0x563512(0x761)]),_0x50fcaf=new Date(_0x5e37ec[_0x563512(0x761)]),_0x172c8e=_0x3f6189-_0x50fcaf;if(_0x172c8e!==0x0)return _0x172c8e;return _0x173346[_0x563512(0x2b1)][_0x563512(0x27f)](_0x5e37ec[_0x563512(0x2b1)],'th');}),_0x156c78=_0x55011b[_0x9b9851(0x43f)],_0x5b9d66=Math[_0x9b9851(0x5bd)](0x1,Math[_0x9b9851(0x136)](_0x156c78*0.33));if(_0x5b9d66===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x1b06ca=_0x55011b[_0x9b9851(0x375)](0x0,_0x5b9d66),_0x40f777=_0x55011b['slice'](-_0x5b9d66),_0x5e6360=_0x1b06ca[_0x9b9851(0x27d)](_0x189c65=>_0x189c65[_0x9b9851(0x2b1)]),_0x1f7d48=_0x40f777[_0x9b9851(0x27d)](_0x3ce3d9=>_0x3ce3d9[_0x9b9851(0x2b1)]);return _0x47f0c6['questions'][_0x9b9851(0x887)]((_0x1b36c7,_0x3a135c)=>{const _0x36cd02=_0x9b9851,_0x29e672=_0x1b36c7['stem']||_0x1b36c7[_0x36cd02(0x598)];let _0x5afdac=0x0,_0x24429a=0x0,_0x1290da=0x0;const _0x3cf3dd=[],_0x462ccf=[];_0x1b06ca[_0x36cd02(0x887)](_0x1f6884=>{const _0x4b62a2=_0x36cd02,_0x1c2a88=_0x1f6884[_0x4b62a2(0x217)][_0x1f6884['attempts']['length']-0x1],_0x2295b0=_0x1c2a88[_0x4b62a2(0x6d3)][_0x4b62a2(0x700)](_0x2254cd=>_0x2254cd[_0x4b62a2(0x5fc)]===_0x29e672);_0x3cf3dd[_0x4b62a2(0x8b6)]({'name':_0x1f6884['studentName'],'isCorrect':_0x2295b0?_0x2295b0['isCorrect']:![]}),_0x2295b0&&_0x2295b0[_0x4b62a2(0x797)]&&_0x24429a++;}),_0x40f777['forEach'](_0x533366=>{const _0x364b6d=_0x36cd02,_0x11f8b8=_0x533366[_0x364b6d(0x217)][_0x533366[_0x364b6d(0x217)][_0x364b6d(0x43f)]-0x1],_0x50b32e=_0x11f8b8['answers'][_0x364b6d(0x700)](_0x51f95e=>_0x51f95e[_0x364b6d(0x5fc)]===_0x29e672);_0x462ccf[_0x364b6d(0x8b6)]({'name':_0x533366['studentName'],'isCorrect':_0x50b32e?_0x50b32e[_0x364b6d(0x797)]:![]}),_0x50b32e&&_0x50b32e['isCorrect']&&_0x1290da++;}),_0x250761[_0x36cd02(0x887)](_0x408bf6=>{const _0x28d520=_0x36cd02,_0x10f7db=_0x408bf6['attempts'][_0x408bf6[_0x28d520(0x217)][_0x28d520(0x43f)]-0x1],_0x13ccae=_0x10f7db[_0x28d520(0x6d3)][_0x28d520(0x700)](_0xa2ab91=>_0xa2ab91['originalQuestionText']===_0x29e672);_0x13ccae&&_0x13ccae[_0x28d520(0x797)]&&_0x5afdac++;});const _0x4ea7e0=_0x156c78>0x0?_0x5afdac/_0x156c78:0x0,_0xccaad6=_0x5b9d66>0x0?_0x24429a/_0x5b9d66-_0x1290da/_0x5b9d66:0x0;_0x3c86d0[_0x3a135c]={'p':_0x4ea7e0,'r':_0xccaad6,'upperGroupResponders':_0x3cf3dd,'lowerGroupResponders':_0x462ccf};}),{'perQuestionStats':_0x3c86d0,'overallGroups':{'upperGroupNames':_0x5e6360,'lowerGroupNames':_0x1f7d48}};}function drag(_0xfd2e26){const _0xc50898=_0x50f1a4;if(draggedSvgElement){_0xfd2e26[_0xc50898(0x1cb)]();const _0x492210=draggedSvgElement['ownerSVGElement'],_0x3b8ffa=getPointerPosition(_0x492210,_0xfd2e26),_0x434910=_0x492210[_0xc50898(0x60d)][_0xc50898(0x52c)];let _0x44b88c=_0x3b8ffa['x']-svgOffset['x'],_0x56b646=_0x3b8ffa['y']-svgOffset['y'];const _0x1747b0=draggedSvgElement[_0xc50898(0x275)]();_0x44b88c=Math[_0xc50898(0x5bd)](_0x434910['x'],Math[_0xc50898(0x4ae)](_0x44b88c,_0x434910['x']+_0x434910['width']-_0x1747b0['width'])),_0x56b646=Math[_0xc50898(0x5bd)](_0x434910['y'],Math['min'](_0x56b646,_0x434910['y']+_0x434910[_0xc50898(0x106)]-_0x1747b0[_0xc50898(0x106)])),draggedSvgElement[_0xc50898(0x95)](null,'x',_0x44b88c),draggedSvgElement[_0xc50898(0x95)](null,'y',_0x56b646);}}function endDrag(_0x251381){draggedSvgElement=null;}function handleSvgEditClick(_0x26e678){const _0x1b508b=_0x50f1a4;if(_0x26e678[_0x1b508b(0x823)]['classList'][_0x1b508b(0x5c2)](_0x1b508b(0x294))){const _0x1d59a0=_0x26e678[_0x1b508b(0x823)][_0x1b508b(0x873)][_0x1b508b(0x75c)],_0x47dfd8=_0x26e678[_0x1b508b(0x87a)],_0x330878=_0x47dfd8['querySelector']('#'+_0x1d59a0);_0x330878&&_0x330878[_0x1b508b(0x8e)](),_0x26e678[_0x1b508b(0x823)][_0x1b508b(0x8e)]();}}function handleEditQuestion(_0x1fb6b9){const _0x473a24=_0x50f1a4,_0xe8be5=_0x1fb6b9[_0x473a24(0x87a)],_0x39c555=_0xe8be5[_0x473a24(0x873)]['index'],_0x974e29=currentQuizData[_0x473a24(0x393)][_0x39c555],_0x1c89c6=document[_0x473a24(0x1f4)]('q-text-'+_0x39c555),_0x3c59e5=document[_0x473a24(0x1f4)](_0x473a24(0x405)+_0x39c555),_0x48516f=document[_0x473a24(0x1f4)](_0x473a24(0x45a)+_0x39c555);if(_0xe8be5[_0x473a24(0x535)][_0x473a24(0x4c3)](_0x473a24(0x338))){_0xe8be5[_0x473a24(0x535)]=_0x473a24(0x590),_0xe8be5[_0x473a24(0x3b7)]=_0x473a24(0x60c);if(_0x1c89c6)_0x1c89c6[_0x473a24(0x65f)]=!![];if(_0x3c59e5)_0x3c59e5[_0x473a24(0x65f)]=!![];if(_0x48516f){const _0x2a5953=_0x48516f[_0x473a24(0x76d)](_0x473a24(0x5a0));if(_0x2a5953){const _0x44e344=_0x2a5953[_0x473a24(0x15d)](_0x473a24(0x551));_0x44e344[_0x473a24(0x887)]((_0x19d8b7,_0x361cd0)=>{const _0x2c70f3=_0x473a24,_0x38d39b='editable-text-'+_0x39c555+'-'+_0x361cd0;_0x19d8b7['id']=_0x38d39b,_0x19d8b7[_0x2c70f3(0x87b)][_0x2c70f3(0x6aa)](_0x2c70f3(0x815)),_0x19d8b7['style']['cursor']=_0x2c70f3(0x784);const _0x1a65ce=document[_0x2c70f3(0x5ce)]('http://www.w3.org/2000/svg',_0x2c70f3(0x7a1)),_0x26ca10=_0x19d8b7[_0x2c70f3(0x275)]();_0x1a65ce['setAttribute']('cx',String(_0x26ca10['x']+_0x26ca10[_0x2c70f3(0x8b0)]+0x5)),_0x1a65ce[_0x2c70f3(0xa9)]('cy',String(_0x26ca10['y']+_0x26ca10[_0x2c70f3(0x106)]/0x2-0x5)),_0x1a65ce[_0x2c70f3(0xa9)]('r','5'),_0x1a65ce['setAttribute'](_0x2c70f3(0x73e),_0x2c70f3(0x35e)),_0x1a65ce[_0x2c70f3(0xa9)](_0x2c70f3(0x4ca),_0x2c70f3(0x294)),_0x1a65ce[_0x2c70f3(0x873)]['targetId']=_0x38d39b,_0x19d8b7[_0x2c70f3(0x774)](_0x1a65ce);}),_0x2a5953[_0x473a24(0x8c0)](_0x473a24(0x9c),startDrag),_0x2a5953[_0x473a24(0x8c0)](_0x473a24(0x53e),drag),_0x2a5953['addEventListener'](_0x473a24(0x58d),endDrag),_0x2a5953[_0x473a24(0x8c0)]('mouseleave',endDrag),_0x2a5953[_0x473a24(0x8c0)](_0x473a24(0x5d6),startDrag,{'passive':![]}),_0x2a5953[_0x473a24(0x8c0)](_0x473a24(0x19d),drag,{'passive':![]}),_0x2a5953[_0x473a24(0x8c0)](_0x473a24(0x262),endDrag),_0x2a5953[_0x473a24(0x8c0)]('touchcancel',endDrag),_0x2a5953[_0x473a24(0x8c0)]('click',handleSvgEditClick);}}if(_0x1c89c6)_0x1c89c6[_0x473a24(0x661)]();}else{_0xe8be5[_0x473a24(0x535)]=_0x473a24(0xd2),_0xe8be5[_0x473a24(0x3b7)]='แก้ไขข้อนี้';if(_0x1c89c6){_0x1c89c6['contentEditable']=![];const _0x4c0889=_0x974e29[_0x473a24(0x84e)]||currentQuizData[_0x473a24(0x272)];_0x4c0889===_0x473a24(0xcf)?_0x974e29[_0x473a24(0x63e)]=_0x1c89c6[_0x473a24(0x3ea)]['substring'](_0x1c89c6[_0x473a24(0x3ea)][_0x473a24(0x73b)]('.')+0x2)[_0x473a24(0x6e3)]():_0x974e29[_0x473a24(0x598)]=_0x1c89c6[_0x473a24(0x3ea)][_0x473a24(0x7e3)](_0x1c89c6[_0x473a24(0x3ea)][_0x473a24(0x73b)]('.')+0x2)[_0x473a24(0x6e3)]();}_0x3c59e5&&(_0x3c59e5[_0x473a24(0x65f)]=![],_0x974e29[_0x473a24(0x58f)]=_0x3c59e5[_0x473a24(0x3ea)]);if(_0x48516f){const _0x3b36e2=_0x48516f[_0x473a24(0x76d)](_0x473a24(0x5a0));if(_0x3b36e2){const _0x2c7538=_0x3b36e2[_0x473a24(0xee)](!![]);_0x2c7538[_0x473a24(0x15d)](_0x473a24(0x16f))['forEach'](_0x242551=>_0x242551[_0x473a24(0x8e)]()),_0x2c7538['querySelectorAll'](_0x473a24(0x720))[_0x473a24(0x887)](_0xaf20c3=>{const _0x470422=_0x473a24;_0xaf20c3[_0x470422(0x87b)]['remove'](_0x470422(0x815)),_0xaf20c3[_0x470422(0x21f)][_0x470422(0x721)]='default',_0xaf20c3[_0x470422(0x550)]('id');}),_0x974e29[_0x473a24(0x2f8)]=_0x2c7538[_0x473a24(0x475)],_0x3b36e2[_0x473a24(0x1c3)](_0x473a24(0x9c),startDrag),_0x3b36e2[_0x473a24(0x1c3)](_0x473a24(0x53e),drag),_0x3b36e2[_0x473a24(0x1c3)]('mouseup',endDrag),_0x3b36e2[_0x473a24(0x1c3)](_0x473a24(0x580),endDrag),_0x3b36e2[_0x473a24(0x1c3)](_0x473a24(0x5d6),startDrag),_0x3b36e2[_0x473a24(0x1c3)](_0x473a24(0x19d),drag),_0x3b36e2[_0x473a24(0x1c3)](_0x473a24(0x262),endDrag),_0x3b36e2[_0x473a24(0x1c3)](_0x473a24(0x755),endDrag),_0x3b36e2[_0x473a24(0x1c3)]('click',handleSvgEditClick),_0x3b36e2[_0x473a24(0x15d)](_0x473a24(0x16f))[_0x473a24(0x887)](_0x5b9e48=>_0x5b9e48['remove']()),_0x3b36e2[_0x473a24(0x15d)](_0x473a24(0x720))[_0x473a24(0x887)](_0x43e520=>{const _0x17ee27=_0x473a24;_0x43e520[_0x17ee27(0x87b)][_0x17ee27(0x8e)](_0x17ee27(0x815)),_0x43e520[_0x17ee27(0x21f)][_0x17ee27(0x721)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0xaafd42){const _0x391a4d=_0x50f1a4,_0x852fc4=document[_0x391a4d(0x1f4)](_0x391a4d(0x381)),_0x53795a=document[_0x391a4d(0x1f4)](_0x391a4d(0x3cf));_0x53795a['innerHTML']=_0x391a4d(0x98),_0x852fc4[_0x391a4d(0x87b)][_0x391a4d(0x8e)](_0x391a4d(0x727));try{const _0x3b4430=doc(db,_0x391a4d(0x385)+appId+_0x391a4d(0x4bf),_0xaafd42),_0x1f81c0=await getDoc(_0x3b4430);if(!_0x1f81c0[_0x391a4d(0x5b8)]())throw new Error(_0x391a4d(0x790));currentEditingQuizData={'id':_0xaafd42,..._0x1f81c0['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x57f8fb){console['error'](_0x391a4d(0x62e),_0x57f8fb),showMessage(_0x391a4d(0x756)),_0x852fc4[_0x391a4d(0x87b)][_0x391a4d(0x6aa)](_0x391a4d(0x727));}}function renderQuizEditor(_0x3a6623){const _0x310f9b=_0x50f1a4;document[_0x310f9b(0x1f4)]('editor-quiz-topic')[_0x310f9b(0x5cf)]=_0x3a6623[_0x310f9b(0x2c9)];const _0x16637d=document[_0x310f9b(0x1f4)](_0x310f9b(0x3cf));let _0x197a02=_0x3a6623[_0x310f9b(0x393)][_0x310f9b(0x27d)]((_0x4c8bde,_0x5eda71)=>{const _0x1179a4=_0x310f9b;let _0x1a4a6b='';const _0x33ecf3=_0x4c8bde[_0x1179a4(0x84e)]||_0x3a6623[_0x1179a4(0x272)];switch(_0x33ecf3){case _0x1179a4(0x657):const _0x1d7ef5=(_0x4c8bde[_0x1179a4(0x4a1)]||[])[_0x1179a4(0x27d)]((_0x4aa673,_0x363240)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x5eda71+_0x1179a4(0x568)+_0x363240+'\x22\x20'+(_0x363240===_0x4c8bde['correctAnswerIndex']?'checked':'')+_0x1179a4(0x3f9)+_0x4aa673+_0x1179a4(0x416))[_0x1179a4(0x211)]('');_0x1a4a6b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x1d7ef5+_0x1179a4(0x39e);break;case _0x1179a4(0x65e):_0x1a4a6b=_0x1179a4(0x639)+(_0x4c8bde[_0x1179a4(0x66f)]||'')+_0x1179a4(0x490);break;case _0x1179a4(0x340):_0x1a4a6b=_0x1179a4(0x471)+_0x5eda71+_0x1179a4(0x3e7)+(_0x4c8bde['correctAnswer']===!![]?'checked':'')+_0x1179a4(0x7f7)+_0x5eda71+_0x1179a4(0x56f)+(_0x4c8bde['correctAnswer']===![]?'checked':'')+_0x1179a4(0x176);break;case _0x1179a4(0xcf):_0x1a4a6b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x4c8bde[_0x1179a4(0x6af)]||'')+_0x1179a4(0x28a);break;}const _0x30307b=_0x4c8bde['questionText']||_0x4c8bde[_0x1179a4(0x63e)]||'';return _0x1179a4(0x7d9)+_0x5eda71+_0x1179a4(0x453)+_0x33ecf3+'\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x5eda71+0x1)+'\x20('+_0x33ecf3+'):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x30307b+_0x1179a4(0x5d7)+_0x1a4a6b+_0x1179a4(0x469);})[_0x310f9b(0x211)]('');_0x16637d['innerHTML']=_0x197a02,_0x16637d[_0x310f9b(0x15d)](_0x310f9b(0x336))[_0x310f9b(0x887)](_0x50728d=>{const _0x4d3afd=_0x310f9b;_0x50728d[_0x4d3afd(0x8c0)](_0x4d3afd(0x2d7),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x377bc9){const _0x12ff1f=_0x50f1a4,_0x50c530=_0x377bc9[_0x12ff1f(0x87a)],_0x4656fc=_0x50c530[_0x12ff1f(0x88)]('.question-editor-item');if(!_0x4656fc)return;const _0x4afe79=parseInt(_0x4656fc[_0x12ff1f(0x873)][_0x12ff1f(0x6b8)],0xa);if(isNaN(_0x4afe79)||!currentEditingQuizData[_0x12ff1f(0x393)][_0x4afe79]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x1868f1=currentEditingQuizData[_0x12ff1f(0x393)][_0x4afe79];_0x50c530[_0x12ff1f(0x535)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x50c530[_0x12ff1f(0x891)]=!![];const _0x44a85d=_0x12ff1f(0x10a)+JSON[_0x12ff1f(0xe2)](_0x1868f1)+_0x12ff1f(0x34c);let _0x4c2b1c;const _0x32a698=_0x1868f1[_0x12ff1f(0x84e)]||currentEditingQuizData[_0x12ff1f(0x272)];switch(_0x32a698){case _0x12ff1f(0x65e):_0x4c2b1c={'type':_0x12ff1f(0x6fc),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x12ff1f(0xb6)},'imageCode':{'type':_0x12ff1f(0xb6)}},'required':['questionText',_0x12ff1f(0x66f),_0x12ff1f(0x58f)]};break;case _0x12ff1f(0x657):default:_0x4c2b1c={'type':_0x12ff1f(0x6fc),'properties':{'questionText':{'type':_0x12ff1f(0xb6)},'options':{'type':'ARRAY','items':{'type':_0x12ff1f(0xb6)}},'correctAnswerIndex':{'type':_0x12ff1f(0x157)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x12ff1f(0x598),_0x12ff1f(0x4a1),_0x12ff1f(0x7b0),_0x12ff1f(0x58f)]};break;}try{let _0x1fef15=await callAnalysisApi(_0x44a85d,_0x4c2b1c);_0x1fef15[_0x12ff1f(0x4a1)]&&Array[_0x12ff1f(0x247)](_0x1fef15['options'])&&(_0x1fef15['options']=_0x1fef15[_0x12ff1f(0x4a1)]['map'](_0x1839ba=>typeof _0x1839ba==='string'?_0x1839ba['replace'](/S(\s*[\d_]+?\s*)S/g,_0x12ff1f(0x7bc)):_0x1839ba)),_0x1868f1[_0x12ff1f(0x2f8)]&&_0x1868f1[_0x12ff1f(0x2f8)][_0x12ff1f(0x4c3)](_0x12ff1f(0x1c8))&&(_0x1fef15[_0x12ff1f(0x2f8)]=''),currentEditingQuizData[_0x12ff1f(0x393)][_0x4afe79]={..._0x1868f1,..._0x1fef15},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x23c950){console[_0x12ff1f(0x5ec)](_0x12ff1f(0x49e),_0x23c950),showMessage(_0x12ff1f(0xac)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x87d0af=_0x50f1a4,_0x46da0d=document[_0x87d0af(0x1f4)](_0x87d0af(0x527));_0x46da0d[_0x87d0af(0x891)]=!![],_0x46da0d[_0x87d0af(0x535)]=_0x87d0af(0x433);try{const _0x40e3c5=document['getElementById'](_0x87d0af(0x55e))[_0x87d0af(0x5cf)],_0x18dcbd=document[_0x87d0af(0x15d)](_0x87d0af(0x48b));let _0x3e45cd=[];const _0x44d4d2=Array[_0x87d0af(0x41e)](_0x18dcbd)['map']((_0x326000,_0x1e7e41)=>{const _0x45c81f=_0x87d0af,_0x52f923=_0x326000[_0x45c81f(0x873)][_0x45c81f(0x45e)],_0x511602=_0x326000[_0x45c81f(0x76d)]('textarea')[_0x45c81f(0x5cf)];let _0x547b62={'questionType':_0x52f923};const _0x408bec=currentEditingQuizData['questions'][_0x1e7e41];switch(_0x52f923){case'multiple_choice':_0x547b62[_0x45c81f(0x598)]=_0x511602;const _0x493d22=_0x326000[_0x45c81f(0x15d)](_0x45c81f(0x789));_0x547b62[_0x45c81f(0x4a1)]=Array[_0x45c81f(0x41e)](_0x493d22)['map'](_0x3c6b84=>_0x3c6b84[_0x45c81f(0x5cf)]);const _0x414500=_0x326000[_0x45c81f(0x76d)](_0x45c81f(0x53a));_0x547b62[_0x45c81f(0x7b0)]=_0x414500?parseInt(_0x414500[_0x45c81f(0x5cf)]):0x0;break;case _0x45c81f(0x65e):_0x547b62[_0x45c81f(0x598)]=_0x511602,_0x547b62[_0x45c81f(0x66f)]=_0x326000[_0x45c81f(0x76d)](_0x45c81f(0x1f8))[_0x45c81f(0x5cf)];break;case _0x45c81f(0x340):_0x547b62[_0x45c81f(0x598)]=_0x511602;const _0x187e95=_0x326000[_0x45c81f(0x76d)](_0x45c81f(0x53a));_0x547b62['correctAnswer']=_0x187e95?_0x187e95[_0x45c81f(0x5cf)]===_0x45c81f(0x7c):!![];break;case'matching_item':_0x547b62[_0x45c81f(0x63e)]=_0x511602;const _0x22e335=_0x326000[_0x45c81f(0x76d)](_0x45c81f(0x37a));_0x547b62[_0x45c81f(0x6af)]=_0x22e335?_0x22e335[_0x45c81f(0x5cf)]:'',_0x3e45cd[_0x45c81f(0x8b6)](_0x547b62[_0x45c81f(0x6af)]);break;default:_0x547b62[_0x45c81f(0x598)]=_0x511602;break;}return{..._0x408bec,..._0x547b62};});_0x3e45cd['length']>0x0&&_0x44d4d2[_0x87d0af(0x887)](_0x438d05=>{const _0x22e18f=_0x87d0af;_0x438d05[_0x22e18f(0x84e)]===_0x22e18f(0xcf)&&(_0x438d05[_0x22e18f(0x603)]=_0x3e45cd);});const _0x5e74f8=currentEditingQuizData['id'],_0x35a4fd=doc(db,_0x87d0af(0x385)+appId+_0x87d0af(0x4bf),_0x5e74f8);await updateDoc(_0x35a4fd,{'topic':_0x40e3c5,'questions':_0x44d4d2}),document['getElementById'](_0x87d0af(0x381))[_0x87d0af(0x87b)]['add'](_0x87d0af(0x727)),showMessage(_0x87d0af(0x3d0),()=>initiateReGradeProcess(_0x5e74f8));}catch(_0x1b6502){console[_0x87d0af(0x5ec)](_0x87d0af(0x60a),_0x1b6502),showMessage(_0x87d0af(0x172));}finally{_0x46da0d['disabled']=![],_0x46da0d[_0x87d0af(0x535)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x1c87bb){const _0xef1f72=_0x50f1a4;showMessage(_0xef1f72(0x888));try{const _0x4ec075=doc(db,_0xef1f72(0x385)+appId+_0xef1f72(0x4bf),_0x1c87bb),_0x11123f=await getDoc(_0x4ec075);if(!_0x11123f['exists']())throw new Error(_0xef1f72(0xdc));const _0x5765e4={'id':_0x1c87bb,..._0x11123f[_0xef1f72(0x3db)]()},_0x24d380=collection(db,_0xef1f72(0x385)+appId+'/public/data/quizzes',_0x1c87bb,'submissions'),_0x169401=await getDocs(_0x24d380);if(_0x169401['empty']){showMessage(_0xef1f72(0x5e2));return;}const _0x9aa604=_0x169401['docs'][_0xef1f72(0x27d)](_0x20374e=>reGradeSingleSubmission(_0x20374e,_0x5765e4));await Promise[_0xef1f72(0x75b)](_0x9aa604);if(_0x5765e4['projectId']){const _0x3d21e5=doc(db,_0xef1f72(0x385)+appId+_0xef1f72(0x5ff),_0x5765e4[_0xef1f72(0x713)]),_0x45a925=await getDoc(_0x3d21e5);if(_0x45a925[_0xef1f72(0x5b8)]()&&_0x45a925[_0xef1f72(0x3db)]()[_0xef1f72(0x327)]){const _0x38c5dc=_0x45a925[_0xef1f72(0x3db)]()['students'][_0xef1f72(0x27d)](_0x446b2a=>updateStudentProfile(_0x5765e4[_0xef1f72(0x713)],_0x446b2a));await Promise[_0xef1f72(0x75b)](_0x38c5dc);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x169401[_0xef1f72(0x477)]+_0xef1f72(0x69f));}catch(_0x13b3f1){console[_0xef1f72(0x5ec)]('Re-grade\x20process\x20failed:',_0x13b3f1),showMessage(_0xef1f72(0x3a4)+_0x13b3f1[_0xef1f72(0x561)]);}}async function reGradeSingleSubmission(_0x14943f,_0x38fcfd){const _0x30a216=_0x50f1a4,_0x5bf74c=_0x14943f['data'](),_0xf3e19a=_0x5bf74c[_0x30a216(0x2b1)],_0x2d64aa=_0x5bf74c[_0x30a216(0x217)]||[],_0x43f55e=[];for(const _0x5cab83 of _0x2d64aa){let _0x231144=0x0,_0x53c941=[],_0x2e8b6d=0x0;const _0x24eb14=[];for(const _0x21ca3f of _0x5cab83[_0x30a216(0x6d3)]){let _0x20bca1;_0x21ca3f[_0x30a216(0x394)]&&(_0x20bca1=_0x38fcfd[_0x30a216(0x393)][_0x30a216(0x700)](_0x25f41b=>_0x25f41b['id']===_0x21ca3f['questionId']));!_0x20bca1&&_0x21ca3f[_0x30a216(0x5fc)]&&(_0x20bca1=_0x38fcfd[_0x30a216(0x393)]['find'](_0x21a064=>(_0x21a064['stem']||_0x21a064[_0x30a216(0x598)])===_0x21ca3f[_0x30a216(0x5fc)]));let _0x1bf46=![];if(_0x20bca1){const _0x845e9e=_0x20bca1[_0x30a216(0x84e)]||_0x38fcfd[_0x30a216(0x272)];switch(_0x845e9e){case _0x30a216(0x657):if(_0x20bca1[_0x30a216(0x4a1)]&&_0x20bca1[_0x30a216(0x7b0)]<_0x20bca1[_0x30a216(0x4a1)]['length']){const _0x5e0ffa=_0x20bca1[_0x30a216(0x4a1)][_0x20bca1['correctAnswerIndex']];_0x1bf46=_0x21ca3f[_0x30a216(0x124)]===_0x5e0ffa;}break;case'true_false':const _0x71aff6=_0x21ca3f[_0x30a216(0x61d)]===!![]||_0x21ca3f[_0x30a216(0x61d)]==='true';_0x1bf46=_0x71aff6===_0x20bca1[_0x30a216(0x56b)];break;case _0x30a216(0xcf):_0x1bf46=_0x21ca3f[_0x30a216(0x61d)]===_0x20bca1[_0x30a216(0x6af)];break;case'short_answer':_0x1bf46=await gradeShortAnswer(_0x21ca3f[_0x30a216(0x61d)],_0x20bca1);break;default:_0x1bf46=_0x21ca3f[_0x30a216(0x797)];break;}}if(_0x1bf46){_0x231144++,_0x2e8b6d++;if(_0x2e8b6d===0x3)_0x53c941[_0x30a216(0x8b6)](BADGES[_0x30a216(0x1d4)]['id']);}else _0x2e8b6d=0x0;_0x24eb14[_0x30a216(0x8b6)]({..._0x21ca3f,'isCorrect':_0x1bf46});}let _0x4744cd=_0x231144*0xa;_0x231144===_0x38fcfd[_0x30a216(0x393)][_0x30a216(0x43f)]&&(_0x4744cd+=0x32,_0x53c941[_0x30a216(0x8b6)](BADGES[_0x30a216(0x1d8)]['id'])),_0x43f55e[_0x30a216(0x8b6)]({..._0x5cab83,'score':_0x231144,'points':_0x4744cd,'badges':Array[_0x30a216(0x41e)](new Set(_0x53c941)),'answers':_0x24eb14});}const _0x4ccb4e=_0x43f55e[_0x30a216(0x43f)]>0x0?_0x43f55e[0x0]['score']:0x0,_0x288299=Math[_0x30a216(0x5bd)](..._0x43f55e['map'](_0x4a9433=>_0x4a9433['score'])),_0x3725d7=_0x43f55e[_0x30a216(0x43f)]>0x0?_0x43f55e[_0x43f55e[_0x30a216(0x43f)]-0x1]['score']:0x0,_0x6f86a=_0x43f55e[_0x30a216(0x43f)]>0x0?_0x43f55e[_0x43f55e[_0x30a216(0x43f)]-0x1][_0x30a216(0x153)]:0x0,_0x594bae=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x38fcfd['id']+_0x30a216(0x6fa),_0xf3e19a);await updateDoc(_0x594bae,{'attempts':_0x43f55e,'firstScore':_0x4ccb4e,'bestScore':_0x288299,'latestScore':_0x3725d7,'points':_0x6f86a});}function cleanupQuizOptions(_0x35d040){const _0x55df4f=_0x50f1a4,_0x200f68=(_0x373c0b,_0x1c08a5)=>_0x1c08a5===0x0?_0x373c0b:_0x200f68(_0x1c08a5,_0x373c0b%_0x1c08a5),_0x3628c9=_0xff193e=>{const _0x503f19=_0x2cea;if(typeof _0xff193e!=='string')return null;_0xff193e=_0xff193e[_0x503f19(0x6e3)]();const _0x53a7ac=_0xff193e[_0x503f19(0x442)](/[ /]/)['filter'](_0x13ab2e=>_0x13ab2e!=='');if(_0x53a7ac[_0x503f19(0x43f)]===0x3)return parseInt(_0x53a7ac[0x0])+parseInt(_0x53a7ac[0x1])/parseInt(_0x53a7ac[0x2]);else{if(_0x53a7ac[_0x503f19(0x43f)]===0x2)return parseInt(_0x53a7ac[0x0])/parseInt(_0x53a7ac[0x1]);else{if(_0x53a7ac[_0x503f19(0x43f)]===0x1&&!isNaN(_0x53a7ac[0x0]))return parseFloat(_0x53a7ac[0x0]);}}return null;},_0x50d349=_0x39ebbb=>{const _0xca3fb5=_0x2cea;if(typeof _0x39ebbb!==_0xca3fb5(0x8c9))return _0x39ebbb;const _0x539ab2=_0x39ebbb['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x539ab2){const _0x11381c=parseInt(_0x539ab2[0x1]);let _0x1c7563=parseInt(_0x539ab2[0x2]),_0x2dd466=parseInt(_0x539ab2[0x3]);const _0x35e32e=_0x200f68(_0x1c7563,_0x2dd466);_0x1c7563/=_0x35e32e,_0x2dd466/=_0x35e32e;if(_0x2dd466===0x1)return(_0x11381c+_0x1c7563)[_0xca3fb5(0x215)]();return _0x11381c+'\x20'+_0x1c7563+'/'+_0x2dd466;}return _0x39ebbb;};return _0x35d040&&_0x35d040[_0x55df4f(0x393)]&&_0x35d040[_0x55df4f(0x393)]['forEach'](_0x177265=>{const _0x523f71=_0x55df4f;if(_0x177265[_0x523f71(0x84e)]===_0x523f71(0x657)&&_0x177265[_0x523f71(0x4a1)]){const _0x153309=new Map(),_0x5cb960=_0x177265['options'][_0x177265[_0x523f71(0x7b0)]];_0x177265[_0x523f71(0x4a1)][_0x523f71(0x887)](_0x65f2c1=>{const _0x243338=_0x523f71,_0x3fc73d=_0x50d349(_0x65f2c1),_0x31bf75=_0x3628c9(_0x3fc73d);_0x31bf75!==null&&!_0x153309[_0x243338(0x2bd)](_0x31bf75)&&_0x153309[_0x243338(0x499)](_0x31bf75,_0x3fc73d);}),_0x177265[_0x523f71(0x4a1)]=Array[_0x523f71(0x41e)](_0x153309[_0x523f71(0x83f)]());const _0x58616b=_0x177265[_0x523f71(0x4a1)][_0x523f71(0x53f)](_0x25303b=>_0x25303b===_0x50d349(_0x5cb960));_0x177265[_0x523f71(0x7b0)]=_0x58616b!==-0x1?_0x58616b:0x0;}}),_0x35d040;}async function saveQuiz(){const _0x2a94ef=_0x50f1a4;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x2a94ef(0x393)]||!userId){showMessage(_0x2a94ef(0x197));return;}const _0x144831=document[_0x2a94ef(0x1f4)]('save-quiz-btn');_0x144831['disabled']=!![],_0x144831[_0x2a94ef(0x535)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x2db7c7=document[_0x2a94ef(0x1f4)](_0x2a94ef(0x73d))[_0x2a94ef(0x121)];let _0x2eba72=document[_0x2a94ef(0x1f4)](_0x2a94ef(0x75f))[_0x2a94ef(0x3ea)][_0x2a94ef(0x6e3)]();_0x2db7c7&&!_0x2eba72['startsWith'](_0x2a94ef(0x5e8))&&(_0x2eba72=_0x2a94ef(0x4c0)+_0x2eba72);try{const _0x49d641={'resultsDisplay':document[_0x2a94ef(0x1f4)]('results-display-select')['value'],'shuffle':document[_0x2a94ef(0x1f4)](_0x2a94ef(0x7a5))['value'],'timerMode':document[_0x2a94ef(0x1f4)](_0x2a94ef(0x4b1))[_0x2a94ef(0x5cf)],'timerDuration':parseInt(document[_0x2a94ef(0x1f4)](_0x2a94ef(0x71a))[_0x2a94ef(0x5cf)])||0xa,'passingScore':parseInt(document[_0x2a94ef(0x1f4)](_0x2a94ef(0x2ef))[_0x2a94ef(0x5cf)])||0x0,'isAdaptive':document[_0x2a94ef(0x1f4)](_0x2a94ef(0x74d))[_0x2a94ef(0x121)],'loopUntilPass':document[_0x2a94ef(0x1f4)]('loop-until-pass-checkbox')[_0x2a94ef(0x121)]},_0x4f1546=(currentQuizData[_0x2a94ef(0x393)]||[])[_0x2a94ef(0x27d)]((_0x39c488,_0x5bb76e)=>{const _0x8f2b67=_0x2a94ef,_0xaea847=document[_0x8f2b67(0x1f4)](_0x8f2b67(0x509))[_0x8f2b67(0x5cf)],_0x576532={'id':'q_'+Date['now']()+'_'+_0x5bb76e,'questionText':_0x39c488[_0x8f2b67(0x598)]||'','explanation':_0x39c488[_0x8f2b67(0x58f)]||_0x8f2b67(0x266),'questionType':_0x39c488[_0x8f2b67(0x84e)]||_0xaea847,'imageCode':_0x39c488[_0x8f2b67(0x2f8)]||null};return(_0x576532[_0x8f2b67(0x84e)]==='multiple_choice'||_0x576532[_0x8f2b67(0x84e)]===_0x8f2b67(0x3a7)||_0x576532[_0x8f2b67(0x84e)]===_0x8f2b67(0x7b1)&&_0x39c488[_0x8f2b67(0x4a1)])&&(_0x576532[_0x8f2b67(0x4a1)]=_0x39c488[_0x8f2b67(0x4a1)]||[],_0x576532[_0x8f2b67(0x7b0)]=_0x39c488[_0x8f2b67(0x7b0)]!==undefined?_0x39c488['correctAnswerIndex']:0x0),(_0x576532[_0x8f2b67(0x84e)]===_0x8f2b67(0x65e)||_0x576532[_0x8f2b67(0x84e)]===_0x8f2b67(0x3bf)||_0x576532[_0x8f2b67(0x84e)]==='mixed'&&_0x39c488['idealAnswer'])&&(_0x576532[_0x8f2b67(0x66f)]=_0x39c488[_0x8f2b67(0x66f)]||''),_0x576532[_0x8f2b67(0x84e)]===_0x8f2b67(0x340)&&(_0x576532['correctAnswer']=_0x39c488['correctAnswer']===!![]),_0x576532[_0x8f2b67(0x84e)]===_0x8f2b67(0xcf)&&(_0x576532[_0x8f2b67(0x63e)]=_0x39c488['stem']||'',_0x576532[_0x8f2b67(0x6af)]=_0x39c488[_0x8f2b67(0x6af)]||'',_0x576532[_0x8f2b67(0x603)]=_0x39c488['allResponses']||[]),_0x576532;}),_0x426508={'topic':_0x2eba72,'quizType':currentQuizData['quizType']||_0x2a94ef(0x657),'questions':_0x4f1546,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2a94ef(0x251)](),'status':'active','settings':_0x49d641,'quizMode':_0x2db7c7?'pre-test':'standard','pairedQuizId':null,'lessonPlan':null};let _0x40f7e2;while(!![]){_0x40f7e2=Math[_0x2a94ef(0x136)](0x3e8+Math[_0x2a94ef(0x36e)]()*0x2328)[_0x2a94ef(0x215)]();const _0x421e54=await getDoc(doc(db,_0x2a94ef(0x385)+appId+_0x2a94ef(0x4bf),_0x40f7e2));if(!_0x421e54[_0x2a94ef(0x5b8)]())break;}await setDoc(doc(db,_0x2a94ef(0x385)+appId+_0x2a94ef(0x4bf),_0x40f7e2),_0x426508),currentQuizData[_0x2a94ef(0x4b5)]=_0x49d641,currentQuizData['id']=_0x40f7e2;const _0x265ede=document[_0x2a94ef(0x1f4)]('generated-quiz-actions');_0x265ede[_0x2a94ef(0x535)]=_0x2a94ef(0x2ad)+_0x40f7e2+_0x2a94ef(0x6f3),document[_0x2a94ef(0x1f4)](_0x2a94ef(0x3aa))[_0x2a94ef(0x8c0)](_0x2a94ef(0x2d7),()=>copyTextToClipboard(_0x40f7e2,_0x2a94ef(0x4fb))),document['getElementById']('start-live-race-generated-btn')[_0x2a94ef(0x8c0)](_0x2a94ef(0x2d7),()=>handleStartLiveRace(_0x40f7e2)),document[_0x2a94ef(0x1f4)](_0x2a94ef(0x359))['addEventListener'](_0x2a94ef(0x2d7),()=>startPresentation(currentQuizData)),document[_0x2a94ef(0x1f4)](_0x2a94ef(0x3a5))[_0x2a94ef(0x8c0)]('click',startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x4d028f){console[_0x2a94ef(0x5ec)]('Error\x20saving\x20quiz:',_0x4d028f),showMessage(_0x2a94ef(0x520)),_0x144831['disabled']=![],_0x144831[_0x2a94ef(0x535)]=_0x2a94ef(0xa6);}}function promptForProjectAndSave(){const _0x23321f=_0x50f1a4,_0x51c512=document[_0x23321f(0x1f4)](_0x23321f(0x1a8)),_0x18083a=document[_0x23321f(0x1f4)](_0x23321f(0x693)),_0x22a338=_0x51c512[_0x23321f(0x76d)]('h3'),_0x1bbdee=document[_0x23321f(0x1f4)]('confirm-move-quiz-btn');_0x22a338[_0x23321f(0x810)]='เลือกโปรเจคเพื่อบันทึก',_0x1bbdee['textContent']=_0x23321f(0x20b);allProjects[_0x23321f(0x43f)]===0x0?(_0x18083a[_0x23321f(0x535)]=_0x23321f(0x6a6),_0x1bbdee['disabled']=!![]):(_0x18083a[_0x23321f(0x535)]=allProjects[_0x23321f(0x27d)](_0x53c277=>'<option\x20value=\x22'+_0x53c277['id']+'\x22>'+_0x53c277['projectName']+_0x23321f(0x212))[_0x23321f(0x211)](''),_0x1bbdee[_0x23321f(0x891)]=![]);_0x51c512['classList'][_0x23321f(0x8e)]('hidden');const _0x24e6d9=()=>{const _0x4fa0a0=_0x23321f,_0x5310bf=_0x18083a[_0x4fa0a0(0x5cf)];_0x5310bf?(currentProjectId=_0x5310bf,_0x51c512['classList']['add'](_0x4fa0a0(0x727)),saveQuiz(),_0x22a338[_0x4fa0a0(0x810)]=_0x4fa0a0(0x8a6),_0x1bbdee['textContent']=_0x4fa0a0(0x886),_0x1bbdee[_0x4fa0a0(0x1c3)](_0x4fa0a0(0x2d7),_0x24e6d9),_0x1bbdee[_0x4fa0a0(0x8c0)](_0x4fa0a0(0x2d7),confirmMoveQuiz)):showMessage(_0x4fa0a0(0x9b));};_0x1bbdee[_0x23321f(0x1c3)](_0x23321f(0x2d7),confirmMoveQuiz),_0x1bbdee[_0x23321f(0x8c0)]('click',_0x24e6d9);}function copyTextToClipboard(_0x5273b6,_0x1b64c8){const _0x14d686=_0x50f1a4,_0x3d1b42=document[_0x14d686(0x447)](_0x14d686(0x6f9));_0x3d1b42[_0x14d686(0x5cf)]=_0x5273b6,_0x3d1b42['style'][_0x14d686(0x71c)]='fixed',_0x3d1b42[_0x14d686(0x21f)][_0x14d686(0x2ed)]='0',document[_0x14d686(0x8b1)][_0x14d686(0x149)](_0x3d1b42),_0x3d1b42[_0x14d686(0x661)](),_0x3d1b42[_0x14d686(0x690)]();try{const _0x595683=document[_0x14d686(0x145)](_0x14d686(0x74));showMessage(_0x595683?_0x1b64c8:'คัดลอกไม่สำเร็จ');}catch(_0x4bc09c){showMessage(_0x14d686(0x58c)),console[_0x14d686(0x5ec)]('Copy\x20command\x20failed',_0x4bc09c);}document[_0x14d686(0x8b1)][_0x14d686(0x50f)](_0x3d1b42);}function listenForProjectQuizzes(_0x54c0c1){const _0x2081cb=_0x50f1a4,_0x74190=collection(db,_0x2081cb(0x385)+appId+_0x2081cb(0x4bf)),_0x510adf=query(_0x74190,where(_0x2081cb(0x713),'==',_0x54c0c1));unsubscribeQuizzesListener=onSnapshot(_0x510adf,async _0x770931=>{const _0x2c47e4=_0x2081cb;allQuizzes=_0x770931[_0x2c47e4(0x3b3)][_0x2c47e4(0x27d)](_0x6431b0=>({'id':_0x6431b0['id'],..._0x6431b0[_0x2c47e4(0x3db)]()})),renderQuizzes();},_0x42212c=>{const _0x199dec=_0x2081cb;console['error']('Error\x20fetching\x20project\x20quizzes:',_0x42212c),document[_0x199dec(0x1f4)]('project-quizzes-list')[_0x199dec(0x535)]=_0x199dec(0x2f1);});}async function renderQuizzes(){const _0x5905c8=_0x50f1a4,_0x21636e=document[_0x5905c8(0x1f4)](_0x5905c8(0x444)),_0x1bfa31=document[_0x5905c8(0x1f4)]('quiz-search-input')[_0x5905c8(0x5cf)][_0x5905c8(0x476)]();let _0x1c67bd;currentProjectId===_0x5905c8(0x2df)?_0x1c67bd=starredQuizzes:_0x1c67bd=allQuizzes;let _0x216124=_0x1c67bd[_0x5905c8(0x4d9)](_0x408b8a=>_0x408b8a[_0x5905c8(0x2c9)][_0x5905c8(0x476)]()[_0x5905c8(0x4c3)](_0x1bfa31));_0x216124[_0x5905c8(0x5ef)]((_0x2dc65a,_0x364fa5)=>new Date(_0x364fa5[_0x5905c8(0x3bb)])-new Date(_0x2dc65a['createdAt']));if(_0x216124[_0x5905c8(0x43f)]===0x0){_0x21636e[_0x5905c8(0x535)]=_0x5905c8(0x726);return;}const _0x4e61f1={},_0x14874c=_0x216124[_0x5905c8(0x27d)](async _0x415546=>{const _0x414457=_0x5905c8,_0x5abc17=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x415546['id']+'/submissions'),_0x352aa6=await getDocs(_0x5abc17);_0x4e61f1[_0x415546['id']]=_0x352aa6[_0x414457(0x477)];});await Promise[_0x5905c8(0x75b)](_0x14874c);let _0xfe97ba='';_0x216124[_0x5905c8(0x887)](_0x454b28=>{const _0x2667be=_0x5905c8,_0x4b2c33=_0x4e61f1[_0x454b28['id']]||0x0,_0x53e3cc=_0x454b28[_0x2667be(0x1a0)]||_0x2667be(0x732),_0x27f477=_0x454b28['settings']?.['timerMode']||'none';let _0x54f86d='',_0x367c2e='';const _0x127539=new Date();let _0x4d2ac4=_0x53e3cc;if(_0x53e3cc===_0x2667be(0x3d6)){const _0x572893=_0x454b28[_0x2667be(0x3e6)]?new Date(_0x454b28['startTime']):null,_0x113ec6=_0x454b28['endTime']?new Date(_0x454b28['endTime']):null;if(_0x113ec6&&_0x127539>_0x113ec6)_0x4d2ac4=_0x2667be(0x7b8);else _0x572893&&_0x127539<_0x572893?_0x4d2ac4='scheduled_pending':_0x4d2ac4='active';}switch(_0x4d2ac4){case _0x2667be(0x7b8):_0x54f86d=_0x2667be(0x791),_0x367c2e=_0x2667be(0x326);break;case _0x2667be(0x174):_0x54f86d=_0x2667be(0x776),_0x367c2e=_0x2667be(0xe0);break;case _0x2667be(0x732):_0x54f86d=_0x27f477!==_0x2667be(0xbe)?_0x2667be(0x3e8):_0x2667be(0x221),_0x367c2e=_0x2667be(0x26b);break;default:_0x54f86d='ตั้งเวลา\x20(เปิด)',_0x367c2e=_0x2667be(0x26b);break;}let _0x38d1e1='';const _0x1d042f={'day':_0x2667be(0x7b6),'month':_0x2667be(0x7b6),'year':_0x2667be(0x77d),'hour':_0x2667be(0x7b6),'minute':_0x2667be(0x7b6),'hour12':![]};if(_0x53e3cc==='scheduled'){if(_0x454b28['startTime'])_0x38d1e1+=_0x2667be(0x1a1)+new Date(_0x454b28[_0x2667be(0x3e6)])[_0x2667be(0x1df)]('th-TH',_0x1d042f)+_0x2667be(0x24d);if(_0x454b28[_0x2667be(0x2b0)])_0x38d1e1+=_0x2667be(0x163)+new Date(_0x454b28[_0x2667be(0x2b0)])[_0x2667be(0x1df)]('th-TH',_0x1d042f)+'</p>';}let _0x217328='';if(_0x454b28[_0x2667be(0x382)]){const _0x224292=allQuizzes[_0x2667be(0x700)](_0x5df8da=>_0x5df8da['id']===_0x454b28['pairedQuizId']);if(_0x224292){let _0x5da701,_0x5e0892;new Date(_0x454b28[_0x2667be(0x3bb)])<new Date(_0x224292['createdAt'])?(_0x5da701=_0x454b28['id'],_0x5e0892=_0x224292['id']):(_0x5da701=_0x224292['id'],_0x5e0892=_0x454b28['id']),_0x217328+=_0x2667be(0x32e)+_0x5e0892+'\x22\x20data-pre-test-id=\x22'+_0x5da701+_0x2667be(0x341);}}else _0x454b28[_0x2667be(0x101)]===_0x2667be(0x525)&&(_0x217328+=_0x2667be(0x376)+_0x454b28['id']+_0x2667be(0x36a));if(_0x454b28[_0x2667be(0x101)]==='pre-test'&&_0x4b2c33>0x0)_0x217328+=_0x2667be(0x376)+_0x454b28['id']+_0x2667be(0x412);else!_0x454b28[_0x2667be(0x382)]&&_0x454b28[_0x2667be(0x101)]!==_0x2667be(0x525)&&_0x4b2c33>0x0&&(_0x217328+=_0x2667be(0x376)+_0x454b28['id']+_0x2667be(0x18d));let _0x3fd918='';_0x454b28[_0x2667be(0x382)]?_0x3fd918=_0x2667be(0x4c5)+_0x454b28['id']+_0x2667be(0x4bd):_0x3fd918='<button\x20data-quiz-id=\x22'+_0x454b28['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0xfe97ba+=_0x2667be(0x1a2)+_0x454b28['id']+_0x2667be(0x384)+_0x454b28[_0x2667be(0x2c9)]+_0x2667be(0x97)+_0x454b28[_0x2667be(0x393)][_0x2667be(0x43f)]+_0x2667be(0x8c4)+new Date(_0x454b28[_0x2667be(0x3bb)])[_0x2667be(0x1df)](_0x2667be(0x491))+_0x2667be(0x59c)+_0x4b2c33+_0x2667be(0x4d4)+_0x38d1e1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x367c2e+'\x22>'+_0x54f86d+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x454b28['id']+_0x2667be(0x2c4)+_0x454b28['id']+_0x2667be(0x72f)+(_0x454b28['isStarred']?_0x2667be(0x273):_0x2667be(0x3f5))+_0x2667be(0x87f)+_0x217328+_0x2667be(0x578)+_0x454b28['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x454b28['id']+_0x2667be(0x3ab)+_0x454b28['id']+_0x2667be(0x7fa)+_0x454b28['id']+_0x2667be(0x248)+_0x454b28['id']+_0x2667be(0x1d0)+_0x454b28['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x454b28['id']+_0x2667be(0x1be)+_0x454b28[_0x2667be(0x2c9)]+_0x2667be(0x31e)+_0x454b28['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x454b28['id']+_0x2667be(0x681)+_0x3fd918+_0x2667be(0x4af)+_0x454b28['id']+_0x2667be(0xb8)+_0x454b28['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x454b28['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x454b28['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x454b28['id']+_0x2667be(0x1be)+_0x454b28['topic']+_0x2667be(0x446)+_0x454b28['id']+_0x2667be(0x2cb);}),_0x21636e['innerHTML']=_0xfe97ba,document[_0x5905c8(0x15d)](_0x5905c8(0x849))[_0x5905c8(0x887)](_0x35193c=>{const _0x44f830=_0x5905c8;_0x35193c[_0x44f830(0x8c0)](_0x44f830(0x2d7),()=>{const _0x218efb=_0x44f830,_0x355fbd=_0x35193c[_0x218efb(0x873)][_0x218efb(0x1b5)];showQuizDetailView(_0x355fbd);});});}async function handleUnpairQuiz(_0x3ba168){const _0x3b7f7a=_0x50f1a4,_0x5a0c2f=allQuizzes[_0x3b7f7a(0x700)](_0x2b8a5f=>_0x2b8a5f['id']===_0x3ba168);if(!_0x5a0c2f||!_0x5a0c2f['pairedQuizId']){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x3b7f7a(0x28d),async()=>{const _0x5cbd71=_0x3b7f7a;try{const _0xe83c00=doc(db,'artifacts/'+appId+_0x5cbd71(0x4bf),_0x3ba168),_0x146cb4=doc(db,_0x5cbd71(0x385)+appId+'/public/data/quizzes',_0x5a0c2f[_0x5cbd71(0x382)]),_0x54754e=writeBatch(db);_0x54754e[_0x5cbd71(0x6e5)](_0xe83c00,{'pairedQuizId':null}),_0x54754e['update'](_0x146cb4,{'pairedQuizId':null}),await _0x54754e[_0x5cbd71(0x245)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x341d0d){console[_0x5cbd71(0x5ec)](_0x5cbd71(0x856),_0x341d0d),showMessage(_0x5cbd71(0x601));}});}function formatAndPrintLessonPlan(_0x59408b,_0x1fe594){const _0x1280ee=_0x50f1a4,_0x2da702=window['open']('','_blank'),_0x42cccd=_0x1280ee(0x1ab)+_0x1fe594[_0x1280ee(0x2c9)]+_0x1280ee(0x5b2)+_0x1fe594[_0x1280ee(0x2c9)]+_0x1280ee(0x4ce)+_0x59408b['learningGaps'][_0x1280ee(0x27d)](_0x39a07f=>_0x1280ee(0x152)+_0x39a07f+'</li>')[_0x1280ee(0x211)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x59408b[_0x1280ee(0x800)]+_0x1280ee(0x748)+_0x59408b[_0x1280ee(0x33b)][_0x1280ee(0x27d)](_0x181d70=>_0x1280ee(0x5c4)+_0x181d70[_0x1280ee(0x826)]+_0x1280ee(0x7fc)+_0x181d70[_0x1280ee(0x594)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x1280ee(0x282);_0x2da702[_0x1280ee(0x74c)]['write'](_0x42cccd),_0x2da702[_0x1280ee(0x74c)]['close'](),_0x2da702[_0x1280ee(0x26f)]=function(){setTimeout(()=>{const _0xa80d16=_0x2cea;_0x2da702[_0xa80d16(0x54b)]();},0x3e8);};}async function handleAiFixFormula(_0x176bfe){const _0x3300f6=_0x50f1a4,_0x2e43a6=document[_0x3300f6(0x76d)](_0x3300f6(0x7ff)+_0x176bfe+'\x22]');if(!_0x2e43a6)return;const _0x15c3a4=_0x2e43a6[_0x3300f6(0x873)]['qType'],_0x47b9c3=_0x2e43a6['querySelector'](_0x3300f6(0x684));let _0xf30600={'question':_0x2e43a6[_0x3300f6(0x76d)](_0x3300f6(0x6f9))['value']};switch(_0x15c3a4){case'multiple_choice':_0xf30600['options']=Array[_0x3300f6(0x41e)](_0x2e43a6[_0x3300f6(0x15d)]('input[type=\x22text\x22]'))[_0x3300f6(0x27d)](_0x1fce10=>_0x1fce10[_0x3300f6(0x5cf)]);break;case _0x3300f6(0x65e):_0xf30600['idealAnswer']=_0x2e43a6[_0x3300f6(0x76d)](_0x3300f6(0x1f8))[_0x3300f6(0x5cf)];break;case'matching_item':_0xf30600[_0x3300f6(0x6af)]=_0x2e43a6[_0x3300f6(0x76d)]('.correct-response-input')[_0x3300f6(0x5cf)];break;}_0x47b9c3[_0x3300f6(0x535)]=_0x3300f6(0x240),_0x47b9c3[_0x3300f6(0x891)]=!![];try{const _0xefbd20=_0x3300f6(0x43d)+JSON[_0x3300f6(0xe2)](_0xf30600)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x103581={'type':_0x3300f6(0x6fc),'properties':{'fixedData':{'type':_0x3300f6(0x6fc),'properties':{'question':{'type':'STRING'},'options':{'type':_0x3300f6(0x467),'items':{'type':_0x3300f6(0xb6)}},'idealAnswer':{'type':_0x3300f6(0xb6)},'correctResponse':{'type':'STRING'}},'required':[_0x3300f6(0x826)]}},'required':['fixedData']},_0x427f7c=await callAnalysisApi(_0xefbd20,_0x103581);if(_0x427f7c&&_0x427f7c[_0x3300f6(0x59d)]){const _0x50b70a=_0x427f7c[_0x3300f6(0x59d)];_0x2e43a6[_0x3300f6(0x76d)](_0x3300f6(0x6f9))[_0x3300f6(0x5cf)]=_0x50b70a[_0x3300f6(0x826)]||_0xf30600[_0x3300f6(0x826)];switch(_0x15c3a4){case _0x3300f6(0x657):_0x50b70a[_0x3300f6(0x4a1)]&&_0x50b70a[_0x3300f6(0x4a1)]['length']>0x0&&_0x2e43a6[_0x3300f6(0x15d)](_0x3300f6(0x789))[_0x3300f6(0x887)]((_0x2d5a7d,_0x15d064)=>{const _0x3e7f0f=_0x3300f6;_0x2d5a7d[_0x3e7f0f(0x5cf)]=_0x50b70a[_0x3e7f0f(0x4a1)][_0x15d064]||_0xf30600[_0x3e7f0f(0x4a1)][_0x15d064];});break;case _0x3300f6(0x65e):_0x2e43a6[_0x3300f6(0x76d)](_0x3300f6(0x1f8))['value']=_0x50b70a[_0x3300f6(0x66f)]||_0xf30600[_0x3300f6(0x66f)];break;case _0x3300f6(0xcf):_0x2e43a6[_0x3300f6(0x76d)](_0x3300f6(0x37a))['value']=_0x50b70a[_0x3300f6(0x6af)]||_0xf30600[_0x3300f6(0x6af)];break;}if(_0xf30600[_0x3300f6(0x826)]!==_0x50b70a[_0x3300f6(0x826)])try{const _0x5cb964=collection(db,_0x3300f6(0x385)+appId+'/public/data/learnedFixes');await addDoc(_0x5cb964,{'broken':_0xf30600['question'],'fixed':_0x50b70a[_0x3300f6(0x826)],'createdAt':serverTimestamp()});}catch(_0x52b5b6){console['error'](_0x3300f6(0x686),_0x52b5b6);}showMessage(_0x3300f6(0x52a));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x3dc94a){console[_0x3300f6(0x5ec)](_0x3300f6(0x678),_0x3dc94a),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x47b9c3['innerHTML']=_0x3300f6(0x68e),_0x47b9c3['disabled']=![];}}async function handleGenerateLessonPlan(_0x31b112){const _0x57203a=_0x50f1a4;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x43ac3a=doc(db,_0x57203a(0x385)+appId+_0x57203a(0x4bf),_0x31b112),_0x66a95=await getDoc(_0x43ac3a);if(!_0x66a95['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x39af95={'id':_0x31b112,..._0x66a95[_0x57203a(0x3db)]()},_0x1d2172=collection(db,_0x57203a(0x385)+appId+_0x57203a(0x4bf),_0x31b112,_0x57203a(0x42d)),_0x4d3c6d=await getDocs(_0x1d2172),_0xea8de0=_0x4d3c6d['docs'][_0x57203a(0x27d)](_0xe347c8=>_0xe347c8[_0x57203a(0x3db)]());if(_0xea8de0[_0x57203a(0x43f)]===0x0)throw new Error(_0x57203a(0x279));const _0x570521=calculateItemAnalysis(_0x39af95,_0xea8de0)[_0x57203a(0x724)],_0x23eab4=calculateDistractorAnalysis(_0x39af95,_0xea8de0),_0x5082d2=_0xdceeb8=>{const _0x3338=_0x57203a;if(!_0xdceeb8)return'';return _0xdceeb8['replace'](/\\/g,'\x5c\x5c')[_0x3338(0x3c3)](/"/g,'\x5c\x22')[_0x3338(0x3c3)](/\n/g,'\x5cn');};let _0x5a9d63=_0x57203a(0xe1);_0x39af95[_0x57203a(0x393)]['forEach']((_0x35a072,_0x2e6025)=>{const _0x17a452=_0x57203a,_0x377582=_0x570521[_0x2e6025]?.['p']['toFixed'](0x2)||_0x17a452(0x44a),_0x1c0410=_0x570521[_0x2e6025]?.['r'][_0x17a452(0x896)](0x2)||'N/A',_0x2b539c=_0x5082d2(_0x35a072['questionText']||_0x35a072['stem']);_0x5a9d63+=_0x17a452(0x722)+(_0x2e6025+0x1)+_0x17a452(0x31d)+_0x377582+_0x17a452(0x170)+_0x1c0410+_0x17a452(0x259)+_0x2b539c+'\x5cn';if(_0x35a072[_0x17a452(0x84e)]===_0x17a452(0x657)&&_0x23eab4[_0x2e6025]){const _0x12ad28=_0x23eab4[_0x2e6025],_0x486e80=Object[_0x17a452(0xfb)](_0x12ad28)['filter'](_0x250a08=>parseInt(_0x250a08)!==_0x35a072[_0x17a452(0x7b0)])[_0x17a452(0x5ef)]((_0x91d38f,_0x320b12)=>_0x12ad28[_0x320b12]['total']-_0x12ad28[_0x91d38f]['total'])[0x0];if(_0x486e80&&_0x12ad28[_0x486e80][_0x17a452(0x142)]>0x0){const _0xcfb066=_0x5082d2(_0x12ad28[_0x486e80][_0x17a452(0x551)]);_0x5a9d63+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0xcfb066+_0x17a452(0x3d8);}}});const _0xfa0dc5=_0x57203a(0x223)+_0x39af95[_0x57203a(0x2c9)]+_0x57203a(0x55c)+_0x5a9d63+_0x57203a(0x492),_0x91be48={'type':_0x57203a(0x6fc),'properties':{'learningGaps':{'type':_0x57203a(0x467),'items':{'type':'STRING'}},'teachingContent':{'type':_0x57203a(0xb6)},'practiceProblems':{'type':_0x57203a(0x467),'items':{'type':_0x57203a(0x6fc),'properties':{'question':{'type':_0x57203a(0xb6)},'solution':{'type':'STRING'}}}}},'required':[_0x57203a(0x71e),_0x57203a(0x800),'practiceProblems']},_0x22f4b4=await callAnalysisApi(_0xfa0dc5,_0x91be48);await updateDoc(_0x43ac3a,{'lessonPlan':_0x22f4b4});const _0x26b19e=_0x57203a(0x7b7)+_0x39af95[_0x57203a(0x2c9)]+_0x57203a(0x4f9)+_0x22f4b4[_0x57203a(0x71e)][_0x57203a(0x27d)](_0x18f4b3=>_0x57203a(0x152)+_0x18f4b3+_0x57203a(0x610))['join']('')+_0x57203a(0x438)+_0x22f4b4['teachingContent']+_0x57203a(0x2b4)+_0x22f4b4[_0x57203a(0x33b)][_0x57203a(0x27d)](_0x366e6b=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x366e6b[_0x57203a(0x826)]+_0x57203a(0x431)+_0x366e6b[_0x57203a(0x594)]+_0x57203a(0x15f))['join']('')+_0x57203a(0x5e4);document[_0x57203a(0x1f4)]('lesson-plan-title')[_0x57203a(0x810)]=_0x57203a(0x606)+_0x39af95['topic'],document[_0x57203a(0x1f4)](_0x57203a(0x573))[_0x57203a(0x535)]=_0x26b19e,document['getElementById']('lesson-plan-modal')[_0x57203a(0x87b)][_0x57203a(0x8e)](_0x57203a(0x727));if(window[_0x57203a(0x7c0)])MathJax[_0x57203a(0x703)]();messageModal['classList'][_0x57203a(0x6aa)](_0x57203a(0x727));}catch(_0xd7f20a){console[_0x57203a(0x5ec)](_0x57203a(0x608),_0xd7f20a),showMessage(_0x57203a(0x8cb)+_0xd7f20a[_0x57203a(0x561)]);}}async function handleDuplicateQuiz(_0x378ab8){const _0x42a102=_0x50f1a4;try{const _0x47b1af=doc(db,'artifacts/'+appId+_0x42a102(0x4bf),_0x378ab8),_0x49fe3f=await getDoc(_0x47b1af);if(_0x49fe3f[_0x42a102(0x5b8)]()){const _0x23c858=_0x49fe3f[_0x42a102(0x3db)]();let _0x542df8='',_0x24b659=_0x42a102(0x660),_0x496264=null;if(_0x23c858[_0x42a102(0x101)]===_0x42a102(0x525)){let _0x3db8e9=_0x23c858[_0x42a102(0x2c9)][_0x42a102(0x3c3)]('(ก่อนเรียน)','')[_0x42a102(0x6e3)]();_0x542df8='(หลังเรียน)\x20'+_0x3db8e9,_0x24b659=_0x42a102(0x5fa),_0x496264=_0x378ab8;}else _0x542df8='(คัดลอก)\x20'+_0x23c858[_0x42a102(0x2c9)];const _0x594a76={..._0x23c858,'topic':_0x542df8,'createdAt':new Date()[_0x42a102(0x251)](),'quizMode':_0x24b659,'pairedQuizId':_0x496264};let _0x28bea2;while(!![]){_0x28bea2=Math[_0x42a102(0x136)](0x3e8+Math[_0x42a102(0x36e)]()*0x2328)[_0x42a102(0x215)]();const _0x98589a=await getDoc(doc(db,_0x42a102(0x385)+appId+_0x42a102(0x4bf),_0x28bea2));if(!_0x98589a[_0x42a102(0x5b8)]())break;}const _0x1d89c8=doc(db,_0x42a102(0x385)+appId+_0x42a102(0x4bf),_0x28bea2);await setDoc(_0x1d89c8,_0x594a76),_0x594a76[_0x42a102(0x101)]===_0x42a102(0x5fa)&&await updateDoc(_0x47b1af,{'pairedQuizId':_0x28bea2}),showMessage(_0x42a102(0xe4));}else throw new Error(_0x42a102(0x42e));}catch(_0x4bfd0d){console['error'](_0x42a102(0x333),_0x4bfd0d),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x1026a3,_0x570659=!![]){const _0x5749f4=_0x50f1a4;try{const _0x2f57d6=writeBatch(db),_0x129184=collection(db,_0x5749f4(0x385)+appId+_0x5749f4(0x62f)+_0x1026a3+_0x5749f4(0x6fa)),_0x384fb5=await getDocs(_0x129184);_0x384fb5['forEach'](_0x39441a=>{_0x2f57d6['delete'](doc(_0x129184,_0x39441a['id']));});const _0x2992e9=doc(db,_0x5749f4(0x385)+appId+_0x5749f4(0x4bf),_0x1026a3);_0x2f57d6[_0x5749f4(0x1eb)](_0x2992e9),await _0x2f57d6[_0x5749f4(0x245)](),_0x570659&&showMessage(_0x5749f4(0x288));}catch(_0xd9abb2){console[_0x5749f4(0x5ec)]('Error\x20deleting\x20quiz:',_0xd9abb2),_0x570659&&showMessage(_0x5749f4(0x510));}}async function showQuizDetailView(_0x2ab0db){const _0x3709c1=_0x50f1a4;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x3709c1(0x59a));try{const _0x287f0f=doc(db,_0x3709c1(0x385)+appId+_0x3709c1(0x4bf),_0x2ab0db),_0x39e7ff=await getDoc(_0x287f0f);if(!_0x39e7ff['exists']()){showMessage(_0x3709c1(0xdc));return;}const _0x303fc3={'id':_0x39e7ff['id'],..._0x39e7ff[_0x3709c1(0x3db)]()};currentQuizData=_0x303fc3;const _0x2278d9=doc(db,_0x3709c1(0x385)+appId+_0x3709c1(0x5ff),_0x303fc3[_0x3709c1(0x713)]),_0x37ee39=await getDoc(_0x2278d9);_0x37ee39['exists']()?(currentProjectData=_0x37ee39[_0x3709c1(0x3db)](),currentProjectId=_0x303fc3['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x303fc3[_0x3709c1(0x713)]);document[_0x3709c1(0x1f4)](_0x3709c1(0x65b))[_0x3709c1(0x810)]=_0x303fc3['topic'],document[_0x3709c1(0x1f4)](_0x3709c1(0xea))[_0x3709c1(0x810)]=_0x2ab0db;const _0x4d1a7e=collection(db,_0x3709c1(0x385)+appId+_0x3709c1(0x4bf),_0x2ab0db,_0x3709c1(0x42d));unsubscribeSubmissionsListener=onSnapshot(_0x4d1a7e,_0xe014f8=>{const _0x7306f0=_0x3709c1,_0x76ec0=_0xe014f8['docs'][_0x7306f0(0x27d)](_0x3c5327=>({'id':_0x3c5327['id'],..._0x3c5327[_0x7306f0(0x3db)]()}));currentSubmissions=_0x76ec0;const _0x564241=_0x76ec0['filter'](_0x386455=>_0x386455[_0x7306f0(0x217)]&&_0x386455[_0x7306f0(0x217)][_0x7306f0(0x43f)]>0x0);renderBehaviorLog(_0x76ec0),renderAnswerGrid(currentProjectData[_0x7306f0(0x327)],_0x564241,_0x303fc3),renderAnalytics(_0x303fc3,_0x564241),renderQuizResultsTable(currentProjectData[_0x7306f0(0x327)],_0x76ec0,_0x303fc3),renderQuizLeaderboard(_0x564241,_0x303fc3,'quiz-leaderboard-table-body');}),showView(_0x3709c1(0x1e5));}catch(_0x27d10e){console[_0x3709c1(0x5ec)](_0x3709c1(0x29e),_0x27d10e),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x24c968,_0x35d909,_0x5e2fb5){const _0x62e22d=_0x50f1a4,_0x22122b=document['getElementById'](_0x62e22d(0x792));if(!_0x22122b)return;if(!_0x24c968||_0x24c968[_0x62e22d(0x43f)]===0x0){_0x22122b['innerHTML']=_0x62e22d(0x63b);return;}const _0x5cce27=_0x5e2fb5[_0x62e22d(0x393)],_0x65293a=_0x35d909[_0x62e22d(0x8b)]((_0x6d700b,_0x2d8db8)=>{return _0x6d700b[_0x2d8db8['studentName']]=_0x2d8db8,_0x6d700b;},{}),_0x1a4b11=_0x2ae197=>String[_0x62e22d(0x219)](0x41+_0x2ae197),_0x48b42a=_0x5b9bdc=>{const _0x1c6be4=_0x62e22d,_0x206389=_0x5b9bdc[_0x1c6be4(0x84e)]||_0x5e2fb5[_0x1c6be4(0x272)];switch(_0x206389){case _0x1c6be4(0x657):return _0x5b9bdc['options']&&_0x5b9bdc[_0x1c6be4(0x4a1)][_0x1c6be4(0x43f)]>_0x5b9bdc['correctAnswerIndex']?_0x1a4b11(_0x5b9bdc[_0x1c6be4(0x7b0)]):'-';case _0x1c6be4(0x340):return _0x5b9bdc[_0x1c6be4(0x56b)]?_0x1c6be4(0x465):_0x1c6be4(0x6da);case _0x1c6be4(0xcf):return _0x5b9bdc[_0x1c6be4(0x6af)]||'-';case _0x1c6be4(0x65e):return _0x1c6be4(0x8a);default:return'-';}},_0x560df5=(_0x5c2fdb,_0x18b6b2)=>{const _0x37b281=_0x62e22d;if(_0x18b6b2['answer']===null||_0x18b6b2['answer']===undefined)return'-';const _0x15def0=_0x5c2fdb['questionType']||_0x5e2fb5[_0x37b281(0x272)];switch(_0x15def0){case _0x37b281(0x657):const _0x2cda9e=_0x5c2fdb[_0x37b281(0x4a1)][_0x37b281(0x53f)](_0x3ad53d=>_0x3ad53d===_0x18b6b2['answerText']);return _0x2cda9e!==-0x1?_0x1a4b11(_0x2cda9e):_0x18b6b2['answerText']||'-';case _0x37b281(0x340):return _0x18b6b2[_0x37b281(0x61d)]===_0x37b281(0x7c)||_0x18b6b2[_0x37b281(0x61d)]===!![]?_0x37b281(0x465):'ไม่ใช่';default:return _0x18b6b2['answer'];}};let _0x563541=_0x62e22d(0x32d)+_0x5cce27[_0x62e22d(0x27d)]((_0x286a81,_0xf3e542)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0xf3e542+0x1)+_0x62e22d(0x25d))['join']('')+_0x62e22d(0x92)+_0x5cce27[_0x62e22d(0x27d)](_0x59c91d=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x48b42a(_0x59c91d)+'</td>')[_0x62e22d(0x211)]('')+_0x62e22d(0x21e);_0x24c968['forEach'](_0x1a469f=>{const _0x646c31=_0x62e22d;_0x563541+=_0x646c31(0x290),_0x563541+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x1a469f+_0x646c31(0x7b4);const _0x41a693=_0x65293a[_0x1a469f];if(_0x41a693){const _0x184bf5=_0x41a693[_0x646c31(0x217)][_0x41a693[_0x646c31(0x217)][_0x646c31(0x43f)]-0x1];_0x5cce27[_0x646c31(0x887)]((_0x41e511,_0x23da56)=>{const _0x57e953=_0x646c31,_0x5a09ef=_0x184bf5[_0x57e953(0x6d3)]['find'](_0xe4c05b=>_0xe4c05b[_0x57e953(0x5fc)]===(_0x41e511[_0x57e953(0x63e)]||_0x41e511[_0x57e953(0x598)]));if(_0x5a09ef){let _0x271d24=![];const _0xdae89a=_0x41e511['questionType']||_0x5e2fb5[_0x57e953(0x272)];if(_0x5a09ef[_0x57e953(0x61d)]!==null&&_0x5a09ef[_0x57e953(0x61d)]!==undefined)switch(_0xdae89a){case _0x57e953(0x657):const _0x1a1bb9=_0x41e511['options'][_0x41e511['correctAnswerIndex']];_0x271d24=_0x5a09ef['answerText']===_0x1a1bb9;break;case'true_false':const _0x36b1f0=_0x5a09ef[_0x57e953(0x61d)]===!![]||_0x5a09ef[_0x57e953(0x61d)]===_0x57e953(0x7c);_0x271d24=_0x36b1f0===_0x41e511['correctAnswer'];break;case _0x57e953(0xcf):_0x271d24=_0x5a09ef['answer']===_0x41e511['correctResponse'];break;default:_0x271d24=_0x5a09ef[_0x57e953(0x797)];break;}const _0x23d621=_0x271d24?_0x57e953(0x579):_0x57e953(0x3e2);_0x563541+=_0x57e953(0x370)+_0x23d621+'\x22>'+_0x560df5(_0x41e511,_0x5a09ef)+'</td>';}else _0x563541+=_0x57e953(0x231);});}else _0x563541+=_0x5cce27[_0x646c31(0x27d)](()=>_0x646c31(0x14e))[_0x646c31(0x211)]('');_0x563541+=_0x646c31(0x173);}),_0x563541+='</tbody></table>',_0x22122b[_0x62e22d(0x535)]=_0x563541;}function renderQuizResultsTable(_0x5a22bf,_0x17fca7,_0x2559ce){const _0x223daa=_0x50f1a4,_0xa0b506=_0x17fca7[_0x223daa(0x8b)]((_0x2bf0db,_0x40f6ba)=>{const _0x1b79b7=_0x223daa;return _0x2bf0db[_0x40f6ba[_0x1b79b7(0x2b1)]]=_0x40f6ba,_0x2bf0db;},{}),_0x226061=document[_0x223daa(0x76d)](_0x223daa(0x589));_0x226061&&!_0x226061['innerHTML'][_0x223daa(0x4c3)](_0x223daa(0x82f))&&(_0x226061[_0x223daa(0x535)]+=_0x223daa(0x879));const _0x1d2c80=document['getElementById'](_0x223daa(0x278));if(!_0x5a22bf||_0x5a22bf[_0x223daa(0x43f)]===0x0){_0x1d2c80[_0x223daa(0x535)]=_0x223daa(0x53d);return;}const _0x576b55=_0x2559ce[_0x223daa(0x2d9)]===!![],_0x1d3b5c=_0x2559ce['settings']?.[_0x223daa(0x11b)]??-0x1;let _0x140a38='';_0x5a22bf[_0x223daa(0x887)](_0x4ce3a8=>{const _0x3dedde=_0x223daa,_0x93db3d=_0xa0b506[_0x4ce3a8];let _0x5d6b3e='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x576b55?_0x3dedde(0x186):_0x3dedde(0x2d3))+'\x22>'+(_0x576b55?'สอบซ่อม':'สอบปกติ')+'</span></td>';if(_0x93db3d){if(_0x93db3d['attempts']&&_0x93db3d[_0x3dedde(0x217)]['length']>0x0){let _0x165e21=_0x576b55?_0x93db3d[_0x3dedde(0x2fd)]===_0x93db3d[_0x3dedde(0x57a)]:_0x1d3b5c!==-0x1&&_0x93db3d['bestScore']>=_0x1d3b5c;const _0x3faca4=_0x165e21?'bg-green-100\x20text-green-800':_0x3dedde(0x850),_0x2ed9e9=_0x165e21?_0x3dedde(0x78d):_0x3dedde(0x701),_0x18d98d=_0x3dedde(0x2e1)+_0x3faca4+'\x22>'+_0x2ed9e9+'</span></td>',_0x24f3cb=_0x3dedde(0x104)+(_0x93db3d[_0x3dedde(0x217)]?.['length']||0x1)+_0x3dedde(0x52b);_0x140a38+=_0x3dedde(0x7f)+_0x4ce3a8+_0x3dedde(0x3fa)+_0x93db3d[_0x3dedde(0x2fd)]+_0x3dedde(0x57c)+_0x93db3d[_0x3dedde(0x57a)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18d98d+_0x3dedde(0x12d)+_0x5d6b3e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x93db3d[_0x3dedde(0xf7)]+_0x3dedde(0x57c)+_0x93db3d['totalQuestions']+_0x3dedde(0x39d)+_0x93db3d[_0x3dedde(0x1cf)]+'\x20/\x20'+_0x93db3d['totalQuestions']+_0x3dedde(0x178)+(_0x93db3d[_0x3dedde(0x153)]||0x0)+_0x3dedde(0x29d)+_0x24f3cb+_0x3dedde(0x432)+new Date(_0x93db3d['latestSubmittedAt'])[_0x3dedde(0x1df)](_0x3dedde(0x491))+_0x3dedde(0x8a4)+_0x4ce3a8+_0x3dedde(0x443);}else{const _0x188bf5=_0x3dedde(0x6f0);_0x140a38+=_0x3dedde(0x859)+_0x4ce3a8+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d6b3e+_0x3dedde(0x132)+_0x188bf5+_0x3dedde(0x432)+new Date(_0x93db3d['startedAt'])[_0x3dedde(0x1df)](_0x3dedde(0x491))+_0x3dedde(0x7a9)+_0x4ce3a8+_0x3dedde(0x443);}}else{const _0x5e0347='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x140a38+=_0x3dedde(0x58b)+_0x4ce3a8+_0x3dedde(0x502)+_0x5d6b3e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e0347+_0x3dedde(0x4b2);}}),_0x1d2c80[_0x223daa(0x535)]=_0x140a38;}async function confirmRenameQuiz(){const _0x2fd5c8=_0x50f1a4,_0x46f13c=document['getElementById']('rename-quiz-input')[_0x2fd5c8(0x5cf)][_0x2fd5c8(0x6e3)]();if(!_0x46f13c){showMessage(_0x2fd5c8(0x6e2));return;}if(!actionTargetId)return;const _0x3b5cfc=doc(db,_0x2fd5c8(0x385)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x3b5cfc,{'topic':_0x46f13c}),showMessage(_0x2fd5c8(0x775)),renameQuizModal[_0x2fd5c8(0x87b)][_0x2fd5c8(0x6aa)](_0x2fd5c8(0x727)),actionTargetId=null;}catch(_0x179da1){console['error']('Error\x20renaming\x20quiz:',_0x179da1),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x4e8d24){const _0x466810=_0x50f1a4;actionTargetId=_0x4e8d24;const _0x32bcff=document['getElementById'](_0x466810(0x693));_0x32bcff[_0x466810(0x535)]=_0x466810(0x388),moveQuizModal[_0x466810(0x87b)][_0x466810(0x8e)](_0x466810(0x727));try{const _0x3bfeb4=collection(db,'artifacts/'+appId+_0x466810(0x5ff)),_0x25c539=await getDocs(_0x3bfeb4),_0x2b0ca3=_0x25c539['docs'][_0x466810(0x27d)](_0x53cbaa=>({'id':_0x53cbaa['id'],..._0x53cbaa[_0x466810(0x3db)]()})),_0x3b6135=_0x2b0ca3[_0x466810(0x4d9)](_0x43db59=>_0x43db59['id']!==currentProjectId);if(_0x3b6135[_0x466810(0x43f)]===0x0){_0x32bcff[_0x466810(0x535)]=_0x466810(0x2b3),document[_0x466810(0x1f4)](_0x466810(0x3ca))[_0x466810(0x891)]=!![];return;}_0x32bcff[_0x466810(0x535)]=_0x3b6135['map'](_0x3296ef=>'<option\x20value=\x22'+_0x3296ef['id']+'\x22>'+_0x3296ef[_0x466810(0x42b)]+_0x466810(0x212))[_0x466810(0x211)](''),document['getElementById'](_0x466810(0x3ca))[_0x466810(0x891)]=![];}catch(_0x41ed5d){console[_0x466810(0x5ec)](_0x466810(0x56c),_0x41ed5d),showMessage(_0x466810(0x833)),moveQuizModal[_0x466810(0x87b)][_0x466810(0x6aa)]('hidden');}}async function confirmMoveQuiz(){const _0x43dd2b=_0x50f1a4,_0x1aee66=document[_0x43dd2b(0x1f4)](_0x43dd2b(0x693))[_0x43dd2b(0x5cf)];if(!_0x1aee66){showMessage(_0x43dd2b(0x3bc));return;}if(!actionTargetId)return;const _0x503f46=doc(db,_0x43dd2b(0x385)+appId+_0x43dd2b(0x4bf),actionTargetId);try{await updateDoc(_0x503f46,{'projectId':_0x1aee66}),showMessage(_0x43dd2b(0x204)),moveQuizModal[_0x43dd2b(0x87b)][_0x43dd2b(0x6aa)](_0x43dd2b(0x727)),actionTargetId=null;}catch(_0x3fad84){console[_0x43dd2b(0x5ec)](_0x43dd2b(0x7ae),_0x3fad84),showMessage(_0x43dd2b(0x139));}}async function handleQuizSettings(_0x41fffb){const _0x1c883a=_0x50f1a4;actionTargetId=_0x41fffb;const _0x5e9014=doc(db,_0x1c883a(0x385)+appId+'/public/data/quizzes',_0x41fffb);try{const _0xc351fa=await getDoc(_0x5e9014);if(_0xc351fa[_0x1c883a(0x5b8)]()){const _0x5f0282=_0xc351fa['data'](),_0x406d0f=_0x5f0282[_0x1c883a(0x4b5)]||{},_0x5994fe=_0x5f0282['questions'][_0x1c883a(0x43f)];document['getElementById']('modal-shuffle-select')[_0x1c883a(0x5cf)]=_0x406d0f[_0x1c883a(0x350)]||_0x1c883a(0xbe),document[_0x1c883a(0x1f4)](_0x1c883a(0x6a3))[_0x1c883a(0x5cf)]=_0x406d0f['resultsDisplay']||_0x1c883a(0x205),document[_0x1c883a(0x1f4)](_0x1c883a(0x6d7))[_0x1c883a(0x5cf)]=_0x406d0f[_0x1c883a(0x2e2)]||'none',document[_0x1c883a(0x1f4)](_0x1c883a(0x1a5))['value']=_0x406d0f[_0x1c883a(0x74e)]||0xa,document[_0x1c883a(0x1f4)](_0x1c883a(0x596))[_0x1c883a(0x5cf)]=_0x406d0f['passingScore']||Math[_0x1c883a(0x136)](_0x5994fe/0x2),document['getElementById'](_0x1c883a(0x596))['max']=_0x5994fe,document[_0x1c883a(0x1f4)](_0x1c883a(0x7ef))[_0x1c883a(0x121)]=_0x406d0f[_0x1c883a(0x1af)]||![],document[_0x1c883a(0x1f4)](_0x1c883a(0x481))['checked']=_0x406d0f['loopUntilPass']||![],document[_0x1c883a(0x1f4)]('modal-timer-mode-select')[_0x1c883a(0x583)](new Event(_0x1c883a(0x93))),quizSettingsModal[_0x1c883a(0x87b)]['remove'](_0x1c883a(0x727));}else showMessage(_0x1c883a(0xdc));}catch(_0x9b4a4b){console['error'](_0x1c883a(0x841),_0x9b4a4b),showMessage(_0x1c883a(0x511));}}async function confirmQuizSettings(){const _0x1ab6d8=_0x50f1a4;if(!actionTargetId)return;const _0x1ca50c=doc(db,_0x1ab6d8(0x385)+appId+_0x1ab6d8(0x4bf),actionTargetId),_0x5d3132={'shuffle':document[_0x1ab6d8(0x1f4)](_0x1ab6d8(0x75a))[_0x1ab6d8(0x5cf)],'resultsDisplay':document['getElementById']('modal-results-display-select')[_0x1ab6d8(0x5cf)],'timerMode':document['getElementById'](_0x1ab6d8(0x6d7))[_0x1ab6d8(0x5cf)],'timerDuration':parseInt(document[_0x1ab6d8(0x1f4)]('modal-timer-duration-input')[_0x1ab6d8(0x5cf)])||0xa,'passingScore':parseInt(document['getElementById'](_0x1ab6d8(0x596))[_0x1ab6d8(0x5cf)])||0x0,'passingScore':parseInt(document[_0x1ab6d8(0x1f4)](_0x1ab6d8(0x596))[_0x1ab6d8(0x5cf)])||0x0,'isAdaptive':document[_0x1ab6d8(0x1f4)]('modal-adaptive-quiz-checkbox')[_0x1ab6d8(0x121)],'loopUntilPass':document[_0x1ab6d8(0x1f4)](_0x1ab6d8(0x481))[_0x1ab6d8(0x121)]};try{await updateDoc(_0x1ca50c,{'settings':_0x5d3132}),showMessage(_0x1ab6d8(0x4d7)),quizSettingsModal['classList'][_0x1ab6d8(0x6aa)](_0x1ab6d8(0x727)),actionTargetId=null;}catch(_0x2a1e35){console[_0x1ab6d8(0x5ec)](_0x1ab6d8(0x8a1),_0x2a1e35),showMessage(_0x1ab6d8(0x172));}}async function handleQuizStatus(_0x30cc03){const _0x3a6673=_0x50f1a4;actionTargetId=_0x30cc03;const _0x52804a=doc(db,'artifacts/'+appId+_0x3a6673(0x4bf),_0x30cc03);try{const _0x10fcd6=await getDoc(_0x52804a);if(_0x10fcd6[_0x3a6673(0x5b8)]()){const _0x8aec36=_0x10fcd6[_0x3a6673(0x3db)](),_0x2c459b=_0x8aec36[_0x3a6673(0x1a0)]||_0x3a6673(0x732),_0x1202bf=document[_0x3a6673(0x1f4)](_0x3a6673(0x1f5)),_0x5c130=document[_0x3a6673(0x1f4)](_0x3a6673(0x730)),_0x39740d=document['getElementById'](_0x3a6673(0x524));let _0x553596=_0x3a6673(0x274)+(_0x2c459b===_0x3a6673(0x732)?_0x3a6673(0x121):'')+_0x3a6673(0x4fc)+(_0x2c459b===_0x3a6673(0x7b8)?_0x3a6673(0x121):'')+_0x3a6673(0x218)+(_0x2c459b===_0x3a6673(0x3d6)?_0x3a6673(0x121):'')+_0x3a6673(0x161);_0x1202bf[_0x3a6673(0x535)]=_0x553596;const _0x1d7085=_0x2c459b==='scheduled';_0x5c130[_0x3a6673(0x87b)][_0x3a6673(0x361)](_0x3a6673(0x727),!_0x1d7085),_0x39740d[_0x3a6673(0x87b)][_0x3a6673(0x361)](_0x3a6673(0x727),!_0x1d7085),document[_0x3a6673(0x1f4)]('quiz-start-time')['value']=_0x8aec36[_0x3a6673(0x3e6)]?_0x8aec36[_0x3a6673(0x3e6)][_0x3a6673(0x7e3)](0x0,0x10):'',document['getElementById'](_0x3a6673(0x643))[_0x3a6673(0x5cf)]=_0x8aec36[_0x3a6673(0x2b0)]?_0x8aec36['endTime'][_0x3a6673(0x7e3)](0x0,0x10):'',_0x1202bf['querySelectorAll'](_0x3a6673(0xc4))['forEach'](_0x7ae59c=>{const _0x29b453=_0x3a6673;_0x7ae59c['addEventListener'](_0x29b453(0x93),_0x47e31f=>{const _0x1ec2d5=_0x29b453,_0x544cb5=_0x47e31f[_0x1ec2d5(0x823)][_0x1ec2d5(0x5cf)]===_0x1ec2d5(0x87c);_0x5c130[_0x1ec2d5(0x87b)][_0x1ec2d5(0x361)](_0x1ec2d5(0x727),!_0x544cb5),_0x39740d[_0x1ec2d5(0x87b)][_0x1ec2d5(0x361)](_0x1ec2d5(0x727),!_0x544cb5);});}),quizStatusModal['classList'][_0x3a6673(0x8e)](_0x3a6673(0x727));}}catch(_0x3b52c4){console[_0x3a6673(0x5ec)](_0x3a6673(0x83),_0x3b52c4),showMessage(_0x3a6673(0x60b));}}async function confirmQuizStatus(){const _0x17a84e=_0x50f1a4;if(!actionTargetId)return;const _0x3769cf=doc(db,_0x17a84e(0x385)+appId+_0x17a84e(0x4bf),actionTargetId),_0xcda72=document[_0x17a84e(0x76d)]('input[name=\x22status-option\x22]:checked');if(!_0xcda72){showMessage(_0x17a84e(0x543));return;}const _0x225c04=_0xcda72[_0x17a84e(0x5cf)];let _0x1411ae={};if(_0x225c04==='active'||_0x225c04===_0x17a84e(0x7b8))_0x1411ae={'status':_0x225c04,'startTime':null,'endTime':null};else{if(_0x225c04===_0x17a84e(0x87c)){const _0x236fb0=document[_0x17a84e(0x1f4)](_0x17a84e(0x160))[_0x17a84e(0x5cf)],_0x410f4a=document['getElementById']('quiz-end-time')[_0x17a84e(0x5cf)];if(!_0x236fb0&&!_0x410f4a){showMessage(_0x17a84e(0x2a2));return;}_0x1411ae={'status':_0x17a84e(0x3d6),'startTime':_0x236fb0?new Date(_0x236fb0)[_0x17a84e(0x251)]():null,'endTime':_0x410f4a?new Date(_0x410f4a)[_0x17a84e(0x251)]():null};}}try{await updateDoc(_0x3769cf,_0x1411ae),showMessage(_0x17a84e(0x377)),quizStatusModal[_0x17a84e(0x87b)][_0x17a84e(0x6aa)]('hidden'),actionTargetId=null;}catch(_0x3be7ba){console[_0x17a84e(0x5ec)](_0x17a84e(0x300),_0x3be7ba),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x2a7841){const _0x4e9063=_0x50f1a4,_0x10f777=collection(db,_0x4e9063(0x385)+appId+_0x4e9063(0x699)+_0x2a7841+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x10f777,_0x50d9be=>{const _0x1a3e5d=_0x4e9063,_0xcb2191=_0x50d9be[_0x1a3e5d(0x3b3)][_0x1a3e5d(0x27d)](_0x25f51d=>_0x25f51d[_0x1a3e5d(0x3db)]());renderLeaderboard(_0xcb2191,'leaderboard-table-body');},_0x124590=>{const _0x5debf4=_0x4e9063;console['error'](_0x5debf4(0x3ef),_0x124590),document[_0x5debf4(0x1f4)](_0x5debf4(0x40f))[_0x5debf4(0x535)]=_0x5debf4(0xbd);});}function renderLeaderboard(_0x3a9e19,_0x4fe562){const _0x391406=_0x50f1a4,_0x13117d=document[_0x391406(0x1f4)](_0x4fe562);if(!_0x3a9e19||_0x3a9e19[_0x391406(0x43f)]===0x0){_0x13117d[_0x391406(0x535)]=_0x391406(0xbf);return;}_0x3a9e19[_0x391406(0x5ef)]((_0xcb7f92,_0x1ef333)=>{const _0x3cedb9=_0x391406,_0x2735d0=(_0x1ef333[_0x3cedb9(0x8cc)]||0x0)-(_0xcb7f92[_0x3cedb9(0x8cc)]||0x0);if(_0x2735d0!==0x0)return _0x2735d0;const _0x452cb0=(_0x1ef333['badgesCount']?.['specialist']||0x0)-(_0xcb7f92[_0x3cedb9(0x614)]?.[_0x3cedb9(0x882)]||0x0);if(_0x452cb0!==0x0)return _0x452cb0;const _0x20496b=(_0x1ef333[_0x3cedb9(0x614)]?.[_0x3cedb9(0x6eb)]||0x0)-(_0xcb7f92[_0x3cedb9(0x614)]?.['first_try_ace']||0x0);if(_0x20496b!==0x0)return _0x20496b;const _0x58cb6c=(_0x1ef333[_0x3cedb9(0x614)]?.[_0x3cedb9(0x407)]||0x0)-(_0xcb7f92[_0x3cedb9(0x614)]?.['perfect_score']||0x0);if(_0x58cb6c!==0x0)return _0x58cb6c;const _0x122811=(_0x1ef333['badgesCount']?.[_0x3cedb9(0x759)]||0x0)-(_0xcb7f92[_0x3cedb9(0x614)]?.['quick_thinker']||0x0);if(_0x122811!==0x0)return _0x122811;return _0xcb7f92['studentName']['localeCompare'](_0x1ef333[_0x3cedb9(0x2b1)],'th');});let _0x326d0='';_0x3a9e19[_0x391406(0x887)]((_0x17aceb,_0xdc1625)=>{const _0x1fece0=_0x391406,_0x2c0886=_0xdc1625+0x1,_0x296848=_0x17aceb['badgesCount']||{};let _0x2d5659='';const _0x5cd313=['specialist',_0x1fece0(0x407),_0x1fece0(0x6eb),_0x1fece0(0x759)];_0x5cd313[_0x1fece0(0x887)](_0xbe2bd7=>{const _0x2f4455=_0x1fece0;if(_0x296848[_0xbe2bd7]>0x0){const _0x17b5f3=Object[_0x2f4455(0x83f)](BADGES)[_0x2f4455(0x700)](_0x54a468=>_0x54a468['id']===_0xbe2bd7);_0x17b5f3&&(_0xbe2bd7==='specialist'?_0x2d5659+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x17b5f3['name']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x17b5f3[_0x2f4455(0x51d)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x2d5659+=_0x2f4455(0x8cd)+_0x17b5f3['name']+'\x20('+_0x296848[_0xbe2bd7]+_0x2f4455(0x88e)+_0x17b5f3[_0x2f4455(0x51d)]+_0x2f4455(0x5b9)+_0x296848[_0xbe2bd7]+_0x2f4455(0x33c));}}),_0x326d0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x2c0886+_0x1fece0(0x599)+_0x17aceb[_0x1fece0(0x2b1)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x17aceb['totalPoints']||0x0)+_0x1fece0(0x599)+(_0x2d5659||'-')+_0x1fece0(0x682);}),_0x13117d['innerHTML']=_0x326d0;}function displayLoopScreen(_0x5d7c39,_0x5ea3ac,_0x27ea96){const _0x16421d=_0x50f1a4;let _0x4c5aed='';_0x27ea96!==_0x16421d(0x14f)&&(_0x4c5aed='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x5d7c39+'\x20/\x20'+_0x5ea3ac+_0x16421d(0x289));const _0x134bc5=_0x16421d(0x836)+_0x4c5aed+_0x16421d(0x745);studentResultArea[_0x16421d(0x535)]=_0x134bc5,studentResultArea[_0x16421d(0x87b)][_0x16421d(0x8e)](_0x16421d(0x727)),studentQuizArea[_0x16421d(0x87b)][_0x16421d(0x6aa)](_0x16421d(0x727)),document[_0x16421d(0x1f4)](_0x16421d(0x3d2))['addEventListener'](_0x16421d(0x2d7),()=>{const _0xba5873=_0x16421d;studentResultArea[_0xba5873(0x87b)][_0xba5873(0x6aa)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x16cc86,_0x4eff46,_0x211bd9){const _0x495fdf=_0x50f1a4,_0x3ec78f=document[_0x495fdf(0x1f4)](_0x211bd9),_0x3da5c5=_0x211bd9===_0x495fdf(0x622),_0x3ccc23=_0x4eff46['questions'][_0x495fdf(0x43f)],_0x451d7e=document[_0x495fdf(0x1f4)](_0x211bd9)[_0x495fdf(0x88)](_0x495fdf(0x40a));if(_0x451d7e&&!_0x3da5c5){const _0x777f30=_0x451d7e[_0x495fdf(0x76d)](_0x495fdf(0x5ab));_0x777f30[_0x495fdf(0x535)]=_0x495fdf(0x12f);}if(!_0x16cc86||_0x16cc86[_0x495fdf(0x43f)]===0x0){_0x3ec78f[_0x495fdf(0x535)]=_0x495fdf(0x62c)+(_0x3da5c5?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x2567d6=[..._0x16cc86];_0x2567d6['sort']((_0x84e500,_0x25c867)=>{const _0x538c3d=_0x495fdf;let _0x3f50e1,_0x29fdbf;switch(quizLeaderboardSortBy){case _0x538c3d(0x2b1):_0x3f50e1=_0x84e500[_0x538c3d(0x2b1)]||'',_0x29fdbf=_0x25c867['studentName']||'';return quizLeaderboardSortOrder===_0x538c3d(0x6e)?_0x3f50e1[_0x538c3d(0x27f)](_0x29fdbf,'th'):_0x29fdbf[_0x538c3d(0x27f)](_0x3f50e1,'th');case _0x538c3d(0x153):_0x3f50e1=_0x84e500[_0x538c3d(0x153)]||0x0,_0x29fdbf=_0x25c867[_0x538c3d(0x153)]||0x0;break;case _0x538c3d(0x217):_0x3f50e1=_0x84e500[_0x538c3d(0x217)]?.['length']||0x1,_0x29fdbf=_0x25c867['attempts']?.[_0x538c3d(0x43f)]||0x1;break;case _0x538c3d(0x761):_0x3f50e1=new Date(_0x84e500['latestSubmittedAt']),_0x29fdbf=new Date(_0x25c867[_0x538c3d(0x761)]);break;case'bestScore':default:_0x3f50e1=_0x84e500[_0x538c3d(0x2fd)],_0x29fdbf=_0x25c867[_0x538c3d(0x2fd)];break;}if(_0x3f50e1<_0x29fdbf)return quizLeaderboardSortOrder===_0x538c3d(0x6e)?-0x1:0x1;if(_0x3f50e1>_0x29fdbf)return quizLeaderboardSortOrder===_0x538c3d(0x6e)?0x1:-0x1;return 0x0;});const _0x11b6a4=_0x4eff46[_0x495fdf(0x2d9)]===!![],_0x3c2c47=_0x4eff46[_0x495fdf(0x4b5)]?.['passingScore']??-0x1;let _0x3a2358='';_0x2567d6['forEach']((_0x44e911,_0x52fd6e)=>{const _0x28ea68=_0x495fdf,_0x188088=_0x52fd6e+0x1;let _0x54be87=_0x28ea68(0x816);if(_0x11b6a4||_0x3c2c47!==-0x1){let _0x443641=_0x11b6a4?_0x44e911[_0x28ea68(0x2fd)]===_0x3ccc23:_0x44e911[_0x28ea68(0x2fd)]>=_0x3c2c47;const _0x45bd19=_0x443641?_0x28ea68(0x427):_0x28ea68(0x850),_0x27deaf=_0x443641?_0x28ea68(0x78d):_0x28ea68(0x701);_0x54be87=_0x28ea68(0x60f)+_0x45bd19+'\x22>'+_0x27deaf+'</span></td>';}const _0x597280=_0x44e911[_0x28ea68(0x217)][_0x44e911[_0x28ea68(0x217)][_0x28ea68(0x43f)]-0x1],_0xdbf5c6=(_0x597280['badges']||[])['map'](_0x1946ad=>{const _0x16081a=_0x28ea68,_0x5e68fc=Object[_0x16081a(0x83f)](BADGES)['find'](_0x14aa0a=>_0x14aa0a['id']===_0x1946ad);return _0x5e68fc?_0x16081a(0x473)+_0x5e68fc[_0x16081a(0x250)]+_0x16081a(0x83b)+_0x5e68fc['icon']+_0x16081a(0x19b):'';})[_0x28ea68(0x211)]('');_0x3a2358+=_0x28ea68(0x1e8)+_0x188088+_0x28ea68(0x318)+_0x44e911['studentName']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x44e911['bestScore']+_0x28ea68(0x57c)+_0x3ccc23+_0x28ea68(0x147)+_0x54be87+_0x28ea68(0x5ca)+(_0x44e911['points']||0x0)+_0x28ea68(0x147)+(_0x3da5c5?'':_0x28ea68(0x107)+(_0x44e911[_0x28ea68(0x217)]?.[_0x28ea68(0x43f)]||0x1)+_0x28ea68(0x7b4))+_0x28ea68(0x6ff)+(_0x3da5c5?'':_0x28ea68(0x1dc)+new Date(_0x44e911[_0x28ea68(0x761)])[_0x28ea68(0x1df)]('th-TH')+'</td>')+_0x28ea68(0x21a)+(_0xdbf5c6||'-')+_0x28ea68(0x487);}),_0x3ec78f['innerHTML']=_0x3a2358,_0x451d7e&&!_0x3da5c5&&_0x451d7e['querySelectorAll']('thead\x20.sortable-header')['forEach'](_0x3d5ec2=>{const _0x3fdadd=_0x495fdf,_0x1429ba=_0x3d5ec2[_0x3fdadd(0x76d)]('.sort-indicator');if(_0x1429ba)_0x1429ba[_0x3fdadd(0x8e)]();_0x3d5ec2['dataset'][_0x3fdadd(0x5ef)]===quizLeaderboardSortBy&&(_0x3d5ec2['innerHTML']+=_0x3fdadd(0x23b)+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x3fdadd(0x24a));});}async function handleDeleteSubmission(_0x4195e2){const _0x14ea5d=_0x50f1a4;if(!currentQuizData||!currentQuizData['id']||!_0x4195e2){showMessage(_0x14ea5d(0x4ad));return;}showConfirmation(_0x14ea5d(0x13f)+_0x4195e2+_0x14ea5d(0x2a0),async()=>{const _0x5d4bfa=_0x14ea5d,_0x52388a=currentQuizData['id'],_0x3c33fc=doc(db,_0x5d4bfa(0x385)+appId+'/public/data/quizzes/'+_0x52388a+_0x5d4bfa(0x6fa),_0x4195e2);try{await deleteDoc(_0x3c33fc),showMessage('ลบผลสอบของ\x20'+_0x4195e2+'\x20สำเร็จ');}catch(_0x540283){console[_0x5d4bfa(0x5ec)](_0x5d4bfa(0x845),_0x540283),showMessage(_0x5d4bfa(0x85f));}});}async function handleLoadQuiz(){const _0x3349e5=_0x50f1a4,_0x1ea8e3=document[_0x3349e5(0x1f4)]('quiz-id-input'),_0x86174e=_0x1ea8e3[_0x3349e5(0x5cf)][_0x3349e5(0x6e3)]();if(!_0x86174e){showMessage(_0x3349e5(0x853));return;}loadQuizBtn[_0x3349e5(0x891)]=!![],loadQuizBtn['innerHTML']=_0x3349e5(0x1a4);try{const _0x560261=doc(db,_0x3349e5(0x385)+appId+'/public/data/quizzes',_0x86174e),_0x5e0a63=await getDoc(_0x560261);if(!_0x5e0a63[_0x3349e5(0x5b8)]()){showMessage(_0x3349e5(0x8d0));return;}currentQuizData={'id':_0x5e0a63['id'],..._0x5e0a63[_0x3349e5(0x3db)]()};const _0x5a2e16=currentQuizData[_0x3349e5(0x1a0)]||_0x3349e5(0x732),_0x4f71b7=new Date();if(_0x5a2e16===_0x3349e5(0x7b8)){showMessage(_0x3349e5(0x355));return;}if(_0x5a2e16===_0x3349e5(0x3d6)){const _0xe66070=currentQuizData[_0x3349e5(0x3e6)]?new Date(currentQuizData[_0x3349e5(0x3e6)]):null,_0xe8fe70=currentQuizData[_0x3349e5(0x2b0)]?new Date(currentQuizData[_0x3349e5(0x2b0)]):null;if(_0xe66070&&_0x4f71b7<_0xe66070){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0xe66070[_0x3349e5(0x1df)](_0x3349e5(0x491),{'hour12':![]}));return;}if(_0xe8fe70&&_0x4f71b7>_0xe8fe70){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x5182a=currentQuizData[_0x3349e5(0x713)];currentProjectId=_0x5182a;const _0xdb89c2=doc(db,_0x3349e5(0x385)+appId+_0x3349e5(0x5ff),_0x5182a),_0x424adb=await getDoc(_0xdb89c2);if(!_0x424adb['exists']()){showMessage(_0x3349e5(0x5fd));return;}const _0x21a21b=_0x424adb['data']();currentStudentProjectData=_0x21a21b,displayStudentNameSelector(_0x21a21b[_0x3349e5(0x327)],currentQuizData['topic']);}catch(_0x17c693){console[_0x3349e5(0x5ec)](_0x3349e5(0x34a),_0x17c693),showMessage(_0x3349e5(0xb3));}finally{loadQuizBtn[_0x3349e5(0x891)]=![],loadQuizBtn[_0x3349e5(0x535)]=_0x3349e5(0x7a2);}}async function handleJoinLiveGame(){const _0x5d331d=_0x50f1a4,_0x460f2b=document['getElementById'](_0x5d331d(0x870)),_0x1d3da2=document['getElementById'](_0x5d331d(0x86c)),_0x5f10a2=document[_0x5d331d(0x1f4)](_0x5d331d(0x4b4)),_0x658f49=_0x460f2b[_0x5d331d(0x5cf)][_0x5d331d(0x6e3)](),_0x4bc90a=_0x1d3da2[_0x5d331d(0x5cf)][_0x5d331d(0x6e3)]();if(!_0x658f49||!_0x4bc90a){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x5f10a2[_0x5d331d(0x891)]=!![],_0x5f10a2[_0x5d331d(0x535)]=_0x5d331d(0x4f3);try{const _0x2c19da=collection(db,_0x5d331d(0x385)+appId+_0x5d331d(0x6d2)),_0x7b6795=query(_0x2c19da,where(_0x5d331d(0x23f),'==',_0x658f49),where('status','in',[_0x5d331d(0x118),_0x5d331d(0x826)])),_0x23c595=await getDocs(_0x7b6795);if(_0x23c595[_0x5d331d(0x80)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว');return;}const _0x3b3254=_0x23c595[_0x5d331d(0x3b3)][0x0],_0x304570=_0x3b3254[_0x5d331d(0x3db)]();currentLiveGameId=_0x3b3254['id'];const _0x576819=_0x304570[_0x5d331d(0x1b5)],_0x23382f=doc(db,_0x5d331d(0x385)+appId+_0x5d331d(0x4bf),_0x576819),_0x41ede8=await getDoc(_0x23382f);if(!_0x41ede8[_0x5d331d(0x5b8)]()){showMessage(_0x5d331d(0x307));return;}currentQuizData={'id':_0x41ede8['id'],..._0x41ede8[_0x5d331d(0x3db)]()};if(_0x304570['players']&&_0x304570[_0x5d331d(0x592)][_0x4bc90a]){const _0x570e73=_0x304570[_0x5d331d(0x592)][_0x4bc90a];if(_0x570e73[_0x5d331d(0x1a0)]==='inactive'){_0x5f10a2['innerHTML']=_0x5d331d(0x6c1);const _0x3f6bce={};_0x3f6bce['players.'+_0x4bc90a+_0x5d331d(0x315)]=_0x5d331d(0x732),await updateDoc(doc(db,_0x5d331d(0x385)+appId+'/public/data/liveGames',currentLiveGameId),_0x3f6bce),showView(_0x5d331d(0x216)),currentStudentName=_0x4bc90a,listenForLiveGameUpdates();return;}else{showMessage(_0x5d331d(0x80c));return;}}if(_0x304570['status']!=='lobby'){showMessage(_0x5d331d(0x298));return;}_0x5f10a2[_0x5d331d(0x535)]=_0x5d331d(0x69e);const _0xf3b3ed={};_0xf3b3ed[_0x5d331d(0x863)+_0x4bc90a]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,_0x5d331d(0x385)+appId+_0x5d331d(0x6d2),currentLiveGameId),_0xf3b3ed),currentStudentName=_0x4bc90a,listenForLiveGameUpdates();}catch(_0x4b15f2){console[_0x5d331d(0x5ec)]('Error\x20joining\x20live\x20game:',_0x4b15f2),showMessage(_0x5d331d(0x757));}finally{_0x5f10a2[_0x5d331d(0x891)]=![],_0x5f10a2[_0x5d331d(0x535)]=_0x5d331d(0x647);}}function displayStudentNameSelector(_0x120c38,_0x407f40){const _0x27f418=_0x50f1a4,_0x2e3683=document['getElementById'](_0x27f418(0x227));document[_0x27f418(0x1f4)]('student-quiz-topic')[_0x27f418(0x810)]=_0x27f418(0x6d0)+_0x407f40,!_0x120c38||_0x120c38[_0x27f418(0x43f)]===0x0?(_0x2e3683[_0x27f418(0x535)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x27f418(0x891)]=!![]):(_0x2e3683[_0x27f418(0x535)]=_0x27f418(0x41b),_0x120c38[_0x27f418(0x887)](_0x2e037e=>{const _0xcc34f6=_0x27f418,_0x2f47aa=document[_0xcc34f6(0x447)](_0xcc34f6(0x11c));_0x2f47aa[_0xcc34f6(0x5cf)]=_0x2e037e,_0x2f47aa['textContent']=_0x2e037e,_0x2e3683[_0xcc34f6(0x149)](_0x2f47aa);}),startQuizBtn[_0x27f418(0x891)]=![]),studentInitialView[_0x27f418(0x87b)][_0x27f418(0x6aa)]('hidden'),studentNameSelectionView['classList'][_0x27f418(0x8e)](_0x27f418(0x727));}function shuffleArray(_0x5b89ac){const _0x2ea0aa=_0x50f1a4;for(let _0x3b0740=_0x5b89ac[_0x2ea0aa(0x43f)]-0x1;_0x3b0740>0x0;_0x3b0740--){const _0x5b3bb5=Math['floor'](Math['random']()*(_0x3b0740+0x1));[_0x5b89ac[_0x3b0740],_0x5b89ac[_0x5b3bb5]]=[_0x5b89ac[_0x5b3bb5],_0x5b89ac[_0x3b0740]];}}function getShuffledQuiz(_0x1443d8){const _0x205eff=_0x50f1a4;let _0x143183=JSON[_0x205eff(0x582)](JSON[_0x205eff(0xe2)](_0x1443d8));const _0x2fe66e=_0x143183['settings']?.[_0x205eff(0x350)]||_0x205eff(0xbe);if(_0x2fe66e===_0x205eff(0xbe))return _0x143183;return(_0x2fe66e===_0x205eff(0x4da)||_0x2fe66e===_0x205eff(0x1b7))&&shuffleArray(_0x143183[_0x205eff(0x393)]),(_0x2fe66e===_0x205eff(0x1c2)||_0x2fe66e==='both')&&_0x143183['questions']['forEach'](_0x2d1266=>{const _0x579891=_0x205eff,_0x453346=_0x2d1266[_0x579891(0x84e)]||_0x143183[_0x579891(0x272)];if(_0x2d1266[_0x579891(0x4a1)]){let _0x4d4850=_0x2d1266[_0x579891(0x4a1)]['map']((_0x4d3903,_0x2198ea)=>({'text':_0x4d3903,'isCorrect':_0x2198ea===_0x2d1266[_0x579891(0x7b0)]}));shuffleArray(_0x4d4850),_0x2d1266[_0x579891(0x4a1)]=_0x4d4850[_0x579891(0x27d)](_0x31aeca=>_0x31aeca[_0x579891(0x551)]),_0x2d1266[_0x579891(0x7b0)]=_0x4d4850[_0x579891(0x53f)](_0x1cf3fc=>_0x1cf3fc[_0x579891(0x797)]);}_0x453346===_0x579891(0xcf)&&_0x2d1266[_0x579891(0x603)]&&shuffleArray(_0x2d1266[_0x579891(0x603)]);}),_0x143183;}function displayQuizForStudent(_0x2b4181){const _0x35871c=_0x50f1a4;studentQuizArea[_0x35871c(0x87b)][_0x35871c(0x8e)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x2b4181);currentMode!==_0x35871c(0x7e)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x35871c(0x611),handleFullscreenChange),document[_0x35871c(0x8c0)](_0x35871c(0x6e8),handleVisibilityChange),enterFullscreen(),window[_0x35871c(0x8c0)](_0x35871c(0x53e),resetDimTimer),window[_0x35871c(0x8c0)](_0x35871c(0x9c),resetDimTimer),window[_0x35871c(0x8c0)](_0x35871c(0x5d6),resetDimTimer),window[_0x35871c(0x8c0)](_0x35871c(0x1ce),resetDimTimer),resetDimTimer());const _0x1ba9a8=currentDisplayedQuiz[_0x35871c(0x4b5)]?.[_0x35871c(0x2e2)]||'none';if(_0x1ba9a8===_0x35871c(0x772))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x35871c(0x4b5)][_0x35871c(0x74e)]);else _0x1ba9a8==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x1aa129=_0x50f1a4;let _0xbf5bfc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x1aa129(0x2c9)]+_0x1aa129(0x7a8)+(currentMode==='admin-testing'?_0x1aa129(0x8ae):'')+_0x1aa129(0x67f);currentDisplayedQuiz[_0x1aa129(0x393)]['forEach']((_0x5d39a4,_0x4fa673)=>{const _0x46f50f=_0x1aa129,_0x304367=_0x5d39a4[_0x46f50f(0x84e)]||currentDisplayedQuiz[_0x46f50f(0x272)];_0xbf5bfc+=_0x46f50f(0x623);_0x304367===_0x46f50f(0xcf)?_0xbf5bfc+=_0x46f50f(0x357)+(_0x4fa673+0x1)+'.\x20'+_0x5d39a4[_0x46f50f(0x63e)]+_0x46f50f(0x4e9)+_0x4fa673+_0x46f50f(0xa5)+_0x5d39a4[_0x46f50f(0x603)][_0x46f50f(0x27d)](_0x3e9c00=>_0x46f50f(0x1fe)+_0x3e9c00+'\x22>'+_0x3e9c00+_0x46f50f(0x212))[_0x46f50f(0x211)]('')+_0x46f50f(0xcd):(_0xbf5bfc+=_0x46f50f(0x276)+(_0x4fa673+0x1)+'.\x20'+(_0x5d39a4[_0x46f50f(0x35a)]||_0x5d39a4[_0x46f50f(0x598)])+_0x46f50f(0x24d),_0x5d39a4[_0x46f50f(0x2f8)]&&(_0xbf5bfc+=_0x46f50f(0x15b)+_0x5d39a4[_0x46f50f(0x2f8)]+_0x46f50f(0x235)));_0xbf5bfc+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x304367){case _0x46f50f(0x65e):_0xbf5bfc+=_0x46f50f(0x808)+_0x4fa673+_0x46f50f(0x3ae);break;case _0x46f50f(0x340):_0xbf5bfc+=_0x46f50f(0x5a5)+_0x4fa673+_0x46f50f(0x7ec)+_0x4fa673+_0x46f50f(0x7e8)+_0x4fa673+_0x46f50f(0x619),_0xbf5bfc+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x4fa673+'_opt1\x22\x20name=\x22question'+_0x4fa673+_0x46f50f(0x2cc)+_0x4fa673+_0x46f50f(0x557);break;case _0x46f50f(0xcf):break;case _0x46f50f(0x802):case'multiple_choice':default:_0xbf5bfc+=_0x5d39a4[_0x46f50f(0x4a1)][_0x46f50f(0x27d)]((_0x4c11f5,_0x1d15d2)=>_0x46f50f(0x64f)+_0x4fa673+'_opt'+_0x1d15d2+_0x46f50f(0x421)+_0x4fa673+_0x46f50f(0x568)+_0x1d15d2+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x4fa673+'_opt'+_0x1d15d2+'\x22>'+_0x4c11f5+_0x46f50f(0x455))[_0x46f50f(0x211)]('');break;}_0xbf5bfc+=_0x46f50f(0x308);}),_0xbf5bfc+=_0x1aa129(0xf5),_0xbf5bfc+=_0x1aa129(0x4f7),studentQuizArea[_0x1aa129(0x535)]=_0xbf5bfc;if(currentMode===_0x1aa129(0x7e)){const _0x5bea09=document['getElementById']('cancel-test-btn');if(_0x5bea09)_0x5bea09['addEventListener']('click',cancelAdminTest);}document[_0x1aa129(0x1f4)](_0x1aa129(0x7cc))[_0x1aa129(0x8c0)]('submit',handleSubmitQuiz);if(window[_0x1aa129(0x7c0)])window[_0x1aa129(0x7c0)][_0x1aa129(0x703)]([studentQuizArea]);}async function handleSubmitQuiz(_0x490dd8){const _0xf530ef=_0x50f1a4;if(_0x490dd8)_0x490dd8['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x3d295f=document[_0xf530ef(0x1f4)]('quiz-form');if(!_0x3d295f)return;const _0x28ecd0=_0x3d295f['querySelector'](_0xf530ef(0x18a)),_0x1a3fed=currentDisplayedQuiz[_0xf530ef(0x393)][_0xf530ef(0x1b4)](_0x4d72fd=>_0x4d72fd[_0xf530ef(0x84e)]===_0xf530ef(0x65e));_0x28ecd0&&(_0x28ecd0[_0xf530ef(0x891)]=!![],_0x1a3fed?_0x28ecd0['innerHTML']=_0xf530ef(0x780):_0x28ecd0[_0xf530ef(0x535)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x422299=new FormData(_0x3d295f),_0x2eeade=currentDisplayedQuiz[_0xf530ef(0x393)][_0xf530ef(0x27d)]((_0x5d724c,_0x294c84)=>{const _0x527ee9=_0xf530ef,_0x100d08=_0x5d724c[_0x527ee9(0x84e)]||currentDisplayedQuiz['quizType'],_0x376a6=_0x422299[_0x527ee9(0x5f3)](_0x527ee9(0x826)+_0x294c84);if(_0x376a6!==null&&_0x376a6!==undefined){if(_0x100d08===_0x527ee9(0x657)||_0x100d08===_0x527ee9(0x802))return parseInt(_0x376a6);return _0x376a6;}return null;}),_0x4ca63a=currentQuizData['id'],_0xc60684=doc(db,'artifacts/'+appId+_0xf530ef(0x62f)+_0x4ca63a+_0xf530ef(0x6fa),currentStudentName),_0x11dcbb=await getDoc(_0xc60684),_0x1aedb2=_0x11dcbb['exists']()?_0x11dcbb[_0xf530ef(0x3db)]():{},_0x14c20f=_0x1aedb2[_0xf530ef(0x217)]||[];await processAndSubmitAnswers(_0x2eeade,_0x14c20f);}function _0x4270(){const _0x228a30=['project-name-input','ไม่พบแบบทดสอบ','ปิดใช้งาน','answer-grid-container','อัตราส่วนและสัดส่วน','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parts','\x5cfrac{','isCorrect','score-distribution-chart','ทฤษฎีบทพีทาโกรัสและการประยุกต์','projectView','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<tr\x20class=\x22','.quiz-bank-present-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','สร้างชุดคำถามจับคู่','circle','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','สมการลอการิทึม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','shuffle-setting-select','.export-pdf-list-btn','scratchpad-controls','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','.scratchpad-content-wrapper','Enter','27411472','ก่อนเรียน','Error\x20moving\x20quiz:','ที่พิมพ์ได้\x20จำนวน\x20','correctAnswerIndex','mixed','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#DBEAFE','</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','2-digit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','inactive','blueprint-input-area','player-count','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','$$$1$','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','FIRST_TRY_ACE','scrollX','MathJax','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','รูปสี่เหลี่ยมและสมบัติ','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/customMathTopics','confirm-passcode-btn','podium','.delete-custom-topic-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','highlighter-tools-group','quiz-form','ฟังก์ชันผกผัน','leaderboard-quiz-tab-btn','pinnedProjects','.topic-actions-edit','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','suggestedAnswer','isLooping','element','การวัด','<div\x20class=\x22mb-3\x20topic-category\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','อสมการเชิงเส้น','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','.pen-color-btn','\x5csum','#E5E7EB','ลำดับเลขคณิต\x20(AP)','type','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','moveTo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','substring','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','className','insertBefore','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','text-gray-300\x20hover:text-white','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','katex','_opt0\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','export-lesson-pdf-btn','modal-adaptive-quiz-checkbox','getDocument','reset-view-btn','ชื่อโปรเจคห้ามว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','font-bold\x20text-red-700\x20line-through','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','แผนภาพกล่อง\x20(box\x20plot)','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','.png','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.question-editor-item[data-q-index=\x22','teachingContent','ปริพันธ์ไม่จำกัด','fill_in_the_blank','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','parallel-test-tab','<textarea\x20name=\x22question','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','Error\x20generating\x20easy\x20version\x20quiz:','transition-all','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','การลบ','Invalid\x20response\x20structure\x20from\x20AI.','รากที่สองและที่สาม','textContent','.quiz-status-btn','close-game-final-btn','globalSettings','.verification-result-editor','draggable-text','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','dimmed','.answer-text','ไม่สามารถเริ่มเกมได้','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','จับคู่เพื่อเปรียบเทียบผล','key','text-emerald-800','str','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','Error\x20generating\x20parallel\x20test\x20from\x20bank:','results-display-select','target','ดีเทอร์มิแนนต์','\x20ชุดสำเร็จ!','question','ref','text-gray-400\x20hover:text-indigo-600','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','leaderboard-quiz','back-to-student-home-btn','434823HEFFPy','การหารเศษส่วน','bulk-quiz-settings-btn','จัดการ','showImproveButton','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','description','ไม่สามารถโหลดรายการโปรเจคได้','global-live-game-modal','กำลังอ่านและเตรียมไฟล์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการราก\x20(radical)','#results-table','ปริมาตร/ความจุและการแปลง','<div\x20class=\x22my-2\x22>','\x22><i\x20class=\x22fas\x20','pointercancel','questionStatus','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','values','เพิ่มหัวข้อ\x20\x22','Error\x20fetching\x20quiz\x20settings:','เมทริกซ์:\x20บวก/คูณ','การแปลงรูปอัตลักษณ์','getContext','Error\x20deleting\x20submission:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','msExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.quiz-result-card','student-progress-view','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','leaderboard-tab','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','questionType','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-100\x20text-red-800','\x20ชุด)','onchange','กรุณาป้อนรหัสแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','Error\x20unpairing\x20quizzes:','now','source-over','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','วงรี','Error\x20generating\x20from\x20link:','</p><div>','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','เกิดข้อผิดพลาดในการลบผลสอบ','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','text-red-500\x20hover:text-red-700','สมการยกกำลัง','players.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบแบบทดสอบในระบบเลย','ค.ร.น.\x20(LCM)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','ความสัมพันธ์ของมุม','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','ไม่ได้ตอบ','classStrengths','nickname-input',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','wakeLock','game-pin-input','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','dataset','slide-counter','ฟังก์ชันกำลังสองและกราฟ','getItem','กฎของไซน์','project-detail','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','currentTarget','classList','schedule','toLocaleDateString','Error\x20processing\x20file\x20for\x20AI:','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upperGroupNames','questionDisplayedAt','specialist','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','back-to-dashboard-btn','tool','ย้าย','forEach','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','td,\x20th','project-title','tGain','category','สร้างแบบทดสอบปรนัย','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','bg-blue-100','</button>','disabled','ai-quiz-app-aefee.firebaseapp.com','text-gray-200','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toFixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','underline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','timer-container','คะแนนเฉลี่ย','student-quiz-area','ร้อยละพื้นฐาน','data:application/vnd.ms-word;charset=utf-8,','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20updating\x20quiz\x20settings:','#FFFFFF','1:274192258111:web:4120c9118229b5644dd48a','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','text-red-300\x20hover:text-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-join-game-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','วงกลม:\x20สมการและสมบัติ','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','ฟังก์ชันสัมพัทธ์\x20(rational)','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','<div\x20class=\x22space-y-4\x22>','width','body','ไม่สามารถโหลดข้อมูลอันดับได้','กรุณาใส่ชื่อนักเรียน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','clientY','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','.unpair-quiz-btn','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','date_asc','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','playerName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','addEventListener',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','manual_release','then','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submission','/public/data/practiceBank','dragover','string','auto-fix-latex-btn','เกิดข้อผิดพลาด:\x20','totalPoints','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','.topic-category','fa-dumbbell\x20text-gray-700','ไม่พบแบบทดสอบสำหรับรหัสนี้','border-red-300\x20bg-red-50','clientX','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','cdot','asc','stdDev','API\x20call\x20failed','confirm-delete-btn','Error\x20deleting\x20project:','preTestId','copy','not-found','verify-answers-btn','selected-topics-count','ระบบสมการเชิงเส้นสองตัวแปร','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การบวกทศนิยม','true','แบบเติมคำตอบ','admin-testing','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','empty','สลับไปโหมดผู้ควบคุม','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','Error\x20fetching\x20quiz\x20status:','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','(ไม่มีชื่อ)','bank-tab','closest','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','พิมพ์ตอบ','reduce','ยอดเยี่ยม','confirm-bulk-quiz-settings-btn','remove','เกมสิ้นสุดลงแล้ว','</td></tr>','comparison-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','change','\x22.\x20','setAttributeNS','Error\x20starting\x20game:','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','<div\x20class=\x22loader\x20mx-auto\x22></div>','per-question-options','ความเป็นอิสระของเหตุการณ์','กรุณาเลือกโปรเจคที่ต้องการบันทึก','mousedown','การเรียงสับเปลี่ยน\x20(Permutation)','#FEF3C7','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','results-table-container','เรขาคณิต','\x5ccdot','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','กราฟฟังก์ชันตรีโกณ','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','ระยะเวลา\x20(นาที):','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','setAttribute','$1\x5ctext(','แคลคูลัสเบื้องต้น','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','text-red-600','Error\x20generating\x20quiz:','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','confirm-rename-quiz-btn','div','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','modal-message','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','STRING','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ลำดับเรขาคณิต\x20(GP)','student','ค่าเสื่อมราคา','#student-project-leaderboard-content\x20thead','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','none','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','มุมพิเศษ\x2045°-45°-90°','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','\x22\x20data-name=\x22','check-answer-btn','input[name=\x22status-option\x22]','scores-tab-content','.project-card-container','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','pen-tools-group','isStarred','exitFullscreen','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','ร้อยละประยุกต์','matching_item','lineCap','pointerType','<i\x20class=\x22fas\x20fa-pen\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','border-red-700','export-leaderboard-pdf-btn','beforeend','student-reading-area','<p><strong>คำตอบที่แนะนำ:</strong>\x20','Error\x20deleting\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','ไม่พบข้อมูลแบบทดสอบ','#D1FAE5','1512bDpegW','Error\x20listening\x20for\x20custom\x20math\x20topics:','text-blue-700\x20bg-blue-100','สรุปผลการวิเคราะห์:\x5cn','stringify','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกแบบทดสอบสำเร็จ','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','afterend','\x5ctext{$1}','student-project-leaderboard-table-body','results-quiz-id-display','desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','cloneNode','wheel','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการติดดาว','student-result-area','practice-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','custom-math-topic-input','firstScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pair-quiz-btn','start-quiz-btn','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','bg-red-500','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bg-green-200','quizMode','.star-quiz-btn','จากเนื้อหาต่อไปนี้:\x20\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','score','height','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','link-input-area','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','.pointsLastQuestion','border-green-700','4346424iqECYe','timer-duration-label','bg-emerald-100','.project-card-container[data-id]','prod','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','ฟังก์ชันลอการิทึม','round','confirm-global-live-btn','fa-user-astronaut\x20text-blue-700','lobby','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-50','passingScore','option','text-gray-500','\x22>ไม่ใช่</p>','ทศนิยม\x20(ค่าประจำหลัก)','10684UMnevP','checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','เกิดข้อผิดพลาดในการปักหมุด','answerText','ผลรวมอนุกรม\x20(Σ)','fa-crown\x20text-yellow-500','จับคู่แบบทดสอบสำเร็จ!','restore','bulk-quiz-settings-modal','.isScored','startsWith','input[name=\x22drill_answer\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','color','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','presentation-scratchpad-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการตรีโกณมิติ','[*]','student-project-leaderboard-tab','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','close','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','อนุพันธ์:\x20กฎลูกโซ่','.color-palette-popup','total','student-view','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','execCommand','จากไฟล์ที่แนบมานี้,\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','appendChild','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','<span\x20class=\x22font-bold\x20','Error\x20updating\x20pin\x20status:','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','show_pass_fail_only','\x22\x20ซึ่งมีทั้งหมด\x20','[data-topic-container-id]','<li>','points','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','user','NUMBER','ความชันเส้นสัมผัส','scratchpad-question','อนุพันธ์:\x20กฎพื้นฐาน','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','querySelectorAll','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','</p></div>','quiz-start-time','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คู่\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','ไม่พบเอกสารการส่งงานของ\x20','destroy','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','tan','export-worksheet-pdf-btn','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','Error\x20updating\x20old\x20quizzes:','.delete-svg-btn',',\x20r=','topic-input','เกิดข้อผิดพลาดในการบันทึก','</tr>','scheduled_pending','ถูกต้อง!','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','พื้นที่วงกลม/ส่วนของวงกลม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','close-comparison-modal-footer-btn','คำเตือน\x20(','34641vGyBOZ','interesting-stats-wrapper','Error\x20saving\x20project\x20order:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','display','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','dashboardConfig','กำลังสแกนหาแบบทดสอบเก่า...','bg-amber-100\x20text-amber-800','แผนการสอน','rgba(16,\x20185,\x20129,\x200.7)','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','button[type=\x22submit\x22]','คะแนน','เกิดข้อผิดพลาดในการสร้างใบงาน','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-count','isPinned','<br>','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','STOP','live-submit-short-answer-btn','อนุพันธ์:\x20ผลคูณ/ผลหาร','student-progress-content','lessonPlan','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','Error\x20regenerating\x20question\x20in\x20editor:','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x20mx-1\x20text-lg\x22></i></span>','สร้างคำถามแบบใช่/ไม่ใช่','touchmove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','bg-green-500','status','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22',';\x22\x20data-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','modal-timer-duration-input','ดอกเบี้ยอย่างง่าย','finishReason','move-quiz-modal','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','input[type=\x22radio\x22][value=\x22','\x20\x20\x20-\x20','Failed\x20to\x20get\x20hint:','isAdaptive','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','stroke','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','some','quizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','both','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','user-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-quiz-btn','ยอดเยี่ยม!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20data-topic=\x22','worksheet-tab','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.presentation-option','choices_only','removeEventListener','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','.submittedAt','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','fix\x20the\x20option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','preventDefault','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','text-tab','keydown','latestScore','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','mode-switcher-btn','เรขาคณิตวิเคราะห์','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','ON_FIRE','cancel-quiz-edits-btn-footer','leq','$1^{\x5ccirc}\x5ctext{C}','PERFECT_SCORE','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','highlighter-tool-btn','<div\x20class=\x22answer-space\x22></div>','toLocaleString','check-presentation-answer-btn','เกิดข้อผิดพลาดในการโหลดโปรเจค',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','COMEBACK_KING','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','quiz-results','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','confirm-admin-login-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','duration-300','delete','หมดเวลาสำหรับข้อนี้!','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','Error\x20saving\x20visibility\x20settings:','undefined','join-live-game-btn','ring-2','bar','export-leaderboard-word-btn','getElementById','quiz-status-options','กรุณาใส่ชื่อโปรเจค','.regenerate-question-editor-btn','.ideal-answer-input','opacity-50','ทฤษฎีทวินาม\x20(เบื้องต้น)','การหารทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submission-status-chart','<option\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ควรปรับปรุง','^{\x5ccirc}\x5ctext{C}$','upperGroupResponders','ย้ายแบบทดสอบสำเร็จ','show_results_and_answers','\x5cfrac{$1}{$2}','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','trail','include-images-checkbox','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','เลือกและบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Remedial\x20quiz\x20generation\x20failed:','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','fullscreenElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join','</option>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','bg-green-200\x20text-green-800','toString','live-game','attempts','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','fromCharCode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22...','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','Leaderboard\x20update\x20transaction\x20failed:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','style','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เปิดใช้งาน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','หัวข้อที่สร้างเอง','ตัวแปรและนิพจน์','sqrt','student-name-select','GlobalWorkerOptions','ส่งแล้ว','\x0a\x20\x20\x20\x20','\x22,\x20','sum','ไม่มี','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','เกิดข้อผิดพลาดในการอัปเดต:\x20','ชนิดของข้อมูลและการเก็บข้อมูล','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','ยืนยันและอัปเดตทั้งหมด','admin-dashboard','#retake-for-improvement-btn','</div>','quiz','\x5cdiv','globalCompositeOperation','ผู้ไม่ยอมแพ้','label[for=\x22num-questions\x22]','<span\x20class=\x22sort-indicator\x20ml-2\x22>','actions-container-','arrayBuffer','$1\x20\x5cfrac','gamePin','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','ทฤษฎีบทพื้นฐานของแคลคูลัส','สมการค่าสัมบูรณ์','กำลังสร้างคำถามข้อ\x20','#FEE2E2','commit','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','isArray','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','uid','</span>','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','ค่าสัมบูรณ์','</p>','getAttributeNS','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','name','toISOString','<li\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ตรวจพบการออกจากหน้าจอครบ\x20','bulk-loop-until-pass-checkbox','player-list-lobby','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','text-indigo-600','):\x20','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','autoTable','export-tutor-pdf-btn','</th>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-900','touchend','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','admin-password-modal','rename-quiz-modal','ไม่มีคำอธิบาย','pow','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มัธยฐาน','ring-purple-400','text-green-700\x20bg-green-100','\x22\x20ให้เป็นคำถามประเภท\x20\x22','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','.answeredCurrentQuestion','onload','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','text-indigo-700','quizType','fas\x20fa-star\x20text-yellow-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','getBBox','<p>','ฟังก์ชันราก\x20(root)','quiz-results-table-body','ยังไม่มีนักเรียนส่งงาน','.lastAnswerCorrect','match','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','map','scratchpad-canvas','localeCompare','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','ระยะเวลา\x20(วินาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','การนับ','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','แก้ระบบสมการด้วยเมทริกซ์','กำลังสร้างแบบทดสอบจากหัวข้อ...','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','ลบแบบทดสอบสำเร็จแล้ว','</strong></p>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','submittedAt','<tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','delete-svg-btn','button','Authentication\x20failed:','.live-summary-tooltip.visible','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','ตรวจทานเฉลยเสร็จสิ้น!','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','touch','fa-shield-alt\x20text-gray-600','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20showing\x20quiz\x20detail\x20view:','ดีมาก','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','input[type=\x22checkbox\x22]','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','.csv','blur','image/png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','อินเวอร์สของเมทริกซ์','\x20หัวข้อ)','medium','0\x200','doughnut','อัปเดตการตั้งค่าของแบบทดสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','repeat','select-all-topics-btn','endTime','studentName','Error\x20fetching\x20student\x20rankings:','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','สามเหลี่ยม\x20(ชนิด/สมบัติ)','ฟังก์ชันเชิงเส้นและกราฟ','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','ตารางความถี่','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','date_desc','has','generate-from-text-btn','text-red-800','quiz-bank-modal','.quiz-bank-settings-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','lesson-plan-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x09\x09\x09<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ผ่านฉลุย','release','topic','comparison-modal','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','result','results','รีเซ็ตลำดับโปรเจคแล้ว','ตอบถูก\x203\x20ข้อติดต่อกัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-blue-100\x20text-blue-800','เวกเตอร์และเมทริกซ์\x20(เสริม)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','click','(เลือกแล้ว\x20','isRemedial','perseverance','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความเท่ากันทุกประการของสามเหลี่ยม','starred','\x5cpm','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','timerMode','left','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','.topic-actions-view','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','cancel-quiz-bank-btn','live-player-management','API\x20call\x20failed\x20with\x20status:\x20','lastAnswerCorrect','ข้อต่อไป','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','opacity','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','passing-score-input','top','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','cancel-admin-login-btn','มุมและการวัดมุม','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','\x5ctimes','per-question-text','ส่งคำตอบ','imageCode','lesson-plan-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','.toggle-actions-btn','update-old-quizzes-btn','bestScore','ระบบอสมการ','การลบทศนิยม','Error\x20updating\x20quiz\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','mean','bg-green-50','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','project-detail-view','add-student-btn','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20adding\x20custom\x20topic:','null','write','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','confirm-quiz-settings-btn','per-q-countdown','\x20สำเร็จ','beginPath','985NluMzu','ท็อปฟอร์ม','คณิตศาสตร์','scores-tab-btn','.status','on_fire','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','multiply','#view-rankings-btn','presentation-short-answer-input','\x20(p=','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ฟังก์ชันยกกำลัง','ศูนย์','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','สร้างแบบทดสอบ','เส้นตรง:\x20ขนาน/ตั้งฉาก','อัตราและอัตราหน่วย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-700\x20bg-red-100','students','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','px,\x20','.project-card-container:not(.opacity-50)','#10B981','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','application/json','px)\x20scale(','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','circ','Error\x20duplicating\x20quiz:','Error\x20deleting\x20all\x20students:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ai-fix-question-btn','.ideal-answer-input,\x20.correct-response-input','fa-pen','(หลังเรียน)\x20','สมการเหตุผล\x20(rational)','practiceProblems','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-results-display-select','POST','next-question-btn','true_false','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','view-my-progress-btn','add-custom-math-topic-btn','name_asc','blockReason','scratchpad-options','binom','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','ไม่พบตารางสำหรับ\x20Export','Error\x20loading\x20quiz\x20for\x20student:','next-drill-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','setItem','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','shuffle','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','bg-purple-50','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','แบบทดสอบนี้ปิดใช้งานอยู่','cancel-quiz-status-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','สู้ๆ\x20ลองอีกครั้งนะ','start-presentation-btn','instructions','prev-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','pointermove','red','math-topics-checkbox-container','พื้นที่สามเหลี่ยม','toggle','.delete-submission-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','normal','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','\x5c\x5c\x5c\x5c(?=(','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พาราโบลา','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','random','bank-input-area','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','line-through\x20text-red-700','.quiz-bank-move-btn','text-yellow-300','list','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','อัปเดตสถานะสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','half_mark_status','.correct-response-input','BOOLEAN','blueprint-tab','องค์ประกอบของฟังก์ชัน','.color-palette-btn','link-tab','quiz-results-view','quiz-editor-modal','pairedQuizId','toDate','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','artifacts/','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','สร้างโปรเจคสำเร็จ!','<option>กำลังโหลดโปรเจค...</option>','.admin-try-quiz-list-btn','.pin-project-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สรุปผลสุดท้าย','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','resultsDisplay','สร้างคำถามใหม่\x201\x20ข้อ\x20','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','questions','questionId','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','reset-project-order-btn','ดอทโปรดักต์\x20(dot)','timestamp','passcode-prompt-message','admin-view','analytics-tab-content','worksheet-topic-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','screen','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่','ฟังก์ชันแบบชิ้นส่วน','จำนวนข้อ:','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','admin-try-quiz-btn','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','fill_in_with_choices','bg-gray-500','.quiz-bank-delete-btn','copy-quiz-id-btn','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','leaderboard','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','behavior-log','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','ความคล้ายของรูป','docs','pinned-items','/preferences/main','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','title','แก้ไขหัวข้อสำเร็จ','มุมพิเศษ\x2030°-60°-90°','ai-quiz-app-aefee','createdAt','กรุณาเลือกโปรเจคปลายทาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22','พีชคณิตและฟังก์ชัน','fill_in_no_choices','จำนวนและการดำเนินการ','Error\x20pairing\x20quizzes:','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','replace','transparent','-tab','attemptNumber','$1^{\x5ccirc}','analytics-tab-btn','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','confirm-move-quiz-btn','visibilityState','ยังไม่เต็มนะ','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x5cneq','quiz-editor-questions-container','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','timer-bar','retake-quiz-loop-btn','.lastAnswerValue','force-math-checkbox','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','scheduled','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','\x22\x5cn','grid-view-btn','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','data','trail-tool-btn','lowerGroupResponders','กำลังจับคู่...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','bg-red-100','quadraticCurveTo','quiz-generation-area','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','startTime','\x22\x20value=\x22true\x22\x20','เปิด\x20(จับเวลา)','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','innerText','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','div[data-question-index=\x22','เรเดียนและการแปลงหน่วย','grabbing','Error\x20listening\x20for\x20student\x20profiles:','starred-project','ระยะจากจุดถึงเส้นตรง','<option\x20value=\x22\x22>กำลังโหลด...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การบวก','far\x20fa-star','parallel-test-input-area','setTransform','scrollY','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','rows','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','screen_exit','scratchpad-close-btn','ความชันและเส้นตรง','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','q-explanation-','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','perfect_score','.generate-lesson-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','table','Error\x20displaying\x20question\x20bank:','\x22\x20class=\x22color-palette-btn\x20','quiz-leaderboard-table-container','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','leaderboard-table-body','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','#000000','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onerror','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','eraser','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','strokeStyle','loopUntilPass','กรุณาป้อนหัวข้อสำหรับใบงาน','cancel-quiz-settings-btn','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','save-settings-btn','\x22><p\x20class=\x22font-semibold\x22>','from','undo-btn','generate-from-topic-btn','\x22\x20name=\x22question','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','devicePixelRatio','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','reference-pdf-upload','Error\x20saving\x20questions\x20to\x20practice\x20bank:','bg-green-100\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correct','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','projectName','เปลี่ยนชื่อโปรเจคสำเร็จ','submissions','Original\x20quiz\x20not\x20found','-tab-content','อัตราการเปลี่ยนแปลงทันที','</p><p><strong>เฉลย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','shadowColor','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','confirmation-modal','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','right','mjx-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','length','\x22\x20เพื่อสร้างชุดคู่ขนาน...','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','split','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-quizzes-list','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','createElement','การสร้างรูปด้วยวงเวียน–สันตรง','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','N/A','student-list','num-choices','text-white','generate-worksheet-btn','parallel-test-upload-input','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันค่าสัมบูรณ์','/users/','\x22\x20data-q-type=\x22','อสมการค่าสัมบูรณ์','</label>\x0a\x20\x20\x20\x20</div>\x0a','lowerGroupNames','4343521rIRQHX','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','difficulty-level-select','q-image-container-','overallGroups','global-live-game-count','.compare-results-btn','qType','back-to-project-btn','scale','ไม่พบโปรเจค','back-to-dashboard-from-results-btn','text-red-700','project-list','ใช่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','ARRAY','hint','</div>\x0a</div>\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','Error\x20committing\x20score\x20updates:','summary_chart','jspdf','bg-yellow-50','catch','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','generate-from-file-btn','<span\x20title=\x22','helvetica','outerHTML','toLowerCase','size','quiz-leaderboard-table-body','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','bank-quiz-search-input','เกิดข้อผิดพลาดในการจับคู่','text-green-700','.verification-result','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','kick-player-btn','\x20mr-2\x22></i>','modal-loop-until-pass-checkbox','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','redo-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','.edit-quiz-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','.question-editor-item','leaderboard-tab-content','bg-red-50','4107rIVDeQ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','th-TH','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','deselect-all-topics-btn','project-passcode-input','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','export-leaderboard-image-btn','AI\x20request\x20was\x20blocked.\x20Reason:\x20','set','scratchpad-clear-btn','index','ไม่มีผู้ตอบตัวเลือกนี้','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','AI\x20Fix\x20Error:','cancel-passcode-btn','readAsDataURL','options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','questionIndex','เกิดข้อผิดพลาดในการลบนักเรียน','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pen','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','matching','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','{$1}','$1_{$2}','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','min','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','(คู่ขนาน)\x20','timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','confirm-join-game-btn','settings','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','AI\x20grading\x20failed:','manage','input','แบบทดสอบจากคลังส่วนตัว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/public/data/quizzes','(ก่อนเรียน)\x20','ลบหัวข้อสำเร็จ','\x22\x20class=\x22pin-project-btn\x20','includes','content','<button\x20data-quiz-id=\x22',')\x5cb)','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','QUICK_THINKER','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','class','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','function','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','lineWidth','export-pdf-btn','Error\x20generating\x20worksheet:','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','บันทึกการตั้งค่าสำเร็จ','298uUBDvq','filter','questions_only','visible','</body></html>','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','.topic-name-input','<svg','name_desc','postScore','<div\x20class=\x22flex-1\x22></div>','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','การคูณเศษส่วน','project-id-display','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','insertAdjacentHTML','question-complexity-select','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','highlighter','ลบโปรเจคสำเร็จแล้ว','link-topic-input','#e21b3c','</span></p>','no-projects-msg','manage-tab-content','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','webkitRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','(^|[^\x5c\x5c])\x5cb','</form>','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','คัดลอกรหัสแล้ว!','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','export-excel-btn','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','show-leaderboard-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-compact-pdf-btn','live-options-container','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','ไม่สามารถบันทึกการตั้งค่าได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-type-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่สามารถสร้างโปรเจคได้','text-gray-100','00:00','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','removeChild','เกิดข้อผิดพลาดในการลบแบบทดสอบ','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','คะแนนเต็ม!','รูปแบบการให้เหตุผล','dragend','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','list-view-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','ราชาคัมแบ็ก','admin-password-input','student-initial-view','icon','คำถามดิบ:\x20\x22','.group','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','presentation-explanation','\x20pointer-events-none\x22>','quiz-schedule-end-container','pre-test','ไม่สามารถเพิ่มนักเรียนได้','save-quiz-edits-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','\x20ครั้ง)</span></td>','baseVal','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตอบถูกทุกข้อในแบบทดสอบนี้','href','.topic-name-display','คำถามถัดไป','.quiz-bank-try-btn','```json','/studentProfiles','innerHTML','ตรีโกณมิติ','MathJax\x20typeset\x20error\x20(analytics):','จำนวนเต็มลบ','download','input[type=\x22radio\x22]:checked','ai-quiz-generator-v3','ไม่พบข้อมูลผู้ใช้','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','mousemove','findIndex','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','rgba(79,\x2070,\x20229,\x200.8)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','กรุณาเลือกสถานะ','button[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-word-btn','modal-close-btn','.quiz-settings-btn','\x20รายการ...','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','print','frac','label','results-tab-content','.option-text','removeAttribute','text','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','request','open-scratchpad-btn','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','ความแปรปรวน','_opt1\x22>ไม่ใช่</label></div>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-content','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','editor-quiz-topic','G-V90KRM0L63','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','message','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','NEGATIVE_INFINITY','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','answering','\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','rgba(79,\x2070,\x20229,\x201)','correctAnswer','Error\x20fetching\x20projects\x20for\x20move:','\x22>จาก:\x20','PERSEVERANCE','\x22\x20value=\x22false\x22\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-project-btn','lesson-plan-content','parent','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','กรุณาเลือกไฟล์ก่อน','behaviorLog','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-green-100','totalQuestions','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','\x20/\x20','Error\x20generating\x20parallel\x20post-test:','.quiz-bank-parallel-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','mouseleave','.project-card-container.opacity-50','parse','dispatchEvent','createObjectURL','save','ระบบเลขและค่าประจำหลัก','\x22.\x20Ideal\x20Answer:\x20\x22','สร้างคำถามแบบเติมคำในช่องว่าง','#results-table\x20thead\x20tr','fadeStartTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','คัดลอกไม่สำเร็จ','mouseup','9349600JaSjyp','explanation','<i\x20class=\x22fas\x20fa-save\x22></i>','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','players','.doc','solution','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','modal-passing-score-input','results-table','questionText','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','analytics','\x22\x20name=\x22question_single\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','fixedData','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','คะแนนเต็ม','svg','setFont','live-game-view','\x20ตัวเลือก.\x20','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22q','text-green-600','กรุณาเลือกชื่อของคุณ','ค่าเฉลี่ย','เกิดข้อผิดพลาดในการสร้างห้องเกม','generate-from-blueprint-btn','thead','cancel-create-project-btn','export-pdf-modal','แผนภาพเวนน์','live-short-answer-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isScored','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','เกิดข้อผิดพลาดในการลบโปรเจค','$1\x5ctext{','manage-players-btn','การคูณทศนิยม','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','exists','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20from\x20blueprint:','tooltipTarget','max','admin','ข้อที่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x5cfrac','contains','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','rgba(239,\x2068,\x2068,\x200.7)','open-global-live-btn','fas\x20fa-bookmark','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','student-quiz-leaderboard-tab','mouse','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','createElementNS','value','quiz-id-input','close-lesson-plan-modal-footer-btn','.\x20แต่ละข้อมี\x20','กฎบวกและกฎคูณ','showInStudentDashboard','Error\x20adding\x20students:','touchstart','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','candidates','.start-presentation-list-btn','กฎของโคไซน์','classWeaknesses','authed_project_','preTScore','standardTopic','canvas','justification','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','back-to-results-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-600\x20font-bold','ความน่าจะเป็นแบบมีเงื่อนไข','(ก่อนเรียน)','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','ฮิสโตแกรม','temp-loader-results','error','Error\x20verifying\x20answers\x20in\x20editor:','rgba(255,\x20255,\x200,\x200.5)','sort','แบบทดสอบซ่อมเสริม','entries','geq','get','$1^{$2}','save-visibility-settings-btn','approx','.choice-text','<div\x20id=\x22q-image-container-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','post-test','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','originalQuestionText','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','back-from-results-btn','/public/data/projects','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','หมดเวลา!\x20กำลังส่งคำตอบ...','allResponses','closePath','ค่าคลาดเคลื่อนของการวัด','แผนการสอน:\x20','สถิติและความน่าจะเป็น','Error\x20generating\x20lesson\x20plan:','comparison-overall-tab','Error\x20saving\x20quiz\x20edits:','เกิดข้อผิดพลาดในการโหลดสถานะ','บันทึกการแก้ไข','viewBox','.edit-question-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','</li>','fullscreenchange','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','modal-timer-duration-label','badgesCount','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt0\x22>ใช่</label></div>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-export-pdf-btn','Failed\x20to\x20kick\x20player\x20','answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectOrder','quiz-status-modal','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','student-quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','btn','touches','\x5cle','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','ข้อ\x20','จำนวนนักเรียน','```','<tr><td\x20colspan=\x22','save-project-name-btn','Error\x20opening\x20quiz\x20editor:','/public/data/quizzes/','presentation-slide-container','student-passcode-input','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','num-choices-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','Error\x20comparing\x20results:','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','generate-from-parallel-test-btn','offsetWidth','stem','.delete-quiz-btn','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','font-bold\x20text-green-700','ชื่อหัวข้อห้ามว่าง','quiz-end-time','global-quiz-list','strength-weakness-analysis-container','start-game-btn','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','show_results_only','confirm-quiz-status-btn','open','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-overall-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','คะแนนยังไม่ถึงครึ่ง','พิสัย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pointerup','show-in-student-dashboard-checkbox','files','_blank','multiple_choice','translate(','Error\x20updating\x20custom\x20topic:','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','results-quiz-title','เงินงวด\x20(อนุกรมเงินงวด)','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','short_answer','contentEditable','standard','focus','blueprint-upload-input','getTextContent','การประยุกต์เวกเตอร์พื้นฐาน','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','manage-tab','project-dashboard-view','.cancel-edit-topic-btn','อัปเดตพฤติกรรมสำหรับ\x20','padStart','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','end-game-btn','passcode-error-msg','เศษส่วน\x20(ย่อ/ขยาย)','idealAnswer','bg-red-200\x20text-red-800','eraser-tool-btn','loader-text','gain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','perfect_score_status','Error\x20deleting\x20custom\x20topic:','loader','AI\x20Formula\x20Fix\x20Error:','num-questions','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','verify-answers-editor-btn','sin','code','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointerdown','.ai-fix-formula-btn','\x20จาก\x20','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','<div\x20class=\x22','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-sort-select','hint-btn','หน่วยความยาวและการแปลง','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','select','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','move-quiz-project-select','cos','Error\x20starting\x20live\x20race:','projectSortOrder','rgba(239,\x2068,\x2068,\x200.9)','</span></div>','/public/data/projects/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','.regenerate-question-btn','math-topic-search-input','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','แบบปรนัย\x204\x20ตัวเลือก','modal-results-display-select','.score','pointsLastQuestion','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','คณิตการเงิน/บูรณาการ','webkitExitFullscreen','add','สำหรับโปรเจค:\x20','บันทึกคำถามใหม่\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','generate-from-link-btn','correctResponse','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','postTScore','presentation-ai-result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','quiz-leaderboard-table','question-analytics-container','กำลังอัปเดตแบบทดสอบ\x20','qIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จุด\x20เส้น\x20ระนาบ','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','interesting-stats-container','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','274192258111','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','export-image-btn','เกิดข้อผิดพลาดในการบันทึกลำดับ','.save-custom-topic-btn','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','.save-to-bank-btn','#math-topics-checkbox-container\x20input:checked','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','neq','Error\x20toggling\x20pin\x20status:','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','toDataURL','\x20ข้อ\x20','เกี่ยวกับหัวข้อ\x20\x22','แบบทดสอบ:\x20','preScore','/public/data/liveGames','answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','load-quiz-btn','modal-timer-mode-select','scratchpad-modal','Error\x20during\x20class\x20analysis:','ไม่ใช่','เส้นรอบรูป','text-green-800','bulk-shuffle-select','false','ลิมิต','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','อัปเดตแบบทดสอบเก่า\x20','กรุณาใส่ชื่อใหม่','trim','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','update','modal-timer-duration-container','ความคาดหมาย\x20(Expected\x20value)','visibilitychange','การแจกแจงทวินาม\x20(พื้นฐาน)','msRequestFullscreen','first_try_ace','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','goto-next-question-btn','#E0E7FF','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','warn','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','วงกลม:\x20คอร์ดและเส้นสัมผัส','project-passcode-modal','student-rankings-modal','generated-quiz-container','textarea','/submissions','transform','OBJECT','%</span>','พื้นที่ผิวรูปทรงสามมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','find','ไม่ผ่าน','stopPropagation','typesetPromise','text-yellow-800','จำนวนเชิงซ้อน\x20(เสริม)','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x5csqrt{$1}','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','badges','onclick','worksheet-input-area','กราฟแท่ง\x20กราฟเส้น','Error\x20saving\x20user\x20preference:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','text-indigo-800','behavior-log-tab-btn','fa-fire\x20text-orange-500','projectId','/questionBank','text/html','ปริพันธ์จำกัด','\x20ใหม่...','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ผิด','timer-duration-input','requestFullscreen','position','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','learningGaps','กรุณาวาง\x20URL\x20ของบทความก่อน','.draggable-text','cursor','-\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perQuestionStats','comparison','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','hidden','shadowBlur','json','ความต่อเนื่อง','#F59E0B','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','<p\x20class=\x22','message-modal','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','quiz-schedule-start-container','passcode','active','teacherSuggestions','drop','สัญกรณ์วิทยาศาสตร์','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','comparison-individual-tab','analyze-strengths-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contents','indexOf','link-url-input','pre-test-checkbox','fill','lastAnswerIndex','Error\x20listening\x20for\x20starred\x20quizzes:','transformOrigin','deltaY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','scratchpad-header','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-search-input','สมมาตร\x20(แกน/จุด)','currentQuestionIndex','document','adaptive-quiz-checkbox','timerDuration','text-emerald-900','upper_group_count','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','.highlighter-color-btn','touchcancel','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','เกิดข้อผิดพลาดในการเข้าร่วมเกม','\x22>ใช่</p>','quick_thinker','modal-shuffle-select','all','targetId','หลังเรียน','border-green-300\x20bg-green-50','editable-quiz-topic','.pen-size-btn','latestSubmittedAt','(ฉบับง่าย)\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<button\x20id=\x22','flex','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','text/csv;charset=utf-8;','topic-input-area','ownerSVGElement','pop','cancel-quiz-edits-btn','<div\x20class=\x22my-6\x22>','querySelector','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','getBoundingClientRect','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','dataIndex','whole_quiz','answer-counter','after','เปลี่ยนชื่อแบบทดสอบสำเร็จ','รอเปิด','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','keyup','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','progress-project-select','project-search-input','การคูณ','numeric','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','answeredCurrentQuestion','แบบทดสอบที่ติดดาว','grid','move','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','border-indigo-400\x20ring-2\x20ring-indigo-200','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','bottom','input[type=\x22text\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','close-comparison-modal-btn','lower_group_count','ผ่าน','projectSort'];_0x4270=function(){return _0x228a30;};return _0x4270();}async function gradeShortAnswerWithAI(_0x1613df,_0x29804a){const _0x548249=_0x50f1a4;if(!_0x1613df||!_0x29804a)return![];try{const _0x3b93f9=_0x548249(0x627)+_0x1613df+_0x548249(0x587)+_0x29804a+_0x548249(0x2ec),_0x1c8789={'contents':[{'role':'user','parts':[{'text':_0x3b93f9}]}]},_0x448299=_0x548249(0x883),_0x2cd787='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x448299,_0xa7443a=await fetch(_0x2cd787,{'method':_0x548249(0x33e),'headers':{'Content-Type':'application/json'},'body':JSON[_0x548249(0xe2)](_0x1c8789)});if(!_0xa7443a['ok'])throw new Error(_0x548249(0x70));const _0x44d26d=await _0xa7443a[_0x548249(0x729)](),_0x30ff18=_0x44d26d[_0x548249(0x5d8)][0x0][_0x548249(0x4c4)][_0x548249(0x795)][0x0][_0x548249(0x551)][_0x548249(0x6e3)]()['toLowerCase']();return _0x30ff18===_0x548249(0x7c);}catch(_0x299e69){return console[_0x548249(0x5ec)](_0x548249(0x4b7),_0x299e69),![];}}async function processAndSubmitAnswers(_0xd69c87,_0x51cb8b){const _0x4dc93a=_0x50f1a4;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x4dc93a(0x1c3)](_0x4dc93a(0x611),handleFullscreenChange),document[_0x4dc93a(0x1c3)]('visibilitychange',handleVisibilityChange);let _0x46695c=0x0,_0x236060=0x0,_0xcba2b1=[];const _0x5959b3=[],_0x4be522=currentDisplayedQuiz[_0x4dc93a(0x393)][_0x4dc93a(0x43f)];let _0x444b38=0x0;const _0x40ab1e=currentDisplayedQuiz['questions'];for(let _0x181256=0x0;_0x181256<_0x40ab1e[_0x4dc93a(0x43f)];_0x181256++){const _0x56a4c1=_0x40ab1e[_0x181256],_0x361ebd=_0xd69c87[_0x181256],_0x50bbca=_0x56a4c1['questionType']||currentDisplayedQuiz['quizType'];let _0x4974b6=![];if(_0x361ebd!==null&&_0x361ebd!=='')switch(_0x50bbca){case _0x4dc93a(0xcf):_0x4974b6=_0x361ebd===_0x56a4c1[_0x4dc93a(0x6af)];break;case _0x4dc93a(0x340):const _0x4925f0=_0x361ebd===!![]||_0x361ebd==='true';_0x4974b6=_0x4925f0===_0x56a4c1[_0x4dc93a(0x56b)];break;case _0x4dc93a(0x802):case'multiple_choice':default:_0x4974b6=Number(_0x361ebd)===_0x56a4c1[_0x4dc93a(0x7b0)];break;case _0x4dc93a(0x65e):_0x4974b6=await gradeShortAnswer(_0x361ebd,_0x56a4c1);break;}_0x4974b6?(_0x46695c++,_0x444b38++,_0x444b38===0x3&&(_0xcba2b1[_0x4dc93a(0x8b6)](BADGES[_0x4dc93a(0x1d4)]['id']),_0x444b38=0x0)):_0x444b38=0x0;let _0x4d7324=null;_0x56a4c1['options']&&_0x361ebd!==null&&(_0x4d7324=_0x56a4c1['options'][_0x361ebd]),_0x5959b3[_0x4dc93a(0x8b6)]({'questionId':_0x56a4c1['id'],'answer':_0x361ebd,'answerText':_0x4d7324,'isCorrect':_0x4974b6,'originalQuestionText':_0x56a4c1['stem']||_0x56a4c1['questionText']});}_0x236060=_0x46695c*0xa;_0x46695c===_0x4be522&&_0x4be522>0x0&&!currentDisplayedQuiz[_0x4dc93a(0x2d9)]&&(_0x236060+=0x32,_0xcba2b1[_0x4dc93a(0x8b6)](BADGES['PERFECT_SCORE']['id']));const _0x469d15=currentDisplayedQuiz['settings']?.['passingScore']??Math[_0x4dc93a(0x136)](_0x4be522/0x2),_0x32db52=currentDisplayedQuiz[_0x4dc93a(0x4b5)]?.['timerMode'];if(_0x32db52==='whole_quiz'&&quizStartTime){const _0x4aa525=(new Date()-quizStartTime)/0x3e8,_0x48c837=currentDisplayedQuiz[_0x4dc93a(0x4b5)][_0x4dc93a(0x74e)]*0x3c;_0x46695c>=_0x469d15&&_0x4aa525<_0x48c837/0x2&&(_0x236060+=0x14,_0xcba2b1[_0x4dc93a(0x8b6)](BADGES[_0x4dc93a(0x4c8)]['id']));}_0x51cb8b[_0x4dc93a(0x43f)]===0x0&&_0x46695c===_0x4be522&&_0x4be522>0x0&&_0xcba2b1[_0x4dc93a(0x8b6)](BADGES[_0x4dc93a(0x7be)]['id']);if(_0x51cb8b[_0x4dc93a(0x43f)]>0x0){const _0x1547de=_0x51cb8b[0x0][_0x4dc93a(0x105)];if(_0x1547de<_0x469d15&&_0x46695c>=_0x469d15){const _0x849efb=_0x51cb8b[_0x4dc93a(0x1b4)](_0xa9f59=>(_0xa9f59['badges']||[])['includes'](BADGES[_0x4dc93a(0x1e3)]['id']));!_0x849efb&&_0xcba2b1[_0x4dc93a(0x8b6)](BADGES[_0x4dc93a(0x1e3)]['id']);}}_0x51cb8b[_0x4dc93a(0x43f)]===0x4&&_0xcba2b1['push'](BADGES[_0x4dc93a(0x56e)]['id']);const _0x47b85e=currentDisplayedQuiz[_0x4dc93a(0x4b5)]['resultsDisplay'];if(currentMode==='admin-testing'){handleResultDisplay(_0x47b85e,_0x46695c,_0x236060,_0xcba2b1,_0x5959b3,_0x4be522);return;}const _0x19c74a=currentQuizData['id'],_0x1ae068=doc(db,_0x4dc93a(0x385)+appId+_0x4dc93a(0x62f)+_0x19c74a+_0x4dc93a(0x6fa),currentStudentName);try{const _0x2bb9c9=[..._0x51cb8b],_0x24964d={'score':_0x46695c,'points':_0x236060,'badges':_0xcba2b1,'submittedAt':new Date()['toISOString'](),'answers':_0x5959b3};_0x2bb9c9['push'](_0x24964d);const _0xa4f80a=_0x2bb9c9[0x0]['score'],_0x5ead14=Math[_0x4dc93a(0x5bd)](..._0x2bb9c9['map'](_0x2762ee=>_0x2762ee[_0x4dc93a(0x105)])),_0x8ee23c=_0x46695c,_0x484277=_0x24964d[_0x4dc93a(0x28f)];await setDoc(_0x1ae068,{'studentName':currentStudentName,'totalQuestions':_0x4be522,'attempts':_0x2bb9c9,'firstScore':_0xa4f80a,'bestScore':_0x5ead14,'latestScore':_0x8ee23c,'points':_0x236060,'latestSubmittedAt':_0x484277},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x4dc93a(0x713)],currentStudentName),handleResultDisplay(_0x47b85e,_0x46695c,_0x236060,_0xcba2b1,_0x5959b3,_0x4be522);}catch(_0x2bc12c){console[_0x4dc93a(0x5ec)]('Error\x20saving\x20submission:',_0x2bc12c),showMessage(_0x4dc93a(0x435));}}async function updateStudentProfile(_0x3d8c88,_0x2c7de2){const _0x307ef2=_0x50f1a4,_0x4011ba=doc(db,_0x307ef2(0x385)+appId+_0x307ef2(0x699)+_0x3d8c88+_0x307ef2(0x534),_0x2c7de2);try{const _0x5c2403=query(collection(db,_0x307ef2(0x385)+appId+_0x307ef2(0x4bf)),where(_0x307ef2(0x713),'==',_0x3d8c88)),_0x6b1e8e=await getDocs(_0x5c2403),_0x586fb1=new Map(_0x6b1e8e[_0x307ef2(0x3b3)][_0x307ef2(0x27d)](_0xab5a67=>[_0xab5a67['id'],_0xab5a67['data']()])),_0xc7b79f=Array[_0x307ef2(0x41e)](_0x586fb1['keys']());await runTransaction(db,async _0xf8ac11=>{const _0x347964=_0x307ef2;let _0x8dbf5f=0x0;const _0x198e9c={};let _0x289ec5=!![],_0x239546=0x0,_0x5555dd=0x0;for(const _0x34c1b2 of _0xc7b79f){const _0x3a81e7=_0x586fb1[_0x347964(0x5f3)](_0x34c1b2),_0x3893ac=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x34c1b2+_0x347964(0x6fa),_0x2c7de2),_0x540a88=await _0xf8ac11[_0x347964(0x5f3)](_0x3893ac);if(_0x540a88[_0x347964(0x5b8)]()){const _0x310c88=_0x540a88['data'](),_0x723ae5=_0x310c88['attempts']||[];if(_0x723ae5['length']>0x0){const _0x45ef57=_0x723ae5[_0x347964(0x8b)]((_0x24b54e,_0x38e458)=>{const _0x81c713=_0x347964;if(_0x38e458[_0x81c713(0x105)]>_0x24b54e[_0x81c713(0x105)])return _0x38e458;if(_0x38e458['score']===_0x24b54e['score'])return(_0x38e458[_0x81c713(0x153)]||0x0)>(_0x24b54e[_0x81c713(0x153)]||0x0)?_0x38e458:_0x24b54e;return _0x24b54e;},{'score':-0x1,'points':-0x1});_0x45ef57[_0x347964(0x105)]>-0x1&&(_0x8dbf5f+=_0x45ef57[_0x347964(0x153)]||0x0,(_0x45ef57[_0x347964(0x70a)]||[])['forEach'](_0x4cac22=>{_0x198e9c[_0x4cac22]=(_0x198e9c[_0x4cac22]||0x0)+0x1;}));}}if(_0x3a81e7[_0x347964(0x2c9)]!==_0x347964(0x5f0)){_0x5555dd++;if(_0x540a88[_0x347964(0x5b8)]()){_0x239546++;const _0x415273=_0x540a88[_0x347964(0x3db)]();_0x415273[_0x347964(0x2fd)]!==_0x415273[_0x347964(0x57a)]&&(_0x289ec5=![]);}else _0x289ec5=![];}}_0x5555dd>0x0&&_0x239546===_0x5555dd&&_0x289ec5?_0x198e9c['specialist']=0x1:_0x198e9c['specialist']=0x0,_0xf8ac11[_0x347964(0x499)](_0x4011ba,{'studentName':_0x2c7de2,'totalPoints':_0x8dbf5f,'unlockedBadges':Object[_0x347964(0xfb)](_0x198e9c)['filter'](_0x4b6c0b=>_0x198e9c[_0x4b6c0b]>0x0),'badgesCount':_0x198e9c},{'merge':!![]});});}catch(_0x4c9797){console[_0x307ef2(0x5ec)](_0x307ef2(0x21d),_0x4c9797),showMessage(_0x307ef2(0x270));}}function startAdminTest(){const _0x1f38f8=_0x50f1a4;if(!currentQuizData){showMessage(_0x1f38f8(0x6f4));return;}let _0x153dee=JSON[_0x1f38f8(0x582)](JSON['stringify'](currentQuizData));currentMode=_0x1f38f8(0x7e),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x1f38f8(0x87b)][_0x1f38f8(0x6aa)](_0x1f38f8(0x727)),studentView[_0x1f38f8(0x87b)][_0x1f38f8(0x8e)](_0x1f38f8(0x727)),studentInitialView[_0x1f38f8(0x87b)]['add'](_0x1f38f8(0x727)),studentNameSelectionView['classList'][_0x1f38f8(0x6aa)](_0x1f38f8(0x727)),studentResultArea[_0x1f38f8(0x87b)]['add'](_0x1f38f8(0x727)),studentQuizArea[_0x1f38f8(0x87b)][_0x1f38f8(0x8e)](_0x1f38f8(0x727)),quizStartTime=new Date(),displayQuizForStudent(_0x153dee);}function handleResultDisplay(_0x172154,_0x37cb9e,_0x1187b2,_0x2b1534,_0x180f12,_0x456fb0){const _0x1d2b1f=_0x50f1a4;if(_0x172154===_0x1d2b1f(0x8c2)){displaySubmissionConfirmation();return;}const _0x1a43ea=currentDisplayedQuiz[_0x1d2b1f(0x4b5)]?.[_0x1d2b1f(0x11b)]??Math[_0x1d2b1f(0x136)](_0x456fb0/0x2),_0x27d25a=currentDisplayedQuiz[_0x1d2b1f(0x4b5)]?.[_0x1d2b1f(0x1af)]??![],_0x54c9f2=currentDisplayedQuiz[_0x1d2b1f(0x4b5)]?.[_0x1d2b1f(0x418)]===!![],_0x4b93be=_0x37cb9e<_0x1a43ea,_0x249e3e=_0x172154===_0x1d2b1f(0x379)||_0x172154===_0x1d2b1f(0x675);if(_0x54c9f2&&_0x4b93be&&!_0x249e3e){_0x172154===_0x1d2b1f(0x205)?displayResultsWithAnswers(_0x37cb9e,_0x1187b2,_0x2b1534,_0x180f12,_0x456fb0,!![]):displayLoopScreen(_0x37cb9e,_0x456fb0,_0x172154);return;}if(_0x27d25a&&_0x4b93be){startAdaptiveFlow(_0x180f12,_0x37cb9e,_0x456fb0);return;}switch(_0x172154){case'show_results_and_answers':displayResultsWithAnswers(_0x37cb9e,_0x1187b2,_0x2b1534,_0x180f12,_0x456fb0);break;case _0x1d2b1f(0x648):displayResultsScoreOnly(_0x37cb9e,_0x1187b2,_0x2b1534,_0x456fb0);break;case'show_pass_fail_only':displayPassFailOnly(_0x37cb9e,_0x456fb0);break;case _0x1d2b1f(0x379):displayHalfMarkResult(_0x37cb9e,_0x456fb0);break;case _0x1d2b1f(0x675):displayPerfectScoreResult(_0x37cb9e,_0x456fb0);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x4fc515){const _0x7ab0e1=_0x50f1a4;studentReadingArea[_0x7ab0e1(0x535)]=_0x7ab0e1(0x848);const _0x2c4c42=_0x7ab0e1(0x4a2)+_0x4fc515+_0x7ab0e1(0x5cd)+simpleMathPrompt+_0x7ab0e1(0x22a),_0x1cee44={'type':_0x7ab0e1(0x6fc),'properties':{'questionText':{'type':_0x7ab0e1(0xb6)},'options':{'type':_0x7ab0e1(0x467),'items':{'type':_0x7ab0e1(0xb6)}},'correctAnswerIndex':{'type':_0x7ab0e1(0x157)},'explanation':{'type':'STRING'}},'required':[_0x7ab0e1(0x598),_0x7ab0e1(0x4a1),_0x7ab0e1(0x7b0),_0x7ab0e1(0x58f)]},_0x31e89e={'type':_0x7ab0e1(0x6fc),'properties':{'topic':{'type':_0x7ab0e1(0xb6)},'questions':{'type':_0x7ab0e1(0x467),'items':_0x1cee44}},'required':['topic',_0x7ab0e1(0x393)]};try{const _0x4eddc2=await callAnalysisApi(_0x2c4c42,_0x31e89e);_0x4eddc2['isRemedial']=!![],studentReadingArea[_0x7ab0e1(0x87b)]['add'](_0x7ab0e1(0x727));const _0x2f796a={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x4eddc2[_0x7ab0e1(0x4b5)]=_0x2f796a,displayQuizForStudent(_0x4eddc2);}catch(_0x38b6df){console[_0x7ab0e1(0x5ec)](_0x7ab0e1(0x20d),_0x38b6df),showMessage(_0x7ab0e1(0x365)),showView(_0x7ab0e1(0xba));}}function displayPassFailOnly(_0x83bb2a,_0x351133){const _0x2ba708=_0x50f1a4,_0x1bd880=currentDisplayedQuiz[_0x2ba708(0x4b5)]?.[_0x2ba708(0x11b)]??-0x1,_0x3fd3de=currentDisplayedQuiz[_0x2ba708(0x2d9)]===!![];let _0x1c2d3d='',_0x317418=![];if(_0x3fd3de||_0x1bd880!==-0x1){_0x317418=_0x3fd3de?_0x83bb2a===_0x351133:_0x83bb2a>=_0x1bd880;const _0x4d3cd9=_0x317418?'bg-green-100\x20text-green-800':_0x2ba708(0x850),_0x3df189=_0x317418?_0x2ba708(0x78d):_0x2ba708(0x701);_0x1c2d3d=_0x2ba708(0x5c9)+_0x4d3cd9+'\x22>'+_0x3df189+'</span></div>';}else _0x1c2d3d='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0xef2e49=_0x2ba708(0x674)+currentStudentName+_0x2ba708(0x52d)+_0x1c2d3d+_0x2ba708(0x743);studentResultArea[_0x2ba708(0x535)]=_0xef2e49,studentResultArea['classList'][_0x2ba708(0x8e)](_0x2ba708(0x727)),studentQuizArea[_0x2ba708(0x87b)][_0x2ba708(0x6aa)](_0x2ba708(0x727)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x317418});}function cancelAdminTest(){const _0x51bd94=_0x50f1a4;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener']('fullscreenchange',handleFullscreenChange),document[_0x51bd94(0x1c3)](_0x51bd94(0x6e8),handleVisibilityChange),currentMode=_0x51bd94(0x5be),studentView['classList'][_0x51bd94(0x6aa)](_0x51bd94(0x727)),adminView[_0x51bd94(0x87b)]['remove'](_0x51bd94(0x727)),showView('project-detail');}function setupResultScreenBackButton(_0x23673a){const _0x2c376d=_0x50f1a4,_0x14cd71={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x23673a};if(_0x14cd71[_0x2c376d(0x7d3)]){const _0x25f997='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x2c376d(0x4e7)](_0x2c376d(0xd7),_0x25f997),document[_0x2c376d(0x1f4)]('retake-quiz-loop-btn')[_0x2c376d(0x8c0)](_0x2c376d(0x2d7),()=>{const _0x36b7e7=_0x2c376d;studentResultArea['classList']['add'](_0x36b7e7(0x727)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x2a6216=_0x2c376d(0x5fe),_0x136f9d=currentMode==='admin-testing',_0x3e5a14=_0x136f9d?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x15323d='';_0x14cd71['showRankings']&&(_0x15323d+=_0x2c376d(0x15e));let _0x48bae0=_0x14cd71[_0x2c376d(0x830)];_0x48bae0===undefined&&(_0x48bae0=_0x14cd71['score']<_0x14cd71[_0x2c376d(0x57a)]);_0x48bae0&&(_0x15323d+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x15323d+=_0x2c376d(0x764)+_0x2a6216+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x3e5a14+_0x2c376d(0x890);const _0x34004a=_0x2c376d(0x79)+_0x15323d+_0x2c376d(0x235);studentResultArea[_0x2c376d(0x4e7)](_0x2c376d(0xd7),_0x34004a),studentResultArea[_0x2c376d(0x76d)](_0x2c376d(0x31b))?.['addEventListener']('click',handleShowStudentRankings);const _0x5f2ace=studentResultArea[_0x2c376d(0x76d)](_0x2c376d(0x234));_0x5f2ace&&_0x5f2ace[_0x2c376d(0x8c0)](_0x2c376d(0x2d7),()=>{const _0x6ff0f5=_0x2c376d;studentResultArea['classList'][_0x6ff0f5(0x6aa)](_0x6ff0f5(0x727)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x2c376d(0x1f4)](_0x2a6216)[_0x2c376d(0x8c0)](_0x2c376d(0x2d7),()=>{const _0x51ced9=_0x2c376d;_0x136f9d?(currentMode=_0x51ced9(0x5be),studentView[_0x51ced9(0x87b)][_0x51ced9(0x6aa)](_0x51ced9(0x727)),adminView[_0x51ced9(0x87b)][_0x51ced9(0x8e)](_0x51ced9(0x727)),showView(_0x51ced9(0x878))):(showView('student'),document[_0x51ced9(0x1f4)](_0x51ced9(0x5d0))['value']='');});}function displayResultsWithAnswers(_0x2fc45e,_0x48c5f1,_0xf5bccd,_0x182cd6,_0x41f7ff,_0x4687b0=![]){const _0x15841c=_0x50f1a4,_0xafbc51=_0x41f7ff>0x0?_0x2fc45e/_0x41f7ff*0x64:0x0,_0x211b21=currentDisplayedQuiz[_0x15841c(0x4b5)]?.[_0x15841c(0x11b)]??-0x1,_0x1aa04d=currentDisplayedQuiz[_0x15841c(0x2d9)]===!![];let _0x3c754d='';if(_0x1aa04d||_0x211b21!==-0x1){let _0x5aa396=_0x1aa04d?_0x2fc45e===_0x41f7ff:_0x2fc45e>=_0x211b21;const _0x4e8998=_0x5aa396?_0x15841c(0x427):_0x15841c(0x850),_0x231960=_0x5aa396?'ผ่าน':_0x15841c(0x701);_0x3c754d=_0x15841c(0x67a)+_0x4e8998+'\x22>'+_0x231960+_0x15841c(0x24d);}let _0x4bddc0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x15841c(0x638)+_0x2fc45e+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x41f7ff+_0x15841c(0x77e)+_0x3c754d+_0x15841c(0x484)+_0x48c5f1+_0x15841c(0x76e)+_0xafbc51['toFixed'](0x0)+_0x15841c(0x55d);currentDisplayedQuiz['questions']['forEach']((_0x17b3b8,_0x29670d)=>{const _0x20d804=_0x15841c,_0x16ea03=_0x182cd6[_0x29670d],_0x283b33=_0x16ea03[_0x20d804(0x61d)],_0xae86d7=_0x16ea03[_0x20d804(0x797)],_0x2967a0=_0x17b3b8['questionType']||currentDisplayedQuiz['quizType'];_0x4bddc0+=_0x20d804(0x566)+(_0xae86d7?_0x20d804(0x75e):_0x20d804(0x8d1))+_0x20d804(0x41d)+(_0x29670d+0x1)+'.\x20'+(_0x17b3b8[_0x20d804(0x63e)]||_0x17b3b8[_0x20d804(0x598)])+_0x20d804(0xa8);switch(_0x2967a0){case _0x20d804(0xcf):const _0x26172b=_0x283b33||'ไม่ได้ตอบ',_0x200b28=_0x17b3b8['correctResponse'];_0x4bddc0+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0xae86d7?_0x20d804(0x371):'')+'\x22>'+_0x26172b+_0x20d804(0x4f0);!_0xae86d7&&(_0x4bddc0+=_0x20d804(0x4cf)+_0x200b28+_0x20d804(0x24d));break;case'short_answer':_0x4bddc0+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x283b33||_0x20d804(0x86a))+_0x20d804(0x24d),_0x4bddc0+=_0x20d804(0x57b)+_0x17b3b8['idealAnswer']+_0x20d804(0x24d);break;case'true_false':_0x4bddc0+=_0x20d804(0x72d)+(_0x17b3b8[_0x20d804(0x56b)]===!![]?_0x20d804(0x641):'')+'\x20'+(_0x283b33===_0x20d804(0x7c)&&!_0xae86d7?_0x20d804(0x371):'')+_0x20d804(0x758),_0x4bddc0+=_0x20d804(0x72d)+(_0x17b3b8[_0x20d804(0x56b)]===![]?_0x20d804(0x641):'')+'\x20'+(_0x283b33===_0x20d804(0x6de)&&!_0xae86d7?'line-through\x20text-red-700':'')+_0x20d804(0x11e);break;default:_0x4bddc0+=_0x17b3b8[_0x20d804(0x4a1)]['map']((_0x9e7205,_0x394d3c)=>{const _0x5b7ff7=_0x20d804;let _0x23d051='',_0x283088='';if(_0x394d3c===_0x17b3b8[_0x5b7ff7(0x7b0)])_0x23d051=_0x5b7ff7(0x641),_0x283088=_0x5b7ff7(0xad);else _0x394d3c===_0x283b33&&(_0x23d051=_0x5b7ff7(0x7f4),_0x283088=_0x5b7ff7(0x820));return _0x5b7ff7(0x687)+_0x23d051+'\x22>'+_0x283088+_0x9e7205+'</div>';})[_0x20d804(0x211)]('');break;}_0x4bddc0+=_0x20d804(0x68d)+(_0x17b3b8[_0x20d804(0x58f)]||_0x20d804(0x266))+'</div>';if(!_0xae86d7){const _0x1e8e14=_0x17b3b8[_0x20d804(0x63e)]||_0x17b3b8[_0x20d804(0x598)];_0x4bddc0+=_0x20d804(0x2f4)+escape(_0x1e8e14)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x4bddc0+=_0x20d804(0x235);}),studentResultArea[_0x15841c(0x535)]=_0x4bddc0,renderEarnedBadges(_0xf5bccd,'earned-badges-container'),studentResultArea[_0x15841c(0x87b)][_0x15841c(0x8e)](_0x15841c(0x727)),studentQuizArea[_0x15841c(0x87b)][_0x15841c(0x6aa)](_0x15841c(0x727)),setupResultScreenBackButton({'isLooping':_0x4687b0,'score':_0x2fc45e,'totalQuestions':_0x41f7ff,'showRankings':!![]});if(window[_0x15841c(0x7c0)])window[_0x15841c(0x7c0)][_0x15841c(0x703)]([studentResultArea]);}function displayResultsScoreOnly(_0x3a08e1,_0x3ea4b7,_0x34dc6f,_0x2f3077){const _0x529577=_0x50f1a4,_0x5a7bef=_0x2f3077>0x0?_0x3a08e1/_0x2f3077*0x64:0x0,_0x1f121f=currentDisplayedQuiz['settings']?.[_0x529577(0x11b)]??-0x1,_0x386a9a=currentDisplayedQuiz[_0x529577(0x2d9)]===!![];let _0x43ae72='';if(_0x386a9a||_0x1f121f!==-0x1){let _0x29092a=_0x386a9a?_0x3a08e1===_0x2f3077:_0x3a08e1>=_0x1f121f;const _0x2873c4=_0x29092a?_0x529577(0x427):_0x529577(0x850),_0x14b50f=_0x29092a?'ผ่าน':_0x529577(0x701);_0x43ae72=_0x529577(0x67a)+_0x2873c4+'\x22>'+_0x14b50f+_0x529577(0x24d);}let _0x1c8e1d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x3a08e1+_0x529577(0x25a)+_0x2f3077+_0x529577(0x77e)+_0x43ae72+_0x529577(0x484)+_0x3ea4b7+_0x529577(0xe5)+_0x5a7bef[_0x529577(0x896)](0x0)+_0x529577(0x28e);studentResultArea['innerHTML']=_0x1c8e1d,renderEarnedBadges(_0x34dc6f,'earned-badges-container'),studentResultArea['classList'][_0x529577(0x8e)](_0x529577(0x727)),studentQuizArea[_0x529577(0x87b)][_0x529577(0x6aa)]('hidden'),setupResultScreenBackButton({'score':_0x3a08e1,'totalQuestions':_0x2f3077,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x2613e3=_0x50f1a4;let _0x3c36bf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x2613e3(0x495);studentResultArea['innerHTML']=_0x3c36bf,studentResultArea[_0x2613e3(0x87b)][_0x2613e3(0x8e)](_0x2613e3(0x727)),studentQuizArea[_0x2613e3(0x87b)][_0x2613e3(0x6aa)](_0x2613e3(0x727)),document[_0x2613e3(0x1f4)]('back-to-home-manual-release')[_0x2613e3(0x8c0)](_0x2613e3(0x2d7),()=>{const _0x4f9637=_0x2613e3;showView('student'),document[_0x4f9637(0x1f4)](_0x4f9637(0x5d0))['value']='';});}function renderEarnedBadges(_0x1837b5,_0x1f0cec){const _0xbc088a=_0x50f1a4,_0x5bfec4=document[_0xbc088a(0x1f4)](_0x1f0cec);if(!_0x5bfec4||!_0x1837b5||_0x1837b5[_0xbc088a(0x43f)]===0x0)return;let _0x3279a1='';_0x1837b5[_0xbc088a(0x887)]((_0x20c7c4,_0x38fdc9)=>{const _0x49ada9=_0xbc088a,_0x2e53da=Object['values'](BADGES)[_0x49ada9(0x700)](_0x3102e0=>_0x3102e0['id']===_0x20c7c4);_0x2e53da&&(_0x3279a1+=_0x49ada9(0xfc)+_0x38fdc9*0.2+'s;\x22\x20title=\x22'+_0x2e53da[_0x49ada9(0x832)]+_0x49ada9(0x8a5)+_0x2e53da[_0x49ada9(0x51d)]+_0x49ada9(0x445)+_0x2e53da[_0x49ada9(0x250)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x5bfec4[_0xbc088a(0x535)]=_0x3279a1;}function startPresentation(_0x554f30){const _0x23f609=_0x50f1a4;currentQuizData=getShuffledQuiz(_0x554f30),currentPresentationSlide=0x0,presentationModal[_0x23f609(0x21f)][_0x23f609(0x181)]=_0x23f609(0x765),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x39a777=_0x50f1a4;document[_0x39a777(0x20f)]&&document[_0x39a777(0xcb)](),presentationModal['style'][_0x39a777(0x181)]=_0x39a777(0xbe);}function renderPresentationSlide(_0x11177c){const _0x3040a7=_0x50f1a4,_0x3ea869=document[_0x3040a7(0x1f4)](_0x3040a7(0x630));if(!currentQuizData||!currentQuizData[_0x3040a7(0x393)]||!currentQuizData[_0x3040a7(0x393)][_0x11177c]){_0x3ea869['innerHTML']=_0x3040a7(0x69d);return;}const _0x38fa71=currentQuizData[_0x3040a7(0x393)][_0x11177c],_0x430be7=_0x38fa71[_0x3040a7(0x84e)]||currentQuizData[_0x3040a7(0x272)];_0x3ea869['innerHTML']='';let _0x1d4975=_0x3040a7(0x8a8)+(_0x38fa71[_0x3040a7(0x2f8)]?_0x3040a7(0x15b)+_0x38fa71[_0x3040a7(0x2f8)]+_0x3040a7(0x235):'')+_0x3040a7(0x7c1)+(_0x11177c+0x1)+'.\x20'+(_0x38fa71[_0x3040a7(0x63e)]||_0x38fa71[_0x3040a7(0x598)])+_0x3040a7(0x5c3);switch(_0x430be7){case _0x3040a7(0xcf):_0x1d4975+=_0x38fa71['allResponses'][_0x3040a7(0x27d)](_0x301a75=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x301a75+_0x3040a7(0x291))[_0x3040a7(0x211)]('');break;case'true_false':_0x1d4975+=_0x3040a7(0x479),_0x1d4975+=_0x3040a7(0x25e);break;case _0x3040a7(0x3bf):case _0x3040a7(0x65e):_0x1d4975+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x3040a7(0x802):case _0x3040a7(0x657):default:_0x1d4975+=_0x38fa71[_0x3040a7(0x4a1)][_0x3040a7(0x27d)]((_0x3c042e,_0x5103b1)=>_0x3040a7(0x2ee)+_0x5103b1+_0x3040a7(0xf0)+_0x3c042e+_0x3040a7(0x291))[_0x3040a7(0x211)]('');break;}_0x1d4975+=_0x3040a7(0x569)+(_0x38fa71[_0x3040a7(0x58f)]||'ไม่มีคำอธิบาย')+_0x3040a7(0x545),_0x3ea869['innerHTML']=_0x1d4975;if(window[_0x3040a7(0x7c0)])window[_0x3040a7(0x7c0)][_0x3040a7(0x703)]([_0x3ea869]);let _0x2d01e5=[];switch(_0x430be7){case _0x3040a7(0xcf):_0x2d01e5=_0x38fa71[_0x3040a7(0x603)]||[];break;case _0x3040a7(0x340):_0x2d01e5=[_0x3040a7(0x465),_0x3040a7(0x6da)];break;default:_0x2d01e5=_0x38fa71[_0x3040a7(0x4a1)]||[];break;}const _0x257711=document['getElementById'](_0x3040a7(0x130));_0x257711&&(_0x257711['onclick']=()=>{openScratchpad(_0x38fa71,_0x2d01e5);});document['querySelectorAll'](_0x3040a7(0x1c1))['forEach'](_0x401da5=>{const _0x23de2e=_0x3040a7;_0x401da5[_0x23de2e(0x8c0)](_0x23de2e(0x2d7),_0x894adb=>revealAnswerForPresentation(_0x11177c,_0x894adb[_0x23de2e(0x87a)]));});const _0x4198b6=document[_0x3040a7(0x1f4)](_0x3040a7(0x1e0));_0x4198b6&&_0x4198b6['addEventListener'](_0x3040a7(0x2d7),()=>checkShortAnswerForPresentation(_0x11177c)),document[_0x3040a7(0x1f4)](_0x3040a7(0x874))[_0x3040a7(0x810)]=_0x3040a7(0x5bf)+(_0x11177c+0x1)+'\x20/\x20'+currentQuizData[_0x3040a7(0x393)][_0x3040a7(0x43f)],document[_0x3040a7(0x1f4)](_0x3040a7(0x35b))[_0x3040a7(0x891)]=_0x11177c===0x0,document[_0x3040a7(0x1f4)](_0x3040a7(0x33f))[_0x3040a7(0x891)]=_0x11177c===currentQuizData['questions']['length']-0x1;}async function checkShortAnswerForPresentation(_0x4bd537){const _0x922f6e=_0x50f1a4,_0x52c1b8=currentQuizData[_0x922f6e(0x393)][_0x4bd537],_0x39ba77=document[_0x922f6e(0x1f4)](_0x922f6e(0x31c)),_0x38c75c=document[_0x922f6e(0x1f4)](_0x922f6e(0x1e0)),_0x165048=document[_0x922f6e(0x1f4)](_0x922f6e(0x6b2)),_0x24bed0=document['getElementById'](_0x922f6e(0x522));if(!_0x39ba77||!_0x38c75c||!_0x165048||!_0x24bed0)return;const _0x4705a9=_0x39ba77[_0x922f6e(0x5cf)][_0x922f6e(0x6e3)]();if(_0x4705a9==='')return;_0x38c75c[_0x922f6e(0x891)]=!![],_0x38c75c['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x39ba77[_0x922f6e(0x891)]=!![];const _0x1903f2=await gradeShortAnswer(_0x4705a9,_0x52c1b8);_0x1903f2?_0x165048[_0x922f6e(0x535)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x165048[_0x922f6e(0x535)]=_0x922f6e(0x8b9)+_0x52c1b8[_0x922f6e(0x66f)]+')',_0x165048[_0x922f6e(0x87b)][_0x922f6e(0x8e)]('hidden'),_0x24bed0[_0x922f6e(0x87b)][_0x922f6e(0x8e)](_0x922f6e(0x727)),_0x38c75c[_0x922f6e(0x87b)][_0x922f6e(0x6aa)](_0x922f6e(0x727));}function revealAnswerForPresentation(_0x48344b,_0x32c922){const _0x470dc4=_0x50f1a4,_0x48e96e=currentQuizData[_0x470dc4(0x393)][_0x48344b],_0x196f96=_0x48e96e[_0x470dc4(0x84e)]||currentQuizData['quizType'];document[_0x470dc4(0x15d)](_0x470dc4(0x1c1))[_0x470dc4(0x887)](_0x21946c=>{const _0x445bff=_0x470dc4;_0x21946c[_0x445bff(0x891)]=!![],_0x21946c[_0x445bff(0x87b)][_0x445bff(0x8e)]('hover:bg-indigo-100');let _0x20c3ee=![];if(_0x196f96===_0x445bff(0x657)||_0x196f96===_0x445bff(0x802)){const _0x41cd15=parseInt(_0x21946c[_0x445bff(0x873)][_0x445bff(0x49b)]);_0x20c3ee=_0x41cd15===_0x48e96e[_0x445bff(0x7b0)];}else{if(_0x196f96===_0x445bff(0x340)){const _0x11b511=_0x21946c['dataset']['answer']===_0x445bff(0x7c);_0x20c3ee=_0x11b511===_0x48e96e[_0x445bff(0x56b)];}else _0x196f96===_0x445bff(0xcf)&&(_0x20c3ee=_0x21946c['textContent']['trim']()===_0x48e96e[_0x445bff(0x6af)]);}_0x20c3ee?_0x21946c['classList']['add'](_0x445bff(0x19f),_0x445bff(0x44d),_0x445bff(0x10c)):_0x21946c[_0x445bff(0x87b)][_0x445bff(0x6aa)](_0x445bff(0x1f9));}),_0x32c922[_0x470dc4(0x87b)][_0x470dc4(0x8e)](_0x470dc4(0x1f9));let _0x11aebd=![];if(_0x196f96===_0x470dc4(0x657))_0x11aebd=parseInt(_0x32c922[_0x470dc4(0x873)][_0x470dc4(0x49b)])===_0x48e96e[_0x470dc4(0x7b0)];else{if(_0x196f96===_0x470dc4(0x340))_0x11aebd=_0x32c922[_0x470dc4(0x873)][_0x470dc4(0x61d)]===_0x470dc4(0x7c)===_0x48e96e['correctAnswer'];else _0x196f96===_0x470dc4(0xcf)&&(_0x11aebd=_0x32c922[_0x470dc4(0x810)][_0x470dc4(0x6e3)]()===_0x48e96e[_0x470dc4(0x6af)]);}!_0x11aebd&&_0x32c922[_0x470dc4(0x87b)][_0x470dc4(0x6aa)](_0x470dc4(0xfe),_0x470dc4(0x44d),_0x470dc4(0xd5)),document[_0x470dc4(0x1f4)](_0x470dc4(0x522))[_0x470dc4(0x87b)][_0x470dc4(0x8e)](_0x470dc4(0x727));}function startWholeQuizTimer(_0x928aa4){const _0x26c1ff=_0x50f1a4,_0x43f0bb=document[_0x26c1ff(0x1f4)](_0x26c1ff(0x89b));if(!_0x43f0bb)return;const _0x59c029=Date['now']()+_0x928aa4*0x3c*0x3e8;_0x43f0bb[_0x26c1ff(0x535)]=_0x26c1ff(0x8c5);const _0x3a8df8=document[_0x26c1ff(0x1f4)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x66a1e8=_0x26c1ff,_0x1017c3=_0x59c029-Date[_0x66a1e8(0x857)]();if(_0x1017c3<=0x0)clearInterval(quizTimerInterval),_0x3a8df8[_0x66a1e8(0x810)]=_0x66a1e8(0x50d),showMessage(_0x66a1e8(0x602)),handleSubmitQuiz(null);else{const _0x449c30=Math[_0x66a1e8(0x136)](_0x1017c3/0x3e8/0x3c%0x3c)[_0x66a1e8(0x215)]()['padStart'](0x2,'0'),_0x8c5910=Math[_0x66a1e8(0x136)](_0x1017c3/0x3e8%0x3c)[_0x66a1e8(0x215)]()[_0x66a1e8(0x66a)](0x2,'0');_0x3a8df8[_0x66a1e8(0x810)]=_0x449c30+':'+_0x8c5910;}},0x3e8);}function renderPerQuestionView(){const _0xe243fe=_0x50f1a4;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x2d4553=currentDisplayedQuiz[_0xe243fe(0x393)][currentQuestionIndex],_0x54efbd=_0x2d4553[_0xe243fe(0x84e)]||currentDisplayedQuiz[_0xe243fe(0x272)];let _0x569bc8=_0xe243fe(0x680)+(currentQuestionIndex+0x1)+_0xe243fe(0x685)+currentDisplayedQuiz['questions'][_0xe243fe(0x43f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?_0xe243fe(0x8ae):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0xe243fe(0x393)][_0xe243fe(0x43f)]-0x1?_0xe243fe(0x2f7):_0xe243fe(0x531))+_0xe243fe(0x1ff);studentQuizArea['innerHTML']=_0x569bc8;let _0x2dd0e0='',_0x5d4cbe='';switch(_0x54efbd){case _0xe243fe(0xcf):_0x2dd0e0=currentQuestionIndex+0x1+'.\x20'+_0x2d4553[_0xe243fe(0x63e)],_0x5d4cbe=_0xe243fe(0x61e)+_0x2d4553[_0xe243fe(0x603)][_0xe243fe(0x27d)](_0x28699d=>_0xe243fe(0x1fe)+_0x28699d+'\x22>'+_0x28699d+_0xe243fe(0x212))[_0xe243fe(0x211)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0xe243fe(0x340):_0x2dd0e0=currentQuestionIndex+0x1+'.\x20'+_0x2d4553[_0xe243fe(0x598)],_0x5d4cbe=_0xe243fe(0x79b);break;case'short_answer':case'fill_in_no_choices':_0x2dd0e0=currentQuestionIndex+0x1+'.\x20'+_0x2d4553[_0xe243fe(0x598)],_0x5d4cbe=_0xe243fe(0x6b4);break;case _0xe243fe(0x657):case _0xe243fe(0x3a7):default:_0x2dd0e0=currentQuestionIndex+0x1+'.\x20'+_0x2d4553[_0xe243fe(0x598)],_0x5d4cbe=_0x2d4553[_0xe243fe(0x4a1)][_0xe243fe(0x27d)]((_0x2aab4b,_0x3a60f4)=>_0xe243fe(0x867)+_0x3a60f4+_0xe243fe(0x59b)+_0x3a60f4+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt'+_0x3a60f4+'\x22>'+_0x2aab4b+_0xe243fe(0xe3))[_0xe243fe(0x211)]('');break;}_0x2d4553[_0xe243fe(0x2f8)]&&(_0x2dd0e0+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x2d4553[_0xe243fe(0x2f8)]+_0xe243fe(0x235));document[_0xe243fe(0x1f4)](_0xe243fe(0x2f6))[_0xe243fe(0x535)]=_0x2dd0e0,document[_0xe243fe(0x1f4)](_0xe243fe(0x99))[_0xe243fe(0x535)]=_0x5d4cbe;if(currentMode===_0xe243fe(0x7e)){const _0x396cf7=document['getElementById']('cancel-test-btn');if(_0x396cf7)_0x396cf7[_0xe243fe(0x8c0)]('click',cancelAdminTest);}document[_0xe243fe(0x1f4)]('next-question-timed-btn')[_0xe243fe(0x8c0)](_0xe243fe(0x2d7),()=>handleNextQuestionInTimedMode(![]));if(window[_0xe243fe(0x7c0)])window['MathJax'][_0xe243fe(0x703)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x543398=_0x50f1a4,_0x4d2b14=currentDisplayedQuiz['settings'][_0x543398(0x74e)],_0x2cd222=document['getElementById']('per-question-timer-container');if(!_0x2cd222)return;let _0x3e61be=_0x4d2b14;_0x2cd222[_0x543398(0x535)]=_0x543398(0x46a)+_0x3e61be+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x3593f1=document[_0x543398(0x1f4)](_0x543398(0x3d1)),_0x63e9bb=document[_0x543398(0x1f4)](_0x543398(0x30e));perQuestionTimerInterval=setInterval(()=>{const _0x2409f9=_0x543398;_0x3e61be--;const _0x35f4ce=_0x3e61be/_0x4d2b14*0x64;_0x3593f1[_0x2409f9(0x21f)]['width']=_0x35f4ce+'%',_0x63e9bb[_0x2409f9(0x810)]=_0x3e61be,_0x3e61be<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x2409f9(0x1ec)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x179127=![]){const _0x392669=_0x50f1a4;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x2900ca=null;if(!_0x179127){const _0x2dc3dc=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x2d1885=_0x2dc3dc['questionType']||currentDisplayedQuiz[_0x392669(0x272)];if(_0x2d1885===_0x392669(0x65e)||_0x2d1885==='fill_in_no_choices'){const _0x39980e=document[_0x392669(0x76d)]('#per-question-options\x20textarea');_0x2900ca=_0x39980e?_0x39980e['value'][_0x392669(0x6e3)]():'';}else{if(_0x2d1885===_0x392669(0xcf)){const _0x543377=document[_0x392669(0x76d)]('#per-question-options\x20select');_0x2900ca=_0x543377?_0x543377[_0x392669(0x5cf)]:'';}else{const _0x2dba76=document['querySelector']('input[name=\x22question_single\x22]:checked');if(_0x2dba76){const _0x11e57e=_0x2dba76['value'];_0x2900ca=!isNaN(parseInt(_0x11e57e,0xa))&&_0x11e57e['trim']()!==''?parseInt(_0x11e57e,0xa):_0x11e57e;}}}}studentAnswersPerQuestion['push'](_0x2900ca),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x392669(0x393)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x50c895=_0x50f1a4,_0x386558=currentDisplayedQuiz[_0x50c895(0x393)][_0x50c895(0x1b4)](_0xe42ad0=>_0xe42ad0['questionType']===_0x50c895(0x65e));_0x386558?showMessage(_0x50c895(0x109)):showMessage(_0x50c895(0x183));const _0x1409f3=currentQuizData['id'],_0x2d5e09=doc(db,'artifacts/'+appId+_0x50c895(0x62f)+_0x1409f3+_0x50c895(0x6fa),currentStudentName),_0x48e7a0=await getDoc(_0x2d5e09),_0x45026c=_0x48e7a0[_0x50c895(0x5b8)]()?_0x48e7a0[_0x50c895(0x3db)]():{},_0x359e10=_0x45026c[_0x50c895(0x217)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x359e10);}function getResultsFilename(){const _0x491c11=_0x50f1a4,_0x4da704=document[_0x491c11(0x1f4)](_0x491c11(0x65b))['textContent'][_0x491c11(0x3c3)](/[^a-z0-9]/gi,'_')[_0x491c11(0x476)]();return'results_'+(_0x4da704||'quiz');}function exportResultsAsImage(){const _0xf27556=_0x50f1a4,_0x3df7a4=document[_0xf27556(0x1f4)](_0xf27556(0xa0));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x3df7a4)[_0xf27556(0x8c3)](_0x197f41=>{const _0x38bb54=_0xf27556,_0x486286=document['createElement']('a');_0x486286['download']=getResultsFilename()+_0x38bb54(0x7fd),_0x486286[_0x38bb54(0x52f)]=_0x197f41[_0x38bb54(0x6cd)](_0x38bb54(0x2a5)),_0x486286['click'](),messageModal['classList'][_0x38bb54(0x6aa)]('hidden');});}function exportResultsAsPDF(){const _0x52a5a4=_0x50f1a4,{jsPDF:_0x4c9486}=window[_0x52a5a4(0x46d)],_0x213618=new _0x4c9486();_0x213618[_0x52a5a4(0x5a1)](_0x52a5a4(0x474),_0x52a5a4(0x364)),_0x213618[_0x52a5a4(0x25b)]({'html':_0x52a5a4(0x838)}),_0x213618[_0x52a5a4(0x585)](getResultsFilename()+_0x52a5a4(0x2dc));}function exportResultsAsWord(){const _0x438a3a=_0x50f1a4,_0x5856da=_0x438a3a(0x21c)+_0x438a3a(0x803)+_0x438a3a(0x3fc)+_0x438a3a(0x4c7),_0x2d0fc3=_0x438a3a(0x4dc),_0x39d059=_0x5856da+document[_0x438a3a(0x1f4)]('results-table-container')['innerHTML']+_0x2d0fc3,_0x39d686=_0x438a3a(0x89f)+encodeURIComponent(_0x39d059),_0x525754=document[_0x438a3a(0x447)]('a');document['body'][_0x438a3a(0x149)](_0x525754),_0x525754[_0x438a3a(0x52f)]=_0x39d686,_0x525754[_0x438a3a(0x539)]=getResultsFilename()+_0x438a3a(0x593),_0x525754['click'](),document[_0x438a3a(0x8b1)]['removeChild'](_0x525754);}function exportResultsAsExcel(){const _0x4e87e4=_0x50f1a4,_0x5b9698=document[_0x4e87e4(0x1f4)](_0x4e87e4(0x597));let _0x20a318=[];for(let _0x1d97cf=0x0;_0x1d97cf<_0x5b9698[_0x4e87e4(0x3fb)][_0x4e87e4(0x43f)];_0x1d97cf++){let _0x13c20e=[],_0x148d45=_0x5b9698[_0x4e87e4(0x3fb)][_0x1d97cf][_0x4e87e4(0x15d)](_0x4e87e4(0x889));for(let _0x17e3b2=0x0;_0x17e3b2<_0x148d45[_0x4e87e4(0x43f)];_0x17e3b2++){_0x13c20e[_0x4e87e4(0x8b6)]('\x22'+_0x148d45[_0x17e3b2][_0x4e87e4(0x3ea)][_0x4e87e4(0x3c3)](/"/g,'\x22\x22')+'\x22');}_0x20a318[_0x4e87e4(0x8b6)](_0x13c20e['join'](','));}const _0x219fc7=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x20a318[_0x4e87e4(0x211)]('\x0a')],{'type':_0x4e87e4(0x767)}),_0x5314eb=document[_0x4e87e4(0x447)]('a');_0x5314eb[_0x4e87e4(0x52f)]=URL[_0x4e87e4(0x584)](_0x219fc7),_0x5314eb[_0x4e87e4(0x539)]=getResultsFilename()+_0x4e87e4(0x2a3),_0x5314eb['click']();}function exportTableAsImage(_0x4a25e4,_0x52448a){const _0x6b0f5e=_0x50f1a4,_0x568d6e=document[_0x6b0f5e(0x1f4)](_0x4a25e4);if(!_0x568d6e){showMessage(_0x6b0f5e(0x349));return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x568d6e)[_0x6b0f5e(0x8c3)](_0x5724bd=>{const _0x442db3=_0x6b0f5e,_0x9a326f=document[_0x442db3(0x447)]('a');_0x9a326f[_0x442db3(0x539)]=_0x52448a+_0x442db3(0x7fd),_0x9a326f['href']=_0x5724bd[_0x442db3(0x6cd)](_0x442db3(0x2a5)),_0x9a326f[_0x442db3(0x2d7)](),messageModal[_0x442db3(0x87b)][_0x442db3(0x6aa)](_0x442db3(0x727));});}function exportTableAsPDF(_0x1c825f,_0x1e456b){const _0x1df862=_0x50f1a4,{jsPDF:_0x279520}=window[_0x1df862(0x46d)],_0x17fa09=new _0x279520();_0x17fa09[_0x1df862(0x5a1)](_0x1df862(0x474),_0x1df862(0x364)),_0x17fa09[_0x1df862(0x25b)]({'html':'#'+_0x1c825f}),_0x17fa09[_0x1df862(0x585)](_0x1e456b+'.pdf');}function exportTableAsWord(_0x471d7c,_0x14c211){const _0x341bf4=_0x50f1a4,_0x17de20=document[_0x341bf4(0x1f4)](_0x471d7c);if(!_0x17de20){showMessage(_0x341bf4(0x349));return;}const _0x61602a=_0x341bf4(0x21c)+_0x341bf4(0x803)+_0x341bf4(0x3fc)+_0x341bf4(0x4c7),_0x33b005=_0x341bf4(0x4dc),_0xde16f3=_0x61602a+_0x17de20[_0x341bf4(0x535)]+_0x33b005,_0x55750e=_0x341bf4(0x89f)+encodeURIComponent(_0xde16f3),_0xecaaf=document['createElement']('a');document['body']['appendChild'](_0xecaaf),_0xecaaf[_0x341bf4(0x52f)]=_0x55750e,_0xecaaf['download']=_0x14c211+_0x341bf4(0x593),_0xecaaf[_0x341bf4(0x2d7)](),document['body'][_0x341bf4(0x50f)](_0xecaaf);}function exportTableAsExcel(_0x362532,_0x5e34e7){const _0x455d1a=_0x50f1a4,_0x5ced41=document[_0x455d1a(0x1f4)](_0x362532);if(!_0x5ced41){showMessage(_0x455d1a(0x349));return;}let _0x36171e=[];for(let _0x1e9131=0x0;_0x1e9131<_0x5ced41['rows']['length'];_0x1e9131++){let _0x4b85f6=[],_0x43d0ad=_0x5ced41[_0x455d1a(0x3fb)][_0x1e9131][_0x455d1a(0x15d)](_0x455d1a(0x889));for(let _0x2df5ae=0x0;_0x2df5ae<_0x43d0ad[_0x455d1a(0x43f)];_0x2df5ae++){_0x4b85f6['push']('\x22'+_0x43d0ad[_0x2df5ae]['innerText'][_0x455d1a(0x3c3)](/"/g,'\x22\x22')+'\x22');}_0x36171e['push'](_0x4b85f6[_0x455d1a(0x211)](','));}const _0x5581ef=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x36171e[_0x455d1a(0x211)]('\x0a')],{'type':_0x455d1a(0x767)}),_0x4e63a2=document[_0x455d1a(0x447)]('a');_0x4e63a2['href']=URL['createObjectURL'](_0x5581ef),_0x4e63a2[_0x455d1a(0x539)]=_0x5e34e7+_0x455d1a(0x2a3),_0x4e63a2[_0x455d1a(0x2d7)]();}function renderAnalytics(_0x5c86cb,_0x1581f1){const _0x58b0c2=_0x50f1a4,_0x3a05f4=_0x1581f1[_0x58b0c2(0x4d9)](_0x5e9d6f=>_0x5e9d6f[_0x58b0c2(0x1cf)]!==undefined),_0x1b3f4c=currentProjectData[_0x58b0c2(0x327)][_0x58b0c2(0x43f)],_0x35685d=_0x3a05f4[_0x58b0c2(0x43f)],_0x491b9e=_0x1b3f4c-_0x35685d,_0xc6f179=_0x1b3f4c>0x0?_0x35685d/_0x1b3f4c*0x64:0x0,_0x34dd88=_0x3a05f4[_0x58b0c2(0x27d)](_0x1056ee=>_0x1056ee['latestScore']),_0x2c9dc0=_0x34dd88['length']>0x0?_0x34dd88['reduce']((_0x28deee,_0x1ffc69)=>_0x28deee+_0x1ffc69,0x0)/_0x34dd88[_0x58b0c2(0x43f)]:0x0,_0x4fcd72=_0x5c86cb[_0x58b0c2(0x393)][_0x58b0c2(0x43f)],_0x428db2=_0x4fcd72>0x0?_0x2c9dc0/_0x4fcd72*0x64:0x0,_0x3c0ac0=calculateItemAnalysis(_0x5c86cb,_0x3a05f4),_0x171db9=calculateReliabilityKR20(_0x5c86cb,_0x3a05f4,_0x3c0ac0['perQuestionStats']);let _0x18e283='';if(_0x171db9!==null){let _0x338925='';if(_0x171db9>=0.9)_0x338925=_0x58b0c2(0x8c);else{if(_0x171db9>=0.8)_0x338925=_0x58b0c2(0x29f);else{if(_0x171db9>=0.7)_0x338925='ดี';else{if(_0x171db9>=0.6)_0x338925='พอใช้';else _0x338925=_0x58b0c2(0x201);}}}_0x18e283=_0x58b0c2(0x4f5)+_0x171db9[_0x58b0c2(0x896)](0x2)+_0x58b0c2(0x4cd)+_0x338925+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x3c4b92=document[_0x58b0c2(0x1f4)]('analytics-summary-cards');_0x3c4b92[_0x58b0c2(0x535)]=_0x58b0c2(0x897)+_0xc6f179[_0x58b0c2(0x896)](0x0)+_0x58b0c2(0x36c)+_0x35685d+'/'+_0x1b3f4c+_0x58b0c2(0xb5)+_0x2c9dc0['toFixed'](0x2)+_0x58b0c2(0x6a0)+_0x428db2['toFixed'](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x34dd88['length']>0x0?Math[_0x58b0c2(0x5bd)](..._0x34dd88):_0x58b0c2(0x44a))+_0x58b0c2(0x5f9)+(_0x34dd88[_0x58b0c2(0x43f)]>0x0?Math[_0x58b0c2(0x4ae)](..._0x34dd88):'N/A')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18e283+'\x0a\x20\x20\x20\x20';const _0x3b2b59=document['getElementById'](_0x58b0c2(0x17e));_0x3b2b59&&_0x3b2b59['remove']();const _0x17f0b3=_0x58b0c2(0x2d2);_0x3c4b92[_0x58b0c2(0x4e7)](_0x58b0c2(0xe7),_0x17f0b3);const _0x4ba72d=currentProjectData[_0x58b0c2(0x327)]||[];renderSubmissionChart(_0x35685d,_0x491b9e,_0x3a05f4,_0x4ba72d),renderScoreDistributionChart(_0x3a05f4,_0x4fcd72),renderQuestionAnalytics(_0x5c86cb,_0x3a05f4,_0x4ba72d),renderInterestingStats(_0x5c86cb,_0x3a05f4);}async function handleExportLessonPDF(){const _0x550348=_0x50f1a4,_0x5c950e=document[_0x550348(0x1f4)](_0x550348(0x573)),_0x4d2906=document['getElementById'](_0x550348(0x2c5))[_0x550348(0x810)],_0x344cd7=window[_0x550348(0x64a)]('',_0x550348(0x656)),_0x5274df=_0x550348(0x6d5)+_0x4d2906+_0x550348(0x7a)+_0x5c950e[_0x550348(0x535)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x344cd7['document'][_0x550348(0x30b)](_0x5274df),_0x344cd7['document'][_0x550348(0x13a)](),_0x344cd7[_0x550348(0x26f)]=function(){setTimeout(()=>{const _0x3257ca=_0x2cea;_0x344cd7[_0x3257ca(0x54b)]();},0x5dc);};}function renderInterestingStats(_0x583c61,_0x3dbdc9){const _0x138a21=_0x50f1a4,_0x1805eb=document[_0x138a21(0x1f4)](_0x138a21(0x6bc));if(!_0x1805eb)return;if(_0x3dbdc9[_0x138a21(0x43f)]===0x0){_0x1805eb[_0x138a21(0x535)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x3579c3=_0x583c61[_0x138a21(0x393)][_0x138a21(0x27d)]((_0x504faa,_0x4b646b)=>({'index':_0x4b646b+0x1,'text':_0x504faa[_0x138a21(0x598)]||_0x504faa['stem'],'correct':0x0}));_0x3dbdc9[_0x138a21(0x887)](_0x13b6ac=>{const _0x3aa75b=_0x138a21,_0x3daf8b=_0x13b6ac[_0x3aa75b(0x217)][_0x13b6ac[_0x3aa75b(0x217)][_0x3aa75b(0x43f)]-0x1];_0x3daf8b&&_0x3daf8b[_0x3aa75b(0x6d3)]&&_0x3daf8b['answers'][_0x3aa75b(0x887)](_0x2dc912=>{const _0x27f8f7=_0x3aa75b,_0x27134b=_0x3579c3['find'](_0xb85ac=>_0xb85ac['text']===_0x2dc912[_0x27f8f7(0x5fc)]);_0x2dc912[_0x27f8f7(0x797)]&&_0x27134b&&_0x27134b['correct']++;});});const _0x389258=_0x3dbdc9['length'],_0x3e5ea3=Math[_0x138a21(0x5bd)](..._0x3579c3[_0x138a21(0x27d)](_0x5115c9=>_0x5115c9[_0x138a21(0x429)])),_0x2fbf28=Math[_0x138a21(0x4ae)](..._0x3579c3['map'](_0x133476=>_0x133476[_0x138a21(0x429)])),_0x226509=_0x3579c3[_0x138a21(0x4d9)](_0x2328ef=>_0x2328ef[_0x138a21(0x429)]===_0x3e5ea3)['map'](_0x3ffa3d=>_0x138a21(0x629)+_0x3ffa3d[_0x138a21(0x49b)]),_0x9f1f2=_0x3579c3[_0x138a21(0x4d9)](_0x5408cc=>_0x5408cc[_0x138a21(0x429)]===_0x2fbf28)[_0x138a21(0x27d)](_0x48de1f=>_0x138a21(0x629)+_0x48de1f[_0x138a21(0x49b)]),_0x454366=_0x3dbdc9[_0x138a21(0x5ef)]((_0x26d177,_0x456a7b)=>_0x456a7b[_0x138a21(0x1cf)]-_0x26d177['latestScore'])[_0x138a21(0x4d9)]((_0x29db77,_0x3d109c,_0x2df422)=>_0x29db77[_0x138a21(0x1cf)]===_0x2df422[0x0]['latestScore']),_0x12aeb4=_0x3dbdc9[_0x138a21(0x5ef)]((_0x5ca2eb,_0x52edd1)=>_0x5ca2eb['latestScore']-_0x52edd1['latestScore'])[_0x138a21(0x4d9)]((_0x5a0811,_0x3466a5,_0x212eb4)=>_0x5a0811[_0x138a21(0x1cf)]===_0x212eb4[0x0][_0x138a21(0x1cf)]),_0x348326=_0x138a21(0x6e0)+_0x226509[_0x138a21(0x211)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x3e5ea3+_0x138a21(0x57c)+_0x389258+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x9f1f2[_0x138a21(0x211)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x389258-_0x2fbf28)+_0x138a21(0x57c)+_0x389258+_0x138a21(0x1c5)+_0x454366[_0x138a21(0x27d)](_0x281f85=>_0x281f85[_0x138a21(0x2b1)])[_0x138a21(0x211)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x454366[0x0][_0x138a21(0x1cf)]+_0x138a21(0x54a)+_0x12aeb4['map'](_0x1bb59e=>_0x1bb59e[_0x138a21(0x2b1)])[_0x138a21(0x211)](',\x20')+_0x138a21(0x4fa)+_0x12aeb4[0x0][_0x138a21(0x1cf)]+_0x138a21(0x894);_0x1805eb[_0x138a21(0x535)]=_0x348326;}function renderSubmissionChart(_0x1a4d14,_0x2ea9f2,_0x275bab,_0xa3d71e){const _0x2fad7b=_0x50f1a4,_0x21ae70=document[_0x2fad7b(0x1f4)](_0x2fad7b(0x1fd))['getContext']('2d'),_0x357b0c=_0x275bab[_0x2fad7b(0x27d)](_0x330df4=>_0x330df4[_0x2fad7b(0x2b1)]),_0x500524=_0xa3d71e[_0x2fad7b(0x4d9)](_0x34dc79=>!_0x357b0c['includes'](_0x34dc79));chartInstances[_0x2fad7b(0x8c6)]&&chartInstances['submission'][_0x2fad7b(0x168)](),chartInstances[_0x2fad7b(0x8c6)]=new Chart(_0x21ae70,{'type':_0x2fad7b(0x2ab),'data':{'labels':[_0x2fad7b(0x229),'ยังไม่ส่ง'],'datasets':[{'data':[_0x1a4d14,_0x2ea9f2],'backgroundColor':[_0x2fad7b(0x32b),_0x2fad7b(0x72b)],'borderColor':['#ffffff','#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x2fad7b(0x788)},'tooltip':{'callbacks':{'label':function(_0x1a2bd2){const _0xfbf245=_0x2fad7b;let _0x5930bb=_0x1a2bd2[_0xfbf245(0x54d)]||'';return _0x5930bb&&(_0x5930bb+=':\x20'),_0x5930bb+=_0x1a2bd2['raw'],_0x5930bb;},'afterLabel':function(_0x2989a5){const _0x23259d=_0x2fad7b;let _0x1e6dff;return _0x2989a5[_0x23259d(0x771)]===0x0?_0x1e6dff=_0x357b0c:_0x1e6dff=_0x500524,_0x1e6dff[_0x23259d(0x43f)]>0x0?_0x1e6dff[_0x23259d(0x211)]('\x0a'):_0x23259d(0x22d);}}}}}});}function renderScoreDistributionChart(_0x40db15,_0xd77b88){const _0x5ac7b0=_0x50f1a4,_0x5e516b=document[_0x5ac7b0(0x1f4)](_0x5ac7b0(0x798))['getContext']('2d'),_0x30f2a5={};for(let _0x572f99=0x0;_0x572f99<=_0xd77b88;_0x572f99++){_0x30f2a5[_0x572f99]=0x0;}_0x40db15[_0x5ac7b0(0x887)](_0x58f1d8=>{const _0x5cac23=_0x5ac7b0;_0x30f2a5[_0x58f1d8[_0x5cac23(0x1cf)]]!==undefined&&_0x30f2a5[_0x58f1d8[_0x5cac23(0x1cf)]]++;}),chartInstances['score']&&chartInstances['score']['destroy'](),chartInstances[_0x5ac7b0(0x105)]=new Chart(_0x5e516b,{'type':_0x5ac7b0(0x1f2),'data':{'labels':Object[_0x5ac7b0(0xfb)](_0x30f2a5),'datasets':[{'label':_0x5ac7b0(0x62a),'data':Object[_0x5ac7b0(0x83f)](_0x30f2a5),'backgroundColor':_0x5ac7b0(0x541),'borderColor':_0x5ac7b0(0x56a),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x5ac7b0(0x18b)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x10c5e4){const _0x102350=_0x5ac7b0,_0x265bfc=_0x10c5e4[_0x102350(0x54d)],_0x21d288=_0x40db15[_0x102350(0x4d9)](_0x56665e=>_0x56665e['latestScore']==_0x265bfc)[_0x102350(0x27d)](_0x788918=>_0x788918[_0x102350(0x2b1)]);return _0x21d288[_0x102350(0x43f)]>0x0?_0x21d288['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x496cfd,_0x2f5618,_0x37e455){const _0x343ec8=_0x50f1a4,_0x23523f=document[_0x343ec8(0x1f4)](_0x343ec8(0x6b6));if(_0x37e455['length']===0x0){_0x23523f[_0x343ec8(0x535)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x3a5e42=calculateItemAnalysis(_0x496cfd,_0x2f5618),_0x5c02d4=calculateDistractorAnalysis(_0x496cfd,_0x2f5618);let _0x31c691='';_0x3a5e42['overallGroups']&&(_0x31c691=_0x343ec8(0x328)+_0x3a5e42[_0x343ec8(0x45b)][_0x343ec8(0x880)][_0x343ec8(0x43f)]+_0x343ec8(0x794)+_0x3a5e42[_0x343ec8(0x45b)]['upperGroupNames'][_0x343ec8(0x27d)](_0x1a147a=>_0x343ec8(0x152)+_0x1a147a+_0x343ec8(0x610))[_0x343ec8(0x211)]('')+_0x343ec8(0x400)+_0x3a5e42['overallGroups'][_0x343ec8(0x456)][_0x343ec8(0x43f)]+_0x343ec8(0x794)+_0x3a5e42['overallGroups'][_0x343ec8(0x456)][_0x343ec8(0x27d)](_0x11d5f5=>_0x343ec8(0x152)+_0x11d5f5+_0x343ec8(0x610))[_0x343ec8(0x211)]('')+_0x343ec8(0x854));let _0x253e21='';const _0x312561=_0x2f5618[_0x343ec8(0x27d)](_0x2c62d8=>_0x2c62d8[_0x343ec8(0x2b1)]),_0x3ffdbf=_0x31b9bf=>{const _0x5448b0=_0x343ec8;if(_0x31b9bf>=0.8)return _0x5448b0(0xa3);if(_0x31b9bf>=0.6)return _0x5448b0(0x2bb);if(_0x31b9bf>=0.4)return _0x5448b0(0x6c5);if(_0x31b9bf>=0.2)return _0x5448b0(0x562);return _0x5448b0(0x6c);},_0x4951be=_0x1977c2=>{const _0x38f81c=_0x343ec8;if(_0x1977c2<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x1977c2>=0.4)return _0x38f81c(0x3c9);if(_0x1977c2>=0.3)return _0x38f81c(0x2b8);if(_0x1977c2>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x38f81c(0x515);},_0x400891=_0x392767=>{const _0x1903c5=_0x343ec8,_0x54f09e=_0x392767[_0x1903c5(0x896)](0x0);if(parseFloat(_0x54f09e)===0x64)return _0x1903c5(0x632)+_0x54f09e+_0x1903c5(0x6fd);if(_0x392767>=0x32)return _0x1903c5(0x9f)+_0x54f09e+'%</span>';return _0x1903c5(0x3b1)+_0x54f09e+_0x1903c5(0x6fd);};_0x496cfd[_0x343ec8(0x393)][_0x343ec8(0x887)]((_0xa1d0b3,_0x5d9f18)=>{const _0x35a249=_0x343ec8,_0x538de8=_0x3a5e42['perQuestionStats'][_0x5d9f18],_0x352c00=_0x5c02d4[_0x5d9f18],_0x337ece=_0xa1d0b3['stem']||_0xa1d0b3[_0x35a249(0x598)]||_0xa1d0b3[_0x35a249(0x35a)];let _0x4d8507=0x0;const _0x568482=[],_0xca2fbc=[];_0x2f5618['forEach'](_0x4ab5fd=>{const _0x5b2764=_0x35a249,_0x112ab1=_0x4ab5fd['attempts'][_0x4ab5fd[_0x5b2764(0x217)][_0x5b2764(0x43f)]-0x1];if(_0x112ab1&&_0x112ab1[_0x5b2764(0x6d3)]){const _0x4f3cb0=_0x112ab1[_0x5b2764(0x6d3)][_0x5b2764(0x700)](_0x4f81c0=>_0x4f81c0[_0x5b2764(0x5fc)]===_0x337ece)??_0x112ab1[_0x5b2764(0x6d3)][_0x5d9f18]??null;_0x4f3cb0&&(_0x4f3cb0[_0x5b2764(0x797)]?(_0x4d8507++,_0x568482[_0x5b2764(0x8b6)](_0x4ab5fd[_0x5b2764(0x2b1)])):_0xca2fbc['push'](_0x4ab5fd[_0x5b2764(0x2b1)]));}});const _0xed4e04=_0x2f5618['length']>0x0?_0x4d8507/_0x2f5618[_0x35a249(0x43f)]*0x64:0x0,_0x4cc25a=_0x37e455[_0x35a249(0x4d9)](_0x5c8823=>!_0x312561['includes'](_0x5c8823)),_0x40d069=_0x538de8?_0x35a249(0x4d6)+_0x538de8['p']['toFixed'](0x2)+_0x35a249(0x85c)+_0x3ffdbf(_0x538de8['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x538de8['r'][_0x35a249(0x896)](0x2)+_0x35a249(0x85c)+_0x4951be(_0x538de8['r'])+_0x35a249(0x38f)+_0x400891(_0xed4e04)+_0x35a249(0x804):'';let _0x45100c='';_0x352c00&&(_0x45100c=_0x35a249(0x6c6)+Object[_0x35a249(0xfb)](_0x352c00)[_0x35a249(0x27d)](_0x3ada8b=>{const _0x5f51ce=_0x35a249,_0xa44194=_0x352c00[_0x3ada8b],_0x507c38=parseInt(_0x3ada8b)===_0xa1d0b3[_0x5f51ce(0x7b0)],_0x589ec5=!_0x507c38&&_0xa44194[_0x5f51ce(0x78c)]>_0xa44194['upper_group_count'];return _0x5f51ce(0x79d)+(_0x507c38?'bg-green-100\x20font-bold':'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x507c38?'✔\x20':'')+_0xa44194[_0x5f51ce(0x551)]+_0x5f51ce(0x48a)+_0xa44194[_0x5f51ce(0x750)]+_0x5f51ce(0x48a)+_0xa44194[_0x5f51ce(0x78c)]+'\x20'+(_0x589ec5?'👍':'')+_0x5f51ce(0x48a)+_0xa44194[_0x5f51ce(0x142)]+_0x5f51ce(0x90);})['join']('')+_0x35a249(0x367));let _0x45e075='';_0x538de8&&_0x538de8[_0x35a249(0x203)]&&(_0x45e075=_0x35a249(0x7a4)+_0x538de8['upperGroupResponders'][_0x35a249(0x43f)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x538de8['upperGroupResponders'][_0x35a249(0x27d)](_0x1798b3=>_0x35a249(0x152)+(_0x1798b3[_0x35a249(0x797)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x35a249(0x5fb))+'\x20'+_0x1798b3[_0x35a249(0x250)]+_0x35a249(0x610))[_0x35a249(0x211)]('')+_0x35a249(0x496)+_0x538de8[_0x35a249(0x3dd)]['length']+_0x35a249(0x144)+_0x538de8[_0x35a249(0x3dd)][_0x35a249(0x27d)](_0x507f2f=>_0x35a249(0x152)+(_0x507f2f[_0x35a249(0x797)]?_0x35a249(0x1cc):_0x35a249(0x5fb))+'\x20'+_0x507f2f['name']+_0x35a249(0x610))[_0x35a249(0x211)]('')+_0x35a249(0x564)),_0x253e21+=_0x35a249(0x4d0)+(_0x5d9f18+0x1)+':\x20'+_0x337ece+_0x35a249(0x6b0)+_0x40d069+_0x35a249(0x898)+_0x337ece+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x4d8507+_0x35a249(0x685)+_0x2f5618[_0x35a249(0x43f)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0xed4e04[_0x35a249(0x896)](0x0)+_0x35a249(0x55a)+_0x568482['length']+_0x35a249(0x871)+(_0x568482[_0x35a249(0x43f)]>0x0?_0x568482[_0x35a249(0x211)](',\x20'):_0x35a249(0x22d))+_0x35a249(0x2db)+_0xca2fbc['length']+_0x35a249(0x871)+(_0xca2fbc[_0x35a249(0x43f)]>0x0?_0xca2fbc[_0x35a249(0x211)](',\x20'):'ไม่มี')+_0x35a249(0x7fb)+_0x4cc25a[_0x35a249(0x43f)]+_0x35a249(0x871)+(_0x4cc25a[_0x35a249(0x43f)]>0x0?_0x4cc25a[_0x35a249(0x211)](',\x20'):_0x35a249(0x22d))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x45100c+_0x35a249(0x2cd)+_0x45e075+_0x35a249(0x4aa);}),_0x23523f[_0x343ec8(0x535)]=_0x31c691+_0x253e21;try{window['MathJax']&&MathJax['typesetPromise']&&MathJax[_0x343ec8(0x703)]([_0x23523f]);}catch(_0x30c7d2){console[_0x343ec8(0x5ec)](_0x343ec8(0x537),_0x30c7d2);}}function calculateDistractorAnalysis(_0x3b6672,_0xd4e6c4){const _0x57022a=_0x50f1a4,_0x31f65d={};if(_0xd4e6c4[_0x57022a(0x43f)]<0x2)return _0x31f65d;const _0x37d18b=[..._0xd4e6c4]['sort']((_0x7737ed,_0x430cd9)=>{const _0x15e034=_0x57022a,_0x4a3df9=_0x430cd9[_0x15e034(0x1cf)]-_0x7737ed[_0x15e034(0x1cf)];if(_0x4a3df9!==0x0)return _0x4a3df9;const _0x1769a5=_0x7737ed['attempts']?.[_0x15e034(0x43f)]||0x1,_0x4597fd=_0x430cd9[_0x15e034(0x217)]?.[_0x15e034(0x43f)]||0x1,_0x94462d=_0x1769a5-_0x4597fd;if(_0x94462d!==0x0)return _0x94462d;const _0x3507e8=new Date(_0x7737ed[_0x15e034(0x761)]),_0x145cf8=new Date(_0x430cd9[_0x15e034(0x761)]),_0xd99422=_0x3507e8-_0x145cf8;if(_0xd99422!==0x0)return _0xd99422;return _0x7737ed['studentName']['localeCompare'](_0x430cd9[_0x15e034(0x2b1)],'th');}),_0x2647c6=_0x37d18b[_0x57022a(0x43f)],_0x64ed43=Math['max'](0x1,Math['floor'](_0x2647c6*0.33)),_0x6902ed=_0x37d18b[_0x57022a(0x375)](0x0,_0x64ed43),_0x1e483f=_0x37d18b[_0x57022a(0x375)](-_0x64ed43);return _0x3b6672['questions'][_0x57022a(0x887)]((_0x383dc7,_0x23974c)=>{const _0xb11681=_0x57022a;if(_0x383dc7[_0xb11681(0x84e)]!=='multiple_choice'||!_0x383dc7[_0xb11681(0x4a1)])return;const _0xcb07ba=_0x383dc7['questionText'],_0x52f7b4={};_0x383dc7[_0xb11681(0x4a1)]['forEach']((_0xbded90,_0x21b4ae)=>{_0x52f7b4[_0x21b4ae]={'text':_0xbded90,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x37d18b[_0xb11681(0x887)](_0x5ad6eb=>{const _0x4caf39=_0xb11681,_0xed08e3=_0x5ad6eb['attempts'][_0x5ad6eb['attempts'][_0x4caf39(0x43f)]-0x1],_0x56d970=_0xed08e3[_0x4caf39(0x6d3)][_0x4caf39(0x700)](_0x26de80=>_0x26de80[_0x4caf39(0x5fc)]===_0xcb07ba);if(_0x56d970&&_0x56d970[_0x4caf39(0x61d)]!==null){const _0x313a70=_0x383dc7[_0x4caf39(0x4a1)]['findIndex'](_0x26bdea=>_0x26bdea===_0x56d970[_0x4caf39(0x124)]);_0x313a70!==-0x1&&_0x52f7b4[_0x313a70]&&(_0x52f7b4[_0x313a70][_0x4caf39(0x142)]++,_0x6902ed[_0x4caf39(0x4c3)](_0x5ad6eb)&&_0x52f7b4[_0x313a70][_0x4caf39(0x750)]++,_0x1e483f[_0x4caf39(0x4c3)](_0x5ad6eb)&&_0x52f7b4[_0x313a70][_0x4caf39(0x78c)]++);}}),_0x31f65d[_0x23974c]=_0x52f7b4;}),_0x31f65d;}function calculateReliabilityKR20(_0x58e5fc,_0xb1f238,_0x4676f2){const _0xcddd15=_0x50f1a4,_0x99fbee=_0x58e5fc[_0xcddd15(0x393)][_0xcddd15(0x43f)];if(_0x99fbee<0x2||_0xb1f238[_0xcddd15(0x43f)]<0x2)return null;const _0x53c439=_0xb1f238[_0xcddd15(0x27d)](_0x484674=>_0x484674['latestScore']),_0x449b1a=_0x53c439[_0xcddd15(0x8b)]((_0x40afb5,_0x380aff)=>_0x40afb5+_0x380aff,0x0)/_0x53c439[_0xcddd15(0x43f)],_0x4606d5=_0x53c439['map'](_0x296e6e=>Math[_0xcddd15(0x267)](_0x296e6e-_0x449b1a,0x2))['reduce']((_0x988f81,_0x7eba49)=>_0x988f81+_0x7eba49,0x0)/_0x53c439[_0xcddd15(0x43f)];if(_0x4606d5===0x0)return null;let _0x5629dc=0x0;for(let _0xd3ca9e=0x0;_0xd3ca9e<_0x99fbee;_0xd3ca9e++){const _0x3d672b=_0x4676f2[_0xd3ca9e]?.['p'];if(_0x3d672b===undefined)continue;const _0x69fcc2=0x1-_0x3d672b;_0x5629dc+=_0x3d672b*_0x69fcc2;}if(_0x5629dc===0x0)return null;const _0x4b499e=_0x99fbee/(_0x99fbee-0x1)*(0x1-_0x5629dc/_0x4606d5);if(_0x4b499e>0x1)return null;return _0x4b499e;}async function handleAnalyzeClass(){const _0x4aeddc=_0x50f1a4;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x4aeddc(0x6a7));return;}const _0x2cc9d2=collection(db,'artifacts/'+appId+_0x4aeddc(0x62f)+currentQuizData['id']+_0x4aeddc(0x6fa)),_0xbc9d43=await getDocs(_0x2cc9d2),_0x14e0ce=_0xbc9d43[_0x4aeddc(0x3b3)][_0x4aeddc(0x27d)](_0x51ce0b=>_0x51ce0b['data']());if(_0x14e0ce[_0x4aeddc(0x43f)]<0x2){showMessage(_0x4aeddc(0x354));return;}const _0x12d9da=document[_0x4aeddc(0x1f4)](_0x4aeddc(0x645));_0x12d9da[_0x4aeddc(0x535)]=_0x4aeddc(0x38c),document[_0x4aeddc(0x1f4)](_0x4aeddc(0x738))[_0x4aeddc(0x891)]=!![];const _0x2913b6=_0x14e0ce[_0x4aeddc(0x27d)]((_0x4c6d91,_0x38769c)=>{const _0x12ea7e=_0x4aeddc,_0x3729ac=_0x4c6d91['attempts'][_0x4c6d91[_0x12ea7e(0x217)]['length']-0x1];if(!_0x3729ac)return'';return _0x12ea7e(0x7b5)+(_0x38769c+0x1)+'\x20('+_0x4c6d91[_0x12ea7e(0x2b1)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x3729ac[_0x12ea7e(0x105)]+'/'+_0x4c6d91[_0x12ea7e(0x57a)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x12ea7e(0xe2)](_0x3729ac['answers'])+_0x12ea7e(0x3f3);})[_0x4aeddc(0x211)]('\x0a---\x0a'),_0x201f4e=_0x4aeddc(0x4b3)+currentQuizData[_0x4aeddc(0x2c9)]+_0x4aeddc(0x27c)+JSON['stringify'](currentQuizData[_0x4aeddc(0x393)])+_0x4aeddc(0x441)+_0x2913b6+_0x4aeddc(0x709),_0x33c365={'type':_0x4aeddc(0x6fc),'properties':{'classStrengths':{'type':_0x4aeddc(0x467),'items':{'type':'STRING'}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x4aeddc(0xb6)}},'teacherSuggestions':{'type':_0x4aeddc(0x467),'items':{'type':_0x4aeddc(0xb6)}}},'required':['classStrengths',_0x4aeddc(0x5db),'teacherSuggestions']};try{const _0x5cbef9=await callAnalysisApi(_0x201f4e,_0x33c365);displayClassAnalysis(_0x5cbef9);}catch(_0x22b60f){console[_0x4aeddc(0x5ec)](_0x4aeddc(0x6d9),_0x22b60f),_0x12d9da[_0x4aeddc(0x535)]=_0x4aeddc(0x84)+_0x22b60f[_0x4aeddc(0x561)]+_0x4aeddc(0x15f);}finally{document[_0x4aeddc(0x1f4)](_0x4aeddc(0x738))['disabled']=![];}}function displayClassAnalysis(_0x1de543){const _0x9560ed=_0x50f1a4,_0x38591f=document[_0x9560ed(0x1f4)]('strength-weakness-analysis-container');if(!_0x1de543){_0x38591f[_0x9560ed(0x535)]=_0x9560ed(0x519);return;}_0x38591f[_0x9560ed(0x535)]=_0x9560ed(0x1db)+_0x1de543[_0x9560ed(0x86b)][_0x9560ed(0x27d)](_0x1883a3=>'<li>'+_0x1883a3+'</li>')['join']('')+_0x9560ed(0x434)+_0x1de543[_0x9560ed(0x5db)][_0x9560ed(0x27d)](_0x548fe1=>_0x9560ed(0x152)+_0x548fe1+_0x9560ed(0x610))[_0x9560ed(0x211)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1de543[_0x9560ed(0x733)][_0x9560ed(0x27d)](_0x1d2155=>'<li>'+_0x1d2155+_0x9560ed(0x610))[_0x9560ed(0x211)]('')+_0x9560ed(0x4be);}function formatAndPrintWorksheet(_0x320763,_0x2e729b){const _0x41d950=_0x50f1a4,_0x3da20b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x320763[_0x41d950(0x2c9)]+_0x41d950(0x213)+_0x320763[_0x41d950(0x2c9)]+_0x41d950(0x751)+_0x320763['questions'][_0x41d950(0x27d)]((_0xb85198,_0xd4bad3)=>_0x41d950(0x8bf)+(_0xd4bad3+0x1)+'.\x20'+_0xb85198['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xb85198['imageCode']?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0xb85198[_0x41d950(0x2f8)]+'</div>':'')+_0x41d950(0x2dd))['join']('')+_0x41d950(0x507);_0x2e729b[_0x41d950(0x74c)]['write'](_0x3da20b),_0x2e729b[_0x41d950(0x74c)][_0x41d950(0x13a)](),_0x2e729b['onload']=function(){setTimeout(()=>{const _0x200b3c=_0x2cea;_0x2e729b[_0x200b3c(0x54b)]();},0x3e8);};}async function generateWorksheet(){const _0x2862d3=_0x50f1a4,_0x1323f2=document[_0x2862d3(0x1f4)](_0x2862d3(0x39c))[_0x2862d3(0x5cf)][_0x2862d3(0x6e3)]();if(!_0x1323f2){showMessage(_0x2862d3(0x419));return;}const _0x2b34c4=document[_0x2862d3(0x1f4)](_0x2862d3(0x3d4))[_0x2862d3(0x121)],_0x4f6ed7=_0x2b34c4?'':_0x2862d3(0x313),_0x594368=window['open']('','_blank');_0x594368['document'][_0x2862d3(0x30b)]('<h1></h1>');const _0x162a2a=parseInt(document[_0x2862d3(0x1f4)](_0x2862d3(0x679))[_0x2862d3(0x5cf)]),_0x48071d=document['getElementById'](_0x2862d3(0x209))['checked'],_0x59778f=_0x48071d?_0x2862d3(0x482):'',_0x27293a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x4f6ed7+_0x2862d3(0x7af)+_0x162a2a+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x1323f2+_0x2862d3(0x6c0)+_0x59778f+_0x2862d3(0x1b3)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x58ec50={'type':_0x2862d3(0x6fc),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2862d3(0x467),'items':{'type':_0x2862d3(0x6fc),'properties':{'questionText':{'type':_0x2862d3(0xb6)},'imageCode':{'type':_0x2862d3(0xb6)}},'required':[_0x2862d3(0x598)]}}},'required':['topic',_0x2862d3(0x393)]};document['getElementById'](_0x2862d3(0x672))[_0x2862d3(0x810)]='',document[_0x2862d3(0x1f4)]('loader')['classList'][_0x2862d3(0x8e)](_0x2862d3(0x727)),document[_0x2862d3(0x1f4)](_0x2862d3(0x3e4))['classList']['remove'](_0x2862d3(0x727)),generateWorksheetBtn[_0x2862d3(0x891)]=!![];try{const _0xf7dbb9=await callAnalysisApi(_0x27293a,_0x58ec50);formatAndPrintWorksheet(_0xf7dbb9,_0x594368);}catch(_0x4d522d){console[_0x2862d3(0x5ec)](_0x2862d3(0x4d3),_0x4d522d);if(_0x594368)_0x594368[_0x2862d3(0x13a)]();showMessage(_0x2862d3(0x18c));}finally{document[_0x2862d3(0x1f4)](_0x2862d3(0x677))[_0x2862d3(0x87b)][_0x2862d3(0x6aa)](_0x2862d3(0x727)),document[_0x2862d3(0x1f4)]('quiz-generation-area')[_0x2862d3(0x87b)][_0x2862d3(0x6aa)](_0x2862d3(0x727)),generateWorksheetBtn[_0x2862d3(0x891)]=![];}}async function callAnalysisApi(_0x1a26da,_0x597621){const _0x4d72bf=_0x50f1a4,_0x108c86={'contents':[{'role':_0x4d72bf(0x156),'parts':[{'text':_0x1a26da}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x597621}},_0x5ac023=_0x4d72bf(0x883),_0x3b0022=_0x4d72bf(0x81b)+_0x5ac023,_0x3ed4f0=await fetch(_0x3b0022,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x108c86)});if(!_0x3ed4f0['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x3ed4f0['status']);const _0x5e1858=await _0x3ed4f0['json']();if(_0x5e1858[_0x4d72bf(0x5d8)]?.[0x0]?.[_0x4d72bf(0x4c4)]?.[_0x4d72bf(0x795)]?.[0x0])return JSON['parse'](_0x5e1858[_0x4d72bf(0x5d8)][0x0][_0x4d72bf(0x4c4)][_0x4d72bf(0x795)][0x0]['text']);else{let _0x3e22be=_0x4d72bf(0x80e);if(_0x5e1858['promptFeedback']?.['blockReason'])_0x3e22be=_0x4d72bf(0x498)+_0x5e1858['promptFeedback'][_0x4d72bf(0x345)]+'.';else _0x5e1858[_0x4d72bf(0x5d8)]?.[0x0]?.[_0x4d72bf(0x1a7)]&&_0x5e1858[_0x4d72bf(0x5d8)][0x0][_0x4d72bf(0x1a7)]!==_0x4d72bf(0x192)&&(_0x3e22be=_0x4d72bf(0x6ed)+_0x5e1858[_0x4d72bf(0x5d8)][0x0][_0x4d72bf(0x1a7)]+'.');console[_0x4d72bf(0x5ec)](_0x3e22be,JSON['stringify'](_0x5e1858));throw new Error(_0x3e22be);}}initialize();
