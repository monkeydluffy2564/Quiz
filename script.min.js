const _0x31ab05=_0x4d4b;(function(_0x3d6565,_0xf3d19f){const _0x137fc2=_0x4d4b,_0x176b6c=_0x3d6565();while(!![]){try{const _0x5cde0b=parseInt(_0x137fc2(0xac3))/0x1*(parseInt(_0x137fc2(0x64a))/0x2)+-parseInt(_0x137fc2(0xaa4))/0x3*(-parseInt(_0x137fc2(0x4b9))/0x4)+-parseInt(_0x137fc2(0x2bd))/0x5*(parseInt(_0x137fc2(0x2a9))/0x6)+parseInt(_0x137fc2(0x456))/0x7*(-parseInt(_0x137fc2(0x385))/0x8)+parseInt(_0x137fc2(0x82a))/0x9*(parseInt(_0x137fc2(0x3ae))/0xa)+-parseInt(_0x137fc2(0x852))/0xb*(parseInt(_0x137fc2(0x4b6))/0xc)+parseInt(_0x137fc2(0x22b))/0xd;if(_0x5cde0b===_0xf3d19f)break;else _0x176b6c['push'](_0x176b6c['shift']());}catch(_0x25394e){_0x176b6c['push'](_0x176b6c['shift']());}}}(_0x4f95,0x9d236));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0x398d6c=_0x4d4b;if('wakeLock'in navigator)try{wakeLock=await navigator['wakeLock'][_0x398d6c(0x679)]('screen'),console[_0x398d6c(0x4a9)](_0x398d6c(0x65f)),wakeLock[_0x398d6c(0x7d4)]('release',()=>{const _0x4c6743=_0x398d6c;console[_0x4c6743(0x4a9)](_0x4c6743(0x4df));});}catch(_0x2f001b){console[_0x398d6c(0x8c0)](_0x398d6c(0x9a1)+_0x2f001b[_0x398d6c(0x73f)]+',\x20'+_0x2f001b[_0x398d6c(0xa8c)]);}else console[_0x398d6c(0x2d0)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x25c83c=_0x4d4b;wakeLock!==null&&(await wakeLock[_0x25c83c(0x89b)](),wakeLock=null,console['log']('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x13c047=_0x4d4b;if(dimTimer)clearTimeout(dimTimer);document[_0x13c047(0x44d)]['classList'][_0x13c047(0x195)](_0x13c047(0x9b8)),dimTimer=setTimeout(()=>{const _0x25fa28=_0x13c047;document[_0x25fa28(0x44d)][_0x25fa28(0x7b1)][_0x25fa28(0x9a9)](_0x25fa28(0x9b8)),console[_0x25fa28(0x4a9)](_0x25fa28(0x39b));},inactivityTime);}function stopDimTimer(){const _0x11487f=_0x4d4b;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x11487f(0x7b1)][_0x11487f(0x195)]('dimmed'),window[_0x11487f(0x890)](_0x11487f(0xa0a),resetDimTimer),window['removeEventListener'](_0x11487f(0x708),resetDimTimer),window[_0x11487f(0x890)]('touchstart',resetDimTimer),window[_0x11487f(0x890)]('keydown',resetDimTimer),console[_0x11487f(0x4a9)](_0x11487f(0x994));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0;async function handleStartTeamQuiz(_0x2b82b4,_0x2f1a8d=![]){const _0x504650=_0x4d4b,_0x587073=allQuizzes[_0x504650(0x606)](_0xba1e21=>_0xba1e21['id']===_0x2b82b4)||allQuizzesGlobal['find'](_0xdf05cb=>_0xdf05cb['id']===_0x2b82b4);if(!_0x587073){showMessage(_0x504650(0x182));return;}currentQuizData=getShuffledQuiz(_0x587073);const _0x31f380=Math[_0x504650(0x273)](0x3e8+Math[_0x504650(0x4aa)]()*0x2328)['toString']();try{const _0x59f351=await addDoc(collection(db,_0x504650(0x9ac)+appId+_0x504650(0x475)),{'quizId':_0x587073['id'],'projectId':_0x587073[_0x504650(0x7b7)],'status':'lobby','pin':_0x31f380,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2f1a8d});currentTeamQuizId=_0x59f351['id'],showView(_0x504650(0x8bb)),renderAdminTeamQuizDashboard(_0x31f380,_0x587073[_0x504650(0x88d)]),listenForTeamQuizUpdates();}catch(_0x4e543a){console['error'](_0x504650(0x6dd),_0x4e543a),showMessage(_0x504650(0x8f9));}}function renderAdminTeamQuizDashboard(_0x536afe,_0x181c67,_0xa19eb7=_0x31ab05(0x2a6)){const _0x4fba88=_0x31ab05,_0x5556cd=_0xa19eb7===_0x4fba88(0x1d6)?_0x4fba88(0x5f6):_0x4fba88(0x8c7);liveGameView[_0x4fba88(0x9ad)]=_0x4fba88(0x787)+_0x5556cd+':\x20'+_0x181c67+_0x4fba88(0x584)+_0x536afe+_0x4fba88(0x3d2),document[_0x4fba88(0x983)]('end-team-quiz-btn')[_0x4fba88(0x7d4)](_0x4fba88(0x72b),async()=>{const _0x57b2af=_0x4fba88;showConfirmation(_0x57b2af(0x7a6),async()=>{const _0x4113e9=_0x57b2af;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x4113e9(0x9ac)+appId+_0x4113e9(0x475),currentTeamQuizId)),showView(_0x4113e9(0xaac));});});}function listenForTeamQuizUpdates(){const _0x3fd3e5=_0x31ab05;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x2ec27a=doc(db,_0x3fd3e5(0x9ac)+appId+_0x3fd3e5(0x475),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x2ec27a,_0x554adf=>{const _0x1ce35d=_0x3fd3e5;if(!_0x554adf[_0x1ce35d(0x9da)]()){sessionStorage[_0x1ce35d(0xaba)](_0x1ce35d(0x3fe));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode===_0x1ce35d(0x685))showMessage(_0x1ce35d(0x37b));showView(currentMode==='admin'?_0x1ce35d(0xaac):_0x1ce35d(0x206));return;}const _0x59e6a1=_0x554adf[_0x1ce35d(0x943)]();if(currentMode===_0x1ce35d(0x685)){if(_0x59e6a1[_0x1ce35d(0x3d0)]==='group'&&_0x59e6a1['status']!==_0x1ce35d(0x789)&&_0x59e6a1[_0x1ce35d(0xa1f)]!=='finished'){const _0x45f482=Object[_0x1ce35d(0x33d)](_0x59e6a1['groups']||{});if(_0x45f482[_0x1ce35d(0xabc)]>0x0){const _0x56a530=_0x45f482[_0x1ce35d(0x53b)](_0x323f32=>_0x323f32[_0x1ce35d(0x19c)]===!![]);_0x56a530&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x59e6a1);}else{if(_0x59e6a1['status']===_0x1ce35d(0x789)||_0x59e6a1['status']==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x59e6a1[_0x1ce35d(0x3d0)]===_0x1ce35d(0x1d6)){const _0x2678b7=_0x59e6a1[_0x1ce35d(0x398)][userId];(!_0x2678b7||!_0x2678b7[_0x1ce35d(0x19c)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x32d688){const _0x4f5be2=_0x31ab05;console[_0x4f5be2(0x4a9)](_0x4f5be2(0xab0));const _0x3cc650=doc(db,_0x4f5be2(0x9ac)+appId+'/public/data/teamQuizzes',_0x32d688);try{const _0x2dd4b3=await getDoc(_0x3cc650);if(_0x2dd4b3['exists']()){const _0x332220=_0x2dd4b3[_0x4f5be2(0x943)]();_0x332220[_0x4f5be2(0x23b)]&&await saveGameResultsAsSubmissions(_0x332220);}await updateDoc(_0x3cc650,{'status':_0x4f5be2(0x789)});}catch(_0x40f62d){console[_0x4f5be2(0x8c0)](_0x4f5be2(0x752),_0x40f62d);}}function updateAdminTeamDashboard(_0x283f29){const _0x10f80d=_0x31ab05,_0x14f3d6=document[_0x10f80d(0x983)](_0x10f80d(0x800));if(!_0x14f3d6)return;const _0x32746e=_0x283f29[_0x10f80d(0x3d0)]||_0x10f80d(0x2a6);if(_0x32746e==='group'){const _0xa16c0b=Object[_0x10f80d(0x33d)](_0x283f29[_0x10f80d(0x398)]||{});if(_0xa16c0b[_0x10f80d(0xabc)]===0x0){_0x14f3d6[_0x10f80d(0x9ad)]=_0x10f80d(0x717);return;}const _0x120085=[..._0xa16c0b][_0x10f80d(0x7ab)]((_0x127b81,_0x45ac66)=>_0x45ac66[_0x10f80d(0x941)]-_0x127b81[_0x10f80d(0x941)]),_0x14da92=_0x120085['map']((_0x8c73a5,_0x430633)=>_0x10f80d(0x558)+(_0x430633+0x1)+_0x10f80d(0x477)+_0x8c73a5[_0x10f80d(0x449)]['join'](',\x20')+_0x10f80d(0x929)+_0x8c73a5[_0x10f80d(0x941)]+_0x10f80d(0x299))[_0x10f80d(0x62f)]('');let _0x9cbb4e='';currentQuizData&&currentQuizData['questions']&&(_0x9cbb4e=currentQuizData[_0x10f80d(0x2c2)][_0x10f80d(0x2e0)]((_0x20c204,_0x1aa528)=>{const _0xfd8c45=_0x10f80d;let _0x4c2611=0x0;return _0xa16c0b['forEach'](_0x344642=>{const _0x51d966=_0x4d4b,_0x274ad6=_0x344642[_0x51d966(0x646)]||[],_0x461558=_0x274ad6[_0x51d966(0x606)](_0x524168=>_0x524168[_0x51d966(0x543)]===_0x1aa528);_0x461558&&_0x461558[_0x51d966(0x22d)]&&_0x4c2611++;}),_0xfd8c45(0x785)+(_0x1aa528+0x1)+_0xfd8c45(0x84c)+_0x4c2611+'\x20/\x20'+_0xa16c0b[_0xfd8c45(0xabc)]+_0xfd8c45(0x414);})[_0x10f80d(0x62f)]('')),_0x14f3d6[_0x10f80d(0x9ad)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x14da92+_0x10f80d(0x44f)+_0x9cbb4e+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x5574f1=_0x283f29[_0x10f80d(0x625)]||{},_0x52f1f2=Object[_0x10f80d(0x2c9)](_0x5574f1);if(_0x52f1f2[_0x10f80d(0xabc)]===0x0){_0x14f3d6['innerHTML']='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0x35ebbe=_0x52f1f2[_0x10f80d(0x2e0)](_0x1a282a=>({'name':_0x1a282a,'score':_0x5574f1[_0x1a282a][_0x10f80d(0x941)]||0x0}))[_0x10f80d(0x7ab)]((_0x5e6f72,_0x1d42c0)=>_0x1d42c0[_0x10f80d(0x941)]-_0x5e6f72['score']);let _0x3f2c91='';currentQuizData&&currentQuizData['questions']&&(_0x3f2c91=currentQuizData[_0x10f80d(0x2c2)][_0x10f80d(0x2e0)]((_0x29ed96,_0x50086e)=>{const _0x1ae495=_0x10f80d;let _0x151605=0x0;return _0x52f1f2[_0x1ae495(0x1bc)](_0x40f556=>{const _0x9dfe88=_0x1ae495,_0xd86545=_0x5574f1[_0x40f556]['answers']||[],_0x4aac=_0xd86545[_0x9dfe88(0x606)](_0x54d81c=>_0x54d81c[_0x9dfe88(0x543)]===_0x50086e);if(_0x4aac&&_0x4aac[_0x9dfe88(0x22d)])_0x151605++;}),_0x1ae495(0x995)+(_0x50086e+0x1)+_0x1ae495(0x6d5)+_0x151605+_0x1ae495(0x47d)+_0x52f1f2[_0x1ae495(0xabc)]+_0x1ae495(0x837);})[_0x10f80d(0x62f)]('')),_0x14f3d6[_0x10f80d(0x9ad)]=_0x10f80d(0x987)+_0x35ebbe[_0x10f80d(0x2e0)](_0xa83396=>_0x10f80d(0x1c2)+_0xa83396[_0x10f80d(0x73f)]+'</span><span\x20class=\x22font-bold\x22>'+_0xa83396['score']+_0x10f80d(0x809))[_0x10f80d(0x62f)]('')+_0x10f80d(0x44f)+_0x3f2c91+_0x10f80d(0x433);}}async function handleJoinTeamQuiz(){const _0x5108aa=_0x31ab05,_0x4e9d2d=prompt(_0x5108aa(0x178));if(!_0x4e9d2d||_0x4e9d2d[_0x5108aa(0x68c)]()[_0x5108aa(0xabc)]!==0x4){showMessage(_0x5108aa(0x25b));return;}try{const _0x4d7dbe=collection(db,_0x5108aa(0x9ac)+appId+_0x5108aa(0x475)),_0x42e2f1=query(_0x4d7dbe,where(_0x5108aa(0x209),'==',_0x4e9d2d[_0x5108aa(0x68c)]()),where(_0x5108aa(0xa1f),'==','lobby')),_0x5d4f01=await getDocs(_0x42e2f1);if(_0x5d4f01[_0x5108aa(0x3c8)]){showMessage(_0x5108aa(0x249));return;}const _0x22d70d=_0x5d4f01[_0x5108aa(0x2f9)][0x0];currentTeamQuizId=_0x22d70d['id'];const _0x48332b=_0x22d70d['data'](),_0x4647a4=doc(db,_0x5108aa(0x9ac)+appId+_0x5108aa(0x5e8),_0x48332b[_0x5108aa(0x7b7)]),_0x51b027=doc(db,_0x5108aa(0x9ac)+appId+_0x5108aa(0x519),_0x48332b[_0x5108aa(0x61d)]),[_0x3a6a83,_0x25e7e1]=await Promise[_0x5108aa(0x1d2)]([getDoc(_0x4647a4),getDoc(_0x51b027)]);if(!_0x3a6a83[_0x5108aa(0x9da)]()||!_0x25e7e1[_0x5108aa(0x9da)]())throw new Error(_0x5108aa(0x8cd));currentQuizData=getShuffledQuiz({'id':_0x25e7e1['id'],..._0x25e7e1[_0x5108aa(0x943)]()});const _0x32b218=_0x3a6a83[_0x5108aa(0x943)]();showTeamPlayerSelection(_0x32b218[_0x5108aa(0xa76)],currentQuizData[_0x5108aa(0x88d)]);}catch(_0xe42c01){console[_0x5108aa(0x8c0)](_0x5108aa(0x33e),_0xe42c01),showMessage(_0x5108aa(0x63c)+_0xe42c01[_0x5108aa(0xa8c)]);}}async function handleJoinGroupActivity(){const _0x41916b=_0x31ab05,_0x4b7694=prompt(_0x41916b(0x690));if(!_0x4b7694||_0x4b7694['trim']()[_0x41916b(0xabc)]!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0x4e6017=_0x4b7694[_0x41916b(0x68c)]();showMessage(_0x41916b(0x196));try{const _0x3fbc53=collection(db,_0x41916b(0x9ac)+appId+_0x41916b(0x475)),_0x3af898=query(_0x3fbc53,where('pin','==',_0x4e6017),where('status','==',_0x41916b(0xaa5))),_0x173b9c=await getDocs(_0x3af898);if(!_0x173b9c[_0x41916b(0x3c8)]){console['log']('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x173b9c['docs'][0x0]);return;}const _0x40f962=collection(db,_0x41916b(0x9ac)+appId+_0x41916b(0x86c)),_0x4fd627=query(_0x40f962,where(_0x41916b(0x209),'==',_0x4e6017),where(_0x41916b(0xa1f),'==','lobby')),_0x4bbec6=await getDocs(_0x4fd627);if(!_0x4bbec6['empty']){console[_0x41916b(0x4a9)](_0x41916b(0x75a)),await proceedWithSyncQuizJoin(_0x4bbec6[_0x41916b(0x2f9)][0x0]);return;}showMessage(_0x41916b(0xa7d));}catch(_0xf66897){console[_0x41916b(0x8c0)](_0x41916b(0x78a),_0xf66897),showMessage(_0x41916b(0xa99)+_0xf66897[_0x41916b(0xa8c)]);}}async function proceedWithTeamQuizJoin(_0x3fad23){const _0x145807=_0x31ab05;currentTeamQuizId=_0x3fad23['id'];const _0x2ff203=_0x3fad23[_0x145807(0x943)](),_0x561490=doc(db,_0x145807(0x9ac)+appId+_0x145807(0x5e8),_0x2ff203['projectId']),_0xb983fb=doc(db,_0x145807(0x9ac)+appId+_0x145807(0x519),_0x2ff203[_0x145807(0x61d)]),[_0x1820fc,_0x2fbb12]=await Promise[_0x145807(0x1d2)]([getDoc(_0x561490),getDoc(_0xb983fb)]);if(!_0x1820fc[_0x145807(0x9da)]()||!_0x2fbb12[_0x145807(0x9da)]())throw new Error(_0x145807(0x8cd));currentQuizData=getShuffledQuiz({'id':_0x2fbb12['id'],..._0x2fbb12[_0x145807(0x943)]()}),showTeamPlayerSelection(_0x1820fc[_0x145807(0x943)]()[_0x145807(0xa76)],currentQuizData['topic'],_0x2ff203[_0x145807(0x3d0)]||_0x145807(0x2a6)),messageModal[_0x145807(0x7b1)][_0x145807(0x9a9)](_0x145807(0x540));}async function proceedWithSyncQuizJoin(_0x59903e){const _0x4ba603=_0x31ab05;currentLiveGameId=_0x59903e['id'];const _0x3cf64d=_0x59903e[_0x4ba603(0x943)](),_0x77f995=doc(db,_0x4ba603(0x9ac)+appId+_0x4ba603(0x519),_0x3cf64d[_0x4ba603(0x61d)]),_0x2b3ef7=await getDoc(_0x77f995);if(!_0x2b3ef7[_0x4ba603(0x9da)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x49f846=_0x2b3ef7['data'](),_0xbb15c4=doc(db,'artifacts/'+appId+'/public/data/projects',_0x49f846['projectId']),_0x57c099=await getDoc(_0xbb15c4);if(!_0x57c099[_0x4ba603(0x9da)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x3cf64d[_0x4ba603(0x25c)],showView(_0x4ba603(0x7b2)),showTeamPlayerSelection(_0x57c099[_0x4ba603(0x943)]()['students'],_0x49f846[_0x4ba603(0x88d)],'sync'),document[_0x4ba603(0x983)](_0x4ba603(0xa4d))[_0x4ba603(0x488)]=confirmAndJoinSyncGame,messageModal['classList']['add'](_0x4ba603(0x540));}function showTeamPlayerSelection(_0x3061d3,_0xb81cf4,_0x1312e1=_0x31ab05(0x2a6)){const _0x56eb71=_0x31ab05;studentInitialView[_0x56eb71(0x7b1)][_0x56eb71(0x9a9)](_0x56eb71(0x540)),studentJoinGameView[_0x56eb71(0x7b1)]['add'](_0x56eb71(0x540)),document[_0x56eb71(0x983)]('student-team-selection-view')['classList'][_0x56eb71(0x195)](_0x56eb71(0x540));let _0x518e23=_0x56eb71(0x8c7);if(_0x1312e1===_0x56eb71(0x1d6))_0x518e23='Group\x20Mode';else _0x1312e1==='sync'&&(_0x518e23=_0x56eb71(0x443));document['getElementById']('team-quiz-topic')[_0x56eb71(0x36e)]=_0x518e23+':\x20'+_0xb81cf4;const _0x776ae6=document[_0x56eb71(0x983)]('team-student-list');if(!_0x3061d3||_0x3061d3[_0x56eb71(0xabc)]===0x0){_0x776ae6['innerHTML']=_0x56eb71(0x9df),document[_0x56eb71(0x983)](_0x56eb71(0xa4d))[_0x56eb71(0x383)]=!![];return;}_0x776ae6[_0x56eb71(0x9ad)]=_0x3061d3['map'](_0x4ad589=>_0x56eb71(0x327)+_0x4ad589+_0x56eb71(0x307)+_0x4ad589+_0x56eb71(0x69c))[_0x56eb71(0x62f)](''),document[_0x56eb71(0x983)]('confirm-team-players-btn')[_0x56eb71(0x383)]=![];}async function confirmAndStartTeamQuiz(){const _0x42d6d3=_0x31ab05,_0x6696c9=Array[_0x42d6d3(0xa96)](document['querySelectorAll'](_0x42d6d3(0x693)))['map'](_0x1daa61=>_0x1daa61[_0x42d6d3(0x3eb)]);if(_0x6696c9[_0x42d6d3(0xabc)]===0x0){showMessage(_0x42d6d3(0x48c));return;}localTeamPlayers=_0x6696c9,localPlayerTurnIndex=0x0;const _0x547631=doc(db,_0x42d6d3(0x9ac)+appId+_0x42d6d3(0x475),currentTeamQuizId),_0x689482=await getDoc(_0x547631);if(!_0x689482['exists']()){showMessage(_0x42d6d3(0x9a4));return;}const _0x21cd81=_0x689482[_0x42d6d3(0x943)]();_0x21cd81['mode']==='group'&&(localGroupQuestionIndex=0x0);try{if(_0x21cd81[_0x42d6d3(0x3d0)]===_0x42d6d3(0x1d6)){const _0x1c71ee=userId,_0x159786={};_0x159786[_0x42d6d3(0x838)+_0x1c71ee]={'members':localTeamPlayers,'score':0x0,'answers':[]},await updateDoc(_0x547631,_0x159786);}else{const _0x23a168={};localTeamPlayers['forEach'](_0x2a194b=>{const _0x47a883=_0x42d6d3;_0x23a168[_0x47a883(0x718)+_0x2a194b]={'score':0x0,'answers':[]};}),await updateDoc(_0x547631,_0x23a168);}document['getElementById'](_0x42d6d3(0x8f3))[_0x42d6d3(0x7b1)][_0x42d6d3(0x9a9)](_0x42d6d3(0x540)),renderTeamQuizQuestion();const _0x46b285={'gameId':currentTeamQuizId,'mode':_0x21cd81[_0x42d6d3(0x3d0)]||'team','players':localTeamPlayers,'turnIndex':localPlayerTurnIndex};sessionStorage[_0x42d6d3(0x1cd)](_0x42d6d3(0x3fe),JSON[_0x42d6d3(0x56f)](_0x46b285)),listenForTeamQuizUpdates();}catch(_0xf3f2e3){console['error'](_0x42d6d3(0x84d),_0xf3f2e3),showMessage(_0x42d6d3(0x872));}}async function renderTeamQuizQuestion(){const _0x4d7812=_0x31ab05,_0x55a4f9=doc(db,_0x4d7812(0x9ac)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x16503c=await getDoc(_0x55a4f9);if(!_0x16503c[_0x4d7812(0x9da)]())return;const _0x13589e=_0x16503c[_0x4d7812(0x943)](),_0x3fbf0e=_0x13589e[_0x4d7812(0x3d0)]||_0x4d7812(0x2a6);let _0x432574,_0x53e14e;_0x3fbf0e==='group'?(_0x432574=localGroupQuestionIndex,_0x53e14e=_0x4d7812(0x6d1)+localTeamPlayers['join'](',\x20')):(_0x432574=Math[_0x4d7812(0x273)](localPlayerTurnIndex/localTeamPlayers[_0x4d7812(0xabc)]),_0x53e14e=_0x4d7812(0x2c3)+localTeamPlayers[localPlayerTurnIndex%localTeamPlayers['length']]);if(_0x432574>=currentQuizData[_0x4d7812(0x2c2)]['length']){displayTeamQuizFinalResults();return;}const _0x3c9c17=currentQuizData[_0x4d7812(0x2c2)][_0x432574],_0x5d7f87=_0x3c9c17[_0x4d7812(0x225)]||currentQuizData[_0x4d7812(0x91c)];let _0x3dcfcf=_0x3c9c17[_0x4d7812(0x2c1)]||_0x3c9c17['questionText'],_0x553aed='';switch(_0x5d7f87){case _0x4d7812(0x373):case _0x4d7812(0x593):_0x553aed=_0x3c9c17[_0x4d7812(0x9b4)]['map']((_0x28559c,_0x1c16db)=>_0x4d7812(0x9ca)+_0x1c16db+_0x4d7812(0x940)+_0x1c16db+_0x4d7812(0x410)+_0x1c16db+'\x22>'+_0x28559c+_0x4d7812(0x85f))[_0x4d7812(0x62f)]('');break;case _0x4d7812(0x486):_0x553aed=_0x4d7812(0x5a8);break;case _0x4d7812(0x2f3):case _0x4d7812(0x3a2):_0x553aed=_0x4d7812(0x261);break;case _0x4d7812(0x729):_0x553aed=_0x4d7812(0x426)+_0x3c9c17[_0x4d7812(0x9c2)][_0x4d7812(0x2e0)](_0x1ade58=>'<option\x20value=\x22'+_0x1ade58+'\x22>'+_0x1ade58+'</option>')[_0x4d7812(0x62f)]('')+_0x4d7812(0x2d4);break;default:_0x553aed=_0x4d7812(0x9fa);break;}studentQuizArea[_0x4d7812(0x9ad)]=_0x4d7812(0x8de)+(_0x432574+0x1)+_0x4d7812(0x47d)+currentQuizData[_0x4d7812(0x2c2)][_0x4d7812(0xabc)]+_0x4d7812(0x892)+_0x53e14e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(_0x432574+0x1)+'.\x20'+_0x3dcfcf+_0x4d7812(0x78c)+(_0x3c9c17[_0x4d7812(0x6bc)]?_0x4d7812(0x934)+_0x3c9c17[_0x4d7812(0x6bc)]+'</div>':'')+_0x4d7812(0x4e7)+_0x553aed+_0x4d7812(0x350),studentQuizArea[_0x4d7812(0x7b1)]['remove']('hidden');if(window[_0x4d7812(0x2cb)])MathJax[_0x4d7812(0x1de)]([studentQuizArea]);const _0x2c085d=document['getElementById']('submit-team-answer-btn');_0x3fbf0e===_0x4d7812(0x1d6)?_0x2c085d[_0x4d7812(0x7d4)](_0x4d7812(0x72b),handleGroupAnswerSubmit):_0x2c085d['addEventListener'](_0x4d7812(0x72b),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x138ba1=_0x31ab05,_0x1b35e6=doc(db,_0x138ba1(0x9ac)+appId+_0x138ba1(0x475),currentTeamQuizId),_0x5e87cf=localGroupQuestionIndex,_0x4f13d8=currentQuizData['questions'][_0x5e87cf],_0x17cc27=_0x4f13d8[_0x138ba1(0x225)]||currentQuizData[_0x138ba1(0x91c)];let _0x581be5=null,_0x208c25=![];if(_0x17cc27==='short_answer'||_0x17cc27===_0x138ba1(0x3a2)){const _0x16b723=document[_0x138ba1(0x6d9)](_0x138ba1(0x8c5));if(!_0x16b723||!_0x16b723['value'][_0x138ba1(0x68c)]()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x581be5=_0x16b723['value']['trim'](),_0x208c25=await gradeShortAnswer(_0x581be5,_0x4f13d8);}else{const _0x59958c=document[_0x138ba1(0x6d9)](_0x138ba1(0x8d0));if(!_0x59958c||_0x59958c[_0x138ba1(0x3eb)]===''){showMessage(_0x138ba1(0x408));return;}_0x581be5=_0x59958c['value'];switch(_0x17cc27){case _0x138ba1(0x486):_0x208c25=_0x581be5===_0x138ba1(0xa61)===_0x4f13d8[_0x138ba1(0x1dc)];break;case _0x138ba1(0x729):_0x208c25=_0x581be5===_0x4f13d8[_0x138ba1(0x965)];break;default:_0x208c25=parseInt(_0x581be5)===_0x4f13d8[_0x138ba1(0x438)];break;}}const _0x26d4b2={'questionIndex':_0x5e87cf,'isCorrect':_0x208c25},_0x2276f2=userId,_0x3abafa={};_0x3abafa[_0x138ba1(0x838)+_0x2276f2+'.answers']=arrayUnion(_0x26d4b2);_0x208c25&&(_0x3abafa[_0x138ba1(0x838)+_0x2276f2+_0x138ba1(0x8d9)]=increment(0x1));try{await updateDoc(_0x1b35e6,_0x3abafa),localGroupQuestionIndex++,renderTeamQuizQuestion();}catch(_0x3eb9c0){console[_0x138ba1(0x8c0)](_0x138ba1(0xa2a),_0x3eb9c0),showMessage(_0x138ba1(0x9fd));}}async function handleTeamAnswerSubmit(){const _0x39cd82=_0x31ab05,_0x27b061=localTeamPlayers[localPlayerTurnIndex%localTeamPlayers['length']],_0x4990d5=Math[_0x39cd82(0x273)](localPlayerTurnIndex/localTeamPlayers['length']),_0x17b453=currentQuizData['questions'][_0x4990d5],_0x562422=_0x17b453['questionType']||currentQuizData[_0x39cd82(0x91c)];let _0x34ba6d=null,_0x3828ef=![];if(_0x562422==='short_answer'||_0x562422===_0x39cd82(0x3a2)){const _0x4858bb=document[_0x39cd82(0x6d9)](_0x39cd82(0x8c5));if(!_0x4858bb||!_0x4858bb[_0x39cd82(0x3eb)][_0x39cd82(0x68c)]()){showMessage(_0x39cd82(0x5fa));return;}_0x34ba6d=_0x4858bb[_0x39cd82(0x3eb)][_0x39cd82(0x68c)](),_0x3828ef=await gradeShortAnswer(_0x34ba6d,_0x17b453);}else{const _0x2a3fba=document['querySelector'](_0x39cd82(0x8d0));if(!_0x2a3fba||_0x2a3fba[_0x39cd82(0x3eb)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x34ba6d=_0x2a3fba[_0x39cd82(0x3eb)];switch(_0x562422){case _0x39cd82(0x486):const _0x23e93a=_0x34ba6d===_0x39cd82(0xa61);_0x3828ef=_0x23e93a===_0x17b453[_0x39cd82(0x1dc)];break;case _0x39cd82(0x729):_0x3828ef=_0x34ba6d===_0x17b453[_0x39cd82(0x965)];break;default:const _0x1c6a7c=parseInt(_0x34ba6d);_0x3828ef=_0x1c6a7c===_0x17b453[_0x39cd82(0x438)];break;}}const _0x20cef8={'questionIndex':_0x4990d5,'isCorrect':_0x3828ef,'answerValue':_0x34ba6d},_0x1b187f=doc(db,_0x39cd82(0x9ac)+appId+_0x39cd82(0x475),currentTeamQuizId),_0x42f262={};_0x42f262[_0x39cd82(0x718)+_0x27b061+_0x39cd82(0x59c)]=arrayUnion(_0x20cef8);_0x3828ef&&(_0x42f262[_0x39cd82(0x718)+_0x27b061+_0x39cd82(0x8d9)]=increment(0x1));try{await updateDoc(_0x1b187f,_0x42f262),localPlayerTurnIndex++;const _0x231c74=JSON[_0x39cd82(0x83a)](sessionStorage[_0x39cd82(0x688)]('activeGameSession')||'{}');_0x231c74['turnIndex']=localPlayerTurnIndex,sessionStorage[_0x39cd82(0x1cd)](_0x39cd82(0x3fe),JSON[_0x39cd82(0x56f)](_0x231c74)),renderTeamQuizQuestion();}catch(_0x46a357){console['error']('Error\x20submitting\x20team\x20answer:',_0x46a357),showMessage(_0x39cd82(0x9fd));}}async function displayTeamQuizFinalResults(){const _0x3fe3a4=_0x31ab05;studentQuizArea[_0x3fe3a4(0x7b1)][_0x3fe3a4(0x9a9)](_0x3fe3a4(0x540)),studentResultArea[_0x3fe3a4(0x7b1)][_0x3fe3a4(0x195)](_0x3fe3a4(0x540));const _0x13b41f=doc(db,_0x3fe3a4(0x9ac)+appId+_0x3fe3a4(0x475),currentTeamQuizId),_0x34389e=await getDoc(_0x13b41f);if(!_0x34389e[_0x3fe3a4(0x9da)]()){studentResultArea[_0x3fe3a4(0x9ad)]=_0x3fe3a4(0x3cd);return;}const _0x40908a=_0x34389e[_0x3fe3a4(0x943)]();let _0xabf08d=[];const _0x26840b=_0x40908a['mode']||_0x3fe3a4(0x2a6);if(_0x26840b===_0x3fe3a4(0x1d6)){const _0x4cff89=_0x40908a[_0x3fe3a4(0x398)][userId];_0x4cff89?_0xabf08d=[{'name':'กลุ่ม:\x20'+localTeamPlayers[_0x3fe3a4(0x62f)](',\x20'),'score':_0x4cff89[_0x3fe3a4(0x941)]||0x0}]:_0xabf08d=[{'name':_0x3fe3a4(0x7a5),'score':_0x3fe3a4(0x83e)}];}else _0xabf08d=localTeamPlayers['map'](_0x15805d=>({'name':_0x15805d,'score':_0x40908a[_0x3fe3a4(0x625)][_0x15805d]?.['score']||0x0}))[_0x3fe3a4(0x7ab)]((_0xbd46cb,_0x4c839f)=>_0x4c839f[_0x3fe3a4(0x941)]-_0xbd46cb[_0x3fe3a4(0x941)]);studentResultArea['innerHTML']=_0x3fe3a4(0x7bd)+_0xabf08d[_0x3fe3a4(0x2e0)](_0x94054c=>_0x3fe3a4(0x445)+_0x94054c[_0x3fe3a4(0x73f)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x94054c[_0x3fe3a4(0x941)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x3fe3a4(0xaba)](_0x3fe3a4(0x3fe)),currentMode===_0x3fe3a4(0x685)&&currentTeamQuizId&&setTimeout(()=>{const _0x4df9ca=_0x3fe3a4;deleteDoc(doc(db,_0x4df9ca(0x9ac)+appId+_0x4df9ca(0x475),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x31ab05(0x45c),'pinnedProjects':[],'projectView':_0x31ab05(0x946)};const allMathTopics=[{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x2b2)},{'category':_0x31ab05(0x32b),'name':'ระบบเลขและค่าประจำหลัก'},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x58b)},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x3ee)},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x3e9)},{'category':'จำนวนและการดำเนินการ','name':_0x31ab05(0x60c)},{'category':_0x31ab05(0x32b),'name':'การคูณ'},{'category':_0x31ab05(0x32b),'name':'การหาร'},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0xa2d)},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x1e5)},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x4fd)},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x883)},{'category':_0x31ab05(0x32b),'name':'เส้นจำนวน'},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x73c)},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x3f2)},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x3b1)},{'category':'จำนวนและการดำเนินการ','name':_0x31ab05(0x3f7)},{'category':'จำนวนและการดำเนินการ','name':'อัตราและอัตราหน่วย'},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0xa33)},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x352)},{'category':_0x31ab05(0x32b),'name':'การลบเศษส่วน'},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x93a)},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x241)},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x750)},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x5c5)},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x2bb)},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x2a7)},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x74d)},{'category':_0x31ab05(0x32b),'name':'การหารทศนิยม'},{'category':_0x31ab05(0x32b),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x31ab05(0x32b),'name':'ร้อยละพื้นฐาน'},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x253)},{'category':'จำนวนและการดำเนินการ','name':_0x31ab05(0x737)},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x479)},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x7ef)},{'category':_0x31ab05(0x32b),'name':_0x31ab05(0x1f9)},{'category':'จำนวนและการดำเนินการ','name':_0x31ab05(0x6c9)},{'category':_0x31ab05(0x233),'name':_0x31ab05(0xab7)},{'category':_0x31ab05(0x233),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x31ab05(0x233),'name':_0x31ab05(0x8dc)},{'category':_0x31ab05(0x233),'name':_0x31ab05(0x469)},{'category':_0x31ab05(0x233),'name':_0x31ab05(0x37d)},{'category':_0x31ab05(0x233),'name':_0x31ab05(0x42a)},{'category':_0x31ab05(0x233),'name':'พื้นที่สี่เหลี่ยม'},{'category':'การวัด','name':_0x31ab05(0x7f8)},{'category':_0x31ab05(0x233),'name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0x31ab05(0x233),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x31ab05(0x233),'name':_0x31ab05(0x9f6)},{'category':'การวัด','name':_0x31ab05(0x905)},{'category':_0x31ab05(0x233),'name':_0x31ab05(0x759)},{'category':_0x31ab05(0x233),'name':_0x31ab05(0x75d)},{'category':_0x31ab05(0x58c),'name':_0x31ab05(0x22a)},{'category':_0x31ab05(0x58c),'name':_0x31ab05(0x4be)},{'category':_0x31ab05(0x58c),'name':_0x31ab05(0x801)},{'category':_0x31ab05(0x58c),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x31ab05(0x58c),'name':_0x31ab05(0x65a)},{'category':_0x31ab05(0x58c),'name':_0x31ab05(0x557)},{'category':_0x31ab05(0x58c),'name':_0x31ab05(0x733)},{'category':_0x31ab05(0x58c),'name':_0x31ab05(0x4f2)},{'category':_0x31ab05(0x58c),'name':_0x31ab05(0x344)},{'category':_0x31ab05(0x58c),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x31ab05(0x58c),'name':_0x31ab05(0x472)},{'category':_0x31ab05(0x58c),'name':_0x31ab05(0x555)},{'category':_0x31ab05(0x58c),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x31ab05(0x58c),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x31ab05(0x58c),'name':_0x31ab05(0x506)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x31ab05(0x498)},{'category':_0x31ab05(0x529),'name':_0x31ab05(0x33f)},{'category':_0x31ab05(0x529),'name':_0x31ab05(0x5f1)},{'category':_0x31ab05(0x529),'name':'การแยกตัวประกอบ'},{'category':_0x31ab05(0x529),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x31ab05(0x529),'name':_0x31ab05(0x746)},{'category':_0x31ab05(0x529),'name':_0x31ab05(0x417)},{'category':_0x31ab05(0x529),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x31ab05(0x529),'name':'สมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x31ab05(0x65d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x31ab05(0x6c6)},{'category':_0x31ab05(0x529),'name':'สมการยกกำลัง'},{'category':_0x31ab05(0x529),'name':_0x31ab05(0x7dd)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x31ab05(0x80a)},{'category':_0x31ab05(0x529),'name':'อสมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x31ab05(0x976)},{'category':_0x31ab05(0x529),'name':_0x31ab05(0x27f)},{'category':_0x31ab05(0x529),'name':_0x31ab05(0x8ca)},{'category':_0x31ab05(0x529),'name':_0x31ab05(0x4b0)},{'category':_0x31ab05(0x529),'name':_0x31ab05(0xaa8)},{'category':_0x31ab05(0x529),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x31ab05(0x529),'name':_0x31ab05(0x907)},{'category':_0x31ab05(0x529),'name':_0x31ab05(0x23c)},{'category':_0x31ab05(0x529),'name':_0x31ab05(0x680)},{'category':_0x31ab05(0x529),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x31ab05(0x529),'name':_0x31ab05(0x9ee)},{'category':_0x31ab05(0x529),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x31ab05(0x529),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0x31ab05(0x529),'name':'ฟังก์ชันยกกำลัง'},{'category':_0x31ab05(0x529),'name':_0x31ab05(0x565)},{'category':_0x31ab05(0x529),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x31ab05(0x529),'name':_0x31ab05(0x587)},{'category':_0x31ab05(0x529),'name':_0x31ab05(0x7b5)},{'category':_0x31ab05(0x529),'name':_0x31ab05(0xa3f)},{'category':_0x31ab05(0x529),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':'เรขาคณิตวิเคราะห์','name':_0x31ab05(0x6ef)},{'category':_0x31ab05(0x504),'name':_0x31ab05(0x2be)},{'category':_0x31ab05(0x504),'name':_0x31ab05(0x5bf)},{'category':_0x31ab05(0x504),'name':_0x31ab05(0x2eb)},{'category':_0x31ab05(0x504),'name':_0x31ab05(0x4a3)},{'category':_0x31ab05(0x504),'name':_0x31ab05(0x85d)},{'category':_0x31ab05(0x504),'name':_0x31ab05(0x98e)},{'category':_0x31ab05(0x504),'name':_0x31ab05(0x927)},{'category':_0x31ab05(0x504),'name':_0x31ab05(0x732)},{'category':_0x31ab05(0x5b4),'name':_0x31ab05(0xa67)},{'category':_0x31ab05(0x5b4),'name':_0x31ab05(0x1f4)},{'category':_0x31ab05(0x5b4),'name':_0x31ab05(0xa19)},{'category':'ตรีโกณมิติ','name':_0x31ab05(0x36b)},{'category':_0x31ab05(0x5b4),'name':_0x31ab05(0x448)},{'category':_0x31ab05(0x5b4),'name':_0x31ab05(0x932)},{'category':'ตรีโกณมิติ','name':_0x31ab05(0x266)},{'category':_0x31ab05(0x5b4),'name':_0x31ab05(0x26a)},{'category':_0x31ab05(0x5b4),'name':_0x31ab05(0x19a)},{'category':'ตรีโกณมิติ','name':_0x31ab05(0x2d5)},{'category':_0x31ab05(0x5b4),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0x31ab05(0x9c9),'name':_0x31ab05(0x5d2)},{'category':'สถิติและความน่าจะเป็น','name':_0x31ab05(0x678)},{'category':'สถิติและความน่าจะเป็น','name':_0x31ab05(0x8ff)},{'category':_0x31ab05(0x9c9),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x31ab05(0x9c9),'name':'ฮิสโตแกรม'},{'category':_0x31ab05(0x9c9),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x31ab05(0x9c9),'name':_0x31ab05(0x334)},{'category':_0x31ab05(0x9c9),'name':_0x31ab05(0x9cd)},{'category':_0x31ab05(0x9c9),'name':_0x31ab05(0x812)},{'category':_0x31ab05(0x9c9),'name':_0x31ab05(0x312)},{'category':'สถิติและความน่าจะเป็น','name':_0x31ab05(0x1fd)},{'category':_0x31ab05(0x9c9),'name':_0x31ab05(0x7ec)},{'category':'สถิติและความน่าจะเป็น','name':_0x31ab05(0x9e0)},{'category':_0x31ab05(0x9c9),'name':_0x31ab05(0x919)},{'category':'สถิติและความน่าจะเป็น','name':_0x31ab05(0x5c7)},{'category':'สถิติและความน่าจะเป็น','name':_0x31ab05(0x75b)},{'category':_0x31ab05(0x9c9),'name':'กฎบวกและกฎคูณ'},{'category':_0x31ab05(0x9c9),'name':_0x31ab05(0x856)},{'category':'สถิติและความน่าจะเป็น','name':_0x31ab05(0x9ae)},{'category':_0x31ab05(0x9c9),'name':_0x31ab05(0x360)},{'category':'สถิติและความน่าจะเป็น','name':_0x31ab05(0x63e)},{'category':'สถิติและความน่าจะเป็น','name':'การจัดหมู่\x20(Combination)'},{'category':_0x31ab05(0x9c9),'name':_0x31ab05(0x6d0)},{'category':_0x31ab05(0x9c9),'name':_0x31ab05(0x6c2)},{'category':'แคลคูลัสเบื้องต้น','name':'ลิมิต'},{'category':'แคลคูลัสเบื้องต้น','name':_0x31ab05(0x7dc)},{'category':'แคลคูลัสเบื้องต้น','name':_0x31ab05(0x470)},{'category':_0x31ab05(0x4ae),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':_0x31ab05(0x4ae),'name':_0x31ab05(0x7f0)},{'category':_0x31ab05(0x4ae),'name':_0x31ab05(0x28d)},{'category':_0x31ab05(0x4ae),'name':_0x31ab05(0x2e7)},{'category':_0x31ab05(0x4ae),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x31ab05(0x4ae),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':'แคลคูลัสเบื้องต้น','name':_0x31ab05(0x2e9)},{'category':'แคลคูลัสเบื้องต้น','name':_0x31ab05(0x4b8)},{'category':_0x31ab05(0x4ae),'name':_0x31ab05(0x894)},{'category':_0x31ab05(0x4ae),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x31ab05(0x379),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x31ab05(0x379),'name':_0x31ab05(0x58f)},{'category':_0x31ab05(0x379),'name':_0x31ab05(0xad0)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x31ab05(0x309)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'อินเวอร์สของเมทริกซ์'},{'category':_0x31ab05(0x379),'name':_0x31ab05(0x34b)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x31ab05(0x336)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x31ab05(0xabf)},{'category':_0x31ab05(0x2ce),'name':_0x31ab05(0x4b1)},{'category':_0x31ab05(0x2ce),'name':_0x31ab05(0x508)},{'category':_0x31ab05(0x2ce),'name':_0x31ab05(0x5ed)},{'category':_0x31ab05(0x2ce),'name':_0x31ab05(0xa3a)},{'category':_0x31ab05(0x8c8),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x31ab05(0x8c8),'name':_0x31ab05(0x277)},{'category':_0x31ab05(0x8c8),'name':_0x31ab05(0x62e)}];function renderTopicCheckboxes(){const _0xe0f02c=_0x31ab05,_0xbfa041=document[_0xe0f02c(0x983)]('math-topics-checkbox-container');if(!_0xbfa041)return;const _0x3370c0=allMathTopics,_0x3b1318=customMathTopics[_0xe0f02c(0x2e0)](_0x16c995=>({'id':_0x16c995['id'],'category':'หัวข้อที่สร้างเอง','name':_0x16c995[_0xe0f02c(0x73f)]})),_0x1b4cd5=[..._0x3370c0,..._0x3b1318],_0x373ae5=_0x1b4cd5[_0xe0f02c(0x9ab)]((_0x1f2434,_0x58048f)=>{const _0x1f4deb=_0xe0f02c;return!_0x1f2434[_0x58048f[_0x1f4deb(0x287)]]&&(_0x1f2434[_0x58048f[_0x1f4deb(0x287)]]=[]),_0x1f2434[_0x58048f[_0x1f4deb(0x287)]][_0x1f4deb(0x9b9)](_0x58048f),_0x1f2434;},{});let _0xbbb4e='';const _0x36db2f=['หัวข้อที่สร้างเอง',...Object[_0xe0f02c(0x2c9)](_0x373ae5)['filter'](_0x506cf0=>_0x506cf0!==_0xe0f02c(0x8ce))];for(const _0x1f098d of _0x36db2f){if(_0x373ae5[_0x1f098d]){const _0x31b00b=_0x1f098d===_0xe0f02c(0x8ce),_0x281f82=_0x31b00b?_0xe0f02c(0x82d):_0xe0f02c(0x5a9),_0x1297e0=_0x31b00b?_0xe0f02c(0x20e):_0xe0f02c(0x6f1);_0xbbb4e+=_0xe0f02c(0x79d),_0xbbb4e+=_0xe0f02c(0x6db)+_0x1297e0+_0xe0f02c(0x7e8)+_0x281f82+_0xe0f02c(0x4e4)+_0x1f098d+_0xe0f02c(0x989),_0x373ae5[_0x1f098d]['forEach'](_0x3f0cf3=>{const _0x26c9d7=_0xe0f02c,_0x10faea=!!_0x3f0cf3['id'],_0x5760c1=_0x10faea?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3f0cf3['id']+_0x26c9d7(0x950)+_0x3f0cf3['id']+_0x26c9d7(0x1ad)+_0x3f0cf3['id']+_0x26c9d7(0x3db)+_0x3f0cf3['id']+_0x26c9d7(0xaa1):'';_0xbbb4e+=_0x26c9d7(0x9d0)+(_0x3f0cf3['id']||'')+_0x26c9d7(0x395)+_0x3f0cf3['name']+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x3f0cf3[_0x26c9d7(0x73f)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x10faea?_0x26c9d7(0x92a)+_0x3f0cf3[_0x26c9d7(0x73f)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5760c1+_0x26c9d7(0x741);}),_0xbbb4e+=_0xe0f02c(0x603);}}_0xbfa041['innerHTML']=_0xbbb4e||_0xe0f02c(0x556),_0xbfa041[_0xe0f02c(0x890)](_0xe0f02c(0x6f3),updateSelectedTopicsCount),_0xbfa041['addEventListener'](_0xe0f02c(0x6f3),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x4a881d,_0x3f6af9){const _0x24ed14=_0x31ab05;if(!_0x4a881d||!_0x3f6af9[_0x24ed14(0x68c)]()){showMessage(_0x24ed14(0x742));return;}try{const _0x4fdfb1=doc(db,_0x24ed14(0x9ac)+appId+_0x24ed14(0x807),_0x4a881d);await updateDoc(_0x4fdfb1,{'name':_0x3f6af9[_0x24ed14(0x68c)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0xf9a901){console[_0x24ed14(0x8c0)]('Error\x20updating\x20custom\x20topic:',_0xf9a901),showMessage(_0x24ed14(0x4dd));}}function toggleTopicEditMode(_0x410e8d,_0x2af400){const _0x6b042b=_0x31ab05;if(!_0x410e8d)return;const _0x2218d2=_0x410e8d['querySelector'](_0x6b042b(0x459)),_0x4dd2be=_0x410e8d[_0x6b042b(0x6d9)](_0x6b042b(0x92b)),_0x4b4558=_0x410e8d[_0x6b042b(0x6d9)](_0x6b042b(0x407)),_0x1b3aae=_0x410e8d[_0x6b042b(0x6d9)](_0x6b042b(0x274));_0x2218d2[_0x6b042b(0x7b1)][_0x6b042b(0x18f)](_0x6b042b(0x540),_0x2af400),_0x4dd2be['classList']['toggle'](_0x6b042b(0x540),!_0x2af400),_0x4b4558['classList']['toggle'](_0x6b042b(0x540),_0x2af400),_0x1b3aae[_0x6b042b(0x7b1)][_0x6b042b(0x18f)](_0x6b042b(0x540),!_0x2af400),_0x2af400&&(_0x4dd2be[_0x6b042b(0x45e)](),_0x4dd2be[_0x6b042b(0x1e2)]());}async function handleStartLiveRace(_0x5025ba){const _0x19e4cf=_0x31ab05;let _0x7a8d4d=allQuizzes[_0x19e4cf(0x606)](_0x128bab=>_0x128bab['id']===_0x5025ba);if(!_0x7a8d4d){const _0x2b4d34=doc(db,_0x19e4cf(0x9ac)+appId+_0x19e4cf(0x519),_0x5025ba),_0x129140=await getDoc(_0x2b4d34);if(!_0x129140[_0x19e4cf(0x9da)]()){showMessage(_0x19e4cf(0x182));return;}_0x7a8d4d={'id':_0x129140['id'],..._0x129140[_0x19e4cf(0x943)]()};}const _0x55b9d2=getShuffledQuiz(_0x7a8d4d);currentQuizData=_0x55b9d2;const _0x188bda=_0x7a8d4d[_0x19e4cf(0x7b7)]||currentProjectId||null,_0x52b502=Math[_0x19e4cf(0x273)](0x3e8+Math[_0x19e4cf(0x4aa)]()*0x2328)[_0x19e4cf(0x278)]();currentLiveGamePin=_0x52b502;try{const _0x3dcfb3=await addDoc(collection(db,_0x19e4cf(0x9ac)+appId+_0x19e4cf(0x90c)),{'quizId':_0x5025ba,'projectId':_0x188bda,'status':_0x19e4cf(0xaa5),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x52b502,'createdAt':serverTimestamp(),'shuffledQuiz':_0x55b9d2});currentLiveGameId=_0x3dcfb3['id'],showAdminLobbyView(_0x52b502,_0x7a8d4d[_0x19e4cf(0x88d)]),listenForLiveGameUpdates();}catch(_0x202045){console[_0x19e4cf(0x8c0)](_0x19e4cf(0x9f2),_0x202045),showMessage(_0x19e4cf(0x5b5));}}function updateSelectedTopicsCount(){const _0x365fb9=_0x31ab05,_0x61286c=document['getElementById'](_0x365fb9(0x3b9)),_0x5836a1=_0x61286c[_0x365fb9(0x279)]('input[type=\x22checkbox\x22]:checked')[_0x365fb9(0xabc)],_0x191b7f=document['getElementById'](_0x365fb9(0x1af));_0x5836a1>0x0?_0x191b7f[_0x365fb9(0x36e)]=_0x365fb9(0x955)+_0x5836a1+_0x365fb9(0xa80):_0x191b7f['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x31ab05(0x4f0),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x31ab05(0x9c6),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x31ab05(0x8b7),scratchpadPenColor=_0x31ab05(0xa1b),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0xac91d0,_0x509b82){const _0x26dcb9=_0x31ab05;return Math[_0x26dcb9(0xace)](Math[_0x26dcb9(0x8dd)](_0xac91d0['x']-_0x509b82['x'],0x2)+Math[_0x26dcb9(0x8dd)](_0xac91d0['y']-_0x509b82['y'],0x2));}function getMidpoint(_0x2d1b57,_0x301f34){return{'x':(_0x2d1b57['x']+_0x301f34['x'])/0x2,'y':(_0x2d1b57['y']+_0x301f34['y'])/0x2};}function getTransformedPoint(_0x327cd9,_0x4a36c3){return{'x':(_0x327cd9-scratchpadOffset['x'])/scratchpadScale,'y':(_0x4a36c3-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x26d188=_0x31ab05;if(!scratchpadCtx)return;const _0x13ed04=scratchpadCtx['canvas'],_0x53729d=window['devicePixelRatio']||0x1,_0x18b1c7=document[_0x26d188(0x983)](_0x26d188(0x1d5));_0x18b1c7&&(_0x18b1c7[_0x26d188(0x58d)][_0x26d188(0x633)]='0\x200',_0x18b1c7[_0x26d188(0x58d)][_0x26d188(0x6bd)]=_0x26d188(0x766)+scratchpadOffset['x']+_0x26d188(0x96a)+scratchpadOffset['y']+_0x26d188(0x924)+scratchpadScale+')'),scratchpadCtx[_0x26d188(0x5ac)](),scratchpadCtx[_0x26d188(0x829)](_0x53729d,0x0,0x0,_0x53729d,0x0,0x0),scratchpadCtx[_0x26d188(0x2c0)](0x0,0x0,_0x13ed04['width'],_0x13ed04['height']),scratchpadCtx[_0x26d188(0x835)](),scratchpadCtx[_0x26d188(0x5ac)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x26d188(0x79f)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x1aa1c7=>{drawStroke(_0x1aa1c7);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x26d188(0x835)]();}function handlePointerDown(_0x27f8cb){const _0x51eaf5=_0x31ab05;_0x27f8cb[_0x51eaf5(0x774)]();const _0x1d70bc=scratchpadCtx[_0x51eaf5(0x7ae)],_0x20107f=_0x1d70bc[_0x51eaf5(0x4c2)](),_0x38aa8b=_0x27f8cb['pointerType']||(_0x27f8cb[_0x51eaf5(0x3cf)]?_0x51eaf5(0xa6f):'mouse');if(_0x38aa8b===_0x51eaf5(0x8b7)||_0x38aa8b===_0x51eaf5(0x510)){if(_0x27f8cb[_0x51eaf5(0x77f)]===_0x51eaf5(0x510)&&_0x27f8cb[_0x51eaf5(0x4e6)]!==0x0){_0x27f8cb[_0x51eaf5(0x4e6)]===0x1&&(isMousePanning=!![],panStart={'x':_0x27f8cb['clientX'],'y':_0x27f8cb[_0x51eaf5(0x8a6)]},_0x1d70bc[_0x51eaf5(0x58d)][_0x51eaf5(0x686)]=_0x51eaf5(0x1e7));return;}activeTool===_0x51eaf5(0x2d6)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x4eb0f6=getTransformedPoint(_0x27f8cb[_0x51eaf5(0x43d)]-_0x20107f[_0x51eaf5(0x31d)],_0x27f8cb['clientY']-_0x20107f[_0x51eaf5(0x36a)]);let _0x5b4bf6={'tool':activeTool,'points':[_0x4eb0f6]};if(activeTool===_0x51eaf5(0x370))_0x5b4bf6[_0x51eaf5(0x5d1)]=scratchpadHighlighterColor,_0x5b4bf6[_0x51eaf5(0x7f9)]=scratchpadHighlighterSize;else activeTool==='trail'?(_0x5b4bf6[_0x51eaf5(0x5d1)]=scratchpadPenColor,_0x5b4bf6[_0x51eaf5(0x7f9)]=scratchpadPenSize):(_0x5b4bf6[_0x51eaf5(0x5d1)]=scratchpadPenColor,_0x5b4bf6['size']=scratchpadPenSize);currentStroke=_0x5b4bf6;}else _0x27f8cb[_0x51eaf5(0x3cf)]&&(_0x27f8cb[_0x51eaf5(0x3cf)][_0x51eaf5(0xabc)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x27f8cb['touches'][0x0]['clientX'],'y':_0x27f8cb[_0x51eaf5(0x3cf)][0x0][_0x51eaf5(0x8a6)]},{'x':_0x27f8cb[_0x51eaf5(0x3cf)][0x1][_0x51eaf5(0x43d)],'y':_0x27f8cb[_0x51eaf5(0x3cf)][0x1][_0x51eaf5(0x8a6)]}),initialPinchDistance=getDistance({'x':_0x27f8cb[_0x51eaf5(0x3cf)][0x0][_0x51eaf5(0x43d)],'y':_0x27f8cb['touches'][0x0]['clientY']},{'x':_0x27f8cb[_0x51eaf5(0x3cf)][0x1]['clientX'],'y':_0x27f8cb['touches'][0x1]['clientY']})));}function animateTrail(){const _0x33a38c=_0x31ab05,_0x7d44e=Date[_0x33a38c(0x53f)]();let _0x36f9e0=![];for(let _0x15d8ef=strokes['length']-0x1;_0x15d8ef>=0x0;_0x15d8ef--){const _0x1baf50=strokes[_0x15d8ef];if(_0x1baf50[_0x33a38c(0x602)]===_0x33a38c(0x2d6)&&_0x1baf50['fadeStartTime']){const _0x4affb=_0x7d44e-_0x1baf50[_0x33a38c(0x3ab)];_0x4affb>=TRAIL_DURATION?strokes[_0x33a38c(0x238)](_0x15d8ef,0x1):(_0x1baf50[_0x33a38c(0x25e)]=0x1-_0x4affb/TRAIL_DURATION,_0x36f9e0=!![]);}}redrawScratchpad(),_0x36f9e0?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x5a76be){const _0x5e71e2=_0x31ab05;if(!_0x5a76be||_0x5a76be[_0x5e71e2(0x605)][_0x5e71e2(0xabc)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x5e71e2(0x724)]=_0x5e71e2(0x5f5),scratchpadCtx['lineCap']=_0x5e71e2(0x5f5);if(_0x5a76be[_0x5e71e2(0x602)]===_0x5e71e2(0x2d6)){const _0x39aaed=_0x5a76be[_0x5e71e2(0x7f9)]/scratchpadScale;scratchpadCtx[_0x5e71e2(0x786)]=_0x5a76be[_0x5e71e2(0x25e)]??0x1,scratchpadCtx[_0x5e71e2(0x40b)]=_0x5e71e2(0x904),scratchpadCtx[_0x5e71e2(0x6df)]=_0x39aaed*0x3,scratchpadCtx[_0x5e71e2(0x8f6)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x5e71e2(0x356)]=_0x39aaed*2.5,scratchpadCtx[_0x5e71e2(0x1b8)](),scratchpadCtx[_0x5e71e2(0x175)](_0x5a76be[_0x5e71e2(0x605)][0x0]['x'],_0x5a76be[_0x5e71e2(0x605)][0x0]['y']);for(let _0x5717c7=0x1;_0x5717c7<_0x5a76be[_0x5e71e2(0x605)][_0x5e71e2(0xabc)]-0x1;_0x5717c7++){const _0x55b0b2=getMidpoint(_0x5a76be[_0x5e71e2(0x605)][_0x5717c7],_0x5a76be['points'][_0x5717c7+0x1]);scratchpadCtx[_0x5e71e2(0x7c9)](_0x5a76be[_0x5e71e2(0x605)][_0x5717c7]['x'],_0x5a76be[_0x5e71e2(0x605)][_0x5717c7]['y'],_0x55b0b2['x'],_0x55b0b2['y']);}scratchpadCtx[_0x5e71e2(0x81f)](),scratchpadCtx[_0x5e71e2(0x40b)]=_0x5e71e2(0x21b),scratchpadCtx[_0x5e71e2(0x6df)]=0x0,scratchpadCtx[_0x5e71e2(0x8f6)]='#FFFFFF',scratchpadCtx[_0x5e71e2(0x356)]=_0x39aaed,scratchpadCtx[_0x5e71e2(0x81f)](),scratchpadCtx[_0x5e71e2(0x6fa)]();}else{if(_0x5a76be[_0x5e71e2(0x602)]==='highlighter'){scratchpadCtx[_0x5e71e2(0x60b)]=_0x5e71e2(0x3a1),scratchpadCtx[_0x5e71e2(0x8f6)]=_0x5a76be[_0x5e71e2(0x5d1)],scratchpadCtx[_0x5e71e2(0x356)]=_0x5a76be[_0x5e71e2(0x7f9)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x5e71e2(0x175)](_0x5a76be['points'][0x0]['x'],_0x5a76be[_0x5e71e2(0x605)][0x0]['y']);for(let _0x204887=0x1;_0x204887<_0x5a76be[_0x5e71e2(0x605)]['length']-0x1;_0x204887++){const _0x2586d0=getMidpoint(_0x5a76be[_0x5e71e2(0x605)][_0x204887],_0x5a76be[_0x5e71e2(0x605)][_0x204887+0x1]);scratchpadCtx['quadraticCurveTo'](_0x5a76be[_0x5e71e2(0x605)][_0x204887]['x'],_0x5a76be['points'][_0x204887]['y'],_0x2586d0['x'],_0x2586d0['y']);}scratchpadCtx[_0x5e71e2(0x81f)](),scratchpadCtx['closePath']();}else{scratchpadCtx['globalCompositeOperation']=_0x5a76be['tool']==='eraser'?'destination-out':'source-over',scratchpadCtx['strokeStyle']=_0x5a76be[_0x5e71e2(0x5d1)],scratchpadCtx[_0x5e71e2(0x356)]=_0x5a76be['size'],scratchpadCtx[_0x5e71e2(0x1b8)](),scratchpadCtx[_0x5e71e2(0x175)](_0x5a76be[_0x5e71e2(0x605)][0x0]['x'],_0x5a76be[_0x5e71e2(0x605)][0x0]['y']);for(let _0x37d89b=0x1;_0x37d89b<_0x5a76be['points']['length']-0x1;_0x37d89b++){const _0x33e7f4=getMidpoint(_0x5a76be[_0x5e71e2(0x605)][_0x37d89b],_0x5a76be[_0x5e71e2(0x605)][_0x37d89b+0x1]);scratchpadCtx[_0x5e71e2(0x7c9)](_0x5a76be[_0x5e71e2(0x605)][_0x37d89b]['x'],_0x5a76be[_0x5e71e2(0x605)][_0x37d89b]['y'],_0x33e7f4['x'],_0x33e7f4['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x5e71e2(0x6fa)]();}}scratchpadCtx[_0x5e71e2(0x835)]();}function handlePointerMove(_0x157bb8){const _0x1b6360=_0x31ab05;_0x157bb8[_0x1b6360(0x774)]();const _0x3cff44=scratchpadCtx[_0x1b6360(0x7ae)],_0x12dba9=_0x3cff44[_0x1b6360(0x4c2)]();if(_0x157bb8[_0x1b6360(0x3cf)]){if(_0x157bb8[_0x1b6360(0x3cf)][_0x1b6360(0xabc)]===0x1&&isDrawingOnScratchpad){const _0x19a544=getTransformedPoint(_0x157bb8[_0x1b6360(0x3cf)][0x0][_0x1b6360(0x43d)]-_0x12dba9[_0x1b6360(0x31d)],_0x157bb8['touches'][0x0][_0x1b6360(0x8a6)]-_0x12dba9[_0x1b6360(0x36a)]);currentStroke[_0x1b6360(0x605)][_0x1b6360(0x9b9)](_0x19a544),redrawScratchpad();}else{if(_0x157bb8[_0x1b6360(0x3cf)][_0x1b6360(0xabc)]===0x2&&isPanning){const _0x42dfdb=getDistance({'x':_0x157bb8['touches'][0x0][_0x1b6360(0x43d)],'y':_0x157bb8['touches'][0x0]['clientY']},{'x':_0x157bb8[_0x1b6360(0x3cf)][0x1]['clientX'],'y':_0x157bb8['touches'][0x1][_0x1b6360(0x8a6)]}),_0x36bc74=getMidpoint({'x':_0x157bb8[_0x1b6360(0x3cf)][0x0][_0x1b6360(0x43d)],'y':_0x157bb8['touches'][0x0]['clientY']},{'x':_0x157bb8[_0x1b6360(0x3cf)][0x1][_0x1b6360(0x43d)],'y':_0x157bb8[_0x1b6360(0x3cf)][0x1][_0x1b6360(0x8a6)]}),_0x30a9bd=_0x42dfdb/ initialPinchDistance,_0x16ad1b=Math['min'](Math[_0x1b6360(0x94e)](scratchpadScale*_0x30a9bd,MIN_SCALE),MAX_SCALE),_0x48e5cf=_0x36bc74['x']-panStart['x'],_0x292f5f=_0x36bc74['y']-panStart['y'];scratchpadOffset['x']=_0x36bc74['x']-(_0x36bc74['x']-scratchpadOffset['x'])*(_0x16ad1b/scratchpadScale),scratchpadOffset['y']=_0x36bc74['y']-(_0x36bc74['y']-scratchpadOffset['y'])*(_0x16ad1b/scratchpadScale),scratchpadOffset['x']+=_0x48e5cf,scratchpadOffset['y']+=_0x292f5f,scratchpadScale=_0x16ad1b,initialPinchDistance=_0x42dfdb,panStart=_0x36bc74,redrawScratchpad();}}}else{if(isMousePanning){const _0x1d7ae1=_0x157bb8['clientX']-panStart['x'],_0x43dce9=_0x157bb8[_0x1b6360(0x8a6)]-panStart['y'];scratchpadOffset['x']+=_0x1d7ae1,scratchpadOffset['y']+=_0x43dce9,panStart={'x':_0x157bb8[_0x1b6360(0x43d)],'y':_0x157bb8[_0x1b6360(0x8a6)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x5ada93=getTransformedPoint(_0x157bb8[_0x1b6360(0x43d)]-_0x12dba9[_0x1b6360(0x31d)],_0x157bb8[_0x1b6360(0x8a6)]-_0x12dba9[_0x1b6360(0x36a)]);currentStroke['points']['push'](_0x5ada93),redrawScratchpad();}}}}function handlePointerUp(_0x3a79d9){const _0x2d4317=_0x31ab05;_0x3a79d9['preventDefault']();const _0x577cc5=scratchpadCtx[_0x2d4317(0x7ae)];isMousePanning&&(isMousePanning=![],_0x577cc5[_0x2d4317(0x58d)]['cursor']=_0x2d4317(0x775)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x2d4317(0x605)]['length']>0x1&&(strokes[_0x2d4317(0x9b9)](currentStroke),currentStroke[_0x2d4317(0x602)]===_0x2d4317(0x2d6)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x2dd547=_0x2d4317,_0x26391f=strokes[_0x2dd547(0x8af)](_0x19320b=>_0x19320b[_0x2dd547(0x602)]===_0x2dd547(0x2d6)&&!_0x19320b[_0x2dd547(0x3ab)]);if(_0x26391f['length']>0x0){const _0x5a6325=Date['now']();_0x26391f[_0x2dd547(0x1bc)](_0x2f4522=>_0x2f4522[_0x2dd547(0x3ab)]=_0x5a6325),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x19a821){const _0x1adf81=_0x31ab05;_0x19a821[_0x1adf81(0x774)]();const _0x2d0f1e=_0x19a821[_0x1adf81(0x917)]*-0.005,_0x2ab6be=Math[_0x1adf81(0x265)](Math[_0x1adf81(0x94e)](scratchpadScale+_0x2d0f1e,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x19a821[_0x1adf81(0x43d)]-(_0x19a821['clientX']-scratchpadOffset['x'])*(_0x2ab6be/scratchpadScale),scratchpadOffset['y']=_0x19a821['clientY']-(_0x19a821['clientY']-scratchpadOffset['y'])*(_0x2ab6be/scratchpadScale),scratchpadScale=_0x2ab6be,redrawScratchpad();}function undo(){const _0x3e6b24=_0x31ab05;strokes[_0x3e6b24(0xabc)]>0x0&&(redoStrokes[_0x3e6b24(0x9b9)](strokes[_0x3e6b24(0x305)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x5c5057=_0x31ab05;redoStrokes['length']>0x0&&(strokes[_0x5c5057(0x9b9)](redoStrokes[_0x5c5057(0x305)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x4aa06e=_0x31ab05;document[_0x4aa06e(0x983)](_0x4aa06e(0x412))['disabled']=strokes[_0x4aa06e(0xabc)]===0x0,document['getElementById'](_0x4aa06e(0x9d7))[_0x4aa06e(0x383)]=redoStrokes[_0x4aa06e(0xabc)]===0x0;}function openScratchpad(_0x49185c,_0x37ae88){const _0x68c2e=_0x31ab05,_0x5e6e52=document[_0x68c2e(0x983)](_0x68c2e(0x6e3)),_0x51fc5c=document[_0x68c2e(0x983)](_0x68c2e(0xa41)),_0x3c1f46=document[_0x68c2e(0x983)](_0x68c2e(0x96d)),_0x434c43=document['getElementById']('scratchpad-controls');_0x51fc5c[_0x68c2e(0x36e)]=_0x49185c[_0x68c2e(0x2c1)]||_0x49185c[_0x68c2e(0x60a)],_0x3c1f46[_0x68c2e(0x9ad)]=_0x37ae88['map']((_0x3a44f7,_0x29fc5c)=>_0x68c2e(0x6a1)+String[_0x68c2e(0x296)](0x41+_0x29fc5c)+'.\x20'+_0x3a44f7+_0x68c2e(0x603))[_0x68c2e(0x62f)](''),_0x434c43[_0x68c2e(0x9ad)]=_0x68c2e(0x512),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x5e6e52[_0x68c2e(0x7b1)][_0x68c2e(0x195)](_0x68c2e(0x540)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x68c2e(0x2cb)])MathJax[_0x68c2e(0x1de)]([_0x51fc5c,_0x3c1f46]);}function initializeScratchpadCanvas(){const _0x4e9378=_0x31ab05,_0x14d1e7=document[_0x4e9378(0x983)](_0x4e9378(0x45f)),_0x2958d6=document[_0x4e9378(0x6d9)](_0x4e9378(0x7db));if(!_0x14d1e7||!_0x2958d6)return;scratchpadCtx=_0x14d1e7[_0x4e9378(0x4d4)]('2d',{'willReadFrequently':!![]});const _0x3d3ac1=window[_0x4e9378(0x53e)]||0x1,_0x5d4948=_0x2958d6[_0x4e9378(0x4c2)]();_0x14d1e7['width']=_0x5d4948[_0x4e9378(0x4a1)]*_0x3d3ac1,_0x14d1e7[_0x4e9378(0x533)]=_0x5d4948[_0x4e9378(0x533)]*_0x3d3ac1,_0x14d1e7['style'][_0x4e9378(0x4a1)]=_0x5d4948[_0x4e9378(0x4a1)]+'px',_0x14d1e7[_0x4e9378(0x58d)][_0x4e9378(0x533)]=_0x5d4948[_0x4e9378(0x533)]+'px',scratchpadCtx[_0x4e9378(0x79f)](_0x3d3ac1,_0x3d3ac1),scratchpadCtx[_0x4e9378(0x724)]='round',scratchpadCtx[_0x4e9378(0x7b6)]='round',_0x14d1e7[_0x4e9378(0x890)](_0x4e9378(0x32d),handlePointerDown),_0x14d1e7[_0x4e9378(0x890)](_0x4e9378(0x353),handlePointerMove),_0x14d1e7['removeEventListener']('pointerup',handlePointerUp),_0x14d1e7[_0x4e9378(0x890)](_0x4e9378(0x1f3),handlePointerUp),_0x14d1e7['removeEventListener'](_0x4e9378(0x1f1),handleWheel),_0x14d1e7['removeEventListener'](_0x4e9378(0x4ea),handlePointerDown),_0x14d1e7[_0x4e9378(0x890)](_0x4e9378(0x86d),handlePointerMove),_0x14d1e7['removeEventListener']('touchend',handlePointerUp),_0x14d1e7[_0x4e9378(0x7d4)](_0x4e9378(0x32d),handlePointerDown),_0x14d1e7[_0x4e9378(0x7d4)](_0x4e9378(0x353),handlePointerMove),_0x14d1e7[_0x4e9378(0x7d4)](_0x4e9378(0x234),handlePointerUp),_0x14d1e7[_0x4e9378(0x7d4)](_0x4e9378(0x1f3),handlePointerUp),_0x14d1e7[_0x4e9378(0x7d4)]('wheel',handleWheel,{'passive':![]}),_0x14d1e7['addEventListener'](_0x4e9378(0x4ea),handlePointerDown,{'passive':![]}),_0x14d1e7['addEventListener'](_0x4e9378(0x86d),handlePointerMove,{'passive':![]}),_0x14d1e7[_0x4e9378(0x7d4)](_0x4e9378(0xa3e),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x5e5e88=_0x31ab05,_0x368fc4=document[_0x5e5e88(0x983)]('scratchpad-modal'),_0x4586c2=document[_0x5e5e88(0x983)](_0x5e5e88(0x6cd));_0x4586c2[_0x5e5e88(0x9ad)]=_0x5e5e88(0x5e9)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x34c2f8=document[_0x5e5e88(0x983)](_0x5e5e88(0x758)),_0x25f13a=document[_0x5e5e88(0x983)]('eraser-tool-btn'),_0x1e9d6e=document[_0x5e5e88(0x983)](_0x5e5e88(0x813)),_0x35e556=document[_0x5e5e88(0x983)]('highlighter-tool-btn'),_0x5f135f=document[_0x5e5e88(0x983)](_0x5e5e88(0x3d7)),_0x87688c=document[_0x5e5e88(0x983)](_0x5e5e88(0x6ff)),_0x55712c=[_0x34c2f8,_0x25f13a,_0x1e9d6e,_0x35e556];document[_0x5e5e88(0x983)](_0x5e5e88(0x913))[_0x5e5e88(0x7d4)]('click',()=>_0x368fc4[_0x5e5e88(0x7b1)][_0x5e5e88(0x9a9)](_0x5e5e88(0x540))),document[_0x5e5e88(0x983)]('reset-view-btn')['addEventListener'](_0x5e5e88(0x72b),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x5e5e88(0x3a5))[_0x5e5e88(0x7d4)](_0x5e5e88(0x72b),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x5e5e88(0x983)]('undo-btn')['addEventListener'](_0x5e5e88(0x72b),undo),document[_0x5e5e88(0x983)](_0x5e5e88(0x9d7))[_0x5e5e88(0x7d4)]('click',redo);const _0x3355c4=_0x1cd2d8=>{const _0x3dca47=_0x5e5e88;_0x55712c[_0x3dca47(0x1bc)](_0x2252f6=>_0x2252f6[_0x3dca47(0x7b1)][_0x3dca47(0x195)]('active')),_0x1cd2d8['classList']['add'](_0x3dca47(0x799));const _0x324fe8=_0x1cd2d8===_0x35e556;_0x5f135f['classList'][_0x3dca47(0x18f)](_0x3dca47(0x540),_0x324fe8),_0x87688c[_0x3dca47(0x7b1)][_0x3dca47(0x18f)](_0x3dca47(0x540),!_0x324fe8);};_0x34c2f8['addEventListener'](_0x5e5e88(0x72b),()=>{const _0x551782=_0x5e5e88;activeTool=_0x551782(0x8b7),_0x3355c4(_0x34c2f8);}),_0x25f13a[_0x5e5e88(0x7d4)](_0x5e5e88(0x72b),()=>{activeTool='eraser',_0x3355c4(_0x25f13a);}),_0x1e9d6e[_0x5e5e88(0x7d4)](_0x5e5e88(0x72b),()=>{const _0x5009b1=_0x5e5e88;activeTool=_0x5009b1(0x2d6),_0x3355c4(_0x1e9d6e);}),_0x35e556[_0x5e5e88(0x7d4)](_0x5e5e88(0x72b),()=>{const _0x5b9fa4=_0x5e5e88;activeTool=_0x5b9fa4(0x370),_0x3355c4(_0x35e556);}),_0x5f135f[_0x5e5e88(0x279)]('.pen-size-btn')[_0x5e5e88(0x1bc)](_0x355bb2=>{const _0x4c45bf=_0x5e5e88;_0x355bb2[_0x4c45bf(0x7d4)]('click',_0x518f9e=>{const _0x2f1115=_0x4c45bf;scratchpadPenSize=parseInt(_0x518f9e[_0x2f1115(0x908)][_0x2f1115(0x700)][_0x2f1115(0x7f9)],0xa),_0x5f135f[_0x2f1115(0x279)](_0x2f1115(0x84f))[_0x2f1115(0x1bc)](_0x7c9792=>_0x7c9792[_0x2f1115(0x7b1)]['remove']('active')),_0x518f9e[_0x2f1115(0x908)][_0x2f1115(0x7b1)][_0x2f1115(0x9a9)](_0x2f1115(0x799));});}),_0x5f135f['querySelectorAll'](_0x5e5e88(0x73a))['forEach'](_0x3f758c=>{const _0x438434=_0x5e5e88;_0x3f758c[_0x438434(0x7d4)](_0x438434(0x72b),_0x48d658=>{const _0x147866=_0x438434;scratchpadPenColor=_0x48d658[_0x147866(0x908)]['dataset']['color'],_0x5f135f[_0x147866(0x279)](_0x147866(0x73a))[_0x147866(0x1bc)](_0xc192e4=>_0xc192e4[_0x147866(0x7b1)][_0x147866(0x195)]('active')),_0x48d658[_0x147866(0x908)][_0x147866(0x7b1)][_0x147866(0x9a9)](_0x147866(0x799));});}),_0x87688c[_0x5e5e88(0x279)](_0x5e5e88(0x553))[_0x5e5e88(0x1bc)](_0x4af06e=>{const _0x419114=_0x5e5e88;_0x4af06e[_0x419114(0x7d4)](_0x419114(0x72b),_0x5f5d10=>{const _0xea27f2=_0x419114;scratchpadHighlighterColor=_0x5f5d10[_0xea27f2(0x908)][_0xea27f2(0x700)][_0xea27f2(0x5d1)],_0x87688c[_0xea27f2(0x279)](_0xea27f2(0x553))['forEach'](_0x3a0ea6=>_0x3a0ea6['classList'][_0xea27f2(0x195)](_0xea27f2(0x799))),_0x5f5d10[_0xea27f2(0x908)][_0xea27f2(0x7b1)][_0xea27f2(0x9a9)](_0xea27f2(0x799));});});const _0x1a9bbf=document[_0x5e5e88(0x983)](_0x5e5e88(0x790)),_0xa65476=document[_0x5e5e88(0x983)](_0x5e5e88(0xab8));_0x1a9bbf[_0x5e5e88(0x7d4)]('input',_0x581fad=>{const _0x4bca4d=_0x5e5e88,_0x1a7057=parseInt(_0x581fad[_0x4bca4d(0x908)][_0x4bca4d(0x3eb)],0xa);scratchpadHighlighterSize=_0x1a7057,_0xa65476[_0x4bca4d(0x36e)]=_0x1a7057;}),window[_0x5e5e88(0x7d4)](_0x5e5e88(0x26d),()=>{const _0x87bbc1=_0x5e5e88;!_0x368fc4[_0x87bbc1(0x7b1)]['contains'](_0x87bbc1(0x540))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x31ab05(0x95e),'name':_0x31ab05(0xa0f),'description':_0x31ab05(0x317),'icon':_0x31ab05(0x7f2)},'QUICK_THINKER':{'id':'quick_thinker','name':_0x31ab05(0xa5c),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x31ab05(0x2f5)},'ON_FIRE':{'id':_0x31ab05(0x219),'name':_0x31ab05(0x619),'description':_0x31ab05(0x884),'icon':_0x31ab05(0x1b4)},'FIRST_TRY_ACE':{'id':_0x31ab05(0x74a),'name':_0x31ab05(0x88f),'description':_0x31ab05(0x902),'icon':_0x31ab05(0x644)},'COMEBACK_KING':{'id':_0x31ab05(0x5d9),'name':_0x31ab05(0x207),'description':_0x31ab05(0x1fb),'icon':_0x31ab05(0x4b7)},'SPECIALIST':{'id':_0x31ab05(0x8df),'name':_0x31ab05(0x6bf),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x31ab05(0x35b)},'PERSEVERANCE':{'id':_0x31ab05(0x861),'name':_0x31ab05(0x72e),'description':_0x31ab05(0x513),'icon':_0x31ab05(0x6b2)}},firebaseConfig={'apiKey':_0x31ab05(0x9bd),'authDomain':_0x31ab05(0x2bc),'projectId':_0x31ab05(0x7e9),'storageBucket':_0x31ab05(0x4b3),'messagingSenderId':_0x31ab05(0x675),'appId':_0x31ab05(0x8b0),'measurementId':_0x31ab05(0x333)},appId=typeof __app_id!==_0x31ab05(0x25f)?__app_id:_0x31ab05(0x203),adminView=document['getElementById'](_0x31ab05(0x5c2)),studentView=document[_0x31ab05(0x983)]('student-view'),projectDashboardView=document['getElementById'](_0x31ab05(0x9f0)),projectDetailView=document[_0x31ab05(0x983)](_0x31ab05(0x290)),quizResultsView=document['getElementById']('quiz-results-view'),projectList=document[_0x31ab05(0x983)](_0x31ab05(0x256)),noProjectsMsg=document['getElementById'](_0x31ab05(0x6b7)),projectTitle=document[_0x31ab05(0x983)](_0x31ab05(0xa1d)),projectIdDisplay=document[_0x31ab05(0x983)](_0x31ab05(0x726)),studentList=document['getElementById'](_0x31ab05(0x8c1)),messageModal=document[_0x31ab05(0x983)](_0x31ab05(0xa8d)),modalMessage=document['getElementById']('modal-message'),createProjectModal=document[_0x31ab05(0x983)](_0x31ab05(0x87f)),adminPasswordModal=document[_0x31ab05(0x983)](_0x31ab05(0x9ed)),confirmationModal=document[_0x31ab05(0x983)](_0x31ab05(0x434)),userIdDisplay=document[_0x31ab05(0x983)](_0x31ab05(0x81b)),topicTab=document[_0x31ab05(0x983)]('topic-tab'),textTab=document[_0x31ab05(0x983)](_0x31ab05(0x1b2)),topicInputArea=document[_0x31ab05(0x983)]('topic-input-area'),textInputArea=document['getElementById'](_0x31ab05(0x4f4)),manageTab=document[_0x31ab05(0x983)]('manage-tab'),resultsTab=document[_0x31ab05(0x983)](_0x31ab05(0x9dd)),leaderboardTab=document[_0x31ab05(0x983)](_0x31ab05(0x8b1)),manageTabContent=document[_0x31ab05(0x983)](_0x31ab05(0x19d)),resultsTabContent=document[_0x31ab05(0x983)](_0x31ab05(0x8ae)),leaderboardTabContent=document[_0x31ab05(0x983)](_0x31ab05(0x6cf)),projectQuizzesList=document[_0x31ab05(0x983)](_0x31ab05(0x552)),fileTab=document[_0x31ab05(0x983)](_0x31ab05(0xa7f)),fileInputArea=document['getElementById'](_0x31ab05(0x404)),fileUploadInput=document[_0x31ab05(0x983)](_0x31ab05(0x5b8)),worksheetTab=document[_0x31ab05(0x983)](_0x31ab05(0x581)),worksheetInputArea=document['getElementById'](_0x31ab05(0x67d)),generateWorksheetBtn=document[_0x31ab05(0x983)](_0x31ab05(0x2f2)),studentInitialView=document['getElementById']('student-initial-view'),studentNameSelectionView=document[_0x31ab05(0x983)](_0x31ab05(0x632)),studentQuizArea=document['getElementById'](_0x31ab05(0x2ad)),studentResultArea=document['getElementById'](_0x31ab05(0x2c7)),studentReadingArea=document[_0x31ab05(0x983)](_0x31ab05(0x4cb)),loadQuizBtn=document[_0x31ab05(0x983)](_0x31ab05(0x96e)),startQuizBtn=document[_0x31ab05(0x983)](_0x31ab05(0x8a5)),studentJoinGameView=document[_0x31ab05(0x983)](_0x31ab05(0xa43)),presentationModal=document['getElementById'](_0x31ab05(0x505)),renameQuizModal=document[_0x31ab05(0x983)](_0x31ab05(0x580)),moveQuizModal=document[_0x31ab05(0x983)](_0x31ab05(0xa8e)),quizSettingsModal=document[_0x31ab05(0x983)](_0x31ab05(0xa5b)),quizStatusModal=document[_0x31ab05(0x983)]('quiz-status-modal'),liveGameView=document[_0x31ab05(0x983)](_0x31ab05(0x6af));function handleAutoFixLatex(){const _0x321724=_0x31ab05,_0x3c350e=document[_0x321724(0x983)](_0x321724(0xa64))||document,_0x57b473=_0x3c350e[_0x321724(0x279)](['textarea',_0x321724(0xa6e),_0x321724(0x45b),_0x321724(0x1a8),_0x321724(0x4ad),_0x321724(0x963),'.choice-text',_0x321724(0x1fe),_0x321724(0xa10)][_0x321724(0x62f)](','));let _0xfed0e3=0x0;const _0x4f2c0d=_0x518439=>_0x321724(0x3eb)in _0x518439?String(_0x518439[_0x321724(0x3eb)]):_0x518439['innerText']!==undefined?_0x518439['innerText']:_0x518439[_0x321724(0x36e)]||'',_0x379205=(_0x4bad1b,_0x3613bb)=>{const _0x911552=_0x321724;if(_0x911552(0x3eb)in _0x4bad1b){_0x4bad1b[_0x911552(0x3eb)]=_0x3613bb;return;}if(_0x4bad1b[_0x911552(0x6d9)]&&_0x4bad1b[_0x911552(0x6d9)]('mjx-container'))return;if(_0x4bad1b['innerText']!==undefined)_0x4bad1b['innerText']=_0x3613bb;else _0x4bad1b[_0x911552(0x36e)]=_0x3613bb;},_0x2559ea=_0x307e15=>_0x307e15[_0x321724(0x972)](/\u00A0/g,'\x20')[_0x321724(0x972)](/\u200B/g,'')[_0x321724(0x972)](/\r\n?/g,'\x0a'),_0x505733=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x3e18fb=_0x4ad089=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x4ad089),_0x237157=_0x527df3=>{const _0x11fc93=_0x321724,_0x4e1ea2=(_0x527df3[_0x11fc93(0xa7c)](/\{/g)||[])[_0x11fc93(0xabc)],_0x38b7ac=(_0x527df3[_0x11fc93(0xa7c)](/\}/g)||[])[_0x11fc93(0xabc)];if(_0x4e1ea2>_0x38b7ac)_0x527df3=_0x527df3+'}'[_0x11fc93(0x8cf)](_0x4e1ea2-_0x38b7ac);return _0x527df3;},_0x59375a=_0x29b506=>{const _0x248251=_0x321724;let _0x8fcd67=_0x29b506[_0x248251(0x68c)]();const _0x14bf9a=[_0x248251(0x35f),_0x248251(0x4ac),_0x248251(0x8a1),'sqrt','text','times',_0x248251(0x71a),_0x248251(0x237),'leq',_0x248251(0x1b0),'le','ge','neq','pm',_0x248251(0x9a0),_0x248251(0x6ce),_0x248251(0x35e),_0x248251(0x1a3),_0x248251(0x4a9),'ln','sum',_0x248251(0x3b4),'binom',_0x248251(0x31d),'right','overline','underline','circ',_0x248251(0x6b5)];_0x8fcd67=_0x8fcd67[_0x248251(0x972)](new RegExp(_0x248251(0x7f3)+_0x14bf9a[_0x248251(0x62f)]('|')+_0x248251(0x9fc),'g'),'\x5c'),_0x14bf9a[_0x248251(0x1bc)](_0x3e9354=>{const _0x3acf3a=_0x248251;_0x8fcd67=_0x8fcd67[_0x3acf3a(0x972)](new RegExp(_0x3acf3a(0x343)+_0x3e9354+'\x5cb','g'),(_0xa6501e,_0x5f4bb8)=>_0x5f4bb8+'\x5c'+_0x3e9354);});const _0x389175=[[/×/g,_0x248251(0xa8b)],[/·/g,_0x248251(0x5ba)],[/÷/g,'\x5cdiv'],[/≤/g,_0x248251(0x760)],[/≥/g,_0x248251(0x948)],[/≠/g,'\x5cneq'],[/±/g,_0x248251(0x62d)],[/∑/g,'\x5csum'],[/−/g,'-']];_0x389175['forEach'](([_0x2af3e9,_0x364e96])=>{_0x8fcd67=_0x8fcd67['replace'](_0x2af3e9,_0x364e96);}),_0x8fcd67=_0x8fcd67[_0x248251(0x972)](/√\s*\(([^)]*)\)/g,_0x248251(0x810)),_0x8fcd67=_0x8fcd67[_0x248251(0x972)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x8fcd67=_0x8fcd67['replace'](/(^|[^\\])\bimes\b/g,_0x248251(0x228))[_0x248251(0x972)](/(^|[^\\])\b(?:rac|\/frac)\b/g,'$1\x5cfrac')[_0x248251(0x972)](/(^|[^\\])ext\{/g,_0x248251(0x6e5))[_0x248251(0x972)](/(^|[^\\])ext\(/g,_0x248251(0x199))[_0x248251(0x972)](/\\text\(([^)]*)\)/g,_0x248251(0x28e))[_0x248251(0x972)](/\s\\frac/g,_0x248251(0x2a4)),_0x8fcd67=_0x8fcd67[_0x248251(0x972)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x57d974,_0x2eb92f,_0x203cb0,_0x1fe53f)=>_0x2eb92f+_0x248251(0x23a)+_0x203cb0+'}{'+_0x1fe53f+'}'),_0x8fcd67=_0x8fcd67[_0x248251(0x972)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x248251(0x515))[_0x248251(0x972)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x248251(0x515))[_0x248251(0x972)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x248251(0x515)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x248251(0x476)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x248251(0x476)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x248251(0x476)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x248251(0x476)],[/(\d+)\s*°\s*C/g,_0x248251(0x476)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x248251(0x563)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x248251(0x476)]][_0x248251(0x1bc)](([_0x1b23ec,_0x28e104])=>{const _0xbca591=_0x248251;_0x8fcd67=_0x8fcd67[_0xbca591(0x972)](_0x1b23ec,_0x28e104);}),_0x8fcd67=_0x8fcd67[_0x248251(0x972)](/(\d+)\s*%/g,'$1\x5c%'),_0x8fcd67=_0x8fcd67['replace'](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x248251(0x3dd))[_0x248251(0x972)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x248251(0x864))[_0x248251(0x972)](/\{\{([^\{\}]+)\}\}/g,_0x248251(0x6b3)),[_0x248251(0x6ce),_0x248251(0x35e),'tan',_0x248251(0x4a9),'ln'][_0x248251(0x1bc)](_0x566474=>{const _0x151632=_0x248251;_0x8fcd67=_0x8fcd67[_0x151632(0x972)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x566474+'\x5cs*\x5c(','g'),(_0xca887d,_0x8775af)=>_0x8775af+'\x5c'+_0x566474+'(');});const _0x54e611=(_0x8fcd67[_0x248251(0xa7c)](/\\left\b/g)||[])[_0x248251(0xabc)],_0x2a532b=(_0x8fcd67['match'](/\\right\b/g)||[])[_0x248251(0xabc)];if(_0x54e611!==_0x2a532b)_0x8fcd67=_0x8fcd67[_0x248251(0x972)](/\\left\b/g,'')[_0x248251(0x972)](/\\right\b/g,'');return _0x8fcd67=_0x237157(_0x8fcd67),_0x8fcd67;},_0x39e8b9=_0x42ab29=>{const _0x54cfca=_0x321724;if(/\$|\\\(|\\\[/[_0x54cfca(0x2a5)](_0x42ab29))return _0x42ab29;if(!_0x505733[_0x54cfca(0x2a5)](_0x42ab29))return _0x42ab29;const _0x48920a=_0x42ab29[_0x54cfca(0xa7c)](/^\s*/)[0x0],_0x59c3c4=_0x42ab29[_0x54cfca(0xa7c)](/\s*$/)[0x0],_0x45b8b2=_0x42ab29[_0x54cfca(0x68c)]();return _0x48920a+'$'+_0x59375a(_0x45b8b2)+'$'+_0x59c3c4;},_0x2a414c=_0x5274d4=>_0x5274d4['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x57b473[_0x321724(0x1bc)](_0x376aba=>{const _0x2f57c6=_0x321724;if(_0x376aba[_0x2f57c6(0x6d9)]&&_0x376aba[_0x2f57c6(0x6d9)](_0x2f57c6(0x656)))return;const _0x50ec90=_0x4f2c0d(_0x376aba);let _0x5b9e89=_0x2559ea(_0x50ec90);_0x5b9e89=_0x5b9e89[_0x2f57c6(0x972)](/\$\$([\s\S]*?)\$\$/g,(_0x17e3f4,_0x1bfc6a)=>'$$'+_0x59375a(_0x1bfc6a)+'$$')[_0x2f57c6(0x972)](/\$([^$]*?)\$/g,(_0x1580d3,_0x53f6fc)=>'$'+_0x59375a(_0x53f6fc)+'$')['replace'](/\\\(([\s\S]*?)\\\)/g,(_0x3b5d77,_0x15d199)=>'\x5c('+_0x59375a(_0x15d199)+'\x5c)')[_0x2f57c6(0x972)](/\\\[([\s\S]*?)\\\]/g,(_0x47ca91,_0x273869)=>'\x5c['+_0x59375a(_0x273869)+'\x5c]');let _0x986a74=_0x5b9e89,_0x4f2b6b=0x0;const _0x235a17=_0x4c0f18=>_0x4c0f18[_0x2f57c6(0x972)](/S([^S]{0,2000}?)S/g,(_0x3ed514,_0x1404d4)=>_0x505733[_0x2f57c6(0x2a5)](_0x1404d4)?'$'+_0x59375a(_0x1404d4)+'$':_0x3ed514);while(_0x4f2b6b++<0x14){const _0x1d14f9=_0x235a17(_0x986a74);if(_0x1d14f9===_0x986a74)break;_0x986a74=_0x1d14f9;}_0x5b9e89=_0x986a74,_0x5b9e89=_0x5b9e89[_0x2f57c6(0x8c6)]('\x0a')['map'](_0x5fe441=>{const _0xc70fa2=_0x2f57c6;if(!(/[,\u3001，;；]/[_0xc70fa2(0x2a5)](_0x5fe441)||/\s(?:และ|หรือ)\s/['test'](_0x5fe441))||!_0x505733['test'](_0x5fe441))return _0x5fe441;return _0x2a414c(_0x5fe441)[_0xc70fa2(0x2e0)](_0x2f6f65=>{const _0x4c87c1=_0xc70fa2;if(/^\s(?:และ|หรือ)\s$/[_0x4c87c1(0x2a5)](_0x2f6f65)||/^[,\u3001，;；]$/['test'](_0x2f6f65))return _0x2f6f65;return _0x39e8b9(_0x2f6f65);})[_0xc70fa2(0x62f)]('');})[_0x2f57c6(0x62f)]('\x0a'),_0x5b9e89=_0x5b9e89[_0x2f57c6(0x8c6)]('\x0a')[_0x2f57c6(0x2e0)](_0x2a57e7=>{const _0x116705=_0x2f57c6,_0x1aecda=_0x2a57e7[_0x116705(0x68c)]();if(!_0x1aecda)return _0x2a57e7;const _0x543598=/\$|\\\(|\\\[/[_0x116705(0x2a5)](_0x1aecda),_0x374894=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/['test'](_0x1aecda);if(_0x543598||!_0x374894||_0x3e18fb(_0x1aecda))return _0x2a57e7;return _0x2a57e7[_0x116705(0x972)](_0x1aecda,'$'+_0x59375a(_0x1aecda)+'$');})[_0x2f57c6(0x62f)]('\x0a'),_0x5b9e89=_0x5b9e89['replace'](/(\d+)\s*°\s*C\b/g,(_0x2a3702,_0x1c773a,_0x5ea4d2,_0x16ebc4)=>{const _0x592d72=_0x2f57c6,_0x33940e=_0x16ebc4[_0x5ea4d2-0x1];if(_0x33940e==='$'||_0x33940e==='S'||_0x33940e==='\x5c')return _0x2a3702;return'$'+_0x1c773a+_0x592d72(0x661);})[_0x2f57c6(0x972)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x3d435e,_0x1691af,_0x3922ca,_0x4edaaa)=>{const _0x9940aa=_0x2f57c6,_0x5a2341=_0x4edaaa[_0x3922ca-0x1];if(_0x5a2341==='$'||_0x5a2341==='S'||_0x5a2341==='\x5c')return _0x3d435e;return'$'+_0x1691af+_0x9940aa(0x661);})[_0x2f57c6(0x972)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x3e4eb7,_0x22623e,_0xef22fe,_0x4124b2)=>{const _0x171c5b=_0x2f57c6,_0x5188ab=_0x4124b2[_0xef22fe-0x1];if(_0x5188ab==='$'||_0x5188ab==='S'||_0x5188ab==='\x5c')return _0x3e4eb7;return'$'+_0x22623e+_0x171c5b(0x661);}),_0x5b9e89=_0x5b9e89[_0x2f57c6(0x972)](/\$\s*\$/g,'$$'),_0x5b9e89!==_0x50ec90&&(_0x379205(_0x376aba,_0x5b9e89),_0xfed0e3++);});if(_0xfed0e3>0x0){showMessage(_0x321724(0x9a5)+_0xfed0e3+_0x321724(0x6ab));try{if(window['MathJax']&&MathJax['typesetPromise'])MathJax[_0x321724(0x1de)]();window[_0x321724(0x923)]&&typeof renderMathInElement==='function'&&renderMathInElement(_0x3c350e,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x109468){}}else showMessage(_0x321724(0x46f));}async function listenForCustomMathTopics(){const _0x42cec5=_0x31ab05,_0x3b1fc6=collection(db,_0x42cec5(0x9ac)+appId+_0x42cec5(0x807));onSnapshot(_0x3b1fc6,_0x168dc8=>{const _0xf1d603=_0x42cec5;customMathTopics=_0x168dc8['docs'][_0xf1d603(0x2e0)](_0x362ad5=>({'id':_0x362ad5['id'],..._0x362ad5[_0xf1d603(0x943)]()})),renderTopicCheckboxes();},_0x2a3cfb=>{const _0x3d2ee4=_0x42cec5;console[_0x3d2ee4(0x8c0)](_0x3d2ee4(0x9d9),_0x2a3cfb);});}function handleSelectAllTopics(){const _0x183612=_0x31ab05,_0x5a96d1=document[_0x183612(0x983)]('math-topics-checkbox-container'),_0x3ad0bb=_0x5a96d1[_0x183612(0x279)](_0x183612(0x57e));_0x3ad0bb['forEach'](_0x2ac72d=>{const _0x281205=_0x183612;_0x2ac72d[_0x281205(0x616)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x40a0c6=_0x31ab05,_0x584d5d=document[_0x40a0c6(0x983)](_0x40a0c6(0x3b9)),_0x4b63d7=_0x584d5d[_0x40a0c6(0x279)]('input[type=\x22checkbox\x22]');_0x4b63d7[_0x40a0c6(0x1bc)](_0x50817d=>{const _0xdffc72=_0x40a0c6;_0x50817d[_0xdffc72(0x616)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x3dac34){const _0x26cfe2=_0x31ab05;if(!_0x3dac34)return;try{const _0x169350=doc(db,'artifacts/'+appId+_0x26cfe2(0x807),_0x3dac34);await deleteDoc(_0x169350),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x445b6f){console[_0x26cfe2(0x8c0)](_0x26cfe2(0x921),_0x445b6f),showMessage(_0x26cfe2(0x862));}}async function handleAddCustomMathTopic(){const _0x512be9=_0x31ab05,_0x20e6ce=document['getElementById'](_0x512be9(0x355)),_0x4b5ec4=_0x20e6ce['value'][_0x512be9(0x68c)]();if(!_0x4b5ec4){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x512be9(0x8c4));return;}try{const _0x5cad18=collection(db,_0x512be9(0x9ac)+appId+'/public/data/customMathTopics');await addDoc(_0x5cad18,{'name':_0x4b5ec4,'createdAt':serverTimestamp()}),_0x20e6ce['value']='',showMessage(_0x512be9(0x1e1)+_0x4b5ec4+_0x512be9(0x39f));}catch(_0x7ba1ea){console[_0x512be9(0x8c0)](_0x512be9(0x885),_0x7ba1ea),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x190aa1=_0x4d4b,_0x25d051=document['getElementById'](_0x190aa1(0x51c)),_0x3f7034=document['getElementById'](_0x190aa1(0x828)),_0x5bde96=_0x3f7034[_0x190aa1(0x36e)];_0x25d051[_0x190aa1(0x7b1)][_0x190aa1(0x195)]('hidden'),_0x3f7034[_0x190aa1(0x36e)]=_0x190aa1(0x65b);try{const _0x3c2400=collection(db,'artifacts/'+appId+_0x190aa1(0x519)),_0x588623=await getDocs(_0x3c2400);if(_0x588623[_0x190aa1(0x3c8)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x1a9b6f=writeBatch(db);let _0x5d9352=0x0;_0x588623[_0x190aa1(0x1bc)](_0x216b8b=>{const _0xfe5781=_0x190aa1,_0x1ef268=_0x216b8b[_0xfe5781(0x943)](),_0x3bc261=_0x216b8b['id'];if(_0x1ef268[_0xfe5781(0x2c2)]&&_0x1ef268[_0xfe5781(0x2c2)][_0xfe5781(0xabc)]>0x0&&!_0x1ef268[_0xfe5781(0x2c2)][0x0][_0xfe5781(0x2e2)]('id')){console['log'](_0xfe5781(0x1c0)+_0x3bc261+'\x20('+_0x1ef268[_0xfe5781(0x88d)]+')'),_0x5d9352++;const _0x15947b=_0x1ef268['questions']['map']((_0x49a20d,_0x4a8045)=>{return{..._0x49a20d,'id':_0x49a20d['id']||'q_'+Date['now']()+'_'+_0x3bc261+'_'+_0x4a8045};}),_0x49d918=doc(db,_0xfe5781(0x9ac)+appId+_0xfe5781(0x519),_0x3bc261);_0x1a9b6f['update'](_0x49d918,{'questions':_0x15947b});}}),_0x5d9352>0x0?(_0x3f7034[_0x190aa1(0x36e)]=_0x190aa1(0x866)+_0x5d9352+'\x20รายการ...',await _0x1a9b6f[_0x190aa1(0x24e)](),showMessage(_0x190aa1(0x90d)+_0x5d9352+_0x190aa1(0x210))):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x2997aa){console[_0x190aa1(0x8c0)](_0x190aa1(0x97f),_0x2997aa),showMessage(_0x190aa1(0x821)+_0x2997aa[_0x190aa1(0xa8c)]);}finally{_0x25d051[_0x190aa1(0x7b1)][_0x190aa1(0x9a9)](_0x190aa1(0x540)),_0x3f7034['textContent']=_0x5bde96;}});}async function handleBulkUpdateQuizSettings(){const _0x199f43=_0x31ab05,_0x4fd67a={'shuffle':document[_0x199f43(0x983)]('bulk-shuffle-select')[_0x199f43(0x3eb)],'resultsDisplay':document[_0x199f43(0x983)]('bulk-results-display-select')['value'],'loopUntilPass':document[_0x199f43(0x983)](_0x199f43(0x331))[_0x199f43(0x616)]},_0x4ce81b=allQuizzesGlobal['length'];showConfirmation(_0x199f43(0x3f3)+_0x4ce81b+_0x199f43(0x575),async()=>{const _0x1bfaa2=_0x199f43,_0x2373d8=document[_0x1bfaa2(0x983)](_0x1bfaa2(0xab6));_0x2373d8[_0x1bfaa2(0x383)]=!![],_0x2373d8[_0x1bfaa2(0x9ad)]=_0x1bfaa2(0x7a3);try{const _0x8799ed=writeBatch(db);allQuizzesGlobal['forEach'](_0x516828=>{const _0x536a29=_0x1bfaa2,_0x5a3373=doc(db,_0x536a29(0x9ac)+appId+_0x536a29(0x519),_0x516828['id']),_0x5ecbac={..._0x516828[_0x536a29(0x363)]||{},..._0x4fd67a};_0x8799ed[_0x536a29(0xa9e)](_0x5a3373,{'settings':_0x5ecbac});}),await _0x8799ed[_0x1bfaa2(0x24e)](),document[_0x1bfaa2(0x983)](_0x1bfaa2(0x7d9))[_0x1bfaa2(0x7b1)][_0x1bfaa2(0x9a9)](_0x1bfaa2(0x540)),showMessage(_0x1bfaa2(0xaa9)+_0x4ce81b+_0x1bfaa2(0x9d4));}catch(_0x38da19){console[_0x1bfaa2(0x8c0)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update:',_0x38da19),showMessage(_0x1bfaa2(0x92d));}finally{_0x2373d8['disabled']=![],_0x2373d8['innerHTML']=_0x1bfaa2(0x44e);}});}async function handleSaveProjectName(){const _0x1ba8ec=_0x31ab05,_0x447cca=document[_0x1ba8ec(0x983)](_0x1ba8ec(0xa1d)),_0x523a21=document['getElementById']('save-project-name-btn'),_0x1368a2=_0x447cca[_0x1ba8ec(0x36e)][_0x1ba8ec(0x68c)]();if(!_0x1368a2||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x447cca['textContent']=currentProjectData[_0x1ba8ec(0x537)];return;}_0x523a21[_0x1ba8ec(0x383)]=!![],_0x523a21[_0x1ba8ec(0x9ad)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x43dd42=doc(db,_0x1ba8ec(0x9ac)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x43dd42,{'projectName':_0x1368a2}),currentProjectData&&(currentProjectData[_0x1ba8ec(0x537)]=_0x1368a2),showMessage(_0x1ba8ec(0x671));}catch(_0x3fa750){console[_0x1ba8ec(0x8c0)](_0x1ba8ec(0x235),_0x3fa750),showMessage(_0x1ba8ec(0x177)),_0x447cca['textContent']=currentProjectData[_0x1ba8ec(0x537)];}finally{_0x523a21[_0x1ba8ec(0x7b1)]['add']('hidden'),_0x523a21[_0x1ba8ec(0x383)]=![],_0x523a21[_0x1ba8ec(0x9ad)]=_0x1ba8ec(0x9ef);}}async function initialize(){const _0x35cfd4=_0x31ab05;try{const _0x294df4=initializeApp(firebaseConfig);db=getFirestore(_0x294df4),auth=getAuth(_0x294df4),setupAuthListener(),setupEventListeners(),showView(_0x35cfd4(0x206)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x3cfad2){console[_0x35cfd4(0x8c0)](_0x35cfd4(0x920),_0x3cfad2),showMessage(_0x35cfd4(0x982));}}async function handleVerifyAnswersInEditor(){const _0x2bdf47=_0x31ab05,_0x29324c=document['getElementById'](_0x2bdf47(0x4fb));if(!_0x29324c)return;const _0x68b55b=document[_0x2bdf47(0x983)]('verify-answers-editor-btn');_0x68b55b[_0x2bdf47(0x383)]=!![],_0x68b55b['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x8a54f2=_0x29324c[_0x2bdf47(0x279)](_0x2bdf47(0x783)),_0x59b94d=Array['from'](_0x8a54f2)[_0x2bdf47(0x2e0)]((_0x18a6b7,_0x340f9d)=>{const _0x10404c=_0x2bdf47,_0x22c168=_0x18a6b7[_0x10404c(0x700)][_0x10404c(0x2ed)],_0x594e95=_0x18a6b7['querySelector'](_0x10404c(0x8e4))['value'];let _0x10d96d=null,_0x7ecb02='';switch(_0x22c168){case _0x10404c(0x373):const _0x5892ed=_0x18a6b7[_0x10404c(0x279)](_0x10404c(0xa6e));_0x10d96d=Array[_0x10404c(0xa96)](_0x5892ed)[_0x10404c(0x2e0)](_0x2244c3=>_0x2244c3['value']);const _0x4cbea7=_0x18a6b7[_0x10404c(0x6d9)]('input[type=\x22radio\x22]:checked');_0x4cbea7&&(_0x7ecb02=_0x10d96d[parseInt(_0x4cbea7[_0x10404c(0x3eb)])]);break;case _0x10404c(0x2f3):_0x7ecb02=_0x18a6b7[_0x10404c(0x6d9)]('.ideal-answer-input')[_0x10404c(0x3eb)];break;case'true_false':const _0x578f44=_0x18a6b7[_0x10404c(0x6d9)]('input[type=\x22radio\x22]:checked');_0x7ecb02=_0x578f44?_0x578f44[_0x10404c(0x3eb)]:'';break;case _0x10404c(0x729):_0x7ecb02=_0x18a6b7[_0x10404c(0x6d9)](_0x10404c(0x6ad))[_0x10404c(0x3eb)];break;}return{'question':_0x594e95,'options':_0x10d96d,'proposedAnswer':_0x7ecb02};}),_0x56df84='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x2bdf47(0x56f)](_0x59b94d)+_0x2bdf47(0x8da),_0x3d0bd2={'type':_0x2bdf47(0xa49),'items':{'type':_0x2bdf47(0x6f5),'properties':{'questionIndex':{'type':_0x2bdf47(0x1e3)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x2bdf47(0x62a)},'suggestedAnswer':{'type':_0x2bdf47(0x62a)}},'required':[_0x2bdf47(0x543),_0x2bdf47(0x22d),_0x2bdf47(0x6ca)]}},_0x44989a=await callAnalysisApi(_0x56df84,{'type':'OBJECT','properties':{'result':_0x3d0bd2},'required':[_0x2bdf47(0x376)]});displayVerificationResultsInEditor(_0x44989a['result']);}catch(_0x3ef9eb){console[_0x2bdf47(0x8c0)](_0x2bdf47(0x5d6),_0x3ef9eb),showMessage(_0x2bdf47(0x9ba));}finally{_0x68b55b[_0x2bdf47(0x383)]=![],_0x68b55b[_0x2bdf47(0x9ad)]=_0x2bdf47(0x3af);}}function displayVerificationResultsInEditor(_0x29e8c1){const _0x409c0a=_0x31ab05;_0x29e8c1[_0x409c0a(0x1bc)](_0x522df8=>{const _0x5b1b61=_0x409c0a,_0x5b526d=document[_0x5b1b61(0x6d9)]('.question-editor-item[data-q-index=\x22'+_0x522df8[_0x5b1b61(0x543)]+'\x22]');if(!_0x5b526d)return;const _0x336552=_0x5b526d[_0x5b1b61(0x6d9)](_0x5b1b61(0x2cf));if(_0x336552)_0x336552[_0x5b1b61(0x195)]();let _0x47667d='';if(_0x522df8[_0x5b1b61(0x22d)])_0x47667d=_0x5b1b61(0x326);else{const _0x3050a9=_0x522df8[_0x5b1b61(0x359)]?_0x5b1b61(0x78d):'';_0x47667d=_0x5b1b61(0xa18)+_0x3050a9+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x522df8[_0x5b1b61(0x6ca)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x522df8[_0x5b1b61(0x359)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x522df8[_0x5b1b61(0x359)]+_0x5b1b61(0x989):'')+_0x5b1b61(0x1be);}_0x5b526d[_0x5b1b61(0xa88)](_0x5b1b61(0x888),_0x47667d);if(!_0x522df8[_0x5b1b61(0x22d)]&&_0x522df8[_0x5b1b61(0x359)]){const _0x3f6ba1=_0x5b526d['dataset'][_0x5b1b61(0x2ed)],_0x5f55fa=_0x3c40ef=>{const _0x4d3aa8=_0x5b1b61;if(!_0x3c40ef)return;_0x3c40ef[_0x4d3aa8(0x7b1)][_0x4d3aa8(0x9a9)]('bg-green-200',_0x4d3aa8(0x6ac),_0x4d3aa8(0x8d1)),setTimeout(()=>{const _0x40145c=_0x4d3aa8;_0x3c40ef['classList'][_0x40145c(0x195)](_0x40145c(0x6c1));},0x9c4);};if(_0x3f6ba1===_0x5b1b61(0x373)){const _0x538fb8=Array[_0x5b1b61(0xa96)](_0x5b526d[_0x5b1b61(0x279)](_0x5b1b61(0xa6e))),_0x39e146=_0x538fb8[_0x5b1b61(0x4de)](_0xc995ff=>_0xc995ff[_0x5b1b61(0x3eb)][_0x5b1b61(0x68c)]()['toLowerCase']()===_0x522df8[_0x5b1b61(0x359)][_0x5b1b61(0x68c)]()[_0x5b1b61(0x46a)]());if(_0x39e146!==-0x1){const _0x4803f6=_0x5b526d[_0x5b1b61(0x6d9)](_0x5b1b61(0xa77)+_0x39e146+'\x22]');_0x4803f6&&(_0x4803f6[_0x5b1b61(0x616)]=!![],_0x5f55fa(_0x4803f6[_0x5b1b61(0x8d2)]('div')));}}else{if(_0x3f6ba1==='short_answer'||_0x3f6ba1===_0x5b1b61(0x729)){const _0x7ae4a5=_0x5b526d[_0x5b1b61(0x6d9)](_0x5b1b61(0x386));_0x7ae4a5&&(_0x7ae4a5['value']=_0x522df8['suggestedAnswer'],_0x5f55fa(_0x7ae4a5));}else{if(_0x3f6ba1===_0x5b1b61(0x486)){const _0x58843f=_0x522df8[_0x5b1b61(0x359)]['trim']()[_0x5b1b61(0x46a)](),_0x108623=_0x5b526d[_0x5b1b61(0x6d9)](_0x5b1b61(0xa77)+_0x58843f+'\x22]');_0x108623&&(_0x108623[_0x5b1b61(0x616)]=!![],_0x5f55fa(_0x108623['closest']('div')));}}}}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0x5c6fdc=_0x31ab05;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x5c6fdc(0x17e));return;}const _0x1e594d=document[_0x5c6fdc(0x983)](_0x5c6fdc(0xa52));_0x1e594d[_0x5c6fdc(0x383)]=!![],_0x1e594d[_0x5c6fdc(0x9ad)]=_0x5c6fdc(0x615);try{const _0x5ec93c=currentQuizData[_0x5c6fdc(0x2c2)][_0x5c6fdc(0x2e0)]((_0x167125,_0x51f231)=>{const _0x3d9e8d=_0x5c6fdc;let _0x7d09='';const _0x13a5d3=_0x167125[_0x3d9e8d(0x225)]||currentQuizData[_0x3d9e8d(0x91c)];switch(_0x13a5d3){case _0x3d9e8d(0x373):_0x7d09=_0x167125['options'][_0x167125[_0x3d9e8d(0x438)]];break;case _0x3d9e8d(0x2f3):_0x7d09=_0x167125[_0x3d9e8d(0x980)];break;case _0x3d9e8d(0x486):_0x7d09=_0x167125['correctAnswer'][_0x3d9e8d(0x278)]();break;case _0x3d9e8d(0x729):_0x7d09=_0x167125['correctResponse'];break;}return{'question':_0x167125[_0x3d9e8d(0x2c1)]||_0x167125[_0x3d9e8d(0x60a)],'options':_0x167125[_0x3d9e8d(0x9b4)]||null,'proposedAnswer':_0x7d09};}),_0xf42361=_0x5c6fdc(0xa66)+JSON[_0x5c6fdc(0x56f)](_0x5ec93c)+_0x5c6fdc(0x80c),_0x2b74d3={'type':'ARRAY','items':{'type':_0x5c6fdc(0x6f5),'properties':{'questionIndex':{'type':_0x5c6fdc(0x1e3)},'isCorrect':{'type':_0x5c6fdc(0x22c)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x5c6fdc(0x62a)}},'required':[_0x5c6fdc(0x543),'isCorrect',_0x5c6fdc(0x6ca)]}},_0x269f8c=await callAnalysisApi(_0xf42361,{'type':_0x5c6fdc(0x6f5),'properties':{'result':_0x2b74d3},'required':[_0x5c6fdc(0x376)]});displayVerificationResults(_0x269f8c[_0x5c6fdc(0x376)]);}catch(_0x4110a3){console['error']('Error\x20verifying\x20answers:',_0x4110a3),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x1e594d[_0x5c6fdc(0x383)]=![],_0x1e594d[_0x5c6fdc(0x9ad)]=_0x5c6fdc(0xab1);}}function displayVerificationResults(_0x3a52ce){const _0x5e2261=_0x31ab05;_0x3a52ce['forEach'](_0x49ea7a=>{const _0x5e4042=_0x4d4b,_0x2ced8d=document[_0x5e4042(0x6d9)](_0x5e4042(0x29c)+_0x49ea7a[_0x5e4042(0x543)]+'\x22]');if(_0x2ced8d){const _0x19f2c5=_0x2ced8d['querySelector'](_0x5e4042(0x2af));if(_0x19f2c5)_0x19f2c5[_0x5e4042(0x195)]();let _0x3cd4ab='';_0x49ea7a['isCorrect']?_0x3cd4ab=_0x5e4042(0x1d8):_0x3cd4ab=_0x5e4042(0x99f)+_0x49ea7a[_0x5e4042(0x6ca)]+_0x5e4042(0x439)+(_0x49ea7a['suggestedAnswer']?_0x5e4042(0x5a2)+_0x49ea7a[_0x5e4042(0x359)]+'</p>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2ced8d[_0x5e4042(0xa88)](_0x5e4042(0x888),_0x3cd4ab);}}),showMessage(_0x5e2261(0x70d));}function compareNumericalAnswers(_0x1e5c2d,_0x26affd){const _0x2ba8b9=_0x31ab05,_0xf3c85a=String(_0x1e5c2d)['replace'](',','.')[_0x2ba8b9(0x972)](/[^\d.-]/g,'')['trim'](),_0x4e9c31=String(_0x26affd)[_0x2ba8b9(0x972)](',','.')[_0x2ba8b9(0x972)](/[^\d.-]/g,'')[_0x2ba8b9(0x68c)]();if(_0xf3c85a===''||_0x4e9c31==='')return![];const _0x40c026=parseFloat(_0xf3c85a),_0x5576c9=parseFloat(_0x4e9c31);if(isNaN(_0x40c026)||isNaN(_0x5576c9))return![];return Math[_0x2ba8b9(0x6ba)](_0x40c026-_0x5576c9)<0.001;}async function gradeShortAnswer(_0x56fdb6,_0x3b6a46){const _0x22efae=_0x31ab05,_0x3307a9=_0x3b6a46[_0x22efae(0x980)];if(String(_0x56fdb6)['trim']()['toLowerCase']()===String(_0x3307a9)[_0x22efae(0x68c)]()['toLowerCase']())return!![];if(compareNumericalAnswers(_0x56fdb6,_0x3307a9))return!![];return console[_0x22efae(0x4a9)](_0x22efae(0xac9)),await gradeShortAnswerWithAI(_0x56fdb6,_0x3307a9);}async function revealAnswerForAdmin(_0x5a6629,_0x2a86f1){const _0x18df89=_0x31ab05,_0x400f16=doc(db,_0x18df89(0x9ac)+appId+_0x18df89(0x90c),currentLiveGameId);await updateDoc(_0x400f16,{'questionStatus':_0x18df89(0x50d)});}function showTop5LeaderboardView(_0x529b92){const _0x5aca77=_0x31ab05,_0x487e18=Object[_0x5aca77(0x33d)](_0x529b92['players']||{})['filter'](_0x1e5697=>_0x1e5697['status']==='active');_0x487e18[_0x5aca77(0x7ab)]((_0x64f7b0,_0x3e1d6d)=>_0x3e1d6d[_0x5aca77(0x941)]-_0x64f7b0[_0x5aca77(0x941)]);const _0x30b58f=_0x487e18[_0x5aca77(0xa51)](0x0,0x5),_0x2eeae9=_0x5aca77(0x63a)+_0x30b58f['map']((_0x5c9edc,_0x46ff97)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x46ff97+0x1)+'.\x20'+(_0x5c9edc['name']||Object[_0x5aca77(0x2c9)](_0x529b92[_0x5aca77(0x72f)])[_0x5aca77(0x606)](_0x2fa850=>_0x529b92['players'][_0x2fa850]===_0x5c9edc))+_0x5aca77(0x377)+_0x5c9edc[_0x5aca77(0x941)]+_0x5aca77(0xa7a))[_0x5aca77(0x62f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x529b92['currentQuestionIndex']+0x1===currentQuizData[_0x5aca77(0x2c2)][_0x5aca77(0xabc)]?_0x5aca77(0x1ae):'ข้อต่อไป')+_0x5aca77(0x843);liveGameView['innerHTML']=_0x2eeae9,document['getElementById'](_0x5aca77(0xab3))[_0x5aca77(0x7d4)](_0x5aca77(0x72b),async()=>{const _0x5abab8=_0x5aca77,_0x4cbd09=doc(db,_0x5abab8(0x9ac)+appId+_0x5abab8(0x90c),currentLiveGameId),_0x4a5b50=_0x529b92[_0x5abab8(0x27b)]+0x1;if(_0x4a5b50<currentQuizData['questions'][_0x5abab8(0xabc)]){const _0x33032a={'currentQuestionIndex':_0x4a5b50,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x5abab8(0xa30)};Object[_0x5abab8(0x2c9)](_0x529b92[_0x5abab8(0x72f)])[_0x5abab8(0x1bc)](_0xc61c0b=>{const _0x3925ab=_0x5abab8;_0x33032a[_0x3925ab(0x4e3)+_0xc61c0b+_0x3925ab(0x6da)]=![];}),await updateDoc(_0x4cbd09,_0x33032a);}else await updateDoc(_0x4cbd09,{'status':_0x5abab8(0x789)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x5dce6f=>{const _0x19c096=_0x4d4b;if(_0x5dce6f){userId=_0x5dce6f[_0x19c096(0x65c)],userIdDisplay[_0x19c096(0x36e)]=userId;const _0x8f0cc2=await loadUserPreferences();_0x8f0cc2['projectSortOrder']&&(document[_0x19c096(0x983)](_0x19c096(0x4c7))['value']=_0x8f0cc2['projectSortOrder']);globalDashboardSettings[_0x19c096(0x430)]=_0x8f0cc2['projectView']||_0x19c096(0x946);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x3be3da,_0x4c662a){const _0x2b336a=_0x31ab05;if(!userId)return;try{const _0x34ead5=doc(db,_0x2b336a(0x9ac)+appId+_0x2b336a(0x83d)+userId+'/preferences/main'),_0x4d8dff={};_0x4d8dff[_0x3be3da]=_0x4c662a,await setDoc(_0x34ead5,_0x4d8dff,{'merge':!![]});}catch(_0x231b2e){console[_0x2b336a(0x8c0)](_0x2b336a(0x458),_0x231b2e);}}async function loadUserPreferences(){const _0x3136e6=_0x31ab05;if(!userId)return{};try{const _0x4485b=doc(db,_0x3136e6(0x9ac)+appId+_0x3136e6(0x83d)+userId+_0x3136e6(0x72a)),_0x434db6=await getDoc(_0x4485b);if(_0x434db6['exists']())return _0x434db6[_0x3136e6(0x943)]();return{};}catch(_0x5c7803){return console[_0x3136e6(0x8c0)](_0x3136e6(0x7ee),_0x5c7803),{};}}function showPodiumView(_0x4f78dc,_0x5d1f02=_0x31ab05(0x4cd)){const _0x1bd403=_0x31ab05,_0x3fcafe=Object[_0x1bd403(0x1d9)](_0x4f78dc)[_0x1bd403(0x2e0)](([_0x2fefe9,_0x119ca1])=>({'name':_0x2fefe9,'score':_0x119ca1[_0x1bd403(0x941)]||0x0,'badges':_0x119ca1['badges']||[],'hasPerfectScoreBonus':_0x119ca1[_0x1bd403(0x3e6)]||![]}));_0x3fcafe[_0x1bd403(0x7ab)]((_0x32ce36,_0x1f2c9f)=>{const _0x3ed7d0=_0x1bd403,_0x130127=_0x1f2c9f['score']-_0x32ce36[_0x3ed7d0(0x941)];if(_0x130127!==0x0)return _0x130127;return(_0x1f2c9f[_0x3ed7d0(0x487)][_0x3ed7d0(0xabc)]||0x0)-(_0x32ce36['badges']['length']||0x0);});const _0x9487e5=_0x430ed8=>{const _0x5955fe=_0x1bd403;if(!_0x430ed8||_0x430ed8['length']===0x0)return'';const _0x3e8b52={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x430ed8[_0x5955fe(0x2e0)](_0x123993=>_0x3e8b52[_0x123993]||'')['join']('')+_0x5955fe(0x603);},_0x48b2d1=_0x3fcafe['slice'](0x3),_0x49c0c3=_0x48b2d1['length']>0x0?_0x1bd403(0x9e7)+_0x48b2d1[_0x1bd403(0x2e0)]((_0x474ce1,_0x3eca40)=>{const _0x1e7e98=_0x1bd403,_0x30c6e7=_0x474ce1['hasPerfectScoreBonus']?_0x1e7e98(0x492):'';return _0x1e7e98(0x631)+(_0x3eca40+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x474ce1[_0x1e7e98(0x73f)]+_0x1e7e98(0x826)+_0x474ce1[_0x1e7e98(0x941)]+_0x1e7e98(0x588)+_0x30c6e7+_0x1e7e98(0x6c8);})[_0x1bd403(0x62f)]('')+_0x1bd403(0x4f8):'',_0x4ed37b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3fcafe[0x1]?_0x1bd403(0x56e)+_0x3fcafe[0x1][_0x1bd403(0x73f)]+_0x1bd403(0x989)+_0x9487e5(_0x3fcafe[0x1][_0x1bd403(0x487)])+_0x1bd403(0x460)+_0x3fcafe[0x1][_0x1bd403(0x941)]+_0x1bd403(0x588)+(_0x3fcafe[0x1]['hasPerfectScoreBonus']?_0x1bd403(0x5db):'')+_0x1bd403(0x1d4):_0x1bd403(0x4fa))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3fcafe[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x3fcafe[0x0][_0x1bd403(0x73f)]+'</p>'+_0x9487e5(_0x3fcafe[0x0][_0x1bd403(0x487)])+_0x1bd403(0x39d)+_0x3fcafe[0x0][_0x1bd403(0x941)]+'\x20คะแนน\x20'+(_0x3fcafe[0x0][_0x1bd403(0x3e6)]?_0x1bd403(0x5db):'')+_0x1bd403(0x59e):_0x1bd403(0x4fa))+_0x1bd403(0x7c8)+(_0x3fcafe[0x2]?_0x1bd403(0x323)+_0x3fcafe[0x2][_0x1bd403(0x73f)]+_0x1bd403(0x989)+_0x9487e5(_0x3fcafe[0x2][_0x1bd403(0x487)])+_0x1bd403(0x460)+_0x3fcafe[0x2][_0x1bd403(0x941)]+_0x1bd403(0x588)+(_0x3fcafe[0x2]['hasPerfectScoreBonus']?_0x1bd403(0x5db):'')+_0x1bd403(0x44c):_0x1bd403(0x4fa))+_0x1bd403(0x51b)+_0x49c0c3+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x1bd403(0x685)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':_0x1bd403(0x3d4))+_0x1bd403(0x3d8);liveGameView[_0x1bd403(0x9ad)]=_0x4ed37b,currentMode===_0x1bd403(0x685)&&document[_0x1bd403(0x983)](_0x1bd403(0x8ba))[_0x1bd403(0x7d4)](_0x1bd403(0x72b),async()=>{const _0x24b37d=_0x1bd403;let _0x54181a;_0x5d1f02==='sync'?_0x54181a=doc(db,_0x24b37d(0x9ac)+appId+_0x24b37d(0x86c),currentLiveGameId):_0x54181a=doc(db,_0x24b37d(0x9ac)+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x54181a);});}function renderSyncSummaryView(_0xa9f25c,_0x55155,_0x27e459){const _0x5f1100=_0x31ab05,_0x16a57f=Object[_0x5f1100(0x33d)](_0xa9f25c[_0x5f1100(0x72f)]||{}),_0xbc6d05=_0x55155[_0x5f1100(0x9b4)]||[],_0x1d764a=new Array(_0xbc6d05[_0x5f1100(0xabc)])['fill'](0x0),_0x1862a4={};_0xbc6d05[_0x5f1100(0x1bc)]((_0x127d0a,_0x1e69a2)=>{_0x1862a4[_0x1e69a2]=[];}),Object['entries'](_0xa9f25c[_0x5f1100(0x72f)]||{})['forEach'](([_0x444124,_0x4ee71])=>{const _0x30f01d=_0x5f1100;if(_0x4ee71[_0x30f01d(0xa1f)]!==_0x30f01d(0x87c)&&_0x4ee71[_0x30f01d(0x262)]!==undefined&&_0x4ee71[_0x30f01d(0x262)]!==null){const _0x3153d4=_0x4ee71[_0x30f01d(0x262)];_0x1862a4[_0x3153d4]!==undefined&&(_0x1862a4[_0x3153d4][_0x30f01d(0x9b9)](_0x444124),_0x1d764a[_0x3153d4]++);}});let _0x370ad2='';_0x27e459?_0x370ad2=_0x5f1100(0xacc):_0x370ad2=_0x5f1100(0x851);const _0x1e25dc=_0x5f1100(0x3e8)+_0x55155[_0x5f1100(0x60a)]+_0x5f1100(0x3a0)+_0x1d764a['map']((_0x354d67,_0x33c421)=>{const _0x26792f=_0x5f1100,_0x115de9=_0x1862a4[_0x33c421][_0x26792f(0xabc)]>0x0?_0x1862a4[_0x33c421]['join'](',\x20'):_0x26792f(0x3ad),_0x3384d8=_0x26792f(0x4ce);return _0x26792f(0x3fc)+_0x354d67+_0x26792f(0xa36)+_0x3384d8+_0x26792f(0x2c6)+_0x33c421+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0xbc6d05[_0x33c421]+_0x26792f(0x582)+_0x33c421+_0x26792f(0xa25)+_0x115de9+_0x26792f(0x48f);})[_0x5f1100(0x62f)]('')+_0x5f1100(0x298)+_0x370ad2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x5f1100(0x9ad)]=_0x1e25dc;if(window['MathJax'])MathJax[_0x5f1100(0x1de)]();_0x27e459&&(document[_0x5f1100(0x983)](_0x5f1100(0x9a7))[_0x5f1100(0x7d4)](_0x5f1100(0x72b),async()=>{const _0x28713e=_0x5f1100,_0x3283fa=doc(db,_0x28713e(0x9ac)+appId+_0x28713e(0x86c),currentLiveGameId);await updateDoc(_0x3283fa,{'status':_0x28713e(0x623)});}),document['getElementById']('open-sync-scratchpad-btn')[_0x5f1100(0x488)]=()=>{openScratchpad(_0x55155,_0xbc6d05);});}async function handleShowStudentRankings(){const _0x3550ce=_0x31ab05,_0x3c4d44=document[_0x3550ce(0x6d9)]('#student-quiz-leaderboard-content\x20thead');_0x3c4d44&&(_0x3c4d44[_0x3550ce(0x9ad)]=_0x3550ce(0x2f6));const _0x295f95=document['querySelector'](_0x3550ce(0x499));_0x295f95&&(_0x295f95[_0x3550ce(0x9ad)]=_0x3550ce(0x59b));const _0x454260=document['getElementById'](_0x3550ce(0x38f));_0x454260['classList'][_0x3550ce(0x195)](_0x3550ce(0x540)),document['getElementById'](_0x3550ce(0x29f))['onclick']=()=>_0x454260[_0x3550ce(0x7b1)][_0x3550ce(0x9a9)](_0x3550ce(0x540));const _0x490301=document[_0x3550ce(0x983)](_0x3550ce(0x89a)),_0x30ecdd=document[_0x3550ce(0x983)](_0x3550ce(0x77b)),_0x440a65=document[_0x3550ce(0x983)](_0x3550ce(0x2d9)),_0x3069dc=document['getElementById'](_0x3550ce(0xaca));_0x490301['onclick']=()=>{const _0x3ef3df=_0x3550ce;_0x490301[_0x3ef3df(0x7b1)][_0x3ef3df(0x9a9)]('active'),_0x30ecdd[_0x3ef3df(0x7b1)][_0x3ef3df(0x195)](_0x3ef3df(0x799)),_0x440a65['classList'][_0x3ef3df(0x195)]('hidden'),_0x3069dc[_0x3ef3df(0x7b1)][_0x3ef3df(0x9a9)]('hidden');},_0x30ecdd[_0x3550ce(0x488)]=()=>{const _0x185565=_0x3550ce;_0x30ecdd[_0x185565(0x7b1)][_0x185565(0x9a9)](_0x185565(0x799)),_0x490301[_0x185565(0x7b1)][_0x185565(0x195)](_0x185565(0x799)),_0x3069dc[_0x185565(0x7b1)][_0x185565(0x195)](_0x185565(0x540)),_0x440a65['classList']['add'](_0x185565(0x540));};try{const _0x5d9f4a=collection(db,_0x3550ce(0x9ac)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x3550ce(0x830)),_0x566b61=await getDocs(_0x5d9f4a),_0x2851c3=_0x566b61[_0x3550ce(0x2f9)][_0x3550ce(0x2e0)](_0x56f55c=>_0x56f55c['data']());renderQuizLeaderboard(_0x2851c3,currentQuizData,_0x3550ce(0x79e));const _0x39278f=collection(db,_0x3550ce(0x9ac)+appId+'/public/data/projects/'+currentQuizData[_0x3550ce(0x7b7)]+_0x3550ce(0x928)),_0x1c9711=await getDocs(_0x39278f),_0x4eda0d=_0x1c9711[_0x3550ce(0x2f9)][_0x3550ce(0x2e0)](_0x3039d6=>_0x3039d6[_0x3550ce(0x943)]());renderLeaderboard(_0x4eda0d,_0x3550ce(0x8ac));}catch(_0x4eca06){console['error'](_0x3550ce(0x92e),_0x4eca06),showMessage(_0x3550ce(0x4ec));}}async function handleSaveToBank(_0x4f3d95){const _0x498a67=_0x31ab05,_0x50674c=_0x4f3d95['currentTarget'],_0x264abe=_0x50674c[_0x498a67(0x700)][_0x498a67(0x85a)],_0x5062f6=currentQuizData[_0x498a67(0x2c2)][_0x264abe];if(!userId){showMessage(_0x498a67(0xacd));return;}try{const _0x5131c2={..._0x5062f6,'originalTopic':currentQuizData[_0x498a67(0x88d)],'savedAt':serverTimestamp()},_0x1f8d63=collection(db,_0x498a67(0x9ac)+appId+_0x498a67(0x83d)+userId+_0x498a67(0x3fb));await addDoc(_0x1f8d63,_0x5131c2),showMessage(_0x498a67(0x887)),_0x50674c[_0x498a67(0x7b1)][_0x498a67(0x195)]('text-purple-600'),_0x50674c[_0x498a67(0x7b1)]['add'](_0x498a67(0x20f)),_0x50674c[_0x498a67(0x383)]=!![];}catch(_0x1bc6f0){console[_0x498a67(0x8c0)](_0x498a67(0x925),_0x1bc6f0),showMessage(_0x498a67(0x177));}}function listenForStarredQuizzes(){const _0x3b905f=_0x31ab05;if(!userId)return;const _0x5e62ac=collection(db,_0x3b905f(0x9ac)+appId+'/public/data/quizzes'),_0x50e960=query(_0x5e62ac,where(_0x3b905f(0x5ad),'==',!![]));onSnapshot(_0x50e960,_0x1a9a97=>{const _0x50e7e5=_0x3b905f;starredQuizzes=_0x1a9a97[_0x50e7e5(0x2f9)][_0x50e7e5(0x2e0)](_0x716bff=>({'id':_0x716bff['id'],..._0x716bff[_0x50e7e5(0x943)]()})),currentProjectId===_0x50e7e5(0x30d)?renderQuizzes():renderProjects();},_0x561eae=>{const _0x2dc541=_0x3b905f;console[_0x2dc541(0x8c0)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x561eae);});}function exportQuizAsWorksheetPDF(){const _0x3c041b=_0x31ab05;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x3c041b(0x9e3));return;}const _0x56c159=currentQuizData,_0x4b0bf6=window[_0x3c041b(0x793)]('',_0x3c041b(0xa48)),_0x4ca557=_0x34410d=>String[_0x3c041b(0x296)](0x41+_0x34410d),_0x4322fd=_0x3c041b(0x6e8)+_0x56c159['topic']+_0x3c041b(0x9e8)+_0x56c159['topic']+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56c159[_0x3c041b(0x2c2)][_0x3c041b(0x2e0)]((_0x5402c2,_0x12baa1)=>{const _0x47c0f0=_0x3c041b;let _0x232b00='';const _0x40af81=_0x5402c2[_0x47c0f0(0x225)]||_0x56c159[_0x47c0f0(0x91c)];switch(_0x40af81){case _0x47c0f0(0x373):case _0x47c0f0(0x593):_0x232b00=_0x47c0f0(0x8e9)+_0x5402c2[_0x47c0f0(0x9b4)][_0x47c0f0(0x2e0)]((_0x3435a6,_0x55e67d)=>_0x47c0f0(0x3b2)+_0x4ca557(_0x55e67d)+'.\x20'+_0x3435a6+_0x47c0f0(0x2bf))[_0x47c0f0(0x62f)](_0x47c0f0(0x2b8))+_0x47c0f0(0x603);break;case _0x47c0f0(0x486):_0x232b00=_0x47c0f0(0x770);break;default:_0x232b00=_0x47c0f0(0x1bd);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x12baa1+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x5402c2[_0x47c0f0(0x2c1)]||_0x5402c2[_0x47c0f0(0x60a)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5402c2['imageCode']?_0x47c0f0(0x877)+_0x5402c2[_0x47c0f0(0x6bc)]+_0x47c0f0(0x603):'')+_0x47c0f0(0xa75)+_0x232b00+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3c041b(0x62f)]('')+_0x3c041b(0x77d);_0x4b0bf6['document'][_0x3c041b(0x226)](_0x4322fd),_0x4b0bf6[_0x3c041b(0x284)][_0x3c041b(0x188)](),_0x4b0bf6[_0x3c041b(0x24c)]=function(){setTimeout(()=>{const _0x16cbe3=_0x4d4b;_0x4b0bf6[_0x16cbe3(0x8c9)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x3fe0b8=_0x31ab05;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0xdf4cf2=currentQuizData,_0x7cb147=window[_0x3fe0b8(0x793)]('',_0x3fe0b8(0xa48)),_0x24488c=_0x3cfb00=>String[_0x3fe0b8(0x296)](0x41+_0x3cfb00),_0x4b2e7e=_0x3fe0b8(0x1f6)+_0xdf4cf2['topic']+_0x3fe0b8(0xac6)+_0xdf4cf2[_0x3fe0b8(0x2c2)][_0x3fe0b8(0x2e0)]((_0x10c1aa,_0xd87237)=>{const _0x58c7f3=_0x3fe0b8;let _0x1555fc='';const _0x48ea31=_0x10c1aa[_0x58c7f3(0x225)]||_0xdf4cf2['quizType'];switch(_0x48ea31){case'multiple_choice':case _0x58c7f3(0x593):_0x1555fc=_0x58c7f3(0x252)+_0x10c1aa[_0x58c7f3(0x9b4)][_0x58c7f3(0x2e0)]((_0x448667,_0x491821)=>_0x58c7f3(0x450)+_0x24488c(_0x491821)+'.\x20'+_0x448667+_0x58c7f3(0x5ec))['join'](_0x58c7f3(0x2b8))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x58c7f3(0x486):_0x1555fc=_0x58c7f3(0x74c);break;default:_0x1555fc='';break;}return _0x58c7f3(0x8a8)+_0xdf4cf2[_0x58c7f3(0x88d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0xd87237+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x10c1aa['stem']||_0x10c1aa[_0x58c7f3(0x60a)])+_0x58c7f3(0x824)+(_0x10c1aa[_0x58c7f3(0x6bc)]?_0x58c7f3(0x20d)+_0x10c1aa[_0x58c7f3(0x6bc)]+_0x58c7f3(0x603):'')+_0x58c7f3(0xa75)+_0x1555fc+_0x58c7f3(0x2a0);})[_0x3fe0b8(0x62f)]('')+_0x3fe0b8(0x530);_0x7cb147[_0x3fe0b8(0x284)][_0x3fe0b8(0x226)](_0x4b2e7e),_0x7cb147[_0x3fe0b8(0x284)]['close'](),_0x7cb147[_0x3fe0b8(0x24c)]=function(){setTimeout(()=>{const _0x4bbfc7=_0x4d4b;_0x7cb147[_0x4bbfc7(0x8c9)]();},0x5dc);};}async function handleToggleStarQuiz(_0xcfdecb){const _0x511c76=_0x31ab05,_0x26b54d=doc(db,_0x511c76(0x9ac)+appId+_0x511c76(0x519),_0xcfdecb);try{const _0x1e1070=await getDoc(_0x26b54d);if(_0x1e1070['exists']()){const _0x200eb8=_0x1e1070[_0x511c76(0x943)]()[_0x511c76(0x5ad)]||![];await updateDoc(_0x26b54d,{'isStarred':!_0x200eb8});}}catch(_0x5bb2d1){console['error']('Error\x20toggling\x20star\x20status:',_0x5bb2d1),showMessage(_0x511c76(0x8b5));}}async function displayQuestionBank(){const _0x9be1ad=_0x31ab05,_0x5e41df=document['getElementById'](_0x9be1ad(0x6f0));_0x5e41df[_0x9be1ad(0x9ad)]=_0x9be1ad(0x9d3);try{const _0x32d3a7=collection(db,'artifacts/'+appId+_0x9be1ad(0x83d)+userId+_0x9be1ad(0x3fb)),_0xa6c7de=query(_0x32d3a7),_0x33dfdc=await getDocs(_0xa6c7de);if(_0x33dfdc[_0x9be1ad(0x3c8)]){_0x5e41df[_0x9be1ad(0x9ad)]=_0x9be1ad(0x5a6);return;}let _0x224a4f=_0x33dfdc[_0x9be1ad(0x2f9)]['map'](_0x545895=>{const _0x3f5e9a=_0x9be1ad,_0x54821d=_0x545895[_0x3f5e9a(0x943)](),_0x5aed8c=_0x545895['id'];return _0x3f5e9a(0x64b)+JSON[_0x3f5e9a(0x56f)](_0x54821d)+_0x3f5e9a(0x77a)+(_0x54821d[_0x3f5e9a(0x60a)]||_0x54821d[_0x3f5e9a(0x2c1)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x54821d['originalTopic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x9be1ad(0x62f)]('');_0x5e41df[_0x9be1ad(0x9ad)]=_0x9be1ad(0x7c5)+_0x224a4f+_0x9be1ad(0xa45),document[_0x9be1ad(0x983)]('create-from-bank-btn')[_0x9be1ad(0x7d4)](_0x9be1ad(0x72b),createQuizFromBank);}catch(_0x193183){console[_0x9be1ad(0x8c0)]('Error\x20displaying\x20question\x20bank:',_0x193183),_0x5e41df[_0x9be1ad(0x9ad)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}function showAdminLiveQuestionView(_0x1a53d8,_0x477eec,_0x5a6e29){const _0x5551d7=_0x31ab05,_0x2d2388=_0x1a53d8[_0x5551d7(0x225)]||currentQuizData['quizType'];let _0x3611fe='';if(_0x2d2388===_0x5551d7(0x373)||_0x2d2388===_0x5551d7(0x486)){const _0x1fd2da=_0x2d2388===_0x5551d7(0x486)?[_0x5551d7(0x308),'ไม่ใช่']:_0x1a53d8['options'],_0x3073dd=_0x2d2388===_0x5551d7(0x486)?_0x1a53d8[_0x5551d7(0x1dc)]?0x0:0x1:_0x1a53d8['correctAnswerIndex'];_0x3611fe=_0x1fd2da['map']((_0x1e8ab4,_0x20045d)=>_0x5551d7(0x329)+(_0x20045d===_0x3073dd)+_0x5551d7(0xa92)+_0x1e8ab4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else{if(_0x2d2388===_0x5551d7(0x729)){const _0x3db429=_0x1a53d8[_0x5551d7(0x9c2)]||[];_0x3611fe=_0x3db429[_0x5551d7(0x2e0)](_0x2c0c01=>_0x5551d7(0x329)+(_0x2c0c01===_0x1a53d8[_0x5551d7(0x965)])+_0x5551d7(0xa92)+_0x2c0c01+_0x5551d7(0x7ba))[_0x5551d7(0x62f)]('');}}const _0x3e1fe2=_0x1a53d8[_0x5551d7(0x2c1)]||_0x1a53d8[_0x5551d7(0x60a)],_0xb3423e=_0x5551d7(0x372)+(_0x477eec+0x1)+'\x20/\x20'+_0x5a6e29+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+_0x5551d7(0x436)+_0x3e1fe2+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3611fe+_0x5551d7(0x3b8);liveGameView[_0x5551d7(0x9ad)]=_0xb3423e,window[_0x5551d7(0x2cb)]&&MathJax[_0x5551d7(0x1de)]&&MathJax[_0x5551d7(0x1de)]([liveGameView]),document[_0x5551d7(0x983)](_0x5551d7(0x7df))[_0x5551d7(0x7d4)](_0x5551d7(0x72b),()=>revealAnswerForAdmin(_0x477eec,_0x5a6e29)),document[_0x5551d7(0x983)](_0x5551d7(0x975))[_0x5551d7(0x7d4)](_0x5551d7(0x72b),async()=>{const _0x1b9ede=_0x5551d7;showConfirmation(_0x1b9ede(0x7e5),async()=>{const _0x58a753=_0x1b9ede,_0xf73c80=doc(db,_0x58a753(0x9ac)+appId+_0x58a753(0x90c),currentLiveGameId);await updateDoc(_0xf73c80,{'status':_0x58a753(0x789)});});}),document[_0x5551d7(0x983)](_0x5551d7(0x484))[_0x5551d7(0x7d4)](_0x5551d7(0x72b),()=>{const _0x1503c5=_0x5551d7;document[_0x1503c5(0x983)](_0x1503c5(0x324))[_0x1503c5(0x7b1)][_0x1503c5(0x18f)]('hidden');});}function showStudentLiveQuestionView(_0x4a44a2,_0x3cdf09,_0x5f290a){const _0x6d8e0e=_0x31ab05,_0x434e17=_0x4a44a2[_0x6d8e0e(0x225)]||currentQuizData['quizType'];let _0x566591='';if(_0x434e17===_0x6d8e0e(0x373)||_0x434e17===_0x6d8e0e(0x486)){const _0x4db9b1=_0x434e17===_0x6d8e0e(0x486)?[_0x6d8e0e(0x308),'ไม่ใช่']:_0x4a44a2[_0x6d8e0e(0x9b4)];_0x566591=_0x4db9b1['map']((_0x284d1e,_0x4cc82e)=>_0x6d8e0e(0x75f)+_0x4cc82e+_0x6d8e0e(0x223)+_0x284d1e+_0x6d8e0e(0x879))[_0x6d8e0e(0x62f)]('');}else{if(_0x434e17===_0x6d8e0e(0x729)){const _0x496b62=_0x4a44a2['allResponses']||[];_0x566591=_0x496b62['map']((_0x3121ee,_0x3644b1)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x3644b1+_0x6d8e0e(0x223)+_0x3121ee+_0x6d8e0e(0x879))[_0x6d8e0e(0x62f)]('');}else _0x434e17===_0x6d8e0e(0x2f3)&&(_0x566591=_0x6d8e0e(0x87a));}const _0x3af61d=_0x4a44a2[_0x6d8e0e(0x2c1)]||_0x4a44a2[_0x6d8e0e(0x60a)],_0x14ffac=_0x6d8e0e(0xa07)+(_0x3cdf09+0x1)+_0x6d8e0e(0x47d)+_0x5f290a+_0x6d8e0e(0x6b0)+_0x3af61d+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x566591+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x6d8e0e(0x9ad)]=_0x14ffac;window[_0x6d8e0e(0x2cb)]&&MathJax[_0x6d8e0e(0x1de)]&&MathJax[_0x6d8e0e(0x1de)]([liveGameView]);const _0x47b1ef=document[_0x6d8e0e(0x983)]('live-submit-short-answer-btn');_0x47b1ef&&_0x47b1ef['addEventListener'](_0x6d8e0e(0x72b),()=>{const _0x499edf=_0x6d8e0e,_0x47ac4e=document[_0x499edf(0x983)](_0x499edf(0xa01))[_0x499edf(0x3eb)];handleLiveAnswer(_0x47ac4e,_0x4a44a2);}),document['getElementById'](_0x6d8e0e(0x6b4))[_0x6d8e0e(0x7d4)](_0x6d8e0e(0x72b),_0x7972a9=>{const _0x28f7a2=_0x6d8e0e,_0x210bed=_0x7972a9[_0x28f7a2(0x908)][_0x28f7a2(0x8d2)]('.live-answer-btn');if(_0x210bed){const _0x119386=parseInt(_0x210bed[_0x28f7a2(0x700)][_0x28f7a2(0x85a)]);handleLiveAnswer(_0x119386,_0x4a44a2);}});}async function handleLiveAnswer(_0x5e7618,_0x27afa8){const _0x456443=_0x31ab05;document[_0x456443(0x279)](_0x456443(0x4f6))[_0x456443(0x1bc)](_0x2717a9=>_0x2717a9[_0x456443(0x383)]=!![]);const _0x42ddac=_0x27afa8[_0x456443(0x225)]||currentQuizData[_0x456443(0x91c)];let _0x319650=![],_0x3bb3d3=_0x5e7618;if(_0x42ddac===_0x456443(0x2f3)){const _0x1359e8=(_0x5e7618||'')[_0x456443(0x278)]();_0x319650=await gradeShortAnswer(_0x1359e8,_0x27afa8);}else{if(_0x42ddac===_0x456443(0x373))_0x319650=_0x5e7618===_0x27afa8[_0x456443(0x438)];else{if(_0x42ddac===_0x456443(0x486)){const _0x25ca28=_0x27afa8[_0x456443(0x1dc)];_0x319650=_0x5e7618===0x0&&_0x25ca28||_0x5e7618===0x1&&!_0x25ca28;}else{if(_0x42ddac==='matching_item'){const _0x533fe3=_0x27afa8['allResponses'][_0x5e7618];_0x319650=_0x533fe3===_0x27afa8['correctResponse'],_0x3bb3d3=_0x533fe3;}}}}const _0x47c37c=doc(db,_0x456443(0x9ac)+appId+_0x456443(0x90c),currentLiveGameId),_0x437c1a={};_0x437c1a[_0x456443(0x4e3)+currentStudentName+_0x456443(0x6da)]=!![],_0x437c1a['players.'+currentStudentName+_0x456443(0x677)]=_0x319650,_0x437c1a[_0x456443(0x4e3)+currentStudentName+_0x456443(0x525)]=_0x42ddac===_0x456443(0x2f3)||_0x42ddac===_0x456443(0x729)?null:_0x5e7618,_0x437c1a[_0x456443(0x4e3)+currentStudentName+_0x456443(0x780)]=_0x3bb3d3,_0x437c1a[_0x456443(0x4e3)+currentStudentName+_0x456443(0x933)]=serverTimestamp(),_0x437c1a[_0x456443(0x4e3)+currentStudentName+_0x456443(0x202)]=![],await updateDoc(_0x47c37c,_0x437c1a),liveGameView[_0x456443(0x9ad)]=_0x456443(0x285);}function showAdminSummaryView(_0x4b01f8,_0x5d0b2c){const _0x515ccd=_0x31ab05,_0x4c9cff=Object[_0x515ccd(0x33d)](_0x4b01f8[_0x515ccd(0x72f)]||{}),_0x3e6c43=_0x5d0b2c[_0x515ccd(0x225)]||currentQuizData[_0x515ccd(0x91c)],_0x27386c=_0x3e6c43===_0x515ccd(0x486)?[_0x515ccd(0x308),'ไม่ใช่']:_0x5d0b2c[_0x515ccd(0x9b4)]||_0x5d0b2c['allResponses']||[],_0x3b1b9f={},_0xd4cfe6=new Array(_0x27386c[_0x515ccd(0xabc)])[_0x515ccd(0x21e)](0x0);_0x27386c[_0x515ccd(0x1bc)]((_0x3eb218,_0x1fd2fe)=>{_0x3b1b9f[_0x1fd2fe]=[];}),Object[_0x515ccd(0x1d9)](_0x4b01f8[_0x515ccd(0x72f)]||{})[_0x515ccd(0x1bc)](([_0x38684,_0x352d51])=>{const _0x4e019a=_0x515ccd;if(_0x352d51[_0x4e019a(0xa1f)]==='active'&&_0x352d51[_0x4e019a(0x262)]!==undefined){const _0x4ba1d9=_0x352d51['lastAnswerIndex'];_0x3b1b9f[_0x4ba1d9]&&(_0x3b1b9f[_0x4ba1d9][_0x4e019a(0x9b9)](_0x38684),_0xd4cfe6[_0x4ba1d9]++);}});const _0x18c805=Math['max'](..._0xd4cfe6,0x1),_0x4e1bc7=_0x515ccd(0x461)+(_0x5d0b2c[_0x515ccd(0x2c1)]||_0x5d0b2c[_0x515ccd(0x60a)])+_0x515ccd(0xa2c)+_0xd4cfe6[_0x515ccd(0x2e0)]((_0x272920,_0xd52164)=>{const _0x1e530a=_0x515ccd,_0x37931e=_0x3b1b9f[_0xd52164]['length']>0x0?_0x3b1b9f[_0xd52164]['join'](',\x20'):_0x1e530a(0x3ad);let _0x358adf=![];if(_0x3e6c43===_0x1e530a(0x373))_0x358adf=_0xd52164===_0x5d0b2c['correctAnswerIndex'];else{if(_0x3e6c43===_0x1e530a(0x486)){const _0x416a8b=_0x5d0b2c[_0x1e530a(0x1dc)];_0x358adf=_0x416a8b&&_0xd52164===0x0||!_0x416a8b&&_0xd52164===0x1;}else _0x3e6c43==='matching_item'&&(_0x358adf=_0x27386c[_0xd52164]===_0x5d0b2c[_0x1e530a(0x965)]);}const _0x6fdb19=_0x358adf?_0x1e530a(0x7ff):_0x1e530a(0x618);return _0x1e530a(0x70e)+_0x272920+_0x1e530a(0x40c)+_0x6fdb19+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0xd52164+_0x1e530a(0x854)+_0x27386c[_0xd52164]+_0x1e530a(0x582)+_0xd52164+_0x1e530a(0xa25)+_0x37931e+_0x1e530a(0x48f);})[_0x515ccd(0x62f)]('')+_0x515ccd(0x9e9);liveGameView['innerHTML']=_0x4e1bc7;if(window[_0x515ccd(0x2cb)])MathJax[_0x515ccd(0x1de)]();document[_0x515ccd(0x983)](_0x515ccd(0x218))['addEventListener'](_0x515ccd(0x72b),async()=>{const _0x266f49=_0x515ccd,_0x5bf112=doc(db,_0x266f49(0x9ac)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x5bf112,{'questionStatus':'leaderboard'});}),document[_0x515ccd(0x983)](_0x515ccd(0x9cc))['addEventListener'](_0x515ccd(0x72b),()=>{openScratchpad(_0x5d0b2c,_0x27386c);});}function showPlayerSummaryView(_0x3efac9,_0x2ed0a6){const _0x1871f4=_0x31ab05,_0x142993=Object[_0x1871f4(0x33d)](_0x3efac9[_0x1871f4(0x72f)]||{}),_0x4ad31e=_0x3efac9[_0x1871f4(0x72f)][_0x2ed0a6],_0x47d8f2=_0x142993[_0x1871f4(0x8af)](_0x481564=>_0x481564[_0x1871f4(0xa1f)]==='active')[_0x1871f4(0x7ab)]((_0x555540,_0x4dca5d)=>_0x4dca5d[_0x1871f4(0x941)]-_0x555540[_0x1871f4(0x941)]),_0x5c0674=_0x47d8f2[_0x1871f4(0x4de)](_0x8aaf4f=>_0x8aaf4f===_0x4ad31e)+0x1,_0x4656d8=_0x4ad31e[_0x1871f4(0x3c4)]?_0x1871f4(0x7a1):_0x1871f4(0x528),_0x52e5af=_0x4ad31e['lastAnswerCorrect']?_0x1871f4(0x6e7):_0x1871f4(0x672),_0xf01087=_0x4ad31e[_0x1871f4(0x743)]||0x0,_0x1a9630=_0x1871f4(0x89c),_0x561a81=_0x1871f4(0x612)+_0x1a9630+_0x1871f4(0x849)+_0x52e5af+_0x1871f4(0x17f)+_0x4656d8+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0xf01087+_0x1871f4(0x1b9)+(_0x5c0674>0x0?_0x5c0674:'-')+_0x1871f4(0x918);liveGameView['innerHTML']=_0x561a81;}function createQuizFromBank(){const _0x427e47=_0x31ab05,_0x198351=document[_0x427e47(0x279)](_0x427e47(0xac1));if(_0x198351[_0x427e47(0xabc)]===0x0){showMessage(_0x427e47(0x5c8));return;}const _0x2b23d1=[];_0x198351['forEach'](_0x17d26f=>{const _0x3267d4=_0x427e47;_0x2b23d1[_0x3267d4(0x9b9)](JSON[_0x3267d4(0x83a)](_0x17d26f['value']));});const _0x21ea36={'topic':_0x427e47(0x69e),'questions':_0x2b23d1};displayGeneratedQuiz(_0x21ea36);}function showAdminLobbyView(_0x198f53,_0xf20bde){const _0x15a787=_0x31ab05;showView('live-game');const _0x5d8364=_0x15a787(0x3c3)+_0xf20bde+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x198f53+_0x15a787(0x84e);liveGameView[_0x15a787(0x9ad)]=_0x5d8364,document[_0x15a787(0x983)](_0x15a787(0x779))[_0x15a787(0x7d4)](_0x15a787(0x72b),async()=>{const _0x2e41df=_0x15a787;if(!currentQuizData||!currentQuizData[_0x2e41df(0x2c2)]||currentQuizData[_0x2e41df(0x2c2)]['length']===0x0){showMessage(_0x2e41df(0x767));return;}try{const _0x3fff3a=doc(db,_0x2e41df(0x9ac)+appId+_0x2e41df(0x90c),currentLiveGameId);await updateDoc(_0x3fff3a,{'status':_0x2e41df(0x4c1),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0xf5157=currentQuizData[_0x2e41df(0x2c2)][0x0],_0x15533c=currentQuizData['questions'][_0x2e41df(0xabc)];showAdminLiveQuestionView(_0xf5157,0x0,_0x15533c);}catch(_0xd843f3){console[_0x2e41df(0x8c0)](_0x2e41df(0x7d1),_0xd843f3),showMessage(_0x2e41df(0xa7b));}});}async function openGlobalLiveModal(){const _0x59aab4=_0x31ab05;if(allQuizzesGlobal[_0x59aab4(0xabc)]===0x0){const _0x3f5949=await getDocs(collection(db,'artifacts/'+appId+_0x59aab4(0x519)));allQuizzesGlobal=_0x3f5949[_0x59aab4(0x2f9)][_0x59aab4(0x2e0)](_0x4ce863=>({'id':_0x4ce863['id'],..._0x4ce863[_0x59aab4(0x943)]()}));}renderGlobalQuizList(''),document[_0x59aab4(0x983)]('global-live-game-modal')[_0x59aab4(0x7b1)]['remove']('hidden');}async function openQuizBankModal(){const _0x4535cc=_0x31ab05;if(allQuizzesGlobal[_0x4535cc(0xabc)]===0x0){const _0x4df183=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x4df183[_0x4535cc(0x2f9)]['map'](_0x414568=>({'id':_0x414568['id'],..._0x414568[_0x4535cc(0x943)]()}));}renderQuizBankList(''),document[_0x4535cc(0x983)]('quiz-bank-modal')[_0x4535cc(0x7b1)][_0x4535cc(0x195)](_0x4535cc(0x540));}function renderQuizBankList(_0x1d0470=''){const _0x453270=_0x31ab05,_0x1c8fea=document[_0x453270(0x983)](_0x453270(0x464)),_0x6a24d=_0x1d0470[_0x453270(0x46a)]()[_0x453270(0x68c)](),_0x17ec9a=allQuizzesGlobal[_0x453270(0x2e0)](_0x5acb3f=>({..._0x5acb3f,'projectName':allProjects[_0x453270(0x606)](_0x21c3f9=>_0x21c3f9['id']===_0x5acb3f['projectId'])?.['projectName']||'N/A'}))['filter'](_0x1a7cbc=>(_0x1a7cbc['topic']||'')['toLowerCase']()[_0x453270(0x67a)](_0x6a24d)||(_0x1a7cbc[_0x453270(0x537)]||'')[_0x453270(0x46a)]()['includes'](_0x6a24d)||_0x1a7cbc['id']['toString']()[_0x453270(0x67a)](_0x6a24d));document[_0x453270(0x983)](_0x453270(0x5da))[_0x453270(0x36e)]='('+_0x17ec9a[_0x453270(0xabc)]+_0x453270(0x691),_0x1c8fea[_0x453270(0x9ad)]=_0x17ec9a[_0x453270(0xabc)]?_0x17ec9a[_0x453270(0x2e0)](_0x586bab=>_0x453270(0x4f5)+_0x586bab['id']+_0x453270(0x3c9)+(_0x586bab[_0x453270(0x88d)]||_0x453270(0x7fe))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x586bab[_0x453270(0x2c2)]?.[_0x453270(0xabc)]||0x0)+_0x453270(0x98c)+_0x586bab[_0x453270(0x537)]+_0x453270(0x227)+_0x586bab['id']+_0x453270(0x527)+_0x586bab['id']+_0x453270(0x954)+_0x586bab['id']+_0x453270(0x41f)+_0x586bab['id']+_0x453270(0x45a)+_0x586bab['id']+_0x453270(0x32e)+_0x586bab['id']+_0x453270(0x4a7)+_0x586bab['id']+_0x453270(0x28f)+_0x586bab['topic']+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x453270(0x62f)](''):_0x453270(0x931),_0x1c8fea[_0x453270(0x279)](_0x453270(0x8e1))[_0x453270(0x1bc)](_0x378aef=>{const _0x4a3cf1=_0x453270;_0x378aef[_0x4a3cf1(0x7d4)](_0x4a3cf1(0x72b),()=>{const _0x5bd1eb=_0x4a3cf1,_0x2cd395=_0x378aef[_0x5bd1eb(0x700)]['id'];document['getElementById'](_0x5bd1eb(0x2b5))[_0x5bd1eb(0x7b1)][_0x5bd1eb(0x9a9)](_0x5bd1eb(0x540)),showQuizDetailView(_0x2cd395);});}),_0x1c8fea['querySelectorAll']('.quiz-bank-try-btn')[_0x453270(0x1bc)](_0x4ee11e=>{const _0x4c0c01=_0x453270;_0x4ee11e[_0x4c0c01(0x7d4)](_0x4c0c01(0x72b),_0x37732e=>{const _0x1d5584=_0x4c0c01;_0x37732e[_0x1d5584(0x89d)]();const _0x56f82f=_0x4ee11e['dataset']['id'],_0x417582=allQuizzesGlobal[_0x1d5584(0x606)](_0x5146d8=>_0x5146d8['id']===_0x56f82f);_0x417582?(currentQuizData=_0x417582,document[_0x1d5584(0x983)]('quiz-bank-modal')[_0x1d5584(0x7b1)]['add']('hidden'),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x1c8fea[_0x453270(0x279)](_0x453270(0x98a))[_0x453270(0x1bc)](_0x41a7bf=>{const _0x569c5d=_0x453270;_0x41a7bf[_0x569c5d(0x7d4)]('click',_0x47e0f8=>{const _0x78f56f=_0x569c5d;_0x47e0f8[_0x78f56f(0x89d)]();const _0xa49f67=_0x41a7bf[_0x78f56f(0x700)]['id'],_0x211988=allQuizzesGlobal[_0x78f56f(0x606)](_0x309dd8=>_0x309dd8['id']===_0xa49f67);_0x211988?(document[_0x78f56f(0x983)](_0x78f56f(0x2b5))[_0x78f56f(0x7b1)]['add']('hidden'),handleGenerateParallelFromBank(_0x211988)):showMessage(_0x78f56f(0x182));});}),_0x1c8fea[_0x453270(0x279)](_0x453270(0x6c5))[_0x453270(0x1bc)](_0xf5dde1=>{const _0x58e4f9=_0x453270;_0xf5dde1['addEventListener'](_0x58e4f9(0x72b),_0x5d6a0f=>{const _0x135c31=_0x58e4f9;_0x5d6a0f[_0x135c31(0x89d)]();const _0x430b3e=_0xf5dde1[_0x135c31(0x700)]['id'],_0x1f0699=allQuizzesGlobal[_0x135c31(0x606)](_0x58f095=>_0x58f095['id']===_0x430b3e);_0x1f0699?(document[_0x135c31(0x983)]('quiz-bank-modal')[_0x135c31(0x7b1)][_0x135c31(0x9a9)](_0x135c31(0x540)),startPresentation(_0x1f0699)):showMessage(_0x135c31(0x182));});}),_0x1c8fea[_0x453270(0x279)](_0x453270(0x18d))[_0x453270(0x1bc)](_0x2993fd=>{const _0x5bcbcf=_0x453270;_0x2993fd['addEventListener'](_0x5bcbcf(0x72b),_0x3ad81a=>{const _0x106757=_0x5bcbcf;_0x3ad81a[_0x106757(0x89d)]();const _0x22642d=_0x2993fd[_0x106757(0x700)]['id'];document[_0x106757(0x983)](_0x106757(0x2b5))[_0x106757(0x7b1)][_0x106757(0x9a9)]('hidden'),handleMoveQuiz(_0x22642d);});}),_0x1c8fea[_0x453270(0x279)](_0x453270(0x97e))[_0x453270(0x1bc)](_0x2c95cd=>{const _0x2ced91=_0x453270;_0x2c95cd[_0x2ced91(0x7d4)](_0x2ced91(0x72b),_0x39a949=>{const _0x165896=_0x2ced91;_0x39a949[_0x165896(0x89d)]();const _0x323745=_0x2c95cd[_0x165896(0x700)]['id'];document[_0x165896(0x983)](_0x165896(0x2b5))[_0x165896(0x7b1)][_0x165896(0x9a9)](_0x165896(0x540)),handleQuizSettings(_0x323745);});}),_0x1c8fea[_0x453270(0x279)]('.quiz-bank-delete-btn')[_0x453270(0x1bc)](_0x5af0ae=>{const _0x4e0762=_0x453270;_0x5af0ae[_0x4e0762(0x7d4)](_0x4e0762(0x72b),_0xdd5a9e=>{const _0x262591=_0x4e0762;_0xdd5a9e['stopPropagation']();const _0x20c9d3=_0x5af0ae['dataset']['id'],_0x51d895=_0x5af0ae['dataset'][_0x262591(0x88d)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x51d895+_0x262591(0x72c),()=>handleDeleteQuiz(_0x20c9d3));});});}async function handleCompareResults(_0x5b3a35,_0x32228e){const _0x5397cf=_0x31ab05,_0x5398e5=document['getElementById'](_0x5397cf(0x7b9)),_0x396a42=document['getElementById'](_0x5397cf(0x70f)),_0x519695=document[_0x5397cf(0x983)](_0x5397cf(0x4c8));document['getElementById'](_0x5397cf(0x621))[_0x5397cf(0x7b1)][_0x5397cf(0x9a9)](_0x5397cf(0x799)),document[_0x5397cf(0x983)]('comparison-individual-tab')[_0x5397cf(0x7b1)][_0x5397cf(0x195)](_0x5397cf(0x799)),_0x396a42[_0x5397cf(0x7b1)][_0x5397cf(0x195)](_0x5397cf(0x540)),_0x519695['classList'][_0x5397cf(0x9a9)](_0x5397cf(0x540)),_0x396a42[_0x5397cf(0x9ad)]=_0x5397cf(0x9d3),_0x519695[_0x5397cf(0x9ad)]='',_0x5398e5[_0x5397cf(0x7b1)][_0x5397cf(0x195)]('hidden');try{const _0xa8a6c4=doc(db,_0x5397cf(0x9ac)+appId+'/public/data/quizzes',_0x5b3a35),_0x343923=await getDoc(_0xa8a6c4);if(!_0x343923['exists']())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x4c5909=_0x343923[_0x5397cf(0x943)](),_0x27d866=_0x4c5909[_0x5397cf(0x2c2)][_0x5397cf(0xabc)],_0x199bbc=collection(db,_0x5397cf(0x9ac)+appId+_0x5397cf(0x8b8)+_0x32228e+_0x5397cf(0x830)),_0x47ffd8=collection(db,_0x5397cf(0x9ac)+appId+_0x5397cf(0x8b8)+_0x5b3a35+_0x5397cf(0x830)),[_0x536c17,_0x44b7e9]=await Promise[_0x5397cf(0x1d2)]([getDocs(_0x199bbc),getDocs(_0x47ffd8)]),_0x40efa9=_0x536c17['docs']['map'](_0x1f91f5=>_0x1f91f5[_0x5397cf(0x943)]()),_0x5d119b=_0x44b7e9[_0x5397cf(0x2f9)][_0x5397cf(0x2e0)](_0x32ca96=>_0x32ca96['data']()),_0x5492ef=_0x40efa9['map'](_0x524ef9=>_0x524ef9[_0x5397cf(0x9a2)]),_0x1249c=_0x5d119b[_0x5397cf(0x2e0)](_0x5783e2=>_0x5783e2[_0x5397cf(0x9a2)]),_0x230f1b=calculateMeanAndStdDev(_0x5492ef),_0x411c84=calculateMeanAndStdDev(_0x1249c),_0x34f8cc=_0x230f1b['mean'],_0x4279ed=_0x411c84[_0x5397cf(0x763)],_0x58bac9=_0x4279ed-_0x34f8cc;let _0x59031d=_0x5397cf(0x781)+_0x34f8cc[_0x5397cf(0x7c0)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x4279ed[_0x5397cf(0x7c0)](0x2)+_0x5397cf(0x48e)+(_0x58bac9>=0x0?_0x5397cf(0x6eb):_0x5397cf(0x5a0))+_0x5397cf(0x8bd)+(_0x58bac9>=0x0?_0x5397cf(0x5ea):_0x5397cf(0x687))+_0x5397cf(0x5b6)+(_0x58bac9>=0x0?_0x5397cf(0x76e):_0x5397cf(0x98b))+'\x22>'+(_0x58bac9>=0x0?'+':'')+_0x58bac9[_0x5397cf(0x7c0)](0x2)+_0x5397cf(0x7fd);_0x396a42['innerHTML']=_0x59031d;const _0x2de65e=document[_0x5397cf(0x983)](_0x5397cf(0xa0b))[_0x5397cf(0x4d4)]('2d');if(chartInstances[_0x5397cf(0x1a5)])chartInstances[_0x5397cf(0x1a5)][_0x5397cf(0x1b5)]();chartInstances[_0x5397cf(0x1a5)]=new Chart(_0x2de65e,{'type':_0x5397cf(0x7b4),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':'ก่อนเรียน','data':[_0x34f8cc],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':'หลังเรียน','data':[_0x4279ed],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x27d866}}}});const _0xbeb770=currentProjectData[_0x5397cf(0xa76)]||[],_0x1ff20b=_0xbeb770[_0x5397cf(0x2e0)](_0x43ed71=>{const _0x3281ad=_0x5397cf,_0x29e211=_0x40efa9['find'](_0x32da52=>_0x32da52[_0x3281ad(0x366)]===_0x43ed71),_0x16e93f=_0x5d119b['find'](_0x588077=>_0x588077[_0x3281ad(0x366)]===_0x43ed71),_0x2009f5=_0x29e211?_0x29e211['latestScore']:null,_0x4ed470=_0x16e93f?_0x16e93f[_0x3281ad(0x9a2)]:null,_0x2f9ac0=_0x2009f5!==null&&_0x4ed470!==null?_0x4ed470-_0x2009f5:null,_0xe4af6d=_0x2009f5!==null?calculateZScore(_0x2009f5,_0x230f1b[_0x3281ad(0x763)],_0x230f1b[_0x3281ad(0x857)]):null,_0x2d40da=_0x4ed470!==null?calculateZScore(_0x4ed470,_0x411c84[_0x3281ad(0x763)],_0x411c84['stdDev']):null,_0x52adc1=_0xe4af6d!==null?calculateTScore(_0xe4af6d):null,_0x1bf21d=_0x2d40da!==null?calculateTScore(_0x2d40da):null,_0x3fcf09=_0x52adc1!==null&&_0x1bf21d!==null?_0x1bf21d-_0x52adc1:null;return{'name':_0x43ed71,'preScore':_0x2009f5,'postScore':_0x4ed470,'gain':_0x2f9ac0,'preTScore':_0x52adc1,'postTScore':_0x1bf21d,'tGain':_0x3fcf09};});renderIndividualComparisonTable(_0x1ff20b,_0x519695);}catch(_0x14222d){console[_0x5397cf(0x8c0)](_0x5397cf(0x3ca),_0x14222d),_0x396a42[_0x5397cf(0x9ad)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function displayHalfMarkResult(_0x542b29,_0x4557a9){const _0xf34cba=_0x31ab05,_0x5700eb=_0x542b29>=_0x4557a9/0x2,_0x185b5e=_0x5700eb?'bg-green-100':_0xf34cba(0x5a0),_0x55fd0c=_0x5700eb?_0xf34cba(0x535):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x5bfbf6=_0x5700eb?_0xf34cba(0x483):_0xf34cba(0x687),_0x54219d=_0x5700eb?'ทำคะแนนได้เกินครึ่ง':'คะแนนยังไม่ถึงครึ่ง',_0x41e345=_0x5700eb?_0xf34cba(0x652):_0xf34cba(0x549);let _0x52ad63='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x185b5e+_0xf34cba(0x8db)+_0x55fd0c+_0xf34cba(0x9c0)+_0x5bfbf6+_0xf34cba(0x834)+_0x54219d+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x41e345+_0xf34cba(0x81c);studentResultArea[_0xf34cba(0x9ad)]=_0x52ad63,studentResultArea[_0xf34cba(0x7b1)]['remove'](_0xf34cba(0x540)),studentQuizArea[_0xf34cba(0x7b1)][_0xf34cba(0x9a9)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x5700eb});}function displayPerfectScoreResult(_0x2329eb,_0x1f8191){const _0x253d39=_0x31ab05,_0x2a9286=_0x2329eb===_0x1f8191,_0x1c16c5=_0x2a9286?_0x253d39(0x31f):_0x253d39(0x419),_0x548d41=_0x2a9286?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x253d39(0x560),_0x5080e3=_0x2a9286?_0x253d39(0x4e2):_0x253d39(0x5d5),_0x312883=_0x2a9286?_0x253d39(0x315):_0x253d39(0xa54),_0x5cbc89=_0x2a9286?_0x253d39(0x37f):_0x253d39(0x49f);let _0x1ea759=_0x253d39(0x5cf)+_0x1c16c5+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x548d41+_0x253d39(0x9c0)+_0x5080e3+_0x253d39(0x834)+_0x312883+_0x253d39(0x211)+_0x5cbc89+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x253d39(0x9ad)]=_0x1ea759,studentResultArea[_0x253d39(0x7b1)][_0x253d39(0x195)](_0x253d39(0x540)),studentQuizArea[_0x253d39(0x7b1)]['add'](_0x253d39(0x540)),setupResultScreenBackButton({'showRankings':![],'score':_0x2329eb,'totalQuestions':_0x1f8191});}function renderIndividualComparisonTable(_0x2745ea,_0x17dde8){const _0x3fae5f=_0x31ab05;_0x2745ea[_0x3fae5f(0x7ab)]((_0x52d232,_0x1f2981)=>(_0x1f2981['tGain']??-Infinity)-(_0x52d232[_0x3fae5f(0x57f)]??-Infinity));let _0x58b225=_0x3fae5f(0x55e);_0x2745ea['length']===0x0?_0x58b225+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x2745ea[_0x3fae5f(0x1bc)]((_0x8709ec,_0xfe362)=>{const _0x5f261d=_0x3fae5f;let _0x2d60ac='-',_0x398d34='';if(_0x8709ec[_0x5f261d(0x418)]!==null){const _0x43194f=_0x8709ec[_0x5f261d(0x418)]>0x0?_0x5f261d(0x20f):_0x8709ec[_0x5f261d(0x418)]<0x0?_0x5f261d(0x91a):_0x5f261d(0xa6a),_0xd22efd=_0x8709ec[_0x5f261d(0x418)]>0x0?'+':'';_0x2d60ac='<span\x20class=\x22font-bold\x20'+_0x43194f+'\x22>'+_0xd22efd+_0x8709ec[_0x5f261d(0x418)]+'</span>';if(_0x8709ec[_0x5f261d(0x418)]>0x0)_0x398d34=_0x5f261d(0x8d3);else _0x8709ec['gain']<0x0?_0x398d34=_0x5f261d(0x698):_0x398d34=_0x5f261d(0x2e8);}let _0x34aa46='-';if(_0x8709ec['tGain']!==null){const _0x32a803=_0x8709ec[_0x5f261d(0x57f)]>0x0?_0x5f261d(0x20f):_0x8709ec[_0x5f261d(0x57f)]<0x0?'text-red-600':_0x5f261d(0xa6a),_0x2be567=_0x8709ec['tGain']>0x0?'+':'';_0x34aa46=_0x5f261d(0x2da)+_0x32a803+'\x22>'+_0x2be567+_0x8709ec['tGain'][_0x5f261d(0x7c0)](0x2)+_0x5f261d(0x5ec);}_0x58b225+=_0x5f261d(0x878)+(_0xfe362+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x8709ec[_0x5f261d(0x73f)]+_0x5f261d(0x87d)+(_0x8709ec[_0x5f261d(0x524)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x8709ec[_0x5f261d(0x55f)]??'-')+_0x5f261d(0x87d)+_0x2d60ac+_0x5f261d(0x3ec)+_0x398d34+_0x5f261d(0x7fa)+(_0x8709ec['preTScore']?.[_0x5f261d(0x7c0)](0x2)??'-')+_0x5f261d(0x1c4)+(_0x8709ec[_0x5f261d(0xa84)]?.[_0x5f261d(0x7c0)](0x2)??'-')+_0x5f261d(0x87d)+_0x34aa46+_0x5f261d(0x6e2);}),_0x58b225+=_0x3fae5f(0x986),_0x17dde8['innerHTML']=_0x58b225;}function _0x4d4b(_0x2e17e6,_0x1482bc){const _0x4f9575=_0x4f95();return _0x4d4b=function(_0x4d4b3f,_0x332f61){_0x4d4b3f=_0x4d4b3f-0x174;let _0x235dbf=_0x4f9575[_0x4d4b3f];return _0x235dbf;},_0x4d4b(_0x2e17e6,_0x1482bc);}function handleRenameQuiz(_0x5a7d44,_0x2c11f4){const _0xdd7552=_0x31ab05;actionTargetId=_0x5a7d44,document[_0xdd7552(0x983)](_0xdd7552(0x96f))[_0xdd7552(0x3eb)]=_0x2c11f4,renameQuizModal[_0xdd7552(0x7b1)][_0xdd7552(0x195)](_0xdd7552(0x540));}function setupComparisonModalTabs(){const _0x4ea3db=_0x31ab05,_0x2912cc=document[_0x4ea3db(0x983)]('comparison-overall-tab'),_0x3337f0=document[_0x4ea3db(0x983)]('comparison-individual-tab'),_0x45597d=document[_0x4ea3db(0x983)](_0x4ea3db(0x70f)),_0x281866=document['getElementById'](_0x4ea3db(0x4c8));_0x2912cc[_0x4ea3db(0x7d4)](_0x4ea3db(0x72b),()=>{const _0x443d6c=_0x4ea3db;_0x2912cc[_0x443d6c(0x7b1)][_0x443d6c(0x9a9)](_0x443d6c(0x799)),_0x3337f0['classList'][_0x443d6c(0x195)](_0x443d6c(0x799)),_0x45597d[_0x443d6c(0x7b1)][_0x443d6c(0x195)](_0x443d6c(0x540)),_0x281866[_0x443d6c(0x7b1)][_0x443d6c(0x9a9)]('hidden');}),_0x3337f0['addEventListener'](_0x4ea3db(0x72b),()=>{const _0x4394d5=_0x4ea3db;_0x3337f0[_0x4394d5(0x7b1)][_0x4394d5(0x9a9)]('active'),_0x2912cc[_0x4394d5(0x7b1)]['remove']('active'),_0x281866[_0x4394d5(0x7b1)][_0x4394d5(0x195)](_0x4394d5(0x540)),_0x45597d[_0x4394d5(0x7b1)][_0x4394d5(0x9a9)]('hidden');});}setupComparisonModalTabs();function renderGlobalQuizList(_0x4a155f=''){const _0x554b99=_0x31ab05,_0x5414c8=document[_0x554b99(0x983)](_0x554b99(0x568)),_0x5bd3b0=_0x4a155f[_0x554b99(0x46a)]()[_0x554b99(0x68c)](),_0x308045=allQuizzesGlobal[_0x554b99(0x2e0)](_0x15dd31=>({..._0x15dd31,'projectName':allProjects[_0x554b99(0x606)](_0x180b85=>_0x180b85['id']===_0x15dd31[_0x554b99(0x7b7)])?.[_0x554b99(0x537)]||_0x15dd31['projectId']}))[_0x554b99(0x8af)](_0x2a7ac4=>(_0x2a7ac4['topic']||'')[_0x554b99(0x46a)]()[_0x554b99(0x67a)](_0x5bd3b0)||(_0x2a7ac4[_0x554b99(0x537)]||'')[_0x554b99(0x46a)]()[_0x554b99(0x67a)](_0x5bd3b0));document[_0x554b99(0x983)]('global-live-game-count')['textContent']='('+_0x308045[_0x554b99(0xabc)]+_0x554b99(0x691),_0x5414c8[_0x554b99(0x9ad)]=_0x308045[_0x554b99(0xabc)]?_0x308045[_0x554b99(0x2e0)](_0x550e03=>_0x554b99(0x3c7)+_0x550e03['id']+_0x554b99(0x2fb)+(_0x550e03['topic']||_0x554b99(0x7fe))+'\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x550e03['questions']?.[_0x554b99(0xabc)]||0x0)+_0x554b99(0x9a6)+_0x550e03['projectName']+_0x554b99(0x599))[_0x554b99(0x62f)](''):_0x554b99(0x3b0),selectedGlobalQuizId=null,document[_0x554b99(0x983)](_0x554b99(0x64d))[_0x554b99(0x383)]=!![],_0x5414c8[_0x554b99(0x279)]('button[data-id]')[_0x554b99(0x1bc)](_0x3a20ec=>{const _0x1383b9=_0x554b99;_0x3a20ec['addEventListener'](_0x1383b9(0x72b),()=>{const _0x32d587=_0x1383b9;selectedGlobalQuizId=_0x3a20ec[_0x32d587(0x700)]['id'],_0x5414c8[_0x32d587(0x279)](_0x32d587(0x4e6))[_0x32d587(0x1bc)](_0x235589=>_0x235589['classList'][_0x32d587(0x195)](_0x32d587(0x514),_0x32d587(0x6d2),_0x32d587(0x67f))),_0x3a20ec['classList'][_0x32d587(0x9a9)]('bg-purple-50','ring-2','ring-purple-400'),document[_0x32d587(0x983)](_0x32d587(0x64d))['disabled']=![];});});}function listenForLiveGameUpdates(){const _0x19f80a=_0x31ab05;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0xac1e60=doc(db,_0x19f80a(0x9ac)+appId+_0x19f80a(0x90c),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0xac1e60,_0x2f2b6f=>{const _0x39f493=_0x19f80a;if(!_0x2f2b6f[_0x39f493(0x9da)]()){showMessage(_0x39f493(0xa4a)),showView(currentMode);return;}const _0x2ab911=_0x2f2b6f[_0x39f493(0x943)]();_0x2ab911[_0x39f493(0x25c)]&&(currentQuizData=_0x2ab911[_0x39f493(0x25c)]);!currentQuizData&&_0x2ab911[_0x39f493(0x61d)]&&((async()=>{const _0x6ef5b6=_0x39f493;try{const _0x48b51b=doc(db,_0x6ef5b6(0x9ac)+appId+_0x6ef5b6(0x519),_0x2ab911['quizId']),_0x3c576d=await getDoc(_0x48b51b);_0x3c576d['exists']()&&(currentQuizData={'id':_0x3c576d['id'],..._0x3c576d[_0x6ef5b6(0x943)]()});}catch(_0x166c05){console[_0x6ef5b6(0x8c0)](_0x6ef5b6(0x18a),_0x166c05);}})());switch(_0x2ab911[_0x39f493(0xa1f)]){case _0x39f493(0xaa5):if(currentMode===_0x39f493(0x685)){const _0x533e4b=_0x2ab911[_0x39f493(0x72f)]?Object['entries'](_0x2ab911['players']):[],_0x3f2967=_0x533e4b[_0x39f493(0x8af)](([_0x2e1480,_0x472a5])=>_0x472a5[_0x39f493(0xa1f)]==='active'),_0x461df0=document['getElementById'](_0x39f493(0x86e));if(_0x461df0)_0x461df0['textContent']=_0x3f2967[_0x39f493(0xabc)];const _0x25a24a=document[_0x39f493(0x983)]('player-list-lobby');_0x25a24a&&(_0x25a24a[_0x39f493(0x9ad)]=_0x3f2967[_0x39f493(0x2e0)](([_0x45b277,_0x4e4c2f])=>_0x39f493(0x961)+_0x45b277+_0x39f493(0x722)+_0x45b277+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x39f493(0x62f)](''));const _0x2f8dc0=document[_0x39f493(0x983)](_0x39f493(0x779));_0x2f8dc0&&(_0x2f8dc0[_0x39f493(0x383)]=_0x3f2967[_0x39f493(0xabc)]===0x0);}else showView(_0x39f493(0x8bb)),liveGameView['innerHTML']=_0x39f493(0x4ab)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x39f493(0x4c1):const _0x4dc1a7=_0x2ab911[_0x39f493(0x27b)];if(currentQuizData&&currentQuizData[_0x39f493(0x2c2)][_0x4dc1a7]){const _0x1d93b4=currentQuizData[_0x39f493(0x2c2)][_0x4dc1a7],_0xc2b2ad=_0x2ab911[_0x39f493(0x75e)]||_0x39f493(0xa30);switch(_0xc2b2ad){case _0x39f493(0x50d):currentMode===_0x39f493(0x685)?showAdminSummaryView(_0x2ab911,_0x1d93b4):showPlayerSummaryView(_0x2ab911,currentStudentName);break;case _0x39f493(0x6b6):currentMode==='admin'&&showTop5LeaderboardView(_0x2ab911);break;case _0x39f493(0xa30):default:if(currentMode===_0x39f493(0x685)){const _0x51151c=writeBatch(db);let _0x293d26=![];Object[_0x39f493(0x1d9)](_0x2ab911[_0x39f493(0x72f)])['forEach'](([_0x5058f6,_0x2cf35a])=>{const _0xd104b7=_0x39f493;if(_0x2cf35a[_0xd104b7(0xa1f)]===_0xd104b7(0x799)&&_0x2cf35a['submittedAt']&&!_0x2cf35a['isScored']){_0x293d26=!![];const _0x4abbcf=_0x2cf35a[_0xd104b7(0x35c)]['toDate']()-_0x2ab911[_0xd104b7(0x6b8)]['toDate']();let _0x198b00=0x0;if(_0x2cf35a[_0xd104b7(0x3c4)]){const _0x2dc398=0x3e8,_0x119c9d=0x1f4,_0x33bf32=0x4e20;let _0x2c0c5f=_0x4abbcf/_0x33bf32;if(_0x2c0c5f>0x1)_0x2c0c5f=0x1;const _0x4a59e1=Math[_0xd104b7(0x5f5)](_0x2c0c5f*_0x119c9d);_0x198b00=_0x2dc398-_0x4a59e1;}const _0x1810b9=doc(db,_0xd104b7(0x9ac)+appId+_0xd104b7(0x90c),currentLiveGameId);_0x51151c[_0xd104b7(0xa9e)](_0x1810b9,{[_0xd104b7(0x4e3)+_0x5058f6+'.score']:increment(_0x198b00),[_0xd104b7(0x4e3)+_0x5058f6+'.pointsLastQuestion']:_0x198b00,[_0xd104b7(0x4e3)+_0x5058f6+_0xd104b7(0x202)]:!![]});}});_0x293d26&&_0x51151c[_0x39f493(0x24e)]()[_0x39f493(0x66b)](_0x4ee5f0=>console[_0x39f493(0x8c0)](_0x39f493(0x794),_0x4ee5f0));lastRenderedAdminQuestionIndex!==_0x4dc1a7&&(showAdminLiveQuestionView(_0x1d93b4,_0x4dc1a7,currentQuizData[_0x39f493(0x2c2)][_0x39f493(0xabc)]),lastRenderedAdminQuestionIndex=_0x4dc1a7);const _0x50544f=_0x2ab911[_0x39f493(0x72f)]||{},_0x37b922=Object[_0x39f493(0x33d)](_0x50544f)[_0x39f493(0x8af)](_0x3799ae=>_0x3799ae[_0x39f493(0xa1f)]===_0x39f493(0x799)),_0x5f54e6=_0x37b922[_0x39f493(0xabc)],_0x5e3275=_0x37b922[_0x39f493(0x8af)](_0x1c977b=>_0x1c977b[_0x39f493(0xa04)]===!![])[_0x39f493(0xabc)],_0x19780b=document['getElementById'](_0x39f493(0x368));if(_0x19780b)_0x19780b[_0x39f493(0x36e)]=_0x5e3275+'/'+_0x5f54e6;const _0x39cc92=document[_0x39f493(0x983)](_0x39f493(0x467));if(_0x39cc92){let _0x4f192a=Object[_0x39f493(0x1d9)](_0x50544f)[_0x39f493(0x8af)](([_0x19caa6,_0x293da6])=>_0x293da6[_0x39f493(0xa1f)]===_0x39f493(0x799))[_0x39f493(0x2e0)](([_0x445d2c,_0x23a286])=>{const _0x2767c4=_0x39f493,_0x4354f8=_0x23a286[_0x2767c4(0xa04)]===!![],_0x51854a=_0x4354f8?_0x2767c4(0x6e7):_0x2767c4(0x21f),_0x26295a=_0x4354f8?_0x2767c4(0x3aa):_0x2767c4(0xa13);return _0x2767c4(0x802)+_0x51854a+_0x2767c4(0x269)+_0x26295a+_0x2767c4(0x52f)+_0x445d2c+_0x2767c4(0x289)+_0x445d2c+_0x2767c4(0x7d3);})[_0x39f493(0x62f)]('');_0x39cc92[_0x39f493(0x9ad)]=_0x4f192a||_0x39f493(0x184);}_0x5f54e6>0x0&&_0x5e3275===_0x5f54e6&&revealAnswerForAdmin(_0x4dc1a7,currentQuizData[_0x39f493(0x2c2)][_0x39f493(0xabc)]);}else{const _0x16a3a8=_0x2ab911['players'][currentStudentName];_0x16a3a8&&!_0x16a3a8[_0x39f493(0xa04)]&&showStudentLiveQuestionView(_0x1d93b4,_0x4dc1a7,currentQuizData[_0x39f493(0x2c2)][_0x39f493(0xabc)]);}break;}}break;case'podium':showPodiumView(_0x2ab911['players'],'live-race');break;}});}async function handleKickPlayer(_0x461e8c){const _0x980c60=_0x31ab05;if(!currentLiveGameId||!_0x461e8c)return;const _0x3ddb9c=doc(db,_0x980c60(0x9ac)+appId+_0x980c60(0x90c),currentLiveGameId),_0x444abe={};_0x444abe['players.'+_0x461e8c+_0x980c60(0x3bf)]='inactive';try{await updateDoc(_0x3ddb9c,_0x444abe);}catch(_0x20cf96){console['error'](_0x980c60(0x842)+_0x461e8c+':',_0x20cf96),showMessage(_0x980c60(0x6dc));}}async function authenticateUser(){const _0x4a3039=_0x31ab05;try{typeof __initial_auth_token!==_0x4a3039(0x25f)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0xb4f131){console['error'](_0x4a3039(0x3a9),_0xb4f131),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x2eb0bb){const _0x4276f5=_0x31ab05;adminView['classList'][_0x4276f5(0x9a9)](_0x4276f5(0x540)),studentView['classList'][_0x4276f5(0x9a9)](_0x4276f5(0x540)),projectDashboardView[_0x4276f5(0x7b1)][_0x4276f5(0x9a9)]('hidden'),projectDetailView['classList'][_0x4276f5(0x9a9)](_0x4276f5(0x540)),quizResultsView[_0x4276f5(0x7b1)][_0x4276f5(0x9a9)](_0x4276f5(0x540)),liveGameView[_0x4276f5(0x7b1)][_0x4276f5(0x9a9)]('hidden'),studentInitialView[_0x4276f5(0x7b1)][_0x4276f5(0x9a9)](_0x4276f5(0x540)),studentJoinGameView[_0x4276f5(0x7b1)]['add'](_0x4276f5(0x540)),studentNameSelectionView[_0x4276f5(0x7b1)]['add'](_0x4276f5(0x540)),studentQuizArea[_0x4276f5(0x7b1)][_0x4276f5(0x9a9)](_0x4276f5(0x540)),studentResultArea[_0x4276f5(0x7b1)][_0x4276f5(0x9a9)](_0x4276f5(0x540)),studentReadingArea[_0x4276f5(0x7b1)]['add'](_0x4276f5(0x540));const _0x426bdf=document['getElementById']('student-team-selection-view'),_0x21cf8d=document[_0x4276f5(0x983)](_0x4276f5(0x95a));if(_0x426bdf)_0x426bdf[_0x4276f5(0x7b1)][_0x4276f5(0x9a9)]('hidden');if(_0x21cf8d)_0x21cf8d[_0x4276f5(0x7b1)][_0x4276f5(0x9a9)](_0x4276f5(0x540));switch(_0x2eb0bb){case _0x4276f5(0x3a8):adminView[_0x4276f5(0x7b1)][_0x4276f5(0x195)]('hidden'),projectDashboardView[_0x4276f5(0x7b1)][_0x4276f5(0x195)]('hidden');break;case'project-detail':adminView[_0x4276f5(0x7b1)][_0x4276f5(0x195)](_0x4276f5(0x540)),projectDetailView[_0x4276f5(0x7b1)][_0x4276f5(0x195)](_0x4276f5(0x540));break;case _0x4276f5(0xa15):adminView['classList'][_0x4276f5(0x195)](_0x4276f5(0x540)),quizResultsView[_0x4276f5(0x7b1)]['remove'](_0x4276f5(0x540));break;case'student':studentView[_0x4276f5(0x7b1)][_0x4276f5(0x195)]('hidden'),studentInitialView['classList'][_0x4276f5(0x195)]('hidden');break;case _0x4276f5(0x8bb):liveGameView[_0x4276f5(0x7b1)][_0x4276f5(0x195)](_0x4276f5(0x540));break;case _0x4276f5(0x7b2):studentView[_0x4276f5(0x7b1)][_0x4276f5(0x195)]('hidden');if(_0x426bdf)_0x426bdf['classList']['remove']('hidden');break;case _0x4276f5(0x5d8):studentView[_0x4276f5(0x7b1)][_0x4276f5(0x195)](_0x4276f5(0x540));if(_0x21cf8d)_0x21cf8d['classList'][_0x4276f5(0x195)](_0x4276f5(0x540));break;default:studentView[_0x4276f5(0x7b1)]['remove'](_0x4276f5(0x540)),studentInitialView[_0x4276f5(0x7b1)][_0x4276f5(0x195)](_0x4276f5(0x540));break;}}function showJoinGameView(){const _0x94bcdf=_0x31ab05;studentInitialView['classList']['add'](_0x94bcdf(0x540)),studentJoinGameView[_0x94bcdf(0x7b1)][_0x94bcdf(0x195)](_0x94bcdf(0x540));}async function handleSaveVisibilitySettings(){const _0x23bf2f=_0x31ab05;if(!currentProjectId)return;const _0x50f10c=doc(db,'artifacts/'+appId+_0x23bf2f(0x5e8),currentProjectId);try{await updateDoc(_0x50f10c,{'settings.showInStudentDashboard':document['getElementById'](_0x23bf2f(0x52d))['checked'],'settings.isPasscodeEnabled':document['getElementById'](_0x23bf2f(0x2ba))[_0x23bf2f(0x616)],'settings.passcode':document[_0x23bf2f(0x983)](_0x23bf2f(0x7e1))[_0x23bf2f(0x3eb)]['trim']()}),showMessage(_0x23bf2f(0x86b));}catch(_0xe5bd9e){console[_0x23bf2f(0x8c0)]('Error\x20saving\x20visibility\x20settings:',_0xe5bd9e),showMessage(_0x23bf2f(0x177));}}function setupEventListeners(){const _0x1bc91a=_0x31ab05,_0x47785f=document[_0x1bc91a(0x983)]('confidence-modal'),_0x4db8c3=async _0x21846e=>{const _0x265d05=_0x1bc91a;_0x47785f[_0x265d05(0x7b1)]['add'](_0x265d05(0x540));const _0x3f8cad=parseInt(document[_0x265d05(0x983)]('selected-answer-index-hidden')[_0x265d05(0x3eb)]),_0x39627d=doc(db,'artifacts/'+appId+_0x265d05(0x86c),currentLiveGameId),_0x475876=await getDoc(_0x39627d);if(!_0x475876[_0x265d05(0x9da)]())return;const _0x5266a8=_0x475876['data'](),_0x2265a7=_0x5266a8[_0x265d05(0x27b)],_0x27c397=_0x5266a8[_0x265d05(0x25c)][_0x265d05(0x2c2)][_0x2265a7],_0x9f6f7e=localTeamPlayers[localPlayerTurnIndex];handleSyncAnswerSubmit(_0x3f8cad,_0x27c397,_0x5266a8,_0x9f6f7e,_0x21846e);};document['getElementById'](_0x1bc91a(0x993))['addEventListener'](_0x1bc91a(0x72b),()=>_0x4db8c3(!![])),document[_0x1bc91a(0x983)](_0x1bc91a(0x3b3))[_0x1bc91a(0x7d4)]('click',()=>_0x4db8c3(![])),liveGameView['addEventListener']('click',_0x5e2dd5=>{const _0x2168f5=_0x1bc91a,_0x29126e=_0x5e2dd5[_0x2168f5(0x908)]['closest'](_0x2168f5(0x7d0));if(_0x29126e){const _0x2c3b0c=_0x29126e['dataset'][_0x2168f5(0x46c)];_0x2c3b0c&&handleKickPlayerSync(_0x2c3b0c);}});const _0x4b6b4b=document[_0x1bc91a(0x983)](_0x1bc91a(0x92c)),_0xf40443=document[_0x1bc91a(0x983)](_0x1bc91a(0x33a));_0xf40443[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>{const _0x1e0da6=_0x1bc91a;document[_0x1e0da6(0x983)](_0x1e0da6(0x17c))[_0x1e0da6(0x7b1)][_0x1e0da6(0x9a9)]('hidden');}),_0x4b6b4b[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>{const _0x240a4d=_0x1bc91a,_0x250ee8=document[_0x240a4d(0x983)]('game-start-quiz-id')[_0x240a4d(0x3eb)],_0x22bd30=document['getElementById'](_0x240a4d(0x3f8))['value'],_0x5223db=document[_0x240a4d(0x983)]('save-game-results-checkbox')['checked'];document[_0x240a4d(0x983)](_0x240a4d(0x17c))['classList'][_0x240a4d(0x9a9)](_0x240a4d(0x540));switch(_0x22bd30){case'live-race':handleStartLiveRace(_0x250ee8,_0x5223db);break;case _0x240a4d(0x2a6):handleStartTeamQuiz(_0x250ee8,_0x5223db);break;case'group':handleStartGroupMode(_0x250ee8,_0x5223db);break;case _0x240a4d(0x4c0):handleStartSyncMode(_0x250ee8,_0x5223db);break;}}),document['getElementById'](_0x1bc91a(0x250))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),handleJoinGroupActivity),liveGameView[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),_0x3269f5=>{const _0xb47b5a=_0x1bc91a,_0x447500=_0x3269f5[_0xb47b5a(0x908)][_0xb47b5a(0x8d2)]('.summary-bar-item');document['querySelectorAll'](_0xb47b5a(0x6ae))['forEach'](_0x276779=>{const _0xe24169=_0xb47b5a;(!_0x447500||_0x276779['id']!==_0x447500[_0xe24169(0x700)][_0xe24169(0x8fa)])&&_0x276779[_0xe24169(0x7b1)][_0xe24169(0x195)](_0xe24169(0x836));});if(!_0x447500)return;const _0x21b602=_0x447500[_0xb47b5a(0x700)][_0xb47b5a(0x8fa)],_0x49b808=document[_0xb47b5a(0x983)](_0x21b602);_0x49b808&&_0x49b808[_0xb47b5a(0x7b1)]['toggle']('visible');}),liveGameView['addEventListener'](_0x1bc91a(0x72b),_0x36d129=>{const _0x425f21=_0x1bc91a;if(_0x36d129[_0x425f21(0x908)]['classList'][_0x425f21(0x4a5)](_0x425f21(0x95d))){const _0x3d1ab5=_0x36d129['target'][_0x425f21(0x700)][_0x425f21(0x46c)];_0x3d1ab5&&handleKickPlayer(_0x3d1ab5);}}),document[_0x1bc91a(0x983)](_0x1bc91a(0xa1d))[_0x1bc91a(0x7d4)](_0x1bc91a(0x45e),()=>document[_0x1bc91a(0x983)](_0x1bc91a(0x4d8))[_0x1bc91a(0x7b1)]['remove']('hidden')),document[_0x1bc91a(0x983)](_0x1bc91a(0x4d8))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),handleSaveProjectName),document[_0x1bc91a(0x983)](_0x1bc91a(0xa1d))[_0x1bc91a(0x7d4)](_0x1bc91a(0x54a),_0x5433c8=>{const _0x4fc3cf=_0x1bc91a;_0x5433c8[_0x4fc3cf(0x574)]===_0x4fc3cf(0x1bb)&&(_0x5433c8['preventDefault'](),_0x5433c8['target'][_0x4fc3cf(0x2f0)](),handleSaveProjectName());}),document[_0x1bc91a(0x983)](_0x1bc91a(0xad2))['addEventListener'](_0x1bc91a(0x72b),()=>{const _0x52f6cd=_0x1bc91a;document[_0x52f6cd(0x983)](_0x52f6cd(0x7d9))['classList'][_0x52f6cd(0x195)](_0x52f6cd(0x540));}),document['getElementById'](_0x1bc91a(0x38a))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>{const _0x10fb6f=_0x1bc91a;document[_0x10fb6f(0x983)](_0x10fb6f(0x7d9))['classList'][_0x10fb6f(0x9a9)]('hidden');}),document[_0x1bc91a(0x983)](_0x1bc91a(0xab6))['addEventListener'](_0x1bc91a(0x72b),handleBulkUpdateQuizSettings),document['getElementById']('mode-switcher-btn')['addEventListener']('click',handleModeSwitch),document[_0x1bc91a(0x983)]('update-old-quizzes-btn')[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),handleUpdateOldQuizzes),document[_0x1bc91a(0x983)](_0x1bc91a(0x380))['addEventListener'](_0x1bc91a(0x72b),handleResetProjectOrder),document[_0x1bc91a(0x983)](_0x1bc91a(0x21a))['addEventListener'](_0x1bc91a(0x72b),handleSaveVisibilitySettings),document[_0x1bc91a(0x983)]('add-custom-math-topic-btn')[_0x1bc91a(0x7d4)]('click',handleAddCustomMathTopic),document[_0x1bc91a(0x983)](_0x1bc91a(0x757))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),handleSelectAllTopics),document[_0x1bc91a(0x983)](_0x1bc91a(0x31b))['addEventListener']('click',handleDeselectAllTopics),document[_0x1bc91a(0x983)](_0x1bc91a(0x371))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>{const _0x475e5c=_0x1bc91a;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x475e5c(0x3a8));}),document[_0x1bc91a(0x983)](_0x1bc91a(0x544))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}),document['getElementById']('back-to-dashboard-from-results-btn')[_0x1bc91a(0x7d4)]('click',()=>{showView('admin-dashboard');}),document[_0x1bc91a(0x983)](_0x1bc91a(0x5e3))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>{const _0x27dc7e=_0x1bc91a;messageModal[_0x27dc7e(0x7b1)][_0x27dc7e(0x9a9)](_0x27dc7e(0x540)),typeof modalConfirmAction===_0x27dc7e(0xa4e)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x1bc91a(0x174))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>createProjectModal[_0x1bc91a(0x7b1)]['remove'](_0x1bc91a(0x540))),document[_0x1bc91a(0x983)](_0x1bc91a(0x34a))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>createProjectModal[_0x1bc91a(0x7b1)][_0x1bc91a(0x9a9)]('hidden')),document[_0x1bc91a(0x983)]('cancel-admin-login-btn')[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>adminPasswordModal['classList'][_0x1bc91a(0x9a9)](_0x1bc91a(0x540))),document[_0x1bc91a(0x983)](_0x1bc91a(0x3e2))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),handleAdminLogin),document[_0x1bc91a(0x983)](_0x1bc91a(0x981))[_0x1bc91a(0x7d4)](_0x1bc91a(0x710),_0x13fc0a=>{const _0x30d2d0=_0x1bc91a;if(_0x13fc0a[_0x30d2d0(0x574)]==='Enter')handleAdminLogin();}),document[_0x1bc91a(0x983)](_0x1bc91a(0x64f))[_0x1bc91a(0x7d4)]('click',()=>{const _0x29afc5=_0x1bc91a;confirmationModal[_0x29afc5(0x7b1)]['add'](_0x29afc5(0x540)),confirmAction=null;}),document[_0x1bc91a(0x983)]('confirm-delete-btn')[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>{const _0x1fbaf1=_0x1bc91a;confirmAction&&confirmAction(),confirmationModal[_0x1fbaf1(0x7b1)][_0x1fbaf1(0x9a9)]('hidden'),confirmAction=null;}),document[_0x1bc91a(0x983)](_0x1bc91a(0xa91))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>renameQuizModal[_0x1bc91a(0x7b1)][_0x1bc91a(0x9a9)]('hidden')),document[_0x1bc91a(0x983)](_0x1bc91a(0x9ea))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),confirmRenameQuiz),document[_0x1bc91a(0x983)](_0x1bc91a(0x3ba))['addEventListener']('click',()=>moveQuizModal[_0x1bc91a(0x7b1)]['add'](_0x1bc91a(0x540))),document[_0x1bc91a(0x983)]('confirm-move-quiz-btn')[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),confirmMoveQuiz),document[_0x1bc91a(0x983)](_0x1bc91a(0x2ac))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>quizSettingsModal[_0x1bc91a(0x7b1)][_0x1bc91a(0x9a9)](_0x1bc91a(0x540))),document[_0x1bc91a(0x983)]('confirm-quiz-settings-btn')[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),confirmQuizSettings),document['getElementById']('cancel-quiz-status-btn')['addEventListener']('click',()=>quizStatusModal[_0x1bc91a(0x7b1)][_0x1bc91a(0x9a9)](_0x1bc91a(0x540))),document[_0x1bc91a(0x983)](_0x1bc91a(0x17b))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),confirmQuizStatus);const _0x2c50bf=document[_0x1bc91a(0x983)](_0x1bc91a(0x9fb));document['getElementById'](_0x1bc91a(0x3fa))['addEventListener'](_0x1bc91a(0x72b),()=>{const _0x15d541=_0x1bc91a;_0x2c50bf[_0x15d541(0x7b1)][_0x15d541(0x9a9)]('hidden');}),document[_0x1bc91a(0x983)]('export-compact-pdf-btn')[_0x1bc91a(0x7d4)]('click',async()=>{const _0x35c932=_0x1bc91a,_0x12e803=allQuizzes[_0x35c932(0x606)](_0x28e65b=>_0x28e65b['id']===actionTargetId);_0x12e803?(currentQuizData=_0x12e803,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x2c50bf[_0x35c932(0x7b1)][_0x35c932(0x9a9)](_0x35c932(0x540));}),document[_0x1bc91a(0x983)](_0x1bc91a(0x689))[_0x1bc91a(0x7d4)]('click',async()=>{const _0x21859a=_0x1bc91a,_0x4051d9=allQuizzes[_0x21859a(0x606)](_0x4d2ecd=>_0x4d2ecd['id']===actionTargetId);_0x4051d9?(currentQuizData=_0x4051d9,exportQuizAsTutorPDF()):showMessage(_0x21859a(0x182)),_0x2c50bf['classList'][_0x21859a(0x9a9)](_0x21859a(0x540));}),document[_0x1bc91a(0x983)](_0x1bc91a(0x310))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),openGlobalLiveModal),document[_0x1bc91a(0x983)](_0x1bc91a(0x53d))['addEventListener'](_0x1bc91a(0x72b),()=>{const _0x52d6b2=_0x1bc91a;document[_0x52d6b2(0x983)](_0x52d6b2(0x7f4))[_0x52d6b2(0x7b1)]['add']('hidden'),selectedGlobalQuizId=null;}),document[_0x1bc91a(0x983)](_0x1bc91a(0xa16))[_0x1bc91a(0x7d4)](_0x1bc91a(0x96c),_0x1d31b7=>renderGlobalQuizList(_0x1d31b7['target'][_0x1bc91a(0x3eb)])),document[_0x1bc91a(0x983)](_0x1bc91a(0x64d))['addEventListener'](_0x1bc91a(0x72b),()=>{const _0xc96464=_0x1bc91a,_0x344d60=selectedGlobalQuizId;if(!_0x344d60)return;document[_0xc96464(0x983)]('global-live-game-modal')[_0xc96464(0x7b1)][_0xc96464(0x9a9)](_0xc96464(0x540)),handleStartLiveRace(_0x344d60);}),document[_0x1bc91a(0x983)]('project-search-input')['addEventListener']('input',renderProjects),document['getElementById'](_0x1bc91a(0x4c7))[_0x1bc91a(0x7d4)](_0x1bc91a(0x6f3),async()=>{const _0x139ca7=_0x1bc91a,_0xc00e92=document[_0x139ca7(0x983)](_0x139ca7(0x4c7))[_0x139ca7(0x3eb)],_0x14448c=doc(db,_0x139ca7(0x5a5),_0x139ca7(0x375));try{await setDoc(_0x14448c,{'projectSort':_0xc00e92},{'merge':!![]});}catch(_0x196346){console[_0x139ca7(0x8c0)](_0x139ca7(0x850),_0x196346),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x1bc91a(0x983)](_0x1bc91a(0x337))[_0x1bc91a(0x7d4)]('input',renderQuizzes),document[_0x1bc91a(0x983)](_0x1bc91a(0x42b))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>{const _0x473d20=_0x1bc91a;globalDashboardSettings[_0x473d20(0x430)]=_0x473d20(0x946),saveUserPreference(_0x473d20(0x430),'grid'),renderProjects();}),document[_0x1bc91a(0x983)](_0x1bc91a(0x396))['addEventListener'](_0x1bc91a(0x72b),()=>{const _0x54e98c=_0x1bc91a;globalDashboardSettings['projectView']=_0x54e98c(0x788),saveUserPreference('projectView',_0x54e98c(0x788)),renderProjects();}),manageTab[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>switchProjectTab('manage')),resultsTab[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>switchProjectTab(_0x1bc91a(0x623))),leaderboardTab[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>switchProjectTab(_0x1bc91a(0x6b6))),document[_0x1bc91a(0x983)](_0x1bc91a(0xa1a))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>switchQuizDetailTab('analytics')),document[_0x1bc91a(0x983)](_0x1bc91a(0x684))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>switchQuizDetailTab(_0x1bc91a(0x9dc))),document[_0x1bc91a(0x983)](_0x1bc91a(0x81d))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>switchQuizDetailTab(_0x1bc91a(0x67b))),document[_0x1bc91a(0x983)](_0x1bc91a(0xa3b))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>switchQuizDetailTab(_0x1bc91a(0x54b))),document[_0x1bc91a(0x983)](_0x1bc91a(0x949))[_0x1bc91a(0x7d4)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),generateWorksheet);const _0x27e582=document[_0x1bc91a(0x983)](_0x1bc91a(0x4ed)),_0x340f7e=document['getElementById'](_0x1bc91a(0x9cb)),_0x4f9158=document[_0x1bc91a(0x983)](_0x1bc91a(0x8a2)),_0x987ba5=document[_0x1bc91a(0x983)](_0x1bc91a(0x60d)),_0x244e4f=document[_0x1bc91a(0x983)](_0x1bc91a(0x244)),_0x421b10=document['getElementById']('parallel-test-input-area');topicTab['addEventListener']('click',()=>{const _0x3cd6fd=_0x1bc91a;topicTab[_0x3cd6fd(0x7b1)][_0x3cd6fd(0x9a9)]('active'),textTab['classList'][_0x3cd6fd(0x195)](_0x3cd6fd(0x799)),fileTab[_0x3cd6fd(0x7b1)][_0x3cd6fd(0x195)](_0x3cd6fd(0x799)),worksheetTab[_0x3cd6fd(0x7b1)][_0x3cd6fd(0x195)](_0x3cd6fd(0x799));if(_0x27e582)_0x27e582[_0x3cd6fd(0x7b1)][_0x3cd6fd(0x195)]('active');if(_0x4f9158)_0x4f9158[_0x3cd6fd(0x7b1)][_0x3cd6fd(0x195)](_0x3cd6fd(0x799));if(_0x244e4f)_0x244e4f[_0x3cd6fd(0x7b1)][_0x3cd6fd(0x195)](_0x3cd6fd(0x799));topicInputArea[_0x3cd6fd(0x7b1)][_0x3cd6fd(0x195)](_0x3cd6fd(0x540)),textInputArea[_0x3cd6fd(0x7b1)][_0x3cd6fd(0x9a9)](_0x3cd6fd(0x540)),fileInputArea[_0x3cd6fd(0x7b1)][_0x3cd6fd(0x9a9)](_0x3cd6fd(0x540)),worksheetInputArea[_0x3cd6fd(0x7b1)][_0x3cd6fd(0x9a9)](_0x3cd6fd(0x540));if(_0x340f7e)_0x340f7e[_0x3cd6fd(0x7b1)][_0x3cd6fd(0x9a9)](_0x3cd6fd(0x540));if(_0x987ba5)_0x987ba5[_0x3cd6fd(0x7b1)][_0x3cd6fd(0x9a9)](_0x3cd6fd(0x540));if(_0x421b10)_0x421b10['classList'][_0x3cd6fd(0x9a9)]('hidden');}),textTab[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>{const _0x3903d4=_0x1bc91a;textTab[_0x3903d4(0x7b1)]['add'](_0x3903d4(0x799)),topicTab['classList'][_0x3903d4(0x195)]('active'),fileTab[_0x3903d4(0x7b1)][_0x3903d4(0x195)](_0x3903d4(0x799)),worksheetTab[_0x3903d4(0x7b1)]['remove'](_0x3903d4(0x799));if(_0x27e582)_0x27e582[_0x3903d4(0x7b1)][_0x3903d4(0x195)](_0x3903d4(0x799));if(_0x4f9158)_0x4f9158['classList'][_0x3903d4(0x195)](_0x3903d4(0x799));if(_0x244e4f)_0x244e4f[_0x3903d4(0x7b1)]['remove'](_0x3903d4(0x799));textInputArea[_0x3903d4(0x7b1)][_0x3903d4(0x195)](_0x3903d4(0x540)),topicInputArea[_0x3903d4(0x7b1)]['add'](_0x3903d4(0x540)),fileInputArea[_0x3903d4(0x7b1)]['add'](_0x3903d4(0x540)),worksheetInputArea[_0x3903d4(0x7b1)][_0x3903d4(0x9a9)](_0x3903d4(0x540));if(_0x340f7e)_0x340f7e[_0x3903d4(0x7b1)]['add'](_0x3903d4(0x540));if(_0x987ba5)_0x987ba5[_0x3903d4(0x7b1)]['add']('hidden');if(_0x421b10)_0x421b10['classList'][_0x3903d4(0x9a9)](_0x3903d4(0x540));}),fileTab[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>{const _0x50043a=_0x1bc91a;fileTab[_0x50043a(0x7b1)][_0x50043a(0x9a9)](_0x50043a(0x799)),topicTab[_0x50043a(0x7b1)][_0x50043a(0x195)](_0x50043a(0x799)),textTab[_0x50043a(0x7b1)][_0x50043a(0x195)](_0x50043a(0x799)),worksheetTab[_0x50043a(0x7b1)][_0x50043a(0x195)](_0x50043a(0x799));if(_0x27e582)_0x27e582[_0x50043a(0x7b1)]['remove'](_0x50043a(0x799));if(_0x4f9158)_0x4f9158['classList']['remove'](_0x50043a(0x799));if(_0x244e4f)_0x244e4f[_0x50043a(0x7b1)][_0x50043a(0x195)](_0x50043a(0x799));fileInputArea[_0x50043a(0x7b1)][_0x50043a(0x195)](_0x50043a(0x540)),topicInputArea[_0x50043a(0x7b1)][_0x50043a(0x9a9)]('hidden'),textInputArea['classList'][_0x50043a(0x9a9)](_0x50043a(0x540)),worksheetInputArea[_0x50043a(0x7b1)]['add'](_0x50043a(0x540));if(_0x340f7e)_0x340f7e['classList'][_0x50043a(0x9a9)]('hidden');if(_0x987ba5)_0x987ba5[_0x50043a(0x7b1)][_0x50043a(0x9a9)](_0x50043a(0x540));if(_0x421b10)_0x421b10[_0x50043a(0x7b1)]['add'](_0x50043a(0x540));}),worksheetTab[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>{const _0x466bae=_0x1bc91a;worksheetTab[_0x466bae(0x7b1)][_0x466bae(0x9a9)](_0x466bae(0x799)),topicTab[_0x466bae(0x7b1)][_0x466bae(0x195)](_0x466bae(0x799)),textTab[_0x466bae(0x7b1)][_0x466bae(0x195)]('active'),fileTab[_0x466bae(0x7b1)][_0x466bae(0x195)]('active');if(_0x27e582)_0x27e582[_0x466bae(0x7b1)][_0x466bae(0x195)](_0x466bae(0x799));if(_0x4f9158)_0x4f9158[_0x466bae(0x7b1)][_0x466bae(0x195)](_0x466bae(0x799));if(_0x244e4f)_0x244e4f[_0x466bae(0x7b1)]['remove'](_0x466bae(0x799));worksheetInputArea[_0x466bae(0x7b1)][_0x466bae(0x195)](_0x466bae(0x540)),topicInputArea[_0x466bae(0x7b1)][_0x466bae(0x9a9)](_0x466bae(0x540)),textInputArea[_0x466bae(0x7b1)][_0x466bae(0x9a9)]('hidden'),fileInputArea['classList'][_0x466bae(0x9a9)]('hidden');if(_0x340f7e)_0x340f7e[_0x466bae(0x7b1)][_0x466bae(0x9a9)](_0x466bae(0x540));if(_0x987ba5)_0x987ba5[_0x466bae(0x7b1)]['add'](_0x466bae(0x540));if(_0x421b10)_0x421b10[_0x466bae(0x7b1)][_0x466bae(0x9a9)](_0x466bae(0x540));});const _0x5e2f16=document[_0x1bc91a(0x983)]('bank-tab'),_0x388e61=document[_0x1bc91a(0x983)](_0x1bc91a(0x6f0));_0x5e2f16&&_0x5e2f16[_0x1bc91a(0x7d4)]('click',()=>{const _0x20601b=_0x1bc91a;topicTab[_0x20601b(0x7b1)][_0x20601b(0x195)]('active'),textTab[_0x20601b(0x7b1)]['remove'](_0x20601b(0x799)),fileTab[_0x20601b(0x7b1)][_0x20601b(0x195)](_0x20601b(0x799)),worksheetTab['classList'][_0x20601b(0x195)](_0x20601b(0x799));if(_0x27e582)_0x27e582[_0x20601b(0x7b1)][_0x20601b(0x195)](_0x20601b(0x799));if(_0x4f9158)_0x4f9158['classList'][_0x20601b(0x195)](_0x20601b(0x799));if(_0x244e4f)_0x244e4f[_0x20601b(0x7b1)][_0x20601b(0x195)](_0x20601b(0x799));_0x5e2f16[_0x20601b(0x7b1)][_0x20601b(0x9a9)](_0x20601b(0x799)),topicInputArea[_0x20601b(0x7b1)][_0x20601b(0x9a9)](_0x20601b(0x540)),textInputArea[_0x20601b(0x7b1)]['add'](_0x20601b(0x540)),fileInputArea[_0x20601b(0x7b1)][_0x20601b(0x9a9)](_0x20601b(0x540)),worksheetInputArea['classList'][_0x20601b(0x9a9)](_0x20601b(0x540));if(_0x340f7e)_0x340f7e['classList'][_0x20601b(0x9a9)](_0x20601b(0x540));if(_0x987ba5)_0x987ba5[_0x20601b(0x7b1)]['add'](_0x20601b(0x540));if(_0x421b10)_0x421b10[_0x20601b(0x7b1)][_0x20601b(0x9a9)]('hidden');_0x388e61[_0x20601b(0x7b1)][_0x20601b(0x195)]('hidden'),displayQuestionBank();});_0x27e582&&(_0x27e582[_0x1bc91a(0x7d4)]('click',()=>{const _0x1593a1=_0x1bc91a;_0x27e582[_0x1593a1(0x7b1)][_0x1593a1(0x9a9)](_0x1593a1(0x799)),topicTab['classList']['remove'](_0x1593a1(0x799)),textTab[_0x1593a1(0x7b1)][_0x1593a1(0x195)](_0x1593a1(0x799)),fileTab[_0x1593a1(0x7b1)]['remove']('active'),worksheetTab[_0x1593a1(0x7b1)]['remove']('active');if(_0x4f9158)_0x4f9158['classList'][_0x1593a1(0x195)](_0x1593a1(0x799));if(_0x244e4f)_0x244e4f[_0x1593a1(0x7b1)]['remove']('active');_0x340f7e[_0x1593a1(0x7b1)][_0x1593a1(0x195)](_0x1593a1(0x540)),topicInputArea[_0x1593a1(0x7b1)][_0x1593a1(0x9a9)](_0x1593a1(0x540)),textInputArea[_0x1593a1(0x7b1)]['add'](_0x1593a1(0x540)),fileInputArea[_0x1593a1(0x7b1)][_0x1593a1(0x9a9)](_0x1593a1(0x540)),worksheetInputArea[_0x1593a1(0x7b1)][_0x1593a1(0x9a9)]('hidden');if(_0x987ba5)_0x987ba5[_0x1593a1(0x7b1)]['add'](_0x1593a1(0x540));if(_0x421b10)_0x421b10['classList']['add'](_0x1593a1(0x540));}),document[_0x1bc91a(0x983)](_0x1bc91a(0x2cc))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),handleGenerateFromLink));_0x4f9158&&_0x4f9158[_0x1bc91a(0x7d4)]('click',()=>{const _0x44dba8=_0x1bc91a;_0x4f9158[_0x44dba8(0x7b1)]['add'](_0x44dba8(0x799)),topicTab[_0x44dba8(0x7b1)]['remove'](_0x44dba8(0x799)),textTab[_0x44dba8(0x7b1)][_0x44dba8(0x195)](_0x44dba8(0x799)),fileTab['classList'][_0x44dba8(0x195)](_0x44dba8(0x799)),worksheetTab[_0x44dba8(0x7b1)][_0x44dba8(0x195)](_0x44dba8(0x799));if(_0x27e582)_0x27e582[_0x44dba8(0x7b1)]['remove'](_0x44dba8(0x799));if(_0x5e2f16)_0x5e2f16['classList'][_0x44dba8(0x195)](_0x44dba8(0x799));if(_0x244e4f)_0x244e4f[_0x44dba8(0x7b1)][_0x44dba8(0x195)]('active');_0x987ba5[_0x44dba8(0x7b1)]['remove'](_0x44dba8(0x540)),topicInputArea[_0x44dba8(0x7b1)]['add'](_0x44dba8(0x540)),textInputArea['classList'][_0x44dba8(0x9a9)](_0x44dba8(0x540)),fileInputArea['classList']['add'](_0x44dba8(0x540)),worksheetInputArea[_0x44dba8(0x7b1)][_0x44dba8(0x9a9)](_0x44dba8(0x540));if(_0x340f7e)_0x340f7e[_0x44dba8(0x7b1)][_0x44dba8(0x9a9)]('hidden');if(_0x388e61)_0x388e61[_0x44dba8(0x7b1)][_0x44dba8(0x9a9)](_0x44dba8(0x540));if(_0x421b10)_0x421b10[_0x44dba8(0x7b1)][_0x44dba8(0x9a9)](_0x44dba8(0x540));});_0x244e4f&&_0x244e4f[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>{const _0x59b85d=_0x1bc91a;_0x244e4f[_0x59b85d(0x7b1)]['add']('active'),topicTab[_0x59b85d(0x7b1)][_0x59b85d(0x195)]('active'),textTab[_0x59b85d(0x7b1)][_0x59b85d(0x195)](_0x59b85d(0x799)),fileTab['classList']['remove'](_0x59b85d(0x799)),worksheetTab[_0x59b85d(0x7b1)][_0x59b85d(0x195)](_0x59b85d(0x799));if(_0x27e582)_0x27e582['classList'][_0x59b85d(0x195)](_0x59b85d(0x799));if(_0x4f9158)_0x4f9158[_0x59b85d(0x7b1)]['remove'](_0x59b85d(0x799));if(_0x5e2f16)_0x5e2f16['classList'][_0x59b85d(0x195)](_0x59b85d(0x799));_0x421b10[_0x59b85d(0x7b1)][_0x59b85d(0x195)]('hidden'),topicInputArea[_0x59b85d(0x7b1)][_0x59b85d(0x9a9)](_0x59b85d(0x540)),textInputArea[_0x59b85d(0x7b1)]['add'](_0x59b85d(0x540)),fileInputArea['classList'][_0x59b85d(0x9a9)](_0x59b85d(0x540)),worksheetInputArea['classList'][_0x59b85d(0x9a9)](_0x59b85d(0x540));if(_0x340f7e)_0x340f7e[_0x59b85d(0x7b1)][_0x59b85d(0x9a9)](_0x59b85d(0x540));if(_0x987ba5)_0x987ba5[_0x59b85d(0x7b1)][_0x59b85d(0x9a9)](_0x59b85d(0x540));if(_0x388e61)_0x388e61[_0x59b85d(0x7b1)]['add'](_0x59b85d(0x540));});const _0x43db74=document[_0x1bc91a(0x983)](_0x1bc91a(0x935)),_0x2552de=document[_0x1bc91a(0x983)](_0x1bc91a(0x564));_0x43db74&&_0x43db74[_0x1bc91a(0x7d4)]('change',_0x500312=>{const _0x1c1473=_0x1bc91a;_0x500312[_0x1c1473(0x908)]['files']['length']>0x0?_0x2552de[_0x1c1473(0x383)]=![]:_0x2552de[_0x1c1473(0x383)]=!![];});_0x2552de&&_0x2552de[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),handleGenerateFromBlueprint);const _0x13e2bd=document[_0x1bc91a(0x983)](_0x1bc91a(0x1df)),_0x494c20=document[_0x1bc91a(0x983)](_0x1bc91a(0xab4));_0x13e2bd&&_0x13e2bd[_0x1bc91a(0x7d4)](_0x1bc91a(0x6f3),_0x3184ab=>{const _0x2b3a13=_0x1bc91a;_0x494c20[_0x2b3a13(0x383)]=_0x3184ab[_0x2b3a13(0x908)]['files'][_0x2b3a13(0xabc)]===0x0;});_0x494c20&&_0x494c20[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),handleGenerateParallelTest);loadQuizBtn[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),handleLoadQuiz),startQuizBtn[_0x1bc91a(0x7d4)]('click',async()=>{const _0x232990=_0x1bc91a,_0x185b8e=document[_0x232990(0x983)]('student-name-select');currentStudentName=_0x185b8e['value'];if(!currentStudentName){showMessage(_0x232990(0x937));return;}try{const _0x3ec369=currentQuizData['id'],_0x100e30=doc(db,'artifacts/'+appId+_0x232990(0x8b8)+_0x3ec369+_0x232990(0x830),currentStudentName);await setDoc(_0x100e30,{'studentName':currentStudentName,'startedAt':new Date()[_0x232990(0x340)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x45378b){console[_0x232990(0x8c0)]('Failed\x20to\x20create\x20initial\x20submission\x20record:',_0x45378b),showMessage(_0x232990(0x5d7));return;}studentNameSelectionView[_0x232990(0x7b1)][_0x232990(0x9a9)](_0x232990(0x540)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x1bc91a(0x983)](_0x1bc91a(0x6de))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),showJoinGameView),document[_0x1bc91a(0x983)](_0x1bc91a(0x8ef))[_0x1bc91a(0x7d4)]('click',handleJoinLiveGame),document[_0x1bc91a(0x983)](_0x1bc91a(0x5e6))['addEventListener'](_0x1bc91a(0x72b),()=>showView('student'));const _0x92ba9c=()=>{const _0x55fc2c=_0x1bc91a,_0x593bac=document['getElementById'](_0x55fc2c(0x755))[_0x55fc2c(0x36e)][_0x55fc2c(0x972)](/[^a-z0-9]/gi,'_')[_0x55fc2c(0x46a)]();return _0x55fc2c(0xa21)+(_0x593bac||'quiz');},_0x8a3ce9=document[_0x1bc91a(0x983)](_0x1bc91a(0x875));_0x8a3ce9&&_0x8a3ce9[_0x1bc91a(0x7d4)](_0x1bc91a(0x96c),_0x26379d=>{const _0x80afa8=_0x1bc91a,_0xd8561a=_0x26379d[_0x80afa8(0x908)][_0x80afa8(0x3eb)][_0x80afa8(0x46a)]()[_0x80afa8(0x68c)](),_0x55b401=document[_0x80afa8(0x983)](_0x80afa8(0x3b9)),_0x548593=_0x55b401[_0x80afa8(0x279)](_0x80afa8(0x428));_0x548593[_0x80afa8(0x1bc)](_0x5d77dc=>{const _0x1c560b=_0x80afa8;let _0x2b54d3=![];const _0x5ef93f=_0x5d77dc['querySelectorAll'](_0x1c560b(0x5a3));_0x5ef93f[_0x1c560b(0x1bc)](_0x1fab1d=>{const _0x16aab2=_0x1c560b,_0x152daa=_0x1fab1d[_0x16aab2(0x6d9)](_0x16aab2(0x459))[_0x16aab2(0x36e)][_0x16aab2(0x46a)]();_0x152daa['includes'](_0xd8561a)?(_0x1fab1d[_0x16aab2(0x58d)][_0x16aab2(0x608)]=_0x16aab2(0x832),_0x2b54d3=!![]):_0x1fab1d[_0x16aab2(0x58d)][_0x16aab2(0x608)]=_0x16aab2(0x548);}),_0x2b54d3?_0x5d77dc[_0x1c560b(0x58d)][_0x1c560b(0x608)]=_0x1c560b(0x1a9):_0x5d77dc[_0x1c560b(0x58d)][_0x1c560b(0x608)]=_0x1c560b(0x548);});});document[_0x1bc91a(0x983)]('export-image-btn')['addEventListener'](_0x1bc91a(0x72b),()=>exportTableAsImage('results-table-container',_0x92ba9c())),document[_0x1bc91a(0x983)]('export-pdf-btn')[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>exportTableAsPDF(_0x1bc91a(0x452),_0x92ba9c())),document[_0x1bc91a(0x983)](_0x1bc91a(0x54d))[_0x1bc91a(0x7d4)]('click',()=>exportTableAsWord(_0x1bc91a(0x5e5),_0x92ba9c())),document[_0x1bc91a(0x983)](_0x1bc91a(0x316))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>exportTableAsExcel(_0x1bc91a(0x452),_0x92ba9c()));const _0x4874d8=()=>{const _0x11705a=_0x1bc91a,_0xdf2021=document[_0x11705a(0x983)]('results-quiz-title')[_0x11705a(0x36e)]['replace'](/[^a-z0-9]/gi,'_')[_0x11705a(0x46a)]();return _0x11705a(0x30e)+(_0xdf2021||_0x11705a(0x5e4));};document[_0x1bc91a(0x983)](_0x1bc91a(0xab9))['addEventListener']('click',()=>exportTableAsImage(_0x1bc91a(0x32c),_0x4874d8())),document[_0x1bc91a(0x983)](_0x1bc91a(0x576))['addEventListener'](_0x1bc91a(0x72b),()=>exportTableAsPDF(_0x1bc91a(0x97c),_0x4874d8())),document[_0x1bc91a(0x983)](_0x1bc91a(0x431))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>exportTableAsWord(_0x1bc91a(0x32c),_0x4874d8())),document[_0x1bc91a(0x983)](_0x1bc91a(0x42e))['addEventListener'](_0x1bc91a(0x72b),()=>exportTableAsExcel(_0x1bc91a(0x97c),_0x4874d8())),projectQuizzesList['addEventListener'](_0x1bc91a(0x72b),async _0x50bffa=>{const _0x370806=_0x1bc91a,_0x1b590d=_0x50bffa[_0x370806(0x908)][_0x370806(0x8d2)](_0x370806(0x654)),_0x4dd6b0=_0x50bffa[_0x370806(0x908)][_0x370806(0x8d2)](_0x370806(0x577)),_0x40a367=_0x50bffa['target'][_0x370806(0x8d2)](_0x370806(0x8b6)),_0x30d65f=_0x50bffa['target'][_0x370806(0x8d2)](_0x370806(0x7aa)),_0x3d99df=_0x50bffa[_0x370806(0x908)]['closest'](_0x370806(0x4ba)),_0x22e611=_0x50bffa['target'][_0x370806(0x8d2)]('.copy-quiz-id-list-btn'),_0x4824f6=_0x50bffa['target']['closest'](_0x370806(0x4e5)),_0x1ab4f0=_0x50bffa[_0x370806(0x908)][_0x370806(0x8d2)](_0x370806(0x880)),_0xdab4b6=_0x50bffa[_0x370806(0x908)][_0x370806(0x8d2)](_0x370806(0x521)),_0x547bb3=_0x50bffa[_0x370806(0x908)][_0x370806(0x8d2)](_0x370806(0x6b1)),_0x166299=_0x50bffa[_0x370806(0x908)][_0x370806(0x8d2)](_0x370806(0x9fe)),_0x31a385=_0x50bffa[_0x370806(0x908)][_0x370806(0x8d2)]('.move-quiz-btn'),_0xb182cb=_0x50bffa[_0x370806(0x908)]['closest'](_0x370806(0x6c7)),_0xb7f181=_0x50bffa[_0x370806(0x908)][_0x370806(0x8d2)](_0x370806(0x853)),_0x32e942=_0x50bffa[_0x370806(0x908)][_0x370806(0x8d2)](_0x370806(0x5cb)),_0x2e767f=_0x50bffa[_0x370806(0x908)][_0x370806(0x8d2)](_0x370806(0x740)),_0xbb667a=_0x50bffa[_0x370806(0x908)][_0x370806(0x8d2)]('.export-pdf-list-btn'),_0x5a4fac=_0x50bffa[_0x370806(0x908)][_0x370806(0x8d2)](_0x370806(0x604)),_0x42d7f4=_0x50bffa[_0x370806(0x908)][_0x370806(0x8d2)](_0x370806(0x747)),_0x4871e3=_0x50bffa[_0x370806(0x908)]['closest']('.toggle-actions-btn'),_0x30372b=_0x50bffa[_0x370806(0x908)][_0x370806(0x8d2)]('.generate-easy-version-btn'),_0x22348b=_0x50bffa[_0x370806(0x908)]['closest'](_0x370806(0x41c)),_0x5905c5=_0x50bffa[_0x370806(0x908)][_0x370806(0x8d2)]('.start-live-race-btn');if(_0x22348b){const _0x168009=_0x22348b[_0x370806(0x700)][_0x370806(0x61d)],_0x24e92e=_0x22348b[_0x370806(0x700)]['mode'],_0x1cd5ab=allQuizzes[_0x370806(0x606)](_0x44a05c=>_0x44a05c['id']===_0x168009);_0x1cd5ab&&showGameStartConfirmationModal(_0x168009,_0x24e92e,_0x1cd5ab[_0x370806(0x88d)]);}else{if(_0x5905c5){const _0x367b0f=_0x5905c5['dataset'][_0x370806(0x61d)];handleStartLiveRace(_0x367b0f);}else{if(_0x4871e3){const _0x16263d=_0x4871e3[_0x370806(0x700)][_0x370806(0x61d)],_0x328cc7=document[_0x370806(0x983)]('actions-container-'+_0x16263d);_0x328cc7&&_0x328cc7['classList']['toggle']('hidden');}else{if(_0x4dd6b0){const _0x5ae5c2=_0x4dd6b0[_0x370806(0x700)][_0x370806(0x61d)],_0x837a9c=allQuizzes[_0x370806(0x606)](_0x1d1b66=>_0x1d1b66['id']===_0x5ae5c2);_0x837a9c&&handleGenerateParallelPostTest(_0x837a9c);}else{if(_0x40a367)handleCompareResults(_0x40a367[_0x370806(0x700)][_0x370806(0x61d)],_0x40a367[_0x370806(0x700)][_0x370806(0x41a)]);else{if(_0x30d65f){const _0x29e131=_0x30d65f['dataset'][_0x370806(0x61d)],_0x4cdb9c=allQuizzes[_0x370806(0x606)](_0x393a1e=>_0x393a1e['id']===_0x29e131);_0x4cdb9c&&_0x4cdb9c[_0x370806(0x39c)]?(displayLessonPlan(_0x4cdb9c[_0x370806(0x39c)],_0x4cdb9c),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x29e131)),document[_0x370806(0x983)]('confirmation-modal')[_0x370806(0x6d9)]('h3')[_0x370806(0x36e)]=_0x370806(0x36c),document[_0x370806(0x983)](_0x370806(0x183))['textContent']=_0x370806(0x1ce)):handleGenerateLessonPlan(_0x29e131);}else{if(_0x3d99df)handleToggleStarQuiz(_0x3d99df[_0x370806(0x700)][_0x370806(0x61d)]);else{if(_0x22e611)copyTextToClipboard(_0x22e611[_0x370806(0x700)]['quizId'],'คัดลอกรหัสแล้ว!');else{if(_0x4824f6)handleOpenQuizEditor(_0x4824f6['dataset'][_0x370806(0x61d)]);else{if(_0x1ab4f0)handleQuizSettings(_0x1ab4f0['dataset'][_0x370806(0x61d)]);else{if(_0xdab4b6)handleDuplicateQuiz(_0xdab4b6['dataset'][_0x370806(0x61d)]);else{if(_0x547bb3)handleRenameQuiz(_0x547bb3['dataset'][_0x370806(0x61d)],_0x547bb3[_0x370806(0x700)][_0x370806(0x88d)]);else{if(_0x166299){const _0x243790=_0x166299[_0x370806(0x700)][_0x370806(0x61d)],_0x54dd5f=allQuizzes['find'](_0x3a7365=>_0x3a7365['id']===_0x243790);_0x54dd5f&&handleGenerateParallelFromBank(_0x54dd5f);}else{if(_0x31a385)handleMoveQuiz(_0x31a385['dataset'][_0x370806(0x61d)]);else{if(_0xb182cb)handleManualQuizPairing(_0xb182cb[_0x370806(0x700)]['quizId']);else{if(_0xb7f181)handleUnpairQuiz(_0xb7f181[_0x370806(0x700)][_0x370806(0x61d)]);else{if(_0x32e942){const _0x5cc0c7=_0x32e942[_0x370806(0x700)][_0x370806(0x61d)],_0x3e78fc=allQuizzes[_0x370806(0x606)](_0x38a4b6=>_0x38a4b6['id']===_0x5cc0c7);if(_0x3e78fc)startPresentation(_0x3e78fc);}else{if(_0x2e767f){const _0x4e6fdc=_0x2e767f[_0x370806(0x700)][_0x370806(0x61d)],_0x56352f=allQuizzes['find'](_0x2e95c0=>_0x2e95c0['id']===_0x4e6fdc);_0x56352f&&(currentQuizData=_0x56352f,startAdminTest());}else{if(_0xbb667a)actionTargetId=_0xbb667a[_0x370806(0x700)][_0x370806(0x61d)],document[_0x370806(0x983)](_0x370806(0x9fb))['classList'][_0x370806(0x195)]('hidden');else{if(_0x5a4fac)showConfirmation(_0x370806(0x9b0)+_0x5a4fac['dataset'][_0x370806(0x88d)]+_0x370806(0x97a),()=>handleDeleteQuiz(_0x5a4fac[_0x370806(0x700)][_0x370806(0x61d)]));else{if(_0x42d7f4)handleQuizStatus(_0x42d7f4[_0x370806(0x700)][_0x370806(0x61d)]);else{if(_0x30372b)handleGenerateEasyVersionQuiz(_0x30372b[_0x370806(0x700)][_0x370806(0x61d)]);else _0x1b590d&&showQuizDetailView(_0x1b590d['dataset']['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x1bc91a(0x983)](_0x1bc91a(0xa58))[_0x1bc91a(0x7d4)]('click',()=>showView(_0x1bc91a(0x206))),document[_0x1bc91a(0x983)]('confirm-team-players-btn')[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),confirmAndStartTeamQuiz),document[_0x1bc91a(0x983)](_0x1bc91a(0x97c))[_0x1bc91a(0x6d9)](_0x1bc91a(0x3c5))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),_0x5aa08f=>{const _0x463d1e=_0x1bc91a,_0xf087da=_0x5aa08f[_0x463d1e(0x908)]['closest'](_0x463d1e(0x185));if(!_0xf087da||!_0xf087da[_0x463d1e(0x700)]['sort'])return;const _0x4b3656=_0xf087da['dataset']['sort'];if(quizLeaderboardSortBy===_0x4b3656)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x463d1e(0x9e6)?'desc':_0x463d1e(0x9e6);else{quizLeaderboardSortBy=_0x4b3656;const _0x402db8=[_0x463d1e(0x366)];quizLeaderboardSortOrder=_0x402db8[_0x463d1e(0x67a)](_0x4b3656)?_0x463d1e(0x9e6):_0x463d1e(0x74f);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x1bc91a(0x983)]('close-presentation-btn')[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),closePresentation),document[_0x1bc91a(0x983)](_0x1bc91a(0x502))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x1bc91a(0x983)](_0x1bc91a(0x947))['addEventListener'](_0x1bc91a(0x72b),()=>{const _0x5b54ac=_0x1bc91a;currentQuizData[_0x5b54ac(0x2c2)]&&currentPresentationSlide<currentQuizData[_0x5b54ac(0x2c2)][_0x5b54ac(0xabc)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x1bc91a(0x7d4)](_0x1bc91a(0x706),()=>{const _0xa03301=_0x1bc91a;!document[_0xa03301(0x70a)]&&(presentationModal[_0xa03301(0x58d)]['display']=_0xa03301(0x548));}),document[_0x1bc91a(0x983)](_0x1bc91a(0x745))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),handleDeleteAllStudents),studentList['addEventListener'](_0x1bc91a(0x72b),_0x10acbc=>{const _0x3d86d3=_0x1bc91a,_0x5ab64a=_0x10acbc[_0x3d86d3(0x908)][_0x3d86d3(0x8d2)](_0x3d86d3(0x637));if(_0x5ab64a){const _0x2356ec=_0x5ab64a[_0x3d86d3(0x700)][_0x3d86d3(0x366)];handleDeleteStudent(_0x2356ec);}}),document[_0x1bc91a(0x983)](_0x1bc91a(0x1b7))[_0x1bc91a(0x7d4)]('click',handleGenerateFromFileClick),fileUploadInput[_0x1bc91a(0x7d4)]('change',_0x57651e=>{const _0x51c168=_0x1bc91a,_0x4016be=_0x57651e[_0x51c168(0x908)][_0x51c168(0xa94)][0x0],_0x2c1bf1=document[_0x51c168(0x983)](_0x51c168(0x1b7));_0x4016be?(selectedFile=_0x4016be,_0x2c1bf1[_0x51c168(0x383)]=![]):(selectedFile=null,_0x2c1bf1[_0x51c168(0x383)]=!![]);}),document['getElementById'](_0x1bc91a(0x187))[_0x1bc91a(0x7d4)](_0x1bc91a(0x6f3),_0x33493b=>{const _0x41e1dc=_0x1bc91a,_0x79bb6a=document[_0x41e1dc(0x983)](_0x41e1dc(0x301)),_0x5038dd=document[_0x41e1dc(0x983)](_0x41e1dc(0x988)),_0x3c1acf=document[_0x41e1dc(0x983)](_0x41e1dc(0x328));_0x33493b[_0x41e1dc(0x908)]['value']===_0x41e1dc(0x548)?_0x79bb6a[_0x41e1dc(0x7b1)][_0x41e1dc(0x9a9)](_0x41e1dc(0x540)):(_0x79bb6a[_0x41e1dc(0x7b1)][_0x41e1dc(0x195)](_0x41e1dc(0x540)),_0x33493b[_0x41e1dc(0x908)]['value']===_0x41e1dc(0x546)?(_0x5038dd[_0x41e1dc(0x36e)]='ระยะเวลา\x20(นาที):',_0x3c1acf['value']='10'):(_0x5038dd[_0x41e1dc(0x36e)]=_0x41e1dc(0x9e5),_0x3c1acf[_0x41e1dc(0x3eb)]='30'));}),document[_0x1bc91a(0x983)](_0x1bc91a(0x28c))['addEventListener'](_0x1bc91a(0x6f3),_0x138214=>{const _0x3a7d83=_0x1bc91a,_0x3b0803=document[_0x3a7d83(0x983)](_0x3a7d83(0x692)),_0x5b7c32=_0x138214[_0x3a7d83(0x908)]['value'],_0x26843c=document[_0x3a7d83(0x6d9)](_0x3a7d83(0x57b)),_0x446e96=document[_0x3a7d83(0x983)]('passing-score-input'),_0xa385b=document[_0x3a7d83(0x983)](_0x3a7d83(0x627));_0x5b7c32===_0x3a7d83(0x321)?_0x26843c[_0x3a7d83(0x36e)]=_0x3a7d83(0x951):_0x26843c[_0x3a7d83(0x36e)]=_0x3a7d83(0x823),_0x5b7c32==='multiple_choice'||_0x5b7c32===_0x3a7d83(0x593)||_0x5b7c32==='mixed'?_0x3b0803[_0x3a7d83(0x7b1)]['remove'](_0x3a7d83(0x540)):_0x3b0803[_0x3a7d83(0x7b1)]['add'](_0x3a7d83(0x540)),_0x446e96['max']=_0xa385b[_0x3a7d83(0x3eb)];}),document[_0x1bc91a(0x983)](_0x1bc91a(0x627))[_0x1bc91a(0x7d4)](_0x1bc91a(0x96c),_0x8bc7=>{const _0x2d2d95=_0x1bc91a;document['getElementById'](_0x2d2d95(0x5eb))[_0x2d2d95(0x94e)]=_0x8bc7[_0x2d2d95(0x908)][_0x2d2d95(0x3eb)];}),document[_0x1bc91a(0x983)]('modal-timer-mode-select')[_0x1bc91a(0x7d4)]('change',_0x4edfc6=>{const _0x3d8497=_0x1bc91a,_0x209d24=document[_0x3d8497(0x983)](_0x3d8497(0x8c2)),_0x4749f1=document[_0x3d8497(0x983)](_0x3d8497(0x4b2)),_0x411933=document[_0x3d8497(0x983)]('modal-timer-duration-input');_0x4edfc6[_0x3d8497(0x908)]['value']==='none'?_0x209d24['classList']['add'](_0x3d8497(0x540)):(_0x209d24['classList'][_0x3d8497(0x195)](_0x3d8497(0x540)),_0x4edfc6['target'][_0x3d8497(0x3eb)]==='whole_quiz'?_0x4749f1[_0x3d8497(0x36e)]='ระยะเวลา\x20(นาที):':_0x4749f1[_0x3d8497(0x36e)]='ระยะเวลา\x20(วินาที):');}),document['getElementById'](_0x1bc91a(0xa86))[_0x1bc91a(0x7d4)]('click',()=>{const _0x29d796=_0x1bc91a;document['getElementById'](_0x29d796(0x4fb))[_0x29d796(0x7b1)][_0x29d796(0x9a9)]('hidden');}),document[_0x1bc91a(0x983)](_0x1bc91a(0x40d))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>{const _0x19fab9=_0x1bc91a;document[_0x19fab9(0x983)](_0x19fab9(0x4fb))[_0x19fab9(0x7b1)][_0x19fab9(0x9a9)](_0x19fab9(0x540));}),document['getElementById'](_0x1bc91a(0x416))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),handleVerifyAnswersInEditor),document['getElementById']('save-quiz-edits-btn')['addEventListener']('click',()=>{const _0x41e9a=_0x1bc91a;document['getElementById'](_0x41e9a(0x4fb))[_0x41e9a(0x7b1)]['add']('hidden'),showConfirmation(_0x41e9a(0x898),handleSaveChanges);}),document[_0x1bc91a(0x983)](_0x1bc91a(0xacb))['addEventListener']('click',handleAutoFixLatex);const _0x375ccd=document['getElementById'](_0x1bc91a(0xa64));_0x375ccd&&_0x375ccd[_0x1bc91a(0x7d4)]('click',_0x53f0ae=>{const _0x1b4ded=_0x1bc91a,_0x3175a5=_0x53f0ae[_0x1b4ded(0x908)]['closest'](_0x1b4ded(0x1ca)),_0x3eeeb5=_0x53f0ae[_0x1b4ded(0x908)][_0x1b4ded(0x8d2)](_0x1b4ded(0xa78));if(_0x3175a5){const _0x26316e=_0x3175a5['closest'](_0x1b4ded(0x783)),_0x59bf93=parseInt(_0x26316e[_0x1b4ded(0x700)][_0x1b4ded(0x620)],0xa);handleRegenerateQuestionInEditor(_0x59bf93);}else{if(_0x3eeeb5){const _0x1f1259=_0x3eeeb5[_0x1b4ded(0x8d2)]('.question-editor-item'),_0x49ff22=parseInt(_0x1f1259['dataset'][_0x1b4ded(0x620)],0xa);handleAiFixFormula(_0x49ff22);}}});document[_0x1bc91a(0x983)](_0x1bc91a(0x8ed))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),openQuizBankModal),document[_0x1bc91a(0x983)]('cancel-quiz-bank-btn')[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>{const _0x2d0c87=_0x1bc91a;document[_0x2d0c87(0x983)](_0x2d0c87(0x2b5))['classList'][_0x2d0c87(0x9a9)](_0x2d0c87(0x540));}),document[_0x1bc91a(0x983)](_0x1bc91a(0x3e1))[_0x1bc91a(0x7d4)](_0x1bc91a(0x96c),_0x35ba46=>renderQuizBankList(_0x35ba46[_0x1bc91a(0x908)][_0x1bc91a(0x3eb)]));const _0x5d684d=document[_0x1bc91a(0x983)]('math-topics-checkbox-container');if(_0x5d684d){let _0x3f3e30=null;_0x5d684d[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),_0x439451=>{const _0x460303=_0x1bc91a,_0x54e701=_0x439451['target'],_0x5beaf3=_0x54e701[_0x460303(0x8d2)](_0x460303(0xa98)),_0x127a5b=_0x54e701[_0x460303(0x8d2)](_0x460303(0x77e)),_0x27a497=_0x54e701['closest'](_0x460303(0x803)),_0x2f4ac5=_0x54e701['closest'](_0x460303(0x7bb));if(_0x127a5b){_0x439451[_0x460303(0x774)]();const _0x331fd8=_0x127a5b[_0x460303(0x700)]['id'],_0x2e308a=_0x127a5b['closest'](_0x460303(0x9c8))[_0x460303(0x6d9)]('.topic-name-display')[_0x460303(0x36e)];showConfirmation(_0x460303(0x881)+_0x2e308a+'\x22?',()=>handleDeleteCustomTopic(_0x331fd8));}else{if(_0x5beaf3){_0x439451[_0x460303(0x774)]();_0x3f3e30&&toggleTopicEditMode(_0x3f3e30,![]);const _0x5c4b8f=_0x5beaf3[_0x460303(0x8d2)]('[data-topic-container-id]');_0x3f3e30=_0x5c4b8f,toggleTopicEditMode(_0x5c4b8f,!![]);}else{if(_0x27a497){_0x439451[_0x460303(0x774)]();const _0x1e41f8=_0x27a497[_0x460303(0x700)]['id'],_0x2732aa=_0x27a497[_0x460303(0x8d2)](_0x460303(0x466)),_0x19562d=_0x2732aa[_0x460303(0x6d9)]('.topic-name-input')[_0x460303(0x3eb)];handleUpdateCustomTopic(_0x1e41f8,_0x19562d),_0x3f3e30=null;}else{if(_0x2f4ac5){_0x439451['preventDefault']();const _0x3056cf=_0x2f4ac5[_0x460303(0x8d2)](_0x460303(0x466));toggleTopicEditMode(_0x3056cf,![]),_0x3f3e30=null;}}}}}),document[_0x1bc91a(0x983)](_0x1bc91a(0x271))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>{const _0x1bad6a=_0x1bc91a;document[_0x1bad6a(0x983)](_0x1bad6a(0x711))[_0x1bad6a(0x7b1)][_0x1bad6a(0x9a9)](_0x1bad6a(0x540));}),document[_0x1bc91a(0x983)](_0x1bc91a(0x19b))['addEventListener'](_0x1bc91a(0x72b),()=>{const _0x222a65=_0x1bc91a;document[_0x222a65(0x983)](_0x222a65(0x711))[_0x222a65(0x7b1)]['add']('hidden');}),document[_0x1bc91a(0x983)](_0x1bc91a(0x24f))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),handleExportLessonPDF);}document[_0x1bc91a(0x983)]('close-comparison-modal-btn')['addEventListener'](_0x1bc91a(0x72b),()=>{const _0x1f5bb3=_0x1bc91a;document[_0x1f5bb3(0x983)]('comparison-modal')[_0x1f5bb3(0x7b1)][_0x1f5bb3(0x9a9)]('hidden');}),document['getElementById'](_0x1bc91a(0x7ad))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),()=>{const _0x1fa212=_0x1bc91a;document[_0x1fa212(0x983)]('comparison-modal')[_0x1fa212(0x7b1)][_0x1fa212(0x9a9)]('hidden');}),setupComparisonModalTabs(),document[_0x1bc91a(0x44d)]['addEventListener']('click',function(_0x7d512c){const _0x5b0916=_0x1bc91a;if(_0x7d512c[_0x5b0916(0x908)]['classList']['contains']('practice-topic-btn')){const _0x5b7358=unescape(_0x7d512c[_0x5b0916(0x908)][_0x5b0916(0x700)]['topic']);startSkillPractice(_0x5b7358);}}),document[_0x1bc91a(0x983)](_0x1bc91a(0x231))[_0x1bc91a(0x7d4)](_0x1bc91a(0x72b),_0x7cc0af=>{const _0x538199=_0x1bc91a,_0x4713a2=_0x7cc0af[_0x538199(0x908)]['closest']('.delete-submission-btn');if(_0x4713a2){const _0x57daf3=_0x4713a2[_0x538199(0x700)][_0x538199(0x366)];handleDeleteSubmission(_0x57daf3);}});}async function handleStartGroupMode(_0x38e166,_0x245a13=![]){const _0x2501a5=_0x31ab05,_0x1b744f=allQuizzes[_0x2501a5(0x606)](_0x23d782=>_0x23d782['id']===_0x38e166)||allQuizzesGlobal[_0x2501a5(0x606)](_0x31cd5b=>_0x31cd5b['id']===_0x38e166);if(!_0x1b744f){showMessage(_0x2501a5(0x182));return;}currentQuizData=getShuffledQuiz(_0x1b744f);const _0x153c1f=Math[_0x2501a5(0x273)](0x3e8+Math[_0x2501a5(0x4aa)]()*0x2328)[_0x2501a5(0x278)]();try{const _0x12326e=await addDoc(collection(db,_0x2501a5(0x9ac)+appId+'/public/data/teamQuizzes'),{'quizId':_0x1b744f['id'],'projectId':_0x1b744f['projectId'],'status':_0x2501a5(0xaa5),'pin':_0x153c1f,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x245a13});currentTeamQuizId=_0x12326e['id'],showView(_0x2501a5(0x8bb)),renderAdminTeamQuizDashboard(_0x153c1f,_0x1b744f[_0x2501a5(0x88d)],'group'),listenForTeamQuizUpdates();}catch(_0x15fd80){console[_0x2501a5(0x8c0)](_0x2501a5(0x3d5),_0x15fd80),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x2e85ad=_0x31ab05;studentInitialView[_0x2e85ad(0x7b1)][_0x2e85ad(0x9a9)](_0x2e85ad(0x540)),document[_0x2e85ad(0x983)]('student-progress-view')[_0x2e85ad(0x7b1)][_0x2e85ad(0x195)](_0x2e85ad(0x540));const _0x46cc37=document['getElementById'](_0x2e85ad(0xaa0)),_0x156260=document['getElementById'](_0x2e85ad(0x47f)),_0x4255d9=document[_0x2e85ad(0x983)](_0x2e85ad(0x507));_0x4255d9[_0x2e85ad(0x9ad)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x156260[_0x2e85ad(0x9ad)]=_0x2e85ad(0x516),_0x156260[_0x2e85ad(0x383)]=!![],_0x46cc37['innerHTML']='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x2e85ad(0xabc)]===0x0){const _0x49d05d=collection(db,_0x2e85ad(0x9ac)+appId+_0x2e85ad(0x5e8)),_0x58e6d1=await getDocs(_0x49d05d);allProjects=_0x58e6d1['docs'][_0x2e85ad(0x2e0)](_0xeab06c=>({'id':_0xeab06c['id'],..._0xeab06c[_0x2e85ad(0x943)]()}));}const _0x2d66be=allProjects['filter'](_0x1bb01a=>_0x1bb01a[_0x2e85ad(0x363)]?.['showInStudentDashboard']!==![]);_0x2d66be['sort']((_0x27f856,_0x1fa4fa)=>_0x27f856['projectName'][_0x2e85ad(0x5cc)](_0x1fa4fa[_0x2e85ad(0x537)],'th')),_0x46cc37[_0x2e85ad(0x9ad)]=_0x2e85ad(0xac0)+_0x2d66be[_0x2e85ad(0x2e0)](_0x4310dc=>'<option\x20value=\x22'+_0x4310dc['id']+'\x22>'+_0x4310dc[_0x2e85ad(0x537)]+_0x2e85ad(0x6e0))[_0x2e85ad(0x62f)](''),_0x46cc37[_0x2e85ad(0x571)]=()=>{const _0xede47c=_0x2e85ad,_0x25a449=_0x156260[_0xede47c(0x3eb)],_0x5560ce=_0x46cc37['value'];_0x156260['disabled']=!![],_0x156260[_0xede47c(0x9ad)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x4255d9[_0xede47c(0x9ad)]=_0xede47c(0xa3c);if(!_0x5560ce)return;const _0x2551e6=allProjects[_0xede47c(0x606)](_0x42dba1=>_0x42dba1['id']===_0x5560ce);if(!_0x2551e6||!_0x2551e6[_0xede47c(0xa76)])return;const _0x1fea07=()=>{const _0x14834f=_0xede47c;_0x156260['innerHTML']=_0x14834f(0x516)+_0x2551e6[_0x14834f(0xa76)][_0x14834f(0x2e0)](_0xe74969=>_0x14834f(0x420)+_0xe74969+'\x22>'+_0xe74969+_0x14834f(0x6e0))['join'](''),_0x156260[_0x14834f(0x383)]=![];const _0x21e8e2=Array['from'](_0x156260['options'])['map'](_0x3837e4=>_0x3837e4[_0x14834f(0x3eb)]);if(_0x25a449&&_0x21e8e2[_0x14834f(0x67a)](_0x25a449))_0x156260['value']=_0x25a449,_0x156260[_0x14834f(0x1aa)](new Event(_0x14834f(0x6f3)));else _0x2551e6[_0x14834f(0xa76)][_0x14834f(0xabc)]===0x1&&(_0x156260['value']=_0x2551e6[_0x14834f(0xa76)][0x0],_0x156260[_0x14834f(0x1aa)](new Event(_0x14834f(0x6f3))));};if(_0x2551e6[_0xede47c(0x363)]?.[_0xede47c(0xabd)]){if(sessionStorage[_0xede47c(0x688)](_0xede47c(0x736)+_0x5560ce)===_0xede47c(0xa61)){_0x1fea07();return;}const _0x3029a6=document[_0xede47c(0x983)](_0xede47c(0x1d3)),_0x2d7d2b=document[_0xede47c(0x983)](_0xede47c(0x26e)),_0x2e14f0=document[_0xede47c(0x983)](_0xede47c(0xa17)),_0x3cd021=document['getElementById'](_0xede47c(0x303)),_0x1e4e1b=document['getElementById'](_0xede47c(0xa7e));document[_0xede47c(0x983)](_0xede47c(0x4d0))[_0xede47c(0x36e)]=_0xede47c(0x9f3)+_0x2551e6[_0xede47c(0x537)],_0x3cd021[_0xede47c(0x3eb)]='',_0x1e4e1b[_0xede47c(0x7b1)][_0xede47c(0x9a9)](_0xede47c(0x540)),_0x3029a6[_0xede47c(0x7b1)][_0xede47c(0x195)]('hidden');const _0x5976d0=()=>{const _0x3bc701=_0xede47c,_0x2c23cc=_0x3cd021[_0x3bc701(0x3eb)][_0x3bc701(0x68c)]();_0x2c23cc===_0x2551e6[_0x3bc701(0x363)][_0x3bc701(0x51f)]?(sessionStorage[_0x3bc701(0x1cd)]('authed_project_'+_0x5560ce,_0x3bc701(0xa61)),_0x3029a6[_0x3bc701(0x7b1)][_0x3bc701(0x9a9)](_0x3bc701(0x540)),_0x1fea07(),_0x2d7d2b[_0x3bc701(0x890)](_0x3bc701(0x72b),_0x5976d0)):_0x1e4e1b[_0x3bc701(0x7b1)][_0x3bc701(0x195)]('hidden');};_0x2d7d2b['onclick']=_0x5976d0,_0x2e14f0[_0xede47c(0x488)]=()=>{const _0x5707b8=_0xede47c;_0x3029a6['classList'][_0x5707b8(0x9a9)](_0x5707b8(0x540)),_0x46cc37[_0x5707b8(0x3eb)]='',_0x2d7d2b[_0x5707b8(0x890)](_0x5707b8(0x72b),_0x5976d0);};}else _0x1fea07();},_0x156260['onchange']=()=>{const _0x11e2e3=_0x2e85ad,_0xeed2d6=_0x46cc37['value'],_0x2c5e69=_0x156260[_0x11e2e3(0x3eb)];_0xeed2d6&&_0x2c5e69&&renderStudentProgressDashboard(_0xeed2d6,_0x2c5e69);};}async function confirmAndJoinSyncGame(){const _0x47b71e=_0x31ab05,_0x604080=Array[_0x47b71e(0xa96)](document[_0x47b71e(0x279)](_0x47b71e(0x693)))['map'](_0x237ae1=>_0x237ae1[_0x47b71e(0x3eb)]);if(_0x604080[_0x47b71e(0xabc)]===0x0){showMessage(_0x47b71e(0x48c));return;}localTeamPlayers=_0x604080,localPlayerTurnIndex=0x0;const _0x265718=doc(db,_0x47b71e(0x9ac)+appId+_0x47b71e(0x86c),currentLiveGameId),_0x320ebb={};_0x604080[_0x47b71e(0x1bc)](_0x5eaa17=>{const _0x210a2e=_0x47b71e;_0x320ebb[_0x210a2e(0x4e3)+_0x5eaa17]={'name':_0x5eaa17,'score':0x0,'answered':![]};});try{await updateDoc(_0x265718,_0x320ebb),document[_0x47b71e(0x983)](_0x47b71e(0x8f3))['classList']['add'](_0x47b71e(0x540)),currentStudentName=_0x604080[0x0],listenForSyncGameUpdates();const _0x45ea61={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x47b71e(0x1cd)](_0x47b71e(0x3fe),JSON[_0x47b71e(0x56f)](_0x45ea61));}catch(_0x38f9cc){console[_0x47b71e(0x8c0)](_0x47b71e(0xa6c),_0x38f9cc),showMessage(_0x47b71e(0x872));}}async function resumeActiveGameSession(){const _0x1da1ef=_0x31ab05,_0x1ff907=sessionStorage[_0x1da1ef(0x688)]('activeGameSession');if(!_0x1ff907)return;const _0x4e2091=JSON[_0x1da1ef(0x83a)](_0x1ff907),{gameId:_0x103916,mode:_0x541eb6,players:_0x586e7c,turnIndex:_0x2e6ffc}=_0x4e2091;try{let _0x130991,_0x11c902;_0x541eb6===_0x1da1ef(0x4c0)?_0x130991=doc(db,'artifacts/'+appId+_0x1da1ef(0x86c),_0x103916):_0x130991=doc(db,_0x1da1ef(0x9ac)+appId+_0x1da1ef(0x475),_0x103916);_0x11c902=await getDoc(_0x130991);if(!_0x11c902[_0x1da1ef(0x9da)]()||_0x11c902['data']()['status']===_0x1da1ef(0x5fb)||_0x11c902[_0x1da1ef(0x943)]()[_0x1da1ef(0xa1f)]==='podium'){sessionStorage[_0x1da1ef(0xaba)](_0x1da1ef(0x3fe));return;}console['log']('กำลังกลับเข้าสู่เกม\x20'+_0x541eb6+'\x20(ID:\x20'+_0x103916+')'),localTeamPlayers=_0x586e7c,localPlayerTurnIndex=_0x2e6ffc;if(_0x541eb6===_0x1da1ef(0x4c0))currentLiveGameId=_0x103916,currentStudentName=_0x586e7c[0x0],showView(_0x1da1ef(0x8bb)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x103916;const _0x5d4f2d=_0x11c902[_0x1da1ef(0x943)](),_0x162d65=doc(db,_0x1da1ef(0x9ac)+appId+'/public/data/quizzes',_0x5d4f2d[_0x1da1ef(0x61d)]),_0xad13b3=await getDoc(_0x162d65);_0xad13b3[_0x1da1ef(0x9da)]()&&(currentQuizData=getShuffledQuiz({'id':_0xad13b3['id'],..._0xad13b3['data']()}),showView(_0x1da1ef(0x206)),studentInitialView['classList'][_0x1da1ef(0x9a9)](_0x1da1ef(0x540)),renderTeamQuizQuestion());}}catch(_0x501e93){console[_0x1da1ef(0x8c0)](_0x1da1ef(0x92f),_0x501e93),sessionStorage[_0x1da1ef(0xaba)](_0x1da1ef(0x3fe));}}async function handleKickPlayerSync(_0x2ba185){const _0x3c7a90=_0x31ab05;if(!currentLiveGameId||!_0x2ba185)return;const _0x4d6833=doc(db,_0x3c7a90(0x9ac)+appId+_0x3c7a90(0x86c),currentLiveGameId),_0x1d1075={};_0x1d1075[_0x3c7a90(0x4e3)+_0x2ba185+'.status']=_0x3c7a90(0x87c);try{await updateDoc(_0x4d6833,_0x1d1075);}catch(_0xf8974c){console['error'](_0x3c7a90(0x842)+_0x2ba185+_0x3c7a90(0x2c8),_0xf8974c),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function renderStudentProgressDashboard(_0xbf65de,_0x1ec61c){const _0x30427d=_0x31ab05,_0x2cbf35=document[_0x30427d(0x983)](_0x30427d(0x507));_0x2cbf35[_0x30427d(0x9ad)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0xb62fe5=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x5744ad=query(_0xb62fe5,where(_0x30427d(0x7b7),'==',_0xbf65de)),_0x4b3c7d=await getDocs(_0x5744ad),_0x25257e=_0x4b3c7d[_0x30427d(0x2f9)][_0x30427d(0x2e0)](_0x27542d=>({'id':_0x27542d['id'],..._0x27542d['data']()})),_0x3a10eb=_0x25257e['map'](_0x473ca9=>getDoc(doc(db,_0x30427d(0x9ac)+appId+_0x30427d(0x8b8)+_0x473ca9['id']+'/submissions',_0x1ec61c))),_0x432407=await Promise[_0x30427d(0x1d2)](_0x3a10eb),_0x5d4fa4=_0x432407[_0x30427d(0x8af)](_0x4dd66a=>_0x4dd66a[_0x30427d(0x9da)]())[_0x30427d(0x2e0)](_0x257260=>({'quizId':_0x257260[_0x30427d(0x839)][_0x30427d(0x90a)][_0x30427d(0x90a)]['id'],..._0x257260[_0x30427d(0x943)]()}));if(_0x5d4fa4[_0x30427d(0xabc)]===0x0){_0x2cbf35['innerHTML']=_0x30427d(0x3cc);return;}let _0x2263da=_0x30427d(0x57c);_0x5d4fa4['forEach'](_0x563a77=>{const _0x599e1e=_0x30427d,_0x52206a=_0x25257e['find'](_0x211cf8=>_0x211cf8['id']===_0x563a77['quizId']),_0x2e507e=_0x52206a[_0x599e1e(0x363)]?.['resultsDisplay']||_0x599e1e(0x6fc),_0x596d73=_0x52206a[_0x599e1e(0x363)]?.[_0x599e1e(0x8aa)]??0x0,_0x581ec0=_0x563a77[_0x599e1e(0x4f0)]>=_0x596d73;let _0x5eba81='',_0x5b7394='bg-gray-50';switch(_0x2e507e){case _0x599e1e(0x6fc):case'show_results_only':_0x5b7394=_0x581ec0?_0x599e1e(0x749):_0x599e1e(0x4d9),_0x5eba81=_0x599e1e(0xa4b)+(_0x581ec0?_0x599e1e(0x707):_0x599e1e(0x859))+'\x22>'+_0x563a77[_0x599e1e(0x4f0)]+_0x599e1e(0x47d)+_0x563a77[_0x599e1e(0x682)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x581ec0?_0x599e1e(0x98d):'bg-red-200\x20text-red-800')+'\x22>'+(_0x581ec0?_0x599e1e(0x8b4):'ไม่ผ่าน')+_0x599e1e(0x78c);break;case _0x599e1e(0x930):_0x5b7394=_0x581ec0?_0x599e1e(0x749):'bg-red-50',_0x5eba81=_0x599e1e(0x4f3)+(_0x581ec0?'bg-green-200\x20text-green-800':_0x599e1e(0x4d5))+'\x22>'+(_0x581ec0?_0x599e1e(0x8b4):_0x599e1e(0x7de))+_0x599e1e(0x78c);break;case _0x599e1e(0x962):_0x5b7394=_0x599e1e(0x54e),_0x5eba81=_0x599e1e(0x247);break;}_0x2263da+=_0x599e1e(0x27a)+_0x5b7394+_0x599e1e(0x517)+_0x52206a['topic']+_0x599e1e(0x85e)+_0x563a77[_0x599e1e(0xacf)][_0x599e1e(0xabc)]+_0x599e1e(0x88e)+new Date(_0x563a77[_0x599e1e(0x26c)])[_0x599e1e(0x1ec)](_0x599e1e(0x463))+_0x599e1e(0x42c)+_0x5eba81+_0x599e1e(0x57a);}),_0x2263da+='</div>',_0x2cbf35[_0x30427d(0x9ad)]=_0x2263da;}catch(_0x5c8e17){console[_0x30427d(0x8c0)](_0x30427d(0x3f4),_0x5c8e17),_0x2cbf35[_0x30427d(0x9ad)]=_0x30427d(0x50c);}}function setupStudentProgressListeners(){const _0x25bf2b=_0x31ab05;document['getElementById']('view-my-progress-btn')[_0x25bf2b(0x7d4)](_0x25bf2b(0x72b),showStudentProgressView),document[_0x25bf2b(0x983)](_0x25bf2b(0x541))[_0x25bf2b(0x7d4)](_0x25bf2b(0x72b),()=>{const _0x545e76=_0x25bf2b;document[_0x545e76(0x983)](_0x545e76(0x95a))[_0x545e76(0x7b1)][_0x545e76(0x9a9)](_0x545e76(0x540)),document[_0x545e76(0x983)](_0x545e76(0x817))[_0x545e76(0x7b1)][_0x545e76(0x195)]('hidden');});}async function startSkillPractice(_0x4838bc){const _0x10a41c=_0x31ab05;studentResultArea[_0x10a41c(0x7b1)][_0x10a41c(0x9a9)]('hidden'),studentQuizArea[_0x10a41c(0x9ad)]=_0x10a41c(0x406),studentQuizArea[_0x10a41c(0x7b1)]['remove'](_0x10a41c(0x540));try{const _0x2cbe5d=await getStandardizedTopic(_0x4838bc);console[_0x10a41c(0x4a9)](_0x10a41c(0x761)+_0x4838bc+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x2cbe5d+'\x22'),studentQuizArea['querySelector']('p')[_0x10a41c(0x36e)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x2cbe5d+_0x10a41c(0x194);const _0xf2fa51=collection(db,_0x10a41c(0x9ac)+appId+_0x10a41c(0x649)),_0x14524f=query(_0xf2fa51,where(_0x10a41c(0x88d),'==',_0x2cbe5d)),_0x2a98dc=await getDocs(_0x14524f);if(_0x2a98dc[_0x10a41c(0x2f9)][_0x10a41c(0xabc)]>=0x3){console[_0x10a41c(0x4a9)](_0x10a41c(0x26f)+_0x2a98dc[_0x10a41c(0x2f9)][_0x10a41c(0xabc)]+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x2cbe5d+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x363a94=_0x2a98dc[_0x10a41c(0x2f9)][_0x10a41c(0x2e0)](_0x5f5b4d=>_0x5f5b4d['data']());shuffleArray(_0x363a94);const _0x57ba0b={'topic':_0x2cbe5d,'questions':_0x363a94[_0x10a41c(0xa51)](0x0,0x3)};displaySkillPracticeDrill(_0x57ba0b);}else{console['log'](_0x10a41c(0xaaf)+_0x2cbe5d+_0x10a41c(0x9b3));const _0x4bf9ed=await generatePracticeQuestions(_0x2cbe5d);await saveDrillToPracticeBank(_0x4bf9ed,_0x2cbe5d),displaySkillPracticeDrill(_0x4bf9ed);}}catch(_0x58f18c){console['error']('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x58f18c),showMessage(_0x10a41c(0xa24)),studentQuizArea[_0x10a41c(0x7b1)][_0x10a41c(0x9a9)]('hidden'),studentResultArea['classList']['remove']('hidden');}}async function saveDrillToPracticeBank(_0x5d0f6c,_0xac3c39){const _0x4ca71d=_0x31ab05,_0x29cfcc=collection(db,'artifacts/'+appId+_0x4ca71d(0x649)),_0x25a057=writeBatch(db);_0x5d0f6c[_0x4ca71d(0x2c2)][_0x4ca71d(0x1bc)](_0x51b2d6=>{const _0x313fba=_0x4ca71d,_0x22a35d=doc(_0x29cfcc);_0x25a057[_0x313fba(0x20b)](_0x22a35d,{'topic':_0xac3c39,'questionText':_0x51b2d6['questionText'],'options':_0x51b2d6[_0x313fba(0x9b4)],'correctAnswerIndex':_0x51b2d6[_0x313fba(0x438)],'explanation':_0x51b2d6['explanation'],'createdAt':serverTimestamp()});});try{await _0x25a057[_0x4ca71d(0x24e)](),console[_0x4ca71d(0x4a9)](_0x4ca71d(0x68a)+_0x5d0f6c['questions']['length']+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x1d60bc){console[_0x4ca71d(0x8c0)](_0x4ca71d(0xa70),_0x1d60bc);}}async function getStandardizedTopic(_0x3b0cb6){const _0x4c9561=_0x31ab05,_0x466c89=_0x4c9561(0xabb)+_0x3b0cb6+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x3804bd={'type':_0x4c9561(0x6f5),'properties':{'standardTopic':{'type':'STRING'}},'required':[_0x4c9561(0x204)]};try{const _0x5e0735=await callAnalysisApi(_0x466c89,_0x3804bd);return _0x5e0735[_0x4c9561(0x204)];}catch(_0x4d04d7){return console[_0x4c9561(0x8c0)](_0x4c9561(0xa74),_0x4d04d7),_0x3b0cb6;}}async function handleGenerateEasyVersionQuiz(_0x30745a){showConfirmation('คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้',async()=>{const _0x4e5210=_0x4d4b;showMessage('AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่');try{const _0x11fc94=allQuizzes[_0x4e5210(0x606)](_0x4c3cab=>_0x4c3cab['id']===_0x30745a);if(!_0x11fc94)throw new Error(_0x4e5210(0x694));const _0x1ea12f=_0x4e5210(0x205)+JSON[_0x4e5210(0x56f)](_0x11fc94['questions'])+_0x4e5210(0x9db),_0x5cf5cc={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING'},'options':{'type':_0x4e5210(0xa49),'items':{'type':_0x4e5210(0x62a)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x4e5210(0x62a)},'explanation':{'type':_0x4e5210(0x62a)},'imageCode':{'type':_0x4e5210(0x62a)}},'required':['questionText',_0x4e5210(0x225),'explanation']},_0x174874={'type':'OBJECT','properties':{'questions':{'type':_0x4e5210(0xa49),'items':_0x5cf5cc}},'required':[_0x4e5210(0x2c2)]},_0x4bddbb=await callAnalysisApi(_0x1ea12f,_0x174874);_0x4bddbb&&_0x4bddbb['questions']&&_0x4bddbb[_0x4e5210(0x2c2)][_0x4e5210(0x1bc)](_0xa896dd=>{const _0x21a0b9=_0x4e5210;_0xa896dd[_0x21a0b9(0x60a)]&&(_0xa896dd['questionText']=_0xa896dd[_0x21a0b9(0x60a)][_0x21a0b9(0x68c)]()[_0x21a0b9(0x972)](/,$/,'')[_0x21a0b9(0x68c)]());_0xa896dd[_0x21a0b9(0x9b4)]&&Array[_0x21a0b9(0x76c)](_0xa896dd[_0x21a0b9(0x9b4)])&&(_0xa896dd[_0x21a0b9(0x9b4)]=_0xa896dd[_0x21a0b9(0x9b4)][_0x21a0b9(0x2e0)](_0x3cbbb5=>_0x3cbbb5||_0x21a0b9(0x31e)));if(_0xa896dd[_0x21a0b9(0x6bc)]){const _0x429cd2=_0xa896dd[_0x21a0b9(0x6bc)]['trim']();_0x429cd2===''||_0x429cd2[_0x21a0b9(0x46a)]()===_0x21a0b9(0x60e)||!_0x429cd2['startsWith'](_0x21a0b9(0x511))?delete _0xa896dd[_0x21a0b9(0x6bc)]:_0xa896dd['imageCode']=_0x429cd2;}});if(!_0x4bddbb||!_0x4bddbb[_0x4e5210(0x2c2)]||_0x4bddbb[_0x4e5210(0x2c2)][_0x4e5210(0xabc)]===0x0)throw new Error(_0x4e5210(0x4e0));const _0x273c89={'projectId':_0x11fc94[_0x4e5210(0x7b7)],'quizType':_0x11fc94[_0x4e5210(0x91c)],'settings':_0x11fc94[_0x4e5210(0x363)],'createdBy':_0x11fc94[_0x4e5210(0x653)],'status':'active','topic':'(ฉบับง่าย)\x20'+_0x11fc94['topic'],'questions':_0x4bddbb[_0x4e5210(0x2c2)],'createdAt':new Date()[_0x4e5210(0x340)](),'quizMode':_0x4e5210(0x9f9),'pairedQuizId':null};let _0x2dbae7;while(!![]){_0x2dbae7=Math[_0x4e5210(0x273)](0x3e8+Math['random']()*0x2328)[_0x4e5210(0x278)]();const _0x4ca6fc=await getDoc(doc(db,_0x4e5210(0x9ac)+appId+_0x4e5210(0x519),_0x2dbae7));if(!_0x4ca6fc['exists']())break;}await setDoc(doc(db,_0x4e5210(0x9ac)+appId+_0x4e5210(0x519),_0x2dbae7),_0x273c89),showMessage(_0x4e5210(0x248));}catch(_0xe7f28b){console[_0x4e5210(0x8c0)](_0x4e5210(0xa12),_0xe7f28b),showMessage(_0x4e5210(0x63c)+_0xe7f28b['message']);}});}async function generatePracticeQuestions(_0xb8c420){const _0xf887b1=_0x31ab05,_0x5a3f76=_0xf887b1(0x559)+_0xb8c420+_0xf887b1(0x9af)+simpleMathPrompt+_0xf887b1(0x545),_0x32b6b7={'type':_0xf887b1(0x6f5),'properties':{'questionText':{'type':_0xf887b1(0x62a)},'options':{'type':_0xf887b1(0xa49),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0xf887b1(0x62a)}},'required':[_0xf887b1(0x60a),_0xf887b1(0x9b4),'correctAnswerIndex',_0xf887b1(0x468)]},_0xcc73de={'type':_0xf887b1(0x6f5),'properties':{'topic':{'type':_0xf887b1(0x62a)},'questions':{'type':_0xf887b1(0xa49),'items':_0x32b6b7}},'required':[_0xf887b1(0x88d),'questions']};return await callAnalysisApi(_0x5a3f76,_0xcc73de);}function displayLessonPlan(_0xc22b30,_0x8d340){const _0x54f383=_0x31ab05,_0x37ea97=_0x54f383(0x2ff)+_0x8d340[_0x54f383(0x88d)]+_0x54f383(0x6a4)+_0xc22b30[_0x54f383(0x43f)][_0x54f383(0x2e0)](_0x38cbae=>_0x54f383(0x8a0)+_0x38cbae+_0x54f383(0x1c7))[_0x54f383(0x62f)]('')+_0x54f383(0x5ee)+_0xc22b30['teachingContent']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0xc22b30[_0x54f383(0x282)]['map'](_0x355c5e=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x355c5e[_0x54f383(0x4c1)]+_0x54f383(0x465)+_0x355c5e[_0x54f383(0x311)]+_0x54f383(0x547))[_0x54f383(0x62f)]('')+_0x54f383(0x64c);document[_0x54f383(0x983)](_0x54f383(0x93c))[_0x54f383(0x36e)]=_0x54f383(0x7a0)+_0x8d340['topic'],document[_0x54f383(0x983)](_0x54f383(0x628))[_0x54f383(0x9ad)]=_0x37ea97,document['getElementById'](_0x54f383(0x711))['classList'][_0x54f383(0x195)]('hidden');if(window['MathJax'])MathJax[_0x54f383(0x1de)]();}function displaySkillPracticeDrill(_0x27a223){const _0x4b85bf=_0x31ab05;let _0x3ec269=0x0;const _0x28227c=_0x27a223[_0x4b85bf(0x2c2)],_0x599b2f=()=>{const _0x46054f=_0x4b85bf,_0x520cff=_0x28227c[_0x3ec269],_0x597fc5=_0x46054f(0x29a)+(_0x3ec269+0x1)+_0x46054f(0x47d)+_0x28227c['length']+_0x46054f(0x5b0)+_0x520cff[_0x46054f(0x60a)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x520cff[_0x46054f(0x9b4)][_0x46054f(0x2e0)]((_0x123077,_0x1162bd)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x1162bd+_0x46054f(0x453)+_0x1162bd+_0x46054f(0x1c3)+_0x1162bd+'\x22>'+_0x123077+_0x46054f(0x43b))[_0x46054f(0x62f)]('')+_0x46054f(0x2de);studentQuizArea[_0x46054f(0x9ad)]=_0x597fc5;if(window[_0x46054f(0x2cb)])MathJax[_0x46054f(0x1de)]([studentQuizArea]);document[_0x46054f(0x983)](_0x46054f(0x5bb))['addEventListener'](_0x46054f(0x72b),async()=>{const _0x27c222=_0x46054f,_0x3a31cc=await getHintForQuestion(_0x520cff[_0x27c222(0x60a)]);showMessage(_0x3a31cc);}),document['getElementById'](_0x46054f(0x9bc))[_0x46054f(0x7d4)]('click',()=>{const _0x4365b7=_0x46054f,_0x3fd20c=document[_0x4365b7(0x6d9)](_0x4365b7(0x2b7));if(!_0x3fd20c){showMessage(_0x4365b7(0x2dc));return;}const _0x42cc8b=document[_0x4365b7(0x983)](_0x4365b7(0x82c)),_0x509ebf=parseInt(_0x3fd20c[_0x4365b7(0x3eb)])===_0x520cff[_0x4365b7(0x438)];_0x509ebf?(_0x42cc8b[_0x4365b7(0x906)]=_0x4365b7(0x8d7),_0x42cc8b[_0x4365b7(0x9ad)]=_0x4365b7(0x95b)+_0x520cff[_0x4365b7(0x468)]):(_0x42cc8b['className']='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x42cc8b[_0x4365b7(0x9ad)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x520cff[_0x4365b7(0x468)]);_0x42cc8b[_0x4365b7(0x7b1)][_0x4365b7(0x195)](_0x4365b7(0x540));if(window[_0x4365b7(0x2cb)])MathJax['typesetPromise']([_0x42cc8b]);document[_0x4365b7(0x983)]('check-answer-btn')[_0x4365b7(0x7b1)][_0x4365b7(0x9a9)](_0x4365b7(0x540)),document[_0x4365b7(0x983)](_0x4365b7(0x5bb))[_0x4365b7(0x7b1)][_0x4365b7(0x9a9)](_0x4365b7(0x540)),document['getElementById']('next-drill-btn')[_0x4365b7(0x7b1)][_0x4365b7(0x195)](_0x4365b7(0x540));}),document[_0x46054f(0x983)]('next-drill-btn')[_0x46054f(0x7d4)](_0x46054f(0x72b),()=>{const _0x129d90=_0x46054f;_0x3ec269++,_0x3ec269<_0x28227c[_0x129d90(0xabc)]?_0x599b2f():(studentQuizArea[_0x129d90(0x9ad)]=_0x129d90(0x5f4),document[_0x129d90(0x983)](_0x129d90(0x8e2))[_0x129d90(0x7d4)](_0x129d90(0x72b),()=>{const _0x3a73af=_0x129d90;studentQuizArea[_0x3a73af(0x7b1)][_0x3a73af(0x9a9)](_0x3a73af(0x540)),studentResultArea[_0x3a73af(0x7b1)][_0x3a73af(0x195)](_0x3a73af(0x540));}));});};_0x599b2f();}async function getHintForQuestion(_0x2d3d99){const _0x5bb48f=_0x31ab05,_0x592662=_0x5bb48f(0x967)+_0x2d3d99+_0x5bb48f(0xac5),_0x126d41={'type':_0x5bb48f(0x6f5),'properties':{'hint':{'type':'STRING'}},'required':['hint']};try{const _0x21161b=await callAnalysisApi(_0x592662,_0x126d41);return _0x21161b[_0x5bb48f(0x221)];}catch(_0x20e7e4){return console[_0x5bb48f(0x8c0)]('Failed\x20to\x20get\x20hint:',_0x20e7e4),_0x5bb48f(0x589);}}async function extractTextFromPdf(_0x57a9f5){const _0x5430b5=_0x31ab05;pdfjsLib[_0x5430b5(0x55b)]['workerSrc']='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x4e4568=await _0x57a9f5[_0x5430b5(0x66f)](),_0x5714fd=await pdfjsLib[_0x5430b5(0x5df)](_0x4e4568)['promise'],_0x125b17=_0x5714fd[_0x5430b5(0x7ea)];let _0x88ee99='';for(let _0x5ebfdf=0x1;_0x5ebfdf<=_0x125b17;_0x5ebfdf++){const _0x1c3b96=await _0x5714fd['getPage'](_0x5ebfdf),_0x1a8599=await _0x1c3b96[_0x5430b5(0x98f)](),_0x2883bd=_0x1a8599[_0x5430b5(0x9de)][_0x5430b5(0x2e0)](_0x109980=>_0x109980[_0x5430b5(0x391)])['join']('\x20');_0x88ee99+=_0x2883bd+'\x0a\x0a';}return _0x88ee99;}async function handleGenerateFromBlueprint(){const _0xf4980=_0x31ab05,_0x4a4ed1=document[_0xf4980(0x983)](_0xf4980(0x935)),_0x2a1ab7=document[_0xf4980(0x983)](_0xf4980(0x9e2)),_0x187823=_0x4a4ed1[_0xf4980(0xa94)][0x0],_0x7b8761=_0x2a1ab7['files'][_0xf4980(0xabc)]>0x0?_0x2a1ab7['files'][0x0]:null;if(!_0x187823){showMessage(_0xf4980(0x7c7));return;}const _0x1bad33=document[_0xf4980(0x983)](_0xf4980(0x51c)),_0x4344b2=document[_0xf4980(0x983)](_0xf4980(0x828)),_0x494258=document[_0xf4980(0x983)]('generated-quiz-container'),_0x4fe759=document[_0xf4980(0x983)](_0xf4980(0x564));_0x4fe759[_0xf4980(0x383)]=!![],document[_0xf4980(0x983)](_0xf4980(0x462))[_0xf4980(0x7b1)]['remove']('hidden'),_0x494258['innerHTML']='',_0x1bad33[_0xf4980(0x7b1)][_0xf4980(0x195)](_0xf4980(0x540));try{_0x4344b2[_0xf4980(0x36e)]=_0xf4980(0x5dd);const _0x1ea482=await extractTextFromPdf(_0x187823);if(!_0x1ea482[_0xf4980(0x68c)]())throw new Error('ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย');let _0x6010ca='';_0x7b8761&&(_0x4344b2[_0xf4980(0x36e)]=_0xf4980(0x9f8),_0x6010ca=await extractTextFromPdf(_0x7b8761));_0x4344b2[_0xf4980(0x36e)]=_0xf4980(0x30c);const _0x4b87cb=document[_0xf4980(0x983)]('include-images-checkbox')[_0xf4980(0x616)],_0x1ca48f=_0x4b87cb?_0xf4980(0x8ee):'',_0x49923c=_0x6010ca?_0xf4980(0x6e4)+_0x6010ca+_0xf4980(0x43e):'',_0x6fa23b=_0xf4980(0x915)+(_0x6010ca?_0xf4980(0x773):'')+_0xf4980(0x3e0)+_0x1ea482+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x49923c+_0xf4980(0x4f9)+_0x1ca48f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0xf4980(0x18c),_0xf8f4f4={'type':_0xf4980(0x6f5),'properties':{'questionText':{'type':_0xf4980(0x62a)},'questionType':{'type':_0xf4980(0x62a),'enum':['multiple_choice',_0xf4980(0x2f3)]},'options':{'type':_0xf4980(0xa49),'items':{'type':_0xf4980(0x62a)}},'correctAnswerIndex':{'type':_0xf4980(0x1e3)},'idealAnswer':{'type':_0xf4980(0x62a)},'explanation':{'type':_0xf4980(0x62a)},'imageCode':{'type':_0xf4980(0x62a)}},'required':['questionText',_0xf4980(0x225),'explanation']},_0x4e8f57={'type':_0xf4980(0x6f5),'properties':{'topic':{'type':_0xf4980(0x62a)},'questions':{'type':_0xf4980(0xa49),'items':_0xf8f4f4}},'required':[_0xf4980(0x88d),_0xf4980(0x2c2)]};await handleApiCall(_0x6fa23b,_0xf4980(0x429),_0x4e8f57);}catch(_0x962304){console[_0xf4980(0x8c0)](_0xf4980(0x8cb),_0x962304),showMessage(_0xf4980(0x63c)+_0x962304['message']),_0x494258[_0xf4980(0x9ad)]=_0xf4980(0x387);}finally{_0x1bad33[_0xf4980(0x7b1)]['add'](_0xf4980(0x540)),_0x4fe759[_0xf4980(0x383)]=![];}}function renderAdminSyncDashboard(_0x48733b,_0x3fa9f8){const _0x3b2067=_0x31ab05,_0x1b0cc2=Object[_0x3b2067(0x33d)](_0x48733b['players']||{}),_0x5dc1a2=_0x1b0cc2[_0x3b2067(0xabc)],_0xe6e244=[..._0x1b0cc2][_0x3b2067(0x7ab)]((_0x777c38,_0x3edc6b)=>_0x3edc6b[_0x3b2067(0x941)]-_0x777c38[_0x3b2067(0x941)]),_0x1fe574=_0x48733b['currentQuestionIndex'];let _0x38b196='';const _0x44ec9e=_0x48733b[_0x3b2067(0x25c)]['questions'],_0x5804b0=_0x44ec9e[_0x1fe574],_0x4ce37d=_0x4543b2=>String[_0x3b2067(0x296)](0x41+_0x4543b2);if(_0x5804b0&&_0x5804b0[_0x3b2067(0x9b4)]&&_0x5804b0['correctAnswerIndex']!==undefined){const _0x468edc=_0x5804b0[_0x3b2067(0x9b4)][_0x5804b0[_0x3b2067(0x438)]];_0x38b196=_0x3b2067(0x20c)+(_0x1fe574+0x1)+_0x3b2067(0x974)+_0x4ce37d(_0x5804b0[_0x3b2067(0x438)])+'.\x20'+_0x468edc+_0x3b2067(0x964);}const _0x3fc1a1=_0xe6e244[_0x3b2067(0x2e0)](_0x1c2b2c=>{const _0xf91b00=_0x3b2067;let _0x2f94b6=![];if(_0x1c2b2c[_0xf91b00(0x646)]&&_0x1fe574!==-0x1){const _0x166444=_0x1c2b2c[_0xf91b00(0x646)][_0xf91b00(0x606)](_0x1941e0=>_0x1941e0[_0xf91b00(0x543)]===_0x1fe574);_0x166444&&_0x166444[_0xf91b00(0x22d)]&&(_0x2f94b6=!![]);}const _0x49c92c=_0x2f94b6?_0xf91b00(0xa1e):_0xf91b00(0x968);return _0xf91b00(0x8f5)+_0x49c92c+_0xf91b00(0x5f9)+_0x1c2b2c[_0xf91b00(0x73f)]+_0xf91b00(0x597)+_0x1c2b2c[_0xf91b00(0x941)]+_0xf91b00(0x809);})[_0x3b2067(0x62f)](''),_0x2f3ce3=_0x44ec9e[_0x3b2067(0x2e0)]((_0x381ace,_0x522708)=>{const _0x3eaf73=_0x3b2067,_0x42f429=_0x1b0cc2['filter'](_0x251e79=>_0x251e79[_0x3eaf73(0x646)]&&_0x251e79[_0x3eaf73(0x646)]['find'](_0x2a0d0f=>_0x2a0d0f[_0x3eaf73(0x543)]===_0x522708&&_0x2a0d0f[_0x3eaf73(0x22d)]))['length'],_0x41cf82=_0x522708===_0x1fe574,_0x5269a3=_0x41cf82?_0x3eaf73(0x8f1):_0x3eaf73(0x723);return _0x3eaf73(0x4ff)+_0x5269a3+_0x3eaf73(0x9b1)+(_0x522708+0x1)+_0x3eaf73(0x21d)+_0x42f429+_0x3eaf73(0x47d)+_0x5dc1a2+_0x3eaf73(0x4ef);})[_0x3b2067(0x62f)]('');let _0x577d65='',_0x49475d='';if(_0x3fa9f8){const _0x55a286=_0x48733b[_0x3b2067(0x27b)]>=_0x44ec9e['length']-0x1;_0x577d65=_0x3b2067(0x844)+(_0x55a286?_0x3b2067(0x762):_0x3b2067(0x2aa))+_0x3b2067(0x259),_0x49475d=_0x3b2067(0x585);}const _0x5b0ae4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x48733b[_0x3b2067(0x25c)]['topic']+_0x3b2067(0x5aa)+_0x49475d+_0x3b2067(0x796)+_0x38b196+_0x3b2067(0x7f1)+(_0x3fc1a1||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x3b2067(0x665)+_0x2f3ce3+_0x3b2067(0xa95)+(_0x3fa9f8?_0x3b2067(0xa5f)+_0x577d65+'</div>':'')+_0x3b2067(0x613);liveGameView[_0x3b2067(0x9ad)]=_0x5b0ae4;if(window[_0x3b2067(0x2cb)]){const _0x3c7551=document[_0x3b2067(0x983)](_0x3b2067(0x251));_0x3c7551&&MathJax[_0x3b2067(0x1de)]([_0x3c7551]);}if(_0x3fa9f8){document['getElementById'](_0x3b2067(0x447))[_0x3b2067(0x488)]=async()=>{const _0x1bd200=_0x3b2067,_0x34b837=doc(db,_0x1bd200(0x9ac)+appId+_0x1bd200(0x86c),currentLiveGameId),_0x2d5697=_0x48733b[_0x1bd200(0x27b)]+0x1;if(_0x2d5697<_0x44ec9e[_0x1bd200(0xabc)]){const _0x15385b={};Object['keys'](_0x48733b[_0x1bd200(0x72f)])[_0x1bd200(0x1bc)](_0xf32ef0=>{const _0x3f7535=_0x1bd200;_0x15385b['players.'+_0xf32ef0+_0x3f7535(0x550)]=![],_0x15385b[_0x3f7535(0x4e3)+_0xf32ef0+_0x3f7535(0x525)]=null;}),await updateDoc(_0x34b837,{..._0x15385b,'status':'question','currentQuestionIndex':_0x2d5697,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x34b837,{'status':_0x1bd200(0x789)});};const _0x5065bb=document[_0x3b2067(0x983)](_0x3b2067(0x635));_0x5065bb&&(_0x5065bb['onclick']=()=>{const _0x2be800=_0x3b2067;showConfirmation(_0x2be800(0x7e5),async()=>{const _0x929004=_0x2be800,_0x176a91=doc(db,_0x929004(0x9ac)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x176a91,{'status':_0x929004(0x789)});});});}}async function handleGenerateParallelFromBank(_0x73bb48){const _0x1330d4=_0x31ab05;switchProjectTab(_0x1330d4(0x6f8));const _0x558b99=document[_0x1330d4(0x983)]('loader'),_0x35a5c5=document[_0x1330d4(0x983)](_0x1330d4(0x828)),_0x3988f9=document[_0x1330d4(0x983)]('generated-quiz-container');document[_0x1330d4(0x983)](_0x1330d4(0x462))[_0x1330d4(0x7b1)][_0x1330d4(0x195)](_0x1330d4(0x540)),_0x3988f9[_0x1330d4(0x9ad)]='',_0x558b99[_0x1330d4(0x7b1)][_0x1330d4(0x195)](_0x1330d4(0x540)),_0x35a5c5['textContent']=_0x1330d4(0x847)+_0x73bb48[_0x1330d4(0x88d)]+_0x1330d4(0x357);try{const _0x46d2db=_0x73bb48[_0x1330d4(0x2c2)][_0x1330d4(0x2e0)]((_0x558ff5,_0x165ffd)=>{const _0x2e3274=_0x1330d4;let _0x1ab5f6=_0x165ffd+0x1+'.\x20'+(_0x558ff5[_0x2e3274(0x60a)]||_0x558ff5[_0x2e3274(0x2c1)])+'\x0a';if(_0x558ff5['options'])_0x1ab5f6+=_0x558ff5[_0x2e3274(0x9b4)]['map']((_0x56589e,_0x2ad6af)=>_0x2e3274(0x5b9)+(_0x2ad6af===_0x558ff5[_0x2e3274(0x438)]?_0x2e3274(0x192):'')+'\x20'+_0x56589e)[_0x2e3274(0x62f)]('\x0a');else _0x558ff5[_0x2e3274(0x980)]&&(_0x1ab5f6+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x558ff5[_0x2e3274(0x980)]);return _0x1ab5f6;})[_0x1330d4(0x62f)]('\x0a\x0a');_0x35a5c5[_0x1330d4(0x36e)]=_0x1330d4(0x369);const _0x425131=_0x73bb48['questions'][_0x1330d4(0xabc)],_0xfe82b0=_0x1330d4(0x275)+_0x73bb48[_0x1330d4(0x88d)]+_0x1330d4(0x5af)+_0x425131+_0x1330d4(0x2f8)+_0x46d2db+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**'+_0x425131+_0x1330d4(0x91e)+simpleMathPrompt+_0x1330d4(0x18c),_0x698c36={'type':'OBJECT','properties':{'questionText':{'type':_0x1330d4(0x62a)},'questionType':{'type':'STRING','enum':[_0x1330d4(0x373),_0x1330d4(0x2f3),_0x1330d4(0x486),_0x1330d4(0x729)]},'options':{'type':_0x1330d4(0xa49),'items':{'type':_0x1330d4(0x62a)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x1330d4(0x62a)},'correctAnswer':{'type':_0x1330d4(0x22c)},'stem':{'type':_0x1330d4(0x62a)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x1330d4(0xa49),'items':{'type':_0x1330d4(0x62a)}},'explanation':{'type':_0x1330d4(0x62a)},'imageCode':{'type':'STRING'}},'required':[_0x1330d4(0x60a),_0x1330d4(0x225),_0x1330d4(0x468)]},_0x467e9c={'type':_0x1330d4(0x6f5),'properties':{'topic':{'type':_0x1330d4(0x62a)},'questions':{'type':_0x1330d4(0xa49),'items':_0x698c36}},'required':[_0x1330d4(0x88d),'questions']},_0x2f08e4=await callAnalysisApi(_0xfe82b0,_0x467e9c);_0x2f08e4[_0x1330d4(0x2c2)][_0x1330d4(0xabc)]>_0x425131&&(_0x2f08e4[_0x1330d4(0x2c2)]=_0x2f08e4[_0x1330d4(0x2c2)][_0x1330d4(0xa51)](0x0,_0x425131)),_0x2f08e4[_0x1330d4(0x88d)]=_0x1330d4(0x54f)+_0x73bb48[_0x1330d4(0x88d)],_0x2f08e4[_0x1330d4(0x91c)]=_0x73bb48['quizType'],currentQuizData=_0x2f08e4,displayGeneratedQuiz(_0x2f08e4),document[_0x1330d4(0x983)]('manage-tab-content')[_0x1330d4(0x5bd)]({'behavior':'smooth'});}catch(_0x3c74b9){console[_0x1330d4(0x8c0)](_0x1330d4(0x5ef),_0x3c74b9),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3c74b9[_0x1330d4(0xa8c)]),_0x3988f9[_0x1330d4(0x9ad)]=_0x1330d4(0x5a7);}finally{_0x558b99[_0x1330d4(0x7b1)][_0x1330d4(0x9a9)](_0x1330d4(0x540));}}async function handleGenerateParallelPostTest(_0x598d61){const _0x240d0c=_0x31ab05,_0x2bcbc3=document[_0x240d0c(0x983)](_0x240d0c(0x8ae)),_0x280c41=document['getElementById'](_0x240d0c(0x552));_0x280c41[_0x240d0c(0x7b1)][_0x240d0c(0x9a9)](_0x240d0c(0x540));const _0x1afbe7=_0x240d0c(0x916);_0x2bcbc3[_0x240d0c(0xa88)](_0x240d0c(0x888),_0x1afbe7);try{const _0x2c39d0=_0x598d61[_0x240d0c(0x2c2)][_0x240d0c(0x2e0)]((_0x32c6b2,_0x2c508d)=>{const _0x2f064b=_0x240d0c;let _0x5e5cef=_0x2c508d+0x1+'.\x20'+(_0x32c6b2[_0x2f064b(0x60a)]||_0x32c6b2[_0x2f064b(0x2c1)]);if(_0x32c6b2[_0x2f064b(0x9b4)])_0x5e5cef+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x32c6b2[_0x2f064b(0x9b4)][_0x2f064b(0x62f)](',\x20');return _0x5e5cef;})[_0x240d0c(0x62f)]('\x0a\x0a'),_0x3a86ec='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x598d61[_0x240d0c(0x88d)]+_0x240d0c(0x297)+_0x2c39d0+_0x240d0c(0x8f0)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4736f4={'type':_0x240d0c(0x6f5),'properties':{'topic':{'type':_0x240d0c(0x62a)},'questions':{'type':'ARRAY','items':{'type':_0x240d0c(0x6f5),'properties':{'questionText':{'type':_0x240d0c(0x62a)},'questionType':{'type':'STRING'},'options':{'type':_0x240d0c(0xa49),'items':{'type':_0x240d0c(0x62a)}},'correctAnswerIndex':{'type':_0x240d0c(0x1e3)},'idealAnswer':{'type':_0x240d0c(0x62a)},'explanation':{'type':_0x240d0c(0x62a)}},'required':[_0x240d0c(0x60a),'explanation']}}},'required':[_0x240d0c(0x88d),'questions']},_0x18f918=await callAnalysisApi(_0x3a86ec,_0x4736f4),_0x20271e=_0x598d61[_0x240d0c(0x88d)]['replace'](_0x240d0c(0x9be),'')['trim'](),_0x48f0f0=_0x240d0c(0x82f)+_0x20271e,_0x454cb7={..._0x18f918,'topic':_0x48f0f0,'quizType':_0x598d61['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x240d0c(0x340)](),'status':_0x240d0c(0x799),'settings':_0x598d61[_0x240d0c(0x363)],'quizMode':_0x240d0c(0x8d6),'pairedQuizId':_0x598d61['id']};let _0x2d9852;while(!![]){_0x2d9852=Math['floor'](0x3e8+Math[_0x240d0c(0x4aa)]()*0x2328)[_0x240d0c(0x278)]();const _0x344aed=await getDoc(doc(db,'artifacts/'+appId+_0x240d0c(0x519),_0x2d9852));if(!_0x344aed[_0x240d0c(0x9da)]())break;}await setDoc(doc(db,_0x240d0c(0x9ac)+appId+'/public/data/quizzes',_0x2d9852),_0x454cb7);const _0x1fac9d=doc(db,_0x240d0c(0x9ac)+appId+_0x240d0c(0x519),_0x598d61['id']);await updateDoc(_0x1fac9d,{'pairedQuizId':_0x2d9852}),showMessage(_0x240d0c(0x378));}catch(_0x3eb8bc){console[_0x240d0c(0x8c0)]('Error\x20generating\x20parallel\x20post-test:',_0x3eb8bc),showMessage(_0x240d0c(0x63c)+_0x3eb8bc[_0x240d0c(0xa8c)]);}finally{const _0xd7f377=document[_0x240d0c(0x983)](_0x240d0c(0x1cc));if(_0xd7f377)_0xd7f377[_0x240d0c(0x195)]();_0x280c41[_0x240d0c(0x7b1)]['remove']('hidden');}}async function handleGenerateParallelTest(){const _0x429520=_0x31ab05,_0x4a967f=document[_0x429520(0x983)](_0x429520(0x1df)),_0x419032=_0x4a967f[_0x429520(0xa94)][0x0];if(!_0x419032){showMessage(_0x429520(0x69d));return;}const _0x485a6b=document[_0x429520(0x983)](_0x429520(0x51c)),_0x3402be=document[_0x429520(0x983)](_0x429520(0x828)),_0xd7db46=document[_0x429520(0x983)]('generated-quiz-container'),_0x3e0704=document[_0x429520(0x983)](_0x429520(0xab4));_0x3e0704[_0x429520(0x383)]=!![],document[_0x429520(0x983)](_0x429520(0x462))[_0x429520(0x7b1)][_0x429520(0x195)](_0x429520(0x540)),_0xd7db46['innerHTML']='',_0x485a6b['classList'][_0x429520(0x195)](_0x429520(0x540)),_0x3402be[_0x429520(0x36e)]='กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...';try{const _0x2fc498=await extractTextFromPdf(_0x419032);if(!_0x2fc498[_0x429520(0x68c)]())throw new Error('ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย');_0x3402be[_0x429520(0x36e)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x3d17c4=document[_0x429520(0x983)](_0x429520(0x542))[_0x429520(0x616)],_0xa204ff=_0x3d17c4?_0x429520(0x8ee):'',_0x238766=_0x429520(0x1ff)+_0x2fc498+_0x429520(0x869)+_0xa204ff+_0x429520(0x5f0)+simpleMathPrompt+_0x429520(0x18c),_0x283fd6={'type':_0x429520(0x6f5),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x429520(0x62a),'enum':[_0x429520(0x373),_0x429520(0x2f3)]},'options':{'type':_0x429520(0xa49),'items':{'type':_0x429520(0x62a)}},'correctAnswerIndex':{'type':_0x429520(0x1e3)},'idealAnswer':{'type':_0x429520(0x62a)},'explanation':{'type':_0x429520(0x62a)},'imageCode':{'type':_0x429520(0x62a)}},'required':[_0x429520(0x60a),_0x429520(0x225),_0x429520(0x468)]},_0x768e02={'type':_0x429520(0x6f5),'properties':{'topic':{'type':_0x429520(0x62a)},'questions':{'type':_0x429520(0xa49),'items':_0x283fd6}},'required':['topic','questions']};await handleApiCall(_0x238766,_0x429520(0x56a),_0x768e02);}catch(_0x3c1243){console[_0x429520(0x8c0)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x3c1243),showMessage(_0x429520(0x63c)+_0x3c1243[_0x429520(0xa8c)]),_0xd7db46[_0x429520(0x9ad)]=_0x429520(0x5a7);}finally{_0x485a6b['classList'][_0x429520(0x9a9)](_0x429520(0x540)),_0x3e0704[_0x429520(0x383)]=![];}}async function handleRegenerateQuestionInEditor(_0x14c3f4){const _0x29ade2=_0x31ab05;if(currentEditingQuizData===null)return;const _0x414044=document[_0x29ade2(0x6d9)](_0x29ade2(0x364)+_0x14c3f4+'\x22]');_0x414044&&(_0x414044[_0x29ade2(0x9ad)]=_0x29ade2(0x481));const _0x3367cf=currentEditingQuizData[_0x29ade2(0x2c2)][_0x14c3f4],_0x6f6695=currentEditingQuizData[_0x29ade2(0x88d)],_0x1c48ce=_0x3367cf[_0x29ade2(0x225)],_0x400192={'type':_0x29ade2(0x6f5),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x29ade2(0x62a)}},'correctAnswerIndex':{'type':_0x29ade2(0x1e3)},'explanation':{'type':_0x29ade2(0x62a)}},'required':[_0x29ade2(0x60a),_0x29ade2(0x9b4),_0x29ade2(0x438),_0x29ade2(0x468)]},_0x28ebcd={'type':_0x29ade2(0x6f5),'properties':{'questionText':{'type':_0x29ade2(0x62a)},'idealAnswer':{'type':_0x29ade2(0x62a)},'explanation':{'type':_0x29ade2(0x62a)}},'required':[_0x29ade2(0x60a),_0x29ade2(0x980),_0x29ade2(0x468)]};let _0x1d5953,_0x426297='';_0x1c48ce==='multiple_choice'?(_0x1d5953=_0x400192,_0x426297=_0x29ade2(0x8d4)):(_0x1d5953=_0x28ebcd,_0x426297='แบบเติมคำตอบ');const _0x39851d='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x6f6695+_0x29ade2(0x474)+_0x426297+_0x29ade2(0x318)+(_0x3367cf[_0x29ade2(0x60a)]||_0x3367cf[_0x29ade2(0x2c1)])+_0x29ade2(0xa29)+simpleMathPrompt;try{const _0x2ba159=await callAnalysisApi(_0x39851d,_0x1d5953);currentEditingQuizData[_0x29ade2(0x2c2)][_0x14c3f4]={..._0x3367cf,..._0x2ba159},renderQuizEditor(currentEditingQuizData);}catch(_0x3a9eb5){console[_0x29ade2(0x8c0)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x3a9eb5),showMessage(_0x29ade2(0x93d)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x1c7a79=_0x31ab05,_0x46a550=document[_0x1c7a79(0x983)]('mode-switcher-btn');currentMode===_0x1c7a79(0x206)?(adminPasswordModal[_0x1c7a79(0x7b1)][_0x1c7a79(0x195)](_0x1c7a79(0x540)),document['getElementById']('admin-password-input')[_0x1c7a79(0x45e)]()):(currentMode=_0x1c7a79(0x206),_0x46a550[_0x1c7a79(0x9ad)]=_0x1c7a79(0x8e8),_0x46a550[_0x1c7a79(0x63d)]=_0x1c7a79(0xa97),showView('student'));}function handleAdminLogin(){const _0xa78377=_0x31ab05,_0x15a58e=document[_0xa78377(0x983)]('admin-password-input'),_0x4995ce=document[_0xa78377(0x983)]('password-error-msg');if(_0x15a58e[_0xa78377(0x3eb)]==='27411472'){adminPasswordModal[_0xa78377(0x7b1)]['add'](_0xa78377(0x540)),_0x15a58e[_0xa78377(0x3eb)]='',_0x4995ce['classList'][_0xa78377(0x9a9)](_0xa78377(0x540)),currentMode='admin';const _0x1b486d=document[_0xa78377(0x983)](_0xa78377(0x96b));_0x1b486d['innerHTML']=_0xa78377(0x19f),_0x1b486d[_0xa78377(0x63d)]=_0xa78377(0x99a),showView(_0xa78377(0x3a8));}else _0x4995ce['classList'][_0xa78377(0x195)]('hidden'),_0x15a58e[_0xa78377(0x3eb)]='';}function switchProjectTab(_0x42c4bc){const _0x5b7fb6=_0x31ab05;[_0x5b7fb6(0x6f8),_0x5b7fb6(0x623),'leaderboard'][_0x5b7fb6(0x1bc)](_0xe1fccb=>{const _0xd1da56=_0x5b7fb6;document[_0xd1da56(0x983)](_0xe1fccb+_0xd1da56(0x769))[_0xd1da56(0x7b1)][_0xd1da56(0x195)](_0xd1da56(0x799)),document['getElementById'](_0xe1fccb+_0xd1da56(0x5d3))[_0xd1da56(0x7b1)][_0xd1da56(0x9a9)](_0xd1da56(0x540));}),document[_0x5b7fb6(0x983)](_0x42c4bc+'-tab')['classList'][_0x5b7fb6(0x9a9)](_0x5b7fb6(0x799)),document[_0x5b7fb6(0x983)](_0x42c4bc+_0x5b7fb6(0x5d3))[_0x5b7fb6(0x7b1)][_0x5b7fb6(0x195)]('hidden');}function switchQuizDetailTab(_0x3b20d7){const _0x29b624=_0x31ab05,_0x2c498a={'analytics':{'btn':_0x29b624(0xa1a),'content':_0x29b624(0x39e)},'scores':{'btn':_0x29b624(0x684),'content':_0x29b624(0x231)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x29b624(0x403)},'behavior-log':{'btn':_0x29b624(0xa3b),'content':_0x29b624(0x523)}};for(const _0x46fec0 in _0x2c498a){document['getElementById'](_0x2c498a[_0x46fec0][_0x29b624(0x8fb)])[_0x29b624(0x7b1)][_0x29b624(0x195)]('active'),document[_0x29b624(0x983)](_0x2c498a[_0x46fec0][_0x29b624(0x66d)])[_0x29b624(0x7b1)][_0x29b624(0x9a9)](_0x29b624(0x540));}document[_0x29b624(0x983)](_0x2c498a[_0x3b20d7][_0x29b624(0x8fb)])[_0x29b624(0x7b1)]['add']('active'),document[_0x29b624(0x983)](_0x2c498a[_0x3b20d7][_0x29b624(0x66d)])[_0x29b624(0x7b1)]['remove'](_0x29b624(0x540));}function showMessage(_0x5dcea0,_0x2845b5=null){const _0x5d2735=_0x31ab05;modalMessage['textContent']=_0x5dcea0,modalConfirmAction=_0x2845b5,messageModal[_0x5d2735(0x7b1)]['remove'](_0x5d2735(0x540));}function showConfirmation(_0x8ebd67,_0x6514b1){const _0x1874c=_0x31ab05;document[_0x1874c(0x983)](_0x1874c(0x43c))[_0x1874c(0x36e)]=_0x8ebd67,document['getElementById'](_0x1874c(0x434))[_0x1874c(0x6d9)]('h3')[_0x1874c(0x36e)]='ยืนยันการกระทำ',confirmAction=_0x6514b1,confirmationModal['classList'][_0x1874c(0x195)](_0x1874c(0x540));}function listenForProjects(){const _0x10cd7c=_0x31ab05,_0x1a6b0c=doc(db,_0x10cd7c(0x5a5),_0x10cd7c(0x375));onSnapshot(_0x1a6b0c,_0x4174b2=>{const _0x5b0264=_0x10cd7c;if(_0x4174b2[_0x5b0264(0x9da)]()){const _0x48cd1b=_0x4174b2[_0x5b0264(0x943)]();globalDashboardSettings[_0x5b0264(0x7c4)]=_0x48cd1b[_0x5b0264(0x7c4)]||_0x5b0264(0x45c),globalDashboardSettings[_0x5b0264(0x5de)]=_0x48cd1b[_0x5b0264(0x5de)]||[],globalDashboardSettings[_0x5b0264(0x99d)]=_0x48cd1b[_0x5b0264(0x99d)]||[];}allProjects[_0x5b0264(0xabc)]>0x0&&renderProjects();});const _0x44a253=collection(db,'artifacts/'+appId+_0x10cd7c(0x5e8));unsubscribeProjectsListener=onSnapshot(_0x44a253,_0x476c63=>{const _0xeab86e=_0x10cd7c;allProjects=_0x476c63[_0xeab86e(0x2f9)][_0xeab86e(0x2e0)](_0x363357=>({'id':_0x363357['id'],..._0x363357[_0xeab86e(0x943)]()})),renderProjects();},_0x51bfa3=>{const _0x25ceea=_0x10cd7c;console[_0x25ceea(0x8c0)]('Error\x20listening\x20for\x20projects:',_0x51bfa3),showMessage(_0x25ceea(0x3f1));});}function showColorPalette(_0x3cb35e,_0x532878){const _0x4097bd=_0x31ab05;document[_0x4097bd(0x279)](_0x4097bd(0x791))[_0x4097bd(0x1bc)](_0x3b1199=>_0x3b1199[_0x4097bd(0x195)]());const _0x3d0c3f=[_0x4097bd(0x647),'#FEE2E2',_0x4097bd(0x291),_0x4097bd(0xa05),_0x4097bd(0x28b),_0x4097bd(0x956),_0x4097bd(0x2fc),_0x4097bd(0x32a),'#E5E7EB'],_0x23f0db=document[_0x4097bd(0x394)]('div');_0x23f0db['className']=_0x4097bd(0x61f),_0x3d0c3f['forEach'](_0x5cafb7=>{const _0x36b18d=_0x4097bd,_0x2316a9=document[_0x36b18d(0x394)](_0x36b18d(0x237));_0x2316a9[_0x36b18d(0x906)]=_0x36b18d(0x536),_0x2316a9[_0x36b18d(0x58d)][_0x36b18d(0x2e5)]=_0x5cafb7,_0x2316a9[_0x36b18d(0x7d4)](_0x36b18d(0x72b),()=>{const _0x237642=_0x36b18d;handleProjectColorChange(_0x532878,_0x5cafb7),_0x23f0db[_0x237642(0x195)]();}),_0x23f0db[_0x36b18d(0x6c4)](_0x2316a9);}),document[_0x4097bd(0x44d)]['appendChild'](_0x23f0db);const _0x51bf7d=_0x3cb35e['getBoundingClientRect']();_0x23f0db[_0x4097bd(0x58d)][_0x4097bd(0x36a)]=_0x51bf7d['bottom']+window['scrollY']+'px',_0x23f0db[_0x4097bd(0x58d)][_0x4097bd(0x31d)]=_0x51bf7d['left']+window[_0x4097bd(0x1c6)]-_0x23f0db['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x2227b9,_0x30f9d9){const _0xd08ec0=_0x31ab05,_0x1b2ae8=doc(db,_0xd08ec0(0x9ac)+appId+_0xd08ec0(0x5e8),_0x2227b9);try{await updateDoc(_0x1b2ae8,{'color':_0x30f9d9});}catch(_0x2b9485){console['error'](_0xd08ec0(0x4cc),_0x2b9485),showMessage(_0xd08ec0(0x911));}}async function renderProjects(){const _0x1e5a3c=_0x31ab05,_0x4bc8c8=globalDashboardSettings[_0x1e5a3c(0x7c4)]||'date_desc',_0x156c75=new Set(globalDashboardSettings[_0x1e5a3c(0x5de)]||[]),_0x5dfeb5=globalDashboardSettings[_0x1e5a3c(0x430)]||_0x1e5a3c(0x946),_0x505352=document[_0x1e5a3c(0x983)](_0x1e5a3c(0x42b)),_0x90ff7f=document[_0x1e5a3c(0x983)]('list-view-btn');_0x505352[_0x1e5a3c(0x7b1)]['toggle']('active',_0x5dfeb5===_0x1e5a3c(0x946)),_0x90ff7f[_0x1e5a3c(0x7b1)]['toggle'](_0x1e5a3c(0x799),_0x5dfeb5===_0x1e5a3c(0x788)),document[_0x1e5a3c(0x983)](_0x1e5a3c(0x4c7))[_0x1e5a3c(0x3eb)]=_0x4bc8c8;const _0x398590=document['getElementById'](_0x1e5a3c(0x5b7))[_0x1e5a3c(0x3eb)]['toLowerCase']();let _0x46e091=allProjects[_0x1e5a3c(0x8af)](_0x3087af=>_0x3087af[_0x1e5a3c(0x537)][_0x1e5a3c(0x46a)]()[_0x1e5a3c(0x67a)](_0x398590));const _0x5bd37f=_0x46e091['filter'](_0x2b22de=>_0x156c75['has'](_0x2b22de['id'])),_0x3ab930=_0x46e091[_0x1e5a3c(0x8af)](_0x3bb81a=>!_0x156c75[_0x1e5a3c(0x478)](_0x3bb81a['id'])),_0x1c1362=(_0xe762b3,_0x5173b1)=>{const _0x59c848=_0x1e5a3c;switch(_0x4bc8c8){case _0x59c848(0x293):return _0xe762b3[_0x59c848(0x537)]['localeCompare'](_0x5173b1[_0x59c848(0x537)],'th');case _0x59c848(0x341):return _0x5173b1[_0x59c848(0x537)][_0x59c848(0x5cc)](_0xe762b3['projectName'],'th');case _0x59c848(0x190):return new Date(_0xe762b3['createdAt'])-new Date(_0x5173b1[_0x59c848(0x695)]);default:return new Date(_0x5173b1[_0x59c848(0x695)])-new Date(_0xe762b3['createdAt']);}};_0x5bd37f['sort'](_0x1c1362),_0x3ab930[_0x1e5a3c(0x7ab)](_0x1c1362);const _0x3892b9=[..._0x5bd37f,..._0x3ab930],_0x125079=globalDashboardSettings[_0x1e5a3c(0x99d)]||[];_0x125079[_0x1e5a3c(0xabc)]>0x0&&_0x5dfeb5===_0x1e5a3c(0x946)&&_0x3892b9[_0x1e5a3c(0x7ab)]((_0x51ec96,_0x587ce7)=>{const _0x4db741=_0x1e5a3c,_0x9c088c=_0x125079[_0x4db741(0x4d7)](_0x51ec96['id']),_0x2c3896=_0x125079['indexOf'](_0x587ce7['id']);if(_0x9c088c===-0x1)return 0x1;if(_0x2c3896===-0x1)return-0x1;return _0x9c088c-_0x2c3896;});const _0x131aa7={};await Promise['all'](_0x3892b9[_0x1e5a3c(0x2e0)](async _0x3601f6=>{const _0x4ef540=_0x1e5a3c,_0x82dd01=query(collection(db,_0x4ef540(0x9ac)+appId+_0x4ef540(0x519)),where(_0x4ef540(0x7b7),'==',_0x3601f6['id'])),_0x481b48=await getDocs(_0x82dd01);_0x131aa7[_0x3601f6['id']]=_0x481b48[_0x4ef540(0x7f9)];}));const _0xc40b05=document[_0x1e5a3c(0x983)]('project-list');let _0x55c335='';if(_0x5dfeb5===_0x1e5a3c(0x946)){_0xc40b05['className']='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x1e5a3c(0xabc)]>0x0&&_0x398590===''){const _0x4a8269=starredQuizzes[_0x1e5a3c(0x2e0)](_0x142b17=>{const _0x5583f4=_0x1e5a3c,_0x558d0b=allProjects[_0x5583f4(0x606)](_0x14ac5a=>_0x14ac5a['id']===_0x142b17[_0x5583f4(0x7b7)]);return{..._0x142b17,'projectName':_0x558d0b?_0x558d0b[_0x5583f4(0x537)]:_0x5583f4(0x83e)};});_0x55c335+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a8269[_0x1e5a3c(0x2e0)](_0x22cb99=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x22cb99[_0x1e5a3c(0x88d)]+'\x22>'+_0x22cb99[_0x1e5a3c(0x88d)]+_0x1e5a3c(0x1ee)+_0x22cb99[_0x1e5a3c(0x537)]+_0x1e5a3c(0x454)+_0x22cb99[_0x1e5a3c(0x537)]+_0x1e5a3c(0x889))[_0x1e5a3c(0x62f)]('')+_0x1e5a3c(0x7b0)+starredQuizzes[_0x1e5a3c(0xabc)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x3892b9[_0x1e5a3c(0x1bc)](_0x15b4a6=>{const _0x133e29=_0x1e5a3c,_0x42dda2=_0x131aa7[_0x15b4a6['id']]??0x0,_0x510f46=_0x156c75[_0x133e29(0x478)](_0x15b4a6['id']),_0x192544=_0x15b4a6['color']||_0x133e29(0x647),_0x36cfc9=parseInt(_0x192544[_0x133e29(0x797)](0x1,0x3),0x10)*0.299+parseInt(_0x192544[_0x133e29(0x797)](0x3,0x5),0x10)*0.587+parseInt(_0x192544[_0x133e29(0x797)](0x5,0x7),0x10)*0.114<0xba,_0x55795d=_0x36cfc9?_0x133e29(0x655):_0x133e29(0x213),_0x1151a1=_0x36cfc9?_0x133e29(0x215):_0x133e29(0xa6a);_0x55c335+=_0x133e29(0x4fc)+(_0x510f46?_0x133e29(0x1a2):_0x133e29(0x37a))+_0x133e29(0xa69)+_0x192544+_0x133e29(0xa53)+_0x15b4a6['id']+_0x133e29(0x2f1)+_0x15b4a6['id']+_0x133e29(0x2fe)+(_0x36cfc9?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+_0x133e29(0x8d5)+_0x15b4a6['id']+_0x133e29(0x725)+(_0x36cfc9?_0x133e29(0x882):_0x133e29(0xa56))+_0x133e29(0x697)+(_0x510f46?_0x36cfc9?_0x133e29(0x4f7):'text-indigo-600':'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x15b4a6['id']+_0x133e29(0x716)+_0x55795d+_0x133e29(0x6d4)+_0x15b4a6['projectName']+_0x133e29(0x71b)+_0x1151a1+_0x133e29(0x3ac)+new Date(_0x15b4a6[_0x133e29(0x695)])[_0x133e29(0x1ec)](_0x133e29(0x463))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x36cfc9?_0x133e29(0x292):_0x133e29(0x768))+_0x133e29(0x263)+_0x42dda2+_0x133e29(0xa5e)+_0x15b4a6['id']+_0x133e29(0x41d)+_0x15b4a6[_0x133e29(0x537)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x36cfc9?_0x133e29(0xa35):_0x133e29(0x48a))+_0x133e29(0x267);});}else _0xc40b05['className']='flex\x20flex-col\x20gap-2',starredQuizzes[_0x1e5a3c(0xabc)]>0x0&&_0x398590===''&&(_0x55c335+=_0x1e5a3c(0x667)+starredQuizzes['length']+_0x1e5a3c(0x865)),_0x55c335+=_0x1e5a3c(0x7ed),_0x3892b9[_0x1e5a3c(0x1bc)](_0x367f6b=>{const _0x56969c=_0x1e5a3c,_0x5a81b2=_0x131aa7[_0x367f6b['id']]??0x0,_0x4c17b8=_0x156c75['has'](_0x367f6b['id']);_0x55c335+=_0x56969c(0x61b)+(_0x367f6b[_0x56969c(0x5d1)]||_0x56969c(0x8d8))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x367f6b['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x367f6b['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x5a81b2+_0x56969c(0x5b2)+new Date(_0x367f6b[_0x56969c(0x695)])[_0x56969c(0x642)](_0x56969c(0x463))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x367f6b['id']+_0x56969c(0x7fb)+(_0x4c17b8?'text-indigo-600':'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x367f6b['id']+_0x56969c(0x41d)+_0x367f6b[_0x56969c(0x537)]+_0x56969c(0xaa2);});projectList[_0x1e5a3c(0x9ad)]=_0x55c335,noProjectsMsg['classList'][_0x1e5a3c(0x18f)](_0x1e5a3c(0x540),_0x55c335[_0x1e5a3c(0xabc)]>0x0);}document[_0x31ab05(0x983)]('confirm-create-project-btn')[_0x31ab05(0x7d4)](_0x31ab05(0x72b),async()=>{const _0x35a22d=_0x31ab05,_0x49a3c9=document[_0x35a22d(0x983)](_0x35a22d(0x858)),_0x5229a5=_0x49a3c9['value'][_0x35a22d(0x68c)]();if(!_0x5229a5){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x537873=doc(collection(db,_0x35a22d(0x9ac)+appId+_0x35a22d(0x5e8)));await setDoc(_0x537873,{'projectName':_0x5229a5,'students':[],'settings':{'resultsDisplay':_0x35a22d(0x6fc),'shuffleSetting':_0x35a22d(0x548),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x35a22d(0x548),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x35a22d(0x340)]()}),_0x49a3c9['value']='',createProjectModal[_0x35a22d(0x7b1)][_0x35a22d(0x9a9)](_0x35a22d(0x540)),showMessage(_0x35a22d(0x99b));}catch(_0x36502f){console[_0x35a22d(0x8c0)]('Error\x20creating\x20project:',_0x36502f),showMessage(_0x35a22d(0x242));}}),projectList['addEventListener'](_0x31ab05(0x72b),async _0x4fbfae=>{const _0x30bfc9=_0x31ab05,_0xfc4261=_0x4fbfae['target'][_0x30bfc9(0x8d2)](_0x30bfc9(0xa73)),_0x50ea06=_0x4fbfae[_0x30bfc9(0x908)][_0x30bfc9(0x8d2)](_0x30bfc9(0x8a3)),_0x4e5398=_0x4fbfae[_0x30bfc9(0x908)][_0x30bfc9(0x8d2)](_0x30bfc9(0x6a6)),_0x902298=_0x4fbfae[_0x30bfc9(0x908)][_0x30bfc9(0x8d2)](_0x30bfc9(0xa93));if(_0x4e5398){const _0x545821=_0x4e5398[_0x30bfc9(0x700)]['id'],_0x5a5ca8=doc(db,_0x30bfc9(0x5a5),_0x30bfc9(0x375)),_0x18fc8f=globalDashboardSettings[_0x30bfc9(0x5de)];let _0x555940;_0x18fc8f['includes'](_0x545821)?_0x555940=_0x18fc8f[_0x30bfc9(0x8af)](_0x1d1a3e=>_0x1d1a3e!==_0x545821):_0x555940=[..._0x18fc8f,_0x545821];try{await setDoc(_0x5a5ca8,{'pinnedProjects':_0x555940},{'merge':!![]});}catch(_0x275da7){console['error'](_0x30bfc9(0x5dc),_0x275da7),showMessage(_0x30bfc9(0x49d));}}else{if(_0x902298){const _0x1bbbcd=_0x902298['dataset']['id'];showColorPalette(_0x902298,_0x1bbbcd);}else{if(_0xfc4261){const _0x2c82db=_0xfc4261[_0x30bfc9(0x700)]['id'];_0x2c82db==='starred-project'?showStarredProjectView():(currentProjectId=_0x2c82db,await loadProjectDetails(currentProjectId),showView(_0x30bfc9(0xaac)));}else{if(_0x50ea06){const _0x51d779=_0x50ea06[_0x30bfc9(0x700)]['id'],_0x3f9ceb=_0x50ea06['dataset'][_0x30bfc9(0x73f)];showConfirmation(_0x30bfc9(0x614)+_0x3f9ceb+_0x30bfc9(0x97a),()=>handleDeleteProject(_0x51d779));}}}}}),projectList[_0x31ab05(0x7d4)](_0x31ab05(0x4a4),_0x11dbf5=>{const _0x23bacd=_0x31ab05,_0x2d02a5=_0x11dbf5[_0x23bacd(0x908)][_0x23bacd(0x8d2)](_0x23bacd(0x648));_0x2d02a5&&_0x2d02a5[_0x23bacd(0x7b1)][_0x23bacd(0x9a9)](_0x23bacd(0x629));}),projectList[_0x31ab05(0x7d4)](_0x31ab05(0xa63),_0x2b1c38=>{const _0x3a36ed=_0x31ab05,_0x5800cc=_0x2b1c38[_0x3a36ed(0x908)][_0x3a36ed(0x8d2)]('.project-card-container');_0x5800cc&&_0x5800cc[_0x3a36ed(0x7b1)]['remove'](_0x3a36ed(0x629));}),projectList['addEventListener'](_0x31ab05(0x9f1),_0x574485=>{const _0x20b305=_0x31ab05;_0x574485['preventDefault']();const _0x3f02db=document['querySelector'](_0x20b305(0x437));if(!_0x3f02db)return;const _0x3d837a=getDragAfterElement(projectList,_0x574485[_0x20b305(0x8a6)]);_0x3d837a==null?projectList[_0x20b305(0x6c4)](_0x3f02db):projectList[_0x20b305(0x2b3)](_0x3f02db,_0x3d837a);}),projectList[_0x31ab05(0x7d4)]('drop',_0x1b5dde=>{const _0x3cafcf=_0x31ab05;_0x1b5dde[_0x3cafcf(0x774)]();const _0x11cd03=[...projectList[_0x3cafcf(0x279)]('.project-card-container[data-id]')]['map'](_0x5d2e1c=>_0x5d2e1c[_0x3cafcf(0x700)]['id']);saveProjectOrder(_0x11cd03);});function renderBehaviorLog(_0xb4ff65){const _0xf26db2=_0x31ab05,_0x192a0c=document[_0xf26db2(0x983)]('behavior-log-container');if(!_0x192a0c)return;const _0x43a480=_0xb4ff65[_0xf26db2(0x8af)](_0x20bc8e=>_0x20bc8e[_0xf26db2(0x1fc)]&&_0x20bc8e['behaviorLog'][_0xf26db2(0xabc)]>0x0);if(_0x43a480['length']===0x0){_0x192a0c['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x310eb6='';_0x43a480[_0xf26db2(0x1bc)](_0x22f0a5=>{const _0x589024=_0xf26db2;_0x310eb6+=_0x589024(0x596)+_0x22f0a5[_0x589024(0x366)]+_0x589024(0x61a),_0x22f0a5['behaviorLog']['sort']((_0x441f2b,_0x1258c9)=>new Date(_0x1258c9['timestamp'])-new Date(_0x441f2b[_0x589024(0x9c3)]))[_0x589024(0x1bc)](_0x49703e=>{const _0x239098=_0x589024,_0x136774=new Date(_0x49703e[_0x239098(0x9c3)])[_0x239098(0x642)](_0x239098(0x463),{'dateStyle':_0x239098(0x35d),'timeStyle':'medium'});_0x310eb6+=_0x239098(0x756)+_0x49703e[_0x239098(0x1c8)]+_0x239098(0x4b4)+_0x136774+_0x239098(0x392);}),_0x310eb6+=_0x589024(0x2d2);}),_0x192a0c[_0xf26db2(0x9ad)]=_0x310eb6;}function getDragAfterElement(_0x2fa1b1,_0x47c4fd){const _0x122114=_0x31ab05,_0x2c4fc8=[..._0x2fa1b1[_0x122114(0x279)](_0x122114(0x8e7))];return _0x2c4fc8[_0x122114(0x9ab)]((_0x5166e2,_0x53524e)=>{const _0x17e46c=_0x122114,_0x152e3d=_0x53524e[_0x17e46c(0x4c2)](),_0x1c15f2=_0x47c4fd-_0x152e3d['top']-_0x152e3d[_0x17e46c(0x533)]/0x2;return _0x1c15f2<0x0&&_0x1c15f2>_0x5166e2[_0x17e46c(0x55d)]?{'offset':_0x1c15f2,'element':_0x53524e}:_0x5166e2;},{'offset':Number[_0x122114(0x4c3)]})[_0x122114(0x97b)];}async function saveProjectOrder(_0x48b856){const _0x36ed6f=_0x31ab05,_0x430935=doc(db,'globalSettings',_0x36ed6f(0x375));try{await setDoc(_0x430935,{'projectOrder':_0x48b856},{'merge':!![]});}catch(_0x4b12db){console[_0x36ed6f(0x8c0)](_0x36ed6f(0x666),_0x4b12db),showMessage(_0x36ed6f(0x6d8));}}async function logBehaviorEvent(_0x486010,_0x178a33={}){const _0x1af1e1=_0x31ab05;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x1af1e1(0x2d0)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x55a800=doc(db,_0x1af1e1(0x9ac)+appId+_0x1af1e1(0x8b8)+currentQuizData['id']+_0x1af1e1(0x830),currentStudentName),_0x4d040c={'event':_0x486010,'timestamp':new Date()[_0x1af1e1(0x340)](),..._0x178a33};try{await updateDoc(_0x55a800,{'behaviorLog':arrayUnion(_0x4d040c)}),console[_0x1af1e1(0x4a9)](_0x1af1e1(0x897)+currentStudentName+_0x1af1e1(0xac8));}catch(_0x16b068){_0x16b068['code']===_0x1af1e1(0x592)?console['warn'](_0x1af1e1(0x217)+currentStudentName+_0x1af1e1(0x71d)):console[_0x1af1e1(0x8c0)](_0x1af1e1(0x239),_0x16b068);}}function calculateMeanAndStdDev(_0x376ed6){const _0x5ae54d=_0x31ab05;if(_0x376ed6['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x44a8a5=_0x376ed6[_0x5ae54d(0x9ab)]((_0x4a02df,_0x3ce30d)=>_0x4a02df+_0x3ce30d,0x0)/_0x376ed6[_0x5ae54d(0xabc)];if(_0x376ed6[_0x5ae54d(0xabc)]===0x1)return{'mean':_0x44a8a5,'stdDev':0x0};const _0x4b8b86=Math[_0x5ae54d(0xace)](_0x376ed6['map'](_0x3abccf=>Math['pow'](_0x3abccf-_0x44a8a5,0x2))[_0x5ae54d(0x9ab)]((_0x3e66e8,_0x1472eb)=>_0x3e66e8+_0x1472eb,0x0)/(_0x376ed6[_0x5ae54d(0xabc)]-0x1));return{'mean':_0x44a8a5,'stdDev':_0x4b8b86};}function calculateZScore(_0x4f1f5c,_0x12ac7f,_0x3912ac){if(_0x3912ac===0x0)return 0x0;return(_0x4f1f5c-_0x12ac7f)/_0x3912ac;}function calculateTScore(_0x3ae1ce){return 0xa*_0x3ae1ce+0x32;}function showStarredProjectView(){const _0x20f079=_0x31ab05;currentProjectId=_0x20f079(0x30d),currentProjectData=null,projectTitle[_0x20f079(0x36e)]=_0x20f079(0x9d5),projectIdDisplay[_0x20f079(0x36e)]='pinned-items',showView(_0x20f079(0xaac)),manageTab['classList'][_0x20f079(0x9a9)](_0x20f079(0x540)),leaderboardTab[_0x20f079(0x7b1)][_0x20f079(0x9a9)](_0x20f079(0x540)),switchProjectTab(_0x20f079(0x623)),renderQuizzes();}async function loadProjectDetails(_0x15cfe8){const _0x3c96f3=_0x31ab05,_0x3b8551=doc(db,_0x3c96f3(0x9ac)+appId+_0x3c96f3(0x5e8),_0x15cfe8),_0x3b0d91=await getDoc(_0x3b8551);if(_0x3b0d91[_0x3c96f3(0x9da)]()){manageTab['classList']['remove'](_0x3c96f3(0x540)),leaderboardTab['classList']['remove']('hidden'),currentProjectData=_0x3b0d91['data'](),projectTitle[_0x3c96f3(0x36e)]=currentProjectData[_0x3c96f3(0x537)],projectIdDisplay[_0x3c96f3(0x36e)]=_0x15cfe8;const _0xe09c63=currentProjectData[_0x3c96f3(0x363)]||{};document['getElementById'](_0x3c96f3(0xab2))[_0x3c96f3(0x3eb)]=_0xe09c63[_0x3c96f3(0x846)]||_0x3c96f3(0x548);const _0x3ed3ef=document['getElementById']('show-in-student-dashboard-checkbox');_0x3ed3ef[_0x3c96f3(0x616)]=_0xe09c63['showInStudentDashboard']!==![];const _0x5daf36=document[_0x3c96f3(0x983)](_0x3c96f3(0x2ba)),_0x50d34d=document[_0x3c96f3(0x983)]('passcode-input-container'),_0x548358=document[_0x3c96f3(0x983)](_0x3c96f3(0x7e1)),_0x4ba182=_0xe09c63[_0x3c96f3(0xabd)]||![];_0x5daf36[_0x3c96f3(0x616)]=_0x4ba182,_0x548358[_0x3c96f3(0x3eb)]=_0xe09c63['passcode']||'',_0x50d34d[_0x3c96f3(0x7b1)][_0x3c96f3(0x18f)](_0x3c96f3(0x540),!_0x4ba182),_0x5daf36[_0x3c96f3(0x571)]=()=>{const _0x4d2898=_0x3c96f3;_0x50d34d[_0x4d2898(0x7b1)][_0x4d2898(0x18f)]('hidden',!_0x5daf36['checked']);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x15cfe8),listenForProjectQuizzes(_0x15cfe8),listenForStudentProfiles(_0x15cfe8);}else showMessage(_0x3c96f3(0x827)),showView(_0x3c96f3(0x3a8));}async function handleResetProjectOrder(){const _0x3b55ce=_0x31ab05,_0x211158=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x211158,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x3b55ce(0x367));}catch(_0x35a4bb){console['error']('Error\x20resetting\x20project\x20order:',_0x35a4bb),showMessage(_0x3b55ce(0x7e0));}}async function handleTogglePinProject(_0x441153){const _0xe0cb28=_0x31ab05;if(!_0x441153)return;const _0xa92216=doc(db,'artifacts/'+appId+_0xe0cb28(0x5e8),_0x441153);try{const _0x1a4af7=await getDoc(_0xa92216);if(_0x1a4af7['exists']()){const _0xb1420e=_0x1a4af7[_0xe0cb28(0x943)]()['isPinned']||![];await updateDoc(_0xa92216,{'isPinned':!_0xb1420e});}}catch(_0xe0f183){console['error'](_0xe0cb28(0x74e),_0xe0f183),showMessage(_0xe0cb28(0x49d));}}async function handleDeleteProject(_0x51c6fb){const _0x1a78b2=_0x31ab05;try{const _0x371d9d=writeBatch(db),_0x53380c=collection(db,_0x1a78b2(0x9ac)+appId+_0x1a78b2(0x519)),_0x5ee9c5=query(_0x53380c,where(_0x1a78b2(0x7b7),'==',_0x51c6fb)),_0x5a453e=await getDocs(_0x5ee9c5);for(const _0x13fa1e of _0x5a453e[_0x1a78b2(0x2f9)]){const _0x138f54=collection(db,_0x1a78b2(0x9ac)+appId+_0x1a78b2(0x8b8)+_0x13fa1e['id']+_0x1a78b2(0x830)),_0x4cf129=await getDocs(_0x138f54);_0x4cf129[_0x1a78b2(0x1bc)](_0x1980d1=>{const _0x3a0138=_0x1a78b2;_0x371d9d[_0x3a0138(0x522)](_0x1980d1[_0x3a0138(0x839)]);}),_0x371d9d['delete'](_0x13fa1e[_0x1a78b2(0x839)]);}const _0x296f14=collection(db,_0x1a78b2(0x9ac)+appId+_0x1a78b2(0x663)+_0x51c6fb+_0x1a78b2(0x928)),_0x6b4460=await getDocs(_0x296f14);_0x6b4460[_0x1a78b2(0x1bc)](_0x422651=>{const _0x21cb6f=_0x1a78b2;_0x371d9d[_0x21cb6f(0x522)](_0x422651[_0x21cb6f(0x839)]);});const _0x95724=doc(db,_0x1a78b2(0x9ac)+appId+_0x1a78b2(0x5e8),_0x51c6fb);_0x371d9d[_0x1a78b2(0x522)](_0x95724),await _0x371d9d[_0x1a78b2(0x24e)](),showMessage(_0x1a78b2(0x9ec)),showView(_0x1a78b2(0x3a8));}catch(_0x2cc00c){console[_0x1a78b2(0x8c0)](_0x1a78b2(0x34d),_0x2cc00c),showMessage(_0x1a78b2(0x503));}}document['getElementById'](_0x31ab05(0x748))[_0x31ab05(0x7d4)]('click',async()=>{const _0x4481db=_0x31ab05;if(!currentProjectId)return;const _0x39927b={'defaultNumQuestions':parseInt(document[_0x4481db(0x983)](_0x4481db(0x627))[_0x4481db(0x3eb)]),'defaultNumChoices':parseInt(document[_0x4481db(0x983)]('num-choices')['value']),'defaultPassingScore':parseInt(document[_0x4481db(0x983)](_0x4481db(0x5eb))[_0x4481db(0x3eb)]),'resultsDisplay':document[_0x4481db(0x983)](_0x4481db(0x70b))['value'],'shuffleSetting':document[_0x4481db(0x983)]('shuffle-setting-select')[_0x4481db(0x3eb)],'timerMode':document[_0x4481db(0x983)](_0x4481db(0x187))[_0x4481db(0x3eb)],'timerDuration':parseInt(document[_0x4481db(0x983)](_0x4481db(0x328))[_0x4481db(0x3eb)])};try{const _0x1de915=doc(db,_0x4481db(0x9ac)+appId+_0x4481db(0x5e8),currentProjectId);await updateDoc(_0x1de915,{'settings':_0x39927b}),showMessage(_0x4481db(0x9d1));}catch(_0x2fe7e3){console[_0x4481db(0x8c0)]('Error\x20saving\x20settings:',_0x2fe7e3),showMessage(_0x4481db(0x532));}});function listenForStudents(_0x3929f4){const _0x4371c1=_0x31ab05,_0x44d35f=doc(db,_0x4371c1(0x9ac)+appId+_0x4371c1(0x5e8),_0x3929f4);unsubscribeStudentsListener=onSnapshot(_0x44d35f,_0x4eafe5=>{const _0xf52261=_0x4371c1;if(_0x4eafe5[_0xf52261(0x9da)]()){const _0x3f8a57=_0x4eafe5[_0xf52261(0x943)]();currentProjectData=_0x3f8a57,renderStudentList(_0x3f8a57[_0xf52261(0xa76)]||[]);}});}function renderStudentList(_0xaef423){const _0x5a4524=_0x31ab05,_0x4b99ee=document[_0x5a4524(0x983)]('delete-all-students-btn');_0xaef423[_0x5a4524(0xabc)]===0x0?(studentList[_0x5a4524(0x9ad)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x4b99ee[_0x5a4524(0x7b1)]['add'](_0x5a4524(0x540))):(studentList[_0x5a4524(0x9ad)]=_0xaef423[_0x5a4524(0x2e0)](_0x2d6ee5=>_0x5a4524(0x9c1)+_0x2d6ee5+_0x5a4524(0x6a7)+_0x2d6ee5+_0x5a4524(0x294))['join'](''),_0x4b99ee[_0x5a4524(0x7b1)][_0x5a4524(0x195)](_0x5a4524(0x540)));}document[_0x31ab05(0x983)]('add-student-btn')[_0x31ab05(0x7d4)](_0x31ab05(0x72b),async()=>{const _0x230c56=_0x31ab05;if(!currentProjectId)return;const _0x232029=document[_0x230c56(0x983)](_0x230c56(0x1ed)),_0x403b36=_0x232029[_0x230c56(0x3eb)]['trim']();if(!_0x403b36){showMessage(_0x230c56(0x626));return;}const _0x484abc=_0x403b36[_0x230c56(0x8c6)]('\x0a')[_0x230c56(0x2e0)](_0x4c51cf=>_0x4c51cf['trim']())[_0x230c56(0x8af)](_0x5cd3da=>_0x5cd3da);if(_0x484abc[_0x230c56(0xabc)]===0x0)return;try{const _0x3204e7=doc(db,_0x230c56(0x9ac)+appId+_0x230c56(0x5e8),currentProjectId),_0x294c1f=await getDoc(_0x3204e7);if(_0x294c1f[_0x230c56(0x9da)]()){const _0x2c24e8=_0x294c1f[_0x230c56(0x943)]()[_0x230c56(0xa76)]||[],_0x272cce=[...new Set([..._0x2c24e8,..._0x484abc])];await updateDoc(_0x3204e7,{'students':_0x272cce}),_0x232029[_0x230c56(0x3eb)]='';}}catch(_0x359ebb){console[_0x230c56(0x8c0)]('Error\x20adding\x20students:',_0x359ebb),showMessage(_0x230c56(0xa02));}});async function handleManualQuizPairing(_0x2927d7){const _0x12b3b6=_0x31ab05,_0xbe4e71=document[_0x12b3b6(0x983)](_0x12b3b6(0xa8e)),_0x1c7ad5=document[_0x12b3b6(0x983)](_0x12b3b6(0x8ea)),_0x1d9070=_0xbe4e71['querySelector']('h3'),_0xc16518=document['getElementById'](_0x12b3b6(0x9b7)),_0x3e14dd=document[_0x12b3b6(0x983)]('cancel-move-quiz-btn');_0x1d9070['textContent']=_0x12b3b6(0x784),_0x1c7ad5['innerHTML']=_0x12b3b6(0x8f7),_0xc16518['textContent']=_0x12b3b6(0x570),_0xbe4e71[_0x12b3b6(0x7b1)][_0x12b3b6(0x195)]('hidden');const _0x5afd2a=allQuizzes[_0x12b3b6(0x8af)](_0x1960a5=>_0x1960a5['id']!==_0x2927d7);_0x5afd2a[_0x12b3b6(0xabc)]===0x0?(_0x1c7ad5[_0x12b3b6(0x9ad)]=_0x12b3b6(0x5d0),_0xc16518['disabled']=!![]):(_0x1c7ad5[_0x12b3b6(0x9ad)]=_0x12b3b6(0x765)+_0x5afd2a[_0x12b3b6(0x2e0)](_0x4d20d2=>_0x12b3b6(0x420)+_0x4d20d2['id']+'\x22>'+_0x4d20d2[_0x12b3b6(0x88d)]+_0x12b3b6(0x6e0))[_0x12b3b6(0x62f)](''),_0xc16518['disabled']=![]);const _0x22497f=async()=>{const _0x248cd0=_0x12b3b6,_0x1d8e1b=_0x1c7ad5[_0x248cd0(0x3eb)];if(!_0x1d8e1b){showMessage(_0x248cd0(0x721));return;}_0xc16518[_0x248cd0(0x383)]=!![],_0xc16518[_0x248cd0(0x36e)]=_0x248cd0(0x9f5);try{const _0x3f0e40=doc(db,_0x248cd0(0x9ac)+appId+_0x248cd0(0x519),_0x2927d7),_0x107b9f=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1d8e1b),_0x21f68f=writeBatch(db);_0x21f68f['update'](_0x3f0e40,{'pairedQuizId':_0x1d8e1b}),_0x21f68f[_0x248cd0(0xa9e)](_0x107b9f,{'pairedQuizId':_0x2927d7}),await _0x21f68f['commit'](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0xbe4e71[_0x248cd0(0x7b1)][_0x248cd0(0x9a9)](_0x248cd0(0x540));}catch(_0xda7160){console[_0x248cd0(0x8c0)](_0x248cd0(0x662),_0xda7160),showMessage(_0x248cd0(0x40f));}finally{_0x1d9070['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0xc16518[_0x248cd0(0x36e)]=_0x248cd0(0x421),_0xc16518['disabled']=![],_0xc16518[_0x248cd0(0x890)](_0x248cd0(0x72b),_0x22497f),_0x3e14dd[_0x248cd0(0x890)](_0x248cd0(0x72b),_0x6c1cbd);}},_0x6c1cbd=()=>{const _0x451df0=_0x12b3b6;_0xbe4e71[_0x451df0(0x7b1)]['add'](_0x451df0(0x540)),_0x1d9070[_0x451df0(0x36e)]=_0x451df0(0x8f8),_0xc16518[_0x451df0(0x36e)]='ย้าย',_0xc16518[_0x451df0(0x890)](_0x451df0(0x72b),_0x22497f),_0x3e14dd['removeEventListener']('click',_0x6c1cbd);};_0xc16518[_0x12b3b6(0x7d4)](_0x12b3b6(0x72b),_0x22497f),_0x3e14dd['addEventListener']('click',_0x6c1cbd);}function handleDeleteStudent(_0x1906d5){const _0x4b5ece=_0x31ab05;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x1906d5+_0x4b5ece(0x41b),async()=>{const _0x4f4acd=_0x4b5ece;if(!currentProjectId||!currentProjectData)return;const _0x24440f=currentProjectData[_0x4f4acd(0xa76)][_0x4f4acd(0x8af)](_0x4bb0d3=>_0x4bb0d3!==_0x1906d5);try{const _0x293d4a=doc(db,_0x4f4acd(0x9ac)+appId+_0x4f4acd(0x5e8),currentProjectId),_0xd381a9=doc(db,_0x4f4acd(0x9ac)+appId+_0x4f4acd(0x663)+currentProjectId+'/studentProfiles',_0x1906d5),_0x364e05=writeBatch(db);_0x364e05[_0x4f4acd(0xa9e)](_0x293d4a,{'students':_0x24440f}),_0x364e05[_0x4f4acd(0x522)](_0xd381a9),await _0x364e05[_0x4f4acd(0x24e)]();}catch(_0x400b85){console[_0x4f4acd(0x8c0)](_0x4f4acd(0x701),_0x400b85),showMessage(_0x4f4acd(0x80b));}});}function handleDeleteAllStudents(){const _0x4ee2de=_0x31ab05;showConfirmation(_0x4ee2de(0x201),async()=>{const _0x1e3805=_0x4ee2de;if(!currentProjectId)return;try{const _0x50555c=doc(db,_0x1e3805(0x9ac)+appId+_0x1e3805(0x5e8),currentProjectId),_0x6970b6=collection(db,_0x1e3805(0x9ac)+appId+_0x1e3805(0x663)+currentProjectId+_0x1e3805(0x928)),_0x34442a=await getDocs(_0x6970b6),_0x3a427a=writeBatch(db);_0x3a427a[_0x1e3805(0xa9e)](_0x50555c,{'students':[]}),_0x34442a[_0x1e3805(0x1bc)](_0x3d914a=>_0x3a427a[_0x1e3805(0x522)](_0x3d914a[_0x1e3805(0x839)])),await _0x3a427a[_0x1e3805(0x24e)]();}catch(_0x3d3c60){console['error'](_0x1e3805(0xa22),_0x3d3c60),showMessage(_0x1e3805(0x300));}});}async function handleGenerateFromFileClick(){const _0x54fd5e=_0x31ab05;if(!selectedFile){showMessage(_0x54fd5e(0x60f));return;}const _0x505a97=document[_0x54fd5e(0x983)](_0x54fd5e(0x51c)),_0x21cf06=document['getElementById']('loader-text'),_0x232350=document[_0x54fd5e(0x983)](_0x54fd5e(0x6fb)),_0x503fb6=document[_0x54fd5e(0x983)](_0x54fd5e(0x1b7));_0x503fb6['disabled']=!![],document['getElementById'](_0x54fd5e(0x462))[_0x54fd5e(0x7b1)]['remove'](_0x54fd5e(0x540)),_0x232350[_0x54fd5e(0x9ad)]='',_0x505a97[_0x54fd5e(0x7b1)]['remove'](_0x54fd5e(0x540)),_0x21cf06[_0x54fd5e(0x36e)]=_0x54fd5e(0x7f7);const _0x1dcdae=new FileReader();_0x1dcdae[_0x54fd5e(0x969)](selectedFile),_0x1dcdae[_0x54fd5e(0x24c)]=async()=>{const _0x3890dc=_0x54fd5e;try{const _0x5abe88=_0x1dcdae[_0x3890dc(0x376)]['split'](',')[0x1],_0x50df44=selectedFile[_0x3890dc(0x6ee)];await generateQuizFromFile(_0x50df44,_0x5abe88);}catch(_0x126c6a){console[_0x3890dc(0x8c0)](_0x3890dc(0x44a),_0x126c6a),showMessage(_0x3890dc(0x3b7)+_0x126c6a[_0x3890dc(0xa8c)]),_0x505a97[_0x3890dc(0x7b1)][_0x3890dc(0x9a9)](_0x3890dc(0x540));}finally{}},_0x1dcdae[_0x54fd5e(0x84b)]=_0x2453d9=>{const _0x143571=_0x54fd5e;console[_0x143571(0x8c0)]('FileReader\x20error:',_0x2453d9),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x505a97[_0x143571(0x7b1)][_0x143571(0x9a9)](_0x143571(0x540)),_0x503fb6['disabled']=![];};}function autoFormatMath(_0x24cc80){if(typeof _0x24cc80!=='string'||!_0x24cc80)return _0x24cc80;const _0xd578f1=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x16a4a7=_0x24cc80['replace'](_0xd578f1,_0xc87637=>{const _0xf94780=_0x4d4b;return'$'+_0xc87637[_0xf94780(0x68c)]()+'$';});return _0x16a4a7;}function sanitizeQuizData(_0x4f76aa){const _0x23dbbb=_0x31ab05;if(!_0x4f76aa||!_0x4f76aa[_0x23dbbb(0x2c2)])return _0x4f76aa;const _0x55ca5f={'imes':'\x5ctimes','div':_0x23dbbb(0x19e)},_0x35030b=_0x55dbb7=>{const _0x5cfede=_0x23dbbb;if(typeof _0x55dbb7!==_0x5cfede(0x1e8))return _0x55dbb7;let _0x49f4f9=_0x55dbb7;for(const [_0x50d4a1,_0x21166b]of Object[_0x5cfede(0x1d9)](_0x55ca5f)){const _0x56ffde=new RegExp('\x5cb'+_0x50d4a1+'\x5cb','g');_0x49f4f9=_0x49f4f9[_0x5cfede(0x972)](_0x56ffde,_0x21166b);}return _0x49f4f9=_0x49f4f9[_0x5cfede(0x972)](/\\\//g,_0x5cfede(0x19e)),_0x49f4f9=_0x49f4f9[_0x5cfede(0x972)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x5cfede(0x19e))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x5cfede(0xa8b))[_0x5cfede(0x972)](/÷/g,_0x5cfede(0x19e))[_0x5cfede(0x972)](/×/g,_0x5cfede(0xa8b)),_0x49f4f9=_0x49f4f9[_0x5cfede(0x972)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x49f4f9=autoFormatMath(_0x49f4f9),_0x49f4f9;};return _0x4f76aa['topic']&&(_0x4f76aa[_0x23dbbb(0x88d)]=_0x35030b(_0x4f76aa[_0x23dbbb(0x88d)])),_0x4f76aa[_0x23dbbb(0x2c2)][_0x23dbbb(0x1bc)](_0x43d9a2=>{const _0x180fda=_0x23dbbb;_0x43d9a2[_0x180fda(0x60a)]=_0x35030b(_0x43d9a2['questionText']),_0x43d9a2['options']&&(_0x43d9a2[_0x180fda(0x9b4)]=_0x43d9a2['options'][_0x180fda(0x2e0)](_0x35030b)),_0x43d9a2[_0x180fda(0x468)]&&(_0x43d9a2[_0x180fda(0x468)]=_0x35030b(_0x43d9a2[_0x180fda(0x468)])),_0x43d9a2[_0x180fda(0x2c1)]&&(_0x43d9a2[_0x180fda(0x2c1)]=_0x35030b(_0x43d9a2[_0x180fda(0x2c1)])),_0x43d9a2[_0x180fda(0x965)]&&(_0x43d9a2[_0x180fda(0x965)]=_0x35030b(_0x43d9a2[_0x180fda(0x965)])),_0x43d9a2[_0x180fda(0x9c2)]&&(_0x43d9a2[_0x180fda(0x9c2)]=_0x43d9a2[_0x180fda(0x9c2)][_0x180fda(0x2e0)](_0x35030b));}),_0x4f76aa;}const simpleMathPrompt=_0x31ab05(0x78b);async function handleGenerateFromLink(){const _0xe1b422=_0x31ab05,_0x83c5e0=document['getElementById']('link-url-input'),_0x2e43da=document[_0xe1b422(0x983)](_0xe1b422(0x966)),_0x52a8db=_0x83c5e0[_0xe1b422(0x3eb)]['trim'](),_0xd21fca=_0x2e43da['value'][_0xe1b422(0x68c)]();if(!_0x52a8db){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x5a6340=document[_0xe1b422(0x983)](_0xe1b422(0x51c)),_0x6a2666=document[_0xe1b422(0x983)]('loader-text'),_0x2b00aa=document['getElementById']('generated-quiz-container'),_0x579d7d=document[_0xe1b422(0x983)](_0xe1b422(0x2cc));document['getElementById']('quiz-generation-area')[_0xe1b422(0x7b1)][_0xe1b422(0x195)](_0xe1b422(0x540)),_0x2b00aa[_0xe1b422(0x9ad)]='',_0x5a6340[_0xe1b422(0x7b1)][_0xe1b422(0x195)](_0xe1b422(0x540)),_0x6a2666['textContent']=_0xe1b422(0x48b),_0x579d7d[_0xe1b422(0x383)]=!![];try{const _0x21e792=_0xe1b422(0x551)+encodeURIComponent(_0x52a8db),_0x3238df=await fetch(_0x21e792);if(!_0x3238df['ok'])throw new Error(_0xe1b422(0x1fa)+_0x3238df[_0xe1b422(0xa1f)]+')');const _0x4bf433=await _0x3238df['text'](),_0x23b010=extractTextFromHtml(_0x4bf433);if(!_0x23b010||_0x23b010[_0xe1b422(0xabc)]<0x64)throw new Error(_0xe1b422(0x93b));await generateQuiz(_0xd21fca,_0x23b010);}catch(_0x5589e8){console['error'](_0xe1b422(0x67e),_0x5589e8),showMessage(_0xe1b422(0x63c)+_0x5589e8[_0xe1b422(0xa8c)]),_0x2b00aa['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x5a6340[_0xe1b422(0x7b1)][_0xe1b422(0x9a9)](_0xe1b422(0x540)),_0x579d7d[_0xe1b422(0x383)]=![];}}function extractTextFromHtml(_0x4b3c89){const _0x3fa58d=_0x31ab05,_0xe37fbe=new DOMParser()[_0x3fa58d(0x229)](_0x4b3c89,_0x3fa58d(0x9b2));return _0xe37fbe['querySelectorAll'](_0x3fa58d(0x8c3))[_0x3fa58d(0x1bc)](_0x79001b=>_0x79001b[_0x3fa58d(0x195)]()),_0xe37fbe[_0x3fa58d(0x44d)][_0x3fa58d(0x36e)]||'';}document['getElementById'](_0x31ab05(0x1c9))['addEventListener']('click',()=>{const _0x445aae=_0x31ab05,_0x4e142f=document[_0x445aae(0x983)](_0x445aae(0x441))[_0x445aae(0x3eb)][_0x445aae(0x68c)]();generateQuiz(_0x4e142f,null);}),document['getElementById'](_0x31ab05(0x874))['addEventListener']('click',()=>{const _0x1628c5=_0x31ab05,_0x7f1f08=document[_0x1628c5(0x983)](_0x1628c5(0x29d))[_0x1628c5(0x3eb)][_0x1628c5(0x68c)]();if(!_0x7f1f08){showMessage(_0x1628c5(0x80d));return;}const _0x8e2fdb=document[_0x1628c5(0x983)](_0x1628c5(0x441))['value']['trim']();generateQuiz(_0x8e2fdb,_0x7f1f08);});async function generateQuiz(_0x5f2acf,_0x482fa3,_0x594057=null){const _0x264306=_0x31ab05,_0x1f9a83=document[_0x264306(0x983)](_0x264306(0x542))['checked'],_0x199116=document['getElementById']('quiz-type-select')['value'],_0x3e51a9=document[_0x264306(0x983)](_0x264306(0x627))['value'],_0xc8e70e=document['getElementById'](_0x264306(0xaaa))[_0x264306(0x3eb)],_0x34f2ef=document['getElementById'](_0x264306(0xa39))['checked'],_0x44400b=_0x34f2ef?'':_0x264306(0x2dd),_0x35ac7a=document[_0x264306(0x983)]('difficulty-level-select'),_0xaa2ecd=_0x35ac7a[_0x264306(0x3eb)];let _0x521357='';_0xaa2ecd!==_0x264306(0x891)&&(_0x521357=_0x264306(0x5c9)+_0xaa2ecd+'\x22');const _0x439d3b=document[_0x264306(0x983)](_0x264306(0x6a9)),_0x3b423d=_0x439d3b[_0x264306(0x3eb)];let _0x3fe08f='';_0x3b423d!==_0x264306(0x90f)&&(_0x3fe08f=_0x264306(0x401)+_0x3b423d+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy');const _0x1207ba=document['querySelectorAll'](_0x264306(0x636)),_0x4c9ec2=Array[_0x264306(0xa96)](_0x1207ba)[_0x264306(0x2e0)](_0x1d8ffa=>_0x1d8ffa[_0x264306(0x3eb)]);let _0x342bd2='';_0x4c9ec2['length']>0x0&&(_0x342bd2='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x4c9ec2[_0x264306(0x62f)](',\x20')+_0x264306(0x189));let _0x41a63c='',_0x23a83c='',_0xa9bd27,_0x442d03=_0x264306(0x7c3)+_0x5f2acf+'\x22';if(!_0x5f2acf&&_0x482fa3)_0x442d03=_0x264306(0xac2);else!_0x5f2acf&&!_0x482fa3&&(_0x442d03=_0x264306(0x6fd));const _0x3be98c={'type':_0x264306(0x6f5),'properties':{'questionText':{'type':_0x264306(0x62a)},'options':{'type':'ARRAY','items':{'type':_0x264306(0x62a)}},'correctAnswerIndex':{'type':_0x264306(0x1e3)},'explanation':{'type':_0x264306(0x62a)},'imageCode':{'type':_0x264306(0x62a)}},'required':[_0x264306(0x60a),_0x264306(0x9b4),_0x264306(0x438),_0x264306(0x468)]},_0x2965e3={'type':_0x264306(0x6f5),'properties':{'questionText':{'type':_0x264306(0x62a)},'idealAnswer':{'type':_0x264306(0x62a)},'explanation':{'type':_0x264306(0x62a)},'imageCode':{'type':_0x264306(0x62a)}},'required':[_0x264306(0x60a),_0x264306(0x980),_0x264306(0x468)]},_0x5b7e01={'type':_0x264306(0x6f5),'properties':{'questionText':{'type':_0x264306(0x62a)},'questionType':{'type':'STRING','enum':['multiple_choice','short_answer']},'options':{'type':_0x264306(0xa49),'items':{'type':_0x264306(0x62a)}},'correctAnswerIndex':{'type':_0x264306(0x1e3)},'idealAnswer':{'type':_0x264306(0x62a)},'explanation':{'type':_0x264306(0x62a)},'imageCode':{'type':_0x264306(0x62a)}},'required':['questionText',_0x264306(0x225),_0x264306(0x468)]},_0x37172a={'type':_0x264306(0x6f5),'properties':{'questionText':{'type':_0x264306(0x62a)},'correctAnswer':{'type':_0x264306(0x22c)},'explanation':{'type':_0x264306(0x62a)},'imageCode':{'type':'STRING'}},'required':[_0x264306(0x60a),_0x264306(0x1dc),'explanation']},_0x2c2b66={'type':'OBJECT','properties':{'questionType':{'type':_0x264306(0x62a),'enum':[_0x264306(0x729)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x264306(0x62a)},'allResponses':{'type':_0x264306(0xa49),'items':{'type':_0x264306(0x62a)}},'explanation':{'type':_0x264306(0x62a)},'imageCode':{'type':'STRING'}},'required':[_0x264306(0x225),'stem',_0x264306(0x965),_0x264306(0x9c2),_0x264306(0x468)]};let _0x2c9103;if(_0x594057!==null){const _0x1f6e26=currentQuizData[_0x264306(0x2c2)][_0x594057][_0x264306(0x225)],_0x2bd85a=_0x1f9a83?_0x264306(0x493):'';_0x41a63c=_0x264306(0xa62)+_0x442d03+'\x20'+_0x342bd2+'\x20'+_0x521357+_0x264306(0x3c1)+_0x2bd85a+'\x20'+simpleMathPrompt;if(_0x1f6e26==='multiple_choice')_0xa9bd27=_0x3be98c;else{if(_0x1f6e26===_0x264306(0x729))_0xa9bd27={'type':_0x264306(0x6f5),'properties':{'questionType':{'type':'STRING','enum':[_0x264306(0x729)]},'stem':{'type':_0x264306(0x62a)},'correctResponse':{'type':_0x264306(0x62a)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x264306(0x62a)}},'required':[_0x264306(0x225),'stem','correctResponse','explanation']};else _0xa9bd27=_0x2965e3;}_0x2c9103=_0xa9bd27;}else{const _0x295d67=_0x1f9a83?_0x264306(0x715):'',_0x1caab1=_0x264306(0x1db);switch(_0x199116){case _0x264306(0x373):_0x41a63c=_0x264306(0x7e3)+_0x44400b+'\x20'+_0x3e51a9+'\x20ข้อ\x20'+_0x442d03+'\x20'+_0x342bd2+'\x20'+_0x521357+'\x20'+_0x3fe08f+_0x264306(0x3e4)+_0xc8e70e+_0x264306(0x1d0)+_0x295d67+'\x20'+simpleMathPrompt,_0xa9bd27=_0x3be98c;break;case _0x264306(0x593):_0x41a63c=_0x264306(0x2d1)+_0x44400b+'\x20'+_0x3e51a9+_0x264306(0x7fc)+_0x442d03+'\x20'+_0x342bd2+'\x20'+_0x521357+'\x20'+_0x3fe08f+_0x264306(0xa32)+_0xc8e70e+_0x264306(0x569)+_0x295d67+'\x20'+simpleMathPrompt,_0xa9bd27=_0x3be98c;break;case'fill_in_no_choices':_0x41a63c='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x44400b+'\x20'+_0x3e51a9+'\x20ข้อ\x20'+_0x442d03+'\x20'+_0x342bd2+'\x20'+_0x521357+'\x20'+_0x3fe08f+_0x264306(0xa60)+_0x295d67+'\x20'+simpleMathPrompt,_0xa9bd27=_0x2965e3;break;case'mixed':_0x41a63c=_0x264306(0x4bc)+_0x44400b+'\x20'+_0x3e51a9+_0x264306(0x7fc)+_0x442d03+'\x20'+_0x342bd2+'\x20'+_0x521357+'\x20'+_0x3fe08f+_0x264306(0x1f8)+_0xc8e70e+'\x20ตัวเลือก.\x20'+_0x295d67+'\x20'+simpleMathPrompt+'.',_0xa9bd27=_0x5b7e01;break;case'true_false':_0x41a63c='สร้างคำถามแบบใช่/ไม่ใช่'+_0x44400b+'\x20'+_0x3e51a9+_0x264306(0x7fc)+_0x442d03+'\x20'+_0x342bd2+'\x20'+_0x521357+'\x20'+_0x3fe08f+_0x264306(0x607)+_0x295d67+'\x20'+simpleMathPrompt,_0xa9bd27=_0x37172a;break;case _0x264306(0x321):_0x41a63c='สร้างชุดคำถามจับคู่'+_0x44400b+'\x20'+_0x3e51a9+_0x264306(0x58e)+_0x442d03+'\x20'+_0x342bd2+'\x20'+_0x521357+'\x20'+_0x3fe08f+_0x264306(0x29e)+_0x295d67+'\x20'+simpleMathPrompt,_0xa9bd27=_0x2c2b66;break;}_0x2c9103={'type':_0x264306(0x6f5),'properties':{'topic':{'type':_0x264306(0x62a)},'questions':{'type':_0x264306(0xa49),'items':_0xa9bd27}},'required':[_0x264306(0x88d),_0x264306(0x2c2)]};}return _0x482fa3?(_0x41a63c='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x482fa3+_0x264306(0x771)+_0x41a63c,_0x23a83c=_0x264306(0x2e4)):_0x23a83c=_0x264306(0x776),handleApiCall(_0x41a63c,_0x23a83c,_0x2c9103,_0x594057);}async function generateQuizFromFile(_0x1e1135,_0x37244c){const _0x40749f=_0x31ab05,_0x5f298e=document[_0x40749f(0x983)](_0x40749f(0x382))[_0x40749f(0x3eb)][_0x40749f(0x68c)](),_0x36eba3=document[_0x40749f(0x983)]('quiz-type-select')[_0x40749f(0x3eb)],_0x4e4eaa=document['getElementById']('num-questions')[_0x40749f(0x3eb)],_0x1ecb32=document[_0x40749f(0x983)](_0x40749f(0xaaa))[_0x40749f(0x3eb)],_0xcec1a8=document[_0x40749f(0x983)](_0x40749f(0x542))[_0x40749f(0x616)],_0x14c035=document[_0x40749f(0x983)](_0x40749f(0xa39))['checked'],_0x101bd2=_0x14c035?'':_0x40749f(0x2dd);let _0x145b89='',_0x345067,_0x17fcb0=_0x40749f(0x7c3)+_0x5f298e+'\x22';!_0x5f298e&&(_0x17fcb0=_0x40749f(0x444));const _0x486493=_0xcec1a8?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x36eba3){case _0x40749f(0x373):_0x145b89=_0x40749f(0x7e3)+_0x101bd2+'\x20'+_0x4e4eaa+_0x40749f(0x7fc)+_0x17fcb0+_0x40749f(0x3e4)+_0x1ecb32+_0x40749f(0x1d0)+_0x486493+'\x20'+simpleMathPrompt,_0x345067={'type':_0x40749f(0x6f5),'properties':{'questionText':{'type':_0x40749f(0x62a)},'options':{'type':_0x40749f(0xa49),'items':{'type':_0x40749f(0x62a)}},'correctAnswerIndex':{'type':_0x40749f(0x1e3)},'explanation':{'type':_0x40749f(0x62a)},'imageCode':{'type':_0x40749f(0x62a)}},'required':[_0x40749f(0x60a),'options',_0x40749f(0x438),_0x40749f(0x468)]};break;case'fill_in_with_choices':_0x145b89=_0x40749f(0x2d1)+_0x101bd2+'\x20'+_0x4e4eaa+'\x20ข้อ\x20'+_0x17fcb0+_0x40749f(0xa32)+_0x1ecb32+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x486493+'\x20'+simpleMathPrompt,_0x345067={'type':_0x40749f(0x6f5),'properties':{'questionText':{'type':_0x40749f(0x62a)},'options':{'type':_0x40749f(0xa49),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x40749f(0x1e3)},'explanation':{'type':_0x40749f(0x62a)},'imageCode':{'type':_0x40749f(0x62a)}},'required':[_0x40749f(0x60a),_0x40749f(0x9b4),'correctAnswerIndex',_0x40749f(0x468)]};break;case _0x40749f(0x3a2):_0x145b89=_0x40749f(0x2d1)+_0x101bd2+'\x20'+_0x4e4eaa+'\x20ข้อ\x20'+_0x17fcb0+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x486493+'\x20'+simpleMathPrompt,_0x345067={'type':_0x40749f(0x6f5),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x40749f(0x62a)},'explanation':{'type':_0x40749f(0x62a)},'imageCode':{'type':'STRING'}},'required':[_0x40749f(0x60a),_0x40749f(0x980),_0x40749f(0x468)]};break;case'mixed':_0x145b89=_0x40749f(0x4bc)+_0x101bd2+'\x20'+_0x4e4eaa+_0x40749f(0x7fc)+_0x17fcb0+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x1ecb32+'\x20ตัวเลือก.\x20'+_0x486493+'\x20'+simpleMathPrompt+_0x40749f(0x804),_0x345067={'type':'OBJECT','properties':{'questionText':{'type':_0x40749f(0x62a)},'questionType':{'type':_0x40749f(0x62a),'enum':['multiple_choice',_0x40749f(0x2f3)]},'options':{'type':_0x40749f(0xa49),'items':{'type':_0x40749f(0x62a)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x40749f(0x62a)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x40749f(0x62a)}},'required':['questionText',_0x40749f(0x225),_0x40749f(0x468)]};break;case _0x40749f(0x486):_0x145b89=_0x40749f(0xa9b)+_0x101bd2+'\x20'+_0x4e4eaa+_0x40749f(0x7fc)+_0x17fcb0+_0x40749f(0x71f)+_0x486493+'\x20'+simpleMathPrompt,_0x345067={'type':_0x40749f(0x6f5),'properties':{'questionText':{'type':_0x40749f(0x62a)},'correctAnswer':{'type':_0x40749f(0x22c)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x40749f(0x62a)}},'required':[_0x40749f(0x60a),'correctAnswer',_0x40749f(0x468)]};break;case _0x40749f(0x321):_0x145b89=_0x40749f(0x2b6)+_0x101bd2+'\x20'+_0x4e4eaa+_0x40749f(0x58e)+_0x17fcb0+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x4e4eaa+_0x40749f(0x27d)+_0x486493+'\x20'+simpleMathPrompt,_0x345067={'type':_0x40749f(0x6f5),'properties':{'questionType':{'type':_0x40749f(0x62a),'enum':['matching_item']},'stem':{'type':_0x40749f(0x62a)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x40749f(0xa49),'items':{'type':_0x40749f(0x62a)}},'explanation':{'type':_0x40749f(0x62a)},'imageCode':{'type':_0x40749f(0x62a)}},'required':['questionType',_0x40749f(0x2c1),'correctResponse','allResponses',_0x40749f(0x468)]};break;}const _0x41790b={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x345067}},'required':['topic',_0x40749f(0x2c2)]},_0x308120=_0x40749f(0x6bb)+_0x145b89,_0x4fafab={'contents':[{'parts':[{'text':_0x308120},{'inlineData':{'mimeType':_0x1e1135,'data':_0x37244c}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x41790b}};return handleApiCall(_0x4fafab['contents'][0x0][_0x40749f(0x6e1)],_0x40749f(0x283),_0x41790b);}async function handleApiCall(_0x70dcf6,_0x56fa1e,_0x342ec7,_0x522aa6=null){const _0x5c18d1=_0x31ab05,_0x1ceeb3=document[_0x5c18d1(0x983)]('quiz-generation-area'),_0x9cdb1=document[_0x5c18d1(0x983)](_0x5c18d1(0x51c)),_0x561051=document['getElementById']('loader-text'),_0x19aace=document[_0x5c18d1(0x983)](_0x5c18d1(0x6fb));_0x1ceeb3['classList'][_0x5c18d1(0x195)]('hidden');_0x522aa6===null&&(_0x19aace[_0x5c18d1(0x9ad)]='');_0x9cdb1[_0x5c18d1(0x7b1)][_0x5c18d1(0x195)]('hidden'),_0x561051[_0x5c18d1(0x36e)]=_0x56fa1e,document[_0x5c18d1(0x983)](_0x5c18d1(0x1c9))[_0x5c18d1(0x383)]=!![],document[_0x5c18d1(0x983)](_0x5c18d1(0x874))['disabled']=!![],document[_0x5c18d1(0x983)](_0x5c18d1(0x2cc))[_0x5c18d1(0x383)]=!![];try{const _0x46abcc={'responseMimeType':'application/json','responseSchema':_0x342ec7},_0x217f49=Array[_0x5c18d1(0x76c)](_0x70dcf6)?_0x70dcf6:[{'text':_0x70dcf6}],_0x2e652f={'contents':[{'role':_0x5c18d1(0x451),'parts':_0x217f49}],'generationConfig':_0x46abcc},_0x4d407b=_0x5c18d1(0x399),_0x3183f3=_0x5c18d1(0x7cd)+_0x4d407b,_0x38e8dd=await fetch(_0x3183f3,{'method':_0x5c18d1(0x61e),'headers':{'Content-Type':_0x5c18d1(0x50a)},'body':JSON['stringify'](_0x2e652f)});if(!_0x38e8dd['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x38e8dd[_0x5c18d1(0xa1f)]);const _0x46bfb4=await _0x38e8dd['json']();if(_0x46bfb4[_0x5c18d1(0x8eb)]?.[0x0]?.[_0x5c18d1(0x66d)]?.['parts']?.[0x0]){let _0x583b89=_0x46bfb4[_0x5c18d1(0x8eb)][0x0]['content'][_0x5c18d1(0x6e1)][0x0][_0x5c18d1(0x622)],_0x7df9f6;try{if(_0x583b89['startsWith']('```json'))_0x583b89=_0x583b89['substring'](0x7,_0x583b89['length']-0x3)[_0x5c18d1(0x68c)]();else _0x583b89[_0x5c18d1(0x3ea)]('```')&&(_0x583b89=_0x583b89[_0x5c18d1(0x797)](0x3,_0x583b89[_0x5c18d1(0xabc)]-0x3)[_0x5c18d1(0x68c)]());_0x7df9f6=JSON[_0x5c18d1(0x83a)](_0x583b89);}catch(_0x105e17){console[_0x5c18d1(0x8c0)](_0x5c18d1(0x720),_0x105e17,_0x583b89);throw new Error(_0x5c18d1(0x1d1));}if(_0x522aa6!==null){if(_0x7df9f6['questionType']==='matching_item'){const _0x202534=currentQuizData['questions'][_0x5c18d1(0x2e0)](_0x3598a9=>_0x3598a9['correctResponse']);_0x7df9f6[_0x5c18d1(0x9c2)]=_0x202534;const _0x4373de=currentQuizData[_0x5c18d1(0x2c2)][_0x522aa6][_0x5c18d1(0x965)],_0x380c3a=_0x202534[_0x5c18d1(0x4d7)](_0x4373de);_0x380c3a>-0x1&&(_0x202534[_0x380c3a]=_0x7df9f6['correctResponse']),currentQuizData[_0x5c18d1(0x2c2)][_0x5c18d1(0x1bc)](_0x101fd6=>{const _0x1c48af=_0x5c18d1;if(_0x101fd6['questionType']===_0x1c48af(0x729))_0x101fd6[_0x1c48af(0x9c2)]=_0x202534;});}currentQuizData['questions'][_0x522aa6]=_0x7df9f6,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x7df9f6;const _0x2d8038=document[_0x5c18d1(0x983)]('quiz-type-select')[_0x5c18d1(0x3eb)];currentQuizData[_0x5c18d1(0x91c)]=_0x2d8038,currentQuizData[_0x5c18d1(0x2c2)]&&currentQuizData[_0x5c18d1(0x2c2)][_0x5c18d1(0x1bc)](_0x949678=>{const _0xef3d7d=_0x5c18d1;if(!_0x949678[_0xef3d7d(0x225)]){if(_0x2d8038===_0xef3d7d(0x593))_0x949678[_0xef3d7d(0x225)]='multiple_choice';else _0x2d8038===_0xef3d7d(0x3a2)?_0x949678['questionType']='short_answer':_0x949678[_0xef3d7d(0x225)]=_0x2d8038;}}),displayGeneratedQuiz(currentQuizData);}}else{console['error']('Invalid\x20response\x20structure\x20from\x20AI:',JSON[_0x5c18d1(0x56f)](_0x46bfb4));throw new Error(_0x5c18d1(0x1d1));}}catch(_0x43fbc3){console[_0x5c18d1(0x8c0)](_0x5c18d1(0x288),_0x43fbc3),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง'),_0x522aa6===null&&(_0x19aace[_0x5c18d1(0x9ad)]=_0x5c18d1(0x4a0));}finally{_0x9cdb1['classList'][_0x5c18d1(0x9a9)](_0x5c18d1(0x540)),document[_0x5c18d1(0x983)](_0x5c18d1(0x1c9))[_0x5c18d1(0x383)]=![],document[_0x5c18d1(0x983)](_0x5c18d1(0x874))[_0x5c18d1(0x383)]=![],document['getElementById'](_0x5c18d1(0x2cc))[_0x5c18d1(0x383)]=![];const _0x3b4c76=document[_0x5c18d1(0x983)]('generate-from-file-btn');_0x3b4c76&&(_0x3b4c76['disabled']=![]);}}function exitFullscreen(){const _0x252771=_0x31ab05;if(document[_0x252771(0x2e6)])document[_0x252771(0x2e6)]()['catch'](_0x57d4e1=>console[_0x252771(0x8c0)](_0x57d4e1));else{if(document[_0x252771(0xa50)])document[_0x252771(0xa50)]();else document[_0x252771(0x595)]&&document[_0x252771(0x595)]();}}function enterFullscreen(){const _0x2c604b=_0x31ab05,_0x45a998=document[_0x2c604b(0xa83)];if(_0x45a998[_0x2c604b(0x40a)])_0x45a998['requestFullscreen']()[_0x2c604b(0x66b)](_0x16d2a7=>{const _0x187a32=_0x2c604b;console[_0x187a32(0x8c0)](_0x187a32(0x579)+_0x16d2a7['message']+'\x20('+_0x16d2a7['name']+')');});else{if(_0x45a998[_0x2c604b(0x232)])_0x45a998[_0x2c604b(0x232)]();else _0x45a998[_0x2c604b(0x1f7)]&&_0x45a998['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x13c21c=_0x31ab05;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x13c21c(0x702),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x13c21c(0x36d)+maxCheatAttempts+_0x13c21c(0x4bd)),document['getElementById'](_0x13c21c(0x914))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x13c21c(0x9a3),handleVisibilityChange),document[_0x13c21c(0x890)](_0x13c21c(0x706),handleFullscreenChange)):showMessage(_0x13c21c(0x46b)+cheatAttempts+'/'+maxCheatAttempts+_0x13c21c(0x397),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x2af278=_0x31ab05;if(currentMode===_0x2af278(0x9d2)||!isQuizActive)return;if(document[_0x2af278(0x47a)]==='hidden')handleCheatingEvent();else document[_0x2af278(0x47a)]==='visible'&&(console['log'](_0x2af278(0x6f6)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x3f2a5d=_0x31ab05;if(currentMode===_0x3f2a5d(0x9d2)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x4ba3fc){const _0x1b573f=_0x31ab05,_0x13e50e=document[_0x1b573f(0x983)](_0x1b573f(0x6fb));let _0x1ca93e=_0x1b573f(0x6d3)+_0x4ba3fc[_0x1b573f(0x88d)]+_0x1b573f(0x6d6);_0x4ba3fc[_0x1b573f(0x2c2)]['forEach']((_0x6bfce,_0x41d9e8)=>{const _0x2dfef9=_0x1b573f;!_0x6bfce['id']&&(_0x6bfce['id']='q_'+Date[_0x2dfef9(0x53f)]()+'_'+_0x41d9e8);const _0x4706e0=_0x6bfce[_0x2dfef9(0x225)]||_0x4ba3fc['quizType'];_0x1ca93e+=_0x2dfef9(0x422)+_0x41d9e8+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x41d9e8+_0x2dfef9(0x674)+_0x41d9e8+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x41d9e8+_0x2dfef9(0x302);switch(_0x4706e0){case _0x2dfef9(0x729):_0x1ca93e+=_0x2dfef9(0x3a4)+_0x41d9e8+'\x22>'+(_0x41d9e8+0x1)+'.\x20'+_0x6bfce['stem']+_0x2dfef9(0x989);_0x6bfce['imageCode']&&(_0x1ca93e+=_0x2dfef9(0xac4)+_0x41d9e8+_0x2dfef9(0x319)+_0x6bfce[_0x2dfef9(0x6bc)]+'</div>');_0x1ca93e+=_0x2dfef9(0x71e)+_0x41d9e8+'\x22>'+_0x6bfce[_0x2dfef9(0x965)]+_0x2dfef9(0x89f),_0x1ca93e+=_0x2dfef9(0x348)+_0x41d9e8+'\x22>'+_0x6bfce[_0x2dfef9(0x468)]+_0x2dfef9(0x89f);break;case _0x2dfef9(0x2f3):_0x1ca93e+=_0x2dfef9(0x3a4)+_0x41d9e8+'\x22>'+(_0x41d9e8+0x1)+'.\x20'+_0x6bfce[_0x2dfef9(0x60a)]+_0x2dfef9(0x989);_0x6bfce[_0x2dfef9(0x6bc)]&&(_0x1ca93e+=_0x2dfef9(0xac4)+_0x41d9e8+_0x2dfef9(0x319)+_0x6bfce['imageCode']+_0x2dfef9(0x603));_0x1ca93e+=_0x2dfef9(0x446)+_0x41d9e8+'\x22>'+_0x6bfce[_0x2dfef9(0x980)]+'</span></div>',_0x1ca93e+=_0x2dfef9(0x348)+_0x41d9e8+'\x22>'+_0x6bfce[_0x2dfef9(0x468)]+'</span></div>';break;case'true_false':_0x1ca93e+=_0x2dfef9(0x3a4)+_0x41d9e8+'\x22>'+(_0x41d9e8+0x1)+'.\x20'+_0x6bfce[_0x2dfef9(0x60a)]+_0x2dfef9(0x989);_0x6bfce[_0x2dfef9(0x6bc)]&&(_0x1ca93e+=_0x2dfef9(0xac4)+_0x41d9e8+_0x2dfef9(0x319)+_0x6bfce['imageCode']+_0x2dfef9(0x603));_0x1ca93e+=_0x2dfef9(0x39a)+(_0x6bfce[_0x2dfef9(0x1dc)]===!![]?_0x2dfef9(0x91b):'')+_0x2dfef9(0x617)+(_0x6bfce[_0x2dfef9(0x1dc)]===![]?'text-green-600\x20font-bold':'')+_0x2dfef9(0x7d7),_0x1ca93e+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x41d9e8+'\x22>'+_0x6bfce[_0x2dfef9(0x468)]+'</span></div>';break;case _0x2dfef9(0x425):case'multiple_choice':default:_0x1ca93e+=_0x2dfef9(0x3a4)+_0x41d9e8+'\x22>'+(_0x41d9e8+0x1)+'.\x20'+_0x6bfce[_0x2dfef9(0x60a)]+_0x2dfef9(0x989);_0x6bfce[_0x2dfef9(0x6bc)]&&(_0x1ca93e+=_0x2dfef9(0xac4)+_0x41d9e8+_0x2dfef9(0x319)+_0x6bfce[_0x2dfef9(0x6bc)]+_0x2dfef9(0x603));_0x1ca93e+=_0x2dfef9(0x78e)+_0x41d9e8+_0x2dfef9(0x893)+_0x6bfce[_0x2dfef9(0x9b4)]['map']((_0x2ada16,_0x148b39)=>_0x2dfef9(0x712)+(_0x148b39===_0x6bfce[_0x2dfef9(0x438)]?_0x2dfef9(0x91b):'')+'\x22>'+_0x2ada16+_0x2dfef9(0x1c7))['join']('')+_0x2dfef9(0x5f3),_0x1ca93e+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x41d9e8+'\x22>'+_0x6bfce['explanation']+'</span></div>';break;}_0x1ca93e+=_0x2dfef9(0x603);}),_0x1ca93e+=_0x1b573f(0x43a),_0x13e50e[_0x1b573f(0x9ad)]=_0x1ca93e,document[_0x1b573f(0x279)](_0x1b573f(0x84a))[_0x1b573f(0x1bc)](_0x41fb15=>_0x41fb15[_0x1b573f(0x7d4)](_0x1b573f(0x72b),handleEditQuestion)),document[_0x1b573f(0x279)](_0x1b573f(0x2ee))[_0x1b573f(0x1bc)](_0x2684b7=>_0x2684b7[_0x1b573f(0x7d4)](_0x1b573f(0x72b),handleRegenerateQuestion)),document['querySelectorAll'](_0x1b573f(0x304))[_0x1b573f(0x1bc)](_0x25afd0=>_0x25afd0['addEventListener'](_0x1b573f(0x72b),handleSaveToBank)),document[_0x1b573f(0x983)](_0x1b573f(0x9c5))[_0x1b573f(0x7d4)](_0x1b573f(0x72b),exportQuizAsWorksheetPDF),document[_0x1b573f(0x983)](_0x1b573f(0x52b))[_0x1b573f(0x7d4)](_0x1b573f(0x72b),saveQuiz),document[_0x1b573f(0x983)](_0x1b573f(0xa52))[_0x1b573f(0x7d4)]('click',handleVerifyAnswers);if(window[_0x1b573f(0x2cb)])window[_0x1b573f(0x2cb)][_0x1b573f(0x1de)]([_0x13e50e]);}function handleRegenerateQuestion(_0x1b40d6){const _0x542be3=_0x31ab05,_0x23919a=_0x1b40d6['currentTarget'][_0x542be3(0x700)][_0x542be3(0x85a)],_0x47bc1a=currentQuizData[_0x542be3(0x88d)];showMessage(_0x542be3(0x8ec)+(parseInt(_0x23919a)+0x1)+_0x542be3(0x860)),generateQuiz(_0x47bc1a,null,parseInt(_0x23919a));}function getPointerPosition(_0x4eb9b5,_0x2a54ba){const _0x47b112=_0x31ab05,_0x305cdd=_0x4eb9b5[_0x47b112(0x598)]();let _0x54712,_0x15db91;return _0x2a54ba[_0x47b112(0x3cf)]&&_0x2a54ba['touches'][_0x47b112(0xabc)]>0x0?(_0x54712=_0x2a54ba['touches'][0x0]['clientX'],_0x15db91=_0x2a54ba[_0x47b112(0x3cf)][0x0][_0x47b112(0x8a6)]):(_0x54712=_0x2a54ba['clientX'],_0x15db91=_0x2a54ba[_0x47b112(0x8a6)]),{'x':(_0x54712-_0x305cdd['e'])/_0x305cdd['a'],'y':(_0x15db91-_0x305cdd['f'])/_0x305cdd['d']};}function startDrag(_0x383b70){const _0x2fcf7b=_0x31ab05;_0x383b70['type']===_0x2fcf7b(0x4ea)&&_0x383b70[_0x2fcf7b(0x774)]();const _0x5773c8=_0x383b70[_0x2fcf7b(0x908)][_0x2fcf7b(0x8d2)](_0x2fcf7b(0x3b6));if(_0x5773c8){draggedSvgElement=_0x5773c8;const _0x35369d=draggedSvgElement[_0x2fcf7b(0x236)],_0x13fa39=getPointerPosition(_0x35369d,_0x383b70);svgOffset['x']=_0x13fa39['x']-parseFloat(draggedSvgElement[_0x2fcf7b(0x9f7)](null,'x')),svgOffset['y']=_0x13fa39['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x358557,_0x2b6d53){const _0x3db64f=_0x31ab05,_0x352c1d={};if(_0x2b6d53[_0x3db64f(0xabc)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x2f420b=[..._0x2b6d53][_0x3db64f(0x7ab)]((_0xceabfe,_0x4ab282)=>{const _0x409871=_0x3db64f,_0x46ace3=_0x4ab282[_0x409871(0x9a2)]-_0xceabfe['latestScore'];if(_0x46ace3!==0x0)return _0x46ace3;const _0x43917c=_0xceabfe[_0x409871(0xacf)]?.['length']||0x1,_0x2f19d2=_0x4ab282['attempts']?.[_0x409871(0xabc)]||0x1,_0x5298fa=_0x43917c-_0x2f19d2;if(_0x5298fa!==0x0)return _0x5298fa;const _0x5873f7=new Date(_0xceabfe[_0x409871(0x26c)]),_0x5b0e77=new Date(_0x4ab282[_0x409871(0x26c)]),_0xfd8dba=_0x5873f7-_0x5b0e77;if(_0xfd8dba!==0x0)return _0xfd8dba;return _0xceabfe['studentName'][_0x409871(0x5cc)](_0x4ab282[_0x409871(0x366)],'th');}),_0xea1225=_0x2f420b[_0x3db64f(0xabc)],_0x2dfcfc=Math[_0x3db64f(0x94e)](0x1,Math[_0x3db64f(0x273)](_0xea1225*0.33));if(_0x2dfcfc===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x28418a=_0x2f420b[_0x3db64f(0xa51)](0x0,_0x2dfcfc),_0x56f45d=_0x2f420b['slice'](-_0x2dfcfc),_0xae5170=_0x28418a[_0x3db64f(0x2e0)](_0x15e735=>_0x15e735[_0x3db64f(0x366)]),_0x4423a7=_0x56f45d['map'](_0x3bdf23=>_0x3bdf23['studentName']);return _0x358557[_0x3db64f(0x2c2)][_0x3db64f(0x1bc)]((_0x12b76b,_0x1539f9)=>{const _0x5100bd=_0x3db64f,_0x5a240b=_0x12b76b[_0x5100bd(0x2c1)]||_0x12b76b[_0x5100bd(0x60a)];let _0x5e774f=0x0,_0x1476e4=0x0,_0xe4d106=0x0;const _0x5007d3=[],_0x10face=[];_0x28418a[_0x5100bd(0x1bc)](_0x39844d=>{const _0x4bb587=_0x5100bd,_0x57489f=_0x39844d['attempts'][_0x39844d[_0x4bb587(0xacf)][_0x4bb587(0xabc)]-0x1],_0x213a4b=_0x57489f[_0x4bb587(0x646)][_0x4bb587(0x606)](_0x1a9a62=>_0x1a9a62[_0x4bb587(0x873)]===_0x5a240b);_0x5007d3[_0x4bb587(0x9b9)]({'name':_0x39844d[_0x4bb587(0x366)],'isCorrect':_0x213a4b?_0x213a4b[_0x4bb587(0x22d)]:![]}),_0x213a4b&&_0x213a4b[_0x4bb587(0x22d)]&&_0x1476e4++;}),_0x56f45d[_0x5100bd(0x1bc)](_0x5387e9=>{const _0x164a35=_0x5100bd,_0xa1d3bf=_0x5387e9[_0x164a35(0xacf)][_0x5387e9['attempts'][_0x164a35(0xabc)]-0x1],_0x492e8e=_0xa1d3bf[_0x164a35(0x646)][_0x164a35(0x606)](_0x9bca52=>_0x9bca52['originalQuestionText']===_0x5a240b);_0x10face['push']({'name':_0x5387e9[_0x164a35(0x366)],'isCorrect':_0x492e8e?_0x492e8e[_0x164a35(0x22d)]:![]}),_0x492e8e&&_0x492e8e['isCorrect']&&_0xe4d106++;}),_0x2b6d53[_0x5100bd(0x1bc)](_0x1a2701=>{const _0x1f3365=_0x5100bd,_0x1200f7=_0x1a2701[_0x1f3365(0xacf)][_0x1a2701['attempts'][_0x1f3365(0xabc)]-0x1],_0x1b0bec=_0x1200f7[_0x1f3365(0x646)]['find'](_0x3bb9b2=>_0x3bb9b2[_0x1f3365(0x873)]===_0x5a240b);_0x1b0bec&&_0x1b0bec['isCorrect']&&_0x5e774f++;});const _0x5bde26=_0xea1225>0x0?_0x5e774f/_0xea1225:0x0,_0x2d0914=_0x2dfcfc>0x0?_0x1476e4/_0x2dfcfc-_0xe4d106/_0x2dfcfc:0x0;_0x352c1d[_0x1539f9]={'p':_0x5bde26,'r':_0x2d0914,'upperGroupResponders':_0x5007d3,'lowerGroupResponders':_0x10face};}),{'perQuestionStats':_0x352c1d,'overallGroups':{'upperGroupNames':_0xae5170,'lowerGroupNames':_0x4423a7}};}function drag(_0x1c32ed){const _0x5d4767=_0x31ab05;if(draggedSvgElement){_0x1c32ed[_0x5d4767(0x774)]();const _0x5be110=draggedSvgElement[_0x5d4767(0x236)],_0x2e3783=getPointerPosition(_0x5be110,_0x1c32ed),_0x573ecc=_0x5be110[_0x5d4767(0x2a8)]['baseVal'];let _0x53ac8b=_0x2e3783['x']-svgOffset['x'],_0x3c2548=_0x2e3783['y']-svgOffset['y'];const _0x197d1f=draggedSvgElement['getBBox']();_0x53ac8b=Math['max'](_0x573ecc['x'],Math[_0x5d4767(0x265)](_0x53ac8b,_0x573ecc['x']+_0x573ecc[_0x5d4767(0x4a1)]-_0x197d1f[_0x5d4767(0x4a1)])),_0x3c2548=Math[_0x5d4767(0x94e)](_0x573ecc['y'],Math[_0x5d4767(0x265)](_0x3c2548,_0x573ecc['y']+_0x573ecc['height']-_0x197d1f[_0x5d4767(0x533)])),draggedSvgElement[_0x5d4767(0x3a3)](null,'x',_0x53ac8b),draggedSvgElement['setAttributeNS'](null,'y',_0x3c2548);}}function endDrag(_0x51137b){draggedSvgElement=null;}function handleSvgEditClick(_0x3ac6b9){const _0x83ddfa=_0x31ab05;if(_0x3ac6b9[_0x83ddfa(0x908)]['classList'][_0x83ddfa(0x4a5)](_0x83ddfa(0x413))){const _0xc11b78=_0x3ac6b9[_0x83ddfa(0x908)][_0x83ddfa(0x700)]['targetId'],_0x42f783=_0x3ac6b9['currentTarget'],_0x5066a9=_0x42f783['querySelector']('#'+_0xc11b78);_0x5066a9&&_0x5066a9[_0x83ddfa(0x195)](),_0x3ac6b9['target'][_0x83ddfa(0x195)]();}}function handleEditQuestion(_0x142887){const _0x3bf157=_0x31ab05,_0x18fc1e=_0x142887[_0x3bf157(0x25a)],_0x16d234=_0x18fc1e[_0x3bf157(0x700)][_0x3bf157(0x85a)],_0x2683b7=currentQuizData[_0x3bf157(0x2c2)][_0x16d234],_0x1954ea=document[_0x3bf157(0x983)]('q-text-'+_0x16d234),_0x2761fc=document[_0x3bf157(0x983)](_0x3bf157(0x1ac)+_0x16d234),_0x1cf327=document[_0x3bf157(0x983)](_0x3bf157(0x664)+_0x16d234);if(_0x18fc1e[_0x3bf157(0x9ad)][_0x3bf157(0x67a)](_0x3bf157(0x4cf))){_0x18fc1e[_0x3bf157(0x9ad)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x18fc1e['title']=_0x3bf157(0x338);if(_0x1954ea)_0x1954ea[_0x3bf157(0x402)]=!![];if(_0x2761fc)_0x2761fc[_0x3bf157(0x402)]=!![];if(_0x1cf327){const _0x2b250d=_0x1cf327[_0x3bf157(0x6d9)](_0x3bf157(0x286));if(_0x2b250d){const _0x29e78b=_0x2b250d[_0x3bf157(0x279)](_0x3bf157(0x622));_0x29e78b[_0x3bf157(0x1bc)]((_0x3ecae2,_0x34298f)=>{const _0x4cc3a3=_0x3bf157,_0x5cdc83=_0x4cc3a3(0x7eb)+_0x16d234+'-'+_0x34298f;_0x3ecae2['id']=_0x5cdc83,_0x3ecae2['classList'][_0x4cc3a3(0x9a9)](_0x4cc3a3(0x30f)),_0x3ecae2[_0x4cc3a3(0x58d)][_0x4cc3a3(0x686)]=_0x4cc3a3(0x991);const _0x2feee1=document[_0x4cc3a3(0x76d)](_0x4cc3a3(0x5ca),_0x4cc3a3(0x22f)),_0x563532=_0x3ecae2[_0x4cc3a3(0x47e)]();_0x2feee1[_0x4cc3a3(0x926)]('cx',String(_0x563532['x']+_0x563532[_0x4cc3a3(0x4a1)]+0x5)),_0x2feee1[_0x4cc3a3(0x926)]('cy',String(_0x563532['y']+_0x563532[_0x4cc3a3(0x533)]/0x2-0x5)),_0x2feee1[_0x4cc3a3(0x926)]('r','5'),_0x2feee1[_0x4cc3a3(0x926)]('fill',_0x4cc3a3(0x3dc)),_0x2feee1['setAttribute'](_0x4cc3a3(0x70c),_0x4cc3a3(0x413)),_0x2feee1['dataset'][_0x4cc3a3(0x2e1)]=_0x5cdc83,_0x3ecae2['after'](_0x2feee1);}),_0x2b250d[_0x3bf157(0x7d4)](_0x3bf157(0x708),startDrag),_0x2b250d[_0x3bf157(0x7d4)](_0x3bf157(0xa0a),drag),_0x2b250d[_0x3bf157(0x7d4)](_0x3bf157(0xa4c),endDrag),_0x2b250d[_0x3bf157(0x7d4)]('mouseleave',endDrag),_0x2b250d[_0x3bf157(0x7d4)](_0x3bf157(0x4ea),startDrag,{'passive':![]}),_0x2b250d[_0x3bf157(0x7d4)](_0x3bf157(0x86d),drag,{'passive':![]}),_0x2b250d['addEventListener'](_0x3bf157(0xa3e),endDrag),_0x2b250d[_0x3bf157(0x7d4)](_0x3bf157(0x2a3),endDrag),_0x2b250d[_0x3bf157(0x7d4)](_0x3bf157(0x72b),handleSvgEditClick);}}if(_0x1954ea)_0x1954ea[_0x3bf157(0x45e)]();}else{_0x18fc1e[_0x3bf157(0x9ad)]=_0x3bf157(0x181),_0x18fc1e[_0x3bf157(0x63d)]=_0x3bf157(0xa23);if(_0x1954ea){_0x1954ea[_0x3bf157(0x402)]=![];const _0x4bead0=_0x2683b7['questionType']||currentQuizData['quizType'];_0x4bead0==='matching_item'?_0x2683b7['stem']=_0x1954ea[_0x3bf157(0x6ec)][_0x3bf157(0x797)](_0x1954ea[_0x3bf157(0x6ec)][_0x3bf157(0x4d7)]('.')+0x2)[_0x3bf157(0x68c)]():_0x2683b7[_0x3bf157(0x60a)]=_0x1954ea[_0x3bf157(0x6ec)][_0x3bf157(0x797)](_0x1954ea[_0x3bf157(0x6ec)]['indexOf']('.')+0x2)[_0x3bf157(0x68c)]();}_0x2761fc&&(_0x2761fc[_0x3bf157(0x402)]=![],_0x2683b7[_0x3bf157(0x468)]=_0x2761fc[_0x3bf157(0x6ec)]);if(_0x1cf327){const _0x42d501=_0x1cf327[_0x3bf157(0x6d9)](_0x3bf157(0x286));if(_0x42d501){const _0x3424a1=_0x42d501['cloneNode'](!![]);_0x3424a1[_0x3bf157(0x279)](_0x3bf157(0x601))[_0x3bf157(0x1bc)](_0x162f06=>_0x162f06[_0x3bf157(0x195)]()),_0x3424a1[_0x3bf157(0x279)](_0x3bf157(0x3b6))[_0x3bf157(0x1bc)](_0x5ebaed=>{const _0x46df74=_0x3bf157;_0x5ebaed[_0x46df74(0x7b1)]['remove'](_0x46df74(0x30f)),_0x5ebaed[_0x46df74(0x58d)][_0x46df74(0x686)]=_0x46df74(0x775),_0x5ebaed[_0x46df74(0x74b)]('id');}),_0x2683b7[_0x3bf157(0x6bc)]=_0x3424a1[_0x3bf157(0x978)],_0x42d501['removeEventListener']('mousedown',startDrag),_0x42d501[_0x3bf157(0x890)]('mousemove',drag),_0x42d501[_0x3bf157(0x890)](_0x3bf157(0xa4c),endDrag),_0x42d501[_0x3bf157(0x890)]('mouseleave',endDrag),_0x42d501[_0x3bf157(0x890)](_0x3bf157(0x4ea),startDrag),_0x42d501[_0x3bf157(0x890)]('touchmove',drag),_0x42d501[_0x3bf157(0x890)](_0x3bf157(0xa3e),endDrag),_0x42d501[_0x3bf157(0x890)](_0x3bf157(0x2a3),endDrag),_0x42d501[_0x3bf157(0x890)](_0x3bf157(0x72b),handleSvgEditClick),_0x42d501[_0x3bf157(0x279)]('.delete-svg-btn')[_0x3bf157(0x1bc)](_0x2acf1c=>_0x2acf1c[_0x3bf157(0x195)]()),_0x42d501[_0x3bf157(0x279)](_0x3bf157(0x3b6))['forEach'](_0x1d7a0b=>{const _0x23aef8=_0x3bf157;_0x1d7a0b['classList']['remove'](_0x23aef8(0x30f)),_0x1d7a0b[_0x23aef8(0x58d)][_0x23aef8(0x686)]=_0x23aef8(0x775);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x32866c){const _0x56a4df=_0x31ab05,_0x3416c3=document['getElementById'](_0x56a4df(0x4fb)),_0x4121e0=document[_0x56a4df(0x983)](_0x56a4df(0xa64));_0x4121e0[_0x56a4df(0x9ad)]=_0x56a4df(0x9d3),_0x3416c3[_0x56a4df(0x7b1)]['remove'](_0x56a4df(0x540));try{const _0x4ec2cb=doc(db,_0x56a4df(0x9ac)+appId+_0x56a4df(0x519),_0x32866c),_0x19466d=await getDoc(_0x4ec2cb);if(!_0x19466d['exists']())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x32866c,..._0x19466d[_0x56a4df(0x943)]()},renderQuizEditor(currentEditingQuizData);}catch(_0xb98084){console[_0x56a4df(0x8c0)](_0x56a4df(0x423),_0xb98084),showMessage(_0x56a4df(0x91f)),_0x3416c3[_0x56a4df(0x7b1)][_0x56a4df(0x9a9)]('hidden');}}function renderQuizEditor(_0x458d3a){const _0x3d4d60=_0x31ab05;document['getElementById'](_0x3d4d60(0x778))[_0x3d4d60(0x3eb)]=_0x458d3a[_0x3d4d60(0x88d)];const _0x4bbe75=document[_0x3d4d60(0x983)]('quiz-editor-questions-container');let _0x17e760=_0x458d3a['questions'][_0x3d4d60(0x2e0)]((_0x1c2fd6,_0x230548)=>{const _0x2fdf97=_0x3d4d60;let _0x49e489='';const _0x4b7f1f=_0x1c2fd6['questionType']||_0x458d3a[_0x2fdf97(0x91c)];switch(_0x4b7f1f){case _0x2fdf97(0x373):const _0x564c58=(_0x1c2fd6[_0x2fdf97(0x9b4)]||[])[_0x2fdf97(0x2e0)]((_0x16170c,_0x541f8f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x230548+_0x2fdf97(0x56d)+_0x541f8f+'\x22\x20'+(_0x541f8f===_0x1c2fd6[_0x2fdf97(0x438)]?'checked':'')+_0x2fdf97(0x97d)+_0x16170c+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2fdf97(0x62f)]('');_0x49e489=_0x2fdf97(0x3f0)+_0x564c58+_0x2fdf97(0x1f2);break;case _0x2fdf97(0x2f3):_0x49e489='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x1c2fd6['idealAnswer']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x2fdf97(0x486):_0x49e489='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x230548+_0x2fdf97(0x90b)+(_0x1c2fd6[_0x2fdf97(0x1dc)]===!![]?_0x2fdf97(0x616):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x230548+_0x2fdf97(0x59a)+(_0x1c2fd6[_0x2fdf97(0x1dc)]===![]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x2fdf97(0x729):_0x49e489=_0x2fdf97(0x9aa)+(_0x1c2fd6[_0x2fdf97(0x965)]||'')+_0x2fdf97(0xa85);break;}const _0x2cf2b3=_0x1c2fd6[_0x2fdf97(0x60a)]||_0x1c2fd6['stem']||'';return _0x2fdf97(0x5c1)+_0x230548+_0x2fdf97(0x5bc)+_0x4b7f1f+_0x2fdf97(0x6aa)+(_0x230548+0x1)+'\x20('+_0x4b7f1f+'):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x2cf2b3+_0x2fdf97(0x572)+_0x49e489+_0x2fdf97(0x216);})['join']('');_0x4bbe75[_0x3d4d60(0x9ad)]=_0x17e760,_0x4bbe75[_0x3d4d60(0x279)](_0x3d4d60(0x95f))[_0x3d4d60(0x1bc)](_0x17f7f5=>{const _0x5e8506=_0x3d4d60;_0x17f7f5[_0x5e8506(0x7d4)](_0x5e8506(0x72b),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x1447db){const _0x1a529e=_0x31ab05,_0x351e48=_0x1447db['currentTarget'],_0x13caac=_0x351e48['closest'](_0x1a529e(0x783));if(!_0x13caac)return;const _0x287756=parseInt(_0x13caac[_0x1a529e(0x700)][_0x1a529e(0x620)],0xa);if(isNaN(_0x287756)||!currentEditingQuizData[_0x1a529e(0x2c2)][_0x287756]){showMessage(_0x1a529e(0x224));return;}const _0x2b5985=currentEditingQuizData[_0x1a529e(0x2c2)][_0x287756];_0x351e48[_0x1a529e(0x9ad)]=_0x1a529e(0x7e4),_0x351e48[_0x1a529e(0x383)]=!![];const _0x1f196a=_0x1a529e(0x2b1)+JSON['stringify'](_0x2b5985)+_0x1a529e(0x520);let _0x4f72d8;const _0x355117=_0x2b5985[_0x1a529e(0x225)]||currentEditingQuizData[_0x1a529e(0x91c)];switch(_0x355117){case _0x1a529e(0x2f3):_0x4f72d8={'type':'OBJECT','properties':{'questionText':{'type':_0x1a529e(0x62a)},'idealAnswer':{'type':_0x1a529e(0x62a)},'explanation':{'type':_0x1a529e(0x62a)},'imageCode':{'type':_0x1a529e(0x62a)}},'required':[_0x1a529e(0x60a),'idealAnswer',_0x1a529e(0x468)]};break;case'multiple_choice':default:_0x4f72d8={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x1a529e(0xa49),'items':{'type':_0x1a529e(0x62a)}},'correctAnswerIndex':{'type':_0x1a529e(0x1e3)},'explanation':{'type':_0x1a529e(0x62a)},'imageCode':{'type':_0x1a529e(0x62a)}},'required':[_0x1a529e(0x60a),_0x1a529e(0x9b4),_0x1a529e(0x438),_0x1a529e(0x468)]};break;}try{let _0xef5c8=await callAnalysisApi(_0x1f196a,_0x4f72d8);_0xef5c8[_0x1a529e(0x9b4)]&&Array[_0x1a529e(0x76c)](_0xef5c8[_0x1a529e(0x9b4)])&&(_0xef5c8['options']=_0xef5c8['options'][_0x1a529e(0x2e0)](_0x1a03fd=>typeof _0x1a03fd==='string'?_0x1a03fd[_0x1a529e(0x972)](/S(\s*[\d_]+?\s*)S/g,_0x1a529e(0x8b9)):_0x1a03fd)),_0x2b5985[_0x1a529e(0x6bc)]&&_0x2b5985[_0x1a529e(0x6bc)]['includes'](_0x1a529e(0x18e))&&(_0xef5c8[_0x1a529e(0x6bc)]=''),currentEditingQuizData[_0x1a529e(0x2c2)][_0x287756]={..._0x2b5985,..._0xef5c8},renderQuizEditor(currentEditingQuizData),showMessage(_0x1a529e(0x970));}catch(_0x5eda9d){console[_0x1a529e(0x8c0)](_0x1a529e(0xa59),_0x5eda9d),showMessage(_0x1a529e(0x87b)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x45b564=_0x31ab05,_0x5dcf7c=document[_0x45b564(0x983)](_0x45b564(0x214));_0x5dcf7c[_0x45b564(0x383)]=!![],_0x5dcf7c[_0x45b564(0x9ad)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x2acbf0=document[_0x45b564(0x983)](_0x45b564(0x778))['value'],_0x3717ff=document[_0x45b564(0x279)](_0x45b564(0x783));let _0x372e7d=[];const _0x958333=Array[_0x45b564(0xa96)](_0x3717ff)[_0x45b564(0x2e0)]((_0x25b35b,_0x1c582c)=>{const _0x384fcc=_0x45b564,_0x150176=_0x25b35b[_0x384fcc(0x700)]['qType'],_0x31b736=_0x25b35b[_0x384fcc(0x6d9)](_0x384fcc(0x8e4))[_0x384fcc(0x3eb)];let _0x1b6638={'questionType':_0x150176};const _0x210a8e=currentEditingQuizData[_0x384fcc(0x2c2)][_0x1c582c];switch(_0x150176){case _0x384fcc(0x373):_0x1b6638[_0x384fcc(0x60a)]=_0x31b736;const _0x33602f=_0x25b35b[_0x384fcc(0x279)](_0x384fcc(0xa6e));_0x1b6638[_0x384fcc(0x9b4)]=Array['from'](_0x33602f)['map'](_0x3c3379=>_0x3c3379[_0x384fcc(0x3eb)]);const _0x168d16=_0x25b35b['querySelector']('input[type=\x22radio\x22]:checked');_0x1b6638[_0x384fcc(0x438)]=_0x168d16?parseInt(_0x168d16[_0x384fcc(0x3eb)]):0x0;break;case _0x384fcc(0x2f3):_0x1b6638[_0x384fcc(0x60a)]=_0x31b736,_0x1b6638[_0x384fcc(0x980)]=_0x25b35b[_0x384fcc(0x6d9)](_0x384fcc(0x3bb))[_0x384fcc(0x3eb)];break;case _0x384fcc(0x486):_0x1b6638[_0x384fcc(0x60a)]=_0x31b736;const _0x2f3ce1=_0x25b35b[_0x384fcc(0x6d9)](_0x384fcc(0x342));_0x1b6638[_0x384fcc(0x1dc)]=_0x2f3ce1?_0x2f3ce1[_0x384fcc(0x3eb)]===_0x384fcc(0xa61):!![];break;case _0x384fcc(0x729):_0x1b6638[_0x384fcc(0x2c1)]=_0x31b736;const _0x39a671=_0x25b35b[_0x384fcc(0x6d9)]('.correct-response-input');_0x1b6638[_0x384fcc(0x965)]=_0x39a671?_0x39a671[_0x384fcc(0x3eb)]:'',_0x372e7d[_0x384fcc(0x9b9)](_0x1b6638[_0x384fcc(0x965)]);break;default:_0x1b6638['questionText']=_0x31b736;break;}return{..._0x210a8e,..._0x1b6638};});_0x372e7d[_0x45b564(0xabc)]>0x0&&_0x958333[_0x45b564(0x1bc)](_0x28ab63=>{const _0x42dc9c=_0x45b564;_0x28ab63[_0x42dc9c(0x225)]===_0x42dc9c(0x729)&&(_0x28ab63[_0x42dc9c(0x9c2)]=_0x372e7d);});const _0x10f1c1=currentEditingQuizData['id'],_0x47adcc=doc(db,_0x45b564(0x9ac)+appId+'/public/data/quizzes',_0x10f1c1);await updateDoc(_0x47adcc,{'topic':_0x2acbf0,'questions':_0x958333}),document[_0x45b564(0x983)](_0x45b564(0x4fb))[_0x45b564(0x7b1)][_0x45b564(0x9a9)](_0x45b564(0x540)),showMessage(_0x45b564(0x3da),()=>initiateReGradeProcess(_0x10f1c1));}catch(_0x44e626){console[_0x45b564(0x8c0)](_0x45b564(0x94d),_0x44e626),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x5dcf7c['disabled']=![],_0x5dcf7c[_0x45b564(0x9ad)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x38d920){const _0x470723=_0x31ab05;showMessage(_0x470723(0x345));try{const _0xfec1a2=doc(db,_0x470723(0x9ac)+appId+_0x470723(0x519),_0x38d920),_0x57a7a4=await getDoc(_0xfec1a2);if(!_0x57a7a4[_0x470723(0x9da)]())throw new Error(_0x470723(0x182));const _0x269e4e={'id':_0x38d920,..._0x57a7a4[_0x470723(0x943)]()},_0x1b7a38=collection(db,_0x470723(0x9ac)+appId+_0x470723(0x519),_0x38d920,_0x470723(0x4af)),_0x36af70=await getDocs(_0x1b7a38);if(_0x36af70[_0x470723(0x3c8)]){showMessage(_0x470723(0x816));return;}const _0x25342a=_0x36af70[_0x470723(0x2f9)][_0x470723(0x2e0)](_0x4ce279=>reGradeSingleSubmission(_0x4ce279,_0x269e4e));await Promise[_0x470723(0x1d2)](_0x25342a);if(_0x269e4e['projectId']){const _0x2b901c=doc(db,_0x470723(0x9ac)+appId+_0x470723(0x5e8),_0x269e4e[_0x470723(0x7b7)]),_0x1e01f3=await getDoc(_0x2b901c);if(_0x1e01f3[_0x470723(0x9da)]()&&_0x1e01f3['data']()[_0x470723(0xa76)]){const _0x454fb5=_0x1e01f3[_0x470723(0x943)]()[_0x470723(0xa76)]['map'](_0x5ba5c8=>updateStudentProfile(_0x269e4e[_0x470723(0x7b7)],_0x5ba5c8));await Promise['all'](_0x454fb5);}}showMessage(_0x470723(0x45d)+_0x36af70[_0x470723(0x7f9)]+_0x470723(0x554));}catch(_0xf230f3){console[_0x470723(0x8c0)]('Re-grade\x20process\x20failed:',_0xf230f3),showMessage(_0x470723(0x899)+_0xf230f3[_0x470723(0xa8c)]);}}async function reGradeSingleSubmission(_0xce55c1,_0x4cff6c){const _0x4fb838=_0x31ab05,_0x4f78e7=_0xce55c1[_0x4fb838(0x943)](),_0x4bdaa3=_0x4f78e7[_0x4fb838(0x366)],_0x1365f7=_0x4f78e7[_0x4fb838(0xacf)]||[],_0x484e1f=[];for(const _0xc8e82 of _0x1365f7){let _0x4f7ee3=0x0,_0x457726=[],_0x34bec4=0x0;const _0x4da323=[];for(const _0x5d45df of _0xc8e82[_0x4fb838(0x646)]){let _0x5862ad;_0x5d45df['questionId']&&(_0x5862ad=_0x4cff6c[_0x4fb838(0x2c2)][_0x4fb838(0x606)](_0x9a1b57=>_0x9a1b57['id']===_0x5d45df[_0x4fb838(0x88c)]));!_0x5862ad&&_0x5d45df[_0x4fb838(0x873)]&&(_0x5862ad=_0x4cff6c[_0x4fb838(0x2c2)][_0x4fb838(0x606)](_0x584e31=>(_0x584e31[_0x4fb838(0x2c1)]||_0x584e31[_0x4fb838(0x60a)])===_0x5d45df[_0x4fb838(0x873)]));let _0x254835=![];if(_0x5862ad){const _0x4c3d44=_0x5862ad[_0x4fb838(0x225)]||_0x4cff6c['quizType'];switch(_0x4c3d44){case'multiple_choice':if(_0x5862ad[_0x4fb838(0x9b4)]&&_0x5862ad[_0x4fb838(0x438)]<_0x5862ad[_0x4fb838(0x9b4)][_0x4fb838(0xabc)]){const _0x3fd420=_0x5862ad[_0x4fb838(0x9b4)][_0x5862ad[_0x4fb838(0x438)]];_0x254835=_0x5d45df[_0x4fb838(0x5f8)]===_0x3fd420;}break;case _0x4fb838(0x486):const _0x39deae=_0x5d45df[_0x4fb838(0x94b)]===!![]||_0x5d45df[_0x4fb838(0x94b)]===_0x4fb838(0xa61);_0x254835=_0x39deae===_0x5862ad['correctAnswer'];break;case _0x4fb838(0x729):_0x254835=_0x5d45df[_0x4fb838(0x94b)]===_0x5862ad['correctResponse'];break;case _0x4fb838(0x2f3):_0x254835=await gradeShortAnswer(_0x5d45df['answer'],_0x5862ad);break;default:_0x254835=_0x5d45df[_0x4fb838(0x22d)];break;}}if(_0x254835){_0x4f7ee3++,_0x34bec4++;if(_0x34bec4===0x3)_0x457726[_0x4fb838(0x9b9)](BADGES['ON_FIRE']['id']);}else _0x34bec4=0x0;_0x4da323[_0x4fb838(0x9b9)]({..._0x5d45df,'isCorrect':_0x254835});}let _0x5ab039=_0x4f7ee3*0xa;_0x4f7ee3===_0x4cff6c[_0x4fb838(0x2c2)]['length']&&(_0x5ab039+=0x32,_0x457726[_0x4fb838(0x9b9)](BADGES[_0x4fb838(0x8bf)]['id'])),_0x484e1f['push']({..._0xc8e82,'score':_0x4f7ee3,'points':_0x5ab039,'badges':Array[_0x4fb838(0xa96)](new Set(_0x457726)),'answers':_0x4da323});}const _0x34852a=_0x484e1f[_0x4fb838(0xabc)]>0x0?_0x484e1f[0x0][_0x4fb838(0x941)]:0x0,_0x5c03d9=Math[_0x4fb838(0x94e)](..._0x484e1f[_0x4fb838(0x2e0)](_0x125838=>_0x125838[_0x4fb838(0x941)])),_0x209039=_0x484e1f[_0x4fb838(0xabc)]>0x0?_0x484e1f[_0x484e1f[_0x4fb838(0xabc)]-0x1][_0x4fb838(0x941)]:0x0,_0x238950=_0x484e1f[_0x4fb838(0xabc)]>0x0?_0x484e1f[_0x484e1f[_0x4fb838(0xabc)]-0x1]['points']:0x0,_0x582ac8=doc(db,_0x4fb838(0x9ac)+appId+'/public/data/quizzes/'+_0x4cff6c['id']+_0x4fb838(0x830),_0x4bdaa3);await updateDoc(_0x582ac8,{'attempts':_0x484e1f,'firstScore':_0x34852a,'bestScore':_0x5c03d9,'latestScore':_0x209039,'points':_0x238950});}function cleanupQuizOptions(_0x55c5d1){const _0x2a12fd=_0x31ab05,_0x4bc492=(_0x2eadbb,_0x398a3b)=>_0x398a3b===0x0?_0x2eadbb:_0x4bc492(_0x398a3b,_0x2eadbb%_0x398a3b),_0x462583=_0x1e3984=>{const _0x2a2aae=_0x4d4b;if(typeof _0x1e3984!==_0x2a2aae(0x1e8))return null;_0x1e3984=_0x1e3984['trim']();const _0x1fc304=_0x1e3984['split'](/[ /]/)[_0x2a2aae(0x8af)](_0x10e587=>_0x10e587!=='');if(_0x1fc304[_0x2a2aae(0xabc)]===0x3)return parseInt(_0x1fc304[0x0])+parseInt(_0x1fc304[0x1])/parseInt(_0x1fc304[0x2]);else{if(_0x1fc304['length']===0x2)return parseInt(_0x1fc304[0x0])/parseInt(_0x1fc304[0x1]);else{if(_0x1fc304['length']===0x1&&!isNaN(_0x1fc304[0x0]))return parseFloat(_0x1fc304[0x0]);}}return null;},_0x464226=_0x5e22b8=>{const _0x410af8=_0x4d4b;if(typeof _0x5e22b8!==_0x410af8(0x1e8))return _0x5e22b8;const _0x595427=_0x5e22b8['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x595427){const _0x5d43bf=parseInt(_0x595427[0x1]);let _0x35b1cc=parseInt(_0x595427[0x2]),_0x3ef983=parseInt(_0x595427[0x3]);const _0x539910=_0x4bc492(_0x35b1cc,_0x3ef983);_0x35b1cc/=_0x539910,_0x3ef983/=_0x539910;if(_0x3ef983===0x1)return(_0x5d43bf+_0x35b1cc)[_0x410af8(0x278)]();return _0x5d43bf+'\x20'+_0x35b1cc+'/'+_0x3ef983;}return _0x5e22b8;};return _0x55c5d1&&_0x55c5d1[_0x2a12fd(0x2c2)]&&_0x55c5d1['questions'][_0x2a12fd(0x1bc)](_0x5a3828=>{const _0x42ff3a=_0x2a12fd;if(_0x5a3828[_0x42ff3a(0x225)]===_0x42ff3a(0x373)&&_0x5a3828[_0x42ff3a(0x9b4)]){const _0x5ec1e6=new Map(),_0x51e832=_0x5a3828[_0x42ff3a(0x9b4)][_0x5a3828[_0x42ff3a(0x438)]];_0x5a3828[_0x42ff3a(0x9b4)][_0x42ff3a(0x1bc)](_0x2ab034=>{const _0x1aab21=_0x42ff3a,_0x450856=_0x464226(_0x2ab034),_0x2725ce=_0x462583(_0x450856);_0x2725ce!==null&&!_0x5ec1e6[_0x1aab21(0x478)](_0x2725ce)&&_0x5ec1e6['set'](_0x2725ce,_0x450856);}),_0x5a3828[_0x42ff3a(0x9b4)]=Array[_0x42ff3a(0xa96)](_0x5ec1e6[_0x42ff3a(0x33d)]());const _0x2ce270=_0x5a3828[_0x42ff3a(0x9b4)][_0x42ff3a(0x4de)](_0x19b35e=>_0x19b35e===_0x464226(_0x51e832));_0x5a3828[_0x42ff3a(0x438)]=_0x2ce270!==-0x1?_0x2ce270:0x0;}}),_0x55c5d1;}function showGameStartConfirmationModal(_0x387a16,_0x139097,_0x22559f){const _0x5d72fd=_0x31ab05,_0x1d5b21=document[_0x5d72fd(0x983)](_0x5d72fd(0x17c));document[_0x5d72fd(0x983)](_0x5d72fd(0x3c2))[_0x5d72fd(0x36e)]=_0x5d72fd(0x5fc)+_0x22559f,document[_0x5d72fd(0x983)](_0x5d72fd(0xa0d))[_0x5d72fd(0x3eb)]=_0x387a16,document[_0x5d72fd(0x983)](_0x5d72fd(0x3f8))[_0x5d72fd(0x3eb)]=_0x139097,document['getElementById'](_0x5d72fd(0x28a))['checked']=!![],_0x1d5b21[_0x5d72fd(0x7b1)][_0x5d72fd(0x195)](_0x5d72fd(0x540));}async function saveGameResultsAsSubmissions(_0x414b6b){const _0x5b239d=_0x31ab05;console['log'](_0x5b239d(0x3c0),_0x414b6b);const _0x4f1431=_0x414b6b[_0x5b239d(0x61d)];let _0x49ce51=[];if(_0x414b6b[_0x5b239d(0x72f)])_0x49ce51=Object[_0x5b239d(0x1d9)](_0x414b6b[_0x5b239d(0x72f)])[_0x5b239d(0x2e0)](([_0x1d5cff,_0x170b2e])=>({'name':_0x1d5cff,..._0x170b2e}));else{if(_0x414b6b['groups'])Object[_0x5b239d(0x33d)](_0x414b6b[_0x5b239d(0x398)])[_0x5b239d(0x1bc)](_0x11addd=>{_0x11addd['members']['forEach'](_0x38cb22=>{_0x49ce51['push']({'name':_0x38cb22,'score':_0x11addd['score']});});});else _0x414b6b[_0x5b239d(0x625)]&&Object[_0x5b239d(0x1d9)](_0x414b6b[_0x5b239d(0x625)])[_0x5b239d(0x1bc)](([_0x1a2cd9,_0x24d681])=>{const _0x3fd08d=_0x5b239d;_0x49ce51[_0x3fd08d(0x9b9)]({'name':_0x1a2cd9,..._0x24d681});});}if(_0x49ce51['length']===0x0){console[_0x5b239d(0x4a9)]('No\x20player\x20data\x20to\x20save.');return;}const _0x1229f1=_0x414b6b[_0x5b239d(0x25c)]?.['questions'][_0x5b239d(0xabc)]||currentQuizData[_0x5b239d(0x2c2)][_0x5b239d(0xabc)],_0x4452bd=writeBatch(db);for(const _0x54907f of _0x49ce51){const _0x50b452=_0x54907f[_0x5b239d(0x941)]||0x0,_0x43067b=doc(db,_0x5b239d(0x9ac)+appId+'/public/data/quizzes/'+_0x4f1431+_0x5b239d(0x830),_0x54907f[_0x5b239d(0x73f)]),_0x86e5f4={'score':_0x50b452,'points':_0x50b452*0xa,'badges':_0x54907f[_0x5b239d(0x487)]||[],'submittedAt':new Date()[_0x5b239d(0x340)](),'answers':(_0x54907f[_0x5b239d(0x646)]||[])[_0x5b239d(0x2e0)](_0xebf4de=>({'questionId':_0xebf4de['questionId'],'answer':_0xebf4de[_0x5b239d(0x94b)],'answerText':_0xebf4de[_0x5b239d(0x5f8)],'isCorrect':_0xebf4de[_0x5b239d(0x22d)],'originalQuestionText':_0xebf4de['originalQuestionText']}))},_0x246ea2=await getDoc(_0x43067b),_0x53c6e4=_0x246ea2[_0x5b239d(0x9da)]()?_0x246ea2[_0x5b239d(0x943)]():{},_0x630f1a=_0x53c6e4['bestScore']||0x0,_0x137a21=_0x53c6e4[_0x5b239d(0xacf)]||[],_0x207690={'studentName':_0x54907f[_0x5b239d(0x73f)],'totalQuestions':_0x1229f1,'attempts':arrayUnion(_0x86e5f4),'latestScore':_0x50b452,'latestSubmittedAt':_0x86e5f4[_0x5b239d(0x35c)],'bestScore':Math[_0x5b239d(0x94e)](_0x630f1a,_0x50b452),'firstScore':_0x137a21[_0x5b239d(0xabc)]===0x0?_0x50b452:_0x53c6e4[_0x5b239d(0x2ea)]||0x0};_0x4452bd[_0x5b239d(0x20b)](_0x43067b,_0x207690,{'merge':!![]});}try{await _0x4452bd[_0x5b239d(0x24e)](),showMessage(_0x5b239d(0x66c)+_0x49ce51[_0x5b239d(0xabc)]+_0x5b239d(0x2a1));const _0x28c8f2=_0x414b6b[_0x5b239d(0x25c)]?.['projectId']||currentQuizData?.[_0x5b239d(0x7b7)]||currentProjectId;if(_0x28c8f2){const _0x48108a=[...new Set(_0x49ce51['map'](_0x78fde6=>_0x78fde6[_0x5b239d(0x73f)]))];for(const _0x20cfe8 of _0x48108a){await updateStudentProfile(_0x28c8f2,_0x20cfe8);}}}catch(_0x930763){console[_0x5b239d(0x8c0)](_0x5b239d(0xa47),_0x930763),showMessage('เกิดข้อผิดพลาดในการบันทึกผลจากเกม');}}async function saveQuiz(){const _0x3a30ac=_0x31ab05;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x3a30ac(0x2c2)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x4cb385=document[_0x3a30ac(0x983)]('save-quiz-btn');_0x4cb385['disabled']=!![],_0x4cb385[_0x3a30ac(0x9ad)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x244daf=document[_0x3a30ac(0x983)](_0x3a30ac(0xac7))[_0x3a30ac(0x616)];let _0x503b56=document[_0x3a30ac(0x983)](_0x3a30ac(0x322))[_0x3a30ac(0x6ec)]['trim']();_0x244daf&&!_0x503b56[_0x3a30ac(0x3ea)](_0x3a30ac(0x9be))&&(_0x503b56=_0x3a30ac(0x819)+_0x503b56);try{const _0x23f4b1={'resultsDisplay':document[_0x3a30ac(0x983)](_0x3a30ac(0x70b))[_0x3a30ac(0x3eb)],'shuffle':document[_0x3a30ac(0x983)]('shuffle-setting-select')[_0x3a30ac(0x3eb)],'timerMode':document[_0x3a30ac(0x983)](_0x3a30ac(0x187))['value'],'timerDuration':parseInt(document[_0x3a30ac(0x983)](_0x3a30ac(0x328))['value'])||0xa,'passingScore':parseInt(document[_0x3a30ac(0x983)]('passing-score-input')[_0x3a30ac(0x3eb)])||0x0,'isAdaptive':document[_0x3a30ac(0x983)](_0x3a30ac(0x6ea))[_0x3a30ac(0x616)],'loopUntilPass':document[_0x3a30ac(0x983)]('loop-until-pass-checkbox')[_0x3a30ac(0x616)]},_0x390c72=(currentQuizData[_0x3a30ac(0x2c2)]||[])[_0x3a30ac(0x2e0)]((_0x24a357,_0x4ad54c)=>{const _0x5a5503=_0x3a30ac,_0x150536=document['getElementById'](_0x5a5503(0x28c))[_0x5a5503(0x3eb)],_0x40a402={'id':'q_'+Date['now']()+'_'+_0x4ad54c,'questionText':_0x24a357[_0x5a5503(0x60a)]||'','explanation':_0x24a357[_0x5a5503(0x468)]||_0x5a5503(0x509),'questionType':_0x24a357['questionType']||_0x150536,'imageCode':_0x24a357[_0x5a5503(0x6bc)]||null};return(_0x40a402[_0x5a5503(0x225)]===_0x5a5503(0x373)||_0x40a402[_0x5a5503(0x225)]===_0x5a5503(0x593)||_0x40a402[_0x5a5503(0x225)]==='mixed'&&_0x24a357[_0x5a5503(0x9b4)])&&(_0x40a402['options']=_0x24a357[_0x5a5503(0x9b4)]||[],_0x40a402['correctAnswerIndex']=_0x24a357[_0x5a5503(0x438)]!==undefined?_0x24a357[_0x5a5503(0x438)]:0x0),(_0x40a402[_0x5a5503(0x225)]===_0x5a5503(0x2f3)||_0x40a402[_0x5a5503(0x225)]==='fill_in_no_choices'||_0x40a402['questionType']===_0x5a5503(0x90f)&&_0x24a357[_0x5a5503(0x980)])&&(_0x40a402[_0x5a5503(0x980)]=_0x24a357[_0x5a5503(0x980)]||''),_0x40a402['questionType']==='true_false'&&(_0x40a402[_0x5a5503(0x1dc)]=_0x24a357[_0x5a5503(0x1dc)]===!![]),_0x40a402['questionType']===_0x5a5503(0x729)&&(_0x40a402[_0x5a5503(0x2c1)]=_0x24a357['stem']||'',_0x40a402[_0x5a5503(0x965)]=_0x24a357[_0x5a5503(0x965)]||'',_0x40a402[_0x5a5503(0x9c2)]=_0x24a357[_0x5a5503(0x9c2)]||[]),_0x40a402;}),_0x52ed33={'topic':_0x503b56,'quizType':currentQuizData[_0x3a30ac(0x91c)]||_0x3a30ac(0x373),'questions':_0x390c72,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x3a30ac(0x340)](),'status':_0x3a30ac(0x799),'settings':_0x23f4b1,'quizMode':_0x244daf?_0x3a30ac(0x848):'standard','pairedQuizId':null,'lessonPlan':null};let _0x4f93d5;while(!![]){_0x4f93d5=Math[_0x3a30ac(0x273)](0x3e8+Math['random']()*0x2328)[_0x3a30ac(0x278)]();const _0x5f117f=await getDoc(doc(db,'artifacts/'+appId+_0x3a30ac(0x519),_0x4f93d5));if(!_0x5f117f[_0x3a30ac(0x9da)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x3a30ac(0x519),_0x4f93d5),_0x52ed33),currentQuizData[_0x3a30ac(0x363)]=_0x23f4b1,currentQuizData['id']=_0x4f93d5;const _0x50eaa5=document['getElementById']('generated-quiz-actions');_0x50eaa5[_0x3a30ac(0x9ad)]=_0x3a30ac(0x7a9)+_0x4f93d5+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document['getElementById'](_0x3a30ac(0x1f0))[_0x3a30ac(0x7d4)](_0x3a30ac(0x72b),()=>copyTextToClipboard(_0x4f93d5,_0x3a30ac(0x73b))),document['getElementById'](_0x3a30ac(0x489))[_0x3a30ac(0x7d4)]('click',()=>handleStartLiveRace(_0x4f93d5)),document[_0x3a30ac(0x983)](_0x3a30ac(0x5e7))[_0x3a30ac(0x7d4)](_0x3a30ac(0x72b),()=>startPresentation(currentQuizData)),document[_0x3a30ac(0x983)](_0x3a30ac(0xa11))['addEventListener'](_0x3a30ac(0x72b),startAdminTest),showMessage(_0x3a30ac(0x47b));}catch(_0x507226){console[_0x3a30ac(0x8c0)]('Error\x20saving\x20quiz:',_0x507226),showMessage(_0x3a30ac(0x6cb)),_0x4cb385[_0x3a30ac(0x383)]=![],_0x4cb385['innerHTML']=_0x3a30ac(0x243);}}function promptForProjectAndSave(){const _0x8e96c7=_0x31ab05,_0x18e1ab=document[_0x8e96c7(0x983)](_0x8e96c7(0xa8e)),_0x3a988a=document[_0x8e96c7(0x983)]('move-quiz-project-select'),_0xf00d5a=_0x18e1ab[_0x8e96c7(0x6d9)]('h3'),_0x3b0849=document[_0x8e96c7(0x983)]('confirm-move-quiz-btn');_0xf00d5a[_0x8e96c7(0x36e)]='เลือกโปรเจคเพื่อบันทึก',_0x3b0849['textContent']=_0x8e96c7(0x52a);allProjects['length']===0x0?(_0x3a988a['innerHTML']=_0x8e96c7(0xa9f),_0x3b0849[_0x8e96c7(0x383)]=!![]):(_0x3a988a[_0x8e96c7(0x9ad)]=allProjects[_0x8e96c7(0x2e0)](_0x55ac62=>_0x8e96c7(0x420)+_0x55ac62['id']+'\x22>'+_0x55ac62['projectName']+_0x8e96c7(0x6e0))['join'](''),_0x3b0849[_0x8e96c7(0x383)]=![]);_0x18e1ab[_0x8e96c7(0x7b1)]['remove'](_0x8e96c7(0x540));const _0x4675be=()=>{const _0x5a8f51=_0x8e96c7,_0x49b600=_0x3a988a[_0x5a8f51(0x3eb)];_0x49b600?(currentProjectId=_0x49b600,_0x18e1ab[_0x5a8f51(0x7b1)]['add']('hidden'),saveQuiz(),_0xf00d5a[_0x5a8f51(0x36e)]=_0x5a8f51(0x8f8),_0x3b0849[_0x5a8f51(0x36e)]='ย้าย',_0x3b0849[_0x5a8f51(0x890)](_0x5a8f51(0x72b),_0x4675be),_0x3b0849['addEventListener']('click',confirmMoveQuiz)):showMessage(_0x5a8f51(0x8ab));};_0x3b0849[_0x8e96c7(0x890)](_0x8e96c7(0x72b),confirmMoveQuiz),_0x3b0849[_0x8e96c7(0x7d4)]('click',_0x4675be);}function copyTextToClipboard(_0xde67c1,_0x3d6549){const _0x2fb714=_0x31ab05,_0x47ed01=document['createElement'](_0x2fb714(0x8e4));_0x47ed01[_0x2fb714(0x3eb)]=_0xde67c1,_0x47ed01[_0x2fb714(0x58d)][_0x2fb714(0x490)]='fixed',_0x47ed01[_0x2fb714(0x58d)][_0x2fb714(0x25e)]='0',document[_0x2fb714(0x44d)]['appendChild'](_0x47ed01),_0x47ed01[_0x2fb714(0x45e)](),_0x47ed01['select']();try{const _0x57d5d5=document[_0x2fb714(0x86a)](_0x2fb714(0x75c));showMessage(_0x57d5d5?_0x3d6549:_0x2fb714(0x7c2));}catch(_0x577cb8){showMessage('คัดลอกไม่สำเร็จ'),console[_0x2fb714(0x8c0)](_0x2fb714(0x4fe),_0x577cb8);}document[_0x2fb714(0x44d)][_0x2fb714(0x683)](_0x47ed01);}function listenForProjectQuizzes(_0x2e7d4c){const _0x11322c=_0x31ab05,_0x33b87=collection(db,'artifacts/'+appId+_0x11322c(0x519)),_0x466b3a=query(_0x33b87,where(_0x11322c(0x7b7),'==',_0x2e7d4c));unsubscribeQuizzesListener=onSnapshot(_0x466b3a,async _0x280ae8=>{const _0x18ff23=_0x11322c;allQuizzes=_0x280ae8['docs']['map'](_0x95cb34=>({'id':_0x95cb34['id'],..._0x95cb34[_0x18ff23(0x943)]()})),renderQuizzes();},_0x55cddf=>{const _0x5ade47=_0x11322c;console['error'](_0x5ade47(0x306),_0x55cddf),document['getElementById'](_0x5ade47(0x552))[_0x5ade47(0x9ad)]=_0x5ade47(0x4ee);});}async function renderQuizzes(){const _0x4f0bd3=_0x31ab05,_0x294f02=document[_0x4f0bd3(0x983)]('project-quizzes-list'),_0x4a1877=document[_0x4f0bd3(0x983)](_0x4f0bd3(0x337))[_0x4f0bd3(0x3eb)][_0x4f0bd3(0x46a)]();let _0x2d36cc;currentProjectId==='starred'?_0x2d36cc=starredQuizzes:_0x2d36cc=allQuizzes;let _0x5307d7=_0x2d36cc[_0x4f0bd3(0x8af)](_0x201377=>_0x201377[_0x4f0bd3(0x88d)]['toLowerCase']()[_0x4f0bd3(0x67a)](_0x4a1877));_0x5307d7[_0x4f0bd3(0x7ab)]((_0x3e4dc2,_0x5d5d25)=>new Date(_0x5d5d25[_0x4f0bd3(0x695)])-new Date(_0x3e4dc2['createdAt']));if(_0x5307d7['length']===0x0){_0x294f02[_0x4f0bd3(0x9ad)]=_0x4f0bd3(0x5d4);return;}const _0x2a548a={},_0x455430=_0x5307d7[_0x4f0bd3(0x2e0)](async _0x5d75cd=>{const _0xc61beb=_0x4f0bd3,_0x395aad=collection(db,_0xc61beb(0x9ac)+appId+_0xc61beb(0x8b8)+_0x5d75cd['id']+_0xc61beb(0x830)),_0x2c7d76=await getDocs(_0x395aad);_0x2a548a[_0x5d75cd['id']]=_0x2c7d76[_0xc61beb(0x7f9)];});await Promise['all'](_0x455430);let _0xe5543b='';_0x5307d7[_0x4f0bd3(0x1bc)](_0x3b11fd=>{const _0x1574e6=_0x4f0bd3,_0x1cd8b7=_0x2a548a[_0x3b11fd['id']]||0x0,_0x4d3936=_0x3b11fd[_0x1574e6(0xa1f)]||_0x1574e6(0x799),_0x222e18=_0x3b11fd[_0x1574e6(0x363)]?.[_0x1574e6(0x960)]||_0x1574e6(0x548);let _0x47cc98='',_0x463f47='';const _0xf4cd77=new Date();let _0xd9c1e6=_0x4d3936;if(_0x4d3936===_0x1574e6(0x254)){const _0x5c8a91=_0x3b11fd['startTime']?new Date(_0x3b11fd[_0x1574e6(0x5b1)]):null,_0x57b5bc=_0x3b11fd[_0x1574e6(0x1e9)]?new Date(_0x3b11fd[_0x1574e6(0x1e9)]):null;if(_0x57b5bc&&_0xf4cd77>_0x57b5bc)_0xd9c1e6='inactive';else _0x5c8a91&&_0xf4cd77<_0x5c8a91?_0xd9c1e6=_0x1574e6(0x389):_0xd9c1e6=_0x1574e6(0x799);}switch(_0xd9c1e6){case'inactive':_0x47cc98=_0x1574e6(0x68f),_0x463f47='text-red-700\x20bg-red-100';break;case _0x1574e6(0x389):_0x47cc98=_0x1574e6(0x99c),_0x463f47=_0x1574e6(0x6a8);break;case _0x1574e6(0x799):_0x47cc98=_0x222e18!==_0x1574e6(0x548)?'เปิด\x20(จับเวลา)':'เปิดใช้งาน',_0x463f47=_0x1574e6(0x6e6);break;default:_0x47cc98=_0x1574e6(0x432),_0x463f47=_0x1574e6(0x6e6);break;}let _0x5bce8c='';const _0x36041b={'day':'2-digit','month':'2-digit','year':'numeric','hour':_0x1574e6(0x909),'minute':_0x1574e6(0x909),'hour12':![]};if(_0x4d3936==='scheduled'){if(_0x3b11fd[_0x1574e6(0x5b1)])_0x5bce8c+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x3b11fd[_0x1574e6(0x5b1)])[_0x1574e6(0x642)](_0x1574e6(0x463),_0x36041b)+_0x1574e6(0x989);if(_0x3b11fd['endTime'])_0x5bce8c+=_0x1574e6(0x3d3)+new Date(_0x3b11fd['endTime'])[_0x1574e6(0x642)](_0x1574e6(0x463),_0x36041b)+_0x1574e6(0x989);}let _0xc133dd='';if(_0x3b11fd[_0x1574e6(0x5c0)]){const _0xb18eb6=allQuizzes[_0x1574e6(0x606)](_0x4b0d83=>_0x4b0d83['id']===_0x3b11fd[_0x1574e6(0x5c0)]);if(_0xb18eb6){let _0x5aab66,_0x3e76a7;new Date(_0x3b11fd[_0x1574e6(0x695)])<new Date(_0xb18eb6[_0x1574e6(0x695)])?(_0x5aab66=_0x3b11fd['id'],_0x3e76a7=_0xb18eb6['id']):(_0x5aab66=_0xb18eb6['id'],_0x3e76a7=_0x3b11fd['id']),_0xc133dd+=_0x1574e6(0x7c1)+_0x3e76a7+'\x22\x20data-pre-test-id=\x22'+_0x5aab66+_0x1574e6(0x7b8);}}else _0x3b11fd[_0x1574e6(0xa9d)]===_0x1574e6(0x848)&&(_0xc133dd+=_0x1574e6(0x1ea)+_0x3b11fd['id']+_0x1574e6(0x17a));if(_0x3b11fd[_0x1574e6(0xa9d)]===_0x1574e6(0x848)&&_0x1cd8b7>0x0)_0xc133dd+=_0x1574e6(0x1ea)+_0x3b11fd['id']+_0x1574e6(0x2cd);else!_0x3b11fd[_0x1574e6(0x5c0)]&&_0x3b11fd[_0x1574e6(0xa9d)]!=='pre-test'&&_0x1cd8b7>0x0&&(_0xc133dd+=_0x1574e6(0x1ea)+_0x3b11fd['id']+_0x1574e6(0xa0c));let _0x16f7c0='';_0x3b11fd['pairedQuizId']?_0x16f7c0='<button\x20data-quiz-id=\x22'+_0x3b11fd['id']+_0x1574e6(0x27c):_0x16f7c0=_0x1574e6(0x795)+_0x3b11fd['id']+_0x1574e6(0x497),_0xe5543b+=_0x1574e6(0x7d5)+_0x3b11fd['id']+_0x1574e6(0x1ab)+_0x3b11fd[_0x1574e6(0x88d)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x3b11fd['questions'][_0x1574e6(0xabc)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x3b11fd[_0x1574e6(0x695)])[_0x1574e6(0x642)]('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x1cd8b7+_0x1574e6(0x900)+_0x5bce8c+_0x1574e6(0x180)+_0x463f47+'\x22>'+_0x47cc98+_0x1574e6(0x80e)+_0x3b11fd['id']+_0x1574e6(0x6a0)+_0x3b11fd['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x3b11fd[_0x1574e6(0x5ad)]?_0x1574e6(0x7ce):_0x1574e6(0x5be))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc133dd+_0x1574e6(0x38e)+_0x3b11fd['id']+_0x1574e6(0x1a4)+_0x3b11fd['id']+_0x1574e6(0x939)+_0x3b11fd['id']+_0x1574e6(0x258)+_0x3b11fd['id']+_0x1574e6(0x8ad)+_0x3b11fd['id']+_0x1574e6(0x7ac)+_0x3b11fd['id']+_0x1574e6(0x55a)+_0x3b11fd['id']+_0x1574e6(0x28f)+_0x3b11fd[_0x1574e6(0x88d)]+_0x1574e6(0x91d)+_0x3b11fd['id']+_0x1574e6(0x222)+_0x3b11fd['id']+_0x1574e6(0x54c)+_0x16f7c0+_0x1574e6(0x806)+_0x3b11fd['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3b11fd['id']+_0x1574e6(0x818)+_0x3b11fd['id']+_0x1574e6(0x518)+_0x3b11fd['id']+_0x1574e6(0x18b)+_0x3b11fd['id']+_0x1574e6(0x709)+_0x3b11fd['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3b11fd['id']+_0x1574e6(0x4c4)+_0x3b11fd['id']+'\x22\x20data-topic=\x22'+_0x3b11fd[_0x1574e6(0x88d)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x3b11fd['id']+_0x1574e6(0xa9c);}),_0x294f02[_0x4f0bd3(0x9ad)]=_0xe5543b,document[_0x4f0bd3(0x279)]('.quiz-result-card')[_0x4f0bd3(0x1bc)](_0x1f442e=>{const _0xb52112=_0x4f0bd3;_0x1f442e[_0xb52112(0x7d4)](_0xb52112(0x72b),()=>{const _0x34a52c=_0xb52112,_0x21d6cd=_0x1f442e[_0x34a52c(0x700)][_0x34a52c(0x61d)];showQuizDetailView(_0x21d6cd);});});}async function handleUnpairQuiz(_0x5d6497){const _0xa80222=_0x31ab05,_0x1d0184=allQuizzes[_0xa80222(0x606)](_0x15813f=>_0x15813f['id']===_0x5d6497);if(!_0x1d0184||!_0x1d0184[_0xa80222(0x5c0)]){showMessage(_0xa80222(0x591));return;}showConfirmation(_0xa80222(0x731),async()=>{const _0x45403d=_0xa80222;try{const _0x3f150a=doc(db,_0x45403d(0x9ac)+appId+_0x45403d(0x519),_0x5d6497),_0x5bb56b=doc(db,_0x45403d(0x9ac)+appId+'/public/data/quizzes',_0x1d0184[_0x45403d(0x5c0)]),_0x25492b=writeBatch(db);_0x25492b[_0x45403d(0xa9e)](_0x3f150a,{'pairedQuizId':null}),_0x25492b[_0x45403d(0xa9e)](_0x5bb56b,{'pairedQuizId':null}),await _0x25492b[_0x45403d(0x24e)](),showMessage(_0x45403d(0x89e));}catch(_0x4bd3c0){console['error'](_0x45403d(0x35a),_0x4bd3c0),showMessage(_0x45403d(0xabe));}});}function formatAndPrintLessonPlan(_0x27d2df,_0x4d0355){const _0x3e1962=_0x31ab05,_0x236e3f=window[_0x3e1962(0x793)]('',_0x3e1962(0xa48)),_0x551050=_0x3e1962(0x34e)+_0x4d0355[_0x3e1962(0x88d)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x4d0355[_0x3e1962(0x88d)]+_0x3e1962(0xa6d)+_0x27d2df[_0x3e1962(0x43f)]['map'](_0x5cf842=>'<li>'+_0x5cf842+_0x3e1962(0x1c7))[_0x3e1962(0x62f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x27d2df[_0x3e1962(0x8a4)]+_0x3e1962(0x5ab)+_0x27d2df[_0x3e1962(0x282)]['map'](_0x4b61c9=>_0x3e1962(0x634)+_0x4b61c9[_0x3e1962(0x4c1)]+_0x3e1962(0x23e)+_0x4b61c9[_0x3e1962(0x311)]+_0x3e1962(0x3d6))[_0x3e1962(0x62f)]('')+_0x3e1962(0x24d);_0x236e3f[_0x3e1962(0x284)][_0x3e1962(0x226)](_0x551050),_0x236e3f[_0x3e1962(0x284)][_0x3e1962(0x188)](),_0x236e3f[_0x3e1962(0x24c)]=function(){setTimeout(()=>{const _0x259389=_0x4d4b;_0x236e3f[_0x259389(0x8c9)]();},0x3e8);};}async function handleAiFixFormula(_0xcf606f){const _0x49e2e4=_0x31ab05,_0x212ae2=document[_0x49e2e4(0x6d9)](_0x49e2e4(0x364)+_0xcf606f+'\x22]');if(!_0x212ae2)return;const _0x51e789=_0x212ae2[_0x49e2e4(0x700)]['qType'],_0x2d3837=_0x212ae2[_0x49e2e4(0x6d9)]('.ai-fix-formula-btn');let _0x4ffe17={'question':_0x212ae2['querySelector']('textarea')['value']};switch(_0x51e789){case _0x49e2e4(0x373):_0x4ffe17[_0x49e2e4(0x9b4)]=Array[_0x49e2e4(0xa96)](_0x212ae2[_0x49e2e4(0x279)]('input[type=\x22text\x22]'))[_0x49e2e4(0x2e0)](_0x3cf0a8=>_0x3cf0a8[_0x49e2e4(0x3eb)]);break;case _0x49e2e4(0x2f3):_0x4ffe17[_0x49e2e4(0x980)]=_0x212ae2[_0x49e2e4(0x6d9)](_0x49e2e4(0x3bb))['value'];break;case _0x49e2e4(0x729):_0x4ffe17['correctResponse']=_0x212ae2['querySelector']('.correct-response-input')[_0x49e2e4(0x3eb)];break;}_0x2d3837[_0x49e2e4(0x9ad)]=_0x49e2e4(0x7e4),_0x2d3837[_0x49e2e4(0x383)]=!![];try{const _0x4a142a=_0x49e2e4(0x573)+JSON[_0x49e2e4(0x56f)](_0x4ffe17)+_0x49e2e4(0x491),_0x465d81={'type':'OBJECT','properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x49e2e4(0x62a)},'options':{'type':'ARRAY','items':{'type':_0x49e2e4(0x62a)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x49e2e4(0x62a)}},'required':[_0x49e2e4(0x4c1)]}},'required':[_0x49e2e4(0x997)]},_0x4c37db=await callAnalysisApi(_0x4a142a,_0x465d81);if(_0x4c37db&&_0x4c37db[_0x49e2e4(0x997)]){const _0x57013b=_0x4c37db['fixedData'];_0x212ae2[_0x49e2e4(0x6d9)](_0x49e2e4(0x8e4))[_0x49e2e4(0x3eb)]=_0x57013b['question']||_0x4ffe17[_0x49e2e4(0x4c1)];switch(_0x51e789){case _0x49e2e4(0x373):_0x57013b['options']&&_0x57013b[_0x49e2e4(0x9b4)][_0x49e2e4(0xabc)]>0x0&&_0x212ae2['querySelectorAll'](_0x49e2e4(0xa6e))[_0x49e2e4(0x1bc)]((_0x2cedb4,_0x1acaf6)=>{const _0x46f366=_0x49e2e4;_0x2cedb4[_0x46f366(0x3eb)]=_0x57013b[_0x46f366(0x9b4)][_0x1acaf6]||_0x4ffe17[_0x46f366(0x9b4)][_0x1acaf6];});break;case'short_answer':_0x212ae2['querySelector'](_0x49e2e4(0x3bb))[_0x49e2e4(0x3eb)]=_0x57013b[_0x49e2e4(0x980)]||_0x4ffe17[_0x49e2e4(0x980)];break;case _0x49e2e4(0x729):_0x212ae2[_0x49e2e4(0x6d9)]('.correct-response-input')[_0x49e2e4(0x3eb)]=_0x57013b[_0x49e2e4(0x965)]||_0x4ffe17[_0x49e2e4(0x965)];break;}if(_0x4ffe17[_0x49e2e4(0x4c1)]!==_0x57013b['question'])try{const _0x2a72e4=collection(db,_0x49e2e4(0x9ac)+appId+'/public/data/learnedFixes');await addDoc(_0x2a72e4,{'broken':_0x4ffe17[_0x49e2e4(0x4c1)],'fixed':_0x57013b[_0x49e2e4(0x4c1)],'createdAt':serverTimestamp()});}catch(_0x4e94cb){console[_0x49e2e4(0x8c0)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x4e94cb);}showMessage(_0x49e2e4(0x31c));}else throw new Error(_0x49e2e4(0x6fe));}catch(_0xef5b2a){console[_0x49e2e4(0x8c0)](_0x49e2e4(0x88a),_0xef5b2a),showMessage(_0x49e2e4(0x50f));}finally{_0x2d3837[_0x49e2e4(0x9ad)]=_0x49e2e4(0x936),_0x2d3837['disabled']=![];}}async function handleGenerateLessonPlan(_0xaea7ba){const _0xe0547c=_0x31ab05;showMessage(_0xe0547c(0x1eb));try{const _0x6723a9=doc(db,'artifacts/'+appId+_0xe0547c(0x519),_0xaea7ba),_0x48c94c=await getDoc(_0x6723a9);if(!_0x48c94c[_0xe0547c(0x9da)]())throw new Error(_0xe0547c(0x182));const _0x2d5eec={'id':_0xaea7ba,..._0x48c94c[_0xe0547c(0x943)]()},_0x186f29=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0xaea7ba,_0xe0547c(0x4af)),_0x5d72e0=await getDocs(_0x186f29),_0x40cf3f=_0x5d72e0[_0xe0547c(0x2f9)][_0xe0547c(0x2e0)](_0x50b42b=>_0x50b42b[_0xe0547c(0x943)]());if(_0x40cf3f[_0xe0547c(0xabc)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x2cf85e=calculateItemAnalysis(_0x2d5eec,_0x40cf3f)[_0xe0547c(0x7a8)],_0x2117ae=calculateDistractorAnalysis(_0x2d5eec,_0x40cf3f),_0x71b487=_0x3e083a=>{const _0x7927ee=_0xe0547c;if(!_0x3e083a)return'';return _0x3e083a[_0x7927ee(0x972)](/\\/g,'\x5c\x5c')[_0x7927ee(0x972)](/"/g,'\x5c\x22')[_0x7927ee(0x972)](/\n/g,'\x5cn');};let _0xee2807=_0xe0547c(0x76f);_0x2d5eec[_0xe0547c(0x2c2)][_0xe0547c(0x1bc)]((_0x3e53c3,_0x3ef538)=>{const _0x11bb60=_0xe0547c,_0x5a1a06=_0x2cf85e[_0x3ef538]?.['p'][_0x11bb60(0x7c0)](0x2)||_0x11bb60(0x83e),_0x469537=_0x2cf85e[_0x3ef538]?.['r'][_0x11bb60(0x7c0)](0x2)||'N/A',_0x3cec7b=_0x71b487(_0x3e53c3[_0x11bb60(0x60a)]||_0x3e53c3[_0x11bb60(0x2c1)]);_0xee2807+=_0x11bb60(0x79c)+(_0x3ef538+0x1)+'\x20(p='+_0x5a1a06+_0x11bb60(0x83b)+_0x469537+_0x11bb60(0x3ce)+_0x3cec7b+'\x5cn';if(_0x3e53c3[_0x11bb60(0x225)]===_0x11bb60(0x373)&&_0x2117ae[_0x3ef538]){const _0x4041e5=_0x2117ae[_0x3ef538],_0x4d0a8d=Object['keys'](_0x4041e5)['filter'](_0x5d7ea9=>parseInt(_0x5d7ea9)!==_0x3e53c3[_0x11bb60(0x438)])[_0x11bb60(0x7ab)]((_0x152600,_0x304429)=>_0x4041e5[_0x304429]['total']-_0x4041e5[_0x152600][_0x11bb60(0x8f4)])[0x0];if(_0x4d0a8d&&_0x4041e5[_0x4d0a8d][_0x11bb60(0x8f4)]>0x0){const _0x4508fe=_0x71b487(_0x4041e5[_0x4d0a8d][_0x11bb60(0x622)]);_0xee2807+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x4508fe+_0x11bb60(0x22e);}}});const _0x2a5676=_0xe0547c(0x500)+_0x2d5eec['topic']+_0xe0547c(0x69a)+_0xee2807+_0xe0547c(0x600),_0x3b13bb={'type':_0xe0547c(0x6f5),'properties':{'learningGaps':{'type':_0xe0547c(0xa49),'items':{'type':_0xe0547c(0x62a)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':'ARRAY','items':{'type':_0xe0547c(0x6f5),'properties':{'question':{'type':_0xe0547c(0x62a)},'solution':{'type':_0xe0547c(0x62a)}}}}},'required':[_0xe0547c(0x43f),_0xe0547c(0x8a4),_0xe0547c(0x282)]},_0x4a0325=await callAnalysisApi(_0x2a5676,_0x3b13bb);await updateDoc(_0x6723a9,{'lessonPlan':_0x4a0325});const _0x3ce432=_0xe0547c(0xa89)+_0x2d5eec[_0xe0547c(0x88d)]+_0xe0547c(0x2e3)+_0x4a0325['learningGaps'][_0xe0547c(0x2e0)](_0x242200=>'<li>'+_0x242200+_0xe0547c(0x1c7))[_0xe0547c(0x62f)]('')+_0xe0547c(0x590)+_0x4a0325[_0xe0547c(0x8a4)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x4a0325['practiceProblems'][_0xe0547c(0x2e0)](_0x29247d=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x29247d[_0xe0547c(0x4c1)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x29247d[_0xe0547c(0x311)]+'</p></div>')['join']('')+_0xe0547c(0xa44);document[_0xe0547c(0x983)]('lesson-plan-title')[_0xe0547c(0x36e)]=_0xe0547c(0x7a0)+_0x2d5eec[_0xe0547c(0x88d)],document[_0xe0547c(0x983)]('lesson-plan-content')[_0xe0547c(0x9ad)]=_0x3ce432,document[_0xe0547c(0x983)]('lesson-plan-modal')[_0xe0547c(0x7b1)][_0xe0547c(0x195)](_0xe0547c(0x540));if(window['MathJax'])MathJax[_0xe0547c(0x1de)]();messageModal[_0xe0547c(0x7b1)][_0xe0547c(0x9a9)](_0xe0547c(0x540));}catch(_0x18cdde){console[_0xe0547c(0x8c0)](_0xe0547c(0x7cf),_0x18cdde),showMessage(_0xe0547c(0x63c)+_0x18cdde[_0xe0547c(0xa8c)]);}}async function handleDuplicateQuiz(_0x5a62d1){const _0x19f26a=_0x31ab05;try{const _0x26d8ad=doc(db,_0x19f26a(0x9ac)+appId+_0x19f26a(0x519),_0x5a62d1),_0x3c387a=await getDoc(_0x26d8ad);if(_0x3c387a[_0x19f26a(0x9da)]()){const _0x24e5d3=_0x3c387a[_0x19f26a(0x943)]();let _0x2979a5='',_0x212cd9='standard',_0x24e6de=null;if(_0x24e5d3[_0x19f26a(0xa9d)]==='pre-test'){let _0x3c744b=_0x24e5d3[_0x19f26a(0x88d)][_0x19f26a(0x972)]('(ก่อนเรียน)','')['trim']();_0x2979a5='(หลังเรียน)\x20'+_0x3c744b,_0x212cd9='post-test',_0x24e6de=_0x5a62d1;}else _0x2979a5=_0x19f26a(0x1b3)+_0x24e5d3[_0x19f26a(0x88d)];const _0x1e2813={..._0x24e5d3,'topic':_0x2979a5,'createdAt':new Date()[_0x19f26a(0x340)](),'quizMode':_0x212cd9,'pairedQuizId':_0x24e6de};let _0x2925fa;while(!![]){_0x2925fa=Math[_0x19f26a(0x273)](0x3e8+Math[_0x19f26a(0x4aa)]()*0x2328)[_0x19f26a(0x278)]();const _0xfa1c1f=await getDoc(doc(db,_0x19f26a(0x9ac)+appId+_0x19f26a(0x519),_0x2925fa));if(!_0xfa1c1f[_0x19f26a(0x9da)]())break;}const _0x4bfabd=doc(db,_0x19f26a(0x9ac)+appId+_0x19f26a(0x519),_0x2925fa);await setDoc(_0x4bfabd,_0x1e2813),_0x1e2813[_0x19f26a(0xa9d)]===_0x19f26a(0x8d6)&&await updateDoc(_0x26d8ad,{'pairedQuizId':_0x2925fa}),showMessage(_0x19f26a(0x1e0));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x21566d){console['error']('Error\x20duplicating\x20quiz:',_0x21566d),showMessage(_0x19f26a(0xab5));}}async function handleDeleteQuiz(_0x18922c,_0x50cd97=!![]){const _0x6adf0b=_0x31ab05;try{const _0x2fe32b=writeBatch(db),_0x1ce0a1=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x18922c+_0x6adf0b(0x830)),_0xbaa8c8=await getDocs(_0x1ce0a1);_0xbaa8c8[_0x6adf0b(0x1bc)](_0x37f964=>{_0x2fe32b['delete'](doc(_0x1ce0a1,_0x37f964['id']));});const _0x1fc660=doc(db,_0x6adf0b(0x9ac)+appId+_0x6adf0b(0x519),_0x18922c);_0x2fe32b[_0x6adf0b(0x522)](_0x1fc660),await _0x2fe32b[_0x6adf0b(0x24e)](),_0x50cd97&&showMessage(_0x6adf0b(0x198));}catch(_0x1c0a2e){console[_0x6adf0b(0x8c0)](_0x6adf0b(0xa3d),_0x1c0a2e),_0x50cd97&&showMessage(_0x6adf0b(0xaae));}}async function showQuizDetailView(_0x6036f8){const _0x2f34f1=_0x31ab05;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x2f34f1(0xa27));try{const _0x54c819=doc(db,_0x2f34f1(0x9ac)+appId+_0x2f34f1(0x519),_0x6036f8),_0x59528c=await getDoc(_0x54c819);if(!_0x59528c[_0x2f34f1(0x9da)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0xcfdc42={'id':_0x59528c['id'],..._0x59528c[_0x2f34f1(0x943)]()};currentQuizData=_0xcfdc42;const _0x5b245e=doc(db,'artifacts/'+appId+_0x2f34f1(0x5e8),_0xcfdc42[_0x2f34f1(0x7b7)]),_0x5f2716=await getDoc(_0x5b245e);_0x5f2716[_0x2f34f1(0x9da)]()?(currentProjectData=_0x5f2716[_0x2f34f1(0x943)](),currentProjectId=_0xcfdc42[_0x2f34f1(0x7b7)]):(currentProjectData={'students':[]},currentProjectId=_0xcfdc42['projectId']);document[_0x2f34f1(0x983)](_0x2f34f1(0x755))[_0x2f34f1(0x36e)]=_0xcfdc42[_0x2f34f1(0x88d)],document['getElementById'](_0x2f34f1(0x88b))[_0x2f34f1(0x36e)]=_0x6036f8;const _0x9198e3=collection(db,_0x2f34f1(0x9ac)+appId+'/public/data/quizzes',_0x6036f8,_0x2f34f1(0x4af));unsubscribeSubmissionsListener=onSnapshot(_0x9198e3,_0x32a269=>{const _0x52d8e5=_0x2f34f1,_0x474ac6=_0x32a269[_0x52d8e5(0x2f9)][_0x52d8e5(0x2e0)](_0x5a9aaa=>({'id':_0x5a9aaa['id'],..._0x5a9aaa[_0x52d8e5(0x943)]()}));currentSubmissions=_0x474ac6;const _0x2835d9=_0x474ac6['filter'](_0x1e9155=>_0x1e9155['attempts']&&_0x1e9155[_0x52d8e5(0xacf)][_0x52d8e5(0xabc)]>0x0);renderBehaviorLog(_0x474ac6),renderAnswerGrid(currentProjectData[_0x52d8e5(0xa76)],_0x2835d9,_0xcfdc42),renderAnalytics(_0xcfdc42,_0x2835d9),renderQuizResultsTable(currentProjectData['students'],_0x474ac6,_0xcfdc42),renderQuizLeaderboard(_0x2835d9,_0xcfdc42,_0x52d8e5(0x51a));}),showView(_0x2f34f1(0xa15));}catch(_0x183051){console['error'](_0x2f34f1(0x3f6),_0x183051),showMessage(_0x2f34f1(0x83c));}}function renderAnswerGrid(_0x1a86d7,_0x363131,_0xd3fac8){const _0x2dfbce=_0x31ab05,_0x2a2d9d=document[_0x2dfbce(0x983)](_0x2dfbce(0x270));if(!_0x2a2d9d)return;if(!_0x1a86d7||_0x1a86d7[_0x2dfbce(0xabc)]===0x0){_0x2a2d9d[_0x2dfbce(0x9ad)]=_0x2dfbce(0x696);return;}const _0x337944=_0xd3fac8[_0x2dfbce(0x2c2)],_0x4cf104=_0x363131[_0x2dfbce(0x9ab)]((_0x47e455,_0x56b3e5)=>{const _0x5170a5=_0x2dfbce;return _0x47e455[_0x56b3e5[_0x5170a5(0x366)]]=_0x56b3e5,_0x47e455;},{}),_0x5d9bf1=_0x348bbb=>String[_0x2dfbce(0x296)](0x41+_0x348bbb),_0x34669f=_0x3d4682=>{const _0x363576=_0x2dfbce,_0x288199=_0x3d4682['questionType']||_0xd3fac8[_0x363576(0x91c)];switch(_0x288199){case _0x363576(0x373):return _0x3d4682[_0x363576(0x9b4)]&&_0x3d4682[_0x363576(0x9b4)][_0x363576(0xabc)]>_0x3d4682[_0x363576(0x438)]?_0x5d9bf1(_0x3d4682[_0x363576(0x438)]):'-';case _0x363576(0x486):return _0x3d4682[_0x363576(0x1dc)]?_0x363576(0x308):_0x363576(0x358);case _0x363576(0x729):return _0x3d4682[_0x363576(0x965)]||'-';case _0x363576(0x2f3):return'พิมพ์ตอบ';default:return'-';}},_0x458d93=(_0x28ab10,_0xaed807)=>{const _0x16e0dc=_0x2dfbce;if(_0xaed807[_0x16e0dc(0x94b)]===null||_0xaed807['answer']===undefined)return'-';const _0x443176=_0x28ab10[_0x16e0dc(0x225)]||_0xd3fac8[_0x16e0dc(0x91c)];switch(_0x443176){case'multiple_choice':const _0x521f17=_0x28ab10[_0x16e0dc(0x9b4)][_0x16e0dc(0x4de)](_0x6c998=>_0x6c998===_0xaed807[_0x16e0dc(0x5f8)]);return _0x521f17!==-0x1?_0x5d9bf1(_0x521f17):_0xaed807[_0x16e0dc(0x5f8)]||'-';case _0x16e0dc(0x486):return _0xaed807[_0x16e0dc(0x94b)]===_0x16e0dc(0xa61)||_0xaed807[_0x16e0dc(0x94b)]===!![]?'ใช่':_0x16e0dc(0x358);default:return _0xaed807[_0x16e0dc(0x94b)];}};let _0x20bda6=_0x2dfbce(0x501)+_0x337944[_0x2dfbce(0x2e0)]((_0x2ef446,_0xa9fe2f)=>_0x2dfbce(0x3e5)+(_0xa9fe2f+0x1)+_0x2dfbce(0x4e8))['join']('')+_0x2dfbce(0x23f)+_0x337944[_0x2dfbce(0x2e0)](_0x42a419=>_0x2dfbce(0x753)+_0x34669f(_0x42a419)+_0x2dfbce(0x2ae))[_0x2dfbce(0x62f)]('')+_0x2dfbce(0x719);_0x1a86d7[_0x2dfbce(0x1bc)](_0x7e0843=>{const _0x4e79c8=_0x2dfbce;_0x20bda6+=_0x4e79c8(0x651),_0x20bda6+=_0x4e79c8(0x69f)+_0x7e0843+_0x4e79c8(0x2ae);const _0x1a136b=_0x4cf104[_0x7e0843];if(_0x1a136b){const _0x4fc481=_0x1a136b[_0x4e79c8(0xacf)][_0x1a136b[_0x4e79c8(0xacf)]['length']-0x1];_0x337944[_0x4e79c8(0x1bc)]((_0x43abef,_0x1bc8da)=>{const _0x5ab010=_0x4e79c8,_0x18e740=_0x4fc481[_0x5ab010(0x646)]['find'](_0x5d1902=>_0x5d1902[_0x5ab010(0x88c)]===_0x43abef['id']);if(_0x18e740){let _0x244452=![];const _0x272032=_0x43abef[_0x5ab010(0x225)]||_0xd3fac8[_0x5ab010(0x91c)];if(_0x18e740[_0x5ab010(0x94b)]!==null&&_0x18e740[_0x5ab010(0x94b)]!==undefined)switch(_0x272032){case _0x5ab010(0x373):const _0x376817=_0x43abef[_0x5ab010(0x9b4)][_0x43abef[_0x5ab010(0x438)]];_0x244452=_0x18e740[_0x5ab010(0x5f8)]===_0x376817;break;case _0x5ab010(0x486):const _0x47e2a9=_0x18e740[_0x5ab010(0x94b)]===!![]||_0x18e740[_0x5ab010(0x94b)]===_0x5ab010(0xa61);_0x244452=_0x47e2a9===_0x43abef[_0x5ab010(0x1dc)];break;case'matching_item':_0x244452=_0x18e740[_0x5ab010(0x94b)]===_0x43abef['correctResponse'];break;default:_0x244452=_0x18e740[_0x5ab010(0x22d)];break;}const _0x2125d4=_0x244452?_0x5ab010(0x562):'bg-red-100';_0x20bda6+=_0x5ab010(0x6f9)+_0x2125d4+'\x22>'+_0x458d93(_0x43abef,_0x18e740)+_0x5ab010(0x2ae);}else _0x20bda6+=_0x5ab010(0x5c3);});}else _0x20bda6+=_0x337944[_0x4e79c8(0x2e0)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x4e79c8(0x62f)]('');_0x20bda6+=_0x4e79c8(0x62c);}),_0x20bda6+=_0x2dfbce(0x4e1),_0x2a2d9d[_0x2dfbce(0x9ad)]=_0x20bda6;}function renderQuizResultsTable(_0x3aa30c,_0x2c5d69,_0x1305c1){const _0x39c9b2=_0x31ab05,_0x300be9=_0x2c5d69[_0x39c9b2(0x9ab)]((_0x446aa9,_0x125884)=>{const _0x142f91=_0x39c9b2;return _0x446aa9[_0x125884[_0x142f91(0x366)]]=_0x125884,_0x446aa9;},{}),_0x97887b=document[_0x39c9b2(0x6d9)]('#results-table\x20thead\x20tr');_0x97887b&&!_0x97887b[_0x39c9b2(0x9ad)]['includes'](_0x39c9b2(0x2d8))&&(_0x97887b[_0x39c9b2(0x9ad)]+=_0x39c9b2(0x485));const _0x487e6b=document[_0x39c9b2(0x983)](_0x39c9b2(0x257));if(!_0x3aa30c||_0x3aa30c[_0x39c9b2(0xabc)]===0x0){_0x487e6b[_0x39c9b2(0x9ad)]=_0x39c9b2(0x330);return;}const _0x2280c7=_0x1305c1['isRemedial']===!![],_0x2beea9=_0x1305c1[_0x39c9b2(0x363)]?.[_0x39c9b2(0x8aa)]??-0x1;let _0xb427d8='';_0x3aa30c['forEach'](_0x22d6f6=>{const _0x95d09d=_0x39c9b2,_0x937ddd=_0x300be9[_0x22d6f6];let _0x4fe2b3='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x2280c7?_0x95d09d(0x240):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x2280c7?_0x95d09d(0xa38):_0x95d09d(0x5ff))+_0x95d09d(0x3d9);if(_0x937ddd){if(_0x937ddd[_0x95d09d(0xacf)]&&_0x937ddd[_0x95d09d(0xacf)][_0x95d09d(0xabc)]>0x0){let _0x538499=_0x2280c7?_0x937ddd[_0x95d09d(0x4f0)]===_0x937ddd[_0x95d09d(0x682)]:_0x2beea9!==-0x1&&_0x937ddd['bestScore']>=_0x2beea9;const _0x47f06f=_0x538499?_0x95d09d(0x738):_0x95d09d(0x912),_0x5aeeaf=_0x538499?_0x95d09d(0x8b4):_0x95d09d(0x7de),_0x437425=_0x95d09d(0x9c4)+_0x47f06f+'\x22>'+_0x5aeeaf+'</span></td>',_0xdfc9c4='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x937ddd['attempts']?.['length']||0x1)+_0x95d09d(0x1f5);_0xb427d8+=_0x95d09d(0x1b1)+_0x22d6f6+_0x95d09d(0x645)+_0x937ddd[_0x95d09d(0x4f0)]+_0x95d09d(0x47d)+_0x937ddd[_0x95d09d(0x682)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x437425+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4fe2b3+_0x95d09d(0x8e3)+_0x937ddd[_0x95d09d(0x2ea)]+_0x95d09d(0x47d)+_0x937ddd['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x937ddd['latestScore']+'\x20/\x20'+_0x937ddd[_0x95d09d(0x682)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x937ddd[_0x95d09d(0x605)]||0x0)+_0x95d09d(0x76b)+_0xdfc9c4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x937ddd[_0x95d09d(0x26c)])[_0x95d09d(0x642)](_0x95d09d(0x463))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x22d6f6+_0x95d09d(0x831);}else{const _0x5af67b=_0x95d09d(0x272);_0xb427d8+=_0x95d09d(0x86f)+_0x22d6f6+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4fe2b3+_0x95d09d(0xaa7)+_0x5af67b+_0x95d09d(0x78f)+new Date(_0x937ddd[_0x95d09d(0x197)])['toLocaleString'](_0x95d09d(0x463))+_0x95d09d(0x9bb)+_0x22d6f6+_0x95d09d(0x831);}}else{const _0x4159bd=_0x95d09d(0x40e);_0xb427d8+=_0x95d09d(0x578)+_0x22d6f6+_0x95d09d(0x25d)+_0x4fe2b3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4159bd+_0x95d09d(0x3be);}}),_0x487e6b[_0x39c9b2(0x9ad)]=_0xb427d8;}async function confirmRenameQuiz(){const _0x29a40a=_0x31ab05,_0x41bb44=document[_0x29a40a(0x983)](_0x29a40a(0x96f))[_0x29a40a(0x3eb)]['trim']();if(!_0x41bb44){showMessage(_0x29a40a(0x494));return;}if(!actionTargetId)return;const _0xb80259=doc(db,_0x29a40a(0x9ac)+appId+_0x29a40a(0x519),actionTargetId);try{await updateDoc(_0xb80259,{'topic':_0x41bb44}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x29a40a(0x7b1)][_0x29a40a(0x9a9)](_0x29a40a(0x540)),actionTargetId=null;}catch(_0x337fc4){console[_0x29a40a(0x8c0)](_0x29a40a(0x650),_0x337fc4),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x5f2171){const _0x45df8c=_0x31ab05;actionTargetId=_0x5f2171;const _0x2253bf=document[_0x45df8c(0x983)](_0x45df8c(0x8ea));_0x2253bf['innerHTML']=_0x45df8c(0x255),moveQuizModal['classList'][_0x45df8c(0x195)](_0x45df8c(0x540));try{const _0x1d78fd=collection(db,_0x45df8c(0x9ac)+appId+_0x45df8c(0x5e8)),_0x48788b=await getDocs(_0x1d78fd),_0x44e7a4=_0x48788b['docs']['map'](_0x5b4feb=>({'id':_0x5b4feb['id'],..._0x5b4feb[_0x45df8c(0x943)]()})),_0x360641=_0x44e7a4[_0x45df8c(0x8af)](_0x5db77f=>_0x5db77f['id']!==currentProjectId);if(_0x360641[_0x45df8c(0xabc)]===0x0){_0x2253bf[_0x45df8c(0x9ad)]=_0x45df8c(0xa79),document[_0x45df8c(0x983)]('confirm-move-quiz-btn')['disabled']=!![];return;}_0x2253bf[_0x45df8c(0x9ad)]=_0x360641[_0x45df8c(0x2e0)](_0x5141d5=>_0x45df8c(0x420)+_0x5141d5['id']+'\x22>'+_0x5141d5[_0x45df8c(0x537)]+_0x45df8c(0x6e0))[_0x45df8c(0x62f)](''),document[_0x45df8c(0x983)]('confirm-move-quiz-btn')[_0x45df8c(0x383)]=![];}catch(_0x2b407b){console[_0x45df8c(0x8c0)]('Error\x20fetching\x20projects\x20for\x20move:',_0x2b407b),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal[_0x45df8c(0x7b1)][_0x45df8c(0x9a9)](_0x45df8c(0x540));}}async function confirmMoveQuiz(){const _0xc9b2d6=_0x31ab05,_0xbda027=document[_0xc9b2d6(0x983)](_0xc9b2d6(0x8ea))[_0xc9b2d6(0x3eb)];if(!_0xbda027){showMessage(_0xc9b2d6(0x59f));return;}if(!actionTargetId)return;const _0x4683f4=doc(db,_0xc9b2d6(0x9ac)+appId+_0xc9b2d6(0x519),actionTargetId);try{await updateDoc(_0x4683f4,{'projectId':_0xbda027}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal['classList'][_0xc9b2d6(0x9a9)]('hidden'),actionTargetId=null;}catch(_0x452a8a){console[_0xc9b2d6(0x8c0)]('Error\x20moving\x20quiz:',_0x452a8a),showMessage(_0xc9b2d6(0x4a2));}}async function handleQuizSettings(_0x3017e9){const _0x35ed8d=_0x31ab05;actionTargetId=_0x3017e9;const _0x274966=doc(db,_0x35ed8d(0x9ac)+appId+_0x35ed8d(0x519),_0x3017e9);try{const _0x2d29be=await getDoc(_0x274966);if(_0x2d29be['exists']()){const _0x784fe6=_0x2d29be[_0x35ed8d(0x943)](),_0x2e6301=_0x784fe6[_0x35ed8d(0x363)]||{},_0x2f4450=_0x784fe6[_0x35ed8d(0x2c2)][_0x35ed8d(0xabc)];document['getElementById'](_0x35ed8d(0xaa3))[_0x35ed8d(0x3eb)]=_0x2e6301[_0x35ed8d(0x4ca)]||_0x35ed8d(0x548),document[_0x35ed8d(0x983)](_0x35ed8d(0x49a))[_0x35ed8d(0x3eb)]=_0x2e6301[_0x35ed8d(0x51d)]||_0x35ed8d(0x6fc),document[_0x35ed8d(0x983)](_0x35ed8d(0x2b0))['value']=_0x2e6301[_0x35ed8d(0x960)]||_0x35ed8d(0x548),document['getElementById'](_0x35ed8d(0x2fd))[_0x35ed8d(0x3eb)]=_0x2e6301[_0x35ed8d(0xad1)]||0xa,document['getElementById']('modal-passing-score-input')[_0x35ed8d(0x3eb)]=_0x2e6301[_0x35ed8d(0x8aa)]||Math[_0x35ed8d(0x273)](_0x2f4450/0x2),document[_0x35ed8d(0x983)](_0x35ed8d(0x999))[_0x35ed8d(0x94e)]=_0x2f4450,document[_0x35ed8d(0x983)]('modal-adaptive-quiz-checkbox')[_0x35ed8d(0x616)]=_0x2e6301[_0x35ed8d(0x87e)]||![],document[_0x35ed8d(0x983)](_0x35ed8d(0x4db))[_0x35ed8d(0x616)]=_0x2e6301[_0x35ed8d(0x68d)]||![],document[_0x35ed8d(0x983)](_0x35ed8d(0x2b0))['dispatchEvent'](new Event(_0x35ed8d(0x6f3))),quizSettingsModal['classList'][_0x35ed8d(0x195)]('hidden');}else showMessage(_0x35ed8d(0x182));}catch(_0x26f992){console[_0x35ed8d(0x8c0)](_0x35ed8d(0x4eb),_0x26f992),showMessage(_0x35ed8d(0x3ff));}}async function confirmQuizSettings(){const _0x32e98a=_0x31ab05;if(!actionTargetId)return;const _0x265daf=doc(db,'artifacts/'+appId+_0x32e98a(0x519),actionTargetId),_0x2590d2={'shuffle':document[_0x32e98a(0x983)](_0x32e98a(0xaa3))[_0x32e98a(0x3eb)],'resultsDisplay':document[_0x32e98a(0x983)](_0x32e98a(0x49a))[_0x32e98a(0x3eb)],'timerMode':document[_0x32e98a(0x983)](_0x32e98a(0x2b0))[_0x32e98a(0x3eb)],'timerDuration':parseInt(document[_0x32e98a(0x983)](_0x32e98a(0x2fd))['value'])||0xa,'passingScore':parseInt(document[_0x32e98a(0x983)](_0x32e98a(0x999))['value'])||0x0,'passingScore':parseInt(document['getElementById'](_0x32e98a(0x999))[_0x32e98a(0x3eb)])||0x0,'isAdaptive':document[_0x32e98a(0x983)](_0x32e98a(0x1a7))[_0x32e98a(0x616)],'loopUntilPass':document[_0x32e98a(0x983)](_0x32e98a(0x4db))[_0x32e98a(0x616)]};try{await updateDoc(_0x265daf,{'settings':_0x2590d2}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x32e98a(0x7b1)][_0x32e98a(0x9a9)](_0x32e98a(0x540)),actionTargetId=null;}catch(_0x4ac4a5){console[_0x32e98a(0x8c0)](_0x32e98a(0x5cd),_0x4ac4a5),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleQuizStatus(_0x3fa0ec){const _0x23c6d0=_0x31ab05;actionTargetId=_0x3fa0ec;const _0x9c60d0=doc(db,_0x23c6d0(0x9ac)+appId+_0x23c6d0(0x519),_0x3fa0ec);try{const _0x807513=await getDoc(_0x9c60d0);if(_0x807513[_0x23c6d0(0x9da)]()){const _0x9faa22=_0x807513[_0x23c6d0(0x943)](),_0x14622a=_0x9faa22[_0x23c6d0(0xa1f)]||_0x23c6d0(0x799),_0x2f1dc5=document[_0x23c6d0(0x983)]('quiz-status-options'),_0x5ca8b3=document['getElementById'](_0x23c6d0(0x9d6)),_0x13ddf7=document['getElementById'](_0x23c6d0(0xa14));let _0x133693='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20'+(_0x14622a==='active'?_0x23c6d0(0x616):'')+_0x23c6d0(0x2ef)+(_0x14622a===_0x23c6d0(0x87c)?_0x23c6d0(0x616):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x14622a==='scheduled'?'checked':'')+_0x23c6d0(0xa71);_0x2f1dc5[_0x23c6d0(0x9ad)]=_0x133693;const _0x4f5e04=_0x14622a===_0x23c6d0(0x254);_0x5ca8b3[_0x23c6d0(0x7b1)][_0x23c6d0(0x18f)]('hidden',!_0x4f5e04),_0x13ddf7[_0x23c6d0(0x7b1)]['toggle'](_0x23c6d0(0x540),!_0x4f5e04),document[_0x23c6d0(0x983)](_0x23c6d0(0x1ba))[_0x23c6d0(0x3eb)]=_0x9faa22[_0x23c6d0(0x5b1)]?_0x9faa22['startTime'][_0x23c6d0(0x797)](0x0,0x10):'',document[_0x23c6d0(0x983)](_0x23c6d0(0x3bc))[_0x23c6d0(0x3eb)]=_0x9faa22[_0x23c6d0(0x1e9)]?_0x9faa22[_0x23c6d0(0x1e9)][_0x23c6d0(0x797)](0x0,0x10):'',_0x2f1dc5[_0x23c6d0(0x279)](_0x23c6d0(0x67c))[_0x23c6d0(0x1bc)](_0x2f9f1e=>{const _0x312722=_0x23c6d0;_0x2f9f1e[_0x312722(0x7d4)]('change',_0x51231d=>{const _0x12cf4e=_0x312722,_0x517f6c=_0x51231d[_0x12cf4e(0x908)][_0x12cf4e(0x3eb)]===_0x12cf4e(0x8e0);_0x5ca8b3[_0x12cf4e(0x7b1)][_0x12cf4e(0x18f)](_0x12cf4e(0x540),!_0x517f6c),_0x13ddf7[_0x12cf4e(0x7b1)][_0x12cf4e(0x18f)]('hidden',!_0x517f6c);});}),quizStatusModal[_0x23c6d0(0x7b1)]['remove'](_0x23c6d0(0x540));}}catch(_0x2f3a29){console[_0x23c6d0(0x8c0)](_0x23c6d0(0x922),_0x2f3a29),showMessage(_0x23c6d0(0x7d8));}}async function confirmQuizStatus(){const _0x582cad=_0x31ab05;if(!actionTargetId)return;const _0x21a6ca=doc(db,_0x582cad(0x9ac)+appId+_0x582cad(0x519),actionTargetId),_0x45f174=document['querySelector'](_0x582cad(0x4bf));if(!_0x45f174){showMessage(_0x582cad(0x83f));return;}const _0x374201=_0x45f174[_0x582cad(0x3eb)];let _0x561378={};if(_0x374201==='active'||_0x374201===_0x582cad(0x87c))_0x561378={'status':_0x374201,'startTime':null,'endTime':null};else{if(_0x374201==='schedule'){const _0x24f2e2=document[_0x582cad(0x983)](_0x582cad(0x1ba))[_0x582cad(0x3eb)],_0xaf5deb=document[_0x582cad(0x983)](_0x582cad(0x3bc))[_0x582cad(0x3eb)];if(!_0x24f2e2&&!_0xaf5deb){showMessage(_0x582cad(0x69b));return;}_0x561378={'status':'scheduled','startTime':_0x24f2e2?new Date(_0x24f2e2)[_0x582cad(0x340)]():null,'endTime':_0xaf5deb?new Date(_0xaf5deb)[_0x582cad(0x340)]():null};}}try{await updateDoc(_0x21a6ca,_0x561378),showMessage(_0x582cad(0x2b4)),quizStatusModal['classList'][_0x582cad(0x9a9)]('hidden'),actionTargetId=null;}catch(_0x1df6c8){console[_0x582cad(0x8c0)](_0x582cad(0x409),_0x1df6c8),showMessage(_0x582cad(0x85c));}}function listenForStudentProfiles(_0x179cb4){const _0x9a24d4=_0x31ab05,_0xbddc28=collection(db,_0x9a24d4(0x9ac)+appId+_0x9a24d4(0x663)+_0x179cb4+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0xbddc28,_0x15da82=>{const _0x565969=_0x9a24d4,_0x20fcd6=_0x15da82[_0x565969(0x2f9)][_0x565969(0x2e0)](_0x1bbc1f=>_0x1bbc1f['data']());renderLeaderboard(_0x20fcd6,'leaderboard-table-body');},_0x349889=>{const _0x1133bf=_0x9a24d4;console[_0x1133bf(0x8c0)]('Error\x20listening\x20for\x20student\x20profiles:',_0x349889),document[_0x1133bf(0x983)](_0x1133bf(0x351))[_0x1133bf(0x9ad)]=_0x1133bf(0x3de);});}function renderLeaderboard(_0xa30807,_0x2a8dea){const _0x2f2fe1=_0x31ab05,_0x276f02=document['getElementById'](_0x2a8dea);if(!_0xa30807||_0xa30807['length']===0x0){_0x276f02['innerHTML']='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0xa30807[_0x2f2fe1(0x7ab)]((_0x38e8ba,_0x2da283)=>{const _0x6680cb=_0x2f2fe1,_0x1fdd2a=(_0x2da283['totalPoints']||0x0)-(_0x38e8ba[_0x6680cb(0x4b5)]||0x0);if(_0x1fdd2a!==0x0)return _0x1fdd2a;const _0x4e866e=(_0x2da283[_0x6680cb(0x3cb)]?.[_0x6680cb(0x8df)]||0x0)-(_0x38e8ba[_0x6680cb(0x3cb)]?.[_0x6680cb(0x8df)]||0x0);if(_0x4e866e!==0x0)return _0x4e866e;const _0x3c20d2=(_0x2da283['badgesCount']?.[_0x6680cb(0x74a)]||0x0)-(_0x38e8ba[_0x6680cb(0x3cb)]?.['first_try_ace']||0x0);if(_0x3c20d2!==0x0)return _0x3c20d2;const _0x4063bc=(_0x2da283[_0x6680cb(0x3cb)]?.['perfect_score']||0x0)-(_0x38e8ba[_0x6680cb(0x3cb)]?.[_0x6680cb(0x95e)]||0x0);if(_0x4063bc!==0x0)return _0x4063bc;const _0x4fe00e=(_0x2da283[_0x6680cb(0x3cb)]?.['quick_thinker']||0x0)-(_0x38e8ba[_0x6680cb(0x3cb)]?.[_0x6680cb(0x658)]||0x0);if(_0x4fe00e!==0x0)return _0x4fe00e;return _0x38e8ba[_0x6680cb(0x366)]['localeCompare'](_0x2da283[_0x6680cb(0x366)],'th');});let _0x3b094d='';_0xa30807[_0x2f2fe1(0x1bc)]((_0x4ed435,_0x2134df)=>{const _0x32266b=_0x2f2fe1,_0x24ba24=_0x2134df+0x1,_0x92b121=_0x4ed435['badgesCount']||{};let _0x44d5ad='';const _0x2cd3d0=['specialist',_0x32266b(0x95e),_0x32266b(0x74a),_0x32266b(0x658)];_0x2cd3d0[_0x32266b(0x1bc)](_0x6de566=>{const _0x49243a=_0x32266b;if(_0x92b121[_0x6de566]>0x0){const _0x6c6760=Object[_0x49243a(0x33d)](BADGES)['find'](_0x368ffd=>_0x368ffd['id']===_0x6de566);_0x6c6760&&(_0x6de566===_0x49243a(0x8df)?_0x44d5ad+=_0x49243a(0x94c)+_0x6c6760['name']+_0x49243a(0x5f2)+_0x6c6760[_0x49243a(0x230)]+_0x49243a(0x99e):_0x44d5ad+=_0x49243a(0x94c)+_0x6c6760[_0x49243a(0x73f)]+'\x20('+_0x92b121[_0x6de566]+_0x49243a(0x50e)+_0x6c6760[_0x49243a(0x230)]+_0x49243a(0x586)+_0x92b121[_0x6de566]+_0x49243a(0x984));}}),_0x3b094d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x24ba24+_0x32266b(0x4bb)+_0x4ed435[_0x32266b(0x366)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x4ed435[_0x32266b(0x4b5)]||0x0)+_0x32266b(0x4bb)+(_0x44d5ad||'-')+_0x32266b(0x867);}),_0x276f02[_0x2f2fe1(0x9ad)]=_0x3b094d;}function displayLoopScreen(_0x467e0f,_0x52bcb0,_0x13ea3c){const _0x29bee9=_0x31ab05;let _0x5b987f='';_0x13ea3c!=='show_pass_fail_only'&&(_0x5b987f=_0x29bee9(0x93e)+_0x467e0f+_0x29bee9(0x47d)+_0x52bcb0+_0x29bee9(0x46d));const _0x543714='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5b987f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x543714,studentResultArea['classList'][_0x29bee9(0x195)]('hidden'),studentQuizArea[_0x29bee9(0x7b1)][_0x29bee9(0x9a9)]('hidden'),document[_0x29bee9(0x983)](_0x29bee9(0x670))[_0x29bee9(0x7d4)](_0x29bee9(0x72b),()=>{const _0x8fdfd7=_0x29bee9;studentResultArea[_0x8fdfd7(0x7b1)]['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0xdf131b,_0x335fa2,_0x583edc){const _0x2c2a97=_0x31ab05,_0x55de42=document[_0x2c2a97(0x983)](_0x583edc),_0x543246=_0x583edc===_0x2c2a97(0x79e),_0x1b4f04=_0x335fa2['questions'][_0x2c2a97(0xabc)],_0x57058e=document['getElementById'](_0x583edc)['closest'](_0x2c2a97(0x64e));if(_0x57058e&&!_0x543246){const _0x5b04c1=_0x57058e['querySelector'](_0x2c2a97(0x3c5));_0x5b04c1[_0x2c2a97(0x9ad)]=_0x2c2a97(0x2a2);}if(!_0xdf131b||_0xdf131b[_0x2c2a97(0xabc)]===0x0){_0x55de42[_0x2c2a97(0x9ad)]=_0x2c2a97(0x7a4)+(_0x543246?0x6:0x8)+_0x2c2a97(0x1e6);return;}const _0x55b4ab=[..._0xdf131b];_0x55b4ab[_0x2c2a97(0x7ab)]((_0x32ef72,_0x390689)=>{const _0x39d71a=_0x2c2a97;let _0xe0cad2,_0x278b29;switch(quizLeaderboardSortBy){case _0x39d71a(0x366):_0xe0cad2=_0x32ef72['studentName']||'',_0x278b29=_0x390689[_0x39d71a(0x366)]||'';return quizLeaderboardSortOrder===_0x39d71a(0x9e6)?_0xe0cad2[_0x39d71a(0x5cc)](_0x278b29,'th'):_0x278b29[_0x39d71a(0x5cc)](_0xe0cad2,'th');case _0x39d71a(0x605):_0xe0cad2=_0x32ef72[_0x39d71a(0x605)]||0x0,_0x278b29=_0x390689['points']||0x0;break;case'attempts':_0xe0cad2=_0x32ef72[_0x39d71a(0xacf)]?.[_0x39d71a(0xabc)]||0x1,_0x278b29=_0x390689[_0x39d71a(0xacf)]?.[_0x39d71a(0xabc)]||0x1;break;case _0x39d71a(0x26c):_0xe0cad2=new Date(_0x32ef72[_0x39d71a(0x26c)]),_0x278b29=new Date(_0x390689[_0x39d71a(0x26c)]);break;case _0x39d71a(0x4f0):default:_0xe0cad2=_0x32ef72[_0x39d71a(0x4f0)],_0x278b29=_0x390689[_0x39d71a(0x4f0)];break;}if(_0xe0cad2<_0x278b29)return quizLeaderboardSortOrder===_0x39d71a(0x9e6)?-0x1:0x1;if(_0xe0cad2>_0x278b29)return quizLeaderboardSortOrder===_0x39d71a(0x9e6)?0x1:-0x1;return 0x0;});const _0x5b4c6f=_0x335fa2[_0x2c2a97(0x9cf)]===!![],_0x581834=_0x335fa2[_0x2c2a97(0x363)]?.[_0x2c2a97(0x8aa)]??-0x1;let _0x357a0d='';_0x55b4ab[_0x2c2a97(0x1bc)]((_0x22f078,_0x57e535)=>{const _0x4e8b13=_0x2c2a97,_0x1a335c=_0x57e535+0x1;let _0x1e2f64=_0x4e8b13(0x49b);if(_0x5b4c6f||_0x581834!==-0x1){let _0x460d24=_0x5b4c6f?_0x22f078['bestScore']===_0x1b4f04:_0x22f078[_0x4e8b13(0x4f0)]>=_0x581834;const _0x485f20=_0x460d24?_0x4e8b13(0x738):_0x4e8b13(0x912),_0x167fb0=_0x460d24?'ผ่าน':'ไม่ผ่าน';_0x1e2f64=_0x4e8b13(0x764)+_0x485f20+'\x22>'+_0x167fb0+_0x4e8b13(0x3d9);}const _0x6126f5=_0x22f078[_0x4e8b13(0xacf)][_0x22f078[_0x4e8b13(0xacf)][_0x4e8b13(0xabc)]-0x1],_0x34df59=(_0x6126f5[_0x4e8b13(0x487)]||[])[_0x4e8b13(0x2e0)](_0x2ac400=>{const _0x6af60c=_0x4e8b13,_0x40c2de=Object['values'](BADGES)[_0x6af60c(0x606)](_0x27cdf4=>_0x27cdf4['id']===_0x2ac400);return _0x40c2de?_0x6af60c(0x977)+_0x40c2de[_0x6af60c(0x73f)]+_0x6af60c(0x52c)+_0x40c2de[_0x6af60c(0x230)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x4e8b13(0x62f)]('');_0x357a0d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x1a335c+_0x4e8b13(0x76a)+_0x22f078[_0x4e8b13(0x366)]+_0x4e8b13(0xa2f)+_0x22f078['bestScore']+_0x4e8b13(0x47d)+_0x1b4f04+_0x4e8b13(0x704)+_0x1e2f64+_0x4e8b13(0x958)+(_0x22f078[_0x4e8b13(0x605)]||0x0)+_0x4e8b13(0x704)+(_0x543246?'':_0x4e8b13(0xa6b)+(_0x22f078[_0x4e8b13(0xacf)]?.[_0x4e8b13(0xabc)]||0x1)+_0x4e8b13(0x2ae))+_0x4e8b13(0x7c8)+(_0x543246?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x22f078[_0x4e8b13(0x26c)])[_0x4e8b13(0x642)]('th-TH')+_0x4e8b13(0x2ae))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x34df59||'-')+_0x4e8b13(0xa8f);}),_0x55de42[_0x2c2a97(0x9ad)]=_0x357a0d,_0x57058e&&!_0x543246&&_0x57058e[_0x2c2a97(0x279)](_0x2c2a97(0x5ce))[_0x2c2a97(0x1bc)](_0x4980aa=>{const _0x15270c=_0x2c2a97,_0x26d050=_0x4980aa[_0x15270c(0x6d9)](_0x15270c(0x415));if(_0x26d050)_0x26d050[_0x15270c(0x195)]();_0x4980aa[_0x15270c(0x700)]['sort']===quizLeaderboardSortBy&&(_0x4980aa[_0x15270c(0x9ad)]+=_0x15270c(0x3b5)+(quizLeaderboardSortOrder===_0x15270c(0x9e6)?'▲':'▼')+_0x15270c(0x5ec));});}async function handleDeleteSubmission(_0x4a1079){const _0x187dbc=_0x31ab05;if(!currentQuizData||!currentQuizData['id']||!_0x4a1079){showMessage(_0x187dbc(0x2ca));return;}showConfirmation(_0x187dbc(0x5e0)+_0x4a1079+_0x187dbc(0x539),async()=>{const _0x10420b=_0x187dbc,_0x237f3c=currentQuizData['id'],_0x58680e=doc(db,_0x10420b(0x9ac)+appId+_0x10420b(0x8b8)+_0x237f3c+_0x10420b(0x830),_0x4a1079);try{await deleteDoc(_0x58680e),showMessage(_0x10420b(0x952)+_0x4a1079+_0x10420b(0xac8));}catch(_0xca2e3c){console['error'](_0x10420b(0x1a6),_0xca2e3c),showMessage(_0x10420b(0x496));}});}async function handleLoadQuiz(){const _0x53e879=_0x31ab05,_0x1f3306=document['getElementById'](_0x53e879(0x979)),_0xef337=_0x1f3306['value'][_0x53e879(0x68c)]();if(!_0xef337){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x53e879(0x383)]=!![],loadQuizBtn[_0x53e879(0x9ad)]=_0x53e879(0x531);try{const _0x575bf8=doc(db,'artifacts/'+appId+_0x53e879(0x519),_0xef337),_0x38e59f=await getDoc(_0x575bf8);if(!_0x38e59f[_0x53e879(0x9da)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x38e59f['id'],..._0x38e59f[_0x53e879(0x943)]()};const _0x214f67=currentQuizData[_0x53e879(0xa1f)]||_0x53e879(0x799),_0x2f4b38=new Date();if(_0x214f67===_0x53e879(0x87c)){showMessage(_0x53e879(0x782));return;}if(_0x214f67===_0x53e879(0x254)){const _0x2dce41=currentQuizData['startTime']?new Date(currentQuizData[_0x53e879(0x5b1)]):null,_0x385071=currentQuizData[_0x53e879(0x1e9)]?new Date(currentQuizData[_0x53e879(0x1e9)]):null;if(_0x2dce41&&_0x2f4b38<_0x2dce41){showMessage(_0x53e879(0x388)+_0x2dce41[_0x53e879(0x642)](_0x53e879(0x463),{'hour12':![]}));return;}if(_0x385071&&_0x2f4b38>_0x385071){showMessage(_0x53e879(0x9eb));return;}}const _0xe54319=currentQuizData[_0x53e879(0x7b7)];currentProjectId=_0xe54319;const _0x2210fc=doc(db,'artifacts/'+appId+_0x53e879(0x5e8),_0xe54319),_0x5457a6=await getDoc(_0x2210fc);if(!_0x5457a6[_0x53e879(0x9da)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x5df61f=_0x5457a6[_0x53e879(0x943)]();currentStudentProjectData=_0x5df61f,displayStudentNameSelector(_0x5df61f[_0x53e879(0xa76)],currentQuizData[_0x53e879(0x88d)]);}catch(_0xd1138c){console[_0x53e879(0x8c0)]('Error\x20loading\x20quiz\x20for\x20student:',_0xd1138c),showMessage(_0x53e879(0x473));}finally{loadQuizBtn[_0x53e879(0x383)]=![],loadQuizBtn['innerHTML']=_0x53e879(0x833);}}async function handleJoinLiveGame(){const _0x43c756=_0x31ab05,_0x26d6e7=document[_0x43c756(0x983)](_0x43c756(0x4da)),_0x4714e1=document['getElementById'](_0x43c756(0x903)),_0x4d6865=document[_0x43c756(0x983)](_0x43c756(0x8ef)),_0x52ad1f=_0x26d6e7[_0x43c756(0x3eb)]['trim'](),_0x1bb47f=_0x4714e1[_0x43c756(0x3eb)][_0x43c756(0x68c)]();if(!_0x52ad1f||!_0x1bb47f){showMessage(_0x43c756(0xa68));return;}_0x4d6865[_0x43c756(0x383)]=!![],_0x4d6865['innerHTML']=_0x43c756(0x7f6);try{const _0x286445=collection(db,_0x43c756(0x9ac)+appId+_0x43c756(0x90c)),_0x558191=query(_0x286445,where(_0x43c756(0x93f),'==',_0x52ad1f),where(_0x43c756(0xa1f),'in',[_0x43c756(0xaa5),_0x43c756(0x4c1)])),_0x32165e=await getDocs(_0x558191);if(_0x32165e[_0x43c756(0x3c8)]){showMessage(_0x43c756(0x56c));return;}const _0x32c8a4=_0x32165e[_0x43c756(0x2f9)][0x0],_0x382954=_0x32c8a4['data']();currentLiveGameId=_0x32c8a4['id'];const _0x1e711f=_0x382954[_0x43c756(0x61d)],_0x517cea=doc(db,'artifacts/'+appId+_0x43c756(0x519),_0x1e711f),_0x50f065=await getDoc(_0x517cea);if(!_0x50f065['exists']()){showMessage(_0x43c756(0xa81));return;}currentQuizData={'id':_0x50f065['id'],..._0x50f065[_0x43c756(0x943)]()};if(_0x382954['players']&&_0x382954[_0x43c756(0x72f)][_0x1bb47f]){const _0x4dd170=_0x382954[_0x43c756(0x72f)][_0x1bb47f];if(_0x4dd170[_0x43c756(0xa1f)]===_0x43c756(0x87c)){_0x4d6865[_0x43c756(0x9ad)]=_0x43c756(0xaa6);const _0xc860c8={};_0xc860c8['players.'+_0x1bb47f+_0x43c756(0x3bf)]='active',await updateDoc(doc(db,_0x43c756(0x9ac)+appId+_0x43c756(0x90c),currentLiveGameId),_0xc860c8),showView(_0x43c756(0x8bb)),currentStudentName=_0x1bb47f,listenForLiveGameUpdates();return;}else{showMessage(_0x43c756(0x186));return;}}if(_0x382954[_0x43c756(0xa1f)]!==_0x43c756(0xaa5)){showMessage(_0x43c756(0x393));return;}_0x4d6865[_0x43c756(0x9ad)]=_0x43c756(0x611);const _0x9ffb8c={};_0x9ffb8c[_0x43c756(0x4e3)+_0x1bb47f]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x43c756(0x799)},await updateDoc(doc(db,'artifacts/'+appId+_0x43c756(0x90c),currentLiveGameId),_0x9ffb8c),currentStudentName=_0x1bb47f,listenForLiveGameUpdates();}catch(_0x39013c){console[_0x43c756(0x8c0)]('Error\x20joining\x20live\x20game:',_0x39013c),showMessage(_0x43c756(0x27e));}finally{_0x4d6865['disabled']=![],_0x4d6865['innerHTML']=_0x43c756(0x34f);}}function displayStudentNameSelector(_0x1fcc33,_0x56ed1b){const _0x137b0c=_0x31ab05,_0x344838=document[_0x137b0c(0x983)](_0x137b0c(0x751));document[_0x137b0c(0x983)](_0x137b0c(0x400))[_0x137b0c(0x36e)]=_0x137b0c(0x820)+_0x56ed1b,!_0x1fcc33||_0x1fcc33[_0x137b0c(0xabc)]===0x0?(_0x344838[_0x137b0c(0x9ad)]=_0x137b0c(0x772),startQuizBtn[_0x137b0c(0x383)]=!![]):(_0x344838[_0x137b0c(0x9ad)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x1fcc33[_0x137b0c(0x1bc)](_0x57afb9=>{const _0x13597c=_0x137b0c,_0x2f7223=document[_0x13597c(0x394)]('option');_0x2f7223[_0x13597c(0x3eb)]=_0x57afb9,_0x2f7223['textContent']=_0x57afb9,_0x344838['appendChild'](_0x2f7223);}),startQuizBtn['disabled']=![]),studentInitialView[_0x137b0c(0x7b1)]['add'](_0x137b0c(0x540)),studentNameSelectionView['classList']['remove'](_0x137b0c(0x540));}function shuffleArray(_0x67704b){const _0x376dcb=_0x31ab05;for(let _0x43fce7=_0x67704b['length']-0x1;_0x43fce7>0x0;_0x43fce7--){const _0x1df713=Math['floor'](Math[_0x376dcb(0x4aa)]()*(_0x43fce7+0x1));[_0x67704b[_0x43fce7],_0x67704b[_0x1df713]]=[_0x67704b[_0x1df713],_0x67704b[_0x43fce7]];}}function getShuffledQuiz(_0x44e219){const _0x42cd6b=_0x31ab05;let _0xdb3b95=JSON[_0x42cd6b(0x83a)](JSON['stringify'](_0x44e219));const _0x469389=_0xdb3b95[_0x42cd6b(0x363)]?.[_0x42cd6b(0x4ca)]||'none';if(_0x469389===_0x42cd6b(0x548))return _0xdb3b95;return(_0x469389===_0x42cd6b(0x81a)||_0x469389===_0x42cd6b(0x971))&&shuffleArray(_0xdb3b95['questions']),(_0x469389===_0x42cd6b(0x876)||_0x469389===_0x42cd6b(0x971))&&_0xdb3b95[_0x42cd6b(0x2c2)]['forEach'](_0x4f84fa=>{const _0x39845a=_0x42cd6b,_0x1da96b=_0x4f84fa[_0x39845a(0x225)]||_0xdb3b95['quizType'];if(_0x4f84fa[_0x39845a(0x9b4)]){let _0x1a864f=_0x4f84fa[_0x39845a(0x9b4)][_0x39845a(0x2e0)]((_0x3a351b,_0x46d8c2)=>({'text':_0x3a351b,'isCorrect':_0x46d8c2===_0x4f84fa['correctAnswerIndex']}));shuffleArray(_0x1a864f),_0x4f84fa[_0x39845a(0x9b4)]=_0x1a864f[_0x39845a(0x2e0)](_0x5c9e15=>_0x5c9e15['text']),_0x4f84fa[_0x39845a(0x438)]=_0x1a864f[_0x39845a(0x4de)](_0x4fb7ff=>_0x4fb7ff['isCorrect']);}_0x1da96b===_0x39845a(0x729)&&_0x4f84fa['allResponses']&&shuffleArray(_0x4f84fa[_0x39845a(0x9c2)]);}),_0xdb3b95;}function displayQuizForStudent(_0x53ed63){const _0x5eb8c0=_0x31ab05;studentQuizArea[_0x5eb8c0(0x7b1)][_0x5eb8c0(0x195)](_0x5eb8c0(0x540)),currentDisplayedQuiz=getShuffledQuiz(_0x53ed63);currentMode!==_0x5eb8c0(0x9d2)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x5eb8c0(0x7d4)](_0x5eb8c0(0x706),handleFullscreenChange),document[_0x5eb8c0(0x7d4)](_0x5eb8c0(0x9a3),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x5eb8c0(0xa0a),resetDimTimer),window[_0x5eb8c0(0x7d4)](_0x5eb8c0(0x708),resetDimTimer),window[_0x5eb8c0(0x7d4)](_0x5eb8c0(0x4ea),resetDimTimer),window['addEventListener']('keydown',resetDimTimer),resetDimTimer());const _0x373a58=currentDisplayedQuiz[_0x5eb8c0(0x363)]?.['timerMode']||_0x5eb8c0(0x548);if(_0x373a58===_0x5eb8c0(0x546))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x5eb8c0(0x363)][_0x5eb8c0(0xad1)]);else _0x373a58===_0x5eb8c0(0x37e)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x59e654=_0x31ab05;let _0x39b744=_0x59e654(0x33c)+currentDisplayedQuiz[_0x59e654(0x88d)]+_0x59e654(0x538)+(currentMode===_0x59e654(0x9d2)?_0x59e654(0x4a6):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';currentDisplayedQuiz[_0x59e654(0x2c2)][_0x59e654(0x1bc)]((_0x10309a,_0x2ba952)=>{const _0x5e2684=_0x59e654,_0xf586e1=_0x10309a[_0x5e2684(0x225)]||currentDisplayedQuiz[_0x5e2684(0x91c)];_0x39b744+=_0x5e2684(0x72d);_0xf586e1==='matching_item'?_0x39b744+='\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+(_0x2ba952+0x1)+'.\x20'+_0x10309a['stem']+_0x5e2684(0x5a1)+_0x2ba952+_0x5e2684(0x959)+_0x10309a[_0x5e2684(0x9c2)][_0x5e2684(0x2e0)](_0x2f2824=>_0x5e2684(0x420)+_0x2f2824+'\x22>'+_0x2f2824+_0x5e2684(0x6e0))[_0x5e2684(0x62f)]('')+_0x5e2684(0x62b):(_0x39b744+='<p>'+(_0x2ba952+0x1)+'.\x20'+(_0x10309a['instructions']||_0x10309a['questionText'])+_0x5e2684(0x989),_0x10309a[_0x5e2684(0x6bc)]&&(_0x39b744+=_0x5e2684(0x934)+_0x10309a['imageCode']+_0x5e2684(0x603)));_0x39b744+=_0x5e2684(0x7e6);switch(_0xf586e1){case _0x5e2684(0x2f3):_0x39b744+=_0x5e2684(0x9ff)+_0x2ba952+_0x5e2684(0x754);break;case _0x5e2684(0x486):_0x39b744+=_0x5e2684(0x31a)+_0x2ba952+'_opt0\x22\x20name=\x22question'+_0x2ba952+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x2ba952+'_opt0\x22>ใช่</label></div>',_0x39b744+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x2ba952+_0x5e2684(0x957)+_0x2ba952+_0x5e2684(0x739)+_0x2ba952+_0x5e2684(0x58a);break;case _0x5e2684(0x729):break;case _0x5e2684(0x425):case _0x5e2684(0x373):default:_0x39b744+=_0x10309a[_0x5e2684(0x9b4)][_0x5e2684(0x2e0)]((_0x3627d5,_0x21a62d)=>_0x5e2684(0x659)+_0x2ba952+'_opt'+_0x21a62d+_0x5e2684(0x71c)+_0x2ba952+_0x5e2684(0x56d)+_0x21a62d+_0x5e2684(0x8e6)+_0x2ba952+_0x5e2684(0x6ed)+_0x21a62d+'\x22>'+_0x3627d5+_0x5e2684(0xa82))[_0x5e2684(0x62f)]('');break;}_0x39b744+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x39b744+=_0x59e654(0x808),_0x39b744+=_0x59e654(0x246),studentQuizArea[_0x59e654(0x9ad)]=_0x39b744;if(currentMode===_0x59e654(0x9d2)){const _0x1fbe14=document[_0x59e654(0x983)](_0x59e654(0x5e2));if(_0x1fbe14)_0x1fbe14['addEventListener'](_0x59e654(0x72b),cancelAdminTest);}document[_0x59e654(0x983)](_0x59e654(0x914))[_0x59e654(0x7d4)](_0x59e654(0x730),handleSubmitQuiz);if(window[_0x59e654(0x2cb)])window[_0x59e654(0x2cb)][_0x59e654(0x1de)]([studentQuizArea]);}async function handleSubmitQuiz(_0x113b47){const _0x190573=_0x31ab05;if(_0x113b47)_0x113b47['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x4845e2=document[_0x190573(0x983)](_0x190573(0x914));if(!_0x4845e2)return;const _0x2f4fc6=_0x4845e2[_0x190573(0x6d9)]('button[type=\x22submit\x22]'),_0x5c1476=currentDisplayedQuiz[_0x190573(0x2c2)][_0x190573(0x657)](_0x317e27=>_0x317e27[_0x190573(0x225)]===_0x190573(0x2f3));_0x2f4fc6&&(_0x2f4fc6[_0x190573(0x383)]=!![],_0x5c1476?_0x2f4fc6[_0x190573(0x9ad)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x2f4fc6[_0x190573(0x9ad)]=_0x190573(0x845));const _0x22c812=new FormData(_0x4845e2),_0x4baad8=currentDisplayedQuiz[_0x190573(0x2c2)][_0x190573(0x2e0)]((_0x5460c0,_0xcd3ab)=>{const _0x2b0dbf=_0x190573,_0x4485c4=_0x5460c0['questionType']||currentDisplayedQuiz['quizType'],_0x2127da=_0x22c812[_0x2b0dbf(0x1cb)](_0x2b0dbf(0x4c1)+_0xcd3ab);if(_0x2127da!==null&&_0x2127da!==undefined){if(_0x4485c4===_0x2b0dbf(0x373)||_0x4485c4===_0x2b0dbf(0x425))return parseInt(_0x2127da);return _0x2127da;}return null;}),_0x1addb=currentQuizData['id'],_0x2fe6d2=doc(db,_0x190573(0x9ac)+appId+_0x190573(0x8b8)+_0x1addb+_0x190573(0x830),currentStudentName),_0x5afff0=await getDoc(_0x2fe6d2),_0x5a1935=_0x5afff0['exists']()?_0x5afff0[_0x190573(0x943)]():{},_0x57f6c5=_0x5a1935[_0x190573(0xacf)]||[];await processAndSubmitAnswers(_0x4baad8,_0x57f6c5);}async function gradeShortAnswerWithAI(_0x1c07a2,_0x328e13){const _0x10feaf=_0x31ab05;if(!_0x1c07a2||!_0x328e13)return![];try{const _0x20dee0=_0x10feaf(0x7e2)+_0x1c07a2+_0x10feaf(0x7f5)+_0x328e13+_0x10feaf(0x5c6),_0xf7f45d={'contents':[{'role':_0x10feaf(0x451),'parts':[{'text':_0x20dee0}]}]},_0x1d7511=_0x10feaf(0x399),_0x3f1702=_0x10feaf(0x7cd)+_0x1d7511,_0x50b40e=await fetch(_0x3f1702,{'method':_0x10feaf(0x61e),'headers':{'Content-Type':_0x10feaf(0x50a)},'body':JSON['stringify'](_0xf7f45d)});if(!_0x50b40e['ok'])throw new Error('API\x20call\x20failed');const _0x4e03b2=await _0x50b40e[_0x10feaf(0x668)](),_0x4fd7b2=_0x4e03b2[_0x10feaf(0x8eb)][0x0][_0x10feaf(0x66d)][_0x10feaf(0x6e1)][0x0]['text'][_0x10feaf(0x68c)]()[_0x10feaf(0x46a)]();return _0x4fd7b2===_0x10feaf(0xa61);}catch(_0x3d2f75){return console[_0x10feaf(0x8c0)](_0x10feaf(0x3a7),_0x3d2f75),![];}}async function processAndSubmitAnswers(_0x4b7644,_0x2de35d){const _0x46b915=_0x31ab05;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x46b915(0x890)](_0x46b915(0x706),handleFullscreenChange),document['removeEventListener'](_0x46b915(0x9a3),handleVisibilityChange);let _0x5b2c62=0x0,_0x53c9ac=0x0,_0x254331=[];const _0x1b8cd3=[],_0x42e65c=currentDisplayedQuiz[_0x46b915(0x2c2)][_0x46b915(0xabc)];let _0x1c3226=0x0;const _0x3b1734=currentDisplayedQuiz[_0x46b915(0x2c2)];for(let _0x55afb1=0x0;_0x55afb1<_0x3b1734[_0x46b915(0xabc)];_0x55afb1++){const _0x57e6f3=_0x3b1734[_0x55afb1],_0x48cea6=_0x4b7644[_0x55afb1],_0x1a63e1=_0x57e6f3[_0x46b915(0x225)]||currentDisplayedQuiz['quizType'];let _0x3997ab=![];if(_0x48cea6!==null&&_0x48cea6!=='')switch(_0x1a63e1){case _0x46b915(0x729):_0x3997ab=_0x48cea6===_0x57e6f3[_0x46b915(0x965)];break;case'true_false':const _0x53f881=_0x48cea6===!![]||_0x48cea6===_0x46b915(0xa61);_0x3997ab=_0x53f881===_0x57e6f3[_0x46b915(0x1dc)];break;case _0x46b915(0x2f3):_0x3997ab=await gradeShortAnswer(_0x48cea6,_0x57e6f3);break;case _0x46b915(0x373):default:_0x3997ab=Number(_0x48cea6)===_0x57e6f3[_0x46b915(0x438)];break;}_0x3997ab?(_0x5b2c62++,_0x1c3226++,_0x1c3226===0x3&&(_0x254331[_0x46b915(0x9b9)](BADGES[_0x46b915(0x30a)]['id']),_0x1c3226=0x0)):_0x1c3226=0x0;let _0xe0cff9=null;_0x57e6f3['options']&&_0x48cea6!==null&&(_0xe0cff9=_0x57e6f3[_0x46b915(0x9b4)][_0x48cea6]),_0x1b8cd3[_0x46b915(0x9b9)]({'questionId':_0x57e6f3['id'],'answer':_0x48cea6,'answerText':_0xe0cff9,'isCorrect':_0x3997ab,'originalQuestionText':_0x57e6f3[_0x46b915(0x2c1)]||_0x57e6f3[_0x46b915(0x60a)]});}_0x53c9ac=_0x5b2c62*0xa;_0x5b2c62===_0x42e65c&&_0x42e65c>0x0&&!currentDisplayedQuiz[_0x46b915(0x9cf)]&&(_0x53c9ac+=0x32,_0x254331[_0x46b915(0x9b9)](BADGES['PERFECT_SCORE']['id']));const _0x502c6d=currentDisplayedQuiz['settings']?.['passingScore']??Math[_0x46b915(0x273)](_0x42e65c/0x2),_0x4316db=currentDisplayedQuiz[_0x46b915(0x363)]?.['timerMode'];if(_0x4316db==='whole_quiz'&&quizStartTime){const _0x1abed2=(new Date()-quizStartTime)/0x3e8,_0x27b7d1=currentDisplayedQuiz['settings'][_0x46b915(0xad1)]*0x3c;_0x5b2c62>=_0x502c6d&&_0x1abed2<_0x27b7d1/0x2&&(_0x53c9ac+=0x14,_0x254331[_0x46b915(0x9b9)](BADGES['QUICK_THINKER']['id']));}_0x2de35d[_0x46b915(0xabc)]===0x0&&_0x5b2c62===_0x42e65c&&_0x42e65c>0x0&&_0x254331[_0x46b915(0x9b9)](BADGES['FIRST_TRY_ACE']['id']);if(_0x2de35d[_0x46b915(0xabc)]>0x0){const _0x2f5127=_0x2de35d[0x0][_0x46b915(0x941)];if(_0x2f5127<_0x502c6d&&_0x5b2c62>=_0x502c6d){const _0x374b12=_0x2de35d[_0x46b915(0x657)](_0x52625f=>(_0x52625f[_0x46b915(0x487)]||[])[_0x46b915(0x67a)](BADGES[_0x46b915(0x2db)]['id']));!_0x374b12&&_0x254331[_0x46b915(0x9b9)](BADGES['COMEBACK_KING']['id']);}}_0x2de35d[_0x46b915(0xabc)]===0x4&&_0x254331['push'](BADGES[_0x46b915(0x5ae)]['id']);const _0x2379fb=currentDisplayedQuiz[_0x46b915(0x363)][_0x46b915(0x51d)];if(currentMode===_0x46b915(0x9d2)){handleResultDisplay(_0x2379fb,_0x5b2c62,_0x53c9ac,_0x254331,_0x1b8cd3,_0x42e65c);return;}const _0x27dc68=currentQuizData['id'],_0x37b171=doc(db,_0x46b915(0x9ac)+appId+_0x46b915(0x8b8)+_0x27dc68+_0x46b915(0x830),currentStudentName);try{const _0xd5c8b4=[..._0x2de35d],_0x1a9c0f={'score':_0x5b2c62,'points':_0x53c9ac,'badges':_0x254331,'submittedAt':new Date()['toISOString'](),'answers':_0x1b8cd3};_0xd5c8b4[_0x46b915(0x9b9)](_0x1a9c0f);const _0x470b3f=_0x2de35d['length']===0x0?_0x5b2c62:_0x2de35d[0x0][_0x46b915(0x941)]||0x0,_0x53b561=Math[_0x46b915(0x94e)](..._0xd5c8b4[_0x46b915(0x2e0)](_0x31edf7=>_0x31edf7['score'])),_0x13ee31=_0x5b2c62,_0x3c0f72=_0x1a9c0f[_0x46b915(0x35c)];await setDoc(_0x37b171,{'studentName':currentStudentName,'totalQuestions':_0x42e65c,'attempts':_0xd5c8b4,'firstScore':_0x470b3f,'bestScore':_0x53b561,'latestScore':_0x13ee31,'points':_0x53c9ac,'latestSubmittedAt':_0x3c0f72},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x46b915(0x7b7)],currentStudentName),handleResultDisplay(_0x2379fb,_0x5b2c62,_0x53c9ac,_0x254331,_0x1b8cd3,_0x42e65c);}catch(_0x490966){console['error']('Error\x20saving\x20submission:',_0x490966),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x1c91c8,_0x5767a2){const _0x5c098e=_0x31ab05,_0x1629bd=doc(db,_0x5c098e(0x9ac)+appId+'/public/data/projects/'+_0x1c91c8+_0x5c098e(0x928),_0x5767a2);try{const _0x568878=query(collection(db,'artifacts/'+appId+_0x5c098e(0x519)),where(_0x5c098e(0x7b7),'==',_0x1c91c8)),_0x3ec098=await getDocs(_0x568878),_0x2a7940=new Map(_0x3ec098['docs']['map'](_0x78af20=>[_0x78af20['id'],_0x78af20[_0x5c098e(0x943)]()])),_0x1bc32b=Array[_0x5c098e(0xa96)](_0x2a7940['keys']());await runTransaction(db,async _0x3cf96e=>{const _0x5b8abe=_0x5c098e;let _0x3be17f=0x0;const _0x3b4384={};let _0x1351d1=!![],_0x3884d8=0x0,_0x4eb976=0x0;for(const _0xdb114f of _0x1bc32b){const _0x1a27da=_0x2a7940['get'](_0xdb114f),_0x23e4a5=doc(db,_0x5b8abe(0x9ac)+appId+'/public/data/quizzes/'+_0xdb114f+'/submissions',_0x5767a2),_0x448d84=await _0x3cf96e[_0x5b8abe(0x1cb)](_0x23e4a5);if(_0x448d84['exists']()){const _0x4c1b8d=_0x448d84['data'](),_0x35bc4d=_0x4c1b8d[_0x5b8abe(0xacf)]||[];if(_0x35bc4d[_0x5b8abe(0xabc)]>0x0){const _0x38c45b=_0x35bc4d[_0x5b8abe(0x9ab)]((_0x2b5962,_0x3a76a6)=>{const _0x2c0a10=_0x5b8abe;if(_0x3a76a6['score']>_0x2b5962[_0x2c0a10(0x941)])return _0x3a76a6;if(_0x3a76a6['score']===_0x2b5962[_0x2c0a10(0x941)])return(_0x3a76a6[_0x2c0a10(0x605)]||0x0)>(_0x2b5962[_0x2c0a10(0x605)]||0x0)?_0x3a76a6:_0x2b5962;return _0x2b5962;},{'score':-0x1,'points':-0x1});_0x38c45b[_0x5b8abe(0x941)]>-0x1&&(_0x3be17f+=_0x38c45b['points']||0x0,(_0x38c45b[_0x5b8abe(0x487)]||[])['forEach'](_0x4d9868=>{_0x3b4384[_0x4d9868]=(_0x3b4384[_0x4d9868]||0x0)+0x1;}));}}if(_0x1a27da[_0x5b8abe(0x88d)]!==_0x5b8abe(0x713)){_0x4eb976++;if(_0x448d84[_0x5b8abe(0x9da)]()){_0x3884d8++;const _0x1df8bd=_0x448d84[_0x5b8abe(0x943)]();_0x1df8bd[_0x5b8abe(0x4f0)]!==_0x1df8bd[_0x5b8abe(0x682)]&&(_0x1351d1=![]);}else _0x1351d1=![];}}_0x4eb976>0x0&&_0x3884d8===_0x4eb976&&_0x1351d1?_0x3b4384[_0x5b8abe(0x8df)]=0x1:_0x3b4384[_0x5b8abe(0x8df)]=0x0,_0x3cf96e[_0x5b8abe(0x20b)](_0x1629bd,{'studentName':_0x5767a2,'totalPoints':_0x3be17f,'unlockedBadges':Object[_0x5b8abe(0x2c9)](_0x3b4384)[_0x5b8abe(0x8af)](_0x4670e6=>_0x3b4384[_0x4670e6]>0x0),'badgesCount':_0x3b4384},{'merge':!![]});});}catch(_0x27e2e9){console[_0x5c098e(0x8c0)](_0x5c098e(0x676),_0x27e2e9),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x15c20c=_0x31ab05;if(!currentQuizData){showMessage(_0x15c20c(0x38b));return;}let _0xe14a47=JSON['parse'](JSON[_0x15c20c(0x56f)](currentQuizData));currentMode='admin-testing',currentStudentName=_0x15c20c(0x5e1),adminView['classList'][_0x15c20c(0x9a9)]('hidden'),studentView[_0x15c20c(0x7b1)][_0x15c20c(0x195)](_0x15c20c(0x540)),studentInitialView[_0x15c20c(0x7b1)]['add'](_0x15c20c(0x540)),studentNameSelectionView[_0x15c20c(0x7b1)][_0x15c20c(0x9a9)]('hidden'),studentResultArea[_0x15c20c(0x7b1)][_0x15c20c(0x9a9)](_0x15c20c(0x540)),studentQuizArea[_0x15c20c(0x7b1)]['remove'](_0x15c20c(0x540)),quizStartTime=new Date(),displayQuizForStudent(_0xe14a47);}function handleResultDisplay(_0x4d18b4,_0x49f6ff,_0x1c05e9,_0x11609d,_0x49ce1e,_0x4463a3){const _0x55c28a=_0x31ab05;if(_0x4d18b4==='manual_release'){displaySubmissionConfirmation();return;}const _0x158f57=currentDisplayedQuiz[_0x55c28a(0x363)]?.[_0x55c28a(0x8aa)]??Math[_0x55c28a(0x273)](_0x4463a3/0x2),_0x1b1a49=currentDisplayedQuiz[_0x55c28a(0x363)]?.[_0x55c28a(0x87e)]??![],_0x5b84f0=currentDisplayedQuiz['settings']?.[_0x55c28a(0x68d)]===!![],_0x555242=_0x49f6ff<_0x158f57,_0x1b6cc2=_0x4d18b4===_0x55c28a(0x6f2)||_0x4d18b4===_0x55c28a(0x374);if(_0x5b84f0&&_0x555242&&!_0x1b6cc2){_0x4d18b4===_0x55c28a(0x6fc)?displayResultsWithAnswers(_0x49f6ff,_0x1c05e9,_0x11609d,_0x49ce1e,_0x4463a3,!![]):displayLoopScreen(_0x49f6ff,_0x4463a3,_0x4d18b4);return;}if(_0x1b1a49&&_0x555242){startAdaptiveFlow(_0x49ce1e,_0x49f6ff,_0x4463a3);return;}switch(_0x4d18b4){case'show_results_and_answers':displayResultsWithAnswers(_0x49f6ff,_0x1c05e9,_0x11609d,_0x49ce1e,_0x4463a3);break;case _0x55c28a(0x2ec):displayResultsScoreOnly(_0x49f6ff,_0x1c05e9,_0x11609d,_0x4463a3);break;case _0x55c28a(0x930):displayPassFailOnly(_0x49f6ff,_0x4463a3);break;case'half_mark_status':displayHalfMarkResult(_0x49f6ff,_0x4463a3);break;case _0x55c28a(0x374):displayPerfectScoreResult(_0x49f6ff,_0x4463a3);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x19c848){const _0x44aed1=_0x31ab05;studentReadingArea[_0x44aed1(0x9ad)]=_0x44aed1(0x208);const _0x74b0f6=_0x44aed1(0x57d)+_0x19c848+_0x44aed1(0x985)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x231365={'type':_0x44aed1(0x6f5),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x44aed1(0xa49),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x44aed1(0x1e3)},'explanation':{'type':_0x44aed1(0x62a)}},'required':['questionText','options',_0x44aed1(0x438),_0x44aed1(0x468)]},_0x450ce1={'type':_0x44aed1(0x6f5),'properties':{'topic':{'type':_0x44aed1(0x62a)},'questions':{'type':_0x44aed1(0xa49),'items':_0x231365}},'required':['topic',_0x44aed1(0x2c2)]};try{const _0x41c5c0=await callAnalysisApi(_0x74b0f6,_0x450ce1);_0x41c5c0[_0x44aed1(0x9cf)]=!![],studentReadingArea[_0x44aed1(0x7b1)]['add'](_0x44aed1(0x540));const _0x2d8122={...currentDisplayedQuiz[_0x44aed1(0x363)],'isAdaptive':![],'resultsDisplay':_0x44aed1(0x6fc)};_0x41c5c0['settings']=_0x2d8122,displayQuizForStudent(_0x41c5c0);}catch(_0x59b55d){console[_0x44aed1(0x8c0)]('Remedial\x20quiz\x20generation\x20failed:',_0x59b55d),showMessage(_0x44aed1(0x4d1)),showView(_0x44aed1(0x206));}}function displayPassFailOnly(_0x3326c4,_0x1d8b7a){const _0x492534=_0x31ab05,_0x27fd27=currentDisplayedQuiz[_0x492534(0x363)]?.[_0x492534(0x8aa)]??-0x1,_0x1f90f8=currentDisplayedQuiz[_0x492534(0x9cf)]===!![];let _0x2b4f19='',_0x4dea60=![];if(_0x1f90f8||_0x27fd27!==-0x1){_0x4dea60=_0x1f90f8?_0x3326c4===_0x1d8b7a:_0x3326c4>=_0x27fd27;const _0x4d5325=_0x4dea60?_0x492534(0x738):_0x492534(0x912),_0x409fa1=_0x4dea60?'ผ่าน':_0x492534(0x7de);_0x2b4f19='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x4d5325+'\x22>'+_0x409fa1+_0x492534(0x89f);}else _0x2b4f19=_0x492534(0x871);let _0x18ff7a=_0x492534(0x73e)+currentStudentName+_0x492534(0x6a5)+_0x2b4f19+_0x492534(0x613);studentResultArea[_0x492534(0x9ad)]=_0x18ff7a,studentResultArea[_0x492534(0x7b1)][_0x492534(0x195)]('hidden'),studentQuizArea['classList']['add'](_0x492534(0x540)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x4dea60});}function cancelAdminTest(){const _0x200123=_0x31ab05;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x200123(0x890)](_0x200123(0x706),handleFullscreenChange),document[_0x200123(0x890)](_0x200123(0x9a3),handleVisibilityChange),currentMode=_0x200123(0x685),studentView['classList']['add'](_0x200123(0x540)),adminView[_0x200123(0x7b1)][_0x200123(0x195)]('hidden'),showView('project-detail');}function setupResultScreenBackButton(_0x5e9bfc){const _0x17e00a=_0x31ab05,_0x49194f={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x5e9bfc};if(_0x49194f['isLooping']){const _0x5bb3a8=_0x17e00a(0x638);studentResultArea['insertAdjacentHTML']('beforeend',_0x5bb3a8),document[_0x17e00a(0x983)]('retake-quiz-loop-btn')['addEventListener']('click',()=>{const _0x31ed98=_0x17e00a;studentResultArea[_0x31ed98(0x7b1)][_0x31ed98(0x9a9)](_0x31ed98(0x540)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x221914=_0x17e00a(0xa65),_0x3472c6=currentMode==='admin-testing',_0x50ccb9=_0x3472c6?_0x17e00a(0x495):_0x17e00a(0x7d2);let _0x4bf9bd='';_0x49194f[_0x17e00a(0x79a)]&&(_0x4bf9bd+=_0x17e00a(0xa57));let _0xe2b70=_0x49194f[_0x17e00a(0x6be)];_0xe2b70===undefined&&(_0xe2b70=_0x49194f['score']<_0x49194f['totalQuestions']);_0xe2b70&&(_0x4bf9bd+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x4bf9bd+='<button\x20id=\x22'+_0x221914+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x50ccb9+_0x17e00a(0x4c9);const _0x2544d1=_0x17e00a(0x264)+_0x4bf9bd+_0x17e00a(0x603);studentResultArea[_0x17e00a(0xa88)](_0x17e00a(0x888),_0x2544d1),studentResultArea[_0x17e00a(0x6d9)]('#view-rankings-btn')?.[_0x17e00a(0x7d4)](_0x17e00a(0x72b),handleShowStudentRankings);const _0x36ec42=studentResultArea[_0x17e00a(0x6d9)](_0x17e00a(0xaad));_0x36ec42&&_0x36ec42[_0x17e00a(0x7d4)](_0x17e00a(0x72b),()=>{const _0xb3fe08=_0x17e00a;studentResultArea[_0xb3fe08(0x7b1)][_0xb3fe08(0x9a9)](_0xb3fe08(0x540)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x17e00a(0x983)](_0x221914)[_0x17e00a(0x7d4)](_0x17e00a(0x72b),()=>{const _0x26be24=_0x17e00a;_0x3472c6?(currentMode=_0x26be24(0x685),studentView[_0x26be24(0x7b1)][_0x26be24(0x9a9)]('hidden'),adminView[_0x26be24(0x7b1)]['remove'](_0x26be24(0x540)),showView('project-detail')):(showView(_0x26be24(0x206)),document[_0x26be24(0x983)](_0x26be24(0x979))[_0x26be24(0x3eb)]='');});}function displayResultsWithAnswers(_0x26ee2c,_0x5b4bc8,_0x3087eb,_0x140b90,_0x4a2c0d,_0x4d5289=![]){const _0x35a838=_0x31ab05,_0x3df1f9=_0x4a2c0d>0x0?_0x26ee2c/_0x4a2c0d*0x64:0x0,_0x265f67=currentDisplayedQuiz[_0x35a838(0x363)]?.[_0x35a838(0x8aa)]??-0x1,_0x243ec4=currentDisplayedQuiz['isRemedial']===!![];let _0x55b75e='';if(_0x243ec4||_0x265f67!==-0x1){let _0x3572ef=_0x243ec4?_0x26ee2c===_0x4a2c0d:_0x26ee2c>=_0x265f67;const _0x1e6cad=_0x3572ef?_0x35a838(0x738):'bg-red-100\x20text-red-800',_0x4ced9a=_0x3572ef?'ผ่าน':'ไม่ผ่าน';_0x55b75e=_0x35a838(0x6cc)+_0x1e6cad+'\x22>'+_0x4ced9a+_0x35a838(0x989);}let _0x5630be=_0x35a838(0x840)+currentStudentName+_0x35a838(0x6c3)+_0x26ee2c+_0x35a838(0x21c)+_0x4a2c0d+_0x35a838(0x200)+_0x55b75e+_0x35a838(0x80f)+_0x5b4bc8+_0x35a838(0xa37)+_0x3df1f9[_0x35a838(0x7c0)](0x0)+_0x35a838(0x325);currentDisplayedQuiz[_0x35a838(0x2c2)][_0x35a838(0x1bc)]((_0x2e18ab,_0x56900c)=>{const _0x95e5dd=_0x35a838,_0x48a80a=_0x140b90[_0x56900c],_0x5e3eb2=_0x48a80a['answer'],_0x36c1e8=_0x48a80a[_0x95e5dd(0x22d)],_0x395c8c=_0x2e18ab[_0x95e5dd(0x225)]||currentDisplayedQuiz['quizType'];_0x5630be+=_0x95e5dd(0xa26)+(_0x36c1e8?'border-green-300\x20bg-green-50':_0x95e5dd(0x349))+_0x95e5dd(0xa06)+(_0x56900c+0x1)+'.\x20'+(_0x2e18ab[_0x95e5dd(0x2c1)]||_0x2e18ab[_0x95e5dd(0x60a)])+_0x95e5dd(0xa4f);switch(_0x395c8c){case _0x95e5dd(0x729):const _0x230eca=_0x5e3eb2||'ไม่ได้ตอบ',_0x447f66=_0x2e18ab[_0x95e5dd(0x965)];_0x5630be+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x36c1e8?_0x95e5dd(0xa72):'')+'\x22>'+_0x230eca+'</span></p>';!_0x36c1e8&&(_0x5630be+=_0x95e5dd(0x32f)+_0x447f66+_0x95e5dd(0x989));break;case _0x95e5dd(0x2f3):_0x5630be+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x5e3eb2||_0x95e5dd(0x457))+_0x95e5dd(0x989),_0x5630be+=_0x95e5dd(0x1d7)+_0x2e18ab['idealAnswer']+_0x95e5dd(0x989);break;case _0x95e5dd(0x486):_0x5630be+=_0x95e5dd(0x4c6)+(_0x2e18ab[_0x95e5dd(0x1dc)]===!![]?_0x95e5dd(0x8fc):'')+'\x20'+(_0x5e3eb2===_0x95e5dd(0xa61)&&!_0x36c1e8?_0x95e5dd(0xa72):'')+'\x22>ใช่</p>',_0x5630be+='<p\x20class=\x22'+(_0x2e18ab[_0x95e5dd(0x1dc)]===![]?_0x95e5dd(0x8fc):'')+'\x20'+(_0x5e3eb2===_0x95e5dd(0x822)&&!_0x36c1e8?_0x95e5dd(0xa72):'')+_0x95e5dd(0xa8a);break;default:_0x5630be+=_0x2e18ab[_0x95e5dd(0x9b4)]['map']((_0x587cfe,_0x53ca7d)=>{const _0x2cef8b=_0x95e5dd;let _0x39f4c7='',_0x1946ba='';if(_0x53ca7d===_0x2e18ab[_0x2cef8b(0x438)])_0x39f4c7=_0x2cef8b(0x8fc),_0x1946ba='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x53ca7d===_0x5e3eb2&&(_0x39f4c7='font-bold\x20text-red-700\x20line-through',_0x1946ba=_0x2cef8b(0x990));return _0x2cef8b(0x901)+_0x39f4c7+'\x22>'+_0x1946ba+_0x587cfe+'</div>';})['join']('');break;}_0x5630be+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x2e18ab[_0x95e5dd(0x468)]||_0x95e5dd(0x509))+_0x95e5dd(0x603);if(!_0x36c1e8){const _0x431e38=_0x2e18ab[_0x95e5dd(0x2c1)]||_0x2e18ab[_0x95e5dd(0x60a)];_0x5630be+=_0x95e5dd(0x2f4)+escape(_0x431e38)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x5630be+=_0x95e5dd(0x603);}),studentResultArea[_0x35a838(0x9ad)]=_0x5630be,renderEarnedBadges(_0x3087eb,'earned-badges-container'),studentResultArea[_0x35a838(0x7b1)][_0x35a838(0x195)](_0x35a838(0x540)),studentQuizArea[_0x35a838(0x7b1)][_0x35a838(0x9a9)](_0x35a838(0x540)),setupResultScreenBackButton({'isLooping':_0x4d5289,'score':_0x26ee2c,'totalQuestions':_0x4a2c0d,'showRankings':!![]});if(window[_0x35a838(0x2cb)])window[_0x35a838(0x2cb)][_0x35a838(0x1de)]([studentResultArea]);}function displayResultsScoreOnly(_0x510d0b,_0x5440a6,_0x4f6735,_0x458bf9){const _0x4178f6=_0x31ab05,_0x265d0b=_0x458bf9>0x0?_0x510d0b/_0x458bf9*0x64:0x0,_0x370154=currentDisplayedQuiz['settings']?.[_0x4178f6(0x8aa)]??-0x1,_0x161b18=currentDisplayedQuiz[_0x4178f6(0x9cf)]===!![];let _0x1b9958='';if(_0x161b18||_0x370154!==-0x1){let _0x57aecb=_0x161b18?_0x510d0b===_0x458bf9:_0x510d0b>=_0x370154;const _0x3889f0=_0x57aecb?_0x4178f6(0x738):_0x4178f6(0x912),_0x780ef8=_0x57aecb?_0x4178f6(0x8b4):_0x4178f6(0x7de);_0x1b9958='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x3889f0+'\x22>'+_0x780ef8+_0x4178f6(0x989);}let _0x89dd6c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x4178f6(0x643)+_0x510d0b+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x458bf9+_0x4178f6(0x200)+_0x1b9958+_0x4178f6(0x80f)+_0x5440a6+_0x4178f6(0xa31)+_0x265d0b['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x4178f6(0x9ad)]=_0x89dd6c,renderEarnedBadges(_0x4f6735,'earned-badges-container'),studentResultArea['classList']['remove'](_0x4178f6(0x540)),studentQuizArea[_0x4178f6(0x7b1)][_0x4178f6(0x9a9)]('hidden'),setupResultScreenBackButton({'score':_0x510d0b,'totalQuestions':_0x458bf9,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0xeba5da=_0x31ab05;let _0x31d17f=_0xeba5da(0x4d3)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x31d17f,studentResultArea['classList'][_0xeba5da(0x195)](_0xeba5da(0x540)),studentQuizArea['classList'][_0xeba5da(0x9a9)](_0xeba5da(0x540)),document[_0xeba5da(0x983)]('back-to-home-manual-release')[_0xeba5da(0x7d4)](_0xeba5da(0x72b),()=>{const _0x274a7e=_0xeba5da;showView('student'),document[_0x274a7e(0x983)]('quiz-id-input')['value']='';});}function renderEarnedBadges(_0x21f58c,_0x555151){const _0x233823=_0x31ab05,_0x562fb8=document[_0x233823(0x983)](_0x555151);if(!_0x562fb8||!_0x21f58c||_0x21f58c[_0x233823(0xabc)]===0x0)return;let _0x468167='';_0x21f58c[_0x233823(0x1bc)]((_0x161f0a,_0x5e0f76)=>{const _0xf3edf0=_0x233823,_0x4eb3e9=Object['values'](BADGES)['find'](_0x5c499f=>_0x5c499f['id']===_0x161f0a);_0x4eb3e9&&(_0x468167+=_0xf3edf0(0xa5d)+_0x5e0f76*0.2+_0xf3edf0(0x30b)+_0x4eb3e9[_0xf3edf0(0xa08)]+_0xf3edf0(0x863)+_0x4eb3e9[_0xf3edf0(0x230)]+_0xf3edf0(0x23d)+_0x4eb3e9[_0xf3edf0(0x73f)]+_0xf3edf0(0x9c7));}),_0x562fb8['innerHTML']=_0x468167;}function startPresentation(_0x56a8de){const _0x16f2a8=_0x31ab05;currentQuizData=getShuffledQuiz(_0x56a8de),currentPresentationSlide=0x0,presentationModal['style'][_0x16f2a8(0x608)]=_0x16f2a8(0x832),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x3639f4=_0x31ab05;document[_0x3639f4(0x70a)]&&document['exitFullscreen'](),presentationModal[_0x3639f4(0x58d)]['display']=_0x3639f4(0x548);}function renderPresentationSlide(_0x91e808){const _0xf25951=_0x31ab05,_0x4f0c68=document[_0xf25951(0x983)](_0xf25951(0x841));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0xf25951(0x2c2)][_0x91e808]){_0x4f0c68[_0xf25951(0x9ad)]=_0xf25951(0x55c);return;}const _0x59a8c9=currentQuizData[_0xf25951(0x2c2)][_0x91e808],_0x1c1767=_0x59a8c9[_0xf25951(0x225)]||currentQuizData[_0xf25951(0x91c)];_0x4f0c68[_0xf25951(0x9ad)]='';let _0x5f522b=_0xf25951(0x29b)+(_0x59a8c9[_0xf25951(0x6bc)]?_0xf25951(0x934)+_0x59a8c9['imageCode']+_0xf25951(0x603):'')+_0xf25951(0x66a)+(_0x91e808+0x1)+'.\x20'+(_0x59a8c9['stem']||_0x59a8c9[_0xf25951(0x60a)])+_0xf25951(0xa09);switch(_0x1c1767){case _0xf25951(0x729):_0x5f522b+=_0x59a8c9[_0xf25951(0x9c2)][_0xf25951(0x2e0)](_0x3216ba=>_0xf25951(0x411)+_0x3216ba+_0xf25951(0x424))[_0xf25951(0x62f)]('');break;case _0xf25951(0x486):_0x5f522b+=_0xf25951(0x281),_0x5f522b+=_0xf25951(0x714);break;case'fill_in_no_choices':case _0xf25951(0x2f3):_0x5f522b+=_0xf25951(0x313);break;case'fill_in_the_blank':case _0xf25951(0x373):default:_0x5f522b+=_0x59a8c9[_0xf25951(0x9b4)][_0xf25951(0x2e0)]((_0x2e2333,_0x1b0c94)=>_0xf25951(0x610)+_0x1b0c94+_0xf25951(0x805)+_0x2e2333+_0xf25951(0x424))['join']('');break;}_0x5f522b+=_0xf25951(0x268)+(_0x59a8c9[_0xf25951(0x468)]||_0xf25951(0x509))+_0xf25951(0x57a),_0x4f0c68['innerHTML']=_0x5f522b;if(window['MathJax'])window[_0xf25951(0x2cb)]['typesetPromise']([_0x4f0c68]);let _0x251460=[];switch(_0x1c1767){case _0xf25951(0x729):_0x251460=_0x59a8c9[_0xf25951(0x9c2)]||[];break;case _0xf25951(0x486):_0x251460=[_0xf25951(0x308),'ไม่ใช่'];break;default:_0x251460=_0x59a8c9[_0xf25951(0x9b4)]||[];break;}const _0x28ccea=document['getElementById']('presentation-scratchpad-btn');_0x28ccea&&(_0x28ccea[_0xf25951(0x488)]=()=>{openScratchpad(_0x59a8c9,_0x251460);});document[_0xf25951(0x279)](_0xf25951(0x815))[_0xf25951(0x1bc)](_0x212e9a=>{const _0x2eb25f=_0xf25951;_0x212e9a[_0x2eb25f(0x7d4)](_0x2eb25f(0x72b),_0x2b362a=>revealAnswerForPresentation(_0x91e808,_0x2b362a[_0x2eb25f(0x25a)]));});const _0x5db2a7=document[_0xf25951(0x983)]('check-presentation-answer-btn');_0x5db2a7&&_0x5db2a7['addEventListener'](_0xf25951(0x72b),()=>checkShortAnswerForPresentation(_0x91e808)),document[_0xf25951(0x983)](_0xf25951(0x938))[_0xf25951(0x36e)]=_0xf25951(0x777)+(_0x91e808+0x1)+'\x20/\x20'+currentQuizData[_0xf25951(0x2c2)][_0xf25951(0xabc)],document[_0xf25951(0x983)](_0xf25951(0x502))[_0xf25951(0x383)]=_0x91e808===0x0,document[_0xf25951(0x983)](_0xf25951(0x947))[_0xf25951(0x383)]=_0x91e808===currentQuizData[_0xf25951(0x2c2)][_0xf25951(0xabc)]-0x1;}async function checkShortAnswerForPresentation(_0xf02895){const _0x980bf6=_0x31ab05,_0x22d468=currentQuizData[_0x980bf6(0x2c2)][_0xf02895],_0x3c5b29=document[_0x980bf6(0x983)](_0x980bf6(0x354)),_0xc31211=document[_0x980bf6(0x983)](_0x980bf6(0x660)),_0x16d759=document[_0x980bf6(0x983)]('presentation-ai-result'),_0x3fb670=document[_0x980bf6(0x983)](_0x980bf6(0x440));if(!_0x3c5b29||!_0xc31211||!_0x16d759||!_0x3fb670)return;const _0x3dae29=_0x3c5b29[_0x980bf6(0x3eb)][_0x980bf6(0x68c)]();if(_0x3dae29==='')return;_0xc31211[_0x980bf6(0x383)]=!![],_0xc31211[_0x980bf6(0x9ad)]=_0x980bf6(0x1da),_0x3c5b29[_0x980bf6(0x383)]=!![];const _0x5cc515=await gradeShortAnswer(_0x3dae29,_0x22d468);_0x5cc515?_0x16d759['innerHTML']=_0x980bf6(0x7bc):_0x16d759[_0x980bf6(0x9ad)]=_0x980bf6(0x886)+_0x22d468[_0x980bf6(0x980)]+')',_0x16d759['classList'][_0x980bf6(0x195)](_0x980bf6(0x540)),_0x3fb670['classList']['remove'](_0x980bf6(0x540)),_0xc31211[_0x980bf6(0x7b1)][_0x980bf6(0x9a9)](_0x980bf6(0x540));}function revealAnswerForPresentation(_0x41166f,_0x1367b0){const _0x31dbc7=_0x31ab05,_0x8897a0=currentQuizData[_0x31dbc7(0x2c2)][_0x41166f],_0x41f8e8=_0x8897a0[_0x31dbc7(0x225)]||currentQuizData['quizType'];document['querySelectorAll'](_0x31dbc7(0x815))[_0x31dbc7(0x1bc)](_0x426675=>{const _0x6755b2=_0x31dbc7;_0x426675['disabled']=!![],_0x426675['classList'][_0x6755b2(0x195)](_0x6755b2(0xa1c));let _0x430adf=![];if(_0x41f8e8===_0x6755b2(0x373)||_0x41f8e8===_0x6755b2(0x425)){const _0x6a96d7=parseInt(_0x426675[_0x6755b2(0x700)][_0x6755b2(0x85a)]);_0x430adf=_0x6a96d7===_0x8897a0['correctAnswerIndex'];}else{if(_0x41f8e8===_0x6755b2(0x486)){const _0x558f73=_0x426675[_0x6755b2(0x700)]['answer']==='true';_0x430adf=_0x558f73===_0x8897a0[_0x6755b2(0x1dc)];}else _0x41f8e8===_0x6755b2(0x729)&&(_0x430adf=_0x426675[_0x6755b2(0x36e)][_0x6755b2(0x68c)]()===_0x8897a0[_0x6755b2(0x965)]);}_0x430adf?_0x426675[_0x6755b2(0x7b1)][_0x6755b2(0x9a9)](_0x6755b2(0x6e7),_0x6755b2(0x655),'border-green-700'):_0x426675[_0x6755b2(0x7b1)][_0x6755b2(0x9a9)](_0x6755b2(0x629));}),_0x1367b0[_0x31dbc7(0x7b1)][_0x31dbc7(0x195)](_0x31dbc7(0x629));let _0x3cbcb8=![];if(_0x41f8e8===_0x31dbc7(0x373))_0x3cbcb8=parseInt(_0x1367b0['dataset']['index'])===_0x8897a0[_0x31dbc7(0x438)];else{if(_0x41f8e8===_0x31dbc7(0x486))_0x3cbcb8=_0x1367b0[_0x31dbc7(0x700)][_0x31dbc7(0x94b)]===_0x31dbc7(0xa61)===_0x8897a0[_0x31dbc7(0x1dc)];else _0x41f8e8===_0x31dbc7(0x729)&&(_0x3cbcb8=_0x1367b0[_0x31dbc7(0x36e)][_0x31dbc7(0x68c)]()===_0x8897a0['correctResponse']);}!_0x3cbcb8&&_0x1367b0[_0x31dbc7(0x7b1)][_0x31dbc7(0x9a9)](_0x31dbc7(0x672),'text-white',_0x31dbc7(0x37c)),document[_0x31dbc7(0x983)](_0x31dbc7(0x440))[_0x31dbc7(0x7b1)][_0x31dbc7(0x195)](_0x31dbc7(0x540));}function startWholeQuizTimer(_0x1ff9b8){const _0xaf4482=_0x31ab05,_0x8fc703=document[_0xaf4482(0x983)]('timer-container');if(!_0x8fc703)return;const _0x53b288=Date[_0xaf4482(0x53f)]()+_0x1ff9b8*0x3c*0x3e8;_0x8fc703['innerHTML']=_0xaf4482(0x44b);const _0xe87ea1=document[_0xaf4482(0x983)](_0xaf4482(0x2b9));quizTimerInterval=setInterval(()=>{const _0x198651=_0xaf4482,_0x4132c9=_0x53b288-Date[_0x198651(0x53f)]();if(_0x4132c9<=0x0)clearInterval(quizTimerInterval),_0xe87ea1[_0x198651(0x36e)]=_0x198651(0xa40),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x5af56a=Math['floor'](_0x4132c9/0x3e8/0x3c%0x3c)['toString']()[_0x198651(0x4dc)](0x2,'0'),_0x2766c4=Math[_0x198651(0x273)](_0x4132c9/0x3e8%0x3c)['toString']()[_0x198651(0x4dc)](0x2,'0');_0xe87ea1[_0x198651(0x36e)]=_0x5af56a+':'+_0x2766c4;}},0x3e8);}function renderPerQuestionView(){const _0x1bf4bf=_0x31ab05;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x2266df=currentDisplayedQuiz[_0x1bf4bf(0x2c2)][currentQuestionIndex],_0x37f1be=_0x2266df[_0x1bf4bf(0x225)]||currentDisplayedQuiz[_0x1bf4bf(0x91c)];let _0x2f2a0b=_0x1bf4bf(0x24a)+(currentQuestionIndex+0x1)+_0x1bf4bf(0x5b3)+currentDisplayedQuiz[_0x1bf4bf(0x2c2)][_0x1bf4bf(0xabc)]+_0x1bf4bf(0x7be)+(currentMode===_0x1bf4bf(0x9d2)?_0x1bf4bf(0x4a6):'')+_0x1bf4bf(0x42d)+currentDisplayedQuiz['topic']+_0x1bf4bf(0x94a)+(currentQuestionIndex===currentDisplayedQuiz[_0x1bf4bf(0x2c2)]['length']-0x1?'ส่งคำตอบ':'คำถามถัดไป')+_0x1bf4bf(0x68e);studentQuizArea[_0x1bf4bf(0x9ad)]=_0x2f2a0b;let _0x5816e8='',_0x398199='';switch(_0x37f1be){case _0x1bf4bf(0x729):_0x5816e8=currentQuestionIndex+0x1+'.\x20'+_0x2266df[_0x1bf4bf(0x2c1)],_0x398199=_0x1bf4bf(0x79b)+_0x2266df[_0x1bf4bf(0x9c2)]['map'](_0x401049=>_0x1bf4bf(0x420)+_0x401049+'\x22>'+_0x401049+_0x1bf4bf(0x6e0))[_0x1bf4bf(0x62f)]('')+_0x1bf4bf(0x179);break;case _0x1bf4bf(0x486):_0x5816e8=currentQuestionIndex+0x1+'.\x20'+_0x2266df[_0x1bf4bf(0x60a)],_0x398199='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x1bf4bf(0x2f3):case _0x1bf4bf(0x3a2):_0x5816e8=currentQuestionIndex+0x1+'.\x20'+_0x2266df[_0x1bf4bf(0x60a)],_0x398199=_0x1bf4bf(0x6f4);break;case _0x1bf4bf(0x373):case _0x1bf4bf(0x593):default:_0x5816e8=currentQuestionIndex+0x1+'.\x20'+_0x2266df[_0x1bf4bf(0x60a)],_0x398199=_0x2266df[_0x1bf4bf(0x9b4)][_0x1bf4bf(0x2e0)]((_0x3627f7,_0x43389f)=>_0x1bf4bf(0x4f1)+_0x43389f+_0x1bf4bf(0xa5a)+_0x43389f+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt'+_0x43389f+'\x22>'+_0x3627f7+_0x1bf4bf(0x825))['join']('');break;}_0x2266df['imageCode']&&(_0x5816e8+=_0x1bf4bf(0x934)+_0x2266df[_0x1bf4bf(0x6bc)]+_0x1bf4bf(0x603));document[_0x1bf4bf(0x983)](_0x1bf4bf(0x33b))[_0x1bf4bf(0x9ad)]=_0x5816e8,document[_0x1bf4bf(0x983)](_0x1bf4bf(0x1dd))[_0x1bf4bf(0x9ad)]=_0x398199;if(currentMode==='admin-testing'){const _0x5d18c7=document[_0x1bf4bf(0x983)](_0x1bf4bf(0x5e2));if(_0x5d18c7)_0x5d18c7[_0x1bf4bf(0x7d4)](_0x1bf4bf(0x72b),cancelAdminTest);}document[_0x1bf4bf(0x983)]('next-question-timed-btn')[_0x1bf4bf(0x7d4)](_0x1bf4bf(0x72b),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window['MathJax'][_0x1bf4bf(0x1de)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x11e303=_0x31ab05,_0x54da95=currentDisplayedQuiz[_0x11e303(0x363)][_0x11e303(0xad1)],_0x547d50=document['getElementById'](_0x11e303(0x3fd));if(!_0x547d50)return;let _0x384a17=_0x54da95;_0x547d50[_0x11e303(0x9ad)]=_0x11e303(0x3ed)+_0x384a17+_0x11e303(0x855);const _0x10527a=document['getElementById'](_0x11e303(0x703)),_0x44d745=document[_0x11e303(0x983)](_0x11e303(0x56b));perQuestionTimerInterval=setInterval(()=>{const _0x19ca5f=_0x11e303;_0x384a17--;const _0x5c7c0e=_0x384a17/_0x54da95*0x64;_0x10527a[_0x19ca5f(0x58d)][_0x19ca5f(0x4a1)]=_0x5c7c0e+'%',_0x44d745[_0x19ca5f(0x36e)]=_0x384a17,_0x384a17<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x19ca5f(0x594)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x3a1de7=![]){const _0x3fa671=_0x31ab05;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x1e0786=null;if(!_0x3a1de7){const _0x241864=currentDisplayedQuiz[_0x3fa671(0x2c2)][currentQuestionIndex],_0x52eca6=_0x241864[_0x3fa671(0x225)]||currentDisplayedQuiz[_0x3fa671(0x91c)];if(_0x52eca6===_0x3fa671(0x2f3)||_0x52eca6===_0x3fa671(0x3a2)){const _0x55d7fe=document[_0x3fa671(0x6d9)](_0x3fa671(0x260));_0x1e0786=_0x55d7fe?_0x55d7fe[_0x3fa671(0x3eb)][_0x3fa671(0x68c)]():'';}else{if(_0x52eca6===_0x3fa671(0x729)){const _0x568e7f=document[_0x3fa671(0x6d9)]('#per-question-options\x20select');_0x1e0786=_0x568e7f?_0x568e7f[_0x3fa671(0x3eb)]:'';}else{const _0x4a4882=document[_0x3fa671(0x6d9)](_0x3fa671(0x792));if(_0x4a4882){const _0x472740=_0x4a4882[_0x3fa671(0x3eb)];_0x1e0786=!isNaN(parseInt(_0x472740,0xa))&&_0x472740[_0x3fa671(0x68c)]()!==''?parseInt(_0x472740,0xa):_0x472740;}}}}studentAnswersPerQuestion[_0x3fa671(0x9b9)](_0x1e0786),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x3fa671(0x2c2)][_0x3fa671(0xabc)]?finalizePerQuestionQuiz():renderPerQuestionView();}function _0x4f95(){const _0x12f42e=['bg-red-100\x20text-red-800','scratchpad-close-btn','quiz-form','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','deltaY','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแจกแจงปกติและ\x20z-score','text-red-600','text-green-600\x20font-bold','quizType','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','Firebase\x20initialization\x20failed:','Error\x20deleting\x20custom\x20topic:','Error\x20fetching\x20quiz\x20status:','katex','px)\x20scale(','Error\x20saving\x20to\x20question\x20bank:','setAttribute','วงรี','/studentProfiles','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','.topic-name-input','confirm-game-start-btn','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','Error\x20fetching\x20student\x20rankings:','Failed\x20to\x20resume\x20game\x20session:','show_pass_fail_only','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','กฎของโคไซน์','.submittedAt','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','blueprint-upload-input','<i\x20class=\x22fas\x20fa-magic\x22></i>','กรุณาเลือกชื่อของคุณ','slide-counter','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','การคูณเศษส่วน','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','lesson-plan-title','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','gamePin','\x22\x20name=\x22team_answer\x22\x20value=\x22','score','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','data','raw','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','grid','next-question-btn','\x5cge','analyze-strengths-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','Error\x20saving\x20quiz\x20edits:','max','.live-answer-btn','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','จำนวนคู่:','ลบผลสอบของ\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','(เลือกแล้ว\x20','#E0E7FF','_opt1\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-progress-view','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','createObjectURL','kick-player-btn','perfect_score','.ai-fix-question-btn','timerMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','manual_release','label','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','correctResponse','link-topic-input','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','bg-black/20','readAsDataURL','px,\x20','mode-switcher-btn','input','scratchpad-options','load-quiz-btn','rename-quiz-input','AI\x20แก้ไขคำถามสำเร็จ!','both','replace','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','end-game-btn','ระบบอสมการ','<span\x20title=\x22','outerHTML','quiz-id-input','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','element','quiz-leaderboard-table','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.quiz-bank-settings-btn','Error\x20updating\x20old\x20quizzes:','idealAnswer','admin-password-input','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','getElementById','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','</tbody></table></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20text-lg\x22>','timer-duration-label','</p>','.quiz-bank-parallel-btn','text-red-900','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','bg-green-200\x20text-green-800','พาราโบลา','getTextContent','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','move','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','confirm-confident','หยุดระบบจับเวลาหรี่หน้าจอ','<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22><p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','.doc','fixedData','blockReason','modal-passing-score-input','สลับไปโหมดนักเรียน','สร้างโปรเจคสำเร็จ!','รอเปิด','projectOrder','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','approx','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','latestScore','visibilitychange','ไม่พบข้อมูลเกม','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','show-results-btn','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','reduce','artifacts/','innerHTML','ความน่าจะเป็นแบบมีเงื่อนไข','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','text/html','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','options','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-move-quiz-btn','dimmed','push','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','check-answer-btn','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','(ก่อนเรียน)','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','allResponses','timestamp','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','export-worksheet-pdf-btn','rgba(255,\x20255,\x200,\x200.5)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.group','สถิติและความน่าจะเป็น','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','link-input-area','open-scratchpad-btn','มัธยฐาน','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isRemedial','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','บันทึกการตั้งค่าแล้ว','admin-testing','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x20ชุดสำเร็จ!','แบบทดสอบที่ติดดาว','quiz-schedule-start-container','redo-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','Error\x20listening\x20for\x20custom\x20math\x20topics:','exists','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scores','results-tab','items','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','ส่วนเบี่ยงเบนมาตรฐาน','Error\x20during\x20class\x20analysis:','reference-pdf-upload','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','AI\x20request\x20was\x20blocked.\x20Reason:\x20','ระยะเวลา\x20(วินาที):','asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confirm-rename-quiz-btn','แบบทดสอบนี้หมดเวลาแล้ว','ลบโปรเจคสำเร็จแล้ว','admin-password-modal','ฟังก์ชันราก\x20(root)','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','project-dashboard-view','dragover','Error\x20starting\x20live\x20race:','สำหรับโปรเจค:\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','กำลังจับคู่...','ปริมาตรรูปทรงสามมิติ','getAttributeNS','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','standard','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','export-pdf-modal',')\x5cb)','เกิดข้อผิดพลาดในการส่งคำตอบ','.parallel-quiz-btn','<textarea\x20name=\x22question','analytics-summary-cards','live-short-answer-input','ไม่สามารถเพิ่มนักเรียนได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','answeredCurrentQuestion','#D1FAE5','\x22><p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','description','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mousemove','comparison-chart','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-start-quiz-id','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','คะแนนเต็ม','.answer-text','admin-try-quiz-btn','Error\x20generating\x20easy\x20version\x20quiz:','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','quiz-schedule-end-container','quiz-results','global-quiz-search-input','cancel-passcode-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','มุมพิเศษ\x2045°-45°-90°','analytics-tab-btn','#000000','hover:bg-indigo-100','project-title','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','status','sync-player-management','results_','Error\x20deleting\x20all\x20students:','แก้ไขข้อนี้','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','analytics','.csv','\x22.\x20','Error\x20submitting\x20group\x20answer:','lowerGroupNames','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนเต็มบวก','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','answering','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','เศษส่วน\x20(ย่อ/ขยาย)','player-list-lobby','text-red-300\x20hover:text-red-100','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','สอบซ่อม','force-math-checkbox','ร้อยละประยุกต์','behavior-log-tab-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','Error\x20deleting\x20quiz:','touchend','ทฤษฎีทวินาม\x20(เบื้องต้น)','00:00','scratchpad-question','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','student-join-game-view','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','Error\x20saving\x20game\x20results:','_blank','ARRAY','เกมสิ้นสุดลงแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','mouseup','confirm-team-players-btn','function','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','webkitExitFullscreen','slice','verify-answers-btn',';\x22\x20data-id=\x22','ยังไม่เต็มนะ','ไม่มี','text-gray-400\x20hover:text-indigo-600','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','cancel-team-selection-btn','AI\x20Fix\x20Error:','\x22\x20name=\x22question_single\x22\x20value=\x22','quiz-settings-modal','เซียนสมองไว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','true','สร้างคำถามใหม่\x201\x20ข้อ\x20','dragend','quiz-editor-questions-container','back-from-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','text-gray-500','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','Error\x20confirming\x20players\x20for\x20sync\x20game:','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22text\x22]','touch','Error\x20saving\x20questions\x20to\x20practice\x20bank:','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','line-through\x20text-red-700','.project-card-content','Failed\x20to\x20get\x20standardized\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','students','input[type=\x22radio\x22][value=\x22','.ai-fix-formula-btn','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถเริ่มเกมได้','match','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','passcode-error-msg','file-tab','\x20หัวข้อ)','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','</label>\x0a\x20\x20\x20\x20</div>\x0a','documentElement','postTScore','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-edits-btn','พอใช้','insertAdjacentHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x22>ไม่ใช่</p>','\x5ctimes','message','message-modal','move-quiz-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','cancel-rename-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.color-palette-btn','files','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','from','สลับไปโหมดผู้ควบคุม','.edit-custom-topic-btn','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','doughnut','สร้างคำถามแบบใช่/ไม่ใช่','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quizMode','update','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','progress-project-select','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-shuffle-select','60900GDfuAT','lobby','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันผกผัน','อัปเดตการตั้งค่าของแบบทดสอบ\x20','num-choices','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','project-detail','#retake-for-improvement-btn','เกิดข้อผิดพลาดในการลบแบบทดสอบ','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','All\x20groups\x20have\x20finished.\x20Ending\x20game.','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','shuffle-setting-select','goto-next-question-btn','generate-from-parallel-test-btn','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','confirm-bulk-quiz-settings-btn','หน่วยความยาวและการแปลง','highlighter-size-value','export-leaderboard-image-btn','removeItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','length','isPasscodeEnabled','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','ดอกเบี้ยอย่างง่าย','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','54953QUedpX','<div\x20id=\x22q-image-container-','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pre-test-checkbox','\x20สำเร็จ','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','student-project-leaderboard-content','auto-fix-latex-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลผู้ใช้','sqrt','attempts','การประยุกต์เวกเตอร์พื้นฐาน','timerDuration','bulk-quiz-settings-btn','create-project-btn','moveTo','jspdf','เกิดข้อผิดพลาดในการบันทึก','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-quiz-status-btn','confirm-game-start-modal','helvetica','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','<i\x20class=\x22fas\x20fa-pen\x22></i>','ไม่พบข้อมูลแบบทดสอบ','confirm-delete-btn','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','.sortable-header','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','timer-mode-select','close','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-move-btn','fix\x20the\x20option','toggle','date_asc','normal','[*]','image/png','\x22...','remove','กำลังค้นหากิจกรรม...','startedAt','ลบแบบทดสอบสำเร็จแล้ว','$1\x5ctext(','สมการตรีโกณมิติ','close-lesson-plan-modal-footer-btn','isFinished','manage-tab-content','\x5cdiv','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','correct','border-indigo-400\x20ring-2\x20ring-indigo-200','tan','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','comparison','Error\x20deleting\x20submission:','modal-adaptive-quiz-checkbox','[role=\x22textbox\x22]','block','dispatchEvent','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','q-explanation-','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สรุปผลสุดท้าย','selected-topics-count','geq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','text-tab','(คัดลอก)\x20','fa-fire\x20text-orange-500','destroy','text/csv;charset=utf-8;','generate-from-file-btn','beginPath','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','quiz-start-time','Enter','forEach','<div\x20class=\x22answer-space\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','scrollX','</li>','attemptNumber','generate-from-topic-btn','.regenerate-question-editor-btn','get','temp-loader-results','setItem','สร้างใหม่','classWeaknesses','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','Invalid\x20response\x20structure\x20from\x20AI.','all','project-passcode-modal','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','scratchpad-header','group','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','entries','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','correctAnswer','per-question-options','typesetPromise','parallel-test-upload-input','คัดลอกแบบทดสอบสำเร็จ','เพิ่มหัวข้อ\x20\x22','select','NUMBER','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','จำนวนเต็มลบ','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','grabbing','string','endTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','toLocaleDateString','student-name-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','ไม่พบข้อมูลโปรเจค','copy-quiz-id-btn','wheel','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointercancel','มุมพิเศษ\x2030°-60°-90°','\x20ครั้ง)</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','msRequestFullscreen',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','รูปสแควร์รูท\x20(surd)','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','behaviorLog','ส่วนเบี่ยงเบนเฉลี่ย','.option-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','.isScored','ai-quiz-generator-v3','standardTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','student','ราชาคัมแบ็ก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','pin','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','<div\x20class=\x22my-6\x22>','text-blue-700','text-green-600','\x20รายการสำเร็จ!','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','text-indigo-800','save-quiz-edits-btn','text-gray-200','</div>\x0a</div>\x0a','ไม่พบเอกสารการส่งงานของ\x20','show-leaderboard-btn','on_fire','save-visibility-settings-btn','transparent','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','fill','bg-gray-500','question-analytics-container','hint','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','questionType','write','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','$1\x5ctimes','parseFromString','จุด\x20เส้น\x20ระนาบ','15904512PcPntV','BOOLEAN','isCorrect','\x22\x5cn','circle','icon','scores-tab-content','webkitRequestFullscreen','การวัด','pointerup','Error\x20updating\x20project\x20name:','ownerSVGElement','div','splice','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x5cfrac{','shouldSaveResults','ฟังก์ชันกำลังสองและกราฟ','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-amber-100\x20text-amber-800','การหารเศษส่วน','ไม่สามารถสร้างโปรเจคได้','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','parallel-test-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','</form>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','upperGroupNames','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','commit','export-lesson-pdf-btn','join-group-activity-btn','main-correct-answer-display','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','ปรับเพิ่ม/ลดเป็นร้อยละ','scheduled','<option>กำลังโหลดโปรเจค...</option>','project-list','quiz-results-table-body','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','currentTarget','รหัสไม่ถูกต้อง','shuffledQuiz','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','opacity','undefined','#per-question-options\x20textarea','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','lastAnswerIndex','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','min','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแปลงรูปอัตลักษณ์','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','latestSubmittedAt','resize','confirm-passcode-btn','พบข้อสอบ\x20','answer-grid-container','close-lesson-plan-modal-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','floor','.topic-actions-edit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22','setFont','รูปแบบการให้เหตุผล','toString','querySelectorAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','currentQuestionIndex','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','เกิดข้อผิดพลาดในการเข้าร่วมเกม','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','practiceProblems','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','document','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','svg','category','Error\x20generating\x20quiz:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','save-game-results-checkbox','#DBEAFE','quiz-type-select','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','\x5ctext{$1}','\x22\x20data-topic=\x22','project-detail-view','#FEF3C7','text-gray-100','name_asc','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div>','fromCharCode','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','div[data-question-index=\x22','text-content-input','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','close-student-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ\x20สำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','touchcancel','\x5cfrac','test','team','การลบทศนิยม','viewBox','6JLdXPo','ข้อต่อไป','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','cancel-quiz-settings-btn','student-quiz-area','</td>','.verification-result','modal-timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','การนับ','insertBefore','อัปเดตสถานะสำเร็จ','quiz-bank-modal','สร้างชุดคำถามจับคู่','input[name=\x22drill_answer\x22]:checked','<br>','countdown-display','enable-passcode-checkbox','การบวกทศนิยม','ai-quiz-app-aefee.firebaseapp.com','295915RuXNRN','ความชันและเส้นตรง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clearRect','stem','questions','ตาของ:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','student-result-area','\x20from\x20sync\x20game:','keys','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','MathJax','generate-from-link-btn','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คณิตการเงิน/บูรณาการ','.verification-result-editor','warn','สร้างคำถามแบบเติมคำในช่องว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','</select>','กราฟฟังก์ชันตรีโกณ','trail','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','จัดการ','student-quiz-leaderboard-content','<span\x20class=\x22font-bold\x20','COMEBACK_KING','กรุณาเลือกคำตอบก่อนครับ','คณิตศาสตร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','map','targetId','hasOwnProperty','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','backgroundColor','exitFullscreen','ความชันเส้นสัมผัส','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','ปริพันธ์ไม่จำกัด','firstScore','เส้นตรง:\x20ขนาน/ตั้งฉาก','show_results_only','qType','.regenerate-question-btn','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','blur','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','generate-worksheet-btn','short_answer','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','fa-bolt\x20text-blue-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','selected-answer-index-hidden','\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','docs','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','#F3E8FF','modal-timer-duration-input','\x22\x20class=\x22color-palette-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','timer-duration-container','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-passcode-input','.save-to-bank-btn','pop','Error\x20fetching\x20project\x20quizzes:','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','ใช่','เมทริกซ์:\x20บวก/คูณ','ON_FIRE','s;\x22\x20title=\x22','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','starred','leaderboard_','draggable-text','open-global-live-btn','solution','พิสัย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คะแนนเต็ม!','export-excel-btn','ตอบถูกทุกข้อในแบบทดสอบนี้','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22q','deselect-all-topics-btn','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','left','(ตัวเลือกผิดพลาด)','bg-yellow-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','matching','editable-quiz-topic','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','live-player-management','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','#FCE7F3','จำนวนและการดำเนินการ','quiz-leaderboard-table-container','pointerdown','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','bulk-loop-until-pass-checkbox','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','G-V90KRM0L63','ค่าเฉลี่ย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แก้ระบบสมการด้วยเมทริกซ์','quiz-search-input','บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-game-start-btn','per-question-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','values','Error\x20joining\x20team\x20quiz:','การกระจายและการจัดหมู่','toISOString','name_desc','input[type=\x22radio\x22]:checked','(^|[^\x5c\x5c])\x5cb','วงกลม:\x20คอร์ดและเส้นสัมผัส','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','overallGroups','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','border-red-300\x20bg-red-50','cancel-create-project-btn','ดีเทอร์มิแนนต์','กำลังสร้างรูปภาพ...','Error\x20deleting\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','leaderboard-table-body','การบวกเศษส่วน','pointermove','presentation-short-answer-input','custom-math-topic-input','lineWidth','\x22\x20เพื่อสร้างชุดคู่ขนาน...','ไม่ใช่','suggestedAnswer','Error\x20unpairing\x20quizzes:','fa-user-astronaut\x20text-blue-700','submittedAt','short','cos','frac','ความเป็นอิสระของเหตุการณ์','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','settings','.question-editor-item[data-q-index=\x22','ยังไม่ส่ง','studentName','รีเซ็ตลำดับโปรเจคแล้ว','answer-counter','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','top','เรเดียนและการแปลงหน่วย','แผนการสอน','ตรวจพบการออกจากหน้าจอครบ\x20','textContent','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','highlighter','back-to-dashboard-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','multiple_choice','perfect_score_status','dashboardConfig','result','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','เวกเตอร์และเมทริกซ์\x20(เสริม)','border-gray-200','กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว','border-red-700','อุณหภูมิและการแปลง','per_question','สุดยอด!\x20ตอบถูกทุกข้อ','reset-project-order-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','file-topic-input','disabled','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','80EtXbPk','.ideal-answer-input,\x20.correct-response-input','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','scheduled_pending','cancel-bulk-quiz-settings-btn','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','student-rankings-modal','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','str','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','createElement','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','list-view-btn','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','groups','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','lessonPlan','<p\x20class=\x22text-2xl\x22>','analytics-tab-content','\x22\x20สำเร็จ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','multiply','fill_in_no_choices','setAttributeNS','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','scratchpad-clear-btn','afterend','AI\x20grading\x20failed:','admin-dashboard','Authentication\x20failed:','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','fadeStartTime','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','ไม่มีผู้ตอบตัวเลือกนี้','259600hnkVDt','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','ค.ร.น.\x20(LCM)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','confirm-not-confident','prod','<span\x20class=\x22sort-indicator\x20ml-2\x22>','.draggable-text','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','math-topics-checkbox-container','cancel-move-quiz-btn','.ideal-answer-input','quiz-end-time','STOP','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.status','Attempting\x20to\x20save\x20game\x20results...','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','game-start-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','lastAnswerCorrect','thead','lowerGroupResponders','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','empty','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','Error\x20comparing\x20results:','badgesCount','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','):\x20','touches','mode','rows','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','Error\x20starting\x20group\x20quiz:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pen-tools-group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span></td>','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','red','$1^{$2}','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','then','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-quiz-search-input','confirm-admin-login-btn','upperGroupResponders','.\x20แต่ละข้อมี\x20','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','hasPerfectScoreBonus','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','การบวก','startsWith','value','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','ลำดับการดำเนินการ\x20(PEMDAS)','#F59E0B','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','เกิดข้อผิดพลาดในการโหลดโปรเจค','ห.ร.ม.\x20(GCD)','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','Error\x20rendering\x20student\x20progress:','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','Error\x20showing\x20quiz\x20detail\x20view:','อัตราส่วนและสัดส่วน','game-start-mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','cancel-export-pdf-btn','/questionBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','per-question-timer-container','activeGameSession','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','student-quiz-topic','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','contentEditable','leaderboard-quiz-tab-content','file-input-area','summary','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.topic-actions-view','กรุณาเลือกคำตอบของกลุ่ม','Error\x20updating\x20quiz\x20status:','requestFullscreen','shadowColor','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','cancel-quiz-edits-btn-footer','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','เกิดข้อผิดพลาดในการจับคู่','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','undo-btn','delete-svg-btn','\x20กลุ่ม\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.sort-indicator','verify-answers-editor-btn','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','gain','bg-blue-100','preTestId','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','.start-game-btn','\x22\x20data-name=\x22','Error\x20starting\x20sync\x20game:','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','<option\x20value=\x22','ย้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','Error\x20opening\x20quiz\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_the_blank','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','.topic-category','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','เส้นรอบรูป','grid-view-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','export-leaderboard-excel-btn','isConfidenceScoringEnabled','projectView','export-leaderboard-word-btn','ตั้งเวลา\x20(เปิด)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','confirmation-modal','confidence-scoring-toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','.project-card-container.opacity-50','correctAnswerIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirmation-message','clientX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','learningGaps','presentation-explanation','topic-input','teacherSuggestions','Sync\x20Mode','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','next-sync-question-btn','กฎของไซน์','members','Error\x20processing\x20file\x20for\x20AI:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','body','ยืนยันและอัปเดตทั้งหมด','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','user','results-table','\x22\x20name=\x22drill_answer\x22\x20value=\x22','\x22>จาก:\x20','bottom','91497EtUMDj','ไม่ได้ตอบ','Error\x20saving\x20user\x20preference:','.topic-name-display','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','[contenteditable=\x22true\x22]','date_desc','ตรวจคะแนนใหม่\x20','focus','scratchpad-canvas','<p\x20class=\x22text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','quiz-generation-area','th-TH','bank-quiz-list','</p><p><strong>เฉลย:</strong>\x20','[data-topic-container-id]','live-player-list','explanation','ปริมาตร/ความจุและการแปลง','toLowerCase','คำเตือน\x20(','playerName','</strong></p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','อนุพันธ์:\x20กฎพื้นฐาน','จำนวนนักเรียน','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','\x22\x20ให้เป็นคำถามประเภท\x20\x22','/public/data/teamQuizzes','$1^{\x5ccirc}\x5ctext{C}','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','has','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','visibilityState','บันทึกแบบทดสอบสำเร็จแล้ว!','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','\x20/\x20','getBBox','progress-student-select','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','upper_group_count','text-green-800','manage-players-btn','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','true_false','badges','onclick','start-live-race-generated-btn','text-red-500\x20hover:text-red-700','กำลังดึงข้อมูลจากลิงก์...','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','.pdf','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','position','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','กรุณาใส่ชื่อใหม่','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','เกิดข้อผิดพลาดในการลบผลสอบ','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','ตัวแปรและนิพจน์','#student-project-leaderboard-content\x20thead','modal-results-display-select','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','เกิดข้อผิดพลาดในการปักหมุด','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','width','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','ระยะจากจุดถึงเส้นตรง','dragstart','contains','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20generating\x20worksheet:','log','random','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','dfrac','.ql-editor','แคลคูลัสเบื้องต้น','submissions','องค์ประกอบของฟังก์ชัน','ดอกเบี้ยทบต้น','modal-timer-duration-label','ai-quiz-app-aefee.firebasestorage.app',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','totalPoints','3241272IrXJHm','fa-shield-alt\x20text-gray-600','ปริพันธ์จำกัด','4AdicWc','.star-quiz-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','สร้างแบบทดสอบ','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','ความสัมพันธ์ของมุม','input[name=\x22status-option\x22]:checked','sync','question','getBoundingClientRect','NEGATIVE_INFINITY','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22','project-sort-select','comparison-individual-content','</button>','shuffle','student-reading-area','Error\x20updating\x20project\x20color:','live-race','#6366F1','fa-pen','passcode-prompt-message','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','<tr\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','getContext','bg-red-200\x20text-red-800','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','indexOf','save-project-name-btn','bg-red-50','game-pin-input','modal-loop-until-pass-checkbox','padStart','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','findIndex','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','</tbody></table>','text-yellow-800','players.','\x20mr-2\x22></i>','.edit-quiz-btn','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','</th>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','touchstart','Error\x20fetching\x20quiz\x20settings:','ไม่สามารถโหลดข้อมูลอันดับได้','link-tab','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','รูปหลายเหลี่ยมและมุมภายใน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','text-input-area','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','.live-answer-btn,\x20#live-submit-short-answer-btn','text-yellow-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex-1\x22></div>','quiz-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','ศูนย์','Copy\x20command\x20failed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','prev-question-btn','เกิดข้อผิดพลาดในการลบโปรเจค','เรขาคณิตวิเคราะห์','presentation-modal','ทฤษฎีบทพีทาโกรัสและการประยุกต์','student-progress-content','เงินงวด\x20(อนุกรมเงินงวด)','ไม่มีคำอธิบาย','application/json','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','summary_chart','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','mouse','<svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x09\x09\x09<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','bg-purple-50','\x5cfrac{$1}{$2}','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','/public/data/quizzes','quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loader','resultsDisplay','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','passcode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','.duplicate-quiz-btn','delete','behavior-log-tab-content','preScore','.lastAnswerIndex','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','ผิด','พีชคณิตและฟังก์ชัน','เลือกและบันทึก','save-quiz-btn','\x22><i\x20class=\x22fas\x20','show-in-student-dashboard-checkbox','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','ไม่สามารถบันทึกการตั้งค่าได้','height','Error\x20joining\x20sync\x20game:','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','projectName','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','</body></html>','every','ดีมาก','cancel-global-live-btn','devicePixelRatio','now','hidden','back-to-student-home-btn','include-images-checkbox','questionIndex','back-to-project-btn','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','whole_quiz','</p></div>','none','สู้ๆ\x20ลองอีกครั้งนะ','keydown','behavior-log','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-word-btn','bg-yellow-50','(คู่ขนาน)\x20','.answered','https://corsproxy.io/?','project-quizzes-list','.highlighter-color-btn','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','ความคล้ายของรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','GlobalWorkerOptions','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','offset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','postScore','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','<button\x20data-index=\x22','bg-green-100','$1^{\x5ccirc}','generate-from-blueprint-btn','ฟังก์ชันลอการิทึม','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','#10B981','global-quiz-list','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','กำลังสร้างแบบทดสอบคู่ขนาน...','per-q-countdown','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','\x22\x20value=\x22','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','stringify','ยืนยันการจับคู่','onchange','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','key','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','export-leaderboard-pdf-btn','.generate-post-test-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','label[for=\x22num-questions\x22]','<div\x20class=\x22space-y-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22checkbox\x22]','tGain','rename-quiz-modal','worksheet-tab','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','ลำดับเรขาคณิต\x20(GP)','\x20คะแนน\x20','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','_opt1\x22>ไม่ใช่</label></div>','การปัดเศษและประมาณค่า','เรขาคณิต','style','\x20คู่\x20','ดอทโปรดักต์\x20(dot)','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','ไม่พบข้อมูลการจับคู่','not-found','fill_in_with_choices','หมดเวลาสำหรับข้อนี้!','msExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','</span><span\x20class=\x22font-bold\x22>','getScreenCTM','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','.answers','interesting-stats-container','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','กรุณาเลือกโปรเจคปลายทาง','bg-red-100','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','<p><strong>คำตอบที่แนะนำ:</strong>\x20','.topic-row','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','globalSettings','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','fas\x20fa-bookmark','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save','isStarred','PERSEVERANCE','\x22\x20ซึ่งมีทั้งหมด\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','startTime','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','\x20จาก\x20','ตรีโกณมิติ','เกิดข้อผิดพลาดในการสร้างห้องเกม','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','project-search-input','file-upload-input','\x20\x20\x20-\x20','\x5ccdot','hint-btn','\x22\x20data-q-type=\x22','scrollIntoView','far\x20fa-star','เส้นตรง:\x20รูปแบบสมการ','pairedQuizId','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','admin-view','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','ไม่พบตารางสำหรับ\x20Export','ทศนิยม\x20(ค่าประจำหลัก)','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','http://www.w3.org/2000/svg','.start-presentation-list-btn','localeCompare','Error\x20updating\x20quiz\x20settings:','thead\x20.sortable-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','color','ชนิดของข้อมูลและการเก็บข้อมูล','-tab-content','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','text-blue-800','Error\x20verifying\x20answers\x20in\x20editor:','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','student-progress','comeback_king','quiz-bank-count','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','Error\x20updating\x20pin\x20status:','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','pinnedProjects','getDocument','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','ผู้ควบคุม\x20(ทดสอบ)','cancel-test-btn','modal-close-btn','quiz','results-table-container','back-to-student-initial-btn','start-presentation-btn','/public/data/projects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','text-emerald-800','passing-score-input','</span>','ค่าเสื่อมราคา','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','Error\x20generating\x20parallel\x20test\x20from\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','round','Group\x20Mode','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','answerText','\x22><span>','กรุณาพิมพ์คำตอบของคุณ','finished','เริ่มกิจกรรม:\x20','classStrengths','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สอบปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.delete-svg-btn','tool','</div>','.delete-quiz-btn','points','find','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','display','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionText','globalCompositeOperation','การลบ','blueprint-input-area','null','กรุณาเลือกไฟล์ก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','checked','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','#e21b3c','ท็อปฟอร์ม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','quizId','POST','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','qIndex','comparison-overall-tab','text','results','autoTable','responses','กรุณาใส่ชื่อนักเรียน','num-questions','lesson-plan-content','opacity-50','STRING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','</tr>','\x5cpm','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','join','start-sync-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','student-name-selection-view','transformOrigin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','end-sync-game-btn','#math-topics-checkbox-container\x20input:checked','.delete-student-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','td,\x20th','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','download','เกิดข้อผิดพลาด:\x20','title','การเรียงสับเปลี่ยน\x20(Permutation)','\x0a---\x0a','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','ควรปรับปรุง','toLocaleString','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','fa-rocket\x20text-purple-500','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','answers','#FFFFFF','.project-card-container','/public/data/practiceBank','14WXWTjX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','confirm-global-live-btn','table','cancel-delete-btn','Error\x20renaming\x20quiz:','<tr>','ยอดเยี่ยม!','createdBy','.quiz-result-card','text-white','mjx-container','some','quick_thinker','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','ความเท่ากันทุกประการของสามเหลี่ยม','กำลังสแกนหาแบบทดสอบเก่า...','uid','สมการเหตุผล\x20(rational)','.png','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','check-presentation-answer-btn','^{\x5ccirc}\x5ctext{C}$','Error\x20pairing\x20quizzes:','/public/data/projects/','q-image-container-','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','Error\x20saving\x20project\x20order:','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','json','dataIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','catch','บันทึกผลการเล่นเกมของ\x20','content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','arrayBuffer','retake-quiz-loop-btn','เปลี่ยนชื่อโปรเจคสำเร็จ','bg-red-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','274192258111','Leaderboard\x20update\x20transaction\x20failed:\x20','.lastAnswerCorrect','การจัดกลุ่มข้อมูล','request','includes','leaderboard-quiz','input[name=\x22status-option\x22]','worksheet-input-area','Error\x20generating\x20from\x20link:','ring-purple-400','ฟังก์ชันพหุนาม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','totalQuestions','removeChild','scores-tab-btn','admin','cursor','text-red-800','getItem','export-tutor-pdf-btn','บันทึกคำถามใหม่\x20','answered','trim','loopUntilPass','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','ปิดใช้งาน','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','\x20ชุด)','num-choices-container','input[name=\x22team_player\x22]:checked','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','createdAt','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','แบบทดสอบจากคลังส่วนตัว','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div>','คะแนน','กรุณาป้อนหัวข้อสำหรับใบงาน','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pin-project-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','text-blue-700\x20bg-blue-100','question-complexity-select','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','\x20ช่อง','transition-all','.correct-response-input','.live-summary-tooltip.visible','live-game-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','.rename-quiz-btn','fa-dumbbell\x20text-gray-700','{$1}','live-options-container','deg','leaderboard','no-projects-msg','questionDisplayedAt','เกิดข้อผิดพลาดในการสร้างใบงาน','abs','จากไฟล์ที่แนบมานี้,\x20','imageCode','transform','showImproveButton','ผู้เชี่ยวชาญ','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','bg-green-200','ความคาดหมาย\x20(Expected\x20value)','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','appendChild','.quiz-bank-present-btn','สมการราก\x20(radical)','.pair-quiz-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สัญกรณ์วิทยาศาสตร์','justification','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','scratchpad-controls','sin','leaderboard-tab-content','การแจกแจงทวินาม\x20(พื้นฐาน)','กลุ่ม:\x20','ring-2','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x20pointer-events-none\x22>',':</p><p\x20class=\x22text-xs\x22>','</h3>','finishReason','เกิดข้อผิดพลาดในการบันทึกลำดับ','querySelector','.answeredCurrentQuestion','<p\x20class=\x22font-bold\x20text-sm\x20','เกิดข้อผิดพลาดในการนำผู้เล่นออก','Error\x20starting\x20team\x20quiz:','join-live-game-btn','shadowBlur','</option>','parts','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5ctext{','text-green-700\x20bg-green-100','bg-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','adaptive-quiz-checkbox','bg-emerald-100','innerText','_opt','type','ระยะทางและจุดกึ่งกลาง','bank-input-area','text-indigo-700','half_mark_status','change','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','OBJECT','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','manage','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','closePath','generated-quiz-container','show_results_and_answers','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','AI\x20ไม่สามารถประมวลผลข้อมูลได้','highlighter-tools-group','dataset','Error\x20deleting\x20student:','screen_exit','timer-bar','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','fullscreenchange','text-green-700','mousedown','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','fullscreenElement','results-display-select','class','ตรวจทานเฉลยเสร็จสิ้น!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','comparison-overall-content','keyup','lesson-plan-modal','<li\x20class=\x22','แบบทดสอบซ่อมเสริม','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','responses.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','cdot','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x22\x20name=\x22question','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','Failed\x20to\x20parse\x20JSON\x20from\x20AI','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','p-2\x20bg-black/10\x20rounded-md','lineJoin','\x22\x20class=\x22pin-project-btn\x20','project-id-display','submission','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','matching_item','/preferences/main','click','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผู้ไม่ยอมแพ้','players','submit','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','ไฮเพอร์โบลา','รูปสี่เหลี่ยมและสมบัติ','interesting-stats-wrapper','promptFeedback','authed_project_','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','bg-green-100\x20text-green-800','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','.pen-color-btn','คัดลอกรหัสแล้ว!','ตัวประกอบและตัวประกอบเฉพาะ','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','name','.admin-try-quiz-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชื่อหัวข้อห้ามว่าง','pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','delete-all-students-btn','ระบบสมการเชิงเส้นสองตัวแปร','.quiz-status-btn','save-settings-btn','bg-green-50','first_try_ace','removeAttribute','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','การคูณทศนิยม','Error\x20toggling\x20pin\x20status:','desc','จำนวนคละ','student-name-select','Failed\x20to\x20end\x20group\x20mode\x20game:','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','results-quiz-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','select-all-topics-btn','pen-tool-btn','สเกลและแผนที่','พบ\x20Sync\x20Game!','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','copy','ค่าคลาดเคลื่อนของการวัด','questionStatus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x5cle','คำถามดิบ:\x20\x22','ดูผลสรุปสุดท้าย','mean','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','translate(','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','text-gray-700','-tab','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isArray','createElementNS','text-emerald-900','สรุปผลการวิเคราะห์:\x5cn','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22,\x20','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','preventDefault','default','กำลังสร้างแบบทดสอบจากหัวข้อ...','ข้อที่\x20','editor-quiz-topic','start-game-btn','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','student-project-leaderboard-tab','href','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.delete-custom-topic-btn','pointerType','.lastAnswerValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','แบบทดสอบนี้ปิดใช้งานอยู่','.question-editor-item','จับคู่เพื่อเปรียบเทียบผล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','globalAlpha','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','list','podium','Error\x20joining\x20activity:','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','highlighter-size-slider','.color-palette-popup','input[name=\x22question_single\x22]:checked','open','Error\x20committing\x20score\x20updates:','<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substring','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','active','showRankings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-\x20ข้อ\x20','<div\x20class=\x22mb-3\x20topic-category\x22>','student-quiz-leaderboard-table-body','scale','แผนการสอน:\x20','ถูกต้อง!','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','<tr><td\x20colspan=\x22','กลุ่มของคุณ','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','perQuestionStats','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','.generate-lesson-btn','sort','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','close-comparison-modal-footer-btn','canvas','rgba(79,\x2070,\x20229,\x201)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','classList','student-team-join','#results-table','bar','ผลรวมอนุกรม\x20(Σ)','lineCap','projectId','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.cancel-edit-topic-btn','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ที่พิมพ์ได้\x20จำนวน\x20','toFixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คัดลอกไม่สำเร็จ','เกี่ยวกับหัวข้อ\x20\x22','projectSort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','lower_group_count','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quadraticCurveTo','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','#ffffff','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','fas\x20fa-star\x20text-yellow-500','Error\x20generating\x20lesson\x20plan:','.kick-player-btn-sync','Error\x20starting\x20game:','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการโหลดสถานะ','bulk-quiz-settings-modal','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','.scratchpad-content-wrapper','ความต่อเนื่อง','สมการลอการิทึม','ไม่ผ่าน','reveal-answer-btn','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','project-passcode-input','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','สร้างแบบทดสอบปรนัย','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','</div><div\x20class=\x22space-y-2\x22>','open-sync-scratchpad-btn','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','ai-quiz-app-aefee','numPages','editable-text-','ความแปรปรวน','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20loading\x20user\x20preferences:','รากที่สองและที่สาม','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','fa-crown\x20text-yellow-500','\x5c\x5c\x5c\x5c(?=(','global-live-game-modal','\x22.\x20Ideal\x20Answer:\x20\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','กำลังอ่านและเตรียมไฟล์...','พื้นที่สามเหลี่ยม','size','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x20ข้อ\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','(ไม่มีชื่อ)','#26890c','team-player-status-grid','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','.save-custom-topic-btn','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','/public/data/customMathTopics','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x20คะแนน</span></div>','อสมการเชิงเส้น','เกิดข้อผิดพลาดในการลบนักเรียน','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x5csqrt{$1}','%</span>','ฐานนิยม','trail-tool-btn','ข้อ\x20','.presentation-option','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','student-initial-view','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','(ก่อนเรียน)\x20','questions_only','user-id-display','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','leaderboard-quiz-tab-btn','<h1></h1>','stroke','แบบทดสอบ:\x20','เกิดข้อผิดพลาดในการอัปเดต:\x20','false','จำนวนข้อ:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','ไม่พบโปรเจค','loader-text','setTransform','99JirOsy','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','drill-feedback','fas\x20fa-user-edit','ส่งแล้ว','(หลังเรียน)\x20','/submissions','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','flex','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x20mb-2\x22>','restore','visible','\x20คน\x20ตอบถูก</p></div>','groups.','ref','parse',',\x20r=','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','/users/','N/A','กรุณาเลือกสถานะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','presentation-slide-container','Failed\x20to\x20kick\x20player\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','shuffleSetting','กำลังวิเคราะห์ข้อสอบ\x20\x22','pre-test','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','.edit-question-btn','onerror',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','Error\x20confirming\x20players:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.pen-size-btn','Error\x20updating\x20sort\x20preference:','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','44TVQzHt','.unpair-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แผนภาพเวนน์','stdDev','project-name-input','text-red-700','index','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','เกิดข้อผิดพลาดในการอัปเดตสถานะ','วงกลม:\x20สมการและสมบัติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','</label></div>','\x20ใหม่...','perseverance','เกิดข้อผิดพลาดในการลบหัวข้อ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','$1_{$2}','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กำลังอัปเดตแบบทดสอบ\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','execCommand','บันทึกการตั้งค่าการแสดงผลสำเร็จ','/public/data/syncGames','touchmove','player-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','originalQuestionText','generate-from-text-btn','math-topic-search-input','choices_only','<div\x20class=\x22my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','inactive','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','isAdaptive','create-project-modal','.quiz-settings-btn','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','text-gray-300\x20hover:text-white','ค่าสัมบูรณ์','ตอบถูก\x203\x20ข้อติดต่อกัน','Error\x20adding\x20custom\x20topic:','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','beforeend','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20Formula\x20Fix\x20Error:','results-quiz-id-display','questionId','topic','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','ผ่านฉลุย','removeEventListener','auto','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทฤษฎีบทพื้นฐานของแคลคูลัส','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','\x20คนที่ส่ง\x20ตอบถูก\x20(','อัปเดตพฤติกรรมสำหรับ\x20','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','student-quiz-leaderboard-tab','release','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','stopPropagation','ยกเลิกการจับคู่สำเร็จ','</span></div>','<li>','tfrac','blueprint-tab','.delete-project-btn','teachingContent','start-quiz-btn','clientY','wasConfident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','passingScore','กรุณาเลือกโปรเจคที่ต้องการบันทึก','student-project-leaderboard-table-body','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','results-tab-content','filter','1:274192258111:web:4120c9118229b5644dd48a','leaderboard-tab','\x20\x0a\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','ผ่าน','เกิดข้อผิดพลาดในการติดดาว','.compare-results-btn','pen','/public/data/quizzes/','$$$1$','close-game-final-btn','live-game','toDataURL','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','PERFECT_SCORE','error','student-list','modal-timer-duration-container','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','textarea[name=\x22team_answer\x22]','split','Team\x20Quiz','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','print','โดเมนและเรนจ์','Error\x20generating\x20from\x20blueprint:','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','หัวข้อที่สร้างเอง','repeat','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','duration-300','closest','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','แบบปรนัย\x204\x20ตัวเลือก','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','post-test','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','#E5E7EB','.score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน่วยเวลาและการคำนวณเวลา','pow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','specialist','schedule','.quiz-bank-item','back-to-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','textarea','API\x20call\x20failed\x20with\x20status:\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','.project-card-container:not(.opacity-50)','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','move-quiz-project-select','candidates','กำลังสร้างคำถามข้อ\x20','open-quiz-bank-btn','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','confirm-join-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','student-team-selection-view','total','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','strokeStyle','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','ย้ายแบบทดสอบไปโปรเจคอื่น','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','tooltipTarget','btn','font-bold\x20text-green-700','strength-weakness-analysis-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','ตารางความถี่','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22','ทำคะแนนเต็มในการทำครั้งแรก','nickname-input','rgba(239,\x2068,\x2068,\x200.9)','มุมและการวัดมุม','className','ฟังก์ชันเชิงเส้นและกราฟ','target','2-digit','parent','\x22\x20value=\x22true\x22\x20','/public/data/liveGames','อัปเดตแบบทดสอบเก่า\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปลี่ยนสี'];_0x4f95=function(){return _0x12f42e;};return _0x4f95();}async function finalizePerQuestionQuiz(){const _0x4c3f65=_0x31ab05,_0x11738b=currentDisplayedQuiz[_0x4c3f65(0x2c2)]['some'](_0x2db5c2=>_0x2db5c2[_0x4c3f65(0x225)]===_0x4c3f65(0x2f3));_0x11738b?showMessage(_0x4c3f65(0x332)):showMessage(_0x4c3f65(0x26b));const _0x35dcc4=currentQuizData['id'],_0x551f57=doc(db,_0x4c3f65(0x9ac)+appId+'/public/data/quizzes/'+_0x35dcc4+_0x4c3f65(0x830),currentStudentName),_0x43baf8=await getDoc(_0x551f57),_0x2b8e6c=_0x43baf8[_0x4c3f65(0x9da)]()?_0x43baf8[_0x4c3f65(0x943)]():{},_0x253d16=_0x2b8e6c['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x253d16);}function getResultsFilename(){const _0x49ac13=_0x31ab05,_0x592484=document[_0x49ac13(0x983)]('results-quiz-title')[_0x49ac13(0x36e)][_0x49ac13(0x972)](/[^a-z0-9]/gi,'_')[_0x49ac13(0x46a)]();return _0x49ac13(0xa21)+(_0x592484||'quiz');}function exportResultsAsImage(){const _0xf6342c=_0x31ab05,_0x2acf69=document['getElementById']('results-table-container');showMessage(_0xf6342c(0x34c)),html2canvas(_0x2acf69)[_0xf6342c(0x3df)](_0x45d02d=>{const _0x558a97=_0xf6342c,_0x12b577=document['createElement']('a');_0x12b577[_0x558a97(0x63b)]=getResultsFilename()+_0x558a97(0x65e),_0x12b577['href']=_0x45d02d[_0x558a97(0x8bc)](_0x558a97(0x193)),_0x12b577[_0x558a97(0x72b)](),messageModal[_0x558a97(0x7b1)][_0x558a97(0x9a9)](_0x558a97(0x540));});}function exportResultsAsPDF(){const _0x1f1e7f=_0x31ab05,{jsPDF:_0x48deb8}=window[_0x1f1e7f(0x176)],_0x2df22c=new _0x48deb8();_0x2df22c[_0x1f1e7f(0x276)](_0x1f1e7f(0x17d),_0x1f1e7f(0x191)),_0x2df22c[_0x1f1e7f(0x624)]({'html':_0x1f1e7f(0x7b3)}),_0x2df22c[_0x1f1e7f(0x5ac)](getResultsFilename()+_0x1f1e7f(0x48d));}function exportResultsAsWord(){const _0x3b6900=_0x31ab05,_0x5c3c9d=_0x3b6900(0x868)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x3b6900(0x427)+_0x3b6900(0x8cc),_0x2dbe54=_0x3b6900(0x53a),_0x11ee3a=_0x5c3c9d+document[_0x3b6900(0x983)](_0x3b6900(0x5e5))['innerHTML']+_0x2dbe54,_0x16c7dc='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x11ee3a),_0x4d0b2a=document['createElement']('a');document['body'][_0x3b6900(0x6c4)](_0x4d0b2a),_0x4d0b2a['href']=_0x16c7dc,_0x4d0b2a['download']=getResultsFilename()+_0x3b6900(0x996),_0x4d0b2a[_0x3b6900(0x72b)](),document['body'][_0x3b6900(0x683)](_0x4d0b2a);}function exportResultsAsExcel(){const _0x2846e1=_0x31ab05,_0x59b679=document[_0x2846e1(0x983)]('results-table');let _0x1e2d8b=[];for(let _0x26e0e6=0x0;_0x26e0e6<_0x59b679[_0x2846e1(0x3d1)][_0x2846e1(0xabc)];_0x26e0e6++){let _0x11868f=[],_0x893922=_0x59b679[_0x2846e1(0x3d1)][_0x26e0e6]['querySelectorAll']('td,\x20th');for(let _0xde3472=0x0;_0xde3472<_0x893922[_0x2846e1(0xabc)];_0xde3472++){_0x11868f[_0x2846e1(0x9b9)]('\x22'+_0x893922[_0xde3472][_0x2846e1(0x6ec)][_0x2846e1(0x972)](/"/g,'\x22\x22')+'\x22');}_0x1e2d8b[_0x2846e1(0x9b9)](_0x11868f[_0x2846e1(0x62f)](','));}const _0x2924c9=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1e2d8b['join']('\x0a')],{'type':_0x2846e1(0x1b6)}),_0x3aca75=document[_0x2846e1(0x394)]('a');_0x3aca75[_0x2846e1(0x77c)]=URL[_0x2846e1(0x95c)](_0x2924c9),_0x3aca75[_0x2846e1(0x63b)]=getResultsFilename()+_0x2846e1(0xa28),_0x3aca75[_0x2846e1(0x72b)]();}function exportTableAsImage(_0x2a0292,_0x21960e){const _0x360922=_0x31ab05,_0x557cf9=document['getElementById'](_0x2a0292);if(!_0x557cf9){showMessage(_0x360922(0x5c4));return;}showMessage(_0x360922(0x34c)),html2canvas(_0x557cf9)[_0x360922(0x3df)](_0x3ac425=>{const _0x32eb61=_0x360922,_0x2fdd6d=document['createElement']('a');_0x2fdd6d[_0x32eb61(0x63b)]=_0x21960e+_0x32eb61(0x65e),_0x2fdd6d['href']=_0x3ac425[_0x32eb61(0x8bc)](_0x32eb61(0x193)),_0x2fdd6d['click'](),messageModal[_0x32eb61(0x7b1)][_0x32eb61(0x9a9)](_0x32eb61(0x540));});}function exportTableAsPDF(_0x1836b6,_0x4a7615){const _0x43fe69=_0x31ab05,{jsPDF:_0x44582a}=window['jspdf'],_0x15c0da=new _0x44582a();_0x15c0da[_0x43fe69(0x276)](_0x43fe69(0x17d),_0x43fe69(0x191)),_0x15c0da[_0x43fe69(0x624)]({'html':'#'+_0x1836b6}),_0x15c0da[_0x43fe69(0x5ac)](_0x4a7615+_0x43fe69(0x48d));}function exportTableAsWord(_0x27dd07,_0x1ca5a2){const _0x2bec30=_0x31ab05,_0xc413c2=document[_0x2bec30(0x983)](_0x27dd07);if(!_0xc413c2){showMessage(_0x2bec30(0x5c4));return;}const _0x4e4427=_0x2bec30(0x868)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x2bec30(0x8cc),_0x587b74='</body></html>',_0x572d36=_0x4e4427+_0xc413c2[_0x2bec30(0x9ad)]+_0x587b74,_0x1e3f6c='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x572d36),_0x5b8ba7=document[_0x2bec30(0x394)]('a');document[_0x2bec30(0x44d)]['appendChild'](_0x5b8ba7),_0x5b8ba7[_0x2bec30(0x77c)]=_0x1e3f6c,_0x5b8ba7[_0x2bec30(0x63b)]=_0x1ca5a2+_0x2bec30(0x996),_0x5b8ba7[_0x2bec30(0x72b)](),document[_0x2bec30(0x44d)]['removeChild'](_0x5b8ba7);}function exportTableAsExcel(_0x4df48d,_0x5f0245){const _0x2bd6c5=_0x31ab05,_0x512a1f=document[_0x2bd6c5(0x983)](_0x4df48d);if(!_0x512a1f){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x5e3eca=[];for(let _0x4476ce=0x0;_0x4476ce<_0x512a1f[_0x2bd6c5(0x3d1)]['length'];_0x4476ce++){let _0x5d8bb8=[],_0x30dec1=_0x512a1f[_0x2bd6c5(0x3d1)][_0x4476ce][_0x2bd6c5(0x279)](_0x2bd6c5(0x639));for(let _0x5c207b=0x0;_0x5c207b<_0x30dec1[_0x2bd6c5(0xabc)];_0x5c207b++){_0x5d8bb8[_0x2bd6c5(0x9b9)]('\x22'+_0x30dec1[_0x5c207b]['innerText'][_0x2bd6c5(0x972)](/"/g,'\x22\x22')+'\x22');}_0x5e3eca[_0x2bd6c5(0x9b9)](_0x5d8bb8[_0x2bd6c5(0x62f)](','));}const _0x2fef26=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5e3eca[_0x2bd6c5(0x62f)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x443af3=document[_0x2bd6c5(0x394)]('a');_0x443af3[_0x2bd6c5(0x77c)]=URL[_0x2bd6c5(0x95c)](_0x2fef26),_0x443af3[_0x2bd6c5(0x63b)]=_0x5f0245+_0x2bd6c5(0xa28),_0x443af3['click']();}function renderAnalytics(_0x19a7ec,_0x18cb7c){const _0x1e618b=_0x31ab05,_0x15c99b=_0x18cb7c[_0x1e618b(0x8af)](_0x15a145=>_0x15a145[_0x1e618b(0x9a2)]!==undefined),_0x2c54f9=currentProjectData[_0x1e618b(0xa76)][_0x1e618b(0xabc)],_0x332f77=_0x15c99b[_0x1e618b(0xabc)],_0x751cf3=_0x2c54f9-_0x332f77,_0x1acade=_0x2c54f9>0x0?_0x332f77/_0x2c54f9*0x64:0x0,_0x5f521c=_0x15c99b[_0x1e618b(0x2e0)](_0x2e5841=>_0x2e5841[_0x1e618b(0x9a2)]),_0x37cfb7=_0x5f521c['length']>0x0?_0x5f521c['reduce']((_0xcbe983,_0x1f48a9)=>_0xcbe983+_0x1f48a9,0x0)/_0x5f521c[_0x1e618b(0xabc)]:0x0,_0x178a20=_0x19a7ec[_0x1e618b(0x2c2)][_0x1e618b(0xabc)],_0x38ce74=_0x178a20>0x0?_0x37cfb7/_0x178a20*0x64:0x0,_0x459141=calculateItemAnalysis(_0x19a7ec,_0x15c99b),_0x3870d6=calculateReliabilityKR20(_0x19a7ec,_0x15c99b,_0x459141[_0x1e618b(0x7a8)]);let _0xc1f05a='';if(_0x3870d6!==null){let _0x37d3e6='';if(_0x3870d6>=0.9)_0x37d3e6='ยอดเยี่ยม';else{if(_0x3870d6>=0.8)_0x37d3e6=_0x1e618b(0x53c);else{if(_0x3870d6>=0.7)_0x37d3e6='ดี';else{if(_0x3870d6>=0.6)_0x37d3e6=_0x1e618b(0xa87);else _0x37d3e6=_0x1e618b(0x641);}}}_0xc1f05a=_0x1e618b(0x38c)+_0x3870d6['toFixed'](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x37d3e6+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x2487f9=document[_0x1e618b(0x983)](_0x1e618b(0xa00));_0x2487f9[_0x1e618b(0x9ad)]=_0x1e618b(0x245)+_0x1acade['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x332f77+'/'+_0x2c54f9+_0x1e618b(0xa46)+_0x37cfb7[_0x1e618b(0x7c0)](0x2)+_0x1e618b(0x945)+_0x38ce74[_0x1e618b(0x7c0)](0x0)+_0x1e618b(0x9f4)+(_0x5f521c[_0x1e618b(0xabc)]>0x0?Math[_0x1e618b(0x94e)](..._0x5f521c):'N/A')+_0x1e618b(0x798)+(_0x5f521c[_0x1e618b(0xabc)]>0x0?Math[_0x1e618b(0x265)](..._0x5f521c):_0x1e618b(0x83e))+_0x1e618b(0x2c4)+_0xc1f05a+'\x0a\x20\x20\x20\x20';const _0x547cd4=document[_0x1e618b(0x983)](_0x1e618b(0x734));_0x547cd4&&_0x547cd4[_0x1e618b(0x195)]();const _0x2042b3=_0x1e618b(0x335);_0x2487f9['insertAdjacentHTML'](_0x1e618b(0x3a6),_0x2042b3);const _0x4622ba=currentProjectData['students']||[];renderSubmissionChart(_0x332f77,_0x751cf3,_0x15c99b,_0x4622ba),renderScoreDistributionChart(_0x15c99b,_0x178a20),renderQuestionAnalytics(_0x19a7ec,_0x15c99b,_0x4622ba),renderInterestingStats(_0x19a7ec,_0x15c99b);}async function handleExportLessonPDF(){const _0x2ce29e=_0x31ab05,_0x55f539=document[_0x2ce29e(0x983)](_0x2ce29e(0x628)),_0x54f3d9=document[_0x2ce29e(0x983)](_0x2ce29e(0x93c))['textContent'],_0x11a7d3=window['open']('','_blank'),_0x4bacfe=_0x2ce29e(0x8fe)+_0x54f3d9+_0x2ce29e(0x609)+_0x55f539[_0x2ce29e(0x9ad)]+_0x2ce29e(0xa0e);_0x11a7d3['document'][_0x2ce29e(0x226)](_0x4bacfe),_0x11a7d3[_0x2ce29e(0x284)][_0x2ce29e(0x188)](),_0x11a7d3[_0x2ce29e(0x24c)]=function(){setTimeout(()=>{_0x11a7d3['print']();},0x5dc);};}function renderInterestingStats(_0x324eb0,_0x22804a){const _0x46dd98=_0x31ab05,_0xb1c240=document[_0x46dd98(0x983)](_0x46dd98(0x59d));if(!_0xb1c240)return;if(_0x22804a[_0x46dd98(0xabc)]===0x0){_0xb1c240[_0x46dd98(0x9ad)]=_0x46dd98(0x49c);return;}const _0x47daca=_0x324eb0[_0x46dd98(0x2c2)]['map']((_0x16d0a4,_0x299782)=>({'index':_0x299782+0x1,'text':_0x16d0a4['questionText']||_0x16d0a4['stem'],'correct':0x0}));_0x22804a[_0x46dd98(0x1bc)](_0x86e241=>{const _0x4e4425=_0x46dd98,_0x18eddf=_0x86e241['attempts'][_0x86e241[_0x4e4425(0xacf)]['length']-0x1];_0x18eddf&&_0x18eddf[_0x4e4425(0x646)]&&_0x18eddf[_0x4e4425(0x646)][_0x4e4425(0x1bc)](_0x156888=>{const _0xad225b=_0x4e4425,_0x20c9e9=_0x47daca[_0xad225b(0x606)](_0x5aa825=>_0x5aa825[_0xad225b(0x622)]===_0x156888[_0xad225b(0x873)]);_0x156888['isCorrect']&&_0x20c9e9&&_0x20c9e9[_0xad225b(0x1a1)]++;});});const _0x114389=_0x22804a[_0x46dd98(0xabc)],_0x403e4d=Math['max'](..._0x47daca[_0x46dd98(0x2e0)](_0x3f8d7f=>_0x3f8d7f[_0x46dd98(0x1a1)])),_0xc71fd4=Math['min'](..._0x47daca[_0x46dd98(0x2e0)](_0xa93301=>_0xa93301[_0x46dd98(0x1a1)])),_0x508f7e=_0x47daca[_0x46dd98(0x8af)](_0x3f2988=>_0x3f2988[_0x46dd98(0x1a1)]===_0x403e4d)[_0x46dd98(0x2e0)](_0x396587=>_0x46dd98(0x814)+_0x396587[_0x46dd98(0x85a)]),_0x27c57c=_0x47daca['filter'](_0x106ebb=>_0x106ebb[_0x46dd98(0x1a1)]===_0xc71fd4)['map'](_0x1c3620=>_0x46dd98(0x814)+_0x1c3620[_0x46dd98(0x85a)]),_0x5b9fea=_0x22804a[_0x46dd98(0x7ab)]((_0x203230,_0x38661a)=>_0x38661a['latestScore']-_0x203230[_0x46dd98(0x9a2)])[_0x46dd98(0x8af)]((_0x21a5b3,_0x37b7be,_0xe1ddcb)=>_0x21a5b3[_0x46dd98(0x9a2)]===_0xe1ddcb[0x0][_0x46dd98(0x9a2)]),_0x45c90e=_0x22804a[_0x46dd98(0x7ab)]((_0xa6749a,_0xf55140)=>_0xa6749a['latestScore']-_0xf55140[_0x46dd98(0x9a2)])['filter']((_0x35fcec,_0xa2c986,_0x501b48)=>_0x35fcec[_0x46dd98(0x9a2)]===_0x501b48[0x0][_0x46dd98(0x9a2)]),_0xf9b108=_0x46dd98(0x9d8)+_0x508f7e[_0x46dd98(0x62f)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x403e4d+_0x46dd98(0x47d)+_0x114389+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x27c57c[_0x46dd98(0x62f)](',\x20')+_0x46dd98(0x46e)+(_0x114389-_0xc71fd4)+_0x46dd98(0x47d)+_0x114389+_0x46dd98(0xa42)+_0x5b9fea[_0x46dd98(0x2e0)](_0x3c5b89=>_0x3c5b89[_0x46dd98(0x366)])['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x5b9fea[0x0]['latestScore']+_0x46dd98(0x480)+_0x45c90e[_0x46dd98(0x2e0)](_0x4b39f8=>_0x4b39f8['studentName'])[_0x46dd98(0x62f)](',\x20')+_0x46dd98(0x895)+_0x45c90e[0x0][_0x46dd98(0x9a2)]+_0x46dd98(0x9bf);_0xb1c240[_0x46dd98(0x9ad)]=_0xf9b108;}function renderSubmissionChart(_0x413bba,_0x542414,_0x3610e9,_0x2e84cf){const _0xb4925=_0x31ab05,_0x1b281f=document[_0xb4925(0x983)]('submission-status-chart')[_0xb4925(0x4d4)]('2d'),_0x5d85e8=_0x3610e9[_0xb4925(0x2e0)](_0x35656=>_0x35656['studentName']),_0x556b9a=_0x2e84cf['filter'](_0x5c91a2=>!_0x5d85e8['includes'](_0x5c91a2));chartInstances[_0xb4925(0x727)]&&chartInstances[_0xb4925(0x727)]['destroy'](),chartInstances[_0xb4925(0x727)]=new Chart(_0x1b281f,{'type':_0xb4925(0xa9a),'data':{'labels':[_0xb4925(0x82e),_0xb4925(0x365)],'datasets':[{'data':[_0x413bba,_0x542414],'backgroundColor':[_0xb4925(0x567),_0xb4925(0x3ef)],'borderColor':[_0xb4925(0x7cb),_0xb4925(0x7cb)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0xb4925(0x455)},'tooltip':{'callbacks':{'label':function(_0x17b9d0){const _0x1c0c77=_0xb4925;let _0x2a1afc=_0x17b9d0[_0x1c0c77(0x963)]||'';return _0x2a1afc&&(_0x2a1afc+=':\x20'),_0x2a1afc+=_0x17b9d0[_0x1c0c77(0x944)],_0x2a1afc;},'afterLabel':function(_0x464626){const _0x26cfb6=_0xb4925;let _0x3472ae;return _0x464626[_0x26cfb6(0x669)]===0x0?_0x3472ae=_0x5d85e8:_0x3472ae=_0x556b9a,_0x3472ae['length']>0x0?_0x3472ae[_0x26cfb6(0x62f)]('\x0a'):_0x26cfb6(0xa55);}}}}}});}function renderScoreDistributionChart(_0x7d3f3d,_0x236727){const _0x18de32=_0x31ab05,_0x3ab112=document[_0x18de32(0x983)]('score-distribution-chart')[_0x18de32(0x4d4)]('2d'),_0x1e6059={};for(let _0x5c6742=0x0;_0x5c6742<=_0x236727;_0x5c6742++){_0x1e6059[_0x5c6742]=0x0;}_0x7d3f3d[_0x18de32(0x1bc)](_0x1a4192=>{const _0x4cdefa=_0x18de32;_0x1e6059[_0x1a4192['latestScore']]!==undefined&&_0x1e6059[_0x1a4192[_0x4cdefa(0x9a2)]]++;}),chartInstances['score']&&chartInstances['score']['destroy'](),chartInstances[_0x18de32(0x941)]=new Chart(_0x3ab112,{'type':'bar','data':{'labels':Object[_0x18de32(0x2c9)](_0x1e6059),'datasets':[{'label':_0x18de32(0x471),'data':Object[_0x18de32(0x33d)](_0x1e6059),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':_0x18de32(0x7af),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x18de32(0x6a2)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x154f9a){const _0x7d5725=_0x18de32,_0x172c19=_0x154f9a['label'],_0x1df901=_0x7d3f3d[_0x7d5725(0x8af)](_0x1c6d3a=>_0x1c6d3a['latestScore']==_0x172c19)[_0x7d5725(0x2e0)](_0x4e115e=>_0x4e115e[_0x7d5725(0x366)]);return _0x1df901[_0x7d5725(0xabc)]>0x0?_0x1df901[_0x7d5725(0x62f)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x1cdb31,_0x4b17dd,_0x13ff15){const _0x5cf752=_0x31ab05,_0x1a3abe=document['getElementById'](_0x5cf752(0x220));if(_0x13ff15['length']===0x0){_0x1a3abe[_0x5cf752(0x9ad)]=_0x5cf752(0x47c);return;}const _0x437464=calculateItemAnalysis(_0x1cdb31,_0x4b17dd),_0x4c149c=calculateDistractorAnalysis(_0x1cdb31,_0x4b17dd);let _0x113ef3='';_0x437464['overallGroups']&&(_0x113ef3=_0x5cf752(0x320)+_0x437464[_0x5cf752(0x346)][_0x5cf752(0x24b)][_0x5cf752(0xabc)]+_0x5cf752(0x3e7)+_0x437464['overallGroups']['upperGroupNames'][_0x5cf752(0x2e0)](_0x27e518=>'<li>'+_0x27e518+_0x5cf752(0x1c7))['join']('')+_0x5cf752(0x583)+_0x437464[_0x5cf752(0x346)]['lowerGroupNames'][_0x5cf752(0xabc)]+_0x5cf752(0x3e7)+_0x437464[_0x5cf752(0x346)][_0x5cf752(0xa2b)][_0x5cf752(0x2e0)](_0x581141=>'<li>'+_0x581141+_0x5cf752(0x1c7))[_0x5cf752(0x62f)]('')+_0x5cf752(0x339));let _0xfd837c='';const _0x1c3020=_0x4b17dd[_0x5cf752(0x2e0)](_0x5ca595=>_0x5ca595[_0x5cf752(0x366)]),_0x4b0f75=_0x472e23=>{const _0xceec8f=_0x5cf752;if(_0x472e23>=0.8)return _0xceec8f(0x7ca);if(_0x472e23>=0.6)return _0xceec8f(0x2df);if(_0x472e23>=0.4)return _0xceec8f(0x82b);if(_0x472e23>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0xceec8f(0x992);},_0x3d8fbd=_0x6ef8fb=>{const _0xa833bf=_0x5cf752;if(_0x6ef8fb<0x0)return _0xa833bf(0x9a8);if(_0x6ef8fb>=0.4)return _0xa833bf(0x953);if(_0x6ef8fb>=0.3)return _0xa833bf(0x212);if(_0x6ef8fb>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0xa833bf(0x640);},_0x485be6=_0x29c2a4=>{const _0x50ecee=_0x5cf752,_0x325b65=_0x29c2a4[_0x50ecee(0x7c0)](0x0);if(parseFloat(_0x325b65)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x325b65+_0x50ecee(0x811);if(_0x29c2a4>=0x32)return _0x50ecee(0x280)+_0x325b65+_0x50ecee(0x811);return _0x50ecee(0x6c0)+_0x325b65+_0x50ecee(0x811);};_0x1cdb31[_0x5cf752(0x2c2)][_0x5cf752(0x1bc)]((_0x1186fc,_0x45380e)=>{const _0x2d88b8=_0x5cf752,_0xa9e5d2=_0x437464[_0x2d88b8(0x7a8)][_0x45380e],_0x5e14c5=_0x4c149c[_0x45380e],_0xfd4e0b=_0x1186fc[_0x2d88b8(0x2c1)]||_0x1186fc[_0x2d88b8(0x60a)]||_0x1186fc['instructions'];let _0x382c66=0x0;const _0x5d8583=[],_0x59894a=[];_0x4b17dd[_0x2d88b8(0x1bc)](_0xf02faa=>{const _0x13c56d=_0x2d88b8,_0x122617=_0xf02faa[_0x13c56d(0xacf)][_0xf02faa[_0x13c56d(0xacf)][_0x13c56d(0xabc)]-0x1];if(_0x122617&&_0x122617[_0x13c56d(0x646)]){const _0x2b22dc=_0x122617['answers'][_0x13c56d(0x606)](_0x11fc02=>_0x11fc02[_0x13c56d(0x873)]===_0xfd4e0b)??_0x122617[_0x13c56d(0x646)][_0x45380e]??null;_0x2b22dc&&(_0x2b22dc['isCorrect']?(_0x382c66++,_0x5d8583[_0x13c56d(0x9b9)](_0xf02faa[_0x13c56d(0x366)])):_0x59894a[_0x13c56d(0x9b9)](_0xf02faa[_0x13c56d(0x366)]));}});const _0x105716=_0x4b17dd['length']>0x0?_0x382c66/_0x4b17dd[_0x2d88b8(0xabc)]*0x64:0x0,_0x59c795=_0x13ff15[_0x2d88b8(0x8af)](_0x309602=>!_0x1c3020[_0x2d88b8(0x67a)](_0x309602)),_0x5a0cd4=_0xa9e5d2?_0x2d88b8(0x2c5)+_0xa9e5d2['p'][_0x2d88b8(0x7c0)](0x2)+_0x2d88b8(0x295)+_0x4b0f75(_0xa9e5d2['p'])+_0x2d88b8(0x390)+_0xa9e5d2['r']['toFixed'](0x2)+_0x2d88b8(0x295)+_0x3d8fbd(_0xa9e5d2['r'])+_0x2d88b8(0x4d6)+_0x485be6(_0x105716)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x25818b='';_0x5e14c5&&(_0x25818b=_0x2d88b8(0x2d7)+Object[_0x2d88b8(0x2c9)](_0x5e14c5)['map'](_0x1d0cb2=>{const _0x43f434=_0x2d88b8,_0x528168=_0x5e14c5[_0x1d0cb2],_0x2b0fbb=parseInt(_0x1d0cb2)===_0x1186fc[_0x43f434(0x438)],_0x2ad447=!_0x2b0fbb&&_0x528168[_0x43f434(0x7c6)]>_0x528168['upper_group_count'];return _0x43f434(0x4d2)+(_0x2b0fbb?'bg-green-100\x20font-bold':'')+_0x43f434(0x973)+(_0x2b0fbb?'✔\x20':'')+_0x528168['text']+_0x43f434(0x8be)+_0x528168['upper_group_count']+_0x43f434(0x8be)+_0x528168[_0x43f434(0x7c6)]+'\x20'+(_0x2ad447?'👍':'')+_0x43f434(0x8be)+_0x528168['total']+'</td></tr>';})[_0x2d88b8(0x62f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x40414d='';_0xa9e5d2&&_0xa9e5d2[_0x2d88b8(0x3e3)]&&(_0x40414d=_0x2d88b8(0x728)+_0xa9e5d2['upperGroupResponders'][_0x2d88b8(0xabc)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0xa9e5d2['upperGroupResponders'][_0x2d88b8(0x2e0)](_0x2264f7=>_0x2d88b8(0x8a0)+(_0x2264f7[_0x2d88b8(0x22d)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x2264f7['name']+_0x2d88b8(0x1c7))[_0x2d88b8(0x62f)]('')+_0x2d88b8(0x85b)+_0xa9e5d2[_0x2d88b8(0x3c6)][_0x2d88b8(0xabc)]+_0x2d88b8(0x52e)+_0xa9e5d2[_0x2d88b8(0x3c6)][_0x2d88b8(0x2e0)](_0x191150=>'<li>'+(_0x191150[_0x2d88b8(0x22d)]?_0x2d88b8(0x6f7):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x191150[_0x2d88b8(0x73f)]+_0x2d88b8(0x1c7))[_0x2d88b8(0x62f)]('')+_0x2d88b8(0x36f)),_0xfd837c+=_0x2d88b8(0xa03)+(_0x45380e+0x1)+':\x20'+_0xfd4e0b+_0x2d88b8(0x61c)+_0x5a0cd4+_0x2d88b8(0x526)+_0xfd4e0b+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x382c66+'\x20จาก\x20'+_0x4b17dd[_0x2d88b8(0xabc)]+_0x2d88b8(0x896)+_0x105716[_0x2d88b8(0x7c0)](0x0)+_0x2d88b8(0x50b)+_0x5d8583[_0x2d88b8(0xabc)]+_0x2d88b8(0xa90)+(_0x5d8583['length']>0x0?_0x5d8583[_0x2d88b8(0x62f)](',\x20'):_0x2d88b8(0xa55))+_0x2d88b8(0x20a)+_0x59894a[_0x2d88b8(0xabc)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x59894a[_0x2d88b8(0xabc)]>0x0?_0x59894a[_0x2d88b8(0x62f)](',\x20'):'ไม่มี')+_0x2d88b8(0x7a7)+_0x59c795['length']+_0x2d88b8(0xa90)+(_0x59c795[_0x2d88b8(0xabc)]>0x0?_0x59c795['join'](',\x20'):_0x2d88b8(0xa55))+_0x2d88b8(0x9b6)+_0x25818b+_0x2d88b8(0x4c5)+_0x40414d+_0x2d88b8(0x381);}),_0x1a3abe[_0x5cf752(0x9ad)]=_0x113ef3+_0xfd837c;try{window[_0x5cf752(0x2cb)]&&MathJax[_0x5cf752(0x1de)]&&MathJax[_0x5cf752(0x1de)]([_0x1a3abe]);}catch(_0x137fc3){console['error']('MathJax\x20typeset\x20error\x20(analytics):',_0x137fc3);}}function calculateDistractorAnalysis(_0x584e28,_0x34d4a0){const _0x1e9a8a=_0x31ab05,_0x5e2ac2={};if(_0x34d4a0['length']<0x2)return _0x5e2ac2;const _0x1cc380=[..._0x34d4a0][_0x1e9a8a(0x7ab)]((_0x3e7e60,_0x2ab39e)=>{const _0x454862=_0x1e9a8a,_0x37b031=_0x2ab39e['latestScore']-_0x3e7e60[_0x454862(0x9a2)];if(_0x37b031!==0x0)return _0x37b031;const _0x27502d=_0x3e7e60[_0x454862(0xacf)]?.[_0x454862(0xabc)]||0x1,_0x360235=_0x2ab39e[_0x454862(0xacf)]?.['length']||0x1,_0x2e7284=_0x27502d-_0x360235;if(_0x2e7284!==0x0)return _0x2e7284;const _0x1b6a74=new Date(_0x3e7e60[_0x454862(0x26c)]),_0x22428d=new Date(_0x2ab39e[_0x454862(0x26c)]),_0x438819=_0x1b6a74-_0x22428d;if(_0x438819!==0x0)return _0x438819;return _0x3e7e60[_0x454862(0x366)]['localeCompare'](_0x2ab39e[_0x454862(0x366)],'th');}),_0x1d5050=_0x1cc380['length'],_0x377eeb=Math[_0x1e9a8a(0x94e)](0x1,Math[_0x1e9a8a(0x273)](_0x1d5050*0.33)),_0x4f273d=_0x1cc380[_0x1e9a8a(0xa51)](0x0,_0x377eeb),_0x3d94e3=_0x1cc380[_0x1e9a8a(0xa51)](-_0x377eeb);return _0x584e28[_0x1e9a8a(0x2c2)][_0x1e9a8a(0x1bc)]((_0x390ac0,_0x137177)=>{const _0x251996=_0x1e9a8a;if(_0x390ac0['questionType']!==_0x251996(0x373)||!_0x390ac0[_0x251996(0x9b4)])return;const _0x1412ed=_0x390ac0[_0x251996(0x60a)],_0x4bfc23={};_0x390ac0[_0x251996(0x9b4)][_0x251996(0x1bc)]((_0xb12937,_0x386ea2)=>{_0x4bfc23[_0x386ea2]={'text':_0xb12937,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x1cc380[_0x251996(0x1bc)](_0x569d7b=>{const _0x442dba=_0x251996,_0x4641c6=_0x569d7b[_0x442dba(0xacf)][_0x569d7b[_0x442dba(0xacf)][_0x442dba(0xabc)]-0x1],_0x170f3f=_0x4641c6['answers'][_0x442dba(0x606)](_0x1827f6=>_0x1827f6[_0x442dba(0x873)]===_0x1412ed);if(_0x170f3f&&_0x170f3f['answer']!==null){const _0x4107fd=_0x390ac0[_0x442dba(0x9b4)][_0x442dba(0x4de)](_0x1bea7e=>_0x1bea7e===_0x170f3f[_0x442dba(0x5f8)]);_0x4107fd!==-0x1&&_0x4bfc23[_0x4107fd]&&(_0x4bfc23[_0x4107fd][_0x442dba(0x8f4)]++,_0x4f273d[_0x442dba(0x67a)](_0x569d7b)&&_0x4bfc23[_0x4107fd][_0x442dba(0x482)]++,_0x3d94e3[_0x442dba(0x67a)](_0x569d7b)&&_0x4bfc23[_0x4107fd][_0x442dba(0x7c6)]++);}}),_0x5e2ac2[_0x137177]=_0x4bfc23;}),_0x5e2ac2;}function calculateReliabilityKR20(_0x2635e2,_0x223544,_0x2b483c){const _0x5289d4=_0x31ab05,_0x3be5fd=_0x2635e2['questions']['length'];if(_0x3be5fd<0x2||_0x223544[_0x5289d4(0xabc)]<0x2)return null;const _0x46ae0f=_0x223544[_0x5289d4(0x2e0)](_0x3af654=>_0x3af654['latestScore']),_0x597da4=_0x46ae0f['reduce']((_0x488f32,_0x464707)=>_0x488f32+_0x464707,0x0)/_0x46ae0f[_0x5289d4(0xabc)],_0x12e28d=_0x46ae0f[_0x5289d4(0x2e0)](_0x2d04c0=>Math[_0x5289d4(0x8dd)](_0x2d04c0-_0x597da4,0x2))[_0x5289d4(0x9ab)]((_0x3b26db,_0x553db5)=>_0x3b26db+_0x553db5,0x0)/_0x46ae0f[_0x5289d4(0xabc)];if(_0x12e28d===0x0)return null;let _0xd3d080=0x0;for(let _0x32853c=0x0;_0x32853c<_0x3be5fd;_0x32853c++){const _0x16c73d=_0x2b483c[_0x32853c]?.['p'];if(_0x16c73d===undefined)continue;const _0x3332d7=0x1-_0x16c73d;_0xd3d080+=_0x16c73d*_0x3332d7;}if(_0xd3d080===0x0)return null;const _0x8e9c75=_0x3be5fd/(_0x3be5fd-0x1)*(0x1-_0xd3d080/_0x12e28d);if(_0x8e9c75>0x1)return null;return _0x8e9c75;}async function handleAnalyzeClass(){const _0x1ed8be=_0x31ab05;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x1ed8be(0x7cc));return;}const _0x3164d7=collection(db,'artifacts/'+appId+_0x1ed8be(0x8b8)+currentQuizData['id']+_0x1ed8be(0x830)),_0x257b2e=await getDocs(_0x3164d7),_0x3a9474=_0x257b2e['docs'][_0x1ed8be(0x2e0)](_0x22c411=>_0x22c411[_0x1ed8be(0x943)]());if(_0x3a9474[_0x1ed8be(0xabc)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x347e4d=document['getElementById'](_0x1ed8be(0x8fd));_0x347e4d['innerHTML']=_0x1ed8be(0x314),document[_0x1ed8be(0x983)](_0x1ed8be(0x949))[_0x1ed8be(0x383)]=!![];const _0x36300c=_0x3a9474[_0x1ed8be(0x2e0)]((_0x1d131c,_0x3ee89b)=>{const _0x196beb=_0x1ed8be,_0x3019bd=_0x1d131c['attempts'][_0x1d131c['attempts']['length']-0x1];if(!_0x3019bd)return'';return _0x196beb(0x681)+(_0x3ee89b+0x1)+'\x20('+_0x1d131c[_0x196beb(0x366)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x3019bd[_0x196beb(0x941)]+'/'+_0x1d131c[_0x196beb(0x682)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x196beb(0x56f)](_0x3019bd['answers'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1ed8be(0x62f)](_0x1ed8be(0x63f)),_0x34042d=_0x1ed8be(0x1bf)+currentQuizData['topic']+_0x1ed8be(0x8f2)+JSON['stringify'](currentQuizData['questions'])+_0x1ed8be(0x38d)+_0x36300c+_0x1ed8be(0x1c1),_0x475e6c={'type':'OBJECT','properties':{'classStrengths':{'type':_0x1ed8be(0xa49),'items':{'type':_0x1ed8be(0x62a)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x1ed8be(0x62a)}},'teacherSuggestions':{'type':_0x1ed8be(0xa49),'items':{'type':_0x1ed8be(0x62a)}}},'required':[_0x1ed8be(0x5fd),'classWeaknesses',_0x1ed8be(0x442)]};try{const _0x5d4b62=await callAnalysisApi(_0x34042d,_0x475e6c);displayClassAnalysis(_0x5d4b62);}catch(_0x3aac71){console[_0x1ed8be(0x8c0)](_0x1ed8be(0x9e1),_0x3aac71),_0x347e4d[_0x1ed8be(0x9ad)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x3aac71[_0x1ed8be(0xa8c)]+_0x1ed8be(0x547);}finally{document['getElementById'](_0x1ed8be(0x949))[_0x1ed8be(0x383)]=![];}}function displayClassAnalysis(_0xc43eea){const _0x361b0e=_0x31ab05,_0x766a9c=document['getElementById'](_0x361b0e(0x8fd));if(!_0xc43eea){_0x766a9c[_0x361b0e(0x9ad)]=_0x361b0e(0x942);return;}_0x766a9c[_0x361b0e(0x9ad)]=_0x361b0e(0x910)+_0xc43eea[_0x361b0e(0x5fd)]['map'](_0x571522=>_0x361b0e(0x8a0)+_0x571522+_0x361b0e(0x1c7))['join']('')+_0x361b0e(0x90e)+_0xc43eea[_0x361b0e(0x1cf)][_0x361b0e(0x2e0)](_0x1a4137=>_0x361b0e(0x8a0)+_0x1a4137+_0x361b0e(0x1c7))[_0x361b0e(0x62f)]('')+_0x361b0e(0x673)+_0xc43eea[_0x361b0e(0x442)][_0x361b0e(0x2e0)](_0x532fe8=>'<li>'+_0x532fe8+_0x361b0e(0x1c7))[_0x361b0e(0x62f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x1ebdbb,_0x34a5f9){const _0xc03f66=_0x31ab05,_0x326571='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x1ebdbb['topic']+_0xc03f66(0x8b3)+_0x1ebdbb[_0xc03f66(0x88d)]+_0xc03f66(0x9ce)+_0x1ebdbb[_0xc03f66(0x2c2)]['map']((_0x5088ce,_0xe7cf96)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0xe7cf96+0x1)+'.\x20'+_0x5088ce[_0xc03f66(0x60a)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5088ce[_0xc03f66(0x6bc)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x5088ce[_0xc03f66(0x6bc)]+_0xc03f66(0x603):'')+_0xc03f66(0x66e))['join']('')+_0xc03f66(0x77d);_0x34a5f9[_0xc03f66(0x284)]['write'](_0x326571),_0x34a5f9['document']['close'](),_0x34a5f9[_0xc03f66(0x24c)]=function(){setTimeout(()=>{const _0x380ffa=_0x4d4b;_0x34a5f9[_0x380ffa(0x8c9)]();},0x3e8);};}async function generateWorksheet(){const _0x212277=_0x31ab05,_0x25edde=document[_0x212277(0x983)]('worksheet-topic-input')[_0x212277(0x3eb)][_0x212277(0x68c)]();if(!_0x25edde){showMessage(_0x212277(0x6a3));return;}const _0x3a320f=document[_0x212277(0x983)](_0x212277(0xa39))['checked'],_0x240333=_0x3a320f?'':_0x212277(0x2dd),_0x4241c2=window['open']('','_blank');_0x4241c2[_0x212277(0x284)][_0x212277(0x226)](_0x212277(0x81e));const _0x1223f4=parseInt(document['getElementById'](_0x212277(0x627))[_0x212277(0x3eb)]),_0x5c8366=document[_0x212277(0x983)](_0x212277(0x542))[_0x212277(0x616)],_0x228fef=_0x5c8366?_0x212277(0xaab):'',_0x31e55a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x240333+_0x212277(0x7bf)+_0x1223f4+_0x212277(0x8a9)+_0x25edde+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x228fef+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x212277(0x8b2),_0x52ab23={'type':'OBJECT','properties':{'topic':{'type':_0x212277(0x62a)},'questions':{'type':_0x212277(0xa49),'items':{'type':_0x212277(0x6f5),'properties':{'questionText':{'type':_0x212277(0x62a)},'imageCode':{'type':_0x212277(0x62a)}},'required':[_0x212277(0x60a)]}}},'required':['topic','questions']};document[_0x212277(0x983)](_0x212277(0x828))[_0x212277(0x36e)]='',document[_0x212277(0x983)](_0x212277(0x51c))[_0x212277(0x7b1)]['remove'](_0x212277(0x540)),document[_0x212277(0x983)]('quiz-generation-area')[_0x212277(0x7b1)][_0x212277(0x195)]('hidden'),generateWorksheetBtn[_0x212277(0x383)]=!![];try{const _0x3b383a=await callAnalysisApi(_0x31e55a,_0x52ab23);formatAndPrintWorksheet(_0x3b383a,_0x4241c2);}catch(_0x1ce3f8){console[_0x212277(0x8c0)](_0x212277(0x4a8),_0x1ce3f8);if(_0x4241c2)_0x4241c2[_0x212277(0x188)]();showMessage(_0x212277(0x6b9));}finally{document['getElementById'](_0x212277(0x51c))[_0x212277(0x7b1)][_0x212277(0x9a9)](_0x212277(0x540)),document[_0x212277(0x983)](_0x212277(0x462))[_0x212277(0x7b1)]['add']('hidden'),generateWorksheetBtn[_0x212277(0x383)]=![];}}async function callAnalysisApi(_0x4d2cb6,_0x2fd614){const _0x2e173a=_0x31ab05,_0x57957f={'contents':[{'role':_0x2e173a(0x451),'parts':[{'text':_0x4d2cb6}]}],'generationConfig':{'responseMimeType':_0x2e173a(0x50a),'responseSchema':_0x2fd614}},_0x5826a7=_0x2e173a(0x399),_0x4a75aa='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x5826a7,_0x1ab7ce=await fetch(_0x4a75aa,{'method':_0x2e173a(0x61e),'headers':{'Content-Type':_0x2e173a(0x50a)},'body':JSON[_0x2e173a(0x56f)](_0x57957f)});if(!_0x1ab7ce['ok'])throw new Error(_0x2e173a(0x8e5)+_0x1ab7ce[_0x2e173a(0xa1f)]);const _0x5b68c4=await _0x1ab7ce[_0x2e173a(0x668)]();if(_0x5b68c4[_0x2e173a(0x8eb)]?.[0x0]?.[_0x2e173a(0x66d)]?.['parts']?.[0x0])return JSON['parse'](_0x5b68c4[_0x2e173a(0x8eb)][0x0]['content'][_0x2e173a(0x6e1)][0x0][_0x2e173a(0x622)]);else{let _0x48e939='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x5b68c4[_0x2e173a(0x735)]?.[_0x2e173a(0x998)])_0x48e939=_0x2e173a(0x9e4)+_0x5b68c4[_0x2e173a(0x735)][_0x2e173a(0x998)]+'.';else _0x5b68c4[_0x2e173a(0x8eb)]?.[0x0]?.[_0x2e173a(0x6d7)]&&_0x5b68c4['candidates'][0x0]['finishReason']!==_0x2e173a(0x3bd)&&(_0x48e939=_0x2e173a(0x7da)+_0x5b68c4[_0x2e173a(0x8eb)][0x0][_0x2e173a(0x6d7)]+'.');console['error'](_0x48e939,JSON[_0x2e173a(0x56f)](_0x5b68c4));throw new Error(_0x48e939);}}async function handleStartSyncMode(_0x5d9805,_0x20eca9=![]){const _0x278da5=_0x31ab05,_0x4d3c5b=allQuizzes['find'](_0x39b49a=>_0x39b49a['id']===_0x5d9805)||allQuizzesGlobal[_0x278da5(0x606)](_0x2fd61c=>_0x2fd61c['id']===_0x5d9805);if(!_0x4d3c5b){showMessage(_0x278da5(0x182));return;}currentQuizData=getShuffledQuiz(_0x4d3c5b);const _0x190380=Math[_0x278da5(0x273)](0x3e8+Math[_0x278da5(0x4aa)]()*0x2328)[_0x278da5(0x278)]();try{const _0xae3bc7=await addDoc(collection(db,'artifacts/'+appId+_0x278da5(0x86c)),{'quizId':_0x4d3c5b['id'],'pin':_0x190380,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x20eca9,'players':{}});currentLiveGameId=_0xae3bc7['id'],showView(_0x278da5(0x8bb)),renderSyncLobbyView(_0x190380,_0x4d3c5b[_0x278da5(0x88d)]),listenForSyncGameUpdates();}catch(_0x31b678){console[_0x278da5(0x8c0)](_0x278da5(0x41e),_0x31b678),showMessage(_0x278da5(0x51e));}}function calculateFinalPodiumScores(_0x410e91){const _0x467f36=_0x31ab05;if(!_0x410e91||!_0x410e91[_0x467f36(0x25c)]||!_0x410e91['players'])return _0x410e91[_0x467f36(0x72f)]||{};const _0x326149=_0x410e91['shuffledQuiz'][_0x467f36(0x2c2)][_0x467f36(0xabc)],_0x51d715=JSON['parse'](JSON[_0x467f36(0x56f)](_0x410e91['players']));return Object[_0x467f36(0x33d)](_0x51d715)[_0x467f36(0x1bc)](_0x19c5ba=>{const _0x1f44cd=_0x467f36,_0x8a7b58=_0x19c5ba[_0x1f44cd(0x941)];let _0x3dcba5=0x0;_0x410e91[_0x1f44cd(0x42f)]&&_0x19c5ba[_0x1f44cd(0x646)]&&_0x19c5ba['answers'][_0x1f44cd(0x1bc)](_0x6306b3=>{const _0x21710e=_0x1f44cd;if(_0x6306b3[_0x21710e(0x22d)]&&_0x6306b3[_0x21710e(0x8a7)])_0x3dcba5+=0x1;else!_0x6306b3[_0x21710e(0x22d)]&&_0x6306b3[_0x21710e(0x8a7)]&&(_0x3dcba5-=0x1);}),_0x19c5ba[_0x1f44cd(0x941)]=_0x8a7b58+_0x3dcba5,_0x326149>0x0&&_0x8a7b58===_0x326149&&(_0x19c5ba['score']+=0x1,_0x19c5ba[_0x1f44cd(0x3e6)]=!![]);}),_0x51d715;}function listenForSyncGameUpdates(){if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x1a7592=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x1a7592,_0x58b0a0=>{const _0x3ac15a=_0x4d4b;if(!_0x58b0a0[_0x3ac15a(0x9da)]()){sessionStorage[_0x3ac15a(0xaba)](_0x3ac15a(0x3fe));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว'),showView(currentMode===_0x3ac15a(0x685)?_0x3ac15a(0xaac):'student');return;}const _0x5658d0=_0x58b0a0['data']();currentMode===_0x3ac15a(0x685)?updateAdminSyncView(_0x5658d0):updateStudentSyncView(_0x5658d0);});}function renderSyncLobbyView(_0x5e243c,_0xb99b80){const _0x4a87a6=_0x31ab05;liveGameView[_0x4a87a6(0x9ad)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0xb99b80+_0x4a87a6(0x584)+_0x5e243c+_0x4a87a6(0x5fe);const _0x27b69a=document[_0x4a87a6(0x983)]('confidence-scoring-toggle'),_0x47aa21=document['getElementById']('confidence-scoring-description');_0x27b69a[_0x4a87a6(0x7d4)](_0x4a87a6(0x6f3),()=>{const _0x2cc042=_0x4a87a6;_0x47aa21[_0x2cc042(0x58d)][_0x2cc042(0x608)]=_0x27b69a[_0x2cc042(0x616)]?_0x2cc042(0x1a9):_0x2cc042(0x548);}),document['getElementById'](_0x4a87a6(0x630))[_0x4a87a6(0x7d4)](_0x4a87a6(0x72b),async()=>{const _0x256b67=_0x4a87a6,_0x2bf8d8=doc(db,_0x256b67(0x9ac)+appId+_0x256b67(0x86c),currentLiveGameId),_0x4faf19=document[_0x256b67(0x983)](_0x256b67(0x435))[_0x256b67(0x616)];await updateDoc(_0x2bf8d8,{'status':_0x256b67(0x4c1),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x4faf19});});}function updateAdminSyncView(_0x5c7c30){const _0x17f2ac=_0x31ab05;switch(_0x5c7c30[_0x17f2ac(0xa1f)]){case _0x17f2ac(0xaa5):renderSyncLobbyView(_0x5c7c30['pin'],_0x5c7c30[_0x17f2ac(0x25c)]['topic']);const _0x5f24f7=Object[_0x17f2ac(0x1d9)](_0x5c7c30[_0x17f2ac(0x72f)]||{})[_0x17f2ac(0x8af)](([_0x20863a,_0x203b12])=>_0x203b12[_0x17f2ac(0xa1f)]!==_0x17f2ac(0x87c));document[_0x17f2ac(0x983)](_0x17f2ac(0x86e))['textContent']=_0x5f24f7[_0x17f2ac(0xabc)],document[_0x17f2ac(0x983)](_0x17f2ac(0xa34))[_0x17f2ac(0x9ad)]=_0x5f24f7[_0x17f2ac(0x2e0)](([_0xa9cb42,_0x4c3bbe])=>_0x17f2ac(0x362)+_0xa9cb42+_0x17f2ac(0x4e9)+_0xa9cb42+_0x17f2ac(0x384))[_0x17f2ac(0x62f)]('')||_0x17f2ac(0x49e),document[_0x17f2ac(0x983)]('start-sync-game-btn')['disabled']=_0x5f24f7[_0x17f2ac(0xabc)]===0x0;break;case _0x17f2ac(0x4c1):const _0x5373dc=Object[_0x17f2ac(0x33d)](_0x5c7c30[_0x17f2ac(0x72f)]||{})[_0x17f2ac(0x8af)](_0x4f16ab=>_0x4f16ab[_0x17f2ac(0xa1f)]!==_0x17f2ac(0x87c)),_0x302da3=_0x5373dc[_0x17f2ac(0x8af)](_0x4feba1=>_0x4feba1[_0x17f2ac(0x68b)])[_0x17f2ac(0xabc)],_0x3e2e20=_0x302da3===_0x5373dc[_0x17f2ac(0xabc)]&&_0x5373dc[_0x17f2ac(0xabc)]>0x0;if(_0x3e2e20&&_0x5c7c30[_0x17f2ac(0xa1f)]===_0x17f2ac(0x4c1)){const _0x17073d=doc(db,_0x17f2ac(0x9ac)+appId+_0x17f2ac(0x86c),currentLiveGameId);updateDoc(_0x17073d,{'status':_0x17f2ac(0x405)});}else{if(document['getElementById'](_0x17f2ac(0xa20))===null)renderAdminSyncQuestionView(_0x5c7c30);else{const _0x329139=document[_0x17f2ac(0x983)](_0x17f2ac(0x368));_0x329139&&(_0x329139[_0x17f2ac(0x36e)]=_0x302da3+'/'+_0x5373dc[_0x17f2ac(0xabc)]);const _0x2f3bdb=document['getElementById']('sync-player-list');_0x2f3bdb&&(_0x2f3bdb[_0x17f2ac(0x9ad)]=_0x5373dc[_0x17f2ac(0x2e0)](_0x68f00d=>{const _0x320538=_0x17f2ac,_0x10262f=_0x68f00d[_0x320538(0x68b)]?_0x320538(0x6e7):_0x320538(0x21f),_0x1e90b4=_0x68f00d['answered']?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x320538(0xa13);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x10262f+_0x320538(0x2fa)+_0x1e90b4+_0x320538(0x744)+_0x68f00d[_0x320538(0x73f)]+_0x320538(0x2d3)+_0x68f00d[_0x320538(0x73f)]+_0x320538(0x361);})[_0x17f2ac(0x62f)](''));}}break;case _0x17f2ac(0x405):const _0x48552a=_0x5c7c30[_0x17f2ac(0x27b)],_0x174fbc=_0x5c7c30[_0x17f2ac(0x25c)]['questions'][_0x48552a];renderSyncSummaryView(_0x5c7c30,_0x174fbc,!![]);break;case _0x17f2ac(0x623):renderAdminSyncDashboard(_0x5c7c30,!![]);break;case _0x17f2ac(0x789):_0x5c7c30[_0x17f2ac(0x23b)]&&saveGameResultsAsSubmissions(_0x5c7c30);sessionStorage['removeItem'](_0x17f2ac(0x3fe));const _0xe6b071=calculateFinalPodiumScores(_0x5c7c30);showPodiumView(_0xe6b071,_0x17f2ac(0x4c0));break;}}function renderAdminSyncQuestionView(_0x24a8e3){const _0x3d3c46=_0x31ab05,_0x389d88=_0x24a8e3[_0x3d3c46(0x27b)],_0x5d1aac=_0x24a8e3['shuffledQuiz']['questions'][_0x389d88],_0x2f9649=_0x24a8e3['shuffledQuiz']['questions']['length'],_0x52ceab=Object[_0x3d3c46(0x33d)](_0x24a8e3[_0x3d3c46(0x72f)]||{})['filter'](_0x364cb6=>_0x364cb6[_0x3d3c46(0xa1f)]!==_0x3d3c46(0x87c)),_0x5e3711=_0x52ceab[_0x3d3c46(0x8af)](_0x4b8293=>_0x4b8293[_0x3d3c46(0x68b)])[_0x3d3c46(0xabc)],_0x423952=_0x5e3711===_0x52ceab['length']&&_0x52ceab[_0x3d3c46(0xabc)]>0x0,_0x46ddaa=(_0x5d1aac[_0x3d3c46(0x9b4)]||[])[_0x3d3c46(0x2e0)](_0x42d5f8=>_0x3d3c46(0x566)+_0x42d5f8+_0x3d3c46(0x603))[_0x3d3c46(0x62f)]('');liveGameView[_0x3d3c46(0x9ad)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x389d88+0x1)+_0x3d3c46(0x47d)+_0x2f9649+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x5e3711+'/'+_0x52ceab[_0x3d3c46(0xabc)]+_0x3d3c46(0x870)+_0x5d1aac[_0x3d3c46(0x60a)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x46ddaa+_0x3d3c46(0x2ab)+(!_0x423952?_0x3d3c46(0x383):'')+_0x3d3c46(0x6e9);if(window[_0x3d3c46(0x2cb)])MathJax[_0x3d3c46(0x1de)]();document['getElementById']('show-results-btn')[_0x3d3c46(0x7d4)]('click',async()=>{const _0x3bab12=_0x3d3c46,_0x2a081a=doc(db,_0x3bab12(0x9ac)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x2a081a,{'status':_0x3bab12(0x623)});}),document['getElementById'](_0x3d3c46(0x7e7))['onclick']=()=>{openScratchpad(_0x5d1aac,_0x5d1aac['options']||[]);},document[_0x3d3c46(0x983)]('sync-manage-players-btn')[_0x3d3c46(0x7d4)](_0x3d3c46(0x72b),()=>{const _0xcbf1fe=_0x3d3c46;document[_0xcbf1fe(0x983)](_0xcbf1fe(0xa20))[_0xcbf1fe(0x7b1)]['toggle'](_0xcbf1fe(0x540));});}function renderSyncLeaderboardView(_0x5d4d53,_0x55de2b){const _0x347cdd=_0x31ab05,_0x3acc65=Object[_0x347cdd(0x33d)](_0x5d4d53['players']||{});_0x3acc65[_0x347cdd(0x7ab)]((_0x529577,_0x46f818)=>_0x46f818[_0x347cdd(0x941)]-_0x529577[_0x347cdd(0x941)]);const _0x8bad7c=_0x3acc65[_0x347cdd(0xa51)](0x0,0x5);let _0x3e8f96='';if(_0x55de2b){const _0x3f573b=_0x5d4d53[_0x347cdd(0x27b)]>=_0x5d4d53[_0x347cdd(0x25c)]['questions'][_0x347cdd(0xabc)]-0x1;_0x3e8f96='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x3f573b?_0x347cdd(0x762):_0x347cdd(0x2aa))+_0x347cdd(0x259);}else _0x3e8f96=_0x347cdd(0xa2e);liveGameView[_0x347cdd(0x9ad)]=_0x347cdd(0x3f9)+_0x8bad7c[_0x347cdd(0x2e0)]((_0x5a98f6,_0x54b776)=>_0x347cdd(0x699)+(_0x54b776+0x1)+'.\x20'+_0x5a98f6['name']+_0x347cdd(0x597)+_0x5a98f6[_0x347cdd(0x941)]+_0x347cdd(0x89f))[_0x347cdd(0x62f)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e8f96+_0x347cdd(0x613),_0x55de2b&&document['getElementById']('next-sync-question-btn')[_0x347cdd(0x7d4)]('click',async()=>{const _0x2f05d8=_0x347cdd,_0x53080a=doc(db,'artifacts/'+appId+_0x2f05d8(0x86c),currentLiveGameId),_0x248f28=_0x5d4d53[_0x2f05d8(0x27b)]+0x1;if(_0x248f28<_0x5d4d53[_0x2f05d8(0x25c)][_0x2f05d8(0x2c2)][_0x2f05d8(0xabc)]){const _0x2a557e={};Object[_0x2f05d8(0x2c9)](_0x5d4d53[_0x2f05d8(0x72f)])[_0x2f05d8(0x1bc)](_0x23ed69=>{const _0x132034=_0x2f05d8;_0x2a557e[_0x132034(0x4e3)+_0x23ed69+_0x132034(0x550)]=![];}),await updateDoc(_0x53080a,{..._0x2a557e,'status':_0x2f05d8(0x4c1),'currentQuestionIndex':_0x248f28,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x53080a,{'status':_0x2f05d8(0x789)});});}async function handleJoinSyncGame(){const _0x328356=_0x31ab05,_0x5cffec=prompt(_0x328356(0x7a2));if(!_0x5cffec||_0x5cffec['trim']()[_0x328356(0xabc)]!==0x2){showMessage(_0x328356(0x25b));return;}try{const _0xaaacb0=collection(db,_0x328356(0x9ac)+appId+'/public/data/syncGames'),_0xcfc747=query(_0xaaacb0,where(_0x328356(0x209),'==',_0x5cffec[_0x328356(0x68c)]()),where(_0x328356(0xa1f),'==',_0x328356(0xaa5))),_0x43c1ad=await getDocs(_0xcfc747);if(_0x43c1ad[_0x328356(0x3c8)]){showMessage(_0x328356(0x1c5));return;}const _0x4ee25c=_0x43c1ad[_0x328356(0x2f9)][0x0];currentLiveGameId=_0x4ee25c['id'];const _0x443af2=_0x4ee25c[_0x328356(0x943)](),_0x76380e=doc(db,_0x328356(0x9ac)+appId+_0x328356(0x519),_0x443af2[_0x328356(0x61d)]),_0x3c9d6d=await getDoc(_0x76380e);if(!_0x3c9d6d[_0x328356(0x9da)]())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x2cbb27=_0x3c9d6d[_0x328356(0x943)](),_0x3d121c=doc(db,'artifacts/'+appId+_0x328356(0x5e8),_0x2cbb27['projectId']),_0x4d513e=await getDoc(_0x3d121c);if(!_0x4d513e[_0x328356(0x9da)]())throw new Error(_0x328356(0x1ef));currentQuizData=_0x443af2[_0x328356(0x25c)];const _0x3f803c=_0x4d513e['data']();showView('student-team-join'),showTeamPlayerSelection(_0x3f803c['students'],_0x2cbb27['topic']);const _0x2d3189=document['getElementById']('confirm-team-players-btn');_0x2d3189[_0x328356(0x488)]=confirmAndJoinSyncGame;}catch(_0x2e2422){console[_0x328356(0x8c0)](_0x328356(0x534),_0x2e2422),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2e2422[_0x328356(0xa8c)]);}}function updateStudentSyncView(_0x5b1579){const _0x521abb=_0x31ab05,_0x5a0990=_0x5b1579[_0x521abb(0x72f)][localTeamPlayers[0x0]];switch(_0x5b1579[_0x521abb(0xa1f)]){case'lobby':showView(_0x521abb(0x8bb)),liveGameView['innerHTML']=_0x521abb(0x5f7);break;case'question':const _0x3c39b1=localTeamPlayers['every'](_0x4611ff=>_0x5b1579['players'][_0x4611ff]?.['answered']===!![]);_0x3c39b1?liveGameView['innerHTML']=_0x521abb(0x347):renderStudentSyncQuestionView(_0x5b1579);break;case'summary':liveGameView[_0x521abb(0x9ad)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x521abb(0x623):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x5b1579);break;case'podium':sessionStorage['removeItem']('activeGameSession');const _0x1ae826=calculateFinalPodiumScores(_0x5b1579);showPodiumView(_0x1ae826,'sync');break;}}function renderStudentSyncResultsView(_0x3b0e7c){const _0x4aca7f=_0x31ab05,_0x22581e=localTeamPlayers[_0x4aca7f(0x2e0)](_0x11cdf0=>_0x3b0e7c[_0x4aca7f(0x72f)][_0x11cdf0])['filter'](Boolean);_0x22581e[_0x4aca7f(0x7ab)]((_0x489dc1,_0x5279d9)=>(_0x5279d9[_0x4aca7f(0x941)]||0x0)-(_0x489dc1[_0x4aca7f(0x941)]||0x0));const _0x19b78c=_0x3b0e7c[_0x4aca7f(0x27b)]>=_0x3b0e7c[_0x4aca7f(0x25c)][_0x4aca7f(0x2c2)][_0x4aca7f(0xabc)]-0x1;let _0x259b46='';_0x19b78c?_0x259b46=_0x4aca7f(0x73d):_0x259b46=_0x4aca7f(0x3f5);const _0x57eb64='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x22581e['map']((_0x40a2e0,_0x4e6781)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x4e6781+0x1)+_0x4aca7f(0x1e4)+_0x40a2e0['name']+_0x4aca7f(0x826)+_0x40a2e0[_0x4aca7f(0x941)]+_0x4aca7f(0x9b5))[_0x4aca7f(0x62f)]('')+_0x4aca7f(0x51b)+_0x259b46+'\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x4aca7f(0x9ad)]=_0x57eb64;}function renderStudentSyncQuestionView(_0x35ffe4){const _0x4fa61c=_0x31ab05;while(localPlayerTurnIndex<localTeamPlayers[_0x4fa61c(0xabc)]&&_0x35ffe4[_0x4fa61c(0x72f)][localTeamPlayers[localPlayerTurnIndex]]?.['answered']===!![]){localPlayerTurnIndex++;}const _0x40ba4b=localTeamPlayers[localPlayerTurnIndex];if(!_0x40ba4b)return;const _0x2222e4=_0x35ffe4['currentQuestionIndex'],_0x24e8b2=_0x35ffe4[_0x4fa61c(0x25c)]['questions'][_0x4fa61c(0xabc)],_0x477c90=_0x35ffe4[_0x4fa61c(0x25c)][_0x4fa61c(0x2c2)][_0x2222e4],_0xd6ce3c=(_0x477c90[_0x4fa61c(0x9b4)]||[])[_0x4fa61c(0x2e0)]((_0xe1f98c,_0x41acb2)=>_0x4fa61c(0x561)+_0x41acb2+_0x4fa61c(0x1a0)+_0xe1f98c+_0x4fa61c(0x4c9))[_0x4fa61c(0x62f)]('');liveGameView['innerHTML']=_0x4fa61c(0x705)+(_0x2222e4+0x1)+'\x20/\x20'+_0x24e8b2+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0x40ba4b+_0x4fa61c(0x6b0)+_0x477c90['questionText']+_0x4fa61c(0x7d6)+_0xd6ce3c+_0x4fa61c(0x5a4);if(window[_0x4fa61c(0x2cb)])MathJax['typesetPromise']();document[_0x4fa61c(0x279)](_0x4fa61c(0x94f))[_0x4fa61c(0x1bc)](_0x2753b0=>{_0x2753b0['addEventListener']('click',()=>{const _0x19a044=_0x4d4b,_0x1eaa31=parseInt(_0x2753b0[_0x19a044(0x700)][_0x19a044(0x85a)]);_0x35ffe4[_0x19a044(0x42f)]?(document[_0x19a044(0x983)](_0x19a044(0x2f7))[_0x19a044(0x3eb)]=_0x1eaa31,document[_0x19a044(0x983)]('confidence-modal')[_0x19a044(0x7b1)][_0x19a044(0x195)]('hidden')):handleSyncAnswerSubmit(_0x1eaa31,_0x477c90,_0x35ffe4,_0x40ba4b,![]);});});}async function handleSyncAnswerSubmit(_0x3e52bf,_0x58919e,_0x32d953,_0x40212c,_0x362e6c){const _0x3cf566=_0x31ab05;document[_0x3cf566(0x279)](_0x3cf566(0x94f))[_0x3cf566(0x1bc)](_0x542b87=>_0x542b87[_0x3cf566(0x383)]=!![]);const _0x1808d0=_0x3e52bf===_0x58919e[_0x3cf566(0x438)],_0x569cec=_0x1808d0?0x1:0x0,_0x5a716e=doc(db,_0x3cf566(0x9ac)+appId+'/public/data/syncGames',currentLiveGameId),_0x1f9885={};_0x1f9885['players.'+_0x40212c+'.score']=increment(_0x569cec),_0x1f9885[_0x3cf566(0x4e3)+_0x40212c+_0x3cf566(0x550)]=!![],_0x1f9885['players.'+_0x40212c+_0x3cf566(0x525)]=_0x3e52bf;const _0x257399=_0x58919e[_0x3cf566(0x9b4)]&&_0x58919e[_0x3cf566(0x9b4)][_0x3e52bf]?_0x58919e[_0x3cf566(0x9b4)][_0x3e52bf]:null,_0x4cb4dc={'questionIndex':_0x32d953[_0x3cf566(0x27b)],'questionId':_0x58919e['id'],'answer':_0x3e52bf,'answerText':_0x257399,'isCorrect':_0x1808d0,'originalQuestionText':_0x58919e[_0x3cf566(0x60a)],'wasConfident':_0x362e6c};_0x1f9885['players.'+_0x40212c+_0x3cf566(0x59c)]=arrayUnion(_0x4cb4dc),await updateDoc(_0x5a716e,_0x1f9885);}initialize();
