const _0x3fc9b3=_0xcf86;(function(_0x1de858,_0x164753){const _0x5f0067=_0xcf86,_0x858c1=_0x1de858();while(!![]){try{const _0x69855=-parseInt(_0x5f0067(0x3c0))/0x1+-parseInt(_0x5f0067(0x651))/0x2*(-parseInt(_0x5f0067(0x73d))/0x3)+parseInt(_0x5f0067(0x20c))/0x4*(parseInt(_0x5f0067(0x662))/0x5)+-parseInt(_0x5f0067(0x5b3))/0x6+-parseInt(_0x5f0067(0x83b))/0x7*(-parseInt(_0x5f0067(0x77a))/0x8)+-parseInt(_0x5f0067(0x2ad))/0x9*(parseInt(_0x5f0067(0x69e))/0xa)+parseInt(_0x5f0067(0x49a))/0xb*(parseInt(_0x5f0067(0x775))/0xc);if(_0x69855===_0x164753)break;else _0x858c1['push'](_0x858c1['shift']());}catch(_0x265cb5){_0x858c1['push'](_0x858c1['shift']());}}}(_0x32cc,0xbf215));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x18076b=_0xcf86;if(_0x18076b(0x746)in navigator)try{wakeLock=await navigator[_0x18076b(0x746)][_0x18076b(0x52d)](_0x18076b(0x1dc)),console[_0x18076b(0x677)](_0x18076b(0x1f1)),wakeLock[_0x18076b(0x87d)]('release',()=>{const _0x297492=_0x18076b;console[_0x297492(0x677)](_0x297492(0x78b));});}catch(_0x4abb57){console[_0x18076b(0x105)](_0x18076b(0x7db)+_0x4abb57[_0x18076b(0x692)]+',\x20'+_0x4abb57[_0x18076b(0x59c)]);}else console[_0x18076b(0x858)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x2a3a02=_0xcf86;wakeLock!==null&&(await wakeLock[_0x2a3a02(0x425)](),wakeLock=null,console[_0x2a3a02(0x677)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x2c41e2=_0xcf86;if(dimTimer)clearTimeout(dimTimer);document[_0x2c41e2(0x1c3)]['classList'][_0x2c41e2(0x495)](_0x2c41e2(0x89e)),dimTimer=setTimeout(()=>{const _0x41fc03=_0x2c41e2;document[_0x41fc03(0x1c3)][_0x41fc03(0x2e4)][_0x41fc03(0x243)](_0x41fc03(0x89e)),console[_0x41fc03(0x677)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}function stopDimTimer(){const _0x2a366d=_0xcf86;if(dimTimer)clearTimeout(dimTimer);document[_0x2a366d(0x1c3)][_0x2a366d(0x2e4)][_0x2a366d(0x495)]('dimmed'),window['removeEventListener']('mousemove',resetDimTimer),window['removeEventListener'](_0x2a366d(0x21e),resetDimTimer),window[_0x2a366d(0x760)](_0x2a366d(0x834),resetDimTimer),window['removeEventListener']('keydown',resetDimTimer),console[_0x2a366d(0x677)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x3fc9b3(0x77e)},{'category':'จำนวนและการดำเนินการ','name':_0x3fc9b3(0xfd)},{'category':_0x3fc9b3(0x218),'name':'การปัดเศษและประมาณค่า'},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x79a)},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x899)},{'category':'จำนวนและการดำเนินการ','name':_0x3fc9b3(0x347)},{'category':_0x3fc9b3(0x218),'name':'การคูณ'},{'category':_0x3fc9b3(0x218),'name':'การหาร'},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x115)},{'category':'จำนวนและการดำเนินการ','name':_0x3fc9b3(0x330)},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x143)},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x12a)},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x146)},{'category':_0x3fc9b3(0x218),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x7c4)},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x10b)},{'category':'จำนวนและการดำเนินการ','name':_0x3fc9b3(0x583)},{'category':'จำนวนและการดำเนินการ','name':_0x3fc9b3(0x286)},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x7bc)},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x6cb)},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x2d3)},{'category':_0x3fc9b3(0x218),'name':'การคูณเศษส่วน'},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x809)},{'category':_0x3fc9b3(0x218),'name':'จำนวนคละ'},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x898)},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x178)},{'category':'จำนวนและการดำเนินการ','name':_0x3fc9b3(0x1a6)},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x4d7)},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x5f5)},{'category':_0x3fc9b3(0x218),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x44c)},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x471)},{'category':_0x3fc9b3(0x218),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x7da)},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x497)},{'category':'จำนวนและการดำเนินการ','name':_0x3fc9b3(0x417)},{'category':_0x3fc9b3(0x218),'name':_0x3fc9b3(0x56d)},{'category':_0x3fc9b3(0x7b1),'name':_0x3fc9b3(0x631)},{'category':_0x3fc9b3(0x7b1),'name':_0x3fc9b3(0x522)},{'category':_0x3fc9b3(0x7b1),'name':_0x3fc9b3(0x582)},{'category':_0x3fc9b3(0x7b1),'name':_0x3fc9b3(0x12e)},{'category':_0x3fc9b3(0x7b1),'name':_0x3fc9b3(0x797)},{'category':_0x3fc9b3(0x7b1),'name':_0x3fc9b3(0x62c)},{'category':_0x3fc9b3(0x7b1),'name':_0x3fc9b3(0x180)},{'category':_0x3fc9b3(0x7b1),'name':_0x3fc9b3(0x7ad)},{'category':_0x3fc9b3(0x7b1),'name':_0x3fc9b3(0x538)},{'category':'การวัด','name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x3fc9b3(0x7b1),'name':_0x3fc9b3(0x4b1)},{'category':_0x3fc9b3(0x7b1),'name':'มุมและการวัดมุม'},{'category':'การวัด','name':_0x3fc9b3(0x614)},{'category':'การวัด','name':_0x3fc9b3(0x888)},{'category':_0x3fc9b3(0x69b),'name':_0x3fc9b3(0x451)},{'category':'เรขาคณิต','name':_0x3fc9b3(0x14f)},{'category':_0x3fc9b3(0x69b),'name':_0x3fc9b3(0x76f)},{'category':'เรขาคณิต','name':_0x3fc9b3(0x7ad)},{'category':_0x3fc9b3(0x69b),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':'เรขาคณิต','name':_0x3fc9b3(0x79b)},{'category':_0x3fc9b3(0x69b),'name':_0x3fc9b3(0x46a)},{'category':'เรขาคณิต','name':_0x3fc9b3(0x66c)},{'category':'เรขาคณิต','name':_0x3fc9b3(0x38f)},{'category':'เรขาคณิต','name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x3fc9b3(0x69b),'name':_0x3fc9b3(0x5e2)},{'category':'เรขาคณิต','name':_0x3fc9b3(0x3df)},{'category':_0x3fc9b3(0x69b),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x3fc9b3(0x69b),'name':_0x3fc9b3(0x3e3)},{'category':'เรขาคณิต','name':_0x3fc9b3(0x48d)},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x6f9)},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x3f6)},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x85d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3fc9b3(0x52b)},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x5ad)},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x7b3)},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x679)},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x402)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3fc9b3(0x8c8)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3fc9b3(0x75c)},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x2f2)},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x13b)},{'category':_0x3fc9b3(0x38a),'name':'สมการลอการิทึม'},{'category':_0x3fc9b3(0x38a),'name':'อสมการเชิงเส้น'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3fc9b3(0x293)},{'category':'พีชคณิตและฟังก์ชัน','name':'ระบบอสมการ'},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x6d3)},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x20b)},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x456)},{'category':_0x3fc9b3(0x38a),'name':'ฟังก์ชันผกผัน'},{'category':_0x3fc9b3(0x38a),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x3fc9b3(0x38a),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3fc9b3(0x2cb)},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x7f7)},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x4ed)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3fc9b3(0x6dc)},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x455)},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x3c2)},{'category':_0x3fc9b3(0x38a),'name':'ฟังก์ชันยกกำลัง'},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x7c8)},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x56c)},{'category':_0x3fc9b3(0x38a),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x489)},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x5e6)},{'category':_0x3fc9b3(0x38a),'name':_0x3fc9b3(0x452)},{'category':_0x3fc9b3(0x396),'name':_0x3fc9b3(0x8b4)},{'category':_0x3fc9b3(0x396),'name':'ความชันและเส้นตรง'},{'category':'เรขาคณิตวิเคราะห์','name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x3fc9b3(0x396),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x3fc9b3(0x396),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':'เรขาคณิตวิเคราะห์','name':_0x3fc9b3(0x422)},{'category':_0x3fc9b3(0x396),'name':'พาราโบลา'},{'category':'เรขาคณิตวิเคราะห์','name':_0x3fc9b3(0x714)},{'category':'เรขาคณิตวิเคราะห์','name':_0x3fc9b3(0x212)},{'category':_0x3fc9b3(0x457),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0x3fc9b3(0x457),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x3fc9b3(0x457),'name':_0x3fc9b3(0x550)},{'category':_0x3fc9b3(0x457),'name':'เรเดียนและการแปลงหน่วย'},{'category':'ตรีโกณมิติ','name':'กฎของไซน์'},{'category':_0x3fc9b3(0x457),'name':'กฎของโคไซน์'},{'category':_0x3fc9b3(0x457),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x3fc9b3(0x457),'name':_0x3fc9b3(0x11b)},{'category':_0x3fc9b3(0x457),'name':_0x3fc9b3(0x14d)},{'category':_0x3fc9b3(0x457),'name':_0x3fc9b3(0x1c1)},{'category':_0x3fc9b3(0x457),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0x3fc9b3(0x5d8),'name':_0x3fc9b3(0x3e2)},{'category':'สถิติและความน่าจะเป็น','name':'การจัดกลุ่มข้อมูล'},{'category':_0x3fc9b3(0x5d8),'name':_0x3fc9b3(0x202)},{'category':_0x3fc9b3(0x5d8),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x3fc9b3(0x5d8),'name':_0x3fc9b3(0x2a3)},{'category':_0x3fc9b3(0x5d8),'name':_0x3fc9b3(0x11a)},{'category':_0x3fc9b3(0x5d8),'name':_0x3fc9b3(0x23c)},{'category':'สถิติและความน่าจะเป็น','name':_0x3fc9b3(0x706)},{'category':_0x3fc9b3(0x5d8),'name':'ฐานนิยม'},{'category':_0x3fc9b3(0x5d8),'name':_0x3fc9b3(0x2b0)},{'category':_0x3fc9b3(0x5d8),'name':_0x3fc9b3(0x5a9)},{'category':'สถิติและความน่าจะเป็น','name':_0x3fc9b3(0x107)},{'category':_0x3fc9b3(0x5d8),'name':_0x3fc9b3(0x263)},{'category':_0x3fc9b3(0x5d8),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x3fc9b3(0x5d8),'name':_0x3fc9b3(0x199)},{'category':_0x3fc9b3(0x5d8),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x3fc9b3(0x5d8),'name':_0x3fc9b3(0x5b8)},{'category':_0x3fc9b3(0x5d8),'name':'แผนภาพเวนน์'},{'category':_0x3fc9b3(0x5d8),'name':_0x3fc9b3(0x883)},{'category':'สถิติและความน่าจะเป็น','name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x3fc9b3(0x5d8),'name':_0x3fc9b3(0x4be)},{'category':_0x3fc9b3(0x5d8),'name':_0x3fc9b3(0x86b)},{'category':_0x3fc9b3(0x5d8),'name':_0x3fc9b3(0x442)},{'category':_0x3fc9b3(0x5d8),'name':_0x3fc9b3(0x667)},{'category':_0x3fc9b3(0x4b9),'name':_0x3fc9b3(0x468)},{'category':_0x3fc9b3(0x4b9),'name':_0x3fc9b3(0x18d)},{'category':_0x3fc9b3(0x4b9),'name':_0x3fc9b3(0x47b)},{'category':_0x3fc9b3(0x4b9),'name':_0x3fc9b3(0x7e1)},{'category':_0x3fc9b3(0x4b9),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':'แคลคูลัสเบื้องต้น','name':_0x3fc9b3(0x5cb)},{'category':_0x3fc9b3(0x4b9),'name':_0x3fc9b3(0x3d9)},{'category':_0x3fc9b3(0x4b9),'name':_0x3fc9b3(0x329)},{'category':_0x3fc9b3(0x4b9),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x3fc9b3(0x4b9),'name':_0x3fc9b3(0x1d9)},{'category':_0x3fc9b3(0x4b9),'name':'ปริพันธ์จำกัด'},{'category':_0x3fc9b3(0x4b9),'name':_0x3fc9b3(0x609)},{'category':_0x3fc9b3(0x4b9),'name':_0x3fc9b3(0x2c8)},{'category':_0x3fc9b3(0x66f),'name':_0x3fc9b3(0x1ea)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x3fc9b3(0x5ee)},{'category':_0x3fc9b3(0x66f),'name':_0x3fc9b3(0x844)},{'category':_0x3fc9b3(0x66f),'name':_0x3fc9b3(0x4a9)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x3fc9b3(0x139)},{'category':_0x3fc9b3(0x66f),'name':_0x3fc9b3(0x62a)},{'category':_0x3fc9b3(0x66f),'name':_0x3fc9b3(0x641)},{'category':_0x3fc9b3(0x103),'name':_0x3fc9b3(0x272)},{'category':_0x3fc9b3(0x103),'name':_0x3fc9b3(0x26a)},{'category':_0x3fc9b3(0x103),'name':_0x3fc9b3(0x644)},{'category':_0x3fc9b3(0x103),'name':'ค่าเสื่อมราคา'},{'category':_0x3fc9b3(0x103),'name':_0x3fc9b3(0x13d)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x3fc9b3(0x7ec)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x3fc9b3(0x879)},{'category':_0x3fc9b3(0x776),'name':_0x3fc9b3(0x6e6)}];function renderTopicCheckboxes(){const _0x40cf46=_0x3fc9b3,_0x2f360c=document[_0x40cf46(0x1cf)]('math-topics-checkbox-container');if(!_0x2f360c)return;const _0x116a00=allMathTopics,_0x4a5741=customMathTopics['map'](_0x20e773=>({'id':_0x20e773['id'],'category':_0x40cf46(0x15a),'name':_0x20e773[_0x40cf46(0x692)]})),_0x5dd4bc=[..._0x116a00,..._0x4a5741],_0x3c0c14=_0x5dd4bc[_0x40cf46(0x8c6)]((_0xeca1e2,_0x3421dd)=>{const _0x2887a2=_0x40cf46;return!_0xeca1e2[_0x3421dd[_0x2887a2(0x253)]]&&(_0xeca1e2[_0x3421dd[_0x2887a2(0x253)]]=[]),_0xeca1e2[_0x3421dd[_0x2887a2(0x253)]]['push'](_0x3421dd),_0xeca1e2;},{});let _0x13d38d='';const _0x3e6c39=[_0x40cf46(0x15a),...Object[_0x40cf46(0x80e)](_0x3c0c14)[_0x40cf46(0x18e)](_0x5ac1ce=>_0x5ac1ce!==_0x40cf46(0x15a))];for(const _0x3df234 of _0x3e6c39){if(_0x3c0c14[_0x3df234]){const _0x381ff7=_0x3df234===_0x40cf46(0x15a),_0x9be1a=_0x381ff7?_0x40cf46(0x818):_0x40cf46(0x877),_0x348945=_0x381ff7?_0x40cf46(0x466):_0x40cf46(0x841);_0x13d38d+=_0x40cf46(0x69f),_0x13d38d+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x348945+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x9be1a+_0x40cf46(0x816)+_0x3df234+_0x40cf46(0x808),_0x3c0c14[_0x3df234][_0x40cf46(0x2a5)](_0x26dcb7=>{const _0x15fbc6=_0x40cf46,_0x35ce78=!!_0x26dcb7['id'],_0x4269ff=_0x35ce78?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x26dcb7['id']+_0x15fbc6(0x181)+_0x26dcb7['id']+_0x15fbc6(0x344)+_0x26dcb7['id']+_0x15fbc6(0x365)+_0x26dcb7['id']+_0x15fbc6(0x869):'';_0x13d38d+=_0x15fbc6(0x3d2)+(_0x26dcb7['id']||'')+_0x15fbc6(0x7d8)+_0x26dcb7['name']+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x26dcb7[_0x15fbc6(0x692)]+_0x15fbc6(0x726)+(_0x35ce78?_0x15fbc6(0x353)+_0x26dcb7[_0x15fbc6(0x692)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4269ff+_0x15fbc6(0x4a7);}),_0x13d38d+='</div>';}}_0x2f360c['innerHTML']=_0x13d38d||_0x40cf46(0x876),_0x2f360c['removeEventListener'](_0x40cf46(0x595),updateSelectedTopicsCount),_0x2f360c[_0x40cf46(0x87d)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x5a8984,_0x32f398){const _0x219026=_0x3fc9b3;if(!_0x5a8984||!_0x32f398[_0x219026(0x598)]()){showMessage(_0x219026(0x567));return;}try{const _0x46bbea=doc(db,'artifacts/'+appId+_0x219026(0x7af),_0x5a8984);await updateDoc(_0x46bbea,{'name':_0x32f398[_0x219026(0x598)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x16124e){console[_0x219026(0x105)](_0x219026(0x880),_0x16124e),showMessage(_0x219026(0x7e6));}}function toggleTopicEditMode(_0x542c0a,_0x52cc07){const _0x5318ff=_0x3fc9b3;if(!_0x542c0a)return;const _0x2d111d=_0x542c0a[_0x5318ff(0x884)](_0x5318ff(0x6b2)),_0x4f99bf=_0x542c0a[_0x5318ff(0x884)](_0x5318ff(0x594)),_0xcf1902=_0x542c0a[_0x5318ff(0x884)](_0x5318ff(0x6d2)),_0x735779=_0x542c0a[_0x5318ff(0x884)](_0x5318ff(0x4ef));_0x2d111d[_0x5318ff(0x2e4)][_0x5318ff(0x81e)](_0x5318ff(0x36f),_0x52cc07),_0x4f99bf[_0x5318ff(0x2e4)][_0x5318ff(0x81e)](_0x5318ff(0x36f),!_0x52cc07),_0xcf1902[_0x5318ff(0x2e4)]['toggle']('hidden',_0x52cc07),_0x735779[_0x5318ff(0x2e4)][_0x5318ff(0x81e)](_0x5318ff(0x36f),!_0x52cc07),_0x52cc07&&(_0x4f99bf[_0x5318ff(0x39a)](),_0x4f99bf[_0x5318ff(0x3e6)]());}function updateSelectedTopicsCount(){const _0x2246b9=_0x3fc9b3,_0x503951=document[_0x2246b9(0x1cf)](_0x2246b9(0x694)),_0x541272=_0x503951['querySelectorAll'](_0x2246b9(0x3a0))[_0x2246b9(0x431)],_0x283a31=document[_0x2246b9(0x1cf)](_0x2246b9(0x87c));_0x541272>0x0?_0x283a31[_0x2246b9(0x52e)]=_0x2246b9(0x40f)+_0x541272+'\x20หัวข้อ)':_0x283a31['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x3fc9b3(0x7b4),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x3fc9b3(0x55e),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':'คะแนนเต็ม','description':_0x3fc9b3(0x2e1),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':_0x3fc9b3(0x837),'description':_0x3fc9b3(0x316),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x3fc9b3(0x634),'name':'ท็อปฟอร์ม','description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x3fc9b3(0x81a)},'FIRST_TRY_ACE':{'id':_0x3fc9b3(0x31a),'name':_0x3fc9b3(0x21f),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x3fc9b3(0x7f1)},'COMEBACK_KING':{'id':'comeback_king','name':_0x3fc9b3(0x3f0),'description':_0x3fc9b3(0x6d7),'icon':_0x3fc9b3(0x110)},'SPECIALIST':{'id':_0x3fc9b3(0x5f2),'name':_0x3fc9b3(0x1a3),'description':_0x3fc9b3(0x5d1),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x3fc9b3(0x755),'name':_0x3fc9b3(0x1a9),'description':_0x3fc9b3(0x5af),'icon':_0x3fc9b3(0x678)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x3fc9b3(0x6eb),'projectId':_0x3fc9b3(0x1bf),'storageBucket':_0x3fc9b3(0x10e),'messagingSenderId':_0x3fc9b3(0x6e4),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x3fc9b3(0x3b2)},appId=typeof __app_id!=='undefined'?__app_id:_0x3fc9b3(0x7b0),adminView=document[_0x3fc9b3(0x1cf)]('admin-view'),studentView=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x5c2)),projectDashboardView=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x472)),projectDetailView=document['getElementById'](_0x3fc9b3(0x4ae)),quizResultsView=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x2d0)),projectList=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x575)),noProjectsMsg=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x8a5)),projectTitle=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x16c)),projectIdDisplay=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x109)),studentList=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x75b)),messageModal=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x1ff)),modalMessage=document['getElementById'](_0x3fc9b3(0x54a)),createProjectModal=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x72d)),adminPasswordModal=document['getElementById'](_0x3fc9b3(0x4d8)),confirmationModal=document[_0x3fc9b3(0x1cf)]('confirmation-modal'),userIdDisplay=document[_0x3fc9b3(0x1cf)]('user-id-display'),topicTab=document[_0x3fc9b3(0x1cf)]('topic-tab'),textTab=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x570)),topicInputArea=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x351)),textInputArea=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x2a2)),manageTab=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x164)),resultsTab=document['getElementById'](_0x3fc9b3(0x50f)),leaderboardTab=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x5c9)),manageTabContent=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x138)),resultsTabContent=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x811)),leaderboardTabContent=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x4cb)),projectQuizzesList=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x5e5)),fileTab=document['getElementById']('file-tab'),fileInputArea=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x3a4)),fileUploadInput=document[_0x3fc9b3(0x1cf)]('file-upload-input'),worksheetTab=document[_0x3fc9b3(0x1cf)]('worksheet-tab'),worksheetInputArea=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x21c)),generateWorksheetBtn=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x6db)),studentInitialView=document['getElementById']('student-initial-view'),studentNameSelectionView=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x535)),studentQuizArea=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x783)),studentResultArea=document[_0x3fc9b3(0x1cf)]('student-result-area'),studentReadingArea=document['getElementById'](_0x3fc9b3(0x532)),loadQuizBtn=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x3be)),startQuizBtn=document[_0x3fc9b3(0x1cf)]('start-quiz-btn'),studentJoinGameView=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x43c)),presentationModal=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x147)),renameQuizModal=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x264)),moveQuizModal=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x1bb)),quizSettingsModal=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x2c6)),quizStatusModal=document[_0x3fc9b3(0x1cf)]('quiz-status-modal'),liveGameView=document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x1fb));function handleAutoFixLatex(){const _0x4efd11=_0x3fc9b3,_0x373078=document[_0x4efd11(0x1cf)](_0x4efd11(0x617))||document,_0x5580f1=_0x373078[_0x4efd11(0x7ab)]([_0x4efd11(0x35a),_0x4efd11(0x5a5),_0x4efd11(0x1c8),_0x4efd11(0x7a8),'.ql-editor',_0x4efd11(0x294),_0x4efd11(0x4c6),'.option-text',_0x4efd11(0x5d3)][_0x4efd11(0x8b1)](','));let _0x232863=0x0;const _0x3f5f3b=_0x18b4b4=>_0x4efd11(0x5f3)in _0x18b4b4?String(_0x18b4b4[_0x4efd11(0x5f3)]):_0x18b4b4[_0x4efd11(0x2c4)]!==undefined?_0x18b4b4[_0x4efd11(0x2c4)]:_0x18b4b4[_0x4efd11(0x52e)]||'',_0x47304a=(_0x481da6,_0x7ea0e4)=>{const _0x39ec68=_0x4efd11;if(_0x39ec68(0x5f3)in _0x481da6){_0x481da6[_0x39ec68(0x5f3)]=_0x7ea0e4;return;}if(_0x481da6['querySelector']&&_0x481da6[_0x39ec68(0x884)](_0x39ec68(0x7f6)))return;if(_0x481da6['innerText']!==undefined)_0x481da6[_0x39ec68(0x2c4)]=_0x7ea0e4;else _0x481da6['textContent']=_0x7ea0e4;},_0x1c72dc=_0x806d15=>_0x806d15['replace'](/\u00A0/g,'\x20')[_0x4efd11(0x278)](/\u200B/g,'')[_0x4efd11(0x278)](/\r\n?/g,'\x0a'),_0x48deaf=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x5a3178=_0x59fd33=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x59fd33),_0x1cdf66=_0x5bf160=>{const _0x733fdf=_0x4efd11,_0x2dcc2d=(_0x5bf160['match'](/\{/g)||[])[_0x733fdf(0x431)],_0x270d36=(_0x5bf160[_0x733fdf(0x364)](/\}/g)||[])[_0x733fdf(0x431)];if(_0x2dcc2d>_0x270d36)_0x5bf160=_0x5bf160+'}'[_0x733fdf(0x666)](_0x2dcc2d-_0x270d36);return _0x5bf160;},_0x3bf69f=_0x201f4f=>{const _0x208687=_0x4efd11;let _0x5be205=_0x201f4f[_0x208687(0x598)]();const _0x11b2d4=[_0x208687(0x82b),_0x208687(0x4a8),_0x208687(0x1a8),_0x208687(0x67e),_0x208687(0x6ea),_0x208687(0x23b),'cdot',_0x208687(0x496),'leq','geq','le','ge','neq','pm',_0x208687(0x415),'sin',_0x208687(0x45c),_0x208687(0x8c0),_0x208687(0x677),'ln',_0x208687(0x54d),_0x208687(0x2c2),_0x208687(0x744),_0x208687(0x1b2),_0x208687(0x893),_0x208687(0x686),_0x208687(0x52a),_0x208687(0x188),'deg'];_0x5be205=_0x5be205[_0x208687(0x278)](new RegExp(_0x208687(0x22d)+_0x11b2d4[_0x208687(0x8b1)]('|')+_0x208687(0x11f),'g'),'\x5c'),_0x11b2d4[_0x208687(0x2a5)](_0x1c0100=>{const _0x4b88a3=_0x208687;_0x5be205=_0x5be205[_0x4b88a3(0x278)](new RegExp(_0x4b88a3(0x779)+_0x1c0100+'\x5cb','g'),(_0x5d2e05,_0x13ad5b)=>_0x13ad5b+'\x5c'+_0x1c0100);});const _0x507cb7=[[/×/g,_0x208687(0x85c)],[/·/g,_0x208687(0x725)],[/÷/g,_0x208687(0x284)],[/≤/g,_0x208687(0x173)],[/≥/g,_0x208687(0x6a2)],[/≠/g,'\x5cneq'],[/±/g,_0x208687(0x61f)],[/∑/g,_0x208687(0x70b)],[/−/g,'-']];_0x507cb7[_0x208687(0x2a5)](([_0x44ad35,_0x3acb24])=>{const _0x30cb01=_0x208687;_0x5be205=_0x5be205[_0x30cb01(0x278)](_0x44ad35,_0x3acb24);}),_0x5be205=_0x5be205[_0x208687(0x278)](/√\s*\(([^)]*)\)/g,'\x5csqrt{$1}'),_0x5be205=_0x5be205[_0x208687(0x278)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x5be205=_0x5be205[_0x208687(0x278)](/(^|[^\\])\bimes\b/g,_0x208687(0x376))[_0x208687(0x278)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x208687(0x78f))[_0x208687(0x278)](/(^|[^\\])ext\{/g,'$1\x5ctext{')[_0x208687(0x278)](/(^|[^\\])ext\(/g,_0x208687(0x629))[_0x208687(0x278)](/\\text\(([^)]*)\)/g,_0x208687(0x756))['replace'](/\s\\frac/g,'\x5cfrac'),_0x5be205=_0x5be205[_0x208687(0x278)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x44eef0,_0x1ba609,_0x3b9b6d,_0x2bd3a2)=>_0x1ba609+_0x208687(0x596)+_0x3b9b6d+'}{'+_0x2bd3a2+'}'),_0x5be205=_0x5be205[_0x208687(0x278)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x208687(0x64a))[_0x208687(0x278)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x208687(0x64a))['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x208687(0x64a)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x208687(0x3ad)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x208687(0x3ad)],[/(\d+)\s*\^\s*o\s*C\b/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x208687(0x3ad)],[/(\d+)\s*°\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x208687(0x42e)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']][_0x208687(0x2a5)](([_0x4d439c,_0x45e9c4])=>{const _0x5d874e=_0x208687;_0x5be205=_0x5be205[_0x5d874e(0x278)](_0x4d439c,_0x45e9c4);}),_0x5be205=_0x5be205['replace'](/(\d+)\s*%/g,'$1\x5c%'),_0x5be205=_0x5be205[_0x208687(0x278)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x208687(0x27b))[_0x208687(0x278)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x208687(0x85f))['replace'](/\{\{([^\{\}]+)\}\}/g,_0x208687(0x72c)),[_0x208687(0x868),_0x208687(0x45c),_0x208687(0x8c0),'log','ln'][_0x208687(0x2a5)](_0x209bee=>{const _0x323d3d=_0x208687;_0x5be205=_0x5be205['replace'](new RegExp(_0x323d3d(0x779)+_0x209bee+_0x323d3d(0x399),'g'),(_0x3acd4c,_0x5e3782)=>_0x5e3782+'\x5c'+_0x209bee+'(');});const _0x286ed5=(_0x5be205[_0x208687(0x364)](/\\left\b/g)||[])[_0x208687(0x431)],_0x257ea4=(_0x5be205['match'](/\\right\b/g)||[])[_0x208687(0x431)];if(_0x286ed5!==_0x257ea4)_0x5be205=_0x5be205[_0x208687(0x278)](/\\left\b/g,'')['replace'](/\\right\b/g,'');return _0x5be205=_0x1cdf66(_0x5be205),_0x5be205;},_0x1df5d2=_0x5949d4=>{const _0x41edef=_0x4efd11;if(/\$|\\\(|\\\[/['test'](_0x5949d4))return _0x5949d4;if(!_0x48deaf[_0x41edef(0x8d0)](_0x5949d4))return _0x5949d4;const _0x188a77=_0x5949d4['match'](/^\s*/)[0x0],_0x2a4a68=_0x5949d4['match'](/\s*$/)[0x0],_0x124a6d=_0x5949d4['trim']();return _0x188a77+'$'+_0x3bf69f(_0x124a6d)+'$'+_0x2a4a68;},_0x425fbf=_0x9589c6=>_0x9589c6[_0x4efd11(0x32a)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x5580f1[_0x4efd11(0x2a5)](_0x4d428e=>{const _0x53c427=_0x4efd11;if(_0x4d428e[_0x53c427(0x884)]&&_0x4d428e[_0x53c427(0x884)](_0x53c427(0x7f6)))return;const _0x1cd94d=_0x3f5f3b(_0x4d428e);let _0x22f44a=_0x1c72dc(_0x1cd94d);_0x22f44a=_0x22f44a['replace'](/\$\$([\s\S]*?)\$\$/g,(_0x425f5a,_0x455057)=>'$$'+_0x3bf69f(_0x455057)+'$$')[_0x53c427(0x278)](/\$([^$]*?)\$/g,(_0x201980,_0x4ffb5c)=>'$'+_0x3bf69f(_0x4ffb5c)+'$')[_0x53c427(0x278)](/\\\(([\s\S]*?)\\\)/g,(_0xecba61,_0x43f7c7)=>'\x5c('+_0x3bf69f(_0x43f7c7)+'\x5c)')[_0x53c427(0x278)](/\\\[([\s\S]*?)\\\]/g,(_0x4bb1b4,_0x32a6e4)=>'\x5c['+_0x3bf69f(_0x32a6e4)+'\x5c]');let _0x1acf95=_0x22f44a,_0x139a1f=0x0;const _0x54548e=_0x5cba54=>_0x5cba54[_0x53c427(0x278)](/S([^S]{0,2000}?)S/g,(_0x39243a,_0x173604)=>_0x48deaf[_0x53c427(0x8d0)](_0x173604)?'$'+_0x3bf69f(_0x173604)+'$':_0x39243a);while(_0x139a1f++<0x14){const _0x3fcbe6=_0x54548e(_0x1acf95);if(_0x3fcbe6===_0x1acf95)break;_0x1acf95=_0x3fcbe6;}_0x22f44a=_0x1acf95,_0x22f44a=_0x22f44a[_0x53c427(0x32a)]('\x0a')[_0x53c427(0x4cc)](_0x44ffd7=>{const _0xad54c4=_0x53c427;if(!(/[,\u3001，;；]/[_0xad54c4(0x8d0)](_0x44ffd7)||/\s(?:และ|หรือ)\s/[_0xad54c4(0x8d0)](_0x44ffd7))||!_0x48deaf[_0xad54c4(0x8d0)](_0x44ffd7))return _0x44ffd7;return _0x425fbf(_0x44ffd7)[_0xad54c4(0x4cc)](_0x4b398c=>{const _0x565568=_0xad54c4;if(/^\s(?:และ|หรือ)\s$/[_0x565568(0x8d0)](_0x4b398c)||/^[,\u3001，;；]$/[_0x565568(0x8d0)](_0x4b398c))return _0x4b398c;return _0x1df5d2(_0x4b398c);})[_0xad54c4(0x8b1)]('');})[_0x53c427(0x8b1)]('\x0a'),_0x22f44a=_0x22f44a[_0x53c427(0x32a)]('\x0a')['map'](_0x4761b0=>{const _0x51b8da=_0x53c427,_0x464e00=_0x4761b0[_0x51b8da(0x598)]();if(!_0x464e00)return _0x4761b0;const _0x52e565=/\$|\\\(|\\\[/[_0x51b8da(0x8d0)](_0x464e00),_0x75930c=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/['test'](_0x464e00);if(_0x52e565||!_0x75930c||_0x5a3178(_0x464e00))return _0x4761b0;return _0x4761b0[_0x51b8da(0x278)](_0x464e00,'$'+_0x3bf69f(_0x464e00)+'$');})[_0x53c427(0x8b1)]('\x0a'),_0x22f44a=_0x22f44a['replace'](/(\d+)\s*°\s*C\b/g,(_0x12bdd9,_0xe18b15,_0x536722,_0x4dea46)=>{const _0x3518f4=_0x53c427,_0x368331=_0x4dea46[_0x536722-0x1];if(_0x368331==='$'||_0x368331==='S'||_0x368331==='\x5c')return _0x12bdd9;return'$'+_0xe18b15+_0x3518f4(0x8a6);})[_0x53c427(0x278)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0xc5dce0,_0x594100,_0x4a01e9,_0x9d99de)=>{const _0x287e16=_0x53c427,_0x1ed5b0=_0x9d99de[_0x4a01e9-0x1];if(_0x1ed5b0==='$'||_0x1ed5b0==='S'||_0x1ed5b0==='\x5c')return _0xc5dce0;return'$'+_0x594100+_0x287e16(0x8a6);})[_0x53c427(0x278)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x334599,_0x302a78,_0xaea09e,_0x498e58)=>{const _0x21356d=_0x53c427,_0xd905f9=_0x498e58[_0xaea09e-0x1];if(_0xd905f9==='$'||_0xd905f9==='S'||_0xd905f9==='\x5c')return _0x334599;return'$'+_0x302a78+_0x21356d(0x8a6);}),_0x22f44a=_0x22f44a[_0x53c427(0x278)](/\$\s*\$/g,'$$'),_0x22f44a!==_0x1cd94d&&(_0x47304a(_0x4d428e,_0x22f44a),_0x232863++);});if(_0x232863>0x0){showMessage(_0x4efd11(0x53e)+_0x232863+_0x4efd11(0x47c));try{if(window[_0x4efd11(0x860)]&&MathJax[_0x4efd11(0x5bf)])MathJax['typesetPromise']();window[_0x4efd11(0x308)]&&typeof renderMathInElement===_0x4efd11(0x483)&&renderMathInElement(_0x373078,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x137d75){}}else showMessage(_0x4efd11(0x6a7));}async function listenForCustomMathTopics(){const _0x2bb228=_0x3fc9b3,_0x301117=collection(db,_0x2bb228(0x14c)+appId+'/public/data/customMathTopics');onSnapshot(_0x301117,_0xb1095c=>{const _0x5cfc01=_0x2bb228;customMathTopics=_0xb1095c[_0x5cfc01(0x145)][_0x5cfc01(0x4cc)](_0x12781e=>({'id':_0x12781e['id'],..._0x12781e[_0x5cfc01(0x112)]()})),renderTopicCheckboxes();},_0x4cc862=>{const _0x2f4f90=_0x2bb228;console[_0x2f4f90(0x105)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x4cc862);});}function handleSelectAllTopics(){const _0x1bde04=_0x3fc9b3,_0x37dcb8=document[_0x1bde04(0x1cf)](_0x1bde04(0x694)),_0x1fbee3=_0x37dcb8[_0x1bde04(0x7ab)]('input[type=\x22checkbox\x22]');_0x1fbee3['forEach'](_0x2110af=>{const _0x385506=_0x1bde04;_0x2110af[_0x385506(0x8b0)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x409632=_0x3fc9b3,_0x17d301=document[_0x409632(0x1cf)](_0x409632(0x694)),_0xc78b14=_0x17d301[_0x409632(0x7ab)](_0x409632(0x89c));_0xc78b14[_0x409632(0x2a5)](_0x12653d=>{const _0x4dfd36=_0x409632;_0x12653d[_0x4dfd36(0x8b0)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x1ac128){const _0xdbe986=_0x3fc9b3;if(!_0x1ac128)return;try{const _0x5c5c12=doc(db,_0xdbe986(0x14c)+appId+_0xdbe986(0x7af),_0x1ac128);await deleteDoc(_0x5c5c12),showMessage(_0xdbe986(0x25d));}catch(_0x10f402){console[_0xdbe986(0x105)](_0xdbe986(0x74a),_0x10f402),showMessage(_0xdbe986(0x31d));}}async function handleAddCustomMathTopic(){const _0xfb9232=_0x3fc9b3,_0x29e20b=document[_0xfb9232(0x1cf)](_0xfb9232(0x76b)),_0x188780=_0x29e20b[_0xfb9232(0x5f3)][_0xfb9232(0x598)]();if(!_0x188780){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0xfb9232(0x65f));return;}try{const _0x10fbe9=collection(db,_0xfb9232(0x14c)+appId+_0xfb9232(0x7af));await addDoc(_0x10fbe9,{'name':_0x188780,'createdAt':serverTimestamp()}),_0x29e20b[_0xfb9232(0x5f3)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x188780+_0xfb9232(0x721));}catch(_0x367e40){console[_0xfb9232(0x105)](_0xfb9232(0x82e),_0x367e40),showMessage(_0xfb9232(0x80d));}}async function handleUpdateOldQuizzes(){const _0x444deb=_0x3fc9b3;showConfirmation(_0x444deb(0x48e),async()=>{const _0x45e773=_0x444deb,_0xd8719a=document[_0x45e773(0x1cf)]('loader'),_0x148c10=document[_0x45e773(0x1cf)](_0x45e773(0x76e)),_0x10ddc7=_0x148c10['textContent'];_0xd8719a[_0x45e773(0x2e4)]['remove'](_0x45e773(0x36f)),_0x148c10[_0x45e773(0x52e)]=_0x45e773(0x4a5);try{const _0x419a17=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x5c7cb0=await getDocs(_0x419a17);if(_0x5c7cb0['empty']){showMessage(_0x45e773(0x5fc));return;}const _0x1690f2=writeBatch(db);let _0x2a84e8=0x0;_0x5c7cb0[_0x45e773(0x2a5)](_0x34f6be=>{const _0x422519=_0x45e773,_0x4d19c6=_0x34f6be[_0x422519(0x112)](),_0x3a43d8=_0x34f6be['id'];if(_0x4d19c6[_0x422519(0x2eb)]&&_0x4d19c6['questions'][_0x422519(0x431)]>0x0&&!_0x4d19c6[_0x422519(0x2eb)][0x0][_0x422519(0x245)]('id')){console[_0x422519(0x677)]('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x3a43d8+'\x20('+_0x4d19c6[_0x422519(0x7aa)]+')'),_0x2a84e8++;const _0x745aad=_0x4d19c6[_0x422519(0x2eb)][_0x422519(0x4cc)]((_0xce3d4d,_0x3951cb)=>{const _0xfb02ae=_0x422519;return{..._0xce3d4d,'id':_0xce3d4d['id']||'q_'+Date[_0xfb02ae(0x2e6)]()+'_'+_0x3a43d8+'_'+_0x3951cb};}),_0x4367a1=doc(db,'artifacts/'+appId+_0x422519(0x829),_0x3a43d8);_0x1690f2[_0x422519(0x66b)](_0x4367a1,{'questions':_0x745aad});}}),_0x2a84e8>0x0?(_0x148c10[_0x45e773(0x52e)]=_0x45e773(0x22f)+_0x2a84e8+_0x45e773(0x161),await _0x1690f2[_0x45e773(0x3a6)](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x2a84e8+_0x45e773(0x41d))):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x3e3960){console[_0x45e773(0x105)](_0x45e773(0x73a),_0x3e3960),showMessage(_0x45e773(0x6de)+_0x3e3960[_0x45e773(0x59c)]);}finally{_0xd8719a[_0x45e773(0x2e4)]['add'](_0x45e773(0x36f)),_0x148c10[_0x45e773(0x52e)]=_0x10ddc7;}});}async function handleBulkUpdateQuizSettings(){const _0x3ef54f=_0x3fc9b3,_0x17e6d1={'shuffle':document[_0x3ef54f(0x1cf)](_0x3ef54f(0x89b))[_0x3ef54f(0x5f3)],'resultsDisplay':document[_0x3ef54f(0x1cf)]('bulk-results-display-select')[_0x3ef54f(0x5f3)],'loopUntilPass':document[_0x3ef54f(0x1cf)](_0x3ef54f(0x871))['checked']},_0x1d2d94=allQuizzesGlobal[_0x3ef54f(0x431)];showConfirmation(_0x3ef54f(0x32b)+_0x1d2d94+_0x3ef54f(0x826),async()=>{const _0x6832a3=_0x3ef54f,_0x51353a=document[_0x6832a3(0x1cf)](_0x6832a3(0x69c));_0x51353a[_0x6832a3(0x323)]=!![],_0x51353a['innerHTML']=_0x6832a3(0x120);try{const _0x708bba=writeBatch(db);allQuizzesGlobal['forEach'](_0x470698=>{const _0x5102e8=_0x6832a3,_0x397368=doc(db,_0x5102e8(0x14c)+appId+_0x5102e8(0x829),_0x470698['id']),_0x2c214d={..._0x470698[_0x5102e8(0x6b7)]||{},..._0x17e6d1};_0x708bba[_0x5102e8(0x66b)](_0x397368,{'settings':_0x2c214d});}),await _0x708bba[_0x6832a3(0x3a6)](),document[_0x6832a3(0x1cf)](_0x6832a3(0x2f5))[_0x6832a3(0x2e4)][_0x6832a3(0x243)]('hidden'),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0x1d2d94+_0x6832a3(0x833));}catch(_0x59588d){console[_0x6832a3(0x105)](_0x6832a3(0x1f4),_0x59588d),showMessage(_0x6832a3(0x506));}finally{_0x51353a[_0x6832a3(0x323)]=![],_0x51353a[_0x6832a3(0x6da)]=_0x6832a3(0x650);}});}async function handleSaveProjectName(){const _0x52b2cd=_0x3fc9b3,_0x62ca3e=document[_0x52b2cd(0x1cf)]('project-title'),_0x521fe5=document[_0x52b2cd(0x1cf)]('save-project-name-btn'),_0x173fe2=_0x62ca3e[_0x52b2cd(0x52e)][_0x52b2cd(0x598)]();if(!_0x173fe2||!currentProjectId){showMessage(_0x52b2cd(0x5db)),_0x62ca3e[_0x52b2cd(0x52e)]=currentProjectData['projectName'];return;}_0x521fe5['disabled']=!![],_0x521fe5[_0x52b2cd(0x6da)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x47b101=doc(db,_0x52b2cd(0x14c)+appId+_0x52b2cd(0x5ce),currentProjectId);await updateDoc(_0x47b101,{'projectName':_0x173fe2}),currentProjectData&&(currentProjectData['projectName']=_0x173fe2),showMessage(_0x52b2cd(0x5be));}catch(_0x5d76de){console[_0x52b2cd(0x105)](_0x52b2cd(0x4bd),_0x5d76de),showMessage(_0x52b2cd(0x81f)),_0x62ca3e[_0x52b2cd(0x52e)]=currentProjectData['projectName'];}finally{_0x521fe5[_0x52b2cd(0x2e4)][_0x52b2cd(0x243)](_0x52b2cd(0x36f)),_0x521fe5['disabled']=![],_0x521fe5[_0x52b2cd(0x6da)]=_0x52b2cd(0x2fb);}}async function initialize(){const _0x441a4f=_0x3fc9b3;try{const _0x276f74=initializeApp(firebaseConfig);db=getFirestore(_0x276f74),auth=getAuth(_0x276f74),setupAuthListener(),setupEventListeners(),showView(_0x441a4f(0x7b4)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x47d122){console[_0x441a4f(0x105)](_0x441a4f(0x224),_0x47d122),showMessage(_0x441a4f(0x31f));}}async function handleVerifyAnswersInEditor(){const _0x1f811e=_0x3fc9b3,_0x3b0119=document['getElementById']('quiz-editor-modal');if(!_0x3b0119)return;const _0x396b81=document[_0x1f811e(0x1cf)](_0x1f811e(0x59b));_0x396b81['disabled']=!![],_0x396b81[_0x1f811e(0x6da)]=_0x1f811e(0x355);try{const _0x39f454=_0x3b0119[_0x1f811e(0x7ab)](_0x1f811e(0x8ba)),_0x5217c6=Array[_0x1f811e(0x40c)](_0x39f454)[_0x1f811e(0x4cc)]((_0x2602ab,_0xa5eef4)=>{const _0x18a7cd=_0x1f811e,_0x4c0f1a=_0x2602ab['dataset'][_0x18a7cd(0x723)],_0x415610=_0x2602ab[_0x18a7cd(0x884)]('textarea')[_0x18a7cd(0x5f3)];let _0x351cde=null,_0x15cb1a='';switch(_0x4c0f1a){case _0x18a7cd(0x207):const _0x289c63=_0x2602ab[_0x18a7cd(0x7ab)](_0x18a7cd(0x5a5));_0x351cde=Array[_0x18a7cd(0x40c)](_0x289c63)[_0x18a7cd(0x4cc)](_0x33ad51=>_0x33ad51[_0x18a7cd(0x5f3)]);const _0x413111=_0x2602ab[_0x18a7cd(0x884)](_0x18a7cd(0x43d));_0x413111&&(_0x15cb1a=_0x351cde[parseInt(_0x413111[_0x18a7cd(0x5f3)])]);break;case _0x18a7cd(0x5cf):_0x15cb1a=_0x2602ab['querySelector']('.ideal-answer-input')[_0x18a7cd(0x5f3)];break;case _0x18a7cd(0x288):const _0x18f0f5=_0x2602ab[_0x18a7cd(0x884)]('input[type=\x22radio\x22]:checked');_0x15cb1a=_0x18f0f5?_0x18f0f5[_0x18a7cd(0x5f3)]:'';break;case _0x18a7cd(0x454):_0x15cb1a=_0x2602ab['querySelector']('.correct-response-input')['value'];break;}return{'question':_0x415610,'options':_0x351cde,'proposedAnswer':_0x15cb1a};}),_0x7c4378=_0x1f811e(0x845)+JSON[_0x1f811e(0x150)](_0x5217c6)+_0x1f811e(0x71a),_0x3c2c6a={'type':_0x1f811e(0x393),'items':{'type':_0x1f811e(0x1af),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x1f811e(0x520)},'suggestedAnswer':{'type':_0x1f811e(0x520)}},'required':[_0x1f811e(0x4e3),_0x1f811e(0x626),_0x1f811e(0x8b6)]}},_0x216dd4=await callAnalysisApi(_0x7c4378,{'type':_0x1f811e(0x1af),'properties':{'result':_0x3c2c6a},'required':['result']});displayVerificationResultsInEditor(_0x216dd4[_0x1f811e(0x1cd)]);}catch(_0xefcf4b){console['error'](_0x1f811e(0x6a6),_0xefcf4b),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x396b81[_0x1f811e(0x323)]=![],_0x396b81['innerHTML']=_0x1f811e(0x287);}}function displayVerificationResultsInEditor(_0x2e6b00){const _0x1b5ca0=_0x3fc9b3;_0x2e6b00['forEach'](_0x158548=>{const _0x3dd60a=_0xcf86,_0x5024a9=document[_0x3dd60a(0x884)](_0x3dd60a(0x6a1)+_0x158548[_0x3dd60a(0x4e3)]+'\x22]');if(_0x5024a9){const _0x470adb=_0x5024a9[_0x3dd60a(0x884)](_0x3dd60a(0x43a));if(_0x470adb)_0x470adb[_0x3dd60a(0x495)]();let _0xd71990='';_0x158548[_0x3dd60a(0x626)]?_0xd71990='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':_0xd71990='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x158548[_0x3dd60a(0x8b6)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x158548['suggestedAnswer']?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x158548[_0x3dd60a(0x53d)]+_0x3dd60a(0x808):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x5024a9[_0x3dd60a(0x739)](_0x3dd60a(0x577),_0xd71990);}}),showMessage(_0x1b5ca0(0x1e1));}async function handleVerifyAnswers(){const _0x1b6da3=_0x3fc9b3;if(!currentQuizData||!currentQuizData[_0x1b6da3(0x2eb)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x303e0f=document[_0x1b6da3(0x1cf)](_0x1b6da3(0x1f5));_0x303e0f[_0x1b6da3(0x323)]=!![],_0x303e0f['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x410abb=currentQuizData['questions'][_0x1b6da3(0x4cc)]((_0x4d4b0b,_0x41202d)=>{const _0x3b6a40=_0x1b6da3;let _0x2e431f='';const _0x25da8b=_0x4d4b0b['questionType']||currentQuizData[_0x3b6a40(0x126)];switch(_0x25da8b){case _0x3b6a40(0x207):_0x2e431f=_0x4d4b0b[_0x3b6a40(0x77d)][_0x4d4b0b['correctAnswerIndex']];break;case _0x3b6a40(0x5cf):_0x2e431f=_0x4d4b0b[_0x3b6a40(0x6b3)];break;case'true_false':_0x2e431f=_0x4d4b0b[_0x3b6a40(0x6c1)][_0x3b6a40(0x27e)]();break;case _0x3b6a40(0x454):_0x2e431f=_0x4d4b0b[_0x3b6a40(0x76a)];break;}return{'question':_0x4d4b0b[_0x3b6a40(0x2d7)]||_0x4d4b0b[_0x3b6a40(0x5a3)],'options':_0x4d4b0b[_0x3b6a40(0x77d)]||null,'proposedAnswer':_0x2e431f};}),_0x43b983=_0x1b6da3(0x2d6)+JSON['stringify'](_0x410abb)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x33573d={'type':_0x1b6da3(0x393),'items':{'type':_0x1b6da3(0x1af),'properties':{'questionIndex':{'type':_0x1b6da3(0x1a1)},'isCorrect':{'type':_0x1b6da3(0x4d0)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':'STRING'}},'required':[_0x1b6da3(0x4e3),_0x1b6da3(0x626),'justification']}},_0x9c3326=await callAnalysisApi(_0x43b983,{'type':_0x1b6da3(0x1af),'properties':{'result':_0x33573d},'required':[_0x1b6da3(0x1cd)]});displayVerificationResults(_0x9c3326[_0x1b6da3(0x1cd)]);}catch(_0x1aef98){console['error'](_0x1b6da3(0x51d),_0x1aef98),showMessage(_0x1b6da3(0x5ea));}finally{_0x303e0f[_0x1b6da3(0x323)]=![],_0x303e0f[_0x1b6da3(0x6da)]=_0x1b6da3(0x73f);}}function displayVerificationResults(_0x47d15f){const _0x398ee6=_0x3fc9b3;_0x47d15f[_0x398ee6(0x2a5)](_0x23da36=>{const _0x2c817c=_0x398ee6,_0x150b75=document[_0x2c817c(0x884)](_0x2c817c(0x223)+_0x23da36[_0x2c817c(0x4e3)]+'\x22]');if(_0x150b75){const _0x25a0f7=_0x150b75[_0x2c817c(0x884)](_0x2c817c(0x573));if(_0x25a0f7)_0x25a0f7[_0x2c817c(0x495)]();let _0x341e07='';_0x23da36[_0x2c817c(0x626)]?_0x341e07=_0x2c817c(0x1a2):_0x341e07='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x23da36[_0x2c817c(0x8b6)]+_0x2c817c(0x796)+(_0x23da36[_0x2c817c(0x53d)]?_0x2c817c(0x4f8)+_0x23da36[_0x2c817c(0x53d)]+_0x2c817c(0x808):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x150b75[_0x2c817c(0x739)](_0x2c817c(0x577),_0x341e07);}}),showMessage(_0x398ee6(0x1e1));}function compareNumericalAnswers(_0x25bf26,_0x4ea9d1){const _0x5b1238=_0x3fc9b3,_0x163556=String(_0x25bf26)[_0x5b1238(0x278)](',','.')[_0x5b1238(0x278)](/[^\d.-]/g,'')[_0x5b1238(0x598)](),_0x4aafc4=String(_0x4ea9d1)[_0x5b1238(0x278)](',','.')['replace'](/[^\d.-]/g,'')['trim']();if(_0x163556===''||_0x4aafc4==='')return![];const _0x4c4ece=parseFloat(_0x163556),_0x349bcb=parseFloat(_0x4aafc4);if(isNaN(_0x4c4ece)||isNaN(_0x349bcb))return![];return Math['abs'](_0x4c4ece-_0x349bcb)<0.001;}async function gradeShortAnswer(_0x54ffc9,_0x419e62){const _0x4102cd=_0x3fc9b3,_0x58cad1=_0x419e62[_0x4102cd(0x6b3)];if(String(_0x54ffc9)[_0x4102cd(0x598)]()[_0x4102cd(0x56f)]()===String(_0x58cad1)[_0x4102cd(0x598)]()[_0x4102cd(0x56f)]())return!![];if(compareNumericalAnswers(_0x54ffc9,_0x58cad1))return!![];return console[_0x4102cd(0x677)](_0x4102cd(0x81d)),await gradeShortAnswerWithAI(_0x54ffc9,_0x58cad1);}async function revealAnswerForAdmin(_0x486997,_0x24bed6){const _0x503c6e=_0x3fc9b3;if(document[_0x503c6e(0x1cf)](_0x503c6e(0x1fd)))return;const _0x4869c6=doc(db,_0x503c6e(0x14c)+appId+_0x503c6e(0x827),currentLiveGameId);await updateDoc(_0x4869c6,{'questionStatus':'revealed'});const _0xec1dfe=liveGameView[_0x503c6e(0x884)]('[data-is-correct=\x22true\x22]');_0xec1dfe&&(_0xec1dfe[_0x503c6e(0x2e4)]['remove'](_0x503c6e(0x209)),_0xec1dfe[_0x503c6e(0x2e4)][_0x503c6e(0x243)](_0x503c6e(0x358),'text-green-900','font-bold',_0x503c6e(0x823),_0x503c6e(0x86e)),_0xec1dfe[_0x503c6e(0x6da)]='<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>'+_0xec1dfe[_0x503c6e(0x6da)]);const _0x53a867=document[_0x503c6e(0x1cf)](_0x503c6e(0x203));_0x53a867&&(_0x53a867[_0x503c6e(0x6da)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x486997+0x1===_0x24bed6?_0x503c6e(0x356):_0x503c6e(0x2b4))+_0x503c6e(0x61a),document['getElementById'](_0x503c6e(0x1fd))[_0x503c6e(0x87d)](_0x503c6e(0x79f),async()=>{const _0x2bf854=_0x503c6e,_0x2cf0fb=doc(db,_0x2bf854(0x14c)+appId+'/public/data/liveGames',currentLiveGameId),_0x2024f9=await getDoc(_0x2cf0fb);if(!_0x2024f9[_0x2bf854(0x2a4)]())return;const _0x215661=_0x2024f9[_0x2bf854(0x112)](),_0x23891a={};if(_0x215661[_0x2bf854(0x7d9)])for(const _0x18dcbd in _0x215661[_0x2bf854(0x7d9)]){_0x23891a[_0x2bf854(0x379)+_0x18dcbd+_0x2bf854(0x5bd)]=![];}const _0x1d22cd=_0x486997+0x1;_0x1d22cd<_0x24bed6?(_0x23891a[_0x2bf854(0x3d8)]=_0x1d22cd,_0x23891a['questionDisplayedAt']=serverTimestamp(),_0x23891a[_0x2bf854(0x71f)]='answering',await updateDoc(_0x2cf0fb,_0x23891a)):await updateDoc(_0x2cf0fb,{'status':_0x2bf854(0x17e)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x14cd2a=>{const _0x92e757=_0xcf86;if(_0x14cd2a){userId=_0x14cd2a[_0x92e757(0x283)],userIdDisplay[_0x92e757(0x52e)]=userId;const _0x303b31=await loadUserPreferences();_0x303b31[_0x92e757(0x7a5)]&&(document[_0x92e757(0x1cf)](_0x92e757(0x338))['value']=_0x303b31[_0x92e757(0x7a5)]);globalDashboardSettings[_0x92e757(0x4f4)]=_0x303b31[_0x92e757(0x4f4)]||_0x92e757(0x4d1);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x3937c0,_0x58967f){const _0x1fddeb=_0x3fc9b3;if(!userId)return;try{const _0x3de2c6=doc(db,_0x1fddeb(0x14c)+appId+_0x1fddeb(0x22c)+userId+_0x1fddeb(0x830)),_0x4687c3={};_0x4687c3[_0x3937c0]=_0x58967f,await setDoc(_0x3de2c6,_0x4687c3,{'merge':!![]});}catch(_0x1022cf){console[_0x1fddeb(0x105)](_0x1fddeb(0x748),_0x1022cf);}}async function loadUserPreferences(){const _0x3540e2=_0x3fc9b3;if(!userId)return{};try{const _0x32660b=doc(db,_0x3540e2(0x14c)+appId+'/users/'+userId+_0x3540e2(0x830)),_0x581e5f=await getDoc(_0x32660b);if(_0x581e5f[_0x3540e2(0x2a4)]())return _0x581e5f['data']();return{};}catch(_0x436b55){return console[_0x3540e2(0x105)](_0x3540e2(0x762),_0x436b55),{};}}function showPodiumView(_0x1896a1){const _0x5e2579=_0x3fc9b3,_0x51f3fb=Object[_0x5e2579(0x3ae)](_0x1896a1)[_0x5e2579(0x4cc)](([_0x2dc57f,_0x229763])=>({'name':_0x2dc57f,'score':_0x229763[_0x5e2579(0x28c)]||0x0,'badges':_0x229763[_0x5e2579(0x543)]||[]}));_0x51f3fb['sort']((_0x365990,_0x3874ff)=>{const _0x1cf136=_0x5e2579,_0x50e2dc=_0x3874ff[_0x1cf136(0x28c)]-_0x365990[_0x1cf136(0x28c)];if(_0x50e2dc!==0x0)return _0x50e2dc;return(_0x3874ff[_0x1cf136(0x543)][_0x1cf136(0x431)]||0x0)-(_0x365990['badges'][_0x1cf136(0x431)]||0x0);});const _0x1f2f46=_0x129961=>{const _0x4a7d19=_0x5e2579;if(!_0x129961||_0x129961[_0x4a7d19(0x431)]===0x0)return'';const _0x2f7794={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x4a7d19(0x6a3)+_0x129961[_0x4a7d19(0x4cc)](_0x53002b=>_0x2f7794[_0x53002b]||'')[_0x4a7d19(0x8b1)]('')+_0x4a7d19(0x2e9);},_0x144047=_0x51f3fb['slice'](0x3),_0x37517e=_0x144047[_0x5e2579(0x431)]>0x0?_0x5e2579(0x5d7)+_0x144047[_0x5e2579(0x4cc)]((_0x5d64f4,_0x41029e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x41029e+0x4)+_0x5e2579(0x5a7)+_0x5d64f4[_0x5e2579(0x692)]+_0x5e2579(0x541)+_0x5d64f4[_0x5e2579(0x28c)]+_0x5e2579(0x386))[_0x5e2579(0x8b1)]('')+_0x5e2579(0x620):'',_0x460e69=_0x5e2579(0x600)+(_0x51f3fb[0x1]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x51f3fb[0x1][_0x5e2579(0x692)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f2f46(_0x51f3fb[0x1][_0x5e2579(0x543)])+_0x5e2579(0x391)+_0x51f3fb[0x1][_0x5e2579(0x28c)]+_0x5e2579(0x170):_0x5e2579(0x490))+_0x5e2579(0x4aa)+(_0x51f3fb[0x0]?_0x5e2579(0x681)+_0x51f3fb[0x0]['name']+_0x5e2579(0x1d6)+_0x1f2f46(_0x51f3fb[0x0][_0x5e2579(0x543)])+_0x5e2579(0x1e4)+_0x51f3fb[0x0][_0x5e2579(0x28c)]+_0x5e2579(0x56b):_0x5e2579(0x490))+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x51f3fb[0x2]?_0x5e2579(0x704)+_0x51f3fb[0x2]['name']+_0x5e2579(0x1d6)+_0x1f2f46(_0x51f3fb[0x2][_0x5e2579(0x543)])+_0x5e2579(0x391)+_0x51f3fb[0x2]['score']+_0x5e2579(0x465):'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37517e+_0x5e2579(0x872)+(currentMode===_0x5e2579(0x70a)?_0x5e2579(0x682):_0x5e2579(0x619))+_0x5e2579(0x75e);liveGameView[_0x5e2579(0x6da)]=_0x460e69,currentMode==='admin'&&document[_0x5e2579(0x1cf)](_0x5e2579(0x774))[_0x5e2579(0x87d)](_0x5e2579(0x79f),async()=>{const _0x1c99ea=_0x5e2579,_0x50e063=doc(db,_0x1c99ea(0x14c)+appId+_0x1c99ea(0x827),currentLiveGameId);await deleteDoc(_0x50e063),showView(_0x1c99ea(0x65a));});}async function handleStartLiveRace(_0x2ebe79){const _0x4c992d=_0x3fc9b3;let _0x378079=allQuizzes['find'](_0x15bf75=>_0x15bf75['id']===_0x2ebe79);if(!_0x378079){const _0x546596=doc(db,'artifacts/'+appId+_0x4c992d(0x829),_0x2ebe79),_0x39ef88=await getDoc(_0x546596);if(!_0x39ef88[_0x4c992d(0x2a4)]()){showMessage(_0x4c992d(0x1df));return;}_0x378079={'id':_0x39ef88['id'],..._0x39ef88['data']()};}currentQuizData=getShuffledQuiz(_0x378079);const _0x3e74bd=_0x378079[_0x4c992d(0x499)]||currentProjectId||null,_0x30a811=Math[_0x4c992d(0x802)](0x3e8+Math[_0x4c992d(0x7bf)]()*0x2328)['toString']();currentLiveGamePin=_0x30a811;try{const _0x3fcb29=await addDoc(collection(db,'artifacts/'+appId+_0x4c992d(0x827)),{'quizId':_0x2ebe79,'projectId':_0x3e74bd,'status':_0x4c992d(0x31b),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x30a811,'createdAt':serverTimestamp()});currentLiveGameId=_0x3fcb29['id'],showAdminLobbyView(_0x30a811,_0x378079[_0x4c992d(0x7aa)]),listenForLiveGameUpdates();}catch(_0x215783){console[_0x4c992d(0x105)](_0x4c992d(0x3b5),_0x215783),showMessage(_0x4c992d(0x855));}}async function handleShowStudentRankings(){const _0x49c776=_0x3fc9b3,_0x3f42bd=document['querySelector'](_0x49c776(0x13e));_0x3f42bd&&(_0x3f42bd[_0x49c776(0x6da)]=_0x49c776(0x32e));const _0x571921=document[_0x49c776(0x884)](_0x49c776(0x4d5));_0x571921&&(_0x571921[_0x49c776(0x6da)]=_0x49c776(0x750));const _0x19abfc=document['getElementById'](_0x49c776(0x52f));_0x19abfc[_0x49c776(0x2e4)][_0x49c776(0x495)](_0x49c776(0x36f)),document[_0x49c776(0x1cf)](_0x49c776(0x6d1))[_0x49c776(0x377)]=()=>_0x19abfc[_0x49c776(0x2e4)]['add'](_0x49c776(0x36f));const _0x5b4149=document['getElementById'](_0x49c776(0x549)),_0x24bf36=document[_0x49c776(0x1cf)](_0x49c776(0x5da)),_0x64ab42=document['getElementById']('student-quiz-leaderboard-content'),_0x12e458=document[_0x49c776(0x1cf)]('student-project-leaderboard-content');_0x5b4149[_0x49c776(0x377)]=()=>{const _0x1800ef=_0x49c776;_0x5b4149['classList']['add'](_0x1800ef(0x299)),_0x24bf36[_0x1800ef(0x2e4)]['remove'](_0x1800ef(0x299)),_0x64ab42['classList'][_0x1800ef(0x495)](_0x1800ef(0x36f)),_0x12e458['classList'][_0x1800ef(0x243)]('hidden');},_0x24bf36[_0x49c776(0x377)]=()=>{const _0xc1806f=_0x49c776;_0x24bf36['classList']['add']('active'),_0x5b4149[_0xc1806f(0x2e4)][_0xc1806f(0x495)](_0xc1806f(0x299)),_0x12e458[_0xc1806f(0x2e4)]['remove'](_0xc1806f(0x36f)),_0x64ab42[_0xc1806f(0x2e4)]['add'](_0xc1806f(0x36f));};try{const _0x24af6d=collection(db,_0x49c776(0x14c)+appId+_0x49c776(0x576)+currentQuizData['id']+'/submissions'),_0x5eb4be=await getDocs(_0x24af6d),_0x5680a6=_0x5eb4be[_0x49c776(0x145)]['map'](_0x38df80=>_0x38df80['data']());renderQuizLeaderboard(_0x5680a6,currentQuizData,_0x49c776(0x3ea));const _0x248c9c=collection(db,_0x49c776(0x14c)+appId+_0x49c776(0x3c7)+currentQuizData['projectId']+_0x49c776(0x282)),_0x194d22=await getDocs(_0x248c9c),_0x49b8ff=_0x194d22[_0x49c776(0x145)][_0x49c776(0x4cc)](_0xba1dd3=>_0xba1dd3[_0x49c776(0x112)]());renderLeaderboard(_0x49b8ff,'student-project-leaderboard-table-body');}catch(_0x4e1a13){console['error'](_0x49c776(0x1d0),_0x4e1a13),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x40da12){const _0xd5883e=_0x3fc9b3,_0x5b0cee=_0x40da12[_0xd5883e(0x10c)],_0xe0fdaf=_0x5b0cee[_0xd5883e(0x217)][_0xd5883e(0x461)],_0x3e7f1f=currentQuizData[_0xd5883e(0x2eb)][_0xe0fdaf];if(!userId){showMessage(_0xd5883e(0xfc));return;}try{const _0x202948={..._0x3e7f1f,'originalTopic':currentQuizData[_0xd5883e(0x7aa)],'savedAt':serverTimestamp()},_0x1c946a=collection(db,_0xd5883e(0x14c)+appId+'/users/'+userId+_0xd5883e(0x47d));await addDoc(_0x1c946a,_0x202948),showMessage(_0xd5883e(0x406)),_0x5b0cee[_0xd5883e(0x2e4)][_0xd5883e(0x495)](_0xd5883e(0x4b7)),_0x5b0cee['classList'][_0xd5883e(0x243)]('text-green-600'),_0x5b0cee[_0xd5883e(0x323)]=!![];}catch(_0xf2e51a){console[_0xd5883e(0x105)]('Error\x20saving\x20to\x20question\x20bank:',_0xf2e51a),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function listenForStarredQuizzes(){const _0x3b1f70=_0x3fc9b3;if(!userId)return;const _0x202bfc=collection(db,_0x3b1f70(0x14c)+appId+_0x3b1f70(0x829)),_0x53385b=query(_0x202bfc,where(_0x3b1f70(0x4ea),'==',!![]));onSnapshot(_0x53385b,_0x14727e=>{const _0x1d986e=_0x3b1f70;starredQuizzes=_0x14727e[_0x1d986e(0x145)][_0x1d986e(0x4cc)](_0x3eac02=>({'id':_0x3eac02['id'],..._0x3eac02[_0x1d986e(0x112)]()})),currentProjectId===_0x1d986e(0x5ef)?renderQuizzes():renderProjects();},_0x11ee19=>{const _0x194893=_0x3b1f70;console['error'](_0x194893(0x675),_0x11ee19);});}function exportQuizAsWorksheetPDF(){const _0x3b7984=_0x3fc9b3;if(!currentQuizData||!currentQuizData[_0x3b7984(0x2eb)]){showMessage(_0x3b7984(0x16e));return;}const _0x4153d1=currentQuizData,_0x327129=window[_0x3b7984(0x3e1)]('','_blank'),_0x4d0c07=_0x2b469d=>String[_0x3b7984(0x698)](0x41+_0x2b469d),_0x4c2f5d=_0x3b7984(0x152)+_0x4153d1[_0x3b7984(0x7aa)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x4153d1['topic']+_0x3b7984(0x17f)+_0x4153d1[_0x3b7984(0x2eb)][_0x3b7984(0x4cc)]((_0x2a7114,_0x742030)=>{const _0x5eaf4a=_0x3b7984;let _0x1f2810='';const _0x2a499e=_0x2a7114[_0x5eaf4a(0x7e0)]||_0x4153d1[_0x5eaf4a(0x126)];switch(_0x2a499e){case _0x5eaf4a(0x207):case _0x5eaf4a(0x8d7):_0x1f2810=_0x5eaf4a(0x3b7)+_0x2a7114[_0x5eaf4a(0x77d)][_0x5eaf4a(0x4cc)]((_0x568fa4,_0x2d30d6)=>_0x5eaf4a(0x171)+_0x4d0c07(_0x2d30d6)+'.\x20'+_0x568fa4+_0x5eaf4a(0x722))[_0x5eaf4a(0x8b1)](_0x5eaf4a(0x273))+'</div>';break;case _0x5eaf4a(0x288):_0x1f2810=_0x5eaf4a(0x788);break;default:_0x1f2810=_0x5eaf4a(0x800);break;}return _0x5eaf4a(0x82a)+(_0x742030+0x1)+_0x5eaf4a(0x747)+(_0x2a7114['stem']||_0x2a7114[_0x5eaf4a(0x5a3)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2a7114[_0x5eaf4a(0x41f)]?_0x5eaf4a(0x5ff)+_0x2a7114[_0x5eaf4a(0x41f)]+_0x5eaf4a(0x2e9):'')+_0x5eaf4a(0x325)+_0x1f2810+_0x5eaf4a(0x18f);})[_0x3b7984(0x8b1)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x327129['document'][_0x3b7984(0x5d5)](_0x4c2f5d),_0x327129['document'][_0x3b7984(0x787)](),_0x327129['onload']=function(){setTimeout(()=>{const _0x198531=_0xcf86;_0x327129[_0x198531(0x4bb)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x59c7ff=_0x3fc9b3;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x315356=currentQuizData,_0x424c72=window['open']('',_0x59c7ff(0x144)),_0x43910a=_0x565b5c=>String[_0x59c7ff(0x698)](0x41+_0x565b5c),_0x12317a=_0x59c7ff(0x4c1)+_0x315356[_0x59c7ff(0x7aa)]+_0x59c7ff(0x6b1)+_0x315356['questions'][_0x59c7ff(0x4cc)]((_0x37704d,_0x27d61b)=>{const _0x1ccb96=_0x59c7ff;let _0x2f24ab='';const _0x32ee65=_0x37704d['questionType']||_0x315356[_0x1ccb96(0x126)];switch(_0x32ee65){case _0x1ccb96(0x207):case _0x1ccb96(0x8d7):_0x2f24ab=_0x1ccb96(0x40e)+_0x37704d[_0x1ccb96(0x77d)]['map']((_0x43583a,_0x208f96)=>_0x1ccb96(0x3c9)+_0x43910a(_0x208f96)+'.\x20'+_0x43583a+_0x1ccb96(0x41b))[_0x1ccb96(0x8b1)](_0x1ccb96(0x273))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x1ccb96(0x288):_0x2f24ab='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x2f24ab='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x315356['topic']+_0x1ccb96(0x672)+(_0x27d61b+0x1)+_0x1ccb96(0x82d)+(_0x37704d[_0x1ccb96(0x2d7)]||_0x37704d[_0x1ccb96(0x5a3)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x37704d[_0x1ccb96(0x41f)]?_0x1ccb96(0x504)+_0x37704d[_0x1ccb96(0x41f)]+_0x1ccb96(0x2e9):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f24ab+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x424c72['document']['write'](_0x12317a),_0x424c72[_0x59c7ff(0x6a9)][_0x59c7ff(0x787)](),_0x424c72[_0x59c7ff(0x81c)]=function(){setTimeout(()=>{const _0x60a202=_0xcf86;_0x424c72[_0x60a202(0x4bb)]();},0x5dc);};}async function handleToggleStarQuiz(_0x31b548){const _0x3d7732=_0x3fc9b3,_0x394c0a=doc(db,_0x3d7732(0x14c)+appId+'/public/data/quizzes',_0x31b548);try{const _0xcc7c21=await getDoc(_0x394c0a);if(_0xcc7c21[_0x3d7732(0x2a4)]()){const _0x591eb0=_0xcc7c21[_0x3d7732(0x112)]()[_0x3d7732(0x4ea)]||![];await updateDoc(_0x394c0a,{'isStarred':!_0x591eb0});}}catch(_0x5d376e){console[_0x3d7732(0x105)](_0x3d7732(0x2f9),_0x5d376e),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x28d7d8=_0x3fc9b3,_0x345d3d=document[_0x28d7d8(0x1cf)](_0x28d7d8(0x305));_0x345d3d[_0x28d7d8(0x6da)]=_0x28d7d8(0x4db);try{const _0x2e9852=collection(db,_0x28d7d8(0x14c)+appId+'/users/'+userId+_0x28d7d8(0x47d)),_0x2239b6=query(_0x2e9852),_0x555026=await getDocs(_0x2239b6);if(_0x555026[_0x28d7d8(0x114)]){_0x345d3d[_0x28d7d8(0x6da)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x40acfc=_0x555026[_0x28d7d8(0x145)][_0x28d7d8(0x4cc)](_0x9f8295=>{const _0x20a9de=_0x28d7d8,_0x2bfeed=_0x9f8295[_0x20a9de(0x112)](),_0x330c79=_0x9f8295['id'];return _0x20a9de(0x117)+JSON['stringify'](_0x2bfeed)+_0x20a9de(0x61c)+(_0x2bfeed['questionText']||_0x2bfeed[_0x20a9de(0x2d7)])+_0x20a9de(0x1de)+_0x2bfeed['originalTopic']+_0x20a9de(0x820);})[_0x28d7d8(0x8b1)]('');_0x345d3d[_0x28d7d8(0x6da)]=_0x28d7d8(0x2a9)+_0x40acfc+_0x28d7d8(0x57d),document[_0x28d7d8(0x1cf)](_0x28d7d8(0x2bd))[_0x28d7d8(0x87d)](_0x28d7d8(0x79f),createQuizFromBank);}catch(_0x531a8c){console['error'](_0x28d7d8(0x782),_0x531a8c),_0x345d3d[_0x28d7d8(0x6da)]=_0x28d7d8(0x63f);}}function showAdminLiveQuestionView(_0x1d1d9c,_0x1ab9f3,_0x5e5ecd){const _0x2acbdb=_0x3fc9b3,_0x3efee3=_0x1d1d9c[_0x2acbdb(0x7e0)]||currentQuizData[_0x2acbdb(0x126)];let _0x3b2f73='';if(_0x3efee3===_0x2acbdb(0x207)||_0x3efee3===_0x2acbdb(0x288)){const _0x47bf3b=_0x3efee3===_0x2acbdb(0x288)?[_0x2acbdb(0x693),_0x2acbdb(0x262)]:_0x1d1d9c[_0x2acbdb(0x77d)],_0x464109=_0x3efee3===_0x2acbdb(0x288)?_0x1d1d9c[_0x2acbdb(0x6c1)]?0x0:0x1:_0x1d1d9c[_0x2acbdb(0x211)];_0x3b2f73=_0x47bf3b['map']((_0x3453fc,_0x1e2f62)=>_0x2acbdb(0x359)+(_0x1e2f62===_0x464109)+_0x2acbdb(0x1ca)+_0x3453fc+_0x2acbdb(0x74b))['join']('');}else{if(_0x3efee3==='matching_item'){const _0x2fd4f9=_0x1d1d9c[_0x2acbdb(0x16d)]||[];_0x3b2f73=_0x2fd4f9[_0x2acbdb(0x4cc)](_0x1dd7b7=>_0x2acbdb(0x359)+(_0x1dd7b7===_0x1d1d9c[_0x2acbdb(0x76a)])+_0x2acbdb(0x1ca)+_0x1dd7b7+_0x2acbdb(0x74b))[_0x2acbdb(0x8b1)]('');}}const _0x747d2b=_0x1d1d9c[_0x2acbdb(0x2d7)]||_0x1d1d9c[_0x2acbdb(0x5a3)],_0x991b44='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x1ab9f3+0x1)+_0x2acbdb(0x6c3)+_0x5e5ecd+_0x2acbdb(0x874)+_0x747d2b+_0x2acbdb(0x142)+_0x3b2f73+_0x2acbdb(0x2d9);liveGameView[_0x2acbdb(0x6da)]=_0x991b44;window[_0x2acbdb(0x860)]&&MathJax[_0x2acbdb(0x5bf)]&&MathJax['typesetPromise']([liveGameView]);const _0x4541e0=document[_0x2acbdb(0x1cf)](_0x2acbdb(0x203));document[_0x2acbdb(0x1cf)](_0x2acbdb(0x41a))[_0x2acbdb(0x87d)](_0x2acbdb(0x79f),async()=>{const _0x3adf73=_0x2acbdb,_0x348181=doc(db,_0x3adf73(0x14c)+appId+_0x3adf73(0x827),currentLiveGameId);await updateDoc(_0x348181,{'questionStatus':_0x3adf73(0x16f)});const _0x5e8b87=liveGameView[_0x3adf73(0x884)](_0x3adf73(0x428));_0x5e8b87&&(_0x5e8b87[_0x3adf73(0x2e4)][_0x3adf73(0x495)](_0x3adf73(0x209)),_0x5e8b87[_0x3adf73(0x2e4)]['add'](_0x3adf73(0x358),'text-green-900',_0x3adf73(0x235),_0x3adf73(0x823),'border-green-500'),_0x5e8b87[_0x3adf73(0x6da)]=_0x3adf73(0x1c4)+_0x5e8b87[_0x3adf73(0x6da)]),_0x4541e0['innerHTML']=_0x3adf73(0x1be)+(_0x1ab9f3+0x1===_0x5e5ecd?_0x3adf73(0x356):_0x3adf73(0x2b4))+_0x3adf73(0x61a),document[_0x3adf73(0x1cf)](_0x3adf73(0x1fd))[_0x3adf73(0x87d)](_0x3adf73(0x79f),async()=>{const _0x4f138a=_0x3adf73,_0x53e199=doc(db,_0x4f138a(0x14c)+appId+_0x4f138a(0x827),currentLiveGameId),_0x247545=await getDoc(_0x53e199);if(!_0x247545[_0x4f138a(0x2a4)]())return;const _0x1bd361=_0x247545[_0x4f138a(0x112)](),_0x52150e={};if(_0x1bd361['players'])for(const _0x10bbcc in _0x1bd361[_0x4f138a(0x7d9)]){_0x52150e['players.'+_0x10bbcc+_0x4f138a(0x5bd)]=![];}const _0x4266c6=_0x1ab9f3+0x1;_0x4266c6<_0x5e5ecd?(_0x52150e[_0x4f138a(0x3d8)]=_0x4266c6,_0x52150e[_0x4f138a(0x627)]=serverTimestamp(),_0x52150e[_0x4f138a(0x71f)]=_0x4f138a(0x2ac),await updateDoc(_0x53e199,_0x52150e)):await updateDoc(_0x53e199,{'status':'podium'});});}),document[_0x2acbdb(0x1cf)](_0x2acbdb(0x548))[_0x2acbdb(0x87d)](_0x2acbdb(0x79f),async()=>{const _0x2b6bf1=_0x2acbdb,_0x1c9137=doc(db,_0x2b6bf1(0x14c)+appId+_0x2b6bf1(0x827),currentLiveGameId);await deleteDoc(_0x1c9137),showView('admin-dashboard');});}function showStudentLiveQuestionView(_0x24f82e,_0xa5d44a,_0x59cc48){const _0x1c9b25=_0x3fc9b3,_0x121944=_0x24f82e[_0x1c9b25(0x7e0)]||currentQuizData[_0x1c9b25(0x126)];let _0x3f1a3d='';if(_0x121944==='multiple_choice'||_0x121944===_0x1c9b25(0x288)){const _0x218ec9=_0x121944==='true_false'?[_0x1c9b25(0x693),_0x1c9b25(0x262)]:_0x24f82e[_0x1c9b25(0x77d)];_0x3f1a3d=_0x218ec9[_0x1c9b25(0x4cc)]((_0x5cd29b,_0x49d173)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x49d173+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5cd29b+_0x1c9b25(0x28e))[_0x1c9b25(0x8b1)]('');}else{if(_0x121944===_0x1c9b25(0x454)){const _0x26c0c1=_0x24f82e[_0x1c9b25(0x16d)]||[];_0x3f1a3d=_0x26c0c1[_0x1c9b25(0x4cc)]((_0x47d858,_0x83ecba)=>_0x1c9b25(0x2fa)+_0x83ecba+_0x1c9b25(0x424)+_0x47d858+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else _0x121944===_0x1c9b25(0x5cf)&&(_0x3f1a3d=_0x1c9b25(0x690));}const _0x7f1f9f=_0x24f82e[_0x1c9b25(0x2d7)]||_0x24f82e['questionText'],_0x366174='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0xa5d44a+0x1)+_0x1c9b25(0x6c3)+_0x59cc48+_0x1c9b25(0x664)+_0x7f1f9f+_0x1c9b25(0x25f)+_0x3f1a3d+_0x1c9b25(0x4df);liveGameView[_0x1c9b25(0x6da)]=_0x366174;window[_0x1c9b25(0x860)]&&MathJax['typesetPromise']&&MathJax[_0x1c9b25(0x5bf)]([liveGameView]);const _0x2efdc7=document[_0x1c9b25(0x1cf)](_0x1c9b25(0x4f2));_0x2efdc7&&_0x2efdc7[_0x1c9b25(0x87d)](_0x1c9b25(0x79f),()=>{const _0x254f96=_0x1c9b25,_0x5edf68=document[_0x254f96(0x1cf)]('live-short-answer-input')['value'];handleLiveAnswer(_0x5edf68,_0x24f82e);}),document['getElementById']('live-options-container')['addEventListener'](_0x1c9b25(0x79f),_0x3d8dd4=>{const _0x6b31c9=_0x1c9b25,_0x15f20d=_0x3d8dd4[_0x6b31c9(0x6c8)]['closest']('.live-answer-btn');if(_0x15f20d){const _0x9eeb4c=parseInt(_0x15f20d[_0x6b31c9(0x217)][_0x6b31c9(0x461)]);handleLiveAnswer(_0x9eeb4c,_0x24f82e);}});}async function handleLiveAnswer(_0x16c359,_0x4037b9){const _0x45ea5f=_0x3fc9b3;document[_0x45ea5f(0x7ab)](_0x45ea5f(0x54f))[_0x45ea5f(0x2a5)](_0x4e7321=>_0x4e7321['disabled']=!![]);const _0xc7b36c=_0x4037b9[_0x45ea5f(0x7e0)]||currentQuizData[_0x45ea5f(0x126)];let _0x37d3be=![];if(_0xc7b36c===_0x45ea5f(0x5cf)){const _0x27bc15=(_0x16c359||'')[_0x45ea5f(0x27e)]();_0x37d3be=await gradeShortAnswer(_0x27bc15,_0x4037b9);}else{if(_0xc7b36c===_0x45ea5f(0x207))_0x37d3be=_0x16c359===_0x4037b9[_0x45ea5f(0x211)];else{if(_0xc7b36c===_0x45ea5f(0x288)){const _0x51fa86=_0x4037b9[_0x45ea5f(0x6c1)];_0x37d3be=_0x16c359===0x0&&_0x51fa86||_0x16c359===0x1&&!_0x51fa86;}else{if(_0xc7b36c===_0x45ea5f(0x454)){const _0xf74edb=_0x4037b9[_0x45ea5f(0x16d)][_0x16c359];_0x37d3be=_0xf74edb===_0x4037b9['correctResponse'];}}}}const _0x35708b=doc(db,'artifacts/'+appId+_0x45ea5f(0x827),currentLiveGameId),_0x15a330=await getDoc(_0x35708b);if(!_0x15a330[_0x45ea5f(0x2a4)]())return;const _0x555ec4=_0x15a330[_0x45ea5f(0x112)](),_0x51bbb3=_0x555ec4['players'][currentStudentName];let _0x5853fa=_0x51bbb3[_0x45ea5f(0x543)]||[],_0x8ee1fb=_0x51bbb3[_0x45ea5f(0x301)]||0x0;const _0x2b8989={};let _0x1eaff1=0x0;if(_0x555ec4['questionDisplayedAt']){const _0x3c5306=_0x555ec4[_0x45ea5f(0x627)]['toDate'](),_0x56a0fb=new Date()-_0x3c5306;if(_0x37d3be){const _0x13e2d7=0x3e8,_0x48d87f=0x1f4,_0x4cf014=0x4e20;let _0x1955b2=_0x56a0fb/_0x4cf014;if(_0x1955b2>0x1)_0x1955b2=0x1;const _0xa7372d=Math[_0x45ea5f(0x290)](_0x1955b2*_0x48d87f);_0x1eaff1=_0x13e2d7-_0xa7372d,_0x56a0fb<=0x1388&&!_0x5853fa[_0x45ea5f(0x1db)](_0x45ea5f(0x5eb))&&_0x5853fa['push'](_0x45ea5f(0x5eb));}}_0x37d3be?(_0x8ee1fb++,_0x8ee1fb===0x3&&!_0x5853fa['includes']('on_fire')&&(_0x5853fa['push'](_0x45ea5f(0x634)),_0x8ee1fb=0x0)):_0x8ee1fb=0x0,_0x37d3be&&(_0x2b8989[_0x45ea5f(0x379)+currentStudentName+_0x45ea5f(0x571)]=increment(_0x1eaff1)),_0x2b8989[_0x45ea5f(0x379)+currentStudentName+'.badges']=_0x5853fa,_0x2b8989[_0x45ea5f(0x379)+currentStudentName+'.correctStreak']=_0x8ee1fb,_0x2b8989[_0x45ea5f(0x379)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x2b8989['players.'+currentStudentName+_0x45ea5f(0x57a)]=_0x37d3be,_0x2b8989['players.'+currentStudentName+_0x45ea5f(0x546)]=_0x1eaff1,await updateDoc(_0x35708b,_0x2b8989),liveGameView[_0x45ea5f(0x6da)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function createQuizFromBank(){const _0x57a87b=_0x3fc9b3,_0x4c031e=document[_0x57a87b(0x7ab)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x4c031e[_0x57a87b(0x431)]===0x0){showMessage(_0x57a87b(0x445));return;}const _0x5a1f0e=[];_0x4c031e[_0x57a87b(0x2a5)](_0x1d0d99=>{const _0x5dc8c=_0x57a87b;_0x5a1f0e[_0x5dc8c(0x1c2)](JSON[_0x5dc8c(0x6be)](_0x1d0d99[_0x5dc8c(0x5f3)]));});const _0x1a7c79={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x5a1f0e};displayGeneratedQuiz(_0x1a7c79);}function showAdminLobbyView(_0x1ae0e4,_0x574a89){const _0x4330e5=_0x3fc9b3;showView('live-game');const _0x4b0816=_0x4330e5(0x8ad)+_0x574a89+_0x4330e5(0x313)+_0x1ae0e4+_0x4330e5(0x20f);liveGameView[_0x4330e5(0x6da)]=_0x4b0816,document[_0x4330e5(0x1cf)]('start-game-btn')['addEventListener']('click',async()=>{const _0x1f5751=_0x4330e5;if(!currentQuizData||!currentQuizData[_0x1f5751(0x2eb)]||currentQuizData['questions'][_0x1f5751(0x431)]===0x0){showMessage(_0x1f5751(0x724));return;}try{const _0x3025c0=doc(db,_0x1f5751(0x14c)+appId+_0x1f5751(0x827),currentLiveGameId);await updateDoc(_0x3025c0,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x2c91d4=currentQuizData[_0x1f5751(0x2eb)][0x0],_0x5b1947=currentQuizData[_0x1f5751(0x2eb)][_0x1f5751(0x431)];showAdminLiveQuestionView(_0x2c91d4,0x0,_0x5b1947);}catch(_0x1abba0){console[_0x1f5751(0x105)](_0x1f5751(0x80f),_0x1abba0),showMessage(_0x1f5751(0x493));}});}async function openGlobalLiveModal(){const _0x16c794=_0x3fc9b3;if(allQuizzesGlobal[_0x16c794(0x431)]===0x0){const _0x9fd920=await getDocs(collection(db,_0x16c794(0x14c)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x9fd920[_0x16c794(0x145)][_0x16c794(0x4cc)](_0x571851=>({'id':_0x571851['id'],..._0x571851[_0x16c794(0x112)]()}));}renderGlobalQuizList(''),document[_0x16c794(0x1cf)](_0x16c794(0x49b))['classList']['remove'](_0x16c794(0x36f));}async function openQuizBankModal(){const _0x733334=_0x3fc9b3;if(allQuizzesGlobal[_0x733334(0x431)]===0x0){const _0x20d26=await getDocs(collection(db,_0x733334(0x14c)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x20d26['docs'][_0x733334(0x4cc)](_0x4dd90c=>({'id':_0x4dd90c['id'],..._0x4dd90c[_0x733334(0x112)]()}));}renderQuizBankList(''),document[_0x733334(0x1cf)](_0x733334(0x6e0))[_0x733334(0x2e4)][_0x733334(0x495)](_0x733334(0x36f));}function renderQuizBankList(_0x1bf710=''){const _0x1da02e=_0x3fc9b3,_0x51a387=document['getElementById'](_0x1da02e(0x87a)),_0x43e9a7=_0x1bf710[_0x1da02e(0x56f)]()[_0x1da02e(0x598)](),_0x589ccc=allQuizzesGlobal['map'](_0x4a40ee=>({..._0x4a40ee,'projectName':allProjects['find'](_0x5ad70c=>_0x5ad70c['id']===_0x4a40ee[_0x1da02e(0x499)])?.[_0x1da02e(0x55a)]||_0x1da02e(0x242)}))['filter'](_0xcf6e1a=>(_0xcf6e1a[_0x1da02e(0x7aa)]||'')[_0x1da02e(0x56f)]()[_0x1da02e(0x1db)](_0x43e9a7)||(_0xcf6e1a['projectName']||'')[_0x1da02e(0x56f)]()[_0x1da02e(0x1db)](_0x43e9a7)||_0xcf6e1a['id']['toString']()[_0x1da02e(0x1db)](_0x43e9a7));document[_0x1da02e(0x1cf)](_0x1da02e(0x407))[_0x1da02e(0x52e)]='('+_0x589ccc['length']+_0x1da02e(0x1ae),_0x51a387[_0x1da02e(0x6da)]=_0x589ccc[_0x1da02e(0x431)]?_0x589ccc[_0x1da02e(0x4cc)](_0x288461=>'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x288461['id']+_0x1da02e(0x3a5)+(_0x288461[_0x1da02e(0x7aa)]||'(ไม่มีชื่อ)')+_0x1da02e(0x6f0)+(_0x288461[_0x1da02e(0x2eb)]?.['length']||0x0)+_0x1da02e(0x86f)+_0x288461[_0x1da02e(0x55a)]+_0x1da02e(0x60c)+_0x288461['id']+_0x1da02e(0x3ee)+_0x288461['id']+_0x1da02e(0x53c)+_0x288461['id']+_0x1da02e(0x258)+_0x288461['id']+_0x1da02e(0x2e3)+_0x288461['id']+_0x1da02e(0x7a4)+_0x288461['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x288461['id']+_0x1da02e(0x70e)+_0x288461[_0x1da02e(0x7aa)]+_0x1da02e(0x839))[_0x1da02e(0x8b1)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x51a387[_0x1da02e(0x7ab)](_0x1da02e(0x613))[_0x1da02e(0x2a5)](_0xe855c=>{const _0xa0c44=_0x1da02e;_0xe855c[_0xa0c44(0x87d)](_0xa0c44(0x79f),()=>{const _0x30d584=_0xa0c44,_0x1a9375=_0xe855c[_0x30d584(0x217)]['id'];document[_0x30d584(0x1cf)]('quiz-bank-modal')['classList'][_0x30d584(0x243)]('hidden'),showQuizDetailView(_0x1a9375);});}),_0x51a387[_0x1da02e(0x7ab)](_0x1da02e(0x6ab))[_0x1da02e(0x2a5)](_0xe696b4=>{const _0x452d79=_0x1da02e;_0xe696b4['addEventListener'](_0x452d79(0x79f),_0x489a41=>{const _0x496086=_0x452d79;_0x489a41[_0x496086(0x2e0)]();const _0x3ae0c7=_0xe696b4[_0x496086(0x217)]['id'],_0x1e162c=allQuizzesGlobal['find'](_0x3ccb70=>_0x3ccb70['id']===_0x3ae0c7);_0x1e162c?(currentQuizData=_0x1e162c,document[_0x496086(0x1cf)]('quiz-bank-modal')[_0x496086(0x2e4)][_0x496086(0x243)](_0x496086(0x36f)),startAdminTest()):showMessage(_0x496086(0x1df));});}),_0x51a387['querySelectorAll'](_0x1da02e(0x8c9))[_0x1da02e(0x2a5)](_0x374554=>{const _0x296323=_0x1da02e;_0x374554['addEventListener'](_0x296323(0x79f),_0x5eecb2=>{const _0x3952b3=_0x296323;_0x5eecb2['stopPropagation']();const _0x4828a6=_0x374554['dataset']['id'],_0x5d47a0=allQuizzesGlobal[_0x3952b3(0x2c3)](_0x1cf113=>_0x1cf113['id']===_0x4828a6);_0x5d47a0?(document[_0x3952b3(0x1cf)](_0x3952b3(0x6e0))[_0x3952b3(0x2e4)][_0x3952b3(0x243)](_0x3952b3(0x36f)),handleGenerateParallelFromBank(_0x5d47a0)):showMessage(_0x3952b3(0x1df));});}),_0x51a387['querySelectorAll'](_0x1da02e(0x3d0))[_0x1da02e(0x2a5)](_0x3be0cb=>{const _0x4b62f2=_0x1da02e;_0x3be0cb['addEventListener'](_0x4b62f2(0x79f),_0x138c97=>{const _0x1da8ea=_0x4b62f2;_0x138c97['stopPropagation']();const _0x1375e8=_0x3be0cb[_0x1da8ea(0x217)]['id'],_0x555db0=allQuizzesGlobal[_0x1da8ea(0x2c3)](_0x4b0091=>_0x4b0091['id']===_0x1375e8);_0x555db0?(document[_0x1da8ea(0x1cf)](_0x1da8ea(0x6e0))['classList'][_0x1da8ea(0x243)](_0x1da8ea(0x36f)),startPresentation(_0x555db0)):showMessage(_0x1da8ea(0x1df));});}),_0x51a387[_0x1da02e(0x7ab)](_0x1da02e(0x560))[_0x1da02e(0x2a5)](_0x202b7d=>{const _0x320748=_0x1da02e;_0x202b7d[_0x320748(0x87d)]('click',_0x52d147=>{const _0x204387=_0x320748;_0x52d147[_0x204387(0x2e0)]();const _0x4927e2=_0x202b7d[_0x204387(0x217)]['id'];document[_0x204387(0x1cf)](_0x204387(0x6e0))['classList']['add']('hidden'),handleMoveQuiz(_0x4927e2);});}),_0x51a387[_0x1da02e(0x7ab)]('.quiz-bank-settings-btn')['forEach'](_0x28713b=>{const _0x558e72=_0x1da02e;_0x28713b['addEventListener'](_0x558e72(0x79f),_0x419c98=>{const _0x4a4d94=_0x558e72;_0x419c98[_0x4a4d94(0x2e0)]();const _0x31721c=_0x28713b[_0x4a4d94(0x217)]['id'];document[_0x4a4d94(0x1cf)](_0x4a4d94(0x6e0))[_0x4a4d94(0x2e4)][_0x4a4d94(0x243)](_0x4a4d94(0x36f)),handleQuizSettings(_0x31721c);});}),_0x51a387['querySelectorAll'](_0x1da02e(0x476))[_0x1da02e(0x2a5)](_0x179c27=>{const _0x5b90a6=_0x1da02e;_0x179c27[_0x5b90a6(0x87d)](_0x5b90a6(0x79f),_0x2cf5c7=>{const _0x41af0d=_0x5b90a6;_0x2cf5c7[_0x41af0d(0x2e0)]();const _0x371721=_0x179c27[_0x41af0d(0x217)]['id'],_0x23cacf=_0x179c27[_0x41af0d(0x217)]['topic'];showConfirmation(_0x41af0d(0x7fc)+_0x23cacf+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x371721));});});}async function handleCompareResults(_0x4386e9,_0x43505e){const _0x3d8c2e=_0x3fc9b3,_0x1c7bdb=document['getElementById'](_0x3d8c2e(0x19c)),_0x1403aa=document['getElementById'](_0x3d8c2e(0x663)),_0x40a6b0=document[_0x3d8c2e(0x1cf)]('comparison-individual-content');document[_0x3d8c2e(0x1cf)]('comparison-overall-tab')[_0x3d8c2e(0x2e4)][_0x3d8c2e(0x243)](_0x3d8c2e(0x299)),document['getElementById'](_0x3d8c2e(0x892))[_0x3d8c2e(0x2e4)][_0x3d8c2e(0x495)](_0x3d8c2e(0x299)),_0x1403aa['classList'][_0x3d8c2e(0x495)](_0x3d8c2e(0x36f)),_0x40a6b0[_0x3d8c2e(0x2e4)]['add'](_0x3d8c2e(0x36f)),_0x1403aa['innerHTML']=_0x3d8c2e(0x4db),_0x40a6b0[_0x3d8c2e(0x6da)]='',_0x1c7bdb[_0x3d8c2e(0x2e4)][_0x3d8c2e(0x495)](_0x3d8c2e(0x36f));try{const _0x3559d2=doc(db,'artifacts/'+appId+_0x3d8c2e(0x829),_0x4386e9),_0x28addd=await getDoc(_0x3559d2);if(!_0x28addd['exists']())throw new Error(_0x3d8c2e(0x6aa));const _0x53a268=_0x28addd[_0x3d8c2e(0x112)](),_0x2bb6f2=_0x53a268[_0x3d8c2e(0x2eb)][_0x3d8c2e(0x431)],_0x32f7a6=collection(db,_0x3d8c2e(0x14c)+appId+_0x3d8c2e(0x576)+_0x43505e+_0x3d8c2e(0x862)),_0x41809c=collection(db,_0x3d8c2e(0x14c)+appId+'/public/data/quizzes/'+_0x4386e9+_0x3d8c2e(0x862)),[_0x1fd7b9,_0x5eaf80]=await Promise[_0x3d8c2e(0x2dd)]([getDocs(_0x32f7a6),getDocs(_0x41809c)]),_0xad1d2d=_0x1fd7b9['docs']['map'](_0x3096a3=>_0x3096a3['data']()),_0x15d8b8=_0x5eaf80['docs'][_0x3d8c2e(0x4cc)](_0x39fa64=>_0x39fa64[_0x3d8c2e(0x112)]()),_0x3803ab=_0xad1d2d['map'](_0x578f80=>_0x578f80[_0x3d8c2e(0x148)]),_0x58e508=_0x15d8b8[_0x3d8c2e(0x4cc)](_0x418a5d=>_0x418a5d[_0x3d8c2e(0x148)]),_0x159a21=calculateMeanAndStdDev(_0x3803ab),_0x30cf7e=calculateMeanAndStdDev(_0x58e508),_0x2f2467=_0x159a21[_0x3d8c2e(0x385)],_0x21a6bb=_0x30cf7e[_0x3d8c2e(0x385)],_0xcb8bdb=_0x21a6bb-_0x2f2467;let _0x2573e9=_0x3d8c2e(0x804)+_0x2f2467[_0x3d8c2e(0x292)](0x2)+_0x3d8c2e(0x8d6)+_0x21a6bb[_0x3d8c2e(0x292)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0xcb8bdb>=0x0?'bg-emerald-100':_0x3d8c2e(0x427))+_0x3d8c2e(0x438)+(_0xcb8bdb>=0x0?_0x3d8c2e(0x752):'text-red-800')+_0x3d8c2e(0x4b8)+(_0xcb8bdb>=0x0?_0x3d8c2e(0x71e):'text-red-900')+'\x22>'+(_0xcb8bdb>=0x0?'+':'')+_0xcb8bdb[_0x3d8c2e(0x292)](0x2)+_0x3d8c2e(0x1aa);_0x1403aa[_0x3d8c2e(0x6da)]=_0x2573e9;const _0x18e7fe=document['getElementById']('comparison-chart')[_0x3d8c2e(0x77b)]('2d');if(chartInstances[_0x3d8c2e(0x3bc)])chartInstances[_0x3d8c2e(0x3bc)][_0x3d8c2e(0x307)]();chartInstances['comparison']=new Chart(_0x18e7fe,{'type':_0x3d8c2e(0x45a),'data':{'labels':[_0x3d8c2e(0x22e)],'datasets':[{'label':'ก่อนเรียน','data':[_0x2f2467],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':'หลังเรียน','data':[_0x21a6bb],'backgroundColor':_0x3d8c2e(0xfe)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x2bb6f2}}}});const _0x3c90df=currentProjectData[_0x3d8c2e(0x7bd)]||[],_0x545758=_0x3c90df[_0x3d8c2e(0x4cc)](_0x52fce0=>{const _0x56b330=_0x3d8c2e,_0x40514c=_0xad1d2d[_0x56b330(0x2c3)](_0x56065f=>_0x56065f[_0x56b330(0x432)]===_0x52fce0),_0x4c828f=_0x15d8b8[_0x56b330(0x2c3)](_0x37ba68=>_0x37ba68[_0x56b330(0x432)]===_0x52fce0),_0x151cc5=_0x40514c?_0x40514c[_0x56b330(0x148)]:null,_0x835bb=_0x4c828f?_0x4c828f[_0x56b330(0x148)]:null,_0x2b66fb=_0x151cc5!==null&&_0x835bb!==null?_0x835bb-_0x151cc5:null,_0x100948=_0x151cc5!==null?calculateZScore(_0x151cc5,_0x159a21['mean'],_0x159a21[_0x56b330(0x48c)]):null,_0x2d897a=_0x835bb!==null?calculateZScore(_0x835bb,_0x30cf7e['mean'],_0x30cf7e['stdDev']):null,_0xadac5e=_0x100948!==null?calculateTScore(_0x100948):null,_0x3af0cb=_0x2d897a!==null?calculateTScore(_0x2d897a):null,_0x3a0cf2=_0xadac5e!==null&&_0x3af0cb!==null?_0x3af0cb-_0xadac5e:null;return{'name':_0x52fce0,'preScore':_0x151cc5,'postScore':_0x835bb,'gain':_0x2b66fb,'preTScore':_0xadac5e,'postTScore':_0x3af0cb,'tGain':_0x3a0cf2};});renderIndividualComparisonTable(_0x545758,_0x40a6b0);}catch(_0x215b2e){console[_0x3d8c2e(0x105)](_0x3d8c2e(0x24b),_0x215b2e),_0x1403aa[_0x3d8c2e(0x6da)]=_0x3d8c2e(0x3d1);}}function displayHalfMarkResult(_0x1172d0,_0x15112a){const _0x4fdfcc=_0x3fc9b3,_0xb816e5=_0x1172d0>=_0x15112a/0x2,_0x327f15=_0xb816e5?'bg-green-100':_0x4fdfcc(0x427),_0x235fc0=_0xb816e5?_0x4fdfcc(0x44b):_0x4fdfcc(0x719),_0x17d825=_0xb816e5?'text-green-800':'text-red-800',_0x1be8b3=_0xb816e5?_0x4fdfcc(0x3b1):_0x4fdfcc(0x5b0),_0x54bb70=_0xb816e5?_0x4fdfcc(0x7dd):_0x4fdfcc(0x1cb);let _0x424022=_0x4fdfcc(0x227)+_0x327f15+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x235fc0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x17d825+_0x4fdfcc(0x4ba)+_0x1be8b3+_0x4fdfcc(0x348)+_0x54bb70+_0x4fdfcc(0x8d2);studentResultArea[_0x4fdfcc(0x6da)]=_0x424022,studentResultArea[_0x4fdfcc(0x2e4)][_0x4fdfcc(0x495)]('hidden'),studentQuizArea[_0x4fdfcc(0x2e4)][_0x4fdfcc(0x243)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0xb816e5});}function displayPerfectScoreResult(_0x3bf676,_0x3be2b9){const _0x4a5bed=_0x3fc9b3,_0xb3d98d=_0x3bf676===_0x3be2b9,_0x10d98a=_0xb3d98d?'bg-yellow-100':_0x4a5bed(0x3f1),_0x4a51f0=_0xb3d98d?_0x4a5bed(0x12b):_0x4a5bed(0x7de),_0x343495=_0xb3d98d?_0x4a5bed(0x277):_0x4a5bed(0x8bb),_0x252efe=_0xb3d98d?_0x4a5bed(0x18b):_0x4a5bed(0x638),_0x14f414=_0xb3d98d?_0x4a5bed(0x137):_0x4a5bed(0x261);let _0x4af1ec=_0x4a5bed(0x227)+_0x10d98a+_0x4a5bed(0x28d)+_0x4a51f0+_0x4a5bed(0x185)+_0x343495+_0x4a5bed(0x4ba)+_0x252efe+_0x4a5bed(0x348)+_0x14f414+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x4a5bed(0x6da)]=_0x4af1ec,studentResultArea[_0x4a5bed(0x2e4)]['remove'](_0x4a5bed(0x36f)),studentQuizArea[_0x4a5bed(0x2e4)][_0x4a5bed(0x243)](_0x4a5bed(0x36f)),setupResultScreenBackButton({'showRankings':![],'score':_0x3bf676,'totalQuestions':_0x3be2b9});}function renderIndividualComparisonTable(_0x25830a,_0x3f55b2){const _0x4cd6d2=_0x3fc9b3;_0x25830a['sort']((_0x50a4cb,_0x5d85af)=>(_0x5d85af[_0x4cd6d2(0x7b8)]??-Infinity)-(_0x50a4cb['tGain']??-Infinity));let _0x26faf3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x25830a[_0x4cd6d2(0x431)]===0x0?_0x26faf3+=_0x4cd6d2(0x368):_0x25830a[_0x4cd6d2(0x2a5)]((_0x6c198a,_0x55047c)=>{const _0x3e1547=_0x4cd6d2;let _0x5b3345='-',_0x488d80='';if(_0x6c198a[_0x3e1547(0x84e)]!==null){const _0x4d6141=_0x6c198a[_0x3e1547(0x84e)]>0x0?_0x3e1547(0x400):_0x6c198a['gain']<0x0?_0x3e1547(0x7b6):'text-gray-500',_0x2d15f9=_0x6c198a[_0x3e1547(0x84e)]>0x0?'+':'';_0x5b3345=_0x3e1547(0x266)+_0x4d6141+'\x22>'+_0x2d15f9+_0x6c198a[_0x3e1547(0x84e)]+_0x3e1547(0x41b);if(_0x6c198a[_0x3e1547(0x84e)]>0x0)_0x488d80='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x6c198a[_0x3e1547(0x84e)]<0x0?_0x488d80=_0x3e1547(0x625):_0x488d80=_0x3e1547(0x6c6);}let _0x49e707='-';if(_0x6c198a[_0x3e1547(0x7b8)]!==null){const _0x4d4c42=_0x6c198a[_0x3e1547(0x7b8)]>0x0?_0x3e1547(0x400):_0x6c198a[_0x3e1547(0x7b8)]<0x0?_0x3e1547(0x7b6):'text-gray-500',_0x5219f4=_0x6c198a['tGain']>0x0?'+':'';_0x49e707=_0x3e1547(0x266)+_0x4d4c42+'\x22>'+_0x5219f4+_0x6c198a[_0x3e1547(0x7b8)]['toFixed'](0x2)+_0x3e1547(0x41b);}_0x26faf3+=_0x3e1547(0x1f3)+(_0x55047c+0x1)+_0x3e1547(0x5f4)+_0x6c198a['name']+_0x3e1547(0x366)+(_0x6c198a[_0x3e1547(0x2a0)]??'-')+_0x3e1547(0x3bd)+(_0x6c198a[_0x3e1547(0x448)]??'-')+_0x3e1547(0x366)+_0x5b3345+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x488d80+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x6c198a['preTScore']?.[_0x3e1547(0x292)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x6c198a[_0x3e1547(0x13c)]?.[_0x3e1547(0x292)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x49e707+_0x3e1547(0x6ca);}),_0x26faf3+=_0x4cd6d2(0x248),_0x3f55b2[_0x4cd6d2(0x6da)]=_0x26faf3;}function handleRenameQuiz(_0xd7b7d8,_0x555df7){const _0x45873b=_0x3fc9b3;actionTargetId=_0xd7b7d8,document[_0x45873b(0x1cf)]('rename-quiz-input')['value']=_0x555df7,renameQuizModal[_0x45873b(0x2e4)][_0x45873b(0x495)]('hidden');}function setupComparisonModalTabs(){const _0x228383=_0x3fc9b3,_0xe581f6=document[_0x228383(0x1cf)](_0x228383(0x4e6)),_0x5ef2a6=document[_0x228383(0x1cf)](_0x228383(0x892)),_0x57619c=document[_0x228383(0x1cf)]('comparison-overall-content'),_0x651668=document[_0x228383(0x1cf)](_0x228383(0x773));_0xe581f6[_0x228383(0x87d)](_0x228383(0x79f),()=>{const _0x5c7865=_0x228383;_0xe581f6['classList'][_0x5c7865(0x243)](_0x5c7865(0x299)),_0x5ef2a6[_0x5c7865(0x2e4)][_0x5c7865(0x495)]('active'),_0x57619c[_0x5c7865(0x2e4)][_0x5c7865(0x495)](_0x5c7865(0x36f)),_0x651668['classList']['add'](_0x5c7865(0x36f));}),_0x5ef2a6[_0x228383(0x87d)](_0x228383(0x79f),()=>{const _0x459819=_0x228383;_0x5ef2a6[_0x459819(0x2e4)][_0x459819(0x243)]('active'),_0xe581f6[_0x459819(0x2e4)][_0x459819(0x495)](_0x459819(0x299)),_0x651668[_0x459819(0x2e4)][_0x459819(0x495)](_0x459819(0x36f)),_0x57619c[_0x459819(0x2e4)][_0x459819(0x243)](_0x459819(0x36f));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x31fe8e=''){const _0x1f75fa=_0x3fc9b3,_0x268734=document[_0x1f75fa(0x1cf)]('global-quiz-list'),_0x470acc=_0x31fe8e[_0x1f75fa(0x56f)]()[_0x1f75fa(0x598)](),_0x5aaa50=allQuizzesGlobal['map'](_0x3a6835=>({..._0x3a6835,'projectName':allProjects['find'](_0x3365ee=>_0x3365ee['id']===_0x3a6835['projectId'])?.[_0x1f75fa(0x55a)]||_0x3a6835[_0x1f75fa(0x499)]}))[_0x1f75fa(0x18e)](_0x25f643=>(_0x25f643['topic']||'')['toLowerCase']()[_0x1f75fa(0x1db)](_0x470acc)||(_0x25f643[_0x1f75fa(0x55a)]||'')[_0x1f75fa(0x56f)]()[_0x1f75fa(0x1db)](_0x470acc));document['getElementById']('global-live-game-count')[_0x1f75fa(0x52e)]='('+_0x5aaa50[_0x1f75fa(0x431)]+_0x1f75fa(0x1ae),_0x268734[_0x1f75fa(0x6da)]=_0x5aaa50['length']?_0x5aaa50['map'](_0x225d66=>_0x1f75fa(0x799)+_0x225d66['id']+_0x1f75fa(0x3ec)+(_0x225d66['topic']||_0x1f75fa(0x177))+'\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x225d66['questions']?.[_0x1f75fa(0x431)]||0x0)+'\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x225d66[_0x1f75fa(0x55a)]+_0x1f75fa(0x3f3))[_0x1f75fa(0x8b1)](''):_0x1f75fa(0x794),selectedGlobalQuizId=null,document[_0x1f75fa(0x1cf)](_0x1f75fa(0x5c6))['disabled']=!![],_0x268734[_0x1f75fa(0x7ab)](_0x1f75fa(0x6d4))[_0x1f75fa(0x2a5)](_0x1e5815=>{const _0x5ff379=_0x1f75fa;_0x1e5815[_0x5ff379(0x87d)](_0x5ff379(0x79f),()=>{const _0x4d151c=_0x5ff379;selectedGlobalQuizId=_0x1e5815[_0x4d151c(0x217)]['id'],_0x268734[_0x4d151c(0x7ab)](_0x4d151c(0x204))[_0x4d151c(0x2a5)](_0x472328=>_0x472328[_0x4d151c(0x2e4)][_0x4d151c(0x495)](_0x4d151c(0x6d8),_0x4d151c(0x7ef),_0x4d151c(0x34f))),_0x1e5815[_0x4d151c(0x2e4)][_0x4d151c(0x243)]('bg-purple-50',_0x4d151c(0x7ef),_0x4d151c(0x34f)),document['getElementById'](_0x4d151c(0x5c6))[_0x4d151c(0x323)]=![];});});}function listenForLiveGameUpdates(){const _0x17ca4e=_0x3fc9b3;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x204fda=doc(db,_0x17ca4e(0x14c)+appId+_0x17ca4e(0x827),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x204fda,_0x32a74d=>{const _0x362b89=_0x17ca4e;if(!_0x32a74d['exists']()){showMessage('เกมสิ้นสุดลงแล้ว'),showView(currentMode);return;}const _0x18460c=_0x32a74d[_0x362b89(0x112)]();!currentQuizData&&_0x18460c[_0x362b89(0x501)]&&((async()=>{const _0x4bad42=_0x362b89;try{const _0x232504=doc(db,_0x4bad42(0x14c)+appId+_0x4bad42(0x829),_0x18460c['quizId']),_0x3871f5=await getDoc(_0x232504);_0x3871f5[_0x4bad42(0x2a4)]()&&(currentQuizData={'id':_0x3871f5['id'],..._0x3871f5['data']()});}catch(_0x1e0e92){console['error'](_0x4bad42(0x2ff),_0x1e0e92);}})());switch(_0x18460c['status']){case _0x362b89(0x31b):if(currentMode==='admin'){const _0x3a0e16=_0x18460c[_0x362b89(0x7d9)]?Object[_0x362b89(0x80e)](_0x18460c[_0x362b89(0x7d9)]):[];document[_0x362b89(0x1cf)](_0x362b89(0x5a0))[_0x362b89(0x52e)]=_0x3a0e16[_0x362b89(0x431)],document[_0x362b89(0x1cf)](_0x362b89(0x2c7))[_0x362b89(0x6da)]=_0x3a0e16[_0x362b89(0x4cc)](_0x3bc783=>'<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>'+_0x3bc783+_0x362b89(0x41b))[_0x362b89(0x8b1)]('');const _0x34b12f=document[_0x362b89(0x1cf)]('start-game-btn');_0x34b12f&&(_0x34b12f['disabled']=_0x3a0e16[_0x362b89(0x431)]===0x0);}else showView('live-game'),liveGameView[_0x362b89(0x6da)]=_0x362b89(0x349)+currentStudentName+_0x362b89(0x174);break;case _0x362b89(0x728):const _0x559bb4=_0x18460c[_0x362b89(0x3d8)];if(currentQuizData&&currentQuizData[_0x362b89(0x2eb)][_0x559bb4]){const _0x5ccc3e=currentQuizData['questions'][_0x559bb4],_0x410037=currentQuizData[_0x362b89(0x2eb)]['length'];if(currentMode===_0x362b89(0x70a)){lastRenderedAdminQuestionIndex!==_0x559bb4&&(showAdminLiveQuestionView(_0x5ccc3e,_0x559bb4,_0x410037),lastRenderedAdminQuestionIndex=_0x559bb4);const _0x5a7509=document[_0x362b89(0x1cf)](_0x362b89(0xfb));if(_0x5a7509&&_0x18460c[_0x362b89(0x7d9)]){const _0x49e3ae=Object['keys'](_0x18460c[_0x362b89(0x7d9)])[_0x362b89(0x431)],_0x7134fa=Object[_0x362b89(0x408)](_0x18460c[_0x362b89(0x7d9)])[_0x362b89(0x18e)](_0x2a5eea=>_0x2a5eea[_0x362b89(0x8d4)]===!![])['length'];_0x5a7509[_0x362b89(0x52e)]=_0x7134fa+'/'+_0x49e3ae,_0x49e3ae>0x0&&_0x7134fa===_0x49e3ae&&_0x18460c[_0x362b89(0x71f)]!=='revealed'&&revealAnswerForAdmin(_0x559bb4,_0x410037);}}else{const _0x275fb5=_0x18460c[_0x362b89(0x7d9)][currentStudentName];if(_0x18460c['questionStatus']===_0x362b89(0x16f)){if(_0x275fb5[_0x362b89(0x8d4)]){const _0x2b6d64=_0x275fb5[_0x362b89(0x52c)],_0x2f5a23=_0x275fb5[_0x362b89(0x30c)]||0x0,_0x1e8baa=_0x2b6d64?_0x362b89(0x4b0)+_0x2f5a23+_0x362b89(0x5bb):_0x362b89(0x7d1);liveGameView['innerHTML']=_0x362b89(0x30d)+_0x1e8baa+_0x362b89(0x1f0);}else liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>';}else!_0x275fb5[_0x362b89(0x8d4)]&&showStudentLiveQuestionView(_0x5ccc3e,_0x559bb4,_0x410037);}}break;case _0x362b89(0x17e):showPodiumView(_0x18460c[_0x362b89(0x7d9)]);break;}});}async function authenticateUser(){const _0x4c08d0=_0x3fc9b3;try{typeof __initial_auth_token!==_0x4c08d0(0x34b)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x197503){console[_0x4c08d0(0x105)]('Authentication\x20failed:',_0x197503),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x507e3f){const _0x53553f=_0x3fc9b3,_0x17cb9c=['admin-view',_0x53553f(0x5c2),_0x53553f(0x472),_0x53553f(0x4ae),_0x53553f(0x2d0),_0x53553f(0x1fb),_0x53553f(0x6c7)];_0x17cb9c[_0x53553f(0x2a5)](_0x1f523a=>document[_0x53553f(0x1cf)](_0x1f523a)?.['classList'][_0x53553f(0x243)]('hidden'));if(_0x507e3f===_0x53553f(0x65a))adminView['classList'][_0x53553f(0x495)]('hidden'),projectDashboardView['classList'][_0x53553f(0x495)](_0x53553f(0x36f));else{if(_0x507e3f===_0x53553f(0x7b4))studentView[_0x53553f(0x2e4)][_0x53553f(0x495)]('hidden'),studentInitialView['classList'][_0x53553f(0x495)]('hidden'),studentNameSelectionView[_0x53553f(0x2e4)][_0x53553f(0x243)](_0x53553f(0x36f)),studentQuizArea[_0x53553f(0x2e4)]['add']('hidden'),studentResultArea['classList'][_0x53553f(0x243)](_0x53553f(0x36f)),studentReadingArea[_0x53553f(0x2e4)][_0x53553f(0x243)](_0x53553f(0x36f)),studentJoinGameView['classList'][_0x53553f(0x243)](_0x53553f(0x36f));else{if(_0x507e3f===_0x53553f(0x7ee))adminView[_0x53553f(0x2e4)][_0x53553f(0x495)](_0x53553f(0x36f)),projectDetailView[_0x53553f(0x2e4)][_0x53553f(0x495)](_0x53553f(0x36f));else{if(_0x507e3f===_0x53553f(0x439))adminView[_0x53553f(0x2e4)][_0x53553f(0x495)](_0x53553f(0x36f)),quizResultsView['classList']['remove'](_0x53553f(0x36f));else _0x507e3f==='live-game'&&liveGameView[_0x53553f(0x2e4)]['remove'](_0x53553f(0x36f));}}}}function showJoinGameView(){const _0xe77dcb=_0x3fc9b3;studentInitialView[_0xe77dcb(0x2e4)]['add'](_0xe77dcb(0x36f)),studentJoinGameView[_0xe77dcb(0x2e4)][_0xe77dcb(0x495)](_0xe77dcb(0x36f));}async function handleSaveVisibilitySettings(){const _0x9e3ae=_0x3fc9b3;if(!currentProjectId)return;const _0x5aa17e=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x5aa17e,{'settings.showInStudentDashboard':document[_0x9e3ae(0x1cf)](_0x9e3ae(0x75a))[_0x9e3ae(0x8b0)],'settings.isPasscodeEnabled':document[_0x9e3ae(0x1cf)](_0x9e3ae(0x873))[_0x9e3ae(0x8b0)],'settings.passcode':document['getElementById'](_0x9e3ae(0x3fc))[_0x9e3ae(0x5f3)][_0x9e3ae(0x598)]()}),showMessage(_0x9e3ae(0x6fe));}catch(_0x10e11d){console[_0x9e3ae(0x105)](_0x9e3ae(0x2bb),_0x10e11d),showMessage(_0x9e3ae(0x81f));}}function setupEventListeners(){const _0x42270a=_0x3fc9b3;document[_0x42270a(0x1cf)](_0x42270a(0x16c))[_0x42270a(0x87d)]('focus',()=>document[_0x42270a(0x1cf)]('save-project-name-btn')[_0x42270a(0x2e4)][_0x42270a(0x495)](_0x42270a(0x36f))),document['getElementById'](_0x42270a(0x832))['addEventListener'](_0x42270a(0x79f),handleSaveProjectName),document['getElementById'](_0x42270a(0x16c))[_0x42270a(0x87d)](_0x42270a(0x221),_0xa51729=>{const _0x401596=_0x42270a;_0xa51729['key']===_0x401596(0x843)&&(_0xa51729[_0x401596(0x6a4)](),_0xa51729[_0x401596(0x6c8)]['blur'](),handleSaveProjectName());}),document[_0x42270a(0x1cf)](_0x42270a(0x7ac))['addEventListener'](_0x42270a(0x79f),()=>{const _0xd0ec97=_0x42270a;document[_0xd0ec97(0x1cf)](_0xd0ec97(0x2f5))[_0xd0ec97(0x2e4)][_0xd0ec97(0x495)]('hidden');}),document[_0x42270a(0x1cf)](_0x42270a(0x7f3))['addEventListener'](_0x42270a(0x79f),()=>{const _0x2d4cfa=_0x42270a;document['getElementById'](_0x2d4cfa(0x2f5))[_0x2d4cfa(0x2e4)][_0x2d4cfa(0x243)]('hidden');}),document['getElementById'](_0x42270a(0x69c))[_0x42270a(0x87d)](_0x42270a(0x79f),handleBulkUpdateQuizSettings),document[_0x42270a(0x1cf)](_0x42270a(0x854))[_0x42270a(0x87d)](_0x42270a(0x79f),handleModeSwitch),document[_0x42270a(0x1cf)](_0x42270a(0x656))['addEventListener'](_0x42270a(0x79f),handleUpdateOldQuizzes),document['getElementById'](_0x42270a(0x418))[_0x42270a(0x87d)](_0x42270a(0x79f),handleResetProjectOrder),document[_0x42270a(0x1cf)](_0x42270a(0x436))['addEventListener'](_0x42270a(0x79f),handleSaveVisibilitySettings),document[_0x42270a(0x1cf)](_0x42270a(0x34c))[_0x42270a(0x87d)](_0x42270a(0x79f),handleAddCustomMathTopic),document[_0x42270a(0x1cf)]('select-all-topics-btn')['addEventListener'](_0x42270a(0x79f),handleSelectAllTopics),document[_0x42270a(0x1cf)](_0x42270a(0x210))[_0x42270a(0x87d)](_0x42270a(0x79f),handleDeselectAllTopics),document[_0x42270a(0x1cf)](_0x42270a(0x7ea))[_0x42270a(0x87d)](_0x42270a(0x79f),()=>{const _0x2f20a9=_0x42270a;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x2f20a9(0x65a));}),document[_0x42270a(0x1cf)](_0x42270a(0x553))[_0x42270a(0x87d)](_0x42270a(0x79f),()=>{const _0x4bf6f9=_0x42270a;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x4bf6f9(0x7ee));}),document['getElementById']('back-to-dashboard-from-results-btn')[_0x42270a(0x87d)]('click',()=>{const _0x4306b3=_0x42270a;showView(_0x4306b3(0x65a));}),document[_0x42270a(0x1cf)]('modal-close-btn')[_0x42270a(0x87d)](_0x42270a(0x79f),()=>{const _0x6e8ba9=_0x42270a;messageModal[_0x6e8ba9(0x2e4)][_0x6e8ba9(0x243)](_0x6e8ba9(0x36f)),typeof modalConfirmAction===_0x6e8ba9(0x483)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x42270a(0x1cf)](_0x42270a(0x732))['addEventListener'](_0x42270a(0x79f),()=>createProjectModal[_0x42270a(0x2e4)][_0x42270a(0x495)](_0x42270a(0x36f))),document[_0x42270a(0x1cf)](_0x42270a(0x78c))['addEventListener'](_0x42270a(0x79f),()=>createProjectModal[_0x42270a(0x2e4)][_0x42270a(0x243)](_0x42270a(0x36f))),document[_0x42270a(0x1cf)](_0x42270a(0x434))[_0x42270a(0x87d)](_0x42270a(0x79f),()=>adminPasswordModal[_0x42270a(0x2e4)]['add'](_0x42270a(0x36f))),document[_0x42270a(0x1cf)](_0x42270a(0x885))[_0x42270a(0x87d)](_0x42270a(0x79f),handleAdminLogin),document['getElementById'](_0x42270a(0x157))[_0x42270a(0x87d)](_0x42270a(0x416),_0x2c50cb=>{const _0x1da633=_0x42270a;if(_0x2c50cb['key']===_0x1da633(0x843))handleAdminLogin();}),document[_0x42270a(0x1cf)]('cancel-delete-btn')['addEventListener'](_0x42270a(0x79f),()=>{const _0x6ab370=_0x42270a;confirmationModal[_0x6ab370(0x2e4)][_0x6ab370(0x243)]('hidden'),confirmAction=null;}),document[_0x42270a(0x1cf)]('confirm-delete-btn')['addEventListener'](_0x42270a(0x79f),()=>{const _0x38f2d9=_0x42270a;confirmAction&&confirmAction(),confirmationModal[_0x38f2d9(0x2e4)][_0x38f2d9(0x243)](_0x38f2d9(0x36f)),confirmAction=null;}),document[_0x42270a(0x1cf)]('cancel-rename-quiz-btn')[_0x42270a(0x87d)](_0x42270a(0x79f),()=>renameQuizModal[_0x42270a(0x2e4)][_0x42270a(0x243)](_0x42270a(0x36f))),document['getElementById'](_0x42270a(0x345))[_0x42270a(0x87d)](_0x42270a(0x79f),confirmRenameQuiz),document[_0x42270a(0x1cf)]('cancel-move-quiz-btn')[_0x42270a(0x87d)](_0x42270a(0x79f),()=>moveQuizModal[_0x42270a(0x2e4)][_0x42270a(0x243)](_0x42270a(0x36f))),document[_0x42270a(0x1cf)](_0x42270a(0x552))[_0x42270a(0x87d)](_0x42270a(0x79f),confirmMoveQuiz),document[_0x42270a(0x1cf)](_0x42270a(0x8cf))[_0x42270a(0x87d)](_0x42270a(0x79f),()=>quizSettingsModal[_0x42270a(0x2e4)][_0x42270a(0x243)]('hidden')),document[_0x42270a(0x1cf)](_0x42270a(0x30e))[_0x42270a(0x87d)](_0x42270a(0x79f),confirmQuizSettings),document[_0x42270a(0x1cf)](_0x42270a(0x31e))['addEventListener']('click',()=>quizStatusModal[_0x42270a(0x2e4)][_0x42270a(0x243)](_0x42270a(0x36f))),document[_0x42270a(0x1cf)](_0x42270a(0x2b7))['addEventListener'](_0x42270a(0x79f),confirmQuizStatus);const _0x4e41a6=document['getElementById']('export-pdf-modal');document[_0x42270a(0x1cf)]('cancel-export-pdf-btn')[_0x42270a(0x87d)](_0x42270a(0x79f),()=>{const _0x3a9b55=_0x42270a;_0x4e41a6[_0x3a9b55(0x2e4)][_0x3a9b55(0x243)](_0x3a9b55(0x36f));}),document[_0x42270a(0x1cf)](_0x42270a(0x1b8))['addEventListener'](_0x42270a(0x79f),async()=>{const _0x3a4dac=_0x42270a,_0x389f3a=allQuizzes[_0x3a4dac(0x2c3)](_0x23a808=>_0x23a808['id']===actionTargetId);_0x389f3a?(currentQuizData=_0x389f3a,exportQuizAsWorksheetPDF()):showMessage(_0x3a4dac(0x1df)),_0x4e41a6[_0x3a4dac(0x2e4)][_0x3a4dac(0x243)]('hidden');}),document[_0x42270a(0x1cf)]('export-tutor-pdf-btn')[_0x42270a(0x87d)]('click',async()=>{const _0x42ae83=_0x42270a,_0x5d1fbe=allQuizzes[_0x42ae83(0x2c3)](_0x588dd3=>_0x588dd3['id']===actionTargetId);_0x5d1fbe?(currentQuizData=_0x5d1fbe,exportQuizAsTutorPDF()):showMessage(_0x42ae83(0x1df)),_0x4e41a6[_0x42ae83(0x2e4)][_0x42ae83(0x243)](_0x42ae83(0x36f));}),document[_0x42270a(0x1cf)]('open-global-live-btn')[_0x42270a(0x87d)]('click',openGlobalLiveModal),document['getElementById'](_0x42270a(0x73c))[_0x42270a(0x87d)]('click',()=>{const _0x37df1e=_0x42270a;document[_0x37df1e(0x1cf)]('global-live-game-modal')['classList'][_0x37df1e(0x243)]('hidden'),selectedGlobalQuizId=null;}),document[_0x42270a(0x1cf)](_0x42270a(0x58d))['addEventListener']('input',_0x3fdde5=>renderGlobalQuizList(_0x3fdde5['target'][_0x42270a(0x5f3)])),document['getElementById']('confirm-global-live-btn')[_0x42270a(0x87d)](_0x42270a(0x79f),()=>{const _0x5cbe87=_0x42270a,_0x27e589=selectedGlobalQuizId;if(!_0x27e589)return;document['getElementById'](_0x5cbe87(0x49b))['classList'][_0x5cbe87(0x243)](_0x5cbe87(0x36f)),handleStartLiveRace(_0x27e589);}),document[_0x42270a(0x1cf)](_0x42270a(0x39c))['addEventListener']('input',renderProjects),document['getElementById'](_0x42270a(0x338))[_0x42270a(0x87d)]('change',async()=>{const _0x2e65d5=_0x42270a,_0xacb5f4=document[_0x2e65d5(0x1cf)](_0x2e65d5(0x338))[_0x2e65d5(0x5f3)],_0x36f896=doc(db,'globalSettings',_0x2e65d5(0x2e5));try{await setDoc(_0x36f896,{'projectSort':_0xacb5f4},{'merge':!![]});}catch(_0x47e48c){console[_0x2e65d5(0x105)](_0x2e65d5(0x326),_0x47e48c),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document['getElementById']('quiz-search-input')[_0x42270a(0x87d)](_0x42270a(0x334),renderQuizzes),document[_0x42270a(0x1cf)](_0x42270a(0x3e7))[_0x42270a(0x87d)](_0x42270a(0x79f),()=>{const _0x16956e=_0x42270a;globalDashboardSettings[_0x16956e(0x4f4)]='grid',saveUserPreference(_0x16956e(0x4f4),_0x16956e(0x4d1)),renderProjects();}),document['getElementById'](_0x42270a(0x6cc))[_0x42270a(0x87d)]('click',()=>{const _0x5bec79=_0x42270a;globalDashboardSettings['projectView']=_0x5bec79(0x247),saveUserPreference(_0x5bec79(0x4f4),_0x5bec79(0x247)),renderProjects();}),manageTab[_0x42270a(0x87d)]('click',()=>switchProjectTab(_0x42270a(0x491))),resultsTab[_0x42270a(0x87d)]('click',()=>switchProjectTab('results')),leaderboardTab[_0x42270a(0x87d)](_0x42270a(0x79f),()=>switchProjectTab(_0x42270a(0x1bc))),document[_0x42270a(0x1cf)](_0x42270a(0x558))[_0x42270a(0x87d)](_0x42270a(0x79f),()=>switchQuizDetailTab(_0x42270a(0x1b0))),document[_0x42270a(0x1cf)](_0x42270a(0x5e7))[_0x42270a(0x87d)](_0x42270a(0x79f),()=>switchQuizDetailTab('scores')),document[_0x42270a(0x1cf)](_0x42270a(0x643))[_0x42270a(0x87d)](_0x42270a(0x79f),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x42270a(0x1cf)](_0x42270a(0x75f))['addEventListener'](_0x42270a(0x79f),()=>switchQuizDetailTab(_0x42270a(0x7e2))),document[_0x42270a(0x1cf)](_0x42270a(0x35d))[_0x42270a(0x87d)](_0x42270a(0x79f),handleAnalyzeClass),generateWorksheetBtn[_0x42270a(0x87d)](_0x42270a(0x79f),generateWorksheet);const _0x292243=document['getElementById']('link-tab'),_0x17bdda=document[_0x42270a(0x1cf)](_0x42270a(0x7e3)),_0x51d9d6=document[_0x42270a(0x1cf)](_0x42270a(0x2ce)),_0x234533=document['getElementById'](_0x42270a(0x29f)),_0x2519f5=document['getElementById'](_0x42270a(0x321)),_0x18480d=document[_0x42270a(0x1cf)](_0x42270a(0x15b));topicTab[_0x42270a(0x87d)](_0x42270a(0x79f),()=>{const _0x2d5b15=_0x42270a;topicTab[_0x2d5b15(0x2e4)]['add'](_0x2d5b15(0x299)),textTab[_0x2d5b15(0x2e4)][_0x2d5b15(0x495)](_0x2d5b15(0x299)),fileTab[_0x2d5b15(0x2e4)][_0x2d5b15(0x495)]('active'),worksheetTab[_0x2d5b15(0x2e4)][_0x2d5b15(0x495)]('active');if(_0x292243)_0x292243[_0x2d5b15(0x2e4)][_0x2d5b15(0x495)](_0x2d5b15(0x299));if(_0x51d9d6)_0x51d9d6[_0x2d5b15(0x2e4)][_0x2d5b15(0x495)](_0x2d5b15(0x299));if(_0x2519f5)_0x2519f5[_0x2d5b15(0x2e4)][_0x2d5b15(0x495)](_0x2d5b15(0x299));topicInputArea[_0x2d5b15(0x2e4)][_0x2d5b15(0x495)](_0x2d5b15(0x36f)),textInputArea['classList'][_0x2d5b15(0x243)](_0x2d5b15(0x36f)),fileInputArea[_0x2d5b15(0x2e4)][_0x2d5b15(0x243)](_0x2d5b15(0x36f)),worksheetInputArea[_0x2d5b15(0x2e4)]['add'](_0x2d5b15(0x36f));if(_0x17bdda)_0x17bdda['classList'][_0x2d5b15(0x243)]('hidden');if(_0x234533)_0x234533[_0x2d5b15(0x2e4)]['add'](_0x2d5b15(0x36f));if(_0x18480d)_0x18480d[_0x2d5b15(0x2e4)]['add'](_0x2d5b15(0x36f));}),textTab[_0x42270a(0x87d)]('click',()=>{const _0x3c1b84=_0x42270a;textTab[_0x3c1b84(0x2e4)][_0x3c1b84(0x243)]('active'),topicTab[_0x3c1b84(0x2e4)][_0x3c1b84(0x495)](_0x3c1b84(0x299)),fileTab[_0x3c1b84(0x2e4)][_0x3c1b84(0x495)]('active'),worksheetTab['classList'][_0x3c1b84(0x495)]('active');if(_0x292243)_0x292243['classList'][_0x3c1b84(0x495)](_0x3c1b84(0x299));if(_0x51d9d6)_0x51d9d6['classList'][_0x3c1b84(0x495)]('active');if(_0x2519f5)_0x2519f5['classList']['remove']('active');textInputArea['classList'][_0x3c1b84(0x495)]('hidden'),topicInputArea['classList'][_0x3c1b84(0x243)]('hidden'),fileInputArea[_0x3c1b84(0x2e4)]['add'](_0x3c1b84(0x36f)),worksheetInputArea[_0x3c1b84(0x2e4)][_0x3c1b84(0x243)](_0x3c1b84(0x36f));if(_0x17bdda)_0x17bdda['classList'][_0x3c1b84(0x243)](_0x3c1b84(0x36f));if(_0x234533)_0x234533[_0x3c1b84(0x2e4)]['add'](_0x3c1b84(0x36f));if(_0x18480d)_0x18480d['classList']['add'](_0x3c1b84(0x36f));}),fileTab[_0x42270a(0x87d)](_0x42270a(0x79f),()=>{const _0x5d089a=_0x42270a;fileTab[_0x5d089a(0x2e4)]['add'](_0x5d089a(0x299)),topicTab[_0x5d089a(0x2e4)][_0x5d089a(0x495)](_0x5d089a(0x299)),textTab[_0x5d089a(0x2e4)]['remove']('active'),worksheetTab['classList']['remove']('active');if(_0x292243)_0x292243[_0x5d089a(0x2e4)][_0x5d089a(0x495)](_0x5d089a(0x299));if(_0x51d9d6)_0x51d9d6[_0x5d089a(0x2e4)]['remove']('active');if(_0x2519f5)_0x2519f5[_0x5d089a(0x2e4)][_0x5d089a(0x495)]('active');fileInputArea[_0x5d089a(0x2e4)][_0x5d089a(0x495)](_0x5d089a(0x36f)),topicInputArea[_0x5d089a(0x2e4)][_0x5d089a(0x243)](_0x5d089a(0x36f)),textInputArea['classList'][_0x5d089a(0x243)](_0x5d089a(0x36f)),worksheetInputArea[_0x5d089a(0x2e4)][_0x5d089a(0x243)](_0x5d089a(0x36f));if(_0x17bdda)_0x17bdda[_0x5d089a(0x2e4)][_0x5d089a(0x243)]('hidden');if(_0x234533)_0x234533[_0x5d089a(0x2e4)]['add'](_0x5d089a(0x36f));if(_0x18480d)_0x18480d['classList']['add'](_0x5d089a(0x36f));}),worksheetTab[_0x42270a(0x87d)](_0x42270a(0x79f),()=>{const _0x486e97=_0x42270a;worksheetTab[_0x486e97(0x2e4)][_0x486e97(0x243)]('active'),topicTab[_0x486e97(0x2e4)][_0x486e97(0x495)](_0x486e97(0x299)),textTab[_0x486e97(0x2e4)]['remove']('active'),fileTab['classList']['remove'](_0x486e97(0x299));if(_0x292243)_0x292243[_0x486e97(0x2e4)][_0x486e97(0x495)](_0x486e97(0x299));if(_0x51d9d6)_0x51d9d6[_0x486e97(0x2e4)][_0x486e97(0x495)]('active');if(_0x2519f5)_0x2519f5[_0x486e97(0x2e4)][_0x486e97(0x495)](_0x486e97(0x299));worksheetInputArea[_0x486e97(0x2e4)][_0x486e97(0x495)](_0x486e97(0x36f)),topicInputArea[_0x486e97(0x2e4)][_0x486e97(0x243)](_0x486e97(0x36f)),textInputArea[_0x486e97(0x2e4)]['add'](_0x486e97(0x36f)),fileInputArea[_0x486e97(0x2e4)]['add'](_0x486e97(0x36f));if(_0x17bdda)_0x17bdda[_0x486e97(0x2e4)][_0x486e97(0x243)](_0x486e97(0x36f));if(_0x234533)_0x234533[_0x486e97(0x2e4)][_0x486e97(0x243)](_0x486e97(0x36f));if(_0x18480d)_0x18480d['classList']['add']('hidden');});const _0x49f49b=document['getElementById'](_0x42270a(0x896)),_0x4c151f=document[_0x42270a(0x1cf)]('bank-input-area');_0x49f49b&&_0x49f49b['addEventListener'](_0x42270a(0x79f),()=>{const _0xe6f434=_0x42270a;topicTab[_0xe6f434(0x2e4)][_0xe6f434(0x495)]('active'),textTab['classList'][_0xe6f434(0x495)](_0xe6f434(0x299)),fileTab[_0xe6f434(0x2e4)][_0xe6f434(0x495)]('active'),worksheetTab[_0xe6f434(0x2e4)][_0xe6f434(0x495)](_0xe6f434(0x299));if(_0x292243)_0x292243['classList'][_0xe6f434(0x495)](_0xe6f434(0x299));if(_0x51d9d6)_0x51d9d6[_0xe6f434(0x2e4)]['remove'](_0xe6f434(0x299));if(_0x2519f5)_0x2519f5[_0xe6f434(0x2e4)][_0xe6f434(0x495)](_0xe6f434(0x299));_0x49f49b[_0xe6f434(0x2e4)][_0xe6f434(0x243)]('active'),topicInputArea[_0xe6f434(0x2e4)][_0xe6f434(0x243)](_0xe6f434(0x36f)),textInputArea[_0xe6f434(0x2e4)]['add'](_0xe6f434(0x36f)),fileInputArea[_0xe6f434(0x2e4)][_0xe6f434(0x243)](_0xe6f434(0x36f)),worksheetInputArea['classList'][_0xe6f434(0x243)](_0xe6f434(0x36f));if(_0x17bdda)_0x17bdda[_0xe6f434(0x2e4)][_0xe6f434(0x243)]('hidden');if(_0x234533)_0x234533[_0xe6f434(0x2e4)]['add'](_0xe6f434(0x36f));if(_0x18480d)_0x18480d[_0xe6f434(0x2e4)]['add']('hidden');_0x4c151f[_0xe6f434(0x2e4)][_0xe6f434(0x495)](_0xe6f434(0x36f)),displayQuestionBank();});_0x292243&&(_0x292243[_0x42270a(0x87d)](_0x42270a(0x79f),()=>{const _0x32cc41=_0x42270a;_0x292243['classList']['add'](_0x32cc41(0x299)),topicTab['classList'][_0x32cc41(0x495)]('active'),textTab[_0x32cc41(0x2e4)][_0x32cc41(0x495)](_0x32cc41(0x299)),fileTab[_0x32cc41(0x2e4)][_0x32cc41(0x495)](_0x32cc41(0x299)),worksheetTab['classList'][_0x32cc41(0x495)]('active');if(_0x51d9d6)_0x51d9d6[_0x32cc41(0x2e4)][_0x32cc41(0x495)](_0x32cc41(0x299));if(_0x2519f5)_0x2519f5[_0x32cc41(0x2e4)]['remove']('active');_0x17bdda['classList'][_0x32cc41(0x495)](_0x32cc41(0x36f)),topicInputArea[_0x32cc41(0x2e4)][_0x32cc41(0x243)](_0x32cc41(0x36f)),textInputArea[_0x32cc41(0x2e4)][_0x32cc41(0x243)](_0x32cc41(0x36f)),fileInputArea[_0x32cc41(0x2e4)][_0x32cc41(0x243)]('hidden'),worksheetInputArea[_0x32cc41(0x2e4)][_0x32cc41(0x243)](_0x32cc41(0x36f));if(_0x234533)_0x234533['classList']['add'](_0x32cc41(0x36f));if(_0x18480d)_0x18480d[_0x32cc41(0x2e4)]['add']('hidden');}),document['getElementById'](_0x42270a(0x3e0))[_0x42270a(0x87d)]('click',handleGenerateFromLink));_0x51d9d6&&_0x51d9d6[_0x42270a(0x87d)](_0x42270a(0x79f),()=>{const _0x2fe8c3=_0x42270a;_0x51d9d6[_0x2fe8c3(0x2e4)][_0x2fe8c3(0x243)](_0x2fe8c3(0x299)),topicTab[_0x2fe8c3(0x2e4)]['remove'](_0x2fe8c3(0x299)),textTab['classList'][_0x2fe8c3(0x495)](_0x2fe8c3(0x299)),fileTab[_0x2fe8c3(0x2e4)][_0x2fe8c3(0x495)](_0x2fe8c3(0x299)),worksheetTab[_0x2fe8c3(0x2e4)][_0x2fe8c3(0x495)](_0x2fe8c3(0x299));if(_0x292243)_0x292243[_0x2fe8c3(0x2e4)]['remove'](_0x2fe8c3(0x299));if(_0x49f49b)_0x49f49b['classList']['remove'](_0x2fe8c3(0x299));if(_0x2519f5)_0x2519f5[_0x2fe8c3(0x2e4)]['remove'](_0x2fe8c3(0x299));_0x234533['classList']['remove'](_0x2fe8c3(0x36f)),topicInputArea[_0x2fe8c3(0x2e4)]['add'](_0x2fe8c3(0x36f)),textInputArea['classList'][_0x2fe8c3(0x243)](_0x2fe8c3(0x36f)),fileInputArea[_0x2fe8c3(0x2e4)][_0x2fe8c3(0x243)](_0x2fe8c3(0x36f)),worksheetInputArea[_0x2fe8c3(0x2e4)][_0x2fe8c3(0x243)](_0x2fe8c3(0x36f));if(_0x17bdda)_0x17bdda['classList'][_0x2fe8c3(0x243)](_0x2fe8c3(0x36f));if(_0x4c151f)_0x4c151f[_0x2fe8c3(0x2e4)][_0x2fe8c3(0x243)]('hidden');if(_0x18480d)_0x18480d[_0x2fe8c3(0x2e4)][_0x2fe8c3(0x243)]('hidden');});_0x2519f5&&_0x2519f5[_0x42270a(0x87d)]('click',()=>{const _0x5bd852=_0x42270a;_0x2519f5[_0x5bd852(0x2e4)]['add'](_0x5bd852(0x299)),topicTab[_0x5bd852(0x2e4)][_0x5bd852(0x495)]('active'),textTab[_0x5bd852(0x2e4)][_0x5bd852(0x495)](_0x5bd852(0x299)),fileTab[_0x5bd852(0x2e4)][_0x5bd852(0x495)]('active'),worksheetTab[_0x5bd852(0x2e4)][_0x5bd852(0x495)](_0x5bd852(0x299));if(_0x292243)_0x292243['classList'][_0x5bd852(0x495)](_0x5bd852(0x299));if(_0x51d9d6)_0x51d9d6[_0x5bd852(0x2e4)][_0x5bd852(0x495)](_0x5bd852(0x299));if(_0x49f49b)_0x49f49b['classList'][_0x5bd852(0x495)](_0x5bd852(0x299));_0x18480d[_0x5bd852(0x2e4)]['remove'](_0x5bd852(0x36f)),topicInputArea[_0x5bd852(0x2e4)]['add'](_0x5bd852(0x36f)),textInputArea['classList'][_0x5bd852(0x243)](_0x5bd852(0x36f)),fileInputArea[_0x5bd852(0x2e4)][_0x5bd852(0x243)]('hidden'),worksheetInputArea[_0x5bd852(0x2e4)][_0x5bd852(0x243)]('hidden');if(_0x17bdda)_0x17bdda['classList'][_0x5bd852(0x243)](_0x5bd852(0x36f));if(_0x234533)_0x234533[_0x5bd852(0x2e4)][_0x5bd852(0x243)]('hidden');if(_0x4c151f)_0x4c151f[_0x5bd852(0x2e4)][_0x5bd852(0x243)](_0x5bd852(0x36f));});const _0x3219e3=document['getElementById'](_0x42270a(0x4ce)),_0x19f7b2=document['getElementById'](_0x42270a(0x7cc));_0x3219e3&&_0x3219e3['addEventListener']('change',_0x397ede=>{const _0x4d8245=_0x42270a;_0x397ede[_0x4d8245(0x6c8)][_0x4d8245(0x4c8)][_0x4d8245(0x431)]>0x0?_0x19f7b2[_0x4d8245(0x323)]=![]:_0x19f7b2[_0x4d8245(0x323)]=!![];});_0x19f7b2&&_0x19f7b2[_0x42270a(0x87d)]('click',handleGenerateFromBlueprint);const _0x2f4cb6=document['getElementById'](_0x42270a(0x8d9)),_0x3f4653=document[_0x42270a(0x1cf)](_0x42270a(0x54c));_0x2f4cb6&&_0x2f4cb6['addEventListener']('change',_0x4c6a6=>{const _0x4f4896=_0x42270a;_0x3f4653[_0x4f4896(0x323)]=_0x4c6a6[_0x4f4896(0x6c8)][_0x4f4896(0x4c8)]['length']===0x0;});_0x3f4653&&_0x3f4653[_0x42270a(0x87d)](_0x42270a(0x79f),handleGenerateParallelTest);loadQuizBtn[_0x42270a(0x87d)](_0x42270a(0x79f),handleLoadQuiz),startQuizBtn[_0x42270a(0x87d)]('click',async()=>{const _0x1da2d2=_0x42270a,_0x3536da=document['getElementById']('student-name-select');currentStudentName=_0x3536da[_0x1da2d2(0x5f3)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x230061=currentQuizData['id'],_0x1369c8=doc(db,'artifacts/'+appId+_0x1da2d2(0x576)+_0x230061+_0x1da2d2(0x862),currentStudentName);await setDoc(_0x1369c8,{'studentName':currentStudentName,'startedAt':new Date()[_0x1da2d2(0x751)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x25d4dc){console[_0x1da2d2(0x105)](_0x1da2d2(0x426),_0x25d4dc),showMessage(_0x1da2d2(0x65b));return;}studentNameSelectionView[_0x1da2d2(0x2e4)]['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x42270a(0x1cf)]('join-live-game-btn')['addEventListener'](_0x42270a(0x79f),showJoinGameView),document[_0x42270a(0x1cf)](_0x42270a(0x5f1))[_0x42270a(0x87d)]('click',handleJoinLiveGame),document[_0x42270a(0x1cf)]('back-to-student-initial-btn')[_0x42270a(0x87d)](_0x42270a(0x79f),()=>showView('student'));const _0x37a201=()=>{const _0x5e8f6d=_0x42270a,_0x283d08=document[_0x5e8f6d(0x1cf)](_0x5e8f6d(0x17a))[_0x5e8f6d(0x52e)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x5e8f6d(0x1a7)+(_0x283d08||_0x5e8f6d(0x4d9));},_0x489c2e=document[_0x42270a(0x1cf)](_0x42270a(0x3fe));_0x489c2e&&_0x489c2e['addEventListener'](_0x42270a(0x334),_0x47abce=>{const _0x4df644=_0x42270a,_0x5d0803=_0x47abce[_0x4df644(0x6c8)][_0x4df644(0x5f3)][_0x4df644(0x56f)]()[_0x4df644(0x598)](),_0x3ff9c8=document[_0x4df644(0x1cf)](_0x4df644(0x694)),_0x50a98=_0x3ff9c8['querySelectorAll'](_0x4df644(0x700));_0x50a98[_0x4df644(0x2a5)](_0xde974b=>{const _0x13f212=_0x4df644;let _0x212102=![];const _0x59d553=_0xde974b[_0x13f212(0x7ab)](_0x13f212(0x5a1));_0x59d553[_0x13f212(0x2a5)](_0x25ebe3=>{const _0x5ceeac=_0x13f212,_0x34a6e9=_0x25ebe3[_0x5ceeac(0x884)]('.topic-name-display')[_0x5ceeac(0x52e)][_0x5ceeac(0x56f)]();_0x34a6e9[_0x5ceeac(0x1db)](_0x5d0803)?(_0x25ebe3[_0x5ceeac(0x3d4)][_0x5ceeac(0x1d4)]=_0x5ceeac(0x6b4),_0x212102=!![]):_0x25ebe3[_0x5ceeac(0x3d4)][_0x5ceeac(0x1d4)]=_0x5ceeac(0x3ba);}),_0x212102?_0xde974b['style'][_0x13f212(0x1d4)]='block':_0xde974b[_0x13f212(0x3d4)][_0x13f212(0x1d4)]='none';});});document['getElementById'](_0x42270a(0x737))[_0x42270a(0x87d)](_0x42270a(0x79f),()=>exportTableAsImage('results-table-container',_0x37a201())),document[_0x42270a(0x1cf)]('export-pdf-btn')['addEventListener'](_0x42270a(0x79f),()=>exportTableAsPDF(_0x42270a(0x7d4),_0x37a201())),document['getElementById'](_0x42270a(0x7be))[_0x42270a(0x87d)](_0x42270a(0x79f),()=>exportTableAsWord(_0x42270a(0x8c4),_0x37a201())),document[_0x42270a(0x1cf)](_0x42270a(0x36e))[_0x42270a(0x87d)]('click',()=>exportTableAsExcel(_0x42270a(0x7d4),_0x37a201()));const _0x4972c0=()=>{const _0x15714c=_0x42270a,_0x2d9e45=document[_0x15714c(0x1cf)](_0x15714c(0x17a))[_0x15714c(0x52e)][_0x15714c(0x278)](/[^a-z0-9]/gi,'_')[_0x15714c(0x56f)]();return _0x15714c(0x35e)+(_0x2d9e45||_0x15714c(0x4d9));};document[_0x42270a(0x1cf)]('export-leaderboard-image-btn')[_0x42270a(0x87d)]('click',()=>exportTableAsImage(_0x42270a(0x27d),_0x4972c0())),document['getElementById'](_0x42270a(0x268))[_0x42270a(0x87d)](_0x42270a(0x79f),()=>exportTableAsPDF(_0x42270a(0x533),_0x4972c0())),document[_0x42270a(0x1cf)](_0x42270a(0x671))[_0x42270a(0x87d)](_0x42270a(0x79f),()=>exportTableAsWord(_0x42270a(0x27d),_0x4972c0())),document['getElementById'](_0x42270a(0x720))[_0x42270a(0x87d)](_0x42270a(0x79f),()=>exportTableAsExcel(_0x42270a(0x533),_0x4972c0())),projectQuizzesList[_0x42270a(0x87d)](_0x42270a(0x79f),async _0xb6d2af=>{const _0xea64b7=_0x42270a,_0x4efe70=_0xb6d2af[_0xea64b7(0x6c8)][_0xea64b7(0x5d9)](_0xea64b7(0x861)),_0x21393d=_0xb6d2af[_0xea64b7(0x6c8)][_0xea64b7(0x5d9)](_0xea64b7(0x7cd)),_0x25e262=_0xb6d2af[_0xea64b7(0x6c8)][_0xea64b7(0x5d9)](_0xea64b7(0x335)),_0x485d95=_0xb6d2af['target'][_0xea64b7(0x5d9)]('.generate-lesson-btn'),_0x29efe3=_0xb6d2af[_0xea64b7(0x6c8)]['closest']('.star-quiz-btn'),_0x11f896=_0xb6d2af[_0xea64b7(0x6c8)][_0xea64b7(0x5d9)](_0xea64b7(0x889)),_0x356d33=_0xb6d2af[_0xea64b7(0x6c8)][_0xea64b7(0x5d9)]('.edit-quiz-btn'),_0x4f0371=_0xb6d2af[_0xea64b7(0x6c8)][_0xea64b7(0x5d9)](_0xea64b7(0x695)),_0x3a13ed=_0xb6d2af[_0xea64b7(0x6c8)][_0xea64b7(0x5d9)](_0xea64b7(0x6af)),_0x135c6a=_0xb6d2af[_0xea64b7(0x6c8)]['closest']('.rename-quiz-btn'),_0x35b6c5=_0xb6d2af[_0xea64b7(0x6c8)][_0xea64b7(0x5d9)](_0xea64b7(0x163)),_0x5e0534=_0xb6d2af[_0xea64b7(0x6c8)]['closest']('.move-quiz-btn'),_0x28bf00=_0xb6d2af['target']['closest'](_0xea64b7(0x3a9)),_0x47e2bb=_0xb6d2af[_0xea64b7(0x6c8)][_0xea64b7(0x5d9)](_0xea64b7(0x4ab)),_0x10eec7=_0xb6d2af[_0xea64b7(0x6c8)]['closest'](_0xea64b7(0x34d)),_0x44d554=_0xb6d2af['target'][_0xea64b7(0x5d9)](_0xea64b7(0x390)),_0x42d19c=_0xb6d2af[_0xea64b7(0x6c8)][_0xea64b7(0x5d9)](_0xea64b7(0x87f)),_0x571f8c=_0xb6d2af[_0xea64b7(0x6c8)][_0xea64b7(0x5d9)](_0xea64b7(0x6df)),_0x49b6a2=_0xb6d2af[_0xea64b7(0x6c8)][_0xea64b7(0x5d9)](_0xea64b7(0x42a)),_0x5b414e=_0xb6d2af[_0xea64b7(0x6c8)][_0xea64b7(0x5d9)](_0xea64b7(0x194)),_0x841630=_0xb6d2af['target'][_0xea64b7(0x5d9)](_0xea64b7(0x2ba));if(_0x841630){const _0x4f0720=_0x841630['dataset'][_0xea64b7(0x501)],_0x1d67ca=document[_0xea64b7(0x1cf)](_0xea64b7(0x33b)+_0x4f0720);_0x1d67ca&&_0x1d67ca[_0xea64b7(0x2e4)][_0xea64b7(0x81e)](_0xea64b7(0x36f));}else{if(_0x21393d){const _0x30c543=_0x21393d['dataset'][_0xea64b7(0x501)],_0x1a49b6=allQuizzes[_0xea64b7(0x2c3)](_0x154887=>_0x154887['id']===_0x30c543);_0x1a49b6&&handleGenerateParallelPostTest(_0x1a49b6);}else{if(_0x25e262)handleCompareResults(_0x25e262[_0xea64b7(0x217)][_0xea64b7(0x501)],_0x25e262[_0xea64b7(0x217)][_0xea64b7(0x14e)]);else{if(_0x485d95){const _0x15a1cc=_0x485d95[_0xea64b7(0x217)]['quizId'],_0xd784e9=allQuizzes['find'](_0x429758=>_0x429758['id']===_0x15a1cc);_0xd784e9&&_0xd784e9[_0xea64b7(0x7f2)]?(displayLessonPlan(_0xd784e9[_0xea64b7(0x7f2)],_0xd784e9),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x15a1cc)),document[_0xea64b7(0x1cf)](_0xea64b7(0x6ef))[_0xea64b7(0x884)]('h3')['textContent']=_0xea64b7(0x1e0),document[_0xea64b7(0x1cf)](_0xea64b7(0x3b0))[_0xea64b7(0x52e)]='สร้างใหม่'):handleGenerateLessonPlan(_0x15a1cc);}else{if(_0x29efe3)handleToggleStarQuiz(_0x29efe3[_0xea64b7(0x217)]['quizId']);else{if(_0x11f896)copyTextToClipboard(_0x11f896[_0xea64b7(0x217)][_0xea64b7(0x501)],'คัดลอกรหัสแล้ว!');else{if(_0x356d33)handleOpenQuizEditor(_0x356d33[_0xea64b7(0x217)][_0xea64b7(0x501)]);else{if(_0x4f0371)handleQuizSettings(_0x4f0371[_0xea64b7(0x217)][_0xea64b7(0x501)]);else{if(_0x3a13ed)handleDuplicateQuiz(_0x3a13ed['dataset']['quizId']);else{if(_0x135c6a)handleRenameQuiz(_0x135c6a[_0xea64b7(0x217)][_0xea64b7(0x501)],_0x135c6a[_0xea64b7(0x217)]['topic']);else{if(_0x35b6c5){const _0x19dc86=_0x35b6c5[_0xea64b7(0x217)][_0xea64b7(0x501)],_0x38ef55=allQuizzes['find'](_0x5a07b0=>_0x5a07b0['id']===_0x19dc86);_0x38ef55&&handleGenerateParallelFromBank(_0x38ef55);}else{if(_0x5e0534)handleMoveQuiz(_0x5e0534['dataset']['quizId']);else{if(_0x28bf00)handleManualQuizPairing(_0x28bf00[_0xea64b7(0x217)]['quizId']);else{if(_0x47e2bb)handleUnpairQuiz(_0x47e2bb[_0xea64b7(0x217)][_0xea64b7(0x501)]);else{if(_0x10eec7){const _0x6ed52f=_0x10eec7[_0xea64b7(0x217)][_0xea64b7(0x501)],_0x2d320a=allQuizzes['find'](_0x36e085=>_0x36e085['id']===_0x6ed52f);if(_0x2d320a)startPresentation(_0x2d320a);}else{if(_0x44d554){const _0x40f436=_0x44d554[_0xea64b7(0x217)][_0xea64b7(0x501)],_0x36a2ca=allQuizzes[_0xea64b7(0x2c3)](_0x5389d7=>_0x5389d7['id']===_0x40f436);_0x36a2ca&&(currentQuizData=_0x36a2ca,startAdminTest());}else{if(_0x42d19c)handleStartLiveRace(_0x42d19c['dataset'][_0xea64b7(0x501)]);else{if(_0x571f8c)actionTargetId=_0x571f8c[_0xea64b7(0x217)][_0xea64b7(0x501)],document[_0xea64b7(0x1cf)](_0xea64b7(0x85e))[_0xea64b7(0x2e4)][_0xea64b7(0x495)](_0xea64b7(0x36f));else{if(_0x49b6a2)showConfirmation(_0xea64b7(0x7fc)+_0x49b6a2[_0xea64b7(0x217)][_0xea64b7(0x7aa)]+_0xea64b7(0x791),()=>handleDeleteQuiz(_0x49b6a2[_0xea64b7(0x217)][_0xea64b7(0x501)]));else{if(_0x5b414e)handleQuizStatus(_0x5b414e[_0xea64b7(0x217)][_0xea64b7(0x501)]);else _0x4efe70&&showQuizDetailView(_0x4efe70[_0xea64b7(0x217)][_0xea64b7(0x501)]);}}}}}}}}}}}}}}}}}}}}),document[_0x42270a(0x1cf)](_0x42270a(0x533))['querySelector'](_0x42270a(0x449))['addEventListener']('click',_0x30122a=>{const _0xe68005=_0x42270a,_0x4d413a=_0x30122a[_0xe68005(0x6c8)]['closest']('.sortable-header');if(!_0x4d413a||!_0x4d413a['dataset'][_0xe68005(0x8d1)])return;const _0x1fe288=_0x4d413a[_0xe68005(0x217)][_0xe68005(0x8d1)];if(quizLeaderboardSortBy===_0x1fe288)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0xe68005(0x291)?_0xe68005(0x55e):_0xe68005(0x291);else{quizLeaderboardSortBy=_0x1fe288;const _0x302a00=[_0xe68005(0x432)];quizLeaderboardSortOrder=_0x302a00['includes'](_0x1fe288)?_0xe68005(0x291):_0xe68005(0x55e);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0xe68005(0x17c));}),document[_0x42270a(0x1cf)](_0x42270a(0x6c4))[_0x42270a(0x87d)](_0x42270a(0x79f),closePresentation),document[_0x42270a(0x1cf)]('prev-question-btn')[_0x42270a(0x87d)](_0x42270a(0x79f),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x42270a(0x1cf)](_0x42270a(0x5fb))[_0x42270a(0x87d)](_0x42270a(0x79f),()=>{const _0x25db14=_0x42270a;currentQuizData[_0x25db14(0x2eb)]&&currentPresentationSlide<currentQuizData[_0x25db14(0x2eb)][_0x25db14(0x431)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x42270a(0x87d)](_0x42270a(0x372),()=>{const _0x7a8764=_0x42270a;!document[_0x7a8764(0x74e)]&&(presentationModal[_0x7a8764(0x3d4)][_0x7a8764(0x1d4)]=_0x7a8764(0x3ba));}),document[_0x42270a(0x1cf)](_0x42270a(0x60f))[_0x42270a(0x87d)](_0x42270a(0x79f),handleDeleteAllStudents),studentList[_0x42270a(0x87d)]('click',_0x50aeeb=>{const _0x48c091=_0x42270a,_0x5b325c=_0x50aeeb[_0x48c091(0x6c8)][_0x48c091(0x5d9)](_0x48c091(0x241));if(_0x5b325c){const _0xf05928=_0x5b325c[_0x48c091(0x217)][_0x48c091(0x432)];handleDeleteStudent(_0xf05928);}}),document['getElementById'](_0x42270a(0x561))[_0x42270a(0x87d)](_0x42270a(0x79f),handleGenerateFromFileClick),fileUploadInput[_0x42270a(0x87d)]('change',_0x5f361c=>{const _0x5ec6f8=_0x42270a,_0x551008=_0x5f361c[_0x5ec6f8(0x6c8)]['files'][0x0],_0x39b23c=document[_0x5ec6f8(0x1cf)](_0x5ec6f8(0x561));_0x551008?(selectedFile=_0x551008,_0x39b23c['disabled']=![]):(selectedFile=null,_0x39b23c[_0x5ec6f8(0x323)]=!![]);}),document[_0x42270a(0x1cf)](_0x42270a(0x73b))[_0x42270a(0x87d)](_0x42270a(0x595),_0x2fbcb8=>{const _0x28c5c2=_0x42270a,_0x208397=document[_0x28c5c2(0x1cf)](_0x28c5c2(0x881)),_0x3235f5=document[_0x28c5c2(0x1cf)]('timer-duration-label'),_0x1c4d17=document[_0x28c5c2(0x1cf)]('timer-duration-input');_0x2fbcb8['target'][_0x28c5c2(0x5f3)]==='none'?_0x208397['classList'][_0x28c5c2(0x243)](_0x28c5c2(0x36f)):(_0x208397['classList'][_0x28c5c2(0x495)](_0x28c5c2(0x36f)),_0x2fbcb8['target'][_0x28c5c2(0x5f3)]===_0x28c5c2(0x75d)?(_0x3235f5['textContent']=_0x28c5c2(0x156),_0x1c4d17['value']='10'):(_0x3235f5[_0x28c5c2(0x52e)]=_0x28c5c2(0x467),_0x1c4d17[_0x28c5c2(0x5f3)]='30'));}),document['getElementById'](_0x42270a(0x7d3))[_0x42270a(0x87d)](_0x42270a(0x595),_0x11c502=>{const _0x486b65=_0x42270a,_0x1cadfb=document[_0x486b65(0x1cf)]('num-choices-container'),_0x532d49=_0x11c502[_0x486b65(0x6c8)][_0x486b65(0x5f3)],_0x5b2a82=document['querySelector'](_0x486b65(0x870)),_0x1520e0=document['getElementById'](_0x486b65(0x340)),_0x538097=document[_0x486b65(0x1cf)](_0x486b65(0x6a8));_0x532d49===_0x486b65(0x2d8)?_0x5b2a82['textContent']=_0x486b65(0x80b):_0x5b2a82[_0x486b65(0x52e)]='จำนวนข้อ:',_0x532d49===_0x486b65(0x207)||_0x532d49===_0x486b65(0x8d7)||_0x532d49==='mixed'?_0x1cadfb[_0x486b65(0x2e4)][_0x486b65(0x495)]('hidden'):_0x1cadfb[_0x486b65(0x2e4)]['add'](_0x486b65(0x36f)),_0x1520e0[_0x486b65(0x50c)]=_0x538097[_0x486b65(0x5f3)];}),document[_0x42270a(0x1cf)](_0x42270a(0x6a8))[_0x42270a(0x87d)](_0x42270a(0x334),_0x1d0721=>{const _0x2f3d60=_0x42270a;document[_0x2f3d60(0x1cf)](_0x2f3d60(0x340))[_0x2f3d60(0x50c)]=_0x1d0721['target'][_0x2f3d60(0x5f3)];}),document[_0x42270a(0x1cf)]('modal-timer-mode-select')[_0x42270a(0x87d)](_0x42270a(0x595),_0x5540e3=>{const _0x893a6e=_0x42270a,_0x5031=document[_0x893a6e(0x1cf)]('modal-timer-duration-container'),_0x5c4efb=document[_0x893a6e(0x1cf)](_0x893a6e(0x74f)),_0x1ec841=document[_0x893a6e(0x1cf)](_0x893a6e(0x6e2));_0x5540e3[_0x893a6e(0x6c8)][_0x893a6e(0x5f3)]==='none'?_0x5031[_0x893a6e(0x2e4)][_0x893a6e(0x243)](_0x893a6e(0x36f)):(_0x5031[_0x893a6e(0x2e4)][_0x893a6e(0x495)]('hidden'),_0x5540e3['target'][_0x893a6e(0x5f3)]===_0x893a6e(0x75d)?_0x5c4efb[_0x893a6e(0x52e)]=_0x893a6e(0x156):_0x5c4efb[_0x893a6e(0x52e)]='ระยะเวลา\x20(วินาที):');}),document[_0x42270a(0x1cf)]('cancel-quiz-edits-btn')[_0x42270a(0x87d)](_0x42270a(0x79f),()=>{const _0xfe4f55=_0x42270a;document[_0xfe4f55(0x1cf)](_0xfe4f55(0x579))[_0xfe4f55(0x2e4)][_0xfe4f55(0x243)](_0xfe4f55(0x36f));}),document[_0x42270a(0x1cf)]('cancel-quiz-edits-btn-footer')[_0x42270a(0x87d)](_0x42270a(0x79f),()=>{const _0x4f9063=_0x42270a;document['getElementById']('quiz-editor-modal')[_0x4f9063(0x2e4)]['add'](_0x4f9063(0x36f));}),document[_0x42270a(0x1cf)]('verify-answers-editor-btn')[_0x42270a(0x87d)](_0x42270a(0x79f),handleVerifyAnswersInEditor),document['getElementById'](_0x42270a(0x2fc))[_0x42270a(0x87d)]('click',()=>{const _0x4a763f=_0x42270a;document[_0x4a763f(0x1cf)](_0x4a763f(0x579))[_0x4a763f(0x2e4)][_0x4a763f(0x243)]('hidden'),showConfirmation(_0x4a763f(0x89a),handleSaveChanges);}),document[_0x42270a(0x1cf)](_0x42270a(0x1ba))['addEventListener'](_0x42270a(0x79f),handleAutoFixLatex);const _0xf778ee=document[_0x42270a(0x1cf)](_0x42270a(0x617));_0xf778ee&&_0xf778ee[_0x42270a(0x87d)](_0x42270a(0x79f),_0x1ebc5e=>{const _0x5886c1=_0x42270a,_0x2efc7e=_0x1ebc5e['target'][_0x5886c1(0x5d9)](_0x5886c1(0x819));if(_0x2efc7e){const _0x2bbb66=_0x2efc7e[_0x5886c1(0x5d9)](_0x5886c1(0x8ba)),_0x58ded6=parseInt(_0x2bbb66[_0x5886c1(0x217)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x58ded6);}});document[_0x42270a(0x1cf)]('open-quiz-bank-btn')['addEventListener']('click',openQuizBankModal),document['getElementById'](_0x42270a(0x302))[_0x42270a(0x87d)](_0x42270a(0x79f),()=>{const _0x1e3f0e=_0x42270a;document['getElementById'](_0x1e3f0e(0x6e0))['classList'][_0x1e3f0e(0x243)](_0x1e3f0e(0x36f));}),document['getElementById'](_0x42270a(0x785))['addEventListener'](_0x42270a(0x334),_0x24a56a=>renderQuizBankList(_0x24a56a['target'][_0x42270a(0x5f3)]));const _0x2518d8=document[_0x42270a(0x1cf)](_0x42270a(0x694));if(_0x2518d8){let _0x25d012=null;_0x2518d8[_0x42270a(0x87d)](_0x42270a(0x79f),_0x5df021=>{const _0x44d703=_0x42270a,_0x5a2109=_0x5df021[_0x44d703(0x6c8)],_0x3e8c73=_0x5a2109['closest'](_0x44d703(0x494)),_0x245147=_0x5a2109[_0x44d703(0x5d9)](_0x44d703(0x38c)),_0x3e716f=_0x5a2109[_0x44d703(0x5d9)](_0x44d703(0x250)),_0x119dda=_0x5a2109[_0x44d703(0x5d9)](_0x44d703(0x515));if(_0x245147){_0x5df021[_0x44d703(0x6a4)]();const _0x2f3e6d=_0x245147[_0x44d703(0x217)]['id'],_0x34692e=_0x245147[_0x44d703(0x5d9)](_0x44d703(0x317))[_0x44d703(0x884)]('.topic-name-display')[_0x44d703(0x52e)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x34692e+'\x22?',()=>handleDeleteCustomTopic(_0x2f3e6d));}else{if(_0x3e8c73){_0x5df021[_0x44d703(0x6a4)]();_0x25d012&&toggleTopicEditMode(_0x25d012,![]);const _0xc6d8d4=_0x3e8c73[_0x44d703(0x5d9)](_0x44d703(0x14a));_0x25d012=_0xc6d8d4,toggleTopicEditMode(_0xc6d8d4,!![]);}else{if(_0x3e716f){_0x5df021[_0x44d703(0x6a4)]();const _0x4c4d92=_0x3e716f[_0x44d703(0x217)]['id'],_0x1c2220=_0x3e716f[_0x44d703(0x5d9)](_0x44d703(0x14a)),_0x1aab4e=_0x1c2220[_0x44d703(0x884)](_0x44d703(0x594))[_0x44d703(0x5f3)];handleUpdateCustomTopic(_0x4c4d92,_0x1aab4e),_0x25d012=null;}else{if(_0x119dda){_0x5df021['preventDefault']();const _0x538ddc=_0x119dda[_0x44d703(0x5d9)](_0x44d703(0x14a));toggleTopicEditMode(_0x538ddc,![]),_0x25d012=null;}}}}}),document[_0x42270a(0x1cf)](_0x42270a(0x68d))[_0x42270a(0x87d)](_0x42270a(0x79f),()=>{const _0x17689a=_0x42270a;document[_0x17689a(0x1cf)](_0x17689a(0x516))[_0x17689a(0x2e4)][_0x17689a(0x243)](_0x17689a(0x36f));}),document[_0x42270a(0x1cf)](_0x42270a(0x815))[_0x42270a(0x87d)](_0x42270a(0x79f),()=>{const _0x45b96e=_0x42270a;document[_0x45b96e(0x1cf)](_0x45b96e(0x516))[_0x45b96e(0x2e4)][_0x45b96e(0x243)]('hidden');}),document[_0x42270a(0x1cf)]('export-lesson-pdf-btn')['addEventListener'](_0x42270a(0x79f),handleExportLessonPDF);}document[_0x42270a(0x1cf)](_0x42270a(0x6f1))['addEventListener'](_0x42270a(0x79f),()=>{const _0x48e17e=_0x42270a;document[_0x48e17e(0x1cf)](_0x48e17e(0x19c))['classList'][_0x48e17e(0x243)](_0x48e17e(0x36f));}),document['getElementById'](_0x42270a(0x4c0))['addEventListener'](_0x42270a(0x79f),()=>{const _0x434559=_0x42270a;document[_0x434559(0x1cf)]('comparison-modal')['classList'][_0x434559(0x243)](_0x434559(0x36f));}),setupComparisonModalTabs(),document[_0x42270a(0x1c3)][_0x42270a(0x87d)](_0x42270a(0x79f),function(_0x1ebd48){const _0x2525df=_0x42270a;if(_0x1ebd48[_0x2525df(0x6c8)]['classList'][_0x2525df(0x367)](_0x2525df(0x607))){const _0x27ee53=unescape(_0x1ebd48[_0x2525df(0x6c8)]['dataset']['topic']);startSkillPractice(_0x27ee53);}}),document[_0x42270a(0x1cf)](_0x42270a(0x729))[_0x42270a(0x87d)](_0x42270a(0x79f),_0x39f888=>{const _0x33b929=_0x42270a,_0x5beb45=_0x39f888[_0x33b929(0x6c8)]['closest'](_0x33b929(0x1f9));if(_0x5beb45){const _0x3f6308=_0x5beb45[_0x33b929(0x217)]['studentName'];handleDeleteSubmission(_0x3f6308);}});}async function showStudentProgressView(){const _0x1b3f8c=_0x3fc9b3;studentInitialView[_0x1b3f8c(0x2e4)][_0x1b3f8c(0x243)]('hidden'),document[_0x1b3f8c(0x1cf)](_0x1b3f8c(0x6c7))[_0x1b3f8c(0x2e4)][_0x1b3f8c(0x495)](_0x1b3f8c(0x36f));const _0x59ff9e=document[_0x1b3f8c(0x1cf)](_0x1b3f8c(0x1e5)),_0x2cf3d8=document[_0x1b3f8c(0x1cf)](_0x1b3f8c(0x574)),_0x1a31f3=document[_0x1b3f8c(0x1cf)](_0x1b3f8c(0x8b3));_0x1a31f3[_0x1b3f8c(0x6da)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x2cf3d8[_0x1b3f8c(0x6da)]=_0x1b3f8c(0x6f7),_0x2cf3d8[_0x1b3f8c(0x323)]=!![],_0x59ff9e[_0x1b3f8c(0x6da)]=_0x1b3f8c(0x630);if(allProjects['length']===0x0){const _0x4ae163=collection(db,'artifacts/'+appId+_0x1b3f8c(0x5ce)),_0x214306=await getDocs(_0x4ae163);allProjects=_0x214306[_0x1b3f8c(0x145)][_0x1b3f8c(0x4cc)](_0x5edf94=>({'id':_0x5edf94['id'],..._0x5edf94[_0x1b3f8c(0x112)]()}));}const _0x3fe51c=allProjects[_0x1b3f8c(0x18e)](_0x33777e=>_0x33777e[_0x1b3f8c(0x6b7)]?.[_0x1b3f8c(0x388)]!==![]);_0x3fe51c[_0x1b3f8c(0x8d1)]((_0x1041ff,_0x19f475)=>_0x1041ff['projectName'][_0x1b3f8c(0x1b3)](_0x19f475[_0x1b3f8c(0x55a)],'th')),_0x59ff9e['innerHTML']=_0x1b3f8c(0x33c)+_0x3fe51c['map'](_0x3240bf=>_0x1b3f8c(0x380)+_0x3240bf['id']+'\x22>'+_0x3240bf[_0x1b3f8c(0x55a)]+'</option>')[_0x1b3f8c(0x8b1)](''),_0x59ff9e['onchange']=()=>{const _0x23f771=_0x1b3f8c,_0x37ab65=_0x2cf3d8[_0x23f771(0x5f3)],_0x2875c3=_0x59ff9e[_0x23f771(0x5f3)];_0x2cf3d8[_0x23f771(0x323)]=!![],_0x2cf3d8[_0x23f771(0x6da)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x1a31f3[_0x23f771(0x6da)]=_0x23f771(0x404);if(!_0x2875c3)return;const _0x80eb98=allProjects['find'](_0x10590b=>_0x10590b['id']===_0x2875c3);if(!_0x80eb98||!_0x80eb98['students'])return;const _0x9ff238=()=>{const _0x14cf54=_0x23f771;_0x2cf3d8[_0x14cf54(0x6da)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x80eb98[_0x14cf54(0x7bd)]['map'](_0x115d59=>_0x14cf54(0x380)+_0x115d59+'\x22>'+_0x115d59+'</option>')['join'](''),_0x2cf3d8[_0x14cf54(0x323)]=![];const _0x2fad8a=Array[_0x14cf54(0x40c)](_0x2cf3d8['options'])[_0x14cf54(0x4cc)](_0x329d31=>_0x329d31[_0x14cf54(0x5f3)]);if(_0x37ab65&&_0x2fad8a[_0x14cf54(0x1db)](_0x37ab65))_0x2cf3d8['value']=_0x37ab65,_0x2cf3d8[_0x14cf54(0x4eb)](new Event(_0x14cf54(0x595)));else _0x80eb98[_0x14cf54(0x7bd)]['length']===0x1&&(_0x2cf3d8['value']=_0x80eb98[_0x14cf54(0x7bd)][0x0],_0x2cf3d8[_0x14cf54(0x4eb)](new Event(_0x14cf54(0x595))));};if(_0x80eb98[_0x23f771(0x6b7)]?.[_0x23f771(0x51f)]){if(sessionStorage[_0x23f771(0x45e)](_0x23f771(0x539)+_0x2875c3)==='true'){_0x9ff238();return;}const _0x8e7079=document[_0x23f771(0x1cf)]('project-passcode-modal'),_0x316987=document[_0x23f771(0x1cf)](_0x23f771(0x4c5)),_0x4141af=document[_0x23f771(0x1cf)]('cancel-passcode-btn'),_0x25519f=document[_0x23f771(0x1cf)]('student-passcode-input'),_0x19f7d7=document[_0x23f771(0x1cf)]('passcode-error-msg');document[_0x23f771(0x1cf)](_0x23f771(0x225))[_0x23f771(0x52e)]=_0x23f771(0x128)+_0x80eb98[_0x23f771(0x55a)],_0x25519f['value']='',_0x19f7d7['classList'][_0x23f771(0x243)]('hidden'),_0x8e7079['classList'][_0x23f771(0x495)](_0x23f771(0x36f));const _0x427d7f=()=>{const _0x509b89=_0x23f771,_0x2a981f=_0x25519f[_0x509b89(0x5f3)][_0x509b89(0x598)]();_0x2a981f===_0x80eb98['settings'][_0x509b89(0x141)]?(sessionStorage[_0x509b89(0x6b9)](_0x509b89(0x539)+_0x2875c3,_0x509b89(0x769)),_0x8e7079[_0x509b89(0x2e4)][_0x509b89(0x243)]('hidden'),_0x9ff238(),_0x316987[_0x509b89(0x760)](_0x509b89(0x79f),_0x427d7f)):_0x19f7d7[_0x509b89(0x2e4)]['remove'](_0x509b89(0x36f));};_0x316987['onclick']=_0x427d7f,_0x4141af[_0x23f771(0x377)]=()=>{const _0x3dfd30=_0x23f771;_0x8e7079[_0x3dfd30(0x2e4)][_0x3dfd30(0x243)]('hidden'),_0x59ff9e[_0x3dfd30(0x5f3)]='',_0x316987[_0x3dfd30(0x760)](_0x3dfd30(0x79f),_0x427d7f);};}else _0x9ff238();},_0x2cf3d8[_0x1b3f8c(0x88f)]=()=>{const _0x19512c=_0x1b3f8c,_0x1766ed=_0x59ff9e['value'],_0x188cb5=_0x2cf3d8[_0x19512c(0x5f3)];_0x1766ed&&_0x188cb5&&renderStudentProgressDashboard(_0x1766ed,_0x188cb5);};}async function renderStudentProgressDashboard(_0x4ee9fb,_0x4d3a51){const _0x4b244d=_0x3fc9b3,_0x10f560=document[_0x4b244d(0x1cf)](_0x4b244d(0x8b3));_0x10f560[_0x4b244d(0x6da)]=_0x4b244d(0x4db);try{const _0x2d371b=collection(db,_0x4b244d(0x14c)+appId+_0x4b244d(0x829)),_0x5813e1=query(_0x2d371b,where(_0x4b244d(0x499),'==',_0x4ee9fb)),_0x14eeef=await getDocs(_0x5813e1),_0xe031c0=_0x14eeef['docs'][_0x4b244d(0x4cc)](_0x3ad2e6=>({'id':_0x3ad2e6['id'],..._0x3ad2e6[_0x4b244d(0x112)]()})),_0x1f552d=_0xe031c0[_0x4b244d(0x4cc)](_0x2d074e=>getDoc(doc(db,_0x4b244d(0x14c)+appId+'/public/data/quizzes/'+_0x2d074e['id']+'/submissions',_0x4d3a51))),_0x471194=await Promise[_0x4b244d(0x2dd)](_0x1f552d),_0x331b47=_0x471194[_0x4b244d(0x18e)](_0x46b977=>_0x46b977['exists']())[_0x4b244d(0x4cc)](_0x364c7d=>({'quizId':_0x364c7d[_0x4b244d(0x28b)][_0x4b244d(0x84f)][_0x4b244d(0x84f)]['id'],..._0x364c7d['data']()}));if(_0x331b47[_0x4b244d(0x431)]===0x0){_0x10f560[_0x4b244d(0x6da)]=_0x4b244d(0x82c);return;}let _0x2632da=_0x4b244d(0x378);_0x331b47[_0x4b244d(0x2a5)](_0xa4d39c=>{const _0xed75f6=_0x4b244d,_0x1ea895=_0xe031c0[_0xed75f6(0x2c3)](_0x3f0647=>_0x3f0647['id']===_0xa4d39c[_0xed75f6(0x501)]),_0xd95f28=_0x1ea895[_0xed75f6(0x6b7)]?.[_0xed75f6(0x60e)]||_0xed75f6(0x195),_0x161986=_0x1ea895[_0xed75f6(0x6b7)]?.['passingScore']??0x0,_0x2c482e=_0xa4d39c[_0xed75f6(0x314)]>=_0x161986;let _0x350282='',_0x437e45='bg-gray-50';switch(_0xd95f28){case _0xed75f6(0x195):case _0xed75f6(0x3f9):_0x437e45=_0x2c482e?'bg-green-50':_0xed75f6(0x1d2),_0x350282=_0xed75f6(0x333)+(_0x2c482e?'text-green-700':_0xed75f6(0x3d3))+'\x22>'+_0xa4d39c[_0xed75f6(0x314)]+'\x20/\x20'+_0xa4d39c[_0xed75f6(0x771)]+_0xed75f6(0x6f3)+(_0x2c482e?_0xed75f6(0x6c2):'bg-red-200\x20text-red-800')+'\x22>'+(_0x2c482e?'ผ่าน':_0xed75f6(0x16a))+_0xed75f6(0x13f);break;case _0xed75f6(0x26d):_0x437e45=_0x2c482e?_0xed75f6(0x160):'bg-red-50',_0x350282=_0xed75f6(0x7f4)+(_0x2c482e?_0xed75f6(0x6c2):'bg-red-200\x20text-red-800')+'\x22>'+(_0x2c482e?_0xed75f6(0x79e):_0xed75f6(0x16a))+_0xed75f6(0x13f);break;case'manual_release':_0x437e45=_0xed75f6(0x15c),_0x350282=_0xed75f6(0x798);break;}_0x2632da+=_0xed75f6(0x25c)+_0x437e45+_0xed75f6(0x632)+_0x1ea895['topic']+_0xed75f6(0x866)+_0xa4d39c[_0xed75f6(0x68c)]['length']+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0xa4d39c[_0xed75f6(0x206)])['toLocaleDateString']('th-TH')+_0xed75f6(0x5c3)+_0x350282+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2632da+=_0x4b244d(0x2e9),_0x10f560[_0x4b244d(0x6da)]=_0x2632da;}catch(_0x180550){console[_0x4b244d(0x105)](_0x4b244d(0x740),_0x180550),_0x10f560[_0x4b244d(0x6da)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function setupStudentProgressListeners(){const _0xa0f85e=_0x3fc9b3;document[_0xa0f85e(0x1cf)]('view-my-progress-btn')['addEventListener'](_0xa0f85e(0x79f),showStudentProgressView),document[_0xa0f85e(0x1cf)]('back-to-student-home-btn')[_0xa0f85e(0x87d)](_0xa0f85e(0x79f),()=>{const _0x5dc6fc=_0xa0f85e;document['getElementById'](_0x5dc6fc(0x6c7))[_0x5dc6fc(0x2e4)]['add'](_0x5dc6fc(0x36f)),document[_0x5dc6fc(0x1cf)](_0x5dc6fc(0x24c))[_0x5dc6fc(0x2e4)][_0x5dc6fc(0x495)](_0x5dc6fc(0x36f));});}async function startSkillPractice(_0x344ce8){const _0x1b9c83=_0x3fc9b3;studentResultArea[_0x1b9c83(0x2e4)]['add'](_0x1b9c83(0x36f)),studentQuizArea['innerHTML']=_0x1b9c83(0x6fa),studentQuizArea[_0x1b9c83(0x2e4)]['remove']('hidden');try{const _0xd0ca33=await getStandardizedTopic(_0x344ce8);console['log'](_0x1b9c83(0x512)+_0x344ce8+_0x1b9c83(0x226)+_0xd0ca33+'\x22'),studentQuizArea[_0x1b9c83(0x884)]('p')['textContent']='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0xd0ca33+_0x1b9c83(0x689);const _0x2ea854=collection(db,_0x1b9c83(0x14c)+appId+_0x1b9c83(0x2b5)),_0x2b775a=query(_0x2ea854,where(_0x1b9c83(0x7aa),'==',_0xd0ca33)),_0x40e1b8=await getDocs(_0x2b775a);if(_0x40e1b8[_0x1b9c83(0x145)]['length']>=0x3){console[_0x1b9c83(0x677)]('พบข้อสอบ\x20'+_0x40e1b8[_0x1b9c83(0x145)]['length']+_0x1b9c83(0x580)+_0xd0ca33+_0x1b9c83(0x766));let _0x21a277=_0x40e1b8['docs'][_0x1b9c83(0x4cc)](_0x126593=>_0x126593[_0x1b9c83(0x112)]());shuffleArray(_0x21a277);const _0x3f408b={'topic':_0xd0ca33,'questions':_0x21a277['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x3f408b);}else{console['log']('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0xd0ca33+_0x1b9c83(0x6f2));const _0x261189=await generatePracticeQuestions(_0xd0ca33);await saveDrillToPracticeBank(_0x261189,_0xd0ca33),displaySkillPracticeDrill(_0x261189);}}catch(_0x1535f2){console[_0x1b9c83(0x105)](_0x1b9c83(0x429),_0x1535f2),showMessage(_0x1b9c83(0x7d7)),studentQuizArea[_0x1b9c83(0x2e4)][_0x1b9c83(0x243)](_0x1b9c83(0x36f)),studentResultArea['classList']['remove'](_0x1b9c83(0x36f));}}async function saveDrillToPracticeBank(_0x171b4c,_0x423fb3){const _0x5a9a74=_0x3fc9b3,_0x2324f4=collection(db,_0x5a9a74(0x14c)+appId+'/public/data/practiceBank'),_0x35488b=writeBatch(db);_0x171b4c[_0x5a9a74(0x2eb)][_0x5a9a74(0x2a5)](_0x4c0b5b=>{const _0x36f2ad=_0x5a9a74,_0x46639c=doc(_0x2324f4);_0x35488b['set'](_0x46639c,{'topic':_0x423fb3,'questionText':_0x4c0b5b[_0x36f2ad(0x5a3)],'options':_0x4c0b5b[_0x36f2ad(0x77d)],'correctAnswerIndex':_0x4c0b5b[_0x36f2ad(0x211)],'explanation':_0x4c0b5b[_0x36f2ad(0x10a)],'createdAt':serverTimestamp()});});try{await _0x35488b[_0x5a9a74(0x3a6)](),console['log']('บันทึกคำถามใหม่\x20'+_0x171b4c[_0x5a9a74(0x2eb)][_0x5a9a74(0x431)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x4bb4a6){console[_0x5a9a74(0x105)](_0x5a9a74(0x64e),_0x4bb4a6);}}async function getStandardizedTopic(_0x1f1218){const _0x361e7b=_0x3fc9b3,_0x5c19cb=_0x361e7b(0x665)+_0x1f1218+_0x361e7b(0x696),_0x4fe88d={'type':'OBJECT','properties':{'standardTopic':{'type':_0x361e7b(0x520)}},'required':['standardTopic']};try{const _0x11698d=await callAnalysisApi(_0x5c19cb,_0x4fe88d);return _0x11698d[_0x361e7b(0x2d5)];}catch(_0x1b085a){return console[_0x361e7b(0x105)](_0x361e7b(0x5a2),_0x1b085a),_0x1f1218;}}async function generatePracticeQuestions(_0x4dd4d4){const _0x537a9d=_0x3fc9b3,_0x46fd6f=_0x537a9d(0x412)+_0x4dd4d4+_0x537a9d(0x588)+simpleMathPrompt+_0x537a9d(0x2d1),_0x49c64c={'type':'OBJECT','properties':{'questionText':{'type':_0x537a9d(0x520)},'options':{'type':_0x537a9d(0x393),'items':{'type':_0x537a9d(0x520)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x537a9d(0x520)}},'required':[_0x537a9d(0x5a3),_0x537a9d(0x77d),_0x537a9d(0x211),_0x537a9d(0x10a)]},_0x32d770={'type':_0x537a9d(0x1af),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x537a9d(0x393),'items':_0x49c64c}},'required':[_0x537a9d(0x7aa),'questions']};return await callAnalysisApi(_0x46fd6f,_0x32d770);}function displayLessonPlan(_0x473021,_0x3d02bc){const _0x1f3614=_0x3fc9b3,_0x567e9c=_0x1f3614(0x1d8)+_0x3d02bc[_0x1f3614(0x7aa)]+_0x1f3614(0x4c7)+_0x473021[_0x1f3614(0x1a4)][_0x1f3614(0x4cc)](_0xb41456=>_0x1f3614(0x33a)+_0xb41456+_0x1f3614(0x1e2))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x473021[_0x1f3614(0x446)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x473021[_0x1f3614(0x6c5)][_0x1f3614(0x4cc)](_0x46ad38=>_0x1f3614(0x612)+_0x46ad38[_0x1f3614(0x728)]+_0x1f3614(0x7d6)+_0x46ad38['solution']+_0x1f3614(0x790))[_0x1f3614(0x8b1)]('')+_0x1f3614(0x64b);document[_0x1f3614(0x1cf)](_0x1f3614(0x2cd))[_0x1f3614(0x52e)]=_0x1f3614(0x5a4)+_0x3d02bc[_0x1f3614(0x7aa)],document[_0x1f3614(0x1cf)](_0x1f3614(0x511))[_0x1f3614(0x6da)]=_0x567e9c,document[_0x1f3614(0x1cf)](_0x1f3614(0x516))[_0x1f3614(0x2e4)]['remove'](_0x1f3614(0x36f));if(window[_0x1f3614(0x860)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x372c7a){let _0x5f0acf=0x0;const _0x3ee9e3=_0x372c7a['questions'],_0x34d7f7=()=>{const _0x54fe57=_0xcf86,_0x5d9396=_0x3ee9e3[_0x5f0acf],_0x5355ee=_0x54fe57(0x45f)+(_0x5f0acf+0x1)+_0x54fe57(0x6c3)+_0x3ee9e3['length']+_0x54fe57(0x842)+_0x5d9396[_0x54fe57(0x5a3)]+_0x54fe57(0x562)+_0x5d9396[_0x54fe57(0x77d)][_0x54fe57(0x4cc)]((_0x4794bf,_0x5d0a32)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x5d0a32+_0x54fe57(0x3db)+_0x5d0a32+_0x54fe57(0x234)+_0x5d0a32+'\x22>'+_0x4794bf+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x54fe57(0x8b1)]('')+_0x54fe57(0x46e);studentQuizArea[_0x54fe57(0x6da)]=_0x5355ee;if(window[_0x54fe57(0x860)])MathJax[_0x54fe57(0x5bf)]([studentQuizArea]);document[_0x54fe57(0x1cf)](_0x54fe57(0x11e))[_0x54fe57(0x87d)](_0x54fe57(0x79f),async()=>{const _0x50076d=_0x54fe57,_0x4db35c=await getHintForQuestion(_0x5d9396[_0x50076d(0x5a3)]);showMessage(_0x4db35c);}),document[_0x54fe57(0x1cf)](_0x54fe57(0x460))[_0x54fe57(0x87d)](_0x54fe57(0x79f),()=>{const _0x59f79e=_0x54fe57,_0x982588=document[_0x59f79e(0x884)](_0x59f79e(0x649));if(!_0x982588){showMessage(_0x59f79e(0x547));return;}const _0x5a638d=document[_0x59f79e(0x1cf)](_0x59f79e(0x6bf)),_0x2d62ca=parseInt(_0x982588[_0x59f79e(0x5f3)])===_0x5d9396[_0x59f79e(0x211)];_0x2d62ca?(_0x5a638d[_0x59f79e(0x735)]=_0x59f79e(0x2e8),_0x5a638d[_0x59f79e(0x6da)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x5d9396[_0x59f79e(0x10a)]):(_0x5a638d['className']=_0x59f79e(0x473),_0x5a638d[_0x59f79e(0x6da)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x5d9396['explanation']);_0x5a638d[_0x59f79e(0x2e4)][_0x59f79e(0x495)](_0x59f79e(0x36f));if(window[_0x59f79e(0x860)])MathJax[_0x59f79e(0x5bf)]([_0x5a638d]);document[_0x59f79e(0x1cf)](_0x59f79e(0x460))['classList'][_0x59f79e(0x243)](_0x59f79e(0x36f)),document['getElementById'](_0x59f79e(0x11e))[_0x59f79e(0x2e4)][_0x59f79e(0x243)](_0x59f79e(0x36f)),document[_0x59f79e(0x1cf)]('next-drill-btn')[_0x59f79e(0x2e4)][_0x59f79e(0x495)]('hidden');}),document[_0x54fe57(0x1cf)]('next-drill-btn')[_0x54fe57(0x87d)](_0x54fe57(0x79f),()=>{const _0x5cec4c=_0x54fe57;_0x5f0acf++,_0x5f0acf<_0x3ee9e3[_0x5cec4c(0x431)]?_0x34d7f7():(studentQuizArea[_0x5cec4c(0x6da)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x5cec4c(0x1cf)](_0x5cec4c(0x4f6))[_0x5cec4c(0x87d)](_0x5cec4c(0x79f),()=>{const _0x13b8ae=_0x5cec4c;studentQuizArea[_0x13b8ae(0x2e4)]['add'](_0x13b8ae(0x36f)),studentResultArea['classList']['remove'](_0x13b8ae(0x36f));}));});};_0x34d7f7();}async function getHintForQuestion(_0x7e46f6){const _0x388186=_0x3fc9b3,_0x9a63d2='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x7e46f6+_0x388186(0x4bc),_0x3e6c50={'type':'OBJECT','properties':{'hint':{'type':_0x388186(0x520)}},'required':['hint']};try{const _0x3600f4=await callAnalysisApi(_0x9a63d2,_0x3e6c50);return _0x3600f4[_0x388186(0x38e)];}catch(_0x39dfc9){return console['error'](_0x388186(0x85a),_0x39dfc9),_0x388186(0x7c7);}}async function extractTextFromPdf(_0x3461a5){const _0x5ad8a7=_0x3fc9b3;pdfjsLib[_0x5ad8a7(0x554)]['workerSrc']='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0xb19945=await _0x3461a5['arrayBuffer'](),_0x1daac5=await pdfjsLib[_0x5ad8a7(0x256)](_0xb19945)[_0x5ad8a7(0x255)],_0xda417d=_0x1daac5['numPages'];let _0x45597a='';for(let _0x3c8cd5=0x1;_0x3c8cd5<=_0xda417d;_0x3c8cd5++){const _0x1b6618=await _0x1daac5[_0x5ad8a7(0x55d)](_0x3c8cd5),_0x2108af=await _0x1b6618[_0x5ad8a7(0x7d2)](),_0x740794=_0x2108af['items'][_0x5ad8a7(0x4cc)](_0x1e0a79=>_0x1e0a79[_0x5ad8a7(0x192)])[_0x5ad8a7(0x8b1)]('\x20');_0x45597a+=_0x740794+'\x0a\x0a';}return _0x45597a;}async function handleGenerateFromBlueprint(){const _0x551b6=_0x3fc9b3,_0x79fde6=document[_0x551b6(0x1cf)](_0x551b6(0x4ce)),_0x2d2e35=document[_0x551b6(0x1cf)](_0x551b6(0x591)),_0x58bd81=_0x79fde6[_0x551b6(0x4c8)][0x0],_0x33906b=_0x2d2e35['files']['length']>0x0?_0x2d2e35[_0x551b6(0x4c8)][0x0]:null;if(!_0x58bd81){showMessage(_0x551b6(0x669));return;}const _0x48f879=document['getElementById'](_0x551b6(0x507)),_0x30faca=document[_0x551b6(0x1cf)](_0x551b6(0x76e)),_0x36412c=document[_0x551b6(0x1cf)](_0x551b6(0x63e)),_0x10723d=document[_0x551b6(0x1cf)](_0x551b6(0x7cc));_0x10723d[_0x551b6(0x323)]=!![],document[_0x551b6(0x1cf)](_0x551b6(0x878))[_0x551b6(0x2e4)]['remove']('hidden'),_0x36412c[_0x551b6(0x6da)]='',_0x48f879[_0x551b6(0x2e4)][_0x551b6(0x495)]('hidden');try{_0x30faca[_0x551b6(0x52e)]=_0x551b6(0x6ec);const _0x1f56b2=await extractTextFromPdf(_0x58bd81);if(!_0x1f56b2[_0x551b6(0x598)]())throw new Error('ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย');let _0x945f0c='';_0x33906b&&(_0x30faca[_0x551b6(0x52e)]=_0x551b6(0x196),_0x945f0c=await extractTextFromPdf(_0x33906b));_0x30faca['textContent']=_0x551b6(0x3de);const _0x33d52b=document[_0x551b6(0x1cf)](_0x551b6(0x821))[_0x551b6(0x8b0)],_0x14795b=_0x33d52b?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x95bae4=_0x945f0c?_0x551b6(0x341)+_0x945f0c+_0x551b6(0x551):'',_0x318127=_0x551b6(0x838)+(_0x945f0c?_0x551b6(0x825):'')+_0x551b6(0x49d)+_0x1f56b2+_0x551b6(0x551)+_0x95bae4+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x14795b+_0x551b6(0x487)+simpleMathPrompt+_0x551b6(0x4e0),_0xe717c2={'type':_0x551b6(0x1af),'properties':{'questionText':{'type':_0x551b6(0x520)},'questionType':{'type':_0x551b6(0x520),'enum':[_0x551b6(0x207),_0x551b6(0x5cf)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x551b6(0x1a1)},'idealAnswer':{'type':_0x551b6(0x520)},'explanation':{'type':_0x551b6(0x520)},'imageCode':{'type':_0x551b6(0x520)}},'required':['questionText','questionType',_0x551b6(0x10a)]},_0x191ba1={'type':_0x551b6(0x1af),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x551b6(0x393),'items':_0xe717c2}},'required':['topic','questions']};await handleApiCall(_0x318127,_0x551b6(0x470),_0x191ba1);}catch(_0x21953d){console[_0x551b6(0x105)](_0x551b6(0x46f),_0x21953d),showMessage('เกิดข้อผิดพลาด:\x20'+_0x21953d[_0x551b6(0x59c)]),_0x36412c[_0x551b6(0x6da)]=_0x551b6(0x7df);}finally{_0x48f879['classList']['add']('hidden'),_0x10723d[_0x551b6(0x323)]=![];}}async function handleGenerateParallelFromBank(_0x2f8fc9){const _0x48c804=_0x3fc9b3;switchProjectTab('manage');const _0x38ebad=document['getElementById'](_0x48c804(0x507)),_0x4d567a=document[_0x48c804(0x1cf)](_0x48c804(0x76e)),_0xd44357=document[_0x48c804(0x1cf)]('generated-quiz-container');document[_0x48c804(0x1cf)](_0x48c804(0x878))[_0x48c804(0x2e4)][_0x48c804(0x495)]('hidden'),_0xd44357[_0x48c804(0x6da)]='',_0x38ebad[_0x48c804(0x2e4)][_0x48c804(0x495)](_0x48c804(0x36f)),_0x4d567a[_0x48c804(0x52e)]=_0x48c804(0x590)+_0x2f8fc9[_0x48c804(0x7aa)]+_0x48c804(0x1d7);try{const _0xed14e3=_0x2f8fc9[_0x48c804(0x2eb)][_0x48c804(0x4cc)]((_0x26bc43,_0x2420e2)=>{const _0x39a1e1=_0x48c804;let _0xc30ffc=_0x2420e2+0x1+'.\x20'+(_0x26bc43[_0x39a1e1(0x5a3)]||_0x26bc43['stem'])+'\x0a';if(_0x26bc43[_0x39a1e1(0x77d)])_0xc30ffc+=_0x26bc43[_0x39a1e1(0x77d)][_0x39a1e1(0x4cc)]((_0x463dc4,_0xba5191)=>_0x39a1e1(0x4e1)+(_0xba5191===_0x26bc43[_0x39a1e1(0x211)]?'[*]':'')+'\x20'+_0x463dc4)[_0x39a1e1(0x8b1)]('\x0a');else _0x26bc43[_0x39a1e1(0x6b3)]&&(_0xc30ffc+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x26bc43['idealAnswer']);return _0xc30ffc;})[_0x48c804(0x8b1)]('\x0a\x0a');_0x4d567a['textContent']=_0x48c804(0x486);const _0x4fcb4a=_0x48c804(0x331)+_0x2f8fc9['topic']+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xed14e3+_0x48c804(0x5dd)+simpleMathPrompt+_0x48c804(0x4e0),_0x6923b7={'type':_0x48c804(0x1af),'properties':{'questionText':{'type':_0x48c804(0x520)},'questionType':{'type':'STRING','enum':[_0x48c804(0x207),'short_answer',_0x48c804(0x288),'matching_item']},'options':{'type':'ARRAY','items':{'type':_0x48c804(0x520)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x48c804(0x520)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x48c804(0x520)},'correctResponse':{'type':_0x48c804(0x520)},'allResponses':{'type':'ARRAY','items':{'type':_0x48c804(0x520)}},'explanation':{'type':_0x48c804(0x520)},'imageCode':{'type':_0x48c804(0x520)}},'required':[_0x48c804(0x5a3),'questionType',_0x48c804(0x77d),'correctAnswerIndex',_0x48c804(0x10a)]},_0x99018f={'type':'OBJECT','properties':{'topic':{'type':_0x48c804(0x520)},'questions':{'type':_0x48c804(0x393),'items':_0x6923b7}},'required':[_0x48c804(0x7aa),'questions']},_0x5d5e38=await callAnalysisApi(_0x4fcb4a,_0x99018f);_0x5d5e38[_0x48c804(0x7aa)]='(คู่ขนาน)\x20'+_0x2f8fc9[_0x48c804(0x7aa)],_0x5d5e38['quizType']=_0x2f8fc9[_0x48c804(0x126)],currentQuizData=_0x5d5e38,displayGeneratedQuiz(_0x5d5e38),document[_0x48c804(0x1cf)](_0x48c804(0x138))[_0x48c804(0x167)]({'behavior':_0x48c804(0x894)});}catch(_0x47dcae){console['error'](_0x48c804(0x513),_0x47dcae),showMessage(_0x48c804(0x831)+_0x47dcae[_0x48c804(0x59c)]),_0xd44357[_0x48c804(0x6da)]=_0x48c804(0x1ef);}finally{_0x38ebad['classList']['add'](_0x48c804(0x36f));}}async function handleGenerateParallelPostTest(_0x122cf9){const _0x3f0c4d=_0x3fc9b3,_0x4a24fe=document['getElementById'](_0x3f0c4d(0x811)),_0x41ff51=document['getElementById'](_0x3f0c4d(0x5e5));_0x41ff51[_0x3f0c4d(0x2e4)][_0x3f0c4d(0x243)](_0x3f0c4d(0x36f));const _0x173cc0=_0x3f0c4d(0x608);_0x4a24fe[_0x3f0c4d(0x739)](_0x3f0c4d(0x577),_0x173cc0);try{const _0x408dca=_0x122cf9[_0x3f0c4d(0x2eb)][_0x3f0c4d(0x4cc)]((_0x59eacc,_0x3eb4cb)=>{const _0x11e88a=_0x3f0c4d;let _0x33662e=_0x3eb4cb+0x1+'.\x20'+(_0x59eacc[_0x11e88a(0x5a3)]||_0x59eacc[_0x11e88a(0x2d7)]);if(_0x59eacc['options'])_0x33662e+=_0x11e88a(0x2cc)+_0x59eacc[_0x11e88a(0x77d)][_0x11e88a(0x8b1)](',\x20');return _0x33662e;})['join']('\x0a\x0a'),_0xeab23c=_0x3f0c4d(0x2e2)+_0x122cf9[_0x3f0c4d(0x7aa)]+_0x3f0c4d(0x3f8)+_0x408dca+_0x3f0c4d(0x57e)+simpleMathPrompt+_0x3f0c4d(0x4e0),_0x34ca03={'type':'OBJECT','properties':{'topic':{'type':_0x3f0c4d(0x520)},'questions':{'type':_0x3f0c4d(0x393),'items':{'type':_0x3f0c4d(0x1af),'properties':{'questionText':{'type':_0x3f0c4d(0x520)},'questionType':{'type':'STRING'},'options':{'type':_0x3f0c4d(0x393),'items':{'type':_0x3f0c4d(0x520)}},'correctAnswerIndex':{'type':_0x3f0c4d(0x1a1)},'idealAnswer':{'type':_0x3f0c4d(0x520)},'explanation':{'type':_0x3f0c4d(0x520)}},'required':[_0x3f0c4d(0x5a3),_0x3f0c4d(0x10a)]}}},'required':[_0x3f0c4d(0x7aa),_0x3f0c4d(0x2eb)]},_0x3457b6=await callAnalysisApi(_0xeab23c,_0x34ca03),_0x155436=_0x122cf9[_0x3f0c4d(0x7aa)][_0x3f0c4d(0x278)](_0x3f0c4d(0x4ca),'')[_0x3f0c4d(0x598)](),_0x9209ce=_0x3f0c4d(0x6ff)+_0x155436,_0x2a64f2={..._0x3457b6,'topic':_0x9209ce,'quizType':_0x122cf9[_0x3f0c4d(0x126)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x3f0c4d(0x299),'settings':_0x122cf9[_0x3f0c4d(0x6b7)],'quizMode':_0x3f0c4d(0x43e),'pairedQuizId':_0x122cf9['id']};let _0x1c18b8;while(!![]){_0x1c18b8=Math[_0x3f0c4d(0x802)](0x3e8+Math['random']()*0x2328)[_0x3f0c4d(0x27e)]();const _0x16ac9a=await getDoc(doc(db,'artifacts/'+appId+_0x3f0c4d(0x829),_0x1c18b8));if(!_0x16ac9a['exists']())break;}await setDoc(doc(db,_0x3f0c4d(0x14c)+appId+_0x3f0c4d(0x829),_0x1c18b8),_0x2a64f2);const _0xce524a=doc(db,_0x3f0c4d(0x14c)+appId+_0x3f0c4d(0x829),_0x122cf9['id']);await updateDoc(_0xce524a,{'pairedQuizId':_0x1c18b8}),showMessage(_0x3f0c4d(0x68b));}catch(_0x14b6e3){console[_0x3f0c4d(0x105)](_0x3f0c4d(0x60d),_0x14b6e3),showMessage(_0x3f0c4d(0x831)+_0x14b6e3[_0x3f0c4d(0x59c)]);}finally{const _0x236cbd=document[_0x3f0c4d(0x1cf)](_0x3f0c4d(0x104));if(_0x236cbd)_0x236cbd[_0x3f0c4d(0x495)]();_0x41ff51[_0x3f0c4d(0x2e4)]['remove']('hidden');}}async function handleGenerateParallelTest(){const _0x14774f=_0x3fc9b3,_0x25aaa4=document['getElementById'](_0x14774f(0x8d9)),_0x434171=_0x25aaa4[_0x14774f(0x4c8)][0x0];if(!_0x434171){showMessage(_0x14774f(0x601));return;}const _0x54ca8e=document[_0x14774f(0x1cf)](_0x14774f(0x507)),_0x22bacd=document[_0x14774f(0x1cf)](_0x14774f(0x76e)),_0xcc1315=document[_0x14774f(0x1cf)]('generated-quiz-container'),_0x3cbd45=document['getElementById'](_0x14774f(0x54c));_0x3cbd45[_0x14774f(0x323)]=!![],document[_0x14774f(0x1cf)]('quiz-generation-area')['classList'][_0x14774f(0x495)](_0x14774f(0x36f)),_0xcc1315[_0x14774f(0x6da)]='',_0x54ca8e[_0x14774f(0x2e4)][_0x14774f(0x495)](_0x14774f(0x36f)),_0x22bacd['textContent']=_0x14774f(0x3ff);try{const _0x299766=await extractTextFromPdf(_0x434171);if(!_0x299766[_0x14774f(0x598)]())throw new Error(_0x14774f(0x1d1));_0x22bacd[_0x14774f(0x52e)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0xb6994d=document[_0x14774f(0x1cf)](_0x14774f(0x821))[_0x14774f(0x8b0)],_0x83d537=_0xb6994d?_0x14774f(0x621):'',_0x210fde=_0x14774f(0x10f)+_0x299766+_0x14774f(0x2fd)+_0x83d537+_0x14774f(0x487)+simpleMathPrompt+_0x14774f(0x4e0),_0x3b1c3e={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x14774f(0x207),_0x14774f(0x5cf)]},'options':{'type':_0x14774f(0x393),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x14774f(0x1a1)},'idealAnswer':{'type':_0x14774f(0x520)},'explanation':{'type':_0x14774f(0x520)},'imageCode':{'type':'STRING'}},'required':[_0x14774f(0x5a3),'questionType',_0x14774f(0x10a)]},_0x3b6e67={'type':_0x14774f(0x1af),'properties':{'topic':{'type':_0x14774f(0x520)},'questions':{'type':_0x14774f(0x393),'items':_0x3b1c3e}},'required':[_0x14774f(0x7aa),_0x14774f(0x2eb)]};await handleApiCall(_0x210fde,_0x14774f(0x4f7),_0x3b6e67);}catch(_0x412745){console[_0x14774f(0x105)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x412745),showMessage('เกิดข้อผิดพลาด:\x20'+_0x412745[_0x14774f(0x59c)]),_0xcc1315[_0x14774f(0x6da)]=_0x14774f(0x1ef);}finally{_0x54ca8e[_0x14774f(0x2e4)]['add'](_0x14774f(0x36f)),_0x3cbd45[_0x14774f(0x323)]=![];}}async function handleRegenerateQuestionInEditor(_0x564ae2){const _0x48339e=_0x3fc9b3;if(currentEditingQuizData===null)return;const _0x538d6c=document[_0x48339e(0x884)](_0x48339e(0x6a1)+_0x564ae2+'\x22]');_0x538d6c&&(_0x538d6c['innerHTML']=_0x48339e(0x604));const _0x1ebf8d=currentEditingQuizData[_0x48339e(0x2eb)][_0x564ae2],_0x43f273=currentEditingQuizData['topic'],_0x483d96=_0x1ebf8d['questionType'],_0x569828={'type':_0x48339e(0x1af),'properties':{'questionText':{'type':_0x48339e(0x520)},'options':{'type':_0x48339e(0x393),'items':{'type':_0x48339e(0x520)}},'correctAnswerIndex':{'type':_0x48339e(0x1a1)},'explanation':{'type':_0x48339e(0x520)}},'required':[_0x48339e(0x5a3),_0x48339e(0x77d),_0x48339e(0x211),_0x48339e(0x10a)]},_0x1b3142={'type':'OBJECT','properties':{'questionText':{'type':_0x48339e(0x520)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x48339e(0x520)}},'required':[_0x48339e(0x5a3),_0x48339e(0x6b3),_0x48339e(0x10a)]};let _0x1ff91a,_0x281f62='';_0x483d96===_0x48339e(0x207)?(_0x1ff91a=_0x569828,_0x281f62=_0x48339e(0x674)):(_0x1ff91a=_0x1b3142,_0x281f62=_0x48339e(0x21d));const _0x367f77=_0x48339e(0x59f)+_0x43f273+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x281f62+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x1ebf8d[_0x48339e(0x5a3)]||_0x1ebf8d[_0x48339e(0x2d7)])+_0x48339e(0x1ab)+simpleMathPrompt;try{const _0x448b7f=await callAnalysisApi(_0x367f77,_0x1ff91a);currentEditingQuizData[_0x48339e(0x2eb)][_0x564ae2]={..._0x1ebf8d,..._0x448b7f},renderQuizEditor(currentEditingQuizData);}catch(_0x342c7e){console[_0x48339e(0x105)](_0x48339e(0x3d6),_0x342c7e),showMessage(_0x48339e(0x222)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x4999e1=_0x3fc9b3,_0x5434fa=document['getElementById'](_0x4999e1(0x854));currentMode===_0x4999e1(0x7b4)?(adminPasswordModal[_0x4999e1(0x2e4)][_0x4999e1(0x495)]('hidden'),document['getElementById']('admin-password-input')['focus']()):(currentMode=_0x4999e1(0x7b4),_0x5434fa[_0x4999e1(0x6da)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x5434fa[_0x4999e1(0x688)]=_0x4999e1(0x444),showView(_0x4999e1(0x7b4)));}function handleAdminLogin(){const _0x4d850a=_0x3fc9b3,_0x1afea3=document['getElementById'](_0x4d850a(0x157)),_0x2f913f=document[_0x4d850a(0x1cf)](_0x4d850a(0x37d));if(_0x1afea3['value']==='27411472'){adminPasswordModal[_0x4d850a(0x2e4)][_0x4d850a(0x243)](_0x4d850a(0x36f)),_0x1afea3[_0x4d850a(0x5f3)]='',_0x2f913f[_0x4d850a(0x2e4)]['add']('hidden'),currentMode='admin';const _0x552b18=document[_0x4d850a(0x1cf)]('mode-switcher-btn');_0x552b18[_0x4d850a(0x6da)]=_0x4d850a(0x423),_0x552b18[_0x4d850a(0x688)]=_0x4d850a(0x68e),showView(_0x4d850a(0x65a));}else _0x2f913f[_0x4d850a(0x2e4)]['remove'](_0x4d850a(0x36f)),_0x1afea3[_0x4d850a(0x5f3)]='';}function switchProjectTab(_0x12ca89){const _0x5e0bfa=_0x3fc9b3;['manage',_0x5e0bfa(0x3c1),'leaderboard']['forEach'](_0x22e2d8=>{const _0x16361c=_0x5e0bfa;document[_0x16361c(0x1cf)](_0x22e2d8+'-tab')[_0x16361c(0x2e4)]['remove'](_0x16361c(0x299)),document['getElementById'](_0x22e2d8+_0x16361c(0x149))[_0x16361c(0x2e4)][_0x16361c(0x243)](_0x16361c(0x36f));}),document[_0x5e0bfa(0x1cf)](_0x12ca89+_0x5e0bfa(0x5df))[_0x5e0bfa(0x2e4)]['add']('active'),document[_0x5e0bfa(0x1cf)](_0x12ca89+'-tab-content')['classList']['remove'](_0x5e0bfa(0x36f));}function switchQuizDetailTab(_0x4fad44){const _0x480cea=_0x3fc9b3,_0x4c48c9={'analytics':{'btn':_0x480cea(0x558),'content':_0x480cea(0x7ed)},'scores':{'btn':_0x480cea(0x5e7),'content':_0x480cea(0x729)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x480cea(0x75f),'content':'behavior-log-tab-content'}};for(const _0x517cc8 in _0x4c48c9){document[_0x480cea(0x1cf)](_0x4c48c9[_0x517cc8][_0x480cea(0x568)])[_0x480cea(0x2e4)][_0x480cea(0x495)]('active'),document['getElementById'](_0x4c48c9[_0x517cc8][_0x480cea(0x7eb)])['classList'][_0x480cea(0x243)](_0x480cea(0x36f));}document[_0x480cea(0x1cf)](_0x4c48c9[_0x4fad44][_0x480cea(0x568)])[_0x480cea(0x2e4)][_0x480cea(0x243)]('active'),document[_0x480cea(0x1cf)](_0x4c48c9[_0x4fad44][_0x480cea(0x7eb)])[_0x480cea(0x2e4)]['remove']('hidden');}function showMessage(_0x49b987,_0x4680f9=null){const _0x270f8c=_0x3fc9b3;modalMessage[_0x270f8c(0x52e)]=_0x49b987,modalConfirmAction=_0x4680f9,messageModal[_0x270f8c(0x2e4)][_0x270f8c(0x495)](_0x270f8c(0x36f));}function showConfirmation(_0x4450a1,_0x40c475){const _0x1b920a=_0x3fc9b3;document['getElementById'](_0x1b920a(0x53b))[_0x1b920a(0x52e)]=_0x4450a1,document[_0x1b920a(0x1cf)]('confirmation-modal')[_0x1b920a(0x884)]('h3')[_0x1b920a(0x52e)]=_0x1b920a(0x82f),confirmAction=_0x40c475,confirmationModal[_0x1b920a(0x2e4)][_0x1b920a(0x495)](_0x1b920a(0x36f));}function listenForProjects(){const _0xabf5c8=doc(db,'globalSettings','dashboardConfig');onSnapshot(_0xabf5c8,_0x30d0b4=>{const _0x509763=_0xcf86;if(_0x30d0b4[_0x509763(0x2a4)]()){const _0x2d83a0=_0x30d0b4[_0x509763(0x112)]();globalDashboardSettings[_0x509763(0x7c5)]=_0x2d83a0[_0x509763(0x7c5)]||'date_desc',globalDashboardSettings[_0x509763(0xff)]=_0x2d83a0[_0x509763(0xff)]||[],globalDashboardSettings['projectOrder']=_0x2d83a0['projectOrder']||[];}allProjects['length']>0x0&&renderProjects();});const _0x45c604=collection(db,'artifacts/'+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x45c604,_0x7832c7=>{const _0x2fc6a7=_0xcf86;allProjects=_0x7832c7[_0x2fc6a7(0x145)][_0x2fc6a7(0x4cc)](_0xe5e034=>({'id':_0xe5e034['id'],..._0xe5e034[_0x2fc6a7(0x112)]()})),renderProjects();},_0x392a0f=>{const _0x55d958=_0xcf86;console[_0x55d958(0x105)]('Error\x20listening\x20for\x20projects:',_0x392a0f),showMessage(_0x55d958(0x4c9));});}function showColorPalette(_0x272ed1,_0x267f97){const _0x46453c=_0x3fc9b3;document['querySelectorAll'](_0x46453c(0x398))[_0x46453c(0x2a5)](_0x1b1c73=>_0x1b1c73[_0x46453c(0x495)]());const _0x333ebd=['#FFFFFF',_0x46453c(0x88e),_0x46453c(0x6fc),'#D1FAE5',_0x46453c(0x259),_0x46453c(0x8c1),'#F3E8FF',_0x46453c(0x7ff),'#E5E7EB'],_0x47370b=document['createElement'](_0x46453c(0x496));_0x47370b[_0x46453c(0x735)]=_0x46453c(0x458),_0x333ebd[_0x46453c(0x2a5)](_0x21e13c=>{const _0x36133e=_0x46453c,_0x22ccf9=document['createElement'](_0x36133e(0x496));_0x22ccf9[_0x36133e(0x735)]=_0x36133e(0x529),_0x22ccf9[_0x36133e(0x3d4)]['backgroundColor']=_0x21e13c,_0x22ccf9[_0x36133e(0x87d)](_0x36133e(0x79f),()=>{const _0x161726=_0x36133e;handleProjectColorChange(_0x267f97,_0x21e13c),_0x47370b[_0x161726(0x495)]();}),_0x47370b[_0x36133e(0x238)](_0x22ccf9);}),document[_0x46453c(0x1c3)][_0x46453c(0x238)](_0x47370b);const _0x228088=_0x272ed1[_0x46453c(0x2ec)]();_0x47370b['style']['top']=_0x228088[_0x46453c(0x169)]+window[_0x46453c(0x67c)]+'px',_0x47370b['style'][_0x46453c(0x1b2)]=_0x228088[_0x46453c(0x1b2)]+window[_0x46453c(0x1fc)]-_0x47370b[_0x46453c(0x5f6)]/0x2+'px';}async function handleProjectColorChange(_0x29eec2,_0x17779a){const _0x11cf3f=_0x3fc9b3,_0x4c2577=doc(db,'artifacts/'+appId+_0x11cf3f(0x5ce),_0x29eec2);try{await updateDoc(_0x4c2577,{'color':_0x17779a});}catch(_0x331687){console[_0x11cf3f(0x105)](_0x11cf3f(0x4fe),_0x331687),showMessage(_0x11cf3f(0x1bd));}}async function renderProjects(){const _0x2cc20a=_0x3fc9b3,_0xe7bc1c=globalDashboardSettings[_0x2cc20a(0x7c5)]||'date_desc',_0x21a798=new Set(globalDashboardSettings[_0x2cc20a(0xff)]||[]),_0x18d64a=globalDashboardSettings[_0x2cc20a(0x4f4)]||_0x2cc20a(0x4d1),_0x195906=document[_0x2cc20a(0x1cf)]('grid-view-btn'),_0x45057=document[_0x2cc20a(0x1cf)]('list-view-btn');_0x195906[_0x2cc20a(0x2e4)][_0x2cc20a(0x81e)](_0x2cc20a(0x299),_0x18d64a===_0x2cc20a(0x4d1)),_0x45057[_0x2cc20a(0x2e4)][_0x2cc20a(0x81e)]('active',_0x18d64a===_0x2cc20a(0x247)),document[_0x2cc20a(0x1cf)](_0x2cc20a(0x338))['value']=_0xe7bc1c;const _0x843f76=document[_0x2cc20a(0x1cf)]('project-search-input')[_0x2cc20a(0x5f3)][_0x2cc20a(0x56f)]();let _0x1e8c22=allProjects[_0x2cc20a(0x18e)](_0x477750=>_0x477750[_0x2cc20a(0x55a)]['toLowerCase']()[_0x2cc20a(0x1db)](_0x843f76));const _0x237902=_0x1e8c22[_0x2cc20a(0x18e)](_0x4017ac=>_0x21a798[_0x2cc20a(0x24e)](_0x4017ac['id'])),_0x51d007=_0x1e8c22[_0x2cc20a(0x18e)](_0x337cc1=>!_0x21a798['has'](_0x337cc1['id'])),_0x1233cd=(_0x1e60be,_0x165b7a)=>{const _0x2b5cde=_0x2cc20a;switch(_0xe7bc1c){case _0x2b5cde(0x453):return _0x1e60be[_0x2b5cde(0x55a)][_0x2b5cde(0x1b3)](_0x165b7a['projectName'],'th');case _0x2b5cde(0x324):return _0x165b7a[_0x2b5cde(0x55a)]['localeCompare'](_0x1e60be[_0x2b5cde(0x55a)],'th');case _0x2b5cde(0x7a7):return new Date(_0x1e60be['createdAt'])-new Date(_0x165b7a['createdAt']);default:return new Date(_0x165b7a['createdAt'])-new Date(_0x1e60be[_0x2b5cde(0x2a6)]);}};_0x237902[_0x2cc20a(0x8d1)](_0x1233cd),_0x51d007[_0x2cc20a(0x8d1)](_0x1233cd);const _0x1f6060=[..._0x237902,..._0x51d007],_0x5b14a3=globalDashboardSettings[_0x2cc20a(0x189)]||[];_0x5b14a3[_0x2cc20a(0x431)]>0x0&&_0x18d64a===_0x2cc20a(0x4d1)&&_0x1f6060['sort']((_0x3ce528,_0xa1a6f9)=>{const _0x3481ca=_0x2cc20a,_0x5f45e4=_0x5b14a3[_0x3481ca(0x34e)](_0x3ce528['id']),_0xe9bc2e=_0x5b14a3[_0x3481ca(0x34e)](_0xa1a6f9['id']);if(_0x5f45e4===-0x1)return 0x1;if(_0xe9bc2e===-0x1)return-0x1;return _0x5f45e4-_0xe9bc2e;});const _0x52c9d5={};await Promise[_0x2cc20a(0x2dd)](_0x1f6060[_0x2cc20a(0x4cc)](async _0x29f163=>{const _0xcf6fb1=_0x2cc20a,_0x1dc9aa=query(collection(db,'artifacts/'+appId+_0xcf6fb1(0x829)),where(_0xcf6fb1(0x499),'==',_0x29f163['id'])),_0x5bd121=await getDocs(_0x1dc9aa);_0x52c9d5[_0x29f163['id']]=_0x5bd121[_0xcf6fb1(0x597)];}));const _0x5a713d=document[_0x2cc20a(0x1cf)]('project-list');let _0x202883='';if(_0x18d64a===_0x2cc20a(0x4d1)){_0x5a713d[_0x2cc20a(0x735)]=_0x2cc20a(0x6f8);if(starredQuizzes[_0x2cc20a(0x431)]>0x0&&_0x843f76===''){const _0x2a9dcc=starredQuizzes[_0x2cc20a(0x4cc)](_0x285df8=>{const _0x5c7343=_0x2cc20a,_0x542236=allProjects['find'](_0x56d3ab=>_0x56d3ab['id']===_0x285df8[_0x5c7343(0x499)]);return{..._0x285df8,'projectName':_0x542236?_0x542236[_0x5c7343(0x55a)]:_0x5c7343(0x242)};});_0x202883+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2a9dcc[_0x2cc20a(0x4cc)](_0x29fa1e=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x29fa1e[_0x2cc20a(0x7aa)]+'\x22>'+_0x29fa1e[_0x2cc20a(0x7aa)]+_0x2cc20a(0x2b1)+_0x29fa1e[_0x2cc20a(0x55a)]+_0x2cc20a(0x8c7)+_0x29fa1e[_0x2cc20a(0x55a)]+_0x2cc20a(0x419))[_0x2cc20a(0x8b1)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x2cc20a(0x431)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x1f6060[_0x2cc20a(0x2a5)](_0x2f5c8d=>{const _0x294d50=_0x2cc20a,_0x171d96=_0x52c9d5[_0x2f5c8d['id']]??0x0,_0x3cbba8=_0x21a798[_0x294d50(0x24e)](_0x2f5c8d['id']),_0x4e8678=_0x2f5c8d[_0x294d50(0x48f)]||_0x294d50(0x58a),_0x33236c=parseInt(_0x4e8678[_0x294d50(0x51e)](0x1,0x3),0x10)*0.299+parseInt(_0x4e8678[_0x294d50(0x51e)](0x3,0x5),0x10)*0.587+parseInt(_0x4e8678[_0x294d50(0x51e)](0x5,0x7),0x10)*0.114<0xba,_0x17dc33=_0x33236c?_0x294d50(0x229):'text-indigo-800',_0x50780d=_0x33236c?_0x294d50(0x401):_0x294d50(0x3aa);_0x202883+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x3cbba8?_0x294d50(0x72b):_0x294d50(0x84d))+_0x294d50(0x44f)+_0x4e8678+';\x22\x20data-id=\x22'+_0x2f5c8d['id']+_0x294d50(0x5b6)+_0x2f5c8d['id']+_0x294d50(0x354)+(_0x33236c?_0x294d50(0x63d):_0x294d50(0x784))+_0x294d50(0x7c2)+_0x2f5c8d['id']+_0x294d50(0x610)+(_0x33236c?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+_0x294d50(0x53a)+(_0x3cbba8?_0x33236c?'text-yellow-300':_0x294d50(0x276):'')+_0x294d50(0x357)+_0x2f5c8d['id']+_0x294d50(0x6e9)+_0x17dc33+_0x294d50(0x89f)+_0x2f5c8d[_0x294d50(0x55a)]+_0x294d50(0x35f)+_0x50780d+_0x294d50(0x828)+new Date(_0x2f5c8d['createdAt'])[_0x294d50(0x67b)]('th-TH')+_0x294d50(0x43b)+(_0x33236c?_0x294d50(0x77f):'text-gray-700')+_0x294d50(0x1ce)+_0x171d96+_0x294d50(0x7c6)+_0x2f5c8d['id']+'\x22\x20data-name=\x22'+_0x2f5c8d[_0x294d50(0x55a)]+_0x294d50(0x708)+(_0x33236c?_0x294d50(0x5bc):_0x294d50(0x300))+_0x294d50(0x462);});}else _0x5a713d[_0x2cc20a(0x735)]=_0x2cc20a(0x793),starredQuizzes[_0x2cc20a(0x431)]>0x0&&_0x843f76===''&&(_0x202883+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes['length']+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x202883+=_0x2cc20a(0x801),_0x1f6060[_0x2cc20a(0x2a5)](_0x3824e0=>{const _0x1b26d8=_0x2cc20a,_0x38375c=_0x52c9d5[_0x3824e0['id']]??0x0,_0xa0b79a=_0x21a798['has'](_0x3824e0['id']);_0x202883+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x3824e0[_0x1b26d8(0x48f)]||_0x1b26d8(0x29b))+_0x1b26d8(0x2f8)+_0x3824e0['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x3824e0[_0x1b26d8(0x55a)]+_0x1b26d8(0x4c3)+_0x38375c+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x3824e0[_0x1b26d8(0x2a6)])['toLocaleString'](_0x1b26d8(0x569))+_0x1b26d8(0x2ea)+_0x3824e0['id']+_0x1b26d8(0x503)+(_0xa0b79a?_0x1b26d8(0x276):'')+_0x1b26d8(0x615)+_0x3824e0['id']+_0x1b26d8(0x382)+_0x3824e0[_0x1b26d8(0x55a)]+_0x1b26d8(0x108);});projectList[_0x2cc20a(0x6da)]=_0x202883,noProjectsMsg[_0x2cc20a(0x2e4)][_0x2cc20a(0x81e)]('hidden',_0x202883[_0x2cc20a(0x431)]>0x0);}document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x67d))[_0x3fc9b3(0x87d)](_0x3fc9b3(0x79f),async()=>{const _0x3c5bf4=_0x3fc9b3,_0x41911d=document['getElementById']('project-name-input'),_0x1f236f=_0x41911d[_0x3c5bf4(0x5f3)][_0x3c5bf4(0x598)]();if(!_0x1f236f){showMessage(_0x3c5bf4(0x73e));return;}try{const _0x59dc55=doc(collection(db,'artifacts/'+appId+_0x3c5bf4(0x5ce)));await setDoc(_0x59dc55,{'projectName':_0x1f236f,'students':[],'settings':{'resultsDisplay':_0x3c5bf4(0x195),'shuffleSetting':_0x3c5bf4(0x3ba),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x3c5bf4(0x3ba),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x3c5bf4(0x751)]()}),_0x41911d[_0x3c5bf4(0x5f3)]='',createProjectModal[_0x3c5bf4(0x2e4)][_0x3c5bf4(0x243)](_0x3c5bf4(0x36f)),showMessage(_0x3c5bf4(0x8c5));}catch(_0x515905){console[_0x3c5bf4(0x105)](_0x3c5bf4(0x822),_0x515905),showMessage(_0x3c5bf4(0x730));}}),projectList['addEventListener'](_0x3fc9b3(0x79f),async _0x41695c=>{const _0x280d7d=_0x3fc9b3,_0x1da91e=_0x41695c['target']['closest'](_0x280d7d(0x835)),_0x430cd5=_0x41695c[_0x280d7d(0x6c8)]['closest'](_0x280d7d(0x2f3)),_0x3af859=_0x41695c[_0x280d7d(0x6c8)][_0x280d7d(0x5d9)](_0x280d7d(0x8be)),_0x8938d5=_0x41695c[_0x280d7d(0x6c8)][_0x280d7d(0x5d9)]('.color-palette-btn');if(_0x3af859){const _0x35e950=_0x3af859[_0x280d7d(0x217)]['id'],_0x25f87f=doc(db,_0x280d7d(0x660),'dashboardConfig'),_0x3fbb7d=globalDashboardSettings['pinnedProjects'];let _0x882027;_0x3fbb7d['includes'](_0x35e950)?_0x882027=_0x3fbb7d[_0x280d7d(0x18e)](_0x36cd93=>_0x36cd93!==_0x35e950):_0x882027=[..._0x3fbb7d,_0x35e950];try{await setDoc(_0x25f87f,{'pinnedProjects':_0x882027},{'merge':!![]});}catch(_0x3bb57f){console[_0x280d7d(0x105)](_0x280d7d(0x3c3),_0x3bb57f),showMessage(_0x280d7d(0x176));}}else{if(_0x8938d5){const _0x5bb395=_0x8938d5[_0x280d7d(0x217)]['id'];showColorPalette(_0x8938d5,_0x5bb395);}else{if(_0x1da91e){const _0x14dad2=_0x1da91e['dataset']['id'];_0x14dad2===_0x280d7d(0x715)?showStarredProjectView():(currentProjectId=_0x14dad2,await loadProjectDetails(currentProjectId),showView(_0x280d7d(0x7ee)));}else{if(_0x430cd5){const _0x5b03d7=_0x430cd5[_0x280d7d(0x217)]['id'],_0x3dd256=_0x430cd5['dataset'][_0x280d7d(0x692)];showConfirmation(_0x280d7d(0x484)+_0x3dd256+_0x280d7d(0x791),()=>handleDeleteProject(_0x5b03d7));}}}}}),projectList[_0x3fc9b3(0x87d)](_0x3fc9b3(0x7a2),_0x458528=>{const _0x3ac99d=_0x3fc9b3,_0x2c8865=_0x458528[_0x3ac99d(0x6c8)][_0x3ac99d(0x5d9)](_0x3ac99d(0x23d));_0x2c8865&&_0x2c8865[_0x3ac99d(0x2e4)]['add']('opacity-50');}),projectList[_0x3fc9b3(0x87d)]('dragend',_0x281a8f=>{const _0x328428=_0x3fc9b3,_0x28a238=_0x281a8f['target'][_0x328428(0x5d9)](_0x328428(0x23d));_0x28a238&&_0x28a238[_0x328428(0x2e4)][_0x328428(0x495)](_0x328428(0x25e));}),projectList[_0x3fc9b3(0x87d)](_0x3fc9b3(0x8bd),_0x573608=>{const _0xccc6e2=_0x3fc9b3;_0x573608[_0xccc6e2(0x6a4)]();const _0x14b96e=document[_0xccc6e2(0x884)](_0xccc6e2(0x311));if(!_0x14b96e)return;const _0x1565f2=getDragAfterElement(projectList,_0x573608[_0xccc6e2(0x477)]);_0x1565f2==null?projectList[_0xccc6e2(0x238)](_0x14b96e):projectList['insertBefore'](_0x14b96e,_0x1565f2);}),projectList[_0x3fc9b3(0x87d)](_0x3fc9b3(0x705),_0x10520a=>{const _0x3301e8=_0x3fc9b3;_0x10520a[_0x3301e8(0x6a4)]();const _0x5f0f4a=[...projectList[_0x3301e8(0x7ab)](_0x3301e8(0x743))]['map'](_0x1fc2b6=>_0x1fc2b6[_0x3301e8(0x217)]['id']);saveProjectOrder(_0x5f0f4a);});function renderBehaviorLog(_0x4eaab8){const _0x5ab93f=_0x3fc9b3,_0x3cbd1e=document[_0x5ab93f(0x1cf)]('behavior-log-container');if(!_0x3cbd1e)return;const _0x18452e=_0x4eaab8[_0x5ab93f(0x18e)](_0xb1e350=>_0xb1e350['behaviorLog']&&_0xb1e350[_0x5ab93f(0x586)][_0x5ab93f(0x431)]>0x0);if(_0x18452e[_0x5ab93f(0x431)]===0x0){_0x3cbd1e[_0x5ab93f(0x6da)]=_0x5ab93f(0x78a);return;}let _0x53d6c8='';_0x18452e[_0x5ab93f(0x2a5)](_0x3f8432=>{const _0x38b807=_0x5ab93f;_0x53d6c8+=_0x38b807(0x6d0)+_0x3f8432[_0x38b807(0x432)]+_0x38b807(0x8a0),_0x3f8432['behaviorLog'][_0x38b807(0x8d1)]((_0xe2f9e2,_0xc4d269)=>new Date(_0xc4d269['timestamp'])-new Date(_0xe2f9e2['timestamp']))['forEach'](_0x14a7a1=>{const _0x435e50=_0x38b807,_0x4ddc88=new Date(_0x14a7a1[_0x435e50(0x362)])[_0x435e50(0x540)]('th-TH',{'dateStyle':_0x435e50(0x810),'timeStyle':_0x435e50(0x836)});_0x53d6c8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x14a7a1['attemptNumber']+_0x435e50(0x500)+_0x4ddc88+_0x435e50(0x435);}),_0x53d6c8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3cbd1e['innerHTML']=_0x53d6c8;}function getDragAfterElement(_0x160e5d,_0x3d4135){const _0x507d2f=_0x3fc9b3,_0x8e9c37=[..._0x160e5d[_0x507d2f(0x7ab)]('.project-card-container:not(.opacity-50)')];return _0x8e9c37['reduce']((_0x462d09,_0x3f8345)=>{const _0x58bee4=_0x507d2f,_0xdcc20d=_0x3f8345[_0x58bee4(0x2ec)](),_0x2e996f=_0x3d4135-_0xdcc20d[_0x58bee4(0x193)]-_0xdcc20d[_0x58bee4(0x734)]/0x2;return _0x2e996f<0x0&&_0x2e996f>_0x462d09['offset']?{'offset':_0x2e996f,'element':_0x3f8345}:_0x462d09;},{'offset':Number[_0x507d2f(0x8da)]})[_0x507d2f(0x18c)];}async function saveProjectOrder(_0x34f288){const _0x322ba8=_0x3fc9b3,_0x56998e=doc(db,_0x322ba8(0x660),_0x322ba8(0x2e5));try{await setDoc(_0x56998e,{'projectOrder':_0x34f288},{'merge':!![]});}catch(_0xeac504){console[_0x322ba8(0x105)](_0x322ba8(0x125),_0xeac504),showMessage(_0x322ba8(0x1fe));}}async function logBehaviorEvent(_0x88b4c7,_0x1ac557={}){const _0x4afeb0=_0x3fc9b3;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x4afeb0(0x858)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x5a5667=doc(db,_0x4afeb0(0x14c)+appId+_0x4afeb0(0x576)+currentQuizData['id']+_0x4afeb0(0x862),currentStudentName),_0x22adfe={'event':_0x88b4c7,'timestamp':new Date()[_0x4afeb0(0x751)](),..._0x1ac557};try{await updateDoc(_0x5a5667,{'behaviorLog':arrayUnion(_0x22adfe)}),console['log'](_0x4afeb0(0x4c2)+currentStudentName+_0x4afeb0(0x186));}catch(_0x48a834){_0x48a834[_0x4afeb0(0x50a)]==='not-found'?console[_0x4afeb0(0x858)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x4afeb0(0x2df)):console['error'](_0x4afeb0(0x246),_0x48a834);}}function calculateMeanAndStdDev(_0x275c80){const _0x3f84ea=_0x3fc9b3;if(_0x275c80[_0x3f84ea(0x431)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x296d82=_0x275c80[_0x3f84ea(0x8c6)]((_0x3dceb7,_0x4f458b)=>_0x3dceb7+_0x4f458b,0x0)/_0x275c80[_0x3f84ea(0x431)];if(_0x275c80[_0x3f84ea(0x431)]===0x1)return{'mean':_0x296d82,'stdDev':0x0};const _0x4396ad=Math[_0x3f84ea(0x67e)](_0x275c80[_0x3f84ea(0x4cc)](_0x2c5dec=>Math[_0x3f84ea(0x2a7)](_0x2c5dec-_0x296d82,0x2))[_0x3f84ea(0x8c6)]((_0x538350,_0x57a63e)=>_0x538350+_0x57a63e,0x0)/(_0x275c80[_0x3f84ea(0x431)]-0x1));return{'mean':_0x296d82,'stdDev':_0x4396ad};}function calculateZScore(_0x8c71ad,_0x396adb,_0x550b7b){if(_0x550b7b===0x0)return 0x0;return(_0x8c71ad-_0x396adb)/_0x550b7b;}function calculateTScore(_0x401027){return 0xa*_0x401027+0x32;}function showStarredProjectView(){const _0x406457=_0x3fc9b3;currentProjectId='starred',currentProjectData=null,projectTitle[_0x406457(0x52e)]=_0x406457(0x71d),projectIdDisplay[_0x406457(0x52e)]=_0x406457(0x605),showView(_0x406457(0x7ee)),manageTab['classList'][_0x406457(0x243)](_0x406457(0x36f)),leaderboardTab[_0x406457(0x2e4)][_0x406457(0x243)]('hidden'),switchProjectTab(_0x406457(0x3c1)),renderQuizzes();}async function loadProjectDetails(_0x409f3a){const _0x20ce59=_0x3fc9b3,_0x43cb3a=doc(db,'artifacts/'+appId+_0x20ce59(0x5ce),_0x409f3a),_0x58730b=await getDoc(_0x43cb3a);if(_0x58730b[_0x20ce59(0x2a4)]()){manageTab[_0x20ce59(0x2e4)]['remove'](_0x20ce59(0x36f)),leaderboardTab['classList'][_0x20ce59(0x495)](_0x20ce59(0x36f)),currentProjectData=_0x58730b[_0x20ce59(0x112)](),projectTitle[_0x20ce59(0x52e)]=currentProjectData[_0x20ce59(0x55a)],projectIdDisplay[_0x20ce59(0x52e)]=_0x409f3a;const _0x58865d=currentProjectData[_0x20ce59(0x6b7)]||{};document[_0x20ce59(0x1cf)](_0x20ce59(0x1b6))[_0x20ce59(0x5f3)]=_0x58865d[_0x20ce59(0x20a)]||_0x20ce59(0x3ba);const _0x3d0ffb=document[_0x20ce59(0x1cf)](_0x20ce59(0x75a));_0x3d0ffb[_0x20ce59(0x8b0)]=_0x58865d[_0x20ce59(0x388)]!==![];const _0xe92927=document['getElementById'](_0x20ce59(0x873)),_0x35342d=document[_0x20ce59(0x1cf)](_0x20ce59(0x5f8)),_0x48df7c=document[_0x20ce59(0x1cf)]('project-passcode-input'),_0x515ec5=_0x58865d['isPasscodeEnabled']||![];_0xe92927[_0x20ce59(0x8b0)]=_0x515ec5,_0x48df7c[_0x20ce59(0x5f3)]=_0x58865d[_0x20ce59(0x141)]||'',_0x35342d[_0x20ce59(0x2e4)]['toggle'](_0x20ce59(0x36f),!_0x515ec5),_0xe92927['onchange']=()=>{const _0x1cb02f=_0x20ce59;_0x35342d[_0x1cb02f(0x2e4)][_0x1cb02f(0x81e)](_0x1cb02f(0x36f),!_0xe92927['checked']);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x409f3a),listenForProjectQuizzes(_0x409f3a),listenForStudentProfiles(_0x409f3a);}else showMessage(_0x20ce59(0x15e)),showView(_0x20ce59(0x65a));}async function handleResetProjectOrder(){const _0x4c0a4b=_0x3fc9b3,_0x227546=doc(db,'globalSettings',_0x4c0a4b(0x2e5));try{await setDoc(_0x227546,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x4c0a4b(0x433));}catch(_0x1881b3){console[_0x4c0a4b(0x105)](_0x4c0a4b(0x867),_0x1881b3),showMessage(_0x4c0a4b(0x8a1));}}function _0xcf86(_0x45d643,_0x72bfb6){const _0x32ccb6=_0x32cc();return _0xcf86=function(_0xcf865d,_0x2f7460){_0xcf865d=_0xcf865d-0xfb;let _0x325c74=_0x32ccb6[_0xcf865d];return _0x325c74;},_0xcf86(_0x45d643,_0x72bfb6);}async function handleTogglePinProject(_0xd9e090){const _0x2e05b0=_0x3fc9b3;if(!_0xd9e090)return;const _0x2e0800=doc(db,_0x2e05b0(0x14c)+appId+_0x2e05b0(0x5ce),_0xd9e090);try{const _0x11dfd7=await getDoc(_0x2e0800);if(_0x11dfd7[_0x2e05b0(0x2a4)]()){const _0xc5c5b5=_0x11dfd7['data']()[_0x2e05b0(0x7c9)]||![];await updateDoc(_0x2e0800,{'isPinned':!_0xc5c5b5});}}catch(_0x293f36){console['error']('Error\x20toggling\x20pin\x20status:',_0x293f36),showMessage(_0x2e05b0(0x176));}}async function handleDeleteProject(_0x5c7464){const _0x2b3e34=_0x3fc9b3;try{const _0x3e580e=writeBatch(db),_0x412230=collection(db,_0x2b3e34(0x14c)+appId+_0x2b3e34(0x829)),_0x45dc41=query(_0x412230,where(_0x2b3e34(0x499),'==',_0x5c7464)),_0x1180ab=await getDocs(_0x45dc41);for(const _0x4393f6 of _0x1180ab['docs']){const _0x2d15a8=collection(db,_0x2b3e34(0x14c)+appId+'/public/data/quizzes/'+_0x4393f6['id']+'/submissions'),_0x3689a8=await getDocs(_0x2d15a8);_0x3689a8[_0x2b3e34(0x2a5)](_0x3bfeaa=>{const _0x2071e2=_0x2b3e34;_0x3e580e[_0x2071e2(0x71c)](_0x3bfeaa[_0x2071e2(0x28b)]);}),_0x3e580e[_0x2b3e34(0x71c)](_0x4393f6[_0x2b3e34(0x28b)]);}const _0x5c2c88=collection(db,_0x2b3e34(0x14c)+appId+_0x2b3e34(0x3c7)+_0x5c7464+_0x2b3e34(0x282)),_0x3d92cb=await getDocs(_0x5c2c88);_0x3d92cb[_0x2b3e34(0x2a5)](_0x3b162d=>{const _0x297195=_0x2b3e34;_0x3e580e[_0x297195(0x71c)](_0x3b162d[_0x297195(0x28b)]);});const _0x181f73=doc(db,_0x2b3e34(0x14c)+appId+_0x2b3e34(0x5ce),_0x5c7464);_0x3e580e[_0x2b3e34(0x71c)](_0x181f73),await _0x3e580e['commit'](),showMessage(_0x2b3e34(0x4dd)),showView(_0x2b3e34(0x65a));}catch(_0x50378b){console[_0x2b3e34(0x105)](_0x2b3e34(0x758),_0x50378b),showMessage(_0x2b3e34(0x581));}}document[_0x3fc9b3(0x1cf)]('save-settings-btn')['addEventListener'](_0x3fc9b3(0x79f),async()=>{const _0x1a0e9a=_0x3fc9b3;if(!currentProjectId)return;const _0x5a8f3c={'defaultNumQuestions':parseInt(document[_0x1a0e9a(0x1cf)]('num-questions')['value']),'defaultNumChoices':parseInt(document['getElementById'](_0x1a0e9a(0x469))[_0x1a0e9a(0x5f3)]),'defaultPassingScore':parseInt(document['getElementById'](_0x1a0e9a(0x340))['value']),'resultsDisplay':document[_0x1a0e9a(0x1cf)](_0x1a0e9a(0x6b8))[_0x1a0e9a(0x5f3)],'shuffleSetting':document[_0x1a0e9a(0x1cf)](_0x1a0e9a(0x1b6))[_0x1a0e9a(0x5f3)],'timerMode':document['getElementById']('timer-mode-select')[_0x1a0e9a(0x5f3)],'timerDuration':parseInt(document[_0x1a0e9a(0x1cf)](_0x1a0e9a(0x3a1))[_0x1a0e9a(0x5f3)])};try{const _0x56eb03=doc(db,_0x1a0e9a(0x14c)+appId+_0x1a0e9a(0x5ce),currentProjectId);await updateDoc(_0x56eb03,{'settings':_0x5a8f3c}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x5d83d2){console[_0x1a0e9a(0x105)](_0x1a0e9a(0x220),_0x5d83d2),showMessage(_0x1a0e9a(0x3f7));}});function listenForStudents(_0x285ea8){const _0x57bdbb=_0x3fc9b3,_0x2f97ce=doc(db,_0x57bdbb(0x14c)+appId+_0x57bdbb(0x5ce),_0x285ea8);unsubscribeStudentsListener=onSnapshot(_0x2f97ce,_0x58c6a6=>{const _0x406086=_0x57bdbb;if(_0x58c6a6[_0x406086(0x2a4)]()){const _0x7e4d2e=_0x58c6a6[_0x406086(0x112)]();currentProjectData=_0x7e4d2e,renderStudentList(_0x7e4d2e[_0x406086(0x7bd)]||[]);}});}function renderStudentList(_0x318c70){const _0x504de5=_0x3fc9b3,_0x27037a=document[_0x504de5(0x1cf)](_0x504de5(0x60f));_0x318c70[_0x504de5(0x431)]===0x0?(studentList[_0x504de5(0x6da)]=_0x504de5(0x687),_0x27037a['classList'][_0x504de5(0x243)]('hidden')):(studentList[_0x504de5(0x6da)]=_0x318c70['map'](_0x515152=>_0x504de5(0x123)+_0x515152+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x515152+_0x504de5(0x635))[_0x504de5(0x8b1)](''),_0x27037a['classList'][_0x504de5(0x495)](_0x504de5(0x36f)));}document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x6e5))['addEventListener'](_0x3fc9b3(0x79f),async()=>{const _0x44ceed=_0x3fc9b3;if(!currentProjectId)return;const _0x1acf44=document[_0x44ceed(0x1cf)]('student-name-input'),_0x7fd5b7=_0x1acf44['value'][_0x44ceed(0x598)]();if(!_0x7fd5b7){showMessage(_0x44ceed(0x3ed));return;}const _0x1cb542=_0x7fd5b7[_0x44ceed(0x32a)]('\x0a')[_0x44ceed(0x4cc)](_0x51ddbc=>_0x51ddbc[_0x44ceed(0x598)]())[_0x44ceed(0x18e)](_0x52d63b=>_0x52d63b);if(_0x1cb542[_0x44ceed(0x431)]===0x0)return;try{const _0x43a125=doc(db,_0x44ceed(0x14c)+appId+_0x44ceed(0x5ce),currentProjectId),_0x466515=await getDoc(_0x43a125);if(_0x466515[_0x44ceed(0x2a4)]()){const _0x12ad84=_0x466515['data']()['students']||[],_0x5d5e3a=[...new Set([..._0x12ad84,..._0x1cb542])];await updateDoc(_0x43a125,{'students':_0x5d5e3a}),_0x1acf44[_0x44ceed(0x5f3)]='';}}catch(_0x483dc1){console[_0x44ceed(0x105)](_0x44ceed(0x659),_0x483dc1),showMessage(_0x44ceed(0x37e));}});async function handleManualQuizPairing(_0x2f9fbc){const _0x3649af=_0x3fc9b3,_0x78841c=document[_0x3649af(0x1cf)](_0x3649af(0x1bb)),_0x2a8e3b=document[_0x3649af(0x1cf)]('move-quiz-project-select'),_0x5d9308=_0x78841c[_0x3649af(0x884)]('h3'),_0x41391c=document[_0x3649af(0x1cf)](_0x3649af(0x552)),_0x44078d=document[_0x3649af(0x1cf)](_0x3649af(0x464));_0x5d9308[_0x3649af(0x52e)]=_0x3649af(0x599),_0x2a8e3b[_0x3649af(0x6da)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x41391c[_0x3649af(0x52e)]=_0x3649af(0x536),_0x78841c[_0x3649af(0x2e4)][_0x3649af(0x495)]('hidden');const _0x48f963=allQuizzes['filter'](_0x3d59ee=>_0x3d59ee['id']!==_0x2f9fbc);_0x48f963[_0x3649af(0x431)]===0x0?(_0x2a8e3b[_0x3649af(0x6da)]=_0x3649af(0x8ce),_0x41391c[_0x3649af(0x323)]=!![]):(_0x2a8e3b[_0x3649af(0x6da)]=_0x3649af(0x244)+_0x48f963[_0x3649af(0x4cc)](_0x4a954e=>_0x3649af(0x380)+_0x4a954e['id']+'\x22>'+_0x4a954e[_0x3649af(0x7aa)]+_0x3649af(0x140))[_0x3649af(0x8b1)](''),_0x41391c[_0x3649af(0x323)]=![]);const _0x192546=async()=>{const _0x36d848=_0x3649af,_0x5c95e4=_0x2a8e3b['value'];if(!_0x5c95e4){showMessage(_0x36d848(0x83e));return;}_0x41391c[_0x36d848(0x323)]=!![],_0x41391c[_0x36d848(0x52e)]=_0x36d848(0x88b);try{const _0x5a8f92=doc(db,_0x36d848(0x14c)+appId+_0x36d848(0x829),_0x2f9fbc),_0x44f96c=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5c95e4),_0x5e826d=writeBatch(db);_0x5e826d[_0x36d848(0x66b)](_0x5a8f92,{'pairedQuizId':_0x5c95e4}),_0x5e826d['update'](_0x44f96c,{'pairedQuizId':_0x2f9fbc}),await _0x5e826d[_0x36d848(0x3a6)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x78841c[_0x36d848(0x2e4)][_0x36d848(0x243)](_0x36d848(0x36f));}catch(_0x3d1f50){console['error'](_0x36d848(0x44a),_0x3d1f50),showMessage(_0x36d848(0x154));}finally{_0x5d9308[_0x36d848(0x52e)]=_0x36d848(0x4dc),_0x41391c[_0x36d848(0x52e)]=_0x36d848(0x742),_0x41391c[_0x36d848(0x323)]=![],_0x41391c[_0x36d848(0x760)]('click',_0x192546),_0x44078d[_0x36d848(0x760)](_0x36d848(0x79f),_0x1f7cef);}},_0x1f7cef=()=>{const _0x20e1bb=_0x3649af;_0x78841c[_0x20e1bb(0x2e4)][_0x20e1bb(0x243)](_0x20e1bb(0x36f)),_0x5d9308[_0x20e1bb(0x52e)]=_0x20e1bb(0x4dc),_0x41391c['textContent']=_0x20e1bb(0x742),_0x41391c['removeEventListener'](_0x20e1bb(0x79f),_0x192546),_0x44078d[_0x20e1bb(0x760)](_0x20e1bb(0x79f),_0x1f7cef);};_0x41391c[_0x3649af(0x87d)](_0x3649af(0x79f),_0x192546),_0x44078d[_0x3649af(0x87d)](_0x3649af(0x79f),_0x1f7cef);}function handleDeleteStudent(_0x29fd0b){const _0x1aa899=_0x3fc9b3;showConfirmation(_0x1aa899(0x24a)+_0x29fd0b+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x56ac13=_0x1aa899;if(!currentProjectId||!currentProjectData)return;const _0x2e02ff=currentProjectData[_0x56ac13(0x7bd)][_0x56ac13(0x18e)](_0xbe1020=>_0xbe1020!==_0x29fd0b);try{const _0xb3c8b8=doc(db,'artifacts/'+appId+_0x56ac13(0x5ce),currentProjectId),_0x5ba6f4=doc(db,_0x56ac13(0x14c)+appId+_0x56ac13(0x3c7)+currentProjectId+_0x56ac13(0x282),_0x29fd0b),_0x2793ee=writeBatch(db);_0x2793ee[_0x56ac13(0x66b)](_0xb3c8b8,{'students':_0x2e02ff}),_0x2793ee[_0x56ac13(0x71c)](_0x5ba6f4),await _0x2793ee['commit']();}catch(_0x443fe0){console['error'](_0x56ac13(0x817),_0x443fe0),showMessage(_0x56ac13(0x40d));}});}function handleDeleteAllStudents(){const _0x39fca2=_0x3fc9b3;showConfirmation(_0x39fca2(0x275),async()=>{const _0x3588ec=_0x39fca2;if(!currentProjectId)return;try{const _0x260190=doc(db,_0x3588ec(0x14c)+appId+_0x3588ec(0x5ce),currentProjectId),_0xd2ac7b=collection(db,_0x3588ec(0x14c)+appId+_0x3588ec(0x3c7)+currentProjectId+'/studentProfiles'),_0x294a6a=await getDocs(_0xd2ac7b),_0xdc1c35=writeBatch(db);_0xdc1c35['update'](_0x260190,{'students':[]}),_0x294a6a['forEach'](_0x37d4ba=>_0xdc1c35['delete'](_0x37d4ba[_0x3588ec(0x28b)])),await _0xdc1c35[_0x3588ec(0x3a6)]();}catch(_0x45721c){console[_0x3588ec(0x105)](_0x3588ec(0x807),_0x45721c),showMessage(_0x3588ec(0x2ed));}});}async function handleGenerateFromFileClick(){const _0x278be7=_0x3fc9b3;if(!selectedFile){showMessage(_0x278be7(0x6bb));return;}const _0x240869=document[_0x278be7(0x1cf)](_0x278be7(0x507)),_0x34548b=document[_0x278be7(0x1cf)](_0x278be7(0x76e)),_0xee9fe6=document[_0x278be7(0x1cf)](_0x278be7(0x63e)),_0x4a7f4b=document['getElementById'](_0x278be7(0x561));_0x4a7f4b['disabled']=!![],document[_0x278be7(0x1cf)](_0x278be7(0x878))[_0x278be7(0x2e4)]['remove'](_0x278be7(0x36f)),_0xee9fe6[_0x278be7(0x6da)]='',_0x240869['classList'][_0x278be7(0x495)](_0x278be7(0x36f)),_0x34548b[_0x278be7(0x52e)]='กำลังอ่านและเตรียมไฟล์...';const _0x5d2f31=new FileReader();_0x5d2f31[_0x278be7(0x270)](selectedFile),_0x5d2f31['onload']=async()=>{const _0x1b35de=_0x278be7;try{const _0x2ecf7e=_0x5d2f31[_0x1b35de(0x1cd)][_0x1b35de(0x32a)](',')[0x1],_0x1f4da7=selectedFile[_0x1b35de(0x4b3)];await generateQuizFromFile(_0x1f4da7,_0x2ecf7e);}catch(_0x28838d){console['error'](_0x1b35de(0x233),_0x28838d),showMessage(_0x1b35de(0x62f)+_0x28838d['message']),_0x240869[_0x1b35de(0x2e4)][_0x1b35de(0x243)](_0x1b35de(0x36f));}finally{}},_0x5d2f31[_0x278be7(0x7b5)]=_0x520275=>{const _0x43d19a=_0x278be7;console[_0x43d19a(0x105)]('FileReader\x20error:',_0x520275),showMessage(_0x43d19a(0x514)),_0x240869[_0x43d19a(0x2e4)]['add']('hidden'),_0x4a7f4b['disabled']=![];};}function autoFormatMath(_0x55956f){const _0x500096=_0x3fc9b3;if(typeof _0x55956f!==_0x500096(0x87e)||!_0x55956f)return _0x55956f;const _0x326726=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x221234=_0x55956f[_0x500096(0x278)](_0x326726,_0xd86c97=>{const _0x2b8322=_0x500096;return'$'+_0xd86c97[_0x2b8322(0x598)]()+'$';});return _0x221234;}function sanitizeQuizData(_0x3bdc4e){const _0x53ff57=_0x3fc9b3;if(!_0x3bdc4e||!_0x3bdc4e['questions'])return _0x3bdc4e;const _0x42420e={'imes':_0x53ff57(0x85c),'div':_0x53ff57(0x284)},_0x4ae256=_0x1ae2fb=>{const _0x397cfd=_0x53ff57;if(typeof _0x1ae2fb!=='string')return _0x1ae2fb;let _0x37c4a4=_0x1ae2fb;for(const [_0x53fb5b,_0x40d82a]of Object[_0x397cfd(0x3ae)](_0x42420e)){const _0xb01142=new RegExp('\x5cb'+_0x53fb5b+'\x5cb','g');_0x37c4a4=_0x37c4a4[_0x397cfd(0x278)](_0xb01142,_0x40d82a);}return _0x37c4a4=_0x37c4a4[_0x397cfd(0x278)](/\\\//g,_0x397cfd(0x284)),_0x37c4a4=_0x37c4a4[_0x397cfd(0x278)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x397cfd(0x85c))[_0x397cfd(0x278)](/÷/g,_0x397cfd(0x284))[_0x397cfd(0x278)](/×/g,_0x397cfd(0x85c)),_0x37c4a4=_0x37c4a4[_0x397cfd(0x278)](/(\d)(\\frac)/g,_0x397cfd(0x77c)),_0x37c4a4=autoFormatMath(_0x37c4a4),_0x37c4a4;};return _0x3bdc4e['topic']&&(_0x3bdc4e[_0x53ff57(0x7aa)]=_0x4ae256(_0x3bdc4e[_0x53ff57(0x7aa)])),_0x3bdc4e[_0x53ff57(0x2eb)][_0x53ff57(0x2a5)](_0x238aeb=>{const _0x5606cb=_0x53ff57;_0x238aeb[_0x5606cb(0x5a3)]=_0x4ae256(_0x238aeb[_0x5606cb(0x5a3)]),_0x238aeb[_0x5606cb(0x77d)]&&(_0x238aeb['options']=_0x238aeb[_0x5606cb(0x77d)][_0x5606cb(0x4cc)](_0x4ae256)),_0x238aeb['explanation']&&(_0x238aeb['explanation']=_0x4ae256(_0x238aeb['explanation'])),_0x238aeb[_0x5606cb(0x2d7)]&&(_0x238aeb[_0x5606cb(0x2d7)]=_0x4ae256(_0x238aeb['stem'])),_0x238aeb[_0x5606cb(0x76a)]&&(_0x238aeb[_0x5606cb(0x76a)]=_0x4ae256(_0x238aeb[_0x5606cb(0x76a)])),_0x238aeb['allResponses']&&(_0x238aeb[_0x5606cb(0x16d)]=_0x238aeb[_0x5606cb(0x16d)]['map'](_0x4ae256));}),_0x3bdc4e;}const simpleMathPrompt=_0x3fc9b3(0x65c);async function handleGenerateFromLink(){const _0x197136=_0x3fc9b3,_0x3ba5df=document[_0x197136(0x1cf)](_0x197136(0x64d)),_0x5c4ba2=document['getElementById'](_0x197136(0x789)),_0x4edbe4=_0x3ba5df[_0x197136(0x5f3)]['trim'](),_0x5ba7cd=_0x5c4ba2[_0x197136(0x5f3)][_0x197136(0x598)]();if(!_0x4edbe4){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x5c14f1=document['getElementById']('loader'),_0x58ea3d=document[_0x197136(0x1cf)](_0x197136(0x76e)),_0x19f5eb=document[_0x197136(0x1cf)](_0x197136(0x63e)),_0x18af3d=document['getElementById'](_0x197136(0x3e0));document[_0x197136(0x1cf)](_0x197136(0x878))[_0x197136(0x2e4)][_0x197136(0x495)](_0x197136(0x36f)),_0x19f5eb[_0x197136(0x6da)]='',_0x5c14f1['classList'][_0x197136(0x495)](_0x197136(0x36f)),_0x58ea3d['textContent']='กำลังดึงข้อมูลจากลิงก์...',_0x18af3d[_0x197136(0x323)]=!![];try{const _0x540dbf=_0x197136(0x63a)+encodeURIComponent(_0x4edbe4),_0x4ca2fa=await fetch(_0x540dbf);if(!_0x4ca2fa['ok'])throw new Error(_0x197136(0x7ca)+_0x4ca2fa[_0x197136(0x70c)]+')');const _0x11b488=await _0x4ca2fa[_0x197136(0x6ea)](),_0x1be1ba=extractTextFromHtml(_0x11b488);if(!_0x1be1ba||_0x1be1ba[_0x197136(0x431)]<0x64)throw new Error(_0x197136(0x7b9));await generateQuiz(_0x5ba7cd,_0x1be1ba);}catch(_0x3ce53f){console[_0x197136(0x105)](_0x197136(0x475),_0x3ce53f),showMessage(_0x197136(0x831)+_0x3ce53f[_0x197136(0x59c)]),_0x19f5eb[_0x197136(0x6da)]=_0x197136(0x7cf);}finally{_0x5c14f1[_0x197136(0x2e4)][_0x197136(0x243)](_0x197136(0x36f)),_0x18af3d[_0x197136(0x323)]=![];}}function extractTextFromHtml(_0x50b8b9){const _0x6d5bea=_0x3fc9b3,_0x519289=new DOMParser()[_0x6d5bea(0x83c)](_0x50b8b9,'text/html');return _0x519289[_0x6d5bea(0x7ab)](_0x6d5bea(0x59e))[_0x6d5bea(0x2a5)](_0x20f24e=>_0x20f24e['remove']()),_0x519289[_0x6d5bea(0x1c3)]['textContent']||'';}document[_0x3fc9b3(0x1cf)](_0x3fc9b3(0x611))[_0x3fc9b3(0x87d)]('click',()=>{const _0x1486a1=_0x3fc9b3,_0x5ccc86=document[_0x1486a1(0x1cf)](_0x1486a1(0x42d))[_0x1486a1(0x5f3)][_0x1486a1(0x598)]();generateQuiz(_0x5ccc86,null);}),document[_0x3fc9b3(0x1cf)]('generate-from-text-btn')[_0x3fc9b3(0x87d)](_0x3fc9b3(0x79f),()=>{const _0x397cff=_0x3fc9b3,_0x1041d4=document[_0x397cff(0x1cf)](_0x397cff(0x3cd))[_0x397cff(0x5f3)][_0x397cff(0x598)]();if(!_0x1041d4){showMessage(_0x397cff(0x40a));return;}const _0x5d19c4=document['getElementById'](_0x397cff(0x42d))[_0x397cff(0x5f3)]['trim']();generateQuiz(_0x5d19c4,_0x1041d4);});async function generateQuiz(_0x2a6eee,_0x26cfed,_0x5ca881=null){const _0x54a5c9=_0x3fc9b3,_0x1650ed=document[_0x54a5c9(0x1cf)](_0x54a5c9(0x821))['checked'],_0x481a27=document[_0x54a5c9(0x1cf)]('quiz-type-select')[_0x54a5c9(0x5f3)],_0x5a92b7=document[_0x54a5c9(0x1cf)](_0x54a5c9(0x6a8))[_0x54a5c9(0x5f3)],_0x5d6026=document[_0x54a5c9(0x1cf)]('num-choices')[_0x54a5c9(0x5f3)],_0x50d668=document[_0x54a5c9(0x1cf)](_0x54a5c9(0x2c5))[_0x54a5c9(0x8b0)],_0x2b3a9c=_0x50d668?'':'คณิตศาสตร์',_0x1804d4=document[_0x54a5c9(0x1cf)](_0x54a5c9(0x2c1)),_0x315c62=_0x1804d4[_0x54a5c9(0x5f3)];let _0x3a89b1='';_0x315c62!==_0x54a5c9(0x3fb)&&(_0x3a89b1=_0x54a5c9(0x640)+_0x315c62+'\x22');const _0x18fe55=document[_0x54a5c9(0x1cf)]('question-complexity-select'),_0x389658=_0x18fe55[_0x54a5c9(0x5f3)];let _0x5515e7='';_0x389658!==_0x54a5c9(0x863)&&(_0x5515e7=_0x54a5c9(0x363)+_0x389658+_0x54a5c9(0x4a4));const _0x537de2=document[_0x54a5c9(0x7ab)](_0x54a5c9(0x2d4)),_0xe30b89=Array[_0x54a5c9(0x40c)](_0x537de2)['map'](_0x564594=>_0x564594[_0x54a5c9(0x5f3)]);let _0x1ce4f3='';_0xe30b89[_0x54a5c9(0x431)]>0x0&&(_0x1ce4f3=_0x54a5c9(0x85b)+_0xe30b89['join'](',\x20')+_0x54a5c9(0x332));let _0x2f0c14='',_0x7f602c='',_0x1685b4,_0x5132d6=_0x54a5c9(0x527)+_0x2a6eee+'\x22';if(!_0x2a6eee&&_0x26cfed)_0x5132d6='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x2a6eee&&!_0x26cfed&&(_0x5132d6=_0x54a5c9(0x5e4));const _0x321552={'type':_0x54a5c9(0x1af),'properties':{'questionText':{'type':_0x54a5c9(0x520)},'options':{'type':_0x54a5c9(0x393),'items':{'type':_0x54a5c9(0x520)}},'correctAnswerIndex':{'type':_0x54a5c9(0x1a1)},'explanation':{'type':_0x54a5c9(0x520)},'imageCode':{'type':_0x54a5c9(0x520)}},'required':['questionText',_0x54a5c9(0x77d),_0x54a5c9(0x211),_0x54a5c9(0x10a)]},_0x43dfa3={'type':_0x54a5c9(0x1af),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x54a5c9(0x520)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x54a5c9(0x520)}},'required':[_0x54a5c9(0x5a3),_0x54a5c9(0x6b3),_0x54a5c9(0x10a)]},_0x5b5bf8={'type':_0x54a5c9(0x1af),'properties':{'questionText':{'type':_0x54a5c9(0x520)},'questionType':{'type':_0x54a5c9(0x520),'enum':['multiple_choice',_0x54a5c9(0x5cf)]},'options':{'type':_0x54a5c9(0x393),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x54a5c9(0x1a1)},'idealAnswer':{'type':_0x54a5c9(0x520)},'explanation':{'type':_0x54a5c9(0x520)},'imageCode':{'type':'STRING'}},'required':[_0x54a5c9(0x5a3),'questionType',_0x54a5c9(0x10a)]},_0x7cf53={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x54a5c9(0x4d0)},'explanation':{'type':_0x54a5c9(0x520)},'imageCode':{'type':'STRING'}},'required':[_0x54a5c9(0x5a3),_0x54a5c9(0x6c1),_0x54a5c9(0x10a)]},_0x1047cb={'type':_0x54a5c9(0x1af),'properties':{'questionType':{'type':'STRING','enum':[_0x54a5c9(0x454)]},'stem':{'type':_0x54a5c9(0x520)},'correctResponse':{'type':_0x54a5c9(0x520)},'allResponses':{'type':_0x54a5c9(0x393),'items':{'type':_0x54a5c9(0x520)}},'explanation':{'type':_0x54a5c9(0x520)},'imageCode':{'type':_0x54a5c9(0x520)}},'required':[_0x54a5c9(0x7e0),_0x54a5c9(0x2d7),_0x54a5c9(0x76a),_0x54a5c9(0x16d),_0x54a5c9(0x10a)]};let _0x492aaf;if(_0x5ca881!==null){const _0x140e18=currentQuizData['questions'][_0x5ca881][_0x54a5c9(0x7e0)],_0x27ff76=_0x1650ed?_0x54a5c9(0x711):'';_0x2f0c14='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x5132d6+'\x20'+_0x1ce4f3+'\x20'+_0x3a89b1+_0x54a5c9(0x375)+_0x27ff76+'\x20'+simpleMathPrompt;if(_0x140e18===_0x54a5c9(0x207))_0x1685b4=_0x321552;else{if(_0x140e18===_0x54a5c9(0x454))_0x1685b4={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x54a5c9(0x454)]},'stem':{'type':_0x54a5c9(0x520)},'correctResponse':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x54a5c9(0x520)}},'required':['questionType',_0x54a5c9(0x2d7),_0x54a5c9(0x76a),_0x54a5c9(0x10a)]};else _0x1685b4=_0x43dfa3;}_0x492aaf=_0x1685b4;}else{const _0x1a042c=_0x1650ed?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'',_0x4cba2c=_0x54a5c9(0x38b);switch(_0x481a27){case _0x54a5c9(0x207):_0x2f0c14=_0x54a5c9(0x6b0)+_0x2b3a9c+'\x20'+_0x5a92b7+'\x20ข้อ\x20'+_0x5132d6+'\x20'+_0x1ce4f3+'\x20'+_0x3a89b1+'\x20'+_0x5515e7+'.\x20แต่ละข้อมี\x20'+_0x5d6026+_0x54a5c9(0x8b2)+_0x1a042c+'\x20'+simpleMathPrompt,_0x1685b4=_0x321552;break;case _0x54a5c9(0x8d7):_0x2f0c14=_0x54a5c9(0x443)+_0x2b3a9c+'\x20'+_0x5a92b7+_0x54a5c9(0x3c4)+_0x5132d6+'\x20'+_0x1ce4f3+'\x20'+_0x3a89b1+'\x20'+_0x5515e7+_0x54a5c9(0x23f)+_0x5d6026+_0x54a5c9(0x46b)+_0x1a042c+'\x20'+simpleMathPrompt,_0x1685b4=_0x321552;break;case _0x54a5c9(0x135):_0x2f0c14='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x2b3a9c+'\x20'+_0x5a92b7+_0x54a5c9(0x3c4)+_0x5132d6+'\x20'+_0x1ce4f3+'\x20'+_0x3a89b1+'\x20'+_0x5515e7+_0x54a5c9(0x111)+_0x1a042c+'\x20'+simpleMathPrompt,_0x1685b4=_0x43dfa3;break;case'mixed':_0x2f0c14='สร้างแบบทดสอบ'+_0x2b3a9c+'\x20'+_0x5a92b7+_0x54a5c9(0x3c4)+_0x5132d6+'\x20'+_0x1ce4f3+'\x20'+_0x3a89b1+'\x20'+_0x5515e7+_0x54a5c9(0x542)+_0x5d6026+'\x20ตัวเลือก.\x20'+_0x1a042c+'\x20'+simpleMathPrompt+'.',_0x1685b4=_0x5b5bf8;break;case _0x54a5c9(0x288):_0x2f0c14=_0x54a5c9(0x564)+_0x2b3a9c+'\x20'+_0x5a92b7+_0x54a5c9(0x3c4)+_0x5132d6+'\x20'+_0x1ce4f3+'\x20'+_0x3a89b1+'\x20'+_0x5515e7+_0x54a5c9(0x74d)+_0x1a042c+'\x20'+simpleMathPrompt,_0x1685b4=_0x7cf53;break;case _0x54a5c9(0x2d8):_0x2f0c14=_0x54a5c9(0x42f)+_0x2b3a9c+'\x20'+_0x5a92b7+_0x54a5c9(0x312)+_0x5132d6+'\x20'+_0x1ce4f3+'\x20'+_0x3a89b1+'\x20'+_0x5515e7+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x1a042c+'\x20'+simpleMathPrompt,_0x1685b4=_0x1047cb;break;}_0x492aaf={'type':_0x54a5c9(0x1af),'properties':{'topic':{'type':_0x54a5c9(0x520)},'questions':{'type':_0x54a5c9(0x393),'items':_0x1685b4}},'required':[_0x54a5c9(0x7aa),_0x54a5c9(0x2eb)]};}return _0x26cfed?(_0x2f0c14=_0x54a5c9(0x5c7)+_0x26cfed+'\x22,\x20'+_0x2f0c14,_0x7f602c=_0x54a5c9(0x3e8)):_0x7f602c=_0x54a5c9(0x4d3),handleApiCall(_0x2f0c14,_0x7f602c,_0x492aaf,_0x5ca881);}async function generateQuizFromFile(_0x2967fe,_0x4aa611){const _0x1193f1=_0x3fc9b3,_0x4b948b=document['getElementById']('file-topic-input')[_0x1193f1(0x5f3)][_0x1193f1(0x598)](),_0x34130f=document['getElementById'](_0x1193f1(0x7d3))['value'],_0x1eefd0=document[_0x1193f1(0x1cf)]('num-questions')[_0x1193f1(0x5f3)],_0x37b679=document[_0x1193f1(0x1cf)](_0x1193f1(0x469))[_0x1193f1(0x5f3)],_0x52046c=document['getElementById']('include-images-checkbox')[_0x1193f1(0x8b0)],_0x654017=document[_0x1193f1(0x1cf)](_0x1193f1(0x2c5))[_0x1193f1(0x8b0)],_0x449255=_0x654017?'':'คณิตศาสตร์';let _0x378235='',_0x366652,_0xb3860e='เกี่ยวกับหัวข้อ\x20\x22'+_0x4b948b+'\x22';!_0x4b948b&&(_0xb3860e=_0x1193f1(0x526));const _0xdb0633=_0x52046c?_0x1193f1(0x572):'';switch(_0x34130f){case _0x1193f1(0x207):_0x378235=_0x1193f1(0x6b0)+_0x449255+'\x20'+_0x1eefd0+_0x1193f1(0x3c4)+_0xb3860e+'.\x20แต่ละข้อมี\x20'+_0x37b679+_0x1193f1(0x8b2)+_0xdb0633+'\x20'+simpleMathPrompt,_0x366652={'type':_0x1193f1(0x1af),'properties':{'questionText':{'type':_0x1193f1(0x520)},'options':{'type':_0x1193f1(0x393),'items':{'type':_0x1193f1(0x520)}},'correctAnswerIndex':{'type':_0x1193f1(0x1a1)},'explanation':{'type':_0x1193f1(0x520)},'imageCode':{'type':_0x1193f1(0x520)}},'required':[_0x1193f1(0x5a3),'options',_0x1193f1(0x211),_0x1193f1(0x10a)]};break;case _0x1193f1(0x8d7):_0x378235='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x449255+'\x20'+_0x1eefd0+_0x1193f1(0x3c4)+_0xb3860e+_0x1193f1(0x23f)+_0x37b679+_0x1193f1(0x46b)+_0xdb0633+'\x20'+simpleMathPrompt,_0x366652={'type':_0x1193f1(0x1af),'properties':{'questionText':{'type':_0x1193f1(0x520)},'options':{'type':_0x1193f1(0x393),'items':{'type':_0x1193f1(0x520)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x1193f1(0x520)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x1193f1(0x77d),_0x1193f1(0x211),_0x1193f1(0x10a)]};break;case'fill_in_no_choices':_0x378235=_0x1193f1(0x443)+_0x449255+'\x20'+_0x1eefd0+'\x20ข้อ\x20'+_0xb3860e+_0x1193f1(0x111)+_0xdb0633+'\x20'+simpleMathPrompt,_0x366652={'type':_0x1193f1(0x1af),'properties':{'questionText':{'type':_0x1193f1(0x520)},'idealAnswer':{'type':_0x1193f1(0x520)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1193f1(0x520)}},'required':['questionText','idealAnswer',_0x1193f1(0x10a)]};break;case _0x1193f1(0x863):_0x378235=_0x1193f1(0x1ac)+_0x449255+'\x20'+_0x1eefd0+_0x1193f1(0x3c4)+_0xb3860e+_0x1193f1(0x2b2)+_0x37b679+_0x1193f1(0x3fd)+_0xdb0633+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x366652={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x1193f1(0x520),'enum':[_0x1193f1(0x207),_0x1193f1(0x5cf)]},'options':{'type':_0x1193f1(0x393),'items':{'type':_0x1193f1(0x520)}},'correctAnswerIndex':{'type':_0x1193f1(0x1a1)},'idealAnswer':{'type':_0x1193f1(0x520)},'explanation':{'type':_0x1193f1(0x520)},'imageCode':{'type':_0x1193f1(0x520)}},'required':[_0x1193f1(0x5a3),_0x1193f1(0x7e0),_0x1193f1(0x10a)]};break;case'true_false':_0x378235=_0x1193f1(0x564)+_0x449255+'\x20'+_0x1eefd0+_0x1193f1(0x3c4)+_0xb3860e+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0xdb0633+'\x20'+simpleMathPrompt,_0x366652={'type':'OBJECT','properties':{'questionText':{'type':_0x1193f1(0x520)},'correctAnswer':{'type':_0x1193f1(0x4d0)},'explanation':{'type':_0x1193f1(0x520)},'imageCode':{'type':_0x1193f1(0x520)}},'required':['questionText','correctAnswer',_0x1193f1(0x10a)]};break;case _0x1193f1(0x2d8):_0x378235='สร้างชุดคำถามจับคู่'+_0x449255+'\x20'+_0x1eefd0+_0x1193f1(0x312)+_0xb3860e+_0x1193f1(0x31c)+_0x1eefd0+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0xdb0633+'\x20'+simpleMathPrompt,_0x366652={'type':_0x1193f1(0x1af),'properties':{'questionType':{'type':_0x1193f1(0x520),'enum':[_0x1193f1(0x454)]},'stem':{'type':_0x1193f1(0x520)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x1193f1(0x393),'items':{'type':_0x1193f1(0x520)}},'explanation':{'type':_0x1193f1(0x520)},'imageCode':{'type':'STRING'}},'required':[_0x1193f1(0x7e0),_0x1193f1(0x2d7),_0x1193f1(0x76a),_0x1193f1(0x16d),'explanation']};break;}const _0x53fbf8={'type':_0x1193f1(0x1af),'properties':{'topic':{'type':_0x1193f1(0x520)},'questions':{'type':_0x1193f1(0x393),'items':_0x366652}},'required':[_0x1193f1(0x7aa),_0x1193f1(0x2eb)]},_0x3edeea='จากไฟล์ที่แนบมานี้,\x20'+_0x378235,_0x246330={'contents':[{'parts':[{'text':_0x3edeea},{'inlineData':{'mimeType':_0x2967fe,'data':_0x4aa611}}]}],'generationConfig':{'responseMimeType':_0x1193f1(0x304),'responseSchema':_0x53fbf8}};return handleApiCall(_0x246330[_0x1193f1(0x70f)][0x0][_0x1193f1(0x5d2)],_0x1193f1(0x4e5),_0x53fbf8);}async function handleApiCall(_0x5048cc,_0x4a676c,_0xdda645,_0x45a30f=null){const _0x39c228=_0x3fc9b3,_0x151f58=document[_0x39c228(0x1cf)](_0x39c228(0x878)),_0x57f31e=document[_0x39c228(0x1cf)](_0x39c228(0x507)),_0x5cc55c=document['getElementById'](_0x39c228(0x76e)),_0xfcaa06=document[_0x39c228(0x1cf)](_0x39c228(0x63e));_0x151f58[_0x39c228(0x2e4)]['remove'](_0x39c228(0x36f));_0x45a30f===null&&(_0xfcaa06[_0x39c228(0x6da)]='');_0x57f31e['classList']['remove'](_0x39c228(0x36f)),_0x5cc55c[_0x39c228(0x52e)]=_0x4a676c,document[_0x39c228(0x1cf)](_0x39c228(0x611))[_0x39c228(0x323)]=!![],document['getElementById'](_0x39c228(0x480))['disabled']=!![],document[_0x39c228(0x1cf)](_0x39c228(0x3e0))[_0x39c228(0x323)]=!![];try{const _0x2f7062={'responseMimeType':_0x39c228(0x304),'responseSchema':_0xdda645},_0x5c3c58=Array[_0x39c228(0x7d5)](_0x5048cc)?_0x5048cc:[{'text':_0x5048cc}],_0x1729f6={'contents':[{'role':_0x39c228(0x1b1),'parts':_0x5c3c58}],'generationConfig':_0x2f7062},_0x43bf51='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x1743b4=_0x39c228(0x318)+_0x43bf51,_0x103049=await fetch(_0x1743b4,{'method':_0x39c228(0x2d2),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x1729f6)});if(!_0x103049['ok'])throw new Error(_0x39c228(0x7f8)+_0x103049[_0x39c228(0x70c)]);const _0x5ef9e9=await _0x103049[_0x39c228(0x639)]();if(_0x5ef9e9[_0x39c228(0x61b)]?.[0x0]?.[_0x39c228(0x7eb)]?.[_0x39c228(0x5d2)]?.[0x0]){let _0x1f7886=_0x5ef9e9[_0x39c228(0x61b)][0x0]['content'][_0x39c228(0x5d2)][0x0][_0x39c228(0x6ea)],_0x1240ba;try{if(_0x1f7886[_0x39c228(0x733)](_0x39c228(0x198)))_0x1f7886=_0x1f7886[_0x39c228(0x51e)](0x7,_0x1f7886[_0x39c228(0x431)]-0x3)[_0x39c228(0x598)]();else _0x1f7886[_0x39c228(0x733)]('```')&&(_0x1f7886=_0x1f7886[_0x39c228(0x51e)](0x3,_0x1f7886[_0x39c228(0x431)]-0x3)[_0x39c228(0x598)]());_0x1240ba=JSON[_0x39c228(0x6be)](_0x1f7886);}catch(_0x1b77b6){console[_0x39c228(0x105)](_0x39c228(0x1f7),_0x1b77b6,_0x1f7886);throw new Error(_0x39c228(0x57c));}if(_0x45a30f!==null){if(_0x1240ba['questionType']===_0x39c228(0x454)){const _0x39350c=currentQuizData[_0x39c228(0x2eb)]['map'](_0x25f4da=>_0x25f4da[_0x39c228(0x76a)]);_0x1240ba['allResponses']=_0x39350c;const _0x4b5b58=currentQuizData[_0x39c228(0x2eb)][_0x45a30f][_0x39c228(0x76a)],_0x5d8d77=_0x39350c[_0x39c228(0x34e)](_0x4b5b58);_0x5d8d77>-0x1&&(_0x39350c[_0x5d8d77]=_0x1240ba['correctResponse']),currentQuizData['questions'][_0x39c228(0x2a5)](_0x4d8ec8=>{const _0x18c06a=_0x39c228;if(_0x4d8ec8['questionType']===_0x18c06a(0x454))_0x4d8ec8[_0x18c06a(0x16d)]=_0x39350c;});}currentQuizData['questions'][_0x45a30f]=_0x1240ba,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x1240ba;const _0x1dee18=document[_0x39c228(0x1cf)](_0x39c228(0x7d3))['value'];currentQuizData[_0x39c228(0x126)]=_0x1dee18,currentQuizData['questions']&&currentQuizData[_0x39c228(0x2eb)]['forEach'](_0x1211d8=>{const _0x34eb2d=_0x39c228;if(!_0x1211d8[_0x34eb2d(0x7e0)]){if(_0x1dee18===_0x34eb2d(0x8d7))_0x1211d8['questionType']=_0x34eb2d(0x207);else _0x1dee18===_0x34eb2d(0x135)?_0x1211d8['questionType']=_0x34eb2d(0x5cf):_0x1211d8['questionType']=_0x1dee18;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x39c228(0x105)](_0x39c228(0x405),JSON['stringify'](_0x5ef9e9));throw new Error(_0x39c228(0x57c));}}catch(_0x391fef){console[_0x39c228(0x105)](_0x39c228(0x2ae),_0x391fef),showMessage(_0x39c228(0x4b2)),_0x45a30f===null&&(_0xfcaa06[_0x39c228(0x6da)]=_0x39c228(0x492));}finally{_0x57f31e['classList'][_0x39c228(0x243)](_0x39c228(0x36f)),document[_0x39c228(0x1cf)](_0x39c228(0x611))[_0x39c228(0x323)]=![],document[_0x39c228(0x1cf)](_0x39c228(0x480))[_0x39c228(0x323)]=![],document[_0x39c228(0x1cf)](_0x39c228(0x3e0))[_0x39c228(0x323)]=![];const _0x1ce324=document[_0x39c228(0x1cf)](_0x39c228(0x561));_0x1ce324&&(_0x1ce324[_0x39c228(0x323)]=![]);}}function exitFullscreen(){const _0x43f083=_0x3fc9b3;if(document['exitFullscreen'])document[_0x43f083(0x3b4)]()[_0x43f083(0x745)](_0x587c49=>console['error'](_0x587c49));else{if(document[_0x43f083(0x5ae)])document[_0x43f083(0x5ae)]();else document[_0x43f083(0x4c4)]&&document[_0x43f083(0x4c4)]();}}function enterFullscreen(){const _0x151b5e=_0x3fc9b3,_0x9c9b20=document['documentElement'];if(_0x9c9b20[_0x151b5e(0x1c0)])_0x9c9b20[_0x151b5e(0x1c0)]()['catch'](_0x2e73e5=>{const _0x4cf645=_0x151b5e;console['error']('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x2e73e5[_0x4cf645(0x59c)]+'\x20('+_0x2e73e5[_0x4cf645(0x692)]+')');});else{if(_0x9c9b20[_0x151b5e(0x315)])_0x9c9b20['webkitRequestFullscreen']();else _0x9c9b20[_0x151b5e(0x42b)]&&_0x9c9b20[_0x151b5e(0x42b)]();}}function handleCheatingEvent(){const _0x225b38=_0x3fc9b3;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x225b38(0x5fe),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x225b38(0x1cf)](_0x225b38(0x83f))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x225b38(0x3ef),handleVisibilityChange),document[_0x225b38(0x760)](_0x225b38(0x372),handleFullscreenChange)):showMessage(_0x225b38(0x642)+cheatAttempts+'/'+maxCheatAttempts+_0x225b38(0x1ec),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x39a8bb=_0x3fc9b3;if(currentMode===_0x39a8bb(0x2c0)||!isQuizActive)return;if(document[_0x39a8bb(0x76c)]==='hidden')handleCheatingEvent();else document[_0x39a8bb(0x76c)]===_0x39a8bb(0x673)&&(console[_0x39a8bb(0x677)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x1bfce8=_0x3fc9b3;if(currentMode===_0x1bfce8(0x2c0)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x2067d5){const _0x39ae18=_0x3fc9b3,_0xbc9eea=document[_0x39ae18(0x1cf)](_0x39ae18(0x63e));let _0xa1c4='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x2067d5[_0x39ae18(0x7aa)]+_0x39ae18(0x3e9);_0x2067d5[_0x39ae18(0x2eb)]['forEach']((_0x36a9ea,_0x183bb3)=>{const _0x5b43ba=_0x39ae18;!_0x36a9ea['id']&&(_0x36a9ea['id']='q_'+Date['now']()+'_'+_0x183bb3);const _0x288529=_0x36a9ea['questionType']||_0x2067d5['quizType'];_0xa1c4+=_0x5b43ba(0x7a0)+_0x183bb3+_0x5b43ba(0x3dd)+_0x183bb3+_0x5b43ba(0x891)+_0x183bb3+_0x5b43ba(0x60a)+_0x183bb3+_0x5b43ba(0x7ae);switch(_0x288529){case'matching_item':_0xa1c4+=_0x5b43ba(0x2de)+_0x183bb3+'\x22>'+(_0x183bb3+0x1)+'.\x20'+_0x36a9ea['stem']+'</p>';_0x36a9ea[_0x5b43ba(0x41f)]&&(_0xa1c4+=_0x5b43ba(0x231)+_0x183bb3+_0x5b43ba(0x72e)+_0x36a9ea[_0x5b43ba(0x41f)]+'</div>');_0xa1c4+=_0x5b43ba(0x80c)+_0x183bb3+'\x22>'+_0x36a9ea['correctResponse']+_0x5b43ba(0x519),_0xa1c4+=_0x5b43ba(0x25b)+_0x183bb3+'\x22>'+_0x36a9ea['explanation']+'</span></div>';break;case _0x5b43ba(0x5cf):_0xa1c4+=_0x5b43ba(0x2de)+_0x183bb3+'\x22>'+(_0x183bb3+0x1)+'.\x20'+_0x36a9ea[_0x5b43ba(0x5a3)]+'</p>';_0x36a9ea[_0x5b43ba(0x41f)]&&(_0xa1c4+=_0x5b43ba(0x231)+_0x183bb3+_0x5b43ba(0x72e)+_0x36a9ea[_0x5b43ba(0x41f)]+_0x5b43ba(0x2e9));_0xa1c4+=_0x5b43ba(0x770)+_0x183bb3+'\x22>'+_0x36a9ea[_0x5b43ba(0x6b3)]+'</span></div>',_0xa1c4+=_0x5b43ba(0x25b)+_0x183bb3+'\x22>'+_0x36a9ea[_0x5b43ba(0x10a)]+_0x5b43ba(0x519);break;case _0x5b43ba(0x288):_0xa1c4+=_0x5b43ba(0x2de)+_0x183bb3+'\x22>'+(_0x183bb3+0x1)+'.\x20'+_0x36a9ea[_0x5b43ba(0x5a3)]+_0x5b43ba(0x808);_0x36a9ea[_0x5b43ba(0x41f)]&&(_0xa1c4+=_0x5b43ba(0x231)+_0x183bb3+_0x5b43ba(0x72e)+_0x36a9ea[_0x5b43ba(0x41f)]+_0x5b43ba(0x2e9));_0xa1c4+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x36a9ea[_0x5b43ba(0x6c1)]===!![]?_0x5b43ba(0x78d):'')+_0x5b43ba(0x14b)+(_0x36a9ea[_0x5b43ba(0x6c1)]===![]?_0x5b43ba(0x78d):'')+_0x5b43ba(0x44d),_0xa1c4+=_0x5b43ba(0x25b)+_0x183bb3+'\x22>'+_0x36a9ea[_0x5b43ba(0x10a)]+'</span></div>';break;case _0x5b43ba(0x159):case'multiple_choice':default:_0xa1c4+=_0x5b43ba(0x2de)+_0x183bb3+'\x22>'+(_0x183bb3+0x1)+'.\x20'+_0x36a9ea[_0x5b43ba(0x5a3)]+_0x5b43ba(0x808);_0x36a9ea[_0x5b43ba(0x41f)]&&(_0xa1c4+=_0x5b43ba(0x231)+_0x183bb3+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x36a9ea[_0x5b43ba(0x41f)]+_0x5b43ba(0x2e9));_0xa1c4+=_0x5b43ba(0x3b6)+_0x183bb3+_0x5b43ba(0x320)+_0x36a9ea[_0x5b43ba(0x77d)]['map']((_0xc3bb9a,_0x440997)=>_0x5b43ba(0x37b)+(_0x440997===_0x36a9ea[_0x5b43ba(0x211)]?_0x5b43ba(0x78d):'')+'\x22>'+_0xc3bb9a+_0x5b43ba(0x1e2))['join']('')+_0x5b43ba(0x2dc),_0xa1c4+=_0x5b43ba(0x25b)+_0x183bb3+'\x22>'+_0x36a9ea[_0x5b43ba(0x10a)]+_0x5b43ba(0x519);break;}_0xa1c4+=_0x5b43ba(0x2e9);}),_0xa1c4+=_0x39ae18(0x67a),_0xbc9eea[_0x39ae18(0x6da)]=_0xa1c4,document[_0x39ae18(0x7ab)]('.edit-question-btn')['forEach'](_0x20e0a3=>_0x20e0a3[_0x39ae18(0x87d)](_0x39ae18(0x79f),handleEditQuestion)),document[_0x39ae18(0x7ab)](_0x39ae18(0x168))[_0x39ae18(0x2a5)](_0x45dfb4=>_0x45dfb4[_0x39ae18(0x87d)](_0x39ae18(0x79f),handleRegenerateQuestion)),document[_0x39ae18(0x7ab)](_0x39ae18(0x36c))['forEach'](_0x21f821=>_0x21f821[_0x39ae18(0x87d)](_0x39ae18(0x79f),handleSaveToBank)),document[_0x39ae18(0x1cf)]('export-worksheet-pdf-btn')[_0x39ae18(0x87d)]('click',exportQuizAsWorksheetPDF),document['getElementById'](_0x39ae18(0x482))[_0x39ae18(0x87d)]('click',saveQuiz),document[_0x39ae18(0x1cf)](_0x39ae18(0x1f5))[_0x39ae18(0x87d)](_0x39ae18(0x79f),handleVerifyAnswers);if(window[_0x39ae18(0x860)])window[_0x39ae18(0x860)]['typesetPromise']([_0xbc9eea]);}function handleRegenerateQuestion(_0x3a428b){const _0x371a39=_0x3fc9b3,_0x3e69a9=_0x3a428b[_0x371a39(0x10c)]['dataset'][_0x371a39(0x461)],_0x5e65ad=currentQuizData['topic'];showMessage(_0x371a39(0x5c0)+(parseInt(_0x3e69a9)+0x1)+'\x20ใหม่...'),generateQuiz(_0x5e65ad,null,parseInt(_0x3e69a9));}function getPointerPosition(_0x129ec1,_0x28e9b1){const _0x19f8cb=_0x3fc9b3,_0x9194f9=_0x129ec1[_0x19f8cb(0x6bc)]();let _0x37d880,_0x192002;return _0x28e9b1['touches']&&_0x28e9b1[_0x19f8cb(0x121)]['length']>0x0?(_0x37d880=_0x28e9b1[_0x19f8cb(0x121)][0x0][_0x19f8cb(0x309)],_0x192002=_0x28e9b1[_0x19f8cb(0x121)][0x0][_0x19f8cb(0x477)]):(_0x37d880=_0x28e9b1['clientX'],_0x192002=_0x28e9b1['clientY']),{'x':(_0x37d880-_0x9194f9['e'])/_0x9194f9['a'],'y':(_0x192002-_0x9194f9['f'])/_0x9194f9['d']};}function startDrag(_0x389cf1){const _0x4929c7=_0x3fc9b3;_0x389cf1[_0x4929c7(0x4b3)]===_0x4929c7(0x834)&&_0x389cf1['preventDefault']();const _0x474ca3=_0x389cf1[_0x4929c7(0x6c8)][_0x4929c7(0x5d9)]('.draggable-text');if(_0x474ca3){draggedSvgElement=_0x474ca3;const _0x5aeb30=draggedSvgElement['ownerSVGElement'],_0x42addd=getPointerPosition(_0x5aeb30,_0x389cf1);svgOffset['x']=_0x42addd['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x42addd['y']-parseFloat(draggedSvgElement[_0x4929c7(0x370)](null,'y'));}}function calculateItemAnalysis(_0x36b514,_0x3250b0){const _0x2edf98=_0x3fc9b3,_0x2943ff={};if(_0x3250b0[_0x2edf98(0x431)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0xbe2e51=[..._0x3250b0][_0x2edf98(0x8d1)]((_0x32ae46,_0x491a77)=>{const _0x937784=_0x2edf98,_0x35590f=_0x491a77['latestScore']-_0x32ae46['latestScore'];if(_0x35590f!==0x0)return _0x35590f;const _0x20af4b=_0x32ae46[_0x937784(0x68c)]?.[_0x937784(0x431)]||0x1,_0x37cb3b=_0x491a77[_0x937784(0x68c)]?.[_0x937784(0x431)]||0x1,_0x37faf2=_0x20af4b-_0x37cb3b;if(_0x37faf2!==0x0)return _0x37faf2;const _0x2fa99f=new Date(_0x32ae46[_0x937784(0x206)]),_0x227d1e=new Date(_0x491a77[_0x937784(0x206)]),_0x5a6f5d=_0x2fa99f-_0x227d1e;if(_0x5a6f5d!==0x0)return _0x5a6f5d;return _0x32ae46[_0x937784(0x432)]['localeCompare'](_0x491a77[_0x937784(0x432)],'th');}),_0x5ef112=_0xbe2e51[_0x2edf98(0x431)],_0x44daef=Math[_0x2edf98(0x50c)](0x1,Math['floor'](_0x5ef112*0.33));if(_0x44daef===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x4cfc5a=_0xbe2e51[_0x2edf98(0x29c)](0x0,_0x44daef),_0xbe2038=_0xbe2e51[_0x2edf98(0x29c)](-_0x44daef),_0x69a38c=_0x4cfc5a[_0x2edf98(0x4cc)](_0x2aab5a=>_0x2aab5a[_0x2edf98(0x432)]),_0x14b081=_0xbe2038[_0x2edf98(0x4cc)](_0x257a9d=>_0x257a9d['studentName']);return _0x36b514['questions']['forEach']((_0x473ccb,_0x21131d)=>{const _0x21918a=_0x2edf98,_0x7ec272=_0x473ccb[_0x21918a(0x2d7)]||_0x473ccb[_0x21918a(0x5a3)];let _0x119c26=0x0,_0x32be9e=0x0,_0x28d7b5=0x0;const _0x402332=[],_0x52d900=[];_0x4cfc5a['forEach'](_0x2e0527=>{const _0x9aaf4a=_0x21918a,_0x314b44=_0x2e0527[_0x9aaf4a(0x68c)][_0x2e0527[_0x9aaf4a(0x68c)][_0x9aaf4a(0x431)]-0x1],_0x5b49fb=_0x314b44['answers'][_0x9aaf4a(0x2c3)](_0x579145=>_0x579145[_0x9aaf4a(0x29d)]===_0x7ec272);_0x402332[_0x9aaf4a(0x1c2)]({'name':_0x2e0527[_0x9aaf4a(0x432)],'isCorrect':_0x5b49fb?_0x5b49fb[_0x9aaf4a(0x626)]:![]}),_0x5b49fb&&_0x5b49fb[_0x9aaf4a(0x626)]&&_0x32be9e++;}),_0xbe2038['forEach'](_0x491afd=>{const _0x1d9eab=_0x21918a,_0x26ce12=_0x491afd[_0x1d9eab(0x68c)][_0x491afd[_0x1d9eab(0x68c)][_0x1d9eab(0x431)]-0x1],_0x481303=_0x26ce12['answers']['find'](_0x2343af=>_0x2343af[_0x1d9eab(0x29d)]===_0x7ec272);_0x52d900[_0x1d9eab(0x1c2)]({'name':_0x491afd[_0x1d9eab(0x432)],'isCorrect':_0x481303?_0x481303[_0x1d9eab(0x626)]:![]}),_0x481303&&_0x481303[_0x1d9eab(0x626)]&&_0x28d7b5++;}),_0x3250b0[_0x21918a(0x2a5)](_0x20b99a=>{const _0x491882=_0x21918a,_0x1689fa=_0x20b99a['attempts'][_0x20b99a[_0x491882(0x68c)][_0x491882(0x431)]-0x1],_0x124080=_0x1689fa[_0x491882(0x327)][_0x491882(0x2c3)](_0x36cdb9=>_0x36cdb9[_0x491882(0x29d)]===_0x7ec272);_0x124080&&_0x124080[_0x491882(0x626)]&&_0x119c26++;});const _0xbf480=_0x5ef112>0x0?_0x119c26/_0x5ef112:0x0,_0x421142=_0x44daef>0x0?_0x32be9e/_0x44daef-_0x28d7b5/_0x44daef:0x0;_0x2943ff[_0x21131d]={'p':_0xbf480,'r':_0x421142,'upperGroupResponders':_0x402332,'lowerGroupResponders':_0x52d900};}),{'perQuestionStats':_0x2943ff,'overallGroups':{'upperGroupNames':_0x69a38c,'lowerGroupNames':_0x14b081}};}function drag(_0x18555a){const _0x433961=_0x3fc9b3;if(draggedSvgElement){_0x18555a['preventDefault']();const _0x1ac73e=draggedSvgElement[_0x433961(0x637)],_0x3e7347=getPointerPosition(_0x1ac73e,_0x18555a),_0x2c07a6=_0x1ac73e['viewBox']['baseVal'];let _0x4b28a4=_0x3e7347['x']-svgOffset['x'],_0x40c108=_0x3e7347['y']-svgOffset['y'];const _0xfc38c2=draggedSvgElement[_0x433961(0x806)]();_0x4b28a4=Math[_0x433961(0x50c)](_0x2c07a6['x'],Math[_0x433961(0x162)](_0x4b28a4,_0x2c07a6['x']+_0x2c07a6[_0x433961(0x65e)]-_0xfc38c2[_0x433961(0x65e)])),_0x40c108=Math[_0x433961(0x50c)](_0x2c07a6['y'],Math[_0x433961(0x162)](_0x40c108,_0x2c07a6['y']+_0x2c07a6[_0x433961(0x734)]-_0xfc38c2[_0x433961(0x734)])),draggedSvgElement[_0x433961(0x83d)](null,'x',_0x4b28a4),draggedSvgElement[_0x433961(0x83d)](null,'y',_0x40c108);}}function endDrag(_0x53e136){draggedSvgElement=null;}function handleSvgEditClick(_0x15baaa){const _0x408a97=_0x3fc9b3;if(_0x15baaa['target'][_0x408a97(0x2e4)][_0x408a97(0x367)](_0x408a97(0x4fa))){const _0x3ffd6d=_0x15baaa[_0x408a97(0x6c8)][_0x408a97(0x217)][_0x408a97(0x8a8)],_0x30f489=_0x15baaa[_0x408a97(0x10c)],_0x4bc0e0=_0x30f489['querySelector']('#'+_0x3ffd6d);_0x4bc0e0&&_0x4bc0e0[_0x408a97(0x495)](),_0x15baaa[_0x408a97(0x6c8)]['remove']();}}function handleEditQuestion(_0x1c5b05){const _0x51b980=_0x3fc9b3,_0xc692cf=_0x1c5b05[_0x51b980(0x10c)],_0xd63ab9=_0xc692cf['dataset'][_0x51b980(0x461)],_0x1eed1a=currentQuizData[_0x51b980(0x2eb)][_0xd63ab9],_0x5dbc57=document[_0x51b980(0x1cf)](_0x51b980(0x80a)+_0xd63ab9),_0x3d9257=document[_0x51b980(0x1cf)](_0x51b980(0x61d)+_0xd63ab9),_0x1846c5=document[_0x51b980(0x1cf)](_0x51b980(0x201)+_0xd63ab9);if(_0xc692cf[_0x51b980(0x6da)][_0x51b980(0x1db)](_0x51b980(0x5e3))){_0xc692cf[_0x51b980(0x6da)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0xc692cf[_0x51b980(0x688)]=_0x51b980(0x3f5);if(_0x5dbc57)_0x5dbc57['contentEditable']=!![];if(_0x3d9257)_0x3d9257[_0x51b980(0x528)]=!![];if(_0x1846c5){const _0x4ac514=_0x1846c5[_0x51b980(0x884)](_0x51b980(0x697));if(_0x4ac514){const _0x58b714=_0x4ac514[_0x51b980(0x7ab)]('text');_0x58b714[_0x51b980(0x2a5)]((_0x279f37,_0x47fc55)=>{const _0x27b267=_0x51b980,_0x28ceff=_0x27b267(0x824)+_0xd63ab9+'-'+_0x47fc55;_0x279f37['id']=_0x28ceff,_0x279f37[_0x27b267(0x2e4)]['add']('draggable-text'),_0x279f37[_0x27b267(0x3d4)][_0x27b267(0x502)]=_0x27b267(0x336);const _0x4244f2=document['createElementNS'](_0x27b267(0x6ed),_0x27b267(0x7a6)),_0x195897=_0x279f37[_0x27b267(0x806)]();_0x4244f2[_0x27b267(0x289)]('cx',String(_0x195897['x']+_0x195897['width']+0x5)),_0x4244f2[_0x27b267(0x289)]('cy',String(_0x195897['y']+_0x195897[_0x27b267(0x734)]/0x2-0x5)),_0x4244f2[_0x27b267(0x289)]('r','5'),_0x4244f2[_0x27b267(0x289)](_0x27b267(0x421),_0x27b267(0x66e)),_0x4244f2[_0x27b267(0x289)](_0x27b267(0x6a0),_0x27b267(0x4fa)),_0x4244f2['dataset']['targetId']=_0x28ceff,_0x279f37[_0x27b267(0x1c9)](_0x4244f2);}),_0x4ac514[_0x51b980(0x87d)](_0x51b980(0x21e),startDrag),_0x4ac514[_0x51b980(0x87d)](_0x51b980(0x39d),drag),_0x4ac514[_0x51b980(0x87d)](_0x51b980(0x47f),endDrag),_0x4ac514[_0x51b980(0x87d)](_0x51b980(0x655),endDrag),_0x4ac514[_0x51b980(0x87d)](_0x51b980(0x834),startDrag,{'passive':![]}),_0x4ac514[_0x51b980(0x87d)](_0x51b980(0x269),drag,{'passive':![]}),_0x4ac514[_0x51b980(0x87d)](_0x51b980(0x6ce),endDrag),_0x4ac514['addEventListener'](_0x51b980(0x51a),endDrag),_0x4ac514[_0x51b980(0x87d)](_0x51b980(0x79f),handleSvgEditClick);}}if(_0x5dbc57)_0x5dbc57[_0x51b980(0x39a)]();}else{_0xc692cf[_0x51b980(0x6da)]=_0x51b980(0x47e),_0xc692cf[_0x51b980(0x688)]=_0x51b980(0x23e);if(_0x5dbc57){_0x5dbc57[_0x51b980(0x528)]=![];const _0xa40229=_0x1eed1a[_0x51b980(0x7e0)]||currentQuizData['quizType'];_0xa40229==='matching_item'?_0x1eed1a[_0x51b980(0x2d7)]=_0x5dbc57[_0x51b980(0x2c4)]['substring'](_0x5dbc57['innerText']['indexOf']('.')+0x2)[_0x51b980(0x598)]():_0x1eed1a['questionText']=_0x5dbc57[_0x51b980(0x2c4)][_0x51b980(0x51e)](_0x5dbc57[_0x51b980(0x2c4)]['indexOf']('.')+0x2)[_0x51b980(0x598)]();}_0x3d9257&&(_0x3d9257['contentEditable']=![],_0x1eed1a[_0x51b980(0x10a)]=_0x3d9257[_0x51b980(0x2c4)]);if(_0x1846c5){const _0x2b8b0e=_0x1846c5['querySelector'](_0x51b980(0x697));if(_0x2b8b0e){const _0x1f5a98=_0x2b8b0e['cloneNode'](!![]);_0x1f5a98[_0x51b980(0x7ab)](_0x51b980(0x847))[_0x51b980(0x2a5)](_0x4ea004=>_0x4ea004[_0x51b980(0x495)]()),_0x1f5a98[_0x51b980(0x7ab)]('.draggable-text')[_0x51b980(0x2a5)](_0x41dc43=>{const _0x42e2ed=_0x51b980;_0x41dc43[_0x42e2ed(0x2e4)][_0x42e2ed(0x495)](_0x42e2ed(0x392)),_0x41dc43[_0x42e2ed(0x3d4)][_0x42e2ed(0x502)]=_0x42e2ed(0x2fe),_0x41dc43[_0x42e2ed(0x437)]('id');}),_0x1eed1a[_0x51b980(0x41f)]=_0x1f5a98[_0x51b980(0x1eb)],_0x2b8b0e[_0x51b980(0x760)](_0x51b980(0x21e),startDrag),_0x2b8b0e['removeEventListener'](_0x51b980(0x39d),drag),_0x2b8b0e[_0x51b980(0x760)]('mouseup',endDrag),_0x2b8b0e['removeEventListener'](_0x51b980(0x655),endDrag),_0x2b8b0e[_0x51b980(0x760)](_0x51b980(0x834),startDrag),_0x2b8b0e[_0x51b980(0x760)](_0x51b980(0x269),drag),_0x2b8b0e[_0x51b980(0x760)]('touchend',endDrag),_0x2b8b0e[_0x51b980(0x760)]('touchcancel',endDrag),_0x2b8b0e['removeEventListener']('click',handleSvgEditClick),_0x2b8b0e[_0x51b980(0x7ab)](_0x51b980(0x847))[_0x51b980(0x2a5)](_0x4ea00d=>_0x4ea00d[_0x51b980(0x495)]()),_0x2b8b0e['querySelectorAll']('.draggable-text')['forEach'](_0x17f9a4=>{const _0x13cbf8=_0x51b980;_0x17f9a4['classList'][_0x13cbf8(0x495)](_0x13cbf8(0x392)),_0x17f9a4[_0x13cbf8(0x3d4)][_0x13cbf8(0x502)]=_0x13cbf8(0x2fe);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x287e64){const _0x5b5579=_0x3fc9b3,_0x71cf0d=document['getElementById'](_0x5b5579(0x579)),_0x4f5025=document[_0x5b5579(0x1cf)](_0x5b5579(0x617));_0x4f5025[_0x5b5579(0x6da)]=_0x5b5579(0x4db),_0x71cf0d[_0x5b5579(0x2e4)][_0x5b5579(0x495)](_0x5b5579(0x36f));try{const _0x30c062=doc(db,_0x5b5579(0x14c)+appId+_0x5b5579(0x829),_0x287e64),_0x4392a9=await getDoc(_0x30c062);if(!_0x4392a9[_0x5b5579(0x2a4)]())throw new Error(_0x5b5579(0x5fa));currentEditingQuizData={'id':_0x287e64,..._0x4392a9[_0x5b5579(0x112)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x60568){console['error']('Error\x20opening\x20quiz\x20editor:',_0x60568),showMessage(_0x5b5579(0x716)),_0x71cf0d[_0x5b5579(0x2e4)][_0x5b5579(0x243)](_0x5b5579(0x36f));}}function renderQuizEditor(_0xda456a){const _0x157fa1=_0x3fc9b3;document[_0x157fa1(0x1cf)](_0x157fa1(0x230))[_0x157fa1(0x5f3)]=_0xda456a[_0x157fa1(0x7aa)];const _0x48e75f=document[_0x157fa1(0x1cf)](_0x157fa1(0x617));let _0x2e7329=_0xda456a['questions'][_0x157fa1(0x4cc)]((_0x3f26d7,_0x55f9ea)=>{const _0x2d69a9=_0x157fa1;let _0x373fe4='';const _0x5002b6=_0x3f26d7[_0x2d69a9(0x7e0)]||_0xda456a[_0x2d69a9(0x126)];switch(_0x5002b6){case'multiple_choice':const _0x3f4d2c=(_0x3f26d7[_0x2d69a9(0x77d)]||[])['map']((_0x3ee975,_0x44e879)=>_0x2d69a9(0x2db)+_0x55f9ea+_0x2d69a9(0x537)+_0x44e879+'\x22\x20'+(_0x44e879===_0x3f26d7['correctAnswerIndex']?'checked':'')+_0x2d69a9(0x86d)+_0x3ee975+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2d69a9(0x8b1)]('');_0x373fe4=_0x2d69a9(0x584)+_0x3f4d2c+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'short_answer':_0x373fe4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x3f26d7[_0x2d69a9(0x6b3)]||'')+_0x2d69a9(0x70d);break;case'true_false':_0x373fe4=_0x2d69a9(0x8b5)+_0x55f9ea+_0x2d69a9(0x55b)+(_0x3f26d7[_0x2d69a9(0x6c1)]===!![]?_0x2d69a9(0x8b0):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x55f9ea+_0x2d69a9(0x5b4)+(_0x3f26d7[_0x2d69a9(0x6c1)]===![]?_0x2d69a9(0x8b0):'')+_0x2d69a9(0x19a);break;case _0x2d69a9(0x454):_0x373fe4=_0x2d69a9(0x578)+(_0x3f26d7[_0x2d69a9(0x76a)]||'')+_0x2d69a9(0x602);break;}const _0x304b69=_0x3f26d7[_0x2d69a9(0x5a3)]||_0x3f26d7[_0x2d69a9(0x2d7)]||'';return'\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x55f9ea+_0x2d69a9(0x1b4)+_0x5002b6+_0x2d69a9(0x197)+(_0x55f9ea+0x1)+'\x20('+_0x5002b6+_0x2d69a9(0x2b8)+_0x304b69+_0x2d69a9(0x352)+_0x373fe4+_0x2d69a9(0x683);})[_0x157fa1(0x8b1)]('');_0x48e75f[_0x157fa1(0x6da)]=_0x2e7329;}async function handleSaveChanges(){const _0x1ff9a5=_0x3fc9b3,_0xd5216=document[_0x1ff9a5(0x1cf)]('save-quiz-edits-btn');_0xd5216['disabled']=!![],_0xd5216[_0x1ff9a5(0x6da)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x2bca88=document['getElementById'](_0x1ff9a5(0x230))[_0x1ff9a5(0x5f3)],_0x1ef749=document[_0x1ff9a5(0x7ab)](_0x1ff9a5(0x8ba));let _0x189d86=[];const _0x152feb=Array[_0x1ff9a5(0x40c)](_0x1ef749)[_0x1ff9a5(0x4cc)]((_0x22b1e8,_0x51e0f0)=>{const _0x24b337=_0x1ff9a5,_0x29082a=_0x22b1e8[_0x24b337(0x217)]['qType'],_0x4610f8=_0x22b1e8['querySelector']('textarea')['value'];let _0x6e2c45={'questionType':_0x29082a};const _0xd1eb84=currentEditingQuizData[_0x24b337(0x2eb)][_0x51e0f0];switch(_0x29082a){case _0x24b337(0x207):_0x6e2c45[_0x24b337(0x5a3)]=_0x4610f8;const _0x344646=_0x22b1e8[_0x24b337(0x7ab)](_0x24b337(0x5a5));_0x6e2c45[_0x24b337(0x77d)]=Array[_0x24b337(0x40c)](_0x344646)[_0x24b337(0x4cc)](_0x37a90d=>_0x37a90d[_0x24b337(0x5f3)]);const _0x13edc8=_0x22b1e8[_0x24b337(0x884)](_0x24b337(0x43d));_0x6e2c45[_0x24b337(0x211)]=_0x13edc8?parseInt(_0x13edc8[_0x24b337(0x5f3)]):0x0;break;case _0x24b337(0x5cf):_0x6e2c45[_0x24b337(0x5a3)]=_0x4610f8,_0x6e2c45[_0x24b337(0x6b3)]=_0x22b1e8[_0x24b337(0x884)](_0x24b337(0x33e))['value'];break;case _0x24b337(0x288):_0x6e2c45[_0x24b337(0x5a3)]=_0x4610f8;const _0x463fc0=_0x22b1e8['querySelector'](_0x24b337(0x43d));_0x6e2c45[_0x24b337(0x6c1)]=_0x463fc0?_0x463fc0[_0x24b337(0x5f3)]==='true':!![];break;case _0x24b337(0x454):_0x6e2c45[_0x24b337(0x2d7)]=_0x4610f8;const _0xbecf94=_0x22b1e8[_0x24b337(0x884)]('.correct-response-input');_0x6e2c45['correctResponse']=_0xbecf94?_0xbecf94[_0x24b337(0x5f3)]:'',_0x189d86[_0x24b337(0x1c2)](_0x6e2c45['correctResponse']);break;default:_0x6e2c45['questionText']=_0x4610f8;break;}return{..._0xd1eb84,..._0x6e2c45};});_0x189d86[_0x1ff9a5(0x431)]>0x0&&_0x152feb['forEach'](_0x465394=>{const _0x4724c6=_0x1ff9a5;_0x465394[_0x4724c6(0x7e0)]==='matching_item'&&(_0x465394['allResponses']=_0x189d86);});const _0x21ff8a=currentEditingQuizData['id'],_0x231fe1=doc(db,_0x1ff9a5(0x14c)+appId+_0x1ff9a5(0x829),_0x21ff8a);await updateDoc(_0x231fe1,{'topic':_0x2bca88,'questions':_0x152feb}),document['getElementById'](_0x1ff9a5(0x579))[_0x1ff9a5(0x2e4)][_0x1ff9a5(0x243)](_0x1ff9a5(0x36f)),showMessage(_0x1ff9a5(0x738),()=>initiateReGradeProcess(_0x21ff8a));}catch(_0x30b85d){console[_0x1ff9a5(0x105)](_0x1ff9a5(0x46c),_0x30b85d),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0xd5216[_0x1ff9a5(0x323)]=![],_0xd5216['innerHTML']=_0x1ff9a5(0x474);}}async function initiateReGradeProcess(_0x152b02){const _0xb86ee9=_0x3fc9b3;showMessage(_0xb86ee9(0x251));try{const _0x331027=doc(db,'artifacts/'+appId+_0xb86ee9(0x829),_0x152b02),_0x1f19b8=await getDoc(_0x331027);if(!_0x1f19b8[_0xb86ee9(0x2a4)]())throw new Error(_0xb86ee9(0x1df));const _0x4b5d44={'id':_0x152b02,..._0x1f19b8[_0xb86ee9(0x112)]()},_0x2c6f52=collection(db,'artifacts/'+appId+_0xb86ee9(0x829),_0x152b02,_0xb86ee9(0x3a3)),_0x437a05=await getDocs(_0x2c6f52);if(_0x437a05[_0xb86ee9(0x114)]){showMessage(_0xb86ee9(0x4e4));return;}const _0x66a7de=_0x437a05[_0xb86ee9(0x145)]['map'](_0x6ea2a4=>reGradeSingleSubmission(_0x6ea2a4,_0x4b5d44));await Promise[_0xb86ee9(0x2dd)](_0x66a7de);if(_0x4b5d44[_0xb86ee9(0x499)]){const _0x344897=doc(db,_0xb86ee9(0x14c)+appId+'/public/data/projects',_0x4b5d44[_0xb86ee9(0x499)]),_0x460d8e=await getDoc(_0x344897);if(_0x460d8e[_0xb86ee9(0x2a4)]()&&_0x460d8e['data']()[_0xb86ee9(0x7bd)]){const _0x52d099=_0x460d8e[_0xb86ee9(0x112)]()[_0xb86ee9(0x7bd)][_0xb86ee9(0x4cc)](_0x449a80=>updateStudentProfile(_0x4b5d44[_0xb86ee9(0x499)],_0x449a80));await Promise['all'](_0x52d099);}}showMessage(_0xb86ee9(0x27c)+_0x437a05[_0xb86ee9(0x597)]+_0xb86ee9(0x6e8));}catch(_0x4daf68){console[_0xb86ee9(0x105)]('Re-grade\x20process\x20failed:',_0x4daf68),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x4daf68[_0xb86ee9(0x59c)]);}}async function reGradeSingleSubmission(_0x5dcc67,_0x75e08b){const _0x1edf1f=_0x3fc9b3,_0x89266a=_0x5dcc67[_0x1edf1f(0x112)](),_0x796555=_0x89266a['studentName'],_0x2879ed=_0x89266a['attempts']||[],_0x121f54=[];for(const _0x48b264 of _0x2879ed){let _0x58a9f7=0x0,_0x4afa70=[],_0x30df1f=0x0;const _0x135a74=[];for(const _0x128556 of _0x48b264[_0x1edf1f(0x327)]){let _0x159cb9;_0x128556[_0x1edf1f(0x374)]&&(_0x159cb9=_0x75e08b[_0x1edf1f(0x2eb)]['find'](_0x2d65ca=>_0x2d65ca['id']===_0x128556['questionId']));!_0x159cb9&&_0x128556[_0x1edf1f(0x29d)]&&(_0x159cb9=_0x75e08b[_0x1edf1f(0x2eb)][_0x1edf1f(0x2c3)](_0x3c72b9=>(_0x3c72b9[_0x1edf1f(0x2d7)]||_0x3c72b9[_0x1edf1f(0x5a3)])===_0x128556[_0x1edf1f(0x29d)]));let _0x874b13=![];if(_0x159cb9){const _0x1c43b2=_0x159cb9['questionType']||_0x75e08b[_0x1edf1f(0x126)];switch(_0x1c43b2){case _0x1edf1f(0x207):if(_0x159cb9['options']&&_0x159cb9[_0x1edf1f(0x211)]<_0x159cb9[_0x1edf1f(0x77d)][_0x1edf1f(0x431)]){const _0xe15d2f=_0x159cb9[_0x1edf1f(0x77d)][_0x159cb9[_0x1edf1f(0x211)]];_0x874b13=_0x128556[_0x1edf1f(0x7dc)]===_0xe15d2f;}break;case'true_false':const _0x1b4bf2=_0x128556[_0x1edf1f(0x759)]===!![]||_0x128556[_0x1edf1f(0x759)]==='true';_0x874b13=_0x1b4bf2===_0x159cb9[_0x1edf1f(0x6c1)];break;case'matching_item':_0x874b13=_0x128556[_0x1edf1f(0x759)]===_0x159cb9[_0x1edf1f(0x76a)];break;case _0x1edf1f(0x5cf):_0x874b13=await gradeShortAnswer(_0x128556['answer'],_0x159cb9);break;default:_0x874b13=_0x128556[_0x1edf1f(0x626)];break;}}if(_0x874b13){_0x58a9f7++,_0x30df1f++;if(_0x30df1f===0x3)_0x4afa70[_0x1edf1f(0x1c2)](BADGES[_0x1edf1f(0x61e)]['id']);}else _0x30df1f=0x0;_0x135a74[_0x1edf1f(0x1c2)]({..._0x128556,'isCorrect':_0x874b13});}let _0x4dc3f7=_0x58a9f7*0xa;_0x58a9f7===_0x75e08b['questions'][_0x1edf1f(0x431)]&&(_0x4dc3f7+=0x32,_0x4afa70['push'](BADGES[_0x1edf1f(0x118)]['id'])),_0x121f54[_0x1edf1f(0x1c2)]({..._0x48b264,'score':_0x58a9f7,'points':_0x4dc3f7,'badges':Array[_0x1edf1f(0x40c)](new Set(_0x4afa70)),'answers':_0x135a74});}const _0x13f299=_0x121f54[_0x1edf1f(0x431)]>0x0?_0x121f54[0x0][_0x1edf1f(0x28c)]:0x0,_0x3c5773=Math[_0x1edf1f(0x50c)](..._0x121f54[_0x1edf1f(0x4cc)](_0x57d02c=>_0x57d02c['score'])),_0x2b4745=_0x121f54[_0x1edf1f(0x431)]>0x0?_0x121f54[_0x121f54[_0x1edf1f(0x431)]-0x1][_0x1edf1f(0x28c)]:0x0,_0x755803=_0x121f54[_0x1edf1f(0x431)]>0x0?_0x121f54[_0x121f54['length']-0x1]['points']:0x0,_0x41bdaa=doc(db,_0x1edf1f(0x14c)+appId+'/public/data/quizzes/'+_0x75e08b['id']+_0x1edf1f(0x862),_0x796555);await updateDoc(_0x41bdaa,{'attempts':_0x121f54,'firstScore':_0x13f299,'bestScore':_0x3c5773,'latestScore':_0x2b4745,'points':_0x755803});}function cleanupQuizOptions(_0x3c746d){const _0x197e30=_0x3fc9b3,_0x40bf49=(_0x57c763,_0x1f55b1)=>_0x1f55b1===0x0?_0x57c763:_0x40bf49(_0x1f55b1,_0x57c763%_0x1f55b1),_0x1d3f57=_0x1b89d6=>{const _0x375ae7=_0xcf86;if(typeof _0x1b89d6!==_0x375ae7(0x87e))return null;_0x1b89d6=_0x1b89d6[_0x375ae7(0x598)]();const _0x59d51d=_0x1b89d6[_0x375ae7(0x32a)](/[ /]/)[_0x375ae7(0x18e)](_0x5b2b06=>_0x5b2b06!=='');if(_0x59d51d[_0x375ae7(0x431)]===0x3)return parseInt(_0x59d51d[0x0])+parseInt(_0x59d51d[0x1])/parseInt(_0x59d51d[0x2]);else{if(_0x59d51d[_0x375ae7(0x431)]===0x2)return parseInt(_0x59d51d[0x0])/parseInt(_0x59d51d[0x1]);else{if(_0x59d51d[_0x375ae7(0x431)]===0x1&&!isNaN(_0x59d51d[0x0]))return parseFloat(_0x59d51d[0x0]);}}return null;},_0x53b719=_0x4f17a2=>{const _0x2b5a15=_0xcf86;if(typeof _0x4f17a2!==_0x2b5a15(0x87e))return _0x4f17a2;const _0x184f2d=_0x4f17a2['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x184f2d){const _0x2d4d29=parseInt(_0x184f2d[0x1]);let _0x5358e8=parseInt(_0x184f2d[0x2]),_0x5d2e6d=parseInt(_0x184f2d[0x3]);const _0x1e13df=_0x40bf49(_0x5358e8,_0x5d2e6d);_0x5358e8/=_0x1e13df,_0x5d2e6d/=_0x1e13df;if(_0x5d2e6d===0x1)return(_0x2d4d29+_0x5358e8)[_0x2b5a15(0x27e)]();return _0x2d4d29+'\x20'+_0x5358e8+'/'+_0x5d2e6d;}return _0x4f17a2;};return _0x3c746d&&_0x3c746d[_0x197e30(0x2eb)]&&_0x3c746d[_0x197e30(0x2eb)]['forEach'](_0x454e3d=>{const _0x5541dd=_0x197e30;if(_0x454e3d['questionType']===_0x5541dd(0x207)&&_0x454e3d[_0x5541dd(0x77d)]){const _0x601707=new Map(),_0x12f236=_0x454e3d[_0x5541dd(0x77d)][_0x454e3d['correctAnswerIndex']];_0x454e3d[_0x5541dd(0x77d)][_0x5541dd(0x2a5)](_0x28ff15=>{const _0x2fdb91=_0x5541dd,_0x5af63a=_0x53b719(_0x28ff15),_0x31d332=_0x1d3f57(_0x5af63a);_0x31d332!==null&&!_0x601707[_0x2fdb91(0x24e)](_0x31d332)&&_0x601707[_0x2fdb91(0x33d)](_0x31d332,_0x5af63a);}),_0x454e3d[_0x5541dd(0x77d)]=Array[_0x5541dd(0x40c)](_0x601707[_0x5541dd(0x408)]());const _0x10854f=_0x454e3d[_0x5541dd(0x77d)][_0x5541dd(0x628)](_0x51a6f3=>_0x51a6f3===_0x53b719(_0x12f236));_0x454e3d[_0x5541dd(0x211)]=_0x10854f!==-0x1?_0x10854f:0x0;}}),_0x3c746d;}async function saveQuiz(){const _0x4cc34a=_0x3fc9b3;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x2b37c0=document['getElementById'](_0x4cc34a(0x482));_0x2b37c0[_0x4cc34a(0x323)]=!![],_0x2b37c0[_0x4cc34a(0x6da)]=_0x4cc34a(0x134);const _0x57a07e=document[_0x4cc34a(0x1cf)](_0x4cc34a(0x397))[_0x4cc34a(0x8b0)];let _0x57725a=document[_0x4cc34a(0x1cf)]('editable-quiz-topic')[_0x4cc34a(0x2c4)][_0x4cc34a(0x598)]();_0x57a07e&&!_0x57725a[_0x4cc34a(0x733)](_0x4cc34a(0x4ca))&&(_0x57725a=_0x4cc34a(0x680)+_0x57725a);try{const _0x587200={'resultsDisplay':document[_0x4cc34a(0x1cf)](_0x4cc34a(0x6b8))[_0x4cc34a(0x5f3)],'shuffle':document[_0x4cc34a(0x1cf)]('shuffle-setting-select')[_0x4cc34a(0x5f3)],'timerMode':document[_0x4cc34a(0x1cf)](_0x4cc34a(0x73b))[_0x4cc34a(0x5f3)],'timerDuration':parseInt(document[_0x4cc34a(0x1cf)](_0x4cc34a(0x3a1))[_0x4cc34a(0x5f3)])||0xa,'passingScore':parseInt(document['getElementById'](_0x4cc34a(0x340))[_0x4cc34a(0x5f3)])||0x0,'isAdaptive':document[_0x4cc34a(0x1cf)]('adaptive-quiz-checkbox')[_0x4cc34a(0x8b0)],'loopUntilPass':document[_0x4cc34a(0x1cf)](_0x4cc34a(0x2cf))[_0x4cc34a(0x8b0)]},_0x126790=(currentQuizData[_0x4cc34a(0x2eb)]||[])[_0x4cc34a(0x4cc)]((_0x2d3ac6,_0x121523)=>{const _0x411a99=_0x4cc34a,_0x26ee12=document[_0x411a99(0x1cf)](_0x411a99(0x7d3))[_0x411a99(0x5f3)],_0x8f8fa7={'id':'q_'+Date['now']()+'_'+_0x121523,'questionText':_0x2d3ac6[_0x411a99(0x5a3)]||'','explanation':_0x2d3ac6[_0x411a99(0x10a)]||'ไม่มีคำอธิบาย','questionType':_0x2d3ac6[_0x411a99(0x7e0)]||_0x26ee12,'imageCode':_0x2d3ac6[_0x411a99(0x41f)]||null};return(_0x8f8fa7[_0x411a99(0x7e0)]===_0x411a99(0x207)||_0x8f8fa7[_0x411a99(0x7e0)]==='fill_in_with_choices'||_0x8f8fa7[_0x411a99(0x7e0)]===_0x411a99(0x863)&&_0x2d3ac6[_0x411a99(0x77d)])&&(_0x8f8fa7[_0x411a99(0x77d)]=_0x2d3ac6[_0x411a99(0x77d)]||[],_0x8f8fa7[_0x411a99(0x211)]=_0x2d3ac6['correctAnswerIndex']!==undefined?_0x2d3ac6[_0x411a99(0x211)]:0x0),(_0x8f8fa7['questionType']==='short_answer'||_0x8f8fa7[_0x411a99(0x7e0)]==='fill_in_no_choices'||_0x8f8fa7[_0x411a99(0x7e0)]==='mixed'&&_0x2d3ac6[_0x411a99(0x6b3)])&&(_0x8f8fa7[_0x411a99(0x6b3)]=_0x2d3ac6[_0x411a99(0x6b3)]||''),_0x8f8fa7[_0x411a99(0x7e0)]===_0x411a99(0x288)&&(_0x8f8fa7['correctAnswer']=_0x2d3ac6['correctAnswer']===!![]),_0x8f8fa7['questionType']===_0x411a99(0x454)&&(_0x8f8fa7[_0x411a99(0x2d7)]=_0x2d3ac6[_0x411a99(0x2d7)]||'',_0x8f8fa7[_0x411a99(0x76a)]=_0x2d3ac6['correctResponse']||'',_0x8f8fa7['allResponses']=_0x2d3ac6['allResponses']||[]),_0x8f8fa7;}),_0x4fca25={'topic':_0x57725a,'quizType':currentQuizData[_0x4cc34a(0x126)]||'multiple_choice','questions':_0x126790,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x4cc34a(0x751)](),'status':_0x4cc34a(0x299),'settings':_0x587200,'quizMode':_0x57a07e?_0x4cc34a(0x8bf):_0x4cc34a(0x8d5),'pairedQuizId':null,'lessonPlan':null};let _0x4afc71;while(!![]){_0x4afc71=Math[_0x4cc34a(0x802)](0x3e8+Math[_0x4cc34a(0x7bf)]()*0x2328)[_0x4cc34a(0x27e)]();const _0x576538=await getDoc(doc(db,_0x4cc34a(0x14c)+appId+_0x4cc34a(0x829),_0x4afc71));if(!_0x576538[_0x4cc34a(0x2a4)]())break;}await setDoc(doc(db,_0x4cc34a(0x14c)+appId+_0x4cc34a(0x829),_0x4afc71),_0x4fca25),currentQuizData[_0x4cc34a(0x6b7)]=_0x587200,currentQuizData['id']=_0x4afc71;const _0x4f4bf0=document['getElementById'](_0x4cc34a(0x4ac));_0x4f4bf0[_0x4cc34a(0x6da)]=_0x4cc34a(0x518)+_0x4afc71+_0x4cc34a(0x805),document[_0x4cc34a(0x1cf)](_0x4cc34a(0x864))[_0x4cc34a(0x87d)]('click',()=>copyTextToClipboard(_0x4afc71,'คัดลอกรหัสแล้ว!')),document['getElementById'](_0x4cc34a(0x618))[_0x4cc34a(0x87d)](_0x4cc34a(0x79f),()=>handleStartLiveRace(_0x4afc71)),document[_0x4cc34a(0x1cf)](_0x4cc34a(0x645))[_0x4cc34a(0x87d)]('click',()=>startPresentation(currentQuizData)),document[_0x4cc34a(0x1cf)](_0x4cc34a(0x2bf))[_0x4cc34a(0x87d)](_0x4cc34a(0x79f),startAdminTest),showMessage(_0x4cc34a(0x27a));}catch(_0x53a26a){console[_0x4cc34a(0x105)](_0x4cc34a(0x7fa),_0x53a26a),showMessage(_0x4cc34a(0x859)),_0x2b37c0[_0x4cc34a(0x323)]=![],_0x2b37c0[_0x4cc34a(0x6da)]=_0x4cc34a(0x4a2);}}function promptForProjectAndSave(){const _0x39aa40=_0x3fc9b3,_0xdb6497=document[_0x39aa40(0x1cf)](_0x39aa40(0x1bb)),_0x17d4aa=document['getElementById']('move-quiz-project-select'),_0x5bb472=_0xdb6497[_0x39aa40(0x884)]('h3'),_0xde4c97=document[_0x39aa40(0x1cf)]('confirm-move-quiz-btn');_0x5bb472[_0x39aa40(0x52e)]='เลือกโปรเจคเพื่อบันทึก',_0xde4c97['textContent']=_0x39aa40(0x5b1);allProjects[_0x39aa40(0x431)]===0x0?(_0x17d4aa[_0x39aa40(0x6da)]=_0x39aa40(0x8a7),_0xde4c97['disabled']=!![]):(_0x17d4aa[_0x39aa40(0x6da)]=allProjects[_0x39aa40(0x4cc)](_0x2a0ac9=>'<option\x20value=\x22'+_0x2a0ac9['id']+'\x22>'+_0x2a0ac9[_0x39aa40(0x55a)]+_0x39aa40(0x140))['join'](''),_0xde4c97['disabled']=![]);_0xdb6497['classList'][_0x39aa40(0x495)](_0x39aa40(0x36f));const _0x68be55=()=>{const _0x2f5ad2=_0x39aa40,_0x5630f3=_0x17d4aa[_0x2f5ad2(0x5f3)];_0x5630f3?(currentProjectId=_0x5630f3,_0xdb6497[_0x2f5ad2(0x2e4)]['add'](_0x2f5ad2(0x36f)),saveQuiz(),_0x5bb472[_0x2f5ad2(0x52e)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0xde4c97['textContent']=_0x2f5ad2(0x742),_0xde4c97[_0x2f5ad2(0x760)](_0x2f5ad2(0x79f),_0x68be55),_0xde4c97[_0x2f5ad2(0x87d)]('click',confirmMoveQuiz)):showMessage(_0x2f5ad2(0x236));};_0xde4c97[_0x39aa40(0x760)](_0x39aa40(0x79f),confirmMoveQuiz),_0xde4c97[_0x39aa40(0x87d)](_0x39aa40(0x79f),_0x68be55);}function copyTextToClipboard(_0x2317bc,_0x13e8ef){const _0x1d707a=_0x3fc9b3,_0x31d134=document[_0x1d707a(0x5cd)](_0x1d707a(0x35a));_0x31d134['value']=_0x2317bc,_0x31d134[_0x1d707a(0x3d4)][_0x1d707a(0x57f)]=_0x1d707a(0x853),_0x31d134[_0x1d707a(0x3d4)][_0x1d707a(0x122)]='0',document[_0x1d707a(0x1c3)][_0x1d707a(0x238)](_0x31d134),_0x31d134[_0x1d707a(0x39a)](),_0x31d134[_0x1d707a(0x3e6)]();try{const _0x3cf534=document[_0x1d707a(0x676)](_0x1d707a(0x88c));showMessage(_0x3cf534?_0x13e8ef:_0x1d707a(0x4a3));}catch(_0x370f4a){showMessage(_0x1d707a(0x4a3)),console['error'](_0x1d707a(0x22b),_0x370f4a);}document['body'][_0x1d707a(0x342)](_0x31d134);}function listenForProjectQuizzes(_0x3f6ce4){const _0x1b3702=_0x3fc9b3,_0x1eaf4a=collection(db,'artifacts/'+appId+_0x1b3702(0x829)),_0x5de59c=query(_0x1eaf4a,where(_0x1b3702(0x499),'==',_0x3f6ce4));unsubscribeQuizzesListener=onSnapshot(_0x5de59c,async _0x33c9cf=>{const _0x4b66f7=_0x1b3702;allQuizzes=_0x33c9cf[_0x4b66f7(0x145)][_0x4b66f7(0x4cc)](_0x3d40ea=>({'id':_0x3d40ea['id'],..._0x3d40ea[_0x4b66f7(0x112)]()})),renderQuizzes();},_0x1f123b=>{const _0x57f759=_0x1b3702;console[_0x57f759(0x105)](_0x57f759(0x26f),_0x1f123b),document[_0x57f759(0x1cf)]('project-quizzes-list')[_0x57f759(0x6da)]=_0x57f759(0x565);});}async function renderQuizzes(){const _0x15941c=_0x3fc9b3,_0x59e21e=document['getElementById'](_0x15941c(0x5e5)),_0x556f86=document[_0x15941c(0x1cf)]('quiz-search-input')[_0x15941c(0x5f3)][_0x15941c(0x56f)]();let _0x235ee2;currentProjectId==='starred'?_0x235ee2=starredQuizzes:_0x235ee2=allQuizzes;let _0x5eec2d=_0x235ee2[_0x15941c(0x18e)](_0x4cac80=>_0x4cac80['topic']['toLowerCase']()[_0x15941c(0x1db)](_0x556f86));_0x5eec2d[_0x15941c(0x8d1)]((_0x26ca70,_0x1ab757)=>new Date(_0x1ab757[_0x15941c(0x2a6)])-new Date(_0x26ca70[_0x15941c(0x2a6)]));if(_0x5eec2d[_0x15941c(0x431)]===0x0){_0x59e21e['innerHTML']=_0x15941c(0x8d8);return;}const _0xdc315d={},_0x4bf50f=_0x5eec2d[_0x15941c(0x4cc)](async _0x5955a4=>{const _0x1118bb=_0x15941c,_0x1d0666=collection(db,_0x1118bb(0x14c)+appId+_0x1118bb(0x576)+_0x5955a4['id']+_0x1118bb(0x862)),_0xbbf388=await getDocs(_0x1d0666);_0xdc315d[_0x5955a4['id']]=_0xbbf388[_0x1118bb(0x597)];});await Promise[_0x15941c(0x2dd)](_0x4bf50f);let _0x480aa4='';_0x5eec2d[_0x15941c(0x2a5)](_0xf7226f=>{const _0x54b8f2=_0x15941c,_0x33d2dc=_0xdc315d[_0xf7226f['id']]||0x0,_0x5752d8=_0xf7226f[_0x54b8f2(0x70c)]||_0x54b8f2(0x299),_0x32500=_0xf7226f[_0x54b8f2(0x6b7)]?.['timerMode']||_0x54b8f2(0x3ba);let _0x862add='',_0x5d1f21='';const _0x53e776=new Date();let _0x3c3630=_0x5752d8;if(_0x5752d8===_0x54b8f2(0x12c)){const _0xca0a1=_0xf7226f[_0x54b8f2(0x646)]?new Date(_0xf7226f['startTime']):null,_0x144e6d=_0xf7226f[_0x54b8f2(0x60b)]?new Date(_0xf7226f[_0x54b8f2(0x60b)]):null;if(_0x144e6d&&_0x53e776>_0x144e6d)_0x3c3630=_0x54b8f2(0x852);else _0xca0a1&&_0x53e776<_0xca0a1?_0x3c3630='scheduled_pending':_0x3c3630=_0x54b8f2(0x299);}switch(_0x3c3630){case _0x54b8f2(0x852):_0x862add=_0x54b8f2(0x1da),_0x5d1f21=_0x54b8f2(0x184);break;case _0x54b8f2(0x8a4):_0x862add=_0x54b8f2(0x7b2),_0x5d1f21='text-blue-700\x20bg-blue-100';break;case _0x54b8f2(0x299):_0x862add=_0x32500!==_0x54b8f2(0x3ba)?_0x54b8f2(0x1d3):_0x54b8f2(0x882),_0x5d1f21=_0x54b8f2(0x274);break;default:_0x862add=_0x54b8f2(0x488),_0x5d1f21=_0x54b8f2(0x274);break;}let _0x205631='';const _0x776151={'day':'2-digit','month':_0x54b8f2(0x3da),'year':_0x54b8f2(0x7c3),'hour':_0x54b8f2(0x3da),'minute':'2-digit','hour12':![]};if(_0x5752d8===_0x54b8f2(0x12c)){if(_0xf7226f[_0x54b8f2(0x646)])_0x205631+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0xf7226f[_0x54b8f2(0x646)])[_0x54b8f2(0x540)](_0x54b8f2(0x569),_0x776151)+'</p>';if(_0xf7226f[_0x54b8f2(0x60b)])_0x205631+=_0x54b8f2(0x699)+new Date(_0xf7226f[_0x54b8f2(0x60b)])[_0x54b8f2(0x540)](_0x54b8f2(0x569),_0x776151)+'</p>';}let _0xf6b765='';if(_0xf7226f[_0x54b8f2(0x35b)]){const _0x222091=allQuizzes['find'](_0x1329ab=>_0x1329ab['id']===_0xf7226f['pairedQuizId']);if(_0x222091){let _0x4a80c6,_0x4ca1b2;new Date(_0xf7226f[_0x54b8f2(0x2a6)])<new Date(_0x222091[_0x54b8f2(0x2a6)])?(_0x4a80c6=_0xf7226f['id'],_0x4ca1b2=_0x222091['id']):(_0x4a80c6=_0x222091['id'],_0x4ca1b2=_0xf7226f['id']),_0xf6b765+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4ca1b2+'\x22\x20data-pre-test-id=\x22'+_0x4a80c6+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0xf7226f[_0x54b8f2(0x64c)]==='pre-test'&&(_0xf6b765+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xf7226f['id']+_0x54b8f2(0x713));if(_0xf7226f[_0x54b8f2(0x64c)]===_0x54b8f2(0x8bf)&&_0x33d2dc>0x0)_0xf6b765+=_0x54b8f2(0x76d)+_0xf7226f['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0xf7226f['pairedQuizId']&&_0xf7226f['quizMode']!=='pre-test'&&_0x33d2dc>0x0&&(_0xf6b765+=_0x54b8f2(0x76d)+_0xf7226f['id']+_0x54b8f2(0x4af));let _0x5779ff='';_0xf7226f[_0x54b8f2(0x35b)]?_0x5779ff=_0x54b8f2(0x71b)+_0xf7226f['id']+_0x54b8f2(0x37c):_0x5779ff=_0x54b8f2(0x71b)+_0xf7226f['id']+_0x54b8f2(0x736),_0x480aa4+=_0x54b8f2(0x136)+_0xf7226f['id']+_0x54b8f2(0x3d5)+_0xf7226f[_0x54b8f2(0x7aa)]+_0x54b8f2(0x350)+_0xf7226f['questions'][_0x54b8f2(0x431)]+_0x54b8f2(0x6f6)+new Date(_0xf7226f['createdAt'])[_0x54b8f2(0x540)](_0x54b8f2(0x569))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x33d2dc+_0x54b8f2(0x764)+_0x205631+_0x54b8f2(0x102)+_0x5d1f21+'\x22>'+_0x862add+_0x54b8f2(0x15f)+_0xf7226f['id']+_0x54b8f2(0x57b)+_0xf7226f['id']+_0x54b8f2(0x517)+(_0xf7226f[_0x54b8f2(0x4ea)]?_0x54b8f2(0x3bf):_0x54b8f2(0x53f))+_0x54b8f2(0x36b)+_0xf6b765+_0x54b8f2(0x603)+_0xf7226f['id']+_0x54b8f2(0x55f)+_0xf7226f['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xf7226f['id']+_0x54b8f2(0x8a2)+_0xf7226f['id']+_0x54b8f2(0x4cd)+_0xf7226f['id']+_0x54b8f2(0x395)+_0xf7226f['id']+_0x54b8f2(0x267)+_0xf7226f['id']+_0x54b8f2(0x70e)+_0xf7226f[_0x54b8f2(0x7aa)]+_0x54b8f2(0x2f6)+_0xf7226f['id']+_0x54b8f2(0x717)+_0xf7226f['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5779ff+_0x54b8f2(0x20e)+_0xf7226f['id']+_0x54b8f2(0x701)+_0xf7226f['id']+_0x54b8f2(0x5d0)+_0xf7226f['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xf7226f['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xf7226f['id']+_0x54b8f2(0x70e)+_0xf7226f[_0x54b8f2(0x7aa)]+_0x54b8f2(0x58b);}),_0x59e21e[_0x15941c(0x6da)]=_0x480aa4,document[_0x15941c(0x7ab)]('.quiz-result-card')[_0x15941c(0x2a5)](_0x18cce8=>{const _0x5c912e=_0x15941c;_0x18cce8[_0x5c912e(0x87d)](_0x5c912e(0x79f),()=>{const _0x3ce049=_0x5c912e,_0x3de2f4=_0x18cce8[_0x3ce049(0x217)][_0x3ce049(0x501)];showQuizDetailView(_0x3de2f4);});});}async function handleUnpairQuiz(_0xfdfbb){const _0x32fccc=_0x3fc9b3,_0x4a5d00=allQuizzes[_0x32fccc(0x2c3)](_0x44182d=>_0x44182d['id']===_0xfdfbb);if(!_0x4a5d00||!_0x4a5d00[_0x32fccc(0x35b)]){showMessage(_0x32fccc(0x30b));return;}showConfirmation(_0x32fccc(0x5ed),async()=>{const _0x21dfa8=_0x32fccc;try{const _0x25af4f=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0xfdfbb),_0x4344f5=doc(db,_0x21dfa8(0x14c)+appId+_0x21dfa8(0x829),_0x4a5d00[_0x21dfa8(0x35b)]),_0xaa5de4=writeBatch(db);_0xaa5de4['update'](_0x25af4f,{'pairedQuizId':null}),_0xaa5de4[_0x21dfa8(0x66b)](_0x4344f5,{'pairedQuizId':null}),await _0xaa5de4[_0x21dfa8(0x3a6)](),showMessage(_0x21dfa8(0x765));}catch(_0x3db84b){console[_0x21dfa8(0x105)]('Error\x20unpairing\x20quizzes:',_0x3db84b),showMessage(_0x21dfa8(0x657));}});}function formatAndPrintLessonPlan(_0x154e29,_0x376f37){const _0x13fb5b=_0x3fc9b3,_0x56d941=window[_0x13fb5b(0x3e1)]('',_0x13fb5b(0x144)),_0xba62f7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x376f37[_0x13fb5b(0x7aa)]+_0x13fb5b(0x381)+_0x376f37['topic']+_0x13fb5b(0x718)+_0x154e29[_0x13fb5b(0x1a4)][_0x13fb5b(0x4cc)](_0x10fc04=>'<li>'+_0x10fc04+_0x13fb5b(0x1e2))[_0x13fb5b(0x8b1)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x154e29[_0x13fb5b(0x446)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x154e29['practiceProblems'][_0x13fb5b(0x4cc)](_0x145d06=>_0x13fb5b(0x6b5)+_0x145d06['question']+_0x13fb5b(0x856)+_0x145d06[_0x13fb5b(0x3c6)]+_0x13fb5b(0x3d7))[_0x13fb5b(0x8b1)]('')+_0x13fb5b(0x7e7);_0x56d941['document']['write'](_0xba62f7),_0x56d941[_0x13fb5b(0x6a9)][_0x13fb5b(0x787)](),_0x56d941['onload']=function(){setTimeout(()=>{_0x56d941['print']();},0x3e8);};}async function handleGenerateLessonPlan(_0x25f6f0){const _0xb9a68e=_0x3fc9b3;showMessage(_0xb9a68e(0x6fb));try{const _0x1f19dd=doc(db,_0xb9a68e(0x14c)+appId+_0xb9a68e(0x829),_0x25f6f0),_0x918aa0=await getDoc(_0x1f19dd);if(!_0x918aa0[_0xb9a68e(0x2a4)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x357bf8={'id':_0x25f6f0,..._0x918aa0['data']()},_0x2690db=collection(db,_0xb9a68e(0x14c)+appId+_0xb9a68e(0x829),_0x25f6f0,_0xb9a68e(0x3a3)),_0x53ded4=await getDocs(_0x2690db),_0x4fe37f=_0x53ded4[_0xb9a68e(0x145)][_0xb9a68e(0x4cc)](_0x3c9276=>_0x3c9276[_0xb9a68e(0x112)]());if(_0x4fe37f['length']===0x0)throw new Error(_0xb9a68e(0x7e4));const _0x4a1372=calculateItemAnalysis(_0x357bf8,_0x4fe37f)[_0xb9a68e(0x761)],_0x45b1c6=calculateDistractorAnalysis(_0x357bf8,_0x4fe37f),_0x44ef55=_0x1c2070=>{const _0x3f4e0a=_0xb9a68e;if(!_0x1c2070)return'';return _0x1c2070['replace'](/\\/g,'\x5c\x5c')[_0x3f4e0a(0x278)](/"/g,'\x5c\x22')[_0x3f4e0a(0x278)](/\n/g,'\x5cn');};let _0x36cea5=_0xb9a68e(0x303);_0x357bf8[_0xb9a68e(0x2eb)][_0xb9a68e(0x2a5)]((_0x1be5cc,_0x46047b)=>{const _0x2bb9f8=_0xb9a68e,_0x4c89c7=_0x4a1372[_0x46047b]?.['p']['toFixed'](0x2)||_0x2bb9f8(0x242),_0x16b230=_0x4a1372[_0x46047b]?.['r']['toFixed'](0x2)||_0x2bb9f8(0x242),_0x4dd7dd=_0x44ef55(_0x1be5cc[_0x2bb9f8(0x5a3)]||_0x1be5cc[_0x2bb9f8(0x2d7)]);_0x36cea5+=_0x2bb9f8(0x6f5)+(_0x46047b+0x1)+_0x2bb9f8(0x3cf)+_0x4c89c7+',\x20r='+_0x16b230+'):\x20'+_0x4dd7dd+'\x5cn';if(_0x1be5cc[_0x2bb9f8(0x7e0)]===_0x2bb9f8(0x207)&&_0x45b1c6[_0x46047b]){const _0x30c739=_0x45b1c6[_0x46047b],_0xa7051d=Object[_0x2bb9f8(0x80e)](_0x30c739)[_0x2bb9f8(0x18e)](_0x48b90d=>parseInt(_0x48b90d)!==_0x1be5cc[_0x2bb9f8(0x211)])['sort']((_0x56d1b6,_0x134ff5)=>_0x30c739[_0x134ff5][_0x2bb9f8(0x447)]-_0x30c739[_0x56d1b6][_0x2bb9f8(0x447)])[0x0];if(_0xa7051d&&_0x30c739[_0xa7051d][_0x2bb9f8(0x447)]>0x0){const _0x5b637b=_0x44ef55(_0x30c739[_0xa7051d]['text']);_0x36cea5+=_0x2bb9f8(0x339)+_0x5b637b+_0x2bb9f8(0x430);}}});const _0x2d3f74=_0xb9a68e(0x5e1)+_0x357bf8[_0xb9a68e(0x7aa)]+_0xb9a68e(0x1e8)+_0x36cea5+_0xb9a68e(0x890),_0x33ff99={'type':_0xb9a68e(0x1af),'properties':{'learningGaps':{'type':_0xb9a68e(0x393),'items':{'type':_0xb9a68e(0x520)}},'teachingContent':{'type':_0xb9a68e(0x520)},'practiceProblems':{'type':_0xb9a68e(0x393),'items':{'type':'OBJECT','properties':{'question':{'type':_0xb9a68e(0x520)},'solution':{'type':_0xb9a68e(0x520)}}}}},'required':[_0xb9a68e(0x1a4),_0xb9a68e(0x446),_0xb9a68e(0x6c5)]},_0x309d50=await callAnalysisApi(_0x2d3f74,_0x33ff99);await updateDoc(_0x1f19dd,{'lessonPlan':_0x309d50});const _0x12363c=_0xb9a68e(0x803)+_0x357bf8['topic']+_0xb9a68e(0x4bf)+_0x309d50[_0xb9a68e(0x1a4)][_0xb9a68e(0x4cc)](_0x3fd6fc=>_0xb9a68e(0x33a)+_0x3fd6fc+_0xb9a68e(0x1e2))[_0xb9a68e(0x8b1)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x309d50[_0xb9a68e(0x446)]+_0xb9a68e(0x190)+_0x309d50[_0xb9a68e(0x6c5)][_0xb9a68e(0x4cc)](_0x5e2492=>_0xb9a68e(0x612)+_0x5e2492[_0xb9a68e(0x728)]+_0xb9a68e(0x7d6)+_0x5e2492['solution']+_0xb9a68e(0x790))[_0xb9a68e(0x8b1)]('')+_0xb9a68e(0x3ca);document[_0xb9a68e(0x1cf)]('lesson-plan-title')[_0xb9a68e(0x52e)]=_0xb9a68e(0x5a4)+_0x357bf8['topic'],document[_0xb9a68e(0x1cf)](_0xb9a68e(0x511))[_0xb9a68e(0x6da)]=_0x12363c,document['getElementById'](_0xb9a68e(0x516))[_0xb9a68e(0x2e4)][_0xb9a68e(0x495)]('hidden');if(window['MathJax'])MathJax[_0xb9a68e(0x5bf)]();messageModal[_0xb9a68e(0x2e4)][_0xb9a68e(0x243)](_0xb9a68e(0x36f));}catch(_0x2aca00){console[_0xb9a68e(0x105)]('Error\x20generating\x20lesson\x20plan:',_0x2aca00),showMessage(_0xb9a68e(0x831)+_0x2aca00[_0xb9a68e(0x59c)]);}}async function handleDuplicateQuiz(_0x5ace86){const _0x4e3e74=_0x3fc9b3;try{const _0x2b6d5c=doc(db,_0x4e3e74(0x14c)+appId+_0x4e3e74(0x829),_0x5ace86),_0x47cc8b=await getDoc(_0x2b6d5c);if(_0x47cc8b[_0x4e3e74(0x2a4)]()){const _0x52e07c=_0x47cc8b['data']();let _0x354189='',_0x539fed=_0x4e3e74(0x8d5),_0x711d98=null;if(_0x52e07c[_0x4e3e74(0x64c)]===_0x4e3e74(0x8bf)){let _0x40733a=_0x52e07c[_0x4e3e74(0x7aa)]['replace'](_0x4e3e74(0x4ca),'')[_0x4e3e74(0x598)]();_0x354189=_0x4e3e74(0x6ff)+_0x40733a,_0x539fed=_0x4e3e74(0x43e),_0x711d98=_0x5ace86;}else _0x354189=_0x4e3e74(0x384)+_0x52e07c[_0x4e3e74(0x7aa)];const _0x49b7f3={..._0x52e07c,'topic':_0x354189,'createdAt':new Date()['toISOString'](),'quizMode':_0x539fed,'pairedQuizId':_0x711d98};let _0x432c6f;while(!![]){_0x432c6f=Math[_0x4e3e74(0x802)](0x3e8+Math[_0x4e3e74(0x7bf)]()*0x2328)['toString']();const _0x1861e6=await getDoc(doc(db,_0x4e3e74(0x14c)+appId+_0x4e3e74(0x829),_0x432c6f));if(!_0x1861e6[_0x4e3e74(0x2a4)]())break;}const _0x44c7ba=doc(db,'artifacts/'+appId+_0x4e3e74(0x829),_0x432c6f);await setDoc(_0x44c7ba,_0x49b7f3),_0x49b7f3[_0x4e3e74(0x64c)]===_0x4e3e74(0x43e)&&await updateDoc(_0x2b6d5c,{'pairedQuizId':_0x432c6f}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x4e3e74(0x5ab));}catch(_0x448cff){console[_0x4e3e74(0x105)](_0x4e3e74(0x328),_0x448cff),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x490df2,_0x2fc7da=!![]){const _0x25db89=_0x3fc9b3;try{const _0x520834=writeBatch(db),_0x2e5751=collection(db,_0x25db89(0x14c)+appId+_0x25db89(0x576)+_0x490df2+'/submissions'),_0x105a2a=await getDocs(_0x2e5751);_0x105a2a[_0x25db89(0x2a5)](_0x3a9bb0=>{const _0x594c3b=_0x25db89;_0x520834[_0x594c3b(0x71c)](doc(_0x2e5751,_0x3a9bb0['id']));});const _0x307b19=doc(db,_0x25db89(0x14c)+appId+'/public/data/quizzes',_0x490df2);_0x520834['delete'](_0x307b19),await _0x520834['commit'](),_0x2fc7da&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x528fac){console['error']('Error\x20deleting\x20quiz:',_0x528fac),_0x2fc7da&&showMessage(_0x25db89(0x6e7));}}async function showQuizDetailView(_0x10471e){const _0x4b4e81=_0x3fc9b3;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x4b4e81(0x1b0));try{const _0x14d3ee=doc(db,'artifacts/'+appId+_0x4b4e81(0x829),_0x10471e),_0x1db239=await getDoc(_0x14d3ee);if(!_0x1db239[_0x4b4e81(0x2a4)]()){showMessage(_0x4b4e81(0x1df));return;}const _0x32f4f5={'id':_0x1db239['id'],..._0x1db239['data']()};currentQuizData=_0x32f4f5;const _0x4e86af=doc(db,'artifacts/'+appId+'/public/data/projects',_0x32f4f5[_0x4b4e81(0x499)]),_0x35b254=await getDoc(_0x4e86af);_0x35b254[_0x4b4e81(0x2a4)]()?(currentProjectData=_0x35b254[_0x4b4e81(0x112)](),currentProjectId=_0x32f4f5[_0x4b4e81(0x499)]):(currentProjectData={'students':[]},currentProjectId=_0x32f4f5[_0x4b4e81(0x499)]);document[_0x4b4e81(0x1cf)]('results-quiz-title')[_0x4b4e81(0x52e)]=_0x32f4f5[_0x4b4e81(0x7aa)],document[_0x4b4e81(0x1cf)](_0x4b4e81(0x848))[_0x4b4e81(0x52e)]=_0x10471e;const _0x12a5fd=collection(db,_0x4b4e81(0x14c)+appId+_0x4b4e81(0x829),_0x10471e,_0x4b4e81(0x3a3));unsubscribeSubmissionsListener=onSnapshot(_0x12a5fd,_0x401ea9=>{const _0x1fecfb=_0x4b4e81,_0x1e76c0=_0x401ea9[_0x1fecfb(0x145)][_0x1fecfb(0x4cc)](_0x5b8791=>({'id':_0x5b8791['id'],..._0x5b8791[_0x1fecfb(0x112)]()}));currentSubmissions=_0x1e76c0;const _0x52686c=_0x1e76c0[_0x1fecfb(0x18e)](_0x2a5812=>_0x2a5812[_0x1fecfb(0x68c)]&&_0x2a5812[_0x1fecfb(0x68c)][_0x1fecfb(0x431)]>0x0);renderBehaviorLog(_0x1e76c0),renderAnswerGrid(currentProjectData['students'],_0x52686c,_0x32f4f5),renderAnalytics(_0x32f4f5,_0x52686c),renderQuizResultsTable(currentProjectData[_0x1fecfb(0x7bd)],_0x1e76c0,_0x32f4f5),renderQuizLeaderboard(_0x52686c,_0x32f4f5,_0x1fecfb(0x17c));}),showView('quiz-results');}catch(_0x3f327f){console[_0x4b4e81(0x105)](_0x4b4e81(0x2da),_0x3f327f),showMessage(_0x4b4e81(0x566));}}function renderAnswerGrid(_0xf20f68,_0x5ba1e4,_0x487826){const _0x57f46e=_0x3fc9b3,_0x1e2264=document['getElementById'](_0x57f46e(0x62d));if(!_0x1e2264)return;if(!_0xf20f68||_0xf20f68[_0x57f46e(0x431)]===0x0){_0x1e2264[_0x57f46e(0x6da)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x5c0a63=_0x487826['questions'],_0x2f2a9c=_0x5ba1e4[_0x57f46e(0x8c6)]((_0x5a1a04,_0xfb840)=>{const _0x5d68d6=_0x57f46e;return _0x5a1a04[_0xfb840[_0x5d68d6(0x432)]]=_0xfb840,_0x5a1a04;},{}),_0x3c8e9b=_0x57fa51=>String[_0x57f46e(0x698)](0x41+_0x57fa51),_0xf61a31=_0x45db3a=>{const _0x3e2d38=_0x57f46e,_0x106b34=_0x45db3a[_0x3e2d38(0x7e0)]||_0x487826[_0x3e2d38(0x126)];switch(_0x106b34){case _0x3e2d38(0x207):return _0x45db3a['options']&&_0x45db3a['options'][_0x3e2d38(0x431)]>_0x45db3a[_0x3e2d38(0x211)]?_0x3c8e9b(_0x45db3a[_0x3e2d38(0x211)]):'-';case _0x3e2d38(0x288):return _0x45db3a[_0x3e2d38(0x6c1)]?_0x3e2d38(0x693):_0x3e2d38(0x262);case _0x3e2d38(0x454):return _0x45db3a[_0x3e2d38(0x76a)]||'-';case'short_answer':return _0x3e2d38(0x652);default:return'-';}},_0x2866ee=(_0x500ab0,_0x469b00)=>{const _0x2ed28a=_0x57f46e;if(_0x469b00[_0x2ed28a(0x759)]===null||_0x469b00[_0x2ed28a(0x759)]===undefined)return'-';const _0x51743e=_0x500ab0[_0x2ed28a(0x7e0)]||_0x487826[_0x2ed28a(0x126)];switch(_0x51743e){case _0x2ed28a(0x207):const _0x5ac736=_0x500ab0['options'][_0x2ed28a(0x628)](_0x34e653=>_0x34e653===_0x469b00[_0x2ed28a(0x7dc)]);return _0x5ac736!==-0x1?_0x3c8e9b(_0x5ac736):_0x469b00['answerText']||'-';case _0x2ed28a(0x288):return _0x469b00[_0x2ed28a(0x759)]==='true'||_0x469b00[_0x2ed28a(0x759)]===!![]?_0x2ed28a(0x693):_0x2ed28a(0x262);default:return _0x469b00[_0x2ed28a(0x759)];}};let _0x2d0f70=_0x57f46e(0x113)+_0x5c0a63[_0x57f46e(0x4cc)]((_0x3b4a9b,_0x74d9c6)=>_0x57f46e(0x6e1)+(_0x74d9c6+0x1)+_0x57f46e(0x254))['join']('')+_0x57f46e(0x42c)+_0x5c0a63[_0x57f46e(0x4cc)](_0xc32145=>_0x57f46e(0x383)+_0xf61a31(_0xc32145)+_0x57f46e(0x86a))[_0x57f46e(0x8b1)]('')+_0x57f46e(0x6f4);_0xf20f68[_0x57f46e(0x2a5)](_0x4c6c46=>{const _0x524565=_0x57f46e;_0x2d0f70+='<tr>',_0x2d0f70+=_0x524565(0x525)+_0x4c6c46+_0x524565(0x86a);const _0x352200=_0x2f2a9c[_0x4c6c46];if(_0x352200){const _0x42431e=_0x352200['attempts'][_0x352200['attempts'][_0x524565(0x431)]-0x1];_0x5c0a63[_0x524565(0x2a5)]((_0x272847,_0x557323)=>{const _0x21bf7e=_0x524565,_0x5ab356=_0x42431e['answers'][_0x21bf7e(0x2c3)](_0x77f768=>_0x77f768[_0x21bf7e(0x29d)]===(_0x272847[_0x21bf7e(0x2d7)]||_0x272847[_0x21bf7e(0x5a3)]));if(_0x5ab356){let _0x4842f6=![];const _0xc620d7=_0x272847['questionType']||_0x487826[_0x21bf7e(0x126)];if(_0x5ab356['answer']!==null&&_0x5ab356[_0x21bf7e(0x759)]!==undefined)switch(_0xc620d7){case _0x21bf7e(0x207):const _0x4d2e05=_0x272847[_0x21bf7e(0x77d)][_0x272847['correctAnswerIndex']];_0x4842f6=_0x5ab356[_0x21bf7e(0x7dc)]===_0x4d2e05;break;case _0x21bf7e(0x288):const _0x13741e=_0x5ab356[_0x21bf7e(0x759)]===!![]||_0x5ab356['answer']===_0x21bf7e(0x769);_0x4842f6=_0x13741e===_0x272847[_0x21bf7e(0x6c1)];break;case _0x21bf7e(0x454):_0x4842f6=_0x5ab356['answer']===_0x272847[_0x21bf7e(0x76a)];break;default:_0x4842f6=_0x5ab356[_0x21bf7e(0x626)];break;}const _0xb4e8f2=_0x4842f6?'bg-green-100':_0x21bf7e(0x427);_0x2d0f70+=_0x21bf7e(0x265)+_0xb4e8f2+'\x22>'+_0x2866ee(_0x272847,_0x5ab356)+'</td>';}else _0x2d0f70+=_0x21bf7e(0x4d2);});}else _0x2d0f70+=_0x5c0a63['map'](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x524565(0x8b1)]('');_0x2d0f70+='</tr>';}),_0x2d0f70+=_0x57f46e(0x8b9),_0x1e2264[_0x57f46e(0x6da)]=_0x2d0f70;}function renderQuizResultsTable(_0x4582b3,_0x3c7fd2,_0x1e3d43){const _0x36cdb4=_0x3fc9b3,_0x4a8387=_0x3c7fd2[_0x36cdb4(0x8c6)]((_0x50642e,_0x521b26)=>{return _0x50642e[_0x521b26['studentName']]=_0x521b26,_0x50642e;},{}),_0x36fb78=document[_0x36cdb4(0x884)](_0x36cdb4(0x5c4));_0x36fb78&&!_0x36fb78[_0x36cdb4(0x6da)][_0x36cdb4(0x1db)]('จัดการ')&&(_0x36fb78[_0x36cdb4(0x6da)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x44f33e=document[_0x36cdb4(0x1cf)]('quiz-results-table-body');if(!_0x4582b3||_0x4582b3[_0x36cdb4(0x431)]===0x0){_0x44f33e[_0x36cdb4(0x6da)]=_0x36cdb4(0x249);return;}const _0xcd93a7=_0x1e3d43[_0x36cdb4(0x685)]===!![],_0x219cd9=_0x1e3d43[_0x36cdb4(0x6b7)]?.[_0x36cdb4(0x702)]??-0x1;let _0x4df650='';_0x4582b3['forEach'](_0x5af473=>{const _0x4f01cc=_0x36cdb4,_0x52cb83=_0x4a8387[_0x5af473];let _0x35decb=_0x4f01cc(0x505)+(_0xcd93a7?'bg-amber-100\x20text-amber-800':_0x4f01cc(0x13a))+'\x22>'+(_0xcd93a7?'สอบซ่อม':'สอบปกติ')+_0x4f01cc(0x74c);if(_0x52cb83){if(_0x52cb83[_0x4f01cc(0x68c)]&&_0x52cb83[_0x4f01cc(0x68c)]['length']>0x0){let _0xc9bf7c=_0xcd93a7?_0x52cb83[_0x4f01cc(0x314)]===_0x52cb83[_0x4f01cc(0x771)]:_0x219cd9!==-0x1&&_0x52cb83['bestScore']>=_0x219cd9;const _0x101f61=_0xc9bf7c?_0x4f01cc(0x6ac):_0x4f01cc(0x5f9),_0x116a53=_0xc9bf7c?_0x4f01cc(0x79e):_0x4f01cc(0x16a),_0x5314cb=_0x4f01cc(0x100)+_0x101f61+'\x22>'+_0x116a53+_0x4f01cc(0x74c),_0x5e0add=_0x4f01cc(0x658)+(_0x52cb83[_0x4f01cc(0x68c)]?.[_0x4f01cc(0x431)]||0x1)+_0x4f01cc(0x8ab);_0x4df650+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x5af473+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x52cb83[_0x4f01cc(0x314)]+'\x20/\x20'+_0x52cb83[_0x4f01cc(0x771)]+_0x4f01cc(0x37f)+_0x5314cb+_0x4f01cc(0x24d)+_0x35decb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x52cb83[_0x4f01cc(0x668)]+_0x4f01cc(0x6c3)+_0x52cb83[_0x4f01cc(0x771)]+_0x4f01cc(0x295)+_0x52cb83[_0x4f01cc(0x148)]+'\x20/\x20'+_0x52cb83[_0x4f01cc(0x771)]+_0x4f01cc(0x850)+(_0x52cb83[_0x4f01cc(0x1a0)]||0x0)+_0x4f01cc(0x37f)+_0x5e0add+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x52cb83[_0x4f01cc(0x206)])['toLocaleString']('th-TH')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x5af473+_0x4f01cc(0x1e7);}else{const _0x3e8f43=_0x4f01cc(0x1c7);_0x4df650+=_0x4f01cc(0x69a)+_0x5af473+_0x4f01cc(0x4d6)+_0x35decb+_0x4f01cc(0x5ac)+_0x3e8f43+_0x4f01cc(0x17d)+new Date(_0x52cb83[_0x4f01cc(0x1cc)])['toLocaleString']('th-TH')+_0x4f01cc(0x84c)+_0x5af473+_0x4f01cc(0x1e7);}}else{const _0x1ffd5f=_0x4f01cc(0x39f);_0x4df650+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x5af473+_0x4f01cc(0x5d6)+_0x35decb+_0x4f01cc(0x763)+_0x1ffd5f+_0x4f01cc(0x865);}}),_0x44f33e[_0x36cdb4(0x6da)]=_0x4df650;}async function confirmRenameQuiz(){const _0x28e885=_0x3fc9b3,_0x16afd9=document['getElementById'](_0x28e885(0x51b))[_0x28e885(0x5f3)][_0x28e885(0x598)]();if(!_0x16afd9){showMessage(_0x28e885(0x343));return;}if(!actionTargetId)return;const _0x126a21=doc(db,'artifacts/'+appId+_0x28e885(0x829),actionTargetId);try{await updateDoc(_0x126a21,{'topic':_0x16afd9}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x28e885(0x2e4)]['add'](_0x28e885(0x36f)),actionTargetId=null;}catch(_0x5c1653){console[_0x28e885(0x105)](_0x28e885(0x5e0),_0x5c1653),showMessage(_0x28e885(0x485));}}async function handleMoveQuiz(_0x6513d0){const _0x428c22=_0x3fc9b3;actionTargetId=_0x6513d0;const _0xa3059d=document[_0x428c22(0x1cf)](_0x428c22(0x1f8));_0xa3059d[_0x428c22(0x6da)]=_0x428c22(0x33f),moveQuizModal[_0x428c22(0x2e4)][_0x428c22(0x495)](_0x428c22(0x36f));try{const _0x5330cb=collection(db,_0x428c22(0x14c)+appId+_0x428c22(0x5ce)),_0x6bd951=await getDocs(_0x5330cb),_0x2b55bf=_0x6bd951[_0x428c22(0x145)]['map'](_0x1c88f8=>({'id':_0x1c88f8['id'],..._0x1c88f8[_0x428c22(0x112)]()})),_0x3bacac=_0x2b55bf[_0x428c22(0x18e)](_0x10d061=>_0x10d061['id']!==currentProjectId);if(_0x3bacac[_0x428c22(0x431)]===0x0){_0xa3059d[_0x428c22(0x6da)]=_0x428c22(0x7c0),document[_0x428c22(0x1cf)](_0x428c22(0x552))[_0x428c22(0x323)]=!![];return;}_0xa3059d[_0x428c22(0x6da)]=_0x3bacac['map'](_0x5c0dbb=>'<option\x20value=\x22'+_0x5c0dbb['id']+'\x22>'+_0x5c0dbb[_0x428c22(0x55a)]+_0x428c22(0x140))[_0x428c22(0x8b1)](''),document[_0x428c22(0x1cf)]('confirm-move-quiz-btn')[_0x428c22(0x323)]=![];}catch(_0x439f57){console[_0x428c22(0x105)](_0x428c22(0x6a5),_0x439f57),showMessage(_0x428c22(0x6d6)),moveQuizModal[_0x428c22(0x2e4)][_0x428c22(0x243)](_0x428c22(0x36f));}}async function confirmMoveQuiz(){const _0x372fc7=_0x3fc9b3,_0xee2e86=document[_0x372fc7(0x1cf)]('move-quiz-project-select')[_0x372fc7(0x5f3)];if(!_0xee2e86){showMessage(_0x372fc7(0x62b));return;}if(!actionTargetId)return;const _0x489095=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x489095,{'projectId':_0xee2e86}),showMessage(_0x372fc7(0x440)),moveQuizModal[_0x372fc7(0x2e4)][_0x372fc7(0x243)](_0x372fc7(0x36f)),actionTargetId=null;}catch(_0x1c1af3){console[_0x372fc7(0x105)](_0x372fc7(0x7bb),_0x1c1af3),showMessage(_0x372fc7(0x2ab));}}async function handleQuizSettings(_0xdec189){const _0x1a2615=_0x3fc9b3;actionTargetId=_0xdec189;const _0x580aa5=doc(db,_0x1a2615(0x14c)+appId+_0x1a2615(0x829),_0xdec189);try{const _0x1a30e5=await getDoc(_0x580aa5);if(_0x1a30e5[_0x1a2615(0x2a4)]()){const _0x21873b=_0x1a30e5[_0x1a2615(0x112)](),_0x7152ca=_0x21873b[_0x1a2615(0x6b7)]||{},_0x478bf3=_0x21873b[_0x1a2615(0x2eb)][_0x1a2615(0x431)];document[_0x1a2615(0x1cf)]('modal-shuffle-select')[_0x1a2615(0x5f3)]=_0x7152ca[_0x1a2615(0x6c0)]||'none',document[_0x1a2615(0x1cf)](_0x1a2615(0x130))[_0x1a2615(0x5f3)]=_0x7152ca[_0x1a2615(0x60e)]||_0x1a2615(0x195),document['getElementById'](_0x1a2615(0x1e9))['value']=_0x7152ca[_0x1a2615(0x32d)]||'none',document[_0x1a2615(0x1cf)](_0x1a2615(0x6e2))[_0x1a2615(0x5f3)]=_0x7152ca[_0x1a2615(0x10d)]||0xa,document[_0x1a2615(0x1cf)](_0x1a2615(0x7a1))['value']=_0x7152ca['passingScore']||Math[_0x1a2615(0x802)](_0x478bf3/0x2),document[_0x1a2615(0x1cf)](_0x1a2615(0x7a1))[_0x1a2615(0x50c)]=_0x478bf3,document[_0x1a2615(0x1cf)](_0x1a2615(0x7e5))['checked']=_0x7152ca[_0x1a2615(0x5b7)]||![],document['getElementById'](_0x1a2615(0x369))[_0x1a2615(0x8b0)]=_0x7152ca[_0x1a2615(0x6ee)]||![],document[_0x1a2615(0x1cf)]('modal-timer-mode-select')['dispatchEvent'](new Event(_0x1a2615(0x595))),quizSettingsModal[_0x1a2615(0x2e4)][_0x1a2615(0x495)](_0x1a2615(0x36f));}else showMessage(_0x1a2615(0x1df));}catch(_0x1fdd97){console[_0x1a2615(0x105)](_0x1a2615(0x7e9),_0x1fdd97),showMessage(_0x1a2615(0x4fd));}}async function confirmQuizSettings(){const _0x5f4308=_0x3fc9b3;if(!actionTargetId)return;const _0x450185=doc(db,_0x5f4308(0x14c)+appId+_0x5f4308(0x829),actionTargetId),_0x82849e={'shuffle':document[_0x5f4308(0x1cf)](_0x5f4308(0x45b))[_0x5f4308(0x5f3)],'resultsDisplay':document[_0x5f4308(0x1cf)](_0x5f4308(0x130))[_0x5f4308(0x5f3)],'timerMode':document[_0x5f4308(0x1cf)]('modal-timer-mode-select')[_0x5f4308(0x5f3)],'timerDuration':parseInt(document[_0x5f4308(0x1cf)]('modal-timer-duration-input')[_0x5f4308(0x5f3)])||0xa,'passingScore':parseInt(document[_0x5f4308(0x1cf)](_0x5f4308(0x7a1))[_0x5f4308(0x5f3)])||0x0,'passingScore':parseInt(document[_0x5f4308(0x1cf)]('modal-passing-score-input')[_0x5f4308(0x5f3)])||0x0,'isAdaptive':document[_0x5f4308(0x1cf)](_0x5f4308(0x7e5))[_0x5f4308(0x8b0)],'loopUntilPass':document[_0x5f4308(0x1cf)](_0x5f4308(0x369))['checked']};try{await updateDoc(_0x450185,{'settings':_0x82849e}),showMessage(_0x5f4308(0x19d)),quizSettingsModal[_0x5f4308(0x2e4)]['add']('hidden'),actionTargetId=null;}catch(_0x298d60){console[_0x5f4308(0x105)](_0x5f4308(0x67f),_0x298d60),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleQuizStatus(_0x4549a0){const _0xe3a8c6=_0x3fc9b3;actionTargetId=_0x4549a0;const _0x24e23b=doc(db,_0xe3a8c6(0x14c)+appId+'/public/data/quizzes',_0x4549a0);try{const _0xa597a8=await getDoc(_0x24e23b);if(_0xa597a8[_0xe3a8c6(0x2a4)]()){const _0x419ef6=_0xa597a8[_0xe3a8c6(0x112)](),_0x1ca4e0=_0x419ef6[_0xe3a8c6(0x70c)]||_0xe3a8c6(0x299),_0x4292ad=document['getElementById'](_0xe3a8c6(0x394)),_0x57b7ce=document[_0xe3a8c6(0x1cf)](_0xe3a8c6(0x3a7)),_0x43f87b=document[_0xe3a8c6(0x1cf)](_0xe3a8c6(0x319));let _0x6ed992=_0xe3a8c6(0x6ad)+(_0x1ca4e0===_0xe3a8c6(0x299)?_0xe3a8c6(0x8b0):'')+_0xe3a8c6(0x768)+(_0x1ca4e0==='inactive'?_0xe3a8c6(0x8b0):'')+_0xe3a8c6(0x8ac)+(_0x1ca4e0===_0xe3a8c6(0x12c)?_0xe3a8c6(0x8b0):'')+_0xe3a8c6(0x44e);_0x4292ad[_0xe3a8c6(0x6da)]=_0x6ed992;const _0x3faeb5=_0x1ca4e0===_0xe3a8c6(0x12c);_0x57b7ce[_0xe3a8c6(0x2e4)][_0xe3a8c6(0x81e)](_0xe3a8c6(0x36f),!_0x3faeb5),_0x43f87b[_0xe3a8c6(0x2e4)][_0xe3a8c6(0x81e)](_0xe3a8c6(0x36f),!_0x3faeb5),document[_0xe3a8c6(0x1cf)](_0xe3a8c6(0x298))[_0xe3a8c6(0x5f3)]=_0x419ef6[_0xe3a8c6(0x646)]?_0x419ef6[_0xe3a8c6(0x646)][_0xe3a8c6(0x51e)](0x0,0x10):'',document[_0xe3a8c6(0x1cf)](_0xe3a8c6(0x623))[_0xe3a8c6(0x5f3)]=_0x419ef6['endTime']?_0x419ef6[_0xe3a8c6(0x60b)][_0xe3a8c6(0x51e)](0x0,0x10):'',_0x4292ad[_0xe3a8c6(0x7ab)]('input[name=\x22status-option\x22]')[_0xe3a8c6(0x2a5)](_0x43b080=>{const _0x1cff4b=_0xe3a8c6;_0x43b080[_0x1cff4b(0x87d)](_0x1cff4b(0x595),_0x554201=>{const _0xd3f992=_0x1cff4b,_0x5ace59=_0x554201[_0xd3f992(0x6c8)][_0xd3f992(0x5f3)]===_0xd3f992(0x1f2);_0x57b7ce[_0xd3f992(0x2e4)][_0xd3f992(0x81e)](_0xd3f992(0x36f),!_0x5ace59),_0x43f87b[_0xd3f992(0x2e4)][_0xd3f992(0x81e)](_0xd3f992(0x36f),!_0x5ace59);});}),quizStatusModal[_0xe3a8c6(0x2e4)][_0xe3a8c6(0x495)](_0xe3a8c6(0x36f));}}catch(_0x1fd450){console[_0xe3a8c6(0x105)](_0xe3a8c6(0x179),_0x1fd450),showMessage(_0xe3a8c6(0x89d));}}async function confirmQuizStatus(){const _0x3f6eac=_0x3fc9b3;if(!actionTargetId)return;const _0x1e3443=doc(db,_0x3f6eac(0x14c)+appId+_0x3f6eac(0x829),actionTargetId),_0x94310b=document[_0x3f6eac(0x884)](_0x3f6eac(0x373));if(!_0x94310b){showMessage(_0x3f6eac(0x49e));return;}const _0x453d9d=_0x94310b['value'];let _0x3632c2={};if(_0x453d9d===_0x3f6eac(0x299)||_0x453d9d===_0x3f6eac(0x852))_0x3632c2={'status':_0x453d9d,'startTime':null,'endTime':null};else{if(_0x453d9d===_0x3f6eac(0x1f2)){const _0x2c6873=document[_0x3f6eac(0x1cf)](_0x3f6eac(0x298))[_0x3f6eac(0x5f3)],_0xa35266=document[_0x3f6eac(0x1cf)](_0x3f6eac(0x623))[_0x3f6eac(0x5f3)];if(!_0x2c6873&&!_0xa35266){showMessage(_0x3f6eac(0x6e3));return;}_0x3632c2={'status':_0x3f6eac(0x12c),'startTime':_0x2c6873?new Date(_0x2c6873)['toISOString']():null,'endTime':_0xa35266?new Date(_0xa35266)[_0x3f6eac(0x751)]():null};}}try{await updateDoc(_0x1e3443,_0x3632c2),showMessage(_0x3f6eac(0x3cb)),quizStatusModal['classList'][_0x3f6eac(0x243)](_0x3f6eac(0x36f)),actionTargetId=null;}catch(_0x5d5427){console['error'](_0x3f6eac(0x3eb),_0x5d5427),showMessage(_0x3f6eac(0x28f));}}function listenForStudentProfiles(_0x19c220){const _0x1fcb09=_0x3fc9b3,_0x3ac96f=collection(db,_0x1fcb09(0x14c)+appId+_0x1fcb09(0x3c7)+_0x19c220+_0x1fcb09(0x282));unsubscribeStudentProfilesListener=onSnapshot(_0x3ac96f,_0x25e79a=>{const _0x9c0c56=_0x1fcb09,_0x53b433=_0x25e79a['docs'][_0x9c0c56(0x4cc)](_0x50d1dc=>_0x50d1dc[_0x9c0c56(0x112)]());renderLeaderboard(_0x53b433,_0x9c0c56(0x337));},_0x1aebb8=>{const _0x26c2af=_0x1fcb09;console[_0x26c2af(0x105)](_0x26c2af(0x40b),_0x1aebb8),document[_0x26c2af(0x1cf)](_0x26c2af(0x337))[_0x26c2af(0x6da)]=_0x26c2af(0x463);});}function renderLeaderboard(_0x51d986,_0x2a6a2b){const _0x19f87f=_0x3fc9b3,_0x3f74e=document['getElementById'](_0x2a6a2b);if(!_0x51d986||_0x51d986[_0x19f87f(0x431)]===0x0){_0x3f74e[_0x19f87f(0x6da)]=_0x19f87f(0x1b5);return;}_0x51d986['sort']((_0x401bf0,_0x96e43b)=>{const _0x5a16ea=_0x19f87f,_0x1b000b=(_0x96e43b[_0x5a16ea(0x5f7)]||0x0)-(_0x401bf0[_0x5a16ea(0x5f7)]||0x0);if(_0x1b000b!==0x0)return _0x1b000b;const _0x3942d2=(_0x96e43b[_0x5a16ea(0x191)]?.[_0x5a16ea(0x5f2)]||0x0)-(_0x401bf0[_0x5a16ea(0x191)]?.[_0x5a16ea(0x5f2)]||0x0);if(_0x3942d2!==0x0)return _0x3942d2;const _0x5f140f=(_0x96e43b[_0x5a16ea(0x191)]?.[_0x5a16ea(0x31a)]||0x0)-(_0x401bf0[_0x5a16ea(0x191)]?.[_0x5a16ea(0x31a)]||0x0);if(_0x5f140f!==0x0)return _0x5f140f;const _0x2608d8=(_0x96e43b[_0x5a16ea(0x191)]?.[_0x5a16ea(0x3dc)]||0x0)-(_0x401bf0[_0x5a16ea(0x191)]?.[_0x5a16ea(0x3dc)]||0x0);if(_0x2608d8!==0x0)return _0x2608d8;const _0x3eecb0=(_0x96e43b[_0x5a16ea(0x191)]?.['quick_thinker']||0x0)-(_0x401bf0['badgesCount']?.[_0x5a16ea(0x5eb)]||0x0);if(_0x3eecb0!==0x0)return _0x3eecb0;return _0x401bf0[_0x5a16ea(0x432)]['localeCompare'](_0x96e43b[_0x5a16ea(0x432)],'th');});let _0x1de134='';_0x51d986[_0x19f87f(0x2a5)]((_0x273d68,_0x2a0cae)=>{const _0x355613=_0x19f87f,_0x4817b0=_0x2a0cae+0x1,_0x524104=_0x273d68['badgesCount']||{};let _0x4401a8='';const _0x4aff1f=[_0x355613(0x5f2),_0x355613(0x3dc),_0x355613(0x31a),'quick_thinker'];_0x4aff1f[_0x355613(0x2a5)](_0x2441fc=>{const _0x5f423e=_0x355613;if(_0x524104[_0x2441fc]>0x0){const _0xbdead6=Object[_0x5f423e(0x408)](BADGES)[_0x5f423e(0x2c3)](_0xaf0e21=>_0xaf0e21['id']===_0x2441fc);_0xbdead6&&(_0x2441fc===_0x5f423e(0x5f2)?_0x4401a8+=_0x5f423e(0x153)+_0xbdead6[_0x5f423e(0x692)]+_0x5f423e(0x4f3)+_0xbdead6[_0x5f423e(0x36d)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x4401a8+=_0x5f423e(0x153)+_0xbdead6['name']+'\x20('+_0x524104[_0x2441fc]+_0x5f423e(0x68f)+_0xbdead6[_0x5f423e(0x36d)]+_0x5f423e(0x4ad)+_0x524104[_0x2441fc]+_0x5f423e(0x5c8));}}),_0x1de134+=_0x355613(0x48b)+_0x4817b0+_0x355613(0x2f7)+_0x273d68[_0x355613(0x432)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x273d68[_0x355613(0x5f7)]||0x0)+_0x355613(0x2f7)+(_0x4401a8||'-')+_0x355613(0x778);}),_0x3f74e[_0x19f87f(0x6da)]=_0x1de134;}function displayLoopScreen(_0x10328d,_0x374b72,_0x402e9a){const _0x30226d=_0x3fc9b3;let _0x480cb1='';_0x402e9a!==_0x30226d(0x26d)&&(_0x480cb1=_0x30226d(0x54e)+_0x10328d+_0x30226d(0x6c3)+_0x374b72+_0x30226d(0x306));const _0x4186a7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x480cb1+_0x30226d(0x322);studentResultArea[_0x30226d(0x6da)]=_0x4186a7,studentResultArea[_0x30226d(0x2e4)][_0x30226d(0x495)](_0x30226d(0x36f)),studentQuizArea['classList'][_0x30226d(0x243)](_0x30226d(0x36f)),document[_0x30226d(0x1cf)]('retake-quiz-loop-btn')[_0x30226d(0x87d)](_0x30226d(0x79f),()=>{const _0x58aa48=_0x30226d;studentResultArea[_0x58aa48(0x2e4)][_0x58aa48(0x243)](_0x58aa48(0x36f)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x2c8854,_0x46eb5d,_0x2046f2){const _0x3e382b=_0x3fc9b3,_0x371b4b=document['getElementById'](_0x2046f2),_0x27c109=_0x2046f2===_0x3e382b(0x3ea),_0x329cad=_0x46eb5d[_0x3e382b(0x2eb)][_0x3e382b(0x431)],_0x2e8880=document[_0x3e382b(0x1cf)](_0x2046f2)['closest']('table');if(_0x2e8880&&!_0x27c109){const _0x586709=_0x2e8880[_0x3e382b(0x884)](_0x3e382b(0x449));_0x586709[_0x3e382b(0x6da)]=_0x3e382b(0x450);}if(!_0x2c8854||_0x2c8854[_0x3e382b(0x431)]===0x0){_0x371b4b[_0x3e382b(0x6da)]=_0x3e382b(0x624)+(_0x27c109?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x38e7e4=[..._0x2c8854];_0x38e7e4[_0x3e382b(0x8d1)]((_0x29cffc,_0x35fb22)=>{const _0xea7569=_0x3e382b;let _0x3749bc,_0x383828;switch(quizLeaderboardSortBy){case'studentName':_0x3749bc=_0x29cffc[_0xea7569(0x432)]||'',_0x383828=_0x35fb22[_0xea7569(0x432)]||'';return quizLeaderboardSortOrder==='asc'?_0x3749bc[_0xea7569(0x1b3)](_0x383828,'th'):_0x383828[_0xea7569(0x1b3)](_0x3749bc,'th');case _0xea7569(0x1a0):_0x3749bc=_0x29cffc[_0xea7569(0x1a0)]||0x0,_0x383828=_0x35fb22[_0xea7569(0x1a0)]||0x0;break;case _0xea7569(0x68c):_0x3749bc=_0x29cffc[_0xea7569(0x68c)]?.['length']||0x1,_0x383828=_0x35fb22[_0xea7569(0x68c)]?.[_0xea7569(0x431)]||0x1;break;case _0xea7569(0x206):_0x3749bc=new Date(_0x29cffc[_0xea7569(0x206)]),_0x383828=new Date(_0x35fb22[_0xea7569(0x206)]);break;case _0xea7569(0x314):default:_0x3749bc=_0x29cffc[_0xea7569(0x314)],_0x383828=_0x35fb22['bestScore'];break;}if(_0x3749bc<_0x383828)return quizLeaderboardSortOrder===_0xea7569(0x291)?-0x1:0x1;if(_0x3749bc>_0x383828)return quizLeaderboardSortOrder===_0xea7569(0x291)?0x1:-0x1;return 0x0;});const _0x501055=_0x46eb5d[_0x3e382b(0x685)]===!![],_0x182b66=_0x46eb5d[_0x3e382b(0x6b7)]?.[_0x3e382b(0x702)]??-0x1;let _0x218599='';_0x38e7e4[_0x3e382b(0x2a5)]((_0x1865a8,_0x13e543)=>{const _0x1309f7=_0x3e382b,_0x865a94=_0x13e543+0x1;let _0x41679a=_0x1309f7(0x84a);if(_0x501055||_0x182b66!==-0x1){let _0x308279=_0x501055?_0x1865a8[_0x1309f7(0x314)]===_0x329cad:_0x1865a8[_0x1309f7(0x314)]>=_0x182b66;const _0x2aede7=_0x308279?_0x1309f7(0x6ac):_0x1309f7(0x5f9),_0x424a73=_0x308279?_0x1309f7(0x79e):_0x1309f7(0x16a);_0x41679a='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x2aede7+'\x22>'+_0x424a73+_0x1309f7(0x74c);}const _0x3e5b63=_0x1865a8[_0x1309f7(0x68c)][_0x1865a8[_0x1309f7(0x68c)]['length']-0x1],_0x2431cd=(_0x3e5b63[_0x1309f7(0x543)]||[])[_0x1309f7(0x4cc)](_0x4184a0=>{const _0xa3ab50=_0x1309f7,_0x768e1d=Object[_0xa3ab50(0x408)](BADGES)[_0xa3ab50(0x2c3)](_0x3ca0d2=>_0x3ca0d2['id']===_0x4184a0);return _0x768e1d?'<span\x20title=\x22'+_0x768e1d[_0xa3ab50(0x692)]+_0xa3ab50(0x166)+_0x768e1d[_0xa3ab50(0x36d)]+_0xa3ab50(0x58f):'';})[_0x1309f7(0x8b1)]('');_0x218599+=_0x1309f7(0x41c)+_0x865a94+_0x1309f7(0x795)+_0x1865a8[_0x1309f7(0x432)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x1865a8[_0x1309f7(0x314)]+_0x1309f7(0x6c3)+_0x329cad+_0x1309f7(0x49c)+_0x41679a+_0x1309f7(0x29a)+(_0x1865a8['points']||0x0)+_0x1309f7(0x49c)+(_0x27c109?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x1865a8[_0x1309f7(0x68c)]?.[_0x1309f7(0x431)]||0x1)+_0x1309f7(0x86a))+_0x1309f7(0x7ba)+(_0x27c109?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x1865a8[_0x1309f7(0x206)])[_0x1309f7(0x540)]('th-TH')+_0x1309f7(0x86a))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x2431cd||'-')+_0x1309f7(0x479);}),_0x371b4b[_0x3e382b(0x6da)]=_0x218599,_0x2e8880&&!_0x27c109&&_0x2e8880[_0x3e382b(0x7ab)](_0x3e382b(0x4ff))[_0x3e382b(0x2a5)](_0x1a0bbd=>{const _0x1adfcf=_0x3e382b,_0x2ab3fb=_0x1a0bbd[_0x1adfcf(0x884)](_0x1adfcf(0x781));if(_0x2ab3fb)_0x2ab3fb['remove']();_0x1a0bbd[_0x1adfcf(0x217)][_0x1adfcf(0x8d1)]===quizLeaderboardSortBy&&(_0x1a0bbd['innerHTML']+=_0x1adfcf(0x27f)+(quizLeaderboardSortOrder===_0x1adfcf(0x291)?'▲':'▼')+_0x1adfcf(0x41b));});}async function handleDeleteSubmission(_0xc21fe6){const _0x1e58fc=_0x3fc9b3;if(!currentQuizData||!currentQuizData['id']||!_0xc21fe6){showMessage(_0x1e58fc(0x51c));return;}showConfirmation(_0x1e58fc(0x5c1)+_0xc21fe6+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x1210bb=_0x1e58fc,_0x2e1913=currentQuizData['id'],_0x11da68=doc(db,_0x1210bb(0x14c)+appId+_0x1210bb(0x576)+_0x2e1913+_0x1210bb(0x862),_0xc21fe6);try{await deleteDoc(_0x11da68),showMessage(_0x1210bb(0x66d)+_0xc21fe6+_0x1210bb(0x186));}catch(_0x441fbc){console[_0x1210bb(0x105)](_0x1210bb(0x753),_0x441fbc),showMessage(_0x1210bb(0x32f));}});}async function handleLoadQuiz(){const _0x333db8=_0x3fc9b3,_0x1cc4d9=document[_0x333db8(0x1cf)]('quiz-id-input'),_0x435ecd=_0x1cc4d9[_0x333db8(0x5f3)][_0x333db8(0x598)]();if(!_0x435ecd){showMessage(_0x333db8(0x4a1));return;}loadQuizBtn[_0x333db8(0x323)]=!![],loadQuizBtn[_0x333db8(0x6da)]=_0x333db8(0x2a1);try{const _0x40fa26=doc(db,_0x333db8(0x14c)+appId+_0x333db8(0x829),_0x435ecd),_0x2e0fb0=await getDoc(_0x40fa26);if(!_0x2e0fb0[_0x333db8(0x2a4)]()){showMessage(_0x333db8(0x50d));return;}currentQuizData={'id':_0x2e0fb0['id'],..._0x2e0fb0[_0x333db8(0x112)]()};const _0x167b5b=currentQuizData[_0x333db8(0x70c)]||_0x333db8(0x299),_0x2ae827=new Date();if(_0x167b5b===_0x333db8(0x852)){showMessage(_0x333db8(0x119));return;}if(_0x167b5b===_0x333db8(0x12c)){const _0x31dfe2=currentQuizData[_0x333db8(0x646)]?new Date(currentQuizData[_0x333db8(0x646)]):null,_0x4ad670=currentQuizData[_0x333db8(0x60b)]?new Date(currentQuizData[_0x333db8(0x60b)]):null;if(_0x31dfe2&&_0x2ae827<_0x31dfe2){showMessage(_0x333db8(0x555)+_0x31dfe2[_0x333db8(0x540)](_0x333db8(0x569),{'hour12':![]}));return;}if(_0x4ad670&&_0x2ae827>_0x4ad670){showMessage(_0x333db8(0x172));return;}}const _0x46cb71=currentQuizData['projectId'];currentProjectId=_0x46cb71;const _0x5bad45=doc(db,_0x333db8(0x14c)+appId+'/public/data/projects',_0x46cb71),_0x444a88=await getDoc(_0x5bad45);if(!_0x444a88[_0x333db8(0x2a4)]()){showMessage(_0x333db8(0x481));return;}const _0x2e0975=_0x444a88['data']();currentStudentProjectData=_0x2e0975,displayStudentNameSelector(_0x2e0975['students'],currentQuizData[_0x333db8(0x7aa)]);}catch(_0x21da65){console[_0x333db8(0x105)](_0x333db8(0x703),_0x21da65),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x333db8(0x6da)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x10daed=_0x3fc9b3,_0x595ed6=document[_0x10daed(0x1cf)]('game-pin-input'),_0x2f8a74=document[_0x10daed(0x1cf)](_0x10daed(0x296)),_0xc741c7=document['getElementById'](_0x10daed(0x5f1)),_0x442cce=_0x595ed6[_0x10daed(0x5f3)][_0x10daed(0x598)](),_0x41f5ad=_0x2f8a74['value'][_0x10daed(0x598)]();if(!_0x442cce||!_0x41f5ad){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0xc741c7['disabled']=!![],_0xc741c7[_0x10daed(0x6da)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';try{const _0x3aceca=collection(db,'artifacts/'+appId+_0x10daed(0x827)),_0x58bbed=query(_0x3aceca,where(_0x10daed(0x4fb),'==',_0x442cce),where(_0x10daed(0x70c),'==',_0x10daed(0x31b))),_0x97df6b=await getDocs(_0x58bbed);if(_0x97df6b[_0x10daed(0x114)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง');return;}const _0x4bcad9=_0x97df6b[_0x10daed(0x145)][0x0],_0x1e6418=_0x4bcad9[_0x10daed(0x112)]();currentLiveGameId=_0x4bcad9['id'];const _0x807ea=_0x1e6418[_0x10daed(0x501)],_0x5370eb=doc(db,'artifacts/'+appId+_0x10daed(0x829),_0x807ea),_0xa27ac0=await getDoc(_0x5370eb);if(!_0xa27ac0[_0x10daed(0x2a4)]()){showMessage(_0x10daed(0x413));return;}currentQuizData={'id':_0xa27ac0['id'],..._0xa27ac0[_0x10daed(0x112)]()};if(_0x1e6418[_0x10daed(0x7d9)]&&_0x1e6418[_0x10daed(0x7d9)][_0x41f5ad]){showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น');return;}const _0x4bd6a2={};_0x4bd6a2[_0x10daed(0x379)+_0x41f5ad]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,'artifacts/'+appId+_0x10daed(0x827),currentLiveGameId),_0x4bd6a2),currentStudentName=_0x41f5ad,listenForLiveGameUpdates();}catch(_0x4585eb){console[_0x10daed(0x105)](_0x10daed(0x3b8),_0x4585eb),showMessage(_0x10daed(0x633));}finally{_0xc741c7[_0x10daed(0x323)]=![],_0xc741c7[_0x10daed(0x6da)]=_0x10daed(0x45d);}}function displayStudentNameSelector(_0x8f806f,_0x13730f){const _0x1feab5=_0x3fc9b3,_0x23e11a=document['getElementById'](_0x1feab5(0x786));document[_0x1feab5(0x1cf)](_0x1feab5(0x79c))[_0x1feab5(0x52e)]=_0x1feab5(0x814)+_0x13730f,!_0x8f806f||_0x8f806f['length']===0x0?(_0x23e11a[_0x1feab5(0x6da)]=_0x1feab5(0x403),startQuizBtn['disabled']=!![]):(_0x23e11a[_0x1feab5(0x6da)]=_0x1feab5(0x72f),_0x8f806f['forEach'](_0x5dc98b=>{const _0x599ede=_0x1feab5,_0x3f62df=document[_0x599ede(0x5cd)](_0x599ede(0x8b8));_0x3f62df[_0x599ede(0x5f3)]=_0x5dc98b,_0x3f62df[_0x599ede(0x52e)]=_0x5dc98b,_0x23e11a[_0x599ede(0x238)](_0x3f62df);}),startQuizBtn[_0x1feab5(0x323)]=![]),studentInitialView[_0x1feab5(0x2e4)][_0x1feab5(0x243)]('hidden'),studentNameSelectionView['classList'][_0x1feab5(0x495)](_0x1feab5(0x36f));}function shuffleArray(_0x264c2c){const _0xcf8ca2=_0x3fc9b3;for(let _0x11b4ae=_0x264c2c[_0xcf8ca2(0x431)]-0x1;_0x11b4ae>0x0;_0x11b4ae--){const _0x1cc43c=Math[_0xcf8ca2(0x802)](Math[_0xcf8ca2(0x7bf)]()*(_0x11b4ae+0x1));[_0x264c2c[_0x11b4ae],_0x264c2c[_0x1cc43c]]=[_0x264c2c[_0x1cc43c],_0x264c2c[_0x11b4ae]];}}function getShuffledQuiz(_0xf41738){const _0x4dd2b1=_0x3fc9b3;let _0x177a66=JSON[_0x4dd2b1(0x6be)](JSON[_0x4dd2b1(0x150)](_0xf41738));const _0x25a510=_0x177a66['settings']?.['shuffle']||_0x4dd2b1(0x3ba);if(_0x25a510===_0x4dd2b1(0x3ba))return _0x177a66;return(_0x25a510==='questions_only'||_0x25a510==='both')&&shuffleArray(_0x177a66[_0x4dd2b1(0x2eb)]),(_0x25a510==='choices_only'||_0x25a510===_0x4dd2b1(0x886))&&_0x177a66[_0x4dd2b1(0x2eb)][_0x4dd2b1(0x2a5)](_0x18a360=>{const _0x52665c=_0x4dd2b1,_0x2ce909=_0x18a360[_0x52665c(0x7e0)]||_0x177a66[_0x52665c(0x126)];if(_0x18a360['options']){let _0x3acb50=_0x18a360[_0x52665c(0x77d)][_0x52665c(0x4cc)]((_0x1752a6,_0x428f7a)=>({'text':_0x1752a6,'isCorrect':_0x428f7a===_0x18a360[_0x52665c(0x211)]}));shuffleArray(_0x3acb50),_0x18a360[_0x52665c(0x77d)]=_0x3acb50[_0x52665c(0x4cc)](_0xc66dec=>_0xc66dec[_0x52665c(0x6ea)]),_0x18a360[_0x52665c(0x211)]=_0x3acb50[_0x52665c(0x628)](_0x51b5c3=>_0x51b5c3['isCorrect']);}_0x2ce909==='matching_item'&&_0x18a360['allResponses']&&shuffleArray(_0x18a360[_0x52665c(0x16d)]);}),_0x177a66;}function displayQuizForStudent(_0x4479c1){const _0x390c2d=_0x3fc9b3;studentQuizArea[_0x390c2d(0x2e4)][_0x390c2d(0x495)](_0x390c2d(0x36f)),currentDisplayedQuiz=getShuffledQuiz(_0x4479c1);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener']('fullscreenchange',handleFullscreenChange),document[_0x390c2d(0x87d)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x390c2d(0x39d),resetDimTimer),window['addEventListener'](_0x390c2d(0x21e),resetDimTimer),window[_0x390c2d(0x87d)](_0x390c2d(0x834),resetDimTimer),window[_0x390c2d(0x87d)](_0x390c2d(0x221),resetDimTimer),resetDimTimer());const _0x55ac0b=currentDisplayedQuiz[_0x390c2d(0x6b7)]?.[_0x390c2d(0x32d)]||_0x390c2d(0x3ba);if(_0x55ac0b===_0x390c2d(0x75d))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x390c2d(0x6b7)]['timerDuration']);else _0x55ac0b===_0x390c2d(0x260)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x45fe1b=_0x3fc9b3;let _0x1021e7=_0x45fe1b(0x4e2)+currentDisplayedQuiz[_0x45fe1b(0x7aa)]+_0x45fe1b(0x17b)+(currentMode===_0x45fe1b(0x2c0)?_0x45fe1b(0x127):'')+_0x45fe1b(0x3ce);currentDisplayedQuiz['questions']['forEach']((_0x715b3d,_0x2cb77f)=>{const _0x51a1b6=_0x45fe1b,_0x1a0777=_0x715b3d[_0x51a1b6(0x7e0)]||currentDisplayedQuiz['quizType'];_0x1021e7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x1a0777==='matching_item'?_0x1021e7+='\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+(_0x2cb77f+0x1)+'.\x20'+_0x715b3d[_0x51a1b6(0x2d7)]+_0x51a1b6(0x420)+_0x2cb77f+_0x51a1b6(0x521)+_0x715b3d[_0x51a1b6(0x16d)]['map'](_0x1e4374=>_0x51a1b6(0x380)+_0x1e4374+'\x22>'+_0x1e4374+'</option>')[_0x51a1b6(0x8b1)]('')+_0x51a1b6(0x8d3):(_0x1021e7+=_0x51a1b6(0x165)+(_0x2cb77f+0x1)+'.\x20'+(_0x715b3d['instructions']||_0x715b3d['questionText'])+_0x51a1b6(0x808),_0x715b3d[_0x51a1b6(0x41f)]&&(_0x1021e7+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x715b3d[_0x51a1b6(0x41f)]+_0x51a1b6(0x2e9)));_0x1021e7+=_0x51a1b6(0x6dd);switch(_0x1a0777){case _0x51a1b6(0x5cf):_0x1021e7+=_0x51a1b6(0x4e7)+_0x2cb77f+_0x51a1b6(0x5dc);break;case _0x51a1b6(0x288):_0x1021e7+=_0x51a1b6(0x158)+_0x2cb77f+_0x51a1b6(0x6ba)+_0x2cb77f+_0x51a1b6(0x346)+_0x2cb77f+_0x51a1b6(0x6cf),_0x1021e7+=_0x51a1b6(0x158)+_0x2cb77f+_0x51a1b6(0x587)+_0x2cb77f+_0x51a1b6(0x151)+_0x2cb77f+_0x51a1b6(0x4f5);break;case _0x51a1b6(0x454):break;case _0x51a1b6(0x159):case _0x51a1b6(0x207):default:_0x1021e7+=_0x715b3d['options'][_0x51a1b6(0x4cc)]((_0xbe6d2d,_0x4a613d)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x2cb77f+_0x51a1b6(0x767)+_0x4a613d+_0x51a1b6(0x8cc)+_0x2cb77f+_0x51a1b6(0x537)+_0x4a613d+_0x51a1b6(0x49f)+_0x2cb77f+_0x51a1b6(0x767)+_0x4a613d+'\x22>'+_0xbe6d2d+_0x51a1b6(0x129))[_0x51a1b6(0x8b1)]('');break;}_0x1021e7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1021e7+=_0x45fe1b(0x26c),_0x1021e7+=_0x45fe1b(0x691),studentQuizArea[_0x45fe1b(0x6da)]=_0x1021e7;if(currentMode===_0x45fe1b(0x2c0)){const _0x325b94=document['getElementById'](_0x45fe1b(0x55c));if(_0x325b94)_0x325b94[_0x45fe1b(0x87d)](_0x45fe1b(0x79f),cancelAdminTest);}document[_0x45fe1b(0x1cf)](_0x45fe1b(0x83f))[_0x45fe1b(0x87d)](_0x45fe1b(0x589),handleSubmitQuiz);if(window[_0x45fe1b(0x860)])window[_0x45fe1b(0x860)][_0x45fe1b(0x5bf)]([studentQuizArea]);}function _0x32cc(){const _0x58198c=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','mjx-container','ฟังก์ชันพหุนาม','API\x20call\x20failed\x20with\x20status:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','Error\x20saving\x20quiz:','จำนวนนักเรียน','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','next-question-timed-btn','ไม่พบตารางสำหรับ\x20Export','#FCE7F3','<div\x20class=\x22answer-space\x22></div>','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','getBBox','Error\x20deleting\x20all\x20students:','</p>','การหารเศษส่วน','q-text-','จำนวนคู่:','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','keys','Error\x20starting\x20game:','short','results-tab-content','retake-quiz-loop-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','แบบทดสอบ:\x20','close-lesson-plan-modal-footer-btn','\x20mr-2\x22></i>','Error\x20deleting\x20student:','fas\x20fa-user-edit','.regenerate-question-editor-btn','fa-fire\x20text-orange-500','คะแนน','onload','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','toggle','เกิดข้อผิดพลาดในการบันทึก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','include-images-checkbox','Error\x20creating\x20project:','border-4','editable-text-','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','/public/data/liveGames','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','/public/data/quizzes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','frac','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','Error\x20adding\x20custom\x20topic:','ยืนยันการกระทำ','/preferences/main','เกิดข้อผิดพลาด:\x20','save-project-name-btn','\x20ชุดสำเร็จ!','touchstart','.project-card-content','medium','เซียนสมองไว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','295687YTGXal','parseFromString','setAttributeNS','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','quiz-form','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','text-indigo-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','Enter','การประยุกต์เวกเตอร์พื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','data:application/vnd.ms-word;charset=utf-8,','.delete-svg-btn','results-quiz-id-display','\x0a---\x0a','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','border-gray-200','gain','parent','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','inactive','fixed','mode-switcher-btn','เกิดข้อผิดพลาดในการสร้างห้องเกม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','warn','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','Failed\x20to\x20get\x20hint:','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','\x5ctimes','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','export-pdf-modal','$1_{$2}','MathJax','.quiz-result-card','/submissions','mixed','copy-quiz-id-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','Error\x20resetting\x20project\x20order:','sin','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>','การจัดหมู่\x20(Combination)','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','border-green-500','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','label[for=\x22num-questions\x22]','bulk-loop-until-pass-checkbox','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','enable-passcode-checkbox','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','get','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','fas\x20fa-bookmark','quiz-generation-area','รูปแบบการให้เหตุผล','bank-quiz-list','classWeaknesses','selected-topics-count','addEventListener','string','.start-live-race-btn','Error\x20updating\x20custom\x20topic:','timer-duration-container','เปิดใช้งาน','ความน่าจะเป็นแบบมีเงื่อนไข','querySelector','confirm-admin-login-btn','both','ที่พิมพ์ได้\x20จำนวน\x20','ค่าคลาดเคลื่อนของการวัด','.copy-quiz-id-list-btn','teacherSuggestions','กำลังจับคู่...','copy','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','#FEE2E2','onchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','comparison-individual-tab','right','smooth','rows','bank-tab','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','ทศนิยม\x20(ค่าประจำหลัก)','การบวก','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','bulk-shuffle-select','input[type=\x22checkbox\x22]','เกิดข้อผิดพลาดในการโหลดสถานะ','dimmed','\x20pointer-events-none\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','scheduled_pending','no-projects-msg','^{\x5ccirc}\x5ctext{C}$','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','targetId','lowerGroupResponders','image/png','\x20ครั้ง)</span></td>','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','<h1></h1>','autoTable','checked','join','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','student-progress-content','ระยะทางและจุดกึ่งกลาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','justification','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','option','</tbody></table>','.question-editor-item','text-blue-800','กำลังสร้างรูปภาพ...','dragover','.pin-project-btn','pre-test','tan','#E0E7FF','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','earned-badges-container','results-table-container','สร้างโปรเจคสำเร็จ!','reduce','\x22>จาก:\x20','สมการค่าสัมบูรณ์','.quiz-bank-parallel-btn','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','cancel-quiz-settings-btn','test','sort','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','answeredCurrentQuestion','standard','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','fill_in_with_choices','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','parallel-test-upload-input','NEGATIVE_INFINITY','answer-counter','ไม่พบข้อมูลผู้ใช้','ระบบเลขและค่าประจำหลัก','rgba(16,\x20185,\x20129,\x200.7)','pinnedProjects','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','คณิตการเงิน/บูรณาการ','temp-loader-results','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ความแปรปรวน','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-id-display','explanation','ค.ร.น.\x20(LCM)','currentTarget','timerDuration','ai-quiz-app-aefee.appspot.com','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-shield-alt\x20text-gray-600','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','data','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','empty','จำนวนเต็มบวก','FIRST_TRY_ACE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','PERFECT_SCORE','แบบทดสอบนี้ปิดใช้งานอยู่','แผนภาพกล่อง\x20(box\x20plot)','การแปลงรูปอัตลักษณ์','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','hint-btn',')\x5cb)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','touches','opacity','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','submittedAt','Error\x20saving\x20project\x20order:','quizType','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','สำหรับโปรเจค:\x20','</label>\x0a\x20\x20\x20\x20</div>\x0a','ค่าสัมบูรณ์','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','scheduled','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','ปริมาตร/ความจุและการแปลง','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','modal-results-display-select','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x20จาก\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','fill_in_no_choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','สุดยอด!\x20ตอบถูกทุกข้อ','manage-tab-content','อินเวอร์สของเมทริกซ์','bg-blue-100\x20text-blue-800','สมการยกกำลัง','postTScore','ร้อยละประยุกต์','#student-quiz-leaderboard-content\x20thead','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</option>','passcode','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ศูนย์','_blank','docs','เส้นจำนวน','presentation-modal','latestScore','-tab-content','[data-topic-container-id]','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','artifacts/','สมการตรีโกณมิติ','preTestId','ความสัมพันธ์ของมุม','stringify','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','เกิดข้อผิดพลาดในการจับคู่','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','ระยะเวลา\x20(นาที):','admin-password-input','<div><input\x20type=\x22radio\x22\x20id=\x22q','fill_in_the_blank','หัวข้อที่สร้างเอง','parallel-test-input-area','bg-yellow-50','classStrengths','ไม่พบโปรเจค','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-green-50','\x20รายการ...','min','.parallel-quiz-btn','manage-tab','<p>','\x22><i\x20class=\x22fas\x20','scrollIntoView','.regenerate-question-btn','bottom','ไม่ผ่าน','bg-green-500','project-title','allResponses','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','revealed','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','แบบทดสอบนี้หมดเวลาแล้ว','\x5cle','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','เกิดข้อผิดพลาดในการปักหมุด','(ไม่มีชื่อ)','การบวกทศนิยม','Error\x20fetching\x20quiz\x20status:','results-quiz-title','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','podium','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สี่เหลี่ยม','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','text-red-700\x20bg-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','circ','projectOrder','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','คะแนนเต็ม!','element','ความต่อเนื่อง','filter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','badgesCount','str','top','.quiz-status-btn','show_results_and_answers','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','```json','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','comparison-modal','บันทึกการตั้งค่าสำเร็จ','.pdf','Leaderboard\x20update\x20transaction\x20failed:\x20','points','NUMBER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผู้เชี่ยวชาญ','learningGaps','\x22\x20name=\x22question_single\x22\x20value=\x22','การลบทศนิยม','results_','tfrac','ผู้ไม่ยอมแพ้','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x22.\x20','สร้างแบบทดสอบ','\x0a\x20\x20\x20\x20','\x20ชุด)','OBJECT','analytics','user','left','localeCompare','\x22\x20data-q-type=\x22','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','shuffle-setting-select','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-compact-pdf-btn','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','auto-fix-latex-btn','move-quiz-modal','leaderboard','เกิดข้อผิดพลาดในการเปลี่ยนสี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ai-quiz-app-aefee','requestFullscreen','กราฟฟังก์ชันตรีโกณ','push','body','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','text/csv;charset=utf-8;','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','[contenteditable=\x22true\x22]','after','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สู้ๆ\x20ลองอีกครั้งนะ','startedAt','result','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','getElementById','Error\x20fetching\x20student\x20rankings:','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','bg-red-50','เปิด\x20(จับเวลา)','display','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20เพื่อสร้างชุดคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','ปริพันธ์ไม่จำกัด','ปิดใช้งาน','includes','screen','back-from-results-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','ไม่พบข้อมูลแบบทดสอบ','แผนการสอน','ตรวจทานเฉลยเสร็จสิ้น!','</li>','#view-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','progress-project-select','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-mode-select','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','outerHTML','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','jspdf','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','schedule','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','verify-answers-btn','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','Failed\x20to\x20parse\x20JSON\x20from\x20AI','move-quiz-project-select','.delete-submission-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-game-view','scrollX','next-live-question-btn','เกิดข้อผิดพลาดในการบันทึกลำดับ','message-modal','<p\x20class=\x22','q-image-container-','ตารางความถี่','admin-action-buttons','button','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','latestSubmittedAt','multiple_choice','ควรปรับปรุง','bg-white/30','shuffleSetting','โดเมนและเรนจ์','20uMkBUs','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','deselect-all-topics-btn','correctAnswerIndex','ไฮเพอร์โบลา','presentation-short-answer-input','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','dataset','จำนวนและการดำเนินการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','หมดเวลาสำหรับข้อนี้!','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','worksheet-input-area','แบบเติมคำตอบ','mousedown','ผ่านฉลุย','Error\x20saving\x20settings:','keydown','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','div[data-question-index=\x22','Firebase\x20initialization\x20failed:','passcode-prompt-message','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','doughnut','text-white','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','Copy\x20command\x20failed','/users/','\x5c\x5c\x5c\x5c(?=(','คะแนนเฉลี่ย','กำลังอัปเดตแบบทดสอบ\x20','editor-quiz-topic','<div\x20id=\x22q-image-container-','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','Error\x20processing\x20file\x20for\x20AI:','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','font-bold','กรุณาเลือกโปรเจคที่ต้องการบันทึก','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','appendChild','font-bold\x20text-red-700\x20line-through','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','times','ค่าเฉลี่ย','.project-card-container','แก้ไขข้อนี้','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','.delete-student-btn','N/A','add','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','hasOwnProperty','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','list','</tbody></table></div>','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','Error\x20comparing\x20results:','student-initial-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','has','คณิตศาสตร์','.save-custom-topic-btn','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','ไม่มีคำอธิบาย','category','</th>','promise','getDocument','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','#DBEAFE','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','ลบหัวข้อสำเร็จ','opacity-50','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per_question','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','ไม่ใช่','ส่วนเบี่ยงเบนมาตรฐาน','rename-quiz-modal','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','<span\x20class=\x22font-bold\x20','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','export-leaderboard-pdf-btn','touchmove','ดอกเบี้ยทบต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','show_pass_fail_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','Error\x20fetching\x20project\x20quizzes:','readAsDataURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','ดอกเบี้ยอย่างง่าย','<br>','text-green-700\x20bg-green-100','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','text-indigo-600','text-yellow-800','replace','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','บันทึกแบบทดสอบสำเร็จแล้ว!','$1^{$2}','ตรวจคะแนนใหม่\x20','quiz-leaderboard-table-container','toString','<span\x20class=\x22sort-indicator\x20ml-2\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','/studentProfiles','uid','\x5cdiv','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','อัตราและอัตราหน่วย','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','true_false','setAttribute','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','ref','score','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดตสถานะ','round','asc','toFixed','อสมการค่าสัมบูรณ์','label','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','nickname-input','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-start-time','active','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','#E5E7EB','slice','originalQuestionText','question-analytics-container','blueprint-input-area','preScore','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','text-input-area','ฮิสโตแกรม','exists','forEach','createdAt','pow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','.png','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','answering','54jgTCxK','Error\x20generating\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','พิสัย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อต่อไป','/public/data/practiceBank','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','confirm-quiz-status-btn','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','.toggle-actions-btn','Error\x20saving\x20visibility\x20settings:','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','create-from-bank-btn','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','admin-try-quiz-btn','admin-testing','difficulty-level-select','prod','find','innerText','force-math-checkbox','quiz-settings-modal','player-list-lobby','พื้นที่ใต้กราฟ/ระหว่างกราฟ','dataIndex','PERSEVERANCE','ฟังก์ชันกำลังสองและกราฟ','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','lesson-plan-title','blueprint-tab','loop-until-pass-checkbox','quiz-results-view','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','POST','การลบเศษส่วน','#math-topics-checkbox-container\x20input:checked','standardTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','stem','matching','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20showing\x20quiz\x20detail\x20view:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','all','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','stopPropagation','ตอบถูกทุกข้อในแบบทดสอบนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','classList','dashboardConfig','now','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','questions','getBoundingClientRect','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','countdown-display','COMEBACK_KING','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submission','สมการราก\x20(radical)','.delete-project-btn','\x22>ใช่</p>','bulk-quiz-settings-modal','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','Error\x20toggling\x20star\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','save-quiz-edits-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','default','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','text-red-500\x20hover:text-red-700','correctStreak','cancel-quiz-bank-btn','สรุปผลการวิเคราะห์:\x5cn','application/json','bank-input-area','</strong></p>','destroy','katex','clientX','quiz-id-input','ไม่พบข้อมูลการจับคู่','pointsLastQuestion','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','confirm-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</span>','.project-card-container.opacity-50','\x20คู่\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','bestScore','webkitRequestFullscreen','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','.group','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','quiz-schedule-end-container','first_try_ace','lobby','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','เกิดข้อผิดพลาดในการลบหัวข้อ','cancel-quiz-status-btn','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','disabled','name_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20sort\x20preference:','answers','Error\x20duplicating\x20quiz:','อัตราการเปลี่ยนแปลงทันที','split','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','timerMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบผลสอบ','จำนวนเต็มลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','input','.compare-results-btn','move','leaderboard-table-body','project-sort-select','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','<li>','actions-container-','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','set','.ideal-answer-input','<option>กำลังโหลดโปรเจค...</option>','passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeChild','กรุณาใส่ชื่อใหม่','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confirm-rename-quiz-btn','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','การลบ','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','</span></p>','undefined','add-custom-math-topic-btn','.start-presentation-list-btn','indexOf','ring-purple-400','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','topic-input-area','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','\x22\x20class=\x22color-palette-btn\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','ดูสรุปผล','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','bg-green-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','textarea','pairedQuizId','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','analyze-strengths-btn','leaderboard_','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','เกิดข้อผิดพลาดในการสร้างใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','timestamp','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','match','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','contains','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','modal-loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.save-to-bank-btn','icon','export-excel-btn','hidden','getAttributeNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','fullscreenchange','input[name=\x22status-option\x22]:checked','questionId','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','$1\x5ctimes','onclick','<div\x20class=\x22space-y-4\x22>','players.','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<li\x20class=\x22','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','password-error-msg','ไม่สามารถเพิ่มนักเรียนได้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','\x22\x20data-name=\x22','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','(คัดลอก)\x20','mean','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','showInStudentDashboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','พีชคณิตและฟังก์ชัน','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','.delete-custom-topic-btn','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','hint','วงกลม:\x20คอร์ดและเส้นสัมผัส','.admin-try-quiz-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','draggable-text','ARRAY','quiz-status-options','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เรขาคณิตวิเคราะห์','pre-test-checkbox','.color-palette-popup','\x5cs*\x5c(','focus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-search-input','mousemove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','input[type=\x22checkbox\x22]:checked','timer-duration-input','ส่งคำตอบ','submissions','file-input-area','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','commit','quiz-schedule-start-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pair-quiz-btn','text-gray-500','slide-counter','\x22.\x20Ideal\x20Answer:\x20\x22','$1^{\x5ccirc}\x5ctext{C}','entries','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','confirm-delete-btn','ทำคะแนนได้เกินครึ่ง','G-V90KRM0L63','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','exitFullscreen','Error\x20starting\x20live\x20race:','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','Error\x20joining\x20live\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','none','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','comparison','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','load-quiz-btn','fas\x20fa-star\x20text-yellow-500','685380aIEGlz','results','ฟังก์ชันแบบชิ้นส่วน','Error\x20updating\x20pin\x20status:','\x20ข้อ\x20','lower_group_count','solution','/public/data/projects/','setFont','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','อัปเดตสถานะสำเร็จ','showImproveButton','text-content-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20(p=','.quiz-bank-present-btn','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','text-red-700','style','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','Error\x20regenerating\x20question\x20in\x20editor:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentQuestionIndex','ความชันเส้นสัมผัส','2-digit','\x22\x20name=\x22drill_answer\x22\x20value=\x22','perfect_score','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','generate-from-link-btn','open','ชนิดของข้อมูลและการเก็บข้อมูล','การสร้างรูปด้วยวงเวียน–สันตรง','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','strength-weakness-analysis-container','select','grid-view-btn','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','</h3>','student-quiz-leaderboard-table-body','Error\x20updating\x20quiz\x20status:','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','กรุณาใส่ชื่อนักเรียน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','visibilitychange','ราชาคัมแบ็ก','bg-blue-100','ยอดเยี่ยม','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','perfect_score_status','บันทึกการแก้ไข','การกระจายและการจัดหมู่','ไม่สามารถบันทึกการตั้งค่าได้','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show_results_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','auto','project-passcode-input','\x20ตัวเลือก.\x20','math-topic-search-input','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','text-green-600','text-gray-200','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','Invalid\x20response\x20structure\x20from\x20AI:','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','quiz-bank-count','values','ไม่มี','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','Error\x20listening\x20for\x20student\x20profiles:','from','เกิดข้อผิดพลาดในการลบนักเรียน','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','(เลือกแล้ว\x20','finishReason','ไม่ได้ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','approx','keyup','รูปสแควร์รูท\x20(surd)','reset-project-order-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reveal-answer-btn','</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x20รายการสำเร็จ!','font-bold\x20text-green-700','imageCode','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','fill','วงกลม:\x20สมการและสมบัติ','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','release','Failed\x20to\x20create\x20initial\x20submission\x20record:','bg-red-100','[data-is-correct=\x22true\x22]','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','.delete-quiz-btn','msRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-input','$1^{\x5ccirc}','สร้างชุดคำถามจับคู่','\x22\x5cn','length','studentName','รีเซ็ตลำดับโปรเจคแล้ว','cancel-admin-login-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-visibility-settings-btn','removeAttribute','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','quiz-results','.verification-result-editor','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','student-join-game-view','input[type=\x22radio\x22]:checked','post-test','line-through\x20text-red-700','ย้ายแบบทดสอบสำเร็จ','border-red-300\x20bg-red-50','การแจกแจงทวินาม\x20(พื้นฐาน)','สร้างคำถามแบบเติมคำในช่องว่าง','สลับไปโหมดผู้ควบคุม','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','teachingContent','total','postScore','thead','Error\x20pairing\x20quizzes:','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','ร้อยละพื้นฐาน','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','จุด\x20เส้น\x20ระนาบ','จำนวนเชิงซ้อน\x20(เสริม)','name_asc','matching_item','ฟังก์ชันค่าสัมบูรณ์','องค์ประกอบของฟังก์ชัน','ตรีโกณมิติ','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','bar','modal-shuffle-select','cos','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','getItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','check-answer-btn','index','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','cancel-move-quiz-btn','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-blue-700','ระยะเวลา\x20(วินาที):','ลิมิต','num-choices','รูปสี่เหลี่ยมและสมบัติ','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','Error\x20saving\x20quiz\x20edits:','per-q-countdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20from\x20blueprint:','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','ปรับเพิ่ม/ลดเป็นร้อยละ','project-dashboard-view','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','Error\x20generating\x20from\x20link:','.quiz-bank-delete-btn','clientY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20submission:','อนุพันธ์:\x20กฎพื้นฐาน','\x20ช่อง','/questionBank','<i\x20class=\x22fas\x20fa-pen\x22></i>','mouseup','generate-from-text-btn','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','save-quiz-btn','function','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตั้งเวลา\x20(เปิด)','ผลรวมอนุกรม\x20(Σ)','#10B981','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','stdDev','ทฤษฎีบทพีทาโกรัสและการประยุกต์','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','color','<div\x20class=\x22flex-1\x22></div>','manage','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','ไม่สามารถเริ่มเกมได้','.edit-custom-topic-btn','remove','div','รากที่สองและที่สาม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectId','1012OxOrdz','global-live-game-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกสถานะ','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','กรุณาป้อนรหัสแบบทดสอบ','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','คัดลอกไม่สำเร็จ','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','กำลังสแกนหาแบบทดสอบเก่า...','helvetica','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dfrac','เมทริกซ์:\x20บวก/คูณ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.unpair-quiz-btn','generated-quiz-actions','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','project-detail-view','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำตอบถูกต้อง!\x20+','ปริมาตรรูปทรงสามมิติ','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','type','\x22>ไม่ใช่</p>','input[name=\x22question_single\x22]:checked','check-presentation-answer-btn','text-purple-600','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','แคลคูลัสเบื้องต้น','\x20mb-2\x22>','print','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','Error\x20updating\x20project\x20name:','การเรียงสับเปลี่ยน\x20(Permutation)','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','close-comparison-modal-footer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','อัปเดตพฤติกรรมสำหรับ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','msExitFullscreen','confirm-passcode-btn','.choice-text','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','files','เกิดข้อผิดพลาดในการโหลดโปรเจค','(ก่อนเรียน)','leaderboard-tab-content','map','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','blueprint-upload-input','\x20คนที่ส่ง\x20ตอบถูก\x20(','BOOLEAN','grid','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','กำลังสร้างแบบทดสอบจากหัวข้อ...','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','#student-project-leaderboard-content\x20thead','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การคูณทศนิยม','admin-password-modal','quiz','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','<div\x20class=\x22loader\x20mx-auto\x22></div>','ย้ายแบบทดสอบไปโปรเจคอื่น','ลบโปรเจคสำเร็จแล้ว','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20-\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','questionIndex','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','comparison-overall-tab','<textarea\x20name=\x22question','.presentation-option','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','isStarred','dispatchEvent','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','ฟังก์ชันสัมพัทธ์\x20(rational)','#F59E0B','.topic-actions-edit','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','presentation-explanation','live-submit-short-answer-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','projectView','_opt1\x22>ไม่ใช่</label></div>','back-to-results-btn','กำลังสร้างแบบทดสอบคู่ขนาน...','<p><strong>คำตอบที่แนะนำ:</strong>\x20','</p><div>','delete-svg-btn','gamePin','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','Error\x20updating\x20project\x20color:','thead\x20.sortable-header',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','quizId','cursor','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','<div\x20class=\x22my-6\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','loader','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','code','half_mark_status','max','ไม่พบแบบทดสอบสำหรับรหัสนี้','.doc','results-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-plan-content','คำถามดิบ:\x20\x22','Error\x20generating\x20parallel\x20test\x20from\x20bank:','เกิดข้อผิดพลาดในการอ่านไฟล์','.cancel-edit-topic-btn','lesson-plan-modal','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','</span></div>','touchcancel','rename-quiz-input','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','Error\x20verifying\x20answers:','substring','isPasscodeEnabled','STRING','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน่วยมวล/น้ำหนักและการแปลง','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','เกี่ยวกับหัวข้อ\x20\x22','contentEditable','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','underline','การแยกตัวประกอบ','lastAnswerCorrect','request','textContent','student-rankings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submission-status-chart','student-reading-area','quiz-leaderboard-table','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','student-name-selection-view','ยืนยันการจับคู่','\x22\x20value=\x22','พื้นที่วงกลม/ส่วนของวงกลม','authed_project_','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','confirmation-message','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','suggestedAnswer','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','far\x20fa-star','toLocaleString','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','badges','กรุณาป้อนหัวข้อสำหรับใบงาน','score-distribution-chart','.pointsLastQuestion','กรุณาเลือกคำตอบก่อนครับ','end-game-btn','student-quiz-leaderboard-tab','modal-message','presentation-slide-container','generate-from-parallel-test-btn','sum','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','.live-answer-btn,\x20#live-submit-short-answer-btn','มุมพิเศษ\x2045°-45°-90°','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-move-quiz-btn','back-to-project-btn','GlobalWorkerOptions','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','border-green-700','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','analytics-tab-btn','interesting-stats-container','projectName','\x22\x20value=\x22true\x22\x20','cancel-test-btn','getPage','desc','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','.quiz-bank-move-btn','generate-from-file-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','td,\x20th','สร้างคำถามแบบใช่/ไม่ใช่','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','ชื่อหัวข้อห้ามว่าง','btn','th-TH','ข้อที่\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลำดับเลขคณิต\x20(AP)','สัญกรณ์วิทยาศาสตร์','promptFeedback','toLowerCase','text-tab','.score','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','.verification-result','progress-student-select','project-list','/public/data/quizzes/','beforeend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','quiz-editor-modal','.lastAnswerCorrect','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Invalid\x20response\x20structure\x20from\x20AI.','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','position','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','เกิดข้อผิดพลาดในการลบโปรเจค','หน่วยเวลาและการคำนวณเวลา','อัตราส่วนและสัดส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','#results-table','behaviorLog','_opt1\x22\x20name=\x22question','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','submit','#FFFFFF','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','global-quiz-search-input','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x20mx-1\x20text-lg\x22></i></span>','กำลังวิเคราะห์ข้อสอบ\x20\x22','reference-pdf-upload','href','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','.topic-name-input','change','\x5cfrac{','size','trim','จับคู่เพื่อเปรียบเทียบผล','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','verify-answers-editor-btn','message','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','player-count','.topic-row','Failed\x20to\x20get\x20standardized\x20topic:','questionText','แผนการสอน:\x20','input[type=\x22text\x22]','คำถามถัดไป','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','#per-question-options\x20select','ส่วนเบี่ยงเบนเฉลี่ย','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','Original\x20quiz\x20not\x20found','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการเชิงเส้นตัวแปรเดียว','webkitExitFullscreen','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','คะแนนยังไม่ถึงครึ่ง','เลือกและบันทึก','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','8053392tkBzga','\x22\x20value=\x22false\x22\x20','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isAdaptive','กฎบวกและกฎคูณ','rgba(79,\x2070,\x20229,\x200.8)','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x20คะแนน','text-red-300\x20hover:text-red-100','.answeredCurrentQuestion','เปลี่ยนชื่อโปรเจคสำเร็จ','typesetPromise','กำลังสร้างคำถามข้อ\x20','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','student-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#results-table\x20thead\x20tr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','confirm-global-live-btn','จากเนื้อหาต่อไปนี้:\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-tab','correct','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createElement','/public/data/projects','short_answer','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','parts','.answer-text','download','write','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สถิติและความน่าจะเป็น','closest','student-project-leaderboard-tab','ชื่อโปรเจคห้ามว่าง','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้ของเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนดสำคัญ:\x20สำหรับแต่ละข้อที่สร้าง\x20จะต้องมีข้อมูลต่อไปนี้ให้ครบถ้วนเสมอ:\x20questionText\x20(สำหรับโจทย์),\x20questionType,\x20options\x20(กรณีปรนัย),\x20correctAnswerIndex\x20(กรณีปรนัย),\x20idealAnswer\x20(กรณีเติมคำ),\x20และ\x20explanation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','-tab','Error\x20renaming\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','fa-pen','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','project-quizzes-list','ทฤษฎีทวินาม\x20(เบื้องต้น)','scores-tab-btn','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','createObjectURL','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','quick_thinker','overallGroups','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','ดอทโปรดักต์\x20(dot)','starred','rgba(79,\x2070,\x20229,\x201)','confirm-join-game-btn','specialist','value','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','การหารทศนิยม','offsetWidth','totalPoints','passcode-input-container','bg-red-100\x20text-red-800','ไม่พบแบบทดสอบ','next-question-btn','ไม่พบแบบทดสอบในระบบเลย','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','screen_exit','<div\x20class=\x22my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','pinned-items','toDataURL','practice-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ทฤษฎีบทพื้นฐานของแคลคูลัส','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','endTime','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','Error\x20generating\x20parallel\x20post-test:','resultsDisplay','delete-all-students-btn','\x22\x20class=\x22pin-project-btn\x20','generate-from-topic-btn','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','.quiz-bank-item','สเกลและแผนที่','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','some','quiz-editor-questions-container','start-live-race-generated-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','candidates','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','q-explanation-','ON_FIRE','\x5cpm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','per-question-timer-container','quiz-end-time','<tr><td\x20colspan=\x22','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','isCorrect','questionDisplayedAt','findIndex','$1\x5ctext(','ดีเทอร์มิแนนต์','กรุณาเลือกโปรเจคปลายทาง','เส้นรอบรูป','answer-grid-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','<option\x20value=\x22\x22>กำลังโหลด...</option>','หน่วยความยาวและการแปลง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','เกิดข้อผิดพลาดในการเข้าร่วมเกม','on_fire','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','ownerSVGElement','ยังไม่เต็มนะ','json','https://corsproxy.io/?','isLooping','upperGroupNames','text-gray-300\x20hover:text-white','generated-quiz-container','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','แก้ระบบสมการด้วยเมทริกซ์','คำเตือน\x20(','leaderboard-quiz-tab-btn','เงินงวด\x20(อนุกรมเงินงวด)','start-presentation-btn','startTime','lowerGroupNames','analytics-summary-cards','input[name=\x22drill_answer\x22]:checked','\x5cfrac{$1}{$2}','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','quizMode','link-url-input','Error\x20saving\x20questions\x20to\x20practice\x20bank:','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','ยืนยันและอัปเดตทั้งหมด','2sNNXZt','พิมพ์ตอบ','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','manual_release','mouseleave','update-old-quizzes-btn','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','Error\x20adding\x20students:','admin-dashboard','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','width','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','globalSettings','border-green-300\x20bg-green-50','1509915pDnufQ','comparison-overall-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','repeat','ความคาดหมาย\x20(Expected\x20value)','firstScore','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','then','update','รูปหลายเหลี่ยมและมุมภายใน','ลบผลสอบของ\x20','red','เวกเตอร์และเมทริกซ์\x20(เสริม)','upperGroupResponders','export-leaderboard-word-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','visible','แบบปรนัย\x204\x20ตัวเลือก','Error\x20listening\x20for\x20starred\x20quizzes:','execCommand','log','fa-dumbbell\x20text-gray-700','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','toLocaleDateString','scrollY','confirm-create-project-btn','sqrt','Error\x20updating\x20quiz\x20settings:','(ก่อนเรียน)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','isRemedial','overline','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','title','\x22...','border-red-700','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','attempts','close-lesson-plan-modal-btn','สลับไปโหมดนักเรียน','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</form>','name','ใช่','math-topics-checkbox-container','.quiz-settings-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','svg','fromCharCode','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เรขาคณิต','confirm-bulk-quiz-settings-btn','ผู้ควบคุม\x20(ทดสอบ)','1549090nYanii','<div\x20class=\x22mb-3\x20topic-category\x22>','class','.question-editor-item[data-q-index=\x22','\x5cge','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','preventDefault','Error\x20fetching\x20projects\x20for\x20move:','Error\x20verifying\x20answers\x20in\x20editor:','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','num-questions','document','ไม่พบข้อมูลข้อสอบหลังเรียน','.quiz-bank-try-btn','bg-green-100\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','<p><strong>คำตอบของคุณ:</strong>\x20','.duplicate-quiz-btn','สร้างแบบทดสอบปรนัย','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-name-display','idealAnswer','flex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','afterend','settings','results-display-select','setItem','_opt0\x22\x20name=\x22question','กรุณาเลือกไฟล์ก่อน','getScreenCTM','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','parse','drill-feedback','shuffle','correctAnswer','bg-green-200\x20text-green-800','\x20/\x20','close-presentation-btn','practiceProblems','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','student-progress-view','target','per-question-options','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การบวกเศษส่วน','list-view-btn','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','touchend','_opt0\x22>ใช่</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','close-student-rankings-btn','.topic-actions-view','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','button[data-id]','back-to-home-manual-release','ไม่สามารถโหลดรายการโปรเจคได้','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','bg-purple-50','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','innerHTML','generate-worksheet-btn','ฟังก์ชันราก\x20(root)','</div><div\x20class=\x22space-y-2\x22>','เกิดข้อผิดพลาดในการอัปเดต:\x20','.export-pdf-list-btn','quiz-bank-modal','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','modal-timer-duration-input','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','274192258111','add-student-btn','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','เกิดข้อผิดพลาดในการลบแบบทดสอบ','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','text','ai-quiz-app-aefee.firebaseapp.com','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','http://www.w3.org/2000/svg','loopUntilPass','confirmation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','close-comparison-modal-btn','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','-\x20ข้อ\x20','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','ตัวแปรและนิพจน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','#FEF3C7','00:00','บันทึกการตั้งค่าการแสดงผลสำเร็จ','(หลังเรียน)\x20','.topic-category','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','passingScore','Error\x20loading\x20quiz\x20for\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','drop','มัธยฐาน','Remedial\x20quiz\x20generation\x20failed:','\x22\x20class=\x22delete-project-btn\x20','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','admin','\x5csum','status','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-topic=\x22','contents','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','normal','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วงรี','starred-project','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-quiz-id=\x22','delete','แบบทดสอบที่ติดดาว','text-emerald-900','questionStatus','export-leaderboard-excel-btn','\x22\x20สำเร็จ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','qType','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','\x5ccdot','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','padStart','question','scores-tab-content','interesting-stats-wrapper','border-indigo-400\x20ring-2\x20ring-indigo-200','{$1}','create-project-modal','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','ไม่สามารถสร้างโปรเจคได้','ข้อ\x20','create-project-btn','startsWith','height','className','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','export-image-btn','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','insertAdjacentHTML','Error\x20updating\x20old\x20quizzes:','timer-mode-select','cancel-global-live-btn','1915503WsUVxi','กรุณาใส่ชื่อโปรเจค','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','Error\x20rendering\x20student\x20progress:','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','ย้าย','.project-card-container[data-id]','binom','catch','wakeLock','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Error\x20saving\x20user\x20preference:','upper_group_count','Error\x20deleting\x20custom\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></td>','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','fullscreenElement','modal-timer-duration-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','toISOString','text-emerald-800','Error\x20deleting\x20submission:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','perseverance','\x5ctext{$1}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','Error\x20deleting\x20project:','answer','show-in-student-dashboard-checkbox','student-list','สมการเหตุผล\x20(rational)','whole_quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log-tab-btn','removeEventListener','perQuestionStats','Error\x20loading\x20user\x20preferences:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยกเลิกการจับคู่สำเร็จ','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','_opt','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','true','correctResponse','custom-math-topic-input','visibilityState','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','loader-text','สามเหลี่ยม\x20(ชนิด/สมบัติ)','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','totalQuestions','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','comparison-individual-content','close-game-final-btn','124944FrRXKZ','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(^|[^\x5c\x5c])\x5cb','120YXqFbw','getContext','$1\x20\x5cfrac','options','การนับ','text-gray-100','raw','.sort-indicator','Error\x20displaying\x20question\x20bank:','student-quiz-area','text-gray-400\x20hover:text-indigo-600','bank-quiz-search-input','student-name-select','close','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','link-topic-input','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','cancel-create-project-btn','text-green-600\x20font-bold','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5cfrac','</p></div>','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','save','flex\x20flex-col\x20gap-2','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อุณหภูมิและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ลำดับการดำเนินการ\x20(PEMDAS)','ความคล้ายของรูป','student-quiz-topic','ส่งแล้ว','ผ่าน','click','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','modal-passing-score-input','dragstart','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','projectSortOrder','circle','date_asc','[role=\x22textbox\x22]','ดีมาก','topic','querySelectorAll','bulk-quiz-settings-btn','พื้นที่สามเหลี่ยม','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/customMathTopics','ai-quiz-generator-v3','การวัด','รอเปิด','ระบบสมการเชิงเส้นสองตัวแปร','student','onerror','text-red-600','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tGain','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20moving\x20quiz:','เศษส่วน\x20(ย่อ/ขยาย)','students','export-word-btn','random','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','หมดเวลา!\x20กำลังส่งคำตอบ...','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','numeric','ห.ร.ม.\x20(GCD)','projectSort','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','ฟังก์ชันลอการิทึม','isPinned','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','generate-from-blueprint-btn','.generate-post-test-btn','description','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','คำตอบผิด','getTextContent','quiz-type-select','results-table','isArray','</p><p><strong>เฉลย:</strong>\x20','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','players','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','answerText','ยอดเยี่ยม!','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','questionType','อนุพันธ์:\x20กฎลูกโซ่','behavior-log','link-input-area','ยังไม่มีนักเรียนส่งงาน','modal-adaptive-quiz-checkbox','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.csv','Error\x20fetching\x20quiz\x20settings:','back-to-dashboard-btn','content','ค่าความจริง/ตารางค่าความจริง','analytics-tab-content','project-detail','ring-2','#per-question-options\x20textarea','fa-rocket\x20text-purple-500','lessonPlan','cancel-bulk-quiz-settings-btn'];_0x32cc=function(){return _0x58198c;};return _0x32cc();}async function handleSubmitQuiz(_0x506300){const _0xf92ee1=_0x3fc9b3;if(_0x506300)_0x506300[_0xf92ee1(0x6a4)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x124632=document['getElementById']('quiz-form');if(!_0x124632)return;const _0x2fac4b=_0x124632['querySelector']('button[type=\x22submit\x22]'),_0x3638b7=currentDisplayedQuiz[_0xf92ee1(0x2eb)][_0xf92ee1(0x616)](_0xad69ee=>_0xad69ee[_0xf92ee1(0x7e0)]===_0xf92ee1(0x5cf));_0x2fac4b&&(_0x2fac4b[_0xf92ee1(0x323)]=!![],_0x3638b7?_0x2fac4b['innerHTML']=_0xf92ee1(0x2b9):_0x2fac4b[_0xf92ee1(0x6da)]=_0xf92ee1(0x279));const _0x287a8b=new FormData(_0x124632),_0x31c05d=currentDisplayedQuiz['questions'][_0xf92ee1(0x4cc)]((_0xa6e383,_0x4f69a7)=>{const _0x12868e=_0xf92ee1,_0x4caab1=_0xa6e383[_0x12868e(0x7e0)]||currentDisplayedQuiz[_0x12868e(0x126)],_0x3d7dde=_0x287a8b[_0x12868e(0x875)]('question'+_0x4f69a7);if(_0x3d7dde!==null&&_0x3d7dde!==undefined){if(_0x4caab1==='multiple_choice'||_0x4caab1===_0x12868e(0x159))return parseInt(_0x3d7dde);return _0x3d7dde;}return null;}),_0x23add2=currentQuizData['id'],_0x4f7321=doc(db,_0xf92ee1(0x14c)+appId+'/public/data/quizzes/'+_0x23add2+_0xf92ee1(0x862),currentStudentName),_0x1f2394=await getDoc(_0x4f7321),_0x44aa50=_0x1f2394[_0xf92ee1(0x2a4)]()?_0x1f2394[_0xf92ee1(0x112)]():{},_0x570ec9=_0x44aa50[_0xf92ee1(0x68c)]||[];await processAndSubmitAnswers(_0x31c05d,_0x570ec9);}async function gradeShortAnswerWithAI(_0x60e85d,_0x1dc3d8){const _0x4eb54f=_0x3fc9b3;if(!_0x60e85d||!_0x1dc3d8)return![];try{const _0x3d7e64=_0x4eb54f(0x101)+_0x60e85d+_0x4eb54f(0x3ac)+_0x1dc3d8+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x495fbf={'contents':[{'role':_0x4eb54f(0x1b1),'parts':[{'text':_0x3d7e64}]}]},_0x31752a=_0x4eb54f(0x5de),_0x5e38a0=_0x4eb54f(0x318)+_0x31752a,_0x106d2b=await fetch(_0x5e38a0,{'method':_0x4eb54f(0x2d2),'headers':{'Content-Type':_0x4eb54f(0x304)},'body':JSON['stringify'](_0x495fbf)});if(!_0x106d2b['ok'])throw new Error('API\x20call\x20failed');const _0xcf8ac7=await _0x106d2b['json'](),_0x4ad7b1=_0xcf8ac7[_0x4eb54f(0x61b)][0x0][_0x4eb54f(0x7eb)][_0x4eb54f(0x5d2)][0x0][_0x4eb54f(0x6ea)][_0x4eb54f(0x598)]()['toLowerCase']();return _0x4ad7b1===_0x4eb54f(0x769);}catch(_0x3617b2){return console[_0x4eb54f(0x105)]('AI\x20grading\x20failed:',_0x3617b2),![];}}async function processAndSubmitAnswers(_0x3da348,_0x394698){const _0x20274f=_0x3fc9b3;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x20274f(0x760)](_0x20274f(0x372),handleFullscreenChange),document[_0x20274f(0x760)](_0x20274f(0x3ef),handleVisibilityChange);let _0x1c8599=0x0,_0x3297a7=0x0,_0x102ba6=[];const _0x1820a4=[],_0x3ec200=currentDisplayedQuiz['questions']['length'];let _0x5b64dd=0x0;const _0x3ca246=currentDisplayedQuiz['questions'];for(let _0x34121e=0x0;_0x34121e<_0x3ca246[_0x20274f(0x431)];_0x34121e++){const _0xe5173d=_0x3ca246[_0x34121e],_0x3b60dd=_0x3da348[_0x34121e],_0x4ec145=_0xe5173d[_0x20274f(0x7e0)]||currentDisplayedQuiz[_0x20274f(0x126)];let _0x242d88=![];if(_0x3b60dd!==null&&_0x3b60dd!=='')switch(_0x4ec145){case'matching_item':_0x242d88=_0x3b60dd===_0xe5173d[_0x20274f(0x76a)];break;case _0x20274f(0x288):const _0x43ef22=_0x3b60dd===!![]||_0x3b60dd===_0x20274f(0x769);_0x242d88=_0x43ef22===_0xe5173d['correctAnswer'];break;case _0x20274f(0x159):case _0x20274f(0x207):default:_0x242d88=Number(_0x3b60dd)===_0xe5173d['correctAnswerIndex'];break;case _0x20274f(0x5cf):_0x242d88=await gradeShortAnswer(_0x3b60dd,_0xe5173d);break;}_0x242d88?(_0x1c8599++,_0x5b64dd++,_0x5b64dd===0x3&&(_0x102ba6[_0x20274f(0x1c2)](BADGES[_0x20274f(0x61e)]['id']),_0x5b64dd=0x0)):_0x5b64dd=0x0;let _0x1fe57a=null;_0xe5173d[_0x20274f(0x77d)]&&_0x3b60dd!==null&&(_0x1fe57a=_0xe5173d[_0x20274f(0x77d)][_0x3b60dd]),_0x1820a4[_0x20274f(0x1c2)]({'questionId':_0xe5173d['id'],'answer':_0x3b60dd,'answerText':_0x1fe57a,'isCorrect':_0x242d88,'originalQuestionText':_0xe5173d[_0x20274f(0x2d7)]||_0xe5173d['questionText']});}_0x3297a7=_0x1c8599*0xa;_0x1c8599===_0x3ec200&&_0x3ec200>0x0&&!currentDisplayedQuiz[_0x20274f(0x685)]&&(_0x3297a7+=0x32,_0x102ba6[_0x20274f(0x1c2)](BADGES[_0x20274f(0x118)]['id']));const _0x6cd6f5=currentDisplayedQuiz[_0x20274f(0x6b7)]?.['passingScore']??Math[_0x20274f(0x802)](_0x3ec200/0x2),_0x49cc8b=currentDisplayedQuiz['settings']?.['timerMode'];if(_0x49cc8b==='whole_quiz'&&quizStartTime){const _0x420710=(new Date()-quizStartTime)/0x3e8,_0x113e63=currentDisplayedQuiz[_0x20274f(0x6b7)]['timerDuration']*0x3c;_0x1c8599>=_0x6cd6f5&&_0x420710<_0x113e63/0x2&&(_0x3297a7+=0x14,_0x102ba6['push'](BADGES['QUICK_THINKER']['id']));}_0x394698[_0x20274f(0x431)]===0x0&&_0x1c8599===_0x3ec200&&_0x3ec200>0x0&&_0x102ba6[_0x20274f(0x1c2)](BADGES[_0x20274f(0x116)]['id']);if(_0x394698[_0x20274f(0x431)]>0x0){const _0x296476=_0x394698[0x0][_0x20274f(0x28c)];if(_0x296476<_0x6cd6f5&&_0x1c8599>=_0x6cd6f5){const _0x36dad1=_0x394698['some'](_0x2232dd=>(_0x2232dd[_0x20274f(0x543)]||[])['includes'](BADGES[_0x20274f(0x2ef)]['id']));!_0x36dad1&&_0x102ba6['push'](BADGES[_0x20274f(0x2ef)]['id']);}}_0x394698[_0x20274f(0x431)]===0x4&&_0x102ba6['push'](BADGES[_0x20274f(0x2ca)]['id']);const _0xa4451a=currentDisplayedQuiz[_0x20274f(0x6b7)][_0x20274f(0x60e)];if(currentMode===_0x20274f(0x2c0)){handleResultDisplay(_0xa4451a,_0x1c8599,_0x3297a7,_0x102ba6,_0x1820a4,_0x3ec200);return;}const _0x3de99b=currentQuizData['id'],_0x2f7a89=doc(db,_0x20274f(0x14c)+appId+_0x20274f(0x576)+_0x3de99b+_0x20274f(0x862),currentStudentName);try{const _0x1cbc5d=[..._0x394698],_0x1197fd={'score':_0x1c8599,'points':_0x3297a7,'badges':_0x102ba6,'submittedAt':new Date()['toISOString'](),'answers':_0x1820a4};_0x1cbc5d[_0x20274f(0x1c2)](_0x1197fd);const _0x45adb4=_0x1cbc5d[0x0][_0x20274f(0x28c)],_0x455220=Math[_0x20274f(0x50c)](..._0x1cbc5d[_0x20274f(0x4cc)](_0x37c73d=>_0x37c73d['score'])),_0x45a39f=_0x1c8599,_0x50f079=_0x1197fd[_0x20274f(0x124)];await setDoc(_0x2f7a89,{'studentName':currentStudentName,'totalQuestions':_0x3ec200,'attempts':_0x1cbc5d,'firstScore':_0x45adb4,'bestScore':_0x455220,'latestScore':_0x45a39f,'points':_0x3297a7,'latestSubmittedAt':_0x50f079},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0xa4451a,_0x1c8599,_0x3297a7,_0x102ba6,_0x1820a4,_0x3ec200);}catch(_0x14941a){console[_0x20274f(0x105)](_0x20274f(0x47a),_0x14941a),showMessage(_0x20274f(0x7d0));}}async function updateStudentProfile(_0x3ad49d,_0x3c7cdb){const _0x55c186=_0x3fc9b3,_0x129643=doc(db,_0x55c186(0x14c)+appId+'/public/data/projects/'+_0x3ad49d+_0x55c186(0x282),_0x3c7cdb);try{const _0x8fea54=query(collection(db,'artifacts/'+appId+_0x55c186(0x829)),where('projectId','==',_0x3ad49d)),_0x85f8e7=await getDocs(_0x8fea54),_0x2c0724=new Map(_0x85f8e7[_0x55c186(0x145)][_0x55c186(0x4cc)](_0x590756=>[_0x590756['id'],_0x590756[_0x55c186(0x112)]()])),_0x15104f=Array[_0x55c186(0x40c)](_0x2c0724['keys']());await runTransaction(db,async _0x43811f=>{const _0x15ed1b=_0x55c186;let _0x58da74=0x0;const _0x3e650e={};let _0x45f7ba=!![],_0x4e8c0f=0x0,_0x214465=0x0;for(const _0x40f23e of _0x15104f){const _0x30c527=_0x2c0724['get'](_0x40f23e),_0x5b865d=doc(db,_0x15ed1b(0x14c)+appId+_0x15ed1b(0x576)+_0x40f23e+'/submissions',_0x3c7cdb),_0x5842bd=await _0x43811f[_0x15ed1b(0x875)](_0x5b865d);if(_0x5842bd[_0x15ed1b(0x2a4)]()){const _0x21c27e=_0x5842bd['data'](),_0x542eae=_0x21c27e[_0x15ed1b(0x68c)]||[];if(_0x542eae[_0x15ed1b(0x431)]>0x0){const _0xc1323b=_0x542eae['reduce']((_0x1c8853,_0x2ed803)=>{const _0x5f0090=_0x15ed1b;if(_0x2ed803[_0x5f0090(0x28c)]>_0x1c8853[_0x5f0090(0x28c)])return _0x2ed803;if(_0x2ed803[_0x5f0090(0x28c)]===_0x1c8853['score'])return(_0x2ed803[_0x5f0090(0x1a0)]||0x0)>(_0x1c8853[_0x5f0090(0x1a0)]||0x0)?_0x2ed803:_0x1c8853;return _0x1c8853;},{'score':-0x1,'points':-0x1});_0xc1323b['score']>-0x1&&(_0x58da74+=_0xc1323b[_0x15ed1b(0x1a0)]||0x0,(_0xc1323b[_0x15ed1b(0x543)]||[])[_0x15ed1b(0x2a5)](_0x156272=>{_0x3e650e[_0x156272]=(_0x3e650e[_0x156272]||0x0)+0x1;}));}}if(_0x30c527[_0x15ed1b(0x7aa)]!=='แบบทดสอบซ่อมเสริม'){_0x214465++;if(_0x5842bd['exists']()){_0x4e8c0f++;const _0x3d932e=_0x5842bd[_0x15ed1b(0x112)]();_0x3d932e[_0x15ed1b(0x314)]!==_0x3d932e[_0x15ed1b(0x771)]&&(_0x45f7ba=![]);}else _0x45f7ba=![];}}_0x214465>0x0&&_0x4e8c0f===_0x214465&&_0x45f7ba?_0x3e650e[_0x15ed1b(0x5f2)]=0x1:_0x3e650e[_0x15ed1b(0x5f2)]=0x0,_0x43811f[_0x15ed1b(0x33d)](_0x129643,{'studentName':_0x3c7cdb,'totalPoints':_0x58da74,'unlockedBadges':Object['keys'](_0x3e650e)[_0x15ed1b(0x18e)](_0x2f7e40=>_0x3e650e[_0x2f7e40]>0x0),'badgesCount':_0x3e650e},{'merge':!![]});});}catch(_0x2e8916){console[_0x55c186(0x105)](_0x55c186(0x19f),_0x2e8916),showMessage(_0x55c186(0x4de));}}function startAdminTest(){const _0x56eea1=_0x3fc9b3;if(!currentQuizData){showMessage(_0x56eea1(0x18a));return;}let _0x448ba5=JSON[_0x56eea1(0x6be)](JSON[_0x56eea1(0x150)](currentQuizData));currentMode=_0x56eea1(0x2c0),currentStudentName=_0x56eea1(0x69d),adminView[_0x56eea1(0x2e4)]['add'](_0x56eea1(0x36f)),studentView[_0x56eea1(0x2e4)][_0x56eea1(0x495)](_0x56eea1(0x36f)),studentInitialView['classList'][_0x56eea1(0x243)]('hidden'),studentNameSelectionView[_0x56eea1(0x2e4)][_0x56eea1(0x243)]('hidden'),studentResultArea['classList'][_0x56eea1(0x243)](_0x56eea1(0x36f)),studentQuizArea[_0x56eea1(0x2e4)]['remove'](_0x56eea1(0x36f)),quizStartTime=new Date(),displayQuizForStudent(_0x448ba5);}function handleResultDisplay(_0x33e069,_0x336f4d,_0x2e2231,_0x28e16c,_0x2da76a,_0x3b9c91){const _0x388f97=_0x3fc9b3;if(_0x33e069===_0x388f97(0x654)){displaySubmissionConfirmation();return;}const _0x57de9d=currentDisplayedQuiz[_0x388f97(0x6b7)]?.['passingScore']??Math['floor'](_0x3b9c91/0x2),_0x1fd87b=currentDisplayedQuiz['settings']?.[_0x388f97(0x5b7)]??![],_0x123d1c=currentDisplayedQuiz[_0x388f97(0x6b7)]?.['loopUntilPass']===!![],_0x3fff88=_0x336f4d<_0x57de9d,_0x53fb03=_0x33e069==='half_mark_status'||_0x33e069===_0x388f97(0x3f4);if(_0x123d1c&&_0x3fff88&&!_0x53fb03){_0x33e069===_0x388f97(0x195)?displayResultsWithAnswers(_0x336f4d,_0x2e2231,_0x28e16c,_0x2da76a,_0x3b9c91,!![]):displayLoopScreen(_0x336f4d,_0x3b9c91,_0x33e069);return;}if(_0x1fd87b&&_0x3fff88){startAdaptiveFlow(_0x2da76a,_0x336f4d,_0x3b9c91);return;}switch(_0x33e069){case _0x388f97(0x195):displayResultsWithAnswers(_0x336f4d,_0x2e2231,_0x28e16c,_0x2da76a,_0x3b9c91);break;case _0x388f97(0x3f9):displayResultsScoreOnly(_0x336f4d,_0x2e2231,_0x28e16c,_0x3b9c91);break;case _0x388f97(0x26d):displayPassFailOnly(_0x336f4d,_0x3b9c91);break;case _0x388f97(0x50b):displayHalfMarkResult(_0x336f4d,_0x3b9c91);break;case _0x388f97(0x3f4):displayPerfectScoreResult(_0x336f4d,_0x3b9c91);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x545d27){const _0x3ab2d6=_0x3fc9b3;studentReadingArea[_0x3ab2d6(0x6da)]=_0x3ab2d6(0x2a8);const _0x2b73b7=_0x3ab2d6(0x8b7)+_0x545d27+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x3ab2d6(0x1ad),_0x11ea97={'type':_0x3ab2d6(0x1af),'properties':{'questionText':{'type':_0x3ab2d6(0x520)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3ab2d6(0x1a1)},'explanation':{'type':'STRING'}},'required':[_0x3ab2d6(0x5a3),'options',_0x3ab2d6(0x211),'explanation']},_0x167de1={'type':_0x3ab2d6(0x1af),'properties':{'topic':{'type':_0x3ab2d6(0x520)},'questions':{'type':_0x3ab2d6(0x393),'items':_0x11ea97}},'required':['topic',_0x3ab2d6(0x2eb)]};try{const _0x5255ef=await callAnalysisApi(_0x2b73b7,_0x167de1);_0x5255ef[_0x3ab2d6(0x685)]=!![],studentReadingArea['classList'][_0x3ab2d6(0x243)](_0x3ab2d6(0x36f));const _0x47ea11={...currentDisplayedQuiz[_0x3ab2d6(0x6b7)],'isAdaptive':![],'resultsDisplay':_0x3ab2d6(0x195)};_0x5255ef[_0x3ab2d6(0x6b7)]=_0x47ea11,displayQuizForStudent(_0x5255ef);}catch(_0x297c77){console[_0x3ab2d6(0x105)](_0x3ab2d6(0x707),_0x297c77),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x3ab2d6(0x7b4));}}function displayPassFailOnly(_0x36c37d,_0x2c9b87){const _0x19c820=_0x3fc9b3,_0x1e54c3=currentDisplayedQuiz[_0x19c820(0x6b7)]?.[_0x19c820(0x702)]??-0x1,_0x16602e=currentDisplayedQuiz[_0x19c820(0x685)]===!![];let _0x26d953='',_0x47a7f0=![];if(_0x16602e||_0x1e54c3!==-0x1){_0x47a7f0=_0x16602e?_0x36c37d===_0x2c9b87:_0x36c37d>=_0x1e54c3;const _0x41a0e3=_0x47a7f0?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0xc2cbd1=_0x47a7f0?_0x19c820(0x79e):_0x19c820(0x16a);_0x26d953=_0x19c820(0x636)+_0x41a0e3+'\x22>'+_0xc2cbd1+'</span></div>';}else _0x26d953=_0x19c820(0x64f);let _0x33a624=_0x19c820(0x281)+currentStudentName+_0x19c820(0x2f0)+_0x26d953+_0x19c820(0x7cb);studentResultArea[_0x19c820(0x6da)]=_0x33a624,studentResultArea['classList'][_0x19c820(0x495)](_0x19c820(0x36f)),studentQuizArea[_0x19c820(0x2e4)]['add'](_0x19c820(0x36f)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x47a7f0});}function cancelAdminTest(){const _0x32a86d=_0x3fc9b3;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x32a86d(0x760)]('fullscreenchange',handleFullscreenChange),document[_0x32a86d(0x760)](_0x32a86d(0x3ef),handleVisibilityChange),currentMode=_0x32a86d(0x70a),studentView[_0x32a86d(0x2e4)][_0x32a86d(0x243)](_0x32a86d(0x36f)),adminView[_0x32a86d(0x2e4)][_0x32a86d(0x495)](_0x32a86d(0x36f)),showView(_0x32a86d(0x7ee));}function setupResultScreenBackButton(_0x5ec5b6){const _0x2dd9b5=_0x3fc9b3,_0x1cb838={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x5ec5b6};if(_0x1cb838[_0x2dd9b5(0x63b)]){const _0xc9aa4=_0x2dd9b5(0x3b9);studentResultArea[_0x2dd9b5(0x739)](_0x2dd9b5(0x577),_0xc9aa4),document['getElementById'](_0x2dd9b5(0x812))[_0x2dd9b5(0x87d)](_0x2dd9b5(0x79f),()=>{const _0x2b624a=_0x2dd9b5;studentResultArea[_0x2b624a(0x2e4)]['add'](_0x2b624a(0x36f)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x4f4290=_0x2dd9b5(0x1dd),_0x502667=currentMode===_0x2dd9b5(0x2c0),_0x56e4f9=_0x502667?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x535870='';_0x1cb838['showRankings']&&(_0x535870+=_0x2dd9b5(0x3e4));let _0x1aafa5=_0x1cb838[_0x2dd9b5(0x3cc)];_0x1aafa5===undefined&&(_0x1aafa5=_0x1cb838[_0x2dd9b5(0x28c)]<_0x1cb838[_0x2dd9b5(0x771)]);_0x1aafa5&&(_0x535870+=_0x2dd9b5(0x4da));_0x535870+='<button\x20id=\x22'+_0x4f4290+_0x2dd9b5(0x59a)+_0x56e4f9+'</button>';const _0x3456f2=_0x2dd9b5(0x22a)+_0x535870+_0x2dd9b5(0x2e9);studentResultArea['insertAdjacentHTML'](_0x2dd9b5(0x577),_0x3456f2),studentResultArea[_0x2dd9b5(0x884)](_0x2dd9b5(0x1e3))?.[_0x2dd9b5(0x87d)](_0x2dd9b5(0x79f),handleShowStudentRankings);const _0x18840f=studentResultArea[_0x2dd9b5(0x884)]('#retake-for-improvement-btn');_0x18840f&&_0x18840f['addEventListener'](_0x2dd9b5(0x79f),()=>{const _0x4ce1ae=_0x2dd9b5;studentResultArea[_0x4ce1ae(0x2e4)]['add'](_0x4ce1ae(0x36f)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x2dd9b5(0x1cf)](_0x4f4290)[_0x2dd9b5(0x87d)]('click',()=>{const _0x273674=_0x2dd9b5;_0x502667?(currentMode=_0x273674(0x70a),studentView['classList']['add'](_0x273674(0x36f)),adminView['classList']['remove']('hidden'),showView(_0x273674(0x7ee))):(showView(_0x273674(0x7b4)),document['getElementById'](_0x273674(0x30a))[_0x273674(0x5f3)]='');});}function displayResultsWithAnswers(_0x2c9bf9,_0x3f5071,_0x41ab4c,_0x42f4ef,_0x1c8139,_0x2fdae2=![]){const _0x4d3cea=_0x3fc9b3,_0x5a7d13=_0x1c8139>0x0?_0x2c9bf9/_0x1c8139*0x64:0x0,_0x146e08=currentDisplayedQuiz[_0x4d3cea(0x6b7)]?.[_0x4d3cea(0x702)]??-0x1,_0x35fc60=currentDisplayedQuiz['isRemedial']===!![];let _0x1e0709='';if(_0x35fc60||_0x146e08!==-0x1){let _0x190bbb=_0x35fc60?_0x2c9bf9===_0x1c8139:_0x2c9bf9>=_0x146e08;const _0x395cc8=_0x190bbb?_0x4d3cea(0x6ac):_0x4d3cea(0x5f9),_0x39b07c=_0x190bbb?_0x4d3cea(0x79e):_0x4d3cea(0x16a);_0x1e0709=_0x4d3cea(0x58e)+_0x395cc8+'\x22>'+_0x39b07c+'</p>';}let _0x409500=_0x4d3cea(0x36a)+currentStudentName+_0x4d3cea(0x3b3)+_0x2c9bf9+_0x4d3cea(0x1d5)+_0x1c8139+_0x4d3cea(0x59d)+_0x1e0709+_0x4d3cea(0x216)+_0x3f5071+_0x4d3cea(0x534)+_0x5a7d13['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz['questions'][_0x4d3cea(0x2a5)]((_0x38276c,_0x397b2b)=>{const _0x3eb3b8=_0x4d3cea,_0x43e55d=_0x42f4ef[_0x397b2b],_0x53823f=_0x43e55d[_0x3eb3b8(0x759)],_0x5f1106=_0x43e55d[_0x3eb3b8(0x626)],_0x52ccc4=_0x38276c[_0x3eb3b8(0x7e0)]||currentDisplayedQuiz['quizType'];_0x409500+=_0x3eb3b8(0x772)+(_0x5f1106?_0x3eb3b8(0x661):_0x3eb3b8(0x441))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x397b2b+0x1)+'.\x20'+(_0x38276c[_0x3eb3b8(0x2d7)]||_0x38276c['questionText'])+_0x3eb3b8(0x32c);switch(_0x52ccc4){case _0x3eb3b8(0x454):const _0x2ae583=_0x53823f||_0x3eb3b8(0x411),_0xdfe82f=_0x38276c[_0x3eb3b8(0x76a)];_0x409500+=_0x3eb3b8(0x8cb)+(!_0x5f1106?_0x3eb3b8(0x43f):'')+'\x22>'+_0x2ae583+_0x3eb3b8(0x34a);!_0x5f1106&&(_0x409500+=_0x3eb3b8(0x28a)+_0xdfe82f+_0x3eb3b8(0x808));break;case _0x3eb3b8(0x5cf):_0x409500+=_0x3eb3b8(0x6ae)+(_0x53823f||'ไม่ได้ตอบ')+_0x3eb3b8(0x808),_0x409500+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x38276c[_0x3eb3b8(0x6b3)]+_0x3eb3b8(0x808);break;case _0x3eb3b8(0x288):_0x409500+=_0x3eb3b8(0x200)+(_0x38276c[_0x3eb3b8(0x6c1)]===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x53823f===_0x3eb3b8(0x769)&&!_0x5f1106?_0x3eb3b8(0x43f):'')+_0x3eb3b8(0x2f4),_0x409500+=_0x3eb3b8(0x200)+(_0x38276c['correctAnswer']===![]?_0x3eb3b8(0x41e):'')+'\x20'+(_0x53823f==='false'&&!_0x5f1106?_0x3eb3b8(0x43f):'')+_0x3eb3b8(0x4b4);break;default:_0x409500+=_0x38276c[_0x3eb3b8(0x77d)]['map']((_0x348714,_0x16aa35)=>{const _0x4f9e80=_0x3eb3b8;let _0x137663='',_0x54550f='';if(_0x16aa35===_0x38276c[_0x4f9e80(0x211)])_0x137663=_0x4f9e80(0x41e),_0x54550f=_0x4f9e80(0x155);else _0x16aa35===_0x53823f&&(_0x137663=_0x4f9e80(0x239),_0x54550f='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return'<div\x20class=\x22'+_0x137663+'\x22>'+_0x54550f+_0x348714+_0x4f9e80(0x2e9);})[_0x3eb3b8(0x8b1)]('');break;}_0x409500+=_0x3eb3b8(0x6cd)+(_0x38276c[_0x3eb3b8(0x10a)]||_0x3eb3b8(0x252))+_0x3eb3b8(0x2e9);if(!_0x5f1106){const _0xb6fcd6=_0x38276c['stem']||_0x38276c[_0x3eb3b8(0x5a3)];_0x409500+=_0x3eb3b8(0x35c)+escape(_0xb6fcd6)+_0x3eb3b8(0x709);}_0x409500+=_0x3eb3b8(0x2e9);}),studentResultArea[_0x4d3cea(0x6da)]=_0x409500,renderEarnedBadges(_0x41ab4c,_0x4d3cea(0x8c3)),studentResultArea[_0x4d3cea(0x2e4)][_0x4d3cea(0x495)](_0x4d3cea(0x36f)),studentQuizArea[_0x4d3cea(0x2e4)][_0x4d3cea(0x243)](_0x4d3cea(0x36f)),setupResultScreenBackButton({'isLooping':_0x2fdae2,'score':_0x2c9bf9,'totalQuestions':_0x1c8139,'showRankings':!![]});if(window['MathJax'])window['MathJax']['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x1eb0a6,_0x75a31c,_0x1999a1,_0x45a59d){const _0x14ee54=_0x3fc9b3,_0x54101e=_0x45a59d>0x0?_0x1eb0a6/_0x45a59d*0x64:0x0,_0xee2955=currentDisplayedQuiz[_0x14ee54(0x6b7)]?.['passingScore']??-0x1,_0x29423a=currentDisplayedQuiz['isRemedial']===!![];let _0x1a1682='';if(_0x29423a||_0xee2955!==-0x1){let _0x11eb1f=_0x29423a?_0x1eb0a6===_0x45a59d:_0x1eb0a6>=_0xee2955;const _0x44e91c=_0x11eb1f?_0x14ee54(0x6ac):_0x14ee54(0x5f9),_0x3ab710=_0x11eb1f?_0x14ee54(0x79e):'ไม่ผ่าน';_0x1a1682='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x44e91c+'\x22>'+_0x3ab710+_0x14ee54(0x808);}let _0x4a4ea3=_0x14ee54(0x281)+currentStudentName+_0x14ee54(0x175)+_0x1eb0a6+_0x14ee54(0x214)+_0x45a59d+_0x14ee54(0x59d)+_0x1a1682+_0x14ee54(0x216)+_0x75a31c+_0x14ee54(0x557)+_0x54101e['toFixed'](0x0)+_0x14ee54(0x2bc);studentResultArea[_0x14ee54(0x6da)]=_0x4a4ea3,renderEarnedBadges(_0x1999a1,'earned-badges-container'),studentResultArea[_0x14ee54(0x2e4)][_0x14ee54(0x495)](_0x14ee54(0x36f)),studentQuizArea[_0x14ee54(0x2e4)][_0x14ee54(0x243)]('hidden'),setupResultScreenBackButton({'score':_0x1eb0a6,'totalQuestions':_0x45a59d,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x57cd5b=_0x3fc9b3;let _0xa857ff=_0x57cd5b(0x389)+currentStudentName+_0x57cd5b(0x414);studentResultArea['innerHTML']=_0xa857ff,studentResultArea[_0x57cd5b(0x2e4)][_0x57cd5b(0x495)](_0x57cd5b(0x36f)),studentQuizArea[_0x57cd5b(0x2e4)][_0x57cd5b(0x243)](_0x57cd5b(0x36f)),document[_0x57cd5b(0x1cf)](_0x57cd5b(0x6d5))['addEventListener'](_0x57cd5b(0x79f),()=>{const _0x5a704e=_0x57cd5b;showView(_0x5a704e(0x7b4)),document[_0x5a704e(0x1cf)](_0x5a704e(0x30a))[_0x5a704e(0x5f3)]='';});}function renderEarnedBadges(_0x39fcfe,_0x55b8c9){const _0xe53727=_0x3fc9b3,_0x337572=document[_0xe53727(0x1cf)](_0x55b8c9);if(!_0x337572||!_0x39fcfe||_0x39fcfe[_0xe53727(0x431)]===0x0)return;let _0x3a4ceb='';_0x39fcfe[_0xe53727(0x2a5)]((_0x33d4a0,_0x4d7afd)=>{const _0x99af09=_0xe53727,_0x47d3e5=Object[_0x99af09(0x408)](BADGES)[_0x99af09(0x2c3)](_0x201709=>_0x201709['id']===_0x33d4a0);_0x47d3e5&&(_0x3a4ceb+=_0x99af09(0x62e)+_0x4d7afd*0.2+'s;\x22\x20title=\x22'+_0x47d3e5[_0x99af09(0x7ce)]+_0x99af09(0x7f9)+_0x47d3e5['icon']+_0x99af09(0x237)+_0x47d3e5[_0x99af09(0x692)]+_0x99af09(0x7b7));}),_0x337572[_0xe53727(0x6da)]=_0x3a4ceb;}function startPresentation(_0x362816){const _0x1875c0=_0x3fc9b3;currentQuizData=getShuffledQuiz(_0x362816),currentPresentationSlide=0x0,presentationModal[_0x1875c0(0x3d4)][_0x1875c0(0x1d4)]=_0x1875c0(0x6b4),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x180b7b=_0x3fc9b3;document[_0x180b7b(0x74e)]&&document[_0x180b7b(0x3b4)](),presentationModal[_0x180b7b(0x3d4)]['display']='none';}function renderPresentationSlide(_0x5ce7e7){const _0x5e8e05=_0x3fc9b3,_0x465779=document[_0x5e8e05(0x1cf)](_0x5e8e05(0x54b));if(!currentQuizData||!currentQuizData[_0x5e8e05(0x2eb)]||!currentQuizData[_0x5e8e05(0x2eb)][_0x5ce7e7]){_0x465779['innerHTML']=_0x5e8e05(0x1c6);return;}const _0x3e10e6=currentQuizData[_0x5e8e05(0x2eb)][_0x5ce7e7],_0x2defe0=_0x3e10e6['questionType']||currentQuizData[_0x5e8e05(0x126)];_0x465779[_0x5e8e05(0x6da)]='';let _0x235b7f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3e10e6['imageCode']?_0x5e8e05(0x83a)+_0x3e10e6[_0x5e8e05(0x41f)]+_0x5e8e05(0x2e9):'')+_0x5e8e05(0x257)+(_0x5ce7e7+0x1)+'.\x20'+(_0x3e10e6['stem']||_0x3e10e6[_0x5e8e05(0x5a3)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x2defe0){case _0x5e8e05(0x454):_0x235b7f+=_0x3e10e6[_0x5e8e05(0x16d)][_0x5e8e05(0x4cc)](_0x45caaf=>_0x5e8e05(0x387)+_0x45caaf+_0x5e8e05(0x215))[_0x5e8e05(0x8b1)]('');break;case _0x5e8e05(0x288):_0x235b7f+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x235b7f+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x5e8e05(0x135):case _0x5e8e05(0x5cf):_0x235b7f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x5e8e05(0x159):case _0x5e8e05(0x207):default:_0x235b7f+=_0x3e10e6[_0x5e8e05(0x77d)][_0x5e8e05(0x4cc)]((_0x514573,_0x3c8e81)=>_0x5e8e05(0x26e)+_0x3c8e81+_0x5e8e05(0x8c2)+_0x514573+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5e8e05(0x8b1)]('');break;}_0x235b7f+=_0x5e8e05(0x58c)+(_0x3e10e6[_0x5e8e05(0x10a)]||_0x5e8e05(0x252))+_0x5e8e05(0x620),_0x465779[_0x5e8e05(0x6da)]=_0x235b7f;if(window[_0x5e8e05(0x860)])window[_0x5e8e05(0x860)]['typesetPromise']([_0x465779]);document[_0x5e8e05(0x7ab)]('.presentation-option')['forEach'](_0x123c6f=>{const _0x43dd21=_0x5e8e05;_0x123c6f[_0x43dd21(0x87d)](_0x43dd21(0x79f),_0x3f158b=>revealAnswerForPresentation(_0x5ce7e7,_0x3f158b[_0x43dd21(0x10c)]));});const _0x45a88c=document['getElementById'](_0x5e8e05(0x4b6));_0x45a88c&&_0x45a88c[_0x5e8e05(0x87d)](_0x5e8e05(0x79f),()=>checkShortAnswerForPresentation(_0x5ce7e7)),document['getElementById'](_0x5e8e05(0x3ab))[_0x5e8e05(0x52e)]=_0x5e8e05(0x56a)+(_0x5ce7e7+0x1)+'\x20/\x20'+currentQuizData[_0x5e8e05(0x2eb)]['length'],document['getElementById']('prev-question-btn')[_0x5e8e05(0x323)]=_0x5ce7e7===0x0,document[_0x5e8e05(0x1cf)](_0x5e8e05(0x5fb))[_0x5e8e05(0x323)]=_0x5ce7e7===currentQuizData[_0x5e8e05(0x2eb)][_0x5e8e05(0x431)]-0x1;}async function checkShortAnswerForPresentation(_0x4cd2bd){const _0x41a6b8=_0x3fc9b3,_0x293811=currentQuizData[_0x41a6b8(0x2eb)][_0x4cd2bd],_0x266978=document[_0x41a6b8(0x1cf)](_0x41a6b8(0x213)),_0x29ad7d=document['getElementById'](_0x41a6b8(0x4b6)),_0x17bffe=document[_0x41a6b8(0x1cf)]('presentation-ai-result'),_0x293c01=document[_0x41a6b8(0x1cf)](_0x41a6b8(0x4f1));if(!_0x266978||!_0x29ad7d||!_0x17bffe||!_0x293c01)return;const _0x595d6c=_0x266978[_0x41a6b8(0x5f3)][_0x41a6b8(0x598)]();if(_0x595d6c==='')return;_0x29ad7d['disabled']=!![],_0x29ad7d[_0x41a6b8(0x6da)]=_0x41a6b8(0x2e7),_0x266978[_0x41a6b8(0x323)]=!![];const _0x1c3469=await gradeShortAnswer(_0x595d6c,_0x293811);_0x1c3469?_0x17bffe['innerHTML']=_0x41a6b8(0x1b9):_0x17bffe['innerHTML']='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x293811[_0x41a6b8(0x6b3)]+')',_0x17bffe[_0x41a6b8(0x2e4)][_0x41a6b8(0x495)](_0x41a6b8(0x36f)),_0x293c01[_0x41a6b8(0x2e4)]['remove']('hidden'),_0x29ad7d['classList'][_0x41a6b8(0x243)](_0x41a6b8(0x36f));}function revealAnswerForPresentation(_0x25bac0,_0x4f9043){const _0x243f61=_0x3fc9b3,_0x26e804=currentQuizData[_0x243f61(0x2eb)][_0x25bac0],_0x43244d=_0x26e804['questionType']||currentQuizData[_0x243f61(0x126)];document['querySelectorAll'](_0x243f61(0x4e8))[_0x243f61(0x2a5)](_0x2a0ff7=>{const _0x468f83=_0x243f61;_0x2a0ff7[_0x468f83(0x323)]=!![],_0x2a0ff7[_0x468f83(0x2e4)][_0x468f83(0x495)]('hover:bg-indigo-100');let _0x5aaf78=![];if(_0x43244d===_0x468f83(0x207)||_0x43244d==='fill_in_the_blank'){const _0x3277ed=parseInt(_0x2a0ff7[_0x468f83(0x217)][_0x468f83(0x461)]);_0x5aaf78=_0x3277ed===_0x26e804[_0x468f83(0x211)];}else{if(_0x43244d==='true_false'){const _0x213258=_0x2a0ff7[_0x468f83(0x217)]['answer']===_0x468f83(0x769);_0x5aaf78=_0x213258===_0x26e804[_0x468f83(0x6c1)];}else _0x43244d===_0x468f83(0x454)&&(_0x5aaf78=_0x2a0ff7[_0x468f83(0x52e)][_0x468f83(0x598)]()===_0x26e804[_0x468f83(0x76a)]);}_0x5aaf78?_0x2a0ff7[_0x468f83(0x2e4)][_0x468f83(0x243)](_0x468f83(0x16b),_0x468f83(0x229),_0x468f83(0x556)):_0x2a0ff7[_0x468f83(0x2e4)][_0x468f83(0x243)]('opacity-50');}),_0x4f9043[_0x243f61(0x2e4)]['remove'](_0x243f61(0x25e));let _0x4b2e09=![];if(_0x43244d===_0x243f61(0x207))_0x4b2e09=parseInt(_0x4f9043['dataset'][_0x243f61(0x461)])===_0x26e804['correctAnswerIndex'];else{if(_0x43244d===_0x243f61(0x288))_0x4b2e09=_0x4f9043[_0x243f61(0x217)][_0x243f61(0x759)]===_0x243f61(0x769)===_0x26e804[_0x243f61(0x6c1)];else _0x43244d===_0x243f61(0x454)&&(_0x4b2e09=_0x4f9043[_0x243f61(0x52e)][_0x243f61(0x598)]()===_0x26e804[_0x243f61(0x76a)]);}!_0x4b2e09&&_0x4f9043['classList'][_0x243f61(0x243)]('bg-red-500','text-white',_0x243f61(0x68a)),document[_0x243f61(0x1cf)](_0x243f61(0x4f1))['classList']['remove'](_0x243f61(0x36f));}function startWholeQuizTimer(_0x8c2d4d){const _0xdfa127=_0x3fc9b3,_0x287561=document[_0xdfa127(0x1cf)]('timer-container');if(!_0x287561)return;const _0x4601a4=Date[_0xdfa127(0x2e6)]()+_0x8c2d4d*0x3c*0x3e8;_0x287561[_0xdfa127(0x6da)]=_0xdfa127(0x39b);const _0x405492=document[_0xdfa127(0x1cf)](_0xdfa127(0x2ee));quizTimerInterval=setInterval(()=>{const _0x2ca5bc=_0xdfa127,_0xbfd010=_0x4601a4-Date['now']();if(_0xbfd010<=0x0)clearInterval(quizTimerInterval),_0x405492[_0x2ca5bc(0x52e)]=_0x2ca5bc(0x6fd),showMessage(_0x2ca5bc(0x7c1)),handleSubmitQuiz(null);else{const _0xb91c15=Math[_0x2ca5bc(0x802)](_0xbfd010/0x3e8/0x3c%0x3c)['toString']()[_0x2ca5bc(0x727)](0x2,'0'),_0x4f7490=Math[_0x2ca5bc(0x802)](_0xbfd010/0x3e8%0x3c)[_0x2ca5bc(0x27e)]()['padStart'](0x2,'0');_0x405492['textContent']=_0xb91c15+':'+_0x4f7490;}},0x3e8);}function renderPerQuestionView(){const _0x52e293=_0x3fc9b3;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x170089=currentDisplayedQuiz[_0x52e293(0x2eb)][currentQuestionIndex],_0x2f2f55=_0x170089[_0x52e293(0x7e0)]||currentDisplayedQuiz['quizType'];let _0x104c8e=_0x52e293(0x6bd)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x52e293(0x2eb)][_0x52e293(0x431)]+_0x52e293(0x3a8)+(currentMode===_0x52e293(0x2c0)?_0x52e293(0x127):'')+_0x52e293(0x3fa)+currentDisplayedQuiz[_0x52e293(0x7aa)]+_0x52e293(0x508)+(currentQuestionIndex===currentDisplayedQuiz[_0x52e293(0x2eb)][_0x52e293(0x431)]-0x1?_0x52e293(0x3a2):_0x52e293(0x5a6))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';studentQuizArea[_0x52e293(0x6da)]=_0x104c8e;let _0x11ddbd='',_0x4f0244='';switch(_0x2f2f55){case'matching_item':_0x11ddbd=currentQuestionIndex+0x1+'.\x20'+_0x170089[_0x52e293(0x2d7)],_0x4f0244=_0x52e293(0x498)+_0x170089['allResponses'][_0x52e293(0x4cc)](_0x11d436=>_0x52e293(0x380)+_0x11d436+'\x22>'+_0x11d436+_0x52e293(0x140))['join']('')+_0x52e293(0x510);break;case _0x52e293(0x288):_0x11ddbd=currentQuestionIndex+0x1+'.\x20'+_0x170089[_0x52e293(0x5a3)],_0x4f0244=_0x52e293(0x509);break;case _0x52e293(0x5cf):case _0x52e293(0x135):_0x11ddbd=currentQuestionIndex+0x1+'.\x20'+_0x170089[_0x52e293(0x5a3)],_0x4f0244=_0x52e293(0x8a3);break;case _0x52e293(0x207):case _0x52e293(0x8d7):default:_0x11ddbd=currentQuestionIndex+0x1+'.\x20'+_0x170089[_0x52e293(0x5a3)],_0x4f0244=_0x170089['options'][_0x52e293(0x4cc)]((_0xcee4b0,_0x443e8d)=>_0x52e293(0x26b)+_0x443e8d+_0x52e293(0x1a5)+_0x443e8d+_0x52e293(0x741)+_0x443e8d+'\x22>'+_0xcee4b0+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x170089[_0x52e293(0x41f)]&&(_0x11ddbd+=_0x52e293(0x83a)+_0x170089[_0x52e293(0x41f)]+_0x52e293(0x2e9));document[_0x52e293(0x1cf)]('per-question-text')[_0x52e293(0x6da)]=_0x11ddbd,document[_0x52e293(0x1cf)](_0x52e293(0x6c9))[_0x52e293(0x6da)]=_0x4f0244;if(currentMode==='admin-testing'){const _0x1e980e=document[_0x52e293(0x1cf)](_0x52e293(0x55c));if(_0x1e980e)_0x1e980e[_0x52e293(0x87d)](_0x52e293(0x79f),cancelAdminTest);}document['getElementById'](_0x52e293(0x7fd))['addEventListener'](_0x52e293(0x79f),()=>handleNextQuestionInTimedMode(![]));if(window[_0x52e293(0x860)])window[_0x52e293(0x860)][_0x52e293(0x5bf)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0xbcb12d=_0x3fc9b3,_0xe02a1d=currentDisplayedQuiz['settings'][_0xbcb12d(0x10d)],_0x5e2b83=document['getElementById'](_0xbcb12d(0x622));if(!_0x5e2b83)return;let _0x3cd46c=_0xe02a1d;_0x5e2b83[_0xbcb12d(0x6da)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x3cd46c+_0xbcb12d(0x5cc);const _0x208931=document[_0xbcb12d(0x1cf)]('timer-bar'),_0x18e664=document[_0xbcb12d(0x1cf)](_0xbcb12d(0x46d));perQuestionTimerInterval=setInterval(()=>{const _0x22dc49=_0xbcb12d;_0x3cd46c--;const _0x2bc9c4=_0x3cd46c/_0xe02a1d*0x64;_0x208931[_0x22dc49(0x3d4)]['width']=_0x2bc9c4+'%',_0x18e664[_0x22dc49(0x52e)]=_0x3cd46c,_0x3cd46c<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x22dc49(0x21a)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x18d446=![]){const _0x550d3e=_0x3fc9b3;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x40f874=null;if(!_0x18d446){const _0x5ae0ce=currentDisplayedQuiz[_0x550d3e(0x2eb)][currentQuestionIndex],_0x3a5559=_0x5ae0ce[_0x550d3e(0x7e0)]||currentDisplayedQuiz[_0x550d3e(0x126)];if(_0x3a5559===_0x550d3e(0x5cf)||_0x3a5559===_0x550d3e(0x135)){const _0x18f9ed=document[_0x550d3e(0x884)](_0x550d3e(0x7f0));_0x40f874=_0x18f9ed?_0x18f9ed[_0x550d3e(0x5f3)][_0x550d3e(0x598)]():'';}else{if(_0x3a5559===_0x550d3e(0x454)){const _0x2ff142=document[_0x550d3e(0x884)](_0x550d3e(0x5a8));_0x40f874=_0x2ff142?_0x2ff142['value']:'';}else{const _0xbd5a89=document[_0x550d3e(0x884)](_0x550d3e(0x4b5));if(_0xbd5a89){const _0x1581c4=_0xbd5a89[_0x550d3e(0x5f3)];_0x40f874=!isNaN(parseInt(_0x1581c4,0xa))&&_0x1581c4[_0x550d3e(0x598)]()!==''?parseInt(_0x1581c4,0xa):_0x1581c4;}}}}studentAnswersPerQuestion[_0x550d3e(0x1c2)](_0x40f874),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x550d3e(0x431)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x33e42d=_0x3fc9b3,_0x3baf42=currentDisplayedQuiz[_0x33e42d(0x2eb)][_0x33e42d(0x616)](_0xc53084=>_0xc53084[_0x33e42d(0x7e0)]==='short_answer');_0x3baf42?showMessage(_0x33e42d(0x710)):showMessage(_0x33e42d(0x7a3));const _0x2e0dbb=currentQuizData['id'],_0x1eaf0e=doc(db,_0x33e42d(0x14c)+appId+_0x33e42d(0x576)+_0x2e0dbb+_0x33e42d(0x862),currentStudentName),_0x256ecc=await getDoc(_0x1eaf0e),_0x1c6117=_0x256ecc['exists']()?_0x256ecc[_0x33e42d(0x112)]():{},_0x291712=_0x1c6117[_0x33e42d(0x68c)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x291712);}function getResultsFilename(){const _0x425322=_0x3fc9b3,_0x5cfd5e=document[_0x425322(0x1cf)](_0x425322(0x17a))['textContent'][_0x425322(0x278)](/[^a-z0-9]/gi,'_')[_0x425322(0x56f)]();return _0x425322(0x1a7)+(_0x5cfd5e||_0x425322(0x4d9));}function exportResultsAsImage(){const _0x83a896=_0x3fc9b3,_0x2d3ec8=document[_0x83a896(0x1cf)](_0x83a896(0x8c4));showMessage(_0x83a896(0x8bc)),html2canvas(_0x2d3ec8)[_0x83a896(0x66a)](_0x6a572c=>{const _0x7ecbdd=_0x83a896,_0x100edd=document[_0x7ecbdd(0x5cd)]('a');_0x100edd['download']=getResultsFilename()+_0x7ecbdd(0x2aa),_0x100edd[_0x7ecbdd(0x592)]=_0x6a572c[_0x7ecbdd(0x606)](_0x7ecbdd(0x8aa)),_0x100edd[_0x7ecbdd(0x79f)](),messageModal['classList'][_0x7ecbdd(0x243)](_0x7ecbdd(0x36f));});}function exportResultsAsPDF(){const _0x38d908=_0x3fc9b3,{jsPDF:_0xeee552}=window[_0x38d908(0x1ee)],_0x3e1b81=new _0xeee552();_0x3e1b81[_0x38d908(0x3c8)](_0x38d908(0x4a6),'normal'),_0x3e1b81[_0x38d908(0x8af)]({'html':_0x38d908(0x585)}),_0x3e1b81[_0x38d908(0x792)](getResultsFilename()+_0x38d908(0x19e));}function exportResultsAsWord(){const _0xe805a3=_0x3fc9b3,_0x5830b1=_0xe805a3(0x7f5)+_0xe805a3(0x897)+_0xe805a3(0x2be)+_0xe805a3(0x2b6),_0x4ca771='</body></html>',_0xd90878=_0x5830b1+document[_0xe805a3(0x1cf)](_0xe805a3(0x8c4))[_0xe805a3(0x6da)]+_0x4ca771,_0x5f256f=_0xe805a3(0x846)+encodeURIComponent(_0xd90878),_0x2cc747=document[_0xe805a3(0x5cd)]('a');document[_0xe805a3(0x1c3)][_0xe805a3(0x238)](_0x2cc747),_0x2cc747[_0xe805a3(0x592)]=_0x5f256f,_0x2cc747[_0xe805a3(0x5d4)]=getResultsFilename()+_0xe805a3(0x50e),_0x2cc747[_0xe805a3(0x79f)](),document['body'][_0xe805a3(0x342)](_0x2cc747);}function exportResultsAsExcel(){const _0x539912=_0x3fc9b3,_0x2cd297=document['getElementById'](_0x539912(0x7d4));let _0x114c0a=[];for(let _0x561867=0x0;_0x561867<_0x2cd297['rows'][_0x539912(0x431)];_0x561867++){let _0x54b817=[],_0x2ac09b=_0x2cd297['rows'][_0x561867][_0x539912(0x7ab)](_0x539912(0x563));for(let _0x3dbeb3=0x0;_0x3dbeb3<_0x2ac09b[_0x539912(0x431)];_0x3dbeb3++){_0x54b817[_0x539912(0x1c2)]('\x22'+_0x2ac09b[_0x3dbeb3]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x114c0a[_0x539912(0x1c2)](_0x54b817[_0x539912(0x8b1)](','));}const _0x51955b=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x114c0a[_0x539912(0x8b1)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x34da65=document[_0x539912(0x5cd)]('a');_0x34da65['href']=URL[_0x539912(0x5e9)](_0x51955b),_0x34da65[_0x539912(0x5d4)]=getResultsFilename()+'.csv',_0x34da65[_0x539912(0x79f)]();}function exportTableAsImage(_0x25b35a,_0x5b127a){const _0x2f1fc2=_0x3fc9b3,_0x436e93=document[_0x2f1fc2(0x1cf)](_0x25b35a);if(!_0x436e93){showMessage(_0x2f1fc2(0x7fe));return;}showMessage(_0x2f1fc2(0x8bc)),html2canvas(_0x436e93)[_0x2f1fc2(0x66a)](_0x1af688=>{const _0x38d3ec=_0x2f1fc2,_0x21451c=document['createElement']('a');_0x21451c[_0x38d3ec(0x5d4)]=_0x5b127a+_0x38d3ec(0x2aa),_0x21451c[_0x38d3ec(0x592)]=_0x1af688[_0x38d3ec(0x606)](_0x38d3ec(0x8aa)),_0x21451c[_0x38d3ec(0x79f)](),messageModal[_0x38d3ec(0x2e4)][_0x38d3ec(0x243)](_0x38d3ec(0x36f));});}function exportTableAsPDF(_0x9b3791,_0xb5aa0b){const _0x3dcf22=_0x3fc9b3,{jsPDF:_0x3e76ad}=window['jspdf'],_0x149119=new _0x3e76ad();_0x149119[_0x3dcf22(0x3c8)]('helvetica',_0x3dcf22(0x712)),_0x149119['autoTable']({'html':'#'+_0x9b3791}),_0x149119[_0x3dcf22(0x792)](_0xb5aa0b+_0x3dcf22(0x19e));}function exportTableAsWord(_0x50a07d,_0x421cd2){const _0x38461e=_0x3fc9b3,_0x5cccad=document[_0x38461e(0x1cf)](_0x50a07d);if(!_0x5cccad){showMessage(_0x38461e(0x7fe));return;}const _0x206663='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x38461e(0x897)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x9818d3='</body></html>',_0x91f222=_0x206663+_0x5cccad[_0x38461e(0x6da)]+_0x9818d3,_0x5b7746=_0x38461e(0x846)+encodeURIComponent(_0x91f222),_0x2d0bac=document['createElement']('a');document[_0x38461e(0x1c3)]['appendChild'](_0x2d0bac),_0x2d0bac[_0x38461e(0x592)]=_0x5b7746,_0x2d0bac[_0x38461e(0x5d4)]=_0x421cd2+_0x38461e(0x50e),_0x2d0bac[_0x38461e(0x79f)](),document[_0x38461e(0x1c3)]['removeChild'](_0x2d0bac);}function exportTableAsExcel(_0x4c2c0a,_0x261f30){const _0xfa5903=_0x3fc9b3,_0x47cd44=document[_0xfa5903(0x1cf)](_0x4c2c0a);if(!_0x47cd44){showMessage(_0xfa5903(0x7fe));return;}let _0x40eb8e=[];for(let _0x2edb0c=0x0;_0x2edb0c<_0x47cd44[_0xfa5903(0x895)]['length'];_0x2edb0c++){let _0x58cecb=[],_0x37258e=_0x47cd44[_0xfa5903(0x895)][_0x2edb0c][_0xfa5903(0x7ab)]('td,\x20th');for(let _0x11cd3f=0x0;_0x11cd3f<_0x37258e[_0xfa5903(0x431)];_0x11cd3f++){_0x58cecb[_0xfa5903(0x1c2)]('\x22'+_0x37258e[_0x11cd3f][_0xfa5903(0x2c4)][_0xfa5903(0x278)](/"/g,'\x22\x22')+'\x22');}_0x40eb8e[_0xfa5903(0x1c2)](_0x58cecb[_0xfa5903(0x8b1)](','));}const _0x52afc2=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x40eb8e[_0xfa5903(0x8b1)]('\x0a')],{'type':_0xfa5903(0x1c5)}),_0x21fbae=document['createElement']('a');_0x21fbae[_0xfa5903(0x592)]=URL['createObjectURL'](_0x52afc2),_0x21fbae[_0xfa5903(0x5d4)]=_0x261f30+_0xfa5903(0x7e8),_0x21fbae[_0xfa5903(0x79f)]();}function renderAnalytics(_0x5aac97,_0x37ae3b){const _0xa9b5c1=_0x3fc9b3,_0x2d2e3b=_0x37ae3b[_0xa9b5c1(0x18e)](_0x5834d9=>_0x5834d9[_0xa9b5c1(0x148)]!==undefined),_0x315f6f=currentProjectData[_0xa9b5c1(0x7bd)]['length'],_0x486b19=_0x2d2e3b['length'],_0x24ab9a=_0x315f6f-_0x486b19,_0x58b9bb=_0x315f6f>0x0?_0x486b19/_0x315f6f*0x64:0x0,_0x7a09f1=_0x2d2e3b['map'](_0x23278a=>_0x23278a[_0xa9b5c1(0x148)]),_0x5072a0=_0x7a09f1[_0xa9b5c1(0x431)]>0x0?_0x7a09f1[_0xa9b5c1(0x8c6)]((_0x4e7a34,_0x4966c1)=>_0x4e7a34+_0x4966c1,0x0)/_0x7a09f1[_0xa9b5c1(0x431)]:0x0,_0x93efde=_0x5aac97['questions']['length'],_0x20dec7=_0x93efde>0x0?_0x5072a0/_0x93efde*0x64:0x0,_0x93e32a=calculateItemAnalysis(_0x5aac97,_0x2d2e3b),_0x1f01ca=calculateReliabilityKR20(_0x5aac97,_0x2d2e3b,_0x93e32a['perQuestionStats']);let _0x1b2c3f='';if(_0x1f01ca!==null){let _0x35ad13='';if(_0x1f01ca>=0.9)_0x35ad13=_0xa9b5c1(0x3f2);else{if(_0x1f01ca>=0.8)_0x35ad13=_0xa9b5c1(0x7a9);else{if(_0x1f01ca>=0.7)_0x35ad13='ดี';else{if(_0x1f01ca>=0.6)_0x35ad13='พอใช้';else _0x35ad13=_0xa9b5c1(0x208);}}}_0x1b2c3f=_0xa9b5c1(0x524)+_0x1f01ca[_0xa9b5c1(0x292)](0x2)+_0xa9b5c1(0x183)+_0x35ad13+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x164675=document[_0xa9b5c1(0x1cf)](_0xa9b5c1(0x648));_0x164675[_0xa9b5c1(0x6da)]=_0xa9b5c1(0x5c5)+_0x58b9bb['toFixed'](0x0)+_0xa9b5c1(0x205)+_0x486b19+'/'+_0x315f6f+_0xa9b5c1(0x4e9)+_0x5072a0[_0xa9b5c1(0x292)](0x2)+_0xa9b5c1(0x11d)+_0x20dec7['toFixed'](0x0)+_0xa9b5c1(0x3bb)+(_0x7a09f1[_0xa9b5c1(0x431)]>0x0?Math[_0xa9b5c1(0x50c)](..._0x7a09f1):_0xa9b5c1(0x242))+_0xa9b5c1(0x6d9)+(_0x7a09f1[_0xa9b5c1(0x431)]>0x0?Math[_0xa9b5c1(0x162)](..._0x7a09f1):_0xa9b5c1(0x242))+_0xa9b5c1(0x65d)+_0x1b2c3f+_0xa9b5c1(0x1ad);const _0xc467fa=document[_0xa9b5c1(0x1cf)](_0xa9b5c1(0x72a));_0xc467fa&&_0xc467fa[_0xa9b5c1(0x495)]();const _0x1055ef=_0xa9b5c1(0x19b);_0x164675[_0xa9b5c1(0x739)](_0xa9b5c1(0x6b6),_0x1055ef);const _0x575441=currentProjectData[_0xa9b5c1(0x7bd)]||[];renderSubmissionChart(_0x486b19,_0x24ab9a,_0x2d2e3b,_0x575441),renderScoreDistributionChart(_0x2d2e3b,_0x93efde),renderQuestionAnalytics(_0x5aac97,_0x2d2e3b,_0x575441),renderInterestingStats(_0x5aac97,_0x2d2e3b);}async function handleExportLessonPDF(){const _0x59c826=_0x3fc9b3,_0x1387e9=document[_0x59c826(0x1cf)](_0x59c826(0x511)),_0x16e7bb=document[_0x59c826(0x1cf)](_0x59c826(0x2cd))[_0x59c826(0x52e)],_0x1b81bd=window[_0x59c826(0x3e1)]('',_0x59c826(0x144)),_0x7db3f8=_0x59c826(0x187)+_0x16e7bb+_0x59c826(0x297)+_0x1387e9['innerHTML']+_0x59c826(0x131);_0x1b81bd['document'][_0x59c826(0x5d5)](_0x7db3f8),_0x1b81bd[_0x59c826(0x6a9)]['close'](),_0x1b81bd[_0x59c826(0x81c)]=function(){setTimeout(()=>{const _0x3d6aaa=_0xcf86;_0x1b81bd[_0x3d6aaa(0x4bb)]();},0x5dc);};}function renderInterestingStats(_0x5ac86a,_0x5582d6){const _0x47e44d=_0x3fc9b3,_0x2d265a=document[_0x47e44d(0x1cf)](_0x47e44d(0x559));if(!_0x2d265a)return;if(_0x5582d6[_0x47e44d(0x431)]===0x0){_0x2d265a[_0x47e44d(0x6da)]=_0x47e44d(0x12f);return;}const _0x579f2d=_0x5ac86a[_0x47e44d(0x2eb)][_0x47e44d(0x4cc)]((_0x18fa25,_0x26aa9f)=>({'index':_0x26aa9f+0x1,'text':_0x18fa25[_0x47e44d(0x5a3)]||_0x18fa25[_0x47e44d(0x2d7)],'correct':0x0}));_0x5582d6[_0x47e44d(0x2a5)](_0x186a93=>{const _0x2cb48d=_0x47e44d,_0x443cf4=_0x186a93[_0x2cb48d(0x68c)][_0x186a93[_0x2cb48d(0x68c)][_0x2cb48d(0x431)]-0x1];_0x443cf4&&_0x443cf4[_0x2cb48d(0x327)]&&_0x443cf4[_0x2cb48d(0x327)]['forEach'](_0xfcbf7a=>{const _0x1b4b4f=_0x2cb48d,_0x2d2a29=_0x579f2d['find'](_0xba6297=>_0xba6297[_0x1b4b4f(0x6ea)]===_0xfcbf7a[_0x1b4b4f(0x29d)]);_0xfcbf7a[_0x1b4b4f(0x626)]&&_0x2d2a29&&_0x2d2a29['correct']++;});});const _0x319ea6=_0x5582d6[_0x47e44d(0x431)],_0x5231c8=Math[_0x47e44d(0x50c)](..._0x579f2d[_0x47e44d(0x4cc)](_0x228896=>_0x228896['correct'])),_0x40f2d6=Math[_0x47e44d(0x162)](..._0x579f2d[_0x47e44d(0x4cc)](_0x5d52b6=>_0x5d52b6[_0x47e44d(0x5ca)])),_0x49ed5f=_0x579f2d[_0x47e44d(0x18e)](_0x32b804=>_0x32b804[_0x47e44d(0x5ca)]===_0x5231c8)['map'](_0x13d179=>_0x47e44d(0x731)+_0x13d179[_0x47e44d(0x461)]),_0x375b21=_0x579f2d[_0x47e44d(0x18e)](_0x2aaf77=>_0x2aaf77[_0x47e44d(0x5ca)]===_0x40f2d6)[_0x47e44d(0x4cc)](_0x2df24a=>_0x47e44d(0x731)+_0x2df24a[_0x47e44d(0x461)]),_0x371036=_0x5582d6[_0x47e44d(0x8d1)]((_0x4381d7,_0x5597d3)=>_0x5597d3['latestScore']-_0x4381d7[_0x47e44d(0x148)])[_0x47e44d(0x18e)]((_0x2b54a0,_0x1bcca4,_0x54fe31)=>_0x2b54a0[_0x47e44d(0x148)]===_0x54fe31[0x0]['latestScore']),_0x30cf8b=_0x5582d6[_0x47e44d(0x8d1)]((_0x8bb8f5,_0x8a1130)=>_0x8bb8f5[_0x47e44d(0x148)]-_0x8a1130[_0x47e44d(0x148)])[_0x47e44d(0x18e)]((_0x4ba3ff,_0x57a3bd,_0x3e0cde)=>_0x4ba3ff[_0x47e44d(0x148)]===_0x3e0cde[0x0][_0x47e44d(0x148)]),_0x3659b7=_0x47e44d(0x4a0)+_0x49ed5f['join'](',\x20')+_0x47e44d(0x3af)+_0x5231c8+'\x20/\x20'+_0x319ea6+_0x47e44d(0x88d)+_0x375b21[_0x47e44d(0x8b1)](',\x20')+_0x47e44d(0x3af)+(_0x319ea6-_0x40f2d6)+_0x47e44d(0x6c3)+_0x319ea6+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x371036['map'](_0x47a6c3=>_0x47a6c3['studentName'])[_0x47e44d(0x8b1)](',\x20')+_0x47e44d(0x285)+_0x371036[0x0][_0x47e44d(0x148)]+_0x47e44d(0x38d)+_0x30cf8b[_0x47e44d(0x4cc)](_0x441f28=>_0x441f28['studentName'])[_0x47e44d(0x8b1)](',\x20')+_0x47e44d(0x285)+_0x30cf8b[0x0][_0x47e44d(0x148)]+_0x47e44d(0x523);_0x2d265a['innerHTML']=_0x3659b7;}function renderSubmissionChart(_0x1b2665,_0x3cce03,_0x3925ab,_0xfb03b3){const _0x1234cd=_0x3fc9b3,_0x4eeaa4=document['getElementById'](_0x1234cd(0x531))[_0x1234cd(0x77b)]('2d'),_0x43183b=_0x3925ab['map'](_0x142c7d=>_0x142c7d[_0x1234cd(0x432)]),_0x1cc805=_0xfb03b3['filter'](_0xa2130a=>!_0x43183b['includes'](_0xa2130a));chartInstances[_0x1234cd(0x2f1)]&&chartInstances[_0x1234cd(0x2f1)][_0x1234cd(0x307)](),chartInstances[_0x1234cd(0x2f1)]=new Chart(_0x4eeaa4,{'type':_0x1234cd(0x228),'data':{'labels':[_0x1234cd(0x79d),'ยังไม่ส่ง'],'datasets':[{'data':[_0x1b2665,_0x3cce03],'backgroundColor':[_0x1234cd(0x48a),_0x1234cd(0x4ee)],'borderColor':['#ffffff','#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x1234cd(0x169)},'tooltip':{'callbacks':{'label':function(_0x5b3f05){const _0x3d09f5=_0x1234cd;let _0x9f13d6=_0x5b3f05['label']||'';return _0x9f13d6&&(_0x9f13d6+=':\x20'),_0x9f13d6+=_0x5b3f05[_0x3d09f5(0x780)],_0x9f13d6;},'afterLabel':function(_0x5da64d){const _0x4e4cd7=_0x1234cd;let _0x19f849;return _0x5da64d[_0x4e4cd7(0x2c9)]===0x0?_0x19f849=_0x43183b:_0x19f849=_0x1cc805,_0x19f849[_0x4e4cd7(0x431)]>0x0?_0x19f849['join']('\x0a'):_0x4e4cd7(0x409);}}}}}});}function renderScoreDistributionChart(_0x1e486e,_0x2da233){const _0x3258b3=_0x3fc9b3,_0x58a9c6=document['getElementById'](_0x3258b3(0x545))[_0x3258b3(0x77b)]('2d'),_0x5501e7={};for(let _0xd92814=0x0;_0xd92814<=_0x2da233;_0xd92814++){_0x5501e7[_0xd92814]=0x0;}_0x1e486e[_0x3258b3(0x2a5)](_0x30de69=>{const _0x5c8d9a=_0x3258b3;_0x5501e7[_0x30de69[_0x5c8d9a(0x148)]]!==undefined&&_0x5501e7[_0x30de69[_0x5c8d9a(0x148)]]++;}),chartInstances[_0x3258b3(0x28c)]&&chartInstances[_0x3258b3(0x28c)][_0x3258b3(0x307)](),chartInstances['score']=new Chart(_0x58a9c6,{'type':_0x3258b3(0x45a),'data':{'labels':Object[_0x3258b3(0x80e)](_0x5501e7),'datasets':[{'label':_0x3258b3(0x7fb),'data':Object[_0x3258b3(0x408)](_0x5501e7),'backgroundColor':_0x3258b3(0x5b9),'borderColor':_0x3258b3(0x5f0),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x3258b3(0x81b)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x36f00a){const _0x245410=_0x3258b3,_0x53a83b=_0x36f00a[_0x245410(0x294)],_0x248cf7=_0x1e486e[_0x245410(0x18e)](_0x5a4277=>_0x5a4277[_0x245410(0x148)]==_0x53a83b)['map'](_0x37e068=>_0x37e068[_0x245410(0x432)]);return _0x248cf7[_0x245410(0x431)]>0x0?_0x248cf7[_0x245410(0x8b1)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x28f41c,_0x3a379d,_0x165f1b){const _0x3a350c=_0x3fc9b3,_0xab525f=document[_0x3a350c(0x1cf)](_0x3a350c(0x29e));if(_0x165f1b[_0x3a350c(0x431)]===0x0){_0xab525f[_0x3a350c(0x6da)]=_0x3a350c(0x857);return;}const _0x67bd70=calculateItemAnalysis(_0x28f41c,_0x3a379d),_0x5e3e2d=calculateDistractorAnalysis(_0x28f41c,_0x3a379d);let _0x2ec65a='';_0x67bd70['overallGroups']&&(_0x2ec65a=_0x3a350c(0x371)+_0x67bd70[_0x3a350c(0x5ec)][_0x3a350c(0x63c)][_0x3a350c(0x431)]+_0x3a350c(0x2b3)+_0x67bd70[_0x3a350c(0x5ec)][_0x3a350c(0x63c)]['map'](_0x115ef2=>_0x3a350c(0x33a)+_0x115ef2+_0x3a350c(0x1e2))[_0x3a350c(0x8b1)]('')+_0x3a350c(0x459)+_0x67bd70['overallGroups'][_0x3a350c(0x647)][_0x3a350c(0x431)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x67bd70['overallGroups'][_0x3a350c(0x647)][_0x3a350c(0x4cc)](_0x48f8f3=>_0x3a350c(0x33a)+_0x48f8f3+_0x3a350c(0x1e2))[_0x3a350c(0x8b1)]('')+_0x3a350c(0x8cd));let _0x17f623='';const _0x5728c3=_0x3a379d['map'](_0x48eaba=>_0x48eaba[_0x3a350c(0x432)]),_0x203f07=_0x4f348e=>{const _0x294191=_0x3a350c;if(_0x4f348e>=0.8)return _0x294191(0x684);if(_0x4f348e>=0.6)return _0x294191(0x11c);if(_0x4f348e>=0.4)return _0x294191(0x25a);if(_0x4f348e>=0.2)return _0x294191(0x5b2);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x168695=_0x1e76ad=>{const _0x648d24=_0x3a350c;if(_0x1e76ad<0x0)return _0x648d24(0x23a);if(_0x1e76ad>=0.4)return _0x648d24(0x4ec);if(_0x1e76ad>=0.3)return _0x648d24(0x1f6);if(_0x1e76ad>=0.2)return _0x648d24(0x12d);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x3cb8d4=_0x683844=>{const _0x144610=_0x3a350c,_0x20a7f3=_0x683844[_0x144610(0x292)](0x0);if(parseFloat(_0x20a7f3)===0x64)return _0x144610(0x840)+_0x20a7f3+'%</span>';if(_0x683844>=0x32)return _0x144610(0x4d4)+_0x20a7f3+_0x144610(0x310);return _0x144610(0x5ba)+_0x20a7f3+_0x144610(0x310);};_0x28f41c[_0x3a350c(0x2eb)][_0x3a350c(0x2a5)]((_0x576954,_0x1691d5)=>{const _0x1171ba=_0x3a350c,_0x33c4ad=_0x67bd70[_0x1171ba(0x761)][_0x1691d5],_0x4875f1=_0x5e3e2d[_0x1691d5],_0x47cc0c=_0x576954[_0x1171ba(0x2d7)]||_0x576954[_0x1171ba(0x5a3)]||_0x576954['instructions'];let _0x33d652=0x0;const _0x359974=[],_0x305876=[];_0x3a379d[_0x1171ba(0x2a5)](_0xc9c514=>{const _0x256dbf=_0x1171ba,_0x574a85=_0xc9c514['attempts'][_0xc9c514[_0x256dbf(0x68c)][_0x256dbf(0x431)]-0x1];if(_0x574a85&&_0x574a85[_0x256dbf(0x327)]){const _0x4ad7aa=_0x574a85['answers']['find'](_0x33696d=>_0x33696d['originalQuestionText']===_0x47cc0c)??_0x574a85[_0x256dbf(0x327)][_0x1691d5]??null;_0x4ad7aa&&(_0x4ad7aa[_0x256dbf(0x626)]?(_0x33d652++,_0x359974[_0x256dbf(0x1c2)](_0xc9c514[_0x256dbf(0x432)])):_0x305876[_0x256dbf(0x1c2)](_0xc9c514[_0x256dbf(0x432)]));}});const _0x5dca98=_0x3a379d[_0x1171ba(0x431)]>0x0?_0x33d652/_0x3a379d['length']*0x64:0x0,_0x218068=_0x165f1b[_0x1171ba(0x18e)](_0x2a7688=>!_0x5728c3[_0x1171ba(0x1db)](_0x2a7688)),_0x10cf60=_0x33c4ad?_0x1171ba(0x39e)+_0x33c4ad['p'][_0x1171ba(0x292)](0x2)+_0x1171ba(0x4f9)+_0x203f07(_0x33c4ad['p'])+_0x1171ba(0x1e6)+_0x33c4ad['r'][_0x1171ba(0x292)](0x2)+_0x1171ba(0x4f9)+_0x168695(_0x33c4ad['r'])+_0x1171ba(0x78e)+_0x3cb8d4(_0x5dca98)+_0x1171ba(0x478):'';let _0x3c8bf1='';_0x4875f1&&(_0x3c8bf1=_0x1171ba(0x271)+Object[_0x1171ba(0x80e)](_0x4875f1)['map'](_0x3ecebf=>{const _0x305b1d=_0x1171ba,_0x1feb31=_0x4875f1[_0x3ecebf],_0x796906=parseInt(_0x3ecebf)===_0x576954[_0x305b1d(0x211)],_0x471fa7=!_0x796906&&_0x1feb31['lower_group_count']>_0x1feb31[_0x305b1d(0x749)];return'<tr\x20class=\x22'+(_0x796906?'bg-green-100\x20font-bold':'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x796906?'✔\x20':'')+_0x1feb31[_0x305b1d(0x6ea)]+_0x305b1d(0x20d)+_0x1feb31[_0x305b1d(0x749)]+_0x305b1d(0x20d)+_0x1feb31[_0x305b1d(0x3c5)]+'\x20'+(_0x471fa7?'👍':'')+_0x305b1d(0x20d)+_0x1feb31[_0x305b1d(0x447)]+'</td></tr>';})[_0x1171ba(0x8b1)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x50fb4c='';_0x33c4ad&&_0x33c4ad[_0x1171ba(0x670)]&&(_0x50fb4c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x33c4ad[_0x1171ba(0x670)][_0x1171ba(0x431)]+_0x1171ba(0x21b)+_0x33c4ad[_0x1171ba(0x670)][_0x1171ba(0x4cc)](_0x210a4e=>_0x1171ba(0x33a)+(_0x210a4e[_0x1171ba(0x626)]?_0x1171ba(0x5aa):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x210a4e[_0x1171ba(0x692)]+_0x1171ba(0x1e2))['join']('')+_0x1171ba(0x240)+_0x33c4ad[_0x1171ba(0x8a9)][_0x1171ba(0x431)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x33c4ad['lowerGroupResponders'][_0x1171ba(0x4cc)](_0x45a6f4=>_0x1171ba(0x33a)+(_0x45a6f4['isCorrect']?_0x1171ba(0x5aa):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x45a6f4[_0x1171ba(0x692)]+_0x1171ba(0x1e2))[_0x1171ba(0x8b1)]('')+_0x1171ba(0x4fc)),_0x17f623+=_0x1171ba(0x851)+(_0x1691d5+0x1)+':\x20'+_0x47cc0c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x10cf60+_0x1171ba(0x5b5)+_0x47cc0c+_0x1171ba(0x754)+_0x33d652+_0x1171ba(0x133)+_0x3a379d[_0x1171ba(0x431)]+_0x1171ba(0x4cf)+_0x5dca98[_0x1171ba(0x292)](0x0)+_0x1171ba(0x5fd)+_0x359974[_0x1171ba(0x431)]+_0x1171ba(0x182)+(_0x359974[_0x1171ba(0x431)]>0x0?_0x359974[_0x1171ba(0x8b1)](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x305876[_0x1171ba(0x431)]+_0x1171ba(0x182)+(_0x305876[_0x1171ba(0x431)]>0x0?_0x305876[_0x1171ba(0x8b1)](',\x20'):_0x1171ba(0x409))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x218068[_0x1171ba(0x431)]+_0x1171ba(0x182)+(_0x218068[_0x1171ba(0x431)]>0x0?_0x218068[_0x1171ba(0x8b1)](',\x20'):_0x1171ba(0x409))+_0x1171ba(0x1fa)+_0x3c8bf1+_0x1171ba(0x530)+_0x50fb4c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xab525f['innerHTML']=_0x2ec65a+_0x17f623;try{window[_0x3a350c(0x860)]&&MathJax[_0x3a350c(0x5bf)]&&MathJax[_0x3a350c(0x5bf)]([_0xab525f]);}catch(_0x53ee90){console[_0x3a350c(0x105)]('MathJax\x20typeset\x20error\x20(analytics):',_0x53ee90);}}function calculateDistractorAnalysis(_0x1bbdb4,_0x44a103){const _0x2d504f=_0x3fc9b3,_0xd176a6={};if(_0x44a103[_0x2d504f(0x431)]<0x2)return _0xd176a6;const _0x45ac6e=[..._0x44a103]['sort']((_0x143c4e,_0x3b83ad)=>{const _0x5277d5=_0x2d504f,_0x4f88f8=_0x3b83ad[_0x5277d5(0x148)]-_0x143c4e[_0x5277d5(0x148)];if(_0x4f88f8!==0x0)return _0x4f88f8;const _0x5b60bc=_0x143c4e['attempts']?.['length']||0x1,_0x878369=_0x3b83ad['attempts']?.['length']||0x1,_0x2d95b4=_0x5b60bc-_0x878369;if(_0x2d95b4!==0x0)return _0x2d95b4;const _0x2e5804=new Date(_0x143c4e[_0x5277d5(0x206)]),_0x523819=new Date(_0x3b83ad[_0x5277d5(0x206)]),_0x4bd8c8=_0x2e5804-_0x523819;if(_0x4bd8c8!==0x0)return _0x4bd8c8;return _0x143c4e['studentName'][_0x5277d5(0x1b3)](_0x3b83ad[_0x5277d5(0x432)],'th');}),_0x183a1e=_0x45ac6e[_0x2d504f(0x431)],_0x34248d=Math[_0x2d504f(0x50c)](0x1,Math['floor'](_0x183a1e*0.33)),_0x41922f=_0x45ac6e['slice'](0x0,_0x34248d),_0x41a850=_0x45ac6e['slice'](-_0x34248d);return _0x1bbdb4[_0x2d504f(0x2eb)][_0x2d504f(0x2a5)]((_0x33efbe,_0x2ba7b2)=>{const _0x2d5abb=_0x2d504f;if(_0x33efbe[_0x2d5abb(0x7e0)]!=='multiple_choice'||!_0x33efbe[_0x2d5abb(0x77d)])return;const _0x59d6ca=_0x33efbe[_0x2d5abb(0x5a3)],_0x2b9f98={};_0x33efbe['options'][_0x2d5abb(0x2a5)]((_0x1bd1e4,_0xc48e6a)=>{_0x2b9f98[_0xc48e6a]={'text':_0x1bd1e4,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x45ac6e[_0x2d5abb(0x2a5)](_0x3fdbc2=>{const _0x4f50de=_0x2d5abb,_0x1bfe4e=_0x3fdbc2[_0x4f50de(0x68c)][_0x3fdbc2[_0x4f50de(0x68c)][_0x4f50de(0x431)]-0x1],_0x4bfeca=_0x1bfe4e[_0x4f50de(0x327)][_0x4f50de(0x2c3)](_0x1258cf=>_0x1258cf[_0x4f50de(0x29d)]===_0x59d6ca);if(_0x4bfeca&&_0x4bfeca[_0x4f50de(0x759)]!==null){const _0x1f4519=_0x33efbe['options'][_0x4f50de(0x628)](_0x12fff8=>_0x12fff8===_0x4bfeca[_0x4f50de(0x7dc)]);_0x1f4519!==-0x1&&_0x2b9f98[_0x1f4519]&&(_0x2b9f98[_0x1f4519][_0x4f50de(0x447)]++,_0x41922f[_0x4f50de(0x1db)](_0x3fdbc2)&&_0x2b9f98[_0x1f4519][_0x4f50de(0x749)]++,_0x41a850['includes'](_0x3fdbc2)&&_0x2b9f98[_0x1f4519]['lower_group_count']++);}}),_0xd176a6[_0x2ba7b2]=_0x2b9f98;}),_0xd176a6;}function calculateReliabilityKR20(_0x1142bf,_0x10ecf4,_0x282281){const _0x5c4301=_0x3fc9b3,_0x6d35f8=_0x1142bf[_0x5c4301(0x2eb)][_0x5c4301(0x431)];if(_0x6d35f8<0x2||_0x10ecf4[_0x5c4301(0x431)]<0x2)return null;const _0x5f2781=_0x10ecf4[_0x5c4301(0x4cc)](_0xacb8d8=>_0xacb8d8[_0x5c4301(0x148)]),_0x27396b=_0x5f2781['reduce']((_0x229229,_0x1f6a74)=>_0x229229+_0x1f6a74,0x0)/_0x5f2781['length'],_0x519150=_0x5f2781[_0x5c4301(0x4cc)](_0x21bed1=>Math['pow'](_0x21bed1-_0x27396b,0x2))[_0x5c4301(0x8c6)]((_0x30b372,_0x3da711)=>_0x30b372+_0x3da711,0x0)/_0x5f2781[_0x5c4301(0x431)];if(_0x519150===0x0)return null;let _0x318a9b=0x0;for(let _0x3a9a55=0x0;_0x3a9a55<_0x6d35f8;_0x3a9a55++){const _0x4fe2e7=_0x282281[_0x3a9a55]?.['p'];if(_0x4fe2e7===undefined)continue;const _0x5d4e42=0x1-_0x4fe2e7;_0x318a9b+=_0x4fe2e7*_0x5d4e42;}if(_0x318a9b===0x0)return null;const _0xf860f3=_0x6d35f8/(_0x6d35f8-0x1)*(0x1-_0x318a9b/_0x519150);if(_0xf860f3>0x1)return null;return _0xf860f3;}async function handleAnalyzeClass(){const _0x2366cf=_0x3fc9b3;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x2a0512=collection(db,_0x2366cf(0x14c)+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions'),_0x8efd10=await getDocs(_0x2a0512),_0x1e48ee=_0x8efd10[_0x2366cf(0x145)][_0x2366cf(0x4cc)](_0x2dc77a=>_0x2dc77a[_0x2366cf(0x112)]());if(_0x1e48ee['length']<0x2){showMessage(_0x2366cf(0x5e8));return;}const _0x5a4346=document[_0x2366cf(0x1cf)](_0x2366cf(0x3e5));_0x5a4346[_0x2366cf(0x6da)]=_0x2366cf(0x106),document[_0x2366cf(0x1cf)](_0x2366cf(0x35d))['disabled']=!![];const _0x47b9e8=_0x1e48ee['map']((_0xf4cf44,_0x59834c)=>{const _0x4fe010=_0x2366cf,_0x449dc1=_0xf4cf44[_0x4fe010(0x68c)][_0xf4cf44[_0x4fe010(0x68c)]['length']-0x1];if(!_0x449dc1)return'';return _0x4fe010(0x593)+(_0x59834c+0x1)+'\x20('+_0xf4cf44[_0x4fe010(0x432)]+_0x4fe010(0x86c)+_0x449dc1[_0x4fe010(0x28c)]+'/'+_0xf4cf44['totalQuestions']+_0x4fe010(0x757)+JSON[_0x4fe010(0x150)](_0x449dc1[_0x4fe010(0x327)])+_0x4fe010(0x4e0);})[_0x2366cf(0x8b1)](_0x2366cf(0x849)),_0x27073b=_0x2366cf(0x813)+currentQuizData[_0x2366cf(0x7aa)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0x2366cf(0x150)](currentQuizData[_0x2366cf(0x2eb)])+_0x2366cf(0x84b)+_0x47b9e8+_0x2366cf(0x4f0),_0x8928f4={'type':'OBJECT','properties':{'classStrengths':{'type':_0x2366cf(0x393),'items':{'type':_0x2366cf(0x520)}},'classWeaknesses':{'type':_0x2366cf(0x393),'items':{'type':_0x2366cf(0x520)}},'teacherSuggestions':{'type':_0x2366cf(0x393),'items':{'type':_0x2366cf(0x520)}}},'required':[_0x2366cf(0x15d),_0x2366cf(0x87b),_0x2366cf(0x88a)]};try{const _0x47e61d=await callAnalysisApi(_0x27073b,_0x8928f4);displayClassAnalysis(_0x47e61d);}catch(_0x137f36){console['error']('Error\x20during\x20class\x20analysis:',_0x137f36),_0x5a4346[_0x2366cf(0x6da)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x137f36[_0x2366cf(0x59c)]+'</p></div>';}finally{document[_0x2366cf(0x1cf)](_0x2366cf(0x35d))[_0x2366cf(0x323)]=![];}}function displayClassAnalysis(_0x185959){const _0xce89f0=_0x3fc9b3,_0x19102b=document[_0xce89f0(0x1cf)](_0xce89f0(0x3e5));if(!_0x185959){_0x19102b[_0xce89f0(0x6da)]=_0xce89f0(0x280);return;}_0x19102b[_0xce89f0(0x6da)]=_0xce89f0(0x777)+_0x185959[_0xce89f0(0x15d)][_0xce89f0(0x4cc)](_0x5e8c34=>_0xce89f0(0x33a)+_0x5e8c34+_0xce89f0(0x1e2))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x185959[_0xce89f0(0x87b)][_0xce89f0(0x4cc)](_0x1305e8=>_0xce89f0(0x33a)+_0x1305e8+'</li>')[_0xce89f0(0x8b1)]('')+_0xce89f0(0x30f)+_0x185959[_0xce89f0(0x88a)][_0xce89f0(0x4cc)](_0x144c62=>_0xce89f0(0x33a)+_0x144c62+_0xce89f0(0x1e2))[_0xce89f0(0x8b1)]('')+_0xce89f0(0x219);}function formatAndPrintWorksheet(_0x4f3701,_0x34cce9){const _0xe0ae28=_0x3fc9b3,_0x55347c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x4f3701[_0xe0ae28(0x7aa)]+_0xe0ae28(0x132)+_0x4f3701['topic']+_0xe0ae28(0x1b7)+_0x4f3701[_0xe0ae28(0x2eb)][_0xe0ae28(0x4cc)]((_0x26fac8,_0x1fc7a4)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x1fc7a4+0x1)+'.\x20'+_0x26fac8['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x26fac8[_0xe0ae28(0x41f)]?_0xe0ae28(0x653)+_0x26fac8['imageCode']+_0xe0ae28(0x2e9):'')+_0xe0ae28(0x1ed))[_0xe0ae28(0x8b1)]('')+_0xe0ae28(0x361);_0x34cce9['document']['write'](_0x55347c),_0x34cce9[_0xe0ae28(0x6a9)][_0xe0ae28(0x787)](),_0x34cce9[_0xe0ae28(0x81c)]=function(){setTimeout(()=>{_0x34cce9['print']();},0x3e8);};}async function generateWorksheet(){const _0x21daa5=_0x3fc9b3,_0x45ffb7=document[_0x21daa5(0x1cf)]('worksheet-topic-input')['value'][_0x21daa5(0x598)]();if(!_0x45ffb7){showMessage(_0x21daa5(0x544));return;}const _0x562db5=document[_0x21daa5(0x1cf)](_0x21daa5(0x2c5))[_0x21daa5(0x8b0)],_0x5d3b14=_0x562db5?'':_0x21daa5(0x24f),_0x4b8564=window[_0x21daa5(0x3e1)]('','_blank');_0x4b8564[_0x21daa5(0x6a9)][_0x21daa5(0x5d5)](_0x21daa5(0x8ae));const _0x2fb09b=parseInt(document[_0x21daa5(0x1cf)]('num-questions')[_0x21daa5(0x5f3)]),_0x3529af=document[_0x21daa5(0x1cf)]('include-images-checkbox')[_0x21daa5(0x8b0)],_0x142660=_0x3529af?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x4ddf7d=_0x21daa5(0x2af)+_0x5d3b14+_0x21daa5(0x887)+_0x2fb09b+_0x21daa5(0x232)+_0x45ffb7+_0x21daa5(0x37a)+_0x142660+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x10d2ca={'type':'OBJECT','properties':{'topic':{'type':_0x21daa5(0x520)},'questions':{'type':_0x21daa5(0x393),'items':{'type':_0x21daa5(0x1af),'properties':{'questionText':{'type':_0x21daa5(0x520)},'imageCode':{'type':_0x21daa5(0x520)}},'required':['questionText']}}},'required':[_0x21daa5(0x7aa),'questions']};document[_0x21daa5(0x1cf)](_0x21daa5(0x76e))[_0x21daa5(0x52e)]='',document['getElementById'](_0x21daa5(0x507))[_0x21daa5(0x2e4)]['remove'](_0x21daa5(0x36f)),document[_0x21daa5(0x1cf)](_0x21daa5(0x878))[_0x21daa5(0x2e4)][_0x21daa5(0x495)](_0x21daa5(0x36f)),generateWorksheetBtn[_0x21daa5(0x323)]=!![];try{const _0x15204a=await callAnalysisApi(_0x4ddf7d,_0x10d2ca);formatAndPrintWorksheet(_0x15204a,_0x4b8564);}catch(_0x59cd1c){console[_0x21daa5(0x105)]('Error\x20generating\x20worksheet:',_0x59cd1c);if(_0x4b8564)_0x4b8564[_0x21daa5(0x787)]();showMessage(_0x21daa5(0x360));}finally{document[_0x21daa5(0x1cf)](_0x21daa5(0x507))[_0x21daa5(0x2e4)][_0x21daa5(0x243)](_0x21daa5(0x36f)),document['getElementById'](_0x21daa5(0x878))['classList']['add'](_0x21daa5(0x36f)),generateWorksheetBtn[_0x21daa5(0x323)]=![];}}async function callAnalysisApi(_0x205fd9,_0x37aea4){const _0x15f715=_0x3fc9b3,_0x58b39a={'contents':[{'role':_0x15f715(0x1b1),'parts':[{'text':_0x205fd9}]}],'generationConfig':{'responseMimeType':_0x15f715(0x304),'responseSchema':_0x37aea4}},_0x194d08=_0x15f715(0x5de),_0x329847='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x194d08,_0x4a75da=await fetch(_0x329847,{'method':'POST','headers':{'Content-Type':_0x15f715(0x304)},'body':JSON['stringify'](_0x58b39a)});if(!_0x4a75da['ok'])throw new Error(_0x15f715(0x7f8)+_0x4a75da[_0x15f715(0x70c)]);const _0x358823=await _0x4a75da[_0x15f715(0x639)]();if(_0x358823[_0x15f715(0x61b)]?.[0x0]?.[_0x15f715(0x7eb)]?.[_0x15f715(0x5d2)]?.[0x0])return JSON['parse'](_0x358823['candidates'][0x0][_0x15f715(0x7eb)][_0x15f715(0x5d2)][0x0]['text']);else{let _0x445b99=_0x15f715(0x57c);if(_0x358823[_0x15f715(0x56e)]?.['blockReason'])_0x445b99='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x358823[_0x15f715(0x56e)]['blockReason']+'.';else _0x358823[_0x15f715(0x61b)]?.[0x0]?.[_0x15f715(0x410)]&&_0x358823[_0x15f715(0x61b)][0x0][_0x15f715(0x410)]!=='STOP'&&(_0x445b99=_0x15f715(0x8ca)+_0x358823[_0x15f715(0x61b)][0x0][_0x15f715(0x410)]+'.');console[_0x15f715(0x105)](_0x445b99,JSON[_0x15f715(0x150)](_0x358823));throw new Error(_0x445b99);}}initialize();
