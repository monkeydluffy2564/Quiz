const _0x13e7bb=_0x5701;(function(_0xa91e0a,_0x65aaf7){const _0x148fa4=_0x5701,_0x236a7b=_0xa91e0a();while(!![]){try{const _0x19ba3b=-parseInt(_0x148fa4(0x610))/0x1+parseInt(_0x148fa4(0x2c6))/0x2*(parseInt(_0x148fa4(0x24c))/0x3)+-parseInt(_0x148fa4(0x394))/0x4+parseInt(_0x148fa4(0x5b5))/0x5*(-parseInt(_0x148fa4(0x1ff))/0x6)+parseInt(_0x148fa4(0x2c2))/0x7*(parseInt(_0x148fa4(0x5ac))/0x8)+parseInt(_0x148fa4(0x647))/0x9*(-parseInt(_0x148fa4(0x577))/0xa)+parseInt(_0x148fa4(0x540))/0xb;if(_0x19ba3b===_0x65aaf7)break;else _0x236a7b['push'](_0x236a7b['shift']());}catch(_0x28e01b){_0x236a7b['push'](_0x236a7b['shift']());}}}(_0x18ff,0x22d20));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let db,auth,userId,currentMode=_0x13e7bb(0x4ed),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x13e7bb(0x28e),quizLeaderboardSortOrder=_0x13e7bb(0x27d),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x13e7bb(0x5a1),'name':'คะแนนเต็ม','description':_0x13e7bb(0x656),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':_0x13e7bb(0x52f),'description':_0x13e7bb(0x282),'icon':_0x13e7bb(0x33a)},'ON_FIRE':{'id':'on_fire','name':_0x13e7bb(0x2d7),'description':_0x13e7bb(0x4b3),'icon':_0x13e7bb(0x26f)},'FIRST_TRY_ACE':{'id':_0x13e7bb(0x27f),'name':'ผ่านฉลุย','description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x13e7bb(0x2a5)},'COMEBACK_KING':{'id':_0x13e7bb(0x424),'name':_0x13e7bb(0x25d),'description':_0x13e7bb(0x43d),'icon':_0x13e7bb(0x323)},'SPECIALIST':{'id':'specialist','name':_0x13e7bb(0x2a6),'description':_0x13e7bb(0x307),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x13e7bb(0x437),'name':_0x13e7bb(0x3e9),'description':_0x13e7bb(0x32b),'icon':_0x13e7bb(0x61d)}},firebaseConfig={'apiKey':_0x13e7bb(0x2af),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x13e7bb(0x234),'storageBucket':'ai-quiz-app-aefee.appspot.com','messagingSenderId':'274192258111','appId':_0x13e7bb(0x505),'measurementId':_0x13e7bb(0x504)},appId=typeof __app_id!=='undefined'?__app_id:_0x13e7bb(0x5ba),adminView=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x3dc)),studentView=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x598)),projectDashboardView=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x267)),projectDetailView=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x672)),quizResultsView=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x2ea)),projectList=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x349)),noProjectsMsg=document[_0x13e7bb(0x5bf)]('no-projects-msg'),projectTitle=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x5e5)),projectIdDisplay=document['getElementById'](_0x13e7bb(0x2ee)),studentList=document['getElementById'](_0x13e7bb(0x252)),messageModal=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x67d)),modalMessage=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x48a)),createProjectModal=document['getElementById'](_0x13e7bb(0x613)),adminPasswordModal=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x279)),confirmationModal=document[_0x13e7bb(0x5bf)]('confirmation-modal'),userIdDisplay=document['getElementById'](_0x13e7bb(0x3de)),topicTab=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x207)),textTab=document[_0x13e7bb(0x5bf)]('text-tab'),topicInputArea=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x2a4)),textInputArea=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x36c)),manageTab=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x3c0)),resultsTab=document['getElementById'](_0x13e7bb(0x671)),leaderboardTab=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x3fd)),manageTabContent=document[_0x13e7bb(0x5bf)]('manage-tab-content'),resultsTabContent=document[_0x13e7bb(0x5bf)]('results-tab-content'),leaderboardTabContent=document['getElementById'](_0x13e7bb(0x31a)),projectQuizzesList=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x487)),fileTab=document[_0x13e7bb(0x5bf)]('file-tab'),fileInputArea=document['getElementById'](_0x13e7bb(0x22b)),fileUploadInput=document[_0x13e7bb(0x5bf)]('file-upload-input'),worksheetTab=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x631)),worksheetInputArea=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x223)),generateWorksheetBtn=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x603)),studentInitialView=document[_0x13e7bb(0x5bf)]('student-initial-view'),studentNameSelectionView=document[_0x13e7bb(0x5bf)]('student-name-selection-view'),studentQuizArea=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x219)),studentResultArea=document[_0x13e7bb(0x5bf)]('student-result-area'),studentReadingArea=document['getElementById']('student-reading-area'),loadQuizBtn=document[_0x13e7bb(0x5bf)]('load-quiz-btn'),startQuizBtn=document['getElementById'](_0x13e7bb(0x2e6)),studentJoinGameView=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x2ce)),presentationModal=document['getElementById'](_0x13e7bb(0x28f)),renameQuizModal=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x579)),moveQuizModal=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x58b)),quizSettingsModal=document[_0x13e7bb(0x5bf)](_0x13e7bb(0x2c0)),quizStatusModal=document[_0x13e7bb(0x5bf)]('quiz-status-modal'),liveGameView=document['getElementById']('live-game-view');async function initialize(){const _0x200ace=_0x13e7bb;try{const _0x3f3cba=initializeApp(firebaseConfig);db=getFirestore(_0x3f3cba),auth=getAuth(_0x3f3cba),setupAuthListener(),setupEventListeners(),showView(_0x200ace(0x4ed));}catch(_0xeca651){console['error'](_0x200ace(0x548),_0xeca651),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}function compareNumericalAnswers(_0x17711f,_0x3528bd){const _0x228349=_0x13e7bb,_0x34d7e1=String(_0x17711f)[_0x228349(0x4a4)](',','.')[_0x228349(0x4a4)](/[^\d.-]/g,'')[_0x228349(0x258)](),_0x243844=String(_0x3528bd)['replace'](',','.')[_0x228349(0x4a4)](/[^\d.-]/g,'')[_0x228349(0x258)]();if(_0x34d7e1===''||_0x243844==='')return![];const _0x5bffdc=parseFloat(_0x34d7e1),_0x398efb=parseFloat(_0x243844);if(isNaN(_0x5bffdc)||isNaN(_0x398efb))return![];return Math[_0x228349(0x563)](_0x5bffdc-_0x398efb)<0.001;}async function gradeShortAnswer(_0x14f392,_0x221465){const _0x4c53e4=_0x13e7bb,_0x509c38=_0x221465[_0x4c53e4(0x549)];if(String(_0x14f392)[_0x4c53e4(0x258)]()['toLowerCase']()===String(_0x509c38)['trim']()[_0x4c53e4(0x2a9)]())return!![];if(compareNumericalAnswers(_0x14f392,_0x509c38))return!![];return console[_0x4c53e4(0x41f)](_0x4c53e4(0x31f)),await gradeShortAnswerWithAI(_0x14f392,_0x509c38);}async function revealAnswerForAdmin(_0x54bfff,_0x4db8bc){const _0xaf4dfc=_0x13e7bb;if(document[_0xaf4dfc(0x5bf)]('next-live-question-btn'))return;const _0x4729c6=doc(db,_0xaf4dfc(0x3f8)+appId+_0xaf4dfc(0x66d),currentLiveGameId);await updateDoc(_0x4729c6,{'questionStatus':_0xaf4dfc(0x22a)});const _0x331059=liveGameView[_0xaf4dfc(0x278)](_0xaf4dfc(0x4c9));_0x331059&&(_0x331059[_0xaf4dfc(0x4d6)][_0xaf4dfc(0x325)](_0xaf4dfc(0x23f)),_0x331059[_0xaf4dfc(0x4d6)][_0xaf4dfc(0x65f)]('bg-green-300',_0xaf4dfc(0x41d),'font-bold',_0xaf4dfc(0x51d),_0xaf4dfc(0x50d)),_0x331059['innerHTML']=_0xaf4dfc(0x314)+_0x331059['innerHTML']);const _0x23a95c=document[_0xaf4dfc(0x5bf)](_0xaf4dfc(0x396));_0x23a95c&&(_0x23a95c[_0xaf4dfc(0x435)]=_0xaf4dfc(0x4af)+(_0x54bfff+0x1===_0x4db8bc?_0xaf4dfc(0x596):'ข้อต่อไป')+_0xaf4dfc(0x568),document['getElementById'](_0xaf4dfc(0x2cd))[_0xaf4dfc(0x304)](_0xaf4dfc(0x4b1),async()=>{const _0x4b1b52=_0xaf4dfc,_0x430aab=doc(db,'artifacts/'+appId+_0x4b1b52(0x66d),currentLiveGameId),_0x1f8d8b=await getDoc(_0x430aab);if(!_0x1f8d8b['exists']())return;const _0x3904a1=_0x1f8d8b[_0x4b1b52(0x4aa)](),_0x696fe3={};if(_0x3904a1['players'])for(const _0x18312e in _0x3904a1[_0x4b1b52(0x2b1)]){_0x696fe3[_0x4b1b52(0x4e0)+_0x18312e+_0x4b1b52(0x469)]=![];}const _0x2b279d=_0x54bfff+0x1;_0x2b279d<_0x4db8bc?(_0x696fe3['currentQuestionIndex']=_0x2b279d,_0x696fe3['questionDisplayedAt']=serverTimestamp(),_0x696fe3['questionStatus']=_0x4b1b52(0x4eb),await updateDoc(_0x430aab,_0x696fe3)):await updateDoc(_0x430aab,{'status':_0x4b1b52(0x432)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x316ee7=>{if(_0x316ee7){userId=_0x316ee7['uid'],userIdDisplay['textContent']=userId;if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes();}else await authenticateUser();});}function showPodiumView(_0x455621){const _0x3b3850=_0x13e7bb,_0x1f4832=Object[_0x3b3850(0x35c)](_0x455621)[_0x3b3850(0x324)](([_0x2a0c60,_0x1fa22a])=>({'name':_0x2a0c60,'score':_0x1fa22a[_0x3b3850(0x591)]||0x0,'badges':_0x1fa22a[_0x3b3850(0x2d8)]||[]}));_0x1f4832['sort']((_0x51da98,_0x265407)=>{const _0x17e18c=_0x3b3850,_0x215707=_0x265407[_0x17e18c(0x591)]-_0x51da98[_0x17e18c(0x591)];if(_0x215707!==0x0)return _0x215707;return(_0x265407[_0x17e18c(0x2d8)][_0x17e18c(0x338)]||0x0)-(_0x51da98[_0x17e18c(0x2d8)]['length']||0x0);});const _0x1f0e7c=_0x236a65=>{const _0x524049=_0x3b3850;if(!_0x236a65||_0x236a65[_0x524049(0x338)]===0x0)return'';const _0x346f8d={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x524049(0x205)+_0x236a65[_0x524049(0x324)](_0x391759=>_0x346f8d[_0x391759]||'')['join']('')+_0x524049(0x371);},_0x27c474=_0x1f4832[_0x3b3850(0x4ad)](0x3),_0x4a0bb6=_0x27c474[_0x3b3850(0x338)]>0x0?_0x3b3850(0x4a2)+_0x27c474[_0x3b3850(0x324)]((_0x37cc12,_0x3880f9)=>_0x3b3850(0x4c1)+(_0x3880f9+0x4)+_0x3b3850(0x33c)+_0x37cc12[_0x3b3850(0x4ab)]+_0x3b3850(0x49d)+_0x37cc12[_0x3b3850(0x591)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3b3850(0x53d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x3b3fad=_0x3b3850(0x4de)+(_0x1f4832[0x1]?_0x3b3850(0x316)+_0x1f4832[0x1][_0x3b3850(0x4ab)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f0e7c(_0x1f4832[0x1][_0x3b3850(0x2d8)])+_0x3b3850(0x42d)+_0x1f4832[0x1][_0x3b3850(0x591)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x3b3850(0x37c))+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1f4832[0x0]?_0x3b3850(0x632)+_0x1f4832[0x0][_0x3b3850(0x4ab)]+_0x3b3850(0x58a)+_0x1f0e7c(_0x1f4832[0x0][_0x3b3850(0x2d8)])+_0x3b3850(0x239)+_0x1f4832[0x0][_0x3b3850(0x591)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x3b3850(0x37c))+_0x3b3850(0x286)+(_0x1f4832[0x2]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x1f4832[0x2][_0x3b3850(0x4ab)]+_0x3b3850(0x58a)+_0x1f0e7c(_0x1f4832[0x2]['badges'])+_0x3b3850(0x42d)+_0x1f4832[0x2]['score']+_0x3b3850(0x582):'<div\x20class=\x22flex-1\x22></div>')+_0x3b3850(0x2b9)+_0x4a0bb6+'\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x3b3850(0x5fc)?_0x3b3850(0x2c9):_0x3b3850(0x242))+_0x3b3850(0x3c5);liveGameView['innerHTML']=_0x3b3fad,currentMode===_0x3b3850(0x5fc)&&document[_0x3b3850(0x5bf)](_0x3b3850(0x342))['addEventListener'](_0x3b3850(0x4b1),async()=>{const _0x460a52=_0x3b3850,_0x24dbd0=doc(db,_0x460a52(0x3f8)+appId+_0x460a52(0x66d),currentLiveGameId);await deleteDoc(_0x24dbd0),showView(_0x460a52(0x3fe));});}async function handleStartLiveRace(_0x330215){const _0xf2e52e=_0x13e7bb;let _0x4a0876=allQuizzes[_0xf2e52e(0x46e)](_0x57b6f3=>_0x57b6f3['id']===_0x330215);if(!_0x4a0876){const _0x58143d=doc(db,'artifacts/'+appId+_0xf2e52e(0x23a),_0x330215),_0x4c12e1=await getDoc(_0x58143d);if(!_0x4c12e1[_0xf2e52e(0x453)]()){showMessage(_0xf2e52e(0x4fd));return;}_0x4a0876={'id':_0x4c12e1['id'],..._0x4c12e1[_0xf2e52e(0x4aa)]()};}currentQuizData=getShuffledQuiz(_0x4a0876);const _0x334c2f=_0x4a0876[_0xf2e52e(0x524)]||currentProjectId||null,_0x3628d1=Math[_0xf2e52e(0x2bf)](0x3e8+Math[_0xf2e52e(0x418)]()*0x2328)[_0xf2e52e(0x543)]();currentLiveGamePin=_0x3628d1;try{const _0x57ce71=await addDoc(collection(db,'artifacts/'+appId+_0xf2e52e(0x66d)),{'quizId':_0x330215,'projectId':_0x334c2f,'status':_0xf2e52e(0x2a8),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x3628d1,'createdAt':serverTimestamp()});currentLiveGameId=_0x57ce71['id'],showAdminLobbyView(_0x3628d1,_0x4a0876[_0xf2e52e(0x40b)]),listenForLiveGameUpdates();}catch(_0x417f14){console['error'](_0xf2e52e(0x296),_0x417f14),showMessage(_0xf2e52e(0x2fd));}}async function handleShowStudentRankings(){const _0x4d948e=_0x13e7bb,_0x45703b=document[_0x4d948e(0x278)](_0x4d948e(0x55e));_0x45703b&&(_0x45703b[_0x4d948e(0x435)]=_0x4d948e(0x25b));const _0x287dda=document[_0x4d948e(0x278)]('#student-project-leaderboard-content\x20thead');_0x287dda&&(_0x287dda[_0x4d948e(0x435)]=_0x4d948e(0x3d6));const _0x367a2c=document[_0x4d948e(0x5bf)]('student-rankings-modal');_0x367a2c[_0x4d948e(0x4d6)]['remove'](_0x4d948e(0x4f5)),document['getElementById'](_0x4d948e(0x3c7))[_0x4d948e(0x214)]=()=>_0x367a2c['classList'][_0x4d948e(0x65f)](_0x4d948e(0x4f5));const _0xec4763=document[_0x4d948e(0x5bf)](_0x4d948e(0x3aa)),_0x4202db=document[_0x4d948e(0x5bf)](_0x4d948e(0x3ac)),_0x1d10cd=document['getElementById'](_0x4d948e(0x4e5)),_0x56b781=document[_0x4d948e(0x5bf)](_0x4d948e(0x2db));_0xec4763[_0x4d948e(0x214)]=()=>{const _0x3d6434=_0x4d948e;_0xec4763[_0x3d6434(0x4d6)]['add'](_0x3d6434(0x440)),_0x4202db[_0x3d6434(0x4d6)][_0x3d6434(0x325)](_0x3d6434(0x440)),_0x1d10cd[_0x3d6434(0x4d6)][_0x3d6434(0x325)](_0x3d6434(0x4f5)),_0x56b781[_0x3d6434(0x4d6)][_0x3d6434(0x65f)]('hidden');},_0x4202db[_0x4d948e(0x214)]=()=>{const _0x5650e1=_0x4d948e;_0x4202db['classList'][_0x5650e1(0x65f)](_0x5650e1(0x440)),_0xec4763[_0x5650e1(0x4d6)][_0x5650e1(0x325)]('active'),_0x56b781[_0x5650e1(0x4d6)][_0x5650e1(0x325)](_0x5650e1(0x4f5)),_0x1d10cd['classList'][_0x5650e1(0x65f)]('hidden');};try{const _0x31b785=collection(db,_0x4d948e(0x3f8)+appId+_0x4d948e(0x57f)+currentQuizData['id']+'/submissions'),_0x59272e=await getDocs(_0x31b785),_0x1f62d0=_0x59272e['docs'][_0x4d948e(0x324)](_0x2230c7=>_0x2230c7[_0x4d948e(0x4aa)]());renderQuizLeaderboard(_0x1f62d0,currentQuizData,'student-quiz-leaderboard-table-body');const _0x46b016=collection(db,'artifacts/'+appId+_0x4d948e(0x22f)+currentQuizData[_0x4d948e(0x524)]+_0x4d948e(0x1f5)),_0x56152e=await getDocs(_0x46b016),_0x4305c1=_0x56152e[_0x4d948e(0x66b)][_0x4d948e(0x324)](_0x2bb605=>_0x2bb605[_0x4d948e(0x4aa)]());renderLeaderboard(_0x4305c1,_0x4d948e(0x449));}catch(_0x45166d){console[_0x4d948e(0x43a)](_0x4d948e(0x3f3),_0x45166d),showMessage(_0x4d948e(0x24f));}}async function handleSaveToBank(_0x1db73a){const _0xb72a89=_0x13e7bb,_0x3d146f=_0x1db73a['currentTarget'],_0x14ab9a=_0x3d146f[_0xb72a89(0x471)][_0xb72a89(0x3cc)],_0x55aa69=currentQuizData[_0xb72a89(0x4ba)][_0x14ab9a];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x1036a9={..._0x55aa69,'originalTopic':currentQuizData[_0xb72a89(0x40b)],'savedAt':serverTimestamp()},_0x37f667=collection(db,_0xb72a89(0x3f8)+appId+_0xb72a89(0x30f)+userId+'/questionBank');await addDoc(_0x37f667,_0x1036a9),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x3d146f[_0xb72a89(0x4d6)]['remove']('text-purple-600'),_0x3d146f[_0xb72a89(0x4d6)][_0xb72a89(0x65f)](_0xb72a89(0x39b)),_0x3d146f['disabled']=!![];}catch(_0x18ec1e){console[_0xb72a89(0x43a)](_0xb72a89(0x262),_0x18ec1e),showMessage(_0xb72a89(0x4f3));}}function listenForStarredQuizzes(){const _0x434ebc=_0x13e7bb;if(!userId)return;const _0x3ded56=collection(db,'artifacts/'+appId+_0x434ebc(0x23a)),_0xf079c=query(_0x3ded56,where(_0x434ebc(0x249),'==',!![]));onSnapshot(_0xf079c,_0x1e165d=>{const _0x4ad116=_0x434ebc;starredQuizzes=_0x1e165d['docs'][_0x4ad116(0x324)](_0x4d62e0=>({'id':_0x4d62e0['id'],..._0x4d62e0[_0x4ad116(0x4aa)]()})),renderProjects();},_0x181d0e=>{console['error']('Error\x20listening\x20for\x20starred\x20quizzes:',_0x181d0e);});}async function handleToggleStarQuiz(_0x4ea205){const _0x5812d1=_0x13e7bb,_0x2966b1=doc(db,_0x5812d1(0x3f8)+appId+_0x5812d1(0x23a),_0x4ea205);try{const _0x35fe5c=await getDoc(_0x2966b1);if(_0x35fe5c[_0x5812d1(0x453)]()){const _0x38f9e9=_0x35fe5c[_0x5812d1(0x4aa)]()[_0x5812d1(0x249)]||![];await updateDoc(_0x2966b1,{'isStarred':!_0x38f9e9});}}catch(_0x601eab){console[_0x5812d1(0x43a)](_0x5812d1(0x388),_0x601eab),showMessage(_0x5812d1(0x456));}}async function displayQuestionBank(){const _0x33a29f=_0x13e7bb,_0x433790=document[_0x33a29f(0x5bf)]('bank-input-area');_0x433790['innerHTML']=_0x33a29f(0x1fb);try{const _0x2d9b7d=collection(db,'artifacts/'+appId+'/users/'+userId+'/questionBank'),_0x17ddf2=query(_0x2d9b7d),_0xc13321=await getDocs(_0x17ddf2);if(_0xc13321[_0x33a29f(0x609)]){_0x433790[_0x33a29f(0x435)]=_0x33a29f(0x334);return;}let _0x7da449=_0xc13321[_0x33a29f(0x66b)][_0x33a29f(0x324)](_0x4af0f7=>{const _0x8d885a=_0x33a29f,_0x250085=_0x4af0f7[_0x8d885a(0x4aa)](),_0x3e581d=_0x4af0f7['id'];return _0x8d885a(0x430)+JSON[_0x8d885a(0x301)](_0x250085)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x250085['questionText']||_0x250085['stem'])+_0x8d885a(0x3cf)+_0x250085['originalTopic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('');_0x433790['innerHTML']=_0x33a29f(0x3d3)+_0x7da449+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x33a29f(0x5bf)](_0x33a29f(0x581))[_0x33a29f(0x304)](_0x33a29f(0x4b1),createQuizFromBank);}catch(_0x5eb31d){console[_0x33a29f(0x43a)](_0x33a29f(0x2be),_0x5eb31d),_0x433790[_0x33a29f(0x435)]=_0x33a29f(0x57c);}}function showAdminLiveQuestionView(_0x1a8d8d,_0x4515d1,_0x52e233){const _0x4172d4=_0x13e7bb,_0x1a29ba=_0x1a8d8d['questionType']||currentQuizData[_0x4172d4(0x3b8)];let _0x169321='';if(_0x1a29ba==='multiple_choice'||_0x1a29ba===_0x4172d4(0x30e)){const _0x4b19f0=_0x1a29ba===_0x4172d4(0x30e)?[_0x4172d4(0x65d),_0x4172d4(0x500)]:_0x1a8d8d['options'],_0x54680d=_0x1a29ba===_0x4172d4(0x30e)?_0x1a8d8d[_0x4172d4(0x37d)]?0x0:0x1:_0x1a8d8d[_0x4172d4(0x5f4)];_0x169321=_0x4b19f0[_0x4172d4(0x324)]((_0x45b50f,_0x573c23)=>_0x4172d4(0x30b)+(_0x573c23===_0x54680d)+_0x4172d4(0x57b)+_0x45b50f+_0x4172d4(0x5f2))['join']('');}else{if(_0x1a29ba==='matching_item'){const _0x87ae17=_0x1a8d8d[_0x4172d4(0x21d)]||[];_0x169321=_0x87ae17['map'](_0x369610=>_0x4172d4(0x30b)+(_0x369610===_0x1a8d8d[_0x4172d4(0x374)])+_0x4172d4(0x57b)+_0x369610+_0x4172d4(0x5f2))[_0x4172d4(0x53d)]('');}}const _0x25d27f=_0x1a8d8d[_0x4172d4(0x309)]||_0x1a8d8d['questionText'],_0x16251a=_0x4172d4(0x65b)+(_0x4515d1+0x1)+_0x4172d4(0x491)+_0x52e233+_0x4172d4(0x5d9)+_0x25d27f+_0x4172d4(0x618)+_0x169321+_0x4172d4(0x3a6);liveGameView['innerHTML']=_0x16251a;window['MathJax']&&MathJax[_0x4172d4(0x26c)]&&MathJax[_0x4172d4(0x26c)]([liveGameView]);const _0x5d6331=document[_0x4172d4(0x5bf)](_0x4172d4(0x396));document[_0x4172d4(0x5bf)]('reveal-answer-btn')[_0x4172d4(0x304)](_0x4172d4(0x4b1),async()=>{const _0x2cbb69=_0x4172d4,_0x38d88c=doc(db,_0x2cbb69(0x3f8)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x38d88c,{'questionStatus':_0x2cbb69(0x22a)});const _0x213ab4=liveGameView['querySelector'](_0x2cbb69(0x4c9));_0x213ab4&&(_0x213ab4['classList']['remove']('bg-white/30'),_0x213ab4[_0x2cbb69(0x4d6)][_0x2cbb69(0x65f)](_0x2cbb69(0x2f0),_0x2cbb69(0x41d),_0x2cbb69(0x4a6),_0x2cbb69(0x51d),_0x2cbb69(0x50d)),_0x213ab4[_0x2cbb69(0x435)]=_0x2cbb69(0x314)+_0x213ab4[_0x2cbb69(0x435)]),_0x5d6331[_0x2cbb69(0x435)]=_0x2cbb69(0x4af)+(_0x4515d1+0x1===_0x52e233?_0x2cbb69(0x596):_0x2cbb69(0x281))+_0x2cbb69(0x568),document[_0x2cbb69(0x5bf)](_0x2cbb69(0x2cd))['addEventListener']('click',async()=>{const _0x37925d=_0x2cbb69,_0x1bbdaf=doc(db,_0x37925d(0x3f8)+appId+_0x37925d(0x66d),currentLiveGameId),_0x4689bb=await getDoc(_0x1bbdaf);if(!_0x4689bb[_0x37925d(0x453)]())return;const _0x42ff78=_0x4689bb[_0x37925d(0x4aa)](),_0x31cec0={};if(_0x42ff78[_0x37925d(0x2b1)])for(const _0x351abe in _0x42ff78[_0x37925d(0x2b1)]){_0x31cec0['players.'+_0x351abe+_0x37925d(0x469)]=![];}const _0x324e75=_0x4515d1+0x1;_0x324e75<_0x52e233?(_0x31cec0[_0x37925d(0x547)]=_0x324e75,_0x31cec0['questionDisplayedAt']=serverTimestamp(),_0x31cec0[_0x37925d(0x2d9)]='answering',await updateDoc(_0x1bbdaf,_0x31cec0)):await updateDoc(_0x1bbdaf,{'status':'podium'});});}),document[_0x4172d4(0x5bf)](_0x4172d4(0x629))['addEventListener'](_0x4172d4(0x4b1),async()=>{const _0xdcd1ac=_0x4172d4,_0x1fd7e9=doc(db,_0xdcd1ac(0x3f8)+appId+_0xdcd1ac(0x66d),currentLiveGameId);await deleteDoc(_0x1fd7e9),showView('admin-dashboard');});}function showStudentLiveQuestionView(_0x5e9186,_0x3b714d,_0x5604eb){const _0x4c06d7=_0x13e7bb,_0x310d4c=_0x5e9186[_0x4c06d7(0x4d3)]||currentQuizData['quizType'];let _0x524250='';if(_0x310d4c===_0x4c06d7(0x210)||_0x310d4c===_0x4c06d7(0x30e)){const _0x529882=_0x310d4c===_0x4c06d7(0x30e)?[_0x4c06d7(0x65d),_0x4c06d7(0x500)]:_0x5e9186[_0x4c06d7(0x53a)];_0x524250=_0x529882[_0x4c06d7(0x324)]((_0xe9af32,_0x21b060)=>_0x4c06d7(0x400)+_0x21b060+_0x4c06d7(0x266)+_0xe9af32+_0x4c06d7(0x63a))[_0x4c06d7(0x53d)]('');}else{if(_0x310d4c===_0x4c06d7(0x503)){const _0x2f6f3a=_0x5e9186[_0x4c06d7(0x21d)]||[];_0x524250=_0x2f6f3a[_0x4c06d7(0x324)]((_0x2eb486,_0x5971f0)=>_0x4c06d7(0x400)+_0x5971f0+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2eb486+_0x4c06d7(0x63a))[_0x4c06d7(0x53d)]('');}else _0x310d4c==='short_answer'&&(_0x524250=_0x4c06d7(0x302));}const _0x461020=_0x5e9186['stem']||_0x5e9186[_0x4c06d7(0x5e8)],_0x15414c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x3b714d+0x1)+_0x4c06d7(0x491)+_0x5604eb+_0x4c06d7(0x406)+_0x461020+_0x4c06d7(0x216)+_0x524250+_0x4c06d7(0x389);liveGameView[_0x4c06d7(0x435)]=_0x15414c;window[_0x4c06d7(0x52d)]&&MathJax[_0x4c06d7(0x26c)]&&MathJax[_0x4c06d7(0x26c)]([liveGameView]);const _0x36c93c=document[_0x4c06d7(0x5bf)](_0x4c06d7(0x49c));_0x36c93c&&_0x36c93c['addEventListener'](_0x4c06d7(0x4b1),()=>{const _0x4166dc=_0x4c06d7,_0x15c170=document[_0x4166dc(0x5bf)](_0x4166dc(0x2f6))[_0x4166dc(0x44d)];handleLiveAnswer(_0x15c170,_0x5e9186);}),document['getElementById'](_0x4c06d7(0x4cc))['addEventListener'](_0x4c06d7(0x4b1),_0x2d1a3a=>{const _0x374f13=_0x4c06d7,_0x1edf07=_0x2d1a3a[_0x374f13(0x34e)][_0x374f13(0x3d4)]('.live-answer-btn');if(_0x1edf07){const _0x54bbb5=parseInt(_0x1edf07['dataset']['index']);handleLiveAnswer(_0x54bbb5,_0x5e9186);}});}async function handleLiveAnswer(_0x343076,_0x3de8ab){const _0x58d245=_0x13e7bb;document[_0x58d245(0x5f9)]('.live-answer-btn,\x20#live-submit-short-answer-btn')['forEach'](_0x2766ac=>_0x2766ac[_0x58d245(0x5dc)]=!![]);const _0x2cf9cc=_0x3de8ab[_0x58d245(0x4d3)]||currentQuizData['quizType'];let _0x46b2af=![];if(_0x2cf9cc===_0x58d245(0x3c1)){const _0x4eb678=(_0x343076||'')['toString']();_0x46b2af=await gradeShortAnswer(_0x4eb678,_0x3de8ab);}else{if(_0x2cf9cc===_0x58d245(0x210))_0x46b2af=_0x343076===_0x3de8ab[_0x58d245(0x5f4)];else{if(_0x2cf9cc===_0x58d245(0x30e)){const _0xde3c7d=_0x3de8ab[_0x58d245(0x37d)];_0x46b2af=_0x343076===0x0&&_0xde3c7d||_0x343076===0x1&&!_0xde3c7d;}else{if(_0x2cf9cc==='matching_item'){const _0x5e4725=_0x3de8ab[_0x58d245(0x21d)][_0x343076];_0x46b2af=_0x5e4725===_0x3de8ab['correctResponse'];}}}}const _0x4471ce=doc(db,_0x58d245(0x3f8)+appId+_0x58d245(0x66d),currentLiveGameId),_0x1de979=await getDoc(_0x4471ce);if(!_0x1de979['exists']())return;const _0x415cbf=_0x1de979[_0x58d245(0x4aa)](),_0x534bdc=_0x415cbf[_0x58d245(0x2b1)][currentStudentName];let _0x190866=_0x534bdc[_0x58d245(0x2d8)]||[],_0xab2b7=_0x534bdc['correctStreak']||0x0;const _0x2cf426={};let _0x3fc8e5=0x0;if(_0x415cbf[_0x58d245(0x1f7)]){const _0x48f804=_0x415cbf[_0x58d245(0x1f7)][_0x58d245(0x35a)](),_0x3b960e=new Date()-_0x48f804;if(_0x46b2af){const _0xfa12fb=0x3e8,_0x112560=0x1f4,_0x18976a=0x4e20;let _0x4e0f9b=_0x3b960e/_0x18976a;if(_0x4e0f9b>0x1)_0x4e0f9b=0x1;const _0x3f0485=Math[_0x58d245(0x46f)](_0x4e0f9b*_0x112560);_0x3fc8e5=_0xfa12fb-_0x3f0485,_0x3b960e<=0x1388&&!_0x190866[_0x58d245(0x4f8)](_0x58d245(0x38e))&&_0x190866[_0x58d245(0x378)](_0x58d245(0x38e));}}_0x46b2af?(_0xab2b7++,_0xab2b7===0x3&&!_0x190866[_0x58d245(0x4f8)]('on_fire')&&(_0x190866[_0x58d245(0x378)](_0x58d245(0x5ab)),_0xab2b7=0x0)):_0xab2b7=0x0,_0x46b2af&&(_0x2cf426['players.'+currentStudentName+'.score']=increment(_0x3fc8e5)),_0x2cf426[_0x58d245(0x4e0)+currentStudentName+'.badges']=_0x190866,_0x2cf426[_0x58d245(0x4e0)+currentStudentName+_0x58d245(0x5f7)]=_0xab2b7,_0x2cf426['players.'+currentStudentName+_0x58d245(0x469)]=!![],_0x2cf426[_0x58d245(0x4e0)+currentStudentName+_0x58d245(0x62b)]=_0x46b2af,_0x2cf426[_0x58d245(0x4e0)+currentStudentName+_0x58d245(0x39f)]=_0x3fc8e5,await updateDoc(_0x4471ce,_0x2cf426),liveGameView[_0x58d245(0x435)]=_0x58d245(0x515);}function createQuizFromBank(){const _0x126d57=_0x13e7bb,_0x158e70=document[_0x126d57(0x5f9)](_0x126d57(0x38f));if(_0x158e70[_0x126d57(0x338)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x17f68e=[];_0x158e70[_0x126d57(0x2ec)](_0x5aa760=>{const _0x231e1b=_0x126d57;_0x17f68e['push'](JSON[_0x231e1b(0x62e)](_0x5aa760[_0x231e1b(0x44d)]));});const _0x209fed={'topic':_0x126d57(0x41b),'questions':_0x17f68e};displayGeneratedQuiz(_0x209fed);}function showAdminLobbyView(_0x21962d,_0x31a25a){const _0x1687ba=_0x13e7bb;showView(_0x1687ba(0x290));const _0x336616=_0x1687ba(0x341)+_0x31a25a+_0x1687ba(0x658)+_0x21962d+_0x1687ba(0x624);liveGameView['innerHTML']=_0x336616,document[_0x1687ba(0x5bf)](_0x1687ba(0x27e))[_0x1687ba(0x304)]('click',async()=>{const _0x540320=_0x1687ba;if(!currentQuizData||!currentQuizData[_0x540320(0x4ba)]||currentQuizData['questions']['length']===0x0){showMessage(_0x540320(0x3bd));return;}try{const _0x45744a=doc(db,'artifacts/'+appId+_0x540320(0x66d),currentLiveGameId);await updateDoc(_0x45744a,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x411a66=currentQuizData[_0x540320(0x4ba)][0x0],_0x3a85db=currentQuizData['questions'][_0x540320(0x338)];showAdminLiveQuestionView(_0x411a66,0x0,_0x3a85db);}catch(_0x184f7b){console[_0x540320(0x43a)](_0x540320(0x56e),_0x184f7b),showMessage(_0x540320(0x465));}});}async function openGlobalLiveModal(){const _0x53508f=_0x13e7bb;if(allQuizzesGlobal[_0x53508f(0x338)]===0x0){const _0x2f2a17=await getDocs(collection(db,_0x53508f(0x3f8)+appId+_0x53508f(0x23a)));allQuizzesGlobal=_0x2f2a17[_0x53508f(0x66b)][_0x53508f(0x324)](_0x3944f3=>({'id':_0x3944f3['id'],..._0x3944f3['data']()}));}renderGlobalQuizList(''),document[_0x53508f(0x5bf)](_0x53508f(0x551))['classList'][_0x53508f(0x325)](_0x53508f(0x4f5));}function renderGlobalQuizList(_0x109d71=''){const _0x40b161=_0x13e7bb,_0x5e1242=document['getElementById'](_0x40b161(0x4a9)),_0x2a2da6=_0x109d71[_0x40b161(0x2a9)]()[_0x40b161(0x258)](),_0x179ad1=allQuizzesGlobal[_0x40b161(0x324)](_0x13551c=>({..._0x13551c,'projectName':allProjects[_0x40b161(0x46e)](_0xdccbc0=>_0xdccbc0['id']===_0x13551c[_0x40b161(0x524)])?.[_0x40b161(0x5c5)]||_0x13551c[_0x40b161(0x524)]}))[_0x40b161(0x433)](_0x2524e4=>(_0x2524e4['topic']||'')[_0x40b161(0x2a9)]()['includes'](_0x2a2da6)||(_0x2524e4[_0x40b161(0x5c5)]||'')[_0x40b161(0x2a9)]()[_0x40b161(0x4f8)](_0x2a2da6));_0x5e1242['innerHTML']=_0x179ad1[_0x40b161(0x338)]?_0x179ad1[_0x40b161(0x324)](_0x577290=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x577290['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20'+(_0x577290['topic']||_0x40b161(0x204))+_0x40b161(0x270)+(_0x577290[_0x40b161(0x4ba)]?.[_0x40b161(0x338)]||0x0)+_0x40b161(0x5e9)+_0x577290['projectName']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20')[_0x40b161(0x53d)](''):_0x40b161(0x438),selectedGlobalQuizId=null,document[_0x40b161(0x5bf)](_0x40b161(0x312))[_0x40b161(0x5dc)]=!![],_0x5e1242[_0x40b161(0x5f9)](_0x40b161(0x5ed))['forEach'](_0x2dd9bc=>{const _0x53c51c=_0x40b161;_0x2dd9bc['addEventListener'](_0x53c51c(0x4b1),()=>{const _0x389379=_0x53c51c;selectedGlobalQuizId=_0x2dd9bc[_0x389379(0x471)]['id'],_0x5e1242[_0x389379(0x5f9)](_0x389379(0x552))['forEach'](_0xe89fd5=>_0xe89fd5[_0x389379(0x4d6)]['remove'](_0x389379(0x43b),'ring-2','ring-purple-400')),_0x2dd9bc[_0x389379(0x4d6)][_0x389379(0x65f)](_0x389379(0x43b),_0x389379(0x653),_0x389379(0x4b6)),document[_0x389379(0x5bf)]('confirm-global-live-btn')['disabled']=![];});});}function listenForLiveGameUpdates(){const _0x2f9a62=_0x13e7bb;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x494e29=doc(db,_0x2f9a62(0x3f8)+appId+_0x2f9a62(0x66d),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x494e29,_0x26c6de=>{const _0x2d9446=_0x2f9a62;if(!_0x26c6de['exists']()){showMessage(_0x2d9446(0x523)),showView(currentMode);return;}const _0x5658a9=_0x26c6de[_0x2d9446(0x4aa)]();!currentQuizData&&_0x5658a9[_0x2d9446(0x268)]&&((async()=>{const _0x273e26=_0x2d9446;try{const _0x1c891d=doc(db,'artifacts/'+appId+_0x273e26(0x23a),_0x5658a9['quizId']),_0x3311a6=await getDoc(_0x1c891d);_0x3311a6[_0x273e26(0x453)]()&&(currentQuizData={'id':_0x3311a6['id'],..._0x3311a6[_0x273e26(0x4aa)]()});}catch(_0x578188){console[_0x273e26(0x43a)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x578188);}})());switch(_0x5658a9['status']){case _0x2d9446(0x2a8):if(currentMode===_0x2d9446(0x5fc)){const _0x3f6af0=_0x5658a9['players']?Object[_0x2d9446(0x532)](_0x5658a9['players']):[];document[_0x2d9446(0x5bf)](_0x2d9446(0x43c))['textContent']=_0x3f6af0[_0x2d9446(0x338)],document[_0x2d9446(0x5bf)]('player-list-lobby')[_0x2d9446(0x435)]=_0x3f6af0[_0x2d9446(0x324)](_0x3a9781=>_0x2d9446(0x35d)+_0x3a9781+_0x2d9446(0x4a5))['join']('');const _0x409389=document[_0x2d9446(0x5bf)](_0x2d9446(0x27e));_0x409389&&(_0x409389[_0x2d9446(0x5dc)]=_0x3f6af0[_0x2d9446(0x338)]===0x0);}else showView(_0x2d9446(0x290)),liveGameView[_0x2d9446(0x435)]=_0x2d9446(0x64a)+currentStudentName+_0x2d9446(0x28d);break;case _0x2d9446(0x475):const _0x99d248=_0x5658a9[_0x2d9446(0x547)];if(currentQuizData&&currentQuizData['questions'][_0x99d248]){const _0x5ba3c9=currentQuizData['questions'][_0x99d248],_0x1123e1=currentQuizData[_0x2d9446(0x4ba)][_0x2d9446(0x338)];if(currentMode==='admin'){lastRenderedAdminQuestionIndex!==_0x99d248&&(showAdminLiveQuestionView(_0x5ba3c9,_0x99d248,_0x1123e1),lastRenderedAdminQuestionIndex=_0x99d248);const _0x27fc4c=document['getElementById'](_0x2d9446(0x575));if(_0x27fc4c&&_0x5658a9[_0x2d9446(0x2b1)]){const _0xdab718=Object[_0x2d9446(0x532)](_0x5658a9['players'])[_0x2d9446(0x338)],_0x22bda8=Object[_0x2d9446(0x567)](_0x5658a9[_0x2d9446(0x2b1)])['filter'](_0x468a3e=>_0x468a3e[_0x2d9446(0x495)]===!![])[_0x2d9446(0x338)];_0x27fc4c[_0x2d9446(0x660)]=_0x22bda8+'/'+_0xdab718,_0xdab718>0x0&&_0x22bda8===_0xdab718&&_0x5658a9[_0x2d9446(0x2d9)]!=='revealed'&&revealAnswerForAdmin(_0x99d248,_0x1123e1);}}else{const _0x2f007a=_0x5658a9[_0x2d9446(0x2b1)][currentStudentName];if(_0x5658a9[_0x2d9446(0x2d9)]===_0x2d9446(0x22a)){if(_0x2f007a[_0x2d9446(0x495)]){const _0x9579cb=_0x2f007a[_0x2d9446(0x458)],_0x123104=_0x2f007a[_0x2d9446(0x412)]||0x0,_0x4f5e68=_0x9579cb?_0x2d9446(0x201)+_0x123104+_0x2d9446(0x538):_0x2d9446(0x54f);liveGameView['innerHTML']=_0x2d9446(0x411)+_0x4f5e68+'</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>';}else liveGameView[_0x2d9446(0x435)]=_0x2d9446(0x381);}else!_0x2f007a[_0x2d9446(0x495)]&&showStudentLiveQuestionView(_0x5ba3c9,_0x99d248,_0x1123e1);}}break;case _0x2d9446(0x432):showPodiumView(_0x5658a9[_0x2d9446(0x2b1)]);break;}});}async function authenticateUser(){const _0x173cb5=_0x13e7bb;try{typeof __initial_auth_token!==_0x173cb5(0x4d1)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x45558f){console['error'](_0x173cb5(0x58c),_0x45558f),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x2d6d4f){const _0x49c8aa=_0x13e7bb,_0x46dafb=[_0x49c8aa(0x3dc),_0x49c8aa(0x598),_0x49c8aa(0x267),_0x49c8aa(0x672),_0x49c8aa(0x2ea),_0x49c8aa(0x413)];_0x46dafb[_0x49c8aa(0x2ec)](_0x1b6fec=>document[_0x49c8aa(0x5bf)](_0x1b6fec)?.['classList'][_0x49c8aa(0x65f)](_0x49c8aa(0x4f5)));if(_0x2d6d4f===_0x49c8aa(0x3fe))adminView[_0x49c8aa(0x4d6)][_0x49c8aa(0x325)](_0x49c8aa(0x4f5)),projectDashboardView['classList'][_0x49c8aa(0x325)](_0x49c8aa(0x4f5));else{if(_0x2d6d4f===_0x49c8aa(0x4ed))studentView['classList'][_0x49c8aa(0x325)](_0x49c8aa(0x4f5)),studentInitialView[_0x49c8aa(0x4d6)]['remove'](_0x49c8aa(0x4f5)),studentNameSelectionView[_0x49c8aa(0x4d6)][_0x49c8aa(0x65f)](_0x49c8aa(0x4f5)),studentQuizArea['classList'][_0x49c8aa(0x65f)](_0x49c8aa(0x4f5)),studentResultArea[_0x49c8aa(0x4d6)][_0x49c8aa(0x65f)](_0x49c8aa(0x4f5)),studentReadingArea['classList'][_0x49c8aa(0x65f)](_0x49c8aa(0x4f5)),studentJoinGameView['classList'][_0x49c8aa(0x65f)](_0x49c8aa(0x4f5));else{if(_0x2d6d4f===_0x49c8aa(0x486))adminView['classList'][_0x49c8aa(0x325)](_0x49c8aa(0x4f5)),projectDetailView[_0x49c8aa(0x4d6)][_0x49c8aa(0x325)](_0x49c8aa(0x4f5));else{if(_0x2d6d4f===_0x49c8aa(0x67f))adminView[_0x49c8aa(0x4d6)][_0x49c8aa(0x325)](_0x49c8aa(0x4f5)),quizResultsView[_0x49c8aa(0x4d6)][_0x49c8aa(0x325)]('hidden');else _0x2d6d4f===_0x49c8aa(0x290)&&liveGameView[_0x49c8aa(0x4d6)][_0x49c8aa(0x325)]('hidden');}}}}function showJoinGameView(){const _0x23b595=_0x13e7bb;studentInitialView[_0x23b595(0x4d6)][_0x23b595(0x65f)](_0x23b595(0x4f5)),studentJoinGameView['classList'][_0x23b595(0x325)](_0x23b595(0x4f5));}function setupEventListeners(){const _0x4e2bd5=_0x13e7bb;document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x4d5))['addEventListener'](_0x4e2bd5(0x4b1),handleModeSwitch),document['getElementById'](_0x4e2bd5(0x634))[_0x4e2bd5(0x304)]('click',()=>{const _0x4751f2=_0x4e2bd5;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x4751f2(0x3fe));}),document['getElementById'](_0x4e2bd5(0x531))[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>{const _0x4bfed2=_0x4e2bd5;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x4bfed2(0x486));}),document['getElementById'](_0x4e2bd5(0x602))[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>{const _0x395886=_0x4e2bd5;showView(_0x395886(0x3fe));}),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x56c))[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>messageModal[_0x4e2bd5(0x4d6)]['add']('hidden')),document['getElementById']('create-project-btn')[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>createProjectModal[_0x4e2bd5(0x4d6)][_0x4e2bd5(0x325)](_0x4e2bd5(0x4f5))),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x633))[_0x4e2bd5(0x304)]('click',()=>createProjectModal[_0x4e2bd5(0x4d6)][_0x4e2bd5(0x65f)](_0x4e2bd5(0x4f5))),document[_0x4e2bd5(0x5bf)]('cancel-admin-login-btn')[_0x4e2bd5(0x304)]('click',()=>adminPasswordModal[_0x4e2bd5(0x4d6)][_0x4e2bd5(0x65f)](_0x4e2bd5(0x4f5))),document[_0x4e2bd5(0x5bf)]('confirm-admin-login-btn')[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),handleAdminLogin),document[_0x4e2bd5(0x5bf)]('admin-password-input')[_0x4e2bd5(0x304)]('keyup',_0x18a5d9=>{const _0x3b7e7b=_0x4e2bd5;if(_0x18a5d9[_0x3b7e7b(0x53c)]===_0x3b7e7b(0x572))handleAdminLogin();}),document['getElementById'](_0x4e2bd5(0x251))['addEventListener'](_0x4e2bd5(0x4b1),()=>{const _0x3d8c2f=_0x4e2bd5;confirmationModal[_0x3d8c2f(0x4d6)][_0x3d8c2f(0x65f)](_0x3d8c2f(0x4f5)),confirmAction=null;}),document['getElementById'](_0x4e2bd5(0x648))['addEventListener'](_0x4e2bd5(0x4b1),()=>{confirmAction&&confirmAction(),confirmationModal['classList']['add']('hidden'),confirmAction=null;}),document['getElementById'](_0x4e2bd5(0x20b))['addEventListener'](_0x4e2bd5(0x4b1),()=>renameQuizModal[_0x4e2bd5(0x4d6)][_0x4e2bd5(0x65f)](_0x4e2bd5(0x4f5))),document['getElementById'](_0x4e2bd5(0x33d))['addEventListener'](_0x4e2bd5(0x4b1),confirmRenameQuiz),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x509))[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>moveQuizModal[_0x4e2bd5(0x4d6)]['add'](_0x4e2bd5(0x4f5))),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x4fe))['addEventListener']('click',confirmMoveQuiz),document['getElementById']('cancel-quiz-settings-btn')[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>quizSettingsModal[_0x4e2bd5(0x4d6)][_0x4e2bd5(0x65f)](_0x4e2bd5(0x4f5))),document['getElementById'](_0x4e2bd5(0x657))[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),confirmQuizSettings),document['getElementById'](_0x4e2bd5(0x3b4))[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>quizStatusModal[_0x4e2bd5(0x4d6)][_0x4e2bd5(0x65f)](_0x4e2bd5(0x4f5))),document['getElementById'](_0x4e2bd5(0x57e))[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),confirmQuizStatus),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x29e))[_0x4e2bd5(0x304)]('click',openGlobalLiveModal),document['getElementById'](_0x4e2bd5(0x5b9))['addEventListener'](_0x4e2bd5(0x4b1),()=>{const _0x2a64e2=_0x4e2bd5;document['getElementById'](_0x2a64e2(0x551))[_0x2a64e2(0x4d6)][_0x2a64e2(0x65f)](_0x2a64e2(0x4f5)),selectedGlobalQuizId=null;}),document['getElementById'](_0x4e2bd5(0x284))[_0x4e2bd5(0x304)](_0x4e2bd5(0x40c),_0x2bd1f3=>renderGlobalQuizList(_0x2bd1f3[_0x4e2bd5(0x34e)][_0x4e2bd5(0x44d)])),document['getElementById']('confirm-global-live-btn')[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>{const _0x2d3008=_0x4e2bd5,_0x1b3ed1=selectedGlobalQuizId;if(!_0x1b3ed1)return;document[_0x2d3008(0x5bf)]('global-live-game-modal')['classList']['add'](_0x2d3008(0x4f5)),handleStartLiveRace(_0x1b3ed1);}),document['getElementById'](_0x4e2bd5(0x2bd))['addEventListener'](_0x4e2bd5(0x40c),renderProjects),document['getElementById'](_0x4e2bd5(0x404))[_0x4e2bd5(0x304)](_0x4e2bd5(0x443),renderProjects),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x24b))['addEventListener'](_0x4e2bd5(0x40c),renderQuizzes),manageTab['addEventListener'](_0x4e2bd5(0x4b1),()=>switchProjectTab('manage')),resultsTab[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>switchProjectTab(_0x4e2bd5(0x2fe))),leaderboardTab[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>switchProjectTab(_0x4e2bd5(0x520))),document['getElementById'](_0x4e2bd5(0x339))[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>switchQuizDetailTab(_0x4e2bd5(0x357))),document[_0x4e2bd5(0x5bf)]('scores-tab-btn')['addEventListener']('click',()=>switchQuizDetailTab(_0x4e2bd5(0x476))),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x3bb))[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>switchQuizDetailTab(_0x4e2bd5(0x42f))),document[_0x4e2bd5(0x5bf)]('analyze-strengths-btn')[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),handleAnalyzeClass),generateWorksheetBtn[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),generateWorksheet);const _0x1c2405=document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x546)),_0x37c625=document['getElementById'](_0x4e2bd5(0x3b1));topicTab[_0x4e2bd5(0x304)]('click',()=>{const _0x576201=_0x4e2bd5;topicTab[_0x576201(0x4d6)][_0x576201(0x65f)](_0x576201(0x440)),textTab[_0x576201(0x4d6)][_0x576201(0x325)]('active'),fileTab[_0x576201(0x4d6)][_0x576201(0x325)](_0x576201(0x440)),worksheetTab['classList']['remove'](_0x576201(0x440));if(_0x1c2405)_0x1c2405[_0x576201(0x4d6)][_0x576201(0x325)](_0x576201(0x440));topicInputArea[_0x576201(0x4d6)]['remove']('hidden'),textInputArea['classList'][_0x576201(0x65f)]('hidden'),fileInputArea[_0x576201(0x4d6)]['add'](_0x576201(0x4f5)),worksheetInputArea[_0x576201(0x4d6)][_0x576201(0x65f)]('hidden');if(_0x37c625)_0x37c625[_0x576201(0x4d6)][_0x576201(0x65f)](_0x576201(0x4f5));}),textTab[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>{const _0x1fe5a8=_0x4e2bd5;textTab[_0x1fe5a8(0x4d6)][_0x1fe5a8(0x65f)](_0x1fe5a8(0x440)),topicTab[_0x1fe5a8(0x4d6)][_0x1fe5a8(0x325)]('active'),fileTab[_0x1fe5a8(0x4d6)][_0x1fe5a8(0x325)](_0x1fe5a8(0x440)),worksheetTab[_0x1fe5a8(0x4d6)][_0x1fe5a8(0x325)](_0x1fe5a8(0x440));if(_0x1c2405)_0x1c2405[_0x1fe5a8(0x4d6)][_0x1fe5a8(0x325)](_0x1fe5a8(0x440));textInputArea['classList'][_0x1fe5a8(0x325)](_0x1fe5a8(0x4f5)),topicInputArea[_0x1fe5a8(0x4d6)][_0x1fe5a8(0x65f)]('hidden'),fileInputArea[_0x1fe5a8(0x4d6)][_0x1fe5a8(0x65f)]('hidden'),worksheetInputArea['classList'][_0x1fe5a8(0x65f)](_0x1fe5a8(0x4f5));if(_0x37c625)_0x37c625['classList'][_0x1fe5a8(0x65f)](_0x1fe5a8(0x4f5));}),fileTab[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>{const _0x367ea3=_0x4e2bd5;fileTab[_0x367ea3(0x4d6)][_0x367ea3(0x65f)]('active'),topicTab[_0x367ea3(0x4d6)][_0x367ea3(0x325)](_0x367ea3(0x440)),textTab[_0x367ea3(0x4d6)][_0x367ea3(0x325)](_0x367ea3(0x440)),worksheetTab['classList']['remove'](_0x367ea3(0x440));if(_0x1c2405)_0x1c2405[_0x367ea3(0x4d6)][_0x367ea3(0x325)](_0x367ea3(0x440));fileInputArea[_0x367ea3(0x4d6)]['remove'](_0x367ea3(0x4f5)),topicInputArea['classList'][_0x367ea3(0x65f)](_0x367ea3(0x4f5)),textInputArea[_0x367ea3(0x4d6)][_0x367ea3(0x65f)](_0x367ea3(0x4f5)),worksheetInputArea[_0x367ea3(0x4d6)][_0x367ea3(0x65f)](_0x367ea3(0x4f5));if(_0x37c625)_0x37c625[_0x367ea3(0x4d6)][_0x367ea3(0x65f)](_0x367ea3(0x4f5));}),worksheetTab[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>{const _0x3748d6=_0x4e2bd5;worksheetTab[_0x3748d6(0x4d6)][_0x3748d6(0x65f)](_0x3748d6(0x440)),topicTab['classList']['remove'](_0x3748d6(0x440)),textTab[_0x3748d6(0x4d6)][_0x3748d6(0x325)]('active'),fileTab[_0x3748d6(0x4d6)][_0x3748d6(0x325)]('active');if(_0x1c2405)_0x1c2405['classList'][_0x3748d6(0x325)](_0x3748d6(0x440));worksheetInputArea['classList']['remove'](_0x3748d6(0x4f5)),topicInputArea[_0x3748d6(0x4d6)][_0x3748d6(0x65f)](_0x3748d6(0x4f5)),textInputArea[_0x3748d6(0x4d6)][_0x3748d6(0x65f)](_0x3748d6(0x4f5)),fileInputArea[_0x3748d6(0x4d6)][_0x3748d6(0x65f)](_0x3748d6(0x4f5));if(_0x37c625)_0x37c625[_0x3748d6(0x4d6)][_0x3748d6(0x65f)](_0x3748d6(0x4f5));});const _0x1357c1=document['getElementById']('bank-tab'),_0x557b62=document['getElementById'](_0x4e2bd5(0x446));_0x1357c1&&_0x1357c1['addEventListener'](_0x4e2bd5(0x4b1),()=>{const _0x2f74b8=_0x4e2bd5;topicTab['classList']['remove'](_0x2f74b8(0x440)),textTab[_0x2f74b8(0x4d6)][_0x2f74b8(0x325)](_0x2f74b8(0x440)),fileTab[_0x2f74b8(0x4d6)][_0x2f74b8(0x325)](_0x2f74b8(0x440)),worksheetTab['classList'][_0x2f74b8(0x325)]('active');if(_0x1c2405)_0x1c2405['classList'][_0x2f74b8(0x325)]('active');_0x1357c1[_0x2f74b8(0x4d6)][_0x2f74b8(0x65f)](_0x2f74b8(0x440)),topicInputArea[_0x2f74b8(0x4d6)][_0x2f74b8(0x65f)]('hidden'),textInputArea[_0x2f74b8(0x4d6)][_0x2f74b8(0x65f)](_0x2f74b8(0x4f5)),fileInputArea[_0x2f74b8(0x4d6)][_0x2f74b8(0x65f)](_0x2f74b8(0x4f5)),worksheetInputArea[_0x2f74b8(0x4d6)][_0x2f74b8(0x65f)](_0x2f74b8(0x4f5));if(_0x37c625)_0x37c625[_0x2f74b8(0x4d6)]['add'](_0x2f74b8(0x4f5));_0x557b62['classList'][_0x2f74b8(0x325)]('hidden'),displayQuestionBank();});_0x1c2405&&(_0x1c2405['addEventListener']('click',()=>{const _0x1563aa=_0x4e2bd5;topicTab[_0x1563aa(0x4d6)]['remove'](_0x1563aa(0x440)),textTab[_0x1563aa(0x4d6)][_0x1563aa(0x325)](_0x1563aa(0x440)),fileTab[_0x1563aa(0x4d6)]['remove'](_0x1563aa(0x440)),worksheetTab[_0x1563aa(0x4d6)][_0x1563aa(0x325)]('active'),_0x1c2405[_0x1563aa(0x4d6)][_0x1563aa(0x65f)]('active'),topicInputArea['classList'][_0x1563aa(0x65f)](_0x1563aa(0x4f5)),textInputArea[_0x1563aa(0x4d6)][_0x1563aa(0x65f)](_0x1563aa(0x4f5)),fileInputArea[_0x1563aa(0x4d6)]['add']('hidden'),worksheetInputArea['classList'][_0x1563aa(0x65f)](_0x1563aa(0x4f5)),_0x37c625[_0x1563aa(0x4d6)]['remove'](_0x1563aa(0x4f5));}),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x327))[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),handleGenerateFromLink));loadQuizBtn['addEventListener'](_0x4e2bd5(0x4b1),handleLoadQuiz),startQuizBtn[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>{const _0xe8b80a=_0x4e2bd5,_0x4c5693=document[_0xe8b80a(0x5bf)](_0xe8b80a(0x565));currentStudentName=_0x4c5693[_0xe8b80a(0x44d)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}studentNameSelectionView[_0xe8b80a(0x4d6)][_0xe8b80a(0x65f)](_0xe8b80a(0x4f5)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x32a))[_0x4e2bd5(0x304)]('click',showJoinGameView),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x224))[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),handleJoinLiveGame),document[_0x4e2bd5(0x5bf)]('back-to-student-initial-btn')[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>showView(_0x4e2bd5(0x4ed)));const _0x59104b=()=>{const _0x181377=_0x4e2bd5,_0x457198=document['getElementById'](_0x181377(0x5f1))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x181377(0x2a9)]();return _0x181377(0x59c)+(_0x457198||_0x181377(0x553));};document[_0x4e2bd5(0x5bf)]('export-image-btn')[_0x4e2bd5(0x304)]('click',()=>exportTableAsImage(_0x4e2bd5(0x22d),_0x59104b())),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x49b))[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>exportTableAsPDF(_0x4e2bd5(0x215),_0x59104b())),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x3e6))[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>exportTableAsWord(_0x4e2bd5(0x22d),_0x59104b())),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x3d2))[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>exportTableAsExcel(_0x4e2bd5(0x215),_0x59104b()));const _0x18a6dc=()=>{const _0x5ca690=_0x4e2bd5,_0x2ea732=document[_0x5ca690(0x5bf)](_0x5ca690(0x5f1))[_0x5ca690(0x660)][_0x5ca690(0x4a4)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'leaderboard_'+(_0x2ea732||'quiz');};document[_0x4e2bd5(0x5bf)]('export-leaderboard-image-btn')['addEventListener'](_0x4e2bd5(0x4b1),()=>exportTableAsImage(_0x4e2bd5(0x5c6),_0x18a6dc())),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x287))[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>exportTableAsPDF(_0x4e2bd5(0x2c1),_0x18a6dc())),document[_0x4e2bd5(0x5bf)]('export-leaderboard-word-btn')[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>exportTableAsWord(_0x4e2bd5(0x5c6),_0x18a6dc())),document[_0x4e2bd5(0x5bf)]('export-leaderboard-excel-btn')[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>exportTableAsExcel(_0x4e2bd5(0x2c1),_0x18a6dc())),projectQuizzesList[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),async _0x735b1e=>{const _0x48debf=_0x4e2bd5,_0x36850f=_0x735b1e[_0x48debf(0x34e)][_0x48debf(0x3d4)](_0x48debf(0x5fd)),_0x29b23b=_0x735b1e[_0x48debf(0x34e)][_0x48debf(0x3d4)](_0x48debf(0x50a)),_0x221974=_0x735b1e[_0x48debf(0x34e)][_0x48debf(0x3d4)](_0x48debf(0x217)),_0x2ac317=_0x735b1e[_0x48debf(0x34e)][_0x48debf(0x3d4)](_0x48debf(0x4c0)),_0x13b689=_0x735b1e[_0x48debf(0x34e)][_0x48debf(0x3d4)](_0x48debf(0x385)),_0x36eb66=_0x735b1e[_0x48debf(0x34e)][_0x48debf(0x3d4)](_0x48debf(0x5c1)),_0x4e4c1d=_0x735b1e['target'][_0x48debf(0x3d4)](_0x48debf(0x46a)),_0x3aaca1=_0x735b1e[_0x48debf(0x34e)][_0x48debf(0x3d4)](_0x48debf(0x566)),_0x1dfb79=_0x735b1e[_0x48debf(0x34e)]['closest'](_0x48debf(0x50b)),_0x2de1c6=_0x735b1e[_0x48debf(0x34e)]['closest'](_0x48debf(0x27a)),_0x6cc6af=_0x735b1e['target'][_0x48debf(0x3d4)](_0x48debf(0x434)),_0x3618d5=_0x735b1e[_0x48debf(0x34e)][_0x48debf(0x3d4)](_0x48debf(0x649));if(_0x3618d5){const _0xa5bbf8=_0x3618d5[_0x48debf(0x471)]['quizId'];handleOpenQuizEditor(_0xa5bbf8);}else{if(_0x36850f){const _0x508287=_0x36850f['dataset']['quizId'];handleToggleStarQuiz(_0x508287);}else{if(_0x6cc6af){const _0x2edc04=_0x6cc6af['dataset']['quizId'];handleStartLiveRace(_0x2edc04);}else{if(_0x29b23b){const _0x40e5cc=_0x29b23b[_0x48debf(0x471)][_0x48debf(0x268)],_0x3981bd=_0x29b23b['dataset'][_0x48debf(0x40b)];showConfirmation(_0x48debf(0x5be)+_0x3981bd+_0x48debf(0x53e),()=>handleDeleteQuiz(_0x40e5cc));}else{if(_0x221974){const _0x3d478b=_0x221974['dataset'][_0x48debf(0x268)];copyTextToClipboard(_0x3d478b,_0x48debf(0x45f));}else{if(_0x2ac317){const _0xf9127=_0x2ac317[_0x48debf(0x471)][_0x48debf(0x268)],_0x34adb9=doc(db,_0x48debf(0x3f8)+appId+'/public/data/quizzes',_0xf9127),_0x26071b=await getDoc(_0x34adb9);if(_0x26071b[_0x48debf(0x453)]()){const _0x14ca33={'id':_0x26071b['id'],..._0x26071b[_0x48debf(0x4aa)]()};startPresentation(_0x14ca33);}else showMessage(_0x48debf(0x4fd));}else{if(_0x13b689){const _0x413dea=_0x13b689[_0x48debf(0x471)][_0x48debf(0x268)],_0x4dbcb9=doc(db,'artifacts/'+appId+_0x48debf(0x23a),_0x413dea),_0x2c790a=await getDoc(_0x4dbcb9);_0x2c790a[_0x48debf(0x453)]()?(currentQuizData={'id':_0x2c790a['id'],..._0x2c790a[_0x48debf(0x4aa)]()},startAdminTest()):showMessage(_0x48debf(0x4fd));}else{if(_0x36eb66){const _0x200708=_0x36eb66[_0x48debf(0x471)][_0x48debf(0x268)],_0x5dc3f1=_0x36eb66['dataset'][_0x48debf(0x40b)];handleRenameQuiz(_0x200708,_0x5dc3f1);}else{if(_0x4e4c1d){const _0xc71ff4=_0x4e4c1d[_0x48debf(0x471)][_0x48debf(0x268)];handleMoveQuiz(_0xc71ff4);}else{if(_0x3aaca1){const _0x3786bb=_0x3aaca1[_0x48debf(0x471)][_0x48debf(0x268)];handleQuizSettings(_0x3786bb);}else{if(_0x1dfb79){const _0x40f3cd=_0x1dfb79[_0x48debf(0x471)][_0x48debf(0x268)];handleQuizStatus(_0x40f3cd);}else{if(_0x2de1c6){const _0x5374d8=_0x2de1c6[_0x48debf(0x471)][_0x48debf(0x268)];handleDuplicateQuiz(_0x5374d8);}}}}}}}}}}}}}),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x2c1))[_0x4e2bd5(0x278)]('thead')['addEventListener'](_0x4e2bd5(0x4b1),_0x13fb7f=>{const _0x599b98=_0x4e2bd5,_0x29deb8=_0x13fb7f[_0x599b98(0x34e)][_0x599b98(0x3d4)](_0x599b98(0x276));if(!_0x29deb8||!_0x29deb8[_0x599b98(0x471)][_0x599b98(0x4d2)])return;const _0x414315=_0x29deb8['dataset'][_0x599b98(0x4d2)];if(quizLeaderboardSortBy===_0x414315)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x599b98(0x484)?_0x599b98(0x27d):_0x599b98(0x484);else{quizLeaderboardSortBy=_0x414315;const _0x2965cd=[_0x599b98(0x580)];quizLeaderboardSortOrder=_0x2965cd[_0x599b98(0x4f8)](_0x414315)?_0x599b98(0x484):_0x599b98(0x27d);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x599b98(0x64d));}),document[_0x4e2bd5(0x5bf)]('close-presentation-btn')[_0x4e2bd5(0x304)]('click',closePresentation),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x441))['addEventListener'](_0x4e2bd5(0x4b1),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x4e2bd5(0x1fe))[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>{const _0x4e42cf=_0x4e2bd5;currentQuizData[_0x4e42cf(0x4ba)]&&currentPresentationSlide<currentQuizData[_0x4e42cf(0x4ba)][_0x4e42cf(0x338)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x4e2bd5(0x304)](_0x4e2bd5(0x3e5),()=>{const _0x7905ab=_0x4e2bd5;!document[_0x7905ab(0x222)]&&(presentationModal['style'][_0x7905ab(0x428)]='none');}),document[_0x4e2bd5(0x5bf)]('delete-all-students-btn')['addEventListener'](_0x4e2bd5(0x4b1),handleDeleteAllStudents),studentList[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),_0x7350a2=>{const _0x513fa9=_0x4e2bd5,_0x921daf=_0x7350a2['target'][_0x513fa9(0x3d4)](_0x513fa9(0x3be));if(_0x921daf){const _0x16b4a9=_0x921daf[_0x513fa9(0x471)][_0x513fa9(0x580)];handleDeleteStudent(_0x16b4a9);}}),document['getElementById']('generate-from-file-btn')[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),handleGenerateFromFileClick),fileUploadInput[_0x4e2bd5(0x304)]('change',_0x21b117=>{const _0x2509c5=_0x4e2bd5,_0x42697e=_0x21b117[_0x2509c5(0x34e)]['files'][0x0],_0x2af415=document['getElementById']('generate-from-file-btn');_0x42697e?(selectedFile=_0x42697e,_0x2af415[_0x2509c5(0x5dc)]=![]):(selectedFile=null,_0x2af415[_0x2509c5(0x5dc)]=!![]);}),document['getElementById']('timer-mode-select')[_0x4e2bd5(0x304)](_0x4e2bd5(0x443),_0x4fff53=>{const _0x14ac49=_0x4e2bd5,_0xb1c8ae=document[_0x14ac49(0x5bf)](_0x14ac49(0x348)),_0x3ddc9d=document[_0x14ac49(0x5bf)](_0x14ac49(0x3ef)),_0x46b94e=document['getElementById'](_0x14ac49(0x3dd));_0x4fff53[_0x14ac49(0x34e)][_0x14ac49(0x44d)]===_0x14ac49(0x3e0)?_0xb1c8ae[_0x14ac49(0x4d6)][_0x14ac49(0x65f)](_0x14ac49(0x4f5)):(_0xb1c8ae[_0x14ac49(0x4d6)][_0x14ac49(0x325)]('hidden'),_0x4fff53['target']['value']===_0x14ac49(0x375)?(_0x3ddc9d[_0x14ac49(0x660)]=_0x14ac49(0x2d4),_0x46b94e['value']='10'):(_0x3ddc9d[_0x14ac49(0x660)]=_0x14ac49(0x4d8),_0x46b94e[_0x14ac49(0x44d)]='30'));}),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x35e))[_0x4e2bd5(0x304)]('change',_0x1ebbd6=>{const _0x11e9b2=_0x4e2bd5,_0x213995=document[_0x11e9b2(0x5bf)](_0x11e9b2(0x4a8)),_0x534ffe=_0x1ebbd6[_0x11e9b2(0x34e)][_0x11e9b2(0x44d)],_0x5915d3=document[_0x11e9b2(0x278)]('label[for=\x22num-questions\x22]'),_0x52546f=document[_0x11e9b2(0x5bf)](_0x11e9b2(0x493)),_0x410a59=document[_0x11e9b2(0x5bf)](_0x11e9b2(0x542));_0x534ffe==='matching'?_0x5915d3[_0x11e9b2(0x660)]='จำนวนคู่:':_0x5915d3[_0x11e9b2(0x660)]=_0x11e9b2(0x5d8),_0x534ffe===_0x11e9b2(0x210)||_0x534ffe===_0x11e9b2(0x259)||_0x534ffe===_0x11e9b2(0x64e)?_0x213995[_0x11e9b2(0x4d6)][_0x11e9b2(0x325)](_0x11e9b2(0x4f5)):_0x213995[_0x11e9b2(0x4d6)][_0x11e9b2(0x65f)](_0x11e9b2(0x4f5)),_0x52546f['max']=_0x410a59[_0x11e9b2(0x44d)];}),document[_0x4e2bd5(0x5bf)]('num-questions')[_0x4e2bd5(0x304)](_0x4e2bd5(0x40c),_0x5218ee=>{const _0x38aabb=_0x4e2bd5;document[_0x38aabb(0x5bf)]('passing-score-input')[_0x38aabb(0x3c9)]=_0x5218ee['target'][_0x38aabb(0x44d)];}),document['getElementById'](_0x4e2bd5(0x321))[_0x4e2bd5(0x304)]('change',_0x246c59=>{const _0x43cc14=_0x4e2bd5,_0x1aedcf=document['getElementById'](_0x43cc14(0x585)),_0x3ad6fe=document[_0x43cc14(0x5bf)](_0x43cc14(0x55c)),_0x1a2b91=document[_0x43cc14(0x5bf)](_0x43cc14(0x320));_0x246c59[_0x43cc14(0x34e)][_0x43cc14(0x44d)]===_0x43cc14(0x3e0)?_0x1aedcf[_0x43cc14(0x4d6)][_0x43cc14(0x65f)](_0x43cc14(0x4f5)):(_0x1aedcf[_0x43cc14(0x4d6)][_0x43cc14(0x325)](_0x43cc14(0x4f5)),_0x246c59[_0x43cc14(0x34e)][_0x43cc14(0x44d)]===_0x43cc14(0x375)?_0x3ad6fe[_0x43cc14(0x660)]=_0x43cc14(0x2d4):_0x3ad6fe[_0x43cc14(0x660)]=_0x43cc14(0x4d8));}),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x3f7))[_0x4e2bd5(0x304)]('click',()=>{const _0x32d096=_0x4e2bd5;document[_0x32d096(0x5bf)](_0x32d096(0x2ed))['classList'][_0x32d096(0x65f)]('hidden');}),document['getElementById'](_0x4e2bd5(0x3ab))[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>{const _0x439907=_0x4e2bd5;document[_0x439907(0x5bf)]('quiz-editor-modal')[_0x439907(0x4d6)]['add'](_0x439907(0x4f5));}),document[_0x4e2bd5(0x5bf)](_0x4e2bd5(0x640))[_0x4e2bd5(0x304)](_0x4e2bd5(0x4b1),()=>{const _0x1c5617=_0x4e2bd5;document[_0x1c5617(0x5bf)]('quiz-editor-modal')[_0x1c5617(0x4d6)]['add'](_0x1c5617(0x4f5)),showConfirmation(_0x1c5617(0x52e),handleSaveChanges);});}function handleModeSwitch(){const _0x14fd58=_0x13e7bb,_0x5dc5c2=document[_0x14fd58(0x5bf)](_0x14fd58(0x4d5));currentMode==='student'?(adminPasswordModal[_0x14fd58(0x4d6)][_0x14fd58(0x325)](_0x14fd58(0x4f5)),document[_0x14fd58(0x5bf)]('admin-password-input')[_0x14fd58(0x593)]()):(currentMode='student',_0x5dc5c2[_0x14fd58(0x435)]=_0x14fd58(0x3b7),_0x5dc5c2[_0x14fd58(0x597)]=_0x14fd58(0x3b3),showView(_0x14fd58(0x4ed)));}function handleAdminLogin(){const _0x21c606=_0x13e7bb,_0x5443dc=document[_0x21c606(0x5bf)]('admin-password-input'),_0x218351=document['getElementById'](_0x21c606(0x512));if(_0x5443dc[_0x21c606(0x44d)]==='2741'){adminPasswordModal[_0x21c606(0x4d6)][_0x21c606(0x65f)]('hidden'),_0x5443dc[_0x21c606(0x44d)]='',_0x218351[_0x21c606(0x4d6)][_0x21c606(0x65f)](_0x21c606(0x4f5)),currentMode=_0x21c606(0x5fc);const _0x569a83=document[_0x21c606(0x5bf)]('mode-switcher-btn');_0x569a83['innerHTML']='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x569a83[_0x21c606(0x597)]='สลับไปโหมดนักเรียน',showView(_0x21c606(0x3fe));}else _0x218351[_0x21c606(0x4d6)][_0x21c606(0x325)](_0x21c606(0x4f5)),_0x5443dc[_0x21c606(0x44d)]='';}function switchProjectTab(_0x441c52){const _0x5b5377=_0x13e7bb;[_0x5b5377(0x498),_0x5b5377(0x2fe),'leaderboard']['forEach'](_0x2bb0d1=>{const _0x36828e=_0x5b5377;document[_0x36828e(0x5bf)](_0x2bb0d1+'-tab')[_0x36828e(0x4d6)]['remove'](_0x36828e(0x440)),document[_0x36828e(0x5bf)](_0x2bb0d1+'-tab-content')['classList'][_0x36828e(0x65f)](_0x36828e(0x4f5));}),document['getElementById'](_0x441c52+_0x5b5377(0x3ed))['classList'][_0x5b5377(0x65f)](_0x5b5377(0x440)),document[_0x5b5377(0x5bf)](_0x441c52+_0x5b5377(0x60e))[_0x5b5377(0x4d6)][_0x5b5377(0x325)]('hidden');}function switchQuizDetailTab(_0x9f92e0){const _0x3c1c3a=_0x13e7bb,_0x44e3f8={'analytics':{'btn':_0x3c1c3a(0x339),'content':_0x3c1c3a(0x447)},'scores':{'btn':'scores-tab-btn','content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x3c1c3a(0x3bb),'content':_0x3c1c3a(0x468)}};for(const _0x5a61e8 in _0x44e3f8){document[_0x3c1c3a(0x5bf)](_0x44e3f8[_0x5a61e8]['btn'])['classList'][_0x3c1c3a(0x325)]('active'),document['getElementById'](_0x44e3f8[_0x5a61e8][_0x3c1c3a(0x240)])[_0x3c1c3a(0x4d6)][_0x3c1c3a(0x65f)](_0x3c1c3a(0x4f5));}document[_0x3c1c3a(0x5bf)](_0x44e3f8[_0x9f92e0][_0x3c1c3a(0x5f5)])[_0x3c1c3a(0x4d6)][_0x3c1c3a(0x65f)](_0x3c1c3a(0x440)),document[_0x3c1c3a(0x5bf)](_0x44e3f8[_0x9f92e0]['content'])[_0x3c1c3a(0x4d6)][_0x3c1c3a(0x325)](_0x3c1c3a(0x4f5));}function showMessage(_0xa52525){const _0x43a595=_0x13e7bb;modalMessage[_0x43a595(0x660)]=_0xa52525,messageModal[_0x43a595(0x4d6)]['remove']('hidden');}function showConfirmation(_0x2cefa2,_0x2e4673){const _0x534fea=_0x13e7bb;document['getElementById'](_0x534fea(0x362))[_0x534fea(0x660)]=_0x2cefa2,document[_0x534fea(0x5bf)]('confirmation-modal')[_0x534fea(0x278)]('h3')[_0x534fea(0x660)]=_0x534fea(0x380),confirmAction=_0x2e4673,confirmationModal[_0x534fea(0x4d6)][_0x534fea(0x325)](_0x534fea(0x4f5));}function listenForProjects(){const _0x28b081=_0x13e7bb,_0x13edc3=collection(db,'artifacts/'+appId+_0x28b081(0x235));unsubscribeProjectsListener=onSnapshot(_0x13edc3,_0x3515ae=>{const _0x2e5851=_0x28b081;allProjects=_0x3515ae[_0x2e5851(0x66b)][_0x2e5851(0x324)](_0x3d18c9=>({'id':_0x3d18c9['id'],..._0x3d18c9[_0x2e5851(0x4aa)]()})),renderProjects();},_0x456814=>{const _0x1c57b2=_0x28b081;console[_0x1c57b2(0x43a)]('Error\x20listening\x20for\x20projects:',_0x456814),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}async function renderProjects(){const _0x1a4fa2=_0x13e7bb,_0x186fa6=document[_0x1a4fa2(0x5bf)]('project-search-input')[_0x1a4fa2(0x44d)]['toLowerCase'](),_0x104f3f=document[_0x1a4fa2(0x5bf)]('project-sort-select')['value'];let _0x46e354=allProjects['filter'](_0x4fa860=>_0x4fa860['projectName'][_0x1a4fa2(0x2a9)]()[_0x1a4fa2(0x4f8)](_0x186fa6));_0x46e354['sort']((_0x20d455,_0x1a4b5d)=>{const _0x1e3b34=_0x1a4fa2;switch(_0x104f3f){case'name_asc':return _0x20d455[_0x1e3b34(0x5c5)][_0x1e3b34(0x300)](_0x1a4b5d['projectName'],'th');case _0x1e3b34(0x373):return _0x1a4b5d[_0x1e3b34(0x5c5)]['localeCompare'](_0x20d455[_0x1e3b34(0x5c5)],'th');case _0x1e3b34(0x494):return new Date(_0x20d455[_0x1e3b34(0x48c)])-new Date(_0x1a4b5d['createdAt']);case _0x1e3b34(0x44c):default:return new Date(_0x1a4b5d[_0x1e3b34(0x48c)])-new Date(_0x20d455[_0x1e3b34(0x48c)]);}});const _0x14ad63={};await Promise[_0x1a4fa2(0x2ba)](_0x46e354[_0x1a4fa2(0x324)](async _0x2fa38d=>{const _0x2743b2=_0x1a4fa2,_0x44218a=query(collection(db,'artifacts/'+appId+_0x2743b2(0x23a)),where(_0x2743b2(0x524),'==',_0x2fa38d['id'])),_0xbb5658=await getDocs(_0x44218a);_0x14ad63[_0x2fa38d['id']]=_0xbb5658['size'];}));let _0x3c773b='';starredQuizzes[_0x1a4fa2(0x338)]>0x0&&(_0x3c773b+=_0x1a4fa2(0x344)+starredQuizzes[_0x1a4fa2(0x338)]+_0x1a4fa2(0x21c)),_0x46e354[_0x1a4fa2(0x2ec)](_0x5b3f4f=>{const _0x30a35e=_0x1a4fa2,_0x2d137e=_0x14ad63[_0x5b3f4f['id']]??0x0;_0x3c773b+=_0x30a35e(0x387)+_0x5b3f4f['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>'+_0x5b3f4f['projectName']+_0x30a35e(0x525)+new Date(_0x5b3f4f[_0x30a35e(0x48c)])['toLocaleDateString'](_0x30a35e(0x2e8))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x2d137e+_0x30a35e(0x397)+_0x5b3f4f['id']+_0x30a35e(0x56f)+_0x5b3f4f[_0x30a35e(0x5c5)]+_0x30a35e(0x3f0);}),projectList[_0x1a4fa2(0x435)]=_0x3c773b,noProjectsMsg[_0x1a4fa2(0x4d6)][_0x1a4fa2(0x4e8)]('hidden',_0x3c773b[_0x1a4fa2(0x338)]>0x0);}document[_0x13e7bb(0x5bf)]('confirm-create-project-btn')['addEventListener'](_0x13e7bb(0x4b1),async()=>{const _0x4d5d55=_0x13e7bb,_0x49f1e2=document['getElementById'](_0x4d5d55(0x39c)),_0x577185=_0x49f1e2['value'][_0x4d5d55(0x258)]();if(!_0x577185){showMessage(_0x4d5d55(0x611));return;}try{const _0x5c75f0=doc(collection(db,_0x4d5d55(0x3f8)+appId+_0x4d5d55(0x235)));await setDoc(_0x5c75f0,{'projectName':_0x577185,'students':[],'settings':{'resultsDisplay':_0x4d5d55(0x65c),'shuffleSetting':_0x4d5d55(0x3e0),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x4d5d55(0x3e0),'timerDuration':0xa},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x49f1e2[_0x4d5d55(0x44d)]='',createProjectModal[_0x4d5d55(0x4d6)][_0x4d5d55(0x65f)](_0x4d5d55(0x4f5)),showMessage(_0x4d5d55(0x48b));}catch(_0x4d50af){console[_0x4d5d55(0x43a)](_0x4d5d55(0x5e6),_0x4d50af),showMessage(_0x4d5d55(0x2a1));}}),projectList[_0x13e7bb(0x304)](_0x13e7bb(0x4b1),async _0x2bec24=>{const _0xcfe642=_0x13e7bb,_0x3299bc=_0x2bec24[_0xcfe642(0x34e)][_0xcfe642(0x3d4)]('.project-card-content'),_0x22c71e=_0x2bec24[_0xcfe642(0x34e)][_0xcfe642(0x3d4)]('.delete-project-btn');if(_0x3299bc){const _0x3ff9a1=_0x3299bc[_0xcfe642(0x471)]['id'];_0x3ff9a1==='starred-project'?showStarredProjectView():(currentProjectId=_0x3ff9a1,await loadProjectDetails(currentProjectId),showView(_0xcfe642(0x486)));}else{if(_0x22c71e){const _0x1e1f2c=_0x22c71e['dataset']['id'],_0x4ee009=_0x22c71e[_0xcfe642(0x471)][_0xcfe642(0x4ab)];showConfirmation(_0xcfe642(0x5cc)+_0x4ee009+_0xcfe642(0x3d7),()=>handleDeleteProject(_0x1e1f2c));}}});function showStarredProjectView(){const _0x1d1234=_0x13e7bb;currentProjectId=_0x1d1234(0x5b7),currentProjectData=null,projectTitle[_0x1d1234(0x660)]=_0x1d1234(0x1fd),projectIdDisplay[_0x1d1234(0x660)]=_0x1d1234(0x583),showView(_0x1d1234(0x486)),manageTab[_0x1d1234(0x4d6)][_0x1d1234(0x65f)](_0x1d1234(0x4f5)),leaderboardTab[_0x1d1234(0x4d6)][_0x1d1234(0x65f)](_0x1d1234(0x4f5)),switchProjectTab(_0x1d1234(0x2fe)),renderQuizzes();}async function loadProjectDetails(_0x5d816e){const _0x24d41e=_0x13e7bb,_0x2d2c0d=doc(db,_0x24d41e(0x3f8)+appId+'/public/data/projects',_0x5d816e),_0x819e64=await getDoc(_0x2d2c0d);if(_0x819e64[_0x24d41e(0x453)]()){manageTab[_0x24d41e(0x4d6)][_0x24d41e(0x325)]('hidden'),leaderboardTab[_0x24d41e(0x4d6)][_0x24d41e(0x325)](_0x24d41e(0x4f5)),currentProjectData=_0x819e64[_0x24d41e(0x4aa)](),projectTitle[_0x24d41e(0x660)]=currentProjectData['projectName'],projectIdDisplay[_0x24d41e(0x660)]=_0x5d816e;const _0x32294a=currentProjectData['settings']||{};document[_0x24d41e(0x5bf)](_0x24d41e(0x542))[_0x24d41e(0x44d)]=_0x32294a[_0x24d41e(0x5aa)]||0x5,document['getElementById'](_0x24d41e(0x2b4))[_0x24d41e(0x44d)]=_0x32294a[_0x24d41e(0x2b3)]||0x4,document[_0x24d41e(0x5bf)](_0x24d41e(0x493))[_0x24d41e(0x44d)]=_0x32294a['defaultPassingScore']||Math['floor']((_0x32294a[_0x24d41e(0x5aa)]||0x5)/0x2),document['getElementById'](_0x24d41e(0x493))[_0x24d41e(0x3c9)]=_0x32294a[_0x24d41e(0x5aa)]||0x5,document[_0x24d41e(0x5bf)](_0x24d41e(0x212))[_0x24d41e(0x44d)]=_0x32294a[_0x24d41e(0x472)]||_0x24d41e(0x65c),document[_0x24d41e(0x5bf)](_0x24d41e(0x34b))[_0x24d41e(0x44d)]=_0x32294a[_0x24d41e(0x2de)]||_0x24d41e(0x3e0);const _0x3cd23e=_0x32294a[_0x24d41e(0x36e)]||_0x24d41e(0x3e0),_0x20e4dd=_0x32294a[_0x24d41e(0x426)]||0xa,_0x2067f4=document[_0x24d41e(0x5bf)]('timer-mode-select'),_0x49dbf7=document['getElementById']('timer-duration-container'),_0x57c20d=document[_0x24d41e(0x5bf)](_0x24d41e(0x3dd));_0x2067f4[_0x24d41e(0x44d)]=_0x3cd23e,_0x57c20d[_0x24d41e(0x44d)]=_0x20e4dd;_0x3cd23e===_0x24d41e(0x3e0)?_0x49dbf7[_0x24d41e(0x4d6)]['add'](_0x24d41e(0x4f5)):_0x49dbf7[_0x24d41e(0x4d6)][_0x24d41e(0x325)]('hidden');_0x2067f4[_0x24d41e(0x3ec)](new Event(_0x24d41e(0x443)));if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x5d816e),listenForProjectQuizzes(_0x5d816e),listenForStudentProfiles(_0x5d816e);}else showMessage(_0x24d41e(0x297)),showView(_0x24d41e(0x3fe));}async function handleDeleteProject(_0x528b96){const _0x1dd481=_0x13e7bb;try{const _0x23efee=writeBatch(db),_0x32d14d=collection(db,_0x1dd481(0x3f8)+appId+_0x1dd481(0x23a)),_0x2038d4=query(_0x32d14d,where(_0x1dd481(0x524),'==',_0x528b96)),_0x1d8815=await getDocs(_0x2038d4);for(const _0x3c07de of _0x1d8815['docs']){const _0x5c9090=collection(db,'artifacts/'+appId+_0x1dd481(0x57f)+_0x3c07de['id']+_0x1dd481(0x51e)),_0x585f3b=await getDocs(_0x5c9090);_0x585f3b[_0x1dd481(0x2ec)](_0x3e14a2=>{const _0x46a6a0=_0x1dd481;_0x23efee[_0x46a6a0(0x517)](_0x3e14a2[_0x46a6a0(0x54d)]);}),_0x23efee[_0x1dd481(0x517)](_0x3c07de[_0x1dd481(0x54d)]);}const _0x4f77aa=collection(db,_0x1dd481(0x3f8)+appId+_0x1dd481(0x22f)+_0x528b96+_0x1dd481(0x1f5)),_0x256241=await getDocs(_0x4f77aa);_0x256241['forEach'](_0x159842=>{const _0x223fcb=_0x1dd481;_0x23efee[_0x223fcb(0x517)](_0x159842['ref']);});const _0x167139=doc(db,'artifacts/'+appId+_0x1dd481(0x235),_0x528b96);_0x23efee[_0x1dd481(0x517)](_0x167139),await _0x23efee[_0x1dd481(0x608)](),showMessage(_0x1dd481(0x4c7)),showView('admin-dashboard');}catch(_0x6040f8){console[_0x1dd481(0x43a)](_0x1dd481(0x5e3),_0x6040f8),showMessage(_0x1dd481(0x5b4));}}document[_0x13e7bb(0x5bf)](_0x13e7bb(0x51c))['addEventListener'](_0x13e7bb(0x4b1),async()=>{const _0x34b618=_0x13e7bb;if(!currentProjectId)return;const _0x11f427={'defaultNumQuestions':parseInt(document[_0x34b618(0x5bf)](_0x34b618(0x542))[_0x34b618(0x44d)]),'defaultNumChoices':parseInt(document[_0x34b618(0x5bf)](_0x34b618(0x2b4))[_0x34b618(0x44d)]),'defaultPassingScore':parseInt(document[_0x34b618(0x5bf)](_0x34b618(0x493))[_0x34b618(0x44d)]),'resultsDisplay':document[_0x34b618(0x5bf)](_0x34b618(0x212))[_0x34b618(0x44d)],'shuffleSetting':document[_0x34b618(0x5bf)](_0x34b618(0x34b))[_0x34b618(0x44d)],'timerMode':document[_0x34b618(0x5bf)](_0x34b618(0x4e1))['value'],'timerDuration':parseInt(document[_0x34b618(0x5bf)](_0x34b618(0x3dd))[_0x34b618(0x44d)])};try{const _0x6df9b6=doc(db,_0x34b618(0x3f8)+appId+_0x34b618(0x235),currentProjectId);await updateDoc(_0x6df9b6,{'settings':_0x11f427}),showMessage(_0x34b618(0x5e7));}catch(_0x19d395){console[_0x34b618(0x43a)](_0x34b618(0x25a),_0x19d395),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x4719c3){const _0xbea6b6=_0x13e7bb,_0x1c7d46=doc(db,_0xbea6b6(0x3f8)+appId+'/public/data/projects',_0x4719c3);unsubscribeStudentsListener=onSnapshot(_0x1c7d46,_0x72ea41=>{const _0x23aae1=_0xbea6b6;if(_0x72ea41[_0x23aae1(0x453)]()){const _0x1ab664=_0x72ea41['data']();currentProjectData=_0x1ab664,renderStudentList(_0x1ab664[_0x23aae1(0x561)]||[]);}});}function renderStudentList(_0x2ce845){const _0x11857c=_0x13e7bb,_0x4a32f1=document[_0x11857c(0x5bf)](_0x11857c(0x337));_0x2ce845[_0x11857c(0x338)]===0x0?(studentList[_0x11857c(0x435)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x4a32f1[_0x11857c(0x4d6)]['add'](_0x11857c(0x4f5))):(studentList['innerHTML']=_0x2ce845[_0x11857c(0x324)](_0x575824=>_0x11857c(0x528)+_0x575824+_0x11857c(0x2b2)+_0x575824+_0x11857c(0x670))[_0x11857c(0x53d)](''),_0x4a32f1[_0x11857c(0x4d6)][_0x11857c(0x325)]('hidden'));}document['getElementById'](_0x13e7bb(0x522))['addEventListener'](_0x13e7bb(0x4b1),async()=>{const _0x4aa4a9=_0x13e7bb;if(!currentProjectId)return;const _0x22f21c=document[_0x4aa4a9(0x5bf)]('student-name-input'),_0x3d2ccc=_0x22f21c[_0x4aa4a9(0x44d)]['trim']();if(!_0x3d2ccc){showMessage(_0x4aa4a9(0x4b4));return;}const _0x5287e2=_0x3d2ccc[_0x4aa4a9(0x600)]('\x0a')[_0x4aa4a9(0x324)](_0x109e71=>_0x109e71['trim']())[_0x4aa4a9(0x433)](_0xfa4fbf=>_0xfa4fbf);if(_0x5287e2[_0x4aa4a9(0x338)]===0x0)return;try{const _0x3560a4=doc(db,'artifacts/'+appId+_0x4aa4a9(0x235),currentProjectId),_0x5858bf=await getDoc(_0x3560a4);if(_0x5858bf[_0x4aa4a9(0x453)]()){const _0x130008=_0x5858bf[_0x4aa4a9(0x4aa)]()['students']||[],_0x4c07c1=[...new Set([..._0x130008,..._0x5287e2])];await updateDoc(_0x3560a4,{'students':_0x4c07c1}),_0x22f21c[_0x4aa4a9(0x44d)]='';}}catch(_0x182999){console['error']('Error\x20adding\x20students:',_0x182999),showMessage(_0x4aa4a9(0x2ac));}});function handleDeleteStudent(_0x21598c){const _0x2e6bff=_0x13e7bb;showConfirmation(_0x2e6bff(0x2f3)+_0x21598c+_0x2e6bff(0x5ea),async()=>{const _0x5e59dd=_0x2e6bff;if(!currentProjectId||!currentProjectData)return;const _0x2b456e=currentProjectData[_0x5e59dd(0x561)][_0x5e59dd(0x433)](_0x63ca69=>_0x63ca69!==_0x21598c);try{const _0x26413b=doc(db,_0x5e59dd(0x3f8)+appId+'/public/data/projects',currentProjectId),_0x322b2f=doc(db,_0x5e59dd(0x3f8)+appId+_0x5e59dd(0x22f)+currentProjectId+_0x5e59dd(0x1f5),_0x21598c),_0x74f0fa=writeBatch(db);_0x74f0fa[_0x5e59dd(0x5e0)](_0x26413b,{'students':_0x2b456e}),_0x74f0fa['delete'](_0x322b2f),await _0x74f0fa[_0x5e59dd(0x608)]();}catch(_0x3c0e62){console['error']('Error\x20deleting\x20student:',_0x3c0e62),showMessage(_0x5e59dd(0x38a));}});}function handleDeleteAllStudents(){const _0x237c51=_0x13e7bb;showConfirmation(_0x237c51(0x401),async()=>{const _0x27f5f1=_0x237c51;if(!currentProjectId)return;try{const _0x4e06ae=doc(db,_0x27f5f1(0x3f8)+appId+'/public/data/projects',currentProjectId),_0x2f80f0=collection(db,_0x27f5f1(0x3f8)+appId+_0x27f5f1(0x22f)+currentProjectId+'/studentProfiles'),_0x4f427f=await getDocs(_0x2f80f0),_0x21f6c3=writeBatch(db);_0x21f6c3[_0x27f5f1(0x5e0)](_0x4e06ae,{'students':[]}),_0x4f427f['forEach'](_0x2d05ee=>_0x21f6c3['delete'](_0x2d05ee['ref'])),await _0x21f6c3[_0x27f5f1(0x608)]();}catch(_0x4ad57c){console[_0x27f5f1(0x43a)](_0x27f5f1(0x23b),_0x4ad57c),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}async function handleGenerateFromFileClick(){const _0x470060=_0x13e7bb;if(!selectedFile){showMessage(_0x470060(0x232));return;}const _0x2c8f20=document['getElementById']('loader'),_0x4ec6bb=document[_0x470060(0x5bf)](_0x470060(0x1f4)),_0x2da8d5=document['getElementById'](_0x470060(0x22c)),_0x500e61=document[_0x470060(0x5bf)](_0x470060(0x67e));_0x500e61[_0x470060(0x5dc)]=!![],document[_0x470060(0x5bf)](_0x470060(0x544))[_0x470060(0x4d6)][_0x470060(0x325)](_0x470060(0x4f5)),_0x2da8d5[_0x470060(0x435)]='',_0x2c8f20[_0x470060(0x4d6)][_0x470060(0x325)](_0x470060(0x4f5)),_0x4ec6bb[_0x470060(0x660)]='กำลังอ่านและเตรียมไฟล์...';const _0x1fb4b3=new FileReader();_0x1fb4b3[_0x470060(0x60b)](selectedFile),_0x1fb4b3['onload']=async()=>{const _0x2ea38c=_0x470060;try{const _0x588e1f=_0x1fb4b3['result'][_0x2ea38c(0x600)](',')[0x1],_0x27a1e9=selectedFile['type'];await generateQuizFromFile(_0x27a1e9,_0x588e1f);}catch(_0x210fdd){console[_0x2ea38c(0x43a)](_0x2ea38c(0x3a4),_0x210fdd),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x210fdd['message']),_0x2c8f20[_0x2ea38c(0x4d6)]['add'](_0x2ea38c(0x4f5));}finally{}},_0x1fb4b3[_0x470060(0x511)]=_0x511269=>{const _0x2a2bca=_0x470060;console[_0x2a2bca(0x43a)](_0x2a2bca(0x34d),_0x511269),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x2c8f20[_0x2a2bca(0x4d6)][_0x2a2bca(0x65f)](_0x2a2bca(0x4f5)),_0x500e61[_0x2a2bca(0x5dc)]=![];};}function autoFormatMath(_0x5cad82){const _0xdb5005=_0x13e7bb;if(typeof _0x5cad82!=='string'||!_0x5cad82)return _0x5cad82;const _0x46e52d=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x1de4f9=_0x5cad82[_0xdb5005(0x4a4)](_0x46e52d,_0x1365b4=>{const _0x739e8=_0xdb5005;return'$'+_0x1365b4[_0x739e8(0x258)]()+'$';});return _0x1de4f9;}function _0x5701(_0x595934,_0x221603){const _0x18ff0c=_0x18ff();return _0x5701=function(_0x5701ce,_0x2ca497){_0x5701ce=_0x5701ce-0x1ef;let _0x297471=_0x18ff0c[_0x5701ce];return _0x297471;},_0x5701(_0x595934,_0x221603);}function sanitizeQuizData(_0x1c629e){const _0x310b2b=_0x13e7bb;if(!_0x1c629e||!_0x1c629e['questions'])return _0x1c629e;const _0x260d7d={'imes':_0x310b2b(0x4c6),'div':'\x5cdiv'},_0x160f88=_0x3bcdae=>{const _0x3a384f=_0x310b2b;if(typeof _0x3bcdae!=='string')return _0x3bcdae;let _0x6063d5=_0x3bcdae;for(const [_0x2d7736,_0x2c6ddf]of Object[_0x3a384f(0x35c)](_0x260d7d)){const _0x152a82=new RegExp('\x5cb'+_0x2d7736+'\x5cb','g');_0x6063d5=_0x6063d5[_0x3a384f(0x4a4)](_0x152a82,_0x2c6ddf);}return _0x6063d5=_0x6063d5[_0x3a384f(0x4a4)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x3a384f(0x1f8))[_0x3a384f(0x4a4)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x3a384f(0x4c6))[_0x3a384f(0x4a4)](/÷/g,_0x3a384f(0x1f8))['replace'](/×/g,_0x3a384f(0x4c6)),_0x6063d5=_0x6063d5[_0x3a384f(0x4a4)](/(\d)(\\frac)/g,_0x3a384f(0x407)),_0x6063d5=autoFormatMath(_0x6063d5),_0x6063d5;};return _0x1c629e[_0x310b2b(0x40b)]&&(_0x1c629e['topic']=_0x160f88(_0x1c629e[_0x310b2b(0x40b)])),_0x1c629e['questions']['forEach'](_0x5769cd=>{const _0xb043c7=_0x310b2b;_0x5769cd['questionText']=_0x160f88(_0x5769cd['questionText']),_0x5769cd[_0xb043c7(0x53a)]&&(_0x5769cd[_0xb043c7(0x53a)]=_0x5769cd['options']['map'](_0x160f88)),_0x5769cd['explanation']&&(_0x5769cd[_0xb043c7(0x545)]=_0x160f88(_0x5769cd['explanation'])),_0x5769cd[_0xb043c7(0x309)]&&(_0x5769cd[_0xb043c7(0x309)]=_0x160f88(_0x5769cd[_0xb043c7(0x309)])),_0x5769cd[_0xb043c7(0x374)]&&(_0x5769cd[_0xb043c7(0x374)]=_0x160f88(_0x5769cd[_0xb043c7(0x374)])),_0x5769cd[_0xb043c7(0x21d)]&&(_0x5769cd['allResponses']=_0x5769cd['allResponses'][_0xb043c7(0x324)](_0x160f88));}),_0x1c629e;}const simpleMathPrompt=_0x13e7bb(0x2eb);async function handleGenerateFromLink(){const _0x32ff32=_0x13e7bb,_0x13c658=document['getElementById'](_0x32ff32(0x2dd)),_0x1c246a=document['getElementById'](_0x32ff32(0x489)),_0x1251c1=_0x13c658[_0x32ff32(0x44d)][_0x32ff32(0x258)](),_0x1d2b87=_0x1c246a[_0x32ff32(0x44d)][_0x32ff32(0x258)]();if(!_0x1251c1){showMessage(_0x32ff32(0x3a5));return;}const _0x50c5a0=document['getElementById'](_0x32ff32(0x211)),_0x467f2d=document['getElementById'](_0x32ff32(0x1f4)),_0x1d17c7=document['getElementById']('generated-quiz-container'),_0x5c24b7=document[_0x32ff32(0x5bf)](_0x32ff32(0x327));document['getElementById'](_0x32ff32(0x544))[_0x32ff32(0x4d6)]['remove'](_0x32ff32(0x4f5)),_0x1d17c7[_0x32ff32(0x435)]='',_0x50c5a0[_0x32ff32(0x4d6)]['remove']('hidden'),_0x467f2d[_0x32ff32(0x660)]='กำลังดึงข้อมูลจากลิงก์...',_0x5c24b7['disabled']=!![];try{const _0x4230a0=_0x32ff32(0x573)+encodeURIComponent(_0x1251c1),_0x454274=await fetch(_0x4230a0);if(!_0x454274['ok'])throw new Error(_0x32ff32(0x229)+_0x454274[_0x32ff32(0x558)]+')');const _0x4c2745=await _0x454274['text'](),_0x22ba0a=extractTextFromHtml(_0x4c2745);if(!_0x22ba0a||_0x22ba0a[_0x32ff32(0x338)]<0x64)throw new Error(_0x32ff32(0x25c));await generateQuiz(_0x1d2b87,_0x22ba0a);}catch(_0x3fdf9f){console[_0x32ff32(0x43a)](_0x32ff32(0x391),_0x3fdf9f),showMessage(_0x32ff32(0x621)+_0x3fdf9f[_0x32ff32(0x1f6)]),_0x1d17c7['innerHTML']=_0x32ff32(0x570);}finally{_0x50c5a0['classList'][_0x32ff32(0x65f)](_0x32ff32(0x4f5)),_0x5c24b7[_0x32ff32(0x5dc)]=![];}}function extractTextFromHtml(_0x4f3c22){const _0x59f03f=_0x13e7bb,_0x18e526=new DOMParser()[_0x59f03f(0x4a7)](_0x4f3c22,'text/html');return _0x18e526[_0x59f03f(0x5f9)](_0x59f03f(0x4a0))['forEach'](_0x22f338=>_0x22f338[_0x59f03f(0x325)]()),_0x18e526['body']['textContent']||'';}document['getElementById'](_0x13e7bb(0x481))[_0x13e7bb(0x304)](_0x13e7bb(0x4b1),()=>{const _0x505cc5=_0x13e7bb,_0x298b69=document['getElementById']('topic-input')['value'][_0x505cc5(0x258)]();if(!_0x298b69){showMessage(_0x505cc5(0x41c));return;}generateQuiz(_0x298b69,null);}),document[_0x13e7bb(0x5bf)](_0x13e7bb(0x622))['addEventListener']('click',()=>{const _0x11207e=_0x13e7bb,_0x281dd2=document[_0x11207e(0x5bf)](_0x11207e(0x2df))[_0x11207e(0x44d)]['trim']();if(!_0x281dd2){showMessage(_0x11207e(0x46b));return;}generateQuiz(null,_0x281dd2);});async function generateQuiz(_0x30109b,_0x30cbd3,_0xf44cfe=null){const _0x20fe95=_0x13e7bb,_0x12b2f5=document[_0x20fe95(0x5bf)](_0x20fe95(0x539))[_0x20fe95(0x293)],_0x5ee21c=document[_0x20fe95(0x5bf)](_0x20fe95(0x35e))[_0x20fe95(0x44d)],_0x4e862c=document[_0x20fe95(0x5bf)](_0x20fe95(0x542))[_0x20fe95(0x44d)],_0x121832=document[_0x20fe95(0x5bf)](_0x20fe95(0x2b4))[_0x20fe95(0x44d)],_0x5babce=document[_0x20fe95(0x5bf)]('force-math-checkbox')[_0x20fe95(0x293)],_0x3a2a10=_0x5babce?_0x20fe95(0x38d):'';let _0xc0b829='',_0x34d508='',_0x4ca420,_0x280a26=_0x20fe95(0x66f)+_0x30109b+'\x22';if(!_0x30109b&&_0x30cbd3)_0x280a26=_0x20fe95(0x263);else!_0x30109b&&!_0x30cbd3&&(_0x280a26=_0x20fe95(0x564));const _0x5b7e36={'type':_0x20fe95(0x221),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x20fe95(0x448),'items':{'type':_0x20fe95(0x59f)}},'correctAnswerIndex':{'type':_0x20fe95(0x33e)},'explanation':{'type':_0x20fe95(0x59f)},'imageCode':{'type':'STRING'}},'required':[_0x20fe95(0x5e8),_0x20fe95(0x53a),'correctAnswerIndex',_0x20fe95(0x545)]},_0xe48f28={'type':_0x20fe95(0x221),'properties':{'questionText':{'type':_0x20fe95(0x59f)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x20fe95(0x59f)}},'required':[_0x20fe95(0x5e8),_0x20fe95(0x549),'explanation']},_0x1ce745={'type':_0x20fe95(0x221),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x20fe95(0x210),_0x20fe95(0x3c1)]},'options':{'type':_0x20fe95(0x448),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x20fe95(0x33e)},'idealAnswer':{'type':_0x20fe95(0x59f)},'explanation':{'type':_0x20fe95(0x59f)},'imageCode':{'type':_0x20fe95(0x59f)}},'required':['questionText',_0x20fe95(0x4d3),_0x20fe95(0x545)]},_0x1c7b65={'type':_0x20fe95(0x221),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x20fe95(0x5ec)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x20fe95(0x5e8),_0x20fe95(0x37d),_0x20fe95(0x545)]},_0x1fe9ef={'type':_0x20fe95(0x221),'properties':{'questionType':{'type':'STRING','enum':[_0x20fe95(0x503)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x20fe95(0x59f)}},'explanation':{'type':_0x20fe95(0x59f)},'imageCode':{'type':_0x20fe95(0x59f)}},'required':[_0x20fe95(0x4d3),_0x20fe95(0x309),'correctResponse','allResponses',_0x20fe95(0x545)]};let _0x3f1b44;if(_0xf44cfe!==null){const _0x26d358=currentQuizData[_0x20fe95(0x4ba)][_0xf44cfe]['questionType'],_0x4ac4f0=_0x12b2f5?_0x20fe95(0x4ec):'';if(_0x26d358===_0x20fe95(0x210))_0xc0b829=_0x20fe95(0x403)+_0x3a2a10+_0x20fe95(0x40d)+_0x280a26+_0x20fe95(0x58f)+_0x121832+_0x20fe95(0x664)+_0x4ac4f0+'\x20'+simpleMathPrompt,_0x4ca420=_0x5b7e36;else _0x26d358===_0x20fe95(0x503)?(_0xc0b829=_0x20fe95(0x47f)+_0x280a26+_0x20fe95(0x38b)+_0x3a2a10+_0x20fe95(0x3cb)+_0x4ac4f0+'\x20'+simpleMathPrompt,_0x4ca420={'type':_0x20fe95(0x221),'properties':{'questionType':{'type':_0x20fe95(0x59f),'enum':['matching_item']},'stem':{'type':_0x20fe95(0x59f)},'correctResponse':{'type':_0x20fe95(0x59f)},'explanation':{'type':_0x20fe95(0x59f)},'imageCode':{'type':_0x20fe95(0x59f)}},'required':[_0x20fe95(0x4d3),_0x20fe95(0x309),_0x20fe95(0x374),'explanation']}):(_0xc0b829='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x3a2a10+_0x20fe95(0x40d)+_0x280a26+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x4ac4f0+'\x20'+simpleMathPrompt,_0x4ca420=_0xe48f28);_0x3f1b44=_0x4ca420;}else{const _0x484c98=_0x12b2f5?_0x20fe95(0x35f):'';switch(_0x5ee21c){case _0x20fe95(0x210):_0xc0b829=_0x20fe95(0x403)+_0x3a2a10+'\x20'+_0x4e862c+_0x20fe95(0x202)+_0x280a26+'.\x20แต่ละข้อมี\x20'+_0x121832+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x484c98+'\x20'+simpleMathPrompt,_0x4ca420=_0x5b7e36;break;case'fill_in_with_choices':_0xc0b829=_0x20fe95(0x574)+_0x3a2a10+'\x20'+_0x4e862c+_0x20fe95(0x202)+_0x280a26+_0x20fe95(0x587)+_0x121832+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x484c98+'\x20'+simpleMathPrompt,_0x4ca420=_0x5b7e36;break;case _0x20fe95(0x3b5):_0xc0b829=_0x20fe95(0x574)+_0x3a2a10+'\x20'+_0x4e862c+_0x20fe95(0x202)+_0x280a26+_0x20fe95(0x534)+_0x484c98+'\x20'+simpleMathPrompt,_0x4ca420=_0xe48f28;break;case _0x20fe95(0x64e):_0xc0b829=_0x20fe95(0x245)+_0x3a2a10+'\x20'+_0x4e862c+'\x20ข้อ\x20'+_0x280a26+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x121832+_0x20fe95(0x3b6)+_0x484c98+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x4ca420=_0x1ce745;break;case'true_false':_0xc0b829='สร้างคำถามแบบใช่/ไม่ใช่'+_0x3a2a10+'\x20'+_0x4e862c+_0x20fe95(0x202)+_0x280a26+_0x20fe95(0x238)+_0x484c98+'\x20'+simpleMathPrompt,_0x4ca420=_0x1c7b65;break;case _0x20fe95(0x639):_0xc0b829=_0x20fe95(0x420)+_0x3a2a10+'\x20'+_0x4e862c+_0x20fe95(0x295)+_0x280a26+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x4e862c+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x484c98+'\x20'+simpleMathPrompt,_0x4ca420=_0x1fe9ef;break;}_0x3f1b44={'type':_0x20fe95(0x221),'properties':{'topic':{'type':_0x20fe95(0x59f)},'questions':{'type':_0x20fe95(0x448),'items':_0x4ca420}},'required':[_0x20fe95(0x40b),_0x20fe95(0x4ba)]};}return _0x30cbd3?(_0xc0b829=_0x20fe95(0x423)+_0x30cbd3+'\x22,\x20'+_0xc0b829,_0x34d508=_0x20fe95(0x4fa)):_0x34d508='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0xc0b829,_0x34d508,_0x3f1b44,_0xf44cfe);}async function generateQuizFromFile(_0x341443,_0x2ffdbf){const _0xc02d5=_0x13e7bb,_0x195425=document[_0xc02d5(0x5bf)](_0xc02d5(0x590))[_0xc02d5(0x44d)][_0xc02d5(0x258)](),_0x5cb18d=document['getElementById'](_0xc02d5(0x35e))[_0xc02d5(0x44d)],_0x4259b1=document[_0xc02d5(0x5bf)](_0xc02d5(0x542))[_0xc02d5(0x44d)],_0x22092b=document[_0xc02d5(0x5bf)](_0xc02d5(0x2b4))[_0xc02d5(0x44d)],_0x226f29=document[_0xc02d5(0x5bf)](_0xc02d5(0x539))[_0xc02d5(0x293)];let _0x497829='',_0x506945,_0x59cd31=_0xc02d5(0x66f)+_0x195425+'\x22';!_0x195425&&(_0x59cd31='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');const _0x5b0f4c=_0x226f29?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x5cb18d){case'multiple_choice':_0x497829='สร้างแบบทดสอบปรนัย\x20'+_0x4259b1+'\x20ข้อ\x20'+_0x59cd31+_0xc02d5(0x393)+_0x22092b+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x5b0f4c+'\x20'+simpleMathPrompt,_0x506945={'type':_0xc02d5(0x221),'properties':{'questionText':{'type':_0xc02d5(0x59f)},'options':{'type':_0xc02d5(0x448),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0xc02d5(0x33e)},'explanation':{'type':_0xc02d5(0x59f)},'imageCode':{'type':'STRING'}},'required':['questionText',_0xc02d5(0x53a),_0xc02d5(0x5f4),_0xc02d5(0x545)]};break;case'fill_in_with_choices':_0x497829='สร้างคำถามแบบเติมคำในช่องว่าง\x20'+_0x4259b1+_0xc02d5(0x202)+_0x59cd31+_0xc02d5(0x587)+_0x22092b+_0xc02d5(0x3c3)+_0x5b0f4c+'\x20'+simpleMathPrompt,_0x506945={'type':_0xc02d5(0x221),'properties':{'questionText':{'type':_0xc02d5(0x59f)},'options':{'type':'ARRAY','items':{'type':_0xc02d5(0x59f)}},'correctAnswerIndex':{'type':_0xc02d5(0x33e)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xc02d5(0x59f)}},'required':[_0xc02d5(0x5e8),_0xc02d5(0x53a),_0xc02d5(0x5f4),_0xc02d5(0x545)]};break;case'fill_in_no_choices':_0x497829=_0xc02d5(0x4ea)+_0x4259b1+'\x20ข้อ\x20'+_0x59cd31+_0xc02d5(0x534)+_0x5b0f4c+'\x20'+simpleMathPrompt,_0x506945={'type':_0xc02d5(0x221),'properties':{'questionText':{'type':_0xc02d5(0x59f)},'idealAnswer':{'type':_0xc02d5(0x59f)},'explanation':{'type':_0xc02d5(0x59f)},'imageCode':{'type':_0xc02d5(0x59f)}},'required':[_0xc02d5(0x5e8),_0xc02d5(0x549),_0xc02d5(0x545)]};break;case _0xc02d5(0x64e):_0x497829=_0xc02d5(0x4ee)+_0x4259b1+_0xc02d5(0x202)+_0x59cd31+_0xc02d5(0x5eb)+_0x22092b+_0xc02d5(0x3b6)+_0x5b0f4c+'\x20'+simpleMathPrompt+_0xc02d5(0x612),_0x506945={'type':'OBJECT','properties':{'questionText':{'type':_0xc02d5(0x59f)},'questionType':{'type':'STRING','enum':['multiple_choice',_0xc02d5(0x3c1)]},'options':{'type':_0xc02d5(0x448),'items':{'type':_0xc02d5(0x59f)}},'correctAnswerIndex':{'type':_0xc02d5(0x33e)},'idealAnswer':{'type':_0xc02d5(0x59f)},'explanation':{'type':_0xc02d5(0x59f)},'imageCode':{'type':_0xc02d5(0x59f)}},'required':[_0xc02d5(0x5e8),'questionType',_0xc02d5(0x545)]};break;case _0xc02d5(0x30e):_0x497829=_0xc02d5(0x2b8)+_0x4259b1+_0xc02d5(0x202)+_0x59cd31+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x5b0f4c+'\x20'+simpleMathPrompt,_0x506945={'type':_0xc02d5(0x221),'properties':{'questionText':{'type':_0xc02d5(0x59f)},'correctAnswer':{'type':_0xc02d5(0x5ec)},'explanation':{'type':_0xc02d5(0x59f)},'imageCode':{'type':'STRING'}},'required':[_0xc02d5(0x5e8),_0xc02d5(0x37d),_0xc02d5(0x545)]};break;case _0xc02d5(0x639):_0x497829=_0xc02d5(0x2a2)+_0x4259b1+'\x20คู่\x20'+_0x59cd31+_0xc02d5(0x661)+_0x4259b1+_0xc02d5(0x3f1)+_0x5b0f4c+'\x20'+simpleMathPrompt,_0x506945={'type':_0xc02d5(0x221),'properties':{'questionType':{'type':'STRING','enum':[_0xc02d5(0x503)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0xc02d5(0x59f)},'allResponses':{'type':_0xc02d5(0x448),'items':{'type':'STRING'}},'explanation':{'type':_0xc02d5(0x59f)},'imageCode':{'type':_0xc02d5(0x59f)}},'required':[_0xc02d5(0x4d3),'stem',_0xc02d5(0x374),'allResponses','explanation']};break;}const _0x5d754f={'type':_0xc02d5(0x221),'properties':{'topic':{'type':_0xc02d5(0x59f)},'questions':{'type':'ARRAY','items':_0x506945}},'required':[_0xc02d5(0x40b),_0xc02d5(0x4ba)]},_0x2aac8b=_0xc02d5(0x45d)+_0x497829,_0x5cacf0={'contents':[{'parts':[{'text':_0x2aac8b},{'inlineData':{'mimeType':_0x341443,'data':_0x2ffdbf}}]}],'generationConfig':{'responseMimeType':_0xc02d5(0x588),'responseSchema':_0x5d754f}};return handleApiCall(_0x5cacf0[_0xc02d5(0x3d1)][0x0][_0xc02d5(0x4df)],_0xc02d5(0x43e),_0x5d754f);}async function handleApiCall(_0x1aaf95,_0x221851,_0x13c565,_0x25fff0=null){const _0x7715be=_0x13e7bb,_0x35e09d=document['getElementById'](_0x7715be(0x544)),_0x5f61ee=document[_0x7715be(0x5bf)]('loader'),_0x541821=document[_0x7715be(0x5bf)](_0x7715be(0x1f4)),_0x4b012e=document['getElementById'](_0x7715be(0x22c));_0x35e09d['classList'][_0x7715be(0x325)]('hidden');_0x25fff0===null&&(_0x4b012e[_0x7715be(0x435)]='');_0x5f61ee[_0x7715be(0x4d6)][_0x7715be(0x325)](_0x7715be(0x4f5)),_0x541821[_0x7715be(0x660)]=_0x221851,document[_0x7715be(0x5bf)](_0x7715be(0x481))[_0x7715be(0x5dc)]=!![],document[_0x7715be(0x5bf)]('generate-from-text-btn')['disabled']=!![],document[_0x7715be(0x5bf)]('generate-from-link-btn')[_0x7715be(0x5dc)]=!![];try{const _0x396139={'responseMimeType':_0x7715be(0x588),'responseSchema':_0x13c565},_0x1b5bf9=Array['isArray'](_0x1aaf95)?_0x1aaf95:[{'text':_0x1aaf95}],_0x52829c={'contents':[{'role':_0x7715be(0x4b9),'parts':_0x1b5bf9}],'generationConfig':_0x396139},_0x2944d5=_0x7715be(0x29f),_0x10faea=_0x7715be(0x5fb)+_0x2944d5,_0x53eb1b=await fetch(_0x10faea,{'method':_0x7715be(0x5c7),'headers':{'Content-Type':_0x7715be(0x588)},'body':JSON[_0x7715be(0x301)](_0x52829c)});if(!_0x53eb1b['ok'])throw new Error(_0x7715be(0x2d2)+_0x53eb1b[_0x7715be(0x558)]);const _0x59c003=await _0x53eb1b[_0x7715be(0x31e)]();if(_0x59c003[_0x7715be(0x241)]?.[0x0]?.[_0x7715be(0x240)]?.['parts']?.[0x0]){let _0x33b542=_0x59c003[_0x7715be(0x241)][0x0]['content'][_0x7715be(0x4df)][0x0][_0x7715be(0x226)],_0x4e48a2;try{if(_0x33b542['startsWith'](_0x7715be(0x41a)))_0x33b542=_0x33b542[_0x7715be(0x529)](0x7,_0x33b542[_0x7715be(0x338)]-0x3)[_0x7715be(0x258)]();else _0x33b542[_0x7715be(0x3a3)](_0x7715be(0x310))&&(_0x33b542=_0x33b542[_0x7715be(0x529)](0x3,_0x33b542[_0x7715be(0x338)]-0x3)['trim']());_0x4e48a2=JSON[_0x7715be(0x62e)](_0x33b542);}catch(_0x6dff29){console[_0x7715be(0x43a)](_0x7715be(0x606),_0x6dff29,_0x33b542);throw new Error(_0x7715be(0x645));}if(_0x25fff0!==null){if(_0x4e48a2[_0x7715be(0x4d3)]==='matching_item'){const _0x562175=currentQuizData['questions'][_0x7715be(0x324)](_0x438d2c=>_0x438d2c['correctResponse']);_0x4e48a2[_0x7715be(0x21d)]=_0x562175;const _0x384054=currentQuizData['questions'][_0x25fff0]['correctResponse'],_0x39fde8=_0x562175[_0x7715be(0x5a2)](_0x384054);_0x39fde8>-0x1&&(_0x562175[_0x39fde8]=_0x4e48a2[_0x7715be(0x374)]),currentQuizData[_0x7715be(0x4ba)][_0x7715be(0x2ec)](_0xe3820f=>{const _0x49ad8f=_0x7715be;if(_0xe3820f[_0x49ad8f(0x4d3)]===_0x49ad8f(0x503))_0xe3820f[_0x49ad8f(0x21d)]=_0x562175;});}currentQuizData[_0x7715be(0x4ba)][_0x25fff0]=_0x4e48a2,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x4e48a2;const _0x2098cd=document[_0x7715be(0x5bf)](_0x7715be(0x35e))[_0x7715be(0x44d)];currentQuizData[_0x7715be(0x3b8)]=_0x2098cd,currentQuizData[_0x7715be(0x4ba)]&&currentQuizData[_0x7715be(0x4ba)][_0x7715be(0x2ec)](_0x417188=>{const _0x1472f0=_0x7715be;if(!_0x417188['questionType']){if(_0x2098cd==='fill_in_with_choices')_0x417188['questionType']=_0x1472f0(0x210);else _0x2098cd==='fill_in_no_choices'?_0x417188['questionType']=_0x1472f0(0x3c1):_0x417188[_0x1472f0(0x4d3)]=_0x2098cd;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x7715be(0x43a)](_0x7715be(0x502),JSON['stringify'](_0x59c003));throw new Error(_0x7715be(0x645));}}catch(_0x23ebfa){console[_0x7715be(0x43a)]('Error\x20generating\x20quiz:',_0x23ebfa),showMessage(_0x7715be(0x3a1)),_0x25fff0===null&&(_0x4b012e[_0x7715be(0x435)]=_0x7715be(0x2e9));}finally{_0x5f61ee[_0x7715be(0x4d6)][_0x7715be(0x65f)](_0x7715be(0x4f5)),document[_0x7715be(0x5bf)](_0x7715be(0x481))[_0x7715be(0x5dc)]=![],document[_0x7715be(0x5bf)]('generate-from-text-btn')[_0x7715be(0x5dc)]=![],document[_0x7715be(0x5bf)](_0x7715be(0x327))[_0x7715be(0x5dc)]=![];const _0x159174=document[_0x7715be(0x5bf)](_0x7715be(0x67e));_0x159174&&(_0x159174[_0x7715be(0x5dc)]=![]);}}function _0x18ff(){const _0x2b1aa8=['เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-blue-700\x20bg-blue-100','.start-presentation-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x5ctimes','ลบโปรเจคสำเร็จแล้ว','Error\x20saving\x20quiz:','[data-is-correct=\x22true\x22]','back-from-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-options-container','per-question-text','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','removeEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','undefined','sort','questionType','style','mode-switcher-btn','classList','check-presentation-answer-btn','ระยะเวลา\x20(วินาที):','text-green-600\x20font-bold','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','start-remedial-quiz-btn','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parts','players.','timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','min','adaptive-quiz-checkbox','student-quiz-leaderboard-content','_opt0\x22>ใช่</label></div>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','toggle','input[name=\x22status-option\x22]:checked','สร้างคำถามแบบเติมคำในช่องว่าง\x20','answering','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','student','สร้างแบบทดสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<tr><td\x20colspan=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','เกิดข้อผิดพลาดในการบันทึก','.presentation-option','hidden','show_pass_fail_only','cancel-test-btn','includes','toFixed','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','thead','manual_release','ไม่พบข้อมูลแบบทดสอบ','confirm-move-quiz-btn','answers','ไม่ใช่','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Invalid\x20response\x20structure\x20from\x20AI:','matching_item','G-V90KRM0L63','1:274192258111:web:4120c9118229b5644dd48a','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','s;\x22\x20title=\x22','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','cancel-move-quiz-btn','.delete-quiz-btn','.quiz-status-btn','editable-text-','border-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#view-rankings-btn','onerror','password-error-msg','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','<textarea\x20name=\x22question','delete','PERSEVERANCE','analytics-summary-cards','then','student-quiz-leaderboard-table-body','save-settings-btn','border-4','/submissions','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','leaderboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','add-student-btn','เกมสิ้นสุดลงแล้ว','projectId','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','shuffle','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','substring','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','presentation-explanation','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','MathJax','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','เซียนสมองไว','clientY','back-to-project-btn','keys','modal-passing-score-input','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','targetId','\x20คะแนน','include-images-checkbox','options','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','key','join','\x22?\x20ผลการส่งงานทั้งหมดของแบบทดสอบนี้จะถูกลบอย่างถาวร','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','3156384ZTXspa','\x22.\x20Ideal\x20Answer:\x20\x22','num-questions','toString','quiz-generation-area','explanation','link-tab','currentQuestionIndex','Firebase\x20initialization\x20failed:','idealAnswer','getScreenCTM','Error\x20fetching\x20quiz\x20status:','.edit-question-btn','ref','toISOString','คำตอบผิด','label','global-live-game-modal','button','quiz','</p></div>','<li>','กรุณาใส่ชื่อใหม่','ยังไม่ส่ง','status','แบบทดสอบนี้หมดเวลาแล้ว','_opt1\x22>ไม่ใช่</label></div>','border-red-700','modal-timer-duration-label','slide-counter','#student-quiz-leaderboard-content\x20thead','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','students','fill','abs','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','student-name-select','.quiz-settings-btn','values','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกสถานะ','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','modal-close-btn','save','Error\x20starting\x20game:','\x22\x20data-name=\x22','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','เกิดข้อผิดพลาดในการลบแบบทดสอบ','Enter','https://corsproxy.io/?','สร้างคำถามแบบเติมคำในช่องว่าง','answer-counter','bg-red-200\x20text-red-800','3800psfZZx','</li>','rename-quiz-modal','document','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20px-2\x20py-1\x20rounded\x20','confirm-quiz-status-btn','/public/data/quizzes/','studentName','create-from-bank-btn','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pinned-items','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-container','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','application/json','กำลังสร้างรูปภาพ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-modal','Authentication\x20failed:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','ข้อที่\x20','.\x20ให้มี\x20','file-topic-input','score','N/A','focus','Adaptive\x20flow\x20failed:','เกิดข้อผิดพลาดในการสร้างใบงาน','ดูสรุปผล','title','student-view','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.regenerate-question-btn','results_','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','STRING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','perfect_score','indexOf','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างคำถามข้อ\x20','</span></div>','ลบแบบทดสอบสำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','ไม่สามารถโหลดรายการโปรเจคได้','defaultNumQuestions','on_fire','155704vNhSRM','\x0a\x20\x20\x20\x20','inactive','\x22\x20value=\x22true\x22\x20','image/png','textarea','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','เกิดข้อผิดพลาดในการลบโปรเจค','237745iSgASo','MathJax\x20typeset\x20error\x20(analytics):','starred','bg-blue-100\x20text-blue-800','cancel-global-live-btn','ai-quiz-generator-v3','\x20คน):</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','per-question-timer-container','delete-svg-btn','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','getElementById','COMEBACK_KING','.rename-quiz-btn','show_results_only','doughnut','schedule','projectName','quiz-leaderboard-table-container','POST','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','execCommand','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','analyze-strengths-btn','AI\x20request\x20was\x20blocked.\x20Reason:\x20','helvetica','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','_opt0\x22\x20name=\x22question','promptFeedback','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','<div\x20class=\x22','preventDefault','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','จำนวนข้อ:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','originalQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','disabled','mousedown','isAdaptive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','update','both','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20project:','strength-weakness-analysis-container','project-title','Error\x20creating\x20project:','บันทึกการตั้งค่าแล้ว','questionText','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','BOOLEAN','button[data-id]','bg-red-500','ไม่ได้ตอบ','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','results-quiz-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','correctAnswerIndex','btn','.doc','.correctStreak','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelectorAll','some','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','admin','.star-quiz-btn','per_question','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','split','contentEditable','back-to-dashboard-from-results-btn','generate-worksheet-btn','imageCode','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','Failed\x20to\x20parse\x20JSON\x20from\x20AI','<span\x20title=\x22','commit','empty','border-red-300\x20bg-red-50','readAsDataURL','AI\x20กำลังสร้างใบงาน...','เกิดข้อผิดพลาดในการอัปเดตสถานะ','-tab-content','Error\x20joining\x20live\x20game:','13779lBodrx','กรุณาใส่ชื่อโปรเจค','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','create-project-modal','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','height','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','startTime','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option>กำลังโหลดโปรเจค...</option>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','แบบทดสอบนี้ปิดใช้งานอยู่','fa-dumbbell\x20text-gray-700','\x20ครั้ง)</span></td>','_opt1\x22\x20name=\x22question','removeAttribute','เกิดข้อผิดพลาด:\x20','generate-from-text-btn','quiz-status-options','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-editor-questions-container','open','end-game-btn','autoTable','.lastAnswerCorrect','type','Error\x20updating\x20quiz\x20settings:','parse','presentation-ai-result','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','worksheet-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','cancel-create-project-btn','back-to-dashboard-btn','Error\x20opening\x20quiz\x20editor:','start-live-race-generated-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label>\x0a\x20\x20\x20\x20</div>\x0a','matching','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22','font-bold\x20text-green-700','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','settings','save-quiz-edits-btn','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','Error\x20deleting\x20quiz:','Invalid\x20response\x20structure\x20from\x20AI.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','1431LniYPG','confirm-delete-btn','.edit-quiz-btn','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','quiz-schedule-start-container','bg-green-100\x20text-green-800','quiz-leaderboard-table-body','mixed','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','submissions','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ring-2','text-red-700\x20bg-red-100','ไม่ผ่าน','ตอบถูกทุกข้อในแบบทดสอบนี้','confirm-quiz-settings-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','onload','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','show_results_and_answers','ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงานที่พิมพ์ได้\x20จำนวน\x20','add','textContent','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','destroy','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','(คัดลอก)\x20','draggable-text','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleString','กรุณาเลือกโปรเจคปลายทาง','setAttributeNS','docs','.pdf','/public/data/liveGames','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','เกี่ยวกับหัวข้อ\x20\x22','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-tab','project-detail-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','แบบทดสอบไม่มีชื่อ','touches','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','touchstart','ownerSVGElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','message-modal','generate-from-file-btn','quiz-results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-pen\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำถามถัดไป','loader-text','/studentProfiles','message','questionDisplayedAt','\x5cdiv','ผู้ควบคุม\x20(ทดสอบ)','thead\x20.sortable-header','<div\x20class=\x22loader\x20mx-auto\x22></div>','rows','แบบทดสอบที่ติดดาว','next-question-btn','12upqONX','far\x20fa-star','คำตอบถูกต้อง!\x20+','\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','(ไม่มีชื่อ)','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','input[type=\x22radio\x22]:checked','topic-tab','<div\x20id=\x22q-image-container-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','cancel-rename-quiz-btn','touchmove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','multiple_choice','loader','results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','onclick','results-table','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.copy-quiz-id-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','student-quiz-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-end-time','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x20h-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','allResponses','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questions_only','gamePin','OBJECT','fullscreenElement','worksheet-input-area','confirm-join-game-btn','isCorrect','text','00:00','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','revealed','file-input-area','generated-quiz-container','results-table-container','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','/public/data/projects/','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','กรุณาเลือกไฟล์ก่อน','\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ai-quiz-app-aefee','/public/data/projects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x22\x20data-q-type=\x22','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','/public/data/quizzes','Error\x20deleting\x20all\x20students:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','href','Copy\x20command\x20failed','bg-white/30','content','candidates','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-white','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','สร้างแบบทดสอบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','Error\x20fetching\x20projects\x20for\x20move:','bg-red-100\x20text-red-800','isStarred','บันทึกการแก้ไข','quiz-search-input','3KOFPCA','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt','ไม่สามารถโหลดข้อมูลอันดับได้','.draggable-text','cancel-delete-btn','student-list','timer-bar','admin-testing','<span\x20class=\x22sort-indicator\x20ml-2\x22>','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','\x22\x20name=\x22question','trim','fill_in_with_choices','Error\x20saving\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','ราชาคัมแบ็ก','specialist','</td>','icon','passingScore','Error\x20saving\x20to\x20question\x20bank:','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','\x20จาก\x20','</h3>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-dashboard-view','quizId','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','typesetPromise','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','fa-fire\x20text-orange-500','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','move','ปิดใช้งาน','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','setFont','finishReason','.sortable-header','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','admin-password-modal','.duplicate-quiz-btn','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','.sort-indicator','desc','start-game-btn','first_try_ace','\x0a---\x0a','ข้อต่อไป','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','score-distribution-chart','global-quiz-search-input','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-pdf-btn','contains','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','</p>','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','ส่งแล้ว','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bestScore','presentation-modal','live-game','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','download','checked','get','\x20คู่\x20','Error\x20starting\x20live\x20race:','ไม่พบโปรเจค','position','บันทึกแบบทดสอบสำเร็จแล้ว!','fill_in_the_blank','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-remedial-quiz-btn\x22\x20class=\x22mt-4\x20bg-indigo-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เข้าใจแล้ว\x20ลองอีกครั้ง!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','remedialContent','default','open-global-live-btn','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','touchend','ไม่สามารถสร้างโปรเจคได้','สร้างชุดคำถามจับคู่\x20','<p>','topic-input-area','fa-rocket\x20text-purple-500','ผู้เชี่ยวชาญ','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','lobby','toLowerCase','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientX','ไม่สามารถเพิ่มนักเรียนได้','data:application/vnd.ms-word;charset=utf-8,','after','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','players','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','defaultNumChoices','num-choices','scheduled','quiz-start-time','<br>','สร้างคำถามแบบใช่/ไม่ใช่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','all','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-green-700','project-search-input','Error\x20displaying\x20question\x20bank:','floor','quiz-settings-modal','quiz-leaderboard-table','21oeHSmO','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','body','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','14524sJKBZG','getBBox','input[name=\x22status-option\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนหัวข้อสำหรับใบงาน','text-green-700\x20bg-green-100','Error\x20duplicating\x20quiz:','next-live-question-btn','student-join-game-view','2-digit','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','จำนวนนักเรียน','API\x20call\x20failed\x20with\x20status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','ระยะเวลา\x20(นาที):','#F59E0B','ผ่าน','ท็อปฟอร์ม','badges','questionStatus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','student-project-leaderboard-content','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','link-url-input','shuffleSetting','text-content-input','<i\x20class=\x22fas\x20fa-save\x22></i>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','Error\x20fetching\x20quiz\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','QUICK_THINKER','toDataURL','start-quiz-btn','submission-status-chart','th-TH','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','quiz-results-view','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','forEach','quiz-editor-modal','project-id-display','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-300','AI\x20grading\x20failed:','input[name=\x22question_single\x22]:checked','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3/4\x20truncate\x22>ข้อ\x20','latestScore','live-short-answer-input','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','รอเปิด','Error\x20loading\x20quiz\x20for\x20student:','.correct-response-input','viewBox','circle','เกิดข้อผิดพลาดในการสร้างห้องเกม','results','raw','localeCompare','stringify','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','description','addEventListener','อัปเดตสถานะสำเร็จ','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','cursor','stem','bottom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','.save-to-bank-btn','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','true_false','/users/','```','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','confirm-global-live-btn','currentTarget','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','หมดเวลา!\x20กำลังส่งคำตอบ...','endTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','leaderboard-tab-content','Error\x20moving\x20quiz:','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','บันทึกการแก้ไขสำเร็จ','json','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','modal-timer-duration-input','modal-timer-mode-select','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-shield-alt\x20text-gray-600','map','remove','td,\x20th','generate-from-link-btn','getContext','mouseup','join-live-game-btn','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','innerText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','API\x20call\x20failed','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลข้างต้น\x20โปรดสรุปเนื้อหาสำคัญเพื่อสอนซ่อมเสริมนักเรียนคนนี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้อธิบายด้วยภาษาที่เข้าใจง่าย\x20เป็นกันเอง\x20เหมือนติวเตอร์ใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20สรุปมาเป็นย่อหน้าเดียวหรือสองย่อหน้าสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22remedialContent\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','Error\x20generating\x20worksheet:','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20mx-1\x20text-lg\x22></i></span>','delete-all-students-btn','length','analytics-tab-btn','fa-bolt\x20text-blue-500','.ideal-answer-input','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','confirm-rename-quiz-btn','NUMBER','points','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','close-game-final-btn','submission','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-indigo-50\x20border-indigo-200\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22starred-project\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>แบบทดสอบที่ติดดาว\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>ทางลัดสำหรับแบบทดสอบที่ใช้บ่อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','</span></td>','table','Error\x20showing\x20quiz\x20detail\x20view:','timer-duration-container','project-list','แบบทดสอบ:\x20','shuffle-setting-select','Leaderboard\x20update\x20transaction\x20failed:\x20','FileReader\x20error:','target','\x22\x20value=\x22','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','findIndex','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','modal-results-display-select','</option>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</body></html>','analytics','bg-green-500','dataIndex','toDate','latestSubmittedAt','entries','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','quiz-type-select','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','แก้ไขข้อนี้','fas\x20fa-star\x20text-yellow-500','confirmation-message','width','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','ไม่มี','appendChild','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','q-explanation-','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','text-input-area','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','timerMode','bg-yellow-200\x20text-yellow-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>','padStart','name_desc','correctResponse','whole_quiz','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','mousemove','push','hover:bg-indigo-100','.delete-svg-btn','.quiz-result-card','<div\x20class=\x22flex-1\x22></div>','correctAnswer','classStrengths','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','ยืนยันการกระทำ','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','submit','set','removeChild','.admin-try-quiz-list-btn','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-white\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20border-gray-200\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22','Error\x20toggling\x20star\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบนักเรียน','\x20สร้างคำถามจับคู่','%\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','คณิตศาสตร์','quick_thinker','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','firstScore','Error\x20generating\x20from\x20link:','fa-pen','.\x20แต่ละข้อมี\x20','162696KLJGiv','insertAdjacentHTML','admin-action-buttons','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','</span></p>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','text-green-600','project-name-input','timer-container','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pointsLastQuestion','svg','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','startsWith','Error\x20processing\x20file\x20for\x20AI:','กรุณาวาง\x20URL\x20ของบทความก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีคำอธิบาย','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','student-quiz-leaderboard-tab','cancel-quiz-edits-btn-footer','student-project-leaderboard-tab','สอบปกติ','next-question-timed-btn','cloneNode','student-quiz-topic','link-input-area','copy','สลับไปโหมดผู้ควบคุม','cancel-quiz-status-btn','fill_in_no_choices','\x20ตัวเลือก.\x20','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','quizType','<p><strong>คำตอบของคุณ:</strong>\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','leaderboard-quiz-tab-btn','badgesCount','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','.delete-student-btn','per-q-countdown','manage-tab','short_answer','beforeend','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teacherSuggestions','close-student-rankings-btn','button[type=\x22submit\x22]','max','quiz-form','\x201\x20ข้อ\x20(1\x20คู่)\x20ที่อยู่ในหมวดหมู่เดียวกันกับคำถามเดิม\x20แต่ต้องแตกต่างออกไป.\x20รูปแบบคือ:\x20stem,\x20correctResponse,\x20และ\x20explanation.\x20','index','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','modal-shuffle-select','contents','export-excel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','closest','\x22\x20name=\x22question_single\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x22?\x20ข้อมูลทั้งหมดในโปรเจคนี้\x20(รวมถึงแบบทดสอบและผลการส่งงาน)\x20จะถูกลบอย่างถาวร','attempts','editor-quiz-topic','Error\x20listening\x20for\x20student\x20profiles:','leaderboard-table-body','admin-view','timer-duration-input','user-id-display','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','none','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','line-through\x20text-red-700','nickname-input','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','fullscreenchange','export-word-btn','qType','#per-question-options\x20select','ผู้ไม่ยอมแพ้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','choices_only','dispatchEvent','-tab','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','timer-duration-label','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20p-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','Error\x20fetching\x20student\x20rankings:','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','normal','getAttributeNS','cancel-quiz-edits-btn','artifacts/','\x22><i\x20class=\x22fas\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20','opacity-50','admin-try-quiz-btn','leaderboard-tab','admin-dashboard','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','border-green-300\x20bg-green-50','สร้างแบบทดสอบปรนัย','project-sort-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-sm\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','$1\x20\x5cfrac','quiz-id-input','เปิด\x20(จับเวลา)','start-presentation-btn','topic','input','\x201\x20ข้อ\x20','rename-quiz-input','close','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','pointsLastQuestion','live-game-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบแบบทดสอบสำหรับรหัสนี้','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','Error\x20updating\x20quiz\x20status:','random','คะแนน','```json','แบบทดสอบจากคลังส่วนตัว','กรุณาป้อนหัวข้อก่อน','text-green-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','log','สร้างชุดคำถามจับคู่','move-quiz-project-select','.png','จากเนื้อหาต่อไปนี้:\x20\x22','comeback_king','_blank','timerDuration','instructions','display','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','scheduled_pending','mouseleave','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','leaderboard-quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','classWeaknesses','podium','filter','.start-live-race-btn','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','perseverance','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','quiz-results-table-body','error','bg-purple-50','player-count','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','เปิดใช้งาน','active','prev-question-btn','<h1></h1>','change','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','presentation-short-answer-input','bank-input-area','analytics-tab-content','ARRAY','student-project-leaderboard-table-body','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','date_desc','value','write','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','rgba(79,\x2070,\x20229,\x200.8)','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','exists','per-question-options','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','เกิดข้อผิดพลาดในการติดดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','lastAnswerCorrect','generated-quiz-actions','สอบซ่อม','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','bg-green-200\x20text-green-800','จากไฟล์ที่แนบมานี้,\x20','</div><div\x20class=\x22space-y-2\x22>','คัดลอกรหัสแล้ว!','answer','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fixed','ไม่สามารถเริ่มเกมได้','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','totalPoints','leaderboard-quiz-tab-content','.answeredCurrentQuestion','.move-quiz-btn','กรุณาวางเนื้อหาก่อน','modal-adaptive-quiz-checkbox','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','find','round','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','dataset','resultsDisplay','#10B981','\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','question','scores','createObjectURL','exitFullscreen','http://www.w3.org/2000/svg','\x22\x20data-topic=\x22','totalQuestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<option\x20value=\x22','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','จากหัวข้อ\x20','ไม่พบแบบทดสอบ','generate-from-topic-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','true','asc','\x20ข้อ)</span></p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','project-detail','project-quizzes-list','setAttribute','link-topic-input','modal-message','สร้างโปรเจคสำเร็จ!','createdAt','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','เกิดข้อผิดพลาดในการโหลดสถานะ','earned-badges-container','Error\x20fetching\x20project\x20quizzes:','\x20/\x20','isRemedial','passing-score-input','date_asc','answeredCurrentQuestion','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','ไม่พบตารางสำหรับ\x20Export','manage','\x20คนที่ส่ง\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนหนึ่งทำแบบทดสอบเรื่อง\x20\x22','export-pdf-btn','live-submit-short-answer-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','back-to-home-manual-release','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','แบบทดสอบซ่อมเสริม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Remedial\x20quiz\x20generation\x20failed:','replace','</span>','font-bold','parseFromString','num-choices-container','global-quiz-list','data','name','results-quiz-id-display','slice','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์จุดอ่อนและสร้างเนื้อหาทบทวนให้คุณโดยเฉพาะ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','click','ส่งคำตอบ','ตอบถูก\x203\x20ข้อติดต่อกัน','กรุณาใส่ชื่อนักเรียน','save-quiz-btn','ring-purple-400','jspdf','from','user','questions','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('];_0x18ff=function(){return _0x2b1aa8;};return _0x18ff();}function displayGeneratedQuiz(_0x2f0dcf){const _0x315b17=_0x13e7bb,_0x5ed5ed=document[_0x315b17(0x5bf)]('generated-quiz-container');let _0x3f8052=_0x315b17(0x244)+_0x2f0dcf['topic']+_0x315b17(0x265);_0x2f0dcf[_0x315b17(0x4ba)][_0x315b17(0x2ec)]((_0x4d475b,_0x41ab70)=>{const _0x2e49f6=_0x315b17,_0x354798=_0x4d475b[_0x2e49f6(0x4d3)]||_0x2f0dcf[_0x2e49f6(0x3b8)];_0x3f8052+=_0x2e49f6(0x5a0)+_0x41ab70+'\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x41ab70+_0x2e49f6(0x4c3)+_0x41ab70+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x354798){case'matching_item':_0x3f8052+=_0x2e49f6(0x2b0)+_0x41ab70+'\x22>'+(_0x41ab70+0x1)+'.\x20'+_0x4d475b[_0x2e49f6(0x309)]+'</p>';_0x4d475b['imageCode']&&(_0x3f8052+=_0x2e49f6(0x208)+_0x41ab70+_0x2e49f6(0x53b)+_0x4d475b['imageCode']+_0x2e49f6(0x371));_0x3f8052+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x41ab70+'\x22>'+_0x4d475b[_0x2e49f6(0x374)]+_0x2e49f6(0x5a5),_0x3f8052+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x41ab70+'\x22>'+_0x4d475b[_0x2e49f6(0x545)]+_0x2e49f6(0x5a5);break;case _0x2e49f6(0x3c1):_0x3f8052+=_0x2e49f6(0x2b0)+_0x41ab70+'\x22>'+(_0x41ab70+0x1)+'.\x20'+_0x4d475b['questionText']+_0x2e49f6(0x28a);_0x4d475b[_0x2e49f6(0x604)]&&(_0x3f8052+='<div\x20id=\x22q-image-container-'+_0x41ab70+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4d475b[_0x2e49f6(0x604)]+_0x2e49f6(0x371));_0x3f8052+=_0x2e49f6(0x350)+_0x41ab70+'\x22>'+_0x4d475b[_0x2e49f6(0x549)]+_0x2e49f6(0x5a5),_0x3f8052+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x41ab70+'\x22>'+_0x4d475b[_0x2e49f6(0x545)]+_0x2e49f6(0x5a5);break;case _0x2e49f6(0x30e):_0x3f8052+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x41ab70+'\x22>'+(_0x41ab70+0x1)+'.\x20'+_0x4d475b['questionText']+_0x2e49f6(0x28a);_0x4d475b[_0x2e49f6(0x604)]&&(_0x3f8052+=_0x2e49f6(0x208)+_0x41ab70+_0x2e49f6(0x53b)+_0x4d475b[_0x2e49f6(0x604)]+_0x2e49f6(0x371));_0x3f8052+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x4d475b['correctAnswer']===!![]?_0x2e49f6(0x4d9):'')+_0x2e49f6(0x5d6)+(_0x4d475b[_0x2e49f6(0x37d)]===![]?_0x2e49f6(0x4d9):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x3f8052+=_0x2e49f6(0x513)+_0x41ab70+'\x22>'+_0x4d475b['explanation']+_0x2e49f6(0x5a5);break;case _0x2e49f6(0x29a):case _0x2e49f6(0x210):default:_0x3f8052+=_0x2e49f6(0x2b0)+_0x41ab70+'\x22>'+(_0x41ab70+0x1)+'.\x20'+_0x4d475b[_0x2e49f6(0x5e8)]+_0x2e49f6(0x28a);_0x4d475b['imageCode']&&(_0x3f8052+=_0x2e49f6(0x208)+_0x41ab70+_0x2e49f6(0x53b)+_0x4d475b[_0x2e49f6(0x604)]+_0x2e49f6(0x371));_0x3f8052+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x41ab70+_0x2e49f6(0x560)+_0x4d475b[_0x2e49f6(0x53a)][_0x2e49f6(0x324)]((_0x5d4f75,_0x5f27cb)=>'<li\x20class=\x22'+(_0x5f27cb===_0x4d475b[_0x2e49f6(0x5f4)]?_0x2e49f6(0x4d9):'')+'\x22>'+_0x5d4f75+_0x2e49f6(0x578))[_0x2e49f6(0x53d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x3f8052+=_0x2e49f6(0x513)+_0x41ab70+'\x22>'+_0x4d475b['explanation']+_0x2e49f6(0x5a5);break;}_0x3f8052+=_0x2e49f6(0x371);}),_0x3f8052+=_0x315b17(0x335),_0x5ed5ed[_0x315b17(0x435)]=_0x3f8052,document['querySelectorAll'](_0x315b17(0x54c))[_0x315b17(0x2ec)](_0x368b5c=>_0x368b5c['addEventListener'](_0x315b17(0x4b1),handleEditQuestion)),document[_0x315b17(0x5f9)](_0x315b17(0x59b))['forEach'](_0x26482a=>_0x26482a[_0x315b17(0x304)]('click',handleRegenerateQuestion)),document['querySelectorAll'](_0x315b17(0x30c))[_0x315b17(0x2ec)](_0x23fa57=>_0x23fa57[_0x315b17(0x304)](_0x315b17(0x4b1),handleSaveToBank)),document[_0x315b17(0x5bf)](_0x315b17(0x4b5))[_0x315b17(0x304)](_0x315b17(0x4b1),saveQuiz);if(window[_0x315b17(0x52d)])window[_0x315b17(0x52d)][_0x315b17(0x26c)]([_0x5ed5ed]);}function handleRegenerateQuestion(_0x2ea7e7){const _0x12f78b=_0x13e7bb,_0x59830d=_0x2ea7e7[_0x12f78b(0x313)][_0x12f78b(0x471)][_0x12f78b(0x3cc)],_0x16547f=currentQuizData['topic'];showMessage(_0x12f78b(0x5a4)+(parseInt(_0x59830d)+0x1)+'\x20ใหม่...'),generateQuiz(_0x16547f,null,parseInt(_0x59830d));}function getPointerPosition(_0x529837,_0x198ce8){const _0x3398e7=_0x13e7bb,_0x45aa82=_0x529837[_0x3398e7(0x54a)]();let _0x4535c1,_0x432608;return _0x198ce8['touches']&&_0x198ce8[_0x3398e7(0x675)]['length']>0x0?(_0x4535c1=_0x198ce8[_0x3398e7(0x675)][0x0][_0x3398e7(0x2ab)],_0x432608=_0x198ce8[_0x3398e7(0x675)][0x0][_0x3398e7(0x530)]):(_0x4535c1=_0x198ce8[_0x3398e7(0x2ab)],_0x432608=_0x198ce8[_0x3398e7(0x530)]),{'x':(_0x4535c1-_0x45aa82['e'])/_0x45aa82['a'],'y':(_0x432608-_0x45aa82['f'])/_0x45aa82['d']};}function startDrag(_0xed37ae){const _0x141104=_0x13e7bb;_0xed37ae[_0x141104(0x62c)]===_0x141104(0x677)&&_0xed37ae[_0x141104(0x5d5)]();const _0x48917a=_0xed37ae['target'][_0x141104(0x3d4)](_0x141104(0x250));if(_0x48917a){draggedSvgElement=_0x48917a;const _0x500db1=draggedSvgElement[_0x141104(0x678)],_0x593841=getPointerPosition(_0x500db1,_0xed37ae);svgOffset['x']=_0x593841['x']-parseFloat(draggedSvgElement[_0x141104(0x3f6)](null,'x')),svgOffset['y']=_0x593841['y']-parseFloat(draggedSvgElement[_0x141104(0x3f6)](null,'y'));}}function drag(_0x37eec3){const _0x1964f7=_0x13e7bb;if(draggedSvgElement){_0x37eec3[_0x1964f7(0x5d5)]();const _0xcaa96c=draggedSvgElement[_0x1964f7(0x678)],_0x26e8ab=getPointerPosition(_0xcaa96c,_0x37eec3),_0x5dc8cd=_0xcaa96c[_0x1964f7(0x2fb)]['baseVal'];let _0x2439ec=_0x26e8ab['x']-svgOffset['x'],_0x11b1bd=_0x26e8ab['y']-svgOffset['y'];const _0x5340ff=draggedSvgElement[_0x1964f7(0x2c7)]();_0x2439ec=Math['max'](_0x5dc8cd['x'],Math[_0x1964f7(0x4e3)](_0x2439ec,_0x5dc8cd['x']+_0x5dc8cd[_0x1964f7(0x363)]-_0x5340ff[_0x1964f7(0x363)])),_0x11b1bd=Math[_0x1964f7(0x3c9)](_0x5dc8cd['y'],Math['min'](_0x11b1bd,_0x5dc8cd['y']+_0x5dc8cd[_0x1964f7(0x615)]-_0x5340ff[_0x1964f7(0x615)])),draggedSvgElement['setAttributeNS'](null,'x',_0x2439ec),draggedSvgElement[_0x1964f7(0x66a)](null,'y',_0x11b1bd);}}function endDrag(_0x28ea34){draggedSvgElement=null;}function handleSvgEditClick(_0x16956c){const _0xf871d8=_0x13e7bb;if(_0x16956c[_0xf871d8(0x34e)][_0xf871d8(0x4d6)][_0xf871d8(0x288)]('delete-svg-btn')){const _0x26f922=_0x16956c['target'][_0xf871d8(0x471)][_0xf871d8(0x537)],_0x2c85a5=_0x16956c[_0xf871d8(0x313)],_0x26b300=_0x2c85a5[_0xf871d8(0x278)]('#'+_0x26f922);_0x26b300&&_0x26b300[_0xf871d8(0x325)](),_0x16956c['target'][_0xf871d8(0x325)]();}}function handleEditQuestion(_0x295c23){const _0x53d089=_0x13e7bb,_0x3598c2=_0x295c23['currentTarget'],_0x43fa0f=_0x3598c2[_0x53d089(0x471)][_0x53d089(0x3cc)],_0xd26f36=currentQuizData[_0x53d089(0x4ba)][_0x43fa0f],_0x5082dd=document[_0x53d089(0x5bf)]('q-text-'+_0x43fa0f),_0x1d14a5=document[_0x53d089(0x5bf)](_0x53d089(0x36a)+_0x43fa0f),_0x5d7852=document[_0x53d089(0x5bf)]('q-image-container-'+_0x43fa0f);if(_0x3598c2[_0x53d089(0x435)][_0x53d089(0x4f8)](_0x53d089(0x392))){_0x3598c2[_0x53d089(0x435)]=_0x53d089(0x2e0),_0x3598c2[_0x53d089(0x597)]=_0x53d089(0x24a);if(_0x5082dd)_0x5082dd[_0x53d089(0x601)]=!![];if(_0x1d14a5)_0x1d14a5[_0x53d089(0x601)]=!![];if(_0x5d7852){const _0x5276b1=_0x5d7852['querySelector'](_0x53d089(0x3a0));if(_0x5276b1){const _0x2e94b4=_0x5276b1[_0x53d089(0x5f9)](_0x53d089(0x226));_0x2e94b4[_0x53d089(0x2ec)]((_0x244458,_0x2c4d8a)=>{const _0x586a9b=_0x53d089,_0x250f54=_0x586a9b(0x50c)+_0x43fa0f+'-'+_0x2c4d8a;_0x244458['id']=_0x250f54,_0x244458[_0x586a9b(0x4d6)][_0x586a9b(0x65f)](_0x586a9b(0x666)),_0x244458[_0x586a9b(0x4d4)][_0x586a9b(0x308)]=_0x586a9b(0x271);const _0x2fbae0=document['createElementNS'](_0x586a9b(0x479),_0x586a9b(0x2fc)),_0x51b8ed=_0x244458[_0x586a9b(0x2c7)]();_0x2fbae0[_0x586a9b(0x488)]('cx',String(_0x51b8ed['x']+_0x51b8ed[_0x586a9b(0x363)]+0x5)),_0x2fbae0[_0x586a9b(0x488)]('cy',String(_0x51b8ed['y']+_0x51b8ed[_0x586a9b(0x615)]/0x2-0x5)),_0x2fbae0['setAttribute']('r','5'),_0x2fbae0['setAttribute'](_0x586a9b(0x562),'red'),_0x2fbae0[_0x586a9b(0x488)]('class',_0x586a9b(0x5bd)),_0x2fbae0[_0x586a9b(0x471)][_0x586a9b(0x537)]=_0x250f54,_0x244458[_0x586a9b(0x2ae)](_0x2fbae0);}),_0x5276b1['addEventListener'](_0x53d089(0x5dd),startDrag),_0x5276b1[_0x53d089(0x304)](_0x53d089(0x377),drag),_0x5276b1[_0x53d089(0x304)](_0x53d089(0x329),endDrag),_0x5276b1[_0x53d089(0x304)]('mouseleave',endDrag),_0x5276b1[_0x53d089(0x304)](_0x53d089(0x677),startDrag,{'passive':![]}),_0x5276b1[_0x53d089(0x304)](_0x53d089(0x20c),drag,{'passive':![]}),_0x5276b1[_0x53d089(0x304)](_0x53d089(0x2a0),endDrag),_0x5276b1[_0x53d089(0x304)]('touchcancel',endDrag),_0x5276b1[_0x53d089(0x304)](_0x53d089(0x4b1),handleSvgEditClick);}}if(_0x5082dd)_0x5082dd[_0x53d089(0x593)]();}else{_0x3598c2[_0x53d089(0x435)]=_0x53d089(0x1f1),_0x3598c2[_0x53d089(0x597)]=_0x53d089(0x360);if(_0x5082dd){_0x5082dd[_0x53d089(0x601)]=![];const _0x4b6b51=_0xd26f36[_0x53d089(0x4d3)]||currentQuizData[_0x53d089(0x3b8)];_0x4b6b51==='matching_item'?_0xd26f36[_0x53d089(0x309)]=_0x5082dd['innerText'][_0x53d089(0x529)](_0x5082dd[_0x53d089(0x32c)]['indexOf']('.')+0x2)[_0x53d089(0x258)]():_0xd26f36[_0x53d089(0x5e8)]=_0x5082dd[_0x53d089(0x32c)][_0x53d089(0x529)](_0x5082dd[_0x53d089(0x32c)][_0x53d089(0x5a2)]('.')+0x2)[_0x53d089(0x258)]();}_0x1d14a5&&(_0x1d14a5[_0x53d089(0x601)]=![],_0xd26f36[_0x53d089(0x545)]=_0x1d14a5[_0x53d089(0x32c)]);if(_0x5d7852){const _0x50ef1f=_0x5d7852['querySelector'](_0x53d089(0x3a0));if(_0x50ef1f){const _0x4defee=_0x50ef1f[_0x53d089(0x3af)](!![]);_0x4defee[_0x53d089(0x5f9)](_0x53d089(0x37a))[_0x53d089(0x2ec)](_0x1e9bbd=>_0x1e9bbd['remove']()),_0x4defee[_0x53d089(0x5f9)](_0x53d089(0x250))['forEach'](_0x5af5d1=>{const _0x5ce93b=_0x53d089;_0x5af5d1[_0x5ce93b(0x4d6)][_0x5ce93b(0x325)]('draggable-text'),_0x5af5d1[_0x5ce93b(0x4d4)][_0x5ce93b(0x308)]=_0x5ce93b(0x29d),_0x5af5d1[_0x5ce93b(0x620)]('id');}),_0xd26f36[_0x53d089(0x604)]=_0x4defee['outerHTML'],_0x50ef1f[_0x53d089(0x4cf)](_0x53d089(0x5dd),startDrag),_0x50ef1f[_0x53d089(0x4cf)](_0x53d089(0x377),drag),_0x50ef1f[_0x53d089(0x4cf)](_0x53d089(0x329),endDrag),_0x50ef1f[_0x53d089(0x4cf)](_0x53d089(0x42b),endDrag),_0x50ef1f[_0x53d089(0x4cf)](_0x53d089(0x677),startDrag),_0x50ef1f[_0x53d089(0x4cf)]('touchmove',drag),_0x50ef1f['removeEventListener']('touchend',endDrag),_0x50ef1f[_0x53d089(0x4cf)]('touchcancel',endDrag),_0x50ef1f[_0x53d089(0x4cf)](_0x53d089(0x4b1),handleSvgEditClick),_0x50ef1f[_0x53d089(0x5f9)](_0x53d089(0x37a))[_0x53d089(0x2ec)](_0x5ba054=>_0x5ba054[_0x53d089(0x325)]()),_0x50ef1f[_0x53d089(0x5f9)](_0x53d089(0x250))[_0x53d089(0x2ec)](_0x22cfa8=>{const _0x5c251c=_0x53d089;_0x22cfa8[_0x5c251c(0x4d6)][_0x5c251c(0x325)](_0x5c251c(0x666)),_0x22cfa8['style'][_0x5c251c(0x308)]=_0x5c251c(0x29d);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0xbd589f){const _0x523ab4=_0x13e7bb,_0x22a294=document[_0x523ab4(0x5bf)](_0x523ab4(0x2ed)),_0x1c2969=document[_0x523ab4(0x5bf)](_0x523ab4(0x627));_0x1c2969[_0x523ab4(0x435)]=_0x523ab4(0x1fb),_0x22a294[_0x523ab4(0x4d6)][_0x523ab4(0x325)](_0x523ab4(0x4f5));try{const _0x2459aa=doc(db,'artifacts/'+appId+_0x523ab4(0x23a),_0xbd589f),_0x238c07=await getDoc(_0x2459aa);if(!_0x238c07[_0x523ab4(0x453)]())throw new Error(_0x523ab4(0x480));currentEditingQuizData={'id':_0xbd589f,..._0x238c07[_0x523ab4(0x4aa)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x4b7067){console[_0x523ab4(0x43a)](_0x523ab4(0x635),_0x4b7067),showMessage(_0x523ab4(0x37f)),_0x22a294[_0x523ab4(0x4d6)]['add'](_0x523ab4(0x4f5));}}function renderQuizEditor(_0x10d8d5){const _0x1e2d55=_0x13e7bb;document[_0x1e2d55(0x5bf)](_0x1e2d55(0x3d9))['value']=_0x10d8d5[_0x1e2d55(0x40b)];const _0x40de01=document['getElementById'](_0x1e2d55(0x627));let _0x57c845=_0x10d8d5[_0x1e2d55(0x4ba)][_0x1e2d55(0x324)]((_0x5a072b,_0x56dacb)=>{const _0x196829=_0x1e2d55;let _0x2c3291='';const _0x4fa2cd=_0x5a072b[_0x196829(0x4d3)]||_0x10d8d5['quizType'];switch(_0x4fa2cd){case _0x196829(0x210):const _0x4aee23=(_0x5a072b[_0x196829(0x53a)]||[])[_0x196829(0x324)]((_0x4838ed,_0x4eb7a6)=>_0x196829(0x4ef)+_0x56dacb+_0x196829(0x34f)+_0x4eb7a6+'\x22\x20'+(_0x4eb7a6===_0x5a072b[_0x196829(0x5f4)]?_0x196829(0x293):'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x4838ed+_0x196829(0x5a3))[_0x196829(0x53d)]('');_0x2c3291='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x4aee23+_0x196829(0x5e2);break;case _0x196829(0x3c1):_0x2c3291=_0x196829(0x679)+(_0x5a072b[_0x196829(0x549)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x196829(0x30e):_0x2c3291=_0x196829(0x364)+_0x56dacb+_0x196829(0x5af)+(_0x5a072b[_0x196829(0x37d)]===!![]?_0x196829(0x293):'')+_0x196829(0x20a)+_0x56dacb+'\x22\x20value=\x22false\x22\x20'+(_0x5a072b[_0x196829(0x37d)]===![]?_0x196829(0x293):'')+_0x196829(0x3a2);break;case _0x196829(0x503):_0x2c3291=_0x196829(0x457)+(_0x5a072b[_0x196829(0x374)]||'')+_0x196829(0x59d);break;}const _0x1e3627=_0x5a072b['questionText']||_0x5a072b[_0x196829(0x309)]||'';return _0x196829(0x237)+_0x4fa2cd+_0x196829(0x398)+(_0x56dacb+0x1)+'\x20('+_0x4fa2cd+'):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x1e3627+_0x196829(0x630)+_0x2c3291+_0x196829(0x21e);})[_0x1e2d55(0x53d)]('');_0x40de01[_0x1e2d55(0x435)]=_0x57c845;}async function handleSaveChanges(){const _0x22a0f3=_0x13e7bb,_0x4b981c=document['getElementById'](_0x22a0f3(0x640));_0x4b981c[_0x22a0f3(0x5dc)]=!![],_0x4b981c[_0x22a0f3(0x435)]=_0x22a0f3(0x2e1);try{const _0x96b568=document['getElementById']('editor-quiz-topic')['value'],_0x389735=document[_0x22a0f3(0x5f9)]('.question-editor-item');let _0x3f8f10=[];const _0xf9cfef=Array[_0x22a0f3(0x4b8)](_0x389735)[_0x22a0f3(0x324)]((_0x3c2a94,_0xb1f8b5)=>{const _0x317d1b=_0x22a0f3,_0x1849ff=_0x3c2a94[_0x317d1b(0x471)][_0x317d1b(0x3e7)],_0x103fdf=_0x3c2a94[_0x317d1b(0x278)]('textarea')['value'];let _0x5971f8={'questionType':_0x1849ff};const _0x3f3b9a=currentEditingQuizData[_0x317d1b(0x4ba)][_0xb1f8b5];switch(_0x1849ff){case _0x317d1b(0x210):_0x5971f8[_0x317d1b(0x5e8)]=_0x103fdf;const _0x223613=_0x3c2a94[_0x317d1b(0x5f9)]('input[type=\x22text\x22]');_0x5971f8[_0x317d1b(0x53a)]=Array[_0x317d1b(0x4b8)](_0x223613)[_0x317d1b(0x324)](_0x3eef47=>_0x3eef47[_0x317d1b(0x44d)]);const _0x109c61=_0x3c2a94['querySelector'](_0x317d1b(0x206));_0x5971f8[_0x317d1b(0x5f4)]=_0x109c61?parseInt(_0x109c61[_0x317d1b(0x44d)]):0x0;break;case'short_answer':_0x5971f8[_0x317d1b(0x5e8)]=_0x103fdf,_0x5971f8[_0x317d1b(0x549)]=_0x3c2a94['querySelector'](_0x317d1b(0x33b))[_0x317d1b(0x44d)];break;case _0x317d1b(0x30e):_0x5971f8[_0x317d1b(0x5e8)]=_0x103fdf;const _0x17c5e8=_0x3c2a94['querySelector'](_0x317d1b(0x206));_0x5971f8[_0x317d1b(0x37d)]=_0x17c5e8?_0x17c5e8['value']==='true':!![];break;case'matching_item':_0x5971f8[_0x317d1b(0x309)]=_0x103fdf;const _0x2d8b8f=_0x3c2a94[_0x317d1b(0x278)](_0x317d1b(0x2fa));_0x5971f8['correctResponse']=_0x2d8b8f?_0x2d8b8f['value']:'',_0x3f8f10[_0x317d1b(0x378)](_0x5971f8['correctResponse']);break;default:_0x5971f8['questionText']=_0x103fdf;break;}return{..._0x3f3b9a,..._0x5971f8};});_0x3f8f10[_0x22a0f3(0x338)]>0x0&&_0xf9cfef['forEach'](_0x59c943=>{const _0x5425ca=_0x22a0f3;_0x59c943[_0x5425ca(0x4d3)]===_0x5425ca(0x503)&&(_0x59c943[_0x5425ca(0x21d)]=_0x3f8f10);});const _0xb321e4=doc(db,_0x22a0f3(0x3f8)+appId+_0x22a0f3(0x23a),currentEditingQuizData['id']);await updateDoc(_0xb321e4,{'topic':_0x96b568,'questions':_0xf9cfef}),showMessage(_0x22a0f3(0x31d)),document[_0x22a0f3(0x5bf)](_0x22a0f3(0x2ed))[_0x22a0f3(0x4d6)]['add']('hidden');}catch(_0x39c175){console[_0x22a0f3(0x43a)]('Error\x20saving\x20quiz\x20edits:',_0x39c175),showMessage(_0x22a0f3(0x4f3));}finally{_0x4b981c[_0x22a0f3(0x5dc)]=![],_0x4b981c[_0x22a0f3(0x435)]=_0x22a0f3(0x340);}}async function saveQuiz(){const _0x370a9b=_0x13e7bb;if(!currentQuizData||!currentQuizData[_0x370a9b(0x4ba)]||!userId||!currentProjectId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x453a9f=document[_0x370a9b(0x5bf)](_0x370a9b(0x4b5));_0x453a9f[_0x370a9b(0x5dc)]=!![],_0x453a9f[_0x370a9b(0x435)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...',currentQuizData['topic']=document[_0x370a9b(0x5bf)]('editable-quiz-topic')[_0x370a9b(0x32c)];try{const _0xf9172e={'resultsDisplay':document[_0x370a9b(0x5bf)](_0x370a9b(0x212))[_0x370a9b(0x44d)],'shuffle':document[_0x370a9b(0x5bf)]('shuffle-setting-select')[_0x370a9b(0x44d)],'timerMode':document['getElementById']('timer-mode-select')[_0x370a9b(0x44d)],'timerDuration':parseInt(document[_0x370a9b(0x5bf)]('timer-duration-input')[_0x370a9b(0x44d)])||0xa,'passingScore':parseInt(document[_0x370a9b(0x5bf)](_0x370a9b(0x493))[_0x370a9b(0x44d)])||0x0,'passingScore':parseInt(document[_0x370a9b(0x5bf)](_0x370a9b(0x493))['value'])||0x0,'isAdaptive':document[_0x370a9b(0x5bf)](_0x370a9b(0x4e4))[_0x370a9b(0x293)]},_0x427327=(currentQuizData[_0x370a9b(0x4ba)]||[])[_0x370a9b(0x324)](_0x40b25d=>{const _0x2da883=_0x370a9b,_0x952f95=document[_0x2da883(0x5bf)](_0x2da883(0x35e))[_0x2da883(0x44d)],_0x54ce4a={'questionText':_0x40b25d[_0x2da883(0x5e8)]||'','explanation':_0x40b25d[_0x2da883(0x545)]||_0x2da883(0x3a7),'questionType':_0x40b25d['questionType']||_0x952f95,'imageCode':_0x40b25d[_0x2da883(0x604)]||null};return(_0x54ce4a[_0x2da883(0x4d3)]===_0x2da883(0x210)||_0x54ce4a[_0x2da883(0x4d3)]===_0x2da883(0x259)||_0x54ce4a['questionType']==='mixed'&&_0x40b25d[_0x2da883(0x53a)])&&(_0x54ce4a[_0x2da883(0x53a)]=_0x40b25d['options']||[],_0x54ce4a[_0x2da883(0x5f4)]=_0x40b25d[_0x2da883(0x5f4)]!==undefined?_0x40b25d[_0x2da883(0x5f4)]:0x0),(_0x54ce4a[_0x2da883(0x4d3)]===_0x2da883(0x3c1)||_0x54ce4a['questionType']==='fill_in_no_choices'||_0x54ce4a[_0x2da883(0x4d3)]===_0x2da883(0x64e)&&_0x40b25d[_0x2da883(0x549)])&&(_0x54ce4a[_0x2da883(0x549)]=_0x40b25d[_0x2da883(0x549)]||''),_0x54ce4a[_0x2da883(0x4d3)]===_0x2da883(0x30e)&&(_0x54ce4a['correctAnswer']=_0x40b25d[_0x2da883(0x37d)]===!![]),_0x54ce4a[_0x2da883(0x4d3)]===_0x2da883(0x503)&&(_0x54ce4a[_0x2da883(0x309)]=_0x40b25d[_0x2da883(0x309)]||'',_0x54ce4a[_0x2da883(0x374)]=_0x40b25d[_0x2da883(0x374)]||'',_0x54ce4a[_0x2da883(0x21d)]=_0x40b25d['allResponses']||[]),_0x54ce4a;}),_0x40a496={'topic':currentQuizData[_0x370a9b(0x40b)]||_0x370a9b(0x674),'quizType':currentQuizData['quizType']||_0x370a9b(0x210),'questions':_0x427327,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x370a9b(0x54e)](),'status':_0x370a9b(0x440),'settings':_0xf9172e};let _0x548ea8;while(!![]){_0x548ea8=Math['floor'](0x3e8+Math[_0x370a9b(0x418)]()*0x2328)['toString']();const _0x190e20=await getDoc(doc(db,_0x370a9b(0x3f8)+appId+_0x370a9b(0x23a),_0x548ea8));if(!_0x190e20[_0x370a9b(0x453)]())break;}await setDoc(doc(db,_0x370a9b(0x3f8)+appId+_0x370a9b(0x23a),_0x548ea8),_0x40a496),currentQuizData[_0x370a9b(0x63f)]=_0xf9172e,currentQuizData['id']=_0x548ea8;const _0x642615=document['getElementById'](_0x370a9b(0x459));_0x642615[_0x370a9b(0x435)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x548ea8+_0x370a9b(0x652),document[_0x370a9b(0x5bf)]('copy-quiz-id-btn')['addEventListener'](_0x370a9b(0x4b1),()=>copyTextToClipboard(_0x548ea8,'คัดลอกรหัสแล้ว!')),document[_0x370a9b(0x5bf)](_0x370a9b(0x636))[_0x370a9b(0x304)](_0x370a9b(0x4b1),()=>handleStartLiveRace(_0x548ea8)),document[_0x370a9b(0x5bf)](_0x370a9b(0x40a))[_0x370a9b(0x304)]('click',()=>startPresentation(currentQuizData)),document[_0x370a9b(0x5bf)](_0x370a9b(0x3fc))['addEventListener'](_0x370a9b(0x4b1),startAdminTest),showMessage(_0x370a9b(0x299));}catch(_0x20e960){console[_0x370a9b(0x43a)](_0x370a9b(0x4c8),_0x20e960),showMessage(_0x370a9b(0x45b)),_0x453a9f['disabled']=![],_0x453a9f[_0x370a9b(0x435)]=_0x370a9b(0x662);}}function copyTextToClipboard(_0x28ca7d,_0x1ba4c3){const _0x40d535=_0x13e7bb,_0x109ff7=document[_0x40d535(0x26a)](_0x40d535(0x5b1));_0x109ff7['value']=_0x28ca7d,_0x109ff7[_0x40d535(0x4d4)][_0x40d535(0x298)]=_0x40d535(0x464),_0x109ff7['style']['opacity']='0',document[_0x40d535(0x2c4)][_0x40d535(0x366)](_0x109ff7),_0x109ff7[_0x40d535(0x593)](),_0x109ff7['select']();try{const _0x279e91=document[_0x40d535(0x5c9)](_0x40d535(0x3b2));showMessage(_0x279e91?_0x1ba4c3:'คัดลอกไม่สำเร็จ');}catch(_0x3354c4){showMessage('คัดลอกไม่สำเร็จ'),console[_0x40d535(0x43a)](_0x40d535(0x23e),_0x3354c4);}document[_0x40d535(0x2c4)][_0x40d535(0x384)](_0x109ff7);}function listenForProjectQuizzes(_0x33fa0e){const _0x1b1d02=_0x13e7bb,_0x28986d=collection(db,_0x1b1d02(0x3f8)+appId+_0x1b1d02(0x23a)),_0x4e439e=query(_0x28986d,where(_0x1b1d02(0x524),'==',_0x33fa0e));unsubscribeQuizzesListener=onSnapshot(_0x4e439e,async _0x51280e=>{const _0x407794=_0x1b1d02;allQuizzes=_0x51280e[_0x407794(0x66b)][_0x407794(0x324)](_0x3acf2a=>({'id':_0x3acf2a['id'],..._0x3acf2a[_0x407794(0x4aa)]()})),renderQuizzes();},_0x3545b4=>{const _0x39384b=_0x1b1d02;console[_0x39384b(0x43a)](_0x39384b(0x490),_0x3545b4),document[_0x39384b(0x5bf)](_0x39384b(0x487))[_0x39384b(0x435)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x3e7cff=_0x13e7bb,_0x127e90=document[_0x3e7cff(0x5bf)](_0x3e7cff(0x487)),_0x16c5d3=document['getElementById'](_0x3e7cff(0x24b))[_0x3e7cff(0x44d)][_0x3e7cff(0x2a9)]();let _0x191519;currentProjectId==='starred'?_0x191519=starredQuizzes:_0x191519=allQuizzes;let _0x208cc2=_0x191519[_0x3e7cff(0x433)](_0x5141a1=>_0x5141a1[_0x3e7cff(0x40b)][_0x3e7cff(0x2a9)]()['includes'](_0x16c5d3));_0x208cc2[_0x3e7cff(0x4d2)]((_0x2a5c3f,_0x48ebe3)=>new Date(_0x48ebe3['createdAt'])-new Date(_0x2a5c3f[_0x3e7cff(0x48c)]));if(_0x208cc2[_0x3e7cff(0x338)]===0x0){_0x127e90[_0x3e7cff(0x435)]=_0x3e7cff(0x5b2);return;}const _0x443269={},_0x46592d=_0x208cc2[_0x3e7cff(0x324)](async _0xa75f0d=>{const _0x15e792=_0x3e7cff,_0xcda097=collection(db,_0x15e792(0x3f8)+appId+_0x15e792(0x57f)+_0xa75f0d['id']+_0x15e792(0x51e)),_0x4926b8=await getDocs(_0xcda097);_0x443269[_0xa75f0d['id']]=_0x4926b8['size'];});await Promise['all'](_0x46592d);let _0x4e51b2='';_0x208cc2['forEach'](_0x43d916=>{const _0x487aeb=_0x3e7cff,_0x365b58=_0x443269[_0x43d916['id']]||0x0,_0xe75d3=_0x43d916[_0x487aeb(0x558)]||_0x487aeb(0x440),_0x3b84ad=_0x43d916['settings']?.[_0x487aeb(0x36e)]||'none';let _0x581953='',_0x2ca983='';const _0x1593b8=new Date();let _0x46da5f=_0xe75d3;if(_0xe75d3===_0x487aeb(0x2b5)){const _0x9ecfb6=_0x43d916[_0x487aeb(0x617)]?new Date(_0x43d916[_0x487aeb(0x617)]):null,_0x3b8bc7=_0x43d916[_0x487aeb(0x318)]?new Date(_0x43d916['endTime']):null;if(_0x3b8bc7&&_0x1593b8>_0x3b8bc7)_0x46da5f=_0x487aeb(0x5ae);else _0x9ecfb6&&_0x1593b8<_0x9ecfb6?_0x46da5f=_0x487aeb(0x42a):_0x46da5f=_0x487aeb(0x440);}switch(_0x46da5f){case _0x487aeb(0x5ae):_0x581953=_0x487aeb(0x272),_0x2ca983=_0x487aeb(0x654);break;case _0x487aeb(0x42a):_0x581953=_0x487aeb(0x2f8),_0x2ca983=_0x487aeb(0x4bf);break;case _0x487aeb(0x440):_0x581953=_0x3b84ad!=='none'?_0x487aeb(0x409):_0x487aeb(0x43f),_0x2ca983=_0x487aeb(0x2cb);break;default:_0x581953='ตั้งเวลา\x20(เปิด)',_0x2ca983=_0x487aeb(0x2cb);}let _0x1de339='';const _0x3a0517={'day':_0x487aeb(0x2cf),'month':'2-digit','year':'numeric','hour':_0x487aeb(0x2cf),'minute':_0x487aeb(0x2cf),'hour12':![]};_0xe75d3===_0x487aeb(0x2b5)&&(_0x43d916[_0x487aeb(0x617)]&&(_0x1de339+=_0x487aeb(0x3df)+new Date(_0x43d916[_0x487aeb(0x617)])[_0x487aeb(0x668)](_0x487aeb(0x2e8),_0x3a0517)+_0x487aeb(0x28a)),_0x43d916['endTime']&&(_0x1de339+=_0x487aeb(0x651)+new Date(_0x43d916['endTime'])[_0x487aeb(0x668)]('th-TH',_0x3a0517)+'</p>')),_0x4e51b2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x43d916['id']+_0x487aeb(0x450)+_0x43d916[_0x487aeb(0x40b)]+_0x487aeb(0x26e)+_0x43d916[_0x487aeb(0x4ba)]['length']+_0x487aeb(0x485)+new Date(_0x43d916[_0x487aeb(0x48c)])[_0x487aeb(0x668)](_0x487aeb(0x2e8))+_0x487aeb(0x405)+_0x365b58+_0x487aeb(0x63b)+_0x1de339+_0x487aeb(0x5df)+_0x2ca983+'\x22>'+_0x581953+_0x487aeb(0x4bb)+_0x43d916['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-end\x20flex-wrap\x20gap-2\x20mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x43d916['id']+_0x487aeb(0x63c)+(_0x43d916['isStarred']?_0x487aeb(0x361):_0x487aeb(0x200))+_0x487aeb(0x233)+_0x43d916['id']+_0x487aeb(0x444)+_0x43d916['id']+'\x22\x20data-topic=\x22'+_0x43d916[_0x487aeb(0x40b)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22'+_0x43d916['id']+_0x487aeb(0x36d)+_0x43d916['id']+_0x487aeb(0x31c)+_0x43d916['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x43d916['id']+_0x487aeb(0x5f3)+_0x43d916['id']+_0x487aeb(0x501)+_0x43d916['id']+_0x487aeb(0x5ff)+_0x43d916['id']+_0x487aeb(0x30d)+_0x43d916['id']+_0x487aeb(0x47a)+_0x43d916[_0x487aeb(0x40b)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x20ml-auto\x22\x20title=\x22ลบแบบทดสอบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x127e90['innerHTML']=_0x4e51b2,document[_0x3e7cff(0x5f9)](_0x3e7cff(0x37b))[_0x3e7cff(0x2ec)](_0x35fa24=>{const _0x4a1d69=_0x3e7cff;_0x35fa24[_0x4a1d69(0x304)](_0x4a1d69(0x4b1),()=>{const _0xd7f702=_0x4a1d69,_0x425f96=_0x35fa24[_0xd7f702(0x471)]['quizId'];showQuizDetailView(_0x425f96);});});}async function handleDuplicateQuiz(_0x1ebfdf){const _0x2c103b=_0x13e7bb;try{const _0x2eb19a=doc(db,_0x2c103b(0x3f8)+appId+_0x2c103b(0x23a),_0x1ebfdf),_0x59eedd=await getDoc(_0x2eb19a);if(_0x59eedd['exists']()){const _0x27a1e0=_0x59eedd[_0x2c103b(0x4aa)](),_0x17fddb={..._0x27a1e0,'topic':_0x2c103b(0x665)+_0x27a1e0['topic'],'createdAt':new Date()[_0x2c103b(0x54e)]()};await addDoc(collection(db,_0x2c103b(0x3f8)+appId+_0x2c103b(0x23a)),_0x17fddb),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x119098){console[_0x2c103b(0x43a)](_0x2c103b(0x2cc),_0x119098),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x27992c,_0x56dcb3=!![]){const _0x2e3579=_0x13e7bb;try{const _0x4bea34=writeBatch(db),_0x45edcc=collection(db,_0x2e3579(0x3f8)+appId+_0x2e3579(0x57f)+_0x27992c+_0x2e3579(0x51e)),_0x2b3613=await getDocs(_0x45edcc);_0x2b3613[_0x2e3579(0x2ec)](_0x19d398=>{_0x4bea34['delete'](doc(_0x45edcc,_0x19d398['id']));});const _0x6f5d0e=doc(db,_0x2e3579(0x3f8)+appId+_0x2e3579(0x23a),_0x27992c);_0x4bea34['delete'](_0x6f5d0e),await _0x4bea34[_0x2e3579(0x608)](),_0x56dcb3&&showMessage(_0x2e3579(0x5a6));}catch(_0x5c87a8){console[_0x2e3579(0x43a)](_0x2e3579(0x644),_0x5c87a8),_0x56dcb3&&showMessage(_0x2e3579(0x571));}}async function showQuizDetailView(_0x35a9a7){const _0x11d33d=_0x13e7bb;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x11d33d(0x357));try{const _0x765011=doc(db,_0x11d33d(0x3f8)+appId+_0x11d33d(0x23a),_0x35a9a7),_0x58025b=await getDoc(_0x765011);if(!_0x58025b[_0x11d33d(0x453)]()){showMessage(_0x11d33d(0x4fd));return;}const _0x25877a={'id':_0x58025b['id'],..._0x58025b[_0x11d33d(0x4aa)]()};currentQuizData=_0x25877a;const _0x26ed44=doc(db,_0x11d33d(0x3f8)+appId+'/public/data/projects',_0x25877a[_0x11d33d(0x524)]),_0x339c2d=await getDoc(_0x26ed44);_0x339c2d[_0x11d33d(0x453)]()?(currentProjectData=_0x339c2d[_0x11d33d(0x4aa)](),currentProjectId=_0x25877a['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x25877a[_0x11d33d(0x524)]);document['getElementById']('results-quiz-title')[_0x11d33d(0x660)]=_0x25877a['topic'],document[_0x11d33d(0x5bf)](_0x11d33d(0x4ac))[_0x11d33d(0x660)]=_0x35a9a7;const _0x28c008=collection(db,_0x11d33d(0x3f8)+appId+_0x11d33d(0x23a),_0x35a9a7,_0x11d33d(0x650));unsubscribeSubmissionsListener=onSnapshot(_0x28c008,_0x153b88=>{const _0x4e15ca=_0x11d33d,_0x4324f8=_0x153b88[_0x4e15ca(0x66b)][_0x4e15ca(0x324)](_0x3070e0=>({'id':_0x3070e0['id'],..._0x3070e0[_0x4e15ca(0x4aa)]()}));currentSubmissions=_0x4324f8,renderAnalytics(_0x25877a,_0x4324f8),renderQuizResultsTable(currentProjectData[_0x4e15ca(0x561)],_0x4324f8,_0x25877a),renderQuizLeaderboard(_0x4324f8,_0x25877a,_0x4e15ca(0x64d));}),showView(_0x11d33d(0x67f));}catch(_0x7c946b){console['error'](_0x11d33d(0x347),_0x7c946b),showMessage(_0x11d33d(0x676));}}function renderQuizResultsTable(_0x15e224,_0x16a015,_0xef765d){const _0x109922=_0x13e7bb,_0x307e9a=_0x16a015['reduce']((_0x1ba848,_0x47bdec)=>{return _0x1ba848[_0x47bdec['studentName']]=_0x47bdec,_0x1ba848;},{}),_0x16c1e2=document[_0x109922(0x5bf)](_0x109922(0x439));if(!_0x15e224||_0x15e224[_0x109922(0x338)]===0x0){_0x16c1e2[_0x109922(0x435)]='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x5cbf66=_0xef765d[_0x109922(0x492)]===!![],_0x21a2e2=_0xef765d[_0x109922(0x63f)]?.[_0x109922(0x261)]??-0x1;let _0x262730='';_0x15e224[_0x109922(0x2ec)](_0x227e71=>{const _0x2dc7dc=_0x109922,_0x23e93f=_0x307e9a[_0x227e71];let _0x32ef42='<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>',_0x1e833f=_0x2dc7dc(0x42e)+(_0x5cbf66?'bg-amber-100\x20text-amber-800':_0x2dc7dc(0x5b8))+'\x22>'+(_0x5cbf66?_0x2dc7dc(0x45a):_0x2dc7dc(0x3ad))+_0x2dc7dc(0x345);if(_0x23e93f){let _0x4b3be2;_0x5cbf66?_0x4b3be2=_0x23e93f[_0x2dc7dc(0x28e)]===_0x23e93f[_0x2dc7dc(0x47b)]:_0x4b3be2=_0x21a2e2!==-0x1&&_0x23e93f[_0x2dc7dc(0x28e)]>=_0x21a2e2;if(_0x5cbf66||_0x21a2e2!==-0x1){const _0x1f1ca6=_0x4b3be2?_0x2dc7dc(0x64c):_0x2dc7dc(0x248),_0x1e1828=_0x4b3be2?_0x2dc7dc(0x2d6):_0x2dc7dc(0x655);_0x32ef42=_0x2dc7dc(0x5d0)+_0x1f1ca6+'\x22>'+_0x1e1828+'</span></td>';}const _0x31b536=_0x2dc7dc(0x5d7)+(_0x23e93f[_0x2dc7dc(0x3d8)]?.[_0x2dc7dc(0x338)]||0x1)+_0x2dc7dc(0x61e);_0x262730+=_0x2dc7dc(0x521)+_0x227e71+_0x2dc7dc(0x605)+_0x23e93f[_0x2dc7dc(0x28e)]+_0x2dc7dc(0x491)+_0x23e93f[_0x2dc7dc(0x47b)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x32ef42+_0x2dc7dc(0x21a)+_0x1e833f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x23e93f[_0x2dc7dc(0x390)]+_0x2dc7dc(0x491)+_0x23e93f[_0x2dc7dc(0x47b)]+_0x2dc7dc(0x67b)+_0x23e93f[_0x2dc7dc(0x2f5)]+_0x2dc7dc(0x496)+(_0x23e93f[_0x2dc7dc(0x33f)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31b536+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x23e93f[_0x2dc7dc(0x35b)])[_0x2dc7dc(0x668)]('th-TH')+_0x2dc7dc(0x55f);}else{const _0x187fe7=_0x2dc7dc(0x61b);_0x262730+=_0x2dc7dc(0x521)+_0x227e71+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e833f+_0x2dc7dc(0x370)+_0x187fe7+_0x2dc7dc(0x584);}}),_0x16c1e2[_0x109922(0x435)]=_0x262730;}function handleRenameQuiz(_0x555438,_0x7991b8){const _0x510f56=_0x13e7bb;actionTargetId=_0x555438,document['getElementById'](_0x510f56(0x40e))[_0x510f56(0x44d)]=_0x7991b8,renameQuizModal['classList'][_0x510f56(0x325)](_0x510f56(0x4f5));}async function confirmRenameQuiz(){const _0x151256=_0x13e7bb,_0x4931de=document[_0x151256(0x5bf)](_0x151256(0x40e))[_0x151256(0x44d)][_0x151256(0x258)]();if(!_0x4931de){showMessage(_0x151256(0x556));return;}if(!actionTargetId)return;const _0x25fde1=doc(db,_0x151256(0x3f8)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x25fde1,{'topic':_0x4931de}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal['classList'][_0x151256(0x65f)](_0x151256(0x4f5)),actionTargetId=null;}catch(_0x2a0cb9){console[_0x151256(0x43a)]('Error\x20renaming\x20quiz:',_0x2a0cb9),showMessage(_0x151256(0x4bd));}}async function handleMoveQuiz(_0x27681b){const _0x1ce91e=_0x13e7bb;actionTargetId=_0x27681b;const _0x257f5e=document[_0x1ce91e(0x5bf)](_0x1ce91e(0x421));_0x257f5e['innerHTML']=_0x1ce91e(0x619),moveQuizModal[_0x1ce91e(0x4d6)][_0x1ce91e(0x325)](_0x1ce91e(0x4f5));try{const _0x545969=collection(db,_0x1ce91e(0x3f8)+appId+'/public/data/projects'),_0x24643e=await getDocs(_0x545969),_0x3bac13=_0x24643e[_0x1ce91e(0x66b)][_0x1ce91e(0x324)](_0x320954=>({'id':_0x320954['id'],..._0x320954[_0x1ce91e(0x4aa)]()})),_0x48c1fb=_0x3bac13[_0x1ce91e(0x433)](_0xd5eae=>_0xd5eae['id']!==currentProjectId);if(_0x48c1fb[_0x1ce91e(0x338)]===0x0){_0x257f5e[_0x1ce91e(0x435)]=_0x1ce91e(0x66e),document[_0x1ce91e(0x5bf)](_0x1ce91e(0x4fe))[_0x1ce91e(0x5dc)]=!![];return;}_0x257f5e[_0x1ce91e(0x435)]=_0x48c1fb[_0x1ce91e(0x324)](_0x47b133=>_0x1ce91e(0x47d)+_0x47b133['id']+'\x22>'+_0x47b133[_0x1ce91e(0x5c5)]+_0x1ce91e(0x354))[_0x1ce91e(0x53d)](''),document[_0x1ce91e(0x5bf)](_0x1ce91e(0x4fe))[_0x1ce91e(0x5dc)]=![];}catch(_0x3d250d){console[_0x1ce91e(0x43a)](_0x1ce91e(0x247),_0x3d250d),showMessage(_0x1ce91e(0x5a9)),moveQuizModal[_0x1ce91e(0x4d6)]['add'](_0x1ce91e(0x4f5));}}async function confirmMoveQuiz(){const _0x41582f=_0x13e7bb,_0x35548c=document[_0x41582f(0x5bf)](_0x41582f(0x421))[_0x41582f(0x44d)];if(!_0x35548c){showMessage(_0x41582f(0x669));return;}if(!actionTargetId)return;const _0x1cb7ef=doc(db,_0x41582f(0x3f8)+appId+_0x41582f(0x23a),actionTargetId);try{await updateDoc(_0x1cb7ef,{'projectId':_0x35548c}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal['classList'][_0x41582f(0x65f)](_0x41582f(0x4f5)),actionTargetId=null;}catch(_0x3d2ecb){console[_0x41582f(0x43a)](_0x41582f(0x31b),_0x3d2ecb),showMessage(_0x41582f(0x27b));}}async function handleQuizSettings(_0x2c8804){const _0x4260d3=_0x13e7bb;actionTargetId=_0x2c8804;const _0xc24859=doc(db,_0x4260d3(0x3f8)+appId+_0x4260d3(0x23a),_0x2c8804);try{const _0x9bd3d2=await getDoc(_0xc24859);if(_0x9bd3d2[_0x4260d3(0x453)]()){const _0x20df74=_0x9bd3d2['data'](),_0x4e37df=_0x20df74['settings']||{},_0x13ffe5=_0x20df74['questions']['length'];document[_0x4260d3(0x5bf)](_0x4260d3(0x3d0))['value']=_0x4e37df[_0x4260d3(0x526)]||'none',document['getElementById'](_0x4260d3(0x353))[_0x4260d3(0x44d)]=_0x4e37df[_0x4260d3(0x472)]||'show_results_and_answers',document[_0x4260d3(0x5bf)](_0x4260d3(0x321))[_0x4260d3(0x44d)]=_0x4e37df[_0x4260d3(0x36e)]||_0x4260d3(0x3e0),document['getElementById'](_0x4260d3(0x320))[_0x4260d3(0x44d)]=_0x4e37df[_0x4260d3(0x426)]||0xa,document[_0x4260d3(0x5bf)](_0x4260d3(0x533))[_0x4260d3(0x44d)]=_0x4e37df[_0x4260d3(0x261)]||Math['floor'](_0x13ffe5/0x2),document['getElementById'](_0x4260d3(0x533))[_0x4260d3(0x3c9)]=_0x13ffe5,document[_0x4260d3(0x5bf)](_0x4260d3(0x46c))[_0x4260d3(0x293)]=_0x4e37df[_0x4260d3(0x5de)]||![],document['getElementById']('modal-timer-mode-select')[_0x4260d3(0x3ec)](new Event('change')),quizSettingsModal['classList'][_0x4260d3(0x325)]('hidden');}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x5705e8){console['error'](_0x4260d3(0x2e2),_0x5705e8),showMessage(_0x4260d3(0x36b));}}async function confirmQuizSettings(){const _0x5c78a8=_0x13e7bb;if(!actionTargetId)return;const _0x8a14e9=doc(db,_0x5c78a8(0x3f8)+appId+_0x5c78a8(0x23a),actionTargetId),_0x4a0fb4={'shuffle':document[_0x5c78a8(0x5bf)](_0x5c78a8(0x3d0))[_0x5c78a8(0x44d)],'resultsDisplay':document[_0x5c78a8(0x5bf)](_0x5c78a8(0x353))[_0x5c78a8(0x44d)],'timerMode':document['getElementById'](_0x5c78a8(0x321))[_0x5c78a8(0x44d)],'timerDuration':parseInt(document['getElementById'](_0x5c78a8(0x320))['value'])||0xa,'passingScore':parseInt(document['getElementById'](_0x5c78a8(0x533))[_0x5c78a8(0x44d)])||0x0,'passingScore':parseInt(document[_0x5c78a8(0x5bf)](_0x5c78a8(0x533))[_0x5c78a8(0x44d)])||0x0,'isAdaptive':document[_0x5c78a8(0x5bf)]('modal-adaptive-quiz-checkbox')[_0x5c78a8(0x293)]};try{await updateDoc(_0x8a14e9,{'settings':_0x4a0fb4}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x5c78a8(0x4d6)][_0x5c78a8(0x65f)](_0x5c78a8(0x4f5)),actionTargetId=null;}catch(_0x302a3f){console[_0x5c78a8(0x43a)](_0x5c78a8(0x62d),_0x302a3f),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleQuizStatus(_0x471bb1){const _0x5f2b98=_0x13e7bb;actionTargetId=_0x471bb1;const _0x4ba94e=doc(db,_0x5f2b98(0x3f8)+appId+_0x5f2b98(0x23a),_0x471bb1);try{const _0x43727e=await getDoc(_0x4ba94e);if(_0x43727e[_0x5f2b98(0x453)]()){const _0x525d81=_0x43727e[_0x5f2b98(0x4aa)](),_0x41b7cd=_0x525d81[_0x5f2b98(0x558)]||_0x5f2b98(0x440),_0xdea3a3=document[_0x5f2b98(0x5bf)](_0x5f2b98(0x623)),_0x4d97a4=document[_0x5f2b98(0x5bf)](_0x5f2b98(0x64b)),_0x4ef3e0=document[_0x5f2b98(0x5bf)]('quiz-schedule-end-container');let _0x4a59ee=_0x5f2b98(0x50e)+(_0x41b7cd===_0x5f2b98(0x440)?_0x5f2b98(0x293):'')+_0x5f2b98(0x641)+(_0x41b7cd===_0x5f2b98(0x5ae)?'checked':'')+_0x5f2b98(0x386)+(_0x41b7cd==='scheduled'?_0x5f2b98(0x293):'')+_0x5f2b98(0x56a);_0xdea3a3['innerHTML']=_0x4a59ee;const _0x56669a=_0x41b7cd===_0x5f2b98(0x2b5);_0x4d97a4[_0x5f2b98(0x4d6)][_0x5f2b98(0x4e8)](_0x5f2b98(0x4f5),!_0x56669a),_0x4ef3e0[_0x5f2b98(0x4d6)][_0x5f2b98(0x4e8)](_0x5f2b98(0x4f5),!_0x56669a),document[_0x5f2b98(0x5bf)]('quiz-start-time')[_0x5f2b98(0x44d)]=_0x525d81['startTime']?_0x525d81[_0x5f2b98(0x617)][_0x5f2b98(0x529)](0x0,0x10):'',document[_0x5f2b98(0x5bf)](_0x5f2b98(0x21b))[_0x5f2b98(0x44d)]=_0x525d81['endTime']?_0x525d81[_0x5f2b98(0x318)]['substring'](0x0,0x10):'',_0xdea3a3[_0x5f2b98(0x5f9)](_0x5f2b98(0x2c8))['forEach'](_0x89b60e=>{const _0x2b9c2b=_0x5f2b98;_0x89b60e[_0x2b9c2b(0x304)](_0x2b9c2b(0x443),_0x66adc=>{const _0x45acdc=_0x2b9c2b,_0x2f1f3e=_0x66adc['target'][_0x45acdc(0x44d)]==='schedule';_0x4d97a4['classList'][_0x45acdc(0x4e8)](_0x45acdc(0x4f5),!_0x2f1f3e),_0x4ef3e0[_0x45acdc(0x4d6)]['toggle'](_0x45acdc(0x4f5),!_0x2f1f3e);});}),quizStatusModal['classList'][_0x5f2b98(0x325)](_0x5f2b98(0x4f5));}}catch(_0x3f0a81){console[_0x5f2b98(0x43a)](_0x5f2b98(0x54b),_0x3f0a81),showMessage(_0x5f2b98(0x48e));}}async function confirmQuizStatus(){const _0x45b96b=_0x13e7bb;if(!actionTargetId)return;const _0x37c2ea=doc(db,'artifacts/'+appId+_0x45b96b(0x23a),actionTargetId),_0x389464=document[_0x45b96b(0x278)](_0x45b96b(0x4e9));if(!_0x389464){showMessage(_0x45b96b(0x569));return;}const _0x4edf1f=_0x389464[_0x45b96b(0x44d)];let _0x46c75b={};if(_0x4edf1f===_0x45b96b(0x440)||_0x4edf1f===_0x45b96b(0x5ae))_0x46c75b={'status':_0x4edf1f,'startTime':null,'endTime':null};else{if(_0x4edf1f===_0x45b96b(0x5c4)){const _0x4d960c=document['getElementById'](_0x45b96b(0x2b6))['value'],_0x246d4b=document['getElementById'](_0x45b96b(0x21b))[_0x45b96b(0x44d)];if(!_0x4d960c&&!_0x246d4b){showMessage(_0x45b96b(0x3ee));return;}_0x46c75b={'status':_0x45b96b(0x2b5),'startTime':_0x4d960c?new Date(_0x4d960c)[_0x45b96b(0x54e)]():null,'endTime':_0x246d4b?new Date(_0x246d4b)[_0x45b96b(0x54e)]():null};}}try{await updateDoc(_0x37c2ea,_0x46c75b),showMessage(_0x45b96b(0x305)),quizStatusModal[_0x45b96b(0x4d6)]['add']('hidden'),actionTargetId=null;}catch(_0xa8d654){console[_0x45b96b(0x43a)](_0x45b96b(0x417),_0xa8d654),showMessage(_0x45b96b(0x60d));}}function listenForStudentProfiles(_0x29ff0e){const _0x2d5497=_0x13e7bb,_0x4e80d6=collection(db,_0x2d5497(0x3f8)+appId+'/public/data/projects/'+_0x29ff0e+_0x2d5497(0x1f5));unsubscribeStudentProfilesListener=onSnapshot(_0x4e80d6,_0x13f8e0=>{const _0xdc36ff=_0x13f8e0['docs']['map'](_0x389e37=>_0x389e37['data']());renderLeaderboard(_0xdc36ff,'leaderboard-table-body');},_0x5f2969=>{const _0x5f3d5e=_0x2d5497;console[_0x5f3d5e(0x43a)](_0x5f3d5e(0x3da),_0x5f2969),document['getElementById'](_0x5f3d5e(0x3db))[_0x5f3d5e(0x435)]=_0x5f3d5e(0x285);});}function renderLeaderboard(_0x337021,_0x10092a){const _0x262cc6=_0x13e7bb,_0xb93212=document[_0x262cc6(0x5bf)](_0x10092a);if(!_0x337021||_0x337021[_0x262cc6(0x338)]===0x0){_0xb93212[_0x262cc6(0x435)]=_0x262cc6(0x4e7);return;}_0x337021[_0x262cc6(0x4d2)]((_0x26abfc,_0x39d3b)=>{const _0x2fe17d=_0x262cc6,_0x52426c=(_0x39d3b[_0x2fe17d(0x467)]||0x0)-(_0x26abfc[_0x2fe17d(0x467)]||0x0);if(_0x52426c!==0x0)return _0x52426c;const _0x50ecbe=(_0x39d3b[_0x2fe17d(0x3bc)]?.[_0x2fe17d(0x25e)]||0x0)-(_0x26abfc[_0x2fe17d(0x3bc)]?.[_0x2fe17d(0x25e)]||0x0);if(_0x50ecbe!==0x0)return _0x50ecbe;const _0x518f59=(_0x39d3b[_0x2fe17d(0x3bc)]?.[_0x2fe17d(0x27f)]||0x0)-(_0x26abfc[_0x2fe17d(0x3bc)]?.[_0x2fe17d(0x27f)]||0x0);if(_0x518f59!==0x0)return _0x518f59;const _0x33d3de=(_0x39d3b[_0x2fe17d(0x3bc)]?.['perfect_score']||0x0)-(_0x26abfc['badgesCount']?.[_0x2fe17d(0x5a1)]||0x0);if(_0x33d3de!==0x0)return _0x33d3de;const _0x141b81=(_0x39d3b[_0x2fe17d(0x3bc)]?.[_0x2fe17d(0x38e)]||0x0)-(_0x26abfc[_0x2fe17d(0x3bc)]?.[_0x2fe17d(0x38e)]||0x0);if(_0x141b81!==0x0)return _0x141b81;return _0x26abfc[_0x2fe17d(0x580)]['localeCompare'](_0x39d3b[_0x2fe17d(0x580)],'th');});let _0x590f4e='';_0x337021[_0x262cc6(0x2ec)]((_0x48841d,_0xd7ff42)=>{const _0x42f07f=_0x262cc6,_0x50a4eb=_0xd7ff42+0x1,_0x2f55bb=_0x48841d[_0x42f07f(0x3bc)]||{};let _0x41de4b='';const _0x38d2ab=[_0x42f07f(0x25e),'perfect_score',_0x42f07f(0x27f),'quick_thinker'];_0x38d2ab['forEach'](_0x578b39=>{const _0x27cd97=_0x42f07f;if(_0x2f55bb[_0x578b39]>0x0){const _0x4c255c=Object[_0x27cd97(0x567)](BADGES)[_0x27cd97(0x46e)](_0x4a3e04=>_0x4a3e04['id']===_0x578b39);_0x4c255c&&(_0x578b39===_0x27cd97(0x25e)?_0x41de4b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x4c255c[_0x27cd97(0x4ab)]+_0x27cd97(0x331)+_0x4c255c[_0x27cd97(0x260)]+_0x27cd97(0x463):_0x41de4b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x4c255c[_0x27cd97(0x4ab)]+'\x20('+_0x2f55bb[_0x578b39]+_0x27cd97(0x506)+_0x4c255c[_0x27cd97(0x260)]+_0x27cd97(0x5a8)+_0x2f55bb[_0x578b39]+_0x27cd97(0x24d));}}),_0x590f4e+=_0x42f07f(0x2e3)+_0x50a4eb+_0x42f07f(0x2dc)+_0x48841d[_0x42f07f(0x580)]+_0x42f07f(0x535)+(_0x48841d['totalPoints']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x41de4b||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xb93212[_0x262cc6(0x435)]=_0x590f4e;}function renderQuizLeaderboard(_0x3f63e6,_0x49a811,_0x1102fe){const _0x45185a=_0x13e7bb,_0x47ab69=document[_0x45185a(0x5bf)](_0x1102fe),_0x2acc35=_0x1102fe===_0x45185a(0x51b),_0x52b26e=_0x49a811['questions'][_0x45185a(0x338)],_0x18f1ca=document['getElementById'](_0x1102fe)[_0x45185a(0x3d4)](_0x45185a(0x346));if(_0x18f1ca&&!_0x2acc35){const _0x409e4b=_0x18f1ca[_0x45185a(0x278)](_0x45185a(0x4fb));_0x409e4b['innerHTML']=_0x45185a(0x213);}if(!_0x3f63e6||_0x3f63e6[_0x45185a(0x338)]===0x0){_0x47ab69['innerHTML']=_0x45185a(0x4f0)+(_0x2acc35?0x6:0x8)+_0x45185a(0x44a);return;}const _0x309c68=[..._0x3f63e6];_0x309c68[_0x45185a(0x4d2)]((_0xc1199c,_0x1a361a)=>{const _0xc6ab04=_0x45185a;let _0x25f053,_0x1ec950;switch(quizLeaderboardSortBy){case _0xc6ab04(0x580):_0x25f053=_0xc1199c[_0xc6ab04(0x580)]||'',_0x1ec950=_0x1a361a[_0xc6ab04(0x580)]||'';return quizLeaderboardSortOrder===_0xc6ab04(0x484)?_0x25f053[_0xc6ab04(0x300)](_0x1ec950,'th'):_0x1ec950[_0xc6ab04(0x300)](_0x25f053,'th');case _0xc6ab04(0x33f):_0x25f053=_0xc1199c[_0xc6ab04(0x33f)]||0x0,_0x1ec950=_0x1a361a['points']||0x0;break;case _0xc6ab04(0x3d8):_0x25f053=_0xc1199c[_0xc6ab04(0x3d8)]?.['length']||0x1,_0x1ec950=_0x1a361a['attempts']?.[_0xc6ab04(0x338)]||0x1;break;case _0xc6ab04(0x35b):_0x25f053=new Date(_0xc1199c[_0xc6ab04(0x35b)]),_0x1ec950=new Date(_0x1a361a[_0xc6ab04(0x35b)]);break;case _0xc6ab04(0x28e):default:_0x25f053=_0xc1199c[_0xc6ab04(0x28e)],_0x1ec950=_0x1a361a[_0xc6ab04(0x28e)];break;}if(_0x25f053<_0x1ec950)return quizLeaderboardSortOrder===_0xc6ab04(0x484)?-0x1:0x1;if(_0x25f053>_0x1ec950)return quizLeaderboardSortOrder===_0xc6ab04(0x484)?0x1:-0x1;return 0x0;});const _0x849edf=_0x49a811[_0x45185a(0x492)]===!![],_0xe73267=_0x49a811[_0x45185a(0x63f)]?.[_0x45185a(0x261)]??-0x1;let _0x1a1423='';_0x309c68[_0x45185a(0x2ec)]((_0x447330,_0x4fc454)=>{const _0x5860bc=_0x45185a,_0x2baa00=_0x4fc454+0x1;let _0x33a1f4=_0x5860bc(0x65a);if(_0x849edf||_0xe73267!==-0x1){let _0x4e8ea2=_0x849edf?_0x447330[_0x5860bc(0x28e)]===_0x52b26e:_0x447330[_0x5860bc(0x28e)]>=_0xe73267;const _0x4fc2b9=_0x4e8ea2?_0x5860bc(0x64c):'bg-red-100\x20text-red-800',_0x5d0b93=_0x4e8ea2?_0x5860bc(0x2d6):_0x5860bc(0x655);_0x33a1f4='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x4fc2b9+'\x22>'+_0x5d0b93+_0x5860bc(0x345);}const _0x293ccd=_0x447330[_0x5860bc(0x3d8)][_0x447330[_0x5860bc(0x3d8)][_0x5860bc(0x338)]-0x1],_0x8dcba2=(_0x293ccd['badges']||[])['map'](_0x3f2832=>{const _0x13714e=_0x5860bc,_0x2080e4=Object[_0x13714e(0x567)](BADGES)[_0x13714e(0x46e)](_0x2a591e=>_0x2a591e['id']===_0x3f2832);return _0x2080e4?_0x13714e(0x607)+_0x2080e4[_0x13714e(0x4ab)]+_0x13714e(0x3f9)+_0x2080e4['icon']+_0x13714e(0x336):'';})[_0x5860bc(0x53d)]('');_0x1a1423+=_0x5860bc(0x203)+_0x2baa00+_0x5860bc(0x52a)+_0x447330[_0x5860bc(0x580)]+_0x5860bc(0x246)+_0x447330[_0x5860bc(0x28e)]+_0x5860bc(0x491)+_0x52b26e+_0x5860bc(0x322)+_0x33a1f4+_0x5860bc(0x673)+(_0x447330[_0x5860bc(0x33f)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2acc35?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x447330[_0x5860bc(0x3d8)]?.['length']||0x1)+_0x5860bc(0x25f))+_0x5860bc(0x32d)+(_0x2acc35?'':_0x5860bc(0x3ba)+new Date(_0x447330[_0x5860bc(0x35b)])['toLocaleString'](_0x5860bc(0x2e8))+'</td>')+_0x5860bc(0x26d)+(_0x8dcba2||'-')+_0x5860bc(0x59e);}),_0x47ab69[_0x45185a(0x435)]=_0x1a1423,_0x18f1ca&&!_0x2acc35&&_0x18f1ca[_0x45185a(0x5f9)](_0x45185a(0x1fa))[_0x45185a(0x2ec)](_0x5b983a=>{const _0x122c1c=_0x45185a,_0x3759f0=_0x5b983a[_0x122c1c(0x278)](_0x122c1c(0x27c));if(_0x3759f0)_0x3759f0[_0x122c1c(0x325)]();_0x5b983a[_0x122c1c(0x471)]['sort']===quizLeaderboardSortBy&&(_0x5b983a['innerHTML']+=_0x122c1c(0x255)+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x122c1c(0x4a5));});}async function handleLoadQuiz(){const _0x58eb3c=_0x13e7bb,_0x4b5a0f=document[_0x58eb3c(0x5bf)](_0x58eb3c(0x408)),_0x5031d2=_0x4b5a0f[_0x58eb3c(0x44d)][_0x58eb3c(0x258)]();if(!_0x5031d2){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x58eb3c(0x5dc)]=!![],loadQuizBtn[_0x58eb3c(0x435)]=_0x58eb3c(0x482);try{const _0x452da4=doc(db,_0x58eb3c(0x3f8)+appId+_0x58eb3c(0x23a),_0x5031d2),_0xa12d08=await getDoc(_0x452da4);if(!_0xa12d08[_0x58eb3c(0x453)]()){showMessage(_0x58eb3c(0x415));return;}currentQuizData={'id':_0xa12d08['id'],..._0xa12d08[_0x58eb3c(0x4aa)]()};const _0x47f994=currentQuizData['status']||_0x58eb3c(0x440),_0x349cda=new Date();if(_0x47f994===_0x58eb3c(0x5ae)){showMessage(_0x58eb3c(0x61c));return;}if(_0x47f994===_0x58eb3c(0x2b5)){const _0x31f715=currentQuizData[_0x58eb3c(0x617)]?new Date(currentQuizData[_0x58eb3c(0x617)]):null,_0x35a156=currentQuizData['endTime']?new Date(currentQuizData[_0x58eb3c(0x318)]):null;if(_0x31f715&&_0x349cda<_0x31f715){showMessage(_0x58eb3c(0x2f7)+_0x31f715[_0x58eb3c(0x668)](_0x58eb3c(0x2e8),{'hour12':![]}));return;}if(_0x35a156&&_0x349cda>_0x35a156){showMessage(_0x58eb3c(0x559));return;}}const _0x42ba93=currentQuizData[_0x58eb3c(0x524)];currentProjectId=_0x42ba93;const _0x3d2d9f=doc(db,_0x58eb3c(0x3f8)+appId+'/public/data/projects',_0x42ba93),_0x1ba24a=await getDoc(_0x3d2d9f);if(!_0x1ba24a[_0x58eb3c(0x453)]()){showMessage(_0x58eb3c(0x416));return;}const _0x100549=_0x1ba24a[_0x58eb3c(0x4aa)]();currentStudentProjectData=_0x100549,displayStudentNameSelector(_0x100549[_0x58eb3c(0x561)],currentQuizData[_0x58eb3c(0x40b)]);}catch(_0x3c827a){console[_0x58eb3c(0x43a)](_0x58eb3c(0x2f9),_0x3c827a),showMessage(_0x58eb3c(0x20e));}finally{loadQuizBtn[_0x58eb3c(0x5dc)]=![],loadQuizBtn[_0x58eb3c(0x435)]=_0x58eb3c(0x514);}}async function handleJoinLiveGame(){const _0x24c336=_0x13e7bb,_0x2713cc=document[_0x24c336(0x5bf)]('game-pin-input'),_0x6ab054=document[_0x24c336(0x5bf)](_0x24c336(0x3e3)),_0x48799a=document[_0x24c336(0x5bf)](_0x24c336(0x224)),_0x17a28e=_0x2713cc[_0x24c336(0x44d)]['trim'](),_0x6b7de0=_0x6ab054['value'][_0x24c336(0x258)]();if(!_0x17a28e||!_0x6b7de0){showMessage(_0x24c336(0x3e4));return;}_0x48799a[_0x24c336(0x5dc)]=!![],_0x48799a[_0x24c336(0x435)]=_0x24c336(0x42c);try{const _0x12f3f1=collection(db,_0x24c336(0x3f8)+appId+_0x24c336(0x66d)),_0x40108b=query(_0x12f3f1,where(_0x24c336(0x220),'==',_0x17a28e),where(_0x24c336(0x558),'==',_0x24c336(0x2a8))),_0x55f7d8=await getDocs(_0x40108b);if(_0x55f7d8[_0x24c336(0x609)]){showMessage(_0x24c336(0x455));return;}const _0x50fb45=_0x55f7d8['docs'][0x0],_0x524e96=_0x50fb45[_0x24c336(0x4aa)]();currentLiveGameId=_0x50fb45['id'];const _0x2f99fc=_0x524e96[_0x24c336(0x268)],_0x5356e3=doc(db,_0x24c336(0x3f8)+appId+_0x24c336(0x23a),_0x2f99fc),_0x57d676=await getDoc(_0x5356e3);if(!_0x57d676[_0x24c336(0x453)]()){showMessage(_0x24c336(0x3f4));return;}currentQuizData={'id':_0x57d676['id'],..._0x57d676[_0x24c336(0x4aa)]()};if(_0x524e96['players']&&_0x524e96[_0x24c336(0x2b1)][_0x6b7de0]){showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น');return;}const _0x10677b={};_0x10677b['players.'+_0x6b7de0]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,'artifacts/'+appId+_0x24c336(0x66d),currentLiveGameId),_0x10677b),currentStudentName=_0x6b7de0,listenForLiveGameUpdates();}catch(_0x20d540){console[_0x24c336(0x43a)](_0x24c336(0x60f),_0x20d540),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x48799a[_0x24c336(0x5dc)]=![],_0x48799a[_0x24c336(0x435)]=_0x24c336(0x3ff);}}function displayStudentNameSelector(_0x272e8d,_0x526f36){const _0x1ceaad=_0x13e7bb,_0x103c70=document['getElementById'](_0x1ceaad(0x565));document['getElementById'](_0x1ceaad(0x3b0))[_0x1ceaad(0x660)]=_0x1ceaad(0x34a)+_0x526f36,!_0x272e8d||_0x272e8d[_0x1ceaad(0x338)]===0x0?(_0x103c70[_0x1ceaad(0x435)]=_0x1ceaad(0x614),startQuizBtn[_0x1ceaad(0x5dc)]=!![]):(_0x103c70[_0x1ceaad(0x435)]=_0x1ceaad(0x599),_0x272e8d[_0x1ceaad(0x2ec)](_0x17fe64=>{const _0x27407d=_0x1ceaad,_0x28106b=document[_0x27407d(0x26a)]('option');_0x28106b[_0x27407d(0x44d)]=_0x17fe64,_0x28106b['textContent']=_0x17fe64,_0x103c70[_0x27407d(0x366)](_0x28106b);}),startQuizBtn[_0x1ceaad(0x5dc)]=![]),studentInitialView[_0x1ceaad(0x4d6)][_0x1ceaad(0x65f)](_0x1ceaad(0x4f5)),studentNameSelectionView['classList']['remove'](_0x1ceaad(0x4f5));}function shuffleArray(_0x392078){const _0xaff737=_0x13e7bb;for(let _0x3d6cf7=_0x392078['length']-0x1;_0x3d6cf7>0x0;_0x3d6cf7--){const _0x5264b6=Math['floor'](Math[_0xaff737(0x418)]()*(_0x3d6cf7+0x1));[_0x392078[_0x3d6cf7],_0x392078[_0x5264b6]]=[_0x392078[_0x5264b6],_0x392078[_0x3d6cf7]];}}function getShuffledQuiz(_0x283b72){const _0x5429a0=_0x13e7bb;let _0x1151d8=JSON[_0x5429a0(0x62e)](JSON[_0x5429a0(0x301)](_0x283b72));const _0xc76e24=_0x1151d8[_0x5429a0(0x63f)]?.[_0x5429a0(0x526)]||_0x5429a0(0x3e0);if(_0xc76e24===_0x5429a0(0x3e0))return _0x1151d8;return(_0xc76e24===_0x5429a0(0x21f)||_0xc76e24===_0x5429a0(0x5e1))&&shuffleArray(_0x1151d8[_0x5429a0(0x4ba)]),(_0xc76e24===_0x5429a0(0x3eb)||_0xc76e24==='both')&&_0x1151d8[_0x5429a0(0x4ba)][_0x5429a0(0x2ec)](_0x53b7bb=>{const _0xa11f4c=_0x5429a0,_0x34010a=_0x53b7bb[_0xa11f4c(0x4d3)]||_0x1151d8[_0xa11f4c(0x3b8)];if(_0x53b7bb[_0xa11f4c(0x53a)]){let _0x4e2cca=_0x53b7bb[_0xa11f4c(0x53a)][_0xa11f4c(0x324)]((_0x5ec3e8,_0x117c1)=>({'text':_0x5ec3e8,'isCorrect':_0x117c1===_0x53b7bb[_0xa11f4c(0x5f4)]}));shuffleArray(_0x4e2cca),_0x53b7bb[_0xa11f4c(0x53a)]=_0x4e2cca[_0xa11f4c(0x324)](_0x351c5f=>_0x351c5f[_0xa11f4c(0x226)]),_0x53b7bb[_0xa11f4c(0x5f4)]=_0x4e2cca[_0xa11f4c(0x351)](_0x2e3388=>_0x2e3388['isCorrect']);}_0x34010a===_0xa11f4c(0x503)&&_0x53b7bb[_0xa11f4c(0x21d)]&&shuffleArray(_0x53b7bb[_0xa11f4c(0x21d)]);}),_0x1151d8;}function displayQuizForStudent(_0x155575){const _0x4238d1=_0x13e7bb;studentQuizArea[_0x4238d1(0x4d6)][_0x4238d1(0x325)](_0x4238d1(0x4f5)),currentDisplayedQuiz=getShuffledQuiz(_0x155575);const _0x9a1af5=currentDisplayedQuiz['settings']?.[_0x4238d1(0x36e)]||_0x4238d1(0x3e0);if(_0x9a1af5===_0x4238d1(0x375))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x4238d1(0x426)]);else _0x9a1af5===_0x4238d1(0x5fe)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x370ac9=_0x13e7bb;let _0x2a2e2a=_0x370ac9(0x4e2)+currentDisplayedQuiz[_0x370ac9(0x40b)]+_0x370ac9(0x39e)+(currentMode===_0x370ac9(0x254)?_0x370ac9(0x4dd):'')+_0x370ac9(0x626);currentDisplayedQuiz[_0x370ac9(0x4ba)][_0x370ac9(0x2ec)]((_0x24de08,_0x55cc4c)=>{const _0x134125=_0x370ac9,_0x3854e0=_0x24de08[_0x134125(0x4d3)]||currentDisplayedQuiz[_0x134125(0x3b8)];_0x2a2e2a+=_0x134125(0x291);_0x3854e0===_0x134125(0x503)?_0x2a2e2a+=_0x134125(0x53f)+(_0x55cc4c+0x1)+'.\x20'+_0x24de08[_0x134125(0x309)]+_0x134125(0x410)+_0x55cc4c+_0x134125(0x369)+_0x24de08[_0x134125(0x21d)][_0x134125(0x324)](_0x4cb7c5=>_0x134125(0x47d)+_0x4cb7c5+'\x22>'+_0x4cb7c5+_0x134125(0x354))[_0x134125(0x53d)]('')+_0x134125(0x3ea):(_0x2a2e2a+=_0x134125(0x2a3)+(_0x55cc4c+0x1)+'.\x20'+(_0x24de08[_0x134125(0x427)]||_0x24de08[_0x134125(0x5e8)])+_0x134125(0x28a),_0x24de08['imageCode']&&(_0x2a2e2a+=_0x134125(0x51f)+_0x24de08[_0x134125(0x604)]+'</div>'));_0x2a2e2a+=_0x134125(0x45e);switch(_0x3854e0){case'short_answer':_0x2a2e2a+=_0x134125(0x516)+_0x55cc4c+_0x134125(0x470);break;case _0x134125(0x30e):_0x2a2e2a+=_0x134125(0x625)+_0x55cc4c+_0x134125(0x5d1)+_0x55cc4c+_0x134125(0x231)+_0x55cc4c+_0x134125(0x4e6),_0x2a2e2a+=_0x134125(0x625)+_0x55cc4c+_0x134125(0x61f)+_0x55cc4c+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x55cc4c+_0x134125(0x55a);break;case _0x134125(0x503):break;case'fill_in_the_blank':case _0x134125(0x210):default:_0x2a2e2a+=_0x24de08[_0x134125(0x53a)][_0x134125(0x324)]((_0x4fb0e3,_0x33a57a)=>_0x134125(0x44b)+_0x55cc4c+_0x134125(0x24e)+_0x33a57a+_0x134125(0x257)+_0x55cc4c+_0x134125(0x34f)+_0x33a57a+_0x134125(0x452)+_0x55cc4c+_0x134125(0x24e)+_0x33a57a+'\x22>'+_0x4fb0e3+_0x134125(0x638))[_0x134125(0x53d)]('');break;}_0x2a2e2a+=_0x134125(0x5f8);}),_0x2a2e2a+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x2a2e2a+='</form>',studentQuizArea[_0x370ac9(0x435)]=_0x2a2e2a;if(currentMode===_0x370ac9(0x254)){const _0x4be054=document[_0x370ac9(0x5bf)](_0x370ac9(0x4f7));if(_0x4be054)_0x4be054[_0x370ac9(0x304)]('click',cancelAdminTest);}document['getElementById']('quiz-form')[_0x370ac9(0x304)](_0x370ac9(0x382),handleSubmitQuiz);if(window[_0x370ac9(0x52d)])window[_0x370ac9(0x52d)][_0x370ac9(0x26c)]([studentQuizArea]);}async function handleSubmitQuiz(_0x5ef104){const _0x1a5e85=_0x13e7bb;if(_0x5ef104)_0x5ef104[_0x1a5e85(0x5d5)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x28210d=document[_0x1a5e85(0x5bf)](_0x1a5e85(0x3ca));if(!_0x28210d)return;const _0x17636f=_0x28210d[_0x1a5e85(0x278)](_0x1a5e85(0x3c8)),_0x2af8db=currentDisplayedQuiz[_0x1a5e85(0x4ba)][_0x1a5e85(0x5fa)](_0x288a4b=>_0x288a4b[_0x1a5e85(0x4d3)]===_0x1a5e85(0x3c1));_0x17636f&&(_0x17636f[_0x1a5e85(0x5dc)]=!![],_0x2af8db?_0x17636f['innerHTML']=_0x1a5e85(0x3a9):_0x17636f[_0x1a5e85(0x435)]=_0x1a5e85(0x63e));const _0xb5fe5d=new FormData(_0x28210d),_0x2d7972=currentDisplayedQuiz[_0x1a5e85(0x4ba)][_0x1a5e85(0x324)]((_0x313482,_0x170db8)=>{const _0x37a973=_0x1a5e85,_0x7dd78d=_0x313482[_0x37a973(0x4d3)]||currentDisplayedQuiz[_0x37a973(0x3b8)],_0x496e25=_0xb5fe5d[_0x37a973(0x294)]('question'+_0x170db8);if(_0x496e25!==null&&_0x496e25!==undefined){if(_0x7dd78d===_0x37a973(0x210)||_0x7dd78d===_0x37a973(0x29a))return parseInt(_0x496e25);return _0x496e25;}return null;}),_0x4c959f=currentQuizData['id'],_0x505344=doc(db,_0x1a5e85(0x3f8)+appId+'/public/data/quizzes/'+_0x4c959f+_0x1a5e85(0x51e),currentStudentName),_0x182f5e=await getDoc(_0x505344),_0x31dbe3=_0x182f5e[_0x1a5e85(0x453)]()?_0x182f5e[_0x1a5e85(0x4aa)]():{},_0xcd5f1e=_0x31dbe3['attempts']||[];await processAndSubmitAnswers(_0x2d7972,_0xcd5f1e);}async function gradeShortAnswerWithAI(_0x555306,_0x38ed46){const _0x2d4851=_0x13e7bb;if(!_0x555306||!_0x38ed46)return![];try{const _0x4070cf=_0x2d4851(0x376)+_0x555306+_0x2d4851(0x541)+_0x38ed46+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x31aa42={'contents':[{'role':_0x2d4851(0x4b9),'parts':[{'text':_0x4070cf}]}]},_0x1eeef8=_0x2d4851(0x29f),_0x44f184=_0x2d4851(0x5fb)+_0x1eeef8,_0x722581=await fetch(_0x44f184,{'method':'POST','headers':{'Content-Type':_0x2d4851(0x588)},'body':JSON[_0x2d4851(0x301)](_0x31aa42)});if(!_0x722581['ok'])throw new Error(_0x2d4851(0x32e));const _0x5df494=await _0x722581[_0x2d4851(0x31e)](),_0x5255d5=_0x5df494['candidates'][0x0][_0x2d4851(0x240)]['parts'][0x0][_0x2d4851(0x226)][_0x2d4851(0x258)]()['toLowerCase']();return _0x5255d5===_0x2d4851(0x483);}catch(_0x187813){return console[_0x2d4851(0x43a)](_0x2d4851(0x2f1),_0x187813),![];}}async function processAndSubmitAnswers(_0x630335,_0x589943){const _0x5a94c8=_0x13e7bb;let _0x4c94d2=0x0,_0x2eda98=0x0,_0x1c6587=[];const _0x5c7aa4=[],_0x448992=currentDisplayedQuiz['questions']['length'];let _0xb4d8f7=0x0;const _0x1c4df4=currentDisplayedQuiz[_0x5a94c8(0x4ba)];for(let _0x1f1ffc=0x0;_0x1f1ffc<_0x1c4df4['length'];_0x1f1ffc++){const _0x11df70=_0x1c4df4[_0x1f1ffc],_0x1c6e8f=_0x630335[_0x1f1ffc],_0x362746=_0x11df70['questionType']||currentDisplayedQuiz[_0x5a94c8(0x3b8)];let _0x55f8c6=![];if(_0x1c6e8f!==null&&_0x1c6e8f!=='')switch(_0x362746){case _0x5a94c8(0x503):_0x55f8c6=_0x1c6e8f===_0x11df70[_0x5a94c8(0x374)];break;case'true_false':const _0x2fdf8d=_0x1c6e8f===!![]||_0x1c6e8f===_0x5a94c8(0x483);_0x55f8c6=_0x2fdf8d===_0x11df70[_0x5a94c8(0x37d)];break;case _0x5a94c8(0x29a):case'multiple_choice':default:_0x55f8c6=Number(_0x1c6e8f)===_0x11df70[_0x5a94c8(0x5f4)];break;case _0x5a94c8(0x3c1):_0x55f8c6=await gradeShortAnswer(_0x1c6e8f,_0x11df70);break;}_0x55f8c6?(_0x4c94d2++,_0xb4d8f7++,_0xb4d8f7===0x3&&(_0x1c6587['push'](BADGES['ON_FIRE']['id']),_0xb4d8f7=0x0)):_0xb4d8f7=0x0,_0x5c7aa4[_0x5a94c8(0x378)]({'answer':_0x1c6e8f,'isCorrect':_0x55f8c6,'originalQuestionText':_0x11df70[_0x5a94c8(0x309)]||_0x11df70[_0x5a94c8(0x5e8)]});}_0x2eda98=_0x4c94d2*0xa;_0x4c94d2===_0x448992&&_0x448992>0x0&&!currentDisplayedQuiz['isRemedial']&&(_0x2eda98+=0x32,_0x1c6587[_0x5a94c8(0x378)](BADGES['PERFECT_SCORE']['id']));const _0x3934f5=currentDisplayedQuiz[_0x5a94c8(0x63f)]?.[_0x5a94c8(0x261)]??Math[_0x5a94c8(0x2bf)](_0x448992/0x2),_0x329956=currentDisplayedQuiz['settings']?.[_0x5a94c8(0x36e)];if(_0x329956===_0x5a94c8(0x375)&&quizStartTime){const _0xb28d28=(new Date()-quizStartTime)/0x3e8,_0x282cc7=currentDisplayedQuiz[_0x5a94c8(0x63f)][_0x5a94c8(0x426)]*0x3c;_0x4c94d2>=_0x3934f5&&_0xb28d28<_0x282cc7/0x2&&(_0x2eda98+=0x14,_0x1c6587[_0x5a94c8(0x378)](BADGES[_0x5a94c8(0x2e4)]['id']));}_0x589943[_0x5a94c8(0x338)]===0x0&&_0x4c94d2===_0x448992&&_0x448992>0x0&&_0x1c6587['push'](BADGES['FIRST_TRY_ACE']['id']);if(_0x589943[_0x5a94c8(0x338)]>0x0){const _0x4ad6de=_0x589943[0x0][_0x5a94c8(0x591)];if(_0x4ad6de<_0x3934f5&&_0x4c94d2>=_0x3934f5){const _0x1771f8=_0x589943[_0x5a94c8(0x5fa)](_0x5a4a6a=>(_0x5a4a6a['badges']||[])['includes'](BADGES[_0x5a94c8(0x5c0)]['id']));!_0x1771f8&&_0x1c6587['push'](BADGES['COMEBACK_KING']['id']);}}_0x589943[_0x5a94c8(0x338)]===0x4&&_0x1c6587[_0x5a94c8(0x378)](BADGES[_0x5a94c8(0x518)]['id']);const _0x292b97=currentDisplayedQuiz[_0x5a94c8(0x63f)][_0x5a94c8(0x472)];if(currentMode===_0x5a94c8(0x254)){handleResultDisplay(_0x292b97,_0x4c94d2,_0x2eda98,_0x1c6587,_0x5c7aa4,_0x448992);return;}const _0x1f4fbd=currentQuizData['id'],_0x103a39=doc(db,'artifacts/'+appId+_0x5a94c8(0x57f)+_0x1f4fbd+_0x5a94c8(0x51e),currentStudentName);try{const _0x421f4c=[..._0x589943],_0x219a3a={'score':_0x4c94d2,'points':_0x2eda98,'badges':_0x1c6587,'submittedAt':new Date()['toISOString'](),'answers':_0x5c7aa4};_0x421f4c[_0x5a94c8(0x378)](_0x219a3a);const _0x29595d=_0x421f4c[0x0][_0x5a94c8(0x591)],_0x427082=Math[_0x5a94c8(0x3c9)](..._0x421f4c['map'](_0x935daf=>_0x935daf[_0x5a94c8(0x591)])),_0x5f1557=_0x4c94d2,_0x2c28f6=_0x219a3a['submittedAt'];await setDoc(_0x103a39,{'studentName':currentStudentName,'totalQuestions':_0x448992,'attempts':_0x421f4c,'firstScore':_0x29595d,'bestScore':_0x427082,'latestScore':_0x5f1557,'points':_0x2eda98,'latestSubmittedAt':_0x2c28f6}),await updateStudentProfile(currentQuizData[_0x5a94c8(0x524)],currentStudentName),handleResultDisplay(_0x292b97,_0x4c94d2,_0x2eda98,_0x1c6587,_0x5c7aa4,_0x448992);}catch(_0xea233f){console[_0x5a94c8(0x43a)]('Error\x20saving\x20submission:',_0xea233f),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x2d589a,_0x11fc13){const _0x38a384=_0x13e7bb,_0x21c6c6=doc(db,_0x38a384(0x3f8)+appId+_0x38a384(0x22f)+_0x2d589a+_0x38a384(0x1f5),_0x11fc13);try{const _0x4b8621=query(collection(db,_0x38a384(0x3f8)+appId+_0x38a384(0x23a)),where('projectId','==',_0x2d589a)),_0x37357b=await getDocs(_0x4b8621),_0x4c3a57=new Map(_0x37357b[_0x38a384(0x66b)]['map'](_0x1f31cf=>[_0x1f31cf['id'],_0x1f31cf['data']()])),_0x23bc05=Array[_0x38a384(0x4b8)](_0x4c3a57[_0x38a384(0x532)]());await runTransaction(db,async _0x4309a8=>{const _0x179743=_0x38a384;let _0x4a460b=0x0;const _0x54d361={};let _0xdcedf=!![],_0x51d1df=0x0,_0x4ed304=0x0;for(const _0x3535cf of _0x23bc05){const _0x5070b3=_0x4c3a57[_0x179743(0x294)](_0x3535cf),_0x3d8d58=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x3535cf+'/submissions',_0x11fc13),_0x25ed2b=await _0x4309a8[_0x179743(0x294)](_0x3d8d58);if(_0x25ed2b[_0x179743(0x453)]()){const _0x2aed19=_0x25ed2b[_0x179743(0x4aa)](),_0x514018=_0x2aed19[_0x179743(0x3d8)]||[];if(_0x514018[_0x179743(0x338)]>0x0){const _0x2c837d=_0x514018['reduce']((_0x1cd6a6,_0x54a476)=>{const _0x276fcb=_0x179743;if(_0x54a476[_0x276fcb(0x591)]>_0x1cd6a6[_0x276fcb(0x591)])return _0x54a476;if(_0x54a476[_0x276fcb(0x591)]===_0x1cd6a6[_0x276fcb(0x591)])return(_0x54a476[_0x276fcb(0x33f)]||0x0)>(_0x1cd6a6[_0x276fcb(0x33f)]||0x0)?_0x54a476:_0x1cd6a6;return _0x1cd6a6;},{'score':-0x1,'points':-0x1});_0x2c837d['score']>-0x1&&(_0x4a460b+=_0x2c837d['points']||0x0,(_0x2c837d[_0x179743(0x2d8)]||[])[_0x179743(0x2ec)](_0x369877=>{_0x54d361[_0x369877]=(_0x54d361[_0x369877]||0x0)+0x1;}));}}if(_0x5070b3[_0x179743(0x40b)]!==_0x179743(0x4a1)){_0x4ed304++;if(_0x25ed2b[_0x179743(0x453)]()){_0x51d1df++;const _0x53d493=_0x25ed2b[_0x179743(0x4aa)]();_0x53d493[_0x179743(0x28e)]!==_0x53d493[_0x179743(0x47b)]&&(_0xdcedf=![]);}else _0xdcedf=![];}}_0x4ed304>0x0&&_0x51d1df===_0x4ed304&&_0xdcedf?_0x54d361[_0x179743(0x25e)]=0x1:_0x54d361[_0x179743(0x25e)]=0x0,_0x4309a8[_0x179743(0x383)](_0x21c6c6,{'studentName':_0x11fc13,'totalPoints':_0x4a460b,'unlockedBadges':Object['keys'](_0x54d361)['filter'](_0x10e9d4=>_0x54d361[_0x10e9d4]>0x0),'badgesCount':_0x54d361},{'merge':!![]});});}catch(_0x4523d1){console[_0x38a384(0x43a)](_0x38a384(0x34c),_0x4523d1),showMessage(_0x38a384(0x47e));}}function startAdminTest(){const _0x5b9d95=_0x13e7bb;if(!currentQuizData){showMessage(_0x5b9d95(0x508));return;}let _0x45ef58=JSON[_0x5b9d95(0x62e)](JSON['stringify'](currentQuizData));currentMode=_0x5b9d95(0x254),currentStudentName=_0x5b9d95(0x1f9),adminView['classList']['add'](_0x5b9d95(0x4f5)),studentView[_0x5b9d95(0x4d6)][_0x5b9d95(0x325)](_0x5b9d95(0x4f5)),studentInitialView['classList']['add']('hidden'),studentNameSelectionView['classList'][_0x5b9d95(0x65f)](_0x5b9d95(0x4f5)),studentResultArea[_0x5b9d95(0x4d6)]['add'](_0x5b9d95(0x4f5)),studentQuizArea[_0x5b9d95(0x4d6)][_0x5b9d95(0x325)](_0x5b9d95(0x4f5)),quizStartTime=new Date(),displayQuizForStudent(_0x45ef58);}function handleResultDisplay(_0x277331,_0x5896ea,_0x50f94d,_0x268fd3,_0x17f659,_0x3486ec){const _0x46001d=_0x13e7bb,_0x48d7be=currentDisplayedQuiz['settings']?.['passingScore']??Math[_0x46001d(0x2bf)](_0x3486ec/0x2),_0x50e3bc=currentDisplayedQuiz[_0x46001d(0x63f)]?.['isAdaptive']??![];if(_0x50e3bc&&_0x5896ea<_0x48d7be){startAdaptiveFlow(_0x17f659,_0x5896ea,_0x3486ec);return;}switch(_0x277331){case _0x46001d(0x65c):displayResultsWithAnswers(_0x5896ea,_0x50f94d,_0x268fd3,_0x17f659,_0x3486ec);break;case _0x46001d(0x5c2):displayResultsScoreOnly(_0x5896ea,_0x50f94d,_0x268fd3,_0x3486ec);break;case _0x46001d(0x4f6):displayPassFailOnly(_0x5896ea,_0x3486ec);break;case _0x46001d(0x4fc):default:displaySubmissionConfirmation();break;}}async function startAdaptiveFlow(_0x25100c,_0x45653e,_0x504112){const _0x161419=_0x13e7bb,_0x4a88b8=_0x25100c['map']((_0x5ec527,_0x2f9c83)=>({..._0x5ec527,'originalQuestion':currentDisplayedQuiz[_0x161419(0x4ba)][_0x2f9c83]}))[_0x161419(0x433)](_0x419ffa=>!_0x419ffa[_0x161419(0x225)]&&_0x419ffa[_0x161419(0x5da)][_0x161419(0x545)])[_0x161419(0x324)](_0x4b8e1a=>'-\x20'+_0x4b8e1a['originalQuestion']['explanation'])['join']('\x0a');if(!_0x4a88b8){displayResultsScoreOnly(_0x45653e,0x0,[],_0x504112);return;}studentQuizArea[_0x161419(0x4d6)][_0x161419(0x65f)]('hidden'),studentReadingArea[_0x161419(0x4d6)][_0x161419(0x325)](_0x161419(0x4f5)),studentReadingArea[_0x161419(0x435)]=_0x161419(0x4b0);const _0x340b1a=_0x161419(0x49a)+currentDisplayedQuiz[_0x161419(0x40b)]+'\x22\x20ไม่ผ่าน\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือคำอธิบายจากข้อที่นักเรียนตอบผิด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a88b8+_0x161419(0x330),_0x5cedef={'type':_0x161419(0x221),'properties':{'remedialContent':{'type':_0x161419(0x59f)}},'required':['remedialContent']};try{const _0x556fc2=await callAnalysisApi(_0x340b1a,_0x5cedef),_0x10862b=_0x556fc2[_0x161419(0x29c)];studentReadingArea[_0x161419(0x435)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20bg-amber-50\x20border-l-4\x20border-amber-400\x20rounded-r-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-amber-800\x22>ทบทวนก่อนไปต่อนะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-gray-700\x22>'+_0x10862b['replace'](/\n/g,_0x161419(0x2b7))+_0x161419(0x29b),document[_0x161419(0x5bf)](_0x161419(0x4dc))[_0x161419(0x304)]('click',()=>generateRemedialQuiz(_0x4a88b8));}catch(_0x1a3d72){console['error'](_0x161419(0x594),_0x1a3d72),showMessage('เกิดข้อผิดพลาดในการสร้างเนื้อหาทบทวน'),displayResultsScoreOnly(_0x45653e,0x0,[],_0x504112);}}async function generateRemedialQuiz(_0x15e8b7){const _0x1ed683=_0x13e7bb;studentReadingArea[_0x1ed683(0x435)]=_0x1ed683(0x2da);const _0x5e0f75=_0x1ed683(0x20d)+_0x15e8b7+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x1ed683(0x5ad),_0x23cb8a={'type':_0x1ed683(0x221),'properties':{'questionText':{'type':_0x1ed683(0x59f)},'options':{'type':_0x1ed683(0x448),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1ed683(0x33e)},'explanation':{'type':_0x1ed683(0x59f)}},'required':['questionText',_0x1ed683(0x53a),'correctAnswerIndex',_0x1ed683(0x545)]},_0x31da95={'type':_0x1ed683(0x221),'properties':{'topic':{'type':_0x1ed683(0x59f)},'questions':{'type':_0x1ed683(0x448),'items':_0x23cb8a}},'required':[_0x1ed683(0x40b),_0x1ed683(0x4ba)]};try{const _0x397b2b=await callAnalysisApi(_0x5e0f75,_0x31da95);_0x397b2b[_0x1ed683(0x492)]=!![],studentReadingArea['classList'][_0x1ed683(0x65f)]('hidden');const _0x167b33={...currentDisplayedQuiz[_0x1ed683(0x63f)],'isAdaptive':![],'resultsDisplay':_0x1ed683(0x65c)};_0x397b2b[_0x1ed683(0x63f)]=_0x167b33,displayQuizForStudent(_0x397b2b);}catch(_0x1e0b15){console[_0x1ed683(0x43a)](_0x1ed683(0x4a3),_0x1e0b15),showMessage(_0x1ed683(0x32f)),showView(_0x1ed683(0x4ed));}}function displayPassFailOnly(_0x950cdc,_0x44073d){const _0x5eba79=_0x13e7bb,_0x305643=currentDisplayedQuiz['settings']?.[_0x5eba79(0x261)]??-0x1,_0x4f9f05=currentDisplayedQuiz[_0x5eba79(0x492)]===!![];let _0x26d6c5='';if(_0x4f9f05||_0x305643!==-0x1){let _0x28be7b;_0x4f9f05?_0x28be7b=_0x950cdc===_0x44073d:_0x28be7b=_0x950cdc>=_0x305643;const _0xce69d2=_0x28be7b?_0x5eba79(0x64c):_0x5eba79(0x248),_0x2057de=_0x28be7b?_0x5eba79(0x2d6):'ไม่ผ่าน';_0x26d6c5='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0xce69d2+'\x22>'+_0x2057de+_0x5eba79(0x5a5);}else _0x26d6c5=_0x5eba79(0x4db);let _0x581b69=_0x5eba79(0x218)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x26d6c5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x5eba79(0x435)]=_0x581b69,studentResultArea['classList'][_0x5eba79(0x325)](_0x5eba79(0x4f5)),studentQuizArea[_0x5eba79(0x4d6)]['add'](_0x5eba79(0x4f5));const _0x3865eb=_0x5eba79(0x4ca),_0xcbe864=currentMode===_0x5eba79(0x254),_0x547337=_0xcbe864?_0x5eba79(0x48d):_0x5eba79(0x642),_0x49444f=_0x5eba79(0x1ef)+_0x3865eb+_0x5eba79(0x474)+_0x547337+_0x5eba79(0x2bb);studentResultArea[_0x5eba79(0x395)]('beforeend',_0x49444f),document[_0x5eba79(0x5bf)](_0x3865eb)[_0x5eba79(0x304)](_0x5eba79(0x4b1),()=>{const _0x137f0f=_0x5eba79;_0xcbe864?(currentMode=_0x137f0f(0x5fc),studentView[_0x137f0f(0x4d6)][_0x137f0f(0x65f)]('hidden'),adminView['classList'][_0x137f0f(0x325)](_0x137f0f(0x4f5)),showView(_0x137f0f(0x486))):(showView(_0x137f0f(0x4ed)),document[_0x137f0f(0x5bf)](_0x137f0f(0x408))['value']='');});}function cancelAdminTest(){const _0x1c5526=_0x13e7bb;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode=_0x1c5526(0x5fc),studentView['classList']['add'](_0x1c5526(0x4f5)),adminView[_0x1c5526(0x4d6)]['remove'](_0x1c5526(0x4f5)),showView(_0x1c5526(0x486));}function setupResultScreenBackButton(){const _0x4dbd26=_0x13e7bb,_0x5429ca=_0x4dbd26(0x4ca),_0x5bbf8c=currentMode==='admin-testing',_0x240573=_0x5bbf8c?_0x4dbd26(0x48d):_0x4dbd26(0x642),_0x3ed803=_0x4dbd26(0x462)+_0x5429ca+_0x4dbd26(0x67a)+_0x240573+_0x4dbd26(0x47c);studentResultArea[_0x4dbd26(0x395)](_0x4dbd26(0x3c2),_0x3ed803),studentResultArea['querySelector'](_0x4dbd26(0x510))[_0x4dbd26(0x304)]('click',handleShowStudentRankings),document[_0x4dbd26(0x5bf)](_0x5429ca)[_0x4dbd26(0x304)](_0x4dbd26(0x4b1),()=>{const _0x2a3aaf=_0x4dbd26;_0x5bbf8c?(currentMode='admin',studentView[_0x2a3aaf(0x4d6)][_0x2a3aaf(0x65f)]('hidden'),adminView[_0x2a3aaf(0x4d6)][_0x2a3aaf(0x325)](_0x2a3aaf(0x4f5)),showView(_0x2a3aaf(0x486))):(showView(_0x2a3aaf(0x4ed)),document[_0x2a3aaf(0x5bf)](_0x2a3aaf(0x408))[_0x2a3aaf(0x44d)]='');});}function displayResultsWithAnswers(_0x3950d8,_0x2b6654,_0x530f49,_0x5ee2f2,_0x5e2692){const _0x11393b=_0x13e7bb,_0x523666=_0x5e2692>0x0?_0x3950d8/_0x5e2692*0x64:0x0,_0x306680=currentDisplayedQuiz[_0x11393b(0x63f)]?.[_0x11393b(0x261)]??-0x1,_0xf54510=currentDisplayedQuiz[_0x11393b(0x492)]===!![];let _0x553cc1='';if(_0xf54510||_0x306680!==-0x1){let _0x379d20=_0xf54510?_0x3950d8===_0x5e2692:_0x3950d8>=_0x306680;const _0x2b6186=_0x379d20?_0x11393b(0x64c):_0x11393b(0x248),_0x13ebe5=_0x379d20?'ผ่าน':_0x11393b(0x655);_0x553cc1=_0x11393b(0x2a7)+_0x2b6186+'\x22>'+_0x13ebe5+_0x11393b(0x28a);}let _0x46c5ab='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x11393b(0x352)+_0x3950d8+_0x11393b(0x2c5)+_0x5e2692+_0x11393b(0x230)+_0x553cc1+_0x11393b(0x5ca)+_0x2b6654+_0x11393b(0x2c3)+_0x523666['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x11393b(0x4ba)][_0x11393b(0x2ec)]((_0x18a3e2,_0x5f52e8)=>{const _0x3763c0=_0x11393b,_0xafd3a2=_0x5ee2f2[_0x5f52e8],_0x115bbb=_0xafd3a2[_0x3763c0(0x460)],_0xff3a3d=_0xafd3a2[_0x3763c0(0x225)],_0x303af5=_0x18a3e2[_0x3763c0(0x4d3)]||currentDisplayedQuiz[_0x3763c0(0x3b8)];_0x46c5ab+=_0x3763c0(0x332)+(_0xff3a3d?_0x3763c0(0x402):_0x3763c0(0x60a))+_0x3763c0(0x4f1)+(_0x5f52e8+0x1)+'.\x20'+(_0x18a3e2[_0x3763c0(0x309)]||_0x18a3e2[_0x3763c0(0x5e8)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x303af5){case _0x3763c0(0x503):const _0x4b1a16=_0x115bbb||_0x3763c0(0x5ef),_0x365737=_0x18a3e2[_0x3763c0(0x374)];_0x46c5ab+=_0x3763c0(0x3a8)+(!_0xff3a3d?_0x3763c0(0x3e2):'')+'\x22>'+_0x4b1a16+_0x3763c0(0x399);!_0xff3a3d&&(_0x46c5ab+=_0x3763c0(0x20f)+_0x365737+'</p>');break;case _0x3763c0(0x3c1):_0x46c5ab+=_0x3763c0(0x3b9)+(_0x115bbb||_0x3763c0(0x5ef))+_0x3763c0(0x28a),_0x46c5ab+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x18a3e2[_0x3763c0(0x549)]+_0x3763c0(0x28a);break;case _0x3763c0(0x30e):_0x46c5ab+='<p\x20class=\x22'+(_0x18a3e2[_0x3763c0(0x37d)]===!![]?_0x3763c0(0x63d):'')+'\x20'+(_0x115bbb===_0x3763c0(0x483)&&!_0xff3a3d?_0x3763c0(0x3e2):'')+'\x22>ใช่</p>',_0x46c5ab+='<p\x20class=\x22'+(_0x18a3e2[_0x3763c0(0x37d)]===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x115bbb==='false'&&!_0xff3a3d?_0x3763c0(0x3e2):'')+'\x22>ไม่ใช่</p>';break;case _0x3763c0(0x29a):case _0x3763c0(0x210):default:_0x46c5ab+=_0x18a3e2[_0x3763c0(0x53a)][_0x3763c0(0x324)]((_0x23627a,_0x4f4474)=>{const _0x3f5cfd=_0x3763c0;let _0x59f552='',_0x59ca07='';if(_0x4f4474===_0x18a3e2[_0x3f5cfd(0x5f4)])_0x59f552=_0x3f5cfd(0x63d),_0x59ca07=_0x3f5cfd(0x5d3);else _0x4f4474===_0x115bbb&&(_0x59f552='font-bold\x20text-red-700\x20line-through',_0x59ca07=_0x3f5cfd(0x52c));return _0x3f5cfd(0x5d4)+_0x59f552+'\x22>'+_0x59ca07+_0x23627a+'</div>';})[_0x3763c0(0x53d)]('');break;}_0x46c5ab+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x18a3e2[_0x3763c0(0x545)]||'ไม่มีคำอธิบาย')+_0x3763c0(0x44f);}),studentResultArea['innerHTML']=_0x46c5ab,renderEarnedBadges(_0x530f49,_0x11393b(0x48f)),studentResultArea['classList'][_0x11393b(0x325)](_0x11393b(0x4f5)),studentQuizArea[_0x11393b(0x4d6)][_0x11393b(0x65f)](_0x11393b(0x4f5)),setupResultScreenBackButton();if(window['MathJax'])window['MathJax'][_0x11393b(0x26c)]([studentResultArea]);}function displayResultsScoreOnly(_0xe8a8f8,_0x263ada,_0x381d63,_0x1fb3c8){const _0x1ac5b1=_0x13e7bb,_0x506821=_0x1fb3c8>0x0?_0xe8a8f8/_0x1fb3c8*0x64:0x0,_0xdf91c3=currentDisplayedQuiz[_0x1ac5b1(0x63f)]?.[_0x1ac5b1(0x261)]??-0x1,_0x5c081d=currentDisplayedQuiz[_0x1ac5b1(0x492)]===!![];let _0x36be52='';if(_0x5c081d||_0xdf91c3!==-0x1){let _0x18132d;_0x5c081d?_0x18132d=_0xe8a8f8===_0x1fb3c8:_0x18132d=_0xe8a8f8>=_0xdf91c3;const _0x2b0988=_0x18132d?_0x1ac5b1(0x64c):_0x1ac5b1(0x248),_0x2a41e9=_0x18132d?'ผ่าน':'ไม่ผ่าน';_0x36be52=_0x1ac5b1(0x2a7)+_0x2b0988+'\x22>'+_0x2a41e9+_0x1ac5b1(0x28a);}let _0x12814c=_0x1ac5b1(0x436)+currentStudentName+_0x1ac5b1(0x46d)+_0xe8a8f8+_0x1ac5b1(0x306)+_0x1fb3c8+_0x1ac5b1(0x230)+_0x36be52+_0x1ac5b1(0x5ca)+_0x263ada+_0x1ac5b1(0x22e)+_0x506821['toFixed'](0x0)+_0x1ac5b1(0x2d0);studentResultArea['innerHTML']=_0x12814c,renderEarnedBadges(_0x381d63,'earned-badges-container'),studentResultArea[_0x1ac5b1(0x4d6)][_0x1ac5b1(0x325)](_0x1ac5b1(0x4f5)),studentQuizArea[_0x1ac5b1(0x4d6)]['add'](_0x1ac5b1(0x4f5)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x4205ca=_0x13e7bb;let _0x1d88cd=_0x4205ca(0x236)+currentStudentName+_0x4205ca(0x355);studentResultArea['innerHTML']=_0x1d88cd,studentResultArea['classList'][_0x4205ca(0x325)](_0x4205ca(0x4f5)),studentQuizArea[_0x4205ca(0x4d6)][_0x4205ca(0x65f)](_0x4205ca(0x4f5)),document[_0x4205ca(0x5bf)](_0x4205ca(0x49e))[_0x4205ca(0x304)](_0x4205ca(0x4b1),()=>{const _0x34f770=_0x4205ca;showView(_0x34f770(0x4ed)),document[_0x34f770(0x5bf)](_0x34f770(0x408))[_0x34f770(0x44d)]='';});}function renderEarnedBadges(_0x54d4b7,_0x212a30){const _0x20472c=_0x13e7bb,_0x362f7b=document[_0x20472c(0x5bf)](_0x212a30);if(!_0x362f7b||!_0x54d4b7||_0x54d4b7[_0x20472c(0x338)]===0x0)return;let _0x42112d='';_0x54d4b7[_0x20472c(0x2ec)]((_0x47caae,_0x797832)=>{const _0x36e4a2=_0x20472c,_0x18c439=Object[_0x36e4a2(0x567)](BADGES)[_0x36e4a2(0x46e)](_0x5a0e75=>_0x5a0e75['id']===_0x47caae);_0x18c439&&(_0x42112d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x797832*0.2+_0x36e4a2(0x507)+_0x18c439[_0x36e4a2(0x303)]+_0x36e4a2(0x23c)+_0x18c439[_0x36e4a2(0x260)]+_0x36e4a2(0x466)+_0x18c439['name']+_0x36e4a2(0x2aa));}),_0x362f7b['innerHTML']=_0x42112d;}function startPresentation(_0x5285d2){const _0x4fb4eb=_0x13e7bb;currentQuizData=getShuffledQuiz(_0x5285d2),currentPresentationSlide=0x0,presentationModal[_0x4fb4eb(0x4d4)]['display']='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x3e32e9=_0x13e7bb;document[_0x3e32e9(0x222)]&&document[_0x3e32e9(0x478)](),presentationModal[_0x3e32e9(0x4d4)][_0x3e32e9(0x428)]=_0x3e32e9(0x3e0);}function renderPresentationSlide(_0x37fb8f){const _0x477140=_0x13e7bb,_0x41d040=document[_0x477140(0x5bf)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x477140(0x4ba)]||!currentQuizData[_0x477140(0x4ba)][_0x37fb8f]){_0x41d040[_0x477140(0x435)]=_0x477140(0x4da);return;}const _0x24e064=currentQuizData[_0x477140(0x4ba)][_0x37fb8f],_0x265dc3=_0x24e064[_0x477140(0x4d3)]||currentQuizData[_0x477140(0x3b8)];_0x41d040[_0x477140(0x435)]='';let _0x3612a6=_0x477140(0x26b)+(_0x24e064['imageCode']?_0x477140(0x51f)+_0x24e064[_0x477140(0x604)]+_0x477140(0x371):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>'+(_0x37fb8f+0x1)+'.\x20'+(_0x24e064[_0x477140(0x309)]||_0x24e064[_0x477140(0x5e8)])+_0x477140(0x1f2);switch(_0x265dc3){case _0x477140(0x503):_0x3612a6+=_0x24e064['allResponses'][_0x477140(0x324)](_0x3759af=>_0x477140(0x5db)+_0x3759af+_0x477140(0x209))['join']('');break;case _0x477140(0x30e):_0x3612a6+=_0x477140(0x39a),_0x3612a6+=_0x477140(0x527);break;case _0x477140(0x3b5):case'short_answer':_0x3612a6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x477140(0x29a):case _0x477140(0x210):default:_0x3612a6+=_0x24e064[_0x477140(0x53a)][_0x477140(0x324)]((_0x3b5b11,_0x347646)=>_0x477140(0x41e)+_0x347646+_0x477140(0x277)+_0x3b5b11+_0x477140(0x209))[_0x477140(0x53d)]('');break;}_0x3612a6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x24e064[_0x477140(0x545)]||'ไม่มีคำอธิบาย')+_0x477140(0x4be),_0x41d040[_0x477140(0x435)]=_0x3612a6;if(window[_0x477140(0x52d)])window[_0x477140(0x52d)][_0x477140(0x26c)]([_0x41d040]);document['querySelectorAll'](_0x477140(0x4f4))[_0x477140(0x2ec)](_0x27cc22=>{const _0x5a760d=_0x477140;_0x27cc22['addEventListener'](_0x5a760d(0x4b1),_0x51fa99=>revealAnswerForPresentation(_0x37fb8f,_0x51fa99[_0x5a760d(0x313)]));});const _0x5adbe1=document['getElementById'](_0x477140(0x4d7));_0x5adbe1&&_0x5adbe1[_0x477140(0x304)]('click',()=>checkShortAnswerForPresentation(_0x37fb8f)),document[_0x477140(0x5bf)](_0x477140(0x55d))['textContent']=_0x477140(0x58e)+(_0x37fb8f+0x1)+_0x477140(0x491)+currentQuizData[_0x477140(0x4ba)]['length'],document[_0x477140(0x5bf)](_0x477140(0x441))[_0x477140(0x5dc)]=_0x37fb8f===0x0,document[_0x477140(0x5bf)](_0x477140(0x1fe))[_0x477140(0x5dc)]=_0x37fb8f===currentQuizData[_0x477140(0x4ba)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x415023){const _0x2016de=_0x13e7bb,_0x3a5ace=currentQuizData[_0x2016de(0x4ba)][_0x415023],_0x2500b4=document[_0x2016de(0x5bf)](_0x2016de(0x445)),_0x5af0f1=document[_0x2016de(0x5bf)](_0x2016de(0x4d7)),_0xc3dfb5=document[_0x2016de(0x5bf)](_0x2016de(0x62f)),_0x77dca8=document[_0x2016de(0x5bf)]('presentation-explanation');if(!_0x2500b4||!_0x5af0f1||!_0xc3dfb5||!_0x77dca8)return;const _0x31f5b9=_0x2500b4[_0x2016de(0x44d)][_0x2016de(0x258)]();if(_0x31f5b9==='')return;_0x5af0f1[_0x2016de(0x5dc)]=!![],_0x5af0f1[_0x2016de(0x435)]=_0x2016de(0x58d),_0x2500b4[_0x2016de(0x5dc)]=!![];const _0x57616d=await gradeShortAnswer(_0x31f5b9,_0x3a5ace);_0x57616d?_0xc3dfb5['innerHTML']=_0x2016de(0x289):_0xc3dfb5[_0x2016de(0x435)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x3a5ace[_0x2016de(0x549)]+')',_0xc3dfb5[_0x2016de(0x4d6)]['remove'](_0x2016de(0x4f5)),_0x77dca8[_0x2016de(0x4d6)]['remove']('hidden'),_0x5af0f1['classList'][_0x2016de(0x65f)](_0x2016de(0x4f5));}function revealAnswerForPresentation(_0x329894,_0x3fe57e){const _0x3d7b7d=_0x13e7bb,_0x5050ea=currentQuizData['questions'][_0x329894],_0x1783fd=_0x5050ea[_0x3d7b7d(0x4d3)]||currentQuizData['quizType'];document['querySelectorAll']('.presentation-option')[_0x3d7b7d(0x2ec)](_0x2d3f5c=>{const _0x23551d=_0x3d7b7d;_0x2d3f5c[_0x23551d(0x5dc)]=!![],_0x2d3f5c[_0x23551d(0x4d6)][_0x23551d(0x325)](_0x23551d(0x379));let _0x5cbc84=![];if(_0x1783fd===_0x23551d(0x210)||_0x1783fd==='fill_in_the_blank'){const _0x279b49=parseInt(_0x2d3f5c[_0x23551d(0x471)][_0x23551d(0x3cc)]);_0x5cbc84=_0x279b49===_0x5050ea[_0x23551d(0x5f4)];}else{if(_0x1783fd===_0x23551d(0x30e)){const _0x51dcbd=_0x2d3f5c[_0x23551d(0x471)]['answer']===_0x23551d(0x483);_0x5cbc84=_0x51dcbd===_0x5050ea[_0x23551d(0x37d)];}else _0x1783fd===_0x23551d(0x503)&&(_0x5cbc84=_0x2d3f5c[_0x23551d(0x660)][_0x23551d(0x258)]()===_0x5050ea['correctResponse']);}_0x5cbc84?_0x2d3f5c[_0x23551d(0x4d6)]['add'](_0x23551d(0x358),_0x23551d(0x243),_0x23551d(0x2bc)):_0x2d3f5c[_0x23551d(0x4d6)][_0x23551d(0x65f)](_0x23551d(0x3fb));}),_0x3fe57e['classList'][_0x3d7b7d(0x325)]('opacity-50');let _0x47e770=![];if(_0x1783fd===_0x3d7b7d(0x210))_0x47e770=parseInt(_0x3fe57e[_0x3d7b7d(0x471)]['index'])===_0x5050ea[_0x3d7b7d(0x5f4)];else{if(_0x1783fd==='true_false')_0x47e770=_0x3fe57e[_0x3d7b7d(0x471)][_0x3d7b7d(0x460)]===_0x3d7b7d(0x483)===_0x5050ea[_0x3d7b7d(0x37d)];else _0x1783fd===_0x3d7b7d(0x503)&&(_0x47e770=_0x3fe57e[_0x3d7b7d(0x660)][_0x3d7b7d(0x258)]()===_0x5050ea[_0x3d7b7d(0x374)]);}!_0x47e770&&_0x3fe57e[_0x3d7b7d(0x4d6)][_0x3d7b7d(0x65f)](_0x3d7b7d(0x5ee),_0x3d7b7d(0x243),_0x3d7b7d(0x55b)),document['getElementById'](_0x3d7b7d(0x52b))[_0x3d7b7d(0x4d6)]['remove'](_0x3d7b7d(0x4f5));}function startWholeQuizTimer(_0x539043){const _0x116441=_0x13e7bb,_0x20ac7c=document[_0x116441(0x5bf)](_0x116441(0x39d));if(!_0x20ac7c)return;const _0x3faf29=Date['now']()+_0x539043*0x3c*0x3e8;_0x20ac7c[_0x116441(0x435)]=_0x116441(0x4cb);const _0x5dc344=document[_0x116441(0x5bf)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x5e9dd1=_0x116441,_0xb9311f=_0x3faf29-Date[_0x5e9dd1(0x4c4)]();if(_0xb9311f<=0x0)clearInterval(quizTimerInterval),_0x5dc344[_0x5e9dd1(0x660)]=_0x5e9dd1(0x227),showMessage(_0x5e9dd1(0x317)),handleSubmitQuiz(null);else{const _0x4fb1ab=Math['floor'](_0xb9311f/0x3e8/0x3c%0x3c)[_0x5e9dd1(0x543)]()[_0x5e9dd1(0x372)](0x2,'0'),_0x3effea=Math[_0x5e9dd1(0x2bf)](_0xb9311f/0x3e8%0x3c)['toString']()[_0x5e9dd1(0x372)](0x2,'0');_0x5dc344[_0x5e9dd1(0x660)]=_0x4fb1ab+':'+_0x3effea;}},0x3e8);}function renderPerQuestionView(){const _0x3f8a01=_0x13e7bb;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x1842ca=currentDisplayedQuiz[_0x3f8a01(0x4ba)][currentQuestionIndex],_0x128f10=_0x1842ca[_0x3f8a01(0x4d3)]||currentDisplayedQuiz[_0x3f8a01(0x3b8)];let _0x5677e9=_0x3f8a01(0x4c2)+(currentQuestionIndex+0x1)+_0x3f8a01(0x264)+currentDisplayedQuiz[_0x3f8a01(0x4ba)][_0x3f8a01(0x338)]+_0x3f8a01(0x1f0)+(currentMode==='admin-testing'?_0x3f8a01(0x4dd):'')+_0x3f8a01(0x319)+currentDisplayedQuiz[_0x3f8a01(0x40b)]+_0x3f8a01(0x228)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x3f8a01(0x338)]-0x1?_0x3f8a01(0x4b2):_0x3f8a01(0x1f3))+_0x3f8a01(0x2d3);studentQuizArea[_0x3f8a01(0x435)]=_0x5677e9;let _0x36a379='',_0x3f58c1='';switch(_0x128f10){case _0x3f8a01(0x503):_0x36a379=currentQuestionIndex+0x1+'.\x20'+_0x1842ca['stem'],_0x3f58c1=_0x3f8a01(0x637)+_0x1842ca['allResponses']['map'](_0x1d6489=>_0x3f8a01(0x47d)+_0x1d6489+'\x22>'+_0x1d6489+_0x3f8a01(0x354))[_0x3f8a01(0x53d)]('')+_0x3f8a01(0x4d0);break;case _0x3f8a01(0x30e):_0x36a379=currentQuestionIndex+0x1+'.\x20'+_0x1842ca['questionText'],_0x3f58c1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'short_answer':case _0x3f8a01(0x3b5):_0x36a379=currentQuestionIndex+0x1+'.\x20'+_0x1842ca['questionText'],_0x3f58c1='<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>';break;case _0x3f8a01(0x210):case'fill_in_with_choices':default:_0x36a379=currentQuestionIndex+0x1+'.\x20'+_0x1842ca[_0x3f8a01(0x5e8)],_0x3f58c1=_0x1842ca[_0x3f8a01(0x53a)][_0x3f8a01(0x324)]((_0x245538,_0x272b08)=>_0x3f8a01(0x5c8)+_0x272b08+_0x3f8a01(0x3d5)+_0x272b08+_0x3f8a01(0x586)+_0x272b08+'\x22>'+_0x245538+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x1842ca[_0x3f8a01(0x604)]&&(_0x36a379+=_0x3f8a01(0x51f)+_0x1842ca[_0x3f8a01(0x604)]+_0x3f8a01(0x371));document['getElementById'](_0x3f8a01(0x4cd))[_0x3f8a01(0x435)]=_0x36a379,document['getElementById'](_0x3f8a01(0x454))[_0x3f8a01(0x435)]=_0x3f58c1;if(currentMode==='admin-testing'){const _0x14f3bb=document[_0x3f8a01(0x5bf)](_0x3f8a01(0x4f7));if(_0x14f3bb)_0x14f3bb[_0x3f8a01(0x304)]('click',cancelAdminTest);}document[_0x3f8a01(0x5bf)](_0x3f8a01(0x3ae))[_0x3f8a01(0x304)](_0x3f8a01(0x4b1),()=>handleNextQuestionInTimedMode(![]));if(window[_0x3f8a01(0x52d)])window[_0x3f8a01(0x52d)]['typesetPromise']([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0xe8c4e6=_0x13e7bb,_0x5bf3d0=currentDisplayedQuiz[_0xe8c4e6(0x63f)][_0xe8c4e6(0x426)],_0x3277cb=document[_0xe8c4e6(0x5bf)](_0xe8c4e6(0x5bc));if(!_0x3277cb)return;let _0x3c06d1=_0x5bf3d0;_0x3277cb[_0xe8c4e6(0x435)]=_0xe8c4e6(0x4f2)+_0x3c06d1+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x5d9e24=document[_0xe8c4e6(0x5bf)](_0xe8c4e6(0x253)),_0xf3216d=document[_0xe8c4e6(0x5bf)](_0xe8c4e6(0x3bf));perQuestionTimerInterval=setInterval(()=>{const _0x423d7a=_0xe8c4e6;_0x3c06d1--;const _0x27c5a4=_0x3c06d1/_0x5bf3d0*0x64;_0x5d9e24[_0x423d7a(0x4d4)][_0x423d7a(0x363)]=_0x27c5a4+'%',_0xf3216d['textContent']=_0x3c06d1,_0x3c06d1<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x5c74a2=![]){const _0x339cce=_0x13e7bb;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x2bd554=null;if(!_0x5c74a2){const _0x51b657=currentDisplayedQuiz[_0x339cce(0x4ba)][currentQuestionIndex],_0x4d622=_0x51b657['questionType']||currentDisplayedQuiz[_0x339cce(0x3b8)];if(_0x4d622===_0x339cce(0x3c1)||_0x4d622===_0x339cce(0x3b5)){const _0x4c7f77=document[_0x339cce(0x278)]('#per-question-options\x20textarea');_0x2bd554=_0x4c7f77?_0x4c7f77['value']['trim']():'';}else{if(_0x4d622===_0x339cce(0x503)){const _0x18d6ae=document[_0x339cce(0x278)](_0x339cce(0x3e8));_0x2bd554=_0x18d6ae?_0x18d6ae[_0x339cce(0x44d)]:'';}else{const _0x565df0=document['querySelector'](_0x339cce(0x2f2));if(_0x565df0){const _0x20d841=_0x565df0['value'];_0x2bd554=!isNaN(parseInt(_0x20d841,0xa))&&_0x20d841[_0x339cce(0x258)]()!==''?parseInt(_0x20d841,0xa):_0x20d841;}}}}studentAnswersPerQuestion['push'](_0x2bd554),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x339cce(0x338)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x3429fe=_0x13e7bb,_0x5a8b2c=currentDisplayedQuiz[_0x3429fe(0x4ba)][_0x3429fe(0x5fa)](_0x2d2e09=>_0x2d2e09['questionType']===_0x3429fe(0x3c1));_0x5a8b2c?showMessage(_0x3429fe(0x256)):showMessage(_0x3429fe(0x3e1));const _0x254e00=currentQuizData['id'],_0x436c77=doc(db,_0x3429fe(0x3f8)+appId+_0x3429fe(0x57f)+_0x254e00+_0x3429fe(0x51e),currentStudentName),_0x4ba046=await getDoc(_0x436c77),_0x3c3a80=_0x4ba046[_0x3429fe(0x453)]()?_0x4ba046[_0x3429fe(0x4aa)]():{},_0x51f5d8=_0x3c3a80[_0x3429fe(0x3d8)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x51f5d8);}function getResultsFilename(){const _0x9eeed8=_0x13e7bb,_0x14a9b4=document['getElementById'](_0x9eeed8(0x5f1))[_0x9eeed8(0x660)]['replace'](/[^a-z0-9]/gi,'_')[_0x9eeed8(0x2a9)]();return'results_'+(_0x14a9b4||_0x9eeed8(0x553));}function exportResultsAsImage(){const _0x397feb=_0x13e7bb,_0x5ba197=document['getElementById'](_0x397feb(0x22d));showMessage(_0x397feb(0x589)),html2canvas(_0x5ba197)[_0x397feb(0x51a)](_0x1e8ce4=>{const _0xb4f8bf=_0x397feb,_0x44cfcb=document[_0xb4f8bf(0x26a)]('a');_0x44cfcb[_0xb4f8bf(0x292)]=getResultsFilename()+_0xb4f8bf(0x422),_0x44cfcb[_0xb4f8bf(0x23d)]=_0x1e8ce4['toDataURL'](_0xb4f8bf(0x5b0)),_0x44cfcb[_0xb4f8bf(0x4b1)](),messageModal['classList'][_0xb4f8bf(0x65f)](_0xb4f8bf(0x4f5));});}function exportResultsAsPDF(){const _0x5f2c6e=_0x13e7bb,{jsPDF:_0x84ee3f}=window[_0x5f2c6e(0x4b7)],_0x294b95=new _0x84ee3f();_0x294b95[_0x5f2c6e(0x274)](_0x5f2c6e(0x5cf),_0x5f2c6e(0x3f5)),_0x294b95[_0x5f2c6e(0x62a)]({'html':'#results-table'}),_0x294b95[_0x5f2c6e(0x56d)](getResultsFilename()+_0x5f2c6e(0x66c));}function exportResultsAsWord(){const _0xe4d9c8=_0x13e7bb,_0x15ae9c=_0xe4d9c8(0x5f0)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0xe4d9c8(0x429),_0x520efa=_0xe4d9c8(0x356),_0xd3d9d1=_0x15ae9c+document[_0xe4d9c8(0x5bf)](_0xe4d9c8(0x22d))[_0xe4d9c8(0x435)]+_0x520efa,_0x147dce=_0xe4d9c8(0x2ad)+encodeURIComponent(_0xd3d9d1),_0x32b6d7=document[_0xe4d9c8(0x26a)]('a');document[_0xe4d9c8(0x2c4)][_0xe4d9c8(0x366)](_0x32b6d7),_0x32b6d7[_0xe4d9c8(0x23d)]=_0x147dce,_0x32b6d7['download']=getResultsFilename()+_0xe4d9c8(0x5f6),_0x32b6d7[_0xe4d9c8(0x4b1)](),document[_0xe4d9c8(0x2c4)][_0xe4d9c8(0x384)](_0x32b6d7);}function exportResultsAsExcel(){const _0x2710ac=_0x13e7bb,_0x30563d=document[_0x2710ac(0x5bf)]('results-table');let _0x4f9832=[];for(let _0x306263=0x0;_0x306263<_0x30563d['rows'][_0x2710ac(0x338)];_0x306263++){let _0x585530=[],_0x258a2f=_0x30563d[_0x2710ac(0x1fc)][_0x306263][_0x2710ac(0x5f9)]('td,\x20th');for(let _0x483a01=0x0;_0x483a01<_0x258a2f[_0x2710ac(0x338)];_0x483a01++){_0x585530[_0x2710ac(0x378)]('\x22'+_0x258a2f[_0x483a01][_0x2710ac(0x32c)][_0x2710ac(0x4a4)](/"/g,'\x22\x22')+'\x22');}_0x4f9832[_0x2710ac(0x378)](_0x585530[_0x2710ac(0x53d)](','));}const _0x257957=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x4f9832[_0x2710ac(0x53d)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x267399=document[_0x2710ac(0x26a)]('a');_0x267399[_0x2710ac(0x23d)]=URL[_0x2710ac(0x477)](_0x257957),_0x267399[_0x2710ac(0x292)]=getResultsFilename()+'.csv',_0x267399[_0x2710ac(0x4b1)]();}function exportTableAsImage(_0x4a9810,_0x5e11e0){const _0x38db9=_0x13e7bb,_0x26379f=document[_0x38db9(0x5bf)](_0x4a9810);if(!_0x26379f){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x26379f)['then'](_0x56d437=>{const _0x380b67=_0x38db9,_0x567f64=document[_0x380b67(0x26a)]('a');_0x567f64[_0x380b67(0x292)]=_0x5e11e0+_0x380b67(0x422),_0x567f64[_0x380b67(0x23d)]=_0x56d437[_0x380b67(0x2e5)](_0x380b67(0x5b0)),_0x567f64['click'](),messageModal['classList']['add'](_0x380b67(0x4f5));});}function exportTableAsPDF(_0x372f3a,_0x19624c){const _0x5021ba=_0x13e7bb,{jsPDF:_0x4927a3}=window[_0x5021ba(0x4b7)],_0x3174f7=new _0x4927a3();_0x3174f7[_0x5021ba(0x274)](_0x5021ba(0x5cf),'normal'),_0x3174f7[_0x5021ba(0x62a)]({'html':'#'+_0x372f3a}),_0x3174f7[_0x5021ba(0x56d)](_0x19624c+_0x5021ba(0x66c));}function exportTableAsWord(_0x30e8dd,_0x461d06){const _0xfa4afe=_0x13e7bb,_0x6da405=document[_0xfa4afe(0x5bf)](_0x30e8dd);if(!_0x6da405){showMessage(_0xfa4afe(0x497));return;}const _0x321ce0=_0xfa4afe(0x5f0)+_0xfa4afe(0x273)+_0xfa4afe(0x3ce)+_0xfa4afe(0x429),_0x55dbcb='</body></html>',_0x5f049f=_0x321ce0+_0x6da405['innerHTML']+_0x55dbcb,_0x1130fd=_0xfa4afe(0x2ad)+encodeURIComponent(_0x5f049f),_0x191b59=document['createElement']('a');document['body']['appendChild'](_0x191b59),_0x191b59[_0xfa4afe(0x23d)]=_0x1130fd,_0x191b59[_0xfa4afe(0x292)]=_0x461d06+_0xfa4afe(0x5f6),_0x191b59['click'](),document[_0xfa4afe(0x2c4)][_0xfa4afe(0x384)](_0x191b59);}function exportTableAsExcel(_0x1f9b5b,_0x14c9d8){const _0x399f9a=_0x13e7bb,_0x460250=document[_0x399f9a(0x5bf)](_0x1f9b5b);if(!_0x460250){showMessage(_0x399f9a(0x497));return;}let _0x54031e=[];for(let _0x1e8bb3=0x0;_0x1e8bb3<_0x460250[_0x399f9a(0x1fc)][_0x399f9a(0x338)];_0x1e8bb3++){let _0x342458=[],_0x524f36=_0x460250[_0x399f9a(0x1fc)][_0x1e8bb3]['querySelectorAll'](_0x399f9a(0x326));for(let _0x5d9cb9=0x0;_0x5d9cb9<_0x524f36[_0x399f9a(0x338)];_0x5d9cb9++){_0x342458[_0x399f9a(0x378)]('\x22'+_0x524f36[_0x5d9cb9][_0x399f9a(0x32c)][_0x399f9a(0x4a4)](/"/g,'\x22\x22')+'\x22');}_0x54031e[_0x399f9a(0x378)](_0x342458[_0x399f9a(0x53d)](','));}const _0x4f548c=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x54031e[_0x399f9a(0x53d)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x136332=document[_0x399f9a(0x26a)]('a');_0x136332[_0x399f9a(0x23d)]=URL[_0x399f9a(0x477)](_0x4f548c),_0x136332['download']=_0x14c9d8+'.csv',_0x136332[_0x399f9a(0x4b1)]();}function renderAnalytics(_0x3cd468,_0xb0c340){const _0x982dcd=_0x13e7bb,_0x15b17b=currentProjectData[_0x982dcd(0x561)][_0x982dcd(0x338)],_0x60de78=_0xb0c340[_0x982dcd(0x338)],_0x324c5b=_0x15b17b-_0x60de78,_0x558305=_0x15b17b>0x0?_0x60de78/_0x15b17b*0x64:0x0,_0x9577a1=_0xb0c340['map'](_0x30f530=>_0x30f530['latestScore']),_0x279179=_0x9577a1['length']>0x0?_0x9577a1['reduce']((_0x5a3f1f,_0x51a8da)=>_0x5a3f1f+_0x51a8da,0x0)/_0x9577a1[_0x982dcd(0x338)]:0x0,_0x3a5cd0=_0x3cd468['questions'][_0x982dcd(0x338)],_0x1245d1=_0x3a5cd0>0x0?_0x279179/_0x3a5cd0*0x64:0x0,_0x2ff9aa=document[_0x982dcd(0x5bf)](_0x982dcd(0x519));_0x2ff9aa[_0x982dcd(0x435)]=_0x982dcd(0x5b3)+_0x558305[_0x982dcd(0x4f9)](0x0)+_0x982dcd(0x49f)+_0x60de78+'/'+_0x15b17b+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x279179[_0x982dcd(0x4f9)](0x2)+_0x982dcd(0x4bc)+_0x1245d1[_0x982dcd(0x4f9)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x9577a1[_0x982dcd(0x338)]>0x0?Math[_0x982dcd(0x3c9)](..._0x9577a1):_0x982dcd(0x592))+_0x982dcd(0x616)+(_0x9577a1[_0x982dcd(0x338)]>0x0?Math[_0x982dcd(0x4e3)](..._0x9577a1):_0x982dcd(0x592))+_0x982dcd(0x5cb);const _0x15803a=currentProjectData['students']||[];renderSubmissionChart(_0x60de78,_0x324c5b,_0xb0c340,_0x15803a),renderScoreDistributionChart(_0xb0c340,_0x3a5cd0),renderQuestionAnalytics(_0x3cd468,_0xb0c340,_0x15803a);}function renderSubmissionChart(_0xb80e4f,_0x3b9e5d,_0x326d8e,_0xfa729f){const _0x4dd0b6=_0x13e7bb,_0x3b8e34=document['getElementById'](_0x4dd0b6(0x2e7))[_0x4dd0b6(0x328)]('2d'),_0xcde286=_0x326d8e['map'](_0x5cb4ba=>_0x5cb4ba[_0x4dd0b6(0x580)]),_0x4ad80d=_0xfa729f[_0x4dd0b6(0x433)](_0x55edff=>!_0xcde286['includes'](_0x55edff));chartInstances[_0x4dd0b6(0x343)]&&chartInstances[_0x4dd0b6(0x343)][_0x4dd0b6(0x663)](),chartInstances[_0x4dd0b6(0x343)]=new Chart(_0x3b8e34,{'type':_0x4dd0b6(0x5c3),'data':{'labels':[_0x4dd0b6(0x28c),_0x4dd0b6(0x557)],'datasets':[{'data':[_0xb80e4f,_0x3b9e5d],'backgroundColor':[_0x4dd0b6(0x473),_0x4dd0b6(0x2d5)],'borderColor':['#ffffff','#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x4dd0b6(0x30a)},'tooltip':{'callbacks':{'label':function(_0x3d5397){const _0x5302bc=_0x4dd0b6;let _0x1a12f9=_0x3d5397[_0x5302bc(0x550)]||'';return _0x1a12f9&&(_0x1a12f9+=':\x20'),_0x1a12f9+=_0x3d5397[_0x5302bc(0x2ff)],_0x1a12f9;},'afterLabel':function(_0xb4e45f){const _0x300288=_0x4dd0b6;let _0x37a259;return _0xb4e45f[_0x300288(0x359)]===0x0?_0x37a259=_0xcde286:_0x37a259=_0x4ad80d,_0x37a259['length']>0x0?_0x37a259[_0x300288(0x53d)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x2ccc5e,_0x511370){const _0x2c94f5=_0x13e7bb,_0x584920=document['getElementById'](_0x2c94f5(0x283))[_0x2c94f5(0x328)]('2d'),_0x425d86={};for(let _0x5ef65b=0x0;_0x5ef65b<=_0x511370;_0x5ef65b++){_0x425d86[_0x5ef65b]=0x0;}_0x2ccc5e[_0x2c94f5(0x2ec)](_0x430b8d=>{const _0x3ebd0d=_0x2c94f5;_0x425d86[_0x430b8d[_0x3ebd0d(0x2f5)]]!==undefined&&_0x425d86[_0x430b8d[_0x3ebd0d(0x2f5)]]++;}),chartInstances['score']&&chartInstances['score'][_0x2c94f5(0x663)](),chartInstances[_0x2c94f5(0x591)]=new Chart(_0x584920,{'type':'bar','data':{'labels':Object[_0x2c94f5(0x532)](_0x425d86),'datasets':[{'label':_0x2c94f5(0x2d1),'data':Object[_0x2c94f5(0x567)](_0x425d86),'backgroundColor':_0x2c94f5(0x451),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x2c94f5(0x419)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x216716){const _0x20c87f=_0x2c94f5,_0x5e7f7=_0x216716['label'],_0x4ae200=_0x2ccc5e[_0x20c87f(0x433)](_0x4cd9b4=>_0x4cd9b4[_0x20c87f(0x2f5)]==_0x5e7f7)[_0x20c87f(0x324)](_0x7ddc59=>_0x7ddc59[_0x20c87f(0x580)]);return _0x4ae200[_0x20c87f(0x338)]>0x0?_0x4ae200['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x11cc1d,_0x19aee2,_0x69bbfe){const _0x2f507c=_0x13e7bb,_0x3a3777=document[_0x2f507c(0x5bf)]('question-analytics-container');if(_0x69bbfe['length']===0x0){_0x3a3777[_0x2f507c(0x435)]=_0x2f507c(0x3c4);return;}let _0x3ec551='';const _0x175eb2=_0x19aee2[_0x2f507c(0x324)](_0x1b4197=>_0x1b4197[_0x2f507c(0x580)]);_0x11cc1d[_0x2f507c(0x4ba)][_0x2f507c(0x2ec)]((_0x24e34d,_0x4234aa)=>{const _0x16f486=_0x2f507c;let _0x3c1b04=0x0;const _0x306a3e=[],_0x3830e9=[],_0x219806=_0x24e34d[_0x16f486(0x309)]||_0x24e34d[_0x16f486(0x5e8)]||_0x24e34d[_0x16f486(0x427)];_0x19aee2['forEach'](_0x4ddaf1=>{const _0x40e854=_0x16f486,_0x2e91aa=_0x4ddaf1[_0x40e854(0x3d8)][_0x4ddaf1[_0x40e854(0x3d8)][_0x40e854(0x338)]-0x1];if(_0x2e91aa&&_0x2e91aa[_0x40e854(0x4ff)]){const _0x4833b8=_0x2e91aa[_0x40e854(0x4ff)][_0x40e854(0x46e)](_0x408b89=>_0x408b89['originalQuestionText']===_0x219806)??_0x2e91aa['answers'][_0x4234aa]??null;_0x4833b8&&(_0x4833b8[_0x40e854(0x225)]?(_0x3c1b04++,_0x306a3e[_0x40e854(0x378)](_0x4ddaf1['studentName'])):_0x3830e9[_0x40e854(0x378)](_0x4ddaf1[_0x40e854(0x580)]));}});const _0x2b3d8e=_0x69bbfe[_0x16f486(0x433)](_0x525709=>!_0x175eb2[_0x16f486(0x4f8)](_0x525709)),_0x4f7980=_0x19aee2['length']>0x0?_0x3c1b04/_0x19aee2[_0x16f486(0x338)]*0x64:0x0;_0x3ec551+=_0x16f486(0x2f4)+(_0x4234aa+0x1)+':\x20'+_0x219806+_0x16f486(0x57d)+(_0x4f7980>=0x46?_0x16f486(0x45c):_0x4f7980>=0x28?_0x16f486(0x36f):_0x16f486(0x576))+_0x16f486(0x4ae)+_0x4f7980['toFixed'](0x0)+_0x16f486(0x38c)+_0x219806+_0x16f486(0x315)+_0x3c1b04+'\x20จาก\x20'+_0x19aee2[_0x16f486(0x338)]+_0x16f486(0x499)+_0x306a3e[_0x16f486(0x338)]+_0x16f486(0x5bb)+(_0x306a3e[_0x16f486(0x338)]>0x0?_0x306a3e[_0x16f486(0x53d)](',\x20'):_0x16f486(0x365))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x3830e9['length']+'\x20คน):</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x3830e9['length']>0x0?_0x3830e9['join'](',\x20'):'ไม่มี')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x2b3d8e[_0x16f486(0x338)]+_0x16f486(0x5bb)+(_0x2b3d8e['length']>0x0?_0x2b3d8e[_0x16f486(0x53d)](',\x20'):_0x16f486(0x365))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3a3777['innerHTML']=_0x3ec551;try{window[_0x2f507c(0x52d)]&&MathJax[_0x2f507c(0x26c)]&&MathJax['typesetPromise']([_0x3a3777]);}catch(_0x3f14f6){console[_0x2f507c(0x43a)](_0x2f507c(0x5b6),_0x3f14f6);}}async function handleAnalyzeClass(){const _0xcb3c1a=_0x13e7bb;if(!currentQuizData||!currentQuizData['id']){showMessage(_0xcb3c1a(0x3cd));return;}const _0x4b9cd2=collection(db,_0xcb3c1a(0x3f8)+appId+_0xcb3c1a(0x57f)+currentQuizData['id']+'/submissions'),_0x3d8269=await getDocs(_0x4b9cd2),_0x2526f9=_0x3d8269[_0xcb3c1a(0x66b)][_0xcb3c1a(0x324)](_0x2ecdae=>_0x2ecdae[_0xcb3c1a(0x4aa)]());if(_0x2526f9[_0xcb3c1a(0x338)]<0x2){showMessage(_0xcb3c1a(0x311));return;}const _0x4182c8=document[_0xcb3c1a(0x5bf)]('strength-weakness-analysis-container');_0x4182c8[_0xcb3c1a(0x435)]=_0xcb3c1a(0x50f),document[_0xcb3c1a(0x5bf)](_0xcb3c1a(0x5cd))['disabled']=!![];const _0x3c35b6=_0x2526f9[_0xcb3c1a(0x324)]((_0x178377,_0x24e6b3)=>{const _0x5e463e=_0xcb3c1a,_0x1735c0=_0x178377[_0x5e463e(0x3d8)][_0x178377[_0x5e463e(0x3d8)][_0x5e463e(0x338)]-0x1];if(!_0x1735c0)return'';return _0x5e463e(0x67c)+(_0x24e6b3+0x1)+'\x20('+_0x178377[_0x5e463e(0x580)]+_0x5e463e(0x368)+_0x1735c0[_0x5e463e(0x591)]+'/'+_0x178377['totalQuestions']+_0x5e463e(0x643)+JSON['stringify'](_0x1735c0['answers'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0xcb3c1a(0x53d)](_0xcb3c1a(0x280)),_0x28d7ea=_0xcb3c1a(0x3f2)+currentQuizData['topic']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0xcb3c1a(0x301)](currentQuizData[_0xcb3c1a(0x4ba)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c35b6+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x2868cf={'type':_0xcb3c1a(0x221),'properties':{'classStrengths':{'type':_0xcb3c1a(0x448),'items':{'type':_0xcb3c1a(0x59f)}},'classWeaknesses':{'type':_0xcb3c1a(0x448),'items':{'type':_0xcb3c1a(0x59f)}},'teacherSuggestions':{'type':_0xcb3c1a(0x448),'items':{'type':_0xcb3c1a(0x59f)}}},'required':['classStrengths',_0xcb3c1a(0x431),_0xcb3c1a(0x3c6)]};try{const _0x5e0dbb=await callAnalysisApi(_0x28d7ea,_0x2868cf);displayClassAnalysis(_0x5e0dbb);}catch(_0x249446){console['error']('Error\x20during\x20class\x20analysis:',_0x249446),_0x4182c8[_0xcb3c1a(0x435)]=_0xcb3c1a(0x64f)+_0x249446['message']+_0xcb3c1a(0x554);}finally{document[_0xcb3c1a(0x5bf)](_0xcb3c1a(0x5cd))[_0xcb3c1a(0x5dc)]=![];}}function displayClassAnalysis(_0x4bd508){const _0x1cdd3c=_0x13e7bb,_0x495d8c=document[_0x1cdd3c(0x5bf)](_0x1cdd3c(0x5e4));if(!_0x4bd508){_0x495d8c[_0x1cdd3c(0x435)]=_0x1cdd3c(0x461);return;}_0x495d8c[_0x1cdd3c(0x435)]=_0x1cdd3c(0x367)+_0x4bd508[_0x1cdd3c(0x37e)]['map'](_0x169756=>_0x1cdd3c(0x555)+_0x169756+_0x1cdd3c(0x578))[_0x1cdd3c(0x53d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4bd508[_0x1cdd3c(0x431)][_0x1cdd3c(0x324)](_0x5c4737=>_0x1cdd3c(0x555)+_0x5c4737+_0x1cdd3c(0x578))[_0x1cdd3c(0x53d)]('')+_0x1cdd3c(0x414)+_0x4bd508[_0x1cdd3c(0x3c6)]['map'](_0x456dd9=>'<li>'+_0x456dd9+'</li>')[_0x1cdd3c(0x53d)]('')+_0x1cdd3c(0x4c5);}function formatAndPrintWorksheet(_0x41a962,_0x4f4f29){const _0x8d1a0c=_0x13e7bb,_0x25bd51='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x41a962[_0x8d1a0c(0x40b)]+_0x8d1a0c(0x61a)+_0x41a962[_0x8d1a0c(0x40b)]+_0x8d1a0c(0x536)+_0x41a962[_0x8d1a0c(0x4ba)][_0x8d1a0c(0x324)]((_0x85763f,_0x55103f)=>_0x8d1a0c(0x5a7)+(_0x55103f+0x1)+'.\x20'+_0x85763f[_0x8d1a0c(0x5e8)]+_0x8d1a0c(0x667)+(_0x85763f['imageCode']?_0x8d1a0c(0x56b)+_0x85763f[_0x8d1a0c(0x604)]+_0x8d1a0c(0x371):'')+_0x8d1a0c(0x59a))[_0x8d1a0c(0x53d)]('')+_0x8d1a0c(0x646);_0x4f4f29['document'][_0x8d1a0c(0x44e)](_0x25bd51),_0x4f4f29[_0x8d1a0c(0x57a)][_0x8d1a0c(0x40f)](),_0x4f4f29[_0x8d1a0c(0x659)]=function(){_0x4f4f29['print']();};}async function generateWorksheet(){const _0xfb9d74=_0x13e7bb,_0x3d1901=document[_0xfb9d74(0x5bf)]('worksheet-topic-input')[_0xfb9d74(0x44d)][_0xfb9d74(0x258)]();if(!_0x3d1901){showMessage(_0xfb9d74(0x2ca));return;}const _0x17163d=window[_0xfb9d74(0x628)]('',_0xfb9d74(0x425));_0x17163d[_0xfb9d74(0x57a)]['write'](_0xfb9d74(0x442));const _0x59538b=parseInt(document['getElementById']('num-questions')[_0xfb9d74(0x44d)]),_0x296937=document[_0xfb9d74(0x5bf)](_0xfb9d74(0x539))[_0xfb9d74(0x293)],_0x3465e6=_0x296937?_0xfb9d74(0x269):'',_0x4eea2c=_0xfb9d74(0x65e)+_0x59538b+_0xfb9d74(0x28b)+_0x3d1901+_0xfb9d74(0x2ef)+_0x3465e6+_0xfb9d74(0x3fa),_0x2c01fc={'type':_0xfb9d74(0x221),'properties':{'topic':{'type':_0xfb9d74(0x59f)},'questions':{'type':_0xfb9d74(0x448),'items':{'type':_0xfb9d74(0x221),'properties':{'questionText':{'type':_0xfb9d74(0x59f)},'imageCode':{'type':'STRING'}},'required':[_0xfb9d74(0x5e8)]}}},'required':['topic','questions']};document['getElementById'](_0xfb9d74(0x1f4))['textContent']=_0xfb9d74(0x60c),document[_0xfb9d74(0x5bf)](_0xfb9d74(0x211))[_0xfb9d74(0x4d6)][_0xfb9d74(0x325)](_0xfb9d74(0x4f5)),document[_0xfb9d74(0x5bf)](_0xfb9d74(0x544))['classList']['remove'](_0xfb9d74(0x4f5)),generateWorksheetBtn['disabled']=!![];try{const _0x39bb0a=await callAnalysisApi(_0x4eea2c,_0x2c01fc);formatAndPrintWorksheet(_0x39bb0a,_0x17163d);}catch(_0x5fa425){console['error'](_0xfb9d74(0x333),_0x5fa425);if(_0x17163d)_0x17163d[_0xfb9d74(0x40f)]();showMessage(_0xfb9d74(0x595));}finally{document[_0xfb9d74(0x5bf)](_0xfb9d74(0x211))[_0xfb9d74(0x4d6)][_0xfb9d74(0x65f)](_0xfb9d74(0x4f5)),document[_0xfb9d74(0x5bf)](_0xfb9d74(0x544))[_0xfb9d74(0x4d6)][_0xfb9d74(0x65f)](_0xfb9d74(0x4f5)),generateWorksheetBtn[_0xfb9d74(0x5dc)]=![];}}async function callAnalysisApi(_0xcf1464,_0x388a9b){const _0x565c2b=_0x13e7bb,_0x339147={'contents':[{'role':_0x565c2b(0x4b9),'parts':[{'text':_0xcf1464}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x388a9b}},_0x43b5a7='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x337abc=_0x565c2b(0x5fb)+_0x43b5a7,_0x49ffd1=await fetch(_0x337abc,{'method':_0x565c2b(0x5c7),'headers':{'Content-Type':_0x565c2b(0x588)},'body':JSON[_0x565c2b(0x301)](_0x339147)});if(!_0x49ffd1['ok'])throw new Error(_0x565c2b(0x2d2)+_0x49ffd1[_0x565c2b(0x558)]);const _0x1f9a74=await _0x49ffd1[_0x565c2b(0x31e)]();if(_0x1f9a74[_0x565c2b(0x241)]?.[0x0]?.[_0x565c2b(0x240)]?.[_0x565c2b(0x4df)]?.[0x0])return JSON[_0x565c2b(0x62e)](_0x1f9a74[_0x565c2b(0x241)][0x0][_0x565c2b(0x240)][_0x565c2b(0x4df)][0x0][_0x565c2b(0x226)]);else{let _0x1fee30='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x1f9a74[_0x565c2b(0x5d2)]?.['blockReason'])_0x1fee30=_0x565c2b(0x5ce)+_0x1f9a74[_0x565c2b(0x5d2)]['blockReason']+'.';else _0x1f9a74[_0x565c2b(0x241)]?.[0x0]?.['finishReason']&&_0x1f9a74[_0x565c2b(0x241)][0x0][_0x565c2b(0x275)]!=='STOP'&&(_0x1fee30=_0x565c2b(0x4ce)+_0x1f9a74[_0x565c2b(0x241)][0x0]['finishReason']+'.');console[_0x565c2b(0x43a)](_0x1fee30,JSON[_0x565c2b(0x301)](_0x1f9a74));throw new Error(_0x1fee30);}}initialize();
