const _0x1c8731=_0x5736;(function(_0x35703e,_0x5d55a6){const _0x594c31=_0x5736,_0x41b898=_0x35703e();while(!![]){try{const _0x15bbe2=-parseInt(_0x594c31(0x720))/0x1+-parseInt(_0x594c31(0x233))/0x2+parseInt(_0x594c31(0x2df))/0x3*(-parseInt(_0x594c31(0x11f))/0x4)+-parseInt(_0x594c31(0x210))/0x5*(parseInt(_0x594c31(0x3ca))/0x6)+-parseInt(_0x594c31(0x397))/0x7+-parseInt(_0x594c31(0x4d1))/0x8+-parseInt(_0x594c31(0x89d))/0x9*(-parseInt(_0x594c31(0x5c2))/0xa);if(_0x15bbe2===_0x5d55a6)break;else _0x41b898['push'](_0x41b898['shift']());}catch(_0x2ac53a){_0x41b898['push'](_0x41b898['shift']());}}}(_0x5226,0x8b3c1));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0x49d4c0=_0x5736;if('wakeLock'in navigator)try{wakeLock=await navigator['wakeLock'][_0x49d4c0(0x3b1)](_0x49d4c0(0x8ed)),console[_0x49d4c0(0x30f)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x49d4c0(0x2aa)](_0x49d4c0(0x158),()=>{const _0x1ad48c=_0x49d4c0;console[_0x1ad48c(0x30f)](_0x1ad48c(0x372));});}catch(_0x37af41){console[_0x49d4c0(0xa1a)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x37af41[_0x49d4c0(0x3d6)]+',\x20'+_0x37af41['message']);}else console[_0x49d4c0(0x99f)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0xce846f=_0x5736;wakeLock!==null&&(await wakeLock[_0xce846f(0x158)](),wakeLock=null,console[_0xce846f(0x30f)](_0xce846f(0x229)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x3f2d55=_0x5736;if(dimTimer)clearTimeout(dimTimer);document[_0x3f2d55(0x247)][_0x3f2d55(0x914)]['remove'](_0x3f2d55(0x18d)),dimTimer=setTimeout(()=>{const _0x4f5e75=_0x3f2d55;document[_0x4f5e75(0x247)]['classList'][_0x4f5e75(0x6bb)](_0x4f5e75(0x18d)),console[_0x4f5e75(0x30f)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}function stopDimTimer(){const _0x27414c=_0x5736;if(dimTimer)clearTimeout(dimTimer);document[_0x27414c(0x247)][_0x27414c(0x914)][_0x27414c(0x278)](_0x27414c(0x18d)),window[_0x27414c(0x997)](_0x27414c(0x266),resetDimTimer),window['removeEventListener'](_0x27414c(0x3d9),resetDimTimer),window[_0x27414c(0x997)](_0x27414c(0x50c),resetDimTimer),window['removeEventListener']('keydown',resetDimTimer),console[_0x27414c(0x30f)](_0x27414c(0x404));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0;async function handleStartTeamQuiz(_0x2bdb65,_0x2fe246=![]){const _0x9f7243=_0x5736,_0x2247e1=allQuizzes[_0x9f7243(0x216)](_0x43a7ff=>_0x43a7ff['id']===_0x2bdb65)||allQuizzesGlobal[_0x9f7243(0x216)](_0x5413a=>_0x5413a['id']===_0x2bdb65);if(!_0x2247e1){showMessage(_0x9f7243(0x283));return;}currentQuizData=getShuffledQuiz(_0x2247e1);const _0x486989=Math[_0x9f7243(0x665)](0x3e8+Math[_0x9f7243(0x327)]()*0x2328)[_0x9f7243(0x547)]();try{const _0x48c1b6=await addDoc(collection(db,_0x9f7243(0x804)+appId+_0x9f7243(0x3df)),{'quizId':_0x2247e1['id'],'projectId':_0x2247e1[_0x9f7243(0x6fd)],'status':_0x9f7243(0x8d2),'pin':_0x486989,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2fe246});currentTeamQuizId=_0x48c1b6['id'],showView(_0x9f7243(0x116)),renderAdminTeamQuizDashboard(_0x486989,_0x2247e1[_0x9f7243(0x39a)]),listenForTeamQuizUpdates();}catch(_0x18bc46){console[_0x9f7243(0xa1a)](_0x9f7243(0x6f1),_0x18bc46),showMessage(_0x9f7243(0x1a6));}}function renderAdminTeamQuizDashboard(_0x3fb5b9,_0x40f5da,_0x171ce9='team'){const _0x349603=_0x5736,_0x530ccb=_0x171ce9===_0x349603(0x530)?_0x349603(0x29c):_0x349603(0x157);liveGameView[_0x349603(0x42b)]=_0x349603(0x773)+_0x530ccb+':\x20'+_0x40f5da+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x3fb5b9+_0x349603(0x20a),document[_0x349603(0x2a0)](_0x349603(0x3da))[_0x349603(0x2aa)](_0x349603(0x8a5),async()=>{const _0x5b5c34=_0x349603;showConfirmation(_0x5b5c34(0x8e5),async()=>{const _0x5307fd=_0x5b5c34;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x5307fd(0x804)+appId+_0x5307fd(0x3df),currentTeamQuizId)),showView(_0x5307fd(0x299));});});}function listenForTeamQuizUpdates(){const _0x325c4f=_0x5736;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x47efbe=doc(db,_0x325c4f(0x804)+appId+_0x325c4f(0x3df),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x47efbe,_0x1a55df=>{const _0x350ee4=_0x325c4f;if(!_0x1a55df[_0x350ee4(0x512)]()){sessionStorage['removeItem'](_0x350ee4(0x57a));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode==='admin')showMessage('กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว');showView(currentMode===_0x350ee4(0xfd)?_0x350ee4(0x299):'student');return;}const _0x19988d=_0x1a55df['data']();if(currentMode===_0x350ee4(0xfd)){if(_0x19988d[_0x350ee4(0x842)]===_0x350ee4(0x530)&&_0x19988d['status']!=='podium'&&_0x19988d[_0x350ee4(0x912)]!=='finished'){const _0x390033=Object[_0x350ee4(0x390)](_0x19988d[_0x350ee4(0x32b)]||{});if(_0x390033[_0x350ee4(0x51f)]>0x0){const _0x117316=_0x390033[_0x350ee4(0xd4)](_0x5b10d0=>_0x5b10d0[_0x350ee4(0x2e9)]===!![]);_0x117316&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x19988d);}else{if(_0x19988d[_0x350ee4(0x912)]===_0x350ee4(0x765)||_0x19988d['status']==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x19988d[_0x350ee4(0x842)]===_0x350ee4(0x530)){const _0x262d0e=_0x19988d[_0x350ee4(0x32b)][userId];(!_0x262d0e||!_0x262d0e['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x46f60b){const _0x1ab77c=_0x5736;console['log'](_0x1ab77c(0x733));const _0x367654=doc(db,_0x1ab77c(0x804)+appId+'/public/data/teamQuizzes',_0x46f60b);try{const _0x38be62=await getDoc(_0x367654);if(_0x38be62[_0x1ab77c(0x512)]()){const _0x35f2ee=_0x38be62[_0x1ab77c(0x4ff)]();_0x35f2ee['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x35f2ee);}await updateDoc(_0x367654,{'status':_0x1ab77c(0x765)});}catch(_0x46fd62){console[_0x1ab77c(0xa1a)]('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x46fd62);}}function updateAdminTeamDashboard(_0x33c307){const _0x363dd8=_0x5736,_0x4001d8=document[_0x363dd8(0x2a0)](_0x363dd8(0x44d));if(!_0x4001d8)return;const _0x3cf284=_0x33c307[_0x363dd8(0x842)]||_0x363dd8(0x133),_0x418eaa=currentQuizData[_0x363dd8(0x619)][_0x363dd8(0x51f)];if(_0x3cf284==='group'){const _0x92c30a=Object[_0x363dd8(0x390)](_0x33c307[_0x363dd8(0x32b)]||{});if(_0x92c30a[_0x363dd8(0x51f)]===0x0){_0x4001d8[_0x363dd8(0x42b)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0x1f4e3b=[..._0x92c30a][_0x363dd8(0x3a9)]((_0x343e4d,_0x5b72b1)=>_0x5b72b1[_0x363dd8(0x968)]-_0x343e4d['score']),_0xf20aa4=_0x1f4e3b[_0x363dd8(0x429)]((_0x1a973d,_0x27de70)=>{const _0x3a3359=_0x363dd8,_0x53a7b4=_0x1a973d[_0x3a3359(0x2ab)]?.['length']||0x0;return _0x3a3359(0x8b1)+(_0x27de70+0x1)+_0x3a3359(0x7d6)+_0x1a973d[_0x3a3359(0x686)][_0x3a3359(0x795)](',\x20')+_0x3a3359(0x3f7)+_0x53a7b4+'/'+_0x418eaa+_0x3a3359(0x4cd)+_0x1a973d['score']+_0x3a3359(0x5f5);})[_0x363dd8(0x795)](''),_0x22c41b=currentQuizData[_0x363dd8(0x619)][_0x363dd8(0x429)]((_0x37db80,_0x4bd17e)=>{const _0x2dc03=_0x363dd8;let _0x1ac852=0x0,_0x1e1946=0x0;_0x92c30a['forEach'](_0x409f2c=>{const _0x1a0bc8=_0x5736,_0x41ece6=_0x409f2c['answers']?.['find'](_0x346e6f=>_0x346e6f[_0x1a0bc8(0x8a4)]===_0x4bd17e);if(_0x41ece6){_0x1e1946++;if(_0x41ece6[_0x1a0bc8(0x69b)])_0x1ac852++;}});const _0x37aec7=_0x1e1946>0x0&&_0x1e1946===_0x92c30a[_0x2dc03(0x51f)],_0xe93116=_0x37aec7?'bg-green-200\x20text-green-900\x20font-bold':_0x2dc03(0x5ef),_0xfaaf1=_0x37aec7?_0x2dc03(0x724):'';return _0x2dc03(0x6ea)+_0xe93116+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x4bd17e+0x1)+_0x2dc03(0x212)+_0xfaaf1+_0x2dc03(0x90e)+_0x1ac852+'/'+_0x92c30a[_0x2dc03(0x51f)]+_0x2dc03(0x6e8);})['join']('');_0x4001d8[_0x363dd8(0x42b)]=_0x363dd8(0x291)+_0xf20aa4+_0x363dd8(0x65b)+_0x22c41b+_0x363dd8(0x534);return;}const _0x171676=_0x33c307[_0x363dd8(0x2d4)]||{},_0x39e5d0=Object['keys'](_0x171676);if(_0x39e5d0[_0x363dd8(0x51f)]===0x0){_0x4001d8[_0x363dd8(0x42b)]=_0x363dd8(0x524);return;}const _0x3eb462=_0x39e5d0[_0x363dd8(0x429)](_0x412ab2=>({'name':_0x412ab2,'score':_0x171676[_0x412ab2][_0x363dd8(0x968)]||0x0}))[_0x363dd8(0x3a9)]((_0x3ea1fe,_0x3c4cc2)=>_0x3c4cc2[_0x363dd8(0x968)]-_0x3ea1fe[_0x363dd8(0x968)]),_0x39deb7=_0x3eb462[_0x363dd8(0x429)](_0x38217e=>{const _0x5ee581=_0x363dd8,_0x3e4688=_0x171676[_0x38217e['name']]?.[_0x5ee581(0x2ab)]?.[_0x5ee581(0x51f)]||0x0,_0x5e8146=Math[_0x5ee581(0x3ae)](_0x418eaa/_0x39e5d0['length']);return _0x5ee581(0x7db)+_0x38217e[_0x5ee581(0x3d6)]+_0x5ee581(0x155)+_0x3e4688+'/'+_0x5e8146+'\x20ตา)</span></span><span\x20class=\x22font-bold\x22>'+_0x38217e[_0x5ee581(0x968)]+_0x5ee581(0x60a);})['join'](''),_0x3a7b6a=_0x39e5d0[_0x363dd8(0x650)]((_0x3069da,_0xe384cb)=>_0x3069da+(_0x171676[_0xe384cb][_0x363dd8(0x2ab)]?.[_0x363dd8(0x51f)]||0x0),0x0),_0x2a7d23=currentQuizData[_0x363dd8(0x619)][_0x363dd8(0x429)]((_0x550cf8,_0x4d9461)=>{const _0x3038a8=_0x363dd8;let _0x38a68c=null,_0x6a4b86=null;for(const _0x1f6796 of _0x39e5d0){const _0x296318=_0x171676[_0x1f6796]['answers']?.[_0x3038a8(0x216)](_0x30ebe7=>_0x30ebe7['questionIndex']===_0x4d9461);if(_0x296318){_0x38a68c=_0x296318,_0x6a4b86=_0x1f6796;break;}}const _0x259367=!!_0x38a68c,_0x2b80b8=_0x259367&&_0x38a68c[_0x3038a8(0x69b)],_0x4ad3d4=(Math[_0x3038a8(0x665)](_0x4d9461/_0x39e5d0['length'])+0x1)*_0x39e5d0[_0x3038a8(0x51f)],_0x12a84f=_0x3a7b6a>=_0x4ad3d4,_0x31b9ba=_0x12a84f?_0x3038a8(0x492):_0x3038a8(0x5ef),_0x39df06=_0x12a84f?_0x3038a8(0x724):'';let _0xdf582e=_0x3038a8(0x51e);return _0x259367&&(_0xdf582e=_0x6a4b86+_0x3038a8(0xea)+(_0x2b80b8?_0x3038a8(0x967):_0x3038a8(0x680))),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x31b9ba+_0x3038a8(0x92d)+(_0x4d9461+0x1)+_0x3038a8(0x212)+_0x39df06+_0x3038a8(0x68b)+_0xdf582e+'</p></div>';})[_0x363dd8(0x795)]('');_0x4001d8['innerHTML']='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x39deb7+_0x363dd8(0x22c)+_0x2a7d23+_0x363dd8(0x534);}async function handleJoinTeamQuiz(){const _0x2e9412=_0x5736,_0xaf5736=prompt(_0x2e9412(0xa0a));if(!_0xaf5736||_0xaf5736['trim']()[_0x2e9412(0x51f)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x1ecbed=collection(db,_0x2e9412(0x804)+appId+_0x2e9412(0x3df)),_0x2eef3b=query(_0x1ecbed,where('pin','==',_0xaf5736['trim']()),where('status','==',_0x2e9412(0x8d2))),_0x2bafd5=await getDocs(_0x2eef3b);if(_0x2bafd5[_0x2e9412(0x6b4)]){showMessage(_0x2e9412(0x2f2));return;}const _0x3ee74a=_0x2bafd5[_0x2e9412(0x1c5)][0x0];currentTeamQuizId=_0x3ee74a['id'];const _0x235815=_0x3ee74a[_0x2e9412(0x4ff)](),_0x58b5b9=doc(db,_0x2e9412(0x804)+appId+_0x2e9412(0x973),_0x235815[_0x2e9412(0x6fd)]),_0x12d4f7=doc(db,_0x2e9412(0x804)+appId+_0x2e9412(0x60f),_0x235815[_0x2e9412(0x15c)]),[_0x500f6b,_0x5ced1f]=await Promise[_0x2e9412(0x3f2)]([getDoc(_0x58b5b9),getDoc(_0x12d4f7)]);if(!_0x500f6b[_0x2e9412(0x512)]()||!_0x5ced1f[_0x2e9412(0x512)]())throw new Error(_0x2e9412(0x896));currentQuizData=getShuffledQuiz({'id':_0x5ced1f['id'],..._0x5ced1f[_0x2e9412(0x4ff)]()});const _0x3dcdcc=_0x500f6b[_0x2e9412(0x4ff)]();showTeamPlayerSelection(_0x3dcdcc['students'],currentQuizData[_0x2e9412(0x39a)]);}catch(_0x1c10b3){console[_0x2e9412(0xa1a)](_0x2e9412(0x9ff),_0x1c10b3),showMessage(_0x2e9412(0x71b)+_0x1c10b3[_0x2e9412(0x285)]);}}async function handleJoinGroupActivity(){const _0x24ab8a=_0x5736,_0x2399da=prompt(_0x24ab8a(0x525));if(!_0x2399da||_0x2399da[_0x24ab8a(0x611)]()['length']!==0x4){showMessage(_0x24ab8a(0x9d7));return;}const _0x4370e0=_0x2399da[_0x24ab8a(0x611)]();showMessage(_0x24ab8a(0x497));try{const _0x578160=collection(db,_0x24ab8a(0x804)+appId+_0x24ab8a(0x3df)),_0x3ab9b2=query(_0x578160,where(_0x24ab8a(0x5ac),'==',_0x4370e0),where(_0x24ab8a(0x912),'==',_0x24ab8a(0x8d2))),_0x2dcc7c=await getDocs(_0x3ab9b2);if(!_0x2dcc7c['empty']){console['log'](_0x24ab8a(0x379)),await proceedWithTeamQuizJoin(_0x2dcc7c[_0x24ab8a(0x1c5)][0x0]);return;}const _0x103152=collection(db,_0x24ab8a(0x804)+appId+_0x24ab8a(0x9a0)),_0x2758bf=query(_0x103152,where(_0x24ab8a(0x5ac),'==',_0x4370e0),where(_0x24ab8a(0x912),'==','lobby')),_0x4f0cc1=await getDocs(_0x2758bf);if(!_0x4f0cc1[_0x24ab8a(0x6b4)]){console[_0x24ab8a(0x30f)](_0x24ab8a(0x53b)),await proceedWithSyncQuizJoin(_0x4f0cc1[_0x24ab8a(0x1c5)][0x0]);return;}showMessage('ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว');}catch(_0x4527b7){console[_0x24ab8a(0xa1a)](_0x24ab8a(0x7fb),_0x4527b7),showMessage(_0x24ab8a(0x632)+_0x4527b7['message']);}}async function proceedWithTeamQuizJoin(_0x33c5c9){const _0x5f24ca=_0x5736;currentTeamQuizId=_0x33c5c9['id'];const _0x5eac55=_0x33c5c9[_0x5f24ca(0x4ff)](),_0x4dba45=doc(db,_0x5f24ca(0x804)+appId+_0x5f24ca(0x973),_0x5eac55[_0x5f24ca(0x6fd)]),_0x13b550=doc(db,_0x5f24ca(0x804)+appId+_0x5f24ca(0x60f),_0x5eac55[_0x5f24ca(0x15c)]),[_0x5ed96e,_0x50f8d0]=await Promise[_0x5f24ca(0x3f2)]([getDoc(_0x4dba45),getDoc(_0x13b550)]);if(!_0x5ed96e['exists']()||!_0x50f8d0['exists']())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x50f8d0['id'],..._0x50f8d0[_0x5f24ca(0x4ff)]()}),showTeamPlayerSelection(_0x5ed96e[_0x5f24ca(0x4ff)]()['students'],currentQuizData[_0x5f24ca(0x39a)],_0x5eac55[_0x5f24ca(0x842)]||_0x5f24ca(0x133)),messageModal[_0x5f24ca(0x914)][_0x5f24ca(0x6bb)](_0x5f24ca(0x674));}async function proceedWithSyncQuizJoin(_0x1c83fb){const _0xe4be5e=_0x5736;currentLiveGameId=_0x1c83fb['id'];const _0x4c025c=_0x1c83fb[_0xe4be5e(0x4ff)](),_0xd3d9a7=doc(db,_0xe4be5e(0x804)+appId+_0xe4be5e(0x60f),_0x4c025c[_0xe4be5e(0x15c)]),_0x159ff7=await getDoc(_0xd3d9a7);if(!_0x159ff7[_0xe4be5e(0x512)]())throw new Error(_0xe4be5e(0x283));const _0x2a0749=_0x159ff7[_0xe4be5e(0x4ff)](),_0xa8e29e=doc(db,_0xe4be5e(0x804)+appId+'/public/data/projects',_0x2a0749['projectId']),_0x40320a=await getDoc(_0xa8e29e);if(!_0x40320a[_0xe4be5e(0x512)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x4c025c[_0xe4be5e(0x2f9)],showView(_0xe4be5e(0x4b3)),showTeamPlayerSelection(_0x40320a[_0xe4be5e(0x4ff)]()['students'],_0x2a0749[_0xe4be5e(0x39a)],_0xe4be5e(0x93f)),document[_0xe4be5e(0x2a0)](_0xe4be5e(0x7b0))[_0xe4be5e(0x8fe)]=confirmAndJoinSyncGame,messageModal[_0xe4be5e(0x914)][_0xe4be5e(0x6bb)]('hidden');}function showTeamPlayerSelection(_0x13adbf,_0x2b55ec,_0x39db6f='team'){const _0xeafff6=_0x5736;studentInitialView[_0xeafff6(0x914)][_0xeafff6(0x6bb)](_0xeafff6(0x674)),studentJoinGameView['classList'][_0xeafff6(0x6bb)](_0xeafff6(0x674)),document[_0xeafff6(0x2a0)]('student-team-selection-view')[_0xeafff6(0x914)][_0xeafff6(0x278)]('hidden');let _0x336233=_0xeafff6(0x157);if(_0x39db6f===_0xeafff6(0x530))_0x336233=_0xeafff6(0x29c);else _0x39db6f===_0xeafff6(0x93f)&&(_0x336233=_0xeafff6(0x227));document[_0xeafff6(0x2a0)](_0xeafff6(0x1d1))[_0xeafff6(0x531)]=_0x336233+':\x20'+_0x2b55ec;const _0x3f03cb=document[_0xeafff6(0x2a0)]('team-student-list');if(!_0x13adbf||_0x13adbf['length']===0x0){_0x3f03cb['innerHTML']=_0xeafff6(0x29f),document[_0xeafff6(0x2a0)](_0xeafff6(0x7b0))[_0xeafff6(0x13f)]=!![];return;}_0x3f03cb[_0xeafff6(0x42b)]=_0x13adbf[_0xeafff6(0x429)](_0x37bbf4=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x37bbf4+_0xeafff6(0x89e)+_0x37bbf4+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0xeafff6(0x795)](''),document[_0xeafff6(0x2a0)](_0xeafff6(0x7b0))[_0xeafff6(0x13f)]=![];}async function confirmAndStartTeamQuiz(){const _0x14dd0b=_0x5736,_0x33c46d=Array['from'](document['querySelectorAll'](_0x14dd0b(0x9da)))[_0x14dd0b(0x429)](_0x3a7fa2=>_0x3a7fa2[_0x14dd0b(0x556)]);if(_0x33c46d['length']===0x0){showMessage(_0x14dd0b(0x152));return;}localTeamPlayers=_0x33c46d,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x384b7f=doc(db,_0x14dd0b(0x804)+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x422db2=await getDoc(_0x384b7f);if(!_0x422db2[_0x14dd0b(0x512)]())throw new Error(_0x14dd0b(0x5f2));const _0x4fd330=_0x422db2['data']();if(_0x4fd330['mode']===_0x14dd0b(0x530)){const _0x31f2f4={[_0x14dd0b(0x63d)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x384b7f,_0x31f2f4);}else{const _0x4c5dc9=_0x4fd330[_0x14dd0b(0x2d4)]||{};localTeamPlayers['forEach'](_0x539307=>{!_0x4c5dc9[_0x539307]&&(_0x4c5dc9[_0x539307]={'score':0x0,'answers':[]});}),await updateDoc(_0x384b7f,{'responses':_0x4c5dc9});}document[_0x14dd0b(0x2a0)](_0x14dd0b(0x4f0))[_0x14dd0b(0x914)][_0x14dd0b(0x6bb)](_0x14dd0b(0x674)),renderTeamQuizQuestion();const _0x1c6a46={'gameId':currentTeamQuizId,'mode':_0x4fd330[_0x14dd0b(0x842)]||_0x14dd0b(0x133),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x14dd0b(0x407)](_0x14dd0b(0x57a),JSON[_0x14dd0b(0x91e)](_0x1c6a46)),listenForTeamQuizUpdates();}catch(_0x3856d6){console[_0x14dd0b(0xa1a)](_0x14dd0b(0x827),_0x3856d6),showMessage(_0x14dd0b(0x854));}}async function renderTeamQuizQuestion(){const _0x43ab3a=_0x5736;if(localQuestionIndex>=currentQuizData[_0x43ab3a(0x619)][_0x43ab3a(0x51f)]){displayTeamQuizFinalResults();return;}const _0x50b912=currentQuizData[_0x43ab3a(0x619)][localQuestionIndex],_0x5ba29e=localTeamPlayers[localPlayerIndex],_0x46ce4f=_0x50b912[_0x43ab3a(0x173)]||currentQuizData[_0x43ab3a(0x13d)];let _0x48d749=_0x50b912['stem']||_0x50b912[_0x43ab3a(0x2dc)],_0xa31003='';switch(_0x46ce4f){case _0x43ab3a(0x9f3):case _0x43ab3a(0x1fc):_0xa31003=_0x50b912[_0x43ab3a(0x8bf)][_0x43ab3a(0x429)]((_0x493fb5,_0x9866ba)=>_0x43ab3a(0x9ef)+_0x9866ba+_0x43ab3a(0x507)+_0x9866ba+_0x43ab3a(0x3d1)+_0x9866ba+'\x22>'+_0x493fb5+'</label></div>')[_0x43ab3a(0x795)]('');break;case _0x43ab3a(0x19b):_0xa31003='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case'short_answer':case _0x43ab3a(0xf5):_0xa31003=_0x43ab3a(0x594);break;case _0x43ab3a(0x8b2):_0xa31003=_0x43ab3a(0x77f)+_0x50b912['allResponses'][_0x43ab3a(0x429)](_0x18d17e=>_0x43ab3a(0x708)+_0x18d17e+'\x22>'+_0x18d17e+_0x43ab3a(0x5ea))[_0x43ab3a(0x795)]('')+_0x43ab3a(0x3b2);break;default:_0xa31003=_0x43ab3a(0x1fa);break;}studentQuizArea[_0x43ab3a(0x42b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x43ab3a(0x83e)+currentQuizData[_0x43ab3a(0x619)][_0x43ab3a(0x51f)]+_0x43ab3a(0x673)+_0x5ba29e+_0x43ab3a(0x557)+(localQuestionIndex+0x1)+'.\x20'+_0x48d749+_0x43ab3a(0x8a8)+(_0x50b912[_0x43ab3a(0x25f)]?_0x43ab3a(0x402)+_0x50b912[_0x43ab3a(0x25f)]+_0x43ab3a(0x18a):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0xa31003+_0x43ab3a(0x836),studentQuizArea[_0x43ab3a(0x914)]['remove'](_0x43ab3a(0x674));if(window[_0x43ab3a(0x651)])MathJax[_0x43ab3a(0x626)]([studentQuizArea]);document[_0x43ab3a(0x2a0)]('submit-team-answer-btn')['addEventListener']('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x3b770b=_0x5736,_0x5754d1=currentQuizData[_0x3b770b(0x619)][localQuestionIndex],_0x18ea17=_0x5754d1[_0x3b770b(0x173)]||currentQuizData[_0x3b770b(0x13d)];let _0x3375d0=null,_0xf009a=![];if(_0x18ea17===_0x3b770b(0x3e2)||_0x18ea17==='fill_in_no_choices'){const _0x18a037=document[_0x3b770b(0x265)](_0x3b770b(0x270));if(!_0x18a037||!_0x18a037[_0x3b770b(0x556)]['trim']()){showMessage(_0x3b770b(0x12e));return;}_0x3375d0=_0x18a037[_0x3b770b(0x556)]['trim'](),_0xf009a=await gradeShortAnswer(_0x3375d0,_0x5754d1);}else{const _0x48c5af=document[_0x3b770b(0x265)](_0x3b770b(0x608));if(!_0x48c5af||_0x48c5af[_0x3b770b(0x556)]===''){showMessage(_0x3b770b(0x919));return;}_0x3375d0=_0x48c5af[_0x3b770b(0x556)];switch(_0x18ea17){case _0x3b770b(0x19b):_0xf009a=_0x3375d0===_0x3b770b(0x2f6)===_0x5754d1[_0x3b770b(0x701)];break;case'matching_item':_0xf009a=_0x3375d0===_0x5754d1[_0x3b770b(0x2f5)];break;default:_0xf009a=parseInt(_0x3375d0)===_0x5754d1[_0x3b770b(0x587)];break;}}const _0x482fbb={'questionIndex':localQuestionIndex,'isCorrect':_0xf009a},_0x54242f=userId,_0xd665ef={[_0x3b770b(0x63d)+_0x54242f+_0x3b770b(0x43c)]:arrayUnion(_0x482fbb)};_0xf009a&&(_0xd665ef['groups.'+_0x54242f+_0x3b770b(0x586)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x3b770b(0x3df),currentTeamQuizId),_0xd665ef),localQuestionIndex++,localQuestionIndex>=currentQuizData['questions'][_0x3b770b(0x51f)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x35c5df){console[_0x3b770b(0xa1a)](_0x3b770b(0x54a),_0x35c5df),showMessage(_0x3b770b(0x7df));}}async function handleTeamAnswerSubmit(){const _0x5cfb12=_0x5736,_0x1136ad=await getDoc(doc(db,_0x5cfb12(0x804)+appId+_0x5cfb12(0x3df),currentTeamQuizId));if(!_0x1136ad[_0x5cfb12(0x512)]())return;const _0x1bcbde=_0x1136ad[_0x5cfb12(0x4ff)]();if(_0x1bcbde[_0x5cfb12(0x842)]==='group'){handleGroupAnswerSubmit();return;}const _0x501443=localTeamPlayers[localPlayerIndex],_0x562988=currentQuizData[_0x5cfb12(0x619)][localQuestionIndex],_0x255681=_0x562988['questionType']||currentQuizData[_0x5cfb12(0x13d)];let _0xddca54=null,_0xfc12b4=![];if(_0x255681===_0x5cfb12(0x3e2)||_0x255681===_0x5cfb12(0xf5)){const _0x3684eb=document[_0x5cfb12(0x265)](_0x5cfb12(0x270));if(!_0x3684eb||!_0x3684eb[_0x5cfb12(0x556)][_0x5cfb12(0x611)]()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0xddca54=_0x3684eb[_0x5cfb12(0x556)][_0x5cfb12(0x611)](),_0xfc12b4=await gradeShortAnswer(_0xddca54,_0x562988);}else{const _0x1ae340=document['querySelector'](_0x5cfb12(0x608));if(!_0x1ae340||_0x1ae340[_0x5cfb12(0x556)]===''){showMessage(_0x5cfb12(0x31b));return;}_0xddca54=_0x1ae340[_0x5cfb12(0x556)];switch(_0x255681){case _0x5cfb12(0x19b):_0xfc12b4=_0xddca54===_0x5cfb12(0x2f6)===_0x562988[_0x5cfb12(0x701)];break;case'matching_item':_0xfc12b4=_0xddca54===_0x562988[_0x5cfb12(0x2f5)];break;default:_0xfc12b4=parseInt(_0xddca54)===_0x562988[_0x5cfb12(0x587)];break;}}const _0x2baaf5={'questionIndex':localQuestionIndex,'isCorrect':_0xfc12b4,'answerValue':_0xddca54},_0x874c8a={[_0x5cfb12(0x727)+_0x501443+_0x5cfb12(0x43c)]:arrayUnion(_0x2baaf5)};_0xfc12b4&&(_0x874c8a['responses.'+_0x501443+_0x5cfb12(0x586)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x5cfb12(0x3df),currentTeamQuizId),_0x874c8a),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x5cfb12(0x51f)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x3649f6){console[_0x5cfb12(0xa1a)]('Error\x20submitting\x20team\x20answer:',_0x3649f6),showMessage(_0x5cfb12(0x7df));}}async function displayTeamQuizFinalResults(){const _0x4334e8=_0x5736;studentQuizArea[_0x4334e8(0x914)][_0x4334e8(0x6bb)](_0x4334e8(0x674)),studentResultArea[_0x4334e8(0x914)][_0x4334e8(0x278)](_0x4334e8(0x674));const _0x2e579b=doc(db,_0x4334e8(0x804)+appId+_0x4334e8(0x3df),currentTeamQuizId),_0x39fe62=await getDoc(_0x2e579b);if(!_0x39fe62[_0x4334e8(0x512)]()){studentResultArea[_0x4334e8(0x42b)]=_0x4334e8(0x670);return;}const _0x1fe534=_0x39fe62[_0x4334e8(0x4ff)]();let _0x4c652b=[];const _0x3bfd73=_0x1fe534[_0x4334e8(0x842)]||_0x4334e8(0x133);if(_0x3bfd73===_0x4334e8(0x530)){const _0x498688=_0x1fe534['groups'][userId];_0x498688?_0x4c652b=[{'name':_0x4334e8(0x2cc)+localTeamPlayers[_0x4334e8(0x795)](',\x20'),'score':_0x498688[_0x4334e8(0x968)]||0x0}]:_0x4c652b=[{'name':_0x4334e8(0x36f),'score':_0x4334e8(0x808)}];}else _0x4c652b=localTeamPlayers['map'](_0xa39801=>({'name':_0xa39801,'score':_0x1fe534[_0x4334e8(0x2d4)][_0xa39801]?.[_0x4334e8(0x968)]||0x0}))['sort']((_0x469093,_0xa52dc9)=>_0xa52dc9[_0x4334e8(0x968)]-_0x469093[_0x4334e8(0x968)]);studentResultArea[_0x4334e8(0x42b)]=_0x4334e8(0x91c)+_0x4c652b[_0x4334e8(0x429)](_0xfc1bc8=>_0x4334e8(0x9f9)+_0xfc1bc8[_0x4334e8(0x3d6)]+_0x4334e8(0x1f2)+_0xfc1bc8[_0x4334e8(0x968)]+_0x4334e8(0x857))[_0x4334e8(0x795)]('')+_0x4334e8(0x83a),sessionStorage[_0x4334e8(0x271)]('activeGameSession'),currentMode===_0x4334e8(0xfd)&&currentTeamQuizId&&setTimeout(()=>{const _0x2de01c=_0x4334e8;deleteDoc(doc(db,'artifacts/'+appId+_0x2de01c(0x3df),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x1c8731(0x6f8),'pinnedProjects':[],'projectView':_0x1c8731(0x8e4)};const allMathTopics=[{'category':_0x1c8731(0x509),'name':_0x1c8731(0x61d)},{'category':_0x1c8731(0x509),'name':'ระบบเลขและค่าประจำหลัก'},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x358)},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x991)},{'category':_0x1c8731(0x509),'name':_0x1c8731(0xdb)},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x329)},{'category':_0x1c8731(0x509),'name':'การคูณ'},{'category':'จำนวนและการดำเนินการ','name':_0x1c8731(0x6a2)},{'category':_0x1c8731(0x509),'name':'จำนวนเต็มบวก'},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x9f4)},{'category':_0x1c8731(0x509),'name':'ศูนย์'},{'category':'จำนวนและการดำเนินการ','name':'ค่าสัมบูรณ์'},{'category':'จำนวนและการดำเนินการ','name':_0x1c8731(0x728)},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x79d)},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x9e5)},{'category':_0x1c8731(0x509),'name':'ค.ร.น.\x20(LCM)'},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x927)},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x52f)},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x63f)},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x235)},{'category':'จำนวนและการดำเนินการ','name':_0x1c8731(0x13b)},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x8f2)},{'category':'จำนวนและการดำเนินการ','name':_0x1c8731(0x5a1)},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x449)},{'category':'จำนวนและการดำเนินการ','name':_0x1c8731(0x40b)},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x958)},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x657)},{'category':_0x1c8731(0x509),'name':'การคูณทศนิยม'},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x92b)},{'category':'จำนวนและการดำเนินการ','name':_0x1c8731(0x6d2)},{'category':_0x1c8731(0x509),'name':'ร้อยละพื้นฐาน'},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x431)},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x910)},{'category':'จำนวนและการดำเนินการ','name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':'จำนวนและการดำเนินการ','name':'รากที่สองและที่สาม'},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x593)},{'category':_0x1c8731(0x509),'name':_0x1c8731(0x392)},{'category':_0x1c8731(0x6aa),'name':_0x1c8731(0x139)},{'category':_0x1c8731(0x6aa),'name':_0x1c8731(0x3fe)},{'category':_0x1c8731(0x6aa),'name':_0x1c8731(0x533)},{'category':_0x1c8731(0x6aa),'name':_0x1c8731(0x635)},{'category':'การวัด','name':_0x1c8731(0x58a)},{'category':_0x1c8731(0x6aa),'name':_0x1c8731(0x1e0)},{'category':_0x1c8731(0x6aa),'name':_0x1c8731(0x88a)},{'category':'การวัด','name':'พื้นที่สามเหลี่ยม'},{'category':_0x1c8731(0x6aa),'name':_0x1c8731(0x243)},{'category':_0x1c8731(0x6aa),'name':_0x1c8731(0x276)},{'category':_0x1c8731(0x6aa),'name':_0x1c8731(0x5b7)},{'category':_0x1c8731(0x6aa),'name':_0x1c8731(0x8c4)},{'category':_0x1c8731(0x6aa),'name':_0x1c8731(0x194)},{'category':_0x1c8731(0x6aa),'name':_0x1c8731(0x6a3)},{'category':'เรขาคณิต','name':_0x1c8731(0x977)},{'category':'เรขาคณิต','name':'ความสัมพันธ์ของมุม'},{'category':_0x1c8731(0x3d7),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x1c8731(0x3d7),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x1c8731(0x3d7),'name':_0x1c8731(0x8ee)},{'category':_0x1c8731(0x3d7),'name':_0x1c8731(0x5dd)},{'category':_0x1c8731(0x3d7),'name':_0x1c8731(0x13c)},{'category':_0x1c8731(0x3d7),'name':_0x1c8731(0x688)},{'category':_0x1c8731(0x3d7),'name':_0x1c8731(0x1bd)},{'category':_0x1c8731(0x3d7),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x1c8731(0x3d7),'name':_0x1c8731(0x623)},{'category':_0x1c8731(0x3d7),'name':_0x1c8731(0x150)},{'category':_0x1c8731(0x3d7),'name':_0x1c8731(0x471)},{'category':'เรขาคณิต','name':_0x1c8731(0x3dc)},{'category':_0x1c8731(0x3d7),'name':_0x1c8731(0x377)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1c8731(0x9e1)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1c8731(0x7e4)},{'category':_0x1c8731(0xa00),'name':_0x1c8731(0x54d)},{'category':_0x1c8731(0xa00),'name':_0x1c8731(0x399)},{'category':_0x1c8731(0xa00),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x1c8731(0xa00),'name':_0x1c8731(0x3c8)},{'category':_0x1c8731(0xa00),'name':_0x1c8731(0x86e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1c8731(0x8be)},{'category':_0x1c8731(0xa00),'name':_0x1c8731(0x924)},{'category':_0x1c8731(0xa00),'name':'สมการเหตุผล\x20(rational)'},{'category':_0x1c8731(0xa00),'name':'สมการราก\x20(radical)'},{'category':_0x1c8731(0xa00),'name':'สมการยกกำลัง'},{'category':_0x1c8731(0xa00),'name':_0x1c8731(0x2a5)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1c8731(0x5d1)},{'category':_0x1c8731(0xa00),'name':_0x1c8731(0x26c)},{'category':_0x1c8731(0xa00),'name':'ระบบอสมการ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1c8731(0x309)},{'category':'พีชคณิตและฟังก์ชัน','name':'โดเมนและเรนจ์'},{'category':_0x1c8731(0xa00),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x1c8731(0xa00),'name':_0x1c8731(0x86b)},{'category':_0x1c8731(0xa00),'name':_0x1c8731(0x9fe)},{'category':_0x1c8731(0xa00),'name':_0x1c8731(0x8b9)},{'category':_0x1c8731(0xa00),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x1c8731(0xa00),'name':_0x1c8731(0x4cf)},{'category':_0x1c8731(0xa00),'name':_0x1c8731(0x956)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1c8731(0x74f)},{'category':_0x1c8731(0xa00),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x1c8731(0xa00),'name':_0x1c8731(0x38b)},{'category':_0x1c8731(0xa00),'name':_0x1c8731(0x30a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1c8731(0x6b3)},{'category':_0x1c8731(0xa00),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x1c8731(0xa00),'name':_0x1c8731(0x460)},{'category':_0x1c8731(0xa00),'name':_0x1c8731(0x6af)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1c8731(0x52b)},{'category':_0x1c8731(0xa00),'name':_0x1c8731(0x505)},{'category':_0x1c8731(0x201),'name':_0x1c8731(0x2e2)},{'category':_0x1c8731(0x201),'name':_0x1c8731(0x9a6)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1c8731(0x324)},{'category':_0x1c8731(0x201),'name':_0x1c8731(0x911)},{'category':'เรขาคณิตวิเคราะห์','name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x1c8731(0x201),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x1c8731(0x201),'name':_0x1c8731(0x516)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1c8731(0x1ba)},{'category':_0x1c8731(0x201),'name':_0x1c8731(0x75e)},{'category':_0x1c8731(0x76f),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0x1c8731(0x76f),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x1c8731(0x76f),'name':_0x1c8731(0x6d3)},{'category':_0x1c8731(0x76f),'name':_0x1c8731(0x2d9)},{'category':_0x1c8731(0x76f),'name':_0x1c8731(0x921)},{'category':_0x1c8731(0x76f),'name':'กฎของโคไซน์'},{'category':_0x1c8731(0x76f),'name':_0x1c8731(0x6c0)},{'category':_0x1c8731(0x76f),'name':_0x1c8731(0x27d)},{'category':_0x1c8731(0x76f),'name':_0x1c8731(0x5f0)},{'category':_0x1c8731(0x76f),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x1c8731(0x76f),'name':_0x1c8731(0x62e)},{'category':_0x1c8731(0x98e),'name':_0x1c8731(0x791)},{'category':_0x1c8731(0x98e),'name':'การจัดกลุ่มข้อมูล'},{'category':_0x1c8731(0x98e),'name':_0x1c8731(0x710)},{'category':_0x1c8731(0x98e),'name':_0x1c8731(0x2c3)},{'category':'สถิติและความน่าจะเป็น','name':_0x1c8731(0x1c2)},{'category':_0x1c8731(0x98e),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x1c8731(0x98e),'name':_0x1c8731(0x24f)},{'category':_0x1c8731(0x98e),'name':_0x1c8731(0x335)},{'category':_0x1c8731(0x98e),'name':'ฐานนิยม'},{'category':_0x1c8731(0x98e),'name':_0x1c8731(0x344)},{'category':_0x1c8731(0x98e),'name':_0x1c8731(0x975)},{'category':_0x1c8731(0x98e),'name':'ความแปรปรวน'},{'category':'สถิติและความน่าจะเป็น','name':_0x1c8731(0x202)},{'category':'สถิติและความน่าจะเป็น','name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x1c8731(0x98e),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x1c8731(0x98e),'name':_0x1c8731(0x17d)},{'category':_0x1c8731(0x98e),'name':'กฎบวกและกฎคูณ'},{'category':_0x1c8731(0x98e),'name':_0x1c8731(0x2b3)},{'category':_0x1c8731(0x98e),'name':_0x1c8731(0x5f1)},{'category':_0x1c8731(0x98e),'name':_0x1c8731(0x72e)},{'category':_0x1c8731(0x98e),'name':_0x1c8731(0x84a)},{'category':_0x1c8731(0x98e),'name':_0x1c8731(0xa1e)},{'category':_0x1c8731(0x98e),'name':_0x1c8731(0x999)},{'category':_0x1c8731(0x98e),'name':_0x1c8731(0x4c2)},{'category':_0x1c8731(0xf8),'name':'ลิมิต'},{'category':_0x1c8731(0xf8),'name':_0x1c8731(0x996)},{'category':_0x1c8731(0xf8),'name':_0x1c8731(0x1c8)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':'แคลคูลัสเบื้องต้น','name':_0x1c8731(0x8c8)},{'category':_0x1c8731(0xf8),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x1c8731(0xf8),'name':_0x1c8731(0x641)},{'category':_0x1c8731(0xf8),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x1c8731(0xf8),'name':_0x1c8731(0x629)},{'category':_0x1c8731(0xf8),'name':_0x1c8731(0x536)},{'category':_0x1c8731(0xf8),'name':_0x1c8731(0x419)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1c8731(0x86c)},{'category':_0x1c8731(0xf8),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x1c8731(0x726),'name':_0x1c8731(0x41e)},{'category':_0x1c8731(0x726),'name':_0x1c8731(0x10c)},{'category':_0x1c8731(0x726),'name':_0x1c8731(0x428)},{'category':_0x1c8731(0x726),'name':_0x1c8731(0x496)},{'category':_0x1c8731(0x726),'name':_0x1c8731(0x3e5)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1c8731(0x132)},{'category':_0x1c8731(0x726),'name':_0x1c8731(0x4a9)},{'category':_0x1c8731(0x693),'name':_0x1c8731(0x337)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x1c8731(0x73b)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x1c8731(0x472)},{'category':_0x1c8731(0x693),'name':_0x1c8731(0xcd)},{'category':_0x1c8731(0x693),'name':_0x1c8731(0x5a8)},{'category':_0x1c8731(0xce),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x1c8731(0xce),'name':'รูปแบบการให้เหตุผล'},{'category':_0x1c8731(0xce),'name':_0x1c8731(0x9ad)}];function renderTopicCheckboxes(){const _0x444bf2=_0x1c8731,_0x4c7ebb=document[_0x444bf2(0x2a0)](_0x444bf2(0x3b3));if(!_0x4c7ebb)return;const _0x5c0aa1=allMathTopics,_0x219835=customMathTopics['map'](_0x4bf94a=>({'id':_0x4bf94a['id'],'category':_0x444bf2(0x57c),'name':_0x4bf94a['name']})),_0x53dd91=[..._0x5c0aa1,..._0x219835],_0x338e40=_0x53dd91['reduce']((_0x1e872b,_0x460199)=>{const _0x1fc8d=_0x444bf2;return!_0x1e872b[_0x460199[_0x1fc8d(0x55d)]]&&(_0x1e872b[_0x460199[_0x1fc8d(0x55d)]]=[]),_0x1e872b[_0x460199[_0x1fc8d(0x55d)]][_0x1fc8d(0x74b)](_0x460199),_0x1e872b;},{});let _0x19b4fb='';const _0x20ce41=[_0x444bf2(0x57c),...Object[_0x444bf2(0x37d)](_0x338e40)[_0x444bf2(0x29a)](_0x2c76c1=>_0x2c76c1!==_0x444bf2(0x57c))];for(const _0x3e1355 of _0x20ce41){if(_0x338e40[_0x3e1355]){const _0xbcd72b=_0x3e1355===_0x444bf2(0x57c),_0x236e2b=_0xbcd72b?_0x444bf2(0x7f4):_0x444bf2(0x68d),_0x3d03bc=_0xbcd72b?_0x444bf2(0x868):'text-indigo-700';_0x19b4fb+=_0x444bf2(0x26f),_0x19b4fb+=_0x444bf2(0x9c7)+_0x3d03bc+_0x444bf2(0x4d5)+_0x236e2b+_0x444bf2(0x916)+_0x3e1355+_0x444bf2(0x28f),_0x338e40[_0x3e1355]['forEach'](_0x276ee5=>{const _0x970714=_0x444bf2,_0x34fe13=!!_0x276ee5['id'],_0x1e2147=_0x34fe13?_0x970714(0x144)+_0x276ee5['id']+_0x970714(0xa25)+_0x276ee5['id']+_0x970714(0x3e7)+_0x276ee5['id']+_0x970714(0xe0)+_0x276ee5['id']+_0x970714(0x3ee):'';_0x19b4fb+=_0x970714(0xf4)+(_0x276ee5['id']||'')+_0x970714(0x261)+_0x276ee5[_0x970714(0x3d6)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x276ee5['name']+_0x970714(0x892)+(_0x34fe13?_0x970714(0x2bc)+_0x276ee5[_0x970714(0x3d6)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e2147+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x19b4fb+=_0x444bf2(0x18a);}}_0x4c7ebb[_0x444bf2(0x42b)]=_0x19b4fb||_0x444bf2(0x2d6),_0x4c7ebb['removeEventListener'](_0x444bf2(0x6c5),updateSelectedTopicsCount),_0x4c7ebb['addEventListener'](_0x444bf2(0x6c5),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x3c4bef,_0x18db71){const _0x221c4a=_0x1c8731;if(!_0x3c4bef||!_0x18db71[_0x221c4a(0x611)]()){showMessage(_0x221c4a(0xa2));return;}try{const _0x148c2e=doc(db,_0x221c4a(0x804)+appId+'/public/data/customMathTopics',_0x3c4bef);await updateDoc(_0x148c2e,{'name':_0x18db71[_0x221c4a(0x611)]()}),showMessage(_0x221c4a(0x568));}catch(_0x1dc3b1){console[_0x221c4a(0xa1a)](_0x221c4a(0xcb),_0x1dc3b1),showMessage(_0x221c4a(0x48b));}}function toggleTopicEditMode(_0x550e9e,_0x53786e){const _0x4df5b2=_0x1c8731;if(!_0x550e9e)return;const _0x3454ab=_0x550e9e['querySelector'](_0x4df5b2(0x778)),_0x1812d5=_0x550e9e[_0x4df5b2(0x265)](_0x4df5b2(0x435)),_0x4091d5=_0x550e9e[_0x4df5b2(0x265)](_0x4df5b2(0x712)),_0x4a14cb=_0x550e9e[_0x4df5b2(0x265)](_0x4df5b2(0x7f1));_0x3454ab[_0x4df5b2(0x914)][_0x4df5b2(0x5d4)]('hidden',_0x53786e),_0x1812d5[_0x4df5b2(0x914)][_0x4df5b2(0x5d4)](_0x4df5b2(0x674),!_0x53786e),_0x4091d5[_0x4df5b2(0x914)][_0x4df5b2(0x5d4)](_0x4df5b2(0x674),_0x53786e),_0x4a14cb[_0x4df5b2(0x914)][_0x4df5b2(0x5d4)](_0x4df5b2(0x674),!_0x53786e),_0x53786e&&(_0x1812d5[_0x4df5b2(0x809)](),_0x1812d5[_0x4df5b2(0x612)]());}async function handleStartLiveRace(_0x296fe7){const _0x4e0350=_0x1c8731;let _0x1a80b0=allQuizzes[_0x4e0350(0x216)](_0x39ae53=>_0x39ae53['id']===_0x296fe7);if(!_0x1a80b0){const _0x468565=doc(db,_0x4e0350(0x804)+appId+_0x4e0350(0x60f),_0x296fe7),_0x21bac6=await getDoc(_0x468565);if(!_0x21bac6[_0x4e0350(0x512)]()){showMessage(_0x4e0350(0x283));return;}_0x1a80b0={'id':_0x21bac6['id'],..._0x21bac6[_0x4e0350(0x4ff)]()};}const _0x180c7c=getShuffledQuiz(_0x1a80b0);currentQuizData=_0x180c7c;const _0x162803=_0x1a80b0[_0x4e0350(0x6fd)]||currentProjectId||null,_0x48da7=Math[_0x4e0350(0x665)](0x3e8+Math['random']()*0x2328)['toString']();currentLiveGamePin=_0x48da7;try{const _0x38d51b=await addDoc(collection(db,'artifacts/'+appId+'/public/data/liveGames'),{'quizId':_0x296fe7,'projectId':_0x162803,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x48da7,'createdAt':serverTimestamp(),'shuffledQuiz':_0x180c7c});currentLiveGameId=_0x38d51b['id'],showAdminLobbyView(_0x48da7,_0x1a80b0[_0x4e0350(0x39a)]),listenForLiveGameUpdates();}catch(_0xebe4b1){console[_0x4e0350(0xa1a)](_0x4e0350(0x8c1),_0xebe4b1),showMessage(_0x4e0350(0x24d));}}function updateSelectedTopicsCount(){const _0x363f40=_0x1c8731,_0x3a29d7=document['getElementById'](_0x363f40(0x3b3)),_0x49fd93=_0x3a29d7[_0x363f40(0x1a9)]('input[type=\x22checkbox\x22]:checked')[_0x363f40(0x51f)],_0x4d0c0e=document[_0x363f40(0x2a0)](_0x363f40(0x6c4));_0x49fd93>0x0?_0x4d0c0e['textContent']=_0x363f40(0x38a)+_0x49fd93+_0x363f40(0x740):_0x4d0c0e[_0x363f40(0x531)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x1c8731(0xa36),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x1c8731(0x100),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x1c8731(0x8ef),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x1c8731(0x99a),scratchpadPenColor=_0x1c8731(0x9a5),scratchpadPenSize=0x5,laserFadeTimer=null;function _0x5736(_0x18252b,_0x31f915){const _0x52267e=_0x5226();return _0x5736=function(_0x57364a,_0x37acda){_0x57364a=_0x57364a-0xa2;let _0x16ed04=_0x52267e[_0x57364a];return _0x16ed04;},_0x5736(_0x18252b,_0x31f915);}const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x352233,_0x239ba3){const _0x3c0b94=_0x1c8731;return Math['sqrt'](Math['pow'](_0x352233['x']-_0x239ba3['x'],0x2)+Math[_0x3c0b94(0xbc)](_0x352233['y']-_0x239ba3['y'],0x2));}function getMidpoint(_0xdcc8bc,_0x1550a2){return{'x':(_0xdcc8bc['x']+_0x1550a2['x'])/0x2,'y':(_0xdcc8bc['y']+_0x1550a2['y'])/0x2};}function getTransformedPoint(_0x3f9068,_0x2064b0){return{'x':(_0x3f9068-scratchpadOffset['x'])/scratchpadScale,'y':(_0x2064b0-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x301a13=_0x1c8731;if(!scratchpadCtx)return;const _0x4be041=scratchpadCtx[_0x301a13(0x4c7)],_0x306bf8=window[_0x301a13(0x682)]||0x1,_0x519757=document['getElementById']('scratchpad-header');_0x519757&&(_0x519757['style'][_0x301a13(0x7af)]='0\x200',_0x519757[_0x301a13(0x58f)][_0x301a13(0x18c)]=_0x301a13(0x31a)+scratchpadOffset['x']+_0x301a13(0x5d6)+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx[_0x301a13(0x894)](),scratchpadCtx['setTransform'](_0x306bf8,0x0,0x0,_0x306bf8,0x0,0x0),scratchpadCtx[_0x301a13(0x42e)](0x0,0x0,_0x4be041[_0x301a13(0x66d)],_0x4be041[_0x301a13(0x6f9)]),scratchpadCtx['restore'](),scratchpadCtx['save'](),scratchpadCtx[_0x301a13(0x3de)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x301a13(0x32d)](scratchpadScale,scratchpadScale),strokes[_0x301a13(0x28e)](_0x209c25=>{drawStroke(_0x209c25);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x301a13(0x3ef)]();}function renderGroupModeQuestion(){const _0x3d7804=_0x1c8731;if(localQuestionIndex>=currentQuizData[_0x3d7804(0x619)]['length']){displayTeamQuizFinalResults();return;}const _0x166a2c=currentQuizData[_0x3d7804(0x619)][localQuestionIndex],_0x5613f2=_0x166a2c[_0x3d7804(0x173)]||currentQuizData['quizType'];let _0x47f71d=_0x166a2c[_0x3d7804(0x332)]||_0x166a2c[_0x3d7804(0x2dc)],_0x1cba02='';switch(_0x5613f2){case _0x3d7804(0x9f3):case'fill_in_with_choices':_0x1cba02=_0x166a2c[_0x3d7804(0x8bf)]['map']((_0x2464f5,_0x3b3fb9)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x3b3fb9+_0x3d7804(0x507)+_0x3b3fb9+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x3b3fb9+'\x22>'+_0x2464f5+_0x3d7804(0x955))[_0x3d7804(0x795)]('');break;case _0x3d7804(0x19b):_0x1cba02=_0x3d7804(0x178);break;case _0x3d7804(0x3e2):case _0x3d7804(0xf5):_0x1cba02=_0x3d7804(0x43d);break;case _0x3d7804(0x8b2):_0x1cba02=_0x3d7804(0x77f)+_0x166a2c[_0x3d7804(0x323)][_0x3d7804(0x429)](_0xa0e9ce=>'<option\x20value=\x22'+_0xa0e9ce+'\x22>'+_0xa0e9ce+'</option>')[_0x3d7804(0x795)]('')+_0x3d7804(0x3b2);break;default:_0x1cba02='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x3d7804(0x42b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x3d7804(0x619)][_0x3d7804(0x51f)]+_0x3d7804(0xd2)+localTeamPlayers[_0x3d7804(0x795)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x47f71d+_0x3d7804(0x8a8)+(_0x166a2c['imageCode']?_0x3d7804(0x402)+_0x166a2c[_0x3d7804(0x25f)]+_0x3d7804(0x18a):'')+_0x3d7804(0x470)+_0x1cba02+_0x3d7804(0x38e),studentQuizArea[_0x3d7804(0x914)][_0x3d7804(0x278)]('hidden');if(window[_0x3d7804(0x651)])MathJax['typesetPromise']([studentQuizArea]);document['getElementById'](_0x3d7804(0x658))[_0x3d7804(0x2aa)](_0x3d7804(0x8a5),handleGroupAnswerSubmit);}function handlePointerDown(_0x22b338){const _0x3d9659=_0x1c8731;_0x22b338[_0x3d9659(0x73a)]();const _0x51ba45=scratchpadCtx[_0x3d9659(0x4c7)],_0x1d339f=_0x51ba45[_0x3d9659(0x3fa)](),_0x12612f=_0x22b338[_0x3d9659(0x424)]||(_0x22b338[_0x3d9659(0x9fb)]?_0x3d9659(0x9e7):_0x3d9659(0x8b6));if(_0x12612f===_0x3d9659(0x99a)||_0x12612f===_0x3d9659(0x8b6)){if(_0x22b338[_0x3d9659(0x424)]===_0x3d9659(0x8b6)&&_0x22b338[_0x3d9659(0x687)]!==0x0){_0x22b338[_0x3d9659(0x687)]===0x1&&(isMousePanning=!![],panStart={'x':_0x22b338['clientX'],'y':_0x22b338[_0x3d9659(0x718)]},_0x51ba45[_0x3d9659(0x58f)][_0x3d9659(0x264)]=_0x3d9659(0x735));return;}activeTool===_0x3d9659(0x541)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x2717e6=getTransformedPoint(_0x22b338[_0x3d9659(0x5b3)]-_0x1d339f[_0x3d9659(0x506)],_0x22b338[_0x3d9659(0x718)]-_0x1d339f['top']);let _0x33679f={'tool':activeTool,'points':[_0x2717e6]};if(activeTool===_0x3d9659(0x987))_0x33679f['color']=scratchpadHighlighterColor,_0x33679f[_0x3d9659(0x53c)]=scratchpadHighlighterSize;else activeTool===_0x3d9659(0x541)?(_0x33679f[_0x3d9659(0x5a4)]=scratchpadPenColor,_0x33679f[_0x3d9659(0x53c)]=scratchpadPenSize):(_0x33679f[_0x3d9659(0x5a4)]=scratchpadPenColor,_0x33679f[_0x3d9659(0x53c)]=scratchpadPenSize);currentStroke=_0x33679f;}else _0x22b338[_0x3d9659(0x9fb)]&&(_0x22b338['touches'][_0x3d9659(0x51f)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x22b338['touches'][0x0][_0x3d9659(0x5b3)],'y':_0x22b338[_0x3d9659(0x9fb)][0x0][_0x3d9659(0x718)]},{'x':_0x22b338['touches'][0x1][_0x3d9659(0x5b3)],'y':_0x22b338[_0x3d9659(0x9fb)][0x1]['clientY']}),initialPinchDistance=getDistance({'x':_0x22b338[_0x3d9659(0x9fb)][0x0][_0x3d9659(0x5b3)],'y':_0x22b338[_0x3d9659(0x9fb)][0x0]['clientY']},{'x':_0x22b338[_0x3d9659(0x9fb)][0x1][_0x3d9659(0x5b3)],'y':_0x22b338[_0x3d9659(0x9fb)][0x1][_0x3d9659(0x718)]})));}function animateTrail(){const _0x397879=_0x1c8731,_0x345bbc=Date[_0x397879(0x4f9)]();let _0x5daefc=![];for(let _0xcb1054=strokes[_0x397879(0x51f)]-0x1;_0xcb1054>=0x0;_0xcb1054--){const _0x3c93bf=strokes[_0xcb1054];if(_0x3c93bf[_0x397879(0x290)]===_0x397879(0x541)&&_0x3c93bf['fadeStartTime']){const _0x153592=_0x345bbc-_0x3c93bf[_0x397879(0x957)];_0x153592>=TRAIL_DURATION?strokes['splice'](_0xcb1054,0x1):(_0x3c93bf[_0x397879(0x143)]=0x1-_0x153592/TRAIL_DURATION,_0x5daefc=!![]);}}redrawScratchpad(),_0x5daefc?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x5d6c33){const _0x17991d=_0x1c8731;if(!_0x5d6c33||_0x5d6c33[_0x17991d(0x681)]['length']<0x1)return;scratchpadCtx[_0x17991d(0x894)](),scratchpadCtx['lineJoin']='round',scratchpadCtx[_0x17991d(0x513)]=_0x17991d(0x2ef);if(_0x5d6c33[_0x17991d(0x290)]===_0x17991d(0x541)){const _0x106627=_0x5d6c33['size']/scratchpadScale;scratchpadCtx[_0x17991d(0x1b6)]=_0x5d6c33[_0x17991d(0x143)]??0x1,scratchpadCtx[_0x17991d(0x8e9)]=_0x17991d(0x45b),scratchpadCtx[_0x17991d(0x5ab)]=_0x106627*0x3,scratchpadCtx[_0x17991d(0x32a)]=_0x17991d(0x689),scratchpadCtx[_0x17991d(0x6f7)]=_0x106627*2.5,scratchpadCtx[_0x17991d(0x128)](),scratchpadCtx['moveTo'](_0x5d6c33[_0x17991d(0x681)][0x0]['x'],_0x5d6c33[_0x17991d(0x681)][0x0]['y']);for(let _0x2a73a0=0x1;_0x2a73a0<_0x5d6c33[_0x17991d(0x681)]['length']-0x1;_0x2a73a0++){const _0x346a25=getMidpoint(_0x5d6c33[_0x17991d(0x681)][_0x2a73a0],_0x5d6c33[_0x17991d(0x681)][_0x2a73a0+0x1]);scratchpadCtx[_0x17991d(0x4b2)](_0x5d6c33[_0x17991d(0x681)][_0x2a73a0]['x'],_0x5d6c33[_0x17991d(0x681)][_0x2a73a0]['y'],_0x346a25['x'],_0x346a25['y']);}scratchpadCtx[_0x17991d(0x4a0)](),scratchpadCtx[_0x17991d(0x8e9)]=_0x17991d(0x68a),scratchpadCtx[_0x17991d(0x5ab)]=0x0,scratchpadCtx[_0x17991d(0x32a)]=_0x17991d(0x9fa),scratchpadCtx[_0x17991d(0x6f7)]=_0x106627,scratchpadCtx[_0x17991d(0x4a0)](),scratchpadCtx['closePath']();}else{if(_0x5d6c33['tool']===_0x17991d(0x987)){scratchpadCtx['globalCompositeOperation']=_0x17991d(0x22f),scratchpadCtx[_0x17991d(0x32a)]=_0x5d6c33[_0x17991d(0x5a4)],scratchpadCtx[_0x17991d(0x6f7)]=_0x5d6c33[_0x17991d(0x53c)],scratchpadCtx[_0x17991d(0x128)](),scratchpadCtx[_0x17991d(0x93d)](_0x5d6c33[_0x17991d(0x681)][0x0]['x'],_0x5d6c33['points'][0x0]['y']);for(let _0x264b77=0x1;_0x264b77<_0x5d6c33[_0x17991d(0x681)]['length']-0x1;_0x264b77++){const _0x49783c=getMidpoint(_0x5d6c33[_0x17991d(0x681)][_0x264b77],_0x5d6c33[_0x17991d(0x681)][_0x264b77+0x1]);scratchpadCtx[_0x17991d(0x4b2)](_0x5d6c33[_0x17991d(0x681)][_0x264b77]['x'],_0x5d6c33[_0x17991d(0x681)][_0x264b77]['y'],_0x49783c['x'],_0x49783c['y']);}scratchpadCtx[_0x17991d(0x4a0)](),scratchpadCtx[_0x17991d(0xa35)]();}else{scratchpadCtx[_0x17991d(0x9a9)]=_0x5d6c33[_0x17991d(0x290)]==='eraser'?_0x17991d(0x4e6):_0x17991d(0x255),scratchpadCtx[_0x17991d(0x32a)]=_0x5d6c33[_0x17991d(0x5a4)],scratchpadCtx['lineWidth']=_0x5d6c33['size'],scratchpadCtx[_0x17991d(0x128)](),scratchpadCtx[_0x17991d(0x93d)](_0x5d6c33['points'][0x0]['x'],_0x5d6c33['points'][0x0]['y']);for(let _0x39f22d=0x1;_0x39f22d<_0x5d6c33[_0x17991d(0x681)][_0x17991d(0x51f)]-0x1;_0x39f22d++){const _0x178e44=getMidpoint(_0x5d6c33['points'][_0x39f22d],_0x5d6c33[_0x17991d(0x681)][_0x39f22d+0x1]);scratchpadCtx[_0x17991d(0x4b2)](_0x5d6c33[_0x17991d(0x681)][_0x39f22d]['x'],_0x5d6c33[_0x17991d(0x681)][_0x39f22d]['y'],_0x178e44['x'],_0x178e44['y']);}scratchpadCtx[_0x17991d(0x4a0)](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x17991d(0x3ef)]();}function handlePointerMove(_0x16b1fa){const _0x4bd370=_0x1c8731;_0x16b1fa[_0x4bd370(0x73a)]();const _0x387a1e=scratchpadCtx[_0x4bd370(0x4c7)],_0x41fe82=_0x387a1e[_0x4bd370(0x3fa)]();if(_0x16b1fa[_0x4bd370(0x9fb)]){if(_0x16b1fa[_0x4bd370(0x9fb)]['length']===0x1&&isDrawingOnScratchpad){const _0x4d6a09=getTransformedPoint(_0x16b1fa[_0x4bd370(0x9fb)][0x0][_0x4bd370(0x5b3)]-_0x41fe82['left'],_0x16b1fa[_0x4bd370(0x9fb)][0x0][_0x4bd370(0x718)]-_0x41fe82[_0x4bd370(0xa2f)]);currentStroke[_0x4bd370(0x681)]['push'](_0x4d6a09),redrawScratchpad();}else{if(_0x16b1fa[_0x4bd370(0x9fb)][_0x4bd370(0x51f)]===0x2&&isPanning){const _0x4478bc=getDistance({'x':_0x16b1fa[_0x4bd370(0x9fb)][0x0][_0x4bd370(0x5b3)],'y':_0x16b1fa[_0x4bd370(0x9fb)][0x0][_0x4bd370(0x718)]},{'x':_0x16b1fa['touches'][0x1][_0x4bd370(0x5b3)],'y':_0x16b1fa[_0x4bd370(0x9fb)][0x1][_0x4bd370(0x718)]}),_0x903345=getMidpoint({'x':_0x16b1fa[_0x4bd370(0x9fb)][0x0][_0x4bd370(0x5b3)],'y':_0x16b1fa[_0x4bd370(0x9fb)][0x0][_0x4bd370(0x718)]},{'x':_0x16b1fa[_0x4bd370(0x9fb)][0x1]['clientX'],'y':_0x16b1fa[_0x4bd370(0x9fb)][0x1][_0x4bd370(0x718)]}),_0xc11426=_0x4478bc/ initialPinchDistance,_0x38d6f2=Math[_0x4bd370(0x188)](Math[_0x4bd370(0x7e7)](scratchpadScale*_0xc11426,MIN_SCALE),MAX_SCALE),_0x2a8f8b=_0x903345['x']-panStart['x'],_0x1bc6b5=_0x903345['y']-panStart['y'];scratchpadOffset['x']=_0x903345['x']-(_0x903345['x']-scratchpadOffset['x'])*(_0x38d6f2/scratchpadScale),scratchpadOffset['y']=_0x903345['y']-(_0x903345['y']-scratchpadOffset['y'])*(_0x38d6f2/scratchpadScale),scratchpadOffset['x']+=_0x2a8f8b,scratchpadOffset['y']+=_0x1bc6b5,scratchpadScale=_0x38d6f2,initialPinchDistance=_0x4478bc,panStart=_0x903345,redrawScratchpad();}}}else{if(isMousePanning){const _0x564528=_0x16b1fa[_0x4bd370(0x5b3)]-panStart['x'],_0x5b88d9=_0x16b1fa[_0x4bd370(0x718)]-panStart['y'];scratchpadOffset['x']+=_0x564528,scratchpadOffset['y']+=_0x5b88d9,panStart={'x':_0x16b1fa[_0x4bd370(0x5b3)],'y':_0x16b1fa[_0x4bd370(0x718)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x340a75=getTransformedPoint(_0x16b1fa[_0x4bd370(0x5b3)]-_0x41fe82[_0x4bd370(0x506)],_0x16b1fa[_0x4bd370(0x718)]-_0x41fe82[_0x4bd370(0xa2f)]);currentStroke['points'][_0x4bd370(0x74b)](_0x340a75),redrawScratchpad();}}}}function handlePointerUp(_0x5121a4){const _0x596eec=_0x1c8731;_0x5121a4[_0x596eec(0x73a)]();const _0x567845=scratchpadCtx[_0x596eec(0x4c7)];isMousePanning&&(isMousePanning=![],_0x567845[_0x596eec(0x58f)][_0x596eec(0x264)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x596eec(0x681)]['length']>0x1&&(strokes[_0x596eec(0x74b)](currentStroke),currentStroke[_0x596eec(0x290)]===_0x596eec(0x541)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x286a29=_0x596eec,_0x3a25e8=strokes['filter'](_0x1bd753=>_0x1bd753[_0x286a29(0x290)]===_0x286a29(0x541)&&!_0x1bd753[_0x286a29(0x957)]);if(_0x3a25e8[_0x286a29(0x51f)]>0x0){const _0x246d22=Date[_0x286a29(0x4f9)]();_0x3a25e8[_0x286a29(0x28e)](_0x57025b=>_0x57025b['fadeStartTime']=_0x246d22),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x22f6cb){const _0x59e0f8=_0x1c8731;_0x22f6cb[_0x59e0f8(0x73a)]();const _0x3639ee=_0x22f6cb['deltaY']*-0.005,_0x63c970=Math['min'](Math[_0x59e0f8(0x7e7)](scratchpadScale+_0x3639ee,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x22f6cb[_0x59e0f8(0x5b3)]-(_0x22f6cb[_0x59e0f8(0x5b3)]-scratchpadOffset['x'])*(_0x63c970/scratchpadScale),scratchpadOffset['y']=_0x22f6cb[_0x59e0f8(0x718)]-(_0x22f6cb[_0x59e0f8(0x718)]-scratchpadOffset['y'])*(_0x63c970/scratchpadScale),scratchpadScale=_0x63c970,redrawScratchpad();}function undo(){const _0x26d04f=_0x1c8731;strokes[_0x26d04f(0x51f)]>0x0&&(redoStrokes[_0x26d04f(0x74b)](strokes[_0x26d04f(0x4d0)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x39454d=_0x1c8731;redoStrokes[_0x39454d(0x51f)]>0x0&&(strokes[_0x39454d(0x74b)](redoStrokes[_0x39454d(0x4d0)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x1e5f3d=_0x1c8731;document[_0x1e5f3d(0x2a0)](_0x1e5f3d(0x80d))['disabled']=strokes[_0x1e5f3d(0x51f)]===0x0,document[_0x1e5f3d(0x2a0)](_0x1e5f3d(0x187))['disabled']=redoStrokes[_0x1e5f3d(0x51f)]===0x0;}function openScratchpad(_0x4bf9f8,_0x62e7cf){const _0x4da946=_0x1c8731,_0x58a0b5=document[_0x4da946(0x2a0)](_0x4da946(0x5f7)),_0x3aabce=document[_0x4da946(0x2a0)](_0x4da946(0x85a)),_0x4d4db2=document[_0x4da946(0x2a0)](_0x4da946(0x664)),_0x1b31b5=document['getElementById'](_0x4da946(0x679));_0x3aabce[_0x4da946(0x42b)]=_0x4bf9f8[_0x4da946(0x332)]||_0x4bf9f8['questionText'],_0x4d4db2[_0x4da946(0x42b)]=_0x62e7cf[_0x4da946(0x429)]((_0x4f5cdc,_0x8e36c9)=>_0x4da946(0x303)+String[_0x4da946(0x3eb)](0x41+_0x8e36c9)+'.\x20'+_0x4f5cdc+'</div>')[_0x4da946(0x795)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x58a0b5['classList'][_0x4da946(0x278)](_0x4da946(0x674)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0x4da946(0x626)]([_0x3aabce,_0x4d4db2]);}function initializeScratchpadCanvas(){const _0x594f6d=_0x1c8731,_0x3ed747=document[_0x594f6d(0x2a0)](_0x594f6d(0x3d5)),_0x17f773=document[_0x594f6d(0x265)]('.scratchpad-content-wrapper');if(!_0x3ed747||!_0x17f773)return;scratchpadCtx=_0x3ed747['getContext']('2d',{'willReadFrequently':!![]});const _0x187f18=window[_0x594f6d(0x682)]||0x1,_0x4a9dae=_0x17f773[_0x594f6d(0x3fa)]();_0x3ed747[_0x594f6d(0x66d)]=_0x4a9dae[_0x594f6d(0x66d)]*_0x187f18,_0x3ed747[_0x594f6d(0x6f9)]=_0x4a9dae['height']*_0x187f18,_0x3ed747[_0x594f6d(0x58f)][_0x594f6d(0x66d)]=_0x4a9dae[_0x594f6d(0x66d)]+'px',_0x3ed747[_0x594f6d(0x58f)]['height']=_0x4a9dae[_0x594f6d(0x6f9)]+'px',scratchpadCtx[_0x594f6d(0x32d)](_0x187f18,_0x187f18),scratchpadCtx[_0x594f6d(0x4fb)]='round',scratchpadCtx['lineCap']=_0x594f6d(0x2ef),_0x3ed747[_0x594f6d(0x997)](_0x594f6d(0x654),handlePointerDown),_0x3ed747[_0x594f6d(0x997)](_0x594f6d(0x405),handlePointerMove),_0x3ed747[_0x594f6d(0x997)](_0x594f6d(0x49c),handlePointerUp),_0x3ed747[_0x594f6d(0x997)](_0x594f6d(0x1b1),handlePointerUp),_0x3ed747[_0x594f6d(0x997)]('wheel',handleWheel),_0x3ed747[_0x594f6d(0x997)](_0x594f6d(0x50c),handlePointerDown),_0x3ed747[_0x594f6d(0x997)](_0x594f6d(0x549),handlePointerMove),_0x3ed747[_0x594f6d(0x997)](_0x594f6d(0x135),handlePointerUp),_0x3ed747[_0x594f6d(0x2aa)](_0x594f6d(0x654),handlePointerDown),_0x3ed747[_0x594f6d(0x2aa)](_0x594f6d(0x405),handlePointerMove),_0x3ed747[_0x594f6d(0x2aa)]('pointerup',handlePointerUp),_0x3ed747[_0x594f6d(0x2aa)]('pointercancel',handlePointerUp),_0x3ed747[_0x594f6d(0x2aa)](_0x594f6d(0x6b5),handleWheel,{'passive':![]}),_0x3ed747[_0x594f6d(0x2aa)]('touchstart',handlePointerDown,{'passive':![]}),_0x3ed747['addEventListener'](_0x594f6d(0x549),handlePointerMove,{'passive':![]}),_0x3ed747[_0x594f6d(0x2aa)]('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x3a6de0=_0x1c8731,_0x1888b4=document['getElementById'](_0x3a6de0(0x5f7)),_0x474ebe=document[_0x3a6de0(0x2a0)](_0x3a6de0(0x679));_0x474ebe['innerHTML']=_0x3a6de0(0x78d)+scratchpadHighlighterSize+_0x3a6de0(0x925);const _0x27c828=document[_0x3a6de0(0x2a0)](_0x3a6de0(0x4bd)),_0x4e0031=document[_0x3a6de0(0x2a0)]('eraser-tool-btn'),_0x392f28=document[_0x3a6de0(0x2a0)](_0x3a6de0(0x6e3)),_0x1cdb42=document[_0x3a6de0(0x2a0)]('highlighter-tool-btn'),_0x53ea1c=document[_0x3a6de0(0x2a0)]('pen-tools-group'),_0x57bd68=document[_0x3a6de0(0x2a0)](_0x3a6de0(0x602)),_0x56e7d2=[_0x27c828,_0x4e0031,_0x392f28,_0x1cdb42];document[_0x3a6de0(0x2a0)]('scratchpad-close-btn')[_0x3a6de0(0x2aa)]('click',()=>_0x1888b4[_0x3a6de0(0x914)][_0x3a6de0(0x6bb)](_0x3a6de0(0x674))),document[_0x3a6de0(0x2a0)](_0x3a6de0(0x879))['addEventListener']('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x3a6de0(0x42f))[_0x3a6de0(0x2aa)](_0x3a6de0(0x8a5),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x3a6de0(0x2a0)](_0x3a6de0(0x80d))[_0x3a6de0(0x2aa)](_0x3a6de0(0x8a5),undo),document[_0x3a6de0(0x2a0)]('redo-btn')[_0x3a6de0(0x2aa)](_0x3a6de0(0x8a5),redo);const _0x1f3298=_0x2901d3=>{const _0x316fbb=_0x3a6de0;_0x56e7d2[_0x316fbb(0x28e)](_0x93c9b1=>_0x93c9b1['classList'][_0x316fbb(0x278)](_0x316fbb(0x3fd))),_0x2901d3[_0x316fbb(0x914)][_0x316fbb(0x6bb)]('active');const _0x3fce7b=_0x2901d3===_0x1cdb42;_0x53ea1c[_0x316fbb(0x914)]['toggle'](_0x316fbb(0x674),_0x3fce7b),_0x57bd68[_0x316fbb(0x914)][_0x316fbb(0x5d4)]('hidden',!_0x3fce7b);};_0x27c828[_0x3a6de0(0x2aa)]('click',()=>{const _0x176b28=_0x3a6de0;activeTool=_0x176b28(0x99a),_0x1f3298(_0x27c828);}),_0x4e0031[_0x3a6de0(0x2aa)]('click',()=>{const _0x41df0f=_0x3a6de0;activeTool=_0x41df0f(0x7d3),_0x1f3298(_0x4e0031);}),_0x392f28['addEventListener'](_0x3a6de0(0x8a5),()=>{activeTool='trail',_0x1f3298(_0x392f28);}),_0x1cdb42[_0x3a6de0(0x2aa)](_0x3a6de0(0x8a5),()=>{const _0x4a8633=_0x3a6de0;activeTool=_0x4a8633(0x987),_0x1f3298(_0x1cdb42);}),_0x53ea1c[_0x3a6de0(0x1a9)](_0x3a6de0(0x848))['forEach'](_0x1350ec=>{const _0x9e4476=_0x3a6de0;_0x1350ec['addEventListener'](_0x9e4476(0x8a5),_0x52f8a6=>{const _0x1054f3=_0x9e4476;scratchpadPenSize=parseInt(_0x52f8a6['target'][_0x1054f3(0x2f8)][_0x1054f3(0x53c)],0xa),_0x53ea1c['querySelectorAll'](_0x1054f3(0x848))['forEach'](_0x2136c8=>_0x2136c8[_0x1054f3(0x914)][_0x1054f3(0x278)](_0x1054f3(0x3fd))),_0x52f8a6[_0x1054f3(0x646)]['classList']['add'](_0x1054f3(0x3fd));});}),_0x53ea1c['querySelectorAll'](_0x3a6de0(0x8b7))[_0x3a6de0(0x28e)](_0x7e2a5=>{const _0x21b962=_0x3a6de0;_0x7e2a5[_0x21b962(0x2aa)]('click',_0x596ed3=>{const _0x239276=_0x21b962;scratchpadPenColor=_0x596ed3[_0x239276(0x646)][_0x239276(0x2f8)][_0x239276(0x5a4)],_0x53ea1c[_0x239276(0x1a9)](_0x239276(0x8b7))[_0x239276(0x28e)](_0x4aad37=>_0x4aad37[_0x239276(0x914)][_0x239276(0x278)](_0x239276(0x3fd))),_0x596ed3[_0x239276(0x646)][_0x239276(0x914)][_0x239276(0x6bb)](_0x239276(0x3fd));});}),_0x57bd68['querySelectorAll'](_0x3a6de0(0x120))['forEach'](_0x55d517=>{const _0x591742=_0x3a6de0;_0x55d517[_0x591742(0x2aa)](_0x591742(0x8a5),_0x37df68=>{const _0x20ea86=_0x591742;scratchpadHighlighterColor=_0x37df68[_0x20ea86(0x646)]['dataset'][_0x20ea86(0x5a4)],_0x57bd68['querySelectorAll'](_0x20ea86(0x120))[_0x20ea86(0x28e)](_0x3bdff8=>_0x3bdff8[_0x20ea86(0x914)][_0x20ea86(0x278)]('active')),_0x37df68[_0x20ea86(0x646)][_0x20ea86(0x914)][_0x20ea86(0x6bb)](_0x20ea86(0x3fd));});});const _0x3202e3=document['getElementById'](_0x3a6de0(0x660)),_0x538e22=document[_0x3a6de0(0x2a0)](_0x3a6de0(0x15b));_0x3202e3[_0x3a6de0(0x2aa)]('input',_0x1f26be=>{const _0x5a8259=_0x3a6de0,_0x3ada6a=parseInt(_0x1f26be[_0x5a8259(0x646)][_0x5a8259(0x556)],0xa);scratchpadHighlighterSize=_0x3ada6a,_0x538e22[_0x5a8259(0x531)]=_0x3ada6a;}),window[_0x3a6de0(0x2aa)](_0x3a6de0(0x321),()=>{const _0x501b3=_0x3a6de0;!_0x1888b4[_0x501b3(0x914)][_0x501b3(0x722)](_0x501b3(0x674))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x1c8731(0x50a),'description':_0x1c8731(0x31f),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0x1c8731(0x784),'name':'เซียนสมองไว','description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x1c8731(0x6b8)},'ON_FIRE':{'id':_0x1c8731(0x685),'name':_0x1c8731(0x381),'description':_0x1c8731(0x882),'icon':_0x1c8731(0x826)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':'ผ่านฉลุย','description':_0x1c8731(0x5ae),'icon':_0x1c8731(0x9dd)},'COMEBACK_KING':{'id':_0x1c8731(0x89c),'name':_0x1c8731(0x2d3),'description':_0x1c8731(0x3f9),'icon':_0x1c8731(0x2ff)},'SPECIALIST':{'id':_0x1c8731(0x304),'name':'ผู้เชี่ยวชาญ','description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x1c8731(0x7ef),'name':_0x1c8731(0x93b),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x1c8731(0x617)}},firebaseConfig={'apiKey':_0x1c8731(0x3bf),'authDomain':_0x1c8731(0x515),'projectId':_0x1c8731(0x907),'storageBucket':_0x1c8731(0x853),'messagingSenderId':'274192258111','appId':_0x1c8731(0x467),'measurementId':_0x1c8731(0x123)},appId=typeof __app_id!==_0x1c8731(0x238)?__app_id:_0x1c8731(0x464),adminView=document[_0x1c8731(0x2a0)]('admin-view'),studentView=document[_0x1c8731(0x2a0)](_0x1c8731(0x67e)),projectDashboardView=document['getElementById'](_0x1c8731(0x856)),projectDetailView=document[_0x1c8731(0x2a0)](_0x1c8731(0x9d3)),quizResultsView=document[_0x1c8731(0x2a0)](_0x1c8731(0x5bc)),projectList=document['getElementById']('project-list'),noProjectsMsg=document[_0x1c8731(0x2a0)](_0x1c8731(0x5f3)),projectTitle=document[_0x1c8731(0x2a0)](_0x1c8731(0x70d)),projectIdDisplay=document[_0x1c8731(0x2a0)](_0x1c8731(0x9c5)),studentList=document[_0x1c8731(0x2a0)](_0x1c8731(0x65f)),messageModal=document[_0x1c8731(0x2a0)](_0x1c8731(0x8d4)),modalMessage=document['getElementById'](_0x1c8731(0x7a8)),createProjectModal=document['getElementById']('create-project-modal'),adminPasswordModal=document[_0x1c8731(0x2a0)](_0x1c8731(0x761)),confirmationModal=document['getElementById'](_0x1c8731(0x4f2)),userIdDisplay=document[_0x1c8731(0x2a0)](_0x1c8731(0x6cf)),topicTab=document[_0x1c8731(0x2a0)]('topic-tab'),textTab=document['getElementById'](_0x1c8731(0x63b)),topicInputArea=document['getElementById'](_0x1c8731(0x161)),textInputArea=document['getElementById'](_0x1c8731(0x3ce)),manageTab=document[_0x1c8731(0x2a0)](_0x1c8731(0x532)),resultsTab=document['getElementById'](_0x1c8731(0x796)),leaderboardTab=document['getElementById'](_0x1c8731(0x4ac)),manageTabContent=document[_0x1c8731(0x2a0)](_0x1c8731(0x294)),resultsTabContent=document[_0x1c8731(0x2a0)](_0x1c8731(0x12c)),leaderboardTabContent=document['getElementById'](_0x1c8731(0x125)),projectQuizzesList=document[_0x1c8731(0x2a0)]('project-quizzes-list'),fileTab=document[_0x1c8731(0x2a0)](_0x1c8731(0x92f)),fileInputArea=document[_0x1c8731(0x2a0)](_0x1c8731(0x6d9)),fileUploadInput=document[_0x1c8731(0x2a0)](_0x1c8731(0x3b9)),worksheetTab=document[_0x1c8731(0x2a0)](_0x1c8731(0x9ea)),worksheetInputArea=document[_0x1c8731(0x2a0)](_0x1c8731(0x994)),generateWorksheetBtn=document[_0x1c8731(0x2a0)]('generate-worksheet-btn'),studentInitialView=document['getElementById'](_0x1c8731(0x5a9)),studentNameSelectionView=document[_0x1c8731(0x2a0)](_0x1c8731(0x8d9)),studentQuizArea=document[_0x1c8731(0x2a0)]('student-quiz-area'),studentResultArea=document[_0x1c8731(0x2a0)]('student-result-area'),studentReadingArea=document['getElementById']('student-reading-area'),loadQuizBtn=document[_0x1c8731(0x2a0)](_0x1c8731(0x65d)),startQuizBtn=document[_0x1c8731(0x2a0)](_0x1c8731(0x7e1)),studentJoinGameView=document[_0x1c8731(0x2a0)](_0x1c8731(0x70e)),presentationModal=document[_0x1c8731(0x2a0)](_0x1c8731(0x8e3)),renameQuizModal=document[_0x1c8731(0x2a0)](_0x1c8731(0x75b)),moveQuizModal=document[_0x1c8731(0x2a0)]('move-quiz-modal'),quizSettingsModal=document[_0x1c8731(0x2a0)](_0x1c8731(0xfc)),quizStatusModal=document[_0x1c8731(0x2a0)](_0x1c8731(0x2bb)),liveGameView=document[_0x1c8731(0x2a0)](_0x1c8731(0x3fc));function handleAutoFixLatex(){const _0x662375=_0x1c8731,_0x245ff8=document[_0x662375(0x2a0)](_0x662375(0x80c))||document,_0x465a65=_0x245ff8[_0x662375(0x1a9)]([_0x662375(0x607),_0x662375(0x12b),_0x662375(0x338),_0x662375(0x8ab),_0x662375(0x61f),_0x662375(0x990),'.choice-text',_0x662375(0xd1),_0x662375(0x6ad)][_0x662375(0x795)](','));let _0x2efc14=0x0;const _0x4d116f=_0x3e8bd4=>'value'in _0x3e8bd4?String(_0x3e8bd4[_0x662375(0x556)]):_0x3e8bd4[_0x662375(0x54b)]!==undefined?_0x3e8bd4['innerText']:_0x3e8bd4[_0x662375(0x531)]||'',_0x4115e4=(_0x24d4fb,_0x392270)=>{const _0x3eb7a9=_0x662375;if(_0x3eb7a9(0x556)in _0x24d4fb){_0x24d4fb[_0x3eb7a9(0x556)]=_0x392270;return;}if(_0x24d4fb[_0x3eb7a9(0x265)]&&_0x24d4fb[_0x3eb7a9(0x265)](_0x3eb7a9(0x8fc)))return;if(_0x24d4fb[_0x3eb7a9(0x54b)]!==undefined)_0x24d4fb[_0x3eb7a9(0x54b)]=_0x392270;else _0x24d4fb[_0x3eb7a9(0x531)]=_0x392270;},_0x186a93=_0x3db7e1=>_0x3db7e1[_0x662375(0x54e)](/\u00A0/g,'\x20')[_0x662375(0x54e)](/\u200B/g,'')[_0x662375(0x54e)](/\r\n?/g,'\x0a'),_0x3d7876=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x59bdfb=_0x52abaf=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x52abaf),_0x3f809d=_0x461837=>{const _0x344411=_0x662375,_0x5d97a8=(_0x461837['match'](/\{/g)||[])['length'],_0x2820b6=(_0x461837[_0x344411(0xba)](/\}/g)||[])[_0x344411(0x51f)];if(_0x5d97a8>_0x2820b6)_0x461837=_0x461837+'}'[_0x344411(0x252)](_0x5d97a8-_0x2820b6);return _0x461837;},_0x5e2ff6=_0x30cd5f=>{const _0x2cec76=_0x662375;let _0xd1c5cb=_0x30cd5f[_0x2cec76(0x611)]();const _0x5a164b=[_0x2cec76(0x33e),_0x2cec76(0x807),_0x2cec76(0x29b),_0x2cec76(0x5b0),_0x2cec76(0x45d),_0x2cec76(0x1a2),'cdot',_0x2cec76(0x95b),_0x2cec76(0x551),_0x2cec76(0x794),'le','ge',_0x2cec76(0x9b9),'pm',_0x2cec76(0x82f),'sin',_0x2cec76(0x909),'tan','log','ln',_0x2cec76(0x219),'prod',_0x2cec76(0x591),'left','right',_0x2cec76(0x11e),_0x2cec76(0x313),_0x2cec76(0x653),_0x2cec76(0x5ee)];_0xd1c5cb=_0xd1c5cb[_0x2cec76(0x54e)](new RegExp(_0x2cec76(0x548)+_0x5a164b[_0x2cec76(0x795)]('|')+_0x2cec76(0x732),'g'),'\x5c'),_0x5a164b[_0x2cec76(0x28e)](_0x42d448=>{const _0x199e76=_0x2cec76;_0xd1c5cb=_0xd1c5cb[_0x199e76(0x54e)](new RegExp(_0x199e76(0x98d)+_0x42d448+'\x5cb','g'),(_0x24ef36,_0x3dc97c)=>_0x3dc97c+'\x5c'+_0x42d448);});const _0x21e33d=[[/×/g,_0x2cec76(0x542)],[/·/g,'\x5ccdot'],[/÷/g,_0x2cec76(0x6a5)],[/≤/g,_0x2cec76(0x9c6)],[/≥/g,_0x2cec76(0x4eb)],[/≠/g,_0x2cec76(0x1f7)],[/±/g,_0x2cec76(0x5d2)],[/∑/g,'\x5csum'],[/−/g,'-']];_0x21e33d[_0x2cec76(0x28e)](([_0x4a9d79,_0x1abe1d])=>{_0xd1c5cb=_0xd1c5cb['replace'](_0x4a9d79,_0x1abe1d);}),_0xd1c5cb=_0xd1c5cb[_0x2cec76(0x54e)](/√\s*\(([^)]*)\)/g,'\x5csqrt{$1}'),_0xd1c5cb=_0xd1c5cb[_0x2cec76(0x54e)](/√\s*([A-Za-z0-9]+)/g,_0x2cec76(0x811)),_0xd1c5cb=_0xd1c5cb[_0x2cec76(0x54e)](/(^|[^\\])\bimes\b/g,_0x2cec76(0x6ef))[_0x2cec76(0x54e)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x2cec76(0x26d))[_0x2cec76(0x54e)](/(^|[^\\])ext\{/g,'$1\x5ctext{')[_0x2cec76(0x54e)](/(^|[^\\])ext\(/g,'$1\x5ctext(')[_0x2cec76(0x54e)](/\\text\(([^)]*)\)/g,_0x2cec76(0x66f))[_0x2cec76(0x54e)](/\s\\frac/g,_0x2cec76(0x345)),_0xd1c5cb=_0xd1c5cb['replace'](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x47c9f0,_0x24a4c0,_0x4f9338,_0x4de641)=>_0x24a4c0+_0x2cec76(0x876)+_0x4f9338+'}{'+_0x4de641+'}'),_0xd1c5cb=_0xd1c5cb['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x2cec76(0x604))['replace'](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x2cec76(0x604))[_0x2cec76(0x54e)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x2cec76(0x604)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x2cec76(0x4b4)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x2cec76(0x4b4)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x2cec76(0x4b4)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x2cec76(0x4b4)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x2cec76(0x4b4)],[/(\d+)\s*°\s*C/g,_0x2cec76(0x4b4)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,'$1^{\x5ccirc}'],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x2cec76(0x4b4)]]['forEach'](([_0x1f8f90,_0x30fafa])=>{const _0x138c5a=_0x2cec76;_0xd1c5cb=_0xd1c5cb[_0x138c5a(0x54e)](_0x1f8f90,_0x30fafa);}),_0xd1c5cb=_0xd1c5cb[_0x2cec76(0x54e)](/(\d+)\s*%/g,_0x2cec76(0xa34)),_0xd1c5cb=_0xd1c5cb['replace'](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1^{$2}')[_0x2cec76(0x54e)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x2cec76(0x5b5))[_0x2cec76(0x54e)](/\{\{([^\{\}]+)\}\}/g,_0x2cec76(0x403)),[_0x2cec76(0x7cf),_0x2cec76(0x909),_0x2cec76(0x63c),_0x2cec76(0x30f),'ln'][_0x2cec76(0x28e)](_0x3e13dd=>{const _0x34bbb=_0x2cec76;_0xd1c5cb=_0xd1c5cb[_0x34bbb(0x54e)](new RegExp(_0x34bbb(0x98d)+_0x3e13dd+_0x34bbb(0x8ba),'g'),(_0x1eaf99,_0x444ad1)=>_0x444ad1+'\x5c'+_0x3e13dd+'(');});const _0x2ac680=(_0xd1c5cb['match'](/\\left\b/g)||[])[_0x2cec76(0x51f)],_0x2d2cfb=(_0xd1c5cb['match'](/\\right\b/g)||[])[_0x2cec76(0x51f)];if(_0x2ac680!==_0x2d2cfb)_0xd1c5cb=_0xd1c5cb['replace'](/\\left\b/g,'')[_0x2cec76(0x54e)](/\\right\b/g,'');return _0xd1c5cb=_0x3f809d(_0xd1c5cb),_0xd1c5cb;},_0x2445b0=_0x156fae=>{const _0x52ff58=_0x662375;if(/\$|\\\(|\\\[/[_0x52ff58(0x197)](_0x156fae))return _0x156fae;if(!_0x3d7876[_0x52ff58(0x197)](_0x156fae))return _0x156fae;const _0x80bfaf=_0x156fae['match'](/^\s*/)[0x0],_0x422899=_0x156fae['match'](/\s*$/)[0x0],_0x5998e3=_0x156fae[_0x52ff58(0x611)]();return _0x80bfaf+'$'+_0x5e2ff6(_0x5998e3)+'$'+_0x422899;},_0x520e58=_0x34b72c=>_0x34b72c['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x465a65[_0x662375(0x28e)](_0xfc87d6=>{const _0x3fbad8=_0x662375;if(_0xfc87d6[_0x3fbad8(0x265)]&&_0xfc87d6['querySelector']('mjx-container'))return;const _0x2022eb=_0x4d116f(_0xfc87d6);let _0x417294=_0x186a93(_0x2022eb);_0x417294=_0x417294[_0x3fbad8(0x54e)](/\$\$([\s\S]*?)\$\$/g,(_0xdd8b14,_0x4db015)=>'$$'+_0x5e2ff6(_0x4db015)+'$$')[_0x3fbad8(0x54e)](/\$([^$]*?)\$/g,(_0x27d723,_0x5145ec)=>'$'+_0x5e2ff6(_0x5145ec)+'$')['replace'](/\\\(([\s\S]*?)\\\)/g,(_0x290fce,_0x32a5a9)=>'\x5c('+_0x5e2ff6(_0x32a5a9)+'\x5c)')[_0x3fbad8(0x54e)](/\\\[([\s\S]*?)\\\]/g,(_0x157393,_0x2872b8)=>'\x5c['+_0x5e2ff6(_0x2872b8)+'\x5c]');let _0x350b49=_0x417294,_0x38aba4=0x0;const _0x3d2836=_0x357227=>_0x357227['replace'](/S([^S]{0,2000}?)S/g,(_0xb5616e,_0xc706e3)=>_0x3d7876[_0x3fbad8(0x197)](_0xc706e3)?'$'+_0x5e2ff6(_0xc706e3)+'$':_0xb5616e);while(_0x38aba4++<0x14){const _0x22c5b0=_0x3d2836(_0x350b49);if(_0x22c5b0===_0x350b49)break;_0x350b49=_0x22c5b0;}_0x417294=_0x350b49,_0x417294=_0x417294[_0x3fbad8(0x91b)]('\x0a')[_0x3fbad8(0x429)](_0x1783c6=>{const _0x1bcafb=_0x3fbad8;if(!(/[,\u3001，;；]/[_0x1bcafb(0x197)](_0x1783c6)||/\s(?:และ|หรือ)\s/[_0x1bcafb(0x197)](_0x1783c6))||!_0x3d7876['test'](_0x1783c6))return _0x1783c6;return _0x520e58(_0x1783c6)[_0x1bcafb(0x429)](_0x19980e=>{const _0x764db9=_0x1bcafb;if(/^\s(?:และ|หรือ)\s$/[_0x764db9(0x197)](_0x19980e)||/^[,\u3001，;；]$/[_0x764db9(0x197)](_0x19980e))return _0x19980e;return _0x2445b0(_0x19980e);})[_0x1bcafb(0x795)]('');})[_0x3fbad8(0x795)]('\x0a'),_0x417294=_0x417294['split']('\x0a')[_0x3fbad8(0x429)](_0x210b23=>{const _0x28faab=_0x3fbad8,_0x344aaf=_0x210b23['trim']();if(!_0x344aaf)return _0x210b23;const _0x54f68f=/\$|\\\(|\\\[/[_0x28faab(0x197)](_0x344aaf),_0x215fb5=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x28faab(0x197)](_0x344aaf);if(_0x54f68f||!_0x215fb5||_0x59bdfb(_0x344aaf))return _0x210b23;return _0x210b23['replace'](_0x344aaf,'$'+_0x5e2ff6(_0x344aaf)+'$');})[_0x3fbad8(0x795)]('\x0a'),_0x417294=_0x417294[_0x3fbad8(0x54e)](/(\d+)\s*°\s*C\b/g,(_0x33e411,_0x14bc34,_0x804d39,_0x2520c2)=>{const _0x27a866=_0x2520c2[_0x804d39-0x1];if(_0x27a866==='$'||_0x27a866==='S'||_0x27a866==='\x5c')return _0x33e411;return'$'+_0x14bc34+'^{\x5ccirc}\x5ctext{C}$';})[_0x3fbad8(0x54e)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x229168,_0x33bd00,_0x2250f6,_0x22e6eb)=>{const _0x2c7ccd=_0x3fbad8,_0x5f54d7=_0x22e6eb[_0x2250f6-0x1];if(_0x5f54d7==='$'||_0x5f54d7==='S'||_0x5f54d7==='\x5c')return _0x229168;return'$'+_0x33bd00+_0x2c7ccd(0x9b6);})[_0x3fbad8(0x54e)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x3a19c5,_0x3afc7d,_0x3fc470,_0x3d55c2)=>{const _0x47af28=_0x3fbad8,_0x318d05=_0x3d55c2[_0x3fc470-0x1];if(_0x318d05==='$'||_0x318d05==='S'||_0x318d05==='\x5c')return _0x3a19c5;return'$'+_0x3afc7d+_0x47af28(0x9b6);}),_0x417294=_0x417294[_0x3fbad8(0x54e)](/\$\s*\$/g,'$$'),_0x417294!==_0x2022eb&&(_0x4115e4(_0xfc87d6,_0x417294),_0x2efc14++);});if(_0x2efc14>0x0){showMessage(_0x662375(0x94d)+_0x2efc14+_0x662375(0x6fa));try{if(window[_0x662375(0x651)]&&MathJax['typesetPromise'])MathJax[_0x662375(0x626)]();window[_0x662375(0x9a3)]&&typeof renderMathInElement===_0x662375(0x369)&&renderMathInElement(_0x245ff8,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x36a9d1){}}else showMessage(_0x662375(0x563));}async function listenForCustomMathTopics(){const _0x2505e0=_0x1c8731,_0x268237=collection(db,_0x2505e0(0x804)+appId+_0x2505e0(0x97c));onSnapshot(_0x268237,_0x2bce4a=>{const _0x255a9e=_0x2505e0;customMathTopics=_0x2bce4a[_0x255a9e(0x1c5)][_0x255a9e(0x429)](_0x2e29cc=>({'id':_0x2e29cc['id'],..._0x2e29cc[_0x255a9e(0x4ff)]()})),renderTopicCheckboxes();},_0x58fb5e=>{const _0x4617b6=_0x2505e0;console[_0x4617b6(0xa1a)](_0x4617b6(0x840),_0x58fb5e);});}function handleSelectAllTopics(){const _0x3a0e29=_0x1c8731,_0xa4842=document[_0x3a0e29(0x2a0)]('math-topics-checkbox-container'),_0x3b0eb5=_0xa4842['querySelectorAll']('input[type=\x22checkbox\x22]');_0x3b0eb5[_0x3a0e29(0x28e)](_0x979dbb=>{const _0x3297c6=_0x3a0e29;_0x979dbb[_0x3297c6(0x5ff)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x22b99a=_0x1c8731,_0x55004a=document[_0x22b99a(0x2a0)]('math-topics-checkbox-container'),_0x32a526=_0x55004a[_0x22b99a(0x1a9)](_0x22b99a(0x438));_0x32a526['forEach'](_0xa2a6d1=>{const _0x4bb753=_0x22b99a;_0xa2a6d1[_0x4bb753(0x5ff)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x4c8e31){const _0xa2efb6=_0x1c8731;if(!_0x4c8e31)return;try{const _0x5d60fe=doc(db,_0xa2efb6(0x804)+appId+'/public/data/customMathTopics',_0x4c8e31);await deleteDoc(_0x5d60fe),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x1200d7){console[_0xa2efb6(0xa1a)](_0xa2efb6(0x850),_0x1200d7),showMessage(_0xa2efb6(0x4f7));}}async function handleAddCustomMathTopic(){const _0x494d1b=_0x1c8731,_0x954cf0=document[_0x494d1b(0x2a0)](_0x494d1b(0x8ce)),_0x2a788f=_0x954cf0[_0x494d1b(0x556)]['trim']();if(!_0x2a788f){showMessage(_0x494d1b(0x863));return;}if(!userId){showMessage(_0x494d1b(0x8cd));return;}try{const _0x569f1d=collection(db,_0x494d1b(0x804)+appId+_0x494d1b(0x97c));await addDoc(_0x569f1d,{'name':_0x2a788f,'createdAt':serverTimestamp()}),_0x954cf0[_0x494d1b(0x556)]='',showMessage(_0x494d1b(0x58e)+_0x2a788f+_0x494d1b(0x9bd));}catch(_0x23a084){console[_0x494d1b(0xa1a)](_0x494d1b(0x444),_0x23a084),showMessage(_0x494d1b(0x5be));}}async function handleUpdateOldQuizzes(){const _0xa713f1=_0x1c8731;showConfirmation(_0xa713f1(0x4ca),async()=>{const _0x27ea7d=_0xa713f1,_0x99e0d0=document['getElementById'](_0x27ea7d(0x86d)),_0x30892c=document['getElementById']('loader-text'),_0x2df783=_0x30892c[_0x27ea7d(0x531)];_0x99e0d0[_0x27ea7d(0x914)]['remove'](_0x27ea7d(0x674)),_0x30892c[_0x27ea7d(0x531)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x3a06d1=collection(db,_0x27ea7d(0x804)+appId+_0x27ea7d(0x60f)),_0x352e0b=await getDocs(_0x3a06d1);if(_0x352e0b[_0x27ea7d(0x6b4)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x5e4ac8=writeBatch(db);let _0x5336b7=0x0;_0x352e0b[_0x27ea7d(0x28e)](_0x56d640=>{const _0x486e0c=_0x27ea7d,_0x289e2f=_0x56d640[_0x486e0c(0x4ff)](),_0x59d55b=_0x56d640['id'];if(_0x289e2f[_0x486e0c(0x619)]&&_0x289e2f['questions'][_0x486e0c(0x51f)]>0x0&&!_0x289e2f[_0x486e0c(0x619)][0x0][_0x486e0c(0x748)]('id')){console[_0x486e0c(0x30f)](_0x486e0c(0x7d4)+_0x59d55b+'\x20('+_0x289e2f[_0x486e0c(0x39a)]+')'),_0x5336b7++;const _0x3c3659=_0x289e2f['questions'][_0x486e0c(0x429)]((_0x4a973a,_0x1af93a)=>{const _0x6ebf09=_0x486e0c;return{..._0x4a973a,'id':_0x4a973a['id']||'q_'+Date[_0x6ebf09(0x4f9)]()+'_'+_0x59d55b+'_'+_0x1af93a};}),_0x19c49d=doc(db,_0x486e0c(0x804)+appId+_0x486e0c(0x60f),_0x59d55b);_0x5e4ac8['update'](_0x19c49d,{'questions':_0x3c3659});}}),_0x5336b7>0x0?(_0x30892c[_0x27ea7d(0x531)]=_0x27ea7d(0xe8)+_0x5336b7+_0x27ea7d(0x451),await _0x5e4ac8[_0x27ea7d(0x717)](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x5336b7+_0x27ea7d(0x1bc))):showMessage(_0x27ea7d(0x561));}catch(_0x4a7d44){console['error'](_0x27ea7d(0x41c),_0x4a7d44),showMessage(_0x27ea7d(0x582)+_0x4a7d44['message']);}finally{_0x99e0d0[_0x27ea7d(0x914)][_0x27ea7d(0x6bb)](_0x27ea7d(0x674)),_0x30892c[_0x27ea7d(0x531)]=_0x2df783;}});}async function handleBulkUpdateQuizSettings(){const _0x38083f=_0x1c8731,_0x3581f0={'shuffle':document['getElementById']('bulk-shuffle-select')['value'],'resultsDisplay':document[_0x38083f(0x2a0)]('bulk-results-display-select')[_0x38083f(0x556)],'loopUntilPass':document[_0x38083f(0x2a0)](_0x38083f(0x6d7))['checked'],'isConfidenceScoringEnabled':document['getElementById'](_0x38083f(0x198))['checked'],'confidenceMode':document[_0x38083f(0x2a0)](_0x38083f(0x6a9))['value']};try{showMessage(_0x38083f(0x254));const _0x4394aa=await getDocs(collection(db,_0x38083f(0x804)+appId+_0x38083f(0x60f))),_0x1bd574=_0x4394aa[_0x38083f(0x1c5)]['map'](_0x19f505=>({'id':_0x19f505['id'],'data':_0x19f505['data']()})),_0x2013a2=_0x1bd574[_0x38083f(0x51f)];showConfirmation(_0x38083f(0x1c3)+_0x2013a2+_0x38083f(0x310),async()=>{const _0x126e87=_0x38083f,_0x54181f=document[_0x126e87(0x2a0)](_0x126e87(0x3f0));_0x54181f['disabled']=!![],_0x54181f[_0x126e87(0x42b)]=_0x126e87(0x3cb);try{const _0x2b2ff4=writeBatch(db);_0x1bd574['forEach'](_0x335ddb=>{const _0x148e92=_0x126e87,_0x5c727e=doc(db,_0x148e92(0x804)+appId+'/public/data/quizzes',_0x335ddb['id']),_0x5a1749={..._0x335ddb['data'][_0x148e92(0x141)]||{},..._0x3581f0};_0x2b2ff4[_0x148e92(0x580)](_0x5c727e,{'settings':_0x5a1749});}),await _0x2b2ff4[_0x126e87(0x717)](),document[_0x126e87(0x2a0)](_0x126e87(0x986))['classList'][_0x126e87(0x6bb)]('hidden'),showMessage(_0x126e87(0x979)+_0x2013a2+'\x20ชุดสำเร็จ!');}catch(_0x29e60a){console['error'](_0x126e87(0x220),_0x29e60a),showMessage(_0x126e87(0x169));}finally{_0x54181f[_0x126e87(0x13f)]=![],_0x54181f[_0x126e87(0x42b)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x1f80e5){console['error'](_0x38083f(0x867),_0x1f80e5),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0x1b3477=_0x1c8731,_0x32fbbe=document[_0x1b3477(0x2a0)](_0x1b3477(0x70d)),_0x43f62e=document[_0x1b3477(0x2a0)]('save-project-name-btn'),_0x204b1f=_0x32fbbe[_0x1b3477(0x531)][_0x1b3477(0x611)]();if(!_0x204b1f||!currentProjectId){showMessage(_0x1b3477(0x52d)),_0x32fbbe[_0x1b3477(0x531)]=currentProjectData[_0x1b3477(0x738)];return;}_0x43f62e['disabled']=!![],_0x43f62e[_0x1b3477(0x42b)]=_0x1b3477(0x174);try{const _0x391da6=doc(db,_0x1b3477(0x804)+appId+_0x1b3477(0x973),currentProjectId);await updateDoc(_0x391da6,{'projectName':_0x204b1f}),currentProjectData&&(currentProjectData[_0x1b3477(0x738)]=_0x204b1f),showMessage(_0x1b3477(0x2a7));}catch(_0x1aa365){console[_0x1b3477(0xa1a)](_0x1b3477(0x555),_0x1aa365),showMessage(_0x1b3477(0x501)),_0x32fbbe[_0x1b3477(0x531)]=currentProjectData[_0x1b3477(0x738)];}finally{_0x43f62e[_0x1b3477(0x914)][_0x1b3477(0x6bb)]('hidden'),_0x43f62e['disabled']=![],_0x43f62e[_0x1b3477(0x42b)]=_0x1b3477(0x16e);}}async function initialize(){const _0x223983=_0x1c8731;try{const _0x1963c3=initializeApp(firebaseConfig);db=getFirestore(_0x1963c3),auth=getAuth(_0x1963c3),setupAuthListener(),setupEventListeners(),showView(_0x223983(0xa36)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x4fbc09){console[_0x223983(0xa1a)]('Firebase\x20initialization\x20failed:',_0x4fbc09),showMessage(_0x223983(0x461));}}async function handleVerifyAnswersInEditor(){const _0x15445c=_0x1c8731,_0x14a31c=document[_0x15445c(0x2a0)](_0x15445c(0x28d));if(!_0x14a31c)return;const _0x2bad2e=document[_0x15445c(0x2a0)](_0x15445c(0x21c));_0x2bad2e[_0x15445c(0x13f)]=!![],_0x2bad2e[_0x15445c(0x42b)]=_0x15445c(0x50e);try{const _0x29b9f9=_0x14a31c['querySelectorAll']('.question-editor-item'),_0x54691b=Array[_0x15445c(0x6a0)](_0x29b9f9)[_0x15445c(0x429)]((_0xa5cb25,_0x252579)=>{const _0x291ff2=_0x15445c,_0xea00b4=_0xa5cb25[_0x291ff2(0x2f8)][_0x291ff2(0x97e)],_0x50116f=_0xa5cb25[_0x291ff2(0x265)](_0x291ff2(0x607))[_0x291ff2(0x556)];let _0x460cdb=null,_0x4f5173='';switch(_0xea00b4){case _0x291ff2(0x9f3):const _0x853ae5=_0xa5cb25[_0x291ff2(0x1a9)]('input[type=\x22text\x22]');_0x460cdb=Array['from'](_0x853ae5)[_0x291ff2(0x429)](_0x11eb0f=>_0x11eb0f[_0x291ff2(0x556)]);const _0x233829=_0xa5cb25[_0x291ff2(0x265)](_0x291ff2(0x114));_0x233829&&(_0x4f5173=_0x460cdb[parseInt(_0x233829[_0x291ff2(0x556)])]);break;case _0x291ff2(0x3e2):_0x4f5173=_0xa5cb25[_0x291ff2(0x265)](_0x291ff2(0x609))[_0x291ff2(0x556)];break;case'true_false':const _0xaf4e60=_0xa5cb25['querySelector'](_0x291ff2(0x114));_0x4f5173=_0xaf4e60?_0xaf4e60[_0x291ff2(0x556)]:'';break;case _0x291ff2(0x8b2):_0x4f5173=_0xa5cb25[_0x291ff2(0x265)](_0x291ff2(0xa06))[_0x291ff2(0x556)];break;}return{'question':_0x50116f,'options':_0x460cdb,'proposedAnswer':_0x4f5173};}),_0x3f5b72=_0x15445c(0x638)+JSON[_0x15445c(0x91e)](_0x54691b)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3294ac={'type':_0x15445c(0x64d),'items':{'type':_0x15445c(0x3e8),'properties':{'questionIndex':{'type':_0x15445c(0x4a6)},'isCorrect':{'type':_0x15445c(0x3cd)},'justification':{'type':_0x15445c(0x2ec)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x15445c(0x8a4),_0x15445c(0x69b),_0x15445c(0xc3)]}},_0x37eb00=await callAnalysisApi(_0x3f5b72,{'type':_0x15445c(0x3e8),'properties':{'result':_0x3294ac},'required':['result']});displayVerificationResultsInEditor(_0x37eb00[_0x15445c(0x35c)]);}catch(_0x143788){console[_0x15445c(0xa1a)](_0x15445c(0x5c1),_0x143788),showMessage(_0x15445c(0x1a7));}finally{_0x2bad2e['disabled']=![],_0x2bad2e[_0x15445c(0x42b)]=_0x15445c(0x522);}}function displayVerificationResultsInEditor(_0x55b87a){const _0x368b90=_0x1c8731;_0x55b87a[_0x368b90(0x28e)](_0x10b732=>{const _0x3735df=_0x368b90,_0x210eab=document['querySelector'](_0x3735df(0x190)+_0x10b732[_0x3735df(0x8a4)]+'\x22]');if(!_0x210eab)return;const _0x26ae58=_0x210eab[_0x3735df(0x265)]('.verification-result-editor');if(_0x26ae58)_0x26ae58['remove']();let _0x24c1c1='';if(_0x10b732['isCorrect'])_0x24c1c1=_0x3735df(0x913);else{const _0x27f84a=_0x10b732[_0x3735df(0x1ae)]?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x24c1c1=_0x3735df(0x767)+_0x27f84a+_0x3735df(0x253)+_0x10b732[_0x3735df(0xc3)]+_0x3735df(0x442)+(_0x10b732[_0x3735df(0x1ae)]?_0x3735df(0x514)+_0x10b732[_0x3735df(0x1ae)]+_0x3735df(0x28f):'')+_0x3735df(0x862);}_0x210eab['insertAdjacentHTML'](_0x3735df(0x550),_0x24c1c1);if(!_0x10b732[_0x3735df(0x69b)]&&_0x10b732[_0x3735df(0x1ae)]){const _0x343bf2=_0x210eab['dataset']['qType'],_0x17e3a1=_0x17dbd9=>{const _0x58fdb4=_0x3735df;if(!_0x17dbd9)return;_0x17dbd9[_0x58fdb4(0x914)][_0x58fdb4(0x6bb)](_0x58fdb4(0x474),_0x58fdb4(0x6b9),'duration-300'),setTimeout(()=>{const _0x3783db=_0x58fdb4;_0x17dbd9['classList'][_0x3783db(0x278)](_0x3783db(0x474));},0x9c4);};if(_0x343bf2===_0x3735df(0x9f3)){const _0xfc1207=Array[_0x3735df(0x6a0)](_0x210eab[_0x3735df(0x1a9)](_0x3735df(0x12b))),_0x5bd35f=_0xfc1207[_0x3735df(0x1f6)](_0xb317=>_0xb317[_0x3735df(0x556)][_0x3735df(0x611)]()[_0x3735df(0x263)]()===_0x10b732['suggestedAnswer']['trim']()[_0x3735df(0x263)]());if(_0x5bd35f!==-0x1){const _0x14466d=_0x210eab['querySelector'](_0x3735df(0x567)+_0x5bd35f+'\x22]');_0x14466d&&(_0x14466d[_0x3735df(0x5ff)]=!![],_0x17e3a1(_0x14466d[_0x3735df(0x76a)](_0x3735df(0x95b))));}}else{if(_0x343bf2===_0x3735df(0x3e2)||_0x343bf2===_0x3735df(0x8b2)){const _0x1895c1=_0x210eab['querySelector'](_0x3735df(0x576));_0x1895c1&&(_0x1895c1[_0x3735df(0x556)]=_0x10b732[_0x3735df(0x1ae)],_0x17e3a1(_0x1895c1));}else{if(_0x343bf2==='true_false'){const _0x3dcdef=_0x10b732[_0x3735df(0x1ae)][_0x3735df(0x611)]()[_0x3735df(0x263)](),_0x171cdb=_0x210eab[_0x3735df(0x265)]('input[type=\x22radio\x22][value=\x22'+_0x3dcdef+'\x22]');_0x171cdb&&(_0x171cdb[_0x3735df(0x5ff)]=!![],_0x17e3a1(_0x171cdb[_0x3735df(0x76a)](_0x3735df(0x95b))));}}}}}),showMessage(_0x368b90(0x847));}async function handleVerifyAnswers(){const _0xbd5587=_0x1c8731;if(!currentQuizData||!currentQuizData[_0xbd5587(0x619)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x3df9d3=document[_0xbd5587(0x2a0)]('verify-answers-btn');_0x3df9d3[_0xbd5587(0x13f)]=!![],_0x3df9d3[_0xbd5587(0x42b)]=_0xbd5587(0x50e);try{const _0x790309=currentQuizData[_0xbd5587(0x619)][_0xbd5587(0x429)]((_0x2ab6d0,_0x4bfe94)=>{const _0x405f0c=_0xbd5587;let _0x3e51b8='';const _0x4757b4=_0x2ab6d0[_0x405f0c(0x173)]||currentQuizData[_0x405f0c(0x13d)];switch(_0x4757b4){case _0x405f0c(0x9f3):_0x3e51b8=_0x2ab6d0[_0x405f0c(0x8bf)][_0x2ab6d0['correctAnswerIndex']];break;case _0x405f0c(0x3e2):_0x3e51b8=_0x2ab6d0[_0x405f0c(0x954)];break;case'true_false':_0x3e51b8=_0x2ab6d0['correctAnswer'][_0x405f0c(0x547)]();break;case _0x405f0c(0x8b2):_0x3e51b8=_0x2ab6d0['correctResponse'];break;}return{'question':_0x2ab6d0[_0x405f0c(0x332)]||_0x2ab6d0[_0x405f0c(0x2dc)],'options':_0x2ab6d0[_0x405f0c(0x8bf)]||null,'proposedAnswer':_0x3e51b8};}),_0x15ffc5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0xbd5587(0x91e)](_0x790309)+_0xbd5587(0x741),_0x1b5b8e={'type':_0xbd5587(0x64d),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0xbd5587(0x2ec)},'suggestedAnswer':{'type':_0xbd5587(0x2ec)}},'required':[_0xbd5587(0x8a4),_0xbd5587(0x69b),_0xbd5587(0xc3)]}},_0x3acf9f=await callAnalysisApi(_0x15ffc5,{'type':_0xbd5587(0x3e8),'properties':{'result':_0x1b5b8e},'required':[_0xbd5587(0x35c)]});displayVerificationResults(_0x3acf9f[_0xbd5587(0x35c)]);}catch(_0x45970c){console[_0xbd5587(0xa1a)](_0xbd5587(0x8ac),_0x45970c),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x3df9d3[_0xbd5587(0x13f)]=![],_0x3df9d3['innerHTML']=_0xbd5587(0x823);}}function displayVerificationResults(_0x2d4590){const _0x5f5511=_0x1c8731;_0x2d4590['forEach'](_0x5e65f3=>{const _0xd4c734=_0x5736,_0x4b6209=document['querySelector']('div[data-question-index=\x22'+_0x5e65f3[_0xd4c734(0x8a4)]+'\x22]');if(_0x4b6209){const _0x101fa0=_0x4b6209[_0xd4c734(0x265)](_0xd4c734(0x57d));if(_0x101fa0)_0x101fa0[_0xd4c734(0x278)]();let _0x2ad684='';_0x5e65f3[_0xd4c734(0x69b)]?_0x2ad684=_0xd4c734(0x96f):_0x2ad684=_0xd4c734(0x713)+_0x5e65f3[_0xd4c734(0xc3)]+_0xd4c734(0x70a)+(_0x5e65f3[_0xd4c734(0x1ae)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x5e65f3[_0xd4c734(0x1ae)]+_0xd4c734(0x28f):'')+_0xd4c734(0x8f9),_0x4b6209[_0xd4c734(0x1f1)]('beforeend',_0x2ad684);}}),showMessage(_0x5f5511(0x847));}function compareNumericalAnswers(_0x1336ab,_0x5129cb){const _0x54b26a=_0x1c8731,_0x46dfa9=String(_0x1336ab)['replace'](',','.')['replace'](/[^\d.-]/g,'')[_0x54b26a(0x611)](),_0x458b6f=String(_0x5129cb)[_0x54b26a(0x54e)](',','.')['replace'](/[^\d.-]/g,'')['trim']();if(_0x46dfa9===''||_0x458b6f==='')return![];const _0x464220=parseFloat(_0x46dfa9),_0x5b2cc2=parseFloat(_0x458b6f);if(isNaN(_0x464220)||isNaN(_0x5b2cc2))return![];return Math[_0x54b26a(0x9a1)](_0x464220-_0x5b2cc2)<0.001;}function isPotentiallyNumeric(_0x59dc88){const _0x135f28=_0x1c8731;if(typeof _0x59dc88!=='string'&&typeof _0x59dc88!==_0x135f28(0x6bc))return![];const _0x369d1c=String(_0x59dc88)['replace'](',','.')[_0x135f28(0x611)]();return _0x369d1c!==''&&!isNaN(parseFloat(_0x369d1c))&&isFinite(_0x369d1c);}async function gradeShortAnswer(_0xbb41cc,_0x450b09){const _0x47fdde=_0x1c8731,_0x5cb05f=_0x450b09[_0x47fdde(0x954)],_0x4a92bb=String(_0xbb41cc)['replace'](/\$/g,'')[_0x47fdde(0x611)](),_0x14133c=String(_0x5cb05f)['replace'](/\$/g,'')[_0x47fdde(0x611)]();if(_0x4a92bb[_0x47fdde(0x263)]()===_0x14133c[_0x47fdde(0x263)]())return!![];if(isPotentiallyNumeric(_0x4a92bb)&&isPotentiallyNumeric(_0x14133c)){if(compareNumericalAnswers(_0x4a92bb,_0x14133c))return!![];}return console[_0x47fdde(0x30f)](_0x47fdde(0x287)),await gradeShortAnswerWithAI(_0xbb41cc,_0x5cb05f);}async function revealAnswerForAdmin(_0x4c23bb,_0xfede0d){const _0x273d63=_0x1c8731,_0x1b3367=doc(db,_0x273d63(0x804)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x1b3367,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x25b427){const _0xb88b9d=_0x1c8731,_0x1d60fb=Object['values'](_0x25b427['players']||{})['filter'](_0x3476e2=>_0x3476e2['status']===_0xb88b9d(0x3fd));_0x1d60fb[_0xb88b9d(0x3a9)]((_0x1ef7dd,_0x53aa98)=>_0x53aa98[_0xb88b9d(0x968)]-_0x1ef7dd[_0xb88b9d(0x968)]);const _0x237843=_0x1d60fb[_0xb88b9d(0x469)](0x0,0x5),_0x220cf8=_0xb88b9d(0x9f6)+_0x237843[_0xb88b9d(0x429)]((_0x2e680b,_0x4b8ad8)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x4b8ad8+0x1)+'.\x20'+(_0x2e680b['name']||Object['keys'](_0x25b427[_0xb88b9d(0x4f6)])[_0xb88b9d(0x216)](_0x171a8f=>_0x25b427[_0xb88b9d(0x4f6)][_0x171a8f]===_0x2e680b))+_0xb88b9d(0x4f4)+_0x2e680b[_0xb88b9d(0x968)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x25b427[_0xb88b9d(0xa30)]+0x1===currentQuizData[_0xb88b9d(0x619)][_0xb88b9d(0x51f)]?_0xb88b9d(0x50f):'ข้อต่อไป')+_0xb88b9d(0x8bd);liveGameView[_0xb88b9d(0x42b)]=_0x220cf8,document[_0xb88b9d(0x2a0)](_0xb88b9d(0xa22))[_0xb88b9d(0x2aa)](_0xb88b9d(0x8a5),async()=>{const _0x2064ae=_0xb88b9d,_0x1a039d=doc(db,_0x2064ae(0x804)+appId+_0x2064ae(0x948),currentLiveGameId),_0x1448c7=_0x25b427['currentQuestionIndex']+0x1;if(_0x1448c7<currentQuizData[_0x2064ae(0x619)][_0x2064ae(0x51f)]){const _0x3ba05f={'currentQuestionIndex':_0x1448c7,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x2064ae(0x488)};Object[_0x2064ae(0x37d)](_0x25b427['players'])[_0x2064ae(0x28e)](_0x1d291e=>{const _0x51f724=_0x2064ae;_0x3ba05f[_0x51f724(0xe5)+_0x1d291e+_0x51f724(0x2fe)]=![];}),await updateDoc(_0x1a039d,_0x3ba05f);}else await updateDoc(_0x1a039d,{'status':_0x2064ae(0x765)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x4a72b5=>{const _0x1be880=_0x5736;if(_0x4a72b5){userId=_0x4a72b5[_0x1be880(0x649)],userIdDisplay['textContent']=userId;const _0x20a743=await loadUserPreferences();_0x20a743[_0x1be880(0x473)]&&(document[_0x1be880(0x2a0)](_0x1be880(0x695))[_0x1be880(0x556)]=_0x20a743[_0x1be880(0x473)]);globalDashboardSettings[_0x1be880(0x36b)]=_0x20a743[_0x1be880(0x36b)]||_0x1be880(0x8e4);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x4e0e29,_0x3b14b2){const _0x2e07ac=_0x1c8731;if(!userId)return;try{const _0x19c5c2=doc(db,_0x2e07ac(0x804)+appId+_0x2e07ac(0x5e1)+userId+_0x2e07ac(0x427)),_0x110afe={};_0x110afe[_0x4e0e29]=_0x3b14b2,await setDoc(_0x19c5c2,_0x110afe,{'merge':!![]});}catch(_0x2e0722){console[_0x2e07ac(0xa1a)](_0x2e07ac(0x683),_0x2e0722);}}async function loadUserPreferences(){const _0x365a73=_0x1c8731;if(!userId)return{};try{const _0xeb650b=doc(db,'artifacts/'+appId+_0x365a73(0x5e1)+userId+'/preferences/main'),_0x8b95e4=await getDoc(_0xeb650b);if(_0x8b95e4[_0x365a73(0x512)]())return _0x8b95e4[_0x365a73(0x4ff)]();return{};}catch(_0x457259){return console[_0x365a73(0xa1a)]('Error\x20loading\x20user\x20preferences:',_0x457259),{};}}function showPodiumView(_0x2aa27a,_0x3a0496=_0x1c8731(0x359)){const _0x500f47=_0x1c8731,_0x4243a3=Object[_0x500f47(0x489)](_0x2aa27a)[_0x500f47(0x429)](([_0x4091ba,_0x49b589])=>({'name':_0x4091ba,'score':_0x49b589[_0x500f47(0x968)]||0x0,'badges':_0x49b589['badges']||[],'hasPerfectScoreBonus':_0x49b589[_0x500f47(0x597)]||![]}));_0x4243a3[_0x500f47(0x3a9)]((_0x1ce579,_0x4838e7)=>{const _0x7983af=_0x500f47,_0x46ecfc=_0x4838e7[_0x7983af(0x968)]-_0x1ce579['score'];if(_0x46ecfc!==0x0)return _0x46ecfc;return(_0x4838e7['badges']['length']||0x0)-(_0x1ce579[_0x7983af(0x19e)][_0x7983af(0x51f)]||0x0);});const _0x4cd88c=_0x271f68=>{const _0x5801a7=_0x500f47;if(!_0x271f68||_0x271f68['length']===0x0)return'';const _0x55f813={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x5801a7(0xcf)+_0x271f68[_0x5801a7(0x429)](_0x29614f=>_0x55f813[_0x29614f]||'')[_0x5801a7(0x795)]('')+_0x5801a7(0x18a);},_0x1f68c9=_0x4243a3[_0x500f47(0x469)](0x3),_0x255e37=_0x1f68c9[_0x500f47(0x51f)]>0x0?_0x500f47(0x965)+_0x1f68c9[_0x500f47(0x429)]((_0x129cd0,_0x48a015)=>{const _0x4318b9=_0x500f47,_0x4e7d24=_0x129cd0[_0x4318b9(0x597)]?_0x4318b9(0x38f):'';return _0x4318b9(0xa02)+(_0x48a015+0x4)+_0x4318b9(0xbb)+_0x129cd0[_0x4318b9(0x3d6)]+_0x4318b9(0x466)+_0x129cd0[_0x4318b9(0x968)]+_0x4318b9(0x833)+_0x4e7d24+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x500f47(0x795)]('')+_0x500f47(0x37e):'',_0x2c4f1d=_0x500f47(0x193)+(_0x4243a3[0x1]?_0x500f47(0x249)+_0x4243a3[0x1][_0x500f47(0x3d6)]+_0x500f47(0x28f)+_0x4cd88c(_0x4243a3[0x1][_0x500f47(0x19e)])+_0x500f47(0x5e8)+_0x4243a3[0x1][_0x500f47(0x968)]+_0x500f47(0x833)+(_0x4243a3[0x1][_0x500f47(0x597)]?_0x500f47(0x725):'')+_0x500f47(0x3b0):_0x500f47(0x760))+_0x500f47(0x8f0)+(_0x4243a3[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x4243a3[0x0][_0x500f47(0x3d6)]+_0x500f47(0x28f)+_0x4cd88c(_0x4243a3[0x0][_0x500f47(0x19e)])+_0x500f47(0x41d)+_0x4243a3[0x0][_0x500f47(0x968)]+'\x20คะแนน\x20'+(_0x4243a3[0x0][_0x500f47(0x597)]?_0x500f47(0x725):'')+_0x500f47(0xb8):'<div\x20class=\x22flex-1\x22></div>')+_0x500f47(0x8f0)+(_0x4243a3[0x2]?_0x500f47(0x851)+_0x4243a3[0x2]['name']+_0x500f47(0x28f)+_0x4cd88c(_0x4243a3[0x2][_0x500f47(0x19e)])+_0x500f47(0x5e8)+_0x4243a3[0x2][_0x500f47(0x968)]+_0x500f47(0x833)+(_0x4243a3[0x2][_0x500f47(0x597)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x500f47(0x4ee):_0x500f47(0x760))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x255e37+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin'?_0x500f47(0xa27):_0x500f47(0x4b0))+_0x500f47(0x1e1);liveGameView['innerHTML']=_0x2c4f1d,currentMode===_0x500f47(0xfd)&&document[_0x500f47(0x2a0)](_0x500f47(0x200))[_0x500f47(0x2aa)]('click',async()=>{const _0x16ad4e=_0x500f47;let _0x3dec7d;_0x3a0496===_0x16ad4e(0x93f)?_0x3dec7d=doc(db,_0x16ad4e(0x804)+appId+_0x16ad4e(0x9a0),currentLiveGameId):_0x3dec7d=doc(db,'artifacts/'+appId+_0x16ad4e(0x948),currentLiveGameId),await deleteDoc(_0x3dec7d);});}function renderSyncSummaryView(_0x2bce56,_0x201180,_0x6ebdb7){const _0xa4946b=_0x1c8731,_0x6532ff=Object[_0xa4946b(0x390)](_0x2bce56[_0xa4946b(0x4f6)]||{}),_0x20ec45=_0x201180[_0xa4946b(0x173)]||_0x2bce56[_0xa4946b(0x2f9)]['quizType'];let _0x3b9a56=[];_0x20ec45==='true_false'?_0x3b9a56=[_0xa4946b(0x969),_0xa4946b(0x4bf)]:_0x3b9a56=_0x201180[_0xa4946b(0x8bf)]||[];const _0x13fea0=new Array(_0x3b9a56[_0xa4946b(0x51f)])[_0xa4946b(0x32f)](0x0),_0x4ab725={};_0x3b9a56['forEach']((_0x3d389c,_0x560bdc)=>{_0x4ab725[_0x560bdc]=[];}),Object[_0xa4946b(0x489)](_0x2bce56['players']||{})[_0xa4946b(0x28e)](([_0x26b4c5,_0x2234fd])=>{const _0x5848c0=_0xa4946b;if(_0x2234fd['status']!==_0x5848c0(0x4dd)&&_0x2234fd['lastAnswerIndex']!==undefined&&_0x2234fd[_0x5848c0(0x1d0)]!==null){const _0x1b6cbe=_0x2234fd[_0x5848c0(0x1d0)];_0x4ab725[_0x1b6cbe]!==undefined&&(_0x4ab725[_0x1b6cbe]['push'](_0x26b4c5),_0x13fea0[_0x1b6cbe]++);}});let _0x3fcb78='';_0x6ebdb7?_0x3fcb78=_0xa4946b(0x600):_0x3fcb78='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>';const _0x252a14=_0xa4946b(0x8d3)+_0x201180[_0xa4946b(0x2dc)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x13fea0['map']((_0x4c9fe4,_0x592aad)=>{const _0x38040d=_0xa4946b,_0x563e14=_0x4ab725[_0x592aad]['length']>0x0?_0x4ab725[_0x592aad][_0x38040d(0x795)](',\x20'):_0x38040d(0x6ab),_0x6d9eca=_0x38040d(0x59f);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x4c9fe4+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20'+_0x6d9eca+_0x38040d(0x620)+_0x592aad+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x3b9a56[_0x592aad]+_0x38040d(0x493)+_0x592aad+_0x38040d(0x1ee)+_0x563e14+_0x38040d(0x430);})[_0xa4946b(0x795)]('')+_0xa4946b(0x746)+_0x3fcb78+_0xa4946b(0x7d5);liveGameView[_0xa4946b(0x42b)]=_0x252a14;if(window[_0xa4946b(0x651)])MathJax['typesetPromise']();_0x6ebdb7&&(document[_0xa4946b(0x2a0)]('show-results-btn')[_0xa4946b(0x2aa)](_0xa4946b(0x8a5),async()=>{const _0x2c6dbb=_0xa4946b,_0x40ac2d=doc(db,_0x2c6dbb(0x804)+appId+_0x2c6dbb(0x9a0),currentLiveGameId);await updateDoc(_0x40ac2d,{'status':'results'});}),document['getElementById']('open-sync-scratchpad-btn')[_0xa4946b(0x8fe)]=()=>{openScratchpad(_0x201180,_0x3b9a56);});}async function handleShowStudentRankings(){const _0x472654=_0x1c8731,_0x430312=document[_0x472654(0x265)]('#student-quiz-leaderboard-content\x20thead');_0x430312&&(_0x430312['innerHTML']=_0x472654(0x858));const _0x5482a9=document[_0x472654(0x265)]('#student-project-leaderboard-content\x20thead');_0x5482a9&&(_0x5482a9[_0x472654(0x42b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x457f3b=document[_0x472654(0x2a0)](_0x472654(0x640));_0x457f3b[_0x472654(0x914)][_0x472654(0x278)]('hidden'),document[_0x472654(0x2a0)](_0x472654(0x446))[_0x472654(0x8fe)]=()=>_0x457f3b[_0x472654(0x914)]['add'](_0x472654(0x674));const _0x4638e9=document[_0x472654(0x2a0)](_0x472654(0x27c)),_0x437f59=document[_0x472654(0x2a0)]('student-project-leaderboard-tab'),_0x1d7f66=document[_0x472654(0x2a0)](_0x472654(0x65c)),_0x3a8929=document[_0x472654(0x2a0)](_0x472654(0x744));_0x4638e9[_0x472654(0x8fe)]=()=>{const _0x301668=_0x472654;_0x4638e9[_0x301668(0x914)]['add'](_0x301668(0x3fd)),_0x437f59[_0x301668(0x914)]['remove'](_0x301668(0x3fd)),_0x1d7f66[_0x301668(0x914)][_0x301668(0x278)](_0x301668(0x674)),_0x3a8929[_0x301668(0x914)][_0x301668(0x6bb)](_0x301668(0x674));},_0x437f59[_0x472654(0x8fe)]=()=>{const _0x4aed32=_0x472654;_0x437f59[_0x4aed32(0x914)][_0x4aed32(0x6bb)]('active'),_0x4638e9['classList'][_0x4aed32(0x278)](_0x4aed32(0x3fd)),_0x3a8929['classList'][_0x4aed32(0x278)](_0x4aed32(0x674)),_0x1d7f66['classList'][_0x4aed32(0x6bb)](_0x4aed32(0x674));};try{const _0x307fde=collection(db,_0x472654(0x804)+appId+_0x472654(0x39f)+currentQuizData['id']+_0x472654(0x9cd)),_0x3a1db1=await getDocs(_0x307fde),_0x3fa3a9=_0x3a1db1['docs']['map'](_0x34242c=>_0x34242c[_0x472654(0x4ff)]());renderQuizLeaderboard(_0x3fa3a9,currentQuizData,_0x472654(0x768));const _0x567f1b=collection(db,_0x472654(0x804)+appId+_0x472654(0x764)+currentQuizData[_0x472654(0x6fd)]+'/studentProfiles'),_0x2d35c2=await getDocs(_0x567f1b),_0x35dedd=_0x2d35c2[_0x472654(0x1c5)][_0x472654(0x429)](_0x54ab8b=>_0x54ab8b['data']());renderLeaderboard(_0x35dedd,_0x472654(0x789));}catch(_0x111c47){console[_0x472654(0xa1a)](_0x472654(0x839),_0x111c47),showMessage(_0x472654(0x476));}}async function handleSaveToBank(_0xd354ea){const _0x4bad85=_0x1c8731,_0x516589=_0xd354ea['currentTarget'],_0x2a92cf=_0x516589[_0x4bad85(0x2f8)]['index'],_0x27ac51=currentQuizData[_0x4bad85(0x619)][_0x2a92cf];if(!userId){showMessage(_0x4bad85(0x179));return;}try{const _0xdeaa4={..._0x27ac51,'originalTopic':currentQuizData[_0x4bad85(0x39a)],'savedAt':serverTimestamp()},_0xf0d36f=collection(db,_0x4bad85(0x804)+appId+_0x4bad85(0x5e1)+userId+_0x4bad85(0x41f));await addDoc(_0xf0d36f,_0xdeaa4),showMessage(_0x4bad85(0xa20)),_0x516589['classList']['remove']('text-purple-600'),_0x516589['classList']['add']('text-green-600'),_0x516589['disabled']=!![];}catch(_0x183782){console['error'](_0x4bad85(0x5aa),_0x183782),showMessage(_0x4bad85(0x501));}}function listenForStarredQuizzes(){const _0x3f246a=_0x1c8731;if(!userId)return;const _0x2767de=collection(db,_0x3f246a(0x804)+appId+_0x3f246a(0x60f)),_0x4fd218=query(_0x2767de,where('isStarred','==',!![]));onSnapshot(_0x4fd218,_0x4723ff=>{const _0xf280ba=_0x3f246a;starredQuizzes=_0x4723ff[_0xf280ba(0x1c5)]['map'](_0x2348d2=>({'id':_0x2348d2['id'],..._0x2348d2[_0xf280ba(0x4ff)]()})),currentProjectId===_0xf280ba(0x5bb)?renderQuizzes():renderProjects();},_0x205946=>{const _0x3ae9dd=_0x3f246a;console[_0x3ae9dd(0xa1a)](_0x3ae9dd(0x37f),_0x205946);});}function exportQuizAsWorksheetPDF(){const _0x1fcf5c=_0x1c8731;if(!currentQuizData||!currentQuizData[_0x1fcf5c(0x619)]){showMessage(_0x1fcf5c(0x676));return;}const _0x408a38=currentQuizData,_0x3d7890=window['open']('',_0x1fcf5c(0x5ba)),_0x428667=_0x1d87a0=>String[_0x1fcf5c(0x3eb)](0x41+_0x1d87a0),_0x421179=_0x1fcf5c(0x669)+_0x408a38[_0x1fcf5c(0x39a)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x408a38['topic']+_0x1fcf5c(0x225)+_0x408a38[_0x1fcf5c(0x619)][_0x1fcf5c(0x429)]((_0x41fcec,_0x2baa23)=>{const _0x48254d=_0x1fcf5c;let _0x1418f8='';const _0x288083=_0x41fcec[_0x48254d(0x173)]||_0x408a38['quizType'];switch(_0x288083){case _0x48254d(0x9f3):case _0x48254d(0x1fc):_0x1418f8=_0x48254d(0x46d)+_0x41fcec[_0x48254d(0x8bf)][_0x48254d(0x429)]((_0x271451,_0x3f070b)=>_0x48254d(0x2c9)+_0x428667(_0x3f070b)+'.\x20'+_0x271451+_0x48254d(0x26b))[_0x48254d(0x795)](_0x48254d(0x45c))+_0x48254d(0x18a);break;case _0x48254d(0x19b):_0x1418f8='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x1418f8=_0x48254d(0x8ae);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x2baa23+0x1)+_0x48254d(0x196)+(_0x41fcec[_0x48254d(0x332)]||_0x41fcec[_0x48254d(0x2dc)])+_0x48254d(0x18e)+(_0x41fcec[_0x48254d(0x25f)]?_0x48254d(0x800)+_0x41fcec['imageCode']+_0x48254d(0x18a):'')+_0x48254d(0x96c)+_0x1418f8+_0x48254d(0x3a1);})[_0x1fcf5c(0x795)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x3d7890['document'][_0x1fcf5c(0x328)](_0x421179),_0x3d7890['document'][_0x1fcf5c(0x3b6)](),_0x3d7890[_0x1fcf5c(0x703)]=function(){setTimeout(()=>{const _0x3535b3=_0x5736;_0x3d7890[_0x3535b3(0xe4)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x1d909f=_0x1c8731;if(!currentQuizData||!currentQuizData[_0x1d909f(0x619)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x4d4650=currentQuizData,_0xb21ffc=window['open']('',_0x1d909f(0x5ba)),_0x277563=_0x4921cf=>String[_0x1d909f(0x3eb)](0x41+_0x4921cf),_0x15fe2c=_0x1d909f(0x9b2)+_0x4d4650[_0x1d909f(0x39a)]+_0x1d909f(0x99b)+_0x4d4650[_0x1d909f(0x619)][_0x1d909f(0x429)]((_0x349672,_0xbb2006)=>{const _0x57da79=_0x1d909f;let _0x5728b0='';const _0x49aa5d=_0x349672[_0x57da79(0x173)]||_0x4d4650['quizType'];switch(_0x49aa5d){case _0x57da79(0x9f3):case'fill_in_with_choices':_0x5728b0=_0x57da79(0x9e6)+_0x349672[_0x57da79(0x8bf)][_0x57da79(0x429)]((_0x16f505,_0x3a5423)=>_0x57da79(0xa17)+_0x277563(_0x3a5423)+'.\x20'+_0x16f505+_0x57da79(0x30b))['join'](_0x57da79(0x45c))+_0x57da79(0x862);break;case _0x57da79(0x19b):_0x5728b0=_0x57da79(0x363);break;default:_0x5728b0='';break;}return _0x57da79(0x503)+_0x4d4650[_0x57da79(0x39a)]+_0x57da79(0x3c1)+(_0xbb2006+0x1)+_0x57da79(0x415)+(_0x349672[_0x57da79(0x332)]||_0x349672['questionText'])+_0x57da79(0x18e)+(_0x349672[_0x57da79(0x25f)]?_0x57da79(0x9cf)+_0x349672[_0x57da79(0x25f)]+_0x57da79(0x18a):'')+_0x57da79(0x96c)+_0x5728b0+_0x57da79(0x75c);})[_0x1d909f(0x795)]('')+_0x1d909f(0x54f);_0xb21ffc[_0x1d909f(0x739)][_0x1d909f(0x328)](_0x15fe2c),_0xb21ffc[_0x1d909f(0x739)][_0x1d909f(0x3b6)](),_0xb21ffc[_0x1d909f(0x703)]=function(){setTimeout(()=>{const _0xce15c1=_0x5736;_0xb21ffc[_0xce15c1(0xe4)]();},0x5dc);};}async function handleToggleStarQuiz(_0x33866e){const _0x23fbad=_0x1c8731,_0x4f28dd=doc(db,_0x23fbad(0x804)+appId+_0x23fbad(0x60f),_0x33866e);try{const _0x4d3ce2=await getDoc(_0x4f28dd);if(_0x4d3ce2['exists']()){const _0x2adf8d=_0x4d3ce2[_0x23fbad(0x4ff)]()[_0x23fbad(0xd8)]||![];await updateDoc(_0x4f28dd,{'isStarred':!_0x2adf8d});}}catch(_0x291153){console[_0x23fbad(0xa1a)](_0x23fbad(0x7e0),_0x291153),showMessage(_0x23fbad(0x4af));}}async function displayQuestionBank(){const _0x15f85f=_0x1c8731,_0x5d52e2=document[_0x15f85f(0x2a0)](_0x15f85f(0x7b5));_0x5d52e2['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x5be139=collection(db,_0x15f85f(0x804)+appId+_0x15f85f(0x5e1)+userId+'/questionBank'),_0x239e8f=query(_0x5be139),_0x2eef6c=await getDocs(_0x239e8f);if(_0x2eef6c[_0x15f85f(0x6b4)]){_0x5d52e2[_0x15f85f(0x42b)]=_0x15f85f(0x875);return;}let _0x1e17b2=_0x2eef6c['docs'][_0x15f85f(0x429)](_0x25d6d0=>{const _0xd3af11=_0x15f85f,_0x30ec13=_0x25d6d0[_0xd3af11(0x4ff)](),_0x3039a3=_0x25d6d0['id'];return _0xd3af11(0x6a8)+JSON['stringify'](_0x30ec13)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x30ec13[_0xd3af11(0x2dc)]||_0x30ec13[_0xd3af11(0x332)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x30ec13[_0xd3af11(0xf1)]+_0xd3af11(0x9c8);})[_0x15f85f(0x795)]('');_0x5d52e2['innerHTML']=_0x15f85f(0x9e9)+_0x1e17b2+_0x15f85f(0x384),document['getElementById'](_0x15f85f(0x19c))[_0x15f85f(0x2aa)](_0x15f85f(0x8a5),createQuizFromBank);}catch(_0x549478){console[_0x15f85f(0xa1a)]('Error\x20displaying\x20question\x20bank:',_0x549478),_0x5d52e2[_0x15f85f(0x42b)]=_0x15f85f(0x46b);}}function showAdminLiveQuestionView(_0x1b0f0f,_0x424447,_0xa7a1b2){const _0x4f83a2=_0x1c8731,_0x24db57=_0x1b0f0f['questionType']||currentQuizData[_0x4f83a2(0x13d)];let _0x41adba='';if(_0x24db57===_0x4f83a2(0x9f3)||_0x24db57===_0x4f83a2(0x19b)){const _0x3b01df=_0x24db57==='true_false'?['ใช่',_0x4f83a2(0xee)]:_0x1b0f0f[_0x4f83a2(0x8bf)],_0x24f922=_0x24db57===_0x4f83a2(0x19b)?_0x1b0f0f[_0x4f83a2(0x701)]?0x0:0x1:_0x1b0f0f['correctAnswerIndex'];_0x41adba=_0x3b01df[_0x4f83a2(0x429)]((_0x19f0e5,_0x95a345)=>_0x4f83a2(0x6c2)+(_0x95a345===_0x24f922)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x19f0e5+_0x4f83a2(0x8a2))[_0x4f83a2(0x795)]('');}else{if(_0x24db57===_0x4f83a2(0x8b2)){const _0x3aca97=_0x1b0f0f[_0x4f83a2(0x323)]||[];_0x41adba=_0x3aca97[_0x4f83a2(0x429)](_0x4f6d25=>_0x4f83a2(0x6c2)+(_0x4f6d25===_0x1b0f0f[_0x4f83a2(0x2f5)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f6d25+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4f83a2(0x795)]('');}}const _0x42cd1d=_0x1b0f0f[_0x4f83a2(0x332)]||_0x1b0f0f[_0x4f83a2(0x2dc)],_0x37c466='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x424447+0x1)+_0x4f83a2(0x83e)+_0xa7a1b2+_0x4f83a2(0x59d)+currentLiveGamePin+_0x4f83a2(0x950)+_0x42cd1d+_0x4f83a2(0x1d5)+_0x41adba+_0x4f83a2(0x24b);liveGameView[_0x4f83a2(0x42b)]=_0x37c466,window['MathJax']&&MathJax[_0x4f83a2(0x626)]&&MathJax[_0x4f83a2(0x626)]([liveGameView]),document['getElementById']('reveal-answer-btn')['addEventListener'](_0x4f83a2(0x8a5),()=>revealAnswerForAdmin(_0x424447,_0xa7a1b2)),document[_0x4f83a2(0x2a0)](_0x4f83a2(0x7f0))['addEventListener'](_0x4f83a2(0x8a5),async()=>{const _0x3ce365=_0x4f83a2;showConfirmation(_0x3ce365(0x5cc),async()=>{const _0x33550f=_0x3ce365,_0x8ea958=doc(db,_0x33550f(0x804)+appId+_0x33550f(0x948),currentLiveGameId);await updateDoc(_0x8ea958,{'status':_0x33550f(0x765)});});}),document['getElementById'](_0x4f83a2(0x628))[_0x4f83a2(0x2aa)](_0x4f83a2(0x8a5),()=>{const _0x5d9dac=_0x4f83a2;document[_0x5d9dac(0x2a0)](_0x5d9dac(0x28c))[_0x5d9dac(0x914)][_0x5d9dac(0x5d4)](_0x5d9dac(0x674));});}function showStudentLiveQuestionView(_0x58e4c0,_0x433482,_0x4f52e7){const _0x466a5b=_0x1c8731,_0x1ffb20=_0x58e4c0[_0x466a5b(0x173)]||currentQuizData[_0x466a5b(0x13d)];let _0x2cc1a0='';if(_0x1ffb20==='multiple_choice'||_0x1ffb20==='true_false'){const _0x1cd9f0=_0x1ffb20===_0x466a5b(0x19b)?[_0x466a5b(0x3c6),'ไม่ใช่']:_0x58e4c0[_0x466a5b(0x8bf)];_0x2cc1a0=_0x1cd9f0[_0x466a5b(0x429)]((_0x11c42d,_0x29de4e)=>_0x466a5b(0x6c6)+_0x29de4e+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x11c42d+_0x466a5b(0xda))[_0x466a5b(0x795)]('');}else{if(_0x1ffb20===_0x466a5b(0x8b2)){const _0x20e5c8=_0x58e4c0[_0x466a5b(0x323)]||[];_0x2cc1a0=_0x20e5c8['map']((_0x38889c,_0x36cc72)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x36cc72+_0x466a5b(0x3c2)+_0x38889c+_0x466a5b(0xda))['join']('');}else _0x1ffb20==='short_answer'&&(_0x2cc1a0=_0x466a5b(0x2e0));}const _0x27fccc=_0x58e4c0[_0x466a5b(0x332)]||_0x58e4c0['questionText'],_0x5e2545='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x433482+0x1)+'\x20/\x20'+_0x4f52e7+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x27fccc+_0x466a5b(0x2d7)+_0x2cc1a0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x5e2545;window[_0x466a5b(0x651)]&&MathJax[_0x466a5b(0x626)]&&MathJax['typesetPromise']([liveGameView]);const _0x5caf74=document['getElementById']('live-submit-short-answer-btn');_0x5caf74&&_0x5caf74[_0x466a5b(0x2aa)]('click',()=>{const _0xab2e58=_0x466a5b,_0x458350=document[_0xab2e58(0x2a0)](_0xab2e58(0x918))[_0xab2e58(0x556)];handleLiveAnswer(_0x458350,_0x58e4c0);}),document[_0x466a5b(0x2a0)](_0x466a5b(0x540))[_0x466a5b(0x2aa)](_0x466a5b(0x8a5),_0x371629=>{const _0x58c8fa=_0x466a5b,_0x10a1c9=_0x371629[_0x58c8fa(0x646)][_0x58c8fa(0x76a)](_0x58c8fa(0x3f6));if(_0x10a1c9){const _0x41c033=parseInt(_0x10a1c9[_0x58c8fa(0x2f8)][_0x58c8fa(0x7f3)]);handleLiveAnswer(_0x41c033,_0x58e4c0);}});}async function handleLiveAnswer(_0x285483,_0x4e8b6b){const _0x31b461=_0x1c8731;document[_0x31b461(0x1a9)](_0x31b461(0x418))[_0x31b461(0x28e)](_0x501a1a=>_0x501a1a[_0x31b461(0x13f)]=!![]);const _0x113270=_0x4e8b6b[_0x31b461(0x173)]||currentQuizData[_0x31b461(0x13d)];let _0x595658=![],_0x247975=_0x285483;if(_0x113270===_0x31b461(0x3e2)){const _0x596c74=(_0x285483||'')[_0x31b461(0x547)]();_0x595658=await gradeShortAnswer(_0x596c74,_0x4e8b6b);}else{if(_0x113270===_0x31b461(0x9f3))_0x595658=_0x285483===_0x4e8b6b[_0x31b461(0x587)];else{if(_0x113270===_0x31b461(0x19b)){const _0x5cbe97=_0x4e8b6b[_0x31b461(0x701)];_0x595658=_0x285483===0x0&&_0x5cbe97||_0x285483===0x1&&!_0x5cbe97;}else{if(_0x113270===_0x31b461(0x8b2)){const _0x624d11=_0x4e8b6b[_0x31b461(0x323)][_0x285483];_0x595658=_0x624d11===_0x4e8b6b[_0x31b461(0x2f5)],_0x247975=_0x624d11;}}}}const _0x27247c=doc(db,_0x31b461(0x804)+appId+_0x31b461(0x948),currentLiveGameId),_0x246585={};_0x246585[_0x31b461(0xe5)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x246585['players.'+currentStudentName+'.lastAnswerCorrect']=_0x595658,_0x246585[_0x31b461(0xe5)+currentStudentName+_0x31b461(0x3b8)]=_0x113270==='short_answer'||_0x113270===_0x31b461(0x8b2)?null:_0x285483,_0x246585[_0x31b461(0xe5)+currentStudentName+_0x31b461(0x714)]=_0x247975,_0x246585[_0x31b461(0xe5)+currentStudentName+_0x31b461(0x353)]=serverTimestamp(),_0x246585[_0x31b461(0xe5)+currentStudentName+_0x31b461(0x109)]=![],await updateDoc(_0x27247c,_0x246585),liveGameView[_0x31b461(0x42b)]=_0x31b461(0x529);}function showAdminSummaryView(_0x5f1c37,_0x2db5df){const _0x52f866=_0x1c8731,_0x46e9ea=Object[_0x52f866(0x390)](_0x5f1c37[_0x52f866(0x4f6)]||{}),_0x39f8d7=_0x2db5df['questionType']||currentQuizData[_0x52f866(0x13d)],_0x259630=_0x39f8d7===_0x52f866(0x19b)?[_0x52f866(0x3c6),'ไม่ใช่']:_0x2db5df['options']||_0x2db5df['allResponses']||[],_0x581f2b={},_0xed5474=new Array(_0x259630['length'])[_0x52f866(0x32f)](0x0);_0x259630[_0x52f866(0x28e)]((_0xcf444a,_0x345123)=>{_0x581f2b[_0x345123]=[];}),Object[_0x52f866(0x489)](_0x5f1c37[_0x52f866(0x4f6)]||{})['forEach'](([_0x500d78,_0x2a85e8])=>{const _0x2cd016=_0x52f866;if(_0x2a85e8['status']===_0x2cd016(0x3fd)&&_0x2a85e8[_0x2cd016(0x1d0)]!==undefined){const _0x1439e8=_0x2a85e8[_0x2cd016(0x1d0)];_0x581f2b[_0x1439e8]&&(_0x581f2b[_0x1439e8]['push'](_0x500d78),_0xed5474[_0x1439e8]++);}});const _0x240562=Math['max'](..._0xed5474,0x1),_0x1a60ad=_0x52f866(0x168)+(_0x2db5df[_0x52f866(0x332)]||_0x2db5df[_0x52f866(0x2dc)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xed5474[_0x52f866(0x429)]((_0x512435,_0xb840d3)=>{const _0x54c361=_0x52f866,_0x4a0702=_0x581f2b[_0xb840d3]['length']>0x0?_0x581f2b[_0xb840d3][_0x54c361(0x795)](',\x20'):_0x54c361(0x6ab);let _0xc47135=![];if(_0x39f8d7==='multiple_choice')_0xc47135=_0xb840d3===_0x2db5df[_0x54c361(0x587)];else{if(_0x39f8d7==='true_false'){const _0x9021c3=_0x2db5df[_0x54c361(0x701)];_0xc47135=_0x9021c3&&_0xb840d3===0x0||!_0x9021c3&&_0xb840d3===0x1;}else _0x39f8d7===_0x54c361(0x8b2)&&(_0xc47135=_0x259630[_0xb840d3]===_0x2db5df[_0x54c361(0x2f5)]);}const _0x22fea9=_0xc47135?_0x54c361(0x6db):_0x54c361(0x77e);return _0x54c361(0x544)+_0x512435+_0x54c361(0x71a)+_0x22fea9+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0xb840d3+_0x54c361(0x23c)+_0x259630[_0xb840d3]+_0x54c361(0x493)+_0xb840d3+_0x54c361(0x1ee)+_0x4a0702+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')+_0x52f866(0x18b);liveGameView[_0x52f866(0x42b)]=_0x1a60ad;if(window['MathJax'])MathJax[_0x52f866(0x626)]();document[_0x52f866(0x2a0)]('show-leaderboard-btn')[_0x52f866(0x2aa)]('click',async()=>{const _0x46191c=_0x52f866,_0x391013=doc(db,'artifacts/'+appId+_0x46191c(0x948),currentLiveGameId);await updateDoc(_0x391013,{'questionStatus':_0x46191c(0x72d)});}),document[_0x52f866(0x2a0)](_0x52f866(0x63e))[_0x52f866(0x2aa)](_0x52f866(0x8a5),()=>{openScratchpad(_0x2db5df,_0x259630);});}function showPlayerSummaryView(_0x5b9be1,_0x3cf112){const _0x1bdbd3=_0x1c8731,_0x1b67f1=Object[_0x1bdbd3(0x390)](_0x5b9be1[_0x1bdbd3(0x4f6)]||{}),_0x598229=_0x5b9be1[_0x1bdbd3(0x4f6)][_0x3cf112],_0x5aad72=_0x1b67f1[_0x1bdbd3(0x29a)](_0x35840b=>_0x35840b[_0x1bdbd3(0x912)]===_0x1bdbd3(0x3fd))['sort']((_0x135afb,_0x24e368)=>_0x24e368['score']-_0x135afb[_0x1bdbd3(0x968)]),_0x503c22=_0x5aad72['findIndex'](_0x17516f=>_0x17516f===_0x598229)+0x1,_0xa77566=_0x598229[_0x1bdbd3(0x21e)]?_0x1bdbd3(0x596):'ผิด',_0x481e8e=_0x598229['lastAnswerCorrect']?_0x1bdbd3(0x454):'bg-red-500',_0x1aa87e=_0x598229[_0x1bdbd3(0x3c7)]||0x0,_0x1aefc4='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x32143d=_0x1bdbd3(0x40d)+_0x1aefc4+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x481e8e+_0x1bdbd3(0x7f2)+_0xa77566+_0x1bdbd3(0x535)+_0x1aa87e+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x503c22>0x0?_0x503c22:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x1bdbd3(0x42b)]=_0x32143d;}function createQuizFromBank(){const _0x8bef36=_0x1c8731,_0x3ae9a5=document[_0x8bef36(0x1a9)](_0x8bef36(0xa12));if(_0x3ae9a5[_0x8bef36(0x51f)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x28966c=[];_0x3ae9a5[_0x8bef36(0x28e)](_0x114884=>{const _0x55871e=_0x8bef36;_0x28966c[_0x55871e(0x74b)](JSON[_0x55871e(0x4ec)](_0x114884[_0x55871e(0x556)]));});const _0x34393b={'topic':_0x8bef36(0x841),'questions':_0x28966c};displayGeneratedQuiz(_0x34393b);}function showAdminLobbyView(_0x28c797,_0x2fc601){const _0x434cc4=_0x1c8731;showView(_0x434cc4(0x116));const _0x2eeb6a=_0x434cc4(0xd9)+_0x2fc601+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x28c797+_0x434cc4(0xfb);liveGameView[_0x434cc4(0x42b)]=_0x2eeb6a,document['getElementById']('start-game-btn')[_0x434cc4(0x2aa)](_0x434cc4(0x8a5),async()=>{const _0xdbd65b=_0x434cc4;if(!currentQuizData||!currentQuizData[_0xdbd65b(0x619)]||currentQuizData[_0xdbd65b(0x619)][_0xdbd65b(0x51f)]===0x0){showMessage(_0xdbd65b(0x10a));return;}try{const _0x4ce5b3=doc(db,_0xdbd65b(0x804)+appId+_0xdbd65b(0x948),currentLiveGameId);await updateDoc(_0x4ce5b3,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x42fd84=currentQuizData[_0xdbd65b(0x619)][0x0],_0x3ceec5=currentQuizData[_0xdbd65b(0x619)][_0xdbd65b(0x51f)];showAdminLiveQuestionView(_0x42fd84,0x0,_0x3ceec5);}catch(_0x765a1b){console[_0xdbd65b(0xa1a)](_0xdbd65b(0x47a),_0x765a1b),showMessage(_0xdbd65b(0x8da));}});}async function openGlobalLiveModal(){const _0x1f00d7=_0x1c8731;if(allQuizzesGlobal[_0x1f00d7(0x51f)]===0x0){const _0x1ccf35=await getDocs(collection(db,'artifacts/'+appId+_0x1f00d7(0x60f)));allQuizzesGlobal=_0x1ccf35[_0x1f00d7(0x1c5)][_0x1f00d7(0x429)](_0x57a636=>({'id':_0x57a636['id'],..._0x57a636[_0x1f00d7(0x4ff)]()}));}renderGlobalQuizList(''),document['getElementById']('global-live-game-modal')['classList'][_0x1f00d7(0x278)](_0x1f00d7(0x674));}async function openQuizBankModal(){const _0x2c22a7=_0x1c8731;if(allQuizzesGlobal[_0x2c22a7(0x51f)]===0x0){const _0x882de0=await getDocs(collection(db,'artifacts/'+appId+_0x2c22a7(0x60f)));allQuizzesGlobal=_0x882de0[_0x2c22a7(0x1c5)][_0x2c22a7(0x429)](_0x5c0517=>({'id':_0x5c0517['id'],..._0x5c0517[_0x2c22a7(0x4ff)]()}));}renderQuizBankList(''),document['getElementById']('quiz-bank-modal')[_0x2c22a7(0x914)][_0x2c22a7(0x278)](_0x2c22a7(0x674));}function renderQuizBankList(_0x474a09=''){const _0x4e9cad=_0x1c8731,_0xeea8b8=document[_0x4e9cad(0x2a0)](_0x4e9cad(0x1e2)),_0x26fa4f=_0x474a09[_0x4e9cad(0x263)]()[_0x4e9cad(0x611)](),_0x3f84ea=allQuizzesGlobal['map'](_0xed0efa=>({..._0xed0efa,'projectName':allProjects['find'](_0x2a4960=>_0x2a4960['id']===_0xed0efa[_0x4e9cad(0x6fd)])?.['projectName']||'N/A'}))[_0x4e9cad(0x29a)](_0x31c2db=>(_0x31c2db[_0x4e9cad(0x39a)]||'')[_0x4e9cad(0x263)]()['includes'](_0x26fa4f)||(_0x31c2db['projectName']||'')[_0x4e9cad(0x263)]()[_0x4e9cad(0x4c6)](_0x26fa4f)||_0x31c2db['id'][_0x4e9cad(0x547)]()[_0x4e9cad(0x4c6)](_0x26fa4f));document[_0x4e9cad(0x2a0)](_0x4e9cad(0x400))[_0x4e9cad(0x531)]='('+_0x3f84ea['length']+_0x4e9cad(0x55b),_0xeea8b8[_0x4e9cad(0x42b)]=_0x3f84ea[_0x4e9cad(0x51f)]?_0x3f84ea[_0x4e9cad(0x429)](_0x94d982=>_0x4e9cad(0x479)+_0x94d982['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x94d982[_0x4e9cad(0x39a)]||'(ไม่มีชื่อ)')+_0x4e9cad(0x94e)+(_0x94d982[_0x4e9cad(0x619)]?.[_0x4e9cad(0x51f)]||0x0)+_0x4e9cad(0x262)+_0x94d982[_0x4e9cad(0x738)]+_0x4e9cad(0x806)+_0x94d982['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x94d982['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x94d982['id']+_0x4e9cad(0x27a)+_0x94d982['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x94d982['id']+_0x4e9cad(0x43b)+_0x94d982['id']+_0x4e9cad(0x73c)+_0x94d982['id']+_0x4e9cad(0x1fe)+_0x94d982[_0x4e9cad(0x39a)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x4e9cad(0x795)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0xeea8b8['querySelectorAll'](_0x4e9cad(0x340))[_0x4e9cad(0x28e)](_0x4707a3=>{const _0x108a19=_0x4e9cad;_0x4707a3[_0x108a19(0x2aa)](_0x108a19(0x8a5),()=>{const _0x173aa9=_0x108a19,_0xd0c2ea=_0x4707a3[_0x173aa9(0x2f8)]['id'];document[_0x173aa9(0x2a0)]('quiz-bank-modal')[_0x173aa9(0x914)][_0x173aa9(0x6bb)](_0x173aa9(0x674)),showQuizDetailView(_0xd0c2ea);});}),_0xeea8b8[_0x4e9cad(0x1a9)](_0x4e9cad(0x95d))[_0x4e9cad(0x28e)](_0x290bc4=>{const _0x4dd785=_0x4e9cad;_0x290bc4[_0x4dd785(0x2aa)](_0x4dd785(0x8a5),_0x482c2c=>{const _0x465861=_0x4dd785;_0x482c2c['stopPropagation']();const _0x52aa48=_0x290bc4['dataset']['id'],_0x54e932=allQuizzesGlobal[_0x465861(0x216)](_0x2d768f=>_0x2d768f['id']===_0x52aa48);_0x54e932?(currentQuizData=_0x54e932,document[_0x465861(0x2a0)](_0x465861(0x69a))[_0x465861(0x914)][_0x465861(0x6bb)]('hidden'),startAdminTest()):showMessage(_0x465861(0x283));});}),_0xeea8b8[_0x4e9cad(0x1a9)](_0x4e9cad(0x812))['forEach'](_0x2fe01e=>{const _0x3e29c3=_0x4e9cad;_0x2fe01e[_0x3e29c3(0x2aa)](_0x3e29c3(0x8a5),_0x20c987=>{const _0x4a0771=_0x3e29c3;_0x20c987[_0x4a0771(0x7b8)]();const _0x3f94c6=_0x2fe01e[_0x4a0771(0x2f8)]['id'],_0x59524b=allQuizzesGlobal[_0x4a0771(0x216)](_0x40e83e=>_0x40e83e['id']===_0x3f94c6);_0x59524b?(document[_0x4a0771(0x2a0)]('quiz-bank-modal')[_0x4a0771(0x914)]['add']('hidden'),handleGenerateParallelFromBank(_0x59524b)):showMessage(_0x4a0771(0x283));});}),_0xeea8b8[_0x4e9cad(0x1a9)]('.quiz-bank-present-btn')[_0x4e9cad(0x28e)](_0xd4c33e=>{const _0x30819c=_0x4e9cad;_0xd4c33e[_0x30819c(0x2aa)](_0x30819c(0x8a5),_0x55f3c6=>{const _0x5a2022=_0x30819c;_0x55f3c6[_0x5a2022(0x7b8)]();const _0xae5594=_0xd4c33e[_0x5a2022(0x2f8)]['id'],_0xdef95=allQuizzesGlobal[_0x5a2022(0x216)](_0x47d4a3=>_0x47d4a3['id']===_0xae5594);_0xdef95?(document['getElementById']('quiz-bank-modal')[_0x5a2022(0x914)][_0x5a2022(0x6bb)](_0x5a2022(0x674)),startPresentation(_0xdef95)):showMessage(_0x5a2022(0x283));});}),_0xeea8b8['querySelectorAll'](_0x4e9cad(0x699))[_0x4e9cad(0x28e)](_0x18ca07=>{const _0xcadea8=_0x4e9cad;_0x18ca07[_0xcadea8(0x2aa)]('click',_0x5dee97=>{const _0x395294=_0xcadea8;_0x5dee97[_0x395294(0x7b8)]();const _0x2abc87=_0x18ca07['dataset']['id'];document['getElementById'](_0x395294(0x69a))['classList']['add'](_0x395294(0x674)),handleMoveQuiz(_0x2abc87);});}),_0xeea8b8[_0x4e9cad(0x1a9)](_0x4e9cad(0x85f))[_0x4e9cad(0x28e)](_0x17e2d2=>{const _0x51bcce=_0x4e9cad;_0x17e2d2[_0x51bcce(0x2aa)]('click',_0x4c76cc=>{const _0x3b2c35=_0x51bcce;_0x4c76cc['stopPropagation']();const _0x5b8997=_0x17e2d2['dataset']['id'];document[_0x3b2c35(0x2a0)](_0x3b2c35(0x69a))[_0x3b2c35(0x914)][_0x3b2c35(0x6bb)](_0x3b2c35(0x674)),handleQuizSettings(_0x5b8997);});}),_0xeea8b8[_0x4e9cad(0x1a9)](_0x4e9cad(0x787))[_0x4e9cad(0x28e)](_0x4c574b=>{const _0x392c81=_0x4e9cad;_0x4c574b['addEventListener'](_0x392c81(0x8a5),_0x518e54=>{const _0x48fc1a=_0x392c81;_0x518e54['stopPropagation']();const _0x5a1a7c=_0x4c574b[_0x48fc1a(0x2f8)]['id'],_0x2bb3d4=_0x4c574b[_0x48fc1a(0x2f8)][_0x48fc1a(0x39a)];showConfirmation(_0x48fc1a(0x69d)+_0x2bb3d4+_0x48fc1a(0x398),()=>handleDeleteQuiz(_0x5a1a7c));});});}async function handleCompareResults(_0x963b71,_0x2b3434){const _0x206312=_0x1c8731,_0x436ea1=document['getElementById']('comparison-modal'),_0x4ca677=document[_0x206312(0x2a0)]('comparison-overall-content'),_0x2a60b5=document[_0x206312(0x2a0)](_0x206312(0x34a));document[_0x206312(0x2a0)](_0x206312(0x1d4))[_0x206312(0x914)][_0x206312(0x6bb)](_0x206312(0x3fd)),document[_0x206312(0x2a0)](_0x206312(0x124))[_0x206312(0x914)][_0x206312(0x278)](_0x206312(0x3fd)),_0x4ca677[_0x206312(0x914)][_0x206312(0x278)](_0x206312(0x674)),_0x2a60b5[_0x206312(0x914)][_0x206312(0x6bb)](_0x206312(0x674)),_0x4ca677[_0x206312(0x42b)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x2a60b5[_0x206312(0x42b)]='',_0x436ea1[_0x206312(0x914)][_0x206312(0x278)](_0x206312(0x674));try{const _0x1e2d3f=doc(db,_0x206312(0x804)+appId+_0x206312(0x60f),_0x963b71),_0x3e5ee5=await getDoc(_0x1e2d3f);if(!_0x3e5ee5[_0x206312(0x512)]())throw new Error(_0x206312(0x749));const _0x11cc83=_0x3e5ee5['data'](),_0x53832f=_0x11cc83[_0x206312(0x619)][_0x206312(0x51f)],_0x53cd11=collection(db,'artifacts/'+appId+_0x206312(0x39f)+_0x2b3434+_0x206312(0x9cd)),_0x5612d8=collection(db,_0x206312(0x804)+appId+'/public/data/quizzes/'+_0x963b71+_0x206312(0x9cd)),[_0x25111d,_0x4cf447]=await Promise['all']([getDocs(_0x53cd11),getDocs(_0x5612d8)]),_0x8c255a=_0x25111d[_0x206312(0x1c5)][_0x206312(0x429)](_0xc60050=>_0xc60050[_0x206312(0x4ff)]()),_0x3162c3=_0x4cf447['docs'][_0x206312(0x429)](_0x263d5b=>_0x263d5b[_0x206312(0x4ff)]()),_0x347530=_0x8c255a[_0x206312(0x429)](_0xe48049=>_0xe48049[_0x206312(0x131)]),_0x18a68c=_0x3162c3[_0x206312(0x429)](_0x1dcd6d=>_0x1dcd6d['latestScore']),_0x35a068=calculateMeanAndStdDev(_0x347530),_0x30525d=calculateMeanAndStdDev(_0x18a68c),_0x3a7b53=_0x35a068['mean'],_0x546e0f=_0x30525d[_0x206312(0x67a)],_0x686f91=_0x546e0f-_0x3a7b53;let _0x37b516=_0x206312(0x62c)+_0x3a7b53[_0x206312(0x3f1)](0x2)+_0x206312(0xf0)+_0x546e0f[_0x206312(0x3f1)](0x2)+_0x206312(0x6c7)+(_0x686f91>=0x0?_0x206312(0x1c1):_0x206312(0x4a4))+_0x206312(0x368)+(_0x686f91>=0x0?_0x206312(0x3f8):_0x206312(0x3c0))+_0x206312(0x578)+(_0x686f91>=0x0?_0x206312(0x3cf):'text-red-900')+'\x22>'+(_0x686f91>=0x0?'+':'')+_0x686f91['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x4ca677[_0x206312(0x42b)]=_0x37b516;const _0x4c19d8=document['getElementById']('comparison-chart')[_0x206312(0x8f7)]('2d');if(chartInstances[_0x206312(0x736)])chartInstances[_0x206312(0x736)][_0x206312(0x8fb)]();chartInstances['comparison']=new Chart(_0x4c19d8,{'type':_0x206312(0x244),'data':{'labels':[_0x206312(0x832)],'datasets':[{'label':_0x206312(0xa10),'data':[_0x3a7b53],'backgroundColor':_0x206312(0x9d5)},{'label':_0x206312(0x59b),'data':[_0x546e0f],'backgroundColor':_0x206312(0x80f)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x53832f}}}});const _0x1d0ad6=currentProjectData[_0x206312(0x56a)]||[],_0x4e7020=_0x1d0ad6[_0x206312(0x429)](_0xe40053=>{const _0x180496=_0x206312,_0x2e5092=_0x8c255a[_0x180496(0x216)](_0x4d11ac=>_0x4d11ac[_0x180496(0x5b8)]===_0xe40053),_0xa9a26b=_0x3162c3[_0x180496(0x216)](_0x689543=>_0x689543[_0x180496(0x5b8)]===_0xe40053),_0x474236=_0x2e5092?_0x2e5092['latestScore']:null,_0x17d741=_0xa9a26b?_0xa9a26b[_0x180496(0x131)]:null,_0x2685d7=_0x474236!==null&&_0x17d741!==null?_0x17d741-_0x474236:null,_0x4ddb4d=_0x474236!==null?calculateZScore(_0x474236,_0x35a068[_0x180496(0x67a)],_0x35a068[_0x180496(0x6a1)]):null,_0x556a35=_0x17d741!==null?calculateZScore(_0x17d741,_0x30525d[_0x180496(0x67a)],_0x30525d[_0x180496(0x6a1)]):null,_0x1bd9eb=_0x4ddb4d!==null?calculateTScore(_0x4ddb4d):null,_0x1bdc13=_0x556a35!==null?calculateTScore(_0x556a35):null,_0x1a8e65=_0x1bd9eb!==null&&_0x1bdc13!==null?_0x1bdc13-_0x1bd9eb:null;return{'name':_0xe40053,'preScore':_0x474236,'postScore':_0x17d741,'gain':_0x2685d7,'preTScore':_0x1bd9eb,'postTScore':_0x1bdc13,'tGain':_0x1a8e65};});renderIndividualComparisonTable(_0x4e7020,_0x2a60b5);}catch(_0x261129){console[_0x206312(0xa1a)](_0x206312(0x781),_0x261129),_0x4ca677[_0x206312(0x42b)]=_0x206312(0x22b);}}function displayHalfMarkResult(_0x53fa34,_0x1be2f7){const _0x48b8dc=_0x1c8731,_0x4b0a08=_0x53fa34>=_0x1be2f7/0x2,_0x44c190=_0x4b0a08?_0x48b8dc(0x195):'bg-red-100',_0x19ac0e=_0x4b0a08?_0x48b8dc(0x8a7):_0x48b8dc(0xde),_0xc1d923=_0x4b0a08?_0x48b8dc(0x29e):_0x48b8dc(0x3c0),_0x178201=_0x4b0a08?_0x48b8dc(0x603):_0x48b8dc(0x281),_0x55ac52=_0x4b0a08?_0x48b8dc(0x798):_0x48b8dc(0x655);let _0xc30fac=_0x48b8dc(0x9c0)+_0x44c190+_0x48b8dc(0x820)+_0x19ac0e+_0x48b8dc(0x192)+_0xc1d923+'\x20mb-2\x22>'+_0x178201+_0x48b8dc(0x821)+_0x55ac52+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x48b8dc(0x42b)]=_0xc30fac,studentResultArea[_0x48b8dc(0x914)][_0x48b8dc(0x278)](_0x48b8dc(0x674)),studentQuizArea['classList'][_0x48b8dc(0x6bb)](_0x48b8dc(0x674)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x4b0a08});}function displayPerfectScoreResult(_0x1f4390,_0x3508b6){const _0x525304=_0x1c8731,_0x403f7c=_0x1f4390===_0x3508b6,_0x230c5a=_0x403f7c?_0x525304(0x1fb):_0x525304(0x63a),_0x916c1a=_0x403f7c?_0x525304(0x662):_0x525304(0x4b5),_0x27ce2b=_0x403f7c?_0x525304(0x342):_0x525304(0x942),_0x11213c=_0x403f7c?_0x525304(0x98b):_0x525304(0x590),_0x310e72=_0x403f7c?_0x525304(0x864):_0x525304(0x37a);let _0x515c4c=_0x525304(0x9c0)+_0x230c5a+_0x525304(0x820)+_0x916c1a+_0x525304(0x192)+_0x27ce2b+'\x20mb-2\x22>'+_0x11213c+_0x525304(0x821)+_0x310e72+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x515c4c,studentResultArea[_0x525304(0x914)][_0x525304(0x278)](_0x525304(0x674)),studentQuizArea[_0x525304(0x914)]['add'](_0x525304(0x674)),setupResultScreenBackButton({'showRankings':![],'score':_0x1f4390,'totalQuestions':_0x3508b6});}function renderIndividualComparisonTable(_0x2e9968,_0x3c7391){const _0x465ba7=_0x1c8731;_0x2e9968[_0x465ba7(0x3a9)]((_0x2385b9,_0x23a865)=>(_0x23a865[_0x465ba7(0x447)]??-Infinity)-(_0x2385b9[_0x465ba7(0x447)]??-Infinity));let _0x32ced4=_0x465ba7(0x89f);_0x2e9968['length']===0x0?_0x32ced4+=_0x465ba7(0x539):_0x2e9968[_0x465ba7(0x28e)]((_0x4de4c2,_0x6cf5e4)=>{const _0x365597=_0x465ba7;let _0x4b71ae='-',_0x18845e='';if(_0x4de4c2[_0x365597(0x4fe)]!==null){const _0x37c4b7=_0x4de4c2[_0x365597(0x4fe)]>0x0?_0x365597(0x2e3):_0x4de4c2[_0x365597(0x4fe)]<0x0?_0x365597(0x1ed):'text-gray-500',_0x544736=_0x4de4c2['gain']>0x0?'+':'';_0x4b71ae='<span\x20class=\x22font-bold\x20'+_0x37c4b7+'\x22>'+_0x544736+_0x4de4c2[_0x365597(0x4fe)]+_0x365597(0x30b);if(_0x4de4c2[_0x365597(0x4fe)]>0x0)_0x18845e=_0x365597(0x91d);else _0x4de4c2[_0x365597(0x4fe)]<0x0?_0x18845e=_0x365597(0x1f0):_0x18845e=_0x365597(0x615);}let _0x316dc9='-';if(_0x4de4c2[_0x365597(0x447)]!==null){const _0x160559=_0x4de4c2[_0x365597(0x447)]>0x0?'text-green-600':_0x4de4c2[_0x365597(0x447)]<0x0?_0x365597(0x1ed):_0x365597(0x9b7),_0x5607a4=_0x4de4c2[_0x365597(0x447)]>0x0?'+':'';_0x316dc9=_0x365597(0x306)+_0x160559+'\x22>'+_0x5607a4+_0x4de4c2[_0x365597(0x447)][_0x365597(0x3f1)](0x2)+_0x365597(0x30b);}_0x32ced4+=_0x365597(0x71e)+(_0x6cf5e4+0x1)+_0x365597(0x978)+_0x4de4c2[_0x365597(0x3d6)]+_0x365597(0x5e5)+(_0x4de4c2[_0x365597(0xb6)]??'-')+_0x365597(0x67f)+(_0x4de4c2[_0x365597(0x59c)]??'-')+_0x365597(0x5e5)+_0x4b71ae+_0x365597(0x8d7)+_0x18845e+_0x365597(0xa39)+(_0x4de4c2[_0x365597(0x70f)]?.[_0x365597(0x3f1)](0x2)??'-')+_0x365597(0x1d6)+(_0x4de4c2[_0x365597(0x11b)]?.[_0x365597(0x3f1)](0x2)??'-')+_0x365597(0x5e5)+_0x316dc9+_0x365597(0x49a);}),_0x32ced4+=_0x465ba7(0x562),_0x3c7391[_0x465ba7(0x42b)]=_0x32ced4;}function handleRenameQuiz(_0x1ecaac,_0x233ce2){const _0x496e75=_0x1c8731;actionTargetId=_0x1ecaac,document[_0x496e75(0x2a0)](_0x496e75(0x88c))[_0x496e75(0x556)]=_0x233ce2,renameQuizModal['classList'][_0x496e75(0x278)](_0x496e75(0x674));}function setupComparisonModalTabs(){const _0x5b0f22=_0x1c8731,_0x52795f=document['getElementById'](_0x5b0f22(0x1d4)),_0x1b3ac7=document[_0x5b0f22(0x2a0)](_0x5b0f22(0x124)),_0x17109a=document[_0x5b0f22(0x2a0)](_0x5b0f22(0x203)),_0x2741cb=document['getElementById']('comparison-individual-content');_0x52795f['addEventListener'](_0x5b0f22(0x8a5),()=>{const _0x3cbd06=_0x5b0f22;_0x52795f['classList'][_0x3cbd06(0x6bb)](_0x3cbd06(0x3fd)),_0x1b3ac7[_0x3cbd06(0x914)][_0x3cbd06(0x278)](_0x3cbd06(0x3fd)),_0x17109a['classList'][_0x3cbd06(0x278)](_0x3cbd06(0x674)),_0x2741cb[_0x3cbd06(0x914)][_0x3cbd06(0x6bb)](_0x3cbd06(0x674));}),_0x1b3ac7[_0x5b0f22(0x2aa)](_0x5b0f22(0x8a5),()=>{const _0x34cb42=_0x5b0f22;_0x1b3ac7[_0x34cb42(0x914)][_0x34cb42(0x6bb)]('active'),_0x52795f[_0x34cb42(0x914)]['remove']('active'),_0x2741cb[_0x34cb42(0x914)][_0x34cb42(0x278)](_0x34cb42(0x674)),_0x17109a[_0x34cb42(0x914)][_0x34cb42(0x6bb)](_0x34cb42(0x674));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x1f809d=''){const _0xa153b7=_0x1c8731,_0x224e09=document[_0xa153b7(0x2a0)](_0xa153b7(0x90f)),_0x411397=_0x1f809d[_0xa153b7(0x263)]()['trim'](),_0x3416d2=allQuizzesGlobal['map'](_0x22a3ca=>({..._0x22a3ca,'projectName':allProjects[_0xa153b7(0x216)](_0x141d2e=>_0x141d2e['id']===_0x22a3ca['projectId'])?.['projectName']||_0x22a3ca[_0xa153b7(0x6fd)]}))[_0xa153b7(0x29a)](_0x3015d6=>(_0x3015d6[_0xa153b7(0x39a)]||'')[_0xa153b7(0x263)]()[_0xa153b7(0x4c6)](_0x411397)||(_0x3015d6[_0xa153b7(0x738)]||'')[_0xa153b7(0x263)]()['includes'](_0x411397));document['getElementById']('global-live-game-count')['textContent']='('+_0x3416d2[_0xa153b7(0x51f)]+_0xa153b7(0x55b),_0x224e09[_0xa153b7(0x42b)]=_0x3416d2['length']?_0x3416d2[_0xa153b7(0x429)](_0x38c5c9=>_0xa153b7(0x9d2)+_0x38c5c9['id']+_0xa153b7(0x4e0)+(_0x38c5c9['topic']||_0xa153b7(0x553))+'\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x38c5c9[_0xa153b7(0x619)]?.[_0xa153b7(0x51f)]||0x0)+_0xa153b7(0xfe)+_0x38c5c9[_0xa153b7(0x738)]+_0xa153b7(0x8d1))[_0xa153b7(0x795)](''):_0xa153b7(0x50d),selectedGlobalQuizId=null,document[_0xa153b7(0x2a0)](_0xa153b7(0x61a))[_0xa153b7(0x13f)]=!![],_0x224e09[_0xa153b7(0x1a9)](_0xa153b7(0x42c))[_0xa153b7(0x28e)](_0x5729a5=>{const _0x5bef5d=_0xa153b7;_0x5729a5['addEventListener'](_0x5bef5d(0x8a5),()=>{const _0x2482e1=_0x5bef5d;selectedGlobalQuizId=_0x5729a5[_0x2482e1(0x2f8)]['id'],_0x224e09[_0x2482e1(0x1a9)]('button')[_0x2482e1(0x28e)](_0x2d1985=>_0x2d1985['classList'][_0x2482e1(0x278)]('bg-purple-50',_0x2482e1(0x9f8),'ring-purple-400')),_0x5729a5['classList'][_0x2482e1(0x6bb)](_0x2482e1(0x269),_0x2482e1(0x9f8),_0x2482e1(0xa31)),document[_0x2482e1(0x2a0)](_0x2482e1(0x61a))['disabled']=![];});});}function listenForLiveGameUpdates(){const _0x27bf3c=_0x1c8731;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3e03ca=doc(db,_0x27bf3c(0x804)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3e03ca,_0x1e8681=>{const _0x3ad4d7=_0x27bf3c;if(!_0x1e8681[_0x3ad4d7(0x512)]()){showMessage(_0x3ad4d7(0x855)),showView(currentMode);return;}const _0x2a5986=_0x1e8681[_0x3ad4d7(0x4ff)]();_0x2a5986['shuffledQuiz']&&(currentQuizData=_0x2a5986[_0x3ad4d7(0x2f9)]);!currentQuizData&&_0x2a5986[_0x3ad4d7(0x15c)]&&((async()=>{const _0xe8dc42=_0x3ad4d7;try{const _0x465336=doc(db,_0xe8dc42(0x804)+appId+'/public/data/quizzes',_0x2a5986[_0xe8dc42(0x15c)]),_0x3379c3=await getDoc(_0x465336);_0x3379c3[_0xe8dc42(0x512)]()&&(currentQuizData={'id':_0x3379c3['id'],..._0x3379c3[_0xe8dc42(0x4ff)]()});}catch(_0x1f625a){console[_0xe8dc42(0xa1a)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x1f625a);}})());switch(_0x2a5986['status']){case _0x3ad4d7(0x8d2):if(currentMode===_0x3ad4d7(0xfd)){const _0x279a6e=_0x2a5986['players']?Object[_0x3ad4d7(0x489)](_0x2a5986['players']):[],_0x1d1d82=_0x279a6e[_0x3ad4d7(0x29a)](([_0x2571f4,_0x247de0])=>_0x247de0[_0x3ad4d7(0x912)]===_0x3ad4d7(0x3fd)),_0x4a3fc9=document['getElementById'](_0x3ad4d7(0x4ae));if(_0x4a3fc9)_0x4a3fc9['textContent']=_0x1d1d82[_0x3ad4d7(0x51f)];const _0x198c0b=document['getElementById']('player-list-lobby');_0x198c0b&&(_0x198c0b[_0x3ad4d7(0x42b)]=_0x1d1d82[_0x3ad4d7(0x429)](([_0x5132b4,_0x261a32])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5132b4+_0x3ad4d7(0x4e8)+_0x5132b4+_0x3ad4d7(0x8e0))[_0x3ad4d7(0x795)](''));const _0x1aee14=document[_0x3ad4d7(0x2a0)]('start-game-btn');_0x1aee14&&(_0x1aee14[_0x3ad4d7(0x13f)]=_0x1d1d82['length']===0x0);}else showView(_0x3ad4d7(0x116)),liveGameView[_0x3ad4d7(0x42b)]=_0x3ad4d7(0x311)+currentStudentName+_0x3ad4d7(0x5cb);break;case _0x3ad4d7(0x96a):const _0x126d99=_0x2a5986['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x3ad4d7(0x619)][_0x126d99]){const _0x49394f=currentQuizData['questions'][_0x126d99],_0x443d53=_0x2a5986['questionStatus']||'answering';switch(_0x443d53){case'summary_chart':currentMode===_0x3ad4d7(0xfd)?showAdminSummaryView(_0x2a5986,_0x49394f):showPlayerSummaryView(_0x2a5986,currentStudentName);break;case'leaderboard':currentMode===_0x3ad4d7(0xfd)&&showTop5LeaderboardView(_0x2a5986);break;case'answering':default:if(currentMode===_0x3ad4d7(0xfd)){const _0x465869=writeBatch(db);let _0x40869e=![];Object[_0x3ad4d7(0x489)](_0x2a5986['players'])[_0x3ad4d7(0x28e)](([_0x2f4fb0,_0x52359f])=>{const _0x7d2be9=_0x3ad4d7;if(_0x52359f[_0x7d2be9(0x912)]===_0x7d2be9(0x3fd)&&_0x52359f[_0x7d2be9(0xbf)]&&!_0x52359f[_0x7d2be9(0x3c3)]){_0x40869e=!![];const _0x15d46a=_0x52359f[_0x7d2be9(0xbf)][_0x7d2be9(0x6f2)]()-_0x2a5986[_0x7d2be9(0x177)][_0x7d2be9(0x6f2)]();let _0x1c5f98=0x0;if(_0x52359f[_0x7d2be9(0x21e)]){const _0xe8d21a=0x3e8,_0x365ca0=0x1f4,_0x71585d=0x4e20;let _0x2495fd=_0x15d46a/_0x71585d;if(_0x2495fd>0x1)_0x2495fd=0x1;const _0x5041fc=Math['round'](_0x2495fd*_0x365ca0);_0x1c5f98=_0xe8d21a-_0x5041fc;}const _0x3936ea=doc(db,_0x7d2be9(0x804)+appId+_0x7d2be9(0x948),currentLiveGameId);_0x465869['update'](_0x3936ea,{[_0x7d2be9(0xe5)+_0x2f4fb0+_0x7d2be9(0x586)]:increment(_0x1c5f98),['players.'+_0x2f4fb0+_0x7d2be9(0xa7)]:_0x1c5f98,[_0x7d2be9(0xe5)+_0x2f4fb0+_0x7d2be9(0x109)]:!![]});}});_0x40869e&&_0x465869[_0x3ad4d7(0x717)]()[_0x3ad4d7(0x121)](_0x37017b=>console[_0x3ad4d7(0xa1a)](_0x3ad4d7(0x181),_0x37017b));lastRenderedAdminQuestionIndex!==_0x126d99&&(showAdminLiveQuestionView(_0x49394f,_0x126d99,currentQuizData[_0x3ad4d7(0x619)][_0x3ad4d7(0x51f)]),lastRenderedAdminQuestionIndex=_0x126d99);const _0xbaaba9=_0x2a5986[_0x3ad4d7(0x4f6)]||{},_0x2ceb16=Object[_0x3ad4d7(0x390)](_0xbaaba9)[_0x3ad4d7(0x29a)](_0x22ef41=>_0x22ef41[_0x3ad4d7(0x912)]===_0x3ad4d7(0x3fd)),_0x8942b4=_0x2ceb16['length'],_0x52976d=_0x2ceb16['filter'](_0xbcee34=>_0xbcee34['answeredCurrentQuestion']===!![])[_0x3ad4d7(0x51f)],_0x35a6cf=document['getElementById'](_0x3ad4d7(0x6e2));if(_0x35a6cf)_0x35a6cf[_0x3ad4d7(0x531)]=_0x52976d+'/'+_0x8942b4;const _0x1d135d=document[_0x3ad4d7(0x2a0)](_0x3ad4d7(0x36c));if(_0x1d135d){let _0x1d9ae9=Object['entries'](_0xbaaba9)[_0x3ad4d7(0x29a)](([_0x3d0a6d,_0x4789c4])=>_0x4789c4[_0x3ad4d7(0x912)]===_0x3ad4d7(0x3fd))[_0x3ad4d7(0x429)](([_0x144f20,_0x29ea3a])=>{const _0x38c4c5=_0x3ad4d7,_0xc6773e=_0x29ea3a[_0x38c4c5(0x940)]===!![],_0x36058a=_0xc6773e?_0x38c4c5(0x454):'bg-gray-500',_0x161020=_0xc6773e?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x38c4c5(0x3af)+_0x36058a+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x161020+_0x38c4c5(0x86f)+_0x144f20+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x144f20+_0x38c4c5(0x146);})[_0x3ad4d7(0x795)]('');_0x1d135d[_0x3ad4d7(0x42b)]=_0x1d9ae9||_0x3ad4d7(0xc7);}_0x8942b4>0x0&&_0x52976d===_0x8942b4&&revealAnswerForAdmin(_0x126d99,currentQuizData[_0x3ad4d7(0x619)][_0x3ad4d7(0x51f)]);}else{const _0x450e50=_0x2a5986['players'][currentStudentName];_0x450e50&&!_0x450e50[_0x3ad4d7(0x940)]&&showStudentLiveQuestionView(_0x49394f,_0x126d99,currentQuizData['questions'][_0x3ad4d7(0x51f)]);}break;}}break;case _0x3ad4d7(0x765):showPodiumView(_0x2a5986[_0x3ad4d7(0x4f6)],_0x3ad4d7(0x359));break;}});}async function handleKickPlayer(_0x5995a7){const _0x66e386=_0x1c8731;if(!currentLiveGameId||!_0x5995a7)return;const _0x423c20=doc(db,'artifacts/'+appId+_0x66e386(0x948),currentLiveGameId),_0x447258={};_0x447258['players.'+_0x5995a7+_0x66e386(0x930)]=_0x66e386(0x4dd);try{await updateDoc(_0x423c20,_0x447258);}catch(_0x3ae3b3){console['error'](_0x66e386(0x988)+_0x5995a7+':',_0x3ae3b3),showMessage(_0x66e386(0x56b));}}async function authenticateUser(){const _0x136904=_0x1c8731;try{typeof __initial_auth_token!==_0x136904(0x238)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x14ad19){console[_0x136904(0xa1a)]('Authentication\x20failed:',_0x14ad19),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x4bea2b){const _0x1dea6e=_0x1c8731;adminView[_0x1dea6e(0x914)][_0x1dea6e(0x6bb)](_0x1dea6e(0x674)),studentView[_0x1dea6e(0x914)][_0x1dea6e(0x6bb)]('hidden'),projectDashboardView['classList'][_0x1dea6e(0x6bb)](_0x1dea6e(0x674)),projectDetailView[_0x1dea6e(0x914)]['add'](_0x1dea6e(0x674)),quizResultsView[_0x1dea6e(0x914)][_0x1dea6e(0x6bb)](_0x1dea6e(0x674)),liveGameView[_0x1dea6e(0x914)]['add'](_0x1dea6e(0x674)),studentInitialView[_0x1dea6e(0x914)][_0x1dea6e(0x6bb)](_0x1dea6e(0x674)),studentJoinGameView[_0x1dea6e(0x914)]['add']('hidden'),studentNameSelectionView[_0x1dea6e(0x914)][_0x1dea6e(0x6bb)](_0x1dea6e(0x674)),studentQuizArea[_0x1dea6e(0x914)][_0x1dea6e(0x6bb)](_0x1dea6e(0x674)),studentResultArea[_0x1dea6e(0x914)]['add'](_0x1dea6e(0x674)),studentReadingArea[_0x1dea6e(0x914)]['add'](_0x1dea6e(0x674));const _0x21822d=document[_0x1dea6e(0x2a0)](_0x1dea6e(0x4f0)),_0x48bbb9=document['getElementById'](_0x1dea6e(0x2dd));if(_0x21822d)_0x21822d[_0x1dea6e(0x914)][_0x1dea6e(0x6bb)](_0x1dea6e(0x674));if(_0x48bbb9)_0x48bbb9['classList'][_0x1dea6e(0x6bb)](_0x1dea6e(0x674));switch(_0x4bea2b){case _0x1dea6e(0x891):adminView[_0x1dea6e(0x914)][_0x1dea6e(0x278)]('hidden'),projectDashboardView['classList'][_0x1dea6e(0x278)](_0x1dea6e(0x674));break;case _0x1dea6e(0x299):adminView[_0x1dea6e(0x914)][_0x1dea6e(0x278)](_0x1dea6e(0x674)),projectDetailView[_0x1dea6e(0x914)][_0x1dea6e(0x278)](_0x1dea6e(0x674));break;case _0x1dea6e(0x251):adminView[_0x1dea6e(0x914)]['remove'](_0x1dea6e(0x674)),quizResultsView[_0x1dea6e(0x914)][_0x1dea6e(0x278)](_0x1dea6e(0x674));break;case _0x1dea6e(0xa36):studentView[_0x1dea6e(0x914)][_0x1dea6e(0x278)](_0x1dea6e(0x674)),studentInitialView[_0x1dea6e(0x914)][_0x1dea6e(0x278)]('hidden');break;case _0x1dea6e(0x116):liveGameView[_0x1dea6e(0x914)][_0x1dea6e(0x278)](_0x1dea6e(0x674));break;case _0x1dea6e(0x4b3):studentView[_0x1dea6e(0x914)][_0x1dea6e(0x278)](_0x1dea6e(0x674));if(_0x21822d)_0x21822d[_0x1dea6e(0x914)][_0x1dea6e(0x278)](_0x1dea6e(0x674));break;case _0x1dea6e(0x936):studentView['classList'][_0x1dea6e(0x278)](_0x1dea6e(0x674));if(_0x48bbb9)_0x48bbb9[_0x1dea6e(0x914)][_0x1dea6e(0x278)](_0x1dea6e(0x674));break;default:studentView[_0x1dea6e(0x914)][_0x1dea6e(0x278)](_0x1dea6e(0x674)),studentInitialView[_0x1dea6e(0x914)][_0x1dea6e(0x278)]('hidden');break;}}function showJoinGameView(){const _0x168685=_0x1c8731;studentInitialView['classList'][_0x168685(0x6bb)](_0x168685(0x674)),studentJoinGameView[_0x168685(0x914)][_0x168685(0x278)](_0x168685(0x674));}async function handleSaveVisibilitySettings(){const _0x37aeb4=_0x1c8731;if(!currentProjectId)return;const _0x52f624=doc(db,_0x37aeb4(0x804)+appId+_0x37aeb4(0x973),currentProjectId);try{await updateDoc(_0x52f624,{'settings.showInStudentDashboard':document['getElementById']('show-in-student-dashboard-checkbox')[_0x37aeb4(0x5ff)],'settings.isPasscodeEnabled':document[_0x37aeb4(0x2a0)](_0x37aeb4(0x5a5))['checked'],'settings.passcode':document[_0x37aeb4(0x2a0)](_0x37aeb4(0x929))[_0x37aeb4(0x556)]['trim']()}),showMessage(_0x37aeb4(0x77b));}catch(_0x31a8b0){console['error']('Error\x20saving\x20visibility\x20settings:',_0x31a8b0),showMessage(_0x37aeb4(0x501));}}function setupEventListeners(){const _0x4ab257=_0x1c8731,_0x7c2b60=document[_0x4ab257(0x2a0)]('bulk-confidence-scoring-checkbox'),_0x123327=document['getElementById'](_0x4ab257(0x46e));_0x7c2b60[_0x4ab257(0x2aa)](_0x4ab257(0x6c5),()=>{const _0x38d4a4=_0x4ab257;_0x123327[_0x38d4a4(0x914)]['toggle'](_0x38d4a4(0x674),!_0x7c2b60[_0x38d4a4(0x5ff)]);});const _0x34ef04=document[_0x4ab257(0x2a0)](_0x4ab257(0x8b0)),_0x357b77=document[_0x4ab257(0x2a0)](_0x4ab257(0x642));_0x34ef04[_0x4ab257(0x2aa)]('change',()=>{const _0xf7a079=_0x4ab257;_0x357b77[_0xf7a079(0x914)][_0xf7a079(0x5d4)](_0xf7a079(0x674),!_0x34ef04[_0xf7a079(0x5ff)]);});const _0x176bfa=document[_0x4ab257(0x2a0)](_0x4ab257(0x60d)),_0x535352=document[_0x4ab257(0x2a0)](_0x4ab257(0x9e8));_0x176bfa[_0x4ab257(0x2aa)](_0x4ab257(0x6c5),()=>{const _0x3cf4e8=_0x4ab257;_0x535352[_0x3cf4e8(0x914)][_0x3cf4e8(0x5d4)](_0x3cf4e8(0x674),!_0x176bfa['checked']);});const _0x379527=document[_0x4ab257(0x2a0)](_0x4ab257(0x94b)),_0x114b42=async _0x3ae034=>{const _0x1c2f82=_0x4ab257,_0x38b162=document[_0x1c2f82(0x2a0)]('confidence-modal'),_0x56ad89=_0x38b162[_0x1c2f82(0x2f8)][_0x1c2f82(0x9e4)],_0x2ae8f0=document[_0x1c2f82(0x2a0)]('selected-answer-index-hidden');_0x38b162[_0x1c2f82(0x914)][_0x1c2f82(0x6bb)]('hidden');if(_0x56ad89==='timed'){const _0x1d7040=_0x2ae8f0[_0x1c2f82(0x556)],_0x32993f={'answer':_0x1d7040,'wasConfident':_0x3ae034};proceedToNextQuestion(_0x32993f);}else{if(_0x56ad89==='sync'){const _0x1cf557=_0x2ae8f0[_0x1c2f82(0x2f8)][_0x1c2f82(0x6f5)],_0x252bad=JSON[_0x1c2f82(0x4ec)](_0x2ae8f0[_0x1c2f82(0x2f8)][_0x1c2f82(0x96a)]),_0x1dfac6=JSON['parse'](_0x2ae8f0[_0x1c2f82(0x2f8)][_0x1c2f82(0x4d7)]),_0x2a2be6=_0x2ae8f0[_0x1c2f82(0x2f8)][_0x1c2f82(0x15d)];handleSyncAnswerSubmit(_0x1cf557,_0x252bad,_0x1dfac6,_0x2a2be6,_0x3ae034);}}_0x38b162[_0x1c2f82(0x2f8)]['currentMode']='';};document[_0x4ab257(0x2a0)]('confirm-confident')[_0x4ab257(0x2aa)]('click',()=>_0x114b42(!![])),document[_0x4ab257(0x2a0)]('confirm-not-confident')[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>_0x114b42(![])),liveGameView[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),_0x49db22=>{const _0x1627f4=_0x4ab257,_0x556131=_0x49db22[_0x1627f4(0x646)][_0x1627f4(0x76a)](_0x1627f4(0x616));if(_0x556131){const _0x298987=_0x556131[_0x1627f4(0x2f8)][_0x1627f4(0x15d)];_0x298987&&handleKickPlayerSync(_0x298987);}});const _0xf1593c=document[_0x4ab257(0x2a0)]('confirm-game-start-btn'),_0x35761c=document[_0x4ab257(0x2a0)]('cancel-game-start-btn');_0x35761c[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{const _0x56befd=_0x4ab257;document[_0x56befd(0x2a0)](_0x56befd(0x9b1))[_0x56befd(0x914)][_0x56befd(0x6bb)]('hidden');}),_0xf1593c[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{const _0x513f3f=_0x4ab257,_0x1700be=document[_0x513f3f(0x2a0)](_0x513f3f(0x834))[_0x513f3f(0x556)],_0x5216ff=document[_0x513f3f(0x2a0)](_0x513f3f(0x792))[_0x513f3f(0x556)],_0x40c78c=document[_0x513f3f(0x2a0)]('save-game-results-checkbox')[_0x513f3f(0x5ff)];document[_0x513f3f(0x2a0)](_0x513f3f(0x9b1))['classList']['add'](_0x513f3f(0x674));switch(_0x5216ff){case _0x513f3f(0x359):handleStartLiveRace(_0x1700be,_0x40c78c);break;case _0x513f3f(0x133):handleStartTeamQuiz(_0x1700be,_0x40c78c);break;case _0x513f3f(0x530):handleStartGroupMode(_0x1700be,_0x40c78c);break;case _0x513f3f(0x93f):handleStartSyncMode(_0x1700be,_0x40c78c);break;}}),document[_0x4ab257(0x2a0)]('join-group-activity-btn')['addEventListener'](_0x4ab257(0x8a5),handleJoinGroupActivity),liveGameView[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),_0x277301=>{const _0x50b282=_0x4ab257,_0x39de32=_0x277301['target'][_0x50b282(0x76a)](_0x50b282(0x274));document[_0x50b282(0x1a9)]('.live-summary-tooltip.visible')[_0x50b282(0x28e)](_0x310efd=>{const _0x5302e6=_0x50b282;(!_0x39de32||_0x310efd['id']!==_0x39de32[_0x5302e6(0x2f8)][_0x5302e6(0x4db)])&&_0x310efd[_0x5302e6(0x914)][_0x5302e6(0x278)](_0x5302e6(0xed));});if(!_0x39de32)return;const _0x247128=_0x39de32['dataset']['tooltipTarget'],_0x36f3d0=document['getElementById'](_0x247128);_0x36f3d0&&_0x36f3d0[_0x50b282(0x914)][_0x50b282(0x5d4)](_0x50b282(0xed));}),liveGameView[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),_0x3c58f2=>{const _0xc13928=_0x4ab257;if(_0x3c58f2[_0xc13928(0x646)][_0xc13928(0x914)]['contains']('kick-player-btn')){const _0x2d7cad=_0x3c58f2[_0xc13928(0x646)]['dataset']['playerName'];_0x2d7cad&&handleKickPlayer(_0x2d7cad);}}),document[_0x4ab257(0x2a0)](_0x4ab257(0x70d))[_0x4ab257(0x2aa)](_0x4ab257(0x809),()=>document['getElementById']('save-project-name-btn')[_0x4ab257(0x914)][_0x4ab257(0x278)](_0x4ab257(0x674))),document[_0x4ab257(0x2a0)](_0x4ab257(0x7ce))['addEventListener'](_0x4ab257(0x8a5),handleSaveProjectName),document['getElementById'](_0x4ab257(0x70d))[_0x4ab257(0x2aa)]('keydown',_0x4136d9=>{const _0x5398fb=_0x4ab257;_0x4136d9[_0x5398fb(0x6ca)]==='Enter'&&(_0x4136d9[_0x5398fb(0x73a)](),_0x4136d9[_0x5398fb(0x646)][_0x5398fb(0x7bd)](),handleSaveProjectName());}),document['getElementById'](_0x4ab257(0x89b))[_0x4ab257(0x2aa)]('click',()=>{const _0x47de40=_0x4ab257;document[_0x47de40(0x2a0)](_0x47de40(0x986))[_0x47de40(0x914)][_0x47de40(0x278)](_0x47de40(0x674));}),document['getElementById'](_0x4ab257(0x3c4))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{const _0x2fc649=_0x4ab257;document[_0x2fc649(0x2a0)](_0x2fc649(0x986))['classList'][_0x2fc649(0x6bb)](_0x2fc649(0x674));}),document[_0x4ab257(0x2a0)](_0x4ab257(0x3f0))['addEventListener'](_0x4ab257(0x8a5),handleBulkUpdateQuizSettings),document[_0x4ab257(0x2a0)](_0x4ab257(0x825))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),handleModeSwitch),document[_0x4ab257(0x2a0)](_0x4ab257(0x207))['addEventListener']('click',handleUpdateOldQuizzes),document[_0x4ab257(0x2a0)](_0x4ab257(0x753))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),handleResetProjectOrder),document[_0x4ab257(0x2a0)](_0x4ab257(0x8fd))[_0x4ab257(0x2aa)]('click',handleSaveVisibilitySettings),document['getElementById']('add-custom-math-topic-btn')[_0x4ab257(0x2aa)]('click',handleAddCustomMathTopic),document[_0x4ab257(0x2a0)](_0x4ab257(0x93c))['addEventListener'](_0x4ab257(0x8a5),handleSelectAllTopics),document[_0x4ab257(0x2a0)]('deselect-all-topics-btn')[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),handleDeselectAllTopics),document[_0x4ab257(0x2a0)]('back-to-dashboard-btn')[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{const _0x350d2b=_0x4ab257;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x350d2b(0x891));}),document[_0x4ab257(0x2a0)](_0x4ab257(0x8aa))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{const _0x515f69=_0x4ab257;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x515f69(0x299));}),document[_0x4ab257(0x2a0)](_0x4ab257(0x537))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{showView('admin-dashboard');}),document[_0x4ab257(0x2a0)](_0x4ab257(0x4c4))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{const _0x306702=_0x4ab257;messageModal[_0x306702(0x914)]['add'](_0x306702(0x674)),typeof modalConfirmAction===_0x306702(0x369)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x4ab257(0x2a0)](_0x4ab257(0x803))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>createProjectModal['classList']['remove'](_0x4ab257(0x674))),document[_0x4ab257(0x2a0)]('cancel-create-project-btn')['addEventListener'](_0x4ab257(0x8a5),()=>createProjectModal['classList'][_0x4ab257(0x6bb)]('hidden')),document[_0x4ab257(0x2a0)]('cancel-admin-login-btn')[_0x4ab257(0x2aa)]('click',()=>adminPasswordModal[_0x4ab257(0x914)][_0x4ab257(0x6bb)](_0x4ab257(0x674))),document['getElementById'](_0x4ab257(0x341))[_0x4ab257(0x2aa)]('click',handleAdminLogin),document[_0x4ab257(0x2a0)](_0x4ab257(0x85c))['addEventListener']('keyup',_0x20008c=>{const _0x2f7d95=_0x4ab257;if(_0x20008c[_0x2f7d95(0x6ca)]===_0x2f7d95(0x976))handleAdminLogin();}),document['getElementById'](_0x4ab257(0x53a))['addEventListener'](_0x4ab257(0x8a5),()=>{const _0x21e7e3=_0x4ab257;confirmationModal['classList'][_0x21e7e3(0x6bb)]('hidden'),confirmAction=null;}),document[_0x4ab257(0x2a0)](_0x4ab257(0x6b2))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{const _0x10d5fa=_0x4ab257;confirmAction&&confirmAction(),confirmationModal[_0x10d5fa(0x914)][_0x10d5fa(0x6bb)](_0x10d5fa(0x674)),confirmAction=null;}),document[_0x4ab257(0x2a0)]('cancel-rename-quiz-btn')['addEventListener'](_0x4ab257(0x8a5),()=>renameQuizModal[_0x4ab257(0x914)][_0x4ab257(0x6bb)](_0x4ab257(0x674))),document[_0x4ab257(0x2a0)]('confirm-rename-quiz-btn')[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),confirmRenameQuiz),document['getElementById']('cancel-move-quiz-btn')['addEventListener']('click',()=>moveQuizModal['classList'][_0x4ab257(0x6bb)](_0x4ab257(0x674))),document[_0x4ab257(0x2a0)](_0x4ab257(0x4d9))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),confirmMoveQuiz),document[_0x4ab257(0x2a0)](_0x4ab257(0x61b))[_0x4ab257(0x2aa)]('click',()=>quizSettingsModal[_0x4ab257(0x914)][_0x4ab257(0x6bb)](_0x4ab257(0x674))),document[_0x4ab257(0x2a0)]('confirm-quiz-settings-btn')[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),confirmQuizSettings),document[_0x4ab257(0x2a0)]('cancel-quiz-status-btn')['addEventListener']('click',()=>quizStatusModal[_0x4ab257(0x914)][_0x4ab257(0x6bb)](_0x4ab257(0x674))),document[_0x4ab257(0x2a0)]('confirm-quiz-status-btn')[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),confirmQuizStatus);const _0x3fca55=document[_0x4ab257(0x2a0)]('export-pdf-modal');document[_0x4ab257(0x2a0)]('cancel-export-pdf-btn')[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{const _0x9d3322=_0x4ab257;_0x3fca55[_0x9d3322(0x914)][_0x9d3322(0x6bb)](_0x9d3322(0x674));}),document[_0x4ab257(0x2a0)]('export-compact-pdf-btn')[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),async()=>{const _0x435088=_0x4ab257,_0x4ddfa8=allQuizzes[_0x435088(0x216)](_0x1f7c73=>_0x1f7c73['id']===actionTargetId);_0x4ddfa8?(currentQuizData=_0x4ddfa8,exportQuizAsWorksheetPDF()):showMessage(_0x435088(0x283)),_0x3fca55['classList'][_0x435088(0x6bb)](_0x435088(0x674));}),document[_0x4ab257(0x2a0)](_0x4ab257(0xa1b))['addEventListener'](_0x4ab257(0x8a5),async()=>{const _0x4a95cd=_0x4ab257,_0x2d8933=allQuizzes[_0x4a95cd(0x216)](_0x5ca838=>_0x5ca838['id']===actionTargetId);_0x2d8933?(currentQuizData=_0x2d8933,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x3fca55[_0x4a95cd(0x914)]['add']('hidden');}),document['getElementById'](_0x4ab257(0x2c5))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),openGlobalLiveModal),document[_0x4ab257(0x2a0)](_0x4ab257(0x771))['addEventListener']('click',()=>{const _0x5f0385=_0x4ab257;document[_0x5f0385(0x2a0)](_0x5f0385(0x698))[_0x5f0385(0x914)]['add'](_0x5f0385(0x674)),selectedGlobalQuizId=null;}),document[_0x4ab257(0x2a0)]('global-quiz-search-input')['addEventListener']('input',_0x4a7aae=>renderGlobalQuizList(_0x4a7aae[_0x4ab257(0x646)][_0x4ab257(0x556)])),document[_0x4ab257(0x2a0)](_0x4ab257(0x61a))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{const _0x1a9844=_0x4ab257,_0x42c84f=selectedGlobalQuizId;if(!_0x42c84f)return;document[_0x1a9844(0x2a0)]('global-live-game-modal')[_0x1a9844(0x914)]['add']('hidden'),handleStartLiveRace(_0x42c84f);}),document[_0x4ab257(0x2a0)](_0x4ab257(0x903))[_0x4ab257(0x2aa)](_0x4ab257(0x44a),renderProjects),document[_0x4ab257(0x2a0)](_0x4ab257(0x695))['addEventListener'](_0x4ab257(0x6c5),async()=>{const _0x153b13=_0x4ab257,_0x47d431=document['getElementById'](_0x153b13(0x695))['value'],_0x1bc13c=doc(db,_0x153b13(0x163),_0x153b13(0x394));try{await setDoc(_0x1bc13c,{'projectSort':_0x47d431},{'merge':!![]});}catch(_0x50fa6d){console[_0x153b13(0xa1a)]('Error\x20updating\x20sort\x20preference:',_0x50fa6d),showMessage(_0x153b13(0x585));}}),document[_0x4ab257(0x2a0)]('quiz-search-input')['addEventListener'](_0x4ab257(0x44a),renderQuizzes),document[_0x4ab257(0x2a0)](_0x4ab257(0x5e3))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{const _0x4aabab=_0x4ab257;globalDashboardSettings[_0x4aabab(0x36b)]=_0x4aabab(0x8e4),saveUserPreference('projectView',_0x4aabab(0x8e4)),renderProjects();}),document[_0x4ab257(0x2a0)]('list-view-btn')['addEventListener']('click',()=>{const _0x1598af=_0x4ab257;globalDashboardSettings[_0x1598af(0x36b)]=_0x1598af(0x1ea),saveUserPreference(_0x1598af(0x36b),_0x1598af(0x1ea)),renderProjects();}),manageTab[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>switchProjectTab(_0x4ab257(0x55a))),resultsTab[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>switchProjectTab(_0x4ab257(0x5a2))),leaderboardTab[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>switchProjectTab(_0x4ab257(0x72d))),document['getElementById']('analytics-tab-btn')[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>switchQuizDetailTab(_0x4ab257(0x757))),document['getElementById']('scores-tab-btn')['addEventListener'](_0x4ab257(0x8a5),()=>switchQuizDetailTab(_0x4ab257(0x7ad))),document[_0x4ab257(0x2a0)](_0x4ab257(0x754))['addEventListener']('click',()=>switchQuizDetailTab(_0x4ab257(0x810))),document[_0x4ab257(0x2a0)](_0x4ab257(0x5c4))[_0x4ab257(0x2aa)]('click',()=>switchQuizDetailTab(_0x4ab257(0x3bd))),document[_0x4ab257(0x2a0)](_0x4ab257(0x17e))['addEventListener'](_0x4ab257(0x8a5),handleAnalyzeClass),generateWorksheetBtn[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),generateWorksheet);const _0x356a16=document[_0x4ab257(0x2a0)]('link-tab'),_0x325af5=document[_0x4ab257(0x2a0)](_0x4ab257(0x639)),_0x183946=document['getElementById']('blueprint-tab'),_0x2ed9ff=document[_0x4ab257(0x2a0)](_0x4ab257(0x140)),_0x2521c0=document[_0x4ab257(0x2a0)](_0x4ab257(0x495)),_0x42c339=document['getElementById'](_0x4ab257(0xa1c));topicTab['addEventListener'](_0x4ab257(0x8a5),()=>{const _0x5f37eb=_0x4ab257;topicTab[_0x5f37eb(0x914)][_0x5f37eb(0x6bb)]('active'),textTab[_0x5f37eb(0x914)][_0x5f37eb(0x278)](_0x5f37eb(0x3fd)),fileTab[_0x5f37eb(0x914)][_0x5f37eb(0x278)](_0x5f37eb(0x3fd)),worksheetTab['classList'][_0x5f37eb(0x278)](_0x5f37eb(0x3fd));if(_0x356a16)_0x356a16[_0x5f37eb(0x914)][_0x5f37eb(0x278)](_0x5f37eb(0x3fd));if(_0x183946)_0x183946[_0x5f37eb(0x914)][_0x5f37eb(0x278)](_0x5f37eb(0x3fd));if(_0x2521c0)_0x2521c0[_0x5f37eb(0x914)][_0x5f37eb(0x278)](_0x5f37eb(0x3fd));topicInputArea[_0x5f37eb(0x914)]['remove'](_0x5f37eb(0x674)),textInputArea['classList']['add'](_0x5f37eb(0x674)),fileInputArea[_0x5f37eb(0x914)][_0x5f37eb(0x6bb)](_0x5f37eb(0x674)),worksheetInputArea[_0x5f37eb(0x914)]['add'](_0x5f37eb(0x674));if(_0x325af5)_0x325af5[_0x5f37eb(0x914)][_0x5f37eb(0x6bb)](_0x5f37eb(0x674));if(_0x2ed9ff)_0x2ed9ff[_0x5f37eb(0x914)][_0x5f37eb(0x6bb)](_0x5f37eb(0x674));if(_0x42c339)_0x42c339['classList'][_0x5f37eb(0x6bb)](_0x5f37eb(0x674));}),textTab[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{const _0x2340f3=_0x4ab257;textTab[_0x2340f3(0x914)]['add']('active'),topicTab[_0x2340f3(0x914)]['remove'](_0x2340f3(0x3fd)),fileTab['classList'][_0x2340f3(0x278)](_0x2340f3(0x3fd)),worksheetTab[_0x2340f3(0x914)][_0x2340f3(0x278)]('active');if(_0x356a16)_0x356a16[_0x2340f3(0x914)][_0x2340f3(0x278)](_0x2340f3(0x3fd));if(_0x183946)_0x183946['classList'][_0x2340f3(0x278)](_0x2340f3(0x3fd));if(_0x2521c0)_0x2521c0[_0x2340f3(0x914)]['remove'](_0x2340f3(0x3fd));textInputArea[_0x2340f3(0x914)]['remove'](_0x2340f3(0x674)),topicInputArea[_0x2340f3(0x914)][_0x2340f3(0x6bb)]('hidden'),fileInputArea[_0x2340f3(0x914)]['add'](_0x2340f3(0x674)),worksheetInputArea['classList']['add'](_0x2340f3(0x674));if(_0x325af5)_0x325af5[_0x2340f3(0x914)][_0x2340f3(0x6bb)](_0x2340f3(0x674));if(_0x2ed9ff)_0x2ed9ff[_0x2340f3(0x914)][_0x2340f3(0x6bb)](_0x2340f3(0x674));if(_0x42c339)_0x42c339[_0x2340f3(0x914)][_0x2340f3(0x6bb)](_0x2340f3(0x674));}),fileTab['addEventListener']('click',()=>{const _0x9e0806=_0x4ab257;fileTab[_0x9e0806(0x914)]['add'](_0x9e0806(0x3fd)),topicTab[_0x9e0806(0x914)]['remove'](_0x9e0806(0x3fd)),textTab[_0x9e0806(0x914)][_0x9e0806(0x278)](_0x9e0806(0x3fd)),worksheetTab[_0x9e0806(0x914)][_0x9e0806(0x278)](_0x9e0806(0x3fd));if(_0x356a16)_0x356a16[_0x9e0806(0x914)][_0x9e0806(0x278)](_0x9e0806(0x3fd));if(_0x183946)_0x183946[_0x9e0806(0x914)]['remove'](_0x9e0806(0x3fd));if(_0x2521c0)_0x2521c0[_0x9e0806(0x914)][_0x9e0806(0x278)](_0x9e0806(0x3fd));fileInputArea['classList']['remove'](_0x9e0806(0x674)),topicInputArea[_0x9e0806(0x914)]['add']('hidden'),textInputArea[_0x9e0806(0x914)][_0x9e0806(0x6bb)](_0x9e0806(0x674)),worksheetInputArea[_0x9e0806(0x914)][_0x9e0806(0x6bb)]('hidden');if(_0x325af5)_0x325af5[_0x9e0806(0x914)][_0x9e0806(0x6bb)](_0x9e0806(0x674));if(_0x2ed9ff)_0x2ed9ff['classList'][_0x9e0806(0x6bb)](_0x9e0806(0x674));if(_0x42c339)_0x42c339[_0x9e0806(0x914)][_0x9e0806(0x6bb)](_0x9e0806(0x674));}),worksheetTab['addEventListener']('click',()=>{const _0x1c7cc0=_0x4ab257;worksheetTab[_0x1c7cc0(0x914)][_0x1c7cc0(0x6bb)](_0x1c7cc0(0x3fd)),topicTab['classList'][_0x1c7cc0(0x278)](_0x1c7cc0(0x3fd)),textTab['classList'][_0x1c7cc0(0x278)](_0x1c7cc0(0x3fd)),fileTab[_0x1c7cc0(0x914)][_0x1c7cc0(0x278)](_0x1c7cc0(0x3fd));if(_0x356a16)_0x356a16['classList'][_0x1c7cc0(0x278)](_0x1c7cc0(0x3fd));if(_0x183946)_0x183946[_0x1c7cc0(0x914)]['remove'](_0x1c7cc0(0x3fd));if(_0x2521c0)_0x2521c0[_0x1c7cc0(0x914)]['remove'](_0x1c7cc0(0x3fd));worksheetInputArea[_0x1c7cc0(0x914)]['remove'](_0x1c7cc0(0x674)),topicInputArea[_0x1c7cc0(0x914)][_0x1c7cc0(0x6bb)]('hidden'),textInputArea[_0x1c7cc0(0x914)][_0x1c7cc0(0x6bb)](_0x1c7cc0(0x674)),fileInputArea[_0x1c7cc0(0x914)]['add'](_0x1c7cc0(0x674));if(_0x325af5)_0x325af5['classList'][_0x1c7cc0(0x6bb)](_0x1c7cc0(0x674));if(_0x2ed9ff)_0x2ed9ff[_0x1c7cc0(0x914)][_0x1c7cc0(0x6bb)](_0x1c7cc0(0x674));if(_0x42c339)_0x42c339['classList'][_0x1c7cc0(0x6bb)]('hidden');});const _0x2f1184=document[_0x4ab257(0x2a0)]('bank-tab'),_0x235f62=document[_0x4ab257(0x2a0)](_0x4ab257(0x7b5));_0x2f1184&&_0x2f1184[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{const _0x4378bc=_0x4ab257;topicTab[_0x4378bc(0x914)][_0x4378bc(0x278)](_0x4378bc(0x3fd)),textTab[_0x4378bc(0x914)]['remove'](_0x4378bc(0x3fd)),fileTab[_0x4378bc(0x914)][_0x4378bc(0x278)](_0x4378bc(0x3fd)),worksheetTab[_0x4378bc(0x914)][_0x4378bc(0x278)](_0x4378bc(0x3fd));if(_0x356a16)_0x356a16[_0x4378bc(0x914)][_0x4378bc(0x278)](_0x4378bc(0x3fd));if(_0x183946)_0x183946[_0x4378bc(0x914)][_0x4378bc(0x278)](_0x4378bc(0x3fd));if(_0x2521c0)_0x2521c0[_0x4378bc(0x914)][_0x4378bc(0x278)](_0x4378bc(0x3fd));_0x2f1184[_0x4378bc(0x914)][_0x4378bc(0x6bb)]('active'),topicInputArea['classList'][_0x4378bc(0x6bb)](_0x4378bc(0x674)),textInputArea['classList'][_0x4378bc(0x6bb)](_0x4378bc(0x674)),fileInputArea[_0x4378bc(0x914)][_0x4378bc(0x6bb)](_0x4378bc(0x674)),worksheetInputArea[_0x4378bc(0x914)][_0x4378bc(0x6bb)](_0x4378bc(0x674));if(_0x325af5)_0x325af5['classList'][_0x4378bc(0x6bb)](_0x4378bc(0x674));if(_0x2ed9ff)_0x2ed9ff[_0x4378bc(0x914)][_0x4378bc(0x6bb)](_0x4378bc(0x674));if(_0x42c339)_0x42c339[_0x4378bc(0x914)][_0x4378bc(0x6bb)](_0x4378bc(0x674));_0x235f62['classList'][_0x4378bc(0x278)](_0x4378bc(0x674)),displayQuestionBank();});_0x356a16&&(_0x356a16[_0x4ab257(0x2aa)]('click',()=>{const _0x3a6a33=_0x4ab257;_0x356a16[_0x3a6a33(0x914)][_0x3a6a33(0x6bb)]('active'),topicTab['classList'][_0x3a6a33(0x278)](_0x3a6a33(0x3fd)),textTab[_0x3a6a33(0x914)][_0x3a6a33(0x278)](_0x3a6a33(0x3fd)),fileTab[_0x3a6a33(0x914)][_0x3a6a33(0x278)](_0x3a6a33(0x3fd)),worksheetTab['classList'][_0x3a6a33(0x278)]('active');if(_0x183946)_0x183946[_0x3a6a33(0x914)][_0x3a6a33(0x278)](_0x3a6a33(0x3fd));if(_0x2521c0)_0x2521c0[_0x3a6a33(0x914)][_0x3a6a33(0x278)](_0x3a6a33(0x3fd));_0x325af5[_0x3a6a33(0x914)][_0x3a6a33(0x278)](_0x3a6a33(0x674)),topicInputArea[_0x3a6a33(0x914)][_0x3a6a33(0x6bb)](_0x3a6a33(0x674)),textInputArea[_0x3a6a33(0x914)]['add'](_0x3a6a33(0x674)),fileInputArea['classList'][_0x3a6a33(0x6bb)](_0x3a6a33(0x674)),worksheetInputArea['classList'][_0x3a6a33(0x6bb)](_0x3a6a33(0x674));if(_0x2ed9ff)_0x2ed9ff[_0x3a6a33(0x914)]['add'](_0x3a6a33(0x674));if(_0x42c339)_0x42c339[_0x3a6a33(0x914)][_0x3a6a33(0x6bb)](_0x3a6a33(0x674));}),document[_0x4ab257(0x2a0)](_0x4ab257(0x7e3))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),handleGenerateFromLink));_0x183946&&_0x183946[_0x4ab257(0x2aa)]('click',()=>{const _0x380f30=_0x4ab257;_0x183946[_0x380f30(0x914)][_0x380f30(0x6bb)](_0x380f30(0x3fd)),topicTab[_0x380f30(0x914)][_0x380f30(0x278)](_0x380f30(0x3fd)),textTab[_0x380f30(0x914)][_0x380f30(0x278)](_0x380f30(0x3fd)),fileTab['classList']['remove'](_0x380f30(0x3fd)),worksheetTab[_0x380f30(0x914)][_0x380f30(0x278)]('active');if(_0x356a16)_0x356a16['classList']['remove'](_0x380f30(0x3fd));if(_0x2f1184)_0x2f1184['classList']['remove'](_0x380f30(0x3fd));if(_0x2521c0)_0x2521c0[_0x380f30(0x914)][_0x380f30(0x278)](_0x380f30(0x3fd));_0x2ed9ff['classList'][_0x380f30(0x278)](_0x380f30(0x674)),topicInputArea['classList'][_0x380f30(0x6bb)](_0x380f30(0x674)),textInputArea[_0x380f30(0x914)][_0x380f30(0x6bb)](_0x380f30(0x674)),fileInputArea['classList'][_0x380f30(0x6bb)](_0x380f30(0x674)),worksheetInputArea[_0x380f30(0x914)][_0x380f30(0x6bb)](_0x380f30(0x674));if(_0x325af5)_0x325af5[_0x380f30(0x914)][_0x380f30(0x6bb)]('hidden');if(_0x235f62)_0x235f62[_0x380f30(0x914)][_0x380f30(0x6bb)](_0x380f30(0x674));if(_0x42c339)_0x42c339['classList'][_0x380f30(0x6bb)](_0x380f30(0x674));});_0x2521c0&&_0x2521c0[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{const _0x11eed6=_0x4ab257;_0x2521c0[_0x11eed6(0x914)][_0x11eed6(0x6bb)]('active'),topicTab['classList']['remove'](_0x11eed6(0x3fd)),textTab['classList'][_0x11eed6(0x278)]('active'),fileTab[_0x11eed6(0x914)]['remove'](_0x11eed6(0x3fd)),worksheetTab['classList'][_0x11eed6(0x278)]('active');if(_0x356a16)_0x356a16[_0x11eed6(0x914)][_0x11eed6(0x278)](_0x11eed6(0x3fd));if(_0x183946)_0x183946[_0x11eed6(0x914)][_0x11eed6(0x278)](_0x11eed6(0x3fd));if(_0x2f1184)_0x2f1184[_0x11eed6(0x914)]['remove'](_0x11eed6(0x3fd));_0x42c339[_0x11eed6(0x914)][_0x11eed6(0x278)](_0x11eed6(0x674)),topicInputArea[_0x11eed6(0x914)][_0x11eed6(0x6bb)]('hidden'),textInputArea[_0x11eed6(0x914)]['add'](_0x11eed6(0x674)),fileInputArea[_0x11eed6(0x914)][_0x11eed6(0x6bb)](_0x11eed6(0x674)),worksheetInputArea[_0x11eed6(0x914)][_0x11eed6(0x6bb)](_0x11eed6(0x674));if(_0x325af5)_0x325af5[_0x11eed6(0x914)][_0x11eed6(0x6bb)](_0x11eed6(0x674));if(_0x2ed9ff)_0x2ed9ff['classList'][_0x11eed6(0x6bb)](_0x11eed6(0x674));if(_0x235f62)_0x235f62[_0x11eed6(0x914)][_0x11eed6(0x6bb)](_0x11eed6(0x674));});const _0x357649=document[_0x4ab257(0x2a0)]('blueprint-upload-input'),_0x358e62=document[_0x4ab257(0x2a0)](_0x4ab257(0x7bf));if(_0x357649){const _0x8b97d9=document[_0x4ab257(0x2a0)](_0x4ab257(0xa2c)),_0x39fdf6=document[_0x4ab257(0x2a0)](_0x4ab257(0x7bf)),_0x3ac2f6=document[_0x4ab257(0x2a0)](_0x4ab257(0x62b)),_0x30d6c6=document['getElementById'](_0x4ab257(0xa09)),_0x562404=document[_0x4ab257(0x2a0)](_0x4ab257(0x7e5)),_0x2f4147=document[_0x4ab257(0x2a0)](_0x4ab257(0x48f));_0x8b97d9&&_0x8b97d9[_0x4ab257(0x2aa)]('change',async _0x5d0843=>{const _0x4f6db0=_0x4ab257;_0x3ac2f6[_0x4f6db0(0x914)]['add'](_0x4f6db0(0x674)),_0x562404[_0x4f6db0(0x914)][_0x4f6db0(0x6bb)]('hidden'),_0x30d6c6[_0x4f6db0(0x5ff)]=![],_0x39fdf6[_0x4f6db0(0x13f)]=!![];const _0x458217=_0x5d0843[_0x4f6db0(0x646)][_0x4f6db0(0x5dc)][0x0];if(_0x458217){_0x39fdf6[_0x4f6db0(0x13f)]=![];try{const _0x31f8a4=await extractTextFromPdf(_0x458217);await analyzeBlueprintForTopics(_0x31f8a4);}catch(_0x409525){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x3ac2f6[_0x4f6db0(0x914)][_0x4f6db0(0x6bb)](_0x4f6db0(0x674));}}}),_0x30d6c6&&_0x30d6c6['addEventListener'](_0x4ab257(0x6c5),_0x286a4b=>{const _0x308211=_0x4ab257,_0x2f09fb=_0x286a4b['target']['checked'];_0x562404['classList'][_0x308211(0x5d4)]('hidden',!_0x2f09fb),_0x39fdf6[_0x308211(0x13f)]=_0x2f09fb;}),_0x2f4147&&(_0x2f4147&&_0x2f4147['addEventListener'](_0x4ab257(0x8a5),_0x49f7c3=>{const _0x5e6f46=_0x4ab257,_0x3eaabe=_0x49f7c3[_0x5e6f46(0x646)]['closest'](_0x5e6f46(0x98a)),_0x17e2f6=_0x49f7c3['target'][_0x5e6f46(0x76a)](_0x5e6f46(0x510));if(_0x3eaabe){const _0x117e69=unescape(_0x3eaabe[_0x5e6f46(0x2f8)]['topic']);generateQuizForSingleTopic(_0x117e69);}else{if(_0x17e2f6){const _0x2af46e=unescape(_0x17e2f6['dataset'][_0x5e6f46(0x39a)]);handleGenerateTeachingContent(_0x2af46e);}}}));}_0x358e62&&_0x358e62[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),handleGenerateFromBlueprint);const _0x371e5d=document[_0x4ab257(0x2a0)](_0x4ab257(0x928)),_0x48358c=document[_0x4ab257(0x2a0)](_0x4ab257(0x53f));_0x371e5d&&_0x371e5d[_0x4ab257(0x2aa)](_0x4ab257(0x6c5),_0x3c8ece=>{const _0x5631cc=_0x4ab257;_0x48358c[_0x5631cc(0x13f)]=_0x3c8ece[_0x5631cc(0x646)][_0x5631cc(0x5dc)][_0x5631cc(0x51f)]===0x0;});_0x48358c&&_0x48358c['addEventListener'](_0x4ab257(0x8a5),handleGenerateParallelTest);loadQuizBtn[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),handleLoadQuiz),startQuizBtn[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),async()=>{const _0x1e0f0d=_0x4ab257,_0x749bb5=document[_0x1e0f0d(0x2a0)](_0x1e0f0d(0x360));currentStudentName=_0x749bb5[_0x1e0f0d(0x556)];if(!currentStudentName){showMessage(_0x1e0f0d(0x6f0));return;}try{const _0x10c43a=currentQuizData['id'],_0x153c94=doc(db,_0x1e0f0d(0x804)+appId+_0x1e0f0d(0x39f)+_0x10c43a+'/submissions',currentStudentName),_0x2af558=await getDoc(_0x153c94);!_0x2af558['exists']()?await setDoc(_0x153c94,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x153c94,{'startedAt':new Date()['toISOString']()});}catch(_0x3da9e5){console[_0x1e0f0d(0xa1a)](_0x1e0f0d(0x8b5),_0x3da9e5),showMessage(_0x1e0f0d(0x280));return;}studentNameSelectionView[_0x1e0f0d(0x914)][_0x1e0f0d(0x6bb)](_0x1e0f0d(0x674)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x4ab257(0x2a0)](_0x4ab257(0x4d6))['addEventListener'](_0x4ab257(0x8a5),showJoinGameView),document['getElementById'](_0x4ab257(0x439))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),handleJoinLiveGame),document['getElementById'](_0x4ab257(0x4bc))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>showView(_0x4ab257(0xa36)));const _0x222dc7=()=>{const _0x145656=_0x4ab257,_0x5d317c=document['getElementById']('results-quiz-title')[_0x145656(0x531)][_0x145656(0x54e)](/[^a-z0-9]/gi,'_')[_0x145656(0x263)]();return _0x145656(0x508)+(_0x5d317c||_0x145656(0x9ac));},_0x37fa17=document['getElementById'](_0x4ab257(0x73d));_0x37fa17&&_0x37fa17[_0x4ab257(0x2aa)](_0x4ab257(0x44a),_0x124e0d=>{const _0x5f412d=_0x4ab257,_0x3ab267=_0x124e0d[_0x5f412d(0x646)]['value'][_0x5f412d(0x263)]()[_0x5f412d(0x611)](),_0x29ba23=document[_0x5f412d(0x2a0)](_0x5f412d(0x3b3)),_0x34a605=_0x29ba23[_0x5f412d(0x1a9)](_0x5f412d(0x90d));_0x34a605[_0x5f412d(0x28e)](_0x2770a1=>{const _0x322466=_0x5f412d;let _0x568b86=![];const _0x591bca=_0x2770a1[_0x322466(0x1a9)](_0x322466(0x884));_0x591bca[_0x322466(0x28e)](_0x1a72aa=>{const _0x39ea68=_0x322466,_0x5e5dca=_0x1a72aa[_0x39ea68(0x265)](_0x39ea68(0x778))[_0x39ea68(0x531)][_0x39ea68(0x263)]();_0x5e5dca[_0x39ea68(0x4c6)](_0x3ab267)?(_0x1a72aa[_0x39ea68(0x58f)][_0x39ea68(0x9cc)]='flex',_0x568b86=!![]):_0x1a72aa[_0x39ea68(0x58f)][_0x39ea68(0x9cc)]=_0x39ea68(0x7bb);}),_0x568b86?_0x2770a1[_0x322466(0x58f)][_0x322466(0x9cc)]=_0x322466(0xdf):_0x2770a1[_0x322466(0x58f)]['display']=_0x322466(0x7bb);});});document[_0x4ab257(0x2a0)](_0x4ab257(0x9ec))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>exportTableAsImage('results-table-container',_0x222dc7())),document[_0x4ab257(0x2a0)](_0x4ab257(0x780))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>exportTableAsPDF('results-table',_0x222dc7())),document[_0x4ab257(0x2a0)](_0x4ab257(0x4b8))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>exportTableAsWord(_0x4ab257(0x9bb),_0x222dc7())),document[_0x4ab257(0x2a0)](_0x4ab257(0xa37))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>exportTableAsExcel(_0x4ab257(0x3d0),_0x222dc7()));const _0x4855ee=()=>{const _0x51ea4b=_0x4ab257,_0x13f7c6=document[_0x51ea4b(0x2a0)](_0x51ea4b(0x694))['textContent'][_0x51ea4b(0x54e)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x51ea4b(0x21f)+(_0x13f7c6||'quiz');};document[_0x4ab257(0x2a0)](_0x4ab257(0x6d1))['addEventListener']('click',()=>exportTableAsImage(_0x4ab257(0x528),_0x4855ee())),document[_0x4ab257(0x2a0)]('export-leaderboard-pdf-btn')['addEventListener'](_0x4ab257(0x8a5),()=>exportTableAsPDF('quiz-leaderboard-table',_0x4855ee())),document[_0x4ab257(0x2a0)](_0x4ab257(0x57e))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>exportTableAsWord(_0x4ab257(0x528),_0x4855ee())),document[_0x4ab257(0x2a0)](_0x4ab257(0x9df))['addEventListener'](_0x4ab257(0x8a5),()=>exportTableAsExcel(_0x4ab257(0x705),_0x4855ee())),projectQuizzesList['addEventListener']('click',async _0x52e7d4=>{const _0x290af1=_0x4ab257,_0x1f1616=_0x52e7d4[_0x290af1(0x646)]['closest'](_0x290af1(0x222)),_0x238c00=_0x52e7d4[_0x290af1(0x646)][_0x290af1(0x76a)]('.generate-post-test-btn'),_0x2c340e=_0x52e7d4[_0x290af1(0x646)]['closest'](_0x290af1(0x7d8)),_0x378008=_0x52e7d4['target']['closest']('.generate-lesson-btn'),_0x25ddf9=_0x52e7d4[_0x290af1(0x646)][_0x290af1(0x76a)](_0x290af1(0x69e)),_0x37d611=_0x52e7d4[_0x290af1(0x646)][_0x290af1(0x76a)](_0x290af1(0x2f3)),_0x239e81=_0x52e7d4[_0x290af1(0x646)][_0x290af1(0x76a)](_0x290af1(0xf7)),_0x167e79=_0x52e7d4[_0x290af1(0x646)]['closest']('.quiz-settings-btn'),_0x273e3f=_0x52e7d4[_0x290af1(0x646)][_0x290af1(0x76a)]('.duplicate-quiz-btn'),_0x53ae02=_0x52e7d4[_0x290af1(0x646)][_0x290af1(0x76a)]('.rename-quiz-btn'),_0x3f4a75=_0x52e7d4['target'][_0x290af1(0x76a)]('.parallel-quiz-btn'),_0x337369=_0x52e7d4[_0x290af1(0x646)]['closest'](_0x290af1(0x519)),_0x232c7c=_0x52e7d4['target'][_0x290af1(0x76a)]('.pair-quiz-btn'),_0x432e28=_0x52e7d4[_0x290af1(0x646)][_0x290af1(0x76a)](_0x290af1(0x164)),_0x269685=_0x52e7d4[_0x290af1(0x646)][_0x290af1(0x76a)]('.start-presentation-list-btn'),_0x5cb7fd=_0x52e7d4['target']['closest']('.admin-try-quiz-list-btn'),_0xd25c24=_0x52e7d4['target'][_0x290af1(0x76a)](_0x290af1(0x101)),_0x55deea=_0x52e7d4['target'][_0x290af1(0x76a)](_0x290af1(0x58b)),_0x3dec05=_0x52e7d4[_0x290af1(0x646)][_0x290af1(0x76a)]('.quiz-status-btn'),_0xdc49ad=_0x52e7d4[_0x290af1(0x646)][_0x290af1(0x76a)](_0x290af1(0x6d0)),_0x5a81ba=_0x52e7d4[_0x290af1(0x646)]['closest'](_0x290af1(0x766)),_0xca6958=_0x52e7d4[_0x290af1(0x646)][_0x290af1(0x76a)](_0x290af1(0x79e)),_0x387cc1=_0x52e7d4[_0x290af1(0x646)]['closest'](_0x290af1(0x34b));if(_0xca6958){const _0xdba1cf=_0xca6958[_0x290af1(0x2f8)]['quizId'],_0x2e3f21=_0xca6958[_0x290af1(0x2f8)][_0x290af1(0x842)],_0x58aa31=allQuizzes[_0x290af1(0x216)](_0x179cee=>_0x179cee['id']===_0xdba1cf);_0x58aa31&&showGameStartConfirmationModal(_0xdba1cf,_0x2e3f21,_0x58aa31[_0x290af1(0x39a)]);}else{if(_0x387cc1){const _0x39ab0b=_0x387cc1[_0x290af1(0x2f8)][_0x290af1(0x15c)];handleStartLiveRace(_0x39ab0b);}else{if(_0xdc49ad){const _0x4b5604=_0xdc49ad['dataset']['quizId'],_0x15d50a=document[_0x290af1(0x2a0)](_0x290af1(0x815)+_0x4b5604);_0x15d50a&&_0x15d50a['classList']['toggle'](_0x290af1(0x674));}else{if(_0x238c00){const _0x370e27=_0x238c00['dataset']['quizId'],_0x42ab01=allQuizzes['find'](_0x17dc4d=>_0x17dc4d['id']===_0x370e27);_0x42ab01&&handleGenerateParallelPostTest(_0x42ab01);}else{if(_0x2c340e)handleCompareResults(_0x2c340e['dataset']['quizId'],_0x2c340e[_0x290af1(0x2f8)][_0x290af1(0x897)]);else{if(_0x378008){const _0x3bc5bc=_0x378008[_0x290af1(0x2f8)][_0x290af1(0x15c)],_0x39e40a=allQuizzes[_0x290af1(0x216)](_0x2e4edc=>_0x2e4edc['id']===_0x3bc5bc);_0x39e40a&&_0x39e40a[_0x290af1(0x87e)]?(displayLessonPlan(_0x39e40a[_0x290af1(0x87e)],_0x39e40a),showConfirmation(_0x290af1(0x631),()=>handleGenerateLessonPlan(_0x3bc5bc)),document[_0x290af1(0x2a0)]('confirmation-modal')['querySelector']('h3')[_0x290af1(0x531)]=_0x290af1(0x4ef),document['getElementById'](_0x290af1(0x6b2))[_0x290af1(0x531)]=_0x290af1(0xd6)):handleGenerateLessonPlan(_0x3bc5bc);}else{if(_0x25ddf9)handleToggleStarQuiz(_0x25ddf9[_0x290af1(0x2f8)]['quizId']);else{if(_0x37d611)copyTextToClipboard(_0x37d611['dataset'][_0x290af1(0x15c)],_0x290af1(0x8f1));else{if(_0x239e81)handleOpenQuizEditor(_0x239e81['dataset']['quizId']);else{if(_0x167e79)handleQuizSettings(_0x167e79[_0x290af1(0x2f8)][_0x290af1(0x15c)]);else{if(_0x273e3f)handleDuplicateQuiz(_0x273e3f[_0x290af1(0x2f8)]['quizId']);else{if(_0x53ae02)handleRenameQuiz(_0x53ae02['dataset']['quizId'],_0x53ae02[_0x290af1(0x2f8)][_0x290af1(0x39a)]);else{if(_0x3f4a75){const _0x9d9c1c=_0x3f4a75[_0x290af1(0x2f8)][_0x290af1(0x15c)],_0x326471=allQuizzes[_0x290af1(0x216)](_0x41edaa=>_0x41edaa['id']===_0x9d9c1c);_0x326471&&handleGenerateParallelFromBank(_0x326471);}else{if(_0x337369)handleMoveQuiz(_0x337369[_0x290af1(0x2f8)][_0x290af1(0x15c)]);else{if(_0x232c7c)handleManualQuizPairing(_0x232c7c[_0x290af1(0x2f8)][_0x290af1(0x15c)]);else{if(_0x432e28)handleUnpairQuiz(_0x432e28[_0x290af1(0x2f8)]['quizId']);else{if(_0x269685){const _0x5f69c9=_0x269685[_0x290af1(0x2f8)][_0x290af1(0x15c)],_0x3b1b17=allQuizzes[_0x290af1(0x216)](_0x315ccd=>_0x315ccd['id']===_0x5f69c9);if(_0x3b1b17)startPresentation(_0x3b1b17);}else{if(_0x5cb7fd){const _0x11952e=_0x5cb7fd[_0x290af1(0x2f8)]['quizId'],_0x3cb774=allQuizzes[_0x290af1(0x216)](_0x409ce2=>_0x409ce2['id']===_0x11952e);_0x3cb774&&(currentQuizData=_0x3cb774,startAdminTest());}else{if(_0xd25c24)actionTargetId=_0xd25c24[_0x290af1(0x2f8)][_0x290af1(0x15c)],document['getElementById']('export-pdf-modal')[_0x290af1(0x914)][_0x290af1(0x278)](_0x290af1(0x674));else{if(_0x55deea)showConfirmation(_0x290af1(0x69d)+_0x55deea[_0x290af1(0x2f8)][_0x290af1(0x39a)]+_0x290af1(0x76c),()=>handleDeleteQuiz(_0x55deea[_0x290af1(0x2f8)][_0x290af1(0x15c)]));else{if(_0x3dec05)handleQuizStatus(_0x3dec05[_0x290af1(0x2f8)][_0x290af1(0x15c)]);else{if(_0x5a81ba)handleGenerateEasyVersionQuiz(_0x5a81ba[_0x290af1(0x2f8)][_0x290af1(0x15c)]);else _0x1f1616&&showQuizDetailView(_0x1f1616[_0x290af1(0x2f8)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x4ab257(0x2a0)](_0x4ab257(0x707))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>showView(_0x4ab257(0xa36))),document[_0x4ab257(0x2a0)](_0x4ab257(0x7b0))['addEventListener'](_0x4ab257(0x8a5),confirmAndStartTeamQuiz),document[_0x4ab257(0x2a0)]('quiz-leaderboard-table')[_0x4ab257(0x265)]('thead')[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),_0x22b1e1=>{const _0x385d41=_0x4ab257,_0xc49cfe=_0x22b1e1[_0x385d41(0x646)]['closest'](_0x385d41(0x993));if(!_0xc49cfe||!_0xc49cfe[_0x385d41(0x2f8)][_0x385d41(0x3a9)])return;const _0x4c0736=_0xc49cfe[_0x385d41(0x2f8)][_0x385d41(0x3a9)];if(quizLeaderboardSortBy===_0x4c0736)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x385d41(0xaa)?'desc':_0x385d41(0xaa);else{quizLeaderboardSortBy=_0x4c0736;const _0x27998d=[_0x385d41(0x5b8)];quizLeaderboardSortOrder=_0x27998d['includes'](_0x4c0736)?_0x385d41(0xaa):_0x385d41(0x100);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x385d41(0x182));}),document[_0x4ab257(0x2a0)]('close-presentation-btn')[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),closePresentation),document['getElementById'](_0x4ab257(0x115))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x4ab257(0x17b))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{const _0x15cfa5=_0x4ab257;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x15cfa5(0x619)][_0x15cfa5(0x51f)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x4ab257(0x2aa)](_0x4ab257(0x983),()=>{const _0x4f56e4=_0x4ab257;!document['fullscreenElement']&&(presentationModal[_0x4f56e4(0x58f)][_0x4f56e4(0x9cc)]=_0x4f56e4(0x7bb));}),document[_0x4ab257(0x2a0)]('delete-all-students-btn')['addEventListener']('click',handleDeleteAllStudents),studentList['addEventListener'](_0x4ab257(0x8a5),_0x85e363=>{const _0x1cbfb1=_0x4ab257,_0x1c2443=_0x85e363['target'][_0x1cbfb1(0x76a)](_0x1cbfb1(0x2af));if(_0x1c2443){const _0x20dd5d=_0x1c2443[_0x1cbfb1(0x2f8)][_0x1cbfb1(0x5b8)];handleDeleteStudent(_0x20dd5d);}}),document[_0x4ab257(0x2a0)](_0x4ab257(0x8a0))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),handleGenerateFromFileClick),fileUploadInput[_0x4ab257(0x2aa)](_0x4ab257(0x6c5),_0x37cf5f=>{const _0xfcb3f=_0x4ab257,_0x55a37f=_0x37cf5f[_0xfcb3f(0x646)]['files'][0x0],_0x81b706=document['getElementById']('generate-from-file-btn');_0x55a37f?(selectedFile=_0x55a37f,_0x81b706[_0xfcb3f(0x13f)]=![]):(selectedFile=null,_0x81b706['disabled']=!![]);}),document[_0x4ab257(0x2a0)](_0x4ab257(0x7dc))[_0x4ab257(0x2aa)](_0x4ab257(0x6c5),_0x4bec20=>{const _0x5d6327=_0x4ab257,_0x35e699=document[_0x5d6327(0x2a0)]('timer-duration-container'),_0x5c3462=document[_0x5d6327(0x2a0)](_0x5d6327(0x499)),_0x4c6d7f=document['getElementById'](_0x5d6327(0x902));_0x4bec20[_0x5d6327(0x646)][_0x5d6327(0x556)]==='none'?_0x35e699[_0x5d6327(0x914)][_0x5d6327(0x6bb)]('hidden'):(_0x35e699['classList'][_0x5d6327(0x278)](_0x5d6327(0x674)),_0x4bec20[_0x5d6327(0x646)]['value']===_0x5d6327(0x2c8)?(_0x5c3462[_0x5d6327(0x531)]=_0x5d6327(0x1df),_0x4c6d7f['value']='10'):(_0x5c3462['textContent']=_0x5d6327(0x920),_0x4c6d7f['value']='30'));}),document['getElementById']('quiz-type-select')['addEventListener'](_0x4ab257(0x6c5),_0x42da84=>{const _0xfaabe2=_0x4ab257,_0x5cc546=document[_0xfaabe2(0x2a0)](_0xfaabe2(0x10b)),_0xc1ef1b=_0x42da84['target'][_0xfaabe2(0x556)],_0x12db3e=document[_0xfaabe2(0x265)](_0xfaabe2(0x316)),_0x32a602=document[_0xfaabe2(0x2a0)](_0xfaabe2(0x9a8)),_0x4c1930=document[_0xfaabe2(0x2a0)](_0xfaabe2(0x66c));_0xc1ef1b==='matching'?_0x12db3e[_0xfaabe2(0x531)]='จำนวนคู่:':_0x12db3e[_0xfaabe2(0x531)]=_0xfaabe2(0x209),_0xc1ef1b==='multiple_choice'||_0xc1ef1b===_0xfaabe2(0x1fc)||_0xc1ef1b===_0xfaabe2(0xa23)?_0x5cc546[_0xfaabe2(0x914)][_0xfaabe2(0x278)](_0xfaabe2(0x674)):_0x5cc546['classList'][_0xfaabe2(0x6bb)](_0xfaabe2(0x674)),_0x32a602['max']=_0x4c1930[_0xfaabe2(0x556)];}),document[_0x4ab257(0x2a0)](_0x4ab257(0x66c))['addEventListener'](_0x4ab257(0x44a),_0x284039=>{const _0xbbfa75=_0x4ab257;document[_0xbbfa75(0x2a0)](_0xbbfa75(0x9a8))['max']=_0x284039[_0xbbfa75(0x646)][_0xbbfa75(0x556)];}),document[_0x4ab257(0x2a0)](_0x4ab257(0x966))['addEventListener'](_0x4ab257(0x6c5),_0x2e343b=>{const _0x2d51b6=_0x4ab257,_0x299231=document[_0x2d51b6(0x2a0)]('modal-timer-duration-container'),_0x3409b6=document[_0x2d51b6(0x2a0)](_0x2d51b6(0x4ba)),_0x50e64a=document[_0x2d51b6(0x2a0)](_0x2d51b6(0x4b1));_0x2e343b[_0x2d51b6(0x646)][_0x2d51b6(0x556)]===_0x2d51b6(0x7bb)?_0x299231[_0x2d51b6(0x914)][_0x2d51b6(0x6bb)]('hidden'):(_0x299231[_0x2d51b6(0x914)]['remove'](_0x2d51b6(0x674)),_0x2e343b[_0x2d51b6(0x646)][_0x2d51b6(0x556)]==='whole_quiz'?_0x3409b6[_0x2d51b6(0x531)]=_0x2d51b6(0x1df):_0x3409b6[_0x2d51b6(0x531)]=_0x2d51b6(0x920));}),document['getElementById'](_0x4ab257(0x7be))['addEventListener'](_0x4ab257(0x8a5),()=>{const _0x540492=_0x4ab257;document[_0x540492(0x2a0)](_0x540492(0x28d))[_0x540492(0x914)][_0x540492(0x6bb)](_0x540492(0x674));}),document[_0x4ab257(0x2a0)]('cancel-quiz-edits-btn-footer')[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{const _0xc31add=_0x4ab257;document['getElementById']('quiz-editor-modal')[_0xc31add(0x914)][_0xc31add(0x6bb)]('hidden');}),document[_0x4ab257(0x2a0)](_0x4ab257(0x21c))['addEventListener']('click',handleVerifyAnswersInEditor),document['getElementById'](_0x4ab257(0xd7))[_0x4ab257(0x2aa)]('click',()=>{const _0x991bfa=_0x4ab257;document[_0x991bfa(0x2a0)](_0x991bfa(0x28d))[_0x991bfa(0x914)][_0x991bfa(0x6bb)](_0x991bfa(0x674)),showConfirmation(_0x991bfa(0x7eb),handleSaveChanges);}),document[_0x4ab257(0x2a0)](_0x4ab257(0xcc))[_0x4ab257(0x2aa)]('click',handleAutoFixLatex);const _0x45410e=document[_0x4ab257(0x2a0)](_0x4ab257(0x80c));_0x45410e&&_0x45410e[_0x4ab257(0x2aa)]('click',_0x3489d8=>{const _0x1ba0c7=_0x4ab257,_0x372d6e=_0x3489d8[_0x1ba0c7(0x646)][_0x1ba0c7(0x76a)](_0x1ba0c7(0x697)),_0xcff5d9=_0x3489d8['target'][_0x1ba0c7(0x76a)](_0x1ba0c7(0x1cf));if(_0x372d6e){const _0x2767f4=_0x372d6e['closest'](_0x1ba0c7(0x258)),_0x53e013=parseInt(_0x2767f4['dataset']['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x53e013);}else{if(_0xcff5d9){const _0x310280=_0xcff5d9['closest'](_0x1ba0c7(0x258)),_0x490fd2=parseInt(_0x310280['dataset'][_0x1ba0c7(0x51c)],0xa);handleAiFixFormula(_0x490fd2);}}});document[_0x4ab257(0x2a0)](_0x4ab257(0x2d5))['addEventListener'](_0x4ab257(0x8a5),openQuizBankModal),document[_0x4ab257(0x2a0)](_0x4ab257(0x560))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{const _0x2df731=_0x4ab257;document[_0x2df731(0x2a0)](_0x2df731(0x69a))['classList'][_0x2df731(0x6bb)](_0x2df731(0x674));}),document[_0x4ab257(0x2a0)](_0x4ab257(0x3a3))['addEventListener'](_0x4ab257(0x44a),_0x380879=>renderQuizBankList(_0x380879[_0x4ab257(0x646)][_0x4ab257(0x556)]));const _0x39261a=document['getElementById']('math-topics-checkbox-container');if(_0x39261a){let _0x3dcd25=null;_0x39261a[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),_0x2ff2bf=>{const _0x34886d=_0x4ab257,_0x4956da=_0x2ff2bf[_0x34886d(0x646)],_0x92433f=_0x4956da['closest'](_0x34886d(0x874)),_0x23e1fa=_0x4956da[_0x34886d(0x76a)](_0x34886d(0x743)),_0x1401a6=_0x4956da[_0x34886d(0x76a)](_0x34886d(0x917)),_0x266cce=_0x4956da[_0x34886d(0x76a)]('.cancel-edit-topic-btn');if(_0x23e1fa){_0x2ff2bf[_0x34886d(0x73a)]();const _0x591b2b=_0x23e1fa[_0x34886d(0x2f8)]['id'],_0x1bb4a4=_0x23e1fa[_0x34886d(0x76a)]('.group')[_0x34886d(0x265)](_0x34886d(0x778))[_0x34886d(0x531)];showConfirmation(_0x34886d(0x500)+_0x1bb4a4+'\x22?',()=>handleDeleteCustomTopic(_0x591b2b));}else{if(_0x92433f){_0x2ff2bf[_0x34886d(0x73a)]();_0x3dcd25&&toggleTopicEditMode(_0x3dcd25,![]);const _0x114dcd=_0x92433f[_0x34886d(0x76a)]('[data-topic-container-id]');_0x3dcd25=_0x114dcd,toggleTopicEditMode(_0x114dcd,!![]);}else{if(_0x1401a6){_0x2ff2bf['preventDefault']();const _0x11dfeb=_0x1401a6[_0x34886d(0x2f8)]['id'],_0x50a9f3=_0x1401a6[_0x34886d(0x76a)](_0x34886d(0x818)),_0x4d3d2f=_0x50a9f3[_0x34886d(0x265)]('.topic-name-input')[_0x34886d(0x556)];handleUpdateCustomTopic(_0x11dfeb,_0x4d3d2f),_0x3dcd25=null;}else{if(_0x266cce){_0x2ff2bf[_0x34886d(0x73a)]();const _0xbeec3d=_0x266cce['closest']('[data-topic-container-id]');toggleTopicEditMode(_0xbeec3d,![]),_0x3dcd25=null;}}}}}),document[_0x4ab257(0x2a0)](_0x4ab257(0x3a0))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{const _0x377e91=_0x4ab257;document[_0x377e91(0x2a0)](_0x377e91(0x34e))[_0x377e91(0x914)]['add']('hidden');}),document[_0x4ab257(0x2a0)](_0x4ab257(0x8d5))['addEventListener'](_0x4ab257(0x8a5),()=>{const _0x4f7cf2=_0x4ab257;document[_0x4f7cf2(0x2a0)](_0x4f7cf2(0x34e))[_0x4f7cf2(0x914)][_0x4f7cf2(0x6bb)](_0x4f7cf2(0x674));}),document['getElementById']('export-lesson-pdf-btn')[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),handleExportLessonPDF);}document['getElementById'](_0x4ab257(0x67b))[_0x4ab257(0x2aa)](_0x4ab257(0x8a5),()=>{const _0x2737fe=_0x4ab257;document['getElementById']('comparison-modal')[_0x2737fe(0x914)][_0x2737fe(0x6bb)]('hidden');}),document[_0x4ab257(0x2a0)](_0x4ab257(0x88e))[_0x4ab257(0x2aa)]('click',()=>{const _0x38b9aa=_0x4ab257;document[_0x38b9aa(0x2a0)](_0x38b9aa(0x45e))[_0x38b9aa(0x914)][_0x38b9aa(0x6bb)](_0x38b9aa(0x674));}),setupComparisonModalTabs(),document[_0x4ab257(0x247)][_0x4ab257(0x2aa)](_0x4ab257(0x8a5),function(_0x8061c2){const _0x1fd8f2=_0x4ab257;if(_0x8061c2[_0x1fd8f2(0x646)][_0x1fd8f2(0x914)][_0x1fd8f2(0x722)]('practice-topic-btn')){const _0x49fa65=unescape(_0x8061c2[_0x1fd8f2(0x646)][_0x1fd8f2(0x2f8)][_0x1fd8f2(0x39a)]);startSkillPractice(_0x49fa65);}}),document[_0x4ab257(0x2a0)]('scores-tab-content')['addEventListener']('click',_0xf6e7b2=>{const _0x1a9e0c=_0x4ab257,_0x146568=_0xf6e7b2['target'][_0x1a9e0c(0x76a)](_0x1a9e0c(0x828));if(_0x146568){const _0x3c1aaa=_0x146568[_0x1a9e0c(0x2f8)][_0x1a9e0c(0x5b8)];handleDeleteSubmission(_0x3c1aaa);}});}async function handleStartGroupMode(_0x1de862,_0x57943c=![]){const _0x5969ca=_0x1c8731,_0x174c09=allQuizzes['find'](_0x3a423b=>_0x3a423b['id']===_0x1de862)||allQuizzesGlobal[_0x5969ca(0x216)](_0x45d54c=>_0x45d54c['id']===_0x1de862);if(!_0x174c09){showMessage(_0x5969ca(0x283));return;}currentQuizData=getShuffledQuiz(_0x174c09);const _0x367625=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x5969ca(0x547)]();try{const _0x1781c7=await addDoc(collection(db,_0x5969ca(0x804)+appId+_0x5969ca(0x3df)),{'quizId':_0x174c09['id'],'projectId':_0x174c09[_0x5969ca(0x6fd)],'status':_0x5969ca(0x8d2),'pin':_0x367625,'mode':_0x5969ca(0x530),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x57943c});currentTeamQuizId=_0x1781c7['id'],showView(_0x5969ca(0x116)),renderAdminTeamQuizDashboard(_0x367625,_0x174c09[_0x5969ca(0x39a)],_0x5969ca(0x530)),listenForTeamQuizUpdates();}catch(_0x7bf05d){console['error']('Error\x20starting\x20group\x20quiz:',_0x7bf05d),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x20c7f9=_0x1c8731;studentInitialView[_0x20c7f9(0x914)]['add'](_0x20c7f9(0x674)),document['getElementById']('student-progress-view')[_0x20c7f9(0x914)][_0x20c7f9(0x278)](_0x20c7f9(0x674));const _0x65c31=document[_0x20c7f9(0x2a0)](_0x20c7f9(0x5c7)),_0x5d6d0c=document['getElementById'](_0x20c7f9(0x6eb)),_0x3610d8=document[_0x20c7f9(0x2a0)](_0x20c7f9(0xa33));_0x3610d8[_0x20c7f9(0x42b)]=_0x20c7f9(0x51b),_0x5d6d0c[_0x20c7f9(0x42b)]=_0x20c7f9(0x47b),_0x5d6d0c[_0x20c7f9(0x13f)]=!![],_0x65c31[_0x20c7f9(0x42b)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x20c7f9(0x51f)]===0x0){const _0x32f604=collection(db,'artifacts/'+appId+'/public/data/projects'),_0x53262a=await getDocs(_0x32f604);allProjects=_0x53262a[_0x20c7f9(0x1c5)][_0x20c7f9(0x429)](_0x44a6f9=>({'id':_0x44a6f9['id'],..._0x44a6f9[_0x20c7f9(0x4ff)]()}));}const _0xef1027=allProjects['filter'](_0x5e8aa9=>_0x5e8aa9['settings']?.[_0x20c7f9(0x68f)]!==![]);_0xef1027[_0x20c7f9(0x3a9)]((_0x41f032,_0x4ad5ba)=>_0x41f032[_0x20c7f9(0x738)][_0x20c7f9(0x692)](_0x4ad5ba[_0x20c7f9(0x738)],'th')),_0x65c31[_0x20c7f9(0x42b)]=_0x20c7f9(0x12a)+_0xef1027[_0x20c7f9(0x429)](_0x74ddbf=>_0x20c7f9(0x708)+_0x74ddbf['id']+'\x22>'+_0x74ddbf['projectName']+_0x20c7f9(0x5ea))[_0x20c7f9(0x795)](''),_0x65c31[_0x20c7f9(0x572)]=()=>{const _0x1ddb32=_0x20c7f9,_0x2f25a7=_0x5d6d0c[_0x1ddb32(0x556)],_0x146e2f=_0x65c31[_0x1ddb32(0x556)];_0x5d6d0c[_0x1ddb32(0x13f)]=!![],_0x5d6d0c[_0x1ddb32(0x42b)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x3610d8['innerHTML']=_0x1ddb32(0x94a);if(!_0x146e2f)return;const _0x2617bb=allProjects[_0x1ddb32(0x216)](_0x4d4146=>_0x4d4146['id']===_0x146e2f);if(!_0x2617bb||!_0x2617bb[_0x1ddb32(0x56a)])return;const _0x86d01=()=>{const _0x3d92eb=_0x1ddb32;_0x5d6d0c['innerHTML']=_0x3d92eb(0x47b)+_0x2617bb[_0x3d92eb(0x56a)]['map'](_0x259c20=>'<option\x20value=\x22'+_0x259c20+'\x22>'+_0x259c20+_0x3d92eb(0x5ea))[_0x3d92eb(0x795)](''),_0x5d6d0c[_0x3d92eb(0x13f)]=![];const _0x15ffc1=Array[_0x3d92eb(0x6a0)](_0x5d6d0c[_0x3d92eb(0x8bf)])[_0x3d92eb(0x429)](_0x3914e5=>_0x3914e5[_0x3d92eb(0x556)]);if(_0x2f25a7&&_0x15ffc1[_0x3d92eb(0x4c6)](_0x2f25a7))_0x5d6d0c[_0x3d92eb(0x556)]=_0x2f25a7,_0x5d6d0c[_0x3d92eb(0x441)](new Event(_0x3d92eb(0x6c5)));else _0x2617bb[_0x3d92eb(0x56a)]['length']===0x1&&(_0x5d6d0c['value']=_0x2617bb[_0x3d92eb(0x56a)][0x0],_0x5d6d0c[_0x3d92eb(0x441)](new Event(_0x3d92eb(0x6c5))));};if(_0x2617bb[_0x1ddb32(0x141)]?.[_0x1ddb32(0x9a7)]){if(sessionStorage[_0x1ddb32(0x423)](_0x1ddb32(0x15a)+_0x146e2f)==='true'){_0x86d01();return;}const _0x56d2b3=document[_0x1ddb32(0x2a0)](_0x1ddb32(0x99d)),_0xad1db8=document[_0x1ddb32(0x2a0)]('confirm-passcode-btn'),_0x1d6f75=document['getElementById'](_0x1ddb32(0x62f)),_0x4ebd28=document[_0x1ddb32(0x2a0)](_0x1ddb32(0x325)),_0x28bb45=document['getElementById'](_0x1ddb32(0x944));document[_0x1ddb32(0x2a0)](_0x1ddb32(0x630))[_0x1ddb32(0x531)]=_0x1ddb32(0x719)+_0x2617bb[_0x1ddb32(0x738)],_0x4ebd28['value']='',_0x28bb45[_0x1ddb32(0x914)][_0x1ddb32(0x6bb)]('hidden'),_0x56d2b3[_0x1ddb32(0x914)][_0x1ddb32(0x278)](_0x1ddb32(0x674));const _0xb4a828=()=>{const _0x524a7e=_0x1ddb32,_0x48093e=_0x4ebd28['value']['trim']();_0x48093e===_0x2617bb['settings'][_0x524a7e(0x779)]?(sessionStorage[_0x524a7e(0x407)](_0x524a7e(0x15a)+_0x146e2f,_0x524a7e(0x2f6)),_0x56d2b3[_0x524a7e(0x914)][_0x524a7e(0x6bb)](_0x524a7e(0x674)),_0x86d01(),_0xad1db8[_0x524a7e(0x997)](_0x524a7e(0x8a5),_0xb4a828)):_0x28bb45[_0x524a7e(0x914)]['remove']('hidden');};_0xad1db8[_0x1ddb32(0x8fe)]=_0xb4a828,_0x1d6f75[_0x1ddb32(0x8fe)]=()=>{const _0x28f560=_0x1ddb32;_0x56d2b3[_0x28f560(0x914)][_0x28f560(0x6bb)](_0x28f560(0x674)),_0x65c31[_0x28f560(0x556)]='',_0xad1db8['removeEventListener']('click',_0xb4a828);};}else _0x86d01();},_0x5d6d0c[_0x20c7f9(0x572)]=()=>{const _0x4758f5=_0x20c7f9,_0xd13511=_0x65c31[_0x4758f5(0x556)],_0x19ab0a=_0x5d6d0c['value'];_0xd13511&&_0x19ab0a&&renderStudentProgressDashboard(_0xd13511,_0x19ab0a);};}async function confirmAndJoinSyncGame(){const _0xe457ab=_0x1c8731,_0x5a2e0f=Array['from'](document[_0xe457ab(0x1a9)](_0xe457ab(0x9da)))[_0xe457ab(0x429)](_0x12c24e=>_0x12c24e['value']);if(_0x5a2e0f[_0xe457ab(0x51f)]===0x0){showMessage(_0xe457ab(0x152));return;}localTeamPlayers=_0x5a2e0f,localPlayerTurnIndex=0x0;const _0x968312=doc(db,_0xe457ab(0x804)+appId+_0xe457ab(0x9a0),currentLiveGameId);try{const _0x4be3c5=await getDoc(_0x968312);if(!_0x4be3c5[_0xe457ab(0x512)]())throw new Error(_0xe457ab(0x5f2));const _0x6e1d8b=_0x4be3c5[_0xe457ab(0x4ff)]()['players']||{};_0x5a2e0f[_0xe457ab(0x28e)](_0x2ffda7=>{const _0x25a3a6=_0xe457ab;!_0x6e1d8b[_0x2ffda7]&&(_0x6e1d8b[_0x2ffda7]={'name':_0x2ffda7,'score':0x0,'answered':![],'status':_0x25a3a6(0x3fd)});}),await updateDoc(_0x968312,{'players':_0x6e1d8b}),document[_0xe457ab(0x2a0)](_0xe457ab(0x4f0))[_0xe457ab(0x914)][_0xe457ab(0x6bb)](_0xe457ab(0x674)),currentStudentName=_0x5a2e0f[0x0],listenForSyncGameUpdates();const _0x2725d7={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0xe457ab(0x407)](_0xe457ab(0x57a),JSON[_0xe457ab(0x91e)](_0x2725d7));}catch(_0x3bcbc){console['error'](_0xe457ab(0x455),_0x3bcbc),showMessage(_0xe457ab(0x854));}}async function resumeActiveGameSession(){const _0x17b93e=_0x1c8731,_0x37db31=sessionStorage[_0x17b93e(0x423)](_0x17b93e(0x57a));if(!_0x37db31)return;const _0x478a6f=JSON['parse'](_0x37db31),{gameId:_0x48fd1f,mode:_0x49f1bc,players:_0x174d16,turnIndex:_0x196681}=_0x478a6f;try{let _0x3cc4b5,_0x31d109;_0x49f1bc===_0x17b93e(0x93f)?_0x3cc4b5=doc(db,'artifacts/'+appId+'/public/data/syncGames',_0x48fd1f):_0x3cc4b5=doc(db,_0x17b93e(0x804)+appId+'/public/data/teamQuizzes',_0x48fd1f);_0x31d109=await getDoc(_0x3cc4b5);if(!_0x31d109[_0x17b93e(0x512)]()||_0x31d109[_0x17b93e(0x4ff)]()['status']===_0x17b93e(0x943)||_0x31d109['data']()[_0x17b93e(0x912)]===_0x17b93e(0x765)){sessionStorage[_0x17b93e(0x271)]('activeGameSession');return;}console[_0x17b93e(0x30f)](_0x17b93e(0x2cf)+_0x49f1bc+_0x17b93e(0x4fd)+_0x48fd1f+')'),localTeamPlayers=_0x174d16,localPlayerTurnIndex=_0x196681;if(_0x49f1bc===_0x17b93e(0x93f))currentLiveGameId=_0x48fd1f,currentStudentName=_0x174d16[0x0],showView('live-game'),listenForSyncGameUpdates();else{currentTeamQuizId=_0x48fd1f;const _0x56fc70=_0x31d109[_0x17b93e(0x4ff)](),_0x2bde22=doc(db,'artifacts/'+appId+_0x17b93e(0x60f),_0x56fc70[_0x17b93e(0x15c)]),_0x398a37=await getDoc(_0x2bde22);_0x398a37[_0x17b93e(0x512)]()&&(currentQuizData=getShuffledQuiz({'id':_0x398a37['id'],..._0x398a37[_0x17b93e(0x4ff)]()}),showView(_0x17b93e(0xa36)),studentInitialView[_0x17b93e(0x914)][_0x17b93e(0x6bb)](_0x17b93e(0x674)),renderTeamQuizQuestion());}}catch(_0x424e2d){console[_0x17b93e(0xa1a)](_0x17b93e(0x1a5),_0x424e2d),sessionStorage['removeItem'](_0x17b93e(0x57a));}}async function handleKickPlayerSync(_0x1a7239){const _0xed8a75=_0x1c8731;if(!currentLiveGameId||!_0x1a7239)return;const _0x405b1c=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x15dd00={};_0x15dd00[_0xed8a75(0xe5)+_0x1a7239+_0xed8a75(0x930)]='inactive';try{await updateDoc(_0x405b1c,_0x15dd00);}catch(_0x26178a){console['error'](_0xed8a75(0x988)+_0x1a7239+'\x20from\x20sync\x20game:',_0x26178a),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function renderStudentProgressDashboard(_0x13cb0f,_0x296246){const _0x3f7879=_0x1c8731,_0x3b6c59=document['getElementById'](_0x3f7879(0xa33));_0x3b6c59[_0x3f7879(0x42b)]=_0x3f7879(0x1f9);try{const _0x3282a4=collection(db,_0x3f7879(0x804)+appId+_0x3f7879(0x60f)),_0x2ea048=query(_0x3282a4,where(_0x3f7879(0x6fd),'==',_0x13cb0f)),_0x3bd13c=await getDocs(_0x2ea048),_0x1b1e90=_0x3bd13c[_0x3f7879(0x1c5)][_0x3f7879(0x429)](_0x477cf9=>({'id':_0x477cf9['id'],..._0x477cf9[_0x3f7879(0x4ff)]()})),_0xfaa18=_0x1b1e90['map'](_0x55968a=>getDoc(doc(db,_0x3f7879(0x804)+appId+'/public/data/quizzes/'+_0x55968a['id']+_0x3f7879(0x9cd),_0x296246))),_0x35a195=await Promise[_0x3f7879(0x3f2)](_0xfaa18),_0x56bc56=_0x35a195[_0x3f7879(0x29a)](_0x302b7b=>_0x302b7b[_0x3f7879(0x512)]())[_0x3f7879(0x429)](_0xfa74e1=>({'quizId':_0xfa74e1[_0x3f7879(0x36e)]['parent'][_0x3f7879(0x7de)]['id'],..._0xfa74e1['data']()}));if(_0x56bc56[_0x3f7879(0x51f)]===0x0){_0x3b6c59[_0x3f7879(0x42b)]=_0x3f7879(0x5eb);return;}let _0x2ce39a=_0x3f7879(0x97b);_0x56bc56[_0x3f7879(0x28e)](_0xa80ed7=>{const _0x5289f3=_0x3f7879,_0x2cdcd2=_0x1b1e90[_0x5289f3(0x216)](_0x277a0e=>_0x277a0e['id']===_0xa80ed7[_0x5289f3(0x15c)]),_0x5bf9dd=_0x2cdcd2[_0x5289f3(0x141)]?.[_0x5289f3(0x7fd)]||_0x5289f3(0x347),_0x1d31d7=_0x2cdcd2[_0x5289f3(0x141)]?.[_0x5289f3(0x4e9)]??0x0,_0x43360f=_0xa80ed7[_0x5289f3(0x7c1)]>=_0x1d31d7;let _0x2a62f2='',_0xe3b5a6=_0x5289f3(0x6ed);switch(_0x5bf9dd){case _0x5289f3(0x347):case'show_results_only':_0xe3b5a6=_0x43360f?_0x5289f3(0x104):'bg-red-50',_0x2a62f2=_0x5289f3(0xa3)+(_0x43360f?'text-green-700':_0x5289f3(0x5e9))+'\x22>'+_0xa80ed7[_0x5289f3(0x7c1)]+_0x5289f3(0x83e)+_0xa80ed7[_0x5289f3(0xa2a)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x43360f?_0x5289f3(0x171):'bg-red-200\x20text-red-800')+'\x22>'+(_0x43360f?_0x5289f3(0xb0):_0x5289f3(0xa0f))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x5289f3(0x6bf):_0xe3b5a6=_0x43360f?'bg-green-50':_0x5289f3(0x866),_0x2a62f2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x43360f?_0x5289f3(0x171):'bg-red-200\x20text-red-800')+'\x22>'+(_0x43360f?_0x5289f3(0xb0):'ไม่ผ่าน')+_0x5289f3(0x8a8);break;case _0x5289f3(0x406):_0xe3b5a6='bg-yellow-50',_0x2a62f2=_0x5289f3(0x387);break;}_0x2ce39a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0xe3b5a6+_0x5289f3(0x77d)+_0x2cdcd2[_0x5289f3(0x39a)]+_0x5289f3(0x34f)+_0xa80ed7[_0x5289f3(0x245)]['length']+_0x5289f3(0x1cd)+new Date(_0xa80ed7[_0x5289f3(0x437)])[_0x5289f3(0x613)](_0x5289f3(0x3c9))+_0x5289f3(0x2fa)+_0x2a62f2+_0x5289f3(0x2f7);}),_0x2ce39a+=_0x3f7879(0x18a),_0x3b6c59[_0x3f7879(0x42b)]=_0x2ce39a;}catch(_0x9968d){console[_0x3f7879(0xa1a)](_0x3f7879(0x453),_0x9968d),_0x3b6c59['innerHTML']=_0x3f7879(0x81a);}}function setupStudentProgressListeners(){const _0x9f77a5=_0x1c8731;document['getElementById']('view-my-progress-btn')[_0x9f77a5(0x2aa)](_0x9f77a5(0x8a5),showStudentProgressView),document[_0x9f77a5(0x2a0)](_0x9f77a5(0x1db))[_0x9f77a5(0x2aa)](_0x9f77a5(0x8a5),()=>{const _0x32e52d=_0x9f77a5;document[_0x32e52d(0x2a0)](_0x32e52d(0x2dd))[_0x32e52d(0x914)]['add'](_0x32e52d(0x674)),document[_0x32e52d(0x2a0)](_0x32e52d(0x5a9))[_0x32e52d(0x914)][_0x32e52d(0x278)](_0x32e52d(0x674));});}async function startSkillPractice(_0x3f8efc){const _0x1eb2f4=_0x1c8731;studentResultArea[_0x1eb2f4(0x914)][_0x1eb2f4(0x6bb)](_0x1eb2f4(0x674)),studentQuizArea[_0x1eb2f4(0x42b)]=_0x1eb2f4(0x416),studentQuizArea[_0x1eb2f4(0x914)][_0x1eb2f4(0x278)](_0x1eb2f4(0x674));try{const _0x22d883=await getStandardizedTopic(_0x3f8efc);console[_0x1eb2f4(0x30f)](_0x1eb2f4(0x2a2)+_0x3f8efc+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x22d883+'\x22'),studentQuizArea['querySelector']('p')[_0x1eb2f4(0x531)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x22d883+'\x22...';const _0x383303=collection(db,_0x1eb2f4(0x804)+appId+_0x1eb2f4(0x3f4)),_0x371b5c=query(_0x383303,where(_0x1eb2f4(0x39a),'==',_0x22d883)),_0xc05466=await getDocs(_0x371b5c);if(_0xc05466[_0x1eb2f4(0x1c5)][_0x1eb2f4(0x51f)]>=0x3){console[_0x1eb2f4(0x30f)](_0x1eb2f4(0x16b)+_0xc05466[_0x1eb2f4(0x1c5)][_0x1eb2f4(0x51f)]+_0x1eb2f4(0x893)+_0x22d883+_0x1eb2f4(0x835));let _0x4db4ac=_0xc05466['docs']['map'](_0x28bc4b=>_0x28bc4b['data']());shuffleArray(_0x4db4ac);const _0x1765aa={'topic':_0x22d883,'questions':_0x4db4ac[_0x1eb2f4(0x469)](0x0,0x3)};displaySkillPracticeDrill(_0x1765aa);}else{console[_0x1eb2f4(0x30f)](_0x1eb2f4(0x2ba)+_0x22d883+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x4b33ef=await generatePracticeQuestions(_0x22d883);await saveDrillToPracticeBank(_0x4b33ef,_0x22d883),displaySkillPracticeDrill(_0x4b33ef);}}catch(_0x1cb14e){console[_0x1eb2f4(0xa1a)](_0x1eb2f4(0x938),_0x1cb14e),showMessage(_0x1eb2f4(0x7ed)),studentQuizArea[_0x1eb2f4(0x914)][_0x1eb2f4(0x6bb)](_0x1eb2f4(0x674)),studentResultArea[_0x1eb2f4(0x914)]['remove'](_0x1eb2f4(0x674));}}async function saveDrillToPracticeBank(_0x2da7e4,_0x4efcf7){const _0x25c7d4=_0x1c8731,_0x2295ff=collection(db,'artifacts/'+appId+_0x25c7d4(0x3f4)),_0x1d75b2=writeBatch(db);_0x2da7e4[_0x25c7d4(0x619)]['forEach'](_0x4a551d=>{const _0x50b112=_0x25c7d4,_0x133f23=doc(_0x2295ff);_0x1d75b2[_0x50b112(0xf3)](_0x133f23,{'topic':_0x4efcf7,'questionText':_0x4a551d[_0x50b112(0x2dc)],'options':_0x4a551d[_0x50b112(0x8bf)],'correctAnswerIndex':_0x4a551d[_0x50b112(0x587)],'explanation':_0x4a551d[_0x50b112(0xa0e)],'createdAt':serverTimestamp()});});try{await _0x1d75b2[_0x25c7d4(0x717)](),console[_0x25c7d4(0x30f)]('บันทึกคำถามใหม่\x20'+_0x2da7e4['questions'][_0x25c7d4(0x51f)]+_0x25c7d4(0x7b1));}catch(_0x39ac2b){console[_0x25c7d4(0xa1a)](_0x25c7d4(0x2cb),_0x39ac2b);}}async function getStandardizedTopic(_0xb28000){const _0x7eb63=_0x1c8731,_0x260e09='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0xb28000+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x58396c={'type':'OBJECT','properties':{'standardTopic':{'type':_0x7eb63(0x2ec)}},'required':[_0x7eb63(0x145)]};try{const _0x3739c1=await callAnalysisApi(_0x260e09,_0x58396c);return _0x3739c1['standardTopic'];}catch(_0x3ba4ba){return console['error'](_0x7eb63(0x59e),_0x3ba4ba),_0xb28000;}}async function handleGenerateEasyVersionQuiz(_0x166472){const _0x2d960b=_0x1c8731,_0x1ea519=document[_0x2d960b(0x2a0)](_0x2d960b(0x12c)),_0x4bef6d=document['getElementById'](_0x2d960b(0x371));_0x4bef6d[_0x2d960b(0x914)][_0x2d960b(0x6bb)](_0x2d960b(0x674));const _0x297a17=_0x2d960b(0x7d2);_0x1ea519['insertAdjacentHTML']('beforeend',_0x297a17);try{const _0x3e8f8d=allQuizzes['find'](_0x33deec=>_0x33deec['id']===_0x166472);if(!_0x3e8f8d)throw new Error(_0x2d960b(0x675));const _0x1bd575='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0x2d960b(0x91e)](_0x3e8f8d[_0x2d960b(0x619)])+_0x2d960b(0x4c3),_0x79c0cb={'type':_0x2d960b(0x3e8),'properties':{'questionText':{'type':_0x2d960b(0x2ec)},'questionType':{'type':_0x2d960b(0x2ec)},'options':{'type':_0x2d960b(0x64d),'items':{'type':_0x2d960b(0x2ec)}},'correctAnswerIndex':{'type':_0x2d960b(0x4a6)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2d960b(0x2ec)},'imageCode':{'type':_0x2d960b(0x2ec)}},'required':[_0x2d960b(0x2dc),_0x2d960b(0x173),_0x2d960b(0xa0e)]},_0x55843d={'type':_0x2d960b(0x3e8),'properties':{'questions':{'type':_0x2d960b(0x64d),'items':_0x79c0cb}},'required':[_0x2d960b(0x619)]},_0x2fa6a9=await callAnalysisApi(_0x1bd575,_0x55843d);_0x2fa6a9&&_0x2fa6a9['questions']&&_0x2fa6a9[_0x2d960b(0x619)][_0x2d960b(0x28e)](_0x2a550e=>{const _0x8b5cf5=_0x2d960b;if(_0x2a550e[_0x8b5cf5(0x748)]('imageCode')){const _0x45dcf6=String(_0x2a550e[_0x8b5cf5(0x25f)])[_0x8b5cf5(0x611)]();(_0x45dcf6===''||_0x45dcf6[_0x8b5cf5(0x263)]()===_0x8b5cf5(0xa21)||!_0x45dcf6[_0x8b5cf5(0x770)]('<svg'))&&delete _0x2a550e[_0x8b5cf5(0x25f)];}});if(!_0x2fa6a9||!_0x2fa6a9[_0x2d960b(0x619)]||_0x2fa6a9[_0x2d960b(0x619)][_0x2d960b(0x51f)]===0x0)throw new Error(_0x2d960b(0x8db));const _0x35e90a=_0x2fa6a9[_0x2d960b(0x619)][_0x2d960b(0x429)]((_0xc8584,_0x311f43)=>({..._0xc8584,'id':'q_'+Date[_0x2d960b(0x4f9)]()+'_'+_0x311f43})),_0xb47aae={'projectId':_0x3e8f8d['projectId'],'quizType':_0x3e8f8d[_0x2d960b(0x13d)],'settings':_0x3e8f8d[_0x2d960b(0x141)],'createdBy':_0x3e8f8d[_0x2d960b(0x2f1)],'status':_0x2d960b(0x3fd),'topic':_0x2d960b(0x2c7)+_0x3e8f8d[_0x2d960b(0x39a)],'questions':_0x35e90a,'createdAt':new Date()[_0x2d960b(0x880)](),'quizMode':_0x2d960b(0x248),'pairedQuizId':null};let _0x48deab;while(!![]){_0x48deab=Math['floor'](0x3e8+Math[_0x2d960b(0x327)]()*0x2328)['toString']();const _0x35089a=await getDoc(doc(db,_0x2d960b(0x804)+appId+_0x2d960b(0x60f),_0x48deab));if(!_0x35089a[_0x2d960b(0x512)]())break;}await setDoc(doc(db,_0x2d960b(0x804)+appId+_0x2d960b(0x60f),_0x48deab),_0xb47aae),showMessage(_0x2d960b(0x4b7));}catch(_0x1c9bdb){console[_0x2d960b(0xa1a)](_0x2d960b(0x8ca),_0x1c9bdb),showMessage(_0x2d960b(0x71b)+_0x1c9bdb[_0x2d960b(0x285)]);}finally{const _0x3f0aa2=document['getElementById'](_0x2d960b(0x40e));_0x3f0aa2&&_0x3f0aa2['remove'](),_0x4bef6d['classList'][_0x2d960b(0x278)]('hidden');}}async function generatePracticeQuestions(_0x3b772e){const _0x11cef1=_0x1c8731,_0x1450f1=_0x11cef1(0x10e)+_0x3b772e+_0x11cef1(0x5f6)+simpleMathPrompt+_0x11cef1(0x6e6),_0xc262a5={'type':_0x11cef1(0x3e8),'properties':{'questionText':{'type':_0x11cef1(0x2ec)},'options':{'type':_0x11cef1(0x64d),'items':{'type':_0x11cef1(0x2ec)}},'correctAnswerIndex':{'type':_0x11cef1(0x4a6)},'explanation':{'type':_0x11cef1(0x2ec)}},'required':[_0x11cef1(0x2dc),_0x11cef1(0x8bf),_0x11cef1(0x587),_0x11cef1(0xa0e)]},_0xb791d2={'type':'OBJECT','properties':{'topic':{'type':_0x11cef1(0x2ec)},'questions':{'type':_0x11cef1(0x64d),'items':_0xc262a5}},'required':[_0x11cef1(0x39a),'questions']};return await callAnalysisApi(_0x1450f1,_0xb791d2);}function displayLessonPlan(_0x1d8810,_0x2b4b7a){const _0x1ab12b=_0x1c8731,_0x1b3892=_0x1ab12b(0x72f)+_0x2b4b7a[_0x1ab12b(0x39a)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x1d8810[_0x1ab12b(0x595)][_0x1ab12b(0x429)](_0x18b788=>_0x1ab12b(0x53e)+_0x18b788+_0x1ab12b(0x2b1))[_0x1ab12b(0x795)]('')+_0x1ab12b(0x6bd)+_0x1d8810[_0x1ab12b(0x91a)]+_0x1ab12b(0x320)+_0x1d8810[_0x1ab12b(0x953)][_0x1ab12b(0x429)](_0x149a68=>_0x1ab12b(0x105)+_0x149a68['question']+'</p><p><strong>เฉลย:</strong>\x20'+_0x149a68[_0x1ab12b(0x83c)]+_0x1ab12b(0x5c5))['join']('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['getElementById'](_0x1ab12b(0x129))[_0x1ab12b(0x531)]=_0x1ab12b(0x221)+_0x2b4b7a['topic'],document['getElementById']('lesson-plan-content')[_0x1ab12b(0x42b)]=_0x1b3892,document[_0x1ab12b(0x2a0)](_0x1ab12b(0x34e))['classList'][_0x1ab12b(0x278)](_0x1ab12b(0x674));if(window[_0x1ab12b(0x651)])MathJax[_0x1ab12b(0x626)]();}function displaySkillPracticeDrill(_0x51eb0e){const _0x291a2d=_0x1c8731;let _0xcb4a61=0x0;const _0x8f57b2=_0x51eb0e[_0x291a2d(0x619)],_0x481d39=()=>{const _0x4e205a=_0x291a2d,_0x4472c3=_0x8f57b2[_0xcb4a61],_0x29281e=_0x4e205a(0x4aa)+(_0xcb4a61+0x1)+_0x4e205a(0x83e)+_0x8f57b2[_0x4e205a(0x51f)]+_0x4e205a(0x300)+_0x4472c3[_0x4e205a(0x2dc)]+_0x4e205a(0x69c)+_0x4472c3[_0x4e205a(0x8bf)][_0x4e205a(0x429)]((_0x1d6094,_0x58e864)=>_0x4e205a(0x5d5)+_0x58e864+_0x4e205a(0x2ce)+_0x58e864+_0x4e205a(0x605)+_0x58e864+'\x22>'+_0x1d6094+_0x4e205a(0x87c))[_0x4e205a(0x795)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x4e205a(0x42b)]=_0x29281e;if(window['MathJax'])MathJax[_0x4e205a(0x626)]([studentQuizArea]);document[_0x4e205a(0x2a0)](_0x4e205a(0x93e))['addEventListener'](_0x4e205a(0x8a5),async()=>{const _0x159571=_0x4e205a,_0x20107e=await getHintForQuestion(_0x4472c3[_0x159571(0x2dc)]);showMessage(_0x20107e);}),document['getElementById']('check-answer-btn')['addEventListener']('click',()=>{const _0x5addd0=_0x4e205a,_0xb733c0=document[_0x5addd0(0x265)](_0x5addd0(0x97f));if(!_0xb733c0){showMessage(_0x5addd0(0xb5));return;}const _0x55b19a=document[_0x5addd0(0x2a0)](_0x5addd0(0x971)),_0x57b42d=parseInt(_0xb733c0[_0x5addd0(0x556)])===_0x4472c3[_0x5addd0(0x587)];_0x57b42d?(_0x55b19a['className']=_0x5addd0(0x482),_0x55b19a['innerHTML']=_0x5addd0(0x51d)+_0x4472c3[_0x5addd0(0xa0e)]):(_0x55b19a[_0x5addd0(0x44e)]=_0x5addd0(0x425),_0x55b19a[_0x5addd0(0x42b)]=_0x5addd0(0xc2)+_0x4472c3[_0x5addd0(0xa0e)]);_0x55b19a[_0x5addd0(0x914)][_0x5addd0(0x278)](_0x5addd0(0x674));if(window[_0x5addd0(0x651)])MathJax[_0x5addd0(0x626)]([_0x55b19a]);document[_0x5addd0(0x2a0)](_0x5addd0(0x2bd))[_0x5addd0(0x914)][_0x5addd0(0x6bb)]('hidden'),document[_0x5addd0(0x2a0)](_0x5addd0(0x93e))['classList'][_0x5addd0(0x6bb)](_0x5addd0(0x674)),document[_0x5addd0(0x2a0)](_0x5addd0(0x4a7))[_0x5addd0(0x914)][_0x5addd0(0x278)](_0x5addd0(0x674));}),document[_0x4e205a(0x2a0)](_0x4e205a(0x4a7))['addEventListener'](_0x4e205a(0x8a5),()=>{const _0x2f7df5=_0x4e205a;_0xcb4a61++,_0xcb4a61<_0x8f57b2[_0x2f7df5(0x51f)]?_0x481d39():(studentQuizArea[_0x2f7df5(0x42b)]=_0x2f7df5(0x301),document[_0x2f7df5(0x2a0)](_0x2f7df5(0x704))[_0x2f7df5(0x2aa)](_0x2f7df5(0x8a5),()=>{const _0x57b683=_0x2f7df5;studentQuizArea[_0x57b683(0x914)][_0x57b683(0x6bb)](_0x57b683(0x674)),studentResultArea[_0x57b683(0x914)][_0x57b683(0x278)]('hidden');}));});};_0x481d39();}async function getHintForQuestion(_0x18867a){const _0x59d216=_0x1c8731,_0x455421='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x18867a+_0x59d216(0x7fc),_0x2e4553={'type':'OBJECT','properties':{'hint':{'type':_0x59d216(0x2ec)}},'required':['hint']};try{const _0x3f0969=await callAnalysisApi(_0x455421,_0x2e4553);return _0x3f0969[_0x59d216(0x90c)];}catch(_0x176c01){return console[_0x59d216(0xa1a)](_0x59d216(0x86a),_0x176c01),_0x59d216(0x3ed);}}async function extractTextFromPdf(_0x28555e){const _0x3ae584=_0x1c8731;pdfjsLib[_0x3ae584(0x813)][_0x3ae584(0x250)]=_0x3ae584(0x7f7);const _0x371e87=await _0x28555e[_0x3ae584(0x102)](),_0x270155=await pdfjsLib[_0x3ae584(0x422)](_0x371e87)['promise'],_0x447930=_0x270155[_0x3ae584(0x284)];let _0x568687='';for(let _0x5695b3=0x1;_0x5695b3<=_0x447930;_0x5695b3++){const _0x4944b0=await _0x270155[_0x3ae584(0xa01)](_0x5695b3),_0x30118c=await _0x4944b0[_0x3ae584(0x3d8)](),_0x3b1a77=_0x30118c['items'][_0x3ae584(0x429)](_0x4d0430=>_0x4d0430['str'])[_0x3ae584(0x795)]('\x20');_0x568687+=_0x3b1a77+'\x0a\x0a';}return _0x568687;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0xe67cab){const _0x1c6c22=_0x1c8731,_0x5ba890=document[_0x1c6c22(0x2a0)](_0x1c6c22(0x62b)),_0x4effe8=document[_0x1c6c22(0x2a0)](_0x1c6c22(0x48f));_0x5ba890[_0x1c6c22(0x914)][_0x1c6c22(0x278)](_0x1c6c22(0x674)),_0x4effe8[_0x1c6c22(0x42b)]=_0x1c6c22(0x55c);try{const _0x27d970=_0x1c6c22(0x354)+_0xe67cab+_0x1c6c22(0x2a3),_0x3e1bb3={'type':_0x1c6c22(0x3e8),'properties':{'topics':{'type':'ARRAY','items':{'type':_0x1c6c22(0x2ec)}}},'required':[_0x1c6c22(0x9a4)]},_0x56e3c5=await callAnalysisApi(_0x27d970,_0x3e1bb3);if(_0x56e3c5&&_0x56e3c5[_0x1c6c22(0x9a4)])extractedBlueprintTopics=_0x56e3c5[_0x1c6c22(0x9a4)],renderBlueprintTopics();else throw new Error(_0x1c6c22(0x147));}catch(_0x5b5708){console[_0x1c6c22(0xa1a)](_0x1c6c22(0x308),_0x5b5708),_0x4effe8['innerHTML']=_0x1c6c22(0x62a);}}function renderBlueprintTopics(){const _0x2b9fed=_0x1c8731,_0x4b37d0=document['getElementById'](_0x2b9fed(0x48f));if(extractedBlueprintTopics['length']===0x0){_0x4b37d0[_0x2b9fed(0x42b)]=_0x2b9fed(0x272);return;}_0x4b37d0[_0x2b9fed(0x42b)]=extractedBlueprintTopics[_0x2b9fed(0x429)](_0x1926e0=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x1926e0+_0x2b9fed(0x6a4)+escape(_0x1926e0)+_0x2b9fed(0xa19)+escape(_0x1926e0)+_0x2b9fed(0x9f2))[_0x2b9fed(0x795)]('');}async function handleGenerateTeachingContent(_0x30ff77){const _0x2465ed=_0x1c8731,_0x666218=document[_0x2465ed(0x2a0)](_0x2465ed(0x34e)),_0x386bdc=document[_0x2465ed(0x2a0)](_0x2465ed(0x745));document[_0x2465ed(0x2a0)](_0x2465ed(0x129))[_0x2465ed(0x531)]=_0x2465ed(0x554)+_0x30ff77,_0x386bdc[_0x2465ed(0x42b)]=_0x2465ed(0x932),_0x666218[_0x2465ed(0x914)][_0x2465ed(0x278)](_0x2465ed(0x674));try{const _0xd04bd0=_0x2465ed(0xc9)+_0x30ff77+_0x2465ed(0x788),_0x52cb84={'type':_0x2465ed(0x3e8),'properties':{'keyConcepts':{'type':'ARRAY','items':{'type':'STRING'}},'commonMistakes':{'type':_0x2465ed(0x64d),'items':{'type':'STRING'}},'stepByStepExamples':{'type':_0x2465ed(0x64d),'items':{'type':'OBJECT','properties':{'question':{'type':_0x2465ed(0x2ec)},'solution':{'type':_0x2465ed(0x2ec)}},'required':[_0x2465ed(0x96a),'solution']}},'teacherTips':{'type':_0x2465ed(0x64d),'items':{'type':_0x2465ed(0x2ec)}}},'required':[_0x2465ed(0x126),_0x2465ed(0x648),_0x2465ed(0x82a),'teacherTips']},_0x55f0e3=await callAnalysisApi(_0xd04bd0,_0x52cb84);displayTeachingContent(_0x55f0e3,_0x30ff77);}catch(_0x56bd33){console[_0x2465ed(0xa1a)](_0x2465ed(0xa0c),_0x56bd33),_0x386bdc[_0x2465ed(0x42b)]='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x56bd33[_0x2465ed(0x285)]+_0x2465ed(0x28f);}}function displayTeachingContent(_0xb69b14,_0x2b7fe2){const _0x443b23=_0x1c8731,_0x449581=document['getElementById'](_0x443b23(0x745));document[_0x443b23(0x2a0)]('lesson-plan-title')[_0x443b23(0x531)]=_0x443b23(0x66e)+_0x2b7fe2;const _0x1bf94f=_0x443b23(0x6a6)+_0xb69b14['keyConcepts'][_0x443b23(0x429)](_0x1e580b=>_0x443b23(0x53e)+_0x1e580b+'</li>')['join']('')+_0x443b23(0x14e)+_0xb69b14['commonMistakes'][_0x443b23(0x429)](_0x4d22f5=>_0x443b23(0x53e)+_0x4d22f5+_0x443b23(0x2b1))[_0x443b23(0x795)]('')+_0x443b23(0x43e)+_0xb69b14[_0x443b23(0x82a)][_0x443b23(0x429)](_0x472075=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x472075[_0x443b23(0x96a)]+_0x443b23(0x984)+_0x472075[_0x443b23(0x83c)]+_0x443b23(0x7b2))[_0x443b23(0x795)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0xb69b14[_0x443b23(0x8ea)][_0x443b23(0x429)](_0x58b673=>_0x443b23(0x53e)+_0x58b673+_0x443b23(0x2b1))['join']('')+_0x443b23(0x5b4);_0x449581[_0x443b23(0x42b)]=_0x1bf94f;if(window[_0x443b23(0x651)])MathJax[_0x443b23(0x626)]([_0x449581]);}function generateQuizForSingleTopic(_0x57082c){const _0x1a3540=_0x1c8731;console[_0x1a3540(0x30f)](_0x1a3540(0x905)+_0x57082c+'\x22'),generateQuiz(_0x57082c,null);}async function handleGenerateFromBlueprint(){const _0x321dcc=_0x1c8731,_0x18b438=document['getElementById'](_0x321dcc(0xa2c)),_0x489755=document[_0x321dcc(0x2a0)](_0x321dcc(0x1e9)),_0xe2a524=_0x18b438[_0x321dcc(0x5dc)][0x0],_0x52b46f=_0x489755[_0x321dcc(0x5dc)]['length']>0x0?_0x489755[_0x321dcc(0x5dc)][0x0]:null;if(!_0xe2a524){showMessage(_0x321dcc(0x5d8));return;}const _0x1563e3=document[_0x321dcc(0x2a0)](_0x321dcc(0x86d)),_0x339703=document[_0x321dcc(0x2a0)]('loader-text'),_0x5d60dc=document['getElementById'](_0x321dcc(0x830)),_0x48e16c=document[_0x321dcc(0x2a0)](_0x321dcc(0x7bf));_0x48e16c[_0x321dcc(0x13f)]=!![],document[_0x321dcc(0x2a0)](_0x321dcc(0x183))[_0x321dcc(0x914)][_0x321dcc(0x278)](_0x321dcc(0x674)),_0x5d60dc[_0x321dcc(0x42b)]='',_0x1563e3[_0x321dcc(0x914)][_0x321dcc(0x278)]('hidden');try{_0x339703[_0x321dcc(0x531)]=_0x321dcc(0x7e6);const _0x286e5=await extractTextFromPdf(_0xe2a524),_0x508495='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20พยายามทดสอบความเข้าใจในแต่ละหัวข้อจากหลายๆ\x20มุมมอง\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3afc1b=_0x52b46f?'2.\x20วิเคราะห์\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ':'',_0xdc1c45='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22เนื้อหาจาก\x20Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3afc1b+_0x321dcc(0x3cc)+(_0x52b46f?_0x321dcc(0x656):'')+_0x321dcc(0x599)+_0x508495+_0x321dcc(0x2b6)+_0x286e5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x321dcc(0x908),_0x34c3c7={'type':_0x321dcc(0x3e8),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x321dcc(0x2ec),'enum':[_0x321dcc(0x9f3),_0x321dcc(0x3e2)]},'options':{'type':'ARRAY','items':{'type':_0x321dcc(0x2ec)}},'correctAnswerIndex':{'type':_0x321dcc(0x4a6)},'idealAnswer':{'type':_0x321dcc(0x2ec)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x321dcc(0x2ec)}},'required':[_0x321dcc(0x2dc),'questionType',_0x321dcc(0xa0e)]},_0x5ad980={'type':_0x321dcc(0x3e8),'properties':{'topic':{'type':_0x321dcc(0x2ec)},'questions':{'type':'ARRAY','items':_0x34c3c7}},'required':[_0x321dcc(0x39a),_0x321dcc(0x619)]};await handleApiCall(_0xdc1c45,_0x321dcc(0x974),_0x5ad980);}catch(_0x4687b3){console[_0x321dcc(0xa1a)](_0x321dcc(0x80a),_0x4687b3),showMessage(_0x321dcc(0x71b)+_0x4687b3['message']),_0x5d60dc[_0x321dcc(0x42b)]=_0x321dcc(0x895);}finally{_0x1563e3[_0x321dcc(0x914)]['add']('hidden'),_0x48e16c['disabled']=![];}}function proceedToNextQuestion(_0x40bc71){const _0x5d3fb5=_0x1c8731;studentAnswersPerQuestion[_0x5d3fb5(0x74b)](_0x40bc71),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x5d3fb5(0x619)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x1c3fba,_0x2eaaf2){const _0x25c9b1=_0x1c8731,_0x2a7680=Object[_0x25c9b1(0x390)](_0x1c3fba[_0x25c9b1(0x4f6)]||{}),_0x79d480=_0x2a7680[_0x25c9b1(0x51f)],_0x549a95=[..._0x2a7680][_0x25c9b1(0x3a9)]((_0x53ed9d,_0x36e674)=>_0x36e674[_0x25c9b1(0x968)]-_0x53ed9d[_0x25c9b1(0x968)]),_0x200b83=_0x1c3fba[_0x25c9b1(0xa30)];let _0x276528='';const _0x2efea1=_0x1c3fba[_0x25c9b1(0x2f9)][_0x25c9b1(0x619)],_0x417e54=_0x2efea1[_0x200b83],_0x226a0c=_0x1a247e=>String[_0x25c9b1(0x3eb)](0x41+_0x1a247e);let _0xaf4ee8='',_0x399f2b='';if(_0x417e54){const _0x16b2f5=_0x417e54[_0x25c9b1(0x173)]||_0x1c3fba['shuffledQuiz'][_0x25c9b1(0x13d)];if(_0x16b2f5===_0x25c9b1(0x9f3)&&_0x417e54['options']&&_0x417e54[_0x25c9b1(0x587)]!==undefined){const _0x267e23=_0x417e54[_0x25c9b1(0x587)];_0xaf4ee8=_0x417e54[_0x25c9b1(0x8bf)][_0x267e23],_0x399f2b=_0x226a0c(_0x267e23)+'.';}else{if(_0x16b2f5==='true_false'){const _0x8c0ae7=_0x417e54[_0x25c9b1(0x701)]===!![]||String(_0x417e54[_0x25c9b1(0x701)])[_0x25c9b1(0x263)]()==='true';_0x8c0ae7?(_0xaf4ee8=_0x25c9b1(0x969),_0x399f2b='ก.'):(_0xaf4ee8=_0x25c9b1(0x4bf),_0x399f2b='ข.');}else{if(_0x16b2f5===_0x25c9b1(0x8b2))_0xaf4ee8=_0x417e54[_0x25c9b1(0x2f5)]||'-',_0x399f2b='';else _0x16b2f5===_0x25c9b1(0x3e2)&&(_0xaf4ee8=_0x417e54[_0x25c9b1(0x954)]||'-',_0x399f2b='');}}}_0xaf4ee8&&(_0x276528=_0x25c9b1(0xca)+(_0x200b83+0x1)+_0x25c9b1(0x1bf)+_0x399f2b+'\x20'+_0xaf4ee8+_0x25c9b1(0xad));const _0x160029=_0x549a95[_0x25c9b1(0x429)](_0x59d581=>{const _0x21ec13=_0x25c9b1;let _0x4ac45f=![];if(_0x59d581[_0x21ec13(0x2ab)]&&_0x200b83!==-0x1){const _0x18b618=_0x59d581['answers']['find'](_0x35efe8=>_0x35efe8[_0x21ec13(0x8a4)]===_0x200b83);_0x18b618&&_0x18b618[_0x21ec13(0x69b)]&&(_0x4ac45f=!![]);}const _0x3556fd=_0x4ac45f?_0x21ec13(0x1f3):_0x21ec13(0x71c);return _0x21ec13(0x9c3)+_0x3556fd+'\x22><span>'+_0x59d581['name']+'</span><span\x20class=\x22font-bold\x22>'+_0x59d581['score']+'\x20คะแนน</span></div>';})[_0x25c9b1(0x795)](''),_0x3932b3=_0x2efea1[_0x25c9b1(0x429)]((_0x3e9d1b,_0x515226)=>{const _0x30fa8d=_0x25c9b1,_0x2b6a89=_0x2a7680[_0x30fa8d(0x29a)](_0x2c10b6=>_0x2c10b6[_0x30fa8d(0x2ab)]&&_0x2c10b6['answers'][_0x30fa8d(0x216)](_0x31ca41=>_0x31ca41['questionIndex']===_0x515226&&_0x31ca41[_0x30fa8d(0x69b)]))['length'],_0x113e64=_0x515226===_0x200b83,_0x522c91=_0x113e64?_0x30fa8d(0x645):_0x30fa8d(0x3ac);return _0x30fa8d(0x10d)+_0x522c91+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x515226+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x2b6a89+_0x30fa8d(0x83e)+_0x79d480+_0x30fa8d(0x80b);})[_0x25c9b1(0x795)]('');let _0xa56b5e='',_0x3bdc01='';if(_0x2eaaf2){const _0xece858=_0x1c3fba[_0x25c9b1(0xa30)]>=_0x2efea1['length']-0x1;_0xa56b5e=_0x25c9b1(0x878)+(_0xece858?_0x25c9b1(0x297):_0x25c9b1(0x565))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',_0x3bdc01=_0x25c9b1(0x167);}const _0xbf3556=_0x25c9b1(0x32e)+_0x1c3fba[_0x25c9b1(0x2f9)][_0x25c9b1(0x39a)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3bdc01+_0x25c9b1(0x647)+_0x276528+_0x25c9b1(0x575)+(_0x160029||_0x25c9b1(0x137))+_0x25c9b1(0x46a)+_0x3932b3+_0x25c9b1(0x7d9)+(_0x2eaaf2?_0x25c9b1(0x546)+_0xa56b5e+_0x25c9b1(0x18a):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0xbf3556;if(window[_0x25c9b1(0x651)]){const _0x12772e=document[_0x25c9b1(0x2a0)]('main-correct-answer-display');_0x12772e&&MathJax['typesetPromise']([_0x12772e]);}if(_0x2eaaf2){document[_0x25c9b1(0x2a0)](_0x25c9b1(0x7c5))[_0x25c9b1(0x8fe)]=async()=>{const _0x1a5998=_0x25c9b1,_0x812578=doc(db,_0x1a5998(0x804)+appId+_0x1a5998(0x9a0),currentLiveGameId),_0x1357fd=_0x1c3fba[_0x1a5998(0xa30)]+0x1;if(_0x1357fd<_0x2efea1['length']){const _0x4bc407={};Object['keys'](_0x1c3fba[_0x1a5998(0x4f6)])['forEach'](_0x38a1e4=>{const _0x51c1c6=_0x1a5998;_0x4bc407[_0x51c1c6(0xe5)+_0x38a1e4+_0x51c1c6(0x391)]=![],_0x4bc407['players.'+_0x38a1e4+_0x51c1c6(0x3b8)]=null;}),await updateDoc(_0x812578,{..._0x4bc407,'status':_0x1a5998(0x96a),'currentQuestionIndex':_0x1357fd,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x812578,{'status':_0x1a5998(0x765)});};const _0xbd3861=document['getElementById']('end-sync-game-btn');_0xbd3861&&(_0xbd3861[_0x25c9b1(0x8fe)]=()=>{const _0x4f678a=_0x25c9b1;showConfirmation(_0x4f678a(0x5cc),async()=>{const _0x37d990=_0x4f678a,_0x2b9a98=doc(db,_0x37d990(0x804)+appId+_0x37d990(0x9a0),currentLiveGameId);await updateDoc(_0x2b9a98,{'status':_0x37d990(0x765)});});});}}async function handleGenerateParallelFromBank(_0x2b6bcd){const _0x54ca64=_0x1c8731,_0x28ba34=document[_0x54ca64(0x2a0)](_0x54ca64(0x12c)),_0x1b1db7=document[_0x54ca64(0x2a0)](_0x54ca64(0x371));_0x1b1db7[_0x54ca64(0x914)]['add'](_0x54ca64(0x674));const _0x1e2a21=_0x54ca64(0x715)+_0x2b6bcd[_0x54ca64(0x39a)]+_0x54ca64(0x8df);_0x28ba34[_0x54ca64(0x1f1)]('beforeend',_0x1e2a21);const _0x426627=document['getElementById'](_0x54ca64(0x523));try{const _0x4a879a=_0x2b6bcd[_0x54ca64(0x619)]['map']((_0x1c511f,_0x557f44)=>{const _0x209a82=_0x54ca64;let _0x594dd0=_0x557f44+0x1+'.\x20'+(_0x1c511f[_0x209a82(0x2dc)]||_0x1c511f['stem'])+'\x0a';if(_0x1c511f[_0x209a82(0x8bf)])_0x594dd0+=_0x1c511f['options'][_0x209a82(0x429)]((_0x23e658,_0x3116db)=>'\x20\x20\x20-\x20'+(_0x3116db===_0x1c511f[_0x209a82(0x587)]?'[*]':'')+'\x20'+_0x23e658)['join']('\x0a');else _0x1c511f[_0x209a82(0x954)]&&(_0x594dd0+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x1c511f['idealAnswer']);return _0x594dd0;})['join']('\x0a\x0a');_0x426627[_0x54ca64(0x531)]=_0x54ca64(0x28b);const _0x5c4e95=_0x54ca64(0x598)+_0x2b6bcd[_0x54ca64(0x39a)]+_0x54ca64(0x898)+_0x4a879a+_0x54ca64(0x465)+simpleMathPrompt+_0x54ca64(0x908),_0x212d90={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x54ca64(0x2ec),'enum':[_0x54ca64(0x9f3),_0x54ca64(0x3e2),_0x54ca64(0x19b),'matching_item']},'options':{'type':_0x54ca64(0x64d),'items':{'type':_0x54ca64(0x2ec)}},'correctAnswerIndex':{'type':_0x54ca64(0x4a6)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x54ca64(0x3cd)},'stem':{'type':_0x54ca64(0x2ec)},'correctResponse':{'type':_0x54ca64(0x2ec)},'allResponses':{'type':_0x54ca64(0x64d),'items':{'type':_0x54ca64(0x2ec)}},'explanation':{'type':_0x54ca64(0x2ec)},'imageCode':{'type':'STRING'}},'required':[_0x54ca64(0x173),_0x54ca64(0xa0e)]},_0x2d523a={'type':_0x54ca64(0x3e8),'properties':{'topic':{'type':_0x54ca64(0x2ec)},'questions':{'type':_0x54ca64(0x64d),'items':_0x212d90}},'required':[_0x54ca64(0x39a),_0x54ca64(0x619)]},_0x14ffff=await callAnalysisApi(_0x5c4e95,_0x2d523a),_0xba45a9=_0x14ffff[_0x54ca64(0x619)][_0x54ca64(0x429)]((_0x25ccda,_0x2aceca)=>({..._0x25ccda,'id':'q_'+Date[_0x54ca64(0x4f9)]()+'_'+_0x2aceca})),_0x1043a3=_0x54ca64(0x8b3)+_0x2b6bcd[_0x54ca64(0x39a)],_0x392a8e={'topic':_0x1043a3,'questions':_0xba45a9,'quizType':_0x2b6bcd[_0x54ca64(0x13d)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x54ca64(0x3fd),'settings':_0x2b6bcd[_0x54ca64(0x141)],'quizMode':_0x54ca64(0x248),'pairedQuizId':null,'lessonPlan':null};let _0x1850fc;while(!![]){_0x1850fc=Math['floor'](0x3e8+Math[_0x54ca64(0x327)]()*0x2328)[_0x54ca64(0x547)]();const _0x7694df=await getDoc(doc(db,_0x54ca64(0x804)+appId+_0x54ca64(0x60f),_0x1850fc));if(!_0x7694df[_0x54ca64(0x512)]())break;}await setDoc(doc(db,_0x54ca64(0x804)+appId+_0x54ca64(0x60f),_0x1850fc),_0x392a8e),showMessage(_0x54ca64(0x2c4));}catch(_0x5ab839){console[_0x54ca64(0xa1a)](_0x54ca64(0x4a2),_0x5ab839),showMessage(_0x54ca64(0x71b)+_0x5ab839[_0x54ca64(0x285)]);}finally{const _0x1d10fa=document[_0x54ca64(0x2a0)](_0x54ca64(0x40e));_0x1d10fa&&_0x1d10fa[_0x54ca64(0x278)](),_0x1b1db7[_0x54ca64(0x914)][_0x54ca64(0x278)](_0x54ca64(0x674));}}async function handleGenerateParallelPostTest(_0x5d8adf){const _0x3b2ba2=_0x1c8731,_0x7f2b2b=document[_0x3b2ba2(0x2a0)](_0x3b2ba2(0x12c)),_0x5c8427=document['getElementById'](_0x3b2ba2(0x371));_0x5c8427[_0x3b2ba2(0x914)][_0x3b2ba2(0x6bb)]('hidden');const _0x1acd34=_0x3b2ba2(0x775);_0x7f2b2b['insertAdjacentHTML'](_0x3b2ba2(0x550),_0x1acd34);try{const _0x5452fb=_0x5d8adf['questions'][_0x3b2ba2(0x429)]((_0x525fbc,_0x3206dd)=>{const _0x42a44f=_0x3b2ba2;let _0x12b2f1=_0x3206dd+0x1+'.\x20'+(_0x525fbc['questionText']||_0x525fbc[_0x42a44f(0x332)]);if(_0x525fbc[_0x42a44f(0x8bf)])_0x12b2f1+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x525fbc[_0x42a44f(0x8bf)][_0x42a44f(0x795)](',\x20');return _0x12b2f1;})[_0x3b2ba2(0x795)]('\x0a\x0a'),_0x5ee28b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x5d8adf[_0x3b2ba2(0x39a)]+_0x3b2ba2(0x224)+_0x5452fb+_0x3b2ba2(0x351)+simpleMathPrompt+_0x3b2ba2(0x908),_0x9a5b1a={'type':_0x3b2ba2(0x3e8),'properties':{'topic':{'type':_0x3b2ba2(0x2ec)},'questions':{'type':_0x3b2ba2(0x64d),'items':{'type':_0x3b2ba2(0x3e8),'properties':{'questionText':{'type':_0x3b2ba2(0x2ec)},'questionType':{'type':_0x3b2ba2(0x2ec)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3b2ba2(0x4a6)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3b2ba2(0x2ec)}},'required':[_0x3b2ba2(0x2dc),_0x3b2ba2(0xa0e)]}}},'required':[_0x3b2ba2(0x39a),'questions']},_0x1d683d=await callAnalysisApi(_0x5ee28b,_0x9a5b1a),_0x2752f5=_0x5d8adf[_0x3b2ba2(0x39a)][_0x3b2ba2(0x54e)](_0x3b2ba2(0x228),'')[_0x3b2ba2(0x611)](),_0x36d047=_0x3b2ba2(0x55e)+_0x2752f5,_0x28cd53={..._0x1d683d,'topic':_0x36d047,'quizType':_0x5d8adf[_0x3b2ba2(0x13d)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x3b2ba2(0x880)](),'status':_0x3b2ba2(0x3fd),'settings':_0x5d8adf[_0x3b2ba2(0x141)],'quizMode':'post-test','pairedQuizId':_0x5d8adf['id']};let _0x552fdb;while(!![]){_0x552fdb=Math['floor'](0x3e8+Math[_0x3b2ba2(0x327)]()*0x2328)[_0x3b2ba2(0x547)]();const _0x54a3a6=await getDoc(doc(db,'artifacts/'+appId+_0x3b2ba2(0x60f),_0x552fdb));if(!_0x54a3a6['exists']())break;}await setDoc(doc(db,_0x3b2ba2(0x804)+appId+_0x3b2ba2(0x60f),_0x552fdb),_0x28cd53);const _0x54b699=doc(db,'artifacts/'+appId+_0x3b2ba2(0x60f),_0x5d8adf['id']);await updateDoc(_0x54b699,{'pairedQuizId':_0x552fdb}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x5bfe07){console['error']('Error\x20generating\x20parallel\x20post-test:',_0x5bfe07),showMessage('เกิดข้อผิดพลาด:\x20'+_0x5bfe07[_0x3b2ba2(0x285)]);}finally{const _0x1cb634=document[_0x3b2ba2(0x2a0)](_0x3b2ba2(0x40e));if(_0x1cb634)_0x1cb634[_0x3b2ba2(0x278)]();_0x5c8427[_0x3b2ba2(0x914)][_0x3b2ba2(0x278)](_0x3b2ba2(0x674));}}async function handleGenerateParallelTest(){const _0x3fdfba=_0x1c8731,_0x2f9343=document['getElementById'](_0x3fdfba(0x928)),_0x5be06a=_0x2f9343[_0x3fdfba(0x5dc)][0x0];if(!_0x5be06a){showMessage(_0x3fdfba(0x401));return;}const _0x25fb32=document['getElementById'](_0x3fdfba(0x86d)),_0x4ef765=document[_0x3fdfba(0x2a0)]('loader-text'),_0x1fc91b=document[_0x3fdfba(0x2a0)](_0x3fdfba(0x830)),_0x3daed7=document[_0x3fdfba(0x2a0)](_0x3fdfba(0x53f));_0x3daed7[_0x3fdfba(0x13f)]=!![],document['getElementById'](_0x3fdfba(0x183))[_0x3fdfba(0x914)]['remove'](_0x3fdfba(0x674)),_0x1fc91b[_0x3fdfba(0x42b)]='',_0x25fb32['classList'][_0x3fdfba(0x278)](_0x3fdfba(0x674)),_0x4ef765[_0x3fdfba(0x531)]=_0x3fdfba(0x3fb);const _0x3def3c=new FileReader();_0x3def3c[_0x3fdfba(0x68c)](_0x5be06a),_0x3def3c['onload']=async()=>{const _0x26382c=_0x3fdfba;try{const _0x4a870b=_0x3def3c[_0x26382c(0x35c)]['split'](',')[0x1],_0x118950=_0x5be06a[_0x26382c(0x6df)];_0x4ef765[_0x26382c(0x531)]=_0x26382c(0x4c9);const _0xc382d7=document[_0x26382c(0x2a0)](_0x26382c(0x6ff))[_0x26382c(0x5ff)],_0x8e05f2=_0xc382d7?_0x26382c(0x47e):'',_0x4065da=_0x26382c(0x6f3)+_0x8e05f2+_0x26382c(0x8f0)+simpleMathPrompt+_0x26382c(0x797),_0x4de07d={'type':_0x26382c(0x3e8),'properties':{'questionText':{'type':_0x26382c(0x2ec)},'questionType':{'type':'STRING','enum':[_0x26382c(0x9f3),_0x26382c(0x3e2)]},'options':{'type':_0x26382c(0x64d),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x26382c(0x4a6)},'idealAnswer':{'type':_0x26382c(0x2ec)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x26382c(0x2dc),'questionType',_0x26382c(0xa0e)]},_0x3e0478={'type':_0x26382c(0x3e8),'properties':{'topic':{'type':_0x26382c(0x2ec)},'questions':{'type':_0x26382c(0x64d),'items':_0x4de07d}},'required':[_0x26382c(0x39a),_0x26382c(0x619)]},_0x1e15f2=[{'text':_0x4065da},{'inlineData':{'mimeType':_0x118950,'data':_0x4a870b}}];await handleApiCall(_0x1e15f2,'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...',_0x3e0478);}catch(_0x3a8329){console[_0x26382c(0xa1a)](_0x26382c(0x211),_0x3a8329),showMessage(_0x26382c(0x71b)+_0x3a8329[_0x26382c(0x285)]),_0x1fc91b['innerHTML']=_0x26382c(0x83b);}finally{_0x25fb32[_0x26382c(0x914)][_0x26382c(0x6bb)]('hidden'),_0x3daed7[_0x26382c(0x13f)]=![];}},_0x3def3c['onerror']=_0x162e21=>{const _0x54df74=_0x3fdfba;console[_0x54df74(0xa1a)](_0x54df74(0x9de),_0x162e21),showMessage(_0x54df74(0x486)),_0x25fb32['classList']['add'](_0x54df74(0x674)),_0x3daed7[_0x54df74(0x13f)]=![];};}async function handleRegenerateQuestionInEditor(_0x2f2a4a){const _0x53b815=_0x1c8731;if(currentEditingQuizData===null)return;const _0x283616=document[_0x53b815(0x265)]('.question-editor-item[data-q-index=\x22'+_0x2f2a4a+'\x22]');_0x283616&&(_0x283616[_0x53b815(0x42b)]=_0x53b815(0x213));const _0x379488=currentEditingQuizData[_0x53b815(0x619)][_0x2f2a4a],_0x2296c1=currentEditingQuizData[_0x53b815(0x39a)],_0x79243b=_0x379488[_0x53b815(0x173)],_0xef107f={'type':_0x53b815(0x3e8),'properties':{'questionText':{'type':_0x53b815(0x2ec)},'options':{'type':'ARRAY','items':{'type':_0x53b815(0x2ec)}},'correctAnswerIndex':{'type':_0x53b815(0x4a6)},'explanation':{'type':_0x53b815(0x2ec)}},'required':['questionText','options',_0x53b815(0x587),_0x53b815(0xa0e)]},_0x31793f={'type':_0x53b815(0x3e8),'properties':{'questionText':{'type':_0x53b815(0x2ec)},'idealAnswer':{'type':_0x53b815(0x2ec)},'explanation':{'type':_0x53b815(0x2ec)}},'required':[_0x53b815(0x2dc),'idealAnswer',_0x53b815(0xa0e)]};let _0x1637ef,_0x18c870='';_0x79243b===_0x53b815(0x9f3)?(_0x1637ef=_0xef107f,_0x18c870=_0x53b815(0x706)):(_0x1637ef=_0x31793f,_0x18c870=_0x53b815(0x64f));const _0x3e9ec5=_0x53b815(0x49d)+_0x2296c1+_0x53b815(0x6dc)+_0x18c870+_0x53b815(0x8e1)+(_0x379488[_0x53b815(0x2dc)]||_0x379488[_0x53b815(0x332)])+_0x53b815(0x4c0)+simpleMathPrompt;try{const _0x53560e=await callAnalysisApi(_0x3e9ec5,_0x1637ef);currentEditingQuizData[_0x53b815(0x619)][_0x2f2a4a]={..._0x379488,..._0x53560e},renderQuizEditor(currentEditingQuizData);}catch(_0xd029f3){console['error'](_0x53b815(0x3be),_0xd029f3),showMessage(_0x53b815(0x786)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x1c08fa=_0x1c8731,_0x13f779=document[_0x1c08fa(0x2a0)]('mode-switcher-btn');currentMode==='student'?(adminPasswordModal['classList'][_0x1c08fa(0x278)]('hidden'),document[_0x1c08fa(0x2a0)](_0x1c08fa(0x85c))[_0x1c08fa(0x809)]()):(currentMode=_0x1c08fa(0xa36),_0x13f779[_0x1c08fa(0x42b)]=_0x1c08fa(0x793),_0x13f779[_0x1c08fa(0x538)]='สลับไปโหมดผู้ควบคุม',showView(_0x1c08fa(0xa36)));}function handleAdminLogin(){const _0x37041d=_0x1c8731,_0x56b585=document[_0x37041d(0x2a0)](_0x37041d(0x85c)),_0xa631de=document[_0x37041d(0x2a0)](_0x37041d(0x672));if(_0x56b585[_0x37041d(0x556)]===_0x37041d(0x33d)){adminPasswordModal['classList']['add'](_0x37041d(0x674)),_0x56b585[_0x37041d(0x556)]='',_0xa631de[_0x37041d(0x914)]['add'](_0x37041d(0x674)),currentMode=_0x37041d(0xfd);const _0x41dd29=document['getElementById'](_0x37041d(0x825));_0x41dd29[_0x37041d(0x42b)]=_0x37041d(0x166),_0x41dd29['title']='สลับไปโหมดนักเรียน',showView(_0x37041d(0x891));}else _0xa631de[_0x37041d(0x914)][_0x37041d(0x278)](_0x37041d(0x674)),_0x56b585[_0x37041d(0x556)]='';}function switchProjectTab(_0x37d2ab){const _0x3a10ff=_0x1c8731;[_0x3a10ff(0x55a),_0x3a10ff(0x5a2),_0x3a10ff(0x72d)][_0x3a10ff(0x28e)](_0x15df77=>{const _0x50bde0=_0x3a10ff;document['getElementById'](_0x15df77+'-tab')[_0x50bde0(0x914)][_0x50bde0(0x278)]('active'),document['getElementById'](_0x15df77+_0x50bde0(0x87a))['classList'][_0x50bde0(0x6bb)](_0x50bde0(0x674));}),document[_0x3a10ff(0x2a0)](_0x37d2ab+_0x3a10ff(0x103))[_0x3a10ff(0x914)][_0x3a10ff(0x6bb)](_0x3a10ff(0x3fd)),document['getElementById'](_0x37d2ab+_0x3a10ff(0x87a))['classList']['remove'](_0x3a10ff(0x674));}function switchQuizDetailTab(_0x16a035){const _0x4a7437=_0x1c8731,_0x27fac3={'analytics':{'btn':_0x4a7437(0x79c),'content':_0x4a7437(0x731)},'scores':{'btn':_0x4a7437(0x54c),'content':_0x4a7437(0x1ff)},'leaderboard-quiz':{'btn':_0x4a7437(0x754),'content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x4a7437(0x5c4),'content':_0x4a7437(0x9f7)}};for(const _0xfde990 in _0x27fac3){document[_0x4a7437(0x2a0)](_0x27fac3[_0xfde990][_0x4a7437(0xeb)])[_0x4a7437(0x914)][_0x4a7437(0x278)]('active'),document[_0x4a7437(0x2a0)](_0x27fac3[_0xfde990][_0x4a7437(0x5e2)])[_0x4a7437(0x914)]['add'](_0x4a7437(0x674));}document['getElementById'](_0x27fac3[_0x16a035][_0x4a7437(0xeb)])[_0x4a7437(0x914)][_0x4a7437(0x6bb)](_0x4a7437(0x3fd)),document[_0x4a7437(0x2a0)](_0x27fac3[_0x16a035][_0x4a7437(0x5e2)])['classList'][_0x4a7437(0x278)](_0x4a7437(0x674));}function showMessage(_0x3aa93a,_0x540add=null){const _0x392ac8=_0x1c8731;modalMessage['textContent']=_0x3aa93a,modalConfirmAction=_0x540add,messageModal[_0x392ac8(0x914)][_0x392ac8(0x278)](_0x392ac8(0x674));}function showConfirmation(_0x299f3e,_0x24e0e8){const _0x4473fe=_0x1c8731;document[_0x4473fe(0x2a0)]('confirmation-message')['textContent']=_0x299f3e,document[_0x4473fe(0x2a0)](_0x4473fe(0x4f2))[_0x4473fe(0x265)]('h3')[_0x4473fe(0x531)]=_0x4473fe(0x275),confirmAction=_0x24e0e8,confirmationModal[_0x4473fe(0x914)][_0x4473fe(0x278)]('hidden');}function listenForProjects(){const _0x1d4d1a=_0x1c8731,_0x4b8dfa=doc(db,_0x1d4d1a(0x163),_0x1d4d1a(0x394));onSnapshot(_0x4b8dfa,_0x5e29ee=>{const _0x18e793=_0x1d4d1a;if(_0x5e29ee[_0x18e793(0x512)]()){const _0x1a5849=_0x5e29ee[_0x18e793(0x4ff)]();globalDashboardSettings[_0x18e793(0xb1)]=_0x1a5849[_0x18e793(0xb1)]||'date_desc',globalDashboardSettings[_0x18e793(0xfa)]=_0x1a5849['pinnedProjects']||[],globalDashboardSettings[_0x18e793(0x906)]=_0x1a5849['projectOrder']||[];}allProjects[_0x18e793(0x51f)]>0x0&&renderProjects();});const _0x3a8498=collection(db,'artifacts/'+appId+_0x1d4d1a(0x973));unsubscribeProjectsListener=onSnapshot(_0x3a8498,_0x1400b8=>{const _0x56af14=_0x1d4d1a;allProjects=_0x1400b8['docs'][_0x56af14(0x429)](_0x2b8c7b=>({'id':_0x2b8c7b['id'],..._0x2b8c7b[_0x56af14(0x4ff)]()})),renderProjects();},_0x6a4816=>{const _0x9fbd1e=_0x1d4d1a;console['error'](_0x9fbd1e(0x95c),_0x6a4816),showMessage(_0x9fbd1e(0x410));});}function _0x5226(){const _0x46d5e3=['ผู้ควบคุม\x20(ทดสอบ)','การหารทศนิยม','API\x20call\x20failed','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','endTime','file-tab','.status','leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confidence-input-','webkitRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-progress','quiz-form','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','backgroundColor','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','ผู้ไม่ยอมแพ้','select-all-topics-btn','moveTo','hint-btn','sync','answeredCurrentQuestion','perfect_score','text-blue-800','finished','passcode-error-msg','bg-green-100\x20font-bold','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','https://corsproxy.io/?','/public/data/liveGames','#DBEAFE','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','confidence-modal','question-complexity-select','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','Original\x20quiz\x20not\x20found','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','.color-palette-btn','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','practiceProblems','idealAnswer','</label></div>','ฟังก์ชันสัมพัทธ์\x20(rational)','fadeStartTime','การบวกทศนิยม','ไม่มี','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','div','Error\x20listening\x20for\x20projects:','.quiz-bank-try-btn','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','text-yellow-300','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','ลบผลสอบของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','กรุณาเลือกไฟล์ก่อน','startedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-mode-select','ถูก','score','ใช่\x20/\x20ถูก','question','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','(คัดลอก)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','drill-feedback','strength-weakness-analysis-container','/public/data/projects','กำลังสร้างแบบทดสอบจาก\x20Blueprint\x20และไฟล์อ้างอิง...','ส่วนเบี่ยงเบนเฉลี่ย','Enter','จุด\x20เส้น\x20ระนาบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','อัปเดตการตั้งค่าของแบบทดสอบ\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','<div\x20class=\x22space-y-4\x22>','/public/data/customMathTopics','medium','qType','input[name=\x22drill_answer\x22]:checked','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20</div>\x0a\x20\x20\x20\x20','not-found','fullscreenchange','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','open','bulk-quiz-settings-modal','highlighter','Failed\x20to\x20kick\x20player\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-selection-btn','คะแนนเต็ม!','interesting-stats-wrapper','(^|[^\x5c\x5c])\x5cb','สถิติและความน่าจะเป็น','.mb-6.p-4','label','ลำดับการดำเนินการ\x20(PEMDAS)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.sortable-header','worksheet-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ความต่อเนื่อง','removeEventListener','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแจกแจงทวินาม\x20(พื้นฐาน)','pen','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','project-passcode-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','warn','/public/data/syncGames','abs','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','katex','topics','#000000','ความชันและเส้นตรง','isPasscodeEnabled','passing-score-input','globalCompositeOperation','PERSEVERANCE','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','quiz','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','keydown','move-quiz-project-select','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','confirm-game-start-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','_opt1\x22>ไม่ใช่</label></div>',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','^{\x5ccirc}\x5ctext{C}$','text-gray-500','กรุณาเลือกโปรเจคที่ต้องการบันทึก','neq','getBBox','results-table-container','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x22\x20สำเร็จ','fullscreenElement','/public/data/learnedFixes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','dragover','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','project-id-display','\x5cle','<p\x20class=\x22font-bold\x20text-sm\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','MathJax\x20typeset\x20error\x20(analytics):','Error\x20loading\x20quiz\x20for\x20student:','display','/submissions','summary','<div\x20class=\x22my-6\x22>','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','ON_FIRE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','project-detail-view','<li\x20class=\x22','rgba(59,\x20130,\x20246,\x200.7)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','input[name=\x22team_player\x22]:checked','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','fa-rocket\x20text-purple-500','FileReader\x20error:','export-leaderboard-excel-btn','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวแปรและนิพจน์','outerHTML','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','currentMode','ห.ร.ม.\x20(GCD)','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','touch','modal-confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','worksheet-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','export-image-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20during\x20class\x20analysis:','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','export-worksheet-pdf-btn','submission','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','multiple_choice','จำนวนเต็มลบ','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log-tab-content','ring-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','#FFFFFF','touches','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','Error\x20joining\x20team\x20quiz:','พีชคณิตและฟังก์ชัน','getPage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','finishReason','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','.correct-response-input','คัดลอกไม่สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','separate-by-content-checkbox','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','requestFullscreen','Error\x20generating\x20teaching\x20content:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','explanation','ไม่ผ่าน','ก่อนเรียน','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','กรุณาป้อนรหัสแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','question-analytics-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','error','export-tutor-pdf-btn','parallel-test-input-area','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','การจัดหมู่\x20(Combination)','description','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','null','goto-next-question-btn','mixed','.regenerate-question-btn','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','visibilityState','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','rgba(79,\x2070,\x20229,\x200.8)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','totalQuestions','บันทึกการตั้งค่าแล้ว','blueprint-upload-input','flex\x20flex-col\x20gap-2','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','top','currentQuestionIndex','ring-purple-400','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','student-progress-content','$1\x5c%','closePath','student','export-excel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','ชื่อหัวข้อห้ามว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','sync-submit-btn','.pointsLastQuestion','Error\x20saving\x20quiz:','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','asc','กำลังสร้างคำถามข้อ\x20','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','date_asc','ผ่าน','projectSort','ย้ายแบบทดสอบไปโปรเจคอื่น','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-passing-score-input','กรุณาเลือกคำตอบก่อนครับ','preScore','ข้อ\x20','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x20mx-1\x20text-lg\x22></i></span>','match','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','pow','force-math-checkbox','ownerSVGElement','submittedAt','COMEBACK_KING','รหัสไม่ถูกต้อง','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','justification','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','.ai-fix-question-btn','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','Error\x20updating\x20custom\x20topic:','auto-fix-latex-btn','ค่าเสื่อมราคา','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','.option-text','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','every','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สร้างใหม่','save-quiz-edits-btn','isStarred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การบวก','Error\x20fetching\x20projects\x20for\x20move:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','block','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p>','after','print','players.','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','กำลังอัปเดตแบบทดสอบ\x20','API\x20call\x20failed\x20with\x20status:\x20','\x20ตอบ','btn','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','visible','ไม่ใช่','แบบทดสอบ:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','originalTopic','confirm-create-project-btn','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','fill_in_no_choices','หมดเวลาสำหรับข้อนี้!','.edit-quiz-btn','แคลคูลัสเบื้องต้น','Error\x20adding\x20students:','pinnedProjects','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-settings-modal','admin','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','desc','.export-pdf-list-btn','arrayBuffer','-tab','bg-green-50','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','POST','.isScored','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','num-choices-container','ดอทโปรดักต์\x20(dot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','isConfidenceScoringEnabled','กรุณาป้อนหัวข้อสำหรับใบงาน','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','input[type=\x22radio\x22]:checked','prev-question-btn','live-game','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-svg-btn','mandatory','toLocaleString','postTScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','overline','159884kdgKLH','.highlighter-color-btn','catch','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','G-V90KRM0L63','comparison-individual-tab','leaderboard-tab-content','keyConcepts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','beginPath','lesson-plan-title','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','input[type=\x22text\x22]','results-tab-content','presentation-ai-result','กรุณาพิมพ์คำตอบของกลุ่ม','isArray','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','latestScore','ดีเทอร์มิแนนต์','team','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','touchend','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','add-student-btn','หน่วยความยาวและการแปลง','สร้างชุดคำถามจับคู่','การลบเศษส่วน','รูปสี่เหลี่ยมและสมบัติ','quizType','confidence','disabled','blueprint-input-area','settings','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','opacity','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','standardTopic','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถแยกหัวข้อได้','bg-red-100\x20text-red-800','confidence-scoring-toggle','start-sync-game-btn','text-gray-400\x20hover:text-indigo-600','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','some','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','Error\x20renaming\x20quiz:','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','showImproveButton','application/json','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','.confidence-choice-btn','Team\x20Quiz','release','.project-card-container.opacity-50','authed_project_','highlighter-size-value','quizId','playerName','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','confident','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','topic-input-area','คำถามถัดไป','globalSettings','.unpair-quiz-btn','ดีมาก','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','พบข้อสอบ\x20','copy','#confidence-input-','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','Error\x20deleting\x20submission:','text-gray-700','bg-green-200\x20text-green-800','sync-player-management','questionType','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','isLooping','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','questionDisplayedAt','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','ไม่พบข้อมูลผู้ใช้','ปิดใช้งาน','next-question-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','analyze-strengths-btn','ที่พิมพ์ได้\x20จำนวน\x20','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','Error\x20committing\x20score\x20updates:','quiz-leaderboard-table-body','quiz-generation-area','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','#10B981','\x20สำเร็จ','redo-btn','min','quiz-results-table-body','</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','transform','dimmed','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','attemptNumber','.question-editor-item[data-q-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สเกลและแผนที่','bg-green-100','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','test','bulk-confidence-scoring-checkbox','starred-project','PERFECT_SCORE','true_false','create-from-bank-btn','timerDuration','badges','ยืนยันการจับคู่','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','cancel-test-btn','times','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','checkbox','Failed\x20to\x20resume\x20game\x20session:','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','เปลี่ยนชื่อแบบทดสอบสำเร็จ','querySelectorAll','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','http://www.w3.org/2000/svg','Remedial\x20quiz\x20generation\x20failed:','suggestedAnswer','):\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','pointercancel','อัปเดตพฤติกรรมสำหรับ\x20','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','ไม่พบโปรเจค','globalAlpha','Re-grade\x20process\x20failed:','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','confidence-choice-btn','วงรี','จับคู่แบบทดสอบสำเร็จ!','\x20รายการสำเร็จ!','วงกลม:\x20คอร์ดและเส้นสัมผัส','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','#FCE7F3','bg-emerald-100','ฮิสโตแกรม','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','flex','docs','Invalid\x20response\x20structure\x20from\x20AI:','questionId','อนุพันธ์:\x20กฎพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','overallGroups','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','originalQuestionText','.ai-fix-formula-btn','lastAnswerIndex','team-quiz-topic','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','comparison-overall-tab','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','upperGroupNames','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','.sort-indicator','Error\x20processing\x20file\x20for\x20AI:','back-to-student-home-btn','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','<p\x20class=\x22','back-from-results-btn','ระยะเวลา\x20(นาที):','เส้นรอบรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','bank-quiz-list','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','_opt0\x22>ใช่</label></div>','pairedQuizId','difficulty-level-select','ยอดเยี่ยม','border-gray-200','reference-pdf-upload','list','\x0a\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0a\x20\x20\x20\x20ภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0a\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x201.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a\x20\x20\x20\x202.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a\x20\x20\x20\x203.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a\x20\x20\x20\x204.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a\x20\x20\x20\x20','webkitExitFullscreen','text-red-600','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.png','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','insertAdjacentHTML','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','findIndex','\x5cneq','#E0E7FF','<div\x20class=\x22loader\x20mx-auto\x22></div>','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','bg-yellow-100','fill_in_with_choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22\x20data-topic=\x22','scores-tab-content','close-game-final-btn','เรขาคณิตวิเคราะห์','ส่วนเบี่ยงเบนมาตรฐาน','comparison-overall-content','Error\x20generating\x20lesson\x20plan:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','file-topic-input','update-old-quizzes-btn','<span\x20title=\x22','จำนวนข้อ:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','dragend','num-choices','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','195eHlDks','Error\x20generating\x20from\x20parallel\x20test\x20file:',':</span><span>','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','find','save-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','sum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','verify-answers-editor-btn','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lastAnswerCorrect','leaderboard_','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','แผนการสอน:\x20','.quiz-result-card','เกิดข้อผิดพลาดในการเข้าร่วมเกม','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','image/png','Sync\x20Mode','(ก่อนเรียน)','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','thead\x20.sortable-header','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','กรุณาเลือกโปรเจคปลายทาง','.pdf','multiply','sync-matching-select','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','#F59E0B','1854206qHzKji','.\x20แต่ละข้อมี\x20','การบวกเศษส่วน','ย้ายแบบทดสอบสำเร็จ','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','undefined','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','player-list-lobby','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','delete-all-students-btn','start-live-race-generated-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</tbody></table>','ตรวจคะแนนใหม่\x20','พื้นที่วงกลม/ส่วนของวงกลม','bar','attempts','ไม่พบแบบทดสอบ','body','standard','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','show-in-student-dashboard-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','-\x20ข้อ\x20','เกิดข้อผิดพลาดในการสร้างห้องเกม','text-gray-300\x20hover:text-white','ค่าเฉลี่ย','workerSrc','quiz-results','repeat','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','source-over','กรุณาใส่ชื่อโปรเจค','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','.question-editor-item','<tr>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','startTime','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','imageCode','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','toLowerCase','cursor','querySelector','mousemove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<textarea\x20name=\x22question','bg-purple-50','ไม่ได้ตอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อสมการค่าสัมบูรณ์','$1\x5cfrac','touchcancel','<div\x20class=\x22mb-3\x20topic-category\x22>','textarea[name=\x22team_answer\x22]','removeItem','<p\x20class=\x22text-gray-500\x22>ไม่พบหัวข้อที่ชัดเจนใน\x20Blueprint\x20นี้</p>','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','.summary-bar-item','ยืนยันการกระทำ','พื้นที่ผิวรูปทรงสามมิติ','\x20pointer-events-none\x22>','remove','กิจกรรมสิ้นสุดลงแล้ว','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','รอเปิด','student-quiz-leaderboard-tab','การแปลงรูปอัตลักษณ์','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','border-indigo-400\x20ring-2\x20ring-indigo-200','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','คะแนนยังไม่ถึงครึ่ง','QUICK_THINKER','ไม่พบข้อมูลแบบทดสอบ','numPages','message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','ตั้งเวลา\x20(เปิด)','ไม่พบแบบทดสอบสำหรับรหัสนี้','border-green-700','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','live-player-management','quiz-editor-modal','forEach','</p>','tool','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','manage-tab-content','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','ดูผลสรุปสุดท้าย','first_try_ace','project-detail','filter','tfrac','Group\x20Mode','opacity-50','text-green-800','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','getElementById','\x22\x20class=\x22delete-project-btn\x20','คำถามดิบ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปแต่ละหัวข้อให้สั้น\x20กระชับ\x20และเข้าใจง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ไม่ต้องใส่รหัสตัวชี้วัดหรือรายละเอียดปลีกย่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตอบกลับมาเป็น\x20JSON\x20array\x20ของ\x20string\x20เท่านั้น\x20โดยแต่ละ\x20string\x20คือชื่อหัวข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์ที่ต้องการ:\x20[\x22การบวก\x20ลบ\x20คูณ\x20หารระคน\x22,\x20\x22การเปรียบเทียบเศษส่วน\x22,\x20\x22โจทย์ปัญหาอัตราส่วนและร้อยละ\x22,\x20\x22ความยาวรอบรูปและพื้นที่ของวงกลม\x22]\x0a\x20\x20\x20\x20\x20\x20\x20\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สมการลอการิทึม','sync-manage-players-btn','เปลี่ยนชื่อโปรเจคสำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','addEventListener','answers','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','createElement','.delete-student-btn','loopUntilPass','</li>','far\x20fa-star','แผนภาพเวนน์','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','\x20//\x20<---\x20เพิ่มคำสั่งใหม่ตรงนี้\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เนื้อหาจาก\x20Test\x20Blueprint:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20Ideal\x20Answer:\x20\x22','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','quiz-status-modal','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','check-answer-btn','setFont','.presentation-option','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','modal-results-display-select','กราฟแท่ง\x20กราฟเส้น','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','open-global-live-btn','instructions','(ฉบับง่าย)\x20','whole_quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','Error\x20saving\x20questions\x20to\x20practice\x20bank:','กลุ่ม:\x20','.project-card-container[data-id]','\x22\x20name=\x22drill_answer\x22\x20value=\x22','กำลังกลับเข้าสู่เกม\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','ราชาคัมแบ็ก','responses','open-quiz-bank-btn','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้าย','เรเดียนและการแปลงหน่วย','parentElement','padStart','questionText','student-progress-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','33jZXiKD','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','ระยะทางและจุดกึ่งกลาง','text-green-600','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','เกิดข้อผิดพลาดในการลบแบบทดสอบ','json','Error\x20updating\x20quiz\x20settings:','answer-grid-container','isFinished','timerMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','STRING','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','คณิตศาสตร์','round','baseVal','createdBy','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','.copy-quiz-id-list-btn','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','correctResponse','true','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dataset','shuffledQuiz','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-500','เกิดข้อผิดพลาดในการลบโปรเจค','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.answeredCurrentQuestion','fa-shield-alt\x20text-gray-600','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-red-300\x20bg-red-50','<div>','specialist','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','<span\x20class=\x22font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','Error\x20analyzing\x20blueprint\x20topics:','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','ฟังก์ชันยกกำลัง','</span>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','parseFromString','เกี่ยวกับหัวข้อ\x20\x22','log','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','total','underline','เลือกและบันทึก','targetId','label[for=\x22num-questions\x22]','viewBox','</th>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','translate(','กรุณาเลือกคำตอบ','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','ตอบถูกทุกข้อในแบบทดสอบนี้','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','resize','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','allResponses','เส้นตรง:\x20รูปแบบสมการ','student-passcode-input','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','random','write','การลบ','strokeStyle','groups','<button\x20data-value=\x22','scale','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','fill','เกิดข้อผิดพลาดในการลบนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','stem','false','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','มัธยฐาน','\x20\x0a\x20\x20\x20\x20','ดอกเบี้ยอย่างง่าย','[contenteditable=\x22true\x22]','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','not_confident','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','27411472','frac','text-red-300\x20hover:text-red-100','.quiz-bank-item','confirm-admin-login-btn','text-yellow-800','ไม่สามารถสร้างโปรเจคได้','พิสัย','\x5cfrac','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','show_results_and_answers','</span></div>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','comparison-individual-content','.start-live-race-btn','text-white','รีเซ็ตลำดับโปรเจคแล้ว','lesson-plan-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','link-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สอบปกติ','.submittedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์หลักสูตรการศึกษา\x20(Curriculum\x20Analyst)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือการอ่านและวิเคราะห์ข้อความที่คัดลอกมาจากเอกสาร\x20\x22Test\x20Blueprint\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อความต่อไปนี้\x20ให้ระบุ\x20\x22สาระการเรียนรู้\x22\x20หรือ\x20\x22หัวข้อหลัก\x22\x20ที่จะทำการทดสอบออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อความจาก\x20Blueprint:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','createdAt','\x20(p=','การปัดเศษและประมาณค่า','live-race','#retake-for-improvement-btn','helvetica','result','สร้างคำถามใหม่\x201\x20ข้อ\x20','แบบทดสอบซ่อมเสริม','confidence_single','student-name-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','short','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22>ใช่</p>','\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','teacherSuggestions','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','function','contentEditable','projectView','live-player-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','ref','กลุ่มของคุณ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','project-quizzes-list','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','\x20คนที่ส่ง\x20ตอบถูก\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หมดเวลา!\x20กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ทฤษฎีบทพีทาโกรัสและการประยุกต์','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','พบ\x20Team\x20Quiz!','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','jspdf','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20listening\x20for\x20starred\x20quizzes:','</div><div\x20class=\x22space-y-2\x22>','ท็อปฟอร์ม','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','Error\x20pairing\x20quizzes:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามแบบใช่/ไม่ใช่','presentation-slide-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','delete','(เลือกแล้ว\x20','ฟังก์ชันแบบชิ้นส่วน','fixed','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','values','.answered','สัญกรณ์วิทยาศาสตร์','_opt0\x22\x20name=\x22question','dashboardConfig','rows','</p><div>','1921304tdVVmk','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','การแยกตัวประกอบ','topic','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','line-through\x20text-red-700','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','table','/public/data/quizzes/','close-lesson-plan-modal-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20','bank-quiz-search-input','presentation-explanation','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','getScreenCTM','onerror','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','sort','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','results-display-select','p-2\x20bg-black/10\x20rounded-md','showRankings','ceil','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','request','</select>','math-topics-checkbox-container','check-presentation-answer-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','close','upper_group_count','.lastAnswerIndex','file-upload-input','firstScore','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','font-bold\x20text-red-700\x20line-through','behavior-log','Error\x20regenerating\x20question\x20in\x20editor:','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','text-red-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isScored','cancel-bulk-quiz-settings-btn','save-game-results-checkbox','ใช่','pointsLastQuestion','ระบบสมการเชิงเส้นสองตัวแปร','th-TH','67074cVWPNr','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BOOLEAN','text-input-area','text-emerald-900','results-table','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','createElementNS','Error\x20saving\x20settings:','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','scratchpad-canvas','name','เรขาคณิต','getTextContent','mousedown','end-team-quiz-btn','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','การสร้างรูปด้วยวงเวียน–สันตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','translate','/public/data/teamQuizzes','generated-quiz-actions','substring','short_answer','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','เปิดใช้งาน','อินเวอร์สของเมทริกซ์','promptFeedback','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','OBJECT','บันทึกการตั้งค่าสำเร็จ','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','fromCharCode','<div\x20id=\x22q-image-container-','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','restore','confirm-bulk-quiz-settings-btn','toFixed','all','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','/public/data/practiceBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.live-answer-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','text-emerald-800','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','getBoundingClientRect','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','live-game-view','active','หน่วยมวล/น้ำหนักและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-bank-count','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','{$1}','หยุดระบบจับเวลาหรี่หน้าจอ','pointermove','manual_release','setItem','FIRST_TRY_ACE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.doc','ทศนิยม\x20(ค่าประจำหลัก)','offset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','temp-loader-results','#results-table','เกิดข้อผิดพลาดในการโหลดโปรเจค','กำลังดึงข้อมูลจากลิงก์...','.color-palette-popup','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','red','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','td,\x20th','.live-answer-btn,\x20#live-submit-short-answer-btn','ปริพันธ์จำกัด','mouseup','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20old\x20quizzes:','<p\x20class=\x22text-2xl\x22>','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','/questionBank','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20Fix\x20Error:','getDocument','getItem','pointerType','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','/preferences/main','การประยุกต์เวกเตอร์พื้นฐาน','map','\x22\x20value=\x22','innerHTML','button[data-id]','timed','clearRect','scratchpad-clear-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ปรับเพิ่ม/ลดเป็นร้อยละ','เกิดข้อผิดพลาดในการลบผลสอบ','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','ควรปรับปรุง','.topic-name-input','admin-testing','latestSubmittedAt','input[type=\x22checkbox\x22]','confirm-join-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','.answers','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','dispatchEvent','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','Error\x20adding\x20custom\x20topic:','pre-test','close-student-rankings-btn','tGain','passcode-input-container','จำนวนคละ','input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','Invalid\x20response\x20structure\x20from\x20AI.','team-player-status-grid','className','schedule','thead','\x20รายการ...','\x20จาก\x20','Error\x20rendering\x20student\x20progress:','bg-green-500','Error\x20confirming\x20players\x20for\x20sync\x20game:','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อนักเรียน','Error\x20moving\x20quiz:','raw','rgba(239,\x2068,\x2068,\x200.9)','<br>','text','comparison-modal','pre-test-checkbox','ลำดับเรขาคณิต\x20(GP)','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','ai-quiz-generator-v3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','1:274192258111:web:4120c9118229b5644dd48a','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','slice','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','bulk-confidence-mode-container','candidates','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','สมมาตร\x20(แกน/จุด)','เงินงวด\x20(อนุกรมเงินงวด)','projectSortOrder','bg-green-200','msRequestFullscreen','ไม่สามารถโหลดข้อมูลอันดับได้','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','Error\x20starting\x20game:','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกผลการเล่นเกมของ\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','quiz-start-time','.edit-question-btn','bg-red-500\x20text-white\x20font-bold','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','เกิดข้อผิดพลาดในการอ่านไฟล์','cancel-move-quiz-btn','answering','entries','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','hover:bg-indigo-100','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','blueprint-topics-list','2-digit','adaptive-quiz-checkbox','bg-green-200\x20text-green-900','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','perQuestionStats','parallel-test-tab','เมทริกซ์:\x20บวก/คูณ','กำลังค้นหากิจกรรม...','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-label','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','autoTable','pointerup','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x22\x20name=\x22question','stroke','00:00','Error\x20generating\x20parallel\x20test\x20from\x20bank:','offsetWidth','bg-red-100','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','NUMBER','next-drill-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แก้ระบบสมการด้วยเมทริกซ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','quiz-type-select','leaderboard-tab','editor-quiz-topic','player-count','เกิดข้อผิดพลาดในการติดดาว','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','modal-timer-duration-input','quadraticCurveTo','student-team-join','$1^{\x5ccirc}\x5ctext{C}','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','export-word-btn','เกิดข้อผิดพลาดในการจับคู่','modal-timer-duration-label','normal','back-to-student-initial-btn','pen-tool-btn','คะแนน','ไม่ใช่\x20/\x20ผิด','\x22.\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','ความคาดหมาย\x20(Expected\x20value)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','modal-close-btn','</body></html>','includes','canvas','border-red-700','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','ยังไม่ส่ง','shuffle-setting-select','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ฟังก์ชันพหุนาม','pop','410304HFNGjC','per_question','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','nickname-input','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','join-live-game-btn','gameData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confirm-move-quiz-btn','upperGroupResponders','tooltipTarget','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','inactive','_opt','topic-input','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','both','sync-player-list','AI\x20grading\x20failed:','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','parts','destination-out','ไม่สามารถบันทึกการตั้งค่าได้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','passingScore','position','\x5cge','parse','ไม่สามารถโหลดรายการโปรเจคได้','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','แผนการสอน','student-team-selection-view','worksheet-topic-input','confirmation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','players','เกิดข้อผิดพลาดในการลบหัวข้อ','ยกเลิกการจับคู่สำเร็จ','now','confidence-mode-select','lineJoin','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','\x20(ID:\x20','gain','data','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','เกิดข้อผิดพลาดในการบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนเชิงซ้อน\x20(เสริม)','left','\x22\x20name=\x22team_answer\x22\x20value=\x22','results_','จำนวนและการดำเนินการ','คะแนนเต็ม','classWeaknesses','touchstart','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','สรุปผลสุดท้าย','.generate-content-btn','#results-table\x20thead\x20tr','exists','lineCap','<p><strong>คำตอบที่แนะนำ:</strong>\x20','ai-quiz-app-aefee.firebaseapp.com','พาราโบลา','half_mark_status','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','.move-quiz-btn','</td>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','qIndex','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','รอ...','length','\x22,\x20','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','temp-loader-text-results','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','button[type=\x22submit\x22]','quiz-leaderboard-table-container','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','ทฤษฎีทวินาม\x20(เบื้องต้น)','ไม่พบเอกสารการส่งงานของ\x20','ชื่อโปรเจคห้ามว่าง','interesting-stats-container','อัตราและอัตราหน่วย','group','textContent','manage-tab','หน่วยเวลาและการคำนวณเวลา','</div></div></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','ปริพันธ์ไม่จำกัด','back-to-dashboard-from-results-btn','title','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','cancel-delete-btn','พบ\x20Sync\x20Game!','size','#view-rankings-btn','<li>','generate-from-parallel-test-btn','live-options-container','trail','\x5ctimes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','toString','\x5c\x5c\x5c\x5c(?=(','touchmove','Error\x20submitting\x20group\x20answer:','innerText','scores-tab-btn','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','replace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','beforeend','leq','Error\x20saving\x20quiz\x20edits:','(ไม่มีชื่อ)','กำลังสร้างเนื้อหา:\x20','Error\x20updating\x20project\x20name:','value','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x20ข้อ\x20','game-pin-input','manage','\x20ชุด)','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','category','(หลังเรียน)\x20','เกิดข้อผิดพลาดในการปักหมุด','cancel-quiz-bank-btn','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','</tbody></table></div>','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','ข้อต่อไป','_opt1\x22\x20name=\x22question','input[type=\x22radio\x22][value=\x22','แก้ไขหัวข้อสำเร็จ','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','students','เกิดข้อผิดพลาดในการนำผู้เล่นออก','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22color-palette-btn\x20','.draggable-text','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onchange','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','.ideal-answer-input,\x20.correct-response-input','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','activeGameSession','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','หัวข้อที่สร้างเอง','.verification-result','export-leaderboard-word-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','update','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','เกิดข้อผิดพลาดในการอัปเดต:\x20','บันทึกการแก้ไข','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','.score','correctAnswerIndex','currentTarget','Error\x20fetching\x20project\x20quizzes:','อุณหภูมิและการแปลง','.delete-quiz-btn','project-name-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','เพิ่มหัวข้อ\x20\x22','style','ยังไม่เต็มนะ','binom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','รูปสแควร์รูท\x20(surd)','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','learningGaps','ถูกต้อง!','hasPerfectScoreBonus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากไฟล์ข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20resetting\x20project\x20order:','หลังเรียน','postScore','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','Failed\x20to\x20get\x20standardized\x20topic:','#6366F1','.csv','การหารเศษส่วน','results','text-green-600\x20font-bold','color','enable-passcode-checkbox','กรุณาเลือกสถานะ','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','ร้อยละประยุกต์','student-initial-view','Error\x20saving\x20to\x20question\x20bank:','shadowBlur','pin','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','ทำคะแนนเต็มในการทำครั้งแรก','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','sqrt','student-quiz-topic','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','clientX','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','$1_{$2}','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','ปริมาตรรูปทรงสามมิติ','studentName','sync-short-answer-input','_blank','starred','quiz-results-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','คำเตือน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Error\x20verifying\x20answers\x20in\x20editor:','10UXoAKP','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','behavior-log-tab-btn','</p></div>','timer-container','progress-project-select','text/html','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','then','get','</strong></p>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','อสมการเชิงเส้น','\x5cpm','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','px,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','files','ความคล้ายของรูป','สร้างคำถามแบบเติมคำในช่องว่าง','q-text-','selected-answer-index-hidden','/users/','content','grid-view-btn','svg','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','%</span>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','<p\x20class=\x22text-xl\x22>','text-red-700','</option>','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','deg','bg-black/10','สมการตรีโกณมิติ','ความน่าจะเป็นแบบมีเงื่อนไข','ไม่พบข้อมูลเกม','no-projects-msg','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-modal','font-bold\x20text-green-700','fixedData','bg-amber-100\x20text-amber-800','เกิดข้อผิดพลาดในการบันทึกลำดับ','.project-card-container','</span></td>','has','checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','border-green-300\x20bg-green-50','highlighter-tools-group','ทำคะแนนได้เกินครึ่ง','\x5cfrac{$1}{$2}','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','badgesCount','textarea','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','.ideal-answer-input','\x20คะแนน</span></div>','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','modal-confidence-scoring-checkbox','$$$1$','/public/data/quizzes','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','trim','select','toLocaleDateString','loop-until-pass-checkbox','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','.kick-player-btn-sync','fa-dumbbell\x20text-gray-700','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','questions','confirm-global-live-btn','cancel-quiz-settings-btn','retake-quiz-loop-btn','การนับ','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','.ql-editor',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','open-sync-scratchpad-btn','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','</span><span\x20class=\x22font-bold\x22>','Attempting\x20to\x20save\x20game\x20results...','typesetPromise','wasConfident','manage-players-btn','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','blueprint-options-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','cancel-passcode-btn','passcode-prompt-message','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','afterend','ปริมาตร/ความจุและการแปลง','isAdaptive','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','link-input-area','bg-blue-100','text-tab','tan','groups.','open-scratchpad-btn','เศษส่วน\x20(ย่อ/ขยาย)','student-rankings-modal','ความชันเส้นสัมผัส','confidence-mode-container','totalPoints','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','target','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','commonMistakes','uid','textarea[name=\x22question_single\x22]','Error\x20joining\x20live\x20game:','modal-adaptive-quiz-checkbox','ARRAY','lowerGroupResponders','แบบเติมคำตอบ','reduce','MathJax','generate-from-topic-btn','circ','pointerdown','สู้ๆ\x20ลองอีกครั้งนะ','4.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับไฟล์ข้อสอบอ้างอิง**','การลบทศนิยม','submit-group-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','#math-topics-checkbox-container\x20input:checked','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','student-quiz-leaderboard-content','load-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-list','highlighter-size-slider','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','choices_only','scratchpad-options','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','shouldSaveResults','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','No\x20player\x20data\x20to\x20save.','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','num-questions','width','เนื้อหาสำหรับสอน:\x20','\x5ctext{$1}','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','password-error-msg','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','hidden','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','scratchpad-controls','mean','close-comparison-modal-btn','\x20คู่\x20','removeChild','student-view','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','ผิด','points','devicePixelRatio','Error\x20saving\x20user\x20preference:','bg-green-100\x20text-green-800','on_fire','members','button','รูปหลายเหลี่ยมและมุมภายใน','rgba(239,\x2068,\x2068,\x200.7)','transparent','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','readAsDataURL','fas\x20fa-bookmark','Error\x20generating\x20from\x20link:','showInStudentDashboard','\x22\x20value=\x22true\x22\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','localeCompare','คณิตการเงิน/บูรณาการ','results-quiz-title','project-sort-select','project-list','.regenerate-question-editor-btn','global-live-game-modal','.quiz-bank-move-btn','quiz-bank-modal','isCorrect','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','.star-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','from','stdDev','การหาร','ค่าคลาดเคลื่อนของการวัด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','\x5cdiv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','<button\x20id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','bulk-confidence-mode-select','การวัด','ไม่มีผู้ตอบตัวเลือกนี้','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','.answer-text','icon','ผลรวมอนุกรม\x20(Σ)','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confirm-delete-btn','ฟังก์ชันลอการิทึม','empty','wheel','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','student-name-input','fa-bolt\x20text-blue-500','transition-all','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','add','number','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','show_pass_fail_only','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','gamePin','selected-topics-count','change','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/studentProfiles','key','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','\x22\x20class=\x22pin-project-btn\x20','#FEF3C7','</p><p><strong>เฉลย:</strong>\x20','user-id-display','.toggle-actions-btn','export-leaderboard-image-btn','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','มุมพิเศษ\x2045°-45°-90°','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','results-quiz-id-display','bulk-loop-until-pass-checkbox','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','file-input-area','move','#26890c','\x22\x20ให้เป็นคำถามประเภท\x20\x22','ลบแบบทดสอบสำเร็จแล้ว','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','type','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','submit','answer-counter','trail-tool-btn','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','modal-shuffle-select','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','text-indigo-600','\x20กลุ่ม</p></div>','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','<div\x20class=\x22p-2\x20rounded-md\x20','progress-student-select','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-50','per-question-timer-container','$1\x5ctimes','กรุณาเลือกชื่อของคุณ','Error\x20starting\x20team\x20quiz:','toDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answered','answerValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','lineWidth','date_desc','height','\x20ช่อง','per-question-text','<tr><td\x20colspan=\x22','projectId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctAnswer','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','onload','back-to-results-btn','quiz-leaderboard-table','แบบปรนัย\x204\x20ตัวเลือก','cancel-team-selection-btn','<option\x20value=\x22','classStrengths','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scheduled_pending','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','project-title','student-join-game-view','preTScore','ตารางความถี่','Error\x20fetching\x20quiz\x20settings:','.topic-actions-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','.lastAnswerValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','appendChild','commit','clientY','สำหรับโปรเจค:\x20','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','เกิดข้อผิดพลาด:\x20','bg-black/20','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','fill_in_the_blank','1048580ynlyxN','answer','contains','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','เวกเตอร์และเมทริกซ์\x20(เสริม)','responses.','เส้นจำนวน','name_desc','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','back-to-home-manual-release','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','leaderboard','ความเป็นอิสระของเหตุการณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','cloneNode','analytics-tab-content',')\x5cb)','All\x20groups\x20have\x20finished.\x20Ending\x20game.','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','grabbing','comparison','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','projectName','document','preventDefault','ดอกเบี้ยทบต้น','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','math-topic-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','quiz-search-input','\x20หัวข้อ)','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','.delete-custom-topic-btn','student-project-leaderboard-content','lesson-plan-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><i\x20class=\x22fas\x20','hasOwnProperty','ไม่พบข้อมูลข้อสอบหลังเรียน','.delete-project-btn','push','blockReason','text-green-700\x20bg-green-100','correct','ฟังก์ชันราก\x20(root)','copy-quiz-id-btn','submissions','แบบทดสอบนี้หมดเวลาแล้ว','reset-project-order-btn','leaderboard-quiz-tab-btn','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','fix\x20the\x20option','analytics','setAttributeNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rename-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไฮเพอร์โบลา','shuffle','<div\x20class=\x22flex-1\x22></div>','admin-password-modal','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','/public/data/projects/','podium','.generate-easy-version-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','student-quiz-leaderboard-table-body','<i\x20class=\x22fas\x20fa-magic\x22></i>','closest','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','```json','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ตรีโกณมิติ','startsWith','cancel-global-live-btn','Error\x20updating\x20quiz\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','modal-loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','indexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','.topic-name-display','passcode','msExitFullscreen','บันทึกการตั้งค่าการแสดงผลสำเร็จ','```','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','#e21b3c','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','export-pdf-btn','Error\x20comparing\x20results:','</td></tr>','แบบทดสอบที่ติดดาว','quick_thinker','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','.quiz-bank-delete-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-project-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','list-view-btn','presentation-short-answer-input','scheduled','ชนิดของข้อมูลและการเก็บข้อมูล','game-start-mode','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','geq','join','results-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยอดเยี่ยม!','href','matching','ไม่พบข้อมูลโปรเจค','analytics-tab-btn','ตัวประกอบและตัวประกอบเฉพาะ','.start-game-btn','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิมพ์ตอบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','</button>','กรุณาวาง\x20URL\x20ของบทความก่อน','behaviorLog','modal-message','\x20ตัวเลือก.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','บันทึกแบบทดสอบสำเร็จแล้ว!','scores','\x22\x20data-q-type=\x22','transformOrigin','confirm-team-players-btn','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NEGATIVE_INFINITY','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','bank-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','generate-from-text-btn','stopPropagation','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','scrollX','none','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','blur','cancel-quiz-edits-btn','generate-from-blueprint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','bestScore','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','insertBefore','next-sync-question-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','bottom','Copy\x20command\x20failed','documentElement','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','earned-badges-container','visibilitychange','timer-bar','save-project-name-btn','sin','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','eraser','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','isRemedial','.compare-results-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','parent','เกิดข้อผิดพลาดในการส่งคำตอบ','Error\x20toggling\x20star\x20status:','start-quiz-btn','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','generate-from-link-btn','การกระจายและการจัดหมู่','blueprint-topics-list-container','กำลังเตรียมไฟล์\x20Test\x20Blueprint...','max','Error\x20deleting\x20quiz:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','element','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','text-gray-200','perseverance','end-game-btn','.topic-actions-edit','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','index','fas\x20fa-user-edit','editable-text-','original-mode-checkbox','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','dragstart','text/csv;charset=utf-8;','ไม่มีคำอธิบาย','Error\x20joining\x20activity:','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','resultsDisplay','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-settings-btn','<div\x20class=\x22my-2\x22>','auto','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-project-btn','artifacts/','Error\x20saving\x20game\x20results:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','dfrac','N/A','focus','Error\x20generating\x20from\x20blueprint:','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','quiz-editor-questions-container','undo-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','rgba(16,\x20185,\x20129,\x200.7)','leaderboard-quiz','\x5csqrt{$1}','.quiz-bank-parallel-btn','GlobalWorkerOptions','AI\x20request\x20was\x20blocked.\x20Reason:\x20','actions-container-','</span></p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','[data-topic-container-id]','exitFullscreen','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','per-q-countdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','q-image-container-','\x20ใหม่...','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','toDataURL','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','mode-switcher-btn','fa-fire\x20text-orange-500','Error\x20confirming\x20players:','.delete-submission-btn','modal-confidence-mode-select','stepByStepExamples','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','text-indigo-800','default','per-question-options','approx','generated-quiz-container','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','คะแนนเฉลี่ย','\x20คะแนน\x20','game-start-quiz-id','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','Error\x20fetching\x20student\x20rankings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','solution','answerText','\x20/\x20','option','Error\x20listening\x20for\x20custom\x20math\x20topics:','แบบทดสอบจากคลังส่วนตัว','mode','อัปเดตสถานะสำเร็จ','loader-text','doughnut','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ตรวจทานเฉลยเสร็จสิ้น!','.pen-size-btn','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','การเรียงสับเปลี่ยน\x20(Permutation)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','confidenceMode','ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20deleting\x20custom\x20topic:','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','ai-quiz-app-aefee.firebasestorage.app','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','เกมสิ้นสุดลงแล้ว','project-dashboard-view','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','scratchpad-question','lower_group_count','admin-password-input','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','.live-answer-btn,\x20#sync-submit-btn','.quiz-bank-settings-btn','ไม่พบตารางสำหรับ\x20Export','text-gray-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','สุดยอด!\x20ตอบถูกทุกข้อ','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','bg-red-50','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','text-blue-700','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','Failed\x20to\x20get\x20hint:','ฟังก์ชันผกผัน','ทฤษฎีบทพื้นฐานของแคลคูลัส','loader','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','download','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','.edit-custom-topic-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','\x5cfrac{','AI\x20Formula\x20Fix\x20Error:','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','reset-view-btn','-tab-content','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','lessonPlan','pinned-items','toISOString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','ตอบถูก\x203\x20ข้อติดต่อกัน','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.topic-row','setAttribute','behavior-log-container','เลือกโปรเจคเพื่อบันทึก','Error\x20showing\x20quiz\x20detail\x20view:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สี่เหลี่ยม','Error\x20generating\x20worksheet:','rename-quiz-input','.project-card-container:not(.opacity-50)','close-comparison-modal-footer-btn','quiz-id-input','screen_exit','admin-dashboard','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','save','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','preTestId','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง)</span></td>','code','bulk-quiz-settings-btn','comeback_king','33726690uHiaZn','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','generate-from-file-btn','shuffleSetting','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','select[name=\x22question_single\x22]','questionIndex','click','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','back-to-project-btn','[role=\x22textbox\x22]','Error\x20verifying\x20answers:','</form>','<div\x20class=\x22answer-space\x22></div>','show-results-btn','confidence-scoring-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','matching_item','(คู่ขนาน)\x20','move-quiz-modal','Failed\x20to\x20create/update\x20submission\x20record:','mouse','.pen-color-btn','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ฟังก์ชันเชิงเส้นและกราฟ','\x5cs*\x5c(','$1\x20\x5cfrac','user','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','options','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','Error\x20starting\x20live\x20race:','string','พอใช้','มุมและการวัดมุม','จากเนื้อหาต่อไปนี้:\x20\x22','quizMode','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','Error\x20generating\x20easy\x20version\x20quiz:','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กำลังอ่านและเตรียมไฟล์...','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','custom-math-topic-input','กำลังสร้างรูปภาพ...','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','message-modal','close-lesson-plan-modal-footer-btn','link-url-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','student-name-selection-view','ไม่สามารถเริ่มเกมได้','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','execCommand','presentation-modal','grid','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22confidence','shadowColor','teacherTips','mouseleave','text-red-500\x20hover:text-red-700','screen','ความเท่ากันทุกประการของสามเหลี่ยม','rgba(255,\x20255,\x200,\x200.5)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกรหัสแล้ว!','การคูณเศษส่วน','</tr>','timestamp','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','getContext','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-quiz-id=\x22','destroy','mjx-container','save-visibility-settings-btn','onclick','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','post-test','timer-duration-input','project-search-input','getAttributeNS','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','projectOrder','ai-quiz-app-aefee','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cos','AI\x20แก้ไขคำถามสำเร็จ!','data:application/vnd.ms-word;charset=utf-8,','hint','.topic-category','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','global-quiz-list','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','เส้นตรง:\x20ขนาน/ตั้งฉาก','status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','classList','\x22\x20data-name=\x22','\x20mr-2\x22></i>','.save-custom-topic-btn','live-short-answer-input','กรุณาเลือกคำตอบของกลุ่ม','teachingContent','split','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','stringify','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะเวลา\x20(วินาที):','กฎของไซน์','<div\x20class=\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สมการค่าสัมบูรณ์','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','delete-svg-btn','อัตราส่วนและสัดส่วน','parallel-test-upload-input','project-passcode-input'];_0x5226=function(){return _0x46d5e3;};return _0x5226();}function showColorPalette(_0x260d64,_0xa1802e){const _0x12aff9=_0x1c8731;document['querySelectorAll'](_0x12aff9(0x412))[_0x12aff9(0x28e)](_0x203126=>_0x203126['remove']());const _0x123c10=['#FFFFFF','#FEE2E2',_0x12aff9(0x6cd),'#D1FAE5',_0x12aff9(0x949),_0x12aff9(0x1f8),'#F3E8FF',_0x12aff9(0x1c0),'#E5E7EB'],_0xa6d70a=document[_0x12aff9(0x2ae)](_0x12aff9(0x95b));_0xa6d70a['className']=_0x12aff9(0x521),_0x123c10[_0x12aff9(0x28e)](_0x23c5ba=>{const _0xcff4a0=_0x12aff9,_0x5ed79f=document[_0xcff4a0(0x2ae)](_0xcff4a0(0x95b));_0x5ed79f[_0xcff4a0(0x44e)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x5ed79f['style'][_0xcff4a0(0x939)]=_0x23c5ba,_0x5ed79f[_0xcff4a0(0x2aa)](_0xcff4a0(0x8a5),()=>{const _0x753ade=_0xcff4a0;handleProjectColorChange(_0xa1802e,_0x23c5ba),_0xa6d70a[_0x753ade(0x278)]();}),_0xa6d70a[_0xcff4a0(0x716)](_0x5ed79f);}),document['body']['appendChild'](_0xa6d70a);const _0x18fff7=_0x260d64[_0x12aff9(0x3fa)]();_0xa6d70a[_0x12aff9(0x58f)]['top']=_0x18fff7[_0x12aff9(0x7c7)]+window['scrollY']+'px',_0xa6d70a['style']['left']=_0x18fff7[_0x12aff9(0x506)]+window[_0x12aff9(0x7ba)]-_0xa6d70a[_0x12aff9(0x4a3)]/0x2+'px';}async function handleProjectColorChange(_0x307553,_0x28c12c){const _0xf1d78c=_0x1c8731,_0x54e9a8=doc(db,_0xf1d78c(0x804)+appId+_0xf1d78c(0x973),_0x307553);try{await updateDoc(_0x54e9a8,{'color':_0x28c12c});}catch(_0x4efb75){console[_0xf1d78c(0xa1a)]('Error\x20updating\x20project\x20color:',_0x4efb75),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x3d81c1=_0x1c8731,_0x17c9da=globalDashboardSettings[_0x3d81c1(0xb1)]||_0x3d81c1(0x6f8),_0x405255=new Set(globalDashboardSettings[_0x3d81c1(0xfa)]||[]),_0x4ab672=globalDashboardSettings['projectView']||'grid',_0x27646f=document[_0x3d81c1(0x2a0)](_0x3d81c1(0x5e3)),_0x596c7a=document[_0x3d81c1(0x2a0)](_0x3d81c1(0x78e));_0x27646f[_0x3d81c1(0x914)][_0x3d81c1(0x5d4)]('active',_0x4ab672==='grid'),_0x596c7a[_0x3d81c1(0x914)]['toggle'](_0x3d81c1(0x3fd),_0x4ab672===_0x3d81c1(0x1ea)),document['getElementById'](_0x3d81c1(0x695))['value']=_0x17c9da;const _0x3d8ec5=document[_0x3d81c1(0x2a0)]('project-search-input')[_0x3d81c1(0x556)][_0x3d81c1(0x263)]();let _0x326870=allProjects[_0x3d81c1(0x29a)](_0x559bc1=>_0x559bc1[_0x3d81c1(0x738)][_0x3d81c1(0x263)]()[_0x3d81c1(0x4c6)](_0x3d8ec5));const _0xa01d3c=_0x326870[_0x3d81c1(0x29a)](_0x5a9244=>_0x405255[_0x3d81c1(0x5fe)](_0x5a9244['id'])),_0x540aa4=_0x326870[_0x3d81c1(0x29a)](_0x31e00a=>!_0x405255[_0x3d81c1(0x5fe)](_0x31e00a['id'])),_0x430aba=(_0x7a68cc,_0x24b2b7)=>{const _0x274f46=_0x3d81c1;switch(_0x17c9da){case'name_asc':return _0x7a68cc['projectName'][_0x274f46(0x692)](_0x24b2b7[_0x274f46(0x738)],'th');case _0x274f46(0x729):return _0x24b2b7[_0x274f46(0x738)][_0x274f46(0x692)](_0x7a68cc[_0x274f46(0x738)],'th');case _0x274f46(0xaf):return new Date(_0x7a68cc[_0x274f46(0x356)])-new Date(_0x24b2b7['createdAt']);default:return new Date(_0x24b2b7[_0x274f46(0x356)])-new Date(_0x7a68cc['createdAt']);}};_0xa01d3c[_0x3d81c1(0x3a9)](_0x430aba),_0x540aa4[_0x3d81c1(0x3a9)](_0x430aba);const _0x26f661=[..._0xa01d3c,..._0x540aa4],_0x3a48da=globalDashboardSettings['projectOrder']||[];_0x3a48da[_0x3d81c1(0x51f)]>0x0&&_0x4ab672===_0x3d81c1(0x8e4)&&_0x26f661[_0x3d81c1(0x3a9)]((_0x3a80e2,_0x5650df)=>{const _0x41ef81=_0x3d81c1,_0x3e9569=_0x3a48da[_0x41ef81(0x776)](_0x3a80e2['id']),_0x4736c8=_0x3a48da[_0x41ef81(0x776)](_0x5650df['id']);if(_0x3e9569===-0x1)return 0x1;if(_0x4736c8===-0x1)return-0x1;return _0x3e9569-_0x4736c8;});const _0x141a2f={};await Promise[_0x3d81c1(0x3f2)](_0x26f661[_0x3d81c1(0x429)](async _0x269898=>{const _0xd750ad=_0x3d81c1,_0x576e51=query(collection(db,'artifacts/'+appId+_0xd750ad(0x60f)),where(_0xd750ad(0x6fd),'==',_0x269898['id'])),_0x392952=await getDocs(_0x576e51);_0x141a2f[_0x269898['id']]=_0x392952[_0xd750ad(0x53c)];}));const _0x16a5dd=document[_0x3d81c1(0x2a0)](_0x3d81c1(0x696));let _0x1b4b09='';if(_0x4ab672===_0x3d81c1(0x8e4)){_0x16a5dd['className']=_0x3d81c1(0x8f5);if(starredQuizzes[_0x3d81c1(0x51f)]>0x0&&_0x3d8ec5===''){const _0x813599=starredQuizzes[_0x3d81c1(0x429)](_0x3c8573=>{const _0x50fba9=_0x3d81c1,_0x4b0239=allProjects['find'](_0x546810=>_0x546810['id']===_0x3c8573[_0x50fba9(0x6fd)]);return{..._0x3c8573,'projectName':_0x4b0239?_0x4b0239['projectName']:'N/A'};});_0x1b4b09+=_0x3d81c1(0x14c)+_0x813599[_0x3d81c1(0x429)](_0x3ead17=>_0x3d81c1(0x2b5)+_0x3ead17[_0x3d81c1(0x39a)]+'\x22>'+_0x3ead17['topic']+_0x3d81c1(0x2e1)+_0x3ead17['projectName']+'\x22>จาก:\x20'+_0x3ead17[_0x3d81c1(0x738)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3d81c1(0x795)]('')+_0x3d81c1(0x666)+starredQuizzes[_0x3d81c1(0x51f)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x26f661[_0x3d81c1(0x28e)](_0x52710f=>{const _0x3b0732=_0x3d81c1,_0x24951a=_0x141a2f[_0x52710f['id']]??0x0,_0x56f9de=_0x405255[_0x3b0732(0x5fe)](_0x52710f['id']),_0x5023d2=_0x52710f[_0x3b0732(0x5a4)]||_0x3b0732(0x9fa),_0x5626cb=parseInt(_0x5023d2[_0x3b0732(0x3e1)](0x1,0x3),0x10)*0.299+parseInt(_0x5023d2[_0x3b0732(0x3e1)](0x3,0x5),0x10)*0.587+parseInt(_0x5023d2[_0x3b0732(0x3e1)](0x5,0x7),0x10)*0.114<0xba,_0x48c8a0=_0x5626cb?'text-white':_0x3b0732(0x82c),_0x4a0567=_0x5626cb?_0x3b0732(0x7ee):_0x3b0732(0x9b7);_0x1b4b09+=_0x3b0732(0x443)+(_0x56f9de?_0x3b0732(0x27f):_0x3b0732(0x1e8))+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x5023d2+';\x22\x20data-id=\x22'+_0x52710f['id']+_0x3b0732(0x413)+_0x52710f['id']+_0x3b0732(0x56d)+(_0x5626cb?_0x3b0732(0x24e):'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x52710f['id']+_0x3b0732(0x6cc)+(_0x5626cb?_0x3b0732(0x24e):_0x3b0732(0x14b))+_0x3b0732(0x2ad)+(_0x56f9de?_0x5626cb?_0x3b0732(0x95f):_0x3b0732(0x6e7):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x52710f['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x48c8a0+_0x3b0732(0x277)+_0x52710f[_0x3b0732(0x738)]+_0x3b0732(0x1d3)+_0x4a0567+_0x3b0732(0x831)+new Date(_0x52710f[_0x3b0732(0x356)])[_0x3b0732(0x613)](_0x3b0732(0x3c9))+_0x3b0732(0xa29)+(_0x5626cb?_0x3b0732(0x861):_0x3b0732(0x170))+_0x3b0732(0x6d8)+_0x24951a+_0x3b0732(0x8c7)+_0x52710f['id']+'\x22\x20data-name=\x22'+_0x52710f['projectName']+_0x3b0732(0x2a1)+(_0x5626cb?_0x3b0732(0x33f):_0x3b0732(0x8ec))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x16a5dd[_0x3d81c1(0x44e)]=_0x3d81c1(0xa2d),starredQuizzes['length']>0x0&&_0x3d8ec5===''&&(_0x1b4b09+=_0x3d81c1(0x1a0)+starredQuizzes[_0x3d81c1(0x51f)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x1b4b09+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x26f661[_0x3d81c1(0x28e)](_0x43803d=>{const _0x2d0268=_0x3d81c1,_0x3f1b95=_0x141a2f[_0x43803d['id']]??0x0,_0x122b65=_0x405255['has'](_0x43803d['id']);_0x1b4b09+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x43803d['color']||'#E5E7EB')+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x43803d['id']+_0x2d0268(0x58d)+_0x43803d['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x3f1b95+_0x2d0268(0xa05)+new Date(_0x43803d[_0x2d0268(0x356)])['toLocaleString']('th-TH')+_0x2d0268(0xd5)+_0x43803d['id']+_0x2d0268(0x440)+(_0x122b65?_0x2d0268(0x6e7):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x43803d['id']+_0x2d0268(0x915)+_0x43803d[_0x2d0268(0x738)]+_0x2d0268(0x79f);});projectList[_0x3d81c1(0x42b)]=_0x1b4b09,noProjectsMsg[_0x3d81c1(0x914)][_0x3d81c1(0x5d4)](_0x3d81c1(0x674),_0x1b4b09[_0x3d81c1(0x51f)]>0x0);}document[_0x1c8731(0x2a0)](_0x1c8731(0xf2))[_0x1c8731(0x2aa)]('click',async()=>{const _0x10e6bb=_0x1c8731,_0x41fab7=document[_0x10e6bb(0x2a0)](_0x10e6bb(0x58c)),_0x53caf2=_0x41fab7[_0x10e6bb(0x556)]['trim']();if(!_0x53caf2){showMessage(_0x10e6bb(0x256));return;}try{const _0x7242df=doc(collection(db,_0x10e6bb(0x804)+appId+_0x10e6bb(0x973)));await setDoc(_0x7242df,{'projectName':_0x53caf2,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x10e6bb(0x7bb),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x10e6bb(0x7bb),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x41fab7[_0x10e6bb(0x556)]='',createProjectModal[_0x10e6bb(0x914)]['add'](_0x10e6bb(0x674)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x140023){console[_0x10e6bb(0xa1a)]('Error\x20creating\x20project:',_0x140023),showMessage(_0x10e6bb(0x343));}}),projectList[_0x1c8731(0x2aa)](_0x1c8731(0x8a5),async _0x583eba=>{const _0x4058fe=_0x1c8731,_0x380e3b=_0x583eba[_0x4058fe(0x646)][_0x4058fe(0x76a)]('.project-card-content'),_0x306027=_0x583eba[_0x4058fe(0x646)]['closest'](_0x4058fe(0x74a)),_0x70d235=_0x583eba[_0x4058fe(0x646)][_0x4058fe(0x76a)]('.pin-project-btn'),_0x18e7ab=_0x583eba[_0x4058fe(0x646)]['closest'](_0x4058fe(0x951));if(_0x70d235){const _0xd6a2c3=_0x70d235[_0x4058fe(0x2f8)]['id'],_0x276bf2=doc(db,_0x4058fe(0x163),_0x4058fe(0x394)),_0xf2aa4=globalDashboardSettings[_0x4058fe(0xfa)];let _0x138c10;_0xf2aa4['includes'](_0xd6a2c3)?_0x138c10=_0xf2aa4['filter'](_0x4c0213=>_0x4c0213!==_0xd6a2c3):_0x138c10=[..._0xf2aa4,_0xd6a2c3];try{await setDoc(_0x276bf2,{'pinnedProjects':_0x138c10},{'merge':!![]});}catch(_0x2b7e31){console['error']('Error\x20updating\x20pin\x20status:',_0x2b7e31),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x18e7ab){const _0x4ae6a3=_0x18e7ab[_0x4058fe(0x2f8)]['id'];showColorPalette(_0x18e7ab,_0x4ae6a3);}else{if(_0x380e3b){const _0x51b6ef=_0x380e3b[_0x4058fe(0x2f8)]['id'];_0x51b6ef===_0x4058fe(0x199)?showStarredProjectView():(currentProjectId=_0x51b6ef,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x306027){const _0x5f3f0b=_0x306027[_0x4058fe(0x2f8)]['id'],_0x2ceeb0=_0x306027['dataset'][_0x4058fe(0x3d6)];showConfirmation(_0x4058fe(0x618)+_0x2ceeb0+_0x4058fe(0x76c),()=>handleDeleteProject(_0x5f3f0b));}}}}}),projectList['addEventListener'](_0x1c8731(0x7f8),_0x33e53b=>{const _0x531761=_0x1c8731,_0x279768=_0x33e53b['target']['closest'](_0x531761(0x5fc));_0x279768&&_0x279768[_0x531761(0x914)][_0x531761(0x6bb)](_0x531761(0x29d));}),projectList[_0x1c8731(0x2aa)](_0x1c8731(0x20b),_0x2c12f9=>{const _0xfa8f=_0x1c8731,_0x2a6dc2=_0x2c12f9[_0xfa8f(0x646)][_0xfa8f(0x76a)]('.project-card-container');_0x2a6dc2&&_0x2a6dc2[_0xfa8f(0x914)][_0xfa8f(0x278)](_0xfa8f(0x29d));}),projectList[_0x1c8731(0x2aa)](_0x1c8731(0x9c1),_0x49359e=>{const _0x235eb8=_0x1c8731;_0x49359e[_0x235eb8(0x73a)]();const _0x2c46a3=document[_0x235eb8(0x265)](_0x235eb8(0x159));if(!_0x2c46a3)return;const _0x1e6951=getDragAfterElement(projectList,_0x49359e[_0x235eb8(0x718)]);_0x1e6951==null?projectList[_0x235eb8(0x716)](_0x2c46a3):projectList[_0x235eb8(0x7c4)](_0x2c46a3,_0x1e6951);}),projectList['addEventListener']('drop',_0x37c338=>{const _0x42e6af=_0x1c8731;_0x37c338[_0x42e6af(0x73a)]();const _0x20c841=[...projectList[_0x42e6af(0x1a9)](_0x42e6af(0x2cd))][_0x42e6af(0x429)](_0x3e8bfe=>_0x3e8bfe[_0x42e6af(0x2f8)]['id']);saveProjectOrder(_0x20c841);});function renderBehaviorLog(_0x152ee7){const _0x27eb63=_0x1c8731,_0x53ecdd=document[_0x27eb63(0x2a0)](_0x27eb63(0x886));if(!_0x53ecdd)return;const _0x683c42=_0x152ee7['filter'](_0x506630=>_0x506630[_0x27eb63(0x7a7)]&&_0x506630['behaviorLog'][_0x27eb63(0x51f)]>0x0);if(_0x683c42[_0x27eb63(0x51f)]===0x0){_0x53ecdd[_0x27eb63(0x42b)]=_0x27eb63(0xa9);return;}let _0x422f4f='';_0x683c42[_0x27eb63(0x28e)](_0x546edd=>{const _0x4ec865=_0x27eb63;_0x422f4f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x546edd[_0x4ec865(0x5b8)]+_0x4ec865(0x7ca),_0x546edd['behaviorLog'][_0x4ec865(0x3a9)]((_0xea2041,_0x72124f)=>new Date(_0x72124f['timestamp'])-new Date(_0xea2041[_0x4ec865(0x8f4)]))[_0x4ec865(0x28e)](_0x7ecc8b=>{const _0x4f6fcd=_0x4ec865,_0x41cde6=new Date(_0x7ecc8b['timestamp'])[_0x4f6fcd(0x11a)](_0x4f6fcd(0x3c9),{'dateStyle':_0x4f6fcd(0x362),'timeStyle':_0x4f6fcd(0x97d)});_0x422f4f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x7ecc8b[_0x4f6fcd(0x18f)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x41cde6+_0x4f6fcd(0x41b);}),_0x422f4f+=_0x4ec865(0x504);}),_0x53ecdd[_0x27eb63(0x42b)]=_0x422f4f;}function getDragAfterElement(_0x20d4db,_0x53217c){const _0x4cbb4d=_0x1c8731,_0x2181dd=[..._0x20d4db[_0x4cbb4d(0x1a9)](_0x4cbb4d(0x88d))];return _0x2181dd[_0x4cbb4d(0x650)]((_0x56a1f0,_0x21838d)=>{const _0x4c8d4a=_0x4cbb4d,_0x26fd5c=_0x21838d[_0x4c8d4a(0x3fa)](),_0x2f3ee3=_0x53217c-_0x26fd5c[_0x4c8d4a(0xa2f)]-_0x26fd5c[_0x4c8d4a(0x6f9)]/0x2;return _0x2f3ee3<0x0&&_0x2f3ee3>_0x56a1f0[_0x4c8d4a(0x40c)]?{'offset':_0x2f3ee3,'element':_0x21838d}:_0x56a1f0;},{'offset':Number[_0x4cbb4d(0x7b3)]})[_0x4cbb4d(0x7ec)];}async function saveProjectOrder(_0x1a3041){const _0x495a66=_0x1c8731,_0x24dce1=doc(db,_0x495a66(0x163),_0x495a66(0x394));try{await setDoc(_0x24dce1,{'projectOrder':_0x1a3041},{'merge':!![]});}catch(_0x4a437d){console[_0x495a66(0xa1a)]('Error\x20saving\x20project\x20order:',_0x4a437d),showMessage(_0x495a66(0x5fb));}}async function logBehaviorEvent(_0xafba61,_0x178091={}){const _0x4d0581=_0x1c8731;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x4d0581(0x99f)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x597a1f=doc(db,_0x4d0581(0x804)+appId+_0x4d0581(0x39f)+currentQuizData['id']+'/submissions',currentStudentName),_0x20c41b={'event':_0xafba61,'timestamp':new Date()['toISOString'](),..._0x178091};try{await updateDoc(_0x597a1f,{'behaviorLog':arrayUnion(_0x20c41b)}),console[_0x4d0581(0x30f)](_0x4d0581(0x1b2)+currentStudentName+_0x4d0581(0x186));}catch(_0x4d0a16){_0x4d0a16[_0x4d0581(0x89a)]===_0x4d0581(0x982)?console[_0x4d0581(0x99f)](_0x4d0581(0x52c)+currentStudentName+_0x4d0581(0x61e)):console[_0x4d0581(0xa1a)](_0x4d0581(0x1dc),_0x4d0a16);}}function calculateMeanAndStdDev(_0x4e4b66){const _0x4f005e=_0x1c8731;if(_0x4e4b66[_0x4f005e(0x51f)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x3be320=_0x4e4b66['reduce']((_0x32bbb6,_0x3c9d78)=>_0x32bbb6+_0x3c9d78,0x0)/_0x4e4b66[_0x4f005e(0x51f)];if(_0x4e4b66[_0x4f005e(0x51f)]===0x1)return{'mean':_0x3be320,'stdDev':0x0};const _0x2a8f4=Math[_0x4f005e(0x5b0)](_0x4e4b66['map'](_0x52519d=>Math['pow'](_0x52519d-_0x3be320,0x2))[_0x4f005e(0x650)]((_0x5aa0a5,_0x25518d)=>_0x5aa0a5+_0x25518d,0x0)/(_0x4e4b66['length']-0x1));return{'mean':_0x3be320,'stdDev':_0x2a8f4};}function calculateZScore(_0x20c9ae,_0x11ec26,_0x27af35){if(_0x27af35===0x0)return 0x0;return(_0x20c9ae-_0x11ec26)/_0x27af35;}function calculateTScore(_0x20cf05){return 0xa*_0x20cf05+0x32;}function showStarredProjectView(){const _0x3a01ce=_0x1c8731;currentProjectId='starred',currentProjectData=null,projectTitle[_0x3a01ce(0x531)]=_0x3a01ce(0x783),projectIdDisplay['textContent']=_0x3a01ce(0x87f),showView(_0x3a01ce(0x299)),manageTab[_0x3a01ce(0x914)][_0x3a01ce(0x6bb)](_0x3a01ce(0x674)),leaderboardTab[_0x3a01ce(0x914)][_0x3a01ce(0x6bb)]('hidden'),switchProjectTab(_0x3a01ce(0x5a2)),renderQuizzes();}async function loadProjectDetails(_0x6b0aa9){const _0x424bd4=_0x1c8731,_0x31c2a8=doc(db,_0x424bd4(0x804)+appId+_0x424bd4(0x973),_0x6b0aa9),_0x3ad3b5=await getDoc(_0x31c2a8);if(_0x3ad3b5[_0x424bd4(0x512)]()){manageTab[_0x424bd4(0x914)][_0x424bd4(0x278)](_0x424bd4(0x674)),leaderboardTab[_0x424bd4(0x914)][_0x424bd4(0x278)](_0x424bd4(0x674)),currentProjectData=_0x3ad3b5[_0x424bd4(0x4ff)](),projectTitle[_0x424bd4(0x531)]=currentProjectData['projectName'],projectIdDisplay[_0x424bd4(0x531)]=_0x6b0aa9;const _0x3a4d4d=currentProjectData[_0x424bd4(0x141)]||{};document[_0x424bd4(0x2a0)](_0x424bd4(0x4cc))[_0x424bd4(0x556)]=_0x3a4d4d[_0x424bd4(0x8a1)]||_0x424bd4(0x7bb);const _0x165431=document['getElementById'](_0x424bd4(0x24a));_0x165431[_0x424bd4(0x5ff)]=_0x3a4d4d[_0x424bd4(0x68f)]!==![];const _0xc45029=document[_0x424bd4(0x2a0)](_0x424bd4(0x5a5)),_0x5c6bca=document[_0x424bd4(0x2a0)](_0x424bd4(0x448)),_0x49ae29=document[_0x424bd4(0x2a0)](_0x424bd4(0x929)),_0x16b94f=_0x3a4d4d['isPasscodeEnabled']||![];_0xc45029[_0x424bd4(0x5ff)]=_0x16b94f,_0x49ae29[_0x424bd4(0x556)]=_0x3a4d4d[_0x424bd4(0x779)]||'',_0x5c6bca[_0x424bd4(0x914)][_0x424bd4(0x5d4)]('hidden',!_0x16b94f),_0xc45029[_0x424bd4(0x572)]=()=>{const _0x4e3ed6=_0x424bd4;_0x5c6bca['classList'][_0x4e3ed6(0x5d4)](_0x4e3ed6(0x674),!_0xc45029[_0x4e3ed6(0x5ff)]);},document['getElementById'](_0x424bd4(0x8b0))[_0x424bd4(0x5ff)]=_0x3a4d4d[_0x424bd4(0x110)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x6b0aa9),listenForProjectQuizzes(_0x6b0aa9),listenForStudentProfiles(_0x6b0aa9);}else showMessage(_0x424bd4(0x1b5)),showView(_0x424bd4(0x891));}async function handleResetProjectOrder(){const _0x5e8600=_0x1c8731,_0x4c17da=doc(db,_0x5e8600(0x163),_0x5e8600(0x394));try{await setDoc(_0x4c17da,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x5e8600(0x34d));}catch(_0x3de338){console[_0x5e8600(0xa1a)](_0x5e8600(0x59a),_0x3de338),showMessage(_0x5e8600(0x661));}}async function handleTogglePinProject(_0xd28327){const _0x5e0728=_0x1c8731;if(!_0xd28327)return;const _0x2c4d69=doc(db,'artifacts/'+appId+_0x5e0728(0x973),_0xd28327);try{const _0x1087c5=await getDoc(_0x2c4d69);if(_0x1087c5[_0x5e0728(0x512)]()){const _0x568f5b=_0x1087c5[_0x5e0728(0x4ff)]()['isPinned']||![];await updateDoc(_0x2c4d69,{'isPinned':!_0x568f5b});}}catch(_0x16d50d){console['error']('Error\x20toggling\x20pin\x20status:',_0x16d50d),showMessage(_0x5e0728(0x55f));}}async function handleDeleteProject(_0x4e2dbb){const _0x384ca8=_0x1c8731;try{const _0x3b30f2=writeBatch(db),_0x1f5ac1=collection(db,_0x384ca8(0x804)+appId+_0x384ca8(0x60f)),_0x20a5fe=query(_0x1f5ac1,where(_0x384ca8(0x6fd),'==',_0x4e2dbb)),_0x225902=await getDocs(_0x20a5fe);for(const _0x55b1ef of _0x225902[_0x384ca8(0x1c5)]){const _0x2a91c9=collection(db,_0x384ca8(0x804)+appId+'/public/data/quizzes/'+_0x55b1ef['id']+_0x384ca8(0x9cd)),_0x3264a7=await getDocs(_0x2a91c9);_0x3264a7[_0x384ca8(0x28e)](_0xcfbb6e=>{const _0x2c715b=_0x384ca8;_0x3b30f2['delete'](_0xcfbb6e[_0x2c715b(0x36e)]);}),_0x3b30f2[_0x384ca8(0x389)](_0x55b1ef[_0x384ca8(0x36e)]);}const _0x484d59=collection(db,'artifacts/'+appId+_0x384ca8(0x764)+_0x4e2dbb+_0x384ca8(0x6c9)),_0x13fcec=await getDocs(_0x484d59);_0x13fcec[_0x384ca8(0x28e)](_0x463dee=>{const _0x9c342d=_0x384ca8;_0x3b30f2[_0x9c342d(0x389)](_0x463dee[_0x9c342d(0x36e)]);});const _0x396bea=doc(db,_0x384ca8(0x804)+appId+_0x384ca8(0x973),_0x4e2dbb);_0x3b30f2[_0x384ca8(0x389)](_0x396bea),await _0x3b30f2[_0x384ca8(0x717)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x384ca8(0x891));}catch(_0x57ee4f){console[_0x384ca8(0xa1a)]('Error\x20deleting\x20project:',_0x57ee4f),showMessage(_0x384ca8(0x2fc));}}document[_0x1c8731(0x2a0)](_0x1c8731(0x7ff))[_0x1c8731(0x2aa)]('click',async()=>{const _0x57714c=_0x1c8731;if(!currentProjectId)return;const _0x3eddbb={'defaultNumQuestions':parseInt(document[_0x57714c(0x2a0)]('num-questions')['value']),'defaultNumChoices':parseInt(document['getElementById'](_0x57714c(0x20c))[_0x57714c(0x556)]),'defaultPassingScore':parseInt(document[_0x57714c(0x2a0)](_0x57714c(0x9a8))[_0x57714c(0x556)]),'resultsDisplay':document['getElementById']('results-display-select')[_0x57714c(0x556)],'shuffleSetting':document[_0x57714c(0x2a0)](_0x57714c(0x4cc))[_0x57714c(0x556)],'timerMode':document['getElementById'](_0x57714c(0x7dc))['value'],'timerDuration':parseInt(document[_0x57714c(0x2a0)](_0x57714c(0x902))[_0x57714c(0x556)]),'isConfidenceScoringEnabled':document[_0x57714c(0x2a0)]('confidence-scoring-checkbox')[_0x57714c(0x5ff)],'confidenceMode':document[_0x57714c(0x2a0)](_0x57714c(0x4fa))[_0x57714c(0x556)]};try{const _0x41917b=doc(db,_0x57714c(0x804)+appId+_0x57714c(0x973),currentProjectId);await updateDoc(_0x41917b,{'settings':_0x3eddbb}),showMessage(_0x57714c(0xa2b));}catch(_0x5d4eab){console['error'](_0x57714c(0x3d3),_0x5d4eab),showMessage(_0x57714c(0x4e7));}});function listenForStudents(_0x5c1c14){const _0x47fcce=_0x1c8731,_0x1df0c3=doc(db,_0x47fcce(0x804)+appId+_0x47fcce(0x973),_0x5c1c14);unsubscribeStudentsListener=onSnapshot(_0x1df0c3,_0x2362ca=>{const _0x5c07c7=_0x47fcce;if(_0x2362ca[_0x5c07c7(0x512)]()){const _0x5bc7a5=_0x2362ca[_0x5c07c7(0x4ff)]();currentProjectData=_0x5bc7a5,renderStudentList(_0x5bc7a5[_0x5c07c7(0x56a)]||[]);}});}function renderStudentList(_0x272eaa){const _0x3b4734=_0x1c8731,_0x33cd6f=document[_0x3b4734(0x2a0)](_0x3b4734(0x23e));_0x272eaa[_0x3b4734(0x51f)]===0x0?(studentList[_0x3b4734(0x42b)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x33cd6f[_0x3b4734(0x914)]['add'](_0x3b4734(0x674))):(studentList[_0x3b4734(0x42b)]=_0x272eaa[_0x3b4734(0x429)](_0x181b9a=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x181b9a+_0x3b4734(0x9fd)+_0x181b9a+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3b4734(0x795)](''),_0x33cd6f[_0x3b4734(0x914)][_0x3b4734(0x278)]('hidden'));}document[_0x1c8731(0x2a0)](_0x1c8731(0x138))[_0x1c8731(0x2aa)]('click',async()=>{const _0x57a45e=_0x1c8731;if(!currentProjectId)return;const _0x4312df=document[_0x57a45e(0x2a0)](_0x57a45e(0x6b7)),_0x131c2f=_0x4312df[_0x57a45e(0x556)][_0x57a45e(0x611)]();if(!_0x131c2f){showMessage(_0x57a45e(0x458));return;}const _0x38e99c=_0x131c2f[_0x57a45e(0x91b)]('\x0a')[_0x57a45e(0x429)](_0x5758ee=>_0x5758ee[_0x57a45e(0x611)]())[_0x57a45e(0x29a)](_0x9d17a2=>_0x9d17a2);if(_0x38e99c['length']===0x0)return;try{const _0xa5c2ea=doc(db,_0x57a45e(0x804)+appId+_0x57a45e(0x973),currentProjectId),_0x1edf7f=await getDoc(_0xa5c2ea);if(_0x1edf7f['exists']()){const _0x5bc55f=_0x1edf7f[_0x57a45e(0x4ff)]()[_0x57a45e(0x56a)]||[],_0x4a2dbf=[...new Set([..._0x5bc55f,..._0x38e99c])];await updateDoc(_0xa5c2ea,{'students':_0x4a2dbf}),_0x4312df[_0x57a45e(0x556)]='';}}catch(_0x446f4e){console['error'](_0x57a45e(0xf9),_0x446f4e),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x2942f6){const _0x4397d0=_0x1c8731,_0x4dffe7=document[_0x4397d0(0x2a0)]('move-quiz-modal'),_0xe1cfde=document[_0x4397d0(0x2a0)](_0x4397d0(0x9af)),_0x4a1ca6=_0x4dffe7[_0x4397d0(0x265)]('h3'),_0x49a3e1=document[_0x4397d0(0x2a0)](_0x4397d0(0x4d9)),_0x72d829=document['getElementById'](_0x4397d0(0x487));_0x4a1ca6[_0x4397d0(0x531)]='จับคู่เพื่อเปรียบเทียบผล',_0xe1cfde[_0x4397d0(0x42b)]=_0x4397d0(0x1e3),_0x49a3e1['textContent']=_0x4397d0(0x19f),_0x4dffe7['classList']['remove'](_0x4397d0(0x674));const _0x266b9c=allQuizzes['filter'](_0x4fa460=>_0x4fa460['id']!==_0x2942f6);_0x266b9c[_0x4397d0(0x51f)]===0x0?(_0xe1cfde['innerHTML']=_0x4397d0(0x564),_0x49a3e1[_0x4397d0(0x13f)]=!![]):(_0xe1cfde[_0x4397d0(0x42b)]='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x266b9c[_0x4397d0(0x429)](_0x22e6d1=>_0x4397d0(0x708)+_0x22e6d1['id']+'\x22>'+_0x22e6d1[_0x4397d0(0x39a)]+'</option>')[_0x4397d0(0x795)](''),_0x49a3e1[_0x4397d0(0x13f)]=![]);const _0x34ba3c=async()=>{const _0x572205=_0x4397d0,_0x10a7eb=_0xe1cfde['value'];if(!_0x10a7eb){showMessage(_0x572205(0x569));return;}_0x49a3e1[_0x572205(0x13f)]=!![],_0x49a3e1['textContent']='กำลังจับคู่...';try{const _0x1ff9a0=doc(db,_0x572205(0x804)+appId+'/public/data/quizzes',_0x2942f6),_0x507736=doc(db,_0x572205(0x804)+appId+_0x572205(0x60f),_0x10a7eb),_0x33ae59=writeBatch(db);_0x33ae59['update'](_0x1ff9a0,{'pairedQuizId':_0x10a7eb}),_0x33ae59[_0x572205(0x580)](_0x507736,{'pairedQuizId':_0x2942f6}),await _0x33ae59['commit'](),showMessage(_0x572205(0x1bb)),_0x4dffe7[_0x572205(0x914)][_0x572205(0x6bb)](_0x572205(0x674));}catch(_0xbda2dd){console['error'](_0x572205(0x383),_0xbda2dd),showMessage(_0x572205(0x4b9));}finally{_0x4a1ca6[_0x572205(0x531)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x49a3e1[_0x572205(0x531)]='ย้าย',_0x49a3e1[_0x572205(0x13f)]=![],_0x49a3e1['removeEventListener'](_0x572205(0x8a5),_0x34ba3c),_0x72d829['removeEventListener'](_0x572205(0x8a5),_0x507d9b);}},_0x507d9b=()=>{const _0x1b1b45=_0x4397d0;_0x4dffe7[_0x1b1b45(0x914)][_0x1b1b45(0x6bb)](_0x1b1b45(0x674)),_0x4a1ca6['textContent']=_0x1b1b45(0xb2),_0x49a3e1[_0x1b1b45(0x531)]=_0x1b1b45(0x2d8),_0x49a3e1[_0x1b1b45(0x997)](_0x1b1b45(0x8a5),_0x34ba3c),_0x72d829['removeEventListener'](_0x1b1b45(0x8a5),_0x507d9b);};_0x49a3e1[_0x4397d0(0x2aa)](_0x4397d0(0x8a5),_0x34ba3c),_0x72d829[_0x4397d0(0x2aa)](_0x4397d0(0x8a5),_0x507d9b);}function handleDeleteStudent(_0x571df2){const _0x3f3176=_0x1c8731;showConfirmation(_0x3f3176(0x6d5)+_0x571df2+_0x3f3176(0x7a2),async()=>{const _0x17e1d5=_0x3f3176;if(!currentProjectId||!currentProjectData)return;const _0x9012d4=currentProjectData[_0x17e1d5(0x56a)][_0x17e1d5(0x29a)](_0x361d5c=>_0x361d5c!==_0x571df2);try{const _0x1dfeaa=doc(db,_0x17e1d5(0x804)+appId+_0x17e1d5(0x973),currentProjectId),_0x3bb6eb=doc(db,_0x17e1d5(0x804)+appId+_0x17e1d5(0x764)+currentProjectId+'/studentProfiles',_0x571df2),_0x597d11=writeBatch(db);_0x597d11['update'](_0x1dfeaa,{'students':_0x9012d4}),_0x597d11[_0x17e1d5(0x389)](_0x3bb6eb),await _0x597d11['commit']();}catch(_0x455a31){console['error']('Error\x20deleting\x20student:',_0x455a31),showMessage(_0x17e1d5(0x330));}});}function handleDeleteAllStudents(){const _0x3b2797=_0x1c8731;showConfirmation(_0x3b2797(0x702),async()=>{const _0x3a20b6=_0x3b2797;if(!currentProjectId)return;try{const _0x57f168=doc(db,'artifacts/'+appId+_0x3a20b6(0x973),currentProjectId),_0x52cc02=collection(db,'artifacts/'+appId+_0x3a20b6(0x764)+currentProjectId+_0x3a20b6(0x6c9)),_0x3b5724=await getDocs(_0x52cc02),_0x2eb309=writeBatch(db);_0x2eb309[_0x3a20b6(0x580)](_0x57f168,{'students':[]}),_0x3b5724[_0x3a20b6(0x28e)](_0x2bfa46=>_0x2eb309[_0x3a20b6(0x389)](_0x2bfa46[_0x3a20b6(0x36e)])),await _0x2eb309[_0x3a20b6(0x717)]();}catch(_0x3680f6){console[_0x3a20b6(0xa1a)]('Error\x20deleting\x20all\x20students:',_0x3680f6),showMessage(_0x3a20b6(0x970));}});}async function handleGenerateFromFileClick(){const _0x3d75e2=_0x1c8731;if(!selectedFile){showMessage(_0x3d75e2(0x963));return;}const _0x13701f=document[_0x3d75e2(0x2a0)](_0x3d75e2(0x86d)),_0x55faac=document[_0x3d75e2(0x2a0)]('loader-text'),_0x39241f=document[_0x3d75e2(0x2a0)](_0x3d75e2(0x830)),_0x2fff4c=document[_0x3d75e2(0x2a0)](_0x3d75e2(0x8a0));_0x2fff4c['disabled']=!![],document[_0x3d75e2(0x2a0)]('quiz-generation-area')[_0x3d75e2(0x914)][_0x3d75e2(0x278)](_0x3d75e2(0x674)),_0x39241f[_0x3d75e2(0x42b)]='',_0x13701f[_0x3d75e2(0x914)][_0x3d75e2(0x278)](_0x3d75e2(0x674)),_0x55faac[_0x3d75e2(0x531)]=_0x3d75e2(0x8cc);const _0xe91a33=new FileReader();_0xe91a33[_0x3d75e2(0x68c)](selectedFile),_0xe91a33[_0x3d75e2(0x703)]=async()=>{const _0x5848ef=_0x3d75e2;try{const _0x1fdc33=_0xe91a33[_0x5848ef(0x35c)][_0x5848ef(0x91b)](',')[0x1],_0x3a96f7=selectedFile[_0x5848ef(0x6df)];await generateQuizFromFile(_0x3a96f7,_0x1fdc33);}catch(_0x18775e){console['error'](_0x5848ef(0x1da),_0x18775e),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x18775e[_0x5848ef(0x285)]),_0x13701f[_0x5848ef(0x914)][_0x5848ef(0x6bb)](_0x5848ef(0x674));}finally{}},_0xe91a33[_0x3d75e2(0x3a7)]=_0x1e93e8=>{const _0xe5561e=_0x3d75e2;console[_0xe5561e(0xa1a)](_0xe5561e(0x9de),_0x1e93e8),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x13701f['classList'][_0xe5561e(0x6bb)]('hidden'),_0x2fff4c['disabled']=![];};}function autoFormatMath(_0x40729d){const _0x4ac297=_0x1c8731;if(typeof _0x40729d!==_0x4ac297(0x8c2)||!_0x40729d)return _0x40729d;const _0x69dddd=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x35df93=_0x40729d[_0x4ac297(0x54e)](_0x69dddd,_0x2a16bf=>{const _0x582233=_0x4ac297;return'$'+_0x2a16bf[_0x582233(0x611)]()+'$';});return _0x35df93;}function sanitizeQuizData(_0x3b5b28){const _0x4eadf1=_0x1c8731;if(!_0x3b5b28||!_0x3b5b28[_0x4eadf1(0x619)])return _0x3b5b28;const _0x4d0d01={'imes':'\x5ctimes','div':'\x5cdiv'},_0x2e1d4c=_0x4e3e8c=>{const _0x535ee2=_0x4eadf1;if(typeof _0x4e3e8c!==_0x535ee2(0x8c2))return _0x4e3e8c;let _0x2c43cc=_0x4e3e8c;for(const [_0x3c5f40,_0x520442]of Object['entries'](_0x4d0d01)){const _0x3ef846=new RegExp('\x5cb'+_0x3c5f40+'\x5cb','g');_0x2c43cc=_0x2c43cc['replace'](_0x3ef846,_0x520442);}return _0x2c43cc=_0x2c43cc[_0x535ee2(0x54e)](/\\\//g,_0x535ee2(0x6a5)),_0x2c43cc=_0x2c43cc[_0x535ee2(0x54e)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x535ee2(0x6a5))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x535ee2(0x542))[_0x535ee2(0x54e)](/÷/g,'\x5cdiv')[_0x535ee2(0x54e)](/×/g,_0x535ee2(0x542)),_0x2c43cc=_0x2c43cc['replace'](/(\d)(\\frac)/g,_0x535ee2(0x8bb)),_0x2c43cc=autoFormatMath(_0x2c43cc),_0x2c43cc;};return _0x3b5b28[_0x4eadf1(0x39a)]&&(_0x3b5b28['topic']=_0x2e1d4c(_0x3b5b28[_0x4eadf1(0x39a)])),_0x3b5b28['questions']['forEach'](_0x1609d8=>{const _0x27e42a=_0x4eadf1;_0x1609d8[_0x27e42a(0x2dc)]=_0x2e1d4c(_0x1609d8[_0x27e42a(0x2dc)]),_0x1609d8[_0x27e42a(0x8bf)]&&(_0x1609d8[_0x27e42a(0x8bf)]=_0x1609d8[_0x27e42a(0x8bf)][_0x27e42a(0x429)](_0x2e1d4c)),_0x1609d8[_0x27e42a(0xa0e)]&&(_0x1609d8['explanation']=_0x2e1d4c(_0x1609d8[_0x27e42a(0xa0e)])),_0x1609d8[_0x27e42a(0x332)]&&(_0x1609d8[_0x27e42a(0x332)]=_0x2e1d4c(_0x1609d8[_0x27e42a(0x332)])),_0x1609d8[_0x27e42a(0x2f5)]&&(_0x1609d8[_0x27e42a(0x2f5)]=_0x2e1d4c(_0x1609d8[_0x27e42a(0x2f5)])),_0x1609d8['allResponses']&&(_0x1609d8[_0x27e42a(0x323)]=_0x1609d8[_0x27e42a(0x323)][_0x27e42a(0x429)](_0x2e1d4c));}),_0x3b5b28;}const simpleMathPrompt=_0x1c8731(0x734);async function handleGenerateFromLink(){const _0x1aaec1=_0x1c8731,_0x3cc347=document['getElementById'](_0x1aaec1(0x8d6)),_0x326278=document[_0x1aaec1(0x2a0)](_0x1aaec1(0x350)),_0x6c2476=_0x3cc347['value'][_0x1aaec1(0x611)](),_0x385c1a=_0x326278[_0x1aaec1(0x556)][_0x1aaec1(0x611)]();if(!_0x6c2476){showMessage(_0x1aaec1(0x7a6));return;}const _0x527bbb=document[_0x1aaec1(0x2a0)]('loader'),_0x5c40c0=document[_0x1aaec1(0x2a0)](_0x1aaec1(0x844)),_0x35161b=document[_0x1aaec1(0x2a0)](_0x1aaec1(0x830)),_0x4a95e8=document[_0x1aaec1(0x2a0)]('generate-from-link-btn');document[_0x1aaec1(0x2a0)]('quiz-generation-area')[_0x1aaec1(0x914)][_0x1aaec1(0x278)]('hidden'),_0x35161b['innerHTML']='',_0x527bbb[_0x1aaec1(0x914)]['remove'](_0x1aaec1(0x674)),_0x5c40c0[_0x1aaec1(0x531)]=_0x1aaec1(0x411),_0x4a95e8[_0x1aaec1(0x13f)]=!![];try{const _0x4cc36a=_0x1aaec1(0x947)+encodeURIComponent(_0x6c2476),_0x276197=await fetch(_0x4cc36a);if(!_0x276197['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x276197[_0x1aaec1(0x912)]+')');const _0x20ad34=await _0x276197[_0x1aaec1(0x45d)](),_0x1b8ec9=extractTextFromHtml(_0x20ad34);if(!_0x1b8ec9||_0x1b8ec9['length']<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x385c1a,_0x1b8ec9);}catch(_0x587954){console['error'](_0x1aaec1(0x68e),_0x587954),showMessage(_0x1aaec1(0x71b)+_0x587954[_0x1aaec1(0x285)]),_0x35161b[_0x1aaec1(0x42b)]=_0x1aaec1(0x66b);}finally{_0x527bbb[_0x1aaec1(0x914)][_0x1aaec1(0x6bb)]('hidden'),_0x4a95e8[_0x1aaec1(0x13f)]=![];}}function extractTextFromHtml(_0x6e2e06){const _0x32fe8f=_0x1c8731,_0x215e15=new DOMParser()[_0x32fe8f(0x30d)](_0x6e2e06,_0x32fe8f(0x5c8));return _0x215e15['querySelectorAll'](_0x32fe8f(0x518))['forEach'](_0x3d3727=>_0x3d3727['remove']()),_0x215e15[_0x32fe8f(0x247)][_0x32fe8f(0x531)]||'';}document[_0x1c8731(0x2a0)]('generate-from-topic-btn')['addEventListener'](_0x1c8731(0x8a5),()=>{const _0x11731b=_0x1c8731,_0x1ee647=document['getElementById'](_0x11731b(0x4df))['value'][_0x11731b(0x611)]();generateQuiz(_0x1ee647,null);}),document[_0x1c8731(0x2a0)](_0x1c8731(0x7b7))[_0x1c8731(0x2aa)](_0x1c8731(0x8a5),()=>{const _0xd07398=_0x1c8731,_0x2557e0=document[_0xd07398(0x2a0)]('text-content-input')[_0xd07398(0x556)]['trim']();if(!_0x2557e0){showMessage(_0xd07398(0x1d8));return;}const _0x5cd4a3=document[_0xd07398(0x2a0)]('topic-input')[_0xd07398(0x556)]['trim']();generateQuiz(_0x5cd4a3,_0x2557e0);});async function generateQuiz(_0x5d4e50,_0x1379a7,_0x4430a1=null){const _0x1810fc=_0x1c8731,_0x4d7394=document['getElementById'](_0x1810fc(0x6ff))[_0x1810fc(0x5ff)],_0x209100=document[_0x1810fc(0x2a0)](_0x1810fc(0x4ab))[_0x1810fc(0x556)],_0x35fdac=document[_0x1810fc(0x2a0)](_0x1810fc(0x66c))[_0x1810fc(0x556)],_0x20497f=document['getElementById'](_0x1810fc(0x20c))[_0x1810fc(0x556)],_0x3e0941=document['getElementById'](_0x1810fc(0xbd))[_0x1810fc(0x5ff)],_0x67425c=_0x3e0941?'':_0x1810fc(0x2ee),_0x18f520=document['getElementById'](_0x1810fc(0x1e6)),_0x1ca48e=_0x18f520['value'];let _0x239270='';_0x1ca48e!==_0x1810fc(0x801)&&(_0x239270=_0x1810fc(0x8ff)+_0x1ca48e+'\x22');const _0x346a20=document[_0x1810fc(0x2a0)](_0x1810fc(0x94c)),_0x2015c6=_0x346a20[_0x1810fc(0x556)];let _0x171a2a='';_0x2015c6!==_0x1810fc(0xa23)&&(_0x171a2a=_0x1810fc(0x577)+_0x2015c6+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy');const _0x2c6040=document['querySelectorAll'](_0x1810fc(0x65a)),_0x576fd1=Array['from'](_0x2c6040)['map'](_0x21be1c=>_0x21be1c[_0x1810fc(0x556)]);let _0x384740='';_0x576fd1[_0x1810fc(0x51f)]>0x0&&(_0x384740='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x576fd1[_0x1810fc(0x795)](',\x20')+_0x1810fc(0x485));let _0x5d6f17='',_0x3c0355='',_0x517f0e,_0x305d86='เกี่ยวกับหัวข้อ\x20\x22'+_0x5d4e50+'\x22';if(!_0x5d4e50&&_0x1379a7)_0x305d86=_0x1810fc(0x8a9);else!_0x5d4e50&&!_0x1379a7&&(_0x305d86=_0x1810fc(0x573));const _0x18d642={'type':_0x1810fc(0x3e8),'properties':{'questionText':{'type':_0x1810fc(0x2ec)},'options':{'type':_0x1810fc(0x64d),'items':{'type':_0x1810fc(0x2ec)}},'correctAnswerIndex':{'type':_0x1810fc(0x4a6)},'explanation':{'type':_0x1810fc(0x2ec)},'imageCode':{'type':_0x1810fc(0x2ec)}},'required':['questionText','options',_0x1810fc(0x587),'explanation']},_0x53e45b={'type':_0x1810fc(0x3e8),'properties':{'questionText':{'type':_0x1810fc(0x2ec)},'idealAnswer':{'type':_0x1810fc(0x2ec)},'explanation':{'type':_0x1810fc(0x2ec)},'imageCode':{'type':_0x1810fc(0x2ec)}},'required':['questionText',_0x1810fc(0x954),'explanation']},_0x5e94a7={'type':_0x1810fc(0x3e8),'properties':{'questionText':{'type':_0x1810fc(0x2ec)},'questionType':{'type':_0x1810fc(0x2ec),'enum':[_0x1810fc(0x9f3),_0x1810fc(0x3e2)]},'options':{'type':_0x1810fc(0x64d),'items':{'type':_0x1810fc(0x2ec)}},'correctAnswerIndex':{'type':_0x1810fc(0x4a6)},'idealAnswer':{'type':_0x1810fc(0x2ec)},'explanation':{'type':_0x1810fc(0x2ec)},'imageCode':{'type':_0x1810fc(0x2ec)}},'required':[_0x1810fc(0x2dc),_0x1810fc(0x173),_0x1810fc(0xa0e)]},_0x2ba338={'type':_0x1810fc(0x3e8),'properties':{'questionText':{'type':_0x1810fc(0x2ec)},'correctAnswer':{'type':_0x1810fc(0x3cd)},'explanation':{'type':_0x1810fc(0x2ec)},'imageCode':{'type':'STRING'}},'required':[_0x1810fc(0x2dc),_0x1810fc(0x701),'explanation']},_0x54d9d2={'type':_0x1810fc(0x3e8),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':_0x1810fc(0x2ec)},'correctResponse':{'type':_0x1810fc(0x2ec)},'allResponses':{'type':_0x1810fc(0x64d),'items':{'type':_0x1810fc(0x2ec)}},'explanation':{'type':_0x1810fc(0x2ec)},'imageCode':{'type':_0x1810fc(0x2ec)}},'required':[_0x1810fc(0x173),_0x1810fc(0x332),'correctResponse',_0x1810fc(0x323),_0x1810fc(0xa0e)]};let _0x2b15aa;if(_0x4430a1!==null){const _0x1e4e86=currentQuizData['questions'][_0x4430a1][_0x1810fc(0x173)],_0x2da554=_0x4d7394?_0x1810fc(0x865):'';_0x5d6f17=_0x1810fc(0x35d)+_0x305d86+'\x20'+_0x384740+'\x20'+_0x239270+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x2da554+'\x20'+simpleMathPrompt;if(_0x1e4e86===_0x1810fc(0x9f3))_0x517f0e=_0x18d642;else{if(_0x1e4e86===_0x1810fc(0x8b2))_0x517f0e={'type':_0x1810fc(0x3e8),'properties':{'questionType':{'type':_0x1810fc(0x2ec),'enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':_0x1810fc(0x2ec)},'explanation':{'type':_0x1810fc(0x2ec)},'imageCode':{'type':_0x1810fc(0x2ec)}},'required':[_0x1810fc(0x173),_0x1810fc(0x332),_0x1810fc(0x2f5),_0x1810fc(0xa0e)]};else _0x517f0e=_0x53e45b;}_0x2b15aa=_0x517f0e;}else{const _0x1d08c6=_0x4d7394?_0x1810fc(0x3f3):'',_0x461b45=_0x1810fc(0x4e4);switch(_0x209100){case _0x1810fc(0x9f3):_0x5d6f17='สร้างแบบทดสอบปรนัย'+_0x67425c+'\x20'+_0x35fdac+_0x1810fc(0x558)+_0x305d86+'\x20'+_0x384740+'\x20'+_0x239270+'\x20'+_0x171a2a+_0x1810fc(0x234)+_0x20497f+_0x1810fc(0x526)+_0x1d08c6+'\x20'+simpleMathPrompt,_0x517f0e=_0x18d642;break;case'fill_in_with_choices':_0x5d6f17=_0x1810fc(0x5de)+_0x67425c+'\x20'+_0x35fdac+_0x1810fc(0x558)+_0x305d86+'\x20'+_0x384740+'\x20'+_0x239270+'\x20'+_0x171a2a+_0x1810fc(0xc5)+_0x20497f+_0x1810fc(0x296)+_0x1d08c6+'\x20'+simpleMathPrompt,_0x517f0e=_0x18d642;break;case _0x1810fc(0xf5):_0x5d6f17='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x67425c+'\x20'+_0x35fdac+_0x1810fc(0x558)+_0x305d86+'\x20'+_0x384740+'\x20'+_0x239270+'\x20'+_0x171a2a+_0x1810fc(0x5f4)+_0x1d08c6+'\x20'+simpleMathPrompt,_0x517f0e=_0x53e45b;break;case _0x1810fc(0xa23):_0x5d6f17='สร้างแบบทดสอบ'+_0x67425c+'\x20'+_0x35fdac+_0x1810fc(0x558)+_0x305d86+'\x20'+_0x384740+'\x20'+_0x239270+'\x20'+_0x171a2a+_0x1810fc(0x9b4)+_0x20497f+_0x1810fc(0x7a9)+_0x1d08c6+'\x20'+simpleMathPrompt+'.',_0x517f0e=_0x5e94a7;break;case _0x1810fc(0x19b):_0x5d6f17='สร้างคำถามแบบใช่/ไม่ใช่'+_0x67425c+'\x20'+_0x35fdac+_0x1810fc(0x558)+_0x305d86+'\x20'+_0x384740+'\x20'+_0x239270+'\x20'+_0x171a2a+_0x1810fc(0x7da)+_0x1d08c6+'\x20'+simpleMathPrompt,_0x517f0e=_0x2ba338;break;case'matching':_0x5d6f17=_0x1810fc(0x13a)+_0x67425c+'\x20'+_0x35fdac+_0x1810fc(0x67c)+_0x305d86+'\x20'+_0x384740+'\x20'+_0x239270+'\x20'+_0x171a2a+_0x1810fc(0x85d)+_0x1d08c6+'\x20'+simpleMathPrompt,_0x517f0e=_0x54d9d2;break;}_0x2b15aa={'type':'OBJECT','properties':{'topic':{'type':_0x1810fc(0x2ec)},'questions':{'type':_0x1810fc(0x64d),'items':_0x517f0e}},'required':[_0x1810fc(0x39a),_0x1810fc(0x619)]};}return _0x1379a7?(_0x5d6f17=_0x1810fc(0x8c5)+_0x1379a7+_0x1810fc(0x520)+_0x5d6f17,_0x3c0355=_0x1810fc(0x468)):_0x3c0355='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0x5d6f17,_0x3c0355,_0x2b15aa,_0x4430a1);}async function generateQuizFromFile(_0x39692d,_0x13c37f){const _0x254c95=_0x1c8731,_0xc9e7c5=document['getElementById'](_0x254c95(0x206))['value']['trim'](),_0x6b0060=document[_0x254c95(0x2a0)]('quiz-type-select')[_0x254c95(0x556)],_0x3c70d7=document[_0x254c95(0x2a0)](_0x254c95(0x66c))[_0x254c95(0x556)],_0x5bf813=document[_0x254c95(0x2a0)](_0x254c95(0x20c))[_0x254c95(0x556)],_0x16ef21=document[_0x254c95(0x2a0)](_0x254c95(0x6ff))[_0x254c95(0x5ff)],_0x22f893=document[_0x254c95(0x2a0)](_0x254c95(0xbd))[_0x254c95(0x5ff)],_0x300904=_0x22f893?'':_0x254c95(0x2ee),_0x5132d2=document[_0x254c95(0x2a0)](_0x254c95(0x7f6))[_0x254c95(0x5ff)];let _0x52c7e4='',_0x38a2cd;const _0x553d34=_0x16ef21?_0x254c95(0x3f3):'';if(_0x5132d2)_0x52c7e4=_0x254c95(0x1eb)+_0x553d34+_0x254c95(0x365)+simpleMathPrompt+'\x0a',_0x38a2cd={'type':_0x254c95(0x3e8),'properties':{'questionText':{'type':_0x254c95(0x2ec)},'questionType':{'type':_0x254c95(0x2ec),'enum':[_0x254c95(0x9f3),_0x254c95(0x3e2),_0x254c95(0x19b),_0x254c95(0x8b2)]},'options':{'type':'ARRAY','items':{'type':_0x254c95(0x2ec)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x254c95(0x2ec)},'correctAnswer':{'type':_0x254c95(0x3cd)},'stem':{'type':_0x254c95(0x2ec)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x254c95(0x64d),'items':{'type':_0x254c95(0x2ec)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionType',_0x254c95(0xa0e)]};else{let _0x3f3455=_0x254c95(0x30e)+_0xc9e7c5+'\x22';!_0xc9e7c5&&(_0x3f3455=_0x254c95(0x49e));switch(_0x6b0060){case _0x254c95(0x9f3):_0x52c7e4='สร้างแบบทดสอบปรนัย'+_0x300904+'\x20'+_0x3c70d7+_0x254c95(0x558)+_0x3f3455+_0x254c95(0x234)+_0x5bf813+_0x254c95(0x526)+_0x553d34+'\x20'+simpleMathPrompt,_0x38a2cd={'type':_0x254c95(0x3e8),'properties':{'questionText':{'type':_0x254c95(0x2ec)},'options':{'type':_0x254c95(0x64d),'items':{'type':_0x254c95(0x2ec)}},'correctAnswerIndex':{'type':_0x254c95(0x4a6)},'explanation':{'type':_0x254c95(0x2ec)},'imageCode':{'type':_0x254c95(0x2ec)}},'required':[_0x254c95(0x2dc),_0x254c95(0x8bf),'correctAnswerIndex','explanation']};break;case _0x254c95(0x1fc):_0x52c7e4='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x300904+'\x20'+_0x3c70d7+_0x254c95(0x558)+_0x3f3455+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x5bf813+_0x254c95(0x296)+_0x553d34+'\x20'+simpleMathPrompt,_0x38a2cd={'type':_0x254c95(0x3e8),'properties':{'questionText':{'type':_0x254c95(0x2ec)},'options':{'type':_0x254c95(0x64d),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x254c95(0x2ec)},'imageCode':{'type':_0x254c95(0x2ec)}},'required':[_0x254c95(0x2dc),_0x254c95(0x8bf),_0x254c95(0x587),_0x254c95(0xa0e)]};break;case'fill_in_no_choices':_0x52c7e4=_0x254c95(0x5de)+_0x300904+'\x20'+_0x3c70d7+_0x254c95(0x558)+_0x3f3455+_0x254c95(0x5f4)+_0x553d34+'\x20'+simpleMathPrompt,_0x38a2cd={'type':_0x254c95(0x3e8),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x254c95(0x2ec)},'imageCode':{'type':_0x254c95(0x2ec)}},'required':[_0x254c95(0x2dc),'idealAnswer',_0x254c95(0xa0e)]};break;case _0x254c95(0xa23):_0x52c7e4='สร้างแบบทดสอบ'+_0x300904+'\x20'+_0x3c70d7+_0x254c95(0x558)+_0x3f3455+_0x254c95(0x8de)+_0x5bf813+'\x20ตัวเลือก.\x20'+_0x553d34+'\x20'+simpleMathPrompt+_0x254c95(0x136),_0x38a2cd={'type':_0x254c95(0x3e8),'properties':{'questionText':{'type':_0x254c95(0x2ec)},'questionType':{'type':'STRING','enum':[_0x254c95(0x9f3),_0x254c95(0x3e2)]},'options':{'type':_0x254c95(0x64d),'items':{'type':_0x254c95(0x2ec)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x254c95(0x2ec)},'explanation':{'type':_0x254c95(0x2ec)},'imageCode':{'type':_0x254c95(0x2ec)}},'required':[_0x254c95(0x2dc),_0x254c95(0x173),'explanation']};break;case _0x254c95(0x19b):_0x52c7e4=_0x254c95(0x385)+_0x300904+'\x20'+_0x3c70d7+_0x254c95(0x558)+_0x3f3455+_0x254c95(0x87b)+_0x553d34+'\x20'+simpleMathPrompt,_0x38a2cd={'type':'OBJECT','properties':{'questionText':{'type':_0x254c95(0x2ec)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x254c95(0x2ec)},'imageCode':{'type':_0x254c95(0x2ec)}},'required':['questionText',_0x254c95(0x701),'explanation']};break;case _0x254c95(0x79a):_0x52c7e4=_0x254c95(0x13a)+_0x300904+'\x20'+_0x3c70d7+'\x20คู่\x20'+_0x3f3455+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x3c70d7+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x553d34+'\x20'+simpleMathPrompt,_0x38a2cd={'type':_0x254c95(0x3e8),'properties':{'questionType':{'type':_0x254c95(0x2ec),'enum':[_0x254c95(0x8b2)]},'stem':{'type':_0x254c95(0x2ec)},'correctResponse':{'type':_0x254c95(0x2ec)},'allResponses':{'type':_0x254c95(0x64d),'items':{'type':_0x254c95(0x2ec)}},'explanation':{'type':_0x254c95(0x2ec)},'imageCode':{'type':_0x254c95(0x2ec)}},'required':[_0x254c95(0x173),_0x254c95(0x332),_0x254c95(0x2f5),_0x254c95(0x323),'explanation']};break;}}const _0x17524d={'type':_0x254c95(0x3e8),'properties':{'topic':{'type':_0x254c95(0x2ec)},'questions':{'type':_0x254c95(0x64d),'items':_0x38a2cd}},'required':[_0x254c95(0x39a),_0x254c95(0x619)]},_0x531751='จากไฟล์ที่แนบมานี้,\x20'+_0x52c7e4,_0x47aa7f={'contents':[{'parts':[{'text':_0x531751},{'inlineData':{'mimeType':_0x39692d,'data':_0x13c37f}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x17524d}};return handleApiCall(_0x47aa7f['contents'][0x0][_0x254c95(0x4e5)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x17524d);}async function handleApiCall(_0x320dc4,_0x35ebb8,_0x1013af,_0x3f7a94=null){const _0x1ba956=_0x1c8731,_0x46f902=document[_0x1ba956(0x2a0)](_0x1ba956(0x183)),_0xa50b10=document[_0x1ba956(0x2a0)](_0x1ba956(0x86d)),_0x2529c1=document[_0x1ba956(0x2a0)](_0x1ba956(0x844)),_0x1558bb=document['getElementById'](_0x1ba956(0x830));_0x46f902['classList']['remove']('hidden');_0x3f7a94===null&&(_0x1558bb[_0x1ba956(0x42b)]='');_0xa50b10[_0x1ba956(0x914)][_0x1ba956(0x278)](_0x1ba956(0x674)),_0x2529c1[_0x1ba956(0x531)]=_0x35ebb8,document[_0x1ba956(0x2a0)](_0x1ba956(0x652))['disabled']=!![],document[_0x1ba956(0x2a0)](_0x1ba956(0x7b7))[_0x1ba956(0x13f)]=!![],document[_0x1ba956(0x2a0)](_0x1ba956(0x7e3))[_0x1ba956(0x13f)]=!![];try{const _0x429729={'responseMimeType':_0x1ba956(0x154),'responseSchema':_0x1013af},_0x4b4f00=Array[_0x1ba956(0x12f)](_0x320dc4)?_0x320dc4:[{'text':_0x320dc4}],_0x2a600a={'contents':[{'role':_0x1ba956(0x8bc),'parts':_0x4b4f00}],'generationConfig':_0x429729},_0x21941e='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x2c0d80=_0x1ba956(0xd3)+_0x21941e,_0x345e4d=await fetch(_0x2c0d80,{'method':_0x1ba956(0x108),'headers':{'Content-Type':_0x1ba956(0x154)},'body':JSON[_0x1ba956(0x91e)](_0x2a600a)});if(!_0x345e4d['ok'])throw new Error(_0x1ba956(0xe9)+_0x345e4d[_0x1ba956(0x912)]);const _0x5090cf=await _0x345e4d[_0x1ba956(0x2e6)]();if(_0x5090cf[_0x1ba956(0x46f)]?.[0x0]?.['content']?.[_0x1ba956(0x4e5)]?.[0x0]){let _0x17bccd=_0x5090cf[_0x1ba956(0x46f)][0x0]['content'][_0x1ba956(0x4e5)][0x0][_0x1ba956(0x45d)],_0x48eef7;try{if(_0x17bccd[_0x1ba956(0x770)](_0x1ba956(0x76d)))_0x17bccd=_0x17bccd['substring'](0x7,_0x17bccd['length']-0x3)[_0x1ba956(0x611)]();else _0x17bccd[_0x1ba956(0x770)](_0x1ba956(0x77c))&&(_0x17bccd=_0x17bccd[_0x1ba956(0x3e1)](0x3,_0x17bccd[_0x1ba956(0x51f)]-0x3)['trim']());_0x48eef7=JSON[_0x1ba956(0x4ec)](_0x17bccd);}catch(_0x52882c){console[_0x1ba956(0xa1a)]('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0x52882c,_0x17bccd);throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}if(_0x3f7a94!==null){if(_0x48eef7[_0x1ba956(0x173)]===_0x1ba956(0x8b2)){const _0xfdb1a4=currentQuizData[_0x1ba956(0x619)][_0x1ba956(0x429)](_0x137e79=>_0x137e79[_0x1ba956(0x2f5)]);_0x48eef7[_0x1ba956(0x323)]=_0xfdb1a4;const _0x45572c=currentQuizData['questions'][_0x3f7a94][_0x1ba956(0x2f5)],_0x516ca5=_0xfdb1a4[_0x1ba956(0x776)](_0x45572c);_0x516ca5>-0x1&&(_0xfdb1a4[_0x516ca5]=_0x48eef7[_0x1ba956(0x2f5)]),currentQuizData[_0x1ba956(0x619)][_0x1ba956(0x28e)](_0x35b1ac=>{const _0x2730d0=_0x1ba956;if(_0x35b1ac[_0x2730d0(0x173)]==='matching_item')_0x35b1ac[_0x2730d0(0x323)]=_0xfdb1a4;});}currentQuizData[_0x1ba956(0x619)][_0x3f7a94]=_0x48eef7,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x48eef7;const _0x5add2e=document[_0x1ba956(0x2a0)]('quiz-type-select')[_0x1ba956(0x556)];currentQuizData[_0x1ba956(0x13d)]=_0x5add2e,currentQuizData[_0x1ba956(0x619)]&&currentQuizData[_0x1ba956(0x619)][_0x1ba956(0x28e)](_0x573c32=>{const _0x12c20f=_0x1ba956;if(!_0x573c32['questionType']){if(_0x5add2e==='fill_in_with_choices')_0x573c32[_0x12c20f(0x173)]='multiple_choice';else _0x5add2e===_0x12c20f(0xf5)?_0x573c32[_0x12c20f(0x173)]='short_answer':_0x573c32['questionType']=_0x5add2e;}}),displayGeneratedQuiz(currentQuizData);}}else{console['error'](_0x1ba956(0x1c6),JSON['stringify'](_0x5090cf));throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}}catch(_0x368e2d){console[_0x1ba956(0xa1a)]('Error\x20generating\x20quiz:',_0x368e2d),showMessage(_0x1ba956(0x483)),_0x3f7a94===null&&(_0x1558bb[_0x1ba956(0x42b)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>');}finally{_0xa50b10['classList'][_0x1ba956(0x6bb)](_0x1ba956(0x674)),document[_0x1ba956(0x2a0)]('generate-from-topic-btn')[_0x1ba956(0x13f)]=![],document[_0x1ba956(0x2a0)]('generate-from-text-btn')['disabled']=![],document[_0x1ba956(0x2a0)](_0x1ba956(0x7e3))[_0x1ba956(0x13f)]=![];const _0x25e3b6=document[_0x1ba956(0x2a0)](_0x1ba956(0x8a0));_0x25e3b6&&(_0x25e3b6[_0x1ba956(0x13f)]=![]);}}function exitFullscreen(){const _0x68703=_0x1c8731;if(document[_0x68703(0x819)])document[_0x68703(0x819)]()[_0x68703(0x121)](_0x38f0a6=>console[_0x68703(0xa1a)](_0x38f0a6));else{if(document['webkitExitFullscreen'])document[_0x68703(0x1ec)]();else document[_0x68703(0x77a)]&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x4ef790=_0x1c8731,_0x4f9ef9=document[_0x4ef790(0x7c9)];if(_0x4f9ef9[_0x4ef790(0xa0b)])_0x4f9ef9[_0x4ef790(0xa0b)]()[_0x4ef790(0x121)](_0x3ca7be=>{const _0x245b68=_0x4ef790;console[_0x245b68(0xa1a)](_0x245b68(0x5da)+_0x3ca7be[_0x245b68(0x285)]+'\x20('+_0x3ca7be[_0x245b68(0x3d6)]+')');});else{if(_0x4f9ef9[_0x4ef790(0x934)])_0x4f9ef9[_0x4ef790(0x934)]();else _0x4f9ef9['msRequestFullscreen']&&_0x4f9ef9[_0x4ef790(0x475)]();}}function handleCheatingEvent(){const _0x270d3a=_0x1c8731;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x270d3a(0x890),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x270d3a(0x946)),document[_0x270d3a(0x2a0)](_0x270d3a(0x937))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener']('visibilitychange',handleVisibilityChange),document[_0x270d3a(0x997)](_0x270d3a(0x983),handleFullscreenChange)):showMessage(_0x270d3a(0x5bf)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x474fb6=_0x1c8731;if(currentMode===_0x474fb6(0x436)||!isQuizActive)return;if(document['visibilityState']===_0x474fb6(0x674))handleCheatingEvent();else document[_0x474fb6(0xa26)]===_0x474fb6(0xed)&&(console['log'](_0x474fb6(0x305)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x5105a0=_0x1c8731;if(currentMode===_0x5105a0(0x436)||!isQuizActive)return;!document[_0x5105a0(0x9be)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x5b909c){const _0x5effdc=_0x1c8731,_0x193b48=document['getElementById'](_0x5effdc(0x830));let _0x56d5ca='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x5b909c[_0x5effdc(0x39a)]+'</h3>';_0x5b909c['questions'][_0x5effdc(0x28e)]((_0x55f53c,_0x28ecea)=>{const _0x4f1b46=_0x5effdc;!_0x55f53c['id']&&(_0x55f53c['id']='q_'+Date['now']()+'_'+_0x28ecea);const _0x1024b0=_0x55f53c[_0x4f1b46(0x173)]||_0x5b909c[_0x4f1b46(0x13d)];_0x56d5ca+=_0x4f1b46(0x7d1)+_0x28ecea+_0x4f1b46(0x581)+_0x28ecea+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x28ecea+_0x4f1b46(0x106);switch(_0x1024b0){case _0x4f1b46(0x8b2):_0x56d5ca+=_0x4f1b46(0xac)+_0x28ecea+'\x22>'+(_0x28ecea+0x1)+'.\x20'+_0x55f53c['stem']+_0x4f1b46(0x28f);_0x55f53c['imageCode']&&(_0x56d5ca+=_0x4f1b46(0x3ec)+_0x28ecea+_0x4f1b46(0x215)+_0x55f53c[_0x4f1b46(0x25f)]+_0x4f1b46(0x18a));_0x56d5ca+=_0x4f1b46(0x678)+_0x28ecea+'\x22>'+_0x55f53c[_0x4f1b46(0x2f5)]+_0x4f1b46(0x348),_0x56d5ca+=_0x4f1b46(0x6ba)+_0x28ecea+'\x22>'+_0x55f53c['explanation']+_0x4f1b46(0x348);break;case _0x4f1b46(0x3e2):_0x56d5ca+=_0x4f1b46(0xac)+_0x28ecea+'\x22>'+(_0x28ecea+0x1)+'.\x20'+_0x55f53c[_0x4f1b46(0x2dc)]+_0x4f1b46(0x28f);_0x55f53c[_0x4f1b46(0x25f)]&&(_0x56d5ca+='<div\x20id=\x22q-image-container-'+_0x28ecea+_0x4f1b46(0x215)+_0x55f53c[_0x4f1b46(0x25f)]+'</div>');_0x56d5ca+=_0x4f1b46(0x5e7)+_0x28ecea+'\x22>'+_0x55f53c[_0x4f1b46(0x954)]+_0x4f1b46(0x348),_0x56d5ca+=_0x4f1b46(0x6ba)+_0x28ecea+'\x22>'+_0x55f53c[_0x4f1b46(0xa0e)]+'</span></div>';break;case _0x4f1b46(0x19b):_0x56d5ca+=_0x4f1b46(0xac)+_0x28ecea+'\x22>'+(_0x28ecea+0x1)+'.\x20'+_0x55f53c[_0x4f1b46(0x2dc)]+'</p>';_0x55f53c[_0x4f1b46(0x25f)]&&(_0x56d5ca+=_0x4f1b46(0x3ec)+_0x28ecea+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x55f53c[_0x4f1b46(0x25f)]+_0x4f1b46(0x18a));_0x56d5ca+=_0x4f1b46(0x334)+(_0x55f53c[_0x4f1b46(0x701)]===!![]?_0x4f1b46(0x5a3):'')+_0x4f1b46(0x2e4)+(_0x55f53c[_0x4f1b46(0x701)]===![]?_0x4f1b46(0x5a3):'')+_0x4f1b46(0x15e),_0x56d5ca+=_0x4f1b46(0x6ba)+_0x28ecea+'\x22>'+_0x55f53c[_0x4f1b46(0xa0e)]+_0x4f1b46(0x348);break;case _0x4f1b46(0x71f):case'multiple_choice':default:_0x56d5ca+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x28ecea+'\x22>'+(_0x28ecea+0x1)+'.\x20'+_0x55f53c[_0x4f1b46(0x2dc)]+_0x4f1b46(0x28f);_0x55f53c[_0x4f1b46(0x25f)]&&(_0x56d5ca+=_0x4f1b46(0x3ec)+_0x28ecea+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x55f53c[_0x4f1b46(0x25f)]+_0x4f1b46(0x18a));_0x56d5ca+=_0x4f1b46(0x25e)+_0x28ecea+_0x4f1b46(0x117)+_0x55f53c[_0x4f1b46(0x8bf)]['map']((_0xdca3a1,_0x297053)=>_0x4f1b46(0x9d4)+(_0x297053===_0x55f53c[_0x4f1b46(0x587)]?'text-green-600\x20font-bold':'')+'\x22>'+_0xdca3a1+'</li>')[_0x4f1b46(0x795)]('')+_0x4f1b46(0x307),_0x56d5ca+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x28ecea+'\x22>'+_0x55f53c['explanation']+_0x4f1b46(0x348);break;}_0x56d5ca+='</div>';}),_0x56d5ca+=_0x5effdc(0x883),_0x193b48[_0x5effdc(0x42b)]=_0x56d5ca,document[_0x5effdc(0x1a9)](_0x5effdc(0x480))[_0x5effdc(0x28e)](_0x52f8d3=>_0x52f8d3[_0x5effdc(0x2aa)](_0x5effdc(0x8a5),handleEditQuestion)),document['querySelectorAll'](_0x5effdc(0xa24))[_0x5effdc(0x28e)](_0x193578=>_0x193578[_0x5effdc(0x2aa)](_0x5effdc(0x8a5),handleRegenerateQuestion)),document['getElementById'](_0x5effdc(0x9f0))['addEventListener'](_0x5effdc(0x8a5),exportQuizAsWorksheetPDF),document[_0x5effdc(0x2a0)](_0x5effdc(0x217))[_0x5effdc(0x2aa)](_0x5effdc(0x8a5),saveQuiz),document[_0x5effdc(0x2a0)]('verify-answers-btn')[_0x5effdc(0x2aa)](_0x5effdc(0x8a5),handleVerifyAnswers);if(window[_0x5effdc(0x651)])window['MathJax'][_0x5effdc(0x626)]([_0x193b48]);}function handleRegenerateQuestion(_0x30eef2){const _0x15a915=_0x1c8731,_0x1f8df8=_0x30eef2[_0x15a915(0x588)][_0x15a915(0x2f8)][_0x15a915(0x7f3)],_0x5b45d4=currentQuizData[_0x15a915(0x39a)];showMessage(_0x15a915(0xab)+(parseInt(_0x1f8df8)+0x1)+_0x15a915(0x81f)),generateQuiz(_0x5b45d4,null,parseInt(_0x1f8df8));}function getPointerPosition(_0x16cf37,_0x5ed4be){const _0x7e7368=_0x1c8731,_0x357fe7=_0x16cf37[_0x7e7368(0x3a6)]();let _0x396452,_0x51bff3;return _0x5ed4be[_0x7e7368(0x9fb)]&&_0x5ed4be[_0x7e7368(0x9fb)][_0x7e7368(0x51f)]>0x0?(_0x396452=_0x5ed4be[_0x7e7368(0x9fb)][0x0][_0x7e7368(0x5b3)],_0x51bff3=_0x5ed4be[_0x7e7368(0x9fb)][0x0][_0x7e7368(0x718)]):(_0x396452=_0x5ed4be[_0x7e7368(0x5b3)],_0x51bff3=_0x5ed4be[_0x7e7368(0x718)]),{'x':(_0x396452-_0x357fe7['e'])/_0x357fe7['a'],'y':(_0x51bff3-_0x357fe7['f'])/_0x357fe7['d']};}function startDrag(_0x167056){const _0x170f5d=_0x1c8731;_0x167056[_0x170f5d(0x6df)]===_0x170f5d(0x50c)&&_0x167056[_0x170f5d(0x73a)]();const _0x44e509=_0x167056[_0x170f5d(0x646)][_0x170f5d(0x76a)](_0x170f5d(0x56e));if(_0x44e509){draggedSvgElement=_0x44e509;const _0x404777=draggedSvgElement[_0x170f5d(0xbe)],_0x372100=getPointerPosition(_0x404777,_0x167056);svgOffset['x']=_0x372100['x']-parseFloat(draggedSvgElement[_0x170f5d(0x904)](null,'x')),svgOffset['y']=_0x372100['y']-parseFloat(draggedSvgElement[_0x170f5d(0x904)](null,'y'));}}function calculateItemAnalysis(_0x480ef2,_0x2b1198){const _0x344285=_0x1c8731,_0x49976f={};if(_0x2b1198[_0x344285(0x51f)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x178d2a=[..._0x2b1198]['sort']((_0x4fc651,_0x5734f9)=>{const _0x1f4c4d=_0x344285,_0x38ad05=_0x5734f9['latestScore']-_0x4fc651['latestScore'];if(_0x38ad05!==0x0)return _0x38ad05;const _0x390f25=_0x4fc651[_0x1f4c4d(0x245)]?.[_0x1f4c4d(0x51f)]||0x1,_0x6de56=_0x5734f9[_0x1f4c4d(0x245)]?.[_0x1f4c4d(0x51f)]||0x1,_0xe40979=_0x390f25-_0x6de56;if(_0xe40979!==0x0)return _0xe40979;const _0x4f8185=new Date(_0x4fc651[_0x1f4c4d(0x437)]),_0x4eb4a8=new Date(_0x5734f9[_0x1f4c4d(0x437)]),_0x43341d=_0x4f8185-_0x4eb4a8;if(_0x43341d!==0x0)return _0x43341d;return _0x4fc651[_0x1f4c4d(0x5b8)][_0x1f4c4d(0x692)](_0x5734f9[_0x1f4c4d(0x5b8)],'th');}),_0x3cd85f=_0x178d2a[_0x344285(0x51f)],_0x2f9aff=Math[_0x344285(0x7e7)](0x1,Math['floor'](_0x3cd85f*0.33));if(_0x2f9aff===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x46ed24=_0x178d2a['slice'](0x0,_0x2f9aff),_0x5508c3=_0x178d2a[_0x344285(0x469)](-_0x2f9aff),_0x137d89=_0x46ed24[_0x344285(0x429)](_0x1c9e3e=>_0x1c9e3e[_0x344285(0x5b8)]),_0x3b18f9=_0x5508c3[_0x344285(0x429)](_0x4e8eec=>_0x4e8eec[_0x344285(0x5b8)]);return _0x480ef2[_0x344285(0x619)][_0x344285(0x28e)]((_0x32b4c6,_0x15e67c)=>{const _0x477716=_0x344285,_0x231537=_0x32b4c6['stem']||_0x32b4c6[_0x477716(0x2dc)];let _0x24bcfe=0x0,_0x3d3f1d=0x0,_0x488c1e=0x0;const _0x3c3565=[],_0x9ffda9=[];_0x46ed24[_0x477716(0x28e)](_0x2561a0=>{const _0xbccfa3=_0x477716,_0x278d5f=_0x2561a0[_0xbccfa3(0x245)][_0x2561a0[_0xbccfa3(0x245)][_0xbccfa3(0x51f)]-0x1],_0x3df5b8=_0x278d5f[_0xbccfa3(0x2ab)][_0xbccfa3(0x216)](_0x286a2d=>_0x286a2d[_0xbccfa3(0x1ce)]===_0x231537);_0x3c3565[_0xbccfa3(0x74b)]({'name':_0x2561a0[_0xbccfa3(0x5b8)],'isCorrect':_0x3df5b8?_0x3df5b8[_0xbccfa3(0x69b)]:![]}),_0x3df5b8&&_0x3df5b8[_0xbccfa3(0x69b)]&&_0x3d3f1d++;}),_0x5508c3[_0x477716(0x28e)](_0x1254dd=>{const _0x14db6c=_0x477716,_0x16f2da=_0x1254dd['attempts'][_0x1254dd[_0x14db6c(0x245)][_0x14db6c(0x51f)]-0x1],_0x13b0b4=_0x16f2da[_0x14db6c(0x2ab)][_0x14db6c(0x216)](_0x566cb0=>_0x566cb0[_0x14db6c(0x1ce)]===_0x231537);_0x9ffda9['push']({'name':_0x1254dd['studentName'],'isCorrect':_0x13b0b4?_0x13b0b4[_0x14db6c(0x69b)]:![]}),_0x13b0b4&&_0x13b0b4[_0x14db6c(0x69b)]&&_0x488c1e++;}),_0x2b1198[_0x477716(0x28e)](_0x1b2e40=>{const _0x3c01e4=_0x477716,_0x413685=_0x1b2e40[_0x3c01e4(0x245)][_0x1b2e40[_0x3c01e4(0x245)][_0x3c01e4(0x51f)]-0x1],_0x4c3f51=_0x413685[_0x3c01e4(0x2ab)][_0x3c01e4(0x216)](_0x2e8d73=>_0x2e8d73[_0x3c01e4(0x1ce)]===_0x231537);_0x4c3f51&&_0x4c3f51[_0x3c01e4(0x69b)]&&_0x24bcfe++;});const _0x494a90=_0x3cd85f>0x0?_0x24bcfe/_0x3cd85f:0x0,_0x1a5c4b=_0x2f9aff>0x0?_0x3d3f1d/_0x2f9aff-_0x488c1e/_0x2f9aff:0x0;_0x49976f[_0x15e67c]={'p':_0x494a90,'r':_0x1a5c4b,'upperGroupResponders':_0x3c3565,'lowerGroupResponders':_0x9ffda9};}),{'perQuestionStats':_0x49976f,'overallGroups':{'upperGroupNames':_0x137d89,'lowerGroupNames':_0x3b18f9}};}function drag(_0x30ffe1){const _0x38b443=_0x1c8731;if(draggedSvgElement){_0x30ffe1[_0x38b443(0x73a)]();const _0x227c43=draggedSvgElement[_0x38b443(0xbe)],_0x5de4ee=getPointerPosition(_0x227c43,_0x30ffe1),_0xad8d6=_0x227c43[_0x38b443(0x317)][_0x38b443(0x2f0)];let _0x1e7539=_0x5de4ee['x']-svgOffset['x'],_0x42b072=_0x5de4ee['y']-svgOffset['y'];const _0x2de0d0=draggedSvgElement[_0x38b443(0x9ba)]();_0x1e7539=Math[_0x38b443(0x7e7)](_0xad8d6['x'],Math[_0x38b443(0x188)](_0x1e7539,_0xad8d6['x']+_0xad8d6[_0x38b443(0x66d)]-_0x2de0d0[_0x38b443(0x66d)])),_0x42b072=Math[_0x38b443(0x7e7)](_0xad8d6['y'],Math[_0x38b443(0x188)](_0x42b072,_0xad8d6['y']+_0xad8d6[_0x38b443(0x6f9)]-_0x2de0d0[_0x38b443(0x6f9)])),draggedSvgElement['setAttributeNS'](null,'x',_0x1e7539),draggedSvgElement[_0x38b443(0x758)](null,'y',_0x42b072);}}function endDrag(_0x36eec4){draggedSvgElement=null;}function handleSvgEditClick(_0x3f4111){const _0x58a876=_0x1c8731;if(_0x3f4111[_0x58a876(0x646)][_0x58a876(0x914)]['contains']('delete-svg-btn')){const _0x3b89fc=_0x3f4111[_0x58a876(0x646)][_0x58a876(0x2f8)][_0x58a876(0x315)],_0x46947e=_0x3f4111[_0x58a876(0x588)],_0x234a8c=_0x46947e['querySelector']('#'+_0x3b89fc);_0x234a8c&&_0x234a8c[_0x58a876(0x278)](),_0x3f4111[_0x58a876(0x646)]['remove']();}}function handleEditQuestion(_0x3899e3){const _0x55818d=_0x1c8731,_0x24f03a=_0x3899e3['currentTarget'],_0x19e0c8=_0x24f03a[_0x55818d(0x2f8)][_0x55818d(0x7f3)],_0x4c1be3=currentQuizData['questions'][_0x19e0c8],_0x481df0=document[_0x55818d(0x2a0)](_0x55818d(0x5df)+_0x19e0c8),_0x15c9ad=document['getElementById']('q-explanation-'+_0x19e0c8),_0x4d415a=document[_0x55818d(0x2a0)](_0x55818d(0x81e)+_0x19e0c8);if(_0x24f03a[_0x55818d(0x42b)][_0x55818d(0x4c6)]('fa-pen')){_0x24f03a[_0x55818d(0x42b)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x24f03a[_0x55818d(0x538)]=_0x55818d(0x583);if(_0x481df0)_0x481df0[_0x55818d(0x36a)]=!![];if(_0x15c9ad)_0x15c9ad[_0x55818d(0x36a)]=!![];if(_0x4d415a){const _0x5cfbba=_0x4d415a['querySelector'](_0x55818d(0x5e4));if(_0x5cfbba){const _0x2cdce2=_0x5cfbba[_0x55818d(0x1a9)]('text');_0x2cdce2[_0x55818d(0x28e)]((_0x3fba52,_0x58bf8a)=>{const _0x4b3b91=_0x55818d,_0xb10949=_0x4b3b91(0x7f5)+_0x19e0c8+'-'+_0x58bf8a;_0x3fba52['id']=_0xb10949,_0x3fba52[_0x4b3b91(0x914)][_0x4b3b91(0x6bb)]('draggable-text'),_0x3fba52[_0x4b3b91(0x58f)][_0x4b3b91(0x264)]=_0x4b3b91(0x6da);const _0x1e2b4f=document[_0x4b3b91(0x3d2)](_0x4b3b91(0x1ac),'circle'),_0x1bc61b=_0x3fba52[_0x4b3b91(0x9ba)]();_0x1e2b4f['setAttribute']('cx',String(_0x1bc61b['x']+_0x1bc61b[_0x4b3b91(0x66d)]+0x5)),_0x1e2b4f[_0x4b3b91(0x885)]('cy',String(_0x1bc61b['y']+_0x1bc61b[_0x4b3b91(0x6f9)]/0x2-0x5)),_0x1e2b4f['setAttribute']('r','5'),_0x1e2b4f[_0x4b3b91(0x885)](_0x4b3b91(0x32f),_0x4b3b91(0x414)),_0x1e2b4f[_0x4b3b91(0x885)]('class',_0x4b3b91(0x926)),_0x1e2b4f[_0x4b3b91(0x2f8)]['targetId']=_0xb10949,_0x3fba52[_0x4b3b91(0xe3)](_0x1e2b4f);}),_0x5cfbba[_0x55818d(0x2aa)](_0x55818d(0x3d9),startDrag),_0x5cfbba[_0x55818d(0x2aa)](_0x55818d(0x266),drag),_0x5cfbba[_0x55818d(0x2aa)](_0x55818d(0x41a),endDrag),_0x5cfbba[_0x55818d(0x2aa)]('mouseleave',endDrag),_0x5cfbba[_0x55818d(0x2aa)](_0x55818d(0x50c),startDrag,{'passive':![]}),_0x5cfbba[_0x55818d(0x2aa)](_0x55818d(0x549),drag,{'passive':![]}),_0x5cfbba[_0x55818d(0x2aa)](_0x55818d(0x135),endDrag),_0x5cfbba[_0x55818d(0x2aa)](_0x55818d(0x26e),endDrag),_0x5cfbba['addEventListener']('click',handleSvgEditClick);}}if(_0x481df0)_0x481df0['focus']();}else{_0x24f03a[_0x55818d(0x42b)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x24f03a[_0x55818d(0x538)]='แก้ไขข้อนี้';if(_0x481df0){_0x481df0['contentEditable']=![];const _0x4b13ee=_0x4c1be3[_0x55818d(0x173)]||currentQuizData['quizType'];_0x4b13ee===_0x55818d(0x8b2)?_0x4c1be3[_0x55818d(0x332)]=_0x481df0[_0x55818d(0x54b)][_0x55818d(0x3e1)](_0x481df0[_0x55818d(0x54b)][_0x55818d(0x776)]('.')+0x2)[_0x55818d(0x611)]():_0x4c1be3[_0x55818d(0x2dc)]=_0x481df0[_0x55818d(0x54b)][_0x55818d(0x3e1)](_0x481df0[_0x55818d(0x54b)][_0x55818d(0x776)]('.')+0x2)[_0x55818d(0x611)]();}_0x15c9ad&&(_0x15c9ad[_0x55818d(0x36a)]=![],_0x4c1be3[_0x55818d(0xa0e)]=_0x15c9ad[_0x55818d(0x54b)]);if(_0x4d415a){const _0x3b9b55=_0x4d415a['querySelector'](_0x55818d(0x5e4));if(_0x3b9b55){const _0x7d4fac=_0x3b9b55[_0x55818d(0x730)](!![]);_0x7d4fac[_0x55818d(0x1a9)](_0x55818d(0x118))['forEach'](_0x5e6dd5=>_0x5e6dd5['remove']()),_0x7d4fac['querySelectorAll'](_0x55818d(0x56e))[_0x55818d(0x28e)](_0x2ed833=>{const _0x41bede=_0x55818d;_0x2ed833[_0x41bede(0x914)][_0x41bede(0x278)](_0x41bede(0x20e)),_0x2ed833[_0x41bede(0x58f)]['cursor']=_0x41bede(0x82d),_0x2ed833['removeAttribute']('id');}),_0x4c1be3['imageCode']=_0x7d4fac[_0x55818d(0x9e2)],_0x3b9b55[_0x55818d(0x997)](_0x55818d(0x3d9),startDrag),_0x3b9b55['removeEventListener']('mousemove',drag),_0x3b9b55[_0x55818d(0x997)](_0x55818d(0x41a),endDrag),_0x3b9b55['removeEventListener'](_0x55818d(0x8eb),endDrag),_0x3b9b55[_0x55818d(0x997)](_0x55818d(0x50c),startDrag),_0x3b9b55['removeEventListener'](_0x55818d(0x549),drag),_0x3b9b55[_0x55818d(0x997)](_0x55818d(0x135),endDrag),_0x3b9b55[_0x55818d(0x997)](_0x55818d(0x26e),endDrag),_0x3b9b55['removeEventListener'](_0x55818d(0x8a5),handleSvgEditClick),_0x3b9b55[_0x55818d(0x1a9)](_0x55818d(0x118))[_0x55818d(0x28e)](_0x5e33d8=>_0x5e33d8[_0x55818d(0x278)]()),_0x3b9b55['querySelectorAll']('.draggable-text')['forEach'](_0x4c54c2=>{const _0xb4e0e4=_0x55818d;_0x4c54c2[_0xb4e0e4(0x914)]['remove'](_0xb4e0e4(0x20e)),_0x4c54c2[_0xb4e0e4(0x58f)][_0xb4e0e4(0x264)]=_0xb4e0e4(0x82d);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x39047f){const _0x45fdf2=_0x1c8731,_0x27c481=document[_0x45fdf2(0x2a0)](_0x45fdf2(0x28d)),_0x38f697=document[_0x45fdf2(0x2a0)](_0x45fdf2(0x80c));_0x38f697[_0x45fdf2(0x42b)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x27c481[_0x45fdf2(0x914)][_0x45fdf2(0x278)](_0x45fdf2(0x674));try{const _0x31a08a=doc(db,'artifacts/'+appId+_0x45fdf2(0x60f),_0x39047f),_0x37272a=await getDoc(_0x31a08a);if(!_0x37272a[_0x45fdf2(0x512)]())throw new Error(_0x45fdf2(0x246));currentEditingQuizData={'id':_0x39047f,..._0x37272a[_0x45fdf2(0x4ff)]()},renderQuizEditor(currentEditingQuizData);}catch(_0xa0abdf){console['error']('Error\x20opening\x20quiz\x20editor:',_0xa0abdf),showMessage(_0x45fdf2(0x9bc)),_0x27c481[_0x45fdf2(0x914)]['add'](_0x45fdf2(0x674));}}function renderQuizEditor(_0x29dd9c){const _0x163863=_0x1c8731;document[_0x163863(0x2a0)](_0x163863(0x4ad))[_0x163863(0x556)]=_0x29dd9c[_0x163863(0x39a)];const _0x5e5c5a=document[_0x163863(0x2a0)](_0x163863(0x80c));let _0x682273=_0x29dd9c['questions'][_0x163863(0x429)]((_0xb4c4a4,_0x1d496d)=>{const _0x1562f3=_0x163863;let _0x9f22b3='';const _0x19288c=_0xb4c4a4[_0x1562f3(0x173)]||_0x29dd9c['quizType'];switch(_0x19288c){case _0x1562f3(0x9f3):const _0x582ee1=(_0xb4c4a4[_0x1562f3(0x8bf)]||[])[_0x1562f3(0x429)]((_0x5726c6,_0x58203d)=>_0x1562f3(0x319)+_0x1d496d+_0x1562f3(0x42a)+_0x58203d+'\x22\x20'+(_0x58203d===_0xb4c4a4[_0x1562f3(0x587)]?_0x1562f3(0x5ff):'')+_0x1562f3(0x6b6)+_0x5726c6+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');_0x9f22b3=_0x1562f3(0x543)+_0x582ee1+_0x1562f3(0x644);break;case'short_answer':_0x9f22b3=_0x1562f3(0x1fd)+(_0xb4c4a4[_0x1562f3(0x954)]||'')+_0x1562f3(0x6ec);break;case _0x1562f3(0x19b):_0x9f22b3=_0x1562f3(0x4f3)+_0x1d496d+_0x1562f3(0x690)+(_0xb4c4a4[_0x1562f3(0x701)]===!![]?_0x1562f3(0x5ff):'')+_0x1562f3(0x5a7)+_0x1d496d+_0x1562f3(0x3a2)+(_0xb4c4a4[_0x1562f3(0x701)]===![]?'checked':'')+_0x1562f3(0xe1);break;case'matching_item':_0x9f22b3=_0x1562f3(0xa38)+(_0xb4c4a4['correctResponse']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x3d371d=_0xb4c4a4['questionText']||_0xb4c4a4[_0x1562f3(0x332)]||'';return _0x1562f3(0x76b)+_0x1d496d+_0x1562f3(0x7ae)+_0x19288c+_0x1562f3(0x160)+(_0x1d496d+0x1)+'\x20('+_0x19288c+_0x1562f3(0x93a)+_0x3d371d+_0x1562f3(0x6b0)+_0x9f22b3+'</div>\x0a</div>\x0a';})['join']('');_0x5e5c5a['innerHTML']=_0x682273,_0x5e5c5a[_0x163863(0x1a9)](_0x163863(0xc6))[_0x163863(0x28e)](_0x4351c3=>{const _0x618eff=_0x163863;_0x4351c3[_0x618eff(0x2aa)](_0x618eff(0x8a5),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x3988d7){const _0x13bb1f=_0x1c8731,_0x42c913=_0x3988d7['currentTarget'],_0x1a4620=_0x42c913['closest'](_0x13bb1f(0x258));if(!_0x1a4620)return;const _0x35354c=parseInt(_0x1a4620[_0x13bb1f(0x2f8)][_0x13bb1f(0x51c)],0xa);if(isNaN(_0x35354c)||!currentEditingQuizData[_0x13bb1f(0x619)][_0x35354c]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x537991=currentEditingQuizData[_0x13bb1f(0x619)][_0x35354c];_0x42c913[_0x13bb1f(0x42b)]=_0x13bb1f(0x174),_0x42c913['disabled']=!![];const _0x505f2d=_0x13bb1f(0x6f6)+JSON[_0x13bb1f(0x91e)](_0x537991)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x2ea4cb;const _0x1a1109=_0x537991['questionType']||currentEditingQuizData[_0x13bb1f(0x13d)];switch(_0x1a1109){case _0x13bb1f(0x3e2):_0x2ea4cb={'type':_0x13bb1f(0x3e8),'properties':{'questionText':{'type':_0x13bb1f(0x2ec)},'idealAnswer':{'type':_0x13bb1f(0x2ec)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x13bb1f(0x2dc),_0x13bb1f(0x954),_0x13bb1f(0xa0e)]};break;case _0x13bb1f(0x9f3):default:_0x2ea4cb={'type':_0x13bb1f(0x3e8),'properties':{'questionText':{'type':_0x13bb1f(0x2ec)},'options':{'type':_0x13bb1f(0x64d),'items':{'type':_0x13bb1f(0x2ec)}},'correctAnswerIndex':{'type':_0x13bb1f(0x4a6)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x13bb1f(0x2ec)}},'required':['questionText',_0x13bb1f(0x8bf),_0x13bb1f(0x587),'explanation']};break;}try{let _0x39d753=await callAnalysisApi(_0x505f2d,_0x2ea4cb);_0x39d753[_0x13bb1f(0x8bf)]&&Array['isArray'](_0x39d753[_0x13bb1f(0x8bf)])&&(_0x39d753[_0x13bb1f(0x8bf)]=_0x39d753[_0x13bb1f(0x8bf)][_0x13bb1f(0x429)](_0x2a27ee=>typeof _0x2a27ee===_0x13bb1f(0x8c2)?_0x2a27ee[_0x13bb1f(0x54e)](/S(\s*[\d_]+?\s*)S/g,_0x13bb1f(0x60e)):_0x2a27ee)),_0x537991[_0x13bb1f(0x25f)]&&_0x537991['imageCode'][_0x13bb1f(0x4c6)](_0x13bb1f(0x756))&&(_0x39d753['imageCode']=''),currentEditingQuizData['questions'][_0x35354c]={..._0x537991,..._0x39d753},renderQuizEditor(currentEditingQuizData),showMessage(_0x13bb1f(0x90a));}catch(_0x544477){console[_0x13bb1f(0xa1a)](_0x13bb1f(0x421),_0x544477),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x418c7f=_0x1c8731,_0x1e3590=document[_0x418c7f(0x2a0)](_0x418c7f(0xd7));_0x1e3590[_0x418c7f(0x13f)]=!![],_0x1e3590[_0x418c7f(0x42b)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x297dd6=document[_0x418c7f(0x2a0)](_0x418c7f(0x4ad))['value'],_0x23b6a9=document['querySelectorAll'](_0x418c7f(0x258));let _0x34768a=[];const _0x26295e=Array['from'](_0x23b6a9)[_0x418c7f(0x429)]((_0x58e941,_0x408fa7)=>{const _0x3301b1=_0x418c7f,_0x394a1c=_0x58e941[_0x3301b1(0x2f8)][_0x3301b1(0x97e)],_0x24269d=_0x58e941[_0x3301b1(0x265)]('textarea')['value'][_0x3301b1(0x54e)](/\n/g,_0x3301b1(0x45c));let _0x3dcc91={'questionType':_0x394a1c};const _0x4cc0d8=currentEditingQuizData[_0x3301b1(0x619)][_0x408fa7];switch(_0x394a1c){case _0x3301b1(0x9f3):_0x3dcc91[_0x3301b1(0x2dc)]=_0x24269d;const _0x12f865=_0x58e941['querySelectorAll'](_0x3301b1(0x12b));_0x3dcc91[_0x3301b1(0x8bf)]=Array[_0x3301b1(0x6a0)](_0x12f865)[_0x3301b1(0x429)](_0x34856c=>_0x34856c[_0x3301b1(0x556)]);const _0x5b539c=_0x58e941[_0x3301b1(0x265)](_0x3301b1(0x114));_0x3dcc91[_0x3301b1(0x587)]=_0x5b539c?parseInt(_0x5b539c[_0x3301b1(0x556)]):0x0;break;case'short_answer':_0x3dcc91['questionText']=_0x24269d,_0x3dcc91['idealAnswer']=_0x58e941[_0x3301b1(0x265)](_0x3301b1(0x609))[_0x3301b1(0x556)];break;case _0x3301b1(0x19b):_0x3dcc91['questionText']=_0x24269d;const _0x83a4da=_0x58e941[_0x3301b1(0x265)](_0x3301b1(0x114));_0x3dcc91['correctAnswer']=_0x83a4da?_0x83a4da[_0x3301b1(0x556)]==='true':!![];break;case _0x3301b1(0x8b2):_0x3dcc91['stem']=_0x24269d;const _0x15d609=_0x58e941['querySelector'](_0x3301b1(0xa06));_0x3dcc91[_0x3301b1(0x2f5)]=_0x15d609?_0x15d609['value']:'',_0x34768a[_0x3301b1(0x74b)](_0x3dcc91[_0x3301b1(0x2f5)]);break;default:_0x3dcc91['questionText']=_0x24269d;break;}return{..._0x4cc0d8,..._0x3dcc91};});_0x34768a[_0x418c7f(0x51f)]>0x0&&_0x26295e[_0x418c7f(0x28e)](_0x47fab0=>{const _0x8478e1=_0x418c7f;_0x47fab0[_0x8478e1(0x173)]==='matching_item'&&(_0x47fab0[_0x8478e1(0x323)]=_0x34768a);});const _0x2028aa=currentEditingQuizData['id'],_0x284e26=doc(db,_0x418c7f(0x804)+appId+'/public/data/quizzes',_0x2028aa);await updateDoc(_0x284e26,{'topic':_0x297dd6,'questions':_0x26295e}),document[_0x418c7f(0x2a0)](_0x418c7f(0x28d))[_0x418c7f(0x914)]['add'](_0x418c7f(0x674)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x2028aa));}catch(_0x23d963){console[_0x418c7f(0xa1a)](_0x418c7f(0x552),_0x23d963),showMessage(_0x418c7f(0x501));}finally{_0x1e3590['disabled']=![],_0x1e3590[_0x418c7f(0x42b)]=_0x418c7f(0x2f4);}}async function initiateReGradeProcess(_0x13646c){const _0x3431a3=_0x1c8731;showMessage(_0x3431a3(0x869));try{const _0x2ce78d=doc(db,'artifacts/'+appId+_0x3431a3(0x60f),_0x13646c),_0x2c19fb=await getDoc(_0x2ce78d);if(!_0x2c19fb[_0x3431a3(0x512)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x2311aa={'id':_0x13646c,..._0x2c19fb[_0x3431a3(0x4ff)]()},_0x1e5820=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x13646c,_0x3431a3(0x751)),_0x25c5ee=await getDocs(_0x1e5820);if(_0x25c5ee['empty']){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x3a2867=_0x25c5ee[_0x3431a3(0x1c5)][_0x3431a3(0x429)](_0x15a94b=>reGradeSingleSubmission(_0x15a94b,_0x2311aa));await Promise[_0x3431a3(0x3f2)](_0x3a2867);if(_0x2311aa[_0x3431a3(0x6fd)]){const _0x23b6d8=doc(db,'artifacts/'+appId+'/public/data/projects',_0x2311aa[_0x3431a3(0x6fd)]),_0x4563d3=await getDoc(_0x23b6d8);if(_0x4563d3[_0x3431a3(0x512)]()&&_0x4563d3[_0x3431a3(0x4ff)]()['students']){const _0x219ff7=_0x4563d3[_0x3431a3(0x4ff)]()['students']['map'](_0x3feb74=>updateStudentProfile(_0x2311aa[_0x3431a3(0x6fd)],_0x3feb74));await Promise[_0x3431a3(0x3f2)](_0x219ff7);}}showMessage(_0x3431a3(0x242)+_0x25c5ee['size']+_0x3431a3(0x6cb));}catch(_0x7ebce){console[_0x3431a3(0xa1a)](_0x3431a3(0x1b7),_0x7ebce),showMessage(_0x3431a3(0x257)+_0x7ebce['message']);}}async function reGradeSingleSubmission(_0x493006,_0x27ac0e){const _0x1ccc37=_0x1c8731,_0x1d483a=_0x493006['data'](),_0x54c9ac=_0x1d483a[_0x1ccc37(0x5b8)],_0x5eb849=_0x1d483a[_0x1ccc37(0x245)]||[],_0x23a37d=[];for(const _0x31412d of _0x5eb849){let _0x4bd261=0x0,_0x24cf49=[],_0x168341=0x0;const _0x110396=[];for(const _0x2441ae of _0x31412d[_0x1ccc37(0x2ab)]){let _0x990536;_0x2441ae[_0x1ccc37(0x1c7)]&&(_0x990536=_0x27ac0e[_0x1ccc37(0x619)][_0x1ccc37(0x216)](_0x2b6790=>_0x2b6790['id']===_0x2441ae['questionId']));!_0x990536&&_0x2441ae['originalQuestionText']&&(_0x990536=_0x27ac0e[_0x1ccc37(0x619)][_0x1ccc37(0x216)](_0xb02fe3=>(_0xb02fe3[_0x1ccc37(0x332)]||_0xb02fe3[_0x1ccc37(0x2dc)])===_0x2441ae['originalQuestionText']));let _0x109b90=![];if(_0x990536){const _0x40e12d=_0x990536['questionType']||_0x27ac0e['quizType'];switch(_0x40e12d){case _0x1ccc37(0x9f3):if(_0x990536[_0x1ccc37(0x8bf)]&&_0x990536['correctAnswerIndex']<_0x990536[_0x1ccc37(0x8bf)]['length']){const _0x486858=_0x990536[_0x1ccc37(0x8bf)][_0x990536[_0x1ccc37(0x587)]];_0x109b90=_0x2441ae[_0x1ccc37(0x83d)]===_0x486858;}break;case _0x1ccc37(0x19b):const _0x5caa9d=_0x2441ae[_0x1ccc37(0x721)]===!![]||_0x2441ae[_0x1ccc37(0x721)]===_0x1ccc37(0x2f6);_0x109b90=_0x5caa9d===_0x990536[_0x1ccc37(0x701)];break;case _0x1ccc37(0x8b2):_0x109b90=_0x2441ae[_0x1ccc37(0x721)]===_0x990536[_0x1ccc37(0x2f5)];break;case _0x1ccc37(0x3e2):_0x109b90=await gradeShortAnswer(_0x2441ae[_0x1ccc37(0x721)],_0x990536);break;default:_0x109b90=_0x2441ae[_0x1ccc37(0x69b)];break;}}if(_0x109b90){_0x4bd261++,_0x168341++;if(_0x168341===0x3)_0x24cf49[_0x1ccc37(0x74b)](BADGES[_0x1ccc37(0x9d1)]['id']);}else _0x168341=0x0;_0x110396[_0x1ccc37(0x74b)]({..._0x2441ae,'isCorrect':_0x109b90});}let _0x412ea0=_0x4bd261*0xa;_0x4bd261===_0x27ac0e[_0x1ccc37(0x619)]['length']&&(_0x412ea0+=0x32,_0x24cf49[_0x1ccc37(0x74b)](BADGES[_0x1ccc37(0x19a)]['id'])),_0x23a37d[_0x1ccc37(0x74b)]({..._0x31412d,'score':_0x4bd261,'points':_0x412ea0,'badges':Array[_0x1ccc37(0x6a0)](new Set(_0x24cf49)),'answers':_0x110396});}const _0x245acc=_0x23a37d['length']>0x0?_0x23a37d[0x0]['score']:0x0,_0x1e1c48=Math[_0x1ccc37(0x7e7)](..._0x23a37d['map'](_0x2a546c=>_0x2a546c[_0x1ccc37(0x968)])),_0x405bd2=_0x23a37d[_0x1ccc37(0x51f)]>0x0?_0x23a37d[_0x23a37d[_0x1ccc37(0x51f)]-0x1][_0x1ccc37(0x968)]:0x0,_0x283246=_0x23a37d[_0x1ccc37(0x51f)]>0x0?_0x23a37d[_0x23a37d['length']-0x1]['points']:0x0,_0x1838e6=doc(db,_0x1ccc37(0x804)+appId+_0x1ccc37(0x39f)+_0x27ac0e['id']+'/submissions',_0x54c9ac);await updateDoc(_0x1838e6,{'attempts':_0x23a37d,'firstScore':_0x245acc,'bestScore':_0x1e1c48,'latestScore':_0x405bd2,'points':_0x283246});}function cleanupQuizOptions(_0x41cc22){const _0x5e9245=_0x1c8731,_0xf7f148=(_0x42a551,_0xcbeecf)=>_0xcbeecf===0x0?_0x42a551:_0xf7f148(_0xcbeecf,_0x42a551%_0xcbeecf),_0xfc2006=_0xf43fa8=>{const _0x46a289=_0x5736;if(typeof _0xf43fa8!==_0x46a289(0x8c2))return null;_0xf43fa8=_0xf43fa8['trim']();const _0x50197c=_0xf43fa8['split'](/[ /]/)[_0x46a289(0x29a)](_0x477196=>_0x477196!=='');if(_0x50197c[_0x46a289(0x51f)]===0x3)return parseInt(_0x50197c[0x0])+parseInt(_0x50197c[0x1])/parseInt(_0x50197c[0x2]);else{if(_0x50197c[_0x46a289(0x51f)]===0x2)return parseInt(_0x50197c[0x0])/parseInt(_0x50197c[0x1]);else{if(_0x50197c[_0x46a289(0x51f)]===0x1&&!isNaN(_0x50197c[0x0]))return parseFloat(_0x50197c[0x0]);}}return null;},_0x3b96c5=_0x523e1c=>{const _0x30eec7=_0x5736;if(typeof _0x523e1c!=='string')return _0x523e1c;const _0x5d32a9=_0x523e1c[_0x30eec7(0xba)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x5d32a9){const _0x21fe16=parseInt(_0x5d32a9[0x1]);let _0x12bf5c=parseInt(_0x5d32a9[0x2]),_0x1414ac=parseInt(_0x5d32a9[0x3]);const _0x1bd1da=_0xf7f148(_0x12bf5c,_0x1414ac);_0x12bf5c/=_0x1bd1da,_0x1414ac/=_0x1bd1da;if(_0x1414ac===0x1)return(_0x21fe16+_0x12bf5c)[_0x30eec7(0x547)]();return _0x21fe16+'\x20'+_0x12bf5c+'/'+_0x1414ac;}return _0x523e1c;};return _0x41cc22&&_0x41cc22[_0x5e9245(0x619)]&&_0x41cc22[_0x5e9245(0x619)][_0x5e9245(0x28e)](_0x4f9c93=>{const _0x36553a=_0x5e9245;if(_0x4f9c93['questionType']===_0x36553a(0x9f3)&&_0x4f9c93[_0x36553a(0x8bf)]){const _0x24ac6f=new Map(),_0x10db04=_0x4f9c93[_0x36553a(0x8bf)][_0x4f9c93[_0x36553a(0x587)]];_0x4f9c93[_0x36553a(0x8bf)][_0x36553a(0x28e)](_0xb40681=>{const _0x285cb0=_0x3b96c5(_0xb40681),_0xe9fc7e=_0xfc2006(_0x285cb0);_0xe9fc7e!==null&&!_0x24ac6f['has'](_0xe9fc7e)&&_0x24ac6f['set'](_0xe9fc7e,_0x285cb0);}),_0x4f9c93[_0x36553a(0x8bf)]=Array['from'](_0x24ac6f[_0x36553a(0x390)]());const _0x1ccf8f=_0x4f9c93[_0x36553a(0x8bf)][_0x36553a(0x1f6)](_0x2cfc1e=>_0x2cfc1e===_0x3b96c5(_0x10db04));_0x4f9c93[_0x36553a(0x587)]=_0x1ccf8f!==-0x1?_0x1ccf8f:0x0;}}),_0x41cc22;}function showGameStartConfirmationModal(_0x470624,_0x14e1d6,_0xb109cc){const _0x3d70ab=_0x1c8731,_0x4defb8=document[_0x3d70ab(0x2a0)](_0x3d70ab(0x9b1));document[_0x3d70ab(0x2a0)]('game-start-modal-title')[_0x3d70ab(0x531)]='เริ่มกิจกรรม:\x20'+_0xb109cc,document['getElementById'](_0x3d70ab(0x834))[_0x3d70ab(0x556)]=_0x470624,document[_0x3d70ab(0x2a0)]('game-start-mode')[_0x3d70ab(0x556)]=_0x14e1d6,document[_0x3d70ab(0x2a0)](_0x3d70ab(0x3c5))[_0x3d70ab(0x5ff)]=!![],_0x4defb8[_0x3d70ab(0x914)][_0x3d70ab(0x278)](_0x3d70ab(0x674));}async function saveGameResultsAsSubmissions(_0x7be3e7){const _0x4d0a87=_0x1c8731;console[_0x4d0a87(0x30f)](_0x4d0a87(0x625),_0x7be3e7);const _0x2b1c3a=_0x7be3e7[_0x4d0a87(0x15c)];let _0xf55f73=[];if(_0x7be3e7[_0x4d0a87(0x4f6)])_0xf55f73=Object[_0x4d0a87(0x489)](_0x7be3e7[_0x4d0a87(0x4f6)])[_0x4d0a87(0x429)](([_0x5d1514,_0x4507af])=>({'name':_0x5d1514,..._0x4507af}));else{if(_0x7be3e7[_0x4d0a87(0x32b)])Object[_0x4d0a87(0x390)](_0x7be3e7[_0x4d0a87(0x32b)])[_0x4d0a87(0x28e)](_0x2afd57=>{const _0x32a111=_0x4d0a87;_0x2afd57[_0x32a111(0x686)][_0x32a111(0x28e)](_0x57e96e=>{const _0x1f3017=_0x32a111;_0xf55f73[_0x1f3017(0x74b)]({'name':_0x57e96e,'score':_0x2afd57['score']});});});else _0x7be3e7[_0x4d0a87(0x2d4)]&&Object[_0x4d0a87(0x489)](_0x7be3e7[_0x4d0a87(0x2d4)])[_0x4d0a87(0x28e)](([_0x53fcff,_0x2f6a94])=>{const _0x10d3ac=_0x4d0a87;_0xf55f73[_0x10d3ac(0x74b)]({'name':_0x53fcff,..._0x2f6a94});});}if(_0xf55f73[_0x4d0a87(0x51f)]===0x0){console[_0x4d0a87(0x30f)](_0x4d0a87(0x66a));return;}const _0x305c52=_0x7be3e7[_0x4d0a87(0x2f9)]?.[_0x4d0a87(0x619)][_0x4d0a87(0x51f)]||currentQuizData[_0x4d0a87(0x619)]['length'],_0x12a96b=writeBatch(db);for(const _0x47fbf3 of _0xf55f73){const _0x154b8c=_0x47fbf3[_0x4d0a87(0x968)]||0x0,_0x1e7e4e=doc(db,_0x4d0a87(0x804)+appId+_0x4d0a87(0x39f)+_0x2b1c3a+_0x4d0a87(0x9cd),_0x47fbf3[_0x4d0a87(0x3d6)]),_0xcac9a5=(_0x47fbf3[_0x4d0a87(0x2ab)]||[])[_0x4d0a87(0x29a)](_0x447944=>_0x447944[_0x4d0a87(0x69b)])[_0x4d0a87(0x51f)],_0x59f913={'score':_0xcac9a5,'points':_0x154b8c,'badges':_0x47fbf3[_0x4d0a87(0x19e)]||[],'submittedAt':new Date()['toISOString'](),'answers':(_0x47fbf3[_0x4d0a87(0x2ab)]||[])[_0x4d0a87(0x429)](_0x4c798c=>({'questionId':_0x4c798c[_0x4d0a87(0x1c7)],'answer':_0x4c798c[_0x4d0a87(0x721)],'answerText':_0x4c798c[_0x4d0a87(0x83d)],'isCorrect':_0x4c798c[_0x4d0a87(0x69b)],'originalQuestionText':_0x4c798c['originalQuestionText'],'wasConfident':_0x4c798c[_0x4d0a87(0x627)]}))},_0x123a00=await getDoc(_0x1e7e4e),_0x241b32=_0x123a00['exists']()?_0x123a00[_0x4d0a87(0x4ff)]():{},_0x45f039=_0x241b32['bestScore']||0x0,_0x3b476c=_0x241b32[_0x4d0a87(0x245)]||[],_0xd44959={'studentName':_0x47fbf3['name'],'totalQuestions':_0x305c52,'attempts':arrayUnion(_0x59f913),'latestScore':_0xcac9a5,'points':_0x154b8c,'latestSubmittedAt':_0x59f913['submittedAt'],'bestScore':Math[_0x4d0a87(0x7e7)](_0x45f039,_0xcac9a5),'firstScore':_0x3b476c[_0x4d0a87(0x51f)]===0x0?_0xcac9a5:_0x241b32[_0x4d0a87(0x3ba)]||0x0};_0x12a96b[_0x4d0a87(0xf3)](_0x1e7e4e,_0xd44959,{'merge':!![]});}try{await _0x12a96b[_0x4d0a87(0x717)](),showMessage(_0x4d0a87(0x47d)+_0xf55f73[_0x4d0a87(0x51f)]+'\x20รายการ\x20สำเร็จ!');const _0x562a41=_0x7be3e7['shuffledQuiz']?.[_0x4d0a87(0x6fd)]||currentQuizData?.['projectId']||currentProjectId;if(_0x562a41){const _0x122eee=[...new Set(_0xf55f73['map'](_0x4ebf19=>_0x4ebf19[_0x4d0a87(0x3d6)]))];for(const _0x590864 of _0x122eee){await updateStudentProfile(_0x562a41,_0x590864);}}}catch(_0xc59228){console[_0x4d0a87(0xa1a)](_0x4d0a87(0x805),_0xc59228),showMessage(_0x4d0a87(0x82b));}}async function saveQuiz(){const _0x4ef71f=_0x1c8731;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x4ef71f(0x849));return;}const _0x12e892=document[_0x4ef71f(0x2a0)](_0x4ef71f(0x217));_0x12e892[_0x4ef71f(0x13f)]=!![],_0x12e892[_0x4ef71f(0x42b)]=_0x4ef71f(0x112);const _0x23e653=document[_0x4ef71f(0x2a0)](_0x4ef71f(0x45f))[_0x4ef71f(0x5ff)];let _0x1580f2=document[_0x4ef71f(0x2a0)]('editable-quiz-topic')[_0x4ef71f(0x54b)][_0x4ef71f(0x611)]();_0x23e653&&!_0x1580f2[_0x4ef71f(0x770)](_0x4ef71f(0x228))&&(_0x1580f2='(ก่อนเรียน)\x20'+_0x1580f2);try{const _0x3fa7af={'resultsDisplay':document[_0x4ef71f(0x2a0)](_0x4ef71f(0x3ab))[_0x4ef71f(0x556)],'shuffle':document[_0x4ef71f(0x2a0)]('shuffle-setting-select')[_0x4ef71f(0x556)],'timerMode':document[_0x4ef71f(0x2a0)](_0x4ef71f(0x7dc))['value'],'timerDuration':parseInt(document[_0x4ef71f(0x2a0)](_0x4ef71f(0x902))[_0x4ef71f(0x556)])||0xa,'passingScore':parseInt(document[_0x4ef71f(0x2a0)](_0x4ef71f(0x9a8))[_0x4ef71f(0x556)])||0x0,'isAdaptive':document[_0x4ef71f(0x2a0)](_0x4ef71f(0x491))[_0x4ef71f(0x5ff)],'loopUntilPass':document[_0x4ef71f(0x2a0)](_0x4ef71f(0x614))[_0x4ef71f(0x5ff)]},_0x1eed31=(currentQuizData[_0x4ef71f(0x619)]||[])[_0x4ef71f(0x429)]((_0x562a04,_0x1c5f70)=>{const _0x32c623=_0x4ef71f,_0x18b4f8=document[_0x32c623(0x2a0)](_0x32c623(0x4ab))[_0x32c623(0x556)],_0x46dc3e={'id':'q_'+Date[_0x32c623(0x4f9)]()+'_'+_0x1c5f70,'questionText':_0x562a04[_0x32c623(0x2dc)]||'','explanation':_0x562a04[_0x32c623(0xa0e)]||_0x32c623(0x7fa),'questionType':_0x562a04['questionType']||_0x18b4f8,'imageCode':_0x562a04[_0x32c623(0x25f)]||null};return(_0x46dc3e[_0x32c623(0x173)]===_0x32c623(0x9f3)||_0x46dc3e[_0x32c623(0x173)]==='fill_in_with_choices'||_0x46dc3e['questionType']===_0x32c623(0xa23)&&_0x562a04[_0x32c623(0x8bf)])&&(_0x46dc3e['options']=_0x562a04[_0x32c623(0x8bf)]||[],_0x46dc3e[_0x32c623(0x587)]=_0x562a04[_0x32c623(0x587)]!==undefined?_0x562a04[_0x32c623(0x587)]:0x0),(_0x46dc3e[_0x32c623(0x173)]===_0x32c623(0x3e2)||_0x46dc3e['questionType']===_0x32c623(0xf5)||_0x46dc3e['questionType']===_0x32c623(0xa23)&&_0x562a04[_0x32c623(0x954)])&&(_0x46dc3e['idealAnswer']=_0x562a04['idealAnswer']||''),_0x46dc3e[_0x32c623(0x173)]===_0x32c623(0x19b)&&(_0x46dc3e[_0x32c623(0x701)]=_0x562a04[_0x32c623(0x701)]===!![]),_0x46dc3e[_0x32c623(0x173)]===_0x32c623(0x8b2)&&(_0x46dc3e[_0x32c623(0x332)]=_0x562a04[_0x32c623(0x332)]||'',_0x46dc3e[_0x32c623(0x2f5)]=_0x562a04[_0x32c623(0x2f5)]||'',_0x46dc3e[_0x32c623(0x323)]=_0x562a04['allResponses']||[]),_0x46dc3e;}),_0x596634={'topic':_0x1580f2,'quizType':currentQuizData[_0x4ef71f(0x13d)]||'multiple_choice','questions':_0x1eed31,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x4ef71f(0x3fd),'settings':_0x3fa7af,'quizMode':_0x23e653?'pre-test':'standard','pairedQuizId':null,'lessonPlan':null};let _0x1d3a65;while(!![]){_0x1d3a65=Math[_0x4ef71f(0x665)](0x3e8+Math['random']()*0x2328)[_0x4ef71f(0x547)]();const _0x45efed=await getDoc(doc(db,_0x4ef71f(0x804)+appId+_0x4ef71f(0x60f),_0x1d3a65));if(!_0x45efed[_0x4ef71f(0x512)]())break;}await setDoc(doc(db,_0x4ef71f(0x804)+appId+_0x4ef71f(0x60f),_0x1d3a65),_0x596634),currentQuizData[_0x4ef71f(0x141)]=_0x3fa7af,currentQuizData['id']=_0x1d3a65;const _0x59d0b0=document[_0x4ef71f(0x2a0)](_0x4ef71f(0x3e0));_0x59d0b0[_0x4ef71f(0x42b)]=_0x4ef71f(0x134)+_0x1d3a65+_0x4ef71f(0xc4),document[_0x4ef71f(0x2a0)](_0x4ef71f(0x750))['addEventListener'](_0x4ef71f(0x8a5),()=>copyTextToClipboard(_0x1d3a65,'คัดลอกรหัสแล้ว!')),document[_0x4ef71f(0x2a0)](_0x4ef71f(0x23f))['addEventListener'](_0x4ef71f(0x8a5),()=>handleStartLiveRace(_0x1d3a65)),document[_0x4ef71f(0x2a0)]('start-presentation-btn')[_0x4ef71f(0x2aa)](_0x4ef71f(0x8a5),()=>startPresentation(currentQuizData)),document[_0x4ef71f(0x2a0)]('admin-try-quiz-btn')[_0x4ef71f(0x2aa)](_0x4ef71f(0x8a5),startAdminTest),showMessage(_0x4ef71f(0x7ac));}catch(_0x42f380){console[_0x4ef71f(0xa1a)](_0x4ef71f(0xa8),_0x42f380),showMessage(_0x4ef71f(0x8d8)),_0x12e892[_0x4ef71f(0x13f)]=![],_0x12e892['innerHTML']=_0x4ef71f(0x273);}}function promptForProjectAndSave(){const _0x4cf4d4=_0x1c8731,_0xe636c3=document['getElementById'](_0x4cf4d4(0x8b4)),_0x3fdd8c=document['getElementById']('move-quiz-project-select'),_0x2ed538=_0xe636c3[_0x4cf4d4(0x265)]('h3'),_0x13fa3f=document[_0x4cf4d4(0x2a0)](_0x4cf4d4(0x4d9));_0x2ed538['textContent']=_0x4cf4d4(0x887),_0x13fa3f[_0x4cf4d4(0x531)]=_0x4cf4d4(0x314);allProjects['length']===0x0?(_0x3fdd8c[_0x4cf4d4(0x42b)]=_0x4cf4d4(0xa32),_0x13fa3f[_0x4cf4d4(0x13f)]=!![]):(_0x3fdd8c[_0x4cf4d4(0x42b)]=allProjects[_0x4cf4d4(0x429)](_0x1bc7a2=>_0x4cf4d4(0x708)+_0x1bc7a2['id']+'\x22>'+_0x1bc7a2['projectName']+_0x4cf4d4(0x5ea))[_0x4cf4d4(0x795)](''),_0x13fa3f['disabled']=![]);_0xe636c3[_0x4cf4d4(0x914)]['remove'](_0x4cf4d4(0x674));const _0xbf23fa=()=>{const _0x3886a4=_0x4cf4d4,_0xdd6a04=_0x3fdd8c[_0x3886a4(0x556)];_0xdd6a04?(currentProjectId=_0xdd6a04,_0xe636c3['classList'][_0x3886a4(0x6bb)]('hidden'),saveQuiz(),_0x2ed538[_0x3886a4(0x531)]=_0x3886a4(0xb2),_0x13fa3f[_0x3886a4(0x531)]=_0x3886a4(0x2d8),_0x13fa3f[_0x3886a4(0x997)](_0x3886a4(0x8a5),_0xbf23fa),_0x13fa3f[_0x3886a4(0x2aa)]('click',confirmMoveQuiz)):showMessage(_0x3886a4(0x9b8));};_0x13fa3f[_0x4cf4d4(0x997)](_0x4cf4d4(0x8a5),confirmMoveQuiz),_0x13fa3f['addEventListener'](_0x4cf4d4(0x8a5),_0xbf23fa);}function copyTextToClipboard(_0x262523,_0x401706){const _0x4fe958=_0x1c8731,_0x1ed6dd=document[_0x4fe958(0x2ae)](_0x4fe958(0x607));_0x1ed6dd[_0x4fe958(0x556)]=_0x262523,_0x1ed6dd[_0x4fe958(0x58f)][_0x4fe958(0x4ea)]=_0x4fe958(0x38c),_0x1ed6dd[_0x4fe958(0x58f)]['opacity']='0',document[_0x4fe958(0x247)]['appendChild'](_0x1ed6dd),_0x1ed6dd[_0x4fe958(0x809)](),_0x1ed6dd[_0x4fe958(0x612)]();try{const _0x21ab1c=document[_0x4fe958(0x8e2)](_0x4fe958(0x16c));showMessage(_0x21ab1c?_0x401706:_0x4fe958(0xa07));}catch(_0x25a26f){showMessage(_0x4fe958(0xa07)),console['error'](_0x4fe958(0x7c8),_0x25a26f);}document[_0x4fe958(0x247)][_0x4fe958(0x67d)](_0x1ed6dd);}function listenForProjectQuizzes(_0x1b398a){const _0x5dc29c=_0x1c8731,_0x143bed=collection(db,'artifacts/'+appId+_0x5dc29c(0x60f)),_0xa3e526=query(_0x143bed,where(_0x5dc29c(0x6fd),'==',_0x1b398a));unsubscribeQuizzesListener=onSnapshot(_0xa3e526,async _0x400c9=>{const _0x5d4096=_0x5dc29c;allQuizzes=_0x400c9[_0x5d4096(0x1c5)]['map'](_0x3589ec=>({'id':_0x3589ec['id'],..._0x3589ec[_0x5d4096(0x4ff)]()})),renderQuizzes();},_0x132e37=>{const _0x43be10=_0x5dc29c;console[_0x43be10(0xa1a)](_0x43be10(0x589),_0x132e37),document['getElementById'](_0x43be10(0x371))[_0x43be10(0x42b)]=_0x43be10(0x1ab);});}async function renderQuizzes(){const _0x501099=_0x1c8731,_0x1186f6=document['getElementById'](_0x501099(0x371)),_0x3b36be=document[_0x501099(0x2a0)](_0x501099(0x73f))['value'][_0x501099(0x263)]();let _0x338c41;currentProjectId===_0x501099(0x5bb)?_0x338c41=starredQuizzes:_0x338c41=allQuizzes;let _0x596d6d=_0x338c41['filter'](_0x1150ac=>_0x1150ac[_0x501099(0x39a)][_0x501099(0x263)]()[_0x501099(0x4c6)](_0x3b36be));_0x596d6d['sort']((_0x3995aa,_0x1c6b34)=>new Date(_0x1c6b34['createdAt'])-new Date(_0x3995aa['createdAt']));if(_0x596d6d['length']===0x0){_0x1186f6[_0x501099(0x42b)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x428bbf={},_0x297407=_0x596d6d[_0x501099(0x429)](async _0x248ef8=>{const _0x172b48=_0x501099,_0x5b09ab=collection(db,_0x172b48(0x804)+appId+'/public/data/quizzes/'+_0x248ef8['id']+_0x172b48(0x9cd)),_0x32e234=await getDocs(_0x5b09ab);_0x428bbf[_0x248ef8['id']]=_0x32e234[_0x172b48(0x53c)];});await Promise[_0x501099(0x3f2)](_0x297407);let _0x49c0f4='';_0x596d6d[_0x501099(0x28e)](_0x3de4fd=>{const _0x46890c=_0x501099,_0x466aa5=_0x428bbf[_0x3de4fd['id']]||0x0,_0xd90d82=_0x3de4fd[_0x46890c(0x912)]||'active',_0x299328=_0x3de4fd[_0x46890c(0x141)]?.['timerMode']||'none';let _0x45b6e7='',_0x2bee1b='';const _0x3d2264=new Date();let _0x196554=_0xd90d82;if(_0xd90d82===_0x46890c(0x790)){const _0x5582fd=_0x3de4fd[_0x46890c(0x25c)]?new Date(_0x3de4fd[_0x46890c(0x25c)]):null,_0x2e09e7=_0x3de4fd['endTime']?new Date(_0x3de4fd[_0x46890c(0x92e)]):null;if(_0x2e09e7&&_0x3d2264>_0x2e09e7)_0x196554=_0x46890c(0x4dd);else _0x5582fd&&_0x3d2264<_0x5582fd?_0x196554=_0x46890c(0x70b):_0x196554=_0x46890c(0x3fd);}switch(_0x196554){case _0x46890c(0x4dd):_0x45b6e7=_0x46890c(0x17a),_0x2bee1b='text-red-700\x20bg-red-100';break;case _0x46890c(0x70b):_0x45b6e7=_0x46890c(0x27b),_0x2bee1b='text-blue-700\x20bg-blue-100';break;case _0x46890c(0x3fd):_0x45b6e7=_0x299328!==_0x46890c(0x7bb)?'เปิด\x20(จับเวลา)':_0x46890c(0x3e4),_0x2bee1b=_0x46890c(0x74d);break;default:_0x45b6e7=_0x46890c(0x288),_0x2bee1b=_0x46890c(0x74d);break;}let _0x3d5abd='';const _0x4d5e55={'day':'2-digit','month':_0x46890c(0x490),'year':'numeric','hour':'2-digit','minute':'2-digit','hour12':![]};if(_0xd90d82===_0x46890c(0x790)){if(_0x3de4fd[_0x46890c(0x25c)])_0x3d5abd+=_0x46890c(0x60c)+new Date(_0x3de4fd[_0x46890c(0x25c)])[_0x46890c(0x11a)](_0x46890c(0x3c9),_0x4d5e55)+_0x46890c(0x28f);if(_0x3de4fd['endTime'])_0x3d5abd+=_0x46890c(0x9b5)+new Date(_0x3de4fd[_0x46890c(0x92e)])[_0x46890c(0x11a)]('th-TH',_0x4d5e55)+'</p>';}let _0x3034cc='';if(_0x3de4fd['pairedQuizId']){const _0x5862c6=allQuizzes[_0x46890c(0x216)](_0x2d23a7=>_0x2d23a7['id']===_0x3de4fd['pairedQuizId']);if(_0x5862c6){let _0x1cdf6e,_0x40e6d1;new Date(_0x3de4fd[_0x46890c(0x356)])<new Date(_0x5862c6[_0x46890c(0x356)])?(_0x1cdf6e=_0x3de4fd['id'],_0x40e6d1=_0x5862c6['id']):(_0x1cdf6e=_0x5862c6['id'],_0x40e6d1=_0x3de4fd['id']),_0x3034cc+=_0x46890c(0x502)+_0x40e6d1+'\x22\x20data-pre-test-id=\x22'+_0x1cdf6e+_0x46890c(0x2c0);}}else _0x3de4fd['quizMode']===_0x46890c(0x445)&&(_0x3034cc+=_0x46890c(0x376)+_0x3de4fd['id']+_0x46890c(0x326));if(_0x3de4fd[_0x46890c(0x8c6)]==='pre-test'&&_0x466aa5>0x0)_0x3034cc+=_0x46890c(0x376)+_0x3de4fd['id']+_0x46890c(0x457);else!_0x3de4fd[_0x46890c(0x1e5)]&&_0x3de4fd[_0x46890c(0x8c6)]!==_0x46890c(0x445)&&_0x466aa5>0x0&&(_0x3034cc+=_0x46890c(0x376)+_0x3de4fd['id']+_0x46890c(0x239));let _0x23acfe='';_0x3de4fd[_0x46890c(0x1e5)]?_0x23acfe='<button\x20data-quiz-id=\x22'+_0x3de4fd['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x23acfe=_0x46890c(0x8fa)+_0x3de4fd['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x49c0f4+=_0x46890c(0xa14)+_0x3de4fd['id']+_0x46890c(0x231)+_0x3de4fd[_0x46890c(0x39a)]+_0x46890c(0x4b6)+_0x3de4fd[_0x46890c(0x619)][_0x46890c(0x51f)]+_0x46890c(0x346)+new Date(_0x3de4fd[_0x46890c(0x356)])['toLocaleString'](_0x46890c(0x3c9))+_0x46890c(0x355)+_0x466aa5+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d5abd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x2bee1b+'\x22>'+_0x45b6e7+_0x46890c(0x3b5)+_0x3de4fd['id']+_0x46890c(0x23a)+_0x3de4fd['id']+_0x46890c(0x5d0)+(_0x3de4fd[_0x46890c(0xd8)]?'fas\x20fa-star\x20text-yellow-500':_0x46890c(0x2b2))+_0x46890c(0x47c)+_0x3034cc+_0x46890c(0x4d8)+_0x3de4fd['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x3de4fd['id']+_0x46890c(0x6b1)+_0x3de4fd['id']+_0x46890c(0x23d)+_0x3de4fd['id']+_0x46890c(0x31d)+_0x3de4fd['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3de4fd['id']+_0x46890c(0x8cb)+_0x3de4fd['id']+_0x46890c(0x1fe)+_0x3de4fd['topic']+_0x46890c(0x2a9)+_0x3de4fd['id']+_0x46890c(0x76e)+_0x3de4fd['id']+_0x46890c(0x498)+_0x23acfe+_0x46890c(0x43f)+_0x3de4fd['id']+_0x46890c(0x48c)+_0x3de4fd['id']+_0x46890c(0x4ce)+_0x3de4fd['id']+_0x46890c(0x95a)+_0x3de4fd['id']+_0x46890c(0x1aa)+_0x3de4fd['id']+_0x46890c(0xe6)+_0x3de4fd['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3de4fd['id']+_0x46890c(0x8b8)+_0x3de4fd['id']+'\x22\x20data-topic=\x22'+_0x3de4fd[_0x46890c(0x39a)]+_0x46890c(0x1b4)+_0x3de4fd['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1186f6[_0x501099(0x42b)]=_0x49c0f4,document[_0x501099(0x1a9)](_0x501099(0x222))[_0x501099(0x28e)](_0x3a5816=>{const _0xcfef64=_0x501099;_0x3a5816['addEventListener'](_0xcfef64(0x8a5),()=>{const _0x49836d=_0xcfef64,_0x4ccf09=_0x3a5816['dataset'][_0x49836d(0x15c)];showQuizDetailView(_0x4ccf09);});});}async function handleUnpairQuiz(_0x49e7a2){const _0x33642b=_0x1c8731,_0x1a302e=allQuizzes[_0x33642b(0x216)](_0x1ee3a5=>_0x1ee3a5['id']===_0x49e7a2);if(!_0x1a302e||!_0x1a302e[_0x33642b(0x1e5)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x33642b(0x2c1),async()=>{const _0x3ccad8=_0x33642b;try{const _0x391d2d=doc(db,'artifacts/'+appId+_0x3ccad8(0x60f),_0x49e7a2),_0x48de80=doc(db,_0x3ccad8(0x804)+appId+_0x3ccad8(0x60f),_0x1a302e['pairedQuizId']),_0x6f0193=writeBatch(db);_0x6f0193['update'](_0x391d2d,{'pairedQuizId':null}),_0x6f0193[_0x3ccad8(0x580)](_0x48de80,{'pairedQuizId':null}),await _0x6f0193['commit'](),showMessage(_0x3ccad8(0x4f8));}catch(_0x312a41){console[_0x3ccad8(0xa1a)]('Error\x20unpairing\x20quizzes:',_0x312a41),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x2d7bb8,_0x3dfabe){const _0x584a7b=_0x1c8731,_0x25088d=window[_0x584a7b(0x985)]('',_0x584a7b(0x5ba)),_0x5af7ce=_0x584a7b(0x5bd)+_0x3dfabe[_0x584a7b(0x39a)]+_0x584a7b(0x737)+_0x3dfabe[_0x584a7b(0x39a)]+_0x584a7b(0x1be)+_0x2d7bb8[_0x584a7b(0x595)][_0x584a7b(0x429)](_0x5e2775=>_0x584a7b(0x53e)+_0x5e2775+_0x584a7b(0x2b1))[_0x584a7b(0x795)]('')+_0x584a7b(0x37b)+_0x2d7bb8['teachingContent']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d7bb8['practiceProblems']['map'](_0x393eb2=>_0x584a7b(0x191)+_0x393eb2[_0x584a7b(0x96a)]+_0x584a7b(0x2a8)+_0x393eb2[_0x584a7b(0x83c)]+_0x584a7b(0x989))[_0x584a7b(0x795)]('')+_0x584a7b(0x677);_0x25088d['document'][_0x584a7b(0x328)](_0x5af7ce),_0x25088d[_0x584a7b(0x739)][_0x584a7b(0x3b6)](),_0x25088d[_0x584a7b(0x703)]=function(){setTimeout(()=>{const _0x52cd56=_0x5736;_0x25088d[_0x52cd56(0xe4)]();},0x3e8);};}async function handleAiFixFormula(_0x218fb2){const _0x30bee6=_0x1c8731,_0x1df38d=document[_0x30bee6(0x265)]('.question-editor-item[data-q-index=\x22'+_0x218fb2+'\x22]');if(!_0x1df38d)return;const _0x5f2fa1=_0x1df38d[_0x30bee6(0x2f8)][_0x30bee6(0x97e)],_0x30667f=_0x1df38d['querySelector'](_0x30bee6(0x1cf));let _0x5189e3={'question':_0x1df38d[_0x30bee6(0x265)](_0x30bee6(0x607))[_0x30bee6(0x556)]};switch(_0x5f2fa1){case _0x30bee6(0x9f3):_0x5189e3[_0x30bee6(0x8bf)]=Array[_0x30bee6(0x6a0)](_0x1df38d[_0x30bee6(0x1a9)](_0x30bee6(0x12b)))[_0x30bee6(0x429)](_0x34682b=>_0x34682b['value']);break;case'short_answer':_0x5189e3[_0x30bee6(0x954)]=_0x1df38d['querySelector'](_0x30bee6(0x609))[_0x30bee6(0x556)];break;case _0x30bee6(0x8b2):_0x5189e3[_0x30bee6(0x2f5)]=_0x1df38d[_0x30bee6(0x265)]('.correct-response-input')[_0x30bee6(0x556)];break;}_0x30667f['innerHTML']=_0x30bee6(0x174),_0x30667f[_0x30bee6(0x13f)]=!![];try{const _0x4e5737='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON[_0x30bee6(0x91e)](_0x5189e3)+_0x30bee6(0x8d0),_0x515d4a={'type':_0x30bee6(0x3e8),'properties':{'fixedData':{'type':_0x30bee6(0x3e8),'properties':{'question':{'type':_0x30bee6(0x2ec)},'options':{'type':_0x30bee6(0x64d),'items':{'type':_0x30bee6(0x2ec)}},'idealAnswer':{'type':_0x30bee6(0x2ec)},'correctResponse':{'type':_0x30bee6(0x2ec)}},'required':[_0x30bee6(0x96a)]}},'required':[_0x30bee6(0x5f9)]},_0xb8dd7d=await callAnalysisApi(_0x4e5737,_0x515d4a);if(_0xb8dd7d&&_0xb8dd7d[_0x30bee6(0x5f9)]){const _0x5d3957=_0xb8dd7d[_0x30bee6(0x5f9)];_0x1df38d[_0x30bee6(0x265)]('textarea')[_0x30bee6(0x556)]=_0x5d3957['question']||_0x5189e3[_0x30bee6(0x96a)];switch(_0x5f2fa1){case'multiple_choice':_0x5d3957['options']&&_0x5d3957['options']['length']>0x0&&_0x1df38d['querySelectorAll']('input[type=\x22text\x22]')[_0x30bee6(0x28e)]((_0x5072af,_0x18bf85)=>{const _0x7f1d04=_0x30bee6;_0x5072af[_0x7f1d04(0x556)]=_0x5d3957[_0x7f1d04(0x8bf)][_0x18bf85]||_0x5189e3[_0x7f1d04(0x8bf)][_0x18bf85];});break;case _0x30bee6(0x3e2):_0x1df38d[_0x30bee6(0x265)](_0x30bee6(0x609))[_0x30bee6(0x556)]=_0x5d3957['idealAnswer']||_0x5189e3['idealAnswer'];break;case _0x30bee6(0x8b2):_0x1df38d[_0x30bee6(0x265)](_0x30bee6(0xa06))[_0x30bee6(0x556)]=_0x5d3957[_0x30bee6(0x2f5)]||_0x5189e3[_0x30bee6(0x2f5)];break;}if(_0x5189e3['question']!==_0x5d3957[_0x30bee6(0x96a)])try{const _0x244352=collection(db,'artifacts/'+appId+_0x30bee6(0x9bf));await addDoc(_0x244352,{'broken':_0x5189e3[_0x30bee6(0x96a)],'fixed':_0x5d3957[_0x30bee6(0x96a)],'createdAt':serverTimestamp()});}catch(_0x35e63b){console[_0x30bee6(0xa1a)](_0x30bee6(0x4fc),_0x35e63b);}showMessage(_0x30bee6(0x5d3));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x528bf1){console[_0x30bee6(0xa1a)](_0x30bee6(0x877),_0x528bf1),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x30667f['innerHTML']=_0x30bee6(0x769),_0x30667f[_0x30bee6(0x13f)]=![];}}async function handleGenerateLessonPlan(_0x4ff519){const _0x5dbef5=_0x1c8731;showMessage(_0x5dbef5(0x70c));try{const _0x214172=doc(db,_0x5dbef5(0x804)+appId+'/public/data/quizzes',_0x4ff519),_0x2ced0b=await getDoc(_0x214172);if(!_0x2ced0b['exists']())throw new Error(_0x5dbef5(0x283));const _0x230a67={'id':_0x4ff519,..._0x2ced0b[_0x5dbef5(0x4ff)]()},_0x590d01=collection(db,_0x5dbef5(0x804)+appId+'/public/data/quizzes',_0x4ff519,_0x5dbef5(0x751)),_0xf5ca8b=await getDocs(_0x590d01),_0x644bed=_0xf5ca8b[_0x5dbef5(0x1c5)][_0x5dbef5(0x429)](_0x56c5b0=>_0x56c5b0[_0x5dbef5(0x4ff)]());if(_0x644bed[_0x5dbef5(0x51f)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x42feec=calculateItemAnalysis(_0x230a67,_0x644bed)[_0x5dbef5(0x494)],_0x523fb0=calculateDistractorAnalysis(_0x230a67,_0x644bed),_0x569847=_0x1bcc4f=>{const _0x2cf179=_0x5dbef5;if(!_0x1bcc4f)return'';return _0x1bcc4f[_0x2cf179(0x54e)](/\\/g,'\x5c\x5c')[_0x2cf179(0x54e)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x111a0a='สรุปผลการวิเคราะห์:\x5cn';_0x230a67[_0x5dbef5(0x619)]['forEach']((_0x4e9993,_0x1ec413)=>{const _0x314aa6=_0x5dbef5,_0x43a9f3=_0x42feec[_0x1ec413]?.['p'][_0x314aa6(0x3f1)](0x2)||_0x314aa6(0x808),_0x2ec114=_0x42feec[_0x1ec413]?.['r'][_0x314aa6(0x3f1)](0x2)||'N/A',_0x51a95d=_0x569847(_0x4e9993['questionText']||_0x4e9993[_0x314aa6(0x332)]);_0x111a0a+=_0x314aa6(0x24c)+(_0x1ec413+0x1)+_0x314aa6(0x357)+_0x43a9f3+',\x20r='+_0x2ec114+_0x314aa6(0x1af)+_0x51a95d+'\x5cn';if(_0x4e9993[_0x314aa6(0x173)]===_0x314aa6(0x9f3)&&_0x523fb0[_0x1ec413]){const _0xaeafff=_0x523fb0[_0x1ec413],_0x130674=Object['keys'](_0xaeafff)[_0x314aa6(0x29a)](_0x5c9011=>parseInt(_0x5c9011)!==_0x4e9993[_0x314aa6(0x587)])[_0x314aa6(0x3a9)]((_0x19378,_0x73b340)=>_0xaeafff[_0x73b340][_0x314aa6(0x312)]-_0xaeafff[_0x19378][_0x314aa6(0x312)])[0x0];if(_0x130674&&_0xaeafff[_0x130674][_0x314aa6(0x312)]>0x0){const _0x307e2e=_0x569847(_0xaeafff[_0x130674][_0x314aa6(0x45d)]);_0x111a0a+=_0x314aa6(0x99c)+_0x307e2e+'\x22\x5cn';}}});const _0x48bb3f=_0x5dbef5(0x8e6)+_0x230a67[_0x5dbef5(0x39a)]+_0x5dbef5(0x295)+_0x111a0a+_0x5dbef5(0x995),_0x4c4e25={'type':_0x5dbef5(0x3e8),'properties':{'learningGaps':{'type':_0x5dbef5(0x64d),'items':{'type':_0x5dbef5(0x2ec)}},'teachingContent':{'type':_0x5dbef5(0x2ec)},'practiceProblems':{'type':_0x5dbef5(0x64d),'items':{'type':'OBJECT','properties':{'question':{'type':_0x5dbef5(0x2ec)},'solution':{'type':_0x5dbef5(0x2ec)}}}}},'required':[_0x5dbef5(0x595),_0x5dbef5(0x91a),_0x5dbef5(0x953)]},_0x8594aa=await callAnalysisApi(_0x48bb3f,_0x4c4e25);await updateDoc(_0x214172,{'lessonPlan':_0x8594aa});const _0x59e313=_0x5dbef5(0x7c0)+_0x230a67[_0x5dbef5(0x39a)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x8594aa[_0x5dbef5(0x595)][_0x5dbef5(0x429)](_0x348045=>'<li>'+_0x348045+_0x5dbef5(0x2b1))['join']('')+_0x5dbef5(0x142)+_0x8594aa[_0x5dbef5(0x91a)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x8594aa[_0x5dbef5(0x953)][_0x5dbef5(0x429)](_0x465f97=>_0x5dbef5(0x105)+_0x465f97[_0x5dbef5(0x96a)]+_0x5dbef5(0x6ce)+_0x465f97[_0x5dbef5(0x83c)]+'</p></div>')['join']('')+_0x5dbef5(0x370);document[_0x5dbef5(0x2a0)](_0x5dbef5(0x129))[_0x5dbef5(0x531)]=_0x5dbef5(0x221)+_0x230a67['topic'],document[_0x5dbef5(0x2a0)]('lesson-plan-content')[_0x5dbef5(0x42b)]=_0x59e313,document[_0x5dbef5(0x2a0)](_0x5dbef5(0x34e))[_0x5dbef5(0x914)][_0x5dbef5(0x278)](_0x5dbef5(0x674));if(window[_0x5dbef5(0x651)])MathJax[_0x5dbef5(0x626)]();messageModal[_0x5dbef5(0x914)][_0x5dbef5(0x6bb)]('hidden');}catch(_0x242ad1){console[_0x5dbef5(0xa1a)](_0x5dbef5(0x204),_0x242ad1),showMessage('เกิดข้อผิดพลาด:\x20'+_0x242ad1[_0x5dbef5(0x285)]);}}async function handleDuplicateQuiz(_0x8bd7e){const _0x14f1f3=_0x1c8731;try{const _0x3014ca=doc(db,_0x14f1f3(0x804)+appId+'/public/data/quizzes',_0x8bd7e),_0x40c0ad=await getDoc(_0x3014ca);if(_0x40c0ad[_0x14f1f3(0x512)]()){const _0xb55759=_0x40c0ad[_0x14f1f3(0x4ff)]();let _0x1dad72='',_0xe75961=_0x14f1f3(0x248),_0x19503b=null;if(_0xb55759[_0x14f1f3(0x8c6)]==='pre-test'){let _0x88ae63=_0xb55759[_0x14f1f3(0x39a)][_0x14f1f3(0x54e)]('(ก่อนเรียน)','')[_0x14f1f3(0x611)]();_0x1dad72='(หลังเรียน)\x20'+_0x88ae63,_0xe75961=_0x14f1f3(0x901),_0x19503b=_0x8bd7e;}else _0x1dad72=_0x14f1f3(0x96e)+_0xb55759[_0x14f1f3(0x39a)];const _0x56f339={..._0xb55759,'topic':_0x1dad72,'createdAt':new Date()[_0x14f1f3(0x880)](),'quizMode':_0xe75961,'pairedQuizId':_0x19503b};let _0x4ab0c2;while(!![]){_0x4ab0c2=Math[_0x14f1f3(0x665)](0x3e8+Math[_0x14f1f3(0x327)]()*0x2328)['toString']();const _0x10c78f=await getDoc(doc(db,_0x14f1f3(0x804)+appId+_0x14f1f3(0x60f),_0x4ab0c2));if(!_0x10c78f[_0x14f1f3(0x512)]())break;}const _0x59dcbe=doc(db,_0x14f1f3(0x804)+appId+_0x14f1f3(0x60f),_0x4ab0c2);await setDoc(_0x59dcbe,_0x56f339),_0x56f339[_0x14f1f3(0x8c6)]===_0x14f1f3(0x901)&&await updateDoc(_0x3014ca,{'pairedQuizId':_0x4ab0c2}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x14f1f3(0x94f));}catch(_0x134457){console['error']('Error\x20duplicating\x20quiz:',_0x134457),showMessage(_0x14f1f3(0x31e));}}async function handleDeleteQuiz(_0x152733,_0x51524a=!![]){const _0x146eaa=_0x1c8731;try{const _0x2db366=writeBatch(db),_0x3b5a57=collection(db,_0x146eaa(0x804)+appId+_0x146eaa(0x39f)+_0x152733+'/submissions'),_0x2560d5=await getDocs(_0x3b5a57);_0x2560d5[_0x146eaa(0x28e)](_0x2a3c9d=>{const _0x466fb2=_0x146eaa;_0x2db366[_0x466fb2(0x389)](doc(_0x3b5a57,_0x2a3c9d['id']));});const _0x12ef1b=doc(db,_0x146eaa(0x804)+appId+_0x146eaa(0x60f),_0x152733);_0x2db366['delete'](_0x12ef1b),await _0x2db366['commit'](),_0x51524a&&showMessage(_0x146eaa(0x6dd));}catch(_0x308195){console['error'](_0x146eaa(0x7e8),_0x308195),_0x51524a&&showMessage(_0x146eaa(0x2e5));}}async function showQuizDetailView(_0x8019c8){const _0x12a8cc=_0x1c8731;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x1e51d8=doc(db,_0x12a8cc(0x804)+appId+_0x12a8cc(0x60f),_0x8019c8),_0x345c5f=await getDoc(_0x1e51d8);if(!_0x345c5f[_0x12a8cc(0x512)]()){showMessage(_0x12a8cc(0x283));return;}const _0x301624={'id':_0x345c5f['id'],..._0x345c5f[_0x12a8cc(0x4ff)]()};currentQuizData=_0x301624;const _0x456cb0=doc(db,'artifacts/'+appId+'/public/data/projects',_0x301624[_0x12a8cc(0x6fd)]),_0x4223b9=await getDoc(_0x456cb0);_0x4223b9['exists']()?(currentProjectData=_0x4223b9[_0x12a8cc(0x4ff)](),currentProjectId=_0x301624[_0x12a8cc(0x6fd)]):(currentProjectData={'students':[]},currentProjectId=_0x301624[_0x12a8cc(0x6fd)]);document[_0x12a8cc(0x2a0)](_0x12a8cc(0x694))[_0x12a8cc(0x531)]=_0x301624[_0x12a8cc(0x39a)],document['getElementById'](_0x12a8cc(0x6d6))[_0x12a8cc(0x531)]=_0x8019c8;const _0x904379=collection(db,_0x12a8cc(0x804)+appId+_0x12a8cc(0x60f),_0x8019c8,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x904379,_0x1ba3d2=>{const _0x4e6ce7=_0x12a8cc,_0x56ac0a=_0x1ba3d2['docs'][_0x4e6ce7(0x429)](_0x353667=>({'id':_0x353667['id'],..._0x353667['data']()}));currentSubmissions=_0x56ac0a;const _0x52c83c=_0x56ac0a['filter'](_0xd8bef2=>_0xd8bef2[_0x4e6ce7(0x245)]&&_0xd8bef2[_0x4e6ce7(0x245)]['length']>0x0);renderBehaviorLog(_0x56ac0a),renderAnswerGrid(currentProjectData['students'],_0x52c83c,_0x301624),renderAnalytics(_0x301624,_0x52c83c),renderQuizResultsTable(currentProjectData['students'],_0x56ac0a,_0x301624),renderQuizLeaderboard(_0x52c83c,_0x301624,_0x4e6ce7(0x182));}),showView(_0x12a8cc(0x251));}catch(_0x4cae2f){console[_0x12a8cc(0xa1a)](_0x12a8cc(0x888),_0x4cae2f),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x49e3ee,_0x37f38f,_0x27d61c){const _0x2ca797=_0x1c8731,_0x573239=document[_0x2ca797(0x2a0)](_0x2ca797(0x2e8));if(!_0x573239)return;if(!_0x49e3ee||_0x49e3ee['length']===0x0){_0x573239['innerHTML']=_0x2ca797(0x5af);return;}const _0x5b6380=_0x27d61c[_0x2ca797(0x619)],_0x17a618=_0x37f38f[_0x2ca797(0x650)]((_0x419238,_0xa40829)=>{const _0x24ad54=_0x2ca797;return _0x419238[_0xa40829[_0x24ad54(0x5b8)]]=_0xa40829,_0x419238;},{}),_0x53f09e=_0x2738bd=>String[_0x2ca797(0x3eb)](0x41+_0x2738bd),_0x53e6b8=_0x13c47d=>{const _0x1ab099=_0x2ca797,_0x6ca4b9=_0x13c47d[_0x1ab099(0x173)]||_0x27d61c['quizType'];switch(_0x6ca4b9){case _0x1ab099(0x9f3):return _0x13c47d[_0x1ab099(0x8bf)]&&_0x13c47d[_0x1ab099(0x8bf)][_0x1ab099(0x51f)]>_0x13c47d[_0x1ab099(0x587)]?_0x53f09e(_0x13c47d[_0x1ab099(0x587)]):'-';case _0x1ab099(0x19b):const _0x1552ce=_0x13c47d[_0x1ab099(0x701)]===!![]||String(_0x13c47d[_0x1ab099(0x701)])[_0x1ab099(0x263)]()===_0x1ab099(0x2f6);return _0x1552ce?_0x1ab099(0x3c6):'ไม่ใช่';case _0x1ab099(0x8b2):return _0x13c47d[_0x1ab099(0x2f5)]||'-';case _0x1ab099(0x3e2):return _0x1ab099(0x7a0);default:return'-';}},_0x289029=(_0x37c381,_0x40ab96)=>{const _0x329898=_0x2ca797;if(_0x40ab96[_0x329898(0x721)]===null||_0x40ab96[_0x329898(0x721)]===undefined)return'-';const _0x10959c=_0x37c381[_0x329898(0x173)]||_0x27d61c[_0x329898(0x13d)];switch(_0x10959c){case'multiple_choice':const _0x3f526f=_0x37c381['options'][_0x329898(0x1f6)](_0x11e3ce=>_0x11e3ce===_0x40ab96[_0x329898(0x83d)]);return _0x3f526f!==-0x1?_0x53f09e(_0x3f526f):_0x40ab96[_0x329898(0x83d)]||'-';case _0x329898(0x19b):if(_0x40ab96['answer']=='0'||_0x40ab96[_0x329898(0x721)]===!![]||_0x40ab96[_0x329898(0x721)]===_0x329898(0x2f6))return _0x329898(0x3c6);return _0x329898(0xee);default:return _0x40ab96['answer'];}};let _0x622368=_0x2ca797(0x889)+_0x5b6380[_0x2ca797(0x429)]((_0x5c1ec6,_0x43a4b6)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x43a4b6+0x1)+_0x2ca797(0x318))[_0x2ca797(0x795)]('')+_0x2ca797(0x127)+_0x5b6380['map'](_0x56dc10=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x53e6b8(_0x56dc10)+_0x2ca797(0x51a))[_0x2ca797(0x795)]('')+_0x2ca797(0x73e);_0x49e3ee['forEach'](_0x3a7daa=>{const _0x51152a=_0x2ca797;_0x622368+=_0x51152a(0x259),_0x622368+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x3a7daa+_0x51152a(0x51a);const _0x2fefa0=_0x17a618[_0x3a7daa];if(_0x2fefa0){const _0x54d9f8=_0x2fefa0['attempts'][_0x2fefa0[_0x51152a(0x245)][_0x51152a(0x51f)]-0x1];_0x5b6380[_0x51152a(0x28e)]((_0x317dbc,_0x5900dc)=>{const _0x580e0e=_0x51152a,_0x34ea99=_0x54d9f8[_0x580e0e(0x2ab)][_0x580e0e(0x216)](_0x1d0811=>_0x1d0811[_0x580e0e(0x1c7)]===_0x317dbc['id']);if(_0x34ea99){let _0x30a77a='';const _0x5cfb93=_0x34ea99[_0x580e0e(0x69b)]===!![],_0xc00c74=_0x34ea99['wasConfident']===!![]||_0x34ea99[_0x580e0e(0x627)]===_0x580e0e(0x15f);_0xc00c74?_0x30a77a=_0x5cfb93?'bg-green-400\x20text-white\x20font-bold':_0x580e0e(0x481):_0x30a77a=_0x5cfb93?_0x580e0e(0x195):'bg-red-100',_0x622368+=_0x580e0e(0x456)+_0x30a77a+'\x22>'+_0x289029(_0x317dbc,_0x34ea99)+_0x580e0e(0x51a);}else _0x622368+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x622368+=_0x5b6380[_0x51152a(0x429)](()=>_0x51152a(0x545))['join']('');_0x622368+=_0x51152a(0x8f3);}),_0x622368+=_0x2ca797(0x241),_0x573239['innerHTML']=_0x622368;}function renderQuizResultsTable(_0x2c13bd,_0x4ce0b4,_0x234f5e){const _0x132e0e=_0x1c8731,_0x5d9a1e=_0x4ce0b4[_0x132e0e(0x650)]((_0x3b01ce,_0x5e4974)=>{const _0x764091=_0x132e0e;return _0x3b01ce[_0x5e4974[_0x764091(0x5b8)]]=_0x5e4974,_0x3b01ce;},{}),_0x507481=document['querySelector'](_0x132e0e(0x511));_0x507481&&!_0x507481[_0x132e0e(0x42b)]['includes']('จัดการ')&&(_0x507481[_0x132e0e(0x42b)]+=_0x132e0e(0x852));const _0x108b17=document['getElementById'](_0x132e0e(0x189));if(!_0x2c13bd||_0x2c13bd[_0x132e0e(0x51f)]===0x0){_0x108b17[_0x132e0e(0x42b)]=_0x132e0e(0x52a);return;}const _0xe6a17b=_0x234f5e[_0x132e0e(0x7d7)]===!![],_0x1fb4df=_0x234f5e[_0x132e0e(0x141)]?.['passingScore']??-0x1;let _0x14db9c='';_0x2c13bd['forEach'](_0x3cd0a8=>{const _0x147cff=_0x132e0e,_0x5d4919=_0x5d9a1e[_0x3cd0a8];let _0x5d3b93=_0x147cff(0x4dc)+(_0xe6a17b?_0x147cff(0x5fa):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0xe6a17b?'สอบซ่อม':_0x147cff(0x352))+'</span></td>';if(_0x5d4919){if(_0x5d4919[_0x147cff(0x245)]&&_0x5d4919[_0x147cff(0x245)][_0x147cff(0x51f)]>0x0){let _0xa9bf39=_0xe6a17b?_0x5d4919[_0x147cff(0x7c1)]===_0x5d4919[_0x147cff(0xa2a)]:_0x1fb4df!==-0x1&&_0x5d4919[_0x147cff(0x7c1)]>=_0x1fb4df;const _0x5f16f3=_0xa9bf39?_0x147cff(0x684):_0x147cff(0x148),_0x140394=_0xa9bf39?_0x147cff(0xb0):_0x147cff(0xa0f),_0x5c3ff7='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x5f16f3+'\x22>'+_0x140394+'</span></td>',_0x3d116a='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x5d4919[_0x147cff(0x245)]?.[_0x147cff(0x51f)]||0x1)+_0x147cff(0x899);_0x14db9c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x3cd0a8+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x5d4919['bestScore']+_0x147cff(0x83e)+_0x5d4919['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c3ff7+_0x147cff(0x374)+_0x5d3b93+_0x147cff(0x205)+_0x5d4919[_0x147cff(0x3ba)]+_0x147cff(0x83e)+_0x5d4919[_0x147cff(0xa2a)]+_0x147cff(0x4c1)+_0x5d4919[_0x147cff(0x131)]+'\x20/\x20'+_0x5d4919[_0x147cff(0xa2a)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x5d4919['points']||0x0)+_0x147cff(0x998)+_0x3d116a+_0x147cff(0x44b)+new Date(_0x5d4919['latestSubmittedAt'])[_0x147cff(0x11a)](_0x147cff(0x3c9))+_0x147cff(0x25b)+_0x3cd0a8+_0x147cff(0x2fd);}else{const _0x4b582f=_0x147cff(0x6be);_0x14db9c+=_0x147cff(0x5d7)+_0x3cd0a8+_0x147cff(0xb3)+_0x5d3b93+_0x147cff(0x75a)+_0x4b582f+_0x147cff(0x44b)+new Date(_0x5d4919[_0x147cff(0x964)])[_0x147cff(0x11a)]('th-TH')+_0x147cff(0x7b9)+_0x3cd0a8+_0x147cff(0x2fd);}}else{const _0x12d329=_0x147cff(0x859);_0x14db9c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x3cd0a8+_0x147cff(0x980)+_0x5d3b93+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12d329+_0x147cff(0x84b);}}),_0x108b17['innerHTML']=_0x14db9c;}async function confirmRenameQuiz(){const _0x1bc653=_0x1c8731,_0x4e912b=document[_0x1bc653(0x2a0)](_0x1bc653(0x88c))[_0x1bc653(0x556)][_0x1bc653(0x611)]();if(!_0x4e912b){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x1440ac=doc(db,_0x1bc653(0x804)+appId+_0x1bc653(0x60f),actionTargetId);try{await updateDoc(_0x1440ac,{'topic':_0x4e912b}),showMessage(_0x1bc653(0x1a8)),renameQuizModal['classList'][_0x1bc653(0x6bb)](_0x1bc653(0x674)),actionTargetId=null;}catch(_0x1b2786){console[_0x1bc653(0xa1a)](_0x1bc653(0x151),_0x1b2786),showMessage(_0x1bc653(0x71d));}}async function handleMoveQuiz(_0x2e7bdb){const _0x4f7d0d=_0x1c8731;actionTargetId=_0x2e7bdb;const _0x426b65=document[_0x4f7d0d(0x2a0)](_0x4f7d0d(0x9af));_0x426b65['innerHTML']='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x4f7d0d(0x914)][_0x4f7d0d(0x278)](_0x4f7d0d(0x674));try{const _0x1d82a6=collection(db,'artifacts/'+appId+_0x4f7d0d(0x973)),_0x415399=await getDocs(_0x1d82a6),_0x251ca9=_0x415399[_0x4f7d0d(0x1c5)]['map'](_0xabcb85=>({'id':_0xabcb85['id'],..._0xabcb85[_0x4f7d0d(0x4ff)]()})),_0xfe92b=_0x251ca9[_0x4f7d0d(0x29a)](_0x499b6b=>_0x499b6b['id']!==currentProjectId);if(_0xfe92b['length']===0x0){_0x426b65[_0x4f7d0d(0x42b)]=_0x4f7d0d(0x3ea),document[_0x4f7d0d(0x2a0)](_0x4f7d0d(0x4d9))[_0x4f7d0d(0x13f)]=!![];return;}_0x426b65[_0x4f7d0d(0x42b)]=_0xfe92b[_0x4f7d0d(0x429)](_0x744daa=>_0x4f7d0d(0x708)+_0x744daa['id']+'\x22>'+_0x744daa[_0x4f7d0d(0x738)]+_0x4f7d0d(0x5ea))['join'](''),document['getElementById']('confirm-move-quiz-btn')[_0x4f7d0d(0x13f)]=![];}catch(_0x43cb6d){console[_0x4f7d0d(0xa1a)](_0x4f7d0d(0xdc),_0x43cb6d),showMessage(_0x4f7d0d(0x4ed)),moveQuizModal[_0x4f7d0d(0x914)][_0x4f7d0d(0x6bb)](_0x4f7d0d(0x674));}}async function confirmMoveQuiz(){const _0x1343f1=_0x1c8731,_0x309261=document[_0x1343f1(0x2a0)](_0x1343f1(0x9af))['value'];if(!_0x309261){showMessage(_0x1343f1(0x22d));return;}if(!actionTargetId)return;const _0x4433ce=doc(db,'artifacts/'+appId+_0x1343f1(0x60f),actionTargetId);try{await updateDoc(_0x4433ce,{'projectId':_0x309261}),showMessage(_0x1343f1(0x236)),moveQuizModal['classList'][_0x1343f1(0x6bb)](_0x1343f1(0x674)),actionTargetId=null;}catch(_0x17aa08){console[_0x1343f1(0xa1a)](_0x1343f1(0x459),_0x17aa08),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x5096ea){const _0x57e1d7=_0x1c8731;actionTargetId=_0x5096ea;const _0x4d200f=doc(db,_0x57e1d7(0x804)+appId+'/public/data/quizzes',_0x5096ea);try{const _0x5d5b99=await getDoc(_0x4d200f);if(_0x5d5b99[_0x57e1d7(0x512)]()){const _0x94585e=_0x5d5b99['data'](),_0x3d9b30=_0x94585e[_0x57e1d7(0x141)]||{},_0x5a1d16=_0x94585e[_0x57e1d7(0x619)]['length'];document[_0x57e1d7(0x2a0)](_0x57e1d7(0x6e5))[_0x57e1d7(0x556)]=_0x3d9b30[_0x57e1d7(0x75f)]||_0x57e1d7(0x7bb),document['getElementById'](_0x57e1d7(0x2c2))[_0x57e1d7(0x556)]=_0x3d9b30['resultsDisplay']||_0x57e1d7(0x347),document['getElementById'](_0x57e1d7(0x966))[_0x57e1d7(0x556)]=_0x3d9b30[_0x57e1d7(0x2ea)]||_0x57e1d7(0x7bb),document[_0x57e1d7(0x2a0)](_0x57e1d7(0x4b1))['value']=_0x3d9b30[_0x57e1d7(0x19d)]||0xa,document[_0x57e1d7(0x2a0)](_0x57e1d7(0xb4))[_0x57e1d7(0x556)]=_0x3d9b30['passingScore']||Math['floor'](_0x5a1d16/0x2),document[_0x57e1d7(0x2a0)]('modal-passing-score-input')[_0x57e1d7(0x7e7)]=_0x5a1d16,document[_0x57e1d7(0x2a0)]('modal-adaptive-quiz-checkbox')[_0x57e1d7(0x5ff)]=_0x3d9b30[_0x57e1d7(0x636)]||![],document[_0x57e1d7(0x2a0)](_0x57e1d7(0x774))[_0x57e1d7(0x5ff)]=_0x3d9b30[_0x57e1d7(0x2b0)]||![];const _0x3ba85c=_0x3d9b30[_0x57e1d7(0x110)]||![];document['getElementById'](_0x57e1d7(0x60d))['checked']=_0x3ba85c,document['getElementById']('modal-confidence-mode-select')[_0x57e1d7(0x556)]=_0x3d9b30['confidenceMode']||_0x57e1d7(0x1a4);const _0x1ee6f3=document[_0x57e1d7(0x2a0)](_0x57e1d7(0x9e8));_0x1ee6f3[_0x57e1d7(0x914)]['toggle'](_0x57e1d7(0x674),!_0x3ba85c),document['getElementById'](_0x57e1d7(0x966))[_0x57e1d7(0x441)](new Event(_0x57e1d7(0x6c5))),quizSettingsModal[_0x57e1d7(0x914)][_0x57e1d7(0x278)]('hidden');}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x2dede5){console[_0x57e1d7(0xa1a)](_0x57e1d7(0x711),_0x2dede5),showMessage(_0x57e1d7(0x785));}}async function confirmQuizSettings(){const _0x266144=_0x1c8731;if(!actionTargetId)return;const _0x11c089=doc(db,'artifacts/'+appId+_0x266144(0x60f),actionTargetId),_0x2b775d={'shuffle':document[_0x266144(0x2a0)](_0x266144(0x6e5))[_0x266144(0x556)],'resultsDisplay':document[_0x266144(0x2a0)](_0x266144(0x2c2))['value'],'timerMode':document[_0x266144(0x2a0)]('modal-timer-mode-select')['value'],'timerDuration':parseInt(document['getElementById'](_0x266144(0x4b1))[_0x266144(0x556)])||0xa,'passingScore':parseInt(document[_0x266144(0x2a0)](_0x266144(0xb4))[_0x266144(0x556)])||0x0,'isAdaptive':document[_0x266144(0x2a0)](_0x266144(0x64c))[_0x266144(0x5ff)],'loopUntilPass':document[_0x266144(0x2a0)]('modal-loop-until-pass-checkbox')[_0x266144(0x5ff)],'isConfidenceScoringEnabled':document[_0x266144(0x2a0)]('modal-confidence-scoring-checkbox')[_0x266144(0x5ff)],'confidenceMode':document[_0x266144(0x2a0)](_0x266144(0x829))['value']};try{await updateDoc(_0x11c089,{'settings':_0x2b775d}),showMessage(_0x266144(0x3e9)),quizSettingsModal[_0x266144(0x914)][_0x266144(0x6bb)](_0x266144(0x674)),actionTargetId=null;}catch(_0x32d1a5){console[_0x266144(0xa1a)](_0x266144(0x2e7),_0x32d1a5),showMessage(_0x266144(0x501));}}async function confirmQuizStatus(){const _0x373d61=_0x1c8731;if(!actionTargetId)return;const _0x5dea07=doc(db,_0x373d61(0x804)+appId+'/public/data/quizzes',actionTargetId),_0x20dc50=document[_0x373d61(0x265)]('input[name=\x22status-option\x22]:checked');if(!_0x20dc50){showMessage(_0x373d61(0x5a6));return;}const _0xf8ff86=_0x20dc50[_0x373d61(0x556)];let _0x1a88f9={};if(_0xf8ff86===_0x373d61(0x3fd)||_0xf8ff86==='inactive')_0x1a88f9={'status':_0xf8ff86,'startTime':null,'endTime':null};else{if(_0xf8ff86===_0x373d61(0x44f)){const _0x39a07e=document[_0x373d61(0x2a0)](_0x373d61(0x47f))[_0x373d61(0x556)],_0x1ee725=document[_0x373d61(0x2a0)]('quiz-end-time')[_0x373d61(0x556)];if(!_0x39a07e&&!_0x1ee725){showMessage(_0x373d61(0xa15));return;}_0x1a88f9={'status':_0x373d61(0x790),'startTime':_0x39a07e?new Date(_0x39a07e)[_0x373d61(0x880)]():null,'endTime':_0x1ee725?new Date(_0x1ee725)[_0x373d61(0x880)]():null};}}try{await updateDoc(_0x5dea07,_0x1a88f9),showMessage(_0x373d61(0x843)),quizStatusModal['classList'][_0x373d61(0x6bb)]('hidden'),actionTargetId=null;}catch(_0x294b8e){console['error'](_0x373d61(0x772),_0x294b8e),showMessage(_0x373d61(0x260));}}function listenForStudentProfiles(_0x161edf){const _0x13f09d=_0x1c8731,_0x2e614f=collection(db,_0x13f09d(0x804)+appId+_0x13f09d(0x764)+_0x161edf+_0x13f09d(0x6c9));unsubscribeStudentProfilesListener=onSnapshot(_0x2e614f,_0x25871f=>{const _0x3aafee=_0x13f09d,_0x18f925=_0x25871f[_0x3aafee(0x1c5)][_0x3aafee(0x429)](_0x309b26=>_0x309b26['data']());renderLeaderboard(_0x18f925,'leaderboard-table-body');},_0x19a297=>{const _0x1db3ff=_0x13f09d;console['error']('Error\x20listening\x20for\x20student\x20profiles:',_0x19a297),document[_0x1db3ff(0x2a0)](_0x1db3ff(0x931))[_0x1db3ff(0x42b)]=_0x1db3ff(0x900);});}function renderLeaderboard(_0xfebcd7,_0x386e06){const _0x476865=_0x1c8731,_0x898740=document[_0x476865(0x2a0)](_0x386e06);if(!_0xfebcd7||_0xfebcd7[_0x476865(0x51f)]===0x0){_0x898740['innerHTML']=_0x476865(0x426);return;}_0xfebcd7[_0x476865(0x3a9)]((_0x34cb33,_0x7a568a)=>{const _0x25732c=_0x476865,_0x2b0f53=(_0x7a568a['totalPoints']||0x0)-(_0x34cb33['totalPoints']||0x0);if(_0x2b0f53!==0x0)return _0x2b0f53;const _0x5c6fed=(_0x7a568a[_0x25732c(0x606)]?.[_0x25732c(0x304)]||0x0)-(_0x34cb33['badgesCount']?.[_0x25732c(0x304)]||0x0);if(_0x5c6fed!==0x0)return _0x5c6fed;const _0x96b4d6=(_0x7a568a['badgesCount']?.['first_try_ace']||0x0)-(_0x34cb33[_0x25732c(0x606)]?.[_0x25732c(0x298)]||0x0);if(_0x96b4d6!==0x0)return _0x96b4d6;const _0x2c7562=(_0x7a568a[_0x25732c(0x606)]?.[_0x25732c(0x941)]||0x0)-(_0x34cb33[_0x25732c(0x606)]?.[_0x25732c(0x941)]||0x0);if(_0x2c7562!==0x0)return _0x2c7562;const _0xae3d9a=(_0x7a568a[_0x25732c(0x606)]?.[_0x25732c(0x784)]||0x0)-(_0x34cb33[_0x25732c(0x606)]?.[_0x25732c(0x784)]||0x0);if(_0xae3d9a!==0x0)return _0xae3d9a;return _0x34cb33[_0x25732c(0x5b8)]['localeCompare'](_0x7a568a['studentName'],'th');});let _0x594b54='';_0xfebcd7[_0x476865(0x28e)]((_0x1033b4,_0x450b4a)=>{const _0x31ccc8=_0x476865,_0x4d9a7e=_0x450b4a+0x1,_0x88a4a4=_0x1033b4['badgesCount']||{};let _0xfc8ac='';const _0x495e0a=[_0x31ccc8(0x304),_0x31ccc8(0x941),_0x31ccc8(0x298),_0x31ccc8(0x784)];_0x495e0a[_0x31ccc8(0x28e)](_0x59b896=>{const _0x355481=_0x31ccc8;if(_0x88a4a4[_0x59b896]>0x0){const _0xf0d16a=Object[_0x355481(0x390)](BADGES)['find'](_0x107050=>_0x107050['id']===_0x59b896);_0xf0d16a&&(_0x59b896===_0x355481(0x304)?_0xfc8ac+=_0x355481(0x87d)+_0xf0d16a[_0x355481(0x3d6)]+_0x355481(0x4a5)+_0xf0d16a[_0x355481(0x6ae)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0xfc8ac+=_0x355481(0x87d)+_0xf0d16a[_0x355481(0x3d6)]+'\x20('+_0x88a4a4[_0x59b896]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0xf0d16a[_0x355481(0x6ae)]+_0x355481(0x176)+_0x88a4a4[_0x59b896]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x594b54+=_0x31ccc8(0x78c)+_0x4d9a7e+_0x31ccc8(0x57f)+_0x1033b4[_0x31ccc8(0x5b8)]+_0x31ccc8(0x7a1)+(_0x1033b4[_0x31ccc8(0x643)]||0x0)+_0x31ccc8(0x57f)+(_0xfc8ac||'-')+_0x31ccc8(0x579);}),_0x898740[_0x476865(0x42b)]=_0x594b54;}function displayLoopScreen(_0x9d7ff5,_0x25ae99,_0x1a4ad4){const _0xade9a5=_0x1c8731;let _0x548708='';_0x1a4ad4!==_0xade9a5(0x6bf)&&(_0x548708='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x9d7ff5+_0xade9a5(0x83e)+_0x25ae99+_0xade9a5(0x5cf));const _0x4f0b62='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x548708+_0xade9a5(0x2de);studentResultArea[_0xade9a5(0x42b)]=_0x4f0b62,studentResultArea[_0xade9a5(0x914)][_0xade9a5(0x278)](_0xade9a5(0x674)),studentQuizArea[_0xade9a5(0x914)]['add'](_0xade9a5(0x674)),document[_0xade9a5(0x2a0)]('retake-quiz-loop-btn')[_0xade9a5(0x2aa)](_0xade9a5(0x8a5),()=>{const _0xc7d56=_0xade9a5;studentResultArea[_0xc7d56(0x914)]['add'](_0xc7d56(0x674)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x33126c,_0x1c3af5,_0x436048){const _0x1b2e13=_0x1c8731,_0x5aeff4=document[_0x1b2e13(0x2a0)](_0x436048),_0x5ba30d=_0x436048===_0x1b2e13(0x768),_0x29b4d1=_0x1c3af5['questions']['length'],_0x294343=document['getElementById'](_0x436048)['closest'](_0x1b2e13(0x39e));if(_0x294343&&!_0x5ba30d){const _0x178119=_0x294343[_0x1b2e13(0x265)](_0x1b2e13(0x450));_0x178119[_0x1b2e13(0x42b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x33126c||_0x33126c[_0x1b2e13(0x51f)]===0x0){_0x5aeff4[_0x1b2e13(0x42b)]=_0x1b2e13(0x6fc)+(_0x5ba30d?0x6:0x8)+_0x1b2e13(0x96b);return;}const _0x109809=[..._0x33126c];_0x109809[_0x1b2e13(0x3a9)]((_0x373170,_0x12379a)=>{const _0x3a5785=_0x1b2e13;let _0x564221,_0x45bf44;switch(quizLeaderboardSortBy){case _0x3a5785(0x5b8):_0x564221=_0x373170['studentName']||'',_0x45bf44=_0x12379a[_0x3a5785(0x5b8)]||'';return quizLeaderboardSortOrder==='asc'?_0x564221['localeCompare'](_0x45bf44,'th'):_0x45bf44[_0x3a5785(0x692)](_0x564221,'th');case _0x3a5785(0x681):_0x564221=_0x373170[_0x3a5785(0x681)]||0x0,_0x45bf44=_0x12379a[_0x3a5785(0x681)]||0x0;break;case'attempts':_0x564221=_0x373170['attempts']?.['length']||0x1,_0x45bf44=_0x12379a[_0x3a5785(0x245)]?.[_0x3a5785(0x51f)]||0x1;break;case _0x3a5785(0x437):_0x564221=new Date(_0x373170[_0x3a5785(0x437)]),_0x45bf44=new Date(_0x12379a['latestSubmittedAt']);break;case'bestScore':default:_0x564221=_0x373170[_0x3a5785(0x7c1)],_0x45bf44=_0x12379a['bestScore'];break;}if(_0x564221<_0x45bf44)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x564221>_0x45bf44)return quizLeaderboardSortOrder===_0x3a5785(0xaa)?0x1:-0x1;return 0x0;});const _0x2dceee=_0x1c3af5[_0x1b2e13(0x7d7)]===!![],_0x6bf7b9=_0x1c3af5[_0x1b2e13(0x141)]?.[_0x1b2e13(0x4e9)]??-0x1;let _0x3117a2='';_0x109809['forEach']((_0x2f95ef,_0x1e3ab7)=>{const _0x4eead4=_0x1b2e13,_0x5b5487=_0x1e3ab7+0x1;let _0x5e8f9d=_0x4eead4(0x7c6);if(_0x2dceee||_0x6bf7b9!==-0x1){let _0x186de8=_0x2dceee?_0x2f95ef[_0x4eead4(0x7c1)]===_0x29b4d1:_0x2f95ef['bestScore']>=_0x6bf7b9;const _0x9865d4=_0x186de8?_0x4eead4(0x684):'bg-red-100\x20text-red-800',_0x553c47=_0x186de8?_0x4eead4(0xb0):_0x4eead4(0xa0f);_0x5e8f9d=_0x4eead4(0x2d0)+_0x9865d4+'\x22>'+_0x553c47+_0x4eead4(0x5fd);}const _0x2cdb5a=_0x2f95ef[_0x4eead4(0x245)][_0x2f95ef['attempts'][_0x4eead4(0x51f)]-0x1],_0x3b9fe7=(_0x2cdb5a[_0x4eead4(0x19e)]||[])[_0x4eead4(0x429)](_0x42b9b6=>{const _0x1705f3=_0x4eead4,_0x299658=Object[_0x1705f3(0x390)](BADGES)['find'](_0x667351=>_0x667351['id']===_0x42b9b6);return _0x299658?_0x1705f3(0x208)+_0x299658[_0x1705f3(0x3d6)]+_0x1705f3(0x747)+_0x299658['icon']+_0x1705f3(0xb9):'';})[_0x4eead4(0x795)]('');_0x3117a2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x5b5487+_0x4eead4(0x20d)+_0x2f95ef[_0x4eead4(0x5b8)]+_0x4eead4(0x97a)+_0x2f95ef[_0x4eead4(0x7c1)]+_0x4eead4(0x83e)+_0x29b4d1+_0x4eead4(0x9db)+_0x5e8f9d+_0x4eead4(0x777)+(_0x2f95ef[_0x4eead4(0x681)]||0x0)+_0x4eead4(0x9db)+(_0x5ba30d?'':_0x4eead4(0x824)+(_0x2f95ef['attempts']?.[_0x4eead4(0x51f)]||0x1)+_0x4eead4(0x51a))+_0x4eead4(0x8f0)+(_0x5ba30d?'':_0x4eead4(0x7c2)+new Date(_0x2f95ef[_0x4eead4(0x437)])[_0x4eead4(0x11a)](_0x4eead4(0x3c9))+'</td>')+_0x4eead4(0x5c0)+(_0x3b9fe7||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5aeff4[_0x1b2e13(0x42b)]=_0x3117a2,_0x294343&&!_0x5ba30d&&_0x294343[_0x1b2e13(0x1a9)](_0x1b2e13(0x22a))[_0x1b2e13(0x28e)](_0x1c4aff=>{const _0x2f2a23=_0x1b2e13,_0x107da0=_0x1c4aff['querySelector'](_0x2f2a23(0x1d9));if(_0x107da0)_0x107da0[_0x2f2a23(0x278)]();_0x1c4aff['dataset'][_0x2f2a23(0x3a9)]===quizLeaderboardSortBy&&(_0x1c4aff[_0x2f2a23(0x42b)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x2f2a23(0xaa)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x4eaec8){const _0x23767f=_0x1c8731;if(!currentQuizData||!currentQuizData['id']||!_0x4eaec8){showMessage(_0x23767f(0x57b));return;}showConfirmation(_0x23767f(0xa2e)+_0x4eaec8+_0x23767f(0xa13),async()=>{const _0x10f9a1=_0x23767f,_0x5fa444=currentQuizData['id'],_0x1d9c43=doc(db,_0x10f9a1(0x804)+appId+'/public/data/quizzes/'+_0x5fa444+'/submissions',_0x4eaec8);try{await deleteDoc(_0x1d9c43),showMessage(_0x10f9a1(0x961)+_0x4eaec8+_0x10f9a1(0x186));}catch(_0x1d11bc){console['error'](_0x10f9a1(0x16f),_0x1d11bc),showMessage(_0x10f9a1(0x432));}});}async function handleLoadQuiz(){const _0x50ef4a=_0x1c8731,_0x2bc306=document[_0x50ef4a(0x2a0)](_0x50ef4a(0x88f)),_0x3c04ad=_0x2bc306[_0x50ef4a(0x556)]['trim']();if(!_0x3c04ad){showMessage(_0x50ef4a(0xa16));return;}loadQuizBtn[_0x50ef4a(0x13f)]=!![],loadQuizBtn[_0x50ef4a(0x42b)]=_0x50ef4a(0x5b6);try{const _0x4d13d3=doc(db,'artifacts/'+appId+_0x50ef4a(0x60f),_0x3c04ad),_0x43972b=await getDoc(_0x4d13d3);if(!_0x43972b[_0x50ef4a(0x512)]()){showMessage(_0x50ef4a(0x289));return;}currentQuizData={'id':_0x43972b['id'],..._0x43972b['data']()};const _0x4d00b4=currentQuizData[_0x50ef4a(0x912)]||_0x50ef4a(0x3fd),_0x2d0a6e=new Date();if(_0x4d00b4===_0x50ef4a(0x4dd)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x4d00b4===_0x50ef4a(0x790)){const _0x2e65fd=currentQuizData[_0x50ef4a(0x25c)]?new Date(currentQuizData[_0x50ef4a(0x25c)]):null,_0x23ac76=currentQuizData['endTime']?new Date(currentQuizData[_0x50ef4a(0x92e)]):null;if(_0x2e65fd&&_0x2d0a6e<_0x2e65fd){showMessage(_0x50ef4a(0x11d)+_0x2e65fd[_0x50ef4a(0x11a)](_0x50ef4a(0x3c9),{'hour12':![]}));return;}if(_0x23ac76&&_0x2d0a6e>_0x23ac76){showMessage(_0x50ef4a(0x752));return;}}const _0x41f93d=currentQuizData['projectId'];currentProjectId=_0x41f93d;const _0x3d535c=doc(db,_0x50ef4a(0x804)+appId+_0x50ef4a(0x973),_0x41f93d),_0x11c963=await getDoc(_0x3d535c);if(!_0x11c963[_0x50ef4a(0x512)]()){showMessage(_0x50ef4a(0x31c));return;}const _0xf73dac=_0x11c963[_0x50ef4a(0x4ff)]();currentStudentProjectData=_0xf73dac,displayStudentNameSelector(_0xf73dac[_0x50ef4a(0x56a)],currentQuizData[_0x50ef4a(0x39a)]);}catch(_0x2ea737){console['error'](_0x50ef4a(0x9cb),_0x2ea737),showMessage(_0x50ef4a(0x60b));}finally{loadQuizBtn[_0x50ef4a(0x13f)]=![],loadQuizBtn[_0x50ef4a(0x42b)]=_0x50ef4a(0x237);}}async function handleJoinLiveGame(){const _0x2450cc=_0x1c8731,_0x223774=document[_0x2450cc(0x2a0)](_0x2450cc(0x559)),_0x14e1dc=document['getElementById'](_0x2450cc(0x4d4)),_0x436f57=document[_0x2450cc(0x2a0)](_0x2450cc(0x439)),_0x574432=_0x223774['value'][_0x2450cc(0x611)](),_0x12d4fa=_0x14e1dc[_0x2450cc(0x556)][_0x2450cc(0x611)]();if(!_0x574432||!_0x12d4fa){showMessage(_0x2450cc(0x33c));return;}_0x436f57['disabled']=!![],_0x436f57[_0x2450cc(0x42b)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x7d8378=collection(db,'artifacts/'+appId+'/public/data/liveGames'),_0x1c49dd=query(_0x7d8378,where(_0x2450cc(0x6c3),'==',_0x574432),where(_0x2450cc(0x912),'in',[_0x2450cc(0x8d2),'question'])),_0x3042ca=await getDocs(_0x1c49dd);if(_0x3042ca[_0x2450cc(0x6b4)]){showMessage(_0x2450cc(0x462));return;}const _0x1c7eff=_0x3042ca['docs'][0x0],_0x4d7774=_0x1c7eff[_0x2450cc(0x4ff)]();currentLiveGameId=_0x1c7eff['id'];const _0x527914=_0x4d7774[_0x2450cc(0x15c)],_0x5e6bd7=doc(db,_0x2450cc(0x804)+appId+'/public/data/quizzes',_0x527914),_0x7c3ce0=await getDoc(_0x5e6bd7);if(!_0x7c3ce0[_0x2450cc(0x512)]()){showMessage(_0x2450cc(0x1f5));return;}currentQuizData={'id':_0x7c3ce0['id'],..._0x7c3ce0['data']()};if(_0x4d7774[_0x2450cc(0x4f6)]&&_0x4d7774[_0x2450cc(0x4f6)][_0x12d4fa]){const _0x271441=_0x4d7774[_0x2450cc(0x4f6)][_0x12d4fa];if(_0x271441[_0x2450cc(0x912)]==='inactive'){_0x436f57[_0x2450cc(0x42b)]=_0x2450cc(0x9d9);const _0x2946ae={};_0x2946ae[_0x2450cc(0xe5)+_0x12d4fa+_0x2450cc(0x930)]=_0x2450cc(0x3fd),await updateDoc(doc(db,_0x2450cc(0x804)+appId+_0x2450cc(0x948),currentLiveGameId),_0x2946ae),showView(_0x2450cc(0x116)),currentStudentName=_0x12d4fa,listenForLiveGameUpdates();return;}else{showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น');return;}}if(_0x4d7774[_0x2450cc(0x912)]!==_0x2450cc(0x8d2)){showMessage(_0x2450cc(0x6e9));return;}_0x436f57['innerHTML']=_0x2450cc(0x7a4);const _0x171242={};_0x171242[_0x2450cc(0xe5)+_0x12d4fa]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x2450cc(0x3fd)},await updateDoc(doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x171242),currentStudentName=_0x12d4fa,listenForLiveGameUpdates();}catch(_0x4a285c){console[_0x2450cc(0xa1a)](_0x2450cc(0x64b),_0x4a285c),showMessage(_0x2450cc(0x223));}finally{_0x436f57[_0x2450cc(0x13f)]=![],_0x436f57[_0x2450cc(0x42b)]=_0x2450cc(0x584);}}function displayStudentNameSelector(_0x31785f,_0x234ead){const _0x55d22d=_0x1c8731,_0x9d6e01=document[_0x55d22d(0x2a0)](_0x55d22d(0x360));document[_0x55d22d(0x2a0)](_0x55d22d(0x5b1))[_0x55d22d(0x531)]=_0x55d22d(0xef)+_0x234ead,!_0x31785f||_0x31785f['length']===0x0?(_0x9d6e01['innerHTML']=_0x55d22d(0x14d),startQuizBtn['disabled']=!![]):(_0x9d6e01[_0x55d22d(0x42b)]=_0x55d22d(0x6de),_0x31785f['forEach'](_0x58b014=>{const _0x768ec7=_0x55d22d,_0x4d2dd2=document[_0x768ec7(0x2ae)](_0x768ec7(0x83f));_0x4d2dd2['value']=_0x58b014,_0x4d2dd2[_0x768ec7(0x531)]=_0x58b014,_0x9d6e01['appendChild'](_0x4d2dd2);}),startQuizBtn[_0x55d22d(0x13f)]=![]),studentInitialView[_0x55d22d(0x914)][_0x55d22d(0x6bb)]('hidden'),studentNameSelectionView[_0x55d22d(0x914)][_0x55d22d(0x278)](_0x55d22d(0x674));}function shuffleArray(_0x5aac04){const _0x26b492=_0x1c8731;for(let _0x64f4be=_0x5aac04[_0x26b492(0x51f)]-0x1;_0x64f4be>0x0;_0x64f4be--){const _0x33b9bf=Math[_0x26b492(0x665)](Math['random']()*(_0x64f4be+0x1));[_0x5aac04[_0x64f4be],_0x5aac04[_0x33b9bf]]=[_0x5aac04[_0x33b9bf],_0x5aac04[_0x64f4be]];}}function getShuffledQuiz(_0xe74e93){const _0x28516e=_0x1c8731;let _0x11bdf0=JSON[_0x28516e(0x4ec)](JSON[_0x28516e(0x91e)](_0xe74e93));const _0x17ab07=_0x11bdf0[_0x28516e(0x141)]?.[_0x28516e(0x75f)]||_0x28516e(0x7bb);if(_0x17ab07==='none')return _0x11bdf0;return(_0x17ab07==='questions_only'||_0x17ab07===_0x28516e(0x4e1))&&shuffleArray(_0x11bdf0[_0x28516e(0x619)]),(_0x17ab07===_0x28516e(0x663)||_0x17ab07===_0x28516e(0x4e1))&&_0x11bdf0[_0x28516e(0x619)]['forEach'](_0x1f226a=>{const _0x3d01d1=_0x28516e,_0x441449=_0x1f226a['questionType']||_0x11bdf0[_0x3d01d1(0x13d)];if(_0x1f226a[_0x3d01d1(0x8bf)]){let _0x2292b0=_0x1f226a[_0x3d01d1(0x8bf)]['map']((_0x14e6a1,_0x5b4549)=>({'text':_0x14e6a1,'isCorrect':_0x5b4549===_0x1f226a[_0x3d01d1(0x587)]}));shuffleArray(_0x2292b0),_0x1f226a[_0x3d01d1(0x8bf)]=_0x2292b0[_0x3d01d1(0x429)](_0x114516=>_0x114516[_0x3d01d1(0x45d)]),_0x1f226a[_0x3d01d1(0x587)]=_0x2292b0[_0x3d01d1(0x1f6)](_0x34b2c8=>_0x34b2c8['isCorrect']);}_0x441449===_0x3d01d1(0x8b2)&&_0x1f226a[_0x3d01d1(0x323)]&&shuffleArray(_0x1f226a[_0x3d01d1(0x323)]);}),_0x11bdf0;}function displayQuizForStudent(_0x4cadad){const _0x87c1f8=_0x1c8731;studentQuizArea['classList']['remove'](_0x87c1f8(0x674)),currentDisplayedQuiz=getShuffledQuiz(_0x4cadad);currentMode!==_0x87c1f8(0x436)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x87c1f8(0x2aa)](_0x87c1f8(0x983),handleFullscreenChange),document[_0x87c1f8(0x2aa)](_0x87c1f8(0x7cc),handleVisibilityChange),enterFullscreen(),window[_0x87c1f8(0x2aa)]('mousemove',resetDimTimer),window['addEventListener'](_0x87c1f8(0x3d9),resetDimTimer),window[_0x87c1f8(0x2aa)](_0x87c1f8(0x50c),resetDimTimer),window[_0x87c1f8(0x2aa)](_0x87c1f8(0x9ae),resetDimTimer),resetDimTimer());const _0x129a28=currentDisplayedQuiz[_0x87c1f8(0x141)]?.[_0x87c1f8(0x2ea)]||'none';if(_0x129a28===_0x87c1f8(0x2c8))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x87c1f8(0x19d)]);else _0x129a28===_0x87c1f8(0x4d2)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x18cf52=_0x1c8731,_0xdccdca=currentDisplayedQuiz[_0x18cf52(0x141)]?.[_0x18cf52(0x110)]===!![],_0x1e1b78=currentDisplayedQuiz[_0x18cf52(0x141)]?.[_0x18cf52(0x84d)]||_0x18cf52(0x1a4);let _0x45f97d=_0x18cf52(0x6fe)+currentDisplayedQuiz[_0x18cf52(0x39a)]+_0x18cf52(0x240)+(currentMode===_0x18cf52(0x436)?_0x18cf52(0x6d4):'')+_0x18cf52(0xc8);currentDisplayedQuiz[_0x18cf52(0x619)][_0x18cf52(0x28e)]((_0x9d1108,_0x5b4f40)=>{const _0x4353ed=_0x18cf52,_0x5030c4=_0x9d1108['questionType']||currentDisplayedQuiz[_0x4353ed(0x13d)];_0x45f97d+=_0x4353ed(0x388);if(_0x5030c4===_0x4353ed(0x8b2)){}else _0x45f97d+=_0x4353ed(0xe2)+(_0x5b4f40+0x1)+'.\x20'+(_0x9d1108[_0x4353ed(0x2c6)]||_0x9d1108[_0x4353ed(0x2dc)])+'</p>',_0x9d1108[_0x4353ed(0x25f)]&&(_0x45f97d+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x9d1108[_0x4353ed(0x25f)]+'</div>');_0x45f97d+=_0x4353ed(0x380);switch(_0x5030c4){case'short_answer':_0x45f97d+=_0x4353ed(0x268)+_0x5b4f40+_0x4353ed(0x870);break;case _0x4353ed(0x19b):_0x45f97d+=_0x4353ed(0x837)+_0x5b4f40+_0x4353ed(0x393)+_0x5b4f40+_0x4353ed(0xa1d)+_0x5b4f40+_0x4353ed(0x1e4),_0x45f97d+=_0x4353ed(0x837)+_0x5b4f40+_0x4353ed(0x566)+_0x5b4f40+_0x4353ed(0x8c9)+_0x5b4f40+_0x4353ed(0x9b3);break;case _0x4353ed(0x8b2):_0x45f97d+=_0x4353ed(0x218)+_0x9d1108[_0x4353ed(0x332)]+_0x4353ed(0x8dd)+_0x5b4f40+_0x4353ed(0x2ac)+_0x9d1108[_0x4353ed(0x323)][_0x4353ed(0x429)](_0x9ea725=>_0x4353ed(0x708)+_0x9ea725+'\x22>'+_0x9ea725+_0x4353ed(0x5ea))[_0x4353ed(0x795)]('')+_0x4353ed(0x81c);break;default:_0x45f97d+=_0x9d1108['options'][_0x4353ed(0x429)]((_0x465e6b,_0x59542b)=>_0x4353ed(0x7b6)+_0x5b4f40+_0x4353ed(0x4de)+_0x59542b+_0x4353ed(0x49f)+_0x5b4f40+'\x22\x20value=\x22'+_0x59542b+_0x4353ed(0x9dc)+_0x5b4f40+'_opt'+_0x59542b+'\x22>'+_0x465e6b+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4353ed(0x795)]('');break;}_0x45f97d+=_0x4353ed(0x18a),_0xdccdca&&(_0x45f97d+=_0x4353ed(0x382),_0x1e1b78===_0x4353ed(0x119)?_0x45f97d+=_0x4353ed(0x62d)+_0x5b4f40+_0x4353ed(0x8e8)+_0x5b4f40+_0x4353ed(0x7d0)+_0x5b4f40+'\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22'+_0x5b4f40+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x45f97d+=_0x4353ed(0x5c3)+_0x5b4f40+_0x4353ed(0x8e8)+_0x5b4f40+_0x4353ed(0x5db)+_0x5b4f40+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x45f97d+=_0x4353ed(0x18a)),_0x45f97d+=_0x4353ed(0x18a);}),_0x45f97d+=_0x18cf52(0x84c),_0x45f97d+=_0x18cf52(0x8ad),studentQuizArea[_0x18cf52(0x42b)]=_0x45f97d;if(currentMode==='admin-testing'){const _0x6fd68e=document[_0x18cf52(0x2a0)](_0x18cf52(0x1a1));if(_0x6fd68e)_0x6fd68e[_0x18cf52(0x2aa)](_0x18cf52(0x8a5),cancelAdminTest);}const _0x43098f=document[_0x18cf52(0x2a0)](_0x18cf52(0x937));_0x43098f&&(_0x43098f[_0x18cf52(0x2aa)](_0x18cf52(0x6e1),handleSubmitQuiz),_0x43098f[_0x18cf52(0x2aa)](_0x18cf52(0x8a5),_0x37e050=>{const _0x385635=_0x18cf52;if(_0x37e050[_0x385635(0x646)]['classList'][_0x385635(0x722)](_0x385635(0x1b9))){const _0x166df0=_0x37e050[_0x385635(0x646)],_0x2e15f3=_0x166df0[_0x385635(0x2f8)][_0x385635(0x8a4)],_0x5322a2=_0x166df0['dataset'][_0x385635(0x556)];document[_0x385635(0x2a0)](_0x385635(0x933)+_0x2e15f3)[_0x385635(0x556)]=_0x5322a2;const _0x2010dd=_0x166df0[_0x385635(0x2da)];_0x2010dd[_0x385635(0x1a9)](_0x385635(0x156))[_0x385635(0x28e)](_0x383c4d=>_0x383c4d[_0x385635(0x914)][_0x385635(0x278)](_0x385635(0x3fd))),_0x166df0['classList'][_0x385635(0x6bb)](_0x385635(0x3fd));}}));if(window[_0x18cf52(0x651)])window[_0x18cf52(0x651)]['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x3cbd8e){const _0x533d68=_0x1c8731;if(_0x3cbd8e)_0x3cbd8e[_0x533d68(0x73a)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x409ed0=document['getElementById'](_0x533d68(0x937));if(!_0x409ed0)return;const _0x35281e=currentDisplayedQuiz[_0x533d68(0x141)]?.[_0x533d68(0x110)]===!![],_0x275e7e=currentDisplayedQuiz[_0x533d68(0x141)]?.[_0x533d68(0x84d)]||_0x533d68(0x1a4);if(_0x35281e&&_0x275e7e==='mandatory'){let _0x2b4a14=!![];for(let _0x373a1c=0x0;_0x373a1c<currentDisplayedQuiz['questions']['length'];_0x373a1c++){const _0x9ff7d8=_0x409ed0[_0x533d68(0x265)](_0x533d68(0x16d)+_0x373a1c);if(!_0x9ff7d8||_0x9ff7d8[_0x533d68(0x556)]===''){_0x2b4a14=![];break;}}if(!_0x2b4a14){showMessage(_0x533d68(0x3d4));return;}}const _0x4a7434=_0x409ed0['querySelector'](_0x533d68(0x527)),_0x35749a=currentDisplayedQuiz[_0x533d68(0x619)]['some'](_0x12d8d7=>_0x12d8d7[_0x533d68(0x173)]===_0x533d68(0x3e2));_0x4a7434&&(_0x4a7434['disabled']=!![],_0x4a7434[_0x533d68(0x42b)]=_0x35749a?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x54329d=new FormData(_0x409ed0),_0x4ae4af=currentDisplayedQuiz[_0x533d68(0x619)][_0x533d68(0x429)]((_0x185c89,_0x2d44d4)=>{const _0x3ed7f0=_0x533d68,_0xe1322f=_0x54329d[_0x3ed7f0(0x5ce)](_0x3ed7f0(0x96a)+_0x2d44d4);let _0x452022;_0x275e7e===_0x3ed7f0(0x119)?_0x452022=_0x54329d[_0x3ed7f0(0x5ce)](_0x3ed7f0(0x13e)+_0x2d44d4):_0x452022=_0x54329d[_0x3ed7f0(0x5ce)](_0x3ed7f0(0x13e)+_0x2d44d4)==='on';let _0x286e55=null;if(_0xe1322f!==null&&_0xe1322f!==undefined){const _0x4918f6=_0x185c89['questionType']||currentDisplayedQuiz[_0x3ed7f0(0x13d)];_0x4918f6===_0x3ed7f0(0x9f3)||_0x4918f6===_0x3ed7f0(0x71f)?_0x286e55=parseInt(_0xe1322f):_0x286e55=_0xe1322f;}return{'answer':_0x286e55,'wasConfident':_0x452022};}),_0x4c95fc=currentQuizData['id'],_0x11eee2=doc(db,_0x533d68(0x804)+appId+_0x533d68(0x39f)+_0x4c95fc+_0x533d68(0x9cd),currentStudentName),_0x9db83d=await getDoc(_0x11eee2),_0x518fbf=_0x9db83d[_0x533d68(0x512)]()?_0x9db83d[_0x533d68(0x4ff)]():{},_0x44fc88=_0x518fbf[_0x533d68(0x245)]||[];await processAndSubmitAnswers(_0x4ae4af,_0x44fc88);}async function gradeShortAnswerWithAI(_0x4f5d89,_0x2f2b45){const _0x526f62=_0x1c8731;if(!_0x4f5d89||!_0x2f2b45)return![];try{const _0x3d695a='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x4f5d89+_0x526f62(0x2b9)+_0x2f2b45+_0x526f62(0x48a),_0xda19bf={'contents':[{'role':_0x526f62(0x8bc),'parts':[{'text':_0x3d695a}]}]},_0x39f883=_0x526f62(0x3bb),_0x1d49b5=_0x526f62(0xd3)+_0x39f883,_0x1abac1=await fetch(_0x1d49b5,{'method':_0x526f62(0x108),'headers':{'Content-Type':_0x526f62(0x154)},'body':JSON[_0x526f62(0x91e)](_0xda19bf)});if(!_0x1abac1['ok'])throw new Error(_0x526f62(0x92c));const _0x472e33=await _0x1abac1[_0x526f62(0x2e6)](),_0x19cfce=_0x472e33[_0x526f62(0x46f)][0x0][_0x526f62(0x5e2)]['parts'][0x0][_0x526f62(0x45d)]['trim']()[_0x526f62(0x263)]();return _0x19cfce===_0x526f62(0x2f6);}catch(_0x18e5d3){return console['error'](_0x526f62(0x4e3),_0x18e5d3),![];}}async function processAndSubmitAnswers(_0x2d8128,_0x1c9303){const _0x53d55a=_0x1c8731;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x53d55a(0x983),handleFullscreenChange),document[_0x53d55a(0x997)](_0x53d55a(0x7cc),handleVisibilityChange);let _0x48a5f1=0x0;const _0x2f3a5d=[],_0x3b29b4=currentDisplayedQuiz[_0x53d55a(0x619)][_0x53d55a(0x51f)];let _0x31c065=0x0,_0x3c911c=[];const _0x248f0d=currentDisplayedQuiz[_0x53d55a(0x619)];for(let _0x3d6d20=0x0;_0x3d6d20<_0x248f0d[_0x53d55a(0x51f)];_0x3d6d20++){const _0x2325cc=_0x248f0d[_0x3d6d20],_0xecf121=_0x2d8128[_0x3d6d20],_0x4c1cf0=_0xecf121?_0xecf121[_0x53d55a(0x721)]:null,_0xbe5b89=_0xecf121?_0xecf121[_0x53d55a(0x627)]:null;let _0x2ff467=![],_0x4e9d1a=0x0;if(_0x4c1cf0!==null&&_0x4c1cf0!==''){const _0x1b8367=_0x2325cc[_0x53d55a(0x173)]||currentDisplayedQuiz['quizType'];switch(_0x1b8367){case _0x53d55a(0x8b2):_0x2ff467=_0x4c1cf0===_0x2325cc[_0x53d55a(0x2f5)];break;case'true_false':const _0x5017cd=_0x4c1cf0===!![]||_0x4c1cf0===_0x53d55a(0x2f6);_0x2ff467=_0x5017cd===_0x2325cc[_0x53d55a(0x701)];break;case _0x53d55a(0x3e2):_0x2ff467=await gradeShortAnswer(_0x4c1cf0,_0x2325cc);break;case'multiple_choice':default:_0x2ff467=Number(_0x4c1cf0)===_0x2325cc['correctAnswerIndex'];break;}}if(currentDisplayedQuiz['settings']?.[_0x53d55a(0x110)]){const _0x34fb3a=_0xecf121?_0xecf121['wasConfident']:null;if(_0x2ff467&&(_0x34fb3a===!![]||_0x34fb3a===_0x53d55a(0x15f)))_0x4e9d1a=0x2;else{if(_0x2ff467)_0x4e9d1a=0x1;else{if(!_0x2ff467&&(_0x34fb3a===![]||_0x34fb3a===_0x53d55a(0x33b)||_0x34fb3a===null))_0x4e9d1a=0x0;else!_0x2ff467&&(_0x34fb3a===!![]||_0x34fb3a===_0x53d55a(0x15f))&&(_0x4e9d1a=-0x1);}}}else _0x4e9d1a=_0x2ff467?0x1:0x0;_0x48a5f1+=_0x4e9d1a;if(_0x2ff467){_0x31c065++;if(_0x31c065===0x3)_0x3c911c[_0x53d55a(0x74b)](BADGES[_0x53d55a(0x9d1)]['id']);}else _0x31c065=0x0;let _0x537a8b=null;_0x2325cc[_0x53d55a(0x8bf)]&&_0x4c1cf0!==null&&(_0x537a8b=_0x2325cc[_0x53d55a(0x8bf)][_0x4c1cf0]),_0x2f3a5d[_0x53d55a(0x74b)]({'questionId':_0x2325cc['id'],'answer':_0x4c1cf0,'answerText':_0x537a8b,'isCorrect':_0x2ff467,'wasConfident':_0xbe5b89,'pointsAwarded':_0x4e9d1a,'originalQuestionText':_0x2325cc[_0x53d55a(0x332)]||_0x2325cc['questionText']});}const _0x29da80=_0x2f3a5d[_0x53d55a(0x29a)](_0x59df21=>_0x59df21[_0x53d55a(0x69b)])[_0x53d55a(0x51f)],_0x59dc74=currentDisplayedQuiz['settings']?.[_0x53d55a(0x4e9)]??Math[_0x53d55a(0x665)](_0x3b29b4/0x2);_0x29da80===_0x3b29b4&&_0x3b29b4>0x0&&!currentDisplayedQuiz[_0x53d55a(0x7d7)]&&_0x3c911c[_0x53d55a(0x74b)](BADGES[_0x53d55a(0x19a)]['id']);const _0x61d37e=currentDisplayedQuiz[_0x53d55a(0x141)]?.['timerMode'];if(_0x61d37e===_0x53d55a(0x2c8)&&quizStartTime){const _0x9cd552=(new Date()-quizStartTime)/0x3e8,_0x3dca6f=currentDisplayedQuiz[_0x53d55a(0x141)][_0x53d55a(0x19d)]*0x3c;_0x29da80>=_0x59dc74&&_0x9cd552<_0x3dca6f/0x2&&_0x3c911c['push'](BADGES[_0x53d55a(0x282)]['id']);}_0x1c9303['length']===0x0&&_0x29da80===_0x3b29b4&&_0x3b29b4>0x0&&_0x3c911c['push'](BADGES[_0x53d55a(0x408)]['id']);if(_0x1c9303['length']>0x0){const _0x214d64=_0x1c9303[0x0]['score'];if(_0x214d64<_0x59dc74&&_0x29da80>=_0x59dc74){const _0x49e967=_0x1c9303[_0x53d55a(0x14f)](_0x3a8591=>(_0x3a8591['badges']||[])[_0x53d55a(0x4c6)](BADGES[_0x53d55a(0xc0)]['id']));!_0x49e967&&_0x3c911c[_0x53d55a(0x74b)](BADGES[_0x53d55a(0xc0)]['id']);}}_0x1c9303[_0x53d55a(0x51f)]===0x4&&_0x3c911c['push'](BADGES[_0x53d55a(0x9aa)]['id']);const _0x2a608a=currentDisplayedQuiz['settings'][_0x53d55a(0x7fd)];if(currentMode===_0x53d55a(0x436)){handleResultDisplay(_0x2a608a,_0x29da80,_0x48a5f1,_0x3c911c,_0x2f3a5d,_0x3b29b4);return;}const _0x5dc930=currentQuizData['id'],_0x5196b6=doc(db,_0x53d55a(0x804)+appId+_0x53d55a(0x39f)+_0x5dc930+'/submissions',currentStudentName);try{const _0x24c2a5=[..._0x1c9303],_0x2a7903={'score':_0x29da80,'points':_0x48a5f1,'badges':Array[_0x53d55a(0x6a0)](new Set(_0x3c911c)),'submittedAt':new Date()[_0x53d55a(0x880)](),'answers':_0x2f3a5d};_0x24c2a5[_0x53d55a(0x74b)](_0x2a7903);const _0x2d5696=_0x1c9303[_0x53d55a(0x51f)]===0x0?_0x29da80:_0x1c9303[0x0]['score']||0x0,_0x50640b=Math[_0x53d55a(0x7e7)](..._0x24c2a5['map'](_0x5d7701=>_0x5d7701[_0x53d55a(0x968)]));await setDoc(_0x5196b6,{'studentName':currentStudentName,'totalQuestions':_0x3b29b4,'attempts':_0x24c2a5,'firstScore':_0x2d5696,'bestScore':_0x50640b,'latestScore':_0x29da80,'points':_0x48a5f1,'latestSubmittedAt':_0x2a7903[_0x53d55a(0xbf)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x53d55a(0x6fd)],currentStudentName),handleResultDisplay(_0x2a608a,_0x29da80,_0x48a5f1,_0x3c911c,_0x2f3a5d,_0x3b29b4);}catch(_0x2ef511){console[_0x53d55a(0xa1a)]('Error\x20saving\x20submission:',_0x2ef511),showMessage(_0x53d55a(0x1b8));}}async function updateStudentProfile(_0x46ecd0,_0x5736b5){const _0x4bed41=_0x1c8731,_0x2c5716=doc(db,'artifacts/'+appId+_0x4bed41(0x764)+_0x46ecd0+_0x4bed41(0x6c9),_0x5736b5);try{const _0x1dda1e=query(collection(db,'artifacts/'+appId+_0x4bed41(0x60f)),where(_0x4bed41(0x6fd),'==',_0x46ecd0)),_0x5f4ba3=await getDocs(_0x1dda1e),_0x14654c=new Map(_0x5f4ba3['docs'][_0x4bed41(0x429)](_0x3b3408=>[_0x3b3408['id'],_0x3b3408[_0x4bed41(0x4ff)]()])),_0x33b601=Array[_0x4bed41(0x6a0)](_0x14654c['keys']());await runTransaction(db,async _0xc128ef=>{const _0x2417f5=_0x4bed41;let _0x4f23f4=0x0;const _0x2b384a={};let _0x3125a9=!![],_0x443cda=0x0,_0x27e05a=0x0;for(const _0xa3d49d of _0x33b601){const _0x226b12=_0x14654c[_0x2417f5(0x5ce)](_0xa3d49d),_0x1f3f84=doc(db,_0x2417f5(0x804)+appId+'/public/data/quizzes/'+_0xa3d49d+_0x2417f5(0x9cd),_0x5736b5),_0x37e260=await _0xc128ef[_0x2417f5(0x5ce)](_0x1f3f84);if(_0x37e260[_0x2417f5(0x512)]()){const _0x2bb8aa=_0x37e260[_0x2417f5(0x4ff)](),_0x1f25e8=_0x2bb8aa['attempts']||[];if(_0x1f25e8[_0x2417f5(0x51f)]>0x0){const _0x4d18a7=_0x1f25e8[_0x2417f5(0x650)]((_0x31bc0b,_0x9620eb)=>{const _0x26c520=_0x2417f5;if(_0x9620eb[_0x26c520(0x968)]>_0x31bc0b['score'])return _0x9620eb;if(_0x9620eb[_0x26c520(0x968)]===_0x31bc0b[_0x26c520(0x968)])return(_0x9620eb['points']||0x0)>(_0x31bc0b[_0x26c520(0x681)]||0x0)?_0x9620eb:_0x31bc0b;return _0x31bc0b;},{'score':-0x1,'points':-0x1});_0x4d18a7[_0x2417f5(0x968)]>-0x1&&(_0x4f23f4+=_0x4d18a7['points']||0x0,(_0x4d18a7[_0x2417f5(0x19e)]||[])[_0x2417f5(0x28e)](_0x41b80d=>{_0x2b384a[_0x41b80d]=(_0x2b384a[_0x41b80d]||0x0)+0x1;}));}}if(_0x226b12[_0x2417f5(0x39a)]!==_0x2417f5(0x35e)){_0x27e05a++;if(_0x37e260[_0x2417f5(0x512)]()){_0x443cda++;const _0x5b4f44=_0x37e260['data']();_0x5b4f44['bestScore']!==_0x5b4f44[_0x2417f5(0xa2a)]&&(_0x3125a9=![]);}else _0x3125a9=![];}}_0x27e05a>0x0&&_0x443cda===_0x27e05a&&_0x3125a9?_0x2b384a[_0x2417f5(0x304)]=0x1:_0x2b384a[_0x2417f5(0x304)]=0x0,_0xc128ef[_0x2417f5(0xf3)](_0x2c5716,{'studentName':_0x5736b5,'totalPoints':_0x4f23f4,'unlockedBadges':Object[_0x2417f5(0x37d)](_0x2b384a)[_0x2417f5(0x29a)](_0x34293a=>_0x2b384a[_0x34293a]>0x0),'badgesCount':_0x2b384a},{'merge':!![]});});}catch(_0xb33621){console[_0x4bed41(0xa1a)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0xb33621),showMessage(_0x4bed41(0x293));}}function startAdminTest(){const _0x274e08=_0x1c8731;if(!currentQuizData){showMessage(_0x274e08(0x56f));return;}let _0x1ce093=JSON[_0x274e08(0x4ec)](JSON[_0x274e08(0x91e)](currentQuizData));currentMode=_0x274e08(0x436),currentStudentName=_0x274e08(0x92a),adminView['classList']['add'](_0x274e08(0x674)),studentView[_0x274e08(0x914)][_0x274e08(0x278)](_0x274e08(0x674)),studentInitialView[_0x274e08(0x914)][_0x274e08(0x6bb)](_0x274e08(0x674)),studentNameSelectionView[_0x274e08(0x914)]['add'](_0x274e08(0x674)),studentResultArea[_0x274e08(0x914)][_0x274e08(0x6bb)]('hidden'),studentQuizArea['classList'][_0x274e08(0x278)](_0x274e08(0x674)),quizStartTime=new Date(),displayQuizForStudent(_0x1ce093);}function handleResultDisplay(_0xed6e65,_0x5767a5,_0x32b40a,_0x473874,_0x270ee9,_0x19ed8d){const _0x2d89b9=_0x1c8731;if(_0xed6e65===_0x2d89b9(0x406)){displaySubmissionConfirmation();return;}const _0x1774a5=currentDisplayedQuiz[_0x2d89b9(0x141)]?.[_0x2d89b9(0x4e9)]??Math['floor'](_0x19ed8d/0x2),_0x2b418a=currentDisplayedQuiz[_0x2d89b9(0x141)]?.[_0x2d89b9(0x636)]??![],_0x434113=currentDisplayedQuiz[_0x2d89b9(0x141)]?.['loopUntilPass']===!![],_0x78b88c=_0x5767a5<_0x1774a5,_0x5f1f32=_0xed6e65===_0x2d89b9(0x517)||_0xed6e65==='perfect_score_status';if(_0x434113&&_0x78b88c&&!_0x5f1f32){_0xed6e65===_0x2d89b9(0x347)?displayResultsWithAnswers(_0x5767a5,_0x32b40a,_0x473874,_0x270ee9,_0x19ed8d,!![]):displayLoopScreen(_0x5767a5,_0x19ed8d,_0xed6e65);return;}if(_0x2b418a&&_0x78b88c){startAdaptiveFlow(_0x270ee9,_0x5767a5,_0x19ed8d);return;}switch(_0xed6e65){case _0x2d89b9(0x347):displayResultsWithAnswers(_0x5767a5,_0x32b40a,_0x473874,_0x270ee9,_0x19ed8d);break;case'show_results_only':displayResultsScoreOnly(_0x5767a5,_0x32b40a,_0x473874,_0x19ed8d);break;case _0x2d89b9(0x6bf):displayPassFailOnly(_0x5767a5,_0x19ed8d);break;case _0x2d89b9(0x517):displayHalfMarkResult(_0x5767a5,_0x19ed8d);break;case'perfect_score_status':displayPerfectScoreResult(_0x5767a5,_0x19ed8d);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x2b0681){const _0x59afd3=_0x1c8731;studentReadingArea[_0x59afd3(0x42b)]=_0x59afd3(0x267);const _0xb5032b=_0x59afd3(0x65e)+_0x2b0681+_0x59afd3(0xa11)+simpleMathPrompt+_0x59afd3(0x365),_0x60b01={'type':_0x59afd3(0x3e8),'properties':{'questionText':{'type':_0x59afd3(0x2ec)},'options':{'type':_0x59afd3(0x64d),'items':{'type':_0x59afd3(0x2ec)}},'correctAnswerIndex':{'type':_0x59afd3(0x4a6)},'explanation':{'type':_0x59afd3(0x2ec)}},'required':[_0x59afd3(0x2dc),'options',_0x59afd3(0x587),_0x59afd3(0xa0e)]},_0x186ab2={'type':_0x59afd3(0x3e8),'properties':{'topic':{'type':_0x59afd3(0x2ec)},'questions':{'type':'ARRAY','items':_0x60b01}},'required':[_0x59afd3(0x39a),'questions']};try{const _0x31210a=await callAnalysisApi(_0xb5032b,_0x186ab2);_0x31210a[_0x59afd3(0x7d7)]=!![],studentReadingArea[_0x59afd3(0x914)][_0x59afd3(0x6bb)](_0x59afd3(0x674));const _0x2c1bdd={...currentDisplayedQuiz[_0x59afd3(0x141)],'isAdaptive':![],'resultsDisplay':_0x59afd3(0x347)};_0x31210a['settings']=_0x2c1bdd,displayQuizForStudent(_0x31210a);}catch(_0x1250e9){console[_0x59afd3(0xa1a)](_0x59afd3(0x1ad),_0x1250e9),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView('student');}}function displayPassFailOnly(_0x2868a1,_0x4c8349){const _0x3722d2=_0x1c8731,_0x3378e3=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x3e994b=currentDisplayedQuiz[_0x3722d2(0x7d7)]===!![];let _0x1127c0='',_0x429794=![];if(_0x3e994b||_0x3378e3!==-0x1){_0x429794=_0x3e994b?_0x2868a1===_0x4c8349:_0x2868a1>=_0x3378e3;const _0x1929d1=_0x429794?_0x3722d2(0x684):_0x3722d2(0x148),_0x3d0d9d=_0x429794?_0x3722d2(0xb0):_0x3722d2(0xa0f);_0x1127c0=_0x3722d2(0x39b)+_0x1929d1+'\x22>'+_0x3d0d9d+_0x3722d2(0x348);}else _0x1127c0=_0x3722d2(0x292);let _0x2f8505='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1127c0+_0x3722d2(0x3ff);studentResultArea[_0x3722d2(0x42b)]=_0x2f8505,studentResultArea[_0x3722d2(0x914)][_0x3722d2(0x278)]('hidden'),studentQuizArea[_0x3722d2(0x914)][_0x3722d2(0x6bb)](_0x3722d2(0x674)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x429794});}function cancelAdminTest(){const _0x335576=_0x1c8731;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x335576(0x997)]('fullscreenchange',handleFullscreenChange),document[_0x335576(0x997)](_0x335576(0x7cc),handleVisibilityChange),currentMode=_0x335576(0xfd),studentView[_0x335576(0x914)][_0x335576(0x6bb)]('hidden'),adminView['classList']['remove']('hidden'),showView(_0x335576(0x299));}function setupResultScreenBackButton(_0x1af9e3){const _0x3a5f91=_0x1c8731,_0x21fb6b={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x1af9e3};if(_0x21fb6b[_0x3a5f91(0x175)]){const _0x4d7c11=_0x3a5f91(0x9c9);studentResultArea['insertAdjacentHTML'](_0x3a5f91(0x550),_0x4d7c11),document[_0x3a5f91(0x2a0)](_0x3a5f91(0x61c))[_0x3a5f91(0x2aa)](_0x3a5f91(0x8a5),()=>{const _0x5812a9=_0x3a5f91;studentResultArea[_0x5812a9(0x914)]['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x2e7ad1=_0x3a5f91(0x1de),_0x17329f=currentMode===_0x3a5f91(0x436),_0x3ca9d7=_0x17329f?_0x3a5f91(0xec):_0x3a5f91(0x7bc);let _0x5190a5='';_0x21fb6b[_0x3a5f91(0x3ad)]&&(_0x5190a5+=_0x3a5f91(0xa03));let _0x32b29f=_0x21fb6b[_0x3a5f91(0x153)];_0x32b29f===undefined&&(_0x32b29f=_0x21fb6b[_0x3a5f91(0x968)]<_0x21fb6b[_0x3a5f91(0xa2a)]);_0x32b29f&&(_0x5190a5+=_0x3a5f91(0x637));_0x5190a5+=_0x3a5f91(0x6a7)+_0x2e7ad1+_0x3a5f91(0x6e4)+_0x3ca9d7+_0x3a5f91(0x7a5);const _0x38049b='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x5190a5+_0x3a5f91(0x18a);studentResultArea[_0x3a5f91(0x1f1)](_0x3a5f91(0x550),_0x38049b),studentResultArea[_0x3a5f91(0x265)](_0x3a5f91(0x53d))?.[_0x3a5f91(0x2aa)](_0x3a5f91(0x8a5),handleShowStudentRankings);const _0x5d28bb=studentResultArea['querySelector'](_0x3a5f91(0x35a));_0x5d28bb&&_0x5d28bb[_0x3a5f91(0x2aa)](_0x3a5f91(0x8a5),()=>{const _0x50356b=_0x3a5f91;studentResultArea['classList'][_0x50356b(0x6bb)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x3a5f91(0x2a0)](_0x2e7ad1)[_0x3a5f91(0x2aa)](_0x3a5f91(0x8a5),()=>{const _0x5e3bac=_0x3a5f91;_0x17329f?(currentMode=_0x5e3bac(0xfd),studentView[_0x5e3bac(0x914)][_0x5e3bac(0x6bb)](_0x5e3bac(0x674)),adminView[_0x5e3bac(0x914)][_0x5e3bac(0x278)](_0x5e3bac(0x674)),showView(_0x5e3bac(0x299))):(showView(_0x5e3bac(0xa36)),document['getElementById'](_0x5e3bac(0x88f))['value']='');});}function displayResultsWithAnswers(_0xd17203,_0x1b0ece,_0x3cb09d,_0x2069d6,_0x19e87a,_0x43488a=![]){const _0x378756=_0x1c8731,_0x4501e1=_0x19e87a>0x0?_0xd17203/_0x19e87a*0x64:0x0,_0x5cbbcd=currentDisplayedQuiz['settings']?.[_0x378756(0x4e9)]??-0x1,_0x4cf7b5=currentDisplayedQuiz[_0x378756(0x7d7)]===!![];let _0x9fd2e2='';if(_0x4cf7b5||_0x5cbbcd!==-0x1){let _0xcc19e8=_0x4cf7b5?_0xd17203===_0x19e87a:_0xd17203>=_0x5cbbcd;const _0x117e76=_0xcc19e8?_0x378756(0x684):_0x378756(0x148),_0x15c901=_0xcc19e8?_0x378756(0xb0):'ไม่ผ่าน';_0x9fd2e2='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x117e76+'\x22>'+_0x15c901+_0x378756(0x28f);}let _0x2d38f6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x378756(0x107)+_0xd17203+_0x378756(0x633)+_0x19e87a+_0x378756(0x571)+_0x9fd2e2+_0x378756(0x873)+_0x1b0ece+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x4501e1[_0x378756(0x3f1)](0x0)+_0x378756(0x960);currentDisplayedQuiz[_0x378756(0x619)][_0x378756(0x28e)]((_0x237f60,_0x4475f4)=>{const _0x577777=_0x378756,_0x2cd449=_0x2069d6[_0x4475f4],_0x567d53=_0x2cd449[_0x577777(0x721)],_0x330ecc=_0x2cd449[_0x577777(0x69b)],_0x5be8d3=_0x237f60[_0x577777(0x173)]||currentDisplayedQuiz[_0x577777(0x13d)];_0x2d38f6+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x330ecc?_0x577777(0x601):_0x577777(0x302))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x4475f4+0x1)+'.\x20'+(_0x237f60[_0x577777(0x332)]||_0x237f60['questionText'])+_0x577777(0x871);switch(_0x5be8d3){case _0x577777(0x8b2):const _0x2ebf8b=_0x567d53||'ไม่ได้ตอบ',_0x21cf30=_0x237f60[_0x577777(0x2f5)];_0x2d38f6+=_0x577777(0x180)+(!_0x330ecc?_0x577777(0x39c):'')+'\x22>'+_0x2ebf8b+_0x577777(0x816);!_0x330ecc&&(_0x2d38f6+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x21cf30+_0x577777(0x28f));break;case'short_answer':_0x2d38f6+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x567d53||_0x577777(0x26a))+_0x577777(0x28f),_0x2d38f6+=_0x577777(0x2ed)+_0x237f60[_0x577777(0x954)]+_0x577777(0x28f);break;case'true_false':_0x2d38f6+=_0x577777(0x1dd)+(_0x237f60[_0x577777(0x701)]===!![]?_0x577777(0x5f8):'')+'\x20'+(_0x567d53==='true'&&!_0x330ecc?'line-through\x20text-red-700':'')+_0x577777(0x364),_0x2d38f6+=_0x577777(0x1dd)+(_0x237f60['correctAnswer']===![]?_0x577777(0x5f8):'')+'\x20'+(_0x567d53===_0x577777(0x333)&&!_0x330ecc?'line-through\x20text-red-700':'')+'\x22>ไม่ใช่</p>';break;default:_0x2d38f6+=_0x237f60[_0x577777(0x8bf)][_0x577777(0x429)]((_0x5eadd2,_0xe435fd)=>{const _0x399c16=_0x577777;let _0x268074='',_0x28125a='';if(_0xe435fd===_0x237f60[_0x399c16(0x587)])_0x268074=_0x399c16(0x5f8),_0x28125a=_0x399c16(0x1f4);else _0xe435fd===_0x567d53&&(_0x268074=_0x399c16(0x3bc),_0x28125a=_0x399c16(0x742));return _0x399c16(0x922)+_0x268074+'\x22>'+_0x28125a+_0x5eadd2+'</div>';})[_0x577777(0x795)]('');break;}_0x2d38f6+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x237f60['explanation']||_0x577777(0x7fa))+_0x577777(0x18a);if(!_0x330ecc){const _0x3190ad=_0x237f60[_0x577777(0x332)]||_0x237f60[_0x577777(0x2dc)];_0x2d38f6+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x3190ad)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x2d38f6+=_0x577777(0x18a);}),studentResultArea[_0x378756(0x42b)]=_0x2d38f6,renderEarnedBadges(_0x3cb09d,_0x378756(0x7cb)),studentResultArea[_0x378756(0x914)]['remove'](_0x378756(0x674)),studentQuizArea[_0x378756(0x914)][_0x378756(0x6bb)](_0x378756(0x674)),setupResultScreenBackButton({'isLooping':_0x43488a,'score':_0xd17203,'totalQuestions':_0x19e87a,'showRankings':!![]});if(window[_0x378756(0x651)])window[_0x378756(0x651)][_0x378756(0x626)]([studentResultArea]);}function displayResultsScoreOnly(_0x48f734,_0x161c64,_0x447b4d,_0x5c4586){const _0x42e3ab=_0x1c8731,_0x5a88b9=_0x5c4586>0x0?_0x48f734/_0x5c4586*0x64:0x0,_0x11c3ba=currentDisplayedQuiz[_0x42e3ab(0x141)]?.['passingScore']??-0x1,_0x394bbf=currentDisplayedQuiz['isRemedial']===!![];let _0xe584fe='';if(_0x394bbf||_0x11c3ba!==-0x1){let _0x102a02=_0x394bbf?_0x48f734===_0x5c4586:_0x48f734>=_0x11c3ba;const _0x484fcd=_0x102a02?_0x42e3ab(0x684):'bg-red-100\x20text-red-800',_0x1584b3=_0x102a02?_0x42e3ab(0xb0):_0x42e3ab(0xa0f);_0xe584fe='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x484fcd+'\x22>'+_0x1584b3+'</p>';}let _0xc88907=_0x42e3ab(0x286)+currentStudentName+_0x42e3ab(0x378)+_0x48f734+_0x42e3ab(0xe7)+_0x5c4586+_0x42e3ab(0x571)+_0xe584fe+_0x42e3ab(0x873)+_0x161c64+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x5a88b9[_0x42e3ab(0x3f1)](0x0)+_0x42e3ab(0x4a8);studentResultArea[_0x42e3ab(0x42b)]=_0xc88907,renderEarnedBadges(_0x447b4d,_0x42e3ab(0x7cb)),studentResultArea[_0x42e3ab(0x914)][_0x42e3ab(0x278)](_0x42e3ab(0x674)),studentQuizArea[_0x42e3ab(0x914)][_0x42e3ab(0x6bb)](_0x42e3ab(0x674)),setupResultScreenBackButton({'score':_0x48f734,'totalQuestions':_0x5c4586,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x2d70f6=_0x1c8731;let _0x513c9f=_0x2d70f6(0x881)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x2d70f6(0x42b)]=_0x513c9f,studentResultArea[_0x2d70f6(0x914)][_0x2d70f6(0x278)](_0x2d70f6(0x674)),studentQuizArea['classList'][_0x2d70f6(0x6bb)]('hidden'),document[_0x2d70f6(0x2a0)](_0x2d70f6(0x72b))['addEventListener']('click',()=>{const _0x2b1071=_0x2d70f6;showView(_0x2b1071(0xa36)),document[_0x2b1071(0x2a0)](_0x2b1071(0x88f))[_0x2b1071(0x556)]='';});}function renderEarnedBadges(_0x9bf910,_0x41717a){const _0x21d6cb=_0x1c8731,_0x4cc867=document[_0x21d6cb(0x2a0)](_0x41717a);if(!_0x4cc867||!_0x9bf910||_0x9bf910[_0x21d6cb(0x51f)]===0x0)return;let _0x22deef='';_0x9bf910[_0x21d6cb(0x28e)]((_0x92ba05,_0x2c3efc)=>{const _0x3d1a7e=_0x21d6cb,_0x4e5fb5=Object[_0x3d1a7e(0x390)](BADGES)[_0x3d1a7e(0x216)](_0x2a8a91=>_0x2a8a91['id']===_0x92ba05);_0x4e5fb5&&(_0x22deef+=_0x3d1a7e(0x331)+_0x2c3efc*0.2+'s;\x22\x20title=\x22'+_0x4e5fb5[_0x3d1a7e(0xa1f)]+_0x3d1a7e(0x16a)+_0x4e5fb5['icon']+_0x3d1a7e(0x8f6)+_0x4e5fb5['name']+_0x3d1a7e(0xdd));}),_0x4cc867['innerHTML']=_0x22deef;}function startPresentation(_0x15af3e){const _0x211256=_0x1c8731;currentQuizData=getShuffledQuiz(_0x15af3e),currentPresentationSlide=0x0,presentationModal[_0x211256(0x58f)]['display']=_0x211256(0x1c4),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x19876a=_0x1c8731;document[_0x19876a(0x9be)]&&document[_0x19876a(0x819)](),presentationModal[_0x19876a(0x58f)]['display']=_0x19876a(0x7bb);}function renderPresentationSlide(_0x5e13a7){const _0x423d5f=_0x1c8731,_0x151f87=document[_0x423d5f(0x2a0)](_0x423d5f(0x386));if(!currentQuizData||!currentQuizData[_0x423d5f(0x619)]||!currentQuizData[_0x423d5f(0x619)][_0x5e13a7]){_0x151f87['innerHTML']=_0x423d5f(0x723);return;}const _0x12ce80=currentQuizData[_0x423d5f(0x619)][_0x5e13a7],_0x2d5d29=_0x12ce80[_0x423d5f(0x173)]||currentQuizData[_0x423d5f(0x13d)];_0x151f87[_0x423d5f(0x42b)]='';let _0x14d39d=_0x423d5f(0xa08)+(_0x12ce80[_0x423d5f(0x25f)]?_0x423d5f(0x402)+_0x12ce80[_0x423d5f(0x25f)]+_0x423d5f(0x18a):'')+_0x423d5f(0x11c)+(_0x5e13a7+0x1)+'.\x20'+(_0x12ce80[_0x423d5f(0x332)]||_0x12ce80[_0x423d5f(0x2dc)])+_0x423d5f(0x361);switch(_0x2d5d29){case _0x423d5f(0x8b2):_0x14d39d+=_0x12ce80[_0x423d5f(0x323)][_0x423d5f(0x429)](_0x5b1ed8=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5b1ed8+_0x423d5f(0x8e7))[_0x423d5f(0x795)]('');break;case _0x423d5f(0x19b):_0x14d39d+=_0x423d5f(0x463),_0x14d39d+=_0x423d5f(0x25a);break;case _0x423d5f(0xf5):case _0x423d5f(0x3e2):_0x14d39d+=_0x423d5f(0x214);break;case _0x423d5f(0x71f):case _0x423d5f(0x9f3):default:_0x14d39d+=_0x12ce80['options']['map']((_0x220379,_0x599180)=>_0x423d5f(0x574)+_0x599180+_0x423d5f(0x91f)+_0x220379+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x423d5f(0x795)]('');break;}_0x14d39d+=_0x423d5f(0x6e0)+(_0x12ce80[_0x423d5f(0xa0e)]||'ไม่มีคำอธิบาย')+_0x423d5f(0x2f7),_0x151f87['innerHTML']=_0x14d39d;if(window[_0x423d5f(0x651)])window[_0x423d5f(0x651)]['typesetPromise']([_0x151f87]);let _0x273cd0=[];switch(_0x2d5d29){case _0x423d5f(0x8b2):_0x273cd0=_0x12ce80[_0x423d5f(0x323)]||[];break;case'true_false':_0x273cd0=['ใช่','ไม่ใช่'];break;default:_0x273cd0=_0x12ce80[_0x423d5f(0x8bf)]||[];break;}const _0x52be04=document[_0x423d5f(0x2a0)]('presentation-scratchpad-btn');_0x52be04&&(_0x52be04['onclick']=()=>{openScratchpad(_0x12ce80,_0x273cd0);});document[_0x423d5f(0x1a9)](_0x423d5f(0x2bf))['forEach'](_0x106db2=>{_0x106db2['addEventListener']('click',_0x54ef8b=>revealAnswerForPresentation(_0x5e13a7,_0x54ef8b['currentTarget']));});const _0x248e0d=document['getElementById'](_0x423d5f(0x3b4));_0x248e0d&&_0x248e0d['addEventListener'](_0x423d5f(0x8a5),()=>checkShortAnswerForPresentation(_0x5e13a7)),document[_0x423d5f(0x2a0)]('slide-counter')[_0x423d5f(0x531)]=_0x423d5f(0x84e)+(_0x5e13a7+0x1)+_0x423d5f(0x83e)+currentQuizData[_0x423d5f(0x619)][_0x423d5f(0x51f)],document[_0x423d5f(0x2a0)](_0x423d5f(0x115))[_0x423d5f(0x13f)]=_0x5e13a7===0x0,document['getElementById'](_0x423d5f(0x17b))[_0x423d5f(0x13f)]=_0x5e13a7===currentQuizData[_0x423d5f(0x619)][_0x423d5f(0x51f)]-0x1;}async function checkShortAnswerForPresentation(_0x412a2f){const _0x2b104d=_0x1c8731,_0x163469=currentQuizData[_0x2b104d(0x619)][_0x412a2f],_0x5eb2fc=document[_0x2b104d(0x2a0)](_0x2b104d(0x78f)),_0x4f7464=document['getElementById']('check-presentation-answer-btn'),_0x23bf36=document['getElementById'](_0x2b104d(0x12d)),_0x50dc05=document[_0x2b104d(0x2a0)](_0x2b104d(0x3a4));if(!_0x5eb2fc||!_0x4f7464||!_0x23bf36||!_0x50dc05)return;const _0x4299e4=_0x5eb2fc['value'][_0x2b104d(0x611)]();if(_0x4299e4==='')return;_0x4f7464['disabled']=!![],_0x4f7464[_0x2b104d(0x42b)]=_0x2b104d(0x5d9),_0x5eb2fc['disabled']=!![];const _0xedd8d2=await gradeShortAnswer(_0x4299e4,_0x163469);_0xedd8d2?_0x23bf36[_0x2b104d(0x42b)]=_0x2b104d(0x9d0):_0x23bf36[_0x2b104d(0x42b)]=_0x2b104d(0x8c0)+_0x163469[_0x2b104d(0x954)]+')',_0x23bf36[_0x2b104d(0x914)][_0x2b104d(0x278)](_0x2b104d(0x674)),_0x50dc05[_0x2b104d(0x914)]['remove'](_0x2b104d(0x674)),_0x4f7464[_0x2b104d(0x914)][_0x2b104d(0x6bb)]('hidden');}function revealAnswerForPresentation(_0x4f2196,_0x166655){const _0x14950d=_0x1c8731,_0x4dfb5a=currentQuizData[_0x14950d(0x619)][_0x4f2196],_0x42bbf5=_0x4dfb5a[_0x14950d(0x173)]||currentQuizData[_0x14950d(0x13d)];document['querySelectorAll'](_0x14950d(0x2bf))[_0x14950d(0x28e)](_0x1f2fb6=>{const _0x43fafb=_0x14950d;_0x1f2fb6[_0x43fafb(0x13f)]=!![],_0x1f2fb6['classList'][_0x43fafb(0x278)](_0x43fafb(0x48d));let _0x456f93=![];if(_0x42bbf5==='multiple_choice'||_0x42bbf5===_0x43fafb(0x71f)){const _0x53be8a=parseInt(_0x1f2fb6[_0x43fafb(0x2f8)][_0x43fafb(0x7f3)]);_0x456f93=_0x53be8a===_0x4dfb5a[_0x43fafb(0x587)];}else{if(_0x42bbf5==='true_false'){const _0x5245f4=_0x1f2fb6[_0x43fafb(0x2f8)][_0x43fafb(0x721)]===_0x43fafb(0x2f6);_0x456f93=_0x5245f4===_0x4dfb5a['correctAnswer'];}else _0x42bbf5===_0x43fafb(0x8b2)&&(_0x456f93=_0x1f2fb6['textContent'][_0x43fafb(0x611)]()===_0x4dfb5a[_0x43fafb(0x2f5)]);}_0x456f93?_0x1f2fb6[_0x43fafb(0x914)][_0x43fafb(0x6bb)](_0x43fafb(0x454),_0x43fafb(0x34c),_0x43fafb(0x28a)):_0x1f2fb6[_0x43fafb(0x914)][_0x43fafb(0x6bb)]('opacity-50');}),_0x166655['classList'][_0x14950d(0x278)](_0x14950d(0x29d));let _0xed2989=![];if(_0x42bbf5===_0x14950d(0x9f3))_0xed2989=parseInt(_0x166655[_0x14950d(0x2f8)]['index'])===_0x4dfb5a[_0x14950d(0x587)];else{if(_0x42bbf5===_0x14950d(0x19b))_0xed2989=_0x166655[_0x14950d(0x2f8)]['answer']===_0x14950d(0x2f6)===_0x4dfb5a[_0x14950d(0x701)];else _0x42bbf5===_0x14950d(0x8b2)&&(_0xed2989=_0x166655[_0x14950d(0x531)][_0x14950d(0x611)]()===_0x4dfb5a[_0x14950d(0x2f5)]);}!_0xed2989&&_0x166655['classList'][_0x14950d(0x6bb)](_0x14950d(0x2fb),_0x14950d(0x34c),_0x14950d(0x4c8)),document[_0x14950d(0x2a0)](_0x14950d(0x3a4))[_0x14950d(0x914)][_0x14950d(0x278)](_0x14950d(0x674));}function startWholeQuizTimer(_0x5eac2b){const _0x1da438=_0x1c8731,_0x1d09fc=document[_0x1da438(0x2a0)](_0x1da438(0x5c6));if(!_0x1d09fc)return;const _0x213b7e=Date[_0x1da438(0x4f9)]()+_0x5eac2b*0x3c*0x3e8;_0x1d09fc['innerHTML']=_0x1da438(0x20f);const _0x725045=document[_0x1da438(0x2a0)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0xea577b=_0x1da438,_0x3b0170=_0x213b7e-Date[_0xea577b(0x4f9)]();if(_0x3b0170<=0x0)clearInterval(quizTimerInterval),_0x725045['textContent']=_0xea577b(0x4a1),showMessage(_0xea577b(0x375)),handleSubmitQuiz(null);else{const _0x2f5814=Math[_0xea577b(0x665)](_0x3b0170/0x3e8/0x3c%0x3c)[_0xea577b(0x547)]()[_0xea577b(0x2db)](0x2,'0'),_0x2291f8=Math[_0xea577b(0x665)](_0x3b0170/0x3e8%0x3c)[_0xea577b(0x547)]()['padStart'](0x2,'0');_0x725045[_0xea577b(0x531)]=_0x2f5814+':'+_0x2291f8;}},0x3e8);}function renderPerQuestionView(){const _0x1ba973=_0x1c8731;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x2c7210=currentDisplayedQuiz[_0x1ba973(0x619)][currentQuestionIndex],_0x552efa=_0x2c7210['questionType']||currentDisplayedQuiz[_0x1ba973(0x13d)],_0x40aceb=currentDisplayedQuiz[_0x1ba973(0x141)]?.[_0x1ba973(0x110)]===!![];let _0x1de380=_0x1ba973(0x99e)+(currentQuestionIndex+0x1)+_0x1ba973(0x452)+currentDisplayedQuiz['questions'][_0x1ba973(0x51f)]+_0x1ba973(0x802)+(currentMode===_0x1ba973(0x436)?_0x1ba973(0x6d4):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+_0x1ba973(0x923);studentQuizArea[_0x1ba973(0x42b)]=_0x1de380;let _0x31099e=_0x2c7210[_0x1ba973(0x332)]||_0x2c7210['questionText'];_0x2c7210[_0x1ba973(0x25f)]&&(_0x31099e+=_0x1ba973(0x402)+_0x2c7210['imageCode']+_0x1ba973(0x18a));let _0x216a95='';switch(_0x552efa){case _0x1ba973(0x3e2):case'fill_in_no_choices':_0x216a95=_0x1ba973(0x762);break;case'true_false':_0x216a95=_0x1ba973(0x610);break;case _0x1ba973(0x8b2):_0x216a95=_0x1ba973(0x130)+(_0x2c7210[_0x1ba973(0x323)]||[])[_0x1ba973(0x429)](_0x147b45=>_0x1ba973(0x708)+_0x147b45+'\x22>'+_0x147b45+'</option>')[_0x1ba973(0x795)]('')+_0x1ba973(0x759);break;default:_0x2c7210[_0x1ba973(0x8bf)]&&(_0x216a95=_0x2c7210[_0x1ba973(0x8bf)][_0x1ba973(0x429)]((_0x214841,_0x50d45c)=>_0x1ba973(0x72c)+_0x50d45c+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x50d45c+_0x1ba973(0x30c)+_0x50d45c+'\x22>'+_0x214841+'</label></div>')[_0x1ba973(0x795)](''));break;}document['getElementById'](_0x1ba973(0x6fb))[_0x1ba973(0x42b)]=_0x31099e,document[_0x1ba973(0x2a0)](_0x1ba973(0x82e))[_0x1ba973(0x42b)]=_0x216a95;const _0x3b2780=currentDisplayedQuiz[_0x1ba973(0x141)]?.[_0x1ba973(0x110)]===!![],_0x534835=currentDisplayedQuiz[_0x1ba973(0x141)]?.['confidenceMode']||_0x1ba973(0x1a4);if(_0x3b2780&&_0x534835===_0x1ba973(0x1a4)){const _0xb13f93=_0x1ba973(0x7a3);studentQuizArea[_0x1ba973(0x265)](_0x1ba973(0x98f))[_0x1ba973(0x1f1)](_0x1ba973(0x550),_0xb13f93);}studentQuizArea[_0x1ba973(0x1f1)](_0x1ba973(0x550),_0x1ba973(0x8dc)+(currentQuestionIndex===currentDisplayedQuiz[_0x1ba973(0x619)]['length']-0x1?'ส่งคำตอบ':_0x1ba973(0x162))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20');currentMode===_0x1ba973(0x436)&&document[_0x1ba973(0x2a0)](_0x1ba973(0x1a1))?.[_0x1ba973(0x2aa)]('click',cancelAdminTest);document[_0x1ba973(0x2a0)]('next-question-timed-btn')[_0x1ba973(0x2aa)](_0x1ba973(0x8a5),()=>handleNextQuestionInTimedMode(![]));if(window[_0x1ba973(0x651)])window[_0x1ba973(0x651)][_0x1ba973(0x626)]([studentQuizArea]);currentDisplayedQuiz[_0x1ba973(0x141)]?.[_0x1ba973(0x2ea)]===_0x1ba973(0x4d2)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x41fa87=_0x1c8731,_0x197895=currentDisplayedQuiz[_0x41fa87(0x141)]['timerDuration'],_0x33331c=document[_0x41fa87(0x2a0)](_0x41fa87(0x6ee));if(!_0x33331c)return;let _0x4ac023=_0x197895;_0x33331c['innerHTML']=_0x41fa87(0xa0d)+_0x4ac023+_0x41fa87(0x21b);const _0x38651b=document[_0x41fa87(0x2a0)](_0x41fa87(0x7cd)),_0xa810d5=document[_0x41fa87(0x2a0)](_0x41fa87(0x81b));perQuestionTimerInterval=setInterval(()=>{const _0x4fdae4=_0x41fa87;_0x4ac023--;const _0x793feb=_0x4ac023/_0x197895*0x64;_0x38651b['style'][_0x4fdae4(0x66d)]=_0x793feb+'%',_0xa810d5[_0x4fdae4(0x531)]=_0x4ac023,_0x4ac023<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x4fdae4(0xf6)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x4b3e35=![]){const _0x2d0ad9=_0x1c8731;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x24f218=null,_0xeddf14=![];if(!_0x4b3e35){const _0x5195c6=currentDisplayedQuiz[_0x2d0ad9(0x619)][currentQuestionIndex],_0x1b689f=_0x5195c6[_0x2d0ad9(0x173)]||currentDisplayedQuiz[_0x2d0ad9(0x13d)];if(_0x1b689f===_0x2d0ad9(0x3e2)||_0x1b689f===_0x2d0ad9(0xf5))_0x24f218=document['querySelector'](_0x2d0ad9(0x64a))?.[_0x2d0ad9(0x556)][_0x2d0ad9(0x611)]()??'';else{if(_0x1b689f===_0x2d0ad9(0x8b2))_0x24f218=document['querySelector'](_0x2d0ad9(0x8a3))?.[_0x2d0ad9(0x556)]??'';else{const _0x5de44a=document[_0x2d0ad9(0x265)]('input[name=\x22question_single\x22]:checked');_0x5de44a&&(_0x24f218=_0x5de44a[_0x2d0ad9(0x556)]);}}if(_0x24f218===null||_0x24f218===''){showMessage(_0x2d0ad9(0x27e)),startPerQuestionTimer();return;}const _0x1ccdd3=currentDisplayedQuiz[_0x2d0ad9(0x141)]?.[_0x2d0ad9(0x110)]===!![],_0x37149b=currentDisplayedQuiz['settings']?.[_0x2d0ad9(0x84d)]||_0x2d0ad9(0x1a4);if(_0x1ccdd3&&_0x37149b===_0x2d0ad9(0x119)){document['getElementById'](_0x2d0ad9(0x94b))[_0x2d0ad9(0x2f8)][_0x2d0ad9(0x9e4)]=_0x2d0ad9(0x42d),document[_0x2d0ad9(0x2a0)]('selected-answer-index-hidden')[_0x2d0ad9(0x556)]=_0x24f218,document[_0x2d0ad9(0x2a0)](_0x2d0ad9(0x94b))['classList'][_0x2d0ad9(0x278)](_0x2d0ad9(0x674));return;}const _0x9a841=document[_0x2d0ad9(0x2a0)](_0x2d0ad9(0x35f));_0x9a841&&(_0xeddf14=_0x9a841['checked']);}const _0x219dc7={'answer':_0x24f218,'wasConfident':_0xeddf14};proceedToNextQuestion(_0x219dc7);}async function finalizePerQuestionQuiz(){const _0x2abc9b=_0x1c8731,_0x5579cf=currentDisplayedQuiz['questions'][_0x2abc9b(0x14f)](_0x49e4b8=>_0x49e4b8[_0x2abc9b(0x173)]===_0x2abc9b(0x3e2));_0x5579cf?showMessage(_0x2abc9b(0xff)):showMessage(_0x2abc9b(0x755));const _0x15fa10=currentQuizData['id'],_0x185e07=doc(db,'artifacts/'+appId+_0x2abc9b(0x39f)+_0x15fa10+_0x2abc9b(0x9cd),currentStudentName),_0x49ed9a=await getDoc(_0x185e07),_0x138d97=_0x49ed9a['exists']()?_0x49ed9a[_0x2abc9b(0x4ff)]():{},_0x658e06=_0x138d97['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x658e06);}function getResultsFilename(){const _0x45b7de=_0x1c8731,_0x5a7344=document['getElementById'](_0x45b7de(0x694))['textContent'][_0x45b7de(0x54e)](/[^a-z0-9]/gi,'_')[_0x45b7de(0x263)]();return _0x45b7de(0x508)+(_0x5a7344||'quiz');}function exportResultsAsImage(){const _0x1758c9=_0x1c8731,_0x54a3e0=document[_0x1758c9(0x2a0)](_0x1758c9(0x9bb));showMessage(_0x1758c9(0x8cf)),html2canvas(_0x54a3e0)[_0x1758c9(0x5cd)](_0x529c20=>{const _0x46e1be=_0x1758c9,_0x20955d=document['createElement']('a');_0x20955d['download']=getResultsFilename()+_0x46e1be(0x1ef),_0x20955d[_0x46e1be(0x799)]=_0x529c20['toDataURL'](_0x46e1be(0x226)),_0x20955d[_0x46e1be(0x8a5)](),messageModal['classList'][_0x46e1be(0x6bb)](_0x46e1be(0x674));});}function exportResultsAsPDF(){const _0x155ccf=_0x1c8731,{jsPDF:_0x1bd2cc}=window[_0x155ccf(0x37c)],_0x5dde86=new _0x1bd2cc();_0x5dde86['setFont'](_0x155ccf(0x35b),_0x155ccf(0x4bb)),_0x5dde86[_0x155ccf(0x49b)]({'html':_0x155ccf(0x40f)}),_0x5dde86[_0x155ccf(0x894)](getResultsFilename()+_0x155ccf(0x22e));}function exportResultsAsWord(){const _0x148b21=_0x1c8731,_0x358d46=_0x148b21(0x952)+_0x148b21(0x2b7)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x148b21(0x38d),_0x12574a=_0x148b21(0x4c5),_0x525701=_0x358d46+document[_0x148b21(0x2a0)](_0x148b21(0x9bb))[_0x148b21(0x42b)]+_0x12574a,_0x40dc09=_0x148b21(0x90b)+encodeURIComponent(_0x525701),_0x2e755e=document[_0x148b21(0x2ae)]('a');document[_0x148b21(0x247)][_0x148b21(0x716)](_0x2e755e),_0x2e755e[_0x148b21(0x799)]=_0x40dc09,_0x2e755e[_0x148b21(0x872)]=getResultsFilename()+'.doc',_0x2e755e[_0x148b21(0x8a5)](),document[_0x148b21(0x247)]['removeChild'](_0x2e755e);}function exportResultsAsExcel(){const _0x12762f=_0x1c8731,_0x335617=document[_0x12762f(0x2a0)](_0x12762f(0x3d0));let _0x4dc36c=[];for(let _0x413fe2=0x0;_0x413fe2<_0x335617['rows']['length'];_0x413fe2++){let _0x43fabe=[],_0x5a08a1=_0x335617['rows'][_0x413fe2][_0x12762f(0x1a9)](_0x12762f(0x417));for(let _0x1b8da0=0x0;_0x1b8da0<_0x5a08a1[_0x12762f(0x51f)];_0x1b8da0++){_0x43fabe[_0x12762f(0x74b)]('\x22'+_0x5a08a1[_0x1b8da0][_0x12762f(0x54b)][_0x12762f(0x54e)](/"/g,'\x22\x22')+'\x22');}_0x4dc36c[_0x12762f(0x74b)](_0x43fabe['join'](','));}const _0x559a92=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x4dc36c['join']('\x0a')],{'type':_0x12762f(0x7f9)}),_0x7f330a=document[_0x12762f(0x2ae)]('a');_0x7f330a[_0x12762f(0x799)]=URL['createObjectURL'](_0x559a92),_0x7f330a[_0x12762f(0x872)]=getResultsFilename()+_0x12762f(0x5a0),_0x7f330a[_0x12762f(0x8a5)]();}function exportTableAsImage(_0x388f04,_0x388baf){const _0x39fc6f=_0x1c8731,_0x4a36cd=document[_0x39fc6f(0x2a0)](_0x388f04);if(!_0x4a36cd){showMessage(_0x39fc6f(0x860));return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x4a36cd)[_0x39fc6f(0x5cd)](_0x4e78f4=>{const _0x5b4324=_0x39fc6f,_0x53a877=document[_0x5b4324(0x2ae)]('a');_0x53a877[_0x5b4324(0x872)]=_0x388baf+_0x5b4324(0x1ef),_0x53a877[_0x5b4324(0x799)]=_0x4e78f4[_0x5b4324(0x822)](_0x5b4324(0x226)),_0x53a877['click'](),messageModal['classList']['add'](_0x5b4324(0x674));});}function exportTableAsPDF(_0x208ba5,_0x2a8f81){const _0x4869b6=_0x1c8731,{jsPDF:_0xb4d723}=window['jspdf'],_0x4d8d72=new _0xb4d723();_0x4d8d72[_0x4869b6(0x2be)](_0x4869b6(0x35b),_0x4869b6(0x4bb)),_0x4d8d72[_0x4869b6(0x49b)]({'html':'#'+_0x208ba5}),_0x4d8d72['save'](_0x2a8f81+_0x4869b6(0x22e));}function exportTableAsWord(_0xa99aa4,_0x3ddfcc){const _0x43833f=_0x1c8731,_0x1da24b=document[_0x43833f(0x2a0)](_0xa99aa4);if(!_0x1da24b){showMessage(_0x43833f(0x860));return;}const _0x546d2a=_0x43833f(0x952)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x43833f(0x339)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x46282c=_0x43833f(0x4c5),_0x3f09e4=_0x546d2a+_0x1da24b['innerHTML']+_0x46282c,_0x559f07=_0x43833f(0x90b)+encodeURIComponent(_0x3f09e4),_0x4cbfa1=document[_0x43833f(0x2ae)]('a');document[_0x43833f(0x247)]['appendChild'](_0x4cbfa1),_0x4cbfa1[_0x43833f(0x799)]=_0x559f07,_0x4cbfa1['download']=_0x3ddfcc+_0x43833f(0x40a),_0x4cbfa1[_0x43833f(0x8a5)](),document['body'][_0x43833f(0x67d)](_0x4cbfa1);}function exportTableAsExcel(_0x3830d4,_0x16187e){const _0x5d8520=_0x1c8731,_0x12e4a6=document[_0x5d8520(0x2a0)](_0x3830d4);if(!_0x12e4a6){showMessage(_0x5d8520(0x860));return;}let _0x1493d6=[];for(let _0x5f2fa0=0x0;_0x5f2fa0<_0x12e4a6[_0x5d8520(0x395)][_0x5d8520(0x51f)];_0x5f2fa0++){let _0x4ff42d=[],_0xcd094d=_0x12e4a6[_0x5d8520(0x395)][_0x5f2fa0][_0x5d8520(0x1a9)](_0x5d8520(0x417));for(let _0x1660da=0x0;_0x1660da<_0xcd094d[_0x5d8520(0x51f)];_0x1660da++){_0x4ff42d[_0x5d8520(0x74b)]('\x22'+_0xcd094d[_0x1660da]['innerText'][_0x5d8520(0x54e)](/"/g,'\x22\x22')+'\x22');}_0x1493d6[_0x5d8520(0x74b)](_0x4ff42d['join'](','));}const _0x497c93=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1493d6[_0x5d8520(0x795)]('\x0a')],{'type':_0x5d8520(0x7f9)}),_0x17826b=document[_0x5d8520(0x2ae)]('a');_0x17826b[_0x5d8520(0x799)]=URL['createObjectURL'](_0x497c93),_0x17826b['download']=_0x16187e+_0x5d8520(0x5a0),_0x17826b[_0x5d8520(0x8a5)]();}function renderAnalytics(_0x53faa6,_0x3b9460){const _0x3a70bd=_0x1c8731,_0xf323e8=_0x3b9460['filter'](_0xadbd20=>_0xadbd20[_0x3a70bd(0x131)]!==undefined),_0xf86674=currentProjectData[_0x3a70bd(0x56a)][_0x3a70bd(0x51f)],_0x893f51=_0xf323e8[_0x3a70bd(0x51f)],_0x96160f=_0xf86674-_0x893f51,_0x30f3bd=_0xf86674>0x0?_0x893f51/_0xf86674*0x64:0x0,_0x47a1b7=_0xf323e8[_0x3a70bd(0x429)](_0x1e04d0=>_0x1e04d0[_0x3a70bd(0x131)]),_0x4a78b8=_0x47a1b7[_0x3a70bd(0x51f)]>0x0?_0x47a1b7[_0x3a70bd(0x650)]((_0x1a10f0,_0x4bcc3f)=>_0x1a10f0+_0x4bcc3f,0x0)/_0x47a1b7[_0x3a70bd(0x51f)]:0x0,_0xc95f70=_0x53faa6[_0x3a70bd(0x619)][_0x3a70bd(0x51f)],_0x550cf6=_0xc95f70>0x0?_0x4a78b8/_0xc95f70*0x64:0x0,_0x4854e6=calculateItemAnalysis(_0x53faa6,_0xf323e8),_0x4913ca=calculateReliabilityKR20(_0x53faa6,_0xf323e8,_0x4854e6[_0x3a70bd(0x494)]);let _0x3cf33d='';if(_0x4913ca!==null){let _0x4c101d='';if(_0x4913ca>=0.9)_0x4c101d=_0x3a70bd(0x1e7);else{if(_0x4913ca>=0.8)_0x4c101d=_0x3a70bd(0x165);else{if(_0x4913ca>=0.7)_0x4c101d='ดี';else{if(_0x4913ca>=0.6)_0x4c101d=_0x3a70bd(0x8c3);else _0x4c101d=_0x3a70bd(0x434);}}}_0x3cf33d=_0x3a70bd(0x6c1)+_0x4913ca['toFixed'](0x2)+_0x3a70bd(0xd0)+_0x4c101d+_0x3a70bd(0x9a2);}const _0xc42651=document[_0x3a70bd(0x2a0)]('analytics-summary-cards');_0xc42651[_0x3a70bd(0x42b)]=_0x3a70bd(0x80e)+_0x30f3bd[_0x3a70bd(0x3f1)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x893f51+'/'+_0xf86674+_0x3a70bd(0x17c)+_0x4a78b8['toFixed'](0x2)+_0x3a70bd(0x2d1)+_0x550cf6[_0x3a70bd(0x3f1)](0x0)+_0x3a70bd(0xae)+(_0x47a1b7[_0x3a70bd(0x51f)]>0x0?Math[_0x3a70bd(0x7e7)](..._0x47a1b7):_0x3a70bd(0x808))+_0x3a70bd(0x3e3)+(_0x47a1b7[_0x3a70bd(0x51f)]>0x0?Math['min'](..._0x47a1b7):_0x3a70bd(0x808))+_0x3a70bd(0x9d6)+_0x3cf33d+_0x3a70bd(0x365);const _0x4f2eaf=document[_0x3a70bd(0x2a0)](_0x3a70bd(0x98c));_0x4f2eaf&&_0x4f2eaf['remove']();const _0x5897ff=_0x3a70bd(0x3f5);_0xc42651['insertAdjacentHTML'](_0x3a70bd(0x634),_0x5897ff);const _0x1c6cc8=currentProjectData[_0x3a70bd(0x56a)]||[];renderSubmissionChart(_0x893f51,_0x96160f,_0xf323e8,_0x1c6cc8),renderScoreDistributionChart(_0xf323e8,_0xc95f70),renderQuestionAnalytics(_0x53faa6,_0xf323e8,_0x1c6cc8),renderInterestingStats(_0x53faa6,_0xf323e8);}async function handleExportLessonPDF(){const _0x59bba0=_0x1c8731,_0x575423=document['getElementById'](_0x59bba0(0x745)),_0x364f2a=document[_0x59bba0(0x2a0)](_0x59bba0(0x129))[_0x59bba0(0x531)],_0x339bf1=window[_0x59bba0(0x985)]('','_blank'),_0x5ed57d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x364f2a+_0x59bba0(0x7fe)+_0x575423[_0x59bba0(0x42b)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x339bf1[_0x59bba0(0x739)]['write'](_0x5ed57d),_0x339bf1[_0x59bba0(0x739)]['close'](),_0x339bf1[_0x59bba0(0x703)]=function(){setTimeout(()=>{_0x339bf1['print']();},0x5dc);};}function renderInterestingStats(_0x14f46b,_0x3f8799){const _0x502198=_0x1c8731,_0x1cac59=document[_0x502198(0x2a0)](_0x502198(0x52e));if(!_0x1cac59)return;if(_0x3f8799['length']===0x0){_0x1cac59[_0x502198(0x42b)]=_0x502198(0x1cc);return;}const _0x2c3bd7=_0x14f46b[_0x502198(0x619)][_0x502198(0x429)]((_0x2fa4a1,_0x129e54)=>({'index':_0x129e54+0x1,'text':_0x2fa4a1['questionText']||_0x2fa4a1[_0x502198(0x332)],'correct':0x0}));_0x3f8799[_0x502198(0x28e)](_0x31dc0d=>{const _0x2968f8=_0x502198,_0x1dbc26=_0x31dc0d[_0x2968f8(0x245)][_0x31dc0d[_0x2968f8(0x245)]['length']-0x1];_0x1dbc26&&_0x1dbc26[_0x2968f8(0x2ab)]&&_0x1dbc26[_0x2968f8(0x2ab)]['forEach'](_0x450edb=>{const _0x3b4578=_0x2968f8,_0x454e14=_0x2c3bd7[_0x3b4578(0x216)](_0x391c31=>_0x391c31['text']===_0x450edb['originalQuestionText']);_0x450edb[_0x3b4578(0x69b)]&&_0x454e14&&_0x454e14[_0x3b4578(0x74e)]++;});});const _0x49c97b=_0x3f8799[_0x502198(0x51f)],_0x105112=Math[_0x502198(0x7e7)](..._0x2c3bd7[_0x502198(0x429)](_0x587819=>_0x587819[_0x502198(0x74e)])),_0x219a75=Math[_0x502198(0x188)](..._0x2c3bd7[_0x502198(0x429)](_0x27625c=>_0x27625c[_0x502198(0x74e)])),_0x2b4262=_0x2c3bd7[_0x502198(0x29a)](_0x3eee22=>_0x3eee22[_0x502198(0x74e)]===_0x105112)['map'](_0x4c4b9f=>_0x502198(0xb7)+_0x4c4b9f[_0x502198(0x7f3)]),_0x485045=_0x2c3bd7[_0x502198(0x29a)](_0x3acf00=>_0x3acf00[_0x502198(0x74e)]===_0x219a75)[_0x502198(0x429)](_0x30e0ad=>_0x502198(0xb7)+_0x30e0ad[_0x502198(0x7f3)]),_0x15a923=_0x3f8799[_0x502198(0x3a9)]((_0xc63b9c,_0x5d9dcd)=>_0x5d9dcd[_0x502198(0x131)]-_0xc63b9c[_0x502198(0x131)])['filter']((_0x500c98,_0x2cae8a,_0x4b1a26)=>_0x500c98[_0x502198(0x131)]===_0x4b1a26[0x0][_0x502198(0x131)]),_0x502073=_0x3f8799[_0x502198(0x3a9)]((_0x8f68d3,_0x40e623)=>_0x8f68d3['latestScore']-_0x40e623[_0x502198(0x131)])[_0x502198(0x29a)]((_0x248892,_0x234b92,_0x5481e9)=>_0x248892['latestScore']===_0x5481e9[0x0][_0x502198(0x131)]),_0x5cf61d=_0x502198(0x7dd)+_0x2b4262[_0x502198(0x795)](',\x20')+_0x502198(0x5ad)+_0x105112+_0x502198(0x83e)+_0x49c97b+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x485045[_0x502198(0x795)](',\x20')+_0x502198(0x5ad)+(_0x49c97b-_0x219a75)+_0x502198(0x83e)+_0x49c97b+_0x502198(0x763)+_0x15a923[_0x502198(0x429)](_0x49423a=>_0x49423a['studentName'])[_0x502198(0x795)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x15a923[0x0][_0x502198(0x131)]+_0x502198(0x72a)+_0x502073[_0x502198(0x429)](_0x1e548b=>_0x1e548b[_0x502198(0x5b8)])[_0x502198(0x795)](',\x20')+_0x502198(0x10f)+_0x502073[0x0][_0x502198(0x131)]+_0x502198(0x846);_0x1cac59[_0x502198(0x42b)]=_0x5cf61d;}function renderSubmissionChart(_0x5c4056,_0x5898e4,_0x8868cb,_0x5c9061){const _0x4ba758=_0x1c8731,_0x5027bc=document[_0x4ba758(0x2a0)]('submission-status-chart')[_0x4ba758(0x8f7)]('2d'),_0x5436a7=_0x8868cb[_0x4ba758(0x429)](_0x21fb7b=>_0x21fb7b[_0x4ba758(0x5b8)]),_0x13a91c=_0x5c9061[_0x4ba758(0x29a)](_0x396d87=>!_0x5436a7['includes'](_0x396d87));chartInstances[_0x4ba758(0x9f1)]&&chartInstances[_0x4ba758(0x9f1)][_0x4ba758(0x8fb)](),chartInstances[_0x4ba758(0x9f1)]=new Chart(_0x5027bc,{'type':_0x4ba758(0x845),'data':{'labels':['ส่งแล้ว',_0x4ba758(0x4cb)],'datasets':[{'data':[_0x5c4056,_0x5898e4],'backgroundColor':[_0x4ba758(0x185),_0x4ba758(0x232)],'borderColor':['#ffffff','#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x4ba758(0x7c7)},'tooltip':{'callbacks':{'label':function(_0x1a9f07){const _0x4a4db8=_0x4ba758;let _0x1a7665=_0x1a9f07[_0x4a4db8(0x990)]||'';return _0x1a7665&&(_0x1a7665+=':\x20'),_0x1a7665+=_0x1a9f07[_0x4a4db8(0x45a)],_0x1a7665;},'afterLabel':function(_0x18e78d){const _0x4b5bfe=_0x4ba758;let _0x1f61ee;return _0x18e78d['dataIndex']===0x0?_0x1f61ee=_0x5436a7:_0x1f61ee=_0x13a91c,_0x1f61ee['length']>0x0?_0x1f61ee['join']('\x0a'):_0x4b5bfe(0x959);}}}}}});}function renderScoreDistributionChart(_0x3b4a24,_0x2e642b){const _0x5438e3=_0x1c8731,_0x19dc90=document[_0x5438e3(0x2a0)]('score-distribution-chart')[_0x5438e3(0x8f7)]('2d'),_0x22eabe={};for(let _0x2ced51=0x0;_0x2ced51<=_0x2e642b;_0x2ced51++){_0x22eabe[_0x2ced51]=0x0;}_0x3b4a24[_0x5438e3(0x28e)](_0x4695ca=>{const _0xe27750=_0x5438e3;_0x22eabe[_0x4695ca[_0xe27750(0x131)]]!==undefined&&_0x22eabe[_0x4695ca['latestScore']]++;}),chartInstances[_0x5438e3(0x968)]&&chartInstances[_0x5438e3(0x968)]['destroy'](),chartInstances['score']=new Chart(_0x19dc90,{'type':_0x5438e3(0x244),'data':{'labels':Object['keys'](_0x22eabe),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x5438e3(0x390)](_0x22eabe),'backgroundColor':_0x5438e3(0xa28),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x5438e3(0x4be)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x397224){const _0x33b34a=_0x5438e3,_0x2da883=_0x397224[_0x33b34a(0x990)],_0x3cadba=_0x3b4a24[_0x33b34a(0x29a)](_0x5e777b=>_0x5e777b[_0x33b34a(0x131)]==_0x2da883)[_0x33b34a(0x429)](_0x284919=>_0x284919['studentName']);return _0x3cadba['length']>0x0?_0x3cadba[_0x33b34a(0x795)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x2d6765,_0x39e478,_0xea7be8){const _0x4902d1=_0x1c8731,_0x4a6209=document[_0x4902d1(0x2a0)](_0x4902d1(0xa18));if(_0xea7be8[_0x4902d1(0x51f)]===0x0){_0x4a6209[_0x4902d1(0x42b)]=_0x4902d1(0x667);return;}const _0x214905=calculateItemAnalysis(_0x2d6765,_0x39e478),_0x27efe8=calculateDistractorAnalysis(_0x2d6765,_0x39e478);let _0x5de089='';_0x214905[_0x4902d1(0x1cb)]&&(_0x5de089=_0x4902d1(0x43a)+_0x214905[_0x4902d1(0x1cb)][_0x4902d1(0x1d7)][_0x4902d1(0x51f)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x214905[_0x4902d1(0x1cb)][_0x4902d1(0x1d7)][_0x4902d1(0x429)](_0x48db05=>_0x4902d1(0x53e)+_0x48db05+_0x4902d1(0x2b1))[_0x4902d1(0x795)]('')+_0x4902d1(0x962)+_0x214905['overallGroups']['lowerGroupNames'][_0x4902d1(0x51f)]+_0x4902d1(0x46c)+_0x214905[_0x4902d1(0x1cb)]['lowerGroupNames'][_0x4902d1(0x429)](_0x94dbaf=>_0x4902d1(0x53e)+_0x94dbaf+_0x4902d1(0x2b1))[_0x4902d1(0x795)]('')+_0x4902d1(0x3dd));let _0x390bec='';const _0xada57a=_0x39e478[_0x4902d1(0x429)](_0x3cf46e=>_0x3cf46e[_0x4902d1(0x5b8)]),_0x2bd4d5=_0x1e0c7e=>{const _0x10dfce=_0x4902d1;if(_0x1e0c7e>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x1e0c7e>=0.6)return _0x10dfce(0x122);if(_0x1e0c7e>=0.4)return _0x10dfce(0x113);if(_0x1e0c7e>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x16e793=_0x14518d=>{const _0x36d754=_0x4902d1;if(_0x14518d<0x0)return _0x36d754(0x1b3);if(_0x14518d>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x14518d>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x14518d>=0.2)return _0x36d754(0x9e3);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x377aa2=_0x2fc8ba=>{const _0x443680=_0x4902d1,_0x3cbba6=_0x2fc8ba[_0x443680(0x3f1)](0x0);if(parseFloat(_0x3cbba6)===0x64)return _0x443680(0x81d)+_0x3cbba6+'%</span>';if(_0x2fc8ba>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x3cbba6+_0x443680(0x5e6);return _0x443680(0x366)+_0x3cbba6+'%</span>';};_0x2d6765[_0x4902d1(0x619)]['forEach']((_0x32abad,_0x1bfe19)=>{const _0x409f14=_0x4902d1,_0x2ae82c=_0x214905[_0x409f14(0x494)][_0x1bfe19],_0x35f8da=_0x27efe8[_0x1bfe19],_0x38d08a=_0x32abad['stem']||_0x32abad[_0x409f14(0x2dc)]||_0x32abad[_0x409f14(0x2c6)];let _0x41ce8f=0x0;const _0x44dee5=[],_0xc36715=[];_0x39e478[_0x409f14(0x28e)](_0x3dc983=>{const _0x37ef07=_0x409f14,_0x5f478a=_0x3dc983[_0x37ef07(0x245)][_0x3dc983[_0x37ef07(0x245)][_0x37ef07(0x51f)]-0x1];if(_0x5f478a&&_0x5f478a['answers']){const _0x77a124=_0x5f478a['answers'][_0x37ef07(0x216)](_0x2b73b6=>_0x2b73b6[_0x37ef07(0x1ce)]===_0x38d08a)??_0x5f478a[_0x37ef07(0x2ab)][_0x1bfe19]??null;_0x77a124&&(_0x77a124[_0x37ef07(0x69b)]?(_0x41ce8f++,_0x44dee5[_0x37ef07(0x74b)](_0x3dc983['studentName'])):_0xc36715[_0x37ef07(0x74b)](_0x3dc983['studentName']));}});const _0x3eb2e6=_0x39e478[_0x409f14(0x51f)]>0x0?_0x41ce8f/_0x39e478['length']*0x64:0x0,_0x389bef=_0xea7be8[_0x409f14(0x29a)](_0x206ff1=>!_0xada57a[_0x409f14(0x4c6)](_0x206ff1)),_0x1a5d8c=_0x2ae82c?_0x409f14(0x8a6)+_0x2ae82c['p'][_0x409f14(0x3f1)](0x2)+_0x409f14(0x396)+_0x2bd4d5(_0x2ae82c['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x2ae82c['r'][_0x409f14(0x3f1)](0x2)+_0x409f14(0x396)+_0x16e793(_0x2ae82c['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x377aa2(_0x3eb2e6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x2c44db='';_0x35f8da&&(_0x2c44db=_0x409f14(0x9eb)+Object[_0x409f14(0x37d)](_0x35f8da)[_0x409f14(0x429)](_0x55e572=>{const _0x540479=_0x409f14,_0x53b234=_0x35f8da[_0x55e572],_0x2eb4b4=parseInt(_0x55e572)===_0x32abad['correctAnswerIndex'],_0x519d0e=!_0x2eb4b4&&_0x53b234[_0x540479(0x85b)]>_0x53b234[_0x540479(0x3b7)];return'<tr\x20class=\x22'+(_0x2eb4b4?_0x540479(0x945):'')+_0x540479(0x9f5)+(_0x2eb4b4?'✔\x20':'')+_0x53b234[_0x540479(0x45d)]+_0x540479(0x5b2)+_0x53b234['upper_group_count']+_0x540479(0x5b2)+_0x53b234[_0x540479(0x85b)]+'\x20'+(_0x519d0e?'👍':'')+_0x540479(0x5b2)+_0x53b234[_0x540479(0x312)]+_0x540479(0x782);})[_0x409f14(0x795)]('')+_0x409f14(0x659));let _0x3d3aa1='';_0x2ae82c&&_0x2ae82c[_0x409f14(0x4da)]&&(_0x3d3aa1=_0x409f14(0x21a)+_0x2ae82c[_0x409f14(0x4da)][_0x409f14(0x51f)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x2ae82c[_0x409f14(0x4da)]['map'](_0x409cdf=>_0x409f14(0x53e)+(_0x409cdf[_0x409f14(0x69b)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x409f14(0x433))+'\x20'+_0x409cdf[_0x409f14(0x3d6)]+_0x409f14(0x2b1))[_0x409f14(0x795)]('')+_0x409f14(0x4d3)+_0x2ae82c[_0x409f14(0x64e)]['length']+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x2ae82c[_0x409f14(0x64e)][_0x409f14(0x429)](_0x370e73=>_0x409f14(0x53e)+(_0x370e73[_0x409f14(0x69b)]?_0x409f14(0x1ca):_0x409f14(0x433))+'\x20'+_0x370e73[_0x409f14(0x3d6)]+_0x409f14(0x2b1))[_0x409f14(0x795)]('')+_0x409f14(0x56c)),_0x390bec+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x1bfe19+0x1)+':\x20'+_0x38d08a+_0x409f14(0x2ca)+_0x1a5d8c+_0x409f14(0x478)+_0x38d08a+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x41ce8f+'\x20จาก\x20'+_0x39e478[_0x409f14(0x51f)]+_0x409f14(0x373)+_0x3eb2e6[_0x409f14(0x3f1)](0x0)+_0x409f14(0x5ca)+_0x44dee5[_0x409f14(0x51f)]+_0x409f14(0x48e)+(_0x44dee5[_0x409f14(0x51f)]>0x0?_0x44dee5['join'](',\x20'):_0x409f14(0x959))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0xc36715['length']+_0x409f14(0x48e)+(_0xc36715[_0x409f14(0x51f)]>0x0?_0xc36715[_0x409f14(0x795)](',\x20'):_0x409f14(0x959))+_0x409f14(0x3a5)+_0x389bef[_0x409f14(0x51f)]+_0x409f14(0x48e)+(_0x389bef['length']>0x0?_0x389bef['join'](',\x20'):_0x409f14(0x959))+_0x409f14(0x33a)+_0x2c44db+_0x409f14(0x935)+_0x3d3aa1+_0x409f14(0x7c3);}),_0x4a6209[_0x4902d1(0x42b)]=_0x5de089+_0x390bec;try{window[_0x4902d1(0x651)]&&MathJax[_0x4902d1(0x626)]&&MathJax[_0x4902d1(0x626)]([_0x4a6209]);}catch(_0x508e1d){console[_0x4902d1(0xa1a)](_0x4902d1(0x9ca),_0x508e1d);}}function calculateDistractorAnalysis(_0x22f482,_0x27f86b){const _0x4a0c40=_0x1c8731,_0x5ded4f={};if(_0x27f86b['length']<0x2)return _0x5ded4f;const _0xee8c1c=[..._0x27f86b][_0x4a0c40(0x3a9)]((_0x2c17bd,_0xad535d)=>{const _0x2352ed=_0x4a0c40,_0x3c2b04=_0xad535d[_0x2352ed(0x131)]-_0x2c17bd[_0x2352ed(0x131)];if(_0x3c2b04!==0x0)return _0x3c2b04;const _0x5b686f=_0x2c17bd['attempts']?.['length']||0x1,_0x2421e7=_0xad535d[_0x2352ed(0x245)]?.[_0x2352ed(0x51f)]||0x1,_0x1ca013=_0x5b686f-_0x2421e7;if(_0x1ca013!==0x0)return _0x1ca013;const _0x86efce=new Date(_0x2c17bd[_0x2352ed(0x437)]),_0x4a6727=new Date(_0xad535d[_0x2352ed(0x437)]),_0x12fe42=_0x86efce-_0x4a6727;if(_0x12fe42!==0x0)return _0x12fe42;return _0x2c17bd[_0x2352ed(0x5b8)]['localeCompare'](_0xad535d[_0x2352ed(0x5b8)],'th');}),_0x4ba396=_0xee8c1c['length'],_0x4c7872=Math[_0x4a0c40(0x7e7)](0x1,Math[_0x4a0c40(0x665)](_0x4ba396*0.33)),_0x2137ff=_0xee8c1c[_0x4a0c40(0x469)](0x0,_0x4c7872),_0x5df642=_0xee8c1c[_0x4a0c40(0x469)](-_0x4c7872);return _0x22f482[_0x4a0c40(0x619)][_0x4a0c40(0x28e)]((_0x3f01e5,_0x59f435)=>{const _0x4aa92c=_0x4a0c40;if(_0x3f01e5[_0x4aa92c(0x173)]!=='multiple_choice'||!_0x3f01e5[_0x4aa92c(0x8bf)])return;const _0x2b2cae=_0x3f01e5[_0x4aa92c(0x2dc)],_0x220d01={};_0x3f01e5[_0x4aa92c(0x8bf)][_0x4aa92c(0x28e)]((_0x13f86b,_0x203cea)=>{_0x220d01[_0x203cea]={'text':_0x13f86b,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0xee8c1c[_0x4aa92c(0x28e)](_0x4f5a13=>{const _0x2d3d6a=_0x4aa92c,_0xce9e3b=_0x4f5a13[_0x2d3d6a(0x245)][_0x4f5a13[_0x2d3d6a(0x245)][_0x2d3d6a(0x51f)]-0x1],_0x1d1835=_0xce9e3b[_0x2d3d6a(0x2ab)][_0x2d3d6a(0x216)](_0x1b0ccd=>_0x1b0ccd[_0x2d3d6a(0x1ce)]===_0x2b2cae);if(_0x1d1835&&_0x1d1835[_0x2d3d6a(0x721)]!==null){const _0x48c971=_0x3f01e5['options'][_0x2d3d6a(0x1f6)](_0x1b44d0=>_0x1b44d0===_0x1d1835[_0x2d3d6a(0x83d)]);_0x48c971!==-0x1&&_0x220d01[_0x48c971]&&(_0x220d01[_0x48c971][_0x2d3d6a(0x312)]++,_0x2137ff[_0x2d3d6a(0x4c6)](_0x4f5a13)&&_0x220d01[_0x48c971]['upper_group_count']++,_0x5df642['includes'](_0x4f5a13)&&_0x220d01[_0x48c971][_0x2d3d6a(0x85b)]++);}}),_0x5ded4f[_0x59f435]=_0x220d01;}),_0x5ded4f;}function calculateReliabilityKR20(_0x180f2b,_0x2c283a,_0x2f8753){const _0x27fe20=_0x1c8731,_0x5d80d5=_0x180f2b[_0x27fe20(0x619)][_0x27fe20(0x51f)];if(_0x5d80d5<0x2||_0x2c283a['length']<0x2)return null;const _0x399108=_0x2c283a[_0x27fe20(0x429)](_0x255a71=>_0x255a71[_0x27fe20(0x131)]),_0x28e9db=_0x399108[_0x27fe20(0x650)]((_0x35a49d,_0x28905c)=>_0x35a49d+_0x28905c,0x0)/_0x399108[_0x27fe20(0x51f)],_0x5b2daf=_0x399108[_0x27fe20(0x429)](_0x2b6947=>Math[_0x27fe20(0xbc)](_0x2b6947-_0x28e9db,0x2))['reduce']((_0x263a1d,_0x553744)=>_0x263a1d+_0x553744,0x0)/_0x399108[_0x27fe20(0x51f)];if(_0x5b2daf===0x0)return null;let _0x2e2e98=0x0;for(let _0x1f2239=0x0;_0x1f2239<_0x5d80d5;_0x1f2239++){const _0x56484f=_0x2f8753[_0x1f2239]?.['p'];if(_0x56484f===undefined)continue;const _0xf59828=0x1-_0x56484f;_0x2e2e98+=_0x56484f*_0xf59828;}if(_0x2e2e98===0x0)return null;const _0x34ce2b=_0x5d80d5/(_0x5d80d5-0x1)*(0x1-_0x2e2e98/_0x5b2daf);if(_0x34ce2b>0x1)return null;return _0x34ce2b;}async function handleAnalyzeClass(){const _0x881778=_0x1c8731;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x881778(0xa4));return;}const _0x530cb4=collection(db,_0x881778(0x804)+appId+_0x881778(0x39f)+currentQuizData['id']+_0x881778(0x9cd)),_0x50299e=await getDocs(_0x530cb4),_0x319bec=_0x50299e[_0x881778(0x1c5)][_0x881778(0x429)](_0x1e35ec=>_0x1e35ec[_0x881778(0x4ff)]());if(_0x319bec[_0x881778(0x51f)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x3efcc0=document[_0x881778(0x2a0)](_0x881778(0x972));_0x3efcc0[_0x881778(0x42b)]=_0x881778(0x2eb),document['getElementById'](_0x881778(0x17e))[_0x881778(0x13f)]=!![];const _0x4e7bfa=_0x319bec[_0x881778(0x429)]((_0xc373e7,_0x13fa11)=>{const _0x3ec26e=_0x881778,_0xe4e59c=_0xc373e7[_0x3ec26e(0x245)][_0xc373e7[_0x3ec26e(0x245)][_0x3ec26e(0x51f)]-0x1];if(!_0xe4e59c)return'';return _0x3ec26e(0x817)+(_0x13fa11+0x1)+'\x20('+_0xc373e7['studentName']+_0x3ec26e(0x621)+_0xe4e59c[_0x3ec26e(0x968)]+'/'+_0xc373e7['totalQuestions']+_0x3ec26e(0x838)+JSON[_0x3ec26e(0x91e)](_0xe4e59c[_0x3ec26e(0x2ab)])+_0x3ec26e(0x908);})['join']('\x0a---\x0a'),_0x4ea7b4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x881778(0x39a)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON['stringify'](currentQuizData['questions'])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e7bfa+_0x881778(0x2b4),_0x5a5ccd={'type':_0x881778(0x3e8),'properties':{'classStrengths':{'type':_0x881778(0x64d),'items':{'type':_0x881778(0x2ec)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x881778(0x2ec)}},'teacherSuggestions':{'type':_0x881778(0x64d),'items':{'type':_0x881778(0x2ec)}}},'required':[_0x881778(0x709),_0x881778(0x50b),_0x881778(0x367)]};try{const _0x5a6647=await callAnalysisApi(_0x4ea7b4,_0x5a5ccd);displayClassAnalysis(_0x5a6647);}catch(_0x359abe){console[_0x881778(0xa1a)](_0x881778(0x9ee),_0x359abe),_0x3efcc0[_0x881778(0x42b)]=_0x881778(0x3db)+_0x359abe[_0x881778(0x285)]+'</p></div>';}finally{document[_0x881778(0x2a0)](_0x881778(0x17e))[_0x881778(0x13f)]=![];}}function displayClassAnalysis(_0x333f9e){const _0x92c8a2=_0x1c8731,_0xc3ae9e=document['getElementById'](_0x92c8a2(0x972));if(!_0x333f9e){_0xc3ae9e[_0x92c8a2(0x42b)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0xc3ae9e['innerHTML']=_0x92c8a2(0x409)+_0x333f9e[_0x92c8a2(0x709)][_0x92c8a2(0x429)](_0xeb2882=>'<li>'+_0xeb2882+_0x92c8a2(0x2b1))[_0x92c8a2(0x795)]('')+_0x92c8a2(0x700)+_0x333f9e[_0x92c8a2(0x50b)]['map'](_0x45730d=>_0x92c8a2(0x53e)+_0x45730d+_0x92c8a2(0x2b1))[_0x92c8a2(0x795)]('')+_0x92c8a2(0x9fc)+_0x333f9e[_0x92c8a2(0x367)]['map'](_0x54cde2=>_0x92c8a2(0x53e)+_0x54cde2+_0x92c8a2(0x2b1))[_0x92c8a2(0x795)]('')+_0x92c8a2(0x7ea);}function formatAndPrintWorksheet(_0x48889f,_0x1d8b9c){const _0x234128=_0x1c8731,_0x3cb634=_0x234128(0x9c4)+_0x48889f[_0x234128(0x39a)]+_0x234128(0x477)+_0x48889f[_0x234128(0x39a)]+_0x234128(0x21d)+_0x48889f[_0x234128(0x619)]['map']((_0x4e1ef7,_0x2c3925)=>_0x234128(0x36d)+(_0x2c3925+0x1)+'.\x20'+_0x4e1ef7[_0x234128(0x2dc)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4e1ef7['imageCode']?_0x234128(0x6ac)+_0x4e1ef7['imageCode']+'</div>':'')+_0x234128(0x671))[_0x234128(0x795)]('')+_0x234128(0x5ec);_0x1d8b9c[_0x234128(0x739)]['write'](_0x3cb634),_0x1d8b9c[_0x234128(0x739)][_0x234128(0x3b6)](),_0x1d8b9c[_0x234128(0x703)]=function(){setTimeout(()=>{const _0x546765=_0x5736;_0x1d8b9c[_0x546765(0xe4)]();},0x3e8);};}async function generateWorksheet(){const _0x590e4c=_0x1c8731,_0x2688bb=document[_0x590e4c(0x2a0)](_0x590e4c(0x4f1))['value'][_0x590e4c(0x611)]();if(!_0x2688bb){showMessage(_0x590e4c(0x111));return;}const _0xd7c884=document[_0x590e4c(0x2a0)](_0x590e4c(0xbd))['checked'],_0x4bc6b8=_0xd7c884?'':_0x590e4c(0x2ee),_0x38ef78=window['open']('',_0x590e4c(0x5ba));_0x38ef78['document'][_0x590e4c(0x328)]('<h1></h1>');const _0x90de66=parseInt(document[_0x590e4c(0x2a0)](_0x590e4c(0x66c))['value']),_0x2e87eb=document[_0x590e4c(0x2a0)](_0x590e4c(0x6ff))[_0x590e4c(0x5ff)],_0x4f1177=_0x2e87eb?_0x590e4c(0x7e2):'',_0x76e230=_0x590e4c(0x1c9)+_0x4bc6b8+_0x590e4c(0x17f)+_0x90de66+_0x590e4c(0x3a8)+_0x2688bb+_0x590e4c(0x420)+_0x4f1177+_0x590e4c(0x6c8)+simpleMathPrompt+_0x590e4c(0x336),_0x132f47={'type':_0x590e4c(0x3e8),'properties':{'topic':{'type':_0x590e4c(0x2ec)},'questions':{'type':_0x590e4c(0x64d),'items':{'type':_0x590e4c(0x3e8),'properties':{'questionText':{'type':_0x590e4c(0x2ec)},'imageCode':{'type':'STRING'}},'required':[_0x590e4c(0x2dc)]}}},'required':[_0x590e4c(0x39a),'questions']};document['getElementById'](_0x590e4c(0x844))[_0x590e4c(0x531)]='',document[_0x590e4c(0x2a0)]('loader')[_0x590e4c(0x914)]['remove'](_0x590e4c(0x674)),document[_0x590e4c(0x2a0)](_0x590e4c(0x183))['classList'][_0x590e4c(0x278)](_0x590e4c(0x674)),generateWorksheetBtn[_0x590e4c(0x13f)]=!![];try{const _0x1eaa20=await callAnalysisApi(_0x76e230,_0x132f47);formatAndPrintWorksheet(_0x1eaa20,_0x38ef78);}catch(_0x4f6187){console[_0x590e4c(0xa1a)](_0x590e4c(0x88b),_0x4f6187);if(_0x38ef78)_0x38ef78[_0x590e4c(0x3b6)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x590e4c(0x2a0)]('loader')[_0x590e4c(0x914)][_0x590e4c(0x6bb)](_0x590e4c(0x674)),document[_0x590e4c(0x2a0)](_0x590e4c(0x183))['classList']['add'](_0x590e4c(0x674)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x3cadd4,_0x5b4d94){const _0x15788b=_0x1c8731,_0x3f84d9={'contents':[{'role':_0x15788b(0x8bc),'parts':[{'text':_0x3cadd4}]}],'generationConfig':{'responseMimeType':_0x15788b(0x154),'responseSchema':_0x5b4d94}},_0x4878b3=_0x15788b(0x3bb),_0xa7a0c6=_0x15788b(0xd3)+_0x4878b3,_0x410134=await fetch(_0xa7a0c6,{'method':_0x15788b(0x108),'headers':{'Content-Type':_0x15788b(0x154)},'body':JSON[_0x15788b(0x91e)](_0x3f84d9)});if(!_0x410134['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x410134[_0x15788b(0x912)]);const _0x55e676=await _0x410134[_0x15788b(0x2e6)]();if(_0x55e676[_0x15788b(0x46f)]?.[0x0]?.['content']?.['parts']?.[0x0])return JSON[_0x15788b(0x4ec)](_0x55e676['candidates'][0x0][_0x15788b(0x5e2)][_0x15788b(0x4e5)][0x0][_0x15788b(0x45d)]);else{let _0x2f48a2=_0x15788b(0x44c);if(_0x55e676[_0x15788b(0x3e6)]?.[_0x15788b(0x74c)])_0x2f48a2=_0x15788b(0x814)+_0x55e676[_0x15788b(0x3e6)][_0x15788b(0x74c)]+'.';else _0x55e676[_0x15788b(0x46f)]?.[0x0]?.['finishReason']&&_0x55e676[_0x15788b(0x46f)][0x0][_0x15788b(0xa04)]!=='STOP'&&(_0x2f48a2=_0x15788b(0x9d8)+_0x55e676[_0x15788b(0x46f)][0x0][_0x15788b(0xa04)]+'.');console[_0x15788b(0xa1a)](_0x2f48a2,JSON[_0x15788b(0x91e)](_0x55e676));throw new Error(_0x2f48a2);}}async function handleStartSyncMode(_0x5ee984,_0x273dac=![]){const _0x52dfe7=_0x1c8731,_0x53c01f=allQuizzes[_0x52dfe7(0x216)](_0x26db40=>_0x26db40['id']===_0x5ee984)||allQuizzesGlobal[_0x52dfe7(0x216)](_0x3cf143=>_0x3cf143['id']===_0x5ee984);if(!_0x53c01f){showMessage(_0x52dfe7(0x283));return;}currentQuizData=getShuffledQuiz(_0x53c01f);const _0x447ba1=Math['floor'](0x3e8+Math[_0x52dfe7(0x327)]()*0x2328)[_0x52dfe7(0x547)]();try{const _0x44d4ad=await addDoc(collection(db,'artifacts/'+appId+_0x52dfe7(0x9a0)),{'quizId':_0x53c01f['id'],'pin':_0x447ba1,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x273dac,'players':{}});currentLiveGameId=_0x44d4ad['id'],showView('live-game'),renderSyncLobbyView(_0x447ba1,_0x53c01f[_0x52dfe7(0x39a)]),listenForSyncGameUpdates();}catch(_0x3ee173){console[_0x52dfe7(0xa1a)]('Error\x20starting\x20sync\x20game:',_0x3ee173),showMessage(_0x52dfe7(0x95e));}}function calculateFinalPodiumScores(_0x5c4bdd){const _0x2ba9d8=_0x1c8731;if(!_0x5c4bdd||!_0x5c4bdd['shuffledQuiz']||!_0x5c4bdd['players'])return _0x5c4bdd[_0x2ba9d8(0x4f6)]||{};const _0x3f6b10=_0x5c4bdd[_0x2ba9d8(0x2f9)]['questions'][_0x2ba9d8(0x51f)],_0x4ce14e=JSON['parse'](JSON[_0x2ba9d8(0x91e)](_0x5c4bdd[_0x2ba9d8(0x4f6)]));return Object[_0x2ba9d8(0x390)](_0x4ce14e)[_0x2ba9d8(0x28e)](_0x3fe512=>{const _0x580bb1=_0x2ba9d8,_0x466d09=_0x3fe512[_0x580bb1(0x968)];let _0x237a9c=0x0;_0x5c4bdd['isConfidenceScoringEnabled']&&_0x3fe512[_0x580bb1(0x2ab)]&&_0x3fe512[_0x580bb1(0x2ab)][_0x580bb1(0x28e)](_0x2c244d=>{const _0x1bc262=_0x580bb1;if(_0x2c244d[_0x1bc262(0x69b)]&&_0x2c244d[_0x1bc262(0x627)])_0x237a9c+=0x1;else!_0x2c244d[_0x1bc262(0x69b)]&&_0x2c244d[_0x1bc262(0x627)]&&(_0x237a9c-=0x1);}),_0x3fe512[_0x580bb1(0x968)]=_0x466d09+_0x237a9c,_0x3f6b10>0x0&&_0x466d09===_0x3f6b10&&(_0x3fe512['score']+=0x1,_0x3fe512[_0x580bb1(0x597)]=!![]);}),_0x4ce14e;}function listenForSyncGameUpdates(){const _0x194a46=_0x1c8731;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x172af5=doc(db,'artifacts/'+appId+_0x194a46(0x9a0),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x172af5,_0x338daf=>{const _0x1da10f=_0x194a46;if(!_0x338daf[_0x1da10f(0x512)]()){sessionStorage[_0x1da10f(0x271)](_0x1da10f(0x57a));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x1da10f(0x279)),showView(currentMode===_0x1da10f(0xfd)?_0x1da10f(0x299):_0x1da10f(0xa36));return;}const _0x46fd4b=_0x338daf[_0x1da10f(0x4ff)]();currentMode===_0x1da10f(0xfd)?updateAdminSyncView(_0x46fd4b):updateStudentSyncView(_0x46fd4b);});}function renderSyncLobbyView(_0x2c9237,_0x4cfbd9){const _0x3138f2=_0x1c8731;liveGameView[_0x3138f2(0x42b)]=_0x3138f2(0x592)+_0x4cfbd9+_0x3138f2(0x349)+_0x2c9237+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x440a3b=document[_0x3138f2(0x2a0)]('confidence-scoring-toggle'),_0x10eab0=document[_0x3138f2(0x2a0)]('confidence-scoring-description');_0x440a3b['addEventListener']('change',()=>{const _0x306654=_0x3138f2;_0x10eab0[_0x306654(0x58f)][_0x306654(0x9cc)]=_0x440a3b[_0x306654(0x5ff)]?'block':'none';}),document[_0x3138f2(0x2a0)](_0x3138f2(0x14a))[_0x3138f2(0x2aa)](_0x3138f2(0x8a5),async()=>{const _0x54a5fa=_0x3138f2,_0x3d88fb=doc(db,_0x54a5fa(0x804)+appId+'/public/data/syncGames',currentLiveGameId),_0x405a74=document[_0x54a5fa(0x2a0)](_0x54a5fa(0x149))[_0x54a5fa(0x5ff)];await updateDoc(_0x3d88fb,{'status':_0x54a5fa(0x96a),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x405a74});});}function updateAdminSyncView(_0x50e876){const _0xfb5c63=_0x1c8731;switch(_0x50e876[_0xfb5c63(0x912)]){case'lobby':renderSyncLobbyView(_0x50e876[_0xfb5c63(0x5ac)],_0x50e876[_0xfb5c63(0x2f9)][_0xfb5c63(0x39a)]);const _0x48f2d9=Object[_0xfb5c63(0x489)](_0x50e876[_0xfb5c63(0x4f6)]||{})['filter'](([_0x421dcd,_0x47d04d])=>_0x47d04d['status']!==_0xfb5c63(0x4dd));document['getElementById'](_0xfb5c63(0x4ae))[_0xfb5c63(0x531)]=_0x48f2d9[_0xfb5c63(0x51f)],document[_0xfb5c63(0x2a0)](_0xfb5c63(0x23b))[_0xfb5c63(0x42b)]=_0x48f2d9[_0xfb5c63(0x429)](([_0x4a51dd,_0x49dbe9])=>_0xfb5c63(0x7aa)+_0x4a51dd+_0xfb5c63(0x1d2)+_0x4a51dd+_0xfb5c63(0x570))[_0xfb5c63(0x795)]('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document[_0xfb5c63(0x2a0)]('start-sync-game-btn')[_0xfb5c63(0x13f)]=_0x48f2d9[_0xfb5c63(0x51f)]===0x0;break;case _0xfb5c63(0x96a):const _0x2c8bee=Object[_0xfb5c63(0x390)](_0x50e876[_0xfb5c63(0x4f6)]||{})['filter'](_0x482fc3=>_0x482fc3[_0xfb5c63(0x912)]!=='inactive'),_0x3a73bf=_0x2c8bee[_0xfb5c63(0x29a)](_0x3392a8=>_0x3392a8['answered'])[_0xfb5c63(0x51f)],_0x14beb7=_0x3a73bf===_0x2c8bee['length']&&_0x2c8bee[_0xfb5c63(0x51f)]>0x0;if(_0x14beb7&&_0x50e876['status']===_0xfb5c63(0x96a)){const _0x458fa0=doc(db,_0xfb5c63(0x804)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x458fa0,{'status':'summary'});}else{if(document[_0xfb5c63(0x2a0)](_0xfb5c63(0x172))===null)renderAdminSyncQuestionView(_0x50e876);else{const _0x51cd67=document[_0xfb5c63(0x2a0)](_0xfb5c63(0x6e2));_0x51cd67&&(_0x51cd67[_0xfb5c63(0x531)]=_0x3a73bf+'/'+_0x2c8bee[_0xfb5c63(0x51f)]);const _0x47f303=document[_0xfb5c63(0x2a0)](_0xfb5c63(0x4e2));_0x47f303&&(_0x47f303['innerHTML']=_0x2c8bee['map'](_0x14c13d=>{const _0x1a1789=_0xfb5c63,_0x26bd31=_0x14c13d[_0x1a1789(0x6f4)]?_0x1a1789(0x454):'bg-gray-500',_0x2506b9=_0x14c13d[_0x1a1789(0x6f4)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x1a1789(0x322);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x26bd31+_0x1a1789(0x69f)+_0x2506b9+_0x1a1789(0x84f)+_0x14c13d[_0x1a1789(0x3d6)]+_0x1a1789(0x7e9)+_0x14c13d['name']+_0x1a1789(0x9e0);})['join'](''));}}break;case _0xfb5c63(0x9ce):const _0x8583fe=_0x50e876[_0xfb5c63(0xa30)],_0x1b1545=_0x50e876[_0xfb5c63(0x2f9)][_0xfb5c63(0x619)][_0x8583fe];renderSyncSummaryView(_0x50e876,_0x1b1545,!![]);break;case'results':renderAdminSyncDashboard(_0x50e876,!![]);break;case _0xfb5c63(0x765):_0x50e876[_0xfb5c63(0x668)]&&saveGameResultsAsSubmissions(_0x50e876);sessionStorage['removeItem'](_0xfb5c63(0x57a));const _0x4b9fc0=calculateFinalPodiumScores(_0x50e876);showPodiumView(_0x4b9fc0,_0xfb5c63(0x93f));break;}}function renderAdminSyncQuestionView(_0x569315){const _0xe03334=_0x1c8731,_0x3b3ed3=_0x569315[_0xe03334(0xa30)],_0x41b0a1=_0x569315[_0xe03334(0x2f9)][_0xe03334(0x619)][_0x3b3ed3],_0x8e24f5=_0x569315['shuffledQuiz'][_0xe03334(0x619)][_0xe03334(0x51f)],_0x164e14=Object[_0xe03334(0x390)](_0x569315[_0xe03334(0x4f6)]||{})[_0xe03334(0x29a)](_0x3bab47=>_0x3bab47[_0xe03334(0x912)]!==_0xe03334(0x4dd)),_0xcf6eae=_0x164e14['filter'](_0x2773db=>_0x2773db['answered'])['length'],_0x530797=_0xcf6eae===_0x164e14['length']&&_0x164e14[_0xe03334(0x51f)]>0x0,_0x3c41da=(_0x41b0a1['options']||[])[_0xe03334(0x429)](_0x3d805f=>_0xe03334(0x9ab)+_0x3d805f+_0xe03334(0x18a))[_0xe03334(0x795)]('');liveGameView[_0xe03334(0x42b)]=_0xe03334(0x1b0)+(_0x3b3ed3+0x1)+_0xe03334(0x83e)+_0x8e24f5+_0xe03334(0x2d2)+_0xcf6eae+'/'+_0x164e14[_0xe03334(0x51f)]+_0xe03334(0x25d)+_0x41b0a1[_0xe03334(0x2dc)]+_0xe03334(0x5ed)+_0x3c41da+_0xe03334(0x484)+(!_0x530797?_0xe03334(0x13f):'')+_0xe03334(0x2a4);if(window['MathJax'])MathJax[_0xe03334(0x626)]();document[_0xe03334(0x2a0)](_0xe03334(0x8af))['addEventListener'](_0xe03334(0x8a5),async()=>{const _0x2c7b36=_0xe03334,_0x4e1c5d=doc(db,_0x2c7b36(0x804)+appId+_0x2c7b36(0x9a0),currentLiveGameId);await updateDoc(_0x4e1c5d,{'status':_0x2c7b36(0x5a2)});}),document[_0xe03334(0x2a0)](_0xe03334(0x622))[_0xe03334(0x8fe)]=()=>{openScratchpad(_0x41b0a1,_0x41b0a1['options']||[]);},document[_0xe03334(0x2a0)](_0xe03334(0x2a6))[_0xe03334(0x2aa)](_0xe03334(0x8a5),()=>{const _0x3a3791=_0xe03334;document[_0x3a3791(0x2a0)](_0x3a3791(0x172))[_0x3a3791(0x914)][_0x3a3791(0x5d4)](_0x3a3791(0x674));});}function renderSyncLeaderboardView(_0x12b137,_0x2ff2e9){const _0x369b5d=_0x1c8731,_0x31c389=Object[_0x369b5d(0x390)](_0x12b137[_0x369b5d(0x4f6)]||{});_0x31c389['sort']((_0x1ccc12,_0x2deb15)=>_0x2deb15[_0x369b5d(0x968)]-_0x1ccc12['score']);const _0x91d6f=_0x31c389[_0x369b5d(0x469)](0x0,0x5);let _0x78e04f='';if(_0x2ff2e9){const _0x12f2bf=_0x12b137[_0x369b5d(0xa30)]>=_0x12b137[_0x369b5d(0x2f9)][_0x369b5d(0x619)][_0x369b5d(0x51f)]-0x1;_0x78e04f=_0x369b5d(0x1a3)+(_0x12f2bf?'ดูผลสรุปสุดท้าย':_0x369b5d(0x565))+_0x369b5d(0x3aa);}else _0x78e04f=_0x369b5d(0x691);liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x91d6f[_0x369b5d(0x429)]((_0x44bb70,_0x4b3ef5)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x4b3ef5+0x1)+'.\x20'+_0x44bb70[_0x369b5d(0x3d6)]+_0x369b5d(0x624)+_0x44bb70[_0x369b5d(0x968)]+_0x369b5d(0x348))[_0x369b5d(0x795)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x78e04f+_0x369b5d(0x3ff),_0x2ff2e9&&document[_0x369b5d(0x2a0)](_0x369b5d(0x7c5))[_0x369b5d(0x2aa)](_0x369b5d(0x8a5),async()=>{const _0x406dcf=_0x369b5d,_0x46edea=doc(db,_0x406dcf(0x804)+appId+_0x406dcf(0x9a0),currentLiveGameId),_0x619d6=_0x12b137[_0x406dcf(0xa30)]+0x1;if(_0x619d6<_0x12b137[_0x406dcf(0x2f9)]['questions'][_0x406dcf(0x51f)]){const _0x3b10bc={};Object[_0x406dcf(0x37d)](_0x12b137[_0x406dcf(0x4f6)])['forEach'](_0x22cc9b=>{const _0x360dae=_0x406dcf;_0x3b10bc[_0x360dae(0xe5)+_0x22cc9b+_0x360dae(0x391)]=![];}),await updateDoc(_0x46edea,{..._0x3b10bc,'status':_0x406dcf(0x96a),'currentQuestionIndex':_0x619d6,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x46edea,{'status':_0x406dcf(0x765)});});}async function handleJoinSyncGame(){const _0x495ea6=_0x1c8731,_0x4df6d4=prompt(_0x495ea6(0x9b0));if(!_0x4df6d4||_0x4df6d4[_0x495ea6(0x611)]()[_0x495ea6(0x51f)]!==0x2){showMessage(_0x495ea6(0xc1));return;}try{const _0x9dbab7=collection(db,_0x495ea6(0x804)+appId+'/public/data/syncGames'),_0x41b135=query(_0x9dbab7,where(_0x495ea6(0x5ac),'==',_0x4df6d4[_0x495ea6(0x611)]()),where(_0x495ea6(0x912),'==',_0x495ea6(0x8d2))),_0x4931b2=await getDocs(_0x41b135);if(_0x4931b2['empty']){showMessage('ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0xb61fac=_0x4931b2[_0x495ea6(0x1c5)][0x0];currentLiveGameId=_0xb61fac['id'];const _0x15f9fe=_0xb61fac[_0x495ea6(0x4ff)](),_0x38fccc=doc(db,_0x495ea6(0x804)+appId+_0x495ea6(0x60f),_0x15f9fe[_0x495ea6(0x15c)]),_0x2226a0=await getDoc(_0x38fccc);if(!_0x2226a0[_0x495ea6(0x512)]())throw new Error(_0x495ea6(0x7ab));const _0x1bebee=_0x2226a0[_0x495ea6(0x4ff)](),_0x1a86c6=doc(db,_0x495ea6(0x804)+appId+'/public/data/projects',_0x1bebee[_0x495ea6(0x6fd)]),_0x92c095=await getDoc(_0x1a86c6);if(!_0x92c095[_0x495ea6(0x512)]())throw new Error(_0x495ea6(0x79b));currentQuizData=_0x15f9fe[_0x495ea6(0x2f9)];const _0x110877=_0x92c095['data']();showView(_0x495ea6(0x4b3)),showTeamPlayerSelection(_0x110877[_0x495ea6(0x56a)],_0x1bebee[_0x495ea6(0x39a)]);const _0x432ecf=document['getElementById'](_0x495ea6(0x7b0));_0x432ecf[_0x495ea6(0x8fe)]=confirmAndJoinSyncGame;}catch(_0x18b9df){console[_0x495ea6(0xa1a)]('Error\x20joining\x20sync\x20game:',_0x18b9df),showMessage('เกิดข้อผิดพลาด:\x20'+_0x18b9df[_0x495ea6(0x285)]);}}function updateStudentSyncView(_0x568916){const _0x1517c8=_0x1c8731,_0x5087a0=_0x568916[_0x1517c8(0x4f6)][localTeamPlayers[0x0]];switch(_0x568916[_0x1517c8(0x912)]){case _0x1517c8(0x8d2):showView('live-game'),liveGameView[_0x1517c8(0x42b)]=_0x1517c8(0x7b4);break;case _0x1517c8(0x96a):const _0x453135=localTeamPlayers[_0x1517c8(0xd4)](_0x2755d4=>_0x568916[_0x1517c8(0x4f6)][_0x2755d4]?.[_0x1517c8(0x6f4)]===!![]);_0x453135?liveGameView[_0x1517c8(0x42b)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>':renderStudentSyncQuestionView(_0x568916);break;case _0x1517c8(0x9ce):liveGameView['innerHTML']=_0x1517c8(0x2b8);break;case _0x1517c8(0x5a2):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x568916);break;case _0x1517c8(0x765):sessionStorage['removeItem'](_0x1517c8(0x57a));const _0x4513b5=calculateFinalPodiumScores(_0x568916);showPodiumView(_0x4513b5,_0x1517c8(0x93f));break;}}function renderStudentSyncResultsView(_0x1a6e01){const _0x4b3f80=_0x1c8731,_0x4e0f37=localTeamPlayers[_0x4b3f80(0x429)](_0x2d9eee=>_0x1a6e01['players'][_0x2d9eee])[_0x4b3f80(0x29a)](Boolean);_0x4e0f37[_0x4b3f80(0x3a9)]((_0x1745b7,_0x304e23)=>(_0x304e23[_0x4b3f80(0x968)]||0x0)-(_0x1745b7[_0x4b3f80(0x968)]||0x0));const _0xd49554=_0x1a6e01[_0x4b3f80(0xa30)]>=_0x1a6e01[_0x4b3f80(0x2f9)]['questions'][_0x4b3f80(0x51f)]-0x1;let _0x5e1930='';_0xd49554?_0x5e1930=_0x4b3f80(0x184):_0x5e1930='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x53ec4c=_0x4b3f80(0x75d)+_0x4e0f37[_0x4b3f80(0x429)]((_0x338cd4,_0x3c2140)=>_0x4b3f80(0x96d)+(_0x3c2140+0x1)+_0x4b3f80(0x39d)+_0x338cd4[_0x4b3f80(0x3d6)]+_0x4b3f80(0x466)+_0x338cd4['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4b3f80(0x795)]('')+_0x4b3f80(0x9ed)+_0x5e1930+_0x4b3f80(0x981);liveGameView[_0x4b3f80(0x42b)]=_0x53ec4c;}function renderStudentSyncQuestionView(_0x24c7f4){const _0x13d158=_0x1c8731;while(localPlayerTurnIndex<localTeamPlayers[_0x13d158(0x51f)]&&_0x24c7f4[_0x13d158(0x4f6)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x13d158(0x6f4)]===!![]){localPlayerTurnIndex++;}const _0xf9ec8c=localTeamPlayers[localPlayerTurnIndex];if(!_0xf9ec8c)return;const _0x46dbce=_0x24c7f4['currentQuestionIndex'],_0x5ed6fe=_0x24c7f4[_0x13d158(0x2f9)][_0x13d158(0x619)][_0x13d158(0x51f)],_0x1ef4cc=_0x24c7f4[_0x13d158(0x2f9)][_0x13d158(0x619)][_0x46dbce],_0x5f2f3d=_0x1ef4cc['questionType']||_0x24c7f4[_0x13d158(0x2f9)]['quizType'];let _0x4ead40='',_0x27e640=![];switch(_0x5f2f3d){case _0x13d158(0x19b):_0x4ead40=_0x13d158(0x8f8);break;case _0x13d158(0x3e2):case _0x13d158(0xf5):_0x27e640=!![],_0x4ead40=_0x13d158(0x992);break;case _0x13d158(0x8b2):_0x27e640=!![],_0x4ead40=_0x13d158(0x78a)+(_0x1ef4cc[_0x13d158(0x323)]||[])['map'](_0x163ebf=>_0x13d158(0x708)+_0x163ebf+'\x22>'+_0x163ebf+_0x13d158(0x5ea))[_0x13d158(0x795)]('')+_0x13d158(0x78b);break;case _0x13d158(0x9f3):default:_0x4ead40=(_0x1ef4cc[_0x13d158(0x8bf)]||[])[_0x13d158(0x429)]((_0x5ca0b9,_0x433363)=>_0x13d158(0x32c)+_0x433363+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>'+_0x5ca0b9+_0x13d158(0x7a5))[_0x13d158(0x795)]('');break;}liveGameView[_0x13d158(0x42b)]=_0x13d158(0x9c2)+(_0x46dbce+0x1)+_0x13d158(0x83e)+_0x5ed6fe+_0x13d158(0xa5)+_0xf9ec8c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x1ef4cc['questionText']||_0x1ef4cc[_0x13d158(0x332)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x4ead40+_0x13d158(0x5c9);if(window['MathJax'])MathJax[_0x13d158(0x626)]();function _0x24254e(_0x4ec0d5,_0x336a38,_0x14c848,_0x3b01f2){const _0x655685=_0x13d158,_0x16dc4c=_0x14c848[_0x655685(0x110)]===!![];if(_0x16dc4c){document[_0x655685(0x2a0)](_0x655685(0x94b))['dataset'][_0x655685(0x9e4)]=_0x655685(0x93f);const _0x339efe=document[_0x655685(0x2a0)](_0x655685(0x5e0));_0x339efe[_0x655685(0x2f8)][_0x655685(0x6f5)]=_0x4ec0d5,_0x339efe[_0x655685(0x2f8)][_0x655685(0x96a)]=JSON[_0x655685(0x91e)](_0x336a38),_0x339efe[_0x655685(0x2f8)][_0x655685(0x4d7)]=JSON[_0x655685(0x91e)](_0x14c848),_0x339efe[_0x655685(0x2f8)][_0x655685(0x15d)]=_0x3b01f2,document['getElementById'](_0x655685(0x94b))[_0x655685(0x914)][_0x655685(0x278)](_0x655685(0x674));}else handleSyncAnswerSubmit(_0x4ec0d5,_0x336a38,_0x14c848,_0x3b01f2,![]);}_0x27e640?document[_0x13d158(0x2a0)](_0x13d158(0xa6))[_0x13d158(0x2aa)](_0x13d158(0x8a5),()=>{const _0x2c08d6=_0x13d158,_0x1cfcfa=document[_0x2c08d6(0x2a0)](_0x2c08d6(0x5b9))||document[_0x2c08d6(0x2a0)](_0x2c08d6(0x230));if(_0x1cfcfa[_0x2c08d6(0x556)][_0x2c08d6(0x611)]()===''){showMessage(_0x2c08d6(0x4f5));return;}_0x24254e(_0x1cfcfa['value'],_0x1ef4cc,_0x24c7f4,_0xf9ec8c);}):document[_0x13d158(0x1a9)](_0x13d158(0x3f6))[_0x13d158(0x28e)](_0x1808de=>{const _0x2b073b=_0x13d158;_0x1808de[_0x2b073b(0x2aa)](_0x2b073b(0x8a5),()=>{const _0x20b6bd=_0x2b073b;_0x24254e(_0x1808de[_0x20b6bd(0x2f8)][_0x20b6bd(0x556)],_0x1ef4cc,_0x24c7f4,_0xf9ec8c);});});}async function handleSyncAnswerSubmit(_0x7784e9,_0x34b98b,_0x5037bb,_0xd9c284,_0x1b1100){const _0x3a3b43=_0x1c8731;document[_0x3a3b43(0x1a9)](_0x3a3b43(0x85e))[_0x3a3b43(0x28e)](_0x3534cc=>_0x3534cc['disabled']=!![]);const _0x462527=_0x34b98b[_0x3a3b43(0x173)]||_0x5037bb['shuffledQuiz']['quizType'];let _0x793a50=![],_0x485d9a=_0x7784e9;switch(_0x462527){case _0x3a3b43(0x19b):const _0x15b7f6=parseInt(_0x7784e9),_0xa67605=_0x34b98b[_0x3a3b43(0x701)]===!![]||String(_0x34b98b['correctAnswer'])[_0x3a3b43(0x263)]()===_0x3a3b43(0x2f6);_0x793a50=_0x15b7f6===0x0&&_0xa67605||_0x15b7f6===0x1&&!_0xa67605,_0x485d9a=_0x15b7f6===0x0?_0x3a3b43(0x969):_0x3a3b43(0x4bf);break;case'short_answer':case _0x3a3b43(0xf5):_0x793a50=await gradeShortAnswer(_0x7784e9,_0x34b98b);break;case _0x3a3b43(0x8b2):_0x793a50=_0x7784e9===_0x34b98b[_0x3a3b43(0x2f5)];break;case _0x3a3b43(0x9f3):default:const _0x40b0cd=parseInt(_0x7784e9);_0x793a50=_0x40b0cd===_0x34b98b[_0x3a3b43(0x587)];_0x34b98b[_0x3a3b43(0x8bf)]&&_0x34b98b[_0x3a3b43(0x8bf)][_0x40b0cd]&&(_0x485d9a=_0x34b98b[_0x3a3b43(0x8bf)][_0x40b0cd]);break;}let _0x23d3cb=0x0;if(_0x793a50&&_0x1b1100)_0x23d3cb=0x2;else{if(_0x793a50)_0x23d3cb=0x1;else!_0x793a50&&_0x1b1100&&(_0x23d3cb=-0x1);}const _0x13592f=doc(db,_0x3a3b43(0x804)+appId+_0x3a3b43(0x9a0),currentLiveGameId),_0x3b0f26={};_0x3b0f26['players.'+_0xd9c284+'.score']=increment(_0x23d3cb),_0x3b0f26[_0x3a3b43(0xe5)+_0xd9c284+_0x3a3b43(0x391)]=!![];let _0x5e34be=null;(_0x462527===_0x3a3b43(0x9f3)||_0x462527===_0x3a3b43(0x19b)||_0x462527===_0x3a3b43(0x1fc))&&(_0x5e34be=parseInt(_0x7784e9));_0x3b0f26[_0x3a3b43(0xe5)+_0xd9c284+_0x3a3b43(0x3b8)]=_0x5e34be;const _0x26da67={'questionIndex':_0x5037bb[_0x3a3b43(0xa30)],'questionId':_0x34b98b['id'],'answer':_0x7784e9,'answerText':_0x485d9a,'isCorrect':_0x793a50,'originalQuestionText':_0x34b98b[_0x3a3b43(0x2dc)]||_0x34b98b[_0x3a3b43(0x332)],'wasConfident':_0x1b1100};_0x3b0f26[_0x3a3b43(0xe5)+_0xd9c284+_0x3a3b43(0x43c)]=arrayUnion(_0x26da67),await updateDoc(_0x13592f,_0x3b0f26);}initialize();
