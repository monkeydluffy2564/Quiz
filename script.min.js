const _0x594c14=_0x27d0;(function(_0x14ba84,_0x5e627a){const _0x2b3f85=_0x27d0,_0x57429c=_0x14ba84();while(!![]){try{const _0x161c30=parseInt(_0x2b3f85(0xa32))/0x1*(-parseInt(_0x2b3f85(0x837))/0x2)+-parseInt(_0x2b3f85(0x4f7))/0x3*(-parseInt(_0x2b3f85(0xc2f))/0x4)+parseInt(_0x2b3f85(0x841))/0x5*(-parseInt(_0x2b3f85(0x53b))/0x6)+-parseInt(_0x2b3f85(0x647))/0x7+-parseInt(_0x2b3f85(0x505))/0x8*(-parseInt(_0x2b3f85(0xc25))/0x9)+parseInt(_0x2b3f85(0x8ec))/0xa*(parseInt(_0x2b3f85(0xbd9))/0xb)+parseInt(_0x2b3f85(0xb17))/0xc;if(_0x161c30===_0x5e627a)break;else _0x57429c['push'](_0x57429c['shift']());}catch(_0x4f5355){_0x57429c['push'](_0x57429c['shift']());}}}(_0x3cb7,0x71cb4));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId='all',fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x594c14(0xd2b),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x594c14(0xd2b),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x3cf290=_0x594c14;if(_0x3cf290(0x91a)in navigator)try{wakeLock=await navigator['wakeLock'][_0x3cf290(0xaa1)](_0x3cf290(0x455)),console['log'](_0x3cf290(0x35c)),wakeLock[_0x3cf290(0x7a0)](_0x3cf290(0xae9),()=>{const _0xdaf792=_0x3cf290;console[_0xdaf792(0x3e0)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x234f81){console[_0x3cf290(0x4e5)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x234f81[_0x3cf290(0xb31)]+',\x20'+_0x234f81[_0x3cf290(0x5f3)]);}else console['warn'](_0x3cf290(0x7fa));},releaseWakeLock=async()=>{const _0x53cfc6=_0x594c14;wakeLock!==null&&(await wakeLock[_0x53cfc6(0xae9)](),wakeLock=null,console[_0x53cfc6(0x3e0)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0xf40fe6=_0x594c14;if(dimTimer)clearTimeout(dimTimer);document['body'][_0xf40fe6(0x936)]['remove']('dimmed'),dimTimer=setTimeout(()=>{const _0x53f112=_0xf40fe6;document[_0x53f112(0xbd0)][_0x53f112(0x936)]['add'](_0x53f112(0xc69)),console[_0x53f112(0x3e0)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}function stopDimTimer(){const _0x2e6c24=_0x594c14;if(dimTimer)clearTimeout(dimTimer);document[_0x2e6c24(0xbd0)]['classList'][_0x2e6c24(0x373)](_0x2e6c24(0xc69)),window[_0x2e6c24(0xbb8)](_0x2e6c24(0x273),resetDimTimer),window[_0x2e6c24(0xbb8)](_0x2e6c24(0x5ef),resetDimTimer),window[_0x2e6c24(0xbb8)](_0x2e6c24(0x19d),resetDimTimer),window[_0x2e6c24(0xbb8)](_0x2e6c24(0x966),resetDimTimer),console[_0x2e6c24(0x3e0)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0xd51e0b,_0x79a1cc=![]){const _0x454720=_0x594c14,_0x3f9264=allQuizzes[_0x454720(0xad3)](_0x3f185c=>_0x3f185c['id']===_0xd51e0b)||allQuizzesGlobal['find'](_0x267b13=>_0x267b13['id']===_0xd51e0b);if(!_0x3f9264){showMessage(_0x454720(0xa07));return;}currentQuizData=getShuffledQuiz(_0x3f9264);const _0x2b1403=Math[_0x454720(0xa3c)](0x3e8+Math[_0x454720(0x7b8)]()*0x2328)[_0x454720(0x3d0)]();try{const _0x38e890=await addDoc(collection(db,_0x454720(0x632)+appId+'/public/data/teamQuizzes'),{'quizId':_0x3f9264['id'],'projectId':_0x3f9264['projectId'],'status':_0x454720(0x6c5),'pin':_0x2b1403,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x79a1cc});currentTeamQuizId=_0x38e890['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x2b1403,_0x3f9264[_0x454720(0x72e)]),listenForTeamQuizUpdates();}catch(_0x223e35){console[_0x454720(0x4e5)](_0x454720(0x559),_0x223e35),showMessage(_0x454720(0x917));}}function renderAdminTeamQuizDashboard(_0x25e208,_0x557aa6,_0x3507cf=_0x594c14(0x45f)){const _0x2712d5=_0x594c14,_0x2b2df6=_0x3507cf===_0x2712d5(0x730)?_0x2712d5(0x20c):_0x2712d5(0x60c);liveGameView[_0x2712d5(0xa0c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0x2b2df6+':\x20'+_0x557aa6+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x25e208+_0x2712d5(0xa8e),document[_0x2712d5(0x68c)](_0x2712d5(0x1e9))['addEventListener']('click',async()=>{const _0x57ec6a=_0x2712d5;showConfirmation(_0x57ec6a(0x364),async()=>{const _0x1f9e86=_0x57ec6a;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x1f9e86(0x632)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView(_0x1f9e86(0x6ab));});});}function listenForTeamQuizUpdates(){const _0x4ef68b=_0x594c14;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x4b1b4b=doc(db,_0x4ef68b(0x632)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x4b1b4b,_0x5676f4=>{const _0x42a3a1=_0x4ef68b;if(!_0x5676f4[_0x42a3a1(0x367)]()){sessionStorage['removeItem'](_0x42a3a1(0x579));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x42a3a1(0x572));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x42a3a1(0x6ab)):showView(_0x42a3a1(0x867));return;}const _0x4e3331=_0x5676f4[_0x42a3a1(0x21d)]();if(currentMode==='admin'){if(_0x4e3331[_0x42a3a1(0x8de)]==='group'&&_0x4e3331[_0x42a3a1(0xb9c)]!==_0x42a3a1(0x3b2)&&_0x4e3331[_0x42a3a1(0xb9c)]!==_0x42a3a1(0xa1e)){const _0x22772c=Object[_0x42a3a1(0x694)](_0x4e3331[_0x42a3a1(0xcd6)]||{});if(_0x22772c[_0x42a3a1(0x757)]>0x0){const _0x5c509c=_0x22772c[_0x42a3a1(0x4fc)](_0x18e71e=>_0x18e71e[_0x42a3a1(0x417)]===!![]);_0x5c509c&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x4e3331);}else{if(_0x4e3331[_0x42a3a1(0xb9c)]===_0x42a3a1(0x3b2)||_0x4e3331[_0x42a3a1(0xb9c)]===_0x42a3a1(0xa1e)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x4e3331[_0x42a3a1(0x8de)]===_0x42a3a1(0x730)){const _0x2bbe2c=_0x4e3331[_0x42a3a1(0xcd6)][userId];(!_0x2bbe2c||!_0x2bbe2c[_0x42a3a1(0x417)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x10f6f3){const _0x5ac0a1=_0x594c14;console['log'](_0x5ac0a1(0x923));const _0x447468=doc(db,_0x5ac0a1(0x632)+appId+_0x5ac0a1(0x96b),_0x10f6f3);try{const _0x4cee48=await getDoc(_0x447468);if(_0x4cee48[_0x5ac0a1(0x367)]()){const _0x95c80e=_0x4cee48['data']();_0x95c80e[_0x5ac0a1(0xbb4)]&&await saveGameResultsAsSubmissions(_0x95c80e);}await updateDoc(_0x447468,{'status':_0x5ac0a1(0x3b2)});}catch(_0x45aaf8){console['error'](_0x5ac0a1(0xa82),_0x45aaf8);}}function updateAdminTeamDashboard(_0x150c5c){const _0x171f82=_0x594c14,_0x5f2ee0=document['getElementById'](_0x171f82(0x92e));if(!_0x5f2ee0)return;const _0x5a05ae=_0x150c5c[_0x171f82(0x8de)]||'team',_0x315207=currentQuizData['questions']['length'];if(_0x5a05ae===_0x171f82(0x730)){const _0x4e950e=Object[_0x171f82(0x694)](_0x150c5c[_0x171f82(0xcd6)]||{});if(_0x4e950e['length']===0x0){_0x5f2ee0[_0x171f82(0xa0c)]=_0x171f82(0xa10);return;}const _0x42bf3b=[..._0x4e950e][_0x171f82(0x387)]((_0x55eb44,_0x3b528d)=>_0x3b528d[_0x171f82(0xc54)]-_0x55eb44[_0x171f82(0xc54)]),_0x2fdd93=_0x42bf3b[_0x171f82(0x345)]((_0x6eeffa,_0x50c28a)=>{const _0x549ef7=_0x171f82,_0x25aa27=_0x6eeffa[_0x549ef7(0x576)]?.[_0x549ef7(0x757)]||0x0;return _0x549ef7(0xcbe)+(_0x50c28a+0x1)+_0x549ef7(0x99d)+_0x6eeffa['members'][_0x549ef7(0x95f)](',\x20')+_0x549ef7(0x41b)+_0x25aa27+'/'+_0x315207+_0x549ef7(0x322)+_0x6eeffa[_0x549ef7(0xc54)]+_0x549ef7(0x71c);})[_0x171f82(0x95f)](''),_0x4301f1=currentQuizData[_0x171f82(0x72b)][_0x171f82(0x345)]((_0x175e12,_0x41790b)=>{const _0x4600f8=_0x171f82;let _0xa5139d=0x0,_0x5a4163=0x0;_0x4e950e['forEach'](_0x385998=>{const _0x19506a=_0x27d0,_0x53d867=_0x385998[_0x19506a(0x576)]?.[_0x19506a(0xad3)](_0x451c02=>_0x451c02['questionIndex']===_0x41790b);if(_0x53d867){_0x5a4163++;if(_0x53d867[_0x19506a(0xa60)])_0xa5139d++;}});const _0x49ec0e=_0x5a4163>0x0&&_0x5a4163===_0x4e950e['length'],_0x5337b8=_0x49ec0e?_0x4600f8(0xc48):_0x4600f8(0x59c),_0x52f01f=_0x49ec0e?_0x4600f8(0x5a7):'';return _0x4600f8(0x50d)+_0x5337b8+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x41790b+0x1)+_0x4600f8(0xade)+_0x52f01f+'</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20'+_0xa5139d+'/'+_0x4e950e[_0x4600f8(0x757)]+_0x4600f8(0xa3e);})[_0x171f82(0x95f)]('');_0x5f2ee0[_0x171f82(0xa0c)]=_0x171f82(0x43a)+_0x2fdd93+_0x171f82(0x993)+_0x4301f1+'</div></div></div>';return;}const _0x74ffea=_0x150c5c['responses']||{},_0x2cf1ab=Object[_0x171f82(0x2e8)](_0x74ffea);if(_0x2cf1ab[_0x171f82(0x757)]===0x0){_0x5f2ee0['innerHTML']=_0x171f82(0xa7a);return;}const _0x65b6d8=_0x2cf1ab[_0x171f82(0x345)](_0x1c55e2=>({'name':_0x1c55e2,'score':_0x74ffea[_0x1c55e2]['score']||0x0}))[_0x171f82(0x387)]((_0x452bc2,_0x5345df)=>_0x5345df['score']-_0x452bc2[_0x171f82(0xc54)]),_0x4ef628=_0x65b6d8[_0x171f82(0x345)](_0x793886=>{const _0x59d59b=_0x171f82,_0x3f7e0d=_0x74ffea[_0x793886[_0x59d59b(0xb31)]]?.[_0x59d59b(0x576)]?.['length']||0x0,_0x2e24bf=Math['ceil'](_0x315207/_0x2cf1ab[_0x59d59b(0x757)]);return _0x59d59b(0xaa9)+_0x793886[_0x59d59b(0xb31)]+_0x59d59b(0x42b)+_0x3f7e0d+'/'+_0x2e24bf+_0x59d59b(0x467)+_0x793886[_0x59d59b(0xc54)]+_0x59d59b(0x8f1);})[_0x171f82(0x95f)](''),_0x2dd3d5=_0x2cf1ab[_0x171f82(0x658)]((_0x492d6e,_0xb0581)=>_0x492d6e+(_0x74ffea[_0xb0581]['answers']?.['length']||0x0),0x0),_0x4449e2=currentQuizData[_0x171f82(0x72b)][_0x171f82(0x345)]((_0xb4c10b,_0x468f64)=>{const _0x3d8cf1=_0x171f82;let _0x36bd99=null,_0x49ef5b=null;for(const _0x5ed774 of _0x2cf1ab){const _0x31a9fd=_0x74ffea[_0x5ed774]['answers']?.[_0x3d8cf1(0xad3)](_0x5e88b5=>_0x5e88b5['questionIndex']===_0x468f64);if(_0x31a9fd){_0x36bd99=_0x31a9fd,_0x49ef5b=_0x5ed774;break;}}const _0xb41af1=!!_0x36bd99,_0x39a213=_0xb41af1&&_0x36bd99[_0x3d8cf1(0xa60)],_0x57b18c=(Math[_0x3d8cf1(0xa3c)](_0x468f64/_0x2cf1ab[_0x3d8cf1(0x757)])+0x1)*_0x2cf1ab[_0x3d8cf1(0x757)],_0x268395=_0x2dd3d5>=_0x57b18c,_0x553392=_0x268395?_0x3d8cf1(0xad8):_0x3d8cf1(0x59c),_0x53fed8=_0x268395?_0x3d8cf1(0x5a7):'';let _0x1c9841=_0x3d8cf1(0x933);return _0xb41af1&&(_0x1c9841=_0x49ef5b+_0x3d8cf1(0x7c3)+(_0x39a213?_0x3d8cf1(0x886):_0x3d8cf1(0x56c))),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x553392+_0x3d8cf1(0xca6)+(_0x468f64+0x1)+':</span><span>'+_0x53fed8+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x1c9841+_0x3d8cf1(0x412);})[_0x171f82(0x95f)]('');_0x5f2ee0[_0x171f82(0xa0c)]=_0x171f82(0x43c)+_0x4ef628+_0x171f82(0x326)+_0x4449e2+_0x171f82(0x868);}async function handleJoinTeamQuiz(){const _0x1af951=_0x594c14,_0x1a8c57=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x1a8c57||_0x1a8c57[_0x1af951(0x99c)]()[_0x1af951(0x757)]!==0x4){showMessage(_0x1af951(0x4fa));return;}try{const _0x14128a=collection(db,_0x1af951(0x632)+appId+_0x1af951(0x96b)),_0xd550b0=query(_0x14128a,where('pin','==',_0x1a8c57[_0x1af951(0x99c)]()),where(_0x1af951(0xb9c),'==','lobby')),_0xf65ec0=await getDocs(_0xd550b0);if(_0xf65ec0[_0x1af951(0x838)]){showMessage(_0x1af951(0x3a7));return;}const _0x4ef583=_0xf65ec0[_0x1af951(0x23c)][0x0];currentTeamQuizId=_0x4ef583['id'];const _0x35fdc6=_0x4ef583[_0x1af951(0x21d)](),_0x4f2ac1=doc(db,_0x1af951(0x632)+appId+_0x1af951(0x29a),_0x35fdc6[_0x1af951(0x618)]),_0x292b18=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x35fdc6['quizId']),[_0x21dccd,_0x164ded]=await Promise[_0x1af951(0xd2b)]([getDoc(_0x4f2ac1),getDoc(_0x292b18)]);if(!_0x21dccd['exists']()||!_0x164ded[_0x1af951(0x367)]())throw new Error(_0x1af951(0x916));currentQuizData=getShuffledQuiz({'id':_0x164ded['id'],..._0x164ded[_0x1af951(0x21d)]()});const _0x1cdded=_0x21dccd['data']();showTeamPlayerSelection(_0x1cdded[_0x1af951(0xc9a)],currentQuizData[_0x1af951(0x72e)]);}catch(_0x459542){console[_0x1af951(0x4e5)](_0x1af951(0x682),_0x459542),showMessage(_0x1af951(0x3ea)+_0x459542[_0x1af951(0x5f3)]);}}async function handleJoinGroupActivity(){const _0x5292b7=_0x594c14,_0x452ac5=prompt(_0x5292b7(0x3f5));if(!_0x452ac5||_0x452ac5[_0x5292b7(0x99c)]()[_0x5292b7(0x757)]!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0x148101=_0x452ac5[_0x5292b7(0x99c)]();showMessage(_0x5292b7(0x4db));try{const _0x298d21=collection(db,'artifacts/'+appId+_0x5292b7(0x96b)),_0x4404a0=query(_0x298d21,where(_0x5292b7(0x56e),'==',_0x148101),where(_0x5292b7(0xb9c),'==',_0x5292b7(0x6c5))),_0x30be71=await getDocs(_0x4404a0);if(!_0x30be71[_0x5292b7(0x838)]){console[_0x5292b7(0x3e0)](_0x5292b7(0x920)),await proceedWithTeamQuizJoin(_0x30be71[_0x5292b7(0x23c)][0x0]);return;}const _0x230aec=collection(db,_0x5292b7(0x632)+appId+_0x5292b7(0x5e7)),_0x1f3c85=query(_0x230aec,where(_0x5292b7(0x56e),'==',_0x148101),where(_0x5292b7(0xb9c),'==','lobby')),_0x23655b=await getDocs(_0x1f3c85);if(!_0x23655b[_0x5292b7(0x838)]){console[_0x5292b7(0x3e0)](_0x5292b7(0x437)),await proceedWithSyncQuizJoin(_0x23655b['docs'][0x0]);return;}showMessage('ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว');}catch(_0xa16ac6){console[_0x5292b7(0x4e5)]('Error\x20joining\x20activity:',_0xa16ac6),showMessage(_0x5292b7(0x232)+_0xa16ac6[_0x5292b7(0x5f3)]);}}async function proceedWithTeamQuizJoin(_0x33a51a){const _0x106be2=_0x594c14;currentTeamQuizId=_0x33a51a['id'];const _0x591a78=_0x33a51a[_0x106be2(0x21d)](),_0x49e777=doc(db,_0x106be2(0x632)+appId+_0x106be2(0x29a),_0x591a78[_0x106be2(0x618)]),_0x299426=doc(db,_0x106be2(0x632)+appId+_0x106be2(0x21f),_0x591a78[_0x106be2(0x8c6)]),[_0x5cf78c,_0x2e3aa9]=await Promise['all']([getDoc(_0x49e777),getDoc(_0x299426)]);if(!_0x5cf78c[_0x106be2(0x367)]()||!_0x2e3aa9[_0x106be2(0x367)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x2e3aa9['id'],..._0x2e3aa9[_0x106be2(0x21d)]()}),showTeamPlayerSelection(_0x5cf78c['data']()[_0x106be2(0xc9a)],currentQuizData[_0x106be2(0x72e)],_0x591a78['mode']||_0x106be2(0x45f)),messageModal[_0x106be2(0x936)]['add']('hidden');}async function proceedWithSyncQuizJoin(_0x535b75){const _0x3813c2=_0x594c14;currentLiveGameId=_0x535b75['id'];const _0x480937=_0x535b75[_0x3813c2(0x21d)](),_0x3f1ea6=doc(db,'artifacts/'+appId+_0x3813c2(0x21f),_0x480937[_0x3813c2(0x8c6)]),_0x3056cf=await getDoc(_0x3f1ea6);if(!_0x3056cf['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x4aa3ea=_0x3056cf['data'](),_0x4ae52b=doc(db,_0x3813c2(0x632)+appId+_0x3813c2(0x29a),_0x4aa3ea[_0x3813c2(0x618)]),_0x270599=await getDoc(_0x4ae52b);if(!_0x270599[_0x3813c2(0x367)]())throw new Error(_0x3813c2(0x31f));currentQuizData=_0x480937[_0x3813c2(0x292)],showView(_0x3813c2(0xa65)),showTeamPlayerSelection(_0x270599['data']()[_0x3813c2(0xc9a)],_0x4aa3ea['topic'],_0x3813c2(0x7c1)),document[_0x3813c2(0x68c)](_0x3813c2(0xaca))[_0x3813c2(0xbf9)]=confirmAndJoinSyncGame,messageModal[_0x3813c2(0x936)]['add']('hidden');}function getCleanApplicationHTML(){const _0x4b573f=_0x594c14,_0x12a82c=document[_0x4b573f(0x68c)](_0x4b573f(0xa01));if(!_0x12a82c)return'';const _0x1aefe1=_0x12a82c[_0x4b573f(0xb9e)](!![]);return _0x1aefe1['querySelectorAll'](_0x4b573f(0x562))[_0x4b573f(0x8be)](_0x8244aa=>{const _0x165ae2=_0x4b573f;_0x8244aa[_0x165ae2(0x936)][_0x165ae2(0x373)](_0x165ae2(0x3d8),_0x165ae2(0x3bc)),_0x8244aa[_0x165ae2(0x376)]=![];}),_0x1aefe1[_0x4b573f(0xa0c)];}function showTeamPlayerSelection(_0x53f0d0,_0x5a9382,_0x21085d=_0x594c14(0x45f)){const _0x5a730f=_0x594c14;studentInitialView[_0x5a730f(0x936)][_0x5a730f(0x2de)](_0x5a730f(0x1dc)),studentJoinGameView[_0x5a730f(0x936)][_0x5a730f(0x2de)](_0x5a730f(0x1dc)),document[_0x5a730f(0x68c)](_0x5a730f(0x26e))['classList']['remove'](_0x5a730f(0x1dc));let _0x12d1e0=_0x5a730f(0x60c);if(_0x21085d===_0x5a730f(0x730))_0x12d1e0=_0x5a730f(0x20c);else _0x21085d==='sync'&&(_0x12d1e0='Sync\x20Mode');document[_0x5a730f(0x68c)]('team-quiz-topic')['textContent']=_0x12d1e0+':\x20'+_0x5a9382;const _0x34829c=document['getElementById'](_0x5a730f(0x77d));if(!_0x53f0d0||_0x53f0d0[_0x5a730f(0x757)]===0x0){_0x34829c['innerHTML']=_0x5a730f(0x4fe),document[_0x5a730f(0x68c)]('confirm-team-players-btn')['disabled']=!![];return;}_0x34829c[_0x5a730f(0xa0c)]=_0x53f0d0[_0x5a730f(0x345)](_0x2d8fc9=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x2d8fc9+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x2d8fc9+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x5a730f(0x95f)](''),document[_0x5a730f(0x68c)](_0x5a730f(0xaca))['disabled']=![];}async function confirmAndStartTeamQuiz(){const _0x3c1684=_0x594c14,_0x474b1c=Array[_0x3c1684(0x97c)](document[_0x3c1684(0x9c3)](_0x3c1684(0x560)))[_0x3c1684(0x345)](_0x456c9d=>_0x456c9d['value']);if(_0x474b1c[_0x3c1684(0x757)]===0x0){showMessage(_0x3c1684(0x45c));return;}localTeamPlayers=_0x474b1c,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x31a017=doc(db,_0x3c1684(0x632)+appId+_0x3c1684(0x96b),currentTeamQuizId);try{const _0x26f1af=await getDoc(_0x31a017);if(!_0x26f1af[_0x3c1684(0x367)]())throw new Error('ไม่พบข้อมูลเกม');const _0x20d981=_0x26f1af[_0x3c1684(0x21d)]();if(_0x20d981[_0x3c1684(0x8de)]===_0x3c1684(0x730)){const _0x3b8f85={[_0x3c1684(0xca1)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x31a017,_0x3b8f85);}else{const _0x43b883=_0x20d981[_0x3c1684(0x79c)]||{};localTeamPlayers['forEach'](_0x481369=>{!_0x43b883[_0x481369]&&(_0x43b883[_0x481369]={'score':0x0,'answers':[]});}),await updateDoc(_0x31a017,{'responses':_0x43b883});}document['getElementById'](_0x3c1684(0x26e))[_0x3c1684(0x936)][_0x3c1684(0x2de)]('hidden'),renderTeamQuizQuestion();const _0x14aea6={'gameId':currentTeamQuizId,'mode':_0x20d981[_0x3c1684(0x8de)]||_0x3c1684(0x45f),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x3c1684(0x1ec)](_0x3c1684(0x579),JSON[_0x3c1684(0xace)](_0x14aea6)),listenForTeamQuizUpdates();}catch(_0x800a84){console[_0x3c1684(0x4e5)](_0x3c1684(0x272),_0x800a84),showMessage(_0x3c1684(0x1f9));}}async function renderTeamQuizQuestion(){const _0x56c8fd=_0x594c14;if(localQuestionIndex>=currentQuizData[_0x56c8fd(0x72b)]['length']){displayTeamQuizFinalResults();return;}const _0x520a53=currentQuizData[_0x56c8fd(0x72b)][localQuestionIndex],_0x29fd36=localTeamPlayers[localPlayerIndex],_0x256848=_0x520a53[_0x56c8fd(0x7cd)]||currentQuizData['quizType'];let _0x573233=_0x520a53[_0x56c8fd(0x346)]||_0x520a53[_0x56c8fd(0x77a)],_0x37dee4='';switch(_0x256848){case'multiple_choice':case _0x56c8fd(0x73d):_0x37dee4=_0x520a53[_0x56c8fd(0x9ac)][_0x56c8fd(0x345)]((_0x2fa227,_0x994f6b)=>_0x56c8fd(0x9d8)+_0x994f6b+_0x56c8fd(0xba5)+_0x994f6b+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x994f6b+'\x22>'+_0x2fa227+_0x56c8fd(0x2fa))[_0x56c8fd(0x95f)]('');break;case'true_false':_0x37dee4='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x56c8fd(0xa97):case'fill_in_no_choices':_0x37dee4=_0x56c8fd(0xc8e);break;case _0x56c8fd(0x37f):_0x37dee4=_0x56c8fd(0x670)+_0x520a53[_0x56c8fd(0xcf5)][_0x56c8fd(0x345)](_0x1ee516=>_0x56c8fd(0x4a8)+_0x1ee516+'\x22>'+_0x1ee516+_0x56c8fd(0x882))[_0x56c8fd(0x95f)]('')+'</select>';break;default:_0x37dee4='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x56c8fd(0xa0c)]=_0x56c8fd(0xb28)+(localQuestionIndex+0x1)+_0x56c8fd(0x431)+currentQuizData[_0x56c8fd(0x72b)]['length']+_0x56c8fd(0x790)+_0x29fd36+_0x56c8fd(0xbad)+(localQuestionIndex+0x1)+'.\x20'+_0x573233+_0x56c8fd(0x6bc)+(_0x520a53[_0x56c8fd(0x1c6)]?_0x56c8fd(0xca0)+_0x520a53['imageCode']+'</div>':'')+_0x56c8fd(0x45e)+_0x37dee4+_0x56c8fd(0x3d2),studentQuizArea[_0x56c8fd(0x936)][_0x56c8fd(0x373)](_0x56c8fd(0x1dc));if(window[_0x56c8fd(0x8e9)])MathJax['typesetPromise']([studentQuizArea]);document[_0x56c8fd(0x68c)](_0x56c8fd(0x92d))[_0x56c8fd(0x7a0)](_0x56c8fd(0xc83),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x23e3d2=_0x594c14,_0x4dc83c=currentQuizData['questions'][localQuestionIndex],_0xa833cc=_0x4dc83c[_0x23e3d2(0x7cd)]||currentQuizData[_0x23e3d2(0x9c1)];let _0x3633a3=null,_0x5a1b31=![];if(_0xa833cc===_0x23e3d2(0xa97)||_0xa833cc===_0x23e3d2(0xcb5)){const _0x487a3d=document[_0x23e3d2(0x817)]('textarea[name=\x22team_answer\x22]');if(!_0x487a3d||!_0x487a3d['value'][_0x23e3d2(0x99c)]()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x3633a3=_0x487a3d[_0x23e3d2(0x9a1)][_0x23e3d2(0x99c)](),_0x5a1b31=await gradeShortAnswer(_0x3633a3,_0x4dc83c);}else{const _0x2dc052=document[_0x23e3d2(0x817)](_0x23e3d2(0x9e5));if(!_0x2dc052||_0x2dc052[_0x23e3d2(0x9a1)]===''){showMessage(_0x23e3d2(0xcdc));return;}_0x3633a3=_0x2dc052[_0x23e3d2(0x9a1)];switch(_0xa833cc){case _0x23e3d2(0x8b0):_0x5a1b31=_0x3633a3==='true'===_0x4dc83c[_0x23e3d2(0xbfb)];break;case _0x23e3d2(0x37f):_0x5a1b31=_0x3633a3===_0x4dc83c[_0x23e3d2(0x3ce)];break;default:_0x5a1b31=parseInt(_0x3633a3)===_0x4dc83c[_0x23e3d2(0x671)];break;}}const _0x316d13={'questionIndex':localQuestionIndex,'isCorrect':_0x5a1b31},_0x2f5077=userId,_0x5770a4={['groups.'+_0x2f5077+_0x23e3d2(0x1a5)]:arrayUnion(_0x316d13)};_0x5a1b31&&(_0x5770a4[_0x23e3d2(0xca1)+_0x2f5077+_0x23e3d2(0xa0f)]=increment(0x1));try{await updateDoc(doc(db,_0x23e3d2(0x632)+appId+_0x23e3d2(0x96b),currentTeamQuizId),_0x5770a4),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x23e3d2(0x72b)][_0x23e3d2(0x757)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x3ef560){console[_0x23e3d2(0x4e5)]('Error\x20submitting\x20group\x20answer:',_0x3ef560),showMessage(_0x23e3d2(0x236));}}async function handleTeamAnswerSubmit(){const _0x5c678a=_0x594c14,_0x22257d=await getDoc(doc(db,_0x5c678a(0x632)+appId+_0x5c678a(0x96b),currentTeamQuizId));if(!_0x22257d[_0x5c678a(0x367)]())return;const _0x208ebe=_0x22257d[_0x5c678a(0x21d)]();if(_0x208ebe[_0x5c678a(0x8de)]==='group'){handleGroupAnswerSubmit();return;}const _0x514f32=localTeamPlayers[localPlayerIndex],_0x277261=currentQuizData[_0x5c678a(0x72b)][localQuestionIndex],_0x1d6882=_0x277261[_0x5c678a(0x7cd)]||currentQuizData[_0x5c678a(0x9c1)];let _0x441746=null,_0x809c2f=![];if(_0x1d6882==='short_answer'||_0x1d6882==='fill_in_no_choices'){const _0x356782=document[_0x5c678a(0x817)]('textarea[name=\x22team_answer\x22]');if(!_0x356782||!_0x356782[_0x5c678a(0x9a1)][_0x5c678a(0x99c)]()){showMessage(_0x5c678a(0xc58));return;}_0x441746=_0x356782[_0x5c678a(0x9a1)][_0x5c678a(0x99c)](),_0x809c2f=await gradeShortAnswer(_0x441746,_0x277261);}else{const _0x48b25e=document[_0x5c678a(0x817)](_0x5c678a(0x9e5));if(!_0x48b25e||_0x48b25e[_0x5c678a(0x9a1)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x441746=_0x48b25e[_0x5c678a(0x9a1)];switch(_0x1d6882){case _0x5c678a(0x8b0):_0x809c2f=_0x441746===_0x5c678a(0x300)===_0x277261[_0x5c678a(0xbfb)];break;case _0x5c678a(0x37f):_0x809c2f=_0x441746===_0x277261[_0x5c678a(0x3ce)];break;default:_0x809c2f=parseInt(_0x441746)===_0x277261[_0x5c678a(0x671)];break;}}const _0x8e17e9={'questionIndex':localQuestionIndex,'isCorrect':_0x809c2f,'answerValue':_0x441746},_0x27eb44={['responses.'+_0x514f32+'.answers']:arrayUnion(_0x8e17e9)};_0x809c2f&&(_0x27eb44[_0x5c678a(0x46e)+_0x514f32+_0x5c678a(0xa0f)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x5c678a(0x96b),currentTeamQuizId),_0x27eb44),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x5c678a(0x757)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0xa22228){console['error']('Error\x20submitting\x20team\x20answer:',_0xa22228),showMessage(_0x5c678a(0x236));}}async function displayTeamQuizFinalResults(){const _0x4a7c6b=_0x594c14;studentQuizArea[_0x4a7c6b(0x936)]['add'](_0x4a7c6b(0x1dc)),studentResultArea[_0x4a7c6b(0x936)][_0x4a7c6b(0x373)](_0x4a7c6b(0x1dc));const _0x120bab=doc(db,_0x4a7c6b(0x632)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x239080=await getDoc(_0x120bab);if(!_0x239080[_0x4a7c6b(0x367)]()){studentResultArea[_0x4a7c6b(0xa0c)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x5ed2e6=_0x239080[_0x4a7c6b(0x21d)]();let _0x1ea8bd=[];const _0x1ff9d2=_0x5ed2e6['mode']||'team';if(_0x1ff9d2==='group'){const _0x189295=_0x5ed2e6[_0x4a7c6b(0xcd6)][userId];_0x189295?_0x1ea8bd=[{'name':_0x4a7c6b(0xd23)+localTeamPlayers[_0x4a7c6b(0x95f)](',\x20'),'score':_0x189295[_0x4a7c6b(0xc54)]||0x0}]:_0x1ea8bd=[{'name':_0x4a7c6b(0x65a),'score':_0x4a7c6b(0xbe3)}];}else _0x1ea8bd=localTeamPlayers[_0x4a7c6b(0x345)](_0x1fac82=>({'name':_0x1fac82,'score':_0x5ed2e6[_0x4a7c6b(0x79c)][_0x1fac82]?.[_0x4a7c6b(0xc54)]||0x0}))['sort']((_0x572e8e,_0x28ec8d)=>_0x28ec8d[_0x4a7c6b(0xc54)]-_0x572e8e[_0x4a7c6b(0xc54)]);studentResultArea[_0x4a7c6b(0xa0c)]=_0x4a7c6b(0x661)+_0x1ea8bd[_0x4a7c6b(0x345)](_0x288286=>_0x4a7c6b(0x514)+_0x288286[_0x4a7c6b(0xb31)]+_0x4a7c6b(0x456)+_0x288286[_0x4a7c6b(0xc54)]+_0x4a7c6b(0x7fe))[_0x4a7c6b(0x95f)]('')+_0x4a7c6b(0x8c8),sessionStorage[_0x4a7c6b(0x3ca)](_0x4a7c6b(0x579)),currentMode===_0x4a7c6b(0x50a)&&currentTeamQuizId&&setTimeout(()=>{const _0x151505=_0x4a7c6b;deleteDoc(doc(db,_0x151505(0x632)+appId+_0x151505(0x96b),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x594c14(0xa56)};const allMathTopics=[{'category':_0x594c14(0x47c),'name':_0x594c14(0x67d)},{'category':_0x594c14(0x47c),'name':_0x594c14(0x248)},{'category':_0x594c14(0x47c),'name':_0x594c14(0x6ae)},{'category':'จำนวนและการดำเนินการ','name':_0x594c14(0x813)},{'category':_0x594c14(0x47c),'name':_0x594c14(0xbe7)},{'category':_0x594c14(0x47c),'name':_0x594c14(0x746)},{'category':_0x594c14(0x47c),'name':_0x594c14(0x2af)},{'category':_0x594c14(0x47c),'name':_0x594c14(0x338)},{'category':_0x594c14(0x47c),'name':_0x594c14(0xbcc)},{'category':_0x594c14(0x47c),'name':_0x594c14(0x309)},{'category':_0x594c14(0x47c),'name':_0x594c14(0x331)},{'category':_0x594c14(0x47c),'name':_0x594c14(0xa25)},{'category':_0x594c14(0x47c),'name':_0x594c14(0x7cc)},{'category':'จำนวนและการดำเนินการ','name':_0x594c14(0x5e9)},{'category':'จำนวนและการดำเนินการ','name':'ห.ร.ม.\x20(GCD)'},{'category':'จำนวนและการดำเนินการ','name':_0x594c14(0x76c)},{'category':_0x594c14(0x47c),'name':'อัตราส่วนและสัดส่วน'},{'category':_0x594c14(0x47c),'name':_0x594c14(0x8d7)},{'category':'จำนวนและการดำเนินการ','name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x594c14(0x47c),'name':_0x594c14(0x53a)},{'category':'จำนวนและการดำเนินการ','name':_0x594c14(0x971)},{'category':_0x594c14(0x47c),'name':_0x594c14(0x88b)},{'category':_0x594c14(0x47c),'name':_0x594c14(0x9af)},{'category':_0x594c14(0x47c),'name':_0x594c14(0x1c5)},{'category':_0x594c14(0x47c),'name':_0x594c14(0x8e5)},{'category':_0x594c14(0x47c),'name':'การบวกทศนิยม'},{'category':_0x594c14(0x47c),'name':'การลบทศนิยม'},{'category':_0x594c14(0x47c),'name':_0x594c14(0xba7)},{'category':_0x594c14(0x47c),'name':_0x594c14(0x849)},{'category':'จำนวนและการดำเนินการ','name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x594c14(0x47c),'name':'ร้อยละพื้นฐาน'},{'category':'จำนวนและการดำเนินการ','name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x594c14(0x47c),'name':_0x594c14(0x3b3)},{'category':_0x594c14(0x47c),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x594c14(0x47c),'name':_0x594c14(0xd1e)},{'category':_0x594c14(0x47c),'name':_0x594c14(0x370)},{'category':_0x594c14(0x47c),'name':_0x594c14(0x3c6)},{'category':_0x594c14(0x357),'name':_0x594c14(0xa9f)},{'category':_0x594c14(0x357),'name':_0x594c14(0xa27)},{'category':'การวัด','name':_0x594c14(0x918)},{'category':_0x594c14(0x357),'name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x594c14(0x357),'name':_0x594c14(0x9a4)},{'category':_0x594c14(0x357),'name':_0x594c14(0x3a9)},{'category':_0x594c14(0x357),'name':_0x594c14(0x69c)},{'category':_0x594c14(0x357),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x594c14(0x357),'name':_0x594c14(0xada)},{'category':_0x594c14(0x357),'name':_0x594c14(0x1fa)},{'category':'การวัด','name':_0x594c14(0xae4)},{'category':_0x594c14(0x357),'name':'มุมและการวัดมุม'},{'category':_0x594c14(0x357),'name':_0x594c14(0xb32)},{'category':_0x594c14(0x357),'name':_0x594c14(0x701)},{'category':_0x594c14(0xb52),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x594c14(0xb52),'name':_0x594c14(0x6f5)},{'category':_0x594c14(0xb52),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x594c14(0xb52),'name':_0x594c14(0x301)},{'category':'เรขาคณิต','name':_0x594c14(0x371)},{'category':'เรขาคณิต','name':'ความคล้ายของรูป'},{'category':_0x594c14(0xb52),'name':_0x594c14(0x73f)},{'category':_0x594c14(0xb52),'name':_0x594c14(0x375)},{'category':_0x594c14(0xb52),'name':_0x594c14(0xc84)},{'category':_0x594c14(0xb52),'name':_0x594c14(0x3b5)},{'category':'เรขาคณิต','name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x594c14(0xb52),'name':_0x594c14(0x271)},{'category':'เรขาคณิต','name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x594c14(0xb52),'name':_0x594c14(0x7e1)},{'category':'เรขาคณิต','name':_0x594c14(0xa6d)},{'category':_0x594c14(0x939),'name':_0x594c14(0x96c)},{'category':_0x594c14(0x939),'name':_0x594c14(0x66a)},{'category':_0x594c14(0x939),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x594c14(0x939),'name':_0x594c14(0x7ec)},{'category':_0x594c14(0x939),'name':_0x594c14(0xa3d)},{'category':_0x594c14(0x939),'name':_0x594c14(0x793)},{'category':_0x594c14(0x939),'name':_0x594c14(0xbe1)},{'category':_0x594c14(0x939),'name':_0x594c14(0x4ac)},{'category':_0x594c14(0x939),'name':_0x594c14(0x31c)},{'category':_0x594c14(0x939),'name':_0x594c14(0xb53)},{'category':_0x594c14(0x939),'name':'สมการราก\x20(radical)'},{'category':_0x594c14(0x939),'name':_0x594c14(0x714)},{'category':_0x594c14(0x939),'name':_0x594c14(0x6d0)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x594c14(0x46d)},{'category':_0x594c14(0x939),'name':_0x594c14(0x5d5)},{'category':_0x594c14(0x939),'name':'ระบบอสมการ'},{'category':_0x594c14(0x939),'name':_0x594c14(0x1ca)},{'category':_0x594c14(0x939),'name':'โดเมนและเรนจ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x594c14(0x919)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x594c14(0x393)},{'category':_0x594c14(0x939),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x594c14(0x939),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x594c14(0x939),'name':_0x594c14(0x7f0)},{'category':_0x594c14(0x939),'name':_0x594c14(0x6c0)},{'category':_0x594c14(0x939),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x594c14(0x34d)},{'category':_0x594c14(0x939),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x594c14(0x381)},{'category':_0x594c14(0x939),'name':_0x594c14(0x26c)},{'category':_0x594c14(0x939),'name':_0x594c14(0x913)},{'category':_0x594c14(0x939),'name':_0x594c14(0x6df)},{'category':_0x594c14(0x939),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x594c14(0x939),'name':_0x594c14(0x866)},{'category':'พีชคณิตและฟังก์ชัน','name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0x594c14(0x939),'name':_0x594c14(0x674)},{'category':_0x594c14(0xab9),'name':_0x594c14(0x3fa)},{'category':_0x594c14(0xab9),'name':_0x594c14(0x41c)},{'category':_0x594c14(0xab9),'name':_0x594c14(0x9b2)},{'category':_0x594c14(0xab9),'name':_0x594c14(0x355)},{'category':_0x594c14(0xab9),'name':_0x594c14(0x90a)},{'category':_0x594c14(0xab9),'name':_0x594c14(0xca5)},{'category':'เรขาคณิตวิเคราะห์','name':_0x594c14(0x2e0)},{'category':_0x594c14(0xab9),'name':_0x594c14(0x9ef)},{'category':_0x594c14(0xab9),'name':_0x594c14(0x61c)},{'category':_0x594c14(0x403),'name':_0x594c14(0x4b8)},{'category':_0x594c14(0x403),'name':_0x594c14(0x220)},{'category':_0x594c14(0x403),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x594c14(0x403),'name':'เรเดียนและการแปลงหน่วย'},{'category':_0x594c14(0x403),'name':_0x594c14(0xd18)},{'category':_0x594c14(0x403),'name':_0x594c14(0x718)},{'category':'ตรีโกณมิติ','name':_0x594c14(0x96a)},{'category':_0x594c14(0x403),'name':_0x594c14(0x832)},{'category':_0x594c14(0x403),'name':_0x594c14(0xbb6)},{'category':_0x594c14(0x403),'name':_0x594c14(0x31e)},{'category':_0x594c14(0x403),'name':_0x594c14(0x2d0)},{'category':_0x594c14(0x265),'name':_0x594c14(0x39f)},{'category':'สถิติและความน่าจะเป็น','name':'การจัดกลุ่มข้อมูล'},{'category':'สถิติและความน่าจะเป็น','name':_0x594c14(0x7cf)},{'category':'สถิติและความน่าจะเป็น','name':_0x594c14(0x761)},{'category':_0x594c14(0x265),'name':_0x594c14(0x909)},{'category':_0x594c14(0x265),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':'สถิติและความน่าจะเป็น','name':_0x594c14(0x9b4)},{'category':_0x594c14(0x265),'name':'มัธยฐาน'},{'category':_0x594c14(0x265),'name':'ฐานนิยม'},{'category':'สถิติและความน่าจะเป็น','name':'พิสัย'},{'category':_0x594c14(0x265),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x594c14(0x265),'name':_0x594c14(0x2dc)},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x594c14(0x265),'name':_0x594c14(0x72f)},{'category':_0x594c14(0x265),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x594c14(0x265),'name':_0x594c14(0x4eb)},{'category':'สถิติและความน่าจะเป็น','name':_0x594c14(0xb74)},{'category':_0x594c14(0x265),'name':'แผนภาพเวนน์'},{'category':_0x594c14(0x265),'name':_0x594c14(0x58c)},{'category':_0x594c14(0x265),'name':_0x594c14(0xbc0)},{'category':_0x594c14(0x265),'name':_0x594c14(0xb11)},{'category':_0x594c14(0x265),'name':'การจัดหมู่\x20(Combination)'},{'category':_0x594c14(0x265),'name':_0x594c14(0x645)},{'category':'สถิติและความน่าจะเป็น','name':_0x594c14(0xc70)},{'category':_0x594c14(0x7ee),'name':_0x594c14(0x784)},{'category':_0x594c14(0x7ee),'name':_0x594c14(0x497)},{'category':_0x594c14(0x7ee),'name':_0x594c14(0x26f)},{'category':_0x594c14(0x7ee),'name':_0x594c14(0x39d)},{'category':_0x594c14(0x7ee),'name':_0x594c14(0x9df)},{'category':_0x594c14(0x7ee),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':'แคลคูลัสเบื้องต้น','name':'ความชันเส้นสัมผัส'},{'category':'แคลคูลัสเบื้องต้น','name':_0x594c14(0x41a)},{'category':_0x594c14(0x7ee),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x594c14(0x7ee),'name':_0x594c14(0xd0c)},{'category':_0x594c14(0x7ee),'name':_0x594c14(0x21b)},{'category':'แคลคูลัสเบื้องต้น','name':_0x594c14(0x5cf)},{'category':_0x594c14(0x7ee),'name':_0x594c14(0x5da)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x594c14(0x43f)},{'category':_0x594c14(0x5fc),'name':_0x594c14(0x8e7)},{'category':_0x594c14(0x5fc),'name':_0x594c14(0x7c9)},{'category':_0x594c14(0x5fc),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x594c14(0xb73)},{'category':_0x594c14(0x5fc),'name':_0x594c14(0x50c)},{'category':_0x594c14(0x5fc),'name':_0x594c14(0xb9d)},{'category':_0x594c14(0x503),'name':'ดอกเบี้ยอย่างง่าย'},{'category':'คณิตการเงิน/บูรณาการ','name':'ดอกเบี้ยทบต้น'},{'category':_0x594c14(0x503),'name':_0x594c14(0x925)},{'category':_0x594c14(0x503),'name':_0x594c14(0x3fc)},{'category':_0x594c14(0x503),'name':_0x594c14(0x626)},{'category':_0x594c14(0xb2e),'name':_0x594c14(0x3f2)},{'category':_0x594c14(0xb2e),'name':_0x594c14(0xb0d)},{'category':_0x594c14(0xb2e),'name':_0x594c14(0x8b1)}];function renderTopicCheckboxes(){const _0x6b13cd=_0x594c14,_0x1fc133=document['getElementById']('math-topics-checkbox-container');if(!_0x1fc133)return;const _0x11f6f5=allMathTopics,_0x48c2fb=customMathTopics['map'](_0x49f6fd=>({'id':_0x49f6fd['id'],'category':_0x6b13cd(0x686),'name':_0x49f6fd[_0x6b13cd(0xb31)]})),_0xbd0112=[..._0x11f6f5,..._0x48c2fb],_0x4eeb1d=_0xbd0112[_0x6b13cd(0x658)]((_0x2dc64c,_0x52109d)=>{const _0x9f132e=_0x6b13cd;return!_0x2dc64c[_0x52109d[_0x9f132e(0x4fb)]]&&(_0x2dc64c[_0x52109d[_0x9f132e(0x4fb)]]=[]),_0x2dc64c[_0x52109d[_0x9f132e(0x4fb)]][_0x9f132e(0x861)](_0x52109d),_0x2dc64c;},{});let _0x1f0517='';const _0x3b06e4=['หัวข้อที่สร้างเอง',...Object[_0x6b13cd(0x2e8)](_0x4eeb1d)[_0x6b13cd(0x298)](_0x31ba8b=>_0x31ba8b!==_0x6b13cd(0x686))];for(const _0x49eede of _0x3b06e4){if(_0x4eeb1d[_0x49eede]){const _0x4be037=_0x49eede===_0x6b13cd(0x686),_0x59fccc=_0x4be037?_0x6b13cd(0x3c5):'fas\x20fa-bookmark',_0x4bc776=_0x4be037?'text-blue-700':_0x6b13cd(0x7b1);_0x1f0517+=_0x6b13cd(0x7e3),_0x1f0517+=_0x6b13cd(0xb8a)+_0x4bc776+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x59fccc+_0x6b13cd(0x249)+_0x49eede+_0x6b13cd(0x4a1),_0x4eeb1d[_0x49eede][_0x6b13cd(0x8be)](_0x3864e2=>{const _0x50c55f=_0x6b13cd,_0x557e7f=!!_0x3864e2['id'],_0x21e431=_0x557e7f?_0x50c55f(0xc11)+_0x3864e2['id']+_0x50c55f(0x4a2)+_0x3864e2['id']+_0x50c55f(0x6e1)+_0x3864e2['id']+_0x50c55f(0x795)+_0x3864e2['id']+_0x50c55f(0xac4):'';_0x1f0517+=_0x50c55f(0xa0e)+(_0x3864e2['id']||'')+_0x50c55f(0xc7c)+_0x3864e2[_0x50c55f(0xb31)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x3864e2['name']+_0x50c55f(0xccb)+(_0x557e7f?_0x50c55f(0x4f5)+_0x3864e2['name']+'\x22>':'')+_0x50c55f(0x902)+_0x21e431+_0x50c55f(0x64b);}),_0x1f0517+=_0x6b13cd(0x93c);}}_0x1fc133[_0x6b13cd(0xa0c)]=_0x1f0517||_0x6b13cd(0xba9),_0x1fc133['removeEventListener'](_0x6b13cd(0x5b4),updateSelectedTopicsCount),_0x1fc133['addEventListener'](_0x6b13cd(0x5b4),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x495b7e,_0x5c8c4b){const _0x178089=_0x594c14;if(!_0x495b7e||!_0x5c8c4b[_0x178089(0x99c)]()){showMessage(_0x178089(0x433));return;}try{const _0x2e76f0=doc(db,_0x178089(0x632)+appId+'/public/data/customMathTopics',_0x495b7e);await updateDoc(_0x2e76f0,{'name':_0x5c8c4b[_0x178089(0x99c)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x11e89d){console[_0x178089(0x4e5)](_0x178089(0x32a),_0x11e89d),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0xcaa5e3,_0x3faa94){const _0x261b0e=_0x594c14;if(!_0xcaa5e3)return;const _0x47e86b=_0xcaa5e3[_0x261b0e(0x817)](_0x261b0e(0x811)),_0x19b3fd=_0xcaa5e3['querySelector'](_0x261b0e(0xb9b)),_0x18f406=_0xcaa5e3[_0x261b0e(0x817)](_0x261b0e(0x7df)),_0x20e31b=_0xcaa5e3['querySelector']('.topic-actions-edit');_0x47e86b[_0x261b0e(0x936)][_0x261b0e(0x34a)](_0x261b0e(0x1dc),_0x3faa94),_0x19b3fd[_0x261b0e(0x936)]['toggle'](_0x261b0e(0x1dc),!_0x3faa94),_0x18f406['classList'][_0x261b0e(0x34a)]('hidden',_0x3faa94),_0x20e31b['classList']['toggle'](_0x261b0e(0x1dc),!_0x3faa94),_0x3faa94&&(_0x19b3fd[_0x261b0e(0x49f)](),_0x19b3fd['select']());}async function handleStartLiveRace(_0x1fa615){const _0x1f6e25=_0x594c14;let _0x2455e7=allQuizzes[_0x1f6e25(0xad3)](_0x167620=>_0x167620['id']===_0x1fa615);if(!_0x2455e7){const _0x4ab1d3=doc(db,'artifacts/'+appId+_0x1f6e25(0x21f),_0x1fa615),_0x4f4192=await getDoc(_0x4ab1d3);if(!_0x4f4192['exists']()){showMessage(_0x1f6e25(0xa07));return;}_0x2455e7={'id':_0x4f4192['id'],..._0x4f4192[_0x1f6e25(0x21d)]()};}const _0x34079a=getShuffledQuiz(_0x2455e7);currentQuizData=_0x34079a;const _0x88ed93=_0x2455e7[_0x1f6e25(0x618)]||currentProjectId||null,_0x493cae=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x1f6e25(0x3d0)]();currentLiveGamePin=_0x493cae;try{const _0x2fad67=await addDoc(collection(db,_0x1f6e25(0x632)+appId+'/public/data/liveGames'),{'quizId':_0x1fa615,'projectId':_0x88ed93,'status':_0x1f6e25(0x6c5),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x493cae,'createdAt':serverTimestamp(),'shuffledQuiz':_0x34079a});currentLiveGameId=_0x2fad67['id'],showAdminLobbyView(_0x493cae,_0x2455e7['topic']),listenForLiveGameUpdates();}catch(_0x37099f){console[_0x1f6e25(0x4e5)](_0x1f6e25(0x9e9),_0x37099f),showMessage(_0x1f6e25(0x42d));}}function updateSelectedTopicsCount(){const _0x4ee8b0=_0x594c14,_0xca9bac=document[_0x4ee8b0(0x68c)](_0x4ee8b0(0x5e6)),_0x5b7f23=_0xca9bac[_0x4ee8b0(0x9c3)](_0x4ee8b0(0x75b))[_0x4ee8b0(0x757)],_0x145612=document[_0x4ee8b0(0x68c)](_0x4ee8b0(0x395));_0x5b7f23>0x0?_0x145612[_0x4ee8b0(0xb4b)]=_0x4ee8b0(0x9f0)+_0x5b7f23+'\x20หัวข้อ)':_0x145612[_0x4ee8b0(0xb4b)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x594c14(0x3fe),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x594c14(0xc61),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x594c14(0xcff),scratchpadPenColor='#000000',scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x48849e,_0x5d744b){const _0x254cbb=_0x594c14;return Math['sqrt'](Math['pow'](_0x48849e['x']-_0x5d744b['x'],0x2)+Math[_0x254cbb(0x9bd)](_0x48849e['y']-_0x5d744b['y'],0x2));}function getMidpoint(_0xaea585,_0x3469c7){return{'x':(_0xaea585['x']+_0x3469c7['x'])/0x2,'y':(_0xaea585['y']+_0x3469c7['y'])/0x2};}function getTransformedPoint(_0x260999,_0x1ca564){return{'x':(_0x260999-scratchpadOffset['x'])/scratchpadScale,'y':(_0x1ca564-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x4d7a6b=_0x594c14;if(!scratchpadCtx)return;const _0x2e1d3e=scratchpadCtx['canvas'],_0x39ae9c=window[_0x4d7a6b(0x493)]||0x1,_0x4f9d10=document[_0x4d7a6b(0x68c)](_0x4d7a6b(0x22d));_0x4f9d10&&(_0x4f9d10[_0x4d7a6b(0x62a)]['transformOrigin']=_0x4d7a6b(0x18e),_0x4f9d10['style'][_0x4d7a6b(0xba1)]=_0x4d7a6b(0xcc1)+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+_0x4d7a6b(0x7e8)+scratchpadScale+')'),scratchpadCtx[_0x4d7a6b(0x6fd)](),scratchpadCtx[_0x4d7a6b(0x3e8)](_0x39ae9c,0x0,0x0,_0x39ae9c,0x0,0x0),scratchpadCtx[_0x4d7a6b(0xa58)](0x0,0x0,_0x2e1d3e['width'],_0x2e1d3e[_0x4d7a6b(0x33a)]),scratchpadCtx[_0x4d7a6b(0x477)](),scratchpadCtx[_0x4d7a6b(0x6fd)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x4d7a6b(0x592)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x2b4b56=>{drawStroke(_0x2b4b56);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x4d7a6b(0x477)]();}function renderGroupModeQuestion(){const _0x3c6443=_0x594c14;if(localQuestionIndex>=currentQuizData[_0x3c6443(0x72b)][_0x3c6443(0x757)]){displayTeamQuizFinalResults();return;}const _0x15e80f=currentQuizData[_0x3c6443(0x72b)][localQuestionIndex],_0x6af981=_0x15e80f[_0x3c6443(0x7cd)]||currentQuizData[_0x3c6443(0x9c1)];let _0x3ae3df=_0x15e80f[_0x3c6443(0x346)]||_0x15e80f[_0x3c6443(0x77a)],_0x3792b1='';switch(_0x6af981){case _0x3c6443(0x69d):case _0x3c6443(0x73d):_0x3792b1=_0x15e80f['options'][_0x3c6443(0x345)]((_0x326090,_0x7177a1)=>_0x3c6443(0x9d8)+_0x7177a1+_0x3c6443(0xba5)+_0x7177a1+_0x3c6443(0x7fb)+_0x7177a1+'\x22>'+_0x326090+_0x3c6443(0x2fa))[_0x3c6443(0x95f)]('');break;case'true_false':_0x3792b1=_0x3c6443(0x561);break;case _0x3c6443(0xa97):case _0x3c6443(0xcb5):_0x3792b1=_0x3c6443(0xa5a);break;case _0x3c6443(0x37f):_0x3792b1=_0x3c6443(0x670)+_0x15e80f[_0x3c6443(0xcf5)][_0x3c6443(0x345)](_0x3fb8a6=>_0x3c6443(0x4a8)+_0x3fb8a6+'\x22>'+_0x3fb8a6+_0x3c6443(0x882))[_0x3c6443(0x95f)]('')+_0x3c6443(0x8e2);break;default:_0x3792b1=_0x3c6443(0xccc);break;}studentQuizArea[_0x3c6443(0xa0c)]=_0x3c6443(0xb28)+(localQuestionIndex+0x1)+_0x3c6443(0x431)+currentQuizData[_0x3c6443(0x72b)][_0x3c6443(0x757)]+_0x3c6443(0x90e)+localTeamPlayers[_0x3c6443(0x95f)](',\x20')+_0x3c6443(0xbad)+(localQuestionIndex+0x1)+'.\x20'+_0x3ae3df+_0x3c6443(0x6bc)+(_0x15e80f[_0x3c6443(0x1c6)]?_0x3c6443(0xca0)+_0x15e80f[_0x3c6443(0x1c6)]+_0x3c6443(0x93c):'')+_0x3c6443(0x45e)+_0x3792b1+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x3c6443(0x936)][_0x3c6443(0x373)](_0x3c6443(0x1dc));if(window[_0x3c6443(0x8e9)])MathJax[_0x3c6443(0x2e2)]([studentQuizArea]);document[_0x3c6443(0x68c)](_0x3c6443(0xc9f))[_0x3c6443(0x7a0)](_0x3c6443(0xc83),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x37b4e7,_0x34b7f3=null,_0x5f2989,_0x404fdd=null,_0xefb93a=![],_0x16a9ee=null){const _0x4f3dc9=_0x594c14,_0x5960e1=document[_0x4f3dc9(0x68c)](_0x4f3dc9(0x575));_0x5960e1&&_0x5960e1[_0x4f3dc9(0xb4e)]({'behavior':'smooth','block':_0x4f3dc9(0x871)}),generateQuiz(_0x37b4e7,_0x34b7f3,null,_0x16a9ee,!![],_0x5f2989,_0x404fdd,_0xefb93a);}function handleGenerateAndShowLesson(_0x405410,_0xf77687){const _0x4c98c3=_0x594c14,_0x171e67=document['getElementById'](_0x4c98c3(0x8d9)),_0x278046=document[_0x4c98c3(0x68c)](_0x4c98c3(0x276)),_0x1370c5=document[_0x4c98c3(0x68c)](_0x4c98c3(0xc1d)),_0x5319e2=document[_0x4c98c3(0x68c)]('lesson-sections-container');[_0x4c98c3(0x638),_0x4c98c3(0xca2),'applicationContent',_0x4c98c3(0x78a)][_0x4c98c3(0x8be)](_0x2b2b67=>{const _0x58dfb5=_0x4c98c3,_0x33e233=document[_0x58dfb5(0x68c)](_0x2b2b67)[_0x58dfb5(0x7d8)];_0x33e233&&(_0x33e233[_0x58dfb5(0x62a)]['display']='block');}),_0x278046[_0x4c98c3(0xb4b)]=_0x4c98c3(0xbfa)+_0x405410,_0x5319e2[_0x4c98c3(0x936)]['add'](_0x4c98c3(0x1dc)),_0x1370c5[_0x4c98c3(0x936)][_0x4c98c3(0x373)](_0x4c98c3(0x1dc)),_0x171e67[_0x4c98c3(0x936)][_0x4c98c3(0x373)](_0x4c98c3(0x1dc)),generateLesson(_0x405410,_0xf77687)['catch'](_0x243339=>{const _0x3a1463=_0x4c98c3;console[_0x3a1463(0x4e5)](_0x3a1463(0x634),_0x243339),showMessage(_0x3a1463(0x9ae)),_0x171e67['classList'][_0x3a1463(0x2de)](_0x3a1463(0x1dc));});}function handlePointerDown(_0x2ebbfb){const _0x14df95=_0x594c14;_0x2ebbfb['preventDefault']();const _0x16e133=scratchpadCtx[_0x14df95(0x3ff)],_0x47290f=_0x16e133['getBoundingClientRect'](),_0x107104=_0x2ebbfb[_0x14df95(0x2b1)]||(_0x2ebbfb[_0x14df95(0xa4f)]?_0x14df95(0x8b7):_0x14df95(0x888));if(_0x107104===_0x14df95(0xcff)||_0x107104===_0x14df95(0x888)){if(_0x2ebbfb['pointerType']===_0x14df95(0x888)&&_0x2ebbfb[_0x14df95(0xc96)]!==0x0){_0x2ebbfb[_0x14df95(0xc96)]===0x1&&(isMousePanning=!![],panStart={'x':_0x2ebbfb[_0x14df95(0xb9f)],'y':_0x2ebbfb[_0x14df95(0x766)]},_0x16e133[_0x14df95(0x62a)][_0x14df95(0xb8c)]=_0x14df95(0xc67));return;}activeTool===_0x14df95(0x8a0)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x316521=getTransformedPoint(_0x2ebbfb[_0x14df95(0xb9f)]-_0x47290f[_0x14df95(0xacd)],_0x2ebbfb[_0x14df95(0x766)]-_0x47290f[_0x14df95(0xd08)]);let _0x28c232={'tool':activeTool,'points':[_0x316521]};if(activeTool===_0x14df95(0x9ec))_0x28c232[_0x14df95(0xa48)]=scratchpadHighlighterColor,_0x28c232[_0x14df95(0x6bb)]=scratchpadHighlighterSize;else activeTool===_0x14df95(0x8a0)?(_0x28c232[_0x14df95(0xa48)]=scratchpadPenColor,_0x28c232[_0x14df95(0x6bb)]=scratchpadPenSize):(_0x28c232[_0x14df95(0xa48)]=scratchpadPenColor,_0x28c232[_0x14df95(0x6bb)]=scratchpadPenSize);currentStroke=_0x28c232;}else _0x2ebbfb[_0x14df95(0xa4f)]&&(_0x2ebbfb[_0x14df95(0xa4f)][_0x14df95(0x757)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x2ebbfb[_0x14df95(0xa4f)][0x0][_0x14df95(0xb9f)],'y':_0x2ebbfb['touches'][0x0]['clientY']},{'x':_0x2ebbfb[_0x14df95(0xa4f)][0x1][_0x14df95(0xb9f)],'y':_0x2ebbfb[_0x14df95(0xa4f)][0x1][_0x14df95(0x766)]}),initialPinchDistance=getDistance({'x':_0x2ebbfb[_0x14df95(0xa4f)][0x0][_0x14df95(0xb9f)],'y':_0x2ebbfb[_0x14df95(0xa4f)][0x0][_0x14df95(0x766)]},{'x':_0x2ebbfb[_0x14df95(0xa4f)][0x1]['clientX'],'y':_0x2ebbfb['touches'][0x1][_0x14df95(0x766)]})));}function animateTrail(){const _0x38f481=_0x594c14,_0x424747=Date[_0x38f481(0x708)]();let _0x3ebe04=![];for(let _0x10c2ef=strokes[_0x38f481(0x757)]-0x1;_0x10c2ef>=0x0;_0x10c2ef--){const _0x3e8262=strokes[_0x10c2ef];if(_0x3e8262[_0x38f481(0x8c4)]===_0x38f481(0x8a0)&&_0x3e8262[_0x38f481(0xd2e)]){const _0x566fd4=_0x424747-_0x3e8262[_0x38f481(0xd2e)];_0x566fd4>=TRAIL_DURATION?strokes[_0x38f481(0x9e2)](_0x10c2ef,0x1):(_0x3e8262[_0x38f481(0x311)]=0x1-_0x566fd4/TRAIL_DURATION,_0x3ebe04=!![]);}}redrawScratchpad(),_0x3ebe04?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x4992ce){const _0x45188e=_0x594c14;if(!_0x4992ce||_0x4992ce['points'][_0x45188e(0x757)]<0x1)return;scratchpadCtx[_0x45188e(0x6fd)](),scratchpadCtx[_0x45188e(0xb8f)]=_0x45188e(0x19a),scratchpadCtx[_0x45188e(0x85c)]=_0x45188e(0x19a);if(_0x4992ce[_0x45188e(0x8c4)]===_0x45188e(0x8a0)){const _0x37c8b5=_0x4992ce[_0x45188e(0x6bb)]/scratchpadScale;scratchpadCtx[_0x45188e(0xb03)]=_0x4992ce[_0x45188e(0x311)]??0x1,scratchpadCtx['shadowColor']=_0x45188e(0x652),scratchpadCtx['shadowBlur']=_0x37c8b5*0x3,scratchpadCtx[_0x45188e(0xbae)]=_0x45188e(0x3d9),scratchpadCtx[_0x45188e(0x36b)]=_0x37c8b5*2.5,scratchpadCtx[_0x45188e(0xce8)](),scratchpadCtx[_0x45188e(0x61a)](_0x4992ce[_0x45188e(0x650)][0x0]['x'],_0x4992ce[_0x45188e(0x650)][0x0]['y']);for(let _0x25cb5f=0x1;_0x25cb5f<_0x4992ce[_0x45188e(0x650)][_0x45188e(0x757)]-0x1;_0x25cb5f++){const _0x32f3fb=getMidpoint(_0x4992ce[_0x45188e(0x650)][_0x25cb5f],_0x4992ce[_0x45188e(0x650)][_0x25cb5f+0x1]);scratchpadCtx[_0x45188e(0x1d6)](_0x4992ce[_0x45188e(0x650)][_0x25cb5f]['x'],_0x4992ce['points'][_0x25cb5f]['y'],_0x32f3fb['x'],_0x32f3fb['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x45188e(0xd24)]='transparent',scratchpadCtx[_0x45188e(0x1c9)]=0x0,scratchpadCtx['strokeStyle']=_0x45188e(0xb5f),scratchpadCtx[_0x45188e(0x36b)]=_0x37c8b5,scratchpadCtx[_0x45188e(0x214)](),scratchpadCtx[_0x45188e(0x828)]();}else{if(_0x4992ce[_0x45188e(0x8c4)]===_0x45188e(0x9ec)){scratchpadCtx[_0x45188e(0x457)]=_0x45188e(0x198),scratchpadCtx[_0x45188e(0xbae)]=_0x4992ce[_0x45188e(0xa48)],scratchpadCtx[_0x45188e(0x36b)]=_0x4992ce[_0x45188e(0x6bb)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x45188e(0x61a)](_0x4992ce[_0x45188e(0x650)][0x0]['x'],_0x4992ce[_0x45188e(0x650)][0x0]['y']);for(let _0x1338de=0x1;_0x1338de<_0x4992ce[_0x45188e(0x650)]['length']-0x1;_0x1338de++){const _0x5b6b77=getMidpoint(_0x4992ce[_0x45188e(0x650)][_0x1338de],_0x4992ce[_0x45188e(0x650)][_0x1338de+0x1]);scratchpadCtx[_0x45188e(0x1d6)](_0x4992ce[_0x45188e(0x650)][_0x1338de]['x'],_0x4992ce[_0x45188e(0x650)][_0x1338de]['y'],_0x5b6b77['x'],_0x5b6b77['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x45188e(0x828)]();}else{scratchpadCtx[_0x45188e(0x457)]=_0x4992ce[_0x45188e(0x8c4)]===_0x45188e(0x1d7)?_0x45188e(0x3db):'source-over',scratchpadCtx[_0x45188e(0xbae)]=_0x4992ce[_0x45188e(0xa48)],scratchpadCtx['lineWidth']=_0x4992ce[_0x45188e(0x6bb)],scratchpadCtx[_0x45188e(0xce8)](),scratchpadCtx['moveTo'](_0x4992ce[_0x45188e(0x650)][0x0]['x'],_0x4992ce[_0x45188e(0x650)][0x0]['y']);for(let _0x376437=0x1;_0x376437<_0x4992ce[_0x45188e(0x650)][_0x45188e(0x757)]-0x1;_0x376437++){const _0x141068=getMidpoint(_0x4992ce[_0x45188e(0x650)][_0x376437],_0x4992ce[_0x45188e(0x650)][_0x376437+0x1]);scratchpadCtx[_0x45188e(0x1d6)](_0x4992ce[_0x45188e(0x650)][_0x376437]['x'],_0x4992ce['points'][_0x376437]['y'],_0x141068['x'],_0x141068['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x45188e(0x828)]();}}scratchpadCtx[_0x45188e(0x477)]();}function handlePointerMove(_0x21e0e5){const _0x2d2a2f=_0x594c14;_0x21e0e5[_0x2d2a2f(0xc55)]();const _0xdc64ff=scratchpadCtx['canvas'],_0x1f1e2c=_0xdc64ff[_0x2d2a2f(0x754)]();if(_0x21e0e5[_0x2d2a2f(0xa4f)]){if(_0x21e0e5[_0x2d2a2f(0xa4f)][_0x2d2a2f(0x757)]===0x1&&isDrawingOnScratchpad){const _0x43f4b8=getTransformedPoint(_0x21e0e5[_0x2d2a2f(0xa4f)][0x0][_0x2d2a2f(0xb9f)]-_0x1f1e2c[_0x2d2a2f(0xacd)],_0x21e0e5[_0x2d2a2f(0xa4f)][0x0][_0x2d2a2f(0x766)]-_0x1f1e2c[_0x2d2a2f(0xd08)]);currentStroke[_0x2d2a2f(0x650)][_0x2d2a2f(0x861)](_0x43f4b8),redrawScratchpad();}else{if(_0x21e0e5[_0x2d2a2f(0xa4f)][_0x2d2a2f(0x757)]===0x2&&isPanning){const _0x2a9eaf=getDistance({'x':_0x21e0e5[_0x2d2a2f(0xa4f)][0x0][_0x2d2a2f(0xb9f)],'y':_0x21e0e5['touches'][0x0]['clientY']},{'x':_0x21e0e5[_0x2d2a2f(0xa4f)][0x1]['clientX'],'y':_0x21e0e5[_0x2d2a2f(0xa4f)][0x1][_0x2d2a2f(0x766)]}),_0x3ad5b3=getMidpoint({'x':_0x21e0e5[_0x2d2a2f(0xa4f)][0x0]['clientX'],'y':_0x21e0e5[_0x2d2a2f(0xa4f)][0x0][_0x2d2a2f(0x766)]},{'x':_0x21e0e5[_0x2d2a2f(0xa4f)][0x1][_0x2d2a2f(0xb9f)],'y':_0x21e0e5[_0x2d2a2f(0xa4f)][0x1][_0x2d2a2f(0x766)]}),_0x196f23=_0x2a9eaf/ initialPinchDistance,_0x4dbdeb=Math[_0x2d2a2f(0x99a)](Math[_0x2d2a2f(0x2d3)](scratchpadScale*_0x196f23,MIN_SCALE),MAX_SCALE),_0xc6c97d=_0x3ad5b3['x']-panStart['x'],_0x4f37c8=_0x3ad5b3['y']-panStart['y'];scratchpadOffset['x']=_0x3ad5b3['x']-(_0x3ad5b3['x']-scratchpadOffset['x'])*(_0x4dbdeb/scratchpadScale),scratchpadOffset['y']=_0x3ad5b3['y']-(_0x3ad5b3['y']-scratchpadOffset['y'])*(_0x4dbdeb/scratchpadScale),scratchpadOffset['x']+=_0xc6c97d,scratchpadOffset['y']+=_0x4f37c8,scratchpadScale=_0x4dbdeb,initialPinchDistance=_0x2a9eaf,panStart=_0x3ad5b3,redrawScratchpad();}}}else{if(isMousePanning){const _0x84b49e=_0x21e0e5['clientX']-panStart['x'],_0x31d394=_0x21e0e5['clientY']-panStart['y'];scratchpadOffset['x']+=_0x84b49e,scratchpadOffset['y']+=_0x31d394,panStart={'x':_0x21e0e5[_0x2d2a2f(0xb9f)],'y':_0x21e0e5[_0x2d2a2f(0x766)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x581d46=getTransformedPoint(_0x21e0e5[_0x2d2a2f(0xb9f)]-_0x1f1e2c[_0x2d2a2f(0xacd)],_0x21e0e5['clientY']-_0x1f1e2c['top']);currentStroke[_0x2d2a2f(0x650)][_0x2d2a2f(0x861)](_0x581d46),redrawScratchpad();}}}}function handlePointerUp(_0xd4fa75){const _0x80561c=_0x594c14;_0xd4fa75[_0x80561c(0xc55)]();const _0x4e9893=scratchpadCtx[_0x80561c(0x3ff)];isMousePanning&&(isMousePanning=![],_0x4e9893['style'][_0x80561c(0xb8c)]=_0x80561c(0x8ba)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x80561c(0x650)][_0x80561c(0x757)]>0x1&&(strokes[_0x80561c(0x861)](currentStroke),currentStroke[_0x80561c(0x8c4)]==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x17e23f=_0x80561c,_0x3c96b5=strokes[_0x17e23f(0x298)](_0x346077=>_0x346077[_0x17e23f(0x8c4)]===_0x17e23f(0x8a0)&&!_0x346077[_0x17e23f(0xd2e)]);if(_0x3c96b5[_0x17e23f(0x757)]>0x0){const _0x456978=Date[_0x17e23f(0x708)]();_0x3c96b5[_0x17e23f(0x8be)](_0x42dc2d=>_0x42dc2d[_0x17e23f(0xd2e)]=_0x456978),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x338de5){const _0x66ae0d=_0x594c14;_0x338de5[_0x66ae0d(0xc55)]();const _0x3df302=_0x338de5[_0x66ae0d(0x672)]*-0.005,_0xd0ddec=Math[_0x66ae0d(0x99a)](Math[_0x66ae0d(0x2d3)](scratchpadScale+_0x3df302,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x338de5[_0x66ae0d(0xb9f)]-(_0x338de5['clientX']-scratchpadOffset['x'])*(_0xd0ddec/scratchpadScale),scratchpadOffset['y']=_0x338de5['clientY']-(_0x338de5[_0x66ae0d(0x766)]-scratchpadOffset['y'])*(_0xd0ddec/scratchpadScale),scratchpadScale=_0xd0ddec,redrawScratchpad();}function undo(){const _0x119c9d=_0x594c14;strokes[_0x119c9d(0x757)]>0x0&&(redoStrokes[_0x119c9d(0x861)](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x11a7c4=_0x594c14;redoStrokes[_0x11a7c4(0x757)]>0x0&&(strokes[_0x11a7c4(0x861)](redoStrokes[_0x11a7c4(0x313)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x26a134=_0x594c14;document[_0x26a134(0x68c)](_0x26a134(0x98b))['disabled']=strokes[_0x26a134(0x757)]===0x0,document[_0x26a134(0x68c)](_0x26a134(0x4ab))['disabled']=redoStrokes[_0x26a134(0x757)]===0x0;}function openScratchpad(_0x579061,_0x356c27){const _0x2c010a=_0x594c14,_0x5a0505=document[_0x2c010a(0x68c)](_0x2c010a(0x217)),_0x440613=document[_0x2c010a(0x68c)]('scratchpad-question'),_0x470fc8=document[_0x2c010a(0x68c)](_0x2c010a(0x566)),_0x5b1a3f=document['getElementById']('scratchpad-controls');_0x440613['innerHTML']=_0x579061[_0x2c010a(0x346)]||_0x579061[_0x2c010a(0x77a)],_0x470fc8[_0x2c010a(0xa0c)]=_0x356c27['map']((_0x3f0b92,_0x374cc0)=>_0x2c010a(0xb0f)+String[_0x2c010a(0x9d5)](0x41+_0x374cc0)+'.\x20'+_0x3f0b92+_0x2c010a(0x93c))['join'](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x5a0505[_0x2c010a(0x936)][_0x2c010a(0x373)](_0x2c010a(0x1dc)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x2c010a(0x8e9)])MathJax[_0x2c010a(0x2e2)]([_0x440613,_0x470fc8]);}function openBlueprintQuizSettings(){const _0x254452=_0x594c14,_0x2dcf47=document['getElementById'](_0x254452(0x585)),_0x5cf6cd=blueprintPageSettings||(currentProjectData?currentProjectData[_0x254452(0xbab)]:{})||{};document['getElementById'](_0x254452(0x32e))['value']=_0x5cf6cd[_0x254452(0x9c1)]||document['getElementById'](_0x254452(0x255))['value'],document[_0x254452(0x68c)](_0x254452(0x9f5))['innerHTML']=document[_0x254452(0x68c)](_0x254452(0xb40))[_0x254452(0xa0c)],document[_0x254452(0x68c)](_0x254452(0x9f5))['value']=_0x5cf6cd[_0x254452(0x680)]||document['getElementById']('difficulty-level-select')['value'],document[_0x254452(0x68c)]('bp-modal-question-complexity-select')['innerHTML']=document[_0x254452(0x68c)](_0x254452(0xc43))[_0x254452(0xa0c)],document[_0x254452(0x68c)](_0x254452(0x222))[_0x254452(0x9a1)]=_0x5cf6cd['complexityValue']||document['getElementById']('question-complexity-select')[_0x254452(0x9a1)],document[_0x254452(0x68c)](_0x254452(0x2a0))['value']=_0x5cf6cd[_0x254452(0x70a)]||document[_0x254452(0x68c)](_0x254452(0x6f0))[_0x254452(0x9a1)],document[_0x254452(0x68c)](_0x254452(0x4c3))[_0x254452(0x9a1)]=_0x5cf6cd['passingScore']||document['getElementById'](_0x254452(0x66c))['value'],document[_0x254452(0x68c)](_0x254452(0xa5c))[_0x254452(0x9a1)]=_0x5cf6cd[_0x254452(0x1f3)]||document[_0x254452(0x68c)](_0x254452(0x60e))['value'],document[_0x254452(0x68c)](_0x254452(0x3c1))[_0x254452(0x9a1)]=_0x5cf6cd['shuffle']||document[_0x254452(0x68c)](_0x254452(0x43d))[_0x254452(0x9a1)],document[_0x254452(0x68c)]('bp-modal-include-images-checkbox')[_0x254452(0x9cb)]=_0x5cf6cd[_0x254452(0x429)]||document['getElementById']('include-images-checkbox')[_0x254452(0x9cb)],_0x2dcf47[_0x254452(0x936)][_0x254452(0x373)]('hidden');}function _0x3cb7(){const _0xbd599a=['กำลังสร้างบทเรียน:\x20','correctAnswer','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','curriculum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20updating\x20project\x20name:','file-upload-input','lesson-sections-container','submit','.parallel-quiz-btn','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lessonPlan','ondragstart','timer-duration-input','\x20\x20\x20-\x20','ไม่พบโปรเจคที่ต้องการลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างแบบทดสอบจากหัวข้อ...','กรุณาป้อนรหัสแบบทดสอบ','Error\x20processing\x20parallel\x20shortcut\x20click:','comparison-overall-content','.edit-parallel-shortcut-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','targetId','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','.delete-custom-topic-btn','lesson-loader','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','ยอดเยี่ยม','modal-confidence-scoring-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20</div>','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','1581876wvDMkk','isAdaptive','shortcutOrder','isDefault','text-white','tfrac','parts','ไม่สามารถเพิ่มนักเรียนได้','Error\x20fetching\x20quiz\x20settings:','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','8aXtpCg','bank-quiz-list','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toDataURL','standard','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','blueprintShortcuts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','cancel-passcode-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','border-red-700','Error\x20clearing\x20linked\x20quiz:','.move-parallel-shortcut-item','file-shortcut-id-input','blueprint-projects-modal','pairedQuizId','ไม่พบข้อมูลหัวข้อที่จะบันทึก','.unpair-quiz-btn','question-complexity-select','text-red-700\x20bg-red-100','font-bold\x20text-red-700\x20line-through','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','sqrt','bg-green-200\x20text-green-900\x20font-bold','hasOwnProperty','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','raw','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','applicationData','STOP','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตอบถูกทุกข้อในแบบทดสอบนี้','file-shortcut_','getContext','studentName','score','preventDefault','สลับไปโหมดผู้ควบคุม','sync-player-list','กรุณาพิมพ์คำตอบ','answering','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','move','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','BOOLEAN','student-project-leaderboard-table-body','rgba(255,\x20255,\x200,\x200.5)','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','\x22\x20data-target-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','grabbing','choices_only','dimmed','Error\x20fetching\x20student\x20rankings:','contentEditable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-indigo-600','math-topic-search-input','slice','ความคาดหมาย\x20(Expected\x20value)','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','ไม่พบตารางสำหรับ\x20Export','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','#F59E0B','Enter','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','ARRAY','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','cancel-manual-bp-btn','parallel-shortcut-tabs-nav','teacherTips','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','Error\x20analyzing\x20file\x20for\x20topics:','duration-300','#parallel-shortcut-tabs-nav\x20.tab-name-input','highlighter-tools-group','null','กรุณาเลือกสถานะ','click','วงกลม:\x20คอร์ดและเส้นสัมผัส','.ideal-answer-input','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','สร้างชุดคำถามจับคู่','Failed\x20to\x20generate\x20practice\x20test:','ทำคะแนนได้เกินครึ่ง','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','quiz-bank-count','blueprint-options-container','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','</button>','กรุณาวาง\x20URL\x20ของบทความก่อน','sync-manage-players-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','create-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','.move-file-shortcut-menu-btn','button','กรุณาเลือกโปรเจคที่ต้องการบันทึก','keyConcepts','```','students','.remove-shortcut-from-tab-btn','\x22\x20name=\x22confidence','.bp-delete-topic-btn','dragstart','submit-group-answer-btn','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','groups.','memoryContent','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','กำลังสแกนหาแบบทดสอบเก่า...','วงกลม:\x20สมการและสมบัติ','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','text-blue-800','.project-card-container.opacity-50','attemptNumber','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>ใช่</p>','#student-quiz-leaderboard-content\x20thead','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','player-count','<button\x20data-tab-id=\x22','confirm-move-quiz-btn','<div\x20class=\x22loader\x20mx-auto\x22></div>','bulk-loop-until-pass-checkbox','classWeaknesses','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','fill_in_no_choices','ตรวจคะแนนใหม่\x20','คัดลอกไม่สำเร็จ','pointercancel','Error\x20saving\x20to\x20question\x20bank:','comparison','highlighter-tool-btn','close-presentation-btn','.color-palette-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','loader','mouseleave','translate(','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','pen-tools-group','student-result-area','.project-card-content','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','เกิดข้อผิดพลาดในการอ่านไฟล์','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','สร้างคำถามใหม่\x201\x20ข้อ\x20','.bp-live-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fix\x20the\x20option','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','groups','pointerup','Error\x20displaying\x20question\x20bank:','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','confidence-choice-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','กรุณาเลือกคำตอบของกลุ่ม','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','str','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่พบแบบทดสอบสำหรับรหัสนี้','passcode-error-msg','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20สำเร็จ','topicId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','beginPath','Error\x20listening\x20for\x20projects:','tan','add-shortcut-btn','Error\x20analyzing\x20blueprint\x20topics:','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','rows','.pdf','.pair-quiz-btn','lesson-view-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','code','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','allResponses','<button\x20id=\x22','close-lesson-view-btn','ไม่ใช่\x20/\x20ผิด','data:application/vnd.ms-word;charset=utf-8,','เกิดข้อผิดพลาดในการโหลดโปรเจค','ไม่ใช่','Error\x20during\x20blueprint\x20link\x20cleanup:','#26890c','ไม่สามารถบันทึกการตั้งค่าได้','pen','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','frac','label[for=\x22num-questions\x22]','.project-card-container[data-id]','.shortcut-tab-btn','Error\x20updating\x20sort\x20preference:','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','top','quiz-leaderboard-table-container','text-green-800','.file-shortcut-btn[data-id=\x22','ปริพันธ์ไม่จำกัด','grid-view-btn','\x20รายการ\x20สำเร็จ!','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20updating\x20project\x20color:','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','แผนการสอน','\x20in\x20all\x20blueprint\x20projects.','Leaderboard\x20update\x20transaction\x20failed:\x20','preTestId','.topic-selection-btn','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','กฎของไซน์','cancel-quiz-edits-btn','Error\x20displaying\x20blueprint\x20project:','list','</div>\x0a</div>\x0a','quiz-leaderboard-table','รากที่สองและที่สาม','เพิ่มปุ่มลัดจากไฟล์ใหม่','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','#view-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','กลุ่ม:\x20','shadowColor','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','gradeLevel','leaderboard-tab-content','G-V90KRM0L63','application/pdf','behavior-log','all','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fadeStartTime','open-scratchpad-btn','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','Failed\x20to\x20get\x20standardized\x20topic:','\x22\x20data-topic=\x22','0\x200','width','ไฟล์ทั้งหมด','\x5cge','OBJECT','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','update','cancel-game-start-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','multiply','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','round','results-quiz-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','touchstart','\x5ctimes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x5cfrac{$1}{$2}','earned-badges-container','ai-quiz-app-aefee.firebasestorage.app','.answers','bg-black/20','reference_onet.pdf','https://drive.google.com/uc?export=download&id=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','justification','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','actions-container-','get','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','Error\x20adding\x20topic:','shortcut-editor-modal','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','bg-red-100\x20text-red-800','สอบซ่อม','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','scratchpad-clear-btn','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','hasPerfectScoreBonus','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','AI\x20Formula\x20Fix\x20Error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','ตรวจทานเฉลยเสร็จสิ้น!','confidence-modal','กำลังสร้างแบบทดสอบ:\x20','#10B981','split','parallel-shortcut-name-input','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','จำนวนคละ','imageCode','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shadowBlur','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','ai-quiz-generator-v3','contents','onblur','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','global-quiz-search-input','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','.copy-quiz-id-list-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','file-shortcut-name-input','quadraticCurveTo','eraser','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Successfully\x20removed\x20','<option\x20value=\x22\x22>กำลังโหลด...</option>','generate-from-parallel-test-btn','hidden','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','text-red-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','แบบทดสอบที่ติดดาว','findIndex','line-through\x20text-red-700','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manage','quizMode','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','end-team-quiz-btn','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','AI\x20grading\x20failed:','setItem','stepByStepExamples','createElementNS','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','move-quiz-modal','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','latestScore','numChoices','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','เพิ่มรายการที่เลือก','s;\x22\x20title=\x22','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','พื้นที่ผิวรูปทรงสามมิติ','blueprint-tab','คะแนนเต็ม!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','.pointsLastQuestion','-options','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','doughnut','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','file-shortcut-editor-modal','shortcut-blueprint-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Group\x20Mode','join-group-activity-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','เปลี่ยนชื่อแบบทดสอบสำเร็จ','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','stroke','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','confidence-scoring-checkbox','scratchpad-modal','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปริพันธ์จำกัด','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','data','/submissions','/public/data/quizzes','มุมพิเศษ\x2030°-60°-90°','target','bp-modal-question-complexity-select','far\x20fa-star','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','modal-loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','members','cancel-test-btn','modal-confidence-mode-select','.generate-easy-version-btn','ลบโปรเจค\x20\x22','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','scratchpad-header','normal','pdf','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','modal-message','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการส่งคำตอบ','firstScore','file-default-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','analytics-summary-cards','docs','กำลังจับคู่...','.delete-parallel-shortcut-btn','lowerGroupResponders','ปุ่มลัดทั้งหมด','wheel','\x20ครั้ง)</span></td>','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ผู้เชี่ยวชาญ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','handleGenerateAndShowLesson','ระบบเลขและค่าประจำหลัก','\x20mr-2\x22></i>','shortcut_','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','AI\x20did\x20not\x20return\x20any\x20content.','selected-answer-index-hidden','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','createdAt','date_desc','cancel-export-pdf-btn','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','mode-switcher-btn','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','quiz-type-select','bp-topic-list-container','link-input-area','index','student-quiz-leaderboard-tab','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','open-global-live-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<div\x20class=\x22space-y-4\x22>','cancel-bulk-quiz-settings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','Error\x20adding\x20students:','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','สถิติและความน่าจะเป็น','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<tr>','file-default-2','uid','leaderboard-quiz-tab-btn','ฟังก์ชันยกกำลัง','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-team-selection-view','อนุพันธ์:\x20กฎพื้นฐาน','quiz-bank-modal','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','Error\x20confirming\x20players:','mousemove','topicName','order','lesson-view-title','pinnedProjects','กรุณากรอกข้อมูลให้ครบทุกช่อง','</th>','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','idealAnswer','admin-password-input','\x0a---\x0a','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','<div\x20class=\x22flex-1\x22></div>','Invalid\x20response\x20structure\x20from\x20AI.','</strong></p>','</p><div>','complexityValue','quiz-editor-modal','sin','additional-parallel-shortcuts-list','confirm-join-game-btn','เนื้อหาสำหรับสอน:\x20','results-tab','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','match','(ก่อนเรียน)','list-view-btn','contains','outerHTML','.remove-parallel-shortcut-from-tab-btn','user','shuffledQuiz','$1\x5c%','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','not_confident','setFont','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','filter','confidence-scoring-description','/public/data/projects','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','Invalid\x20response\x20structure\x20from\x20API.','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','bp-modal-num-questions','[data-topic-id=\x22','isArray','input[name=\x22status-option\x22]:checked','questionDisplayedAt','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','schedule','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','text-red-800','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','การคูณ','upperGroupResponders','pointerType','Error\x20preparing\x20content\x20quiz:','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','q-image-container-','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','add-file-shortcut-tab-btn','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','Error\x20saving\x20blueprint\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','#FCE7F3','\x20mb-2\x22>','พิมพ์ตอบ','fill','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาตั้งชื่อแท็บใหม่:','substring','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(^|[^\x5c\x5c])\x5cb','MathJax\x20re-render\x20failed:','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','manual-bp-grade-level','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22answer-space\x22></div>','ผู้ไม่ยอมแพ้','AI\x20request\x20was\x20blocked.\x20Reason:\x20','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','\x22\x20class=\x22pin-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','max','\x20from\x20sync\x20game:','isPasscodeEnabled','div','comparison-modal','<li>','practiceProblems','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','student-quiz-topic','ความแปรปรวน','student-project-leaderboard-tab','add','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','พาราโบลา','สุดยอด!\x20ตอบถูกทุกข้อ','typesetPromise','.answeredCurrentQuestion','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keys','\x20ตัวเลือก.\x20','.project-card-container:not(.opacity-50)','ท็อปฟอร์ม','upperGroupNames','quiz-form','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','temp-loader-results','option','block','ระยะเวลา\x20(นาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','input','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','Original\x20quiz\x20not\x20found','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','.kick-player-btn-sync','</div><div\x20class=\x22space-y-2\x22>','</label></div>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','บันทึกการแก้ไข','ย้าย','drop','true','พื้นที่สามเหลี่ยม','smooth','live-submit-short-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลข้อสอบหลังเรียน','parallel-test-tab','จำนวนเต็มลบ','\x27\x20ในหัวข้อ\x20\x27','passcode-prompt-message','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','(หลังเรียน)\x20','admin-dashboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','คะแนนเฉลี่ย','opacity','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','pop','.question-editor-item','presentation-short-answer-input','Could\x20not\x20fetch\x20reference\x20file:','timer-duration-container','Error\x20joining\x20live\x20game:','เกิดข้อผิดพลาดในการจับคู่','text-gray-700','สรุปผลสุดท้าย','สมการค่าสัมบูรณ์','จำนวนนักเรียน','กราฟฟังก์ชันตรีโกณ','ไม่พบข้อมูลโปรเจค','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ai-fix-formula-btn','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','active','passcode-input-container','document','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','\x20quizzes\x20into\x20global\x20cache.','ข้อ\x20','Unexpected\x20API\x20response\x20structure:','Error\x20updating\x20custom\x20topic:','opacity-50','linkedQuizIds','จากเนื้อหาต่อไปนี้:\x20\x22','bp-modal-quiz-type-select','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','ศูนย์','confirm-game-start-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','projectOrder','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','</body></html>','parseInline','การหาร','summary','height','.delete-shortcut-tab-btn','.edit-hidden-file-shortcut-btn','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกรหัสแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','blueprint-shortcut-container','<button\x20data-quiz-id=\x22','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20processing\x20shortcut\x20click:','questionIndex','map','stem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toggle','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','ฟังก์ชันราก\x20(root)','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','กำลังเตรียมไฟล์...','ยังไม่ส่ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เส้นตรง:\x20ขนาน/ตั้งฉาก','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','การวัด','Authentication\x20failed:','question-analytics-container','clear-all-links-btn','currentTarget','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','thead\x20.sortable-header','confirm-quiz-status-btn','Error\x20saving\x20parallel\x20shortcut:','ลบโปรเจคสำเร็จแล้ว','postTScore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-input-area','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','.game-start-btn','exists','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','game-pin-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineWidth','shuffle','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','.cancel-edit-topic-btn','starred-project','รูปสแควร์รูท\x20(surd)','ความเท่ากันทุกประการของสามเหลี่ยม','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','remove','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปหลายเหลี่ยมและมุมภายใน','disabled','กำลังสร้างเนื้อหา:\x20','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','...','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','force-math-checkbox','export-leaderboard-image-btn','sync-player-management','matching_item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันแบบชิ้นส่วน','delete-svg-btn','.quiz-result-card','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','on_fire','fill_in_the_blank','sort','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','bp-modal-include-images-checkbox','mouseup','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','</a>','จำนวนข้อ:','generate-from-file-btn','result','อัปเดตการตั้งค่าของแบบทดสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</span>','ฟังก์ชันผกผัน','-tab','selected-topics-count','blob','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user-id-display','ai-quiz-app-aefee.firebaseapp.com','modal-adaptive-quiz-checkbox','บันทึกแบบทดสอบสำเร็จแล้ว!','อนุพันธ์:\x20กฎลูกโซ่','svg','ชนิดของข้อมูลและการเก็บข้อมูล','start-live-race-generated-btn','answer-grid-container','standardTopic','textarea[name=\x22question_single\x22]','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','text-green-600','approx','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','เส้นรอบรูป','deg','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','#D1FAE5','quick_thinker','student-name-input','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','cancel-bp-settings-btn','podium','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','ต้นฉบับทั้งหมด','disabled\x20bg-gray-400\x20cursor-not-allowed','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','Attempting\x20to\x20save\x20game\x20results...','incorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.highlighter-color-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ข้อต่อไป','bp-modal-shuffle-setting-select','tooltipTarget','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','text/csv;charset=utf-8;','fas\x20fa-user-edit','สัญกรณ์วิทยาศาสตร์','อยู่ในหัวข้อหลักใด:','API\x20Error\x20Body:','fixed','removeItem','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','ใช่','parallel-shortcut-id-input','correctResponse','isNormalTopic','toString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','promptFeedback','text-gray-500','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','input[type=\x22text\x22]','input[type=\x22checkbox\x22]','correct','rgba(239,\x2068,\x2068,\x200.7)','after','destination-out','จากไฟล์ที่แนบมานี้,\x20','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','delete','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','slide-counter','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','create-from-bank-btn','setTransform','file-default-1','เกิดข้อผิดพลาด:\x20','ต้นฉบับ\x202','/public/data/projects/','ตอบถูก\x203\x20ข้อติดต่อกัน','submittedAt','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','lesson-plan-modal','ไม่ได้ตอบ','ค่าความจริง/ตารางค่าความจริง','สร้างใหม่','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','save-parallel-shortcut-btn','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','ระยะทางและจุดกึ่งกลาง','toLocaleDateString','ค่าเสื่อมราคา','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','bestScore','canvas','#open-additional-parallel-shortcuts-btn','No\x20player\x20data\x20to\x20save.','modal-timer-duration-container','ตรีโกณมิติ','project-passcode-input','ไม่สามารถโหลดข้อมูลอันดับได้','no-projects-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','text-green-600\x20font-bold','<option>กำลังโหลดโปรเจค...</option>','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','-tab-content','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','Error\x20saving\x20quiz:','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','ชื่อโปรเจคห้ามว่าง','</p></div>','parallel-shortcut-modal-title','blockReason','questions_only','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','isFinished','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','อัตราการเปลี่ยนแปลงทันที','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','ความชันและเส้นตรง','สร้างแบบทดสอบ','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','\x5cdiv','Error\x20renaming\x20quiz:','คะแนน','student-quiz-leaderboard-table-body','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','lastAnswerCorrect','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','Error\x20deleting\x20all\x20students:','unshift','bank-input-area','includeImages','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','editor-quiz-topic','เกิดข้อผิดพลาดในการสร้างห้องเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-hidden-shortcut-btn','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','\x20/\x20','back-to-student-home-btn','ชื่อหัวข้อห้ามว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ondragend','พบ\x20Sync\x20Game!','short','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','.delete-hidden-file-shortcut-btn','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','shuffle-setting-select','behavior-log-tab-content','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','Error\x20saving\x20visibility\x20settings:','perfect_score','post-test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','เกิดข้อผิดพลาดในการปักหมุด','</span></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลือกและบันทึก','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.doc','confirm-link-quiz-btn','beforeend','Error\x20updating\x20old\x20quizzes:','\x22><p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20','[*]','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-yellow-800','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','screen','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','globalCompositeOperation','border-gray-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','shortcut-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','team','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','API\x20call\x20failed\x20with\x20status:\x20','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','source_document.pdf','save-quiz-btn','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','รอเปิด','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','jspdf','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','Error\x20generating\x20worksheet:','อสมการเชิงเส้น','responses.','total','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','json','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','th-TH','Remedial\x20quiz\x20generation\x20failed:','restore','scheduled','ส่งแล้ว','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','จำนวนและการดำเนินการ','show_results_only','analytics-tab-btn','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','localeCompare','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','.delete-submission-btn','txt','.edit-hidden-shortcut-btn','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','แก้ไขปุ่มลัด','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','binom','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','เกิดข้อผิดพลาดในการแก้ไข','authed_project_','hover:bg-indigo-100','topic_','retake-quiz-loop-btn','บันทึกการตั้งค่าสำเร็จ',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','qIndex','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','devicePixelRatio','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','offsetWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','ความต่อเนื่อง','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-start-time','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','numPages','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','add-parallel-shortcut-tab-btn','bg-red-200\x20text-red-800','focus','Error\x20linking\x20quizzes:','</p>','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','(ฉบับง่าย)\x20','Failed\x20to\x20kick\x20player\x20','export-compact-pdf-btn','.delete-shortcut-btn','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','<option\x20value=\x22','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','\x20(p=','redo-btn','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','.correct-response-input','#math-topics-checkbox-container\x20input:checked','add-parallel-shortcut-btn','timerMode','pointerdown','.quiz-bank-item','quiz-leaderboard-table-body','memory','Blueprint\x20O-NET\x20ป.6','text','.live-answer-btn','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','scrollX','อยู่ในสาระการเรียนรู้ใด:','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','dashboardConfig','shortcut-name-input','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.live-answer-btn,\x20#live-submit-short-answer-btn','ไม่พบข้อมูลผู้ใช้','bp-modal-passing-score-input','AI\x20Fix\x20Error:','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','\x20จุดเรียบร้อยแล้ว','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด:**\x20เนื้อหาในส่วน\x20POINT\x20และ\x20MEMORY\x20ต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง:**\x20ตัวอย่างประกอบ\x20(blockquote)\x20ต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x20แต่ห้ามคัดลอกโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**ยึดตามปรัชญา\x20O-NET:**\x20เน้นการประยุกต์ใช้,\x20การคิดวิเคราะห์,\x20และการแก้ปัญหาหลายขั้นตอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#ffffff','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','link-topic-input','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','scratchpad-controls','Error\x20creating\x20project:','.tab-name-display','leq','\x5cneq','next-drill-btn','q-text-','close-additional-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','(ไม่มีชื่อ)','Error\x20deleting\x20submission:','parallel-shortcut_','กำลังค้นหากิจกรรม...','https://corsproxy.io/?','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2-digit','decode','Error\x20fetching\x20lesson\x20content:','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','เกิดข้อผิดพลาดในการลบหัวข้อ','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','error','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','</form>','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','msRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','check-answer-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-id-input','STRING','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','file-shortcuts-loading-msg','.project-card-container','Error\x20rendering\x20student\x20progress:','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','onload','922839BPHIrT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','รหัสไม่ถูกต้อง','category','every','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','\x5csqrt{$1}','.admin-try-quiz-list-btn','Error\x20processing\x20file\x20shortcut\x20click:','ON_FIRE','คณิตการเงิน/บูรณาการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','24drVUCA','border-indigo-500\x20text-indigo-600','per-question-text','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insertBefore','admin','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','ดีเทอร์มิแนนต์','<div\x20class=\x22p-2\x20rounded-md\x20','ไม่ผ่าน','closest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','summary_chart','questionId','scores-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','offset','confidenceMode','hint-btn','เซียนสมองไว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalQuestions','attempts','SAFETY','results','presentation-ai-result','.bp-edit-topic-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','subTopic','write','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-game','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','class','tabId','.mb-6.p-4','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blur','student-initial-view','parallelShortcutTabs','bp-project-title','visibilitychange','ไม่พบแบบทดสอบในระบบเลย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','modal-timer-duration-label','การบวกเศษส่วน','1366446fsBDUq','rgba(59,\x20130,\x20246,\x200.7)','.parallel-shortcut-tab-btn','pinned-items','upper_group_count','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','.status','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','\x22...','\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','topics','เปิด\x20(จับเวลา)','some','กำลังโหลดคลังข้อสอบทั้งหมด...','execCommand','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','description','.presentation-option','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','confirm-bulk-quiz-settings-btn','.draggable-text','commit','.delete-parallel-shortcut-tab-btn','scratchpad-close-btn','innerText','Error\x20starting\x20team\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',')\x22>','pen-tool-btn','input[name=\x22team_player\x22]:checked','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','.application-options\x20button','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','flex\x20flex-col\x20gap-2','เพิ่ม\x20','scratchpad-options','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','getDocument','onkeydown','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','ผิด','.pen-color-btn','pin','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.move-quiz-btn','กิจกรรมสิ้นสุดลงแล้ว','Error\x20moving\x20quiz:','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','quiz-generation-area','answers','enable-passcode-checkbox','text-red-300\x20hover:text-red-100','activeGameSession','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','<div\x20class=\x22my-2\x22>','badges','แก้ไขสูตรคณิตศาสตร์\x20','file-topic-input','neq','.bp-generate-lesson-btn','tab_','หมดเวลาสำหรับข้อนี้!','student-quiz-area','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','blueprint-settings-modal','ข้อที่\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','suggestedAnswer','.scratchpad-content-wrapper','กำลังดึงข้อมูลจากลิงก์...','<p><strong>คำตอบที่แนะนำ:</strong>\x20','ความน่าจะเป็นแบบมีเงื่อนไข','application','copy','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','cancel-quiz-status-btn','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','scale','tGain','ส่งคำตอบ','manage-tab-content','/studentProfiles','topic-quiz-bank-modal','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','\x20จุด','padStart',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','bg-black/10','show-in-student-dashboard-checkbox','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','bottom','.question-editor-item[data-q-index=\x22','createObjectURL','parallel-shortcut-container','<div><input\x20type=\x22radio\x22\x20id=\x22q','behavior-log-tab-btn','show-results-btn','input[name=\x22drill_answer\x22]:checked','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','confirm-confident','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','Error\x20saving\x20questions\x20to\x20practice\x20bank:','NEGATIVE_INFINITY','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','live-player-management','text-emerald-800','export-lesson-pdf-btn','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','shortcutIds','change','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','rgba(79,\x2070,\x20229,\x200.8)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','interesting-stats-wrapper','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','close-comparison-modal-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20during\x20deep\x20delete:','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','visible','highlighter-size-slider','results_','\x20ชุด)','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','\x5cpm','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','backgroundColor','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','\x20รายการ...','แบบทดสอบนี้หมดเวลาแล้ว','แท็บใหม่','.bp-create-content-quiz-btn','.generate-content-btn','timer-mode-select','fas\x20fa-star\x20text-yellow-500','ทฤษฎีบทพื้นฐานของแคลคูลัส','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','.delete-file-shortcut-tab-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','อสมการค่าสัมบูรณ์','files','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่ใต้กราฟ/ระหว่างกราฟ','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','confirm-delete-btn','exitFullscreen','pre-test','geq','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','lastIndexOf','Error\x20confirming\x20players\x20for\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','export-leaderboard-excel-btn','math-topics-checkbox-container','/public/data/syncGames','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวประกอบและตัวประกอบเฉพาะ','file-topics-list','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22','deselect-all-topics-btn','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','mousedown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','message-modal','message','nextElementSibling','.ai-content\x20li','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','mandatory','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','getPage','bp-reference-file-url','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','เวกเตอร์และเมทริกซ์\x20(เสริม)','.generate-lesson-btn','substr','\x20|\x20','sync-submit-btn','desc','.confidence-choice-btn','pointermove','createElement','touchcancel','sum','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','แก้ไขข้อนี้','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','parse','Team\x20Quiz','Error\x20starting\x20game:','num-choices','isStarred','leaderboard','answeredCurrentQuestion','.live-summary-tooltip.visible','className','parallel-default-','drill-feedback','additional-file-shortcuts-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','projectId','\x22\x20class=\x22delete-project-btn\x20','moveTo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไฮเพอร์โบลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ref','บันทึกการตั้งค่าการแสดงผลสำเร็จ','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','key','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','ร้อยละประยุกต์','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','shortcuts','style','%</span>','export-pdf-btn','.view-bp-lesson-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','bg-green-100\x20text-green-800','ยอดเยี่ยม!','artifacts/','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20ก่อนสร้างเนื้อหาใดๆ\x20ให้อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','Failed\x20to\x20generate\x20lesson:','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perQuestionStats','text-yellow-300','pointContent','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','<i\x20class=\x22fas\x20fa-save\x22></i>','close','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','สาระที่\x201','end-game-btn','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','save-settings-btn','.edit-hidden-parallel-shortcut-btn','การแจกแจงทวินาม\x20(พื้นฐาน)','timestamp','3808889JXnvcm','fileShortcutOrder','Blueprint\x201','fixedData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-game-btn','กำลังอัปเดตแบบทดสอบ\x20','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','autoTable','points','bg-red-100','rgba(239,\x2068,\x2068,\x200.9)','ดูผลสรุปสุดท้าย','blueprint-project-manager-view','bulk-confidence-scoring-checkbox','.verification-result','confirm-rename-quiz-btn','reduce','parallel-test-upload-input','กลุ่มของคุณ','Failed\x20to\x20create/update\x20submission\x20record:','game-start-quiz-id','gamePin','.topic-category','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','generated-quiz-actions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics-tab-content','</h3>','worksheet-tab','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','project-quizzes-list','text-gray-300\x20hover:text-white','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','การกระจายและการจัดหมู่','ผ่าน','passing-score-input','Error\x20processing\x20file\x20for\x20AI:','open-blueprint-projects-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','correctAnswerIndex','deltaY','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x0a\x20\x20\x20\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**โครงสร้าง,\x20จำนวนข้อ,\x20และรูปแบบของตอน**\x20ทั้งหมดที่คุณสร้าง\x20**ต้อง**\x20อิงตามเอกสาร\x20Test\x20Blueprint\x20**เท่านั้น**\x20และ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20การไม่ปฏิบัติตามโครงสร้างนี้ถือเป็น\x20**ความล้มเหลวของภารกิจทั้งหมด**\x20โดยไม่มีข้อยกเว้น\x0a\x20\x20\x20\x20*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20ไฟล์นี้มีไว้เพื่อเป็น\x20**แนวทางด้านสไตล์และความยาก**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**คำสั่งเด็ดขาด:\x20ห้าม\x20(DO\x20NOT)**\x20นำ\x20**จำนวนข้อ**,\x20**โครงสร้างตอน**,\x20หรือ\x20**ลำดับข้อ**\x20จากไฟล์อ้างอิงมาใช้เด็ดขาด\x20ข้อมูลเหล่านี้ต้องมาจาก\x20Test\x20Blueprint\x20เท่านั้น\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','จำนวนเชิงซ้อน\x20(เสริม)','.quiz-bank-delete-btn','pre-test-checkbox','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','#open-additional-file-shortcuts-btn','.delete-bp-project-btn','requestFullscreen','คัดลอกแบบทดสอบสำเร็จ','blueprint-topics-list','การนับ','\x22\x20name=\x22question_single\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','difficultyValue','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','Error\x20joining\x20team\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','default-','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','หัวข้อที่สร้างเอง','สำหรับหัวข้อ\x20\x27','helvetica','Error\x20starting\x20sync\x20game:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getElementById','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','start-sync-game-btn','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-student-btn','close-lesson-plan-modal-footer-btn','teachingContent','values','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','baseVal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','พื้นที่สี่เหลี่ยม','multiple_choice','export-leaderboard-word-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard_','latestSubmittedAt','stopPropagation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','passcode','/public/data/liveGames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','[data-topic-container-id]','text-red-700','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','.answered','project-detail','[data-field=\x22subTopic\x22]','ไม่พบโปรเจค','การปัดเศษและประมาณค่า','btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','<h1></h1>','Error\x20fetching\x20projects\x20for\x20move:','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','reference.pdf','quiz-search-input','checkAnswer','icon','generate-worksheet-btn','mainTopics','Error\x20saving\x20file\x20shortcut:','size','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','progress-project-select','include-images-checkbox','next-question-timed-btn','ฟังก์ชันพหุนาม','</h4>','ถูกต้อง!','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','back-to-project-btn','lobby','behavior-log-container','players.','เกิดข้อผิดพลาดในการสร้างใบงาน','per-question-options','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','.shortcut-list-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','bg-green-500','สมการลอการิทึม','คณิตศาสตร์','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','lesson-plan-title','touchend',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','toLocaleString','createdBy','loopUntilPass','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','ลำดับเลขคณิต\x20(AP)','global-activity-modal','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<textarea\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','admin-view','.file-topic-selection-btn','/public/data/quizzes/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','เริ่มกิจกรรม:\x20','generate-from-blueprint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reveal-answer-btn','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','num-questions','.start-presentation-list-btn','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','<p\x20class=\x22text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','ความสัมพันธ์ของมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-results','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.tab-name-input','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่สามารถสร้างโปรเจคได้','\x20คนที่ส่ง\x20ตอบถูก\x20(','save','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','end-sync-game-btn','num-choices-container','ค่าคลาดเคลื่อนของการวัด','results-table-container','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถประมวลผลข้อมูลได้','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','font-bold\x20text-green-700','now','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','numQuestions','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','goto-next-question-btn','แก้ไขหัวข้อสำเร็จ','text-content-input','fullscreenchange','bg-green-200\x20text-green-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','export-worksheet-pdf-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สมการยกกำลัง','inactive','.bp-view-analysis-btn','parallel-default-1','กฎของโคไซน์','text-input-area','กำลังสร้างคำถามข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','#retake-for-improvement-btn','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','bulk-quiz-settings-modal','not-found','toFixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_blank','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','ดีมาก','question','questions','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','.sort-indicator','topic','การแจกแจงปกติและ\x20z-score','group','endTime','<p><strong>คำตอบของคุณ:</strong>\x20','msExitFullscreen','Error\x20loading\x20blueprint\x20projects:','</span></td>','lowerGroupNames','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onloadend','หมดเวลา!\x20กำลังส่งคำตอบ...','\x22\x20value=\x22','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','คุณแน่ใจว่าต้องการลบแท็บนี้?','fill_in_with_choices','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','รูปสี่เหลี่ยมและสมบัติ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','application/json','submission-status-chart','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','appendChild','การลบ','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','.bp-open-topic-bank-btn','\x20ข้อ\x20','เพิ่มหัวข้อ\x20\x22','.move-file-shortcut-item','resultsDisplay','project-id-display','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','.ai-content\x20h3','ลบหัวข้อสำเร็จ','results-table','next-sync-question-btn','getBoundingClientRect','touchmove','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','length','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','add-from-global-bank-btn','text-blue-700\x20bg-blue-100','input[type=\x22checkbox\x22]:checked','ย้ายแบบทดสอบไปโปรเจคอื่น','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','bg-blue-500\x20hover:bg-blue-600\x20text-white','projectSort','cos','กราฟแท่ง\x20กราฟเส้น','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','\x20(ID:\x20','Error\x20verifying\x20answers\x20in\x20editor:','ai-quiz-app-aefee','clientY','bg-yellow-50','confidence-input-','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','text-gray-400\x20hover:text-indigo-600','ค.ร.น.\x20(LCM)','default-2','parallelShortcutOrder','รายการนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีผู้ตอบตัวเลือกนี้','results-display-select','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','แบบทดสอบฝึกฝนเรื่อง:\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','questionText','subTopics','เลือกโปรเจคเพื่อบันทึก','team-student-list','confirm-quiz-settings-btn','คำถามถัดไป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','reset-project-order-btn','.delete-quiz-btn','เกมสิ้นสุดลงแล้ว','ลิมิต','quiz-results-table-body','Error\x20duplicating\x20quiz:','API\x20Error\x20Response:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-content','summaryContent','gain','student-progress','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','input[type=\x22radio\x22][value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','Error\x20saving\x20shortcut\x20config:','ระบบสมการเชิงเส้นสองตัวแปร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','generate-from-link-btn','presentation-scratchpad-btn','modal-confidence-mode-container','rename-quiz-modal','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','ผู้ควบคุม\x20(ทดสอบ)','responses','_opt0\x22>ใช่</label></div>','bulk-confidence-mode-select','.submittedAt','addEventListener','แบบเติมคำตอบ','textarea','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','manual-blueprint-modal','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','instructions','\x22\x20data-q-type=\x22','.pen-size-btn','lower_group_count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','bg-green-50','responseSchema','แผนการสอน:\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-indigo-700','เปลี่ยนชื่อโปรเจคสำเร็จ','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20regenerating\x20question\x20in\x20editor:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallelTestShortcutsConfig','random','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','\x20pointer-events-none\x22>','pointsLastQuestion','http://www.w3.org/2000/svg','Error\x20calling\x20Gemini\x20API:','.move-shortcut-dropdown','timer-bar','.export-pdf-list-btn','sync','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','\x20ตอบ','อัปเดตแบบทดสอบเก่า\x20','results-tab-content','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<button\x20data-id=\x22','back-to-student-initial-btn','การประยุกต์เวกเตอร์พื้นฐาน','removeChild','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','เส้นจำนวน','questionType','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','ตารางความถี่','submission','generate-from-text-btn','candidates','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','stdDev','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','insertAdjacentHTML','worksheet-topic-input','parentElement','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','.lastAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','strength-weakness-analysis-container','.delete-hidden-parallel-shortcut-btn','copy-quiz-id-btn','.topic-actions-view','/preferences/main','การสร้างรูปด้วยวงเวียน–สันตรง','-options\x22>','<div\x20class=\x22mb-3\x20topic-category\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.png','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','projectView','px)\x20scale(','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-500\x20hover:bg-green-600\x20text-white','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','การแยกตัวประกอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','แคลคูลัสเบื้องต้น','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ฟังก์ชันกำลังสองและกราฟ','dataset','กำลังอ่านไฟล์อ้างอิง...','link-url-input','type','เกิดข้อผิดพลาดในการลบผลสอบ','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','.edit-question-btn','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','สู้ๆ\x20ลองอีกครั้งนะ','table','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','open','name_asc','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','/public/data/customMathTopics','กรุณาเลือกชื่อของคุณ','student-progress-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','ไม่พบข้อมูลเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','url','confirm-manual-bp-btn','topics.','shortcutTabs','.topic-name-display','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','ลำดับการดำเนินการ\x20(PEMDAS)','\x20สำเร็จ','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','print','querySelector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','<i\x20class=\x22fas\x20fa-pen\x22></i>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','cancel-blueprint-projects-btn','input[type=\x22radio\x22]:checked','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','shortcut-id-input','.csv','274192258111','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','closePath','\x5ccdot','progress-student-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','entries','/public/data/practiceBank','label','starred','blueprintUrl','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','การแปลงรูปอัตลักษณ์','previousElementSibling','แบบทดสอบซ่อมเสริม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','8qsbPhw','empty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','sync-matching-select','Error\x20toggling\x20star\x20status:','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','cancel-quiz-edits-btn-footer','.delete-svg-btn','editable-text-','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','5fTpfun','.ai-content\x20p','save-game-results-checkbox','back-to-home-manual-release','Error\x20saving\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','isLooping','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การหารทศนิยม','loader-text','generated-quiz-container','</span><span\x20class=\x22font-bold\x22>','$$$1$','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x20คะแนน\x20','student-progress-view','leaderboard-tab','\x20</div>\x0a\x20\x20\x20\x20','student-name-select','\x22\x20ให้เป็นคำถามประเภท\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','save-file-shortcut-btn','comparison-overall-tab','half_mark_status','</tbody></table>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineCap','parallel-shortcut-url-input','#results-table','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','quiz-results-view','push','warn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','save-blueprint-as-project-btn','ผลรวมอนุกรม\x20(Σ)','student','</div></div></div>','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','manual_release','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','ไม่ระบุ','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','COMEBACK_KING','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','center','</tr>','.use-hidden-shortcut-btn','answered','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เกิดข้อผิดพลาดในการติดดาว','numeric','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','worksheet-input-area','</option>','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','/questionBank','สร้างแบบทดสอบปรนัย','ถูก','destroy','mouse','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','กำลังอ่านไฟล์\x20Test\x20Blueprint...','การคูณเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','rgba(16,\x20185,\x20129,\x200.7)','dispatchEvent','.bp-create-topic-quiz-btn','</li>','Error\x20generating\x20parallel\x20post-test:','afterend','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','confident','\x20ข้อ...','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getBBox','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','Error\x20saving\x20shortcut:','.start-live-race-btn','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','preTScore','Error\x20loading\x20user\x20preferences:','trail','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','<p>','กรุณาใส่ชื่อโปรเจค','Error\x20updating\x20quiz\x20status:',',\x20r=','/public/data/blueprintProjects/','perseverance','fa-pen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','getTextContent','quiz-status-modal','file-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอยากมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','true_false','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','cdot','#student-project-leaderboard-content\x20thead','temp-loader-text-results','lastAnswerIndex','touch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','default','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','นำแบบทดสอบออกจากคลังนี้แล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','forEach','modal-results-display-select','\x22\x20class=\x22color-palette-btn\x20','แบบปรนัย\x204\x20ตัวเลือก','add-file-shortcut-btn','confirm-passcode-btn','tool','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','quizId','สร้างคำถามแบบเติมคำในช่องว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','quiz-settings-modal','red','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','blueprint.pdf','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','circle','additional-shortcuts-modal','บันทึกผลการเล่นเกมของ\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','scrollY','อัตราและอัตราหน่วย','_opt','lesson-view-modal','answer','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','mode','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','บันทึกคำถามใหม่\x20','กรุณาเลือกคำตอบก่อนครับ','</select>','แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ทศนิยม\x20(ค่าประจำหลัก)','blueprint-upload-input','ดอทโปรดักต์\x20(dot)','close-additional-file-shortcuts-btn','MathJax','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','10wMwlAX','\x20\x20\x20-\x20คำตอบ:\x20','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','ใช่\x20/\x20ถูก','</td></tr>','\x20คะแนน</span></div>','ไม่มี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','.shortcut-list-item:not(.opacity-50)','ไฟล์ลัด\x202','export-lesson-to-pdf-btn','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','manual-bp-content','projectSortOrder','bg-red-50','file-shortcut-tabs-nav','file-topics-list-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','generationConfig','จับคู่แบบทดสอบสำเร็จ!','originalQuestionText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-project-select','Error\x20in\x20generating\x20from\x20files:','</div></div>',';\x22\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','behaviorLog','ฮิสโตแกรม','ระยะจากจุดถึงเส้นตรง','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','getItem','.quiz-bank-present-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','onchange','สำหรับโปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','ฟังก์ชันลอการิทึม','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','หน่วยเวลาและการคำนวณเวลา','องค์ประกอบของฟังก์ชัน','wakeLock','_opt1\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','analyze-strengths-btn','เกี่ยวกับหัวข้อ\x20\x22','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','พบ\x20Team\x20Quiz!','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','All\x20groups\x20have\x20finished.\x20Ending\x20game.','element','เงินงวด\x20(อนุกรมเงินงวด)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','MathJax\x20typeset\x20error\x20(analytics):','leaderboard-quiz-tab-content','includes','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submit-team-answer-btn','team-player-status-grid','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','ตั้งเวลา\x20(เปิด)','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','รอ...','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','startTime','classList','isPinned','back-to-dashboard-from-results-btn','พีชคณิตและฟังก์ชัน','#F3E8FF','learningGaps','</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','player-list-lobby','.space-y-1.pl-4','text-emerald-900','live-player-list','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','dragend','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','pointer-events-none','เกิดข้อผิดพลาดในการบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22,\x20','Error\x20saving\x20parallel\x20shortcut\x20config:','.ai-fix-question-btn','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','confirm-admin-login-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20comparing\x20results:','source_document.txt','text-gray-200','back-from-results-btn','catch','text-indigo-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','export-pdf-modal','.compare-results-btn','<li\x20class=\x22','Error\x20updating\x20quiz\x20settings:','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','prod','join','ยกเลิกการเชื่อมโยงสำเร็จ','ตรวจพบการออกจากหน้าจอครบ\x20','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','matching','save-project-name-btn','keydown','\x20ตัวเลือก)','.isScored','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','/public/data/teamQuizzes','ตัวแปรและนิพจน์','timerDuration','fullscreenElement','shortcut-reference-url-input','shortcut-tabs-nav','การลบเศษส่วน','สรุปผลการวิเคราะห์:\x5cn','webkitRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','Error\x20loading\x20quiz\x20for\x20student:','showImproveButton','.move-file-shortcut-dropdown','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.subTopic','from','project-detail-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','เกิดข้อผิดพลาดในการลบโปรเจค','teacherSuggestions','.\x20แต่ละข้อมี\x20','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','answerText','Error\x20generating\x20hybrid\x20quiz:','cancel-quiz-bank-btn','toLowerCase','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-settings-btn','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','presentation-modal','undo-btn','bg-gray-50','Error\x20generating\x20from\x20parallel\x20test\x20file:','game-start-modal-title','modal-passing-score-input','hint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','totalPoints','show_pass_fail_only','<div\x20class=\x22my-6\x22>','startsWith','confirm-not-confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','min','student-passcode-input','trim','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','quiz-editor-questions-container','Error\x20clearing\x20all\x20links:','value','Error\x20listening\x20for\x20custom\x20math\x20topics:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','อุณหภูมิและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','Error\x20deleting\x20shortcut:','.group\x5c/dropdown','Error\x20resetting\x20project\x20order:','default-1','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','options','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','การหารเศษส่วน','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','เส้นตรง:\x20รูปแบบสมการ','bp-quiz-settings-btn','ค่าเฉลี่ย','leaderboard-quiz','.duplicate-quiz-btn','test','(คู่ขนาน)\x20','admin-testing','per_question','isConfidenceScoringEnabled','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','pow','ownerSVGElement','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','point','quizType','text-red-500\x20hover:text-red-700','querySelectorAll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','\x22\x20data-name=\x22','p-2\x20bg-black/10\x20rounded-md','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','.bp-try-btn','checked','.use-hidden-file-shortcut-btn','start-presentation-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','NUMBER','.linkedQuizIds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างรูปภาพ...','visibilityState','badgesCount','fromCharCode','whole_quiz','ไม่พบแบบทดสอบ','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','showInStudentDashboard','flex','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','file-shortcut-container','อนุพันธ์:\x20ผลคูณ/ผลหาร','.quiz-bank-move-btn','specialist','splice','join-live-game-btn','back-to-dashboard-btn','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','bank-quiz-search-input','.linkedQuizId','Error\x20starting\x20live\x20race:','(คัดลอก)\x20','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','highlighter','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20to\x20blueprint\x20topic\x20','วงรี','(เลือกแล้ว\x20','live-race','set','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','bp-modal-difficulty-level-select','\x22><i\x20class=\x22fas\x20','cancel-move-quiz-btn','setAttributeNS','bg-red-500','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','blueprint-project-list','explanation','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','workerSrc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','confirmation-modal','applicationContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','original-mode-checkbox','lesson-plan-content','bg-gray-200\x20text-gray-700','shortcutId','ไม่พบข้อมูลแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','title','analytics','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','innerHTML','#E5E7EB','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','.score','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','Error\x20editing\x20topic:','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','game-start-mode','viewBox','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x20คู่\x20','sync-short-answer-input','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','finished','ไม่มีคำอธิบาย','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scheduled_pending','leaderboard-table-body','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','ค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','หน่วยมวล/น้ำหนักและการแปลง','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20(สำหรับ\x20','date_asc','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','trail-tool-btn','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','solution','project-sort-select','getAttributeNS','70338wfpaGB','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20unpairing\x20quizzes:','#open-additional-shortcuts-btn','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','.open-bp-project-btn','medium','บทเรียนเรื่อง:\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parent','floor','สมการเชิงเส้นตัวแปรเดียว','\x20กลุ่ม</p></div>','parallel-test-input-area','เกิดข้อผิดพลาดในการบันทึกโปรเจค','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อนักเรียน','<div\x20id=\x22q-image-container-','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','color','input[name=\x22question_single\x22]:checked','.lastAnswerCorrect','bg-green-200','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','live-short-answer-input','first_try_ace','touches','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','\x20จาก\x20','.edit-file-shortcut-btn','per-question-timer-container','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','additional-file-shortcuts-list','grid','เกิดข้อผิดพลาดในการอัปเดต:\x20','clearRect','start-quiz-btn','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','commonMistakes','bp-modal-num-choices','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','bg-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isCorrect','หลังเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mixed','การยืนยันตัวตนล้มเหลว','student-team-join','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-blue-100','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ทฤษฎีบทพีทาโกรัสและการประยุกต์','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','กำลังอ่านและเตรียมไฟล์...','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','then','#confidence-input-','<svg','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','finishReason','project-title','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','#results-table\x20thead\x20tr','thead','toISOString','Failed\x20to\x20end\x20group\x20mode\x20game:','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','additional-parallel-shortcuts-modal','\x22>ไม่ใช่</p>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','classStrengths','\x22\x5cn','<br>','close-additional-parallel-shortcuts-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','generated','/public/data/blueprintProjects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','ยังไม่สร้าง','confirm-create-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','short_answer','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','บทเรียน','แบบทดสอบนี้ปิดใช้งานอยู่','none','currentQuestionIndex','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','```json','หน่วยความยาวและการแปลง','\x20ชุด)</span>','request','/lessons','file-tab','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','replace','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','playerName','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','timer-duration-label','referenceFileUrl','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','POST','ondblclick','getScreenCTM','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','cancel-admin-login-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','quiz','สอบปกติ','mean','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เรขาคณิตวิเคราะห์','#file-shortcut-tabs-nav\x20.tab-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.sortable-header','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','API\x20call\x20failed','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','รีเซ็ตลำดับโปรเจคแล้ว','undefined','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','.pin-project-btn','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>','comeback_king','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','webkitExitFullscreen','confirm-team-players-btn','บันทึกโปรเจค\x20\x22','ไม่สามารถโหลดคลังข้อสอบได้','left','stringify','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','.file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','showRankings','find','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','scores-tab-btn','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','bg-green-200\x20text-green-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','พื้นที่วงกลม/ส่วนของวงกลม','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','separate-by-content-from-file-checkbox',':</span><span>','-\x20ข้อ\x20','กรุณาเลือกโปรเจคก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','สลับไปโหมดนักเรียน','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปริมาตรรูปทรงสามมิติ','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','fa-dumbbell\x20text-gray-700','file.pdf','ondrop','release','.delete-project-btn','student-quiz-leaderboard-content','passingScore','rename-quiz-input','project-dashboard-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','add-shortcut-tab-btn','Error\x20joining\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','เกิดข้อผิดพลาด','checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','isRemedial','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x20mx-1\x20text-lg\x22></i></span>','คำถามดิบ:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dblclick','view-my-progress-btn','Test\x20Blueprint','globalAlpha','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','.save-custom-topic-btn','shortcuts-loading-msg','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','QUICK_THINKER','รูปแบบการให้เหตุผล','Error\x20fetching\x20project\x20quizzes:','<div>','function','การเรียงสับเปลี่ยน\x20(Permutation)','.edit-custom-topic-btn','overallGroups','</p><p><strong>เฉลย:</strong>\x20','dfrac','topic-input','1456632Fzpfpf','file-shortcut-url-input','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x22>จาก:\x20','#e21b3c','editable-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','delete-all-students-btn','results-quiz-title','check-presentation-answer-btn','save-quiz-edits-btn','readAsDataURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','fa-fire\x20text-orange-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','topic-bank-subtopic-name','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','select','players','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x20รายการสำเร็จ!','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','name','สเกลและแผนที่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perfect_score_status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','confidence-scoring-toggle','dataIndex','.bp-present-btn','modal-close-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเอกสารการส่งงานของ\x20','abs','difficulty-level-select','bulk-quiz-settings-btn','prev-question-btn','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','global-quiz-count','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','text/plain','%PDF','เพิ่มปุ่มลัดใหม่','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','textContent','.bp-create-onet-quiz-btn','บันทึกการตั้งค่าแล้ว','scrollIntoView','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','Error\x20showing\x20quiz\x20detail\x20view:','เรขาคณิต','สมการเหตุผล\x20(rational)','กำลังสร้างแบบทดสอบ\x20\x22','display','screen_exit','Error\x20pairing\x20quizzes:','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','close-comparison-modal-footer-btn','referenceUrl','Error\x20deleting\x20custom\x20topic:','not_generated','transition-all','generate-from-topic-btn','#FFFFFF','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','cancel-file-shortcut-edit-btn','currentMode','<tr\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','สร้างโปรเจคสำเร็จ!','string','modal-shuffle-select','FIRST_TRY_ACE','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x5cle','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','right','.file-shortcut-tab-btn','selectedTopicNames','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','อินเวอร์สของเมทริกซ์','กฎบวกและกฎคูณ','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','.topic-row','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','PERFECT_SCORE','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','cancel-parallel-shortcut-edit-btn','27411472','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','wasConfident','Error\x20adding\x20custom\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','.quiz-bank-settings-btn','asc','export-excel-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','border-green-300\x20bg-green-50','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','<p\x20class=\x22font-bold\x20text-sm\x20','Error\x20saving\x20submission:','cursor','href','เกิดข้อผิดพลาดในการบันทึกลำดับ','lineJoin','answer-counter','onerror','หัวข้อหลักใหม่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','scores','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','ไม่พบข้อมูลการจับคู่','qType','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','.topic-name-input','status','แก้ระบบสมการด้วยเมทริกซ์','cloneNode','clientX','$1\x20\x5cfrac','transform','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','readAsArrayBuffer','submissions','\x22\x20name=\x22team_answer\x22\x20value=\x22','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','การคูณทศนิยม','dragover','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','settings','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','strokeStyle','additional-shortcuts-list','globalSettings','indexOf','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','handleGeneratePracticeTest','shouldSaveResults','resize','สมการตรีโกณมิติ','setAttribute','removeEventListener','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','sara','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','questionStatus','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','modal-timer-mode-select','ความเป็นอิสระของเหตุการณ์','projectName','Loaded\x20','topic-bank-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','show_results_and_answers','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','project-name-input','open-sync-scratchpad-btn','modal-timer-duration-input','next-question-btn','เกิดข้อผิดพลาดในการเข้าร่วมเกม','จำนวนเต็มบวก','.move-parallel-shortcut-dropdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','body','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','.star-quiz-btn','/users/','parallel-shortcut-editor-modal','times','bar','2809576kvxdQt','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','q-explanation-','เลือกและเริ่มสร้าง','<p\x20class=\x22','cancel-global-activity-btn','.quiz-settings-btn','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','position','N/A','fileShortcutsConfig','PERSEVERANCE','back-to-dashboard-from-bp-btn','การบวก','practice-topic-btn','.txt','manual-bp-project-name','<span\x20class=\x22font-bold\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','Re-grade\x20process\x20failed:','cancel-create-project-btn','Error\x20starting\x20group\x20quiz:','save-bp-settings-btn','สร้างคำถามแบบใช่/ไม่ใช่','auto-fix-latex-btn','download','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','documentElement','เกิดข้อผิดพลาดในการนำผู้เล่นออก','onclick'];_0x3cb7=function(){return _0xbd599a;};return _0x3cb7();}function handleSaveBlueprintPageSettings(){const _0x5ce74b=_0x594c14;blueprintPageSettings={'quizType':document['getElementById'](_0x5ce74b(0x32e))[_0x5ce74b(0x9a1)],'difficultyValue':document[_0x5ce74b(0x68c)]('bp-modal-difficulty-level-select')[_0x5ce74b(0x9a1)],'complexityValue':document[_0x5ce74b(0x68c)]('bp-modal-question-complexity-select')[_0x5ce74b(0x9a1)],'numQuestions':document['getElementById'](_0x5ce74b(0x2a0))['value'],'passingScore':document[_0x5ce74b(0x68c)](_0x5ce74b(0x4c3))['value'],'numChoices':document[_0x5ce74b(0x68c)](_0x5ce74b(0xa5c))[_0x5ce74b(0x9a1)],'shuffle':document['getElementById'](_0x5ce74b(0x3c1))['value'],'includeImages':document[_0x5ce74b(0x68c)](_0x5ce74b(0x389))[_0x5ce74b(0x9cb)]},showMessage(_0x5ce74b(0xc23)),document[_0x5ce74b(0x68c)](_0x5ce74b(0x585))[_0x5ce74b(0x936)][_0x5ce74b(0x2de)](_0x5ce74b(0x1dc));}function listenForParallelTestShortcuts(){const _0x571305=_0x594c14,_0xdf8fdc=doc(db,_0x571305(0xbb0),_0x571305(0x7b7));onSnapshot(_0xdf8fdc,_0x5a634f=>{const _0x2d9ac2=_0x571305;let _0x5a32f3=[],_0x44b5b7=[],_0x1bdfcd={};if(_0x5a634f['exists']()){const _0x55af71=_0x5a634f[_0x2d9ac2(0x21d)]();_0x5a32f3=_0x55af71[_0x2d9ac2(0x629)]||[],_0x44b5b7=_0x55af71[_0x2d9ac2(0x534)]||[],_0x1bdfcd=_0x55af71[_0x2d9ac2(0x76e)]||{};}!_0x44b5b7[_0x2d9ac2(0xad3)](_0x54ef89=>_0x54ef89['id']==='all')&&_0x44b5b7['unshift']({'id':_0x2d9ac2(0xd2b),'name':_0x2d9ac2(0x3b7),'isDefault':!![]}),!_0x5a32f3[_0x2d9ac2(0xad3)](_0x2505ed=>_0x2505ed['id']==='parallel-default-1')&&_0x5a32f3['unshift']({'id':_0x2d9ac2(0x717),'name':'ต้นฉบับ\x201','url':'','isDefault':!![]}),!_0x5a32f3[_0x2d9ac2(0xad3)](_0x3b1452=>_0x3b1452['id']==='parallel-default-2')&&_0x5a32f3[_0x2d9ac2(0x427)]({'id':'parallel-default-2','name':_0x2d9ac2(0x3eb),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x5a32f3,parallelShortcutTabs=_0x44b5b7,parallelShortcutOrder=_0x1bdfcd,renderParallelTestShortcuts(),!document['getElementById'](_0x2d9ac2(0xa86))['classList']['contains'](_0x2d9ac2(0x1dc))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x4e8b4d=_0x594c14,_0x52c0d5=doc(db,_0x4e8b4d(0xbb0),_0x4e8b4d(0x7b7));try{await setDoc(_0x52c0d5,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x7645e4){console[_0x4e8b4d(0x4e5)](_0x4e8b4d(0x94d),_0x7645e4);}}function renderAdditionalParallelShortcutsModal(){const _0x2b0227=_0x594c14,_0x2edad5=document[_0x2b0227(0x68c)](_0x2b0227(0xc7a)),_0x226084=document[_0x2b0227(0x68c)](_0x2b0227(0x286));if(!_0x2edad5||!_0x226084)return;_0x2edad5[_0x2b0227(0xa0c)]=parallelShortcutTabs[_0x2b0227(0x345)](_0x29592=>{const _0x495f2a=_0x2b0227,_0x2f2bb2=_0x29592['id']===activeParallelShortcutTabId;return _0x495f2a(0xb2a)+_0x29592['id']+'\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x2f2bb2?_0x495f2a(0x506):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x29592[_0x495f2a(0xb31)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x29592[_0x495f2a(0xb31)]+_0x495f2a(0x1f7)+(!_0x29592[_0x495f2a(0xc28)]?_0x495f2a(0xcaf)+_0x29592['id']+_0x495f2a(0xc71):'')+_0x495f2a(0xc65);})[_0x2b0227(0x95f)]('');const _0x3cd39d=parallelShortcutTabs[_0x2b0227(0xad3)](_0x43b030=>_0x43b030['id']===activeParallelShortcutTabId);let _0x2570c2=_0x3cd39d?.[_0x2b0227(0xc28)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x2b0227(0x298)](_0x40ce13=>(_0x3cd39d?.[_0x2b0227(0x5b3)]||[])[_0x2b0227(0x92b)](_0x40ce13['id']));const _0x5b9173=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x2570c2[_0x2b0227(0x387)]((_0x52fda8,_0x56b9c0)=>{const _0x2e9b76=_0x2b0227,_0x4195df=_0x5b9173[_0x2e9b76(0xbb1)](_0x52fda8['id']),_0x52931a=_0x5b9173['indexOf'](_0x56b9c0['id']);return(_0x4195df===-0x1?Infinity:_0x4195df)-(_0x52931a===-0x1?Infinity:_0x52931a);}),_0x226084['innerHTML']=_0x2570c2[_0x2b0227(0x345)](_0x3cd7e8=>{const _0xf4d1dc=_0x2b0227,_0x540e9d=_0x3cd7e8[_0xf4d1dc(0x80d)]?'🔁':'🔗',_0x5663fe=parallelShortcutTabs['filter'](_0x34fa51=>!_0x34fa51['isDefault']),_0x422be3=_0x3cd39d[_0xf4d1dc(0xc28)]&&_0x5663fe[_0xf4d1dc(0x757)]>0x0?_0xf4d1dc(0xc0b)+_0x5663fe['map'](_0x5ae7ae=>'<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x3cd7e8['id']+_0xf4d1dc(0xc64)+_0x5ae7ae['id']+'\x22>'+_0x5ae7ae[_0xf4d1dc(0xb31)]+_0xf4d1dc(0x38c))[_0xf4d1dc(0x95f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0xf4d1dc(0xb9a)+_0x3cd7e8['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x540e9d+'\x20'+_0x3cd7e8[_0xf4d1dc(0xb31)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3cd7e8['id']+_0xf4d1dc(0x45b)+_0x3cd7e8['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3cd7e8[_0xf4d1dc(0xc28)]?_0xf4d1dc(0x7c7)+_0x3cd7e8['id']+_0xf4d1dc(0x922):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3cd39d[_0xf4d1dc(0xc28)]?'<button\x20data-shortcut-id=\x22'+_0x3cd7e8['id']+_0xf4d1dc(0x921):'')+_0xf4d1dc(0x448)+_0x422be3+_0xf4d1dc(0x8e4);})['join']('')||_0x2b0227(0x368),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x2a5cf4=_0x594c14;document[_0x2a5cf4(0x9c3)]('.parallel-shortcut-tab-btn')[_0x2a5cf4(0x8be)](_0x188281=>{const _0x1e4b3d=_0x2a5cf4;_0x188281[_0x1e4b3d(0xbf9)]=_0x44f62b=>{const _0x390ff5=_0x1e4b3d;activeParallelShortcutTabId=_0x44f62b[_0x390ff5(0x35b)]['dataset'][_0x390ff5(0x52f)],renderAdditionalParallelShortcutsModal();},_0x188281['ondblclick']=_0x455d7e=>{const _0x341e86=_0x1e4b3d,_0x90e9a6=_0x455d7e[_0x341e86(0x35b)][_0x341e86(0x817)](_0x341e86(0x6f9));_0x455d7e[_0x341e86(0x35b)][_0x341e86(0x817)](_0x341e86(0x4d0))[_0x341e86(0x936)][_0x341e86(0x2de)](_0x341e86(0x1dc)),_0x90e9a6[_0x341e86(0x936)]['remove'](_0x341e86(0x1dc)),_0x90e9a6[_0x341e86(0x49f)](),_0x90e9a6[_0x341e86(0xb2b)]();};}),document[_0x2a5cf4(0x9c3)](_0x2a5cf4(0xc7f))[_0x2a5cf4(0x8be)](_0x5658ab=>{const _0x174898=_0x2a5cf4,_0x12ba0a=()=>{const _0x2a7c3a=_0x27d0,_0x48c74f=_0x5658ab[_0x2a7c3a(0x50f)](_0x2a7c3a(0x53d))[_0x2a7c3a(0x7f1)][_0x2a7c3a(0x52f)],_0xb19d78=parallelShortcutTabs['find'](_0x4d0daa=>_0x4d0daa['id']===_0x48c74f);_0xb19d78&&(_0xb19d78[_0x2a7c3a(0xb31)]=_0x5658ab[_0x2a7c3a(0x9a1)][_0x2a7c3a(0x99c)]()||_0xb19d78[_0x2a7c3a(0xb31)],saveParallelShortcutConfig());};_0x5658ab[_0x174898(0x1cd)]=_0x12ba0a,_0x5658ab[_0x174898(0x569)]=_0x1c57ce=>{const _0x194dce=_0x174898;if(_0x1c57ce[_0x194dce(0x624)]===_0x194dce(0xc75))_0x5658ab['blur']();};}),document[_0x2a5cf4(0x9c3)](_0x2a5cf4(0x556))['forEach'](_0x594dd6=>_0x594dd6[_0x2a5cf4(0xbf9)]=_0xa565fd=>{const _0x2cdcb5=_0x2a5cf4,_0x790633=_0xa565fd[_0x2cdcb5(0x35b)][_0x2cdcb5(0x7f1)][_0x2cdcb5(0x52f)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x1bd183=_0x2cdcb5;parallelShortcutTabs=parallelShortcutTabs[_0x1bd183(0x298)](_0x45c3e4=>_0x45c3e4['id']!==_0x790633),delete parallelShortcutOrder[_0x790633];if(activeParallelShortcutTabId===_0x790633)activeParallelShortcutTabId=_0x1bd183(0xd2b);saveParallelShortcutConfig();});}),document[_0x2a5cf4(0x9c3)](_0x2a5cf4(0xc3d))['forEach'](_0x3429de=>_0x3429de[_0x2a5cf4(0xbf9)]=_0xe253af=>{const _0x55aa88=_0x2a5cf4;_0xe253af[_0x55aa88(0xc55)]();const {shortcutId:_0x24ded7,targetTabId:_0x4aa763}=_0xe253af[_0x55aa88(0x35b)][_0x55aa88(0x7f1)],_0x58fdd3=parallelShortcutTabs['find'](_0x2feebf=>_0x2feebf['id']===_0x4aa763);_0x58fdd3&&!_0x58fdd3[_0x55aa88(0x5b3)]['includes'](_0x24ded7)&&(_0x58fdd3[_0x55aa88(0x5b3)][_0x55aa88(0x861)](_0x24ded7),saveParallelShortcutConfig());}),document[_0x2a5cf4(0x9c3)](_0x2a5cf4(0x290))[_0x2a5cf4(0x8be)](_0x41a211=>_0x41a211[_0x2a5cf4(0xbf9)]=_0x292515=>{const _0x1107fb=_0x2a5cf4,_0x4d09cd=_0x292515[_0x1107fb(0x35b)][_0x1107fb(0x7f1)][_0x1107fb(0xa06)],_0x4b4b6d=parallelShortcutTabs[_0x1107fb(0xad3)](_0x4e647f=>_0x4e647f['id']===activeParallelShortcutTabId);_0x4b4b6d&&!_0x4b4b6d['isDefault']&&(_0x4b4b6d['shortcutIds']=_0x4b4b6d[_0x1107fb(0x5b3)][_0x1107fb(0x298)](_0x4f588f=>_0x4f588f!==_0x4d09cd),saveParallelShortcutConfig());}),document[_0x2a5cf4(0x9c3)]('.move-parallel-shortcut-menu-btn')['forEach'](_0x1bfe56=>_0x1bfe56[_0x2a5cf4(0xbf9)]=_0xedb7fe=>{const _0x3da7cd=_0x2a5cf4;_0xedb7fe[_0x3da7cd(0x6a2)]();const _0xe0aa12=_0xedb7fe[_0x3da7cd(0x35b)][_0x3da7cd(0x5f4)];document[_0x3da7cd(0x9c3)](_0x3da7cd(0xbcd))['forEach'](_0x113aa8=>_0x113aa8[_0x3da7cd(0x936)]['add'](_0x3da7cd(0x1dc))),_0xe0aa12[_0x3da7cd(0x936)][_0x3da7cd(0x373)]('hidden');});const _0x5e4844=document[_0x2a5cf4(0x68c)](_0x2a5cf4(0x286));let _0x1c6e4f=null;_0x5e4844[_0x2a5cf4(0xc0d)]=_0x2bad3a=>{const _0x133218=_0x2a5cf4;_0x1c6e4f=_0x2bad3a[_0x133218(0x221)]['closest'](_0x133218(0x6cb));if(_0x1c6e4f)setTimeout(()=>_0x1c6e4f[_0x133218(0x936)][_0x133218(0x2de)](_0x133218(0x32b)),0x0);},_0x5e4844['ondragend']=()=>{const _0x12c093=_0x2a5cf4;_0x1c6e4f&&(_0x1c6e4f[_0x12c093(0x936)][_0x12c093(0x373)](_0x12c093(0x32b)),_0x1c6e4f=null);},_0x5e4844['ondragover']=_0x45b78a=>{const _0x39bbb6=_0x2a5cf4;_0x45b78a[_0x39bbb6(0xc55)]();},_0x5e4844[_0x2a5cf4(0xae8)]=_0x1226f5=>{const _0x5ec847=_0x2a5cf4;_0x1226f5['preventDefault']();if(_0x1c6e4f){const _0x17d9d3=[..._0x5e4844['querySelectorAll'](_0x5ec847(0x8f4))][_0x5ec847(0x658)]((_0x21605d,_0x498a43)=>{const _0x569ef1=_0x5ec847,_0x20522a=_0x498a43['getBoundingClientRect'](),_0x3f7f26=_0x1226f5['clientY']-_0x20522a['top']-_0x20522a[_0x569ef1(0x33a)]/0x2;return _0x3f7f26<0x0&&_0x3f7f26>_0x21605d['offset']?{'offset':_0x3f7f26,'element':_0x498a43}:_0x21605d;},{'offset':Number[_0x5ec847(0x5ad)]})[_0x5ec847(0x924)];_0x17d9d3==null?_0x5e4844['appendChild'](_0x1c6e4f):_0x5e4844['insertBefore'](_0x1c6e4f,_0x17d9d3);const _0x458d14=[..._0x5e4844[_0x5ec847(0x9c3)](_0x5ec847(0x6cb))][_0x5ec847(0x345)](_0x1f2f1c=>_0x1f2f1c[_0x5ec847(0x7f1)]['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x458d14,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x2cba62=_0x594c14,_0x43de11=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x2cba62(0x5ca));_0x43de11&&_0x43de11['trim']()&&(parallelShortcutTabs['push']({'id':_0x2cba62(0x581)+Date['now'](),'name':_0x43de11[_0x2cba62(0x99c)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x1f1aad=_0x594c14,_0x570035=document['getElementById'](_0x1f1aad(0x5a2)),_0x370e03=document[_0x1f1aad(0x68c)](_0x1f1aad(0x286)),_0x4d283a=document[_0x1f1aad(0x68c)]('parallel-shortcuts-loading-msg');if(_0x4d283a)_0x4d283a[_0x1f1aad(0x936)][_0x1f1aad(0x2de)]('hidden');if(!_0x570035||!_0x370e03)return;const _0x356112=parallelTestShortcuts[_0x1f1aad(0xc6f)](0x0,0x4),_0x10ec1e=parallelTestShortcuts[_0x1f1aad(0xc6f)](0x4);_0x570035[_0x1f1aad(0xa0c)]=_0x356112[_0x1f1aad(0x345)](_0x5569ab=>{const _0x200b78=_0x1f1aad,_0x3d1aaf=_0x5569ab[_0x200b78(0x80d)]&&_0x5569ab['url'][_0x200b78(0x99c)]()!=='',_0x53b745=_0x3d1aaf?'bg-teal-500\x20hover:bg-teal-600\x20text-white':_0x200b78(0xa50),_0x5bd938=_0x3d1aaf?'🔁':'🔗',_0x4abdee=!_0x5569ab[_0x200b78(0xc28)]?_0x200b78(0x7c7)+_0x5569ab['id']+'\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x5569ab['id']+_0x200b78(0x50b)+_0x53b745+_0x200b78(0x55b)+_0x5bd938+'\x20'+_0x5569ab['name']+_0x200b78(0x8fe)+_0x5569ab['id']+_0x200b78(0x5e8)+_0x4abdee+_0x200b78(0xccf);})[_0x1f1aad(0x95f)](''),_0x10ec1e[_0x1f1aad(0x757)]>0x0&&(_0x570035[_0x1f1aad(0xa0c)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x10ec1e[_0x1f1aad(0x757)]>0x0?_0x370e03['innerHTML']=_0x10ec1e[_0x1f1aad(0x345)](_0x59c7a8=>_0x1f1aad(0xad1)+(_0x59c7a8['url']?'🔁':'🔗')+'\x20'+_0x59c7a8[_0x1f1aad(0xb31)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x59c7a8['id']+_0x1f1aad(0x1c7)+_0x59c7a8['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x59c7a8[_0x1f1aad(0xc28)]?_0x1f1aad(0x7c7)+_0x59c7a8['id']+_0x1f1aad(0x922):'')+_0x1f1aad(0x6e3))[_0x1f1aad(0x95f)](''):_0x370e03[_0x1f1aad(0xa0c)]=_0x1f1aad(0x4cc);}function openParallelTestShortcutEditor(_0x3f28af=null){const _0x106c21=_0x594c14,_0x47f50e=document['getElementById'](_0x106c21(0xbd6)),_0x5eb62e=document[_0x106c21(0x68c)](_0x106c21(0x413)),_0x196d00=document[_0x106c21(0x68c)](_0x106c21(0x3cd)),_0x42cd6a=document[_0x106c21(0x68c)](_0x106c21(0x1c2)),_0x60c630=document[_0x106c21(0x68c)]('parallel-shortcut-url-input');if(_0x3f28af){const _0x4a015d=parallelTestShortcuts[_0x106c21(0xad3)](_0x5671ff=>_0x5671ff['id']===_0x3f28af);if(!_0x4a015d)return;_0x5eb62e[_0x106c21(0xb4b)]=_0x106c21(0xd11),_0x196d00['value']=_0x4a015d['id'],_0x42cd6a[_0x106c21(0x9a1)]=_0x4a015d['name'],_0x60c630[_0x106c21(0x9a1)]=_0x4a015d[_0x106c21(0x80d)]||'';}else _0x5eb62e[_0x106c21(0xb4b)]='เพิ่มปุ่มลัดข้อสอบต้นฉบับ',_0x196d00[_0x106c21(0x9a1)]='',_0x42cd6a['value']='',_0x60c630[_0x106c21(0x9a1)]='';_0x47f50e[_0x106c21(0x936)][_0x106c21(0x373)]('hidden');}async function saveParallelTestShortcutChanges(){const _0x47cee4=_0x594c14,_0x1f499d=document[_0x47cee4(0x68c)]('parallel-shortcut-id-input')['value'],_0x4407ee=document['getElementById'](_0x47cee4(0x1c2))[_0x47cee4(0x9a1)][_0x47cee4(0x99c)](),_0x41b576=document[_0x47cee4(0x68c)](_0x47cee4(0x85d))['value'][_0x47cee4(0x99c)]();if(!_0x4407ee){showMessage(_0x47cee4(0x758));return;}const _0x2d1eb3={'id':_0x1f499d||_0x47cee4(0x4da)+Date[_0x47cee4(0x708)](),'name':_0x4407ee,'url':_0x41b576,'isDefault':_0x1f499d['startsWith'](_0x47cee4(0x614))};let _0x586544;_0x1f499d?_0x586544=parallelTestShortcuts[_0x47cee4(0x345)](_0x3f8743=>_0x3f8743['id']===_0x1f499d?_0x2d1eb3:_0x3f8743):_0x586544=[...parallelTestShortcuts,_0x2d1eb3];try{const _0x18d8d1=doc(db,_0x47cee4(0xbb0),'parallelTestShortcutsConfig');await setDoc(_0x18d8d1,{'shortcuts':_0x586544},{'merge':!![]}),document[_0x47cee4(0x68c)](_0x47cee4(0xbd6))['classList'][_0x47cee4(0x2de)](_0x47cee4(0x1dc));}catch(_0x341439){console[_0x47cee4(0x4e5)](_0x47cee4(0x35f),_0x341439),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleParallelTestShortcutClick(_0x20b57d){const _0x19432b=_0x594c14,_0x3958ca=parallelTestShortcuts['find'](_0x1942f7=>_0x1942f7['id']===_0x20b57d);if(!_0x3958ca)return;if(!_0x3958ca[_0x19432b(0x80d)]||_0x3958ca[_0x19432b(0x80d)]['trim']()===''){openParallelTestShortcutEditor(_0x20b57d);return;}const _0x365da6=document[_0x19432b(0x68c)]('loader'),_0xe76ee6=document[_0x19432b(0x68c)](_0x19432b(0x84a));document[_0x19432b(0x68c)](_0x19432b(0x575))[_0x19432b(0x936)][_0x19432b(0x373)](_0x19432b(0x1dc)),document[_0x19432b(0x68c)](_0x19432b(0x84b))[_0x19432b(0xa0c)]='',_0x365da6[_0x19432b(0x936)]['remove'](_0x19432b(0x1dc)),_0xe76ee6['textContent']=_0x19432b(0x2b3);try{let _0x1f89ea;_0x3958ca['url']['toLowerCase']()[_0x19432b(0x92b)](_0x19432b(0xbe9))?_0x1f89ea=_0x19432b(0x953):_0x1f89ea=_0x19432b(0x465);const _0x4a9413=await fetchFileFromUrl(_0x3958ca[_0x19432b(0x80d)],_0x1f89ea);await handleGenerateParallelTest(_0x4a9413);}catch(_0x562089){console[_0x19432b(0x4e5)](_0x19432b(0xc15),_0x562089),showMessage(_0x19432b(0x3ea)+_0x562089[_0x19432b(0x5f3)]),_0x365da6[_0x19432b(0x936)][_0x19432b(0x2de)](_0x19432b(0x1dc));}}function initializeScratchpadCanvas(){const _0x58f771=_0x594c14,_0x3ca8c3=document[_0x58f771(0x68c)]('scratchpad-canvas'),_0x4b7a2e=document['querySelector'](_0x58f771(0x589));if(!_0x3ca8c3||!_0x4b7a2e)return;scratchpadCtx=_0x3ca8c3['getContext']('2d',{'willReadFrequently':!![]});const _0x12d402=window[_0x58f771(0x493)]||0x1,_0x306cd2=_0x4b7a2e[_0x58f771(0x754)]();_0x3ca8c3[_0x58f771(0x18f)]=_0x306cd2[_0x58f771(0x18f)]*_0x12d402,_0x3ca8c3[_0x58f771(0x33a)]=_0x306cd2[_0x58f771(0x33a)]*_0x12d402,_0x3ca8c3[_0x58f771(0x62a)][_0x58f771(0x18f)]=_0x306cd2[_0x58f771(0x18f)]+'px',_0x3ca8c3[_0x58f771(0x62a)][_0x58f771(0x33a)]=_0x306cd2[_0x58f771(0x33a)]+'px',scratchpadCtx[_0x58f771(0x592)](_0x12d402,_0x12d402),scratchpadCtx['lineJoin']=_0x58f771(0x19a),scratchpadCtx[_0x58f771(0x85c)]=_0x58f771(0x19a),_0x3ca8c3[_0x58f771(0xbb8)](_0x58f771(0x4b1),handlePointerDown),_0x3ca8c3[_0x58f771(0xbb8)](_0x58f771(0x603),handlePointerMove),_0x3ca8c3['removeEventListener'](_0x58f771(0xcd7),handlePointerUp),_0x3ca8c3[_0x58f771(0xbb8)](_0x58f771(0xcb8),handlePointerUp),_0x3ca8c3[_0x58f771(0xbb8)]('wheel',handleWheel),_0x3ca8c3['removeEventListener'](_0x58f771(0x19d),handlePointerDown),_0x3ca8c3[_0x58f771(0xbb8)](_0x58f771(0x755),handlePointerMove),_0x3ca8c3['removeEventListener'](_0x58f771(0x6d6),handlePointerUp),_0x3ca8c3['addEventListener']('pointerdown',handlePointerDown),_0x3ca8c3[_0x58f771(0x7a0)](_0x58f771(0x603),handlePointerMove),_0x3ca8c3[_0x58f771(0x7a0)]('pointerup',handlePointerUp),_0x3ca8c3[_0x58f771(0x7a0)](_0x58f771(0xcb8),handlePointerUp),_0x3ca8c3['addEventListener'](_0x58f771(0x241),handleWheel,{'passive':![]}),_0x3ca8c3[_0x58f771(0x7a0)](_0x58f771(0x19d),handlePointerDown,{'passive':![]}),_0x3ca8c3[_0x58f771(0x7a0)](_0x58f771(0x755),handlePointerMove,{'passive':![]}),_0x3ca8c3[_0x58f771(0x7a0)](_0x58f771(0x6d6),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x55ca28=_0x594c14,_0x1e9abf=document[_0x55ca28(0x68c)](_0x55ca28(0x217)),_0x14531f=document[_0x55ca28(0x68c)](_0x55ca28(0x4ce));_0x14531f[_0x55ca28(0xa0c)]=_0x55ca28(0x5a8)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x5425de=document[_0x55ca28(0x68c)](_0x55ca28(0x55f)),_0x5897e9=document[_0x55ca28(0x68c)]('eraser-tool-btn'),_0x5485d4=document[_0x55ca28(0x68c)](_0x55ca28(0xa2c)),_0x24a030=document[_0x55ca28(0x68c)](_0x55ca28(0xcbb)),_0x293312=document[_0x55ca28(0x68c)](_0x55ca28(0xcc3)),_0x30515d=document[_0x55ca28(0x68c)](_0x55ca28(0xc80)),_0x4f984f=[_0x5425de,_0x5897e9,_0x5485d4,_0x24a030];document[_0x55ca28(0x68c)](_0x55ca28(0x557))[_0x55ca28(0x7a0)](_0x55ca28(0xc83),()=>_0x1e9abf[_0x55ca28(0x936)]['add'](_0x55ca28(0x1dc))),document[_0x55ca28(0x68c)]('reset-view-btn')[_0x55ca28(0x7a0)](_0x55ca28(0xc83),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x55ca28(0x1b6))['addEventListener'](_0x55ca28(0xc83),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x55ca28(0x68c)](_0x55ca28(0x98b))[_0x55ca28(0x7a0)](_0x55ca28(0xc83),undo),document['getElementById'](_0x55ca28(0x4ab))[_0x55ca28(0x7a0)](_0x55ca28(0xc83),redo);const _0x4712b7=_0x1e7b9a=>{const _0x404b21=_0x55ca28;_0x4f984f[_0x404b21(0x8be)](_0x236f80=>_0x236f80[_0x404b21(0x936)]['remove'](_0x404b21(0x323))),_0x1e7b9a[_0x404b21(0x936)]['add'](_0x404b21(0x323));const _0x281951=_0x1e7b9a===_0x24a030;_0x293312['classList']['toggle'](_0x404b21(0x1dc),_0x281951),_0x30515d[_0x404b21(0x936)][_0x404b21(0x34a)]('hidden',!_0x281951);};_0x5425de[_0x55ca28(0x7a0)](_0x55ca28(0xc83),()=>{activeTool='pen',_0x4712b7(_0x5425de);}),_0x5897e9[_0x55ca28(0x7a0)]('click',()=>{const _0x5282c7=_0x55ca28;activeTool=_0x5282c7(0x1d7),_0x4712b7(_0x5897e9);}),_0x5485d4['addEventListener'](_0x55ca28(0xc83),()=>{const _0xceacaf=_0x55ca28;activeTool=_0xceacaf(0x8a0),_0x4712b7(_0x5485d4);}),_0x24a030[_0x55ca28(0x7a0)]('click',()=>{const _0x2fa621=_0x55ca28;activeTool=_0x2fa621(0x9ec),_0x4712b7(_0x24a030);}),_0x293312[_0x55ca28(0x9c3)]('.pen-size-btn')[_0x55ca28(0x8be)](_0x2a516c=>{const _0x155832=_0x55ca28;_0x2a516c[_0x155832(0x7a0)](_0x155832(0xc83),_0x324e4b=>{const _0x192461=_0x155832;scratchpadPenSize=parseInt(_0x324e4b[_0x192461(0x221)][_0x192461(0x7f1)]['size'],0xa),_0x293312[_0x192461(0x9c3)](_0x192461(0x7a8))[_0x192461(0x8be)](_0x20afb3=>_0x20afb3['classList'][_0x192461(0x373)](_0x192461(0x323))),_0x324e4b[_0x192461(0x221)][_0x192461(0x936)][_0x192461(0x2de)](_0x192461(0x323));});}),_0x293312[_0x55ca28(0x9c3)](_0x55ca28(0x56d))[_0x55ca28(0x8be)](_0xb12846=>{const _0x37a120=_0x55ca28;_0xb12846[_0x37a120(0x7a0)]('click',_0x52d78f=>{const _0x251233=_0x37a120;scratchpadPenColor=_0x52d78f['target'][_0x251233(0x7f1)][_0x251233(0xa48)],_0x293312[_0x251233(0x9c3)](_0x251233(0x56d))[_0x251233(0x8be)](_0xe5d2e2=>_0xe5d2e2[_0x251233(0x936)]['remove'](_0x251233(0x323))),_0x52d78f[_0x251233(0x221)][_0x251233(0x936)][_0x251233(0x2de)](_0x251233(0x323));});}),_0x30515d[_0x55ca28(0x9c3)](_0x55ca28(0x3be))[_0x55ca28(0x8be)](_0x140bf2=>{const _0xf7f796=_0x55ca28;_0x140bf2[_0xf7f796(0x7a0)](_0xf7f796(0xc83),_0x49f40f=>{const _0x4e1649=_0xf7f796;scratchpadHighlighterColor=_0x49f40f['target'][_0x4e1649(0x7f1)]['color'],_0x30515d[_0x4e1649(0x9c3)](_0x4e1649(0x3be))['forEach'](_0x1b0bc3=>_0x1b0bc3[_0x4e1649(0x936)][_0x4e1649(0x373)](_0x4e1649(0x323))),_0x49f40f[_0x4e1649(0x221)][_0x4e1649(0x936)]['add'](_0x4e1649(0x323));});});const _0x24c866=document[_0x55ca28(0x68c)](_0x55ca28(0x5bf)),_0x306056=document[_0x55ca28(0x68c)]('highlighter-size-value');_0x24c866[_0x55ca28(0x7a0)](_0x55ca28(0x2f4),_0x15ac20=>{const _0x98bc71=_0x55ca28,_0x58f8f9=parseInt(_0x15ac20['target'][_0x98bc71(0x9a1)],0xa);scratchpadHighlighterSize=_0x58f8f9,_0x306056[_0x98bc71(0xb4b)]=_0x58f8f9;}),window['addEventListener'](_0x55ca28(0xbb5),()=>{const _0x5eb8cf=_0x55ca28;!_0x1e9abf[_0x5eb8cf(0x936)][_0x5eb8cf(0x28e)]('hidden')&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x594c14(0x442),'name':'คะแนนเต็ม','description':_0x594c14(0xc50),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':_0x594c14(0x519),'description':_0x594c14(0x7d5),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x594c14(0x385),'name':_0x594c14(0x2eb),'description':_0x594c14(0x3ed),'icon':_0x594c14(0xb27)},'FIRST_TRY_ACE':{'id':_0x594c14(0xa4e),'name':'ผ่านฉลุย','description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x594c14(0xac6),'name':'ราชาคัมแบ็ก','description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':'specialist','name':_0x594c14(0x245),'description':_0x594c14(0x912),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x594c14(0x8a7),'name':_0x594c14(0x2ce),'description':_0x594c14(0xc34),'icon':_0x594c14(0xae6)}},firebaseConfig={'apiKey':_0x594c14(0xb89),'authDomain':_0x594c14(0x39a),'projectId':_0x594c14(0x765),'storageBucket':_0x594c14(0x1a4),'messagingSenderId':_0x594c14(0x824),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x594c14(0xd28)},appId=typeof __app_id!==_0x594c14(0xac1)?__app_id:_0x594c14(0x1cb),adminView=document[_0x594c14(0x68c)](_0x594c14(0x6e5)),studentView=document[_0x594c14(0x68c)]('student-view'),projectDashboardView=document['getElementById'](_0x594c14(0xaee)),projectDetailView=document['getElementById'](_0x594c14(0x97d)),quizResultsView=document[_0x594c14(0x68c)](_0x594c14(0x860)),projectList=document[_0x594c14(0x68c)]('project-list'),noProjectsMsg=document['getElementById'](_0x594c14(0x406)),projectTitle=document[_0x594c14(0x68c)](_0x594c14(0xa78)),projectIdDisplay=document[_0x594c14(0x68c)](_0x594c14(0x74d)),studentList=document[_0x594c14(0x68c)]('student-list'),messageModal=document[_0x594c14(0x68c)](_0x594c14(0x5f2)),modalMessage=document[_0x594c14(0x68c)](_0x594c14(0x234)),createProjectModal=document[_0x594c14(0x68c)]('create-project-modal'),adminPasswordModal=document[_0x594c14(0x68c)]('admin-password-modal'),confirmationModal=document[_0x594c14(0x68c)](_0x594c14(0xa00)),userIdDisplay=document[_0x594c14(0x68c)](_0x594c14(0x399)),topicTab=document['getElementById']('topic-tab'),textTab=document[_0x594c14(0x68c)]('text-tab'),topicInputArea=document[_0x594c14(0x68c)](_0x594c14(0x363)),textInputArea=document['getElementById'](_0x594c14(0x719)),manageTab=document[_0x594c14(0x68c)]('manage-tab'),resultsTab=document['getElementById'](_0x594c14(0x289)),leaderboardTab=document[_0x594c14(0x68c)](_0x594c14(0x852)),manageTabContent=document[_0x594c14(0x68c)](_0x594c14(0x595)),resultsTabContent=document['getElementById'](_0x594c14(0x7c5)),leaderboardTabContent=document['getElementById'](_0x594c14(0xd27)),projectQuizzesList=document[_0x594c14(0x68c)]('project-quizzes-list'),fileTab=document['getElementById'](_0x594c14(0xaa3)),fileInputArea=document[_0x594c14(0x68c)](_0x594c14(0x8ac)),fileUploadInput=document[_0x594c14(0x68c)](_0x594c14(0xc06)),worksheetTab=document[_0x594c14(0x68c)](_0x594c14(0x664)),worksheetInputArea=document[_0x594c14(0x68c)](_0x594c14(0x881)),generateWorksheetBtn=document[_0x594c14(0x68c)](_0x594c14(0x6b8)),studentInitialView=document[_0x594c14(0x68c)](_0x594c14(0x533)),studentNameSelectionView=document['getElementById']('student-name-selection-view'),studentQuizArea=document[_0x594c14(0x68c)](_0x594c14(0x583)),studentResultArea=document[_0x594c14(0x68c)](_0x594c14(0xcc4)),studentReadingArea=document[_0x594c14(0x68c)]('student-reading-area'),loadQuizBtn=document['getElementById']('load-quiz-btn'),startQuizBtn=document[_0x594c14(0x68c)](_0x594c14(0xa59)),studentJoinGameView=document[_0x594c14(0x68c)]('student-join-game-view'),presentationModal=document[_0x594c14(0x68c)](_0x594c14(0x98a)),renameQuizModal=document['getElementById'](_0x594c14(0x799)),moveQuizModal=document[_0x594c14(0x68c)]('move-quiz-modal'),quizSettingsModal=document[_0x594c14(0x68c)](_0x594c14(0x8ca)),quizStatusModal=document[_0x594c14(0x68c)](_0x594c14(0x8ab)),liveGameView=document[_0x594c14(0x68c)]('live-game-view');function handleFixLessonLatex(){const _0x1baaee=_0x594c14,_0x1292fa=document[_0x1baaee(0x68c)](_0x1baaee(0xcf1));if(!_0x1292fa){showMessage(_0x1baaee(0x1e1));return;}const _0x2c31fa=_0x1292fa[_0x1baaee(0x9c3)]([_0x1baaee(0x842),_0x1baaee(0x5f5),'.ai-content\x20blockquote','.ai-content\x20td',_0x1baaee(0x750)][_0x1baaee(0x95f)](','));let _0x13379c=0x0;const _0x23afbb=_0x23fc58=>_0x23fc58['textContent']||'',_0x387db5=(_0x5a0804,_0x3ef7a5)=>{const _0x212e43=_0x1baaee;if(_0x5a0804[_0x212e43(0x817)]&&_0x5a0804[_0x212e43(0x817)]('mjx-container'))return;_0x5a0804[_0x212e43(0xb4b)]=_0x3ef7a5;},_0x2d0241=_0x1b5459=>_0x1b5459[_0x1baaee(0xaa5)](/\u00A0/g,'\x20')[_0x1baaee(0xaa5)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x3f4cf8=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x2eb77a=_0x22dcae=>{const _0xcf2109=_0x1baaee;let _0x1ff12d=_0x22dcae[_0xcf2109(0x99c)]();const _0x13f46d=[_0xcf2109(0xd01),_0xcf2109(0xb15),_0xcf2109(0xc2a),_0xcf2109(0xc47),_0xcf2109(0x4b6),_0xcf2109(0xbd7),_0xcf2109(0x8b3),_0xcf2109(0x2d6),_0xcf2109(0x4d1),'geq','le','ge',_0xcf2109(0x57f),'pm',_0xcf2109(0x3a6),'sin',_0xcf2109(0x760),'tan','log','ln',_0xcf2109(0x606),_0xcf2109(0x95e),_0xcf2109(0x488),_0xcf2109(0xacd),_0xcf2109(0xb6f),'overline','underline','circ',_0xcf2109(0x3aa)];_0x13f46d[_0xcf2109(0x8be)](_0x515635=>{const _0x4e8eac=_0xcf2109;_0x1ff12d=_0x1ff12d[_0x4e8eac(0xaa5)](new RegExp(_0x4e8eac(0x2c8)+_0x515635+'\x5cb','g'),(_0x2093af,_0x4a3847)=>_0x4a3847+'\x5c'+_0x515635);});const _0x42d1cf=[[/×/g,_0xcf2109(0x19e)],[/·/g,_0xcf2109(0x829)],[/÷/g,_0xcf2109(0x41f)],[/≤/g,_0xcf2109(0xb6c)],[/≥/g,_0xcf2109(0x191)],[/≠/g,'\x5cneq'],[/±/g,_0xcf2109(0x5c3)],[/∑/g,'\x5csum'],[/−/g,'-']];return _0x42d1cf[_0xcf2109(0x8be)](([_0x54af2e,_0x10e664])=>{_0x1ff12d=_0x1ff12d['replace'](_0x54af2e,_0x10e664);}),_0x1ff12d=_0x1ff12d[_0xcf2109(0xaa5)](/√\s*([A-Za-z0-9]+)/g,_0xcf2109(0x4ff)),_0x1ff12d=_0x1ff12d[_0xcf2109(0xaa5)](/(\d+)\s*%/g,_0xcf2109(0x293)),_0x1ff12d;},_0xdd8bbd=_0x3dbf51=>{const _0x3cd3c0=_0x1baaee;if(/\$|\\\(|\\\[/[_0x3cd3c0(0x9b7)](_0x3dbf51))return _0x3dbf51;if(!_0x3f4cf8['test'](_0x3dbf51))return _0x3dbf51;const _0x197286=_0x3dbf51[_0x3cd3c0(0x28b)](/^\s*/)[0x0],_0x304521=_0x3dbf51[_0x3cd3c0(0x28b)](/\s*$/)[0x0],_0x23ef88=_0x3dbf51[_0x3cd3c0(0x99c)]();return _0x197286+'$'+_0x2eb77a(_0x23ef88)+'$'+_0x304521;};_0x2c31fa[_0x1baaee(0x8be)](_0x321464=>{const _0x25ea55=_0x1baaee,_0x31f3b9=_0x23afbb(_0x321464);let _0xb64f61=_0x2d0241(_0x31f3b9);_0xb64f61=_0xb64f61[_0x25ea55(0xaa5)](/\$([^$]*?)\$/g,(_0x51ceff,_0x183f8a)=>'$'+_0x2eb77a(_0x183f8a)+'$');const _0x2e685e=_0xb64f61[_0x25ea55(0x1c1)](/(\s+)/),_0x26ec1f=_0x2e685e[_0x25ea55(0x345)](_0x3e9cfc=>{if(/\s+/['test'](_0x3e9cfc))return _0x3e9cfc;return _0xdd8bbd(_0x3e9cfc);});_0xb64f61=_0x26ec1f[_0x25ea55(0x95f)](''),_0xb64f61!==_0x31f3b9&&(_0x387db5(_0x321464,_0xb64f61),_0x13379c++);});if(_0x13379c>0x0){showMessage(_0x1baaee(0x57d)+_0x13379c+_0x1baaee(0x4c6));try{window[_0x1baaee(0x8e9)]&&MathJax[_0x1baaee(0x2e2)]&&MathJax[_0x1baaee(0x2e2)]([_0x1292fa]);}catch(_0x53701e){console['error'](_0x1baaee(0x2c9),_0x53701e);}}else showMessage('ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม');}function handleAutoFixLatex(){const _0x27b45e=_0x594c14,_0x36c4fe=document[_0x27b45e(0x68c)](_0x27b45e(0x99f))||document,_0xbe17da=_0x36c4fe['querySelectorAll']('textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li');let _0x4bc0e4=0x0;const _0x1921d8=_0x459611=>_0x27b45e(0x9a1)in _0x459611?String(_0x459611[_0x27b45e(0x9a1)]):_0x459611[_0x27b45e(0x558)]!==undefined?_0x459611[_0x27b45e(0x558)]:_0x459611[_0x27b45e(0xb4b)]||'',_0x15f0f8=(_0xd957e2,_0x3c1971)=>{const _0x49ef3c=_0x27b45e;if(_0x49ef3c(0x9a1)in _0xd957e2){_0xd957e2[_0x49ef3c(0x9a1)]=_0x3c1971;return;}if(_0xd957e2[_0x49ef3c(0x817)]&&_0xd957e2['querySelector']('mjx-container'))return;if(_0xd957e2[_0x49ef3c(0x558)]!==undefined)_0xd957e2[_0x49ef3c(0x558)]=_0x3c1971;else _0xd957e2[_0x49ef3c(0xb4b)]=_0x3c1971;},_0x4cbd3c=_0x1896a8=>_0x1896a8[_0x27b45e(0xaa5)](/\u00A0/g,'\x20')[_0x27b45e(0xaa5)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x58ed84=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x56ed45=_0x123bb7=>{const _0x2b08f1=_0x27b45e;let _0x138910=_0x123bb7[_0x2b08f1(0x99c)]();_0x138910=_0x138910[_0x2b08f1(0xaa5)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x2b08f1(0x1a2)),_0x138910=_0x138910[_0x2b08f1(0xaa5)](/\bfrac(\d)(\d)/g,_0x2b08f1(0x1a2));const _0x24a91a=[_0x2b08f1(0xd01),_0x2b08f1(0xc47),_0x2b08f1(0xbd7),'cdot',_0x2b08f1(0x2d6),_0x2b08f1(0x4d1),_0x2b08f1(0x5df),'neq','pm',_0x2b08f1(0x285),_0x2b08f1(0x760),_0x2b08f1(0xcea),_0x2b08f1(0x3e0),'ln'];_0x24a91a[_0x2b08f1(0x8be)](_0x450412=>{const _0x7a16ee=_0x2b08f1;_0x138910=_0x138910[_0x7a16ee(0xaa5)](new RegExp(_0x7a16ee(0x2c8)+_0x450412+'\x5cb','g'),(_0x486051,_0x5d56a6)=>_0x5d56a6+'\x5c'+_0x450412);});const _0x368adb=[[/×/g,_0x2b08f1(0x19e)],[/·/g,_0x2b08f1(0x829)],[/÷/g,'\x5cdiv'],[/≤/g,_0x2b08f1(0xb6c)],[/≥/g,_0x2b08f1(0x191)],[/≠/g,_0x2b08f1(0x4d2)],[/±/g,_0x2b08f1(0x5c3)]];return _0x368adb[_0x2b08f1(0x8be)](([_0x17c794,_0x553e5e])=>{_0x138910=_0x138910['replace'](_0x17c794,_0x553e5e);}),_0x138910;},_0x31a936=_0x5cff4c=>{const _0x412d0f=_0x27b45e;if(/\$|\\\(|\\\[/[_0x412d0f(0x9b7)](_0x5cff4c))return _0x5cff4c;if(!_0x58ed84[_0x412d0f(0x9b7)](_0x5cff4c))return _0x5cff4c;const _0x55c60e=_0x5cff4c[_0x412d0f(0x28b)](/^\s*/)[0x0],_0x3a8191=_0x5cff4c[_0x412d0f(0x28b)](/\s*$/)[0x0],_0x485b67=_0x5cff4c[_0x412d0f(0x99c)]();return _0x55c60e+'$'+_0x56ed45(_0x485b67)+'$'+_0x3a8191;};_0xbe17da[_0x27b45e(0x8be)](_0x47664a=>{const _0x3bb1f4=_0x27b45e,_0x3a73e9=_0x1921d8(_0x47664a);let _0x788c42=_0x4cbd3c(_0x3a73e9);_0x788c42=_0x788c42[_0x3bb1f4(0xaa5)](/\$([^$]*?)\$/g,(_0x1b6017,_0xc6a7d8)=>'$'+_0x56ed45(_0xc6a7d8)+'$');const _0x4f20f7=_0x788c42[_0x3bb1f4(0x1c1)](/(\s+)/),_0x1b92af=_0x4f20f7[_0x3bb1f4(0x345)](_0x103162=>/\s+/[_0x3bb1f4(0x9b7)](_0x103162)?_0x103162:_0x31a936(_0x103162));_0x788c42=_0x1b92af['join'](''),_0x788c42!==_0x3a73e9&&(_0x15f0f8(_0x47664a,_0x788c42),_0x4bc0e4++);});if(_0x4bc0e4>0x0){showMessage(_0x27b45e(0x6d2)+_0x4bc0e4+_0x27b45e(0x599));try{if(window[_0x27b45e(0x8e9)]&&MathJax[_0x27b45e(0x2e2)])MathJax[_0x27b45e(0x2e2)]();}catch(_0xa74dd2){}}else showMessage(_0x27b45e(0x3f7));}async function listenForCustomMathTopics(){const _0x4199d0=_0x594c14,_0x20a411=collection(db,_0x4199d0(0x632)+appId+_0x4199d0(0x807));onSnapshot(_0x20a411,_0x244475=>{const _0x50a742=_0x4199d0;customMathTopics=_0x244475[_0x50a742(0x23c)][_0x50a742(0x345)](_0x53582f=>({'id':_0x53582f['id'],..._0x53582f[_0x50a742(0x21d)]()})),renderTopicCheckboxes();},_0x508ee0=>{const _0x13b857=_0x4199d0;console[_0x13b857(0x4e5)](_0x13b857(0x9a2),_0x508ee0);});}function handleSelectAllTopics(){const _0x29b3e6=_0x594c14,_0x326cc1=document['getElementById']('math-topics-checkbox-container'),_0x461ff5=_0x326cc1[_0x29b3e6(0x9c3)](_0x29b3e6(0x3d7));_0x461ff5[_0x29b3e6(0x8be)](_0x40d895=>{const _0x11fabe=_0x29b3e6;_0x40d895[_0x11fabe(0x9cb)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0xdfc8d6=_0x594c14,_0x3ff26a=document['getElementById'](_0xdfc8d6(0x5e6)),_0x18a7d7=_0x3ff26a[_0xdfc8d6(0x9c3)](_0xdfc8d6(0x3d7));_0x18a7d7[_0xdfc8d6(0x8be)](_0x1e9339=>{_0x1e9339['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x4bcd26){const _0xe88653=_0x594c14;if(!_0x4bcd26)return;try{const _0x21523b=doc(db,_0xe88653(0x632)+appId+_0xe88653(0x807),_0x4bcd26);await deleteDoc(_0x21523b),showMessage(_0xe88653(0x751));}catch(_0x275448){console[_0xe88653(0x4e5)](_0xe88653(0xb5b),_0x275448),showMessage(_0xe88653(0x4e3));}}async function handleAddCustomMathTopic(){const _0x5e7fc1=_0x594c14,_0x328ed0=document[_0x5e7fc1(0x68c)]('custom-math-topic-input'),_0x321489=_0x328ed0[_0x5e7fc1(0x9a1)][_0x5e7fc1(0x99c)]();if(!_0x321489){showMessage(_0x5e7fc1(0x720));return;}if(!userId){showMessage(_0x5e7fc1(0xc5c));return;}try{const _0x339159=collection(db,_0x5e7fc1(0x632)+appId+_0x5e7fc1(0x807));await addDoc(_0x339159,{'name':_0x321489,'createdAt':serverTimestamp()}),_0x328ed0['value']='',showMessage(_0x5e7fc1(0x74a)+_0x321489+_0x5e7fc1(0xce5));}catch(_0x387c03){console[_0x5e7fc1(0x4e5)](_0x5e7fc1(0xb81),_0x387c03),showMessage(_0x5e7fc1(0x4bf));}}async function handleUpdateOldQuizzes(){const _0x53dbfc=_0x594c14;showConfirmation(_0x53dbfc(0x243),async()=>{const _0x46a0eb=_0x53dbfc,_0xb47c23=document[_0x46a0eb(0x68c)](_0x46a0eb(0xcbf)),_0x57e1b8=document[_0x46a0eb(0x68c)](_0x46a0eb(0x84a)),_0x5771e0=_0x57e1b8[_0x46a0eb(0xb4b)];_0xb47c23[_0x46a0eb(0x936)][_0x46a0eb(0x373)](_0x46a0eb(0x1dc)),_0x57e1b8[_0x46a0eb(0xb4b)]=_0x46a0eb(0xca4);try{const _0x5891da=collection(db,_0x46a0eb(0x632)+appId+'/public/data/quizzes'),_0x1d7f2c=await getDocs(_0x5891da);if(_0x1d7f2c[_0x46a0eb(0x838)]){showMessage(_0x46a0eb(0x537));return;}const _0xe96c8d=writeBatch(db);let _0x396cc9=0x0;_0x1d7f2c[_0x46a0eb(0x8be)](_0x1b06f3=>{const _0x5ac24d=_0x46a0eb,_0x25e437=_0x1b06f3['data'](),_0x4be972=_0x1b06f3['id'];if(_0x25e437[_0x5ac24d(0x72b)]&&_0x25e437[_0x5ac24d(0x72b)][_0x5ac24d(0x757)]>0x0&&!_0x25e437[_0x5ac24d(0x72b)][0x0][_0x5ac24d(0xc49)]('id')){console[_0x5ac24d(0x3e0)]('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x4be972+'\x20('+_0x25e437[_0x5ac24d(0x72e)]+')'),_0x396cc9++;const _0x48c357=_0x25e437['questions'][_0x5ac24d(0x345)]((_0x702459,_0x11099d)=>{const _0x32cd1f=_0x5ac24d;return{..._0x702459,'id':_0x702459['id']||'q_'+Date[_0x32cd1f(0x708)]()+'_'+_0x4be972+'_'+_0x11099d};}),_0x51c99f=doc(db,'artifacts/'+appId+_0x5ac24d(0x21f),_0x4be972);_0xe96c8d[_0x5ac24d(0x195)](_0x51c99f,{'questions':_0x48c357});}}),_0x396cc9>0x0?(_0x57e1b8[_0x46a0eb(0xb4b)]=_0x46a0eb(0x64d)+_0x396cc9+_0x46a0eb(0x5c8),await _0xe96c8d['commit'](),showMessage(_0x46a0eb(0x7c4)+_0x396cc9+_0x46a0eb(0xb2f))):showMessage(_0x46a0eb(0x81b));}catch(_0x431854){console[_0x46a0eb(0x4e5)](_0x46a0eb(0x44e),_0x431854),showMessage(_0x46a0eb(0xa57)+_0x431854[_0x46a0eb(0x5f3)]);}finally{_0xb47c23[_0x46a0eb(0x936)][_0x46a0eb(0x2de)]('hidden'),_0x57e1b8[_0x46a0eb(0xb4b)]=_0x5771e0;}});}async function handleBulkUpdateQuizSettings(){const _0x41d4f2=_0x594c14,_0x422eb7={'shuffle':document[_0x41d4f2(0x68c)]('bulk-shuffle-select')[_0x41d4f2(0x9a1)],'resultsDisplay':document[_0x41d4f2(0x68c)]('bulk-results-display-select')['value'],'loopUntilPass':document['getElementById'](_0x41d4f2(0xcb2))[_0x41d4f2(0x9cb)],'isConfidenceScoringEnabled':document[_0x41d4f2(0x68c)]('bulk-confidence-scoring-checkbox')[_0x41d4f2(0x9cb)],'confidenceMode':document[_0x41d4f2(0x68c)](_0x41d4f2(0x79e))['value']};try{showMessage(_0x41d4f2(0x29f));const _0x23c58b=await getDocs(collection(db,'artifacts/'+appId+_0x41d4f2(0x21f))),_0x509f41=_0x23c58b[_0x41d4f2(0x23c)][_0x41d4f2(0x345)](_0x10bc3f=>({'id':_0x10bc3f['id'],'data':_0x10bc3f[_0x41d4f2(0x21d)]()})),_0xd8c55c=_0x509f41[_0x41d4f2(0x757)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0xd8c55c+_0x41d4f2(0xad4),async()=>{const _0x94d1c2=_0x41d4f2,_0x292c0d=document[_0x94d1c2(0x68c)](_0x94d1c2(0x553));_0x292c0d['disabled']=!![],_0x292c0d[_0x94d1c2(0xa0c)]=_0x94d1c2(0x926);try{const _0x46666a=writeBatch(db);_0x509f41[_0x94d1c2(0x8be)](_0x50609f=>{const _0x922af0=_0x94d1c2,_0xbd73bf=doc(db,_0x922af0(0x632)+appId+_0x922af0(0x21f),_0x50609f['id']),_0x461813={..._0x50609f['data'][_0x922af0(0xbab)]||{},..._0x422eb7};_0x46666a[_0x922af0(0x195)](_0xbd73bf,{'settings':_0x461813});}),await _0x46666a[_0x94d1c2(0x555)](),document[_0x94d1c2(0x68c)](_0x94d1c2(0x722))[_0x94d1c2(0x936)][_0x94d1c2(0x2de)]('hidden'),showMessage(_0x94d1c2(0x390)+_0xd8c55c+'\x20ชุดสำเร็จ!');}catch(_0x457b2d){console[_0x94d1c2(0x4e5)](_0x94d1c2(0x869),_0x457b2d),showMessage('เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม');}finally{_0x292c0d['disabled']=![],_0x292c0d[_0x94d1c2(0xa0c)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x3b9c0e){console[_0x41d4f2(0x4e5)]('Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:',_0x3b9c0e),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0xa93b6f=_0x594c14,_0x12942e=document['getElementById'](_0xa93b6f(0xa78)),_0x599b8c=document[_0xa93b6f(0x68c)](_0xa93b6f(0x965)),_0x7617e4=_0x12942e[_0xa93b6f(0xb4b)][_0xa93b6f(0x99c)]();if(!_0x7617e4||!currentProjectId){showMessage(_0xa93b6f(0x411)),_0x12942e[_0xa93b6f(0xb4b)]=currentProjectData[_0xa93b6f(0xbc1)];return;}_0x599b8c[_0xa93b6f(0x376)]=!![],_0x599b8c[_0xa93b6f(0xa0c)]=_0xa93b6f(0x351);try{const _0x481446=doc(db,_0xa93b6f(0x632)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x481446,{'projectName':_0x7617e4}),currentProjectData&&(currentProjectData[_0xa93b6f(0xbc1)]=_0x7617e4),showMessage(_0xa93b6f(0x7b2));}catch(_0x257da6){console['error'](_0xa93b6f(0xc05),_0x257da6),showMessage(_0xa93b6f(0x949)),_0x12942e[_0xa93b6f(0xb4b)]=currentProjectData[_0xa93b6f(0xbc1)];}finally{_0x599b8c['classList'][_0xa93b6f(0x2de)](_0xa93b6f(0x1dc)),_0x599b8c[_0xa93b6f(0x376)]=![],_0x599b8c['innerHTML']=_0xa93b6f(0x927);}}function handleGeneratePracticeTest(_0x3e7591,_0x5c9196){const _0x17e60a=_0x594c14,_0x32d870=document[_0x17e60a(0x68c)]('lesson-view-modal'),_0x3566ae=document['getElementById'](_0x17e60a(0x276)),_0x3f5443=document[_0x17e60a(0x68c)](_0x17e60a(0xc1d)),_0x3ddaac=document[_0x17e60a(0x68c)](_0x17e60a(0xc07));_0x3566ae[_0x17e60a(0xb4b)]=_0x17e60a(0x1bf)+_0x3e7591,_0x3ddaac[_0x17e60a(0x936)][_0x17e60a(0x2de)]('hidden'),_0x3f5443['classList'][_0x17e60a(0x373)](_0x17e60a(0x1dc)),_0x32d870[_0x17e60a(0x936)]['remove'](_0x17e60a(0x1dc)),generatePracticeTest(_0x3e7591,_0x5c9196)['catch'](_0x2823bd=>{const _0x2f34bc=_0x17e60a;console[_0x2f34bc(0x4e5)](_0x2f34bc(0xc89),_0x2823bd),showMessage('ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้'),_0x32d870[_0x2f34bc(0x936)]['add']('hidden');});}async function generatePracticeTest(_0x11f578,_0x44a20e){const _0x372476=_0x594c14;[_0x372476(0x638),'memoryContent',_0x372476(0xa01),_0x372476(0x78a)][_0x372476(0x8be)](_0x15c223=>{const _0x158767=_0x372476,_0x41193e=document[_0x158767(0x68c)](_0x15c223)[_0x158767(0x7d8)];_0x41193e&&(_0x41193e['style'][_0x158767(0xb55)]=_0x158767(0xa9b));});try{const _0x3b6845=_0x372476(0x9ad),_0x4a9a98=_0x372476(0x574)+_0x44a20e+_0x372476(0x30a)+_0x11f578+_0x372476(0xb77),_0x4c61f6=await callGemini(_0x4a9a98,!![]),_0x16109d=document['getElementById'](_0x372476(0x276)),_0x35d207=document[_0x372476(0x68c)]('lesson-loader'),_0x3c661b=document[_0x372476(0x68c)](_0x372476(0xc07)),_0x136931=document[_0x372476(0x68c)](_0x372476(0xa01))['parentElement'];_0x16109d[_0x372476(0x558)]=_0x372476(0x777)+_0x11f578[_0x372476(0xaa5)](/•\s/g,'')+_0x372476(0xa29)+_0x44a20e+')',currentApplicationData=JSON['parse'](_0x4c61f6);const _0x54e98e=document[_0x372476(0x68c)]('applicationContent');_0x54e98e['innerHTML']=currentApplicationData[_0x372476(0x345)]((_0x3c8932,_0x238710)=>_0x372476(0x5b7)+(_0x238710+0x1)+'.\x20'+marked[_0x372476(0x337)](_0x3c8932['question'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x238710+_0x372476(0x306)+_0x3c8932['options'][_0x372476(0x345)]((_0x404694,_0x477d50)=>_0x372476(0xc73)+_0x238710+',\x20'+_0x477d50+')\x22>'+String[_0x372476(0x9d5)](0x61+_0x477d50)+'.\x20'+marked['parseInline'](_0x404694)+_0x372476(0xa2d))['join']('')+_0x372476(0x6e3))['join'](''),window[_0x372476(0x8e9)]&&MathJax[_0x372476(0x2e2)]([_0x54e98e]),_0x136931&&(_0x136931[_0x372476(0x62a)]['display']='block'),_0x35d207[_0x372476(0x936)][_0x372476(0x2de)](_0x372476(0x1dc)),_0x3c661b[_0x372476(0x936)][_0x372476(0x373)]('hidden');}catch(_0x1688ad){console['error'](_0x1688ad);throw _0x1688ad;}}async function callGemini(_0x4b469f,_0x1eaa6e=![]){const _0x36dff2=_0x594c14,_0x2ba7de=_0x36dff2(0xad6),_0x53ed12=_0x36dff2(0xa41)+_0x2ba7de,_0x2930a2={'contents':[{'parts':[{'text':_0x4b469f}]}]};_0x1eaa6e&&(_0x2930a2[_0x36dff2(0x8ff)]={'responseMimeType':'application/json'},_0x4b469f[_0x36dff2(0x92b)](_0x36dff2(0xb02))?_0x2930a2['generationConfig']['responseSchema']={'type':_0x36dff2(0x192),'properties':{'gradeLevel':{'type':_0x36dff2(0x4f0)},'curriculum':{'type':'ARRAY','items':{'type':_0x36dff2(0x192),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x36dff2(0xc77),'items':{'type':_0x36dff2(0x192),'properties':{'topicName':{'type':_0x36dff2(0x4f0)},'subTopics':{'type':'ARRAY','items':{'type':_0x36dff2(0x4f0)}}},'required':['topicName',_0x36dff2(0x77b)]}}},'required':[_0x36dff2(0xbba),'mainTopics']}}},'required':[_0x36dff2(0xd26),_0x36dff2(0xc03)]}:_0x2930a2[_0x36dff2(0x8ff)][_0x36dff2(0x7ac)]={'type':_0x36dff2(0xc77),'items':{'type':'OBJECT','properties':{'question':{'type':_0x36dff2(0x4f0)},'options':{'type':_0x36dff2(0xc77),'items':{'type':_0x36dff2(0x4f0)}},'answer':{'type':_0x36dff2(0x9cf)}},'required':[_0x36dff2(0x72a),_0x36dff2(0x9ac),_0x36dff2(0x8da)]}});try{const _0x1b661a=await fetch(_0x53ed12,{'method':_0x36dff2(0xaad),'headers':{'Content-Type':_0x36dff2(0x741)},'body':JSON[_0x36dff2(0xace)](_0x2930a2)});if(!_0x1b661a['ok']){const _0x2600d9=await _0x1b661a[_0x36dff2(0x4b6)]();console[_0x36dff2(0x4e5)](_0x36dff2(0x3c8),_0x2600d9);throw new Error(_0x36dff2(0x463)+_0x1b661a[_0x36dff2(0xb9c)]);}const _0x43873f=await _0x1b661a['json']();if(_0x43873f[_0x36dff2(0x7d2)]&&_0x43873f['candidates'][0x0][_0x36dff2(0x63a)]&&_0x43873f[_0x36dff2(0x7d2)][0x0][_0x36dff2(0x63a)][_0x36dff2(0xc2b)][0x0])return _0x43873f[_0x36dff2(0x7d2)][0x0]['content'][_0x36dff2(0xc2b)][0x0]['text'];else{console[_0x36dff2(0x4e5)](_0x36dff2(0x329),_0x43873f);if(_0x43873f[_0x36dff2(0x7d2)]&&_0x43873f[_0x36dff2(0x7d2)][0x0][_0x36dff2(0xa77)]===_0x36dff2(0x51e))return JSON[_0x36dff2(0xace)]({'error':_0x36dff2(0x598)});throw new Error(_0x36dff2(0x29d));}}catch(_0xaac8c5){console['error'](_0x36dff2(0x7bd),_0xaac8c5);throw _0xaac8c5;}}async function generateLesson(_0x26b605=null,_0x1b75a8=null){const _0x277146=_0x594c14,_0x664cf5=_0x26b605,_0x46e8b9=_0x1b75a8||_0x277146(0x86c),_0x5def88=document[_0x277146(0x68c)](_0x277146(0xc1d)),_0x95f14c=document[_0x277146(0x68c)]('lesson-loader-text');_0x95f14c[_0x277146(0xb4b)]=_0x277146(0x5d4)+_0x664cf5+'\x22...';try{let _0x491439=[];const _0x13d5f9=document[_0x277146(0x68c)](_0x277146(0x5fa))?.[_0x277146(0x9a1)][_0x277146(0x99c)]();if(_0x13d5f9)try{_0x95f14c['textContent']=_0x277146(0x29e);const _0x5d20ad=await fetchFileFromUrl(_0x13d5f9,_0x277146(0x1a7)),_0x5c1b71=await new Promise((_0x3c8ec4,_0x1a352d)=>{const _0x9c334=_0x277146,_0xdec6eb=new FileReader();_0xdec6eb[_0x9c334(0xb25)](_0x5d20ad),_0xdec6eb[_0x9c334(0x4f6)]=()=>_0x3c8ec4(_0xdec6eb[_0x9c334(0x38f)][_0x9c334(0x1c1)](',')[0x1]),_0xdec6eb[_0x9c334(0xb91)]=_0x1a352d;});_0x491439[_0x277146(0x861)]({'inlineData':{'mimeType':_0x5d20ad['type'],'data':_0x5c1b71}});}catch(_0x5799e9){console[_0x277146(0x4e5)](_0x277146(0xab0),_0x5799e9),showMessage(_0x277146(0xac7));}const _0x9f5242=_0x277146(0x69a)+_0x664cf5+_0x277146(0x633)+_0x664cf5+_0x277146(0x4c7);_0x95f14c['textContent']=_0x277146(0x5d4)+_0x664cf5+_0x277146(0x545);const _0x3f21c4=_0x277146(0x982)+_0x46e8b9+_0x277146(0x30a)+_0x664cf5+_0x277146(0xc24)+_0x9f5242+_0x277146(0x529),_0x226c47=_0x277146(0x687)+_0x664cf5+_0x277146(0xc78)+_0x46e8b9+_0x277146(0xa42)+_0x9f5242+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0x5e75bb=_0x277146(0x574)+_0x46e8b9+_0x277146(0x30a)+_0x664cf5+_0x277146(0xc38)+_0x9f5242+_0x277146(0x931),_0x2d0351=_0x277146(0x59e)+_0x664cf5+_0x277146(0xb30)+_0x46e8b9+_0x277146(0x705)+_0x9f5242+_0x277146(0x827),_0x75e58d={'type':_0x277146(0xc77),'items':{'type':_0x277146(0x192),'properties':{'question':{'type':'STRING'},'options':{'type':_0x277146(0xc77),'items':{'type':_0x277146(0x4f0)}},'answer':{'type':_0x277146(0x9cf)}},'required':[_0x277146(0x72a),_0x277146(0x9ac),_0x277146(0x8da)]}},[_0x304e0f,_0x38fa8c,_0x26aca5,_0x5e19ee]=await Promise[_0x277146(0xd2b)]([handleApiCall([{'text':_0x3f21c4},..._0x491439],_0x277146(0x379),null,null,![]),handleApiCall([{'text':_0x226c47},..._0x491439],'...',null,null,![]),handleApiCall([{'text':_0x5e75bb},..._0x491439],_0x277146(0x379),_0x75e58d,null,![]),handleApiCall([{'text':_0x2d0351},..._0x491439],'...',null,null,![])]),_0x32fa95=JSON[_0x277146(0xace)](_0x26aca5||[]),_0x1a5aae=document[_0x277146(0x68c)](_0x277146(0x276)),_0x3600da=document[_0x277146(0x68c)](_0x277146(0xc07));_0x1a5aae['innerText']=_0x277146(0xa39)+_0x664cf5[_0x277146(0xaa5)](/•\\s/g,'')+_0x277146(0xa29)+_0x46e8b9+')',[_0x277146(0x638),_0x277146(0xca2),_0x277146(0x78a)][_0x277146(0x8be)](_0x3afde1=>{const _0xe6ac81=_0x277146;document[_0xe6ac81(0x68c)](_0x3afde1)[_0xe6ac81(0xa0c)]='';}),document[_0x277146(0x68c)](_0x277146(0x638))['innerHTML']=_0x304e0f?marked[_0x277146(0x60b)](_0x304e0f):_0x277146(0x60a),document[_0x277146(0x68c)]('memoryContent')[_0x277146(0xa0c)]=_0x38fa8c?marked[_0x277146(0x60b)](_0x38fa8c):_0x277146(0x60a),document[_0x277146(0x68c)]('summaryContent')[_0x277146(0xa0c)]=_0x5e19ee?marked['parse'](_0x5e19ee):_0x277146(0x60a),currentApplicationData=JSON[_0x277146(0x60b)](_0x32fa95);const _0x36985b=document[_0x277146(0x68c)](_0x277146(0xa01));_0x36985b[_0x277146(0xa0c)]=(currentApplicationData||[])[_0x277146(0x345)]((_0x29b2f7,_0x20a68a)=>_0x277146(0x5b7)+(_0x20a68a+0x1)+'.\x20'+marked['parseInline'](_0x29b2f7['question']||'')+_0x277146(0xaf3)+_0x20a68a+_0x277146(0x306)+(_0x29b2f7[_0x277146(0x9ac)]||[])[_0x277146(0x345)]((_0x2c18cf,_0x3f2437)=>_0x277146(0xc73)+_0x20a68a+',\x20'+_0x3f2437+_0x277146(0x55e)+String[_0x277146(0x9d5)](0x61+_0x3f2437)+'.\x20'+marked['parseInline'](_0x2c18cf||'')+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x277146(0x95f)]('')+_0x277146(0x6e3))['join']('')||_0x277146(0x49c),window[_0x277146(0x8e9)]&&MathJax[_0x277146(0x2e2)]([_0x3600da]),_0x5def88[_0x277146(0x936)]['add'](_0x277146(0x1dc)),_0x3600da[_0x277146(0x936)]['remove'](_0x277146(0x1dc));}catch(_0xea6f44){console[_0x277146(0x4e5)](_0xea6f44);throw _0xea6f44;}}function checkAnswer(_0x532774,_0x3f8c10){const _0xe26993=_0x594c14,_0x18d606=currentApplicationData[_0x532774],_0x258cc1=document[_0xe26993(0x68c)]('q'+_0x532774+_0xe26993(0x1ff)),_0x2d2dbc=_0x258cc1['getElementsByTagName']('button');for(let _0x48b213 of _0x2d2dbc){_0x48b213[_0xe26993(0x376)]=!![];}_0x3f8c10===_0x18d606[_0xe26993(0x8da)]?_0x2d2dbc[_0x3f8c10][_0xe26993(0x936)][_0xe26993(0x2de)](_0xe26993(0x3d8)):(_0x2d2dbc[_0x3f8c10][_0xe26993(0x936)]['add'](_0xe26993(0x3bc)),_0x2d2dbc[_0x18d606[_0xe26993(0x8da)]]['classList']['add'](_0xe26993(0x3d8)));}window[_0x594c14(0x247)]=handleGenerateAndShowLesson,window[_0x594c14(0x6b6)]=checkAnswer,window[_0x594c14(0xbb3)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x1faaed=_0x594c14;try{const _0x5b437d=initializeApp(firebaseConfig);db=getFirestore(_0x5b437d),auth=getAuth(_0x5b437d),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x30ac95){console[_0x1faaed(0x4e5)]('Firebase\x20initialization\x20failed:',_0x30ac95),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x7163c5=_0x594c14,_0x3be315=document[_0x7163c5(0x68c)](_0x7163c5(0x284));if(!_0x3be315)return;const _0x4d4191=document[_0x7163c5(0x68c)]('verify-answers-editor-btn');_0x4d4191[_0x7163c5(0x376)]=!![],_0x4d4191['innerHTML']=_0x7163c5(0x305);try{const _0x194f66=_0x3be315['querySelectorAll'](_0x7163c5(0x314)),_0x1df662=Array['from'](_0x194f66)['map']((_0x221167,_0x3753ae)=>{const _0x4b1ab9=_0x7163c5,_0x217258=_0x221167[_0x4b1ab9(0x7f1)][_0x4b1ab9(0xb99)],_0x23260e=_0x221167[_0x4b1ab9(0x817)](_0x4b1ab9(0x7a2))[_0x4b1ab9(0x9a1)];let _0x13316f=null,_0x5734f7='';switch(_0x217258){case _0x4b1ab9(0x69d):const _0x34ed89=_0x221167[_0x4b1ab9(0x9c3)]('input[type=\x22text\x22]');_0x13316f=Array[_0x4b1ab9(0x97c)](_0x34ed89)[_0x4b1ab9(0x345)](_0x59bfc4=>_0x59bfc4['value']);const _0xa51176=_0x221167['querySelector'](_0x4b1ab9(0x81f));_0xa51176&&(_0x5734f7=_0x13316f[parseInt(_0xa51176[_0x4b1ab9(0x9a1)])]);break;case _0x4b1ab9(0xa97):_0x5734f7=_0x221167[_0x4b1ab9(0x817)](_0x4b1ab9(0xc85))[_0x4b1ab9(0x9a1)];break;case'true_false':const _0x4dc88e=_0x221167[_0x4b1ab9(0x817)]('input[type=\x22radio\x22]:checked');_0x5734f7=_0x4dc88e?_0x4dc88e['value']:'';break;case _0x4b1ab9(0x37f):_0x5734f7=_0x221167['querySelector'](_0x4b1ab9(0x4ad))[_0x4b1ab9(0x9a1)];break;}return{'question':_0x23260e,'options':_0x13316f,'proposedAnswer':_0x5734f7};}),_0x4e32ad=_0x7163c5(0x9c9)+JSON[_0x7163c5(0xace)](_0x1df662)+_0x7163c5(0xbcf),_0x430321={'type':_0x7163c5(0xc77),'items':{'type':_0x7163c5(0x192),'properties':{'questionIndex':{'type':_0x7163c5(0x9cf)},'isCorrect':{'type':_0x7163c5(0xc5f)},'justification':{'type':_0x7163c5(0x4f0)},'suggestedAnswer':{'type':_0x7163c5(0x4f0)}},'required':[_0x7163c5(0x344),_0x7163c5(0xa60),_0x7163c5(0x1aa)]}},_0x2de6b8=await callAnalysisApi(_0x4e32ad,{'type':_0x7163c5(0x192),'properties':{'result':_0x430321},'required':[_0x7163c5(0x38f)]});displayVerificationResultsInEditor(_0x2de6b8[_0x7163c5(0x38f)]);}catch(_0x3096f0){console[_0x7163c5(0x4e5)](_0x7163c5(0x764),_0x3096f0),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x4d4191[_0x7163c5(0x376)]=![],_0x4d4191['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x8608){const _0x2e128b=_0x594c14;_0x8608[_0x2e128b(0x8be)](_0x1cf7b6=>{const _0x3a73e1=_0x2e128b,_0x426e49=document[_0x3a73e1(0x817)](_0x3a73e1(0x5a0)+_0x1cf7b6[_0x3a73e1(0x344)]+'\x22]');if(!_0x426e49)return;const _0x346e8c=_0x426e49[_0x3a73e1(0x817)]('.verification-result-editor');if(_0x346e8c)_0x346e8c['remove']();let _0x2ff617='';if(_0x1cf7b6[_0x3a73e1(0xa60)])_0x2ff617=_0x3a73e1(0xaf9);else{const _0x3ce31d=_0x1cf7b6[_0x3a73e1(0x588)]?_0x3a73e1(0x665):'';_0x2ff617=_0x3a73e1(0x459)+_0x3ce31d+_0x3a73e1(0x8d5)+_0x1cf7b6['justification']+_0x3a73e1(0x5bb)+(_0x1cf7b6[_0x3a73e1(0x588)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x1cf7b6[_0x3a73e1(0x588)]+_0x3a73e1(0x4a1):'')+_0x3a73e1(0x7ff);}_0x426e49[_0x3a73e1(0x7d6)](_0x3a73e1(0x44d),_0x2ff617);if(!_0x1cf7b6[_0x3a73e1(0xa60)]&&_0x1cf7b6[_0x3a73e1(0x588)]){const _0xfd1365=_0x426e49[_0x3a73e1(0x7f1)]['qType'],_0x250588=_0x4b0e1=>{const _0x7a7a9b=_0x3a73e1;if(!_0x4b0e1)return;_0x4b0e1[_0x7a7a9b(0x936)]['add'](_0x7a7a9b(0xa4b),_0x7a7a9b(0xb5d),_0x7a7a9b(0xc7e)),setTimeout(()=>{const _0x4c21b1=_0x7a7a9b;_0x4b0e1[_0x4c21b1(0x936)]['remove'](_0x4c21b1(0xa4b));},0x9c4);};if(_0xfd1365===_0x3a73e1(0x69d)){const _0x41e47d=Array[_0x3a73e1(0x97c)](_0x426e49[_0x3a73e1(0x9c3)](_0x3a73e1(0x3d6))),_0x1fa37b=_0x41e47d[_0x3a73e1(0x1e3)](_0x38f28d=>_0x38f28d[_0x3a73e1(0x9a1)][_0x3a73e1(0x99c)]()['toLowerCase']()===_0x1cf7b6[_0x3a73e1(0x588)]['trim']()[_0x3a73e1(0x986)]());if(_0x1fa37b!==-0x1){const _0x553a75=_0x426e49['querySelector'](_0x3a73e1(0x78f)+_0x1fa37b+'\x22]');_0x553a75&&(_0x553a75['checked']=!![],_0x250588(_0x553a75[_0x3a73e1(0x50f)]('div')));}}else{if(_0xfd1365===_0x3a73e1(0xa97)||_0xfd1365===_0x3a73e1(0x37f)){const _0x350d46=_0x426e49['querySelector']('.ideal-answer-input,\x20.correct-response-input');_0x350d46&&(_0x350d46['value']=_0x1cf7b6[_0x3a73e1(0x588)],_0x250588(_0x350d46));}else{if(_0xfd1365===_0x3a73e1(0x8b0)){const _0xfefe08=_0x1cf7b6[_0x3a73e1(0x588)][_0x3a73e1(0x99c)]()[_0x3a73e1(0x986)](),_0x5878ec=_0x426e49[_0x3a73e1(0x817)](_0x3a73e1(0x78f)+_0xfefe08+'\x22]');_0x5878ec&&(_0x5878ec[_0x3a73e1(0x9cb)]=!![],_0x250588(_0x5878ec[_0x3a73e1(0x50f)](_0x3a73e1(0x2d6))));}}}}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0x530d12=_0x594c14;if(!currentQuizData||!currentQuizData[_0x530d12(0x72b)]){showMessage(_0x530d12(0x762));return;}const _0x3f5537=document[_0x530d12(0x68c)]('verify-answers-btn');_0x3f5537[_0x530d12(0x376)]=!![],_0x3f5537[_0x530d12(0xa0c)]=_0x530d12(0x305);try{const _0x4687b3=currentQuizData[_0x530d12(0x72b)][_0x530d12(0x345)]((_0x54b368,_0x9b8f2b)=>{const _0x5d90ab=_0x530d12;let _0x7885d9='';const _0x46e0f5=_0x54b368[_0x5d90ab(0x7cd)]||currentQuizData[_0x5d90ab(0x9c1)];switch(_0x46e0f5){case _0x5d90ab(0x69d):_0x7885d9=_0x54b368[_0x5d90ab(0x9ac)][_0x54b368['correctAnswerIndex']];break;case'short_answer':_0x7885d9=_0x54b368[_0x5d90ab(0x27b)];break;case _0x5d90ab(0x8b0):_0x7885d9=_0x54b368[_0x5d90ab(0xbfb)]['toString']();break;case _0x5d90ab(0x37f):_0x7885d9=_0x54b368[_0x5d90ab(0x3ce)];break;}return{'question':_0x54b368[_0x5d90ab(0x346)]||_0x54b368['questionText'],'options':_0x54b368[_0x5d90ab(0x9ac)]||null,'proposedAnswer':_0x7885d9};}),_0xec72b=_0x530d12(0xaf2)+JSON[_0x530d12(0xace)](_0x4687b3)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x6ec546={'type':_0x530d12(0xc77),'items':{'type':_0x530d12(0x192),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x530d12(0x4f0)},'suggestedAnswer':{'type':_0x530d12(0x4f0)}},'required':[_0x530d12(0x344),'isCorrect',_0x530d12(0x1aa)]}},_0x1164df=await callAnalysisApi(_0xec72b,{'type':_0x530d12(0x192),'properties':{'result':_0x6ec546},'required':['result']});displayVerificationResults(_0x1164df[_0x530d12(0x38f)]);}catch(_0x5619e8){console[_0x530d12(0x4e5)]('Error\x20verifying\x20answers:',_0x5619e8),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x3f5537[_0x530d12(0x376)]=![],_0x3f5537[_0x530d12(0xa0c)]=_0x530d12(0xa9d);}}function displayVerificationResults(_0x252b04){const _0x105784=_0x594c14;_0x252b04[_0x105784(0x8be)](_0x5cbdf4=>{const _0x5941e3=_0x105784,_0x561a1c=document[_0x5941e3(0x817)]('div[data-question-index=\x22'+_0x5cbdf4['questionIndex']+'\x22]');if(_0x561a1c){const _0x15055f=_0x561a1c[_0x5941e3(0x817)](_0x5941e3(0x656));if(_0x15055f)_0x15055f[_0x5941e3(0x373)]();let _0x170404='';_0x5cbdf4['isCorrect']?_0x170404=_0x5941e3(0x9d1):_0x170404='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x5cbdf4[_0x5941e3(0x1aa)]+_0x5941e3(0x508)+(_0x5cbdf4[_0x5941e3(0x588)]?_0x5941e3(0x58b)+_0x5cbdf4[_0x5941e3(0x588)]+_0x5941e3(0x4a1):'')+_0x5941e3(0x8b8),_0x561a1c[_0x5941e3(0x7d6)](_0x5941e3(0x44d),_0x170404);}}),showMessage(_0x105784(0x1bd));}function compareNumericalAnswers(_0x3cdc99,_0x538485){const _0x42905e=_0x594c14,_0xcb976=String(_0x3cdc99)[_0x42905e(0xaa5)](',','.')['replace'](/[^\d.-]/g,'')[_0x42905e(0x99c)](),_0x55fb40=String(_0x538485)[_0x42905e(0xaa5)](',','.')[_0x42905e(0xaa5)](/[^\d.-]/g,'')[_0x42905e(0x99c)]();if(_0xcb976===''||_0x55fb40==='')return![];const _0x23ddeb=parseFloat(_0xcb976),_0x4cccda=parseFloat(_0x55fb40);if(isNaN(_0x23ddeb)||isNaN(_0x4cccda))return![];return Math[_0x42905e(0xb3f)](_0x23ddeb-_0x4cccda)<0.001;}function isPotentiallyNumeric(_0x23345f){const _0x3a1671=_0x594c14;if(typeof _0x23345f!==_0x3a1671(0xb67)&&typeof _0x23345f!=='number')return![];const _0x6d5758=String(_0x23345f)['replace'](',','.')[_0x3a1671(0x99c)]();return _0x6d5758!==''&&!isNaN(parseFloat(_0x6d5758))&&isFinite(_0x6d5758);}async function gradeShortAnswer(_0x4d2f80,_0x5ba4d6){const _0x222336=_0x594c14,_0x4db7d7=_0x5ba4d6[_0x222336(0x27b)],_0xd19f76=String(_0x4d2f80)['replace'](/\$/g,'')[_0x222336(0x99c)](),_0x2193d5=String(_0x4db7d7)[_0x222336(0xaa5)](/\$/g,'')['trim']();if(_0xd19f76[_0x222336(0x986)]()===_0x2193d5['toLowerCase']())return!![];if(isPotentiallyNumeric(_0xd19f76)&&isPotentiallyNumeric(_0x2193d5)){if(compareNumericalAnswers(_0xd19f76,_0x2193d5))return!![];}return console[_0x222336(0x3e0)](_0x222336(0xc66)),await gradeShortAnswerWithAI(_0x4d2f80,_0x4db7d7);}async function revealAnswerForAdmin(_0x36b484,_0x40d0f0){const _0x55c9b8=_0x594c14,_0x2428df=doc(db,_0x55c9b8(0x632)+appId+_0x55c9b8(0x6a5),currentLiveGameId);await updateDoc(_0x2428df,{'questionStatus':_0x55c9b8(0x511)});}function showTop5LeaderboardView(_0x3412cb){const _0x3d0b2d=_0x594c14,_0x58b606=Object['values'](_0x3412cb['players']||{})[_0x3d0b2d(0x298)](_0x3ea870=>_0x3ea870[_0x3d0b2d(0xb9c)]===_0x3d0b2d(0x323));_0x58b606[_0x3d0b2d(0x387)]((_0x514f44,_0x1fa0b2)=>_0x1fa0b2[_0x3d0b2d(0xc54)]-_0x514f44[_0x3d0b2d(0xc54)]);const _0x2f4d7d=_0x58b606[_0x3d0b2d(0xc6f)](0x0,0x5),_0x2253bf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f4d7d[_0x3d0b2d(0x345)]((_0xcf304c,_0x334a0c)=>_0x3d0b2d(0x6d4)+(_0x334a0c+0x1)+'.\x20'+(_0xcf304c['name']||Object['keys'](_0x3412cb[_0x3d0b2d(0xb2c)])[_0x3d0b2d(0xad3)](_0xd37f6=>_0x3412cb['players'][_0xd37f6]===_0xcf304c))+_0x3d0b2d(0x779)+_0xcf304c['score']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3d0b2d(0x95f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3412cb[_0x3d0b2d(0xa9c)]+0x1===currentQuizData[_0x3d0b2d(0x72b)]['length']?_0x3d0b2d(0x31b):_0x3d0b2d(0x3c0))+_0x3d0b2d(0x2c4);liveGameView[_0x3d0b2d(0xa0c)]=_0x2253bf,document[_0x3d0b2d(0x68c)](_0x3d0b2d(0x70c))[_0x3d0b2d(0x7a0)](_0x3d0b2d(0xc83),async()=>{const _0x48c717=_0x3d0b2d,_0x174ecb=doc(db,_0x48c717(0x632)+appId+_0x48c717(0x6a5),currentLiveGameId),_0x28dbc1=_0x3412cb[_0x48c717(0xa9c)]+0x1;if(_0x28dbc1<currentQuizData[_0x48c717(0x72b)][_0x48c717(0x757)]){const _0x18a823={'currentQuestionIndex':_0x28dbc1,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x48c717(0xc59)};Object[_0x48c717(0x2e8)](_0x3412cb[_0x48c717(0xb2c)])[_0x48c717(0x8be)](_0x54e1e1=>{const _0x23badc=_0x48c717;_0x18a823['players.'+_0x54e1e1+_0x23badc(0x2e3)]=![];}),await updateDoc(_0x174ecb,_0x18a823);}else await updateDoc(_0x174ecb,{'status':_0x48c717(0x3b2)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x56b911=>{const _0x2e8af5=_0x27d0;if(_0x56b911){userId=_0x56b911[_0x2e8af5(0x26a)],userIdDisplay[_0x2e8af5(0xb4b)]=userId;const _0x45022f=await loadUserPreferences();_0x45022f[_0x2e8af5(0x8f9)]&&(document[_0x2e8af5(0x68c)](_0x2e8af5(0xa30))[_0x2e8af5(0x9a1)]=_0x45022f[_0x2e8af5(0x8f9)]);globalDashboardSettings[_0x2e8af5(0x7e7)]=_0x45022f[_0x2e8af5(0x7e7)]||_0x2e8af5(0xa56);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x1c5f5e,_0x74d449){const _0x2a3379=_0x594c14;if(!userId)return;try{const _0x44f1c0=doc(db,_0x2a3379(0x632)+appId+'/users/'+userId+_0x2a3379(0x7e0)),_0xd5ee97={};_0xd5ee97[_0x1c5f5e]=_0x74d449,await setDoc(_0x44f1c0,_0xd5ee97,{'merge':!![]});}catch(_0x4178d9){console[_0x2a3379(0x4e5)]('Error\x20saving\x20user\x20preference:',_0x4178d9);}}async function loadUserPreferences(){const _0x39d100=_0x594c14;if(!userId)return{};try{const _0x168bf2=doc(db,_0x39d100(0x632)+appId+_0x39d100(0xbd5)+userId+_0x39d100(0x7e0)),_0x481f5f=await getDoc(_0x168bf2);if(_0x481f5f[_0x39d100(0x367)]())return _0x481f5f['data']();return{};}catch(_0x2a66a5){return console[_0x39d100(0x4e5)](_0x39d100(0x89f),_0x2a66a5),{};}}function parseIndentedBlueprint(_0x5e68b7){const _0x46005f=_0x594c14,_0x39b855=_0x5e68b7[_0x46005f(0x1c1)]('\x0a')['filter'](_0x361b67=>_0x361b67['trim']()!==''),_0x293903=[];let _0x68d41c=null,_0x2000e0=null;return _0x39b855[_0x46005f(0x8be)](_0x3c9e1d=>{const _0x4b6a55=_0x46005f,_0x407079=_0x3c9e1d[_0x4b6a55(0x28b)](/^\s*/)[0x0]['length'],_0x560d9f=_0x3c9e1d['trim']();if(_0x407079===0x0)_0x68d41c={'sara':_0x560d9f,'mainTopics':[]},_0x293903[_0x4b6a55(0x861)](_0x68d41c),_0x2000e0=null;else{if(_0x407079>0x0&&_0x407079<0x8&&_0x68d41c)_0x2000e0={'topicName':_0x560d9f,'subTopics':[]},_0x68d41c[_0x4b6a55(0x6b9)][_0x4b6a55(0x861)](_0x2000e0);else _0x407079>=0x8&&_0x2000e0&&_0x2000e0['subTopics']['push'](_0x560d9f);}}),{'curriculum':_0x293903};}async function handleManualBlueprintSave(){const _0x59ab7d=_0x594c14,_0x203a0c=document[_0x59ab7d(0x68c)]('manual-bp-project-name')['value'][_0x59ab7d(0x99c)](),_0x178f3b=document[_0x59ab7d(0x68c)](_0x59ab7d(0x2cb))[_0x59ab7d(0x9a1)]['trim'](),_0x57c1e5=document[_0x59ab7d(0x68c)]('manual-bp-content')[_0x59ab7d(0x9a1)];if(!_0x203a0c||!_0x178f3b||!_0x57c1e5){showMessage(_0x59ab7d(0x278));return;}const _0x5b2150=parseIndentedBlueprint(_0x57c1e5);if(!_0x5b2150[_0x59ab7d(0xc03)]||_0x5b2150[_0x59ab7d(0xc03)]['length']===0x0){showMessage(_0x59ab7d(0x743));return;}const _0x433638={};let _0x15000b=0x0;_0x5b2150[_0x59ab7d(0xc03)][_0x59ab7d(0x8be)](_0x5eb7f1=>{const _0x56f767=_0x59ab7d;_0x5eb7f1['mainTopics'][_0x56f767(0x8be)](_0x27cb82=>{const _0x3a39dc=_0x56f767;_0x27cb82[_0x3a39dc(0x77b)][_0x3a39dc(0x8be)](_0x32d997=>{const _0x410523=_0x3a39dc,_0x467427=_0x410523(0x48d)+Date[_0x410523(0x708)]()+Math[_0x410523(0x7b8)]()[_0x410523(0x3d0)](0x24)[_0x410523(0x5fe)](0x2,0x9);_0x433638[_0x467427]={'sara':_0x5eb7f1[_0x410523(0xbba)],'mainTopic':_0x27cb82['topicName'],'subTopic':_0x32d997,'status':_0x410523(0xb5c),'lessonContent':null,'order':_0x15000b++};});});});try{const _0x398de6=collection(db,_0x59ab7d(0x632)+appId+_0x59ab7d(0xa90));await addDoc(_0x398de6,{'projectName':_0x203a0c,'gradeLevel':_0x178f3b,'topics':_0x433638,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x203a0c+'\x22\x20สำเร็จ!'),document[_0x59ab7d(0x68c)]('manual-blueprint-modal')[_0x59ab7d(0x936)][_0x59ab7d(0x2de)](_0x59ab7d(0x1dc));}catch(_0x4de91a){console['error']('Error\x20saving\x20manual\x20blueprint\x20project:',_0x4de91a),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x51574f){const _0x47ac09=_0x594c14;showConfirmation(_0x47ac09(0x883),async()=>{const _0x1cccee=_0x47ac09;try{const _0xdae8a8=doc(db,_0x1cccee(0x632)+appId+_0x1cccee(0xa90),currentBlueprintProjectId);await updateDoc(_0xdae8a8,{['topics.'+_0x51574f+_0x1cccee(0x9d0)]:[]}),showMessage(_0x1cccee(0x2e4)),openTopicQuizBank(_0x51574f),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xe5b004){console[_0x1cccee(0x4e5)](_0x1cccee(0x9a0),_0xe5b004),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x4826a8,_0x3b2636=_0x594c14(0x9f1)){const _0x407679=_0x594c14,_0x394eee=Object['entries'](_0x4826a8)[_0x407679(0x345)](([_0x564757,_0x2ce3f4])=>({'name':_0x564757,'score':_0x2ce3f4['score']||0x0,'badges':_0x2ce3f4[_0x407679(0x57c)]||[],'hasPerfectScoreBonus':_0x2ce3f4['hasPerfectScoreBonus']||![]}));_0x394eee[_0x407679(0x387)]((_0x579bf0,_0x6b3218)=>{const _0x96a84a=_0x407679,_0x560941=_0x6b3218[_0x96a84a(0xc54)]-_0x579bf0['score'];if(_0x560941!==0x0)return _0x560941;return(_0x6b3218[_0x96a84a(0x57c)][_0x96a84a(0x757)]||0x0)-(_0x579bf0[_0x96a84a(0x57c)][_0x96a84a(0x757)]||0x0);});const _0x343c9e=_0x1cc556=>{const _0x374fe7=_0x407679;if(!_0x1cc556||_0x1cc556['length']===0x0)return'';const _0x45d11a={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x374fe7(0xd17)+_0x1cc556[_0x374fe7(0x345)](_0x4730f8=>_0x45d11a[_0x4730f8]||'')['join']('')+_0x374fe7(0x93c);},_0x1e7526=_0x394eee['slice'](0x3),_0x4e57ca=_0x1e7526[_0x407679(0x757)]>0x0?_0x407679(0xb34)+_0x1e7526[_0x407679(0x345)]((_0x433c1f,_0x1754bb)=>{const _0x5aa5b5=_0x407679,_0x4e414a=_0x433c1f['hasPerfectScoreBonus']?'<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>':'';return _0x5aa5b5(0xb82)+(_0x1754bb+0x4)+_0x5aa5b5(0x8dd)+_0x433c1f[_0x5aa5b5(0xb31)]+_0x5aa5b5(0x199)+_0x433c1f[_0x5aa5b5(0xc54)]+_0x5aa5b5(0x850)+_0x4e414a+_0x5aa5b5(0x1d3);})[_0x407679(0x95f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x2ef6d0=_0x407679(0x93d)+(_0x394eee[0x1]?_0x407679(0xa70)+_0x394eee[0x1][_0x407679(0xb31)]+_0x407679(0x4a1)+_0x343c9e(_0x394eee[0x1][_0x407679(0x57c)])+_0x407679(0x6f3)+_0x394eee[0x1][_0x407679(0xc54)]+_0x407679(0x850)+(_0x394eee[0x1]['hasPerfectScoreBonus']?_0x407679(0x1ab):'')+_0x407679(0x29c):_0x407679(0x27f))+_0x407679(0xa84)+(_0x394eee[0x0]?_0x407679(0x721)+_0x394eee[0x0][_0x407679(0xb31)]+'</p>'+_0x343c9e(_0x394eee[0x0][_0x407679(0x57c)])+'<p\x20class=\x22text-2xl\x22>'+_0x394eee[0x0][_0x407679(0xc54)]+_0x407679(0x850)+(_0x394eee[0x0]['hasPerfectScoreBonus']?_0x407679(0x1ab):'')+_0x407679(0x8db):'<div\x20class=\x22flex-1\x22></div>')+_0x407679(0xa84)+(_0x394eee[0x2]?_0x407679(0x294)+_0x394eee[0x2][_0x407679(0xb31)]+_0x407679(0x4a1)+_0x343c9e(_0x394eee[0x2][_0x407679(0x57c)])+'<p\x20class=\x22text-xl\x22>'+_0x394eee[0x2]['score']+_0x407679(0x850)+(_0x394eee[0x2][_0x407679(0x1b8)]?_0x407679(0x1ab):'')+_0x407679(0x91f):_0x407679(0x27f))+_0x407679(0x6cc)+_0x4e57ca+_0x407679(0xc31)+(currentMode==='admin'?_0x407679(0x254):_0x407679(0x1cf))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';liveGameView[_0x407679(0xa0c)]=_0x2ef6d0,currentMode===_0x407679(0x50a)&&document[_0x407679(0x68c)]('close-game-final-btn')[_0x407679(0x7a0)](_0x407679(0xc83),async()=>{const _0x451e61=_0x407679;let _0x177fce;_0x3b2636===_0x451e61(0x7c1)?_0x177fce=doc(db,_0x451e61(0x632)+appId+_0x451e61(0x5e7),currentLiveGameId):_0x177fce=doc(db,'artifacts/'+appId+_0x451e61(0x6a5),currentLiveGameId),await deleteDoc(_0x177fce);});}function renderSyncSummaryView(_0x370139,_0x1c7196,_0x33fcb4){const _0x32564b=_0x594c14,_0x3835c7=Object[_0x32564b(0x694)](_0x370139[_0x32564b(0xb2c)]||{}),_0x151376=_0x1c7196[_0x32564b(0x7cd)]||_0x370139['shuffledQuiz'][_0x32564b(0x9c1)];let _0x2d494e=[];_0x151376===_0x32564b(0x8b0)?_0x2d494e=['ใช่\x20/\x20ถูก','ไม่ใช่\x20/\x20ผิด']:_0x2d494e=_0x1c7196[_0x32564b(0x9ac)]||[];const _0x511b36=new Array(_0x2d494e[_0x32564b(0x757)])[_0x32564b(0x2c3)](0x0),_0x3c0291={};_0x2d494e['forEach']((_0x22e24c,_0x713946)=>{_0x3c0291[_0x713946]=[];}),Object[_0x32564b(0x82c)](_0x370139[_0x32564b(0xb2c)]||{})[_0x32564b(0x8be)](([_0x518c8f,_0x411dfa])=>{const _0x3627da=_0x32564b;if(_0x411dfa[_0x3627da(0xb9c)]!==_0x3627da(0x715)&&_0x411dfa[_0x3627da(0x8b6)]!==undefined&&_0x411dfa[_0x3627da(0x8b6)]!==null){const _0x221979=_0x411dfa[_0x3627da(0x8b6)];_0x3c0291[_0x221979]!==undefined&&(_0x3c0291[_0x221979][_0x3627da(0x861)](_0x518c8f),_0x511b36[_0x221979]++);}});let _0x464c40='';_0x33fcb4?_0x464c40=_0x32564b(0x3bd):_0x464c40=_0x32564b(0x233);const _0x3372d9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+_0x1c7196['questionText']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x511b36[_0x32564b(0x345)]((_0x3bee85,_0x303ebc)=>{const _0x5dd04b=_0x32564b,_0x2a1ab2=_0x3c0291[_0x303ebc]['length']>0x0?_0x3c0291[_0x303ebc][_0x5dd04b(0x95f)](',\x20'):_0x5dd04b(0x774),_0x1099af='#6366F1';return _0x5dd04b(0x4cd)+_0x3bee85+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20'+_0x1099af+_0x5dd04b(0x9c5)+_0x303ebc+_0x5dd04b(0x481)+_0x2d494e[_0x303ebc]+_0x5dd04b(0x261)+_0x303ebc+_0x5dd04b(0x51b)+_0x2a1ab2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x32564b(0x95f)]('')+_0x32564b(0x61b)+_0x464c40+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x3372d9;if(window['MathJax'])MathJax[_0x32564b(0x2e2)]();_0x33fcb4&&(document[_0x32564b(0x68c)](_0x32564b(0x5a5))[_0x32564b(0x7a0)](_0x32564b(0xc83),async()=>{const _0x7e4bcd=_0x32564b,_0x55690c=doc(db,_0x7e4bcd(0x632)+appId+_0x7e4bcd(0x5e7),currentLiveGameId);await updateDoc(_0x55690c,{'status':_0x7e4bcd(0x51f)});}),document[_0x32564b(0x68c)](_0x32564b(0xbc8))['onclick']=()=>{openScratchpad(_0x1c7196,_0x2d494e);});}async function handleShowStudentRankings(){const _0x31861f=_0x594c14,_0x4e4573=document[_0x31861f(0x817)](_0x31861f(0xcac));_0x4e4573&&(_0x4e4573[_0x31861f(0xa0c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x34e4d5=document[_0x31861f(0x817)](_0x31861f(0x8b4));_0x34e4d5&&(_0x34e4d5['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x7af483=document['getElementById']('student-rankings-modal');_0x7af483['classList']['remove']('hidden'),document['getElementById']('close-student-rankings-btn')[_0x31861f(0xbf9)]=()=>_0x7af483['classList'][_0x31861f(0x2de)](_0x31861f(0x1dc));const _0x537a0f=document['getElementById'](_0x31861f(0x259)),_0x36a548=document[_0x31861f(0x68c)](_0x31861f(0x2dd)),_0x4977d2=document[_0x31861f(0x68c)](_0x31861f(0xaeb)),_0x29ade6=document['getElementById']('student-project-leaderboard-content');_0x537a0f[_0x31861f(0xbf9)]=()=>{const _0xc2f1d1=_0x31861f;_0x537a0f[_0xc2f1d1(0x936)][_0xc2f1d1(0x2de)](_0xc2f1d1(0x323)),_0x36a548['classList'][_0xc2f1d1(0x373)](_0xc2f1d1(0x323)),_0x4977d2[_0xc2f1d1(0x936)][_0xc2f1d1(0x373)]('hidden'),_0x29ade6['classList'][_0xc2f1d1(0x2de)](_0xc2f1d1(0x1dc));},_0x36a548[_0x31861f(0xbf9)]=()=>{const _0x557a5c=_0x31861f;_0x36a548[_0x557a5c(0x936)][_0x557a5c(0x2de)](_0x557a5c(0x323)),_0x537a0f[_0x557a5c(0x936)][_0x557a5c(0x373)](_0x557a5c(0x323)),_0x29ade6[_0x557a5c(0x936)][_0x557a5c(0x373)](_0x557a5c(0x1dc)),_0x4977d2[_0x557a5c(0x936)][_0x557a5c(0x2de)](_0x557a5c(0x1dc));};try{const _0x1b6ce7=collection(db,_0x31861f(0x632)+appId+_0x31861f(0x6e7)+currentQuizData['id']+'/submissions'),_0x3ccbc3=await getDocs(_0x1b6ce7),_0x4a9f19=_0x3ccbc3[_0x31861f(0x23c)][_0x31861f(0x345)](_0x220792=>_0x220792['data']());renderQuizLeaderboard(_0x4a9f19,currentQuizData,_0x31861f(0x422));const _0x188f2f=collection(db,_0x31861f(0x632)+appId+_0x31861f(0x3ec)+currentQuizData[_0x31861f(0x618)]+_0x31861f(0x596)),_0x13ae3=await getDocs(_0x188f2f),_0x44f2d7=_0x13ae3[_0x31861f(0x23c)][_0x31861f(0x345)](_0x4275fa=>_0x4275fa[_0x31861f(0x21d)]());renderLeaderboard(_0x44f2d7,_0x31861f(0xc60));}catch(_0x231c84){console[_0x31861f(0x4e5)](_0x31861f(0xc6a),_0x231c84),showMessage(_0x31861f(0x405));}}async function handleSaveToBank(_0xc33b12){const _0x5a6b5b=_0x594c14,_0x442174=_0xc33b12[_0x5a6b5b(0x35b)],_0x382fae=_0x442174[_0x5a6b5b(0x7f1)][_0x5a6b5b(0x258)],_0x46659b=currentQuizData[_0x5a6b5b(0x72b)][_0x382fae];if(!userId){showMessage(_0x5a6b5b(0x4c2));return;}try{const _0x46b908={..._0x46659b,'originalTopic':currentQuizData[_0x5a6b5b(0x72e)],'savedAt':serverTimestamp()},_0x5245aa=collection(db,_0x5a6b5b(0x632)+appId+_0x5a6b5b(0xbd5)+userId+_0x5a6b5b(0x884));await addDoc(_0x5245aa,_0x46b908),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x442174[_0x5a6b5b(0x936)]['remove']('text-purple-600'),_0x442174[_0x5a6b5b(0x936)]['add'](_0x5a6b5b(0x3a5)),_0x442174[_0x5a6b5b(0x376)]=!![];}catch(_0x31f2fb){console[_0x5a6b5b(0x4e5)](_0x5a6b5b(0xcb9),_0x31f2fb),showMessage(_0x5a6b5b(0x949));}}async function selectProjectAndGenerateBlueprintQuiz(_0x3fe3c9,_0x128f63=null,_0xa18259=null,_0x28b002=![]){const _0x218f78=_0x594c14;cameFromBlueprint=!![];const _0x25bae5=document[_0x218f78(0x68c)](_0x218f78(0x5fa))?.[_0x218f78(0x9a1)][_0x218f78(0x99c)]();let _0x58dac0=null;if(_0x25bae5){showMessage(_0x218f78(0x29e));try{const _0x460a05=await fetchFileFromUrl(_0x25bae5,'reference_onet.pdf'),_0x38e427=await new Promise((_0xacb55a,_0x265ebf)=>{const _0x533888=_0x218f78,_0xad49b=new FileReader();_0xad49b[_0x533888(0xb25)](_0x460a05),_0xad49b['onload']=()=>_0xacb55a(_0xad49b[_0x533888(0x38f)][_0x533888(0x1c1)](',')[0x1]),_0xad49b[_0x533888(0xb91)]=_0x265ebf;});_0x58dac0=[{'inlineData':{'mimeType':_0x460a05[_0x218f78(0x7f4)],'data':_0x38e427}}],messageModal['classList']['add']('hidden');}catch(_0x2baf8d){console['error'](_0x218f78(0x316),_0x2baf8d),showMessage(_0x218f78(0x681));}}const _0x4e92c4=document[_0x218f78(0x68c)](_0x218f78(0x1f0)),_0x1e22b3=document[_0x218f78(0x68c)](_0x218f78(0x903)),_0x397108=_0x4e92c4[_0x218f78(0x817)]('h3'),_0x354a08=document['getElementById'](_0x218f78(0xcb0)),_0x3d645f=document[_0x218f78(0x68c)](_0x218f78(0x9f7));_0x397108[_0x218f78(0xb4b)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x354a08[_0x218f78(0xb4b)]=_0x218f78(0xbdd),_0x354a08[_0x218f78(0x376)]=!![];allProjects['length']===0x0?_0x1e22b3[_0x218f78(0xa0c)]=_0x218f78(0x4f1):(_0x1e22b3[_0x218f78(0xa0c)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x218f78(0x345)](_0x216072=>_0x218f78(0x4a8)+_0x216072['id']+'\x22>'+_0x216072[_0x218f78(0xbc1)]+'</option>')[_0x218f78(0x95f)](''),_0x354a08[_0x218f78(0x376)]=![]);_0x4e92c4[_0x218f78(0x936)][_0x218f78(0x373)]('hidden');const _0x296541=async()=>{const _0x40d45c=_0x218f78,_0x4421c0=_0x1e22b3[_0x40d45c(0x9a1)];if(!_0x4421c0){showMessage(_0x40d45c(0xae0));return;}_0x4e92c4[_0x40d45c(0x936)]['add'](_0x40d45c(0x1dc)),document[_0x40d45c(0x68c)]('blueprint-project-manager-view')[_0x40d45c(0x936)][_0x40d45c(0x2de)](_0x40d45c(0x1dc)),await loadProjectDetails(_0x4421c0),showView(_0x40d45c(0x6ab)),handleGenerateQuizFromBlueprintTopic(_0x3fe3c9,_0x128f63,_0x4421c0,_0xa18259,_0x28b002,_0x58dac0),_0x29cf7c();},_0x29cf7c=()=>{const _0x185067=_0x218f78;_0x397108[_0x185067(0xb4b)]=_0x185067(0x75c),_0x354a08['textContent']=_0x185067(0x2fe),_0x354a08[_0x185067(0xbb8)]('click',_0x296541),_0x3d645f['removeEventListener'](_0x185067(0xc83),_0x29cf7c),_0x354a08[_0x185067(0x7a0)](_0x185067(0xc83),confirmMoveQuiz);};_0x354a08[_0x218f78(0xbb8)](_0x218f78(0xc83),confirmMoveQuiz),_0x354a08[_0x218f78(0x7a0)](_0x218f78(0xc83),_0x296541),_0x3d645f[_0x218f78(0x7a0)]('click',_0x29cf7c);}function listenForStarredQuizzes(){const _0x103d10=_0x594c14;if(!userId)return;const _0x460409=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x52b9c5=query(_0x460409,where(_0x103d10(0x60f),'==',!![]));onSnapshot(_0x52b9c5,_0x4e63b3=>{const _0x388b43=_0x103d10;starredQuizzes=_0x4e63b3[_0x388b43(0x23c)]['map'](_0x30f5b3=>({'id':_0x30f5b3['id'],..._0x30f5b3[_0x388b43(0x21d)]()})),currentProjectId===_0x388b43(0x82f)?renderQuizzes():renderProjects();},_0x10b2af=>{const _0x2c3efc=_0x103d10;console[_0x2c3efc(0x4e5)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x10b2af);});}function listenForFileShortcuts(){const _0x893fe3=_0x594c14,_0x46c379=doc(db,_0x893fe3(0xbb0),_0x893fe3(0xbe4));onSnapshot(_0x46c379,_0x466158=>{const _0xf1cd3d=_0x893fe3;let _0x339779=[],_0x4da08c=[],_0xb49ae={};if(_0x466158['exists']()){const _0x3b1f6c=_0x466158['data']();_0x339779=_0x3b1f6c[_0xf1cd3d(0x629)]||[],_0x4da08c=_0x3b1f6c['fileShortcutTabs']||[],_0xb49ae=_0x3b1f6c[_0xf1cd3d(0x648)]||{};}!_0x4da08c[_0xf1cd3d(0xad3)](_0x2da12e=>_0x2da12e['id']===_0xf1cd3d(0xd2b))&&_0x4da08c[_0xf1cd3d(0x427)]({'id':_0xf1cd3d(0xd2b),'name':_0xf1cd3d(0x190),'isDefault':!![]}),!_0x339779[_0xf1cd3d(0xad3)](_0x4100cf=>_0x4100cf['id']===_0xf1cd3d(0x3e9))&&_0x339779[_0xf1cd3d(0x427)]({'id':_0xf1cd3d(0x3e9),'name':'ไฟล์ลัด\x201','url':'','isDefault':!![]}),!_0x339779[_0xf1cd3d(0xad3)](_0x1d22f8=>_0x1d22f8['id']===_0xf1cd3d(0x269))&&_0x339779[_0xf1cd3d(0x427)]({'id':_0xf1cd3d(0x269),'name':_0xf1cd3d(0x8f5),'url':'','isDefault':!![]}),fileShortcuts=_0x339779,fileShortcutTabs=_0x4da08c,fileShortcutOrder=_0xb49ae,renderFileShortcuts(),!document['getElementById'](_0xf1cd3d(0x616))[_0xf1cd3d(0x936)][_0xf1cd3d(0x28e)]('hidden')&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x21614f=_0x594c14,_0x199f9c=doc(db,_0x21614f(0xbb0),_0x21614f(0xbe4));try{await setDoc(_0x199f9c,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x4a8d69){console[_0x21614f(0x4e5)]('Error\x20saving\x20file\x20shortcut\x20config:',_0x4a8d69);}}function renderAdditionalFileShortcutsModal(){const _0x426e15=_0x594c14,_0x263817=document['getElementById'](_0x426e15(0x8fb)),_0x267e46=document[_0x426e15(0x68c)]('additional-file-shortcuts-list');if(!_0x263817||!_0x267e46)return;_0x263817[_0x426e15(0xa0c)]=fileShortcutTabs[_0x426e15(0x345)](_0x5854b2=>{const _0xd88c20=_0x426e15,_0x21f77b=_0x5854b2['id']===activeFileShortcutTabId;return _0xd88c20(0xb2a)+_0x5854b2['id']+_0xd88c20(0x6fe)+(_0x21f77b?_0xd88c20(0x506):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0xd88c20(0xb1a)+_0x5854b2['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x5854b2['name']+_0xd88c20(0x1f7)+(!_0x5854b2[_0xd88c20(0xc28)]?_0xd88c20(0xcaf)+_0x5854b2['id']+_0xd88c20(0x40a):'')+_0xd88c20(0xc65);})[_0x426e15(0x95f)]('');const _0x42857f=fileShortcutTabs[_0x426e15(0xad3)](_0x47786d=>_0x47786d['id']===activeFileShortcutTabId);let _0xfeb468=_0x42857f?.['isDefault']?[...fileShortcuts]:fileShortcuts[_0x426e15(0x298)](_0x3dee81=>(_0x42857f?.[_0x426e15(0x5b3)]||[])[_0x426e15(0x92b)](_0x3dee81['id']));const _0x9de4cf=fileShortcutOrder[activeFileShortcutTabId]||[];_0xfeb468['sort']((_0xd16edd,_0x29b51c)=>{const _0x4472f0=_0x426e15,_0x4f217e=_0x9de4cf[_0x4472f0(0xbb1)](_0xd16edd['id']),_0x2e137a=_0x9de4cf['indexOf'](_0x29b51c['id']);return(_0x4f217e===-0x1?Infinity:_0x4f217e)-(_0x2e137a===-0x1?Infinity:_0x2e137a);}),_0x267e46[_0x426e15(0xa0c)]=_0xfeb468['map'](_0x45756b=>{const _0x3631fd=_0x426e15,_0xe18947=_0x45756b[_0x3631fd(0x80d)]?'📄':'🔗',_0x50af0f=fileShortcutTabs[_0x3631fd(0x298)](_0x3794b1=>!_0x3794b1[_0x3631fd(0xc28)]),_0xc07613=_0x42857f[_0x3631fd(0xc28)]&&_0x50af0f[_0x3631fd(0x757)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x50af0f['map'](_0x403e3e=>_0x3631fd(0x87c)+_0x45756b['id']+_0x3631fd(0xc64)+_0x403e3e['id']+'\x22>'+_0x403e3e[_0x3631fd(0xb31)]+_0x3631fd(0x38c))['join']('')+_0x3631fd(0x63b):'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x45756b['id']+_0x3631fd(0x3c3)+_0xe18947+'\x20'+_0x45756b['name']+_0x3631fd(0x25b)+_0x45756b['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x45756b['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x45756b['isDefault']?_0x3631fd(0x7c7)+_0x45756b['id']+_0x3631fd(0xae5):'')+_0x3631fd(0x448)+(!_0x42857f[_0x3631fd(0xc28)]?'<button\x20data-shortcut-id=\x22'+_0x45756b['id']+'\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc07613+_0x3631fd(0x8e4);})[_0x426e15(0x95f)]('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x331ba4=_0x594c14;document[_0x331ba4(0x9c3)](_0x331ba4(0xb70))[_0x331ba4(0x8be)](_0x1aeecc=>{const _0x2445cf=_0x331ba4;_0x1aeecc[_0x2445cf(0xbf9)]=_0x512d46=>{const _0x226424=_0x2445cf;activeFileShortcutTabId=_0x512d46[_0x226424(0x35b)][_0x226424(0x7f1)][_0x226424(0x52f)],renderAdditionalFileShortcutsModal();},_0x1aeecc[_0x2445cf(0xaae)]=_0x47e787=>{const _0xda3b8a=_0x2445cf,_0x1b7e80=_0x47e787[_0xda3b8a(0x35b)][_0xda3b8a(0x817)]('.tab-name-input');_0x47e787[_0xda3b8a(0x35b)][_0xda3b8a(0x817)](_0xda3b8a(0x4d0))[_0xda3b8a(0x936)][_0xda3b8a(0x2de)](_0xda3b8a(0x1dc)),_0x1b7e80[_0xda3b8a(0x936)][_0xda3b8a(0x373)]('hidden'),_0x1b7e80[_0xda3b8a(0x49f)](),_0x1b7e80[_0xda3b8a(0xb2b)]();};}),document[_0x331ba4(0x9c3)](_0x331ba4(0xaba))[_0x331ba4(0x8be)](_0x1ac6e1=>{const _0x2b4f04=_0x331ba4,_0x1979f5=()=>{const _0x482377=_0x27d0,_0x3379e7=_0x1ac6e1[_0x482377(0x50f)]('.file-shortcut-tab-btn')[_0x482377(0x7f1)][_0x482377(0x52f)],_0x4011b9=fileShortcutTabs['find'](_0x2ee764=>_0x2ee764['id']===_0x3379e7);_0x4011b9&&(_0x4011b9[_0x482377(0xb31)]=_0x1ac6e1[_0x482377(0x9a1)]['trim']()||_0x4011b9[_0x482377(0xb31)],saveFileShortcutConfig());};_0x1ac6e1[_0x2b4f04(0x1cd)]=_0x1979f5,_0x1ac6e1[_0x2b4f04(0x569)]=_0x429860=>{const _0x5c894f=_0x2b4f04;if(_0x429860['key']===_0x5c894f(0xc75))_0x1ac6e1[_0x5c894f(0x532)]();};}),document[_0x331ba4(0x9c3)](_0x331ba4(0x5d1))[_0x331ba4(0x8be)](_0x5591bb=>_0x5591bb[_0x331ba4(0xbf9)]=_0x42ec40=>{const _0x227b62=_0x331ba4,_0xaa6487=_0x42ec40['currentTarget'][_0x227b62(0x7f1)][_0x227b62(0x52f)];showConfirmation(_0x227b62(0x73c),()=>{const _0x63269d=_0x227b62;fileShortcutTabs=fileShortcutTabs['filter'](_0x47a60b=>_0x47a60b['id']!==_0xaa6487),delete fileShortcutOrder[_0xaa6487];if(activeFileShortcutTabId===_0xaa6487)activeFileShortcutTabId=_0x63269d(0xd2b);saveFileShortcutConfig();});}),document['querySelectorAll'](_0x331ba4(0x74b))[_0x331ba4(0x8be)](_0x176685=>_0x176685[_0x331ba4(0xbf9)]=_0x5ba9f0=>{const _0x4633d8=_0x331ba4;_0x5ba9f0[_0x4633d8(0xc55)]();const {shortcutId:_0xbd8abb,targetTabId:_0x21f777}=_0x5ba9f0[_0x4633d8(0x35b)]['dataset'],_0x1a1caf=fileShortcutTabs[_0x4633d8(0xad3)](_0x4aa007=>_0x4aa007['id']===_0x21f777);_0x1a1caf&&!_0x1a1caf[_0x4633d8(0x5b3)][_0x4633d8(0x92b)](_0xbd8abb)&&(_0x1a1caf[_0x4633d8(0x5b3)][_0x4633d8(0x861)](_0xbd8abb),saveFileShortcutConfig());}),document[_0x331ba4(0x9c3)]('.remove-file-shortcut-from-tab-btn')['forEach'](_0x4a53da=>_0x4a53da[_0x331ba4(0xbf9)]=_0x4d8326=>{const _0x32d850=_0x331ba4,_0x4a0cb5=_0x4d8326[_0x32d850(0x35b)]['dataset'][_0x32d850(0xa06)],_0x1b7cc2=fileShortcutTabs[_0x32d850(0xad3)](_0x591e13=>_0x591e13['id']===activeFileShortcutTabId);_0x1b7cc2&&!_0x1b7cc2['isDefault']&&(_0x1b7cc2['shortcutIds']=_0x1b7cc2[_0x32d850(0x5b3)]['filter'](_0x6329f4=>_0x6329f4!==_0x4a0cb5),saveFileShortcutConfig());}),document[_0x331ba4(0x9c3)](_0x331ba4(0xc95))[_0x331ba4(0x8be)](_0xd96768=>_0xd96768['onclick']=_0x9808c=>{const _0x1d7544=_0x331ba4;_0x9808c['stopPropagation']();const _0x3dab54=_0x9808c[_0x1d7544(0x35b)]['nextElementSibling'];document[_0x1d7544(0x9c3)](_0x1d7544(0x977))[_0x1d7544(0x8be)](_0x28a837=>_0x28a837[_0x1d7544(0x936)][_0x1d7544(0x2de)](_0x1d7544(0x1dc))),_0x3dab54[_0x1d7544(0x936)]['remove'](_0x1d7544(0x1dc));});const _0x5eb7d1=document[_0x331ba4(0x68c)](_0x331ba4(0xa55));let _0x151175=null;_0x5eb7d1[_0x331ba4(0xc0d)]=_0x3c0895=>{const _0x5d7979=_0x331ba4;_0x151175=_0x3c0895[_0x5d7979(0x221)]['closest'](_0x5d7979(0x6cb));if(_0x151175)setTimeout(()=>_0x151175[_0x5d7979(0x936)][_0x5d7979(0x2de)](_0x5d7979(0x32b)),0x0);},_0x5eb7d1[_0x331ba4(0x436)]=()=>{const _0x113524=_0x331ba4;_0x151175&&(_0x151175[_0x113524(0x936)][_0x113524(0x373)](_0x113524(0x32b)),_0x151175=null);},_0x5eb7d1['ondragover']=_0xdeb871=>{const _0x2aedcf=_0x331ba4;_0xdeb871[_0x2aedcf(0xc55)]();},_0x5eb7d1[_0x331ba4(0xae8)]=_0x5939de=>{const _0x574da7=_0x331ba4;_0x5939de[_0x574da7(0xc55)]();if(_0x151175){const _0x524448=[..._0x5eb7d1['querySelectorAll'](_0x574da7(0x8f4))][_0x574da7(0x658)]((_0x2151c9,_0x4ebedb)=>{const _0x3f524a=_0x574da7,_0x49c693=_0x4ebedb['getBoundingClientRect'](),_0x52328a=_0x5939de['clientY']-_0x49c693[_0x3f524a(0xd08)]-_0x49c693[_0x3f524a(0x33a)]/0x2;return _0x52328a<0x0&&_0x52328a>_0x2151c9['offset']?{'offset':_0x52328a,'element':_0x4ebedb}:_0x2151c9;},{'offset':Number[_0x574da7(0x5ad)]})['element'];_0x524448==null?_0x5eb7d1['appendChild'](_0x151175):_0x5eb7d1['insertBefore'](_0x151175,_0x524448);const _0x11d45f=[..._0x5eb7d1[_0x574da7(0x9c3)](_0x574da7(0x6cb))]['map'](_0x172eea=>_0x172eea[_0x574da7(0x7f1)]['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x11d45f,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x492778=_0x594c14,_0x570fe7=prompt(_0x492778(0x2c5),'แท็บใหม่');_0x570fe7&&_0x570fe7[_0x492778(0x99c)]()&&(fileShortcutTabs[_0x492778(0x861)]({'id':_0x492778(0x581)+Date[_0x492778(0x708)](),'name':_0x570fe7[_0x492778(0x99c)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x4747be=_0x594c14,_0x7b579d=document['getElementById'](_0x4747be(0x9de)),_0x5ce199=document[_0x4747be(0x68c)](_0x4747be(0xa55)),_0x77a085=document[_0x4747be(0x68c)](_0x4747be(0x4f2));if(_0x77a085)_0x77a085[_0x4747be(0x936)][_0x4747be(0x2de)](_0x4747be(0x1dc));if(!_0x7b579d||!_0x5ce199)return;const _0x4bbdbe=fileShortcuts[_0x4747be(0xc6f)](0x0,0x4),_0x3243dc=fileShortcuts['slice'](0x4);_0x7b579d[_0x4747be(0xa0c)]=_0x4bbdbe[_0x4747be(0x345)](_0xb58d76=>{const _0x37365a=_0x4747be,_0x3a6ad8=_0xb58d76[_0x37365a(0x80d)]&&_0xb58d76[_0x37365a(0x80d)][_0x37365a(0x99c)]()!=='',_0x2f72fd=selectedFile&&selectedFile['shortcutId']===_0xb58d76['id'];let _0x34aedf=_0x37365a(0xa50),_0x427f0a='🔗';if(_0x2f72fd)_0x34aedf=_0x37365a(0x378),_0x427f0a=_0x37365a(0x771);else _0x3a6ad8&&(_0x34aedf=_0x37365a(0x75e),_0x427f0a='📄');const _0x3d76f2=!_0xb58d76[_0x37365a(0xc28)]?_0x37365a(0x7c7)+_0xb58d76['id']+_0x37365a(0xa54):'';return _0x37365a(0x3d1)+_0xb58d76['id']+_0x37365a(0x979)+_0x34aedf+_0x37365a(0xc63)+_0x427f0a+_0x37365a(0x2a9)+_0xb58d76[_0x37365a(0xb31)]+_0x37365a(0x20e)+_0xb58d76['id']+_0x37365a(0x439)+_0x3d76f2+_0x37365a(0xccf);})[_0x4747be(0x95f)](''),_0x3243dc[_0x4747be(0x757)]>0x0&&(_0x7b579d[_0x4747be(0xa0c)]+=_0x4747be(0xc5e)),_0x3243dc[_0x4747be(0x757)]>0x0?_0x5ce199['innerHTML']=_0x3243dc[_0x4747be(0x345)](_0x2783cd=>_0x4747be(0x6f4)+(_0x2783cd[_0x4747be(0x80d)]?'📄':'🔗')+'\x20'+_0x2783cd[_0x4747be(0xb31)]+_0x4747be(0xa6a)+_0x2783cd['id']+_0x4747be(0x9ed)+_0x2783cd['id']+_0x4747be(0x727)+(!_0x2783cd[_0x4747be(0xc28)]?_0x4747be(0x7c7)+_0x2783cd['id']+_0x4747be(0xae5):'')+_0x4747be(0x6e3))[_0x4747be(0x95f)](''):_0x5ce199[_0x4747be(0xa0c)]=_0x4747be(0x4cc);}function openFileShortcutEditor(_0x4bc601=null){const _0x3b9413=_0x594c14,_0x5a7549=document[_0x3b9413(0x68c)](_0x3b9413(0x205)),_0x4dcd77=document['getElementById']('file-shortcut-modal-title'),_0x2df4e2=document['getElementById'](_0x3b9413(0xc3e)),_0x5407e6=document['getElementById'](_0x3b9413(0x1d5)),_0x35abb3=document[_0x3b9413(0x68c)](_0x3b9413(0xb18));if(_0x4bc601){const _0x4b00ef=fileShortcuts['find'](_0xbcd5a2=>_0xbcd5a2['id']===_0x4bc601);if(!_0x4b00ef)return;_0x4dcd77['textContent']='แก้ไขปุ่มลัดจากไฟล์',_0x2df4e2['value']=_0x4b00ef['id'],_0x5407e6['value']=_0x4b00ef['name'],_0x35abb3[_0x3b9413(0x9a1)]=_0x4b00ef[_0x3b9413(0x80d)]||'';}else _0x4dcd77[_0x3b9413(0xb4b)]=_0x3b9413(0xd1f),_0x2df4e2['value']='',_0x5407e6[_0x3b9413(0x9a1)]='',_0x35abb3[_0x3b9413(0x9a1)]='';_0x5a7549[_0x3b9413(0x936)][_0x3b9413(0x373)](_0x3b9413(0x1dc));}async function saveFileShortcutChanges(){const _0x31da69=_0x594c14,_0x3035aa=document[_0x31da69(0x68c)](_0x31da69(0xc3e))[_0x31da69(0x9a1)],_0x34ef50=document[_0x31da69(0x68c)]('file-shortcut-name-input')[_0x31da69(0x9a1)][_0x31da69(0x99c)](),_0x2ebea7=document[_0x31da69(0x68c)](_0x31da69(0xb18))[_0x31da69(0x9a1)][_0x31da69(0x99c)]();if(!_0x34ef50){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x5c0c51={'id':_0x3035aa||_0x31da69(0xc51)+Date[_0x31da69(0x708)](),'name':_0x34ef50,'url':_0x2ebea7,'isDefault':_0x3035aa['startsWith'](_0x31da69(0x238))};let _0xdc7cb8;_0x3035aa?_0xdc7cb8=fileShortcuts[_0x31da69(0x345)](_0x5e93ee=>_0x5e93ee['id']===_0x3035aa?_0x5c0c51:_0x5e93ee):_0xdc7cb8=[...fileShortcuts,_0x5c0c51];try{const _0xbf1364=doc(db,_0x31da69(0xbb0),_0x31da69(0xbe4));await setDoc(_0xbf1364,{'shortcuts':_0xdc7cb8},{'merge':!![]}),document['getElementById']('file-shortcut-editor-modal')[_0x31da69(0x936)]['add'](_0x31da69(0x1dc));}catch(_0x30fd08){console[_0x31da69(0x4e5)](_0x31da69(0x6ba),_0x30fd08),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0x4af8e6){const _0x261e68=_0x594c14,_0x17e41a=fileShortcuts[_0x261e68(0xad3)](_0xa39691=>_0xa39691['id']===_0x4af8e6);if(!_0x17e41a)return;if(!_0x17e41a[_0x261e68(0x80d)]||_0x17e41a['url'][_0x261e68(0x99c)]()===''){openFileShortcutEditor(_0x4af8e6);return;}const _0x3945ee=document[_0x261e68(0x817)](_0x261e68(0xd0b)+_0x4af8e6+'\x22]');if(_0x3945ee){const _0x45a78f=_0x3945ee['innerHTML'];_0x3945ee['innerHTML']=_0x261e68(0x4ca),_0x3945ee[_0x261e68(0x376)]=!![];}document[_0x261e68(0x9c3)]('.file-shortcut-btn')[_0x261e68(0x8be)](_0x3b58bd=>{const _0x5ce514=_0x261e68;if(_0x3b58bd[_0x5ce514(0x7f1)]['id']!==_0x4af8e6)_0x3b58bd[_0x5ce514(0x936)]['add']('opacity-50',_0x5ce514(0x948));});try{const _0x55acb1=new URL(_0x17e41a['url'])['pathname'],_0xaa1d8f=_0x55acb1[_0x261e68(0x2c6)](_0x55acb1[_0x261e68(0x5e2)]('/')+0x1)||(_0x17e41a[_0x261e68(0x80d)][_0x261e68(0x92b)]('.txt')?'file.txt':_0x261e68(0xae7)),_0x28b073=await fetchFileFromUrl(_0x17e41a['url'],_0xaa1d8f);_0x28b073[_0x261e68(0xa06)]=_0x4af8e6,selectedFile=_0x28b073,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x261e68(0x68c)]('file-input-area')[_0x261e68(0xb4e)]({'behavior':_0x261e68(0x302),'block':'center'});}catch(_0x4abe67){console[_0x261e68(0x4e5)](_0x261e68(0x501),_0x4abe67),showMessage('เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20'+_0x4abe67[_0x261e68(0x5f3)]),renderFileShortcuts();}finally{document[_0x261e68(0x9c3)](_0x261e68(0xad0))['forEach'](_0x598b98=>{const _0x3c26cd=_0x261e68;_0x598b98['classList'][_0x3c26cd(0x373)](_0x3c26cd(0x32b),_0x3c26cd(0x948)),_0x598b98[_0x3c26cd(0x376)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x2e4cad=_0x594c14;if(allQuizzesGlobal[_0x2e4cad(0x757)]>0x0)return;console[_0x2e4cad(0x3e0)](_0x2e4cad(0x9db)),showMessage(_0x2e4cad(0x54b));try{const _0x132fe9=await getDocs(collection(db,_0x2e4cad(0x632)+appId+_0x2e4cad(0x21f)));allQuizzesGlobal=_0x132fe9[_0x2e4cad(0x23c)][_0x2e4cad(0x345)](_0x5c09bc=>({'id':_0x5c09bc['id'],..._0x5c09bc[_0x2e4cad(0x21d)]()})),console[_0x2e4cad(0x3e0)](_0x2e4cad(0xbc2)+allQuizzesGlobal[_0x2e4cad(0x757)]+_0x2e4cad(0x327)),messageModal[_0x2e4cad(0x936)][_0x2e4cad(0x2de)]('hidden');}catch(_0x3d66e8){console[_0x2e4cad(0x4e5)](_0x2e4cad(0xb04),_0x3d66e8),messageModal[_0x2e4cad(0x936)]['add'](_0x2e4cad(0x1dc));throw new Error(_0x2e4cad(0xacc));}}function exportQuizAsWorksheetPDF(){const _0x241e64=_0x594c14;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x241e64(0x5d0));return;}const _0x53e512=currentQuizData,_0x23d398=window[_0x241e64(0x801)]('',_0x241e64(0x726)),_0x4f2ddc=_0x19031e=>String[_0x241e64(0x9d5)](0x41+_0x19031e),_0x3fed5c=_0x241e64(0x8dc)+_0x53e512[_0x241e64(0x72e)]+_0x241e64(0x914)+_0x53e512[_0x241e64(0x72e)]+_0x241e64(0x1e5)+_0x53e512[_0x241e64(0x72b)][_0x241e64(0x345)]((_0x51b541,_0x2dab17)=>{const _0x5b9bcc=_0x241e64;let _0x49dcef='';const _0x4c69f3=_0x51b541[_0x5b9bcc(0x7cd)]||_0x53e512[_0x5b9bcc(0x9c1)];switch(_0x4c69f3){case _0x5b9bcc(0x69d):case _0x5b9bcc(0x73d):_0x49dcef=_0x5b9bcc(0x416)+_0x51b541[_0x5b9bcc(0x9ac)]['map']((_0x4a8d61,_0x38ce30)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4f2ddc(_0x38ce30)+'.\x20'+_0x4a8d61+_0x5b9bcc(0x4de))[_0x5b9bcc(0x95f)](_0x5b9bcc(0xa8c))+_0x5b9bcc(0x93c);break;case _0x5b9bcc(0x8b0):_0x49dcef='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x49dcef=_0x5b9bcc(0x2cd);break;}return _0x5b9bcc(0x80a)+(_0x2dab17+0x1)+_0x5b9bcc(0xbdb)+(_0x51b541[_0x5b9bcc(0x346)]||_0x51b541[_0x5b9bcc(0x77a)])+_0x5b9bcc(0x362)+(_0x51b541['imageCode']?_0x5b9bcc(0x57b)+_0x51b541['imageCode']+_0x5b9bcc(0x93c):'')+_0x5b9bcc(0x354)+_0x49dcef+_0x5b9bcc(0xb0a);})['join']('')+_0x241e64(0x347);_0x23d398[_0x241e64(0x325)]['write'](_0x3fed5c),_0x23d398[_0x241e64(0x325)][_0x241e64(0x63e)](),_0x23d398[_0x241e64(0x4f6)]=function(){setTimeout(()=>{const _0x2ee1b2=_0x27d0;_0x23d398[_0x2ee1b2(0x816)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x451d1f=_0x594c14;if(!currentQuizData||!currentQuizData[_0x451d1f(0x72b)]){showMessage(_0x451d1f(0x5d0));return;}const _0x3a8512=currentQuizData,_0x21f351=window['open']('',_0x451d1f(0x726)),_0x15002f=_0x3d13a5=>String['fromCharCode'](0x41+_0x3d13a5),_0x59a2bc=_0x451d1f(0xb20)+_0x3a8512[_0x451d1f(0x72e)]+_0x451d1f(0xb96)+_0x3a8512[_0x451d1f(0x72b)][_0x451d1f(0x345)]((_0x590e54,_0xb8db4d)=>{const _0x57dabf=_0x451d1f;let _0x53cd9b='';const _0x4de1ea=_0x590e54[_0x57dabf(0x7cd)]||_0x3a8512['quizType'];switch(_0x4de1ea){case'multiple_choice':case _0x57dabf(0x73d):_0x53cd9b='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x590e54[_0x57dabf(0x9ac)][_0x57dabf(0x345)]((_0x205fc4,_0x11197e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x15002f(_0x11197e)+'.\x20'+_0x205fc4+_0x57dabf(0x392))['join'](_0x57dabf(0xa8c))+_0x57dabf(0x7ff);break;case _0x57dabf(0x8b0):_0x53cd9b=_0x57dabf(0x934);break;default:_0x53cd9b='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x3a8512[_0x57dabf(0x72e)]+_0x57dabf(0x932)+(_0xb8db4d+0x1)+_0x57dabf(0x4e8)+(_0x590e54[_0x57dabf(0x346)]||_0x590e54[_0x57dabf(0x77a)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x590e54[_0x57dabf(0x1c6)]?_0x57dabf(0x996)+_0x590e54['imageCode']+_0x57dabf(0x93c):'')+_0x57dabf(0x354)+_0x53cd9b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x451d1f(0x95f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x21f351[_0x451d1f(0x325)][_0x451d1f(0x526)](_0x59a2bc),_0x21f351[_0x451d1f(0x325)][_0x451d1f(0x63e)](),_0x21f351[_0x451d1f(0x4f6)]=function(){setTimeout(()=>{const _0x134a2e=_0x27d0;_0x21f351[_0x134a2e(0x816)]();},0x5dc);};}async function handleToggleStarQuiz(_0x17e5a7){const _0x2b8ffa=_0x594c14,_0x178714=doc(db,_0x2b8ffa(0x632)+appId+'/public/data/quizzes',_0x17e5a7);try{const _0x205281=await getDoc(_0x178714);if(_0x205281['exists']()){const _0x47f25e=_0x205281[_0x2b8ffa(0x21d)]()[_0x2b8ffa(0x60f)]||![];await updateDoc(_0x178714,{'isStarred':!_0x47f25e});}}catch(_0x2db313){console['error'](_0x2b8ffa(0x83b),_0x2db313),showMessage(_0x2b8ffa(0x87e));}}async function displayQuestionBank(){const _0x183a6d=_0x594c14,_0x56573f=document['getElementById'](_0x183a6d(0x428));_0x56573f[_0x183a6d(0xa0c)]=_0x183a6d(0xcb1);try{const _0x4b5236=collection(db,'artifacts/'+appId+_0x183a6d(0xbd5)+userId+_0x183a6d(0x884)),_0xb76cc9=query(_0x4b5236),_0x55526b=await getDocs(_0xb76cc9);if(_0x55526b['empty']){_0x56573f[_0x183a6d(0xa0c)]=_0x183a6d(0x211);return;}let _0xfd407d=_0x55526b['docs'][_0x183a6d(0x345)](_0x17ecad=>{const _0x54bc03=_0x183a6d,_0x2d93de=_0x17ecad['data'](),_0x55cde5=_0x17ecad['id'];return _0x54bc03(0x510)+JSON[_0x54bc03(0xace)](_0x2d93de)+_0x54bc03(0x769)+(_0x2d93de[_0x54bc03(0x77a)]||_0x2d93de[_0x54bc03(0x346)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x2d93de['originalTopic']+_0x54bc03(0x7b6);})[_0x183a6d(0x95f)]('');_0x56573f[_0x183a6d(0xa0c)]=_0x183a6d(0x4ea)+_0xfd407d+_0x183a6d(0x68a),document['getElementById'](_0x183a6d(0x3e7))[_0x183a6d(0x7a0)](_0x183a6d(0xc83),createQuizFromBank);}catch(_0x902aa6){console[_0x183a6d(0x4e5)](_0x183a6d(0xcd8),_0x902aa6),_0x56573f[_0x183a6d(0xa0c)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x3c5e06=_0x594c14,_0x4a9e00=document[_0x3c5e06(0x68c)](_0x3c5e06(0xc07)),_0x54847c=document[_0x3c5e06(0x68c)]('lesson-view-title')[_0x3c5e06(0xb4b)]||_0x3c5e06(0xa99);if(!_0x4a9e00){showMessage(_0x3c5e06(0x8c5));return;}const _0x1ead2e=window[_0x3c5e06(0x801)]('',_0x3c5e06(0x726)),_0x1bc975=_0x3c5e06(0x30f)+_0x54847c+_0x3c5e06(0x544)+_0x54847c+_0x3c5e06(0xb19)+_0x4a9e00[_0x3c5e06(0xa0c)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x1ead2e[_0x3c5e06(0x325)][_0x3c5e06(0x526)](_0x1bc975),_0x1ead2e[_0x3c5e06(0x325)][_0x3c5e06(0x63e)](),_0x1ead2e[_0x3c5e06(0x4f6)]=function(){setTimeout(()=>{const _0x43829d=_0x27d0;_0x1ead2e[_0x43829d(0x816)]();},0x7d0);};}function showAdminLiveQuestionView(_0x11ec63,_0x5c1faa,_0xbaaf0d){const _0x26ce82=_0x594c14,_0x3220f2=_0x11ec63[_0x26ce82(0x7cd)]||currentQuizData[_0x26ce82(0x9c1)];let _0xb5d7d5='';if(_0x3220f2===_0x26ce82(0x69d)||_0x3220f2==='true_false'){const _0xf2925c=_0x3220f2===_0x26ce82(0x8b0)?[_0x26ce82(0x3cc),_0x26ce82(0xcfb)]:_0x11ec63[_0x26ce82(0x9ac)],_0x2783a2=_0x3220f2===_0x26ce82(0x8b0)?_0x11ec63['correctAnswer']?0x0:0x1:_0x11ec63[_0x26ce82(0x671)];_0xb5d7d5=_0xf2925c[_0x26ce82(0x345)]((_0x4bfdc7,_0x1df55f)=>_0x26ce82(0xb36)+(_0x1df55f===_0x2783a2)+_0x26ce82(0x4ee)+_0x4bfdc7+_0x26ce82(0xccf))[_0x26ce82(0x95f)]('');}else{if(_0x3220f2==='matching_item'){const _0x3778dc=_0x11ec63[_0x26ce82(0xcf5)]||[];_0xb5d7d5=_0x3778dc['map'](_0xc7b8ca=>_0x26ce82(0xb36)+(_0xc7b8ca===_0x11ec63['correctResponse'])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc7b8ca+_0x26ce82(0xccf))['join']('');}}const _0x1b4276=_0x11ec63[_0x26ce82(0x346)]||_0x11ec63[_0x26ce82(0x77a)],_0x44db28=_0x26ce82(0x460)+(_0x5c1faa+0x1)+_0x26ce82(0x431)+_0xbaaf0d+_0x26ce82(0xbfe)+currentLiveGamePin+_0x26ce82(0x9ff)+_0x1b4276+_0x26ce82(0xa3a)+_0xb5d7d5+_0x26ce82(0xc6c);liveGameView[_0x26ce82(0xa0c)]=_0x44db28,window[_0x26ce82(0x8e9)]&&MathJax[_0x26ce82(0x2e2)]&&MathJax[_0x26ce82(0x2e2)]([liveGameView]),document['getElementById'](_0x26ce82(0x6ec))[_0x26ce82(0x7a0)](_0x26ce82(0xc83),()=>revealAnswerForAdmin(_0x5c1faa,_0xbaaf0d)),document[_0x26ce82(0x68c)](_0x26ce82(0x641))[_0x26ce82(0x7a0)](_0x26ce82(0xc83),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x2a246a=_0x27d0,_0x4f1134=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x4f1134,{'status':_0x2a246a(0x3b2)});});}),document[_0x26ce82(0x68c)]('manage-players-btn')[_0x26ce82(0x7a0)](_0x26ce82(0xc83),()=>{const _0x2edb90=_0x26ce82;document['getElementById'](_0x2edb90(0x5af))['classList']['toggle'](_0x2edb90(0x1dc));});}function promptForProjectBeforeGenerating(_0x3bf977){const _0x4d05a9=_0x594c14,_0x450d67=document['getElementById']('move-quiz-modal'),_0x4547ec=document[_0x4d05a9(0x68c)]('move-quiz-project-select'),_0x4bb8d1=_0x450d67[_0x4d05a9(0x817)]('h3'),_0x5deaa7=document['getElementById'](_0x4d05a9(0xcb0)),_0x223738=document[_0x4d05a9(0x68c)](_0x4d05a9(0x9f7));_0x4bb8d1[_0x4d05a9(0xb4b)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x5deaa7[_0x4d05a9(0xb4b)]='เลือกและเริ่มสร้าง',_0x5deaa7[_0x4d05a9(0x376)]=!![];allProjects['length']===0x0?_0x4547ec[_0x4d05a9(0xa0c)]=_0x4d05a9(0x4f1):(_0x4547ec[_0x4d05a9(0xa0c)]=_0x4d05a9(0xa92)+allProjects[_0x4d05a9(0x345)](_0x3cf940=>_0x4d05a9(0x4a8)+_0x3cf940['id']+'\x22>'+_0x3cf940[_0x4d05a9(0xbc1)]+'</option>')[_0x4d05a9(0x95f)](''),_0x5deaa7[_0x4d05a9(0x376)]=![]);_0x450d67['classList'][_0x4d05a9(0x373)](_0x4d05a9(0x1dc));const _0x5a4351=async()=>{const _0x45b7fe=_0x4d05a9,_0x135171=_0x4547ec[_0x45b7fe(0x9a1)];if(!_0x135171){showMessage(_0x45b7fe(0xae0));return;}_0x450d67[_0x45b7fe(0x936)][_0x45b7fe(0x2de)](_0x45b7fe(0x1dc)),await loadProjectDetails(_0x135171),showView(_0x45b7fe(0x6ab)),handleGenerateQuizFromBlueprintTopic(_0x3bf977),_0xc96f4a();},_0xc96f4a=()=>{const _0x19193e=_0x4d05a9;_0x4bb8d1[_0x19193e(0xb4b)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x5deaa7[_0x19193e(0xb4b)]=_0x19193e(0x2fe),_0x5deaa7[_0x19193e(0xbb8)](_0x19193e(0xc83),_0x5a4351),_0x223738['removeEventListener'](_0x19193e(0xc83),_0xc96f4a),_0x5deaa7[_0x19193e(0x7a0)](_0x19193e(0xc83),confirmMoveQuiz);};_0x5deaa7[_0x4d05a9(0xbb8)](_0x4d05a9(0xc83),confirmMoveQuiz),_0x5deaa7['addEventListener'](_0x4d05a9(0xc83),_0x5a4351),_0x223738[_0x4d05a9(0x7a0)](_0x4d05a9(0xc83),_0xc96f4a);}function showStudentLiveQuestionView(_0x102570,_0x7eaeac,_0x59a559){const _0x1809b2=_0x594c14,_0x52c816=_0x102570[_0x1809b2(0x7cd)]||currentQuizData['quizType'];let _0xd9c7b4='';if(_0x52c816===_0x1809b2(0x69d)||_0x52c816===_0x1809b2(0x8b0)){const _0x5224e5=_0x52c816===_0x1809b2(0x8b0)?[_0x1809b2(0x3cc),'ไม่ใช่']:_0x102570['options'];_0xd9c7b4=_0x5224e5[_0x1809b2(0x345)]((_0xa27171,_0x6b0d79)=>_0x1809b2(0x391)+_0x6b0d79+_0x1809b2(0x52a)+_0xa27171+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else{if(_0x52c816===_0x1809b2(0x37f)){const _0x20362e=_0x102570[_0x1809b2(0xcf5)]||[];_0xd9c7b4=_0x20362e['map']((_0x4e267d,_0x3b3e88)=>_0x1809b2(0x391)+_0x3b3e88+_0x1809b2(0x52a)+_0x4e267d+_0x1809b2(0x85b))[_0x1809b2(0x95f)]('');}else _0x52c816===_0x1809b2(0xa97)&&(_0xd9c7b4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x9b97f=_0x102570['stem']||_0x102570[_0x1809b2(0x77a)],_0x5c4b05='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x7eaeac+0x1)+_0x1809b2(0x431)+_0x59a559+_0x1809b2(0x3bf)+_0x9b97f+_0x1809b2(0x737)+_0xd9c7b4+_0x1809b2(0xcaa);liveGameView[_0x1809b2(0xa0c)]=_0x5c4b05;window[_0x1809b2(0x8e9)]&&MathJax[_0x1809b2(0x2e2)]&&MathJax['typesetPromise']([liveGameView]);const _0x24243d=document[_0x1809b2(0x68c)](_0x1809b2(0x303));_0x24243d&&_0x24243d[_0x1809b2(0x7a0)](_0x1809b2(0xc83),()=>{const _0x1776d4=_0x1809b2,_0x5597f=document[_0x1776d4(0x68c)](_0x1776d4(0xa4d))['value'];handleLiveAnswer(_0x5597f,_0x102570);}),document['getElementById']('live-options-container')['addEventListener'](_0x1809b2(0xc83),_0x42994c=>{const _0x5f2a13=_0x1809b2,_0xb3639c=_0x42994c[_0x5f2a13(0x221)][_0x5f2a13(0x50f)](_0x5f2a13(0x4b7));if(_0xb3639c){const _0x50cc1b=parseInt(_0xb3639c[_0x5f2a13(0x7f1)][_0x5f2a13(0x258)]);handleLiveAnswer(_0x50cc1b,_0x102570);}});}function listenForBlueprintShortcuts(){const _0x33b774=_0x594c14,_0x32a326=doc(db,'globalSettings',_0x33b774(0x4bd));onSnapshot(_0x32a326,_0x6512ea=>{const _0x282fc6=_0x33b774;let _0x37b2e6=[],_0x2717df=[],_0x3903de={};if(_0x6512ea[_0x282fc6(0x367)]()){const _0x4d8530=_0x6512ea[_0x282fc6(0x21d)]();_0x37b2e6=_0x4d8530[_0x282fc6(0xc36)]||[],_0x2717df=_0x4d8530[_0x282fc6(0x810)]||[],_0x3903de=_0x4d8530[_0x282fc6(0xc27)]||{};}!_0x2717df['find'](_0x4d1fcf=>_0x4d1fcf['id']==='all')&&_0x2717df[_0x282fc6(0x427)]({'id':_0x282fc6(0xd2b),'name':_0x282fc6(0x240),'isDefault':!![]}),!_0x37b2e6['find'](_0x2496d2=>_0x2496d2['id']===_0x282fc6(0x9aa))&&_0x37b2e6['unshift']({'id':'default-1','name':_0x282fc6(0x649),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x37b2e6['find'](_0x45cdcb=>_0x45cdcb['id']==='default-2')&&_0x37b2e6[_0x282fc6(0x427)]({'id':_0x282fc6(0x76d),'name':'Blueprint\x202','blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x37b2e6,shortcutTabs=_0x2717df,shortcutOrder=_0x3903de,renderBlueprintShortcuts(),!document[_0x282fc6(0x68c)](_0x282fc6(0x8d1))[_0x282fc6(0x936)]['contains'](_0x282fc6(0x1dc))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x31cce8=_0x594c14,_0x3c4d7a=document[_0x31cce8(0x68c)](_0x31cce8(0x970)),_0x2d7ad7=document[_0x31cce8(0x68c)](_0x31cce8(0xbaf));if(!_0x3c4d7a||!_0x2d7ad7)return;_0x3c4d7a[_0x31cce8(0xa0c)]=shortcutTabs[_0x31cce8(0x345)](_0x2bab3e=>{const _0x574bd3=_0x31cce8,_0x2813f6=_0x2bab3e['id']===activeShortcutTabId,_0xef36ff=_0x574bd3(0x506),_0x50b46b=_0x574bd3(0x9dc);return _0x574bd3(0x207)+_0x2bab3e['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x2813f6?_0xef36ff:_0x50b46b)+_0x574bd3(0x2df)+_0x2bab3e[_0x574bd3(0xb31)]+_0x574bd3(0x5d3)+_0x2bab3e['name']+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2bab3e[_0x574bd3(0xc28)]?_0x574bd3(0x1de)+_0x2bab3e['id']+_0x574bd3(0x68b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x31cce8(0x95f)]('');const _0x2d1aba=shortcutTabs[_0x31cce8(0xad3)](_0x42da42=>_0x42da42['id']===activeShortcutTabId);let _0x24a472=[];if(_0x2d1aba){if(_0x2d1aba['isDefault'])_0x24a472=[...blueprintShortcuts];else{const _0x431827=_0x2d1aba[_0x31cce8(0x5b3)]||[];_0x24a472=blueprintShortcuts['filter'](_0x3b5335=>_0x431827[_0x31cce8(0x92b)](_0x3b5335['id']));}}const _0x7cec45=shortcutOrder[activeShortcutTabId]||[];_0x24a472[_0x31cce8(0x387)]((_0x1b65d1,_0x192dba)=>{const _0x32f665=_0x31cce8,_0x1b52df=_0x7cec45[_0x32f665(0xbb1)](_0x1b65d1['id']),_0x22909f=_0x7cec45['indexOf'](_0x192dba['id']);if(_0x1b52df===-0x1)return 0x1;if(_0x22909f===-0x1)return-0x1;return _0x1b52df-_0x22909f;}),_0x2d7ad7['innerHTML']=_0x24a472[_0x31cce8(0x757)]>0x0?_0x24a472[_0x31cce8(0x345)](_0x4d4439=>{const _0x50dfe4=_0x31cce8;let _0x2ec555='🧩';if(_0x4d4439[_0x50dfe4(0x830)]&&_0x4d4439[_0x50dfe4(0xb5a)])_0x2ec555='📗';else{if(_0x4d4439[_0x50dfe4(0x830)])_0x2ec555='📘';}const _0x40c4d9=shortcutTabs[_0x50dfe4(0x298)](_0x5145ff=>!_0x5145ff[_0x50dfe4(0xc28)]),_0x5ac294=_0x2d1aba[_0x50dfe4(0xc28)]&&_0x40c4d9[_0x50dfe4(0x757)]>0x0?'\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40c4d9[_0x50dfe4(0x345)](_0x33e263=>_0x50dfe4(0x800)+_0x4d4439['id']+_0x50dfe4(0xc64)+_0x33e263['id']+'\x22>'+_0x33e263[_0x50dfe4(0xb31)]+_0x50dfe4(0xa28))[_0x50dfe4(0x95f)]('')+_0x50dfe4(0x6f6):'';return _0x50dfe4(0x33f)+_0x4d4439['id']+_0x50dfe4(0x58f)+_0x2ec555+'\x20'+_0x4d4439[_0x50dfe4(0xb31)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4d4439['id']+_0x50dfe4(0x2da)+_0x4d4439['id']+_0x50dfe4(0x42a)+(!_0x4d4439[_0x50dfe4(0xc28)]?'<button\x20data-id=\x22'+_0x4d4439['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x50dfe4(0x695)+(!_0x2d1aba[_0x50dfe4(0xc28)]?'<button\x20data-shortcut-id=\x22'+_0x4d4439['id']+_0x50dfe4(0xcc8):'')+_0x50dfe4(0x695)+_0x5ac294+_0x50dfe4(0x194);})['join'](''):_0x31cce8(0x368),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x1a71cb=_0x594c14;document[_0x1a71cb(0x9c3)]('.shortcut-tab-btn')[_0x1a71cb(0x8be)](_0x48acc6=>{const _0x5c5ecb=_0x1a71cb;_0x48acc6['addEventListener']('click',_0xe94bf5=>{const _0x4fbfe7=_0x27d0;activeShortcutTabId=_0xe94bf5['currentTarget'][_0x4fbfe7(0x7f1)][_0x4fbfe7(0x52f)],renderAdditionalShortcutsModal();}),_0x48acc6[_0x5c5ecb(0x7a0)](_0x5c5ecb(0xb00),_0x493e56=>{const _0x5aeb03=_0x5c5ecb,_0x7de298=_0x493e56[_0x5aeb03(0x35b)];_0x7de298[_0x5aeb03(0x817)](_0x5aeb03(0x4d0))[_0x5aeb03(0x936)][_0x5aeb03(0x2de)](_0x5aeb03(0x1dc));const _0x50b29a=_0x7de298[_0x5aeb03(0x817)](_0x5aeb03(0x6f9));_0x50b29a[_0x5aeb03(0x936)][_0x5aeb03(0x373)](_0x5aeb03(0x1dc)),_0x50b29a[_0x5aeb03(0x49f)](),_0x50b29a['select']();});}),document[_0x1a71cb(0x9c3)](_0x1a71cb(0x6f9))[_0x1a71cb(0x8be)](_0x37290d=>{const _0x33214f=_0x1a71cb,_0x11fa63=()=>{const _0x487fc1=_0x27d0,_0x196647=_0x37290d[_0x487fc1(0x50f)](_0x487fc1(0xd04))[_0x487fc1(0x7f1)]['tabId'];handleRenameShortcutTab(_0x196647,_0x37290d[_0x487fc1(0x9a1)]);};_0x37290d['addEventListener'](_0x33214f(0x532),_0x11fa63),_0x37290d[_0x33214f(0x7a0)](_0x33214f(0x966),_0x259ff4=>{const _0x484c11=_0x33214f;if(_0x259ff4[_0x484c11(0x624)]===_0x484c11(0xc75))_0x37290d['blur']();});}),document[_0x1a71cb(0x9c3)](_0x1a71cb(0x33b))[_0x1a71cb(0x8be)](_0x511c7c=>{const _0x366845=_0x1a71cb;_0x511c7c[_0x366845(0x7a0)](_0x366845(0xc83),_0x1665c1=>handleDeleteShortcutTab(_0x1665c1[_0x366845(0x35b)]['dataset'][_0x366845(0x52f)]));}),document[_0x1a71cb(0x9c3)]('.move-shortcut-item')[_0x1a71cb(0x8be)](_0x3460bc=>{const _0x1ee5b7=_0x1a71cb;_0x3460bc[_0x1ee5b7(0x7a0)](_0x1ee5b7(0xc83),_0x2fb159=>{const _0x32d744=_0x1ee5b7;_0x2fb159['preventDefault']();const {shortcutId:_0x50e586,targetTabId:_0x5a526a}=_0x2fb159['currentTarget'][_0x32d744(0x7f1)];handleMoveShortcutToTab(_0x50e586,_0x5a526a);});}),document[_0x1a71cb(0x9c3)](_0x1a71cb(0xc9b))[_0x1a71cb(0x8be)](_0x4b871d=>{const _0x51ade8=_0x1a71cb;_0x4b871d['addEventListener'](_0x51ade8(0xc83),_0x41cc4b=>{const _0x561f5c=_0x51ade8;handleRemoveShortcutFromTab(_0x41cc4b[_0x561f5c(0x35b)][_0x561f5c(0x7f1)][_0x561f5c(0xa06)],activeShortcutTabId);});});const _0x11b62c=document[_0x1a71cb(0x68c)](_0x1a71cb(0xbaf));_0x11b62c['querySelectorAll'](_0x1a71cb(0x873))[_0x1a71cb(0x8be)](_0x2aa833=>{const _0x5e007f=_0x1a71cb;_0x2aa833[_0x5e007f(0x7a0)]('click',()=>{const _0x11c6e2=_0x5e007f;document['getElementById'](_0x11c6e2(0x8d1))[_0x11c6e2(0x936)][_0x11c6e2(0x2de)](_0x11c6e2(0x1dc)),handleShortcutClick(_0x2aa833[_0x11c6e2(0x7f1)]['id']);});});let _0x275b36=null;_0x11b62c[_0x1a71cb(0x7a0)](_0x1a71cb(0xc9e),_0x53da68=>{const _0xb1daa1=_0x1a71cb;_0x275b36=_0x53da68[_0xb1daa1(0x221)][_0xb1daa1(0x50f)]('.shortcut-list-item'),_0x275b36&&setTimeout(()=>_0x275b36[_0xb1daa1(0x936)]['add'](_0xb1daa1(0x32b)),0x0);}),_0x11b62c[_0x1a71cb(0x7a0)](_0x1a71cb(0x945),()=>{const _0x4ad5a6=_0x1a71cb;_0x275b36&&(_0x275b36['classList']['remove'](_0x4ad5a6(0x32b)),_0x275b36=null);}),_0x11b62c['addEventListener'](_0x1a71cb(0xba8),_0x264780=>{const _0x3df619=_0x1a71cb;_0x264780[_0x3df619(0xc55)]();const _0x562142=[..._0x11b62c[_0x3df619(0x9c3)](_0x3df619(0x8f4))][_0x3df619(0x658)]((_0xbb2d7a,_0x599c73)=>{const _0x403765=_0x3df619,_0x134600=_0x599c73['getBoundingClientRect'](),_0x194ecf=_0x264780['clientY']-_0x134600[_0x403765(0xd08)]-_0x134600[_0x403765(0x33a)]/0x2;return _0x194ecf<0x0&&_0x194ecf>_0xbb2d7a[_0x403765(0x516)]?{'offset':_0x194ecf,'element':_0x599c73}:_0xbb2d7a;},{'offset':Number['NEGATIVE_INFINITY']})[_0x3df619(0x924)];_0x562142==null?_0x11b62c[_0x3df619(0x745)](_0x275b36):_0x11b62c[_0x3df619(0x509)](_0x275b36,_0x562142);}),_0x11b62c[_0x1a71cb(0x7a0)](_0x1a71cb(0x2ff),_0x11f417=>{const _0x201c19=_0x1a71cb;_0x11f417['preventDefault']();if(_0x275b36){const _0x1ed7c4=[..._0x11b62c['querySelectorAll']('.shortcut-list-item')][_0x201c19(0x345)](_0x4af2cb=>_0x4af2cb['dataset'][_0x201c19(0xa06)]);handleShortcutOrderChange(activeShortcutTabId,_0x1ed7c4);}}),document[_0x1a71cb(0x9c3)]('.move-shortcut-menu-btn')[_0x1a71cb(0x8be)](_0x3e6515=>{const _0x3b17c4=_0x1a71cb;_0x3e6515[_0x3b17c4(0x7a0)](_0x3b17c4(0xc83),_0x15ce40=>{const _0x503d7b=_0x3b17c4;_0x15ce40[_0x503d7b(0x6a2)]();const _0x4b39b1=_0x15ce40[_0x503d7b(0x35b)][_0x503d7b(0x5f4)],_0x19428c=_0x4b39b1['classList'][_0x503d7b(0x28e)]('hidden');document[_0x503d7b(0x9c3)](_0x503d7b(0x7be))['forEach'](_0x1c8a04=>_0x1c8a04[_0x503d7b(0x936)][_0x503d7b(0x2de)](_0x503d7b(0x1dc))),_0x19428c&&_0x4b39b1[_0x503d7b(0x936)]['remove'](_0x503d7b(0x1dc));});});}document[_0x594c14(0x7a0)]('click',_0x3e7a4d=>{const _0x1304a4=_0x594c14;!_0x3e7a4d[_0x1304a4(0x221)]['closest'](_0x1304a4(0x9a8))&&document[_0x1304a4(0x9c3)](_0x1304a4(0x7be))[_0x1304a4(0x8be)](_0x8982b7=>_0x8982b7[_0x1304a4(0x936)][_0x1304a4(0x2de)](_0x1304a4(0x1dc)));});async function saveShortcutConfig(){const _0x4144e6=_0x594c14,_0x530070=doc(db,_0x4144e6(0xbb0),_0x4144e6(0x4bd));try{await setDoc(_0x530070,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x540310){console[_0x4144e6(0x4e5)](_0x4144e6(0x792),_0x540310);}}async function handleAddShortcutTab(){const _0x1c71f7=_0x594c14,_0x1bd2fb=prompt(_0x1c71f7(0x2c5),_0x1c71f7(0x5ca));if(!_0x1bd2fb||_0x1bd2fb['trim']()==='')return;shortcutTabs['push']({'id':'tab_'+Date['now'](),'name':_0x1bd2fb[_0x1c71f7(0x99c)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x1ddb88,_0x5cb9f6){const _0x4bf4c1=_0x594c14,_0x40189c=shortcutTabs[_0x4bf4c1(0xad3)](_0x580167=>_0x580167['id']===_0x1ddb88);_0x40189c&&_0x5cb9f6['trim']()!==''&&(_0x40189c[_0x4bf4c1(0xb31)]=_0x5cb9f6[_0x4bf4c1(0x99c)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x9a43e1){const _0x3d43a6=_0x594c14,_0x27942d=shortcutTabs[_0x3d43a6(0xad3)](_0x4fab43=>_0x4fab43['id']===_0x9a43e1);_0x27942d&&!_0x27942d[_0x3d43a6(0xc28)]&&showConfirmation('คุณแน่ใจว่าต้องการลบแท็บ\x20\x22'+_0x27942d[_0x3d43a6(0xb31)]+'\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)',async()=>{const _0x45338e=_0x3d43a6;shortcutTabs=shortcutTabs[_0x45338e(0x298)](_0x14d927=>_0x14d927['id']!==_0x9a43e1),delete shortcutOrder[_0x9a43e1];if(activeShortcutTabId===_0x9a43e1)activeShortcutTabId=_0x45338e(0xd2b);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x54745a,_0x39fef7){const _0x4ccf6b=_0x594c14,_0x579a5b=shortcutTabs[_0x4ccf6b(0xad3)](_0x5ddb63=>_0x5ddb63['id']===_0x39fef7);_0x579a5b&&!_0x579a5b[_0x4ccf6b(0x5b3)][_0x4ccf6b(0x92b)](_0x54745a)&&(_0x579a5b['shortcutIds']['push'](_0x54745a),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x5f4159,_0x28a3bc){const _0x4090e4=_0x594c14,_0x3f4588=shortcutTabs[_0x4090e4(0xad3)](_0x5bd0d2=>_0x5bd0d2['id']===_0x28a3bc);_0x3f4588&&!_0x3f4588['isDefault']&&(_0x3f4588[_0x4090e4(0x5b3)]=_0x3f4588['shortcutIds'][_0x4090e4(0x298)](_0x4871ad=>_0x4871ad!==_0x5f4159),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x13fa00,_0x2eda3e){shortcutOrder[_0x13fa00]=_0x2eda3e,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x303319=_0x594c14,_0x12ecd9=document[_0x303319(0x68c)](_0x303319(0x340)),_0x21ae64=document[_0x303319(0x68c)](_0x303319(0xbaf)),_0x300d8c=document[_0x303319(0x68c)](_0x303319(0xb06));_0x300d8c&&_0x300d8c[_0x303319(0x936)][_0x303319(0x2de)](_0x303319(0x1dc));if(!_0x12ecd9||!_0x21ae64)return;const _0x5c708b=blueprintShortcuts[_0x303319(0xc6f)](0x0,0x4),_0x1d21b8=blueprintShortcuts[_0x303319(0xc6f)](0x4);_0x12ecd9[_0x303319(0xa0c)]=_0x5c708b[_0x303319(0x345)](_0x5bf801=>{const _0x56f0c4=_0x303319;let _0x170eb5=_0x56f0c4(0xa50),_0x503400='🧩';if(_0x5bf801[_0x56f0c4(0x830)]&&_0x5bf801[_0x56f0c4(0xb5a)])_0x170eb5=_0x56f0c4(0x7ea),_0x503400='📗';else _0x5bf801[_0x56f0c4(0x830)]&&(_0x170eb5=_0x56f0c4(0x75e),_0x503400='📘');const _0x4f66de=!_0x5bf801[_0x56f0c4(0xc28)]?'<button\x20data-id=\x22'+_0x5bf801['id']+_0x56f0c4(0x5e1):'';return _0x56f0c4(0x3d1)+_0x5bf801['id']+_0x56f0c4(0x9fd)+_0x170eb5+_0x56f0c4(0x55b)+_0x503400+'\x20'+_0x5bf801[_0x56f0c4(0xb31)]+_0x56f0c4(0x8fe)+_0x5bf801['id']+_0x56f0c4(0xa21)+_0x4f66de+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x303319(0x95f)](''),_0x1d21b8[_0x303319(0x757)]>0x0&&(_0x12ecd9['innerHTML']+=_0x303319(0xa95)),_0x1d21b8[_0x303319(0x757)]>0x0?_0x21ae64[_0x303319(0xa0c)]=_0x1d21b8[_0x303319(0x345)](_0x2fd75c=>{const _0x2195af=_0x303319;let _0x1a1e99='🧩';if(_0x2fd75c['blueprintUrl']&&_0x2fd75c[_0x2195af(0xb5a)])_0x1a1e99='📗';else _0x2fd75c['blueprintUrl']&&(_0x1a1e99='📘');return _0x2195af(0x2bb)+_0x1a1e99+'\x20'+_0x2fd75c['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2fd75c['id']+_0x2195af(0x2da)+_0x2fd75c['id']+_0x2195af(0x42a)+(!_0x2fd75c['isDefault']?'<button\x20data-id=\x22'+_0x2fd75c['id']+_0x2195af(0x2bd):'')+_0x2195af(0xa62);})[_0x303319(0x95f)](''):_0x21ae64['innerHTML']=_0x303319(0x4cc);}function getMimeTypeFromFilename(_0x1baa4d){const _0x2dc7ff=_0x594c14,_0x48fe07=_0x1baa4d[_0x2dc7ff(0x1c1)]('.')[_0x2dc7ff(0x313)]()[_0x2dc7ff(0x986)]();switch(_0x48fe07){case _0x2dc7ff(0x22f):return _0x2dc7ff(0xd29);case _0x2dc7ff(0x483):return _0x2dc7ff(0xb47);default:return'application/pdf';}}function openShortcutEditor(_0x33eaf1=null){const _0x4abe06=_0x594c14,_0x4c680b=document['getElementById'](_0x4abe06(0x1b1)),_0x202c71=document[_0x4abe06(0x68c)](_0x4abe06(0x45d)),_0x5682f4=document[_0x4abe06(0x68c)](_0x4abe06(0x822)),_0x5845c5=document[_0x4abe06(0x68c)](_0x4abe06(0x4be)),_0x22f9cd=document[_0x4abe06(0x68c)](_0x4abe06(0x206)),_0x9e9015=document[_0x4abe06(0x68c)]('shortcut-reference-url-input');if(_0x33eaf1){const _0x3f2540=blueprintShortcuts[_0x4abe06(0xad3)](_0xe70c64=>_0xe70c64['id']===_0x33eaf1);if(!_0x3f2540)return;_0x202c71['textContent']=_0x4abe06(0x486),_0x5682f4[_0x4abe06(0x9a1)]=_0x3f2540['id'],_0x5845c5[_0x4abe06(0x9a1)]=_0x3f2540[_0x4abe06(0xb31)],_0x22f9cd['value']=_0x3f2540['blueprintUrl']||'',_0x9e9015[_0x4abe06(0x9a1)]=_0x3f2540[_0x4abe06(0xb5a)]||'';}else _0x202c71[_0x4abe06(0xb4b)]=_0x4abe06(0xb49),_0x5682f4[_0x4abe06(0x9a1)]='',_0x5845c5[_0x4abe06(0x9a1)]='',_0x22f9cd[_0x4abe06(0x9a1)]='',_0x9e9015[_0x4abe06(0x9a1)]='';_0x4c680b['classList'][_0x4abe06(0x373)]('hidden');}async function saveShortcutChanges(){const _0x13f3e0=_0x594c14,_0x163a7d=document[_0x13f3e0(0x68c)]('shortcut-id-input')[_0x13f3e0(0x9a1)],_0x108fac=document[_0x13f3e0(0x68c)](_0x13f3e0(0x4be))[_0x13f3e0(0x9a1)][_0x13f3e0(0x99c)](),_0x2e1837=document['getElementById'](_0x13f3e0(0x206))['value'][_0x13f3e0(0x99c)]();if(!_0x108fac||!_0x2e1837){showMessage(_0x13f3e0(0x5ab));return;}const _0x5e6f45={'id':_0x163a7d||_0x13f3e0(0x24a)+Date[_0x13f3e0(0x708)](),'name':_0x108fac,'blueprintUrl':_0x2e1837,'referenceUrl':document['getElementById'](_0x13f3e0(0x96f))[_0x13f3e0(0x9a1)][_0x13f3e0(0x99c)](),'isDefault':_0x163a7d[_0x13f3e0(0x997)](_0x13f3e0(0x684))};let _0x3a77a2;_0x163a7d?_0x3a77a2=blueprintShortcuts[_0x13f3e0(0x345)](_0x3fe3c4=>_0x3fe3c4['id']===_0x163a7d?_0x5e6f45:_0x3fe3c4):_0x3a77a2=[...blueprintShortcuts,_0x5e6f45];try{const _0x27ec01=doc(db,'globalSettings',_0x13f3e0(0x4bd));await setDoc(_0x27ec01,{'blueprintShortcuts':_0x3a77a2},{'merge':!![]}),document[_0x13f3e0(0x68c)](_0x13f3e0(0x1b1))[_0x13f3e0(0x936)][_0x13f3e0(0x2de)]('hidden');}catch(_0x5a0dc6){console['error'](_0x13f3e0(0x89a),_0x5a0dc6),showMessage(_0x13f3e0(0x949));}}async function handleShortcutClick(_0x26cc82){const _0x2b3b90=_0x594c14,_0x17a421=blueprintShortcuts[_0x2b3b90(0xad3)](_0x5b6cda=>_0x5b6cda['id']===_0x26cc82);if(!_0x17a421||!_0x17a421['blueprintUrl'])return;document[_0x2b3b90(0x68c)]('blueprint-options-container')['classList'][_0x2b3b90(0x2de)](_0x2b3b90(0x1dc)),document[_0x2b3b90(0x68c)](_0x2b3b90(0x6ea))[_0x2b3b90(0x376)]=!![];const _0x140368=document[_0x2b3b90(0x68c)](_0x2b3b90(0xcbf)),_0x27bd59=document[_0x2b3b90(0x68c)](_0x2b3b90(0x84a));document[_0x2b3b90(0x68c)]('quiz-generation-area')[_0x2b3b90(0x936)]['remove'](_0x2b3b90(0x1dc)),document['getElementById']('generated-quiz-container')[_0x2b3b90(0xa0c)]='',_0x140368[_0x2b3b90(0x936)][_0x2b3b90(0x373)](_0x2b3b90(0x1dc));try{_0x27bd59[_0x2b3b90(0xb4b)]=_0x2b3b90(0xb88);const _0x495d8e=await fetchFileFromUrl(_0x17a421[_0x2b3b90(0x830)],_0x2b3b90(0x8cd));let _0x264722=null;if(_0x17a421[_0x2b3b90(0xb5a)]){_0x27bd59[_0x2b3b90(0xb4b)]='กำลังดึงไฟล์อ้างอิงจากลิงก์...';const _0x1fc6c8=_0x17a421[_0x2b3b90(0xb5a)][_0x2b3b90(0x986)]()['endsWith']('.txt')?'reference.txt':_0x2b3b90(0x6b4);_0x264722=await fetchFileFromUrl(_0x17a421['referenceUrl'],_0x1fc6c8);}await handleGenerateFromBlueprintWithFiles(_0x495d8e,_0x264722);}catch(_0x4c55c4){console[_0x2b3b90(0x4e5)](_0x2b3b90(0x343),_0x4c55c4),showMessage(_0x2b3b90(0x3ea)+_0x4c55c4['message']),_0x140368[_0x2b3b90(0x936)][_0x2b3b90(0x2de)]('hidden');}}function getDirectDownloadUrl(_0x2edda4){const _0x43b53f=_0x594c14,_0xd5af9b=_0x2edda4[_0x43b53f(0x28b)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0xd5af9b&&_0xd5af9b[0x1])return _0x43b53f(0x1a8)+_0xd5af9b[0x1];return _0x2edda4;}async function fetchFileFromUrl(_0x411fae,_0x39cb64){const _0x569285=_0x594c14,_0x24949d=getDirectDownloadUrl(_0x411fae),_0x23546b='https://corsproxy.io/?'+encodeURIComponent(_0x24949d),_0x1142c1=await fetch(_0x23546b);if(!_0x1142c1['ok'])throw new Error('ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20'+_0x1142c1[_0x569285(0xb9c)]+')');const _0x449426=await _0x1142c1[_0x569285(0x396)](),_0x2ecd81=await new Promise((_0x53ac7b,_0x466593)=>{const _0x422bfc=_0x569285,_0x228a7b=new FileReader();_0x228a7b[_0x422bfc(0x738)]=()=>_0x53ac7b(new Uint8Array(_0x228a7b[_0x422bfc(0x38f)])),_0x228a7b['onerror']=_0x466593,_0x228a7b[_0x422bfc(0xba3)](_0x449426['slice'](0x0,0x4));});let _0x560c00='';const _0x2c492a=new TextDecoder()[_0x569285(0x4e0)](_0x2ecd81);return _0x2c492a===_0x569285(0xb48)?(_0x560c00=_0x569285(0xd29),console['log'](_0x569285(0x5ae))):(_0x560c00=_0x569285(0xb47),console[_0x569285(0x3e0)](_0x569285(0x3a4))),new File([_0x449426],_0x39cb64,{'type':_0x560c00});}async function handleGenerateFromBlueprintWithFiles(_0x5a2787,_0x3ba4b6=null){const _0x521a90=_0x594c14;if(!_0x5a2787){showMessage('ไม่พบไฟล์\x20Test\x20Blueprint');return;}const _0x52745b=document[_0x521a90(0x68c)](_0x521a90(0xcbf)),_0x199003=document[_0x521a90(0x68c)](_0x521a90(0x84a));_0x52745b[_0x521a90(0x936)][_0x521a90(0x373)](_0x521a90(0x1dc)),document[_0x521a90(0x68c)](_0x521a90(0x575))[_0x521a90(0x936)][_0x521a90(0x373)](_0x521a90(0x1dc)),document[_0x521a90(0x68c)](_0x521a90(0x84b))['innerHTML']='';try{_0x199003[_0x521a90(0xb4b)]=_0x521a90(0x88a);const _0x4010b0=await new Promise((_0x3c2b7f,_0x74c35e)=>{const _0x26a76d=_0x521a90,_0x4b583f=new FileReader();_0x4b583f[_0x26a76d(0xb25)](_0x5a2787),_0x4b583f['onload']=()=>_0x3c2b7f(_0x4b583f[_0x26a76d(0x38f)][_0x26a76d(0x1c1)](',')[0x1]),_0x4b583f[_0x26a76d(0xb91)]=_0x74c35e;}),_0xc062e7=[];if(_0x3ba4b6){_0x199003['textContent']=_0x521a90(0x7f2);const _0xae0333=await _0x3ba4b6[_0x521a90(0x4b6)]();_0xc062e7[_0x521a90(0x861)]({'text':'\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a'+_0xae0333});}const _0x2263dc=[{'text':'...'},{'inlineData':{'mimeType':_0x5a2787['type'],'data':_0x4010b0}},..._0xc062e7];await handleGenerateFromBlueprint(_0x2263dc);}catch(_0x198ddc){console[_0x521a90(0x4e5)](_0x521a90(0x904),_0x198ddc),showMessage(_0x521a90(0x3ea)+_0x198ddc[_0x521a90(0x5f3)]),_0x52745b['classList']['add']('hidden');}}async function handleLiveAnswer(_0x574a53,_0x2f43ad){const _0x34cb92=_0x594c14;document['querySelectorAll'](_0x34cb92(0x4c1))[_0x34cb92(0x8be)](_0x500039=>_0x500039[_0x34cb92(0x376)]=!![]);const _0x4ceba9=_0x2f43ad[_0x34cb92(0x7cd)]||currentQuizData[_0x34cb92(0x9c1)];let _0x5c0f0e=![],_0x106dc6=_0x574a53;if(_0x4ceba9===_0x34cb92(0xa97)){const _0x54e868=(_0x574a53||'')[_0x34cb92(0x3d0)]();_0x5c0f0e=await gradeShortAnswer(_0x54e868,_0x2f43ad);}else{if(_0x4ceba9===_0x34cb92(0x69d))_0x5c0f0e=_0x574a53===_0x2f43ad['correctAnswerIndex'];else{if(_0x4ceba9===_0x34cb92(0x8b0)){const _0xe127b2=_0x2f43ad[_0x34cb92(0xbfb)];_0x5c0f0e=_0x574a53===0x0&&_0xe127b2||_0x574a53===0x1&&!_0xe127b2;}else{if(_0x4ceba9===_0x34cb92(0x37f)){const _0x27318c=_0x2f43ad[_0x34cb92(0xcf5)][_0x574a53];_0x5c0f0e=_0x27318c===_0x2f43ad[_0x34cb92(0x3ce)],_0x106dc6=_0x27318c;}}}}const _0x4adc6a=doc(db,'artifacts/'+appId+_0x34cb92(0x6a5),currentLiveGameId),_0x39764a={};_0x39764a[_0x34cb92(0x6c7)+currentStudentName+_0x34cb92(0x2e3)]=!![],_0x39764a[_0x34cb92(0x6c7)+currentStudentName+_0x34cb92(0xa4a)]=_0x5c0f0e,_0x39764a[_0x34cb92(0x6c7)+currentStudentName+_0x34cb92(0x7da)]=_0x4ceba9==='short_answer'||_0x4ceba9===_0x34cb92(0x37f)?null:_0x574a53,_0x39764a['players.'+currentStudentName+'.lastAnswerValue']=_0x106dc6,_0x39764a[_0x34cb92(0x6c7)+currentStudentName+_0x34cb92(0x79f)]=serverTimestamp(),_0x39764a[_0x34cb92(0x6c7)+currentStudentName+_0x34cb92(0x968)]=![],await updateDoc(_0x4adc6a,_0x39764a),liveGameView[_0x34cb92(0xa0c)]=_0x34cb92(0xbec);}function showAdminSummaryView(_0x348a0e,_0x31b224){const _0x35f2f5=_0x594c14,_0x20bd2d=Object['values'](_0x348a0e[_0x35f2f5(0xb2c)]||{}),_0x31ce16=_0x31b224[_0x35f2f5(0x7cd)]||currentQuizData['quizType'],_0x19a442=_0x31ce16===_0x35f2f5(0x8b0)?[_0x35f2f5(0x3cc),_0x35f2f5(0xcfb)]:_0x31b224[_0x35f2f5(0x9ac)]||_0x31b224[_0x35f2f5(0xcf5)]||[],_0x31c43c={},_0x191591=new Array(_0x19a442[_0x35f2f5(0x757)])['fill'](0x0);_0x19a442[_0x35f2f5(0x8be)]((_0x26d8b4,_0x1b4cf9)=>{_0x31c43c[_0x1b4cf9]=[];}),Object['entries'](_0x348a0e[_0x35f2f5(0xb2c)]||{})[_0x35f2f5(0x8be)](([_0x2b5c9b,_0x4eaaa3])=>{const _0x117c7a=_0x35f2f5;if(_0x4eaaa3[_0x117c7a(0xb9c)]==='active'&&_0x4eaaa3[_0x117c7a(0x8b6)]!==undefined){const _0x4d43ac=_0x4eaaa3[_0x117c7a(0x8b6)];_0x31c43c[_0x4d43ac]&&(_0x31c43c[_0x4d43ac][_0x117c7a(0x861)](_0x2b5c9b),_0x191591[_0x4d43ac]++);}});const _0x4cfc6f=Math[_0x35f2f5(0x2d3)](..._0x191591,0x1),_0x4e430e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x31b224[_0x35f2f5(0x346)]||_0x31b224[_0x35f2f5(0x77a)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x191591[_0x35f2f5(0x345)]((_0xc7d277,_0x191150)=>{const _0x54048a=_0x35f2f5,_0x3181af=_0x31c43c[_0x191150][_0x54048a(0x757)]>0x0?_0x31c43c[_0x191150][_0x54048a(0x95f)](',\x20'):_0x54048a(0x774);let _0x2dab8c=![];if(_0x31ce16==='multiple_choice')_0x2dab8c=_0x191150===_0x31b224[_0x54048a(0x671)];else{if(_0x31ce16===_0x54048a(0x8b0)){const _0x260f19=_0x31b224[_0x54048a(0xbfb)];_0x2dab8c=_0x260f19&&_0x191150===0x0||!_0x260f19&&_0x191150===0x1;}else _0x31ce16===_0x54048a(0x37f)&&(_0x2dab8c=_0x19a442[_0x191150]===_0x31b224[_0x54048a(0x3ce)]);}const _0x532cc7=_0x2dab8c?_0x54048a(0xcfd):_0x54048a(0xb1d);return _0x54048a(0x839)+_0xc7d277+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0x532cc7+_0x54048a(0x9c5)+_0x191150+_0x54048a(0x5d2)+_0x19a442[_0x191150]+_0x54048a(0x261)+_0x191150+_0x54048a(0x51b)+_0x3181af+_0x54048a(0xbf6);})[_0x35f2f5(0x95f)]('')+_0x35f2f5(0x7e4);liveGameView[_0x35f2f5(0xa0c)]=_0x4e430e;if(window[_0x35f2f5(0x8e9)])MathJax['typesetPromise']();document[_0x35f2f5(0x68c)]('show-leaderboard-btn')[_0x35f2f5(0x7a0)]('click',async()=>{const _0x4b5a09=_0x35f2f5,_0x4f70d2=doc(db,_0x4b5a09(0x632)+appId+_0x4b5a09(0x6a5),currentLiveGameId);await updateDoc(_0x4f70d2,{'questionStatus':'leaderboard'});}),document['getElementById'](_0x35f2f5(0x18a))[_0x35f2f5(0x7a0)](_0x35f2f5(0xc83),()=>{openScratchpad(_0x31b224,_0x19a442);});}function showPlayerSummaryView(_0x2b6f36,_0x226af6){const _0x2aa7ba=_0x594c14,_0x1705d7=Object[_0x2aa7ba(0x694)](_0x2b6f36[_0x2aa7ba(0xb2c)]||{}),_0x470e96=_0x2b6f36[_0x2aa7ba(0xb2c)][_0x226af6],_0x154ec3=_0x1705d7[_0x2aa7ba(0x298)](_0x275bb6=>_0x275bb6['status']==='active')['sort']((_0x1e1b8c,_0x46dbd0)=>_0x46dbd0[_0x2aa7ba(0xc54)]-_0x1e1b8c[_0x2aa7ba(0xc54)]),_0x40644e=_0x154ec3[_0x2aa7ba(0x1e3)](_0x37495f=>_0x37495f===_0x470e96)+0x1,_0x152238=_0x470e96[_0x2aa7ba(0x424)]?_0x2aa7ba(0x6c2):'ผิด',_0x22a323=_0x470e96[_0x2aa7ba(0x424)]?_0x2aa7ba(0x6cf):_0x2aa7ba(0x9f9),_0x65c06d=_0x470e96[_0x2aa7ba(0x7bb)]||0x0,_0x51f363=_0x2aa7ba(0x218),_0x39ae52=_0x2aa7ba(0xce7)+_0x51f363+_0x2aa7ba(0x946)+_0x22a323+_0x2aa7ba(0x4f9)+_0x152238+_0x2aa7ba(0x86e)+_0x65c06d+_0x2aa7ba(0xa79)+(_0x40644e>0x0?_0x40644e:'-')+_0x2aa7ba(0xd07);liveGameView[_0x2aa7ba(0xa0c)]=_0x39ae52;}function createQuizFromBank(){const _0x3e0c61=_0x594c14,_0x1e6e40=document[_0x3e0c61(0x9c3)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x1e6e40[_0x3e0c61(0x757)]===0x0){showMessage(_0x3e0c61(0x3b9));return;}const _0x2b70a4=[];_0x1e6e40[_0x3e0c61(0x8be)](_0xcaef5f=>{const _0x244fa3=_0x3e0c61;_0x2b70a4[_0x244fa3(0x861)](JSON[_0x244fa3(0x60b)](_0xcaef5f[_0x244fa3(0x9a1)]));});const _0x3e79f9={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x2b70a4};displayGeneratedQuiz(_0x3e79f9);}function showAdminLobbyView(_0x4e92e4,_0x43dfb1){const _0x4543c4=_0x594c14;showView(_0x4543c4(0x528));const _0x478d7d=_0x4543c4(0x94a)+_0x43dfb1+_0x4543c4(0x9a3)+_0x4e92e4+_0x4543c4(0xb3c);liveGameView[_0x4543c4(0xa0c)]=_0x478d7d,document['getElementById'](_0x4543c4(0x64c))[_0x4543c4(0x7a0)](_0x4543c4(0xc83),async()=>{const _0x363c1c=_0x4543c4;if(!currentQuizData||!currentQuizData[_0x363c1c(0x72b)]||currentQuizData[_0x363c1c(0x72b)][_0x363c1c(0x757)]===0x0){showMessage(_0x363c1c(0xa69));return;}try{const _0x725ec4=doc(db,_0x363c1c(0x632)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x725ec4,{'status':_0x363c1c(0x72a),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x4c459c=currentQuizData[_0x363c1c(0x72b)][0x0],_0x74f6c9=currentQuizData[_0x363c1c(0x72b)][_0x363c1c(0x757)];showAdminLiveQuestionView(_0x4c459c,0x0,_0x74f6c9);}catch(_0x4393d7){console[_0x363c1c(0x4e5)](_0x363c1c(0x60d),_0x4393d7),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0x250080=_0x594c14;if(allQuizzesGlobal['length']===0x0){const _0x4cc5d0=await getDocs(collection(db,_0x250080(0x632)+appId+_0x250080(0x21f)));allQuizzesGlobal=_0x4cc5d0[_0x250080(0x23c)][_0x250080(0x345)](_0x3f9997=>({'id':_0x3f9997['id'],..._0x3f9997['data']()}));}renderQuizBankList(''),document['getElementById']('quiz-bank-modal')['classList'][_0x250080(0x373)]('hidden');}function renderQuizBankList(_0x293dfe='',_0x5a731e=![]){const _0x444e03=_0x594c14,_0x3d6e7d=document[_0x444e03(0x68c)]('bank-quiz-list'),_0x113f13=_0x293dfe['toLowerCase']()[_0x444e03(0x99c)](),_0x2d7e16=allQuizzesGlobal[_0x444e03(0x345)](_0x16de09=>({..._0x16de09,'projectName':allProjects[_0x444e03(0xad3)](_0x2566d6=>_0x2566d6['id']===_0x16de09[_0x444e03(0x618)])?.[_0x444e03(0xbc1)]||_0x444e03(0xbe3)}))['filter'](_0x3f5c4e=>(_0x3f5c4e[_0x444e03(0x72e)]||'')[_0x444e03(0x986)]()[_0x444e03(0x92b)](_0x113f13)||(_0x3f5c4e[_0x444e03(0xbc1)]||'')[_0x444e03(0x986)]()[_0x444e03(0x92b)](_0x113f13)||_0x3f5c4e['id']['toString']()[_0x444e03(0x92b)](_0x113f13));document[_0x444e03(0x68c)](_0x444e03(0xc8c))[_0x444e03(0xb4b)]='('+_0x2d7e16[_0x444e03(0x757)]+_0x444e03(0x5c1),_0x3d6e7d['innerHTML']=_0x2d7e16[_0x444e03(0x757)]?_0x2d7e16[_0x444e03(0x345)](_0x1f642f=>{const _0x240df5=_0x444e03,_0xebada=!_0x5a731e?_0x240df5(0xaef)+_0x1f642f['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1f642f['id']+_0x240df5(0x89c)+_0x1f642f['id']+_0x240df5(0xc01)+_0x1f642f['id']+_0x240df5(0xd0f)+_0x1f642f['id']+_0x240df5(0x435)+_0x1f642f['id']+_0x240df5(0x18d)+_0x1f642f[_0x240df5(0x72e)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20':'';return _0x240df5(0xa1d)+_0x1f642f['id']+_0x240df5(0x3ba)+(_0x1f642f[_0x240df5(0x72e)]||_0x240df5(0x4d8))+_0x240df5(0x8ea)+(_0x1f642f[_0x240df5(0x72b)]?.[_0x240df5(0x757)]||0x0)+_0x240df5(0xd2c)+_0x1f642f[_0x240df5(0xbc1)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x1f642f['id']+_0x240df5(0x397)+_0xebada+_0x240df5(0xc22);})[_0x444e03(0x95f)](''):_0x444e03(0x567),!_0x5a731e&&(_0x3d6e7d[_0x444e03(0x9c3)](_0x444e03(0x4b2))[_0x444e03(0x8be)](_0x547425=>{const _0x333fd3=_0x444e03;_0x547425[_0x333fd3(0x7a0)](_0x333fd3(0xc83),()=>{const _0x3bc455=_0x333fd3,_0x4d6140=_0x547425[_0x3bc455(0x7f1)]['id'];document[_0x3bc455(0x68c)](_0x3bc455(0x270))[_0x3bc455(0x936)]['add'](_0x3bc455(0x1dc)),showQuizDetailView(_0x4d6140);});}),_0x3d6e7d[_0x444e03(0x9c3)]('.quiz-bank-try-btn')[_0x444e03(0x8be)](_0x397995=>{const _0x404a89=_0x444e03;_0x397995[_0x404a89(0x7a0)](_0x404a89(0xc83),_0x5abc15=>{const _0x360314=_0x404a89;_0x5abc15[_0x360314(0x6a2)]();const _0x1ae9ed=_0x397995[_0x360314(0x7f1)]['id'],_0x137e52=allQuizzesGlobal[_0x360314(0xad3)](_0x3ad1bd=>_0x3ad1bd['id']===_0x1ae9ed);_0x137e52?(currentQuizData=_0x137e52,document['getElementById'](_0x360314(0x270))[_0x360314(0x936)]['add'](_0x360314(0x1dc)),startAdminTest()):showMessage(_0x360314(0xa07));});}),_0x3d6e7d[_0x444e03(0x9c3)]('.quiz-bank-parallel-btn')[_0x444e03(0x8be)](_0x4d429c=>{const _0x2bccde=_0x444e03;_0x4d429c[_0x2bccde(0x7a0)]('click',_0xc21004=>{const _0x3dd063=_0x2bccde;_0xc21004[_0x3dd063(0x6a2)]();const _0x28194d=_0x4d429c[_0x3dd063(0x7f1)]['id'],_0x5d07e9=allQuizzesGlobal[_0x3dd063(0xad3)](_0x2991dd=>_0x2991dd['id']===_0x28194d);_0x5d07e9?(document[_0x3dd063(0x68c)](_0x3dd063(0x270))[_0x3dd063(0x936)]['add']('hidden'),handleGenerateParallelFromBank(_0x5d07e9)):showMessage(_0x3dd063(0xa07));});}),_0x3d6e7d[_0x444e03(0x9c3)](_0x444e03(0x90d))[_0x444e03(0x8be)](_0xede379=>{const _0xb8ceaf=_0x444e03;_0xede379['addEventListener'](_0xb8ceaf(0xc83),_0x30badb=>{const _0x461583=_0xb8ceaf;_0x30badb[_0x461583(0x6a2)]();const _0x508b73=_0xede379[_0x461583(0x7f1)]['id'],_0x2c21cd=allQuizzesGlobal[_0x461583(0xad3)](_0x141ce9=>_0x141ce9['id']===_0x508b73);_0x2c21cd?(document[_0x461583(0x68c)](_0x461583(0x270))[_0x461583(0x936)]['add'](_0x461583(0x1dc)),startPresentation(_0x2c21cd)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x3d6e7d[_0x444e03(0x9c3)](_0x444e03(0x9e0))[_0x444e03(0x8be)](_0x10cb9e=>{const _0x507142=_0x444e03;_0x10cb9e['addEventListener'](_0x507142(0xc83),_0x511a2e=>{const _0x363a2f=_0x507142;_0x511a2e[_0x363a2f(0x6a2)]();const _0x16cbbe=_0x10cb9e[_0x363a2f(0x7f1)]['id'];document[_0x363a2f(0x68c)](_0x363a2f(0x270))[_0x363a2f(0x936)][_0x363a2f(0x2de)](_0x363a2f(0x1dc)),handleMoveQuiz(_0x16cbbe);});}),_0x3d6e7d[_0x444e03(0x9c3)](_0x444e03(0xb83))[_0x444e03(0x8be)](_0x56a4af=>{const _0x8ff4ce=_0x444e03;_0x56a4af[_0x8ff4ce(0x7a0)]('click',_0xaa577a=>{const _0x5ab092=_0x8ff4ce;_0xaa577a[_0x5ab092(0x6a2)]();const _0x2655b0=_0x56a4af[_0x5ab092(0x7f1)]['id'];document['getElementById'](_0x5ab092(0x270))['classList']['add'](_0x5ab092(0x1dc)),handleQuizSettings(_0x2655b0);});}),_0x3d6e7d['querySelectorAll'](_0x444e03(0x675))[_0x444e03(0x8be)](_0x4feee6=>{const _0x6f951=_0x444e03;_0x4feee6['addEventListener'](_0x6f951(0xc83),_0x36f02b=>{const _0x25d21b=_0x6f951;_0x36f02b[_0x25d21b(0x6a2)]();const _0x209cd7=_0x4feee6[_0x25d21b(0x7f1)]['id'],_0x4367f0=_0x4feee6[_0x25d21b(0x7f1)][_0x25d21b(0x72e)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x4367f0+_0x25d21b(0xb76),()=>handleDeleteQuiz(_0x209cd7));});}));}async function handleCompareResults(_0x14df61,_0x5117c0){const _0x2e0e8c=_0x594c14,_0x500eef=document[_0x2e0e8c(0x68c)](_0x2e0e8c(0x2d7)),_0x10150c=document[_0x2e0e8c(0x68c)]('comparison-overall-content'),_0x525d25=document[_0x2e0e8c(0x68c)](_0x2e0e8c(0x789));document[_0x2e0e8c(0x68c)](_0x2e0e8c(0x858))[_0x2e0e8c(0x936)]['add'](_0x2e0e8c(0x323)),document['getElementById']('comparison-individual-tab')[_0x2e0e8c(0x936)][_0x2e0e8c(0x373)](_0x2e0e8c(0x323)),_0x10150c[_0x2e0e8c(0x936)][_0x2e0e8c(0x373)](_0x2e0e8c(0x1dc)),_0x525d25['classList'][_0x2e0e8c(0x2de)](_0x2e0e8c(0x1dc)),_0x10150c[_0x2e0e8c(0xa0c)]=_0x2e0e8c(0xcb1),_0x525d25['innerHTML']='',_0x500eef[_0x2e0e8c(0x936)][_0x2e0e8c(0x373)](_0x2e0e8c(0x1dc));try{const _0x113802=doc(db,_0x2e0e8c(0x632)+appId+_0x2e0e8c(0x21f),_0x14df61),_0x173931=await getDoc(_0x113802);if(!_0x173931[_0x2e0e8c(0x367)]())throw new Error(_0x2e0e8c(0x307));const _0x4d1863=_0x173931[_0x2e0e8c(0x21d)](),_0x4d8a5b=_0x4d1863['questions']['length'],_0x375657=collection(db,_0x2e0e8c(0x632)+appId+_0x2e0e8c(0x6e7)+_0x5117c0+_0x2e0e8c(0x21e)),_0x5e94ac=collection(db,'artifacts/'+appId+_0x2e0e8c(0x6e7)+_0x14df61+_0x2e0e8c(0x21e)),[_0x5c3800,_0x32410f]=await Promise[_0x2e0e8c(0xd2b)]([getDocs(_0x375657),getDocs(_0x5e94ac)]),_0x491afc=_0x5c3800['docs'][_0x2e0e8c(0x345)](_0x2074a4=>_0x2074a4['data']()),_0x20229f=_0x32410f[_0x2e0e8c(0x23c)][_0x2e0e8c(0x345)](_0x2b6bbd=>_0x2b6bbd[_0x2e0e8c(0x21d)]()),_0x2eb6f9=_0x491afc['map'](_0x4e4aab=>_0x4e4aab[_0x2e0e8c(0x1f2)]),_0x2e11b1=_0x20229f[_0x2e0e8c(0x345)](_0x1a8acd=>_0x1a8acd[_0x2e0e8c(0x1f2)]),_0x12af90=calculateMeanAndStdDev(_0x2eb6f9),_0x55a386=calculateMeanAndStdDev(_0x2e11b1),_0x276dc2=_0x12af90[_0x2e0e8c(0xab6)],_0x43952a=_0x55a386[_0x2e0e8c(0xab6)],_0x19877f=_0x43952a-_0x276dc2;let _0x476acd=_0x2e0e8c(0xbed)+_0x276dc2[_0x2e0e8c(0x724)](0x2)+_0x2e0e8c(0x8eb)+_0x43952a['toFixed'](0x2)+_0x2e0e8c(0x40e)+(_0x19877f>=0x0?'bg-emerald-100':_0x2e0e8c(0x651))+_0x2e0e8c(0x878)+(_0x19877f>=0x0?_0x2e0e8c(0x5b0):_0x2e0e8c(0x2aa))+_0x2e0e8c(0xc1e)+(_0x19877f>=0x0?_0x2e0e8c(0x940):'text-red-900')+'\x22>'+(_0x19877f>=0x0?'+':'')+_0x19877f['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x10150c[_0x2e0e8c(0xa0c)]=_0x476acd;const _0x360234=document[_0x2e0e8c(0x68c)]('comparison-chart')['getContext']('2d');if(chartInstances[_0x2e0e8c(0xcba)])chartInstances[_0x2e0e8c(0xcba)][_0x2e0e8c(0x887)]();chartInstances['comparison']=new Chart(_0x360234,{'type':_0x2e0e8c(0xbd8),'data':{'labels':[_0x2e0e8c(0x310)],'datasets':[{'label':'ก่อนเรียน','data':[_0x276dc2],'backgroundColor':_0x2e0e8c(0x53c)},{'label':_0x2e0e8c(0xa61),'data':[_0x43952a],'backgroundColor':_0x2e0e8c(0x88d)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x4d8a5b}}}});const _0x30b102=currentProjectData[_0x2e0e8c(0xc9a)]||[],_0x2e0d57=_0x30b102[_0x2e0e8c(0x345)](_0x27f9f3=>{const _0x228a0d=_0x2e0e8c,_0x5d4e3d=_0x491afc[_0x228a0d(0xad3)](_0x1d5cf6=>_0x1d5cf6[_0x228a0d(0xc53)]===_0x27f9f3),_0x26ec31=_0x20229f[_0x228a0d(0xad3)](_0x513703=>_0x513703[_0x228a0d(0xc53)]===_0x27f9f3),_0x246ef2=_0x5d4e3d?_0x5d4e3d['latestScore']:null,_0x9b06e7=_0x26ec31?_0x26ec31[_0x228a0d(0x1f2)]:null,_0x3cf1ea=_0x246ef2!==null&&_0x9b06e7!==null?_0x9b06e7-_0x246ef2:null,_0x4f1216=_0x246ef2!==null?calculateZScore(_0x246ef2,_0x12af90[_0x228a0d(0xab6)],_0x12af90[_0x228a0d(0x7d4)]):null,_0x10391f=_0x9b06e7!==null?calculateZScore(_0x9b06e7,_0x55a386[_0x228a0d(0xab6)],_0x55a386[_0x228a0d(0x7d4)]):null,_0x25a237=_0x4f1216!==null?calculateTScore(_0x4f1216):null,_0x3d855c=_0x10391f!==null?calculateTScore(_0x10391f):null,_0x192b2f=_0x25a237!==null&&_0x3d855c!==null?_0x3d855c-_0x25a237:null;return{'name':_0x27f9f3,'preScore':_0x246ef2,'postScore':_0x9b06e7,'gain':_0x3cf1ea,'preTScore':_0x25a237,'postTScore':_0x3d855c,'tGain':_0x192b2f};});renderIndividualComparisonTable(_0x2e0d57,_0x525d25);}catch(_0x51a94d){console[_0x2e0e8c(0x4e5)](_0x2e0e8c(0x952),_0x51a94d),_0x10150c['innerHTML']=_0x2e0e8c(0x6f2);}}async function saveBlueprintProject(){const _0x3c7538=_0x594c14;if(!extractedBlueprintData||!extractedBlueprintData[_0x3c7538(0xc03)]){showMessage(_0x3c7538(0xc41));return;}const _0x14c82f=prompt(_0x3c7538(0x63f),_0x3c7538(0x4b5));if(!_0x14c82f||_0x14c82f[_0x3c7538(0x99c)]()==='')return;const _0x3d021c={};extractedBlueprintData[_0x3c7538(0xc03)][_0x3c7538(0x8be)](_0x1e4a05=>{const _0x1b56ab=_0x3c7538;_0x1e4a05[_0x1b56ab(0x6b9)][_0x1b56ab(0x8be)](_0x29f76b=>{const _0x52990d=_0x1b56ab;_0x29f76b[_0x52990d(0x77b)][_0x52990d(0x8be)](_0x1da001=>{const _0x5b2dd0=_0x52990d,_0x344c58=_0x5b2dd0(0x48d)+Date['now']()+Math[_0x5b2dd0(0x7b8)]()[_0x5b2dd0(0x3d0)](0x24)[_0x5b2dd0(0x5fe)](0x2,0x9);_0x3d021c[_0x344c58]={'sara':_0x1e4a05[_0x5b2dd0(0xbba)],'mainTopic':_0x29f76b[_0x5b2dd0(0x274)],'subTopic':_0x1da001,'status':_0x5b2dd0(0xb5c),'lessonContent':null};});});});try{const _0x4cac42=collection(db,'artifacts/'+appId+_0x3c7538(0xa90));await addDoc(_0x4cac42,{'projectName':_0x14c82f['trim'](),'gradeLevel':extractedBlueprintData[_0x3c7538(0xd26)],'topics':_0x3d021c,'createdAt':serverTimestamp()}),showMessage(_0x3c7538(0xacb)+_0x14c82f[_0x3c7538(0x99c)]()+'\x22\x20สำเร็จ!'),document[_0x3c7538(0x68c)](_0x3c7538(0x865))[_0x3c7538(0x936)]['add'](_0x3c7538(0x1dc));}catch(_0xc9ed70){console[_0x3c7538(0x4e5)](_0x3c7538(0x2ba),_0xc9ed70),showMessage(_0x3c7538(0xa40));}}async function showBlueprintProjects(){const _0x4de425=_0x594c14,_0x3e5296=document['getElementById']('blueprint-projects-modal'),_0x45fadb=document['getElementById'](_0x4de425(0x9fb));_0x45fadb[_0x4de425(0xa0c)]=_0x4de425(0x6de),_0x3e5296[_0x4de425(0x936)][_0x4de425(0x373)]('hidden');try{const _0x11c266=collection(db,_0x4de425(0x632)+appId+_0x4de425(0xa90)),_0x4c80fb=await getDocs(_0x11c266);if(_0x4c80fb['empty']){_0x45fadb[_0x4de425(0xa0c)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x2ae5c0=_0x4c80fb['docs'][_0x4de425(0x345)](_0x5f3e9a=>({'id':_0x5f3e9a['id'],..._0x5f3e9a['data']()}));_0x2ae5c0[_0x4de425(0x387)]((_0x3189e3,_0x4954af)=>_0x3189e3[_0x4de425(0xbc1)][_0x4de425(0x480)](_0x4954af['projectName'],'th')),_0x45fadb[_0x4de425(0xa0c)]=_0x2ae5c0['map'](_0x2183f3=>_0x4de425(0x5f0)+_0x2183f3['projectName']+_0x4de425(0x711)+_0x2183f3[_0x4de425(0xd26)]+_0x4de425(0x5ff)+Object[_0x4de425(0x2e8)](_0x2183f3[_0x4de425(0x548)])['length']+_0x4de425(0x4d7)+_0x2183f3['id']+_0x4de425(0x61e)+_0x2183f3['id']+_0x4de425(0x5c4))[_0x4de425(0x95f)]('');}catch(_0xd23932){console[_0x4de425(0x4e5)](_0x4de425(0x734),_0xd23932),_0x45fadb[_0x4de425(0xa0c)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>';}}async function displayBlueprintProjectManager(_0x25c1db){const _0x44b335=_0x594c14;currentBlueprintProjectId=_0x25c1db,document[_0x44b335(0x68c)](_0x44b335(0xc3f))[_0x44b335(0x936)]['add'](_0x44b335(0x1dc)),showView(_0x44b335(0x30e)),projectDashboardView['classList']['add'](_0x44b335(0x1dc));const _0x10469b=document['getElementById'](_0x44b335(0x654));_0x10469b[_0x44b335(0x936)][_0x44b335(0x373)](_0x44b335(0x1dc)),document[_0x44b335(0x68c)](_0x44b335(0x256))['innerHTML']=_0x44b335(0xcb1);try{const _0x1b8842=doc(db,_0x44b335(0x632)+appId+_0x44b335(0xa90),_0x25c1db),_0x331f0f=await getDoc(_0x1b8842);if(!_0x331f0f[_0x44b335(0x367)]())throw new Error(_0x44b335(0x6ad));const _0x50e15d={'id':_0x331f0f['id'],..._0x331f0f['data']()};document[_0x44b335(0x68c)](_0x44b335(0x535))[_0x44b335(0xb4b)]=_0x50e15d[_0x44b335(0xbc1)],document['getElementById'](_0x44b335(0x5fa))['value']=_0x50e15d[_0x44b335(0xaab)]||'',renderBlueprintTopicManager(_0x50e15d);}catch(_0x4760a0){console[_0x44b335(0x4e5)](_0x44b335(0xd1a),_0x4760a0),showMessage(_0x4760a0[_0x44b335(0x5f3)]),showView(_0x44b335(0x30e));}}function renderBlueprintTopicManager(_0x5cfab5){const _0x1346ef=_0x594c14,_0x339123=document[_0x1346ef(0x68c)](_0x1346ef(0x256)),_0x1ca8b6=_0x5cfab5[_0x1346ef(0x548)]||{};if(Object[_0x1346ef(0x2e8)](_0x1ca8b6)[_0x1346ef(0x757)]===0x0){_0x339123[_0x1346ef(0xa0c)]=_0x1346ef(0xa66);return;}const _0x3d50cf=Object['entries'](_0x1ca8b6)[_0x1346ef(0x345)](([_0x4b4a37,_0x2e00d6])=>({'id':_0x4b4a37,..._0x2e00d6}))['sort']((_0x492cfa,_0x17b051)=>(_0x492cfa[_0x1346ef(0x275)]??Infinity)-(_0x17b051['order']??Infinity)),_0xa98f8={};_0x3d50cf[_0x1346ef(0x8be)](_0x27d893=>{const _0x34ee5f=_0x1346ef,{sara:_0x2a0229,mainTopic:_0x4925e2}=_0x27d893;!_0xa98f8[_0x2a0229]&&(_0xa98f8[_0x2a0229]={}),!_0xa98f8[_0x2a0229][_0x4925e2]&&(_0xa98f8[_0x2a0229][_0x4925e2]=[]),_0xa98f8[_0x2a0229][_0x4925e2][_0x34ee5f(0x861)](_0x27d893);});let _0x267a6d='';for(const _0x37f7ae in _0xa98f8){_0x267a6d+='<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x37f7ae+_0x1346ef(0x6c1);for(const _0x475f15 in _0xa98f8[_0x37f7ae]){_0x267a6d+='<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x475f15+'</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0xa98f8[_0x37f7ae][_0x475f15][_0x1346ef(0x8be)](_0x49a904=>{const _0xe4a989=_0x1346ef,_0x36142a=_0x49a904['id'],_0x3999f4=_0x49a904[_0xe4a989(0x32c)]||[],_0x482fb0=_0x3999f4[_0xe4a989(0x757)]>0x0,_0x565013=_0x49a904['status']===_0xe4a989(0xa8f);let _0x1167be='';_0x482fb0?_0x1167be='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20('+_0x3999f4[_0xe4a989(0x757)]+_0xe4a989(0xaa0):_0x1167be=_0xe4a989(0xa4c)+(_0x565013?_0xe4a989(0x710):_0xe4a989(0xa05))+'\x22>'+(_0x565013?'สร้างแล้ว':_0xe4a989(0xa93))+_0xe4a989(0x392);const _0x4cf674=!_0x565013?_0xe4a989(0x3b8):'',_0x3a7e34=!_0x565013?'กรุณาสร้างบทเรียนก่อน':'';let _0x48da70=_0x565013?'<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>':_0xe4a989(0x89d);_0x267a6d+=_0xe4a989(0x34f)+_0x36142a+_0xe4a989(0xadb)+_0x49a904[_0xe4a989(0x525)]+_0xe4a989(0x398)+_0x1167be+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20'+_0x4cf674+_0xe4a989(0xbd3)+_0x3a7e34+'\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x48da70+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x267a6d+='</div></div>';}_0x267a6d+='</div>';}_0x339123[_0x1346ef(0xa0c)]=_0x267a6d;}async function handleDeepDeleteBlueprintProject(_0x2f354b){const _0x53efdd=_0x594c14,_0x457721=doc(db,_0x53efdd(0x632)+appId+'/public/data/blueprintProjects',_0x2f354b),_0x3d0dec=await getDoc(_0x457721);if(!_0x3d0dec[_0x53efdd(0x367)]()){showMessage(_0x53efdd(0xc10));return;}const _0x436fee=_0x3d0dec[_0x53efdd(0x21d)]()['projectName'];showConfirmation(_0x53efdd(0xc35)+_0x436fee+_0x53efdd(0xbda),async()=>{const _0x475b5b=_0x53efdd;showMessage(_0x475b5b(0xa89));try{const _0x8f21a2=writeBatch(db),_0x315c74=_0x3d0dec['data'](),_0x1472c2=_0x315c74[_0x475b5b(0x548)]||{};for(const _0x34aff6 in _0x1472c2){const _0x5548ed=doc(db,_0x475b5b(0x632)+appId+_0x475b5b(0x8a6)+_0x2f354b+_0x475b5b(0xaa2),_0x34aff6);_0x8f21a2[_0x475b5b(0x3de)](_0x5548ed);}const _0x3a8586=new Set();for(const _0x22ecfe in _0x1472c2){_0x1472c2[_0x22ecfe]['linkedQuizIds']&&_0x1472c2[_0x22ecfe][_0x475b5b(0x32c)][_0x475b5b(0x8be)](_0x1e5d2b=>_0x3a8586['add'](_0x1e5d2b));}for(const _0x4514f0 of _0x3a8586){await handleDeleteQuiz(_0x4514f0,![]);}_0x8f21a2[_0x475b5b(0x3de)](_0x457721),await _0x8f21a2[_0x475b5b(0x555)](),showMessage(_0x475b5b(0x22b)+_0x436fee+_0x475b5b(0x543)),showBlueprintProjects();}catch(_0x2609f4){console['error'](_0x475b5b(0x5bc),_0x2609f4),showMessage(_0x475b5b(0x3b0));}});}async function openTopicQuizBank(_0xabf00a){const _0x2d181e=_0x594c14,_0x507a92=document[_0x2d181e(0x68c)]('topic-quiz-bank-modal'),_0x1a7529=document[_0x2d181e(0x68c)](_0x2d181e(0xbc3)),_0x1668a4=document[_0x2d181e(0x68c)](_0x2d181e(0x35a));try{await ensureGlobalQuizzesLoaded();const _0x1bf227=doc(db,_0x2d181e(0x632)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x5a48ff=await getDoc(_0x1bf227);if(!_0x5a48ff[_0x2d181e(0x367)]())return;const _0x502578=_0x5a48ff[_0x2d181e(0x21d)](),_0x180277=_0x502578['topics'][_0xabf00a];document[_0x2d181e(0x68c)](_0x2d181e(0xb29))[_0x2d181e(0xb4b)]=_0x180277['subTopic'];const _0x10708d=_0x180277[_0x2d181e(0x32c)]||[];_0x1668a4[_0x2d181e(0x936)][_0x2d181e(0x34a)](_0x2d181e(0x1dc),_0x10708d[_0x2d181e(0x757)]===0x0),_0x1668a4['onclick']=()=>handleClearAllLinksForTopic(_0xabf00a);if(_0x10708d[_0x2d181e(0x757)]===0x0)_0x1a7529[_0x2d181e(0xa0c)]=_0x2d181e(0x915);else{const _0x3f6c26=allQuizzesGlobal[_0x2d181e(0x298)](_0x349a8a=>_0x10708d[_0x2d181e(0x92b)](_0x349a8a['id']));_0x1a7529[_0x2d181e(0xa0c)]=_0x3f6c26[_0x2d181e(0x345)](_0x363502=>_0x2d181e(0x9a5)+_0x363502['id']+_0x2d181e(0x54d)+_0x363502[_0x2d181e(0x72e)]+_0x2d181e(0x73e)+_0x363502['id']+_0x2d181e(0x5ff)+_0x363502['questions'][_0x2d181e(0x757)]+_0x2d181e(0x485)+_0x363502['id']+_0x2d181e(0x944)+_0x363502['id']+_0x2d181e(0x677)+_0x363502['id']+_0x2d181e(0x6c3)+_0x363502['id']+_0x2d181e(0x52c)+_0x363502['id']+_0x2d181e(0x6fa)+_0x363502['id']+_0x2d181e(0xb7c)+_0xabf00a+'\x22\x20data-quiz-id=\x22'+_0x363502['id']+_0x2d181e(0x635))['join']('');}document[_0x2d181e(0x68c)](_0x2d181e(0x759))[_0x2d181e(0xbf9)]=()=>{openQuizSelectorForBlueprint(_0xabf00a);},document[_0x2d181e(0x68c)]('close-topic-bank-btn')['onclick']=()=>_0x507a92[_0x2d181e(0x936)][_0x2d181e(0x2de)](_0x2d181e(0x1dc)),_0x507a92[_0x2d181e(0x936)]['remove'](_0x2d181e(0x1dc));}catch(_0x224e56){showMessage(_0x224e56[_0x2d181e(0x5f3)]);}}async function openQuizSelectorForBlueprint(_0x5c270e){const _0xae67d9=_0x594c14,_0x62d46=document[_0xae67d9(0x68c)]('quiz-bank-modal'),_0x5d15e5=document[_0xae67d9(0x68c)](_0xae67d9(0x597));_0x5d15e5[_0xae67d9(0x936)]['add']('hidden'),document[_0xae67d9(0x68c)]('confirm-link-quiz-btn')?.['remove']();const _0x128577=document[_0xae67d9(0x604)]('button');_0x128577['id']=_0xae67d9(0x44c),_0x128577[_0xae67d9(0x613)]=_0xae67d9(0xc46),_0x128577[_0xae67d9(0xb4b)]=_0xae67d9(0x1f5),_0x128577[_0xae67d9(0x376)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x62d46[_0xae67d9(0x936)][_0xae67d9(0x373)](_0xae67d9(0x1dc)),renderQuizBankListForMultiSelect(''),document[_0xae67d9(0x68c)](_0xae67d9(0xb41))['style'][_0xae67d9(0xb55)]=_0xae67d9(0xa9b),_0x62d46['querySelector']('.flex.justify-between.items-center')['appendChild'](_0x128577);const _0x130e92=(_0x32bc34=![])=>{const _0x26ef24=_0xae67d9;_0x62d46[_0x26ef24(0x936)][_0x26ef24(0x2de)]('hidden'),document[_0x26ef24(0x68c)](_0x26ef24(0xb41))['style'][_0x26ef24(0xb55)]=_0x26ef24(0x9da),_0x128577['remove'](),_0x32bc34&&openTopicQuizBank(_0x5c270e);};_0x128577['onclick']=async()=>{const _0x547b8b=_0xae67d9,_0x2c18ae=Array[_0x547b8b(0x97c)](document['querySelectorAll']('.quiz-bank-checkbox:checked'))[_0x547b8b(0x345)](_0x920980=>_0x920980[_0x547b8b(0x9a1)]);if(_0x2c18ae[_0x547b8b(0x757)]===0x0)return;try{const _0x39b026=doc(db,'artifacts/'+appId+_0x547b8b(0xa90),currentBlueprintProjectId),_0x288e10=(await getDoc(_0x39b026))[_0x547b8b(0x21d)](),_0x4a2e83=_0x288e10['topics'][_0x5c270e][_0x547b8b(0x32c)]||[],_0x27137d=[...new Set([..._0x4a2e83,..._0x2c18ae])];await updateDoc(_0x39b026,{[_0x547b8b(0x80f)+_0x5c270e+_0x547b8b(0x9d0)]:_0x27137d}),showMessage(_0x547b8b(0x565)+_0x2c18ae[_0x547b8b(0x757)]+'\x20แบบทดสอบลงในคลังสำเร็จ!'),_0x130e92(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x21a25d){console[_0x547b8b(0x4e5)](_0x547b8b(0x4a0),_0x21a25d);}},document[_0xae67d9(0x68c)](_0xae67d9(0x985))['onclick']=()=>_0x130e92(!![]);}catch(_0x1ce735){showMessage(_0x1ce735[_0xae67d9(0x5f3)]),_0x5d15e5['classList'][_0xae67d9(0x373)]('hidden');}}function handleClearLinkedQuiz(_0x19dc97){const _0x1add1d=_0x594c14;showConfirmation(_0x1add1d(0x542),async()=>{const _0x13ea3c=_0x1add1d;try{const _0x4d52e6=doc(db,_0x13ea3c(0x632)+appId+_0x13ea3c(0xa90),currentBlueprintProjectId);await updateDoc(_0x4d52e6,{[_0x13ea3c(0x80f)+_0x19dc97+_0x13ea3c(0x9e8)]:deleteField()}),showMessage(_0x13ea3c(0x960)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1796e3){console['error'](_0x13ea3c(0xc3c),_0x1796e3),showMessage(_0x13ea3c(0xaf5));}});}async function addTopicToProject(){const _0x4923cf=_0x594c14,_0x39b958=prompt('กรุณาป้อนชื่อหัวข้อย่อยใหม่:');if(!_0x39b958||_0x39b958[_0x4923cf(0x99c)]()==='')return;const _0x4473f5=prompt(_0x4923cf(0x4bb),_0x4923cf(0x640)),_0x36ed50=prompt(_0x4923cf(0x3c7),_0x4923cf(0xb92)),_0x2eb401=_0x4923cf(0x48d)+Date[_0x4923cf(0x708)]()+Math[_0x4923cf(0x7b8)]()[_0x4923cf(0x3d0)](0x24)['substr'](0x2,0x9),_0x6168a8={'sara':_0x4473f5,'mainTopic':_0x36ed50,'subTopic':_0x39b958[_0x4923cf(0x99c)](),'status':_0x4923cf(0xb5c),'lessonContent':null};try{const _0x149450=doc(db,_0x4923cf(0x632)+appId+_0x4923cf(0xa90),currentBlueprintProjectId);await updateDoc(_0x149450,{[_0x4923cf(0x80f)+_0x2eb401]:_0x6168a8}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2a0441){console[_0x4923cf(0x4e5)](_0x4923cf(0x1b0),_0x2a0441),showMessage(_0x4923cf(0xc4c));}}async function editTopicInProject(_0xfffa57){const _0x4f7232=_0x594c14,_0x5295e7=document[_0x4f7232(0x817)](_0x4f7232(0x2a1)+_0xfffa57+'\x22]'),_0x25b4d9=_0x5295e7[_0x4f7232(0x817)](_0x4f7232(0x6ac)),_0x34d102=_0x25b4d9[_0x4f7232(0xb4b)],_0x325a5f=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x34d102);if(!_0x325a5f||_0x325a5f['trim']()===''||_0x325a5f['trim']()===_0x34d102)return;try{const _0x1257d1=doc(db,_0x4f7232(0x632)+appId+_0x4f7232(0xa90),currentBlueprintProjectId);await updateDoc(_0x1257d1,{[_0x4f7232(0x80f)+_0xfffa57+_0x4f7232(0x97b)]:_0x325a5f[_0x4f7232(0x99c)]()}),_0x25b4d9[_0x4f7232(0xb4b)]=_0x325a5f[_0x4f7232(0x99c)](),showMessage(_0x4f7232(0x70d));}catch(_0x13c8b4){console[_0x4f7232(0x4e5)](_0x4f7232(0xa11),_0x13c8b4),showMessage(_0x4f7232(0x48a));}}async function deleteTopicFromProject(_0x23798e){const _0x4b9dae=_0x594c14;if(!confirm(_0x4b9dae(0xbfc)))return;try{const _0x2c94b5=doc(db,'artifacts/'+appId+_0x4b9dae(0xa90),currentBlueprintProjectId);await updateDoc(_0x2c94b5,{[_0x4b9dae(0x80f)+_0x23798e]:deleteField()}),document[_0x4b9dae(0x817)]('[data-topic-id=\x22'+_0x23798e+'\x22]')[_0x4b9dae(0x373)](),showMessage(_0x4b9dae(0x751));}catch(_0x212428){console[_0x4b9dae(0x4e5)]('Error\x20deleting\x20topic:',_0x212428),showMessage('เกิดข้อผิดพลาดในการลบ');}}async function generateAndSaveLessonForBlueprint(_0x10e020,_0x57247b,_0x3d54ef){handleGenerateAndShowLesson(_0x57247b,_0x3d54ef);const _0x53ab80=setInterval(async()=>{const _0x427fec=_0x27d0,_0x5b4275=document[_0x427fec(0x68c)](_0x427fec(0x8d9)),_0x458e7b=_0x5b4275[_0x427fec(0x936)][_0x427fec(0x28e)](_0x427fec(0x1dc));if(_0x458e7b){clearInterval(_0x53ab80);if(currentApplicationData&&currentApplicationData[_0x427fec(0x757)]>0x0){const _0x42c3ae={'point':document['getElementById'](_0x427fec(0x638))[_0x427fec(0xa0c)],'memory':document[_0x427fec(0x68c)](_0x427fec(0xca2))['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x427fec(0x68c)](_0x427fec(0x78a))[_0x427fec(0xa0c)]};try{const _0x388b36=doc(db,_0x427fec(0x632)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x177acd=doc(db,_0x427fec(0x632)+appId+_0x427fec(0x8a6)+currentBlueprintProjectId+_0x427fec(0xaa2),_0x10e020),_0x5098aa=writeBatch(db);_0x5098aa[_0x427fec(0x9f2)](_0x177acd,{'content':_0x42c3ae}),_0x5098aa[_0x427fec(0x195)](_0x388b36,{[_0x427fec(0x80f)+_0x10e020+_0x427fec(0x541)]:_0x427fec(0xa8f)}),await _0x5098aa['commit'](),console[_0x427fec(0x3e0)](_0x427fec(0x9eb)+_0x10e020+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3dd98d){console[_0x427fec(0x4e5)]('Error\x20saving\x20lesson\x20to\x20project:',_0x3dd98d);}}}},0x3e8);}function displayHalfMarkResult(_0x1a2ec6,_0x185ba9){const _0x3776b6=_0x594c14,_0x3c3976=_0x1a2ec6>=_0x185ba9/0x2,_0x2b274c=_0x3c3976?'bg-green-100':'bg-red-100',_0x23de00=_0x3c3976?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x3776b6(0x9f3),_0x1cf43f=_0x3c3976?_0x3776b6(0xd0a):_0x3776b6(0x2aa),_0x32cbf7=_0x3c3976?_0x3776b6(0xc8a):'คะแนนยังไม่ถึงครึ่ง',_0x135784=_0x3c3976?_0x3776b6(0x631):_0x3776b6(0x7fc);let _0x11e0c7=_0x3776b6(0x669)+_0x2b274c+_0x3776b6(0x5eb)+_0x23de00+_0x3776b6(0x212)+_0x1cf43f+'\x20mb-2\x22>'+_0x32cbf7+_0x3776b6(0x1c4)+_0x135784+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x3776b6(0xa0c)]=_0x11e0c7,studentResultArea[_0x3776b6(0x936)][_0x3776b6(0x373)](_0x3776b6(0x1dc)),studentQuizArea['classList'][_0x3776b6(0x2de)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x3c3976});}function displayPerfectScoreResult(_0x5e2cbe,_0x435ad4){const _0x41b9ca=_0x594c14,_0x3255ec=_0x5e2cbe===_0x435ad4,_0x11a299=_0x3255ec?'bg-yellow-100':_0x41b9ca(0xa6b),_0x24f19b=_0x3255ec?_0x41b9ca(0xc1b):_0x41b9ca(0x83c),_0x585a21=_0x3255ec?_0x41b9ca(0x453):_0x41b9ca(0xca7),_0xfbf566=_0x3255ec?_0x41b9ca(0x1fc):'ยังไม่เต็มนะ',_0x2d7a48=_0x3255ec?_0x41b9ca(0x2e1):_0x41b9ca(0x71e);let _0x439dff=_0x41b9ca(0x669)+_0x11a299+_0x41b9ca(0x5eb)+_0x24f19b+_0x41b9ca(0x212)+_0x585a21+_0x41b9ca(0x2c1)+_0xfbf566+_0x41b9ca(0x1c4)+_0x2d7a48+_0x41b9ca(0x713);studentResultArea[_0x41b9ca(0xa0c)]=_0x439dff,studentResultArea[_0x41b9ca(0x936)][_0x41b9ca(0x373)](_0x41b9ca(0x1dc)),studentQuizArea['classList']['add'](_0x41b9ca(0x1dc)),setupResultScreenBackButton({'showRankings':![],'score':_0x5e2cbe,'totalQuestions':_0x435ad4});}function renderIndividualComparisonTable(_0x8a4e9a,_0x9fb53d){const _0x4d80ba=_0x594c14;_0x8a4e9a[_0x4d80ba(0x387)]((_0x18ae9c,_0x9cf86d)=>(_0x9cf86d[_0x4d80ba(0x593)]??-Infinity)-(_0x18ae9c[_0x4d80ba(0x593)]??-Infinity));let _0x5da795=_0x4d80ba(0xcf2);_0x8a4e9a[_0x4d80ba(0x757)]===0x0?_0x5da795+=_0x4d80ba(0x1a0):_0x8a4e9a[_0x4d80ba(0x8be)]((_0x1a0f31,_0x41a78c)=>{const _0x1c39e0=_0x4d80ba;let _0x1f205a='-',_0xcb1bea='';if(_0x1a0f31['gain']!==null){const _0x19606e=_0x1a0f31[_0x1c39e0(0x78b)]>0x0?_0x1c39e0(0x3a5):_0x1a0f31[_0x1c39e0(0x78b)]<0x0?_0x1c39e0(0x1df):_0x1c39e0(0x3d4),_0x5d6531=_0x1a0f31[_0x1c39e0(0x78b)]>0x0?'+':'';_0x1f205a=_0x1c39e0(0xbeb)+_0x19606e+'\x22>'+_0x5d6531+_0x1a0f31[_0x1c39e0(0x78b)]+_0x1c39e0(0x392);if(_0x1a0f31['gain']>0x0)_0xcb1bea=_0x1c39e0(0x552);else _0x1a0f31[_0x1c39e0(0x78b)]<0x0?_0xcb1bea=_0x1c39e0(0x45a):_0xcb1bea='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x3267a2='-';if(_0x1a0f31[_0x1c39e0(0x593)]!==null){const _0x117a12=_0x1a0f31['tGain']>0x0?_0x1c39e0(0x3a5):_0x1a0f31['tGain']<0x0?_0x1c39e0(0x1df):_0x1c39e0(0x3d4),_0x5487a8=_0x1a0f31[_0x1c39e0(0x593)]>0x0?'+':'';_0x3267a2=_0x1c39e0(0xbeb)+_0x117a12+'\x22>'+_0x5487a8+_0x1a0f31[_0x1c39e0(0x593)]['toFixed'](0x2)+'</span>';}_0x5da795+=_0x1c39e0(0x333)+(_0x41a78c+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x1a0f31[_0x1c39e0(0xb31)]+_0x1c39e0(0x74f)+(_0x1a0f31['preScore']??'-')+_0x1c39e0(0x1ef)+(_0x1a0f31['postScore']??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x1f205a+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0xcb1bea+_0x1c39e0(0xb93)+(_0x1a0f31[_0x1c39e0(0x89e)]?.[_0x1c39e0(0x724)](0x2)??'-')+_0x1c39e0(0x9e6)+(_0x1a0f31[_0x1c39e0(0x361)]?.[_0x1c39e0(0x724)](0x2)??'-')+_0x1c39e0(0x74f)+_0x3267a2+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5da795+='</tbody></table></div>',_0x9fb53d['innerHTML']=_0x5da795;}function handleRenameQuiz(_0x161b9,_0x2f8630){const _0x1fed00=_0x594c14;actionTargetId=_0x161b9,document[_0x1fed00(0x68c)](_0x1fed00(0xaed))[_0x1fed00(0x9a1)]=_0x2f8630,renameQuizModal['classList'][_0x1fed00(0x373)](_0x1fed00(0x1dc));}function setupComparisonModalTabs(){const _0x2e71a5=_0x594c14,_0x2969ba=document[_0x2e71a5(0x68c)]('comparison-overall-tab'),_0x46cb8a=document[_0x2e71a5(0x68c)]('comparison-individual-tab'),_0x49b5fb=document[_0x2e71a5(0x68c)](_0x2e71a5(0xc16)),_0x477b12=document['getElementById'](_0x2e71a5(0x789));_0x2969ba[_0x2e71a5(0x7a0)](_0x2e71a5(0xc83),()=>{const _0x84c944=_0x2e71a5;_0x2969ba[_0x84c944(0x936)][_0x84c944(0x2de)](_0x84c944(0x323)),_0x46cb8a[_0x84c944(0x936)][_0x84c944(0x373)](_0x84c944(0x323)),_0x49b5fb[_0x84c944(0x936)][_0x84c944(0x373)](_0x84c944(0x1dc)),_0x477b12[_0x84c944(0x936)][_0x84c944(0x2de)](_0x84c944(0x1dc));}),_0x46cb8a[_0x2e71a5(0x7a0)](_0x2e71a5(0xc83),()=>{const _0x2956e9=_0x2e71a5;_0x46cb8a[_0x2956e9(0x936)][_0x2956e9(0x2de)](_0x2956e9(0x323)),_0x2969ba['classList'][_0x2956e9(0x373)](_0x2956e9(0x323)),_0x477b12['classList'][_0x2956e9(0x373)](_0x2956e9(0x1dc)),_0x49b5fb[_0x2956e9(0x936)][_0x2956e9(0x2de)](_0x2956e9(0x1dc));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x301736=_0x594c14;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x57e1c7=doc(db,_0x301736(0x632)+appId+_0x301736(0x6a5),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x57e1c7,_0x449c03=>{const _0x39e85a=_0x301736;if(!_0x449c03[_0x39e85a(0x367)]()){showMessage(_0x39e85a(0x783));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x39e85a(0x50a)?showView('project-detail'):showView(_0x39e85a(0x867));return;}const _0x366474=_0x449c03[_0x39e85a(0x21d)]();_0x366474[_0x39e85a(0x292)]&&(currentQuizData=_0x366474[_0x39e85a(0x292)]);!currentQuizData&&_0x366474[_0x39e85a(0x8c6)]&&((async()=>{const _0x513822=_0x39e85a;try{const _0x1fb923=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x366474[_0x513822(0x8c6)]),_0x550027=await getDoc(_0x1fb923);_0x550027[_0x513822(0x367)]()&&(currentQuizData={'id':_0x550027['id'],..._0x550027[_0x513822(0x21d)]()});}catch(_0x112f65){console[_0x513822(0x4e5)](_0x513822(0xd25),_0x112f65);}})());switch(_0x366474[_0x39e85a(0xb9c)]){case _0x39e85a(0x6c5):if(currentMode===_0x39e85a(0x50a)){const _0x5b29d7=_0x366474[_0x39e85a(0xb2c)]?Object[_0x39e85a(0x82c)](_0x366474[_0x39e85a(0xb2c)]):[],_0x1d28a7=_0x5b29d7[_0x39e85a(0x298)](([_0x4b5f75,_0x1286a7])=>_0x1286a7[_0x39e85a(0xb9c)]===_0x39e85a(0x323)),_0x263763=document[_0x39e85a(0x68c)](_0x39e85a(0xcae));if(_0x263763)_0x263763[_0x39e85a(0xb4b)]=_0x1d28a7[_0x39e85a(0x757)];const _0x553f40=document[_0x39e85a(0x68c)](_0x39e85a(0x93e));_0x553f40&&(_0x553f40[_0x39e85a(0xa0c)]=_0x1d28a7[_0x39e85a(0x345)](([_0x5e7668,_0x5d40bf])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5e7668+_0x39e85a(0x4dd)+_0x5e7668+_0x39e85a(0x263))[_0x39e85a(0x95f)](''));const _0x581bfa=document[_0x39e85a(0x68c)]('start-game-btn');_0x581bfa&&(_0x581bfa[_0x39e85a(0x376)]=_0x1d28a7[_0x39e85a(0x757)]===0x0);}else showView(_0x39e85a(0x528)),liveGameView[_0x39e85a(0xa0c)]=_0x39e85a(0x4a7)+currentStudentName+_0x39e85a(0x4c9);break;case _0x39e85a(0x72a):const _0x46b75d=_0x366474[_0x39e85a(0xa9c)];if(currentQuizData&&currentQuizData[_0x39e85a(0x72b)][_0x46b75d]){const _0x33c57d=currentQuizData[_0x39e85a(0x72b)][_0x46b75d],_0x2b7ec6=_0x366474[_0x39e85a(0xbbd)]||_0x39e85a(0xc59);switch(_0x2b7ec6){case'summary_chart':currentMode===_0x39e85a(0x50a)?showAdminSummaryView(_0x366474,_0x33c57d):showPlayerSummaryView(_0x366474,currentStudentName);break;case _0x39e85a(0x610):currentMode==='admin'&&showTop5LeaderboardView(_0x366474);break;case _0x39e85a(0xc59):default:if(currentMode===_0x39e85a(0x50a)){const _0x599dc4=writeBatch(db);let _0x2ad4b9=![];Object['entries'](_0x366474[_0x39e85a(0xb2c)])['forEach'](([_0xb89d0d,_0x1926ad])=>{const _0x435abf=_0x39e85a;if(_0x1926ad[_0x435abf(0xb9c)]==='active'&&_0x1926ad[_0x435abf(0x3ee)]&&!_0x1926ad['isScored']){_0x2ad4b9=!![];const _0x3e3035=_0x1926ad['submittedAt']['toDate']()-_0x366474[_0x435abf(0x2a4)]['toDate']();let _0x5f1da0=0x0;if(_0x1926ad[_0x435abf(0x424)]){const _0x169cc2=0x3e8,_0x16f78b=0x1f4,_0x43c65c=0x4e20;let _0x26948c=_0x3e3035/_0x43c65c;if(_0x26948c>0x1)_0x26948c=0x1;const _0x2e9430=Math['round'](_0x26948c*_0x16f78b);_0x5f1da0=_0x169cc2-_0x2e9430;}const _0x460a1e=doc(db,'artifacts/'+appId+_0x435abf(0x6a5),currentLiveGameId);_0x599dc4[_0x435abf(0x195)](_0x460a1e,{[_0x435abf(0x6c7)+_0xb89d0d+_0x435abf(0xa0f)]:increment(_0x5f1da0),[_0x435abf(0x6c7)+_0xb89d0d+_0x435abf(0x1fe)]:_0x5f1da0,[_0x435abf(0x6c7)+_0xb89d0d+'.isScored']:!![]});}});_0x2ad4b9&&_0x599dc4[_0x39e85a(0x555)]()[_0x39e85a(0x956)](_0x38d64e=>console[_0x39e85a(0x4e5)]('Error\x20committing\x20score\x20updates:',_0x38d64e));lastRenderedAdminQuestionIndex!==_0x46b75d&&(showAdminLiveQuestionView(_0x33c57d,_0x46b75d,currentQuizData[_0x39e85a(0x72b)]['length']),lastRenderedAdminQuestionIndex=_0x46b75d);const _0x1a6f0e=_0x366474[_0x39e85a(0xb2c)]||{},_0x544d43=Object[_0x39e85a(0x694)](_0x1a6f0e)['filter'](_0x2fab29=>_0x2fab29[_0x39e85a(0xb9c)]===_0x39e85a(0x323)),_0x4deee1=_0x544d43[_0x39e85a(0x757)],_0x2060e1=_0x544d43['filter'](_0x4f887b=>_0x4f887b['answeredCurrentQuestion']===!![])[_0x39e85a(0x757)],_0x3a3449=document[_0x39e85a(0x68c)](_0x39e85a(0xb90));if(_0x3a3449)_0x3a3449['textContent']=_0x2060e1+'/'+_0x4deee1;const _0x10837d=document[_0x39e85a(0x68c)](_0x39e85a(0x941));if(_0x10837d){let _0xac59=Object[_0x39e85a(0x82c)](_0x1a6f0e)['filter'](([_0x1a6fef,_0x1cc9de])=>_0x1cc9de[_0x39e85a(0xb9c)]===_0x39e85a(0x323))[_0x39e85a(0x345)](([_0x4d43d7,_0x540b7a])=>{const _0x49be64=_0x39e85a,_0x1aea4d=_0x540b7a[_0x49be64(0x611)]===!![],_0x300c02=_0x1aea4d?'bg-green-500':_0x49be64(0xa5e),_0x5bde46=_0x1aea4d?_0x49be64(0x771):_0x49be64(0x445);return _0x49be64(0x780)+_0x300c02+_0x49be64(0x951)+_0x5bde46+_0x49be64(0xb33)+_0x4d43d7+_0x49be64(0xb7f)+_0x4d43d7+_0x49be64(0x527);})[_0x39e85a(0x95f)]('');_0x10837d[_0x39e85a(0xa0c)]=_0xac59||_0x39e85a(0xb4a);}_0x4deee1>0x0&&_0x2060e1===_0x4deee1&&revealAnswerForAdmin(_0x46b75d,currentQuizData['questions'][_0x39e85a(0x757)]);}else{const _0x1f1351=_0x366474[_0x39e85a(0xb2c)][currentStudentName];_0x1f1351&&!_0x1f1351[_0x39e85a(0x611)]&&showStudentLiveQuestionView(_0x33c57d,_0x46b75d,currentQuizData[_0x39e85a(0x72b)]['length']);}break;}}break;case _0x39e85a(0x3b2):showPodiumView(_0x366474['players'],'live-race');break;}});}async function openGlobalActivityModal(){const _0x1b5622=_0x594c14;if(allQuizzesGlobal[_0x1b5622(0x757)]===0x0){const _0x3dbaed=await getDocs(collection(db,_0x1b5622(0x632)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x3dbaed['docs'][_0x1b5622(0x345)](_0x14876a=>({'id':_0x14876a['id'],..._0x14876a['data']()}));}renderGlobalActivityList(''),document[_0x1b5622(0x68c)](_0x1b5622(0x6e0))[_0x1b5622(0x936)][_0x1b5622(0x373)](_0x1b5622(0x1dc));}function renderGlobalActivityList(_0x3534d7=''){const _0x475c36=_0x594c14,_0x1f3706=document['getElementById']('global-activity-quiz-list'),_0x522386=_0x3534d7[_0x475c36(0x986)]()[_0x475c36(0x99c)](),_0x5ab0d0=allQuizzesGlobal['map'](_0x1af321=>({..._0x1af321,'projectName':allProjects[_0x475c36(0xad3)](_0x253f09=>_0x253f09['id']===_0x1af321[_0x475c36(0x618)])?.['projectName']||'N/A'}))[_0x475c36(0x298)](_0x307e54=>(_0x307e54[_0x475c36(0x72e)]||'')[_0x475c36(0x986)]()['includes'](_0x522386)||(_0x307e54[_0x475c36(0xbc1)]||'')[_0x475c36(0x986)]()[_0x475c36(0x92b)](_0x522386));document['getElementById'](_0x475c36(0xb44))[_0x475c36(0xb4b)]='('+_0x5ab0d0[_0x475c36(0x757)]+_0x475c36(0x5c1),_0x1f3706['innerHTML']=_0x5ab0d0[_0x475c36(0x757)]?_0x5ab0d0['map'](_0x1251c0=>_0x475c36(0x523)+(_0x1251c0[_0x475c36(0x72e)]||'(ไม่มีชื่อ)')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x1251c0[_0x475c36(0x72b)]?.[_0x475c36(0x757)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x1251c0[_0x475c36(0xbc1)]+_0x475c36(0xaf7)+_0x1251c0['id']+_0x475c36(0x756)+_0x1251c0['id']+_0x475c36(0x423)+_0x1251c0['id']+_0x475c36(0xba2)+_0x1251c0['id']+_0x475c36(0x487))[_0x475c36(0x95f)](''):_0x475c36(0x567);}async function handleKickPlayer(_0x196a84){const _0x41d591=_0x594c14;if(!currentLiveGameId||!_0x196a84)return;const _0x21bfdb=doc(db,'artifacts/'+appId+_0x41d591(0x6a5),currentLiveGameId),_0x4419ce={};_0x4419ce[_0x41d591(0x6c7)+_0x196a84+_0x41d591(0x541)]=_0x41d591(0x715);try{await updateDoc(_0x21bfdb,_0x4419ce);}catch(_0xc4244a){console[_0x41d591(0x4e5)](_0x41d591(0x4a4)+_0x196a84+':',_0xc4244a),showMessage(_0x41d591(0xbf8));}}async function authenticateUser(){const _0x484837=_0x594c14;try{typeof __initial_auth_token!==_0x484837(0xac1)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x139d12){console[_0x484837(0x4e5)](_0x484837(0x358),_0x139d12),showMessage(_0x484837(0xa64));}}function showView(_0x52901e){const _0x163cf7=_0x594c14;adminView[_0x163cf7(0x936)][_0x163cf7(0x2de)](_0x163cf7(0x1dc)),studentView[_0x163cf7(0x936)][_0x163cf7(0x2de)](_0x163cf7(0x1dc)),projectDashboardView['classList']['add']('hidden'),projectDetailView['classList'][_0x163cf7(0x2de)](_0x163cf7(0x1dc)),quizResultsView[_0x163cf7(0x936)]['add'](_0x163cf7(0x1dc)),liveGameView[_0x163cf7(0x936)][_0x163cf7(0x2de)](_0x163cf7(0x1dc)),document[_0x163cf7(0x68c)](_0x163cf7(0x654))[_0x163cf7(0x936)][_0x163cf7(0x2de)](_0x163cf7(0x1dc)),studentInitialView[_0x163cf7(0x936)][_0x163cf7(0x2de)](_0x163cf7(0x1dc)),studentJoinGameView[_0x163cf7(0x936)]['add']('hidden'),studentNameSelectionView[_0x163cf7(0x936)][_0x163cf7(0x2de)]('hidden'),studentQuizArea['classList']['add'](_0x163cf7(0x1dc)),studentResultArea[_0x163cf7(0x936)][_0x163cf7(0x2de)](_0x163cf7(0x1dc)),studentReadingArea['classList'][_0x163cf7(0x2de)](_0x163cf7(0x1dc));const _0x17ed17=document[_0x163cf7(0x68c)](_0x163cf7(0x26e)),_0x1ef7b5=document[_0x163cf7(0x68c)](_0x163cf7(0x851));if(_0x17ed17)_0x17ed17[_0x163cf7(0x936)][_0x163cf7(0x2de)]('hidden');if(_0x1ef7b5)_0x1ef7b5['classList'][_0x163cf7(0x2de)]('hidden');switch(_0x52901e){case _0x163cf7(0x30e):adminView[_0x163cf7(0x936)][_0x163cf7(0x373)](_0x163cf7(0x1dc)),projectDashboardView['classList']['remove'](_0x163cf7(0x1dc));break;case _0x163cf7(0x6ab):adminView[_0x163cf7(0x936)]['remove'](_0x163cf7(0x1dc)),projectDetailView[_0x163cf7(0x936)][_0x163cf7(0x373)](_0x163cf7(0x1dc));break;case'quiz-results':adminView[_0x163cf7(0x936)][_0x163cf7(0x373)](_0x163cf7(0x1dc)),quizResultsView[_0x163cf7(0x936)][_0x163cf7(0x373)](_0x163cf7(0x1dc));break;case _0x163cf7(0x867):studentView['classList'][_0x163cf7(0x373)](_0x163cf7(0x1dc)),studentInitialView[_0x163cf7(0x936)]['remove'](_0x163cf7(0x1dc));break;case'live-game':liveGameView[_0x163cf7(0x936)]['remove'](_0x163cf7(0x1dc));break;case _0x163cf7(0xa65):studentView[_0x163cf7(0x936)][_0x163cf7(0x373)](_0x163cf7(0x1dc));if(_0x17ed17)_0x17ed17[_0x163cf7(0x936)]['remove'](_0x163cf7(0x1dc));break;case _0x163cf7(0x78c):studentView['classList'][_0x163cf7(0x373)](_0x163cf7(0x1dc));if(_0x1ef7b5)_0x1ef7b5[_0x163cf7(0x936)]['remove'](_0x163cf7(0x1dc));break;default:studentView[_0x163cf7(0x936)][_0x163cf7(0x373)](_0x163cf7(0x1dc)),studentInitialView[_0x163cf7(0x936)][_0x163cf7(0x373)]('hidden');break;}}function showJoinGameView(){const _0x218627=_0x594c14;studentInitialView['classList'][_0x218627(0x2de)]('hidden'),studentJoinGameView[_0x218627(0x936)][_0x218627(0x373)](_0x218627(0x1dc));}async function handleSaveVisibilitySettings(){const _0x182ded=_0x594c14;if(!currentProjectId)return;const _0x562090=doc(db,'artifacts/'+appId+_0x182ded(0x29a),currentProjectId);try{await updateDoc(_0x562090,{'settings.showInStudentDashboard':document[_0x182ded(0x68c)](_0x182ded(0x59d))[_0x182ded(0x9cb)],'settings.isPasscodeEnabled':document[_0x182ded(0x68c)](_0x182ded(0x577))[_0x182ded(0x9cb)],'settings.passcode':document[_0x182ded(0x68c)](_0x182ded(0x404))['value'][_0x182ded(0x99c)]()}),showMessage(_0x182ded(0x620));}catch(_0x51f8bc){console['error'](_0x182ded(0x441),_0x51f8bc),showMessage(_0x182ded(0x949));}}function setupEventListeners(){const _0x1ceeb0=_0x594c14;document[_0x1ceeb0(0x68c)]('save-bp-reference-btn')['addEventListener'](_0x1ceeb0(0xc83),async()=>{const _0x6ff9d9=_0x1ceeb0;if(!currentBlueprintProjectId)return;const _0x4aaec7=document[_0x6ff9d9(0x68c)](_0x6ff9d9(0x5fa))[_0x6ff9d9(0x9a1)][_0x6ff9d9(0x99c)](),_0x529e59=doc(db,_0x6ff9d9(0x632)+appId+_0x6ff9d9(0xa90),currentBlueprintProjectId);try{await updateDoc(_0x529e59,{'referenceFileUrl':_0x4aaec7}),showMessage(_0x6ff9d9(0xac2));}catch(_0x2526d3){console[_0x6ff9d9(0x4e5)]('Error\x20saving\x20reference\x20URL:',_0x2526d3),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x49d))[_0x1ceeb0(0x7a0)]('click',handleAddParallelShortcutTab),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xa3f))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),_0x2ae3f2=>{const _0x4e05b8=_0x1ceeb0;_0x2ae3f2['target'][_0x4e05b8(0x50f)](_0x4e05b8(0x400))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document[_0x4e05b8(0x68c)](_0x4e05b8(0xa86))['classList'][_0x4e05b8(0x373)]('hidden'));}),document['getElementById'](_0x1ceeb0(0xa8d))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x585eda=_0x1ceeb0;document[_0x585eda(0x68c)](_0x585eda(0xa86))[_0x585eda(0x936)][_0x585eda(0x2de)](_0x585eda(0x1dc));}),document[_0x1ceeb0(0x7a0)]('click',_0x55ca27=>{const _0x302a12=_0x1ceeb0;!_0x55ca27[_0x302a12(0x221)][_0x302a12(0x50f)]('.group\x5c/dropdown-parallel')&&document[_0x302a12(0x9c3)](_0x302a12(0xbcd))[_0x302a12(0x8be)](_0x4cf5ec=>_0x4cf5ec['classList']['add'](_0x302a12(0x1dc)));}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x2b6))[_0x1ceeb0(0x7a0)]('click',handleAddFileShortcutTab),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x8ac))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),_0x3c3ba9=>{const _0x2f36fc=_0x1ceeb0;_0x3c3ba9[_0x2f36fc(0x221)]['closest'](_0x2f36fc(0x678))&&(activeFileShortcutTabId=_0x2f36fc(0xd2b),renderAdditionalFileShortcutsModal(),document[_0x2f36fc(0x68c)](_0x2f36fc(0x616))[_0x2f36fc(0x936)][_0x2f36fc(0x373)]('hidden'));}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x8e8))['addEventListener'](_0x1ceeb0(0xc83),()=>{const _0x5c093b=_0x1ceeb0;document[_0x5c093b(0x68c)](_0x5c093b(0x616))[_0x5c093b(0x936)]['add'](_0x5c093b(0x1dc));}),document[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),_0x5c3bf6=>{const _0x3a24e7=_0x1ceeb0;!_0x5c3bf6[_0x3a24e7(0x221)]['closest']('.group\x5c/dropdown-file')&&document[_0x3a24e7(0x9c3)](_0x3a24e7(0x977))[_0x3a24e7(0x8be)](_0x273938=>_0x273938[_0x3a24e7(0x936)]['add'](_0x3a24e7(0x1dc)));}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xaf0))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),handleAddShortcutTab),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x5a2))['addEventListener'](_0x1ceeb0(0xc83),_0x20b792=>{const _0x401a8d=_0x1ceeb0,_0x2cbe1d=_0x20b792[_0x401a8d(0x221)][_0x401a8d(0x50f)]('.parallel-shortcut-btn'),_0x430f22=_0x20b792['target'][_0x401a8d(0x50f)](_0x401a8d(0xc17)),_0xb3f97f=_0x20b792[_0x401a8d(0x221)][_0x401a8d(0x50f)](_0x401a8d(0x23e));if(_0x430f22)openParallelTestShortcutEditor(_0x430f22[_0x401a8d(0x7f1)]['id']);else{if(_0xb3f97f){const _0x37a5b1=_0xb3f97f[_0x401a8d(0x7f1)]['id'];showConfirmation(_0x401a8d(0x6ed),async()=>{const _0x30e739=_0x401a8d,_0xdbcb5a=parallelTestShortcuts[_0x30e739(0x298)](_0x56baca=>_0x56baca['id']!==_0x37a5b1),_0x2599a0=doc(db,_0x30e739(0xbb0),_0x30e739(0x7b7));await setDoc(_0x2599a0,{'shortcuts':_0xdbcb5a},{'merge':!![]});});}else _0x2cbe1d&&handleParallelTestShortcutClick(_0x2cbe1d[_0x401a8d(0x7f1)]['id']);}}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x4af))[_0x1ceeb0(0x7a0)]('click',()=>openParallelTestShortcutEditor(null)),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xb7d))['addEventListener']('click',()=>{const _0x1d1b08=_0x1ceeb0;document[_0x1d1b08(0x68c)](_0x1d1b08(0xbd6))[_0x1d1b08(0x936)][_0x1d1b08(0x2de)]('hidden');}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x3f6))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),saveParallelTestShortcutChanges),document[_0x1ceeb0(0x68c)]('parallel-test-input-area')[_0x1ceeb0(0x7a0)]('click',_0x5cab51=>{const _0x3598f9=_0x1ceeb0;_0x5cab51[_0x3598f9(0x221)]['closest']('#open-additional-parallel-shortcuts-btn')&&document['getElementById'](_0x3598f9(0xa86))[_0x3598f9(0x936)][_0x3598f9(0x373)](_0x3598f9(0x1dc));}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xa8d))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x35d441=_0x1ceeb0;document[_0x35d441(0x68c)](_0x35d441(0xa86))['classList'][_0x35d441(0x2de)](_0x35d441(0x1dc));}),document[_0x1ceeb0(0x68c)]('additional-parallel-shortcuts-list')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),_0x13fb43=>{const _0x1a46c3=_0x1ceeb0,_0x1b960a=document[_0x1a46c3(0x68c)]('additional-parallel-shortcuts-modal'),_0x4cb08b=_0x13fb43[_0x1a46c3(0x221)]['closest']('.use-hidden-parallel-shortcut-btn'),_0x43b473=_0x13fb43[_0x1a46c3(0x221)][_0x1a46c3(0x50f)](_0x1a46c3(0x644)),_0x3260af=_0x13fb43[_0x1a46c3(0x221)][_0x1a46c3(0x50f)](_0x1a46c3(0x7dd));if(_0x4cb08b)_0x1b960a[_0x1a46c3(0x936)][_0x1a46c3(0x2de)]('hidden'),handleParallelTestShortcutClick(_0x4cb08b[_0x1a46c3(0x7f1)]['id']);else{if(_0x43b473)_0x1b960a[_0x1a46c3(0x936)][_0x1a46c3(0x2de)](_0x1a46c3(0x1dc)),openParallelTestShortcutEditor(_0x43b473[_0x1a46c3(0x7f1)]['id']);else{if(_0x3260af){const _0x204e39=_0x3260af[_0x1a46c3(0x7f1)]['id'];showConfirmation(_0x1a46c3(0x6ed),async()=>{const _0xaefaeb=_0x1a46c3,_0x38aea6=parallelTestShortcuts[_0xaefaeb(0x298)](_0x31e3e1=>_0x31e3e1['id']!==_0x204e39),_0x59ccf3=doc(db,_0xaefaeb(0xbb0),_0xaefaeb(0x7b7));await setDoc(_0x59ccf3,{'shortcuts':_0x38aea6},{'merge':!![]});});}}}}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x9de))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),_0x475aaf=>{const _0x1e7290=_0x1ceeb0,_0x49aa78=_0x475aaf['target'][_0x1e7290(0x50f)](_0x1e7290(0xad0)),_0x5534b2=_0x475aaf[_0x1e7290(0x221)][_0x1e7290(0x50f)](_0x1e7290(0xa52)),_0x39b1da=_0x475aaf['target'][_0x1e7290(0x50f)]('.delete-file-shortcut-btn');if(_0x5534b2)openFileShortcutEditor(_0x5534b2['dataset']['id']);else{if(_0x39b1da){const _0x3b7252=_0x39b1da['dataset']['id'];showConfirmation(_0x1e7290(0x6ed),async()=>{const _0xb8365d=_0x1e7290,_0x2f9da0=fileShortcuts[_0xb8365d(0x298)](_0x224a26=>_0x224a26['id']!==_0x3b7252),_0x203ae4=doc(db,_0xb8365d(0xbb0),_0xb8365d(0xbe4));await setDoc(_0x203ae4,{'shortcuts':_0x2f9da0},{'merge':!![]});});}else _0x49aa78&&handleFileShortcutClick(_0x49aa78[_0x1e7290(0x7f1)]['id']);}}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x8c2))['addEventListener'](_0x1ceeb0(0xc83),()=>openFileShortcutEditor(null)),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xb62))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x376e46=_0x1ceeb0;document['getElementById'](_0x376e46(0x205))[_0x376e46(0x936)][_0x376e46(0x2de)](_0x376e46(0x1dc));}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x857))[_0x1ceeb0(0x7a0)]('click',saveFileShortcutChanges),document[_0x1ceeb0(0x68c)]('file-input-area')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),_0x27addb=>{const _0x20f1bc=_0x1ceeb0;_0x27addb['target']['closest'](_0x20f1bc(0x678))&&document['getElementById'](_0x20f1bc(0x616))[_0x20f1bc(0x936)][_0x20f1bc(0x373)](_0x20f1bc(0x1dc));}),document[_0x1ceeb0(0x68c)]('close-additional-file-shortcuts-btn')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x403348=_0x1ceeb0;document[_0x403348(0x68c)](_0x403348(0x616))['classList'][_0x403348(0x2de)](_0x403348(0x1dc));}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xa55))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),_0x24f413=>{const _0x3fc523=_0x1ceeb0,_0xa1c540=document['getElementById']('additional-file-shortcuts-modal'),_0xba53ec=_0x24f413[_0x3fc523(0x221)][_0x3fc523(0x50f)](_0x3fc523(0x9cc)),_0x11c7b4=_0x24f413['target'][_0x3fc523(0x50f)](_0x3fc523(0x33c)),_0x4caf4b=_0x24f413[_0x3fc523(0x221)][_0x3fc523(0x50f)](_0x3fc523(0x43b));if(_0xba53ec)_0xa1c540['classList'][_0x3fc523(0x2de)](_0x3fc523(0x1dc)),handleFileShortcutClick(_0xba53ec[_0x3fc523(0x7f1)]['id']);else{if(_0x11c7b4)_0xa1c540[_0x3fc523(0x936)][_0x3fc523(0x2de)](_0x3fc523(0x1dc)),openFileShortcutEditor(_0x11c7b4['dataset']['id']);else{if(_0x4caf4b){const _0x5b1016=_0x4caf4b[_0x3fc523(0x7f1)]['id'];showConfirmation(_0x3fc523(0x6ed),async()=>{const _0x5e8d58=_0x3fc523,_0x22c2b9=fileShortcuts[_0x5e8d58(0x298)](_0x5f31f2=>_0x5f31f2['id']!==_0x5b1016),_0x28f937=doc(db,_0x5e8d58(0xbb0),_0x5e8d58(0xbe4));await setDoc(_0x28f937,{'shortcuts':_0x22c2b9},{'merge':!![]});});}}}}),document['getElementById']('blueprint-input-area')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),_0x3d7db8=>{const _0x5678be=_0x1ceeb0;_0x3d7db8['target'][_0x5678be(0x50f)](_0x5678be(0xa35))&&(activeShortcutTabId=_0x5678be(0xd2b),renderAdditionalShortcutsModal(),document[_0x5678be(0x68c)](_0x5678be(0x8d1))['classList']['remove'](_0x5678be(0x1dc)));}),document['getElementById'](_0x1ceeb0(0x4d5))[_0x1ceeb0(0x7a0)]('click',()=>{const _0x40fa57=_0x1ceeb0;document['getElementById'](_0x40fa57(0x8d1))[_0x40fa57(0x936)][_0x40fa57(0x2de)](_0x40fa57(0x1dc));}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xbaf))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),_0x536a61=>{const _0x4e787d=_0x1ceeb0,_0x183fa5=_0x536a61[_0x4e787d(0x221)][_0x4e787d(0x50f)](_0x4e787d(0x873)),_0x4840f3=_0x536a61['target'][_0x4e787d(0x50f)](_0x4e787d(0x484)),_0x112381=_0x536a61[_0x4e787d(0x221)][_0x4e787d(0x50f)](_0x4e787d(0x42f)),_0x4249e8=document[_0x4e787d(0x68c)](_0x4e787d(0x8d1));if(_0x183fa5)_0x4249e8[_0x4e787d(0x936)][_0x4e787d(0x2de)](_0x4e787d(0x1dc)),handleShortcutClick(_0x183fa5[_0x4e787d(0x7f1)]['id']);else{if(_0x4840f3)_0x4249e8[_0x4e787d(0x936)][_0x4e787d(0x2de)](_0x4e787d(0x1dc)),openShortcutEditor(_0x4840f3[_0x4e787d(0x7f1)]['id']);else{if(_0x112381){const _0x27237c=_0x112381[_0x4e787d(0x7f1)]['id'],_0x438ee7=blueprintShortcuts[_0x4e787d(0xad3)](_0x554b9e=>_0x554b9e['id']===_0x27237c)?.['name'];showConfirmation(_0x4e787d(0x5aa)+_0x438ee7+'\x22?',async()=>{const _0x3f569e=_0x4e787d,_0x5871c4=blueprintShortcuts[_0x3f569e(0x298)](_0x299d3b=>_0x299d3b['id']!==_0x27237c);try{const _0x29ac8c=doc(db,'globalSettings',_0x3f569e(0x4bd));await setDoc(_0x29ac8c,{'blueprintShortcuts':_0x5871c4},{'merge':!![]});}catch(_0x10f5ee){console[_0x3f569e(0x4e5)](_0x3f569e(0x9a7),_0x10f5ee);}});}}}}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x340))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),_0xa5a32e=>{const _0x17e5cb=_0x1ceeb0,_0x23a4d4=_0xa5a32e[_0x17e5cb(0x221)][_0x17e5cb(0x50f)]('.shortcut-btn'),_0x55f529=_0xa5a32e['target'][_0x17e5cb(0x50f)]('.edit-shortcut-btn'),_0x85146f=_0xa5a32e[_0x17e5cb(0x221)][_0x17e5cb(0x50f)](_0x17e5cb(0x4a6));if(_0x55f529)openShortcutEditor(_0x55f529['dataset']['id']);else{if(_0x85146f){const _0x1f338d=_0x85146f[_0x17e5cb(0x7f1)]['id'],_0x5942f0=blueprintShortcuts[_0x17e5cb(0xad3)](_0x23f6f9=>_0x23f6f9['id']===_0x1f338d)?.[_0x17e5cb(0xb31)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x5942f0+'\x22?',async()=>{const _0x5f14a6=_0x17e5cb,_0x4d2aa2=blueprintShortcuts[_0x5f14a6(0x298)](_0x12fb50=>_0x12fb50['id']!==_0x1f338d);try{const _0x3a34e9=doc(db,_0x5f14a6(0xbb0),_0x5f14a6(0x4bd));await setDoc(_0x3a34e9,{'blueprintShortcuts':_0x4d2aa2},{'merge':!![]});}catch(_0x2c1952){console[_0x5f14a6(0x4e5)]('Error\x20deleting\x20shortcut:',_0x2c1952);}});}else _0x23a4d4&&handleShortcutClick(_0x23a4d4['dataset']['id']);}}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xceb))['addEventListener'](_0x1ceeb0(0xc83),()=>openShortcutEditor(null)),document['getElementById']('cancel-shortcut-edit-btn')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x1a82fa=_0x1ceeb0;document['getElementById'](_0x1a82fa(0x1b1))['classList']['add'](_0x1a82fa(0x1dc));}),document[_0x1ceeb0(0x68c)]('save-shortcut-btn')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),saveShortcutChanges),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x6ea))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),async()=>{const _0x1da63f=_0x1ceeb0,_0x568906=document['getElementById'](_0x1da63f(0x8e6)),_0x47bb73=document[_0x1da63f(0x68c)]('reference-pdf-upload');_0x568906[_0x1da63f(0x5d6)][_0x1da63f(0x757)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x568906[_0x1da63f(0x5d6)][0x0],_0x47bb73[_0x1da63f(0x5d6)][0x0]||null):showMessage(_0x1da63f(0x297));}),document[_0x1ceeb0(0x68c)]('topic-quiz-bank-modal')['addEventListener'](_0x1ceeb0(0xc83),async _0xa3925f=>{const _0x115721=_0x1ceeb0,_0x2a6774=document[_0x115721(0x68c)](_0x115721(0x597)),_0x2b8676=_0xa3925f['target'][_0x115721(0x50f)](_0x115721(0x716)),_0xe48c68=_0xa3925f[_0x115721(0x221)][_0x115721(0x50f)]('.bp-unlink-quiz-btn'),_0x2a890b=_0xa3925f[_0x115721(0x221)][_0x115721(0x50f)](_0x115721(0xb3a)),_0xebe9b=_0xa3925f[_0x115721(0x221)]['closest'](_0x115721(0x9ca)),_0x53c43e=_0xa3925f[_0x115721(0x221)]['closest'](_0x115721(0xcca)),_0x58699e=_0xa3925f[_0x115721(0x221)][_0x115721(0x50f)]('.bp-game-btn');if(_0x2b8676){cameFromBlueprint=!![];const _0x5efc39=_0x2b8676[_0x115721(0x7f1)][_0x115721(0x8c6)];showQuizDetailView(_0x5efc39),_0x2a6774[_0x115721(0x936)]['add'](_0x115721(0x1dc));}else{if(_0xe48c68){const _0x14eead=_0xe48c68[_0x115721(0x7f1)]['topicId'],_0xd7e67=_0xe48c68[_0x115721(0x7f1)][_0x115721(0x8c6)],_0x5ad7d6=allQuizzesGlobal[_0x115721(0xad3)](_0x5ea806=>_0x5ea806['id']===_0xd7e67),_0x35babd=_0x5ad7d6?_0x5ad7d6[_0x115721(0x72e)]:_0x115721(0x76f);showConfirmation(_0x115721(0xb50)+_0x35babd+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x4d1874=_0x115721;try{const _0x3cc86f=doc(db,_0x4d1874(0x632)+appId+_0x4d1874(0xa90),currentBlueprintProjectId);await updateDoc(_0x3cc86f,{[_0x4d1874(0x80f)+_0x14eead+_0x4d1874(0x9d0)]:arrayRemove(_0xd7e67)}),showMessage(_0x4d1874(0x8bc)),openTopicQuizBank(_0x14eead),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4287cf){console[_0x4d1874(0x4e5)]('Error\x20unlinking\x20quiz:',_0x4287cf),showMessage(_0x4d1874(0xcc6));}});}else{if(_0x2a890b){cameFromBlueprint=!![];const _0x37fe37=_0x2a890b[_0x115721(0x7f1)][_0x115721(0x8c6)],_0x3523dd=allQuizzesGlobal[_0x115721(0xad3)](_0xf3d55b=>_0xf3d55b['id']===_0x37fe37);_0x3523dd&&(startPresentation(_0x3523dd),_0x2a6774[_0x115721(0x936)]['add'](_0x115721(0x1dc)));}else{if(_0xebe9b){cameFromBlueprint=!![];const _0x15736c=_0xebe9b['dataset']['quizId'],_0x4f4e33=allQuizzesGlobal['find'](_0x2c2842=>_0x2c2842['id']===_0x15736c);_0x4f4e33&&(currentQuizData=_0x4f4e33,startAdminTest(),_0x2a6774[_0x115721(0x936)][_0x115721(0x2de)]('hidden'));}else{if(_0x53c43e)cameFromBlueprint=!![],handleStartLiveRace(_0x53c43e[_0x115721(0x7f1)]['quizId']),_0x2a6774[_0x115721(0x936)]['add'](_0x115721(0x1dc));else{if(_0x58699e){cameFromBlueprint=!![];const _0x5e0f12=_0x58699e[_0x115721(0x7f1)]['quizId'],_0x217e21=_0x58699e[_0x115721(0x7f1)]['mode'],_0x334363=allQuizzesGlobal[_0x115721(0xad3)](_0x1f0910=>_0x1f0910['id']===_0x5e0f12);_0x334363&&(showGameStartConfirmationModal(_0x5e0f12,_0x217e21,_0x334363[_0x115721(0x72e)]),_0x2a6774[_0x115721(0x936)][_0x115721(0x2de)](_0x115721(0x1dc)));}}}}}}}),document[_0x1ceeb0(0x68c)]('manual-create-blueprint-btn')['addEventListener']('click',()=>{const _0x54ebb7=_0x1ceeb0;document[_0x54ebb7(0x68c)]('manual-blueprint-modal')[_0x54ebb7(0x936)][_0x54ebb7(0x373)](_0x54ebb7(0x1dc)),document[_0x54ebb7(0x68c)](_0x54ebb7(0xbea))[_0x54ebb7(0x9a1)]='',document[_0x54ebb7(0x68c)](_0x54ebb7(0x2cb))[_0x54ebb7(0x9a1)]='',document[_0x54ebb7(0x68c)](_0x54ebb7(0x8f8))[_0x54ebb7(0x9a1)]='';}),document['getElementById'](_0x1ceeb0(0xc79))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x548afb=_0x1ceeb0;document[_0x548afb(0x68c)](_0x548afb(0x7a4))[_0x548afb(0x936)][_0x548afb(0x2de)]('hidden');}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x80e))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),handleManualBlueprintSave),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x3b1))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x585))[_0x1ceeb0(0x936)][_0x1ceeb0(0x2de)]('hidden')),document['getElementById'](_0x1ceeb0(0xbf1))[_0x1ceeb0(0x7a0)]('click',handleSaveBlueprintPageSettings),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x9b3))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),openBlueprintQuizSettings),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x865))['addEventListener'](_0x1ceeb0(0xc83),saveBlueprintProject),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x66e))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),showBlueprintProjects),document['getElementById'](_0x1ceeb0(0x81e))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x3498d7=_0x1ceeb0;document[_0x3498d7(0x68c)](_0x3498d7(0xc3f))['classList'][_0x3498d7(0x2de)](_0x3498d7(0x1dc));}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x9fb))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),_0x475bc0=>{const _0x76d5c1=_0x1ceeb0,_0x4d9acb=_0x475bc0['target']['closest'](_0x76d5c1(0xa37)),_0x1d1941=_0x475bc0[_0x76d5c1(0x221)][_0x76d5c1(0x50f)](_0x76d5c1(0x679));if(_0x4d9acb)displayBlueprintProjectManager(_0x4d9acb['dataset']['id']);else _0x1d1941&&handleDeepDeleteBlueprintProject(_0x1d1941[_0x76d5c1(0x7f1)]['id']);}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xbe6))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x5ee592=_0x1ceeb0;currentBlueprintProjectId=null,currentProjectId=null,document['getElementById'](_0x5ee592(0x654))['classList'][_0x5ee592(0x2de)](_0x5ee592(0x1dc)),showView(_0x5ee592(0x30e));}),document[_0x1ceeb0(0x68c)]('bp-add-topic-btn')['addEventListener'](_0x1ceeb0(0xc83),addTopicToProject),document['getElementById'](_0x1ceeb0(0x256))['addEventListener'](_0x1ceeb0(0xc83),async _0x4d96d4=>{const _0x519dc8=_0x1ceeb0,_0x103e54=_0x4d96d4[_0x519dc8(0x221)][_0x519dc8(0x50f)]('[data-topic-id]');if(!_0x103e54)return;const _0x54083e=_0x103e54['dataset'][_0x519dc8(0xce6)],_0x402566=_0x4d96d4[_0x519dc8(0x221)][_0x519dc8(0x50f)](_0x519dc8(0xb4c)),_0x2bb4d2=_0x4d96d4[_0x519dc8(0x221)]['closest'](_0x519dc8(0x5cb)),_0x1aac38=_0x4d96d4[_0x519dc8(0x221)]['closest'](_0x519dc8(0x88f)),_0x2eace5=_0x4d96d4[_0x519dc8(0x221)][_0x519dc8(0x50f)](_0x519dc8(0x748)),_0x38267e=_0x4d96d4[_0x519dc8(0x221)]['closest'](_0x519dc8(0x62d)),_0x6b41a2=_0x4d96d4[_0x519dc8(0x221)][_0x519dc8(0x50f)](_0x519dc8(0x580)),_0x1c9c76=_0x4d96d4[_0x519dc8(0x221)][_0x519dc8(0x50f)](_0x519dc8(0x521)),_0x317a67=_0x4d96d4[_0x519dc8(0x221)][_0x519dc8(0x50f)](_0x519dc8(0xc9d)),_0xf3779c=_0x53185f=>{const _0x54c641=_0x519dc8,_0x11f6f1=_0x53185f['querySelector'](_0x54c641(0x6ac))[_0x54c641(0xb4b)][_0x54c641(0x99c)](),_0xedd02f=_0x53185f[_0x54c641(0x50f)](_0x54c641(0x93f))[_0x54c641(0x833)],_0x3418c3=_0xedd02f?_0xedd02f['textContent']['trim']():'';return _0x3418c3+':\x20'+_0x11f6f1;};if(_0x2eace5)openTopicQuizBank(_0x54083e);else{if(_0x402566){const _0x1c1e2a=_0xf3779c(_0x103e54);selectProjectAndGenerateBlueprintQuiz(_0x1c1e2a,null,_0x54083e,!![]);}else{if(_0x2bb4d2){const _0x591c7e=_0xf3779c(_0x103e54);try{const _0x2c15de=doc(db,'artifacts/'+appId+_0x519dc8(0x8a6)+currentBlueprintProjectId+_0x519dc8(0xaa2),_0x54083e),_0x560d89=await getDoc(_0x2c15de);if(_0x560d89[_0x519dc8(0x367)]()){const _0x5e6136=_0x560d89[_0x519dc8(0x21d)]()[_0x519dc8(0x63a)],_0x1c6133=document[_0x519dc8(0x604)](_0x519dc8(0x2d6)),_0x411a18=_0xebfb46=>{const _0x2aa596=_0x519dc8;if(!_0xebfb46)return'';return _0x1c6133[_0x2aa596(0xa0c)]=_0xebfb46,_0x1c6133[_0x2aa596(0xb4b)]||_0x1c6133[_0x2aa596(0x558)]||'';},_0x1ac5ad=(_0x411a18(_0x5e6136[_0x519dc8(0x9c0)])+'\x20'+_0x411a18(_0x5e6136[_0x519dc8(0x4b4)])+'\x20'+_0x411a18(_0x5e6136[_0x519dc8(0x339)]))[_0x519dc8(0x99c)]();selectProjectAndGenerateBlueprintQuiz(_0x591c7e,_0x1ac5ad,_0x54083e,![]);}else showMessage(_0x519dc8(0x877));}catch(_0x59e4d0){console[_0x519dc8(0x4e5)](_0x519dc8(0x2b2),_0x59e4d0),showMessage(_0x519dc8(0xb97));}}else{if(_0x1aac38){const _0x573a67=_0xf3779c(_0x103e54);selectProjectAndGenerateBlueprintQuiz(_0x573a67,null,_0x54083e,![]);}else{if(_0x38267e){const _0x36047d=doc(db,'artifacts/'+appId+_0x519dc8(0xa90),currentBlueprintProjectId),_0x3dfc79=await getDoc(_0x36047d);if(_0x3dfc79[_0x519dc8(0x367)]()){const _0x381e6a=_0x3dfc79['data'](),_0x5eb914=_0x381e6a[_0x519dc8(0x548)][_0x54083e];if(_0x5eb914&&_0x5eb914['status']==='generated')try{const _0x592580=doc(db,_0x519dc8(0x632)+appId+_0x519dc8(0x8a6)+currentBlueprintProjectId+_0x519dc8(0xaa2),_0x54083e),_0x1923b4=await getDoc(_0x592580);if(_0x1923b4['exists']()){const _0x5d218a=_0x1923b4[_0x519dc8(0x21d)]()[_0x519dc8(0x63a)];document[_0x519dc8(0x68c)](_0x519dc8(0x276))[_0x519dc8(0xb4b)]=_0x519dc8(0xa39)+_0xf3779c(_0x103e54),document[_0x519dc8(0x68c)]('pointContent')['innerHTML']=_0x5d218a[_0x519dc8(0x9c0)],document['getElementById']('memoryContent')['innerHTML']=_0x5d218a[_0x519dc8(0x4b4)],document[_0x519dc8(0x68c)]('summaryContent')[_0x519dc8(0xa0c)]=_0x5d218a[_0x519dc8(0x339)];const _0x2ddfc5=document[_0x519dc8(0x68c)](_0x519dc8(0xa01));_0x5d218a['applicationData']?(currentApplicationData=_0x5d218a[_0x519dc8(0xc4d)],_0x2ddfc5[_0x519dc8(0xa0c)]=currentApplicationData[_0x519dc8(0x345)]((_0x42b597,_0x20f344)=>_0x519dc8(0xbff)+(_0x20f344+0x1)+'.\x20'+marked[_0x519dc8(0x337)](_0x42b597[_0x519dc8(0x72a)])+_0x519dc8(0xb95)+_0x20f344+_0x519dc8(0x7e2)+_0x42b597[_0x519dc8(0x9ac)]['map']((_0x54dfe3,_0xb1ff41)=>_0x519dc8(0xba6)+_0x20f344+',\x20'+_0xb1ff41+_0x519dc8(0x55e)+String[_0x519dc8(0x9d5)](0x61+_0xb1ff41)+'.\x20'+marked[_0x519dc8(0x337)](_0x54dfe3)+_0x519dc8(0xc8f))[_0x519dc8(0x95f)]('')+_0x519dc8(0x905))[_0x519dc8(0x95f)]('')):(currentApplicationData=[],_0x2ddfc5[_0x519dc8(0xa0c)]=_0x5d218a['applicationHTML']||_0x5d218a[_0x519dc8(0x58d)]),document[_0x519dc8(0x68c)](_0x519dc8(0xc1d))[_0x519dc8(0x936)][_0x519dc8(0x2de)]('hidden'),document[_0x519dc8(0x68c)]('lesson-sections-container')[_0x519dc8(0x936)][_0x519dc8(0x373)](_0x519dc8(0x1dc)),document[_0x519dc8(0x68c)](_0x519dc8(0x8d9))[_0x519dc8(0x936)]['remove']('hidden'),window[_0x519dc8(0x8e9)]&&MathJax[_0x519dc8(0x2e2)]([document['getElementById'](_0x519dc8(0xcf1))]);}else showMessage(_0x519dc8(0x2be));}catch(_0x392a68){console[_0x519dc8(0x4e5)](_0x519dc8(0x4e1),_0x392a68),showMessage(_0x519dc8(0x30c));}else showMessage(_0x519dc8(0x21c));}}else{if(_0x6b41a2){const _0x4f8b3d=_0xf3779c(_0x103e54),_0x5d5853=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x1d9466=await getDoc(_0x5d5853);if(_0x1d9466[_0x519dc8(0x367)]()){const _0xc340d0=_0x1d9466[_0x519dc8(0x21d)]();generateAndSaveLessonForBlueprint(_0x54083e,_0x4f8b3d,_0xc340d0[_0x519dc8(0xd26)]);}}else{if(_0x1c9c76)editTopicInProject(_0x54083e);else _0x317a67&&deleteTopicFromProject(_0x54083e);}}}}}}}),document['getElementById']('fix-lesson-latex-btn')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),handleFixLessonLatex),document['getElementById'](_0x1ceeb0(0x8f6))['addEventListener'](_0x1ceeb0(0xc83),handleExportLessonToPDF),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xcf7))['addEventListener'](_0x1ceeb0(0xc83),()=>{const _0x3b4c44=_0x1ceeb0;document[_0x3b4c44(0x68c)](_0x3b4c44(0x8d9))['classList'][_0x3b4c44(0x2de)](_0x3b4c44(0x1dc));});const _0x1c6590=document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x655)),_0x5d3c30=document['getElementById']('bulk-confidence-mode-container');_0x1c6590[_0x1ceeb0(0x7a0)](_0x1ceeb0(0x5b4),()=>{const _0x4e17e3=_0x1ceeb0;_0x5d3c30['classList'][_0x4e17e3(0x34a)](_0x4e17e3(0x1dc),!_0x1c6590[_0x4e17e3(0x9cb)]);});const _0x485030=document[_0x1ceeb0(0x68c)]('confidence-scoring-checkbox'),_0xf8ce13=document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xaf8));_0x485030[_0x1ceeb0(0x7a0)]('change',()=>{const _0x295ccb=_0x1ceeb0;_0xf8ce13['classList'][_0x295ccb(0x34a)]('hidden',!_0x485030[_0x295ccb(0x9cb)]);});const _0x24f9f7=document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xc20)),_0x17802b=document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x798));_0x24f9f7['addEventListener'](_0x1ceeb0(0x5b4),()=>{const _0x17405a=_0x1ceeb0;_0x17802b[_0x17405a(0x936)][_0x17405a(0x34a)]('hidden',!_0x24f9f7[_0x17405a(0x9cb)]);});const _0x272778=document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x1be)),_0x1a4108=async _0x55d2c7=>{const _0x14858a=_0x1ceeb0,_0x18d115=document['getElementById'](_0x14858a(0x1be)),_0x203243=_0x18d115['dataset'][_0x14858a(0xb63)],_0x33c3d7=document[_0x14858a(0x68c)]('selected-answer-index-hidden');_0x18d115['classList'][_0x14858a(0x2de)](_0x14858a(0x1dc));if(_0x203243==='timed'){const _0x5dd7a9=_0x33c3d7[_0x14858a(0x9a1)],_0x3b445d={'answer':_0x5dd7a9,'wasConfident':_0x55d2c7};proceedToNextQuestion(_0x3b445d);}else{if(_0x203243===_0x14858a(0x7c1)){const _0x3e0b0e=_0x33c3d7['dataset']['answerValue'],_0x1b3ac4=JSON['parse'](_0x33c3d7['dataset'][_0x14858a(0x72a)]),_0x37b858=JSON[_0x14858a(0x60b)](_0x33c3d7[_0x14858a(0x7f1)]['gameData']),_0x492858=_0x33c3d7[_0x14858a(0x7f1)][_0x14858a(0xaa7)];handleSyncAnswerSubmit(_0x3e0b0e,_0x1b3ac4,_0x37b858,_0x492858,_0x55d2c7);}}_0x18d115['dataset'][_0x14858a(0xb63)]='';};document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x5a9))['addEventListener'](_0x1ceeb0(0xc83),()=>_0x1a4108(!![])),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x998))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>_0x1a4108(![])),liveGameView[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),_0x324bd5=>{const _0xf49c10=_0x1ceeb0,_0x35c23e=_0x324bd5[_0xf49c10(0x221)]['closest'](_0xf49c10(0x2f8));if(_0x35c23e){const _0x2012d8=_0x35c23e[_0xf49c10(0x7f1)][_0xf49c10(0xaa7)];_0x2012d8&&handleKickPlayerSync(_0x2012d8);}});const _0x4399d5=document['getElementById']('confirm-game-start-btn'),_0x2b08f8=document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x196));_0x2b08f8[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0xf4949=_0x1ceeb0;document[_0xf4949(0x68c)](_0xf4949(0x332))[_0xf4949(0x936)][_0xf4949(0x2de)](_0xf4949(0x1dc));}),_0x4399d5[_0x1ceeb0(0x7a0)]('click',()=>{const _0x10f04e=_0x1ceeb0,_0x223661=document['getElementById'](_0x10f04e(0x65c))[_0x10f04e(0x9a1)],_0x4523a5=document[_0x10f04e(0x68c)](_0x10f04e(0xa16))['value'],_0x29197d=document[_0x10f04e(0x68c)](_0x10f04e(0x843))[_0x10f04e(0x9cb)];document[_0x10f04e(0x68c)](_0x10f04e(0x332))[_0x10f04e(0x936)][_0x10f04e(0x2de)](_0x10f04e(0x1dc));switch(_0x4523a5){case'live-race':handleStartLiveRace(_0x223661,_0x29197d);break;case _0x10f04e(0x45f):handleStartTeamQuiz(_0x223661,_0x29197d);break;case _0x10f04e(0x730):handleStartGroupMode(_0x223661,_0x29197d);break;case'sync':handleStartSyncMode(_0x223661,_0x29197d);break;}}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x20d))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),handleJoinGroupActivity),liveGameView[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),_0x4c34f3=>{const _0x3ed8ef=_0x1ceeb0,_0x5802c1=_0x4c34f3[_0x3ed8ef(0x221)]['closest']('.summary-bar-item');document['querySelectorAll'](_0x3ed8ef(0x612))['forEach'](_0x147c20=>{const _0x5d4f4d=_0x3ed8ef;(!_0x5802c1||_0x147c20['id']!==_0x5802c1[_0x5d4f4d(0x7f1)][_0x5d4f4d(0x3c2)])&&_0x147c20[_0x5d4f4d(0x936)]['remove'](_0x5d4f4d(0x5be));});if(!_0x5802c1)return;const _0x58ee72=_0x5802c1[_0x3ed8ef(0x7f1)]['tooltipTarget'],_0x206e77=document[_0x3ed8ef(0x68c)](_0x58ee72);_0x206e77&&_0x206e77[_0x3ed8ef(0x936)]['toggle'](_0x3ed8ef(0x5be));}),liveGameView[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),_0x346278=>{const _0xcdb8c5=_0x1ceeb0;if(_0x346278[_0xcdb8c5(0x221)][_0xcdb8c5(0x936)]['contains']('kick-player-btn')){const _0x1f34b7=_0x346278[_0xcdb8c5(0x221)]['dataset']['playerName'];_0x1f34b7&&handleKickPlayer(_0x1f34b7);}}),document[_0x1ceeb0(0x68c)]('project-title')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0x49f),()=>document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x965))[_0x1ceeb0(0x936)][_0x1ceeb0(0x373)](_0x1ceeb0(0x1dc))),document['getElementById']('save-project-name-btn')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),handleSaveProjectName),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xa78))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0x966),_0x4aa4ff=>{const _0x107402=_0x1ceeb0;_0x4aa4ff['key']===_0x107402(0xc75)&&(_0x4aa4ff[_0x107402(0xc55)](),_0x4aa4ff[_0x107402(0x221)][_0x107402(0x532)](),handleSaveProjectName());}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xb41))['addEventListener'](_0x1ceeb0(0xc83),()=>{const _0x2c6974=_0x1ceeb0;document[_0x2c6974(0x68c)](_0x2c6974(0x722))['classList'][_0x2c6974(0x373)](_0x2c6974(0x1dc));}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x25f))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0xa018d8=_0x1ceeb0;document[_0xa018d8(0x68c)](_0xa018d8(0x722))[_0xa018d8(0x936)][_0xa018d8(0x2de)](_0xa018d8(0x1dc));}),document['getElementById']('confirm-bulk-quiz-settings-btn')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),handleBulkUpdateQuizSettings),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x253))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),handleModeSwitch),document[_0x1ceeb0(0x68c)]('update-old-quizzes-btn')[_0x1ceeb0(0x7a0)]('click',handleUpdateOldQuizzes),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x781))[_0x1ceeb0(0x7a0)]('click',handleResetProjectOrder),document[_0x1ceeb0(0x68c)]('save-visibility-settings-btn')['addEventListener'](_0x1ceeb0(0xc83),handleSaveVisibilitySettings),document['getElementById']('add-custom-math-topic-btn')['addEventListener'](_0x1ceeb0(0xc83),handleAddCustomMathTopic),document[_0x1ceeb0(0x68c)]('select-all-topics-btn')[_0x1ceeb0(0x7a0)]('click',handleSelectAllTopics),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x5ed))[_0x1ceeb0(0x7a0)]('click',handleDeselectAllTopics),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x9e4))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x43a97e=_0x1ceeb0;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x43a97e(0x30e));}}),document['getElementById'](_0x1ceeb0(0x6c4))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x6e3207=_0x1ceeb0;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x6e3207(0x6ab));}}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x938))['addEventListener'](_0x1ceeb0(0xc83),()=>{const _0xf43aa1=_0x1ceeb0;showView(_0xf43aa1(0x30e));}),document['getElementById'](_0x1ceeb0(0xb3b))[_0x1ceeb0(0x7a0)]('click',()=>{const _0x5933be=_0x1ceeb0;messageModal['classList']['add'](_0x5933be(0x1dc)),typeof modalConfirmAction===_0x5933be(0xb10)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x1ceeb0(0xc93))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>createProjectModal[_0x1ceeb0(0x936)][_0x1ceeb0(0x373)](_0x1ceeb0(0x1dc))),document['getElementById'](_0x1ceeb0(0xbef))[_0x1ceeb0(0x7a0)]('click',()=>createProjectModal[_0x1ceeb0(0x936)][_0x1ceeb0(0x2de)]('hidden')),document['getElementById'](_0x1ceeb0(0xab2))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>adminPasswordModal[_0x1ceeb0(0x936)][_0x1ceeb0(0x2de)](_0x1ceeb0(0x1dc))),document['getElementById'](_0x1ceeb0(0x950))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),handleAdminLogin),document['getElementById'](_0x1ceeb0(0x27c))['addEventListener']('keyup',_0x67aa43=>{const _0x1af325=_0x1ceeb0;if(_0x67aa43['key']===_0x1af325(0xc75))handleAdminLogin();}),document[_0x1ceeb0(0x68c)]('cancel-delete-btn')['addEventListener'](_0x1ceeb0(0xc83),()=>{const _0x2bcb07=_0x1ceeb0;confirmationModal['classList'][_0x2bcb07(0x2de)](_0x2bcb07(0x1dc)),confirmAction=null;}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x5dc))[_0x1ceeb0(0x7a0)]('click',()=>{const _0x173dfc=_0x1ceeb0;confirmAction&&confirmAction(),confirmationModal['classList'][_0x173dfc(0x2de)](_0x173dfc(0x1dc)),confirmAction=null;}),document[_0x1ceeb0(0x68c)]('cancel-rename-quiz-btn')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>renameQuizModal[_0x1ceeb0(0x936)][_0x1ceeb0(0x2de)]('hidden')),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x657))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),confirmRenameQuiz),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x9f7))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>moveQuizModal[_0x1ceeb0(0x936)][_0x1ceeb0(0x2de)](_0x1ceeb0(0x1dc))),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xcb0))[_0x1ceeb0(0x7a0)]('click',confirmMoveQuiz),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x988))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>quizSettingsModal['classList'][_0x1ceeb0(0x2de)](_0x1ceeb0(0x1dc))),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x77e))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),confirmQuizSettings),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x590))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>quizStatusModal['classList']['add']('hidden')),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x35e))[_0x1ceeb0(0x7a0)]('click',confirmQuizStatus);const _0x41b0c2=document['getElementById'](_0x1ceeb0(0x959));document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x251))['addEventListener'](_0x1ceeb0(0xc83),()=>{const _0x28db08=_0x1ceeb0;_0x41b0c2[_0x28db08(0x936)]['add']('hidden');}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x4a5))[_0x1ceeb0(0x7a0)]('click',async()=>{const _0xb28e81=_0x1ceeb0,_0x392698=allQuizzes[_0xb28e81(0xad3)](_0x64ba01=>_0x64ba01['id']===actionTargetId);_0x392698?(currentQuizData=_0x392698,exportQuizAsWorksheetPDF()):showMessage(_0xb28e81(0xa07)),_0x41b0c2['classList'][_0xb28e81(0x2de)]('hidden');}),document[_0x1ceeb0(0x68c)]('export-tutor-pdf-btn')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),async()=>{const _0x5f2e4f=_0x1ceeb0,_0x1798ad=allQuizzes[_0x5f2e4f(0xad3)](_0x221dbb=>_0x221dbb['id']===actionTargetId);_0x1798ad?(currentQuizData=_0x1798ad,exportQuizAsTutorPDF()):showMessage(_0x5f2e4f(0xa07)),_0x41b0c2[_0x5f2e4f(0x936)]['add'](_0x5f2e4f(0x1dc));});const _0xdcd4b1=document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x25c));_0xdcd4b1[_0x1ceeb0(0xa0c)]=_0x1ceeb0(0xa67),_0xdcd4b1[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),openGlobalActivityModal),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xbdf))[_0x1ceeb0(0x7a0)]('click',()=>{const _0x1d74f9=_0x1ceeb0;document[_0x1d74f9(0x68c)](_0x1d74f9(0x6e0))[_0x1d74f9(0x936)][_0x1d74f9(0x2de)](_0x1d74f9(0x1dc));}),document['getElementById'](_0x1ceeb0(0x1d0))['addEventListener'](_0x1ceeb0(0x2f4),_0x58efa4=>{const _0x26eb38=_0x1ceeb0;renderGlobalActivityList(_0x58efa4[_0x26eb38(0x221)][_0x26eb38(0x9a1)]);}),document[_0x1ceeb0(0x68c)]('global-activity-quiz-list')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),_0x4d1df3=>{const _0x37154e=_0x1ceeb0,_0x5897dc=_0x4d1df3[_0x37154e(0x221)]['closest'](_0x37154e(0x366));if(!_0x5897dc)return;const _0xa1a24b=_0x5897dc[_0x37154e(0x7f1)]['id'],_0x477d2e=_0x5897dc[_0x37154e(0x7f1)][_0x37154e(0x8de)],_0x3866cf=allQuizzesGlobal[_0x37154e(0xad3)](_0x8b6809=>_0x8b6809['id']===_0xa1a24b);_0x3866cf&&(document['getElementById'](_0x37154e(0x6e0))[_0x37154e(0x936)][_0x37154e(0x2de)](_0x37154e(0x1dc)),_0x477d2e===_0x37154e(0x9f1)?handleStartLiveRace(_0xa1a24b):showGameStartConfirmationModal(_0xa1a24b,_0x477d2e,_0x3866cf[_0x37154e(0x72e)]));}),document[_0x1ceeb0(0x68c)]('project-search-input')['addEventListener']('input',renderProjects),document['getElementById'](_0x1ceeb0(0xa30))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0x5b4),async()=>{const _0x24eab2=_0x1ceeb0,_0x59560e=document[_0x24eab2(0x68c)]('project-sort-select')[_0x24eab2(0x9a1)],_0x2d0b16=doc(db,'globalSettings',_0x24eab2(0x4bd));try{await setDoc(_0x2d0b16,{'projectSort':_0x59560e},{'merge':!![]});}catch(_0x2792bf){console['error'](_0x24eab2(0xd05),_0x2792bf),showMessage(_0x24eab2(0xa20));}}),document[_0x1ceeb0(0x68c)]('quiz-search-input')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0x2f4),renderQuizzes),document[_0x1ceeb0(0x68c)]('grid-view-btn')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x25b501=_0x1ceeb0;globalDashboardSettings[_0x25b501(0x7e7)]=_0x25b501(0xa56),saveUserPreference('projectView',_0x25b501(0xa56)),renderProjects();}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x28d))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x2b3e8d=_0x1ceeb0;globalDashboardSettings[_0x2b3e8d(0x7e7)]=_0x2b3e8d(0xd1b),saveUserPreference(_0x2b3e8d(0x7e7),'list'),renderProjects();}),manageTab[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>switchProjectTab(_0x1ceeb0(0x1e6))),resultsTab[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>switchProjectTab(_0x1ceeb0(0x51f))),leaderboardTab[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>switchProjectTab(_0x1ceeb0(0x610))),document['getElementById'](_0x1ceeb0(0x47e))['addEventListener'](_0x1ceeb0(0xc83),()=>switchQuizDetailTab(_0x1ceeb0(0xa0a))),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xad5))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>switchQuizDetailTab(_0x1ceeb0(0xb94))),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x26b))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>switchQuizDetailTab(_0x1ceeb0(0x9b5))),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x5a4))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>switchQuizDetailTab(_0x1ceeb0(0xd2a))),document['getElementById'](_0x1ceeb0(0x91d))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),handleAnalyzeClass),generateWorksheetBtn[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),generateWorksheet);const _0x27f449=document['getElementById']('link-tab'),_0x190534=document['getElementById'](_0x1ceeb0(0x257)),_0x243dce=document['getElementById'](_0x1ceeb0(0x1fb)),_0x21c9e8=document[_0x1ceeb0(0x68c)]('blueprint-input-area'),_0x579bac=document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x308)),_0x159129=document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xa3f));topicTab[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x17a31a=_0x1ceeb0;topicTab[_0x17a31a(0x936)][_0x17a31a(0x2de)](_0x17a31a(0x323)),textTab[_0x17a31a(0x936)][_0x17a31a(0x373)](_0x17a31a(0x323)),fileTab[_0x17a31a(0x936)][_0x17a31a(0x373)]('active'),worksheetTab[_0x17a31a(0x936)]['remove'](_0x17a31a(0x323));if(_0x27f449)_0x27f449['classList'][_0x17a31a(0x373)]('active');if(_0x243dce)_0x243dce['classList'][_0x17a31a(0x373)](_0x17a31a(0x323));if(_0x579bac)_0x579bac[_0x17a31a(0x936)][_0x17a31a(0x373)]('active');topicInputArea[_0x17a31a(0x936)]['remove'](_0x17a31a(0x1dc)),textInputArea[_0x17a31a(0x936)][_0x17a31a(0x2de)](_0x17a31a(0x1dc)),fileInputArea[_0x17a31a(0x936)][_0x17a31a(0x2de)]('hidden'),worksheetInputArea[_0x17a31a(0x936)][_0x17a31a(0x2de)](_0x17a31a(0x1dc));if(_0x190534)_0x190534[_0x17a31a(0x936)][_0x17a31a(0x2de)](_0x17a31a(0x1dc));if(_0x21c9e8)_0x21c9e8['classList'][_0x17a31a(0x2de)](_0x17a31a(0x1dc));if(_0x159129)_0x159129[_0x17a31a(0x936)]['add'](_0x17a31a(0x1dc));}),textTab[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x1d32bf=_0x1ceeb0;textTab['classList']['add'](_0x1d32bf(0x323)),topicTab['classList']['remove'](_0x1d32bf(0x323)),fileTab['classList'][_0x1d32bf(0x373)](_0x1d32bf(0x323)),worksheetTab[_0x1d32bf(0x936)][_0x1d32bf(0x373)]('active');if(_0x27f449)_0x27f449['classList'][_0x1d32bf(0x373)](_0x1d32bf(0x323));if(_0x243dce)_0x243dce[_0x1d32bf(0x936)][_0x1d32bf(0x373)]('active');if(_0x579bac)_0x579bac[_0x1d32bf(0x936)]['remove']('active');textInputArea[_0x1d32bf(0x936)]['remove']('hidden'),topicInputArea[_0x1d32bf(0x936)][_0x1d32bf(0x2de)](_0x1d32bf(0x1dc)),fileInputArea['classList'][_0x1d32bf(0x2de)](_0x1d32bf(0x1dc)),worksheetInputArea[_0x1d32bf(0x936)][_0x1d32bf(0x2de)]('hidden');if(_0x190534)_0x190534['classList']['add']('hidden');if(_0x21c9e8)_0x21c9e8['classList'][_0x1d32bf(0x2de)](_0x1d32bf(0x1dc));if(_0x159129)_0x159129[_0x1d32bf(0x936)][_0x1d32bf(0x2de)](_0x1d32bf(0x1dc));}),fileTab[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x5209d8=_0x1ceeb0;fileTab['classList'][_0x5209d8(0x2de)]('active'),topicTab[_0x5209d8(0x936)][_0x5209d8(0x373)](_0x5209d8(0x323)),textTab[_0x5209d8(0x936)][_0x5209d8(0x373)](_0x5209d8(0x323)),worksheetTab[_0x5209d8(0x936)][_0x5209d8(0x373)](_0x5209d8(0x323));if(_0x27f449)_0x27f449[_0x5209d8(0x936)]['remove'](_0x5209d8(0x323));if(_0x243dce)_0x243dce['classList'][_0x5209d8(0x373)](_0x5209d8(0x323));if(_0x579bac)_0x579bac[_0x5209d8(0x936)][_0x5209d8(0x373)](_0x5209d8(0x323));fileInputArea['classList'][_0x5209d8(0x373)](_0x5209d8(0x1dc)),topicInputArea['classList'][_0x5209d8(0x2de)](_0x5209d8(0x1dc)),textInputArea[_0x5209d8(0x936)][_0x5209d8(0x2de)](_0x5209d8(0x1dc)),worksheetInputArea['classList']['add']('hidden');if(_0x190534)_0x190534['classList'][_0x5209d8(0x2de)](_0x5209d8(0x1dc));if(_0x21c9e8)_0x21c9e8[_0x5209d8(0x936)]['add'](_0x5209d8(0x1dc));if(_0x159129)_0x159129[_0x5209d8(0x936)][_0x5209d8(0x2de)]('hidden');}),worksheetTab['addEventListener'](_0x1ceeb0(0xc83),()=>{const _0x4dc010=_0x1ceeb0;worksheetTab['classList'][_0x4dc010(0x2de)](_0x4dc010(0x323)),topicTab['classList'][_0x4dc010(0x373)](_0x4dc010(0x323)),textTab[_0x4dc010(0x936)]['remove'](_0x4dc010(0x323)),fileTab[_0x4dc010(0x936)][_0x4dc010(0x373)](_0x4dc010(0x323));if(_0x27f449)_0x27f449[_0x4dc010(0x936)][_0x4dc010(0x373)](_0x4dc010(0x323));if(_0x243dce)_0x243dce[_0x4dc010(0x936)]['remove']('active');if(_0x579bac)_0x579bac[_0x4dc010(0x936)][_0x4dc010(0x373)](_0x4dc010(0x323));worksheetInputArea[_0x4dc010(0x936)][_0x4dc010(0x373)](_0x4dc010(0x1dc)),topicInputArea[_0x4dc010(0x936)][_0x4dc010(0x2de)](_0x4dc010(0x1dc)),textInputArea[_0x4dc010(0x936)][_0x4dc010(0x2de)](_0x4dc010(0x1dc)),fileInputArea['classList'][_0x4dc010(0x2de)](_0x4dc010(0x1dc));if(_0x190534)_0x190534[_0x4dc010(0x936)][_0x4dc010(0x2de)](_0x4dc010(0x1dc));if(_0x21c9e8)_0x21c9e8['classList'][_0x4dc010(0x2de)](_0x4dc010(0x1dc));if(_0x159129)_0x159129[_0x4dc010(0x936)][_0x4dc010(0x2de)]('hidden');});const _0x24dd80=document[_0x1ceeb0(0x68c)]('bank-tab'),_0x22b960=document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x428));_0x24dd80&&_0x24dd80['addEventListener'](_0x1ceeb0(0xc83),()=>{const _0x4a405b=_0x1ceeb0;topicTab[_0x4a405b(0x936)][_0x4a405b(0x373)]('active'),textTab['classList'][_0x4a405b(0x373)](_0x4a405b(0x323)),fileTab[_0x4a405b(0x936)][_0x4a405b(0x373)](_0x4a405b(0x323)),worksheetTab[_0x4a405b(0x936)][_0x4a405b(0x373)](_0x4a405b(0x323));if(_0x27f449)_0x27f449[_0x4a405b(0x936)][_0x4a405b(0x373)](_0x4a405b(0x323));if(_0x243dce)_0x243dce['classList']['remove'](_0x4a405b(0x323));if(_0x579bac)_0x579bac[_0x4a405b(0x936)][_0x4a405b(0x373)]('active');_0x24dd80['classList'][_0x4a405b(0x2de)](_0x4a405b(0x323)),topicInputArea[_0x4a405b(0x936)][_0x4a405b(0x2de)](_0x4a405b(0x1dc)),textInputArea['classList'][_0x4a405b(0x2de)](_0x4a405b(0x1dc)),fileInputArea[_0x4a405b(0x936)]['add'](_0x4a405b(0x1dc)),worksheetInputArea[_0x4a405b(0x936)]['add'](_0x4a405b(0x1dc));if(_0x190534)_0x190534[_0x4a405b(0x936)][_0x4a405b(0x2de)](_0x4a405b(0x1dc));if(_0x21c9e8)_0x21c9e8['classList'][_0x4a405b(0x2de)](_0x4a405b(0x1dc));if(_0x159129)_0x159129[_0x4a405b(0x936)][_0x4a405b(0x2de)](_0x4a405b(0x1dc));_0x22b960[_0x4a405b(0x936)][_0x4a405b(0x373)](_0x4a405b(0x1dc)),displayQuestionBank();});_0x27f449&&(_0x27f449['addEventListener'](_0x1ceeb0(0xc83),()=>{const _0x25c71c=_0x1ceeb0;_0x27f449['classList'][_0x25c71c(0x2de)]('active'),topicTab[_0x25c71c(0x936)][_0x25c71c(0x373)](_0x25c71c(0x323)),textTab['classList'][_0x25c71c(0x373)](_0x25c71c(0x323)),fileTab[_0x25c71c(0x936)][_0x25c71c(0x373)]('active'),worksheetTab['classList'][_0x25c71c(0x373)]('active');if(_0x243dce)_0x243dce[_0x25c71c(0x936)]['remove'](_0x25c71c(0x323));if(_0x579bac)_0x579bac[_0x25c71c(0x936)]['remove'](_0x25c71c(0x323));_0x190534[_0x25c71c(0x936)][_0x25c71c(0x373)](_0x25c71c(0x1dc)),topicInputArea[_0x25c71c(0x936)]['add']('hidden'),textInputArea['classList'][_0x25c71c(0x2de)](_0x25c71c(0x1dc)),fileInputArea[_0x25c71c(0x936)][_0x25c71c(0x2de)]('hidden'),worksheetInputArea[_0x25c71c(0x936)]['add'](_0x25c71c(0x1dc));if(_0x21c9e8)_0x21c9e8[_0x25c71c(0x936)][_0x25c71c(0x2de)](_0x25c71c(0x1dc));if(_0x159129)_0x159129['classList'][_0x25c71c(0x2de)](_0x25c71c(0x1dc));}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x796))['addEventListener'](_0x1ceeb0(0xc83),handleGenerateFromLink));_0x243dce&&_0x243dce[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x287608=_0x1ceeb0;_0x243dce['classList'][_0x287608(0x2de)](_0x287608(0x323)),topicTab['classList']['remove'](_0x287608(0x323)),textTab[_0x287608(0x936)]['remove'](_0x287608(0x323)),fileTab[_0x287608(0x936)]['remove'](_0x287608(0x323)),worksheetTab[_0x287608(0x936)][_0x287608(0x373)](_0x287608(0x323));if(_0x27f449)_0x27f449[_0x287608(0x936)][_0x287608(0x373)](_0x287608(0x323));if(_0x24dd80)_0x24dd80['classList'][_0x287608(0x373)]('active');if(_0x579bac)_0x579bac[_0x287608(0x936)][_0x287608(0x373)]('active');_0x21c9e8[_0x287608(0x936)]['remove'](_0x287608(0x1dc)),topicInputArea['classList'][_0x287608(0x2de)](_0x287608(0x1dc)),textInputArea[_0x287608(0x936)]['add'](_0x287608(0x1dc)),fileInputArea[_0x287608(0x936)][_0x287608(0x2de)](_0x287608(0x1dc)),worksheetInputArea['classList'][_0x287608(0x2de)](_0x287608(0x1dc));if(_0x190534)_0x190534[_0x287608(0x936)][_0x287608(0x2de)](_0x287608(0x1dc));if(_0x22b960)_0x22b960[_0x287608(0x936)][_0x287608(0x2de)](_0x287608(0x1dc));if(_0x159129)_0x159129[_0x287608(0x936)]['add'](_0x287608(0x1dc));});_0x579bac&&_0x579bac[_0x1ceeb0(0x7a0)]('click',()=>{const _0x118da6=_0x1ceeb0;_0x579bac['classList']['add'](_0x118da6(0x323)),topicTab[_0x118da6(0x936)][_0x118da6(0x373)](_0x118da6(0x323)),textTab[_0x118da6(0x936)][_0x118da6(0x373)](_0x118da6(0x323)),fileTab['classList'][_0x118da6(0x373)](_0x118da6(0x323)),worksheetTab[_0x118da6(0x936)][_0x118da6(0x373)]('active');if(_0x27f449)_0x27f449['classList'][_0x118da6(0x373)]('active');if(_0x243dce)_0x243dce[_0x118da6(0x936)]['remove']('active');if(_0x24dd80)_0x24dd80['classList'][_0x118da6(0x373)]('active');_0x159129['classList'][_0x118da6(0x373)](_0x118da6(0x1dc)),topicInputArea['classList'][_0x118da6(0x2de)]('hidden'),textInputArea[_0x118da6(0x936)][_0x118da6(0x2de)](_0x118da6(0x1dc)),fileInputArea['classList'][_0x118da6(0x2de)]('hidden'),worksheetInputArea[_0x118da6(0x936)][_0x118da6(0x2de)](_0x118da6(0x1dc));if(_0x190534)_0x190534[_0x118da6(0x936)][_0x118da6(0x2de)](_0x118da6(0x1dc));if(_0x21c9e8)_0x21c9e8[_0x118da6(0x936)][_0x118da6(0x2de)]('hidden');if(_0x22b960)_0x22b960['classList']['add'](_0x118da6(0x1dc));});const _0x1138eb=document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x8e6)),_0x2d4daa=document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x6ea));if(_0x1138eb){const _0x2fc11d=document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x8e6)),_0x166911=document['getElementById'](_0x1ceeb0(0x6ea)),_0x525ff8=document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xc8d)),_0xbefaa9=document[_0x1ceeb0(0x68c)]('separate-by-content-checkbox'),_0x4b5764=document[_0x1ceeb0(0x68c)]('blueprint-topics-list-container'),_0x3793cb=document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x67c));_0x2fc11d&&_0x2fc11d[_0x1ceeb0(0x7a0)](_0x1ceeb0(0x5b4),async _0x5a56bc=>{const _0x1ab13e=_0x1ceeb0;_0x525ff8[_0x1ab13e(0x936)][_0x1ab13e(0x2de)]('hidden'),_0x4b5764[_0x1ab13e(0x936)]['add'](_0x1ab13e(0x1dc)),_0xbefaa9['checked']=![],_0x166911['disabled']=!![];const _0x359b05=_0x5a56bc['target']['files'][0x0];if(_0x359b05){_0x166911[_0x1ab13e(0x376)]=![];try{const _0x24fd48=await extractTextFromPdf(_0x359b05);await analyzeBlueprintForTopics(_0x24fd48);}catch(_0xc682cb){showMessage(_0x1ab13e(0x37a)),_0x525ff8[_0x1ab13e(0x936)][_0x1ab13e(0x2de)](_0x1ab13e(0x1dc));}}}),_0xbefaa9&&_0xbefaa9[_0x1ceeb0(0x7a0)](_0x1ceeb0(0x5b4),_0x58fe5d=>{const _0x40c7a3=_0x1ceeb0,_0x45e0d3=_0x58fe5d['target'][_0x40c7a3(0x9cb)];_0x4b5764[_0x40c7a3(0x936)][_0x40c7a3(0x34a)](_0x40c7a3(0x1dc),!_0x45e0d3),_0x166911['disabled']=_0x45e0d3;}),_0x3793cb&&(_0x3793cb&&_0x3793cb[_0x1ceeb0(0x7a0)]('click',_0x10ca55=>{const _0x306ba3=_0x1ceeb0,_0x37002a=_0x10ca55['target']['closest'](_0x306ba3(0xd16)),_0x4b39e9=_0x10ca55['target']['closest'](_0x306ba3(0x5cc));if(_0x37002a){const _0x3159b5=unescape(_0x37002a[_0x306ba3(0x7f1)][_0x306ba3(0x72e)]);generateQuizForSingleTopic(_0x3159b5);}else{if(_0x4b39e9){const _0x53e104=unescape(_0x4b39e9['dataset']['topic']);handleGenerateTeachingContent(_0x53e104);}}}));}_0x2d4daa&&_0x2d4daa[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),handleGenerateFromBlueprint);const _0x4c7e17=document['getElementById']('parallel-test-upload-input'),_0x4be676=document['getElementById'](_0x1ceeb0(0x1db));_0x4c7e17&&_0x4c7e17[_0x1ceeb0(0x7a0)](_0x1ceeb0(0x5b4),_0x189857=>{const _0x54bd60=_0x1ceeb0;_0x4be676['disabled']=_0x189857[_0x54bd60(0x221)][_0x54bd60(0x5d6)][_0x54bd60(0x757)]===0x0;});_0x4be676&&_0x4be676[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x1ceeb0(0x7a0)]('click',handleLoadQuiz),startQuizBtn[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),async()=>{const _0x40b39d=_0x1ceeb0,_0x841791=document[_0x40b39d(0x68c)]('student-name-select');currentStudentName=_0x841791[_0x40b39d(0x9a1)];if(!currentStudentName){showMessage(_0x40b39d(0x808));return;}try{const _0x3ce0fc=currentQuizData['id'],_0x3073dd=doc(db,'artifacts/'+appId+_0x40b39d(0x6e7)+_0x3ce0fc+_0x40b39d(0x21e),currentStudentName),_0x5bf036=await getDoc(_0x3073dd);!_0x5bf036[_0x40b39d(0x367)]()?await setDoc(_0x3073dd,{'studentName':currentStudentName,'startedAt':new Date()[_0x40b39d(0xa81)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x3073dd,{'startedAt':new Date()['toISOString']()});}catch(_0x58b360){console[_0x40b39d(0x4e5)](_0x40b39d(0x65b),_0x58b360),showMessage(_0x40b39d(0xc19));return;}studentNameSelectionView[_0x40b39d(0x936)][_0x40b39d(0x2de)](_0x40b39d(0x1dc)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x1ceeb0(0x9e3))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),showJoinGameView),document['getElementById'](_0x1ceeb0(0x287))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),handleJoinLiveGame),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x7c8))['addEventListener'](_0x1ceeb0(0xc83),()=>showView(_0x1ceeb0(0x867)));const _0x235575=()=>{const _0xd44f45=_0x1ceeb0,_0x5545e5=document[_0xd44f45(0x68c)](_0xd44f45(0xb22))['textContent'][_0xd44f45(0xaa5)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0xd44f45(0x5c0)+(_0x5545e5||'quiz');},_0x124b31=document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xc6e));_0x124b31&&_0x124b31['addEventListener'](_0x1ceeb0(0x2f4),_0x4e900e=>{const _0x41445d=_0x1ceeb0,_0x2d2434=_0x4e900e['target'][_0x41445d(0x9a1)][_0x41445d(0x986)]()['trim'](),_0x42d759=document['getElementById'](_0x41445d(0x5e6)),_0x42ff81=_0x42d759[_0x41445d(0x9c3)](_0x41445d(0x65e));_0x42ff81[_0x41445d(0x8be)](_0x7dfb94=>{const _0x343763=_0x41445d;let _0x3bae92=![];const _0x4383d4=_0x7dfb94[_0x343763(0x9c3)](_0x343763(0xb78));_0x4383d4[_0x343763(0x8be)](_0x145278=>{const _0x420562=_0x343763,_0x3a4241=_0x145278[_0x420562(0x817)](_0x420562(0x811))[_0x420562(0xb4b)][_0x420562(0x986)]();_0x3a4241[_0x420562(0x92b)](_0x2d2434)?(_0x145278[_0x420562(0x62a)][_0x420562(0xb55)]='flex',_0x3bae92=!![]):_0x145278[_0x420562(0x62a)][_0x420562(0xb55)]=_0x420562(0xa9b);}),_0x3bae92?_0x7dfb94['style']['display']=_0x343763(0x2f1):_0x7dfb94[_0x343763(0x62a)]['display']=_0x343763(0xa9b);});});document[_0x1ceeb0(0x68c)]('export-image-btn')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>exportTableAsImage('results-table-container',_0x235575())),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x62c))[_0x1ceeb0(0x7a0)]('click',()=>exportTableAsPDF('results-table',_0x235575())),document[_0x1ceeb0(0x68c)]('export-word-btn')[_0x1ceeb0(0x7a0)]('click',()=>exportTableAsWord(_0x1ceeb0(0x702),_0x235575())),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xb85))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>exportTableAsExcel(_0x1ceeb0(0x752),_0x235575()));const _0x4ebdda=()=>{const _0x45cc3e=_0x1ceeb0,_0x5299c7=document[_0x45cc3e(0x68c)]('results-quiz-title')[_0x45cc3e(0xb4b)][_0x45cc3e(0xaa5)](/[^a-z0-9]/gi,'_')[_0x45cc3e(0x986)]();return _0x45cc3e(0x6a0)+(_0x5299c7||'quiz');};document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x37d))[_0x1ceeb0(0x7a0)]('click',()=>exportTableAsImage(_0x1ceeb0(0xd09),_0x4ebdda())),document[_0x1ceeb0(0x68c)]('export-leaderboard-pdf-btn')['addEventListener'](_0x1ceeb0(0xc83),()=>exportTableAsPDF(_0x1ceeb0(0xd1d),_0x4ebdda())),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x69e))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>exportTableAsWord(_0x1ceeb0(0xd09),_0x4ebdda())),document['getElementById'](_0x1ceeb0(0x5e5))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>exportTableAsExcel(_0x1ceeb0(0xd1d),_0x4ebdda())),projectQuizzesList[_0x1ceeb0(0x7a0)]('click',async _0x2ba63e=>{const _0x4a782e=_0x1ceeb0,_0x21d051=_0x2ba63e[_0x4a782e(0x221)][_0x4a782e(0x50f)](_0x4a782e(0x383)),_0x5400e2=_0x2ba63e['target'][_0x4a782e(0x50f)]('.generate-post-test-btn'),_0x1739ee=_0x2ba63e[_0x4a782e(0x221)]['closest'](_0x4a782e(0x95a)),_0x1d961c=_0x2ba63e[_0x4a782e(0x221)][_0x4a782e(0x50f)](_0x4a782e(0x5fd)),_0x46c0bb=_0x2ba63e[_0x4a782e(0x221)][_0x4a782e(0x50f)](_0x4a782e(0xbd4)),_0x523dd9=_0x2ba63e[_0x4a782e(0x221)][_0x4a782e(0x50f)](_0x4a782e(0x1d2)),_0x1e6427=_0x2ba63e['target'][_0x4a782e(0x50f)]('.edit-quiz-btn'),_0x23dc2f=_0x2ba63e[_0x4a782e(0x221)][_0x4a782e(0x50f)](_0x4a782e(0xbe0)),_0x3ddba8=_0x2ba63e[_0x4a782e(0x221)][_0x4a782e(0x50f)](_0x4a782e(0x9b6)),_0x2549cc=_0x2ba63e[_0x4a782e(0x221)][_0x4a782e(0x50f)]('.rename-quiz-btn'),_0x5e8b67=_0x2ba63e[_0x4a782e(0x221)][_0x4a782e(0x50f)](_0x4a782e(0xc09)),_0x17f0e8=_0x2ba63e[_0x4a782e(0x221)][_0x4a782e(0x50f)](_0x4a782e(0x571)),_0x4aec4c=_0x2ba63e[_0x4a782e(0x221)]['closest'](_0x4a782e(0xcf0)),_0xfc2b51=_0x2ba63e['target'][_0x4a782e(0x50f)](_0x4a782e(0xc42)),_0x409b32=_0x2ba63e[_0x4a782e(0x221)][_0x4a782e(0x50f)](_0x4a782e(0x6f1)),_0x55a956=_0x2ba63e[_0x4a782e(0x221)][_0x4a782e(0x50f)](_0x4a782e(0x500)),_0x2d92d3=_0x2ba63e[_0x4a782e(0x221)]['closest'](_0x4a782e(0x7c0)),_0x2b02fa=_0x2ba63e[_0x4a782e(0x221)][_0x4a782e(0x50f)](_0x4a782e(0x782)),_0x1b49d6=_0x2ba63e['target'][_0x4a782e(0x50f)]('.quiz-status-btn'),_0x73e7d4=_0x2ba63e[_0x4a782e(0x221)][_0x4a782e(0x50f)]('.toggle-actions-btn'),_0x5c911b=_0x2ba63e[_0x4a782e(0x221)][_0x4a782e(0x50f)](_0x4a782e(0x22a)),_0x10b53d=_0x2ba63e[_0x4a782e(0x221)]['closest']('.start-game-btn'),_0x144b34=_0x2ba63e[_0x4a782e(0x221)][_0x4a782e(0x50f)](_0x4a782e(0x89b));if(_0x10b53d){const _0x31c924=_0x10b53d['dataset'][_0x4a782e(0x8c6)],_0x12d910=_0x10b53d['dataset']['mode'],_0xd8d6ee=allQuizzes[_0x4a782e(0xad3)](_0x49eff5=>_0x49eff5['id']===_0x31c924);_0xd8d6ee&&showGameStartConfirmationModal(_0x31c924,_0x12d910,_0xd8d6ee[_0x4a782e(0x72e)]);}else{if(_0x144b34){const _0x519fec=_0x144b34[_0x4a782e(0x7f1)]['quizId'];handleStartLiveRace(_0x519fec);}else{if(_0x73e7d4){const _0x29c92d=_0x73e7d4[_0x4a782e(0x7f1)]['quizId'],_0x3e80bb=document['getElementById'](_0x4a782e(0x1ac)+_0x29c92d);_0x3e80bb&&_0x3e80bb[_0x4a782e(0x936)]['toggle'](_0x4a782e(0x1dc));}else{if(_0x5400e2){const _0x2d9d5c=_0x5400e2[_0x4a782e(0x7f1)][_0x4a782e(0x8c6)],_0xd692c8=allQuizzes[_0x4a782e(0xad3)](_0x6539fe=>_0x6539fe['id']===_0x2d9d5c);_0xd692c8&&handleGenerateParallelPostTest(_0xd692c8);}else{if(_0x1739ee)handleCompareResults(_0x1739ee['dataset'][_0x4a782e(0x8c6)],_0x1739ee[_0x4a782e(0x7f1)][_0x4a782e(0xd15)]);else{if(_0x1d961c){const _0x21dd8c=_0x1d961c[_0x4a782e(0x7f1)][_0x4a782e(0x8c6)],_0x189055=allQuizzes[_0x4a782e(0xad3)](_0x23cd5a=>_0x23cd5a['id']===_0x21dd8c);_0x189055&&_0x189055[_0x4a782e(0xc0c)]?(displayLessonPlan(_0x189055['lessonPlan'],_0x189055),showConfirmation(_0x4a782e(0xa85),()=>handleGenerateLessonPlan(_0x21dd8c)),document[_0x4a782e(0x68c)]('confirmation-modal')['querySelector']('h3')[_0x4a782e(0xb4b)]=_0x4a782e(0xd12),document[_0x4a782e(0x68c)](_0x4a782e(0x5dc))['textContent']=_0x4a782e(0x3f3)):handleGenerateLessonPlan(_0x21dd8c);}else{if(_0x46c0bb)handleToggleStarQuiz(_0x46c0bb[_0x4a782e(0x7f1)][_0x4a782e(0x8c6)]);else{if(_0x523dd9)copyTextToClipboard(_0x523dd9[_0x4a782e(0x7f1)]['quizId'],_0x4a782e(0x33e));else{if(_0x1e6427)handleOpenQuizEditor(_0x1e6427['dataset'][_0x4a782e(0x8c6)]);else{if(_0x23dc2f)handleQuizSettings(_0x23dc2f[_0x4a782e(0x7f1)]['quizId']);else{if(_0x3ddba8)handleDuplicateQuiz(_0x3ddba8[_0x4a782e(0x7f1)]['quizId']);else{if(_0x2549cc)handleRenameQuiz(_0x2549cc['dataset'][_0x4a782e(0x8c6)],_0x2549cc[_0x4a782e(0x7f1)][_0x4a782e(0x72e)]);else{if(_0x5e8b67){const _0x13423e=_0x5e8b67[_0x4a782e(0x7f1)]['quizId'],_0x372594=allQuizzes[_0x4a782e(0xad3)](_0x57949c=>_0x57949c['id']===_0x13423e);_0x372594&&handleGenerateParallelFromBank(_0x372594);}else{if(_0x17f0e8)handleMoveQuiz(_0x17f0e8['dataset']['quizId']);else{if(_0x4aec4c)handleManualQuizPairing(_0x4aec4c[_0x4a782e(0x7f1)]['quizId']);else{if(_0xfc2b51)handleUnpairQuiz(_0xfc2b51[_0x4a782e(0x7f1)][_0x4a782e(0x8c6)]);else{if(_0x409b32){const _0x57cdbe=_0x409b32['dataset'][_0x4a782e(0x8c6)],_0x371106=allQuizzes[_0x4a782e(0xad3)](_0x5677d8=>_0x5677d8['id']===_0x57cdbe);if(_0x371106)startPresentation(_0x371106);}else{if(_0x55a956){const _0x2a092d=_0x55a956['dataset']['quizId'],_0x389564=allQuizzes[_0x4a782e(0xad3)](_0xc1fb89=>_0xc1fb89['id']===_0x2a092d);_0x389564&&(currentQuizData=_0x389564,startAdminTest());}else{if(_0x2d92d3)actionTargetId=_0x2d92d3['dataset'][_0x4a782e(0x8c6)],document[_0x4a782e(0x68c)](_0x4a782e(0x959))[_0x4a782e(0x936)][_0x4a782e(0x373)](_0x4a782e(0x1dc));else{if(_0x2b02fa)showConfirmation(_0x4a782e(0x34c)+_0x2b02fa['dataset'][_0x4a782e(0x72e)]+_0x4a782e(0x4b9),()=>handleDeleteQuiz(_0x2b02fa[_0x4a782e(0x7f1)][_0x4a782e(0x8c6)]));else{if(_0x1b49d6)handleQuizStatus(_0x1b49d6[_0x4a782e(0x7f1)]['quizId']);else{if(_0x5c911b)handleGenerateEasyVersionQuiz(_0x5c911b['dataset'][_0x4a782e(0x8c6)]);else _0x21d051&&showQuizDetailView(_0x21d051[_0x4a782e(0x7f1)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x1ceeb0(0x68c)]('cancel-team-selection-btn')[_0x1ceeb0(0x7a0)]('click',()=>showView(_0x1ceeb0(0x867))),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xaca))['addEventListener'](_0x1ceeb0(0xc83),confirmAndStartTeamQuiz),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xd1d))[_0x1ceeb0(0x817)](_0x1ceeb0(0xa80))[_0x1ceeb0(0x7a0)]('click',_0x5bb412=>{const _0x4cad91=_0x1ceeb0,_0x59fc76=_0x5bb412['target'][_0x4cad91(0x50f)](_0x4cad91(0xabc));if(!_0x59fc76||!_0x59fc76[_0x4cad91(0x7f1)]['sort'])return;const _0x476e20=_0x59fc76['dataset']['sort'];if(quizLeaderboardSortBy===_0x476e20)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x4cad91(0x601):'asc';else{quizLeaderboardSortBy=_0x476e20;const _0xa050b4=[_0x4cad91(0xc53)];quizLeaderboardSortOrder=_0xa050b4[_0x4cad91(0x92b)](_0x476e20)?_0x4cad91(0xb84):_0x4cad91(0x601);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x4cad91(0x4b3));}),document['getElementById'](_0x1ceeb0(0xcbc))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),closePresentation),document['getElementById'](_0x1ceeb0(0xb42))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xbca))['addEventListener'](_0x1ceeb0(0xc83),()=>{const _0x1188c2=_0x1ceeb0;currentQuizData[_0x1188c2(0x72b)]&&currentPresentationSlide<currentQuizData[_0x1188c2(0x72b)]['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x1ceeb0(0x7a0)]('fullscreenchange',()=>{const _0x122f0f=_0x1ceeb0;!document['fullscreenElement']&&(presentationModal[_0x122f0f(0x62a)][_0x122f0f(0xb55)]=_0x122f0f(0xa9b));}),document[_0x1ceeb0(0x68c)]('delete-all-students-btn')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),handleDeleteAllStudents),studentList[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),_0x3cc50f=>{const _0x1339fc=_0x1ceeb0,_0x526b58=_0x3cc50f[_0x1339fc(0x221)][_0x1339fc(0x50f)](_0x1339fc(0x691));if(_0x526b58){const _0x20aa22=_0x526b58[_0x1339fc(0x7f1)]['studentName'];handleDeleteStudent(_0x20aa22);}}),document['getElementById'](_0x1ceeb0(0x38e))[_0x1ceeb0(0x7a0)]('click',handleGenerateFromFileClick),fileUploadInput[_0x1ceeb0(0x7a0)](_0x1ceeb0(0x5b4),_0xeb0c14=>{const _0x56a8d5=_0x1ceeb0,_0x19a744=_0xeb0c14[_0x56a8d5(0x221)][_0x56a8d5(0x5d6)][0x0],_0x3ca273=document[_0x56a8d5(0x68c)](_0x56a8d5(0x38e)),_0x8705d3=document['getElementById'](_0x56a8d5(0x8fc)),_0x19cbdd=document[_0x56a8d5(0x68c)](_0x56a8d5(0xadd));_0x19a744?(selectedFile=_0x19a744,_0x19cbdd['checked']?(_0x3ca273['disabled']=!![],analyzeFileForTopics(_0x19a744)):(_0x3ca273[_0x56a8d5(0x376)]=![],_0x8705d3[_0x56a8d5(0x936)][_0x56a8d5(0x2de)](_0x56a8d5(0x1dc)))):(selectedFile=null,_0x3ca273[_0x56a8d5(0x376)]=!![],_0x8705d3[_0x56a8d5(0x936)]['add'](_0x56a8d5(0x1dc)));}),document['getElementById'](_0x1ceeb0(0xadd))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0x5b4),_0x57c3b6=>{const _0x5cde4a=_0x1ceeb0,_0x192a71=_0x57c3b6[_0x5cde4a(0x221)][_0x5cde4a(0x9cb)],_0x237757=document[_0x5cde4a(0x68c)](_0x5cde4a(0x38e)),_0x21ba7b=document['getElementById']('file-topics-list-container');_0x192a71?(_0x237757[_0x5cde4a(0x376)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x21ba7b[_0x5cde4a(0x936)][_0x5cde4a(0x373)](_0x5cde4a(0x1dc)),document[_0x5cde4a(0x68c)](_0x5cde4a(0x5ea))[_0x5cde4a(0xa0c)]='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x21ba7b[_0x5cde4a(0x936)][_0x5cde4a(0x2de)]('hidden'),_0x237757[_0x5cde4a(0x376)]=!selectedFile);}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x8fc))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),_0x16c494=>{const _0x4d224e=_0x1ceeb0,_0x1de203=_0x16c494[_0x4d224e(0x221)][_0x4d224e(0x50f)](_0x4d224e(0x6e6)),_0xf19cea=_0x16c494['target']['closest'](_0x4d224e(0x5cc));if(_0x1de203){const _0xb0d64b=unescape(_0x1de203[_0x4d224e(0x7f1)][_0x4d224e(0x72e)]);generateHybridQuizForTopic(_0xb0d64b);}else{if(_0xf19cea){const _0x1d3b27=unescape(_0xf19cea[_0x4d224e(0x7f1)][_0x4d224e(0x72e)]),_0x359448=document[_0x4d224e(0x68c)](_0x4d224e(0xb40))[_0x4d224e(0x9a1)];handleGenerateAndShowLesson(_0x1d3b27,_0x359448);}}}),document[_0x1ceeb0(0x68c)]('timer-mode-select')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0x5b4),_0x4d09cc=>{const _0x2ac255=_0x1ceeb0,_0x17a6af=document[_0x2ac255(0x68c)](_0x2ac255(0x317)),_0x1c0c79=document[_0x2ac255(0x68c)](_0x2ac255(0xaaa)),_0x15120c=document[_0x2ac255(0x68c)](_0x2ac255(0xc0e));_0x4d09cc[_0x2ac255(0x221)]['value']===_0x2ac255(0xa9b)?_0x17a6af['classList'][_0x2ac255(0x2de)]('hidden'):(_0x17a6af[_0x2ac255(0x936)][_0x2ac255(0x373)](_0x2ac255(0x1dc)),_0x4d09cc[_0x2ac255(0x221)]['value']==='whole_quiz'?(_0x1c0c79['textContent']=_0x2ac255(0x2f2),_0x15120c[_0x2ac255(0x9a1)]='10'):(_0x1c0c79[_0x2ac255(0xb4b)]='ระยะเวลา\x20(วินาที):',_0x15120c['value']='30'));}),document[_0x1ceeb0(0x68c)]('quiz-type-select')['addEventListener']('change',_0x3efa20=>{const _0x2a0bce=_0x1ceeb0,_0x1372c7=document[_0x2a0bce(0x68c)](_0x2a0bce(0x700)),_0x4b18a4=_0x3efa20['target']['value'],_0x567691=document[_0x2a0bce(0x817)](_0x2a0bce(0xd02)),_0xfc465d=document[_0x2a0bce(0x68c)](_0x2a0bce(0x66c)),_0x4418cf=document[_0x2a0bce(0x68c)](_0x2a0bce(0x6f0));_0x4b18a4===_0x2a0bce(0x964)?_0x567691[_0x2a0bce(0xb4b)]='จำนวนคู่:':_0x567691[_0x2a0bce(0xb4b)]=_0x2a0bce(0x38d),_0x4b18a4===_0x2a0bce(0x69d)||_0x4b18a4===_0x2a0bce(0x73d)||_0x4b18a4===_0x2a0bce(0xa63)?_0x1372c7[_0x2a0bce(0x936)][_0x2a0bce(0x373)]('hidden'):_0x1372c7[_0x2a0bce(0x936)][_0x2a0bce(0x2de)]('hidden'),_0xfc465d[_0x2a0bce(0x2d3)]=_0x4418cf[_0x2a0bce(0x9a1)];}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x6f0))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0x2f4),_0x2598cd=>{const _0xc2e050=_0x1ceeb0;document[_0xc2e050(0x68c)]('passing-score-input')[_0xc2e050(0x2d3)]=_0x2598cd[_0xc2e050(0x221)][_0xc2e050(0x9a1)];}),document['getElementById'](_0x1ceeb0(0xbbf))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0x5b4),_0x56adce=>{const _0x7c2fcb=_0x1ceeb0,_0x4203c5=document[_0x7c2fcb(0x68c)](_0x7c2fcb(0x402)),_0x15b610=document[_0x7c2fcb(0x68c)](_0x7c2fcb(0x539)),_0x5596d1=document['getElementById']('modal-timer-duration-input');_0x56adce[_0x7c2fcb(0x221)]['value']==='none'?_0x4203c5[_0x7c2fcb(0x936)][_0x7c2fcb(0x2de)](_0x7c2fcb(0x1dc)):(_0x4203c5[_0x7c2fcb(0x936)][_0x7c2fcb(0x373)](_0x7c2fcb(0x1dc)),_0x56adce[_0x7c2fcb(0x221)]['value']===_0x7c2fcb(0x9d6)?_0x15b610[_0x7c2fcb(0xb4b)]=_0x7c2fcb(0x2f2):_0x15b610['textContent']='ระยะเวลา\x20(วินาที):');}),document['getElementById'](_0x1ceeb0(0xd19))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x591517=_0x1ceeb0;document[_0x591517(0x68c)]('quiz-editor-modal')[_0x591517(0x936)][_0x591517(0x2de)](_0x591517(0x1dc));}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x83d))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x26bd13=_0x1ceeb0;document['getElementById'](_0x26bd13(0x284))['classList'][_0x26bd13(0x2de)]('hidden');}),document[_0x1ceeb0(0x68c)]('verify-answers-editor-btn')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),handleVerifyAnswersInEditor),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xb24))[_0x1ceeb0(0x7a0)]('click',()=>{const _0x1219e9=_0x1ceeb0;document[_0x1219e9(0x68c)](_0x1219e9(0x284))[_0x1219e9(0x936)][_0x1219e9(0x2de)](_0x1219e9(0x1dc)),showConfirmation(_0x1219e9(0x57a),handleSaveChanges);}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xbf3))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),handleAutoFixLatex);const _0x45080c=document['getElementById'](_0x1ceeb0(0x99f));_0x45080c&&_0x45080c[_0x1ceeb0(0x7a0)]('click',_0x17af47=>{const _0x31f5f6=_0x1ceeb0,_0x3f70f7=_0x17af47[_0x31f5f6(0x221)]['closest']('.regenerate-question-editor-btn'),_0x1b8c91=_0x17af47['target']['closest'](_0x31f5f6(0x321));if(_0x3f70f7){const _0x392e43=_0x3f70f7[_0x31f5f6(0x50f)]('.question-editor-item'),_0x17ab59=parseInt(_0x392e43[_0x31f5f6(0x7f1)][_0x31f5f6(0x491)],0xa);handleRegenerateQuestionInEditor(_0x17ab59);}else{if(_0x1b8c91){const _0x1497f6=_0x1b8c91[_0x31f5f6(0x50f)](_0x31f5f6(0x314)),_0x37ca76=parseInt(_0x1497f6['dataset'][_0x31f5f6(0x491)],0xa);handleAiFixFormula(_0x37ca76);}}});document[_0x1ceeb0(0x68c)]('open-quiz-bank-btn')[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),openQuizBankModal),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x985))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x592814=_0x1ceeb0;document[_0x592814(0x68c)]('quiz-bank-modal')['classList']['add'](_0x592814(0x1dc));}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x9e7))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0x2f4),_0x485252=>renderQuizBankList(_0x485252['target']['value']));const _0x53e3e8=document[_0x1ceeb0(0x68c)]('math-topics-checkbox-container');if(_0x53e3e8){let _0x5ece71=null;_0x53e3e8[_0x1ceeb0(0x7a0)]('click',_0x2a273d=>{const _0x59cb58=_0x1ceeb0,_0x5d107d=_0x2a273d[_0x59cb58(0x221)],_0x36c3e5=_0x5d107d['closest'](_0x59cb58(0xb12)),_0x1e2c77=_0x5d107d[_0x59cb58(0x50f)](_0x59cb58(0xc1c)),_0xc1b82d=_0x5d107d[_0x59cb58(0x50f)](_0x59cb58(0xb05)),_0x32aa7a=_0x5d107d[_0x59cb58(0x50f)](_0x59cb58(0x36e));if(_0x1e2c77){_0x2a273d[_0x59cb58(0xc55)]();const _0x32fe47=_0x1e2c77[_0x59cb58(0x7f1)]['id'],_0x320f33=_0x1e2c77[_0x59cb58(0x50f)]('.group')[_0x59cb58(0x817)](_0x59cb58(0x811))['textContent'];showConfirmation(_0x59cb58(0x3e2)+_0x320f33+'\x22?',()=>handleDeleteCustomTopic(_0x32fe47));}else{if(_0x36c3e5){_0x2a273d[_0x59cb58(0xc55)]();_0x5ece71&&toggleTopicEditMode(_0x5ece71,![]);const _0x3f4230=_0x36c3e5[_0x59cb58(0x50f)]('[data-topic-container-id]');_0x5ece71=_0x3f4230,toggleTopicEditMode(_0x3f4230,!![]);}else{if(_0xc1b82d){_0x2a273d[_0x59cb58(0xc55)]();const _0x3d84f5=_0xc1b82d[_0x59cb58(0x7f1)]['id'],_0x45a7cf=_0xc1b82d[_0x59cb58(0x50f)](_0x59cb58(0x6a7)),_0x59c904=_0x45a7cf[_0x59cb58(0x817)]('.topic-name-input')[_0x59cb58(0x9a1)];handleUpdateCustomTopic(_0x3d84f5,_0x59c904),_0x5ece71=null;}else{if(_0x32aa7a){_0x2a273d[_0x59cb58(0xc55)]();const _0x1dfd07=_0x32aa7a['closest'](_0x59cb58(0x6a7));toggleTopicEditMode(_0x1dfd07,![]),_0x5ece71=null;}}}}}),document[_0x1ceeb0(0x68c)]('close-lesson-plan-modal-btn')[_0x1ceeb0(0x7a0)]('click',()=>{const _0x500293=_0x1ceeb0;document['getElementById']('lesson-plan-modal')[_0x500293(0x936)]['add'](_0x500293(0x1dc));}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x692))['addEventListener'](_0x1ceeb0(0xc83),()=>{const _0x5d9c13=_0x1ceeb0;document['getElementById'](_0x5d9c13(0x3f0))[_0x5d9c13(0x936)][_0x5d9c13(0x2de)](_0x5d9c13(0x1dc));}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x5b1))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),handleExportLessonPDF);}document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x5ba))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),()=>{const _0x40a1b3=_0x1ceeb0;document['getElementById'](_0x40a1b3(0x2d7))[_0x40a1b3(0x936)][_0x40a1b3(0x2de)](_0x40a1b3(0x1dc));}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0xb59))[_0x1ceeb0(0x7a0)]('click',()=>{const _0x45ee86=_0x1ceeb0;document[_0x45ee86(0x68c)]('comparison-modal')[_0x45ee86(0x936)]['add'](_0x45ee86(0x1dc));}),setupComparisonModalTabs(),document[_0x1ceeb0(0xbd0)][_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),function(_0x18cda3){const _0x45d948=_0x1ceeb0;if(_0x18cda3[_0x45d948(0x221)][_0x45d948(0x936)][_0x45d948(0x28e)](_0x45d948(0xbe8))){const _0x2d7c28=unescape(_0x18cda3[_0x45d948(0x221)][_0x45d948(0x7f1)]['topic']);startSkillPractice(_0x2d7c28);}}),document[_0x1ceeb0(0x68c)](_0x1ceeb0(0x513))[_0x1ceeb0(0x7a0)](_0x1ceeb0(0xc83),_0x563bac=>{const _0x7ef679=_0x1ceeb0,_0x50fa37=_0x563bac[_0x7ef679(0x221)][_0x7ef679(0x50f)](_0x7ef679(0x482));if(_0x50fa37){const _0x5b8df4=_0x50fa37[_0x7ef679(0x7f1)][_0x7ef679(0xc53)];handleDeleteSubmission(_0x5b8df4);}});}async function handleStartGroupMode(_0x2a500a,_0xa89638=![]){const _0xb2663d=_0x594c14,_0x217ca8=allQuizzes[_0xb2663d(0xad3)](_0x5cab9f=>_0x5cab9f['id']===_0x2a500a)||allQuizzesGlobal[_0xb2663d(0xad3)](_0x15bbd1=>_0x15bbd1['id']===_0x2a500a);if(!_0x217ca8){showMessage(_0xb2663d(0xa07));return;}currentQuizData=getShuffledQuiz(_0x217ca8);const _0x1a295a=Math[_0xb2663d(0xa3c)](0x3e8+Math[_0xb2663d(0x7b8)]()*0x2328)[_0xb2663d(0x3d0)]();try{const _0x7ac0a5=await addDoc(collection(db,_0xb2663d(0x632)+appId+_0xb2663d(0x96b)),{'quizId':_0x217ca8['id'],'projectId':_0x217ca8[_0xb2663d(0x618)],'status':_0xb2663d(0x6c5),'pin':_0x1a295a,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0xa89638});currentTeamQuizId=_0x7ac0a5['id'],showView(_0xb2663d(0x528)),renderAdminTeamQuizDashboard(_0x1a295a,_0x217ca8[_0xb2663d(0x72e)],_0xb2663d(0x730)),listenForTeamQuizUpdates();}catch(_0x1188ab){console[_0xb2663d(0x4e5)](_0xb2663d(0xbf0),_0x1188ab),showMessage(_0xb2663d(0xb75));}}async function showStudentProgressView(){const _0x44c61e=_0x594c14;studentInitialView[_0x44c61e(0x936)][_0x44c61e(0x2de)](_0x44c61e(0x1dc)),document[_0x44c61e(0x68c)]('student-progress-view')['classList']['remove'](_0x44c61e(0x1dc));const _0xf54a96=document[_0x44c61e(0x68c)](_0x44c61e(0x6bd)),_0x26986c=document[_0x44c61e(0x68c)](_0x44c61e(0x82a)),_0x5e7394=document[_0x44c61e(0x68c)](_0x44c61e(0x809));_0x5e7394[_0x44c61e(0xa0c)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x26986c[_0x44c61e(0xa0c)]=_0x44c61e(0x642),_0x26986c[_0x44c61e(0x376)]=!![],_0xf54a96[_0x44c61e(0xa0c)]=_0x44c61e(0x1da);if(allProjects[_0x44c61e(0x757)]===0x0){const _0x3aac18=collection(db,_0x44c61e(0x632)+appId+_0x44c61e(0x29a)),_0x3bfe2a=await getDocs(_0x3aac18);allProjects=_0x3bfe2a[_0x44c61e(0x23c)]['map'](_0x615839=>({'id':_0x615839['id'],..._0x615839[_0x44c61e(0x21d)]()}));}const _0x48e828=allProjects[_0x44c61e(0x298)](_0x38ecf6=>_0x38ecf6[_0x44c61e(0xbab)]?.[_0x44c61e(0x9d9)]!==![]);_0x48e828['sort']((_0x16b007,_0x3173d7)=>_0x16b007[_0x44c61e(0xbc1)][_0x44c61e(0x480)](_0x3173d7[_0x44c61e(0xbc1)],'th')),_0xf54a96[_0x44c61e(0xa0c)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x48e828['map'](_0x4b5c01=>_0x44c61e(0x4a8)+_0x4b5c01['id']+'\x22>'+_0x4b5c01['projectName']+_0x44c61e(0x882))['join'](''),_0xf54a96['onchange']=()=>{const _0x2e74eb=_0x44c61e,_0x5871c8=_0x26986c['value'],_0x43290b=_0xf54a96[_0x2e74eb(0x9a1)];_0x26986c['disabled']=!![],_0x26986c[_0x2e74eb(0xa0c)]=_0x2e74eb(0x642),_0x5e7394[_0x2e74eb(0xa0c)]=_0x2e74eb(0x2e5);if(!_0x43290b)return;const _0x235560=allProjects[_0x2e74eb(0xad3)](_0xefd898=>_0xefd898['id']===_0x43290b);if(!_0x235560||!_0x235560['students'])return;const _0x4a2cef=()=>{const _0x31cae5=_0x2e74eb;_0x26986c[_0x31cae5(0xa0c)]=_0x31cae5(0x642)+_0x235560[_0x31cae5(0xc9a)][_0x31cae5(0x345)](_0x272c46=>_0x31cae5(0x4a8)+_0x272c46+'\x22>'+_0x272c46+_0x31cae5(0x882))['join'](''),_0x26986c['disabled']=![];const _0x52f155=Array[_0x31cae5(0x97c)](_0x26986c['options'])[_0x31cae5(0x345)](_0x5637ec=>_0x5637ec['value']);if(_0x5871c8&&_0x52f155['includes'](_0x5871c8))_0x26986c[_0x31cae5(0x9a1)]=_0x5871c8,_0x26986c[_0x31cae5(0x88e)](new Event('change'));else _0x235560[_0x31cae5(0xc9a)][_0x31cae5(0x757)]===0x1&&(_0x26986c[_0x31cae5(0x9a1)]=_0x235560[_0x31cae5(0xc9a)][0x0],_0x26986c[_0x31cae5(0x88e)](new Event(_0x31cae5(0x5b4))));};if(_0x235560[_0x2e74eb(0xbab)]?.[_0x2e74eb(0x2d5)]){if(sessionStorage[_0x2e74eb(0x90c)](_0x2e74eb(0x48b)+_0x43290b)==='true'){_0x4a2cef();return;}const _0x2fa8fc=document[_0x2e74eb(0x68c)]('project-passcode-modal'),_0x234c29=document[_0x2e74eb(0x68c)](_0x2e74eb(0x8c3)),_0xde3aec=document[_0x2e74eb(0x68c)](_0x2e74eb(0xc39)),_0x37e519=document[_0x2e74eb(0x68c)](_0x2e74eb(0x99b)),_0x3b04f6=document[_0x2e74eb(0x68c)](_0x2e74eb(0xce3));document['getElementById'](_0x2e74eb(0x30b))[_0x2e74eb(0xb4b)]=_0x2e74eb(0x910)+_0x235560[_0x2e74eb(0xbc1)],_0x37e519[_0x2e74eb(0x9a1)]='',_0x3b04f6[_0x2e74eb(0x936)][_0x2e74eb(0x2de)](_0x2e74eb(0x1dc)),_0x2fa8fc['classList'][_0x2e74eb(0x373)](_0x2e74eb(0x1dc));const _0x16549e=()=>{const _0x412670=_0x2e74eb,_0x3c7d2d=_0x37e519[_0x412670(0x9a1)]['trim']();_0x3c7d2d===_0x235560[_0x412670(0xbab)]['passcode']?(sessionStorage[_0x412670(0x1ec)](_0x412670(0x48b)+_0x43290b,'true'),_0x2fa8fc['classList']['add'](_0x412670(0x1dc)),_0x4a2cef(),_0x234c29['removeEventListener'](_0x412670(0xc83),_0x16549e)):_0x3b04f6[_0x412670(0x936)][_0x412670(0x373)](_0x412670(0x1dc));};_0x234c29[_0x2e74eb(0xbf9)]=_0x16549e,_0xde3aec[_0x2e74eb(0xbf9)]=()=>{const _0x282410=_0x2e74eb;_0x2fa8fc[_0x282410(0x936)][_0x282410(0x2de)](_0x282410(0x1dc)),_0xf54a96[_0x282410(0x9a1)]='',_0x234c29['removeEventListener'](_0x282410(0xc83),_0x16549e);};}else _0x4a2cef();},_0x26986c[_0x44c61e(0x90f)]=()=>{const _0x53c444=_0xf54a96['value'],_0x4cad37=_0x26986c['value'];_0x53c444&&_0x4cad37&&renderStudentProgressDashboard(_0x53c444,_0x4cad37);};}async function confirmAndJoinSyncGame(){const _0x1c666b=_0x594c14,_0x3d5fb3=Array[_0x1c666b(0x97c)](document[_0x1c666b(0x9c3)](_0x1c666b(0x560)))[_0x1c666b(0x345)](_0x7879a2=>_0x7879a2[_0x1c666b(0x9a1)]);if(_0x3d5fb3['length']===0x0){showMessage(_0x1c666b(0x45c));return;}localTeamPlayers=_0x3d5fb3,localPlayerTurnIndex=0x0;const _0x197d3f=doc(db,'artifacts/'+appId+_0x1c666b(0x5e7),currentLiveGameId);try{const _0x5d7ed6=await getDoc(_0x197d3f);if(!_0x5d7ed6[_0x1c666b(0x367)]())throw new Error(_0x1c666b(0x80b));const _0x5a3bed=_0x5d7ed6['data']()[_0x1c666b(0xb2c)]||{};_0x3d5fb3['forEach'](_0x4c9d02=>{const _0x198988=_0x1c666b;!_0x5a3bed[_0x4c9d02]&&(_0x5a3bed[_0x4c9d02]={'name':_0x4c9d02,'score':0x0,'answered':![],'status':_0x198988(0x323)});}),await updateDoc(_0x197d3f,{'players':_0x5a3bed}),document[_0x1c666b(0x68c)](_0x1c666b(0x26e))[_0x1c666b(0x936)]['add'](_0x1c666b(0x1dc)),currentStudentName=_0x3d5fb3[0x0],listenForSyncGameUpdates();const _0x5bf70f={'gameId':currentLiveGameId,'mode':_0x1c666b(0x7c1),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1c666b(0x1ec)]('activeGameSession',JSON[_0x1c666b(0xace)](_0x5bf70f));}catch(_0x480a28){console[_0x1c666b(0x4e5)](_0x1c666b(0x5e3),_0x480a28),showMessage(_0x1c666b(0x1f9));}}async function resumeActiveGameSession(){const _0x18b56b=_0x594c14,_0x25f9a4=sessionStorage[_0x18b56b(0x90c)](_0x18b56b(0x579));if(!_0x25f9a4)return;const _0x31c3cd=JSON['parse'](_0x25f9a4),{gameId:_0x8a8122,mode:_0x340648,players:_0x25e886,turnIndex:_0xbdd904}=_0x31c3cd;try{let _0x76d47f,_0x308090;_0x340648===_0x18b56b(0x7c1)?_0x76d47f=doc(db,_0x18b56b(0x632)+appId+_0x18b56b(0x5e7),_0x8a8122):_0x76d47f=doc(db,_0x18b56b(0x632)+appId+'/public/data/teamQuizzes',_0x8a8122);_0x308090=await getDoc(_0x76d47f);if(!_0x308090[_0x18b56b(0x367)]()||_0x308090['data']()['status']===_0x18b56b(0xa1e)||_0x308090[_0x18b56b(0x21d)]()[_0x18b56b(0xb9c)]==='podium'){sessionStorage[_0x18b56b(0x3ca)](_0x18b56b(0x579));return;}console[_0x18b56b(0x3e0)]('กำลังกลับเข้าสู่เกม\x20'+_0x340648+_0x18b56b(0x763)+_0x8a8122+')'),localTeamPlayers=_0x25e886,localPlayerTurnIndex=_0xbdd904;if(_0x340648===_0x18b56b(0x7c1))currentLiveGameId=_0x8a8122,currentStudentName=_0x25e886[0x0],showView(_0x18b56b(0x528)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x8a8122;const _0x48cf20=_0x308090['data'](),_0x1e45f6=doc(db,_0x18b56b(0x632)+appId+_0x18b56b(0x21f),_0x48cf20['quizId']),_0x8029a=await getDoc(_0x1e45f6);_0x8029a[_0x18b56b(0x367)]()&&(currentQuizData=getShuffledQuiz({'id':_0x8029a['id'],..._0x8029a['data']()}),showView('student'),studentInitialView[_0x18b56b(0x936)][_0x18b56b(0x2de)](_0x18b56b(0x1dc)),renderTeamQuizQuestion());}}catch(_0x4747c4){console['error']('Failed\x20to\x20resume\x20game\x20session:',_0x4747c4),sessionStorage[_0x18b56b(0x3ca)](_0x18b56b(0x579));}}function activateFileInputAreaWithLoadedFile(){const _0x5b9aec=_0x594c14,_0x1681b8=document[_0x5b9aec(0x68c)](_0x5b9aec(0x38e)),_0x21e82c=document[_0x5b9aec(0x68c)]('file-topics-list-container'),_0x237161=document[_0x5b9aec(0x68c)](_0x5b9aec(0xadd));selectedFile?_0x237161['checked']?(_0x1681b8[_0x5b9aec(0x376)]=!![],analyzeFileForTopics(selectedFile)):(_0x1681b8[_0x5b9aec(0x376)]=![],_0x21e82c[_0x5b9aec(0x936)][_0x5b9aec(0x2de)](_0x5b9aec(0x1dc))):(_0x1681b8[_0x5b9aec(0x376)]=!![],_0x21e82c[_0x5b9aec(0x936)][_0x5b9aec(0x2de)]('hidden'));}async function handleKickPlayerSync(_0xaf80af){const _0x678c77=_0x594c14;if(!currentLiveGameId||!_0xaf80af)return;const _0x28f189=doc(db,_0x678c77(0x632)+appId+'/public/data/syncGames',currentLiveGameId),_0x15f0cd={};_0x15f0cd[_0x678c77(0x6c7)+_0xaf80af+_0x678c77(0x541)]=_0x678c77(0x715);try{await updateDoc(_0x28f189,_0x15f0cd);}catch(_0x2c3918){console[_0x678c77(0x4e5)](_0x678c77(0x4a4)+_0xaf80af+_0x678c77(0x2d4),_0x2c3918),showMessage(_0x678c77(0xbf8));}}async function renderStudentProgressDashboard(_0x22df24,_0x48610e){const _0x661610=_0x594c14,_0x5099b2=document[_0x661610(0x68c)]('student-progress-content');_0x5099b2[_0x661610(0xa0c)]=_0x661610(0xcb1);try{const _0x5370af=collection(db,_0x661610(0x632)+appId+_0x661610(0x21f)),_0x16eef2=query(_0x5370af,where(_0x661610(0x618),'==',_0x22df24)),_0x4fb62d=await getDocs(_0x16eef2),_0x10c3b7=_0x4fb62d['docs'][_0x661610(0x345)](_0x120f9a=>({'id':_0x120f9a['id'],..._0x120f9a[_0x661610(0x21d)]()})),_0x1e53a8=_0x10c3b7[_0x661610(0x345)](_0x4a4a40=>getDoc(doc(db,_0x661610(0x632)+appId+_0x661610(0x6e7)+_0x4a4a40['id']+_0x661610(0x21e),_0x48610e))),_0x16d19c=await Promise[_0x661610(0xd2b)](_0x1e53a8),_0x22be07=_0x16d19c[_0x661610(0x298)](_0x27ec68=>_0x27ec68[_0x661610(0x367)]())[_0x661610(0x345)](_0x42b9a6=>({'quizId':_0x42b9a6[_0x661610(0x61f)][_0x661610(0xa3b)][_0x661610(0xa3b)]['id'],..._0x42b9a6[_0x661610(0x21d)]()}));if(_0x22be07[_0x661610(0x757)]===0x0){_0x5099b2[_0x661610(0xa0c)]=_0x661610(0x372);return;}let _0x2e3c2c=_0x661610(0x25e);_0x22be07[_0x661610(0x8be)](_0x5b1d4f=>{const _0x20cb1e=_0x661610,_0x233a1f=_0x10c3b7[_0x20cb1e(0xad3)](_0x3a2b80=>_0x3a2b80['id']===_0x5b1d4f[_0x20cb1e(0x8c6)]),_0x2e8eb3=_0x233a1f[_0x20cb1e(0xbab)]?.[_0x20cb1e(0x74c)]||_0x20cb1e(0xbc5),_0x7bb127=_0x233a1f[_0x20cb1e(0xbab)]?.[_0x20cb1e(0xaec)]??0x0,_0x5254cb=_0x5b1d4f[_0x20cb1e(0x3fe)]>=_0x7bb127;let _0x33b579='',_0x1a55e6=_0x20cb1e(0x98c);switch(_0x2e8eb3){case _0x20cb1e(0xbc5):case'show_results_only':_0x1a55e6=_0x5254cb?_0x20cb1e(0x7ab):_0x20cb1e(0x8fa),_0x33b579=_0x20cb1e(0xa02)+(_0x5254cb?'text-green-700':_0x20cb1e(0x6a8))+'\x22>'+_0x5b1d4f[_0x20cb1e(0x3fe)]+_0x20cb1e(0x431)+_0x5b1d4f[_0x20cb1e(0x51c)]+_0x20cb1e(0xaac)+(_0x5254cb?_0x20cb1e(0x710):_0x20cb1e(0x49e))+'\x22>'+(_0x5254cb?'ผ่าน':_0x20cb1e(0x50e))+_0x20cb1e(0x6bc);break;case'show_pass_fail_only':_0x1a55e6=_0x5254cb?_0x20cb1e(0x7ab):_0x20cb1e(0x8fa),_0x33b579='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x5254cb?'bg-green-200\x20text-green-800':_0x20cb1e(0x49e))+'\x22>'+(_0x5254cb?_0x20cb1e(0x66b):_0x20cb1e(0x50e))+_0x20cb1e(0x6bc);break;case _0x20cb1e(0x86a):_0x1a55e6=_0x20cb1e(0x767),_0x33b579=_0x20cb1e(0x6d8);break;}_0x2e3c2c+=_0x20cb1e(0x3e1)+_0x1a55e6+_0x20cb1e(0x9fa)+_0x233a1f[_0x20cb1e(0x72e)]+_0x20cb1e(0x335)+_0x5b1d4f['attempts']['length']+_0x20cb1e(0xcd4)+new Date(_0x5b1d4f[_0x20cb1e(0x6a1)])[_0x20cb1e(0x3fb)](_0x20cb1e(0x475))+_0x20cb1e(0x5d9)+_0x33b579+_0x20cb1e(0x1c8);}),_0x2e3c2c+='</div>',_0x5099b2[_0x661610(0xa0c)]=_0x2e3c2c;}catch(_0x2126d8){console[_0x661610(0x4e5)](_0x661610(0x4f4),_0x2126d8),_0x5099b2[_0x661610(0xa0c)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x20ab6e=''){const _0x572a9d=_0x594c14,_0x45d172=document[_0x572a9d(0x68c)](_0x572a9d(0xc30)),_0x3e4ccb=_0x20ab6e[_0x572a9d(0x986)]()[_0x572a9d(0x99c)](),_0x5d60a1=allQuizzesGlobal[_0x572a9d(0x345)](_0xf245d5=>({..._0xf245d5,'projectName':allProjects[_0x572a9d(0xad3)](_0x111cb0=>_0x111cb0['id']===_0xf245d5[_0x572a9d(0x618)])?.[_0x572a9d(0xbc1)]||_0x572a9d(0xbe3)}))[_0x572a9d(0x298)](_0x30c837=>(_0x30c837['topic']||'')[_0x572a9d(0x986)]()[_0x572a9d(0x92b)](_0x3e4ccb)||(_0x30c837['projectName']||'')['toLowerCase']()[_0x572a9d(0x92b)](_0x3e4ccb)||_0x30c837['id'][_0x572a9d(0x3d0)]()[_0x572a9d(0x92b)](_0x3e4ccb));_0x45d172[_0x572a9d(0xa0c)]=_0x5d60a1[_0x572a9d(0x757)]?_0x5d60a1['map'](_0x404e6e=>_0x572a9d(0x6a3)+_0x404e6e['id']+'\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x404e6e['topic']||_0x572a9d(0x4d8))+_0x572a9d(0xa2b)+_0x404e6e['projectName']+'\x20|\x20ID:\x20'+_0x404e6e['id']+_0x572a9d(0x6b0))[_0x572a9d(0x95f)](''):_0x572a9d(0x567),_0x45d172[_0x572a9d(0x90f)]=()=>{const _0x30b354=_0x572a9d,_0x43bdc4=document['querySelector']('.quiz-bank-checkbox:checked');document[_0x30b354(0x68c)](_0x30b354(0x44c))['disabled']=!_0x43bdc4;};}function setupStudentProgressListeners(){const _0x831d3d=_0x594c14;document[_0x831d3d(0x68c)](_0x831d3d(0xb01))[_0x831d3d(0x7a0)](_0x831d3d(0xc83),showStudentProgressView),document[_0x831d3d(0x68c)](_0x831d3d(0x432))[_0x831d3d(0x7a0)](_0x831d3d(0xc83),()=>{const _0x48a732=_0x831d3d;document['getElementById']('student-progress-view')[_0x48a732(0x936)]['add'](_0x48a732(0x1dc)),document[_0x48a732(0x68c)](_0x48a732(0x533))[_0x48a732(0x936)][_0x48a732(0x373)](_0x48a732(0x1dc));});}async function startSkillPractice(_0x6c43ca){const _0x19d534=_0x594c14;studentResultArea[_0x19d534(0x936)][_0x19d534(0x2de)]('hidden'),studentQuizArea[_0x19d534(0xa0c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x19d534(0x936)]['remove']('hidden');try{const _0x34c34d=await getStandardizedTopic(_0x6c43ca);console[_0x19d534(0x3e0)](_0x19d534(0xafe)+_0x6c43ca+_0x19d534(0x540)+_0x34c34d+'\x22'),studentQuizArea['querySelector']('p')[_0x19d534(0xb4b)]=_0x19d534(0x213)+_0x34c34d+_0x19d534(0x545);const _0xc56f=collection(db,_0x19d534(0x632)+appId+_0x19d534(0x82d)),_0x40c33d=query(_0xc56f,where(_0x19d534(0x72e),'==',_0x34c34d)),_0x469d4a=await getDocs(_0x40c33d);if(_0x469d4a[_0x19d534(0x23c)]['length']>=0x3){console[_0x19d534(0x3e0)]('พบข้อสอบ\x20'+_0x469d4a[_0x19d534(0x23c)][_0x19d534(0x757)]+_0x19d534(0x2ab)+_0x34c34d+_0x19d534(0x963));let _0xe7d114=_0x469d4a[_0x19d534(0x23c)][_0x19d534(0x345)](_0xeffadc=>_0xeffadc['data']());shuffleArray(_0xe7d114);const _0x7080cd={'topic':_0x34c34d,'questions':_0xe7d114[_0x19d534(0xc6f)](0x0,0x3)};displaySkillPracticeDrill(_0x7080cd);}else{console[_0x19d534(0x3e0)](_0x19d534(0xabf)+_0x34c34d+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x132a41=await generatePracticeQuestions(_0x34c34d);await saveDrillToPracticeBank(_0x132a41,_0x34c34d),displaySkillPracticeDrill(_0x132a41);}}catch(_0x1ae3cd){console['error'](_0x19d534(0xca3),_0x1ae3cd),showMessage(_0x19d534(0x591)),studentQuizArea[_0x19d534(0x936)][_0x19d534(0x2de)](_0x19d534(0x1dc)),studentResultArea[_0x19d534(0x936)][_0x19d534(0x373)](_0x19d534(0x1dc));}}async function saveDrillToPracticeBank(_0x3e9d4c,_0x357bc5){const _0x268d0a=_0x594c14,_0x451f32=collection(db,'artifacts/'+appId+_0x268d0a(0x82d)),_0x1b2a2f=writeBatch(db);_0x3e9d4c[_0x268d0a(0x72b)][_0x268d0a(0x8be)](_0x2de11b=>{const _0x30e196=_0x268d0a,_0x10d938=doc(_0x451f32);_0x1b2a2f['set'](_0x10d938,{'topic':_0x357bc5,'questionText':_0x2de11b['questionText'],'options':_0x2de11b[_0x30e196(0x9ac)],'correctAnswerIndex':_0x2de11b[_0x30e196(0x671)],'explanation':_0x2de11b['explanation'],'createdAt':serverTimestamp()});});try{await _0x1b2a2f[_0x268d0a(0x555)](),console['log'](_0x268d0a(0x8e0)+_0x3e9d4c[_0x268d0a(0x72b)]['length']+_0x268d0a(0xa12));}catch(_0x434f82){console[_0x268d0a(0x4e5)](_0x268d0a(0x5ac),_0x434f82);}}async function getStandardizedTopic(_0x4cfd77){const _0x53e681=_0x594c14,_0x50f33b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x4cfd77+_0x53e681(0x81d),_0x451e9a={'type':'OBJECT','properties':{'standardTopic':{'type':_0x53e681(0x4f0)}},'required':[_0x53e681(0x3a2)]};try{const _0x99389c=await callAnalysisApi(_0x50f33b,_0x451e9a);return _0x99389c['standardTopic'];}catch(_0x20bc5f){return console['error'](_0x53e681(0x18c),_0x20bc5f),_0x4cfd77;}}async function handleGenerateEasyVersionQuiz(_0x15ed4a){const _0x423f92=_0x594c14,_0x63efa4=document[_0x423f92(0x68c)](_0x423f92(0x7c5)),_0x2bd92f=document['getElementById'](_0x423f92(0x666));_0x2bd92f['classList'][_0x423f92(0x2de)]('hidden');const _0x3a200f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x63efa4[_0x423f92(0x7d6)](_0x423f92(0x44d),_0x3a200f);try{const _0x3cf86c=allQuizzes[_0x423f92(0xad3)](_0x58ff7a=>_0x58ff7a['id']===_0x15ed4a);if(!_0x3cf86c)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0x50691c=_0x423f92(0x2d2)+JSON[_0x423f92(0xace)](_0x3cf86c[_0x423f92(0x72b)])+_0x423f92(0x987),_0x573cc3={'type':_0x423f92(0x192),'properties':{'questionText':{'type':_0x423f92(0x4f0)},'questionType':{'type':_0x423f92(0x4f0)},'options':{'type':'ARRAY','items':{'type':_0x423f92(0x4f0)}},'correctAnswerIndex':{'type':_0x423f92(0x9cf)},'idealAnswer':{'type':_0x423f92(0x4f0)},'explanation':{'type':_0x423f92(0x4f0)},'imageCode':{'type':_0x423f92(0x4f0)}},'required':[_0x423f92(0x77a),'questionType','explanation']},_0x541f54={'type':_0x423f92(0x192),'properties':{'questions':{'type':_0x423f92(0xc77),'items':_0x573cc3}},'required':[_0x423f92(0x72b)]},_0x3c3f4c=await callAnalysisApi(_0x50691c,_0x541f54);_0x3c3f4c&&_0x3c3f4c['questions']&&_0x3c3f4c['questions'][_0x423f92(0x8be)](_0xebcf3b=>{const _0x36c686=_0x423f92;if(_0xebcf3b['hasOwnProperty'](_0x36c686(0x1c6))){const _0xced76c=String(_0xebcf3b[_0x36c686(0x1c6)])[_0x36c686(0x99c)]();(_0xced76c===''||_0xced76c[_0x36c686(0x986)]()===_0x36c686(0xc81)||!_0xced76c[_0x36c686(0x997)](_0x36c686(0xa75)))&&delete _0xebcf3b[_0x36c686(0x1c6)];}});if(!_0x3c3f4c||!_0x3c3f4c[_0x423f92(0x72b)]||_0x3c3f4c['questions'][_0x423f92(0x757)]===0x0)throw new Error(_0x423f92(0x4e2));const _0x171a4a=_0x3c3f4c['questions']['map']((_0x4a6017,_0x212eb7)=>({..._0x4a6017,'id':'q_'+Date[_0x423f92(0x708)]()+'_'+_0x212eb7})),_0x5dac2d={'projectId':_0x3cf86c['projectId'],'quizType':_0x3cf86c[_0x423f92(0x9c1)],'settings':_0x3cf86c[_0x423f92(0xbab)],'createdBy':_0x3cf86c[_0x423f92(0x6dc)],'status':'active','topic':_0x423f92(0x4a3)+_0x3cf86c[_0x423f92(0x72e)],'questions':_0x171a4a,'createdAt':new Date()['toISOString'](),'quizMode':_0x423f92(0xc33),'pairedQuizId':null};let _0x26b78d;while(!![]){_0x26b78d=Math['floor'](0x3e8+Math[_0x423f92(0x7b8)]()*0x2328)[_0x423f92(0x3d0)]();const _0x15e947=await getDoc(doc(db,_0x423f92(0x632)+appId+'/public/data/quizzes',_0x26b78d));if(!_0x15e947[_0x423f92(0x367)]())break;}await setDoc(doc(db,_0x423f92(0x632)+appId+_0x423f92(0x21f),_0x26b78d),_0x5dac2d),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x5c300c){console[_0x423f92(0x4e5)]('Error\x20generating\x20easy\x20version\x20quiz:',_0x5c300c),showMessage(_0x423f92(0x3ea)+_0x5c300c['message']);}finally{const _0xd9b73b=document[_0x423f92(0x68c)](_0x423f92(0x2ef));_0xd9b73b&&_0xd9b73b['remove'](),_0x2bd92f[_0x423f92(0x936)][_0x423f92(0x373)]('hidden');}}async function generatePracticeQuestions(_0x28db20){const _0x4a6276=_0x594c14,_0x4f2a56=_0x4a6276(0x9c4)+_0x28db20+_0x4a6276(0xd2d)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x3b0f48={'type':_0x4a6276(0x192),'properties':{'questionText':{'type':_0x4a6276(0x4f0)},'options':{'type':_0x4a6276(0xc77),'items':{'type':_0x4a6276(0x4f0)}},'correctAnswerIndex':{'type':_0x4a6276(0x9cf)},'explanation':{'type':_0x4a6276(0x4f0)}},'required':['questionText',_0x4a6276(0x9ac),_0x4a6276(0x671),_0x4a6276(0x9fc)]},_0x119702={'type':_0x4a6276(0x192),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x4a6276(0xc77),'items':_0x3b0f48}},'required':[_0x4a6276(0x72e),_0x4a6276(0x72b)]};return await callAnalysisApi(_0x4f2a56,_0x119702);}function displayLessonPlan(_0x741548,_0x545160){const _0x35c30c=_0x594c14,_0x4f3e10=_0x35c30c(0xa13)+_0x545160[_0x35c30c(0x72e)]+_0x35c30c(0xab3)+_0x741548[_0x35c30c(0x93b)]['map'](_0x47c2ee=>'<li>'+_0x47c2ee+_0x35c30c(0x890))[_0x35c30c(0x95f)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x741548[_0x35c30c(0x693)]+_0x35c30c(0x2ee)+_0x741548['practiceProblems'][_0x35c30c(0x345)](_0x38678f=>_0x35c30c(0xb72)+_0x38678f[_0x35c30c(0x72a)]+_0x35c30c(0xb14)+_0x38678f[_0x35c30c(0xa2f)]+_0x35c30c(0x412))['join']('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x35c30c(0x68c)](_0x35c30c(0x6d5))[_0x35c30c(0xb4b)]='แผนการสอน:\x20'+_0x545160['topic'],document[_0x35c30c(0x68c)]('lesson-plan-content')[_0x35c30c(0xa0c)]=_0x4f3e10,document['getElementById'](_0x35c30c(0x3f0))['classList'][_0x35c30c(0x373)](_0x35c30c(0x1dc));if(window[_0x35c30c(0x8e9)])MathJax[_0x35c30c(0x2e2)]();}function displaySkillPracticeDrill(_0x4aac6c){let _0xb29812=0x0;const _0x1ca259=_0x4aac6c['questions'],_0x5cc255=()=>{const _0x1998cb=_0x27d0,_0x3a3894=_0x1ca259[_0xb29812],_0x33d0fd=_0x1998cb(0x6e8)+(_0xb29812+0x1)+'\x20/\x20'+_0x1ca259[_0x1998cb(0x757)]+_0x1998cb(0x4ed)+_0x3a3894['questionText']+_0x1998cb(0x36a)+_0x3a3894[_0x1998cb(0x9ac)]['map']((_0x579467,_0x5287fb)=>_0x1998cb(0x3f9)+_0x5287fb+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x5287fb+_0x1998cb(0x193)+_0x5287fb+'\x22>'+_0x579467+_0x1998cb(0x33d))[_0x1998cb(0x95f)]('')+_0x1998cb(0x71b);studentQuizArea[_0x1998cb(0xa0c)]=_0x33d0fd;if(window[_0x1998cb(0x8e9)])MathJax['typesetPromise']([studentQuizArea]);document[_0x1998cb(0x68c)](_0x1998cb(0x518))['addEventListener'](_0x1998cb(0xc83),async()=>{const _0x386563=await getHintForQuestion(_0x3a3894['questionText']);showMessage(_0x386563);}),document[_0x1998cb(0x68c)]('check-answer-btn')[_0x1998cb(0x7a0)](_0x1998cb(0xc83),()=>{const _0x3b6f2a=_0x1998cb,_0x1f6a05=document['querySelector'](_0x3b6f2a(0x5a6));if(!_0x1f6a05){showMessage(_0x3b6f2a(0x8e1));return;}const _0x163999=document[_0x3b6f2a(0x68c)](_0x3b6f2a(0x615)),_0x5a0c85=parseInt(_0x1f6a05['value'])===_0x3a3894[_0x3b6f2a(0x671)];_0x5a0c85?(_0x163999[_0x3b6f2a(0x613)]=_0x3b6f2a(0x7a5),_0x163999[_0x3b6f2a(0xa0c)]=_0x3b6f2a(0x86b)+_0x3a3894[_0x3b6f2a(0x9fc)]):(_0x163999[_0x3b6f2a(0x613)]=_0x3b6f2a(0x992),_0x163999[_0x3b6f2a(0xa0c)]=_0x3b6f2a(0x264)+_0x3a3894[_0x3b6f2a(0x9fc)]);_0x163999[_0x3b6f2a(0x936)]['remove'](_0x3b6f2a(0x1dc));if(window['MathJax'])MathJax[_0x3b6f2a(0x2e2)]([_0x163999]);document['getElementById'](_0x3b6f2a(0x4ec))[_0x3b6f2a(0x936)]['add']('hidden'),document[_0x3b6f2a(0x68c)](_0x3b6f2a(0x518))[_0x3b6f2a(0x936)][_0x3b6f2a(0x2de)](_0x3b6f2a(0x1dc)),document[_0x3b6f2a(0x68c)](_0x3b6f2a(0x4d3))[_0x3b6f2a(0x936)][_0x3b6f2a(0x373)](_0x3b6f2a(0x1dc));}),document[_0x1998cb(0x68c)]('next-drill-btn')['addEventListener'](_0x1998cb(0xc83),()=>{const _0x146379=_0x1998cb;_0xb29812++,_0xb29812<_0x1ca259['length']?_0x5cc255():(studentQuizArea['innerHTML']=_0x146379(0x2c7),document['getElementById']('back-to-results-btn')[_0x146379(0x7a0)](_0x146379(0xc83),()=>{const _0x133c2b=_0x146379;studentQuizArea[_0x133c2b(0x936)][_0x133c2b(0x2de)](_0x133c2b(0x1dc)),studentResultArea[_0x133c2b(0x936)]['remove'](_0x133c2b(0x1dc));}));});};_0x5cc255();}async function getHintForQuestion(_0x58584a){const _0x1e279d=_0x594c14,_0xbc0772=_0x1e279d(0x3b6)+_0x58584a+_0x1e279d(0x209),_0x574b58={'type':_0x1e279d(0x192),'properties':{'hint':{'type':_0x1e279d(0x4f0)}},'required':[_0x1e279d(0x990)]};try{const _0x2a42fb=await callAnalysisApi(_0xbc0772,_0x574b58);return _0x2a42fb[_0x1e279d(0x990)];}catch(_0x4d737f){return console[_0x1e279d(0x4e5)]('Failed\x20to\x20get\x20hint:',_0x4d737f),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x538ed9){const _0x2ffd0c=_0x594c14;pdfjsLib[_0x2ffd0c(0x9b0)][_0x2ffd0c(0x9fe)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x9632ba=await _0x538ed9['arrayBuffer'](),_0xc6dfd9=await pdfjsLib[_0x2ffd0c(0x568)](_0x9632ba)['promise'],_0xcc72ae=_0xc6dfd9[_0x2ffd0c(0x49b)];let _0x4286dd='';for(let _0x383485=0x1;_0x383485<=_0xcc72ae;_0x383485++){const _0x256e1b=await _0xc6dfd9[_0x2ffd0c(0x5f9)](_0x383485),_0x3ff90c=await _0x256e1b[_0x2ffd0c(0x8aa)](),_0x4a6409=_0x3ff90c['items'][_0x2ffd0c(0x345)](_0x5a1a1d=>_0x5a1a1d[_0x2ffd0c(0xcde)])[_0x2ffd0c(0x95f)]('\x20');_0x4286dd+=_0x4a6409+'\x0a\x0a';}return _0x4286dd;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x42c12a){const _0x45ee33=_0x594c14,_0x575ce7=document['getElementById'](_0x45ee33(0xc8d)),_0x41c685=document['getElementById'](_0x45ee33(0x67c)),_0x3aa3a5=document['getElementById']('save-blueprint-as-project-btn');_0x575ce7[_0x45ee33(0x936)][_0x45ee33(0x373)](_0x45ee33(0x1dc)),_0x41c685[_0x45ee33(0xa0c)]=_0x45ee33(0xb45),_0x3aa3a5[_0x45ee33(0x936)]['add']('hidden');try{const _0x59c8ae=_0x45ee33(0xa7b)+_0x42c12a+_0x45ee33(0x85f),_0x5278e5={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x45ee33(0x4f0)},'curriculum':{'type':_0x45ee33(0xc77),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x45ee33(0x4f0)},'mainTopics':{'type':_0x45ee33(0xc77),'items':{'type':'OBJECT','properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x45ee33(0xc77),'items':{'type':'STRING'}}},'required':[_0x45ee33(0x274),'subTopics']}}},'required':[_0x45ee33(0xbba),_0x45ee33(0x6b9)]}}},'required':[_0x45ee33(0xd26),_0x45ee33(0xc03)]},_0x12c104=await callAnalysisApi(_0x59c8ae,_0x5278e5);if(_0x12c104&&_0x12c104[_0x45ee33(0xc03)])extractedBlueprintData=_0x12c104,renderBlueprintTopics(_0x12c104),_0x3aa3a5[_0x45ee33(0x936)][_0x45ee33(0x373)](_0x45ee33(0x1dc));else throw new Error(_0x45ee33(0x5d8));}catch(_0x1e5c5e){console[_0x45ee33(0x4e5)](_0x45ee33(0xcec),_0x1e5c5e),_0x41c685[_0x45ee33(0xa0c)]=_0x45ee33(0xbbb);}}function renderBlueprintTopics(_0x2f0164){const _0x2f1698=_0x594c14,_0x220def=document[_0x2f1698(0x68c)](_0x2f1698(0x67c)),_0x4724c0=_0x2f0164[_0x2f1698(0xd26)],_0x379404=_0x2f1698(0x899)+_0x4724c0+'</h3>';let _0x576a7c='';_0x2f0164['curriculum'][_0x2f1698(0x8be)](_0x5ce0ad=>{const _0x24232c=_0x2f1698;_0x576a7c+=_0x24232c(0xcf4)+_0x5ce0ad[_0x24232c(0xbba)]+_0x24232c(0x6c1),_0x5ce0ad[_0x24232c(0x6b9)][_0x24232c(0x8be)](_0x1a51fd=>{const _0x561723=_0x24232c;_0x576a7c+=_0x561723(0x88c)+_0x1a51fd[_0x561723(0x274)]+_0x561723(0x430),_0x1a51fd['subTopics'][_0x561723(0x8be)](_0x23350d=>{const _0x2b5fc2=_0x561723;_0x576a7c+=_0x2b5fc2(0x47b)+_0x23350d[_0x2b5fc2(0xaa5)](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x4724c0[_0x2b5fc2(0xaa5)](/'/g,'\x5c\x27')+_0x2b5fc2(0x625)+_0x23350d+_0x2b5fc2(0xc87)+_0x23350d[_0x2b5fc2(0xaa5)](/'/g,'\x5c\x27')+_0x2b5fc2(0xabd);}),_0x576a7c+=_0x561723(0x905);}),_0x576a7c+=_0x24232c(0x93c);}),_0x220def[_0x2f1698(0xa0c)]=_0x379404+_0x576a7c;}async function handleGenerateTeachingContent(_0x47ed35){const _0x404cb6=_0x594c14,_0x739fc3=document[_0x404cb6(0x68c)]('lesson-plan-modal'),_0x55dd11=document[_0x404cb6(0x68c)](_0x404cb6(0xa04));document[_0x404cb6(0x68c)](_0x404cb6(0x6d5))['textContent']=_0x404cb6(0x377)+_0x47ed35,_0x55dd11[_0x404cb6(0xa0c)]=_0x404cb6(0x697),_0x739fc3[_0x404cb6(0x936)][_0x404cb6(0x373)](_0x404cb6(0x1dc));try{const _0x2d64f8=_0x404cb6(0xc92)+_0x47ed35+_0x404cb6(0xa15),_0x59ebe5={'type':_0x404cb6(0x192),'properties':{'keyConcepts':{'type':'ARRAY','items':{'type':_0x404cb6(0x4f0)}},'commonMistakes':{'type':'ARRAY','items':{'type':_0x404cb6(0x4f0)}},'stepByStepExamples':{'type':'ARRAY','items':{'type':_0x404cb6(0x192),'properties':{'question':{'type':_0x404cb6(0x4f0)},'solution':{'type':'STRING'}},'required':[_0x404cb6(0x72a),_0x404cb6(0xa2f)]}},'teacherTips':{'type':_0x404cb6(0xc77),'items':{'type':_0x404cb6(0x4f0)}}},'required':[_0x404cb6(0xc98),_0x404cb6(0xa5b),_0x404cb6(0x1ed),_0x404cb6(0xc7b)]},_0x329401=await callAnalysisApi(_0x2d64f8,_0x59ebe5);displayTeachingContent(_0x329401,_0x47ed35);}catch(_0x3d87e9){console['error']('Error\x20generating\x20teaching\x20content:',_0x3d87e9),_0x55dd11[_0x404cb6(0xa0c)]=_0x404cb6(0x826)+_0x3d87e9[_0x404cb6(0x5f3)]+_0x404cb6(0x4a1);}}function displayTeachingContent(_0x3fde5d,_0x5ec323){const _0x2379cc=_0x594c14,_0x27be16=document['getElementById'](_0x2379cc(0xa04));document[_0x2379cc(0x68c)](_0x2379cc(0x6d5))[_0x2379cc(0xb4b)]=_0x2379cc(0x288)+_0x5ec323;const _0x49bcef=_0x2379cc(0x958)+_0x3fde5d[_0x2379cc(0xc98)][_0x2379cc(0x345)](_0x3160bd=>_0x2379cc(0x2d8)+_0x3160bd+_0x2379cc(0x890))[_0x2379cc(0x95f)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x3fde5d[_0x2379cc(0xa5b)][_0x2379cc(0x345)](_0x4d9b08=>'<li>'+_0x4d9b08+_0x2379cc(0x890))['join']('')+_0x2379cc(0x1b5)+_0x3fde5d[_0x2379cc(0x1ed)][_0x2379cc(0x345)](_0x1bdc0e=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x1bdc0e['question']+_0x2379cc(0x7ed)+_0x1bdc0e['solution']+_0x2379cc(0xab8))[_0x2379cc(0x95f)]('')+_0x2379cc(0x348)+_0x3fde5d['teacherTips']['map'](_0x3411ca=>'<li>'+_0x3411ca+_0x2379cc(0x890))['join']('')+_0x2379cc(0x384);_0x27be16['innerHTML']=_0x49bcef;if(window['MathJax'])MathJax[_0x2379cc(0x2e2)]([_0x27be16]);}async function generateQuizForSingleTopic(_0x439293){const _0x2580ef=_0x594c14;console['log'](_0x2580ef(0x9dd)+_0x439293+'\x22');const _0xf47a24=document[_0x2580ef(0x68c)]('reference-pdf-upload'),_0x4c2f2b=_0xf47a24['files']['length']>0x0?_0xf47a24['files'][0x0]:null;let _0x4348a5=null;if(_0x4c2f2b)try{const _0x588950=new FileReader();_0x588950[_0x2580ef(0xb25)](_0x4c2f2b);const _0x4002e3=await new Promise((_0x2d8c88,_0x4053ef)=>{const _0xa03279=_0x2580ef;_0x588950['onload']=()=>_0x2d8c88(_0x588950['result']['split'](',')[0x1]),_0x588950[_0xa03279(0xb91)]=_0x3b8a30=>_0x4053ef(_0x3b8a30);});_0x4348a5=[{'inlineData':{'mimeType':_0x4c2f2b[_0x2580ef(0x7f4)],'data':_0x4002e3}}];}catch(_0x34e7c6){console['error'](_0x2580ef(0xbb9),_0x34e7c6),showMessage(_0x2580ef(0x772));return;}generateQuiz(_0x439293,null,null,_0x4348a5,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x53d7fa=null){const _0x29cd7c=_0x594c14,_0x580370=document['getElementById'](_0x29cd7c(0xcbf)),_0x140d81=document['getElementById'](_0x29cd7c(0x84a));let _0x36ab7b;if(_0x53d7fa)_0x36ab7b=_0x53d7fa;else{const _0x2254c2=document[_0x29cd7c(0x68c)](_0x29cd7c(0x8e6)),_0x235f75=_0x2254c2[_0x29cd7c(0x5d6)][0x0];if(!_0x235f75){showMessage(_0x29cd7c(0xcd9));return;}_0x140d81[_0x29cd7c(0xb4b)]=_0x29cd7c(0x352);const _0x32063d=await new Promise((_0x2f49cf,_0x12752c)=>{const _0x521406=_0x29cd7c,_0x574147=new FileReader();_0x574147[_0x521406(0xb25)](_0x235f75),_0x574147['onload']=()=>_0x2f49cf(_0x574147['result']['split'](',')[0x1]),_0x574147['onerror']=_0x12752c;});_0x36ab7b=[{'text':'PROMPT_PLACEHOLDER'},{'inlineData':{'mimeType':_0x235f75[_0x29cd7c(0x7f4)],'data':_0x32063d}}];}const _0x5b550d=_0x29cd7c(0x450),_0x59e219='**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET',_0x13ebb7=_0x29cd7c(0x673),_0x4546f9={'type':_0x29cd7c(0x192),'properties':{'questionText':{'type':_0x29cd7c(0x4f0)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x29cd7c(0xa97),_0x29cd7c(0x8b0),'matching_item']},'options':{'type':_0x29cd7c(0xc77),'items':{'type':_0x29cd7c(0x4f0)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x29cd7c(0x4f0)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x29cd7c(0x4f0)}},'required':[_0x29cd7c(0x7cd),_0x29cd7c(0x9fc)]},_0x3a220d={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x4546f9}},'required':[_0x29cd7c(0x72e),_0x29cd7c(0x72b)]};_0x36ab7b[0x0][_0x29cd7c(0x4b6)]=_0x13ebb7,await handleApiCall(_0x36ab7b,_0x29cd7c(0x5db),_0x3a220d);}function proceedToNextQuestion(_0x2af956){const _0xb163e=_0x594c14;studentAnswersPerQuestion[_0xb163e(0x861)](_0x2af956),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0xb163e(0x72b)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x10e1b8,_0x258d9b){const _0x482d9c=_0x594c14,_0x40e85b=Object[_0x482d9c(0x694)](_0x10e1b8[_0x482d9c(0xb2c)]||{}),_0x5a8999=_0x40e85b[_0x482d9c(0x757)],_0x2363f5=[..._0x40e85b][_0x482d9c(0x387)]((_0x1ad014,_0x3513cc)=>_0x3513cc['score']-_0x1ad014[_0x482d9c(0xc54)]),_0x4edfc2=_0x10e1b8['currentQuestionIndex'];let _0x2eafb2='';const _0x340dbf=_0x10e1b8['shuffledQuiz'][_0x482d9c(0x72b)],_0x59e8a4=_0x340dbf[_0x4edfc2],_0x1bf3d8=_0x246552=>String['fromCharCode'](0x41+_0x246552);let _0x251411='',_0x218cde='';if(_0x59e8a4){const _0x53b17e=_0x59e8a4[_0x482d9c(0x7cd)]||_0x10e1b8['shuffledQuiz'][_0x482d9c(0x9c1)];if(_0x53b17e==='multiple_choice'&&_0x59e8a4[_0x482d9c(0x9ac)]&&_0x59e8a4[_0x482d9c(0x671)]!==undefined){const _0x579d4b=_0x59e8a4[_0x482d9c(0x671)];_0x251411=_0x59e8a4['options'][_0x579d4b],_0x218cde=_0x1bf3d8(_0x579d4b)+'.';}else{if(_0x53b17e==='true_false'){const _0x1e77b4=_0x59e8a4['correctAnswer']===!![]||String(_0x59e8a4[_0x482d9c(0xbfb)])[_0x482d9c(0x986)]()===_0x482d9c(0x300);_0x1e77b4?(_0x251411=_0x482d9c(0x8ef),_0x218cde='ก.'):(_0x251411=_0x482d9c(0xcf8),_0x218cde='ข.');}else{if(_0x53b17e===_0x482d9c(0x37f))_0x251411=_0x59e8a4['correctResponse']||'-',_0x218cde='';else _0x53b17e===_0x482d9c(0xa97)&&(_0x251411=_0x59e8a4[_0x482d9c(0x27b)]||'-',_0x218cde='');}}}_0x251411&&(_0x2eafb2=_0x482d9c(0x203)+(_0x4edfc2+0x1)+_0x482d9c(0x7a3)+_0x218cde+'\x20'+_0x251411+_0x482d9c(0x7ef));const _0x4f6269=_0x2363f5[_0x482d9c(0x345)](_0x478402=>{const _0x3c0449=_0x482d9c;let _0x2b7a95=![];if(_0x478402[_0x3c0449(0x576)]&&_0x4edfc2!==-0x1){const _0x9af48b=_0x478402[_0x3c0449(0x576)][_0x3c0449(0xad3)](_0x3384a8=>_0x3384a8[_0x3c0449(0x344)]===_0x4edfc2);_0x9af48b&&_0x9af48b[_0x3c0449(0xa60)]&&(_0x2b7a95=!![]);}const _0x2e5e50=_0x2b7a95?_0x3c0449(0x2f7):_0x3c0449(0x1a6);return _0x3c0449(0x84f)+_0x2e5e50+'\x22><span>'+_0x478402['name']+_0x3c0449(0x84c)+_0x478402[_0x3c0449(0xc54)]+'\x20คะแนน</span></div>';})[_0x482d9c(0x95f)](''),_0x121680=_0x340dbf[_0x482d9c(0x345)]((_0x18a567,_0x1bdb59)=>{const _0x2228f3=_0x482d9c,_0x190016=_0x40e85b[_0x2228f3(0x298)](_0x569f8c=>_0x569f8c[_0x2228f3(0x576)]&&_0x569f8c['answers'][_0x2228f3(0xad3)](_0x519f4c=>_0x519f4c[_0x2228f3(0x344)]===_0x1bdb59&&_0x519f4c['isCorrect']))[_0x2228f3(0x757)],_0x1d3852=_0x1bdb59===_0x4edfc2,_0x28f0dd=_0x1d3852?_0x2228f3(0x7b3):_0x2228f3(0x9c7);return _0x2228f3(0x87b)+_0x28f0dd+_0x2228f3(0xa2e)+(_0x1bdb59+0x1)+_0x2228f3(0x490)+_0x190016+_0x2228f3(0x431)+_0x5a8999+_0x2228f3(0xbd2);})[_0x482d9c(0x95f)]('');let _0x46f23b='',_0x57c8ee='';if(_0x258d9b){const _0x3fa217=_0x10e1b8[_0x482d9c(0xa9c)]>=_0x340dbf['length']-0x1;_0x46f23b=_0x482d9c(0xa96)+(_0x3fa217?'ดูผลสรุปสุดท้าย':_0x482d9c(0x3c0))+_0x482d9c(0xab1),_0x57c8ee=_0x482d9c(0x515);}const _0x135a51=_0x482d9c(0x444)+_0x10e1b8[_0x482d9c(0x292)][_0x482d9c(0x72e)]+_0x482d9c(0xae3)+_0x57c8ee+_0x482d9c(0x42e)+_0x2eafb2+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x4f6269||_0x482d9c(0x5c7))+_0x482d9c(0xa5d)+_0x121680+_0x482d9c(0x740)+(_0x258d9b?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0x46f23b+_0x482d9c(0x93c):'')+_0x482d9c(0xa26);liveGameView[_0x482d9c(0xa0c)]=_0x135a51;if(window[_0x482d9c(0x8e9)]){const _0x2107cf=document[_0x482d9c(0x68c)]('main-correct-answer-display');_0x2107cf&&MathJax[_0x482d9c(0x2e2)]([_0x2107cf]);}if(_0x258d9b){document[_0x482d9c(0x68c)]('next-sync-question-btn')[_0x482d9c(0xbf9)]=async()=>{const _0x5b44b5=_0x482d9c,_0x47db3f=doc(db,_0x5b44b5(0x632)+appId+_0x5b44b5(0x5e7),currentLiveGameId),_0xadab35=_0x10e1b8[_0x5b44b5(0xa9c)]+0x1;if(_0xadab35<_0x340dbf[_0x5b44b5(0x757)]){const _0xbf06f8={};Object[_0x5b44b5(0x2e8)](_0x10e1b8[_0x5b44b5(0xb2c)])[_0x5b44b5(0x8be)](_0x163e2f=>{const _0x20f9fc=_0x5b44b5;_0xbf06f8['players.'+_0x163e2f+_0x20f9fc(0x6aa)]=![],_0xbf06f8[_0x20f9fc(0x6c7)+_0x163e2f+_0x20f9fc(0x7da)]=null;}),await updateDoc(_0x47db3f,{..._0xbf06f8,'status':_0x5b44b5(0x72a),'currentQuestionIndex':_0xadab35,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x47db3f,{'status':_0x5b44b5(0x3b2)});};const _0x337ba2=document[_0x482d9c(0x68c)](_0x482d9c(0x6ff));_0x337ba2&&(_0x337ba2['onclick']=()=>{const _0x21adf7=_0x482d9c;showConfirmation(_0x21adf7(0xcce),async()=>{const _0x16a57a=_0x21adf7,_0x2dade5=doc(db,'artifacts/'+appId+_0x16a57a(0x5e7),currentLiveGameId);await updateDoc(_0x2dade5,{'status':_0x16a57a(0x3b2)});});});}}async function handleGenerateParallelFromBank(_0x97f4a8){const _0x38256e=_0x594c14,_0x57c92e=document[_0x38256e(0x68c)](_0x38256e(0x7c5)),_0x1c9107=document[_0x38256e(0x68c)](_0x38256e(0x666));_0x1c9107[_0x38256e(0x936)][_0x38256e(0x2de)](_0x38256e(0x1dc));const _0x164b10=_0x38256e(0x999)+_0x97f4a8[_0x38256e(0x72e)]+_0x38256e(0xce1);_0x57c92e[_0x38256e(0x7d6)]('beforeend',_0x164b10);const _0x5b7fc1=document[_0x38256e(0x68c)](_0x38256e(0x8b5));try{const _0x555474=_0x97f4a8['questions'][_0x38256e(0x345)]((_0x35ea5d,_0x116e45)=>{const _0x18327e=_0x38256e;let _0x42b0a9=_0x116e45+0x1+'.\x20'+(_0x35ea5d[_0x18327e(0x77a)]||_0x35ea5d[_0x18327e(0x346)])+'\x0a';if(_0x35ea5d[_0x18327e(0x9ac)])_0x42b0a9+=_0x35ea5d[_0x18327e(0x9ac)]['map']((_0x14acc0,_0x426411)=>_0x18327e(0xc0f)+(_0x426411===_0x35ea5d[_0x18327e(0x671)]?_0x18327e(0x451):'')+'\x20'+_0x14acc0)[_0x18327e(0x95f)]('\x0a');else _0x35ea5d['idealAnswer']&&(_0x42b0a9+=_0x18327e(0x8ed)+_0x35ea5d[_0x18327e(0x27b)]);return _0x42b0a9;})[_0x38256e(0x95f)]('\x0a\x0a');_0x5b7fc1[_0x38256e(0xb4b)]=_0x38256e(0x791);const _0x29f7da=_0x38256e(0x3e4)+_0x97f4a8[_0x38256e(0x72e)]+_0x38256e(0x374)+_0x555474+_0x38256e(0xbce)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xac066c={'type':_0x38256e(0x192),'properties':{'questionText':{'type':_0x38256e(0x4f0)},'questionType':{'type':'STRING','enum':[_0x38256e(0x69d),_0x38256e(0xa97),_0x38256e(0x8b0),_0x38256e(0x37f)]},'options':{'type':_0x38256e(0xc77),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x38256e(0x9cf)},'idealAnswer':{'type':_0x38256e(0x4f0)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x38256e(0x4f0)},'correctResponse':{'type':_0x38256e(0x4f0)},'allResponses':{'type':_0x38256e(0xc77),'items':{'type':_0x38256e(0x4f0)}},'explanation':{'type':_0x38256e(0x4f0)},'imageCode':{'type':_0x38256e(0x4f0)}},'required':[_0x38256e(0x7cd),_0x38256e(0x9fc)]},_0x572465={'type':_0x38256e(0x192),'properties':{'topic':{'type':_0x38256e(0x4f0)},'questions':{'type':_0x38256e(0xc77),'items':_0xac066c}},'required':['topic',_0x38256e(0x72b)]},_0xdc1101=await callAnalysisApi(_0x29f7da,_0x572465),_0x10b3d5=_0xdc1101[_0x38256e(0x72b)][_0x38256e(0x345)]((_0x4545b0,_0x3f5310)=>({..._0x4545b0,'id':'q_'+Date[_0x38256e(0x708)]()+'_'+_0x3f5310})),_0x4df101=_0x38256e(0x9b8)+_0x97f4a8[_0x38256e(0x72e)],_0x3a954d={'topic':_0x4df101,'questions':_0x10b3d5,'quizType':_0x97f4a8[_0x38256e(0x9c1)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x38256e(0x323),'settings':_0x97f4a8[_0x38256e(0xbab)],'quizMode':_0x38256e(0xc33),'pairedQuizId':null,'lessonPlan':null};let _0x5cfaa0;while(!![]){_0x5cfaa0=Math['floor'](0x3e8+Math[_0x38256e(0x7b8)]()*0x2328)['toString']();const _0x2d54bd=await getDoc(doc(db,_0x38256e(0x632)+appId+_0x38256e(0x21f),_0x5cfaa0));if(!_0x2d54bd[_0x38256e(0x367)]())break;}await setDoc(doc(db,_0x38256e(0x632)+appId+_0x38256e(0x21f),_0x5cfaa0),_0x3a954d),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0xecd57f){console['error']('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0xecd57f),showMessage(_0x38256e(0x3ea)+_0xecd57f[_0x38256e(0x5f3)]);}finally{const _0x2ae59c=document[_0x38256e(0x68c)]('temp-loader-results');_0x2ae59c&&_0x2ae59c[_0x38256e(0x373)](),_0x1c9107['classList'][_0x38256e(0x373)](_0x38256e(0x1dc));}}async function handleGenerateParallelPostTest(_0xa3b81d){const _0x3f9af8=_0x594c14,_0x3fcd0a=document[_0x3f9af8(0x68c)](_0x3f9af8(0x7c5)),_0x30222f=document[_0x3f9af8(0x68c)](_0x3f9af8(0x666));_0x30222f[_0x3f9af8(0x936)]['add']('hidden');const _0x1e2715=_0x3f9af8(0x794);_0x3fcd0a[_0x3f9af8(0x7d6)](_0x3f9af8(0x44d),_0x1e2715);try{const _0x44b5a8=_0xa3b81d[_0x3f9af8(0x72b)][_0x3f9af8(0x345)]((_0x216aa7,_0x5799b1)=>{const _0x5164a7=_0x3f9af8;let _0x3a720e=_0x5799b1+0x1+'.\x20'+(_0x216aa7[_0x5164a7(0x77a)]||_0x216aa7['stem']);if(_0x216aa7[_0x5164a7(0x9ac)])_0x3a720e+=_0x5164a7(0x5bd)+_0x216aa7['options'][_0x5164a7(0x95f)](',\x20');return _0x3a720e;})[_0x3f9af8(0x95f)]('\x0a\x0a'),_0x43cf34=_0x3f9af8(0x76a)+_0xa3b81d[_0x3f9af8(0x72e)]+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x44b5a8+_0x3f9af8(0x80c)+simpleMathPrompt+_0x3f9af8(0x570),_0x454bdc={'type':'OBJECT','properties':{'topic':{'type':_0x3f9af8(0x4f0)},'questions':{'type':_0x3f9af8(0xc77),'items':{'type':_0x3f9af8(0x192),'properties':{'questionText':{'type':_0x3f9af8(0x4f0)},'questionType':{'type':_0x3f9af8(0x4f0)},'options':{'type':_0x3f9af8(0xc77),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x3f9af8(0x4f0)},'explanation':{'type':_0x3f9af8(0x4f0)}},'required':['questionText','explanation']}}},'required':[_0x3f9af8(0x72e),_0x3f9af8(0x72b)]},_0x37d8fd=await callAnalysisApi(_0x43cf34,_0x454bdc),_0x55299e=_0xa3b81d[_0x3f9af8(0x72e)][_0x3f9af8(0xaa5)](_0x3f9af8(0x28c),'')['trim'](),_0x109062=_0x3f9af8(0x30d)+_0x55299e,_0x38e00c={..._0x37d8fd,'topic':_0x109062,'quizType':_0xa3b81d['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x3f9af8(0x323),'settings':_0xa3b81d[_0x3f9af8(0xbab)],'quizMode':_0x3f9af8(0x443),'pairedQuizId':_0xa3b81d['id']};let _0x295e64;while(!![]){_0x295e64=Math[_0x3f9af8(0xa3c)](0x3e8+Math['random']()*0x2328)['toString']();const _0x21cf8c=await getDoc(doc(db,_0x3f9af8(0x632)+appId+'/public/data/quizzes',_0x295e64));if(!_0x21cf8c['exists']())break;}await setDoc(doc(db,_0x3f9af8(0x632)+appId+_0x3f9af8(0x21f),_0x295e64),_0x38e00c);const _0x5a962c=doc(db,_0x3f9af8(0x632)+appId+'/public/data/quizzes',_0xa3b81d['id']);await updateDoc(_0x5a962c,{'pairedQuizId':_0x295e64}),showMessage(_0x3f9af8(0x86d));}catch(_0x36c9a2){console[_0x3f9af8(0x4e5)](_0x3f9af8(0x891),_0x36c9a2),showMessage(_0x3f9af8(0x3ea)+_0x36c9a2[_0x3f9af8(0x5f3)]);}finally{const _0x13524b=document[_0x3f9af8(0x68c)](_0x3f9af8(0x2ef));if(_0x13524b)_0x13524b[_0x3f9af8(0x373)]();_0x30222f[_0x3f9af8(0x936)][_0x3f9af8(0x373)](_0x3f9af8(0x1dc));}}async function handleGenerateParallelTest(_0x2e22a3=null){const _0x3b62ac=_0x594c14;let _0x2fd9ba=_0x2e22a3;if(!_0x2fd9ba){const _0x53a77=document['getElementById'](_0x3b62ac(0x659));_0x53a77['files'][_0x3b62ac(0x757)]>0x0&&(_0x2fd9ba=_0x53a77[_0x3b62ac(0x5d6)][0x0]);}if(!_0x2fd9ba){showMessage(_0x3b62ac(0x8ce));return;}const _0x5ece25=document[_0x3b62ac(0x68c)](_0x3b62ac(0xcbf)),_0xaff58e=document['getElementById'](_0x3b62ac(0x84a)),_0x211d5c=document[_0x3b62ac(0x68c)]('generated-quiz-container'),_0x4f64a7=document['getElementById']('generate-from-parallel-test-btn');_0x4f64a7['disabled']=!![],document[_0x3b62ac(0x68c)]('quiz-generation-area')[_0x3b62ac(0x936)][_0x3b62ac(0x373)]('hidden'),_0x211d5c[_0x3b62ac(0xa0c)]='',_0x5ece25[_0x3b62ac(0x936)][_0x3b62ac(0x373)](_0x3b62ac(0x1dc)),_0xaff58e[_0x3b62ac(0xb4b)]=_0x3b62ac(0x201);const _0x2ee6a6=new FileReader();_0x2ee6a6[_0x3b62ac(0xb25)](_0x2fd9ba),_0x2ee6a6[_0x3b62ac(0x4f6)]=async()=>{const _0x549046=_0x3b62ac;try{const _0x39e65c=_0x2ee6a6[_0x549046(0x38f)][_0x549046(0x1c1)](',')[0x1],_0x1038cf=_0x2fd9ba[_0x549046(0x7f4)];_0xaff58e['textContent']='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x43b5b5=document[_0x549046(0x68c)](_0x549046(0x6be))[_0x549046(0x9cb)],_0x464f59=_0x43b5b5?_0x549046(0x587):'',_0x2936f0=_0x549046(0x8f3),_0x3abacf={'type':_0x549046(0x192),'properties':{'questionText':{'type':_0x549046(0x4f0)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x549046(0xa97)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x549046(0x9cf)},'idealAnswer':{'type':_0x549046(0x4f0)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x549046(0x4f0)}},'required':[_0x549046(0x77a),'questionType',_0x549046(0x9fc)]},_0x434dde={'type':_0x549046(0x192),'properties':{'topic':{'type':_0x549046(0x4f0)},'questions':{'type':_0x549046(0xc77),'items':_0x3abacf}},'required':[_0x549046(0x72e),_0x549046(0x72b)]},_0x4ddade=[{'text':_0x2936f0},{'inlineData':{'mimeType':_0x1038cf,'data':_0x39e65c}}];await handleApiCall(_0x4ddade,_0x549046(0x65f),_0x434dde);}catch(_0x3133c7){console[_0x549046(0x4e5)](_0x549046(0x98d),_0x3133c7),showMessage(_0x549046(0x3ea)+_0x3133c7[_0x549046(0x5f3)]),_0x211d5c[_0x549046(0xa0c)]=_0x549046(0x47a);}finally{_0x5ece25['classList'][_0x549046(0x2de)]('hidden'),_0x4f64a7[_0x549046(0x376)]=![];}},_0x2ee6a6['onerror']=_0x2ec59c=>{const _0x3e2612=_0x3b62ac;console[_0x3e2612(0x4e5)]('FileReader\x20error:',_0x2ec59c),showMessage(_0x3e2612(0xcc7)),_0x5ece25['classList'][_0x3e2612(0x2de)](_0x3e2612(0x1dc)),_0x4f64a7[_0x3e2612(0x376)]=![];};}async function handleRegenerateQuestionInEditor(_0x764ec9){const _0x1cfe3b=_0x594c14;if(currentEditingQuizData===null)return;const _0x526047=document[_0x1cfe3b(0x817)](_0x1cfe3b(0x5a0)+_0x764ec9+'\x22]');_0x526047&&(_0x526047[_0x1cfe3b(0xa0c)]=_0x1cfe3b(0x71d));const _0x334bf5=currentEditingQuizData[_0x1cfe3b(0x72b)][_0x764ec9],_0x3b382d=currentEditingQuizData[_0x1cfe3b(0x72e)],_0x349444=_0x334bf5[_0x1cfe3b(0x7cd)],_0xff99bd={'type':_0x1cfe3b(0x192),'properties':{'questionText':{'type':_0x1cfe3b(0x4f0)},'options':{'type':_0x1cfe3b(0xc77),'items':{'type':_0x1cfe3b(0x4f0)}},'correctAnswerIndex':{'type':_0x1cfe3b(0x9cf)},'explanation':{'type':_0x1cfe3b(0x4f0)}},'required':[_0x1cfe3b(0x77a),_0x1cfe3b(0x9ac),_0x1cfe3b(0x671),_0x1cfe3b(0x9fc)]},_0x2e2904={'type':'OBJECT','properties':{'questionText':{'type':_0x1cfe3b(0x4f0)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x1cfe3b(0x4f0)}},'required':[_0x1cfe3b(0x77a),_0x1cfe3b(0x27b),'explanation']};let _0x539bc2,_0x5b0b74='';_0x349444===_0x1cfe3b(0x69d)?(_0x539bc2=_0xff99bd,_0x5b0b74=_0x1cfe3b(0x8c1)):(_0x539bc2=_0x2e2904,_0x5b0b74=_0x1cfe3b(0x7a1));const _0x14b9f1='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x3b382d+_0x1cfe3b(0x855)+_0x5b0b74+_0x1cfe3b(0x942)+(_0x334bf5['questionText']||_0x334bf5['stem'])+'\x22.\x20'+simpleMathPrompt;try{const _0x45f742=await callAnalysisApi(_0x14b9f1,_0x539bc2);currentEditingQuizData[_0x1cfe3b(0x72b)][_0x764ec9]={..._0x334bf5,..._0x45f742},renderQuizEditor(currentEditingQuizData);}catch(_0x476be8){console['error'](_0x1cfe3b(0x7b5),_0x476be8),showMessage(_0x1cfe3b(0x215)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x19278a=_0x594c14,_0x52412d=document['getElementById'](_0x19278a(0x253));currentMode==='student'?(adminPasswordModal[_0x19278a(0x936)][_0x19278a(0x373)](_0x19278a(0x1dc)),document[_0x19278a(0x68c)](_0x19278a(0x27c))['focus']()):(currentMode=_0x19278a(0x867),_0x52412d['innerHTML']=_0x19278a(0x7d9),_0x52412d[_0x19278a(0xa09)]=_0x19278a(0xc56),showView(_0x19278a(0x867)));}function handleAdminLogin(){const _0x3655e3=_0x594c14,_0x3cf0b3=document[_0x3655e3(0x68c)](_0x3655e3(0x27c)),_0x15a695=document[_0x3655e3(0x68c)]('password-error-msg');if(_0x3cf0b3[_0x3655e3(0x9a1)]===_0x3655e3(0xb7e)){adminPasswordModal['classList'][_0x3655e3(0x2de)](_0x3655e3(0x1dc)),_0x3cf0b3[_0x3655e3(0x9a1)]='',_0x15a695['classList'][_0x3655e3(0x2de)]('hidden'),currentMode=_0x3655e3(0x50a);const _0x2dba62=document['getElementById']('mode-switcher-btn');_0x2dba62[_0x3655e3(0xa0c)]=_0x3655e3(0x7e6),_0x2dba62[_0x3655e3(0xa09)]=_0x3655e3(0xae2),showView(_0x3655e3(0x30e));}else _0x15a695[_0x3655e3(0x936)][_0x3655e3(0x373)](_0x3655e3(0x1dc)),_0x3cf0b3[_0x3655e3(0x9a1)]='';}function switchProjectTab(_0x39100f){const _0x4916e0=_0x594c14;[_0x4916e0(0x1e6),_0x4916e0(0x51f),_0x4916e0(0x610)][_0x4916e0(0x8be)](_0x35bf5a=>{const _0x2170be=_0x4916e0;document[_0x2170be(0x68c)](_0x35bf5a+_0x2170be(0x394))[_0x2170be(0x936)][_0x2170be(0x373)](_0x2170be(0x323)),document[_0x2170be(0x68c)](_0x35bf5a+_0x2170be(0x40d))[_0x2170be(0x936)]['add'](_0x2170be(0x1dc));}),document[_0x4916e0(0x68c)](_0x39100f+_0x4916e0(0x394))[_0x4916e0(0x936)][_0x4916e0(0x2de)]('active'),document[_0x4916e0(0x68c)](_0x39100f+'-tab-content')[_0x4916e0(0x936)][_0x4916e0(0x373)](_0x4916e0(0x1dc));}function switchQuizDetailTab(_0x32b5c9){const _0x3ea09d=_0x594c14,_0x3ef1a7={'analytics':{'btn':_0x3ea09d(0x47e),'content':_0x3ea09d(0x662)},'scores':{'btn':'scores-tab-btn','content':_0x3ea09d(0x513)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x3ea09d(0x92a)},'behavior-log':{'btn':_0x3ea09d(0x5a4),'content':_0x3ea09d(0x43e)}};for(const _0x5066dd in _0x3ef1a7){document['getElementById'](_0x3ef1a7[_0x5066dd][_0x3ea09d(0x6af)])[_0x3ea09d(0x936)][_0x3ea09d(0x373)]('active'),document[_0x3ea09d(0x68c)](_0x3ef1a7[_0x5066dd][_0x3ea09d(0x63a)])[_0x3ea09d(0x936)][_0x3ea09d(0x2de)](_0x3ea09d(0x1dc));}document[_0x3ea09d(0x68c)](_0x3ef1a7[_0x32b5c9][_0x3ea09d(0x6af)])[_0x3ea09d(0x936)][_0x3ea09d(0x2de)](_0x3ea09d(0x323)),document[_0x3ea09d(0x68c)](_0x3ef1a7[_0x32b5c9]['content'])[_0x3ea09d(0x936)][_0x3ea09d(0x373)](_0x3ea09d(0x1dc));}function showMessage(_0x5cef9b,_0x2ebb97=null){const _0x4cc7b5=_0x594c14;modalMessage['textContent']=_0x5cef9b,modalConfirmAction=_0x2ebb97,messageModal['classList'][_0x4cc7b5(0x373)](_0x4cc7b5(0x1dc));}function showConfirmation(_0x5b9542,_0x393271){const _0x3e030a=_0x594c14;document[_0x3e030a(0x68c)]('confirmation-message')[_0x3e030a(0xb4b)]=_0x5b9542,document[_0x3e030a(0x68c)](_0x3e030a(0xa00))['querySelector']('h3')[_0x3e030a(0xb4b)]='ยืนยันการกระทำ',confirmAction=_0x393271,confirmationModal[_0x3e030a(0x936)][_0x3e030a(0x373)](_0x3e030a(0x1dc));}function listenForProjects(){const _0x218a01=_0x594c14,_0x3b3a43=doc(db,'globalSettings',_0x218a01(0x4bd));onSnapshot(_0x3b3a43,_0x252516=>{const _0x2487c8=_0x218a01;if(_0x252516[_0x2487c8(0x367)]()){const _0x475351=_0x252516['data']();globalDashboardSettings[_0x2487c8(0x75f)]=_0x475351['projectSort']||_0x2487c8(0x250),globalDashboardSettings['pinnedProjects']=_0x475351[_0x2487c8(0x277)]||[],globalDashboardSettings[_0x2487c8(0x334)]=_0x475351[_0x2487c8(0x334)]||[];}allProjects[_0x2487c8(0x757)]>0x0&&renderProjects();});const _0x491b88=collection(db,_0x218a01(0x632)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x491b88,_0x1e5471=>{const _0x260c3c=_0x218a01;allProjects=_0x1e5471[_0x260c3c(0x23c)][_0x260c3c(0x345)](_0x4ab3cb=>({'id':_0x4ab3cb['id'],..._0x4ab3cb['data']()})),renderProjects();},_0x42da45=>{const _0x298c23=_0x218a01;console[_0x298c23(0x4e5)](_0x298c23(0xce9),_0x42da45),showMessage(_0x298c23(0xcfa));});}function showColorPalette(_0x1c247c,_0x59783a){const _0x14c83f=_0x594c14;document[_0x14c83f(0x9c3)]('.color-palette-popup')[_0x14c83f(0x8be)](_0x3c2feb=>_0x3c2feb['remove']());const _0x530b7f=['#FFFFFF','#FEE2E2','#FEF3C7',_0x14c83f(0x3ad),'#DBEAFE','#E0E7FF',_0x14c83f(0x93a),_0x14c83f(0x2c0),_0x14c83f(0xa0d)],_0xc03ced=document[_0x14c83f(0x604)]('div');_0xc03ced[_0x14c83f(0x613)]=_0x14c83f(0x64e),_0x530b7f[_0x14c83f(0x8be)](_0xf6ac5b=>{const _0x55df68=_0x14c83f,_0x24b614=document[_0x55df68(0x604)](_0x55df68(0x2d6));_0x24b614[_0x55df68(0x613)]=_0x55df68(0x20f),_0x24b614['style'][_0x55df68(0x5c5)]=_0xf6ac5b,_0x24b614[_0x55df68(0x7a0)]('click',()=>{const _0xad45b7=_0x55df68;handleProjectColorChange(_0x59783a,_0xf6ac5b),_0xc03ced[_0xad45b7(0x373)]();}),_0xc03ced[_0x55df68(0x745)](_0x24b614);}),document['body'][_0x14c83f(0x745)](_0xc03ced);const _0x1b9c7a=_0x1c247c['getBoundingClientRect']();_0xc03ced[_0x14c83f(0x62a)]['top']=_0x1b9c7a[_0x14c83f(0x59f)]+window[_0x14c83f(0x8d6)]+'px',_0xc03ced['style'][_0x14c83f(0xacd)]=_0x1b9c7a['left']+window[_0x14c83f(0x4ba)]-_0xc03ced[_0x14c83f(0x495)]/0x2+'px';}async function handleProjectColorChange(_0x1522d3,_0x412d27){const _0x57410b=_0x594c14,_0xad8c8b=doc(db,'artifacts/'+appId+_0x57410b(0x29a),_0x1522d3);try{await updateDoc(_0xad8c8b,{'color':_0x412d27});}catch(_0x1bcd7c){console[_0x57410b(0x4e5)](_0x57410b(0xd10),_0x1bcd7c),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x38cce6=_0x594c14,_0x3e315f=globalDashboardSettings[_0x38cce6(0x75f)]||_0x38cce6(0x250),_0x23e9eb=new Set(globalDashboardSettings[_0x38cce6(0x277)]||[]),_0x296baa=globalDashboardSettings['projectView']||_0x38cce6(0xa56),_0xeab317=document[_0x38cce6(0x68c)](_0x38cce6(0xd0d)),_0x1a4bb3=document['getElementById'](_0x38cce6(0x28d));_0xeab317[_0x38cce6(0x936)][_0x38cce6(0x34a)]('active',_0x296baa==='grid'),_0x1a4bb3[_0x38cce6(0x936)]['toggle'](_0x38cce6(0x323),_0x296baa==='list'),document['getElementById'](_0x38cce6(0xa30))['value']=_0x3e315f;const _0x2b368c=document[_0x38cce6(0x68c)]('project-search-input')['value'][_0x38cce6(0x986)]();let _0x103d8e=allProjects['filter'](_0x10f428=>_0x10f428[_0x38cce6(0xbc1)]['toLowerCase']()['includes'](_0x2b368c));const _0x25e3cd=_0x103d8e[_0x38cce6(0x298)](_0x428e03=>_0x23e9eb[_0x38cce6(0x87a)](_0x428e03['id'])),_0x7e5d40=_0x103d8e['filter'](_0x1ba1d6=>!_0x23e9eb['has'](_0x1ba1d6['id'])),_0x260dc3=(_0x49e8b4,_0x1795d0)=>{const _0x689023=_0x38cce6;switch(_0x3e315f){case _0x689023(0x802):return _0x49e8b4[_0x689023(0xbc1)][_0x689023(0x480)](_0x1795d0[_0x689023(0xbc1)],'th');case'name_desc':return _0x1795d0[_0x689023(0xbc1)][_0x689023(0x480)](_0x49e8b4[_0x689023(0xbc1)],'th');case _0x689023(0xa2a):return new Date(_0x49e8b4[_0x689023(0x24f)])-new Date(_0x1795d0[_0x689023(0x24f)]);default:return new Date(_0x1795d0[_0x689023(0x24f)])-new Date(_0x49e8b4[_0x689023(0x24f)]);}};_0x25e3cd[_0x38cce6(0x387)](_0x260dc3),_0x7e5d40[_0x38cce6(0x387)](_0x260dc3);const _0x201732=[..._0x25e3cd,..._0x7e5d40],_0x5e6d53=globalDashboardSettings[_0x38cce6(0x334)]||[];_0x5e6d53[_0x38cce6(0x757)]>0x0&&_0x296baa==='grid'&&_0x201732[_0x38cce6(0x387)]((_0x26906c,_0x428fb9)=>{const _0x383472=_0x38cce6,_0x5351ce=_0x5e6d53[_0x383472(0xbb1)](_0x26906c['id']),_0x2a8047=_0x5e6d53[_0x383472(0xbb1)](_0x428fb9['id']);if(_0x5351ce===-0x1)return 0x1;if(_0x2a8047===-0x1)return-0x1;return _0x5351ce-_0x2a8047;});const _0x1facbe={};await Promise[_0x38cce6(0xd2b)](_0x201732[_0x38cce6(0x345)](async _0x2ac475=>{const _0x30848d=_0x38cce6,_0x52a27b=query(collection(db,_0x30848d(0x632)+appId+_0x30848d(0x21f)),where(_0x30848d(0x618),'==',_0x2ac475['id'])),_0x817635=await getDocs(_0x52a27b);_0x1facbe[_0x2ac475['id']]=_0x817635[_0x30848d(0x6bb)];}));const _0xc07b29=document[_0x38cce6(0x68c)]('project-list');let _0xe7fb20='';if(_0x296baa===_0x38cce6(0xa56)){_0xc07b29['className']=_0x38cce6(0xbaa);if(starredQuizzes['length']>0x0&&_0x2b368c===''){const _0x1c4e46=starredQuizzes['map'](_0x60838c=>{const _0x3da05b=_0x38cce6,_0xf40292=allProjects[_0x3da05b(0xad3)](_0x3007cc=>_0x3007cc['id']===_0x60838c[_0x3da05b(0x618)]);return{..._0x60838c,'projectName':_0xf40292?_0xf40292[_0x3da05b(0xbc1)]:_0x3da05b(0xbe3)};});_0xe7fb20+=_0x38cce6(0x2a5)+_0x1c4e46[_0x38cce6(0x345)](_0x406225=>_0x38cce6(0x617)+_0x406225[_0x38cce6(0x72e)]+'\x22>'+_0x406225[_0x38cce6(0x72e)]+_0x38cce6(0xbc4)+_0x406225[_0x38cce6(0xbc1)]+_0x38cce6(0xb1c)+_0x406225[_0x38cce6(0xbc1)]+_0x38cce6(0xaff))[_0x38cce6(0x95f)]('')+_0x38cce6(0x2f3)+starredQuizzes['length']+_0x38cce6(0x2b5);}_0x201732[_0x38cce6(0x8be)](_0x2204cc=>{const _0x2e3f98=_0x38cce6,_0x217e23=_0x1facbe[_0x2204cc['id']]??0x0,_0x52bb0b=_0x23e9eb[_0x2e3f98(0x87a)](_0x2204cc['id']),_0xfb71dc=_0x2204cc[_0x2e3f98(0xa48)]||_0x2e3f98(0xb5f),_0x4817e3=parseInt(_0xfb71dc[_0x2e3f98(0x2c6)](0x1,0x3),0x10)*0.299+parseInt(_0xfb71dc[_0x2e3f98(0x2c6)](0x3,0x5),0x10)*0.587+parseInt(_0xfb71dc[_0x2e3f98(0x2c6)](0x5,0x7),0x10)*0.114<0xba,_0x30b556=_0x4817e3?_0x2e3f98(0xc29):_0x2e3f98(0x957),_0x3bfa91=_0x4817e3?_0x2e3f98(0x954):_0x2e3f98(0x3d4);_0xe7fb20+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x52bb0b?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x2e3f98(0x458))+_0x2e3f98(0xd06)+_0xfb71dc+_0x2e3f98(0x906)+_0x2204cc['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2204cc['id']+_0x2e3f98(0x8c0)+(_0x4817e3?_0x2e3f98(0x667):_0x2e3f98(0x76b))+_0x2e3f98(0xb58)+_0x2204cc['id']+_0x2e3f98(0x2d1)+(_0x4817e3?_0x2e3f98(0x667):_0x2e3f98(0x76b))+_0x2e3f98(0xbac)+(_0x52bb0b?_0x4817e3?_0x2e3f98(0x637):_0x2e3f98(0xc6d):'')+_0x2e3f98(0xa88)+_0x2204cc['id']+_0x2e3f98(0x709)+_0x30b556+_0x2e3f98(0x7ba)+_0x2204cc[_0x2e3f98(0xbc1)]+_0x2e3f98(0x99e)+_0x3bfa91+_0x2e3f98(0x252)+new Date(_0x2204cc[_0x2e3f98(0x24f)])[_0x2e3f98(0x3fb)](_0x2e3f98(0x475))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x4817e3?'text-gray-100':_0x2e3f98(0x31a))+_0x2e3f98(0x4e4)+_0x217e23+_0x2e3f98(0x342)+_0x2204cc['id']+_0x2e3f98(0x9c6)+_0x2204cc[_0x2e3f98(0xbc1)]+_0x2e3f98(0x619)+(_0x4817e3?_0x2e3f98(0x578):_0x2e3f98(0x9c2))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0xc07b29[_0x38cce6(0x613)]=_0x38cce6(0x564),starredQuizzes[_0x38cce6(0x757)]>0x0&&_0x2b368c===''&&(_0xe7fb20+=_0x38cce6(0xcd1)+starredQuizzes[_0x38cce6(0x757)]+_0x38cce6(0xce4)),_0xe7fb20+=_0x38cce6(0x32f),_0x201732[_0x38cce6(0x8be)](_0x2befd4=>{const _0x29d25d=_0x38cce6,_0x27c6d8=_0x1facbe[_0x2befd4['id']]??0x0,_0x30cfc3=_0x23e9eb[_0x29d25d(0x87a)](_0x2befd4['id']);_0xe7fb20+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x2befd4[_0x29d25d(0xa48)]||_0x29d25d(0xa0d))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x2befd4['id']+_0x29d25d(0xad7)+_0x2befd4['projectName']+_0x29d25d(0x97e)+_0x27c6d8+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x2befd4[_0x29d25d(0x24f)])[_0x29d25d(0x6db)](_0x29d25d(0x475))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2befd4['id']+_0x29d25d(0xa24)+(_0x30cfc3?_0x29d25d(0xc6d):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2befd4['id']+_0x29d25d(0x9c6)+_0x2befd4['projectName']+_0x29d25d(0xcd3);});projectList[_0x38cce6(0xa0c)]=_0xe7fb20,noProjectsMsg['classList'][_0x38cce6(0x34a)](_0x38cce6(0x1dc),_0xe7fb20[_0x38cce6(0x757)]>0x0);}document['getElementById'](_0x594c14(0xa94))[_0x594c14(0x7a0)]('click',async()=>{const _0x5b6ae9=_0x594c14,_0x47c123=document['getElementById'](_0x5b6ae9(0xbc7)),_0x34d9da=_0x47c123['value'][_0x5b6ae9(0x99c)]();if(!_0x34d9da){showMessage(_0x5b6ae9(0x8a3));return;}try{const _0x26e289=doc(collection(db,_0x5b6ae9(0x632)+appId+_0x5b6ae9(0x29a)));await setDoc(_0x26e289,{'projectName':_0x34d9da,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x5b6ae9(0xa9b),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x5b6ae9(0xa81)]()}),_0x47c123[_0x5b6ae9(0x9a1)]='',createProjectModal[_0x5b6ae9(0x936)][_0x5b6ae9(0x2de)](_0x5b6ae9(0x1dc)),showMessage(_0x5b6ae9(0xb66));}catch(_0x2e840c){console[_0x5b6ae9(0x4e5)](_0x5b6ae9(0x4cf),_0x2e840c),showMessage(_0x5b6ae9(0x6fb));}}),projectList['addEventListener'](_0x594c14(0xc83),async _0x4ccb10=>{const _0x5b99a8=_0x594c14,_0x4f3744=_0x4ccb10['target'][_0x5b99a8(0x50f)](_0x5b99a8(0xcc5)),_0x1d41b2=_0x4ccb10['target'][_0x5b99a8(0x50f)](_0x5b99a8(0xaea)),_0x9097a=_0x4ccb10[_0x5b99a8(0x221)][_0x5b99a8(0x50f)](_0x5b99a8(0xac3)),_0x56052d=_0x4ccb10[_0x5b99a8(0x221)][_0x5b99a8(0x50f)](_0x5b99a8(0xcbd));if(_0x9097a){const _0x6b398d=_0x9097a[_0x5b99a8(0x7f1)]['id'],_0x2eb79f=doc(db,_0x5b99a8(0xbb0),_0x5b99a8(0x4bd)),_0x44f687=globalDashboardSettings[_0x5b99a8(0x277)];let _0x3a77d5;_0x44f687[_0x5b99a8(0x92b)](_0x6b398d)?_0x3a77d5=_0x44f687['filter'](_0x2650fb=>_0x2650fb!==_0x6b398d):_0x3a77d5=[..._0x44f687,_0x6b398d];try{await setDoc(_0x2eb79f,{'pinnedProjects':_0x3a77d5},{'merge':!![]});}catch(_0x308ae4){console[_0x5b99a8(0x4e5)]('Error\x20updating\x20pin\x20status:',_0x308ae4),showMessage(_0x5b99a8(0x446));}}else{if(_0x56052d){const _0x8e918f=_0x56052d[_0x5b99a8(0x7f1)]['id'];showColorPalette(_0x56052d,_0x8e918f);}else{if(_0x4f3744){const _0x17102f=_0x4f3744['dataset']['id'];_0x17102f===_0x5b99a8(0x36f)?showStarredProjectView():(currentProjectId=_0x17102f,await loadProjectDetails(currentProjectId),showView(_0x5b99a8(0x6ab)));}else{if(_0x1d41b2){const _0x5dc956=_0x1d41b2[_0x5b99a8(0x7f1)]['id'],_0xfe64c5=_0x1d41b2[_0x5b99a8(0x7f1)][_0x5b99a8(0xb31)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0xfe64c5+_0x5b99a8(0x4b9),()=>handleDeleteProject(_0x5dc956));}}}}}),projectList[_0x594c14(0x7a0)](_0x594c14(0xc9e),_0x542849=>{const _0xdedd33=_0x594c14,_0x5c345f=_0x542849['target'][_0xdedd33(0x50f)](_0xdedd33(0x4f3));_0x5c345f&&_0x5c345f[_0xdedd33(0x936)][_0xdedd33(0x2de)]('opacity-50');}),projectList[_0x594c14(0x7a0)](_0x594c14(0x945),_0x47348d=>{const _0x17d539=_0x594c14,_0x45a143=_0x47348d[_0x17d539(0x221)]['closest'](_0x17d539(0x4f3));_0x45a143&&_0x45a143[_0x17d539(0x936)]['remove'](_0x17d539(0x32b));}),projectList[_0x594c14(0x7a0)](_0x594c14(0xba8),_0x2f4c90=>{const _0x19e083=_0x594c14;_0x2f4c90[_0x19e083(0xc55)]();const _0x51f37f=document[_0x19e083(0x817)](_0x19e083(0xca8));if(!_0x51f37f)return;const _0x4bbaf4=getDragAfterElement(projectList,_0x2f4c90[_0x19e083(0x766)]);_0x4bbaf4==null?projectList[_0x19e083(0x745)](_0x51f37f):projectList[_0x19e083(0x509)](_0x51f37f,_0x4bbaf4);}),projectList[_0x594c14(0x7a0)](_0x594c14(0x2ff),_0x14b4fa=>{const _0x3fac9c=_0x594c14;_0x14b4fa[_0x3fac9c(0xc55)]();const _0x4c9e18=[...projectList['querySelectorAll'](_0x3fac9c(0xd03))]['map'](_0x285593=>_0x285593[_0x3fac9c(0x7f1)]['id']);saveProjectOrder(_0x4c9e18);});function renderBehaviorLog(_0x249637){const _0x58d5b5=_0x594c14,_0x5c20e4=document['getElementById'](_0x58d5b5(0x6c6));if(!_0x5c20e4)return;const _0x4241f4=_0x249637[_0x58d5b5(0x298)](_0x30b9aa=>_0x30b9aa[_0x58d5b5(0x908)]&&_0x30b9aa[_0x58d5b5(0x908)]['length']>0x0);if(_0x4241f4[_0x58d5b5(0x757)]===0x0){_0x5c20e4[_0x58d5b5(0xa0c)]=_0x58d5b5(0xc5d);return;}let _0x5a1a10='';_0x4241f4[_0x58d5b5(0x8be)](_0x1ac34a=>{const _0x37c687=_0x58d5b5;_0x5a1a10+=_0x37c687(0x496)+_0x1ac34a[_0x37c687(0xc53)]+_0x37c687(0x66f),_0x1ac34a[_0x37c687(0x908)]['sort']((_0xc27b6f,_0x2c2039)=>new Date(_0x2c2039[_0x37c687(0x646)])-new Date(_0xc27b6f[_0x37c687(0x646)]))['forEach'](_0x2e17ab=>{const _0xa2989a=_0x37c687,_0x465b4e=new Date(_0x2e17ab[_0xa2989a(0x646)])[_0xa2989a(0x6db)](_0xa2989a(0x475),{'dateStyle':_0xa2989a(0x438),'timeStyle':_0xa2989a(0xa38)});_0x5a1a10+=_0xa2989a(0x835)+_0x2e17ab[_0xa2989a(0xca9)]+_0xa2989a(0x471)+_0x465b4e+_0xa2989a(0x82b);}),_0x5a1a10+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5c20e4[_0x58d5b5(0xa0c)]=_0x5a1a10;}function getDragAfterElement(_0xc7bfa7,_0x874d63){const _0x2a7a5a=_0x594c14,_0xabdde0=[..._0xc7bfa7[_0x2a7a5a(0x9c3)](_0x2a7a5a(0x2ea))];return _0xabdde0[_0x2a7a5a(0x658)]((_0x386a85,_0x2edfa4)=>{const _0x45bd13=_0x2a7a5a,_0x4e1464=_0x2edfa4[_0x45bd13(0x754)](),_0x1a2408=_0x874d63-_0x4e1464['top']-_0x4e1464[_0x45bd13(0x33a)]/0x2;return _0x1a2408<0x0&&_0x1a2408>_0x386a85[_0x45bd13(0x516)]?{'offset':_0x1a2408,'element':_0x2edfa4}:_0x386a85;},{'offset':Number[_0x2a7a5a(0x5ad)]})[_0x2a7a5a(0x924)];}async function saveProjectOrder(_0x243d68){const _0x11b861=_0x594c14,_0x1c4d67=doc(db,_0x11b861(0xbb0),_0x11b861(0x4bd));try{await setDoc(_0x1c4d67,{'projectOrder':_0x243d68},{'merge':!![]});}catch(_0x344e54){console[_0x11b861(0x4e5)]('Error\x20saving\x20project\x20order:',_0x344e54),showMessage(_0x11b861(0xb8e));}}async function logBehaviorEvent(_0x2468a0,_0xc3ffa7={}){const _0x554304=_0x594c14;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x554304(0x862)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x5caf95=doc(db,_0x554304(0x632)+appId+_0x554304(0x6e7)+currentQuizData['id']+_0x554304(0x21e),currentStudentName),_0xc1c0f3={'event':_0x2468a0,'timestamp':new Date()[_0x554304(0xa81)](),..._0xc3ffa7};try{await updateDoc(_0x5caf95,{'behaviorLog':arrayUnion(_0xc1c0f3)}),console[_0x554304(0x3e0)]('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x554304(0x814));}catch(_0xb555f8){_0xb555f8[_0x554304(0xcf3)]===_0x554304(0x723)?console[_0x554304(0x862)](_0x554304(0xb3e)+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0x554304(0x4e5)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0xb555f8);}}function calculateMeanAndStdDev(_0x27ee68){const _0x2d9379=_0x594c14;if(_0x27ee68['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x18b919=_0x27ee68['reduce']((_0x171826,_0x3ba030)=>_0x171826+_0x3ba030,0x0)/_0x27ee68[_0x2d9379(0x757)];if(_0x27ee68[_0x2d9379(0x757)]===0x1)return{'mean':_0x18b919,'stdDev':0x0};const _0x1bd8d4=Math['sqrt'](_0x27ee68[_0x2d9379(0x345)](_0x53e166=>Math[_0x2d9379(0x9bd)](_0x53e166-_0x18b919,0x2))[_0x2d9379(0x658)]((_0x334c59,_0x12d8e8)=>_0x334c59+_0x12d8e8,0x0)/(_0x27ee68[_0x2d9379(0x757)]-0x1));return{'mean':_0x18b919,'stdDev':_0x1bd8d4};}function calculateZScore(_0x31abc6,_0x37fde1,_0x5eaa92){if(_0x5eaa92===0x0)return 0x0;return(_0x31abc6-_0x37fde1)/_0x5eaa92;}function calculateTScore(_0x2c0590){return 0xa*_0x2c0590+0x32;}function showStarredProjectView(){const _0x290ca6=_0x594c14;currentProjectId=_0x290ca6(0x82f),currentProjectData=null,projectTitle[_0x290ca6(0xb4b)]=_0x290ca6(0x1e2),projectIdDisplay[_0x290ca6(0xb4b)]=_0x290ca6(0x53e),showView('project-detail'),manageTab[_0x290ca6(0x936)]['add'](_0x290ca6(0x1dc)),leaderboardTab[_0x290ca6(0x936)][_0x290ca6(0x2de)](_0x290ca6(0x1dc)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x573438){const _0x4de5b9=_0x594c14,_0x24d0e2=doc(db,'artifacts/'+appId+_0x4de5b9(0x29a),_0x573438),_0x133bfe=await getDoc(_0x24d0e2);if(_0x133bfe[_0x4de5b9(0x367)]()){manageTab[_0x4de5b9(0x936)][_0x4de5b9(0x373)]('hidden'),leaderboardTab[_0x4de5b9(0x936)][_0x4de5b9(0x373)]('hidden'),currentProjectData=_0x133bfe[_0x4de5b9(0x21d)](),projectTitle[_0x4de5b9(0xb4b)]=currentProjectData[_0x4de5b9(0xbc1)],projectIdDisplay[_0x4de5b9(0xb4b)]=_0x573438;const _0x35220d=currentProjectData['settings']||{};document[_0x4de5b9(0x68c)](_0x4de5b9(0x43d))[_0x4de5b9(0x9a1)]=_0x35220d['shuffleSetting']||_0x4de5b9(0xa9b);const _0x2bf20d=document['getElementById'](_0x4de5b9(0x59d));_0x2bf20d[_0x4de5b9(0x9cb)]=_0x35220d['showInStudentDashboard']!==![];const _0x23644c=document[_0x4de5b9(0x68c)](_0x4de5b9(0x577)),_0x39ec64=document['getElementById'](_0x4de5b9(0x324)),_0x1eb318=document[_0x4de5b9(0x68c)]('project-passcode-input'),_0x3799ee=_0x35220d[_0x4de5b9(0x2d5)]||![];_0x23644c[_0x4de5b9(0x9cb)]=_0x3799ee,_0x1eb318[_0x4de5b9(0x9a1)]=_0x35220d[_0x4de5b9(0x6a4)]||'',_0x39ec64['classList'][_0x4de5b9(0x34a)](_0x4de5b9(0x1dc),!_0x3799ee),_0x23644c[_0x4de5b9(0x90f)]=()=>{const _0x19e09f=_0x4de5b9;_0x39ec64[_0x19e09f(0x936)]['toggle'](_0x19e09f(0x1dc),!_0x23644c[_0x19e09f(0x9cb)]);},document[_0x4de5b9(0x68c)](_0x4de5b9(0x216))[_0x4de5b9(0x9cb)]=_0x35220d[_0x4de5b9(0x9bb)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x573438),listenForProjectQuizzes(_0x573438),listenForStudentProfiles(_0x573438);}else showMessage('ไม่พบโปรเจค'),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x4a73b9=_0x594c14,_0x5a46bc=doc(db,_0x4a73b9(0xbb0),_0x4a73b9(0x4bd));try{await setDoc(_0x5a46bc,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x4a73b9(0xac0));}catch(_0x11380d){console[_0x4a73b9(0x4e5)](_0x4a73b9(0x9a9),_0x11380d),showMessage(_0x4a73b9(0x4a9));}}async function handleTogglePinProject(_0x3f868f){const _0xf5c8b3=_0x594c14;if(!_0x3f868f)return;const _0x5cb65a=doc(db,_0xf5c8b3(0x632)+appId+_0xf5c8b3(0x29a),_0x3f868f);try{const _0x5bad56=await getDoc(_0x5cb65a);if(_0x5bad56[_0xf5c8b3(0x367)]()){const _0x2a16f6=_0x5bad56[_0xf5c8b3(0x21d)]()[_0xf5c8b3(0x937)]||![];await updateDoc(_0x5cb65a,{'isPinned':!_0x2a16f6});}}catch(_0x41ef82){console['error']('Error\x20toggling\x20pin\x20status:',_0x41ef82),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x1374fa){const _0x3eeba6=_0x594c14;try{const _0x4e460f=writeBatch(db),_0xf7c4c7=collection(db,_0x3eeba6(0x632)+appId+_0x3eeba6(0x21f)),_0x33f79e=query(_0xf7c4c7,where(_0x3eeba6(0x618),'==',_0x1374fa)),_0x52a6dc=await getDocs(_0x33f79e);for(const _0x4958df of _0x52a6dc[_0x3eeba6(0x23c)]){const _0x2310bc=collection(db,_0x3eeba6(0x632)+appId+_0x3eeba6(0x6e7)+_0x4958df['id']+_0x3eeba6(0x21e)),_0x55b8db=await getDocs(_0x2310bc);_0x55b8db[_0x3eeba6(0x8be)](_0x3e6411=>{const _0x447683=_0x3eeba6;_0x4e460f[_0x447683(0x3de)](_0x3e6411[_0x447683(0x61f)]);}),_0x4e460f[_0x3eeba6(0x3de)](_0x4958df[_0x3eeba6(0x61f)]);}const _0x5d1cc2=collection(db,_0x3eeba6(0x632)+appId+_0x3eeba6(0x3ec)+_0x1374fa+_0x3eeba6(0x596)),_0x3fe5e5=await getDocs(_0x5d1cc2);_0x3fe5e5[_0x3eeba6(0x8be)](_0x3a1884=>{const _0x37c65b=_0x3eeba6;_0x4e460f[_0x37c65b(0x3de)](_0x3a1884[_0x37c65b(0x61f)]);});const _0x5258ed=doc(db,'artifacts/'+appId+'/public/data/projects',_0x1374fa);_0x4e460f[_0x3eeba6(0x3de)](_0x5258ed),await _0x4e460f['commit'](),showMessage(_0x3eeba6(0x360)),showView('admin-dashboard');}catch(_0x421873){console['error']('Error\x20deleting\x20project:',_0x421873),showMessage(_0x3eeba6(0x97f));}}document['getElementById'](_0x594c14(0x643))[_0x594c14(0x7a0)](_0x594c14(0xc83),async()=>{const _0x13a971=_0x594c14;if(!currentProjectId)return;const _0x2a6e98={'defaultNumQuestions':parseInt(document[_0x13a971(0x68c)]('num-questions')['value']),'defaultNumChoices':parseInt(document[_0x13a971(0x68c)](_0x13a971(0x60e))[_0x13a971(0x9a1)]),'defaultPassingScore':parseInt(document['getElementById'](_0x13a971(0x66c))[_0x13a971(0x9a1)]),'resultsDisplay':document[_0x13a971(0x68c)](_0x13a971(0x775))['value'],'shuffleSetting':document[_0x13a971(0x68c)]('shuffle-setting-select')[_0x13a971(0x9a1)],'timerMode':document[_0x13a971(0x68c)]('timer-mode-select')[_0x13a971(0x9a1)],'timerDuration':parseInt(document[_0x13a971(0x68c)](_0x13a971(0xc0e))[_0x13a971(0x9a1)]),'isConfidenceScoringEnabled':document[_0x13a971(0x68c)](_0x13a971(0x216))[_0x13a971(0x9cb)],'confidenceMode':document[_0x13a971(0x68c)]('confidence-mode-select')[_0x13a971(0x9a1)]};try{const _0x22d668=doc(db,_0x13a971(0x632)+appId+_0x13a971(0x29a),currentProjectId);await updateDoc(_0x22d668,{'settings':_0x2a6e98}),showMessage(_0x13a971(0xb4d));}catch(_0x52756c){console[_0x13a971(0x4e5)](_0x13a971(0x845),_0x52756c),showMessage(_0x13a971(0xcfe));}});function listenForStudents(_0x3fc824){const _0x348f65=_0x594c14,_0x4bf73f=doc(db,_0x348f65(0x632)+appId+_0x348f65(0x29a),_0x3fc824);unsubscribeStudentsListener=onSnapshot(_0x4bf73f,_0x462785=>{const _0x569905=_0x348f65;if(_0x462785[_0x569905(0x367)]()){const _0x189484=_0x462785[_0x569905(0x21d)]();currentProjectData=_0x189484,renderStudentList(_0x189484['students']||[]);}});}function renderStudentList(_0x1974e2){const _0x38b9f6=_0x594c14,_0x28f71d=document[_0x38b9f6(0x68c)](_0x38b9f6(0xb21));_0x1974e2[_0x38b9f6(0x757)]===0x0?(studentList[_0x38b9f6(0xa0c)]=_0x38b9f6(0x5ee),_0x28f71d[_0x38b9f6(0x936)][_0x38b9f6(0x2de)](_0x38b9f6(0x1dc))):(studentList[_0x38b9f6(0xa0c)]=_0x1974e2[_0x38b9f6(0x345)](_0x3e7e88=>_0x38b9f6(0x407)+_0x3e7e88+_0x38b9f6(0xacf)+_0x3e7e88+_0x38b9f6(0x897))[_0x38b9f6(0x95f)](''),_0x28f71d[_0x38b9f6(0x936)][_0x38b9f6(0x373)](_0x38b9f6(0x1dc)));}document['getElementById']('add-student-btn')[_0x594c14(0x7a0)]('click',async()=>{const _0x42f6da=_0x594c14;if(!currentProjectId)return;const _0x2d9ae3=document[_0x42f6da(0x68c)](_0x42f6da(0x3af)),_0x3b6fc3=_0x2d9ae3[_0x42f6da(0x9a1)]['trim']();if(!_0x3b6fc3){showMessage(_0x42f6da(0xa44));return;}const _0x134cde=_0x3b6fc3['split']('\x0a')[_0x42f6da(0x345)](_0x11a06b=>_0x11a06b['trim']())['filter'](_0x301ca9=>_0x301ca9);if(_0x134cde['length']===0x0)return;try{const _0x44cff3=doc(db,'artifacts/'+appId+_0x42f6da(0x29a),currentProjectId),_0x30ab1b=await getDoc(_0x44cff3);if(_0x30ab1b['exists']()){const _0x3f2ec6=_0x30ab1b['data']()['students']||[],_0x55ad30=[...new Set([..._0x3f2ec6,..._0x134cde])];await updateDoc(_0x44cff3,{'students':_0x55ad30}),_0x2d9ae3[_0x42f6da(0x9a1)]='';}}catch(_0x2f8418){console['error'](_0x42f6da(0x262),_0x2f8418),showMessage(_0x42f6da(0xc2c));}});async function handleManualQuizPairing(_0x23e853){const _0x3d8e89=_0x594c14,_0x529ac4=document['getElementById'](_0x3d8e89(0x1f0)),_0x40eb22=document[_0x3d8e89(0x68c)](_0x3d8e89(0x903)),_0x2f6806=_0x529ac4[_0x3d8e89(0x817)]('h3'),_0x19c335=document[_0x3d8e89(0x68c)](_0x3d8e89(0xcb0)),_0xdae18e=document[_0x3d8e89(0x68c)](_0x3d8e89(0x9f7));_0x2f6806[_0x3d8e89(0xb4b)]='จับคู่เพื่อเปรียบเทียบผล',_0x40eb22[_0x3d8e89(0xa0c)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x19c335[_0x3d8e89(0xb4b)]='ยืนยันการจับคู่',_0x529ac4[_0x3d8e89(0x936)][_0x3d8e89(0x373)](_0x3d8e89(0x1dc));const _0x3dc3d6=allQuizzes[_0x3d8e89(0x298)](_0x3081fd=>_0x3081fd['id']!==_0x23e853);_0x3dc3d6['length']===0x0?(_0x40eb22[_0x3d8e89(0xa0c)]=_0x3d8e89(0xb2d),_0x19c335['disabled']=!![]):(_0x40eb22[_0x3d8e89(0xa0c)]=_0x3d8e89(0x29b)+_0x3dc3d6[_0x3d8e89(0x345)](_0x4cf3d5=>'<option\x20value=\x22'+_0x4cf3d5['id']+'\x22>'+_0x4cf3d5[_0x3d8e89(0x72e)]+_0x3d8e89(0x882))[_0x3d8e89(0x95f)](''),_0x19c335[_0x3d8e89(0x376)]=![]);const _0x1a33a3=async()=>{const _0x5d1a7b=_0x3d8e89,_0x590a76=_0x40eb22[_0x5d1a7b(0x9a1)];if(!_0x590a76){showMessage(_0x5d1a7b(0x7f7));return;}_0x19c335['disabled']=!![],_0x19c335[_0x5d1a7b(0xb4b)]=_0x5d1a7b(0x23d);try{const _0x2b91c3=doc(db,_0x5d1a7b(0x632)+appId+_0x5d1a7b(0x21f),_0x23e853),_0x4fe025=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x590a76),_0x593db5=writeBatch(db);_0x593db5[_0x5d1a7b(0x195)](_0x2b91c3,{'pairedQuizId':_0x590a76}),_0x593db5[_0x5d1a7b(0x195)](_0x4fe025,{'pairedQuizId':_0x23e853}),await _0x593db5[_0x5d1a7b(0x555)](),showMessage(_0x5d1a7b(0x900)),_0x529ac4[_0x5d1a7b(0x936)]['add'](_0x5d1a7b(0x1dc));}catch(_0x332e9e){console[_0x5d1a7b(0x4e5)](_0x5d1a7b(0xb57),_0x332e9e),showMessage(_0x5d1a7b(0x319));}finally{_0x2f6806[_0x5d1a7b(0xb4b)]=_0x5d1a7b(0x75c),_0x19c335[_0x5d1a7b(0xb4b)]=_0x5d1a7b(0x2fe),_0x19c335[_0x5d1a7b(0x376)]=![],_0x19c335[_0x5d1a7b(0xbb8)]('click',_0x1a33a3),_0xdae18e[_0x5d1a7b(0xbb8)]('click',_0x420086);}},_0x420086=()=>{const _0x57a343=_0x3d8e89;_0x529ac4['classList']['add'](_0x57a343(0x1dc)),_0x2f6806['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x19c335[_0x57a343(0xb4b)]='ย้าย',_0x19c335['removeEventListener'](_0x57a343(0xc83),_0x1a33a3),_0xdae18e['removeEventListener']('click',_0x420086);};_0x19c335[_0x3d8e89(0x7a0)](_0x3d8e89(0xc83),_0x1a33a3),_0xdae18e['addEventListener'](_0x3d8e89(0xc83),_0x420086);}function handleDeleteStudent(_0x1e9b7c){const _0x2270ad=_0x594c14;showConfirmation(_0x2270ad(0xb6e)+_0x1e9b7c+_0x2270ad(0x805),async()=>{const _0xc2385=_0x2270ad;if(!currentProjectId||!currentProjectData)return;const _0x3985b5=currentProjectData[_0xc2385(0xc9a)][_0xc2385(0x298)](_0x36aa93=>_0x36aa93!==_0x1e9b7c);try{const _0x34ac7b=doc(db,'artifacts/'+appId+_0xc2385(0x29a),currentProjectId),_0x45c701=doc(db,_0xc2385(0x632)+appId+_0xc2385(0x3ec)+currentProjectId+'/studentProfiles',_0x1e9b7c),_0x1cca05=writeBatch(db);_0x1cca05[_0xc2385(0x195)](_0x34ac7b,{'students':_0x3985b5}),_0x1cca05['delete'](_0x45c701),await _0x1cca05[_0xc2385(0x555)]();}catch(_0x49d3c7){console['error']('Error\x20deleting\x20student:',_0x49d3c7),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x34d85b=_0x27d0;if(!currentProjectId)return;try{const _0x4a4fe6=doc(db,_0x34d85b(0x632)+appId+'/public/data/projects',currentProjectId),_0x4f6720=collection(db,'artifacts/'+appId+_0x34d85b(0x3ec)+currentProjectId+_0x34d85b(0x596)),_0x181e03=await getDocs(_0x4f6720),_0x448fa2=writeBatch(db);_0x448fa2[_0x34d85b(0x195)](_0x4a4fe6,{'students':[]}),_0x181e03[_0x34d85b(0x8be)](_0x23bd98=>_0x448fa2['delete'](_0x23bd98['ref'])),await _0x448fa2[_0x34d85b(0x555)]();}catch(_0x1e54ed){console[_0x34d85b(0x4e5)](_0x34d85b(0x426),_0x1e54ed),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x11b947){const _0x290409=_0x594c14,_0x4d421d=document[_0x290409(0x68c)](_0x290409(0x8fc)),_0x634482=document[_0x290409(0x68c)](_0x290409(0x5ea));_0x4d421d[_0x290409(0x936)]['remove'](_0x290409(0x1dc)),_0x634482['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>';try{const _0x5388ee=new FileReader();_0x5388ee[_0x290409(0xb25)](_0x11b947),await new Promise((_0x2bd277,_0x374016)=>{const _0x5864a7=_0x290409;_0x5388ee['onload']=()=>{const _0x2d56c9=_0x27d0;fileDataBase64=_0x5388ee[_0x2d56c9(0x38f)][_0x2d56c9(0x1c1)](',')[0x1],fileMimeType=_0x11b947[_0x2d56c9(0x7f4)],_0x2bd277();},_0x5388ee[_0x5864a7(0xb91)]=_0x49201b=>_0x374016(_0x49201b);});if(!fileDataBase64)throw new Error('ไม่สามารถอ่านข้อมูลจากไฟล์ได้');const _0x21a26c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4f521f={'type':_0x290409(0x192),'properties':{'topics':{'type':_0x290409(0xc77),'items':{'type':_0x290409(0x4f0)}}},'required':[_0x290409(0x548)]},_0x1a2b06=[{'text':_0x21a26c},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x4b02e5=await handleApiCall(_0x1a2b06,'กำลังวิเคราะห์หัวข้อ...',_0x4f521f,null,![]);if(_0x4b02e5&&_0x4b02e5[_0x290409(0x548)])extractedFileTopics=_0x4b02e5[_0x290409(0x548)],renderFileTopics();else throw new Error(_0x290409(0x2ad));}catch(_0x35f8ec){console[_0x290409(0x4e5)](_0x290409(0xc7d),_0x35f8ec),_0x634482[_0x290409(0xa0c)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20'+_0x35f8ec[_0x290409(0x5f3)]+'</p>';}}function renderFileTopics(){const _0x15032b=_0x594c14,_0x2bd2b1=document['getElementById'](_0x15032b(0x5ea));if(extractedFileTopics[_0x15032b(0x757)]===0x0){_0x2bd2b1[_0x15032b(0xa0c)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>';return;}_0x2bd2b1[_0x15032b(0xa0c)]=extractedFileTopics[_0x15032b(0x345)](_0x3edcb4=>_0x15032b(0x7db)+_0x3edcb4+_0x15032b(0x46b)+escape(_0x3edcb4)+_0x15032b(0x3a8)+escape(_0x3edcb4)+_0x15032b(0xbbe))[_0x15032b(0x95f)]('');}async function generateHybridQuizForTopic(_0x5b1976){const _0x2e1c12=_0x594c14,_0x21eecb=parseInt(document['getElementById']('num-questions')['value'],0xa),_0x4c341f=document['getElementById'](_0x2e1c12(0x255))['value'],_0x57a04a=document[_0x2e1c12(0x68c)]('num-choices')[_0x2e1c12(0x9a1)],_0xf227ec=document['getElementById'](_0x2e1c12(0x6be))[_0x2e1c12(0x9cb)],_0x1f04c1=_0xf227ec?_0x2e1c12(0xa83):_0x2e1c12(0x56a);let _0x15daf9='',_0x4e7db8;const _0x21ea2b={'type':'OBJECT','properties':{'questionText':{'type':_0x2e1c12(0x4f0)},'options':{'type':_0x2e1c12(0xc77),'items':{'type':_0x2e1c12(0x4f0)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x2e1c12(0x4f0)},'imageCode':{'type':_0x2e1c12(0x4f0)}},'required':[_0x2e1c12(0x77a),_0x2e1c12(0x9ac),_0x2e1c12(0x671),_0x2e1c12(0x9fc)]},_0x3b53b9={'type':_0x2e1c12(0x192),'properties':{'questionText':{'type':_0x2e1c12(0x4f0)},'correctAnswer':{'type':_0x2e1c12(0xc5f)},'explanation':{'type':_0x2e1c12(0x4f0)},'imageCode':{'type':_0x2e1c12(0x4f0)}},'required':[_0x2e1c12(0x77a),_0x2e1c12(0xbfb),_0x2e1c12(0x9fc)]},_0x15a394={'type':'OBJECT','properties':{'questionText':{'type':_0x2e1c12(0x4f0)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2e1c12(0x4f0)},'imageCode':{'type':_0x2e1c12(0x4f0)}},'required':[_0x2e1c12(0x77a),_0x2e1c12(0x27b),_0x2e1c12(0x9fc)]},_0x3aab99={'type':_0x2e1c12(0x192),'properties':{'questionType':{'type':_0x2e1c12(0x4f0),'enum':['matching_item']},'stem':{'type':_0x2e1c12(0x4f0)},'correctResponse':{'type':_0x2e1c12(0x4f0)},'allResponses':{'type':_0x2e1c12(0xc77),'items':{'type':_0x2e1c12(0x4f0)}},'explanation':{'type':_0x2e1c12(0x4f0)},'imageCode':{'type':_0x2e1c12(0x4f0)}},'required':[_0x2e1c12(0x7cd),_0x2e1c12(0x346),_0x2e1c12(0x3ce),_0x2e1c12(0xcf5),_0x2e1c12(0x9fc)]};switch(_0x4c341f){case _0x2e1c12(0x69d):_0x15daf9='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x57a04a+_0x2e1c12(0x967),_0x4e7db8=_0x21ea2b;break;case _0x2e1c12(0x8b0):_0x15daf9=_0x2e1c12(0x492),_0x4e7db8=_0x3b53b9;break;case _0x2e1c12(0xcb5):_0x15daf9=_0x2e1c12(0xaa4),_0x4e7db8=_0x15a394;break;case _0x2e1c12(0x964):_0x15daf9=_0x2e1c12(0x2f5),_0x4e7db8=_0x3aab99;break;case'fill_in_with_choices':_0x15daf9='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20'+_0x57a04a+_0x2e1c12(0x967),_0x4e7db8=_0x21ea2b;break;default:_0x15daf9='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x57a04a+_0x2e1c12(0x967),_0x4e7db8=_0x21ea2b;break;}const _0x459569=_0x2e1c12(0x41e),_0xf4c3d5=document[_0x2e1c12(0x68c)](_0x2e1c12(0xcbf)),_0x31c6db=document[_0x2e1c12(0x68c)](_0x2e1c12(0x84a)),_0x16adba=document[_0x2e1c12(0x68c)](_0x2e1c12(0x84b));document[_0x2e1c12(0x68c)](_0x2e1c12(0x575))[_0x2e1c12(0x936)][_0x2e1c12(0x373)](_0x2e1c12(0x1dc)),_0x16adba['innerHTML']='',_0xf4c3d5['classList'][_0x2e1c12(0x373)]('hidden'),_0x31c6db[_0x2e1c12(0xb4b)]=_0x2e1c12(0x1b7)+_0x5b1976+'\x22\x20จำนวน\x20'+_0x21eecb+_0x2e1c12(0x895);try{const _0x2d106d=_0x2e1c12(0x4fd),_0x572095=_0x2e1c12(0x744)+_0x5b1976+_0x2e1c12(0x84e)+_0x21eecb+_0x2e1c12(0x25a)+_0x5b1976+_0x2e1c12(0x204)+_0x21eecb+_0x2e1c12(0xc00)+_0x1f04c1+_0x2e1c12(0x504)+_0x15daf9+_0x2e1c12(0x18b)+_0x459569+_0x2e1c12(0x1d8)+_0x2d106d+_0x2e1c12(0x69f)+simpleMathPrompt+_0x2e1c12(0x570),_0x3f6fab={'type':'OBJECT','properties':{'topic':{'type':_0x2e1c12(0x4f0)},'questions':{'type':_0x2e1c12(0xc77),'items':_0x4e7db8}},'required':[_0x2e1c12(0x72e),_0x2e1c12(0x72b)]},_0x5326ed=[{'text':_0x572095},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x5326ed,_0x2e1c12(0xb54)+_0x5b1976+_0x2e1c12(0x545),_0x3f6fab);}catch(_0x4ef048){console[_0x2e1c12(0x4e5)](_0x2e1c12(0x984),_0x4ef048),showMessage(_0x2e1c12(0x3ea)+_0x4ef048[_0x2e1c12(0x5f3)]),_0x16adba[_0x2e1c12(0xa0c)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>';}finally{_0xf4c3d5['classList']['add'](_0x2e1c12(0x1dc));}}async function handleGenerateFromFileClick(){const _0x4bc411=_0x594c14;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x5b41fd=document[_0x4bc411(0x68c)](_0x4bc411(0xcbf)),_0x379ad=document[_0x4bc411(0x68c)](_0x4bc411(0x84a)),_0x2228a1=document[_0x4bc411(0x68c)](_0x4bc411(0x84b)),_0x332595=document[_0x4bc411(0x68c)](_0x4bc411(0x38e));_0x332595[_0x4bc411(0x376)]=!![],document[_0x4bc411(0x68c)](_0x4bc411(0x575))['classList'][_0x4bc411(0x373)]('hidden'),_0x2228a1['innerHTML']='',_0x5b41fd['classList'][_0x4bc411(0x373)]('hidden'),_0x379ad[_0x4bc411(0xb4b)]=_0x4bc411(0xa6f);try{const _0x17cb21=await new Promise((_0x3c3ac5,_0x3c2e3c)=>{const _0x2ca523=_0x4bc411,_0x5f2df8=new FileReader();_0x5f2df8[_0x2ca523(0xb25)](selectedFile),_0x5f2df8[_0x2ca523(0x4f6)]=()=>_0x3c3ac5(_0x5f2df8[_0x2ca523(0x38f)][_0x2ca523(0x1c1)](',')[0x1]),_0x5f2df8[_0x2ca523(0xb91)]=_0x53c4cf=>_0x3c2e3c(_0x53c4cf);});await generateQuizFromFile(selectedFile['type'],_0x17cb21);}catch(_0x7c7d38){console[_0x4bc411(0x4e5)](_0x4bc411(0x66d),_0x7c7d38),showMessage(_0x4bc411(0x607)+_0x7c7d38[_0x4bc411(0x5f3)]),_0x5b41fd[_0x4bc411(0x936)]['add'](_0x4bc411(0x1dc)),_0x332595[_0x4bc411(0x376)]=![];}}function autoFormatMath(_0x4e81cd){const _0x568666=_0x594c14;if(typeof _0x4e81cd!=='string'||!_0x4e81cd)return _0x4e81cd;const _0x25b2a3=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x43c39c=_0x4e81cd[_0x568666(0xaa5)](_0x25b2a3,_0x1aad0a=>{const _0x3c0bcb=_0x568666;return'$'+_0x1aad0a[_0x3c0bcb(0x99c)]()+'$';});return _0x43c39c;}function sanitizeQuizData(_0x5a5473){const _0x64972a=_0x594c14;if(!_0x5a5473||!_0x5a5473[_0x64972a(0x72b)])return _0x5a5473;const _0x2c6252={'imes':_0x64972a(0x19e),'div':_0x64972a(0x41f)},_0x2d2699=_0x4c1fff=>{const _0x9d8219=_0x64972a;if(typeof _0x4c1fff!=='string')return _0x4c1fff;let _0x550956=_0x4c1fff;for(const [_0x511009,_0x44a268]of Object[_0x9d8219(0x82c)](_0x2c6252)){const _0x1d1ec4=new RegExp('\x5cb'+_0x511009+'\x5cb','g');_0x550956=_0x550956['replace'](_0x1d1ec4,_0x44a268);}return _0x550956=_0x550956['replace'](/\\\//g,_0x9d8219(0x41f)),_0x550956=_0x550956[_0x9d8219(0xaa5)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x9d8219(0x41f))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x9d8219(0x19e))[_0x9d8219(0xaa5)](/÷/g,_0x9d8219(0x41f))['replace'](/×/g,'\x5ctimes'),_0x550956=_0x550956[_0x9d8219(0xaa5)](/(\d)(\\frac)/g,_0x9d8219(0xba0)),_0x550956=autoFormatMath(_0x550956),_0x550956;};return _0x5a5473[_0x64972a(0x72e)]&&(_0x5a5473['topic']=_0x2d2699(_0x5a5473[_0x64972a(0x72e)])),_0x5a5473[_0x64972a(0x72b)][_0x64972a(0x8be)](_0x1ab356=>{const _0x3ab35d=_0x64972a;_0x1ab356[_0x3ab35d(0x77a)]=_0x2d2699(_0x1ab356[_0x3ab35d(0x77a)]),_0x1ab356[_0x3ab35d(0x9ac)]&&(_0x1ab356[_0x3ab35d(0x9ac)]=_0x1ab356[_0x3ab35d(0x9ac)][_0x3ab35d(0x345)](_0x2d2699)),_0x1ab356['explanation']&&(_0x1ab356[_0x3ab35d(0x9fc)]=_0x2d2699(_0x1ab356['explanation'])),_0x1ab356[_0x3ab35d(0x346)]&&(_0x1ab356[_0x3ab35d(0x346)]=_0x2d2699(_0x1ab356['stem'])),_0x1ab356['correctResponse']&&(_0x1ab356['correctResponse']=_0x2d2699(_0x1ab356[_0x3ab35d(0x3ce)])),_0x1ab356[_0x3ab35d(0xcf5)]&&(_0x1ab356[_0x3ab35d(0xcf5)]=_0x1ab356[_0x3ab35d(0xcf5)][_0x3ab35d(0x345)](_0x2d2699));}),_0x5a5473;}const simpleMathPrompt=_0x594c14(0xa72);async function handleGenerateFromLink(){const _0x37597a=_0x594c14,_0x2fb9cd=document[_0x37597a(0x68c)](_0x37597a(0x7f3)),_0x55c1cf=document['getElementById'](_0x37597a(0x4cb)),_0x35f52b=_0x2fb9cd[_0x37597a(0x9a1)]['trim'](),_0x39f313=_0x55c1cf['value'][_0x37597a(0x99c)]();if(!_0x35f52b){showMessage(_0x37597a(0xc90));return;}const _0x113282=document[_0x37597a(0x68c)](_0x37597a(0xcbf)),_0x1919bb=document[_0x37597a(0x68c)](_0x37597a(0x84a)),_0xd54adb=document[_0x37597a(0x68c)](_0x37597a(0x84b)),_0x1fc455=document[_0x37597a(0x68c)](_0x37597a(0x796));document[_0x37597a(0x68c)](_0x37597a(0x575))[_0x37597a(0x936)][_0x37597a(0x373)](_0x37597a(0x1dc)),_0xd54adb[_0x37597a(0xa0c)]='',_0x113282[_0x37597a(0x936)][_0x37597a(0x373)](_0x37597a(0x1dc)),_0x1919bb[_0x37597a(0xb4b)]=_0x37597a(0x58a),_0x1fc455['disabled']=!![];try{const _0x3a0518=_0x37597a(0x4dc)+encodeURIComponent(_0x35f52b),_0x5d2386=await fetch(_0x3a0518);if(!_0x5d2386['ok'])throw new Error(_0x37597a(0x330)+_0x5d2386[_0x37597a(0xb9c)]+')');const _0x21a53b=await _0x5d2386['text'](),_0x4b644f=extractTextFromHtml(_0x21a53b);if(!_0x4b644f||_0x4b644f[_0x37597a(0x757)]<0x64)throw new Error(_0x37597a(0x40b));await generateQuiz(_0x39f313,_0x4b644f);}catch(_0x57bdcd){console[_0x37597a(0x4e5)]('Error\x20generating\x20from\x20link:',_0x57bdcd),showMessage(_0x37597a(0x3ea)+_0x57bdcd[_0x37597a(0x5f3)]),_0xd54adb[_0x37597a(0xa0c)]=_0x37597a(0x36d);}finally{_0x113282[_0x37597a(0x936)]['add'](_0x37597a(0x1dc)),_0x1fc455[_0x37597a(0x376)]=![];}}function extractTextFromHtml(_0x12aed0){const _0x502841=_0x594c14,_0x4bbd36=new DOMParser()['parseFromString'](_0x12aed0,'text/html');return _0x4bbd36['querySelectorAll'](_0x502841(0x875))[_0x502841(0x8be)](_0x1ca52b=>_0x1ca52b[_0x502841(0x373)]()),_0x4bbd36[_0x502841(0xbd0)][_0x502841(0xb4b)]||'';}function _0x27d0(_0x1df0ac,_0x10abf2){const _0x3cb7a=_0x3cb7();return _0x27d0=function(_0x27d0e0,_0x5bbe8f){_0x27d0e0=_0x27d0e0-0x18a;let _0x115fb6=_0x3cb7a[_0x27d0e0];return _0x115fb6;},_0x27d0(_0x1df0ac,_0x10abf2);}document[_0x594c14(0x68c)](_0x594c14(0xb5e))['addEventListener']('click',()=>{const _0x180b83=_0x594c14,_0x4dc678=document[_0x180b83(0x68c)](_0x180b83(0xb16))['value'][_0x180b83(0x99c)]();generateQuiz(_0x4dc678,null);}),document['getElementById'](_0x594c14(0x7d1))[_0x594c14(0x7a0)](_0x594c14(0xc83),()=>{const _0x2b5475=_0x594c14,_0x2d1024=document[_0x2b5475(0x68c)](_0x2b5475(0x70e))[_0x2b5475(0x9a1)][_0x2b5475(0x99c)]();if(!_0x2d1024){showMessage(_0x2b5475(0x8b2));return;}const _0x56c12b=document[_0x2b5475(0x68c)](_0x2b5475(0xb16))[_0x2b5475(0x9a1)]['trim']();generateQuiz(_0x56c12b,_0x2d1024);});async function generateQuiz(_0x3b82d9,_0x435c9e,_0x44f218=null,_0x5862ad=null,_0x4a85b7=![],_0x56e14e=null,_0x93a865=null,_0x165f13=![]){const _0x54f7ee=_0x594c14;let _0x4129ab={};if(_0x4a85b7&&blueprintPageSettings)_0x4129ab=blueprintPageSettings;else{const _0x5e7186=document['querySelectorAll'](_0x54f7ee(0x4ae));_0x4129ab={'quizType':document[_0x54f7ee(0x68c)](_0x54f7ee(0x255))[_0x54f7ee(0x9a1)],'numQuestions':document[_0x54f7ee(0x68c)](_0x54f7ee(0x6f0))[_0x54f7ee(0x9a1)],'numChoices':document[_0x54f7ee(0x68c)](_0x54f7ee(0x60e))[_0x54f7ee(0x9a1)],'includeImages':document[_0x54f7ee(0x68c)]('include-images-checkbox')[_0x54f7ee(0x9cb)],'isNormalTopic':document[_0x54f7ee(0x68c)](_0x54f7ee(0x37c))['checked'],'difficultyValue':document[_0x54f7ee(0x68c)](_0x54f7ee(0xb40))['value'],'complexityValue':document[_0x54f7ee(0x68c)](_0x54f7ee(0xc43))[_0x54f7ee(0x9a1)],'selectedTopicNames':Array[_0x54f7ee(0x97c)](_0x5e7186)[_0x54f7ee(0x345)](_0x32a78e=>_0x32a78e[_0x54f7ee(0x9a1)])};}const _0x2f91bb=_0x4129ab[_0x54f7ee(0x3cf)]?'':_0x54f7ee(0x6d1),_0x43b948=_0x4129ab[_0x54f7ee(0x680)]!=='auto'?'โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x4129ab[_0x54f7ee(0x680)]+'\x22':'',_0x2d7361=_0x4129ab['complexityValue']!==_0x54f7ee(0xa63)?_0x54f7ee(0x4bc)+_0x4129ab[_0x54f7ee(0x283)]+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy':'';let _0x3a684e='';_0x4129ab[_0x54f7ee(0xb71)]&&_0x4129ab[_0x54f7ee(0xb71)]['length']>0x0&&(_0x3a684e=_0x54f7ee(0x425)+_0x4129ab[_0x54f7ee(0xb71)]['join'](',\x20')+'.');let _0x44be66='';_0x5862ad&&(_0x44be66='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x56a5c4='',_0x5aa9ba='',_0x514f02,_0x2c706a=_0x54f7ee(0x91e)+_0x3b82d9+'\x22';if(!_0x3b82d9&&_0x435c9e)_0x2c706a=_0x54f7ee(0x7ce);else!_0x3b82d9&&!_0x435c9e&&(_0x2c706a=_0x54f7ee(0x68f));const _0x12cc31={'type':_0x54f7ee(0x192),'properties':{'questionText':{'type':_0x54f7ee(0x4f0)},'options':{'type':_0x54f7ee(0xc77),'items':{'type':_0x54f7ee(0x4f0)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x54f7ee(0x4f0)}},'required':[_0x54f7ee(0x77a),_0x54f7ee(0x9ac),'correctAnswerIndex',_0x54f7ee(0x9fc)]},_0x4c40df={'type':_0x54f7ee(0x192),'properties':{'questionText':{'type':_0x54f7ee(0x4f0)},'idealAnswer':{'type':_0x54f7ee(0x4f0)},'explanation':{'type':_0x54f7ee(0x4f0)},'imageCode':{'type':_0x54f7ee(0x4f0)}},'required':[_0x54f7ee(0x77a),_0x54f7ee(0x27b),'explanation']},_0x1de551={'type':_0x54f7ee(0x192),'properties':{'questionText':{'type':_0x54f7ee(0x4f0)},'questionType':{'type':_0x54f7ee(0x4f0),'enum':[_0x54f7ee(0x69d),_0x54f7ee(0xa97)]},'options':{'type':_0x54f7ee(0xc77),'items':{'type':_0x54f7ee(0x4f0)}},'correctAnswerIndex':{'type':_0x54f7ee(0x9cf)},'idealAnswer':{'type':_0x54f7ee(0x4f0)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x54f7ee(0x4f0)}},'required':[_0x54f7ee(0x77a),_0x54f7ee(0x7cd),_0x54f7ee(0x9fc)]},_0x170ffd={'type':_0x54f7ee(0x192),'properties':{'questionText':{'type':_0x54f7ee(0x4f0)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x54f7ee(0x4f0)},'imageCode':{'type':_0x54f7ee(0x4f0)}},'required':[_0x54f7ee(0x77a),_0x54f7ee(0xbfb),'explanation']},_0x2763af={'type':_0x54f7ee(0x192),'properties':{'questionType':{'type':_0x54f7ee(0x4f0),'enum':['matching_item']},'stem':{'type':_0x54f7ee(0x4f0)},'correctResponse':{'type':_0x54f7ee(0x4f0)},'allResponses':{'type':'ARRAY','items':{'type':_0x54f7ee(0x4f0)}},'explanation':{'type':_0x54f7ee(0x4f0)},'imageCode':{'type':'STRING'}},'required':[_0x54f7ee(0x7cd),_0x54f7ee(0x346),_0x54f7ee(0x3ce),_0x54f7ee(0xcf5),_0x54f7ee(0x9fc)]};let _0x3d8b4c;if(_0x44f218!==null){const _0x2947dc=currentQuizData[_0x54f7ee(0x72b)][_0x44f218][_0x54f7ee(0x7cd)],_0x51713e=_0x4129ab[_0x54f7ee(0x429)]?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x56a5c4=_0x54f7ee(0xcc9)+_0x2c706a+'\x20'+_0x3a684e+'\x20'+_0x43b948+_0x54f7ee(0x464)+_0x51713e+'\x20'+simpleMathPrompt;if(_0x2947dc===_0x54f7ee(0x69d))_0x514f02=_0x12cc31;else{if(_0x2947dc==='matching_item')_0x514f02={'type':'OBJECT','properties':{'questionType':{'type':_0x54f7ee(0x4f0),'enum':[_0x54f7ee(0x37f)]},'stem':{'type':_0x54f7ee(0x4f0)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x54f7ee(0x4f0)},'imageCode':{'type':'STRING'}},'required':[_0x54f7ee(0x7cd),'stem',_0x54f7ee(0x3ce),_0x54f7ee(0x9fc)]};else _0x514f02=_0x4c40df;}_0x3d8b4c=_0x514f02;}else{const _0x25a179=_0x4129ab[_0x54f7ee(0x429)]?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x4129ab[_0x54f7ee(0x9c1)]){case'multiple_choice':_0x56a5c4=_0x54f7ee(0x885)+_0x2f91bb+'\x20'+_0x4129ab[_0x54f7ee(0x70a)]+'\x20ข้อ\x20'+_0x2c706a+'\x20'+_0x3a684e+'\x20'+_0x43b948+'\x20'+_0x2d7361+'\x20'+_0x44be66+_0x54f7ee(0x981)+_0x4129ab[_0x54f7ee(0x1f3)]+_0x54f7ee(0xb6b)+_0x25a179+'\x20'+simpleMathPrompt,_0x514f02=_0x12cc31;break;case _0x54f7ee(0x73d):_0x56a5c4='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x2f91bb+'\x20'+_0x4129ab[_0x54f7ee(0x70a)]+_0x54f7ee(0x749)+_0x2c706a+'\x20'+_0x3a684e+'\x20'+_0x43b948+'\x20'+_0x2d7361+'\x20'+_0x44be66+_0x54f7ee(0x6e4)+_0x4129ab[_0x54f7ee(0x1f3)]+_0x54f7ee(0xb0b)+_0x25a179+'\x20'+simpleMathPrompt,_0x514f02=_0x12cc31;break;case _0x54f7ee(0xcb5):_0x56a5c4=_0x54f7ee(0x8c7)+_0x2f91bb+'\x20'+_0x4129ab[_0x54f7ee(0x70a)]+'\x20ข้อ\x20'+_0x2c706a+'\x20'+_0x3a684e+'\x20'+_0x43b948+'\x20'+_0x2d7361+'\x20'+_0x44be66+_0x54f7ee(0x1ae)+_0x25a179+'\x20'+simpleMathPrompt,_0x514f02=_0x4c40df;break;case _0x54f7ee(0xa63):_0x56a5c4=_0x54f7ee(0x41d)+_0x2f91bb+'\x20'+_0x4129ab[_0x54f7ee(0x70a)]+'\x20ข้อ\x20'+_0x2c706a+'\x20'+_0x3a684e+'\x20'+_0x43b948+'\x20'+_0x2d7361+'\x20'+_0x44be66+_0x54f7ee(0x59b)+_0x4129ab[_0x54f7ee(0x1f3)]+_0x54f7ee(0x2e9)+_0x25a179+'\x20'+simpleMathPrompt+'.',_0x514f02=_0x1de551;break;case _0x54f7ee(0x8b0):_0x56a5c4=_0x54f7ee(0xbf2)+_0x2f91bb+'\x20'+_0x4129ab[_0x54f7ee(0x70a)]+_0x54f7ee(0x749)+_0x2c706a+'\x20'+_0x3a684e+'\x20'+_0x43b948+'\x20'+_0x2d7361+'\x20'+_0x44be66+_0x54f7ee(0x22c)+_0x25a179+'\x20'+simpleMathPrompt,_0x514f02=_0x170ffd;break;case _0x54f7ee(0x964):_0x56a5c4=_0x54f7ee(0xc88)+_0x2f91bb+'\x20'+_0x4129ab[_0x54f7ee(0x70a)]+_0x54f7ee(0xa19)+_0x2c706a+'\x20'+_0x3a684e+'\x20'+_0x43b948+'\x20'+_0x2d7361+'\x20'+_0x44be66+_0x54f7ee(0x621)+_0x25a179+'\x20'+simpleMathPrompt,_0x514f02=_0x2763af;break;}_0x3d8b4c={'type':_0x54f7ee(0x192),'properties':{'topic':{'type':_0x54f7ee(0x4f0)},'questions':{'type':_0x54f7ee(0xc77),'items':_0x514f02}},'required':[_0x54f7ee(0x72e),'questions']};}const _0x3a71c9=_0x54f7ee(0x8ae);_0x435c9e?(_0x165f13?_0x56a5c4='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x435c9e+'\x22,\x20'+_0x56a5c4+_0x3a71c9:_0x56a5c4=_0x54f7ee(0x32d)+_0x435c9e+_0x54f7ee(0x94c)+_0x56a5c4,_0x5aa9ba='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):(_0x165f13&&(_0x56a5c4+=_0x3a71c9),_0x5aa9ba=_0x54f7ee(0xc13));let _0x1dc604;return _0x5862ad?(_0x1dc604=[{'text':_0x56a5c4},..._0x5862ad],_0x5aa9ba=_0x54f7ee(0x962)):_0x1dc604=_0x56a5c4,handleApiCall(_0x1dc604,_0x5aa9ba,_0x3d8b4c,_0x44f218,!![],_0x56e14e,_0x93a865);}async function generateQuizFromFile(_0x53e5b8,_0x21f54c){const _0x5f26bd=_0x594c14,_0x467889=document[_0x5f26bd(0x68c)](_0x5f26bd(0x57e))[_0x5f26bd(0x9a1)]['trim'](),_0x4bd29e=document[_0x5f26bd(0x68c)](_0x5f26bd(0x255))['value'],_0x5a315d=document[_0x5f26bd(0x68c)](_0x5f26bd(0x6f0))[_0x5f26bd(0x9a1)],_0x45b871=document['getElementById'](_0x5f26bd(0x60e))['value'],_0x5b6add=document['getElementById'](_0x5f26bd(0x6be))[_0x5f26bd(0x9cb)],_0x4884ec=document[_0x5f26bd(0x68c)]('force-math-checkbox')['checked'],_0x31dda0=_0x4884ec?'':_0x5f26bd(0x6d1),_0x407373=document[_0x5f26bd(0x68c)](_0x5f26bd(0xa03))[_0x5f26bd(0x9cb)];let _0x5cd1a9='',_0x28ddfa;const _0x1eaaeb=_0x5b6add?_0x5f26bd(0x820):'';if(_0x407373)_0x5cd1a9='\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a'+_0x1eaaeb+'\x0a'+simpleMathPrompt+'\x0a',_0x28ddfa={'type':_0x5f26bd(0x192),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x5f26bd(0x4f0),'enum':[_0x5f26bd(0x69d),_0x5f26bd(0xa97),_0x5f26bd(0x8b0),_0x5f26bd(0x37f)]},'options':{'type':_0x5f26bd(0xc77),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5f26bd(0x9cf)},'idealAnswer':{'type':_0x5f26bd(0x4f0)},'correctAnswer':{'type':_0x5f26bd(0xc5f)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x5f26bd(0x4f0)},'allResponses':{'type':_0x5f26bd(0xc77),'items':{'type':'STRING'}},'explanation':{'type':_0x5f26bd(0x4f0)},'imageCode':{'type':_0x5f26bd(0x4f0)}},'required':[_0x5f26bd(0x7cd),_0x5f26bd(0x9fc)]};else{let _0x262b45='เกี่ยวกับหัวข้อ\x20\x22'+_0x467889+'\x22';!_0x467889&&(_0x262b45=_0x5f26bd(0x34e));switch(_0x4bd29e){case'multiple_choice':_0x5cd1a9=_0x5f26bd(0x885)+_0x31dda0+'\x20'+_0x5a315d+'\x20ข้อ\x20'+_0x262b45+_0x5f26bd(0x981)+_0x45b871+_0x5f26bd(0xb6b)+_0x1eaaeb+'\x20'+simpleMathPrompt,_0x28ddfa={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x5f26bd(0xc77),'items':{'type':_0x5f26bd(0x4f0)}},'correctAnswerIndex':{'type':_0x5f26bd(0x9cf)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x5f26bd(0x77a),'options','correctAnswerIndex',_0x5f26bd(0x9fc)]};break;case'fill_in_with_choices':_0x5cd1a9=_0x5f26bd(0x8c7)+_0x31dda0+'\x20'+_0x5a315d+_0x5f26bd(0x749)+_0x262b45+_0x5f26bd(0x6e4)+_0x45b871+_0x5f26bd(0xb0b)+_0x1eaaeb+'\x20'+simpleMathPrompt,_0x28ddfa={'type':_0x5f26bd(0x192),'properties':{'questionText':{'type':_0x5f26bd(0x4f0)},'options':{'type':_0x5f26bd(0xc77),'items':{'type':_0x5f26bd(0x4f0)}},'correctAnswerIndex':{'type':_0x5f26bd(0x9cf)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5f26bd(0x4f0)}},'required':[_0x5f26bd(0x77a),_0x5f26bd(0x9ac),_0x5f26bd(0x671),_0x5f26bd(0x9fc)]};break;case _0x5f26bd(0xcb5):_0x5cd1a9='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x31dda0+'\x20'+_0x5a315d+_0x5f26bd(0x749)+_0x262b45+_0x5f26bd(0x6da)+_0x1eaaeb+'\x20'+simpleMathPrompt,_0x28ddfa={'type':_0x5f26bd(0x192),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x5f26bd(0x4f0)},'explanation':{'type':_0x5f26bd(0x4f0)},'imageCode':{'type':_0x5f26bd(0x4f0)}},'required':[_0x5f26bd(0x77a),_0x5f26bd(0x27b),_0x5f26bd(0x9fc)]};break;case'mixed':_0x5cd1a9=_0x5f26bd(0x41d)+_0x31dda0+'\x20'+_0x5a315d+_0x5f26bd(0x749)+_0x262b45+_0x5f26bd(0x6d7)+_0x45b871+'\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20'+_0x1eaaeb+'\x20'+simpleMathPrompt+_0x5f26bd(0x7d3),_0x28ddfa={'type':_0x5f26bd(0x192),'properties':{'questionText':{'type':_0x5f26bd(0x4f0)},'questionType':{'type':_0x5f26bd(0x4f0),'enum':[_0x5f26bd(0x69d),_0x5f26bd(0xa97)]},'options':{'type':_0x5f26bd(0xc77),'items':{'type':_0x5f26bd(0x4f0)}},'correctAnswerIndex':{'type':_0x5f26bd(0x9cf)},'idealAnswer':{'type':_0x5f26bd(0x4f0)},'explanation':{'type':_0x5f26bd(0x4f0)},'imageCode':{'type':_0x5f26bd(0x4f0)}},'required':[_0x5f26bd(0x77a),_0x5f26bd(0x7cd),'explanation']};break;case _0x5f26bd(0x8b0):_0x5cd1a9=_0x5f26bd(0xbf2)+_0x31dda0+'\x20'+_0x5a315d+_0x5f26bd(0x749)+_0x262b45+_0x5f26bd(0x7cb)+_0x1eaaeb+'\x20'+simpleMathPrompt,_0x28ddfa={'type':_0x5f26bd(0x192),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x5f26bd(0xc5f)},'explanation':{'type':_0x5f26bd(0x4f0)},'imageCode':{'type':_0x5f26bd(0x4f0)}},'required':[_0x5f26bd(0x77a),_0x5f26bd(0xbfb),_0x5f26bd(0x9fc)]};break;case'matching':_0x5cd1a9=_0x5f26bd(0xc88)+_0x31dda0+'\x20'+_0x5a315d+_0x5f26bd(0xa19)+_0x262b45+_0x5f26bd(0xcb4)+_0x5a315d+_0x5f26bd(0xa47)+_0x1eaaeb+'\x20'+simpleMathPrompt,_0x28ddfa={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x5f26bd(0x37f)]},'stem':{'type':_0x5f26bd(0x4f0)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x5f26bd(0x4f0)}},'explanation':{'type':_0x5f26bd(0x4f0)},'imageCode':{'type':_0x5f26bd(0x4f0)}},'required':[_0x5f26bd(0x7cd),_0x5f26bd(0x346),_0x5f26bd(0x3ce),'allResponses',_0x5f26bd(0x9fc)]};break;}}const _0x28aaba={'type':'OBJECT','properties':{'topic':{'type':_0x5f26bd(0x4f0)},'questions':{'type':_0x5f26bd(0xc77),'items':_0x28ddfa}},'required':['topic',_0x5f26bd(0x72b)]},_0x2681ab=_0x5f26bd(0x3dc)+_0x5cd1a9,_0x409488={'contents':[{'parts':[{'text':_0x2681ab},{'inlineData':{'mimeType':_0x53e5b8,'data':_0x21f54c}}]}],'generationConfig':{'responseMimeType':_0x5f26bd(0x741),'responseSchema':_0x28aaba}};return handleApiCall(_0x409488[_0x5f26bd(0x1cc)][0x0]['parts'],_0x5f26bd(0x2ac),_0x28aaba);}async function handleApiCall(_0x45f7ee,_0x5a4b5d,_0x3456a3,_0x1f9287=null,_0xc9f884=!![],_0x3a2ad6=null,_0x3cf8d9=null){const _0x582ba6=_0x594c14,_0x578247=document[_0x582ba6(0x68c)](_0x582ba6(0x575)),_0xdd35f3=document['getElementById'](_0x582ba6(0xcbf)),_0x3c1b98=document[_0x582ba6(0x68c)](_0x582ba6(0x84a)),_0x1ee3a9=document[_0x582ba6(0x68c)](_0x582ba6(0x84b));_0x578247[_0x582ba6(0x936)][_0x582ba6(0x373)](_0x582ba6(0x1dc));_0x1f9287===null&&_0xc9f884&&(_0x1ee3a9['innerHTML']='');_0xdd35f3[_0x582ba6(0x936)][_0x582ba6(0x373)](_0x582ba6(0x1dc)),_0x3c1b98[_0x582ba6(0xb4b)]=_0x5a4b5d,document[_0x582ba6(0x68c)](_0x582ba6(0xb5e))['disabled']=!![],document[_0x582ba6(0x68c)](_0x582ba6(0x7d1))['disabled']=!![],document[_0x582ba6(0x68c)]('generate-from-link-btn')['disabled']=!![];const _0x183c20=document[_0x582ba6(0x68c)](_0x582ba6(0x38e));if(_0x183c20)_0x183c20[_0x582ba6(0x376)]=!![];const _0x5d2afa=document[_0x582ba6(0x68c)]('generate-from-blueprint-btn');if(_0x5d2afa)_0x5d2afa[_0x582ba6(0x376)]=!![];const _0x37d176=document[_0x582ba6(0x68c)](_0x582ba6(0x1db));if(_0x37d176)_0x37d176[_0x582ba6(0x376)]=!![];try{const _0x40e998=Array[_0x582ba6(0x2a2)](_0x45f7ee)?_0x45f7ee:[{'text':_0x45f7ee}],_0x5a858d={'contents':[{'role':_0x582ba6(0x291),'parts':_0x40e998}]};_0x3456a3&&(_0x5a858d[_0x582ba6(0x8ff)]={'responseMimeType':_0x582ba6(0x741),'responseSchema':_0x3456a3});const _0x4837ed=_0x582ba6(0xad6),_0x2de407=_0x582ba6(0xa41)+_0x4837ed,_0xcda5e2=await fetch(_0x2de407,{'method':_0x582ba6(0xaad),'headers':{'Content-Type':_0x582ba6(0x741)},'body':JSON[_0x582ba6(0xace)](_0x5a858d)});if(!_0xcda5e2['ok']){const _0x3a55f1=await _0xcda5e2[_0x582ba6(0x4b6)]();console[_0x582ba6(0x4e5)](_0x582ba6(0x787),_0x3a55f1);throw new Error(_0x582ba6(0x463)+_0xcda5e2[_0x582ba6(0xb9c)]);}const _0x4522cb=await _0xcda5e2[_0x582ba6(0x473)]();if(!_0x4522cb[_0x582ba6(0x7d2)]||_0x4522cb[_0x582ba6(0x7d2)][_0x582ba6(0x757)]===0x0){let _0x3bd0ff=_0x582ba6(0x24c);return _0x4522cb[_0x582ba6(0x3d3)]?.[_0x582ba6(0x414)]&&(_0x3bd0ff=_0x582ba6(0x494)+_0x4522cb[_0x582ba6(0x3d3)][_0x582ba6(0x414)]+'.'),console['error'](_0x3bd0ff,JSON[_0x582ba6(0xace)](_0x4522cb)),null;}const _0x161f34=_0x4522cb[_0x582ba6(0x7d2)][0x0][_0x582ba6(0x63a)][_0x582ba6(0xc2b)][0x0]['text'];if(_0x3456a3){let _0x2d1d81=_0x161f34;if(_0x2d1d81[_0x582ba6(0x997)](_0x582ba6(0xa9e)))_0x2d1d81=_0x2d1d81[_0x582ba6(0x2c6)](0x7,_0x2d1d81[_0x582ba6(0x757)]-0x3)[_0x582ba6(0x99c)]();else _0x2d1d81[_0x582ba6(0x997)](_0x582ba6(0xc99))&&(_0x2d1d81=_0x2d1d81['substring'](0x3,_0x2d1d81['length']-0x3)[_0x582ba6(0x99c)]());let _0xa9c61f=JSON[_0x582ba6(0x60b)](_0x2d1d81);if(_0xc9f884){if(_0x1f9287!==null){}else currentQuizData=_0xa9c61f,displayGeneratedQuiz(currentQuizData,_0x3a2ad6,_0x3cf8d9);}return _0xa9c61f;}else return _0x161f34;}catch(_0x3b6cfc){console[_0x582ba6(0x4e5)]('Error\x20in\x20handleApiCall:',_0x3b6cfc),showMessage('เกิดข้อผิดพลาดในการสร้าง:\x20'+_0x3b6cfc[_0x582ba6(0x5f3)]);_0xc9f884&&(_0x1ee3a9[_0x582ba6(0xa0c)]=_0x582ba6(0x3ab));throw _0x3b6cfc;}finally{_0xdd35f3[_0x582ba6(0x936)]['add'](_0x582ba6(0x1dc)),document['getElementById'](_0x582ba6(0xb5e))['disabled']=![],document['getElementById']('generate-from-text-btn')[_0x582ba6(0x376)]=![],document[_0x582ba6(0x68c)](_0x582ba6(0x796))[_0x582ba6(0x376)]=![];if(_0x183c20)_0x183c20[_0x582ba6(0x376)]=![];if(_0x5d2afa)_0x5d2afa[_0x582ba6(0x376)]=![];if(_0x37d176)_0x37d176[_0x582ba6(0x376)]=![];}}function exitFullscreen(){const _0x4a28f0=_0x594c14;if(document[_0x4a28f0(0x5dd)])document[_0x4a28f0(0x5dd)]()['catch'](_0x4a99e1=>console['error'](_0x4a99e1));else{if(document[_0x4a28f0(0xac9)])document['webkitExitFullscreen']();else document[_0x4a28f0(0x733)]&&document[_0x4a28f0(0x733)]();}}function enterFullscreen(){const _0x207058=_0x594c14,_0x2f0278=document[_0x207058(0xbf7)];if(_0x2f0278[_0x207058(0x67a)])_0x2f0278[_0x207058(0x67a)]()[_0x207058(0x956)](_0x495a21=>{const _0x39017c=_0x207058;console[_0x39017c(0x4e5)](_0x39017c(0xa0b)+_0x495a21['message']+'\x20('+_0x495a21[_0x39017c(0xb31)]+')');});else{if(_0x2f0278[_0x207058(0x973)])_0x2f0278[_0x207058(0x973)]();else _0x2f0278['msRequestFullscreen']&&_0x2f0278[_0x207058(0x4e9)]();}}function handleCheatingEvent(){const _0x5ae1be=_0x594c14;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x5ae1be(0xb56),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x5ae1be(0x961)+maxCheatAttempts+_0x5ae1be(0x551)),document[_0x5ae1be(0x68c)](_0x5ae1be(0x2ed))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x5ae1be(0xbb8)](_0x5ae1be(0x536),handleVisibilityChange),document[_0x5ae1be(0xbb8)](_0x5ae1be(0x70f),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x5ae1be(0x34b),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0xc54264=_0x594c14;if(currentMode===_0xc54264(0x9b9)||!isQuizActive)return;if(document[_0xc54264(0x9d3)]==='hidden')handleCheatingEvent();else document[_0xc54264(0x9d3)]===_0xc54264(0x5be)&&(console[_0xc54264(0x3e0)](_0xc54264(0x7c2)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x470fe1=_0x594c14;if(currentMode===_0x470fe1(0x9b9)||!isQuizActive)return;!document[_0x470fe1(0x96e)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0xa8b7eb,_0x49a302=null,_0x4d7610=null){const _0x5e34d5=_0x594c14,_0x1e935f=document[_0x5e34d5(0x68c)](_0x5e34d5(0x84b));let _0x990b23=_0x5e34d5(0xa46)+_0xa8b7eb[_0x5e34d5(0x72e)]+_0x5e34d5(0x663);_0xa8b7eb['questions'][_0x5e34d5(0x8be)]((_0x166d33,_0x1d00fe)=>{const _0xc09cd7=_0x5e34d5;!_0x166d33['id']&&(_0x166d33['id']='q_'+Date[_0xc09cd7(0x708)]()+'_'+_0x1d00fe);const _0x56c9e5=_0x166d33[_0xc09cd7(0x7cd)]||_0xa8b7eb['quizType'];_0x990b23+=_0xc09cd7(0x8d4)+_0x1d00fe+_0xc09cd7(0x806)+_0x1d00fe+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x1d00fe+_0xc09cd7(0x840);switch(_0x56c9e5){case _0xc09cd7(0x37f):_0x990b23+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x1d00fe+'\x22>'+(_0x1d00fe+0x1)+'.\x20'+_0x166d33[_0xc09cd7(0x346)]+_0xc09cd7(0x4a1);_0x166d33['imageCode']&&(_0x990b23+=_0xc09cd7(0xa45)+_0x1d00fe+_0xc09cd7(0x8cf)+_0x166d33[_0xc09cd7(0x1c6)]+_0xc09cd7(0x93c));_0x990b23+=_0xc09cd7(0x8d3)+_0x1d00fe+'\x22>'+_0x166d33[_0xc09cd7(0x3ce)]+'</span></div>',_0x990b23+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x1d00fe+'\x22>'+_0x166d33['explanation']+_0xc09cd7(0x447);break;case _0xc09cd7(0xa97):_0x990b23+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x1d00fe+'\x22>'+(_0x1d00fe+0x1)+'.\x20'+_0x166d33[_0xc09cd7(0x77a)]+_0xc09cd7(0x4a1);_0x166d33[_0xc09cd7(0x1c6)]&&(_0x990b23+=_0xc09cd7(0xa45)+_0x1d00fe+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x166d33[_0xc09cd7(0x1c6)]+'</div>');_0x990b23+=_0xc09cd7(0x8a1)+_0x1d00fe+'\x22>'+_0x166d33[_0xc09cd7(0x27b)]+_0xc09cd7(0x447),_0x990b23+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x1d00fe+'\x22>'+_0x166d33[_0xc09cd7(0x9fc)]+_0xc09cd7(0x447);break;case _0xc09cd7(0x8b0):_0x990b23+=_0xc09cd7(0x79a)+_0x1d00fe+'\x22>'+(_0x1d00fe+0x1)+'.\x20'+_0x166d33[_0xc09cd7(0x77a)]+_0xc09cd7(0x4a1);_0x166d33['imageCode']&&(_0x990b23+=_0xc09cd7(0xa45)+_0x1d00fe+_0xc09cd7(0x8cf)+_0x166d33[_0xc09cd7(0x1c6)]+'</div>');_0x990b23+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x166d33['correctAnswer']===!![]?_0xc09cd7(0x408):'')+_0xc09cd7(0x622)+(_0x166d33[_0xc09cd7(0xbfb)]===![]?_0xc09cd7(0x408):'')+_0xc09cd7(0x7b0),_0x990b23+=_0xc09cd7(0x685)+_0x1d00fe+'\x22>'+_0x166d33[_0xc09cd7(0x9fc)]+_0xc09cd7(0x447);break;case _0xc09cd7(0x386):case _0xc09cd7(0x69d):default:_0x990b23+=_0xc09cd7(0x79a)+_0x1d00fe+'\x22>'+(_0x1d00fe+0x1)+'.\x20'+_0x166d33['questionText']+_0xc09cd7(0x4a1);_0x166d33[_0xc09cd7(0x1c6)]&&(_0x990b23+=_0xc09cd7(0xa45)+_0x1d00fe+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x166d33[_0xc09cd7(0x1c6)]+_0xc09cd7(0x93c));_0x990b23+=_0xc09cd7(0xc86)+_0x1d00fe+_0xc09cd7(0x55d)+(_0x166d33[_0xc09cd7(0x9ac)]||[])['map']((_0x159332,_0x24bc52)=>_0xc09cd7(0x95b)+(_0x24bc52===_0x166d33['correctAnswerIndex']?'text-green-600\x20font-bold':'')+'\x22>'+_0x159332+_0xc09cd7(0x890))[_0xc09cd7(0x95f)]('')+_0xc09cd7(0x538),_0x990b23+=_0xc09cd7(0x685)+_0x1d00fe+'\x22>'+_0x166d33['explanation']+_0xc09cd7(0x447);break;}_0x990b23+=_0xc09cd7(0x93c);}),_0x990b23+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>',_0x1e935f['innerHTML']=_0x990b23,document['querySelectorAll'](_0x5e34d5(0x7f8))[_0x5e34d5(0x8be)](_0x2639d9=>_0x2639d9[_0x5e34d5(0x7a0)]('click',handleEditQuestion)),document[_0x5e34d5(0x9c3)]('.regenerate-question-btn')[_0x5e34d5(0x8be)](_0x105b9a=>_0x105b9a[_0x5e34d5(0x7a0)](_0x5e34d5(0xc83),handleRegenerateQuestion)),document[_0x5e34d5(0x68c)](_0x5e34d5(0x712))[_0x5e34d5(0x7a0)](_0x5e34d5(0xc83),exportQuizAsWorksheetPDF),document[_0x5e34d5(0x68c)]('verify-answers-btn')[_0x5e34d5(0x7a0)](_0x5e34d5(0xc83),handleVerifyAnswers);const _0xa75cea=document[_0x5e34d5(0x68c)](_0x5e34d5(0x466));if(_0xa75cea){const _0x10ab78=_0x49a302||currentProjectId;_0xa75cea['addEventListener'](_0x5e34d5(0xc83),()=>saveQuiz(_0x10ab78,_0x4d7610));}if(window[_0x5e34d5(0x8e9)])window[_0x5e34d5(0x8e9)]['typesetPromise']([_0x1e935f]);}function handleRegenerateQuestion(_0x4abf10){const _0x592cc3=_0x594c14,_0x234245=_0x4abf10['currentTarget'][_0x592cc3(0x7f1)]['index'],_0x43efdb=currentQuizData[_0x592cc3(0x72e)];showMessage(_0x592cc3(0x71a)+(parseInt(_0x234245)+0x1)+'\x20ใหม่...'),generateQuiz(_0x43efdb,null,parseInt(_0x234245));}function getPointerPosition(_0x273f78,_0x409272){const _0x4a7f6a=_0x594c14,_0x51fe08=_0x273f78[_0x4a7f6a(0xaaf)]();let _0x130781,_0xc3f086;return _0x409272[_0x4a7f6a(0xa4f)]&&_0x409272[_0x4a7f6a(0xa4f)][_0x4a7f6a(0x757)]>0x0?(_0x130781=_0x409272[_0x4a7f6a(0xa4f)][0x0][_0x4a7f6a(0xb9f)],_0xc3f086=_0x409272['touches'][0x0][_0x4a7f6a(0x766)]):(_0x130781=_0x409272[_0x4a7f6a(0xb9f)],_0xc3f086=_0x409272[_0x4a7f6a(0x766)]),{'x':(_0x130781-_0x51fe08['e'])/_0x51fe08['a'],'y':(_0xc3f086-_0x51fe08['f'])/_0x51fe08['d']};}function startDrag(_0x4b8668){const _0x5ddfe1=_0x594c14;_0x4b8668[_0x5ddfe1(0x7f4)]===_0x5ddfe1(0x19d)&&_0x4b8668[_0x5ddfe1(0xc55)]();const _0x393766=_0x4b8668[_0x5ddfe1(0x221)]['closest']('.draggable-text');if(_0x393766){draggedSvgElement=_0x393766;const _0x1a5686=draggedSvgElement[_0x5ddfe1(0x9be)],_0x276620=getPointerPosition(_0x1a5686,_0x4b8668);svgOffset['x']=_0x276620['x']-parseFloat(draggedSvgElement[_0x5ddfe1(0xa31)](null,'x')),svgOffset['y']=_0x276620['y']-parseFloat(draggedSvgElement[_0x5ddfe1(0xa31)](null,'y'));}}function calculateItemAnalysis(_0x2ee722,_0x449976){const _0x1e7b52=_0x594c14,_0x751a3c={};if(_0x449976[_0x1e7b52(0x757)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x2d80ed=[..._0x449976]['sort']((_0x129ec9,_0x1f9a65)=>{const _0x20d09c=_0x1e7b52,_0x537a37=_0x1f9a65['latestScore']-_0x129ec9['latestScore'];if(_0x537a37!==0x0)return _0x537a37;const _0x7d370f=_0x129ec9['attempts']?.[_0x20d09c(0x757)]||0x1,_0x132402=_0x1f9a65[_0x20d09c(0x51d)]?.[_0x20d09c(0x757)]||0x1,_0x9d8637=_0x7d370f-_0x132402;if(_0x9d8637!==0x0)return _0x9d8637;const _0x3f3ca4=new Date(_0x129ec9[_0x20d09c(0x6a1)]),_0x4b758=new Date(_0x1f9a65[_0x20d09c(0x6a1)]),_0x48266e=_0x3f3ca4-_0x4b758;if(_0x48266e!==0x0)return _0x48266e;return _0x129ec9[_0x20d09c(0xc53)][_0x20d09c(0x480)](_0x1f9a65['studentName'],'th');}),_0xabe7c=_0x2d80ed[_0x1e7b52(0x757)],_0x4b0f9b=Math['max'](0x1,Math[_0x1e7b52(0xa3c)](_0xabe7c*0.33));if(_0x4b0f9b===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x2d3878=_0x2d80ed['slice'](0x0,_0x4b0f9b),_0x229bea=_0x2d80ed['slice'](-_0x4b0f9b),_0x5e74b8=_0x2d3878[_0x1e7b52(0x345)](_0x484992=>_0x484992[_0x1e7b52(0xc53)]),_0xd139a6=_0x229bea[_0x1e7b52(0x345)](_0x387b7a=>_0x387b7a['studentName']);return _0x2ee722[_0x1e7b52(0x72b)]['forEach']((_0x8ca874,_0x336f8a)=>{const _0x3a2d39=_0x1e7b52,_0xf270f2=_0x8ca874[_0x3a2d39(0x346)]||_0x8ca874[_0x3a2d39(0x77a)];let _0x245c66=0x0,_0x4c0e07=0x0,_0x4a0d5c=0x0;const _0x30529f=[],_0xe197d0=[];_0x2d3878[_0x3a2d39(0x8be)](_0x5c9c64=>{const _0x25e2e4=_0x3a2d39,_0x103f1d=_0x5c9c64[_0x25e2e4(0x51d)][_0x5c9c64[_0x25e2e4(0x51d)][_0x25e2e4(0x757)]-0x1],_0x491db5=_0x103f1d[_0x25e2e4(0x576)]['find'](_0x1b1e8a=>_0x1b1e8a[_0x25e2e4(0x901)]===_0xf270f2);_0x30529f[_0x25e2e4(0x861)]({'name':_0x5c9c64[_0x25e2e4(0xc53)],'isCorrect':_0x491db5?_0x491db5[_0x25e2e4(0xa60)]:![]}),_0x491db5&&_0x491db5[_0x25e2e4(0xa60)]&&_0x4c0e07++;}),_0x229bea[_0x3a2d39(0x8be)](_0x170928=>{const _0x1b6efe=_0x3a2d39,_0x4342fd=_0x170928[_0x1b6efe(0x51d)][_0x170928['attempts']['length']-0x1],_0x1fa974=_0x4342fd['answers'][_0x1b6efe(0xad3)](_0x203118=>_0x203118[_0x1b6efe(0x901)]===_0xf270f2);_0xe197d0['push']({'name':_0x170928[_0x1b6efe(0xc53)],'isCorrect':_0x1fa974?_0x1fa974['isCorrect']:![]}),_0x1fa974&&_0x1fa974[_0x1b6efe(0xa60)]&&_0x4a0d5c++;}),_0x449976[_0x3a2d39(0x8be)](_0x4a6306=>{const _0x4d3e01=_0x3a2d39,_0x382032=_0x4a6306[_0x4d3e01(0x51d)][_0x4a6306[_0x4d3e01(0x51d)][_0x4d3e01(0x757)]-0x1],_0x6b0824=_0x382032['answers']['find'](_0x146f4a=>_0x146f4a[_0x4d3e01(0x901)]===_0xf270f2);_0x6b0824&&_0x6b0824['isCorrect']&&_0x245c66++;});const _0x5389c3=_0xabe7c>0x0?_0x245c66/_0xabe7c:0x0,_0x1ed66a=_0x4b0f9b>0x0?_0x4c0e07/_0x4b0f9b-_0x4a0d5c/_0x4b0f9b:0x0;_0x751a3c[_0x336f8a]={'p':_0x5389c3,'r':_0x1ed66a,'upperGroupResponders':_0x30529f,'lowerGroupResponders':_0xe197d0};}),{'perQuestionStats':_0x751a3c,'overallGroups':{'upperGroupNames':_0x5e74b8,'lowerGroupNames':_0xd139a6}};}function drag(_0x3f6518){const _0x179a4d=_0x594c14;if(draggedSvgElement){_0x3f6518[_0x179a4d(0xc55)]();const _0x18b384=draggedSvgElement['ownerSVGElement'],_0xe38d48=getPointerPosition(_0x18b384,_0x3f6518),_0x556ee3=_0x18b384[_0x179a4d(0xa17)][_0x179a4d(0x699)];let _0x2ab7d9=_0xe38d48['x']-svgOffset['x'],_0x3e5256=_0xe38d48['y']-svgOffset['y'];const _0x5532ee=draggedSvgElement['getBBox']();_0x2ab7d9=Math[_0x179a4d(0x2d3)](_0x556ee3['x'],Math[_0x179a4d(0x99a)](_0x2ab7d9,_0x556ee3['x']+_0x556ee3[_0x179a4d(0x18f)]-_0x5532ee[_0x179a4d(0x18f)])),_0x3e5256=Math[_0x179a4d(0x2d3)](_0x556ee3['y'],Math[_0x179a4d(0x99a)](_0x3e5256,_0x556ee3['y']+_0x556ee3[_0x179a4d(0x33a)]-_0x5532ee['height'])),draggedSvgElement[_0x179a4d(0x9f8)](null,'x',_0x2ab7d9),draggedSvgElement['setAttributeNS'](null,'y',_0x3e5256);}}function endDrag(_0x9c272b){draggedSvgElement=null;}function handleSvgEditClick(_0x532158){const _0x434214=_0x594c14;if(_0x532158['target']['classList']['contains'](_0x434214(0x382))){const _0x235fda=_0x532158[_0x434214(0x221)][_0x434214(0x7f1)][_0x434214(0xc1a)],_0x28fe85=_0x532158[_0x434214(0x35b)],_0x336c0c=_0x28fe85[_0x434214(0x817)]('#'+_0x235fda);_0x336c0c&&_0x336c0c[_0x434214(0x373)](),_0x532158[_0x434214(0x221)][_0x434214(0x373)]();}}function handleEditQuestion(_0x435a05){const _0x5e2c1b=_0x594c14,_0x338a88=_0x435a05[_0x5e2c1b(0x35b)],_0x1ecd0f=_0x338a88[_0x5e2c1b(0x7f1)]['index'],_0x177051=currentQuizData[_0x5e2c1b(0x72b)][_0x1ecd0f],_0x2cb089=document[_0x5e2c1b(0x68c)](_0x5e2c1b(0x4d4)+_0x1ecd0f),_0x4d4c89=document[_0x5e2c1b(0x68c)](_0x5e2c1b(0xbdc)+_0x1ecd0f),_0x183b70=document[_0x5e2c1b(0x68c)](_0x5e2c1b(0x2b4)+_0x1ecd0f);if(_0x338a88['innerHTML'][_0x5e2c1b(0x92b)](_0x5e2c1b(0x8a8))){_0x338a88[_0x5e2c1b(0xa0c)]=_0x5e2c1b(0x63d),_0x338a88['title']=_0x5e2c1b(0x2fd);if(_0x2cb089)_0x2cb089[_0x5e2c1b(0xc6b)]=!![];if(_0x4d4c89)_0x4d4c89[_0x5e2c1b(0xc6b)]=!![];if(_0x183b70){const _0xe6a686=_0x183b70[_0x5e2c1b(0x817)]('svg');if(_0xe6a686){const _0xd6f37=_0xe6a686[_0x5e2c1b(0x9c3)](_0x5e2c1b(0x4b6));_0xd6f37['forEach']((_0x2cc4aa,_0xec2b18)=>{const _0x4f4278=_0x5e2c1b,_0x257af9=_0x4f4278(0x83f)+_0x1ecd0f+'-'+_0xec2b18;_0x2cc4aa['id']=_0x257af9,_0x2cc4aa[_0x4f4278(0x936)]['add']('draggable-text'),_0x2cc4aa[_0x4f4278(0x62a)][_0x4f4278(0xb8c)]=_0x4f4278(0xc5b);const _0x455d63=document[_0x4f4278(0x1ee)](_0x4f4278(0x7bc),_0x4f4278(0x8d0)),_0x519c1c=_0x2cc4aa[_0x4f4278(0x898)]();_0x455d63[_0x4f4278(0xbb7)]('cx',String(_0x519c1c['x']+_0x519c1c[_0x4f4278(0x18f)]+0x5)),_0x455d63['setAttribute']('cy',String(_0x519c1c['y']+_0x519c1c['height']/0x2-0x5)),_0x455d63['setAttribute']('r','5'),_0x455d63['setAttribute'](_0x4f4278(0x2c3),_0x4f4278(0x8cb)),_0x455d63[_0x4f4278(0xbb7)](_0x4f4278(0x52e),_0x4f4278(0x382)),_0x455d63['dataset']['targetId']=_0x257af9,_0x2cc4aa[_0x4f4278(0x3da)](_0x455d63);}),_0xe6a686['addEventListener'](_0x5e2c1b(0x5ef),startDrag),_0xe6a686[_0x5e2c1b(0x7a0)](_0x5e2c1b(0x273),drag),_0xe6a686[_0x5e2c1b(0x7a0)](_0x5e2c1b(0x38a),endDrag),_0xe6a686[_0x5e2c1b(0x7a0)](_0x5e2c1b(0xcc0),endDrag),_0xe6a686[_0x5e2c1b(0x7a0)](_0x5e2c1b(0x19d),startDrag,{'passive':![]}),_0xe6a686[_0x5e2c1b(0x7a0)](_0x5e2c1b(0x755),drag,{'passive':![]}),_0xe6a686[_0x5e2c1b(0x7a0)]('touchend',endDrag),_0xe6a686[_0x5e2c1b(0x7a0)](_0x5e2c1b(0x605),endDrag),_0xe6a686['addEventListener'](_0x5e2c1b(0xc83),handleSvgEditClick);}}if(_0x2cb089)_0x2cb089[_0x5e2c1b(0x49f)]();}else{_0x338a88[_0x5e2c1b(0xa0c)]=_0x5e2c1b(0x81c),_0x338a88[_0x5e2c1b(0xa09)]=_0x5e2c1b(0x608);if(_0x2cb089){_0x2cb089[_0x5e2c1b(0xc6b)]=![];const _0x190812=_0x177051[_0x5e2c1b(0x7cd)]||currentQuizData[_0x5e2c1b(0x9c1)];_0x190812===_0x5e2c1b(0x37f)?_0x177051[_0x5e2c1b(0x346)]=_0x2cb089[_0x5e2c1b(0x558)][_0x5e2c1b(0x2c6)](_0x2cb089[_0x5e2c1b(0x558)][_0x5e2c1b(0xbb1)]('.')+0x2)['trim']():_0x177051[_0x5e2c1b(0x77a)]=_0x2cb089[_0x5e2c1b(0x558)]['substring'](_0x2cb089['innerText'][_0x5e2c1b(0xbb1)]('.')+0x2)[_0x5e2c1b(0x99c)]();}_0x4d4c89&&(_0x4d4c89[_0x5e2c1b(0xc6b)]=![],_0x177051[_0x5e2c1b(0x9fc)]=_0x4d4c89[_0x5e2c1b(0x558)]);if(_0x183b70){const _0x3857d5=_0x183b70[_0x5e2c1b(0x817)](_0x5e2c1b(0x39e));if(_0x3857d5){const _0x26f5f8=_0x3857d5['cloneNode'](!![]);_0x26f5f8[_0x5e2c1b(0x9c3)](_0x5e2c1b(0x83e))[_0x5e2c1b(0x8be)](_0x264f75=>_0x264f75['remove']()),_0x26f5f8[_0x5e2c1b(0x9c3)](_0x5e2c1b(0x554))[_0x5e2c1b(0x8be)](_0x103098=>{const _0xba8af2=_0x5e2c1b;_0x103098[_0xba8af2(0x936)]['remove']('draggable-text'),_0x103098[_0xba8af2(0x62a)][_0xba8af2(0xb8c)]='default',_0x103098['removeAttribute']('id');}),_0x177051[_0x5e2c1b(0x1c6)]=_0x26f5f8[_0x5e2c1b(0x28f)],_0x3857d5[_0x5e2c1b(0xbb8)](_0x5e2c1b(0x5ef),startDrag),_0x3857d5[_0x5e2c1b(0xbb8)](_0x5e2c1b(0x273),drag),_0x3857d5[_0x5e2c1b(0xbb8)](_0x5e2c1b(0x38a),endDrag),_0x3857d5[_0x5e2c1b(0xbb8)]('mouseleave',endDrag),_0x3857d5[_0x5e2c1b(0xbb8)](_0x5e2c1b(0x19d),startDrag),_0x3857d5[_0x5e2c1b(0xbb8)](_0x5e2c1b(0x755),drag),_0x3857d5['removeEventListener'](_0x5e2c1b(0x6d6),endDrag),_0x3857d5[_0x5e2c1b(0xbb8)](_0x5e2c1b(0x605),endDrag),_0x3857d5[_0x5e2c1b(0xbb8)](_0x5e2c1b(0xc83),handleSvgEditClick),_0x3857d5[_0x5e2c1b(0x9c3)](_0x5e2c1b(0x83e))[_0x5e2c1b(0x8be)](_0x28f8d6=>_0x28f8d6['remove']()),_0x3857d5[_0x5e2c1b(0x9c3)](_0x5e2c1b(0x554))[_0x5e2c1b(0x8be)](_0x1224b5=>{const _0xd5126=_0x5e2c1b;_0x1224b5[_0xd5126(0x936)][_0xd5126(0x373)]('draggable-text'),_0x1224b5[_0xd5126(0x62a)]['cursor']=_0xd5126(0x8ba);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x4c7ac9){const _0x1c2641=_0x594c14,_0x4310b2=document[_0x1c2641(0x68c)](_0x1c2641(0x284)),_0x56d267=document[_0x1c2641(0x68c)](_0x1c2641(0x99f));_0x56d267['innerHTML']=_0x1c2641(0xcb1),_0x4310b2[_0x1c2641(0x936)][_0x1c2641(0x373)]('hidden');try{const _0x2a069f=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4c7ac9),_0xc3e7b6=await getDoc(_0x2a069f);if(!_0xc3e7b6[_0x1c2641(0x367)]())throw new Error(_0x1c2641(0x9d7));currentEditingQuizData={'id':_0x4c7ac9,..._0xc3e7b6[_0x1c2641(0x21d)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x436d87){console[_0x1c2641(0x4e5)]('Error\x20opening\x20quiz\x20editor:',_0x436d87),showMessage(_0x1c2641(0xcad)),_0x4310b2['classList'][_0x1c2641(0x2de)](_0x1c2641(0x1dc));}}function renderQuizEditor(_0x1493bc){const _0x56ca79=_0x594c14;document[_0x56ca79(0x68c)](_0x56ca79(0x42c))['value']=_0x1493bc[_0x56ca79(0x72e)];const _0x6f17db=document[_0x56ca79(0x68c)]('quiz-editor-questions-container');let _0x27f4d2=_0x1493bc['questions'][_0x56ca79(0x345)]((_0x1e7e46,_0x2d187b)=>{const _0x4bc6ca=_0x56ca79;let _0x1daaab='';const _0x192015=_0x1e7e46[_0x4bc6ca(0x7cd)]||_0x1493bc[_0x4bc6ca(0x9c1)];switch(_0x192015){case _0x4bc6ca(0x69d):const _0x5a3586=(_0x1e7e46['options']||[])['map']((_0x31b4c1,_0x26ce56)=>_0x4bc6ca(0x856)+_0x2d187b+_0x4bc6ca(0x73a)+_0x26ce56+'\x22\x20'+(_0x26ce56===_0x1e7e46['correctAnswerIndex']?_0x4bc6ca(0x9cb):'')+_0x4bc6ca(0x2bf)+_0x31b4c1+_0x4bc6ca(0xb3d))['join']('');_0x1daaab=_0x4bc6ca(0xb65)+_0x5a3586+_0x4bc6ca(0xaa6);break;case _0x4bc6ca(0xa97):_0x1daaab=_0x4bc6ca(0x5f6)+(_0x1e7e46[_0x4bc6ca(0x27b)]||'')+_0x4bc6ca(0x26d);break;case _0x4bc6ca(0x8b0):_0x1daaab='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x2d187b+'\x22\x20value=\x22true\x22\x20'+(_0x1e7e46['correctAnswer']===!![]?'checked':'')+_0x4bc6ca(0x815)+_0x2d187b+'\x22\x20value=\x22false\x22\x20'+(_0x1e7e46[_0x4bc6ca(0xbfb)]===![]?_0x4bc6ca(0x9cb):'')+_0x4bc6ca(0x7f9);break;case _0x4bc6ca(0x37f):_0x1daaab=_0x4bc6ca(0xd22)+(_0x1e7e46[_0x4bc6ca(0x3ce)]||'')+_0x4bc6ca(0xa43);break;}const _0x553f6a=_0x1e7e46[_0x4bc6ca(0x77a)]||_0x1e7e46[_0x4bc6ca(0x346)]||'';return'\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x2d187b+_0x4bc6ca(0x7a7)+_0x192015+_0x4bc6ca(0xa98)+(_0x2d187b+0x1)+'\x20('+_0x192015+_0x4bc6ca(0xc5a)+_0x553f6a+_0x4bc6ca(0x628)+_0x1daaab+_0x4bc6ca(0xd1c);})[_0x56ca79(0x95f)]('');_0x6f17db[_0x56ca79(0xa0c)]=_0x27f4d2,_0x6f17db[_0x56ca79(0x9c3)](_0x56ca79(0x94e))[_0x56ca79(0x8be)](_0x573cb4=>{const _0x4cf6f0=_0x56ca79;_0x573cb4[_0x4cf6f0(0x7a0)](_0x4cf6f0(0xc83),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x1ec315){const _0x2cbaba=_0x594c14,_0x8621c7=_0x1ec315[_0x2cbaba(0x35b)],_0x25c6ce=_0x8621c7[_0x2cbaba(0x50f)]('.question-editor-item');if(!_0x25c6ce)return;const _0x6573ac=parseInt(_0x25c6ce[_0x2cbaba(0x7f1)][_0x2cbaba(0x491)],0xa);if(isNaN(_0x6573ac)||!currentEditingQuizData[_0x2cbaba(0x72b)][_0x6573ac]){showMessage(_0x2cbaba(0x825));return;}const _0x377b35=currentEditingQuizData[_0x2cbaba(0x72b)][_0x6573ac];_0x8621c7[_0x2cbaba(0xa0c)]=_0x2cbaba(0x351),_0x8621c7[_0x2cbaba(0x376)]=!![];const _0x15d670=_0x2cbaba(0x864)+JSON[_0x2cbaba(0xace)](_0x377b35)+_0x2cbaba(0xcdf);let _0x50e04e;const _0x1dd58a=_0x377b35[_0x2cbaba(0x7cd)]||currentEditingQuizData['quizType'];switch(_0x1dd58a){case'short_answer':_0x50e04e={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2cbaba(0x4f0)},'imageCode':{'type':_0x2cbaba(0x4f0)}},'required':[_0x2cbaba(0x77a),_0x2cbaba(0x27b),_0x2cbaba(0x9fc)]};break;case _0x2cbaba(0x69d):default:_0x50e04e={'type':_0x2cbaba(0x192),'properties':{'questionText':{'type':_0x2cbaba(0x4f0)},'options':{'type':_0x2cbaba(0xc77),'items':{'type':_0x2cbaba(0x4f0)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x2cbaba(0x4f0)},'imageCode':{'type':_0x2cbaba(0x4f0)}},'required':['questionText',_0x2cbaba(0x9ac),_0x2cbaba(0x671),_0x2cbaba(0x9fc)]};break;}try{let _0x434e1d=await callAnalysisApi(_0x15d670,_0x50e04e);_0x434e1d[_0x2cbaba(0x9ac)]&&Array[_0x2cbaba(0x2a2)](_0x434e1d[_0x2cbaba(0x9ac)])&&(_0x434e1d[_0x2cbaba(0x9ac)]=_0x434e1d['options']['map'](_0x422045=>typeof _0x422045==='string'?_0x422045['replace'](/S(\s*[\d_]+?\s*)S/g,_0x2cbaba(0x84d)):_0x422045)),_0x377b35['imageCode']&&_0x377b35[_0x2cbaba(0x1c6)][_0x2cbaba(0x92b)](_0x2cbaba(0xcd0))&&(_0x434e1d['imageCode']=''),currentEditingQuizData[_0x2cbaba(0x72b)][_0x6573ac]={..._0x377b35,..._0x434e1d},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x23c39a){console['error'](_0x2cbaba(0x4c4),_0x23c39a),showMessage(_0x2cbaba(0x2a7)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x23d668=_0x594c14,_0x35adcb=document[_0x23d668(0x68c)](_0x23d668(0xb24));_0x35adcb[_0x23d668(0x376)]=!![],_0x35adcb[_0x23d668(0xa0c)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x4a5302=document[_0x23d668(0x68c)]('editor-quiz-topic')[_0x23d668(0x9a1)],_0xed57ea=document['querySelectorAll'](_0x23d668(0x314));let _0x4d5ea5=[];const _0x462eb5=Array[_0x23d668(0x97c)](_0xed57ea)[_0x23d668(0x345)]((_0x1908db,_0x36222a)=>{const _0x1c99f0=_0x23d668,_0x5d44cd=_0x1908db[_0x1c99f0(0x7f1)][_0x1c99f0(0xb99)],_0x24daf9=_0x1908db['querySelector']('textarea')['value'][_0x1c99f0(0xaa5)](/\n/g,_0x1c99f0(0xa8c));let _0x294805={'questionType':_0x5d44cd};const _0x6045e7=currentEditingQuizData['questions'][_0x36222a];switch(_0x5d44cd){case _0x1c99f0(0x69d):_0x294805['questionText']=_0x24daf9;const _0x585479=_0x1908db[_0x1c99f0(0x9c3)](_0x1c99f0(0x3d6));_0x294805[_0x1c99f0(0x9ac)]=Array[_0x1c99f0(0x97c)](_0x585479)[_0x1c99f0(0x345)](_0x4a170a=>_0x4a170a[_0x1c99f0(0x9a1)]);const _0x33e722=_0x1908db[_0x1c99f0(0x817)]('input[type=\x22radio\x22]:checked');_0x294805[_0x1c99f0(0x671)]=_0x33e722?parseInt(_0x33e722[_0x1c99f0(0x9a1)]):0x0;break;case _0x1c99f0(0xa97):_0x294805[_0x1c99f0(0x77a)]=_0x24daf9,_0x294805[_0x1c99f0(0x27b)]=_0x1908db[_0x1c99f0(0x817)](_0x1c99f0(0xc85))[_0x1c99f0(0x9a1)];break;case _0x1c99f0(0x8b0):_0x294805[_0x1c99f0(0x77a)]=_0x24daf9;const _0x22dbe5=_0x1908db['querySelector'](_0x1c99f0(0x81f));_0x294805[_0x1c99f0(0xbfb)]=_0x22dbe5?_0x22dbe5[_0x1c99f0(0x9a1)]==='true':!![];break;case _0x1c99f0(0x37f):_0x294805[_0x1c99f0(0x346)]=_0x24daf9;const _0x47ea68=_0x1908db[_0x1c99f0(0x817)](_0x1c99f0(0x4ad));_0x294805['correctResponse']=_0x47ea68?_0x47ea68[_0x1c99f0(0x9a1)]:'',_0x4d5ea5['push'](_0x294805['correctResponse']);break;default:_0x294805[_0x1c99f0(0x77a)]=_0x24daf9;break;}return{..._0x6045e7,..._0x294805};});_0x4d5ea5[_0x23d668(0x757)]>0x0&&_0x462eb5[_0x23d668(0x8be)](_0x79a795=>{const _0x59b404=_0x23d668;_0x79a795[_0x59b404(0x7cd)]===_0x59b404(0x37f)&&(_0x79a795['allResponses']=_0x4d5ea5);});const _0x2a9e77=currentEditingQuizData['id'],_0xf63c4d=doc(db,_0x23d668(0x632)+appId+_0x23d668(0x21f),_0x2a9e77);await updateDoc(_0xf63c4d,{'topic':_0x4a5302,'questions':_0x462eb5}),document[_0x23d668(0x68c)](_0x23d668(0x284))['classList'][_0x23d668(0x2de)](_0x23d668(0x1dc)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x2a9e77));}catch(_0x95f88){console['error']('Error\x20saving\x20quiz\x20edits:',_0x95f88),showMessage(_0x23d668(0x949));}finally{_0x35adcb[_0x23d668(0x376)]=![],_0x35adcb[_0x23d668(0xa0c)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x46ad50){const _0x2088d2=_0x594c14;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x25ceb6=doc(db,_0x2088d2(0x632)+appId+'/public/data/quizzes',_0x46ad50),_0x4340ee=await getDoc(_0x25ceb6);if(!_0x4340ee['exists']())throw new Error(_0x2088d2(0xa07));const _0x1b0cfd={'id':_0x46ad50,..._0x4340ee[_0x2088d2(0x21d)]()},_0x3a9c31=collection(db,'artifacts/'+appId+_0x2088d2(0x21f),_0x46ad50,_0x2088d2(0xba4)),_0x4dd12f=await getDocs(_0x3a9c31);if(_0x4dd12f[_0x2088d2(0x838)]){showMessage(_0x2088d2(0x6ca));return;}const _0x26e4c2=_0x4dd12f[_0x2088d2(0x23c)][_0x2088d2(0x345)](_0x700dd2=>reGradeSingleSubmission(_0x700dd2,_0x1b0cfd));await Promise[_0x2088d2(0xd2b)](_0x26e4c2);if(_0x1b0cfd['projectId']){const _0x1b6c5f=doc(db,_0x2088d2(0x632)+appId+_0x2088d2(0x29a),_0x1b0cfd['projectId']),_0x343312=await getDoc(_0x1b6c5f);if(_0x343312[_0x2088d2(0x367)]()&&_0x343312[_0x2088d2(0x21d)]()[_0x2088d2(0xc9a)]){const _0x10b180=_0x343312[_0x2088d2(0x21d)]()['students']['map'](_0x19667f=>updateStudentProfile(_0x1b0cfd[_0x2088d2(0x618)],_0x19667f));await Promise[_0x2088d2(0xd2b)](_0x10b180);}}showMessage(_0x2088d2(0xcb6)+_0x4dd12f[_0x2088d2(0x6bb)]+_0x2088d2(0x69b));}catch(_0x5a9b99){console['error'](_0x2088d2(0xbee),_0x5a9b99),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x5a9b99[_0x2088d2(0x5f3)]);}}async function reGradeSingleSubmission(_0x2ca0e1,_0x42d317){const _0x447d26=_0x594c14,_0x182697=_0x2ca0e1[_0x447d26(0x21d)](),_0x469520=_0x182697[_0x447d26(0xc53)],_0x2ca0cc=_0x182697[_0x447d26(0x51d)]||[],_0x4ea9cc=[];for(const _0x19edc0 of _0x2ca0cc){let _0x1cab56=0x0,_0x113e5d=[],_0x480665=0x0;const _0xf8553=[];for(const _0x4aa27b of _0x19edc0['answers']){let _0x355d32;_0x4aa27b['questionId']&&(_0x355d32=_0x42d317[_0x447d26(0x72b)][_0x447d26(0xad3)](_0x7192a9=>_0x7192a9['id']===_0x4aa27b['questionId']));!_0x355d32&&_0x4aa27b['originalQuestionText']&&(_0x355d32=_0x42d317[_0x447d26(0x72b)]['find'](_0x13276e=>(_0x13276e[_0x447d26(0x346)]||_0x13276e[_0x447d26(0x77a)])===_0x4aa27b['originalQuestionText']));let _0x2cd9b2=![];if(_0x355d32){const _0x35ee84=_0x355d32['questionType']||_0x42d317[_0x447d26(0x9c1)];switch(_0x35ee84){case _0x447d26(0x69d):if(_0x355d32[_0x447d26(0x9ac)]&&_0x355d32[_0x447d26(0x671)]<_0x355d32[_0x447d26(0x9ac)][_0x447d26(0x757)]){const _0x222860=_0x355d32[_0x447d26(0x9ac)][_0x355d32[_0x447d26(0x671)]];_0x2cd9b2=_0x4aa27b[_0x447d26(0x983)]===_0x222860;}break;case _0x447d26(0x8b0):const _0x1bd639=_0x4aa27b['answer']===!![]||_0x4aa27b[_0x447d26(0x8da)]===_0x447d26(0x300);_0x2cd9b2=_0x1bd639===_0x355d32[_0x447d26(0xbfb)];break;case _0x447d26(0x37f):_0x2cd9b2=_0x4aa27b['answer']===_0x355d32[_0x447d26(0x3ce)];break;case _0x447d26(0xa97):_0x2cd9b2=await gradeShortAnswer(_0x4aa27b[_0x447d26(0x8da)],_0x355d32);break;default:_0x2cd9b2=_0x4aa27b['isCorrect'];break;}}if(_0x2cd9b2){_0x1cab56++,_0x480665++;if(_0x480665===0x3)_0x113e5d[_0x447d26(0x861)](BADGES[_0x447d26(0x502)]['id']);}else _0x480665=0x0;_0xf8553[_0x447d26(0x861)]({..._0x4aa27b,'isCorrect':_0x2cd9b2});}let _0xd1aae1=_0x1cab56*0xa;_0x1cab56===_0x42d317['questions'][_0x447d26(0x757)]&&(_0xd1aae1+=0x32,_0x113e5d[_0x447d26(0x861)](BADGES[_0x447d26(0xb7b)]['id'])),_0x4ea9cc[_0x447d26(0x861)]({..._0x19edc0,'score':_0x1cab56,'points':_0xd1aae1,'badges':Array[_0x447d26(0x97c)](new Set(_0x113e5d)),'answers':_0xf8553});}const _0x4cb0bf=_0x4ea9cc['length']>0x0?_0x4ea9cc[0x0][_0x447d26(0xc54)]:0x0,_0x11224f=Math[_0x447d26(0x2d3)](..._0x4ea9cc[_0x447d26(0x345)](_0x54d597=>_0x54d597[_0x447d26(0xc54)])),_0x590a36=_0x4ea9cc[_0x447d26(0x757)]>0x0?_0x4ea9cc[_0x4ea9cc[_0x447d26(0x757)]-0x1]['score']:0x0,_0x5f50fb=_0x4ea9cc['length']>0x0?_0x4ea9cc[_0x4ea9cc[_0x447d26(0x757)]-0x1][_0x447d26(0x650)]:0x0,_0x15da2c=doc(db,_0x447d26(0x632)+appId+_0x447d26(0x6e7)+_0x42d317['id']+_0x447d26(0x21e),_0x469520);await updateDoc(_0x15da2c,{'attempts':_0x4ea9cc,'firstScore':_0x4cb0bf,'bestScore':_0x11224f,'latestScore':_0x590a36,'points':_0x5f50fb});}function cleanupQuizOptions(_0x467b20){const _0x678a6=_0x594c14,_0x4c1d1a=(_0x5a8539,_0x83dc9)=>_0x83dc9===0x0?_0x5a8539:_0x4c1d1a(_0x83dc9,_0x5a8539%_0x83dc9),_0x11b2ea=_0x171445=>{const _0x81a385=_0x27d0;if(typeof _0x171445!=='string')return null;_0x171445=_0x171445[_0x81a385(0x99c)]();const _0x3d5e76=_0x171445['split'](/[ /]/)[_0x81a385(0x298)](_0x11181c=>_0x11181c!=='');if(_0x3d5e76[_0x81a385(0x757)]===0x3)return parseInt(_0x3d5e76[0x0])+parseInt(_0x3d5e76[0x1])/parseInt(_0x3d5e76[0x2]);else{if(_0x3d5e76['length']===0x2)return parseInt(_0x3d5e76[0x0])/parseInt(_0x3d5e76[0x1]);else{if(_0x3d5e76[_0x81a385(0x757)]===0x1&&!isNaN(_0x3d5e76[0x0]))return parseFloat(_0x3d5e76[0x0]);}}return null;},_0x1bcfff=_0x5b70df=>{const _0x165ae1=_0x27d0;if(typeof _0x5b70df!==_0x165ae1(0xb67))return _0x5b70df;const _0x534a77=_0x5b70df[_0x165ae1(0x28b)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x534a77){const _0x1db002=parseInt(_0x534a77[0x1]);let _0x4a7de6=parseInt(_0x534a77[0x2]),_0x2ffea1=parseInt(_0x534a77[0x3]);const _0x2ac01b=_0x4c1d1a(_0x4a7de6,_0x2ffea1);_0x4a7de6/=_0x2ac01b,_0x2ffea1/=_0x2ac01b;if(_0x2ffea1===0x1)return(_0x1db002+_0x4a7de6)[_0x165ae1(0x3d0)]();return _0x1db002+'\x20'+_0x4a7de6+'/'+_0x2ffea1;}return _0x5b70df;};return _0x467b20&&_0x467b20[_0x678a6(0x72b)]&&_0x467b20[_0x678a6(0x72b)][_0x678a6(0x8be)](_0x18eefb=>{const _0x175929=_0x678a6;if(_0x18eefb[_0x175929(0x7cd)]===_0x175929(0x69d)&&_0x18eefb[_0x175929(0x9ac)]){const _0x5ad0e5=new Map(),_0x432a5a=_0x18eefb[_0x175929(0x9ac)][_0x18eefb[_0x175929(0x671)]];_0x18eefb[_0x175929(0x9ac)]['forEach'](_0x35c6f8=>{const _0xcd780b=_0x175929,_0x24b5e7=_0x1bcfff(_0x35c6f8),_0x5cbd54=_0x11b2ea(_0x24b5e7);_0x5cbd54!==null&&!_0x5ad0e5['has'](_0x5cbd54)&&_0x5ad0e5[_0xcd780b(0x9f2)](_0x5cbd54,_0x24b5e7);}),_0x18eefb[_0x175929(0x9ac)]=Array[_0x175929(0x97c)](_0x5ad0e5[_0x175929(0x694)]());const _0x40d2ec=_0x18eefb[_0x175929(0x9ac)][_0x175929(0x1e3)](_0x2d2b13=>_0x2d2b13===_0x1bcfff(_0x432a5a));_0x18eefb['correctAnswerIndex']=_0x40d2ec!==-0x1?_0x40d2ec:0x0;}}),_0x467b20;}function showGameStartConfirmationModal(_0x2e4ad4,_0x29b0e4,_0x57cb38){const _0x1ec16c=_0x594c14,_0x575975=document[_0x1ec16c(0x68c)](_0x1ec16c(0x332));document[_0x1ec16c(0x68c)](_0x1ec16c(0x98e))[_0x1ec16c(0xb4b)]=_0x1ec16c(0x6e9)+_0x57cb38,document[_0x1ec16c(0x68c)](_0x1ec16c(0x65c))[_0x1ec16c(0x9a1)]=_0x2e4ad4,document[_0x1ec16c(0x68c)](_0x1ec16c(0xa16))[_0x1ec16c(0x9a1)]=_0x29b0e4,document['getElementById'](_0x1ec16c(0x843))[_0x1ec16c(0x9cb)]=!![],_0x575975[_0x1ec16c(0x936)][_0x1ec16c(0x373)](_0x1ec16c(0x1dc));}async function saveGameResultsAsSubmissions(_0x4ae9fe){const _0x3f1434=_0x594c14;console[_0x3f1434(0x3e0)](_0x3f1434(0x3bb),_0x4ae9fe);const _0x4ad24b=_0x4ae9fe[_0x3f1434(0x8c6)];let _0xebc48b=[];if(_0x4ae9fe['players'])_0xebc48b=Object[_0x3f1434(0x82c)](_0x4ae9fe[_0x3f1434(0xb2c)])[_0x3f1434(0x345)](([_0x2b5f25,_0x23a18d])=>({'name':_0x2b5f25,..._0x23a18d}));else{if(_0x4ae9fe[_0x3f1434(0xcd6)])Object[_0x3f1434(0x694)](_0x4ae9fe[_0x3f1434(0xcd6)])[_0x3f1434(0x8be)](_0x587afe=>{const _0x3d318b=_0x3f1434;_0x587afe[_0x3d318b(0x227)][_0x3d318b(0x8be)](_0x100c14=>{const _0x1d8005=_0x3d318b;_0xebc48b[_0x1d8005(0x861)]({'name':_0x100c14,'score':_0x587afe[_0x1d8005(0xc54)],'answers':_0x587afe[_0x1d8005(0x576)]});});});else _0x4ae9fe[_0x3f1434(0x79c)]&&Object['entries'](_0x4ae9fe[_0x3f1434(0x79c)])[_0x3f1434(0x8be)](([_0x108d0f,_0x5242d9])=>{const _0x432ab7=_0x3f1434;_0xebc48b[_0x432ab7(0x861)]({'name':_0x108d0f,..._0x5242d9});});}if(_0xebc48b['length']===0x0){console[_0x3f1434(0x3e0)](_0x3f1434(0x401));return;}const _0x5c23f7=_0x4ae9fe[_0x3f1434(0x292)]?.['questions'][_0x3f1434(0x757)]||currentQuizData[_0x3f1434(0x72b)][_0x3f1434(0x757)],_0x5e824e=writeBatch(db);for(const _0x23d8e8 of _0xebc48b){const _0x38a432=doc(db,_0x3f1434(0x632)+appId+_0x3f1434(0x6e7)+_0x4ad24b+'/submissions',_0x23d8e8[_0x3f1434(0xb31)]),_0x2d3a1d=(_0x23d8e8[_0x3f1434(0x576)]||[])[_0x3f1434(0x298)](_0x29705a=>_0x29705a[_0x3f1434(0xa60)])[_0x3f1434(0x757)];let _0x5e3887=_0x2d3a1d;_0x4ae9fe[_0x3f1434(0x9bb)]&&_0x23d8e8['answers']&&_0x23d8e8[_0x3f1434(0x576)]['forEach'](_0x5938bd=>{const _0x5da12f=_0x3f1434;if(_0x5938bd[_0x5da12f(0xa60)]&&(_0x5938bd[_0x5da12f(0xb80)]===!![]||_0x5938bd['wasConfident']===_0x5da12f(0x894)))_0x5e3887+=0x1;else!_0x5938bd[_0x5da12f(0xa60)]&&(_0x5938bd['wasConfident']===!![]||_0x5938bd[_0x5da12f(0xb80)]==='confident')&&(_0x5e3887-=0x1);});_0x5c23f7>0x0&&_0x2d3a1d===_0x5c23f7&&(_0x5e3887+=0x1);const _0x57df6d={'score':_0x2d3a1d,'points':_0x5e3887,'badges':_0x23d8e8[_0x3f1434(0x57c)]||[],'submittedAt':new Date()[_0x3f1434(0xa81)](),'answers':(_0x23d8e8[_0x3f1434(0x576)]||[])[_0x3f1434(0x345)](_0x50a7e5=>({'questionId':_0x50a7e5[_0x3f1434(0x512)],'answer':_0x50a7e5[_0x3f1434(0x8da)],'answerText':_0x50a7e5[_0x3f1434(0x983)],'isCorrect':_0x50a7e5['isCorrect'],'originalQuestionText':_0x50a7e5[_0x3f1434(0x901)],'wasConfident':_0x50a7e5[_0x3f1434(0xb80)]}))},_0x4a3051=await getDoc(_0x38a432),_0x39b1fa=_0x4a3051['exists']()?_0x4a3051[_0x3f1434(0x21d)]():{},_0x4c667a=_0x39b1fa[_0x3f1434(0x3fe)]||0x0,_0x239904=_0x39b1fa[_0x3f1434(0x51d)]||[],_0x34a4aa={'studentName':_0x23d8e8[_0x3f1434(0xb31)],'totalQuestions':_0x5c23f7,'attempts':arrayUnion(_0x57df6d),'latestScore':_0x2d3a1d,'points':_0x5e3887,'latestSubmittedAt':_0x57df6d[_0x3f1434(0x3ee)],'bestScore':Math[_0x3f1434(0x2d3)](_0x4c667a,_0x2d3a1d),'firstScore':_0x239904[_0x3f1434(0x757)]===0x0?_0x2d3a1d:_0x39b1fa[_0x3f1434(0x237)]||0x0};_0x5e824e[_0x3f1434(0x9f2)](_0x38a432,_0x34a4aa,{'merge':!![]});}try{await _0x5e824e[_0x3f1434(0x555)](),showMessage(_0x3f1434(0x8d2)+_0xebc48b[_0x3f1434(0x757)]+_0x3f1434(0xd0e));const _0x49a1f8=_0x4ae9fe[_0x3f1434(0x292)]?.[_0x3f1434(0x618)]||currentQuizData?.[_0x3f1434(0x618)]||currentProjectId;if(_0x49a1f8){const _0x787e27=[...new Set(_0xebc48b['map'](_0x46cee7=>_0x46cee7[_0x3f1434(0xb31)]))];for(const _0x47fb2c of _0x787e27){await updateStudentProfile(_0x49a1f8,_0x47fb2c);}}}catch(_0x192bb0){console['error']('Error\x20saving\x20game\x20results:',_0x192bb0),showMessage(_0x3f1434(0x90b));}}async function saveQuiz(_0x52edda=null,_0x3ad541=null){const _0x4f7359=_0x594c14,_0x409f01=_0x52edda||currentProjectId;if(!_0x409f01){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x4f7359(0xaf4));return;}const _0x5babc4=document['getElementById'](_0x4f7359(0x466));_0x5babc4[_0x4f7359(0x376)]=!![],_0x5babc4[_0x4f7359(0xa0c)]=_0x4f7359(0x870);const _0x17add0=document[_0x4f7359(0x68c)](_0x4f7359(0x676))[_0x4f7359(0x9cb)];let _0x4e2b5f=document['getElementById'](_0x4f7359(0xb1e))[_0x4f7359(0x558)][_0x4f7359(0x99c)]();_0x17add0&&!_0x4e2b5f[_0x4f7359(0x997)](_0x4f7359(0x28c))&&(_0x4e2b5f='(ก่อนเรียน)\x20'+_0x4e2b5f);try{const _0xcd5f3e={'resultsDisplay':document['getElementById']('results-display-select')[_0x4f7359(0x9a1)],'shuffle':document[_0x4f7359(0x68c)](_0x4f7359(0x43d))[_0x4f7359(0x9a1)],'timerMode':document[_0x4f7359(0x68c)](_0x4f7359(0x5cd))[_0x4f7359(0x9a1)],'timerDuration':parseInt(document[_0x4f7359(0x68c)](_0x4f7359(0xc0e))[_0x4f7359(0x9a1)])||0xa,'passingScore':parseInt(document[_0x4f7359(0x68c)](_0x4f7359(0x66c))['value'])||0x0,'isAdaptive':document[_0x4f7359(0x68c)]('adaptive-quiz-checkbox')[_0x4f7359(0x9cb)],'loopUntilPass':document[_0x4f7359(0x68c)]('loop-until-pass-checkbox')[_0x4f7359(0x9cb)]},_0x59717f=(currentQuizData[_0x4f7359(0x72b)]||[])[_0x4f7359(0x345)]((_0xd5c694,_0x31892e)=>{const _0x22fb1a=_0x4f7359,_0x32781c=document['getElementById'](_0x22fb1a(0x255))[_0x22fb1a(0x9a1)],_0x1c0e19={'id':'q_'+Date['now']()+'_'+_0x31892e,'questionText':_0xd5c694[_0x22fb1a(0x77a)]||'','explanation':_0xd5c694[_0x22fb1a(0x9fc)]||_0x22fb1a(0xa1f),'questionType':_0xd5c694[_0x22fb1a(0x7cd)]||_0x32781c,'imageCode':_0xd5c694[_0x22fb1a(0x1c6)]||null};return(_0x1c0e19[_0x22fb1a(0x7cd)]===_0x22fb1a(0x69d)||_0x1c0e19['questionType']===_0x22fb1a(0x73d)||_0x1c0e19['questionType']===_0x22fb1a(0xa63)&&_0xd5c694[_0x22fb1a(0x9ac)])&&(_0x1c0e19['options']=_0xd5c694['options']||[],_0x1c0e19[_0x22fb1a(0x671)]=_0xd5c694[_0x22fb1a(0x671)]!==undefined?_0xd5c694[_0x22fb1a(0x671)]:0x0),(_0x1c0e19[_0x22fb1a(0x7cd)]===_0x22fb1a(0xa97)||_0x1c0e19[_0x22fb1a(0x7cd)]==='fill_in_no_choices'||_0x1c0e19['questionType']===_0x22fb1a(0xa63)&&_0xd5c694['idealAnswer'])&&(_0x1c0e19['idealAnswer']=_0xd5c694[_0x22fb1a(0x27b)]||''),_0x1c0e19[_0x22fb1a(0x7cd)]===_0x22fb1a(0x8b0)&&(_0x1c0e19['correctAnswer']=_0xd5c694[_0x22fb1a(0xbfb)]===!![]),_0x1c0e19[_0x22fb1a(0x7cd)]===_0x22fb1a(0x37f)&&(_0x1c0e19[_0x22fb1a(0x346)]=_0xd5c694[_0x22fb1a(0x346)]||'',_0x1c0e19[_0x22fb1a(0x3ce)]=_0xd5c694[_0x22fb1a(0x3ce)]||'',_0x1c0e19[_0x22fb1a(0xcf5)]=_0xd5c694[_0x22fb1a(0xcf5)]||[]),_0x1c0e19;}),_0x4cb7c9={'topic':_0x4e2b5f,'quizType':currentQuizData['quizType']||_0x4f7359(0x69d),'questions':_0x59717f,'projectId':_0x409f01,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x4f7359(0x323),'settings':_0xcd5f3e,'quizMode':_0x17add0?_0x4f7359(0x5de):_0x4f7359(0xc33),'pairedQuizId':null,'lessonPlan':null};let _0x4fa13d;while(!![]){_0x4fa13d=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x4f7359(0x3d0)]();const _0x50938f=await getDoc(doc(db,_0x4f7359(0x632)+appId+_0x4f7359(0x21f),_0x4fa13d));if(!_0x50938f[_0x4f7359(0x367)]())break;}await setDoc(doc(db,_0x4f7359(0x632)+appId+_0x4f7359(0x21f),_0x4fa13d),_0x4cb7c9);if(_0x3ad541&&currentBlueprintProjectId){console[_0x4f7359(0x3e0)]('Auto-linking\x20new\x20quiz\x20'+_0x4fa13d+_0x4f7359(0x9ee)+_0x3ad541);try{const _0x4a3ce7=doc(db,'artifacts/'+appId+_0x4f7359(0xa90),currentBlueprintProjectId);await updateDoc(_0x4a3ce7,{[_0x4f7359(0x80f)+_0x3ad541+_0x4f7359(0x9d0)]:arrayUnion(_0x4fa13d)});}catch(_0x5c805b){console[_0x4f7359(0x4e5)](_0x4f7359(0x943),_0x5c805b);}}currentQuizData[_0x4f7359(0xbab)]=_0xcd5f3e,currentQuizData['id']=_0x4fa13d;const _0x32711c=document[_0x4f7359(0x68c)](_0x4f7359(0x660));_0x32711c[_0x4f7359(0xa0c)]=_0x4f7359(0x6d3)+_0x4fa13d+_0x4f7359(0x6ef),document['getElementById'](_0x4f7359(0x7de))['addEventListener'](_0x4f7359(0xc83),()=>copyTextToClipboard(_0x4fa13d,_0x4f7359(0x33e))),document['getElementById'](_0x4f7359(0x3a0))[_0x4f7359(0x7a0)](_0x4f7359(0xc83),()=>handleStartLiveRace(_0x4fa13d)),document[_0x4f7359(0x68c)](_0x4f7359(0x9cd))[_0x4f7359(0x7a0)](_0x4f7359(0xc83),()=>startPresentation(currentQuizData)),document[_0x4f7359(0x68c)]('admin-try-quiz-btn')[_0x4f7359(0x7a0)](_0x4f7359(0xc83),startAdminTest),showMessage(_0x4f7359(0x39c));}catch(_0x595654){console[_0x4f7359(0x4e5)](_0x4f7359(0x40f),_0x595654),showMessage(_0x4f7359(0xb79));}finally{_0x5babc4[_0x4f7359(0x376)]=![],_0x5babc4['innerHTML']=_0x4f7359(0xa1b);}}function promptForProjectAndSave(){const _0x251e43=_0x594c14,_0x99c544=document[_0x251e43(0x68c)](_0x251e43(0x1f0)),_0x458e2c=document[_0x251e43(0x68c)](_0x251e43(0x903)),_0x4f963b=_0x99c544['querySelector']('h3'),_0x512d04=document[_0x251e43(0x68c)](_0x251e43(0xcb0));_0x4f963b['textContent']=_0x251e43(0x77c),_0x512d04[_0x251e43(0xb4b)]=_0x251e43(0x449);allProjects[_0x251e43(0x757)]===0x0?(_0x458e2c[_0x251e43(0xa0c)]=_0x251e43(0x3dd),_0x512d04[_0x251e43(0x376)]=!![]):(_0x458e2c['innerHTML']=allProjects[_0x251e43(0x345)](_0x5505a0=>_0x251e43(0x4a8)+_0x5505a0['id']+'\x22>'+_0x5505a0['projectName']+_0x251e43(0x882))[_0x251e43(0x95f)](''),_0x512d04[_0x251e43(0x376)]=![]);_0x99c544[_0x251e43(0x936)][_0x251e43(0x373)](_0x251e43(0x1dc));const _0x3437dc=()=>{const _0x38a5e1=_0x251e43,_0x1d4963=_0x458e2c[_0x38a5e1(0x9a1)];_0x1d4963?(currentProjectId=_0x1d4963,_0x99c544['classList'][_0x38a5e1(0x2de)]('hidden'),saveQuiz(),_0x4f963b[_0x38a5e1(0xb4b)]=_0x38a5e1(0x75c),_0x512d04[_0x38a5e1(0xb4b)]='ย้าย',_0x512d04['removeEventListener']('click',_0x3437dc),_0x512d04[_0x38a5e1(0x7a0)](_0x38a5e1(0xc83),confirmMoveQuiz)):showMessage(_0x38a5e1(0xc97));};_0x512d04[_0x251e43(0xbb8)](_0x251e43(0xc83),confirmMoveQuiz),_0x512d04[_0x251e43(0x7a0)]('click',_0x3437dc);}function copyTextToClipboard(_0x5d2ff,_0x198684){const _0x7424ee=_0x594c14,_0x558907=document[_0x7424ee(0x604)](_0x7424ee(0x7a2));_0x558907[_0x7424ee(0x9a1)]=_0x5d2ff,_0x558907[_0x7424ee(0x62a)][_0x7424ee(0xbe2)]=_0x7424ee(0x3c9),_0x558907['style'][_0x7424ee(0x311)]='0',document['body'][_0x7424ee(0x745)](_0x558907),_0x558907[_0x7424ee(0x49f)](),_0x558907[_0x7424ee(0xb2b)]();try{const _0x44191a=document[_0x7424ee(0x54c)](_0x7424ee(0x58e));showMessage(_0x44191a?_0x198684:_0x7424ee(0xcb7));}catch(_0x1d0e84){showMessage(_0x7424ee(0xcb7)),console[_0x7424ee(0x4e5)]('Copy\x20command\x20failed',_0x1d0e84);}document[_0x7424ee(0xbd0)][_0x7424ee(0x7ca)](_0x558907);}function listenForProjectQuizzes(_0x4de2fb){const _0x637298=_0x594c14,_0x1e6331=collection(db,_0x637298(0x632)+appId+_0x637298(0x21f)),_0x6fa546=query(_0x1e6331,where(_0x637298(0x618),'==',_0x4de2fb));unsubscribeQuizzesListener=onSnapshot(_0x6fa546,async _0x1ee7b7=>{const _0x545a62=_0x637298;allQuizzes=_0x1ee7b7[_0x545a62(0x23c)][_0x545a62(0x345)](_0xec3fdf=>({'id':_0xec3fdf['id'],..._0xec3fdf['data']()})),renderQuizzes();},_0x5a2ee3=>{const _0x503790=_0x637298;console['error'](_0x503790(0xb0e),_0x5a2ee3),document[_0x503790(0x68c)]('project-quizzes-list')[_0x503790(0xa0c)]=_0x503790(0x3e6);});}async function renderQuizzes(){const _0x2f4fe7=_0x594c14,_0xa0e0e5=document[_0x2f4fe7(0x68c)](_0x2f4fe7(0x666)),_0x275204=document[_0x2f4fe7(0x68c)](_0x2f4fe7(0x6b5))[_0x2f4fe7(0x9a1)]['toLowerCase']();let _0x446e38;currentProjectId===_0x2f4fe7(0x82f)?_0x446e38=starredQuizzes:_0x446e38=allQuizzes;let _0x10adc6=_0x446e38[_0x2f4fe7(0x298)](_0x2d7433=>_0x2d7433[_0x2f4fe7(0x72e)][_0x2f4fe7(0x986)]()[_0x2f4fe7(0x92b)](_0x275204));_0x10adc6[_0x2f4fe7(0x387)]((_0x29f653,_0x26e2c5)=>new Date(_0x26e2c5[_0x2f4fe7(0x24f)])-new Date(_0x29f653[_0x2f4fe7(0x24f)]));if(_0x10adc6[_0x2f4fe7(0x757)]===0x0){_0xa0e0e5['innerHTML']=_0x2f4fe7(0x1f4);return;}const _0x2026c2={},_0xcd1681=_0x10adc6['map'](async _0xf8ca08=>{const _0x406626=_0x2f4fe7,_0x58ff3c=collection(db,_0x406626(0x632)+appId+'/public/data/quizzes/'+_0xf8ca08['id']+_0x406626(0x21e)),_0x58d94c=await getDocs(_0x58ff3c);_0x2026c2[_0xf8ca08['id']]=_0x58d94c[_0x406626(0x6bb)];});await Promise[_0x2f4fe7(0xd2b)](_0xcd1681);let _0x46f42d='';_0x10adc6['forEach'](_0x56071c=>{const _0x299b06=_0x2f4fe7,_0x2c0b7a=_0x2026c2[_0x56071c['id']]||0x0,_0x5dcccb=_0x56071c[_0x299b06(0xb9c)]||_0x299b06(0x323),_0x4b82b3=_0x56071c[_0x299b06(0xbab)]?.['timerMode']||_0x299b06(0xa9b);let _0x3cb0f3='',_0x1df74c='';const _0x4f946c=new Date();let _0x163ec7=_0x5dcccb;if(_0x5dcccb==='scheduled'){const _0x36dddc=_0x56071c[_0x299b06(0x935)]?new Date(_0x56071c['startTime']):null,_0x501972=_0x56071c[_0x299b06(0x731)]?new Date(_0x56071c['endTime']):null;if(_0x501972&&_0x4f946c>_0x501972)_0x163ec7=_0x299b06(0x715);else _0x36dddc&&_0x4f946c<_0x36dddc?_0x163ec7=_0x299b06(0xa22):_0x163ec7=_0x299b06(0x323);}switch(_0x163ec7){case _0x299b06(0x715):_0x3cb0f3='ปิดใช้งาน',_0x1df74c=_0x299b06(0xc44);break;case _0x299b06(0xa22):_0x3cb0f3=_0x299b06(0x468),_0x1df74c=_0x299b06(0x75a);break;case _0x299b06(0x323):_0x3cb0f3=_0x4b82b3!=='none'?_0x299b06(0x549):'เปิดใช้งาน',_0x1df74c='text-green-700\x20bg-green-100';break;default:_0x3cb0f3=_0x299b06(0x930),_0x1df74c='text-green-700\x20bg-green-100';break;}let _0x37d156='';const _0x2c9c63={'day':_0x299b06(0x4df),'month':_0x299b06(0x4df),'year':_0x299b06(0x87f),'hour':_0x299b06(0x4df),'minute':_0x299b06(0x4df),'hour12':![]};if(_0x5dcccb===_0x299b06(0x478)){if(_0x56071c[_0x299b06(0x935)])_0x37d156+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x56071c[_0x299b06(0x935)])['toLocaleString'](_0x299b06(0x475),_0x2c9c63)+_0x299b06(0x4a1);if(_0x56071c[_0x299b06(0x731)])_0x37d156+=_0x299b06(0x72c)+new Date(_0x56071c[_0x299b06(0x731)])[_0x299b06(0x6db)](_0x299b06(0x475),_0x2c9c63)+_0x299b06(0x4a1);}let _0x50d010='';if(_0x56071c[_0x299b06(0xc40)]){const _0x352392=allQuizzes['find'](_0x259e91=>_0x259e91['id']===_0x56071c[_0x299b06(0xc40)]);if(_0x352392){let _0x1ccf8d,_0x1623d8;new Date(_0x56071c[_0x299b06(0x24f)])<new Date(_0x352392[_0x299b06(0x24f)])?(_0x1ccf8d=_0x56071c['id'],_0x1623d8=_0x352392['id']):(_0x1ccf8d=_0x352392['id'],_0x1623d8=_0x56071c['id']),_0x50d010+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1623d8+'\x22\x20data-pre-test-id=\x22'+_0x1ccf8d+_0x299b06(0xc4f);}}else _0x56071c[_0x299b06(0x1e7)]===_0x299b06(0x5de)&&(_0x50d010+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x56071c['id']+_0x299b06(0x703));if(_0x56071c[_0x299b06(0x1e7)]===_0x299b06(0x5de)&&_0x2c0b7a>0x0)_0x50d010+=_0x299b06(0x19c)+_0x56071c['id']+_0x299b06(0x92c);else!_0x56071c[_0x299b06(0xc40)]&&_0x56071c[_0x299b06(0x1e7)]!==_0x299b06(0x5de)&&_0x2c0b7a>0x0&&(_0x50d010+=_0x299b06(0x19c)+_0x56071c['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x439603='';_0x56071c[_0x299b06(0xc40)]?_0x439603=_0x299b06(0x341)+_0x56071c['id']+_0x299b06(0x623):_0x439603=_0x299b06(0x341)+_0x56071c['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x46f42d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x56071c['id']+_0x299b06(0x51a)+_0x56071c[_0x299b06(0x72e)]+_0x299b06(0xb08)+_0x56071c[_0x299b06(0x72b)][_0x299b06(0x757)]+_0x299b06(0x6ee)+new Date(_0x56071c[_0x299b06(0x24f)])['toLocaleString']('th-TH')+_0x299b06(0x62f)+_0x2c0b7a+_0x299b06(0x698)+_0x37d156+_0x299b06(0xb7a)+_0x1df74c+'\x22>'+_0x3cb0f3+_0x299b06(0xadc)+_0x56071c['id']+_0x299b06(0xa7e)+_0x56071c['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x56071c['isStarred']?_0x299b06(0x5ce):_0x299b06(0x223))+_0x299b06(0x522)+_0x50d010+_0x299b06(0x304)+_0x56071c['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x56071c['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x56071c['id']+_0x299b06(0x3ac)+_0x56071c['id']+_0x299b06(0xc4a)+_0x56071c['id']+_0x299b06(0x267)+_0x56071c['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x56071c['id']+'\x22\x20data-topic=\x22'+_0x56071c[_0x299b06(0x72e)]+_0x299b06(0xc62)+_0x56071c['id']+_0x299b06(0x498)+_0x56071c['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x439603+_0x299b06(0xc04)+_0x56071c['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x56071c['id']+_0x299b06(0xbc6)+_0x56071c['id']+_0x299b06(0x2a6)+_0x56071c['id']+_0x299b06(0xa6c)+_0x56071c['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x56071c['id']+_0x299b06(0x7c6)+_0x56071c['id']+_0x299b06(0x44a)+_0x56071c['id']+_0x299b06(0x18d)+_0x56071c[_0x299b06(0x72e)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x56071c['id']+_0x299b06(0xb43);}),_0xa0e0e5[_0x2f4fe7(0xa0c)]=_0x46f42d,document[_0x2f4fe7(0x9c3)](_0x2f4fe7(0x383))[_0x2f4fe7(0x8be)](_0x233035=>{const _0xc440be=_0x2f4fe7;_0x233035[_0xc440be(0x7a0)]('click',()=>{const _0x28f77a=_0xc440be,_0x228005=_0x233035[_0x28f77a(0x7f1)][_0x28f77a(0x8c6)];showQuizDetailView(_0x228005);});});}async function handleUnpairQuiz(_0x2e8116){const _0x49f241=_0x594c14,_0x1db8f6=allQuizzes[_0x49f241(0xad3)](_0x4d527e=>_0x4d527e['id']===_0x2e8116);if(!_0x1db8f6||!_0x1db8f6[_0x49f241(0xc40)]){showMessage(_0x49f241(0xb98));return;}showConfirmation(_0x49f241(0x2ca),async()=>{const _0x81da01=_0x49f241;try{const _0x498a3f=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2e8116),_0x444de7=doc(db,_0x81da01(0x632)+appId+_0x81da01(0x21f),_0x1db8f6[_0x81da01(0xc40)]),_0x26854d=writeBatch(db);_0x26854d[_0x81da01(0x195)](_0x498a3f,{'pairedQuizId':null}),_0x26854d[_0x81da01(0x195)](_0x444de7,{'pairedQuizId':null}),await _0x26854d[_0x81da01(0x555)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x306e6a){console[_0x81da01(0x4e5)](_0x81da01(0xa34),_0x306e6a),showMessage(_0x81da01(0x312));}});}function formatAndPrintLessonPlan(_0x5ad873,_0x1ee1d3){const _0x58ba0a=_0x594c14,_0x227c49=window[_0x58ba0a(0x801)]('',_0x58ba0a(0x726)),_0x5c7d79=_0x58ba0a(0x37b)+_0x1ee1d3[_0x58ba0a(0x72e)]+_0x58ba0a(0xa68)+_0x1ee1d3[_0x58ba0a(0x72e)]+_0x58ba0a(0x531)+_0x5ad873[_0x58ba0a(0x93b)][_0x58ba0a(0x345)](_0x106d60=>_0x58ba0a(0x2d8)+_0x106d60+'</li>')[_0x58ba0a(0x95f)]('')+_0x58ba0a(0x239)+_0x5ad873[_0x58ba0a(0x693)]+_0x58ba0a(0x773)+_0x5ad873['practiceProblems'][_0x58ba0a(0x345)](_0x34136a=>_0x58ba0a(0xbfd)+_0x34136a[_0x58ba0a(0x72a)]+_0x58ba0a(0xa1c)+_0x34136a['solution']+_0x58ba0a(0x260))[_0x58ba0a(0x95f)]('')+_0x58ba0a(0x7b4);_0x227c49[_0x58ba0a(0x325)][_0x58ba0a(0x526)](_0x5c7d79),_0x227c49[_0x58ba0a(0x325)][_0x58ba0a(0x63e)](),_0x227c49[_0x58ba0a(0x4f6)]=function(){setTimeout(()=>{const _0x4c8d8e=_0x27d0;_0x227c49[_0x4c8d8e(0x816)]();},0x3e8);};}async function handleAiFixFormula(_0x490112){const _0x379c31=_0x594c14,_0x2c2cb7=document[_0x379c31(0x817)](_0x379c31(0x5a0)+_0x490112+'\x22]');if(!_0x2c2cb7)return;const _0x1f847c=_0x2c2cb7[_0x379c31(0x7f1)][_0x379c31(0xb99)],_0x46ab74=_0x2c2cb7['querySelector'](_0x379c31(0x321));let _0x5858e3={'question':_0x2c2cb7['querySelector'](_0x379c31(0x7a2))[_0x379c31(0x9a1)]};switch(_0x1f847c){case'multiple_choice':_0x5858e3[_0x379c31(0x9ac)]=Array[_0x379c31(0x97c)](_0x2c2cb7[_0x379c31(0x9c3)](_0x379c31(0x3d6)))[_0x379c31(0x345)](_0x2da8e2=>_0x2da8e2[_0x379c31(0x9a1)]);break;case _0x379c31(0xa97):_0x5858e3[_0x379c31(0x27b)]=_0x2c2cb7[_0x379c31(0x817)](_0x379c31(0xc85))[_0x379c31(0x9a1)];break;case _0x379c31(0x37f):_0x5858e3['correctResponse']=_0x2c2cb7[_0x379c31(0x817)]('.correct-response-input')[_0x379c31(0x9a1)];break;}_0x46ab74[_0x379c31(0xa0c)]=_0x379c31(0x351),_0x46ab74['disabled']=!![];try{const _0x3eb1ef='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON[_0x379c31(0xace)](_0x5858e3)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x45410b={'type':_0x379c31(0x192),'properties':{'fixedData':{'type':_0x379c31(0x192),'properties':{'question':{'type':_0x379c31(0x4f0)},'options':{'type':'ARRAY','items':{'type':_0x379c31(0x4f0)}},'idealAnswer':{'type':_0x379c31(0x4f0)},'correctResponse':{'type':_0x379c31(0x4f0)}},'required':[_0x379c31(0x72a)]}},'required':[_0x379c31(0x64a)]},_0x5421fa=await callAnalysisApi(_0x3eb1ef,_0x45410b);if(_0x5421fa&&_0x5421fa['fixedData']){const _0x3e86d8=_0x5421fa['fixedData'];_0x2c2cb7[_0x379c31(0x817)](_0x379c31(0x7a2))['value']=_0x3e86d8[_0x379c31(0x72a)]||_0x5858e3['question'];switch(_0x1f847c){case _0x379c31(0x69d):_0x3e86d8[_0x379c31(0x9ac)]&&_0x3e86d8[_0x379c31(0x9ac)][_0x379c31(0x757)]>0x0&&_0x2c2cb7['querySelectorAll'](_0x379c31(0x3d6))['forEach']((_0x416aed,_0x3dd412)=>{const _0x3b0d0d=_0x379c31;_0x416aed[_0x3b0d0d(0x9a1)]=_0x3e86d8[_0x3b0d0d(0x9ac)][_0x3dd412]||_0x5858e3[_0x3b0d0d(0x9ac)][_0x3dd412];});break;case'short_answer':_0x2c2cb7[_0x379c31(0x817)](_0x379c31(0xc85))[_0x379c31(0x9a1)]=_0x3e86d8[_0x379c31(0x27b)]||_0x5858e3[_0x379c31(0x27b)];break;case _0x379c31(0x37f):_0x2c2cb7[_0x379c31(0x817)](_0x379c31(0x4ad))[_0x379c31(0x9a1)]=_0x3e86d8[_0x379c31(0x3ce)]||_0x5858e3[_0x379c31(0x3ce)];break;}if(_0x5858e3[_0x379c31(0x72a)]!==_0x3e86d8[_0x379c31(0x72a)])try{const _0x4e64c1=collection(db,_0x379c31(0x632)+appId+'/public/data/learnedFixes');await addDoc(_0x4e64c1,{'broken':_0x5858e3[_0x379c31(0x72a)],'fixed':_0x3e86d8[_0x379c31(0x72a)],'createdAt':serverTimestamp()});}catch(_0x171f08){console[_0x379c31(0x4e5)](_0x379c31(0x224),_0x171f08);}showMessage(_0x379c31(0xbd1));}else throw new Error(_0x379c31(0x704));}catch(_0x2c28f5){console['error'](_0x379c31(0x1ba),_0x2c28f5),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x46ab74[_0x379c31(0xa0c)]=_0x379c31(0x266),_0x46ab74[_0x379c31(0x376)]=![];}}async function handleGenerateLessonPlan(_0x269ade){const _0x2a5bd0=_0x594c14;showMessage(_0x2a5bd0(0x947));try{const _0xac9ab0=doc(db,_0x2a5bd0(0x632)+appId+_0x2a5bd0(0x21f),_0x269ade),_0x1f3a31=await getDoc(_0xac9ab0);if(!_0x1f3a31[_0x2a5bd0(0x367)]())throw new Error(_0x2a5bd0(0xa07));const _0x2f81c6={'id':_0x269ade,..._0x1f3a31[_0x2a5bd0(0x21d)]()},_0x5a0a4e=collection(db,'artifacts/'+appId+_0x2a5bd0(0x21f),_0x269ade,_0x2a5bd0(0xba4)),_0x382b70=await getDocs(_0x5a0a4e),_0x4a182d=_0x382b70[_0x2a5bd0(0x23c)]['map'](_0xb4a268=>_0xb4a268[_0x2a5bd0(0x21d)]());if(_0x4a182d[_0x2a5bd0(0x757)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x9e37de=calculateItemAnalysis(_0x2f81c6,_0x4a182d)['perQuestionStats'],_0x19d268=calculateDistractorAnalysis(_0x2f81c6,_0x4a182d),_0x3fc813=_0x14a45e=>{const _0x624aaf=_0x2a5bd0;if(!_0x14a45e)return'';return _0x14a45e[_0x624aaf(0xaa5)](/\\/g,'\x5c\x5c')[_0x624aaf(0xaa5)](/"/g,'\x5c\x22')[_0x624aaf(0xaa5)](/\n/g,'\x5cn');};let _0x28d785=_0x2a5bd0(0x972);_0x2f81c6[_0x2a5bd0(0x72b)][_0x2a5bd0(0x8be)]((_0x2cbe3d,_0x3c0265)=>{const _0x18d919=_0x2a5bd0,_0x12452c=_0x9e37de[_0x3c0265]?.['p'][_0x18d919(0x724)](0x2)||_0x18d919(0xbe3),_0x1c98e8=_0x9e37de[_0x3c0265]?.['r']['toFixed'](0x2)||_0x18d919(0xbe3),_0x3acc42=_0x3fc813(_0x2cbe3d['questionText']||_0x2cbe3d['stem']);_0x28d785+=_0x18d919(0xadf)+(_0x3c0265+0x1)+_0x18d919(0x4aa)+_0x12452c+_0x18d919(0x8a5)+_0x1c98e8+'):\x20'+_0x3acc42+'\x5cn';if(_0x2cbe3d['questionType']===_0x18d919(0x69d)&&_0x19d268[_0x3c0265]){const _0x32beb4=_0x19d268[_0x3c0265],_0x332741=Object[_0x18d919(0x2e8)](_0x32beb4)[_0x18d919(0x298)](_0x140787=>parseInt(_0x140787)!==_0x2cbe3d['correctAnswerIndex'])[_0x18d919(0x387)]((_0x3e3757,_0x3fc57c)=>_0x32beb4[_0x3fc57c][_0x18d919(0x46f)]-_0x32beb4[_0x3e3757][_0x18d919(0x46f)])[0x0];if(_0x332741&&_0x32beb4[_0x332741][_0x18d919(0x46f)]>0x0){const _0x2b81d6=_0x3fc813(_0x32beb4[_0x332741]['text']);_0x28d785+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x2b81d6+_0x18d919(0xa8b);}}});const _0x934f4a=_0x2a5bd0(0xa14)+_0x2f81c6['topic']+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x28d785+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xd2eaa7={'type':'OBJECT','properties':{'learningGaps':{'type':_0x2a5bd0(0xc77),'items':{'type':_0x2a5bd0(0x4f0)}},'teachingContent':{'type':_0x2a5bd0(0x4f0)},'practiceProblems':{'type':_0x2a5bd0(0xc77),'items':{'type':_0x2a5bd0(0x192),'properties':{'question':{'type':_0x2a5bd0(0x4f0)},'solution':{'type':_0x2a5bd0(0x4f0)}}}}},'required':[_0x2a5bd0(0x93b),_0x2a5bd0(0x693),_0x2a5bd0(0x2d9)]},_0xd0be19=await callAnalysisApi(_0x934f4a,_0xd2eaa7);await updateDoc(_0xac9ab0,{'lessonPlan':_0xd0be19});const _0x8a34cc=_0x2a5bd0(0x91c)+_0x2f81c6[_0x2a5bd0(0x72e)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0xd0be19[_0x2a5bd0(0x93b)][_0x2a5bd0(0x345)](_0x569ac4=>_0x2a5bd0(0x2d8)+_0x569ac4+_0x2a5bd0(0x890))['join']('')+_0x2a5bd0(0x728)+_0xd0be19[_0x2a5bd0(0x693)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0xd0be19[_0x2a5bd0(0x2d9)][_0x2a5bd0(0x345)](_0x28a129=>_0x2a5bd0(0xb72)+_0x28a129[_0x2a5bd0(0x72a)]+_0x2a5bd0(0xb14)+_0x28a129[_0x2a5bd0(0xa2f)]+_0x2a5bd0(0x412))['join']('')+_0x2a5bd0(0x200);document[_0x2a5bd0(0x68c)]('lesson-plan-title')['textContent']=_0x2a5bd0(0x7ad)+_0x2f81c6[_0x2a5bd0(0x72e)],document[_0x2a5bd0(0x68c)](_0x2a5bd0(0xa04))[_0x2a5bd0(0xa0c)]=_0x8a34cc,document[_0x2a5bd0(0x68c)](_0x2a5bd0(0x3f0))[_0x2a5bd0(0x936)][_0x2a5bd0(0x373)]('hidden');if(window[_0x2a5bd0(0x8e9)])MathJax[_0x2a5bd0(0x2e2)]();messageModal[_0x2a5bd0(0x936)]['add']('hidden');}catch(_0x2279a1){console[_0x2a5bd0(0x4e5)]('Error\x20generating\x20lesson\x20plan:',_0x2279a1),showMessage(_0x2a5bd0(0x3ea)+_0x2279a1['message']);}}async function handleDuplicateQuiz(_0x1e2712){const _0x2972f3=_0x594c14;try{const _0x18b968=doc(db,_0x2972f3(0x632)+appId+_0x2972f3(0x21f),_0x1e2712),_0x57632c=await getDoc(_0x18b968);if(_0x57632c['exists']()){const _0x396ccd=_0x57632c['data']();let _0x4a8706='',_0x39ca94=_0x2972f3(0xc33),_0x10c11f=null;if(_0x396ccd[_0x2972f3(0x1e7)]==='pre-test'){let _0x1b0141=_0x396ccd[_0x2972f3(0x72e)][_0x2972f3(0xaa5)](_0x2972f3(0x28c),'')['trim']();_0x4a8706='(หลังเรียน)\x20'+_0x1b0141,_0x39ca94=_0x2972f3(0x443),_0x10c11f=_0x1e2712;}else _0x4a8706=_0x2972f3(0x9ea)+_0x396ccd['topic'];const _0x3b2cf3={..._0x396ccd,'topic':_0x4a8706,'createdAt':new Date()[_0x2972f3(0xa81)](),'quizMode':_0x39ca94,'pairedQuizId':_0x10c11f};let _0x4d11fd;while(!![]){_0x4d11fd=Math[_0x2972f3(0xa3c)](0x3e8+Math[_0x2972f3(0x7b8)]()*0x2328)[_0x2972f3(0x3d0)]();const _0x527e06=await getDoc(doc(db,_0x2972f3(0x632)+appId+'/public/data/quizzes',_0x4d11fd));if(!_0x527e06[_0x2972f3(0x367)]())break;}const _0x5a0224=doc(db,'artifacts/'+appId+_0x2972f3(0x21f),_0x4d11fd);await setDoc(_0x5a0224,_0x3b2cf3),_0x3b2cf3['quizMode']==='post-test'&&await updateDoc(_0x18b968,{'pairedQuizId':_0x4d11fd}),showMessage(_0x2972f3(0x67b));}else throw new Error(_0x2972f3(0x2f6));}catch(_0x247936){console[_0x2972f3(0x4e5)](_0x2972f3(0x786),_0x247936),showMessage(_0x2972f3(0x706));}}async function handleDeleteQuiz(_0x598bdd,_0x2e3837=!![]){const _0x1fd4df=_0x594c14;try{const _0x4c6718=writeBatch(db),_0x525a75=collection(db,_0x1fd4df(0x632)+appId+_0x1fd4df(0x6e7)+_0x598bdd+_0x1fd4df(0x21e)),_0x14b4b4=await getDocs(_0x525a75);_0x14b4b4['forEach'](_0x5451ee=>{const _0x730291=_0x1fd4df;_0x4c6718[_0x730291(0x3de)](doc(_0x525a75,_0x5451ee['id']));});const _0x179909=doc(db,_0x1fd4df(0x632)+appId+'/public/data/quizzes',_0x598bdd);_0x4c6718[_0x1fd4df(0x3de)](_0x179909),await _0x4c6718['commit']();try{console['log'](_0x1fd4df(0x2b7)+_0x598bdd+_0x1fd4df(0xd13));const _0x4009d1=collection(db,'artifacts/'+appId+'/public/data/blueprintProjects'),_0x93c8fb=await getDocs(_0x4009d1),_0x4e6158=[];_0x93c8fb[_0x1fd4df(0x8be)](_0x550b73=>{const _0x25e1b6=_0x1fd4df,_0x38e344=_0x550b73[_0x25e1b6(0x21d)](),_0x28ab13=_0x38e344['topics']||{};let _0x451569=![];for(const _0x567a70 in _0x28ab13){const _0x397198=_0x28ab13[_0x567a70];if(_0x397198[_0x25e1b6(0x32c)]&&_0x397198[_0x25e1b6(0x32c)][_0x25e1b6(0x92b)](_0x598bdd)){_0x451569=!![];const _0x2c8841=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',_0x550b73['id']),_0x48a882=updateDoc(_0x2c8841,{[_0x25e1b6(0x80f)+_0x567a70+'.linkedQuizIds']:arrayRemove(_0x598bdd)});_0x4e6158[_0x25e1b6(0x861)](_0x48a882);}}}),_0x4e6158['length']>0x0&&(await Promise[_0x1fd4df(0xd2b)](_0x4e6158),console[_0x1fd4df(0x3e0)](_0x1fd4df(0x1d9)+_0x4e6158['length']+'\x20link(s)\x20for\x20quiz\x20ID:\x20'+_0x598bdd+'.'));}catch(_0x3adb5f){console[_0x1fd4df(0x4e5)](_0x1fd4df(0xcfc),_0x3adb5f);}_0x2e3837&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x24b428){console['error']('Error\x20deleting\x20quiz:',_0x24b428),_0x2e3837&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x373290){const _0x1f0645=_0x594c14;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x1f0645(0xa0a));try{const _0x23a866=doc(db,_0x1f0645(0x632)+appId+_0x1f0645(0x21f),_0x373290),_0x360fdc=await getDoc(_0x23a866);if(!_0x360fdc[_0x1f0645(0x367)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x431c2f={'id':_0x360fdc['id'],..._0x360fdc[_0x1f0645(0x21d)]()};currentQuizData=_0x431c2f;const _0x5b790c=doc(db,_0x1f0645(0x632)+appId+_0x1f0645(0x29a),_0x431c2f[_0x1f0645(0x618)]),_0x4019e5=await getDoc(_0x5b790c);_0x4019e5['exists']()?(currentProjectData=_0x4019e5[_0x1f0645(0x21d)](),currentProjectId=_0x431c2f['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x431c2f[_0x1f0645(0x618)]);document[_0x1f0645(0x68c)](_0x1f0645(0xb22))['textContent']=_0x431c2f[_0x1f0645(0x72e)],document[_0x1f0645(0x68c)](_0x1f0645(0x19b))[_0x1f0645(0xb4b)]=_0x373290;const _0x12ec7c=collection(db,_0x1f0645(0x632)+appId+_0x1f0645(0x21f),_0x373290,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x12ec7c,_0x26c7e3=>{const _0x5f69b1=_0x1f0645,_0x9ebdaf=_0x26c7e3['docs'][_0x5f69b1(0x345)](_0x39d1b9=>({'id':_0x39d1b9['id'],..._0x39d1b9[_0x5f69b1(0x21d)]()}));currentSubmissions=_0x9ebdaf;const _0x4ca661=_0x9ebdaf[_0x5f69b1(0x298)](_0x48b1a3=>_0x48b1a3[_0x5f69b1(0x51d)]&&_0x48b1a3[_0x5f69b1(0x51d)][_0x5f69b1(0x757)]>0x0);renderBehaviorLog(_0x9ebdaf),renderAnswerGrid(currentProjectData[_0x5f69b1(0xc9a)],_0x4ca661,_0x431c2f),renderAnalytics(_0x431c2f,_0x4ca661),renderQuizResultsTable(currentProjectData[_0x5f69b1(0xc9a)],_0x9ebdaf,_0x431c2f),renderQuizLeaderboard(_0x4ca661,_0x431c2f,_0x5f69b1(0x4b3));}),showView(_0x1f0645(0x6f7));}catch(_0x349336){console['error'](_0x1f0645(0xb51),_0x349336),showMessage(_0x1f0645(0x49a));}}function renderAnswerGrid(_0x3a0dab,_0x5cf2c1,_0x30e66e){const _0x56d657=_0x594c14,_0x355ab1=document[_0x56d657(0x68c)](_0x56d657(0x3a1));if(!_0x355ab1)return;if(!_0x3a0dab||_0x3a0dab[_0x56d657(0x757)]===0x0){_0x355ab1['innerHTML']=_0x56d657(0x2b8);return;}const _0x5376a=_0x30e66e['questions'],_0x14daf7=_0x5cf2c1['reduce']((_0x94693d,_0x5b5c81)=>{const _0x489a32=_0x56d657;return _0x94693d[_0x5b5c81[_0x489a32(0xc53)]]=_0x5b5c81,_0x94693d;},{}),_0x1f8701=_0x4a1a47=>String[_0x56d657(0x9d5)](0x41+_0x4a1a47),_0x451d93=_0x4988e6=>{const _0x345978=_0x56d657,_0x87fccd=_0x4988e6['questionType']||_0x30e66e[_0x345978(0x9c1)];switch(_0x87fccd){case _0x345978(0x69d):return _0x4988e6[_0x345978(0x9ac)]&&_0x4988e6[_0x345978(0x9ac)][_0x345978(0x757)]>_0x4988e6[_0x345978(0x671)]?_0x1f8701(_0x4988e6['correctAnswerIndex']):'-';case'true_false':const _0x346b6a=_0x4988e6['correctAnswer']===!![]||String(_0x4988e6[_0x345978(0xbfb)])[_0x345978(0x986)]()===_0x345978(0x300);return _0x346b6a?_0x345978(0x3cc):_0x345978(0xcfb);case _0x345978(0x37f):return _0x4988e6[_0x345978(0x3ce)]||'-';case _0x345978(0xa97):return _0x345978(0x2c2);default:return'-';}},_0x5ac02f=(_0x5dcdda,_0x55c97e)=>{const _0x49162d=_0x56d657;if(_0x55c97e[_0x49162d(0x8da)]===null||_0x55c97e['answer']===undefined)return'-';const _0x14d892=_0x5dcdda[_0x49162d(0x7cd)]||_0x30e66e['quizType'];switch(_0x14d892){case _0x49162d(0x69d):const _0x21b164=_0x5dcdda['options'][_0x49162d(0x1e3)](_0x5c108e=>_0x5c108e===_0x55c97e[_0x49162d(0x983)]);return _0x21b164!==-0x1?_0x1f8701(_0x21b164):_0x55c97e[_0x49162d(0x983)]||'-';case'true_false':if(_0x55c97e['answer']=='0'||_0x55c97e[_0x49162d(0x8da)]===!![]||_0x55c97e['answer']===_0x49162d(0x300))return'ใช่';return _0x49162d(0xcfb);default:return _0x55c97e[_0x49162d(0x8da)];}};let _0x97c4e9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5376a[_0x56d657(0x345)]((_0x1b9b12,_0x285a80)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x285a80+0x1)+_0x56d657(0x279))['join']('')+_0x56d657(0x1e0)+_0x5376a[_0x56d657(0x345)](_0x3872c1=>_0x56d657(0x9a6)+_0x451d93(_0x3872c1)+_0x56d657(0xac5))[_0x56d657(0x95f)]('')+_0x56d657(0x7aa);_0x3a0dab[_0x56d657(0x8be)](_0xfe7197=>{const _0x27dabf=_0x56d657;_0x97c4e9+=_0x27dabf(0x268),_0x97c4e9+=_0x27dabf(0x776)+_0xfe7197+_0x27dabf(0xac5);const _0x37a29b=_0x14daf7[_0xfe7197];if(_0x37a29b){const _0x83654b=_0x37a29b[_0x27dabf(0x51d)][_0x37a29b[_0x27dabf(0x51d)][_0x27dabf(0x757)]-0x1];_0x5376a[_0x27dabf(0x8be)]((_0x4ae4b5,_0x2eb3b6)=>{const _0x52df52=_0x27dabf,_0x2e895d=_0x83654b[_0x52df52(0x576)]['find'](_0xcb646c=>_0xcb646c[_0x52df52(0x512)]===_0x4ae4b5['id']);if(_0x2e895d){let _0x43ab7d='';const _0x3357ba=_0x2e895d['isCorrect']===!![],_0xfdcb8d=_0x2e895d[_0x52df52(0xb80)]===!![]||_0x2e895d[_0x52df52(0xb80)]===_0x52df52(0x894);_0xfdcb8d?_0x43ab7d=_0x3357ba?'bg-green-400\x20text-white\x20font-bold':'bg-red-500\x20text-white\x20font-bold':_0x43ab7d=_0x3357ba?'bg-green-100':_0x52df52(0x651),_0x97c4e9+=_0x52df52(0x5d7)+_0x43ab7d+'\x22>'+_0x5ac02f(_0x4ae4b5,_0x2e895d)+'</td>';}else _0x97c4e9+=_0x52df52(0xc18);});}else _0x97c4e9+=_0x5376a[_0x27dabf(0x345)](()=>_0x27dabf(0x388))[_0x27dabf(0x95f)]('');_0x97c4e9+=_0x27dabf(0x872);}),_0x97c4e9+=_0x56d657(0x85a),_0x355ab1[_0x56d657(0xa0c)]=_0x97c4e9;}function renderQuizResultsTable(_0x2d0125,_0x13427a,_0x242834){const _0x41e386=_0x594c14,_0x5bc1ed=_0x13427a[_0x41e386(0x658)]((_0x246eb8,_0x769745)=>{const _0x2ddc54=_0x41e386;return _0x246eb8[_0x769745[_0x2ddc54(0xc53)]]=_0x769745,_0x246eb8;},{}),_0xdcba1e=document['querySelector'](_0x41e386(0xa7f));_0xdcba1e&&!_0xdcba1e[_0x41e386(0xa0c)]['includes']('จัดการ')&&(_0xdcba1e[_0x41e386(0xa0c)]+=_0x41e386(0x4c5));const _0x48f484=document[_0x41e386(0x68c)](_0x41e386(0x785));if(!_0x2d0125||_0x2d0125[_0x41e386(0x757)]===0x0){_0x48f484['innerHTML']='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x55a9d2=_0x242834[_0x41e386(0xafb)]===!![],_0x2badda=_0x242834['settings']?.[_0x41e386(0xaec)]??-0x1;let _0x459a23='';_0x2d0125[_0x41e386(0x8be)](_0x6a4a29=>{const _0x35559b=_0x41e386,_0x20dbfd=_0x5bc1ed[_0x6a4a29];let _0x33766d=_0x35559b(0x75d)+(_0x55a9d2?'bg-amber-100\x20text-amber-800':'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x55a9d2?_0x35559b(0x1b4):_0x35559b(0xab5))+_0x35559b(0x735);if(_0x20dbfd){if(_0x20dbfd[_0x35559b(0x51d)]&&_0x20dbfd['attempts'][_0x35559b(0x757)]>0x0){let _0x11e61d=_0x55a9d2?_0x20dbfd[_0x35559b(0x3fe)]===_0x20dbfd[_0x35559b(0x51c)]:_0x2badda!==-0x1&&_0x20dbfd['bestScore']>=_0x2badda;const _0x409ae0=_0x11e61d?_0x35559b(0x630):_0x35559b(0x1b3),_0xc4aac5=_0x11e61d?_0x35559b(0x66b):_0x35559b(0x50e),_0xd3fbf2=_0x35559b(0xcd2)+_0x409ae0+'\x22>'+_0xc4aac5+_0x35559b(0x735),_0x55cc68=_0x35559b(0xc2e)+(_0x20dbfd[_0x35559b(0x51d)]?.[_0x35559b(0x757)]||0x1)+_0x35559b(0x242);_0x459a23+=_0x35559b(0x1a9)+_0x6a4a29+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x20dbfd['bestScore']+'\x20/\x20'+_0x20dbfd[_0x35559b(0x51c)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd3fbf2+_0x35559b(0x969)+_0x33766d+_0x35559b(0x846)+_0x20dbfd[_0x35559b(0x237)]+'\x20/\x20'+_0x20dbfd['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x20dbfd[_0x35559b(0x1f2)]+_0x35559b(0x431)+_0x20dbfd[_0x35559b(0x51c)]+_0x35559b(0x3d5)+(_0x20dbfd[_0x35559b(0x650)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x55cc68+_0x35559b(0xa91)+new Date(_0x20dbfd[_0x35559b(0x6a1)])[_0x35559b(0x6db)]('th-TH')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x6a4a29+_0x35559b(0xa33);}else{const _0x59c70b=_0x35559b(0x928);_0x459a23+=_0x35559b(0x1d4)+_0x6a4a29+_0x35559b(0xb07)+_0x33766d+_0x35559b(0x8ad)+_0x59c70b+_0x35559b(0xa91)+new Date(_0x20dbfd['startedAt'])[_0x35559b(0x6db)](_0x35559b(0x475))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x6a4a29+_0x35559b(0xa33);}}else{const _0x4c4a71=_0x35559b(0x7eb);_0x459a23+=_0x35559b(0x991)+_0x6a4a29+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x33766d+_0x35559b(0x61d)+_0x4c4a71+_0x35559b(0xabb);}}),_0x48f484[_0x41e386(0xa0c)]=_0x459a23;}async function confirmRenameQuiz(){const _0x2d8b8f=_0x594c14,_0x43dbf1=document[_0x2d8b8f(0x68c)](_0x2d8b8f(0xaed))[_0x2d8b8f(0x9a1)][_0x2d8b8f(0x99c)]();if(!_0x43dbf1){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x2d1d90=doc(db,_0x2d8b8f(0x632)+appId+_0x2d8b8f(0x21f),actionTargetId);try{await updateDoc(_0x2d1d90,{'topic':_0x43dbf1}),showMessage(_0x2d8b8f(0x210)),renameQuizModal[_0x2d8b8f(0x936)][_0x2d8b8f(0x2de)]('hidden'),actionTargetId=null;}catch(_0x1d04e2){console[_0x2d8b8f(0x4e5)](_0x2d8b8f(0x420),_0x1d04e2),showMessage(_0x2d8b8f(0x3ef));}}async function handleMoveQuiz(_0x42eed1){const _0x19982e=_0x594c14;actionTargetId=_0x42eed1;const _0x4b338d=document['getElementById'](_0x19982e(0x903));_0x4b338d['innerHTML']=_0x19982e(0x409),moveQuizModal[_0x19982e(0x936)][_0x19982e(0x373)](_0x19982e(0x1dc));try{const _0x536421=collection(db,_0x19982e(0x632)+appId+_0x19982e(0x29a)),_0x3817eb=await getDocs(_0x536421),_0xd960fd=_0x3817eb['docs'][_0x19982e(0x345)](_0x4503c5=>({'id':_0x4503c5['id'],..._0x4503c5[_0x19982e(0x21d)]()})),_0x1174e2=_0xd960fd[_0x19982e(0x298)](_0x39bbf4=>_0x39bbf4['id']!==currentProjectId);if(_0x1174e2['length']===0x0){_0x4b338d['innerHTML']='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x19982e(0x68c)](_0x19982e(0xcb0))[_0x19982e(0x376)]=!![];return;}_0x4b338d[_0x19982e(0xa0c)]=_0x1174e2[_0x19982e(0x345)](_0x4cdec5=>_0x19982e(0x4a8)+_0x4cdec5['id']+'\x22>'+_0x4cdec5['projectName']+_0x19982e(0x882))[_0x19982e(0x95f)](''),document[_0x19982e(0x68c)](_0x19982e(0xcb0))['disabled']=![];}catch(_0xd86978){console['error'](_0x19982e(0x6b2),_0xd86978),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal['classList'][_0x19982e(0x2de)](_0x19982e(0x1dc));}}async function confirmMoveQuiz(){const _0xfade84=_0x594c14,_0x25ebd1=document[_0xfade84(0x68c)]('move-quiz-project-select')[_0xfade84(0x9a1)];if(!_0x25ebd1){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x6859a8=doc(db,_0xfade84(0x632)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x6859a8,{'projectId':_0x25ebd1}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0xfade84(0x936)]['add'](_0xfade84(0x1dc)),actionTargetId=null;}catch(_0x4219d6){console['error'](_0xfade84(0x573),_0x4219d6),showMessage(_0xfade84(0x3fd));}}async function handleQuizSettings(_0x146907){const _0xe827d6=_0x594c14;actionTargetId=_0x146907;const _0x48e1d8=doc(db,_0xe827d6(0x632)+appId+_0xe827d6(0x21f),_0x146907);try{const _0x35d61f=await getDoc(_0x48e1d8);if(_0x35d61f['exists']()){const _0xe268af=_0x35d61f['data'](),_0x326aea=_0xe268af[_0xe827d6(0xbab)]||{},_0x4a5946=_0xe268af[_0xe827d6(0x72b)][_0xe827d6(0x757)];document[_0xe827d6(0x68c)]('modal-shuffle-select')[_0xe827d6(0x9a1)]=_0x326aea['shuffle']||_0xe827d6(0xa9b),document[_0xe827d6(0x68c)](_0xe827d6(0x8bf))['value']=_0x326aea[_0xe827d6(0x74c)]||_0xe827d6(0xbc5),document[_0xe827d6(0x68c)](_0xe827d6(0xbbf))[_0xe827d6(0x9a1)]=_0x326aea[_0xe827d6(0x4b0)]||_0xe827d6(0xa9b),document['getElementById'](_0xe827d6(0xbc9))[_0xe827d6(0x9a1)]=_0x326aea[_0xe827d6(0x96d)]||0xa,document[_0xe827d6(0x68c)]('modal-passing-score-input')[_0xe827d6(0x9a1)]=_0x326aea[_0xe827d6(0xaec)]||Math[_0xe827d6(0xa3c)](_0x4a5946/0x2),document[_0xe827d6(0x68c)](_0xe827d6(0x98f))[_0xe827d6(0x2d3)]=_0x4a5946,document[_0xe827d6(0x68c)](_0xe827d6(0x39b))[_0xe827d6(0x9cb)]=_0x326aea[_0xe827d6(0xc26)]||![],document[_0xe827d6(0x68c)](_0xe827d6(0x225))['checked']=_0x326aea[_0xe827d6(0x6dd)]||![];const _0xc577f2=_0x326aea[_0xe827d6(0x9bb)]||![];document['getElementById'](_0xe827d6(0xc20))['checked']=_0xc577f2,document['getElementById'](_0xe827d6(0x229))[_0xe827d6(0x9a1)]=_0x326aea[_0xe827d6(0x517)]||'checkbox';const _0x5043c6=document[_0xe827d6(0x68c)](_0xe827d6(0x798));_0x5043c6[_0xe827d6(0x936)][_0xe827d6(0x34a)](_0xe827d6(0x1dc),!_0xc577f2),document[_0xe827d6(0x68c)](_0xe827d6(0xbbf))[_0xe827d6(0x88e)](new Event('change')),quizSettingsModal[_0xe827d6(0x936)][_0xe827d6(0x373)]('hidden');}else showMessage(_0xe827d6(0xa07));}catch(_0x26056d){console[_0xe827d6(0x4e5)](_0xe827d6(0xc2d),_0x26056d),showMessage(_0xe827d6(0x469));}}async function confirmQuizSettings(){const _0x58ba26=_0x594c14;if(!actionTargetId)return;const _0x1b43d5=doc(db,_0x58ba26(0x632)+appId+_0x58ba26(0x21f),actionTargetId),_0x5f008d={'shuffle':document[_0x58ba26(0x68c)](_0x58ba26(0xb68))[_0x58ba26(0x9a1)],'resultsDisplay':document[_0x58ba26(0x68c)](_0x58ba26(0x8bf))['value'],'timerMode':document[_0x58ba26(0x68c)](_0x58ba26(0xbbf))[_0x58ba26(0x9a1)],'timerDuration':parseInt(document['getElementById'](_0x58ba26(0xbc9))[_0x58ba26(0x9a1)])||0xa,'passingScore':parseInt(document[_0x58ba26(0x68c)]('modal-passing-score-input')[_0x58ba26(0x9a1)])||0x0,'isAdaptive':document['getElementById'](_0x58ba26(0x39b))['checked'],'loopUntilPass':document['getElementById']('modal-loop-until-pass-checkbox')[_0x58ba26(0x9cb)],'isConfidenceScoringEnabled':document[_0x58ba26(0x68c)](_0x58ba26(0xc20))[_0x58ba26(0x9cb)],'confidenceMode':document['getElementById'](_0x58ba26(0x229))[_0x58ba26(0x9a1)]};try{await updateDoc(_0x1b43d5,{'settings':_0x5f008d}),showMessage(_0x58ba26(0x48f)),quizSettingsModal['classList'][_0x58ba26(0x2de)](_0x58ba26(0x1dc)),actionTargetId=null;}catch(_0x509066){console[_0x58ba26(0x4e5)](_0x58ba26(0x95c),_0x509066),showMessage(_0x58ba26(0x949));}}async function confirmQuizStatus(){const _0x1bb669=_0x594c14;if(!actionTargetId)return;const _0x3defda=doc(db,_0x1bb669(0x632)+appId+'/public/data/quizzes',actionTargetId),_0x4202ed=document[_0x1bb669(0x817)](_0x1bb669(0x2a3));if(!_0x4202ed){showMessage(_0x1bb669(0xc82));return;}const _0x4ed770=_0x4202ed['value'];let _0x48aa7f={};if(_0x4ed770===_0x1bb669(0x323)||_0x4ed770===_0x1bb669(0x715))_0x48aa7f={'status':_0x4ed770,'startTime':null,'endTime':null};else{if(_0x4ed770===_0x1bb669(0x2a8)){const _0x2550a3=document[_0x1bb669(0x68c)](_0x1bb669(0x499))['value'],_0x4e6f88=document[_0x1bb669(0x68c)]('quiz-end-time')[_0x1bb669(0x9a1)];if(!_0x2550a3&&!_0x4e6f88){showMessage(_0x1bb669(0x1ea));return;}_0x48aa7f={'status':_0x1bb669(0x478),'startTime':_0x2550a3?new Date(_0x2550a3)[_0x1bb669(0xa81)]():null,'endTime':_0x4e6f88?new Date(_0x4e6f88)['toISOString']():null};}}try{await updateDoc(_0x3defda,_0x48aa7f),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x1bb669(0x936)][_0x1bb669(0x2de)](_0x1bb669(0x1dc)),actionTargetId=null;}catch(_0x1c120b){console[_0x1bb669(0x4e5)](_0x1bb669(0x8a4),_0x1c120b),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x19333a){const _0x2c56eb=_0x594c14,_0x31c5b9=collection(db,'artifacts/'+appId+_0x2c56eb(0x3ec)+_0x19333a+_0x2c56eb(0x596));unsubscribeStudentProfilesListener=onSnapshot(_0x31c5b9,_0x73df4b=>{const _0x2f1eaa=_0x2c56eb,_0x527b27=_0x73df4b['docs'][_0x2f1eaa(0x345)](_0x21db71=>_0x21db71[_0x2f1eaa(0x21d)]());renderLeaderboard(_0x527b27,_0x2f1eaa(0xa23));},_0x24de06=>{const _0x16f642=_0x2c56eb;console[_0x16f642(0x4e5)]('Error\x20listening\x20for\x20student\x20profiles:',_0x24de06),document[_0x16f642(0x68c)]('leaderboard-table-body')[_0x16f642(0xa0c)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x2a3533,_0x1fc3b1){const _0x381d2f=_0x594c14,_0x1a9633=document[_0x381d2f(0x68c)](_0x1fc3b1);if(!_0x2a3533||_0x2a3533[_0x381d2f(0x757)]===0x0){_0x1a9633[_0x381d2f(0xa0c)]=_0x381d2f(0x8cc);return;}_0x2a3533[_0x381d2f(0x387)]((_0x1f1e9d,_0x2ad679)=>{const _0x3a4e52=_0x381d2f,_0x2ed632=(_0x2ad679[_0x3a4e52(0x994)]||0x0)-(_0x1f1e9d[_0x3a4e52(0x994)]||0x0);if(_0x2ed632!==0x0)return _0x2ed632;const _0xab7ac5=(_0x2ad679[_0x3a4e52(0x9d4)]?.[_0x3a4e52(0x9e1)]||0x0)-(_0x1f1e9d['badgesCount']?.['specialist']||0x0);if(_0xab7ac5!==0x0)return _0xab7ac5;const _0xea8eb1=(_0x2ad679[_0x3a4e52(0x9d4)]?.[_0x3a4e52(0xa4e)]||0x0)-(_0x1f1e9d[_0x3a4e52(0x9d4)]?.[_0x3a4e52(0xa4e)]||0x0);if(_0xea8eb1!==0x0)return _0xea8eb1;const _0x1744dd=(_0x2ad679['badgesCount']?.[_0x3a4e52(0x442)]||0x0)-(_0x1f1e9d[_0x3a4e52(0x9d4)]?.[_0x3a4e52(0x442)]||0x0);if(_0x1744dd!==0x0)return _0x1744dd;const _0x64f4dd=(_0x2ad679[_0x3a4e52(0x9d4)]?.[_0x3a4e52(0x3ae)]||0x0)-(_0x1f1e9d[_0x3a4e52(0x9d4)]?.[_0x3a4e52(0x3ae)]||0x0);if(_0x64f4dd!==0x0)return _0x64f4dd;return _0x1f1e9d[_0x3a4e52(0xc53)][_0x3a4e52(0x480)](_0x2ad679[_0x3a4e52(0xc53)],'th');});let _0x517b0c='';_0x2a3533[_0x381d2f(0x8be)]((_0xe7df45,_0x856646)=>{const _0x407879=_0x381d2f,_0x2b0c80=_0x856646+0x1,_0x3ad08e=_0xe7df45[_0x407879(0x9d4)]||{};let _0x4c5ba1='';const _0x5607b5=[_0x407879(0x9e1),_0x407879(0x442),_0x407879(0xa4e),_0x407879(0x3ae)];_0x5607b5['forEach'](_0x3a4d0e=>{const _0x507245=_0x407879;if(_0x3ad08e[_0x3a4d0e]>0x0){const _0x6c180b=Object[_0x507245(0x694)](BADGES)[_0x507245(0xad3)](_0x208842=>_0x208842['id']===_0x3a4d0e);_0x6c180b&&(_0x3a4d0e==='specialist'?_0x4c5ba1+=_0x507245(0x24e)+_0x6c180b[_0x507245(0xb31)]+_0x507245(0x8fd)+_0x6c180b[_0x507245(0x6b7)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x4c5ba1+=_0x507245(0x24e)+_0x6c180b[_0x507245(0xb31)]+'\x20('+_0x3ad08e[_0x3a4d0e]+_0x507245(0x609)+_0x6c180b['icon']+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x3ad08e[_0x3a4d0e]+_0x507245(0x235));}}),_0x517b0c+=_0x407879(0xa08)+_0x2b0c80+_0x407879(0x3f8)+_0xe7df45[_0x407879(0xc53)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0xe7df45[_0x407879(0x994)]||0x0)+_0x407879(0x3f8)+(_0x4c5ba1||'-')+_0x407879(0x452);}),_0x1a9633['innerHTML']=_0x517b0c;}function displayLoopScreen(_0x1fb140,_0x223502,_0x194343){const _0xb22f12=_0x594c14;let _0x174487='';_0x194343!==_0xb22f12(0x995)&&(_0x174487='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x1fb140+_0xb22f12(0x431)+_0x223502+_0xb22f12(0x281));const _0x11c8ab=_0xb22f12(0xce0)+_0x174487+_0xb22f12(0xafa);studentResultArea[_0xb22f12(0xa0c)]=_0x11c8ab,studentResultArea[_0xb22f12(0x936)][_0xb22f12(0x373)]('hidden'),studentQuizArea[_0xb22f12(0x936)][_0xb22f12(0x2de)](_0xb22f12(0x1dc)),document[_0xb22f12(0x68c)](_0xb22f12(0x48e))[_0xb22f12(0x7a0)]('click',()=>{const _0x2dd937=_0xb22f12;studentResultArea[_0x2dd937(0x936)][_0x2dd937(0x2de)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x3b6062,_0x3daf80,_0x40f725){const _0x1ab7e0=_0x594c14,_0x40e5a2=document[_0x1ab7e0(0x68c)](_0x40f725),_0x54db9a=_0x40f725===_0x1ab7e0(0x422),_0xbfef9c=_0x3daf80[_0x1ab7e0(0x72b)][_0x1ab7e0(0x757)],_0x57ce29=document['getElementById'](_0x40f725)[_0x1ab7e0(0x50f)](_0x1ab7e0(0x7fd));if(_0x57ce29&&!_0x54db9a){const _0xd9604f=_0x57ce29['querySelector']('thead');_0xd9604f['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x3b6062||_0x3b6062['length']===0x0){_0x40e5a2[_0x1ab7e0(0xa0c)]='<tr><td\x20colspan=\x22'+(_0x54db9a?0x6:0x8)+_0x1ab7e0(0x8ee);return;}const _0x339045=[..._0x3b6062];_0x339045[_0x1ab7e0(0x387)]((_0x5de199,_0x202ead)=>{const _0x4085be=_0x1ab7e0;let _0x18e6f2,_0x2d7c40;switch(quizLeaderboardSortBy){case'studentName':_0x18e6f2=_0x5de199[_0x4085be(0xc53)]||'',_0x2d7c40=_0x202ead['studentName']||'';return quizLeaderboardSortOrder==='asc'?_0x18e6f2['localeCompare'](_0x2d7c40,'th'):_0x2d7c40[_0x4085be(0x480)](_0x18e6f2,'th');case _0x4085be(0x650):_0x18e6f2=_0x5de199[_0x4085be(0x650)]||0x0,_0x2d7c40=_0x202ead[_0x4085be(0x650)]||0x0;break;case _0x4085be(0x51d):_0x18e6f2=_0x5de199[_0x4085be(0x51d)]?.['length']||0x1,_0x2d7c40=_0x202ead['attempts']?.[_0x4085be(0x757)]||0x1;break;case _0x4085be(0x6a1):_0x18e6f2=new Date(_0x5de199[_0x4085be(0x6a1)]),_0x2d7c40=new Date(_0x202ead['latestSubmittedAt']);break;case _0x4085be(0x3fe):default:_0x18e6f2=_0x5de199[_0x4085be(0x3fe)],_0x2d7c40=_0x202ead[_0x4085be(0x3fe)];break;}if(_0x18e6f2<_0x2d7c40)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x18e6f2>_0x2d7c40)return quizLeaderboardSortOrder===_0x4085be(0xb84)?0x1:-0x1;return 0x0;});const _0x55f331=_0x3daf80[_0x1ab7e0(0xafb)]===!![],_0x588b5b=_0x3daf80['settings']?.[_0x1ab7e0(0xaec)]??-0x1;let _0x11aef3='';_0x339045[_0x1ab7e0(0x8be)]((_0x231bb0,_0x33034b)=>{const _0x1af6bb=_0x1ab7e0,_0x589d91=_0x33034b+0x1;let _0x14c2bc=_0x1af6bb(0xb46);if(_0x55f331||_0x588b5b!==-0x1){let _0x1fe87a=_0x55f331?_0x231bb0[_0x1af6bb(0x3fe)]===_0xbfef9c:_0x231bb0[_0x1af6bb(0x3fe)]>=_0x588b5b;const _0x1e6bbb=_0x1fe87a?_0x1af6bb(0x630):_0x1af6bb(0x1b3),_0xe98ad9=_0x1fe87a?_0x1af6bb(0x66b):_0x1af6bb(0x50e);_0x14c2bc=_0x1af6bb(0xd20)+_0x1e6bbb+'\x22>'+_0xe98ad9+'</span></td>';}const _0x2488a3=_0x231bb0['attempts'][_0x231bb0[_0x1af6bb(0x51d)]['length']-0x1],_0x1f5fca=(_0x2488a3[_0x1af6bb(0x57c)]||[])[_0x1af6bb(0x345)](_0x34c3e8=>{const _0x41c747=_0x1af6bb,_0x26c61=Object[_0x41c747(0x694)](BADGES)[_0x41c747(0xad3)](_0x2f4691=>_0x2f4691['id']===_0x34c3e8);return _0x26c61?'<span\x20title=\x22'+_0x26c61[_0x41c747(0xb31)]+_0x41c747(0x9f6)+_0x26c61[_0x41c747(0x6b7)]+_0x41c747(0xafd):'';})[_0x1af6bb(0x95f)]('');_0x11aef3+=_0x1af6bb(0xac8)+_0x589d91+_0x1af6bb(0x25d)+_0x231bb0[_0x1af6bb(0xc53)]+_0x1af6bb(0x1ce)+_0x231bb0[_0x1af6bb(0x3fe)]+_0x1af6bb(0x431)+_0xbfef9c+_0x1af6bb(0x788)+_0x14c2bc+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x231bb0['points']||0x0)+_0x1af6bb(0x788)+(_0x54db9a?'':_0x1af6bb(0xa18)+(_0x231bb0[_0x1af6bb(0x51d)]?.[_0x1af6bb(0x757)]||0x1)+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x54db9a?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x231bb0['latestSubmittedAt'])[_0x1af6bb(0x6db)](_0x1af6bb(0x475))+_0x1af6bb(0xac5))+_0x1af6bb(0x20b)+(_0x1f5fca||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x40e5a2[_0x1ab7e0(0xa0c)]=_0x11aef3,_0x57ce29&&!_0x54db9a&&_0x57ce29[_0x1ab7e0(0x9c3)](_0x1ab7e0(0x35d))[_0x1ab7e0(0x8be)](_0x118766=>{const _0x4235f8=_0x1ab7e0,_0x11a226=_0x118766['querySelector'](_0x4235f8(0x72d));if(_0x11a226)_0x11a226[_0x4235f8(0x373)]();_0x118766[_0x4235f8(0x7f1)]['sort']===quizLeaderboardSortBy&&(_0x118766['innerHTML']+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x4235f8(0xb84)?'▲':'▼')+_0x4235f8(0x392));});}async function handleDeleteSubmission(_0x1dd87f){if(!currentQuizData||!currentQuizData['id']||!_0x1dd87f){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x1dd87f+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x5cd2db=_0x27d0,_0x5443f9=currentQuizData['id'],_0xc40577=doc(db,_0x5cd2db(0x632)+appId+_0x5cd2db(0x6e7)+_0x5443f9+'/submissions',_0x1dd87f);try{await deleteDoc(_0xc40577),showMessage('ลบผลสอบของ\x20'+_0x1dd87f+_0x5cd2db(0x814));}catch(_0x181440){console['error'](_0x5cd2db(0x4d9),_0x181440),showMessage(_0x5cd2db(0x7f5));}});}async function handleLoadQuiz(){const _0x113405=_0x594c14,_0x3596ad=document[_0x113405(0x68c)](_0x113405(0x4ef)),_0x50a79c=_0x3596ad[_0x113405(0x9a1)][_0x113405(0x99c)]();if(!_0x50a79c){showMessage(_0x113405(0xc14));return;}loadQuizBtn[_0x113405(0x376)]=!![],loadQuizBtn[_0x113405(0xa0c)]=_0x113405(0x2b9);try{const _0x83482b=doc(db,_0x113405(0x632)+appId+_0x113405(0x21f),_0x50a79c),_0x361d79=await getDoc(_0x83482b);if(!_0x361d79[_0x113405(0x367)]()){showMessage(_0x113405(0xce2));return;}currentQuizData={'id':_0x361d79['id'],..._0x361d79[_0x113405(0x21d)]()};const _0x399a24=currentQuizData[_0x113405(0xb9c)]||_0x113405(0x323),_0x117eef=new Date();if(_0x399a24===_0x113405(0x715)){showMessage(_0x113405(0xa9a));return;}if(_0x399a24===_0x113405(0x478)){const _0x151370=currentQuizData['startTime']?new Date(currentQuizData[_0x113405(0x935)]):null,_0xcc0728=currentQuizData[_0x113405(0x731)]?new Date(currentQuizData[_0x113405(0x731)]):null;if(_0x151370&&_0x117eef<_0x151370){showMessage(_0x113405(0x2fc)+_0x151370['toLocaleString'](_0x113405(0x475),{'hour12':![]}));return;}if(_0xcc0728&&_0x117eef>_0xcc0728){showMessage(_0x113405(0x5c9));return;}}const _0x24bdf3=currentQuizData[_0x113405(0x618)];currentProjectId=_0x24bdf3;const _0x3c32e9=doc(db,_0x113405(0x632)+appId+_0x113405(0x29a),_0x24bdf3),_0x232489=await getDoc(_0x3c32e9);if(!_0x232489[_0x113405(0x367)]()){showMessage(_0x113405(0x410));return;}const _0x1d65a5=_0x232489[_0x113405(0x21d)]();currentStudentProjectData=_0x1d65a5,displayStudentNameSelector(_0x1d65a5['students'],currentQuizData['topic']);}catch(_0xb4302e){console[_0x113405(0x4e5)](_0x113405(0x975),_0xb4302e),showMessage(_0x113405(0x7f6));}finally{loadQuizBtn[_0x113405(0x376)]=![],loadQuizBtn[_0x113405(0xa0c)]=_0x113405(0x547);}}async function handleJoinLiveGame(){const _0x5c87a3=_0x594c14,_0x5015e1=document[_0x5c87a3(0x68c)](_0x5c87a3(0x369)),_0x5943e3=document[_0x5c87a3(0x68c)]('nickname-input'),_0x37e064=document[_0x5c87a3(0x68c)]('confirm-join-game-btn'),_0x574c23=_0x5015e1['value'][_0x5c87a3(0x99c)](),_0x50f192=_0x5943e3[_0x5c87a3(0x9a1)][_0x5c87a3(0x99c)]();if(!_0x574c23||!_0x50f192){showMessage(_0x5c87a3(0x584));return;}_0x37e064[_0x5c87a3(0x376)]=!![],_0x37e064['innerHTML']=_0x5c87a3(0xbb2);try{const _0x394f54=collection(db,_0x5c87a3(0x632)+appId+_0x5c87a3(0x6a5)),_0x95725c=query(_0x394f54,where(_0x5c87a3(0x65d),'==',_0x574c23),where(_0x5c87a3(0xb9c),'in',[_0x5c87a3(0x6c5),_0x5c87a3(0x72a)])),_0x2c8ca7=await getDocs(_0x95725c);if(_0x2c8ca7[_0x5c87a3(0x838)]){showMessage(_0x5c87a3(0x668));return;}const _0x4fe632=_0x2c8ca7[_0x5c87a3(0x23c)][0x0],_0x10e788=_0x4fe632['data']();currentLiveGameId=_0x4fe632['id'];const _0x3df68e=_0x10e788[_0x5c87a3(0x8c6)],_0x15be91=doc(db,_0x5c87a3(0x632)+appId+'/public/data/quizzes',_0x3df68e),_0x38c2e9=await getDoc(_0x15be91);if(!_0x38c2e9[_0x5c87a3(0x367)]()){showMessage(_0x5c87a3(0x7ae));return;}currentQuizData={'id':_0x38c2e9['id'],..._0x38c2e9[_0x5c87a3(0x21d)]()};if(_0x10e788[_0x5c87a3(0xb2c)]&&_0x10e788[_0x5c87a3(0xb2c)][_0x50f192]){const _0x32ae7a=_0x10e788['players'][_0x50f192];if(_0x32ae7a[_0x5c87a3(0xb9c)]==='inactive'){_0x37e064[_0x5c87a3(0xa0c)]=_0x5c87a3(0x819);const _0x25b764={};_0x25b764['players.'+_0x50f192+'.status']='active',await updateDoc(doc(db,_0x5c87a3(0x632)+appId+'/public/data/liveGames',currentLiveGameId),_0x25b764),showView('live-game'),currentStudentName=_0x50f192,listenForLiveGameUpdates();return;}else{showMessage(_0x5c87a3(0xc0a));return;}}if(_0x10e788['status']!==_0x5c87a3(0x6c5)){showMessage(_0x5c87a3(0x876));return;}_0x37e064[_0x5c87a3(0xa0c)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x50b6e6={};_0x50b6e6[_0x5c87a3(0x6c7)+_0x50f192]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,_0x5c87a3(0x632)+appId+_0x5c87a3(0x6a5),currentLiveGameId),_0x50b6e6),currentStudentName=_0x50f192,listenForLiveGameUpdates();}catch(_0x2f10b7){console[_0x5c87a3(0x4e5)](_0x5c87a3(0x318),_0x2f10b7),showMessage(_0x5c87a3(0xbcb));}finally{_0x37e064['disabled']=![],_0x37e064[_0x5c87a3(0xa0c)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x491d44,_0x965bad){const _0xab6101=_0x594c14,_0x289773=document['getElementById'](_0xab6101(0x854));document[_0xab6101(0x68c)](_0xab6101(0x2db))[_0xab6101(0xb4b)]=_0xab6101(0x8e3)+_0x965bad,!_0x491d44||_0x491d44[_0xab6101(0x757)]===0x0?(_0x289773[_0xab6101(0xa0c)]=_0xab6101(0x803),startQuizBtn[_0xab6101(0x376)]=!![]):(_0x289773['innerHTML']=_0xab6101(0x1e8),_0x491d44[_0xab6101(0x8be)](_0x248440=>{const _0x2b9430=_0xab6101,_0x431230=document['createElement'](_0x2b9430(0x2f0));_0x431230[_0x2b9430(0x9a1)]=_0x248440,_0x431230[_0x2b9430(0xb4b)]=_0x248440,_0x289773[_0x2b9430(0x745)](_0x431230);}),startQuizBtn[_0xab6101(0x376)]=![]),studentInitialView[_0xab6101(0x936)][_0xab6101(0x2de)](_0xab6101(0x1dc)),studentNameSelectionView[_0xab6101(0x936)][_0xab6101(0x373)](_0xab6101(0x1dc));}function shuffleArray(_0xe55221){const _0x1242f9=_0x594c14;for(let _0x4609b5=_0xe55221[_0x1242f9(0x757)]-0x1;_0x4609b5>0x0;_0x4609b5--){const _0x26593c=Math[_0x1242f9(0xa3c)](Math[_0x1242f9(0x7b8)]()*(_0x4609b5+0x1));[_0xe55221[_0x4609b5],_0xe55221[_0x26593c]]=[_0xe55221[_0x26593c],_0xe55221[_0x4609b5]];}}function getShuffledQuiz(_0xb3ea7c){const _0x510bd4=_0x594c14;let _0x4136da=JSON[_0x510bd4(0x60b)](JSON[_0x510bd4(0xace)](_0xb3ea7c));const _0x16a678=_0x4136da[_0x510bd4(0xbab)]?.[_0x510bd4(0x36c)]||_0x510bd4(0xa9b);if(_0x16a678===_0x510bd4(0xa9b))return _0x4136da;return(_0x16a678===_0x510bd4(0x415)||_0x16a678==='both')&&shuffleArray(_0x4136da['questions']),(_0x16a678===_0x510bd4(0xc68)||_0x16a678==='both')&&_0x4136da[_0x510bd4(0x72b)][_0x510bd4(0x8be)](_0x387139=>{const _0x30c4f8=_0x510bd4,_0xbfe165=_0x387139['questionType']||_0x4136da[_0x30c4f8(0x9c1)];if(_0x387139[_0x30c4f8(0x9ac)]){let _0x17cec5=_0x387139[_0x30c4f8(0x9ac)][_0x30c4f8(0x345)]((_0x1e711a,_0x21f995)=>({'text':_0x1e711a,'isCorrect':_0x21f995===_0x387139[_0x30c4f8(0x671)]}));shuffleArray(_0x17cec5),_0x387139['options']=_0x17cec5[_0x30c4f8(0x345)](_0x497096=>_0x497096[_0x30c4f8(0x4b6)]),_0x387139[_0x30c4f8(0x671)]=_0x17cec5[_0x30c4f8(0x1e3)](_0x5c685e=>_0x5c685e[_0x30c4f8(0xa60)]);}_0xbfe165===_0x30c4f8(0x37f)&&_0x387139['allResponses']&&shuffleArray(_0x387139[_0x30c4f8(0xcf5)]);}),_0x4136da;}function displayQuizForStudent(_0x1b6f20){const _0x26ada9=_0x594c14;studentQuizArea[_0x26ada9(0x936)][_0x26ada9(0x373)](_0x26ada9(0x1dc)),currentDisplayedQuiz=getShuffledQuiz(_0x1b6f20);currentMode!==_0x26ada9(0x9b9)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x26ada9(0x7a0)](_0x26ada9(0x70f),handleFullscreenChange),document['addEventListener'](_0x26ada9(0x536),handleVisibilityChange),enterFullscreen(),window[_0x26ada9(0x7a0)](_0x26ada9(0x273),resetDimTimer),window['addEventListener'](_0x26ada9(0x5ef),resetDimTimer),window[_0x26ada9(0x7a0)](_0x26ada9(0x19d),resetDimTimer),window[_0x26ada9(0x7a0)]('keydown',resetDimTimer),resetDimTimer());const _0x9fd808=currentDisplayedQuiz[_0x26ada9(0xbab)]?.[_0x26ada9(0x4b0)]||_0x26ada9(0xa9b);if(_0x9fd808===_0x26ada9(0x9d6))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x26ada9(0xbab)]['timerDuration']);else _0x9fd808==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x2fedb0=_0x594c14,_0x3fc035=currentDisplayedQuiz[_0x2fedb0(0xbab)]?.[_0x2fedb0(0x9bb)]===!![],_0x344094=currentDisplayedQuiz['settings']?.[_0x2fedb0(0x517)]||_0x2fedb0(0xaf6);let _0x65e2c8=_0x2fedb0(0xae1)+currentDisplayedQuiz[_0x2fedb0(0x72e)]+_0x2fedb0(0x231)+(currentMode===_0x2fedb0(0x9b9)?_0x2fedb0(0x1dd):'')+_0x2fedb0(0xc21);currentDisplayedQuiz[_0x2fedb0(0x72b)]['forEach']((_0x14cd41,_0x5e7f81)=>{const _0x5755fb=_0x2fedb0,_0x2d4f46=_0x14cd41[_0x5755fb(0x7cd)]||currentDisplayedQuiz[_0x5755fb(0x9c1)];_0x65e2c8+=_0x5755fb(0x380);if(_0x2d4f46===_0x5755fb(0x37f)){}else _0x65e2c8+=_0x5755fb(0x8a2)+(_0x5e7f81+0x1)+'.\x20'+(_0x14cd41[_0x5755fb(0x7a6)]||_0x14cd41[_0x5755fb(0x77a)])+'</p>',_0x14cd41[_0x5755fb(0x1c6)]&&(_0x65e2c8+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x14cd41['imageCode']+_0x5755fb(0x93c));_0x65e2c8+=_0x5755fb(0x2f9);switch(_0x2d4f46){case'short_answer':_0x65e2c8+=_0x5755fb(0x6e2)+_0x5e7f81+_0x5755fb(0x5b9);break;case _0x5755fb(0x8b0):_0x65e2c8+=_0x5755fb(0x5a3)+_0x5e7f81+'_opt0\x22\x20name=\x22question'+_0x5e7f81+_0x5755fb(0x747)+_0x5e7f81+_0x5755fb(0x79d),_0x65e2c8+=_0x5755fb(0x5a3)+_0x5e7f81+_0x5755fb(0x91b)+_0x5e7f81+_0x5755fb(0x55c)+_0x5e7f81+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x5755fb(0x37f):_0x65e2c8+=_0x5755fb(0x62e)+_0x14cd41[_0x5755fb(0x346)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x5e7f81+_0x5755fb(0x3f4)+_0x14cd41[_0x5755fb(0xcf5)]['map'](_0x27ef5d=>_0x5755fb(0x4a8)+_0x27ef5d+'\x22>'+_0x27ef5d+_0x5755fb(0x882))['join']('')+_0x5755fb(0xccd);break;default:_0x65e2c8+=_0x14cd41[_0x5755fb(0x9ac)][_0x5755fb(0x345)]((_0x2150ef,_0x534aad)=>_0x5755fb(0x4f8)+_0x5e7f81+_0x5755fb(0x8d8)+_0x534aad+'\x22\x20name=\x22question'+_0x5e7f81+_0x5755fb(0x73a)+_0x534aad+_0x5755fb(0x8df)+_0x5e7f81+_0x5755fb(0x8d8)+_0x534aad+'\x22>'+_0x2150ef+_0x5755fb(0x690))[_0x5755fb(0x95f)]('');break;}_0x65e2c8+=_0x5755fb(0x93c),_0x3fc035&&(_0x65e2c8+=_0x5755fb(0xcc2),_0x344094===_0x5755fb(0x5f7)?_0x65e2c8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x5e7f81+'\x22\x20name=\x22confidence'+_0x5e7f81+_0x5755fb(0x7b9)+_0x5e7f81+'\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22'+_0x5e7f81+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x65e2c8+=_0x5755fb(0xc37)+_0x5e7f81+_0x5755fb(0xc9c)+_0x5e7f81+_0x5755fb(0x3cb)+_0x5e7f81+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x65e2c8+=_0x5755fb(0x93c)),_0x65e2c8+=_0x5755fb(0x93c);}),_0x65e2c8+=_0x2fedb0(0x978),_0x65e2c8+=_0x2fedb0(0x4e7),studentQuizArea[_0x2fedb0(0xa0c)]=_0x65e2c8;if(currentMode===_0x2fedb0(0x9b9)){const _0x5bbb91=document[_0x2fedb0(0x68c)](_0x2fedb0(0x228));if(_0x5bbb91)_0x5bbb91['addEventListener'](_0x2fedb0(0xc83),cancelAdminTest);}const _0x380709=document['getElementById']('quiz-form');_0x380709&&(_0x380709['addEventListener'](_0x2fedb0(0xc08),handleSubmitQuiz),_0x380709[_0x2fedb0(0x7a0)]('click',_0x411902=>{const _0x1a5a07=_0x2fedb0;if(_0x411902['target']['classList'][_0x1a5a07(0x28e)](_0x1a5a07(0xcda))){const _0x3277be=_0x411902[_0x1a5a07(0x221)],_0x208784=_0x3277be[_0x1a5a07(0x7f1)][_0x1a5a07(0x344)],_0x5ee652=_0x3277be[_0x1a5a07(0x7f1)][_0x1a5a07(0x9a1)];document[_0x1a5a07(0x68c)](_0x1a5a07(0x768)+_0x208784)['value']=_0x5ee652;const _0x4d5a34=_0x3277be['parentElement'];_0x4d5a34['querySelectorAll'](_0x1a5a07(0x602))[_0x1a5a07(0x8be)](_0x58d9de=>_0x58d9de[_0x1a5a07(0x936)][_0x1a5a07(0x373)](_0x1a5a07(0x323))),_0x3277be[_0x1a5a07(0x936)][_0x1a5a07(0x2de)]('active');}}));if(window['MathJax'])window['MathJax']['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x12f4d7){const _0x17914d=_0x594c14;if(_0x12f4d7)_0x12f4d7[_0x17914d(0xc55)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x8bde0a=document[_0x17914d(0x68c)](_0x17914d(0x2ed));if(!_0x8bde0a)return;const _0x1fedae=currentDisplayedQuiz[_0x17914d(0xbab)]?.[_0x17914d(0x9bb)]===!![],_0x3fb962=currentDisplayedQuiz[_0x17914d(0xbab)]?.[_0x17914d(0x517)]||'checkbox';if(_0x1fedae&&_0x3fb962===_0x17914d(0x5f7)){let _0x2d1c99=!![];for(let _0xc76e0f=0x0;_0xc76e0f<currentDisplayedQuiz[_0x17914d(0x72b)][_0x17914d(0x757)];_0xc76e0f++){const _0x46de6e=_0x8bde0a[_0x17914d(0x817)](_0x17914d(0xa74)+_0xc76e0f);if(!_0x46de6e||_0x46de6e['value']===''){_0x2d1c99=![];break;}}if(!_0x2d1c99){showMessage(_0x17914d(0x47f));return;}}const _0x3bb405=_0x8bde0a[_0x17914d(0x817)]('button[type=\x22submit\x22]'),_0x31fd19=currentDisplayedQuiz[_0x17914d(0x72b)][_0x17914d(0x54a)](_0x42760f=>_0x42760f[_0x17914d(0x7cd)]===_0x17914d(0xa97));_0x3bb405&&(_0x3bb405[_0x17914d(0x376)]=!![],_0x3bb405['innerHTML']=_0x31fd19?_0x17914d(0x56f):'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x4e4f1d=new FormData(_0x8bde0a),_0x256616=currentDisplayedQuiz[_0x17914d(0x72b)][_0x17914d(0x345)]((_0x2428c9,_0x366b22)=>{const _0x2ac833=_0x17914d,_0x2c12ff=_0x4e4f1d['get'](_0x2ac833(0x72a)+_0x366b22);let _0x4943f0;_0x3fb962===_0x2ac833(0x5f7)?_0x4943f0=_0x4e4f1d[_0x2ac833(0x1ad)]('confidence'+_0x366b22):_0x4943f0=_0x4e4f1d[_0x2ac833(0x1ad)]('confidence'+_0x366b22)==='on';let _0x55920d=null;if(_0x2c12ff!==null&&_0x2c12ff!==undefined){const _0x4f20f8=_0x2428c9['questionType']||currentDisplayedQuiz[_0x2ac833(0x9c1)];_0x4f20f8===_0x2ac833(0x69d)||_0x4f20f8===_0x2ac833(0x386)?_0x55920d=parseInt(_0x2c12ff):_0x55920d=_0x2c12ff;}return{'answer':_0x55920d,'wasConfident':_0x4943f0};}),_0x2ac5d3=currentQuizData['id'],_0xc0bf70=doc(db,'artifacts/'+appId+_0x17914d(0x6e7)+_0x2ac5d3+'/submissions',currentStudentName),_0x17bed5=await getDoc(_0xc0bf70),_0x2d8ef3=_0x17bed5[_0x17914d(0x367)]()?_0x17bed5[_0x17914d(0x21d)]():{},_0x59ac64=_0x2d8ef3['attempts']||[];await processAndSubmitAnswers(_0x256616,_0x59ac64);}async function gradeShortAnswerWithAI(_0x1fc8e9,_0x38e51a){const _0x353531=_0x594c14;if(!_0x1fc8e9||!_0x38e51a)return![];try{const _0x26d993=_0x353531(0x1f8)+_0x1fc8e9+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x38e51a+_0x353531(0x52b),_0x296f04={'contents':[{'role':_0x353531(0x291),'parts':[{'text':_0x26d993}]}]},_0x343b43=_0x353531(0xad6),_0x573502=_0x353531(0xa41)+_0x343b43,_0x28760f=await fetch(_0x573502,{'method':_0x353531(0xaad),'headers':{'Content-Type':_0x353531(0x741)},'body':JSON['stringify'](_0x296f04)});if(!_0x28760f['ok'])throw new Error(_0x353531(0xabe));const _0x19598b=await _0x28760f[_0x353531(0x473)](),_0xd69ca9=_0x19598b[_0x353531(0x7d2)][0x0][_0x353531(0x63a)]['parts'][0x0]['text'][_0x353531(0x99c)]()[_0x353531(0x986)]();return _0xd69ca9===_0x353531(0x300);}catch(_0x3a2998){return console[_0x353531(0x4e5)](_0x353531(0x1eb),_0x3a2998),![];}}async function processAndSubmitAnswers(_0x5256e2,_0xdbaeeb){const _0x2b36c9=_0x594c14;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x2b36c9(0xbb8)]('fullscreenchange',handleFullscreenChange),document['removeEventListener'](_0x2b36c9(0x536),handleVisibilityChange);let _0x26c30e=0x0;const _0x5e52b6=[],_0x4ab73e=currentDisplayedQuiz[_0x2b36c9(0x72b)][_0x2b36c9(0x757)];let _0x1f1ec6=0x0,_0x166c34=[];const _0xf5225=currentDisplayedQuiz[_0x2b36c9(0x72b)];for(let _0x364f9e=0x0;_0x364f9e<_0xf5225[_0x2b36c9(0x757)];_0x364f9e++){const _0x5d765b=_0xf5225[_0x364f9e],_0x46bf65=_0x5256e2[_0x364f9e],_0x468a66=_0x46bf65?_0x46bf65[_0x2b36c9(0x8da)]:null,_0x1be576=_0x46bf65?_0x46bf65['wasConfident']:null;let _0x33e8fa=![],_0x8c8fdb=0x0;if(_0x468a66!==null&&_0x468a66!==''){const _0xd3a0cf=_0x5d765b[_0x2b36c9(0x7cd)]||currentDisplayedQuiz[_0x2b36c9(0x9c1)];switch(_0xd3a0cf){case'matching_item':_0x33e8fa=_0x468a66===_0x5d765b[_0x2b36c9(0x3ce)];break;case _0x2b36c9(0x8b0):const _0x390488=_0x468a66===!![]||_0x468a66==='true';_0x33e8fa=_0x390488===_0x5d765b['correctAnswer'];break;case _0x2b36c9(0xa97):_0x33e8fa=await gradeShortAnswer(_0x468a66,_0x5d765b);break;case _0x2b36c9(0x69d):default:_0x33e8fa=Number(_0x468a66)===_0x5d765b['correctAnswerIndex'];break;}}if(currentDisplayedQuiz['settings']?.[_0x2b36c9(0x9bb)]){const _0x1abfd3=_0x46bf65?_0x46bf65[_0x2b36c9(0xb80)]:null;if(_0x33e8fa&&(_0x1abfd3===!![]||_0x1abfd3===_0x2b36c9(0x894)))_0x8c8fdb=0x2;else{if(_0x33e8fa)_0x8c8fdb=0x1;else{if(!_0x33e8fa&&(_0x1abfd3===![]||_0x1abfd3===_0x2b36c9(0x295)||_0x1abfd3===null))_0x8c8fdb=0x0;else!_0x33e8fa&&(_0x1abfd3===!![]||_0x1abfd3===_0x2b36c9(0x894))&&(_0x8c8fdb=-0x1);}}}else _0x8c8fdb=_0x33e8fa?0x1:0x0;_0x26c30e+=_0x8c8fdb;if(_0x33e8fa){_0x1f1ec6++;if(_0x1f1ec6===0x3)_0x166c34[_0x2b36c9(0x861)](BADGES[_0x2b36c9(0x502)]['id']);}else _0x1f1ec6=0x0;let _0x4a99ae=null;_0x5d765b[_0x2b36c9(0x9ac)]&&_0x468a66!==null&&(_0x4a99ae=_0x5d765b[_0x2b36c9(0x9ac)][_0x468a66]),_0x5e52b6[_0x2b36c9(0x861)]({'questionId':_0x5d765b['id'],'answer':_0x468a66,'answerText':_0x4a99ae,'isCorrect':_0x33e8fa,'wasConfident':_0x1be576,'pointsAwarded':_0x8c8fdb,'originalQuestionText':_0x5d765b[_0x2b36c9(0x346)]||_0x5d765b[_0x2b36c9(0x77a)]});}const _0x56275d=_0x5e52b6['filter'](_0x1d9b74=>_0x1d9b74[_0x2b36c9(0xa60)])[_0x2b36c9(0x757)],_0x7b34bb=currentDisplayedQuiz[_0x2b36c9(0xbab)]?.[_0x2b36c9(0xaec)]??Math['floor'](_0x4ab73e/0x2);_0x56275d===_0x4ab73e&&_0x4ab73e>0x0&&!currentDisplayedQuiz['isRemedial']&&_0x166c34[_0x2b36c9(0x861)](BADGES[_0x2b36c9(0xb7b)]['id']);const _0x144271=currentDisplayedQuiz[_0x2b36c9(0xbab)]?.['timerMode'];if(_0x144271==='whole_quiz'&&quizStartTime){const _0x542ff2=(new Date()-quizStartTime)/0x3e8,_0x35f46e=currentDisplayedQuiz[_0x2b36c9(0xbab)]['timerDuration']*0x3c;_0x56275d>=_0x7b34bb&&_0x542ff2<_0x35f46e/0x2&&_0x166c34[_0x2b36c9(0x861)](BADGES[_0x2b36c9(0xb0c)]['id']);}_0xdbaeeb[_0x2b36c9(0x757)]===0x0&&_0x56275d===_0x4ab73e&&_0x4ab73e>0x0&&_0x166c34[_0x2b36c9(0x861)](BADGES[_0x2b36c9(0xb69)]['id']);if(_0xdbaeeb['length']>0x0){const _0x1371ee=_0xdbaeeb[0x0][_0x2b36c9(0xc54)];if(_0x1371ee<_0x7b34bb&&_0x56275d>=_0x7b34bb){const _0x4f4ca8=_0xdbaeeb[_0x2b36c9(0x54a)](_0xd9a3a2=>(_0xd9a3a2[_0x2b36c9(0x57c)]||[])['includes'](BADGES[_0x2b36c9(0x86f)]['id']));!_0x4f4ca8&&_0x166c34[_0x2b36c9(0x861)](BADGES['COMEBACK_KING']['id']);}}_0xdbaeeb['length']===0x4&&_0x166c34[_0x2b36c9(0x861)](BADGES[_0x2b36c9(0xbe5)]['id']);const _0x51e24c=currentDisplayedQuiz[_0x2b36c9(0xbab)][_0x2b36c9(0x74c)];if(currentMode==='admin-testing'){handleResultDisplay(_0x51e24c,_0x56275d,_0x26c30e,_0x166c34,_0x5e52b6,_0x4ab73e);return;}const _0xfcf497=currentQuizData['id'],_0x146855=doc(db,_0x2b36c9(0x632)+appId+'/public/data/quizzes/'+_0xfcf497+_0x2b36c9(0x21e),currentStudentName);try{const _0x6b2d80=[..._0xdbaeeb],_0x24a8b4={'score':_0x56275d,'points':_0x26c30e,'badges':Array[_0x2b36c9(0x97c)](new Set(_0x166c34)),'submittedAt':new Date()[_0x2b36c9(0xa81)](),'answers':_0x5e52b6};_0x6b2d80[_0x2b36c9(0x861)](_0x24a8b4);const _0x3f5e96=_0xdbaeeb[_0x2b36c9(0x757)]===0x0?_0x56275d:_0xdbaeeb[0x0][_0x2b36c9(0xc54)]||0x0,_0x360054=Math[_0x2b36c9(0x2d3)](..._0x6b2d80[_0x2b36c9(0x345)](_0x2b4f39=>_0x2b4f39[_0x2b36c9(0xc54)]));await setDoc(_0x146855,{'studentName':currentStudentName,'totalQuestions':_0x4ab73e,'attempts':_0x6b2d80,'firstScore':_0x3f5e96,'bestScore':_0x360054,'latestScore':_0x56275d,'points':_0x26c30e,'latestSubmittedAt':_0x24a8b4[_0x2b36c9(0x3ee)]},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x51e24c,_0x56275d,_0x26c30e,_0x166c34,_0x5e52b6,_0x4ab73e);}catch(_0x58809f){console[_0x2b36c9(0x4e5)](_0x2b36c9(0xb8b),_0x58809f),showMessage(_0x2b36c9(0x5b2));}}async function updateStudentProfile(_0x33361b,_0x5b3641){const _0x5b49e5=_0x594c14,_0x475b2a=doc(db,_0x5b49e5(0x632)+appId+_0x5b49e5(0x3ec)+_0x33361b+'/studentProfiles',_0x5b3641);try{const _0x2e39ad=query(collection(db,'artifacts/'+appId+_0x5b49e5(0x21f)),where(_0x5b49e5(0x618),'==',_0x33361b)),_0x460240=await getDocs(_0x2e39ad),_0x28e280=new Map(_0x460240['docs'][_0x5b49e5(0x345)](_0x147e88=>[_0x147e88['id'],_0x147e88[_0x5b49e5(0x21d)]()])),_0x51d7eb=Array['from'](_0x28e280['keys']());await runTransaction(db,async _0x516e3b=>{const _0x40e081=_0x5b49e5;let _0x38f350=0x0;const _0x142e5b={};let _0x578ebc=!![],_0x555765=0x0,_0x4ccfb5=0x0;for(const _0x7330d8 of _0x51d7eb){const _0x355333=_0x28e280[_0x40e081(0x1ad)](_0x7330d8),_0x448141=doc(db,_0x40e081(0x632)+appId+_0x40e081(0x6e7)+_0x7330d8+'/submissions',_0x5b3641),_0x1f414a=await _0x516e3b[_0x40e081(0x1ad)](_0x448141);if(_0x1f414a[_0x40e081(0x367)]()){const _0xb5c175=_0x1f414a[_0x40e081(0x21d)](),_0x518a9b=_0xb5c175['attempts']||[];if(_0x518a9b[_0x40e081(0x757)]>0x0){const _0x472cea=_0x518a9b[_0x40e081(0x658)]((_0x3339eb,_0x50e99c)=>{const _0x4fcb83=_0x40e081;if(_0x50e99c[_0x4fcb83(0xc54)]>_0x3339eb[_0x4fcb83(0xc54)])return _0x50e99c;if(_0x50e99c[_0x4fcb83(0xc54)]===_0x3339eb[_0x4fcb83(0xc54)])return(_0x50e99c[_0x4fcb83(0x650)]||0x0)>(_0x3339eb['points']||0x0)?_0x50e99c:_0x3339eb;return _0x3339eb;},{'score':-0x1,'points':-0x1});_0x472cea[_0x40e081(0xc54)]>-0x1&&(_0x38f350+=_0x472cea[_0x40e081(0x650)]||0x0,(_0x472cea['badges']||[])[_0x40e081(0x8be)](_0x5702f6=>{_0x142e5b[_0x5702f6]=(_0x142e5b[_0x5702f6]||0x0)+0x1;}));}}if(_0x355333['topic']!==_0x40e081(0x834)){_0x4ccfb5++;if(_0x1f414a['exists']()){_0x555765++;const _0x2dec31=_0x1f414a[_0x40e081(0x21d)]();_0x2dec31[_0x40e081(0x3fe)]!==_0x2dec31[_0x40e081(0x51c)]&&(_0x578ebc=![]);}else _0x578ebc=![];}}_0x4ccfb5>0x0&&_0x555765===_0x4ccfb5&&_0x578ebc?_0x142e5b['specialist']=0x1:_0x142e5b[_0x40e081(0x9e1)]=0x0,_0x516e3b['set'](_0x475b2a,{'studentName':_0x5b3641,'totalPoints':_0x38f350,'unlockedBadges':Object[_0x40e081(0x2e8)](_0x142e5b)[_0x40e081(0x298)](_0x1ac153=>_0x142e5b[_0x1ac153]>0x0),'badgesCount':_0x142e5b},{'merge':!![]});});}catch(_0x4c508f){console[_0x5b49e5(0x4e5)](_0x5b49e5(0xd14),_0x4c508f),showMessage(_0x5b49e5(0x27a));}}function startAdminTest(){const _0xa5c009=_0x594c14;if(!currentQuizData){showMessage(_0xa5c009(0xa76));return;}let _0x88f000=JSON[_0xa5c009(0x60b)](JSON[_0xa5c009(0xace)](currentQuizData));currentMode=_0xa5c009(0x9b9),currentStudentName=_0xa5c009(0x79b),adminView[_0xa5c009(0x936)]['add'](_0xa5c009(0x1dc)),studentView[_0xa5c009(0x936)][_0xa5c009(0x373)](_0xa5c009(0x1dc)),studentInitialView[_0xa5c009(0x936)][_0xa5c009(0x2de)](_0xa5c009(0x1dc)),studentNameSelectionView['classList']['add'](_0xa5c009(0x1dc)),studentResultArea[_0xa5c009(0x936)][_0xa5c009(0x2de)](_0xa5c009(0x1dc)),studentQuizArea[_0xa5c009(0x936)]['remove']('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x88f000);}function handleResultDisplay(_0x43eb92,_0x10df3a,_0xe3d7b4,_0x47cbd8,_0x46e585,_0x194912){const _0x158125=_0x594c14;if(_0x43eb92===_0x158125(0x86a)){displaySubmissionConfirmation();return;}const _0x5aa5e7=currentDisplayedQuiz[_0x158125(0xbab)]?.[_0x158125(0xaec)]??Math[_0x158125(0xa3c)](_0x194912/0x2),_0x549518=currentDisplayedQuiz[_0x158125(0xbab)]?.[_0x158125(0xc26)]??![],_0x4475f5=currentDisplayedQuiz[_0x158125(0xbab)]?.[_0x158125(0x6dd)]===!![],_0xae4336=_0x10df3a<_0x5aa5e7,_0x2e65b7=_0x43eb92===_0x158125(0x859)||_0x43eb92==='perfect_score_status';if(_0x4475f5&&_0xae4336&&!_0x2e65b7){_0x43eb92===_0x158125(0xbc5)?displayResultsWithAnswers(_0x10df3a,_0xe3d7b4,_0x47cbd8,_0x46e585,_0x194912,!![]):displayLoopScreen(_0x10df3a,_0x194912,_0x43eb92);return;}if(_0x549518&&_0xae4336){startAdaptiveFlow(_0x46e585,_0x10df3a,_0x194912);return;}switch(_0x43eb92){case _0x158125(0xbc5):displayResultsWithAnswers(_0x10df3a,_0xe3d7b4,_0x47cbd8,_0x46e585,_0x194912);break;case _0x158125(0x47d):displayResultsScoreOnly(_0x10df3a,_0xe3d7b4,_0x47cbd8,_0x194912);break;case _0x158125(0x995):displayPassFailOnly(_0x10df3a,_0x194912);break;case _0x158125(0x859):displayHalfMarkResult(_0x10df3a,_0x194912);break;case _0x158125(0xb35):displayPerfectScoreResult(_0x10df3a,_0x194912);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x34eb2b){const _0x206b62=_0x594c14;studentReadingArea[_0x206b62(0xa0c)]=_0x206b62(0x4c0);const _0x2c550a=_0x206b62(0x848)+_0x34eb2b+_0x206b62(0x27e)+simpleMathPrompt+_0x206b62(0x546),_0x155b62={'type':'OBJECT','properties':{'questionText':{'type':_0x206b62(0x4f0)},'options':{'type':_0x206b62(0xc77),'items':{'type':_0x206b62(0x4f0)}},'correctAnswerIndex':{'type':_0x206b62(0x9cf)},'explanation':{'type':_0x206b62(0x4f0)}},'required':[_0x206b62(0x77a),'options',_0x206b62(0x671),_0x206b62(0x9fc)]},_0x28c13c={'type':_0x206b62(0x192),'properties':{'topic':{'type':_0x206b62(0x4f0)},'questions':{'type':_0x206b62(0xc77),'items':_0x155b62}},'required':[_0x206b62(0x72e),_0x206b62(0x72b)]};try{const _0x1d0c0e=await callAnalysisApi(_0x2c550a,_0x28c13c);_0x1d0c0e[_0x206b62(0xafb)]=!![],studentReadingArea[_0x206b62(0x936)]['add'](_0x206b62(0x1dc));const _0x5dc8e6={...currentDisplayedQuiz[_0x206b62(0xbab)],'isAdaptive':![],'resultsDisplay':_0x206b62(0xbc5)};_0x1d0c0e[_0x206b62(0xbab)]=_0x5dc8e6,displayQuizForStudent(_0x1d0c0e);}catch(_0xf10e7){console[_0x206b62(0x4e5)](_0x206b62(0x476),_0xf10e7),showMessage(_0x206b62(0x20a)),showView(_0x206b62(0x867));}}function displayPassFailOnly(_0xf09cca,_0x1cff70){const _0x18816c=_0x594c14,_0x8407cc=currentDisplayedQuiz[_0x18816c(0xbab)]?.['passingScore']??-0x1,_0x63c01f=currentDisplayedQuiz[_0x18816c(0xafb)]===!![];let _0x1aabde='',_0x309d7b=![];if(_0x63c01f||_0x8407cc!==-0x1){_0x309d7b=_0x63c01f?_0xf09cca===_0x1cff70:_0xf09cca>=_0x8407cc;const _0x1e8de5=_0x309d7b?_0x18816c(0x630):'bg-red-100\x20text-red-800',_0x3122fc=_0x309d7b?'ผ่าน':'ไม่ผ่าน';_0x1aabde='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x1e8de5+'\x22>'+_0x3122fc+_0x18816c(0x447);}else _0x1aabde=_0x18816c(0x1af);let _0xa3d7e9=_0x18816c(0xad9)+currentStudentName+_0x18816c(0x2e7)+_0x1aabde+_0x18816c(0xa26);studentResultArea[_0x18816c(0xa0c)]=_0xa3d7e9,studentResultArea['classList'][_0x18816c(0x373)](_0x18816c(0x1dc)),studentQuizArea[_0x18816c(0x936)][_0x18816c(0x2de)](_0x18816c(0x1dc)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x309d7b});}function cancelAdminTest(){const _0x47284d=_0x594c14;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x47284d(0xbb8)](_0x47284d(0x70f),handleFullscreenChange),document['removeEventListener']('visibilitychange',handleVisibilityChange),currentMode=_0x47284d(0x50a),studentView['classList'][_0x47284d(0x2de)]('hidden'),adminView[_0x47284d(0x936)][_0x47284d(0x373)](_0x47284d(0x1dc)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x47284d(0x6ab));}function setupResultScreenBackButton(_0x4d7985){const _0x4b812b=_0x594c14,_0x388baf={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x4d7985};if(_0x388baf[_0x4b812b(0x847)]){const _0x3a27fb=_0x4b812b(0x55a);studentResultArea[_0x4b812b(0x7d6)]('beforeend',_0x3a27fb),document['getElementById'](_0x4b812b(0x48e))['addEventListener'](_0x4b812b(0xc83),()=>{const _0x56c4b9=_0x4b812b;studentResultArea['classList'][_0x56c4b9(0x2de)](_0x56c4b9(0x1dc)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x33b6ac=_0x4b812b(0x955),_0x251433=currentMode===_0x4b812b(0x9b9),_0x2d3fa2=_0x251433?_0x4b812b(0x8b9):_0x4b812b(0x778);let _0x24e2b4='';_0x388baf[_0x4b812b(0xad2)]&&(_0x24e2b4+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x202a1f=_0x388baf[_0x4b812b(0x976)];_0x202a1f===undefined&&(_0x202a1f=_0x388baf['score']<_0x388baf[_0x4b812b(0x51c)]);_0x202a1f&&(_0x24e2b4+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x24e2b4+=_0x4b812b(0xcf6)+_0x33b6ac+_0x4b812b(0x989)+_0x2d3fa2+_0x4b812b(0xc8f);const _0x258776=_0x4b812b(0x3b4)+_0x24e2b4+_0x4b812b(0x93c);studentResultArea[_0x4b812b(0x7d6)](_0x4b812b(0x44d),_0x258776),studentResultArea[_0x4b812b(0x817)](_0x4b812b(0xd21))?.['addEventListener'](_0x4b812b(0xc83),handleShowStudentRankings);const _0x4def1d=studentResultArea[_0x4b812b(0x817)](_0x4b812b(0x71f));_0x4def1d&&_0x4def1d[_0x4b812b(0x7a0)]('click',()=>{const _0x3c7b09=_0x4b812b;studentResultArea[_0x3c7b09(0x936)][_0x3c7b09(0x2de)](_0x3c7b09(0x1dc)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x4b812b(0x68c)](_0x33b6ac)[_0x4b812b(0x7a0)](_0x4b812b(0xc83),()=>{const _0x254b2a=_0x4b812b;_0x251433?(currentMode=_0x254b2a(0x50a),studentView[_0x254b2a(0x936)][_0x254b2a(0x2de)](_0x254b2a(0x1dc)),adminView[_0x254b2a(0x936)]['remove'](_0x254b2a(0x1dc)),showView('project-detail')):(showView(_0x254b2a(0x867)),document[_0x254b2a(0x68c)](_0x254b2a(0x4ef))[_0x254b2a(0x9a1)]='');});}function displayResultsWithAnswers(_0x168bee,_0x5198d4,_0x2be0b3,_0x18f64c,_0x409ee9,_0x52a0d7=![]){const _0x3a7ec6=_0x594c14,_0x32230c=_0x409ee9>0x0?_0x168bee/_0x409ee9*0x64:0x0,_0x45ad91=currentDisplayedQuiz[_0x3a7ec6(0xbab)]?.[_0x3a7ec6(0xaec)]??-0x1,_0x5df57a=currentDisplayedQuiz[_0x3a7ec6(0xafb)]===!![];let _0x40e0b0='';if(_0x5df57a||_0x45ad91!==-0x1){let _0x233ede=_0x5df57a?_0x168bee===_0x409ee9:_0x168bee>=_0x45ad91;const _0x5f5d5e=_0x233ede?_0x3a7ec6(0x630):_0x3a7ec6(0x1b3),_0x4ff383=_0x233ede?_0x3a7ec6(0x66b):_0x3a7ec6(0x50e);_0x40e0b0=_0x3a7ec6(0x440)+_0x5f5d5e+'\x22>'+_0x4ff383+_0x3a7ec6(0x4a1);}let _0x3477b3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x3a7ec6(0x5e0)+_0x168bee+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x409ee9+_0x3a7ec6(0x349)+_0x40e0b0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x5198d4+_0x3a7ec6(0xd00)+_0x32230c[_0x3a7ec6(0x724)](0x0)+_0x3a7ec6(0x70b);currentDisplayedQuiz['questions'][_0x3a7ec6(0x8be)]((_0x2cb400,_0x36060e)=>{const _0x2586fe=_0x3a7ec6,_0x3f70d6=_0x18f64c[_0x36060e],_0x546492=_0x3f70d6['answer'],_0x5ae2c3=_0x3f70d6[_0x2586fe(0xa60)],_0x2d09c4=_0x2cb400[_0x2586fe(0x7cd)]||currentDisplayedQuiz['quizType'];_0x3477b3+=_0x2586fe(0x6cd)+(_0x5ae2c3?_0x2586fe(0xb87):'border-red-300\x20bg-red-50')+_0x2586fe(0x44f)+(_0x36060e+0x1)+'.\x20'+(_0x2cb400['stem']||_0x2cb400[_0x2586fe(0x77a)])+_0x2586fe(0x74e);switch(_0x2d09c4){case'matching_item':const _0x127261=_0x546492||_0x2586fe(0x3f1),_0x26ebb0=_0x2cb400[_0x2586fe(0x3ce)];_0x3477b3+=_0x2586fe(0x219)+(!_0x5ae2c3?'line-through\x20text-red-700':'')+'\x22>'+_0x127261+'</span></p>';!_0x5ae2c3&&(_0x3477b3+=_0x2586fe(0xc76)+_0x26ebb0+_0x2586fe(0x4a1));break;case'short_answer':_0x3477b3+=_0x2586fe(0x732)+(_0x546492||_0x2586fe(0x3f1))+_0x2586fe(0x4a1),_0x3477b3+=_0x2586fe(0x454)+_0x2cb400[_0x2586fe(0x27b)]+_0x2586fe(0x4a1);break;case _0x2586fe(0x8b0):_0x3477b3+=_0x2586fe(0xbde)+(_0x2cb400[_0x2586fe(0xbfb)]===!![]?_0x2586fe(0x707):'')+'\x20'+(_0x546492===_0x2586fe(0x300)&&!_0x5ae2c3?_0x2586fe(0x1e4):'')+_0x2586fe(0xcab),_0x3477b3+=_0x2586fe(0xbde)+(_0x2cb400[_0x2586fe(0xbfb)]===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x546492==='false'&&!_0x5ae2c3?_0x2586fe(0x1e4):'')+_0x2586fe(0xa87);break;default:_0x3477b3+=_0x2cb400[_0x2586fe(0x9ac)][_0x2586fe(0x345)]((_0x285201,_0x57c687)=>{const _0x23a5c6=_0x2586fe;let _0x8f2014='',_0x1a2d42='';if(_0x57c687===_0x2cb400[_0x23a5c6(0x671)])_0x8f2014='font-bold\x20text-green-700',_0x1a2d42=_0x23a5c6(0x9bc);else _0x57c687===_0x546492&&(_0x8f2014=_0x23a5c6(0xc45),_0x1a2d42=_0x23a5c6(0x1d1));return _0x23a5c6(0x5ec)+_0x8f2014+'\x22>'+_0x1a2d42+_0x285201+'</div>';})[_0x2586fe(0x95f)]('');break;}_0x3477b3+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x2cb400['explanation']||'ไม่มีคำอธิบาย')+_0x2586fe(0x93c);if(!_0x5ae2c3){const _0x4353f9=_0x2cb400['stem']||_0x2cb400['questionText'];_0x3477b3+=_0x2586fe(0x419)+escape(_0x4353f9)+_0x2586fe(0xb37);}_0x3477b3+=_0x2586fe(0x93c);}),studentResultArea['innerHTML']=_0x3477b3,renderEarnedBadges(_0x2be0b3,_0x3a7ec6(0x1a3)),studentResultArea[_0x3a7ec6(0x936)][_0x3a7ec6(0x373)]('hidden'),studentQuizArea['classList'][_0x3a7ec6(0x2de)](_0x3a7ec6(0x1dc)),setupResultScreenBackButton({'isLooping':_0x52a0d7,'score':_0x168bee,'totalQuestions':_0x409ee9,'showRankings':!![]});if(window['MathJax'])window['MathJax'][_0x3a7ec6(0x2e2)]([studentResultArea]);}function displayResultsScoreOnly(_0x558422,_0xb33a0,_0x50adf3,_0x3da24e){const _0x2f1640=_0x594c14,_0xcda4d8=_0x3da24e>0x0?_0x558422/_0x3da24e*0x64:0x0,_0x2f2ae3=currentDisplayedQuiz[_0x2f1640(0xbab)]?.[_0x2f1640(0xaec)]??-0x1,_0x451323=currentDisplayedQuiz[_0x2f1640(0xafb)]===!![];let _0x445154='';if(_0x451323||_0x2f2ae3!==-0x1){let _0x33a433=_0x451323?_0x558422===_0x3da24e:_0x558422>=_0x2f2ae3;const _0x5b5b98=_0x33a433?_0x2f1640(0x630):_0x2f1640(0x1b3),_0x5efab2=_0x33a433?_0x2f1640(0x66b):_0x2f1640(0x50e);_0x445154=_0x2f1640(0x440)+_0x5b5b98+'\x22>'+_0x5efab2+_0x2f1640(0x4a1);}let _0x1b0e3c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x2f1640(0x9c8)+_0x558422+_0x2f1640(0x94f)+_0x3da24e+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x445154+_0x2f1640(0x246)+_0xb33a0+_0x2f1640(0x563)+_0xcda4d8['toFixed'](0x0)+_0x2f1640(0x9ab);studentResultArea[_0x2f1640(0xa0c)]=_0x1b0e3c,renderEarnedBadges(_0x50adf3,'earned-badges-container'),studentResultArea['classList']['remove'](_0x2f1640(0x1dc)),studentQuizArea['classList'][_0x2f1640(0x2de)](_0x2f1640(0x1dc)),setupResultScreenBackButton({'score':_0x558422,'totalQuestions':_0x3da24e,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x159459=_0x594c14;let _0x1291a7=_0x159459(0x818)+currentStudentName+_0x159459(0x94b);studentResultArea[_0x159459(0xa0c)]=_0x1291a7,studentResultArea[_0x159459(0x936)][_0x159459(0x373)](_0x159459(0x1dc)),studentQuizArea['classList'][_0x159459(0x2de)](_0x159459(0x1dc)),document[_0x159459(0x68c)](_0x159459(0x844))[_0x159459(0x7a0)](_0x159459(0xc83),()=>{const _0x465602=_0x159459;showView(_0x465602(0x867)),document[_0x465602(0x68c)](_0x465602(0x4ef))[_0x465602(0x9a1)]='';});}function renderEarnedBadges(_0x84acaa,_0x58588f){const _0x3652c4=_0x594c14,_0x19f171=document[_0x3652c4(0x68c)](_0x58588f);if(!_0x19f171||!_0x84acaa||_0x84acaa[_0x3652c4(0x757)]===0x0)return;let _0x4fb02a='';_0x84acaa['forEach']((_0x1ff554,_0x290c20)=>{const _0x40b38f=_0x3652c4,_0xcb68f5=Object[_0x40b38f(0x694)](BADGES)[_0x40b38f(0xad3)](_0x115920=>_0x115920['id']===_0x1ff554);_0xcb68f5&&(_0x4fb02a+=_0x40b38f(0x5e4)+_0x290c20*0.2+_0x40b38f(0x1f6)+_0xcb68f5[_0x40b38f(0x54e)]+_0x40b38f(0x1b9)+_0xcb68f5[_0x40b38f(0x6b7)]+_0x40b38f(0xb6a)+_0xcb68f5[_0x40b38f(0xb31)]+_0x40b38f(0x9bf));}),_0x19f171['innerHTML']=_0x4fb02a;}function startPresentation(_0x31497e){const _0x1b6d96=_0x594c14;currentQuizData=getShuffledQuiz(_0x31497e),currentPresentationSlide=0x0,presentationModal[_0x1b6d96(0x62a)][_0x1b6d96(0xb55)]=_0x1b6d96(0x9da),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0xa0fdb0=_0x594c14;document[_0xa0fdb0(0x96e)]&&document['exitFullscreen'](),presentationModal[_0xa0fdb0(0x62a)][_0xa0fdb0(0xb55)]=_0xa0fdb0(0xa9b);}function renderPresentationSlide(_0x450574){const _0xeedfaf=_0x594c14,_0x510400=document[_0xeedfaf(0x68c)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0xeedfaf(0x72b)]||!currentQuizData[_0xeedfaf(0x72b)][_0x450574]){_0x510400[_0xeedfaf(0xa0c)]=_0xeedfaf(0x9f4);return;}const _0x2b0542=currentQuizData['questions'][_0x450574],_0x54dae5=_0x2b0542[_0xeedfaf(0x7cd)]||currentQuizData['quizType'];_0x510400[_0xeedfaf(0xa0c)]='';let _0x52afd1=_0xeedfaf(0x8bd)+(_0x2b0542[_0xeedfaf(0x1c6)]?_0xeedfaf(0xca0)+_0x2b0542['imageCode']+_0xeedfaf(0x93c):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x450574+0x1)+'.\x20'+(_0x2b0542[_0xeedfaf(0x346)]||_0x2b0542[_0xeedfaf(0x77a)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x54dae5){case _0xeedfaf(0x37f):_0x52afd1+=_0x2b0542['allResponses'][_0xeedfaf(0x345)](_0x103867=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x103867+_0xeedfaf(0x683))[_0xeedfaf(0x95f)]('');break;case _0xeedfaf(0x8b0):_0x52afd1+=_0xeedfaf(0x81a),_0x52afd1+=_0xeedfaf(0x470);break;case _0xeedfaf(0xcb5):case _0xeedfaf(0xa97):_0x52afd1+=_0xeedfaf(0x434);break;case'fill_in_the_blank':case _0xeedfaf(0x69d):default:_0x52afd1+=_0x2b0542[_0xeedfaf(0x9ac)][_0xeedfaf(0x345)]((_0x1f7922,_0x2ff483)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x2ff483+_0xeedfaf(0x7e9)+_0x1f7922+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xeedfaf(0x95f)]('');break;}_0x52afd1+=_0xeedfaf(0xb26)+(_0x2b0542[_0xeedfaf(0x9fc)]||_0xeedfaf(0xa1f))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x510400[_0xeedfaf(0xa0c)]=_0x52afd1;if(window[_0xeedfaf(0x8e9)])window[_0xeedfaf(0x8e9)]['typesetPromise']([_0x510400]);let _0x12c71f=[];switch(_0x54dae5){case'matching_item':_0x12c71f=_0x2b0542[_0xeedfaf(0xcf5)]||[];break;case'true_false':_0x12c71f=[_0xeedfaf(0x3cc),'ไม่ใช่'];break;default:_0x12c71f=_0x2b0542[_0xeedfaf(0x9ac)]||[];break;}const _0x4f51d8=document[_0xeedfaf(0x68c)](_0xeedfaf(0x797));_0x4f51d8&&(_0x4f51d8[_0xeedfaf(0xbf9)]=()=>{openScratchpad(_0x2b0542,_0x12c71f);});document['querySelectorAll'](_0xeedfaf(0x54f))[_0xeedfaf(0x8be)](_0x5449c4=>{const _0x4ee40c=_0xeedfaf;_0x5449c4[_0x4ee40c(0x7a0)](_0x4ee40c(0xc83),_0x212fd4=>revealAnswerForPresentation(_0x450574,_0x212fd4[_0x4ee40c(0x35b)]));});const _0x382168=document[_0xeedfaf(0x68c)](_0xeedfaf(0xb23));_0x382168&&_0x382168[_0xeedfaf(0x7a0)]('click',()=>checkShortAnswerForPresentation(_0x450574)),document['getElementById'](_0xeedfaf(0x3e5))['textContent']=_0xeedfaf(0x586)+(_0x450574+0x1)+_0xeedfaf(0x431)+currentQuizData['questions'][_0xeedfaf(0x757)],document['getElementById'](_0xeedfaf(0xb42))[_0xeedfaf(0x376)]=_0x450574===0x0,document['getElementById'](_0xeedfaf(0xbca))[_0xeedfaf(0x376)]=_0x450574===currentQuizData[_0xeedfaf(0x72b)][_0xeedfaf(0x757)]-0x1;}async function checkShortAnswerForPresentation(_0x38d2fe){const _0x510550=_0x594c14,_0x2e69c2=currentQuizData[_0x510550(0x72b)][_0x38d2fe],_0x35c095=document['getElementById'](_0x510550(0x315)),_0x171766=document['getElementById']('check-presentation-answer-btn'),_0x3a18d4=document[_0x510550(0x68c)](_0x510550(0x520)),_0x5c76c5=document[_0x510550(0x68c)](_0x510550(0x696));if(!_0x35c095||!_0x171766||!_0x3a18d4||!_0x5c76c5)return;const _0x16fdea=_0x35c095[_0x510550(0x9a1)][_0x510550(0x99c)]();if(_0x16fdea==='')return;_0x171766[_0x510550(0x376)]=!![],_0x171766[_0x510550(0xa0c)]=_0x510550(0xcd5),_0x35c095['disabled']=!![];const _0x5cb2bb=await gradeShortAnswer(_0x16fdea,_0x2e69c2);_0x5cb2bb?_0x3a18d4[_0x510550(0xa0c)]=_0x510550(0x38b):_0x3a18d4[_0x510550(0xa0c)]=_0x510550(0xa7d)+_0x2e69c2[_0x510550(0x27b)]+')',_0x3a18d4['classList'][_0x510550(0x373)](_0x510550(0x1dc)),_0x5c76c5[_0x510550(0x936)][_0x510550(0x373)]('hidden'),_0x171766[_0x510550(0x936)][_0x510550(0x2de)](_0x510550(0x1dc));}function revealAnswerForPresentation(_0x3a3688,_0x3ace8f){const _0x12fac4=_0x594c14,_0x595fe5=currentQuizData[_0x12fac4(0x72b)][_0x3a3688],_0xd685ca=_0x595fe5['questionType']||currentQuizData[_0x12fac4(0x9c1)];document['querySelectorAll'](_0x12fac4(0x54f))[_0x12fac4(0x8be)](_0x24d3bb=>{const _0x56296a=_0x12fac4;_0x24d3bb[_0x56296a(0x376)]=!![],_0x24d3bb[_0x56296a(0x936)]['remove'](_0x56296a(0x48c));let _0x1230a1=![];if(_0xd685ca===_0x56296a(0x69d)||_0xd685ca===_0x56296a(0x386)){const _0x36c119=parseInt(_0x24d3bb[_0x56296a(0x7f1)][_0x56296a(0x258)]);_0x1230a1=_0x36c119===_0x595fe5['correctAnswerIndex'];}else{if(_0xd685ca===_0x56296a(0x8b0)){const _0x509d39=_0x24d3bb[_0x56296a(0x7f1)]['answer']===_0x56296a(0x300);_0x1230a1=_0x509d39===_0x595fe5['correctAnswer'];}else _0xd685ca==='matching_item'&&(_0x1230a1=_0x24d3bb[_0x56296a(0xb4b)][_0x56296a(0x99c)]()===_0x595fe5[_0x56296a(0x3ce)]);}_0x1230a1?_0x24d3bb['classList'][_0x56296a(0x2de)](_0x56296a(0x6cf),'text-white','border-green-700'):_0x24d3bb[_0x56296a(0x936)][_0x56296a(0x2de)](_0x56296a(0x32b));}),_0x3ace8f[_0x12fac4(0x936)]['remove'](_0x12fac4(0x32b));let _0x4679da=![];if(_0xd685ca===_0x12fac4(0x69d))_0x4679da=parseInt(_0x3ace8f[_0x12fac4(0x7f1)][_0x12fac4(0x258)])===_0x595fe5[_0x12fac4(0x671)];else{if(_0xd685ca==='true_false')_0x4679da=_0x3ace8f[_0x12fac4(0x7f1)][_0x12fac4(0x8da)]===_0x12fac4(0x300)===_0x595fe5[_0x12fac4(0xbfb)];else _0xd685ca===_0x12fac4(0x37f)&&(_0x4679da=_0x3ace8f['textContent'][_0x12fac4(0x99c)]()===_0x595fe5[_0x12fac4(0x3ce)]);}!_0x4679da&&_0x3ace8f[_0x12fac4(0x936)][_0x12fac4(0x2de)](_0x12fac4(0x9f9),_0x12fac4(0xc29),_0x12fac4(0xc3b)),document[_0x12fac4(0x68c)](_0x12fac4(0x696))[_0x12fac4(0x936)][_0x12fac4(0x373)]('hidden');}function startWholeQuizTimer(_0x309ae4){const _0x4756ff=_0x594c14,_0x4d9568=document[_0x4756ff(0x68c)]('timer-container');if(!_0x4d9568)return;const _0x54b8d7=Date[_0x4756ff(0x708)]()+_0x309ae4*0x3c*0x3e8;_0x4d9568[_0x4756ff(0xa0c)]=_0x4756ff(0x7af);const _0x486951=document[_0x4756ff(0x68c)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x58ff59=_0x4756ff,_0x1089ca=_0x54b8d7-Date[_0x58ff59(0x708)]();if(_0x1089ca<=0x0)clearInterval(quizTimerInterval),_0x486951[_0x58ff59(0xb4b)]='00:00',showMessage(_0x58ff59(0x739)),handleSubmitQuiz(null);else{const _0x52c7d4=Math[_0x58ff59(0xa3c)](_0x1089ca/0x3e8/0x3c%0x3c)[_0x58ff59(0x3d0)]()[_0x58ff59(0x59a)](0x2,'0'),_0x37fd14=Math[_0x58ff59(0xa3c)](_0x1089ca/0x3e8%0x3c)[_0x58ff59(0x3d0)]()[_0x58ff59(0x59a)](0x2,'0');_0x486951[_0x58ff59(0xb4b)]=_0x52c7d4+':'+_0x37fd14;}},0x3e8);}function renderPerQuestionView(){const _0x20dbc8=_0x594c14;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x5d1877=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x149ce1=_0x5d1877[_0x20dbc8(0x7cd)]||currentDisplayedQuiz[_0x20dbc8(0x9c1)],_0x43cba7=currentDisplayedQuiz[_0x20dbc8(0xbab)]?.[_0x20dbc8(0x9bb)]===!![];let _0x2118ea=_0x20dbc8(0x1bb)+(currentQuestionIndex+0x1)+_0x20dbc8(0xa51)+currentDisplayedQuiz[_0x20dbc8(0x72b)][_0x20dbc8(0x757)]+_0x20dbc8(0x320)+(currentMode==='admin-testing'?_0x20dbc8(0x1dd):'')+_0x20dbc8(0x6a6)+currentDisplayedQuiz[_0x20dbc8(0x72e)]+_0x20dbc8(0x2fb);studentQuizArea[_0x20dbc8(0xa0c)]=_0x2118ea;let _0x29f288=_0x5d1877[_0x20dbc8(0x346)]||_0x5d1877[_0x20dbc8(0x77a)];_0x5d1877[_0x20dbc8(0x1c6)]&&(_0x29f288+=_0x20dbc8(0xca0)+_0x5d1877['imageCode']+'</div>');let _0x5aefe4='';switch(_0x149ce1){case'short_answer':case _0x20dbc8(0xcb5):_0x5aefe4=_0x20dbc8(0x812);break;case _0x20dbc8(0x8b0):_0x5aefe4='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case'matching_item':_0x5aefe4=_0x20dbc8(0x6d9)+(_0x5d1877['allResponses']||[])[_0x20dbc8(0x345)](_0x4fe440=>_0x20dbc8(0x4a8)+_0x4fe440+'\x22>'+_0x4fe440+'</option>')[_0x20dbc8(0x95f)]('')+_0x20dbc8(0xb61);break;default:_0x5d1877[_0x20dbc8(0x9ac)]&&(_0x5aefe4=_0x5d1877[_0x20dbc8(0x9ac)][_0x20dbc8(0x345)]((_0x39812d,_0x31c985)=>_0x20dbc8(0x5c6)+_0x31c985+_0x20dbc8(0x67e)+_0x31c985+_0x20dbc8(0xb6d)+_0x31c985+'\x22>'+_0x39812d+_0x20dbc8(0x2fa))[_0x20dbc8(0x95f)](''));break;}document[_0x20dbc8(0x68c)](_0x20dbc8(0x507))[_0x20dbc8(0xa0c)]=_0x29f288,document[_0x20dbc8(0x68c)](_0x20dbc8(0x6c9))[_0x20dbc8(0xa0c)]=_0x5aefe4;const _0xa3542e=currentDisplayedQuiz[_0x20dbc8(0xbab)]?.[_0x20dbc8(0x9bb)]===!![],_0xcf3a02=currentDisplayedQuiz[_0x20dbc8(0xbab)]?.[_0x20dbc8(0x517)]||_0x20dbc8(0xaf6);if(_0xa3542e&&_0xcf3a02===_0x20dbc8(0xaf6)){const _0x3098c7=_0x20dbc8(0xc3a);studentQuizArea[_0x20dbc8(0x817)](_0x20dbc8(0x530))[_0x20dbc8(0x7d6)](_0x20dbc8(0x44d),_0x3098c7);}studentQuizArea[_0x20dbc8(0x7d6)](_0x20dbc8(0x44d),_0x20dbc8(0x6eb)+(currentQuestionIndex===currentDisplayedQuiz[_0x20dbc8(0x72b)]['length']-0x1?_0x20dbc8(0x594):_0x20dbc8(0x77f))+_0x20dbc8(0x974));currentMode==='admin-testing'&&document[_0x20dbc8(0x68c)](_0x20dbc8(0x228))?.[_0x20dbc8(0x7a0)](_0x20dbc8(0xc83),cancelAdminTest);document[_0x20dbc8(0x68c)](_0x20dbc8(0x6bf))[_0x20dbc8(0x7a0)](_0x20dbc8(0xc83),()=>handleNextQuestionInTimedMode(![]));if(window[_0x20dbc8(0x8e9)])window[_0x20dbc8(0x8e9)][_0x20dbc8(0x2e2)]([studentQuizArea]);currentDisplayedQuiz[_0x20dbc8(0xbab)]?.[_0x20dbc8(0x4b0)]===_0x20dbc8(0x9ba)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x479534=_0x594c14,_0x5db839=currentDisplayedQuiz[_0x479534(0xbab)]['timerDuration'],_0x4251c4=document[_0x479534(0x68c)](_0x479534(0xa53));if(!_0x4251c4)return;let _0x2e1909=_0x5db839;_0x4251c4[_0x479534(0xa0c)]=_0x479534(0x9b1)+_0x2e1909+_0x479534(0xb09);const _0x12cd42=document['getElementById'](_0x479534(0x7bf)),_0x19362d=document[_0x479534(0x68c)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0xca7a8b=_0x479534;_0x2e1909--;const _0x100ae7=_0x2e1909/_0x5db839*0x64;_0x12cd42[_0xca7a8b(0x62a)][_0xca7a8b(0x18f)]=_0x100ae7+'%',_0x19362d[_0xca7a8b(0xb4b)]=_0x2e1909,_0x2e1909<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0xca7a8b(0x582)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0xb4e079=![]){const _0x3aa243=_0x594c14;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x223a50=null,_0x5e9723=![];if(!_0xb4e079){const _0x3848b1=currentDisplayedQuiz[_0x3aa243(0x72b)][currentQuestionIndex],_0x57e691=_0x3848b1[_0x3aa243(0x7cd)]||currentDisplayedQuiz['quizType'];if(_0x57e691==='short_answer'||_0x57e691===_0x3aa243(0xcb5))_0x223a50=document[_0x3aa243(0x817)](_0x3aa243(0x3a3))?.['value']['trim']()??'';else{if(_0x57e691===_0x3aa243(0x37f))_0x223a50=document[_0x3aa243(0x817)]('select[name=\x22question_single\x22]')?.[_0x3aa243(0x9a1)]??'';else{const _0x19caa1=document[_0x3aa243(0x817)](_0x3aa243(0xa49));_0x19caa1&&(_0x223a50=_0x19caa1[_0x3aa243(0x9a1)]);}}if(_0x223a50===null||_0x223a50===''){showMessage(_0x3aa243(0x831)),startPerQuestionTimer();return;}const _0x3f34cd=currentDisplayedQuiz[_0x3aa243(0xbab)]?.[_0x3aa243(0x9bb)]===!![],_0x947267=currentDisplayedQuiz['settings']?.[_0x3aa243(0x517)]||_0x3aa243(0xaf6);if(_0x3f34cd&&_0x947267===_0x3aa243(0x5f7)){document['getElementById'](_0x3aa243(0x1be))[_0x3aa243(0x7f1)]['currentMode']='timed',document['getElementById'](_0x3aa243(0x24d))[_0x3aa243(0x9a1)]=_0x223a50,document[_0x3aa243(0x68c)]('confidence-modal')[_0x3aa243(0x936)][_0x3aa243(0x373)](_0x3aa243(0x1dc));return;}const _0xa6d2b6=document[_0x3aa243(0x68c)]('confidence_single');_0xa6d2b6&&(_0x5e9723=_0xa6d2b6[_0x3aa243(0x9cb)]);}const _0x249885={'answer':_0x223a50,'wasConfident':_0x5e9723};proceedToNextQuestion(_0x249885);}async function finalizePerQuestionQuiz(){const _0x2c2f8c=_0x594c14,_0x1332bf=currentDisplayedQuiz['questions'][_0x2c2f8c(0x54a)](_0x44fa55=>_0x44fa55[_0x2c2f8c(0x7cd)]===_0x2c2f8c(0xa97));_0x1332bf?showMessage(_0x2c2f8c(0x879)):showMessage(_0x2c2f8c(0xc02));const _0x4f49a3=currentQuizData['id'],_0x733be3=doc(db,_0x2c2f8c(0x632)+appId+'/public/data/quizzes/'+_0x4f49a3+_0x2c2f8c(0x21e),currentStudentName),_0x4d3beb=await getDoc(_0x733be3),_0x2d18b7=_0x4d3beb['exists']()?_0x4d3beb[_0x2c2f8c(0x21d)]():{},_0x2f9201=_0x2d18b7['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x2f9201);}function getResultsFilename(){const _0x4cb893=_0x594c14,_0x5e3eee=document[_0x4cb893(0x68c)](_0x4cb893(0xb22))[_0x4cb893(0xb4b)][_0x4cb893(0xaa5)](/[^a-z0-9]/gi,'_')[_0x4cb893(0x986)]();return _0x4cb893(0x5c0)+(_0x5e3eee||_0x4cb893(0xab4));}function exportResultsAsImage(){const _0x688f6b=_0x594c14,_0x3b2ec9=document[_0x688f6b(0x68c)](_0x688f6b(0x702));showMessage(_0x688f6b(0x9d2)),html2canvas(_0x3b2ec9)[_0x688f6b(0xa73)](_0x31f6da=>{const _0x2862e2=_0x688f6b,_0x37792f=document[_0x2862e2(0x604)]('a');_0x37792f['download']=getResultsFilename()+_0x2862e2(0x7e5),_0x37792f[_0x2862e2(0xb8d)]=_0x31f6da['toDataURL']('image/png'),_0x37792f[_0x2862e2(0xc83)](),messageModal['classList'][_0x2862e2(0x2de)](_0x2862e2(0x1dc));});}function exportResultsAsPDF(){const _0x10e508=_0x594c14,{jsPDF:_0x4ecb58}=window[_0x10e508(0x46a)],_0x49547c=new _0x4ecb58();_0x49547c[_0x10e508(0x296)](_0x10e508(0x688),_0x10e508(0x22e)),_0x49547c[_0x10e508(0x64f)]({'html':_0x10e508(0x85e)}),_0x49547c[_0x10e508(0x6fd)](getResultsFilename()+_0x10e508(0xcef));}function exportResultsAsWord(){const _0x4e93ae=_0x594c14,_0x5b98b1=_0x4e93ae(0x28a)+_0x4e93ae(0x893)+_0x4e93ae(0x472)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x2d0df0=_0x4e93ae(0x336),_0x2e12d9=_0x5b98b1+document[_0x4e93ae(0x68c)](_0x4e93ae(0x702))[_0x4e93ae(0xa0c)]+_0x2d0df0,_0x574f63=_0x4e93ae(0xcf9)+encodeURIComponent(_0x2e12d9),_0x587f39=document[_0x4e93ae(0x604)]('a');document[_0x4e93ae(0xbd0)]['appendChild'](_0x587f39),_0x587f39[_0x4e93ae(0xb8d)]=_0x574f63,_0x587f39[_0x4e93ae(0xbf4)]=getResultsFilename()+_0x4e93ae(0x44b),_0x587f39[_0x4e93ae(0xc83)](),document[_0x4e93ae(0xbd0)][_0x4e93ae(0x7ca)](_0x587f39);}function exportResultsAsExcel(){const _0x4ade97=_0x594c14,_0x372254=document[_0x4ade97(0x68c)](_0x4ade97(0x752));let _0x48eacb=[];for(let _0xbc92f3=0x0;_0xbc92f3<_0x372254[_0x4ade97(0xcee)][_0x4ade97(0x757)];_0xbc92f3++){let _0x12cf1c=[],_0x499838=_0x372254[_0x4ade97(0xcee)][_0xbc92f3][_0x4ade97(0x9c3)]('td,\x20th');for(let _0x46c835=0x0;_0x46c835<_0x499838[_0x4ade97(0x757)];_0x46c835++){_0x12cf1c[_0x4ade97(0x861)]('\x22'+_0x499838[_0x46c835][_0x4ade97(0x558)][_0x4ade97(0xaa5)](/"/g,'\x22\x22')+'\x22');}_0x48eacb['push'](_0x12cf1c[_0x4ade97(0x95f)](','));}const _0x55c574=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x48eacb[_0x4ade97(0x95f)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x5ccde3=document['createElement']('a');_0x5ccde3['href']=URL[_0x4ade97(0x5a1)](_0x55c574),_0x5ccde3[_0x4ade97(0xbf4)]=getResultsFilename()+_0x4ade97(0x823),_0x5ccde3['click']();}function exportTableAsImage(_0x3e88a3,_0x393827){const _0xd39390=_0x594c14,_0x1dd803=document[_0xd39390(0x68c)](_0x3e88a3);if(!_0x1dd803){showMessage(_0xd39390(0xc72));return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x1dd803)[_0xd39390(0xa73)](_0x2b160f=>{const _0x3e33c2=_0xd39390,_0x46efdd=document[_0x3e33c2(0x604)]('a');_0x46efdd[_0x3e33c2(0xbf4)]=_0x393827+_0x3e33c2(0x7e5),_0x46efdd[_0x3e33c2(0xb8d)]=_0x2b160f[_0x3e33c2(0xc32)]('image/png'),_0x46efdd['click'](),messageModal['classList']['add']('hidden');});}function exportTableAsPDF(_0x3ff712,_0x453ca1){const _0x38a57e=_0x594c14,{jsPDF:_0x7b507b}=window[_0x38a57e(0x46a)],_0x7387bb=new _0x7b507b();_0x7387bb[_0x38a57e(0x296)](_0x38a57e(0x688),'normal'),_0x7387bb[_0x38a57e(0x64f)]({'html':'#'+_0x3ff712}),_0x7387bb[_0x38a57e(0x6fd)](_0x453ca1+_0x38a57e(0xcef));}function exportTableAsWord(_0x58d3aa,_0x266d87){const _0x4a48e2=_0x594c14,_0x302a35=document[_0x4a48e2(0x68c)](_0x58d3aa);if(!_0x302a35){showMessage(_0x4a48e2(0xc72));return;}const _0x337f90='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x4a48e2(0x893)+_0x4a48e2(0x472)+_0x4a48e2(0x23a),_0x48a59e=_0x4a48e2(0x336),_0x40fdc4=_0x337f90+_0x302a35['innerHTML']+_0x48a59e,_0x24b662=_0x4a48e2(0xcf9)+encodeURIComponent(_0x40fdc4),_0xd81f63=document[_0x4a48e2(0x604)]('a');document['body'][_0x4a48e2(0x745)](_0xd81f63),_0xd81f63['href']=_0x24b662,_0xd81f63[_0x4a48e2(0xbf4)]=_0x266d87+_0x4a48e2(0x44b),_0xd81f63[_0x4a48e2(0xc83)](),document[_0x4a48e2(0xbd0)][_0x4a48e2(0x7ca)](_0xd81f63);}function exportTableAsExcel(_0x3ed122,_0x151775){const _0x141d77=_0x594c14,_0x52c4f3=document[_0x141d77(0x68c)](_0x3ed122);if(!_0x52c4f3){showMessage(_0x141d77(0xc72));return;}let _0x2ec808=[];for(let _0x392d88=0x0;_0x392d88<_0x52c4f3[_0x141d77(0xcee)][_0x141d77(0x757)];_0x392d88++){let _0x465d21=[],_0x1c315d=_0x52c4f3['rows'][_0x392d88][_0x141d77(0x9c3)]('td,\x20th');for(let _0x22c115=0x0;_0x22c115<_0x1c315d[_0x141d77(0x757)];_0x22c115++){_0x465d21[_0x141d77(0x861)]('\x22'+_0x1c315d[_0x22c115][_0x141d77(0x558)][_0x141d77(0xaa5)](/"/g,'\x22\x22')+'\x22');}_0x2ec808['push'](_0x465d21[_0x141d77(0x95f)](','));}const _0x21dcf4=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x2ec808[_0x141d77(0x95f)]('\x0a')],{'type':_0x141d77(0x3c4)}),_0x54aecf=document[_0x141d77(0x604)]('a');_0x54aecf['href']=URL[_0x141d77(0x5a1)](_0x21dcf4),_0x54aecf[_0x141d77(0xbf4)]=_0x151775+_0x141d77(0x823),_0x54aecf[_0x141d77(0xc83)]();}function renderAnalytics(_0x15be43,_0x3c8a72){const _0x5e4857=_0x594c14,_0x3d5869=_0x3c8a72[_0x5e4857(0x298)](_0x3317cb=>_0x3317cb['latestScore']!==undefined),_0xbb23d2=currentProjectData[_0x5e4857(0xc9a)]['length'],_0x3e5eb7=_0x3d5869[_0x5e4857(0x757)],_0x34c080=_0xbb23d2-_0x3e5eb7,_0x58f461=_0xbb23d2>0x0?_0x3e5eb7/_0xbb23d2*0x64:0x0,_0x912ca=_0x3d5869[_0x5e4857(0x345)](_0x2e280c=>_0x2e280c['latestScore']),_0x4202e7=_0x912ca['length']>0x0?_0x912ca[_0x5e4857(0x658)]((_0x298b5c,_0x3274eb)=>_0x298b5c+_0x3274eb,0x0)/_0x912ca['length']:0x0,_0x2c71f3=_0x15be43['questions'][_0x5e4857(0x757)],_0x5df314=_0x2c71f3>0x0?_0x4202e7/_0x2c71f3*0x64:0x0,_0x372e05=calculateItemAnalysis(_0x15be43,_0x3d5869),_0x3e285f=calculateReliabilityKR20(_0x15be43,_0x3d5869,_0x372e05[_0x5e4857(0x636)]);let _0x33df4b='';if(_0x3e285f!==null){let _0x2ec367='';if(_0x3e285f>=0.9)_0x2ec367=_0x5e4857(0xc1f);else{if(_0x3e285f>=0.8)_0x2ec367=_0x5e4857(0x729);else{if(_0x3e285f>=0.7)_0x2ec367='ดี';else{if(_0x3e285f>=0.6)_0x2ec367='พอใช้';else _0x2ec367='ควรปรับปรุง';}}}_0x33df4b=_0x5e4857(0x911)+_0x3e285f[_0x5e4857(0x724)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x2ec367+_0x5e4857(0x52d);}const _0x50b415=document[_0x5e4857(0x68c)](_0x5e4857(0x23b));_0x50b415[_0x5e4857(0xa0c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x58f461[_0x5e4857(0x724)](0x0)+_0x5e4857(0x896)+_0x3e5eb7+'/'+_0xbb23d2+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x4202e7['toFixed'](0x2)+_0x5e4857(0x8a9)+_0x5df314[_0x5e4857(0x724)](0x0)+_0x5e4857(0x40c)+(_0x912ca['length']>0x0?Math[_0x5e4857(0x2d3)](..._0x912ca):_0x5e4857(0xbe3))+_0x5e4857(0x208)+(_0x912ca[_0x5e4857(0x757)]>0x0?Math[_0x5e4857(0x99a)](..._0x912ca):'N/A')+_0x5e4857(0x397)+_0x33df4b+_0x5e4857(0x546);const _0x44b2ec=document[_0x5e4857(0x68c)](_0x5e4857(0x5b8));_0x44b2ec&&_0x44b2ec['remove']();const _0x39bda6=_0x5e4857(0x524);_0x50b415[_0x5e4857(0x7d6)](_0x5e4857(0x892),_0x39bda6);const _0x829d86=currentProjectData[_0x5e4857(0xc9a)]||[];renderSubmissionChart(_0x3e5eb7,_0x34c080,_0x3d5869,_0x829d86),renderScoreDistributionChart(_0x3d5869,_0x2c71f3),renderQuestionAnalytics(_0x15be43,_0x3d5869,_0x829d86),renderInterestingStats(_0x15be43,_0x3d5869);}async function handleExportLessonPDF(){const _0x10946f=_0x594c14,_0x37eb02=document[_0x10946f(0x68c)](_0x10946f(0xa04)),_0xdca1af=document[_0x10946f(0x68c)](_0x10946f(0x6d5))['textContent'],_0x1bb3f4=window[_0x10946f(0x801)]('',_0x10946f(0x726)),_0x198752=_0x10946f(0x30f)+_0xdca1af+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37eb02[_0x10946f(0xa0c)]+_0x10946f(0xb86);_0x1bb3f4['document'][_0x10946f(0x526)](_0x198752),_0x1bb3f4[_0x10946f(0x325)]['close'](),_0x1bb3f4[_0x10946f(0x4f6)]=function(){setTimeout(()=>{const _0xa03732=_0x27d0;_0x1bb3f4[_0xa03732(0x816)]();},0x5dc);};}function renderInterestingStats(_0x296922,_0x5de2e5){const _0x12f592=_0x594c14,_0x1f38a9=document['getElementById']('interesting-stats-container');if(!_0x1f38a9)return;if(_0x5de2e5[_0x12f592(0x757)]===0x0){_0x1f38a9[_0x12f592(0xa0c)]=_0x12f592(0x550);return;}const _0x231629=_0x296922['questions']['map']((_0x510976,_0x5721b1)=>({'index':_0x5721b1+0x1,'text':_0x510976[_0x12f592(0x77a)]||_0x510976[_0x12f592(0x346)],'correct':0x0}));_0x5de2e5[_0x12f592(0x8be)](_0x17e1bc=>{const _0x4b3715=_0x12f592,_0x21f17c=_0x17e1bc['attempts'][_0x17e1bc[_0x4b3715(0x51d)][_0x4b3715(0x757)]-0x1];_0x21f17c&&_0x21f17c[_0x4b3715(0x576)]&&_0x21f17c['answers'][_0x4b3715(0x8be)](_0x3b5026=>{const _0x2cd989=_0x4b3715,_0xeea211=_0x231629[_0x2cd989(0xad3)](_0xc856b5=>_0xc856b5[_0x2cd989(0x4b6)]===_0x3b5026[_0x2cd989(0x901)]);_0x3b5026[_0x2cd989(0xa60)]&&_0xeea211&&_0xeea211['correct']++;});});const _0x4248db=_0x5de2e5['length'],_0x227a13=Math['max'](..._0x231629[_0x12f592(0x345)](_0x21db03=>_0x21db03[_0x12f592(0x3d8)])),_0xdd59f6=Math[_0x12f592(0x99a)](..._0x231629[_0x12f592(0x345)](_0x220199=>_0x220199[_0x12f592(0x3d8)])),_0x199847=_0x231629[_0x12f592(0x298)](_0x3c8725=>_0x3c8725[_0x12f592(0x3d8)]===_0x227a13)['map'](_0x3f2563=>_0x12f592(0x328)+_0x3f2563[_0x12f592(0x258)]),_0x511e07=_0x231629[_0x12f592(0x298)](_0x41a9a4=>_0x41a9a4['correct']===_0xdd59f6)[_0x12f592(0x345)](_0xab5926=>_0x12f592(0x328)+_0xab5926[_0x12f592(0x258)]),_0x1eb509=_0x5de2e5[_0x12f592(0x387)]((_0x813928,_0x11756f)=>_0x11756f['latestScore']-_0x813928[_0x12f592(0x1f2)])[_0x12f592(0x298)]((_0x16389e,_0x5d0753,_0x1b7875)=>_0x16389e[_0x12f592(0x1f2)]===_0x1b7875[0x0][_0x12f592(0x1f2)]),_0x329000=_0x5de2e5[_0x12f592(0x387)]((_0x3f0d5e,_0x3a80a7)=>_0x3f0d5e[_0x12f592(0x1f2)]-_0x3a80a7[_0x12f592(0x1f2)])[_0x12f592(0x298)]((_0x388abd,_0x13ce10,_0x42a9fd)=>_0x388abd[_0x12f592(0x1f2)]===_0x42a9fd[0x0]['latestScore']),_0x13c31d=_0x12f592(0x63c)+_0x199847[_0x12f592(0x95f)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x227a13+_0x12f592(0x431)+_0x4248db+_0x12f592(0x95d)+_0x511e07[_0x12f592(0x95f)](',\x20')+_0x12f592(0xb1b)+(_0x4248db-_0xdd59f6)+'\x20/\x20'+_0x4248db+_0x12f592(0x5f8)+_0x1eb509[_0x12f592(0x345)](_0x31ad8e=>_0x31ad8e[_0x12f592(0xc53)])[_0x12f592(0x95f)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x1eb509[0x0][_0x12f592(0x1f2)]+_0x12f592(0x230)+_0x329000[_0x12f592(0x345)](_0xbf8c3b=>_0xbf8c3b[_0x12f592(0xc53)])['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x329000[0x0][_0x12f592(0x1f2)]+_0x12f592(0x244);_0x1f38a9['innerHTML']=_0x13c31d;}function renderSubmissionChart(_0x4cda44,_0x2d0e36,_0x572260,_0x49c945){const _0x960e91=_0x594c14,_0x18537c=document[_0x960e91(0x68c)](_0x960e91(0x742))[_0x960e91(0xc52)]('2d'),_0x5dc364=_0x572260['map'](_0x299ff2=>_0x299ff2[_0x960e91(0xc53)]),_0x1d2f6d=_0x49c945['filter'](_0x3011c2=>!_0x5dc364['includes'](_0x3011c2));chartInstances['submission']&&chartInstances[_0x960e91(0x7d0)][_0x960e91(0x887)](),chartInstances[_0x960e91(0x7d0)]=new Chart(_0x18537c,{'type':_0x960e91(0x202),'data':{'labels':[_0x960e91(0x479),_0x960e91(0x353)],'datasets':[{'data':[_0x4cda44,_0x2d0e36],'backgroundColor':[_0x960e91(0x1c0),_0x960e91(0xc74)],'borderColor':[_0x960e91(0x4c8),_0x960e91(0x4c8)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x960e91(0x59f)},'tooltip':{'callbacks':{'label':function(_0x338112){const _0x3bb57d=_0x960e91;let _0x56cccd=_0x338112[_0x3bb57d(0x82e)]||'';return _0x56cccd&&(_0x56cccd+=':\x20'),_0x56cccd+=_0x338112[_0x3bb57d(0xc4b)],_0x56cccd;},'afterLabel':function(_0x45fb76){const _0x30e938=_0x960e91;let _0x3f4b2a;return _0x45fb76[_0x30e938(0xb39)]===0x0?_0x3f4b2a=_0x5dc364:_0x3f4b2a=_0x1d2f6d,_0x3f4b2a[_0x30e938(0x757)]>0x0?_0x3f4b2a[_0x30e938(0x95f)]('\x0a'):_0x30e938(0x8f2);}}}}}});}function renderScoreDistributionChart(_0x507cf5,_0x93d6e){const _0x1d3022=_0x594c14,_0x388e9c=document[_0x1d3022(0x68c)]('score-distribution-chart')['getContext']('2d'),_0x13f6f3={};for(let _0x48a9d3=0x0;_0x48a9d3<=_0x93d6e;_0x48a9d3++){_0x13f6f3[_0x48a9d3]=0x0;}_0x507cf5[_0x1d3022(0x8be)](_0x4863c8=>{const _0x466e95=_0x1d3022;_0x13f6f3[_0x4863c8['latestScore']]!==undefined&&_0x13f6f3[_0x4863c8[_0x466e95(0x1f2)]]++;}),chartInstances['score']&&chartInstances[_0x1d3022(0xc54)][_0x1d3022(0x887)](),chartInstances[_0x1d3022(0xc54)]=new Chart(_0x388e9c,{'type':_0x1d3022(0xbd8),'data':{'labels':Object['keys'](_0x13f6f3),'datasets':[{'label':_0x1d3022(0x31d),'data':Object[_0x1d3022(0x694)](_0x13f6f3),'backgroundColor':_0x1d3022(0x5b6),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x1d3022(0x421)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x3a3028){const _0x34a6d2=_0x1d3022,_0x3caf2b=_0x3a3028['label'],_0x2ba45b=_0x507cf5[_0x34a6d2(0x298)](_0x52caa8=>_0x52caa8[_0x34a6d2(0x1f2)]==_0x3caf2b)['map'](_0x2b3a70=>_0x2b3a70[_0x34a6d2(0xc53)]);return _0x2ba45b['length']>0x0?_0x2ba45b[_0x34a6d2(0x95f)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x84e44c,_0x220fa8,_0x251a8a){const _0x2f0c97=_0x594c14,_0x562352=document[_0x2f0c97(0x68c)](_0x2f0c97(0x359));if(_0x251a8a[_0x2f0c97(0x757)]===0x0){_0x562352[_0x2f0c97(0xa0c)]=_0x2f0c97(0xa36);return;}const _0x91910b=calculateItemAnalysis(_0x84e44c,_0x220fa8),_0x55bf8c=calculateDistractorAnalysis(_0x84e44c,_0x220fa8);let _0x4254ea='';_0x91910b[_0x2f0c97(0xb13)]&&(_0x4254ea=_0x2f0c97(0x863)+_0x91910b['overallGroups'][_0x2f0c97(0x2ec)][_0x2f0c97(0x757)]+_0x2f0c97(0xbf5)+_0x91910b[_0x2f0c97(0xb13)][_0x2f0c97(0x2ec)][_0x2f0c97(0x345)](_0x53e5d6=>_0x2f0c97(0x2d8)+_0x53e5d6+'</li>')[_0x2f0c97(0x95f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x91910b[_0x2f0c97(0xb13)][_0x2f0c97(0x736)][_0x2f0c97(0x757)]+_0x2f0c97(0xbf5)+_0x91910b['overallGroups'][_0x2f0c97(0x736)][_0x2f0c97(0x345)](_0x3c106d=>_0x2f0c97(0x2d8)+_0x3c106d+_0x2f0c97(0x890))[_0x2f0c97(0x95f)]('')+_0x2f0c97(0xb1f));let _0x41bab4='';const _0x40784d=_0x220fa8[_0x2f0c97(0x345)](_0x3cdb2a=>_0x3cdb2a[_0x2f0c97(0xc53)]),_0x44d644=_0x2a0a20=>{const _0x3805a5=_0x2f0c97;if(_0x2a0a20>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x2a0a20>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x2a0a20>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x2a0a20>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x3805a5(0x627);},_0xef1335=_0x39f2d6=>{const _0x2735e7=_0x2f0c97;if(_0x39f2d6<0x0)return _0x2735e7(0x6ce);if(_0x39f2d6>=0.4)return _0x2735e7(0x821);if(_0x39f2d6>=0.3)return _0x2735e7(0x5b5);if(_0x39f2d6>=0.2)return _0x2735e7(0x5c2);return _0x2735e7(0x889);},_0x2bd4a2=_0x383edd=>{const _0xb366fc=_0x2f0c97,_0x5ac269=_0x383edd[_0xb366fc(0x724)](0x0);if(parseFloat(_0x5ac269)===0x64)return _0xb366fc(0x24b)+_0x5ac269+_0xb366fc(0x62b);if(_0x383edd>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x5ac269+_0xb366fc(0x62b);return _0xb366fc(0x8f7)+_0x5ac269+_0xb366fc(0x62b);};_0x84e44c[_0x2f0c97(0x72b)]['forEach']((_0x4d11d1,_0x1dcde5)=>{const _0x3e4478=_0x2f0c97,_0xd0eafe=_0x91910b[_0x3e4478(0x636)][_0x1dcde5],_0x5813d0=_0x55bf8c[_0x1dcde5],_0x34b63f=_0x4d11d1[_0x3e4478(0x346)]||_0x4d11d1['questionText']||_0x4d11d1[_0x3e4478(0x7a6)];let _0x1bdbce=0x0;const _0x186b5b=[],_0x34304c=[];_0x220fa8['forEach'](_0x3e14d0=>{const _0x24f1fd=_0x3e4478,_0x397b35=_0x3e14d0[_0x24f1fd(0x51d)][_0x3e14d0[_0x24f1fd(0x51d)][_0x24f1fd(0x757)]-0x1];if(_0x397b35&&_0x397b35[_0x24f1fd(0x576)]){const _0x4b3bf1=_0x397b35[_0x24f1fd(0x576)][_0x24f1fd(0xad3)](_0x500677=>_0x500677[_0x24f1fd(0x901)]===_0x34b63f)??_0x397b35[_0x24f1fd(0x576)][_0x1dcde5]??null;_0x4b3bf1&&(_0x4b3bf1[_0x24f1fd(0xa60)]?(_0x1bdbce++,_0x186b5b['push'](_0x3e14d0[_0x24f1fd(0xc53)])):_0x34304c[_0x24f1fd(0x861)](_0x3e14d0[_0x24f1fd(0xc53)]));}});const _0x4be0dc=_0x220fa8[_0x3e4478(0x757)]>0x0?_0x1bdbce/_0x220fa8[_0x3e4478(0x757)]*0x64:0x0,_0x24d1f5=_0x251a8a[_0x3e4478(0x298)](_0x56a411=>!_0x40784d[_0x3e4478(0x92b)](_0x56a411)),_0x1eb146=_0xd0eafe?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0xd0eafe['p'][_0x3e4478(0x724)](0x2)+'</p><div>'+_0x44d644(_0xd0eafe['p'])+_0x3e4478(0xc8b)+_0xd0eafe['r'][_0x3e4478(0x724)](0x2)+_0x3e4478(0x282)+_0xef1335(_0xd0eafe['r'])+_0x3e4478(0x418)+_0x2bd4a2(_0x4be0dc)+_0x3e4478(0x67f):'';let _0x2e754='';_0x5813d0&&(_0x2e754='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x3e4478(0x2e8)](_0x5813d0)['map'](_0x4463af=>{const _0x576a0f=_0x3e4478,_0x2895fa=_0x5813d0[_0x4463af],_0x456e51=parseInt(_0x4463af)===_0x4d11d1[_0x576a0f(0x671)],_0x18124a=!_0x456e51&&_0x2895fa[_0x576a0f(0x7a9)]>_0x2895fa[_0x576a0f(0x53f)];return _0x576a0f(0xb64)+(_0x456e51?'bg-green-100\x20font-bold':'')+_0x576a0f(0x1a1)+(_0x456e51?'✔\x20':'')+_0x2895fa[_0x576a0f(0x4b6)]+_0x576a0f(0x73b)+_0x2895fa[_0x576a0f(0x53f)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x2895fa[_0x576a0f(0x7a9)]+'\x20'+(_0x18124a?'👍':'')+_0x576a0f(0x73b)+_0x2895fa[_0x576a0f(0x46f)]+_0x576a0f(0x8f0);})[_0x3e4478(0x95f)]('')+_0x3e4478(0x1fd));let _0x2d381c='';_0xd0eafe&&_0xd0eafe[_0x3e4478(0x2b0)]&&(_0x2d381c=_0x3e4478(0xc94)+_0xd0eafe[_0x3e4478(0x2b0)]['length']+_0x3e4478(0x1b2)+_0xd0eafe[_0x3e4478(0x2b0)][_0x3e4478(0x345)](_0x57fd21=>_0x3e4478(0x2d8)+(_0x57fd21[_0x3e4478(0xa60)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x3e4478(0xb4f))+'\x20'+_0x57fd21[_0x3e4478(0xb31)]+_0x3e4478(0x890))[_0x3e4478(0x95f)]('')+_0x3e4478(0xcdb)+_0xd0eafe[_0x3e4478(0x23f)][_0x3e4478(0x757)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0xd0eafe[_0x3e4478(0x23f)][_0x3e4478(0x345)](_0x55b3e5=>_0x3e4478(0x2d8)+(_0x55b3e5[_0x3e4478(0xa60)]?_0x3e4478(0xab7):_0x3e4478(0xb4f))+'\x20'+_0x55b3e5[_0x3e4478(0xb31)]+_0x3e4478(0x890))[_0x3e4478(0x95f)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x41bab4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x1dcde5+0x1)+':\x20'+_0x34b63f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x1eb146+_0x3e4478(0xcdd)+_0x34b63f+_0x3e4478(0x9ce)+_0x1bdbce+_0x3e4478(0xa51)+_0x220fa8[_0x3e4478(0x757)]+_0x3e4478(0x6fc)+_0x4be0dc['toFixed'](0x0)+_0x3e4478(0x804)+_0x186b5b[_0x3e4478(0x757)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x186b5b['length']>0x0?_0x186b5b[_0x3e4478(0x95f)](',\x20'):'ไม่มี')+_0x3e4478(0x4e6)+_0x34304c[_0x3e4478(0x757)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x34304c[_0x3e4478(0x757)]>0x0?_0x34304c[_0x3e4478(0x95f)](',\x20'):'ไม่มี')+_0x3e4478(0x56b)+_0x24d1f5[_0x3e4478(0x757)]+_0x3e4478(0x1c3)+(_0x24d1f5[_0x3e4478(0x757)]>0x0?_0x24d1f5['join'](',\x20'):_0x3e4478(0x8f2))+_0x3e4478(0x6f8)+_0x2e754+_0x3e4478(0x695)+_0x2d381c+_0x3e4478(0x836);}),_0x562352['innerHTML']=_0x4254ea+_0x41bab4;try{window[_0x2f0c97(0x8e9)]&&MathJax[_0x2f0c97(0x2e2)]&&MathJax[_0x2f0c97(0x2e2)]([_0x562352]);}catch(_0x1af45f){console[_0x2f0c97(0x4e5)](_0x2f0c97(0x929),_0x1af45f);}}function calculateDistractorAnalysis(_0x1c8e4d,_0xeac7a){const _0x4d8576=_0x594c14,_0x355ffb={};if(_0xeac7a[_0x4d8576(0x757)]<0x2)return _0x355ffb;const _0x4db230=[..._0xeac7a][_0x4d8576(0x387)]((_0x39cd2d,_0x1a5bb0)=>{const _0xe78635=_0x4d8576,_0x237684=_0x1a5bb0[_0xe78635(0x1f2)]-_0x39cd2d[_0xe78635(0x1f2)];if(_0x237684!==0x0)return _0x237684;const _0x3cf240=_0x39cd2d[_0xe78635(0x51d)]?.[_0xe78635(0x757)]||0x1,_0x527d98=_0x1a5bb0['attempts']?.[_0xe78635(0x757)]||0x1,_0x137550=_0x3cf240-_0x527d98;if(_0x137550!==0x0)return _0x137550;const _0x319991=new Date(_0x39cd2d[_0xe78635(0x6a1)]),_0x45121=new Date(_0x1a5bb0[_0xe78635(0x6a1)]),_0x20f714=_0x319991-_0x45121;if(_0x20f714!==0x0)return _0x20f714;return _0x39cd2d[_0xe78635(0xc53)][_0xe78635(0x480)](_0x1a5bb0[_0xe78635(0xc53)],'th');}),_0x6c8c85=_0x4db230[_0x4d8576(0x757)],_0x372dd1=Math[_0x4d8576(0x2d3)](0x1,Math[_0x4d8576(0xa3c)](_0x6c8c85*0.33)),_0x42f645=_0x4db230['slice'](0x0,_0x372dd1),_0x386c9f=_0x4db230['slice'](-_0x372dd1);return _0x1c8e4d[_0x4d8576(0x72b)][_0x4d8576(0x8be)]((_0x3605b7,_0x3294f9)=>{const _0xf800e4=_0x4d8576;if(_0x3605b7[_0xf800e4(0x7cd)]!==_0xf800e4(0x69d)||!_0x3605b7['options'])return;const _0x39d6eb=_0x3605b7[_0xf800e4(0x77a)],_0x45b032={};_0x3605b7['options'][_0xf800e4(0x8be)]((_0x1827a6,_0x2a6051)=>{_0x45b032[_0x2a6051]={'text':_0x1827a6,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x4db230['forEach'](_0x5c8190=>{const _0x363243=_0xf800e4,_0x65d573=_0x5c8190[_0x363243(0x51d)][_0x5c8190[_0x363243(0x51d)][_0x363243(0x757)]-0x1],_0x593679=_0x65d573[_0x363243(0x576)][_0x363243(0xad3)](_0x2022ab=>_0x2022ab[_0x363243(0x901)]===_0x39d6eb);if(_0x593679&&_0x593679['answer']!==null){const _0x447aa9=_0x3605b7['options'][_0x363243(0x1e3)](_0x2406a6=>_0x2406a6===_0x593679[_0x363243(0x983)]);_0x447aa9!==-0x1&&_0x45b032[_0x447aa9]&&(_0x45b032[_0x447aa9][_0x363243(0x46f)]++,_0x42f645[_0x363243(0x92b)](_0x5c8190)&&_0x45b032[_0x447aa9][_0x363243(0x53f)]++,_0x386c9f[_0x363243(0x92b)](_0x5c8190)&&_0x45b032[_0x447aa9][_0x363243(0x7a9)]++);}}),_0x355ffb[_0x3294f9]=_0x45b032;}),_0x355ffb;}function calculateReliabilityKR20(_0x165ba7,_0x49967d,_0x9ceec){const _0x4110a2=_0x594c14,_0x1fea37=_0x165ba7[_0x4110a2(0x72b)][_0x4110a2(0x757)];if(_0x1fea37<0x2||_0x49967d[_0x4110a2(0x757)]<0x2)return null;const _0x10226a=_0x49967d['map'](_0x19b5b3=>_0x19b5b3[_0x4110a2(0x1f2)]),_0x146b24=_0x10226a[_0x4110a2(0x658)]((_0x2975fe,_0x5ba55c)=>_0x2975fe+_0x5ba55c,0x0)/_0x10226a[_0x4110a2(0x757)],_0x2ccdd1=_0x10226a[_0x4110a2(0x345)](_0xad64dd=>Math['pow'](_0xad64dd-_0x146b24,0x2))['reduce']((_0x42b8c3,_0x4e33b7)=>_0x42b8c3+_0x4e33b7,0x0)/_0x10226a[_0x4110a2(0x757)];if(_0x2ccdd1===0x0)return null;let _0x5d9439=0x0;for(let _0x6c0852=0x0;_0x6c0852<_0x1fea37;_0x6c0852++){const _0x239fda=_0x9ceec[_0x6c0852]?.['p'];if(_0x239fda===undefined)continue;const _0x369c33=0x1-_0x239fda;_0x5d9439+=_0x239fda*_0x369c33;}if(_0x5d9439===0x0)return null;const _0x384750=_0x1fea37/(_0x1fea37-0x1)*(0x1-_0x5d9439/_0x2ccdd1);if(_0x384750>0x1)return null;return _0x384750;}async function handleAnalyzeClass(){const _0x293998=_0x594c14;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x21147b=collection(db,_0x293998(0x632)+appId+_0x293998(0x6e7)+currentQuizData['id']+_0x293998(0x21e)),_0x1eb52b=await getDocs(_0x21147b),_0x22d28e=_0x1eb52b[_0x293998(0x23c)][_0x293998(0x345)](_0x4ad189=>_0x4ad189['data']());if(_0x22d28e[_0x293998(0x757)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x451eaa=document[_0x293998(0x68c)](_0x293998(0x7dc));_0x451eaa[_0x293998(0xa0c)]=_0x293998(0x4d6),document['getElementById']('analyze-strengths-btn')[_0x293998(0x376)]=!![];const _0x37085d=_0x22d28e[_0x293998(0x345)]((_0x4f4de5,_0xf10c18)=>{const _0x1faa72=_0x293998,_0x553a65=_0x4f4de5[_0x1faa72(0x51d)][_0x4f4de5[_0x1faa72(0x51d)]['length']-0x1];if(!_0x553a65)return'';return _0x1faa72(0xbbc)+(_0xf10c18+0x1)+'\x20('+_0x4f4de5[_0x1faa72(0xc53)]+_0x1faa72(0x78e)+_0x553a65[_0x1faa72(0xc54)]+'/'+_0x4f4de5['totalQuestions']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x1faa72(0xace)](_0x553a65['answers'])+_0x1faa72(0x570);})[_0x293998(0x95f)](_0x293998(0x27d)),_0x52c727=_0x293998(0x78d)+currentQuizData[_0x293998(0x72e)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON['stringify'](currentQuizData[_0x293998(0x72b)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37085d+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0xbd75c7={'type':_0x293998(0x192),'properties':{'classStrengths':{'type':_0x293998(0xc77),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x293998(0xc77),'items':{'type':_0x293998(0x4f0)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x293998(0x4f0)}}},'required':[_0x293998(0xa8a),_0x293998(0xcb3),_0x293998(0x980)]};try{const _0x332f98=await callAnalysisApi(_0x52c727,_0xbd75c7);displayClassAnalysis(_0x332f98);}catch(_0x240af0){console[_0x293998(0x4e5)]('Error\x20during\x20class\x20analysis:',_0x240af0),_0x451eaa['innerHTML']=_0x293998(0x92f)+_0x240af0[_0x293998(0x5f3)]+_0x293998(0x412);}finally{document[_0x293998(0x68c)](_0x293998(0x91d))[_0x293998(0x376)]=![];}}function displayClassAnalysis(_0x24254d){const _0x1c3c39=_0x594c14,_0x4d6654=document[_0x1c3c39(0x68c)](_0x1c3c39(0x7dc));if(!_0x24254d){_0x4d6654[_0x1c3c39(0xa0c)]=_0x1c3c39(0x350);return;}_0x4d6654['innerHTML']=_0x1c3c39(0x21a)+_0x24254d[_0x1c3c39(0xa8a)][_0x1c3c39(0x345)](_0x343595=>_0x1c3c39(0x2d8)+_0x343595+_0x1c3c39(0x890))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x24254d[_0x1c3c39(0xcb3)][_0x1c3c39(0x345)](_0x2edd50=>_0x1c3c39(0x2d8)+_0x2edd50+_0x1c3c39(0x890))[_0x1c3c39(0x95f)]('')+_0x1c3c39(0x770)+_0x24254d[_0x1c3c39(0x980)][_0x1c3c39(0x345)](_0x5c10f2=>_0x1c3c39(0x2d8)+_0x5c10f2+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x183011,_0x123d8e){const _0x45ca10=_0x594c14,_0x5c7737=_0x45ca10(0x461)+_0x183011[_0x45ca10(0x72e)]+_0x45ca10(0x197)+_0x183011[_0x45ca10(0x72e)]+_0x45ca10(0xaa8)+_0x183011[_0x45ca10(0x72b)][_0x45ca10(0x345)]((_0x35b632,_0x15c207)=>_0x45ca10(0x1bc)+(_0x15c207+0x1)+'.\x20'+_0x35b632[_0x45ca10(0x77a)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x35b632['imageCode']?_0x45ca10(0x356)+_0x35b632[_0x45ca10(0x1c6)]+_0x45ca10(0x93c):'')+_0x45ca10(0x19f))['join']('')+_0x45ca10(0x347);_0x123d8e[_0x45ca10(0x325)][_0x45ca10(0x526)](_0x5c7737),_0x123d8e[_0x45ca10(0x325)][_0x45ca10(0x63e)](),_0x123d8e['onload']=function(){setTimeout(()=>{const _0x53e7a0=_0x27d0;_0x123d8e[_0x53e7a0(0x816)]();},0x3e8);};}async function generateWorksheet(){const _0x3b8807=_0x594c14,_0x47aa9d=document['getElementById'](_0x3b8807(0x7d7))[_0x3b8807(0x9a1)][_0x3b8807(0x99c)]();if(!_0x47aa9d){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x33c539=document[_0x3b8807(0x68c)](_0x3b8807(0x37c))['checked'],_0x3074a2=_0x33c539?'':_0x3b8807(0x6d1),_0x9412a3=window[_0x3b8807(0x801)]('','_blank');_0x9412a3[_0x3b8807(0x325)]['write'](_0x3b8807(0x6b1));const _0x1f2542=parseInt(document['getElementById'](_0x3b8807(0x6f0))['value']),_0x265229=document[_0x3b8807(0x68c)]('include-images-checkbox')[_0x3b8807(0x9cb)],_0x501545=_0x265229?_0x3b8807(0x8c9):'',_0x424385=_0x3b8807(0xafc)+_0x3074a2+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x1f2542+_0x3b8807(0x365)+_0x47aa9d+_0x3b8807(0x3e3)+_0x501545+_0x3b8807(0xc12)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x10927d={'type':_0x3b8807(0x192),'properties':{'topic':{'type':_0x3b8807(0x4f0)},'questions':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionText':{'type':_0x3b8807(0x4f0)},'imageCode':{'type':'STRING'}},'required':['questionText']}}},'required':['topic','questions']};document[_0x3b8807(0x68c)](_0x3b8807(0x84a))['textContent']='',document[_0x3b8807(0x68c)](_0x3b8807(0xcbf))[_0x3b8807(0x936)][_0x3b8807(0x373)](_0x3b8807(0x1dc)),document['getElementById'](_0x3b8807(0x575))[_0x3b8807(0x936)][_0x3b8807(0x373)](_0x3b8807(0x1dc)),generateWorksheetBtn[_0x3b8807(0x376)]=!![];try{const _0x1b5450=await callAnalysisApi(_0x424385,_0x10927d);formatAndPrintWorksheet(_0x1b5450,_0x9412a3);}catch(_0x1b27af){console['error'](_0x3b8807(0x46c),_0x1b27af);if(_0x9412a3)_0x9412a3['close']();showMessage(_0x3b8807(0x6c8));}finally{document['getElementById']('loader')[_0x3b8807(0x936)][_0x3b8807(0x2de)]('hidden'),document[_0x3b8807(0x68c)](_0x3b8807(0x575))[_0x3b8807(0x936)][_0x3b8807(0x2de)](_0x3b8807(0x1dc)),generateWorksheetBtn[_0x3b8807(0x376)]=![];}}async function callAnalysisApi(_0x3d0662,_0x319a1c){const _0x308a4b=_0x594c14,_0x927bd1={'contents':[{'role':_0x308a4b(0x291),'parts':[{'text':_0x3d0662}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x319a1c}},_0x233aa3='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x5b1460=_0x308a4b(0xa41)+_0x233aa3,_0x5d5541=await fetch(_0x5b1460,{'method':_0x308a4b(0xaad),'headers':{'Content-Type':'application/json'},'body':JSON[_0x308a4b(0xace)](_0x927bd1)});if(!_0x5d5541['ok'])throw new Error(_0x308a4b(0x463)+_0x5d5541['status']);const _0x29731b=await _0x5d5541[_0x308a4b(0x473)]();if(_0x29731b[_0x308a4b(0x7d2)]?.[0x0]?.[_0x308a4b(0x63a)]?.[_0x308a4b(0xc2b)]?.[0x0])return JSON[_0x308a4b(0x60b)](_0x29731b[_0x308a4b(0x7d2)][0x0][_0x308a4b(0x63a)][_0x308a4b(0xc2b)][0x0]['text']);else{let _0x17b97c=_0x308a4b(0x280);if(_0x29731b[_0x308a4b(0x3d3)]?.['blockReason'])_0x17b97c=_0x308a4b(0x2cf)+_0x29731b[_0x308a4b(0x3d3)][_0x308a4b(0x414)]+'.';else _0x29731b['candidates']?.[0x0]?.[_0x308a4b(0xa77)]&&_0x29731b[_0x308a4b(0x7d2)][0x0][_0x308a4b(0xa77)]!==_0x308a4b(0xc4e)&&(_0x17b97c='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x29731b[_0x308a4b(0x7d2)][0x0][_0x308a4b(0xa77)]+'.');console[_0x308a4b(0x4e5)](_0x17b97c,JSON[_0x308a4b(0xace)](_0x29731b));throw new Error(_0x17b97c);}}async function handleStartSyncMode(_0x53fa4b,_0x2cf559=![]){const _0x58401a=_0x594c14,_0x38126e=allQuizzes[_0x58401a(0xad3)](_0x42ab07=>_0x42ab07['id']===_0x53fa4b)||allQuizzesGlobal[_0x58401a(0xad3)](_0x4fcaaa=>_0x4fcaaa['id']===_0x53fa4b);if(!_0x38126e){showMessage(_0x58401a(0xa07));return;}currentQuizData=getShuffledQuiz(_0x38126e);const _0x4fcb0e=Math['floor'](0x3e8+Math[_0x58401a(0x7b8)]()*0x2328)[_0x58401a(0x3d0)]();try{const _0x4949e0=await addDoc(collection(db,'artifacts/'+appId+'/public/data/syncGames'),{'quizId':_0x38126e['id'],'pin':_0x4fcb0e,'status':_0x58401a(0x6c5),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2cf559,'players':{}});currentLiveGameId=_0x4949e0['id'],showView(_0x58401a(0x528)),renderSyncLobbyView(_0x4fcb0e,_0x38126e[_0x58401a(0x72e)]),listenForSyncGameUpdates();}catch(_0x356f74){console[_0x58401a(0x4e5)](_0x58401a(0x689),_0x356f74),showMessage(_0x58401a(0xced));}}function calculateFinalPodiumScores(_0xf742d3){const _0x4a046c=_0x594c14;if(!_0xf742d3||!_0xf742d3[_0x4a046c(0x292)]||!_0xf742d3[_0x4a046c(0xb2c)])return _0xf742d3[_0x4a046c(0xb2c)]||{};const _0x1ba8c6=_0xf742d3[_0x4a046c(0x292)][_0x4a046c(0x72b)][_0x4a046c(0x757)],_0x45f626=JSON['parse'](JSON['stringify'](_0xf742d3['players']));return Object['values'](_0x45f626)[_0x4a046c(0x8be)](_0x397ae3=>{const _0x2f661b=_0x4a046c,_0x52db0f=_0x397ae3['score'];let _0xaa8fb5=_0x52db0f,_0xe53164=0x0;_0xf742d3['isConfidenceScoringEnabled']&&_0x397ae3['answers']&&_0x397ae3[_0x2f661b(0x576)]['forEach'](_0x5f4ca8=>{const _0x19f0cb=_0x2f661b;if(_0x5f4ca8['isCorrect']&&(_0x5f4ca8['wasConfident']===!![]||_0x5f4ca8[_0x19f0cb(0xb80)]===_0x19f0cb(0x894)))_0xe53164+=0x1;else!_0x5f4ca8['isCorrect']&&(_0x5f4ca8[_0x19f0cb(0xb80)]===!![]||_0x5f4ca8['wasConfident']===_0x19f0cb(0x894))&&(_0xe53164-=0x1);}),_0xaa8fb5+=_0xe53164,_0x1ba8c6>0x0&&_0x52db0f===_0x1ba8c6&&(_0xaa8fb5+=0x1,_0x397ae3[_0x2f661b(0x1b8)]=!![]),_0x397ae3['score']=_0xaa8fb5;}),_0x45f626;}function listenForSyncGameUpdates(){const _0x5dee36=_0x594c14;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x2ab736=doc(db,_0x5dee36(0x632)+appId+_0x5dee36(0x5e7),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x2ab736,_0x253425=>{const _0x416c8a=_0x5dee36;if(!_0x253425[_0x416c8a(0x367)]()){sessionStorage['removeItem']('activeGameSession');if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x416c8a(0x572));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x416c8a(0x6ab)):showView('student');return;}const _0x440420=_0x253425[_0x416c8a(0x21d)]();currentMode===_0x416c8a(0x50a)?updateAdminSyncView(_0x440420):updateStudentSyncView(_0x440420);});}function renderSyncLobbyView(_0x3c24b4,_0x419f37){const _0x12d811=_0x594c14;liveGameView['innerHTML']=_0x12d811(0x907)+_0x419f37+_0x12d811(0x9a3)+_0x3c24b4+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x12e213=document[_0x12d811(0x68c)](_0x12d811(0xb38)),_0x43abdc=document[_0x12d811(0x68c)](_0x12d811(0x299));_0x12e213['addEventListener'](_0x12d811(0x5b4),()=>{const _0x2e6b56=_0x12d811;_0x43abdc[_0x2e6b56(0x62a)]['display']=_0x12e213['checked']?_0x2e6b56(0x2f1):_0x2e6b56(0xa9b);}),document[_0x12d811(0x68c)](_0x12d811(0x68e))[_0x12d811(0x7a0)](_0x12d811(0xc83),async()=>{const _0x51a023=_0x12d811,_0x35fbef=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x19550f=document[_0x51a023(0x68c)](_0x51a023(0xb38))[_0x51a023(0x9cb)];await updateDoc(_0x35fbef,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x19550f});});}function updateAdminSyncView(_0x586bec){const _0x4cf9a3=_0x594c14;switch(_0x586bec['status']){case _0x4cf9a3(0x6c5):renderSyncLobbyView(_0x586bec['pin'],_0x586bec[_0x4cf9a3(0x292)]['topic']);const _0x3591a3=Object['entries'](_0x586bec[_0x4cf9a3(0xb2c)]||{})['filter'](([_0x32d4fd,_0x11d77b])=>_0x11d77b[_0x4cf9a3(0xb9c)]!=='inactive');document[_0x4cf9a3(0x68c)](_0x4cf9a3(0xcae))[_0x4cf9a3(0xb4b)]=_0x3591a3[_0x4cf9a3(0x757)],document[_0x4cf9a3(0x68c)](_0x4cf9a3(0x93e))[_0x4cf9a3(0xa0c)]=_0x3591a3[_0x4cf9a3(0x345)](([_0x520ead,_0xe9fa31])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x520ead+_0x4cf9a3(0x2ae)+_0x520ead+_0x4cf9a3(0x97a))[_0x4cf9a3(0x95f)]('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document[_0x4cf9a3(0x68c)](_0x4cf9a3(0x68e))['disabled']=_0x3591a3[_0x4cf9a3(0x757)]===0x0;break;case _0x4cf9a3(0x72a):const _0x597288=Object['values'](_0x586bec[_0x4cf9a3(0xb2c)]||{})[_0x4cf9a3(0x298)](_0x34e716=>_0x34e716['status']!==_0x4cf9a3(0x715)),_0x347229=_0x597288[_0x4cf9a3(0x298)](_0x8c2570=>_0x8c2570[_0x4cf9a3(0x874)])[_0x4cf9a3(0x757)],_0x2e6c78=_0x347229===_0x597288['length']&&_0x597288[_0x4cf9a3(0x757)]>0x0;if(_0x2e6c78&&_0x586bec[_0x4cf9a3(0xb9c)]==='question'){const _0x5275c6=doc(db,_0x4cf9a3(0x632)+appId+_0x4cf9a3(0x5e7),currentLiveGameId);updateDoc(_0x5275c6,{'status':'summary'});}else{if(document[_0x4cf9a3(0x68c)](_0x4cf9a3(0x37e))===null)renderAdminSyncQuestionView(_0x586bec);else{const _0x48c25c=document[_0x4cf9a3(0x68c)]('answer-counter');_0x48c25c&&(_0x48c25c['textContent']=_0x347229+'/'+_0x597288[_0x4cf9a3(0x757)]);const _0x436ac3=document['getElementById'](_0x4cf9a3(0xc57));_0x436ac3&&(_0x436ac3[_0x4cf9a3(0xa0c)]=_0x597288[_0x4cf9a3(0x345)](_0x2b62d3=>{const _0x33efa3=_0x4cf9a3,_0x10cc03=_0x2b62d3[_0x33efa3(0x874)]?_0x33efa3(0x6cf):_0x33efa3(0xa5e),_0x360fa1=_0x2b62d3[_0x33efa3(0x874)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x33efa3(0x445);return _0x33efa3(0xa71)+_0x10cc03+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x360fa1+_0x33efa3(0x87d)+_0x2b62d3['name']+_0x33efa3(0x68d)+_0x2b62d3[_0x33efa3(0xb31)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''));}}break;case'summary':const _0x8cf406=_0x586bec[_0x4cf9a3(0xa9c)],_0x161ef5=_0x586bec[_0x4cf9a3(0x292)]['questions'][_0x8cf406];renderSyncSummaryView(_0x586bec,_0x161ef5,!![]);break;case _0x4cf9a3(0x51f):renderAdminSyncDashboard(_0x586bec,!![]);break;case _0x4cf9a3(0x3b2):_0x586bec[_0x4cf9a3(0xbb4)]&&saveGameResultsAsSubmissions(_0x586bec);sessionStorage[_0x4cf9a3(0x3ca)](_0x4cf9a3(0x579));const _0x4112b9=calculateFinalPodiumScores(_0x586bec);showPodiumView(_0x4112b9,_0x4cf9a3(0x7c1));break;}}function renderAdminSyncQuestionView(_0x301129){const _0x265b5b=_0x594c14,_0x42df49=_0x301129[_0x265b5b(0xa9c)],_0x10ea4c=_0x301129[_0x265b5b(0x292)][_0x265b5b(0x72b)][_0x42df49],_0x3bfbc4=_0x301129[_0x265b5b(0x292)][_0x265b5b(0x72b)][_0x265b5b(0x757)],_0x4d44da=Object[_0x265b5b(0x694)](_0x301129[_0x265b5b(0xb2c)]||{})[_0x265b5b(0x298)](_0x391f03=>_0x391f03['status']!==_0x265b5b(0x715)),_0x126afe=_0x4d44da[_0x265b5b(0x298)](_0x2a3090=>_0x2a3090['answered'])['length'],_0x3a0138=_0x126afe===_0x4d44da[_0x265b5b(0x757)]&&_0x4d44da[_0x265b5b(0x757)]>0x0,_0x3e2118=(_0x10ea4c[_0x265b5b(0x9ac)]||[])[_0x265b5b(0x345)](_0x2f9d62=>_0x265b5b(0x8af)+_0x2f9d62+_0x265b5b(0x93c))[_0x265b5b(0x95f)]('');liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x42df49+0x1)+_0x265b5b(0x431)+_0x3bfbc4+_0x265b5b(0x5fb)+_0x126afe+'/'+_0x4d44da[_0x265b5b(0x757)]+'</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x10ea4c[_0x265b5b(0x77a)]+_0x265b5b(0x474)+_0x3e2118+_0x265b5b(0x639)+(!_0x3a0138?'disabled':'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window['MathJax'])MathJax['typesetPromise']();document[_0x265b5b(0x68c)](_0x265b5b(0x5a5))[_0x265b5b(0x7a0)](_0x265b5b(0xc83),async()=>{const _0x156070=_0x265b5b,_0x21eeb4=doc(db,'artifacts/'+appId+_0x156070(0x5e7),currentLiveGameId);await updateDoc(_0x21eeb4,{'status':'results'});}),document[_0x265b5b(0x68c)]('open-sync-scratchpad-btn')[_0x265b5b(0xbf9)]=()=>{const _0x59a025=_0x265b5b;openScratchpad(_0x10ea4c,_0x10ea4c[_0x59a025(0x9ac)]||[]);},document['getElementById'](_0x265b5b(0xc91))['addEventListener']('click',()=>{const _0x2aeb6e=_0x265b5b;document['getElementById'](_0x2aeb6e(0x37e))[_0x2aeb6e(0x936)][_0x2aeb6e(0x34a)](_0x2aeb6e(0x1dc));});}function renderSyncLeaderboardView(_0x31e040,_0x1e4f1a){const _0x113cac=_0x594c14,_0x42c644=Object[_0x113cac(0x694)](_0x31e040[_0x113cac(0xb2c)]||{});_0x42c644['sort']((_0x2c3d4b,_0x5afbc3)=>_0x5afbc3[_0x113cac(0xc54)]-_0x2c3d4b[_0x113cac(0xc54)]);const _0x207115=_0x42c644[_0x113cac(0xc6f)](0x0,0x5);let _0x3f79da='';if(_0x1e4f1a){const _0x141bb6=_0x31e040[_0x113cac(0xa9c)]>=_0x31e040[_0x113cac(0x292)]['questions'][_0x113cac(0x757)]-0x1;_0x3f79da=_0x113cac(0x880)+(_0x141bb6?_0x113cac(0x653):_0x113cac(0x3c0))+_0x113cac(0xab1);}else _0x3f79da=_0x113cac(0x489);liveGameView[_0x113cac(0xa0c)]=_0x113cac(0x3df)+_0x207115[_0x113cac(0x345)]((_0x816f0a,_0x5d4440)=>_0x113cac(0xa6e)+(_0x5d4440+0x1)+'.\x20'+_0x816f0a['name']+_0x113cac(0x84c)+_0x816f0a['score']+_0x113cac(0x447))[_0x113cac(0x95f)]('')+_0x113cac(0x2cc)+_0x3f79da+_0x113cac(0xa26),_0x1e4f1a&&document[_0x113cac(0x68c)](_0x113cac(0x753))[_0x113cac(0x7a0)](_0x113cac(0xc83),async()=>{const _0x39b5d4=_0x113cac,_0x508682=doc(db,_0x39b5d4(0x632)+appId+_0x39b5d4(0x5e7),currentLiveGameId),_0x4ef5bb=_0x31e040[_0x39b5d4(0xa9c)]+0x1;if(_0x4ef5bb<_0x31e040['shuffledQuiz'][_0x39b5d4(0x72b)][_0x39b5d4(0x757)]){const _0x5ea785={};Object['keys'](_0x31e040[_0x39b5d4(0xb2c)])[_0x39b5d4(0x8be)](_0x3d8bd3=>{const _0x9d4b70=_0x39b5d4;_0x5ea785[_0x9d4b70(0x6c7)+_0x3d8bd3+_0x9d4b70(0x6aa)]=![];}),await updateDoc(_0x508682,{..._0x5ea785,'status':'question','currentQuestionIndex':_0x4ef5bb,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x508682,{'status':_0x39b5d4(0x3b2)});});}async function handleJoinSyncGame(){const _0x17c677=_0x594c14,_0x3c16a3=prompt(_0x17c677(0x2e6));if(!_0x3c16a3||_0x3c16a3[_0x17c677(0x99c)]()[_0x17c677(0x757)]!==0x2){showMessage(_0x17c677(0x4fa));return;}try{const _0x10ddb6=collection(db,'artifacts/'+appId+_0x17c677(0x5e7)),_0x3d1f1=query(_0x10ddb6,where(_0x17c677(0x56e),'==',_0x3c16a3[_0x17c677(0x99c)]()),where(_0x17c677(0xb9c),'==',_0x17c677(0x6c5))),_0xeb5c8c=await getDocs(_0x3d1f1);if(_0xeb5c8c['empty']){showMessage(_0x17c677(0x6b3));return;}const _0x3735cf=_0xeb5c8c[_0x17c677(0x23c)][0x0];currentLiveGameId=_0x3735cf['id'];const _0x4f0d90=_0x3735cf['data'](),_0x35f1e7=doc(db,_0x17c677(0x632)+appId+_0x17c677(0x21f),_0x4f0d90['quizId']),_0x3f1265=await getDoc(_0x35f1e7);if(!_0x3f1265[_0x17c677(0x367)]())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x1763d5=_0x3f1265[_0x17c677(0x21d)](),_0xfb6161=doc(db,'artifacts/'+appId+_0x17c677(0x29a),_0x1763d5[_0x17c677(0x618)]),_0x5bb22a=await getDoc(_0xfb6161);if(!_0x5bb22a[_0x17c677(0x367)]())throw new Error(_0x17c677(0x31f));currentQuizData=_0x4f0d90[_0x17c677(0x292)];const _0x1219a0=_0x5bb22a[_0x17c677(0x21d)]();showView(_0x17c677(0xa65)),showTeamPlayerSelection(_0x1219a0['students'],_0x1763d5[_0x17c677(0x72e)]);const _0x308c91=document[_0x17c677(0x68c)](_0x17c677(0xaca));_0x308c91['onclick']=confirmAndJoinSyncGame;}catch(_0x18bae5){console[_0x17c677(0x4e5)](_0x17c677(0xaf1),_0x18bae5),showMessage(_0x17c677(0x3ea)+_0x18bae5['message']);}}function updateStudentSyncView(_0x3b1afa){const _0x49106a=_0x594c14,_0x5d89d2=_0x3b1afa[_0x49106a(0xb2c)][localTeamPlayers[0x0]];switch(_0x3b1afa[_0x49106a(0xb9c)]){case _0x49106a(0x6c5):showView(_0x49106a(0x528)),liveGameView[_0x49106a(0xa0c)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case _0x49106a(0x72a):const _0x1d0329=localTeamPlayers[_0x49106a(0x4fc)](_0x52c109=>_0x3b1afa[_0x49106a(0xb2c)][_0x52c109]?.[_0x49106a(0x874)]===!![]);_0x1d0329?liveGameView[_0x49106a(0xa0c)]=_0x49106a(0x6a9):renderStudentSyncQuestionView(_0x3b1afa);break;case _0x49106a(0x339):liveGameView[_0x49106a(0xa0c)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x49106a(0x51f):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x3b1afa);break;case _0x49106a(0x3b2):sessionStorage['removeItem']('activeGameSession');const _0x18dd54=calculateFinalPodiumScores(_0x3b1afa);showPodiumView(_0x18dd54,_0x49106a(0x7c1));break;}}function renderStudentSyncResultsView(_0x4bc29a){const _0x2c210e=_0x594c14,_0x5ba4fc=localTeamPlayers[_0x2c210e(0x345)](_0x32093e=>_0x4bc29a[_0x2c210e(0xb2c)][_0x32093e])[_0x2c210e(0x298)](Boolean);_0x5ba4fc[_0x2c210e(0x387)]((_0x29d3c7,_0x85a073)=>(_0x85a073['score']||0x0)-(_0x29d3c7[_0x2c210e(0xc54)]||0x0));const _0x4bcdc9=_0x4bc29a[_0x2c210e(0xa9c)]>=_0x4bc29a[_0x2c210e(0x292)][_0x2c210e(0x72b)][_0x2c210e(0x757)]-0x1;let _0x2d8302='';_0x4bcdc9?_0x2d8302=_0x2c210e(0x1f1):_0x2d8302='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x3f42ae=_0x2c210e(0xa5f)+_0x5ba4fc[_0x2c210e(0x345)]((_0x2780c2,_0x541797)=>_0x2c210e(0x5f1)+(_0x541797+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2780c2[_0x2c210e(0xb31)]+_0x2c210e(0x199)+_0x2780c2[_0x2c210e(0xc54)]+_0x2c210e(0x7fe))[_0x2c210e(0x95f)]('')+_0x2c210e(0x6cc)+_0x2d8302+_0x2c210e(0x853);liveGameView[_0x2c210e(0xa0c)]=_0x3f42ae;}function renderStudentSyncQuestionView(_0x4c6d61){const _0x4f71f9=_0x594c14;while(localPlayerTurnIndex<localTeamPlayers[_0x4f71f9(0x757)]&&_0x4c6d61[_0x4f71f9(0xb2c)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x4f71f9(0x874)]===!![]){localPlayerTurnIndex++;}const _0x4c7c77=localTeamPlayers[localPlayerTurnIndex];if(!_0x4c7c77)return;const _0x51ad89=_0x4c6d61[_0x4f71f9(0xa9c)],_0x3ea628=_0x4c6d61[_0x4f71f9(0x292)][_0x4f71f9(0x72b)][_0x4f71f9(0x757)],_0x4e6c50=_0x4c6d61[_0x4f71f9(0x292)][_0x4f71f9(0x72b)][_0x51ad89],_0x131c9d=_0x4e6c50[_0x4f71f9(0x7cd)]||_0x4c6d61[_0x4f71f9(0x292)][_0x4f71f9(0x9c1)];let _0x4b4c14='',_0x32606c=![];switch(_0x131c9d){case _0x4f71f9(0x8b0):_0x4b4c14=_0x4f71f9(0x462);break;case _0x4f71f9(0xa97):case _0x4f71f9(0xcb5):_0x32606c=!![],_0x4b4c14=_0x4f71f9(0x725);break;case _0x4f71f9(0x37f):_0x32606c=!![],_0x4b4c14='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4e6c50['allResponses']||[])[_0x4f71f9(0x345)](_0x281cf7=>'<option\x20value=\x22'+_0x281cf7+'\x22>'+_0x281cf7+'</option>')[_0x4f71f9(0x95f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4f71f9(0x69d):default:_0x4b4c14=(_0x4e6c50[_0x4f71f9(0x9ac)]||[])[_0x4f71f9(0x345)]((_0x508a0e,_0x4948a7)=>'<button\x20data-value=\x22'+_0x4948a7+_0x4f71f9(0xb60)+_0x508a0e+'</button>')[_0x4f71f9(0x95f)]('');break;}liveGameView[_0x4f71f9(0xa0c)]=_0x4f71f9(0x226)+(_0x51ad89+0x1)+_0x4f71f9(0x431)+_0x3ea628+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0x4c7c77+_0x4f71f9(0x8bb)+(_0x4e6c50[_0x4f71f9(0x77a)]||_0x4e6c50[_0x4f71f9(0x346)])+_0x4f71f9(0xa7c)+_0x4b4c14+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(window[_0x4f71f9(0x8e9)])MathJax[_0x4f71f9(0x2e2)]();function _0x15c343(_0x19d10f,_0x313546,_0x4a74ff,_0x22d55d){const _0x1d1022=_0x4f71f9,_0x3cda33=_0x4a74ff['isConfidenceScoringEnabled']===!![];if(_0x3cda33){document[_0x1d1022(0x68c)](_0x1d1022(0x1be))[_0x1d1022(0x7f1)][_0x1d1022(0xb63)]=_0x1d1022(0x7c1);const _0x34c49f=document[_0x1d1022(0x68c)]('selected-answer-index-hidden');_0x34c49f[_0x1d1022(0x7f1)]['answerValue']=_0x19d10f,_0x34c49f[_0x1d1022(0x7f1)][_0x1d1022(0x72a)]=JSON[_0x1d1022(0xace)](_0x313546),_0x34c49f[_0x1d1022(0x7f1)]['gameData']=JSON['stringify'](_0x4a74ff),_0x34c49f['dataset'][_0x1d1022(0xaa7)]=_0x22d55d,document[_0x1d1022(0x68c)]('confidence-modal')[_0x1d1022(0x936)][_0x1d1022(0x373)]('hidden');}else handleSyncAnswerSubmit(_0x19d10f,_0x313546,_0x4a74ff,_0x22d55d,![]);}_0x32606c?document[_0x4f71f9(0x68c)](_0x4f71f9(0x600))[_0x4f71f9(0x7a0)](_0x4f71f9(0xc83),()=>{const _0x1b9702=_0x4f71f9,_0x221015=document[_0x1b9702(0x68c)](_0x1b9702(0xa1a))||document[_0x1b9702(0x68c)](_0x1b9702(0x83a));if(_0x221015[_0x1b9702(0x9a1)][_0x1b9702(0x99c)]()===''){showMessage(_0x1b9702(0x2bc));return;}_0x15c343(_0x221015[_0x1b9702(0x9a1)],_0x4e6c50,_0x4c6d61,_0x4c7c77);}):document[_0x4f71f9(0x9c3)](_0x4f71f9(0x4b7))[_0x4f71f9(0x8be)](_0x38f18e=>{const _0x5e70a9=_0x4f71f9;_0x38f18e[_0x5e70a9(0x7a0)](_0x5e70a9(0xc83),()=>{const _0x2aca0b=_0x5e70a9;_0x15c343(_0x38f18e['dataset'][_0x2aca0b(0x9a1)],_0x4e6c50,_0x4c6d61,_0x4c7c77);});});}async function handleSyncAnswerSubmit(_0x4c835c,_0x34c36d,_0x23b109,_0x26dc5c,_0x1ef448){const _0xa8df1d=_0x594c14;document[_0xa8df1d(0x9c3)]('.live-answer-btn,\x20#sync-submit-btn')[_0xa8df1d(0x8be)](_0x1b2277=>_0x1b2277['disabled']=!![]);const _0x436bfa=_0x34c36d[_0xa8df1d(0x7cd)]||_0x23b109[_0xa8df1d(0x292)][_0xa8df1d(0x9c1)];let _0x2b74fe=![],_0x2090cd=_0x4c835c;switch(_0x436bfa){case _0xa8df1d(0x8b0):const _0x42f5af=parseInt(_0x4c835c),_0x195663=_0x34c36d[_0xa8df1d(0xbfb)]===!![]||String(_0x34c36d[_0xa8df1d(0xbfb)])['toLowerCase']()===_0xa8df1d(0x300);_0x2b74fe=_0x42f5af===0x0&&_0x195663||_0x42f5af===0x1&&!_0x195663,_0x2090cd=_0x42f5af===0x0?_0xa8df1d(0x8ef):_0xa8df1d(0xcf8);break;case _0xa8df1d(0xa97):case _0xa8df1d(0xcb5):_0x2b74fe=await gradeShortAnswer(_0x4c835c,_0x34c36d);break;case'matching_item':_0x2b74fe=_0x4c835c===_0x34c36d['correctResponse'];break;case _0xa8df1d(0x69d):default:const _0x1e8080=parseInt(_0x4c835c);_0x2b74fe=_0x1e8080===_0x34c36d['correctAnswerIndex'];_0x34c36d[_0xa8df1d(0x9ac)]&&_0x34c36d[_0xa8df1d(0x9ac)][_0x1e8080]&&(_0x2090cd=_0x34c36d['options'][_0x1e8080]);break;}const _0x36253e=_0x2b74fe?0x1:0x0,_0xc27e4b=doc(db,_0xa8df1d(0x632)+appId+_0xa8df1d(0x5e7),currentLiveGameId),_0x1e9905={};_0x1e9905[_0xa8df1d(0x6c7)+_0x26dc5c+_0xa8df1d(0xa0f)]=increment(_0x36253e),_0x1e9905[_0xa8df1d(0x6c7)+_0x26dc5c+'.answered']=!![];let _0x5ce4b6=null;(_0x436bfa===_0xa8df1d(0x69d)||_0x436bfa==='true_false'||_0x436bfa===_0xa8df1d(0x73d))&&(_0x5ce4b6=parseInt(_0x4c835c));_0x1e9905[_0xa8df1d(0x6c7)+_0x26dc5c+_0xa8df1d(0x7da)]=_0x5ce4b6;const _0x51017b={'questionIndex':_0x23b109[_0xa8df1d(0xa9c)],'questionId':_0x34c36d['id'],'answer':_0x4c835c,'answerText':_0x2090cd,'isCorrect':_0x2b74fe,'originalQuestionText':_0x34c36d[_0xa8df1d(0x77a)]||_0x34c36d[_0xa8df1d(0x346)],'wasConfident':_0x1ef448};_0x1e9905[_0xa8df1d(0x6c7)+_0x26dc5c+_0xa8df1d(0x1a5)]=arrayUnion(_0x51017b),await updateDoc(_0xc27e4b,_0x1e9905);}initialize();
